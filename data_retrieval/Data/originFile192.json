{"items":[{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1694428045,"post_id":77080811,"comment_id":135885089,"body_markdown":"`#setTranslateX` sets up the amount to move the element on the next render, but you&#39;re continually feeding it the original node&#39;s position (as an offset, mind you). So it will continually want to &quot;jump&quot; that little bit of the original position. Perhaps you meant to set the actual position. or do a calculation of that position minus the previous coordinates?","body":"<code>#setTranslateX</code> sets up the amount to move the element on the next render, but you&#39;re continually feeding it the original node&#39;s position (as an offset, mind you). So it will continually want to &quot;jump&quot; that little bit of the original position. Perhaps you meant to set the actual position. or do a calculation of that position minus the previous coordinates?"}],"answers":[{"tags":[],"owner":{"display_name":"user22391295"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694430133,"creation_date":1694430133,"answer_id":77081071,"question_id":77080811,"body_markdown":"Consider using a scene-relative mouse coordinate then adjust the translation base on the mouse delta.\r\n\r\nWhy you get that kind of behavior is because on how the event **getX()** and **getY()** values are being used. Those values are the origin of the source node of the **MouseEvent** not in the scene.\r\n\r\n\r\ntry doing like this. see if this helps.\r\n\r\n    public void NodeMakeDraggable(Node node, String id)\r\n    {\r\n        node.setId(id);\r\n        node.toFront();\r\n    \r\n        final Delta dragDelta = new Delta(); //delta class\r\n        \r\n        node.setOnMousePressed(new EventHandler&lt;MouseEvent&gt;() \r\n        {\r\n            @Override public void handle(MouseEvent event) \r\n            {\r\n                dragDelta.x = node.getTranslateX() - event.getSceneX();\r\n                dragDelta.y = node.getTranslateY() - event.getSceneY();\r\n                node.getScene().setCursor(Cursor.MOVE);\r\n            }\r\n        });\r\n    \r\n        node.setOnMouseReleased(new EventHandler&lt;MouseEvent&gt;() \r\n        {\r\n            @Override public void handle(MouseEvent event) \r\n            {\r\n                node.setTranslateX(dragDelta.x + event.getSceneX());\r\n                node.setTranslateY(dragDelta.y + event.getSceneY());\r\n                node.getScene().setCursor(Cursor.DEFAULT);\r\n            }\r\n        });\r\n    \r\n        node.setOnMouseDragged(new EventHandler&lt;MouseEvent&gt;() \r\n        {\r\n            @Override public void handle(MouseEvent event) \r\n            {\r\n                node.setTranslateX(dragDelta.x + event.getSceneX());\r\n                node.setTranslateY(dragDelta.y + event.getSceneY());\r\n            }\r\n        });\r\n    }\r\n    \r\n    // hold x and y values\r\n    private class Delta { double x, y; }","title":"MouseEvent &quot;GetX&quot; &amp; &quot;GetY&quot; Returning Alternating Values","body":"<p>Consider using a scene-relative mouse coordinate then adjust the translation base on the mouse delta.</p>\n<p>Why you get that kind of behavior is because on how the event <strong>getX()</strong> and <strong>getY()</strong> values are being used. Those values are the origin of the source node of the <strong>MouseEvent</strong> not in the scene.</p>\n<p>try doing like this. see if this helps.</p>\n<pre><code>public void NodeMakeDraggable(Node node, String id)\n{\n    node.setId(id);\n    node.toFront();\n\n    final Delta dragDelta = new Delta(); //delta class\n    \n    node.setOnMousePressed(new EventHandler&lt;MouseEvent&gt;() \n    {\n        @Override public void handle(MouseEvent event) \n        {\n            dragDelta.x = node.getTranslateX() - event.getSceneX();\n            dragDelta.y = node.getTranslateY() - event.getSceneY();\n            node.getScene().setCursor(Cursor.MOVE);\n        }\n    });\n\n    node.setOnMouseReleased(new EventHandler&lt;MouseEvent&gt;() \n    {\n        @Override public void handle(MouseEvent event) \n        {\n            node.setTranslateX(dragDelta.x + event.getSceneX());\n            node.setTranslateY(dragDelta.y + event.getSceneY());\n            node.getScene().setCursor(Cursor.DEFAULT);\n        }\n    });\n\n    node.setOnMouseDragged(new EventHandler&lt;MouseEvent&gt;() \n    {\n        @Override public void handle(MouseEvent event) \n        {\n            node.setTranslateX(dragDelta.x + event.getSceneX());\n            node.setTranslateY(dragDelta.y + event.getSceneY());\n        }\n    });\n}\n\n// hold x and y values\nprivate class Delta { double x, y; }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1694456089,"creation_date":1694437607,"answer_id":77081924,"question_id":77080811,"body_markdown":"There are two things to know in order to understand why you are getting the behavior you&#39;re getting:\r\n\r\n1.  `MouseEvent.getX()` and `MouseEvent.getY()` give you the coordinates of the mouse event (i.e. the coordinates of the position of the mouse) *in the coordinate system of the source of the event* (i.e. the `Label`). So `getX()` and `getY()` will be relative to the current position of the `Label`.\r\n2. `translateX` and `translateY` are *properties* (so setting them will just change their value, and replace any previous value) which determine the amount the `Label` is moved from its layout position (essentially its original position).\r\n\r\nWhen you do\r\n\r\n    node.setTranslateX(event.getX());\r\n    node.setTranslateY(event.getY());\r\n\r\nyou will move the node so its origin (top left) is at the same position as the mouse. If you could evaluate `getX()` and `getY()` for a new mouse event immediately after this, you would necessarily get `0` for both (because you have moved the node so its origin is where the mouse is).\r\n\r\nTo make this concrete, suppose the user clicks on the label at a position that is 11 pixels right and 8 pixels down from the top left of the label, and drags at a speed such that the mouse has moved one pixel right and one pixel down each time a drag event is detected. (This setup gives behavior similar to the values you see.)\r\n\r\nThis means the first drag event will occur with `getX()` returning `12` and `getY()` returning `9`. So you call\r\n\r\n```\r\nnode.setTranslateX(12);\r\nnode.setTranslateY(9);\r\n```\r\n\r\nwhich, as described above, moves the node so its top left is at the mouse cursor. (So now the mouse is at `(0,0)` relative to the node.) \r\n\r\nThe next drag event occurs after the mouse has moved right one pixel and down one pixel, so on that drag event `getX()` and `getY()` both return `1`. So now you call\r\n\r\n```\r\nnode.setTranslateX(1);\r\nnode.setTranslateY(1);\r\n```\r\n\r\nwhich moves the node back almost to its original position (just moved by one pixel right and down). If you could evaluate the position of the mouse relative to the node after this translation, you would get `(12,9)`: the mouse started at `(11,8)`, has moved two pixels right and down, and the node is moved one pixel right and down.\r\n\r\nOn the third drag event, the mouse moves a further pixel right and down, so `getX()` returns `13` and `getY()` returns `10`. You then call\r\n\r\n```\r\nnode.setTranslateX(13);\r\nnode.setTranslateY(10);\r\n```\r\n\r\nwhich again moves the origin of the node to the position of the mouse. So on the next drag event, the mouse has moved one pixel right and down relative to the node, and so `getX()` and `getY()` both return `1` again, so you move the node back almost to its original position.\r\n\r\nAnd so it continues. Notice how you are alternately moving the node to under the mouse and moving it back close to its original position, creating the flickering you see, and creating the alternating values in your log.\r\n\r\n[User vv provides one solution](https://stackoverflow.com/a/77081071/2189127) where you keep track of the coordinates of the node relative to the scene, which works. That isn&#39;t really necessary though; here is another solution.\r\n\r\nThe key point is that if you are dragging a node smoothly, the mouse will always remain in the same position relative to the node. Then the idea is to record where the mouse is originally pressed, and when the mouse is dragged move the node so that the mouse is back in the same relative position.\r\n\r\nSo the strategy is:\r\n\r\n1. Record the coordinates of the mouse relative to the node when the mouse is pressed.\r\n2. On a mouse drag, measure how far the mouse has moved relative to its pressed coordinates.\r\n3. Update the `translateX` and `translateY` coordinates by adding those differences to them. This will move the node so the mouse remains at the same relative coordinates.\r\n\r\nIn the example described above, we would record on the mouse click that it occurred at `(11,8)`. The first mouse drag gives coordinates of `(12,9)`. We want to move the node so that the mouse is again at `(11,8)`, so we *increase* `translateX` by `12 - 11 = 1` and *increase* `translateY` by `9 - 8 = 1`:\r\n\r\n```\r\ndouble deltaX = event.getX() - mouseDownLocation.x;\r\nnode.setTranslateX(node.getTranslateX() + deltaX);\r\n\r\ndouble deltaY = event.getY() - mouseDownLocation.y;\r\nnode.setTranslateY(node.getTranslateY() + deltaY);\r\n```\r\n\r\nHere is an implementation and example:\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Insets;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.layout.Background;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.stage.Stage;\r\n\r\npublic class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) {\r\n        VBox root = new VBox();\r\n        root.setPadding(new Insets(20));\r\n        root.setAlignment(Pos.CENTER);\r\n\r\n        Label label = new Label(&quot;Label&quot;);\r\n        label.setPadding(new Insets(5));\r\n        label.setBackground(Background.fill(Color.LIMEGREEN));\r\n        root.getChildren().add(label);\r\n\r\n        makeNodeDraggable(label);\r\n\r\n        Scene scene = new Scene(root, 400, 400);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    private void makeNodeDraggable(Node node) {\r\n        var mouseDownLocation = new Object() { double x, y; };\r\n        \r\n        double originalTranslateX = node.getTranslateX();\r\n        double originalTranslateY = node.getTranslateY();\r\n\r\n        node.setOnMousePressed(e -&gt; {\r\n            mouseDownLocation.x = e.getX();\r\n            mouseDownLocation.y = e.getY();\r\n        });\r\n\r\n        node.setOnMouseDragged(e -&gt; {\r\n            double deltaX = e.getX() - mouseDownLocation.x;\r\n            node.setTranslateX(node.getTranslateX() + deltaX);\r\n            double deltaY = e.getY() - mouseDownLocation.y;\r\n            node.setTranslateY(node.getTranslateY() + deltaY);\r\n        });\r\n\r\n        // return to original position on release:\r\n        node.setOnMouseReleased(e -&gt; {\r\n            node.setTranslateX(originalTranslateX);\r\n            node.setTranslateY(originalTranslateY);\r\n        });\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\n","title":"MouseEvent &quot;GetX&quot; &amp; &quot;GetY&quot; Returning Alternating Values","body":"<p>There are two things to know in order to understand why you are getting the behavior you're getting:</p>\n<ol>\n<li><code>MouseEvent.getX()</code> and <code>MouseEvent.getY()</code> give you the coordinates of the mouse event (i.e. the coordinates of the position of the mouse) <em>in the coordinate system of the source of the event</em> (i.e. the <code>Label</code>). So <code>getX()</code> and <code>getY()</code> will be relative to the current position of the <code>Label</code>.</li>\n<li><code>translateX</code> and <code>translateY</code> are <em>properties</em> (so setting them will just change their value, and replace any previous value) which determine the amount the <code>Label</code> is moved from its layout position (essentially its original position).</li>\n</ol>\n<p>When you do</p>\n<pre><code>node.setTranslateX(event.getX());\nnode.setTranslateY(event.getY());\n</code></pre>\n<p>you will move the node so its origin (top left) is at the same position as the mouse. If you could evaluate <code>getX()</code> and <code>getY()</code> for a new mouse event immediately after this, you would necessarily get <code>0</code> for both (because you have moved the node so its origin is where the mouse is).</p>\n<p>To make this concrete, suppose the user clicks on the label at a position that is 11 pixels right and 8 pixels down from the top left of the label, and drags at a speed such that the mouse has moved one pixel right and one pixel down each time a drag event is detected. (This setup gives behavior similar to the values you see.)</p>\n<p>This means the first drag event will occur with <code>getX()</code> returning <code>12</code> and <code>getY()</code> returning <code>9</code>. So you call</p>\n<pre><code>node.setTranslateX(12);\nnode.setTranslateY(9);\n</code></pre>\n<p>which, as described above, moves the node so its top left is at the mouse cursor. (So now the mouse is at <code>(0,0)</code> relative to the node.)</p>\n<p>The next drag event occurs after the mouse has moved right one pixel and down one pixel, so on that drag event <code>getX()</code> and <code>getY()</code> both return <code>1</code>. So now you call</p>\n<pre><code>node.setTranslateX(1);\nnode.setTranslateY(1);\n</code></pre>\n<p>which moves the node back almost to its original position (just moved by one pixel right and down). If you could evaluate the position of the mouse relative to the node after this translation, you would get <code>(12,9)</code>: the mouse started at <code>(11,8)</code>, has moved two pixels right and down, and the node is moved one pixel right and down.</p>\n<p>On the third drag event, the mouse moves a further pixel right and down, so <code>getX()</code> returns <code>13</code> and <code>getY()</code> returns <code>10</code>. You then call</p>\n<pre><code>node.setTranslateX(13);\nnode.setTranslateY(10);\n</code></pre>\n<p>which again moves the origin of the node to the position of the mouse. So on the next drag event, the mouse has moved one pixel right and down relative to the node, and so <code>getX()</code> and <code>getY()</code> both return <code>1</code> again, so you move the node back almost to its original position.</p>\n<p>And so it continues. Notice how you are alternately moving the node to under the mouse and moving it back close to its original position, creating the flickering you see, and creating the alternating values in your log.</p>\n<p><a href=\"https://stackoverflow.com/a/77081071/2189127\">User vv provides one solution</a> where you keep track of the coordinates of the node relative to the scene, which works. That isn't really necessary though; here is another solution.</p>\n<p>The key point is that if you are dragging a node smoothly, the mouse will always remain in the same position relative to the node. Then the idea is to record where the mouse is originally pressed, and when the mouse is dragged move the node so that the mouse is back in the same relative position.</p>\n<p>So the strategy is:</p>\n<ol>\n<li>Record the coordinates of the mouse relative to the node when the mouse is pressed.</li>\n<li>On a mouse drag, measure how far the mouse has moved relative to its pressed coordinates.</li>\n<li>Update the <code>translateX</code> and <code>translateY</code> coordinates by adding those differences to them. This will move the node so the mouse remains at the same relative coordinates.</li>\n</ol>\n<p>In the example described above, we would record on the mouse click that it occurred at <code>(11,8)</code>. The first mouse drag gives coordinates of <code>(12,9)</code>. We want to move the node so that the mouse is again at <code>(11,8)</code>, so we <em>increase</em> <code>translateX</code> by <code>12 - 11 = 1</code> and <em>increase</em> <code>translateY</code> by <code>9 - 8 = 1</code>:</p>\n<pre><code>double deltaX = event.getX() - mouseDownLocation.x;\nnode.setTranslateX(node.getTranslateX() + deltaX);\n\ndouble deltaY = event.getY() - mouseDownLocation.y;\nnode.setTranslateY(node.getTranslateY() + deltaY);\n</code></pre>\n<p>Here is an implementation and example:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.Background;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) {\n        VBox root = new VBox();\n        root.setPadding(new Insets(20));\n        root.setAlignment(Pos.CENTER);\n\n        Label label = new Label(&quot;Label&quot;);\n        label.setPadding(new Insets(5));\n        label.setBackground(Background.fill(Color.LIMEGREEN));\n        root.getChildren().add(label);\n\n        makeNodeDraggable(label);\n\n        Scene scene = new Scene(root, 400, 400);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    private void makeNodeDraggable(Node node) {\n        var mouseDownLocation = new Object() { double x, y; };\n        \n        double originalTranslateX = node.getTranslateX();\n        double originalTranslateY = node.getTranslateY();\n\n        node.setOnMousePressed(e -&gt; {\n            mouseDownLocation.x = e.getX();\n            mouseDownLocation.y = e.getY();\n        });\n\n        node.setOnMouseDragged(e -&gt; {\n            double deltaX = e.getX() - mouseDownLocation.x;\n            node.setTranslateX(node.getTranslateX() + deltaX);\n            double deltaY = e.getY() - mouseDownLocation.y;\n            node.setTranslateY(node.getTranslateY() + deltaY);\n        });\n\n        // return to original position on release:\n        node.setOnMouseReleased(e -&gt; {\n            node.setTranslateX(originalTranslateX);\n            node.setTranslateY(originalTranslateY);\n        });\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16903554,"reputation":509,"user_id":12224591,"display_name":"Runsva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77081924,"answer_count":2,"score":0,"last_activity_date":1694456089,"creation_date":1694427728,"question_id":77080811,"body_markdown":"I have a JavaFX `Label` that&#39;s created &amp; added inside of a `TitledPane`. I want that `Label` to be draggable, and return to it&#39;s original position after I stop dragging it.\r\n\r\nThe label is created &amp; inserted into the `TitledPane` by the following Java code:\r\n\r\n```\r\nLabel label = new Label(&quot;Label&quot;);\r\nNodeMakeDraggable(label, label.getText());\r\nmyPane.getChildren().add(label);\r\n```\r\n\r\nWhere `myPane` is the `TitledPane` object, and `MakeNodeDraggable` is the following function:\r\n\r\n```\r\npublic void NodeMakeDraggable(Node node, String id)\r\n{\r\n    node.setId(id);\r\n    node.toFront();\r\n    \r\n    Double originalPosX = node.getTranslateX();\r\n    Double originalPosY = node.getTranslateY();\r\n    \r\n    node.setOnMousePressed(new EventHandler&lt;MouseEvent&gt;() \r\n    {\r\n        @Override public void handle(MouseEvent event) \r\n        {\r\n            node.getScene().setCursor(Cursor.MOVE);\r\n            \r\n            System.out.println(&quot;Pressed!&quot;);\r\n        }\r\n    });\r\n    \r\n    node.setOnMouseReleased(new EventHandler&lt;MouseEvent&gt;() \r\n    {\r\n        @Override public void handle(MouseEvent event) \r\n        {\r\n            node.setTranslateX(originalPosX);\r\n            node.setTranslateY(originalPosY);\r\n            node.getScene().setCursor(Cursor.DEFAULT);\r\n            \r\n            System.out.println(&quot;Released!&quot;);\r\n        }\r\n    });\r\n        \r\n    node.setOnMouseDragged(new EventHandler&lt;MouseEvent&gt;() \r\n    {\r\n        @Override public void handle(MouseEvent event) \r\n        {\r\n            node.setTranslateX(event.getX());\r\n            node.setTranslateY(event.getY());\r\n            \r\n            System.out.println(&quot;Dragged! (&quot; + event.getX() + &quot;, &quot; + event.getY() +&quot;)&quot;);\r\n        }\r\n    });\r\n        \r\n    node.setOnMouseEntered(new EventHandler&lt;MouseEvent&gt;() \r\n    {\r\n      @Override public void handle(MouseEvent event) \r\n      {\r\n            if (!event.isPrimaryButtonDown())\r\n                node.getScene().setCursor(Cursor.HAND);\r\n            \r\n            System.out.println(&quot;Entered!&quot;);\r\n        }\r\n    });\r\n        \r\n    node.setOnMouseExited(new EventHandler&lt;MouseEvent&gt;() \r\n    {\r\n        @Override public void handle(MouseEvent event) \r\n        {\r\n            if (!event.isPrimaryButtonDown())\r\n                node.getScene().setCursor(Cursor.DEFAULT);\r\n            \r\n            System.out.println(&quot;Exited!&quot;);\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nWhile this code does make the `Label` draggable, unfortunately there appears to be an issue.\r\n\r\nWhenever I attempt to drag the `Label`, the outputs recieved from the `getX` and `getY` class functions of the `MouseEvent` class appear to provide alternating readings every time I read from them. The resultant dragging looks like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nTaking a look at the printed output from the `getX` and `getY` functions that I get in the overriden callback function `setOnMouseDragged`, I see the following values in the output console:\r\n\r\n```\r\nEntered!\r\nPressed!\r\nDragged! (11.999999999999998, 9.399999999999993)\r\nDragged! (0.8000000000000007, 0.0)\r\nDragged! (11.999999999999998, 10.200000000000005)\r\nDragged! (0.8000000000000007, 0.799999999999983)\r\nDragged! (12.799999999999999, 11.000000000000016)\r\nDragged! (0.8000000000000007, 1.5999999999999943)\r\nDragged! (13.6, 11.799999999999999)\r\nDragged! (0.8000000000000007, 2.4000000000000057)\r\nDragged! (14.4, 11.799999999999999)\r\nDragged! (0.8000000000000007, 3.1999999999999886)\r\nDragged! (15.199999999999998, 12.60000000000001)\r\nDragged! (0.8000000000000007, 4.0)\r\nDragged! (15.999999999999998, 12.60000000000001)\r\nDragged! (0.8000000000000007, 4.799999999999983)\r\nDragged! (15.999999999999998, 13.400000000000022)\r\nDragged! (1.6000000000000014, 4.799999999999983)\r\nDragged! (15.999999999999998, 14.200000000000005)\r\nDragged! (1.6000000000000014, 5.599999999999994)\r\nDragged! (16.799999999999997, 14.200000000000005)\r\nDragged! (1.6000000000000014, 6.400000000000006)\r\nDragged! (17.6, 14.200000000000003)\r\nDragged! (1.5999999999999979, 7.199999999999989)\r\nDragged! (17.6, 15.000000000000014)\r\nDragged! (2.399999999999995, 7.199999999999989)\r\nDragged! (17.6, 15.799999999999997)\r\nDragged! (2.399999999999995, 8.0)\r\n```\r\n\r\nIt can be seen that there appear to be two sets of position values that alternate whenever the current position of the mouse gets queried.\r\n\r\nWhy is this happening? Could the fact that the `Label` I&#39;m dragging is placed within the `TitledPane` causing some sort of interference with the position of the mouse?\r\n\r\nThanks for reading my post, any guidance is appreciated.\r\n\r\n  [1]: https://i.stack.imgur.com/EOtf3.gif","title":"MouseEvent &quot;GetX&quot; &amp; &quot;GetY&quot; Returning Alternating Values","body":"<p>I have a JavaFX <code>Label</code> that's created &amp; added inside of a <code>TitledPane</code>. I want that <code>Label</code> to be draggable, and return to it's original position after I stop dragging it.</p>\n<p>The label is created &amp; inserted into the <code>TitledPane</code> by the following Java code:</p>\n<pre><code>Label label = new Label(&quot;Label&quot;);\nNodeMakeDraggable(label, label.getText());\nmyPane.getChildren().add(label);\n</code></pre>\n<p>Where <code>myPane</code> is the <code>TitledPane</code> object, and <code>MakeNodeDraggable</code> is the following function:</p>\n<pre><code>public void NodeMakeDraggable(Node node, String id)\n{\n    node.setId(id);\n    node.toFront();\n    \n    Double originalPosX = node.getTranslateX();\n    Double originalPosY = node.getTranslateY();\n    \n    node.setOnMousePressed(new EventHandler&lt;MouseEvent&gt;() \n    {\n        @Override public void handle(MouseEvent event) \n        {\n            node.getScene().setCursor(Cursor.MOVE);\n            \n            System.out.println(&quot;Pressed!&quot;);\n        }\n    });\n    \n    node.setOnMouseReleased(new EventHandler&lt;MouseEvent&gt;() \n    {\n        @Override public void handle(MouseEvent event) \n        {\n            node.setTranslateX(originalPosX);\n            node.setTranslateY(originalPosY);\n            node.getScene().setCursor(Cursor.DEFAULT);\n            \n            System.out.println(&quot;Released!&quot;);\n        }\n    });\n        \n    node.setOnMouseDragged(new EventHandler&lt;MouseEvent&gt;() \n    {\n        @Override public void handle(MouseEvent event) \n        {\n            node.setTranslateX(event.getX());\n            node.setTranslateY(event.getY());\n            \n            System.out.println(&quot;Dragged! (&quot; + event.getX() + &quot;, &quot; + event.getY() +&quot;)&quot;);\n        }\n    });\n        \n    node.setOnMouseEntered(new EventHandler&lt;MouseEvent&gt;() \n    {\n      @Override public void handle(MouseEvent event) \n      {\n            if (!event.isPrimaryButtonDown())\n                node.getScene().setCursor(Cursor.HAND);\n            \n            System.out.println(&quot;Entered!&quot;);\n        }\n    });\n        \n    node.setOnMouseExited(new EventHandler&lt;MouseEvent&gt;() \n    {\n        @Override public void handle(MouseEvent event) \n        {\n            if (!event.isPrimaryButtonDown())\n                node.getScene().setCursor(Cursor.DEFAULT);\n            \n            System.out.println(&quot;Exited!&quot;);\n        }\n    });\n}\n</code></pre>\n<p>While this code does make the <code>Label</code> draggable, unfortunately there appears to be an issue.</p>\n<p>Whenever I attempt to drag the <code>Label</code>, the outputs recieved from the <code>getX</code> and <code>getY</code> class functions of the <code>MouseEvent</code> class appear to provide alternating readings every time I read from them. The resultant dragging looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/EOtf3.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EOtf3.gif\" alt=\"enter image description here\" /></a></p>\n<p>Taking a look at the printed output from the <code>getX</code> and <code>getY</code> functions that I get in the overriden callback function <code>setOnMouseDragged</code>, I see the following values in the output console:</p>\n<pre><code>Entered!\nPressed!\nDragged! (11.999999999999998, 9.399999999999993)\nDragged! (0.8000000000000007, 0.0)\nDragged! (11.999999999999998, 10.200000000000005)\nDragged! (0.8000000000000007, 0.799999999999983)\nDragged! (12.799999999999999, 11.000000000000016)\nDragged! (0.8000000000000007, 1.5999999999999943)\nDragged! (13.6, 11.799999999999999)\nDragged! (0.8000000000000007, 2.4000000000000057)\nDragged! (14.4, 11.799999999999999)\nDragged! (0.8000000000000007, 3.1999999999999886)\nDragged! (15.199999999999998, 12.60000000000001)\nDragged! (0.8000000000000007, 4.0)\nDragged! (15.999999999999998, 12.60000000000001)\nDragged! (0.8000000000000007, 4.799999999999983)\nDragged! (15.999999999999998, 13.400000000000022)\nDragged! (1.6000000000000014, 4.799999999999983)\nDragged! (15.999999999999998, 14.200000000000005)\nDragged! (1.6000000000000014, 5.599999999999994)\nDragged! (16.799999999999997, 14.200000000000005)\nDragged! (1.6000000000000014, 6.400000000000006)\nDragged! (17.6, 14.200000000000003)\nDragged! (1.5999999999999979, 7.199999999999989)\nDragged! (17.6, 15.000000000000014)\nDragged! (2.399999999999995, 7.199999999999989)\nDragged! (17.6, 15.799999999999997)\nDragged! (2.399999999999995, 8.0)\n</code></pre>\n<p>It can be seen that there appear to be two sets of position values that alternate whenever the current position of the mouse gets queried.</p>\n<p>Why is this happening? Could the fact that the <code>Label</code> I'm dragging is placed within the <code>TitledPane</code> causing some sort of interference with the position of the mouse?</p>\n<p>Thanks for reading my post, any guidance is appreciated.</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1694449023,"post_id":77083002,"comment_id":135889249,"body_markdown":"How are they invoked? The first form looks like it&#39;s evaluated lazily; so perhaps you never invoke `get` or `size` on it.","body":"How are they invoked? The first form looks like it&#39;s evaluated lazily; so perhaps you never invoke <code>get</code> or <code>size</code> on it."}],"answers":[{"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1694534986,"post_id":77083945,"comment_id":135902578,"body_markdown":"I wonder if that should be brought to LeetCode&#39;s attention.  (Not a question for Stack Overflow, but) How might LeetCode defend against such cheating?","body":"I wonder if that should be brought to LeetCode&#39;s attention.  (Not a question for Stack Overflow, but) How might LeetCode defend against such cheating?"},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1694621508,"post_id":77083945,"comment_id":135916301,"body_markdown":"It would be easy enough to require an array of arrays instead of a list of lists.","body":"It would be easy enough to require an array of arrays instead of a list of lists."}],"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1694456048,"creation_date":1694456048,"answer_id":77083945,"question_id":77083002,"body_markdown":"The implementation with `AbstractList` is cheating.\r\n\r\nThe online judge measures the time it takes for the solution to return a list.  This is extremely fast, since `init` is NOT called during construction.\r\n\r\nThen the judge will check the contents of the list to see if they&#39;re correct.  This is when `init` is called to produce the *real* answer, but it is not included in the time that is measured.\r\n","title":"Why 3sum solution using abstract list is faster?","body":"<p>The implementation with <code>AbstractList</code> is cheating.</p>\n<p>The online judge measures the time it takes for the solution to return a list.  This is extremely fast, since <code>init</code> is NOT called during construction.</p>\n<p>Then the judge will check the contents of the list to see if they're correct.  This is when <code>init</code> is called to produce the <em>real</em> answer, but it is not included in the time that is measured.</p>\n"}],"owner":{"account_id":3570242,"reputation":97,"user_id":2980749,"display_name":"Avinash Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77083945,"answer_count":1,"score":0,"last_activity_date":1694456048,"creation_date":1694446618,"question_id":77083002,"body_markdown":"I was solving 3sum on leetcode https://leetcode.com/problems/3sum but there is an solution with abstractList that seems to outperform all other solution \r\n```\r\nimport java.util.AbstractList;\r\nclass Solution {\r\n    private List&lt;List&lt;Integer&gt;&gt; res;\r\n    public List&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) {\r\n        int target = 0;\r\n        return new AbstractList&lt;List&lt;Integer&gt;&gt;() {\r\n            public List&lt;Integer&gt; get(int index) {\r\n                init();\r\n                return res.get(index);\r\n            }\r\n            public int size() {\r\n                init();\r\n                return res.size();\r\n            }\r\n            private void init() {\r\n                if (res != null) return;\r\n                Arrays.sort(nums);\r\n                int l, r;\r\n                int sum;\r\n                Set&lt;List&lt;Integer&gt;&gt; tempRes = new HashSet&lt;&gt;();\r\n                for (int i = 0; i &lt; nums.length - 2; ++i) {\r\n                    l = i + 1;\r\n                    r = nums.length - 1;\r\n                    while (l &lt; r) {\r\n                        sum = nums[i] + nums[l] + nums[r];\r\n                        if (sum == target) {\r\n                            List&lt;Integer&gt; t = new ArrayList&lt;&gt;();\r\n                            t.add(nums[i]);\r\n                            t.add(nums[l]);\r\n                            t.add(nums[r]);\r\n                            tempRes.add(t);\r\n                        }\r\n                        if (sum &lt; target) ++l;\r\n                        else --r;\r\n                    }\r\n                }\r\n                res = new ArrayList&lt;List&lt;Integer&gt;&gt;(tempRes);\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\nbut when i code it like this it takes ~300ms. \r\n\r\n```\r\nimport java.util.AbstractList;\r\nclass Solution {\r\n    private List&lt;List&lt;Integer&gt;&gt; res;\r\n    public List&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) {\r\n        int target = 0;\r\n        \r\n                Arrays.sort(nums);\r\n                int l, r;\r\n                int sum;\r\n                Set&lt;List&lt;Integer&gt;&gt; tempRes = new HashSet&lt;&gt;();\r\n                for (int i = 0; i &lt; nums.length - 2; ++i) {\r\n                    l = i + 1;\r\n                    r = nums.length - 1;\r\n                    while (l &lt; r) {\r\n                        sum = nums[i] + nums[l] + nums[r];\r\n                        if (sum == target) {\r\n                            List&lt;Integer&gt; t = new ArrayList&lt;&gt;();\r\n                            t.add(nums[i]);\r\n                            t.add(nums[l]);\r\n                            t.add(nums[r]);\r\n                            tempRes.add(t);\r\n                        }\r\n                        if (sum &lt; target) ++l;\r\n                        else --r;\r\n                    }\r\n                }\r\n                return new ArrayList&lt;List&lt;Integer&gt;&gt;(tempRes);\r\n            \r\n    }\r\n}\r\n```\r\n\r\nCan anyone explain how this is happening? I could not find any details on description and don&#39;t know why using AbstractList makes it faster than any code? Is it getting evaluated when code evaluater is reading from list?this only makes sense.\r\n","title":"Why 3sum solution using abstract list is faster?","body":"<p>I was solving 3sum on leetcode <a href=\"https://leetcode.com/problems/3sum\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/3sum</a> but there is an solution with abstractList that seems to outperform all other solution</p>\n<pre><code>import java.util.AbstractList;\nclass Solution {\n    private List&lt;List&lt;Integer&gt;&gt; res;\n    public List&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) {\n        int target = 0;\n        return new AbstractList&lt;List&lt;Integer&gt;&gt;() {\n            public List&lt;Integer&gt; get(int index) {\n                init();\n                return res.get(index);\n            }\n            public int size() {\n                init();\n                return res.size();\n            }\n            private void init() {\n                if (res != null) return;\n                Arrays.sort(nums);\n                int l, r;\n                int sum;\n                Set&lt;List&lt;Integer&gt;&gt; tempRes = new HashSet&lt;&gt;();\n                for (int i = 0; i &lt; nums.length - 2; ++i) {\n                    l = i + 1;\n                    r = nums.length - 1;\n                    while (l &lt; r) {\n                        sum = nums[i] + nums[l] + nums[r];\n                        if (sum == target) {\n                            List&lt;Integer&gt; t = new ArrayList&lt;&gt;();\n                            t.add(nums[i]);\n                            t.add(nums[l]);\n                            t.add(nums[r]);\n                            tempRes.add(t);\n                        }\n                        if (sum &lt; target) ++l;\n                        else --r;\n                    }\n                }\n                res = new ArrayList&lt;List&lt;Integer&gt;&gt;(tempRes);\n            }\n        };\n    }\n}\n</code></pre>\n<p>but when i code it like this it takes ~300ms.</p>\n<pre><code>import java.util.AbstractList;\nclass Solution {\n    private List&lt;List&lt;Integer&gt;&gt; res;\n    public List&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) {\n        int target = 0;\n        \n                Arrays.sort(nums);\n                int l, r;\n                int sum;\n                Set&lt;List&lt;Integer&gt;&gt; tempRes = new HashSet&lt;&gt;();\n                for (int i = 0; i &lt; nums.length - 2; ++i) {\n                    l = i + 1;\n                    r = nums.length - 1;\n                    while (l &lt; r) {\n                        sum = nums[i] + nums[l] + nums[r];\n                        if (sum == target) {\n                            List&lt;Integer&gt; t = new ArrayList&lt;&gt;();\n                            t.add(nums[i]);\n                            t.add(nums[l]);\n                            t.add(nums[r]);\n                            tempRes.add(t);\n                        }\n                        if (sum &lt; target) ++l;\n                        else --r;\n                    }\n                }\n                return new ArrayList&lt;List&lt;Integer&gt;&gt;(tempRes);\n            \n    }\n}\n</code></pre>\n<p>Can anyone explain how this is happening? I could not find any details on description and don't know why using AbstractList makes it faster than any code? Is it getting evaluated when code evaluater is reading from list?this only makes sense.</p>\n"},{"tags":["java","c#","floating-point"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1690165820,"post_id":76751057,"comment_id":135310477,"body_markdown":"Seems like only a thing in .NET framework. .NET 5/6/7 produces 1500.4551 instead of 1500.455. In any case, [this might help](https://stackoverflow.com/questions/65478282/why-net-5-0-and-framework-in-c-sharp-does-not-return-same-value#comment116009860_65478282). (?)","body":"Seems like only a thing in .NET framework. .NET 5/6/7 produces 1500.4551 instead of 1500.455. In any case, <a href=\"https://stackoverflow.com/questions/65478282/why-net-5-0-and-framework-in-c-sharp-does-not-return-same-value#comment116009860_65478282\">this might help</a>. (?)"},{"owner":{"account_id":29040438,"reputation":31,"user_id":22245397,"display_name":"Nova"},"score":0,"creation_date":1690183159,"post_id":76751057,"comment_id":135312210,"body_markdown":"@Sweeper is there any way that this can be manually implemented in v4.7.2?","body":"@Sweeper is there any way that this can be manually implemented in v4.7.2?"}],"answers":[{"tags":[],"owner":{"account_id":21960464,"reputation":294,"user_id":16238436,"display_name":"Todd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694455930,"creation_date":1694455930,"answer_id":77083936,"question_id":76751057,"body_markdown":"If you absolutely need the results to match, I would suggest not relying on the language&#39;s convenience methods.  They are two different languages and can behave how they see fit.  Nothing grantees that C# has anything built in that does what  Java&#39;s Float.toString(float) does.\r\n\r\nIf you MUST replicate the Java behavior in C# I would suggest getting the source code for that Java method (here is one example: https://developer.classpath.org/doc/java/lang/Float-source.html) and then coding a C# version yourself based on that source.\r\n\r\nIf you have the option to not use Java&#39;s Float.toString() you could maybe make life easier for yourself by instead writing your own lower-level code in each language where you can guarantee that the results are equivalent between the two languages.\r\n\r\nIn your case you may be able to do this fairly easily just using string formatting.  In Java you could maybe get away with using String.format() with specified precision or maybe the DecimalFormat class (see: https://stackoverflow.com/questions/2538787/how-to-print-a-float-with-2-decimal-places-in-java).\r\n\r\nOn the C# side you could maybe use ToString() (see: https://stackoverflow.com/questions/4866542/float-to-string-format-specifier).  \r\n\r\nJust be very carful about any rounding.  Maybe format out to a lot of decimal places then truncate back a bit or something.  After that you could compare the resulting strings.","title":"How do I replicate Java&#39;s Float.ToString() in C#?","body":"<p>If you absolutely need the results to match, I would suggest not relying on the language's convenience methods.  They are two different languages and can behave how they see fit.  Nothing grantees that C# has anything built in that does what  Java's Float.toString(float) does.</p>\n<p>If you MUST replicate the Java behavior in C# I would suggest getting the source code for that Java method (here is one example: <a href=\"https://developer.classpath.org/doc/java/lang/Float-source.html\" rel=\"nofollow noreferrer\">https://developer.classpath.org/doc/java/lang/Float-source.html</a>) and then coding a C# version yourself based on that source.</p>\n<p>If you have the option to not use Java's Float.toString() you could maybe make life easier for yourself by instead writing your own lower-level code in each language where you can guarantee that the results are equivalent between the two languages.</p>\n<p>In your case you may be able to do this fairly easily just using string formatting.  In Java you could maybe get away with using String.format() with specified precision or maybe the DecimalFormat class (see: <a href=\"https://stackoverflow.com/questions/2538787/how-to-print-a-float-with-2-decimal-places-in-java\">How to print a float with 2 decimal places in Java?</a>).</p>\n<p>On the C# side you could maybe use ToString() (see: <a href=\"https://stackoverflow.com/questions/4866542/float-to-string-format-specifier\">Float to String format specifier</a>).</p>\n<p>Just be very carful about any rounding.  Maybe format out to a lot of decimal places then truncate back a bit or something.  After that you could compare the resulting strings.</p>\n"}],"owner":{"account_id":29040438,"reputation":31,"user_id":22245397,"display_name":"Nova"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694455930,"creation_date":1690165205,"question_id":76751057,"body_markdown":"As the documentation states in Java&#39;s [Float.toString(float)](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Float.html#toString(float)) method, the float is represented with only as many digits that are needed to uniquely identify the value from adjacent float values. This behaviour isn&#39;t reflected in C#&#39;s `Single.ToString` method.\r\n\r\nThis means that in Java:\r\n```\r\n1500.45504 produces 1500.4551\r\n2000.37408 produces 2000.374\r\n```\r\n\r\nwhereas in C#:\r\n```\r\n1500.45504 produces 1500.455\r\n2000.37408 produces 2000.374\r\n```\r\n\r\nAm I missing a flag or something in C# to replicate Java&#39;s behaviour? I can only use floating points, so using more precision, like a double, isn&#39;t feasible in this situation. Also, I can&#39;t use the `G&lt;num&gt;`, or `N&lt;num&gt;` specifiers, because the output would vary depending on whether or not the output needs a unique digit identifier.","title":"How do I replicate Java&#39;s Float.ToString() in C#?","body":"<p>As the documentation states in Java's <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Float.html#toString(float)\" rel=\"nofollow noreferrer\">Float.toString(float)</a> method, the float is represented with only as many digits that are needed to uniquely identify the value from adjacent float values. This behaviour isn't reflected in C#'s <code>Single.ToString</code> method.</p>\n<p>This means that in Java:</p>\n<pre><code>1500.45504 produces 1500.4551\n2000.37408 produces 2000.374\n</code></pre>\n<p>whereas in C#:</p>\n<pre><code>1500.45504 produces 1500.455\n2000.37408 produces 2000.374\n</code></pre>\n<p>Am I missing a flag or something in C# to replicate Java's behaviour? I can only use floating points, so using more precision, like a double, isn't feasible in this situation. Also, I can't use the <code>G&lt;num&gt;</code>, or <code>N&lt;num&gt;</code> specifiers, because the output would vary depending on whether or not the output needs a unique digit identifier.</p>\n"},{"tags":["java","android","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1662101555,"post_id":73574448,"comment_id":129932350,"body_markdown":"Have you tried to implement your solution? Is there something wrong with it?","body":"Have you tried to implement your solution? Is there something wrong with it?"},{"owner":{"account_id":23626869,"reputation":19,"user_id":17659262,"display_name":"Daiana"},"score":0,"creation_date":1662140406,"post_id":73574448,"comment_id":129945349,"body_markdown":"No, I just wanted to know which are exactly the steps that I should follow if anyone did something like this before.","body":"No, I just wanted to know which are exactly the steps that I should follow if anyone did something like this before."}],"owner":{"account_id":23626869,"reputation":19,"user_id":17659262,"display_name":"Daiana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694455921,"creation_date":1662059835,"question_id":73574448,"body_markdown":"I make an app where the logged in user can see the other users from Firestore database ( they are in a recyclerView ) . Each item of the recycler view has a button called &quot;Add friend&quot;. I want to send a friend request to that specific user when I click that button.\r\n\r\nI have a tab called &quot;Pending requests&quot; where the logged in can see the received friend requests.\r\n\r\nI am using an adapter for recycler view. In **MyAdapter.java** I have this :\r\n``` \r\n    public class myViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        TextView usernamerecycle;\r\n        Button addbutton;\r\n        View rootview;\r\n\r\n        private FirebaseAuth mAuth;\r\n        FirebaseFirestore firestore;\r\n        \r\n        public myViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            rootview = itemView;\r\n            usernamerecycle = itemView.findViewById(R.id.usernamerecycler);\r\n            addbutton = itemView.findViewById(R.id.addfriendbutton);\r\n            \r\n            \r\n            addbutton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Log.d(TAG, &quot;item clicked: &quot; + getAdapterPosition() + &quot;user= &quot; + userArrayList.get(getAdapterPosition()).username );\r\n                }\r\n            });\r\n\r\n        }\r\n    }\r\n```\r\n\r\nMy question is : When I send a friend request to a particular user which should be the steps? Should I create a collection called &quot;Requests&quot; for each user and for example when I click the button for &quot;ralu&quot; then a new Request to appear in ralu&#39;s &quot;Requests&quot; collection ? After that to display all the pending requests from there in &quot;Pending requests&quot; tab of that user ? Do you have an example or something of how should I do this? How can I put data in another user collection ( other than the logged in user )? Please !!!\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tRgvo.png","title":"Send and receive friend requests Android studio (Firestore)","body":"<p>I make an app where the logged in user can see the other users from Firestore database ( they are in a recyclerView ) . Each item of the recycler view has a button called &quot;Add friend&quot;. I want to send a friend request to that specific user when I click that button.</p>\n<p>I have a tab called &quot;Pending requests&quot; where the logged in can see the received friend requests.</p>\n<p>I am using an adapter for recycler view. In <strong>MyAdapter.java</strong> I have this :</p>\n<pre><code>    public class myViewHolder extends RecyclerView.ViewHolder{\n\n        TextView usernamerecycle;\n        Button addbutton;\n        View rootview;\n\n        private FirebaseAuth mAuth;\n        FirebaseFirestore firestore;\n        \n        public myViewHolder(@NonNull View itemView) {\n            super(itemView);\n            rootview = itemView;\n            usernamerecycle = itemView.findViewById(R.id.usernamerecycler);\n            addbutton = itemView.findViewById(R.id.addfriendbutton);\n            \n            \n            addbutton.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    Log.d(TAG, &quot;item clicked: &quot; + getAdapterPosition() + &quot;user= &quot; + userArrayList.get(getAdapterPosition()).username );\n                }\n            });\n\n        }\n    }\n</code></pre>\n<p>My question is : When I send a friend request to a particular user which should be the steps? Should I create a collection called &quot;Requests&quot; for each user and for example when I click the button for &quot;ralu&quot; then a new Request to appear in ralu's &quot;Requests&quot; collection ? After that to display all the pending requests from there in &quot;Pending requests&quot; tab of that user ? Do you have an example or something of how should I do this? How can I put data in another user collection ( other than the logged in user )? Please !!!</p>\n<p><a href=\"https://i.stack.imgur.com/tRgvo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tRgvo.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","kotlin","notifications","alarmmanager"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648683271,"post_id":71685239,"comment_id":126689902,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"comments":[{"owner":{"account_id":20323940,"reputation":23,"user_id":14907879,"display_name":"Milestone"},"score":0,"creation_date":1648685444,"post_id":71685436,"comment_id":126690233,"body_markdown":"I have already tried the suggestions in this thread. But it doesn&#39;t work.","body":"I have already tried the suggestions in this thread. But it doesn&#39;t work."},{"owner":{"account_id":20323940,"reputation":23,"user_id":14907879,"display_name":"Milestone"},"score":0,"creation_date":1648685484,"post_id":71685436,"comment_id":126690237,"body_markdown":"Can&#39;t I write a code that won&#39;t be deleted until the time comes, in the manifest file?","body":"Can&#39;t I write a code that won&#39;t be deleted until the time comes, in the manifest file?"},{"owner":{"account_id":6250157,"reputation":18427,"user_id":4860513,"display_name":"guipivoto"},"score":0,"creation_date":1648687605,"post_id":71685436,"comment_id":126690545,"body_markdown":"No. You can&#39;t. In the manifest, you just add the intents that you want to receive. However, the system won&#39;t send your intent because the phone was rebooted. So, you must subscribe for the BOOT_COMPLETED (it means the device was turned on) and then, you re-schedule your alarm. That&#39;s how it does. If it is not working, it is because your are missing something","body":"No. You can&#39;t. In the manifest, you just add the intents that you want to receive. However, the system won&#39;t send your intent because the phone was rebooted. So, you must subscribe for the BOOT_COMPLETED (it means the device was turned on) and then, you re-schedule your alarm. That&#39;s how it does. If it is not working, it is because your are missing something"}],"tags":[],"owner":{"account_id":6250157,"reputation":18427,"user_id":4860513,"display_name":"guipivoto"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648685025,"creation_date":1648685025,"answer_id":71685436,"question_id":71685239,"body_markdown":"This is the expected behavior. If you turn off your device, all alarms are deleted. So, to workaround this issue, you must register for boot complete broadcast and re-schedule your alarm.\r\n\r\nYou can find more details on how to do it in the following question/answer:\r\n\r\nhttps://stackoverflow.com/questions/12034357/does-alarm-manager-persist-even-after-reboot","title":"Android notification does not work when restarting after creating notification","body":"<p>This is the expected behavior. If you turn off your device, all alarms are deleted. So, to workaround this issue, you must register for boot complete broadcast and re-schedule your alarm.</p>\n<p>You can find more details on how to do it in the following question/answer:</p>\n<p><a href=\"https://stackoverflow.com/questions/12034357/does-alarm-manager-persist-even-after-reboot\">does Alarm Manager persist even after reboot?</a></p>\n"},{"comments":[{"owner":{"account_id":11393428,"reputation":115,"user_id":8352632,"display_name":"karan"},"score":0,"creation_date":1696499633,"post_id":71686397,"comment_id":136162014,"body_markdown":"just to get notified when device reboot event for purpose i have to use WorkManager it&#39;s not a valid solution.","body":"just to get notified when device reboot event for purpose i have to use WorkManager it&#39;s not a valid solution."}],"tags":[],"owner":{"account_id":17200381,"reputation":36,"user_id":12452244,"display_name":"james"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648695459,"creation_date":1648695459,"answer_id":71686397,"question_id":71685239,"body_markdown":"I think you can try use work manager, which will be executed by system.\r\n\r\n&gt; WorkManager is the recommended solution for persistent work. Work is persistent when it remains scheduled through app restarts and system reboots. Because most background processing is best accomplished through persistent work, WorkManager is the primary recommended API for background processing.","title":"Android notification does not work when restarting after creating notification","body":"<p>I think you can try use work manager, which will be executed by system.</p>\n<blockquote>\n<p>WorkManager is the recommended solution for persistent work. Work is persistent when it remains scheduled through app restarts and system reboots. Because most background processing is best accomplished through persistent work, WorkManager is the primary recommended API for background processing.</p>\n</blockquote>\n"}],"owner":{"account_id":20323940,"reputation":23,"user_id":14907879,"display_name":"Milestone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":900,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694455728,"creation_date":1648683105,"question_id":71685239,"body_markdown":"As long as I don&#39;t turn the phone off (even if the application is closed), the forward notification that I have created with the alarm manager in my android-java mobile application does not have a problem. But when I restart the phone before the notification time comes, it doesn&#39;t work even if it&#39;s time for my notification. Can you please help? Thanks.\r\n\r\nAlarm Service:\r\n\r\n```\r\npackage com.gokhankopuz.kopuzfilo.services;\r\n\r\npublic class AlarmService {\r\n    private Context context = null;\r\n    private long timeInMillis = 0L;\r\n    private String notificationTitle, notificationDesc = &quot;&quot;;\r\n\r\n    public AlarmService(Context context, long timeInMillis, String notificationTitle, String notificationDesc) {\r\n        this.context = context;\r\n        this.timeInMillis = timeInMillis;\r\n        this.notificationTitle = notificationTitle;\r\n        this.notificationDesc = notificationDesc;\r\n    }\r\n\r\n    public void setAlarm() {\r\n        AlarmManager alarmManager = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\r\n        alarmManager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, timeInMillis, getPendingIntent());\r\n    }\r\n\r\n    private PendingIntent getPendingIntent() {\r\n        PendingIntent pendingIntent = PendingIntent.getBroadcast(context, (int) timeInMillis, getIntent(), PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n        return pendingIntent;\r\n    }\r\n\r\n    private Intent getIntent() {\r\n        Intent intent = new Intent(context, AlarmReceiver.class);\r\n        intent.putExtra(&quot;notificationTitle&quot;, notificationTitle);\r\n        intent.putExtra(&quot;notificationDesc&quot;, notificationDesc);\r\n\r\n        return intent;\r\n    }\r\n}\r\n```\r\n\r\nAlarm Receiver:\r\n\r\n```\r\npackage com.gokhankopuz.kopuzfilo.receivers;\r\n\r\npublic class AlarmReceiver extends BroadcastReceiver {\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        buildNotification(context, intent);\r\n    }\r\n\r\n    private void buildNotification(Context context, Intent intent) {\r\n        String notificationTitle = intent.getStringExtra(&quot;notificationTitle&quot;);\r\n        String notificationDesc = intent.getStringExtra(&quot;notificationDesc&quot;);\r\n\r\n        Notify.build(context)\r\n                .setImportance(Notify.NotifyImportance.HIGH)\r\n                .setTitle(notificationTitle)\r\n                .setContent(notificationDesc)\r\n                .setColor(R.color.app_background)\r\n                .setSmallIcon(R.mipmap.ic_launcher)\r\n                .setAutoCancel(false)\r\n                .show();\r\n    }\r\n\r\n}\r\n```\r\n\r\nManifest Permissions:\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\r\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;\r\n        tools:ignore=&quot;CoarseFineLocation&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n```","title":"Android notification does not work when restarting after creating notification","body":"<p>As long as I don't turn the phone off (even if the application is closed), the forward notification that I have created with the alarm manager in my android-java mobile application does not have a problem. But when I restart the phone before the notification time comes, it doesn't work even if it's time for my notification. Can you please help? Thanks.</p>\n<p>Alarm Service:</p>\n<pre><code>package com.gokhankopuz.kopuzfilo.services;\n\npublic class AlarmService {\n    private Context context = null;\n    private long timeInMillis = 0L;\n    private String notificationTitle, notificationDesc = &quot;&quot;;\n\n    public AlarmService(Context context, long timeInMillis, String notificationTitle, String notificationDesc) {\n        this.context = context;\n        this.timeInMillis = timeInMillis;\n        this.notificationTitle = notificationTitle;\n        this.notificationDesc = notificationDesc;\n    }\n\n    public void setAlarm() {\n        AlarmManager alarmManager = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\n        alarmManager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, timeInMillis, getPendingIntent());\n    }\n\n    private PendingIntent getPendingIntent() {\n        PendingIntent pendingIntent = PendingIntent.getBroadcast(context, (int) timeInMillis, getIntent(), PendingIntent.FLAG_UPDATE_CURRENT);\n\n        return pendingIntent;\n    }\n\n    private Intent getIntent() {\n        Intent intent = new Intent(context, AlarmReceiver.class);\n        intent.putExtra(&quot;notificationTitle&quot;, notificationTitle);\n        intent.putExtra(&quot;notificationDesc&quot;, notificationDesc);\n\n        return intent;\n    }\n}\n</code></pre>\n<p>Alarm Receiver:</p>\n<pre><code>package com.gokhankopuz.kopuzfilo.receivers;\n\npublic class AlarmReceiver extends BroadcastReceiver {\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        buildNotification(context, intent);\n    }\n\n    private void buildNotification(Context context, Intent intent) {\n        String notificationTitle = intent.getStringExtra(&quot;notificationTitle&quot;);\n        String notificationDesc = intent.getStringExtra(&quot;notificationDesc&quot;);\n\n        Notify.build(context)\n                .setImportance(Notify.NotifyImportance.HIGH)\n                .setTitle(notificationTitle)\n                .setContent(notificationDesc)\n                .setColor(R.color.app_background)\n                .setSmallIcon(R.mipmap.ic_launcher)\n                .setAutoCancel(false)\n                .show();\n    }\n\n}\n</code></pre>\n<p>Manifest Permissions:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;\n        tools:ignore=&quot;CoarseFineLocation&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n</code></pre>\n"},{"tags":["java","file","exception"],"answers":[{"comments":[{"owner":{"account_id":18716460,"reputation":3,"user_id":13645361,"display_name":"Raniel Johnson"},"score":0,"creation_date":1590822326,"post_id":62098965,"comment_id":109830986,"body_markdown":"Says that the catch IOException is unreachable when I do that","body":"Says that the catch IOException is unreachable when I do that"}],"tags":[],"owner":{"account_id":1008660,"reputation":13673,"user_id":1021725,"accept_rate":75,"display_name":"David Brossard"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590821976,"creation_date":1590821976,"answer_id":62098965,"question_id":62098958,"body_markdown":"It sounds like FileNotFoundException extends IOException. Try inverting the two catch statements and you should be good.\n\n&gt; Class FileNotFoundException\n&gt; java.lang.Object\n&gt; java.lang.Throwable\n&gt; java.lang.Exception\n&gt; java.io.IOException\n&gt; java.io.FileNotFoundException\n\nSee https://docs.oracle.com/javase/7/docs/api/java/io/FileNotFoundException.html","title":"FileNotFoundException and exception handling in Java","body":"<p>It sounds like FileNotFoundException extends IOException. Try inverting the two catch statements and you should be good.</p>\n\n<blockquote>\n  <p>Class FileNotFoundException\n  java.lang.Object\n  java.lang.Throwable\n  java.lang.Exception\n  java.io.IOException\n  java.io.FileNotFoundException</p>\n</blockquote>\n\n<p>See <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/FileNotFoundException.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/io/FileNotFoundException.html</a></p>\n"},{"tags":[],"owner":{"account_id":6940860,"reputation":78,"user_id":5327267,"display_name":"Dave Brennan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1590822513,"creation_date":1590822513,"answer_id":62099047,"question_id":62098958,"body_markdown":"If you look at the definition of `FileNotFoundException` you will see it is\r\n\r\n```\r\npublic class FileNotFoundException extends IOException {\r\n```\r\n\r\nSo by catching the base class `IOException` you are already, in effect, catching the derived exception, hence the error you are seeing.\r\n\r\nHowever, if you further look at the `FileReader` constructor you are calling, it only throws `FileNotFoundException` so you actually don&#39;t need to catch `IOException` in and can remove that catch clause and fix your error.\r\n","title":"FileNotFoundException and exception handling in Java","body":"<p>If you look at the definition of <code>FileNotFoundException</code> you will see it is</p>\n\n<pre><code>public class FileNotFoundException extends IOException {\n</code></pre>\n\n<p>So by catching the base class <code>IOException</code> you are already, in effect, catching the derived exception, hence the error you are seeing.</p>\n\n<p>However, if you further look at the <code>FileReader</code> constructor you are calling, it only throws <code>FileNotFoundException</code> so you actually don't need to catch <code>IOException</code> in and can remove that catch clause and fix your error.</p>\n"},{"tags":[],"owner":{"account_id":18717806,"reputation":1,"user_id":13646388,"display_name":"Shankalpa Lamichhane"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590823931,"creation_date":1590823931,"answer_id":62099259,"question_id":62098958,"body_markdown":"Since FileNotFoundException extends IOException, you can choose either FileNotFoundException or IOException based on your needs.","title":"FileNotFoundException and exception handling in Java","body":"<p>Since FileNotFoundException extends IOException, you can choose either FileNotFoundException or IOException based on your needs.</p>\n"}],"owner":{"account_id":18716460,"reputation":3,"user_id":13645361,"display_name":"Raniel Johnson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":62099047,"answer_count":3,"score":-2,"last_activity_date":1694455521,"creation_date":1590821881,"question_id":62098958,"body_markdown":"I made sure to have all the exceptions I think are needed but it keeps giving me this error: \r\n\r\n**exception FileNotFoundException has already been caught\r\ncatch(FileNotFoundException fnfe)**\r\n\r\n    public class SNIDDb\r\n    {\r\n      private char delimiter;\r\n      private String name;\r\n      private BufferedReader br;\r\n    \r\n      public SNIDDb(String name, char delimiter)\r\n      {\r\n        this.name=name;\r\n        this.delimiter=delimiter;\r\n        try\r\n        {\r\n          FileReader fr= new FileReader(name);\r\n          br= new BufferedReader(fr);\r\n        }\r\n        catch(IOException i)\r\n        {\r\n          System.out.println(i.getMessage());\r\n        }\r\n        catch(FileNotFoundException fnfe)\r\n        {\r\n          System.out.print(fnfe.getMessage());\r\n        }\r\n      }","title":"FileNotFoundException and exception handling in Java","body":"<p>I made sure to have all the exceptions I think are needed but it keeps giving me this error: </p>\n\n<p><strong>exception FileNotFoundException has already been caught\ncatch(FileNotFoundException fnfe)</strong></p>\n\n<pre><code>public class SNIDDb\n{\n  private char delimiter;\n  private String name;\n  private BufferedReader br;\n\n  public SNIDDb(String name, char delimiter)\n  {\n    this.name=name;\n    this.delimiter=delimiter;\n    try\n    {\n      FileReader fr= new FileReader(name);\n      br= new BufferedReader(fr);\n    }\n    catch(IOException i)\n    {\n      System.out.println(i.getMessage());\n    }\n    catch(FileNotFoundException fnfe)\n    {\n      System.out.print(fnfe.getMessage());\n    }\n  }\n</code></pre>\n"},{"tags":["java","entity-relationship","modeling"],"comments":[{"owner":{"account_id":23587351,"reputation":60,"user_id":17625629,"display_name":"Vled"},"score":1,"creation_date":1694447561,"post_id":77083061,"comment_id":135888974,"body_markdown":"Looks very good, I would add an ID for each Dish as well , if for a example a customer wants to report on a specific dish he ate.","body":"Looks very good, I would add an ID for each Dish as well , if for a example a customer wants to report on a specific dish he ate."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1694447706,"post_id":77083061,"comment_id":135888997,"body_markdown":"So `Dish` would be an abstract class?","body":"So <code>Dish</code> would be an abstract class?"},{"owner":{"account_id":22725489,"reputation":55,"user_id":16889343,"display_name":"ZenBa2"},"score":0,"creation_date":1694447771,"post_id":77083061,"comment_id":135889007,"body_markdown":"@Kayaman I was thinking that Pizza and Pasta should extend Dish, but I don&#39;t know if that&#39;s the right idea","body":"@Kayaman I was thinking that Pizza and Pasta should extend Dish, but I don&#39;t know if that&#39;s the right idea"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694447901,"post_id":77083061,"comment_id":135889031,"body_markdown":"Well, that&#39;s what it looks like in your diagram. From an OO perspective that&#39;s correct, but from a business perspective you would of course not hardcode your dishes in code, but store the data in a database and deal with generic dish objects with attributes distinguishing them.","body":"Well, that&#39;s what it looks like in your diagram. From an OO perspective that&#39;s correct, but from a business perspective you would of course not hardcode your dishes in code, but store the data in a database and deal with generic dish objects with attributes distinguishing them."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1694455740,"post_id":77083061,"comment_id":135890480,"body_markdown":"Small note on terminology: the conventional names for relations in Java are &quot;has-a&quot; and &quot;is-a&quot;, not &quot;has&quot; and &quot;is&quot;, and you don&#39;t model it in a Java UML diagram using a node, instead of you use the appropriate edge type (for &quot;is-a&quot; that&#39;s an arrow from the subclass to the superclass, with an optional &quot;is-a&quot; as edge label, but that&#39;s usually unnecessary)","body":"Small note on terminology: the conventional names for relations in Java are &quot;has-a&quot; and &quot;is-a&quot;, not &quot;has&quot; and &quot;is&quot;, and you don&#39;t model it in a Java UML diagram using a node, instead of you use the appropriate edge type (for &quot;is-a&quot; that&#39;s an arrow from the subclass to the superclass, with an optional &quot;is-a&quot; as edge label, but that&#39;s usually unnecessary)"},{"owner":{"account_id":22725489,"reputation":55,"user_id":16889343,"display_name":"ZenBa2"},"score":0,"creation_date":1694456542,"post_id":77083061,"comment_id":135890594,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans thanks for the information. This is just how I learned it in my Database class hahah","body":"@Mike&#39;Pomax&#39;Kamermans thanks for the information. This is just how I learned it in my Database class hahah"}],"answers":[{"comments":[{"owner":{"account_id":22725489,"reputation":55,"user_id":16889343,"display_name":"ZenBa2"},"score":1,"creation_date":1694453810,"post_id":77083720,"comment_id":135890171,"body_markdown":"Thanks for the help, makes sense now. I appreciate it","body":"Thanks for the help, makes sense now. I appreciate it"}],"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694455205,"creation_date":1694453520,"answer_id":77083720,"question_id":77083061,"body_markdown":"`Dish` will be an abstract class as [Kayaman][1] said:\r\n\r\n```java\r\npublic abstract class Dish {\r\n\tprivate Long id;\r\n\tprivate String name;\r\n\tprivate Double price;\r\n\t\r\n\t//Getters &amp; Setters\r\n}\r\n```\r\n\r\nNote that I added the `id` property because I agree with [Vled][2]:\r\n\r\n&gt; Looks very good, I would add an ID for each Dish as well , if for a example a customer wants to report on a specific dish he ate.\r\n\r\nSo, `Pizza` and `Pasta` will extend it:\r\n\r\n#### Pizza\r\n```java\r\npublic class Pizza extends Dish {\r\n\tprivate Topping toppings;\r\n\tprivate Sauce sauce;\r\n\tprivate Size size;\r\n\r\n\tpublic enum Topping {\r\n\t\t// Topping options\r\n\t}\r\n\r\n\tpublic enum Sauce {\r\n\t\t// Sauce options\r\n\t}\r\n\r\n\tpublic enum Size {\r\n\t\t// Size options\r\n\t}\r\n}\r\n```\r\n\r\n#### Pasta\r\n```java\r\npublic class Pasta extends Dish {\r\n\tprivate Topping toppings;\r\n\tprivate Sauce sauce;\r\n\tprivate Type type;\r\n\r\n\tpublic enum Topping {\r\n\t\t// Topping options\r\n\t}\r\n\r\n\tpublic enum Sauce {\r\n\t\t// Sauce options\r\n\t}\r\n\r\n\tpublic enum Type {\r\n\t\t// Type options\r\n\t}\r\n}\r\n```\r\n\r\nI put the properties as enums because they will be **options** that will compose the `Dish`.\r\n\r\n  [1]: https://stackoverflow.com/users/2541560/kayaman\r\n  [2]: https://stackoverflow.com/users/17625629/vled","title":"IS Relation in Java","body":"<p><code>Dish</code> will be an abstract class as <a href=\"https://stackoverflow.com/users/2541560/kayaman\">Kayaman</a> said:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Dish {\n    private Long id;\n    private String name;\n    private Double price;\n    \n    //Getters &amp; Setters\n}\n</code></pre>\n<p>Note that I added the <code>id</code> property because I agree with <a href=\"https://stackoverflow.com/users/17625629/vled\">Vled</a>:</p>\n<blockquote>\n<p>Looks very good, I would add an ID for each Dish as well , if for a example a customer wants to report on a specific dish he ate.</p>\n</blockquote>\n<p>So, <code>Pizza</code> and <code>Pasta</code> will extend it:</p>\n<h4>Pizza</h4>\n<pre class=\"lang-java prettyprint-override\"><code>public class Pizza extends Dish {\n    private Topping toppings;\n    private Sauce sauce;\n    private Size size;\n\n    public enum Topping {\n        // Topping options\n    }\n\n    public enum Sauce {\n        // Sauce options\n    }\n\n    public enum Size {\n        // Size options\n    }\n}\n</code></pre>\n<h4>Pasta</h4>\n<pre class=\"lang-java prettyprint-override\"><code>public class Pasta extends Dish {\n    private Topping toppings;\n    private Sauce sauce;\n    private Type type;\n\n    public enum Topping {\n        // Topping options\n    }\n\n    public enum Sauce {\n        // Sauce options\n    }\n\n    public enum Type {\n        // Type options\n    }\n}\n</code></pre>\n<p>I put the properties as enums because they will be <strong>options</strong> that will compose the <code>Dish</code>.</p>\n"}],"owner":{"account_id":22725489,"reputation":55,"user_id":16889343,"display_name":"ZenBa2"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"closed_date":1694520938,"accepted_answer_id":77083720,"answer_count":1,"score":3,"last_activity_date":1694455205,"creation_date":1694447196,"question_id":77083061,"body_markdown":"I want to write a pizza shop where you can order pizza and pasta. This graph shows how I&#39;m thinking of modeling it, but I don&#39;t know how to implement the IS relation between dish and pizza/pasta. Any tips on that or anything at all?\r\n\r\n[![entity-relationship-modell][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gg8CN.png","title":"IS Relation in Java","body":"<p>I want to write a pizza shop where you can order pizza and pasta. This graph shows how I'm thinking of modeling it, but I don't know how to implement the IS relation between dish and pizza/pasta. Any tips on that or anything at all?</p>\n<p><a href=\"https://i.stack.imgur.com/gg8CN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gg8CN.png\" alt=\"entity-relationship-modell\" /></a></p>\n"},{"tags":["java","selenium-webdriver","datepicker","action"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1694192865,"post_id":77068557,"comment_id":135863814,"body_markdown":"Please, provide a [MCVE]","body":"Please, provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1694193822,"post_id":77068557,"comment_id":135863977,"body_markdown":"you&#39;ll probably want to use offets with moveToElement when doing the click.  So get the element, then use Actions to click it with an offset of  0, +x number of pixels: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/interactions/Actions.html#moveToElement(org.openqa.selenium.WebElement,int,int)  You&#39;ll be starting at the middle of the element... you can get the element&#39;s width with the .getSize() method... offset a little less than half the width.  Note that these controls are browser-specific so you may need to branch code per browser.","body":"you&#39;ll probably want to use offets with moveToElement when doing the click.  So get the element, then use Actions to click it with an offset of  0, +x number of pixels: <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/interactions/Actions.html#moveToElement(org.openqa.selenium.WebElement,int,int)\" rel=\"nofollow noreferrer\">selenium.dev/selenium/docs/api/java/org/openqa/selenium/&hellip;</a>  You&#39;ll be starting at the middle of the element... you can get the element&#39;s width with the .getSize() method... offset a little less than half the width.  Note that these controls are browser-specific so you may need to branch code per browser."},{"owner":{"account_id":7783163,"reputation":1123,"user_id":5888946,"accept_rate":58,"display_name":"Tony"},"score":0,"creation_date":1694454974,"post_id":77068557,"comment_id":135890365,"body_markdown":"I ended up doing this.  Not sure how to fix the formatting.  Better still, see solution","body":"I ended up doing this.  Not sure how to fix the formatting.  Better still, see solution"}],"answers":[{"tags":[],"owner":{"account_id":7783163,"reputation":1123,"user_id":5888946,"accept_rate":58,"display_name":"Tony"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694455063,"creation_date":1694455063,"answer_id":77083857,"question_id":77068557,"body_markdown":"I ended up doing this\r\n\r\n        Dimension size = termDateArrow.getSize();\r\n\t\tint width = size.getWidth();\r\n\t\tActions action = new Actions(driver);\r\n\r\n\t\taction.moveToElement(termDateArrow, (width / 2) - 5, 0).build().perform();\r\n\t\taction.click().build().perform();\r\n\t\tTestUtils.sleep(5000);\r\n\r\nfor some reason I had o click twice.  Unfortunately, it appears to be a Windows calendar picker so Selenium can&#39;t find it.  I just hit ENTER and verify the date is the current date","title":"bringing up calendar picker in input &lt;type=date&gt; with Selenium/Java","body":"<p>I ended up doing this</p>\n<pre><code>    Dimension size = termDateArrow.getSize();\n    int width = size.getWidth();\n    Actions action = new Actions(driver);\n\n    action.moveToElement(termDateArrow, (width / 2) - 5, 0).build().perform();\n    action.click().build().perform();\n    TestUtils.sleep(5000);\n</code></pre>\n<p>for some reason I had o click twice.  Unfortunately, it appears to be a Windows calendar picker so Selenium can't find it.  I just hit ENTER and verify the date is the current date</p>\n"}],"owner":{"account_id":7783163,"reputation":1123,"user_id":5888946,"accept_rate":58,"display_name":"Tony"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77083857,"answer_count":1,"score":0,"last_activity_date":1694455063,"creation_date":1694190805,"question_id":77068557,"body_markdown":"I have to test this date picker using Java and Selenium.  See picture.  The non yellow-highlighted part is where you put the date text, and the yellow part, when you click on it, brings up a date picker.\r\n\r\nMy problem is the whole field is just one input, and the only line inside a div:\r\n\r\n     &lt;div class=&quot;term_dateWidth__hL6-b&quot; style=&quot;visibility: visible;&quot;&gt;\r\n        &lt;input type=&quot;date&quot; id=&quot;start&quot; min=&quot;1900-01-01&quot; max=&quot;9999-12-30&quot; value=&quot;&quot;&gt;\r\n     &lt;/div&gt;\r\n\r\nI can find the element but when I click it it only highlights the text box and does not bring up the picker.  If I manually click on that highlighted part with the mouse it will bring it up.  I just can&#39;t figure out how to do it with Selenium.  I even tried the parent div but that did not work.\r\n\r\nI though maybe with Actions I could go to a point but that didn&#39;t seem to work either, though maybe I don&#39;t understand using dimensions correctly. Element *termDateArrow* has already been set to the input below.\r\n\r\n    public void clickTermDateArrow() {\r\n\t\tDimension size = termDateArrow.getSize();\r\n\t\tint height = size.getHeight();\r\n\t\tint width = size.getWidth();\r\n\t\tPoint point = termDateArrow.getLocation();\r\n\t\tint x = point.getX();\r\n\t\tint y = point.getY();\r\n\t\tActions action = new Actions(driver);\r\n\t\taction.moveToElement(termDateArrow, width - 1, y + 10).build().perform();\r\n\t}\r\n\r\nbut that doesn&#39;t work either.  I am trying to click an offset from the top left point (which getLocation() works. And yes I know I can send text to the box but that does not test the picker.\r\n\r\nAny suggestions?  See image\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UdXOu.png","title":"bringing up calendar picker in input &lt;type=date&gt; with Selenium/Java","body":"<p>I have to test this date picker using Java and Selenium.  See picture.  The non yellow-highlighted part is where you put the date text, and the yellow part, when you click on it, brings up a date picker.</p>\n<p>My problem is the whole field is just one input, and the only line inside a div:</p>\n<pre><code> &lt;div class=&quot;term_dateWidth__hL6-b&quot; style=&quot;visibility: visible;&quot;&gt;\n    &lt;input type=&quot;date&quot; id=&quot;start&quot; min=&quot;1900-01-01&quot; max=&quot;9999-12-30&quot; value=&quot;&quot;&gt;\n &lt;/div&gt;\n</code></pre>\n<p>I can find the element but when I click it it only highlights the text box and does not bring up the picker.  If I manually click on that highlighted part with the mouse it will bring it up.  I just can't figure out how to do it with Selenium.  I even tried the parent div but that did not work.</p>\n<p>I though maybe with Actions I could go to a point but that didn't seem to work either, though maybe I don't understand using dimensions correctly. Element <em>termDateArrow</em> has already been set to the input below.</p>\n<pre><code>public void clickTermDateArrow() {\n    Dimension size = termDateArrow.getSize();\n    int height = size.getHeight();\n    int width = size.getWidth();\n    Point point = termDateArrow.getLocation();\n    int x = point.getX();\n    int y = point.getY();\n    Actions action = new Actions(driver);\n    action.moveToElement(termDateArrow, width - 1, y + 10).build().perform();\n}\n</code></pre>\n<p>but that doesn't work either.  I am trying to click an offset from the top left point (which getLocation() works. And yes I know I can send text to the box but that does not test the picker.</p>\n<p>Any suggestions?  See image</p>\n<p><a href=\"https://i.stack.imgur.com/UdXOu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UdXOu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":4,"creation_date":1574750932,"post_id":59028797,"comment_id":104331820,"body_markdown":"Are you using Lombok by any chance?","body":"Are you using Lombok by any chance?"},{"owner":{"account_id":8129121,"reputation":1124,"user_id":6122975,"display_name":"Jose A. Matar&#225;n"},"score":3,"creation_date":1574753726,"post_id":59028797,"comment_id":104332913,"body_markdown":"Yes, I&#39;m using lombok, And I gues that my problem is by using lombok&#39;s builder with Mapstruct @Filip","body":"Yes, I&#39;m using lombok, And I gues that my problem is by using lombok&#39;s builder with Mapstruct @Filip"}],"answers":[{"comments":[{"owner":{"account_id":2885294,"reputation":587,"user_id":2475359,"accept_rate":57,"display_name":"Clawdidr"},"score":5,"creation_date":1613735534,"post_id":59058585,"comment_id":117174030,"body_markdown":"This one solved my issue. I had to remove @Builder annotation from my class.","body":"This one solved my issue. I had to remove @Builder annotation from my class."},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":2,"creation_date":1622047127,"post_id":59058585,"comment_id":119679799,"body_markdown":"@Clawdidr This could be an answer: so the ` @Builder` annotation make mapstruct `@AfterMapping` fail !","body":"@Clawdidr This could be an answer: so the ` @Builder` annotation make mapstruct <code>@AfterMapping</code> fail !"},{"owner":{"account_id":4229586,"reputation":590,"user_id":3462243,"accept_rate":100,"display_name":"uncle bob"},"score":2,"creation_date":1626365062,"post_id":59058585,"comment_id":120879447,"body_markdown":"thanks. this work for my case. but it&#39;s useless when we pass builder to aftermapping, i need to update base class not builder one","body":"thanks. this work for my case. but it&#39;s useless when we pass builder to aftermapping, i need to update base class not builder one"}],"tags":[],"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"comment_count":3,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1574798576,"creation_date":1574798576,"answer_id":59058585,"question_id":59028797,"body_markdown":"You can&#39;t pass the object (that is assumed to be immutable). You should pass the builder.. like this:\r\n\r\n```java\r\n@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\r\npublic interface ConfiguracionReautorizacionMapper {\r\n\r\n    ConfiguracionReautorizacionDTO toConfiguracionReautorizacionDTO(final ConfiguracionReautorizacion configuracionReautorizacion);\r\n\r\n    ConfiguracionReautorizacion toConfiguracionReautorizacion(final ConfiguracionReautorizacionDTO configuracionReautorizacionDTO);\r\n\r\n    @AfterMapping\r\n    default void fillServiciosAsociados(@MappingTarget final ConfiguracionReautorizacionDTO.Builder configuracionReautorizacionDTO, final ConfiguracionReautorizacion configuracionReautorizacion) {\r\n        configuracionReautorizacionDTO.setTieneRolesOServiciosAsociados(!(CollectionUtils.isEmpty(configuracionReautorizacion.getRolesAplicacionEdesk()) &amp;&amp; CollectionUtils.isEmpty(configuracionReautorizacion.getRolesAplicacionEdesk())));\r\n    }\r\n\r\n}\r\n```\r\nCheckout out MapStruct [issue 1556][1].. You can also disable builders from 1.3.1 onwards\r\n\r\n\r\n  [1]: https://github.com/mapstruct/mapstruct/issues/1556","title":"@AfterMapping is not called from @Mapper interface","body":"<p>You can't pass the object (that is assumed to be immutable). You should pass the builder.. like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\npublic interface ConfiguracionReautorizacionMapper {\n\n    ConfiguracionReautorizacionDTO toConfiguracionReautorizacionDTO(final ConfiguracionReautorizacion configuracionReautorizacion);\n\n    ConfiguracionReautorizacion toConfiguracionReautorizacion(final ConfiguracionReautorizacionDTO configuracionReautorizacionDTO);\n\n    @AfterMapping\n    default void fillServiciosAsociados(@MappingTarget final ConfiguracionReautorizacionDTO.Builder configuracionReautorizacionDTO, final ConfiguracionReautorizacion configuracionReautorizacion) {\n        configuracionReautorizacionDTO.setTieneRolesOServiciosAsociados(!(CollectionUtils.isEmpty(configuracionReautorizacion.getRolesAplicacionEdesk()) &amp;&amp; CollectionUtils.isEmpty(configuracionReautorizacion.getRolesAplicacionEdesk())));\n    }\n\n}\n</code></pre>\n\n<p>Checkout out MapStruct <a href=\"https://github.com/mapstruct/mapstruct/issues/1556\" rel=\"noreferrer\">issue 1556</a>.. You can also disable builders from 1.3.1 onwards</p>\n"},{"comments":[{"owner":{"account_id":53765,"reputation":1307,"user_id":160799,"accept_rate":75,"display_name":"Gregor"},"score":1,"creation_date":1643631247,"post_id":68571790,"comment_id":125383247,"body_markdown":"interesting, though you can only access input params and not work on your target object with already mapped values as in @AfterMapping, which I need to finalize a collection from other mapped values.","body":"interesting, though you can only access input params and not work on your target object with already mapped values as in @AfterMapping, which I need to finalize a collection from other mapped values."},{"owner":{"account_id":4213442,"reputation":421,"user_id":3450440,"display_name":"raji"},"score":0,"creation_date":1644049137,"post_id":68571790,"comment_id":125506306,"body_markdown":"That&#39;s an Interesting requirement though but I am not sure for your use case. Post me if you got to solve this use case.","body":"That&#39;s an Interesting requirement though but I am not sure for your use case. Post me if you got to solve this use case."},{"owner":{"account_id":53765,"reputation":1307,"user_id":160799,"accept_rate":75,"display_name":"Gregor"},"score":0,"creation_date":1645309997,"post_id":68571790,"comment_id":125838262,"body_markdown":"In the end, I removed the builder because it was the cleanest solution and the builder was only used in some test code.","body":"In the end, I removed the builder because it was the cleanest solution and the builder was only used in some test code."},{"owner":{"account_id":1850603,"reputation":912,"user_id":1677222,"display_name":"Mohamed El-Beltagy"},"score":0,"creation_date":1653328567,"post_id":68571790,"comment_id":127820524,"body_markdown":"If you&#39;re using lombok with mapstruct on the same beans, you have to use lombok-mapstruct-binding. Just add it as a dependency to your project and it will work. For more info: https://mapstruct.org/faq/#Can-I-use-MapStruct-together-with-Project-Lombok","body":"If you&#39;re using lombok with mapstruct on the same beans, you have to use lombok-mapstruct-binding. Just add it as a dependency to your project and it will work. For more info: <a href=\"https://mapstruct.org/faq/#Can-I-use-MapStruct-together-with-Project-Lombok\" rel=\"nofollow noreferrer\">mapstruct.org/faq/&hellip;</a>"}],"tags":[],"owner":{"account_id":4213442,"reputation":421,"user_id":3450440,"display_name":"raji"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1627543574,"creation_date":1627543574,"answer_id":68571790,"question_id":59028797,"body_markdown":"When you are using Lombok builder and mapstruct together. @AfterMapping is not much useful though you pass a Builder object, since we can&#39;t retrieve the processed values. Instead I have used the custom method in my mapper to resolve this issue.\r\n\r\n    @Mapping(target =&quot;field&quot;, expression = &quot;java(customMethod(obj))&quot;)\r\n\r\nthis solved my use case, hope it helps others too.\r\n\r\n","title":"@AfterMapping is not called from @Mapper interface","body":"<p>When you are using Lombok builder and mapstruct together. @AfterMapping is not much useful though you pass a Builder object, since we can't retrieve the processed values. Instead I have used the custom method in my mapper to resolve this issue.</p>\n<pre><code>@Mapping(target =&quot;field&quot;, expression = &quot;java(customMethod(obj))&quot;)\n</code></pre>\n<p>this solved my use case, hope it helps others too.</p>\n"},{"tags":[],"owner":{"account_id":8065471,"reputation":1181,"user_id":6079771,"display_name":"moolsbytheway"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648793945,"creation_date":1645178009,"answer_id":71171453,"question_id":59028797,"body_markdown":"This is a comment but can&#39;t fit in the comment section.\r\n\r\nIf someone is gonna use @raji&#39;s answer, you must pay attention to the name of the variable you pass to `customMethod`\r\n\r\ninstead of `obj` you must put the name of the variable in your mapper method.\r\n\r\nfor Example:\r\n\r\n    @Mapping(target =&quot;name&quot;, expression = &quot;java(resolveName(userModel))&quot;)\r\n    UserDTO toDTO(User userModel);\r\n\r\n\r\n    default String resolveName(final User model) {\r\n        return String.format(&quot;%s %s&quot;, model.firstName, model.lastName);\r\n    }","title":"@AfterMapping is not called from @Mapper interface","body":"<p>This is a comment but can't fit in the comment section.</p>\n<p>If someone is gonna use @raji's answer, you must pay attention to the name of the variable you pass to <code>customMethod</code></p>\n<p>instead of <code>obj</code> you must put the name of the variable in your mapper method.</p>\n<p>for Example:</p>\n<pre><code>@Mapping(target =&quot;name&quot;, expression = &quot;java(resolveName(userModel))&quot;)\nUserDTO toDTO(User userModel);\n\n\ndefault String resolveName(final User model) {\n    return String.format(&quot;%s %s&quot;, model.firstName, model.lastName);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17931322,"reputation":101,"user_id":13028688,"display_name":"Grizzled DevArch"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646775112,"creation_date":1646775112,"answer_id":71401676,"question_id":59028797,"body_markdown":"As mentioned in the comments the issue is because you are likely using Lombok Builder annotation for ConfiguracionReautorizacionDTO and ConfiguracionReautorizacion and possibly any of the nested classes of these classes. AfterMapping functionality does not play well with Lombok Builder. Again Lombok generally works with MapStruct, it seems Builder annotation is a specific issue. See if you can create the classes without using Builder annotation and then AfterMapping functionality should work as expected. ","title":"@AfterMapping is not called from @Mapper interface","body":"<p>As mentioned in the comments the issue is because you are likely using Lombok Builder annotation for ConfiguracionReautorizacionDTO and ConfiguracionReautorizacion and possibly any of the nested classes of these classes. AfterMapping functionality does not play well with Lombok Builder. Again Lombok generally works with MapStruct, it seems Builder annotation is a specific issue. See if you can create the classes without using Builder annotation and then AfterMapping functionality should work as expected.</p>\n"},{"tags":[],"owner":{"account_id":2106266,"reputation":5117,"user_id":1872540,"display_name":"LovaBill"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648490688,"creation_date":1648490688,"answer_id":71651773,"question_id":59028797,"body_markdown":"Thanks to @Sjaak answer which is the legit answer. For my case this worked:\r\n     \r\n     myAfterMapping(...,@MappingTarget MyBean.MyBeanBuilder&lt;?, ?&gt; myBean,...){\r\n     myBean.id(someValue);\r\n     }\r\n\r\nMyBeanBuilder is autogenerated (@Builder). ","title":"@AfterMapping is not called from @Mapper interface","body":"<p>Thanks to @Sjaak answer which is the legit answer. For my case this worked:</p>\n<pre><code> myAfterMapping(...,@MappingTarget MyBean.MyBeanBuilder&lt;?, ?&gt; myBean,...){\n myBean.id(someValue);\n }\n</code></pre>\n<p>MyBeanBuilder is autogenerated (@Builder).</p>\n"},{"comments":[{"owner":{"account_id":2254560,"reputation":199,"user_id":1986022,"accept_rate":50,"display_name":"jluiz20"},"score":2,"creation_date":1686259168,"post_id":72402243,"comment_id":134778438,"body_markdown":"It also works if you using `@Mapper`. The following worked for me\n`@Mapper(builder = @Builder(disableBuilder = true))`","body":"It also works if you using <code>@Mapper</code>. The following worked for me <code>@Mapper(builder = @Builder(disableBuilder = true))</code>"},{"owner":{"account_id":4351632,"reputation":8739,"user_id":3551773,"accept_rate":10,"display_name":"Bravo"},"score":0,"creation_date":1688711699,"post_id":72402243,"comment_id":135113108,"body_markdown":"this worked for me , thanks","body":"this worked for me , thanks"},{"owner":{"account_id":6768932,"reputation":195,"user_id":5212927,"display_name":"NHS"},"score":0,"creation_date":1699369596,"post_id":72402243,"comment_id":136521379,"body_markdown":"@jluiz20, this works with me, thanks","body":"@jluiz20, this works with me, thanks"}],"tags":[],"owner":{"account_id":2271766,"reputation":701,"user_id":1998971,"display_name":"Xuanyu"},"comment_count":3,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1653638265,"creation_date":1653638265,"answer_id":72402243,"question_id":59028797,"body_markdown":"It is a bug when using `Lombok#@Builder` and `Mapstruct@AfterMapping`\r\n\r\n\r\nPlease use this situation `@BeanMapping(builder = @Builder(disableBuilder = true))`.\r\n\r\nsee https://github.com/mapstruct/mapstruct/issues/1556#issuecomment-1011493330","title":"@AfterMapping is not called from @Mapper interface","body":"<p>It is a bug when using <code>Lombok#@Builder</code> and <code>Mapstruct@AfterMapping</code></p>\n<p>Please use this situation <code>@BeanMapping(builder = @Builder(disableBuilder = true))</code>.</p>\n<p>see <a href=\"https://github.com/mapstruct/mapstruct/issues/1556#issuecomment-1011493330\" rel=\"noreferrer\">https://github.com/mapstruct/mapstruct/issues/1556#issuecomment-1011493330</a></p>\n"},{"tags":[],"owner":{"account_id":1082769,"reputation":1160,"user_id":1079291,"display_name":"F. Geraerts"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694452784,"creation_date":1694452784,"answer_id":77083665,"question_id":59028797,"body_markdown":"This is specified in the mapstruct documentation. In the case of an @AfterMapping with a lombok builder, you should use the builder for the parameter with the @MappingTarget annotation. At the end of the linked paragraph: https://mapstruct.org/documentation/stable/reference/html/#customizing-mappings-with-before-and-after  : \r\n\r\n&gt; Important: when using a builder, the @AfterMapping annotated method must have the builder as @MappingTarget annotated parameter so that the method is able to modify the object going to be build. The build method is called when the @AfterMapping annotated method scope finishes. MapStruct will not call the @AfterMapping annotated method if the real target is used as @MappingTarget annotated parameter.","title":"@AfterMapping is not called from @Mapper interface","body":"<p>This is specified in the mapstruct documentation. In the case of an @AfterMapping with a lombok builder, you should use the builder for the parameter with the @MappingTarget annotation. At the end of the linked paragraph: <a href=\"https://mapstruct.org/documentation/stable/reference/html/#customizing-mappings-with-before-and-after\" rel=\"nofollow noreferrer\">https://mapstruct.org/documentation/stable/reference/html/#customizing-mappings-with-before-and-after</a>  :</p>\n<blockquote>\n<p>Important: when using a builder, the @AfterMapping annotated method must have the builder as @MappingTarget annotated parameter so that the method is able to modify the object going to be build. The build method is called when the @AfterMapping annotated method scope finishes. MapStruct will not call the @AfterMapping annotated method if the real target is used as @MappingTarget annotated parameter.</p>\n</blockquote>\n"}],"owner":{"account_id":8129121,"reputation":1124,"user_id":6122975,"display_name":"Jose A. Matar&#225;n"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28715,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"answer_count":7,"score":30,"last_activity_date":1694452784,"creation_date":1574674588,"question_id":59028797,"body_markdown":"I&#39;m having trouble using Mapstruct. \r\n\r\nI am using a `@Mapper` annotated interface with `@AfterMapping` inside like follow:\r\n\r\n    @Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\r\n    public interface ConfiguracionReautorizacionMapper {\r\n    \r\n        ConfiguracionReautorizacionDTO toConfiguracionReautorizacionDTO(final ConfiguracionReautorizacion configuracionReautorizacion);\r\n    \r\n        ConfiguracionReautorizacion toConfiguracionReautorizacion(final ConfiguracionReautorizacionDTO configuracionReautorizacionDTO);\r\n    \r\n        @AfterMapping\r\n        default void fillServiciosAsociados(@MappingTarget final ConfiguracionReautorizacionDTO configuracionReautorizacionDTO, final ConfiguracionReautorizacion configuracionReautorizacion) {\r\n            configuracionReautorizacionDTO.setTieneRolesOServiciosAsociados(!(CollectionUtils.isEmpty(configuracionReautorizacion.getRolesAplicacionEdesk()) &amp;&amp; CollectionUtils.isEmpty(configuracionReautorizacion.getRolesAplicacionEdesk())));\r\n        }\r\n    \r\n    }\r\n\r\nThe mapper works perfectly but the `@AfterMapping`method is never called. \r\nI read other post that shows examples using `abstract class` instead of `interface`. \r\n\r\nIs using `abstract class` mandatory for use `@AfterMapping` annotation?\r\n","title":"@AfterMapping is not called from @Mapper interface","body":"<p>I'm having trouble using Mapstruct. </p>\n\n<p>I am using a <code>@Mapper</code> annotated interface with <code>@AfterMapping</code> inside like follow:</p>\n\n<pre><code>@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\npublic interface ConfiguracionReautorizacionMapper {\n\n    ConfiguracionReautorizacionDTO toConfiguracionReautorizacionDTO(final ConfiguracionReautorizacion configuracionReautorizacion);\n\n    ConfiguracionReautorizacion toConfiguracionReautorizacion(final ConfiguracionReautorizacionDTO configuracionReautorizacionDTO);\n\n    @AfterMapping\n    default void fillServiciosAsociados(@MappingTarget final ConfiguracionReautorizacionDTO configuracionReautorizacionDTO, final ConfiguracionReautorizacion configuracionReautorizacion) {\n        configuracionReautorizacionDTO.setTieneRolesOServiciosAsociados(!(CollectionUtils.isEmpty(configuracionReautorizacion.getRolesAplicacionEdesk()) &amp;&amp; CollectionUtils.isEmpty(configuracionReautorizacion.getRolesAplicacionEdesk())));\n    }\n\n}\n</code></pre>\n\n<p>The mapper works perfectly but the <code>@AfterMapping</code>method is never called. \nI read other post that shows examples using <code>abstract class</code> instead of <code>interface</code>. </p>\n\n<p>Is using <code>abstract class</code> mandatory for use <code>@AfterMapping</code> annotation?</p>\n"},{"tags":["java","android","string","integer"],"comments":[{"owner":{"account_id":1735730,"reputation":1154,"user_id":1684254,"display_name":"Akin Okegbile"},"score":0,"creation_date":1694568049,"post_id":77083523,"comment_id":135907306,"body_markdown":"Can you share the full error trace? Instead of the tldr?","body":"Can you share the full error trace? Instead of the tldr?"}],"answers":[{"tags":[],"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694452192,"creation_date":1694452192,"answer_id":77083592,"question_id":77083523,"body_markdown":"The error is caused by this code\r\n\r\n    unitResultView.setText((int) unitResult);\r\n\r\nAndroid interprets this integer value as a resource ID, which is causing the error. To fix it, you should convert the integer to a string before setting it on the text view.\r\n\r\n    unitResultView.setText(String.valueOf((int) unitResult));\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Issues converting int into string (resource errror)","body":"<p>The error is caused by this code</p>\n<pre><code>unitResultView.setText((int) unitResult);\n</code></pre>\n<p>Android interprets this integer value as a resource ID, which is causing the error. To fix it, you should convert the integer to a string before setting it on the text view.</p>\n<pre><code>unitResultView.setText(String.valueOf((int) unitResult));\n</code></pre>\n"}],"owner":{"account_id":29310513,"reputation":5,"user_id":22456418,"display_name":"MysticSticker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77083592,"answer_count":1,"score":0,"last_activity_date":1694452192,"creation_date":1694451586,"question_id":77083523,"body_markdown":"trying to take user inputs and use that to do calculations. However from what I can understand, I didn&#39;t properly convert my int into a string so it&#39;s trying to find a resource id for the int. How would i go about fixing this?\r\n\r\n\r\n\r\n```\r\npublic void calculateAndDisplay() {\r\n\r\n        editNumString = editNumText.getText().toString();\r\n        float num; //this num is causing the issue\r\n        if (editNumString.equals(&quot;&quot;)){\r\n            num = 0;\r\n        } else {\r\n            num = Float.parseFloat(String.valueOf(editNumString));\r\n        }\r\n\r\n        float unitResult = 0;\r\n        if (unitSelect.getSelectedItem().toString().trim().equals(&quot;Miles to Kilometers&quot;)) {\r\n            unitResult = (float) (num * 1.6093);\r\n\r\n        } else if (unitSelect.getSelectedItem().toString().trim().equals(&quot;Kilometers to Miles&quot;)) {\r\n            unitResult = (float) (num * 0.6214);\r\n\r\n        } else if (unitSelect.getSelectedItem().toString().trim().equals(&quot;Inches to Centimeters&quot;)) {\r\n            unitResult = (float) (num * 2.54);\r\n\r\n        } else if (unitSelect.getSelectedItem().toString().trim().equals(&quot;Centimeters to Inches&quot;)) {\r\n            unitResult = (float) (num * 0.3937);\r\n        }\r\n        unitResultView.setText((int) unitResult);\r\n    }\r\n\r\n//below is the tldr error\r\nandroid.content.res.Resources$NotFoundException: String resource ID #0x0\r\n```\r\n\r\n\r\nI tried initializing num=0, setText, and String.valueOf. One of these is probably correct and I implemented it wrong.","title":"Issues converting int into string (resource errror)","body":"<p>trying to take user inputs and use that to do calculations. However from what I can understand, I didn't properly convert my int into a string so it's trying to find a resource id for the int. How would i go about fixing this?</p>\n<pre><code>public void calculateAndDisplay() {\n\n        editNumString = editNumText.getText().toString();\n        float num; //this num is causing the issue\n        if (editNumString.equals(&quot;&quot;)){\n            num = 0;\n        } else {\n            num = Float.parseFloat(String.valueOf(editNumString));\n        }\n\n        float unitResult = 0;\n        if (unitSelect.getSelectedItem().toString().trim().equals(&quot;Miles to Kilometers&quot;)) {\n            unitResult = (float) (num * 1.6093);\n\n        } else if (unitSelect.getSelectedItem().toString().trim().equals(&quot;Kilometers to Miles&quot;)) {\n            unitResult = (float) (num * 0.6214);\n\n        } else if (unitSelect.getSelectedItem().toString().trim().equals(&quot;Inches to Centimeters&quot;)) {\n            unitResult = (float) (num * 2.54);\n\n        } else if (unitSelect.getSelectedItem().toString().trim().equals(&quot;Centimeters to Inches&quot;)) {\n            unitResult = (float) (num * 0.3937);\n        }\n        unitResultView.setText((int) unitResult);\n    }\n\n//below is the tldr error\nandroid.content.res.Resources$NotFoundException: String resource ID #0x0\n</code></pre>\n<p>I tried initializing num=0, setText, and String.valueOf. One of these is probably correct and I implemented it wrong.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7497949,"reputation":370,"user_id":5697456,"display_name":"suresh madaparthi"},"score":0,"creation_date":1694499728,"post_id":77083581,"comment_id":135894905,"body_markdown":"share to your code after u will get solution","body":"share to your code after u will get solution"}],"owner":{"account_id":29416578,"reputation":1,"user_id":22539285,"display_name":"Haroon Javaid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694452181,"answer_count":0,"score":0,"last_activity_date":1694452067,"creation_date":1694452067,"question_id":77083581,"body_markdown":" got an while i am doing my code\r\n\r\nMy Error is :\r\n\r\n`FATAL EXCEPTION: main\r\n                                                                                                    Process: com.hurricanedev.muslimpro, PID: 13553\r\n                                                                                                    java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.hurricanedev.muslimpro/com.hurricanedev.muslimpro.activity.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String android.content.Context.getPackageName()&#39; on a null object reference\r\n                                                                                                    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3849)\r\n                                                                                                    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4096)\r\n                                                                                                    \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2441)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:233)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:334)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:8396)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:582)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1068)\r\n                                                                                                    Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String android.content.Context.getPackageName()&#39; on a null object reference\r\n                                                                                                    \tat android.content.ContextWrapper.getPackageName(ContextWrapper.java:152)\r\n                                                                                                    \tat android.content.ComponentName.&lt;init&gt;(ComponentName.java:132)\r\n                                                                                                    \tat android.content.Intent.&lt;init&gt;(Intent.java:7158)\r\n                                                                                                    \tat com.hurricanedev.muslimpro.activity.MainActivity.&lt;init&gt;(MainActivity.java:377)\r\n                                                                                                    \tat java.lang.Class.newInstance(Native Method)\r\n                                                                                                    \tat android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\r\n                                                                                                    \tat android.app.Instrumentation.newActivity(Instrumentation.java:1323)\r\n                                                                                                    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3830)\r\n                                                                                                    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4096)&#160;\r\n                                                                                                    \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)&#160;\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2441)&#160;\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:233)&#160;\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:334)&#160;\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:8396)&#160;\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:582)&#160;\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1068)&#160;`\r\n\r\nMy app is crashing after splash screen.\r\n\r\nMy app is crashing after splash screen.","title":"Error java.lang.RuntimeException: Unable to instantiate activity","body":"<p>got an while i am doing my code</p>\n<p>My Error is :</p>\n<p><code>FATAL EXCEPTION: main Process: com.hurricanedev.muslimpro, PID: 13553 java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.hurricanedev.muslimpro/com.hurricanedev.muslimpro.activity.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String android.content.Context.getPackageName()' on a null object reference at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3849) at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4096) at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103) at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2441) at android.os.Handler.dispatchMessage(Handler.java:106) at android.os.Looper.loopOnce(Looper.java:233) at android.os.Looper.loop(Looper.java:334) at android.app.ActivityThread.main(ActivityThread.java:8396) at java.lang.reflect.Method.invoke(Native Method) at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:582) at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1068) Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String android.content.Context.getPackageName()' on a null object reference at android.content.ContextWrapper.getPackageName(ContextWrapper.java:152) at android.content.ComponentName.&lt;init&gt;(ComponentName.java:132) at android.content.Intent.&lt;init&gt;(Intent.java:7158) at com.hurricanedev.muslimpro.activity.MainActivity.&lt;init&gt;(MainActivity.java:377) at java.lang.Class.newInstance(Native Method) at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95) at android.app.Instrumentation.newActivity(Instrumentation.java:1323) at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3830) at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4096)  at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)  at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)  at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2441)  at android.os.Handler.dispatchMessage(Handler.java:106)  at android.os.Looper.loopOnce(Looper.java:233)  at android.os.Looper.loop(Looper.java:334)  at android.app.ActivityThread.main(ActivityThread.java:8396)  at java.lang.reflect.Method.invoke(Native Method)  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:582)  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1068) </code></p>\n<p>My app is crashing after splash screen.</p>\n<p>My app is crashing after splash screen.</p>\n"},{"tags":["java","android","kotlin","android-fragments","kotlin-coroutines"],"comments":[{"owner":{"account_id":2294849,"reputation":332016,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"score":0,"creation_date":1602404453,"post_id":64301874,"comment_id":113704915,"body_markdown":"Post your layout","body":"Post your layout"}],"answers":[{"comments":[{"owner":{"display_name":"user14295959"},"score":0,"creation_date":1602405111,"post_id":64302024,"comment_id":113705064,"body_markdown":"This works but I have another error. When I click on the floatingAction Button to switch between fragments the app crashes","body":"This works but I have another error. When I click on the floatingAction Button to switch between fragments the app crashes"},{"owner":{"account_id":2294849,"reputation":332016,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"score":0,"creation_date":1602405223,"post_id":64302024,"comment_id":113705088,"body_markdown":"@michael.grigoryan It is a different kind of issue. Post a new question with your graph, fragment_list.xml layout and the full stacktrace.","body":"@michael.grigoryan It is a different kind of issue. Post a new question with your graph, fragment_list.xml layout and the full stacktrace."},{"owner":{"display_name":"user14295959"},"score":0,"creation_date":1602405443,"post_id":64302024,"comment_id":113705145,"body_markdown":"Check Out the Edit 2","body":"Check Out the Edit 2"}],"tags":[],"owner":{"account_id":2294849,"reputation":332016,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1602404977,"creation_date":1602404977,"answer_id":64302024,"question_id":64301874,"body_markdown":"In your MainActivity layout use:\r\n\r\n       &lt;fragment\r\n            android:id=&quot;@+id/fragment&quot;\r\n            android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;","title":"Issue with setupActionBarWithNavController in Kotlin","body":"<p>In your MainActivity layout use:</p>\n<pre><code>   &lt;fragment\n        android:id=&quot;@+id/fragment&quot;\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1694497804,"post_id":77083515,"comment_id":135894681,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77083515/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23610789,"reputation":1,"user_id":17645840,"display_name":"Artian RIKA"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694451611,"creation_date":1694451515,"answer_id":77083515,"question_id":64301874,"body_markdown":"First things first: You need to have visible action bar!\r\n\r\nGo to the themes file and change the parent to:\r\n\r\nparent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;\r\n","title":"Issue with setupActionBarWithNavController in Kotlin","body":"<p>First things first: You need to have visible action bar!</p>\n<p>Go to the themes file and change the parent to:</p>\n<p>parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;</p>\n"}],"owner":{"display_name":"user14295959"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64302024,"answer_count":2,"score":0,"last_activity_date":1694451611,"creation_date":1602403774,"question_id":64301874,"body_markdown":"I am creating an app with Kotlin and Android Studio. Every dependency is on it&#39;s latest version. I&#39;m trying to customize the `app toolbar&#39;s label` with Android Jetpack Navigation component label. In my `MainActivity.kt` I have this code.\r\n```kotlin\r\n// MainActivity.kt\r\n\r\npackage com.michaelgrigoryan.roomdbapp\r\n\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport androidx.navigation.findNavController\r\nimport androidx.navigation.ui.setupActionBarWithNavController\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        setupActionBarWithNavController(findNavController(R.id.fragment))\r\n    }\r\n}\r\n```\r\n\r\nIn my `ListFragment`\r\n```kotlin\r\n//ListFragment.kt\r\npackage com.michaelgrigoryan.roomdbapp.fragments.list\r\n\r\nimport android.os.Bundle\r\nimport androidx.fragment.app.Fragment\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport androidx.navigation.fragment.findNavController\r\nimport com.michaelgrigoryan.roomdbapp.R\r\nimport kotlinx.android.synthetic.main.fragment_list.view.*\r\n\r\nclass ListFragment : Fragment() {\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View? {\r\n        // Inflate the layout for this fragment\r\n        val view = inflater.inflate(R.layout.fragment_list, container, false)\r\n\r\n        view.floatingActionButton.setOnClickListener {\r\n            findNavController().navigate(R.id.action_listFragment_to_addFragment)\r\n        }\r\n\r\n        return view\r\n    }\r\n}\r\n```\r\nAnd in my `AddFragment`\r\n```kotlin\r\n// AddFragment\r\npackage com.michaelgrigoryan.roomdbapp.fragments.add\r\n\r\nimport android.os.Bundle\r\nimport androidx.fragment.app.Fragment\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport androidx.navigation.fragment.findNavController\r\nimport com.michaelgrigoryan.roomdbapp.R\r\nimport kotlinx.android.synthetic.main.fragment_add.view.*\r\n\r\n\r\nclass AddFragment : Fragment() {\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View? {\r\n        // Inflate the layout for this fragment\r\n        val view = inflater.inflate(R.layout.fragment_add, container, false)\r\n\r\n        view.saveButton.setOnClickListener {\r\n            findNavController().navigate(R.id.action_addFragment_to_listFragment)\r\n        }\r\n        return view\r\n    }\r\n}\r\n```\r\n\r\nMy app doesn&#39;t even launch. Here&#39;s the LOGCAT Output on that error\r\n\r\n```raw\r\n2020-10-11 12:03:51.219 11162-11162/com.michaelgrigoryan.roomdbapp E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.michaelgrigoryan.roomdbapp, PID: 11162\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.michaelgrigoryan.roomdbapp/com.michaelgrigoryan.roomdbapp.MainActivity}: java.lang.IllegalStateException: Activity com.michaelgrigoryan.roomdbapp.MainActivity@6d0f1b does not have a NavController set on 2131230870\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n     Caused by: java.lang.IllegalStateException: Activity com.michaelgrigoryan.roomdbapp.MainActivity@6d0f1b does not have a NavController set on 2131230870\r\n        at androidx.navigation.Navigation.findNavController(Navigation.java:61)\r\n        at androidx.navigation.ActivityKt.findNavController(Activity.kt:30)\r\n        at com.michaelgrigoryan.roomdbapp.MainActivity.onCreate(MainActivity.kt:13)\r\n        at android.app.Activity.performCreate(Activity.java:8000)\r\n        at android.app.Activity.performCreate(Activity.java:7984)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:223)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)&#160;\r\n```\r\n\r\n**EDIT**\r\n&lt;br&gt;\r\nHere are my Layouts&lt;br&gt;\r\nActivityMain\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/fragment&quot;\r\n        android:layout_width=&quot;409dp&quot;\r\n        android:layout_height=&quot;729dp&quot;\r\n        app:defaultNavHost=&quot;true&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:navGraph=&quot;@navigation/my_nav&quot;\r\n        tools:layout=&quot;@layout/fragment_list&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\nfragment_list.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.fragments.list.ListFragment&quot;&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recyclerView&quot;\r\n        android:layout_width=&quot;409dp&quot;\r\n        android:layout_height=&quot;729dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=&quot;@+id/floatingActionButton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginEnd=&quot;24dp&quot;\r\n        android:layout_marginBottom=&quot;24dp&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:focusable=&quot;true&quot;\r\n        android:src=&quot;@drawable/ic_baseline_add_24&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\nfragment_add.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/addFragment&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.fragments.add.AddFragment&quot;&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/inputFirstName&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;164dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;First Name&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/inputLastName&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;15dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Last Name&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/inputFirstName&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/inputAge&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;16dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Age&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/inputLastName&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=&quot;@+id/saveButton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;312dp&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:focusable=&quot;true&quot;\r\n        android:src=&quot;@drawable/ic_baseline_save_alt_24&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/inputAge&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n**EDIT 2**\r\n&lt;br&gt;\r\nAfter adding `android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;` to my fragment in my main layout i have a new problem. The app loads properly but now it crashes when I click on the floatingActionButton to change fragments.\r\n&lt;br&gt;\r\nHere&#39;s my logcat output\r\n```raw\r\n2020-10-11 12:36:33.348 11853-11853/com.michaelgrigoryan.roomdbapp E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.michaelgrigoryan.roomdbapp, PID: 11853\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;void com.google.android.material.floatingactionbutton.FloatingActionButton.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n        at com.michaelgrigoryan.roomdbapp.fragments.add.AddFragment.onCreateView(AddFragment.kt:32)\r\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2698)\r\n        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:320)\r\n        at androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1187)\r\n        at androidx.fragment.app.FragmentManager.addAddedFragments(FragmentManager.java:2224)\r\n        at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:1997)\r\n        at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:1953)\r\n        at androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:1849)\r\n        at androidx.fragment.app.FragmentManager$4.run(FragmentManager.java:413)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n```","title":"Issue with setupActionBarWithNavController in Kotlin","body":"<p>I am creating an app with Kotlin and Android Studio. Every dependency is on it's latest version. I'm trying to customize the <code>app toolbar's label</code> with Android Jetpack Navigation component label. In my <code>MainActivity.kt</code> I have this code.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// MainActivity.kt\n\npackage com.michaelgrigoryan.roomdbapp\n\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport androidx.navigation.findNavController\nimport androidx.navigation.ui.setupActionBarWithNavController\n\nclass MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        setupActionBarWithNavController(findNavController(R.id.fragment))\n    }\n}\n</code></pre>\n<p>In my <code>ListFragment</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>//ListFragment.kt\npackage com.michaelgrigoryan.roomdbapp.fragments.list\n\nimport android.os.Bundle\nimport androidx.fragment.app.Fragment\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport androidx.navigation.fragment.findNavController\nimport com.michaelgrigoryan.roomdbapp.R\nimport kotlinx.android.synthetic.main.fragment_list.view.*\n\nclass ListFragment : Fragment() {\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        // Inflate the layout for this fragment\n        val view = inflater.inflate(R.layout.fragment_list, container, false)\n\n        view.floatingActionButton.setOnClickListener {\n            findNavController().navigate(R.id.action_listFragment_to_addFragment)\n        }\n\n        return view\n    }\n}\n</code></pre>\n<p>And in my <code>AddFragment</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// AddFragment\npackage com.michaelgrigoryan.roomdbapp.fragments.add\n\nimport android.os.Bundle\nimport androidx.fragment.app.Fragment\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport androidx.navigation.fragment.findNavController\nimport com.michaelgrigoryan.roomdbapp.R\nimport kotlinx.android.synthetic.main.fragment_add.view.*\n\n\nclass AddFragment : Fragment() {\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        // Inflate the layout for this fragment\n        val view = inflater.inflate(R.layout.fragment_add, container, false)\n\n        view.saveButton.setOnClickListener {\n            findNavController().navigate(R.id.action_addFragment_to_listFragment)\n        }\n        return view\n    }\n}\n</code></pre>\n<p>My app doesn't even launch. Here's the LOGCAT Output on that error</p>\n<pre><code>2020-10-11 12:03:51.219 11162-11162/com.michaelgrigoryan.roomdbapp E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.michaelgrigoryan.roomdbapp, PID: 11162\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.michaelgrigoryan.roomdbapp/com.michaelgrigoryan.roomdbapp.MainActivity}: java.lang.IllegalStateException: Activity com.michaelgrigoryan.roomdbapp.MainActivity@6d0f1b does not have a NavController set on 2131230870\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n     Caused by: java.lang.IllegalStateException: Activity com.michaelgrigoryan.roomdbapp.MainActivity@6d0f1b does not have a NavController set on 2131230870\n        at androidx.navigation.Navigation.findNavController(Navigation.java:61)\n        at androidx.navigation.ActivityKt.findNavController(Activity.kt:30)\n        at com.michaelgrigoryan.roomdbapp.MainActivity.onCreate(MainActivity.kt:13)\n        at android.app.Activity.performCreate(Activity.java:8000)\n        at android.app.Activity.performCreate(Activity.java:7984)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601) \n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85) \n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066) \n        at android.os.Handler.dispatchMessage(Handler.java:106) \n        at android.os.Looper.loop(Looper.java:223) \n        at android.app.ActivityThread.main(ActivityThread.java:7656) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947) \n</code></pre>\n<p><strong>EDIT</strong>\n<br>\nHere are my Layouts<br>\nActivityMain</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/fragment&quot;\n        android:layout_width=&quot;409dp&quot;\n        android:layout_height=&quot;729dp&quot;\n        app:defaultNavHost=&quot;true&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:navGraph=&quot;@navigation/my_nav&quot;\n        tools:layout=&quot;@layout/fragment_list&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>fragment_list.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.fragments.list.ListFragment&quot;&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recyclerView&quot;\n        android:layout_width=&quot;409dp&quot;\n        android:layout_height=&quot;729dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=&quot;@+id/floatingActionButton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginEnd=&quot;24dp&quot;\n        android:layout_marginBottom=&quot;24dp&quot;\n        android:clickable=&quot;true&quot;\n        android:focusable=&quot;true&quot;\n        android:src=&quot;@drawable/ic_baseline_add_24&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>fragment_add.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/addFragment&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.fragments.add.AddFragment&quot;&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/inputFirstName&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;164dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;First Name&quot;\n        android:inputType=&quot;textPersonName&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/inputLastName&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;15dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Last Name&quot;\n        android:inputType=&quot;textPersonName&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/inputFirstName&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/inputAge&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Age&quot;\n        android:inputType=&quot;textPersonName&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/inputLastName&quot; /&gt;\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=&quot;@+id/saveButton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;312dp&quot;\n        android:clickable=&quot;true&quot;\n        android:focusable=&quot;true&quot;\n        android:src=&quot;@drawable/ic_baseline_save_alt_24&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/inputAge&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>EDIT 2</strong>\n<br>\nAfter adding <code>android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;</code> to my fragment in my main layout i have a new problem. The app loads properly but now it crashes when I click on the floatingActionButton to change fragments.\n<br>\nHere's my logcat output</p>\n<pre><code>2020-10-11 12:36:33.348 11853-11853/com.michaelgrigoryan.roomdbapp E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.michaelgrigoryan.roomdbapp, PID: 11853\n    java.lang.NullPointerException: Attempt to invoke virtual method 'void com.google.android.material.floatingactionbutton.FloatingActionButton.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\n        at com.michaelgrigoryan.roomdbapp.fragments.add.AddFragment.onCreateView(AddFragment.kt:32)\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2698)\n        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:320)\n        at androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1187)\n        at androidx.fragment.app.FragmentManager.addAddedFragments(FragmentManager.java:2224)\n        at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:1997)\n        at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:1953)\n        at androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:1849)\n        at androidx.fragment.app.FragmentManager$4.run(FragmentManager.java:413)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n</code></pre>\n"},{"tags":["java","json","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1694450614,"post_id":77083344,"comment_id":135889567,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"}],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694451449,"creation_date":1694451449,"answer_id":77083508,"question_id":77083344,"body_markdown":"Your payload doesn&#39;t match your code, it should be:\r\n\r\n```json\r\n{\r\n    &quot;orderLineItemsDtoList&quot;: [\r\n        {\r\n            &quot;skuCode&quot;: &quot;i_Phone_13&quot;,\r\n            &quot;price&quot;: 1200,\r\n            &quot;quantity&quot;: 1\r\n        }\r\n    ]\r\n}\r\n```","title":"Getting error form Servlet.service() for servlet [dispatcherServlet] java.lang.NullPointerException]","body":"<p>Your payload doesn't match your code, it should be:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;orderLineItemsDtoList&quot;: [\n        {\n            &quot;skuCode&quot;: &quot;i_Phone_13&quot;,\n            &quot;price&quot;: 1200,\n            &quot;quantity&quot;: 1\n        }\n    ]\n}\n</code></pre>\n"}],"owner":{"account_id":27495475,"reputation":3,"user_id":20980046,"display_name":"abhishek yadav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77083508,"answer_count":1,"score":0,"last_activity_date":1694451449,"creation_date":1694449921,"question_id":77083344,"body_markdown":"I&#39;m trying to create a service to order something. But when doing a post request using URL {http://localhost:8092/api/order} and the payload data is :\r\n```\r\n{\r\n    &quot;OrderLineItemsDto&quot;:[\r\n        {\r\n            &quot;skuCode&quot;:&quot;i_Phone_13&quot;,\r\n            &quot;price&quot;:1200,\r\n            &quot;quantity&quot;:1\r\n        }\r\n    ]\r\n}\r\n```\r\nIt is giving error : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause.\r\nAnd a null pointer exception at this point in below service class\r\n```\r\nList&lt;OrderLineItems&gt; orderLineItems = orderRequest.getOrderLineItemsDtoList()\r\n                .stream() //Here it is giving the null pointer exception\r\n                .map(this::mapToDto)\r\n                .collect(Collectors.toList());\r\n```\r\n\r\n```\r\nEntities\r\n@Entity\r\n@Table(name = &quot;t_orders&quot;)\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Order {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private String id;\r\n    private String orderNumber;\r\n    @OneToMany(cascade = CascadeType.ALL)\r\n    private List&lt;OrderLineItems&gt; orderLineItemsList;\r\n}\r\n```\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table(name = &quot;t_order_line_items&quot;)\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class OrderLineItems {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private String id;\r\n    private String skuCode;\r\n    private BigDecimal price;\r\n    private Integer quantity;\r\n}\r\n```\r\n\r\nDAO\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class OrderLineItemsDto {\r\n    private String id;\r\n    private String skuCode;\r\n    private BigDecimal price;\r\n    private Integer quantity;\r\n}\r\n```\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class OrderRequest {\r\n    private List&lt;OrderLineItemsDto&gt; orderLineItemsDtoList;\r\n}\r\n```\r\n\r\n```\r\nService Class\r\n@Service\r\npublic class OrderServiceImpl implements OrderService {\r\n    private final OrderRepository orderRepository;\r\n    @Autowired\r\n    public OrderServiceImpl(OrderRepository orderRepository) {\r\n        this.orderRepository = orderRepository;\r\n    }\r\n\r\n    @Override\r\n    public void placeOrder(OrderRequest orderRequest) {\r\n        Order order = new Order();\r\n        order.setOrderNumber(UUID.randomUUID().toString());\r\n\r\n        List&lt;OrderLineItems&gt; orderLineItems = orderRequest.getOrderLineItemsDtoList()\r\n                .stream() ***At This line it is giving null pointer exception***\r\n                .map(this::mapToDto)\r\n                .collect(Collectors.toList());\r\n\r\n        order.setOrderLineItemsList(orderLineItems);\r\n        orderRepository.save(order);\r\n    }    private OrderLineItems mapToDto(OrderLineItemsDto orderLineItemsDto) {\r\n        OrderLineItems orderLineItems = new OrderLineItems();\r\n        orderLineItems.setPrice(orderLineItemsDto.getPrice());\r\n        orderLineItems.setQuantity(orderLineItemsDto.getQuantity());\r\n        orderLineItems.setSkuCode(orderLineItemsDto.getSkuCode());\r\n\r\n        return orderLineItems;\r\n    }\r\n}\r\n```\r\n\r\n","title":"Getting error form Servlet.service() for servlet [dispatcherServlet] java.lang.NullPointerException]","body":"<p>I'm trying to create a service to order something. But when doing a post request using URL {http://localhost:8092/api/order} and the payload data is :</p>\n<pre><code>{\n    &quot;OrderLineItemsDto&quot;:[\n        {\n            &quot;skuCode&quot;:&quot;i_Phone_13&quot;,\n            &quot;price&quot;:1200,\n            &quot;quantity&quot;:1\n        }\n    ]\n}\n</code></pre>\n<p>It is giving error : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause.\nAnd a null pointer exception at this point in below service class</p>\n<pre><code>List&lt;OrderLineItems&gt; orderLineItems = orderRequest.getOrderLineItemsDtoList()\n                .stream() //Here it is giving the null pointer exception\n                .map(this::mapToDto)\n                .collect(Collectors.toList());\n</code></pre>\n<pre><code>Entities\n@Entity\n@Table(name = &quot;t_orders&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Order {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private String id;\n    private String orderNumber;\n    @OneToMany(cascade = CascadeType.ALL)\n    private List&lt;OrderLineItems&gt; orderLineItemsList;\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\n@Entity\n@Table(name = &quot;t_order_line_items&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\npublic class OrderLineItems {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private String id;\n    private String skuCode;\n    private BigDecimal price;\n    private Integer quantity;\n}\n</code></pre>\n<p>DAO</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\npublic class OrderLineItemsDto {\n    private String id;\n    private String skuCode;\n    private BigDecimal price;\n    private Integer quantity;\n}\n</code></pre>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\npublic class OrderRequest {\n    private List&lt;OrderLineItemsDto&gt; orderLineItemsDtoList;\n}\n</code></pre>\n<pre><code>Service Class\n@Service\npublic class OrderServiceImpl implements OrderService {\n    private final OrderRepository orderRepository;\n    @Autowired\n    public OrderServiceImpl(OrderRepository orderRepository) {\n        this.orderRepository = orderRepository;\n    }\n\n    @Override\n    public void placeOrder(OrderRequest orderRequest) {\n        Order order = new Order();\n        order.setOrderNumber(UUID.randomUUID().toString());\n\n        List&lt;OrderLineItems&gt; orderLineItems = orderRequest.getOrderLineItemsDtoList()\n                .stream() ***At This line it is giving null pointer exception***\n                .map(this::mapToDto)\n                .collect(Collectors.toList());\n\n        order.setOrderLineItemsList(orderLineItems);\n        orderRepository.save(order);\n    }    private OrderLineItems mapToDto(OrderLineItemsDto orderLineItemsDto) {\n        OrderLineItems orderLineItems = new OrderLineItems();\n        orderLineItems.setPrice(orderLineItemsDto.getPrice());\n        orderLineItems.setQuantity(orderLineItemsDto.getQuantity());\n        orderLineItems.setSkuCode(orderLineItemsDto.getSkuCode());\n\n        return orderLineItems;\n    }\n}\n</code></pre>\n"},{"tags":["java","testing","intellij-idea","apache-flink"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1640000669,"post_id":70421139,"comment_id":124483107,"body_markdown":"Have you tried to run reload in build tool window after adding dependencies?","body":"Have you tried to run reload in build tool window after adding dependencies?"},{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1640076985,"post_id":70421139,"comment_id":124503590,"body_markdown":"Can you spell out in more detail what you&#39;ve tried?","body":"Can you spell out in more detail what you&#39;ve tried?"},{"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1665415419,"post_id":70421139,"comment_id":130689319,"body_markdown":"*but Intellj can&#39;t resolve symbol.* - which symbol? where is the code? how can we guess without seeing it?","body":"<i>but Intellj can&#39;t resolve symbol.</i> - which symbol? where is the code? how can we guess without seeing it?"},{"owner":{"account_id":216381,"reputation":387,"user_id":471604,"display_name":"Alan Zhong"},"score":0,"creation_date":1678107520,"post_id":70421139,"comment_id":133463582,"body_markdown":"I m having the same problem. I cannot find the TestHarness classes for flink-test-utils, flink-streaming-java, flink-runtime, and flink-test-utils-junit.","body":"I m having the same problem. I cannot find the TestHarness classes for flink-test-utils, flink-streaming-java, flink-runtime, and flink-test-utils-junit."}],"answers":[{"tags":[],"owner":{"account_id":475069,"reputation":479,"user_id":885175,"accept_rate":50,"display_name":"ender"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641202334,"creation_date":1641202334,"answer_id":70563783,"question_id":70421139,"body_markdown":"Try to add below to ur build.gradle&#39;s dependencies block:\r\n\r\n    testImplementation &#39;org.apache.flink:flink-test-utils_2.11:1.14.2&#39;\r\n    testImplementation &#39;org.apache.flink:flink-runtime:1.14.2&#39;\r\n    testImplementation &#39;org.apache.flink:flink-streaming-java_2.11:1.14.2:tests&#39;\r\n\r\nReference: https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/dev/datastream/testing/","title":"intellij cant find Flink Test Harness util","body":"<p>Try to add below to ur build.gradle's dependencies block:</p>\n<pre><code>testImplementation 'org.apache.flink:flink-test-utils_2.11:1.14.2'\ntestImplementation 'org.apache.flink:flink-runtime:1.14.2'\ntestImplementation 'org.apache.flink:flink-streaming-java_2.11:1.14.2:tests'\n</code></pre>\n<p>Reference: <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/dev/datastream/testing/\" rel=\"nofollow noreferrer\">https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/dev/datastream/testing/</a></p>\n"},{"tags":[],"owner":{"account_id":13687954,"reputation":103,"user_id":9876595,"display_name":"Bosco Han"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665415320,"creation_date":1665415320,"answer_id":74017145,"question_id":70421139,"body_markdown":"This worked for me, using SBT. I&#39;m on Flink version &#39;1.12.2&#39; and scalaVersion &#39;2.12&#39;\r\n\r\n      &quot;org.apache.flink&quot; %% &quot;flink-test-utils&quot; % flinkVersion % Test,\r\n      &quot;org.apache.flink&quot; %% &quot;flink-streaming-java&quot; % flinkVersion % Test,\r\n      &quot;org.apache.flink&quot; %% &quot;flink-runtime&quot; % flinkVersion % Test,\r\n      &quot;org.apache.flink&quot; % &quot;flink-test-utils-junit&quot; % flinkVersion % Test\r\n\r\nTo add on to ender&#39;s answer, try adding &quot;flink-test-utils-junit&quot; as well.\r\n\r\n\r\n","title":"intellij cant find Flink Test Harness util","body":"<p>This worked for me, using SBT. I'm on Flink version '1.12.2' and scalaVersion '2.12'</p>\n<pre><code>  &quot;org.apache.flink&quot; %% &quot;flink-test-utils&quot; % flinkVersion % Test,\n  &quot;org.apache.flink&quot; %% &quot;flink-streaming-java&quot; % flinkVersion % Test,\n  &quot;org.apache.flink&quot; %% &quot;flink-runtime&quot; % flinkVersion % Test,\n  &quot;org.apache.flink&quot; % &quot;flink-test-utils-junit&quot; % flinkVersion % Test\n</code></pre>\n<p>To add on to ender's answer, try adding &quot;flink-test-utils-junit&quot; as well.</p>\n"},{"comments":[{"owner":{"account_id":74572,"reputation":1318,"user_id":214205,"accept_rate":81,"display_name":"6footunder"},"score":0,"creation_date":1681436801,"post_id":75954588,"comment_id":134059893,"body_markdown":"Sort of wish that they&#39;d document this stuff? I&#39;m a Java / Flink newb, and I&#39;m spending a lot of time on S/O for stuff that just isn&#39;t mentioned in the docs...","body":"Sort of wish that they&#39;d document this stuff? I&#39;m a Java / Flink newb, and I&#39;m spending a lot of time on S/O for stuff that just isn&#39;t mentioned in the docs..."}],"tags":[],"owner":{"account_id":15300680,"reputation":117,"user_id":11039211,"display_name":"Ivan Webber"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680826056,"creation_date":1680826056,"answer_id":75954588,"question_id":70421139,"body_markdown":"When using Maven you will need the `&lt;classifier&gt;tests` tag on `flink-streaming-java`:\r\n\r\n```xml\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.flink/flink-streaming-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;flink-streaming-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${flink.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t\t&lt;classifier&gt;tests&lt;/classifier&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.flink/flink-test-utils --&gt;\r\n\t\t&lt;!-- https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/dev/datastream/testing/ --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;flink-test-utils&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${flink.version}&lt;/version&gt;\r\n\t\t\t&lt;!-- NOTE mvn shows test scope --&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.flink/flink-test-utils-junit --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;flink-test-utils-junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${flink.version}&lt;/version&gt;\r\n\t\t\t&lt;!-- NOTE mvn shows test scope --&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.flink/flink-runtime --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;flink-runtime&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${flink.version}&lt;/version&gt;\r\n\t\t\t&lt;!-- NOTE mvn shows test scope --&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nYou don&#39;t need the `flink-test-utils-junit` if you&#39;re using ScalaTest. I don&#39;t think you actually need runtime either (unless you use it elsewhere in your project), but I have tested the above (w/wo `flink-test-utils-junit`) and know it works for me.","title":"intellij cant find Flink Test Harness util","body":"<p>When using Maven you will need the <code>&lt;classifier&gt;tests</code> tag on <code>flink-streaming-java</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;!-- https://mvnrepository.com/artifact/org.apache.flink/flink-streaming-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-streaming-java&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;classifier&gt;tests&lt;/classifier&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.flink/flink-test-utils --&gt;\n        &lt;!-- https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/dev/datastream/testing/ --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-test-utils&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n            &lt;!-- NOTE mvn shows test scope --&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.flink/flink-test-utils-junit --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-test-utils-junit&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n            &lt;!-- NOTE mvn shows test scope --&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.flink/flink-runtime --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-runtime&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n            &lt;!-- NOTE mvn shows test scope --&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>You don't need the <code>flink-test-utils-junit</code> if you're using ScalaTest. I don't think you actually need runtime either (unless you use it elsewhere in your project), but I have tested the above (w/wo <code>flink-test-utils-junit</code>) and know it works for me.</p>\n"},{"tags":[],"owner":{"account_id":12727030,"reputation":1,"user_id":12055541,"display_name":"Eric"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694451439,"creation_date":1694103483,"answer_id":77061302,"question_id":70421139,"body_markdown":"In the [apache flink docs][1]\r\n\r\nIt says,\r\n\r\n&quot;Be aware that AbstractStreamOperatorTestHarness and its derived classes are currently not part of the public API and can be subject to change.&quot;\r\n\r\nI have run into this issue before and have not come across any java artifacts that actually contain those classes.\r\n\r\n\r\n  [1]: https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/dev/datastream/testing/\r\n\r\nUpdate:\r\n\r\nTL;DR Build from source and include the jar directly.\r\n\r\nSolution: Locate the flink source code from the github page for the correct version: https://github.com/apache/flink/releases/tag/release-x.xx\r\n\r\n    cd /path/to/flink-release-x.xx\r\n    unzip flink-release-x.xx.zip\r\n\r\nunzip the file, and follow the instructions to build the project. This usually means running something like,\r\n\r\n    mvn clean package -DskipTests\r\n\r\nEnsure you are using the correct version for both maven and java. The maven version can usually be seen by looking in the pom.xml file for one of these two properties: maven.compiler.source or maven.compiler.target\r\n\r\nIf you are using the latest version, you can simply clone the entire project and use the maven build script. However, this didn&#39;t work for my case as I needed an earlier version.\r\n\r\nOnce built, the test harnesses are located in this jar: flink-release-x.xx/flink-streaming-java/target/flink-streaming-java-x.xx-tests.jar\r\n\r\nYou may also need to add the following runtime jar: flink-release-x.xx/flink-runtime/target/flink-runtime-x.xx.jar\r\n\r\nYou can add the jars to Intellij by going to, File -&gt; Project Structure -&gt; Modules -&gt; Dependencies -&gt; &quot;+&quot; -&gt; JARs or Directories\r\n\r\nHope this helps!","title":"intellij cant find Flink Test Harness util","body":"<p>In the <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/dev/datastream/testing/\" rel=\"nofollow noreferrer\">apache flink docs</a></p>\n<p>It says,</p>\n<p>&quot;Be aware that AbstractStreamOperatorTestHarness and its derived classes are currently not part of the public API and can be subject to change.&quot;</p>\n<p>I have run into this issue before and have not come across any java artifacts that actually contain those classes.</p>\n<p>Update:</p>\n<p>TL;DR Build from source and include the jar directly.</p>\n<p>Solution: Locate the flink source code from the github page for the correct version: <a href=\"https://github.com/apache/flink/releases/tag/release-x.xx\" rel=\"nofollow noreferrer\">https://github.com/apache/flink/releases/tag/release-x.xx</a></p>\n<pre><code>cd /path/to/flink-release-x.xx\nunzip flink-release-x.xx.zip\n</code></pre>\n<p>unzip the file, and follow the instructions to build the project. This usually means running something like,</p>\n<pre><code>mvn clean package -DskipTests\n</code></pre>\n<p>Ensure you are using the correct version for both maven and java. The maven version can usually be seen by looking in the pom.xml file for one of these two properties: maven.compiler.source or maven.compiler.target</p>\n<p>If you are using the latest version, you can simply clone the entire project and use the maven build script. However, this didn't work for my case as I needed an earlier version.</p>\n<p>Once built, the test harnesses are located in this jar: flink-release-x.xx/flink-streaming-java/target/flink-streaming-java-x.xx-tests.jar</p>\n<p>You may also need to add the following runtime jar: flink-release-x.xx/flink-runtime/target/flink-runtime-x.xx.jar</p>\n<p>You can add the jars to Intellij by going to, File -&gt; Project Structure -&gt; Modules -&gt; Dependencies -&gt; &quot;+&quot; -&gt; JARs or Directories</p>\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":16402697,"reputation":57,"user_id":11848159,"display_name":"Adam Goldberg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1110,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":4,"score":2,"last_activity_date":1694451439,"creation_date":1639999849,"question_id":70421139,"body_markdown":"I&#39;m trying to use `OneInputStreamOperatorTestHarness` from Apache Flink (org.apache.flink.streaming.util.OneInputStreamOperatorTestHarness) but Intellj can&#39;t resolve symbol.\r\n\r\nI&#39;ve followed the [offical docs][1], this offical [blog on the flink website][2]\r\nand this [stackoverflow question][3]\r\n\r\n\r\n\r\n\r\n  [1]: https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/dev/datastream/testing/\r\n  [2]: https://flink.apache.org/news/2020/02/07/a-guide-for-unit-testing-in-apache-flink.html\r\n  [3]: https://stackoverflow.com/questions/54717003/how-to-utilize-flinks-testharness-class\r\n","title":"intellij cant find Flink Test Harness util","body":"<p>I'm trying to use <code>OneInputStreamOperatorTestHarness</code> from Apache Flink (org.apache.flink.streaming.util.OneInputStreamOperatorTestHarness) but Intellj can't resolve symbol.</p>\n<p>I've followed the <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/dev/datastream/testing/\" rel=\"nofollow noreferrer\">offical docs</a>, this offical <a href=\"https://flink.apache.org/news/2020/02/07/a-guide-for-unit-testing-in-apache-flink.html\" rel=\"nofollow noreferrer\">blog on the flink website</a>\nand this <a href=\"https://stackoverflow.com/questions/54717003/how-to-utilize-flinks-testharness-class\">stackoverflow question</a></p>\n"},{"tags":["java","encapsulation","open-closed-principle"],"comments":[{"owner":{"account_id":446124,"reputation":17924,"user_id":838975,"accept_rate":100,"display_name":"Nicola Musatti"},"score":1,"creation_date":1387284554,"post_id":20633643,"comment_id":30885344,"body_markdown":"This question should be moved to http://programmers.stackexchange.com/","body":"This question should be moved to <a href=\"http://programmers.stackexchange.com/\">programmers.stackexchange.com</a>"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1694451599,"post_id":20633643,"comment_id":135889752,"body_markdown":"Blindly adding getters and setters is a bad idea.  Methods should correspond to meaningful operations on whatever the object is supposed to &#39;be&#39;.","body":"Blindly adding getters and setters is a bad idea.  Methods should correspond to meaningful operations on whatever the object is supposed to &#39;be&#39;."}],"answers":[{"comments":[{"owner":{"account_id":537682,"reputation":1016,"user_id":901486,"accept_rate":81,"display_name":"liloka"},"score":0,"creation_date":1387282548,"post_id":20633722,"comment_id":30884009,"body_markdown":"Ah, now I get the difference with the Open-Closed principle. But here it does say: \nSoftware entities (classes, modules, functions, etc.) should be open for extension, but closed for modification, which I would take as instance variables as well so it just felt redundant.","body":"Ah, now I get the difference with the Open-Closed principle. But here it does say:  Software entities (classes, modules, functions, etc.) should be open for extension, but closed for modification, which I would take as instance variables as well so it just felt redundant."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":3,"creation_date":1387282596,"post_id":20633722,"comment_id":30884041,"body_markdown":"Exactly, you just need to read carefully: it is the **class** which is closed for modification, not its **instances**.","body":"Exactly, you just need to read carefully: it is the <b>class</b> which is closed for modification, not its <b>instances</b>."}],"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1671615021,"creation_date":1387282107,"answer_id":20633722,"question_id":20633643,"body_markdown":"&gt;opens up your variables for modification\r\n\r\nIn *Open-Closed Principle*, the word &quot;open&quot; means something entirely different.\r\n\r\nIt means that the *source code of the class* is closed for modification, but the *resulting class artifact* is open for further modification by extension. Neither &quot;open&quot; nor &quot;closed&quot; refers to any aspect of the instances of the class.\r\n\r\nOn the other hand, I am with you on the critique of getters/setters from a slightly different angle: they add a huge amount of boilerplate just to revert your overall design to something almost identical to a class with public fields.\r\n\r\nIn some cases, which are less commonplace, it still pays to gave getters/setters. This is true for classes which belong to a public API of a library, and generally to any class which has some non-trivial behavior, configured through the setters.\r\n\r\nFor pure data classes, getters/setters are mainly forced into them by the requirements of outdated frameworks which refuse to work with public fields. Spring, Hibernate, and Jackson are examples of state-of-the-art frameworks which do not force this.","title":"Why does encapsulation seem to contradict the Open-Closed principle?","body":"<blockquote>\n<p>opens up your variables for modification</p>\n</blockquote>\n<p>In <em>Open-Closed Principle</em>, the word &quot;open&quot; means something entirely different.</p>\n<p>It means that the <em>source code of the class</em> is closed for modification, but the <em>resulting class artifact</em> is open for further modification by extension. Neither &quot;open&quot; nor &quot;closed&quot; refers to any aspect of the instances of the class.</p>\n<p>On the other hand, I am with you on the critique of getters/setters from a slightly different angle: they add a huge amount of boilerplate just to revert your overall design to something almost identical to a class with public fields.</p>\n<p>In some cases, which are less commonplace, it still pays to gave getters/setters. This is true for classes which belong to a public API of a library, and generally to any class which has some non-trivial behavior, configured through the setters.</p>\n<p>For pure data classes, getters/setters are mainly forced into them by the requirements of outdated frameworks which refuse to work with public fields. Spring, Hibernate, and Jackson are examples of state-of-the-art frameworks which do not force this.</p>\n"},{"comments":[{"owner":{"account_id":1196791,"reputation":11743,"user_id":1168342,"accept_rate":76,"display_name":"Fuhrmanator"},"score":1,"creation_date":1395599457,"post_id":20633737,"comment_id":34400493,"body_markdown":"Where is the link to the OCP here?","body":"Where is the link to the OCP here?"},{"owner":{"account_id":14866733,"reputation":288,"user_id":14048134,"display_name":"Ruben Kubalyan"},"score":0,"creation_date":1671614141,"post_id":20633737,"comment_id":132134733,"body_markdown":"Finally I got the key to understand the need of setter and why setter not conflicts with OCP. Thank you so much!","body":"Finally I got the key to understand the need of setter and why setter not conflicts with OCP. Thank you so much!"}],"tags":[],"owner":{"account_id":1641985,"reputation":908,"user_id":1514247,"accept_rate":20,"display_name":"Yogesh Patil"},"comment_count":2,"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1389081647,"creation_date":1387282161,"answer_id":20633737,"question_id":20633643,"body_markdown":"Setting a variable directly gives control to outside code like \r\n\r\n    class A {\r\n        public String a;\r\n    }\r\n    A a = new A();\r\n    a.a = &quot;bad value which will cause code fail&quot;\r\n\r\nBut in case of getters and setters,\r\n\r\n    class A {\r\n        private String a;\r\n        \r\n        public void setA(String a) {\r\n           if(! &quot;some bad value&quot;.equals(a) ) {\r\n               this.a = a;\r\n           }\r\n    \r\n        }\r\n    }\r\n\r\nSo, using getters and setters will give the control with our class instance and not other possible bad class.\r\n\r\n\r\n\r\n\r\n","title":"Why does encapsulation seem to contradict the Open-Closed principle?","body":"<p>Setting a variable directly gives control to outside code like </p>\n\n<pre><code>class A {\n    public String a;\n}\nA a = new A();\na.a = \"bad value which will cause code fail\"\n</code></pre>\n\n<p>But in case of getters and setters,</p>\n\n<pre><code>class A {\n    private String a;\n\n    public void setA(String a) {\n       if(! \"some bad value\".equals(a) ) {\n           this.a = a;\n       }\n\n    }\n}\n</code></pre>\n\n<p>So, using getters and setters will give the control with our class instance and not other possible bad class.</p>\n"},{"comments":[{"owner":{"account_id":537682,"reputation":1016,"user_id":901486,"accept_rate":81,"display_name":"liloka"},"score":1,"creation_date":1387282414,"post_id":20633794,"comment_id":30883928,"body_markdown":"Why is it you never see validation in a setter?","body":"Why is it you never see validation in a setter?"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1387282491,"post_id":20633794,"comment_id":30883972,"body_markdown":"+1 Exactly my point... putting validation into a setter breaks the *separation of concerns* principle and makes your class *less useful* because it won&#39;t work in the setting where the validation is inappropriate. There are complete *bean validation* frameworks which systematically deal with this concern, and that is the way to go.","body":"+1 Exactly my point... putting validation into a setter breaks the <i>separation of concerns</i> principle and makes your class <i>less useful</i> because it won&#39;t work in the setting where the validation is inappropriate. There are complete <i>bean validation</i> frameworks which systematically deal with this concern, and that is the way to go."},{"owner":{"account_id":24801,"reputation":15286,"user_id":63293,"accept_rate":50,"display_name":"Peter Walser"},"score":0,"creation_date":1387282745,"post_id":20633794,"comment_id":30884139,"body_markdown":"Depends on the validation. If it&#39;s business rules, it should be separated (an be configurable). If it&#39;s technical validation such as checking for null-values or positive values or something state-driven (SWT classes which check if the widget is disposed when setting values), it might be appropriate.","body":"Depends on the validation. If it&#39;s business rules, it should be separated (an be configurable). If it&#39;s technical validation such as checking for null-values or positive values or something state-driven (SWT classes which check if the widget is disposed when setting values), it might be appropriate."},{"owner":{"account_id":537682,"reputation":1016,"user_id":901486,"accept_rate":81,"display_name":"liloka"},"score":0,"creation_date":1387282837,"post_id":20633794,"comment_id":30884189,"body_markdown":"So far this is just the biggest trade-off in computing, because you&#39;re choosing between 3 principles, if not more here. Why would it break the SoC principle since it should be concerned if the variable is being correctly set?","body":"So far this is just the biggest trade-off in computing, because you&#39;re choosing between 3 principles, if not more here. Why would it break the SoC principle since it should be concerned if the variable is being correctly set?"},{"owner":{"account_id":124650,"reputation":2637,"user_id":319876,"display_name":"Ahmed Hamdy"},"score":0,"creation_date":1387283029,"post_id":20633794,"comment_id":30884309,"body_markdown":"@liloka In that case, you can use them as public. We still use the setter even without validation because we are always use information hiding concepts, besides may be you will need to add some validation later, so I will not change the calling technique.   \nAnother good example is that of I changed the data type of this instance variable and I didn&#39;t want to change the user calling, I just will delegate that in the setter, so the caller will never feel the deference, and in the next program update I can make the changes","body":"@liloka In that case, you can use them as public. We still use the setter even without validation because we are always use information hiding concepts, besides may be you will need to add some validation later, so I will not change the calling technique.    Another good example is that of I changed the data type of this instance variable and I didn&#39;t want to change the user calling, I just will delegate that in the setter, so the caller will never feel the deference, and in the next program update I can make the changes"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1387283809,"post_id":20633794,"comment_id":30884820,"body_markdown":"@iloka Many kinds of validation in business objects depend on the context. Another concern is validation which involves more than the property being set; then your validation code may introduce constraints on the order of setting individual properties. The point is not that setter validation is *never* appropriate; the point is that *many times* it isn&#39;t so this can&#39;t support a blanket statement that setters are always, without exception, the better road to take than public fields.","body":"@iloka Many kinds of validation in business objects depend on the context. Another concern is validation which involves more than the property being set; then your validation code may introduce constraints on the order of setting individual properties. The point is not that setter validation is <i>never</i> appropriate; the point is that <i>many times</i> it isn&#39;t so this can&#39;t support a blanket statement that setters are always, without exception, the better road to take than public fields."},{"owner":{"account_id":446124,"reputation":17924,"user_id":838975,"accept_rate":100,"display_name":"Nicola Musatti"},"score":0,"creation_date":1387284108,"post_id":20633794,"comment_id":30885012,"body_markdown":"If you have to worry about separation of concerns among different methods in a class your class carries way too many responsibilities. A much better way to separate concerns is to have each class do one thing only.","body":"If you have to worry about separation of concerns among different methods in a class your class carries way too many responsibilities. A much better way to separate concerns is to have each class do one thing only."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1387284265,"post_id":20633794,"comment_id":30885125,"body_markdown":"@NicolaMusatti Validation is a separate concern. It has nothing at all to do with the separation of concerns among different methods in a class.","body":"@NicolaMusatti Validation is a separate concern. It has nothing at all to do with the separation of concerns among different methods in a class."},{"owner":{"account_id":446124,"reputation":17924,"user_id":838975,"accept_rate":100,"display_name":"Nicola Musatti"},"score":0,"creation_date":1387284317,"post_id":20633794,"comment_id":30885162,"body_markdown":"Validation may be a good reason to have a setter, but you should wonder whether your attributes are really so loosely coupled that it makes sense to change one independently of the others. If it does, do they really belong together or is your class catering for what should really be independent concerns.","body":"Validation may be a good reason to have a setter, but you should wonder whether your attributes are really so loosely coupled that it makes sense to change one independently of the others. If it does, do they really belong together or is your class catering for what should really be independent concerns."},{"owner":{"account_id":446124,"reputation":17924,"user_id":838975,"accept_rate":100,"display_name":"Nicola Musatti"},"score":0,"creation_date":1387284467,"post_id":20633794,"comment_id":30885273,"body_markdown":"We are using the term &quot;validation&quot; to mean different things: I&#39;m thinking about ensuring that a class&#39;s state is consistent with the class&#39;s purpose. By the way, State consistency is the key argument against setters.","body":"We are using the term &quot;validation&quot; to mean different things: I&#39;m thinking about ensuring that a class&#39;s state is consistent with the class&#39;s purpose. By the way, State consistency is the key argument against setters."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1387284605,"post_id":20633794,"comment_id":30885378,"body_markdown":"@NicolaMusatti Have you ever worked on an actual business application project, involving actual business objects? They are just hierachically organized tuples of atomic data bits. Most of them are completely independent, which doesn&#39;t begin to entail that each of them should be in a class of its own.","body":"@NicolaMusatti Have you ever worked on an actual business application project, involving actual business objects? They are just hierachically organized tuples of atomic data bits. Most of them are completely independent, which doesn&#39;t begin to entail that each of them should be in a class of its own."},{"owner":{"account_id":446124,"reputation":17924,"user_id":838975,"accept_rate":100,"display_name":"Nicola Musatti"},"score":0,"creation_date":1387284961,"post_id":20633794,"comment_id":30885606,"body_markdown":"We seem to be using very different design approaches.","body":"We seem to be using very different design approaches."},{"owner":{"account_id":446124,"reputation":17924,"user_id":838975,"accept_rate":100,"display_name":"Nicola Musatti"},"score":1,"creation_date":1387285507,"post_id":20633794,"comment_id":30885979,"body_markdown":"You are being offensive without reason. You don&#39;t know anything about me or my work.","body":"You are being offensive without reason. You don&#39;t know anything about me or my work."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1387286946,"post_id":20633794,"comment_id":30886940,"body_markdown":"@NicolaMusatti Exactly, I don&#39;t know anything---that is why I have specified my premises in detail. *If* they are true, *then* I stand by my conclusion. You should also notice that the premises are of a *strawman hypothesis* variety, used as a device to drive my point through exaggeration. I also notice you have resorted to the tactics of evasion and changing the subject instead of meeting my arguments.","body":"@NicolaMusatti Exactly, I don&#39;t know anything---that is why I have specified my premises in detail. <i>If</i> they are true, <i>then</i> I stand by my conclusion. You should also notice that the premises are of a <i>strawman hypothesis</i> variety, used as a device to drive my point through exaggeration. I also notice you have resorted to the tactics of evasion and changing the subject instead of meeting my arguments."},{"owner":{"account_id":124650,"reputation":2637,"user_id":319876,"display_name":"Ahmed Hamdy"},"score":0,"creation_date":1387358534,"post_id":20633794,"comment_id":30920459,"body_markdown":"Can anyone tell me why my answer being removed as the correct answer :/ ? @liloka","body":"Can anyone tell me why my answer being removed as the correct answer :/ ? @liloka"},{"owner":{"account_id":537682,"reputation":1016,"user_id":901486,"accept_rate":81,"display_name":"liloka"},"score":0,"creation_date":1387362983,"post_id":20633794,"comment_id":30923184,"body_markdown":"I just changed it to the one with the most upvotes, as it seemed the most voted as the right answer, for future references.","body":"I just changed it to the one with the most upvotes, as it seemed the most voted as the right answer, for future references."},{"owner":{"account_id":124650,"reputation":2637,"user_id":319876,"display_name":"Ahmed Hamdy"},"score":1,"creation_date":1387364297,"post_id":20633794,"comment_id":30924034,"body_markdown":"@liloka Okay, it is just not working like this :D But anyways I was just clarifying, it is okay.","body":"@liloka Okay, it is just not working like this :D But anyways I was just clarifying, it is okay."}],"tags":[],"owner":{"account_id":124650,"reputation":2637,"user_id":319876,"display_name":"Ahmed Hamdy"},"comment_count":17,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1387283657,"creation_date":1387282330,"answer_id":20633794,"question_id":20633643,"body_markdown":"Here you are.  \r\nAssuming this is my instance variable\r\n\r\n    private double x;\r\n\r\nBy using Setters, you can make your own validation on the value will be set to the instance variable.  \r\n\r\n    public void setX(double x)\r\n    {\r\n        if (x &lt;= 0)\r\n            System.out.println(&quot;Wrong value, value should be greater than 0&quot;);\r\n        else\r\n            this.x = x;\r\n    }\r\n\r\nBy using Getters, you will be able to return the data in the format you want the user to see.\r\n\r\n    public double getX()\r\n    {\r\n        return Double.valueOf(String.format(&quot;%.3f&quot;, this.x));\r\n    }","title":"Why does encapsulation seem to contradict the Open-Closed principle?","body":"<p>Here you are.<br>\nAssuming this is my instance variable</p>\n\n<pre><code>private double x;\n</code></pre>\n\n<p>By using Setters, you can make your own validation on the value will be set to the instance variable.  </p>\n\n<pre><code>public void setX(double x)\n{\n    if (x &lt;= 0)\n        System.out.println(\"Wrong value, value should be greater than 0\");\n    else\n        this.x = x;\n}\n</code></pre>\n\n<p>By using Getters, you will be able to return the data in the format you want the user to see.</p>\n\n<pre><code>public double getX()\n{\n    return Double.valueOf(String.format(\"%.3f\", this.x));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24801,"reputation":15286,"user_id":63293,"accept_rate":50,"display_name":"Peter Walser"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387282497,"creation_date":1387282497,"answer_id":20633864,"question_id":20633643,"body_markdown":"By having setters and getters, you can\r\n\r\n- **Hide the actual implementation** (not every property has to be backed up by a variable, could as well be a caculated property, or a converted property, or the value is read/written from elsewhere)\r\n- **Restrict access**, by only providing getters for those properties you want to expose, and only providing setters for properties you want to allow to be modified\r\n- **Control access**, for example rejecting values when they are not correct, or when accessing with insufficient privileges\r\n- **Add observer support**, by guarding state changes and firing change events when something changes\r\n- **Trigger logic** when values are read/) written\r\n- and much more.","title":"Why does encapsulation seem to contradict the Open-Closed principle?","body":"<p>By having setters and getters, you can</p>\n\n<ul>\n<li><strong>Hide the actual implementation</strong> (not every property has to be backed up by a variable, could as well be a caculated property, or a converted property, or the value is read/written from elsewhere)</li>\n<li><strong>Restrict access</strong>, by only providing getters for those properties you want to expose, and only providing setters for properties you want to allow to be modified</li>\n<li><strong>Control access</strong>, for example rejecting values when they are not correct, or when accessing with insufficient privileges</li>\n<li><strong>Add observer support</strong>, by guarding state changes and firing change events when something changes</li>\n<li><strong>Trigger logic</strong> when values are read/) written</li>\n<li>and much more.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3659411,"reputation":40844,"user_id":3049628,"accept_rate":78,"display_name":"Tim B"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1387282627,"creation_date":1387282627,"answer_id":20633906,"question_id":20633643,"body_markdown":"Encapsulation is about hiding implementation details.\r\n\r\nYour getter and setter methods are about part of the published API for your class and provide a well defined way to see what is happening.\r\n\r\nInternally you could rip out all the implementation and do something completely different, but by maintaining the same set and get methods this change is invisible to every other class.\r\n\r\n\r\nAn API should be about the things that the person using it wants to do, not the internal details of how you do it.\r\n\r\nFor example if you have a class to connect to a server and have a string containing the name and port and expose that string now you are tied to that.\r\n\r\nIf in the future you want to split it and store name and port separately you cannot do so because people might be reading or setting that string directly - and you will break the code for everyone who does so.\r\n\r\nOr even worse suppose you keep it stored the same - but you need to know when it changes. It&#39;s impossible to do that (well actually there are a number of hacky ways like storing what the string held last time you looked and checking for changes, or having a thread running to look for changes etc, all these methods are hacky and inefficient though)\r\n","title":"Why does encapsulation seem to contradict the Open-Closed principle?","body":"<p>Encapsulation is about hiding implementation details.</p>\n\n<p>Your getter and setter methods are about part of the published API for your class and provide a well defined way to see what is happening.</p>\n\n<p>Internally you could rip out all the implementation and do something completely different, but by maintaining the same set and get methods this change is invisible to every other class.</p>\n\n<p>An API should be about the things that the person using it wants to do, not the internal details of how you do it.</p>\n\n<p>For example if you have a class to connect to a server and have a string containing the name and port and expose that string now you are tied to that.</p>\n\n<p>If in the future you want to split it and store name and port separately you cannot do so because people might be reading or setting that string directly - and you will break the code for everyone who does so.</p>\n\n<p>Or even worse suppose you keep it stored the same - but you need to know when it changes. It's impossible to do that (well actually there are a number of hacky ways like storing what the string held last time you looked and checking for changes, or having a thread running to look for changes etc, all these methods are hacky and inefficient though)</p>\n"},{"tags":[],"owner":{"account_id":446124,"reputation":17924,"user_id":838975,"accept_rate":100,"display_name":"Nicola Musatti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387283836,"creation_date":1387283836,"answer_id":20634345,"question_id":20633643,"body_markdown":"In general you should design separately the interface to a class, i.e. how you expect your class to be used, from its implementation, i.e. how it works. By doing so it may happen that some of your methods end up doing little more than setting or getting an attribute&#39;s value.\r\n\r\nHowever you should do it only when it makes sense rather than as a general approach.\r\n\r\nWhat really doesn&#39;t make any sense are classes with only private attributes, a setter/getter public method for each attribute and no other method. There are situations were you do need to move a few values together without any specific logic that binds them; in that case you should define a class with only public attributes and no methods, except possibly a constructor.","title":"Why does encapsulation seem to contradict the Open-Closed principle?","body":"<p>In general you should design separately the interface to a class, i.e. how you expect your class to be used, from its implementation, i.e. how it works. By doing so it may happen that some of your methods end up doing little more than setting or getting an attribute's value.</p>\n\n<p>However you should do it only when it makes sense rather than as a general approach.</p>\n\n<p>What really doesn't make any sense are classes with only private attributes, a setter/getter public method for each attribute and no other method. There are situations were you do need to move a few values together without any specific logic that binds them; in that case you should define a class with only public attributes and no methods, except possibly a constructor.</p>\n"},{"tags":[],"owner":{"account_id":1196791,"reputation":11743,"user_id":1168342,"accept_rate":76,"display_name":"Fuhrmanator"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395590558,"creation_date":1395590558,"answer_id":22593309,"question_id":20633643,"body_markdown":"You&#39;re absolutely right about blatantly adding setters/getters to every private member being a violation of encapsulation and OCP.\r\n\r\nTo explain the paradox, OCP requires some context (i.e., *closed* relative to what?). At a class-design level, OCP means clients of the (public part of the) class won&#39;t have to change if you change the (private) implementation details. The private parts of a class are open to change, relative to the clients using the closed (public) interface.\r\n\r\nAdding a getter/setter for every private variable will violate OCP. It&#39;s the same as making every private attribute a public one (except for the validation aspects some other answers have mentioned, but those are not big points in my opinion). For more explanation about why this is bad, see [Why getter and setter methods are evil][1].\r\n\r\nRather than design methods based on implementation details (getters and setters), try to consider the public interface of a class as a set of &quot;services&quot; or &quot;responsibilities&quot; that class offers to the system. Those services should hide the implementation details if possible. Think of how *clients* of the class are going to use it. See more in [Responsibility-driven design][2]. \r\n\r\nAs for getters and setters, they aren&#39;t always bad. Just think twice before adding them. Public methods are a kind of promise to clients of the class that you&#39;re supporting a service (clients who use that class will break if you change the public interface). You might make it harder for yourself to change the details of the class if you&#39;re revealing them in the public interface. \r\n\r\nThere&#39;s another angle to consider when you return (via get) a reference to an object that is part of an implementation detail. The client who gets that reference can then possibly manipulate the object (get reveals implementation details). For example, `Student.admissionDate:Date` has a getter that returns a reference to the Date. A client of the Student class could get the date, and change it. To avoid this, the getter should return a clone of the object. In Java it would be `return (Date)admissionDate.clone()`\r\n\r\n  [1]: http://www.javaworld.com/article/2073723/core-java/why-getter-and-setter-methods-are-evil.html\r\n  [2]: https://en.wikipedia.org/wiki/Responsibility-driven_design","title":"Why does encapsulation seem to contradict the Open-Closed principle?","body":"<p>You're absolutely right about blatantly adding setters/getters to every private member being a violation of encapsulation and OCP.</p>\n\n<p>To explain the paradox, OCP requires some context (i.e., <em>closed</em> relative to what?). At a class-design level, OCP means clients of the (public part of the) class won't have to change if you change the (private) implementation details. The private parts of a class are open to change, relative to the clients using the closed (public) interface.</p>\n\n<p>Adding a getter/setter for every private variable will violate OCP. It's the same as making every private attribute a public one (except for the validation aspects some other answers have mentioned, but those are not big points in my opinion). For more explanation about why this is bad, see <a href=\"http://www.javaworld.com/article/2073723/core-java/why-getter-and-setter-methods-are-evil.html\" rel=\"nofollow\">Why getter and setter methods are evil</a>.</p>\n\n<p>Rather than design methods based on implementation details (getters and setters), try to consider the public interface of a class as a set of \"services\" or \"responsibilities\" that class offers to the system. Those services should hide the implementation details if possible. Think of how <em>clients</em> of the class are going to use it. See more in <a href=\"https://en.wikipedia.org/wiki/Responsibility-driven_design\" rel=\"nofollow\">Responsibility-driven design</a>. </p>\n\n<p>As for getters and setters, they aren't always bad. Just think twice before adding them. Public methods are a kind of promise to clients of the class that you're supporting a service (clients who use that class will break if you change the public interface). You might make it harder for yourself to change the details of the class if you're revealing them in the public interface. </p>\n\n<p>There's another angle to consider when you return (via get) a reference to an object that is part of an implementation detail. The client who gets that reference can then possibly manipulate the object (get reveals implementation details). For example, <code>Student.admissionDate:Date</code> has a getter that returns a reference to the Date. A client of the Student class could get the date, and change it. To avoid this, the getter should return a clone of the object. In Java it would be <code>return (Date)admissionDate.clone()</code></p>\n"},{"tags":[],"owner":{"account_id":29416296,"reputation":1,"user_id":22539064,"display_name":"Alexander Sokolov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694450928,"creation_date":1694450851,"answer_id":77083443,"question_id":20633643,"body_markdown":"Example in accepted answer does not fulfill the &quot;open&quot; part of OCP.\r\nSome extending class can have to get the &quot;a&quot; property. It will cause error.\r\n\r\n    class B extends A\r\n    {\r\n        private String b;\r\n        public void setDefaultB()\r\n        {\r\n            this.b = this.a;\r\n        }\r\n    }\r\n\r\nTo fulfill OCP the &quot;A&quot; class should contain protected getter for &quot;a&quot; property.\r\n\r\n    protected String getA()\r\n    {\r\n        return this.a;\r\n    }\r\nSo the &quot;B&quot; class can use\r\n\r\n    this.b = this.getA();\r\n\r\n","title":"Why does encapsulation seem to contradict the Open-Closed principle?","body":"<p>Example in accepted answer does not fulfill the &quot;open&quot; part of OCP.\nSome extending class can have to get the &quot;a&quot; property. It will cause error.</p>\n<pre><code>class B extends A\n{\n    private String b;\n    public void setDefaultB()\n    {\n        this.b = this.a;\n    }\n}\n</code></pre>\n<p>To fulfill OCP the &quot;A&quot; class should contain protected getter for &quot;a&quot; property.</p>\n<pre><code>protected String getA()\n{\n    return this.a;\n}\n</code></pre>\n<p>So the &quot;B&quot; class can use</p>\n<pre><code>this.b = this.getA();\n</code></pre>\n"}],"owner":{"account_id":537682,"reputation":1016,"user_id":901486,"accept_rate":81,"display_name":"liloka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1486,"favorite_count":0,"down_vote_count":2,"up_vote_count":6,"accepted_answer_id":20633737,"answer_count":8,"score":4,"last_activity_date":1694450928,"creation_date":1387281846,"question_id":20633643,"body_markdown":"In encapsulation the idea is that you hide what your class is doing with its variables by declaring them private, which achieves the OCP. But then why would you then add getters and setters, which then opens up your variables for modification?\r\n\r\nWhy go through the whole trouble of setting your variables as private, to then add a public setter on them? That doesn&#39;t seem very restrictive, which is one of the ideas of encapsulation.\r\n\r\n","title":"Why does encapsulation seem to contradict the Open-Closed principle?","body":"<p>In encapsulation the idea is that you hide what your class is doing with its variables by declaring them private, which achieves the OCP. But then why would you then add getters and setters, which then opens up your variables for modification?</p>\n\n<p>Why go through the whole trouble of setting your variables as private, to then add a public setter on them? That doesn't seem very restrictive, which is one of the ideas of encapsulation.</p>\n"},{"tags":["java","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":1,"creation_date":1531819437,"post_id":51377675,"comment_id":89726932,"body_markdown":"they are mutually exclusive, you either use webflux (reactive API) or web (Servlet API)","body":"they are mutually exclusive, you either use webflux (reactive API) or web (Servlet API)"}],"answers":[{"comments":[{"owner":{"account_id":7298493,"reputation":304,"user_id":5562284,"display_name":"nouveu"},"score":0,"creation_date":1666008692,"post_id":51378560,"comment_id":130826058,"body_markdown":"There is also property that allows achieve the same: https://stackoverflow.com/a/71234523/5562284\n\n`spring.main.web-application-type=reactive`","body":"There is also property that allows achieve the same: <a href=\"https://stackoverflow.com/a/71234523/5562284\">stackoverflow.com/a/71234523/5562284</a>  <code>spring.main.web-application-type=reactive</code>"}],"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"comment_count":1,"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1658810242,"creation_date":1531821802,"answer_id":51378560,"question_id":51377675,"body_markdown":"As explained in [the Spring Boot reference documentation section about the web environment][1], adding both web and webflux starters will configure a Spring MVC web application.\r\n\r\nThis is behaving like that, because many existing Spring Boot web applications (using MVC) will depend on the webflux starter to use the `WebClient`. [Spring MVC partially support reactive return types][2], so this is an expected use case. The opposite isn&#39;t really true, since a reactive application is not really likely to use Spring MVC bits.\r\n\r\nSo using both web and webflux starters is supported, but it will configure a Spring MVC application. You can always force the Spring Boot application to be reactive with:\r\n\r\n```lang-java\r\nSpringApplication.setWebApplicationType(WebApplicationType.REACTIVE)\r\n```\r\n\r\nBut it&#39;s still a good idea to clean up dependencies as it would be easy to use a blocking feature in your reactive web application.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.spring-application.web-environment\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/web.html#mvc-ann-return-types","title":"Don&#39;t spring-boot-starter-web and spring-boot-starter-webflux work together?","body":"<p>As explained in <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.spring-application.web-environment\" rel=\"noreferrer\">the Spring Boot reference documentation section about the web environment</a>, adding both web and webflux starters will configure a Spring MVC web application.</p>\n<p>This is behaving like that, because many existing Spring Boot web applications (using MVC) will depend on the webflux starter to use the <code>WebClient</code>. <a href=\"https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/web.html#mvc-ann-return-types\" rel=\"noreferrer\">Spring MVC partially support reactive return types</a>, so this is an expected use case. The opposite isn't really true, since a reactive application is not really likely to use Spring MVC bits.</p>\n<p>So using both web and webflux starters is supported, but it will configure a Spring MVC application. You can always force the Spring Boot application to be reactive with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SpringApplication.setWebApplicationType(WebApplicationType.REACTIVE)\n</code></pre>\n<p>But it's still a good idea to clean up dependencies as it would be easy to use a blocking feature in your reactive web application.</p>\n"},{"comments":[{"owner":{"account_id":337881,"reputation":2204,"user_id":666414,"accept_rate":50,"display_name":"maxxyme"},"score":1,"creation_date":1599209141,"post_id":59951107,"comment_id":112709172,"body_markdown":"are you sure you resolved something? because the `app` variable you declared actually is useless, as you run the Spring Boot app the traditional way (last line)...","body":"are you sure you resolved something? because the <code>app</code> variable you declared actually is useless, as you run the Spring Boot app the traditional way (last line)..."},{"owner":{"account_id":2205706,"reputation":3110,"user_id":1964277,"accept_rate":65,"display_name":"rupweb"},"score":0,"creation_date":1599211532,"post_id":59951107,"comment_id":112710253,"body_markdown":"it looks like you&#39;re right it looks like it should be `app.run` but maybe because the `SpringApplication.run` takes the class `Web.class` which is the name of the class where the `app` is defined, it uses that instead of a default. I edited the code above.","body":"it looks like you&#39;re right it looks like it should be <code>app.run</code> but maybe because the <code>SpringApplication.run</code> takes the class <code>Web.class</code> which is the name of the class where the <code>app</code> is defined, it uses that instead of a default. I edited the code above."},{"owner":{"account_id":337881,"reputation":2204,"user_id":666414,"accept_rate":50,"display_name":"maxxyme"},"score":0,"creation_date":1599212055,"post_id":59951107,"comment_id":112710466,"body_markdown":"that doesn&#39;t change anything; setting the `webApplicationType` to a variable that is not used by `SpringApplication.run()` is useless. `SpringApplication.run()` is a static method, so once Java runs it, the `app` variable is lost...","body":"that doesn&#39;t change anything; setting the <code>webApplicationType</code> to a variable that is not used by <code>SpringApplication.run()</code> is useless. <code>SpringApplication.run()</code> is a static method, so once Java runs it, the <code>app</code> variable is lost..."},{"owner":{"account_id":2205706,"reputation":3110,"user_id":1964277,"accept_rate":65,"display_name":"rupweb"},"score":0,"creation_date":1599212352,"post_id":59951107,"comment_id":112710590,"body_markdown":"I updated the question again with what I saw and, yeah... oui... except the spring `run` does at least refer to the `Web.class` are you sure?","body":"I updated the question again with what I saw and, yeah... oui... except the spring <code>run</code> does at least refer to the <code>Web.class</code> are you sure?"},{"owner":{"account_id":2205706,"reputation":3110,"user_id":1964277,"accept_rate":65,"display_name":"rupweb"},"score":0,"creation_date":1599212859,"post_id":59951107,"comment_id":112710812,"body_markdown":"`SpringApplication.run(Web.class, args);` where `Web.class` is the name of the class that declares a `SpringApplication app` of type `REACTIVE` and it works... `so don&#39;t fix it`?!","body":"<code>SpringApplication.run(Web.class, args);</code> where <code>Web.class</code> is the name of the class that declares a <code>SpringApplication app</code> of type <code>REACTIVE</code> and it works... <code>so don&#39;t fix it</code>?!"},{"owner":{"account_id":337881,"reputation":2204,"user_id":666414,"accept_rate":50,"display_name":"maxxyme"},"score":0,"creation_date":1599213153,"post_id":59951107,"comment_id":112710944,"body_markdown":"because you have to write: `app.run(args);` not use the `Web.class` anymore!","body":"because you have to write: <code>app.run(args);</code> not use the <code>Web.class</code> anymore!"},{"owner":{"account_id":2205706,"reputation":3110,"user_id":1964277,"accept_rate":65,"display_name":"rupweb"},"score":0,"creation_date":1599213326,"post_id":59951107,"comment_id":112711012,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/220965/discussion-between-rupweb-and-maxxyme).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/220965/discussion-between-rupweb-and-maxxyme\">continue this discussion in chat</a>."},{"owner":{"account_id":2205706,"reputation":3110,"user_id":1964277,"accept_rate":65,"display_name":"rupweb"},"score":0,"creation_date":1694450778,"post_id":59951107,"comment_id":135889604,"body_markdown":"@maxxyme you were right all along, so I changed the code above to `app.run(args)`","body":"@maxxyme you were right all along, so I changed the code above to <code>app.run(args)</code>"}],"tags":[],"owner":{"account_id":2205706,"reputation":3110,"user_id":1964277,"accept_rate":65,"display_name":"rupweb"},"comment_count":8,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1694450908,"creation_date":1580222226,"answer_id":59951107,"question_id":51377675,"body_markdown":"I had a similar issue using `spring-boot-starter-webflux` and `spring-data-geode` causing \r\n\r\n    DEBUG [http-nio-8082-exec-2] org.sprin.web.servl.resou.ResourceHttpRequestHandler 454 handleRequest: Resource not found\r\n\r\nIt was resolved by changing the application type\r\n\r\n    @SpringBootApplication\r\n    public class Web {\r\n\t    public static void main(String[] args) {\r\n\t\t    SpringApplication app = new SpringApplication(Web.class);\r\n\t\t    app.setWebApplicationType(WebApplicationType.REACTIVE);\r\n\t\t    SpringApplication.run(Web.class, args);\r\n\t    }\r\n    }\r\n\r\nThe whole class used to look like this\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAfter setting the application type, if I don&#39;t then call the `SpringApplication` in a static way, I get this:\r\n\r\n[![Web][2]][2]\r\n\r\nSo it&#39;s changed to `app.run(args)`\r\n\r\n  [1]: https://i.stack.imgur.com/21MJb.png\r\n  [2]: https://i.stack.imgur.com/ewxJ3.png","title":"Don&#39;t spring-boot-starter-web and spring-boot-starter-webflux work together?","body":"<p>I had a similar issue using <code>spring-boot-starter-webflux</code> and <code>spring-data-geode</code> causing</p>\n<pre><code>DEBUG [http-nio-8082-exec-2] org.sprin.web.servl.resou.ResourceHttpRequestHandler 454 handleRequest: Resource not found\n</code></pre>\n<p>It was resolved by changing the application type</p>\n<pre><code>@SpringBootApplication\npublic class Web {\n    public static void main(String[] args) {\n        SpringApplication app = new SpringApplication(Web.class);\n        app.setWebApplicationType(WebApplicationType.REACTIVE);\n        SpringApplication.run(Web.class, args);\n    }\n}\n</code></pre>\n<p>The whole class used to look like this</p>\n<p><a href=\"https://i.stack.imgur.com/21MJb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/21MJb.png\" alt=\"enter image description here\" /></a></p>\n<p>After setting the application type, if I don't then call the <code>SpringApplication</code> in a static way, I get this:</p>\n<p><a href=\"https://i.stack.imgur.com/ewxJ3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ewxJ3.png\" alt=\"Web\" /></a></p>\n<p>So it's changed to <code>app.run(args)</code></p>\n"}],"owner":{"account_id":13146070,"reputation":213,"user_id":9496061,"display_name":"kenzhaoyihui"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23705,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":51378560,"answer_count":2,"score":21,"last_activity_date":1694450908,"creation_date":1531819333,"question_id":51377675,"body_markdown":"When I start to learn the `spring-webflux`, I have the question about this component.\r\n\r\nI built a simple project, using maven to manage it. I addded the dependencies related to `spring-boot-starter-web` and `spring-boot-starter-webflux`, like :\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nBut it doesn&#39;t work. When removing the `spring-boot-starter-web` dependency, it can work well.","title":"Don&#39;t spring-boot-starter-web and spring-boot-starter-webflux work together?","body":"<p>When I start to learn the <code>spring-webflux</code>, I have the question about this component.</p>\n<p>I built a simple project, using maven to manage it. I addded the dependencies related to <code>spring-boot-starter-web</code> and <code>spring-boot-starter-webflux</code>, like :</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>But it doesn't work. When removing the <code>spring-boot-starter-web</code> dependency, it can work well.</p>\n"},{"tags":["java","performance","switch-statement","if-statement"],"comments":[{"owner":{"account_id":47225,"reputation":79382,"user_id":139746,"accept_rate":92,"display_name":"Pascal Cuoq"},"score":6,"creation_date":1263824001,"post_id":2086529,"comment_id":2018405,"body_markdown":"Do you have any reason to think the same bytecode is not generated for the two constructs?","body":"Do you have any reason to think the same bytecode is not generated for the two constructs?"},{"owner":{"account_id":57248,"reputation":94488,"user_id":171461,"accept_rate":91,"display_name":"jldupont"},"score":2,"creation_date":1263824414,"post_id":2086529,"comment_id":2018460,"body_markdown":"@Pascal: there might be optimization done by using table look-ups instead of a list of `if` etc.","body":"@Pascal: there might be optimization done by using table look-ups instead of a list of <code>if</code> etc."},{"owner":{"account_id":65284,"reputation":91165,"user_id":192247,"accept_rate":81,"display_name":"missingfaktor"},"score":21,"creation_date":1263825495,"post_id":2086529,"comment_id":2018598,"body_markdown":"&quot;Premature optimization is the root of all evil&quot; - Donald Knuth","body":"&quot;Premature optimization is the root of all evil&quot; - Donald Knuth"},{"owner":{"account_id":32307,"reputation":2481,"user_id":89512,"accept_rate":93,"display_name":"Leo Jweda"},"score":0,"creation_date":1263826022,"post_id":2086529,"comment_id":19713103,"body_markdown":"You should give [this](http://msmvps.com/blogs/jon_skeet/archive/2009/11/16/just-how-spiky-is-your-traffic.aspx) a read.","body":"You should give <a href=\"http://msmvps.com/blogs/jon_skeet/archive/2009/11/16/just-how-spiky-is-your-traffic.aspx\" rel=\"nofollow noreferrer\">this</a> a read."},{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":118,"creation_date":1263844717,"post_id":2086529,"comment_id":2021016,"body_markdown":"While this is *definitely* premature optimization, &quot;Mindless adherence to a quote taken badly out of context is the reason we need a high-end multi-core computer just to display a reasonably responsive GUI today&quot; - Me.","body":"While this is <i>definitely</i> premature optimization, &quot;Mindless adherence to a quote taken badly out of context is the reason we need a high-end multi-core computer just to display a reasonably responsive GUI today&quot; - Me."},{"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"score":0,"creation_date":1263935626,"post_id":2086529,"comment_id":2030419,"body_markdown":"These questions will never stop.","body":"These questions will never stop."},{"owner":{"account_id":30304,"reputation":27134,"user_id":82559,"display_name":"alphazero"},"score":3,"creation_date":1303697647,"post_id":2086529,"comment_id":6616358,"body_markdown":"Knuth has a precise mind.  Please note the qualifier &quot;premature&quot;.  Optimization is a perfectly valid concern.  That said, a server is IO bound and the bottlenecks of network and disk I/O are orders of magnitude more significant than anything else you have going on in your server.","body":"Knuth has a precise mind.  Please note the qualifier &quot;premature&quot;.  Optimization is a perfectly valid concern.  That said, a server is IO bound and the bottlenecks of network and disk I/O are orders of magnitude more significant than anything else you have going on in your server."},{"owner":{"account_id":481416,"reputation":355404,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":0,"creation_date":1435163800,"post_id":2086529,"comment_id":50088830,"body_markdown":"@PascalCuoq `javap` and the `javac` source code: http://stackoverflow.com/a/31032054/895245","body":"@PascalCuoq <code>javap</code> and the <code>javac</code> source code: <a href=\"http://stackoverflow.com/a/31032054/895245\">stackoverflow.com/a/31032054/895245</a>"},{"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":0,"creation_date":1494439568,"post_id":2086529,"comment_id":74833371,"body_markdown":"Try using caliper to microbenchmark your code.  If you&#39;re doing it for optimization then I would agree with the sentiment of others that it isn&#39;t a good idea, but as an educational exercise it would be nice to see.  Check https://trajano.net/2014/08/microbenchmarking-repeated-characters-in-java/ for an example","body":"Try using caliper to microbenchmark your code.  If you&#39;re doing it for optimization then I would agree with the sentiment of others that it isn&#39;t a good idea, but as an educational exercise it would be nice to see.  Check <a href=\"https://trajano.net/2014/08/microbenchmarking-repeated-characters-in-java/\" rel=\"nofollow noreferrer\">trajano.net/2014/08/&hellip;</a> for an example"},{"owner":{"account_id":1130933,"reputation":322,"user_id":1117003,"accept_rate":80,"display_name":"Emmanuel"},"score":0,"creation_date":1624450711,"post_id":2086529,"comment_id":120361794,"body_markdown":"@LawrenceDol This question is a decade late but is there a story you&#39;re referring to with the high-end computer GUI comment?","body":"@LawrenceDol This question is a decade late but is there a story you&#39;re referring to with the high-end computer GUI comment?"},{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":0,"creation_date":1624554467,"post_id":2086529,"comment_id":120397253,"body_markdown":"@Emmanuel : No story. Just making the counterpoint to the Knuth quote which, as usual, is stripped of its context and used as a blunt excuse to write crappy code.","body":"@Emmanuel : No story. Just making the counterpoint to the Knuth quote which, as usual, is stripped of its context and used as a blunt excuse to write crappy code."}],"answers":[{"comments":[{"owner":{"account_id":71866,"reputation":13847,"user_id":207716,"accept_rate":100,"display_name":"jk."},"score":1,"creation_date":1263824447,"post_id":2086546,"comment_id":2018465,"body_markdown":"or consider polymorphism instead","body":"or consider polymorphism instead"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1263824622,"post_id":2086546,"comment_id":2018487,"body_markdown":"That&#39;s indeed more recommended in case of &quot;unpredictable&quot; amount of if/else blocks.","body":"That&#39;s indeed more recommended in case of &quot;unpredictable&quot; amount of if/else blocks."},{"owner":{"account_id":8655,"reputation":20729,"user_id":15689,"accept_rate":91,"display_name":"Brian Knoblauch"},"score":81,"creation_date":1263826190,"post_id":2086546,"comment_id":2018693,"body_markdown":"I&#39;m not so quick to dismiss all early optimization as &quot;evil&quot;.  Being too aggressive is foolish, but when faced with constructs of comparable readability choosing one known to perform better is an appropriate decision.","body":"I&#39;m not so quick to dismiss all early optimization as &quot;evil&quot;.  Being too aggressive is foolish, but when faced with constructs of comparable readability choosing one known to perform better is an appropriate decision."},{"owner":{"account_id":85022,"reputation":13917,"user_id":237321,"accept_rate":75,"display_name":"x4u"},"score":11,"creation_date":1263828056,"post_id":2086546,"comment_id":2018930,"body_markdown":"The HashMap lookup version can easily be 10 times slower compared to a tableswitsch instruction. I wouldn&#39;t call this &quot;microslower&quot;!","body":"The HashMap lookup version can easily be 10 times slower compared to a tableswitsch instruction. I wouldn&#39;t call this &quot;microslower&quot;!"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1263828207,"post_id":2086546,"comment_id":2018949,"body_markdown":"I mean, slower in terms of &quot;microseconds&quot;.","body":"I mean, slower in terms of &quot;microseconds&quot;."},{"owner":{"account_id":4364735,"reputation":1449,"user_id":3560873,"display_name":"searchengine27"},"score":12,"creation_date":1430741974,"post_id":2086546,"comment_id":48176079,"body_markdown":"I&#39;m interested in actually knowing the inner workings of Java in the general case with switch statements - I&#39;m not interested in whether or not somebody thinks this is related to over-prioritizing early optimization. That being said, I have absolutely no idea why this answer is upvoted so much and why it is the accepted answer...this does nothing to answer the initial question.","body":"I&#39;m interested in actually knowing the inner workings of Java in the general case with switch statements - I&#39;m not interested in whether or not somebody thinks this is related to over-prioritizing early optimization. That being said, I have absolutely no idea why this answer is upvoted so much and why it is the accepted answer...this does nothing to answer the initial question."}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":6,"down_vote_count":15,"up_vote_count":134,"is_accepted":true,"score":119,"last_activity_date":1263830264,"creation_date":1263823911,"answer_id":2086546,"question_id":2086529,"body_markdown":"That&#39;s micro optimization and premature optimization, which are evil. Rather worry about readabililty and maintainability of the code in question. If there are more than two `if/else` blocks glued together or its size is unpredictable, then you may highly consider a `switch` statement.\r\n\r\nAlternatively, you can also grab *Polymorphism*. First create some interface:\r\n\r\n    public interface Action { \r\n        void execute(String input);\r\n    }\r\n\r\nAnd get hold of all implementations in some `Map`. You can do this either statically or dynamically:\r\n\r\n    Map&lt;String, Action&gt; actions = new HashMap&lt;String, Action&gt;();\r\n\r\nFinally replace the `if/else` or `switch` by something like this (leaving trivial checks like nullpointers aside):\r\n\r\n    actions.get(name).execute(input);\r\n\r\nIt *might* be microslower than `if/else` or `switch`, but the code is at least far better maintainable. \r\n\r\nAs you&#39;re talking about webapplications, you can make use of [`HttpServletRequest#getPathInfo()`][1] as action key (eventually write some more code to split the last part of pathinfo away in a loop until an action is found). You can find here similar answers: \r\n\r\n- https://stackoverflow.com/questions/1798232/using-a-custom-servlet-oriented-framework-too-many-servlets-is-this-an-issue/1798461#1798461\r\n- https://stackoverflow.com/questions/2060128/java-front-controller/2060842#2060842\r\n\r\nIf you&#39;re worrying about Java EE webapplication performance in general, then you may find [this article][2] useful as well. There are other areas which gives a **much more** performance gain than only (micro)optimizing the raw Java code.\r\n\r\n\r\n  [1]: http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletRequest.html#getPathInfo%28%29\r\n  [2]: http://balusc.blogspot.com/2009/09/webapplication-performance-tips-and.html","title":"What is the relative performance difference of if/else versus switch statement in Java?","body":"<p>That's micro optimization and premature optimization, which are evil. Rather worry about readabililty and maintainability of the code in question. If there are more than two <code>if/else</code> blocks glued together or its size is unpredictable, then you may highly consider a <code>switch</code> statement.</p>\n\n<p>Alternatively, you can also grab <em>Polymorphism</em>. First create some interface:</p>\n\n<pre><code>public interface Action { \n    void execute(String input);\n}\n</code></pre>\n\n<p>And get hold of all implementations in some <code>Map</code>. You can do this either statically or dynamically:</p>\n\n<pre><code>Map&lt;String, Action&gt; actions = new HashMap&lt;String, Action&gt;();\n</code></pre>\n\n<p>Finally replace the <code>if/else</code> or <code>switch</code> by something like this (leaving trivial checks like nullpointers aside):</p>\n\n<pre><code>actions.get(name).execute(input);\n</code></pre>\n\n<p>It <em>might</em> be microslower than <code>if/else</code> or <code>switch</code>, but the code is at least far better maintainable. </p>\n\n<p>As you're talking about webapplications, you can make use of <a href=\"http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletRequest.html#getPathInfo%28%29\" rel=\"noreferrer\"><code>HttpServletRequest#getPathInfo()</code></a> as action key (eventually write some more code to split the last part of pathinfo away in a loop until an action is found). You can find here similar answers: </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/1798232/using-a-custom-servlet-oriented-framework-too-many-servlets-is-this-an-issue/1798461#1798461\">Using a custom Servlet oriented framework, too many servlets, is this an issue</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2060128/java-front-controller/2060842#2060842\">Java Front Controller</a></li>\n</ul>\n\n<p>If you're worrying about Java EE webapplication performance in general, then you may find <a href=\"http://balusc.blogspot.com/2009/09/webapplication-performance-tips-and.html\" rel=\"noreferrer\">this article</a> useful as well. There are other areas which gives a <strong>much more</strong> performance gain than only (micro)optimizing the raw Java code.</p>\n"},{"comments":[{"owner":{"account_id":18236,"reputation":46374,"user_id":41619,"accept_rate":91,"display_name":"Adam Paynter"},"score":0,"creation_date":1263824013,"post_id":2086550,"comment_id":2018407,"body_markdown":"+1. There is a good chance that time spent on network I/O is easily eclipsing this particular issue.","body":"+1. There is a good chance that time spent on network I/O is easily eclipsing this particular issue."},{"owner":{"account_id":198785,"reputation":2388,"user_id":443659,"accept_rate":92,"display_name":"atraudes"},"score":4,"creation_date":1410464949,"post_id":2086550,"comment_id":40347374,"body_markdown":"It should be noted that switches work with more than just ints. From the Java Tutorials: &quot;A switch works with the byte, short, char, and int primitive data types. It also works with enumerated types (discussed in Enum Types), the String class, and a few special classes that wrap certain primitive types: Character, Byte, Short, and Integer (discussed in Numbers and Strings).&quot; Support for String is more recent addition; added in Java 7. http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html","body":"It should be noted that switches work with more than just ints. From the Java Tutorials: &quot;A switch works with the byte, short, char, and int primitive data types. It also works with enumerated types (discussed in Enum Types), the String class, and a few special classes that wrap certain primitive types: Character, Byte, Short, and Integer (discussed in Numbers and Strings).&quot; Support for String is more recent addition; added in Java 7. <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.htm&zwnj;&#8203;l</a>"},{"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"score":1,"creation_date":1416394669,"post_id":2086550,"comment_id":42555794,"body_markdown":"@jhonFeminella Could you please compare BIG O notion effects for Java7 String in Swtich compared to String in if / else if ..?","body":"@jhonFeminella Could you please compare BIG O notion effects for Java7 String in Swtich compared to String in if / else if ..?"},{"owner":{"account_id":481416,"reputation":355404,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":0,"creation_date":1435163851,"post_id":2086550,"comment_id":50088862,"body_markdown":"More precisely, javac 8 gives a weight of 3 to time complexity over space complexity: http://stackoverflow.com/a/31032054/895245","body":"More precisely, javac 8 gives a weight of 3 to time complexity over space complexity: <a href=\"http://stackoverflow.com/a/31032054/895245\">stackoverflow.com/a/31032054/895245</a>"}],"tags":[],"owner":{"account_id":28214,"reputation":305280,"user_id":75170,"accept_rate":72,"display_name":"John Feminella"},"comment_count":4,"down_vote_count":3,"up_vote_count":55,"is_accepted":false,"score":52,"last_activity_date":1435169742,"creation_date":1263823945,"answer_id":2086550,"question_id":2086529,"body_markdown":"It&#39;s extremely unlikely that an if/else or a switch is going to be the source of your performance woes. If you&#39;re having performance problems, you should do a performance profiling analysis first to determine where the slow spots are. Premature optimization is the root of all evil!\r\n\r\nNevertheless, it&#39;s possible to talk about the relative performance of switch vs. if/else with the Java compiler optimizations. First note that in Java, switch statements operate on a very limited domain -- integers. In general, you can view a switch statement as follows:\r\n\r\n    switch (&lt;condition&gt;) {\r\n       case c_0: ...\r\n       case c_1: ...\r\n       ...\r\n       case c_n: ...\r\n       default: ...\r\n    }\r\n\r\nwhere `c_0`, `c_1`, ..., and `c_N` are integral numbers that are targets of the switch statement, and `&lt;condition&gt;` must resolve to an integer expression.\r\n\r\n* If this set is &quot;dense&quot; -- that is, (max(c&lt;sub&gt;i&lt;/sub&gt;) + 1 - min(c&lt;sub&gt;i&lt;/sub&gt;)) / n &gt; &amp;alpha;, where 0 &lt; k &lt; &amp;alpha; &lt; 1, where `k` is larger than some empirical value, a jump table can be generated, which is highly efficient.\r\n\r\n* If this set is not very dense, but n &gt;= &amp;beta;, a binary search tree can find the target in O(2 * log(n)) which is still efficient too. \r\n\r\nFor all other cases, a switch statement is exactly as efficient as the equivalent series of if/else statements. The precise values of &amp;alpha; and &amp;beta; depend on a number of factors and are determined by the compiler&#39;s code-optimization module. \r\n\r\nFinally, of course, if the domain of `&lt;condition&gt;` is not the integers, a switch\r\nstatement is completely useless.","title":"What is the relative performance difference of if/else versus switch statement in Java?","body":"<p>It's extremely unlikely that an if/else or a switch is going to be the source of your performance woes. If you're having performance problems, you should do a performance profiling analysis first to determine where the slow spots are. Premature optimization is the root of all evil!</p>\n\n<p>Nevertheless, it's possible to talk about the relative performance of switch vs. if/else with the Java compiler optimizations. First note that in Java, switch statements operate on a very limited domain -- integers. In general, you can view a switch statement as follows:</p>\n\n<pre><code>switch (&lt;condition&gt;) {\n   case c_0: ...\n   case c_1: ...\n   ...\n   case c_n: ...\n   default: ...\n}\n</code></pre>\n\n<p>where <code>c_0</code>, <code>c_1</code>, ..., and <code>c_N</code> are integral numbers that are targets of the switch statement, and <code>&lt;condition&gt;</code> must resolve to an integer expression.</p>\n\n<ul>\n<li><p>If this set is \"dense\" -- that is, (max(c<sub>i</sub>) + 1 - min(c<sub>i</sub>)) / n > &alpha;, where 0 &lt; k &lt; &alpha; &lt; 1, where <code>k</code> is larger than some empirical value, a jump table can be generated, which is highly efficient.</p></li>\n<li><p>If this set is not very dense, but n >= &beta;, a binary search tree can find the target in O(2 * log(n)) which is still efficient too. </p></li>\n</ul>\n\n<p>For all other cases, a switch statement is exactly as efficient as the equivalent series of if/else statements. The precise values of &alpha; and &beta; depend on a number of factors and are determined by the compiler's code-optimization module. </p>\n\n<p>Finally, of course, if the domain of <code>&lt;condition&gt;</code> is not the integers, a switch\nstatement is completely useless.</p>\n"},{"comments":[{"owner":{"account_id":75519,"reputation":443,"user_id":216582,"accept_rate":73,"display_name":"Folkert van Heusden"},"score":66,"creation_date":1341160920,"post_id":2086619,"comment_id":14841448,"body_markdown":"I wonder why this comment isn&#39;t rated higher: it is the most informitive of all of them. I mean: we all already know about premature optimalization being bad and such, no need to explain that for the 1000th time.","body":"I wonder why this comment isn&#39;t rated higher: it is the most informitive of all of them. I mean: we all already know about premature optimalization being bad and such, no need to explain that for the 1000th time."},{"owner":{"account_id":32385,"reputation":31109,"user_id":89818,"accept_rate":96,"display_name":"caw"},"score":7,"creation_date":1400981574,"post_id":2086619,"comment_id":36706193,"body_markdown":"+1 As of http://stackoverflow.com/a/15621602/89818 it seems the performance gains are really there, and you should see an advantage if you use 18+ cases.","body":"+1 As of <a href=\"http://stackoverflow.com/a/15621602/89818\">stackoverflow.com/a/15621602/89818</a> it seems the performance gains are really there, and you should see an advantage if you use 18+ cases."}],"tags":[],"owner":{"account_id":67380,"reputation":2024,"user_id":197198,"display_name":"Waverick"},"comment_count":2,"down_vote_count":0,"up_vote_count":148,"is_accepted":false,"score":148,"last_activity_date":1400601021,"creation_date":1263824637,"answer_id":2086619,"question_id":2086529,"body_markdown":"I totally agree with the opinion that premature optimization is something to avoid.\r\n\r\nBut it&#39;s true that the Java VM has special bytecodes which could be used for switch()&#39;s.\r\n\r\nSee [WM Spec][1] ([lookupswitch][2] and [tableswitch][3])\r\n\r\n\r\nSo there could be some performance gains, if the code is part of the performance CPU graph.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/\r\n  [2]: http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.10.1.9.lookupswitch\r\n  [3]: http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.10.1.9.tableswitch","title":"What is the relative performance difference of if/else versus switch statement in Java?","body":"<p>I totally agree with the opinion that premature optimization is something to avoid.</p>\n\n<p>But it's true that the Java VM has special bytecodes which could be used for switch()'s.</p>\n\n<p>See <a href=\"http://docs.oracle.com/javase/specs/\" rel=\"noreferrer\">WM Spec</a> (<a href=\"http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.10.1.9.lookupswitch\" rel=\"noreferrer\">lookupswitch</a> and <a href=\"http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.10.1.9.tableswitch\" rel=\"noreferrer\">tableswitch</a>)</p>\n\n<p>So there could be some performance gains, if the code is part of the performance CPU graph.</p>\n"},{"tags":[],"owner":{"account_id":19562,"reputation":30712,"user_id":45935,"accept_rate":100,"display_name":"Jim Ferrans"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1399435438,"creation_date":1263825161,"answer_id":2086662,"question_id":2086529,"body_markdown":"According to Cliff Click in his 2009 Java One talk [A Crash Course in Modern Hardware][1]:\r\n\r\n&gt; Today, performance is dominated by patterns of memory access.  Cache misses dominate – memory is the new disk. [Slide 65]\r\n\r\nYou can get his full slides [here][2].  \r\n\r\nCliff gives an example (finishing on Slide 30) showing that even with the CPU doing register-renaming, branch prediction, and speculative execution, it&#39;s only able to start 7 operations in 4 clock cycles before having to block due to two cache misses which take *300* clock cycles to return.\r\n\r\nSo he says to speed up your program you shouldn&#39;t be looking at this sort of minor issue, but on larger ones such as whether you&#39;re making unnecessary data format conversions, such as converting &quot;SOAP → XML → DOM → SQL → …&quot; which &quot;passes all the data through the cache&quot;.\r\n\r\n  [1]: http://www.infoq.com/presentations/click-crash-course-modern-hardware\r\n  [2]: http://www.azulsystems.com/events/javaone_2009/session/2009_J1_HardwareCrashCourse.pdf","title":"What is the relative performance difference of if/else versus switch statement in Java?","body":"<p>According to Cliff Click in his 2009 Java One talk <a href=\"http://www.infoq.com/presentations/click-crash-course-modern-hardware\" rel=\"nofollow noreferrer\">A Crash Course in Modern Hardware</a>:</p>\n\n<blockquote>\n  <p>Today, performance is dominated by patterns of memory access.  Cache misses dominate – memory is the new disk. [Slide 65]</p>\n</blockquote>\n\n<p>You can get his full slides <a href=\"http://www.azulsystems.com/events/javaone_2009/session/2009_J1_HardwareCrashCourse.pdf\" rel=\"nofollow noreferrer\">here</a>.  </p>\n\n<p>Cliff gives an example (finishing on Slide 30) showing that even with the CPU doing register-renaming, branch prediction, and speculative execution, it's only able to start 7 operations in 4 clock cycles before having to block due to two cache misses which take <em>300</em> clock cycles to return.</p>\n\n<p>So he says to speed up your program you shouldn't be looking at this sort of minor issue, but on larger ones such as whether you're making unnecessary data format conversions, such as converting \"SOAP → XML → DOM → SQL → …\" which \"passes all the data through the cache\".</p>\n"},{"comments":[{"owner":{"account_id":78258,"reputation":1165,"user_id":222837,"accept_rate":72,"display_name":"KingAndrew"},"score":4,"creation_date":1391558174,"post_id":2087161,"comment_id":32573718,"body_markdown":"+1 for the hot code comment.  If its in your main loop its not premature.","body":"+1 for the hot code comment.  If its in your main loop its not premature."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1416400802,"post_id":2087161,"comment_id":42559335,"body_markdown":"Yes, *javac* implements `switch` several different ways, some more efficient than others.  In general, the efficiency will be no worse than a straight-forward &quot;`if` ladder&quot;, but there are enough variations (especially with the JITC) that it&#39;s hard to be much more precise than that.","body":"Yes, <i>javac</i> implements <code>switch</code> several different ways, some more efficient than others.  In general, the efficiency will be no worse than a straight-forward &quot;<code>if</code> ladder&quot;, but there are enough variations (especially with the JITC) that it&#39;s hard to be much more precise than that."}],"tags":[],"owner":{"account_id":61169,"reputation":1527,"user_id":182462,"accept_rate":58,"display_name":"malaverdiere"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1263829335,"creation_date":1263829335,"answer_id":2087161,"question_id":2086529,"body_markdown":"I remember reading that there are 2 kinds of Switch statements in Java bytecode. (I think it was in &#39;Java Performance Tuning&#39; One is a very fast implementation which uses the switch statement&#39;s integer values to know the offset of the code to be executed. This would require all integers to be consecutive and in a well-defined range. I&#39;m guessing that using all the values of an Enum would fall in that category too.\r\n\r\nI agree with many other posters though... it may be premature to worry about this, unless this is very very hot code.","title":"What is the relative performance difference of if/else versus switch statement in Java?","body":"<p>I remember reading that there are 2 kinds of Switch statements in Java bytecode. (I think it was in 'Java Performance Tuning' One is a very fast implementation which uses the switch statement's integer values to know the offset of the code to be executed. This would require all integers to be consecutive and in a well-defined range. I'm guessing that using all the values of an Enum would fall in that category too.</p>\n\n<p>I agree with many other posters though... it may be premature to worry about this, unless this is very very hot code.</p>\n"},{"comments":[{"owner":{"account_id":67532,"reputation":15704,"user_id":197574,"accept_rate":83,"display_name":"DerMike"},"score":0,"creation_date":1399290450,"post_id":17963813,"comment_id":35985688,"body_markdown":"Could you please (sometime) elaborate a bit on how you did benchmark this?","body":"Could you please (sometime) elaborate a bit on how you did benchmark this?"},{"owner":{"account_id":67532,"reputation":15704,"user_id":197574,"accept_rate":83,"display_name":"DerMike"},"score":0,"creation_date":1399294376,"post_id":17963813,"comment_id":35988101,"body_markdown":"Thank you very much for your update.\nI mean, they differ by one order of magnitude - wich is possible of course. Are you sure that the compiler did not just optimze the `switch`es away?","body":"Thank you very much for your update. I mean, they differ by one order of magnitude - wich is possible of course. Are you sure that the compiler did not just optimze the <code>switch</code>es away?"},{"owner":{"account_id":1549477,"reputation":13452,"user_id":1442225,"accept_rate":76,"display_name":"Bitterblue"},"score":0,"creation_date":1399298302,"post_id":17963813,"comment_id":35990559,"body_markdown":"@DerMike I don&#39;t remember how I got the old results. I got very different today. But try it yourself and let me know how it turns out.","body":"@DerMike I don&#39;t remember how I got the old results. I got very different today. But try it yourself and let me know how it turns out."},{"owner":{"account_id":532869,"reputation":1799,"user_id":903620,"display_name":"halil"},"score":1,"creation_date":1429695155,"post_id":17963813,"comment_id":47715062,"body_markdown":"when i run it on my laptop ;\nswitch time needed: 3585, \nif/else time needed: 3458 so if/else is better :) or not worse","body":"when i run it on my laptop ; switch time needed: 3585,  if/else time needed: 3458 so if/else is better :) or not worse"},{"owner":{"account_id":1549477,"reputation":13452,"user_id":1442225,"accept_rate":76,"display_name":"Bitterblue"},"score":0,"creation_date":1430126706,"post_id":17963813,"comment_id":47906931,"body_markdown":"@halil 2nd sentence of [the accepted answer](http://stackoverflow.com/a/2086546/1442225) is absolutely right. In your case I would take switch anyways. The times aren&#39;t that different.","body":"@halil 2nd sentence of <a href=\"http://stackoverflow.com/a/2086546/1442225\">the accepted answer</a> is absolutely right. In your case I would take switch anyways. The times aren&#39;t that different."},{"owner":{"account_id":7095475,"reputation":322,"user_id":5429227,"accept_rate":95,"display_name":"WhilseySoon"},"score":0,"creation_date":1459430211,"post_id":17963813,"comment_id":60291099,"body_markdown":"You could use break instead of these else-if statements though.","body":"You could use break instead of these else-if statements though."},{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":2,"creation_date":1466563124,"post_id":17963813,"comment_id":63363088,"body_markdown":"The dominant cost in the test is the random number generation. I modified the test to generate the random number before the loop, and used the temp value to feed back into r. The switch is then almost twice as fast as the if-else chain.","body":"The dominant cost in the test is the random number generation. I modified the test to generate the random number before the loop, and used the temp value to feed back into r. The switch is then almost twice as fast as the if-else chain."},{"owner":{"account_id":4082820,"reputation":999,"user_id":3352883,"display_name":"AmeyaB"},"score":0,"creation_date":1487925695,"post_id":17963813,"comment_id":72012691,"body_markdown":"Inaccurate.., the random number should be generated before and same one should be fed to both the methods.","body":"Inaccurate.., the random number should be generated before and same one should be fed to both the methods."},{"owner":{"account_id":7387147,"reputation":481,"user_id":5621843,"display_name":"D. L."},"score":0,"creation_date":1491751033,"post_id":17963813,"comment_id":73681291,"body_markdown":"As others remarked, random is costly and hides differences in performance. I replaced\n    int r = (int) (Math.random() * 10);\nwith\n    int r = (loop &amp; 0b11111) != 0b0 ? 0 : loop % 10;\nand got that the if/else is three times as fast as the switch, which shows it also depends on the distribution of your data.","body":"As others remarked, random is costly and hides differences in performance. I replaced     int r = (int) (Math.random() * 10); with     int r = (loop &amp; 0b11111) != 0b0 ? 0 : loop % 10; and got that the if/else is three times as fast as the switch, which shows it also depends on the distribution of your data."}],"tags":[],"owner":{"account_id":1549477,"reputation":13452,"user_id":1442225,"accept_rate":76,"display_name":"Bitterblue"},"comment_count":9,"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1399298159,"creation_date":1375254486,"answer_id":17963813,"question_id":2086529,"body_markdown":"**Use switch!**\r\n\r\nI hate to maintain if-else-blocks! Have a test:\r\n\r\n\tpublic class SpeedTestSwitch\r\n\t{\r\n\t\tprivate static void do1(int loop)\r\n\t\t{\r\n\t\t\tint temp = 0;\r\n\t\t\tfor (; loop &gt; 0; --loop)\r\n\t\t\t{\r\n\t\t\t\tint r = (int) (Math.random() * 10);\r\n\t\t\t\tswitch (r)\r\n\t\t\t\t{\r\n\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\ttemp = 9;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\ttemp = 8;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\ttemp = 7;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\ttemp = 6;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 4:\r\n\t\t\t\t\t\ttemp = 5;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 5:\r\n\t\t\t\t\t\ttemp = 4;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 6:\r\n\t\t\t\t\t\ttemp = 3;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 7:\r\n\t\t\t\t\t\ttemp = 2;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 8:\r\n\t\t\t\t\t\ttemp = 1;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 9:\r\n\t\t\t\t\t\ttemp = 0;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;ignore: &quot; + temp);\r\n\t\t}\r\n\r\n\t\tprivate static void do2(int loop)\r\n\t\t{\r\n\t\t\tint temp = 0;\r\n\t\t\tfor (; loop &gt; 0; --loop)\r\n\t\t\t{\r\n\t\t\t\tint r = (int) (Math.random() * 10);\r\n\t\t\t\tif (r == 0)\r\n\t\t\t\t\ttemp = 9;\r\n\t\t\t\telse\r\n\t\t\t\t\tif (r == 1)\r\n\t\t\t\t\t\ttemp = 8;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tif (r == 2)\r\n\t\t\t\t\t\t\ttemp = 7;\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tif (r == 3)\r\n\t\t\t\t\t\t\t\ttemp = 6;\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\tif (r == 4)\r\n\t\t\t\t\t\t\t\t\ttemp = 5;\r\n\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t\tif (r == 5)\r\n\t\t\t\t\t\t\t\t\t\ttemp = 4;\r\n\t\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t\t\tif (r == 6)\r\n\t\t\t\t\t\t\t\t\t\t\ttemp = 3;\r\n\t\t\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t\t\t\tif (r == 7)\r\n\t\t\t\t\t\t\t\t\t\t\t\ttemp = 2;\r\n\t\t\t\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (r == 8)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttemp = 1;\r\n\t\t\t\t\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (r == 9)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttemp = 0;\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;ignore: &quot; + temp);\r\n\t\t}\r\n\r\n\t\tpublic static void main(String[] args)\r\n\t\t{\r\n\t\t\tlong time;\r\n\t\t\tint loop = 1 * 100 * 1000 * 1000;\r\n\t\t\tSystem.out.println(&quot;warming up...&quot;);\r\n\t\t\tdo1(loop / 100);\r\n\t\t\tdo2(loop / 100);\r\n\r\n\t\t\tSystem.out.println(&quot;start&quot;);\r\n\r\n\t\t\t// run 1\r\n\t\t\tSystem.out.println(&quot;switch:&quot;);\r\n\t\t\ttime = System.currentTimeMillis();\r\n\t\t\tdo1(loop);\r\n\t\t\tSystem.out.println(&quot; -&gt; time needed: &quot; + (System.currentTimeMillis() - time));\r\n\r\n\t\t\t// run 2\r\n\t\t\tSystem.out.println(&quot;if/else:&quot;);\r\n\t\t\ttime = System.currentTimeMillis();\r\n\t\t\tdo2(loop);\r\n\t\t\tSystem.out.println(&quot; -&gt; time needed: &quot; + (System.currentTimeMillis() - time));\r\n\t\t}\r\n\t}\r\n\r\n[My C# standard code for benchmarking][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/11467860/1442225 &quot;My standard code I use for benchmarking&quot;","title":"What is the relative performance difference of if/else versus switch statement in Java?","body":"<p><strong>Use switch!</strong></p>\n\n<p>I hate to maintain if-else-blocks! Have a test:</p>\n\n<pre><code>public class SpeedTestSwitch\n{\n    private static void do1(int loop)\n    {\n        int temp = 0;\n        for (; loop &gt; 0; --loop)\n        {\n            int r = (int) (Math.random() * 10);\n            switch (r)\n            {\n                case 0:\n                    temp = 9;\n                    break;\n                case 1:\n                    temp = 8;\n                    break;\n                case 2:\n                    temp = 7;\n                    break;\n                case 3:\n                    temp = 6;\n                    break;\n                case 4:\n                    temp = 5;\n                    break;\n                case 5:\n                    temp = 4;\n                    break;\n                case 6:\n                    temp = 3;\n                    break;\n                case 7:\n                    temp = 2;\n                    break;\n                case 8:\n                    temp = 1;\n                    break;\n                case 9:\n                    temp = 0;\n                    break;\n            }\n        }\n        System.out.println(\"ignore: \" + temp);\n    }\n\n    private static void do2(int loop)\n    {\n        int temp = 0;\n        for (; loop &gt; 0; --loop)\n        {\n            int r = (int) (Math.random() * 10);\n            if (r == 0)\n                temp = 9;\n            else\n                if (r == 1)\n                    temp = 8;\n                else\n                    if (r == 2)\n                        temp = 7;\n                    else\n                        if (r == 3)\n                            temp = 6;\n                        else\n                            if (r == 4)\n                                temp = 5;\n                            else\n                                if (r == 5)\n                                    temp = 4;\n                                else\n                                    if (r == 6)\n                                        temp = 3;\n                                    else\n                                        if (r == 7)\n                                            temp = 2;\n                                        else\n                                            if (r == 8)\n                                                temp = 1;\n                                            else\n                                                if (r == 9)\n                                                    temp = 0;\n        }\n        System.out.println(\"ignore: \" + temp);\n    }\n\n    public static void main(String[] args)\n    {\n        long time;\n        int loop = 1 * 100 * 1000 * 1000;\n        System.out.println(\"warming up...\");\n        do1(loop / 100);\n        do2(loop / 100);\n\n        System.out.println(\"start\");\n\n        // run 1\n        System.out.println(\"switch:\");\n        time = System.currentTimeMillis();\n        do1(loop);\n        System.out.println(\" -&gt; time needed: \" + (System.currentTimeMillis() - time));\n\n        // run 2\n        System.out.println(\"if/else:\");\n        time = System.currentTimeMillis();\n        do2(loop);\n        System.out.println(\" -&gt; time needed: \" + (System.currentTimeMillis() - time));\n    }\n}\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/11467860/1442225\" title=\"My standard code I use for benchmarking\">My C# standard code for benchmarking</a></p>\n"},{"tags":[],"owner":{"account_id":2293921,"reputation":9958,"user_id":2015912,"accept_rate":70,"display_name":"scottb"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1375256066,"creation_date":1375256066,"answer_id":17964275,"question_id":2086529,"body_markdown":"For most `switch` and most `if-then-else` blocks, I can&#39;t imagine that there are any appreciable or significant performance related concerns.\r\n\r\nBut here&#39;s the thing:  if you&#39;re using a `switch` block, its very use suggests that you&#39;re switching on a value taken from a set of constants known at compile time.  In this case, you really shouldn&#39;t be using `switch` statements at all if you can use an `enum` with constant-specific methods.\r\n\r\nCompared to a `switch` statement, an enum provides better type safety and code that is easier to maintain.  Enums can be designed so that if a constant is added to the set of constants, your code won&#39;t compile without providing a constant-specific method for the new value. On the other hand, forgetting to add a new `case` to a `switch` block can sometimes only be caught at run time if you&#39;re lucky enough to have set your block up to throw an exception.\r\n\r\nPerformance between `switch` and an `enum` constant-specific method should not be significantly different, but the latter is more readable, safer, and easier to maintain.\r\n","title":"What is the relative performance difference of if/else versus switch statement in Java?","body":"<p>For most <code>switch</code> and most <code>if-then-else</code> blocks, I can't imagine that there are any appreciable or significant performance related concerns.</p>\n\n<p>But here's the thing:  if you're using a <code>switch</code> block, its very use suggests that you're switching on a value taken from a set of constants known at compile time.  In this case, you really shouldn't be using <code>switch</code> statements at all if you can use an <code>enum</code> with constant-specific methods.</p>\n\n<p>Compared to a <code>switch</code> statement, an enum provides better type safety and code that is easier to maintain.  Enums can be designed so that if a constant is added to the set of constants, your code won't compile without providing a constant-specific method for the new value. On the other hand, forgetting to add a new <code>case</code> to a <code>switch</code> block can sometimes only be caught at run time if you're lucky enough to have set your block up to throw an exception.</p>\n\n<p>Performance between <code>switch</code> and an <code>enum</code> constant-specific method should not be significantly different, but the latter is more readable, safer, and easier to maintain.</p>\n"},{"comments":[{"owner":{"account_id":532869,"reputation":1799,"user_id":903620,"display_name":"halil"},"score":0,"creation_date":1429695404,"post_id":27016697,"comment_id":47715233,"body_markdown":"`Time taken for String in Switch :3235\n\nTime taken for String in if/else if :3143\n\nTime taken for String in Map :4194\n\nTime taken for String in ENUM :2866`","body":"<code>Time taken for String in Switch :3235  Time taken for String in if&#47;else if :3143  Time taken for String in Map :4194  Time taken for String in ENUM :2866</code>"},{"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"score":1,"creation_date":1432121761,"post_id":27016697,"comment_id":48789430,"body_markdown":"@halil I am not sure how this code works on different environments, but you have mentioned if/elseif is better than Switch and Map, that i am not able to convince since if/elseif has to perform more no of times equals comparison.","body":"@halil I am not sure how this code works on different environments, but you have mentioned if/elseif is better than Switch and Map, that i am not able to convince since if/elseif has to perform more no of times equals comparison."}],"tags":[],"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1432121545,"creation_date":1416399620,"answer_id":27016697,"question_id":2086529,"body_markdown":"In my test the better performance is **ENUM &gt; MAP &gt; SWITCH &gt; IF/ELSE IF** in Windows7.\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class StringsInSwitch {\r\n\tpublic static void main(String[] args) {\r\n\t\tString doSomething = null;\r\n\t\t\r\n\t\t\r\n\t\t//METHOD_1 : SWITCH\r\n\t\tlong start = System.currentTimeMillis();\r\n\t\tfor (int i = 0; i &lt; 99999999; i++) {\r\n\t\t\tString input = &quot;Hello World&quot; + (i &amp; 0xF);\r\n\r\n\t\t\tswitch (input) {\r\n\t\t\tcase &quot;Hello World0&quot;:\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;Hello World1&quot;:\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;Hello World2&quot;:\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;Hello World3&quot;:\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;Hello World4&quot;:\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;Hello World5&quot;:\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;Hello World6&quot;:\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;Hello World7&quot;:\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;Hello World8&quot;:\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;Hello World9&quot;:\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;Hello World10&quot;:\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;Hello World11&quot;:\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;Hello World12&quot;:\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;Hello World13&quot;:\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;Hello World14&quot;:\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;Hello World15&quot;:\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;Time taken for String in Switch :&quot;+ (System.currentTimeMillis() - start));\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t//METHOD_2 : IF/ELSE IF\r\n\t\tstart = System.currentTimeMillis();\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; 99999999; i++) {\r\n\t\t\tString input = &quot;Hello World&quot; + (i &amp; 0xF);\r\n\r\n\t\t\tif(input.equals(&quot;Hello World0&quot;)){\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\t\t\t} else if(input.equals(&quot;Hello World1&quot;)){\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\r\n\t\t\t} else if(input.equals(&quot;Hello World2&quot;)){\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\r\n\t\t\t} else if(input.equals(&quot;Hello World3&quot;)){\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\r\n\t\t\t} else if(input.equals(&quot;Hello World4&quot;)){\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\r\n\t\t\t} else if(input.equals(&quot;Hello World5&quot;)){\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\r\n\t\t\t} else if(input.equals(&quot;Hello World6&quot;)){\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\r\n\t\t\t} else if(input.equals(&quot;Hello World7&quot;)){\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\r\n\t\t\t} else if(input.equals(&quot;Hello World8&quot;)){\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\r\n\t\t\t} else if(input.equals(&quot;Hello World9&quot;)){\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\r\n\t\t\t} else if(input.equals(&quot;Hello World10&quot;)){\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\r\n\t\t\t} else if(input.equals(&quot;Hello World11&quot;)){\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\r\n\t\t\t} else if(input.equals(&quot;Hello World12&quot;)){\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\r\n\t\t\t} else if(input.equals(&quot;Hello World13&quot;)){\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\r\n\t\t\t} else if(input.equals(&quot;Hello World14&quot;)){\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\r\n\t\t\t} else if(input.equals(&quot;Hello World15&quot;)){\r\n\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Time taken for String in if/else if :&quot;+ (System.currentTimeMillis() - start));\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t//METHOD_3 : MAP\r\n\t\t//Create and build Map\r\n\t\tMap&lt;String, ExecutableClass&gt; map = new HashMap&lt;String, ExecutableClass&gt;();\r\n\t\tfor (int i = 0; i &lt;= 15; i++) {\r\n\t\t\tString input = &quot;Hello World&quot; + (i &amp; 0xF);\r\n\t\t\tmap.put(input, new ExecutableClass(){\r\n\t\t\t\t\t\t\t\tpublic void execute(String doSomething){\r\n\t\t\t\t\t\t\t\t\tdoSomething = &quot;Hello World0&quot;;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t//Start test map\r\n\t\tstart = System.currentTimeMillis();\r\n\t\tfor (int i = 0; i &lt; 99999999; i++) {\r\n\t\t\tString input = &quot;Hello World&quot; + (i &amp; 0xF);\r\n\t\t\tmap.get(input).execute(doSomething);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Time taken for String in Map :&quot;+ (System.currentTimeMillis() - start));\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\t\t\r\n\t\t\r\n\t\t//METHOD_4 : ENUM (This doesn&#39;t use muliple string with space.)\r\n\t\tstart = System.currentTimeMillis();\r\n\t\tfor (int i = 0; i &lt; 99999999; i++) {\r\n\t\t\tString input = &quot;HW&quot; + (i &amp; 0xF);\r\n\t\t\tHelloWorld.valueOf(input).execute(doSomething);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Time taken for String in ENUM :&quot;+ (System.currentTimeMillis() - start));\r\n    \t\t\r\n    \r\n    \t}\r\n    \r\n    }\r\n    \r\n    interface ExecutableClass\r\n    {\r\n    \tpublic void execute(String doSomething);\r\n    }\r\n    \r\n    \r\n    \r\n    // Enum version\r\n    enum HelloWorld {\r\n    \tHW0(&quot;Hello World0&quot;), HW1(&quot;Hello World1&quot;), HW2(&quot;Hello World2&quot;), HW3(\r\n    \t\t\t&quot;Hello World3&quot;), HW4(&quot;Hello World4&quot;), HW5(&quot;Hello World5&quot;), HW6(\r\n    \t\t\t&quot;Hello World6&quot;), HW7(&quot;Hello World7&quot;), HW8(&quot;Hello World8&quot;), HW9(\r\n    \t\t\t&quot;Hello World9&quot;), HW10(&quot;Hello World10&quot;), HW11(&quot;Hello World11&quot;), HW12(\r\n    \t\t\t&quot;Hello World12&quot;), HW13(&quot;Hello World13&quot;), HW14(&quot;Hello World4&quot;), HW15(\r\n    \t\t\t&quot;Hello World15&quot;);\r\n    \r\n    \tprivate String name = null;\r\n    \r\n    \tprivate HelloWorld(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \t\r\n    \tpublic void execute(String doSomething){\r\n    \t\tdoSomething = &quot;Hello World0&quot;;\r\n    \t}\r\n    \r\n    \tpublic static HelloWorld fromString(String input) {\r\n    \t\tfor (HelloWorld hw : HelloWorld.values()) {\r\n    \t\t\tif (input.equals(hw.getName())) {\r\n    \t\t\t\treturn hw;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    //Enum version for betterment on coding format compare to interface ExecutableClass\r\n    enum HelloWorld1 {\r\n    \tHW0(&quot;Hello World0&quot;) {\t\r\n    \t\tpublic void execute(String doSomething){\r\n    \t\t\tdoSomething = &quot;Hello World0&quot;;\r\n    \t\t}\r\n    \t}, \r\n    \tHW1(&quot;Hello World1&quot;){\t\r\n    \t\tpublic void execute(String doSomething){\r\n    \t\t\tdoSomething = &quot;Hello World0&quot;;\r\n    \t\t}\r\n    \t};\r\n    \tprivate String name = null;\r\n    \r\n    \tprivate HelloWorld1(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \t\r\n    \tpublic void execute(String doSomething){\r\n        //\tsuper call, nothing here\r\n    \t}\r\n    }\r\n    \r\n    \r\n    /*\r\n     * http://stackoverflow.com/questions/338206/why-cant-i-switch-on-a-string\r\n     * https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-3.html#jvms-3.10\r\n     * http://forums.xkcd.com/viewtopic.php?f=11&amp;t=33524\r\n     */ \r\n\r\n","title":"What is the relative performance difference of if/else versus switch statement in Java?","body":"<p>In my test the better performance is <strong>ENUM > MAP > SWITCH > IF/ELSE IF</strong> in Windows7.</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic class StringsInSwitch {\npublic static void main(String[] args) {\n    String doSomething = null;\n\n\n    //METHOD_1 : SWITCH\n    long start = System.currentTimeMillis();\n    for (int i = 0; i &lt; 99999999; i++) {\n        String input = \"Hello World\" + (i &amp; 0xF);\n\n        switch (input) {\n        case \"Hello World0\":\n            doSomething = \"Hello World0\";\n            break;\n        case \"Hello World1\":\n            doSomething = \"Hello World0\";\n            break;\n        case \"Hello World2\":\n            doSomething = \"Hello World0\";\n            break;\n        case \"Hello World3\":\n            doSomething = \"Hello World0\";\n            break;\n        case \"Hello World4\":\n            doSomething = \"Hello World0\";\n            break;\n        case \"Hello World5\":\n            doSomething = \"Hello World0\";\n            break;\n        case \"Hello World6\":\n            doSomething = \"Hello World0\";\n            break;\n        case \"Hello World7\":\n            doSomething = \"Hello World0\";\n            break;\n        case \"Hello World8\":\n            doSomething = \"Hello World0\";\n            break;\n        case \"Hello World9\":\n            doSomething = \"Hello World0\";\n            break;\n        case \"Hello World10\":\n            doSomething = \"Hello World0\";\n            break;\n        case \"Hello World11\":\n            doSomething = \"Hello World0\";\n            break;\n        case \"Hello World12\":\n            doSomething = \"Hello World0\";\n            break;\n        case \"Hello World13\":\n            doSomething = \"Hello World0\";\n            break;\n        case \"Hello World14\":\n            doSomething = \"Hello World0\";\n            break;\n        case \"Hello World15\":\n            doSomething = \"Hello World0\";\n            break;\n        }\n    }\n\n    System.out.println(\"Time taken for String in Switch :\"+ (System.currentTimeMillis() - start));\n\n\n\n\n    //METHOD_2 : IF/ELSE IF\n    start = System.currentTimeMillis();\n\n    for (int i = 0; i &lt; 99999999; i++) {\n        String input = \"Hello World\" + (i &amp; 0xF);\n\n        if(input.equals(\"Hello World0\")){\n            doSomething = \"Hello World0\";\n        } else if(input.equals(\"Hello World1\")){\n            doSomething = \"Hello World0\";\n\n        } else if(input.equals(\"Hello World2\")){\n            doSomething = \"Hello World0\";\n\n        } else if(input.equals(\"Hello World3\")){\n            doSomething = \"Hello World0\";\n\n        } else if(input.equals(\"Hello World4\")){\n            doSomething = \"Hello World0\";\n\n        } else if(input.equals(\"Hello World5\")){\n            doSomething = \"Hello World0\";\n\n        } else if(input.equals(\"Hello World6\")){\n            doSomething = \"Hello World0\";\n\n        } else if(input.equals(\"Hello World7\")){\n            doSomething = \"Hello World0\";\n\n        } else if(input.equals(\"Hello World8\")){\n            doSomething = \"Hello World0\";\n\n        } else if(input.equals(\"Hello World9\")){\n            doSomething = \"Hello World0\";\n\n        } else if(input.equals(\"Hello World10\")){\n            doSomething = \"Hello World0\";\n\n        } else if(input.equals(\"Hello World11\")){\n            doSomething = \"Hello World0\";\n\n        } else if(input.equals(\"Hello World12\")){\n            doSomething = \"Hello World0\";\n\n        } else if(input.equals(\"Hello World13\")){\n            doSomething = \"Hello World0\";\n\n        } else if(input.equals(\"Hello World14\")){\n            doSomething = \"Hello World0\";\n\n        } else if(input.equals(\"Hello World15\")){\n            doSomething = \"Hello World0\";\n\n        }\n    }\n    System.out.println(\"Time taken for String in if/else if :\"+ (System.currentTimeMillis() - start));\n\n\n\n\n\n\n\n\n\n    //METHOD_3 : MAP\n    //Create and build Map\n    Map&lt;String, ExecutableClass&gt; map = new HashMap&lt;String, ExecutableClass&gt;();\n    for (int i = 0; i &lt;= 15; i++) {\n        String input = \"Hello World\" + (i &amp; 0xF);\n        map.put(input, new ExecutableClass(){\n                            public void execute(String doSomething){\n                                doSomething = \"Hello World0\";\n                            }\n                        });\n    }\n\n\n    //Start test map\n    start = System.currentTimeMillis();\n    for (int i = 0; i &lt; 99999999; i++) {\n        String input = \"Hello World\" + (i &amp; 0xF);\n        map.get(input).execute(doSomething);\n    }\n    System.out.println(\"Time taken for String in Map :\"+ (System.currentTimeMillis() - start));\n\n\n\n\n\n\n    //METHOD_4 : ENUM (This doesn't use muliple string with space.)\n    start = System.currentTimeMillis();\n    for (int i = 0; i &lt; 99999999; i++) {\n        String input = \"HW\" + (i &amp; 0xF);\n        HelloWorld.valueOf(input).execute(doSomething);\n    }\n    System.out.println(\"Time taken for String in ENUM :\"+ (System.currentTimeMillis() - start));\n\n\n    }\n\n}\n\ninterface ExecutableClass\n{\n    public void execute(String doSomething);\n}\n\n\n\n// Enum version\nenum HelloWorld {\n    HW0(\"Hello World0\"), HW1(\"Hello World1\"), HW2(\"Hello World2\"), HW3(\n            \"Hello World3\"), HW4(\"Hello World4\"), HW5(\"Hello World5\"), HW6(\n            \"Hello World6\"), HW7(\"Hello World7\"), HW8(\"Hello World8\"), HW9(\n            \"Hello World9\"), HW10(\"Hello World10\"), HW11(\"Hello World11\"), HW12(\n            \"Hello World12\"), HW13(\"Hello World13\"), HW14(\"Hello World4\"), HW15(\n            \"Hello World15\");\n\n    private String name = null;\n\n    private HelloWorld(String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void execute(String doSomething){\n        doSomething = \"Hello World0\";\n    }\n\n    public static HelloWorld fromString(String input) {\n        for (HelloWorld hw : HelloWorld.values()) {\n            if (input.equals(hw.getName())) {\n                return hw;\n            }\n        }\n        return null;\n    }\n\n}\n\n\n\n\n\n//Enum version for betterment on coding format compare to interface ExecutableClass\nenum HelloWorld1 {\n    HW0(\"Hello World0\") {   \n        public void execute(String doSomething){\n            doSomething = \"Hello World0\";\n        }\n    }, \n    HW1(\"Hello World1\"){    \n        public void execute(String doSomething){\n            doSomething = \"Hello World0\";\n        }\n    };\n    private String name = null;\n\n    private HelloWorld1(String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void execute(String doSomething){\n    //  super call, nothing here\n    }\n}\n\n\n/*\n * http://stackoverflow.com/questions/338206/why-cant-i-switch-on-a-string\n * https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-3.html#jvms-3.10\n * http://forums.xkcd.com/viewtopic.php?f=11&amp;t=33524\n */ \n</code></pre>\n"},{"tags":[],"owner":{"account_id":20360280,"reputation":11,"user_id":14934774,"display_name":"Talles"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609727517,"creation_date":1609726025,"answer_id":65556860,"question_id":2086529,"body_markdown":"A good explanation at the link below:&lt;br&gt;\r\nhttps://www.geeksforgeeks.org/switch-vs-else/\r\n\r\nTest(c++17)&lt;br&gt;\r\n1 - If grouped&lt;br&gt;\r\n2 - If sequential&lt;br&gt;\r\n3 - Goto Array&lt;br&gt;\r\n4 - Switch Case - Jump Table&lt;br&gt;\r\nhttps://onlinegdb.com/Su7HNEBeG\r\n\r\n","title":"What is the relative performance difference of if/else versus switch statement in Java?","body":"<p>A good explanation at the link below:<br>\n<a href=\"https://www.geeksforgeeks.org/switch-vs-else/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/switch-vs-else/</a></p>\n<p>Test(c++17)<br>\n1 - If grouped<br>\n2 - If sequential<br>\n3 - Goto Array<br>\n4 - Switch Case - Jump Table<br>\n<a href=\"https://onlinegdb.com/Su7HNEBeG\" rel=\"nofollow noreferrer\">https://onlinegdb.com/Su7HNEBeG</a></p>\n"},{"tags":[],"owner":{"account_id":24674255,"reputation":1,"user_id":18568866,"display_name":"Vikash Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675791634,"creation_date":1675791634,"answer_id":75377065,"question_id":2086529,"body_markdown":"**Speed**: A switch statement might prove to be faster than ifs provided number of cases are good. If there are only few cases, it might not effect the speed in any case. Prefer switch if the number of cases are more than 5 otherwise, you may use if-else too. If a switch contains more than five items, it’s implemented using a lookup table or a hash list. This means that all items get the same access time, compared to a list of if:s where the last item takes much more time to reach as it has to evaluate every previous condition first.\r\n**Clarity in readability**: A switch looks much cleaner when you have to combine cases. Ifs are quite vulnerable to errors too. Missing an else statement can land you up in havoc. Adding/removing labels is also easier with a switch and makes your code significantly easier to change and maintain.\r\n\r\nExample:-&gt;\r\nString environment=&quot;QA&quot;;\r\n\t\t\r\n\t\tswitch(environment.toLowerCase().trim()) {\r\n\t\tcase &quot;qa&quot;:\r\n\t\t\tSystem.out.println(environment+&quot; :&quot;+&quot;Environment running the TestCases&quot;);\r\n\t\t\tbreak;\r\n\t\tcase &quot;Stage&quot;:\r\n\t\t\tSystem.out.println(environment+&quot; :&quot;+&quot;Environment running the TestCases&quot;);\r\n\t\t\tbreak;\r\n\t\tcase &quot;Dev&quot;:\r\n\t\t\tSystem.out.println(environment+&quot; :&quot;+&quot;Environment running the TestCases&quot;);\r\n\t\t\tbreak;\r\n\t\tcase &quot;UAT&quot;:\r\n\t\t\tSystem.out.println(environment+&quot; :&quot;+&quot;Environment running the TestCases&quot;);\r\n\t\t\tbreak;\r\n\t\tcase &quot;Prod&quot;:\r\n\t\t\tSystem.out.println(environment+&quot; :&quot;+&quot;Environment running the TestCases&quot;);\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tSystem.out.println(environment+&quot; :&quot;+&quot;Please pass the right Environment&quot;);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\t\r\n\t\tString browser=&quot;Chrome&quot;;\r\n\t\t\r\n\t\tif (browser.equals(&quot;chrome&quot;)) {\r\n\t\t\tSystem.out.println(browser + &quot;: &quot; + &quot; Launch the Browser&quot;);\r\n\t\t} else if (browser.equals(&quot;safari&quot;)) {\r\n\t\t\tSystem.out.println(browser + &quot;: &quot; + &quot; Launch the Browser&quot;);\r\n\t\t} else if (browser.equals(&quot;IE&quot;)) {\r\n\t\t\tSystem.out.println(browser + &quot;: &quot; + &quot; Launch the Browser&quot;);\r\n\t\t} else if (browser.equals(&quot;opera&quot;)) {\r\n\t\t\tSystem.out.println(browser + &quot;: &quot; + &quot; Launch the Browser&quot;);\r\n\r\n\t\t} else if (browser.equals(&quot;Edge&quot;)) {\r\n\t\t\tSystem.out.println(browser + &quot;: &quot; + &quot; Launch the Browser&quot;);\r\n\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Please pass the right browser&quot;);\r\n\t\t}\r\n\t\t\t\r\n","title":"What is the relative performance difference of if/else versus switch statement in Java?","body":"<p><strong>Speed</strong>: A switch statement might prove to be faster than ifs provided number of cases are good. If there are only few cases, it might not effect the speed in any case. Prefer switch if the number of cases are more than 5 otherwise, you may use if-else too. If a switch contains more than five items, it’s implemented using a lookup table or a hash list. This means that all items get the same access time, compared to a list of if:s where the last item takes much more time to reach as it has to evaluate every previous condition first.\n<strong>Clarity in readability</strong>: A switch looks much cleaner when you have to combine cases. Ifs are quite vulnerable to errors too. Missing an else statement can land you up in havoc. Adding/removing labels is also easier with a switch and makes your code significantly easier to change and maintain.</p>\n<p>Example:-&gt;\nString environment=&quot;QA&quot;;</p>\n<pre><code>    switch(environment.toLowerCase().trim()) {\n    case &quot;qa&quot;:\n        System.out.println(environment+&quot; :&quot;+&quot;Environment running the TestCases&quot;);\n        break;\n    case &quot;Stage&quot;:\n        System.out.println(environment+&quot; :&quot;+&quot;Environment running the TestCases&quot;);\n        break;\n    case &quot;Dev&quot;:\n        System.out.println(environment+&quot; :&quot;+&quot;Environment running the TestCases&quot;);\n        break;\n    case &quot;UAT&quot;:\n        System.out.println(environment+&quot; :&quot;+&quot;Environment running the TestCases&quot;);\n        break;\n    case &quot;Prod&quot;:\n        System.out.println(environment+&quot; :&quot;+&quot;Environment running the TestCases&quot;);\n        break;\n    default:\n        System.out.println(environment+&quot; :&quot;+&quot;Please pass the right Environment&quot;);\n        break;\n    }\n    \n    String browser=&quot;Chrome&quot;;\n    \n    if (browser.equals(&quot;chrome&quot;)) {\n        System.out.println(browser + &quot;: &quot; + &quot; Launch the Browser&quot;);\n    } else if (browser.equals(&quot;safari&quot;)) {\n        System.out.println(browser + &quot;: &quot; + &quot; Launch the Browser&quot;);\n    } else if (browser.equals(&quot;IE&quot;)) {\n        System.out.println(browser + &quot;: &quot; + &quot; Launch the Browser&quot;);\n    } else if (browser.equals(&quot;opera&quot;)) {\n        System.out.println(browser + &quot;: &quot; + &quot; Launch the Browser&quot;);\n\n    } else if (browser.equals(&quot;Edge&quot;)) {\n        System.out.println(browser + &quot;: &quot; + &quot; Launch the Browser&quot;);\n\n    } else {\n        System.out.println(&quot;Please pass the right browser&quot;);\n    }\n        \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1372373,"reputation":3200,"user_id":1307108,"accept_rate":40,"display_name":"Groostav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694450866,"creation_date":1694047626,"answer_id":77055964,"question_id":2086529,"body_markdown":"I&#39;m going to try to be a bit more definitive than the other answers; _the answer my testing found is actually quite surprising and perhaps an important lesson in premature optimization_. \r\n\r\nAs everyone has suggested, reading code and deciding that its slow and needs to be mangled such that it is more performant is a very poor method of software development. I would suggest using a profiler to find your hotloops and (as is perfectly reasonable to expect in my opinion), should your hot code be a large switch statement, trying to find a method to express that same code more performantly is a perfectly reasonable course of action. Thankfully on the JVM more performant solutions are often perfectly readable.\r\n\r\nAs per [Waverick&#39;s answer](https://stackoverflow.com/a/2086619/1307108), there are various different ways of formatting jumps for switch statements. Because there are different opcodes its reasonable to assume there will be different levels of performance. Conceptually it makes makes that how you express the switch would affect its performance. If we can convert our switch into a kind of table, such that picking the right if/elseif/case/etc block to execute simply requires looking up the subject in a table, we would expect it to perform better than if we have to test each condition in the table one-by-one. _But this is just conjecture_\r\n\r\nSo lets test it:\r\n\r\n## My Code: ##\r\n\r\nJMH and &#39;node&#39; code omitted, should be relatively obvious from below,\r\nthough it includes some non-trivial setup. \r\n- see v2 gist: https://gist.github.com/Groostav/1668990b982fc542f62014f6d776f655\r\n- see v1 gist: https://gist.github.com/Groostav/8420ba6a61004617d6f1643b4ade9a85\r\n\r\n```java\r\n\r\npackage org.example;\r\n\r\npublic class JavaSwitchExpressions {\r\n\r\n    public static int typeSwitchExpression(Node node) {\r\n        return switch (node) {\r\n            case Node.FirstNodeType first -&gt; first.firstId();\r\n            case Node.SecondNodeType second -&gt; second.secondId();\r\n            case Node.ThirdNodeType third -&gt; third.thirdId();\r\n            case Node.FourthNodeType fourth -&gt; fourth.fourthId();\r\n        };\r\n    }\r\n\r\n    public static int intSwitchExpression(Node node) {\r\n        return switch(node.typeInt()){\r\n            case 0 -&gt; ((Node.FirstNodeType) node).firstId();\r\n            case 1 -&gt; ((Node.SecondNodeType) node).secondId();\r\n            case 2 -&gt; ((Node.ThirdNodeType) node).thirdId();\r\n            case 3 -&gt; ((Node.FourthNodeType) node).fourthId();\r\n            default -&gt; throw new UnsupportedOperationException();\r\n        };\r\n    }\r\n\r\n    public static int intSwitchStatement(Node node) {\r\n        int result = -1;\r\n\r\n        switch(node.typeInt()){\r\n            case 0: result = ((Node.FirstNodeType) node).firstId(); break;\r\n            case 1: result = ((Node.SecondNodeType) node).secondId(); break;\r\n            case 2: result = ((Node.ThirdNodeType) node).thirdId(); break;\r\n            case 3: result = ((Node.FourthNodeType) node).fourthId(); break;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public static int typeIfInstanceofElseIf(Node node) {\r\n        int result = -1;\r\n\r\n        if(node instanceof Node.FirstNodeType first){\r\n            result = first.firstId();\r\n        }\r\n        else if (node instanceof Node.SecondNodeType second){\r\n            result = second.secondId();\r\n        }\r\n        else if (node instanceof Node.ThirdNodeType third){\r\n            result = third.thirdId();\r\n        }\r\n        else if (node instanceof Node.FourthNodeType fourth){\r\n            result = fourth.fourthId();\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n}\r\n```\r\n\r\nand in my case I use a lot of Kotlin, so I threw in some Kotlin code:\r\n\r\n```kt\r\nfun typeSwitchExpression(node: KtNode): Int {\r\n    return when(node){\r\n        is KtNode.FirstNodeType -&gt; node.firstId\r\n        is KtNode.SecondNodeType -&gt; node.secondId\r\n        is KtNode.ThirdNodeType -&gt; node.thirdId\r\n        is KtNode.FourthNodeType -&gt; node.fourthId\r\n    }\r\n}\r\n\r\nfun intSwitchExpression(node: KtNode): Int {\r\n    return when(node.typeInt){\r\n        0 -&gt; (node as KtNode.FirstNodeType).firstId\r\n        1 -&gt; (node as KtNode.SecondNodeType).secondId\r\n        2 -&gt; (node as KtNode.ThirdNodeType).thirdId\r\n        3 -&gt; (node as KtNode.FourthNodeType).fourthId\r\n        else -&gt; TODO()\r\n    }\r\n}\r\n\r\nfun ifIsElseIfExpression(node: KtNode): Int {\r\n    return if(node is KtNode.FirstNodeType){\r\n        node.firstId\r\n    }\r\n    else if(node is KtNode.SecondNodeType){\r\n        node.secondId\r\n    }\r\n    else if (node is KtNode.ThirdNodeType){\r\n        node.thirdId\r\n    }\r\n    else if (node is KtNode.FourthNodeType){\r\n        node.fourthId\r\n    }\r\n    else TODO()\r\n}\r\n```\r\n\r\nSome notes about compiled code:\r\n\r\nwhen using a java type switch expression `typeSwitchExpression`, we see some cool new code to format class objects as labels for a regular `TableSwitch`:\r\n\r\n```jbc\r\nINVOKEDYNAMIC typeSwitch(Ljava/lang/Object;I)I [\r\n  // handle kind 0x6 : INVOKESTATIC\r\n  java/lang/runtime/SwitchBootstraps.typeSwitch(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;[Ljava/lang/Object;)Ljava/lang/invoke/CallSite;\r\n  // arguments:\r\n  org.example.Node$FirstNodeType.class, \r\n  org.example.Node$SecondNodetype.class, \r\n  org.example.Node$ThirdNodeType.class, \r\n  org.example.Node$FourthNodeType.class\r\n]\r\nTABLESWITCH\r\n  0: L2\r\n  1: L3\r\n  2: L4\r\n  3: L5\r\n  default: L6\r\nL6\r\n```\r\n\r\nnote the method `SwitchBootstraps.typeSwitch` appears to be called once at linker time, not once per-switch time. So presumably we&#39;re seeing an increased in class-load time for the typeswitch than we would for the int switches. That delay wont be counted here and is, hopefully, reasonably trivial. \r\n\r\nall `...intSwitch` generate code akin to:\r\n\r\n```jbc\r\nINVOKEINTERFACE org/example/Node.typeInt ()I (itf)\r\nTABLESWITCH\r\n  0: L3\r\n  1: L4\r\n  2: L5\r\n  3: L6\r\n  default: L7\r\n```\r\n\r\nwhich I presume would be the fastest as its the most elegant,\r\n\r\nand the `Ifis/InstanceOfElseIf` _as well as the kotlin type switch_, all generate code akin to:\r\n\r\n```jbc\r\n   L1\r\n    LINENUMBER 30 L1\r\n    ALOAD 0\r\n    INSTANCEOF org/example/Node$FirstNodeType\r\n    IFEQ L2\r\n    ALOAD 0\r\n    CHECKCAST org/example/Node$FirstNodeType\r\n    ASTORE 2\r\n   L3\r\n    LINENUMBER 31 L3\r\n    ALOAD 2\r\n    INVOKEVIRTUAL org/example/Node$FirstNodeType.firstId ()I\r\n    ISTORE 1\r\n    GOTO L4\r\n   L2\r\n    LINENUMBER 33 L2\r\n   FRAME APPEND [I]\r\n    ALOAD 0\r\n    INSTANCEOF org/example/Node$SecondNodeType\r\n    IFEQ L5\r\n    ALOAD 0\r\n    CHECKCAST org/example/Node$SecondNodeType\r\n    ASTORE 3\r\n   L6\r\n    LINENUMBER 34 L6\r\n    ALOAD 3\r\n    INVOKEVIRTUAL org/example/Node$SecondNodeType.secondId ()I\r\n   ...\r\n```\r\n\r\n## Reuslts: ##\r\n\r\nWell, in a surprising turn, the `if instanceof Else if` performs the best. My initial testing revealed that they all perform very similarly, but after reading the docs for JMH and switching my testing strategy around a bit (from [this](https://gist.github.com/Groostav/8420ba6a61004617d6f1643b4ade9a85) to [this](https://gist.github.com/Groostav/1668990b982fc542f62014f6d776f655)) the performance reuslts opened up a bit.\r\n\r\n```\r\nBenchmark                                            Mode  Cnt    Score    Error   Units\r\nSwitchBenchmarks.measureJavaIntSwitchExpression     thrpt    5   52.469 �  3.233  ops/us\r\nSwitchBenchmarks.measureJavaIntSwitchStatement      thrpt    5   52.551 �  7.293  ops/us\r\nSwitchBenchmarks.measureJavaTypeIfInstanceofElseIf  thrpt    5  385.904 � 24.989  ops/us\r\nSwitchBenchmarks.measureJavaTypeSwitchExpression    thrpt    5  169.941 � 15.782  ops/us\r\nSwitchBenchmarks.measureKotlinIfIsElseIf            thrpt    5  362.322 � 93.074  ops/us\r\nSwitchBenchmarks.measureKotlinIntSwitchExpression   thrpt    5   52.228 �  6.920  ops/us\r\nSwitchBenchmarks.measureKotlinTypeSwitchExpression  thrpt    5  379.040 � 43.105  ops/us\r\n```\r\n\r\n**The type switch wins**? With its low-performance procedural `if ... else if ... else`? Seems unintuitive.\r\n\r\nWhy would the procedural `is instanceof else if` be faster than an int switch? Its hard to know, but I suspect that the JVM&#39; JIT compiler has heuristics specifically targeting that case and is able to find some fast optimization for it, and that the performance of that optimization is able to out perform whatever normal optimizations are done for an `InvokeInterface` (on `typeInt`) and `TableSwitch`.\r\n\r\nOr maybe my entire test setup is botched. Try it yourself!\r\n\r\n## Key takeaways ##\r\n\r\n- Premature optimization is a bad idea. With so many layers between you and the runtime it is easy to speculate incorrectly about whats fastest (EG: `TableSwitch` must be faster than a chain of `InstanceOf`, right?) \r\n\r\n- The JVM and its JIT are one of the main attractions of java. They are quite good at their jobs. They are written for mainline cases. The more you can make your code look like everybody else&#39;s java the faster its likely to be. \r\n\r\n- I think the entire purpose of performance on the JVM is to focus on reducing the time complexity of your algorithms by doing things like moving from full Cartesian products (IE big joins like `for(outer in data){ for(inner in data) { ... }}`) to multiple passes with smart data structures. Hashing data structures, better caches should be your performance bread and butter. When they&#39;re not enough, dig up some algorithms text books and look for clever encoding schemes to moving things into stack primitives. If that still isn&#39;t enough, well your beyond my skill to help you, _but replacing your switch statements probably isn&#39;t the best approach_. \r\n\r\n---\r\n\r\n**tl;dr** don&#39;t worry about the performance of your switch expressions. ","title":"What is the relative performance difference of if/else versus switch statement in Java?","body":"<p>I'm going to try to be a bit more definitive than the other answers; <em>the answer my testing found is actually quite surprising and perhaps an important lesson in premature optimization</em>.</p>\n<p>As everyone has suggested, reading code and deciding that its slow and needs to be mangled such that it is more performant is a very poor method of software development. I would suggest using a profiler to find your hotloops and (as is perfectly reasonable to expect in my opinion), should your hot code be a large switch statement, trying to find a method to express that same code more performantly is a perfectly reasonable course of action. Thankfully on the JVM more performant solutions are often perfectly readable.</p>\n<p>As per <a href=\"https://stackoverflow.com/a/2086619/1307108\">Waverick's answer</a>, there are various different ways of formatting jumps for switch statements. Because there are different opcodes its reasonable to assume there will be different levels of performance. Conceptually it makes makes that how you express the switch would affect its performance. If we can convert our switch into a kind of table, such that picking the right if/elseif/case/etc block to execute simply requires looking up the subject in a table, we would expect it to perform better than if we have to test each condition in the table one-by-one. <em>But this is just conjecture</em></p>\n<p>So lets test it:</p>\n<h2>My Code:</h2>\n<p>JMH and 'node' code omitted, should be relatively obvious from below,\nthough it includes some non-trivial setup.</p>\n<ul>\n<li>see v2 gist: <a href=\"https://gist.github.com/Groostav/1668990b982fc542f62014f6d776f655\" rel=\"nofollow noreferrer\">https://gist.github.com/Groostav/1668990b982fc542f62014f6d776f655</a></li>\n<li>see v1 gist: <a href=\"https://gist.github.com/Groostav/8420ba6a61004617d6f1643b4ade9a85\" rel=\"nofollow noreferrer\">https://gist.github.com/Groostav/8420ba6a61004617d6f1643b4ade9a85</a></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage org.example;\n\npublic class JavaSwitchExpressions {\n\n    public static int typeSwitchExpression(Node node) {\n        return switch (node) {\n            case Node.FirstNodeType first -&gt; first.firstId();\n            case Node.SecondNodeType second -&gt; second.secondId();\n            case Node.ThirdNodeType third -&gt; third.thirdId();\n            case Node.FourthNodeType fourth -&gt; fourth.fourthId();\n        };\n    }\n\n    public static int intSwitchExpression(Node node) {\n        return switch(node.typeInt()){\n            case 0 -&gt; ((Node.FirstNodeType) node).firstId();\n            case 1 -&gt; ((Node.SecondNodeType) node).secondId();\n            case 2 -&gt; ((Node.ThirdNodeType) node).thirdId();\n            case 3 -&gt; ((Node.FourthNodeType) node).fourthId();\n            default -&gt; throw new UnsupportedOperationException();\n        };\n    }\n\n    public static int intSwitchStatement(Node node) {\n        int result = -1;\n\n        switch(node.typeInt()){\n            case 0: result = ((Node.FirstNodeType) node).firstId(); break;\n            case 1: result = ((Node.SecondNodeType) node).secondId(); break;\n            case 2: result = ((Node.ThirdNodeType) node).thirdId(); break;\n            case 3: result = ((Node.FourthNodeType) node).fourthId(); break;\n        }\n        return result;\n    }\n\n    public static int typeIfInstanceofElseIf(Node node) {\n        int result = -1;\n\n        if(node instanceof Node.FirstNodeType first){\n            result = first.firstId();\n        }\n        else if (node instanceof Node.SecondNodeType second){\n            result = second.secondId();\n        }\n        else if (node instanceof Node.ThirdNodeType third){\n            result = third.thirdId();\n        }\n        else if (node instanceof Node.FourthNodeType fourth){\n            result = fourth.fourthId();\n        }\n\n        return result;\n    }\n\n}\n</code></pre>\n<p>and in my case I use a lot of Kotlin, so I threw in some Kotlin code:</p>\n<pre><code>fun typeSwitchExpression(node: KtNode): Int {\n    return when(node){\n        is KtNode.FirstNodeType -&gt; node.firstId\n        is KtNode.SecondNodeType -&gt; node.secondId\n        is KtNode.ThirdNodeType -&gt; node.thirdId\n        is KtNode.FourthNodeType -&gt; node.fourthId\n    }\n}\n\nfun intSwitchExpression(node: KtNode): Int {\n    return when(node.typeInt){\n        0 -&gt; (node as KtNode.FirstNodeType).firstId\n        1 -&gt; (node as KtNode.SecondNodeType).secondId\n        2 -&gt; (node as KtNode.ThirdNodeType).thirdId\n        3 -&gt; (node as KtNode.FourthNodeType).fourthId\n        else -&gt; TODO()\n    }\n}\n\nfun ifIsElseIfExpression(node: KtNode): Int {\n    return if(node is KtNode.FirstNodeType){\n        node.firstId\n    }\n    else if(node is KtNode.SecondNodeType){\n        node.secondId\n    }\n    else if (node is KtNode.ThirdNodeType){\n        node.thirdId\n    }\n    else if (node is KtNode.FourthNodeType){\n        node.fourthId\n    }\n    else TODO()\n}\n</code></pre>\n<p>Some notes about compiled code:</p>\n<p>when using a java type switch expression <code>typeSwitchExpression</code>, we see some cool new code to format class objects as labels for a regular <code>TableSwitch</code>:</p>\n<pre><code>INVOKEDYNAMIC typeSwitch(Ljava/lang/Object;I)I [\n  // handle kind 0x6 : INVOKESTATIC\n  java/lang/runtime/SwitchBootstraps.typeSwitch(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;[Ljava/lang/Object;)Ljava/lang/invoke/CallSite;\n  // arguments:\n  org.example.Node$FirstNodeType.class, \n  org.example.Node$SecondNodetype.class, \n  org.example.Node$ThirdNodeType.class, \n  org.example.Node$FourthNodeType.class\n]\nTABLESWITCH\n  0: L2\n  1: L3\n  2: L4\n  3: L5\n  default: L6\nL6\n</code></pre>\n<p>note the method <code>SwitchBootstraps.typeSwitch</code> appears to be called once at linker time, not once per-switch time. So presumably we're seeing an increased in class-load time for the typeswitch than we would for the int switches. That delay wont be counted here and is, hopefully, reasonably trivial.</p>\n<p>all <code>...intSwitch</code> generate code akin to:</p>\n<pre><code>INVOKEINTERFACE org/example/Node.typeInt ()I (itf)\nTABLESWITCH\n  0: L3\n  1: L4\n  2: L5\n  3: L6\n  default: L7\n</code></pre>\n<p>which I presume would be the fastest as its the most elegant,</p>\n<p>and the <code>Ifis/InstanceOfElseIf</code> <em>as well as the kotlin type switch</em>, all generate code akin to:</p>\n<pre><code>   L1\n    LINENUMBER 30 L1\n    ALOAD 0\n    INSTANCEOF org/example/Node$FirstNodeType\n    IFEQ L2\n    ALOAD 0\n    CHECKCAST org/example/Node$FirstNodeType\n    ASTORE 2\n   L3\n    LINENUMBER 31 L3\n    ALOAD 2\n    INVOKEVIRTUAL org/example/Node$FirstNodeType.firstId ()I\n    ISTORE 1\n    GOTO L4\n   L2\n    LINENUMBER 33 L2\n   FRAME APPEND [I]\n    ALOAD 0\n    INSTANCEOF org/example/Node$SecondNodeType\n    IFEQ L5\n    ALOAD 0\n    CHECKCAST org/example/Node$SecondNodeType\n    ASTORE 3\n   L6\n    LINENUMBER 34 L6\n    ALOAD 3\n    INVOKEVIRTUAL org/example/Node$SecondNodeType.secondId ()I\n   ...\n</code></pre>\n<h2>Reuslts:</h2>\n<p>Well, in a surprising turn, the <code>if instanceof Else if</code> performs the best. My initial testing revealed that they all perform very similarly, but after reading the docs for JMH and switching my testing strategy around a bit (from <a href=\"https://gist.github.com/Groostav/8420ba6a61004617d6f1643b4ade9a85\" rel=\"nofollow noreferrer\">this</a> to <a href=\"https://gist.github.com/Groostav/1668990b982fc542f62014f6d776f655\" rel=\"nofollow noreferrer\">this</a>) the performance reuslts opened up a bit.</p>\n<pre><code>Benchmark                                            Mode  Cnt    Score    Error   Units\nSwitchBenchmarks.measureJavaIntSwitchExpression     thrpt    5   52.469 �  3.233  ops/us\nSwitchBenchmarks.measureJavaIntSwitchStatement      thrpt    5   52.551 �  7.293  ops/us\nSwitchBenchmarks.measureJavaTypeIfInstanceofElseIf  thrpt    5  385.904 � 24.989  ops/us\nSwitchBenchmarks.measureJavaTypeSwitchExpression    thrpt    5  169.941 � 15.782  ops/us\nSwitchBenchmarks.measureKotlinIfIsElseIf            thrpt    5  362.322 � 93.074  ops/us\nSwitchBenchmarks.measureKotlinIntSwitchExpression   thrpt    5   52.228 �  6.920  ops/us\nSwitchBenchmarks.measureKotlinTypeSwitchExpression  thrpt    5  379.040 � 43.105  ops/us\n</code></pre>\n<p><strong>The type switch wins</strong>? With its low-performance procedural <code>if ... else if ... else</code>? Seems unintuitive.</p>\n<p>Why would the procedural <code>is instanceof else if</code> be faster than an int switch? Its hard to know, but I suspect that the JVM' JIT compiler has heuristics specifically targeting that case and is able to find some fast optimization for it, and that the performance of that optimization is able to out perform whatever normal optimizations are done for an <code>InvokeInterface</code> (on <code>typeInt</code>) and <code>TableSwitch</code>.</p>\n<p>Or maybe my entire test setup is botched. Try it yourself!</p>\n<h2>Key takeaways</h2>\n<ul>\n<li><p>Premature optimization is a bad idea. With so many layers between you and the runtime it is easy to speculate incorrectly about whats fastest (EG: <code>TableSwitch</code> must be faster than a chain of <code>InstanceOf</code>, right?)</p>\n</li>\n<li><p>The JVM and its JIT are one of the main attractions of java. They are quite good at their jobs. They are written for mainline cases. The more you can make your code look like everybody else's java the faster its likely to be.</p>\n</li>\n<li><p>I think the entire purpose of performance on the JVM is to focus on reducing the time complexity of your algorithms by doing things like moving from full Cartesian products (IE big joins like <code>for(outer in data){ for(inner in data) { ... }}</code>) to multiple passes with smart data structures. Hashing data structures, better caches should be your performance bread and butter. When they're not enough, dig up some algorithms text books and look for clever encoding schemes to moving things into stack primitives. If that still isn't enough, well your beyond my skill to help you, <em>but replacing your switch statements probably isn't the best approach</em>.</p>\n</li>\n</ul>\n<hr />\n<p><strong>tl;dr</strong> don't worry about the performance of your switch expressions.</p>\n"}],"owner":{"account_id":92395,"reputation":3024,"user_id":253236,"accept_rate":85,"display_name":"Anth0"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141670,"favorite_count":0,"down_vote_count":1,"up_vote_count":148,"accepted_answer_id":2086546,"answer_count":11,"score":147,"last_activity_date":1694450866,"creation_date":1263823770,"question_id":2086529,"body_markdown":"Worrying about my web application&#39;s performances, I am wondering which of &quot;if/else&quot; or switch statement is better regarding performance?","title":"What is the relative performance difference of if/else versus switch statement in Java?","body":"<p>Worrying about my web application's performances, I am wondering which of \"if/else\" or switch statement is better regarding performance?</p>\n"},{"tags":["java","cookies","playframework","session-cookies","samesite"],"answers":[{"tags":[],"owner":{"account_id":91332,"reputation":2251,"user_id":250838,"display_name":"aercolino"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694450688,"creation_date":1599061538,"answer_id":63709013,"question_id":60881319,"body_markdown":"Unfortunately, it&#39;s not possible to use `Set-Cookie` directly. I just tested it. \r\n\r\nThe reason is due to [this code](https://github.com/playframework/playframework/blob/2.3.7/framework/src/play/src/main/scala/play/core/server/netty/NettyResultStreamer.scala#L171-L179) which uses [this other code](https://github.com/playframework/playframework/blob/2.3.7/framework/src/play/src/main/scala/play/api/mvc/Http.scala#L745-L762). \r\n\r\nIf we use `SameSite=None` anywhere in the value of the `Set-Cookie` header, then Play Framework mistakenly see that as the beginning of another cookie !\r\n\r\n---\r\n\r\nWhat about using the standard header `Set-Cookie`?\r\n\r\n```http\r\nSet-Cookie: flavor=choco; SameSite=None; Secure\r\n```\r\n\r\nSee: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite","title":"Set cookie sameSite in Play framework 2.3","body":"<p>Unfortunately, it's not possible to use <code>Set-Cookie</code> directly. I just tested it.</p>\n<p>The reason is due to <a href=\"https://github.com/playframework/playframework/blob/2.3.7/framework/src/play/src/main/scala/play/core/server/netty/NettyResultStreamer.scala#L171-L179\" rel=\"nofollow noreferrer\">this code</a> which uses <a href=\"https://github.com/playframework/playframework/blob/2.3.7/framework/src/play/src/main/scala/play/api/mvc/Http.scala#L745-L762\" rel=\"nofollow noreferrer\">this other code</a>.</p>\n<p>If we use <code>SameSite=None</code> anywhere in the value of the <code>Set-Cookie</code> header, then Play Framework mistakenly see that as the beginning of another cookie !</p>\n<hr />\n<p>What about using the standard header <code>Set-Cookie</code>?</p>\n<pre class=\"lang-http prettyprint-override\"><code>Set-Cookie: flavor=choco; SameSite=None; Secure\n</code></pre>\n<p>See: <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite</a></p>\n"}],"owner":{"account_id":2759956,"reputation":6055,"user_id":2377044,"accept_rate":31,"display_name":"cnmuc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":774,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1694450688,"creation_date":1585292639,"question_id":60881319,"body_markdown":"play.mvc.Http.Cookie objects in Play 2.3 do not support setting the sameSite attribute. \r\nIs there a workaround to manually set it (with Java) in the PLAY_SESSION cookie in Play 2.3?\r\n\r\n...and no, it can&#39;t update Play to a newer version.  \r\n","title":"Set cookie sameSite in Play framework 2.3","body":"<p>play.mvc.Http.Cookie objects in Play 2.3 do not support setting the sameSite attribute. \nIs there a workaround to manually set it (with Java) in the PLAY_SESSION cookie in Play 2.3?</p>\n\n<p>...and no, it can't update Play to a newer version.  </p>\n"},{"tags":["java","spring","spring-boot","exception","apache-kafka"],"comments":[{"owner":{"account_id":8049065,"reputation":804,"user_id":6068297,"display_name":"Level_Up"},"score":1,"creation_date":1693904363,"post_id":77043067,"comment_id":135817484,"body_markdown":"Depending which Spring Boot version you are using this answer should help you: https://stackoverflow.com/a/74191955/6068297","body":"Depending which Spring Boot version you are using this answer should help you: <a href=\"https://stackoverflow.com/a/74191955/6068297\">stackoverflow.com/a/74191955/6068297</a>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1693905467,"post_id":77043067,"comment_id":135817684,"body_markdown":"Let me guess you decied to export the jar using the IDe instead of your maven/gradle build tool. Don&#39;t use maven or gradle so that the proper jar gets crerated.","body":"Let me guess you decied to export the jar using the IDe instead of your maven/gradle build tool. Don&#39;t use maven or gradle so that the proper jar gets crerated."}],"answers":[{"tags":[],"owner":{"account_id":20087099,"reputation":11,"user_id":14728414,"display_name":"iman soltani"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1694450256,"creation_date":1694450256,"answer_id":77083383,"question_id":77043067,"body_markdown":"The error message indicates a **java.lang.ClassNotFoundException** for the class **org.springframework.boot.configurationprocessor.json.JSONException**. This particular exception class is part of **spring-boot-configuration-processor**, which aids in creating metadata for your custom properties to get support in IDEs.\r\n\r\nHowever, it&#39;s unusual for your application to need this class at runtime unless you&#39;re explicitly using it. There are several potential reasons and solutions for this:\r\n\r\n 1. **Check Dependencies**: Ensure you&#39;re using the right versions of **Spring Boot** and **Kafka** dependencies in your **pom.xml** or **build.gradle**.\r\n \r\n 2. **Examine KafkaConsumerServiceImpl**: The main error appears to be related to KafkaConsumerServiceImpl. Check to see if there&#39;s any direct or indirect reference to JSONException in this class or its parent classes/interfaces.\r\n 3. **Invalidate caches and restart Intellij**: from top menu follow this path ```File &gt;&gt; Invalidate Caches...``` and **tick all the options** and press **&quot;Invalidate and Restart&quot;**\r\n 4. **Clean and Rebuild**: Sometimes, IDEs or build tools might have issues with caching or corrupt build outputs. Perform a clean and rebuild of your project. For maven, run\r\n```mvn clean install``` And for gradl, run this ```gradlew clean build```.\r\n 5. **Spring Boot Configuration Processor**: If you are using spring-boot-configuration-processor in your project for creating metadata, then make sure it&#39;s a provided dependency or in the optional scope, so it doesn&#39;t get included in the runtime classpath of the fat jar. This is because it&#39;s typically only needed at compile time.\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n    &lt;optional&gt;true&lt;/optional&gt;\r\n&lt;/dependency&gt;\r\n```\r\n 6. **Shadowed Dependencies**: If you&#39;re using a plugin to create a fat jar (like the Spring Boot Maven Plugin or the Shadow plugin for Gradle), there can be issues with how dependencies are bundled or shadowed. Double-check your packaging configuration to ensure dependencies aren&#39;t being unintentionally omitted or overwritten.\r\n 7. **Spring Boot Version**: Check if you&#39;re using the right version of Spring Boot. You can go to the **Spring Boot Initializr** website, select your required dependencies, and it will suggest the compatible **Spring Boot version**.\r\n 8. **Spring AOP and WebFlux**: Adding these dependencies might not be related to the issue. Unless you have a clear reason to add them, you might want to revert those changes.","title":"The problem of starting the jar file spring boot kafka","body":"<p>The error message indicates a <strong>java.lang.ClassNotFoundException</strong> for the class <strong>org.springframework.boot.configurationprocessor.json.JSONException</strong>. This particular exception class is part of <strong>spring-boot-configuration-processor</strong>, which aids in creating metadata for your custom properties to get support in IDEs.</p>\n<p>However, it's unusual for your application to need this class at runtime unless you're explicitly using it. There are several potential reasons and solutions for this:</p>\n<ol>\n<li><p><strong>Check Dependencies</strong>: Ensure you're using the right versions of <strong>Spring Boot</strong> and <strong>Kafka</strong> dependencies in your <strong>pom.xml</strong> or <strong>build.gradle</strong>.</p>\n</li>\n<li><p><strong>Examine KafkaConsumerServiceImpl</strong>: The main error appears to be related to KafkaConsumerServiceImpl. Check to see if there's any direct or indirect reference to JSONException in this class or its parent classes/interfaces.</p>\n</li>\n<li><p><strong>Invalidate caches and restart Intellij</strong>: from top menu follow this path <code>File &gt;&gt; Invalidate Caches...</code> and <strong>tick all the options</strong> and press <strong>&quot;Invalidate and Restart&quot;</strong></p>\n</li>\n<li><p><strong>Clean and Rebuild</strong>: Sometimes, IDEs or build tools might have issues with caching or corrupt build outputs. Perform a clean and rebuild of your project. For maven, run\n<code>mvn clean install</code> And for gradl, run this <code>gradlew clean build</code>.</p>\n</li>\n<li><p><strong>Spring Boot Configuration Processor</strong>: If you are using spring-boot-configuration-processor in your project for creating metadata, then make sure it's a provided dependency or in the optional scope, so it doesn't get included in the runtime classpath of the fat jar. This is because it's typically only needed at compile time.</p>\n</li>\n</ol>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ol start=\"6\">\n<li><strong>Shadowed Dependencies</strong>: If you're using a plugin to create a fat jar (like the Spring Boot Maven Plugin or the Shadow plugin for Gradle), there can be issues with how dependencies are bundled or shadowed. Double-check your packaging configuration to ensure dependencies aren't being unintentionally omitted or overwritten.</li>\n<li><strong>Spring Boot Version</strong>: Check if you're using the right version of Spring Boot. You can go to the <strong>Spring Boot Initializr</strong> website, select your required dependencies, and it will suggest the compatible <strong>Spring Boot version</strong>.</li>\n<li><strong>Spring AOP and WebFlux</strong>: Adding these dependencies might not be related to the issue. Unless you have a clear reason to add them, you might want to revert those changes.</li>\n</ol>\n"}],"owner":{"account_id":29369550,"reputation":79,"user_id":22502444,"display_name":"KripDo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694450256,"creation_date":1693903843,"question_id":77043067,"body_markdown":"I&#39;m doing a bot telegram on Spring boot using kafka, I&#39;m building a project in Inteligi IDEA, everything is fine, but as soon as I try to run the jar file, an error crashes, I provide the log below.\r\n\r\n```\r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2023-09-05 11:08:53.984 ERROR 17732 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;kafkaConsumerServiceImpl&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [com.bot.hello.service.impl.KafkaConsumerServiceImpl] from ClassLoader [org.springframework.boot.loader.LaunchedURLClassLoader@32a1bec0]\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:289) ~[spring-beans-5.3.25.jar!/:5.3.25]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1302) ~[spring-beans-5.3.25.jar!/:5.3.25]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1219) ~[spring-beans-5.3.25.jar!/:5.3.25]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.25.jar!/:5.3.25]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.25.jar!/:5.3.25]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.25.jar!/:5.3.25]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.25.jar!/:5.3.25]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.25.jar!/:5.3.25]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.25.jar!/:5.3.25]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.25.jar!/:5.3.25]\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.25.jar!/:5.3.25]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.25.jar!/:5.3.25]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.8.jar!/:2.7.8]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.8.jar!/:2.7.8]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.8.jar!/:2.7.8]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.8.jar!/:2.7.8]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.8.jar!/:2.7.8]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.8.jar!/:2.7.8]\r\n        at com.bot.hello.HelloBotApplication.main(HelloBotApplication.java:24) ~[classes!/:0.0.1-SNAPSHOT]\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[hello-bot-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[hello-bot-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[hello-bot-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[hello-bot-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [com.bot.hello.service.impl.KafkaConsumerServiceImpl] from ClassLoader [org.springframework.boot.loader.LaunchedURLClassLoader@32a1bec0]\r\n        at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485) ~[spring-core-5.3.25.jar!/:5.3.25]\r\n        at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321) ~[spring-core-5.3.25.jar!/:5.3.25]\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:267) ~[spring-beans-5.3.25.jar!/:5.3.25]\r\n        ... 24 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/boot/configurationprocessor/json/JSONException\r\n        at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\r\n        at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3502) ~[na:na]\r\n        at java.base/java.lang.Class.privateGetPublicMethods(Class.java:3527) ~[na:na]\r\n        at java.base/java.lang.Class.getMethods(Class.java:2112) ~[na:na]\r\n        at org.springframework.util.ReflectionUtils.findConcreteMethodsOnInterfaces(ReflectionUtils.java:495) ~[spring-core-5.3.25.jar!/:5.3.25]\r\n        at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:468) ~[spring-core-5.3.25.jar!/:5.3.25]\r\n        ... 26 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.configurationprocessor.json.JSONException\r\n        at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445) ~[na:na]\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588) ~[na:na]\r\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151) ~[hello-bot-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n        ... 32 common frames omitted\r\n```\r\n\r\n\r\nI tried adding various dependencies like spring aop, spring web flux, nothing helped","title":"The problem of starting the jar file spring boot kafka","body":"<p>I'm doing a bot telegram on Spring boot using kafka, I'm building a project in Inteligi IDEA, everything is fine, but as soon as I try to run the jar file, an error crashes, I provide the log below.</p>\n<pre><code>\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2023-09-05 11:08:53.984 ERROR 17732 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'kafkaConsumerServiceImpl': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [com.bot.hello.service.impl.KafkaConsumerServiceImpl] from ClassLoader [org.springframework.boot.loader.LaunchedURLClassLoader@32a1bec0]\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:289) ~[spring-beans-5.3.25.jar!/:5.3.25]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1302) ~[spring-beans-5.3.25.jar!/:5.3.25]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1219) ~[spring-beans-5.3.25.jar!/:5.3.25]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.25.jar!/:5.3.25]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.25.jar!/:5.3.25]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.25.jar!/:5.3.25]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.25.jar!/:5.3.25]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.25.jar!/:5.3.25]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.25.jar!/:5.3.25]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.25.jar!/:5.3.25]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.25.jar!/:5.3.25]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.25.jar!/:5.3.25]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.8.jar!/:2.7.8]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.8.jar!/:2.7.8]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.8.jar!/:2.7.8]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.8.jar!/:2.7.8]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.8.jar!/:2.7.8]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.8.jar!/:2.7.8]\n        at com.bot.hello.HelloBotApplication.main(HelloBotApplication.java:24) ~[classes!/:0.0.1-SNAPSHOT]\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[hello-bot-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[hello-bot-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[hello-bot-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[hello-bot-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [com.bot.hello.service.impl.KafkaConsumerServiceImpl] from ClassLoader [org.springframework.boot.loader.LaunchedURLClassLoader@32a1bec0]\n        at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485) ~[spring-core-5.3.25.jar!/:5.3.25]\n        at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321) ~[spring-core-5.3.25.jar!/:5.3.25]\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:267) ~[spring-beans-5.3.25.jar!/:5.3.25]\n        ... 24 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/boot/configurationprocessor/json/JSONException\n        at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\n        at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3502) ~[na:na]\n        at java.base/java.lang.Class.privateGetPublicMethods(Class.java:3527) ~[na:na]\n        at java.base/java.lang.Class.getMethods(Class.java:2112) ~[na:na]\n        at org.springframework.util.ReflectionUtils.findConcreteMethodsOnInterfaces(ReflectionUtils.java:495) ~[spring-core-5.3.25.jar!/:5.3.25]\n        at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:468) ~[spring-core-5.3.25.jar!/:5.3.25]\n        ... 26 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.configurationprocessor.json.JSONException\n        at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445) ~[na:na]\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588) ~[na:na]\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151) ~[hello-bot-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n        ... 32 common frames omitted\n</code></pre>\n<p>I tried adding various dependencies like spring aop, spring web flux, nothing helped</p>\n"},{"tags":["java","maven","intellij-idea","intellij-inspections"],"comments":[{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":1,"creation_date":1380562925,"post_id":5905896,"comment_id":28239575,"body_markdown":"See also http://stackoverflow.com/questions/15046764/intellijidea-not-recognizing-classes-specified-in-maven-dependencies if it cannot resolve symbols that are part of maven dependencies [for me it was a missing M2_HOME]","body":"See also <a href=\"http://stackoverflow.com/questions/15046764/intellijidea-not-recognizing-classes-specified-in-maven-dependencies\" title=\"intellijidea not recognizing classes specified in maven dependencies\">stackoverflow.com/questions/15046764/&hellip;</a> if it cannot resolve symbols that are part of maven dependencies [for me it was a missing M2_HOME]"},{"owner":{"account_id":1769203,"reputation":8965,"user_id":1614378,"accept_rate":55,"display_name":"devops"},"score":1,"creation_date":1551871477,"post_id":5905896,"comment_id":96797158,"body_markdown":"2018.3.3. Still the same error...","body":"2018.3.3. Still the same error..."},{"owner":{"account_id":3398201,"reputation":970,"user_id":2851184,"accept_rate":43,"display_name":"Alok Mishra"},"score":2,"creation_date":1614580434,"post_id":5905896,"comment_id":117418268,"body_markdown":"File&gt;Invalidate Caches/Restart worked for me in version 2020.03.","body":"File&gt;Invalidate Caches/Restart worked for me in version 2020.03."},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":0,"creation_date":1653002572,"post_id":5905896,"comment_id":127750965,"body_markdown":"This has been [mostly] [duplicated](https://stackoverflow.com/q/11632120/1357094) (although duplicate has a lot of similar good Answers by now) - with slight difference to here, of specifying prior-successful `mvn clean install`","body":"This has been [mostly] <a href=\"https://stackoverflow.com/q/11632120/1357094\">duplicated</a> (although duplicate has a lot of similar good Answers by now) - with slight difference to here, of specifying prior-successful <code>mvn clean install</code>"},{"owner":{"account_id":7311387,"reputation":373,"user_id":6293720,"accept_rate":58,"display_name":"ProgrammingBaKa"},"score":0,"creation_date":1679584641,"post_id":5905896,"comment_id":133751036,"body_markdown":"For IntelliJ IDEA 2022.3.1 Version (Ultimate Edition), my fix is to direct to Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Maven &gt; Importing &gt; Uncheck the option &quot;Import using the new IntelliJ Workspace Model API (experimental)&quot;, after that reload all project in Maven tab of IntelliJ","body":"For IntelliJ IDEA 2022.3.1 Version (Ultimate Edition), my fix is to direct to Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Maven &gt; Importing &gt; Uncheck the option &quot;Import using the new IntelliJ Workspace Model API (experimental)&quot;, after that reload all project in Maven tab of IntelliJ"},{"owner":{"account_id":1393034,"reputation":2479,"user_id":1323374,"accept_rate":50,"display_name":"Ninja"},"score":0,"creation_date":1687766275,"post_id":5905896,"comment_id":134977109,"body_markdown":"I deleted the build/ folder under the source code project and trigged another build, and it works!","body":"I deleted the build/ folder under the source code project and trigged another build, and it works!"}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1304645245,"creation_date":1304645245,"answer_id":5905913,"question_id":5905896,"body_markdown":"Yes, sounds like you have to create libraries containing the JARs you need and add them as a dependency in your module.  \r\n","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>Yes, sounds like you have to create libraries containing the JARs you need and add them as a dependency in your module.  </p>\n"},{"comments":[{"owner":{"account_id":37018,"reputation":13267,"user_id":105741,"display_name":"Antony Stubbs"},"score":3,"creation_date":1357754047,"post_id":5905931,"comment_id":19762413,"body_markdown":"I deleted project files, dirs, but it wasn&#39;t until the invalidate cache and restart fixed it. Thanks for the tip! I wonder if there&#39;s not some way this should be done automatically. You would think so. I mean, I even totally reimported the project from pom.xml, and it still hadn&#39;t &quot;invalidated&quot; it&#39;s caches.","body":"I deleted project files, dirs, but it wasn&#39;t until the invalidate cache and restart fixed it. Thanks for the tip! I wonder if there&#39;s not some way this should be done automatically. You would think so. I mean, I even totally reimported the project from pom.xml, and it still hadn&#39;t &quot;invalidated&quot; it&#39;s caches."},{"owner":{"account_id":206334,"reputation":1020,"user_id":455553,"accept_rate":47,"display_name":"pastafarian"},"score":14,"creation_date":1363020483,"post_id":5905931,"comment_id":21672315,"body_markdown":"FWIW, these fixes did not work for me. I have a maven project that has a dependency on another project. Builds work inside and outside of IDEA 10.5 but some of the symbols from the other project are marked red in the dependent project. Invalidated cache and restarted. No luck. Also removed IDEA files and re-imported the dependent project. No luck.","body":"FWIW, these fixes did not work for me. I have a maven project that has a dependency on another project. Builds work inside and outside of IDEA 10.5 but some of the symbols from the other project are marked red in the dependent project. Invalidated cache and restarted. No luck. Also removed IDEA files and re-imported the dependent project. No luck."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1363021246,"post_id":5905931,"comment_id":21672802,"body_markdown":"@pastafarian, that might be a known bug that is already resolved, did you try IDEA 12?","body":"@pastafarian, that might be a known bug that is already resolved, did you try IDEA 12?"},{"owner":{"account_id":206334,"reputation":1020,"user_id":455553,"accept_rate":47,"display_name":"pastafarian"},"score":11,"creation_date":1363051341,"post_id":5905931,"comment_id":21686510,"body_markdown":"Thanks for the response. It turned out to be, finally, that I had to tell IDEA to &quot;import my Maven project using Maven 3&quot;. Under Settings-&gt;Maven-&gt;Importing. Discovered after a long email exchange with support@jetbrains.com.","body":"Thanks for the response. It turned out to be, finally, that I had to tell IDEA to &quot;import my Maven project using Maven 3&quot;. Under Settings-&gt;Maven-&gt;Importing. Discovered after a long email exchange with support@jetbrains.com."},{"owner":{"account_id":206334,"reputation":1020,"user_id":455553,"accept_rate":47,"display_name":"pastafarian"},"score":0,"creation_date":1363135357,"post_id":5905931,"comment_id":21727953,"body_markdown":"@CrazyCoder Well then I thank you again :-) Also this might be an opportunity for IDEA to &quot;guess&quot; that if I have configured IDEA to use  Maven3 (&quot;mvn -version&quot;) that I may want to import with Maven3.","body":"@CrazyCoder Well then I thank you again :-) Also this might be an opportunity for IDEA to &quot;guess&quot; that if I have configured IDEA to use  Maven3 (&quot;mvn -version&quot;) that I may want to import with Maven3."},{"owner":{"account_id":1122900,"reputation":864,"user_id":1110820,"accept_rate":88,"display_name":"Charles Wood"},"score":0,"creation_date":1374266913,"post_id":5905931,"comment_id":25890592,"body_markdown":"Hurray! I similarly couldn&#39;t get IDEA to recognize an import after creating dependencies. All it took was invalidating caches to fix :)","body":"Hurray! I similarly couldn&#39;t get IDEA to recognize an import after creating dependencies. All it took was invalidating caches to fix :)"},{"owner":{"account_id":1186345,"reputation":3040,"user_id":1166813,"accept_rate":88,"display_name":"Qw4z1"},"score":0,"creation_date":1384324364,"post_id":5905931,"comment_id":29686666,"body_markdown":"I had the same problem after using Intellij to refactor some methods into a separate class. Invalidating caches also solved that issue.","body":"I had the same problem after using Intellij to refactor some methods into a separate class. Invalidating caches also solved that issue."},{"owner":{"account_id":983567,"reputation":704,"user_id":2787475,"accept_rate":76,"display_name":"CMS"},"score":0,"creation_date":1402582136,"post_id":5905931,"comment_id":37335561,"body_markdown":"for me this only works till the IDE finishes the indexing. after that no other class is recognized","body":"for me this only works till the IDE finishes the indexing. after that no other class is recognized"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1402613711,"post_id":5905931,"comment_id":37352839,"body_markdown":"@CMS please contact our support for help: https://intellij-support.jetbrains.com/home/","body":"@CMS please contact our support for help: <a href=\"https://intellij-support.jetbrains.com/home/\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/home</a>"},{"owner":{"account_id":373021,"reputation":3724,"user_id":875806,"accept_rate":67,"display_name":"CoatedMoose"},"score":1,"creation_date":1405441064,"post_id":5905931,"comment_id":38423109,"body_markdown":"The menu option is now &quot;File | Invalidate Caches/Restart&quot; (Android Studio 0.8.2, linux).","body":"The menu option is now &quot;File | Invalidate Caches/Restart&quot; (Android Studio 0.8.2, linux)."},{"owner":{"account_id":381994,"reputation":3367,"user_id":736963,"accept_rate":67,"display_name":"David Pisoni"},"score":0,"creation_date":1423873868,"post_id":5905931,"comment_id":45340918,"body_markdown":"I had a similar problem that this fixed. Referenced Groovy classes in the same package that weren&#39;t explicitly imported (they needn&#39;t be) were showing up red in the editor. Blowing the cache fixed this.","body":"I had a similar problem that this fixed. Referenced Groovy classes in the same package that weren&#39;t explicitly imported (they needn&#39;t be) were showing up red in the editor. Blowing the cache fixed this."},{"owner":{"account_id":7247220,"reputation":7104,"user_id":5528751,"accept_rate":96,"display_name":"java123999"},"score":0,"creation_date":1450399121,"post_id":5905931,"comment_id":56435300,"body_markdown":"@CrazyCoder Thanks for this answer, can I just ask why this works as it does?","body":"@CrazyCoder Thanks for this answer, can I just ask why this works as it does?"},{"owner":{"account_id":1141776,"reputation":1309,"user_id":1125467,"accept_rate":56,"display_name":"HelpMatters"},"score":45,"creation_date":1455202110,"post_id":5905931,"comment_id":58392021,"body_markdown":"invalidate didn&#39;t work no matter how many times i tried.\nI deleted the .idea folder and then re-imported the project with build.gradle.\nIt works now.","body":"invalidate didn&#39;t work no matter how many times i tried. I deleted the .idea folder and then re-imported the project with build.gradle. It works now."},{"owner":{"account_id":1310803,"reputation":2557,"user_id":1258838,"accept_rate":68,"display_name":"Juliyanage Silva"},"score":1,"creation_date":1456813440,"post_id":5905931,"comment_id":59108208,"body_markdown":"Invalidate Caches did not work nonetheless, deleting system folder did the work...","body":"Invalidate Caches did not work nonetheless, deleting system folder did the work..."},{"owner":{"account_id":455702,"reputation":588,"user_id":854026,"accept_rate":53,"display_name":"Lebowski"},"score":1,"creation_date":1461311473,"post_id":5905931,"comment_id":61151068,"body_markdown":"Just had the problem too, and I changed the Maven home directory from the one bundled into Intellij (Maven3) to my own install (3.2.5), and this worked. All my dependencies were found again. Hope it helps...it seems the bundled version has some issues, not sure why.","body":"Just had the problem too, and I changed the Maven home directory from the one bundled into Intellij (Maven3) to my own install (3.2.5), and this worked. All my dependencies were found again. Hope it helps...it seems the bundled version has some issues, not sure why."},{"owner":{"account_id":253214,"reputation":19917,"user_id":531762,"accept_rate":82,"display_name":"Thunderforge"},"score":0,"creation_date":1469042383,"post_id":5905931,"comment_id":64379861,"body_markdown":"The link for &quot;delete IDEA system directory&quot; is broken. Not sure if [this page](https://intellij-support.jetbrains.com/hc/en-us/articles/206544519-Directories-used-by-the-IDE-to-store-settings-caches-plugins-and-logs) is the one you wanted.","body":"The link for &quot;delete IDEA system directory&quot; is broken. Not sure if <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544519-Directories-used-by-the-IDE-to-store-settings-caches-plugins-and-logs\" rel=\"nofollow noreferrer\">this page</a> is the one you wanted."},{"owner":{"account_id":14882,"reputation":44248,"user_id":30946,"accept_rate":91,"display_name":"jcollum"},"score":0,"creation_date":1474040284,"post_id":5905931,"comment_id":66384812,"body_markdown":"@CrazyCoder I just installed intelliJ the other day. This issue of &quot;cannot resolve Symbol&quot; has happened 10 times since then. I invalidate caches, restart, it comes back 10 minutes later. This is broken. 2016.2.4","body":"@CrazyCoder I just installed intelliJ the other day. This issue of &quot;cannot resolve Symbol&quot; has happened 10 times since then. I invalidate caches, restart, it comes back 10 minutes later. This is broken. 2016.2.4"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1474040406,"post_id":5905931,"comment_id":66384894,"body_markdown":"@jcollum please submit a bug report at https://youtrack.jetbrains.com/issues/IDEA with a sample project to reproduce and [the logs](https://intellij-support.jetbrains.com/hc/articles/207241085).","body":"@jcollum please submit a bug report at <a href=\"https://youtrack.jetbrains.com/issues/IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/IDEA</a> with a sample project to reproduce and <a href=\"https://intellij-support.jetbrains.com/hc/articles/207241085\" rel=\"nofollow noreferrer\">the logs</a>."},{"owner":{"account_id":142753,"reputation":3696,"user_id":350651,"accept_rate":64,"display_name":"PapaFreud"},"score":1,"creation_date":1479997279,"post_id":5905931,"comment_id":68799810,"body_markdown":"Yes! File &gt; Invalidate Caches fixed it. Using IntelliJ 2016.3 on OS X. Thanks!","body":"Yes! File &gt; Invalidate Caches fixed it. Using IntelliJ 2016.3 on OS X. Thanks!"},{"owner":{"account_id":7084225,"reputation":797,"user_id":5421500,"accept_rate":71,"display_name":"Avinash Mishra"},"score":0,"creation_date":1488360796,"post_id":5905931,"comment_id":72191802,"body_markdown":"Hi @CrazyCoder  i am Having same error and i also i tried all the solution. What to do now. Plaese Help. what i am doing is . 1  i am importing an eclipse project to IDEA and i am having same problem rather i am having all the jar file for GooglePaly  and Google adView which i kept inside the myProject/bin/dexedLibs. and i am having the error &quot;cannot resolve symbol google&quot;","body":"Hi @CrazyCoder  i am Having same error and i also i tried all the solution. What to do now. Plaese Help. what i am doing is . 1  i am importing an eclipse project to IDEA and i am having same problem rather i am having all the jar file for GooglePaly  and Google adView which i kept inside the myProject/bin/dexedLibs. and i am having the error &quot;cannot resolve symbol google&quot;"},{"owner":{"account_id":156389,"reputation":839,"user_id":1183840,"display_name":"Wes Grant"},"score":0,"creation_date":1497905615,"post_id":5905931,"comment_id":76265466,"body_markdown":"I tried all of this with no joy.  I had to delete the project and re-clone from git. This solved it.","body":"I tried all of this with no joy.  I had to delete the project and re-clone from git. This solved it."},{"owner":{"account_id":8446299,"reputation":352,"user_id":6336839,"accept_rate":56,"display_name":"NickitaX"},"score":0,"creation_date":1509059303,"post_id":5905931,"comment_id":80878036,"body_markdown":"Indeed, solved my problem! Just curious, what could lead to such an issue? The project I&#39;m working on is built with Gradle. Clean, rebuild - nothing worked - partially code has been marked as red due to symbol resolving issue, however still perfectly compiled...","body":"Indeed, solved my problem! Just curious, what could lead to such an issue? The project I&#39;m working on is built with Gradle. Clean, rebuild - nothing worked - partially code has been marked as red due to symbol resolving issue, however still perfectly compiled..."},{"owner":{"account_id":3078593,"reputation":3418,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"score":0,"creation_date":1509373469,"post_id":5905931,"comment_id":80981656,"body_markdown":"This bug still existing in Oct. 2017. Spent 1 hour debugging, any ETA to fix please @CrazyCoder","body":"This bug still existing in Oct. 2017. Spent 1 hour debugging, any ETA to fix please @CrazyCoder"},{"owner":{"account_id":1227394,"reputation":3921,"user_id":1192702,"accept_rate":75,"display_name":"alaster"},"score":0,"creation_date":1512074252,"post_id":5905931,"comment_id":82121925,"body_markdown":"Thanks! It solved another my problem. Css autocompletion didn&#39;t work in jsp files","body":"Thanks! It solved another my problem. Css autocompletion didn&#39;t work in jsp files"},{"owner":{"account_id":531453,"reputation":862,"user_id":1200542,"display_name":"Ariel Allon"},"score":0,"creation_date":1514924466,"post_id":5905931,"comment_id":83108025,"body_markdown":"What wasn&#39;t immediately obvious to me but ended up working was that the &quot;delete IDEA system directory&quot; step on OS X involves deleting all of the 4 directories listed for OS X in the aforementioned link. *note* this will reset everything about IDEA, essentially functioning as a fresh install.","body":"What wasn&#39;t immediately obvious to me but ended up working was that the &quot;delete IDEA system directory&quot; step on OS X involves deleting all of the 4 directories listed for OS X in the aforementioned link. <i>note</i> this will reset everything about IDEA, essentially functioning as a fresh install."},{"owner":{"account_id":5232216,"reputation":763,"user_id":4182109,"display_name":"Well Smith"},"score":0,"creation_date":1523770381,"post_id":5905931,"comment_id":86692550,"body_markdown":"File | Invalidate Caches/Restart works for me in Mac OS X.","body":"File | Invalidate Caches/Restart works for me in Mac OS X."},{"owner":{"account_id":5172654,"reputation":22240,"user_id":4140711,"accept_rate":100,"display_name":"Weslor"},"score":0,"creation_date":1536650039,"post_id":5905931,"comment_id":91488275,"body_markdown":"For me it worked a mix of solutions, with the following steps (I don&#39;t know if all the steps are needed): `File | Invalidate Caches and Restart`, right click on the code editor, hover on Maven and expand, click on Reimport, and then again `File | Invalidate Caches and Restart`","body":"For me it worked a mix of solutions, with the following steps (I don&#39;t know if all the steps are needed): <code>File | Invalidate Caches and Restart</code>, right click on the code editor, hover on Maven and expand, click on Reimport, and then again <code>File | Invalidate Caches and Restart</code>"},{"owner":{"account_id":1992026,"reputation":2487,"user_id":4993386,"accept_rate":56,"display_name":"Ruifeng Ma"},"score":0,"creation_date":1552465963,"post_id":5905931,"comment_id":97015153,"body_markdown":"Need to make sure the required plug-ins are installed as well. For my case I realised that the `Lombok` plugin was missing hence there was `Cannot resolve symbol` warnings here and there. The project uses [Lombok](https://projectlombok.org/) for convenience..","body":"Need to make sure the required plug-ins are installed as well. For my case I realised that the <code>Lombok</code> plugin was missing hence there was <code>Cannot resolve symbol</code> warnings here and there. The project uses <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">Lombok</a> for convenience.."},{"owner":{"account_id":2384697,"reputation":531,"user_id":2085903,"display_name":"PipoTells"},"score":0,"creation_date":1556174492,"post_id":5905931,"comment_id":98348948,"body_markdown":"Deleting the .iml file and re-importing the project worked for me !!","body":"Deleting the .iml file and re-importing the project worked for me !!"},{"owner":{"account_id":10541959,"reputation":8904,"user_id":7767664,"accept_rate":63,"display_name":"user924"},"score":0,"creation_date":1557083678,"post_id":5905931,"comment_id":98638236,"body_markdown":"this annoying issue happens with this Idea and Android Studio as well. Those useless invalidate/sync do nothing!","body":"this annoying issue happens with this Idea and Android Studio as well. Those useless invalidate/sync do nothing!"},{"owner":{"account_id":9416915,"reputation":4211,"user_id":7004388,"accept_rate":67,"display_name":"codrp"},"score":1,"creation_date":1557347692,"post_id":5905931,"comment_id":98738801,"body_markdown":"Tried several times -  Invalidate cache and restart did not work. The only solution that worked is to delete `.idea` folder and re importing the modules. I know re importing the modules is pain if you have so many like mine but better than stuck with the same error message.","body":"Tried several times -  Invalidate cache and restart did not work. The only solution that worked is to delete <code>.idea</code> folder and re importing the modules. I know re importing the modules is pain if you have so many like mine but better than stuck with the same error message."},{"owner":{"account_id":2265929,"reputation":114,"user_id":2342460,"display_name":"user2342460"},"score":0,"creation_date":1604130679,"post_id":5905931,"comment_id":114258123,"body_markdown":"If &quot;invalidate cache&quot; doesn&#39;t work, don&#39;t just go and delete the system configuration directory straight away. Delete the .idea file first in the base of your project then reimport your project instead. That will create a new system configuration directory for your project. Also ensure that the project has a Java SDK defined by going to Project structure -&gt; Project -&gt; Project SDK.","body":"If &quot;invalidate cache&quot; doesn&#39;t work, don&#39;t just go and delete the system configuration directory straight away. Delete the .idea file first in the base of your project then reimport your project instead. That will create a new system configuration directory for your project. Also ensure that the project has a Java SDK defined by going to Project structure -&gt; Project -&gt; Project SDK."},{"owner":{"account_id":1946899,"reputation":4120,"user_id":1751825,"accept_rate":60,"display_name":"user1751825"},"score":0,"creation_date":1612849843,"post_id":5905931,"comment_id":116888108,"body_markdown":"Deleting the system folder fixed the issue for me. It was the only thing I hadn&#39;t previously tried. Even re-installing IntelliJ didn&#39;t fix it.","body":"Deleting the system folder fixed the issue for me. It was the only thing I hadn&#39;t previously tried. Even re-installing IntelliJ didn&#39;t fix it."},{"owner":{"account_id":11087309,"reputation":861,"user_id":8140523,"display_name":"NanoNova"},"score":0,"creation_date":1619425236,"post_id":5905931,"comment_id":118891729,"body_markdown":"What&#39;s the difference between this and reload project?","body":"What&#39;s the difference between this and reload project?"},{"owner":{"account_id":15279532,"reputation":559,"user_id":11024336,"display_name":"Indika_Nuwan95"},"score":0,"creation_date":1648614361,"post_id":5905931,"comment_id":126666232,"body_markdown":"Worked for me , FYI if you have more than 1 java version running in local (1.8,11 etc) make sure to select one that you need before the indexing happens.you can do that by IDE and project settings -&gt; project Structure (ctrl+alt+shift+s)","body":"Worked for me , FYI if you have more than 1 java version running in local (1.8,11 etc) make sure to select one that you need before the indexing happens.you can do that by IDE and project settings -&gt; project Structure (ctrl+alt+shift+s)"}],"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":35,"down_vote_count":9,"up_vote_count":1332,"is_accepted":true,"score":1323,"last_activity_date":1497017648,"creation_date":1304645498,"answer_id":5905931,"question_id":5905896,"body_markdown":"First of all you should try `File | Invalidate Caches` and if it doesn&#39;t help, delete [IDEA system directory][1]. Then re-import the Maven project and see if it helps.\r\n\r\nIn some weird cases compiled classes may report wrong info and confuse IDEA. Verify that the classes from this jar report correct names using [javap][2].\r\n\r\n\r\n  [1]: https://intellij-support.jetbrains.com/hc/en-us/articles/206544519-Directories-used-by-the-IDE-to-store-settings-caches-plugins-and-logs\r\n  [2]: http://docs.oracle.com/javase/7/docs/technotes/tools/windows/javap.html","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>First of all you should try <code>File | Invalidate Caches</code> and if it doesn't help, delete <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544519-Directories-used-by-the-IDE-to-store-settings-caches-plugins-and-logs\" rel=\"noreferrer\">IDEA system directory</a>. Then re-import the Maven project and see if it helps.</p>\n\n<p>In some weird cases compiled classes may report wrong info and confuse IDEA. Verify that the classes from this jar report correct names using <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/javap.html\" rel=\"noreferrer\">javap</a>.</p>\n"},{"tags":[],"owner":{"account_id":21927,"reputation":1087,"user_id":53691,"accept_rate":40,"display_name":"mozboz"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1534530954,"creation_date":1315602352,"answer_id":7367432,"question_id":5905896,"body_markdown":"I just had this issue and it would just not go away. I eventually wiped out the IntelliJ config directory in `~` and rebuilt my IntelliJ project from scratch. (This only took about 15 minutes in the end, compared to spending an hour trying to work out problems with cached files, etc.)\r\n\r\nNote that my guess is that the initial problem was caused by something like `javathings.blogspot.com/2009/11/too-many-open-files-in-intellij-idea.html` (NB: as of 2018, that link is dead, but archive.org has [a copy of the page](https://web.archive.org/web/20111004103814/http://javathings.blogspot.com/2009/11/too-many-open-files-in-intellij-idea.html) from around when this answer was first written -ed.) or a disk space/memory issue causing Java to crash. IntelliJ seemed to just get corrupted.","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>I just had this issue and it would just not go away. I eventually wiped out the IntelliJ config directory in <code>~</code> and rebuilt my IntelliJ project from scratch. (This only took about 15 minutes in the end, compared to spending an hour trying to work out problems with cached files, etc.)</p>\n\n<p>Note that my guess is that the initial problem was caused by something like <code>javathings.blogspot.com/2009/11/too-many-open-files-in-intellij-idea.html</code> (NB: as of 2018, that link is dead, but archive.org has <a href=\"https://web.archive.org/web/20111004103814/http://javathings.blogspot.com/2009/11/too-many-open-files-in-intellij-idea.html\" rel=\"nofollow noreferrer\">a copy of the page</a> from around when this answer was first written -ed.) or a disk space/memory issue causing Java to crash. IntelliJ seemed to just get corrupted.</p>\n"},{"tags":[],"owner":{"account_id":1336,"reputation":76899,"user_id":1785,"accept_rate":51,"display_name":"Landon Kuhn"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1333729032,"creation_date":1333729032,"answer_id":10046164,"question_id":5905896,"body_markdown":"Another thing to check: Be sure that dependencies are not duplicated. In my case I found that a module exhibiting this behavior was misconfigured as follows: it had a dependency on another module, and it had a dependency on a jar produced by that other module. This meant for every symbol referenced in duplicate, and was ambiguous.","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>Another thing to check: Be sure that dependencies are not duplicated. In my case I found that a module exhibiting this behavior was misconfigured as follows: it had a dependency on another module, and it had a dependency on a jar produced by that other module. This meant for every symbol referenced in duplicate, and was ambiguous.</p>\n"},{"tags":[],"owner":{"account_id":938834,"reputation":1564,"user_id":967288,"display_name":"Matthew Chen"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1354204181,"creation_date":1354204181,"answer_id":13629481,"question_id":5905896,"body_markdown":"One extra step, when I did File -&gt; Invalidate Caches and restarted the IDE, open a project. It popped up a toastbox on the top-right asking me whether to enable auto-import and that solved the problem.","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>One extra step, when I did File -> Invalidate Caches and restarted the IDE, open a project. It popped up a toastbox on the top-right asking me whether to enable auto-import and that solved the problem.</p>\n"},{"comments":[{"owner":{"account_id":1887192,"reputation":5567,"user_id":2225572,"accept_rate":67,"display_name":"Ankit Rustagi"},"score":0,"creation_date":1453888030,"post_id":15893890,"comment_id":57792609,"body_markdown":"How do i do this in IntelliJ for Mac OS ?","body":"How do i do this in IntelliJ for Mac OS ?"},{"owner":{"account_id":1836369,"reputation":151,"user_id":1666670,"display_name":"Lakota Lefler"},"score":0,"creation_date":1456943338,"post_id":15893890,"comment_id":59183765,"body_markdown":"@AnkitRustagi for Mac OS right click project directory under project panel. Maven -&gt; Reimport. You can also use the hotkey, Double tap shift, or Shift + Command + A, and search for &quot;reimport all maven projects&quot;","body":"@AnkitRustagi for Mac OS right click project directory under project panel. Maven -&gt; Reimport. You can also use the hotkey, Double tap shift, or Shift + Command + A, and search for &quot;reimport all maven projects&quot;"},{"owner":{"account_id":927843,"reputation":121,"user_id":958255,"display_name":"rasyadi"},"score":7,"creation_date":1461810079,"post_id":15893890,"comment_id":61372001,"body_markdown":"Right click is a hint for me. Apparently my pom.xml does not marked as maven file, thus I need to right click and marked is as Maven. I have  enabled &#39;Import Maven projects automatically&#39; and all the packages imported after that.","body":"Right click is a hint for me. Apparently my pom.xml does not marked as maven file, thus I need to right click and marked is as Maven. I have  enabled &#39;Import Maven projects automatically&#39; and all the packages imported after that."},{"owner":{"account_id":1266756,"reputation":1659,"user_id":1223901,"display_name":"Vielinko"},"score":9,"creation_date":1495664916,"post_id":15893890,"comment_id":75354791,"body_markdown":"for 2017.1.x is working reimport maven projects: ``View -&gt; Tool Windows -&gt; Maven Projects``, then click on cycle arrows icon.","body":"for 2017.1.x is working reimport maven projects: <code>View -&gt; Tool Windows -&gt; Maven Projects</code>, then click on cycle arrows icon."},{"owner":{"account_id":86475,"reputation":1165,"user_id":240441,"accept_rate":62,"display_name":"Rich"},"score":0,"creation_date":1563819476,"post_id":15893890,"comment_id":100818414,"body_markdown":"Reimporting the Maven module helped me too, I was surprised it isn&#39;t reimported as dependencies change anyway...","body":"Reimporting the Maven module helped me too, I was surprised it isn&#39;t reimported as dependencies change anyway..."},{"owner":{"account_id":5622044,"reputation":8034,"user_id":4451521,"accept_rate":34,"display_name":"KansaiRobot"},"score":0,"creation_date":1573019216,"post_id":15893890,"comment_id":103739444,"body_markdown":"What &quot;Maven&quot;? I don&#39;t see any maven in the right click menu. If it is the one in the project directory (win10) this did not help me","body":"What &quot;Maven&quot;? I don&#39;t see any maven in the right click menu. If it is the one in the project directory (win10) this did not help me"},{"owner":{"account_id":11174300,"reputation":1203,"user_id":8200378,"accept_rate":33,"display_name":"Yulin"},"score":0,"creation_date":1605840292,"post_id":15893890,"comment_id":114782259,"body_markdown":"When I cloned a maven project from github I also got the the same problem, Sidebar &gt; Reload All Maven Projects(the circular refresh icon on top) solved the problem for me","body":"When I cloned a maven project from github I also got the the same problem, Sidebar &gt; Reload All Maven Projects(the circular refresh icon on top) solved the problem for me"}],"tags":[],"owner":{"account_id":1576706,"reputation":2440,"user_id":1462946,"display_name":"rshahriar"},"comment_count":7,"down_vote_count":0,"up_vote_count":142,"is_accepted":false,"score":142,"last_activity_date":1365484875,"creation_date":1365484875,"answer_id":15893890,"question_id":5905896,"body_markdown":"The following trick resolved this issue for me: \r\n\r\n - Right click on the code editor\r\n - Hover on Maven and expand\r\n - Click on Reimport\r\n\r\nMy idea version is 12.0.4","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>The following trick resolved this issue for me: </p>\n\n<ul>\n<li>Right click on the code editor</li>\n<li>Hover on Maven and expand</li>\n<li>Click on Reimport</li>\n</ul>\n\n<p>My idea version is 12.0.4</p>\n"},{"comments":[{"owner":{"account_id":6393844,"reputation":1491,"user_id":4958965,"display_name":"Benjamin Zach"},"score":0,"creation_date":1587457064,"post_id":20217895,"comment_id":108511388,"body_markdown":"Had the problem with Intellij IDEA 2019.3 and the bundled JDK 11.0.3 and solved it by installing manually JDK 11.0.4, see here:  https://stackoverflow.com/questions/61338200/maven-java-project-in-intellij-idea-2019-3-jdk-11-0-3-cannot-resolve-symbol-j","body":"Had the problem with Intellij IDEA 2019.3 and the bundled JDK 11.0.3 and solved it by installing manually JDK 11.0.4, see here:  <a href=\"https://stackoverflow.com/questions/61338200/maven-java-project-in-intellij-idea-2019-3-jdk-11-0-3-cannot-resolve-symbol-j\" title=\"maven java project in intellij idea 2019 3 jdk 11 0 3 cannot resolve symbol j\">stackoverflow.com/questions/61338200/&hellip;</a>"}],"tags":[],"owner":{"account_id":1235008,"reputation":1488,"user_id":1198772,"display_name":"ismailsunni"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1385471071,"creation_date":1385471071,"answer_id":20217895,"question_id":5905896,"body_markdown":"For another alternative.\r\n\r\nI got this problem also when I used JDK7_07. I tried all answers here (except deleting IDEA System Directory). But, I still got the problem. So what I did it is:\r\n\r\nInstall newest JDK (it was JDK7_45), and set the Intellij&#39;s JDK to the new one, and it works.","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>For another alternative.</p>\n\n<p>I got this problem also when I used JDK7_07. I tried all answers here (except deleting IDEA System Directory). But, I still got the problem. So what I did it is:</p>\n\n<p>Install newest JDK (it was JDK7_45), and set the Intellij's JDK to the new one, and it works.</p>\n"},{"tags":[],"owner":{"account_id":4370900,"reputation":21,"user_id":3565334,"display_name":"user3565334"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1398268860,"creation_date":1398268860,"answer_id":23249644,"question_id":5905896,"body_markdown":"After invalidating my cache and restarting; and confirming my maven settings were okay, I was still seeing &quot;Cannot resolve symbol&quot; for a module that I definitely had set as a dependency. Turns out I had it set to the wrong scope. \r\n\r\nYou can check by right clicking on your module and selecting Open Module Settings. Click the dependency tab and verify that the scope for your un-resolvable dependency is set to Compile. ","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>After invalidating my cache and restarting; and confirming my maven settings were okay, I was still seeing \"Cannot resolve symbol\" for a module that I definitely had set as a dependency. Turns out I had it set to the wrong scope. </p>\n\n<p>You can check by right clicking on your module and selecting Open Module Settings. Click the dependency tab and verify that the scope for your un-resolvable dependency is set to Compile. </p>\n"},{"tags":[],"owner":{"account_id":3458922,"reputation":43,"user_id":2896678,"display_name":"Sandeep"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1425935985,"creation_date":1425935985,"answer_id":28951950,"question_id":5905896,"body_markdown":"Re-importing the project worked for me.\r\nRight Click on Project -&gt; Maven -&gt;Reimport\r\n\r\nwhen I did File -&gt; Invalidate Caches and restarted the IDE,open a project. It showed a dialogue on the top-right &quot;Maven changes detected&quot; and gave an option to import and enable auto-import. Even after importing the project here, I had the same issue. The above step solved the problem.\r\n","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>Re-importing the project worked for me.\nRight Click on Project -> Maven ->Reimport</p>\n\n<p>when I did File -> Invalidate Caches and restarted the IDE,open a project. It showed a dialogue on the top-right \"Maven changes detected\" and gave an option to import and enable auto-import. Even after importing the project here, I had the same issue. The above step solved the problem.</p>\n"},{"comments":[{"owner":{"display_name":"user3761555"},"score":0,"creation_date":1430725290,"post_id":30009963,"comment_id":48167021,"body_markdown":"The problem disappeared... after I &quot;Open&quot; project instead of &quot;Import&quot; project... god damn strange.","body":"The problem disappeared... after I &quot;Open&quot; project instead of &quot;Import&quot; project... god damn strange."},{"owner":{"account_id":1186264,"reputation":556,"user_id":1160163,"accept_rate":71,"display_name":"sbnarra"},"score":0,"creation_date":1498222191,"post_id":30009963,"comment_id":76425883,"body_markdown":"This worked for me! :) Lost a day of working but it worked. I wonder what&#39;s the different between open and import","body":"This worked for me! :) Lost a day of working but it worked. I wonder what&#39;s the different between open and import"}],"tags":[],"owner":{"display_name":"user3761555"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1430625013,"creation_date":1430624266,"answer_id":30009963,"question_id":5905896,"body_markdown":"Has a fixed been published? Appears issue originally affected v11/12 due to a &quot;Compiler overhaul&quot; back in 2013. With discussion on related issues in Jira up to end of 2014.\r\nhttp://youtrack.jetbrains.com/issue/IDEA-98425\r\n\r\nAlso on Jira **IDEA-98425** was marked ***fixed*** but ***unverified*** (on v12.0.3). None of the following **work-around** helped resolve this **&quot;Unable to Resolve Symbol&quot;** issue with Version **13.1.1** on Windows \r\n\r\na. Delete **.IdealIC13** folder (Then, File \\ Invalidate Caches / Restart)\r\n\r\nb. From **Maven Projects** window,      \r\n\r\nb.1 **mvn -U idea:idea** –〉Executing this maven goal suppose to reload the dependencies. This works prev, but since last FRI, executing this maven goal failed as it tried to recompile the project (Of course it fails as &quot;Unable to resolve Symbols&quot;, that&#39;s what I am trying to fix by running this command in the first place)          mvn -version — shows maven version referenced 3.2.5 and that it&#39;s working    \r\n\r\nb.2 Simply right click project, and **Reimport**    \r\n\r\nb.3 File \\ **Invalidate Caches / Restart**\r\n\r\nc. Tried both Enable  &amp; Disable this setting: File -&gt; Settings -&gt; Maven -&gt; Importing -&gt; &quot;Use maven3 to import project&quot;\r\n\r\nd. Settings \\ Maven \\ Multiproject build fail policy = Fail at end (instead of Default) \r\n\r\nNothing works. What&#39;s happenning to IntelliJ support on Maven.\r\n\r\nhttps://youtrack.jetbrains.com/issue/IDEA-99302\r\n\r\nFrom JetBeans release history, https://www.jetbrains.com/company/history.jsp\r\n\r\n**IntelliJ v14** NOV 2014\r\n\r\n**IntelliJ v13** DEC 2013\r\n\r\nI&#39;d assume v12 fixed (although **unverified**) would be incorporated in subsequent releases. Any one having similar problems with which IntelliJ version? Please share your experience. IntelliJ maven support seems broken.","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>Has a fixed been published? Appears issue originally affected v11/12 due to a \"Compiler overhaul\" back in 2013. With discussion on related issues in Jira up to end of 2014.\n<a href=\"http://youtrack.jetbrains.com/issue/IDEA-98425\">http://youtrack.jetbrains.com/issue/IDEA-98425</a></p>\n\n<p>Also on Jira <strong>IDEA-98425</strong> was marked <strong><em>fixed</em></strong> but <strong><em>unverified</em></strong> (on v12.0.3). None of the following <strong>work-around</strong> helped resolve this <strong>\"Unable to Resolve Symbol\"</strong> issue with Version <strong>13.1.1</strong> on Windows </p>\n\n<p>a. Delete <strong>.IdealIC13</strong> folder (Then, File \\ Invalidate Caches / Restart)</p>\n\n<p>b. From <strong>Maven Projects</strong> window,      </p>\n\n<p>b.1 <strong>mvn -U idea:idea</strong> –〉Executing this maven goal suppose to reload the dependencies. This works prev, but since last FRI, executing this maven goal failed as it tried to recompile the project (Of course it fails as \"Unable to resolve Symbols\", that's what I am trying to fix by running this command in the first place)          mvn -version — shows maven version referenced 3.2.5 and that it's working    </p>\n\n<p>b.2 Simply right click project, and <strong>Reimport</strong>    </p>\n\n<p>b.3 File \\ <strong>Invalidate Caches / Restart</strong></p>\n\n<p>c. Tried both Enable  &amp; Disable this setting: File -> Settings -> Maven -> Importing -> \"Use maven3 to import project\"</p>\n\n<p>d. Settings \\ Maven \\ Multiproject build fail policy = Fail at end (instead of Default) </p>\n\n<p>Nothing works. What's happenning to IntelliJ support on Maven.</p>\n\n<p><a href=\"https://youtrack.jetbrains.com/issue/IDEA-99302\">https://youtrack.jetbrains.com/issue/IDEA-99302</a></p>\n\n<p>From JetBeans release history, <a href=\"https://www.jetbrains.com/company/history.jsp\">https://www.jetbrains.com/company/history.jsp</a></p>\n\n<p><strong>IntelliJ v14</strong> NOV 2014</p>\n\n<p><strong>IntelliJ v13</strong> DEC 2013</p>\n\n<p>I'd assume v12 fixed (although <strong>unverified</strong>) would be incorporated in subsequent releases. Any one having similar problems with which IntelliJ version? Please share your experience. IntelliJ maven support seems broken.</p>\n"},{"comments":[{"owner":{"account_id":2369006,"reputation":11938,"user_id":3096687,"accept_rate":67,"display_name":"bbarker"},"score":0,"creation_date":1436974915,"post_id":31195053,"comment_id":50840018,"body_markdown":"I just want to say as a side note that I needed to do this again after refactoring my build system a bit; somehow, IntelliJ spotted some issues with my build.gradle file that didn&#39;t pop up previously. In the end, was able to get it to all work out fairly quicly.","body":"I just want to say as a side note that I needed to do this again after refactoring my build system a bit; somehow, IntelliJ spotted some issues with my build.gradle file that didn&#39;t pop up previously. In the end, was able to get it to all work out fairly quicly."},{"owner":{"account_id":3220420,"reputation":864,"user_id":3854962,"display_name":"UTF_or_Death"},"score":10,"creation_date":1456153899,"post_id":31195053,"comment_id":58802123,"body_markdown":"Gradle Tool pane is at:\n    `View &gt; Tool Windows &gt; Gradle`","body":"Gradle Tool pane is at:     <code>View &gt; Tool Windows &gt; Gradle</code>"},{"owner":{"account_id":106954,"reputation":14215,"user_id":2561452,"accept_rate":63,"display_name":"Robert Oschler"},"score":0,"creation_date":1502037045,"post_id":31195053,"comment_id":78028307,"body_markdown":"@bbarker - I just updated IntelliJ to the latest version as of Sunday August 6, 2017.  The problem you mention where right-clicking the build.gradle file in the Project files pane and nothing happens still exists.  Thankfully, your tip to use the Refresh button in the Gradle Tool window (View -&gt; Tool Windows -&gt; Gradle) worked great.","body":"@bbarker - I just updated IntelliJ to the latest version as of Sunday August 6, 2017.  The problem you mention where right-clicking the build.gradle file in the Project files pane and nothing happens still exists.  Thankfully, your tip to use the Refresh button in the Gradle Tool window (View -&gt; Tool Windows -&gt; Gradle) worked great."},{"owner":{"account_id":6089000,"reputation":206,"user_id":4751990,"accept_rate":100,"display_name":"Egor Hans"},"score":0,"creation_date":1582030008,"post_id":31195053,"comment_id":106629074,"body_markdown":"On the note of the build.gradle issues: Sometimes IntelliJ finds nonexistant issues if you have no run configurations. I once had some weird `mavenCentral() could not be resolved` until I added the jUnit configurations back (I had ported an entire project to Gradle by making a new Gradle project, then copying all source files over).","body":"On the note of the build.gradle issues: Sometimes IntelliJ finds nonexistant issues if you have no run configurations. I once had some weird <code>mavenCentral() could not be resolved</code> until I added the jUnit configurations back (I had ported an entire project to Gradle by making a new Gradle project, then copying all source files over)."},{"owner":{"account_id":9744171,"reputation":138,"user_id":7224691,"display_name":"Ben"},"score":0,"creation_date":1605952693,"post_id":31195053,"comment_id":114814618,"body_markdown":"Unfortunately didn&#39;t resolve my issue (nor Invalidating Cache). Unclear on the solution but reorganising the gradle build dependencies for my multiple project removed errors and built successfully. For my case it was using the wrong dependency for the main project.","body":"Unfortunately didn&#39;t resolve my issue (nor Invalidating Cache). Unclear on the solution but reorganising the gradle build dependencies for my multiple project removed errors and built successfully. For my case it was using the wrong dependency for the main project."},{"owner":{"account_id":13573474,"reputation":400,"user_id":9791519,"display_name":"Sapthaka"},"score":0,"creation_date":1685859339,"post_id":31195053,"comment_id":134718073,"body_markdown":"This worked as a charm","body":"This worked as a charm"}],"tags":[],"owner":{"account_id":2369006,"reputation":11938,"user_id":3096687,"accept_rate":67,"display_name":"bbarker"},"comment_count":6,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1435873016,"creation_date":1435873016,"answer_id":31195053,"question_id":5905896,"body_markdown":"**For Gradle users:**\r\n\r\nYou may need to synchronize your project with your `build.gradle` file. \r\n\r\nYou can right-click on your gradle file under the Project pane to do this, **but** that didn&#39;t seem to do anything for me (I suspect a bug in my version). You&#39;ll know if this happens because it wont&#39; kick off any IntelliJ tasks that you will be waiting on. Instead, **[open up the Gradle Tool pane][1]**, then click the synchronize (refresh) button. This worked for me where invalidating the cache and restarting did not.\r\n\r\nMy own circumstance: I was using a Scala project with Gradle and had to do this.\r\n\r\n\r\n  [1]: https://www.jetbrains.com/idea/help/manipulating-the-tool-windows.html","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p><strong>For Gradle users:</strong></p>\n\n<p>You may need to synchronize your project with your <code>build.gradle</code> file. </p>\n\n<p>You can right-click on your gradle file under the Project pane to do this, <strong>but</strong> that didn't seem to do anything for me (I suspect a bug in my version). You'll know if this happens because it wont' kick off any IntelliJ tasks that you will be waiting on. Instead, <strong><a href=\"https://www.jetbrains.com/idea/help/manipulating-the-tool-windows.html\">open up the Gradle Tool pane</a></strong>, then click the synchronize (refresh) button. This worked for me where invalidating the cache and restarting did not.</p>\n\n<p>My own circumstance: I was using a Scala project with Gradle and had to do this.</p>\n"},{"tags":[],"owner":{"account_id":3442780,"reputation":4961,"user_id":2884309,"accept_rate":73,"display_name":"Ivan Aracki"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1576700071,"creation_date":1445528592,"answer_id":33285109,"question_id":5905896,"body_markdown":"For Intellij Idea users this commands before even importing project might help :\r\n\r\n```\r\n./gradlew build\r\n./gradlew idea","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>For Intellij Idea users this commands before even importing project might help :</p>\n\n<pre><code>./gradlew build\n./gradlew idea\n</code></pre>\n"},{"tags":[],"owner":{"account_id":965464,"reputation":8845,"user_id":988966,"display_name":"Aman"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1456693378,"creation_date":1448246922,"answer_id":33863034,"question_id":5905896,"body_markdown":"My Project Structure:\r\n\r\n    src -&gt; main -&gt; scala -&gt; mypackages\r\n\r\nWhat worked:\r\n\r\n  Right click on the `scala` folder, and click &quot;Mark Directory as Sources Root&quot;.\r\n\r\n\r\n\r\n\r\n","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>My Project Structure:</p>\n\n<pre><code>src -&gt; main -&gt; scala -&gt; mypackages\n</code></pre>\n\n<p>What worked:</p>\n\n<p>Right click on the <code>scala</code> folder, and click \"Mark Directory as Sources Root\".</p>\n"},{"comments":[{"owner":{"account_id":54479,"reputation":1666,"user_id":162980,"accept_rate":77,"display_name":"Bobby"},"score":1,"creation_date":1499310997,"post_id":34511539,"comment_id":76854646,"body_markdown":"Finally. I had two modules listed for some reason, &quot;main&quot; and my project name. Removed main, and the errors went away.","body":"Finally. I had two modules listed for some reason, &quot;main&quot; and my project name. Removed main, and the errors went away."},{"owner":{"account_id":8081606,"reputation":178,"user_id":6090603,"display_name":"henry700"},"score":0,"creation_date":1643835960,"post_id":34511539,"comment_id":125448311,"body_markdown":"Finally, so that&#39;s why reimporting the project always works! Because it doesn&#39;t duplicate modules on import. But somewhere, somehow, IntelliJ eventually duplicates modules especially during big refactors, and this happens.","body":"Finally, so that&#39;s why reimporting the project always works! Because it doesn&#39;t duplicate modules on import. But somewhere, somehow, IntelliJ eventually duplicates modules especially during big refactors, and this happens."}],"tags":[],"owner":{"account_id":2979201,"reputation":14380,"user_id":2529583,"accept_rate":62,"display_name":"Babken Vardanyan"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1452496667,"creation_date":1451393745,"answer_id":34511539,"question_id":5905896,"body_markdown":"Inconsistent/duplicate module names in project structure was causing this issue for me.\r\n\r\n1. Go to `File -&gt; Project Strucutre -&gt; Modules`\r\n2. In Click on modules which have red underline\r\n3. Got to &quot;Dependencies&quot; tab\r\n4. Make sure the dependencies which are red actually exist in dependency list. If not, rename them to match existing dependency names\r\n\r\nThis can happen when IntelliJ doesn&#39;t shut down properly and thus cannot properly save renamed module names.","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>Inconsistent/duplicate module names in project structure was causing this issue for me.</p>\n\n<ol>\n<li>Go to <code>File -&gt; Project Strucutre -&gt; Modules</code></li>\n<li>In Click on modules which have red underline</li>\n<li>Got to \"Dependencies\" tab</li>\n<li>Make sure the dependencies which are red actually exist in dependency list. If not, rename them to match existing dependency names</li>\n</ol>\n\n<p>This can happen when IntelliJ doesn't shut down properly and thus cannot properly save renamed module names.</p>\n"},{"comments":[{"owner":{"account_id":5622044,"reputation":8034,"user_id":4451521,"accept_rate":34,"display_name":"KansaiRobot"},"score":0,"creation_date":1573019933,"post_id":38181130,"comment_id":103739687,"body_markdown":"it threw an error: Java error release vestion 5 is not supported","body":"it threw an error: Java error release vestion 5 is not supported"},{"owner":{"account_id":6089000,"reputation":206,"user_id":4751990,"accept_rate":100,"display_name":"Egor Hans"},"score":0,"creation_date":1582030683,"post_id":38181130,"comment_id":106629430,"body_markdown":"@KansaiRobot\nSounds like you have your project configured to use Java 5. Most libraries nowadays require at least Java 8, and there&#39;s not much reason to use anything lower (lots of things happened in the JDK, both in terms of new features and performance), so try again with Java 8 or higher.","body":"@KansaiRobot Sounds like you have your project configured to use Java 5. Most libraries nowadays require at least Java 8, and there&#39;s not much reason to use anything lower (lots of things happened in the JDK, both in terms of new features and performance), so try again with Java 8 or higher."}],"tags":[],"owner":{"account_id":2734199,"reputation":31,"user_id":6546613,"display_name":"chiguri"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467624242,"creation_date":1467624242,"answer_id":38181130,"question_id":5905896,"body_markdown":"In my case, only buildDir is removed.\r\nIn this case, `File | Invalidate Caches` does not work.\r\n\r\nWhen I do `Build | Make Project` before `File | Invalidate Caches`, everything works fine.\r\n","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>In my case, only buildDir is removed.\nIn this case, <code>File | Invalidate Caches</code> does not work.</p>\n\n<p>When I do <code>Build | Make Project</code> before <code>File | Invalidate Caches</code>, everything works fine.</p>\n"},{"comments":[{"owner":{"account_id":1264371,"reputation":121,"user_id":1222011,"display_name":"Chen"},"score":5,"creation_date":1544803802,"post_id":39271103,"comment_id":94417921,"body_markdown":"Big thank you! This also was the only solution that solved the issue I had. What happened was my project was renamed and IntelliJ somehow didn&#39;t clear out the old .iml files under .idea/modules. Delete those extra .iml file and rebuild the project fixed the issue.","body":"Big thank you! This also was the only solution that solved the issue I had. What happened was my project was renamed and IntelliJ somehow didn&#39;t clear out the old .iml files under .idea/modules. Delete those extra .iml file and rebuild the project fixed the issue."},{"owner":{"account_id":10835566,"reputation":2546,"user_id":7968673,"display_name":"Hamza Belmellouki"},"score":0,"creation_date":1568813356,"post_id":39271103,"comment_id":102394514,"body_markdown":"Worked! Great! But It would be nice If someone could explain why It works.","body":"Worked! Great! But It would be nice If someone could explain why It works."},{"owner":{"account_id":5622044,"reputation":8034,"user_id":4451521,"accept_rate":34,"display_name":"KansaiRobot"},"score":1,"creation_date":1573020046,"post_id":39271103,"comment_id":103739716,"body_markdown":"Where is that file?? I deleted the &lt;projectname&gt;.idl and now the project structure is gone!! furthermore the settings cannot be loaded because the iml file does not exist","body":"Where is that file?? I deleted the &lt;projectname&gt;.idl and now the project structure is gone!! furthermore the settings cannot be loaded because the iml file does not exist"},{"owner":{"account_id":10237674,"reputation":115,"user_id":7556035,"accept_rate":50,"display_name":"rs_"},"score":1,"creation_date":1582026116,"post_id":39271103,"comment_id":106626860,"body_markdown":"Perfectly works.\nI tried changing JDK, invalidating caches, Reimporting project, nothing worked.\nDeleting main.iml works.","body":"Perfectly works. I tried changing JDK, invalidating caches, Reimporting project, nothing worked. Deleting main.iml works."},{"owner":{"account_id":7502659,"reputation":2750,"user_id":5700401,"accept_rate":22,"display_name":"Abhijit Jagtap"},"score":0,"creation_date":1605636160,"post_id":39271103,"comment_id":114709706,"body_markdown":"@KansaiRobot don&#39;t delete &lt;projectname&gt;.idl, delete main.idl file, it&#39;s inside the main folder :). It worked for me too.","body":"@KansaiRobot don&#39;t delete &lt;projectname&gt;.idl, delete main.idl file, it&#39;s inside the main folder :). It worked for me too."},{"owner":{"account_id":10923818,"reputation":606,"user_id":8085276,"display_name":"Ajay Kumar"},"score":0,"creation_date":1617949244,"post_id":39271103,"comment_id":118458296,"body_markdown":"Hey, It worked for me as well. A Big thank you.","body":"Hey, It worked for me as well. A Big thank you."}],"tags":[],"owner":{"account_id":120794,"reputation":1161,"user_id":313427,"display_name":"cerisier"},"comment_count":6,"down_vote_count":1,"up_vote_count":50,"is_accepted":false,"score":49,"last_activity_date":1472731400,"creation_date":1472731400,"answer_id":39271103,"question_id":5905896,"body_markdown":"None of the solutions above worked for me. What did was removing the main.iml file manually and it suddenly worked.","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>None of the solutions above worked for me. What did was removing the main.iml file manually and it suddenly worked.</p>\n"},{"tags":[],"owner":{"account_id":7167461,"reputation":483,"user_id":5476125,"accept_rate":43,"display_name":"Asad Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472732028,"creation_date":1472732028,"answer_id":39271289,"question_id":5905896,"body_markdown":"if maven project then just go to settings -&gt;build tools - &gt;maven -&gt;importing.\r\ncheck the checkbox &quot;import maven project automatically&quot;.\r\nwill solve the problem.","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>if maven project then just go to settings ->build tools - >maven ->importing.\ncheck the checkbox \"import maven project automatically\".\nwill solve the problem.</p>\n"},{"comments":[{"owner":{"account_id":5622044,"reputation":8034,"user_id":4451521,"accept_rate":34,"display_name":"KansaiRobot"},"score":0,"creation_date":1573020464,"post_id":39463989,"comment_id":103739821,"body_markdown":"there are no pom.xml in the screen in 4,","body":"there are no pom.xml in the screen in 4,"}],"tags":[],"owner":{"account_id":1931877,"reputation":1731,"user_id":1741107,"accept_rate":60,"display_name":"Jasper Citi"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1473750125,"creation_date":1473750125,"answer_id":39463989,"question_id":5905896,"body_markdown":" 1. Open &quot;Settings&quot;\r\n 2. Search for &quot;Maven&quot;\r\n 3. Click on &quot;Ignored Files&quot; under &quot;Maven&quot;\r\n 4. Uncheck the pom.xml files contains the missing dependencies\r\n 5. Click &quot;OK&quot;\r\n 6. Click File -&gt; Invalidate Caches/Restart...\r\n 7. Click &quot;Invalidate and Restart&quot;","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<ol>\n<li>Open \"Settings\"</li>\n<li>Search for \"Maven\"</li>\n<li>Click on \"Ignored Files\" under \"Maven\"</li>\n<li>Uncheck the pom.xml files contains the missing dependencies</li>\n<li>Click \"OK\"</li>\n<li>Click File -> Invalidate Caches/Restart...</li>\n<li>Click \"Invalidate and Restart\"</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1195219,"reputation":1031,"user_id":1167110,"display_name":"Djalas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473786363,"creation_date":1473786363,"answer_id":39475457,"question_id":5905896,"body_markdown":"Invalidate Caches worked for me but after running the application had the same error.\r\n\r\nSo I tried (**Intellij**): \r\n\r\n1 - Menu bar - Refactor | **Build** | Run | Tools \r\n - click **Build** then **Rebuild Project**\r\n\r\n2 - MVN clean\r\n\r\n3 - Right click on project &gt; Maven &gt; Generate Sources and Update Folder\r\n\r\nHope this works for you.\r\n\r\nThanks\r\n\r\n","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>Invalidate Caches worked for me but after running the application had the same error.</p>\n\n<p>So I tried (<strong>Intellij</strong>): </p>\n\n<p>1 - Menu bar - Refactor | <strong>Build</strong> | Run | Tools \n - click <strong>Build</strong> then <strong>Rebuild Project</strong></p>\n\n<p>2 - MVN clean</p>\n\n<p>3 - Right click on project > Maven > Generate Sources and Update Folder</p>\n\n<p>Hope this works for you.</p>\n\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":9036259,"reputation":63,"user_id":6732128,"display_name":"jmhage"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475057509,"creation_date":1474957326,"answer_id":39717388,"question_id":5905896,"body_markdown":"None of the above solutions solved it for me. I had the same issue where the code compiled fine but IntelliJ showed that it could not find the import. Even though IntelliJ suggested the import in the first place from code completion. \r\n\r\nMy solution was to move everything to the default package, delete the `com.foo.bar` package, then create it again and move everything back. ","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>None of the above solutions solved it for me. I had the same issue where the code compiled fine but IntelliJ showed that it could not find the import. Even though IntelliJ suggested the import in the first place from code completion. </p>\n\n<p>My solution was to move everything to the default package, delete the <code>com.foo.bar</code> package, then create it again and move everything back. </p>\n"},{"comments":[{"owner":{"account_id":5622044,"reputation":8034,"user_id":4451521,"accept_rate":34,"display_name":"KansaiRobot"},"score":0,"creation_date":1573020625,"post_id":40899711,"comment_id":103739862,"body_markdown":"I think this could help... but unfortuntely running it gives a connection time out. could not connect to repo :(","body":"I think this could help... but unfortuntely running it gives a connection time out. could not connect to repo :("}],"tags":[],"owner":{"account_id":2123849,"reputation":739,"user_id":1886534,"display_name":"Tom"},"comment_count":1,"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1543608542,"creation_date":1480546251,"answer_id":40899711,"question_id":5905896,"body_markdown":"This was mentioned in another answer to this same question [here][1], but this alone fixes this for me.  I do all my builds in a separate terminal, outside of IntelliJ.  So the cache&#39;s need to have the proper permissions set for the IntelliJ app to read them.\r\n\r\nRun it from the project&#39;s root folder.  \r\n\r\n    $ mvn -U idea:idea\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/30009963/1886534","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>This was mentioned in another answer to this same question <a href=\"https://stackoverflow.com/a/30009963/1886534\">here</a>, but this alone fixes this for me.  I do all my builds in a separate terminal, outside of IntelliJ.  So the cache's need to have the proper permissions set for the IntelliJ app to read them.</p>\n\n<p>Run it from the project's root folder.  </p>\n\n<pre><code>$ mvn -U idea:idea\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7245190,"reputation":1455,"user_id":5527341,"display_name":"lin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486203713,"creation_date":1483668307,"answer_id":41497804,"question_id":5905896,"body_markdown":"Or maybe the file you import is too large.this is my case,when I change the Intellij property: iead.max.intellisen.filesize (path is ${idea dir}/bin/idea.properties) to a larger value,like 25000, and restart the IDE,the problem disappeared. Hope this helps.","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>Or maybe the file you import is too large.this is my case,when I change the Intellij property: iead.max.intellisen.filesize (path is ${idea dir}/bin/idea.properties) to a larger value,like 25000, and restart the IDE,the problem disappeared. Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":8588189,"reputation":63,"user_id":7676839,"display_name":"Ronald Teune"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1488959971,"creation_date":1488959971,"answer_id":42665913,"question_id":5905896,"body_markdown":"Suggested solutions did not work. I had to **unignore** several projects, by right clicking on the pom =&gt; maven =&gt; unignore project.\r\n\r\nThen after a\r\n\r\n    mvn clean install -T 6 -DskipTests\r\n\r\nin the console, IntelliJ was happy again. No idea how the projects became ignored...","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>Suggested solutions did not work. I had to <strong>unignore</strong> several projects, by right clicking on the pom => maven => unignore project.</p>\n\n<p>Then after a</p>\n\n<pre><code>mvn clean install -T 6 -DskipTests\n</code></pre>\n\n<p>in the console, IntelliJ was happy again. No idea how the projects became ignored...</p>\n"},{"tags":[],"owner":{"account_id":9720209,"reputation":141,"user_id":7209186,"display_name":"Arthur Wu"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1511399898,"creation_date":1492507330,"answer_id":43468300,"question_id":5905896,"body_markdown":"Sometimes, I just open project structure, and click project, then [choose a SDK version](https://stackoverflow.com/a/4482827/2518317).\r\n","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>Sometimes, I just open project structure, and click project, then <a href=\"https://stackoverflow.com/a/4482827/2518317\">choose a SDK version</a>.</p>\n"},{"tags":[],"owner":{"account_id":1401031,"reputation":2245,"user_id":1329813,"display_name":"Ben"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496621738,"creation_date":1496621738,"answer_id":44360104,"question_id":5905896,"body_markdown":"I had a similar issue when I switched to a new computer. \r\n\r\nI copied all the IDEA files (even the related %APPDATA%-folders), but then the Maven build was successfully, but IDEA did not find any classes from the dependencies, when building it.\r\n\r\nThe solution: I started with a new and clean IDEA profile by removing the folders from the %APPDATA%-folders","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>I had a similar issue when I switched to a new computer. </p>\n\n<p>I copied all the IDEA files (even the related %APPDATA%-folders), but then the Maven build was successfully, but IDEA did not find any classes from the dependencies, when building it.</p>\n\n<p>The solution: I started with a new and clean IDEA profile by removing the folders from the %APPDATA%-folders</p>\n"},{"comments":[{"owner":{"account_id":5610578,"reputation":795,"user_id":4778127,"display_name":"Bechyň&#225;k Petr"},"score":0,"creation_date":1501834562,"post_id":45486673,"comment_id":77963841,"body_markdown":"However, this is rather temporary solution. I just installed 2017.2.1 and now problem disappeared.","body":"However, this is rather temporary solution. I just installed 2017.2.1 and now problem disappeared."}],"tags":[],"owner":{"account_id":5610578,"reputation":795,"user_id":4778127,"display_name":"Bechyň&#225;k Petr"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501769395,"creation_date":1501769395,"answer_id":45486673,"question_id":5905896,"body_markdown":"For Idea 2017.1 + Gradle, the plugin is somehow buggy. Tried all synchronize, invalidate + restart, nothing worked. According to https://github.com/gradle/gradle/issues/2315, this worked for me:\r\n1. Close Idea\r\n2. Type gradle idea in command line (should generate 3 files: .iml, .ipr, .iws)\r\n3. Run idea and open the created file .ipr, this should import your project from scratch, with hard-wired dependencies in those 3 files","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>For Idea 2017.1 + Gradle, the plugin is somehow buggy. Tried all synchronize, invalidate + restart, nothing worked. According to <a href=\"https://github.com/gradle/gradle/issues/2315\" rel=\"nofollow noreferrer\">https://github.com/gradle/gradle/issues/2315</a>, this worked for me:\n1. Close Idea\n2. Type gradle idea in command line (should generate 3 files: .iml, .ipr, .iws)\n3. Run idea and open the created file .ipr, this should import your project from scratch, with hard-wired dependencies in those 3 files</p>\n"},{"tags":[],"owner":{"account_id":236361,"reputation":14191,"user_id":503804,"accept_rate":70,"display_name":"nilesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505361871,"creation_date":1505361871,"answer_id":46210328,"question_id":5905896,"body_markdown":"`mvn idea:idea` worked for me. Found it [here][1]. Spent more than an hour, hope it helps someone\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/43632142/503804","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p><code>mvn idea:idea</code> worked for me. Found it <a href=\"https://stackoverflow.com/a/43632142/503804\">here</a>. Spent more than an hour, hope it helps someone</p>\n"},{"tags":[],"owner":{"account_id":3054028,"reputation":1076,"user_id":2588059,"accept_rate":29,"display_name":"Hari Krishnan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508478446,"creation_date":1508478446,"answer_id":46843002,"question_id":5905896,"body_markdown":"If nothing works out, right click on your source directory , mark directory as &quot;Source Directory&quot; and then right click on project directory and maven -&gt; re-import. \r\n\r\nthis resolved my issue. ","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>If nothing works out, right click on your source directory , mark directory as \"Source Directory\" and then right click on project directory and maven -> re-import. </p>\n\n<p>this resolved my issue. </p>\n"},{"tags":[],"owner":{"account_id":6795443,"reputation":17,"user_id":7804602,"display_name":"Harriesh Gomahan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1511869821,"creation_date":1511869821,"answer_id":47530881,"question_id":5905896,"body_markdown":"Remove the :iml file found in java and test folders inside the project and \r\ninvalidate and restart .  \r\n\r\nIt will ask can I remove the projects . Put Yes. The error will goes off. \r\n","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>Remove the :iml file found in java and test folders inside the project and \ninvalidate and restart .  </p>\n\n<p>It will ask can I remove the projects . Put Yes. The error will goes off. </p>\n"},{"comments":[{"owner":{"account_id":16735950,"reputation":437,"user_id":12097072,"display_name":"stoneshishang"},"score":0,"creation_date":1628002077,"post_id":47862694,"comment_id":121302852,"body_markdown":"Yes, this helped me. if POM.xml is red. click this button and it will work most of time.","body":"Yes, this helped me. if POM.xml is red. click this button and it will work most of time."}],"tags":[],"owner":{"account_id":6287340,"reputation":549,"user_id":4887311,"display_name":"Kishore Bhosale"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513575637,"creation_date":1513575637,"answer_id":47862694,"question_id":5905896,"body_markdown":"&quot;File -&gt; Invalidate Cache and Restart&quot; will resolve all dependencies.","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>\"File -> Invalidate Cache and Restart\" will resolve all dependencies.</p>\n"},{"tags":[],"owner":{"account_id":2920379,"reputation":45,"user_id":2502786,"accept_rate":60,"display_name":"nolazem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515146908,"creation_date":1515146908,"answer_id":48111301,"question_id":5905896,"body_markdown":"What helped me to resolve this issue:\r\n\r\nI have had another branch, have switched to that branch and built the project with mvn clean install. Everything was ok, then switched back to the master and build the project again and the errors disappeared. Invalidate caches and restart didn&#39;t help me.","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>What helped me to resolve this issue:</p>\n\n<p>I have had another branch, have switched to that branch and built the project with mvn clean install. Everything was ok, then switched back to the master and build the project again and the errors disappeared. Invalidate caches and restart didn't help me.</p>\n"},{"tags":[],"owner":{"account_id":6258561,"reputation":429,"user_id":4866399,"accept_rate":80,"display_name":"DarkAngeL"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515147261,"creation_date":1515147261,"answer_id":48111403,"question_id":5905896,"body_markdown":"What worked for me was to &quot;Mark as directory source root&quot; the directory in which the red marked class was, after it the red mark disappeared. Seems that for some reason it was unmarked.","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>What worked for me was to \"Mark as directory source root\" the directory in which the red marked class was, after it the red mark disappeared. Seems that for some reason it was unmarked.</p>\n"},{"tags":[],"owner":{"account_id":12858812,"reputation":9,"user_id":9301270,"display_name":"test0101"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1517505801,"creation_date":1517505801,"answer_id":48568439,"question_id":5905896,"body_markdown":"sometimes, when you create package like com.mydomain.something the directory structure **does not get created** and you are **left with a single folder** named\r\n&quot;com.mydomain.something&quot; in this case you should create directory structure, like\r\n\r\n    com\r\n    |_mydomain\r\n      |_something ","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>sometimes, when you create package like com.mydomain.something the directory structure <strong>does not get created</strong> and you are <strong>left with a single folder</strong> named\n\"com.mydomain.something\" in this case you should create directory structure, like</p>\n\n<pre><code>com\n|_mydomain\n  |_something \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1315130,"reputation":5280,"user_id":1262198,"accept_rate":78,"display_name":"Saber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517522028,"creation_date":1517522028,"answer_id":48572352,"question_id":5905896,"body_markdown":"Go to File-&gt;Project Structure -&gt; SDKs and check if your SDK file path is correct.","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>Go to File->Project Structure -> SDKs and check if your SDK file path is correct.</p>\n"},{"tags":[],"owner":{"account_id":1651699,"reputation":312,"user_id":1522163,"accept_rate":33,"display_name":"mastash3ff"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523407815,"creation_date":1523407815,"answer_id":49764816,"question_id":5905896,"body_markdown":"Had trouble importing standard java libraries such as java.beans.*\r\n\r\nFixed it on my Redhat 7 system by pointing it to the correct JRE path.\r\n\r\nFile-&gt;ProjectStructure-&gt;SDKs-&gt;1.8\r\nChanged &#39;JDK home path:&#39; to /usr/lib/jvm/java-1.8.0-openjdk-1.8.0161-2.b14.el7.x86_64 instead of /usr/lib/jvm/java-1.8.0-openjdk-1.8.0161-2.b14.el7_4.x86_64\r\n\r\nThe former path to jdk(with the _4 difference in path) hardly had anything in it.  It was missing many java libraries.","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>Had trouble importing standard java libraries such as java.beans.*</p>\n\n<p>Fixed it on my Redhat 7 system by pointing it to the correct JRE path.</p>\n\n<p>File->ProjectStructure->SDKs->1.8\nChanged 'JDK home path:' to /usr/lib/jvm/java-1.8.0-openjdk-1.8.0161-2.b14.el7.x86_64 instead of /usr/lib/jvm/java-1.8.0-openjdk-1.8.0161-2.b14.el7_4.x86_64</p>\n\n<p>The former path to jdk(with the _4 difference in path) hardly had anything in it.  It was missing many java libraries.</p>\n"},{"tags":[],"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1526581436,"creation_date":1526581436,"answer_id":50398168,"question_id":5905896,"body_markdown":"In my case, I am trying to open a spring boot project from IntellijIdea got the same issue like unable to import all spring related files.\r\n\r\nThen I did:\r\n\r\n&gt; File -&gt; Close Project -&gt; Import Project -&gt; Import from external model -&gt; Choose Gradle -&gt; Next -&gt; Select the project from file location -&gt; Finish\r\n\r\nNow everything working fine as expected.\r\n\r\nI have seen many answers here but I finally found this solution. It may use for someone like me.","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>In my case, I am trying to open a spring boot project from IntellijIdea got the same issue like unable to import all spring related files.</p>\n\n<p>Then I did:</p>\n\n<blockquote>\n  <p>File -> Close Project -> Import Project -> Import from external model -> Choose Gradle -> Next -> Select the project from file location -> Finish</p>\n</blockquote>\n\n<p>Now everything working fine as expected.</p>\n\n<p>I have seen many answers here but I finally found this solution. It may use for someone like me.</p>\n"},{"comments":[{"owner":{"account_id":9786638,"reputation":101,"user_id":7727427,"display_name":"i_love_somebody"},"score":1,"creation_date":1618058509,"post_id":50972314,"comment_id":118490282,"body_markdown":"My local repository points to wrong place. Your answer saved my life!!!!!","body":"My local repository points to wrong place. Your answer saved my life!!!!!"}],"tags":[],"owner":{"account_id":7049112,"reputation":1696,"user_id":5398884,"accept_rate":100,"display_name":"Tim"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1529594957,"creation_date":1529594957,"answer_id":50972314,"question_id":5905896,"body_markdown":"None of the other answeres worked for me. My imports were not being resolved because IntelliJ pointed to wrong .m2 file.\r\n\r\nIntelliJ Version: **IntelliJ Idea 2018.1.5**\r\n\r\nMy location for the **.m2** directory was pointed to the wrong path. All I did to fix it was re-point IntelliJ to the right .m2 directory and update it.\r\n\r\nFirst, go to: **File-&gt;Settings-&gt;Build, Execution, Deployment-&gt;Build Tools-&gt;Maven**\r\n\r\nI had to change the *User settings file:* and the *Local repository:* to the correct location of my .m2 directory.\r\n\r\nAfter this go to: **File-&gt;Settings-&gt;Build, Execution, Deployment-&gt;Build Tools-&gt;Maven-&gt;Repositories**\r\n\r\nand click the Update button.","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>None of the other answeres worked for me. My imports were not being resolved because IntelliJ pointed to wrong .m2 file.</p>\n\n<p>IntelliJ Version: <strong>IntelliJ Idea 2018.1.5</strong></p>\n\n<p>My location for the <strong>.m2</strong> directory was pointed to the wrong path. All I did to fix it was re-point IntelliJ to the right .m2 directory and update it.</p>\n\n<p>First, go to: <strong>File->Settings->Build, Execution, Deployment->Build Tools->Maven</strong></p>\n\n<p>I had to change the <em>User settings file:</em> and the <em>Local repository:</em> to the correct location of my .m2 directory.</p>\n\n<p>After this go to: <strong>File->Settings->Build, Execution, Deployment->Build Tools->Maven->Repositories</strong></p>\n\n<p>and click the Update button.</p>\n"},{"tags":[],"owner":{"account_id":5597519,"reputation":699,"user_id":4592525,"display_name":"Constantin Zagorsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531161856,"creation_date":1531152524,"answer_id":51249826,"question_id":5905896,"body_markdown":"**If all my pom.xml files are configured correctly and I still have issues with Maven in IntelliJ I do the following steps**\r\n \r\n 1. [Read how to use maven in IntelliJ lately][1]\r\n 1. Make sure IntelliJ is configured to use Bundled Maven 3\r\n 2. Find and **TERMINATE** actual java process that is executing Maven 3 repos indexing for IntelliJ(Termination can be done while IntelliJ is running). In case any problems with indices or dependencies not available(thought repositories were configured in pom.xml).\r\n 3. **Forced** Update for all repositories in &quot;IntelliJ / Settings / Build Tools / Maven / Repositories / &quot;. **Takes most of the time, disk space and bandwidth! Took me 20+ minutes to update index for Maven central repo.**\r\n 3. Hit Re-import all Maven project once again from IntelliJ\r\n 6. It is a good practice to do steps 1-4 to leave IntelliJ and its demon java processes running over night, if you have multiple repositories and a complex project, so you have everything in sync for the next day. You can in theory use [all popular indexed repos out there][2] and launch index update for all repos at the same time(I suppose IntelliJ creates a queue and runs updates one after another) then it can take hours to complete(you will need to increase heap space for that too).\r\n\r\nP.S.\r\nI&#39;ve spent hours to understand(step 3) that IntelliJ&#39;s java demon process that handles maven index update was doing something wrong and I simply need to make IntelliJ to start it from scratch. **Problem was solved without even restarting IntelliJ itself.**\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/maven-support.html#maven_dependencies\r\n  [2]: https://mvnrepository.com/repos","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p><strong>If all my pom.xml files are configured correctly and I still have issues with Maven in IntelliJ I do the following steps</strong></p>\n\n<ol>\n<li><a href=\"https://www.jetbrains.com/help/idea/maven-support.html#maven_dependencies\" rel=\"nofollow noreferrer\">Read how to use maven in IntelliJ lately</a></li>\n<li>Make sure IntelliJ is configured to use Bundled Maven 3</li>\n<li>Find and <strong>TERMINATE</strong> actual java process that is executing Maven 3 repos indexing for IntelliJ(Termination can be done while IntelliJ is running). In case any problems with indices or dependencies not available(thought repositories were configured in pom.xml).</li>\n<li><strong>Forced</strong> Update for all repositories in \"IntelliJ / Settings / Build Tools / Maven / Repositories / \". <strong>Takes most of the time, disk space and bandwidth! Took me 20+ minutes to update index for Maven central repo.</strong></li>\n<li>Hit Re-import all Maven project once again from IntelliJ</li>\n<li>It is a good practice to do steps 1-4 to leave IntelliJ and its demon java processes running over night, if you have multiple repositories and a complex project, so you have everything in sync for the next day. You can in theory use <a href=\"https://mvnrepository.com/repos\" rel=\"nofollow noreferrer\">all popular indexed repos out there</a> and launch index update for all repos at the same time(I suppose IntelliJ creates a queue and runs updates one after another) then it can take hours to complete(you will need to increase heap space for that too).</li>\n</ol>\n\n<p>P.S.\nI've spent hours to understand(step 3) that IntelliJ's java demon process that handles maven index update was doing something wrong and I simply need to make IntelliJ to start it from scratch. <strong>Problem was solved without even restarting IntelliJ itself.</strong></p>\n"},{"tags":[],"owner":{"account_id":6231375,"reputation":385,"user_id":4848057,"accept_rate":55,"display_name":"Aakash Parashar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534144067,"creation_date":1534144067,"answer_id":51816854,"question_id":5905896,"body_markdown":"For MAVEN,\r\n\r\nI tried all of the above methods, but couldn&#39;t find the solution, \r\n\r\nSo below are the steps I tried(A mix of some solutions),\r\n\r\n 1. mvn clean\r\n\r\n 3. mvn idea:clean\r\n 4. Invalidate cache and restart\r\n 5. Remove all the extra .iml files you see in the project structure.\r\n 6. At the root directory of your project, run mvn idea:idea and mvn clean install, to reimport all the dependencies of your maven project.\r\n\r\n(Make sure you don&#39;t have extra .iml files other than the project/subprojects .iml files)","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>For MAVEN,</p>\n\n<p>I tried all of the above methods, but couldn't find the solution, </p>\n\n<p>So below are the steps I tried(A mix of some solutions),</p>\n\n<ol>\n<li><p>mvn clean</p></li>\n<li><p>mvn idea:clean</p></li>\n<li>Invalidate cache and restart</li>\n<li>Remove all the extra .iml files you see in the project structure.</li>\n<li>At the root directory of your project, run mvn idea:idea and mvn clean install, to reimport all the dependencies of your maven project.</li>\n</ol>\n\n<p>(Make sure you don't have extra .iml files other than the project/subprojects .iml files)</p>\n"},{"comments":[{"owner":{"account_id":5652565,"reputation":63,"user_id":4472621,"display_name":"ZigZag"},"score":0,"creation_date":1682940974,"post_id":52420896,"comment_id":134286978,"body_markdown":"Finally this worked for me.","body":"Finally this worked for me."}],"tags":[],"owner":{"account_id":1021562,"reputation":26350,"user_id":1031769,"accept_rate":78,"display_name":"Searene"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1538898264,"creation_date":1537432716,"answer_id":52420896,"question_id":5905896,"body_markdown":"If your maven project is a multi-module project, check if some of the modules are ignored by intellij.\r\n\r\n1. Click on View -&gt; Tool Windows -&gt; Maven Projects, and check if some modules are ignored(Ignored modules are in grey, e.g. `gs-multi-module` in the following image).\r\n\r\n[![enter image description here][1]][1]\r\n\r\n2. Right click on the ignored module and choose `Unignore Projects`.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThen wait for intellij to finish indexing, after which it will work.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bgaro.png\r\n  [2]: https://i.stack.imgur.com/HhBEC.png","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>If your maven project is a multi-module project, check if some of the modules are ignored by intellij.</p>\n\n<ol>\n<li>Click on View -> Tool Windows -> Maven Projects, and check if some modules are ignored(Ignored modules are in grey, e.g. <code>gs-multi-module</code> in the following image).</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/bgaro.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bgaro.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"2\">\n<li>Right click on the ignored module and choose <code>Unignore Projects</code>.</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/HhBEC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HhBEC.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then wait for intellij to finish indexing, after which it will work.</p>\n"},{"tags":[],"owner":{"account_id":4490687,"reputation":124,"user_id":3651854,"accept_rate":50,"display_name":"user3651854"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537721475,"creation_date":1537721475,"answer_id":52468274,"question_id":5905896,"body_markdown":"[![check  import Maven projects automatically, fixed my issue][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cC25T.png\r\n\r\ncheck import Maven projects automatically, fixed my issue. I spent two hours figuring out where I am doing wrong. Finally was able to fix it.","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p><a href=\"https://i.stack.imgur.com/cC25T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cC25T.png\" alt=\"check  import Maven projects automatically, fixed my issue\"></a></p>\n\n<p>check import Maven projects automatically, fixed my issue. I spent two hours figuring out where I am doing wrong. Finally was able to fix it.</p>\n"},{"tags":[],"owner":{"account_id":3461870,"reputation":16885,"user_id":2898715,"accept_rate":92,"display_name":"Eric"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1555629594,"creation_date":1553615393,"answer_id":55361270,"question_id":5905896,"body_markdown":"For Gradle projects:\r\n\r\n1. Exit **IntelliJ IDEA**\r\n1. Delete the `&lt;problematic-project-root&gt;/.idea` directory\r\n1. Delete the `&lt;problematic-project-root&gt;/.gradle` directory\r\n1. Delete all `.iml` files in `&lt;problematic-project-root&gt;`\r\n    * windows **command prompt**: `DEL /S /Q *.iml`\r\n    * linux: `find . | grep -e .iml$ | xargs rm`\r\n1. Re-import the project into **IntelliJ IDEA** with **Gradle**","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>For Gradle projects:</p>\n\n<ol>\n<li>Exit <strong>IntelliJ IDEA</strong></li>\n<li>Delete the <code>&lt;problematic-project-root&gt;/.idea</code> directory</li>\n<li>Delete the <code>&lt;problematic-project-root&gt;/.gradle</code> directory</li>\n<li>Delete all <code>.iml</code> files in <code>&lt;problematic-project-root&gt;</code>\n\n<ul>\n<li>windows <strong>command prompt</strong>: <code>DEL /S /Q *.iml</code></li>\n<li>linux: <code>find . | grep -e .iml$ | xargs rm</code></li>\n</ul></li>\n<li>Re-import the project into <strong>IntelliJ IDEA</strong> with <strong>Gradle</strong></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6473840,"reputation":157,"user_id":5013117,"display_name":"Richard Vu"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1558656598,"creation_date":1558656598,"answer_id":56284327,"question_id":5905896,"body_markdown":"The number one suggestion of Invalidate Caches/Restart... did not work for me nor did any of the other solutions. It ended up being that my maven repos were incorrectly set up, I fixed this by manually overriding the settings.xml and repository directory:\r\n\r\n**File** -&gt; **Settings**... -&gt; **Build, Execution, Deployment** -&gt; **Build Tools** -&gt; **Maven**\r\n\r\nThen for **User settings file** and **Local repository**, check the **Override** and point it to the correct settings.xml and repository directory. ","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>The number one suggestion of Invalidate Caches/Restart... did not work for me nor did any of the other solutions. It ended up being that my maven repos were incorrectly set up, I fixed this by manually overriding the settings.xml and repository directory:</p>\n\n<p><strong>File</strong> -> <strong>Settings</strong>... -> <strong>Build, Execution, Deployment</strong> -> <strong>Build Tools</strong> -> <strong>Maven</strong></p>\n\n<p>Then for <strong>User settings file</strong> and <strong>Local repository</strong>, check the <strong>Override</strong> and point it to the correct settings.xml and repository directory. </p>\n"},{"tags":[],"owner":{"account_id":4959911,"reputation":1208,"user_id":3991418,"accept_rate":100,"display_name":"Piacenti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558717786,"creation_date":1558717786,"answer_id":56296930,"question_id":5905896,"body_markdown":"This seems to happen to me mostly when the dependency jar is also a Fat Jar. Fortunately I had control over the building of the Fat Jar, after making it a non Fat Jar then things just worked. None of the other fixes on any of the answers or comments here worked for me. Also probably noteworthy is that my code was in Kotlin and the Fat Jar was bundling some Kotlin dependencies as well. ","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>This seems to happen to me mostly when the dependency jar is also a Fat Jar. Fortunately I had control over the building of the Fat Jar, after making it a non Fat Jar then things just worked. None of the other fixes on any of the answers or comments here worked for me. Also probably noteworthy is that my code was in Kotlin and the Fat Jar was bundling some Kotlin dependencies as well. </p>\n"},{"tags":[],"owner":{"account_id":9496665,"reputation":113,"user_id":7059424,"display_name":"Pookly"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578279230,"creation_date":1578279230,"answer_id":59606147,"question_id":5905896,"body_markdown":"verify successfully. my idea version is 2019.2\r\n\r\nQuick fix:\r\n1.use maven install you dependent module,then reimport all module\r\n2.compile current module,if still not found,close your all idea window,restart idea.\r\n","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>verify successfully. my idea version is 2019.2</p>\n\n<p>Quick fix:\n1.use maven install you dependent module,then reimport all module\n2.compile current module,if still not found,close your all idea window,restart idea.</p>\n"},{"tags":[],"owner":{"account_id":9120099,"reputation":1104,"user_id":6785808,"display_name":"zhao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615481716,"creation_date":1587719410,"answer_id":61404873,"question_id":5905896,"body_markdown":"1. Find out the package in your pom file which can not find. \r\n2. Then delete them from your local repository.\r\n\r\nMy project faced the same problem because one of the jars in the pom couldn&#39;t load properly.","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<ol>\n<li>Find out the package in your pom file which can not find.</li>\n<li>Then delete them from your local repository.</li>\n</ol>\n<p>My project faced the same problem because one of the jars in the pom couldn't load properly.</p>\n"},{"tags":[],"owner":{"account_id":2629442,"reputation":487,"user_id":2275783,"display_name":"Guillaume"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591281409,"creation_date":1591281409,"answer_id":62197330,"question_id":5905896,"body_markdown":"I tested all the solutions above and finally decided to empty my Maven repository manually (I actually deleted the `.m2` folder on linux). It did the trick.","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>I tested all the solutions above and finally decided to empty my Maven repository manually (I actually deleted the <code>.m2</code> folder on linux). It did the trick.</p>\n"},{"comments":[{"owner":{"account_id":1021562,"reputation":26350,"user_id":1031769,"accept_rate":78,"display_name":"Searene"},"score":4,"creation_date":1604633714,"post_id":62307876,"comment_id":114413124,"body_markdown":"Now it&#39;s called &quot;Reload All Maven Projects&quot;.","body":"Now it&#39;s called &quot;Reload All Maven Projects&quot;."}],"tags":[],"owner":{"account_id":455437,"reputation":557,"user_id":853598,"accept_rate":50,"display_name":"Chirag Visavadiya"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1591804640,"creation_date":1591804640,"answer_id":62307876,"question_id":5905896,"body_markdown":"Press &quot;shift&quot; two times &gt; &quot;Reimport All Maven projects&quot; always works for me.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DI0ki.png","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>Press \"shift\" two times > \"Reimport All Maven projects\" always works for me.</p>\n\n<p><a href=\"https://i.stack.imgur.com/DI0ki.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/DI0ki.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4724325,"reputation":2979,"user_id":3821425,"accept_rate":56,"display_name":"nanotek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592491616,"creation_date":1592491616,"answer_id":62452722,"question_id":5905896,"body_markdown":"Previous answers didn&#39;t work for me. Switched from version `2020.1` to `2018.2` and things seem fine.","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>Previous answers didn't work for me. Switched from version <code>2020.1</code> to <code>2018.2</code> and things seem fine.</p>\n"},{"tags":[],"owner":{"account_id":4435037,"reputation":985,"user_id":3611104,"display_name":"Ankit Marothi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1595401536,"creation_date":1595401536,"answer_id":63028655,"question_id":5905896,"body_markdown":"I tried invalidating cache, it didnt work for me. \r\n\r\nHowever, I tried removing the jdk from Platform Settings and added it back and it worked. \r\n\r\nHere&#39;s how to do it. \r\n\r\n    Project Settings -&gt; SDKs -&gt; Select the SDK -&gt; Remove (-) -&gt; Add it back again (+)","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>I tried invalidating cache, it didnt work for me.</p>\n<p>However, I tried removing the jdk from Platform Settings and added it back and it worked.</p>\n<p>Here's how to do it.</p>\n<pre><code>Project Settings -&gt; SDKs -&gt; Select the SDK -&gt; Remove (-) -&gt; Add it back again (+)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13290852,"reputation":89,"user_id":9595369,"display_name":"Deniz Husaj"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1599123372,"creation_date":1599123372,"answer_id":63720189,"question_id":5905896,"body_markdown":"In my case, my project was using [Lombok][1] and I was missing the Lombok Plugin in IntelliJ. After installing it everything worked fine.\r\n\r\n  [1]: https://projectlombok.org/","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>In my case, my project was using <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">Lombok</a> and I was missing the Lombok Plugin in IntelliJ. After installing it everything worked fine.</p>\n"},{"comments":[{"owner":{"account_id":133310,"reputation":6104,"user_id":334569,"accept_rate":73,"display_name":"Marco Lackovic"},"score":3,"creation_date":1608281431,"post_id":64481165,"comment_id":115540548,"body_markdown":"@Deniz Husaj already wrote the same answer one month and half before yours.","body":"@Deniz Husaj already wrote the same answer one month and half before yours."}],"tags":[],"owner":{"account_id":558770,"reputation":16438,"user_id":755804,"accept_rate":20,"display_name":"18446744073709551615"},"comment_count":1,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1603365671,"creation_date":1603365671,"answer_id":64481165,"question_id":5905896,"body_markdown":"In my case, **a colleague added Lombok** to the project, and I had to install the Idea Lombok plug-in. In your case, it may be something else that requires a plug-in.","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>In my case, <strong>a colleague added Lombok</strong> to the project, and I had to install the Idea Lombok plug-in. In your case, it may be something else that requires a plug-in.</p>\n"},{"tags":[],"owner":{"account_id":133310,"reputation":6104,"user_id":334569,"accept_rate":73,"display_name":"Marco Lackovic"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1608282148,"creation_date":1608282148,"answer_id":65354189,"question_id":5905896,"body_markdown":"In IntelliJ IDEA `2020.3`, select:\r\n\r\n1. *File* &gt; *Invalidate Caches / Restart...* &gt; *Invalidate and Restart*\r\n\r\n2. When prompted with *Download pre-built shared indexes*:\r\n\r\n   [![enter image description here][1]][1]\r\n\r\n   don&#39;t import the shared indexes: close the dialog or choose *More actions* &gt; *Don&#39;t show again*\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5AKNq.png","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>In IntelliJ IDEA <code>2020.3</code>, select:</p>\n<ol>\n<li><p><em>File</em> &gt; <em>Invalidate Caches / Restart...</em> &gt; <em>Invalidate and Restart</em></p>\n</li>\n<li><p>When prompted with <em>Download pre-built shared indexes</em>:</p>\n<p><a href=\"https://i.stack.imgur.com/5AKNq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5AKNq.png\" alt=\"enter image description here\" /></a></p>\n<p>don't import the shared indexes: close the dialog or choose <em>More actions</em> &gt; <em>Don't show again</em></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9523771,"reputation":179,"user_id":7077688,"display_name":"An_Bk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610199248,"creation_date":1610199248,"answer_id":65643268,"question_id":5905896,"body_markdown":"For **Ivy** users and and **IntelliJIdea2020.xx**\r\n\r\nIf nothing helps for the already answered,&lt;br/&gt;\r\nClose IntelliJ and delete completely the folder: &lt;br/&gt;\r\nC:\\Users\\\\**{username}**\\AppData\\\\**Local**\\JetBrains\\\\**IntelliJIdea2020.xx**&lt;br/&gt;\r\nRestart IntelliJ project and it should resolve the previous not correctly loaded dependencies.\r\n\r\n","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>For <strong>Ivy</strong> users and and <strong>IntelliJIdea2020.xx</strong></p>\n<p>If nothing helps for the already answered,<br/>\nClose IntelliJ and delete completely the folder: <br/>\nC:\\Users\\<strong>{username}</strong>\\AppData\\<strong>Local</strong>\\JetBrains\\<strong>IntelliJIdea2020.xx</strong><br/>\nRestart IntelliJ project and it should resolve the previous not correctly loaded dependencies.</p>\n"},{"comments":[{"owner":{"account_id":423485,"reputation":1958,"user_id":802910,"accept_rate":67,"display_name":"felix021"},"score":0,"creation_date":1643136566,"post_id":66167190,"comment_id":125258606,"body_markdown":"thanks for your solution","body":"thanks for your solution"},{"owner":{"account_id":423485,"reputation":1958,"user_id":802910,"accept_rate":67,"display_name":"felix021"},"score":0,"creation_date":1643137000,"post_id":66167190,"comment_id":125258778,"body_markdown":"one can also try File -&gt; Invalidate Caches, seems to be the same thing.","body":"one can also try File -&gt; Invalidate Caches, seems to be the same thing."},{"owner":{"account_id":15013,"reputation":4094,"user_id":31299,"accept_rate":59,"display_name":"Josh"},"score":0,"creation_date":1643137074,"post_id":66167190,"comment_id":125258813,"body_markdown":"Yeah it didn&#39;t work for me after repeated attempts which is why I went looking for the folder it was trying to clear","body":"Yeah it didn&#39;t work for me after repeated attempts which is why I went looking for the folder it was trying to clear"}],"tags":[],"owner":{"account_id":15013,"reputation":4094,"user_id":31299,"accept_rate":59,"display_name":"Josh"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1613110760,"creation_date":1613110760,"answer_id":66167190,"question_id":5905896,"body_markdown":"I&#39;m jealous of all of you who resolved through File / Invalidate caches. I just spent hours trying everything on this question and a few others from around the web.\r\n\r\nThe magic menu item didn&#39;t do it for me so I invalidated the caches myself by nuking `%USERPROFILE%\\AppData\\Local\\JetBrains\\IntelliJIdea2020.3\\caches`\r\n\r\nOnce I did this and restarted IntelliJ (2020.3), the indexes were rebuilt and my errors went away.\r\n\r\n","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>I'm jealous of all of you who resolved through File / Invalidate caches. I just spent hours trying everything on this question and a few others from around the web.</p>\n<p>The magic menu item didn't do it for me so I invalidated the caches myself by nuking <code>%USERPROFILE%\\AppData\\Local\\JetBrains\\IntelliJIdea2020.3\\caches</code></p>\n<p>Once I did this and restarted IntelliJ (2020.3), the indexes were rebuilt and my errors went away.</p>\n"},{"comments":[{"owner":{"account_id":17570035,"reputation":723,"user_id":12745913,"display_name":"TrevorDeTutor"},"score":1,"creation_date":1618204985,"post_id":66692914,"comment_id":118521674,"body_markdown":"Same here, had to switch back to JDK **1.8.0_252**","body":"Same here, had to switch back to JDK <b>1.8.0_252</b>"},{"owner":{"account_id":4920334,"reputation":211,"user_id":3963056,"display_name":"Aditya Goel"},"score":0,"creation_date":1642831671,"post_id":66692914,"comment_id":125181974,"body_markdown":"Solved the problem for me too.","body":"Solved the problem for me too."}],"tags":[],"owner":{"account_id":9412458,"reputation":697,"user_id":7001067,"display_name":"Hourglasser"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1616076932,"creation_date":1616076932,"answer_id":66692914,"question_id":5905896,"body_markdown":"I had problem with Maven Importer JDK - somehow it switched itself to JDK 11, but Maven Project reload worked only with JDK 8. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/m4AI6.png","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>I had problem with Maven Importer JDK - somehow it switched itself to JDK 11, but Maven Project reload worked only with JDK 8.</p>\n<p><a href=\"https://i.stack.imgur.com/m4AI6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/m4AI6.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":8194909,"reputation":159,"user_id":6168100,"display_name":"Razin Bashar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646688044,"creation_date":1646688044,"answer_id":71387400,"question_id":5905896,"body_markdown":"I faced a similar kind of problem while using lib build with Kotlin. I included the library through gradle.\r\nIntellij was able to run my application but not to resolve some classes and its method. \r\nThen I realized that the Kotlin plugin version in my Intellij is outdated and is lower than the Kotlin version that build the library. So I updated the Kotlin plugin from \r\n`File--&gt; Settings--&gt;Languages &amp; Frameworks--&gt;Kotlin` and it resolved the problem.\r\n\r\nI tried `File | Invalidate Caches`, deleting the .idea folder, cache folder, reimporting the project. But nothing worked.\r\n\r\nSo updating the corresponding plugin can be helpful.","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>I faced a similar kind of problem while using lib build with Kotlin. I included the library through gradle.\nIntellij was able to run my application but not to resolve some classes and its method.\nThen I realized that the Kotlin plugin version in my Intellij is outdated and is lower than the Kotlin version that build the library. So I updated the Kotlin plugin from\n<code>File--&gt; Settings--&gt;Languages &amp; Frameworks--&gt;Kotlin</code> and it resolved the problem.</p>\n<p>I tried <code>File | Invalidate Caches</code>, deleting the .idea folder, cache folder, reimporting the project. But nothing worked.</p>\n<p>So updating the corresponding plugin can be helpful.</p>\n"},{"comments":[{"owner":{"account_id":14390047,"reputation":815,"user_id":10394849,"display_name":"Omar El Hussein"},"score":0,"creation_date":1701607759,"post_id":71876351,"comment_id":136794459,"body_markdown":"I did not see the &quot;Repair IDE&quot; option before, but it fixed my issue when I tried it out. I did not need to do any further steps. Many thanks!","body":"I did not see the &quot;Repair IDE&quot; option before, but it fixed my issue when I tried it out. I did not need to do any further steps. Many thanks!"}],"tags":[],"owner":{"account_id":1386556,"reputation":7199,"user_id":1318479,"accept_rate":88,"display_name":"cb4"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1676041949,"creation_date":1649962172,"answer_id":71876351,"question_id":5905896,"body_markdown":"**Update 2022**\r\n\r\nIntelliJ 2022.1 has an interactive, step-by-step process `File -&gt; Repair IDE`. It leads you through 5 steps in sequence to try and resolve this problem for the current project before invalidating the caches for all projects. [From the IDEA documentation][1]:\r\n\r\n 1. Refresh Project Indexes\r\n 2. Rescan Project Indexes\r\n 3. Reopen Project\r\n 4. Drop Shared Indexes\r\n 5. Reindex Project\r\n 6. Invalidate Caches and Restart\r\n\r\n Steps 1- 3 fixed it for my project.\r\n\r\nIn v2022.3 and the new UI, this setting is now in `File -&gt; Cache Recovery -&gt; Repair IDE`. You can also select an individual step from there.\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/2022.1/repair-ide.html","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p><strong>Update 2022</strong></p>\n<p>IntelliJ 2022.1 has an interactive, step-by-step process <code>File -&gt; Repair IDE</code>. It leads you through 5 steps in sequence to try and resolve this problem for the current project before invalidating the caches for all projects. <a href=\"https://www.jetbrains.com/help/idea/2022.1/repair-ide.html\" rel=\"nofollow noreferrer\">From the IDEA documentation</a>:</p>\n<ol>\n<li>Refresh Project Indexes</li>\n<li>Rescan Project Indexes</li>\n<li>Reopen Project</li>\n<li>Drop Shared Indexes</li>\n<li>Reindex Project</li>\n<li>Invalidate Caches and Restart</li>\n</ol>\n<p>Steps 1- 3 fixed it for my project.</p>\n<p>In v2022.3 and the new UI, this setting is now in <code>File -&gt; Cache Recovery -&gt; Repair IDE</code>. You can also select an individual step from there.</p>\n"},{"tags":[],"owner":{"account_id":17672447,"reputation":2105,"user_id":12828249,"display_name":"Morez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650187837,"creation_date":1650187837,"answer_id":71900760,"question_id":5905896,"body_markdown":"I had a problem where IntelliJ coudn&#39;t resolve classes like String or List and even java. The issue was no SDK was used for the project and going into File&gt; Project Structure &gt; Project &gt; SDK and setting the appropriate SDK and clicking on apply fixed it for me\r\n","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>I had a problem where IntelliJ coudn't resolve classes like String or List and even java. The issue was no SDK was used for the project and going into File&gt; Project Structure &gt; Project &gt; SDK and setting the appropriate SDK and clicking on apply fixed it for me</p>\n"},{"tags":[],"owner":{"account_id":2992157,"reputation":97,"user_id":2539512,"display_name":"Joaquim Perez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650896061,"creation_date":1650896061,"answer_id":72000985,"question_id":5905896,"body_markdown":"I used to have 2020.1 community. And I fixed the issue installing 2020.3 ultimate.\r\n\r\nThis seems to happen to me with a Kotlin library.\r\n\r\nNone of the other fixes on any of the answers or comments here worked for me.\r\n","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>I used to have 2020.1 community. And I fixed the issue installing 2020.3 ultimate.</p>\n<p>This seems to happen to me with a Kotlin library.</p>\n<p>None of the other fixes on any of the answers or comments here worked for me.</p>\n"},{"tags":[],"owner":{"account_id":2056089,"reputation":10271,"user_id":3457177,"accept_rate":78,"display_name":"Vitalii"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1652349667,"creation_date":1652349667,"answer_id":72213586,"question_id":5905896,"body_markdown":"`Invalidate caches &amp; Restart` in Intellij worked for me but after restart I need to wait for reindexing everything. For my project it takes for more that 10 minutes. \r\n\r\nI&#39;ve discovered that it wasn&#39;t rare to have the problem gone after a simple restart without cache invalidation. Not always but it helps quite often. ","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p><code>Invalidate caches &amp; Restart</code> in Intellij worked for me but after restart I need to wait for reindexing everything. For my project it takes for more that 10 minutes.</p>\n<p>I've discovered that it wasn't rare to have the problem gone after a simple restart without cache invalidation. Not always but it helps quite often.</p>\n"},{"tags":[],"owner":{"account_id":17049867,"reputation":2224,"user_id":12335762,"display_name":"Jasperan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652814380,"creation_date":1652814380,"answer_id":72279439,"question_id":5905896,"body_markdown":"For a simple solution, I simply just deleted my version of IntelliJ (and all related files) and reinstalled it. After reimporting the project these errors were gone.","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>For a simple solution, I simply just deleted my version of IntelliJ (and all related files) and reinstalled it. After reimporting the project these errors were gone.</p>\n"},{"tags":[],"owner":{"account_id":10168990,"reputation":603,"user_id":7509887,"display_name":"Amit Nayak"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1672897139,"creation_date":1672897139,"answer_id":75014261,"question_id":5905896,"body_markdown":"I tried \r\n\r\n    File -&gt;  Invalidate and Restart\r\n\r\nwhich did not worked for me.\r\n\r\nSolution that really worked :\r\n\r\n    Project Structure -&gt; Modules -&gt; select target folder -&gt; Right click generated-sources and select sources -&gt; Apply -&gt; ok\r\n\r\n[![snapshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2R607.png","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>I tried</p>\n<pre><code>File -&gt;  Invalidate and Restart\n</code></pre>\n<p>which did not worked for me.</p>\n<p>Solution that really worked :</p>\n<pre><code>Project Structure -&gt; Modules -&gt; select target folder -&gt; Right click generated-sources and select sources -&gt; Apply -&gt; ok\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/2R607.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2R607.png\" alt=\"snapshot\" /></a></p>\n"},{"tags":[],"owner":{"account_id":19034747,"reputation":74,"user_id":13896058,"display_name":"PhongPhamIUH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694450195,"creation_date":1694450195,"answer_id":77083376,"question_id":5905896,"body_markdown":"Check dependency has `&lt;scope&gt;runtime&lt;/scope&gt; `\r\nif exist then you remove it \r\n","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>Check dependency has <code>&lt;scope&gt;runtime&lt;/scope&gt; </code>\nif exist then you remove it</p>\n"}],"owner":{"account_id":384409,"reputation":8069,"user_id":740904,"accept_rate":75,"display_name":"Kevin Sitze"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":790184,"favorite_count":0,"down_vote_count":0,"up_vote_count":765,"accepted_answer_id":5905931,"answer_count":64,"score":765,"last_activity_date":1694450195,"creation_date":1304645048,"question_id":5905896,"body_markdown":"Platform: IntelliJ Community Edition 10.0.3  \r\nSDK: jdk1.6.0_21  \r\nOS: Windows 7\r\n\r\nSo I have a strange situation with IntelliJ that has me completely stumped.  I setup a Maven project and add log4j as a dependency in the pom.xml file.  The IDEA inspections run fine and my unit tests all compile and run.\r\n\r\nI then added hunnysoft&#39;s jmime library to my local maven repository using the mvn install:install-file as follows.\r\n\r\n    mvn install:install-file -Dfile=jmime.jar -DgroupId=jmime \\\r\n    -DartifactId=jmime -Dversion=3.1.1e -Dpackaging=jar\r\n\r\nMaven installed the jar file just fine into my local repository.\r\n\r\nI then went into IntelliJ&#39;s Settings =&gt; Maven =&gt; Repository Services and Updated my local repository (so that IntelliJ would reindex the repository contents).\r\n\r\nFinally, I added the following dependency to my pom.xml file (just above the log4j dependency).\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jmime&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jmime&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.1e&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI now create a new class as follows:\r\n\r\n    package com.stackoverflow.question;\r\n\r\n    import org.apache.log4j.Logger;\r\n    import com.hunnysoft.jmime.ByteString;\r\n    import com.hunnysoft.jmime.Field;\r\n    import com.hunnysoft.jmime.FieldBody;\r\n\r\n    public class StackOverflowQuestion {\r\n        public Field create(String name, String text) {\r\n            Logger.getLogger(getClass()).debug(&quot;create entered&quot;);\r\n            FieldBody body = new FieldBody();\r\n            body.setText(new ByteString(text));\r\n            Field field = new Field();\r\n            field.setFieldName(name);\r\n            field.setFieldBody(body);\r\n            return field;\r\n        }\r\n    }\r\n\r\nNow for the weirdness.  IntelliJ&#39;s intention mechanism picks up and recognizes the Logger import in the maven pom file just fine.  However, for all of the hunnysoft imports it reports: &quot;Cannot resolve symbol &#39;ByteString/Field/FieldBody&#39;&quot;, _BUT_ Build =&gt; Compile &#39;StackOverflowQuestion.java&#39; compiles everything correctly and the unit test I created for this class runs fine (though the intentions mark the call to create() as a problem area too).\r\n\r\nSo somewhere, somehow IntelliJ is ignoring the jmime.jar file for the intention subsystem.  I&#39;m confused because the log4j dependency works fine and everything compiles and runs fine.  F12 (&quot;Go To Declaration&quot;) works on the Logger import, but breaks on all the jmime imports.\r\n\r\nOh, one other thing, if I go to the &#39;Packages&#39; view in the &quot;Projects&quot; window the &quot;com.hunnysoft.jmime&quot; package appears and I can see ALL of the classes I imported in the code snippet above under &quot;Libraries&quot;.  Removing the above dependency from the pom.xml file causes this package to disappear and the compilation breaks.\r\n\r\nIt appears that the inspection&#39;s classpath is broken, but there does not seem to be a setting for this anywhere in the Settings =&gt; Intentions | Compiler areas (not that I expected any such settings, I believe the IDEA should already know the correct classpath based on the pom file and JDK).\r\n\r\nAs a final experiment I created a brand new standard J2SE application project (without using maven) and added the jmime.jar file directly to the project as one of its libraries.  I run into exactly the same problems as described above in this new project.\r\n\r\nHere is the MANIFEST.MF from the jmime jar file.\r\n\r\n    Manifest-Version: 1.0\r\n    Ant-Version: Apache Ant 1.5.4\r\n    Created-By: 10.0-b23 (Sun Microsystems Inc.)\r\n\r\n    Name: com/hunnysoft/jmime/\r\n    Sealed: true\r\n    Specification-Title: Hunny JMIME\r\n    Specification-Version: 3.1.1\r\n    Specification-Vendor: Hunny Software, Inc.\r\n    Implementation-Title: com.hunnysoft.jmime\r\n    Implementation-Version: 3.1.1E\r\n    Implementation-Vendor: Hunny Software, Inc.\r\n\r\nI don&#39;t see anything unusual in this jar file.\r\n\r\nMy best guess is that perhaps the problem might be a missing dependency issue.  But AFAIK jmime is supposed to be self contained (JarAnalyzer doesn&#39;t come up with anything, but I&#39;m not sure it would if a dependency jar is missing).\r\n\r\nSo, anyone have any IDEAs?\r\n","title":"IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code","body":"<p>Platform: IntelliJ Community Edition 10.0.3<br>\nSDK: jdk1.6.0_21<br>\nOS: Windows 7</p>\n\n<p>So I have a strange situation with IntelliJ that has me completely stumped.  I setup a Maven project and add log4j as a dependency in the pom.xml file.  The IDEA inspections run fine and my unit tests all compile and run.</p>\n\n<p>I then added hunnysoft's jmime library to my local maven repository using the mvn install:install-file as follows.</p>\n\n<pre><code>mvn install:install-file -Dfile=jmime.jar -DgroupId=jmime \\\n-DartifactId=jmime -Dversion=3.1.1e -Dpackaging=jar\n</code></pre>\n\n<p>Maven installed the jar file just fine into my local repository.</p>\n\n<p>I then went into IntelliJ's Settings => Maven => Repository Services and Updated my local repository (so that IntelliJ would reindex the repository contents).</p>\n\n<p>Finally, I added the following dependency to my pom.xml file (just above the log4j dependency).</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jmime&lt;/groupId&gt;\n    &lt;artifactId&gt;jmime&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1e&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I now create a new class as follows:</p>\n\n<pre><code>package com.stackoverflow.question;\n\nimport org.apache.log4j.Logger;\nimport com.hunnysoft.jmime.ByteString;\nimport com.hunnysoft.jmime.Field;\nimport com.hunnysoft.jmime.FieldBody;\n\npublic class StackOverflowQuestion {\n    public Field create(String name, String text) {\n        Logger.getLogger(getClass()).debug(\"create entered\");\n        FieldBody body = new FieldBody();\n        body.setText(new ByteString(text));\n        Field field = new Field();\n        field.setFieldName(name);\n        field.setFieldBody(body);\n        return field;\n    }\n}\n</code></pre>\n\n<p>Now for the weirdness.  IntelliJ's intention mechanism picks up and recognizes the Logger import in the maven pom file just fine.  However, for all of the hunnysoft imports it reports: \"Cannot resolve symbol 'ByteString/Field/FieldBody'\", <em>BUT</em> Build => Compile 'StackOverflowQuestion.java' compiles everything correctly and the unit test I created for this class runs fine (though the intentions mark the call to create() as a problem area too).</p>\n\n<p>So somewhere, somehow IntelliJ is ignoring the jmime.jar file for the intention subsystem.  I'm confused because the log4j dependency works fine and everything compiles and runs fine.  F12 (\"Go To Declaration\") works on the Logger import, but breaks on all the jmime imports.</p>\n\n<p>Oh, one other thing, if I go to the 'Packages' view in the \"Projects\" window the \"com.hunnysoft.jmime\" package appears and I can see ALL of the classes I imported in the code snippet above under \"Libraries\".  Removing the above dependency from the pom.xml file causes this package to disappear and the compilation breaks.</p>\n\n<p>It appears that the inspection's classpath is broken, but there does not seem to be a setting for this anywhere in the Settings => Intentions | Compiler areas (not that I expected any such settings, I believe the IDEA should already know the correct classpath based on the pom file and JDK).</p>\n\n<p>As a final experiment I created a brand new standard J2SE application project (without using maven) and added the jmime.jar file directly to the project as one of its libraries.  I run into exactly the same problems as described above in this new project.</p>\n\n<p>Here is the MANIFEST.MF from the jmime jar file.</p>\n\n<pre><code>Manifest-Version: 1.0\nAnt-Version: Apache Ant 1.5.4\nCreated-By: 10.0-b23 (Sun Microsystems Inc.)\n\nName: com/hunnysoft/jmime/\nSealed: true\nSpecification-Title: Hunny JMIME\nSpecification-Version: 3.1.1\nSpecification-Vendor: Hunny Software, Inc.\nImplementation-Title: com.hunnysoft.jmime\nImplementation-Version: 3.1.1E\nImplementation-Vendor: Hunny Software, Inc.\n</code></pre>\n\n<p>I don't see anything unusual in this jar file.</p>\n\n<p>My best guess is that perhaps the problem might be a missing dependency issue.  But AFAIK jmime is supposed to be self contained (JarAnalyzer doesn't come up with anything, but I'm not sure it would if a dependency jar is missing).</p>\n\n<p>So, anyone have any IDEAs?</p>\n"},{"tags":["java","unity-game-engine","facebook-unity-sdk"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1694502272,"post_id":77083371,"comment_id":135895294,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":29416318,"reputation":1,"user_id":22539081,"display_name":"M e ɦ d i"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694450128,"creation_date":1694450128,"question_id":77083371,"body_markdown":"Why unity need JDK 1.8.0 &amp; SDK &amp; NDK 19, But When i Install JDK 1.8.0 &amp; sdk 26 with platform &amp; build tools it doesn&#39;t support?\r\n\r\n\r\nI add unity.exe to unity hub using locate..\r\n\r\nShould i install unity from unity hub?\r\n Also when i want to install it from hub there is no open jdk.\r\nMy hub version is 2.3","title":"Unity 2019.3.6f1 doesn&#39;t support android sdk 26 and jdk 1.8.0.131","body":"<p>Why unity need JDK 1.8.0 &amp; SDK &amp; NDK 19, But When i Install JDK 1.8.0 &amp; sdk 26 with platform &amp; build tools it doesn't support?</p>\n<p>I add unity.exe to unity hub using locate..</p>\n<p>Should i install unity from unity hub?\nAlso when i want to install it from hub there is no open jdk.\nMy hub version is 2.3</p>\n"},{"tags":["java","docker","gradle"],"comments":[{"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"score":0,"creation_date":1664636514,"post_id":73919114,"comment_id":130519382,"body_markdown":"Did you run this app before try with docker?","body":"Did you run this app before try with docker?"},{"owner":{"account_id":16424812,"reputation":211,"user_id":11865168,"display_name":"pyQueen"},"score":0,"creation_date":1664636957,"post_id":73919114,"comment_id":130519472,"body_markdown":"@YJR Yes, with IntelliJ.","body":"@YJR Yes, with IntelliJ."},{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":1,"creation_date":1664639625,"post_id":73919114,"comment_id":130520057,"body_markdown":"What happens if you build your project and directly try to run the jar using `java -jar &lt;jar_name&gt;`?","body":"What happens if you build your project and directly try to run the jar using <code>java -jar &lt;jar_name&gt;</code>?"},{"owner":{"account_id":16424812,"reputation":211,"user_id":11865168,"display_name":"pyQueen"},"score":0,"creation_date":1664641508,"post_id":73919114,"comment_id":130520437,"body_markdown":"@akortex I get a different error: java.lang.UnsupportedClassVersionError","body":"@akortex I get a different error: java.lang.UnsupportedClassVersionError"}],"answers":[{"tags":[],"owner":{"account_id":16424812,"reputation":211,"user_id":11865168,"display_name":"pyQueen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664643364,"creation_date":1664643364,"answer_id":73920191,"question_id":73919114,"body_markdown":"After hours of googling I updated my build.gradle:\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;com.github.johnrengelman.shadow&#39; version &#39;7.1.2&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;io.javalin:javalin:4.6.4&#39;\r\n    implementation &#39;org.slf4j:slf4j-simple:1.8.0-beta4&#39;\r\n    implementation &#39;com.fasterxml.jackson.core:jackson-databind:2.13.3&#39;\r\n    implementation &#39;org.mongodb:mongodb-driver-sync:4.7.1&#39;\r\n    implementation &#39;io.jsonwebtoken:jjwt-api:0.11.5&#39;\r\n    implementation &#39;io.jsonwebtoken:jjwt-impl:0.11.5&#39;\r\n    implementation &#39;io.jsonwebtoken:jjwt-jackson:0.11.5&#39;\r\n    implementation &#39;com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.13.3&#39;\r\n    implementation &#39;org.apache.poi:poi:5.2.2&#39;\r\n    implementation &#39;org.apache.poi:poi-ooxml:5.2.2&#39;\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.9.0&#39;\r\n    testImplementation &#39;org.mockito:mockito-core:4.7.0&#39;\r\n    testImplementation &#39;com.tngtech.archunit:archunit-junit5:0.23.1&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.9.0&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\njar {\r\n    manifest {\r\n        attributes(\r\n                &#39;Main-Class&#39;: &#39;packagename.Application&#39;,\r\n                &#39;Class-Path&#39;: &#39;/libs/*.jar&#39;\r\n        )\r\n    }\r\n}\r\n```\r\n\r\nAnd to build the jar I know use ./gradlew --no-daemon shadowJar. That works for me. Hope this helps someone :)","title":"java.lang.NoClassDefFoundError when trying to run gradle build","body":"<p>After hours of googling I updated my build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'com.github.johnrengelman.shadow' version '7.1.2'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'io.javalin:javalin:4.6.4'\n    implementation 'org.slf4j:slf4j-simple:1.8.0-beta4'\n    implementation 'com.fasterxml.jackson.core:jackson-databind:2.13.3'\n    implementation 'org.mongodb:mongodb-driver-sync:4.7.1'\n    implementation 'io.jsonwebtoken:jjwt-api:0.11.5'\n    implementation 'io.jsonwebtoken:jjwt-impl:0.11.5'\n    implementation 'io.jsonwebtoken:jjwt-jackson:0.11.5'\n    implementation 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.13.3'\n    implementation 'org.apache.poi:poi:5.2.2'\n    implementation 'org.apache.poi:poi-ooxml:5.2.2'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.9.0'\n    testImplementation 'org.mockito:mockito-core:4.7.0'\n    testImplementation 'com.tngtech.archunit:archunit-junit5:0.23.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.9.0'\n}\n\ntest {\n    useJUnitPlatform()\n}\n\njar {\n    manifest {\n        attributes(\n                'Main-Class': 'packagename.Application',\n                'Class-Path': '/libs/*.jar'\n        )\n    }\n}\n</code></pre>\n<p>And to build the jar I know use ./gradlew --no-daemon shadowJar. That works for me. Hope this helps someone :)</p>\n"},{"tags":[],"owner":{"account_id":9984628,"reputation":1055,"user_id":7386358,"display_name":"Archr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694449824,"creation_date":1694449824,"answer_id":77083328,"question_id":73919114,"body_markdown":"Ran into this same issue with a very similar setup. Here was my solution:\r\n\r\n## build.gradle\r\n```\r\napply plugin: &#39;java&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation(\r\n            &#39;com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.15.2&#39;\r\n    )\r\n}\r\n\r\ntasks.register(&#39;fatjar&#39;, Jar) {\r\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n    manifest {\r\n        attributes &#39;Main-Class&#39;: &#39;packagename.Application&#39;\r\n    }\r\n    from { configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) } }\r\n    with jar\r\n}\r\n```\r\n\r\n## Dockerfile\r\n```\r\nFROM gradle:8.3.0-jdk11-alpine AS BUILD\r\nCOPY --chown=gradle:gradle . /home/gradle/src\r\nWORKDIR /home/gradle/src\r\nRUN gradle fatjar --no-daemon\r\n\r\nFROM openjdk:11\r\nRUN mkdir /app\r\nCOPY --from=BUILD /home/gradle/src/build/libs/*.jar /app/app.jar\r\nEXPOSE 8080\r\nENTRYPOINT java -jar /app/app.jar\r\n```","title":"java.lang.NoClassDefFoundError when trying to run gradle build","body":"<p>Ran into this same issue with a very similar setup. Here was my solution:</p>\n<h2>build.gradle</h2>\n<pre><code>apply plugin: 'java'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(\n            'com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.15.2'\n    )\n}\n\ntasks.register('fatjar', Jar) {\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n    manifest {\n        attributes 'Main-Class': 'packagename.Application'\n    }\n    from { configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) } }\n    with jar\n}\n</code></pre>\n<h2>Dockerfile</h2>\n<pre><code>FROM gradle:8.3.0-jdk11-alpine AS BUILD\nCOPY --chown=gradle:gradle . /home/gradle/src\nWORKDIR /home/gradle/src\nRUN gradle fatjar --no-daemon\n\nFROM openjdk:11\nRUN mkdir /app\nCOPY --from=BUILD /home/gradle/src/build/libs/*.jar /app/app.jar\nEXPOSE 8080\nENTRYPOINT java -jar /app/app.jar\n</code></pre>\n"}],"owner":{"account_id":16424812,"reputation":211,"user_id":11865168,"display_name":"pyQueen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":616,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73920191,"answer_count":2,"score":1,"last_activity_date":1694449824,"creation_date":1664634439,"question_id":73919114,"body_markdown":"I am trying to run a java application from a Dockerfile. The Dockerfile looks like this:\r\n\r\n```\r\nFROM gradle:7.2-jdk17-alpine AS build\r\n\r\nCOPY --chown=gradle:gradle . /home/gradle/src\r\nWORKDIR /home/gradle/src\r\nRUN gradle build --no-daemon\r\n\r\nFROM openjdk:17\r\n\r\nEXPOSE 7070\r\n\r\nRUN mkdir /app\r\nCOPY --from=build /home/gradle/src/build/libs/*.jar /app/app.jar\r\n\r\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/app.jar&quot;]\r\n```\r\n\r\nThe container builds the image, but when I try to run the container, I get an error:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/mongodb/client/MongoClients\r\n```\r\n\r\nIs there something wrong with my build.gradle?\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;io.javalin:javalin:4.6.4&#39;\r\n    implementation &#39;org.slf4j:slf4j-simple:1.8.0-beta4&#39;\r\n    implementation &#39;com.fasterxml.jackson.core:jackson-databind:2.13.3&#39;\r\n    implementation &#39;org.mongodb:mongodb-driver-sync:4.7.1&#39;\r\n    implementation &#39;io.jsonwebtoken:jjwt-api:0.11.5&#39;\r\n    implementation &#39;io.jsonwebtoken:jjwt-impl:0.11.5&#39;\r\n    implementation &#39;io.jsonwebtoken:jjwt-jackson:0.11.5&#39;\r\n    implementation &#39;com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.13.3&#39;\r\n    implementation &#39;org.apache.poi:poi:5.2.2&#39;\r\n    implementation &#39;org.apache.poi:poi-ooxml:5.2.2&#39;\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.9.0&#39;\r\n    testImplementation &#39;org.mockito:mockito-core:4.7.0&#39;\r\n    testImplementation &#39;com.tngtech.archunit:archunit-junit5:0.23.1&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.9.0&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\njar {\r\n    manifest {\r\n        attributes(\r\n                &#39;Main-Class&#39;: &#39;packagename.Application&#39;\r\n        )\r\n    }\r\n}\r\n\r\n```\r\n","title":"java.lang.NoClassDefFoundError when trying to run gradle build","body":"<p>I am trying to run a java application from a Dockerfile. The Dockerfile looks like this:</p>\n<pre><code>FROM gradle:7.2-jdk17-alpine AS build\n\nCOPY --chown=gradle:gradle . /home/gradle/src\nWORKDIR /home/gradle/src\nRUN gradle build --no-daemon\n\nFROM openjdk:17\n\nEXPOSE 7070\n\nRUN mkdir /app\nCOPY --from=build /home/gradle/src/build/libs/*.jar /app/app.jar\n\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/app.jar&quot;]\n</code></pre>\n<p>The container builds the image, but when I try to run the container, I get an error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/mongodb/client/MongoClients\n</code></pre>\n<p>Is there something wrong with my build.gradle?</p>\n<pre><code>plugins {\n    id 'java'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'io.javalin:javalin:4.6.4'\n    implementation 'org.slf4j:slf4j-simple:1.8.0-beta4'\n    implementation 'com.fasterxml.jackson.core:jackson-databind:2.13.3'\n    implementation 'org.mongodb:mongodb-driver-sync:4.7.1'\n    implementation 'io.jsonwebtoken:jjwt-api:0.11.5'\n    implementation 'io.jsonwebtoken:jjwt-impl:0.11.5'\n    implementation 'io.jsonwebtoken:jjwt-jackson:0.11.5'\n    implementation 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.13.3'\n    implementation 'org.apache.poi:poi:5.2.2'\n    implementation 'org.apache.poi:poi-ooxml:5.2.2'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.9.0'\n    testImplementation 'org.mockito:mockito-core:4.7.0'\n    testImplementation 'com.tngtech.archunit:archunit-junit5:0.23.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.9.0'\n}\n\ntest {\n    useJUnitPlatform()\n}\n\njar {\n    manifest {\n        attributes(\n                'Main-Class': 'packagename.Application'\n        )\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","android-sensors"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1694467347,"post_id":77083298,"comment_id":135892170,"body_markdown":"Hi there, Are you looking for someone who can do your task ? Because here you first try and post any possible errors and ask for help~","body":"Hi there, Are you looking for someone who can do your task ? Because here you first try and post any possible errors and ask for help~"}],"owner":{"account_id":29371913,"reputation":1,"user_id":22504341,"display_name":"fedebert"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694449567,"creation_date":1694449567,"question_id":77083298,"body_markdown":"i&#39;m trying to develop and android app. In particular my app needs to do the following:\r\n\r\n1 - I have to read the values of the light sensor of the mobile phone;\r\n\r\n2 - If the value read is greater than 50.0 lux I have to save 1, otherwise 0;\r\n\r\n3 - The reading of the values has to have a baudrate and a duration defined by the user;\r\n\r\n4 - Then, there are some operation with these datas: they have to be split into packets of 8-bit with an additional start-bit, end-bit and one parity bit;\r\n\r\n5 - Finally, I have to save all the packets in a .txt file\r\n\r\n\r\n\r\nRegarding to point 1 and 2 I&#39;m okay, I have used the Sensor and SensorManager classes.\r\n\r\nFor point 3 I&#39;m also okay, becuase I have used EditText in the UI for the baudrate and the duration.\r\n\r\nNow I&#39;m struggling with the last two points. In particular, I don&#39;t know how to use the values read to perform the operations mentioned in point 4, and i can&#39;t understand how to integrate all these components together.","title":"How to properly use the light sensor values in android?","body":"<p>i'm trying to develop and android app. In particular my app needs to do the following:</p>\n<p>1 - I have to read the values of the light sensor of the mobile phone;</p>\n<p>2 - If the value read is greater than 50.0 lux I have to save 1, otherwise 0;</p>\n<p>3 - The reading of the values has to have a baudrate and a duration defined by the user;</p>\n<p>4 - Then, there are some operation with these datas: they have to be split into packets of 8-bit with an additional start-bit, end-bit and one parity bit;</p>\n<p>5 - Finally, I have to save all the packets in a .txt file</p>\n<p>Regarding to point 1 and 2 I'm okay, I have used the Sensor and SensorManager classes.</p>\n<p>For point 3 I'm also okay, becuase I have used EditText in the UI for the baudrate and the duration.</p>\n<p>Now I'm struggling with the last two points. In particular, I don't know how to use the values read to perform the operations mentioned in point 4, and i can't understand how to integrate all these components together.</p>\n"},{"tags":["java","spring-boot","spring-cloud-stream","messaging","solace-mq"],"answers":[{"tags":[],"owner":{"account_id":1367993,"reputation":473,"user_id":1304010,"display_name":"Mrc0113"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694449055,"creation_date":1694449055,"answer_id":77083248,"question_id":77079041,"body_markdown":"I test this locally using the sample app here and it worked fine. App was connected. Turned off broker. Turned broker back on. App reconnected. https://github.com/SolaceSamples/solace-samples-spring/tree/master/cloud-stream-sink\r\n\r\nYou can configure your connect and reconnect retries using `connectRetries`, `reconnectRetries`, etc prefixed by `solace.java` or `spring.cloud.stream.binders.&lt;binder-name&gt;.environment.solace.java`. But by default `reconnectRetries` is set to `-1` which should retry forever. Can you make sure you don&#39;t have them set to something else? \r\n\r\n\r\nWhile the broker service isn&#39;t available you should see the app logging something like this: \r\n```\r\n2023-09-11T12:12:00.595-04:00  INFO 61853 --- [connect_service] c.s.j.protocol.impl.TcpClientChannel     : Client-1: Connecting to host &#39;orig=tcp://localhost:55554, scheme=tcp://, host=localhost, port=55554&#39; (host 1 of 1, smfclient 1, attempt 1 of 2147483647, this_host_attempt: 8 of 21)\r\n2023-09-11T12:12:00.604-04:00  INFO 61853 --- [connect_service] c.s.j.protocol.impl.TcpClientChannel     : Client-1: Connection attempt failed to host &#39;localhost&#39; ReconnectException com.solacesystems.jcsmp.JCSMPTransportException: (Client name: marc.localdomain/61853/00210001/vUDlQD7-FL   Local addr: 127.0.0.1 Local port: 52443   Remote addr: localhost  Remote port: 55554) - Error communicating with the router. cause: java.io.IOException: Unable to read enough bytes from stream!\r\n```\r\n\r\nAnd then when it reconnected I saw this: \r\n```\r\n2023-09-11T12:12:21.715-04:00  INFO 61853 --- [connect_service] c.s.j.protocol.impl.TcpClientChannel     : Client-1: Connecting to host &#39;orig=tcp://localhost:55554, scheme=tcp://, host=localhost, port=55554&#39; (host 1 of 1, smfclient 1, attempt 1 of 2147483647, this_host_attempt: 15 of 21)\r\n2023-09-11T12:12:21.728-04:00  INFO 61853 --- [connect_service] c.s.j.protocol.impl.TcpClientChannel     : Client-1: Connected to host &#39;orig=tcp://localhost:55554, scheme=tcp://, host=localhost, port=55554&#39; (smfclient 1)\r\n```","title":"Spring-cloud-stream Solace connectivity issue","body":"<p>I test this locally using the sample app here and it worked fine. App was connected. Turned off broker. Turned broker back on. App reconnected. <a href=\"https://github.com/SolaceSamples/solace-samples-spring/tree/master/cloud-stream-sink\" rel=\"nofollow noreferrer\">https://github.com/SolaceSamples/solace-samples-spring/tree/master/cloud-stream-sink</a></p>\n<p>You can configure your connect and reconnect retries using <code>connectRetries</code>, <code>reconnectRetries</code>, etc prefixed by <code>solace.java</code> or <code>spring.cloud.stream.binders.&lt;binder-name&gt;.environment.solace.java</code>. But by default <code>reconnectRetries</code> is set to <code>-1</code> which should retry forever. Can you make sure you don't have them set to something else?</p>\n<p>While the broker service isn't available you should see the app logging something like this:</p>\n<pre><code>2023-09-11T12:12:00.595-04:00  INFO 61853 --- [connect_service] c.s.j.protocol.impl.TcpClientChannel     : Client-1: Connecting to host 'orig=tcp://localhost:55554, scheme=tcp://, host=localhost, port=55554' (host 1 of 1, smfclient 1, attempt 1 of 2147483647, this_host_attempt: 8 of 21)\n2023-09-11T12:12:00.604-04:00  INFO 61853 --- [connect_service] c.s.j.protocol.impl.TcpClientChannel     : Client-1: Connection attempt failed to host 'localhost' ReconnectException com.solacesystems.jcsmp.JCSMPTransportException: (Client name: marc.localdomain/61853/00210001/vUDlQD7-FL   Local addr: 127.0.0.1 Local port: 52443   Remote addr: localhost  Remote port: 55554) - Error communicating with the router. cause: java.io.IOException: Unable to read enough bytes from stream!\n</code></pre>\n<p>And then when it reconnected I saw this:</p>\n<pre><code>2023-09-11T12:12:21.715-04:00  INFO 61853 --- [connect_service] c.s.j.protocol.impl.TcpClientChannel     : Client-1: Connecting to host 'orig=tcp://localhost:55554, scheme=tcp://, host=localhost, port=55554' (host 1 of 1, smfclient 1, attempt 1 of 2147483647, this_host_attempt: 15 of 21)\n2023-09-11T12:12:21.728-04:00  INFO 61853 --- [connect_service] c.s.j.protocol.impl.TcpClientChannel     : Client-1: Connected to host 'orig=tcp://localhost:55554, scheme=tcp://, host=localhost, port=55554' (smfclient 1)\n</code></pre>\n"}],"owner":{"account_id":3177144,"reputation":17,"user_id":2684704,"display_name":"learner4life"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694449055,"creation_date":1694409000,"question_id":77079041,"body_markdown":"In one of my Java-Spring boot based micro-service, i have the Solace integration setup for messaging. I am using the spring-cloud-stream and Solace binder to connect the Solace.\r\n\r\nOverall the integration works well, however whenever i am rebooting the Solace server, the spring-boot service is not able to make a connection to Solace. Even after retrying 10 times its not able to establish the connection. Then i have to manually start the spring-boot service and then the connection reestablish.\r\n\r\nIs there any configuration i can use to have to force reconnect between spring-cloud-stream and Solace.\r\n\r\n\r\nThanks\r\nAnuj","title":"Spring-cloud-stream Solace connectivity issue","body":"<p>In one of my Java-Spring boot based micro-service, i have the Solace integration setup for messaging. I am using the spring-cloud-stream and Solace binder to connect the Solace.</p>\n<p>Overall the integration works well, however whenever i am rebooting the Solace server, the spring-boot service is not able to make a connection to Solace. Even after retrying 10 times its not able to establish the connection. Then i have to manually start the spring-boot service and then the connection reestablish.</p>\n<p>Is there any configuration i can use to have to force reconnect between spring-cloud-stream and Solace.</p>\n<p>Thanks\nAnuj</p>\n"},{"tags":["java","spring","spring-boot","docker","grafana"],"answers":[{"tags":[],"owner":{"account_id":17258352,"reputation":94,"user_id":12496947,"display_name":"Nouman Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665556832,"creation_date":1665556832,"answer_id":74037459,"question_id":74029504,"body_markdown":"I&#39;ll suggest you to use docker-compose, which better supports in DNS resolving and your issues of localhost will get resolved. ","title":"Spring + Prometheus + Grafana: Err reading Prometheus: Post &quot;http://localhost:9090/api/v1/query&quot;: dial tcp 127.0.0.1:9090: connect: connection refused","body":"<p>I'll suggest you to use docker-compose, which better supports in DNS resolving and your issues of localhost will get resolved.</p>\n"},{"comments":[{"owner":{"account_id":294991,"reputation":1348,"user_id":599164,"accept_rate":91,"display_name":"Frankie Drake"},"score":2,"creation_date":1675431227,"post_id":74061034,"comment_id":132932901,"body_markdown":"Wow, I didn&#39;t exepected this. Seems like it worked with localhost earlier, but now your answer helped me. Thanks","body":"Wow, I didn&#39;t exepected this. Seems like it worked with localhost earlier, but now your answer helped me. Thanks"}],"tags":[],"owner":{"account_id":21087616,"reputation":303,"user_id":15500332,"display_name":"Vel_More"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1665690325,"creation_date":1665690325,"answer_id":74061034,"question_id":74029504,"body_markdown":"You can use the docker inspect command to find the IP address of the Prometheus container and then replace the localhost word with it.","title":"Spring + Prometheus + Grafana: Err reading Prometheus: Post &quot;http://localhost:9090/api/v1/query&quot;: dial tcp 127.0.0.1:9090: connect: connection refused","body":"<p>You can use the docker inspect command to find the IP address of the Prometheus container and then replace the localhost word with it.</p>\n"},{"comments":[{"owner":{"account_id":8929708,"reputation":2126,"user_id":6662739,"accept_rate":75,"display_name":"ollaw"},"score":0,"creation_date":1673827277,"post_id":75080023,"comment_id":132578563,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/33606177)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/33606177\">From Review</a>"}],"tags":[],"owner":{"account_id":2591704,"reputation":31,"user_id":4841138,"display_name":"konglee28"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673424947,"creation_date":1673424947,"answer_id":75080023,"question_id":74029504,"body_markdown":"- It works for https://stackoverflow.com/a/74061034/4841138\r\n\r\n- Also, if you deploy the stack by docker compose and all dockers are in same network, you can do that:\r\n\r\n    URL: http://prometheus:9090\r\n\r\nIn above, `prometheus` is the domain name of the prometheus docker, which can be resolved by all dockers within same network.\r\n","title":"Spring + Prometheus + Grafana: Err reading Prometheus: Post &quot;http://localhost:9090/api/v1/query&quot;: dial tcp 127.0.0.1:9090: connect: connection refused","body":"<ul>\n<li><p>It works for <a href=\"https://stackoverflow.com/a/74061034/4841138\">https://stackoverflow.com/a/74061034/4841138</a></p>\n</li>\n<li><p>Also, if you deploy the stack by docker compose and all dockers are in same network, you can do that:</p>\n<p>URL: http://prometheus:9090</p>\n</li>\n</ul>\n<p>In above, <code>prometheus</code> is the domain name of the prometheus docker, which can be resolved by all dockers within same network.</p>\n"},{"tags":[],"owner":{"account_id":4650054,"reputation":505,"user_id":3767185,"display_name":"vahid sabet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686668369,"creation_date":1686668369,"answer_id":76466257,"question_id":74029504,"body_markdown":"Set net flag to use host network and access Prometheus using localhost or 127.0.0.1:\r\n\r\n    docker run -d --network host --name=prometheus ...","title":"Spring + Prometheus + Grafana: Err reading Prometheus: Post &quot;http://localhost:9090/api/v1/query&quot;: dial tcp 127.0.0.1:9090: connect: connection refused","body":"<p>Set net flag to use host network and access Prometheus using localhost or 127.0.0.1:</p>\n<pre><code>docker run -d --network host --name=prometheus ...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4487327,"reputation":3750,"user_id":3649496,"display_name":"infiniteLearner"},"score":1,"creation_date":1698166080,"post_id":76555874,"comment_id":136369647,"body_markdown":"Awesome...Works for me.","body":"Awesome...Works for me."},{"owner":{"account_id":18311304,"reputation":31,"user_id":13334047,"display_name":"MyGodItsFull0fStars"},"score":0,"creation_date":1698923206,"post_id":76555874,"comment_id":136467095,"body_markdown":"Glad to hear that it works for you.","body":"Glad to hear that it works for you."}],"tags":[],"owner":{"account_id":18311304,"reputation":31,"user_id":13334047,"display_name":"MyGodItsFull0fStars"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1688030863,"creation_date":1687775694,"answer_id":76555874,"question_id":74029504,"body_markdown":"You can simply replace `localhost` with `prometheus` in the URL field of Grafana.\r\n\r\nTested it on my device just now and using `localhost` I received the same error as you did. When I replaced the URL with `http://prometheus:9090` and clicked on save it did work as intended.","title":"Spring + Prometheus + Grafana: Err reading Prometheus: Post &quot;http://localhost:9090/api/v1/query&quot;: dial tcp 127.0.0.1:9090: connect: connection refused","body":"<p>You can simply replace <code>localhost</code> with <code>prometheus</code> in the URL field of Grafana.</p>\n<p>Tested it on my device just now and using <code>localhost</code> I received the same error as you did. When I replaced the URL with <code>http://prometheus:9090</code> and clicked on save it did work as intended.</p>\n"},{"tags":[],"owner":{"account_id":9130923,"reputation":2029,"user_id":6792588,"display_name":"Naor Bar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694448971,"creation_date":1694448971,"answer_id":77083234,"question_id":74029504,"body_markdown":"Looks like you&#39;re using the same host for Prometheus and Grafana docker containers;&lt;BR&gt;\r\nIn this case, setting up &lt;code&gt;http://host.docker.internal:9090&lt;/code&gt; as the Prometheus datasource will do the trick:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cwCV3.png","title":"Spring + Prometheus + Grafana: Err reading Prometheus: Post &quot;http://localhost:9090/api/v1/query&quot;: dial tcp 127.0.0.1:9090: connect: connection refused","body":"<p>Looks like you're using the same host for Prometheus and Grafana docker containers;<BR>\nIn this case, setting up <code>http://host.docker.internal:9090</code> as the Prometheus datasource will do the trick:</p>\n<p><a href=\"https://i.stack.imgur.com/cwCV3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cwCV3.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":20345409,"reputation":316,"user_id":14923466,"display_name":"Alex_Pap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8959,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74061034,"answer_count":6,"score":2,"last_activity_date":1694448971,"creation_date":1665497219,"question_id":74029504,"body_markdown":"Hello I have an app in Spring Boot and I am exposing some metrics on Prometheus. My next goal is to provide these metrics on Grafana in order to obtain some beautiful dashboards. I am using docker on WSL Ubuntu and typed the next commands for Prometheus and Grafana:\r\n\r\n```\r\ndocker run -d --name=prometheus -p 9090:9090 -v /mnt/d/Projects/Msc-Thesis-Project/prometheus.yml:/etc/prometheus/prometheus.yml prom/prometheus --config.file=/etc/prometheus/prometheus.yml\r\n```\r\n```\r\ndocker run -d --name=grafana -p 3000:3000 grafana/grafana\r\n```\r\n\r\nBelow I am giving you the Prometheus dashboard in my browser and as you can see, everything is up and running. My problem is in Grafana configuration where I have to configure Prometheus as Data Source.\r\n\r\n[![Prometheus Dashboard][1]][1]\r\n\r\nIn the field URL I am providing the http://localhost:9090 but I am getting the following error:\r\n&gt;Error reading Prometheus: Post &quot;http://localhost:9090/api/v1/query&quot;: dial tcp 127.0.0.1:9090: connect: connection refused\r\n\r\nI&#39;ve searched everywhere and saw some workarounds that don&#39;t apply to me. To be specific I used the following: http://host.docker.internal:9090, http://server-ip:9090 and of course my system&#39;s IP address via the ipconfig command http://&lt;ip_address&gt;:9090. Nothing works!!!\r\n\r\nI am not using docker-compose but just a prometheus.yml file which is as follows.\r\n\r\n```\r\nglobal:\r\n  scrape_interval:     15s\r\n  evaluation_interval: 15s\r\n\r\nscrape_configs:\r\n\r\n  - job_name: &#39;prometheus&#39;\r\n    scrape_interval: 5s\r\n    static_configs:\r\n      - targets: [&#39;localhost:9090&#39;]\r\n\r\n  - job_name: &#39;Spring Boot Application input&#39;\r\n    metrics_path: &#39;/actuator/prometheus&#39;\r\n    scrape_interval: 2s\r\n    scheme: http\r\n    static_configs:\r\n      - targets: [&#39;192.168.1.233:8080&#39;]\r\n        labels:\r\n          application: &quot;MSc Project Thesis&quot;\r\n```\r\n\r\nCan you advise me something?\r\n\r\n[![Grafana Dshboard][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ofr1t.png\r\n  [2]: https://i.stack.imgur.com/tO4jC.png","title":"Spring + Prometheus + Grafana: Err reading Prometheus: Post &quot;http://localhost:9090/api/v1/query&quot;: dial tcp 127.0.0.1:9090: connect: connection refused","body":"<p>Hello I have an app in Spring Boot and I am exposing some metrics on Prometheus. My next goal is to provide these metrics on Grafana in order to obtain some beautiful dashboards. I am using docker on WSL Ubuntu and typed the next commands for Prometheus and Grafana:</p>\n<pre><code>docker run -d --name=prometheus -p 9090:9090 -v /mnt/d/Projects/Msc-Thesis-Project/prometheus.yml:/etc/prometheus/prometheus.yml prom/prometheus --config.file=/etc/prometheus/prometheus.yml\n</code></pre>\n<pre><code>docker run -d --name=grafana -p 3000:3000 grafana/grafana\n</code></pre>\n<p>Below I am giving you the Prometheus dashboard in my browser and as you can see, everything is up and running. My problem is in Grafana configuration where I have to configure Prometheus as Data Source.</p>\n<p><a href=\"https://i.stack.imgur.com/Ofr1t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ofr1t.png\" alt=\"Prometheus Dashboard\" /></a></p>\n<p>In the field URL I am providing the http://localhost:9090 but I am getting the following error:</p>\n<blockquote>\n<p>Error reading Prometheus: Post &quot;http://localhost:9090/api/v1/query&quot;: dial tcp 127.0.0.1:9090: connect: connection refused</p>\n</blockquote>\n<p>I've searched everywhere and saw some workarounds that don't apply to me. To be specific I used the following: <a href=\"http://host.docker.internal:9090\" rel=\"nofollow noreferrer\">http://host.docker.internal:9090</a>, http://server-ip:9090 and of course my system's IP address via the ipconfig command http://&lt;ip_address&gt;:9090. Nothing works!!!</p>\n<p>I am not using docker-compose but just a prometheus.yml file which is as follows.</p>\n<pre><code>global:\n  scrape_interval:     15s\n  evaluation_interval: 15s\n\nscrape_configs:\n\n  - job_name: 'prometheus'\n    scrape_interval: 5s\n    static_configs:\n      - targets: ['localhost:9090']\n\n  - job_name: 'Spring Boot Application input'\n    metrics_path: '/actuator/prometheus'\n    scrape_interval: 2s\n    scheme: http\n    static_configs:\n      - targets: ['192.168.1.233:8080']\n        labels:\n          application: &quot;MSc Project Thesis&quot;\n</code></pre>\n<p>Can you advise me something?</p>\n<p><a href=\"https://i.stack.imgur.com/tO4jC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tO4jC.png\" alt=\"Grafana Dshboard\" /></a></p>\n"},{"tags":["java","processing"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":2,"creation_date":1679966834,"post_id":75861570,"comment_id":133812283,"body_markdown":"Hi &amp; Welcome! Post looks ok (for me)!:) Code: &#128556; the problem: ..your assumption is just (little) wrong ...while `Pos` cannot be &quot;re-assigned&quot;, `Pos.x, Pos.y` *can* (if they not final;)..what does `circle(...)`?","body":"Hi &amp; Welcome! Post looks ok (for me)!:) Code: 😬 the problem: ..your assumption is just (little) wrong ...while <code>Pos</code> cannot be &quot;re-assigned&quot;, <code>Pos.x, Pos.y</code> <i>can</i> (if they not final;)..what does <code>circle(...)</code>?"},{"owner":{"account_id":21620742,"reputation":81,"user_id":15945786,"display_name":"super turkey"},"score":0,"creation_date":1679966986,"post_id":75861570,"comment_id":133812299,"body_markdown":"Thank you, xerx593! How would I make those &quot;final&quot;, if the PVector class is a built-in class? Oh, the Circle was for debugging, I&#39;ll take it out right now.","body":"Thank you, xerx593! How would I make those &quot;final&quot;, if the PVector class is a built-in class? Oh, the Circle was for debugging, I&#39;ll take it out right now."},{"owner":{"account_id":21620742,"reputation":81,"user_id":15945786,"display_name":"super turkey"},"score":0,"creation_date":1679967499,"post_id":75861570,"comment_id":133812364,"body_markdown":"how should I make the x and y final?","body":"how should I make the x and y final?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":2,"creation_date":1679967576,"post_id":75861570,"comment_id":133812378,"body_markdown":"`static final int X = 50;static final int Y = X;`!??:)","body":"<code>static final int X = 50;static final int Y = X;</code>!??:)"},{"owner":{"account_id":21620742,"reputation":81,"user_id":15945786,"display_name":"super turkey"},"score":0,"creation_date":1679967874,"post_id":75861570,"comment_id":133812420,"body_markdown":"The problem with that is I can&#39;t (to my knowledge) edit builtins like PVector.","body":"The problem with that is I can&#39;t (to my knowledge) edit builtins like PVector."},{"owner":{"account_id":21620742,"reputation":81,"user_id":15945786,"display_name":"super turkey"},"score":0,"creation_date":1679968231,"post_id":75861570,"comment_id":133812463,"body_markdown":"Wait so where am i changing Pos.x/y?","body":"Wait so where am i changing Pos.x/y?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1679968348,"post_id":75861570,"comment_id":133812479,"body_markdown":"..and instead of doing `new Particle(150, 10, Pos)`, you *could* also just `new Particle(150, 10, 50, 50);` *without* loosing something/information (you only need to re-code/-factor:)","body":"..and instead of doing <code>new Particle(150, 10, Pos)</code>, you <i>could</i> also just <code>new Particle(150, 10, 50, 50);</code> <i>without</i> loosing something/information (you only need to re-code/-factor:)"},{"owner":{"account_id":21620742,"reputation":81,"user_id":15945786,"display_name":"super turkey"},"score":0,"creation_date":1679968430,"post_id":75861570,"comment_id":133812485,"body_markdown":"problem is i want to have multiple particle systems.","body":"problem is i want to have multiple particle systems."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1679968765,"post_id":75861570,"comment_id":133812516,"body_markdown":"1. `this.pos = pos;` 2. `pos.add(...)`(!! idk...but sounds very like &quot;changing&quot;)","body":"1. <code>this.pos = pos;</code> 2. <code>pos.add(...)</code>(!! idk...but sounds very like &quot;changing&quot;)"},{"owner":{"account_id":21620742,"reputation":81,"user_id":15945786,"display_name":"super turkey"},"score":1,"creation_date":1679972402,"post_id":75861570,"comment_id":133812925,"body_markdown":"Thank you soooo much, I&#39;ve fixed it, with `this.pos = new PVector(Pos.x,Pos.y); `","body":"Thank you soooo much, I&#39;ve fixed it, with <code>this.pos = new PVector(Pos.x,Pos.y); </code>"}],"owner":{"account_id":21620742,"reputation":81,"user_id":15945786,"display_name":"super turkey"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1694448789,"creation_date":1679965771,"question_id":75861570,"body_markdown":"Well, honestly, I have no idea what&#39;s gone wrong here, I&#39;ve looked through all of my code and couldn&#39;t find any assignments or anything like that, and after Bing AI couldn&#39;t help, I don&#39;t what I did wrong. Anyway here&#39;s my code:\r\n```\r\nimport java.util.Iterator;\r\nclass Particle {\r\n  float radius = 15;\r\n  int lifeTime = 300;\r\n  PVector pos = new PVector();\r\n  void Display() {\r\n    pos.add(PVector.random2D().limit(7));\r\n    fill(255, 162, 0, 125);\r\n    lifeTime--;\r\n    radius = lifeTime/10;\r\n  }\r\n  boolean Dead() {\r\n    return lifeTime &lt;= 0;\r\n  }\r\n  Particle(PVector pos) {\r\n  }\r\n  Particle(int life_time, float radius, PVector pos) {\r\n    this.lifeTime = life_time;\r\n    this.radius = radius;\r\n    this.pos = pos;\r\n  }\r\n}\r\nclass PartSys {\r\n  final PVector Pos = new PVector(50,50);\r\n  ArrayList&lt;Particle&gt; Particles = new ArrayList&lt;Particle&gt;();\r\n  int PartPerFrame =1 ;\r\n  void run() {\r\n    circle(Pos.x,Pos.y,100);\r\n    for (int i = 0; i &lt; PartPerFrame; i++)\r\n      Particles.add(new Particle(150,10,Pos));\r\n    Iterator&lt;Particle&gt; iter = Particles.iterator();\r\n    while (iter.hasNext()) {\r\n      Particle part = iter.next();\r\n      if (part.Dead())\r\n        iter.remove();\r\n      part.Display();\r\n    }\r\n  }\r\n}\r\nPartSys sys;\r\nvoid setup(){size(300,300);\r\nsys = new PartSys();\r\nsys.Particles.add(new Particle(sys.Pos));}\r\nvoid draw() {\r\n  background(235);\r\n  sys.run();\r\n//printing output ↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\r\n                  print(sys.Pos);\r\n}\r\n\r\n```\r\nAnd if you want the output here it is (60 frames) output from `print(sys.Pos);`:\r\n```\r\n[ 50.821663, 49.430023, 0.0 ]\r\n[ 51.5533, 50.05951, 0.0 ]\r\n[ 52.480217, 47.30107, 0.0 ]\r\n[ 53.643673, 48.13987, 0.0 ]\r\n[ 55.82994, 50.354572, 0.0 ]\r\n[ 58.192818, 51.504097, 0.0 ]\r\n[ 57.82679, 52.627758, 0.0 ]\r\n[ 54.456882, 52.148365, 0.0 ]\r\n[ 57.276096, 49.27265, 0.0 ]\r\n[ 57.65083, 49.153095, 0.0 ]\r\n[ 56.978725, 50.708504, 0.0 ]\r\n[ 57.20197, 47.268326, 0.0 ]\r\n[ 57.10294, 47.711933, 0.0 ]\r\n[ 55.997593, 45.283146, 0.0 ]\r\n[ 56.923397, 49.33384, 0.0 ]\r\n[ 59.97882, 47.74817, 0.0 ]\r\n[ 59.18079, 46.330868, 0.0 ]\r\n[ 62.282166, 47.360676, 0.0 ]\r\n[ 59.184853, 48.83381, 0.0 ]\r\n[ 62.946915, 47.83082, 0.0 ]\r\n[ 64.225945, 47.699486, 0.0 ]\r\n[ 63.970665, 46.07079, 0.0 ]\r\n[ 60.725388, 45.80128, 0.0 ]\r\n[ 55.0587, 45.409607, 0.0 ]\r\n[ 53.8556, 50.21724, 0.0 ]\r\n[ 61.024002, 48.70884, 0.0 ]\r\n[ 65.99121, 50.652534, 0.0 ]\r\n[ 67.978355, 50.041943, 0.0 ]\r\n[ 70.69233, 54.368584, 0.0 ]\r\n[ 74.01484, 51.276684, 0.0 ]\r\n[ 71.097664, 54.46409, 0.0 ]\r\n[ 70.14009, 53.808517, 0.0 ]\r\n[ 69.09675, 54.651142, 0.0 ]\r\n[ 74.21626, 57.58804, 0.0 ]\r\n[ 68.227135, 55.275978, 0.0 ]\r\n[ 69.69138, 61.491447, 0.0 ]\r\n[ 62.82039, 64.48831, 0.0 ]\r\n[ 67.152855, 63.46894, 0.0 ]\r\n[ 72.05418, 63.6807, 0.0 ]\r\n[ 74.5831, 64.97206, 0.0 ]\r\n[ 64.12507, 64.23787, 0.0 ]\r\n[ 61.75983, 64.622955, 0.0 ]\r\n[ 76.63141, 58.98788, 0.0 ]\r\n[ 79.29824, 61.184925, 0.0 ]\r\n[ 76.38007, 60.905666, 0.0 ]\r\n[ 68.29446, 60.337387, 0.0 ]\r\n[ 73.783104, 55.369278, 0.0 ]\r\n[ 72.36568, 48.485783, 0.0 ]\r\n[ 59.848167, 47.158314, 0.0 ]\r\n[ 55.83285, 48.908268, 0.0 ]\r\n[ 62.421993, 41.967438, 0.0 ]\r\n[ 59.39648, 44.411724, 0.0 ]\r\n[ 65.16808, 36.394894, 0.0 ]\r\n[ 64.009636, 37.80784, 0.0 ]\r\n[ 63.28938, 33.255817, 0.0 ]\r\n[ 63.366882, 24.063602, 0.0 ]\r\n[ 62.18882, 35.320347, 0.0 ]\r\n[ 62.014744, 28.993261, 0.0 ]\r\n[ 62.57812, 24.168509, 0.0 ]\r\n```\r\nThis is my first post, so if you have any tips i&#39;ll take them!","title":"My &quot;final PVector&quot; variable is changing every frame, why?","body":"<p>Well, honestly, I have no idea what's gone wrong here, I've looked through all of my code and couldn't find any assignments or anything like that, and after Bing AI couldn't help, I don't what I did wrong. Anyway here's my code:</p>\n<pre><code>import java.util.Iterator;\nclass Particle {\n  float radius = 15;\n  int lifeTime = 300;\n  PVector pos = new PVector();\n  void Display() {\n    pos.add(PVector.random2D().limit(7));\n    fill(255, 162, 0, 125);\n    lifeTime--;\n    radius = lifeTime/10;\n  }\n  boolean Dead() {\n    return lifeTime &lt;= 0;\n  }\n  Particle(PVector pos) {\n  }\n  Particle(int life_time, float radius, PVector pos) {\n    this.lifeTime = life_time;\n    this.radius = radius;\n    this.pos = pos;\n  }\n}\nclass PartSys {\n  final PVector Pos = new PVector(50,50);\n  ArrayList&lt;Particle&gt; Particles = new ArrayList&lt;Particle&gt;();\n  int PartPerFrame =1 ;\n  void run() {\n    circle(Pos.x,Pos.y,100);\n    for (int i = 0; i &lt; PartPerFrame; i++)\n      Particles.add(new Particle(150,10,Pos));\n    Iterator&lt;Particle&gt; iter = Particles.iterator();\n    while (iter.hasNext()) {\n      Particle part = iter.next();\n      if (part.Dead())\n        iter.remove();\n      part.Display();\n    }\n  }\n}\nPartSys sys;\nvoid setup(){size(300,300);\nsys = new PartSys();\nsys.Particles.add(new Particle(sys.Pos));}\nvoid draw() {\n  background(235);\n  sys.run();\n//printing output ↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓\n                  print(sys.Pos);\n}\n\n</code></pre>\n<p>And if you want the output here it is (60 frames) output from <code>print(sys.Pos);</code>:</p>\n<pre><code>[ 50.821663, 49.430023, 0.0 ]\n[ 51.5533, 50.05951, 0.0 ]\n[ 52.480217, 47.30107, 0.0 ]\n[ 53.643673, 48.13987, 0.0 ]\n[ 55.82994, 50.354572, 0.0 ]\n[ 58.192818, 51.504097, 0.0 ]\n[ 57.82679, 52.627758, 0.0 ]\n[ 54.456882, 52.148365, 0.0 ]\n[ 57.276096, 49.27265, 0.0 ]\n[ 57.65083, 49.153095, 0.0 ]\n[ 56.978725, 50.708504, 0.0 ]\n[ 57.20197, 47.268326, 0.0 ]\n[ 57.10294, 47.711933, 0.0 ]\n[ 55.997593, 45.283146, 0.0 ]\n[ 56.923397, 49.33384, 0.0 ]\n[ 59.97882, 47.74817, 0.0 ]\n[ 59.18079, 46.330868, 0.0 ]\n[ 62.282166, 47.360676, 0.0 ]\n[ 59.184853, 48.83381, 0.0 ]\n[ 62.946915, 47.83082, 0.0 ]\n[ 64.225945, 47.699486, 0.0 ]\n[ 63.970665, 46.07079, 0.0 ]\n[ 60.725388, 45.80128, 0.0 ]\n[ 55.0587, 45.409607, 0.0 ]\n[ 53.8556, 50.21724, 0.0 ]\n[ 61.024002, 48.70884, 0.0 ]\n[ 65.99121, 50.652534, 0.0 ]\n[ 67.978355, 50.041943, 0.0 ]\n[ 70.69233, 54.368584, 0.0 ]\n[ 74.01484, 51.276684, 0.0 ]\n[ 71.097664, 54.46409, 0.0 ]\n[ 70.14009, 53.808517, 0.0 ]\n[ 69.09675, 54.651142, 0.0 ]\n[ 74.21626, 57.58804, 0.0 ]\n[ 68.227135, 55.275978, 0.0 ]\n[ 69.69138, 61.491447, 0.0 ]\n[ 62.82039, 64.48831, 0.0 ]\n[ 67.152855, 63.46894, 0.0 ]\n[ 72.05418, 63.6807, 0.0 ]\n[ 74.5831, 64.97206, 0.0 ]\n[ 64.12507, 64.23787, 0.0 ]\n[ 61.75983, 64.622955, 0.0 ]\n[ 76.63141, 58.98788, 0.0 ]\n[ 79.29824, 61.184925, 0.0 ]\n[ 76.38007, 60.905666, 0.0 ]\n[ 68.29446, 60.337387, 0.0 ]\n[ 73.783104, 55.369278, 0.0 ]\n[ 72.36568, 48.485783, 0.0 ]\n[ 59.848167, 47.158314, 0.0 ]\n[ 55.83285, 48.908268, 0.0 ]\n[ 62.421993, 41.967438, 0.0 ]\n[ 59.39648, 44.411724, 0.0 ]\n[ 65.16808, 36.394894, 0.0 ]\n[ 64.009636, 37.80784, 0.0 ]\n[ 63.28938, 33.255817, 0.0 ]\n[ 63.366882, 24.063602, 0.0 ]\n[ 62.18882, 35.320347, 0.0 ]\n[ 62.014744, 28.993261, 0.0 ]\n[ 62.57812, 24.168509, 0.0 ]\n</code></pre>\n<p>This is my first post, so if you have any tips i'll take them!</p>\n"},{"tags":["java","json","objectmapper"],"comments":[{"owner":{"account_id":4972685,"reputation":2505,"user_id":8098236,"accept_rate":100,"display_name":"Ian Rehwinkel"},"score":2,"creation_date":1578601390,"post_id":59671481,"comment_id":105501917,"body_markdown":"Have a look at https://github.com/google/gson. It seems to be exactly what you&#39;re looking for. You can easily serialize and deserialize Java Objects using it.","body":"Have a look at <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">github.com/google/gson</a>. It seems to be exactly what you&#39;re looking for. You can easily serialize and deserialize Java Objects using it."}],"answers":[{"comments":[{"owner":{"account_id":5660305,"reputation":590,"user_id":4478147,"display_name":"Lilac"},"score":0,"creation_date":1578602065,"post_id":59671589,"comment_id":105502157,"body_markdown":"Thank you. What is value in tabularDescriptor. Is it the value I set using its setter? If yes how can I set  value to pojo classes like MappingMetadata.","body":"Thank you. What is value in tabularDescriptor. Is it the value I set using its setter? If yes how can I set  value to pojo classes like MappingMetadata."},{"owner":{"account_id":12021665,"reputation":283,"user_id":8794926,"display_name":"Vladucu Voican"},"score":1,"creation_date":1578602623,"post_id":59671589,"comment_id":105502347,"body_markdown":"@Lilac 1) `tabularDescriptor` is your object e.g. `TabularDescriptor tabularDescriptor = new TabularDescriptor(...);` 2) Not sure that I get what you mean here. Are you refering to how to create objects? Easiest way is to use a [Builder Pattern](https://stackoverflow.com/a/1953567/8794926), especially in your case since you have a lot of inner objects in the tabular descriptor.","body":"@Lilac 1) <code>tabularDescriptor</code> is your object e.g. <code>TabularDescriptor tabularDescriptor = new TabularDescriptor(...);</code> 2) Not sure that I get what you mean here. Are you refering to how to create objects? Easiest way is to use a <a href=\"https://stackoverflow.com/a/1953567/8794926\">Builder Pattern</a>, especially in your case since you have a lot of inner objects in the tabular descriptor."},{"owner":{"account_id":5660305,"reputation":590,"user_id":4478147,"display_name":"Lilac"},"score":0,"creation_date":1578603812,"post_id":59671589,"comment_id":105502805,"body_markdown":"Thank you. I wasn&#39;t sure how to give values for the inner objects.","body":"Thank you. I wasn&#39;t sure how to give values for the inner objects."}],"tags":[],"owner":{"account_id":12021665,"reputation":283,"user_id":8794926,"display_name":"Vladucu Voican"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1578601554,"creation_date":1578601554,"answer_id":59671589,"question_id":59671481,"body_markdown":"I would recommend you to add Jackson to your project, it&#39;s rather easy to use.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd in Java Code can be used as so: \r\n\r\n\tObjectMapper objectMapper = new ObjectMapper();\r\n\tString json = objectMapper.writeValueAsString(tabularDescriptor);\r\n\tTabularDescriptor newTabularDescriptor = objectMapper.readValue(json, TabularDescriptor.class);","title":"Convert Java pojo to json String","body":"<p>I would recommend you to add Jackson to your project, it's rather easy to use.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.9.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And in Java Code can be used as so: </p>\n\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nString json = objectMapper.writeValueAsString(tabularDescriptor);\nTabularDescriptor newTabularDescriptor = objectMapper.readValue(json, TabularDescriptor.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8976317,"reputation":1645,"user_id":6693037,"display_name":"Mehrdad HosseinNejad Yami"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1578602443,"creation_date":1578601787,"answer_id":59671636,"question_id":59671481,"body_markdown":"You can use **ObjectMapper** or **Gson** for Class to JSON conversion and vice-versa.\n\n(I would recommend ObjectMapper)\n\n&gt; - Object Mapper \n&gt;\n&gt; [Intro to the Jackson ObjectMapper][1]\n&gt; \n&gt; \n&gt;  - GSON\n&gt; \n&gt; [How to convert Java object to / from JSON][2]\n&gt;\n&gt;- Comparison\n&gt;\n&gt;[Jackson(ObjectMapper) vs Gson][3]\n\n\n  [1]: https://www.baeldung.com/jackson-object-mapper-tutorial\n  [2]: https://www.mkyong.com/java/how-do-convert-java-object-to-from-json-format-gson-api/\n  [3]: https://www.baeldung.com/jackson-vs-gson","title":"Convert Java pojo to json String","body":"<p>You can use <strong>ObjectMapper</strong> or <strong>Gson</strong> for Class to JSON conversion and vice-versa.</p>\n<p>(I would recommend ObjectMapper)</p>\n<blockquote>\n<ul>\n<li>Object Mapper</li>\n</ul>\n<p><a href=\"https://www.baeldung.com/jackson-object-mapper-tutorial\" rel=\"nofollow noreferrer\">Intro to the Jackson ObjectMapper</a></p>\n<ul>\n<li>GSON</li>\n</ul>\n<p><a href=\"https://www.mkyong.com/java/how-do-convert-java-object-to-from-json-format-gson-api/\" rel=\"nofollow noreferrer\">How to convert Java object to / from JSON</a></p>\n<ul>\n<li>Comparison</li>\n</ul>\n<p><a href=\"https://www.baeldung.com/jackson-vs-gson\" rel=\"nofollow noreferrer\">Jackson(ObjectMapper) vs Gson</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11885028,"reputation":2467,"user_id":8697659,"display_name":"improbable"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1694448694,"creation_date":1578602745,"answer_id":59671846,"question_id":59671481,"body_markdown":"There are 2 libraries that deal with JSON serialization/deserialization using Java:\r\n\r\n1. ## [Jackson][3] ##\r\n   The go-to library for Java serialization/deserialization([docs][4]). A default choice for the JSON interaction within Java for the majority of developers. Comes completely embedded with all dependencies in `spring-boot-starter-web` and `spring-boot-starter-webflux`, dependency starters of [Spring Boot][5] - popular Java IOC/DI framework.\r\n\r\n   ### Dependencies &lt;sub&gt;(databind is the main dependency, for annotations and additional features you will need more Jackson dependencies)&lt;/sub&gt;: ###   \r\n   *Maven:*\r\n   ```lang-xml\r\n   &lt;dependency&gt;\r\n       &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n       &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n       &lt;version&gt;${jackson.version}&lt;/version&gt;   \r\n   &lt;/dependency&gt;\r\n   ```\r\n\r\n   *Gradle:*\r\n\r\n   ```\r\n   dependencies {\r\n      implementation &quot;com.fasterxml.jackson.core:jackson-databind:${yourVersion}&quot;\r\n   }\r\n   ```   \r\n    \r\n   ### Serialization Snippet: ###\r\n\r\n   ```lang-java\r\n   TabularDescriptor tabularDescriptor = new TabularDescriptor();\r\n   ObjectMapper mapper = new ObjectMapper();\r\n   String json = mapper.writeValueAsString(tabularDescriptor);\r\n   ```\r\n2. ## [Gson][1] ##\r\n   Google&#39;s library for a Java serialization/deserialization([docs][2]).&lt;br&gt;\r\n\r\n   ### Dependencies: ###  \r\n   *Gradle:*\r\n   ```groovy\r\n   dependencies { \r\n       implementation &quot;com.google.code.gson:gson:${yourVersion}&quot;\r\n   }\r\n   ```\r\n    \r\n   *Maven:*    \r\n   ```lang-xml\r\n   &lt;dependency&gt;\r\n       &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n       &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n       &lt;version&gt;${gson.version}&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n   ```\r\n    \r\n   ### Serialization Snippet: ###\r\n\r\n   ```lang-java\r\n   TabularDescriptor tabularDescriptor = new TabularDescriptor();\r\n   Gson gson = new Gson();\r\n   String json = gson.toJson(obj);\r\n   ```\r\n\r\n**Details worth noting**: You have to have all getters/setters public for both complete serialization and complete deserialization of an object(in its simplest form). An empty constructor is a must in any case.\r\n\r\n**Reference Information**: \r\n\r\n 1. [JSON in Java by Baeldung][6]\r\n 2. [Jackson vs Gson by Baeldung][7]\r\n\r\n\r\n  [1]: https://github.com/google/gson\r\n  [2]: https://www.javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/module-summary.html\r\n  [3]: https://github.com/FasterXML/jackson\r\n  [4]: https://github.com/FasterXML/jackson-docs\r\n  [5]: https://spring.io/projects/spring-boot\r\n  [6]: https://www.baeldung.com/java-json\r\n  [7]: https://www.baeldung.com/jackson-vs-gson","title":"Convert Java pojo to json String","body":"<p>There are 2 libraries that deal with JSON serialization/deserialization using Java:</p>\n<ol>\n<li><h2><a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a></h2>\n<p>The go-to library for Java serialization/deserialization(<a href=\"https://github.com/FasterXML/jackson-docs\" rel=\"nofollow noreferrer\">docs</a>). A default choice for the JSON interaction within Java for the majority of developers. Comes completely embedded with all dependencies in <code>spring-boot-starter-web</code> and <code>spring-boot-starter-webflux</code>, dependency starters of <a href=\"https://spring.io/projects/spring-boot\" rel=\"nofollow noreferrer\">Spring Boot</a> - popular Java IOC/DI framework.</p>\n<h3>Dependencies <sub>(databind is the main dependency, for annotations and additional features you will need more Jackson dependencies)</sub>:</h3>\n<p><em>Maven:</em></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;${jackson.version}&lt;/version&gt;   \n&lt;/dependency&gt;\n</code></pre>\n<p><em>Gradle:</em></p>\n<pre><code>dependencies {\n   implementation &quot;com.fasterxml.jackson.core:jackson-databind:${yourVersion}&quot;\n}\n</code></pre>\n<h3>Serialization Snippet:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>TabularDescriptor tabularDescriptor = new TabularDescriptor();\nObjectMapper mapper = new ObjectMapper();\nString json = mapper.writeValueAsString(tabularDescriptor);\n</code></pre>\n</li>\n<li><h2><a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Gson</a></h2>\n<p>Google's library for a Java serialization/deserialization(<a href=\"https://www.javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/module-summary.html\" rel=\"nofollow noreferrer\">docs</a>).<br></p>\n<h3>Dependencies:</h3>\n<p><em>Gradle:</em></p>\n<pre><code>dependencies { \n    implementation &quot;com.google.code.gson:gson:${yourVersion}&quot;\n}\n</code></pre>\n<p><em>Maven:</em></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;${gson.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<h3>Serialization Snippet:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>TabularDescriptor tabularDescriptor = new TabularDescriptor();\nGson gson = new Gson();\nString json = gson.toJson(obj);\n</code></pre>\n</li>\n</ol>\n<p><strong>Details worth noting</strong>: You have to have all getters/setters public for both complete serialization and complete deserialization of an object(in its simplest form). An empty constructor is a must in any case.</p>\n<p><strong>Reference Information</strong>:</p>\n<ol>\n<li><a href=\"https://www.baeldung.com/java-json\" rel=\"nofollow noreferrer\">JSON in Java by Baeldung</a></li>\n<li><a href=\"https://www.baeldung.com/jackson-vs-gson\" rel=\"nofollow noreferrer\">Jackson vs Gson by Baeldung</a></li>\n</ol>\n"}],"owner":{"account_id":5660305,"reputation":590,"user_id":4478147,"display_name":"Lilac"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49649,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":3,"score":20,"last_activity_date":1694448694,"creation_date":1578600948,"question_id":59671481,"body_markdown":"I have the following java class\r\n\r\n```\r\npublic  class TabularDescriptor extends ReportDescriptor {\r\n\t\r\n\tprivate String generatorClass;\r\n\tprivate String targetClass;\r\n\tprivate String name;\r\n\tprivate String sublabel;\r\n\tprivate String reportName;\r\n\tprivate List&lt;MappingMetadata&gt; mappings = null;\r\n\tprivate List&lt;TabularColumnGroup&gt; columnGroups = null;\r\n\tprivate List&lt;TabularStates&gt; states = null;\r\n:\r\n:\r\n\t and its getters and settere\r\n```\r\n\r\nI have entity classes for  each of those List like MappingMetadata,TabularColumnGroup,TabularStates.\r\nI want to get a json data for this pojo classes. What can I do for it.\r\n\r\nAnd what is the use of\r\n\r\n```\r\n\tpublic JSONObject toJSON() {\r\n\t\tJSONObject ret = new JSONObject();\r\n\t\tret.put(&quot;generatorClass&quot;, this.generatorClass);\r\n\t\tret.put(&quot;targetClass&quot;, this.targetClass);\r\n\t\tret.put(&quot;name&quot;, this.name);\r\n\t    :\r\n        :\r\n\t\treturn ret;\r\n\t}\r\n```\r\n\r\nAnd is there anyway I can display my json content on browser if yes how can I? Thanks.\r\n","title":"Convert Java pojo to json String","body":"<p>I have the following java class</p>\n\n<pre><code>public  class TabularDescriptor extends ReportDescriptor {\n\n    private String generatorClass;\n    private String targetClass;\n    private String name;\n    private String sublabel;\n    private String reportName;\n    private List&lt;MappingMetadata&gt; mappings = null;\n    private List&lt;TabularColumnGroup&gt; columnGroups = null;\n    private List&lt;TabularStates&gt; states = null;\n:\n:\n     and its getters and settere\n</code></pre>\n\n<p>I have entity classes for  each of those List like MappingMetadata,TabularColumnGroup,TabularStates.\nI want to get a json data for this pojo classes. What can I do for it.</p>\n\n<p>And what is the use of</p>\n\n<pre><code>    public JSONObject toJSON() {\n        JSONObject ret = new JSONObject();\n        ret.put(\"generatorClass\", this.generatorClass);\n        ret.put(\"targetClass\", this.targetClass);\n        ret.put(\"name\", this.name);\n        :\n        :\n        return ret;\n    }\n</code></pre>\n\n<p>And is there anyway I can display my json content on browser if yes how can I? Thanks.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1694457828,"post_id":77083044,"comment_id":135890804,"body_markdown":"That doesn&#39;t look like a valid query: if :orderByDesc doesn&#39;t match one of the options, it becomes &quot;select f from food... order by DESC, DESC, DESC, ASC, ASC, ASC&quot;. IMO you are better off with a query per order option, or dynamically building the ordering onto the query with criteria api. The JPA specification states CASE isn&#39;t a valid expression for the order by clause - you could try to use it by including it in the Select clause and naming it, then using the name in the order by clause.","body":"That doesn&#39;t look like a valid query: if :orderByDesc doesn&#39;t match one of the options, it becomes &quot;select f from food... order by DESC, DESC, DESC, ASC, ASC, ASC&quot;. IMO you are better off with a query per order option, or dynamically building the ordering onto the query with criteria api. The JPA specification states CASE isn&#39;t a valid expression for the order by clause - you could try to use it by including it in the Select clause and naming it, then using the name in the order by clause."}],"owner":{"account_id":29415940,"reputation":1,"user_id":22538780,"display_name":"nydaro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694447040,"creation_date":1694447040,"question_id":77083044,"body_markdown":"Could not locate named parameter \\[orderByDesc\\], expecting one of \\[category\\]\r\nI&#39;m experiencing an issue with an java.lang.IllegalArgumentException: Could not locate named parameter \\[orderByDesc\\], expecting one of \\[category\\].\r\n\r\nI&#39;ve executed a query, but it&#39;s not progressing and is giving me an error.\r\n\r\nI believe the values are being input correctly, so I&#39;m not sure why this is happening.\r\n\r\nHere is the @Query that I&#39;ve written:\r\n\r\n```\r\n\r\n@Query(&quot;SELECT f FROM Food f WHERE f.foodCategory2 = :category&quot; +           \r\n&quot; ORDER BY&quot; +           \r\n&quot; CASE WHEN :orderByDesc = &#39;-protein&#39; THEN f.protein END DESC,&quot; +           \r\n&quot; CASE WHEN :orderByDesc = &#39;-fat&#39; THEN f.fat END DESC,&quot; +           \r\n&quot; CASE WHEN :orderByDesc = &#39;-carbo&#39; THEN f.carbo END DESC,&quot; +           \r\n&quot; CASE WHEN :orderByDesc = &#39;+protein&#39; THEN f.protein END ASC,&quot; +           \r\n&quot; CASE WHEN :orderByDesc = &#39;+fat&#39; THEN f.fat END ASC,&quot; +           \r\n&quot; CASE WHEN :orderByDesc = &#39;+carbo&#39; THEN f.carbo END ASC&quot;)   \r\nPage&lt;Food&gt; findInCategoryOther\r\n(@Param(&quot;category&quot;) String category, @Param(&quot;orderByDesc&quot;) String orderByDesc, Pageable pageable);\r\n```\r\n\r\nI need to know where I should make changes and how?","title":"Could not locate named parameter [orderByDesc], expecting one of [category]","body":"<p>Could not locate named parameter [orderByDesc], expecting one of [category]\nI'm experiencing an issue with an java.lang.IllegalArgumentException: Could not locate named parameter [orderByDesc], expecting one of [category].</p>\n<p>I've executed a query, but it's not progressing and is giving me an error.</p>\n<p>I believe the values are being input correctly, so I'm not sure why this is happening.</p>\n<p>Here is the @Query that I've written:</p>\n<pre><code>\n@Query(&quot;SELECT f FROM Food f WHERE f.foodCategory2 = :category&quot; +           \n&quot; ORDER BY&quot; +           \n&quot; CASE WHEN :orderByDesc = '-protein' THEN f.protein END DESC,&quot; +           \n&quot; CASE WHEN :orderByDesc = '-fat' THEN f.fat END DESC,&quot; +           \n&quot; CASE WHEN :orderByDesc = '-carbo' THEN f.carbo END DESC,&quot; +           \n&quot; CASE WHEN :orderByDesc = '+protein' THEN f.protein END ASC,&quot; +           \n&quot; CASE WHEN :orderByDesc = '+fat' THEN f.fat END ASC,&quot; +           \n&quot; CASE WHEN :orderByDesc = '+carbo' THEN f.carbo END ASC&quot;)   \nPage&lt;Food&gt; findInCategoryOther\n(@Param(&quot;category&quot;) String category, @Param(&quot;orderByDesc&quot;) String orderByDesc, Pageable pageable);\n</code></pre>\n<p>I need to know where I should make changes and how?</p>\n"},{"tags":["java","java-8","tls1.2","wildfly-10"],"answers":[{"tags":[],"owner":{"account_id":5326312,"reputation":1120,"user_id":4248273,"accept_rate":100,"display_name":"Yeti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1564049122,"creation_date":1564049122,"answer_id":57199402,"question_id":57182136,"body_markdown":"As it turned out my problem was rather trivial. The JVM which reported the availability of the cipher suite was version 1.8.0_151.\r\nBut the Wildfly used another JVM with verson 1.8.0_141 which did not support the cipher.\r\n\r\n**Updating the JVM to at least 1.8.0_151 fixed the problem.**","title":"How to determine supported cipher suites for Wildfly 10","body":"<p>As it turned out my problem was rather trivial. The JVM which reported the availability of the cipher suite was version 1.8.0_151.\nBut the Wildfly used another JVM with verson 1.8.0_141 which did not support the cipher.</p>\n\n<p><strong>Updating the JVM to at least 1.8.0_151 fixed the problem.</strong></p>\n"}],"owner":{"account_id":5326312,"reputation":1120,"user_id":4248273,"accept_rate":100,"display_name":"Yeti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1081,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57199402,"answer_count":1,"score":1,"last_activity_date":1694447023,"creation_date":1563968672,"question_id":57182136,"body_markdown":"**How can I determine which cipher suites are supported by Wildlfly 10?**\r\n\r\nThe [documentation][1] just states that there is an option &quot;enabled-cipher-suites&quot;.\r\n\r\n*Background*: I&#39;m trying to configure various cipher suites. Example:\r\n\r\n     &lt;https-listener name=&quot;default-ssl&quot; socket-binding=&quot;https&quot; security-realm=&quot;SslRealm&quot; enabled-cipher-suites=&quot;TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384&quot; enabled-protocols=&quot;TLSv1.2&quot;/&gt;\r\n\r\nJava version:\r\n\r\n    openjdk version &quot;1.8.0_151&quot;\r\n    OpenJDK Runtime Environment (build 1.8.0_151-b12)\r\n    OpenJDK 64-Bit Server VM (build 25.151-b12, mixed mode)\r\n\r\nWhen I list the availables ciphers for the JVM using [this method][2] the cipher suite is available.\r\n\r\nWhen starting WildFly no connection is available with a browser and nmap also does not list any available ciphers (using `nmap --script ssl-enum-ciphers -p PORT HOSTNAME`)\r\n\r\nThere is [a list (capture from the Internet Archive)][3] by someone who used a tool to determine the version, but I think there should be a solution using Wildfly documentation or tools only.\r\n\r\n\r\n  [1]: https://docs.jboss.org/author/display/WFLY10/Admin+Guide#AdminGuide-HTTPSlistener\r\n  [2]: https://confluence.atlassian.com/stashkb/list-ciphers-used-by-jvm-679609085.html\r\n  [3]: https://web.archive.org/web/20210925144425/http://alloutfornoloss.com/jboss-ssl-version-cipher-list/","title":"How to determine supported cipher suites for Wildfly 10","body":"<p><strong>How can I determine which cipher suites are supported by Wildlfly 10?</strong></p>\n<p>The <a href=\"https://docs.jboss.org/author/display/WFLY10/Admin+Guide#AdminGuide-HTTPSlistener\" rel=\"nofollow noreferrer\">documentation</a> just states that there is an option &quot;enabled-cipher-suites&quot;.</p>\n<p><em>Background</em>: I'm trying to configure various cipher suites. Example:</p>\n<pre><code> &lt;https-listener name=&quot;default-ssl&quot; socket-binding=&quot;https&quot; security-realm=&quot;SslRealm&quot; enabled-cipher-suites=&quot;TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384&quot; enabled-protocols=&quot;TLSv1.2&quot;/&gt;\n</code></pre>\n<p>Java version:</p>\n<pre><code>openjdk version &quot;1.8.0_151&quot;\nOpenJDK Runtime Environment (build 1.8.0_151-b12)\nOpenJDK 64-Bit Server VM (build 25.151-b12, mixed mode)\n</code></pre>\n<p>When I list the availables ciphers for the JVM using <a href=\"https://confluence.atlassian.com/stashkb/list-ciphers-used-by-jvm-679609085.html\" rel=\"nofollow noreferrer\">this method</a> the cipher suite is available.</p>\n<p>When starting WildFly no connection is available with a browser and nmap also does not list any available ciphers (using <code>nmap --script ssl-enum-ciphers -p PORT HOSTNAME</code>)</p>\n<p>There is <a href=\"https://web.archive.org/web/20210925144425/http://alloutfornoloss.com/jboss-ssl-version-cipher-list/\" rel=\"nofollow noreferrer\">a list (capture from the Internet Archive)</a> by someone who used a tool to determine the version, but I think there should be a solution using Wildfly documentation or tools only.</p>\n"},{"tags":["java","android","android-toolbar","android-optionsmenu"],"answers":[{"comments":[{"owner":{"account_id":19614935,"reputation":25,"user_id":14356650,"display_name":"Shivanshu Raj"},"score":0,"creation_date":1694175205,"post_id":77066120,"comment_id":135860374,"body_markdown":"This solution didn&#39;t work.","body":"This solution didn&#39;t work."},{"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"score":0,"creation_date":1694177504,"post_id":77066120,"comment_id":135860790,"body_markdown":"Is &quot;Hey there&quot; toast message seen on the screen when you click the item?","body":"Is &quot;Hey there&quot; toast message seen on the screen when you click the item?"},{"owner":{"account_id":19614935,"reputation":25,"user_id":14356650,"display_name":"Shivanshu Raj"},"score":0,"creation_date":1694433896,"post_id":77066120,"comment_id":135886057,"body_markdown":"This line was causing the problem: app:actionLayout=&quot;@layout/custom_menu_layout&quot;. But, now I&#39;m not able to use custom layout for menu item.","body":"This line was causing the problem: app:actionLayout=&quot;@layout/custom_menu_layout&quot;. But, now I&#39;m not able to use custom layout for menu item."},{"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"score":1,"creation_date":1694446275,"post_id":77066120,"comment_id":135888715,"body_markdown":"If you are using custom layout, its doesn&#39;t implement `ClickListener` by default. I have updated my answer for that.","body":"If you are using custom layout, its doesn&#39;t implement <code>ClickListener</code> by default. I have updated my answer for that."}],"tags":[],"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694446703,"creation_date":1694168994,"answer_id":77066120,"question_id":77065852,"body_markdown":"Add a `return true` statement to all your conditionals in `onOptionsItemSelected()`. It indicates that you have successfully handled a menu item.\r\n```\r\n@Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        if(item.getItemId()==R.id.navigation_refine){\r\n            Toast.makeText(this, &quot;Hey there&quot;, Toast.LENGTH_SHORT).show();\r\n            Log.d(TAG, &quot;onOptionsItemSelected: Its working!&quot;);\r\n            return true;    // add this to your code\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n```\r\n\r\nIf you are using a custom layout for your menu, it doesn&#39;t call `onOptionsItemSelected()` by default. So you need to implement a click listener. You can follow [this tutorial][1] for more details.\r\n```\r\n    @Override\r\n    public boolean onPrepareOptionsMenu(Menu menu) {\r\n        final MenuItem menuItem = menu.findItem(R.id.navigation_refine);\r\n        View rootView =  menuItem.getActionView();\r\n\r\n        rootView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                onOptionsItemSelected(menuItem);\r\n            }\r\n        });\r\n\r\n        return super.onPrepareOptionsMenu(menu);\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://stablekernel.com/article/using-custom-views-as-menu-items/","title":"Overflow menu not working on toolbar in activity","body":"<p>Add a <code>return true</code> statement to all your conditionals in <code>onOptionsItemSelected()</code>. It indicates that you have successfully handled a menu item.</p>\n<pre><code>@Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n        if(item.getItemId()==R.id.navigation_refine){\n            Toast.makeText(this, &quot;Hey there&quot;, Toast.LENGTH_SHORT).show();\n            Log.d(TAG, &quot;onOptionsItemSelected: Its working!&quot;);\n            return true;    // add this to your code\n        }\n        return super.onOptionsItemSelected(item);\n    }\n\n</code></pre>\n<p>If you are using a custom layout for your menu, it doesn't call <code>onOptionsItemSelected()</code> by default. So you need to implement a click listener. You can follow <a href=\"https://stablekernel.com/article/using-custom-views-as-menu-items/\" rel=\"nofollow noreferrer\">this tutorial</a> for more details.</p>\n<pre><code>    @Override\n    public boolean onPrepareOptionsMenu(Menu menu) {\n        final MenuItem menuItem = menu.findItem(R.id.navigation_refine);\n        View rootView =  menuItem.getActionView();\n\n        rootView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                onOptionsItemSelected(menuItem);\n            }\n        });\n\n        return super.onPrepareOptionsMenu(menu);\n    }\n</code></pre>\n"}],"owner":{"account_id":19614935,"reputation":25,"user_id":14356650,"display_name":"Shivanshu Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77066120,"answer_count":1,"score":0,"last_activity_date":1694446703,"creation_date":1694166535,"question_id":77065852,"body_markdown":"I have setup a toolbar in MainActivity. I&#39;m able to create the options menu. But, when I click on the item nothing happens. I want to open a fragment on the click of the menu item. I&#39;m using app navigation patterns.\r\n\r\nI tried setting up toolbar as supportActionToolbar but it doesn&#39;t work. I tried to inflate menu on the toolbar and then use toolbars&#39;s setOnMenuItemClick listener but that also doesn&#39;t seem to work.\r\n\r\nHere&#39;s the code:\r\n\r\n```\r\nMainActivity.java\r\n\r\nToolbar toolbar = binding.toolbar;\r\ntoolbar.setTitle(&quot;Howdy John Doe !!&quot;);\r\ntoolbar.setSubtitle(&quot;Mumbai&quot;);\r\ntoolbar.setSubtitleTextColor(getResources().getColor(R.color.white, getTheme()));\r\ntoolbar.setTitleTextColor(getResources().getColor(R.color.white, getTheme()));\r\nsetSupportActionBar(toolbar);\r\n\r\n\r\n@Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.menu_main, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        if(item.getItemId()==R.id.navigation_refine){\r\n            Toast.makeText(this, &quot;Hey there&quot;, Toast.LENGTH_SHORT).show();\r\n            Log.d(TAG, &quot;onOptionsItemSelected: Its working!&quot;);\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n\r\n\r\nactivity_main.xml:\r\n\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/container&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:id=&quot;@+id/toolbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;60dp&quot;\r\n        android:background=&quot;@color/blue_200&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/nav_view&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;0dp&quot;\r\n        android:layout_marginEnd=&quot;0dp&quot;\r\n        android:background=&quot;?android:attr/windowBackground&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_host_fragment_activity_main&quot;\r\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:defaultNavHost=&quot;true&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@id/nav_view&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/toolbar&quot;\r\n        app:navGraph=&quot;@navigation/mobile_navigation&quot; /&gt;\r\n\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n\r\n\r\nmenu_main.xml:\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/navigation_refine&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:showAsAction=&quot;always&quot;\r\n        app:actionLayout=&quot;@layout/custom_menu_layout&quot;\r\n        android:icon=&quot;@drawable/mdi_format_list_checks&quot;\r\n        android:title=&quot;Refine&quot; /&gt;\r\n&lt;/menu&gt;\r\n```","title":"Overflow menu not working on toolbar in activity","body":"<p>I have setup a toolbar in MainActivity. I'm able to create the options menu. But, when I click on the item nothing happens. I want to open a fragment on the click of the menu item. I'm using app navigation patterns.</p>\n<p>I tried setting up toolbar as supportActionToolbar but it doesn't work. I tried to inflate menu on the toolbar and then use toolbars's setOnMenuItemClick listener but that also doesn't seem to work.</p>\n<p>Here's the code:</p>\n<pre><code>MainActivity.java\n\nToolbar toolbar = binding.toolbar;\ntoolbar.setTitle(&quot;Howdy John Doe !!&quot;);\ntoolbar.setSubtitle(&quot;Mumbai&quot;);\ntoolbar.setSubtitleTextColor(getResources().getColor(R.color.white, getTheme()));\ntoolbar.setTitleTextColor(getResources().getColor(R.color.white, getTheme()));\nsetSupportActionBar(toolbar);\n\n\n@Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.menu_main, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n        if(item.getItemId()==R.id.navigation_refine){\n            Toast.makeText(this, &quot;Hey there&quot;, Toast.LENGTH_SHORT).show();\n            Log.d(TAG, &quot;onOptionsItemSelected: Its working!&quot;);\n        }\n        return super.onOptionsItemSelected(item);\n    }\n\n\n\nactivity_main.xml:\n\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/container&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;androidx.appcompat.widget.Toolbar\n        android:id=&quot;@+id/toolbar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;60dp&quot;\n        android:background=&quot;@color/blue_200&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=&quot;@+id/nav_view&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;0dp&quot;\n        android:layout_marginEnd=&quot;0dp&quot;\n        android:background=&quot;?android:attr/windowBackground&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/nav_host_fragment_activity_main&quot;\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        app:defaultNavHost=&quot;true&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@id/nav_view&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/toolbar&quot;\n        app:navGraph=&quot;@navigation/mobile_navigation&quot; /&gt;\n\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n\n\nmenu_main.xml:\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;item\n        android:id=&quot;@+id/navigation_refine&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:showAsAction=&quot;always&quot;\n        app:actionLayout=&quot;@layout/custom_menu_layout&quot;\n        android:icon=&quot;@drawable/mdi_format_list_checks&quot;\n        android:title=&quot;Refine&quot; /&gt;\n&lt;/menu&gt;\n</code></pre>\n"},{"tags":["java","android","database","android-recyclerview","android-room"],"comments":[{"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"score":0,"creation_date":1694480691,"post_id":77082978,"comment_id":135893372,"body_markdown":"***When I click the backup and restore buttons nothing happens. Please may anyone assist?*** Then the first thing to try would be to place a BreakPoint on the line `File sd = Environment.getExternalStorageDirectory();` in both `exportDB` and `importDB` and then run in Debug mode. If the code does not stop and show the debug window when attempting to export/Import then the functions are not being called. If they are then you can follow the flow to see how far the code goes and what the code does/does not do. See https://developer.android.com/studio/debug/.","body":"<b><i>When I click the backup and restore buttons nothing happens. Please may anyone assist?</i></b> Then the first thing to try would be to place a BreakPoint on the line <code>File sd = Environment.getExternalStorageDirectory();</code> in both <code>exportDB</code> and <code>importDB</code> and then run in Debug mode. If the code does not stop and show the debug window when attempting to export/Import then the functions are not being called. If they are then you can follow the flow to see how far the code goes and what the code does/does not do. See <a href=\"https://developer.android.com/studio/debug/\" rel=\"nofollow noreferrer\">developer.android.com/studio/debug</a>."},{"owner":{"account_id":20220873,"reputation":137,"user_id":14830371,"display_name":"Anesu Mazvimavi"},"score":0,"creation_date":1694504439,"post_id":77082978,"comment_id":135895698,"body_markdown":"context.getExternalFilesDir(null)","body":"context.getExternalFilesDir(null)"},{"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"score":0,"creation_date":1694505045,"post_id":77082978,"comment_id":135895799,"body_markdown":"You may wish to check this https://stackoverflow.com/questions/5453708/android-how-to-use-environment-getexternalstoragedirectory and especially the comment with 45 useful points.","body":"You may wish to check this <a href=\"https://stackoverflow.com/questions/5453708/android-how-to-use-environment-getexternalstoragedirectory\" title=\"android how to use environment getexternalstoragedirectory\">stackoverflow.com/questions/5453708/&hellip;</a> and especially the comment with 45 useful points."},{"owner":{"account_id":20220873,"reputation":137,"user_id":14830371,"display_name":"Anesu Mazvimavi"},"score":0,"creation_date":1694516903,"post_id":77082978,"comment_id":135898216,"body_markdown":"@MikeT I also suspect that there could be something wrong with my permissions because the code doesn&#39;t even ask for permissions","body":"@MikeT I also suspect that there could be something wrong with my permissions because the code doesn&#39;t even ask for permissions"}],"owner":{"account_id":20220873,"reputation":137,"user_id":14830371,"display_name":"Anesu Mazvimavi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694446362,"creation_date":1694446362,"question_id":77082978,"body_markdown":"I am writing a program to backup and restore a room database in Android Studio. I have a recyclerview to load a user list. I am supposed to backup and restore the user list from the recyclerview to external storage. When I click the backup and restore buttons nothing happens. Please may anyone assist?\r\n\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.os.Environment;\r\n    import android.view.Menu;\r\n    import android.view.MenuItem;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.Nullable;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.appcompat.widget.Toolbar;\r\n    import androidx.recyclerview.widget.DividerItemDecoration;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import com.example.innbucksbackuprestoreroomdb.database.AppDatabase;\r\n    import com.example.innbucksbackuprestoreroomdb.database.User;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.nio.channels.FileChannel;\r\n    import java.util.List;\r\n    \r\n    public class BackupRestore extends AppCompatActivity {\r\n        private UserListAdapter userListAdapter;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.backup_restore);\r\n    \r\n            Toolbar toolbar = findViewById(R.id.toolbar);\r\n            setSupportActionBar(toolbar);\r\n    \r\n            initRecyclerView();\r\n    \r\n            loadUserList();\r\n        }\r\n    \r\n        private void initRecyclerView(){\r\n            RecyclerView recyclerView = findViewById(R.id.recyclerview);\r\n            recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n    \r\n            DividerItemDecoration dividerItemDecoration = new DividerItemDecoration(this, DividerItemDecoration.VERTICAL);\r\n            recyclerView.addItemDecoration(dividerItemDecoration);\r\n    \r\n            userListAdapter = new UserListAdapter(this);\r\n            recyclerView.setAdapter(userListAdapter);\r\n        }\r\n    \r\n        private void loadUserList(){\r\n            AppDatabase database = AppDatabase.getDbInstance(this.getApplicationContext());\r\n            List&lt;User&gt; userList = database.userDao().getallusers();\r\n            userListAdapter.setUserList(userList);\r\n        }\r\n    \r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n            if (resultCode == 100){\r\n                loadUserList();\r\n            }\r\n    \r\n            super.onActivityResult(requestCode, resultCode, data);\r\n        }\r\n    \r\n        public static void importDB(Context context) {\r\n            try {\r\n                File sd = Environment.getExternalStorageDirectory();\r\n                // by closing the database some other database files ending with -shm and -wal are deleted so that there is one database file and it has all content\r\n                AppDatabase.getDbInstance(context).close();\r\n    \r\n                if (sd.canRead()) {\r\n                    File currentDB = context.getDatabasePath(AppDatabase.DATABASE_NAME);\r\n                    File backupDB = new File(sd, AppDatabase.DATABASE_NAME);\r\n    \r\n                    transfer(context, backupDB, currentDB);\r\n                    Toast.makeText(context, &quot;Database Restored successfully&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n    \r\n        public static void exportDB(Context context) {\r\n            try {\r\n                File sd = Environment.getExternalStorageDirectory();\r\n                // by closing the database some other database files ending with -shm and -wal are deleted so that there is one database file and it has all content\r\n                AppDatabase.getDbInstance(context).close();\r\n    \r\n                if (sd.canWrite()) {\r\n                    File currentDB = context.getDatabasePath(AppDatabase.DATABASE_NAME);\r\n                    File backupDB = new File(sd, AppDatabase.DATABASE_NAME);\r\n                    transfer(context, currentDB, backupDB);\r\n    \r\n                    Toast.makeText(context, &quot;Backup is successful to SD card&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        private static void transfer(Context context, File sourceFile, File destinationFile) throws IOException {\r\n            if (sourceFile.exists()) {\r\n                FileChannel src = new FileInputStream(sourceFile).getChannel();\r\n                FileChannel dst = new FileOutputStream(destinationFile).getChannel();\r\n                dst.transferFrom(src, 0, src.size());\r\n                src.close();\r\n                dst.close();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            getMenuInflater().inflate(R.menu.menu, menu);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n            int id = item.getItemId();\r\n    \r\n            if (id == R.id.back_up){\r\n                BackupRestore.exportDB(getBaseContext());\r\n            }\r\n            else if(id == R.id.restore_btn){\r\n                BackupRestore.importDB(getBaseContext());\r\n            }\r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n    }\r\n\r\n Code for the Userlist adapter:\r\n\r\n    public class UserListAdapter extends RecyclerView.Adapter&lt;UserListAdapter.MyViewHolder&gt; {\r\n        private Context context;\r\n        private List&lt;User&gt; userList;\r\n    \r\n        public UserListAdapter(Context context){\r\n            this.context = context;\r\n        }\r\n    \r\n        public void setUserList(List&lt;User&gt;userList){\r\n            this.userList = userList;\r\n            notifyDataSetChanged();\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public UserListAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(context).inflate(R.layout.recycler_row, parent, false);\r\n    \r\n            return new MyViewHolder(view);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull UserListAdapter.MyViewHolder holder, int position) {\r\n            holder.id.setText(String.valueOf(this.userList.get(position).getId()));\r\n            holder.Name.setText(this.userList.get(position).getName());\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return this.userList.size();\r\n        }\r\n    \r\n        public static class MyViewHolder extends RecyclerView.ViewHolder{\r\n            TextView id;\r\n            TextView Name;\r\n            public MyViewHolder(View view){\r\n                super(view);\r\n                id = view.findViewById(R.id.tvId);\r\n                Name = view.findViewById(R.id.tvName);\r\n            }\r\n        }\r\n    }","title":"Room database is not importing and exporting","body":"<p>I am writing a program to backup and restore a room database in Android Studio. I have a recyclerview to load a user list. I am supposed to backup and restore the user list from the recyclerview to external storage. When I click the backup and restore buttons nothing happens. Please may anyone assist?</p>\n<pre><code>import android.content.Context;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.Toolbar;\nimport androidx.recyclerview.widget.DividerItemDecoration;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.example.innbucksbackuprestoreroomdb.database.AppDatabase;\nimport com.example.innbucksbackuprestoreroomdb.database.User;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.nio.channels.FileChannel;\nimport java.util.List;\n\npublic class BackupRestore extends AppCompatActivity {\n    private UserListAdapter userListAdapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.backup_restore);\n\n        Toolbar toolbar = findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n\n        initRecyclerView();\n\n        loadUserList();\n    }\n\n    private void initRecyclerView(){\n        RecyclerView recyclerView = findViewById(R.id.recyclerview);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n        DividerItemDecoration dividerItemDecoration = new DividerItemDecoration(this, DividerItemDecoration.VERTICAL);\n        recyclerView.addItemDecoration(dividerItemDecoration);\n\n        userListAdapter = new UserListAdapter(this);\n        recyclerView.setAdapter(userListAdapter);\n    }\n\n    private void loadUserList(){\n        AppDatabase database = AppDatabase.getDbInstance(this.getApplicationContext());\n        List&lt;User&gt; userList = database.userDao().getallusers();\n        userListAdapter.setUserList(userList);\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        if (resultCode == 100){\n            loadUserList();\n        }\n\n        super.onActivityResult(requestCode, resultCode, data);\n    }\n\n    public static void importDB(Context context) {\n        try {\n            File sd = Environment.getExternalStorageDirectory();\n            // by closing the database some other database files ending with -shm and -wal are deleted so that there is one database file and it has all content\n            AppDatabase.getDbInstance(context).close();\n\n            if (sd.canRead()) {\n                File currentDB = context.getDatabasePath(AppDatabase.DATABASE_NAME);\n                File backupDB = new File(sd, AppDatabase.DATABASE_NAME);\n\n                transfer(context, backupDB, currentDB);\n                Toast.makeText(context, &quot;Database Restored successfully&quot;, Toast.LENGTH_SHORT).show();\n\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n\n    public static void exportDB(Context context) {\n        try {\n            File sd = Environment.getExternalStorageDirectory();\n            // by closing the database some other database files ending with -shm and -wal are deleted so that there is one database file and it has all content\n            AppDatabase.getDbInstance(context).close();\n\n            if (sd.canWrite()) {\n                File currentDB = context.getDatabasePath(AppDatabase.DATABASE_NAME);\n                File backupDB = new File(sd, AppDatabase.DATABASE_NAME);\n                transfer(context, currentDB, backupDB);\n\n                Toast.makeText(context, &quot;Backup is successful to SD card&quot;, Toast.LENGTH_SHORT).show();\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static void transfer(Context context, File sourceFile, File destinationFile) throws IOException {\n        if (sourceFile.exists()) {\n            FileChannel src = new FileInputStream(sourceFile).getChannel();\n            FileChannel dst = new FileOutputStream(destinationFile).getChannel();\n            dst.transferFrom(src, 0, src.size());\n            src.close();\n            dst.close();\n        }\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.menu, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n        int id = item.getItemId();\n\n        if (id == R.id.back_up){\n            BackupRestore.exportDB(getBaseContext());\n        }\n        else if(id == R.id.restore_btn){\n            BackupRestore.importDB(getBaseContext());\n        }\n        return super.onOptionsItemSelected(item);\n    }\n}\n</code></pre>\n<p>Code for the Userlist adapter:</p>\n<pre><code>public class UserListAdapter extends RecyclerView.Adapter&lt;UserListAdapter.MyViewHolder&gt; {\n    private Context context;\n    private List&lt;User&gt; userList;\n\n    public UserListAdapter(Context context){\n        this.context = context;\n    }\n\n    public void setUserList(List&lt;User&gt;userList){\n        this.userList = userList;\n        notifyDataSetChanged();\n    }\n\n    @NonNull\n    @Override\n    public UserListAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.recycler_row, parent, false);\n\n        return new MyViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull UserListAdapter.MyViewHolder holder, int position) {\n        holder.id.setText(String.valueOf(this.userList.get(position).getId()));\n        holder.Name.setText(this.userList.get(position).getName());\n    }\n\n    @Override\n    public int getItemCount() {\n        return this.userList.size();\n    }\n\n    public static class MyViewHolder extends RecyclerView.ViewHolder{\n        TextView id;\n        TextView Name;\n        public MyViewHolder(View view){\n            super(view);\n            id = view.findViewById(R.id.tvId);\n            Name = view.findViewById(R.id.tvName);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","testcontainers","testcontainers-junit5"],"answers":[{"tags":[],"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637781464,"creation_date":1637781464,"answer_id":70101775,"question_id":70100554,"body_markdown":"I prefer to start a container in a separate configuration so the test classes are not required to extend a specific abstract class.\r\n\r\n```java\r\n/**\r\n * Starts a database server in a local Docker container.\r\n */\r\n@TestConfiguration\r\npublic class TestDatabaseConfiguration {\r\n\r\n    private static final PostgreSQLContainer postgreSQLContainer = new PostgreSQLContainer&lt;&gt;(&quot;postgres:13&quot;)\r\n            .withDatabaseName(&quot;my-test-db&quot;)\r\n            .withUsername(&quot;username&quot;)\r\n            .withPassword(&quot;password&quot;);\r\n\r\n    static {\r\n        postgreSQLContainer.start();\r\n\r\n        System.setProperty(&quot;spring.datasource.url&quot;, postgreSQLContainer.getJdbcUrl());\r\n        System.setProperty(&quot;spring.datasource.password&quot;, postgreSQLContainer.getPassword());\r\n        System.setProperty(&quot;spring.datasource.username&quot;, postgreSQLContainer.getUsername());\r\n    }\r\n}\r\n\r\n```\r\n\r\nTest classes that want to connect to the single shared database server are annotated with:\r\n\r\n```java\r\n@Import(TestDatabaseConfiguration.class)\r\n```","title":"How to make a common @Testcontainer for multiple Jupiter tests?","body":"<p>I prefer to start a container in a separate configuration so the test classes are not required to extend a specific abstract class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Starts a database server in a local Docker container.\n */\n@TestConfiguration\npublic class TestDatabaseConfiguration {\n\n    private static final PostgreSQLContainer postgreSQLContainer = new PostgreSQLContainer&lt;&gt;(&quot;postgres:13&quot;)\n            .withDatabaseName(&quot;my-test-db&quot;)\n            .withUsername(&quot;username&quot;)\n            .withPassword(&quot;password&quot;);\n\n    static {\n        postgreSQLContainer.start();\n\n        System.setProperty(&quot;spring.datasource.url&quot;, postgreSQLContainer.getJdbcUrl());\n        System.setProperty(&quot;spring.datasource.password&quot;, postgreSQLContainer.getPassword());\n        System.setProperty(&quot;spring.datasource.username&quot;, postgreSQLContainer.getUsername());\n    }\n}\n\n</code></pre>\n<p>Test classes that want to connect to the single shared database server are annotated with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Import(TestDatabaseConfiguration.class)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25502779,"reputation":109,"user_id":19295685,"display_name":"seju"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694446197,"creation_date":1694446197,"answer_id":77082952,"question_id":70100554,"body_markdown":"A different solution but based on Test Container [docs][1]\r\n\r\n    @TestConfiguration\r\n    public class TestConfig {\r\n    \r\n        static final MySQLContainer&lt;?&gt; container;\r\n    \r\n        static {\r\n            // Build MySQL container\r\n            container = new MySQLContainer&lt;&gt;(&quot;mysql:latest&quot;)\r\n                    .withDatabaseName(&quot;sara_brand_db&quot;)\r\n                    .withUsername(&quot;sara&quot;)\r\n                    .withPassword(&quot;sara&quot;);\r\n    \r\n            // Start container\r\n            container.start();\r\n        }\r\n    }\r\n\r\nImport `TestConfig` class\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    @AutoConfigureMockMvc\r\n    @Import(TestConfig.class)\r\n    public abstract class AbstractIntegrationTest {\r\n    \r\n        @Autowired protected MockMvc MOCKMVC;\r\n        @Autowired @Qualifier(value = &quot;testMapper&quot;) protected ObjectMapper MAPPER;\r\n    \r\n        // Set database connection\r\n        @DynamicPropertySource\r\n        public static void properties(DynamicPropertyRegistry registry) {\r\n            registry.add(&quot;spring.datasource.url&quot;, container::getJdbcUrl);\r\n            registry.add(&quot;spring.datasource.username&quot;, container::getUsername);\r\n            registry.add(&quot;spring.datasource.password&quot;, container::getPassword);\r\n        }\r\n    \r\n        // For every test, validate DB is running\r\n        @Test\r\n        void databaseIsRunning() {\r\n            assertTrue(container.isRunning());\r\n            assertTrue(container.isCreated());\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://java.testcontainers.org/test_framework_integration/manual_lifecycle_control/","title":"How to make a common @Testcontainer for multiple Jupiter tests?","body":"<p>A different solution but based on Test Container <a href=\"https://java.testcontainers.org/test_framework_integration/manual_lifecycle_control/\" rel=\"nofollow noreferrer\">docs</a></p>\n<pre><code>@TestConfiguration\npublic class TestConfig {\n\n    static final MySQLContainer&lt;?&gt; container;\n\n    static {\n        // Build MySQL container\n        container = new MySQLContainer&lt;&gt;(&quot;mysql:latest&quot;)\n                .withDatabaseName(&quot;sara_brand_db&quot;)\n                .withUsername(&quot;sara&quot;)\n                .withPassword(&quot;sara&quot;);\n\n        // Start container\n        container.start();\n    }\n}\n</code></pre>\n<p>Import <code>TestConfig</code> class</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@AutoConfigureMockMvc\n@Import(TestConfig.class)\npublic abstract class AbstractIntegrationTest {\n\n    @Autowired protected MockMvc MOCKMVC;\n    @Autowired @Qualifier(value = &quot;testMapper&quot;) protected ObjectMapper MAPPER;\n\n    // Set database connection\n    @DynamicPropertySource\n    public static void properties(DynamicPropertyRegistry registry) {\n        registry.add(&quot;spring.datasource.url&quot;, container::getJdbcUrl);\n        registry.add(&quot;spring.datasource.username&quot;, container::getUsername);\n        registry.add(&quot;spring.datasource.password&quot;, container::getPassword);\n    }\n\n    // For every test, validate DB is running\n    @Test\n    void databaseIsRunning() {\n        assertTrue(container.isRunning());\n        assertTrue(container.isCreated());\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":20239427,"reputation":31,"user_id":17500439,"display_name":"Nikita Kozhukharov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1991,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1694446197,"creation_date":1637775340,"question_id":70100554,"body_markdown":"I have an abstract controller test class and its inheritor with units, but I want to separate tests into different classes according to the controller method they are testing. Every time I create the second test-class and put a test in it I get the following error:\r\n\r\n```Failed to validate connection org.postgresql.jdbc.PgConnection@28806954 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.```\r\n\r\nI have the following base class:\r\n\r\n    @SpringBootTest\r\n    @AutoConfigureMockMvc\r\n    @Testcontainers\r\n    public abstract class ControllerAbstractTest {\r\n        @Container\r\n        private final static PostgreSQLContainer postgreSQLContainer;\r\n\r\n        static {\r\n            postgreSQLContainer = new PostgreSQLContainer&lt;&gt;(&quot;postgres:13&quot;)\r\n                .withDatabaseName(&quot;my-test-db&quot;)\r\n                .withUsername(&quot;a&quot;)\r\n                .withPassword(&quot;a&quot;);\r\n            postgreSQLContainer.start();\r\n\r\n            System.setProperty(&quot;spring.datasource.url&quot;, postgreSQLContainer.getJdbcUrl());\r\n            System.setProperty(&quot;spring.datasource.password&quot;, postgreSQLContainer.getPassword());\r\n            System.setProperty(&quot;spring.datasource.username&quot;, postgreSQLContainer.getUsername());\r\n        }\r\n        // other methods\r\n\r\nTests work just fine in a single inheritor class.\r\n\r\nI am using `org.testcontainers:junit-jupiter:1.16.2`, same version for postgresql and `spring boot 2.5.6`. `@Test` annotation is from `org.junit.jupiter.api.Test`\r\n\r\nI have tried adding `@Testcontainers` to inheritors and removing it from the base test class, but it did not help.","title":"How to make a common @Testcontainer for multiple Jupiter tests?","body":"<p>I have an abstract controller test class and its inheritor with units, but I want to separate tests into different classes according to the controller method they are testing. Every time I create the second test-class and put a test in it I get the following error:</p>\n<p><code>Failed to validate connection org.postgresql.jdbc.PgConnection@28806954 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.</code></p>\n<p>I have the following base class:</p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\n@Testcontainers\npublic abstract class ControllerAbstractTest {\n    @Container\n    private final static PostgreSQLContainer postgreSQLContainer;\n\n    static {\n        postgreSQLContainer = new PostgreSQLContainer&lt;&gt;(&quot;postgres:13&quot;)\n            .withDatabaseName(&quot;my-test-db&quot;)\n            .withUsername(&quot;a&quot;)\n            .withPassword(&quot;a&quot;);\n        postgreSQLContainer.start();\n\n        System.setProperty(&quot;spring.datasource.url&quot;, postgreSQLContainer.getJdbcUrl());\n        System.setProperty(&quot;spring.datasource.password&quot;, postgreSQLContainer.getPassword());\n        System.setProperty(&quot;spring.datasource.username&quot;, postgreSQLContainer.getUsername());\n    }\n    // other methods\n</code></pre>\n<p>Tests work just fine in a single inheritor class.</p>\n<p>I am using <code>org.testcontainers:junit-jupiter:1.16.2</code>, same version for postgresql and <code>spring boot 2.5.6</code>. <code>@Test</code> annotation is from <code>org.junit.jupiter.api.Test</code></p>\n<p>I have tried adding <code>@Testcontainers</code> to inheritors and removing it from the base test class, but it did not help.</p>\n"},{"tags":["java","spring-boot","spring-security","keycloak","spring-saml"],"owner":{"account_id":8792043,"reputation":460,"user_id":6571471,"accept_rate":38,"display_name":"manjosh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694445858,"creation_date":1694445858,"question_id":77082912,"body_markdown":"Im working on integrating keycloak SAML with a springboot 3 application.\r\nIts a simple rest application with one end-point.\r\n\r\nwhen call the API it does not get redirected to the keycloak login, instead I get the error\r\n\r\n    2023-09-11T20:39:59.809+05:30  WARN 24592 --- [nio-8081-exec-9] .BasicSignatureSigningParametersResolver : Validation failure: Unable to resolve signing \r\n    credential\r\n    2023-09-11T20:39:59.809+05:30 ERROR 24592 --- [nio-8081-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\r\n\r\n    org.springframework.security.saml2.Saml2Exception: java.lang.IllegalArgumentException: Failed to resolve any signing credential\r\n\tat org.springframework.security.saml2.provider.service.web.authentication.OpenSamlSigningUtils.resolveSigningParameters(OpenSamlSigningUtils.java:116) ~[spring-security-saml2-service-provider-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.saml2.provider.service.web.authentication.OpenSamlSigningUtils.sign(OpenSamlSigningUtils.java:81) ~[spring-security-saml2-service-provider-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.saml2.provider.service.web.authentication.OpenSamlAuthenticationRequestResolver.resolve(OpenSamlAuthenticationRequestResolver.java:159) ~[spring-security-saml2-service-provider-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.saml2.provider.service.web.authentication.OpenSaml4AuthenticationRequestResolver.resolve(OpenSaml4AuthenticationRequestResolver.java:73) ~[spring-security-saml2-service-provider-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.saml2.provider.service.web.Saml2WebSsoAuthenticationRequestFilter.doFilterInternal(Saml2WebSsoAuthenticationRequestFilter.java:98) ~[spring-security-saml2-service-provider-6.1.3.jar:6.1.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.saml2.provider.service.web.authentication.logout.Saml2LogoutResponseFilter.doFilterInternal(Saml2LogoutResponseFilter.java:112) ~[spring-security-saml2-service-provider-6.1.3.jar:6.1.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.saml2.provider.service.web.authentication.logout.Saml2LogoutRequestFilter.doFilterInternal(Saml2LogoutRequestFilter.java:126) ~[spring-security-saml2-service-provider-6.1.3.jar:6.1.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.11.jar:6.0.11]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.11.jar:6.0.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.11.jar:6.0.11]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.11.jar:6.0.11]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.11.jar:6.0.11]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.11.jar:6.0.11]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:an]\r\n    Caused by: java.lang.IllegalArgumentException: Failed to resolve any signing credential\r\n\tat org.springframework.util.Assert.notNull(Assert.java:204) ~[spring-core-6.0.11.jar:6.0.11]\r\n\tat org.springframework.security.saml2.provider.service.web.authentication.OpenSamlSigningUtils.resolveSigningParameters(OpenSamlSigningUtils.java:112) ~[spring-security-saml2-service-provider-6.1.3.jar:6.1.3]\r\n\t... 93 common frames omitted\r\n\r\nHere is my configuration on keycloak\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\nMy security config class:\r\n\r\n    package com.manjosh.migration;\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.saml2.provider.service.metadata.OpenSamlMetadataResolver;\r\n    import org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository;\r\n    import org.springframework.security.saml2.provider.service.web.DefaultRelyingPartyRegistrationResolver;\r\n    import org.springframework.security.saml2.provider.service.web.Saml2MetadataFilter;\r\n    import org.springframework.security.saml2.provider.service.web.authentication.Saml2WebSsoAuthenticationFilter;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n\r\n    import static org.springframework.security.config.Customizer.withDefaults;\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SamlSecurityConfig {\r\n        @Autowired\r\n        private RelyingPartyRegistrationRepository relyingPartyRegistrationRepository;\r\n\r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        DefaultRelyingPartyRegistrationResolver relyingPartyRegistrationResolver = new DefaultRelyingPartyRegistrationResolver(this.relyingPartyRegistrationRepository);\r\n            Saml2MetadataFilter filter = new     Saml2MetadataFilter(relyingPartyRegistrationResolver, new OpenSamlMetadataResolver());\r\n        http.authorizeHttpRequests(authorize -&gt; authorize.anyRequest()\r\n                        .authenticated())\r\n                .saml2Login(withDefaults())\r\n                .saml2Logout(withDefaults())\r\n                .addFilterBefore(filter, Saml2WebSsoAuthenticationFilter.class);\r\n        return http.build();\r\n    }\r\n\r\n\r\n    }\r\n\r\n    package com.manjosh.migration;\r\n\r\n\r\n    import org.opensaml.security.x509.X509Support;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.saml2.core.Saml2X509Credential;\r\n    import org.springframework.security.saml2.provider.service.registration.InMemoryRelyingPartyRegistrationRepository;\r\n    import org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistration;\r\n    import org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository;\r\n    import org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrations;\r\n\r\n    import java.io.File;\r\n    import java.security.cert.X509Certificate;\r\n\r\n    @Configuration\r\n    public class Config {\r\n        @Bean\r\n        protected RelyingPartyRegistrationRepository relyingPartyRegistrations() {\r\n        RelyingPartyRegistration registration = null;\r\n        ClassLoader classLoader = getClass().getClassLoader();\r\n        try {\r\n            File verificationKey = new File(classLoader.getResource(&quot;saml-certificate/keycloak.crt&quot;).getFile());\r\n            X509Certificate certificate = X509Support.decodeCertificate(verificationKey);\r\n            Saml2X509Credential credential = Saml2X509Credential.verification(certificate);\r\n            registration = RelyingPartyRegistrations\r\n                    .fromMetadataLocation(&quot;http://localhost:8080/auth/realms/migration/protocol/saml/descriptor&quot;)\r\n                    .registrationId(&quot;keycloak&quot;)\r\n                    .assertingPartyDetails(party -&gt; party.entityId(&quot;springboot-app&quot;)\r\n                            .verificationX509Credentials(c -&gt; c.add(credential)))\r\n                    .build();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return new InMemoryRelyingPartyRegistrationRepository(registration);\r\n    }\r\n    }\r\n\r\nfor certificate I used the certificate present in the SAML metadata URL. I just enclosed it with\r\n`-----BEGIN CERTIFICATE-----` and `-----END CERTIFICATE-----`\r\n\r\nhere is my metadata XML\r\n\r\n    &lt;md:EntityDescriptor xmlns=&quot;urn:oasis:names:tc:SAML:2.0:metadata&quot; \r\n    xmlns:md=&quot;urn:oasis:names:tc:SAML:2.0:metadata&quot; xmlns:saml=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot; xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot; entityID=&quot;http://localhost:8080/auth/realms/migration&quot;&gt;\r\n    &lt;md:IDPSSODescriptor WantAuthnRequestsSigned=&quot;true&quot; protocolSupportEnumeration=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot;&gt;\r\n    &lt;md:KeyDescriptor use=&quot;signing&quot;&gt;\r\n    &lt;ds:KeyInfo&gt;\r\n    &lt;ds:KeyName&gt;Ve1ljPni2EOqoZUc9kqAi1pbp1V7-gORtFMhZd2623o&lt;/ds:KeyName&gt;\r\n    &lt;ds:X509Data&gt;\r\n        &lt;ds:X509Certificate&gt;MIICoTCCAYkCBgGKhHRXrzANBgkqhkiG9w0BAQsFADAUMRIwEAYDVQQDDAltaWdyYXRpb24wHhcNMjMwOTExMTMzMzUxWhcNMzMwOTExMTMzNTMxWjAUMRIwEAYDVQQDDAltaWdyYXRpb24wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC0HGfWqhmX6jzM52XLldpr65Kzncp4EfLYUOVx+Hk4Qi13L9b48DCSQAL7IW3b+6vAZjpr4MQoXnWHCuLZU3ivMdce2ue/UqCJp/ns69gkQZL4OUMo0g0bHPZLiVves8+vnkA3QFJfXL6wiCruBqFJelRMkLOopq0zvjxjyirdJ70Sr36JgvpMJc1rHDtjRtGPfjZiL/ME7kG274TweizB6f/9Rm8sG/CFeP6l66SZ2cM/DYthbxIQxFkzdiNSfmh3xT9W5sIjW1GhKNmrWSSb8huWSZ7C/fOrpal5V5/xf8PqGJIiGBqF+h20HGK6YG3A9cCyjgecjkiZsos8cqqTAgMBAAEwDQYJKoZIhvcNAQELBQADggEBAD7nF6C4fSY+ns+YpaeSb/CZIy7zd9FtT5RrCAixvnoXXqCGhiZ6n/K1OlzmH0nqjrYJ4cKVWU5yZoq3VzDGlCCWgyyhCEhObRt2ZljGuI9FOlQ5a0Ecv/hpmrEyqh4Exp84DKqqOGXzkatvHu++BEiyWIg+uf/BifG6LN3Jm7a7llbsXn2/rUr+tJugmBc4dPxvvZ7gPBcJsKH876DDS/uX/cWYN2Hbf2gwo6bdAhsT4cNsP+oJMFVBclvBVNjlkSl37vtPOGn8T7oy2XgA+/ZsqCmSsB635DQVcet0ShlFAvvDAMd+A/bIVwHpIgVKKfma64RVBINpZDXkcQWSgQ8=&lt;/ds:X509Certificate&gt;\r\n    &lt;/ds:X509Data&gt;\r\n    &lt;/ds:KeyInfo&gt;\r\n    &lt;/md:KeyDescriptor&gt;\r\n    &lt;md:ArtifactResolutionService Binding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:SOAP&quot; Location=&quot;http://localhost:8080/auth/realms/migration/protocol/saml/resolve&quot; index=&quot;0&quot;/&gt;\r\n    &lt;md:SingleLogoutService Binding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot; Location=&quot;http://localhost:8080/auth/realms/migration/protocol/saml&quot;/&gt;\r\n    &lt;md:SingleLogoutService Binding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect&quot; Location=&quot;http://localhost:8080/auth/realms/migration/protocol/saml&quot;/&gt;\r\n    &lt;md:SingleLogoutService Binding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact&quot; Location=&quot;http://localhost:8080/auth/realms/migration/protocol/saml&quot;/&gt;\r\n    &lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:2.0:nameid-format:persistent&lt;/md:NameIDFormat&gt;\r\n    &lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:2.0:nameid-format:transient&lt;/md:NameIDFormat&gt;\r\n    &lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&lt;/md:NameIDFormat&gt;\r\n    &lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&lt;/md:NameIDFormat&gt;\r\n    &lt;md:SingleSignOnService Binding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot; Location=&quot;http://localhost:8080/auth/realms/migration/protocol/saml&quot;/&gt;\r\n    &lt;md:SingleSignOnService Binding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect&quot; Location=&quot;http://localhost:8080/auth/realms/migration/protocol/saml&quot;/&gt;\r\n    &lt;md:SingleSignOnService Binding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:SOAP&quot; Location=&quot;http://localhost:8080/auth/realms/migration/protocol/saml&quot;/&gt;\r\n    &lt;md:SingleSignOnService Binding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact&quot; Location=&quot;http://localhost:8080/auth/realms/migration/protocol/saml&quot;/&gt;\r\n    &lt;/md:IDPSSODescriptor&gt;\r\n    &lt;/md:EntityDescriptor&gt;\r\n\r\n\r\nPlease help.\r\n  [1]: https://i.stack.imgur.com/kVbLY.png\r\n  [2]: https://i.stack.imgur.com/jUJkw.png\r\n  [3]: https://i.stack.imgur.com/iTUFt.png","title":"Springboot keycloak SAML Failed to resolve any signing credential","body":"<p>Im working on integrating keycloak SAML with a springboot 3 application.\nIts a simple rest application with one end-point.</p>\n<p>when call the API it does not get redirected to the keycloak login, instead I get the error</p>\n<pre><code>2023-09-11T20:39:59.809+05:30  WARN 24592 --- [nio-8081-exec-9] .BasicSignatureSigningParametersResolver : Validation failure: Unable to resolve signing \ncredential\n2023-09-11T20:39:59.809+05:30 ERROR 24592 --- [nio-8081-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\n\norg.springframework.security.saml2.Saml2Exception: java.lang.IllegalArgumentException: Failed to resolve any signing credential\nat org.springframework.security.saml2.provider.service.web.authentication.OpenSamlSigningUtils.resolveSigningParameters(OpenSamlSigningUtils.java:116) ~[spring-security-saml2-service-provider-6.1.3.jar:6.1.3]\nat org.springframework.security.saml2.provider.service.web.authentication.OpenSamlSigningUtils.sign(OpenSamlSigningUtils.java:81) ~[spring-security-saml2-service-provider-6.1.3.jar:6.1.3]\nat org.springframework.security.saml2.provider.service.web.authentication.OpenSamlAuthenticationRequestResolver.resolve(OpenSamlAuthenticationRequestResolver.java:159) ~[spring-security-saml2-service-provider-6.1.3.jar:6.1.3]\nat org.springframework.security.saml2.provider.service.web.authentication.OpenSaml4AuthenticationRequestResolver.resolve(OpenSaml4AuthenticationRequestResolver.java:73) ~[spring-security-saml2-service-provider-6.1.3.jar:6.1.3]\nat org.springframework.security.saml2.provider.service.web.Saml2WebSsoAuthenticationRequestFilter.doFilterInternal(Saml2WebSsoAuthenticationRequestFilter.java:98) ~[spring-security-saml2-service-provider-6.1.3.jar:6.1.3]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\nat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\nat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.saml2.provider.service.web.authentication.logout.Saml2LogoutResponseFilter.doFilterInternal(Saml2LogoutResponseFilter.java:112) ~[spring-security-saml2-service-provider-6.1.3.jar:6.1.3]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\nat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.saml2.provider.service.web.authentication.logout.Saml2LogoutRequestFilter.doFilterInternal(Saml2LogoutRequestFilter.java:126) ~[spring-security-saml2-service-provider-6.1.3.jar:6.1.3]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\nat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\nat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\nat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\nat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.3.jar:6.1.3]\nat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.11.jar:6.0.11]\nat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.11.jar:6.0.11]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.11.jar:6.0.11]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.11.jar:6.0.11]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\nat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.11.jar:6.0.11]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.11.jar:6.0.11]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\nat java.base/java.lang.Thread.run(Thread.java:833) ~[na:an]\nCaused by: java.lang.IllegalArgumentException: Failed to resolve any signing credential\nat org.springframework.util.Assert.notNull(Assert.java:204) ~[spring-core-6.0.11.jar:6.0.11]\nat org.springframework.security.saml2.provider.service.web.authentication.OpenSamlSigningUtils.resolveSigningParameters(OpenSamlSigningUtils.java:112) ~[spring-security-saml2-service-provider-6.1.3.jar:6.1.3]\n... 93 common frames omitted\n</code></pre>\n<p>Here is my configuration on keycloak</p>\n<p>[![enter image description here][1]][1]\n[![enter image description here][2]][2]\n[![enter image description here][3]][3]</p>\n<p>My security config class:</p>\n<pre><code>package com.manjosh.migration;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.saml2.provider.service.metadata.OpenSamlMetadataResolver;\nimport org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository;\nimport org.springframework.security.saml2.provider.service.web.DefaultRelyingPartyRegistrationResolver;\nimport org.springframework.security.saml2.provider.service.web.Saml2MetadataFilter;\nimport org.springframework.security.saml2.provider.service.web.authentication.Saml2WebSsoAuthenticationFilter;\nimport org.springframework.security.web.SecurityFilterChain;\n\nimport static org.springframework.security.config.Customizer.withDefaults;\n\n@Configuration\n@EnableWebSecurity\npublic class SamlSecurityConfig {\n    @Autowired\n    private RelyingPartyRegistrationRepository relyingPartyRegistrationRepository;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    DefaultRelyingPartyRegistrationResolver relyingPartyRegistrationResolver = new DefaultRelyingPartyRegistrationResolver(this.relyingPartyRegistrationRepository);\n        Saml2MetadataFilter filter = new     Saml2MetadataFilter(relyingPartyRegistrationResolver, new OpenSamlMetadataResolver());\n    http.authorizeHttpRequests(authorize -&gt; authorize.anyRequest()\n                    .authenticated())\n            .saml2Login(withDefaults())\n            .saml2Logout(withDefaults())\n            .addFilterBefore(filter, Saml2WebSsoAuthenticationFilter.class);\n    return http.build();\n}\n\n\n}\n\npackage com.manjosh.migration;\n\n\nimport org.opensaml.security.x509.X509Support;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.saml2.core.Saml2X509Credential;\nimport org.springframework.security.saml2.provider.service.registration.InMemoryRelyingPartyRegistrationRepository;\nimport org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistration;\nimport org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository;\nimport org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrations;\n\nimport java.io.File;\nimport java.security.cert.X509Certificate;\n\n@Configuration\npublic class Config {\n    @Bean\n    protected RelyingPartyRegistrationRepository relyingPartyRegistrations() {\n    RelyingPartyRegistration registration = null;\n    ClassLoader classLoader = getClass().getClassLoader();\n    try {\n        File verificationKey = new File(classLoader.getResource(&quot;saml-certificate/keycloak.crt&quot;).getFile());\n        X509Certificate certificate = X509Support.decodeCertificate(verificationKey);\n        Saml2X509Credential credential = Saml2X509Credential.verification(certificate);\n        registration = RelyingPartyRegistrations\n                .fromMetadataLocation(&quot;http://localhost:8080/auth/realms/migration/protocol/saml/descriptor&quot;)\n                .registrationId(&quot;keycloak&quot;)\n                .assertingPartyDetails(party -&gt; party.entityId(&quot;springboot-app&quot;)\n                        .verificationX509Credentials(c -&gt; c.add(credential)))\n                .build();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    return new InMemoryRelyingPartyRegistrationRepository(registration);\n}\n}\n</code></pre>\n<p>for certificate I used the certificate present in the SAML metadata URL. I just enclosed it with\n<code>-----BEGIN CERTIFICATE-----</code> and <code>-----END CERTIFICATE-----</code></p>\n<p>here is my metadata XML</p>\n<pre><code>&lt;md:EntityDescriptor xmlns=&quot;urn:oasis:names:tc:SAML:2.0:metadata&quot; \nxmlns:md=&quot;urn:oasis:names:tc:SAML:2.0:metadata&quot; xmlns:saml=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot; xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot; entityID=&quot;http://localhost:8080/auth/realms/migration&quot;&gt;\n&lt;md:IDPSSODescriptor WantAuthnRequestsSigned=&quot;true&quot; protocolSupportEnumeration=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot;&gt;\n&lt;md:KeyDescriptor use=&quot;signing&quot;&gt;\n&lt;ds:KeyInfo&gt;\n&lt;ds:KeyName&gt;Ve1ljPni2EOqoZUc9kqAi1pbp1V7-gORtFMhZd2623o&lt;/ds:KeyName&gt;\n&lt;ds:X509Data&gt;\n    &lt;ds:X509Certificate&gt;MIICoTCCAYkCBgGKhHRXrzANBgkqhkiG9w0BAQsFADAUMRIwEAYDVQQDDAltaWdyYXRpb24wHhcNMjMwOTExMTMzMzUxWhcNMzMwOTExMTMzNTMxWjAUMRIwEAYDVQQDDAltaWdyYXRpb24wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC0HGfWqhmX6jzM52XLldpr65Kzncp4EfLYUOVx+Hk4Qi13L9b48DCSQAL7IW3b+6vAZjpr4MQoXnWHCuLZU3ivMdce2ue/UqCJp/ns69gkQZL4OUMo0g0bHPZLiVves8+vnkA3QFJfXL6wiCruBqFJelRMkLOopq0zvjxjyirdJ70Sr36JgvpMJc1rHDtjRtGPfjZiL/ME7kG274TweizB6f/9Rm8sG/CFeP6l66SZ2cM/DYthbxIQxFkzdiNSfmh3xT9W5sIjW1GhKNmrWSSb8huWSZ7C/fOrpal5V5/xf8PqGJIiGBqF+h20HGK6YG3A9cCyjgecjkiZsos8cqqTAgMBAAEwDQYJKoZIhvcNAQELBQADggEBAD7nF6C4fSY+ns+YpaeSb/CZIy7zd9FtT5RrCAixvnoXXqCGhiZ6n/K1OlzmH0nqjrYJ4cKVWU5yZoq3VzDGlCCWgyyhCEhObRt2ZljGuI9FOlQ5a0Ecv/hpmrEyqh4Exp84DKqqOGXzkatvHu++BEiyWIg+uf/BifG6LN3Jm7a7llbsXn2/rUr+tJugmBc4dPxvvZ7gPBcJsKH876DDS/uX/cWYN2Hbf2gwo6bdAhsT4cNsP+oJMFVBclvBVNjlkSl37vtPOGn8T7oy2XgA+/ZsqCmSsB635DQVcet0ShlFAvvDAMd+A/bIVwHpIgVKKfma64RVBINpZDXkcQWSgQ8=&lt;/ds:X509Certificate&gt;\n&lt;/ds:X509Data&gt;\n&lt;/ds:KeyInfo&gt;\n&lt;/md:KeyDescriptor&gt;\n&lt;md:ArtifactResolutionService Binding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:SOAP&quot; Location=&quot;http://localhost:8080/auth/realms/migration/protocol/saml/resolve&quot; index=&quot;0&quot;/&gt;\n&lt;md:SingleLogoutService Binding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot; Location=&quot;http://localhost:8080/auth/realms/migration/protocol/saml&quot;/&gt;\n&lt;md:SingleLogoutService Binding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect&quot; Location=&quot;http://localhost:8080/auth/realms/migration/protocol/saml&quot;/&gt;\n&lt;md:SingleLogoutService Binding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact&quot; Location=&quot;http://localhost:8080/auth/realms/migration/protocol/saml&quot;/&gt;\n&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:2.0:nameid-format:persistent&lt;/md:NameIDFormat&gt;\n&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:2.0:nameid-format:transient&lt;/md:NameIDFormat&gt;\n&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&lt;/md:NameIDFormat&gt;\n&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&lt;/md:NameIDFormat&gt;\n&lt;md:SingleSignOnService Binding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot; Location=&quot;http://localhost:8080/auth/realms/migration/protocol/saml&quot;/&gt;\n&lt;md:SingleSignOnService Binding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect&quot; Location=&quot;http://localhost:8080/auth/realms/migration/protocol/saml&quot;/&gt;\n&lt;md:SingleSignOnService Binding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:SOAP&quot; Location=&quot;http://localhost:8080/auth/realms/migration/protocol/saml&quot;/&gt;\n&lt;md:SingleSignOnService Binding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact&quot; Location=&quot;http://localhost:8080/auth/realms/migration/protocol/saml&quot;/&gt;\n&lt;/md:IDPSSODescriptor&gt;\n&lt;/md:EntityDescriptor&gt;\n</code></pre>\n<p>Please help.\n[1]: <a href=\"https://i.stack.imgur.com/kVbLY.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/kVbLY.png</a>\n[2]: <a href=\"https://i.stack.imgur.com/jUJkw.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/jUJkw.png</a>\n[3]: <a href=\"https://i.stack.imgur.com/iTUFt.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/iTUFt.png</a></p>\n"},{"tags":["java","asynchronous","rx-java3","rx-java-completable"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1694446111,"post_id":77082839,"comment_id":135888690,"body_markdown":"Use `concat` or `merge`.","body":"Use <code>concat</code> or <code>merge</code>."}],"owner":{"account_id":29415623,"reputation":1,"user_id":22538524,"display_name":"Sanal Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694445092,"creation_date":1694445092,"question_id":77082839,"body_markdown":"I have a chain of completables, but when I need to execute the completables, I have to subscribe each of it seperately. Is this the normal way of using it?\r\n\r\nIs there any examples where I could chain completables using one subscribe?","title":"Is there a way to trigger a completable without subscribing in rxjava?","body":"<p>I have a chain of completables, but when I need to execute the completables, I have to subscribe each of it seperately. Is this the normal way of using it?</p>\n<p>Is there any examples where I could chain completables using one subscribe?</p>\n"},{"tags":["java","swing","netbeans","build"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1694447462,"post_id":77082809,"comment_id":135888952,"body_markdown":"I don&#39;t see that message tells you *why* it failed, only that it *did* fail. Is there any more information you can provide?","body":"I don&#39;t see that message tells you <i>why</i> it failed, only that it <i>did</i> fail. Is there any more information you can provide?"},{"owner":{"account_id":26877071,"reputation":1,"user_id":20458153,"display_name":"Bilal Sahi"},"score":0,"creation_date":1694449623,"post_id":77082809,"comment_id":135889364,"body_markdown":"no sir It does not provide any other information","body":"no sir It does not provide any other information"}],"owner":{"account_id":26877071,"reputation":1,"user_id":20458153,"display_name":"Bilal Sahi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694445074,"creation_date":1694444857,"question_id":77082809,"body_markdown":"\r\nI started clean and build my NetBeans project, but it gives me this output that it can&#39;t build. My library JAR files are OK and I have checked all my connections.\r\n\r\nthis project is palced in local drive not in google or one drive\r\n\r\nHere is the output window text\r\n\r\n\r\n\r\n\r\nant -f &quot;C:\\\\Users\\\\Qadri Laptop\\\\Documents\\\\NetBeansProjects\\\\cmp_netbeens\\\\NetBeansProjects\\\\flatlaf-dashboard-main&quot; -Dnb.internal.action.name=rebuild clean jar\r\ninit:\r\ndeps-clean:\r\nUpdating property file: C:\\Users\\Qadri Laptop\\Documents\\NetBeansProjects\\cmp_netbeens\\NetBeansProjects\\flatlaf-dashboard-main\\build\\built-clean.properties\r\nDeleting directory C:\\Users\\Qadri Laptop\\Documents\\NetBeansProjects\\cmp_netbeens\\NetBeansProjects\\flatlaf-dashboard-main\\build\r\nclean:\r\ninit:\r\ndeps-jar:\r\nCreated dir: C:\\Users\\Qadri Laptop\\Documents\\NetBeansProjects\\cmp_netbeens\\NetBeansProjects\\flatlaf-dashboard-main\\build\r\nUpdating property file: C:\\Users\\Qadri Laptop\\Documents\\NetBeansProjects\\cmp_netbeens\\NetBeansProjects\\flatlaf-dashboard-main\\build\\built-jar.properties\r\nCreated dir: C:\\Users\\Qadri Laptop\\Documents\\NetBeansProjects\\cmp_netbeens\\NetBeansProjects\\flatlaf-dashboard-main\\build\\classes\r\nCreated dir: C:\\Users\\Qadri Laptop\\Documents\\NetBeansProjects\\cmp_netbeens\\NetBeansProjects\\flatlaf-dashboard-main\\build\\empty\r\nCreated dir: C:\\Users\\Qadri Laptop\\Documents\\NetBeansProjects\\cmp_netbeens\\NetBeansProjects\\flatlaf-dashboard-main\\build\\generated-sources\\ap-source-output\r\nBUILD FAILED (total time: 0 seconds)","title":"Why I am getting build fail in my NetBeans project when I tried to clean and build my project?","body":"<p>I started clean and build my NetBeans project, but it gives me this output that it can't build. My library JAR files are OK and I have checked all my connections.</p>\n<p>this project is palced in local drive not in google or one drive</p>\n<p>Here is the output window text</p>\n<p>ant -f &quot;C:\\Users\\Qadri Laptop\\Documents\\NetBeansProjects\\cmp_netbeens\\NetBeansProjects\\flatlaf-dashboard-main&quot; -Dnb.internal.action.name=rebuild clean jar\ninit:\ndeps-clean:\nUpdating property file: C:\\Users\\Qadri Laptop\\Documents\\NetBeansProjects\\cmp_netbeens\\NetBeansProjects\\flatlaf-dashboard-main\\build\\built-clean.properties\nDeleting directory C:\\Users\\Qadri Laptop\\Documents\\NetBeansProjects\\cmp_netbeens\\NetBeansProjects\\flatlaf-dashboard-main\\build\nclean:\ninit:\ndeps-jar:\nCreated dir: C:\\Users\\Qadri Laptop\\Documents\\NetBeansProjects\\cmp_netbeens\\NetBeansProjects\\flatlaf-dashboard-main\\build\nUpdating property file: C:\\Users\\Qadri Laptop\\Documents\\NetBeansProjects\\cmp_netbeens\\NetBeansProjects\\flatlaf-dashboard-main\\build\\built-jar.properties\nCreated dir: C:\\Users\\Qadri Laptop\\Documents\\NetBeansProjects\\cmp_netbeens\\NetBeansProjects\\flatlaf-dashboard-main\\build\\classes\nCreated dir: C:\\Users\\Qadri Laptop\\Documents\\NetBeansProjects\\cmp_netbeens\\NetBeansProjects\\flatlaf-dashboard-main\\build\\empty\nCreated dir: C:\\Users\\Qadri Laptop\\Documents\\NetBeansProjects\\cmp_netbeens\\NetBeansProjects\\flatlaf-dashboard-main\\build\\generated-sources\\ap-source-output\nBUILD FAILED (total time: 0 seconds)</p>\n"},{"tags":["java","javafx","singleton"],"comments":[{"owner":{"account_id":10842003,"reputation":496,"user_id":7972923,"display_name":"VFX"},"score":0,"creation_date":1604146233,"post_id":64621511,"comment_id":114261411,"body_markdown":"does this help you?\nhttps://stackoverflow.com/questions/28642972/prevent-multiple-instance-of-jar-running","body":"does this help you? <a href=\"https://stackoverflow.com/questions/28642972/prevent-multiple-instance-of-jar-running\" title=\"prevent multiple instance of jar running\">stackoverflow.com/questions/28642972/&hellip;</a>"},{"owner":{"account_id":4674222,"reputation":133,"user_id":3785133,"display_name":"Ridham"},"score":0,"creation_date":1604146769,"post_id":64621511,"comment_id":114261547,"body_markdown":"I heard about sockets but never used, i will let you know if it helps.","body":"I heard about sockets but never used, i will let you know if it helps."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1604161947,"post_id":64621511,"comment_id":114265339,"body_markdown":"*&quot;For slow machine, impatient user click more than once on JAR,&quot;*. If the application takes a long time to start up, consider showing a splash screen so that the user knows it has started.","body":"<i>&quot;For slow machine, impatient user click more than once on JAR,&quot;</i>. If the application takes a long time to start up, consider showing a splash screen so that the user knows it has started."}],"answers":[{"comments":[{"owner":{"account_id":4674222,"reputation":133,"user_id":3785133,"display_name":"Ridham"},"score":0,"creation_date":1604146693,"post_id":64621572,"comment_id":114261524,"body_markdown":"Currently JAR is in Documents folder but i don&#39;t see any files are created when application starts. Maybe i am looking at wrong place!!","body":"Currently JAR is in Documents folder but i don&#39;t see any files are created when application starts. Maybe i am looking at wrong place!!"},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1604152530,"post_id":64621572,"comment_id":114262813,"body_markdown":"@Ridham Well, are you creating any files? Because that&#39;s what I meant: you create the file in your program if it doesn&#39;t exist, and if it exists you simply exit the program automatically. That way, even if users click the same jar many times it will only work once.","body":"@Ridham Well, are you creating any files? Because that&#39;s what I meant: you create the file in your program if it doesn&#39;t exist, and if it exists you simply exit the program automatically. That way, even if users click the same jar many times it will only work once."},{"owner":{"account_id":4674222,"reputation":133,"user_id":3785133,"display_name":"Ridham"},"score":0,"creation_date":1604200809,"post_id":64621572,"comment_id":114272895,"body_markdown":"Now i got your point and it might work. But there might be a better solution. BTW Thanks.","body":"Now i got your point and it might work. But there might be a better solution. BTW Thanks."}],"tags":[],"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604146252,"creation_date":1604146252,"answer_id":64621572,"question_id":64621511,"body_markdown":"One easy solution that I&#39;ve used is, when you start the application, it creates a file (I named it `.lock` but you can call it whatever you want), unless the file already exists, in which case the application terminates its execution instead of creating the file.","title":"How to let run only one instance of application at a time?","body":"<p>One easy solution that I've used is, when you start the application, it creates a file (I named it <code>.lock</code> but you can call it whatever you want), unless the file already exists, in which case the application terminates its execution instead of creating the file.</p>\n"},{"tags":[],"owner":{"account_id":19782045,"reputation":367,"user_id":14486852,"display_name":"Sathimantha Malalasekera"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1604149188,"creation_date":1604147841,"answer_id":64621760,"question_id":64621511,"body_markdown":"You could try [JUnique](http://www.sauronsoftware.it/projects/junique/). It&#39;s an open source library doing exactly what you ask for. Import `junique-1.0.4.jar` to your project as a library. It&#39;s just 10kb file.\r\n\r\nIt&#39;s [manual](http://www.sauronsoftware.it/projects/junique/manual.php) neatly describes how to implement it on a project. For a JavaFX application, implementation would look something like this:\r\n\r\n\r\n\r\nMake sure to import these classes to your main\r\n```java\r\nimport it.sauronsoftware.junique.AlreadyLockedException;\r\nimport it.sauronsoftware.junique.JUnique;\r\n```\r\n\r\n\r\n```java\r\n    public static void main(String[] args) {\r\n\r\n        String appId = &quot;myapplicationid&quot;;\r\n        boolean alreadyRunning;\r\n        try {\r\n            JUnique.acquireLock(appId);\r\n            alreadyRunning = false;\r\n        } catch (AlreadyLockedException e) {\r\n            alreadyRunning = true;\r\n        }\r\n        if (!alreadyRunning) {\r\n            launch(args); // &lt;-- This the your default JavaFX start sequence \r\n        }else{ //This else is optional. Just to free up memory if you&#39;re calling the program from a terminal.\r\n            System.exit(1);\r\n        }\r\n    }\r\n```","title":"How to let run only one instance of application at a time?","body":"<p>You could try <a href=\"http://www.sauronsoftware.it/projects/junique/\" rel=\"nofollow noreferrer\">JUnique</a>. It's an open source library doing exactly what you ask for. Import <code>junique-1.0.4.jar</code> to your project as a library. It's just 10kb file.</p>\n<p>It's <a href=\"http://www.sauronsoftware.it/projects/junique/manual.php\" rel=\"nofollow noreferrer\">manual</a> neatly describes how to implement it on a project. For a JavaFX application, implementation would look something like this:</p>\n<p>Make sure to import these classes to your main</p>\n<pre class=\"lang-java prettyprint-override\"><code>import it.sauronsoftware.junique.AlreadyLockedException;\nimport it.sauronsoftware.junique.JUnique;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) {\n\n        String appId = &quot;myapplicationid&quot;;\n        boolean alreadyRunning;\n        try {\n            JUnique.acquireLock(appId);\n            alreadyRunning = false;\n        } catch (AlreadyLockedException e) {\n            alreadyRunning = true;\n        }\n        if (!alreadyRunning) {\n            launch(args); // &lt;-- This the your default JavaFX start sequence \n        }else{ //This else is optional. Just to free up memory if you're calling the program from a terminal.\n            System.exit(1);\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4674222,"reputation":133,"user_id":3785133,"display_name":"Ridham"},"score":0,"creation_date":1604203326,"post_id":64621952,"comment_id":114273178,"body_markdown":"Well, this app is not personal project and owner wants to built and export it using Ant. So properly packaging might help but it&#39;s not currently an option here. Thanks for for your help.","body":"Well, this app is not personal project and owner wants to built and export it using Ant. So properly packaging might help but it&#39;s not currently an option here. Thanks for for your help."}],"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604149228,"creation_date":1604149228,"answer_id":64621952,"question_id":64621511,"body_markdown":"If you&#39;d properly package your JavaFX code as a real application instead of just throwing it into a jar, you might get that functionality for free and without all these hacks. If I package my JavaFX code on my Mac with the jpackage tool, the result will be a full featured macOS application. That means that when I double-click its icon somewhere several times, only one instance of the application will be started. This is the default behaviour on Macs and properly packaged JavaFX applications just stick to that rule too. I can&#39;t say however what the behaviour on Windows or Linux is because I currently don&#39;t have such a box running. Maybe someone who knows can add this as a comment.","title":"How to let run only one instance of application at a time?","body":"<p>If you'd properly package your JavaFX code as a real application instead of just throwing it into a jar, you might get that functionality for free and without all these hacks. If I package my JavaFX code on my Mac with the jpackage tool, the result will be a full featured macOS application. That means that when I double-click its icon somewhere several times, only one instance of the application will be started. This is the default behaviour on Macs and properly packaged JavaFX applications just stick to that rule too. I can't say however what the behaviour on Windows or Linux is because I currently don't have such a box running. Maybe someone who knows can add this as a comment.</p>\n"},{"tags":[],"owner":{"account_id":2066084,"reputation":56,"user_id":1841569,"display_name":"sharad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604151824,"creation_date":1604151824,"answer_id":64622339,"question_id":64621511,"body_markdown":"You will need to bind your application with a resource. It can be a file, port etc.\r\nYou can change the code on startup to check if the file is locked. The below code will give you some idea\r\n\r\n    FileOutputStream foStream = new FileOutputStream(&quot;/tmp/testfile.txt&quot;);\r\n    FileChannel channel = fileOutputStream.getChannel();\r\n    FileLock lock = channel.lock();","title":"How to let run only one instance of application at a time?","body":"<p>You will need to bind your application with a resource. It can be a file, port etc.\nYou can change the code on startup to check if the file is locked. The below code will give you some idea</p>\n<pre><code>FileOutputStream foStream = new FileOutputStream(&quot;/tmp/testfile.txt&quot;);\nFileChannel channel = fileOutputStream.getChannel();\nFileLock lock = channel.lock();\n</code></pre>\n"}],"owner":{"account_id":4674222,"reputation":133,"user_id":3785133,"display_name":"Ridham"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1106,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64621760,"answer_count":4,"score":2,"last_activity_date":1694444804,"creation_date":1604145804,"question_id":64621511,"body_markdown":"I am working on a GUI application that uses JavaFX(not fxml) and exported as a JAR. For slow machine, impatient user click more than once on JAR, and multiple instances of application started. \r\n\r\nI&#39;m looking for a solution to let only one instance can be run at a time on a system and if the user clicks again while the application is running nothing happens. I think it&#39;s called singleton but don&#39;t know how to implement it.","title":"How to let run only one instance of application at a time?","body":"<p>I am working on a GUI application that uses JavaFX(not fxml) and exported as a JAR. For slow machine, impatient user click more than once on JAR, and multiple instances of application started.</p>\n<p>I'm looking for a solution to let only one instance can be run at a time on a system and if the user clicks again while the application is running nothing happens. I think it's called singleton but don't know how to implement it.</p>\n"},{"tags":["java","android","azure","cursor","imageurl"],"answers":[{"comments":[{"owner":{"account_id":8019154,"reputation":11,"user_id":6048322,"display_name":"IuKing Saw"},"score":0,"creation_date":1457678708,"post_id":35933458,"comment_id":59524646,"body_markdown":"Hi @SilvansSolanki,\nThank you for your reply.\nI had tried to add projection to my code, but I am getting the following error.\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;char[] java.lang.String.toCharArray()&#39; on a null object reference\n\nThe data retrieve is now null when I print out.\n\n    IMAGE:  &gt;&gt;&gt;&gt;&gt; Dumping cursor android.content.ContentResolver$CursorWrapperInner@1f80446\n    I/System.out: 0 {\n    I/System.out:    _data=null\n    I/System.out: }\n    I/System.out: &lt;&lt;&lt;&lt;&lt;\n    I/System.out: CURRENT: 0 {\n    I/System.out:    _data=null\n    I/System.out: }","body":"Hi @SilvansSolanki, Thank you for your reply. I had tried to add projection to my code, but I am getting the following error. java.lang.NullPointerException: Attempt to invoke virtual method &#39;char[] java.lang.String.toCharArray()&#39; on a null object reference  The data retrieve is now null when I print out.      IMAGE:  &gt;&gt;&gt;&gt;&gt; Dumping cursor android.content.ContentResolver$CursorWrapperInner@1f80446     I/System.out: 0 {     I/System.out:    _data=null     I/System.out: }     I/System.out: &lt;&lt;&lt;&lt;&lt;     I/System.out: CURRENT: 0 {     I/System.out:    _data=null     I/System.out: }"},{"owner":{"account_id":1133876,"reputation":1267,"user_id":1119347,"accept_rate":17,"display_name":"Silvans Solanki"},"score":0,"creation_date":1457680234,"post_id":35933458,"comment_id":59525244,"body_markdown":"That means you are getting new Error message now, not the previous error message, Can you please post your updated code so i can guide you for solution.","body":"That means you are getting new Error message now, not the previous error message, Can you please post your updated code so i can guide you for solution."},{"owner":{"account_id":8019154,"reputation":11,"user_id":6048322,"display_name":"IuKing Saw"},"score":0,"creation_date":1457683094,"post_id":35933458,"comment_id":59526636,"body_markdown":"Hi @SilvansSolanki, I had updated my code and the error message obtained.","body":"Hi @SilvansSolanki, I had updated my code and the error message obtained."},{"owner":{"account_id":1133876,"reputation":1267,"user_id":1119347,"accept_rate":17,"display_name":"Silvans Solanki"},"score":0,"creation_date":1457683520,"post_id":35933458,"comment_id":59526839,"body_markdown":"Thanks for the updated code, can you please put complete logcat, also can you please debug where you are getting null pointer in your code.","body":"Thanks for the updated code, can you please put complete logcat, also can you please debug where you are getting null pointer in your code."},{"owner":{"account_id":8019154,"reputation":11,"user_id":6048322,"display_name":"IuKing Saw"},"score":0,"creation_date":1457684568,"post_id":35933458,"comment_id":59527327,"body_markdown":"Hi @SilvansSolanki, complete logcat had been update. I am getting NullPointerException at this line FileInputStream fis = new FileInputStream(absoluteFilePath); where index is 0 and absoluteFilePath is null.","body":"Hi @SilvansSolanki, complete logcat had been update. I am getting NullPointerException at this line FileInputStream fis = new FileInputStream(absoluteFilePath); where index is 0 and absoluteFilePath is null."},{"owner":{"account_id":1133876,"reputation":1267,"user_id":1119347,"accept_rate":17,"display_name":"Silvans Solanki"},"score":0,"creation_date":1457685087,"post_id":35933458,"comment_id":59527584,"body_markdown":"Thanks, can you please post what are you getting in System out in your logcat?","body":"Thanks, can you please post what are you getting in System out in your logcat?"},{"owner":{"account_id":8019154,"reputation":11,"user_id":6048322,"display_name":"IuKing Saw"},"score":0,"creation_date":1457685659,"post_id":35933458,"comment_id":59527877,"body_markdown":"Hi @SilvansSolanki, the System.out.println logcat had been attached above the full code.","body":"Hi @SilvansSolanki, the System.out.println logcat had been attached above the full code."},{"owner":{"account_id":1133876,"reputation":1267,"user_id":1119347,"accept_rate":17,"display_name":"Silvans Solanki"},"score":0,"creation_date":1457689384,"post_id":35933458,"comment_id":59530049,"body_markdown":"from that it shows that you are not getting data in the onActivityResult, please check why data is returning null in onActivityResult.","body":"from that it shows that you are not getting data in the onActivityResult, please check why data is returning null in onActivityResult."},{"owner":{"account_id":8019154,"reputation":11,"user_id":6048322,"display_name":"IuKing Saw"},"score":0,"creation_date":1457698386,"post_id":35933458,"comment_id":59535975,"body_markdown":"Hi @SilvansSolanki,\n\nActually when I try to System.out.println the Image URL before projection, the URL wasn&#39;t null. Thus data returning from onActivityResult wasn&#39;t null. Only when the Cursor value is null when trying to read it.\n\nI/System.out: Image URL: content://com.android.providers.media.documents/document/image%3A36","body":"Hi @SilvansSolanki,  Actually when I try to System.out.println the Image URL before projection, the URL wasn&#39;t null. Thus data returning from onActivityResult wasn&#39;t null. Only when the Cursor value is null when trying to read it.  I/System.out: Image URL: content://com.android.providers.media.documents/document/ima&zwnj;&#8203;ge%3A36"}],"tags":[],"owner":{"account_id":1133876,"reputation":1267,"user_id":1119347,"accept_rate":17,"display_name":"Silvans Solanki"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457676720,"creation_date":1457676720,"answer_id":35933458,"question_id":35933333,"body_markdown":"you should add projection in your code while calling the query,\r\n\r\n         // Attempt to fetch asset filename for image\r\n                String[] projection = { MediaStore.Images.Media.DATA };\r\n    photoCursor = context.getContentResolver().query( photoUri, \r\n                    \r\n\r\n                                    projection, null, null, null );\r\n\r\nthen only you will be able to get \r\n\r\n    int index = cursor\r\n                        .getColumnIndex(MediaStore.Images.ImageColumns.DATA);\r\n\r\nHope this will help you.\r\n","title":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;char[] java.lang.String.toCharArray()&#39; on a null object reference","body":"<p>you should add projection in your code while calling the query,</p>\n\n<pre><code>     // Attempt to fetch asset filename for image\n            String[] projection = { MediaStore.Images.Media.DATA };\nphotoCursor = context.getContentResolver().query( photoUri, \n\n\n                                projection, null, null, null );\n</code></pre>\n\n<p>then only you will be able to get </p>\n\n<pre><code>int index = cursor\n                    .getColumnIndex(MediaStore.Images.ImageColumns.DATA);\n</code></pre>\n\n<p>Hope this will help you.</p>\n"},{"tags":[],"owner":{"account_id":6209721,"reputation":1189,"user_id":4836342,"display_name":"Will Shao - MSFT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458048195,"creation_date":1458048195,"answer_id":36012583,"question_id":35933333,"body_markdown":"@luKing Saw,\r\nI tested your code in my simulator in Eclipse. Everything worked fine.  \r\n\r\n    03-15 21:17:47.706: I/dalvikvm-heap(621): Grow heap (frag case) to 11.867MB for 1228816-byte allocation\r\n    03-15 21:17:49.296: I/System.out(621): Image URL: content://media/external/images/media/17\r\n    03-15 21:17:49.296: I/System.out(621): PROJECTION: [Ljava.lang.String;@414b3988\r\n    03-15 21:17:49.336: I/System.out(621): DATABASE: &gt;&gt;&gt;&gt;&gt; Dumping cursor android.content.ContentResolver$CursorWrapperInner@414a9d50\r\n    03-15 21:17:49.336: I/System.out(621): 0 {\r\n    03-15 21:17:49.346: I/System.out(621):    _data=/mnt/sdcard/DCIM/Camera/IMG_20160315_171536.jpg\r\n    03-15 21:17:49.346: I/System.out(621): }\r\n    03-15 21:17:49.346: I/System.out(621): &lt;&lt;&lt;&lt;&lt;\r\n    03-15 21:17:49.346: I/System.out(621): CURRENT: 0 {\r\n    03-15 21:17:49.346: I/System.out(621):    _data=/mnt/sdcard/DCIM/Camera/IMG_20160315_171536.jpg\r\n    03-15 21:17:49.356: I/System.out(621): }\r\n    03-15 21:17:49.356: I/System.out(621): INDEX: 0\r\n    03-15 21:17:49.356: I/System.out(621): ABSOLUTEFILEPATH: /mnt/sdcard/DCIM/Camera/IMG_20160315_171536.jpg\r\n    03-15 21:17:51.466: I/Choreographer(621): Skipped 562 frames!  The application may be doing too much work on its main thread.\r\n\r\nI saw your Image Path like `&#39;Content://com.android.providers.media.documents/document/image%3A36&#39;`\r\n,but I am not sure your code can access into folder named \r\n&#39;document&#39; in your project.\r\nCould you please try to use the image in SD card or src/res folder?  \r\n","title":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;char[] java.lang.String.toCharArray()&#39; on a null object reference","body":"<p>@luKing Saw,\nI tested your code in my simulator in Eclipse. Everything worked fine.  </p>\n\n<pre><code>03-15 21:17:47.706: I/dalvikvm-heap(621): Grow heap (frag case) to 11.867MB for 1228816-byte allocation\n03-15 21:17:49.296: I/System.out(621): Image URL: content://media/external/images/media/17\n03-15 21:17:49.296: I/System.out(621): PROJECTION: [Ljava.lang.String;@414b3988\n03-15 21:17:49.336: I/System.out(621): DATABASE: &gt;&gt;&gt;&gt;&gt; Dumping cursor android.content.ContentResolver$CursorWrapperInner@414a9d50\n03-15 21:17:49.336: I/System.out(621): 0 {\n03-15 21:17:49.346: I/System.out(621):    _data=/mnt/sdcard/DCIM/Camera/IMG_20160315_171536.jpg\n03-15 21:17:49.346: I/System.out(621): }\n03-15 21:17:49.346: I/System.out(621): &lt;&lt;&lt;&lt;&lt;\n03-15 21:17:49.346: I/System.out(621): CURRENT: 0 {\n03-15 21:17:49.346: I/System.out(621):    _data=/mnt/sdcard/DCIM/Camera/IMG_20160315_171536.jpg\n03-15 21:17:49.356: I/System.out(621): }\n03-15 21:17:49.356: I/System.out(621): INDEX: 0\n03-15 21:17:49.356: I/System.out(621): ABSOLUTEFILEPATH: /mnt/sdcard/DCIM/Camera/IMG_20160315_171536.jpg\n03-15 21:17:51.466: I/Choreographer(621): Skipped 562 frames!  The application may be doing too much work on its main thread.\n</code></pre>\n\n<p>I saw your Image Path like <code>'Content://com.android.providers.media.documents/document/image%3A36'</code>\n,but I am not sure your code can access into folder named \n'document' in your project.\nCould you please try to use the image in SD card or src/res folder?  </p>\n"}],"owner":{"account_id":8019154,"reputation":11,"user_id":6048322,"display_name":"IuKing Saw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12674,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1694444725,"creation_date":1457676018,"question_id":35933333,"body_markdown":"I am trying to read an image from the Android device then upload it to Microsoft Azure Mobile Service.\r\n\r\nThe pickImage() and onActivityResult() methods are working fine as image can be successfully display at the Image View by using the code\r\n\r\n    mImageView.setImageURI(currImageURI);\r\n\r\nWhen I am trying to save the image by using the saveToDo() method there is an error at the line\r\n\r\n    FileInputStream fis = new FileInputStream(absoluteFilePath);\r\n\r\nTherefore, I try to print out what exactly contains in the cursor by using the code\r\n\r\n    System.out.println(&quot;IMAGE: &quot; + DatabaseUtils.dumpCursorToString(cursor));\r\n    System.out.println(&quot;CURRENT: &quot; + DatabaseUtils.dumpCurrentRowToString(cursor));\r\n\r\nI am getting the following error.\r\n\r\n    W/System.err: java.lang.NullPointerException: Attempt to invoke virtual method &#39;char[] java.lang.String.toCharArray()&#39; on a null object reference\r\n    W/System.err:     at java.io.File.fixSlashes(File.java:183)\r\n    W/System.err:     at java.io.File.&lt;init&gt;(File.java:130)\r\n    W/System.err:     at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:103)\r\n\r\n    W/System.err:     at com.king.recipesharinghub.AddRecipe.saveTodo(AddRecipe.java:773)\r\n    W/System.err:     at com.king.recipesharinghub.AddRecipe$3.onClick(AddRecipe.java:214)\r\n\r\n    W/System.err:     at android.view.View.performClick(View.java:5198)\r\n    W/System.err:     at android.view.View$PerformClick.run(View.java:21147)\r\n    W/System.err:     at android.os.Handler.handleCallback(Handler.java:739)\r\n    W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:95)\r\n    W/System.err:     at android.os.Looper.loop(Looper.java:148)\r\n    W/System.err:     at android.app.ActivityThread.main(ActivityThread.java:5417)\r\n    W/System.err:     at java.lang.reflect.Method.invoke(Native Method)\r\n    W/System.err:     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n    W/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n    I/TodoDetailsActivity: JSON: {&quot;complete&quot;:&quot;false&quot;,&quot;text&quot;:&quot;This is testing&quot;}\r\n\r\n\r\nThese are the system outputs where the data is null.\r\n\r\n    I/System.out: Image URL: content://com.android.providers.media.documents/document/image%3A36\r\n    I/System.out: PROJECTION: [Ljava.lang.String;@290e1f6\r\n    I/System.out: DATABASE: &gt;&gt;&gt;&gt;&gt; Dumping cursor android.content.ContentResolver$CursorWrapperInner@6cd59f7\r\n    I/System.out: 0 {\r\n    I/System.out:    _data=null\r\n    I/System.out: }\r\n    I/System.out: &lt;&lt;&lt;&lt;&lt;\r\n    I/System.out: CURRENT: 0 {\r\n    I/System.out:    _data=null\r\n    I/System.out: }\r\n    I/System.out: INDEX: 0\r\n    I/System.out: ABSOLUTEFILEPATH: null\r\n\r\nBelow are the full codes\r\n\r\n    protected void pickImage() {\r\n        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n        intent.setType(&quot;image/*&quot;);\r\n        startActivityForResult(intent, 987);\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        try {\r\n            //handle result from gallary select\r\n            if (requestCode == 987) {\r\n                Uri currImageURI = data.getData();\r\n                this.mImageUrl = currImageURI;\r\n                //Set the image view&#39;s image by using imageUri\r\n                mImageView.setImageURI(currImageURI);\r\n            }\r\n        } catch (Exception ex) {\r\n            Log.e(&quot;TodoDetailsActivity&quot;, &quot;Error in onActivityResult: &quot; + ex.getMessage());\r\n        }\r\n    }\r\n\r\n    protected void saveTodo() {\r\n        String imageString = null;\r\n        if (mImageUrl != null &amp;&amp; !mImageUrl.equals(&quot;&quot;)) {\r\n            try {\r\n                System.out.println(&quot;Image URL: &quot; + mImageUrl.toString());\r\n                \r\n                String[] projection = { MediaStore.Images.Media.DATA };\r\n                System.out.println(&quot;PROJECTION: &quot; + projection);\r\n\r\n                Cursor cursor = getContentResolver().query(mImageUrl, projection,\r\n                        null, null, null);\r\n                cursor.moveToFirst();\r\n\r\n                System.out.println(&quot;DATABASE: &quot; + DatabaseUtils.dumpCursorToString(cursor));\r\n                System.out.println(&quot;CURRENT: &quot; + DatabaseUtils.dumpCurrentRowToString(cursor));\r\n\r\n                int index = cursor\r\n                        .getColumnIndex(MediaStore.Images.ImageColumns.DATA);\r\n\r\n                System.out.println(&quot;INDEX: &quot; + index);\r\n\r\n                String absoluteFilePath = cursor.getString(index);\r\n\r\n                System.out.println(&quot;ABSOLUTEFILEPATH: &quot; + absoluteFilePath);\r\n\r\n                FileInputStream fis = new FileInputStream(absoluteFilePath);\r\n\r\n                int bytesRead = 0;\r\n                ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n                byte[] b = new byte[1024];\r\n                while ((bytesRead = fis.read(b)) != -1) {\r\n                    bos.write(b, 0, bytesRead);\r\n                }\r\n                byte[] bytes = bos.toByteArray();\r\n                imageString = Base64.encodeToString(bytes, Base64.DEFAULT);\r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n        new SaveTodoTask(this).execute(&quot;This is testing&quot;, imageString);\r\n    }\r\n\r\n\r\nHope to get my problem solve as I had stuck at this issue for several days.\r\nThank you!","title":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;char[] java.lang.String.toCharArray()&#39; on a null object reference","body":"<p>I am trying to read an image from the Android device then upload it to Microsoft Azure Mobile Service.</p>\n\n<p>The pickImage() and onActivityResult() methods are working fine as image can be successfully display at the Image View by using the code</p>\n\n<pre><code>mImageView.setImageURI(currImageURI);\n</code></pre>\n\n<p>When I am trying to save the image by using the saveToDo() method there is an error at the line</p>\n\n<pre><code>FileInputStream fis = new FileInputStream(absoluteFilePath);\n</code></pre>\n\n<p>Therefore, I try to print out what exactly contains in the cursor by using the code</p>\n\n<pre><code>System.out.println(\"IMAGE: \" + DatabaseUtils.dumpCursorToString(cursor));\nSystem.out.println(\"CURRENT: \" + DatabaseUtils.dumpCurrentRowToString(cursor));\n</code></pre>\n\n<p>I am getting the following error.</p>\n\n<pre><code>W/System.err: java.lang.NullPointerException: Attempt to invoke virtual method 'char[] java.lang.String.toCharArray()' on a null object reference\nW/System.err:     at java.io.File.fixSlashes(File.java:183)\nW/System.err:     at java.io.File.&lt;init&gt;(File.java:130)\nW/System.err:     at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:103)\n\nW/System.err:     at com.king.recipesharinghub.AddRecipe.saveTodo(AddRecipe.java:773)\nW/System.err:     at com.king.recipesharinghub.AddRecipe$3.onClick(AddRecipe.java:214)\n\nW/System.err:     at android.view.View.performClick(View.java:5198)\nW/System.err:     at android.view.View$PerformClick.run(View.java:21147)\nW/System.err:     at android.os.Handler.handleCallback(Handler.java:739)\nW/System.err:     at android.os.Handler.dispatchMessage(Handler.java:95)\nW/System.err:     at android.os.Looper.loop(Looper.java:148)\nW/System.err:     at android.app.ActivityThread.main(ActivityThread.java:5417)\nW/System.err:     at java.lang.reflect.Method.invoke(Native Method)\nW/System.err:     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\nW/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\nI/TodoDetailsActivity: JSON: {\"complete\":\"false\",\"text\":\"This is testing\"}\n</code></pre>\n\n<p>These are the system outputs where the data is null.</p>\n\n<pre><code>I/System.out: Image URL: content://com.android.providers.media.documents/document/image%3A36\nI/System.out: PROJECTION: [Ljava.lang.String;@290e1f6\nI/System.out: DATABASE: &gt;&gt;&gt;&gt;&gt; Dumping cursor android.content.ContentResolver$CursorWrapperInner@6cd59f7\nI/System.out: 0 {\nI/System.out:    _data=null\nI/System.out: }\nI/System.out: &lt;&lt;&lt;&lt;&lt;\nI/System.out: CURRENT: 0 {\nI/System.out:    _data=null\nI/System.out: }\nI/System.out: INDEX: 0\nI/System.out: ABSOLUTEFILEPATH: null\n</code></pre>\n\n<p>Below are the full codes</p>\n\n<pre><code>protected void pickImage() {\n    Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n    intent.setType(\"image/*\");\n    startActivityForResult(intent, 987);\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    try {\n        //handle result from gallary select\n        if (requestCode == 987) {\n            Uri currImageURI = data.getData();\n            this.mImageUrl = currImageURI;\n            //Set the image view's image by using imageUri\n            mImageView.setImageURI(currImageURI);\n        }\n    } catch (Exception ex) {\n        Log.e(\"TodoDetailsActivity\", \"Error in onActivityResult: \" + ex.getMessage());\n    }\n}\n\nprotected void saveTodo() {\n    String imageString = null;\n    if (mImageUrl != null &amp;&amp; !mImageUrl.equals(\"\")) {\n        try {\n            System.out.println(\"Image URL: \" + mImageUrl.toString());\n\n            String[] projection = { MediaStore.Images.Media.DATA };\n            System.out.println(\"PROJECTION: \" + projection);\n\n            Cursor cursor = getContentResolver().query(mImageUrl, projection,\n                    null, null, null);\n            cursor.moveToFirst();\n\n            System.out.println(\"DATABASE: \" + DatabaseUtils.dumpCursorToString(cursor));\n            System.out.println(\"CURRENT: \" + DatabaseUtils.dumpCurrentRowToString(cursor));\n\n            int index = cursor\n                    .getColumnIndex(MediaStore.Images.ImageColumns.DATA);\n\n            System.out.println(\"INDEX: \" + index);\n\n            String absoluteFilePath = cursor.getString(index);\n\n            System.out.println(\"ABSOLUTEFILEPATH: \" + absoluteFilePath);\n\n            FileInputStream fis = new FileInputStream(absoluteFilePath);\n\n            int bytesRead = 0;\n            ByteArrayOutputStream bos = new ByteArrayOutputStream();\n            byte[] b = new byte[1024];\n            while ((bytesRead = fis.read(b)) != -1) {\n                bos.write(b, 0, bytesRead);\n            }\n            byte[] bytes = bos.toByteArray();\n            imageString = Base64.encodeToString(bytes, Base64.DEFAULT);\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n    new SaveTodoTask(this).execute(\"This is testing\", imageString);\n}\n</code></pre>\n\n<p>Hope to get my problem solve as I had stuck at this issue for several days.\nThank you!</p>\n"},{"tags":["java","mysql","hibernate","connection","driver"],"comments":[{"owner":{"account_id":1682334,"reputation":5268,"user_id":1829930,"display_name":"Robin Krahl"},"score":0,"creation_date":1382976969,"post_id":19639811,"comment_id":29159975,"body_markdown":"Is the `com.mysql.jdbc.Driver` class in your classpath?","body":"Is the <code>com.mysql.jdbc.Driver</code> class in your classpath?"},{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1382977416,"post_id":19639811,"comment_id":29160249,"body_markdown":"Do you have hibernate config.prop file also in classpath?","body":"Do you have hibernate config.prop file also in classpath?"},{"owner":{"account_id":3502313,"reputation":21,"user_id":2928795,"display_name":"user2928795"},"score":0,"creation_date":1383040303,"post_id":19639811,"comment_id":29185212,"body_markdown":"Hi Robin and Nambari: I had to put my mysql driver&#39;s &quot;Path&quot; library also config.prop path to CLASSPATH variable, but i didn&#39;t do that. Thanks.","body":"Hi Robin and Nambari: I had to put my mysql driver&#39;s &quot;Path&quot; library also config.prop path to CLASSPATH variable, but i didn&#39;t do that. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":3286461,"reputation":1671,"user_id":2765843,"display_name":"Paolo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382980816,"creation_date":1382980816,"answer_id":19641091,"question_id":19639811,"body_markdown":"I have never used Hibernate Mapping Wizard but as far as I know this is useful to create a hibernate mapping file with an extension `.hbm.xml`: see [this link][1] as reference.\r\n\r\nSo the result is a .hbm.xml file that is the mapping of your class to your table. \r\n\r\nThe point is the in your `hibernate.cfg.xml` there is no explicit reference to this .hbm.xml file.\r\n\r\nTry to add:\r\n\r\n`&lt;mapping resource=&quot;&lt;your_generated_file&gt;.hbm.xml&quot;/&gt;` \r\n\r\nin your `hibernate.cfg.xml` and be sure to give all the data needed when using the Hibernate Mapping Wizard tool.\r\n\r\nHope this will be useful! \r\n\r\nCiao!\r\n\r\n\r\n  [1]: http://wiki.netbeans.org/HibernateMappingWizard","title":"Hibernate - MySQL - Connection to DB","body":"<p>I have never used Hibernate Mapping Wizard but as far as I know this is useful to create a hibernate mapping file with an extension <code>.hbm.xml</code>: see <a href=\"http://wiki.netbeans.org/HibernateMappingWizard\" rel=\"nofollow\">this link</a> as reference.</p>\n\n<p>So the result is a .hbm.xml file that is the mapping of your class to your table. </p>\n\n<p>The point is the in your <code>hibernate.cfg.xml</code> there is no explicit reference to this .hbm.xml file.</p>\n\n<p>Try to add:</p>\n\n<p><code>&lt;mapping resource=\"&lt;your_generated_file&gt;.hbm.xml\"/&gt;</code> </p>\n\n<p>in your <code>hibernate.cfg.xml</code> and be sure to give all the data needed when using the Hibernate Mapping Wizard tool.</p>\n\n<p>Hope this will be useful! </p>\n\n<p>Ciao!</p>\n"},{"tags":[],"owner":{"account_id":3502313,"reputation":21,"user_id":2928795,"display_name":"user2928795"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1383042187,"creation_date":1383042187,"answer_id":19655446,"question_id":19639811,"body_markdown":"Nambari and Paolo, \r\n\r\nI had to put my config.prop&#39;s and mysql driver&#39;s &quot;Path&quot; library into CLASSPATH variable. Now it works.\r\n\r\nThankyou all!\r\n\r\nCiao Paolo, grazie!","title":"Hibernate - MySQL - Connection to DB","body":"<p>Nambari and Paolo, </p>\n\n<p>I had to put my config.prop's and mysql driver's \"Path\" library into CLASSPATH variable. Now it works.</p>\n\n<p>Thankyou all!</p>\n\n<p>Ciao Paolo, grazie!</p>\n"}],"owner":{"account_id":3502313,"reputation":21,"user_id":2928795,"display_name":"user2928795"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8497,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1694444725,"creation_date":1382976803,"question_id":19639811,"body_markdown":"I&#39;m trying to connect to a MySQL database using Hibernate 3.6.10 with NetBeans 7.4, but when I try to create a new &quot;Hibernate Mapping Wizard&quot; I reply this error message:\r\n\r\n    Unable to connect: Cannot establish a connection jdbc:mysql://localhost:3306/mydbname using apache.org.derby.jdbc.ClientDriver(Unable to find a suitable driver)\r\n\r\nThis is my &quot;hibernate.cfg.xml&quot; file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n      &lt;session-factory&gt;\r\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/database&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;username&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;password&lt;/property&gt;\r\n      &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\n\r\nI&#39;ve found another similar problem here: https://stackoverflow.com/questions/15600101/hibernate-cannot-connect-to-db but I still not understand what&#39;s wrong.\r\n\r\nBest regards.&lt;br&gt;\r\nAndrea\r\n\r\n\r\n","title":"Hibernate - MySQL - Connection to DB","body":"<p>I'm trying to connect to a MySQL database using Hibernate 3.6.10 with NetBeans 7.4, but when I try to create a new \"Hibernate Mapping Wizard\" I reply this error message:</p>\n\n<pre><code>Unable to connect: Cannot establish a connection jdbc:mysql://localhost:3306/mydbname using apache.org.derby.jdbc.ClientDriver(Unable to find a suitable driver)\n</code></pre>\n\n<p>This is my \"hibernate.cfg.xml\" file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\" \"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\"&gt;\n&lt;hibernate-configuration&gt;\n  &lt;session-factory&gt;\n    &lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.url\"&gt;jdbc:mysql://localhost:3306/database&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.username\"&gt;username&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.password\"&gt;password&lt;/property&gt;\n  &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>I've found another similar problem here: <a href=\"https://stackoverflow.com/questions/15600101/hibernate-cannot-connect-to-db\">Hibernate - Cannot connect to DB</a> but I still not understand what's wrong.</p>\n\n<p>Best regards.<br>\nAndrea</p>\n"},{"tags":["java","spring","elasticsearch","spring-data"],"comments":[{"owner":{"account_id":13994564,"reputation":13,"user_id":10107722,"display_name":"Cezary Stasiak"},"score":0,"creation_date":1694785854,"post_id":77082772,"comment_id":135940898,"body_markdown":"I didnt solve that problem but I did found a better solution. For simple boost by field We can use something called rank feature, and its easier to use it with builder above:\n\n    `.should(q -&gt; q.rankFeature(m -&gt; m.field(&quot;boost&quot;).boost(10f)));`\nIts also faster than script score and recomended for simple values unless we are doing more advanced scoring.\n https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-rank-feature-query.html","body":"I didnt solve that problem but I did found a better solution. For simple boost by field We can use something called rank feature, and its easier to use it with builder above:      <code>.should(q -&gt; q.rankFeature(m -&gt; m.field(&quot;boost&quot;).boost(10f)));</code> Its also faster than script score and recomended for simple values unless we are doing more advanced scoring.  <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-rank-feature-query.html\" rel=\"nofollow noreferrer\">elastic.co/guide/en/elasticsearch/reference/current/&hellip;</a>"}],"owner":{"account_id":13994564,"reputation":13,"user_id":10107722,"display_name":"Cezary Stasiak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694444543,"creation_date":1694444543,"question_id":77082772,"body_markdown":"I&#39;m using elasticsearch java client with code to search my index:\r\n\r\n```\r\nBoolQuery.Builder compoundQuery = new BoolQuery.Builder()\r\n                .should(q -&gt; q.match(m -&gt; m.field(&quot;title&quot;).query(phrase).boost(100f)))\r\n                .should(q -&gt; q.match(m -&gt; m.field(&quot;analyzedTitle&quot;).query(phrase).boost(70f)))\r\n                .should(q -&gt; q.match(m -&gt; m.field(&quot;titleAggregation&quot;).query(phrase.replace(&quot; &quot;, &quot;&quot;)).boost(50f)))\r\n                .should(q -&gt; q.prefix(m -&gt; m.field(&quot;titleAggregation&quot;).value(phrase.replace(&quot; &quot;, &quot;&quot;))\r\n                        .caseInsensitive(true).boost(30f)))\r\n                .should(q -&gt; q.wildcard(m -&gt; m.field(&quot;titleAggregation&quot;).wildcard(&quot;*&quot; + phrase.replace(&quot; &quot;, &quot;&quot;) + &quot;*&quot;)\r\n                        .caseInsensitive(true).boost(30f)))\r\n                .should(q -&gt; q.prefix(m -&gt; m.field(&quot;title&quot;).value(phrase).caseInsensitive(true).boost(0.2f)))\r\n                .should(q -&gt; q.prefix(m -&gt; m.field(&quot;tokens&quot;).value(phrase).caseInsensitive(true).boost(0.2f)));\r\n\r\n        var query = NativeQuery.builder()\r\n                .withQuery(b -&gt; b.bool(compoundQuery.build()))\r\n                .withMaxResults(10);\r\n\r\n        elasticsearchOperations.search(query.build(), Doc.class);\r\n```\r\n\r\n\r\nMy documents have field named &#39;boost&#39; with values (3,2,1) I want to extend that query by script score and recalculate scores from that query using &#39;boost&#39; field value (score * boost). I have tried adding:\r\n\r\n```\r\n                .should(q -&gt; q.scriptScore(m -&gt; m.script(fn -&gt; fn.inline(InlineScript.of(fn2 -&gt; fn2.source(&quot;_score * doc[&#39;boost&#39;].value&quot;))))));\r\n```\r\nBut that produced `co.elastic.clients.util.MissingRequiredPropertyException: Missing required property &#39;ScriptScoreQuery.query&#39;`.\r\n\r\nI&#39;m unable to find any examples and java api docs are really basic. Does anyone have any ideas how to achive that ?","title":"Extending elasticsearch boolquery with script score","body":"<p>I'm using elasticsearch java client with code to search my index:</p>\n<pre><code>BoolQuery.Builder compoundQuery = new BoolQuery.Builder()\n                .should(q -&gt; q.match(m -&gt; m.field(&quot;title&quot;).query(phrase).boost(100f)))\n                .should(q -&gt; q.match(m -&gt; m.field(&quot;analyzedTitle&quot;).query(phrase).boost(70f)))\n                .should(q -&gt; q.match(m -&gt; m.field(&quot;titleAggregation&quot;).query(phrase.replace(&quot; &quot;, &quot;&quot;)).boost(50f)))\n                .should(q -&gt; q.prefix(m -&gt; m.field(&quot;titleAggregation&quot;).value(phrase.replace(&quot; &quot;, &quot;&quot;))\n                        .caseInsensitive(true).boost(30f)))\n                .should(q -&gt; q.wildcard(m -&gt; m.field(&quot;titleAggregation&quot;).wildcard(&quot;*&quot; + phrase.replace(&quot; &quot;, &quot;&quot;) + &quot;*&quot;)\n                        .caseInsensitive(true).boost(30f)))\n                .should(q -&gt; q.prefix(m -&gt; m.field(&quot;title&quot;).value(phrase).caseInsensitive(true).boost(0.2f)))\n                .should(q -&gt; q.prefix(m -&gt; m.field(&quot;tokens&quot;).value(phrase).caseInsensitive(true).boost(0.2f)));\n\n        var query = NativeQuery.builder()\n                .withQuery(b -&gt; b.bool(compoundQuery.build()))\n                .withMaxResults(10);\n\n        elasticsearchOperations.search(query.build(), Doc.class);\n</code></pre>\n<p>My documents have field named 'boost' with values (3,2,1) I want to extend that query by script score and recalculate scores from that query using 'boost' field value (score * boost). I have tried adding:</p>\n<pre><code>                .should(q -&gt; q.scriptScore(m -&gt; m.script(fn -&gt; fn.inline(InlineScript.of(fn2 -&gt; fn2.source(&quot;_score * doc['boost'].value&quot;))))));\n</code></pre>\n<p>But that produced <code>co.elastic.clients.util.MissingRequiredPropertyException: Missing required property 'ScriptScoreQuery.query'</code>.</p>\n<p>I'm unable to find any examples and java api docs are really basic. Does anyone have any ideas how to achive that ?</p>\n"},{"tags":["java","redirect","post","apache-httpclient-4.x","http-status-code-302"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1694450378,"post_id":77082611,"comment_id":135889517,"body_markdown":"Does this answer your question? [Apache HttpClient 4.5 redirect POST request to GET request](https://stackoverflow.com/questions/56312858/apache-httpclient-4-5-redirect-post-request-to-get-request)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/56312858/apache-httpclient-4-5-redirect-post-request-to-get-request\">Apache HttpClient 4.5 redirect POST request to GET request</a>"}],"owner":{"account_id":26646091,"reputation":106,"user_id":20261008,"display_name":"Rems"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694444016,"creation_date":1694443339,"question_id":77082611,"body_markdown":"I am building a Junit test, in which I have to perform a HTTP Post to a Spring app. This app is secured by a CAS, so each request to this app is redirected to the CAS, which allow or not the request. If it does, a 302 response is sent. \r\nI configured my code to follow the redirection:\r\n\r\n     CloseableHttpClient httpClient = HttpClientBuilder.create()\r\n    \t                .setRedirectStrategy(new LaxRedirectStrategy())\r\n    \t                .build();\r\n    \t        final HttpPost httpPost = new HttpPost(path);\r\n    \r\n    httpPost.setHeader(&quot;Content-Type&quot;, &quot;application/***+xml&quot;);\r\n    httpPost.setHeader(&quot;Authorization&quot;, &quot;Basic ***&quot;);\r\n    httpPost.setEntity(new StringEntity(myObject.toString()));\r\n    CloseableHttpResponse response = httpClient.execute(httpPost);\r\n\r\n\r\nThe thing is that the POST request, when redirected, becomes a GET, which is not what I want. Is there a way avoid that ?\r\nBy the way, when I perform the request with Postman, it works fine, and the POST is still a POST after the redirection","title":"Keep POST method after a 302 redirect response","body":"<p>I am building a Junit test, in which I have to perform a HTTP Post to a Spring app. This app is secured by a CAS, so each request to this app is redirected to the CAS, which allow or not the request. If it does, a 302 response is sent.\nI configured my code to follow the redirection:</p>\n<pre><code> CloseableHttpClient httpClient = HttpClientBuilder.create()\n                    .setRedirectStrategy(new LaxRedirectStrategy())\n                    .build();\n            final HttpPost httpPost = new HttpPost(path);\n\nhttpPost.setHeader(&quot;Content-Type&quot;, &quot;application/***+xml&quot;);\nhttpPost.setHeader(&quot;Authorization&quot;, &quot;Basic ***&quot;);\nhttpPost.setEntity(new StringEntity(myObject.toString()));\nCloseableHttpResponse response = httpClient.execute(httpPost);\n</code></pre>\n<p>The thing is that the POST request, when redirected, becomes a GET, which is not what I want. Is there a way avoid that ?\nBy the way, when I perform the request with Postman, it works fine, and the POST is still a POST after the redirection</p>\n"},{"tags":["java","performance","uri"],"comments":[{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1694443779,"post_id":31779515,"comment_id":135888211,"body_markdown":"Upvote for the question.  I added an &quot;import&quot; statement to disambiguate.","body":"Upvote for the question.  I added an &quot;import&quot; statement to disambiguate."}],"answers":[{"comments":[{"owner":{"account_id":6537386,"reputation":2127,"user_id":5056380,"display_name":"UnknownOctopus"},"score":0,"creation_date":1438641656,"post_id":31779582,"comment_id":51523424,"body_markdown":"Oh alright, so the main point is how it handles exceptions. I must have missed that in the doc. Thanks","body":"Oh alright, so the main point is how it handles exceptions. I must have missed that in the doc. Thanks"},{"owner":{"account_id":1868719,"reputation":3430,"user_id":1691599,"display_name":"Ra&#250;l Salinas-Monteagudo"},"score":0,"creation_date":1520343470,"post_id":31779582,"comment_id":85268991,"body_markdown":"I wonder by the why how is an IllegalArgumentException better than a URISyntaxException. Weird design decision.","body":"I wonder by the why how is an IllegalArgumentException better than a URISyntaxException. Weird design decision."},{"owner":{"account_id":2903525,"reputation":737,"user_id":2489559,"accept_rate":85,"display_name":"AyCe"},"score":2,"creation_date":1530477421,"post_id":31779582,"comment_id":89238563,"body_markdown":"@Ra&#250;lSalinas-Monteagudo Sometimes you need to parse an &quot;untrusted&quot; string to an URI, in which case a &quot;forced&quot; checked exception is not a bad idea. Sometimes you know the string is a valid URI, and with the `create` method you don&#39;t need to concern yourself with the checked exception, because you assume there will be none. If there still is one that&#39;s a RuntimeException, on the same level as a NullPointerException.","body":"@Ra&#250;lSalinas-Monteagudo Sometimes you need to parse an &quot;untrusted&quot; string to an URI, in which case a &quot;forced&quot; checked exception is not a bad idea. Sometimes you know the string is a valid URI, and with the <code>create</code> method you don&#39;t need to concern yourself with the checked exception, because you assume there will be none. If there still is one that&#39;s a RuntimeException, on the same level as a NullPointerException."}],"tags":[],"owner":{"account_id":1275953,"reputation":26182,"user_id":1231230,"accept_rate":76,"display_name":"Ankur Singhal"},"comment_count":3,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1438577617,"creation_date":1438577154,"answer_id":31779582,"question_id":31779515,"body_markdown":"Reading the docs, it differs in the usage.\r\n\r\n&gt; Creates a URI by parsing the given string.This convenience factory\r\n&gt; method works as if by invoking the {@link\r\n&gt; URI(String)} constructor; any {@link URISyntaxException} thrown by the constructor is caught and wrapped in a new {@link\r\n&gt; IllegalArgumentException} object, which is then thrown.\r\n&gt; \r\n&gt; **This method is provided for use in situations where it is known that\r\n&gt; the given string is a legal URI**, for example for URI constants\r\n&gt; declared within in a program, and so it would be considered a\r\n&gt; programming error for the string not to parse as such.  The\r\n&gt; constructors, which throw {@link URISyntaxException} directly, should\r\n&gt; be used situations where a URI is being constructed from user input or\r\n&gt; from some other source that may be prone to errors.\r\n&gt; \r\n&gt; @param  str   The string to be parsed into a URI\r\n&gt; \r\n&gt;      * @return The new URI\r\n&gt;      *\r\n&gt;      * @throws  NullPointerException\r\n&gt;      *          If {@code str} is {@code null}\r\n&gt;      *\r\n&gt;      * @throws  IllegalArgumentException\r\n&gt;      *          If the given string violates RFC&amp;nbsp;2396\r\n&gt;      */\r\n\r\n    public static URI create(String str) {\r\n        try {\r\n            return new URI(str);\r\n        } catch (URISyntaxException x) {\r\n            throw new IllegalArgumentException(x.getMessage(), x);\r\n        }\r\n    }\r\n\r\n","title":"URI.create() vs new URI()","body":"<p>Reading the docs, it differs in the usage.</p>\n\n<blockquote>\n  <p>Creates a URI by parsing the given string.This convenience factory\n  method works as if by invoking the {@link\n  URI(String)} constructor; any {@link URISyntaxException} thrown by the constructor is caught and wrapped in a new {@link\n  IllegalArgumentException} object, which is then thrown.</p>\n  \n  <p><strong>This method is provided for use in situations where it is known that\n  the given string is a legal URI</strong>, for example for URI constants\n  declared within in a program, and so it would be considered a\n  programming error for the string not to parse as such.  The\n  constructors, which throw {@link URISyntaxException} directly, should\n  be used situations where a URI is being constructed from user input or\n  from some other source that may be prone to errors.</p>\n  \n  <p>@param  str   The string to be parsed into a URI</p>\n\n<pre><code> * @return The new URI\n *\n * @throws  NullPointerException\n *          If {@code str} is {@code null}\n *\n * @throws  IllegalArgumentException\n *          If the given string violates RFC&amp;nbsp;2396\n */\n</code></pre>\n</blockquote>\n\n<pre><code>public static URI create(String str) {\n    try {\n        return new URI(str);\n    } catch (URISyntaxException x) {\n        throw new IllegalArgumentException(x.getMessage(), x);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":178757,"reputation":11335,"user_id":410946,"accept_rate":88,"display_name":"Alfredo Osorio"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1598004618,"creation_date":1554790595,"answer_id":55586208,"question_id":31779515,"body_markdown":"There is no difference because `URI.create` delegates the call to the constructor. The only real difference is that `URI.create(String)` wraps the `URISyntaxException` which the constructor throws (checked exception) into an `IllegalArgumentException` (unchecked exception). So if you don&#39;t want to deal with the checked exception it&#39;s better to just call `URI.create(String)`.\r\n\r\nHere is the piece of code from JDK:\r\n\r\n    public static URI create(String str) {\r\n        try {\r\n            return new URI(str);\r\n        } catch (URISyntaxException x) {\r\n            throw new IllegalArgumentException(x.getMessage(), x);\r\n        }\r\n    }","title":"URI.create() vs new URI()","body":"<p>There is no difference because <code>URI.create</code> delegates the call to the constructor. The only real difference is that <code>URI.create(String)</code> wraps the <code>URISyntaxException</code> which the constructor throws (checked exception) into an <code>IllegalArgumentException</code> (unchecked exception). So if you don't want to deal with the checked exception it's better to just call <code>URI.create(String)</code>.</p>\n<p>Here is the piece of code from JDK:</p>\n<pre><code>public static URI create(String str) {\n    try {\n        return new URI(str);\n    } catch (URISyntaxException x) {\n        throw new IllegalArgumentException(x.getMessage(), x);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6537386,"reputation":2127,"user_id":5056380,"display_name":"UnknownOctopus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41246,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":31779582,"answer_count":2,"score":23,"last_activity_date":1694443693,"creation_date":1438576685,"question_id":31779515,"body_markdown":"A `uri` could be created in two ways:\r\n\r\n    //import java.net.URI;\r\n    URI uri = new URI(&quot;https://www.google.com/&quot;);\r\n\r\nOr,\r\n\r\n    //import java.net.URI;\r\n    URI uri = URI.create(&quot;https://www.google.com/&quot;);\r\n\r\nI was wondering which is a better practice. I haven&#39;t noticed any performance differences and I&#39;ve read the documentation, however it was a bit difficult to understand. Any insight on this is appreciated. ","title":"URI.create() vs new URI()","body":"<p>A <code>uri</code> could be created in two ways:</p>\n<pre><code>//import java.net.URI;\nURI uri = new URI(&quot;https://www.google.com/&quot;);\n</code></pre>\n<p>Or,</p>\n<pre><code>//import java.net.URI;\nURI uri = URI.create(&quot;https://www.google.com/&quot;);\n</code></pre>\n<p>I was wondering which is a better practice. I haven't noticed any performance differences and I've read the documentation, however it was a bit difficult to understand. Any insight on this is appreciated.</p>\n"},{"tags":["java","android","permissions","android-permissions","user-permissions"],"comments":[{"owner":{"account_id":12721843,"reputation":16013,"user_id":9241978,"display_name":"Pawel"},"score":0,"creation_date":1692266108,"post_id":76920350,"comment_id":135601073,"body_markdown":"I recommend reading [official documentation](https://developer.android.com/training/permissions/requesting#handle-denial). If user denies a permission twice it&#39;s implied he doesn&#39;t want to grant it ever so dialog is forever suppressed. Before android 11 dialog had a checkbox that could be un-checked to keep asking but it&#39;s no longer the case.","body":"I recommend reading <a href=\"https://developer.android.com/training/permissions/requesting#handle-denial\" rel=\"nofollow noreferrer\">official documentation</a>. If user denies a permission twice it&#39;s implied he doesn&#39;t want to grant it ever so dialog is forever suppressed. Before android 11 dialog had a checkbox that could be un-checked to keep asking but it&#39;s no longer the case."},{"owner":{"account_id":29127555,"reputation":1,"user_id":22313553,"display_name":"Niv G."},"score":0,"creation_date":1692267027,"post_id":76920350,"comment_id":135601248,"body_markdown":"well the app cannot work without it.","body":"well the app cannot work without it."},{"owner":{"account_id":12721843,"reputation":16013,"user_id":9241978,"display_name":"Pawel"},"score":1,"creation_date":1692268382,"post_id":76920350,"comment_id":135601480,"body_markdown":"If you can&#39;t &quot;gracefully degrade the experience&quot; without having permissions there really isn&#39;t many options left. You can display an error and ask user to open app settings and grant missing permissions manually from there.","body":"If you can&#39;t &quot;gracefully degrade the experience&quot; without having permissions there really isn&#39;t many options left. You can display an error and ask user to open app settings and grant missing permissions manually from there."},{"owner":{"account_id":29127555,"reputation":1,"user_id":22313553,"display_name":"Niv G."},"score":0,"creation_date":1692272042,"post_id":76920350,"comment_id":135602155,"body_markdown":"so i need to check if i have permission and if not let the user know he has to agree the permission and he needs to do it manually and i can&#39;t pop up the reqpermission again?","body":"so i need to check if i have permission and if not let the user know he has to agree the permission and he needs to do it manually and i can&#39;t pop up the reqpermission again?"},{"owner":{"account_id":29127555,"reputation":1,"user_id":22313553,"display_name":"Niv G."},"score":0,"creation_date":1692272106,"post_id":76920350,"comment_id":135602170,"body_markdown":"If i can&#39;t is there an option to open the app settings in the right place for the user?","body":"If i can&#39;t is there an option to open the app settings in the right place for the user?"},{"owner":{"account_id":16549589,"reputation":177,"user_id":11958275,"display_name":"Ghazanfar Ateeb"},"score":0,"creation_date":1692278818,"post_id":76920350,"comment_id":135603675,"body_markdown":"You need to check the `shouldShowPermissionRationale` method and then redirect the user to the app&#39;s settings via `Intent` using `Settings.ACTION_APPLICATION_DETAILS_SETTINGS`  intent action.","body":"You need to check the <code>shouldShowPermissionRationale</code> method and then redirect the user to the app&#39;s settings via <code>Intent</code> using <code>Settings.ACTION_APPLICATION_DETAILS_SETTINGS</code>  intent action."},{"owner":{"account_id":29127555,"reputation":1,"user_id":22313553,"display_name":"Niv G."},"score":0,"creation_date":1692608550,"post_id":76920350,"comment_id":135641583,"body_markdown":"and will it ask for the permission again or will open the app settings in the right place? can u provide me the needed code?","body":"and will it ask for the permission again or will open the app settings in the right place? can u provide me the needed code?"},{"owner":{"account_id":29127555,"reputation":1,"user_id":22313553,"display_name":"Niv G."},"score":0,"creation_date":1693198385,"post_id":76920350,"comment_id":135723337,"body_markdown":"yes no ??  any other suggestions?","body":"yes no ??  any other suggestions?"}],"answers":[{"comments":[{"owner":{"account_id":29127555,"reputation":1,"user_id":22313553,"display_name":"Niv G."},"score":0,"creation_date":1694528726,"post_id":77082651,"comment_id":135901057,"body_markdown":"ok i will  try rhank you.  Do you know how can i move the user to the correct place in the setting?","body":"ok i will  try rhank you.  Do you know how can i move the user to the correct place in the setting?"},{"owner":{"account_id":13327412,"reputation":127,"user_id":9619925,"display_name":"Noamaw"},"score":0,"creation_date":1694529444,"post_id":77082651,"comment_id":135901237,"body_markdown":"`Intent intent = new Intent(Settings.ACTION_APPLICATION_DETAILS_SETTINGS, Uri.fromParts(&quot;package&quot;, getPackageName(), null)); intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK); startActivity(intent);`\n\nCreate an intent to the app info settings.\nstartActivity","body":"<code>Intent intent = new Intent(Settings.ACTION_APPLICATION_DETAILS_SETTINGS, Uri.fromParts(&quot;package&quot;, getPackageName(), null)); intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK); startActivity(intent);</code>  Create an intent to the app info settings. startActivity"},{"owner":{"account_id":29127555,"reputation":1,"user_id":22313553,"display_name":"Niv G."},"score":0,"creation_date":1694529714,"post_id":77082651,"comment_id":135901317,"body_markdown":"Alr i will do it. Thank you so much","body":"Alr i will do it. Thank you so much"}],"tags":[],"owner":{"account_id":13327412,"reputation":127,"user_id":9619925,"display_name":"Noamaw"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694443691,"creation_date":1694443691,"answer_id":77082651,"question_id":76920350,"body_markdown":"As a start I will suggest to read the [official documentation][1].\r\n\r\nThat being said. This is my understanding when requesting permissions we have a ActivityResultContract.\r\nThrough this we have 3 cases:\r\n 1. The user grants the permission the first time it was requested. **GREAT**\r\n 2. The user denied the permission request. Now you can ask again - but first, **recommended to add**\r\n    `shouldShowPermissionRationale`.\r\n\r\n 3. The user denied also the second time requested. Now it is recommended to display an error dialog to explain to the user the application won&#39;t be able to do it&#39;s work without the permission granted. and if the user decides to agree you can link the settings for change of permission. otherwise, there is nothing you can do.\r\n\r\n  [1]: https://developer.android.com/training/permissions/requesting#handle-denial","title":"Request permissions on Android Studio","body":"<p>As a start I will suggest to read the <a href=\"https://developer.android.com/training/permissions/requesting#handle-denial\" rel=\"nofollow noreferrer\">official documentation</a>.</p>\n<p>That being said. This is my understanding when requesting permissions we have a ActivityResultContract.\nThrough this we have 3 cases:</p>\n<ol>\n<li><p>The user grants the permission the first time it was requested. <strong>GREAT</strong></p>\n</li>\n<li><p>The user denied the permission request. Now you can ask again - but first, <strong>recommended to add</strong>\n<code>shouldShowPermissionRationale</code>.</p>\n</li>\n<li><p>The user denied also the second time requested. Now it is recommended to display an error dialog to explain to the user the application won't be able to do it's work without the permission granted. and if the user decides to agree you can link the settings for change of permission. otherwise, there is nothing you can do.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":29127555,"reputation":1,"user_id":22313553,"display_name":"Niv G."},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694443691,"creation_date":1692265657,"question_id":76920350,"body_markdown":"I&#39;m trying to obtain multiple permissions, but if they are declined once, it never asks again.\r\nwithout all the permisions the app won&#39;t work at all and you can&#39;t continue without accepting them all.\r\n\r\nI have the following three lines in my manifest:\r\n\r\n```\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_CALL_LOG&quot;/&gt;\r\n```\r\n\r\nAnd this is how I am attempting to obtain those permissions:\r\n\r\n```\r\n private void getPermissions() {\r\n            if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.READ_CALL_LOG) != PackageManager.PERMISSION_GRANTED) {\r\n                requestPermissions(new String[]{Manifest.permission.READ_CONTACTS, Manifest.permission.CALL_PHONE, Manifest.permission.READ_CALL_LOG}, 123);\r\n            }\r\n        }\r\n```\r\n\r\nCurrently, this process works, but only once. After the permission is either declined or accepted and later removed, the app never prompts the user again. However, I want it to request permission every time I do not have the required permissions, and it needs to work on multiple versions of Android devices.","title":"Request permissions on Android Studio","body":"<p>I'm trying to obtain multiple permissions, but if they are declined once, it never asks again.\nwithout all the permisions the app won't work at all and you can't continue without accepting them all.</p>\n<p>I have the following three lines in my manifest:</p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_CALL_LOG&quot;/&gt;\n</code></pre>\n<p>And this is how I am attempting to obtain those permissions:</p>\n<pre><code> private void getPermissions() {\n            if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.READ_CALL_LOG) != PackageManager.PERMISSION_GRANTED) {\n                requestPermissions(new String[]{Manifest.permission.READ_CONTACTS, Manifest.permission.CALL_PHONE, Manifest.permission.READ_CALL_LOG}, 123);\n            }\n        }\n</code></pre>\n<p>Currently, this process works, but only once. After the permission is either declined or accepted and later removed, the app never prompts the user again. However, I want it to request permission every time I do not have the required permissions, and it needs to work on multiple versions of Android devices.</p>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694442503,"post_id":77082412,"comment_id":135887928,"body_markdown":"Why would you want to do that?","body":"Why would you want to do that?"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1694445318,"post_id":77082412,"comment_id":135888529,"body_markdown":"It&#39;s not. Altering a primary key is not allowed in SQL.","body":"It&#39;s not. Altering a primary key is not allowed in SQL."}],"answers":[{"tags":[],"owner":{"account_id":29415388,"reputation":29,"user_id":22538334,"display_name":"Kinnessa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694442768,"creation_date":1694442768,"answer_id":77082554,"question_id":77082412,"body_markdown":"If you need to update an entity&#39;s ID, the typical approach is to create a new entity with the desired ID and copy the other attributes from the old entity to the new one. Here&#39;s a step-by-step guide:\r\n\r\nCreate a new instance of the entity with the desired ID.\r\njava\r\n\r\n    YourEntity newEntity = new YourEntity();\r\n    newEntity.setId(newId); // Set the new ID\r\n\r\nCopy the other attributes from the old entity to the new one.\r\njava\r\n\r\n    newEntity.setSomeAttribute(oldEntity.getSomeAttribute());\r\n    newEntity.setAnotherAttribute(oldEntity.getAnotherAttribute());\r\n    // Copy other attributes as needed\r\n\r\nPersist the new entity and remove the old one.\r\n\r\n    entityManager.persist(newEntity); // Save the new entity\r\n    entityManager.remove(oldEntity); // Remove the old entity\r\n\r\nKeep in mind that this approach assumes that you have control over the entity&#39;s lifecycle and can remove the old entity without any side effects.","title":"How can I update the ID of a JPA entity?","body":"<p>If you need to update an entity's ID, the typical approach is to create a new entity with the desired ID and copy the other attributes from the old entity to the new one. Here's a step-by-step guide:</p>\n<p>Create a new instance of the entity with the desired ID.\njava</p>\n<pre><code>YourEntity newEntity = new YourEntity();\nnewEntity.setId(newId); // Set the new ID\n</code></pre>\n<p>Copy the other attributes from the old entity to the new one.\njava</p>\n<pre><code>newEntity.setSomeAttribute(oldEntity.getSomeAttribute());\nnewEntity.setAnotherAttribute(oldEntity.getAnotherAttribute());\n// Copy other attributes as needed\n</code></pre>\n<p>Persist the new entity and remove the old one.</p>\n<pre><code>entityManager.persist(newEntity); // Save the new entity\nentityManager.remove(oldEntity); // Remove the old entity\n</code></pre>\n<p>Keep in mind that this approach assumes that you have control over the entity's lifecycle and can remove the old entity without any side effects.</p>\n"}],"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1694442768,"creation_date":1694441718,"question_id":77082412,"body_markdown":"Related to this https://stackoverflow.com/questions/3820897/jpa-entity-without-id\r\n\r\nWhere I just want JPA to update a single record.  However I get \r\n\r\n&gt; identifier of an instance of mypackage.XyzClass was altered\r\n\r\nHow can I update the ID of a JPA entity?  Assuming it is possible","title":"How can I update the ID of a JPA entity?","body":"<p>Related to this <a href=\"https://stackoverflow.com/questions/3820897/jpa-entity-without-id\">JPA entity without id</a></p>\n<p>Where I just want JPA to update a single record.  However I get</p>\n<blockquote>\n<p>identifier of an instance of mypackage.XyzClass was altered</p>\n</blockquote>\n<p>How can I update the ID of a JPA entity?  Assuming it is possible</p>\n"},{"tags":["java","spring-boot","drools","kie"],"owner":{"account_id":18523819,"reputation":1,"user_id":13496149,"display_name":"Arnav Nag"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694442762,"creation_date":1694442762,"question_id":77082553,"body_markdown":"I wanted to know if i can dynamically update rules in a kie container .\r\n\r\nScenario:\r\nI have a global KieFileSystem and every time a new rule is added i am writing to this file System. After that i am creating a Kie Module using KieBuilder using the updated KieFileSystem.Then i am using the Release Id of this kie Module to update my kie container to Version using updateToVersion()\r\nUsing drools and kie version 8.31.0.Final\r\n\r\nProblem:\r\nFor large number of complex rules updateToversion is recomiling all rules including the previously compiled ones in the kie container thereby increasing execution time. \r\n\r\n\r\nRequirement:\r\nI want to add the new rules to the kie container without recompiling the already compiled rules.\r\n\r\nMy approach to this problem :\r\nCreating a new FileSystem when a new rule is added containing only the new rule and use this file system to add to a global list of  kieContainers by creating a new container everytime a rule is added.  During rule execution I am executing all the containers in the list. This is not a good approach as it involves creation of several containers \r\n\r\nI would like to know if it is possible to do this operation in a more efficient way .\r\n\r\nTHANKS IN ADVANCE","title":"How to dynamically add new drool rules to a kie Container without recompiling all rules","body":"<p>I wanted to know if i can dynamically update rules in a kie container .</p>\n<p>Scenario:\nI have a global KieFileSystem and every time a new rule is added i am writing to this file System. After that i am creating a Kie Module using KieBuilder using the updated KieFileSystem.Then i am using the Release Id of this kie Module to update my kie container to Version using updateToVersion()\nUsing drools and kie version 8.31.0.Final</p>\n<p>Problem:\nFor large number of complex rules updateToversion is recomiling all rules including the previously compiled ones in the kie container thereby increasing execution time.</p>\n<p>Requirement:\nI want to add the new rules to the kie container without recompiling the already compiled rules.</p>\n<p>My approach to this problem :\nCreating a new FileSystem when a new rule is added containing only the new rule and use this file system to add to a global list of  kieContainers by creating a new container everytime a rule is added.  During rule execution I am executing all the containers in the list. This is not a good approach as it involves creation of several containers</p>\n<p>I would like to know if it is possible to do this operation in a more efficient way .</p>\n<p>THANKS IN ADVANCE</p>\n"},{"tags":["java","file","io","try-with-resources"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1694442792,"post_id":77082527,"comment_id":135887990,"body_markdown":"[But I’m taking an IOException during writeObject();](https://technojeeves.com/index.php/aliasjava1/17-errors)","body":"<a href=\"https://technojeeves.com/index.php/aliasjava1/17-errors\" rel=\"nofollow noreferrer\">But I’m taking an IOException during writeObject();</a>"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1694444220,"post_id":77082527,"comment_id":135888311,"body_markdown":"Serialized Java objects are brittle and you should always try to avoid using ObjectOutputStream and ObjectWriter. And in your case it&#39;s entirely unnecessary! Use use a plain OutputStream. Better yet, use a FileWriter, as FileWriter has capacities for setting the serialized text charset (ie utf-8, etc)","body":"Serialized Java objects are brittle and you should always try to avoid using ObjectOutputStream and ObjectWriter. And in your case it&#39;s entirely unnecessary! Use use a plain OutputStream. Better yet, use a FileWriter, as FileWriter has capacities for setting the serialized text charset (ie utf-8, etc)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694446864,"post_id":77082527,"comment_id":135888837,"body_markdown":"*Better yet, use a FileWriter* Definitely not. Java serialization is a binary operation and unsuitable for treatment as a textual operation. It might be different if *textual serialization* were being used, but it isn&#39;t","body":"<i>Better yet, use a FileWriter</i> Definitely not. Java serialization is a binary operation and unsuitable for treatment as a textual operation. It might be different if <i>textual serialization</i> were being used, but it isn&#39;t"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1694447838,"post_id":77082527,"comment_id":135889018,"body_markdown":"First of all, you should decide whether you want to read or write data. You mixture of “in” and “out” in the identifiers should already scream at you that there’s something wrong. For `FileOutputStream`, it doesn’t matter whether the file exists. And contrary to the reading of objects, writing objects never throws `ClassNotFoundException` and therefore, this code doesn’t even pass the compiler. And your first variant which closes the `FileOutputStream` but not the `ObjectOutputStream` is broken and will created corrupted files (once you fix the compiler error).","body":"First of all, you should decide whether you want to read or write data. You mixture of “in” and “out” in the identifiers should already scream at you that there’s something wrong. For <code>FileOutputStream</code>, it doesn’t matter whether the file exists. And contrary to the reading of objects, writing objects never throws <code>ClassNotFoundException</code> and therefore, this code doesn’t even pass the compiler. And your first variant which closes the <code>FileOutputStream</code> but not the <code>ObjectOutputStream</code> is broken and will created corrupted files (once you fix the compiler error)."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1694449297,"post_id":77082527,"comment_id":135889295,"body_markdown":"What is the exception message? BTW you should have `objectIn.close();` not `fileIn.close();`","body":"What is the exception message? BTW you should have <code>objectIn.close();</code> not <code>fileIn.close();</code>"}],"owner":{"account_id":29415313,"reputation":1,"user_id":22538278,"display_name":"Sel&#231;uk Altınay"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694442588,"creation_date":1694442588,"question_id":77082527,"body_markdown":"I am trying to use try-with-resources with the code below\r\n\r\n``` \r\ntry {\r\n    FileOutputStream fileIn = new FileOutputStream(&quot;veri.obj&quot;);\r\n    ObjectOutputStream objectIn = new ObjectOutputStream(fileIn);\r\n\r\n    objectIn.writeObject(&quot;123&quot;); \r\n\tfileIn.close();\r\n} catch (IOException | ClassNotFoundException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\n\r\nLike this,\r\n\r\n```\r\ntry(FileOutputStream fileIn = new FileOutputStream(&quot;veri.obj&quot;);\r\n    ObjectOutputStream objectIn = new ObjectOutputStream(fileIn))\r\n{\r\n\r\n    objectIn.writeObject(&quot;123&quot;); \r\n} catch (IOException | ClassNotFoundException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nBut I’m taking an IOException during writeObject();\r\nThe file is exist and there is no problem with r/w permission. The first code is running but second one is not. What am I missing?\r\n\r\nI tried to check file existence and permission with methods of File class","title":"Try with resources with multiple resources","body":"<p>I am trying to use try-with-resources with the code below</p>\n<pre><code>try {\n    FileOutputStream fileIn = new FileOutputStream(&quot;veri.obj&quot;);\n    ObjectOutputStream objectIn = new ObjectOutputStream(fileIn);\n\n    objectIn.writeObject(&quot;123&quot;); \n    fileIn.close();\n} catch (IOException | ClassNotFoundException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Like this,</p>\n<pre><code>try(FileOutputStream fileIn = new FileOutputStream(&quot;veri.obj&quot;);\n    ObjectOutputStream objectIn = new ObjectOutputStream(fileIn))\n{\n\n    objectIn.writeObject(&quot;123&quot;); \n} catch (IOException | ClassNotFoundException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>But I’m taking an IOException during writeObject();\nThe file is exist and there is no problem with r/w permission. The first code is running but second one is not. What am I missing?</p>\n<p>I tried to check file existence and permission with methods of File class</p>\n"},{"tags":["java","sockets","nio","serversocket","nio2"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1466769938,"post_id":38012948,"comment_id":63468366,"body_markdown":"There is no such thing as a message in TCP. It is a byte stream protocol. If you want mssages you have to implement them yourself.","body":"There is no such thing as a message in TCP. It is a byte stream protocol. If you want mssages you have to implement them yourself."},{"owner":{"account_id":6289696,"reputation":1155,"user_id":4887806,"accept_rate":73,"display_name":"Hooli"},"score":0,"creation_date":1466770098,"post_id":38012948,"comment_id":63468474,"body_markdown":"Sorry, I&#39;m using a browser which I believe sends across a `byte[]`, bad choice of words on my part","body":"Sorry, I&#39;m using a browser which I believe sends across a <code>byte[]</code>, bad choice of words on my part"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1466818260,"post_id":38012948,"comment_id":63489328,"body_markdown":"Same difference. &#39;Message&#39; == &#39;byte array&#39; in this case. It&#39;s a byte stream protocol. There is nothing that says will receive the entire sent byte array in a single operation.","body":"Same difference. &#39;Message&#39; == &#39;byte array&#39; in this case. It&#39;s a byte stream protocol. There is nothing that says will receive the entire sent byte array in a single operation."},{"owner":{"account_id":6289696,"reputation":1155,"user_id":4887806,"accept_rate":73,"display_name":"Hooli"},"score":0,"creation_date":1466893724,"post_id":38012948,"comment_id":63507197,"body_markdown":"@EJP: I&#39;m not too familiar with the NIO2 framework and can&#39;t seem to find a good source of information on the topic. Any recommendations?","body":"@EJP: I&#39;m not too familiar with the NIO2 framework and can&#39;t seem to find a good source of information on the topic. Any recommendations?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1508811984,"post_id":38012948,"comment_id":80749391,"body_markdown":"This is a basic property of TCP. It has nothing to do with NIO2 specifically.","body":"This is a basic property of TCP. It has nothing to do with NIO2 specifically."}],"answers":[{"tags":[],"owner":{"account_id":7482232,"reputation":353,"user_id":5686651,"display_name":"iZian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515618644,"creation_date":1515600034,"answer_id":48191401,"question_id":38012948,"body_markdown":"I believe your issue is with the Asynchronous nature of the code you&#39;re using. What you have is an open connection and you&#39;ve called the asynchronous `read` method on your socket. \r\nThis reads `n` bytes from the channel where `n` is anything from `0` to the size of your available buffer.\r\n\r\nI firmly believe that you have to read in a loop. That is, with Java&#39;s A-NIO; you&#39;d need to call `read` again from your `completed` method on your `CompletionHandler` by, possibly, passing in the `AsynchronousSocketChannel` as an attachment to a new `completed` method on a `CompletionHandler` you create for `read` , not the one you already have for `accept` methods.\r\n\r\nI think this is the same sort of pattern you&#39;d use where you&#39;d call `accept` again with `this` as the completion handler from your `completed` method in the `CompletionHandler` you&#39;re using for the `accept` method call.\r\n\r\nIt then becomes important to put an &quot;Escape&quot; clause into your `CompletionHandler` for instance, if the `result` is `-1` or if the `ByteBuffer` had read `X` number of bytes based on what you&#39;re expecting, or based on if the final `byte` in the `ByteBuffer` is a specific message termination byte that you&#39;ve agreed with the sending application.\r\n\r\nThe [Java Documentation](https://docs.oracle.com/javase/7/docs/api/java/nio/channels/AsynchronousSocketChannel.html#read(java.nio.ByteBuffer,%20A,%20java.nio.channels.CompletionHandler)) on the matter goes so far as to say the `read` method will only read the amount of bytes on the `dst` at the time of invocation.\r\n\r\nIn Summary; the `completed` method call for the handler for the `read` seems to execute once something was written to the channel; but if something is being streamed you could get half of the bytes, so you&#39;d need to continue reading until you&#39;re satisfied you&#39;ve got the end of what they were sending.\r\n\r\nBelow is some code I knocked together on reading until the end, responding whilst reading, asynchronously. It, unlike myself, can talk and listen at the same time.\r\n\r\n    public class ReadForeverCompletionHandler implements CompletionHandler&lt;Integer, Pair&lt;AsynchronousSocketChannel, ByteBuffer&gt;&gt; {\r\n    @Override\r\n    public void completed(Integer bytesRead, Pair&lt;AsynchronousSocketChannel, ByteBuffer&gt; statefulStuff) {\r\n        if(bytesRead != -1) {\r\n            final ByteBuffer receivedByteBuffer = statefulStuff.getRight();\r\n            final AsynchronousSocketChannel theSocketChannel = statefulStuff.getLeft();\r\n            if (receivedByteBuffer.position()&gt;8) {\r\n                //New buffer as existing buffer is in use\r\n                ByteBuffer response = ByteBuffer.wrap(receivedByteBuffer.array());\r\n                receivedByteBuffer.clear(); //safe as we&#39;ve not got any outstanding or in progress reads, yet.\r\n                theSocketChannel.read(receivedByteBuffer,statefulStuff,this); //Basically &quot;WAIT&quot; on more data\r\n                Future&lt;Integer&gt; ignoredBytesWrittenResult = theSocketChannel.write(response);\r\n            }\r\n        }\r\n        else {\r\n            //connection was closed code\r\n            try {\r\n                statefulStuff.getLeft().shutdownOutput(); //maybe\r\n            }\r\n            catch (IOException somethingBad){\r\n                //fire\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void failed(Throwable exc, Pair&lt;AsynchronousSocketChannel, ByteBuffer&gt; attachment) {\r\n        //shout fire\r\n    }\r\n\r\nThe read is originally kicked off by a call from the `completed` method in the handler from the very original asynchronous `accept` on the server socket like \r\n\r\n    public class AcceptForeverCompletionHandler implements CompletionHandler&lt;AsynchronousSocketChannel, Pair&lt;AsynchronousServerSocketChannel, Collection&lt;AsynchronousSocketChannel&gt;&gt;&gt; {\r\n    \r\n    private final ReadForeverCompletionHandler readForeverAndEverAndSoOn = new ReadForeverCompletionHandler();\r\n    \r\n    @Override\r\n    public void completed(AsynchronousSocketChannel result, Pair&lt;AsynchronousServerSocketChannel, Collection&lt;AsynchronousSocketChannel&gt;&gt; statefulStuff) {\r\n        statefulStuff.getLeft().accept(statefulStuff, this); //Accept more new connections please as we go\r\n        statefulStuff.getRight().add(result); //Collect these in case we want to for some reason, I don&#39;t know\r\n        ByteBuffer buffer = ByteBuffer.allocate(4098); //4k seems a nice number\r\n        result.read(buffer, Pair.of(result, buffer ),readForeverAndEverAndSoOn); //Kick off the read &quot;forever&quot;\r\n    }\r\n\r\n    @Override\r\n    public void failed(Throwable exc, Pair&lt;AsynchronousServerSocketChannel, Collection&lt;AsynchronousSocketChannel&gt;&gt; attachment) {\r\n        //Shout fire\r\n    }\r\n}","title":"AsynchronousSocketChannel not reading in entire message","body":"<p>I believe your issue is with the Asynchronous nature of the code you're using. What you have is an open connection and you've called the asynchronous <code>read</code> method on your socket. \nThis reads <code>n</code> bytes from the channel where <code>n</code> is anything from <code>0</code> to the size of your available buffer.</p>\n\n<p>I firmly believe that you have to read in a loop. That is, with Java's A-NIO; you'd need to call <code>read</code> again from your <code>completed</code> method on your <code>CompletionHandler</code> by, possibly, passing in the <code>AsynchronousSocketChannel</code> as an attachment to a new <code>completed</code> method on a <code>CompletionHandler</code> you create for <code>read</code> , not the one you already have for <code>accept</code> methods.</p>\n\n<p>I think this is the same sort of pattern you'd use where you'd call <code>accept</code> again with <code>this</code> as the completion handler from your <code>completed</code> method in the <code>CompletionHandler</code> you're using for the <code>accept</code> method call.</p>\n\n<p>It then becomes important to put an \"Escape\" clause into your <code>CompletionHandler</code> for instance, if the <code>result</code> is <code>-1</code> or if the <code>ByteBuffer</code> had read <code>X</code> number of bytes based on what you're expecting, or based on if the final <code>byte</code> in the <code>ByteBuffer</code> is a specific message termination byte that you've agreed with the sending application.</p>\n\n<p>The <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/channels/AsynchronousSocketChannel.html#read(java.nio.ByteBuffer,%20A,%20java.nio.channels.CompletionHandler)\" rel=\"nofollow noreferrer\">Java Documentation</a> on the matter goes so far as to say the <code>read</code> method will only read the amount of bytes on the <code>dst</code> at the time of invocation.</p>\n\n<p>In Summary; the <code>completed</code> method call for the handler for the <code>read</code> seems to execute once something was written to the channel; but if something is being streamed you could get half of the bytes, so you'd need to continue reading until you're satisfied you've got the end of what they were sending.</p>\n\n<p>Below is some code I knocked together on reading until the end, responding whilst reading, asynchronously. It, unlike myself, can talk and listen at the same time.</p>\n\n<pre><code>public class ReadForeverCompletionHandler implements CompletionHandler&lt;Integer, Pair&lt;AsynchronousSocketChannel, ByteBuffer&gt;&gt; {\n@Override\npublic void completed(Integer bytesRead, Pair&lt;AsynchronousSocketChannel, ByteBuffer&gt; statefulStuff) {\n    if(bytesRead != -1) {\n        final ByteBuffer receivedByteBuffer = statefulStuff.getRight();\n        final AsynchronousSocketChannel theSocketChannel = statefulStuff.getLeft();\n        if (receivedByteBuffer.position()&gt;8) {\n            //New buffer as existing buffer is in use\n            ByteBuffer response = ByteBuffer.wrap(receivedByteBuffer.array());\n            receivedByteBuffer.clear(); //safe as we've not got any outstanding or in progress reads, yet.\n            theSocketChannel.read(receivedByteBuffer,statefulStuff,this); //Basically \"WAIT\" on more data\n            Future&lt;Integer&gt; ignoredBytesWrittenResult = theSocketChannel.write(response);\n        }\n    }\n    else {\n        //connection was closed code\n        try {\n            statefulStuff.getLeft().shutdownOutput(); //maybe\n        }\n        catch (IOException somethingBad){\n            //fire\n        }\n    }\n}\n\n@Override\npublic void failed(Throwable exc, Pair&lt;AsynchronousSocketChannel, ByteBuffer&gt; attachment) {\n    //shout fire\n}\n</code></pre>\n\n<p>The read is originally kicked off by a call from the <code>completed</code> method in the handler from the very original asynchronous <code>accept</code> on the server socket like </p>\n\n<pre><code>public class AcceptForeverCompletionHandler implements CompletionHandler&lt;AsynchronousSocketChannel, Pair&lt;AsynchronousServerSocketChannel, Collection&lt;AsynchronousSocketChannel&gt;&gt;&gt; {\n\nprivate final ReadForeverCompletionHandler readForeverAndEverAndSoOn = new ReadForeverCompletionHandler();\n\n@Override\npublic void completed(AsynchronousSocketChannel result, Pair&lt;AsynchronousServerSocketChannel, Collection&lt;AsynchronousSocketChannel&gt;&gt; statefulStuff) {\n    statefulStuff.getLeft().accept(statefulStuff, this); //Accept more new connections please as we go\n    statefulStuff.getRight().add(result); //Collect these in case we want to for some reason, I don't know\n    ByteBuffer buffer = ByteBuffer.allocate(4098); //4k seems a nice number\n    result.read(buffer, Pair.of(result, buffer ),readForeverAndEverAndSoOn); //Kick off the read \"forever\"\n}\n\n@Override\npublic void failed(Throwable exc, Pair&lt;AsynchronousServerSocketChannel, Collection&lt;AsynchronousSocketChannel&gt;&gt; attachment) {\n    //Shout fire\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":11554857,"reputation":21,"user_id":8466347,"display_name":"Kolarč&#237;k V&#225;clav"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694442497,"creation_date":1694101211,"answer_id":77061032,"question_id":38012948,"body_markdown":"You can utilize lambda functions when receiving data from asynchronous socket. Herein the read completion handler is created using standalone method ```newReadHandler(...)``` with lambda functions as parameters. The asynchronous reading is started with ```readLambda.accept(handler);``` statement placed at the end of the following Java code. The ```completed(...)``` callback method is invoked asynchronously so that algorithm doesn&#39;t collect function calls on the stack.\r\n\r\n```\r\nprivate CompletionHandler&lt;Integer, LogConsole&gt; newReadHandler(\r\n\t\t\t\tBiFunction&lt;Integer, LogConsole, Boolean&gt; completedLambda,\r\n\t\t\t\tBiConsumer&lt;Throwable, LogConsole&gt; failedLambda,\r\n\t\t\t\tConsumer&lt;CompletionHandler&lt;Integer, LogConsole&gt;&gt; nextReadLambda) {\r\n\t\r\n    CompletionHandler&lt;Integer, LogConsole&gt; completionHandler = new CompletionHandler&lt;Integer, LogConsole&gt;() {\r\n\t\t@Override\r\n\t\tpublic void completed(Integer result, LogConsole console) {\r\n\t\t\tif (!completedLambda.apply(result, console)) \r\n\t\t\t\treturn;\r\n\t\t\tnextReadLambda.accept(newReadHandler(completedLambda, failedLambda, nextReadLambda));\r\n\t\t}\r\n\t\t@Override\r\n\t\tpublic void failed(Throwable exception, LogConsole console) {\r\n\t\t\tfailedLambda.accept(exception, console);\r\n\t\t}\r\n    };\r\n    return completionHandler;\r\n}\r\n\r\npublic readFromClientSocket(AsynchronousSocketChannel socket) {\r\n\tBiFunction&lt;Integer, LogConsole, Boolean&gt; completedLambda = (readResult, readConsole) -&gt; {\r\n\t\t// Accept successful read operation.\r\n\t};\r\n\tBiConsumer&lt;Throwable, LogConsole&gt; failedLambda = (readException, readConsole) -&gt; {\r\n\t\t// Read exception.\r\n\t};\r\n\tConsumer&lt;CompletionHandler&lt;Integer, LogConsole&gt;&gt; readLambda = (handler) -&gt; {\r\n\t\t// Read operation.\r\n\t\tsocket.read(console.inputBuffer, 10, TimeUnit.SECONDS, console, handler);\r\n\t};\r\n\t// Create completion handler.\r\n\tCompletionHandler&lt;Integer, LogConsole&gt; handler = newReadHandler(completedLambda, failedLambda, readLambda);\r\n\t// Run first read operation with firt completion handler. \r\n\treadLambda.accept(handler);\r\n}\r\n```","title":"AsynchronousSocketChannel not reading in entire message","body":"<p>You can utilize lambda functions when receiving data from asynchronous socket. Herein the read completion handler is created using standalone method <code>newReadHandler(...)</code> with lambda functions as parameters. The asynchronous reading is started with <code>readLambda.accept(handler);</code> statement placed at the end of the following Java code. The <code>completed(...)</code> callback method is invoked asynchronously so that algorithm doesn't collect function calls on the stack.</p>\n<pre><code>private CompletionHandler&lt;Integer, LogConsole&gt; newReadHandler(\n                BiFunction&lt;Integer, LogConsole, Boolean&gt; completedLambda,\n                BiConsumer&lt;Throwable, LogConsole&gt; failedLambda,\n                Consumer&lt;CompletionHandler&lt;Integer, LogConsole&gt;&gt; nextReadLambda) {\n    \n    CompletionHandler&lt;Integer, LogConsole&gt; completionHandler = new CompletionHandler&lt;Integer, LogConsole&gt;() {\n        @Override\n        public void completed(Integer result, LogConsole console) {\n            if (!completedLambda.apply(result, console)) \n                return;\n            nextReadLambda.accept(newReadHandler(completedLambda, failedLambda, nextReadLambda));\n        }\n        @Override\n        public void failed(Throwable exception, LogConsole console) {\n            failedLambda.accept(exception, console);\n        }\n    };\n    return completionHandler;\n}\n\npublic readFromClientSocket(AsynchronousSocketChannel socket) {\n    BiFunction&lt;Integer, LogConsole, Boolean&gt; completedLambda = (readResult, readConsole) -&gt; {\n        // Accept successful read operation.\n    };\n    BiConsumer&lt;Throwable, LogConsole&gt; failedLambda = (readException, readConsole) -&gt; {\n        // Read exception.\n    };\n    Consumer&lt;CompletionHandler&lt;Integer, LogConsole&gt;&gt; readLambda = (handler) -&gt; {\n        // Read operation.\n        socket.read(console.inputBuffer, 10, TimeUnit.SECONDS, console, handler);\n    };\n    // Create completion handler.\n    CompletionHandler&lt;Integer, LogConsole&gt; handler = newReadHandler(completedLambda, failedLambda, readLambda);\n    // Run first read operation with firt completion handler. \n    readLambda.accept(handler);\n}\n</code></pre>\n"}],"owner":{"account_id":6289696,"reputation":1155,"user_id":4887806,"accept_rate":73,"display_name":"Hooli"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1487,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694442497,"creation_date":1466769608,"question_id":38012948,"body_markdown":"When I run the below locally (on my own computer) it works fine - I can send messages to it and it reads them in properly. As soon as I put this on a remote server and send a message, only half the message gets read.\r\n\r\n    try {\r\n                this.asynchronousServerSocketChannel = AsynchronousServerSocketChannel.open().bind(new InetSocketAddress(80));\r\n                this.asynchronousServerSocketChannel.accept(null, new CompletionHandler&lt;AsynchronousSocketChannel, Void&gt;() {\r\n                    @Override\r\n                    public void completed(AsynchronousSocketChannel asynchronousSocketChannel, Void att) {\r\n                        try {\r\n                            asynchronousServerSocketChannel.accept(null, this);\r\n                            ByteBuffer byteBuffer = ByteBuffer.allocate(10485760);\r\n                            asynchronousSocketChannel.read(byteBuffer).get(120000, TimeUnit.SECONDS);\r\n                            byteBuffer.flip();\r\n                            System.out.println(&quot;request: &quot; + Charset.defaultCharset().decode(byteBuffer).toString());\r\n                            \r\n                        } catch (CorruptHeadersException | CorruptProtocolException | MalformedURLException ex) {\r\n                            \r\n                        } catch (InterruptedException | ExecutionException | TimeoutException ex) {\r\n                            \r\n                        }\r\n                    }\r\n    \r\n                    @Override\r\n                    public void failed(Throwable exc, Void att) {\r\n                    }\r\n                });\r\n            } catch (IOException ex) {\r\n            }\r\n\r\nI&#39;ve looked around at other [questions](https://stackoverflow.com/questions/10698689/how-to-read-a-request-using-completionhandlers-and-a-bytebuffer-smaller-than-the) and tried some of the answers but nothing worked so far. I thought the cause might be that it&#39;s timing out due to it being slower over the network when it&#39;s placed remotely but increasing the timeout didn&#39;t resolve the issue. I also considered that the message might be too large but allocating more capacity to the `ByteBuffer` didn&#39;t resolve the issue either.","title":"AsynchronousSocketChannel not reading in entire message","body":"<p>When I run the below locally (on my own computer) it works fine - I can send messages to it and it reads them in properly. As soon as I put this on a remote server and send a message, only half the message gets read.</p>\n\n<pre><code>try {\n            this.asynchronousServerSocketChannel = AsynchronousServerSocketChannel.open().bind(new InetSocketAddress(80));\n            this.asynchronousServerSocketChannel.accept(null, new CompletionHandler&lt;AsynchronousSocketChannel, Void&gt;() {\n                @Override\n                public void completed(AsynchronousSocketChannel asynchronousSocketChannel, Void att) {\n                    try {\n                        asynchronousServerSocketChannel.accept(null, this);\n                        ByteBuffer byteBuffer = ByteBuffer.allocate(10485760);\n                        asynchronousSocketChannel.read(byteBuffer).get(120000, TimeUnit.SECONDS);\n                        byteBuffer.flip();\n                        System.out.println(\"request: \" + Charset.defaultCharset().decode(byteBuffer).toString());\n\n                    } catch (CorruptHeadersException | CorruptProtocolException | MalformedURLException ex) {\n\n                    } catch (InterruptedException | ExecutionException | TimeoutException ex) {\n\n                    }\n                }\n\n                @Override\n                public void failed(Throwable exc, Void att) {\n                }\n            });\n        } catch (IOException ex) {\n        }\n</code></pre>\n\n<p>I've looked around at other <a href=\"https://stackoverflow.com/questions/10698689/how-to-read-a-request-using-completionhandlers-and-a-bytebuffer-smaller-than-the\">questions</a> and tried some of the answers but nothing worked so far. I thought the cause might be that it's timing out due to it being slower over the network when it's placed remotely but increasing the timeout didn't resolve the issue. I also considered that the message might be too large but allocating more capacity to the <code>ByteBuffer</code> didn't resolve the issue either.</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":295316,"reputation":736,"user_id":3324415,"accept_rate":74,"display_name":"BernardV"},"score":0,"creation_date":1694437710,"post_id":77081744,"comment_id":135886834,"body_markdown":"In my opinion if you are doing proper Java development and want to move away from NetBeans you would be much better served working the community edition of IntelliJ IDEA.","body":"In my opinion if you are doing proper Java development and want to move away from NetBeans you would be much better served working the community edition of IntelliJ IDEA."},{"owner":{"account_id":29414572,"reputation":23,"user_id":22537693,"display_name":"Minh Dũng"},"score":0,"creation_date":1694438272,"post_id":77081744,"comment_id":135886959,"body_markdown":"@BernardV thank you for your recommendation, i will try it.","body":"@BernardV thank you for your recommendation, i will try it."}],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694442365,"creation_date":1694442365,"answer_id":77082498,"question_id":77081744,"body_markdown":"You can use the `Source Action` option. For example:\r\n\r\nIf you want to generate a `getter`, you select the variable and then `Right Click`:\r\n\r\n[![Right Click][1]][1]\r\n\r\nNext select `Source Action...`, and then select `Generate Getters`:\r\n\r\n[![Generate Getters][2]][2]\r\n\r\nAlso, note that if you type `get` it automatically suggests `getName()`:\r\n\r\n[![getName()][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mrXMf.png\r\n  [2]: https://i.stack.imgur.com/nQmXo.png\r\n  [3]: https://i.stack.imgur.com/FwHNz.png","title":"How do I fast generate constructor and getter, setter in visual studio code?","body":"<p>You can use the <code>Source Action</code> option. For example:</p>\n<p>If you want to generate a <code>getter</code>, you select the variable and then <code>Right Click</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/mrXMf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mrXMf.png\" alt=\"Right Click\" /></a></p>\n<p>Next select <code>Source Action...</code>, and then select <code>Generate Getters</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/nQmXo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nQmXo.png\" alt=\"Generate Getters\" /></a></p>\n<p>Also, note that if you type <code>get</code> it automatically suggests <code>getName()</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/FwHNz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FwHNz.png\" alt=\"getName()\" /></a></p>\n"}],"owner":{"account_id":29414572,"reputation":23,"user_id":22537693,"display_name":"Minh Dũng"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77082498,"answer_count":1,"score":2,"last_activity_date":1694442365,"creation_date":1694436260,"question_id":77081744,"body_markdown":"I was currently changed to VS Code after using Netbean IDE, and there are many short cut or code snippet that I don&#39;t know.\r\nIn Netbean, I can just use Ctrl + Space to fast generate Constructor, or right click and select insert code to get Constructor and Getter and Setter.\r\nHow do you do that in VS Code?\r\nThank you!\r\n\r\nI tried Ctrl + Space like in Netbean but it doesn&#39;t work.","title":"How do I fast generate constructor and getter, setter in visual studio code?","body":"<p>I was currently changed to VS Code after using Netbean IDE, and there are many short cut or code snippet that I don't know.\nIn Netbean, I can just use Ctrl + Space to fast generate Constructor, or right click and select insert code to get Constructor and Getter and Setter.\nHow do you do that in VS Code?\nThank you!</p>\n<p>I tried Ctrl + Space like in Netbean but it doesn't work.</p>\n"},{"tags":["java","memory-leaks","out-of-memory","activemq","heap-memory"],"comments":[{"owner":{"account_id":1645220,"reputation":5070,"user_id":1516873,"display_name":"user1516873"},"score":0,"creation_date":1565011631,"post_id":57359397,"comment_id":101206050,"body_markdown":"ActiveMQ do not GC&#39;ed inactive destinations by default. If you have many of them, it can cause OOMError. Try to set policy parameter `GcInactiveDestinations = true` as mentioned here https://svn.apache.org/repos/infra/websites/production/activemq/content/5.7.0/delete-inactive-destinations.html","body":"ActiveMQ do not GC&#39;ed inactive destinations by default. If you have many of them, it can cause OOMError. Try to set policy parameter <code>GcInactiveDestinations = true</code> as mentioned here <a href=\"https://svn.apache.org/repos/infra/websites/production/activemq/content/5.7.0/delete-inactive-destinations.html\" rel=\"nofollow noreferrer\">svn.apache.org/repos/infra/websites/production/activemq/cont&zwnj;&#8203;ent/&hellip;</a>"},{"owner":{"account_id":12403233,"reputation":13,"user_id":9039438,"display_name":"Ethan"},"score":0,"creation_date":1565015062,"post_id":57359397,"comment_id":101208091,"body_markdown":"No, I have only 5 queue destinations, that store for now ~100-200 messages each. Then activeMQ crushes. `GcInactiveDestinations = true` seems like just entirely delete empty destinations.","body":"No, I have only 5 queue destinations, that store for now ~100-200 messages each. Then activeMQ crushes. <code>GcInactiveDestinations = true</code> seems like just entirely delete empty destinations."}],"answers":[{"comments":[{"owner":{"account_id":8072204,"reputation":4156,"user_id":6084589,"display_name":"Matt Pavlovich"},"score":0,"creation_date":1694441902,"post_id":57363122,"comment_id":135887793,"body_markdown":"The last statement is incorrect-- ActiveMQ 5.x supports large message: https://activemq.apache.org/blob-messages","body":"The last statement is incorrect-- ActiveMQ 5.x supports large message: <a href=\"https://activemq.apache.org/blob-messages\" rel=\"nofollow noreferrer\">activemq.apache.org/blob-messages</a>"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1694442453,"post_id":57363122,"comment_id":135887918,"body_markdown":"I updated my answer to clarify the differences. Hope that helps!","body":"I updated my answer to clarify the differences. Hope that helps!"}],"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694442206,"creation_date":1565024771,"answer_id":57363122,"question_id":57359397,"body_markdown":"At this point I don&#39;t see any evidence of a memory leak. Just because the broker ran out of memory doesn&#39;t mean there is a leak. You could simply not be giving the JVM enough heap for your use-case. \r\n\r\nAlso, just because the broker uses a database of sorts (i.e. KahaDB) to store the messages to disk doesn&#39;t mean the broker is much like a database. The broker will still store as much message data in memory as it can despite the fact that messages are persisted to disk contrary to your assertion. It would be extremely inefficient to purge message data from memory once it&#39;s written to disk then immediately re-load it from disk as soon as a consumer needs it. There is also the matter of non-persistent messages that the broker must track without writing them to disk.\r\n\r\nIf you&#39;re just going to be storing all the data and then retrieving it later it might be best for you to simply use a database as a database would be better suited to such a use-case. A message broker is usually better suited to use cases where consumers are active with producers concurrently and messages don&#39;t build up on the broker but are dispatched to consumers soon after they arrive.\r\n\r\nYour code snippet is potentially an anti-pattern. JMS connections are thread-safe and are meant to be re-used. Opening and closing a connection for *every* message sent is an anti-pattern if, in fact, the application does any other JMS work aside from sending a single, solitary message.\r\n\r\nLastly, you may consider moving to [ActiveMQ Artemis][1] (i.e. the next generation of ActiveMQ) as [it has direct support for &quot;large&quot; messages][2] without requiring the use of an out-of-band transfer mechanism or implementation objects as required with the [&quot;blob message&quot;][3] support in ActiveMQ &quot;Classic.&quot;\r\n\r\n\r\n  [1]: http://activemq.apache.org/components/artemis/\r\n  [2]: http://activemq.apache.org/components/artemis/documentation/latest/large-messages.html\r\n  [3]: https://activemq.apache.org/blob-messages","title":"Memory leak in Apache ActiveMQ","body":"<p>At this point I don't see any evidence of a memory leak. Just because the broker ran out of memory doesn't mean there is a leak. You could simply not be giving the JVM enough heap for your use-case.</p>\n<p>Also, just because the broker uses a database of sorts (i.e. KahaDB) to store the messages to disk doesn't mean the broker is much like a database. The broker will still store as much message data in memory as it can despite the fact that messages are persisted to disk contrary to your assertion. It would be extremely inefficient to purge message data from memory once it's written to disk then immediately re-load it from disk as soon as a consumer needs it. There is also the matter of non-persistent messages that the broker must track without writing them to disk.</p>\n<p>If you're just going to be storing all the data and then retrieving it later it might be best for you to simply use a database as a database would be better suited to such a use-case. A message broker is usually better suited to use cases where consumers are active with producers concurrently and messages don't build up on the broker but are dispatched to consumers soon after they arrive.</p>\n<p>Your code snippet is potentially an anti-pattern. JMS connections are thread-safe and are meant to be re-used. Opening and closing a connection for <em>every</em> message sent is an anti-pattern if, in fact, the application does any other JMS work aside from sending a single, solitary message.</p>\n<p>Lastly, you may consider moving to <a href=\"http://activemq.apache.org/components/artemis/\" rel=\"nofollow noreferrer\">ActiveMQ Artemis</a> (i.e. the next generation of ActiveMQ) as <a href=\"http://activemq.apache.org/components/artemis/documentation/latest/large-messages.html\" rel=\"nofollow noreferrer\">it has direct support for &quot;large&quot; messages</a> without requiring the use of an out-of-band transfer mechanism or implementation objects as required with the <a href=\"https://activemq.apache.org/blob-messages\" rel=\"nofollow noreferrer\">&quot;blob message&quot;</a> support in ActiveMQ &quot;Classic.&quot;</p>\n"}],"owner":{"account_id":12403233,"reputation":13,"user_id":9039438,"display_name":"Ethan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6295,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57363122,"answer_count":1,"score":1,"last_activity_date":1694442206,"creation_date":1565010892,"question_id":57359397,"body_markdown":"I&#39;m new to Apache ActiveMQ and have some trouble with sending and storing big amount of big messages (biggest ones are around 100mb) in ActiveMQ. Messages are persistent, so as I know they store at the hard drive, not in memory. But strangely the ActiveMQ crashes when the database size (KahaDB folder) reaches 2.8Gb (70% of 4Gb jvm heap). Seems like ActiveMQ still store all messages in memory. I need firstly to store all messages, then I will be consuming them all.\r\n\r\nMy config activemq.xml\r\n\r\n    &lt;policyEntry queue=&quot;&gt;&quot; producerFlowControl=&quot;false&quot; memoryLimit=&quot;100MB&quot;&gt;\r\n\t\t&lt;pendingQueuePolicy&gt;\r\n\t\t\t&lt;fileQueueCursor /&gt;\r\n\t\t&lt;/pendingQueuePolicy&gt;\r\n    &lt;/policyEntry&gt;\r\n    ...\r\n    &lt;systemUsage&gt;\r\n        &lt;systemUsage&gt;\r\n            &lt;memoryUsage&gt;\r\n                &lt;memoryUsage percentOfJvmHeap=&quot;70&quot; /&gt;\r\n            &lt;/memoryUsage&gt;\r\n            &lt;storeUsage&gt;\r\n                &lt;storeUsage limit=&quot;100 gb&quot;/&gt;\r\n            &lt;/storeUsage&gt;\r\n            &lt;tempUsage&gt;\r\n                &lt;tempUsage limit=&quot;50 gb&quot;/&gt;\r\n            &lt;/tempUsage&gt;\r\n        &lt;/systemUsage&gt;\r\n    &lt;/systemUsage&gt;\r\n    ...\r\n    &lt;transportConnectors&gt;\r\n        &lt;transportConnector name=&quot;openwire&quot; uri=&quot;tcp://0.0.0.0:61616?maximumConnections=1000&amp;amp;wireFormat.maxFrameSize=204857600&quot;/&gt;\r\n    &lt;/transportConnectors&gt;\r\n\r\n\r\nAnd that how I send messages in java. Try-with-resources closes all.\r\n\r\n    try (Connection conn = queueConnFactory.createConnection();\r\n            Session session = conn.createSession(true, Session.AUTO_ACKNOWLEDGE);\r\n            MessageProducer producer = session.createProducer(getTargetQueue())) {\r\n    \r\n          ObjectMessage message = session.createObjectMessage(transferMessage);\r\n          producer.send(message);\r\n        }\r\n\r\n\r\nAnd this is activeMQ log when it crashes last time.\r\n\r\n    ERROR | Forwarding of acks failed | org.apache.activemq.store.kahadb.MessageDatabase | ActiveMQ Journal Checkpoint Worker\r\n    java.lang.OutOfMemoryError: Java heap space\r\n    2019-08-02 20:32:12,421 | INFO  | Ignoring no space left exception, java.io.IOException: Java heap space | org.apache.activemq.util.DefaultIOExceptionHandler | ActiveMQ Journal Checkpoint Worker\r\n    java.io.IOException: Java heap space\r\n    \tat org.apache.activemq.util.IOExceptionSupport.create(IOExceptionSupport.java:40)[activemq-client-5.15.9.jar:5.15.9]\r\n    \tat org.apache.activemq.store.kahadb.MessageDatabase$AckCompactionRunner.run(MessageDatabase.java:2075)[activemq-kahadb-store-5.15.9.jar:5.15.9]\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)[:1.8.0_211]\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source)[:1.8.0_211]\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(Unknown Source)[:1.8.0_211]\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)[:1.8.0_211]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)[:1.8.0_211]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)[:1.8.0_211]\r\n    \tat java.lang.Thread.run(Unknown Source)[:1.8.0_211]\r\n    2019-08-02 20:37:12,514 | WARN  | Async error occurred: java.lang.OutOfMemoryError: Java heap space | org.apache.activemq.broker.TransportConnection.Service | ActiveMQ Transport: tcp:///10.11.34.224:58668@61616\r\n    2019-08-02 20:37:44,899 | ERROR | Forwarding of acks failed | org.apache.activemq.store.kahadb.MessageDatabase | ActiveMQ Journal Checkpoint Worker\r\n    java.lang.IllegalArgumentException: Self-suppression not permitted\r\n    \tat java.lang.Throwable.addSuppressed(Unknown Source)[:1.8.0_211]\r\n    \tat org.apache.activemq.store.kahadb.MessageDatabase.forwardAllAcks(MessageDatabase.java:2132)[activemq-kahadb-store-5.15.9.jar:5.15.9]\r\n    \tat org.apache.activemq.store.kahadb.MessageDatabase.access$700(MessageDatabase.java:121)[activemq-kahadb-store-5.15.9.jar:5.15.9]\r\n    \tat org.apache.activemq.store.kahadb.MessageDatabase$AckCompactionRunner.run(MessageDatabase.java:2068)[activemq-kahadb-store-5.15.9.jar:5.15.9]\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)[:1.8.0_211]\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source)[:1.8.0_211]\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(Unknown Source)[:1.8.0_211]\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)[:1.8.0_211]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)[:1.8.0_211]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)[:1.8.0_211]\r\n    \tat java.lang.Thread.run(Unknown Source)[:1.8.0_211]\r\n    2019-08-02 20:37:44,899 | INFO  | Stopping BrokerService[localhost] due to exception, java.io.IOException: Self-suppression not permitted | org.apache.activemq.util.DefaultIOExceptionHandler | ActiveMQ Journal Checkpoint Worker\r\n    java.io.IOException: Self-suppression not permitted\r\n    \tat org.apache.activemq.util.IOExceptionSupport.create(IOExceptionSupport.java:40)[activemq-client-5.15.9.jar:5.15.9]\r\n    \tat org.apache.activemq.store.kahadb.MessageDatabase$AckCompactionRunner.run(MessageDatabase.java:2075)[activemq-kahadb-store-5.15.9.jar:5.15.9]\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)[:1.8.0_211]\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source)[:1.8.0_211]\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(Unknown Source)[:1.8.0_211]\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)[:1.8.0_211]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)[:1.8.0_211]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)[:1.8.0_211]\r\n    \tat java.lang.Thread.run(Unknown Source)[:1.8.0_211]\r\n    2019-08-02 20:37:44,946 | INFO  | Apache ActiveMQ 5.15.9 (localhost, ID:PVAH-WF-58622-1564761931309-0:1) is shutting down | org.apache.activemq.broker.BrokerService | IOExceptionHandler: stopping BrokerService[localhost]\r\n    2019-08-02 20:37:45,133 | INFO  | Connector openwire stopped | org.apache.activemq.broker.TransportConnector | IOExceptionHandler: stopping BrokerService[localhost]\r\n    2019-08-02 20:37:45,180 | INFO  | Connector amqp stopped | org.apache.activemq.broker.TransportConnector | IOExceptionHandler: stopping BrokerService[localhost]\r\n    2019-08-02 20:37:46,974 | INFO  | Connector stomp stopped | org.apache.activemq.broker.TransportConnector | IOExceptionHandler: stopping BrokerService[localhost]\r\n    2019-08-02 20:37:46,974 | INFO  | Connector mqtt stopped | org.apache.activemq.broker.TransportConnector | IOExceptionHandler: stopping BrokerService[localhost]\r\n    2019-08-02 20:37:48,316 | INFO  | Connector ws stopped | org.apache.activemq.broker.TransportConnector | IOExceptionHandler: stopping BrokerService[localhost]\r\n    2019-08-02 20:37:48,955 | INFO  | PListStore:[C:\\ActiveMQ\\bin\\win64\\..\\..\\data\\localhost\\tmp_storage] stopped | org.apache.activemq.store.kahadb.plist.PListStoreImpl | IOExceptionHandler: stopping BrokerService[localhost]\r\n    2019-08-02 20:37:49,002 | INFO  | Stopping async queue tasks | org.apache.activemq.store.kahadb.KahaDBStore | IOExceptionHandler: stopping BrokerService[localhost]\r\n    2019-08-02 20:37:49,002 | INFO  | Stopping async topic tasks | org.apache.activemq.store.kahadb.KahaDBStore | IOExceptionHandler: stopping BrokerService[localhost]\r\n    2019-08-02 20:37:49,002 | INFO  | Stopped KahaDB | org.apache.activemq.store.kahadb.KahaDBStore | IOExceptionHandler: stopping BrokerService[localhost]\r\n    2019-08-02 20:37:51,404 | INFO  | Apache ActiveMQ 5.15.9 (localhost, ID:PVAH-WF-58622-1564761931309-0:1) uptime 1 hour 32 minutes | org.apache.activemq.broker.BrokerService | IOExceptionHandler: stopping BrokerService[localhost]\r\n    2019-08-02 20:37:58,502 | INFO  | Apache ActiveMQ 5.15.9 (localhost, ID:PVAH-WF-58622-1564761931309-0:1) is shutdown | org.apache.activemq.broker.BrokerService | IOExceptionHandler: stopping BrokerService[localhost]\r\n    2019-08-02 20:37:58,534 | INFO  | Closing org.apache.activemq.xbean.XBeanBrokerFactory$1@14d57a4: startup date [Fri Aug 02 19:05:26 MSK 2019]; root of context hierarchy | org.apache.activemq.xbean.XBeanBrokerFactory$1 | IOExceptionHandler: stopping BrokerService[localhost]\r\n    2019-08-02 20:38:00,296 | INFO  | Destroying Spring FrameworkServlet &#39;dispatcher&#39; | /admin | IOExceptionHandler: stopping BrokerService[localhost]\r\n    2019-08-02 20:38:00,764 | INFO  | Refreshing org.apache.activemq.xbean.XBeanBrokerFactory$1@71d9564d: startup date [Fri Aug 02 20:38:00 MSK 2019]; root of context hierarchy | org.apache.activemq.xbean.XBeanBrokerFactory$1 | WrapperSimpleAppMain\r\n    2019-08-02 20:38:03,619 | INFO  | Using Persistence Adapter: KahaDBPersistenceAdapter[C:\\ActiveMQ\\bin\\win64\\..\\..\\data\\kahadb] | org.apache.activemq.broker.BrokerService | WrapperSimpleAppMain\r\n    2019-08-02 20:38:04,196 | INFO  | ignoring zero length, partially initialised journal data file: db-404.log number = 404 , length = 0 | org.apache.activemq.store.kahadb.disk.journal.Journal | WrapperSimpleAppMain\r\n    2019-08-02 20:38:05,819 | INFO  | KahaDB is version 6 | org.apache.activemq.store.kahadb.MessageDatabase | WrapperSimpleAppMain\r\n    2019-08-02 20:38:06,177 | INFO  | PListStore:[C:\\ActiveMQ\\bin\\win64\\..\\..\\data\\localhost\\tmp_storage] started | org.apache.activemq.store.kahadb.plist.PListStoreImpl | WrapperSimpleAppMain\r\n    2019-08-02 20:38:06,177 | INFO  | Apache ActiveMQ 5.15.9 (localhost, ID:PVAH-WF-58622-1564761931309-0:2) is starting | org.apache.activemq.broker.BrokerService | WrapperSimpleAppMain\r\n    2019-08-02 20:38:10,374 | INFO  | PListStore:[C:\\ActiveMQ\\bin\\win64\\..\\..\\data\\localhost\\tmp_storage] initialized | org.apache.activemq.store.kahadb.plist.PListStoreImpl | WrapperSimpleAppMain\r\n    2019-08-02 20:38:26,925 | WARN  | Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.apache.activemq.xbean.XBeanBrokerService#0&#39; defined in class path resource [activemq.xml]: Invocation of init method failed; nested exception is java.lang.OutOfMemoryError: Java heap space | org.apache.activemq.xbean.XBeanBrokerFactory$1 | WrapperSimpleAppMain\r\n    2019-08-02 20:38:26,925 | ERROR | Failed to load: class path resource [activemq.xml], reason: Error creating bean with name &#39;org.apache.activemq.xbean.XBeanBrokerService#0&#39; defined in class path resource [activemq.xml]: Invocation of init method failed; nested exception is java.lang.OutOfMemoryError: Java heap space | org.apache.activemq.xbean.XBeanBrokerFactory | WrapperSimpleAppMain\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.apache.activemq.xbean.XBeanBrokerService#0&#39; defined in class path resource [activemq.xml]: Invocation of init method failed; nested exception is java.lang.OutOfMemoryError: Java heap space\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1634)[spring-beans-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)[spring-beans-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)[spring-beans-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)[spring-beans-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)[spring-beans-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)[spring-beans-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)[spring-beans-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)[spring-beans-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)[spring-context-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)[spring-context-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n    \tat org.apache.xbean.spring.context.ResourceXmlApplicationContext.&lt;init&gt;(ResourceXmlApplicationContext.java:64)[xbean-spring-4.2.jar:4.2]\r\n    \tat org.apache.xbean.spring.context.ResourceXmlApplicationContext.&lt;init&gt;(ResourceXmlApplicationContext.java:52)[xbean-spring-4.2.jar:4.2]\r\n    \tat org.apache.activemq.xbean.XBeanBrokerFactory$1.&lt;init&gt;(XBeanBrokerFactory.java:104)[activemq-spring-5.15.9.jar:5.15.9]\r\n    \tat org.apache.activemq.xbean.XBeanBrokerFactory.createApplicationContext(XBeanBrokerFactory.java:104)[activemq-spring-5.15.9.jar:5.15.9]\r\n    \tat org.apache.activemq.xbean.XBeanBrokerFactory.createBroker(XBeanBrokerFactory.java:67)[activemq-spring-5.15.9.jar:5.15.9]\r\n    \tat org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:71)[activemq-broker-5.15.9.jar:5.15.9]\r\n    \tat org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:54)[activemq-broker-5.15.9.jar:5.15.9]\r\n    \tat org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:87)[activemq-console-5.15.9.jar:5.15.9]\r\n    \tat org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:63)[activemq-console-5.15.9.jar:5.15.9]\r\n    \tat org.apache.activemq.console.command.ShellCommand.runTask(ShellCommand.java:154)[activemq-console-5.15.9.jar:5.15.9]\r\n    \tat org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:63)[activemq-console-5.15.9.jar:5.15.9]\r\n    \tat org.apache.activemq.console.command.ShellCommand.main(ShellCommand.java:104)[activemq-console-5.15.9.jar:5.15.9]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)[:1.8.0_211]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)[:1.8.0_211]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)[:1.8.0_211]\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)[:1.8.0_211]\r\n    \tat org.apache.activemq.console.Main.runTaskClass(Main.java:262)[activemq.jar:5.15.9]\r\n    \tat org.apache.activemq.console.Main.main(Main.java:115)[activemq.jar:5.15.9]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)[:1.8.0_211]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)[:1.8.0_211]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)[:1.8.0_211]\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)[:1.8.0_211]\r\n    \tat org.tanukisoftware.wrapper.WrapperSimpleApp.run(WrapperSimpleApp.java:240)[wrapper.jar:3.2.3]\r\n    \tat java.lang.Thread.run(Unknown Source)[:1.8.0_211]","title":"Memory leak in Apache ActiveMQ","body":"<p>I'm new to Apache ActiveMQ and have some trouble with sending and storing big amount of big messages (biggest ones are around 100mb) in ActiveMQ. Messages are persistent, so as I know they store at the hard drive, not in memory. But strangely the ActiveMQ crashes when the database size (KahaDB folder) reaches 2.8Gb (70% of 4Gb jvm heap). Seems like ActiveMQ still store all messages in memory. I need firstly to store all messages, then I will be consuming them all.</p>\n\n<p>My config activemq.xml</p>\n\n<pre><code>&lt;policyEntry queue=\"&gt;\" producerFlowControl=\"false\" memoryLimit=\"100MB\"&gt;\n    &lt;pendingQueuePolicy&gt;\n        &lt;fileQueueCursor /&gt;\n    &lt;/pendingQueuePolicy&gt;\n&lt;/policyEntry&gt;\n...\n&lt;systemUsage&gt;\n    &lt;systemUsage&gt;\n        &lt;memoryUsage&gt;\n            &lt;memoryUsage percentOfJvmHeap=\"70\" /&gt;\n        &lt;/memoryUsage&gt;\n        &lt;storeUsage&gt;\n            &lt;storeUsage limit=\"100 gb\"/&gt;\n        &lt;/storeUsage&gt;\n        &lt;tempUsage&gt;\n            &lt;tempUsage limit=\"50 gb\"/&gt;\n        &lt;/tempUsage&gt;\n    &lt;/systemUsage&gt;\n&lt;/systemUsage&gt;\n...\n&lt;transportConnectors&gt;\n    &lt;transportConnector name=\"openwire\" uri=\"tcp://0.0.0.0:61616?maximumConnections=1000&amp;amp;wireFormat.maxFrameSize=204857600\"/&gt;\n&lt;/transportConnectors&gt;\n</code></pre>\n\n<p>And that how I send messages in java. Try-with-resources closes all.</p>\n\n<pre><code>try (Connection conn = queueConnFactory.createConnection();\n        Session session = conn.createSession(true, Session.AUTO_ACKNOWLEDGE);\n        MessageProducer producer = session.createProducer(getTargetQueue())) {\n\n      ObjectMessage message = session.createObjectMessage(transferMessage);\n      producer.send(message);\n    }\n</code></pre>\n\n<p>And this is activeMQ log when it crashes last time.</p>\n\n<pre><code>ERROR | Forwarding of acks failed | org.apache.activemq.store.kahadb.MessageDatabase | ActiveMQ Journal Checkpoint Worker\njava.lang.OutOfMemoryError: Java heap space\n2019-08-02 20:32:12,421 | INFO  | Ignoring no space left exception, java.io.IOException: Java heap space | org.apache.activemq.util.DefaultIOExceptionHandler | ActiveMQ Journal Checkpoint Worker\njava.io.IOException: Java heap space\n    at org.apache.activemq.util.IOExceptionSupport.create(IOExceptionSupport.java:40)[activemq-client-5.15.9.jar:5.15.9]\n    at org.apache.activemq.store.kahadb.MessageDatabase$AckCompactionRunner.run(MessageDatabase.java:2075)[activemq-kahadb-store-5.15.9.jar:5.15.9]\n    at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)[:1.8.0_211]\n    at java.util.concurrent.FutureTask.run(Unknown Source)[:1.8.0_211]\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(Unknown Source)[:1.8.0_211]\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)[:1.8.0_211]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)[:1.8.0_211]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)[:1.8.0_211]\n    at java.lang.Thread.run(Unknown Source)[:1.8.0_211]\n2019-08-02 20:37:12,514 | WARN  | Async error occurred: java.lang.OutOfMemoryError: Java heap space | org.apache.activemq.broker.TransportConnection.Service | ActiveMQ Transport: tcp:///10.11.34.224:58668@61616\n2019-08-02 20:37:44,899 | ERROR | Forwarding of acks failed | org.apache.activemq.store.kahadb.MessageDatabase | ActiveMQ Journal Checkpoint Worker\njava.lang.IllegalArgumentException: Self-suppression not permitted\n    at java.lang.Throwable.addSuppressed(Unknown Source)[:1.8.0_211]\n    at org.apache.activemq.store.kahadb.MessageDatabase.forwardAllAcks(MessageDatabase.java:2132)[activemq-kahadb-store-5.15.9.jar:5.15.9]\n    at org.apache.activemq.store.kahadb.MessageDatabase.access$700(MessageDatabase.java:121)[activemq-kahadb-store-5.15.9.jar:5.15.9]\n    at org.apache.activemq.store.kahadb.MessageDatabase$AckCompactionRunner.run(MessageDatabase.java:2068)[activemq-kahadb-store-5.15.9.jar:5.15.9]\n    at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)[:1.8.0_211]\n    at java.util.concurrent.FutureTask.run(Unknown Source)[:1.8.0_211]\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(Unknown Source)[:1.8.0_211]\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)[:1.8.0_211]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)[:1.8.0_211]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)[:1.8.0_211]\n    at java.lang.Thread.run(Unknown Source)[:1.8.0_211]\n2019-08-02 20:37:44,899 | INFO  | Stopping BrokerService[localhost] due to exception, java.io.IOException: Self-suppression not permitted | org.apache.activemq.util.DefaultIOExceptionHandler | ActiveMQ Journal Checkpoint Worker\njava.io.IOException: Self-suppression not permitted\n    at org.apache.activemq.util.IOExceptionSupport.create(IOExceptionSupport.java:40)[activemq-client-5.15.9.jar:5.15.9]\n    at org.apache.activemq.store.kahadb.MessageDatabase$AckCompactionRunner.run(MessageDatabase.java:2075)[activemq-kahadb-store-5.15.9.jar:5.15.9]\n    at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)[:1.8.0_211]\n    at java.util.concurrent.FutureTask.run(Unknown Source)[:1.8.0_211]\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(Unknown Source)[:1.8.0_211]\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)[:1.8.0_211]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)[:1.8.0_211]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)[:1.8.0_211]\n    at java.lang.Thread.run(Unknown Source)[:1.8.0_211]\n2019-08-02 20:37:44,946 | INFO  | Apache ActiveMQ 5.15.9 (localhost, ID:PVAH-WF-58622-1564761931309-0:1) is shutting down | org.apache.activemq.broker.BrokerService | IOExceptionHandler: stopping BrokerService[localhost]\n2019-08-02 20:37:45,133 | INFO  | Connector openwire stopped | org.apache.activemq.broker.TransportConnector | IOExceptionHandler: stopping BrokerService[localhost]\n2019-08-02 20:37:45,180 | INFO  | Connector amqp stopped | org.apache.activemq.broker.TransportConnector | IOExceptionHandler: stopping BrokerService[localhost]\n2019-08-02 20:37:46,974 | INFO  | Connector stomp stopped | org.apache.activemq.broker.TransportConnector | IOExceptionHandler: stopping BrokerService[localhost]\n2019-08-02 20:37:46,974 | INFO  | Connector mqtt stopped | org.apache.activemq.broker.TransportConnector | IOExceptionHandler: stopping BrokerService[localhost]\n2019-08-02 20:37:48,316 | INFO  | Connector ws stopped | org.apache.activemq.broker.TransportConnector | IOExceptionHandler: stopping BrokerService[localhost]\n2019-08-02 20:37:48,955 | INFO  | PListStore:[C:\\ActiveMQ\\bin\\win64\\..\\..\\data\\localhost\\tmp_storage] stopped | org.apache.activemq.store.kahadb.plist.PListStoreImpl | IOExceptionHandler: stopping BrokerService[localhost]\n2019-08-02 20:37:49,002 | INFO  | Stopping async queue tasks | org.apache.activemq.store.kahadb.KahaDBStore | IOExceptionHandler: stopping BrokerService[localhost]\n2019-08-02 20:37:49,002 | INFO  | Stopping async topic tasks | org.apache.activemq.store.kahadb.KahaDBStore | IOExceptionHandler: stopping BrokerService[localhost]\n2019-08-02 20:37:49,002 | INFO  | Stopped KahaDB | org.apache.activemq.store.kahadb.KahaDBStore | IOExceptionHandler: stopping BrokerService[localhost]\n2019-08-02 20:37:51,404 | INFO  | Apache ActiveMQ 5.15.9 (localhost, ID:PVAH-WF-58622-1564761931309-0:1) uptime 1 hour 32 minutes | org.apache.activemq.broker.BrokerService | IOExceptionHandler: stopping BrokerService[localhost]\n2019-08-02 20:37:58,502 | INFO  | Apache ActiveMQ 5.15.9 (localhost, ID:PVAH-WF-58622-1564761931309-0:1) is shutdown | org.apache.activemq.broker.BrokerService | IOExceptionHandler: stopping BrokerService[localhost]\n2019-08-02 20:37:58,534 | INFO  | Closing org.apache.activemq.xbean.XBeanBrokerFactory$1@14d57a4: startup date [Fri Aug 02 19:05:26 MSK 2019]; root of context hierarchy | org.apache.activemq.xbean.XBeanBrokerFactory$1 | IOExceptionHandler: stopping BrokerService[localhost]\n2019-08-02 20:38:00,296 | INFO  | Destroying Spring FrameworkServlet 'dispatcher' | /admin | IOExceptionHandler: stopping BrokerService[localhost]\n2019-08-02 20:38:00,764 | INFO  | Refreshing org.apache.activemq.xbean.XBeanBrokerFactory$1@71d9564d: startup date [Fri Aug 02 20:38:00 MSK 2019]; root of context hierarchy | org.apache.activemq.xbean.XBeanBrokerFactory$1 | WrapperSimpleAppMain\n2019-08-02 20:38:03,619 | INFO  | Using Persistence Adapter: KahaDBPersistenceAdapter[C:\\ActiveMQ\\bin\\win64\\..\\..\\data\\kahadb] | org.apache.activemq.broker.BrokerService | WrapperSimpleAppMain\n2019-08-02 20:38:04,196 | INFO  | ignoring zero length, partially initialised journal data file: db-404.log number = 404 , length = 0 | org.apache.activemq.store.kahadb.disk.journal.Journal | WrapperSimpleAppMain\n2019-08-02 20:38:05,819 | INFO  | KahaDB is version 6 | org.apache.activemq.store.kahadb.MessageDatabase | WrapperSimpleAppMain\n2019-08-02 20:38:06,177 | INFO  | PListStore:[C:\\ActiveMQ\\bin\\win64\\..\\..\\data\\localhost\\tmp_storage] started | org.apache.activemq.store.kahadb.plist.PListStoreImpl | WrapperSimpleAppMain\n2019-08-02 20:38:06,177 | INFO  | Apache ActiveMQ 5.15.9 (localhost, ID:PVAH-WF-58622-1564761931309-0:2) is starting | org.apache.activemq.broker.BrokerService | WrapperSimpleAppMain\n2019-08-02 20:38:10,374 | INFO  | PListStore:[C:\\ActiveMQ\\bin\\win64\\..\\..\\data\\localhost\\tmp_storage] initialized | org.apache.activemq.store.kahadb.plist.PListStoreImpl | WrapperSimpleAppMain\n2019-08-02 20:38:26,925 | WARN  | Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.apache.activemq.xbean.XBeanBrokerService#0' defined in class path resource [activemq.xml]: Invocation of init method failed; nested exception is java.lang.OutOfMemoryError: Java heap space | org.apache.activemq.xbean.XBeanBrokerFactory$1 | WrapperSimpleAppMain\n2019-08-02 20:38:26,925 | ERROR | Failed to load: class path resource [activemq.xml], reason: Error creating bean with name 'org.apache.activemq.xbean.XBeanBrokerService#0' defined in class path resource [activemq.xml]: Invocation of init method failed; nested exception is java.lang.OutOfMemoryError: Java heap space | org.apache.activemq.xbean.XBeanBrokerFactory | WrapperSimpleAppMain\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.apache.activemq.xbean.XBeanBrokerService#0' defined in class path resource [activemq.xml]: Invocation of init method failed; nested exception is java.lang.OutOfMemoryError: Java heap space\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1634)[spring-beans-4.3.18.RELEASE.jar:4.3.18.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)[spring-beans-4.3.18.RELEASE.jar:4.3.18.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)[spring-beans-4.3.18.RELEASE.jar:4.3.18.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)[spring-beans-4.3.18.RELEASE.jar:4.3.18.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)[spring-beans-4.3.18.RELEASE.jar:4.3.18.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)[spring-beans-4.3.18.RELEASE.jar:4.3.18.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)[spring-beans-4.3.18.RELEASE.jar:4.3.18.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)[spring-beans-4.3.18.RELEASE.jar:4.3.18.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)[spring-context-4.3.18.RELEASE.jar:4.3.18.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)[spring-context-4.3.18.RELEASE.jar:4.3.18.RELEASE]\n    at org.apache.xbean.spring.context.ResourceXmlApplicationContext.&lt;init&gt;(ResourceXmlApplicationContext.java:64)[xbean-spring-4.2.jar:4.2]\n    at org.apache.xbean.spring.context.ResourceXmlApplicationContext.&lt;init&gt;(ResourceXmlApplicationContext.java:52)[xbean-spring-4.2.jar:4.2]\n    at org.apache.activemq.xbean.XBeanBrokerFactory$1.&lt;init&gt;(XBeanBrokerFactory.java:104)[activemq-spring-5.15.9.jar:5.15.9]\n    at org.apache.activemq.xbean.XBeanBrokerFactory.createApplicationContext(XBeanBrokerFactory.java:104)[activemq-spring-5.15.9.jar:5.15.9]\n    at org.apache.activemq.xbean.XBeanBrokerFactory.createBroker(XBeanBrokerFactory.java:67)[activemq-spring-5.15.9.jar:5.15.9]\n    at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:71)[activemq-broker-5.15.9.jar:5.15.9]\n    at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:54)[activemq-broker-5.15.9.jar:5.15.9]\n    at org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:87)[activemq-console-5.15.9.jar:5.15.9]\n    at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:63)[activemq-console-5.15.9.jar:5.15.9]\n    at org.apache.activemq.console.command.ShellCommand.runTask(ShellCommand.java:154)[activemq-console-5.15.9.jar:5.15.9]\n    at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:63)[activemq-console-5.15.9.jar:5.15.9]\n    at org.apache.activemq.console.command.ShellCommand.main(ShellCommand.java:104)[activemq-console-5.15.9.jar:5.15.9]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)[:1.8.0_211]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)[:1.8.0_211]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)[:1.8.0_211]\n    at java.lang.reflect.Method.invoke(Unknown Source)[:1.8.0_211]\n    at org.apache.activemq.console.Main.runTaskClass(Main.java:262)[activemq.jar:5.15.9]\n    at org.apache.activemq.console.Main.main(Main.java:115)[activemq.jar:5.15.9]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)[:1.8.0_211]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)[:1.8.0_211]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)[:1.8.0_211]\n    at java.lang.reflect.Method.invoke(Unknown Source)[:1.8.0_211]\n    at org.tanukisoftware.wrapper.WrapperSimpleApp.run(WrapperSimpleApp.java:240)[wrapper.jar:3.2.3]\n    at java.lang.Thread.run(Unknown Source)[:1.8.0_211]\n</code></pre>\n"},{"tags":["java","javafx","clip","radial-gradients"],"answers":[{"tags":[],"owner":{"account_id":16158286,"reputation":33,"user_id":11671142,"display_name":"SoKnight"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658234313,"creation_date":1658234313,"answer_id":73037066,"question_id":73035490,"body_markdown":"Lol, I am sorry :D\r\n\r\nI don&#39;t know before that I should to use arc parameters as corner `radius * 2`. I&#39;ve just use `28` instead of `14` in the `arc width` and `arc height` and it&#39;s a solution of my problem.","title":"Clipping a rectangle filled with radial gradient to make corners round","body":"<p>Lol, I am sorry :D</p>\n<p>I don't know before that I should to use arc parameters as corner <code>radius * 2</code>. I've just use <code>28</code> instead of <code>14</code> in the <code>arc width</code> and <code>arc height</code> and it's a solution of my problem.</p>\n"}],"owner":{"account_id":16158286,"reputation":33,"user_id":11671142,"display_name":"SoKnight"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73037066,"answer_count":1,"score":0,"last_activity_date":1694441589,"creation_date":1658227436,"question_id":73035490,"body_markdown":"Environment:\r\n - Linux 5.15.43\r\n - [Liberica Full JDK 17.0.3.1](https://bell-sw.com/pages/libericajdk/)\r\n - OpenJFX 17.0.3\r\n\r\nI want to make some blue light in my JavaFX application UI:\r\n\r\nWhen I try to make that using a `rectangle` with `rounded corners` and `radial gradient fill`, this (see picture) corner isn&#39;t transparent.\r\n\r\n**BUT** If I will change rectangle&#39;s fill to someone solid color (ex: `Color.RED`) then this corner will be transparent and will be rendered correctly... Why it doesn&#39;t working in the case with radial gradient fill?\r\n\r\nNow I using this code:\r\n```java\r\nRadialGradient gradient = new RadialGradient(\r\n        0D, 0D, 34D, 250D, 231D, false, CycleMethod.NO_CYCLE,\r\n        new Stop(0D, Color.rgb(0, 102, 254, 0.2D)),\r\n        new Stop(100D, Color.rgb(0, 102, 254, 0D))\r\n);\r\n\r\nRectangle light = new Rectangle(280D, 280D);\r\n// I&#39;ve tried to make &#39;light&#39; rectangle corners round:\r\n// light.setArcWidth(14D);\r\n// light.setArcHeight(14D);\r\nlight.setFill(gradient);\r\n\r\n// ... and also tried to make some new clip with round corners\r\nRectangle clip = new Rectangle(280D, 280D);\r\nclip.setArcWidth(14D);\r\nclip.setArcHeight(14D);\r\n\r\n// ... and apply that to the &#39;light&#39; rectangle, but it hasn&#39;t an effect :(\r\nlight.setClip(clip);\r\n\r\n// after that light will be a children node of the parent StackPane\r\n// this StackPane is a parent element of the all application \r\n// (provided to the Scene instance)\r\n```\r\n\r\n[1]: https://i.stack.imgur.com/g6IX1.png","title":"Clipping a rectangle filled with radial gradient to make corners round","body":"<p>Environment:</p>\n<ul>\n<li>Linux 5.15.43</li>\n<li><a href=\"https://bell-sw.com/pages/libericajdk/\" rel=\"nofollow noreferrer\">Liberica Full JDK 17.0.3.1</a></li>\n<li>OpenJFX 17.0.3</li>\n</ul>\n<p>I want to make some blue light in my JavaFX application UI:</p>\n<p>When I try to make that using a <code>rectangle</code> with <code>rounded corners</code> and <code>radial gradient fill</code>, this (see picture) corner isn't transparent.</p>\n<p><strong>BUT</strong> If I will change rectangle's fill to someone solid color (ex: <code>Color.RED</code>) then this corner will be transparent and will be rendered correctly... Why it doesn't working in the case with radial gradient fill?</p>\n<p>Now I using this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>RadialGradient gradient = new RadialGradient(\n        0D, 0D, 34D, 250D, 231D, false, CycleMethod.NO_CYCLE,\n        new Stop(0D, Color.rgb(0, 102, 254, 0.2D)),\n        new Stop(100D, Color.rgb(0, 102, 254, 0D))\n);\n\nRectangle light = new Rectangle(280D, 280D);\n// I've tried to make 'light' rectangle corners round:\n// light.setArcWidth(14D);\n// light.setArcHeight(14D);\nlight.setFill(gradient);\n\n// ... and also tried to make some new clip with round corners\nRectangle clip = new Rectangle(280D, 280D);\nclip.setArcWidth(14D);\nclip.setArcHeight(14D);\n\n// ... and apply that to the 'light' rectangle, but it hasn't an effect :(\nlight.setClip(clip);\n\n// after that light will be a children node of the parent StackPane\n// this StackPane is a parent element of the all application \n// (provided to the Scene instance)\n</code></pre>\n"},{"tags":["java","css","javafx","jfoenix"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1553800458,"post_id":55395325,"comment_id":97531106,"body_markdown":"That looks like an effect—likely a drop shadow. Assuming that&#39;s the &quot;tab selected line&quot;, try adding `-fx-effect: null;`.","body":"That looks like an effect—likely a drop shadow. Assuming that&#39;s the &quot;tab selected line&quot;, try adding <code>-fx-effect: null;</code>."},{"owner":{"account_id":14278874,"reputation":73,"user_id":10314123,"display_name":"Daniil Peterson"},"score":0,"creation_date":1553859921,"post_id":55395325,"comment_id":97552313,"body_markdown":"@Slaw doesn&#39;t work :(","body":"@Slaw doesn&#39;t work :("}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1694498062,"post_id":77082305,"comment_id":135894720,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77082305/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29415190,"reputation":1,"user_id":22538179,"display_name":"Michel Lovizoto"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694440848,"creation_date":1694440848,"answer_id":77082305,"question_id":55395325,"body_markdown":"Add this line to remove shadow of JFXTabPane:\r\n\r\n.jfx-tab-pane .depth-container { -fx-effect: none; }\r\n\r\n","title":"JFoenix TabPane tab label colors","body":"<p>Add this line to remove shadow of JFXTabPane:</p>\n<p>.jfx-tab-pane .depth-container { -fx-effect: none; }</p>\n"}],"owner":{"account_id":14278874,"reputation":73,"user_id":10314123,"display_name":"Daniil Peterson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":692,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694440848,"creation_date":1553768903,"question_id":55395325,"body_markdown":"I&#39;m working on my javafx project and i&#39;m using JFoenix library. I found everything i need to edit TabPane look by CSS styling, bet one problem still remains - tabs header labels and bottom strip have some kind of blurry/shadow effects, and i can&#39;t find, how to fix this. This is my CSS now:\r\n\r\n    .jfx-tab-pane .tab-header-area .tab-header-background {\r\n        -fx-opacity: 0;\r\n    }\r\n    .tab{\r\n        -fx-pref-width: 350;\r\n        -fx-pref-height: 50;\r\n    }\r\n    .jfx-tab-pane .tab-selected-line {\r\n        -fx-background-color: -fx-secondary;\r\n    }\r\n    .jfx-tab-pane .tab .tab-label {\r\n        -fx-font-weight: normal;\r\n        -fx-text-fill: -fx-primatytext;\r\n        -fx-font-size: 16;\r\n    }\r\n    .jfx-tab-pane .tab-header-area .jfx-rippler{\r\n        -jfx-rippler-fill :-fx-secondary;\r\n    }\r\n    .jfx-tab-pane .tab-selected-line{\r\n        -fx-stroke : -fx-secondary;\r\n    }\r\n\r\nThis is how it looks like:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCan you see it? Design of tabpane headers is not flat, like other UI, it have some kind of shadow/blurry effect. Can anyone tell me, where to look to fix this problem?\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Hnyt9.png\r\n  [2]: https://i.stack.imgur.com/6oken.png","title":"JFoenix TabPane tab label colors","body":"<p>I'm working on my javafx project and i'm using JFoenix library. I found everything i need to edit TabPane look by CSS styling, bet one problem still remains - tabs header labels and bottom strip have some kind of blurry/shadow effects, and i can't find, how to fix this. This is my CSS now:</p>\n\n<pre><code>.jfx-tab-pane .tab-header-area .tab-header-background {\n    -fx-opacity: 0;\n}\n.tab{\n    -fx-pref-width: 350;\n    -fx-pref-height: 50;\n}\n.jfx-tab-pane .tab-selected-line {\n    -fx-background-color: -fx-secondary;\n}\n.jfx-tab-pane .tab .tab-label {\n    -fx-font-weight: normal;\n    -fx-text-fill: -fx-primatytext;\n    -fx-font-size: 16;\n}\n.jfx-tab-pane .tab-header-area .jfx-rippler{\n    -jfx-rippler-fill :-fx-secondary;\n}\n.jfx-tab-pane .tab-selected-line{\n    -fx-stroke : -fx-secondary;\n}\n</code></pre>\n\n<p>This is how it looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Hnyt9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hnyt9.png\" alt=\"enter image description here\"></a></p>\n\n<p>Can you see it? Design of tabpane headers is not flat, like other UI, it have some kind of shadow/blurry effect. Can anyone tell me, where to look to fix this problem?</p>\n\n<p><a href=\"https://i.stack.imgur.com/6oken.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6oken.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","serialization","deserialization","fst"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1694439154,"post_id":77081801,"comment_id":135887150,"body_markdown":"I don&#39;t know the library but almost certainly, the class (not including the one serialized) would have to be *loadable*","body":"I don&#39;t know the library but almost certainly, the class (not including the one serialized) would have to be <i>loadable</i>"},{"owner":{"account_id":397984,"reputation":537,"user_id":762421,"accept_rate":36,"display_name":"user762421"},"score":0,"creation_date":1694440796,"post_id":77081801,"comment_id":135887517,"body_markdown":"@g00se - okay, thanks.","body":"@g00se - okay, thanks."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1694444945,"post_id":77081801,"comment_id":135888446,"body_markdown":"Sure it&#39;s possible. But you&#39;d be much better off using a commonly supported serialization format like JSON or even XML. Java serialization is all but deprecated, and using it in new applications is not recommended.","body":"Sure it&#39;s possible. But you&#39;d be much better off using a commonly supported serialization format like JSON or even XML. Java serialization is all but deprecated, and using it in new applications is not recommended."}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694440844,"creation_date":1694440844,"answer_id":77082303,"question_id":77081801,"body_markdown":"Serialized Java Objects can only be deserialized iff\r\n\r\n 1. The class is loaded in the VM trying to deserialize\r\n 2. The *class version* in the VM is the same as the version that was used for serialization\r\n\r\nThe second point is really critical. Default Java serialization is very brittle because if you update your class, you won&#39;t be able to deserialize objects serialized with a previous version.\r\n\r\nThe better way to serialize objects is to use XML or JSON. There are popular Java libraries for doing this.","title":"Deserializing byte array into Java object in a different JVM","body":"<p>Serialized Java Objects can only be deserialized iff</p>\n<ol>\n<li>The class is loaded in the VM trying to deserialize</li>\n<li>The <em>class version</em> in the VM is the same as the version that was used for serialization</li>\n</ol>\n<p>The second point is really critical. Default Java serialization is very brittle because if you update your class, you won't be able to deserialize objects serialized with a previous version.</p>\n<p>The better way to serialize objects is to use XML or JSON. There are popular Java libraries for doing this.</p>\n"}],"owner":{"account_id":397984,"reputation":537,"user_id":762421,"accept_rate":36,"display_name":"user762421"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77082303,"answer_count":1,"score":0,"last_activity_date":1694440844,"creation_date":1694436795,"question_id":77081801,"body_markdown":"I want to do the below, would it theoretically work? (I am working on coding it and checking but that is taking some time)\r\n\r\n1. Serialize a Java object of Custom class C1 (convert into byte[]) using FST library.\r\n2. Store the byte[] in Amazon s3 bucket.\r\n3. Download the byte[] in a different JVM (C1 class is not loaded in the JVM)\r\n4. De-serialize byte[] to Java object downloaded in step-3.\r\n\r\nQuestion: Would the above work without JVM having the class loaded corresponding to the serialized object?\r\n","title":"Deserializing byte array into Java object in a different JVM","body":"<p>I want to do the below, would it theoretically work? (I am working on coding it and checking but that is taking some time)</p>\n<ol>\n<li>Serialize a Java object of Custom class C1 (convert into byte[]) using FST library.</li>\n<li>Store the byte[] in Amazon s3 bucket.</li>\n<li>Download the byte[] in a different JVM (C1 class is not loaded in the JVM)</li>\n<li>De-serialize byte[] to Java object downloaded in step-3.</li>\n</ol>\n<p>Question: Would the above work without JVM having the class loaded corresponding to the serialized object?</p>\n"},{"tags":["java","minecraft","minecraft-forge"],"owner":{"account_id":29414844,"reputation":21,"user_id":22537915,"display_name":"ZeNyfh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1694440567,"creation_date":1694440567,"question_id":77082261,"body_markdown":"### What I am trying to achieve:\r\nI am trying to transfer NBT data (otherwise known as Tags/CompoundTags) to a block that I get using &quot;BlockEvent.EntityPlaceEvent&quot;. I want this to work like placing a sign or chest with NBT data stored inside of it does, where the placed block just inherits the NBT of what the held-item is.\r\n\r\nHere is the non-working code I currently have:\r\n\r\n```java\r\n@SubscribeEvent\r\npublic static void onBlockPlacedBy(BlockEvent.EntityPlaceEvent event) {\r\n    try {\r\n        if (blockList.contains(event.getPlacedBlock().getBlock())) {\r\n            ServerPlayer player = (ServerPlayer) event.getEntity();\r\n            assert player != null;\r\n            CompoundTag itemNBT = player.getMainHandItem().serializeNBT();\r\n            CompoundTag blockNBT = Objects.requireNonNull(event.getLevel().getBlockEntity(event.getPos())).serializeNBT();\r\n            broadcastMessage(blockNBT.getAllKeys().toString());\r\n            if (itemNBT != null) {\r\n                blockNBT.put(&quot;tag&quot;, Objects.requireNonNull(itemNBT.get(&quot;tag&quot;)));\r\n                Objects.requireNonNull(event.getLevel().getBlockEntity(event.getPos())).deserializeNBT(blockNBT);\r\n            }\r\n            broadcastMessage(&quot;block placed: &quot; + Objects.requireNonNull(event.getBlockSnapshot().getBlockEntity()).serializeNBT().getAllKeys());\r\n        }\r\n    } catch (Exception e){e.printStackTrace();}\r\n}\r\n```\r\n\r\n### What I have tried:\r\nI have searched for help online on how to do this, I wasn&#39;t able to find any useful documentation, I searched through various GitHub repositories for guidance on how to do this, and I have also searched through various new and outdated walk-throughs on YouTube to get some idea of what I should be doing and what I&#39;m doing wrong, but I was not able to find anything useful. This is why I am now asking here.\r\n\r\nI currently have this which doesn&#39;t work:\r\n```java\r\nif (itemNBT != null) {\r\n    blockNBT.put(&quot;tag&quot;, Objects.requireNonNull(itemNBT.get(&quot;tag&quot;)));\r\n    Objects.requireNonNull(event.getLevel().getBlockEntity(event.getPos())).deserializeNBT(blockNBT);\r\n}\r\n```\r\nThe code above and similar things have given me NullPointerExceptions.\r\nYes the item does have NBT data, I give it some data that is hardcoded in for testing purposes.\r\n```java\r\nBlockPos pos = new BlockPos(10, -54, 10);\r\nCompoundTag locationTag = new CompoundTag();\r\nlocationTag.putInt(&quot;X&quot;, pos.getX());\r\nlocationTag.putInt(&quot;Y&quot;, pos.getY());\r\nlocationTag.putInt(&quot;Z&quot;, pos.getZ());\r\nlocationTag.putFloat(&quot;Yaw&quot;, 0);\r\nlocationTag.putFloat(&quot;Pitch&quot;, 0);\r\nmainHandItem.addTagElement(&quot;SpawnLocation&quot;, locationTag);\r\n```\r\nYet I cannot get the NBT data to transfer from the held item to the block.\r\n\r\nEither a link to better documentation other than https://docs.minecraftforge.net/en/1.20.x/, or a direct answer as to what I am doing wrong/what I should change would be appreciated.","title":"How do I transfer held-item NBT data to a placed block in forge 1.20.1","body":"<h3>What I am trying to achieve:</h3>\n<p>I am trying to transfer NBT data (otherwise known as Tags/CompoundTags) to a block that I get using &quot;BlockEvent.EntityPlaceEvent&quot;. I want this to work like placing a sign or chest with NBT data stored inside of it does, where the placed block just inherits the NBT of what the held-item is.</p>\n<p>Here is the non-working code I currently have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SubscribeEvent\npublic static void onBlockPlacedBy(BlockEvent.EntityPlaceEvent event) {\n    try {\n        if (blockList.contains(event.getPlacedBlock().getBlock())) {\n            ServerPlayer player = (ServerPlayer) event.getEntity();\n            assert player != null;\n            CompoundTag itemNBT = player.getMainHandItem().serializeNBT();\n            CompoundTag blockNBT = Objects.requireNonNull(event.getLevel().getBlockEntity(event.getPos())).serializeNBT();\n            broadcastMessage(blockNBT.getAllKeys().toString());\n            if (itemNBT != null) {\n                blockNBT.put(&quot;tag&quot;, Objects.requireNonNull(itemNBT.get(&quot;tag&quot;)));\n                Objects.requireNonNull(event.getLevel().getBlockEntity(event.getPos())).deserializeNBT(blockNBT);\n            }\n            broadcastMessage(&quot;block placed: &quot; + Objects.requireNonNull(event.getBlockSnapshot().getBlockEntity()).serializeNBT().getAllKeys());\n        }\n    } catch (Exception e){e.printStackTrace();}\n}\n</code></pre>\n<h3>What I have tried:</h3>\n<p>I have searched for help online on how to do this, I wasn't able to find any useful documentation, I searched through various GitHub repositories for guidance on how to do this, and I have also searched through various new and outdated walk-throughs on YouTube to get some idea of what I should be doing and what I'm doing wrong, but I was not able to find anything useful. This is why I am now asking here.</p>\n<p>I currently have this which doesn't work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (itemNBT != null) {\n    blockNBT.put(&quot;tag&quot;, Objects.requireNonNull(itemNBT.get(&quot;tag&quot;)));\n    Objects.requireNonNull(event.getLevel().getBlockEntity(event.getPos())).deserializeNBT(blockNBT);\n}\n</code></pre>\n<p>The code above and similar things have given me NullPointerExceptions.\nYes the item does have NBT data, I give it some data that is hardcoded in for testing purposes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>BlockPos pos = new BlockPos(10, -54, 10);\nCompoundTag locationTag = new CompoundTag();\nlocationTag.putInt(&quot;X&quot;, pos.getX());\nlocationTag.putInt(&quot;Y&quot;, pos.getY());\nlocationTag.putInt(&quot;Z&quot;, pos.getZ());\nlocationTag.putFloat(&quot;Yaw&quot;, 0);\nlocationTag.putFloat(&quot;Pitch&quot;, 0);\nmainHandItem.addTagElement(&quot;SpawnLocation&quot;, locationTag);\n</code></pre>\n<p>Yet I cannot get the NBT data to transfer from the held item to the block.</p>\n<p>Either a link to better documentation other than <a href=\"https://docs.minecraftforge.net/en/1.20.x/\" rel=\"nofollow noreferrer\">https://docs.minecraftforge.net/en/1.20.x/</a>, or a direct answer as to what I am doing wrong/what I should change would be appreciated.</p>\n"},{"tags":["java","spring-boot","jaxb","maven-3","java-17"],"owner":{"account_id":5672211,"reputation":4278,"user_id":4969916,"accept_rate":35,"display_name":"Shiladittya Chakraborty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694440502,"creation_date":1694440502,"question_id":77082255,"body_markdown":"I am trying generating source code from xsd file using jaxB file. Please check below plugin\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t&lt;executions&gt;\r\n    \t\t&lt;execution&gt;\r\n    \t\t\t&lt;id&gt;xjc&lt;/id&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t\t&lt;goal&gt;xjc&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t&lt;/execution&gt;\r\n    \t&lt;/executions&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;sources&gt;\r\n    \t\t\t&lt;source&gt;${project.basedir}/src/main/resources/countries.xsd&lt;/source&gt;\r\n    \t\t&lt;/sources&gt;\r\n    \t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nIts default generated code inside of target folder. \r\nFor generating into custom package used below tags\r\n\r\n    &lt;outputDirectory&gt;${project.basedir}&lt;/outputDirectory&gt;\r\n    &lt;packageName&gt;com.test.generated&lt;/packageName&gt;\r\n\r\nBut its not generated code under the mentioned package.\r\n\r\nPlease let me know if I missing something. Or is there any other solutions for the same","title":"Generate Source code suing jaxb plugin in spring boot 3 and Java 17","body":"<p>I am trying generating source code from xsd file using jaxB file. Please check below plugin</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;xjc&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;xjc&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;sources&gt;\n            &lt;source&gt;${project.basedir}/src/main/resources/countries.xsd&lt;/source&gt;\n        &lt;/sources&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Its default generated code inside of target folder.\nFor generating into custom package used below tags</p>\n<pre><code>&lt;outputDirectory&gt;${project.basedir}&lt;/outputDirectory&gt;\n&lt;packageName&gt;com.test.generated&lt;/packageName&gt;\n</code></pre>\n<p>But its not generated code under the mentioned package.</p>\n<p>Please let me know if I missing something. Or is there any other solutions for the same</p>\n"},{"tags":["java","apache-camel","spring-camel"],"answers":[{"tags":[],"owner":{"account_id":1218559,"reputation":3374,"user_id":1185671,"accept_rate":87,"display_name":"algorhythm"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694440420,"creation_date":1694440420,"answer_id":77082244,"question_id":77081752,"body_markdown":"Solved by using a try catch block within Camel:\r\n\r\n    from(&quot;my-route&quot;)\r\n        .routeId(&quot;my-route-id&quot;)\r\n        .try()\r\n            .to(endpoint)\r\n        .doCatch(SpecificFault.class)\r\n            .process(invalidAssetProcessor)\r\n        .end()\r\n        .to(&quot;destination&quot;)\r\n    .end();","title":"Apache Camel: Ignore &quot;Circular error-handler detected at route&quot; warning","body":"<p>Solved by using a try catch block within Camel:</p>\n<pre><code>from(&quot;my-route&quot;)\n    .routeId(&quot;my-route-id&quot;)\n    .try()\n        .to(endpoint)\n    .doCatch(SpecificFault.class)\n        .process(invalidAssetProcessor)\n    .end()\n    .to(&quot;destination&quot;)\n.end();\n</code></pre>\n"}],"owner":{"account_id":1218559,"reputation":3374,"user_id":1185671,"accept_rate":87,"display_name":"algorhythm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694440420,"creation_date":1694436285,"question_id":77081752,"body_markdown":"I have a route in Apache Camel which creates a message with asset IDs and sends it off to an end-point expecting a response with information on the assets.\r\n\r\nSometimes the end-point may respond that one of the assets isn&#39;t accepted, and so my route will create a new message and send back to the end-point. The end-point is only capable of responding with one unaccepted asset per request, so the second request to the end point may result in another response indicating an asset hasn&#39;t been accepted.\r\n\r\n    from(&quot;my-route&quot;)\r\n        .routeId(&quot;my-route-id&quot;)\r\n        // my-route accepts the message that will be sent to the end point\r\n        .to(endpoint)\r\n        .onException(SpecificFault.class)\r\n            // processor creates a new message, with the invalid asset retrieved from the SpecificFault Exceptionremoved\r\n            .process(invalidAssetProcessor)\r\n        .end()\r\n        .to(&quot;destination&quot;)\r\n    .end();\r\n\r\nThe code runs fine and processed as expected; when one invalid asset is returned a new message is sent with that invalid asset removed.\r\n\r\nWhen there is a second invalid asset I&#39;m getting the following error:\r\n\r\n&gt; &quot;Circular error-handler detected at route: my-route-id - breaking out\r\n&gt; processing Exchange:\r\n&gt; Exchange[2D95F3E2F212B18-0000000000000001]&quot;,&quot;logger_name&quot;:&quot;org.apache.camel.processor.FatalFallbackErrorHandler&quot;,&quot;thread_name&quot;:&quot;Camel\r\n&gt; (camel-1) thread #3 -\r\n&gt; timer://simpleTimer&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;level_value&quot;:30000}\r\n&gt; \r\n&gt; &quot;Exception occurred while trying to handle previously thrown exception\r\n&gt; on exchangeId: 2D95F3E2F212B18-0000000000000001 using: [null]. The\r\n&gt; previous and the new exception will be logged in the\r\n&gt; following.&quot;,&quot;logger_name&quot;:&quot;org.apache.camel.processor.FatalFallbackErrorHandler&quot;,&quot;thread_name&quot;:&quot;Camel\r\n&gt; (camel-1) thread #3 -\r\n&gt; timer://simpleTimer&quot;,&quot;level&quot;:&quot;ERROR&quot;,&quot;level_value&quot;:40000}\r\n\r\nIt seems that underlying code thinks that encountering the same Exception twice could lead to an infinite loop and stops. Is there a way for me to disable this safety mechanism for this Exception route?","title":"Apache Camel: Ignore &quot;Circular error-handler detected at route&quot; warning","body":"<p>I have a route in Apache Camel which creates a message with asset IDs and sends it off to an end-point expecting a response with information on the assets.</p>\n<p>Sometimes the end-point may respond that one of the assets isn't accepted, and so my route will create a new message and send back to the end-point. The end-point is only capable of responding with one unaccepted asset per request, so the second request to the end point may result in another response indicating an asset hasn't been accepted.</p>\n<pre><code>from(&quot;my-route&quot;)\n    .routeId(&quot;my-route-id&quot;)\n    // my-route accepts the message that will be sent to the end point\n    .to(endpoint)\n    .onException(SpecificFault.class)\n        // processor creates a new message, with the invalid asset retrieved from the SpecificFault Exceptionremoved\n        .process(invalidAssetProcessor)\n    .end()\n    .to(&quot;destination&quot;)\n.end();\n</code></pre>\n<p>The code runs fine and processed as expected; when one invalid asset is returned a new message is sent with that invalid asset removed.</p>\n<p>When there is a second invalid asset I'm getting the following error:</p>\n<blockquote>\n<p>&quot;Circular error-handler detected at route: my-route-id - breaking out\nprocessing Exchange:\nExchange[2D95F3E2F212B18-0000000000000001]&quot;,&quot;logger_name&quot;:&quot;org.apache.camel.processor.FatalFallbackErrorHandler&quot;,&quot;thread_name&quot;:&quot;Camel\n(camel-1) thread #3 -\ntimer://simpleTimer&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;level_value&quot;:30000}</p>\n<p>&quot;Exception occurred while trying to handle previously thrown exception\non exchangeId: 2D95F3E2F212B18-0000000000000001 using: [null]. The\nprevious and the new exception will be logged in the\nfollowing.&quot;,&quot;logger_name&quot;:&quot;org.apache.camel.processor.FatalFallbackErrorHandler&quot;,&quot;thread_name&quot;:&quot;Camel\n(camel-1) thread #3 -\ntimer://simpleTimer&quot;,&quot;level&quot;:&quot;ERROR&quot;,&quot;level_value&quot;:40000}</p>\n</blockquote>\n<p>It seems that underlying code thinks that encountering the same Exception twice could lead to an infinite loop and stops. Is there a way for me to disable this safety mechanism for this Exception route?</p>\n"},{"tags":["java","ffmpeg"],"owner":{"account_id":11716015,"reputation":75,"user_id":8576498,"display_name":"Saurabh Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694440098,"creation_date":1675661515,"question_id":75357642,"body_markdown":"I am trying to extract audio from video byte array file using ffmpeg library and store the output in another byte array.\r\nHere is my implementation:\r\n```\r\n  private byte[] extractAudioFromVideo(byte[] videoBytes) {\r\n\r\n        try {\r\n            FFmpegLogCallback.set();\r\n            ByteArrayInputStream videoData = new ByteArrayInputStream(videoBytes);\r\n\r\n            ByteArrayOutputStream audioData = new ByteArrayOutputStream();\r\n\r\n            FFmpegFrameGrabber grabber = new FFmpegFrameGrabber(videoData);\r\n            grabber.start();\r\n      \r\n            FrameRecorder recorder = new FFmpegFrameRecorder(audioData, grabber.getAudioChannels());\r\n            recorder.setFormat(&quot;wav&quot;);\r\n            recorder.setAudioCodec(avcodec.AV_CODEC_ID_ADPCM_IMA_WAV);\r\n            recorder.setAudioBitrate(grabber.getAudioBitrate());\r\n            recorder.setAudioChannels(grabber.getAudioChannels());\r\n            recorder.setAudioQuality(0);\r\n            recorder.start();\r\n\r\n\r\n            // Grab and record audio frames\r\n            Frame audioFrame;\r\n            while ((audioFrame = grabber.grabSamples()) != null) {\r\n                recorder.record(audioFrame);\r\n            }\r\n\r\n       \r\n            grabber.stop();\r\n            recorder.stop();\r\n            \r\n            return audioData.toByteArray();\r\n        } catch (FFmpegFrameGrabber.Exception | FrameRecorder.Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n```\r\nOn running the above code, I am running into the error\r\n```\r\norg.bytedeco.javacv.FrameRecorder$Exception: avformat_write_header error() error -22: Could not write header to &#39;&#39;\r\n\tat org.bytedeco.javacv.FFmpegFrameRecorder.startUnsafe(FFmpegFrameRecorder.java:900)\r\n\tat org.bytedeco.javacv.FFmpegFrameRecorder.start(FFmpegFrameRecorder.java:406)\r\n```\r\nOn adding FFmpegLogCallback.set() in the above code for detailed logs it says\r\n**Error: [wav @ 0x7f9910eb4780] No streams to mux were specified**\r\n\r\n```\r\nInfo: Input #0, matroska,webm, from &#39;java.io.ByteArrayInputStream@36d592ba&#39;:\r\n\r\nInfo:   Metadata:\r\n\r\nInfo:     encoder         : \r\nInfo: Chrome\r\nInfo: \r\n\r\nInfo:   Duration: \r\nInfo: N/A\r\nInfo: , start: \r\nInfo: 0.000000\r\nInfo: , bitrate: \r\nInfo: N/A\r\nInfo: \r\n\r\nInfo:     Stream #0:0\r\nInfo: (eng)\r\nInfo: : Audio: opus, 48000 Hz, mono, fltp\r\nInfo:  (default)\r\nInfo: \r\n\r\nInfo:     Stream #0:1\r\nInfo: (eng)\r\nInfo: : Video: h264 (Constrained Baseline), yuv420p(progressive), 1280x720 [SAR 1:1 DAR 16:9]\r\nInfo: , \r\nInfo: 30.30 fps, \r\nInfo: 30 tbr, \r\nInfo: 1k tbn, \r\nInfo: 60 tbc\r\nInfo:  (default)\r\nInfo: \r\n\r\nError: [wav @ 0x7f9910eb4780] No streams to mux were specified\r\n```\r\nCan someone please  suggest how to resolve it \r\n\r\nThanks","title":"avformat_write_header error() error -22: Could not write header to &#39;&#39; &quot;","body":"<p>I am trying to extract audio from video byte array file using ffmpeg library and store the output in another byte array.\nHere is my implementation:</p>\n<pre><code>  private byte[] extractAudioFromVideo(byte[] videoBytes) {\n\n        try {\n            FFmpegLogCallback.set();\n            ByteArrayInputStream videoData = new ByteArrayInputStream(videoBytes);\n\n            ByteArrayOutputStream audioData = new ByteArrayOutputStream();\n\n            FFmpegFrameGrabber grabber = new FFmpegFrameGrabber(videoData);\n            grabber.start();\n      \n            FrameRecorder recorder = new FFmpegFrameRecorder(audioData, grabber.getAudioChannels());\n            recorder.setFormat(&quot;wav&quot;);\n            recorder.setAudioCodec(avcodec.AV_CODEC_ID_ADPCM_IMA_WAV);\n            recorder.setAudioBitrate(grabber.getAudioBitrate());\n            recorder.setAudioChannels(grabber.getAudioChannels());\n            recorder.setAudioQuality(0);\n            recorder.start();\n\n\n            // Grab and record audio frames\n            Frame audioFrame;\n            while ((audioFrame = grabber.grabSamples()) != null) {\n                recorder.record(audioFrame);\n            }\n\n       \n            grabber.stop();\n            recorder.stop();\n            \n            return audioData.toByteArray();\n        } catch (FFmpegFrameGrabber.Exception | FrameRecorder.Exception e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>On running the above code, I am running into the error</p>\n<pre><code>org.bytedeco.javacv.FrameRecorder$Exception: avformat_write_header error() error -22: Could not write header to ''\n    at org.bytedeco.javacv.FFmpegFrameRecorder.startUnsafe(FFmpegFrameRecorder.java:900)\n    at org.bytedeco.javacv.FFmpegFrameRecorder.start(FFmpegFrameRecorder.java:406)\n</code></pre>\n<p>On adding FFmpegLogCallback.set() in the above code for detailed logs it says\n<strong>Error: [wav @ 0x7f9910eb4780] No streams to mux were specified</strong></p>\n<pre><code>Info: Input #0, matroska,webm, from 'java.io.ByteArrayInputStream@36d592ba':\n\nInfo:   Metadata:\n\nInfo:     encoder         : \nInfo: Chrome\nInfo: \n\nInfo:   Duration: \nInfo: N/A\nInfo: , start: \nInfo: 0.000000\nInfo: , bitrate: \nInfo: N/A\nInfo: \n\nInfo:     Stream #0:0\nInfo: (eng)\nInfo: : Audio: opus, 48000 Hz, mono, fltp\nInfo:  (default)\nInfo: \n\nInfo:     Stream #0:1\nInfo: (eng)\nInfo: : Video: h264 (Constrained Baseline), yuv420p(progressive), 1280x720 [SAR 1:1 DAR 16:9]\nInfo: , \nInfo: 30.30 fps, \nInfo: 30 tbr, \nInfo: 1k tbn, \nInfo: 60 tbc\nInfo:  (default)\nInfo: \n\nError: [wav @ 0x7f9910eb4780] No streams to mux were specified\n</code></pre>\n<p>Can someone please  suggest how to resolve it</p>\n<p>Thanks</p>\n"},{"tags":["java","proxy","webdav","nextcloud","sardine"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694439855,"post_id":77082060,"comment_id":135887295,"body_markdown":"Sorry broheimer, but asking recommendations and resources is explicitly off-topic for StackOverflow :/ Specific questions get answers.","body":"Sorry broheimer, but asking recommendations and resources is explicitly off-topic for StackOverflow :/ Specific questions get answers."}],"owner":{"account_id":10359304,"reputation":43,"user_id":7640245,"display_name":"Forfaro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694438968,"creation_date":1694438968,"question_id":77082060,"body_markdown":"I want to build a Java Service where I can upload and download files by WebDAV from my Nextcloud Server. Now I have some problems:\r\n\r\n- I have to use a proxy server for the connection to Nextcloud\r\n- I couldn&#39;t find out if I have to use the Nextcloud Header &quot;OCS-APIRequest=true&quot; also for WebDAV Requests\r\n- I have never used WebDAV in Java and think I must use a library like Sardine?\r\n\r\nI have tried yet to build a connection with Sardine and a HttpClient but didn&#39;t get it to run and don&#39;t know if it just didn&#39;t work cause the OCS-APIRequest-Header was missing.\r\n\r\nUnfortunately all I found searching the net where examples of the Sardine.put() method which I unfortunately didn&#39;t understand.\r\n\r\nDoes anyone maybe have an example where is described how to do all this together? Or maybe a good documentation of the Sardine library? Or any other hint which could help here?\r\n\r\nThx in advance!\r\n\r\nBR\r\nForfaro","title":"WebDAV Java Request to Nextcloud with Proxy","body":"<p>I want to build a Java Service where I can upload and download files by WebDAV from my Nextcloud Server. Now I have some problems:</p>\n<ul>\n<li>I have to use a proxy server for the connection to Nextcloud</li>\n<li>I couldn't find out if I have to use the Nextcloud Header &quot;OCS-APIRequest=true&quot; also for WebDAV Requests</li>\n<li>I have never used WebDAV in Java and think I must use a library like Sardine?</li>\n</ul>\n<p>I have tried yet to build a connection with Sardine and a HttpClient but didn't get it to run and don't know if it just didn't work cause the OCS-APIRequest-Header was missing.</p>\n<p>Unfortunately all I found searching the net where examples of the Sardine.put() method which I unfortunately didn't understand.</p>\n<p>Does anyone maybe have an example where is described how to do all this together? Or maybe a good documentation of the Sardine library? Or any other hint which could help here?</p>\n<p>Thx in advance!</p>\n<p>BR\nForfaro</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1694443864,"post_id":77081990,"comment_id":135888232,"body_markdown":"&quot;but it is not working even though the element is set to in XML&quot;: What does that mean? Try debugging: `String text = r.getText(0); System.out.println(text);`: What text does it print? `r.setItalic(true);System.out.println(r.getCTR());`: What does it print? If both prints the expected, are you sure you write out the changed `XWPFDocument` to the correct file?","body":"&quot;but it is not working even though the element is set to in XML&quot;: What does that mean? Try debugging: <code>String text = r.getText(0); System.out.println(text);</code>: What text does it print? <code>r.setItalic(true);System.out.println(r.getCTR());</code>: What does it print? If both prints the expected, are you sure you write out the changed <code>XWPFDocument</code> to the correct file?"},{"owner":{"account_id":3758035,"reputation":1073,"user_id":3123934,"accept_rate":54,"display_name":"user3123934"},"score":0,"creation_date":1694445590,"post_id":77081990,"comment_id":135888596,"body_markdown":"String tst = r.getText(0);\nSystem.out.println(&quot;tst:&quot; + tst); //tst:Calculator_GlucoseMeter\nr.setItalic(true);\nr.setText(text, 0);\nCTR obj = r.getCTR();\nSystem.out.println(&quot;CTR:&quot; + obj); //\n&lt;xml-fragment&gt;\n  &lt;w:rPr&gt;\n    &lt;w:rFonts w:cs=&quot;Arial&quot;/&gt;\n    &lt;w:i w:val=&quot;true&quot;/&gt;\n    &lt;w:w w:val=&quot;90&quot;/&gt;\n    &lt;w:sz w:val=&quot;24&quot;/&gt;\n    &lt;w:szCs w:val=&quot;24&quot;/&gt;\n  &lt;/w:rPr&gt;\n  &lt;w:t&gt;Calculator_GlucoseMeter&lt;/w:t&gt;\n&lt;/xml-fragment&gt;","body":"String tst = r.getText(0); System.out.println(&quot;tst:&quot; + tst); //tst:Calculator_GlucoseMeter r.setItalic(true); r.setText(text, 0); CTR obj = r.getCTR(); System.out.println(&quot;CTR:&quot; + obj); // &lt;xml-fragment&gt;   &lt;w:rPr&gt;     &lt;w:rFonts w:cs=&quot;Arial&quot;/&gt;     &lt;w:i w:val=&quot;true&quot;/&gt;     &lt;w:w w:val=&quot;90&quot;/&gt;     &lt;w:sz w:val=&quot;24&quot;/&gt;     &lt;w:szCs w:val=&quot;24&quot;/&gt;   &lt;/w:rPr&gt;   &lt;w:t&gt;Calculator_GlucoseMeter&lt;/w:t&gt; &lt;/xml-fragment&gt;"},{"owner":{"account_id":3758035,"reputation":1073,"user_id":3123934,"accept_rate":54,"display_name":"user3123934"},"score":0,"creation_date":1694445645,"post_id":77081990,"comment_id":135888606,"body_markdown":"Still, I am not getting italic fonts in a document.","body":"Still, I am not getting italic fonts in a document."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1694449387,"post_id":77081990,"comment_id":135889312,"body_markdown":"The `&lt;w:i w:val=&quot;true&quot;/&gt;` sets `i`talic formatting true. So it **should** work. Are you using an Apple system? Some Mac applications have a problem interpreting the `val` attributes correctly. Try `r.getCTR().getRPr().addNewI();` instead of `r.setItalic(true);`. That should set `&lt;w:i /&gt;`.","body":"The <code>&lt;w:i w:val=&quot;true&quot;&#47;&gt;</code> sets <code>i</code>talic formatting true. So it <b>should</b> work. Are you using an Apple system? Some Mac applications have a problem interpreting the <code>val</code> attributes correctly. Try <code>r.getCTR().getRPr().addNewI();</code> instead of <code>r.setItalic(true);</code>. That should set <code>&lt;w:i &#47;&gt;</code>."}],"owner":{"account_id":3758035,"reputation":1073,"user_id":3123934,"accept_rate":54,"display_name":"user3123934"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694438245,"creation_date":1694438245,"question_id":77081990,"body_markdown":"I am attempting to apply italics to text within an XWPFRun run, but it is not working even though the element is set to &lt;i&gt; in XML.\r\n\r\n    for (XWPFTable tbl : doc.getTables()) {\r\n    \t\t\t\t\t\tfor (XWPFTableRow row : tbl.getRows()) {\r\n    \t\t\t\t\t\t\tfor (XWPFTableCell cell : row.getTableCells()) {\r\n    \t\t\t\t\t\t\t\tfor (XWPFParagraph p : cell.getParagraphs()) {\r\n    \t\t\t\t\t\t\t\t\tfor (XWPFRun r : p.getRuns()) {\r\n    \t\t\t\t\t\t\t\t\t\tString text = r.getText(0);\r\n    \t\t\t\t\t\t\t\t\t\tif (text != null &amp;&amp; text.contains(key) &amp;&amp; key.equalsIgnoreCase(&quot;meter&quot;)) {\r\n    \t\t\t\t\t\t\t\t\t\t\tr.setItalic(true);\r\n    \t\t\t\t\t\t\t\t\t\t\tr.setText(text, 0);\r\n    \t\t\t\t\t\t\t\t\t\t}","title":"How to set Italic font on existing run without creating new XWPFRun run","body":"<p>I am attempting to apply italics to text within an XWPFRun run, but it is not working even though the element is set to  in XML.</p>\n<pre><code>for (XWPFTable tbl : doc.getTables()) {\n                        for (XWPFTableRow row : tbl.getRows()) {\n                            for (XWPFTableCell cell : row.getTableCells()) {\n                                for (XWPFParagraph p : cell.getParagraphs()) {\n                                    for (XWPFRun r : p.getRuns()) {\n                                        String text = r.getText(0);\n                                        if (text != null &amp;&amp; text.contains(key) &amp;&amp; key.equalsIgnoreCase(&quot;meter&quot;)) {\n                                            r.setItalic(true);\n                                            r.setText(text, 0);\n                                        }\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","one-to-many"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1694437918,"post_id":77081584,"comment_id":135886884,"body_markdown":"Your model is off. Your B Table only has a single foreign key (&#39;id_a&#39;) which means you have only a single B-&gt;A relationship. You then can&#39;t have two A-&gt;B one To many trying to use that same foreign key. You should look up JPA tutorials on bidirectional OneToMany as that is what you are trying to setup.","body":"Your model is off. Your B Table only has a single foreign key (&#39;id_a&#39;) which means you have only a single B-&gt;A relationship. You then can&#39;t have two A-&gt;B one To many trying to use that same foreign key. You should look up JPA tutorials on bidirectional OneToMany as that is what you are trying to setup."}],"answers":[{"comments":[{"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"score":0,"creation_date":1694439861,"post_id":77081979,"comment_id":135887298,"body_markdown":"But the requirements are telling that I need to use `firstValuesB` and `secondValuesB`. So, Is that impossible?","body":"But the requirements are telling that I need to use <code>firstValuesB</code> and <code>secondValuesB</code>. So, Is that impossible?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1694440218,"post_id":77081979,"comment_id":135887384,"body_markdown":"Yes, but what goes into firstValuesB vs what goes into secondValuesB? Anything is possible, but they are likely separate relationships. Or are you just applying a filter on the one set of Bs referencing this A instance? if the later, map it as it is and apply the filters in memory with getFirstValuesB and getSecondValuesB accessors. JPA providers can filter relationships, but you&#39;d still get duplicate queries to do the filtering.","body":"Yes, but what goes into firstValuesB vs what goes into secondValuesB? Anything is possible, but they are likely separate relationships. Or are you just applying a filter on the one set of Bs referencing this A instance? if the later, map it as it is and apply the filters in memory with getFirstValuesB and getSecondValuesB accessors. JPA providers can filter relationships, but you&#39;d still get duplicate queries to do the filtering."},{"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"score":0,"creation_date":1694442397,"post_id":77081979,"comment_id":135887903,"body_markdown":"Thanks a lot. I fixed the problem with your first suggestion","body":"Thanks a lot. I fixed the problem with your first suggestion"}],"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694438179,"creation_date":1694438179,"answer_id":77081979,"question_id":77081584,"body_markdown":"Your A entity is incorrectly mapping &quot;id_a&quot; in the B table multiple times. Assuming you want your B entity as it is so that it references A, A would need to look like:\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;a&quot;)\r\n    public class A {\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        private String id;\r\n    \r\n        @OneToMany(mappedBy=&quot;a&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\r\n        private List&lt;B&gt; firstValuesB;\r\n    }\r\n\r\nNow when you save(a) you&#39;ll have to remember that B.a controls the foreign key and must be set or the fk will be null:\r\n\r\n    A a = new A();\r\n    B b = new B();\r\n    b.setA(a);\r\n    a.setFirstValuesB(new ArrayList()).add(b);\r\n    save(a);\r\n\r\nBoth sides should be set in your relationship to match what it is in the database or you will run into issues.","title":"One to many relation null value after update","body":"<p>Your A entity is incorrectly mapping &quot;id_a&quot; in the B table multiple times. Assuming you want your B entity as it is so that it references A, A would need to look like:</p>\n<pre><code>@Entity\n@Table(name = &quot;a&quot;)\npublic class A {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private String id;\n\n    @OneToMany(mappedBy=&quot;a&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\n    private List&lt;B&gt; firstValuesB;\n}\n</code></pre>\n<p>Now when you save(a) you'll have to remember that B.a controls the foreign key and must be set or the fk will be null:</p>\n<pre><code>A a = new A();\nB b = new B();\nb.setA(a);\na.setFirstValuesB(new ArrayList()).add(b);\nsave(a);\n</code></pre>\n<p>Both sides should be set in your relationship to match what it is in the database or you will run into issues.</p>\n"}],"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77081979,"answer_count":1,"score":0,"last_activity_date":1694438179,"creation_date":1694434945,"question_id":77081584,"body_markdown":"I want to create One to many relation with 2 different objects. E.g:\r\nHere is class A\r\n```java\r\n@Setter\r\n@Getter\r\n@Builder\r\n@ToString\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;a&quot;)\r\npublic class A {\r\n\r\n\t@Id\r\n\t@Column(name = &quot;id&quot;)\r\n\tprivate String id;\r\n\r\n\t@OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\r\n\t@JoinColumn(name = &quot;id_a&quot;)\r\n\tprivate List&lt;B&gt; firstValuesB;\r\n\t\r\n\t@OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\r\n\t@JoinColumn(name = &quot;id_a&quot;)\r\n\tprivate List&lt;B&gt; secondValuesB;\r\n\r\n}\r\n```\r\nHere is my B class\r\n```java\r\n@Setter @Getter @Builder\r\n@AllArgsConstructor @NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;b&quot;, schema = &quot;ibil&quot;)\r\npublic class B {\r\n\r\n\t@Id\r\n\t@Column(name = &quot;id_b&quot;)\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer idB;\r\n\t\r\n\t@Column(name = &quot;period_begin&quot;)\r\n\tprivate Instant periodBegin;\r\n\r\n\t@Column(name = &quot;period_end&quot;)\r\n\tprivate Instant periodEnd;\r\n\t\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;id_a&quot;)\r\n\tprivate A a;\r\n}\r\n```\r\n\r\nHere you can see my table\r\n```sql\r\nCREATE TABLE `b` (\r\n  `id_b` int unsigned NOT NULL AUTO_INCREMENT,\r\n  `period_begin` datetime NOT NULL,\r\n  `period_end` datetime NOT NULL,\r\n  `type` varchar(25) DEFAULT NULL,\r\n  `id_a` varchar(36) DEFAULT NULL,\r\n  PRIMARY KEY (`id_b`),\r\n  KEY `fk_b_a` (`id_a`),\r\n  CONSTRAINT `fk_b_a` FOREIGN KEY (`id_a`) REFERENCES `a` (`id`)\r\n);\r\n```\r\n\r\n\r\nWhen I save class a with `aRepository.save(a)` It&#39;s correct for the first time. When I update periodBegin or periodEnd, then id_a become null. What might be the problem? ","title":"One to many relation null value after update","body":"<p>I want to create One to many relation with 2 different objects. E.g:\nHere is class A</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Setter\n@Getter\n@Builder\n@ToString\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;a&quot;)\npublic class A {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private String id;\n\n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\n    @JoinColumn(name = &quot;id_a&quot;)\n    private List&lt;B&gt; firstValuesB;\n    \n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\n    @JoinColumn(name = &quot;id_a&quot;)\n    private List&lt;B&gt; secondValuesB;\n\n}\n</code></pre>\n<p>Here is my B class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Setter @Getter @Builder\n@AllArgsConstructor @NoArgsConstructor\n@Entity\n@Table(name = &quot;b&quot;, schema = &quot;ibil&quot;)\npublic class B {\n\n    @Id\n    @Column(name = &quot;id_b&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer idB;\n    \n    @Column(name = &quot;period_begin&quot;)\n    private Instant periodBegin;\n\n    @Column(name = &quot;period_end&quot;)\n    private Instant periodEnd;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;id_a&quot;)\n    private A a;\n}\n</code></pre>\n<p>Here you can see my table</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE `b` (\n  `id_b` int unsigned NOT NULL AUTO_INCREMENT,\n  `period_begin` datetime NOT NULL,\n  `period_end` datetime NOT NULL,\n  `type` varchar(25) DEFAULT NULL,\n  `id_a` varchar(36) DEFAULT NULL,\n  PRIMARY KEY (`id_b`),\n  KEY `fk_b_a` (`id_a`),\n  CONSTRAINT `fk_b_a` FOREIGN KEY (`id_a`) REFERENCES `a` (`id`)\n);\n</code></pre>\n<p>When I save class a with <code>aRepository.save(a)</code> It's correct for the first time. When I update periodBegin or periodEnd, then id_a become null. What might be the problem?</p>\n"},{"tags":["java","algorithm","binary-search-tree","binary-search"],"answers":[{"tags":[],"owner":{"account_id":449564,"reputation":78084,"user_id":844416,"display_name":"MBo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1694406240,"creation_date":1694406240,"answer_id":77078902,"question_id":77078766,"body_markdown":"Disgusting mistake, we usually don&#39;t look at simple initialization twice ;) and I&#39;ve been going through main algo body first. But debugging would help.\r\n\r\nReplace\r\n\r\n    int left = nums[0];\r\nwith\r\n\r\n    int left = 0;","title":"Search in Rotated Sorted Array","body":"<p>Disgusting mistake, we usually don't look at simple initialization twice ;) and I've been going through main algo body first. But debugging would help.</p>\n<p>Replace</p>\n<pre><code>int left = nums[0];\n</code></pre>\n<p>with</p>\n<pre><code>int left = 0;\n</code></pre>\n"}],"owner":{"account_id":8207346,"reputation":95,"user_id":6176660,"accept_rate":75,"display_name":"nik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77078902,"answer_count":1,"score":0,"last_activity_date":1694437852,"creation_date":1694402925,"question_id":77078766,"body_markdown":"Problem statement:\r\n\r\n&gt; There is an integer array nums sorted in ascending order (with distinct values).\r\nPrior to being passed to your function, nums is possibly rotated at an unknown pivot index k (1 &lt;= k &lt; nums.length) such that the resulting array is [nums[k], nums[k+1], ..., nums[n-1], nums[0], nums[1], ..., nums[k-1]] (0-indexed). For example, [0,1,2,4,5,6,7] might be rotated at pivot index 3 and become [4,5,6,7,0,1,2].\r\nGiven the array nums after the possible rotation and an integer target, return the index of target if it is in nums, or -1 if it is not in nums.\r\nYou must write an algorithm with O(log n) runtime complexity.\r\n\r\nI have written the exact similar code given in submissions for the problem, but, it fails for one of my output. I am unable to find the reason. Am I missing some logic?\r\n\r\n    class Solution {\r\n        public int search(int[] nums, int target) {\r\n            int left = nums[0];\r\n            int right = nums.length - 1;\r\n            while (left &lt;= right) {\r\n                int mid = (left + right) / 2;\r\n                if (target == nums[mid]) {\r\n                    return mid;\r\n                } else {\r\n                    // if left sorted\r\n                    if (nums[left] &lt;= nums[mid]) {\r\n                        if (nums[left] &lt;= target &amp;&amp; target &lt; nums[mid]) {\r\n                            right = mid - 1;\r\n                        } else {\r\n                            left = mid + 1;\r\n                        }\r\n                    } else {\r\n                        // else right sorted\r\n                        if (nums[mid] &lt; target &amp;&amp; target &lt;= nums[right]) {\r\n                            left = mid + 1;\r\n                        } else {\r\n                            right = mid - 1;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return -1;\r\n        }\r\n    }\r\n\r\n\r\nThe code fails to provide output for\r\n`nums = [6,7,1,2,3,4,5]` and `target = 7`.\r\n\r\nExpected output is `1`, actual output is `-1`.","title":"Search in Rotated Sorted Array","body":"<p>Problem statement:</p>\n<blockquote>\n<p>There is an integer array nums sorted in ascending order (with distinct values).\nPrior to being passed to your function, nums is possibly rotated at an unknown pivot index k (1 &lt;= k &lt; nums.length) such that the resulting array is [nums[k], nums[k+1], ..., nums[n-1], nums[0], nums[1], ..., nums[k-1]] (0-indexed). For example, [0,1,2,4,5,6,7] might be rotated at pivot index 3 and become [4,5,6,7,0,1,2].\nGiven the array nums after the possible rotation and an integer target, return the index of target if it is in nums, or -1 if it is not in nums.\nYou must write an algorithm with O(log n) runtime complexity.</p>\n</blockquote>\n<p>I have written the exact similar code given in submissions for the problem, but, it fails for one of my output. I am unable to find the reason. Am I missing some logic?</p>\n<pre><code>class Solution {\n    public int search(int[] nums, int target) {\n        int left = nums[0];\n        int right = nums.length - 1;\n        while (left &lt;= right) {\n            int mid = (left + right) / 2;\n            if (target == nums[mid]) {\n                return mid;\n            } else {\n                // if left sorted\n                if (nums[left] &lt;= nums[mid]) {\n                    if (nums[left] &lt;= target &amp;&amp; target &lt; nums[mid]) {\n                        right = mid - 1;\n                    } else {\n                        left = mid + 1;\n                    }\n                } else {\n                    // else right sorted\n                    if (nums[mid] &lt; target &amp;&amp; target &lt;= nums[right]) {\n                        left = mid + 1;\n                    } else {\n                        right = mid - 1;\n                    }\n                }\n            }\n        }\n        return -1;\n    }\n}\n</code></pre>\n<p>The code fails to provide output for\n<code>nums = [6,7,1,2,3,4,5]</code> and <code>target = 7</code>.</p>\n<p>Expected output is <code>1</code>, actual output is <code>-1</code>.</p>\n"},{"tags":["java","javafx-8"],"comments":[{"owner":{"account_id":2258167,"reputation":2376,"user_id":1988874,"display_name":"Cyrille Pontvieux"},"score":0,"creation_date":1466090437,"post_id":37854318,"comment_id":63183695,"body_markdown":"Can you use multiple `fx:define` tags? Is so maybe try to see if one can see the definition made in the former.","body":"Can you use multiple <code>fx:define</code> tags? Is so maybe try to see if one can see the definition made in the former."},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1466091924,"post_id":37854318,"comment_id":63184789,"body_markdown":"@Cyrille_Pontvieux Yes we can, and i tried, but it changes nothing, It is much like multiple declaration of define block, with the same variable declaration, but if only I knewed where the implementation of &quot;fx:define&quot; is, I could try to debug.","body":"@Cyrille_Pontvieux Yes we can, and i tried, but it changes nothing, It is much like multiple declaration of define block, with the same variable declaration, but if only I knewed where the implementation of &quot;fx:define&quot; is, I could try to debug."}],"answers":[{"comments":[{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1578411919,"post_id":59629656,"comment_id":105425499,"body_markdown":"What about writing the size in the fxml instead of the java, will it be possible? The usage was sizing many buttons at 300*dp, and some for example at 400*dp, for 4K compatiblity.","body":"What about writing the size in the fxml instead of the java, will it be possible? The usage was sizing many buttons at 300*dp, and some for example at 400*dp, for 4K compatiblity."},{"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"score":0,"creation_date":1578412917,"post_id":59629656,"comment_id":105426096,"body_markdown":"You can define `width` property in FXML and initialize it in your code using the annotation `@FXML`. if you have more than one configuration, you can use two different properties, let&#39;s say `width` and `width4k`. The first will be bound to dp*300 and the other will be dp*400. I can help you with the implementation if you have any problems.","body":"You can define <code>width</code> property in FXML and initialize it in your code using the annotation <code>@FXML</code>. if you have more than one configuration, you can use two different properties, let&#39;s say <code>width</code> and <code>width4k</code>. The first will be bound to dp*300 and the other will be dp*400. I can help you with the implementation if you have any problems."}],"tags":[],"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1578404786,"creation_date":1578404786,"answer_id":59629656,"question_id":37854318,"body_markdown":"Too late bute this might be helpful for somebody. When you use `&lt;Double fx:id=&quot;width&quot; fx:value=&quot;300&quot;/&gt;` inside a `&lt;fx:define&gt;` block, FMXLLoader goes the declared type, `Double` in this case, and tries to call the method `Double.valueOf(&quot;300&quot;)` and this works since this call returns a `Double` object with the value of 300.\r\nWhen you use `&lt;Double fx:id=&quot;width&quot; fx:value=&quot;${300*m.dp}&quot;/&gt;`, a `NumberFormatException` will be thrown since the value &quot;${300*m.dp}&quot; doesn&#39;t represent a valid double value.\r\n\r\nFXMLLoader evaluates the expressions that start with &quot;${&quot; only when the type is observable.\r\nIn order to bind a value to another in FXML, both of them should be observable properties. In your case, you can add the following property to `Measurement` class:\r\n```java\r\npublic class Measurement {\r\n    public final DoubleProperty dp = new SimpleDoubleProperty();\r\n\r\n    public Measurement() {\r\n        Screen primary = Screen.getPrimary();\r\n        dp.set(primary.getBounds().getWidth() / 1920.0);\r\n    }\r\n\r\n    public double getDp() {\r\n        return dp.get();\r\n    }\r\n\r\n    public void setDp(double dp) {\r\n        this.dp.set(dp);\r\n    }\r\n\r\n    public final DoubleProperty widthProperty() {\r\n        if (width == null) {\r\n            width = new SimpleDoubleProperty();\r\n            width.bind(dp.multiply(300.0));\r\n        }\r\n        return width;\r\n    }\r\n\r\n    private DoubleProperty width;\r\n\r\n    public final double getWidth() {\r\n        return width == null ? 0 : width.get();\r\n    }\r\n}\r\n```\r\n\r\nAnd then use it like this in your FXML:\r\n\r\n```xml\r\n&lt;fx:define&gt;\r\n    &lt;Measurement fx:id=&quot;measurement&quot;/&gt;\r\n&lt;/fx:define&gt;\r\n&lt;Button prefWidth=&quot;${measurement.width}&quot; /&gt;\r\n```\r\n\r\n**Note:** IMHO, I don&#39;t think you need to make `Measurement` class instantiatable. There is no meaning of repeating the same measures and create a new instances in every FXML file. An alternative solution would be a class with a private constructor that holds static properties and used in FXML by calling `&lt;fx:factory&gt;` or `&lt;fx:constant&gt;`.","title":"JavaFX: Is it possible to use variable resolution in &quot;fx:define&quot;","body":"<p>Too late bute this might be helpful for somebody. When you use <code>&lt;Double fx:id=\"width\" fx:value=\"300\"/&gt;</code> inside a <code>&lt;fx:define&gt;</code> block, FMXLLoader goes the declared type, <code>Double</code> in this case, and tries to call the method <code>Double.valueOf(\"300\")</code> and this works since this call returns a <code>Double</code> object with the value of 300.\nWhen you use <code>&lt;Double fx:id=\"width\" fx:value=\"${300*m.dp}\"/&gt;</code>, a <code>NumberFormatException</code> will be thrown since the value \"${300*m.dp}\" doesn't represent a valid double value.</p>\n\n<p>FXMLLoader evaluates the expressions that start with \"${\" only when the type is observable.\nIn order to bind a value to another in FXML, both of them should be observable properties. In your case, you can add the following property to <code>Measurement</code> class:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Measurement {\n    public final DoubleProperty dp = new SimpleDoubleProperty();\n\n    public Measurement() {\n        Screen primary = Screen.getPrimary();\n        dp.set(primary.getBounds().getWidth() / 1920.0);\n    }\n\n    public double getDp() {\n        return dp.get();\n    }\n\n    public void setDp(double dp) {\n        this.dp.set(dp);\n    }\n\n    public final DoubleProperty widthProperty() {\n        if (width == null) {\n            width = new SimpleDoubleProperty();\n            width.bind(dp.multiply(300.0));\n        }\n        return width;\n    }\n\n    private DoubleProperty width;\n\n    public final double getWidth() {\n        return width == null ? 0 : width.get();\n    }\n}\n</code></pre>\n\n<p>And then use it like this in your FXML:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;fx:define&gt;\n    &lt;Measurement fx:id=\"measurement\"/&gt;\n&lt;/fx:define&gt;\n&lt;Button prefWidth=\"${measurement.width}\" /&gt;\n</code></pre>\n\n<p><strong>Note:</strong> IMHO, I don't think you need to make <code>Measurement</code> class instantiatable. There is no meaning of repeating the same measures and create a new instances in every FXML file. An alternative solution would be a class with a private constructor that holds static properties and used in FXML by calling <code>&lt;fx:factory&gt;</code> or <code>&lt;fx:constant&gt;</code>.</p>\n"}],"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2103,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":59629656,"answer_count":1,"score":5,"last_activity_date":1694437633,"creation_date":1466067137,"question_id":37854318,"body_markdown":"I am trying to define dynamic evaluated variables with fx:define, but I can&#39;t get a variable to be evaluated from another one, I don&#39;t know if it&#39;s even possible?\r\n\r\n    &lt;GridPane hgap=&quot;${10*m.dp}&quot; vgap=&quot;${10*m.dp}&quot; xmlns=&quot;http://javafx.com/javafx/8.0.51&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n    \t&lt;fx:define&gt;\r\n    \t\t&lt;Measurement fx:id=&quot;m&quot; /&gt;\r\n    \t\t&lt;!-- This works, but is not what I need --&gt;\r\n    \t\t&lt;Double fx:id=&quot;width&quot; fx:value=&quot;300&quot; /&gt;\r\n    \t\t&lt;!-- This doesn&#39;t work  \r\n     \t\t&lt;Double fx:id=&quot;width&quot; fx:value=&quot;${300*m.dp}&quot; /&gt; --&gt;\r\n    \t&lt;/fx:define&gt;\r\n    \t&lt;padding&gt;\r\n    \t\t&lt;Insets bottom=&quot;$width&quot; left=&quot;$width&quot; right=&quot;$width&quot; top=&quot;$width&quot; /&gt;\r\n    \t&lt;/padding&gt;\r\n    \t&lt;Text text=&quot;hello&quot; /&gt;\r\n    \t&lt;Button GridPane.rowIndex=&quot;1&quot; text=&quot;button&quot; prefWidth=&quot;${300*m.dp}&quot; /&gt;\r\n    \t&lt;Button GridPane.rowIndex=&quot;2&quot; text=&quot;button2&quot; prefWidth=&quot;$width&quot; /&gt;\r\n    &lt;/GridPane&gt;\r\n\r\nWhat I want here is to compute the width from my computed dp (Density independent pixel - value is 1 in HD screen, 2 in 4K screen, 0.xx on my 1600px width screen). The &quot;width&quot; variable I want is to be used in very many component in my real case, this is why I wanted a variable - for concision.\r\n\r\nThe java code to run it\r\n\r\n    public class Measurement {\r\n      private double dp;\r\n      \r\n      public Measurement(){\r\n        Screen primary = Screen.getPrimary();\r\n        dp=primary.getBounds().getWidth()/1920;\r\n      }\r\n      \r\n      /** \r\n       * Equivalent of 1 px in 1920. \r\n       */\r\n      public double getDp(){\r\n        return dp;\r\n      }\r\n      \r\n      public void setDp (double dp) {\r\n        this.dp = dp;\r\n      }\r\n    \r\n    }\r\n    public class MApplication extends Application {\r\n      public static void main (String[] args) {\r\n        launch (args);\r\n      }\r\n    \r\n      @Override\r\n      public void start (Stage primaryStage) throws Exception {\r\n        FXMLLoader fxmlLoader = new FXMLLoader();\r\n        Parent root = fxmlLoader.load(getClass().getResource(&quot;index.fxml&quot;).openStream());\r\n        Scene scene = new Scene(root, 300, 275);\r\n        primaryStage.setMaximized(true);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show ();\r\n      }\r\n      \r\n    \r\n    }\r\n\r\nActually, it s not clear to me which and where expression can be used, I see many answers here :https://stackoverflow.com/questions/29284004/is-it-possible-to-use-arithmetic-expression-in-fxml\r\n\r\nhere:https://stackoverflow.com/questions/23705654/bind-font-size-in-javafx \r\n\r\nand here:\r\nhttp://docs.oracle.com/javase/8/javafx/api/javafx/fxml/doc-files/introduction_to_fxml.html#expression_binding\r\n\r\nI don&#39;t understand in which case I can use the expression language,is there a specification?\r\n\r\nEdited: I adedd a Link to javafx-8 documentation, And I removed my obsolete comment on javaFX-2","title":"JavaFX: Is it possible to use variable resolution in &quot;fx:define&quot;","body":"<p>I am trying to define dynamic evaluated variables with fx:define, but I can't get a variable to be evaluated from another one, I don't know if it's even possible?</p>\n<pre><code>&lt;GridPane hgap=&quot;${10*m.dp}&quot; vgap=&quot;${10*m.dp}&quot; xmlns=&quot;http://javafx.com/javafx/8.0.51&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n    &lt;fx:define&gt;\n        &lt;Measurement fx:id=&quot;m&quot; /&gt;\n        &lt;!-- This works, but is not what I need --&gt;\n        &lt;Double fx:id=&quot;width&quot; fx:value=&quot;300&quot; /&gt;\n        &lt;!-- This doesn't work  \n        &lt;Double fx:id=&quot;width&quot; fx:value=&quot;${300*m.dp}&quot; /&gt; --&gt;\n    &lt;/fx:define&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;$width&quot; left=&quot;$width&quot; right=&quot;$width&quot; top=&quot;$width&quot; /&gt;\n    &lt;/padding&gt;\n    &lt;Text text=&quot;hello&quot; /&gt;\n    &lt;Button GridPane.rowIndex=&quot;1&quot; text=&quot;button&quot; prefWidth=&quot;${300*m.dp}&quot; /&gt;\n    &lt;Button GridPane.rowIndex=&quot;2&quot; text=&quot;button2&quot; prefWidth=&quot;$width&quot; /&gt;\n&lt;/GridPane&gt;\n</code></pre>\n<p>What I want here is to compute the width from my computed dp (Density independent pixel - value is 1 in HD screen, 2 in 4K screen, 0.xx on my 1600px width screen). The &quot;width&quot; variable I want is to be used in very many component in my real case, this is why I wanted a variable - for concision.</p>\n<p>The java code to run it</p>\n<pre><code>public class Measurement {\n  private double dp;\n  \n  public Measurement(){\n    Screen primary = Screen.getPrimary();\n    dp=primary.getBounds().getWidth()/1920;\n  }\n  \n  /** \n   * Equivalent of 1 px in 1920. \n   */\n  public double getDp(){\n    return dp;\n  }\n  \n  public void setDp (double dp) {\n    this.dp = dp;\n  }\n\n}\npublic class MApplication extends Application {\n  public static void main (String[] args) {\n    launch (args);\n  }\n\n  @Override\n  public void start (Stage primaryStage) throws Exception {\n    FXMLLoader fxmlLoader = new FXMLLoader();\n    Parent root = fxmlLoader.load(getClass().getResource(&quot;index.fxml&quot;).openStream());\n    Scene scene = new Scene(root, 300, 275);\n    primaryStage.setMaximized(true);\n    primaryStage.setScene(scene);\n    primaryStage.show ();\n  }\n  \n\n}\n</code></pre>\n<p>Actually, it s not clear to me which and where expression can be used, I see many answers here :<a href=\"https://stackoverflow.com/questions/29284004/is-it-possible-to-use-arithmetic-expression-in-fxml\">Is it possible to use arithmetic expression in FXML?</a></p>\n<p>here:<a href=\"https://stackoverflow.com/questions/23705654/bind-font-size-in-javafx\">Bind Font Size in JavaFX?</a></p>\n<p>and here:\n<a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/fxml/doc-files/introduction_to_fxml.html#expression_binding\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/8/javafx/api/javafx/fxml/doc-files/introduction_to_fxml.html#expression_binding</a></p>\n<p>I don't understand in which case I can use the expression language,is there a specification?</p>\n<p>Edited: I adedd a Link to javafx-8 documentation, And I removed my obsolete comment on javaFX-2</p>\n"},{"tags":["java","android","usb","point-of-sale","thermal-printer"],"comments":[{"owner":{"account_id":1922771,"reputation":344,"user_id":1733864,"accept_rate":50,"display_name":"RaymondMachira"},"score":0,"creation_date":1384046199,"post_id":16906227,"comment_id":29580504,"body_markdown":"Hey, What did you end up doing?","body":"Hey, What did you end up doing?"}],"answers":[{"comments":[{"owner":{"account_id":411010,"reputation":65,"user_id":783188,"accept_rate":38,"display_name":"Kofi"},"score":1,"creation_date":1370309793,"post_id":16907093,"comment_id":24404058,"body_markdown":"Hey fr4gus, thanks for your response. Actually Epson has an Android SDK that allows you to connect/print with a few of their POS thermal printers (http://pos.epson.com/mobilesdks/).\n\nProblem is buying an Epson POS printer can be a bit expensive (same with Star Micronics printers and their Android SDK). I&#39;m hoping (and still trying to see) that I can connect/print to POS printer such as the POS-5870, which is really affordable. Can you tell me about the Zebra printers in terms of pricing, compatibility with Android, and difficulty of development/integration into an Android app? Thanks again.","body":"Hey fr4gus, thanks for your response. Actually Epson has an Android SDK that allows you to connect/print with a few of their POS thermal printers (<a href=\"http://pos.epson.com/mobilesdks/\" rel=\"nofollow noreferrer\">pos.epson.com/mobilesdks</a>).  Problem is buying an Epson POS printer can be a bit expensive (same with Star Micronics printers and their Android SDK). I&#39;m hoping (and still trying to see) that I can connect/print to POS printer such as the POS-5870, which is really affordable. Can you tell me about the Zebra printers in terms of pricing, compatibility with Android, and difficulty of development/integration into an Android app? Thanks again."},{"owner":{"account_id":1007933,"reputation":2760,"user_id":1021159,"display_name":"jason.zissman"},"score":0,"creation_date":1370365520,"post_id":16907093,"comment_id":24430144,"body_markdown":"Pricing will vary depending on model, etc., but you easily find used ones on eBay that support Bluetooth for under $300.  It really depends on what features you need.  Zebra&#39;s mobile printers all have SDKs that work with Android and many sample applications available for testing.  There is also a knowledgebase (km.zebra.com) with snippets of sample code.  I myself have written a handful of apps for Zebra printers (on Android) and have found it easy.","body":"Pricing will vary depending on model, etc., but you easily find used ones on eBay that support Bluetooth for under $300.  It really depends on what features you need.  Zebra&#39;s mobile printers all have SDKs that work with Android and many sample applications available for testing.  There is also a knowledgebase (km.zebra.com) with snippets of sample code.  I myself have written a handful of apps for Zebra printers (on Android) and have found it easy."}],"tags":[],"owner":{"account_id":262013,"reputation":396,"user_id":546593,"accept_rate":50,"display_name":"fr4gus"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370299665,"creation_date":1370299665,"answer_id":16907093,"question_id":16906227,"body_markdown":"My 2 cents. I did an app that can print from Android(Bluetooth) to a Zebra printer. Bases on our search, it depends more on your printer provider. We couldn&#39;t find a &quot;library&quot; that can print to any printer. \r\nThat&#39;s whay we went for Zebra printers, since they support Android. I&#39;m not sure if Epson does provide Android libraries to use with their printers.","title":"Integrate USB POS printer with app from Android tablet","body":"<p>My 2 cents. I did an app that can print from Android(Bluetooth) to a Zebra printer. Bases on our search, it depends more on your printer provider. We couldn't find a \"library\" that can print to any printer. \nThat's whay we went for Zebra printers, since they support Android. I'm not sure if Epson does provide Android libraries to use with their printers.</p>\n"},{"tags":[],"owner":{"account_id":2989114,"reputation":1,"user_id":2537114,"display_name":"bil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372620754,"creation_date":1372620754,"answer_id":17394101,"question_id":16906227,"body_markdown":"i think the problem with epson api is that it only supports ARMv5TE architecture, I am not sure which tablet you are using, but if the tablet&#39;s processor is not ARMv5TE based then I dont think the printers will work, I havent looked at any of the zebra printers, or star for that matter but i assume their apis also must have some limitations in terms of what architecture they support. \r\non that note Epson should release api for ARMv7 and ARMv8 all variants now as thats those are the latest chips and will be most widely used in the coming months.","title":"Integrate USB POS printer with app from Android tablet","body":"<p>i think the problem with epson api is that it only supports ARMv5TE architecture, I am not sure which tablet you are using, but if the tablet's processor is not ARMv5TE based then I dont think the printers will work, I havent looked at any of the zebra printers, or star for that matter but i assume their apis also must have some limitations in terms of what architecture they support. \non that note Epson should release api for ARMv7 and ARMv8 all variants now as thats those are the latest chips and will be most widely used in the coming months.</p>\n"},{"tags":[],"owner":{"account_id":9847321,"reputation":973,"user_id":7319247,"accept_rate":97,"display_name":"MrX"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545673542,"creation_date":1545362849,"answer_id":53878811,"question_id":16906227,"body_markdown":"As far I know, Epson have specific documentation about SDK API for mobile, you can find it in here [EPSON SDK API][1]. They provide useful information about specific device requirement and support printer.\r\n\r\n\r\n  [1]: https://reference.epson-biz.com/modules/ref_epos_sdk_and_en/index.php?content_id=113","title":"Integrate USB POS printer with app from Android tablet","body":"<p>As far I know, Epson have specific documentation about SDK API for mobile, you can find it in here <a href=\"https://reference.epson-biz.com/modules/ref_epos_sdk_and_en/index.php?content_id=113\" rel=\"nofollow noreferrer\">EPSON SDK API</a>. They provide useful information about specific device requirement and support printer.</p>\n"}],"owner":{"account_id":411010,"reputation":65,"user_id":783188,"accept_rate":38,"display_name":"Kofi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10580,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1694437580,"creation_date":1370295328,"question_id":16906227,"body_markdown":"My goal is to integrate a USB POS thermal printer with a small demo Android app that I will using from an Android tablet.\r\n\r\nI have two POS printers:\r\n\r\n - Epson TM-T88III\r\n - POS-5870\r\n\r\nI also have a Sanei N10 tablet that I am connecting to the POS printer via a USB OTG dongle cable.\r\n\r\nI downloaded the USB Host Diagnostic (from Google Play Store) to see if it would recognize the POS printers that I connected to the tablet. It recognized both printers, however the EPSON TM-T88III was recognized on the Android OS level while the POS-5870 was recognized only on the kernel level.\r\n\r\nI also tried using the USB Printer Driver 2.1 DevEd app (from the Google Play store), however I couldn&#39;t set the any of the printers as the default printer to use.\r\n\r\nI also tried using the POS Printer Driver (ESC) app (from the Google Play store), however, it couldn&#39;t connect with the printers.\r\n\r\n\r\nI was wondering if there is any way I can get the POS printers connected to my Android tablet and perform a test print? In addition, is there any SDKs/source code that I can use to detect and perform a test print?\r\n\r\n\r\n ","title":"Integrate USB POS printer with app from Android tablet","body":"<p>My goal is to integrate a USB POS thermal printer with a small demo Android app that I will using from an Android tablet.</p>\n\n<p>I have two POS printers:</p>\n\n<ul>\n<li>Epson TM-T88III</li>\n<li>POS-5870</li>\n</ul>\n\n<p>I also have a Sanei N10 tablet that I am connecting to the POS printer via a USB OTG dongle cable.</p>\n\n<p>I downloaded the USB Host Diagnostic (from Google Play Store) to see if it would recognize the POS printers that I connected to the tablet. It recognized both printers, however the EPSON TM-T88III was recognized on the Android OS level while the POS-5870 was recognized only on the kernel level.</p>\n\n<p>I also tried using the USB Printer Driver 2.1 DevEd app (from the Google Play store), however I couldn't set the any of the printers as the default printer to use.</p>\n\n<p>I also tried using the POS Printer Driver (ESC) app (from the Google Play store), however, it couldn't connect with the printers.</p>\n\n<p>I was wondering if there is any way I can get the POS printers connected to my Android tablet and perform a test print? In addition, is there any SDKs/source code that I can use to detect and perform a test print?</p>\n"},{"tags":["java","validation","email","keycloak"],"owner":{"account_id":10996616,"reputation":35,"user_id":8078590,"display_name":"Mihai Borbea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694437534,"creation_date":1694437534,"question_id":77081913,"body_markdown":"Is there any setting i have to make for Keycloak to deny emails like &quot;email@withoutdomain&quot; (no dot)?\r\nI tried some but it looks like it is still accepting these type of emails. I need to make sure it is respecting an RFC regarding email addresses.\r\nThanks!","title":"Keycloak accepts email without domain name for user registration","body":"<p>Is there any setting i have to make for Keycloak to deny emails like &quot;email@withoutdomain&quot; (no dot)?\nI tried some but it looks like it is still accepting these type of emails. I need to make sure it is respecting an RFC regarding email addresses.\nThanks!</p>\n"},{"tags":["java","spring","forms","jsp","model-view-controller"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694417859,"post_id":77077223,"comment_id":135883254,"body_markdown":"You should send the request through JS not modify the form action. Because the GET will always add the parameters to the URL. So instead of rewriting the URL in the form you should be using `fetch` to send the request (and return `false` from your JS function to prevent the default from happening).","body":"You should send the request through JS not modify the form action. Because the GET will always add the parameters to the URL. So instead of rewriting the URL in the form you should be using <code>fetch</code> to send the request (and return <code>false</code> from your JS function to prevent the default from happening)."}],"answers":[{"comments":[{"owner":{"account_id":28527925,"reputation":11,"user_id":21835755,"display_name":"sebbington"},"score":0,"creation_date":1694374460,"post_id":77077469,"comment_id":135879451,"body_markdown":"I have tried this already, however with POST requests I can only access a resource from the form itself, not from a link.","body":"I have tried this already, however with POST requests I can only access a resource from the form itself, not from a link."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694417787,"post_id":77077469,"comment_id":135883240,"body_markdown":"With a post it doesn&#39;t matter if it is a request parameter or a form parameter it will bind either way.","body":"With a post it doesn&#39;t matter if it is a request parameter or a form parameter it will bind either way."}],"tags":[],"owner":{"account_id":21967042,"reputation":84,"user_id":16244113,"display_name":"mamJavad"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694437394,"creation_date":1694371555,"answer_id":77077469,"question_id":77077223,"body_markdown":"Why are you adding `username` in `path variable` ? \r\nI think you can remove `onSubmit` attribute and for `action` add `/profile` and make your http verb to post in `form` and `controller` . \r\nYou can create an object called `profile` that has a field called `username`;\r\nIn your `controller` in inputs add \r\n\r\n    @ModelAttribute(&quot;profile&quot;) Profile profile;\r\n\r\nthen you can get `username` in `profile` sth like this : \r\n\r\n    @PostMapping (&quot;/profile&quot;)\r\n    public String profile(@ModelAttribute(&quot;profile&quot;) Profile profile) {\r\n\r\n","title":"Spring MVC Java why are extra request params being added to my url?","body":"<p>Why are you adding <code>username</code> in <code>path variable</code> ?\nI think you can remove <code>onSubmit</code> attribute and for <code>action</code> add <code>/profile</code> and make your http verb to post in <code>form</code> and <code>controller</code> .\nYou can create an object called <code>profile</code> that has a field called <code>username</code>;\nIn your <code>controller</code> in inputs add</p>\n<pre><code>@ModelAttribute(&quot;profile&quot;) Profile profile;\n</code></pre>\n<p>then you can get <code>username</code> in <code>profile</code> sth like this :</p>\n<pre><code>@PostMapping (&quot;/profile&quot;)\npublic String profile(@ModelAttribute(&quot;profile&quot;) Profile profile) {\n</code></pre>\n"},{"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1694525057,"post_id":77077526,"comment_id":135900102,"body_markdown":"If this answer helped you then you should mark it as accepted. The checkbox I&#39;d on the left of the answer. Also it&#39;s worth to vote up the answer that helped you the same to help others to choose the correct answer.","body":"If this answer helped you then you should mark it as accepted. The checkbox I&#39;d on the left of the answer. Also it&#39;s worth to vote up the answer that helped you the same to help others to choose the correct answer."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694373444,"creation_date":1694372693,"answer_id":77077526,"question_id":77077223,"body_markdown":"If you don&#39;t pass any parameter in the url then you should not submit the form. Just return `false` from the onsubmit function. This will prevent form submission or use a button `type=&quot;button&quot;` with onclick event handler. Then use redirect directly to the url specified.\r\n```\r\n&lt;script&gt;\r\n  function updateFormAction() {\r\n     var username = document.getElementById(&quot;usernameInput&quot;).value;\r\n     window.location.href = &quot;/profile/&quot; + username;\r\n     return false;\r\n  }\r\n&lt;/script&gt;\r\n```","title":"Spring MVC Java why are extra request params being added to my url?","body":"<p>If you don't pass any parameter in the url then you should not submit the form. Just return <code>false</code> from the onsubmit function. This will prevent form submission or use a button <code>type=&quot;button&quot;</code> with onclick event handler. Then use redirect directly to the url specified.</p>\n<pre><code>&lt;script&gt;\n  function updateFormAction() {\n     var username = document.getElementById(&quot;usernameInput&quot;).value;\n     window.location.href = &quot;/profile/&quot; + username;\n     return false;\n  }\n&lt;/script&gt;\n</code></pre>\n"}],"owner":{"account_id":28527925,"reputation":11,"user_id":21835755,"display_name":"sebbington"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1694437394,"creation_date":1694366982,"question_id":77077223,"body_markdown":"I have a website, called `website.com`. I have a form which looks like this:\r\n\r\n\r\n```\r\n&lt;form:form method=&quot;get&quot; id=&quot;profileForm&quot; modelAttribute=&quot;profile&quot; onsubmit=&quot;updateFormAction()&quot;&gt;\r\n                    &lt;form:label path=&quot;username&quot;&gt;Name&lt;/form:label&gt;\r\n                    &lt;form:input path=&quot;username&quot; id=&quot;usernameInput&quot;/&gt;\r\n                    &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;/&gt;\r\n                &lt;/form:form&gt;\r\n\r\n                &lt;script&gt;\r\n                    function updateFormAction() {\r\n                        var username = document.getElementById(&quot;usernameInput&quot;).value;\r\n                        var form = document.getElementById(&quot;profileForm&quot;);\r\n                        form.action = &quot;/profile/&quot; + username;\r\n                    }\r\n                &lt;/script&gt;\r\n\r\n\r\n```\r\n\r\nWhat the form url should look like is this: `website.com/profile/username123`\r\n\r\nHowever, it is processing it as `website.com/profile/username123?username=username123`\r\n\r\nThis is my web controller mapping method:\r\n```\r\n@GetMapping (&quot;/profile/{username}&quot;)\r\n    public String profile(@PathVariable(&quot;username&quot;) String name, Model model, RestTemplate restTemplate) throws JsonProcessingException {\r\n```\r\n\r\n\r\n\r\nWhen I set `&lt;form method=&quot;post&quot;` it works. However, I do not want this behaviour, as I can only post that url through that form. I want to be able to search it via a link instead.\r\n\r\nI have tried `@ModelAttribute(&quot;username&quot;) String username`, however the url looks like `website.com/profile/?username=username123`\r\n\r\nAny ideas how I can fix this? Should I not be using a form, but a `button onsubmit` parameter instead?","title":"Spring MVC Java why are extra request params being added to my url?","body":"<p>I have a website, called <code>website.com</code>. I have a form which looks like this:</p>\n<pre><code>&lt;form:form method=&quot;get&quot; id=&quot;profileForm&quot; modelAttribute=&quot;profile&quot; onsubmit=&quot;updateFormAction()&quot;&gt;\n                    &lt;form:label path=&quot;username&quot;&gt;Name&lt;/form:label&gt;\n                    &lt;form:input path=&quot;username&quot; id=&quot;usernameInput&quot;/&gt;\n                    &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;/&gt;\n                &lt;/form:form&gt;\n\n                &lt;script&gt;\n                    function updateFormAction() {\n                        var username = document.getElementById(&quot;usernameInput&quot;).value;\n                        var form = document.getElementById(&quot;profileForm&quot;);\n                        form.action = &quot;/profile/&quot; + username;\n                    }\n                &lt;/script&gt;\n\n\n</code></pre>\n<p>What the form url should look like is this: <code>website.com/profile/username123</code></p>\n<p>However, it is processing it as <code>website.com/profile/username123?username=username123</code></p>\n<p>This is my web controller mapping method:</p>\n<pre><code>@GetMapping (&quot;/profile/{username}&quot;)\n    public String profile(@PathVariable(&quot;username&quot;) String name, Model model, RestTemplate restTemplate) throws JsonProcessingException {\n</code></pre>\n<p>When I set <code>&lt;form method=&quot;post&quot;</code> it works. However, I do not want this behaviour, as I can only post that url through that form. I want to be able to search it via a link instead.</p>\n<p>I have tried <code>@ModelAttribute(&quot;username&quot;) String username</code>, however the url looks like <code>website.com/profile/?username=username123</code></p>\n<p>Any ideas how I can fix this? Should I not be using a form, but a <code>button onsubmit</code> parameter instead?</p>\n"},{"tags":["java","cucumber"],"answers":[{"tags":[],"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1488438116,"creation_date":1488438116,"answer_id":42548820,"question_id":42542557,"body_markdown":"You can to this by writing your own custom implementation of `Formatter &amp; Reporter` interface. The empty implementation of `Formatter` is the `NullFormatter.java` which you can extend. You will need to provide implementations for the `Reporter` interface.\r\n\r\nThe methods which would be of interest will be the `result()` of the Reporter interface and possibly the `done()` method of Formatter. The result() has the `Result` object which has the exceptions.\r\n\r\nYou can look at `RerunFormatter.java` for clarity.\r\n\r\n[Github Formatter source][1]\r\n\r\n    public void result(Result result) {\r\n          //Code to create logs or store to a database etc...\r\n          result.getError();\r\n          result.getErrorMessage();\r\n    }\r\n\r\nYou will need to add this class(com.myimpl.CustomFormRep) to the plugin option.\r\n\r\n    plugin={&quot;pretty&quot;, &quot;html:report&quot;, &quot;json:reports.json&quot;,&quot;rerun:target/rerun.txt&quot;,com.myimpl.CustomFormRep}\r\n\r\n[More details on custom formatters.][2]\r\n\r\nYou can use the rerun plugin to get a list of failed scenarios to run again. Not sure about scheduling a run of failed tests, code to create a batch job or schedule one on your CI tool.\r\n\r\n\r\n  [1]: https://github.com/cucumber/cucumber-jvm/tree/master/core/src/main/java/cucumber/runtime/formatter\r\n  [2]: http://automationrhapsody.com/create-cucumber-jvm-custom-formatter/","title":"How to get the exception that was thrown when a Cucumber test failed in Java?","body":"<p>You can to this by writing your own custom implementation of <code>Formatter &amp; Reporter</code> interface. The empty implementation of <code>Formatter</code> is the <code>NullFormatter.java</code> which you can extend. You will need to provide implementations for the <code>Reporter</code> interface.</p>\n\n<p>The methods which would be of interest will be the <code>result()</code> of the Reporter interface and possibly the <code>done()</code> method of Formatter. The result() has the <code>Result</code> object which has the exceptions.</p>\n\n<p>You can look at <code>RerunFormatter.java</code> for clarity.</p>\n\n<p><a href=\"https://github.com/cucumber/cucumber-jvm/tree/master/core/src/main/java/cucumber/runtime/formatter\" rel=\"nofollow noreferrer\">Github Formatter source</a></p>\n\n<pre><code>public void result(Result result) {\n      //Code to create logs or store to a database etc...\n      result.getError();\n      result.getErrorMessage();\n}\n</code></pre>\n\n<p>You will need to add this class(com.myimpl.CustomFormRep) to the plugin option.</p>\n\n<pre><code>plugin={\"pretty\", \"html:report\", \"json:reports.json\",\"rerun:target/rerun.txt\",com.myimpl.CustomFormRep}\n</code></pre>\n\n<p><a href=\"http://automationrhapsody.com/create-cucumber-jvm-custom-formatter/\" rel=\"nofollow noreferrer\">More details on custom formatters.</a></p>\n\n<p>You can use the rerun plugin to get a list of failed scenarios to run again. Not sure about scheduling a run of failed tests, code to create a batch job or schedule one on your CI tool.</p>\n"},{"tags":[],"owner":{"account_id":121797,"reputation":2346,"user_id":3059685,"display_name":"Joman68"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592533554,"creation_date":1528170191,"answer_id":50691669,"question_id":42542557,"body_markdown":"If you just want to massage the result being sent to the report then you can extend the CucumberJSONFormatter and override the result method like this:\r\n\r\n```java\r\npublic class CustomReporter extends CucumberJSONFormatter {\r\n    \r\n    CustomReporter(Appendable out) {\r\n        super(out);\r\n    }\r\n    \r\n    /**\r\n     * Truncate the error in the output to the testresult.json file.\r\n     * @param result the error result\r\n    */\r\n    @Override\r\n    void result(Result result) {\r\n        String errorMessage = null;\r\n        if (result.error) {\r\n            errorMessage = &quot;Error: &quot; + truncateError(result.error);\r\n        }\r\n        Result myResult = new Result(result.status, result.duration, errorMessage);\r\n        // Log the truncated error to the JSON report\r\n        super.result(myResult);\r\n    }\r\n}\r\n```\r\n\r\nThen set the plugin option to:\r\n\r\n    plugin = [&quot;com.myimpl.CustomReporter:build/reports/json/testresult.json&quot;]\r\n","title":"How to get the exception that was thrown when a Cucumber test failed in Java?","body":"<p>If you just want to massage the result being sent to the report then you can extend the CucumberJSONFormatter and override the result method like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomReporter extends CucumberJSONFormatter {\n\n    CustomReporter(Appendable out) {\n        super(out);\n    }\n\n    /**\n     * Truncate the error in the output to the testresult.json file.\n     * @param result the error result\n    */\n    @Override\n    void result(Result result) {\n        String errorMessage = null;\n        if (result.error) {\n            errorMessage = \"Error: \" + truncateError(result.error);\n        }\n        Result myResult = new Result(result.status, result.duration, errorMessage);\n        // Log the truncated error to the JSON report\n        super.result(myResult);\n    }\n}\n</code></pre>\n\n<p>Then set the plugin option to:</p>\n\n<pre><code>plugin = [\"com.myimpl.CustomReporter:build/reports/json/testresult.json\"]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2869041,"reputation":4363,"user_id":2462759,"accept_rate":52,"display_name":"paul"},"score":0,"creation_date":1557932091,"post_id":52117066,"comment_id":98933936,"body_markdown":"Is there a way I can get this `result.getError()` in stack trace?","body":"Is there a way I can get this <code>result.getError()</code> in stack trace?"},{"owner":{"account_id":14257897,"reputation":658,"user_id":10299604,"display_name":"Frank Escobar"},"score":0,"creation_date":1558019129,"post_id":52117066,"comment_id":98969710,"body_markdown":"@paul `result.getError().getStackTrace()` this one? getError() returns `Throwable`","body":"@paul <code>result.getError().getStackTrace()</code> this one? getError() returns <code>Throwable</code>"},{"owner":{"account_id":5072673,"reputation":323,"user_id":4071014,"display_name":"Phonesis"},"score":1,"creation_date":1571321760,"post_id":52117066,"comment_id":103209804,"body_markdown":"This approach no longer works with the later versions of Cucumber as ScenarioImpl no longer seems to be accessibile in cucumber.runtime. Any ideas?","body":"This approach no longer works with the later versions of Cucumber as ScenarioImpl no longer seems to be accessibile in cucumber.runtime. Any ideas?"},{"owner":{"account_id":14257897,"reputation":658,"user_id":10299604,"display_name":"Frank Escobar"},"score":0,"creation_date":1571434393,"post_id":52117066,"comment_id":103253786,"body_markdown":"@Phonesis from what version specifically?","body":"@Phonesis from what version specifically?"},{"owner":{"account_id":5072673,"reputation":323,"user_id":4071014,"display_name":"Phonesis"},"score":0,"creation_date":1571434548,"post_id":52117066,"comment_id":103253822,"body_markdown":"4.8.0 - the latest in the io.cucumber maven repo","body":"4.8.0 - the latest in the io.cucumber maven repo"},{"owner":{"account_id":14257897,"reputation":658,"user_id":10299604,"display_name":"Frank Escobar"},"score":0,"creation_date":1571754888,"post_id":52117066,"comment_id":103341433,"body_markdown":"@Phonesis I&#39;ve posted the solution for `4.8.0` recently","body":"@Phonesis I&#39;ve posted the solution for <code>4.8.0</code> recently"},{"owner":{"account_id":5072673,"reputation":323,"user_id":4071014,"display_name":"Phonesis"},"score":0,"creation_date":1571825156,"post_id":52117066,"comment_id":103366239,"body_markdown":"Amazing! Don&#39;t suppose you have ever tried to do something similar with Cucumber.js?","body":"Amazing! Don&#39;t suppose you have ever tried to do something similar with Cucumber.js?"},{"owner":{"account_id":14257897,"reputation":658,"user_id":10299604,"display_name":"Frank Escobar"},"score":0,"creation_date":1571829165,"post_id":52117066,"comment_id":103368266,"body_markdown":"@Phonesis Also, I&#39;ve added the example for `cucumber-js`","body":"@Phonesis Also, I&#39;ve added the example for <code>cucumber-js</code>"},{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1574684887,"post_id":52117066,"comment_id":104307335,"body_markdown":"Thanks for the answer. Just adding the imports here in case anyone may be looking for them. Cheers. ```import cucumber.runtime.ScenarioImpl;\nimport gherkin.formatter.model.Result;\nimport org.apache.commons.lang3.reflect.FieldUtils;\nimport java.lang.reflect.Field;\nimport java.util.ArrayList;```","body":"Thanks for the answer. Just adding the imports here in case anyone may be looking for them. Cheers. <code>import cucumber.runtime.ScenarioImpl; import gherkin.formatter.model.Result; import org.apache.commons.lang3.reflect.FieldUtils; import java.lang.reflect.Field; import java.util.ArrayList;</code>"},{"owner":{"account_id":14257897,"reputation":658,"user_id":10299604,"display_name":"Frank Escobar"},"score":1,"creation_date":1574774004,"post_id":52117066,"comment_id":104343514,"body_markdown":"@FrancislainyCampos Thanks, I&#39;ve added it too.","body":"@FrancislainyCampos Thanks, I&#39;ve added it too."},{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1584121260,"post_id":52117066,"comment_id":107349152,"body_markdown":"Hi @FrankEscobar, sorry just wondering if you&#39;d know how to transfer this to new cucumber 5 version? It stopped working for me this week when I updated. Many thanks!","body":"Hi @FrankEscobar, sorry just wondering if you&#39;d know how to transfer this to new cucumber 5 version? It stopped working for me this week when I updated. Many thanks!"}],"tags":[],"owner":{"account_id":14257897,"reputation":658,"user_id":10299604,"display_name":"Frank Escobar"},"comment_count":11,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1574773984,"creation_date":1535723820,"answer_id":52117066,"question_id":42542557,"body_markdown":"I&#39;ve implemented this method using reflections. You can&#39;t access directly to steps errors (stack trace). I&#39;ve created this static method which allows you to access to &quot;stepResults&quot; attribute and then you can iterate and get the error and do whatever you want.\r\n\r\n    import cucumber.runtime.ScenarioImpl; \r\n    import gherkin.formatter.model.Result;  \r\n    import org.apache.commons.lang3.reflect.FieldUtils;  \r\n    import java.lang.reflect.Field;  \r\n    import java.util.ArrayList;\r\n\r\n    @After\r\n    public void afterScenario(Scenario scenario) {\r\n      if (scenario.isFailed())\r\n        logError(scenario);\r\n    }\r\n\r\n\r\n    private static void logError(Scenario scenario) {\r\n       Field field = FieldUtils.getField(((ScenarioImpl) scenario).getClass(), &quot;stepResults&quot;, true);\r\n       field.setAccessible(true);\r\n       try {\r\n           ArrayList&lt;Result&gt; results = (ArrayList&lt;Result&gt;) field.get(scenario);\r\n           for (Result result : results) {\r\n               if (result.getError() != null)\r\n                   LOGGER.error(&quot;Error Scenario: {}&quot;, scenario.getId(), result.getError());\r\n           }\r\n       } catch (Exception e) {\r\n           LOGGER.error(&quot;Error while logging error&quot;, e);\r\n       }\r\n    }","title":"How to get the exception that was thrown when a Cucumber test failed in Java?","body":"<p>I've implemented this method using reflections. You can't access directly to steps errors (stack trace). I've created this static method which allows you to access to \"stepResults\" attribute and then you can iterate and get the error and do whatever you want.</p>\n\n<pre><code>import cucumber.runtime.ScenarioImpl; \nimport gherkin.formatter.model.Result;  \nimport org.apache.commons.lang3.reflect.FieldUtils;  \nimport java.lang.reflect.Field;  \nimport java.util.ArrayList;\n\n@After\npublic void afterScenario(Scenario scenario) {\n  if (scenario.isFailed())\n    logError(scenario);\n}\n\n\nprivate static void logError(Scenario scenario) {\n   Field field = FieldUtils.getField(((ScenarioImpl) scenario).getClass(), \"stepResults\", true);\n   field.setAccessible(true);\n   try {\n       ArrayList&lt;Result&gt; results = (ArrayList&lt;Result&gt;) field.get(scenario);\n       for (Result result : results) {\n           if (result.getError() != null)\n               LOGGER.error(\"Error Scenario: {}\", scenario.getId(), result.getError());\n       }\n   } catch (Exception e) {\n       LOGGER.error(\"Error while logging error\", e);\n   }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4093853,"reputation":568,"user_id":3361187,"accept_rate":72,"display_name":"Bilal"},"score":0,"creation_date":1581404858,"post_id":58506614,"comment_id":106411656,"body_markdown":"Above function is not working with cucumber-java version 5.2.0. It gives the exception of cucumber.runtime.java.JavaHookDefinition$ScenarioAdaptor class not found.","body":"Above function is not working with cucumber-java version 5.2.0. It gives the exception of cucumber.runtime.java.JavaHookDefinition$ScenarioAdaptor class not found."},{"owner":{"account_id":14257897,"reputation":658,"user_id":10299604,"display_name":"Frank Escobar"},"score":0,"creation_date":1581502391,"post_id":58506614,"comment_id":106452916,"body_markdown":"@Bilal In the description clearly I&#39;m specifying is for cucumber-java version 4.8.0.\nWhen the library has a major change like from 4 to 5, it&#39;s because there is no compatibility. Maybe version 5 could implement this out of the box.","body":"@Bilal In the description clearly I&#39;m specifying is for cucumber-java version 4.8.0. When the library has a major change like from 4 to 5, it&#39;s because there is no compatibility. Maybe version 5 could implement this out of the box."},{"owner":{"account_id":4093853,"reputation":568,"user_id":3361187,"accept_rate":72,"display_name":"Bilal"},"score":0,"creation_date":1581508316,"post_id":58506614,"comment_id":106456109,"body_markdown":"Can you please guide for ver 5.2.0 as I am totally new and can&#39;t find any help regarding this.","body":"Can you please guide for ver 5.2.0 as I am totally new and can&#39;t find any help regarding this."}],"tags":[],"owner":{"account_id":14257897,"reputation":658,"user_id":10299604,"display_name":"Frank Escobar"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1571754782,"creation_date":1571754782,"answer_id":58506614,"question_id":42542557,"body_markdown":"This is the workaround for cucumber-java version `4.8.0` using reflection.\r\n\r\n    import cucumber.api.Result;\r\n    import io.cucumber.core.api.Scenario;\r\n    import io.cucumber.core.logging.Logger;\r\n    import io.cucumber.core.logging.LoggerFactory;\r\n    import io.cucumber.java.After;\r\n    import org.apache.commons.lang3.ClassUtils;\r\n    import org.apache.commons.lang3.reflect.FieldUtils;\r\n    \r\n    import java.io.IOException;\r\n    import java.lang.reflect.Field;\r\n    import java.net.URL;\r\n    import java.util.ArrayList;\r\n\r\n    @After\r\n    public void afterScenario(Scenario scenario) throws IOException {\r\n        if(!scenario.getStatus().isOk(true)){\r\n            logError(scenario);\r\n        }\r\n    }\r\n\r\n    private static void logError(Scenario scenario) {\r\n        try {\r\n            Class clasz = ClassUtils.getClass(&quot;cucumber.runtime.java.JavaHookDefinition$ScenarioAdaptor&quot;);\r\n            Field fieldScenario = FieldUtils.getField(clasz, &quot;scenario&quot;, true);\r\n            fieldScenario.setAccessible(true);\r\n            Object objectScenario =  fieldScenario.get(scenario);\r\n\r\n            Field fieldStepResults = objectScenario.getClass().getDeclaredField(&quot;stepResults&quot;);\r\n            fieldStepResults.setAccessible(true);\r\n\r\n            ArrayList&lt;Result&gt; results = (ArrayList&lt;Result&gt;) fieldStepResults.get(objectScenario);\r\n            for (Result result : results) {\r\n                if (result.getError() != null) {\r\n                    LOGGER.error(String.format(&quot;Error Scenario: %s&quot;, scenario.getId()), result.getError());\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            LOGGER.error(&quot;Error while logging error&quot;, e);\r\n        }\r\n    }","title":"How to get the exception that was thrown when a Cucumber test failed in Java?","body":"<p>This is the workaround for cucumber-java version <code>4.8.0</code> using reflection.</p>\n\n<pre><code>import cucumber.api.Result;\nimport io.cucumber.core.api.Scenario;\nimport io.cucumber.core.logging.Logger;\nimport io.cucumber.core.logging.LoggerFactory;\nimport io.cucumber.java.After;\nimport org.apache.commons.lang3.ClassUtils;\nimport org.apache.commons.lang3.reflect.FieldUtils;\n\nimport java.io.IOException;\nimport java.lang.reflect.Field;\nimport java.net.URL;\nimport java.util.ArrayList;\n\n@After\npublic void afterScenario(Scenario scenario) throws IOException {\n    if(!scenario.getStatus().isOk(true)){\n        logError(scenario);\n    }\n}\n\nprivate static void logError(Scenario scenario) {\n    try {\n        Class clasz = ClassUtils.getClass(\"cucumber.runtime.java.JavaHookDefinition$ScenarioAdaptor\");\n        Field fieldScenario = FieldUtils.getField(clasz, \"scenario\", true);\n        fieldScenario.setAccessible(true);\n        Object objectScenario =  fieldScenario.get(scenario);\n\n        Field fieldStepResults = objectScenario.getClass().getDeclaredField(\"stepResults\");\n        fieldStepResults.setAccessible(true);\n\n        ArrayList&lt;Result&gt; results = (ArrayList&lt;Result&gt;) fieldStepResults.get(objectScenario);\n        for (Result result : results) {\n            if (result.getError() != null) {\n                LOGGER.error(String.format(\"Error Scenario: %s\", scenario.getId()), result.getError());\n            }\n        }\n    } catch (Exception e) {\n        LOGGER.error(\"Error while logging error\", e);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5072673,"reputation":323,"user_id":4071014,"display_name":"Phonesis"},"score":0,"creation_date":1571833231,"post_id":58521549,"comment_id":103370553,"body_markdown":"This doesn&#39;t seem to work because exception does not exist in the scenario object with the latest version of cucumber. Any other ideas? Perhaps with reflection?","body":"This doesn&#39;t seem to work because exception does not exist in the scenario object with the latest version of cucumber. Any other ideas? Perhaps with reflection?"},{"owner":{"account_id":14257897,"reputation":658,"user_id":10299604,"display_name":"Frank Escobar"},"score":0,"creation_date":1571923293,"post_id":58521549,"comment_id":103406130,"body_markdown":"@Phonesis To said that you have to be sure. That `exception` attribute is `Error` type.","body":"@Phonesis To said that you have to be sure. That <code>exception</code> attribute is <code>Error</code> type."},{"owner":{"account_id":5072673,"reputation":323,"user_id":4071014,"display_name":"Phonesis"},"score":0,"creation_date":1571924186,"post_id":58521549,"comment_id":103406719,"body_markdown":"I am using latest version of cucumber via npm and don&#39;t get this. I just see duration and status.","body":"I am using latest version of cucumber via npm and don&#39;t get this. I just see duration and status."},{"owner":{"account_id":5072673,"reputation":323,"user_id":4071014,"display_name":"Phonesis"},"score":0,"creation_date":1571928198,"post_id":58521549,"comment_id":103409012,"body_markdown":"Just an update, turns out it&#39;s the &quot;Scenario: any&quot; as param type that is key here. It works with any set as type. If I used HookScenarioResult as type it can&#39;t find exception.","body":"Just an update, turns out it&#39;s the &quot;Scenario: any&quot; as param type that is key here. It works with any set as type. If I used HookScenarioResult as type it can&#39;t find exception."},{"owner":{"account_id":14257897,"reputation":658,"user_id":10299604,"display_name":"Frank Escobar"},"score":0,"creation_date":1572345640,"post_id":58521549,"comment_id":103522560,"body_markdown":"@Phonesis that&#39;s right. With `HookScenarioResult` you are parsing the scenario to that object and that object doesn&#39;t have the exception.","body":"@Phonesis that&#39;s right. With <code>HookScenarioResult</code> you are parsing the scenario to that object and that object doesn&#39;t have the exception."}],"tags":[],"owner":{"account_id":14257897,"reputation":658,"user_id":10299604,"display_name":"Frank Escobar"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572345478,"creation_date":1571829124,"answer_id":58521549,"question_id":42542557,"body_markdown":"For `cucumber-js` https://www.npmjs.com/package/cucumber/v/6.0.3\r\n\r\n    import { After } from &#39;cucumber&#39;\r\n\r\n    After(async function(scenario: any) {\r\n        const exception = scenario.result.exception\r\n        if (exception) {\r\n            this.logger.log({ level: &#39;error&#39;, message: &#39;-----------StackTrace-----------&#39; })\r\n            this.logger.log({ level: &#39;error&#39;, message: exception.stack })\r\n            this.logger.log({ level: &#39;error&#39;, message: &#39;-----------End-StackTrace-----------&#39; })\r\n        }\r\n    })\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NBAiC.png","title":"How to get the exception that was thrown when a Cucumber test failed in Java?","body":"<p>For <code>cucumber-js</code> <a href=\"https://www.npmjs.com/package/cucumber/v/6.0.3\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/cucumber/v/6.0.3</a></p>\n\n<pre><code>import { After } from 'cucumber'\n\nAfter(async function(scenario: any) {\n    const exception = scenario.result.exception\n    if (exception) {\n        this.logger.log({ level: 'error', message: '-----------StackTrace-----------' })\n        this.logger.log({ level: 'error', message: exception.stack })\n        this.logger.log({ level: 'error', message: '-----------End-StackTrace-----------' })\n    }\n})\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/NBAiC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NBAiC.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1584185667,"post_id":60225781,"comment_id":107362408,"body_markdown":"Rather then using `EventListener` you should use `ConcurrentEventListener`. Otherwise Cucumber will only provide you the events after the concurrent execution is over.","body":"Rather then using <code>EventListener</code> you should use <code>ConcurrentEventListener</code>. Otherwise Cucumber will only provide you the events after the concurrent execution is over."}],"tags":[],"owner":{"account_id":3093096,"reputation":395,"user_id":2618850,"display_name":"Leo Hilbert"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582030946,"creation_date":1581680990,"answer_id":60225781,"question_id":42542557,"body_markdown":"After a lot of experimentation I now removed the Before/After-Annotations and rely on Cucumber-Events instead. They contain the `TestCase` (which is what the `Scenario`-class wraps) and a `Result` where you can call `getError();` to get the Throwable.\r\n\r\nHere is a simple example to get it working\r\n```\r\nimport io.cucumber.plugin.EventListener;\r\nimport io.cucumber.plugin.event.EventPublisher;\r\nimport io.cucumber.plugin.event.Result;\r\nimport io.cucumber.plugin.event.Status;\r\nimport io.cucumber.plugin.event.TestCase;\r\nimport io.cucumber.plugin.event.TestCaseFinished;\r\nimport io.cucumber.plugin.event.TestCaseStarted;\r\nimport org.openqa.selenium.WebDriver;\r\n\r\npublic class TestCaseListener implements EventListener {\r\n    @Override\r\n    public void setEventPublisher(final EventPublisher publisher) {\r\n        publisher.registerHandlerFor(TestCaseStarted.class, this::onTestCaseStarted);\r\n        publisher.registerHandlerFor(TestCaseFinished.class, this::onTestCaseFinished);\r\n    }\r\n\r\n    public void onTestCaseStarted(TestCaseStarted event) {\r\n        TestCase testCase = event.getTestCase();\r\n        System.out.println(&quot;Starting &quot; + testCase.getName());\r\n\r\n        // Other stuff you did in your @Before-Method.\r\n        // ...\r\n    }\r\n\r\n    private void onTestCaseFinished(final TestCaseFinished event) {\r\n        TestCase testCase = event.getTestCase();\r\n        System.out.println(&quot;Finished &quot; + testCase.getName());\r\n\r\n        Result result = event.getResult();\r\n        if (result.getStatus() == Status.FAILED) {\r\n            final Throwable error = result.getError();\r\n            error.printStackTrace();\r\n        }\r\n\r\n        // Other stuff you did in your @After-Method.\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nAll that&#39;s left to do is to register this class as a Cucumber-Plugin.\r\nI did this by modifying my `@CucumberOptions`-annotation:\r\n```\r\n@CucumberOptions(plugin = {&quot;com.example.TestCaseListener&quot;})\r\n```\r\n\r\nI find this much cleaner than all of this reflection-madness, however it requires a lot more code-changes.\r\n\r\n**Edit**\r\n\r\nI don&#39;t know why, but this caused a lot of tests to randomly fail in a multithreaded environment.\r\nI tried to figure it out, but now also use the ugly reflections mentioned in this thread:\r\n\r\n    public class SeleniumUtils {\r\n    private static final Logger log = LoggerFactory.getLogger(SeleniumUtils.class);\r\n\r\n    private static final Field field = FieldUtils.getField(Scenario.class, &quot;delegate&quot;, true);\r\n    private static Method getError;\r\n\r\n    public static Throwable getError(Scenario scenario) {\r\n        try {\r\n            final TestCaseState testCase = (TestCaseState) field.get(scenario);\r\n            if (getError == null) {\r\n                getError = MethodUtils.getMatchingMethod(testCase.getClass(), &quot;getError&quot;);\r\n                getError.setAccessible(true);\r\n            }\r\n            return (Throwable) getError.invoke(testCase);\r\n        } catch (Exception e) {\r\n            log.warn(&quot;error receiving exception&quot;, e);\r\n        }\r\n        return null;\r\n    }\r\n    }","title":"How to get the exception that was thrown when a Cucumber test failed in Java?","body":"<p>After a lot of experimentation I now removed the Before/After-Annotations and rely on Cucumber-Events instead. They contain the <code>TestCase</code> (which is what the <code>Scenario</code>-class wraps) and a <code>Result</code> where you can call <code>getError();</code> to get the Throwable.</p>\n\n<p>Here is a simple example to get it working</p>\n\n<pre><code>import io.cucumber.plugin.EventListener;\nimport io.cucumber.plugin.event.EventPublisher;\nimport io.cucumber.plugin.event.Result;\nimport io.cucumber.plugin.event.Status;\nimport io.cucumber.plugin.event.TestCase;\nimport io.cucumber.plugin.event.TestCaseFinished;\nimport io.cucumber.plugin.event.TestCaseStarted;\nimport org.openqa.selenium.WebDriver;\n\npublic class TestCaseListener implements EventListener {\n    @Override\n    public void setEventPublisher(final EventPublisher publisher) {\n        publisher.registerHandlerFor(TestCaseStarted.class, this::onTestCaseStarted);\n        publisher.registerHandlerFor(TestCaseFinished.class, this::onTestCaseFinished);\n    }\n\n    public void onTestCaseStarted(TestCaseStarted event) {\n        TestCase testCase = event.getTestCase();\n        System.out.println(\"Starting \" + testCase.getName());\n\n        // Other stuff you did in your @Before-Method.\n        // ...\n    }\n\n    private void onTestCaseFinished(final TestCaseFinished event) {\n        TestCase testCase = event.getTestCase();\n        System.out.println(\"Finished \" + testCase.getName());\n\n        Result result = event.getResult();\n        if (result.getStatus() == Status.FAILED) {\n            final Throwable error = result.getError();\n            error.printStackTrace();\n        }\n\n        // Other stuff you did in your @After-Method.\n        // ...\n    }\n}\n</code></pre>\n\n<p>All that's left to do is to register this class as a Cucumber-Plugin.\nI did this by modifying my <code>@CucumberOptions</code>-annotation:</p>\n\n<pre><code>@CucumberOptions(plugin = {\"com.example.TestCaseListener\"})\n</code></pre>\n\n<p>I find this much cleaner than all of this reflection-madness, however it requires a lot more code-changes.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>I don't know why, but this caused a lot of tests to randomly fail in a multithreaded environment.\nI tried to figure it out, but now also use the ugly reflections mentioned in this thread:</p>\n\n<pre><code>public class SeleniumUtils {\nprivate static final Logger log = LoggerFactory.getLogger(SeleniumUtils.class);\n\nprivate static final Field field = FieldUtils.getField(Scenario.class, \"delegate\", true);\nprivate static Method getError;\n\npublic static Throwable getError(Scenario scenario) {\n    try {\n        final TestCaseState testCase = (TestCaseState) field.get(scenario);\n        if (getError == null) {\n            getError = MethodUtils.getMatchingMethod(testCase.getClass(), \"getError\");\n            getError.setAccessible(true);\n        }\n        return (Throwable) getError.invoke(testCase);\n    } catch (Exception e) {\n        log.warn(\"error receiving exception\", e);\n    }\n    return null;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1584185773,"creation_date":1584185773,"answer_id":60682286,"question_id":42542557,"body_markdown":"The problem with the work around suggested by Frank Escobar:\r\n\r\nBy using reflection to reach into a frameworks internals you&#39;re depending on implementation details. This is a bad practice, when ever the framework changes its implementation your code may break as you will observe in Cucumber v5.0.0.\r\n\r\nHooks in Cucumber are designed to manipulate the test execution context before and after a scenario. They&#39;re not made to report on the test execution itself. Reporting is cross cutting concern and best managed by using the plugin system.\r\n\r\nFor example:\r\n\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport io.cucumber.plugin.ConcurrentEventListener;\r\nimport io.cucumber.plugin.event.EventPublisher;\r\nimport io.cucumber.plugin.event.Result;\r\nimport io.cucumber.plugin.event.Status;\r\nimport io.cucumber.plugin.event.TestCase;\r\nimport io.cucumber.plugin.event.TestCaseFinished;\r\n\r\npublic class MyTestListener implements ConcurrentEventListener {\r\n    @Override\r\n    public void setEventPublisher(EventPublisher publisher) {\r\n        publisher.registerHandlerFor(TestCaseFinished.class, this::handleTestCaseFinished);\r\n    }\r\n\r\n    private void handleTestCaseFinished(TestCaseFinished event) {\r\n        TestCase testCase = event.getTestCase();\r\n        Result result = event.getResult();\r\n        Status status = result.getStatus();\r\n        Throwable error = result.getError();\r\n        String scenarioName = testCase.getName();\r\n        String id = &quot;&quot; + testCase.getUri() + testCase.getLine();\r\n        System.out.println(&quot;Testcase &quot; + id + &quot; - &quot; + status.name());\r\n    }\r\n}\r\n```\r\n\r\nWhen using JUnit 4 and TestNG you can activate this plugin using:\r\n\r\n```java\r\n@CucumberOptions(plugin=&quot;com.example.MyTestListener&quot;)\r\n```\r\n\r\nWith JUnit 5 you add it to `junit-platform.properties`:\r\n\r\n```properties\r\ncucumber.plugin=com.example.MyTestListener \r\n```\r\n\r\nOr if you are using the CLI\r\n\r\n```bash\r\n--plugin com.example.MyTestListener \r\n```\r\n","title":"How to get the exception that was thrown when a Cucumber test failed in Java?","body":"<p>The problem with the work around suggested by Frank Escobar:</p>\n\n<p>By using reflection to reach into a frameworks internals you're depending on implementation details. This is a bad practice, when ever the framework changes its implementation your code may break as you will observe in Cucumber v5.0.0.</p>\n\n<p>Hooks in Cucumber are designed to manipulate the test execution context before and after a scenario. They're not made to report on the test execution itself. Reporting is cross cutting concern and best managed by using the plugin system.</p>\n\n<p>For example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport io.cucumber.plugin.ConcurrentEventListener;\nimport io.cucumber.plugin.event.EventPublisher;\nimport io.cucumber.plugin.event.Result;\nimport io.cucumber.plugin.event.Status;\nimport io.cucumber.plugin.event.TestCase;\nimport io.cucumber.plugin.event.TestCaseFinished;\n\npublic class MyTestListener implements ConcurrentEventListener {\n    @Override\n    public void setEventPublisher(EventPublisher publisher) {\n        publisher.registerHandlerFor(TestCaseFinished.class, this::handleTestCaseFinished);\n    }\n\n    private void handleTestCaseFinished(TestCaseFinished event) {\n        TestCase testCase = event.getTestCase();\n        Result result = event.getResult();\n        Status status = result.getStatus();\n        Throwable error = result.getError();\n        String scenarioName = testCase.getName();\n        String id = \"\" + testCase.getUri() + testCase.getLine();\n        System.out.println(\"Testcase \" + id + \" - \" + status.name());\n    }\n}\n</code></pre>\n\n<p>When using JUnit 4 and TestNG you can activate this plugin using:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@CucumberOptions(plugin=\"com.example.MyTestListener\")\n</code></pre>\n\n<p>With JUnit 5 you add it to <code>junit-platform.properties</code>:</p>\n\n<pre><code>cucumber.plugin=com.example.MyTestListener \n</code></pre>\n\n<p>Or if you are using the CLI</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>--plugin com.example.MyTestListener \n</code></pre>\n"},{"tags":[],"owner":{"account_id":29335506,"reputation":1,"user_id":22475974,"display_name":"AKP"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694437106,"creation_date":1693468570,"answer_id":77013853,"question_id":42542557,"body_markdown":"It took a bit of research and trial, but I found the solution. No need to add any plugin or listeners. Just add this in your hooks class and you are good to go.\r\n\r\n    @AfterStep\r\n\tpublic void getErrors( Scenario scenario ) throws NoSuchFieldException, IllegalAccessException\r\n\t{\r\n\t\tField delegate = scenario.getClass().getDeclaredField(&quot;delegate&quot;);\r\n\t\tdelegate.setAccessible(true);\r\n\r\n\t\tTestCaseState tcs = ( TestCaseState ) delegate.get(scenario);\r\n\r\n\t\tField stepResults = tcs.getClass().getDeclaredField(&quot;stepResults&quot;);\r\n\t\tstepResults.setAccessible(true);\r\n\r\n\t\tArrayList&lt;Result&gt; results = ( ArrayList&lt;Result&gt; ) stepResults.get(tcs);\r\n\t\tfor ( Result result : results )\r\n\t\t{\r\n\t\t\tif ( result.getError() != null )\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(result.getError());\r\n                //Pass it to extent report or do anything with it\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"How to get the exception that was thrown when a Cucumber test failed in Java?","body":"<p>It took a bit of research and trial, but I found the solution. No need to add any plugin or listeners. Just add this in your hooks class and you are good to go.</p>\n<pre><code>@AfterStep\npublic void getErrors( Scenario scenario ) throws NoSuchFieldException, IllegalAccessException\n{\n    Field delegate = scenario.getClass().getDeclaredField(&quot;delegate&quot;);\n    delegate.setAccessible(true);\n\n    TestCaseState tcs = ( TestCaseState ) delegate.get(scenario);\n\n    Field stepResults = tcs.getClass().getDeclaredField(&quot;stepResults&quot;);\n    stepResults.setAccessible(true);\n\n    ArrayList&lt;Result&gt; results = ( ArrayList&lt;Result&gt; ) stepResults.get(tcs);\n    for ( Result result : results )\n    {\n        if ( result.getError() != null )\n        {\n            System.out.println(result.getError());\n            //Pass it to extent report or do anything with it\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6951255,"reputation":1031,"user_id":5333804,"accept_rate":53,"display_name":"EJS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28154,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":8,"score":11,"last_activity_date":1694437106,"creation_date":1488404283,"question_id":42542557,"body_markdown":"I can perform actions on test failure by using:\r\n\r\n    @After\r\n    public void afterTest(Scenario scenario) {\r\n        if (scenario.isFailed()) {\r\n            /*Do stuff*/\r\n        }\r\n    }\r\n\r\nHowever some of the actions I need to perform depend on the Exception that was thrown and in what context it was thrown. Is there a way to get the Throwable that caused the test to fail? For example in JUnit I would do this by extending TestWatcher and add a rule to my tests:\r\n\r\n    @Override\r\n    protected void failed(Throwable e, Description description) {\r\n        /*Do stuff with e*/\r\n    }\r\n\r\nHowever the cucumber-junit iplementation does not allow the use of rules, so this solution would not work with Cucumber.\r\n\r\nI don&#39;t think I need to explain why accessing a thrown exception on test failure would be useful, however I will still provide an Example:\r\n\r\nMy test environment is not always stable, so my tests might fail unexpectedly at any moment (there&#39;s no specific place I can try to catch the exception since it could occur at any time). When this happens I need the test to reschedule for another attempt, and log the incident so that we can get some good statistical data on the environment instability (when, how frequent, how long etc.)\r\n","title":"How to get the exception that was thrown when a Cucumber test failed in Java?","body":"<p>I can perform actions on test failure by using:</p>\n\n<pre><code>@After\npublic void afterTest(Scenario scenario) {\n    if (scenario.isFailed()) {\n        /*Do stuff*/\n    }\n}\n</code></pre>\n\n<p>However some of the actions I need to perform depend on the Exception that was thrown and in what context it was thrown. Is there a way to get the Throwable that caused the test to fail? For example in JUnit I would do this by extending TestWatcher and add a rule to my tests:</p>\n\n<pre><code>@Override\nprotected void failed(Throwable e, Description description) {\n    /*Do stuff with e*/\n}\n</code></pre>\n\n<p>However the cucumber-junit iplementation does not allow the use of rules, so this solution would not work with Cucumber.</p>\n\n<p>I don't think I need to explain why accessing a thrown exception on test failure would be useful, however I will still provide an Example:</p>\n\n<p>My test environment is not always stable, so my tests might fail unexpectedly at any moment (there's no specific place I can try to catch the exception since it could occur at any time). When this happens I need the test to reschedule for another attempt, and log the incident so that we can get some good statistical data on the environment instability (when, how frequent, how long etc.)</p>\n"},{"tags":["java","sharepoint","sharepoint-2010","lotus-notes","lotusscript"],"comments":[{"owner":{"account_id":3341971,"reputation":1386,"user_id":2808054,"accept_rate":50,"display_name":"user2808054"},"score":1,"creation_date":1401362167,"post_id":23926638,"comment_id":36859074,"body_markdown":"Hi- a bit of clarification re the programming:  Is it that you can export everything programatticaly, but are having trouble specifically with Rich Text fields ?","body":"Hi- a bit of clarification re the programming:  Is it that you can export everything programatticaly, but are having trouble specifically with Rich Text fields ?"},{"owner":{"account_id":1254000,"reputation":874,"user_id":1213859,"accept_rate":69,"display_name":"Ramkumar"},"score":0,"creation_date":1401870730,"post_id":23926638,"comment_id":37047430,"body_markdown":"Yes, except Rich text Field. All the other item I just considered as a Text field. While importing I parsed it.","body":"Yes, except Rich text Field. All the other item I just considered as a Text field. While importing I parsed it."}],"answers":[{"tags":[],"owner":{"account_id":1246258,"reputation":2770,"user_id":1207647,"accept_rate":75,"display_name":"Karl-Henry Martinsson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1401724759,"creation_date":1401724759,"answer_id":23998662,"question_id":23926638,"body_markdown":"Yes, you can export Rich Text programatically. Depending on how much fidelity you need, there are different solutions.\r\nIf you only want to send the contents of the rich text (the actual text) and possibly any attachments/embedded images, then I wrote a tool a few years ago that does exactly that:\r\nhttp://www.texasswede.com/websites/texasswede.nsf/Page/Notes%20XML%20Exporter\r\nSo if I can do it, you can probably do the same. :-)\r\n\r\nIf you want to export the full rich text content of the field, I would take a look at MidasLSX from Genii Software. According to Ben&#39;s site it can export whold Notes databases to Sharepoint: http://www.geniisoft.com/showcase.nsf/archive/20130724-1251) \r\n","title":"How to migrate Lotus notes documents to sharepoint 2010 list?","body":"<p>Yes, you can export Rich Text programatically. Depending on how much fidelity you need, there are different solutions.\nIf you only want to send the contents of the rich text (the actual text) and possibly any attachments/embedded images, then I wrote a tool a few years ago that does exactly that:\n<a href=\"http://www.texasswede.com/websites/texasswede.nsf/Page/Notes%20XML%20Exporter\" rel=\"nofollow\">http://www.texasswede.com/websites/texasswede.nsf/Page/Notes%20XML%20Exporter</a>\nSo if I can do it, you can probably do the same. :-)</p>\n\n<p>If you want to export the full rich text content of the field, I would take a look at MidasLSX from Genii Software. According to Ben's site it can export whold Notes databases to Sharepoint: <a href=\"http://www.geniisoft.com/showcase.nsf/archive/20130724-1251\" rel=\"nofollow\">http://www.geniisoft.com/showcase.nsf/archive/20130724-1251</a>) </p>\n"}],"owner":{"account_id":1254000,"reputation":874,"user_id":1213859,"accept_rate":69,"display_name":"Ramkumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694437049,"creation_date":1401342985,"question_id":23926638,"body_markdown":"Is it possible to write code in java or Lotus script or any other programming language to migrate LN documents to sharepoint list?\r\n\r\nI have a Lotus notes database, we are in plan to migrate from lotus notes to sharepoint. I have completed the design and workflow. \r\n\r\nI can migrate fields except Rich Text Item. I just moved the documents to excel and read from c# I can put it into list as item. Please help me is there any easy way? \r\n\r\nand\r\n\r\nFor data migration, I do not find any helpful link. In all blogs and websites, they recommended to use Quest, avepoint and etc.,\r\n\r\nBut I do not want to purchase any third party software. Please let me know, is there any free software is available? \r\n\r\nIMPORTANT thing is, Can we do it in programmatically?\r\n\r\n\r\n\r\n ","title":"How to migrate Lotus notes documents to sharepoint 2010 list?","body":"<p>Is it possible to write code in java or Lotus script or any other programming language to migrate LN documents to sharepoint list?</p>\n\n<p>I have a Lotus notes database, we are in plan to migrate from lotus notes to sharepoint. I have completed the design and workflow. </p>\n\n<p>I can migrate fields except Rich Text Item. I just moved the documents to excel and read from c# I can put it into list as item. Please help me is there any easy way? </p>\n\n<p>and</p>\n\n<p>For data migration, I do not find any helpful link. In all blogs and websites, they recommended to use Quest, avepoint and etc.,</p>\n\n<p>But I do not want to purchase any third party software. Please let me know, is there any free software is available? </p>\n\n<p>IMPORTANT thing is, Can we do it in programmatically?</p>\n"},{"tags":["java","ssl-certificate","stomp","spring-websocket"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689594313,"post_id":76691016,"comment_id":135230826,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76691016/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23384508,"reputation":1,"user_id":17450079,"display_name":"Johnes Camargo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689691340,"creation_date":1689367294,"answer_id":76691016,"question_id":76588766,"body_markdown":"I&#39;ve found a solution.\r\nFisrt of all you need to add the trust store file and key store file.\r\nHave a look here:\r\nhttps://www.baeldung.com/spring-boot-https-self-signed-certificate\r\n\r\nLoad the keystore using a special class Keystore as exampl below.\r\nWhen using SSl we need to get the instace: SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n\r\nJust remember to change this &quot;&quot;wss://&lt;yourURL&gt;:5000/websocket-server&quot; for your website url. It is not going to work if you write down &quot;localhost&quot; nor your IP address because SSL.\r\nI wrote a method as a connection and returning a session and then I do the subcribe like this: \r\n\r\n\tpublic void updateWebsocket() {\r\n\t\tStompSession session = stompConnectionTLS();\r\n\t\tsession.subscribe(&quot;/topic/messages&quot;, CLIENT_SESSION_HANDLER);\r\n\t\tsession.send(&quot;/app/process&quot;, true);\r\n\t\tsession.disconnect();\r\n\t}\r\n\r\n\r\n\tpublic StompSession stompConnectionTLS() {\r\n\r\n\t\tStompSession session = null;\r\n\r\n\t\tString websocketUrl = &quot;wss://&lt;yourURL&gt;:5000/websocket-server&quot;;\r\n\r\n\t\ttry {\r\n\r\n\t\t\tString trustStoreFile = &quot;/Path/cert.jks&quot;;\r\n\t\t\tString trustStorePassword = &quot;Password&quot;;\r\n\t\t\tString keyStoreFile = &quot;/Path/keystore.p12&quot;;\r\n\t\t\tString keyStorePassword = &quot;Password&quot;;\r\n\r\n\t\t\t// Load the trust store\r\n\t\t\tKeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n\t\t\ttrustStore.load(new FileInputStream(trustStoreFile), trustStorePassword.toCharArray());\r\n\t\t\tTrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n\t\t\ttrustManagerFactory.init(trustStore);\r\n\r\n\t\t\t// Load the key store\r\n\t\t\tKeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n\t\t\tkeyStore.load(new FileInputStream(keyStoreFile), keyStorePassword.toCharArray());\r\n\r\n\t\t\tSSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n\t\t\tsslContext.init(null, trustManagerFactory.getTrustManagers(), null);\r\n\r\n\t\t\tStandardWebSocketClient webSocketClient = new StandardWebSocketClient();\r\n\t\t\twebSocketClient.setUserProperties(Collections.singletonMap(&quot;org.apache.tomcat.websocket.SSL_CONTEXT&quot;, sslContext));\r\n\r\n\t\t\tWebSocketStompClient stompClient = new WebSocketStompClient(webSocketClient);\r\n\t\t\tstompClient.setMessageConverter(new MappingJackson2MessageConverter());\r\n\r\n\t\t\tsession = stompClient.connectAsync(websocketUrl, CLIENTSESSIONHANDLER).get();\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\r\n\t\t}\r\n\r\n\t\treturn session;\r\n\t}","title":"How to make spring boot websocket client works with SSL/TLS?","body":"<p>I've found a solution.\nFisrt of all you need to add the trust store file and key store file.\nHave a look here:\n<a href=\"https://www.baeldung.com/spring-boot-https-self-signed-certificate\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-https-self-signed-certificate</a></p>\n<p>Load the keystore using a special class Keystore as exampl below.\nWhen using SSl we need to get the instace: SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);</p>\n<p>Just remember to change this &quot;&quot;wss://:5000/websocket-server&quot; for your website url. It is not going to work if you write down &quot;localhost&quot; nor your IP address because SSL.\nI wrote a method as a connection and returning a session and then I do the subcribe like this:</p>\n<pre><code>public void updateWebsocket() {\n    StompSession session = stompConnectionTLS();\n    session.subscribe(&quot;/topic/messages&quot;, CLIENT_SESSION_HANDLER);\n    session.send(&quot;/app/process&quot;, true);\n    session.disconnect();\n}\n\n\npublic StompSession stompConnectionTLS() {\n\n    StompSession session = null;\n\n    String websocketUrl = &quot;wss://&lt;yourURL&gt;:5000/websocket-server&quot;;\n\n    try {\n\n        String trustStoreFile = &quot;/Path/cert.jks&quot;;\n        String trustStorePassword = &quot;Password&quot;;\n        String keyStoreFile = &quot;/Path/keystore.p12&quot;;\n        String keyStorePassword = &quot;Password&quot;;\n\n        // Load the trust store\n        KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\n        trustStore.load(new FileInputStream(trustStoreFile), trustStorePassword.toCharArray());\n        TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        trustManagerFactory.init(trustStore);\n\n        // Load the key store\n        KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\n        keyStore.load(new FileInputStream(keyStoreFile), keyStorePassword.toCharArray());\n\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslContext.init(null, trustManagerFactory.getTrustManagers(), null);\n\n        StandardWebSocketClient webSocketClient = new StandardWebSocketClient();\n        webSocketClient.setUserProperties(Collections.singletonMap(&quot;org.apache.tomcat.websocket.SSL_CONTEXT&quot;, sslContext));\n\n        WebSocketStompClient stompClient = new WebSocketStompClient(webSocketClient);\n        stompClient.setMessageConverter(new MappingJackson2MessageConverter());\n\n        session = stompClient.connectAsync(websocketUrl, CLIENTSESSIONHANDLER).get();\n\n    } catch (Exception e) {\n        e.printStackTrace();\n\n    }\n\n    return session;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":23384508,"reputation":1,"user_id":17450079,"display_name":"Johnes Camargo"},"score":0,"creation_date":1694568397,"post_id":77081807,"comment_id":135907333,"body_markdown":"I&#39;ve done that too. But the problem was with the Websocket connection.","body":"I&#39;ve done that too. But the problem was with the Websocket connection."},{"owner":{"account_id":23384508,"reputation":1,"user_id":17450079,"display_name":"Johnes Camargo"},"score":1,"creation_date":1694569983,"post_id":77081807,"comment_id":135907461,"body_markdown":"When yopu change to &quot;wss&quot; the Websocket stops working for connections from java. The idea is to receive some webhook data and send them through websocket. Thanks for the tip.","body":"When yopu change to &quot;wss&quot; the Websocket stops working for connections from java. The idea is to receive some webhook data and send them through websocket. Thanks for the tip."}],"tags":[],"owner":{"account_id":14860080,"reputation":934,"user_id":10731216,"display_name":"HereAndBeyond"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694436849,"creation_date":1694436849,"answer_id":77081807,"question_id":76588766,"body_markdown":"### Enable SSL/TLS using Spring Boot application properties\r\n\r\nSSL/TLS can be enabled using the Spring Boot application properties. Once your create an SSL/TLS certificate, you should adjust your application properties file appropriately:\r\n\r\n```yaml\r\nserver:\r\n  ssl:\r\n    key-store-type: PKCS12\r\n    key-store: &#39;path/to/keystore-file.p12&#39;\r\n    key-store-password: &lt;password&gt;\r\n    key-alias: &lt;your-key-alias&gt;\r\n    enabled: true\r\n```\r\nAnd that&#39;s it! You are now allowed to connect only using `wss://` scheme instead of `ws://`. \r\n\r\nYou can read more about that here:\r\n- Last section in &quot;Spring Boot + WebSocket + OAuth 2.0 + TLS&quot;: https://medium.com/@HereAndBeyond/bf479327339f\r\n- TLS Setup in Spring: https://www.baeldung.com/spring-tls-setup","title":"How to make spring boot websocket client works with SSL/TLS?","body":"<h3>Enable SSL/TLS using Spring Boot application properties</h3>\n<p>SSL/TLS can be enabled using the Spring Boot application properties. Once your create an SSL/TLS certificate, you should adjust your application properties file appropriately:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>server:\n  ssl:\n    key-store-type: PKCS12\n    key-store: 'path/to/keystore-file.p12'\n    key-store-password: &lt;password&gt;\n    key-alias: &lt;your-key-alias&gt;\n    enabled: true\n</code></pre>\n<p>And that's it! You are now allowed to connect only using <code>wss://</code> scheme instead of <code>ws://</code>.</p>\n<p>You can read more about that here:</p>\n<ul>\n<li>Last section in &quot;Spring Boot + WebSocket + OAuth 2.0 + TLS&quot;: <a href=\"https://medium.com/@HereAndBeyond/bf479327339f\" rel=\"nofollow noreferrer\">https://medium.com/@HereAndBeyond/bf479327339f</a></li>\n<li>TLS Setup in Spring: <a href=\"https://www.baeldung.com/spring-tls-setup\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-tls-setup</a></li>\n</ul>\n"}],"owner":{"account_id":23384508,"reputation":1,"user_id":17450079,"display_name":"Johnes Camargo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":957,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76691016,"answer_count":2,"score":0,"last_activity_date":1694436849,"creation_date":1688126759,"question_id":76588766,"body_markdown":"My code works perfectly with WS: connection, but it doesn&#39;t work when I include my SSL certificate.\r\nLet me explain the cenario. When someone sends a message over the internet it reaches my webhook and my webhook sends that message to my websocket. Unfortunately, when I use SSL my java code doesn&#39;t work with SSl. The best approach I had was this messa &quot;Unable to create SSLEngine to support SSL/TLS connections&quot; EX2.\r\n\r\nEX1 - This code works fine with WS/http\r\n```\r\nprivate static WebSocketSessionHandler CLIENTONESESSIONHANDLER = new WebSocketSessionHandler();\r\n\r\n\tpublic StompSession stompConnection() {\r\n\r\n\t\tStompSession session = null;\r\n\r\n\t\ttry {\r\n\r\n\t\t\tStandardWebSocketClient client = new StandardWebSocketClient();\r\n\t\t\tWebSocketStompClient stompClient = new WebSocketStompClient(client);\r\n\t\t\tstompClient.setMessageConverter(new MappingJackson2MessageConverter());\r\n\t\t\tCompletableFuture&lt;StompSession&gt; sessionAsync = stompClient\r\n\t\t\t\t\t.connectAsync(&quot;ws://localhost:8433/websocket-server&quot;, CLIENTONESESSIONHANDLER);\r\n\r\n\t\t\tsession = sessionAsync.get();\r\n\t\t} catch (InterruptedException | ExecutionException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn session;\r\n\t}\r\n\r\n\tpublic void sendMessageToWebSocket(GenericMessageDto obj) {\r\n\t\tStompSession session = stompConnection();\r\n\t\tsession.subscribe(&quot;/topic/message&quot;, CLIENTONESESSIONHANDLER);\r\n\t\tsession.send(&quot;/app/process-message&quot;, obj);\r\n\t}\r\n\r\n\r\npublic class WebSocketSessionHandler extends StompSessionHandlerAdapter {\r\n\r\n\t@Override\r\n\tpublic Type getPayloadType(StompHeaders headers) {\r\n\t\treturn OutgoingMessage.class;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void handleFrame(StompHeaders headers, Object payload) {\r\n\t\tSystem.out.println(&quot;Received: &quot; + ((OutgoingMessage) payload).getContent());\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nEX2\r\n\r\n```\r\n\tprivate static WebSocketSessionHandler CLIENTONESESSIONHANDLER = new WebSocketSessionHandler();\r\n\r\n\tpublic StompSession stompConnection() {\r\n\r\n\t\tStompSession session = null;\r\n\r\n\t\ttry {\r\n\r\n\t\t\tString websocketUrl = &quot;wss://localhost:8443/websocket-server&quot;;\r\n\r\n\t\t\tStandardWebSocketClient client = new StandardWebSocketClient();\r\n\r\n\t\t\tMap&lt;String, Object&gt; userProperties = new HashMap&lt;&gt;();\r\n\t\t\tuserProperties.put(&quot;org.apache.tomcat.websocket.SSL_CONTEXT&quot;, SSLContext.getDefault());\r\n\t\t\tuserProperties.put(&quot;org.apache.tomcat.websocket.SSL_PROTOCOLS&quot;, SSLContext.getDefault());\r\n\t\t\tuserProperties.put(&quot;org.apache.tomcat.websocket.SSL_TRUSTSTORE&quot;, SSLContext.getDefault());\r\n\t\t\tclient.setUserProperties(userProperties);\r\n\t\t\tWebSocketContainer container = ContainerProvider.getWebSocketContainer();\r\n\t\t\tSSLContext sslContext = SSLContext.getDefault();\r\n\t\t\tSSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\r\n\r\n\t\t\tWebSocketStompClient stompClient = new WebSocketStompClient(client);\r\n\t\t\tstompClient.setMessageConverter(new MappingJackson2MessageConverter());\r\n\r\n\t\t\tsession = stompClient.connectAsync(websocketUrl, CLIENTONESESSIONHANDLER, sslSocketFactory, container, sslContext).get();\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\r\n\t\t}\r\n\r\n\t\treturn session;\r\n\t}\r\n\r\n\tpublic void sendMessageToWebSocket(GenericMessageDto dto) {\r\n\t\tStompSession session = stompConnection();\r\n\t\tsession.subscribe(&quot;/topic/message&quot;, CLIENTONESESSIONHANDLER);\r\n\t\tsession.send(&quot;/app/process-message&quot;, dto);\r\n\t}\r\n```\r\n","title":"How to make spring boot websocket client works with SSL/TLS?","body":"<p>My code works perfectly with WS: connection, but it doesn't work when I include my SSL certificate.\nLet me explain the cenario. When someone sends a message over the internet it reaches my webhook and my webhook sends that message to my websocket. Unfortunately, when I use SSL my java code doesn't work with SSl. The best approach I had was this messa &quot;Unable to create SSLEngine to support SSL/TLS connections&quot; EX2.</p>\n<p>EX1 - This code works fine with WS/http</p>\n<pre><code>private static WebSocketSessionHandler CLIENTONESESSIONHANDLER = new WebSocketSessionHandler();\n\n    public StompSession stompConnection() {\n\n        StompSession session = null;\n\n        try {\n\n            StandardWebSocketClient client = new StandardWebSocketClient();\n            WebSocketStompClient stompClient = new WebSocketStompClient(client);\n            stompClient.setMessageConverter(new MappingJackson2MessageConverter());\n            CompletableFuture&lt;StompSession&gt; sessionAsync = stompClient\n                    .connectAsync(&quot;ws://localhost:8433/websocket-server&quot;, CLIENTONESESSIONHANDLER);\n\n            session = sessionAsync.get();\n        } catch (InterruptedException | ExecutionException e) {\n            e.printStackTrace();\n        }\n        return session;\n    }\n\n    public void sendMessageToWebSocket(GenericMessageDto obj) {\n        StompSession session = stompConnection();\n        session.subscribe(&quot;/topic/message&quot;, CLIENTONESESSIONHANDLER);\n        session.send(&quot;/app/process-message&quot;, obj);\n    }\n\n\npublic class WebSocketSessionHandler extends StompSessionHandlerAdapter {\n\n    @Override\n    public Type getPayloadType(StompHeaders headers) {\n        return OutgoingMessage.class;\n    }\n\n    @Override\n    public void handleFrame(StompHeaders headers, Object payload) {\n        System.out.println(&quot;Received: &quot; + ((OutgoingMessage) payload).getContent());\n    }\n\n}\n</code></pre>\n<p>EX2</p>\n<pre><code>    private static WebSocketSessionHandler CLIENTONESESSIONHANDLER = new WebSocketSessionHandler();\n\n    public StompSession stompConnection() {\n\n        StompSession session = null;\n\n        try {\n\n            String websocketUrl = &quot;wss://localhost:8443/websocket-server&quot;;\n\n            StandardWebSocketClient client = new StandardWebSocketClient();\n\n            Map&lt;String, Object&gt; userProperties = new HashMap&lt;&gt;();\n            userProperties.put(&quot;org.apache.tomcat.websocket.SSL_CONTEXT&quot;, SSLContext.getDefault());\n            userProperties.put(&quot;org.apache.tomcat.websocket.SSL_PROTOCOLS&quot;, SSLContext.getDefault());\n            userProperties.put(&quot;org.apache.tomcat.websocket.SSL_TRUSTSTORE&quot;, SSLContext.getDefault());\n            client.setUserProperties(userProperties);\n            WebSocketContainer container = ContainerProvider.getWebSocketContainer();\n            SSLContext sslContext = SSLContext.getDefault();\n            SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\n\n            WebSocketStompClient stompClient = new WebSocketStompClient(client);\n            stompClient.setMessageConverter(new MappingJackson2MessageConverter());\n\n            session = stompClient.connectAsync(websocketUrl, CLIENTONESESSIONHANDLER, sslSocketFactory, container, sslContext).get();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n\n        }\n\n        return session;\n    }\n\n    public void sendMessageToWebSocket(GenericMessageDto dto) {\n        StompSession session = stompConnection();\n        session.subscribe(&quot;/topic/message&quot;, CLIENTONESESSIONHANDLER);\n        session.send(&quot;/app/process-message&quot;, dto);\n    }\n</code></pre>\n"},{"tags":["java","data-structures","linked-list"],"comments":[{"owner":{"account_id":8262826,"reputation":764,"user_id":6213557,"display_name":"Rishabh Dutt Sharma"},"score":0,"creation_date":1692680067,"post_id":76950164,"comment_id":135653082,"body_markdown":"If faster access is the only usecase then we can use a nested-map.\ne.g., `Map&lt;list_key, Map&lt;key, value&gt;&gt;`\n\nElaborate more if this does not solve your problem.","body":"If faster access is the only usecase then we can use a nested-map. e.g., <code>Map&lt;list_key, Map&lt;key, value&gt;&gt;</code>  Elaborate more if this does not solve your problem."},{"owner":{"account_id":5890614,"reputation":1247,"user_id":4637358,"accept_rate":68,"display_name":"1a1a11a"},"score":0,"creation_date":1692680351,"post_id":76950164,"comment_id":135653100,"body_markdown":"@RishabhDuttSharma I need ordering between elements, that&#39;s why I have N linkedlists. Do I misunderstand this?","body":"@RishabhDuttSharma I need ordering between elements, that&#39;s why I have N linkedlists. Do I misunderstand this?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1692681093,"post_id":76950164,"comment_id":135653170,"body_markdown":"Likely down-voted because your Question is so unclear. Why did you mention &quot;linkedlist&quot; rather than `List`; is there some significance related to your Question? You say &quot;map interface for lookup&quot;, but you do not explain exactly what you want to lookup nor do you explain by what criteria will you drive that search? Do you mean you want to access any one particular of your many lists? If so, what is the criteria, what would be the key in your map? And, what does &quot;N lookups&quot; mean? That same letter &quot;N&quot; was used for the count of your &quot;linkedlists&quot; —&#160;do you mean the same number? All quite confusing.","body":"Likely down-voted because your Question is so unclear. Why did you mention &quot;linkedlist&quot; rather than <code>List</code>; is there some significance related to your Question? You say &quot;map interface for lookup&quot;, but you do not explain exactly what you want to lookup nor do you explain by what criteria will you drive that search? Do you mean you want to access any one particular of your many lists? If so, what is the criteria, what would be the key in your map? And, what does &quot;N lookups&quot; mean? That same letter &quot;N&quot; was used for the count of your &quot;linkedlists&quot; — do you mean the same number? All quite confusing."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692681180,"post_id":76950164,"comment_id":135653174,"body_markdown":"A simplistic contrived example would *really* improve your Question. A stab at some code would help too.","body":"A simplistic contrived example would <i>really</i> improve your Question. A stab at some code would help too."},{"owner":{"account_id":5890614,"reputation":1247,"user_id":4637358,"accept_rate":68,"display_name":"1a1a11a"},"score":0,"creation_date":1692742205,"post_id":76950164,"comment_id":135665435,"body_markdown":"@BasilBourque This is very helpful! Thank you! I have updated the question.","body":"@BasilBourque This is very helpful! Thank you! I have updated the question."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1692743785,"post_id":76950164,"comment_id":135665607,"body_markdown":"Define &quot;better&quot;.  Be specific about your concern. Faster in CPU? More efficient with memory? Easier to read by programmers? More likely to be compatible in some way?","body":"Define &quot;better&quot;.  Be specific about your concern. Faster in CPU? More efficient with memory? Easier to read by programmers? More likely to be compatible in some way?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692743937,"post_id":76950164,"comment_id":135665621,"body_markdown":"Why would you have multiple queues if they are not somehow categorized? And, if categorized, why would you not know which queue holds which kind of items? If I have a queue for dogs, and another for cats, and a third for birds, why would I expect to find a cat in either the dog queue or the bird queue?","body":"Why would you have multiple queues if they are not somehow categorized? And, if categorized, why would you not know which queue holds which kind of items? If I have a queue for dogs, and another for cats, and a third for birds, why would I expect to find a cat in either the dog queue or the bird queue?"},{"owner":{"account_id":5890614,"reputation":1247,"user_id":4637358,"accept_rate":68,"display_name":"1a1a11a"},"score":0,"creation_date":1692748339,"post_id":76950164,"comment_id":135666003,"body_markdown":"Thank you! @BasilBourque Better in terms of fewer hash lookups. The categorization is not part of the key. I guess I can have a map storing the categorization, which will limit the lookup to two, but it means that I have to waste some memory...","body":"Thank you! @BasilBourque Better in terms of fewer hash lookups. The categorization is not part of the key. I guess I can have a map storing the categorization, which will limit the lookup to two, but it means that I have to waste some memory..."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1692770171,"post_id":76950164,"comment_id":135667784,"body_markdown":"Why would you have multiple queues if not to segregate their contents? Answering that question is key to getting a worthy Answer for your Question.","body":"Why would you have multiple queues if not to segregate their contents? Answering that question is key to getting a worthy Answer for your Question."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692770273,"post_id":76950164,"comment_id":135667798,"body_markdown":"Also, you need to be posting these clarifications as edits to your Question rather than as Comments. Then there is a possibility of re-opening the Question.","body":"Also, you need to be posting these clarifications as edits to your Question rather than as Comments. Then there is a possibility of re-opening the Question."},{"owner":{"account_id":5890614,"reputation":1247,"user_id":4637358,"accept_rate":68,"display_name":"1a1a11a"},"score":0,"creation_date":1693010343,"post_id":76950164,"comment_id":135707856,"body_markdown":"The segregation is based on request pattern, e.g., data that has been accessed once is stored in list 1, upon the second request, the data is moved to the second list. I will update the question. Thank you!","body":"The segregation is based on request pattern, e.g., data that has been accessed once is stored in list 1, upon the second request, the data is moved to the second list. I will update the question. Thank you!"},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1693294744,"post_id":76950164,"comment_id":135738065,"body_markdown":"Is any given item ever stored in more than one `Queue`/`Map`?","body":"Is any given item ever stored in more than one <code>Queue</code>/<code>Map</code>?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1693572783,"post_id":76950164,"comment_id":135782603,"body_markdown":"Why do you keep talking about “list” and even tag the question with `[linked-list]`when there is not a single list in your example? Placing a bounty will not provide you better answers when your question is unclear.","body":"Why do you keep talking about “list” and even tag the question with <code>[linked-list]</code>when there is not a single list in your example? Placing a bounty will not provide you better answers when your question is unclear."}],"answers":[{"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1693170046,"post_id":76982661,"comment_id":135721263,"body_markdown":"The global map doesn&#39;t prioritise q1 over q2 over q3...","body":"The global map doesn&#39;t prioritise q1 over q2 over q3..."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1693204817,"post_id":76982661,"comment_id":135724135,"body_markdown":"@greybeard As far as I understand, a value is present in only one queue (the OP said that data could be &quot;moved&quot; from one queue to the other).","body":"@greybeard As far as I understand, a value is present in only one queue (the OP said that data could be &quot;moved&quot; from one queue to the other)."},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1693209150,"post_id":76982661,"comment_id":135724845,"body_markdown":"(`OP said[…]` …in a comment - I added an explicit request for clarification there.)","body":"(<code>OP said[…]</code> …in a comment - I added an explicit request for clarification there.)"}],"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693047650,"creation_date":1693047650,"answer_id":76982661,"question_id":76950164,"body_markdown":"A solution is to use a global `HashMap`:\r\n\r\n``` lang-java\r\nimport java.util.*;\r\n\r\npublic class Test\r\n{\r\n\tpublic static class MultiQueue&lt;K, V&gt;\r\n\t{\r\n\t\tprivate LinkedList&lt;V&gt;[] queues;\r\n\t\tprivate HashMap&lt;K, V&gt; map;\r\n\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tpublic MultiQueue(int n)\r\n\t\t{\r\n\t\t\tqueues = new LinkedList[n];\r\n\t\t\tfor(int i=0;i&lt;n;i++)\r\n\t\t\t\tqueues[i] = new LinkedList&lt;V&gt;();\r\n\t\t\tmap = new HashMap&lt;K, V&gt;();\r\n\t\t}\r\n\r\n\t\tpublic void add(K id, V value, int queue)\r\n\t\t{\r\n\t\t\tqueues[queue].addFirst(value);\r\n\t\t\tmap.put(id, value);\r\n\t\t}\r\n\r\n\t\tpublic V get(K id)\r\n\t\t{\r\n\t\t\treturn map.get(id);\r\n\t\t}\r\n\t}\r\n\r\n    public static void main(String[] args)\r\n    {\r\n\t\tMultiQueue&lt;Integer, String&gt; mq = new MultiQueue&lt;&gt;(2);\r\n\t\tmq.add(10, &quot;Item 10&quot;, 0); // add to first queue\r\n\t\tmq.add(20, &quot;Item 20&quot;, 1); // add to second queue\r\n\t\tSystem.out.println(mq.get(10));\r\n\t\tSystem.out.println(mq.get(20));\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n``` lang-none\r\nItem 10\r\nItem 20\r\n```\r\n","title":"how to implement a map with multiple lists in Java","body":"<p>A solution is to use a global <code>HashMap</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class Test\n{\n    public static class MultiQueue&lt;K, V&gt;\n    {\n        private LinkedList&lt;V&gt;[] queues;\n        private HashMap&lt;K, V&gt; map;\n\n        @SuppressWarnings(&quot;unchecked&quot;)\n        public MultiQueue(int n)\n        {\n            queues = new LinkedList[n];\n            for(int i=0;i&lt;n;i++)\n                queues[i] = new LinkedList&lt;V&gt;();\n            map = new HashMap&lt;K, V&gt;();\n        }\n\n        public void add(K id, V value, int queue)\n        {\n            queues[queue].addFirst(value);\n            map.put(id, value);\n        }\n\n        public V get(K id)\n        {\n            return map.get(id);\n        }\n    }\n\n    public static void main(String[] args)\n    {\n        MultiQueue&lt;Integer, String&gt; mq = new MultiQueue&lt;&gt;(2);\n        mq.add(10, &quot;Item 10&quot;, 0); // add to first queue\n        mq.add(20, &quot;Item 20&quot;, 1); // add to second queue\n        System.out.println(mq.get(10));\n        System.out.println(mq.get(20));\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Item 10\nItem 20\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1693205211,"post_id":76988036,"comment_id":135724195,"body_markdown":"The OP said: &quot;I guess I can have a map storing the categorization, which will limit the lookup to two, but it means that I have to waste some memory&quot;.","body":"The OP said: &quot;I guess I can have a map storing the categorization, which will limit the lookup to two, but it means that I have to waste some memory&quot;."},{"owner":{"account_id":24224809,"reputation":363,"user_id":18179479,"display_name":"Mircea Sirghi"},"score":0,"creation_date":1693215384,"post_id":76988036,"comment_id":135726007,"body_markdown":"The only other option I can imagine: List.of(q1,q2,q3,q4).stream().filter(q -&gt; q.contains(id)).findFirst()","body":"The only other option I can imagine: List.of(q1,q2,q3,q4).stream().filter(q -&gt; q.contains(id)).findFirst()"}],"tags":[],"owner":{"account_id":24224809,"reputation":363,"user_id":18179479,"display_name":"Mircea Sirghi"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693249902,"creation_date":1693154358,"answer_id":76988036,"question_id":76950164,"body_markdown":"You need one more collection in your code that maps id to collection it was inserted into: \r\n\r\n\r\n    Map&lt;Id, Value&gt; q1 = new LinkedHashMap&lt;&gt;();\r\n    Map&lt;Id, Value&gt; q2 = new LinkedHashMap&lt;&gt;();\r\n    Map&lt;Id, Value&gt; q3 = new LinkedHashMap&lt;&gt;();\r\n    Map&lt;Id, Value&gt; q4 = new LinkedHashMap&lt;&gt;();\r\n    Map&lt;Id, Map&lt;Id, Value&gt;&gt; mainQueue = new LinkedHashMap&lt;&gt;();\r\n\r\nWhen you map an id: \r\n\r\n    q1.put(id, value);\r\n    mainQueue.put(id, q1);\r\n\r\n// to read a key, do the following\r\n\r\n    if(mainQueue.contains(id)){\r\n        return mainQueue.get(id).get(id);\r\n    }\r\n\r\nAnother approach: \r\n\r\n    return List.of(q1,q2,q3,q4).stream().filter(q -&gt; q.contains(id)).findFirst().get().get(id);","title":"how to implement a map with multiple lists in Java","body":"<p>You need one more collection in your code that maps id to collection it was inserted into:</p>\n<pre><code>Map&lt;Id, Value&gt; q1 = new LinkedHashMap&lt;&gt;();\nMap&lt;Id, Value&gt; q2 = new LinkedHashMap&lt;&gt;();\nMap&lt;Id, Value&gt; q3 = new LinkedHashMap&lt;&gt;();\nMap&lt;Id, Value&gt; q4 = new LinkedHashMap&lt;&gt;();\nMap&lt;Id, Map&lt;Id, Value&gt;&gt; mainQueue = new LinkedHashMap&lt;&gt;();\n</code></pre>\n<p>When you map an id:</p>\n<pre><code>q1.put(id, value);\nmainQueue.put(id, q1);\n</code></pre>\n<p>// to read a key, do the following</p>\n<pre><code>if(mainQueue.contains(id)){\n    return mainQueue.get(id).get(id);\n}\n</code></pre>\n<p>Another approach:</p>\n<pre><code>return List.of(q1,q2,q3,q4).stream().filter(q -&gt; q.contains(id)).findFirst().get().get(id);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693552324,"creation_date":1693552324,"answer_id":77021177,"question_id":76950164,"body_markdown":"Given the `LFU (Least Frequently Used) cache-like behavior described, the following design can achieve your goals:\r\n\r\n - Doubly Linked List: Since we need to move items around frequently\r\n   (especially between different frequency queues), a doubly linked list\r\n   can serve this purpose well.\r\n - HashMap for Direct Access: This hashmap will be responsible for\r\n   direct access to a specific node given a key (which means efficient\r\n   lookups). The value stored in this hashmap would be the reference to\r\n   the node in the doubly linked list.\r\n - Array of LinkedHashMaps: To maintain the frequency queues (based on\r\n   how many times the data has been accessed), you can use an array of\r\n   LinkedHashMaps (or doubly linked lists if you want to manually manage\r\n   the ordering). Each LinkedHashMap will maintain the order of\r\n   insertion which represents the frequency of usage\r\n\r\n \r\n\r\n        import java.util.*;\r\n        \r\n        public class test {\r\n        \r\n        \r\n        \tpublic static class LFUQueue&lt;K, V&gt; {\r\n        \r\n        \t\tprivate Map&lt;K, Node&lt;K, V&gt;&gt; lookupMap;\r\n        \t\tprivate Map&lt;Integer, LinkedHashMap&lt;K, Node&lt;K, V&gt;&gt;&gt; frequencyMap;\r\n        \r\n        \t\tpublic LFUQueue(int maxFrequency) {\r\n        \t\t\tlookupMap = new HashMap&lt;&gt;();\r\n        \t\t\tfrequencyMap = new HashMap&lt;&gt;();\r\n        \r\n        \t\t\tfor (int i = 0; i &lt;= maxFrequency; i++) {\r\n        \t\t\t\tfrequencyMap.put(i, new LinkedHashMap&lt;&gt;());\r\n        \t\t\t}\r\n        \t\t}\r\n        \r\n        \t\tpublic V get(K key) {\r\n        \t\t\tif (!lookupMap.containsKey(key)) {\r\n        \t\t\t\treturn null;\r\n        \t\t\t}\r\n        \t\t\tNode&lt;K, V&gt; node = lookupMap.get(key);\r\n        \r\n        \t\t\t// Remove from current frequency list\r\n        \t\t\tfrequencyMap.get(node.frequency).remove(key);\r\n        \r\n        \t\t\t// Increase frequency\r\n        \t\t\tnode.frequency++;\r\n        \t\t\tif (!frequencyMap.containsKey(node.frequency)) {\r\n        \t\t\t\tfrequencyMap.put(node.frequency, new LinkedHashMap&lt;&gt;());\r\n        \t\t\t}\r\n        \r\n        \t\t\t// Add to next frequency list\r\n        \t\t\tfrequencyMap.get(node.frequency).put(key, node);\r\n        \r\n        \t\t\treturn node.value;\r\n        \t\t}\r\n        \r\n        \t\tpublic void put(K key, V value) {\r\n        \t\t\tif (lookupMap.containsKey(key)) {\r\n        \t\t\t\t// Update value and frequency\r\n        \t\t\t\tNode&lt;K, V&gt; node = lookupMap.get(key);\r\n        \t\t\t\tnode.value = value;\r\n        \t\t\t\tget(key); // This will handle frequency update as well\r\n        \t\t\t} else {\r\n        \t\t\t\tNode&lt;K, V&gt; newNode = new Node&lt;&gt;(key, value);\r\n        \t\t\t\tlookupMap.put(key, newNode);\r\n        \t\t\t\tfrequencyMap.get(0).put(key, newNode);\r\n        \t\t\t}\r\n        \t\t}\r\n        \r\n        \t\tpublic int getFrequency(K key) {\r\n        \t\t\tNode&lt;K, V&gt; node = lookupMap.get(key);\r\n        \t\t\treturn node != null ? node.frequency : -1;\r\n        \t\t}\r\n        \t}\r\n        \r\n        \tstatic class Node&lt;K, V&gt; {\r\n        \t\tK key;\r\n        \t\tV value;\r\n        \t\tint frequency;\r\n        \t\tNode&lt;K, V&gt; prev;\r\n        \t\tNode&lt;K, V&gt; next;\r\n        \r\n        \t\tNode(K key, V value) {\r\n        \t\t\tthis.key = key;\r\n        \t\t\tthis.value = value;\r\n        \t\t\tthis.frequency = 0; // start at 0 access\r\n        \t\t}\r\n        \r\n        \t}\r\n        \tpublic static void main(String[] args) {\r\n        \t\tLFUQueue&lt;String, String&gt; lfu = new LFUQueue&lt;&gt;(5);\r\n        \r\n        \t\t// Add some elements\r\n        \t\tlfu.put(&quot;one&quot;, &quot;First Value&quot;);\r\n        \t\tlfu.put(&quot;two&quot;, &quot;Second Value&quot;);\r\n        \t\tlfu.put(&quot;three&quot;, &quot;Third Value&quot;);\r\n        \r\n        \t\t// Access an element to increase its frequency\r\n        \t\tSystem.out.println(&quot;Accessing &#39;one&#39;: &quot; + lfu.get(&quot;one&quot;));\r\n        \t\tSystem.out.println(&quot;Accessing &#39;one&#39;: &quot; + lfu.get(&quot;one&quot;));\r\n        \r\n        \t\t// Access another element\r\n        \t\tSystem.out.println(&quot;Accessing &#39;two&#39;: &quot; + lfu.get(&quot;two&quot;));\r\n        \r\n        \t\t// Insert new element\r\n        \t\tlfu.put(&quot;four&quot;, &quot;Fourth Value&quot;);\r\n        \r\n        \t\t// Access &#39;four&#39; multiple times\r\n        \t\tSystem.out.println(&quot;Accessing &#39;four&#39;: &quot; + lfu.get(&quot;four&quot;));\r\n        \t\tSystem.out.println(&quot;Accessing &#39;four&#39;: &quot; + lfu.get(&quot;four&quot;));\r\n        \t\tSystem.out.println(&quot;Accessing &#39;four&#39;: &quot; + lfu.get(&quot;four&quot;));\r\n        \r\n        \t\t// Verify the frequency behavior\r\n        \t\t// Assuming a simple method to get frequency is implemented in LFUQueue\r\n        \t\tSystem.out.println(&quot;&#39;one&#39; frequency: &quot; + lfu.getFrequency(&quot;one&quot;));\r\n        \t\tSystem.out.println(&quot;&#39;two&#39; frequency: &quot; + lfu.getFrequency(&quot;two&quot;));\r\n        \t\tSystem.out.println(&quot;&#39;four&#39; frequency: &quot; + lfu.getFrequency(&quot;four&quot;));\r\n        \t}\r\n        }\r\n  \r\n\r\nThe result:\r\n[![enter image description here][1]][1]\r\n  \r\n Given the LFU (Least Frequently Used) cache-like behavior described, the following design can achieve your goals:\r\n    \r\n Doubly Linked List: Since we need to move items around frequently (especially between different frequency queues), a doubly linked list can serve this purpose well.\r\n    \r\n HashMap for Direct Access: This hashmap will be responsible for direct access to a specific node given a key (which means efficient lookups). The value stored in this hashmap would be the reference to the node in the doubly linked list.\r\n    \r\n Array of LinkedHashMaps: To maintain the frequency queues (based on how many times the data has been accessed), you can use an array of LinkedHashMaps (or doubly linked lists if you want to manually manage the ordering). Each LinkedHashMap will maintain the order of insertion which represents the frequency of usage.\r\n    \r\n\r\nThe lookupMap allows you to get direct access to any key in O(1) time.\r\n\r\nWhenever you access a key (using the get method), the frequency of that key is increased. The node representing this key-value pair is moved from its current frequency list to the next one (indicating an increase in access frequency).\r\n\r\nThe frequencyMap allows you to efficiently get items based on their frequency and maintain them in the order they were accessed (or inserted).\r\n\r\nThis solution ensures that:\r\n\r\n - Insertion is O(1).\r\n - Lookup is O(1).\r\n - Frequency update (due to access) is O(1).\r\n - Deletion (if implemented) would also be O(1).\r\n Given the structure of the `LFUQueue` you provided, let&#39;s break down the time complexity of each operation:\r\n\r\n1. **Insertion**:\r\n    - Checking if a key exists in `lookupMap`: O(1) due to HashMap&#39;s average time complexity for lookup.\r\n    - Inserting into `lookupMap`: O(1) average case.\r\n    - Inserting into the corresponding `frequencyMap`: O(1) average case.\r\n\r\n   **Conclusion**: Overall, the insertion is O(1) on average. However, remember that HashMap can have a worst-case time complexity of O(n) when a hash collision occurs. In practice, with a good hashing mechanism and resizing strategy, it rarely happens.\r\n\r\n2. **Lookup**:\r\n    - Checking and retrieving a key from `lookupMap`: O(1) on average.\r\n\r\n   **Conclusion**: The lookup is O(1) on average.\r\n\r\n3. **Frequency update (due to access)**:\r\n    - Retrieving a node from `lookupMap`: O(1) on average.\r\n    - Removing the node from its current frequency list in `frequencyMap`: O(1) because we&#39;re using a LinkedHashMap and we have direct access to the node.\r\n    - Inserting the node into the next frequency list in `frequencyMap`: O(1) on average.\r\n\r\n   **Conclusion**: Frequency update is O(1) on average.\r\n\r\n4. **Deletion (if implemented)**:\r\n    - Retrieving a node from `lookupMap`: O(1) on average.\r\n    - Removing the node from its current frequency list in `frequencyMap`: O(1) for LinkedHashMap.\r\n    - Removing the node from `lookupMap`: O(1) on average.\r\n\r\n   **Conclusion**: Deletion would be O(1) on average.\r\n\r\nIt&#39;s worth noting that the worst-case time complexity for many of the HashMap and LinkedHashMap operations is O(n), but this worst-case scenario is quite rare in practice with a good hash function and is usually averaged out over time to provide consistent O(1) performance. However, if you have concerns about worst-case performance (e.g., due to potential adversarial input), you may want to consider using a data structure with guaranteed worst-case O(1) behavior or take steps to mitigate potential collisions in your hash function.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZKkKB.png","title":"how to implement a map with multiple lists in Java","body":"<p>Given the `LFU (Least Frequently Used) cache-like behavior described, the following design can achieve your goals:</p>\n<ul>\n<li><p>Doubly Linked List: Since we need to move items around frequently\n(especially between different frequency queues), a doubly linked list\ncan serve this purpose well.</p>\n</li>\n<li><p>HashMap for Direct Access: This hashmap will be responsible for\ndirect access to a specific node given a key (which means efficient\nlookups). The value stored in this hashmap would be the reference to\nthe node in the doubly linked list.</p>\n</li>\n<li><p>Array of LinkedHashMaps: To maintain the frequency queues (based on\nhow many times the data has been accessed), you can use an array of\nLinkedHashMaps (or doubly linked lists if you want to manually manage\nthe ordering). Each LinkedHashMap will maintain the order of\ninsertion which represents the frequency of usage</p>\n<pre><code> import java.util.*;\n\n public class test {\n\n\n     public static class LFUQueue&lt;K, V&gt; {\n\n         private Map&lt;K, Node&lt;K, V&gt;&gt; lookupMap;\n         private Map&lt;Integer, LinkedHashMap&lt;K, Node&lt;K, V&gt;&gt;&gt; frequencyMap;\n\n         public LFUQueue(int maxFrequency) {\n             lookupMap = new HashMap&lt;&gt;();\n             frequencyMap = new HashMap&lt;&gt;();\n\n             for (int i = 0; i &lt;= maxFrequency; i++) {\n                 frequencyMap.put(i, new LinkedHashMap&lt;&gt;());\n             }\n         }\n\n         public V get(K key) {\n             if (!lookupMap.containsKey(key)) {\n                 return null;\n             }\n             Node&lt;K, V&gt; node = lookupMap.get(key);\n\n             // Remove from current frequency list\n             frequencyMap.get(node.frequency).remove(key);\n\n             // Increase frequency\n             node.frequency++;\n             if (!frequencyMap.containsKey(node.frequency)) {\n                 frequencyMap.put(node.frequency, new LinkedHashMap&lt;&gt;());\n             }\n\n             // Add to next frequency list\n             frequencyMap.get(node.frequency).put(key, node);\n\n             return node.value;\n         }\n\n         public void put(K key, V value) {\n             if (lookupMap.containsKey(key)) {\n                 // Update value and frequency\n                 Node&lt;K, V&gt; node = lookupMap.get(key);\n                 node.value = value;\n                 get(key); // This will handle frequency update as well\n             } else {\n                 Node&lt;K, V&gt; newNode = new Node&lt;&gt;(key, value);\n                 lookupMap.put(key, newNode);\n                 frequencyMap.get(0).put(key, newNode);\n             }\n         }\n\n         public int getFrequency(K key) {\n             Node&lt;K, V&gt; node = lookupMap.get(key);\n             return node != null ? node.frequency : -1;\n         }\n     }\n\n     static class Node&lt;K, V&gt; {\n         K key;\n         V value;\n         int frequency;\n         Node&lt;K, V&gt; prev;\n         Node&lt;K, V&gt; next;\n\n         Node(K key, V value) {\n             this.key = key;\n             this.value = value;\n             this.frequency = 0; // start at 0 access\n         }\n\n     }\n     public static void main(String[] args) {\n         LFUQueue&lt;String, String&gt; lfu = new LFUQueue&lt;&gt;(5);\n\n         // Add some elements\n         lfu.put(&quot;one&quot;, &quot;First Value&quot;);\n         lfu.put(&quot;two&quot;, &quot;Second Value&quot;);\n         lfu.put(&quot;three&quot;, &quot;Third Value&quot;);\n\n         // Access an element to increase its frequency\n         System.out.println(&quot;Accessing 'one': &quot; + lfu.get(&quot;one&quot;));\n         System.out.println(&quot;Accessing 'one': &quot; + lfu.get(&quot;one&quot;));\n\n         // Access another element\n         System.out.println(&quot;Accessing 'two': &quot; + lfu.get(&quot;two&quot;));\n\n         // Insert new element\n         lfu.put(&quot;four&quot;, &quot;Fourth Value&quot;);\n\n         // Access 'four' multiple times\n         System.out.println(&quot;Accessing 'four': &quot; + lfu.get(&quot;four&quot;));\n         System.out.println(&quot;Accessing 'four': &quot; + lfu.get(&quot;four&quot;));\n         System.out.println(&quot;Accessing 'four': &quot; + lfu.get(&quot;four&quot;));\n\n         // Verify the frequency behavior\n         // Assuming a simple method to get frequency is implemented in LFUQueue\n         System.out.println(&quot;'one' frequency: &quot; + lfu.getFrequency(&quot;one&quot;));\n         System.out.println(&quot;'two' frequency: &quot; + lfu.getFrequency(&quot;two&quot;));\n         System.out.println(&quot;'four' frequency: &quot; + lfu.getFrequency(&quot;four&quot;));\n     }\n }\n</code></pre>\n</li>\n</ul>\n<p>The result:\n<a href=\"https://i.stack.imgur.com/ZKkKB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZKkKB.png\" alt=\"enter image description here\" /></a></p>\n<p>Given the LFU (Least Frequently Used) cache-like behavior described, the following design can achieve your goals:</p>\n<p>Doubly Linked List: Since we need to move items around frequently (especially between different frequency queues), a doubly linked list can serve this purpose well.</p>\n<p>HashMap for Direct Access: This hashmap will be responsible for direct access to a specific node given a key (which means efficient lookups). The value stored in this hashmap would be the reference to the node in the doubly linked list.</p>\n<p>Array of LinkedHashMaps: To maintain the frequency queues (based on how many times the data has been accessed), you can use an array of LinkedHashMaps (or doubly linked lists if you want to manually manage the ordering). Each LinkedHashMap will maintain the order of insertion which represents the frequency of usage.</p>\n<p>The lookupMap allows you to get direct access to any key in O(1) time.</p>\n<p>Whenever you access a key (using the get method), the frequency of that key is increased. The node representing this key-value pair is moved from its current frequency list to the next one (indicating an increase in access frequency).</p>\n<p>The frequencyMap allows you to efficiently get items based on their frequency and maintain them in the order they were accessed (or inserted).</p>\n<p>This solution ensures that:</p>\n<ul>\n<li>Insertion is O(1).</li>\n<li>Lookup is O(1).</li>\n<li>Frequency update (due to access) is O(1).</li>\n<li>Deletion (if implemented) would also be O(1).\nGiven the structure of the <code>LFUQueue</code> you provided, let's break down the time complexity of each operation:</li>\n</ul>\n<ol>\n<li><p><strong>Insertion</strong>:</p>\n<ul>\n<li>Checking if a key exists in <code>lookupMap</code>: O(1) due to HashMap's average time complexity for lookup.</li>\n<li>Inserting into <code>lookupMap</code>: O(1) average case.</li>\n<li>Inserting into the corresponding <code>frequencyMap</code>: O(1) average case.</li>\n</ul>\n<p><strong>Conclusion</strong>: Overall, the insertion is O(1) on average. However, remember that HashMap can have a worst-case time complexity of O(n) when a hash collision occurs. In practice, with a good hashing mechanism and resizing strategy, it rarely happens.</p>\n</li>\n<li><p><strong>Lookup</strong>:</p>\n<ul>\n<li>Checking and retrieving a key from <code>lookupMap</code>: O(1) on average.</li>\n</ul>\n<p><strong>Conclusion</strong>: The lookup is O(1) on average.</p>\n</li>\n<li><p><strong>Frequency update (due to access)</strong>:</p>\n<ul>\n<li>Retrieving a node from <code>lookupMap</code>: O(1) on average.</li>\n<li>Removing the node from its current frequency list in <code>frequencyMap</code>: O(1) because we're using a LinkedHashMap and we have direct access to the node.</li>\n<li>Inserting the node into the next frequency list in <code>frequencyMap</code>: O(1) on average.</li>\n</ul>\n<p><strong>Conclusion</strong>: Frequency update is O(1) on average.</p>\n</li>\n<li><p><strong>Deletion (if implemented)</strong>:</p>\n<ul>\n<li>Retrieving a node from <code>lookupMap</code>: O(1) on average.</li>\n<li>Removing the node from its current frequency list in <code>frequencyMap</code>: O(1) for LinkedHashMap.</li>\n<li>Removing the node from <code>lookupMap</code>: O(1) on average.</li>\n</ul>\n<p><strong>Conclusion</strong>: Deletion would be O(1) on average.</p>\n</li>\n</ol>\n<p>It's worth noting that the worst-case time complexity for many of the HashMap and LinkedHashMap operations is O(n), but this worst-case scenario is quite rare in practice with a good hash function and is usually averaged out over time to provide consistent O(1) performance. However, if you have concerns about worst-case performance (e.g., due to potential adversarial input), you may want to consider using a data structure with guaranteed worst-case O(1) behavior or take steps to mitigate potential collisions in your hash function.</p>\n"},{"tags":[],"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694436795,"creation_date":1693587985,"answer_id":77024908,"question_id":76950164,"body_markdown":"You haven&#39;t specified whether or not any given `Id` can occur in more than one FIFO.\r\n\r\nAssuming strict FIFO `add()`/`remove()` &amp; somewhat frequent lookups, cases:\r\n\r\n0. Any given ID can occur in one queue out of *N*, at most - use  \r\n   - a single Map&lt;Id, Value&gt; (I&#39;d choose `java.util.HashMap&lt;&gt;`)\r\n   - *N* `Queue&lt;Id&gt;`s  \r\n    insert into queue as required, putting in map, too  \r\n    when removing from last queue/for good, remove from map  \r\n    when removing from any other queue and reinserting, the mapping doesn&#39;t need to be changed  \r\n0. Any given ID can occur in 0 to *N* queues  \r\n  I didn&#39;t come up with anything better than the `Map&lt;Id, &quot;LinkedMap&quot;&lt;Id, Value&gt;&gt;` [Rishabh Dutt Sharma\r\n](/questions/76950164/map-with-multiple-lists#comment135653082_76950164) and [you yourself](/questions/76950164/map-with-multiple-lists#comment135666003_76950164)\r\nmention in comments.  \r\n\r\nDrawing heavily on [Shila Mosammami&#39;s answer](https://stackoverflow.com/a/77021177/3789665):\r\n~~~\r\nimport java.util.ArrayDeque;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.Queue;\r\n\r\n/** Multiple (N) queues supporting: &lt;br/&gt;\r\n *  - addition to queue by ordinal  &lt;br/&gt;\r\n *  - removal by key (O(N))         &lt;br/&gt;\r\n *  - removal by ordinal            &lt;br/&gt;\r\n *  - map                           &lt;br/&gt;\r\n * no key shall be put into more than one queue. (Try and remove?)\r\n */// ToDo: decide visibility of method members\r\npublic class MultiQueue&lt;K, V&gt;\r\n{\r\n    private Queue&lt;K&gt;[] queues;\r\n    private Map&lt;K, V&gt; map;\r\n\r\n//    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public MultiQueue(final int n) {\r\n        queues = new Queue/*&lt;V&gt;*/[n];\r\n        for (int i = 0 ; i &lt; n ; i++)\r\n            queues[i] = new ArrayDeque&lt;/*V*/&gt;();\r\n        map = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    public void add(final K id, V value, int queue) {\r\n        queues[queue].add(id);\r\n        map.put(id, value);\r\n    }\r\n    /** Remove &lt;code&gt;key&lt;/code&gt; and associated data for good. &lt;br/&gt;\r\n     *  ToDo: specify behaviour when &lt;code&gt;key&lt;/code&gt; not first in any queue.&lt;br/&gt;\r\n     *        (currently just returns &lt;code&gt;null&lt;/code&gt;.)\r\n     *  @return key removed, else &lt;code&gt;null&lt;/code&gt;\r\n     */\r\n    V remove(final K key) {\r\n    \tfor (int i = 0 ; i &lt; queues.length ; i++)\r\n    \t\tif (queues[i].peek() == key)\r\n    \t\t\treturn remove(i);\r\n    \treturn null;\r\n    }\r\n    /** Remove first from queue. &lt;br/&gt;\r\n     *  @return value for key removed, else &lt;code&gt;null&lt;/code&gt;\r\n     */\r\n    V remove(int queue) {\r\n    \tK key = queues[queue].poll();\r\n    \treturn map.remove(key);\r\n    }\r\n    /** Move one item from queue &lt;code&gt;from&lt;/code&gt; to queue &lt;code&gt;to&lt;/code&gt;. &lt;br/&gt;\r\n     *  ToDo: What shall happen when &lt;code&gt;from == to&lt;/code&gt;?\r\n     *  @return key moved, else &lt;code&gt;null&lt;/code&gt;\r\n     */\r\n    K move(int from, int to) {\r\n    \tK moving = queues[from].poll();\r\n    \tif (null == moving)\r\n    \t\treturn null;\r\n   \t\tqueues[to].add(moving);\r\n   \t\treturn moving;\r\n    }\r\n    // XXX isolation?\r\n    Queue&lt;K&gt; queue(int queue) { return queues[queue]; }\r\n\r\n    public V get(K id)\r\n    {\r\n        return map.get(id);\r\n    }\r\n    \r\n    @Override\r\n    public String toString() {\r\n    \tStringBuilder sb = new StringBuilder(&quot;[&quot;);\r\n    \tfor (Queue&lt;K&gt; q: queues) {\r\n    \t\tsb.append(&#39;(&#39;);\r\n    \t\tif (q.isEmpty())\r\n    \t\t\tsb.append(&quot;), &quot;);\r\n    \t\telse {\r\n\t    \t\tfor (K k: q)\r\n\t    \t\t\tsb.append(k).append(&#39;(&#39;).append(map.get(k)).append(&quot;), &quot;);\r\n\t    \t\tsb.insert(sb.length()-2, &#39;)&#39;);\r\n    \t\t}\r\n    \t}\r\n    \treturn sb.replace(sb.length()-2, sb.length(), &quot;]&quot;).toString();\r\n    }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        MultiQueue&lt;Integer, String&gt; mq = new MultiQueue&lt;&gt;(2);\r\n        mq.add(10, &quot;Item 10&quot;, 0); // add to first queue\r\n        mq.add(20, &quot;Item 20&quot;, 1); // add to second queue\r\n        System.out.println(&quot;10: &quot; + mq.get(10));\r\n        System.out.println(&quot;20: &quot; + mq.get(20));\r\n        mq.add(10, &quot;Item 13&quot;, 1); // add to second queue\r\n        // bad luck well deserved \r\n        //  for breaking &quot;contract&quot; to enter a key to one queue at most. \r\n        System.out.println(&quot;10: &quot; + mq.get(10));\r\n        mq.move(0, 1);\r\n        System.out.println(&quot;moved: &quot; + mq.get(10));\r\n        System.out.println(mq);\r\n    }\r\n}\r\n~~~\r\n\r\n","title":"how to implement a map with multiple lists in Java","body":"<p>You haven't specified whether or not any given <code>Id</code> can occur in more than one FIFO.</p>\n<p>Assuming strict FIFO <code>add()</code>/<code>remove()</code> &amp; somewhat frequent lookups, cases:</p>\n<ol start=\"0\">\n<li>Any given ID can occur in one queue out of <em>N</em>, at most - use\n<ul>\n<li>a single Map&lt;Id, Value&gt; (I'd choose <code>java.util.HashMap&lt;&gt;</code>)</li>\n<li><em>N</em> <code>Queue&lt;Id&gt;</code>s<br />\ninsert into queue as required, putting in map, too<br />\nwhen removing from last queue/for good, remove from map<br />\nwhen removing from any other queue and reinserting, the mapping doesn't need to be changed</li>\n</ul>\n</li>\n<li>Any given ID can occur in 0 to <em>N</em> queues<br />\nI didn't come up with anything better than the <code>Map&lt;Id, &quot;LinkedMap&quot;&lt;Id, Value&gt;&gt;</code> <a href=\"/questions/76950164/map-with-multiple-lists#comment135653082_76950164\">Rishabh Dutt Sharma\n</a> and <a href=\"/questions/76950164/map-with-multiple-lists#comment135666003_76950164\">you yourself</a>\nmention in comments.</li>\n</ol>\n<p>Drawing heavily on <a href=\"https://stackoverflow.com/a/77021177/3789665\">Shila Mosammami's answer</a>:</p>\n<pre><code>import java.util.ArrayDeque;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Queue;\n\n/** Multiple (N) queues supporting: &lt;br/&gt;\n *  - addition to queue by ordinal  &lt;br/&gt;\n *  - removal by key (O(N))         &lt;br/&gt;\n *  - removal by ordinal            &lt;br/&gt;\n *  - map                           &lt;br/&gt;\n * no key shall be put into more than one queue. (Try and remove?)\n */// ToDo: decide visibility of method members\npublic class MultiQueue&lt;K, V&gt;\n{\n    private Queue&lt;K&gt;[] queues;\n    private Map&lt;K, V&gt; map;\n\n//    @SuppressWarnings(&quot;unchecked&quot;)\n    public MultiQueue(final int n) {\n        queues = new Queue/*&lt;V&gt;*/[n];\n        for (int i = 0 ; i &lt; n ; i++)\n            queues[i] = new ArrayDeque&lt;/*V*/&gt;();\n        map = new HashMap&lt;&gt;();\n    }\n\n    public void add(final K id, V value, int queue) {\n        queues[queue].add(id);\n        map.put(id, value);\n    }\n    /** Remove &lt;code&gt;key&lt;/code&gt; and associated data for good. &lt;br/&gt;\n     *  ToDo: specify behaviour when &lt;code&gt;key&lt;/code&gt; not first in any queue.&lt;br/&gt;\n     *        (currently just returns &lt;code&gt;null&lt;/code&gt;.)\n     *  @return key removed, else &lt;code&gt;null&lt;/code&gt;\n     */\n    V remove(final K key) {\n        for (int i = 0 ; i &lt; queues.length ; i++)\n            if (queues[i].peek() == key)\n                return remove(i);\n        return null;\n    }\n    /** Remove first from queue. &lt;br/&gt;\n     *  @return value for key removed, else &lt;code&gt;null&lt;/code&gt;\n     */\n    V remove(int queue) {\n        K key = queues[queue].poll();\n        return map.remove(key);\n    }\n    /** Move one item from queue &lt;code&gt;from&lt;/code&gt; to queue &lt;code&gt;to&lt;/code&gt;. &lt;br/&gt;\n     *  ToDo: What shall happen when &lt;code&gt;from == to&lt;/code&gt;?\n     *  @return key moved, else &lt;code&gt;null&lt;/code&gt;\n     */\n    K move(int from, int to) {\n        K moving = queues[from].poll();\n        if (null == moving)\n            return null;\n        queues[to].add(moving);\n        return moving;\n    }\n    // XXX isolation?\n    Queue&lt;K&gt; queue(int queue) { return queues[queue]; }\n\n    public V get(K id)\n    {\n        return map.get(id);\n    }\n    \n    @Override\n    public String toString() {\n        StringBuilder sb = new StringBuilder(&quot;[&quot;);\n        for (Queue&lt;K&gt; q: queues) {\n            sb.append('(');\n            if (q.isEmpty())\n                sb.append(&quot;), &quot;);\n            else {\n                for (K k: q)\n                    sb.append(k).append('(').append(map.get(k)).append(&quot;), &quot;);\n                sb.insert(sb.length()-2, ')');\n            }\n        }\n        return sb.replace(sb.length()-2, sb.length(), &quot;]&quot;).toString();\n    }\n\n    public static void main(String[] args)\n    {\n        MultiQueue&lt;Integer, String&gt; mq = new MultiQueue&lt;&gt;(2);\n        mq.add(10, &quot;Item 10&quot;, 0); // add to first queue\n        mq.add(20, &quot;Item 20&quot;, 1); // add to second queue\n        System.out.println(&quot;10: &quot; + mq.get(10));\n        System.out.println(&quot;20: &quot; + mq.get(20));\n        mq.add(10, &quot;Item 13&quot;, 1); // add to second queue\n        // bad luck well deserved \n        //  for breaking &quot;contract&quot; to enter a key to one queue at most. \n        System.out.println(&quot;10: &quot; + mq.get(10));\n        mq.move(0, 1);\n        System.out.println(&quot;moved: &quot; + mq.get(10));\n        System.out.println(mq);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5890614,"reputation":1247,"user_id":4637358,"accept_rate":68,"display_name":"1a1a11a"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":4,"score":1,"last_activity_date":1694436795,"creation_date":1692679404,"question_id":76950164,"body_markdown":"I have N FIFO queues to support efficient insert at tail and remove at head. Meanwhile I would like to support efficient lookup of the data in the queues, what is the best way to achieve this in Java? \r\n\r\nOne solution is to implement a linkedHashmap for each queue. However, to find the data, it needs to perform N lookups. Is there a better way to do this? \r\n\r\nThe solution mentioned above \r\n\r\n```\r\nMap&lt;Id, Value&gt; q1 = new LinkedHashMap&lt;&gt;();\r\nMap&lt;Id, Value&gt; q2 = new LinkedHashMap&lt;&gt;();\r\nMap&lt;Id, Value&gt; q3 = new LinkedHashMap&lt;&gt;();\r\nMap&lt;Id, Value&gt; q4 = new LinkedHashMap&lt;&gt;();\r\n\r\n// to read a key, I have to do the following\r\nif (q1.contains(id)) {\r\n  return q1.get(id);\r\n} else if (q2.contains(id)) {\r\n  return q2.get(id);\r\n} else if (q3.contains(id)) {\r\n  return q3.get(id);\r\n} else if (q4.contains(id)) {\r\n  return q4.get(id);\r\n}\r\n```\r\nI guess I can have a map storing the categorization, which will limit the lookups to two, but means that I have to waste some memory.\r\n\r\nEDIT 1:  \r\nAn example  \r\nData are put in different lists based on access patterns. For example, data that has been accessed once is stored in list 1, and upon the second request, the data is moved to list 2. \r\n\r\nOne can think about this as an LFU &lt;!-- LRU? --&gt; cache where each list is responsible for one frequency. In addition to the lists, I need to have an efficient lookup to find the data. \r\n","title":"how to implement a map with multiple lists in Java","body":"<p>I have N FIFO queues to support efficient insert at tail and remove at head. Meanwhile I would like to support efficient lookup of the data in the queues, what is the best way to achieve this in Java?</p>\n<p>One solution is to implement a linkedHashmap for each queue. However, to find the data, it needs to perform N lookups. Is there a better way to do this?</p>\n<p>The solution mentioned above</p>\n<pre><code>Map&lt;Id, Value&gt; q1 = new LinkedHashMap&lt;&gt;();\nMap&lt;Id, Value&gt; q2 = new LinkedHashMap&lt;&gt;();\nMap&lt;Id, Value&gt; q3 = new LinkedHashMap&lt;&gt;();\nMap&lt;Id, Value&gt; q4 = new LinkedHashMap&lt;&gt;();\n\n// to read a key, I have to do the following\nif (q1.contains(id)) {\n  return q1.get(id);\n} else if (q2.contains(id)) {\n  return q2.get(id);\n} else if (q3.contains(id)) {\n  return q3.get(id);\n} else if (q4.contains(id)) {\n  return q4.get(id);\n}\n</code></pre>\n<p>I guess I can have a map storing the categorization, which will limit the lookups to two, but means that I have to waste some memory.</p>\n<p>EDIT 1:<br />\nAn example<br />\nData are put in different lists based on access patterns. For example, data that has been accessed once is stored in list 1, and upon the second request, the data is moved to list 2.</p>\n<p>One can think about this as an LFU  cache where each list is responsible for one frequency. In addition to the lists, I need to have an efficient lookup to find the data.</p>\n"},{"tags":["java","jpa","entity"],"comments":[{"owner":{"account_id":78666,"reputation":2354,"user_id":223717,"display_name":"Stefan De Boey"},"score":1,"creation_date":1267195229,"post_id":2342075,"comment_id":2314163,"body_markdown":"as far as i know this is indeed not part of the standard API, so you will have to rely on the actual implementation (hibernate, toplink, ...) to get what you want","body":"as far as i know this is indeed not part of the standard API, so you will have to rely on the actual implementation (hibernate, toplink, ...) to get what you want"}],"answers":[{"tags":[],"owner":{"account_id":15908,"reputation":22122,"user_id":34102,"accept_rate":86,"display_name":"Piotr Kochański"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1268169004,"creation_date":1267213111,"answer_id":2344314,"question_id":2342075,"body_markdown":"If you use @Table annotation, there is no problem, as you have shown. If you don&#39;t use that annotation, then table name is the same as the class name (JPA default).\r\n\r\nThe fun starts if you use mapping file, you need to parse it and retrive table name - this is not very difficult, but demands some work. If you are afraid of performance issues then you can parse mapping file(s) once and cache all tables names.","title":"How to retrieve mapping table name for an entity in JPA at runtime?","body":"<p>If you use @Table annotation, there is no problem, as you have shown. If you don't use that annotation, then table name is the same as the class name (JPA default).</p>\n\n<p>The fun starts if you use mapping file, you need to parse it and retrive table name - this is not very difficult, but demands some work. If you are afraid of performance issues then you can parse mapping file(s) once and cache all tables names.</p>\n"},{"comments":[{"owner":{"account_id":56588,"reputation":1257,"user_id":169533,"accept_rate":87,"display_name":"marabol"},"score":3,"creation_date":1267434883,"post_id":2346881,"comment_id":2328926,"body_markdown":"I wanted to avoid implementing the algorithm again. And I wanted to avoid parsing the XML mapping file, too.\n\nBut I already thought, there would be no way to ask the JPA implementation for the real table names.\n\nThanks a lot.","body":"I wanted to avoid implementing the algorithm again. And I wanted to avoid parsing the XML mapping file, too.  But I already thought, there would be no way to ask the JPA implementation for the real table names.  Thanks a lot."},{"owner":{"account_id":81564,"reputation":3843,"user_id":229896,"accept_rate":93,"display_name":"Καrτhικ"},"score":0,"creation_date":1397852228,"post_id":2346881,"comment_id":35419108,"body_markdown":"You can override the name using the orm.xml file so programatically re-doing the algorithm also needs to read in the correct orm file.","body":"You can override the name using the orm.xml file so programatically re-doing the algorithm also needs to read in the correct orm file."}],"tags":[],"owner":{"account_id":26568,"reputation":15517,"user_id":69258,"display_name":"DataNucleus"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1267264309,"creation_date":1267264309,"answer_id":2346881,"question_id":2342075,"body_markdown":"If no table annotation is present (and no ORM.xml) then in JPA the table name is formed based on the class name (see the JPA spec). Hence why exactly do you need an accessor method ?\r\n\r\nSee http://www.datanucleus.org/products/accessplatform_2_0/jpa/orm/datastore_identifiers.html","title":"How to retrieve mapping table name for an entity in JPA at runtime?","body":"<p>If no table annotation is present (and no ORM.xml) then in JPA the table name is formed based on the class name (see the JPA spec). Hence why exactly do you need an accessor method ?</p>\n\n<p>See <a href=\"http://www.datanucleus.org/products/accessplatform_2_0/jpa/orm/datastore_identifiers.html\" rel=\"nofollow noreferrer\">http://www.datanucleus.org/products/accessplatform_2_0/jpa/orm/datastore_identifiers.html</a></p>\n"},{"comments":[{"owner":{"account_id":2010126,"reputation":924,"user_id":1798786,"accept_rate":73,"display_name":"skwisgaar"},"score":2,"creation_date":1515668912,"post_id":26420307,"comment_id":83392233,"body_markdown":"Don&#39;t think it&#39;s a correct way, e.g. what the method would return for the entity with name SomeComplexName?","body":"Don&#39;t think it&#39;s a correct way, e.g. what the method would return for the entity with name SomeComplexName?"},{"owner":{"account_id":52775,"reputation":4051,"user_id":157762,"accept_rate":93,"display_name":"Daniel Szalay"},"score":0,"creation_date":1515678133,"post_id":26420307,"comment_id":83397767,"body_markdown":"@skwisgaar `SOMECOMPLEXNAME` in case there is no `@Table` annotation on the entity. Otherwise the `name` specified via the `@Table` annotation.","body":"@skwisgaar <code>SOMECOMPLEXNAME</code> in case there is no <code>@Table</code> annotation on the entity. Otherwise the <code>name</code> specified via the <code>@Table</code> annotation."},{"owner":{"account_id":2010126,"reputation":924,"user_id":1798786,"accept_rate":73,"display_name":"skwisgaar"},"score":1,"creation_date":1515679366,"post_id":26420307,"comment_id":83398491,"body_markdown":"afaik default behavior is to map camelcased entities to snakecased tables (e.g. SomeComplexName -&gt; some_complex_name). I might be wrong though :)","body":"afaik default behavior is to map camelcased entities to snakecased tables (e.g. SomeComplexName -&gt; some_complex_name). I might be wrong though :)"},{"owner":{"account_id":52775,"reputation":4051,"user_id":157762,"accept_rate":93,"display_name":"Daniel Szalay"},"score":0,"creation_date":1515683234,"post_id":26420307,"comment_id":83401269,"body_markdown":"@skwisgaar I just tried it with Hibernate, the entity name got uppercased","body":"@skwisgaar I just tried it with Hibernate, the entity name got uppercased"},{"owner":{"account_id":2010126,"reputation":924,"user_id":1798786,"accept_rate":73,"display_name":"skwisgaar"},"score":1,"creation_date":1515683661,"post_id":26420307,"comment_id":83401584,"body_markdown":"yes, same for me (mean, when I ran the code sample) but my tables have snakecased names so I ended up splitting it by uppercase letter and joining with underscore: `String tableName = String.join(&quot;_&quot;, entity.getClass().getSimpleName().split(&quot;(?=\\\\p{Upper})&quot;));`. It&#39;s far from perfect but it&#39;s enough for my pretty simple case (I use it in tests).","body":"yes, same for me (mean, when I ran the code sample) but my tables have snakecased names so I ended up splitting it by uppercase letter and joining with underscore: <code>String tableName = String.join(&quot;_&quot;, entity.getClass().getSimpleName().split(&quot;(?=\\\\p{Upper})&quot;));</code>. It&#39;s far from perfect but it&#39;s enough for my pretty simple case (I use it in tests)."},{"owner":{"account_id":9346423,"reputation":1452,"user_id":6937584,"display_name":"cdalxndr"},"score":1,"creation_date":1591370042,"post_id":26420307,"comment_id":110039266,"body_markdown":"This doesn&#39;t work if `@Table` is used without a name and some configurable naming strategy that transforms entity name to database table names.","body":"This doesn&#39;t work if <code>@Table</code> is used without a name and some configurable naming strategy that transforms entity name to database table names."},{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":0,"creation_date":1621689506,"post_id":26420307,"comment_id":119574008,"body_markdown":"Beware if you are using Spring Boot because it uses its [own naming strategy](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.data-access.configure-hibernate-naming-strategy) thereby overriding Hibernate&#39;s strategy. The result is that if no annotation is specified then the default table name is the class name converted to `snake_case`. In essence Spring Boot isn&#39;t fully compliant with the JPA spec in this respect .. but steers you towards using snake_case ... which I find is an acceptable override, even if not what the JPA spec says.","body":"Beware if you are using Spring Boot because it uses its <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.data-access.configure-hibernate-naming-strategy\" rel=\"nofollow noreferrer\">own naming strategy</a> thereby overriding Hibernate&#39;s strategy. The result is that if no annotation is specified then the default table name is the class name converted to <code>snake_case</code>. In essence Spring Boot isn&#39;t fully compliant with the JPA spec in this respect .. but steers you towards using snake_case ... which I find is an acceptable override, even if not what the JPA spec says."}],"tags":[],"owner":{"account_id":52775,"reputation":4051,"user_id":157762,"accept_rate":93,"display_name":"Daniel Szalay"},"comment_count":7,"down_vote_count":2,"up_vote_count":26,"is_accepted":false,"score":24,"last_activity_date":1413532533,"creation_date":1413532099,"answer_id":26420307,"question_id":2342075,"body_markdown":"This is the method I am using with EclipseLink (no mapping file):\r\n\r\n\t/**\r\n\t * Returns the table name for a given entity type in the {@link EntityManager}.\r\n\t * @param em\r\n\t * @param entityClass\r\n\t * @return\r\n\t */\r\n\tpublic static &lt;T&gt; String getTableName(EntityManager em, Class&lt;T&gt; entityClass) {\r\n\t\t/*\r\n\t\t * Check if the specified class is present in the metamodel.\r\n\t\t * Throws IllegalArgumentException if not.\r\n\t\t */\r\n\t\tMetamodel meta = em.getMetamodel();\r\n\t\tEntityType&lt;T&gt; entityType = meta.entity(entityClass);\r\n\r\n\t\t//Check whether @Table annotation is present on the class.\r\n\t\tTable t = entityClass.getAnnotation(Table.class);\r\n\r\n\t\tString tableName = (t == null)\r\n\t\t\t\t\t\t\t? entityType.getName().toUpperCase()\r\n\t\t\t\t\t\t\t: t.name();\r\n\t\treturn tableName;\r\n\t}","title":"How to retrieve mapping table name for an entity in JPA at runtime?","body":"<p>This is the method I am using with EclipseLink (no mapping file):</p>\n\n<pre><code>/**\n * Returns the table name for a given entity type in the {@link EntityManager}.\n * @param em\n * @param entityClass\n * @return\n */\npublic static &lt;T&gt; String getTableName(EntityManager em, Class&lt;T&gt; entityClass) {\n    /*\n     * Check if the specified class is present in the metamodel.\n     * Throws IllegalArgumentException if not.\n     */\n    Metamodel meta = em.getMetamodel();\n    EntityType&lt;T&gt; entityType = meta.entity(entityClass);\n\n    //Check whether @Table annotation is present on the class.\n    Table t = entityClass.getAnnotation(Table.class);\n\n    String tableName = (t == null)\n                        ? entityType.getName().toUpperCase()\n                        : t.name();\n    return tableName;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7073625,"reputation":12479,"user_id":5414452,"display_name":"jogo"},"score":1,"creation_date":1455394030,"post_id":35384527,"comment_id":58473956,"body_markdown":"This is  more a comment.","body":"This is  more a comment."}],"tags":[],"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455392601,"creation_date":1455392601,"answer_id":35384527,"question_id":2342075,"body_markdown":"Asking to the meta-model of the underlaying ORM is the most reliable: looking at the presence of the @Table is not enough, not only it can be overridden by XML configuration (e.g. orm.xml) but with JOINED strategy, the @Table may be on a super-class.\r\n\r\n","title":"How to retrieve mapping table name for an entity in JPA at runtime?","body":"<p>Asking to the meta-model of the underlaying ORM is the most reliable: looking at the presence of the @Table is not enough, not only it can be overridden by XML configuration (e.g. orm.xml) but with JOINED strategy, the @Table may be on a super-class.</p>\n"},{"tags":[],"owner":{"account_id":1967946,"reputation":121,"user_id":1767676,"display_name":"Karmakulov Kirill"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1532688823,"creation_date":1532688823,"answer_id":51556465,"question_id":2342075,"body_markdown":"A colleague of mine found the following solution for a **Spring Data JPA** environment backed by **Hibernate**:\r\n\r\n    import org.hibernate.internal.SessionImpl;\r\n    import org.hibernate.persister.entity.AbstractEntityPersister;\r\n    import org.hibernate.persister.entity.EntityPersister;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    import javax.persistence.EntityManager;\r\n    \r\n    @Service\r\n    public class EntityClassToTableNameMapper {\r\n    \r\n        @Transactional\r\n        public String[] getTableNames(EntityManager em, Class entityClass) {\r\n    \r\n            Object entityExample;\r\n            try {\r\n                entityExample = entityClass.newInstance();\r\n            } catch (ReflectiveOperationException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n    \r\n            SessionImpl session = em.unwrap(SessionImpl.class);\r\n    \r\n            EntityPersister persister = session.getEntityPersister(null, entityExample);\r\n    \r\n            if (persister instanceof AbstractEntityPersister) {\r\n                AbstractEntityPersister persisterImpl = (AbstractEntityPersister) persister;\r\n    \r\n                String tableName = persisterImpl.getTableName();\r\n    \r\n                String rootTableName = persisterImpl.getRootTableName();\r\n    \r\n                return new String[] {rootTableName, tableName};\r\n    \r\n            } else {\r\n                throw new RuntimeException(&quot;Unexpected persister type; a subtype of AbstractEntityPersister expected.&quot;);\r\n            }\r\n        }\r\n    }\r\n","title":"How to retrieve mapping table name for an entity in JPA at runtime?","body":"<p>A colleague of mine found the following solution for a <strong>Spring Data JPA</strong> environment backed by <strong>Hibernate</strong>:</p>\n\n<pre><code>import org.hibernate.internal.SessionImpl;\nimport org.hibernate.persister.entity.AbstractEntityPersister;\nimport org.hibernate.persister.entity.EntityPersister;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport javax.persistence.EntityManager;\n\n@Service\npublic class EntityClassToTableNameMapper {\n\n    @Transactional\n    public String[] getTableNames(EntityManager em, Class entityClass) {\n\n        Object entityExample;\n        try {\n            entityExample = entityClass.newInstance();\n        } catch (ReflectiveOperationException e) {\n            throw new RuntimeException(e);\n        }\n\n        SessionImpl session = em.unwrap(SessionImpl.class);\n\n        EntityPersister persister = session.getEntityPersister(null, entityExample);\n\n        if (persister instanceof AbstractEntityPersister) {\n            AbstractEntityPersister persisterImpl = (AbstractEntityPersister) persister;\n\n            String tableName = persisterImpl.getTableName();\n\n            String rootTableName = persisterImpl.getRootTableName();\n\n            return new String[] {rootTableName, tableName};\n\n        } else {\n            throw new RuntimeException(\"Unexpected persister type; a subtype of AbstractEntityPersister expected.\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4933420,"reputation":412,"user_id":3972403,"display_name":"Shofiullah Babor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694436733,"creation_date":1694436733,"answer_id":77081794,"question_id":2342075,"body_markdown":"for **Spring Data JPA 3.1.2** this work fine\r\n    \r\n\r\n    Metamodel metamodel = entityManager.getMetamodel();\r\n    MappingMetamodel mappingMetamodel = ((MappingMetamodelImpl) metamodel).getMappingMetamodel();\r\n    EntityPersister entityPersister = ((MappingMetamodelImpl) mappingMetamodel).entityPersister(User.class.name); // User is entity class\r\n    SingleTableEntityPersister entityPersisterImpl = (SingleTableEntityPersister) entityPersister.getEntityPersister();\r\n\r\n    System.out.println(entityPersisterImpl.getTableName());\r\n\r\n\r\n\r\n","title":"How to retrieve mapping table name for an entity in JPA at runtime?","body":"<p>for <strong>Spring Data JPA 3.1.2</strong> this work fine</p>\n<pre><code>Metamodel metamodel = entityManager.getMetamodel();\nMappingMetamodel mappingMetamodel = ((MappingMetamodelImpl) metamodel).getMappingMetamodel();\nEntityPersister entityPersister = ((MappingMetamodelImpl) mappingMetamodel).entityPersister(User.class.name); // User is entity class\nSingleTableEntityPersister entityPersisterImpl = (SingleTableEntityPersister) entityPersister.getEntityPersister();\n\nSystem.out.println(entityPersisterImpl.getTableName());\n</code></pre>\n"}],"owner":{"account_id":56588,"reputation":1257,"user_id":169533,"accept_rate":87,"display_name":"marabol"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40644,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":2346881,"answer_count":6,"score":39,"last_activity_date":1694436733,"creation_date":1267192670,"question_id":2342075,"body_markdown":"Is it possible to determine the native table name of an entity?\r\n\r\nIf a `Table` annotation is present it&#39;s easy:\r\n\r\n\tentityClass.getAnnotation(Table.class).name()\r\n\r\nBut what about if no `Table` annotation is present?\r\n\r\nHibernate provides this information via the [`Configuration`](https://www.hibernate.org/hib_docs/v3/api/org/hibernate/cfg/Configuration.html#getClassMapping%28java.lang.String%29:) class:\r\n\r\n\tconfiguration.getClassMapping(entityClass.getSimpleName()).getTable().getName()\r\n\r\nIs there something similar in JPA?\r\n","title":"How to retrieve mapping table name for an entity in JPA at runtime?","body":"<p>Is it possible to determine the native table name of an entity?</p>\n\n<p>If a <code>Table</code> annotation is present it's easy:</p>\n\n<pre><code>entityClass.getAnnotation(Table.class).name()\n</code></pre>\n\n<p>But what about if no <code>Table</code> annotation is present?</p>\n\n<p>Hibernate provides this information via the <a href=\"https://www.hibernate.org/hib_docs/v3/api/org/hibernate/cfg/Configuration.html#getClassMapping%28java.lang.String%29:\" rel=\"noreferrer\"><code>Configuration</code></a> class:</p>\n\n<pre><code>configuration.getClassMapping(entityClass.getSimpleName()).getTable().getName()\n</code></pre>\n\n<p>Is there something similar in JPA?</p>\n"},{"tags":["java","youtube-api","google-oauth","youtube-data-api","google-api-java-client"],"answers":[{"comments":[{"owner":{"account_id":29414317,"reputation":11,"user_id":22537498,"display_name":"Sinio"},"score":1,"creation_date":1694465782,"post_id":77081782,"comment_id":135891981,"body_markdown":"Thanks soo much ^^\ni think that works for me ^^","body":"Thanks soo much ^^ i think that works for me ^^"}],"tags":[],"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694436582,"creation_date":1694436582,"answer_id":77081782,"question_id":77081416,"body_markdown":"The client library will handle user token storage if its configured properly.\r\n\r\nYou forgot to configure `setDataStoreFactory`\r\n\r\n\r\n    // Build flow and trigger user authorization request.\r\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n                HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\r\n                .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\r\n                .setAccessType(&quot;offline&quot;)\r\n                .build();\r\n\r\nMy TOKENS_DIRECTORY_PATH is just set to tokens then it stores them in the current directory.\r\n\r\n    private static final String TOKENS_DIRECTORY_PATH = &quot;tokens&quot;;","title":"Do I have to Google Sign everytime to upload a Video to Youtbe using Java?","body":"<p>The client library will handle user token storage if its configured properly.</p>\n<p>You forgot to configure <code>setDataStoreFactory</code></p>\n<pre><code>// Build flow and trigger user authorization request.\n    GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n            HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\n            .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\n            .setAccessType(&quot;offline&quot;)\n            .build();\n</code></pre>\n<p>My TOKENS_DIRECTORY_PATH is just set to tokens then it stores them in the current directory.</p>\n<pre><code>private static final String TOKENS_DIRECTORY_PATH = &quot;tokens&quot;;\n</code></pre>\n"}],"owner":{"account_id":29414317,"reputation":11,"user_id":22537498,"display_name":"Sinio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77081782,"answer_count":1,"score":0,"last_activity_date":1694436607,"creation_date":1694433466,"question_id":77081416,"body_markdown":"```java\r\npublic static Credential authorize(final NetHttpTransport httpTransport) throws IOException {\r\n\tInputStream in = new FileInputStream(CLIENT_SECRETS);\r\n\tGoogleClientSecrets clientSecrets =\r\n\tGoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\r\n\tGoogleAuthorizationCodeFlow flow =\r\n\tnew GoogleAuthorizationCodeFlow.Builder(httpTransport, JSON_FACTORY, clientSecrets, SCOPES)\r\n\t\t.setAccessType(&quot;offline&quot;)\r\n\t\t.build();\r\n\tint defaultPort = 5005;\r\n\tLocalServerReceiver customReceiver = new LocalServerReceiver.Builder()\r\n\t\t.setHost(&quot;localhost&quot;)\r\n\t\t.setPort(defaultPort)\r\n\t\t.build();\r\n\tCredential credential =\tnew AuthorizationCodeInstalledApp(flow, customReceiver).authorize(&quot;userid&quot;);\r\n\treturn credential;\r\n}\r\n\r\npublic static YouTube getService() throws GeneralSecurityException, IOException {\r\n\tfinal NetHttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\r\n\tCredential credential = authorize(httpTransport);\r\n\treturn new YouTube.Builder(httpTransport, JSON_FACTORY, credential)\r\n\t\t.setApplicationName(APPLICATION_NAME)\r\n\t\t.build();\r\n}\r\n```\r\n\r\nSo Everything works for me but i need to login everytime which I would prefer not doing. Is it possible to modify the code or anything else so it does that automaticly with given Email and password?\r\n","title":"Do I have to Google Sign everytime to upload a Video to Youtbe using Java?","body":"<pre class=\"lang-java prettyprint-override\"><code>public static Credential authorize(final NetHttpTransport httpTransport) throws IOException {\n    InputStream in = new FileInputStream(CLIENT_SECRETS);\n    GoogleClientSecrets clientSecrets =\n    GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\n    GoogleAuthorizationCodeFlow flow =\n    new GoogleAuthorizationCodeFlow.Builder(httpTransport, JSON_FACTORY, clientSecrets, SCOPES)\n        .setAccessType(&quot;offline&quot;)\n        .build();\n    int defaultPort = 5005;\n    LocalServerReceiver customReceiver = new LocalServerReceiver.Builder()\n        .setHost(&quot;localhost&quot;)\n        .setPort(defaultPort)\n        .build();\n    Credential credential = new AuthorizationCodeInstalledApp(flow, customReceiver).authorize(&quot;userid&quot;);\n    return credential;\n}\n\npublic static YouTube getService() throws GeneralSecurityException, IOException {\n    final NetHttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\n    Credential credential = authorize(httpTransport);\n    return new YouTube.Builder(httpTransport, JSON_FACTORY, credential)\n        .setApplicationName(APPLICATION_NAME)\n        .build();\n}\n</code></pre>\n<p>So Everything works for me but i need to login everytime which I would prefer not doing. Is it possible to modify the code or anything else so it does that automaticly with given Email and password?</p>\n"},{"tags":["java","docker","ebpf","bcc-bpf","flamegraph"],"owner":{"account_id":19466002,"reputation":445,"user_id":14239262,"display_name":"eof"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694436360,"creation_date":1694435004,"question_id":77081594,"body_markdown":"I&#39;m running a java application in ECS on AWS with one task per EC2 instance. In other words, I&#39;m running a single instance of an application per server with no interfering workloads. I&#39;ve been following this doc:\r\n\r\nhttps://www.slideshare.net/brendangregg/java-performance-analysis-on-linux-with-flame-graphs\r\n\r\nI&#39;m currently using the `profile` BCC script to generate the stack dumps with the command (the command being run on the host and not within the container namespace):\r\n\r\n    /usr/share/bcc/tools/profile -F 99 -adf 60 -p &lt;pid&gt; &gt; profile.out.folded\r\n\r\nAfter providing the JVM the `-XX:+PreserveFramePointer` flag, I get a flamegraph looking like follows:\r\n\r\n[![Flamegraph with unknown symbols][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7Br0D.png\r\n\r\nHow do I get the symbols? The docs by Brendan Gregg are 7 years old and there&#39;s been tremendous progress within the bpf ecosystem during that timeframe. Does anyone have this working with a containerized application and what would be the easiest way to get symbols out of a JVM? The JVMTI agent mentioned in the project that dumps symbols to `/tmp` has been stale for many years already.\r\n\r\nAnyone doing such profiling in production using bpf tooling? If so how?","title":"Flamegraphs for java apps within docker","body":"<p>I'm running a java application in ECS on AWS with one task per EC2 instance. In other words, I'm running a single instance of an application per server with no interfering workloads. I've been following this doc:</p>\n<p><a href=\"https://www.slideshare.net/brendangregg/java-performance-analysis-on-linux-with-flame-graphs\" rel=\"nofollow noreferrer\">https://www.slideshare.net/brendangregg/java-performance-analysis-on-linux-with-flame-graphs</a></p>\n<p>I'm currently using the <code>profile</code> BCC script to generate the stack dumps with the command (the command being run on the host and not within the container namespace):</p>\n<pre><code>/usr/share/bcc/tools/profile -F 99 -adf 60 -p &lt;pid&gt; &gt; profile.out.folded\n</code></pre>\n<p>After providing the JVM the <code>-XX:+PreserveFramePointer</code> flag, I get a flamegraph looking like follows:</p>\n<p><a href=\"https://i.stack.imgur.com/7Br0D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Br0D.png\" alt=\"Flamegraph with unknown symbols\" /></a></p>\n<p>How do I get the symbols? The docs by Brendan Gregg are 7 years old and there's been tremendous progress within the bpf ecosystem during that timeframe. Does anyone have this working with a containerized application and what would be the easiest way to get symbols out of a JVM? The JVMTI agent mentioned in the project that dumps symbols to <code>/tmp</code> has been stale for many years already.</p>\n<p>Anyone doing such profiling in production using bpf tooling? If so how?</p>\n"},{"tags":["java","java-8","java-17"],"answers":[{"tags":[],"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694436314,"creation_date":1694436314,"answer_id":77081758,"question_id":77081721,"body_markdown":"You can install multiple JDK on same server and run different application with different JDK.\r\n\r\nIn command line just run the .jar file with the JVM of your choice.","title":"Can I use multiple java versions in parallel (Centos 7)","body":"<p>You can install multiple JDK on same server and run different application with different JDK.</p>\n<p>In command line just run the .jar file with the JVM of your choice.</p>\n"}],"owner":{"account_id":18506004,"reputation":23,"user_id":13482280,"display_name":"Domagoj Marosevic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1694436795,"answer_count":1,"score":-2,"last_activity_date":1694436314,"creation_date":1694436094,"question_id":77081721,"body_markdown":"On my server I have deployed application which use java 8, but now I have to deploy one more application which use java 17. Can anyone tell how can I run both java versions at same time? Is it even possible and how?\r\n\r\nBtw I&#39;m using Centos 7.","title":"Can I use multiple java versions in parallel (Centos 7)","body":"<p>On my server I have deployed application which use java 8, but now I have to deploy one more application which use java 17. Can anyone tell how can I run both java versions at same time? Is it even possible and how?</p>\n<p>Btw I'm using Centos 7.</p>\n"},{"tags":["java","database","jpa","wildfly","jta"],"comments":[{"owner":{"account_id":3058875,"reputation":539,"user_id":2591987,"display_name":"Paulo Ara&#250;jo"},"score":0,"creation_date":1675857714,"post_id":75328640,"comment_id":133017156,"body_markdown":"Is your A class and EJB or CDI bean? In that case, annotating it with Transactional (or the externally *called* methods) with Transactional would do the trick. Please note that internal callings (such as from init() to other Transactional annotated methods) won&#39;t be intercepted and, as such, won&#39;t start transactions. Can you please show all the annotations and your persistence.xml. It should work with JTA without issues.","body":"Is your A class and EJB or CDI bean? In that case, annotating it with Transactional (or the externally <i>called</i> methods) with Transactional would do the trick. Please note that internal callings (such as from init() to other Transactional annotated methods) won&#39;t be intercepted and, as such, won&#39;t start transactions. Can you please show all the annotations and your persistence.xml. It should work with JTA without issues."}],"answers":[{"tags":[],"owner":{"account_id":7937595,"reputation":1918,"user_id":5992948,"accept_rate":47,"display_name":"y07k2"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694436122,"creation_date":1694436122,"answer_id":77081726,"question_id":75328640,"body_markdown":"I just used something like this (also for old PU):\r\n```\r\nEntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(getPUName());\r\nEntityManager entityManager = entityManagerFactory.createEntityManager();\r\n```\r\nand in `persistence.xml` we need to change standard `JTA` to `RESOURCE_LOCAL` and `jta-data-source` property to `non-jta-data-source` property:\r\n```\r\n&lt;persistence-unit name=&quot;YourPU&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n  &lt;non-jta-data-source&gt;java:jboss/datasources/YourDS&lt;/non-jta-data-source&gt;\r\n&lt;/persistence-unit&gt;\r\n```\r\nSo while using `RESOURCE_LOCAL` we need to secure two things, **transaction**:\r\n```\r\nentityManager.getTransaction().begin();\r\n// code\r\nentityManager.getTransaction().commit();\r\n```\r\nand after all remember to **close** things up:\r\n```\r\nentityManagerFactory.close();\r\n```","title":"Unnable to use multiple JTA EntityManager at the same time","body":"<p>I just used something like this (also for old PU):</p>\n<pre><code>EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(getPUName());\nEntityManager entityManager = entityManagerFactory.createEntityManager();\n</code></pre>\n<p>and in <code>persistence.xml</code> we need to change standard <code>JTA</code> to <code>RESOURCE_LOCAL</code> and <code>jta-data-source</code> property to <code>non-jta-data-source</code> property:</p>\n<pre><code>&lt;persistence-unit name=&quot;YourPU&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n  &lt;non-jta-data-source&gt;java:jboss/datasources/YourDS&lt;/non-jta-data-source&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n<p>So while using <code>RESOURCE_LOCAL</code> we need to secure two things, <strong>transaction</strong>:</p>\n<pre><code>entityManager.getTransaction().begin();\n// code\nentityManager.getTransaction().commit();\n</code></pre>\n<p>and after all remember to <strong>close</strong> things up:</p>\n<pre><code>entityManagerFactory.close();\n</code></pre>\n"}],"owner":{"account_id":7937595,"reputation":1918,"user_id":5992948,"accept_rate":47,"display_name":"y07k2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694436122,"creation_date":1675369990,"question_id":75328640,"body_markdown":"Trying to query data from legacy database (with different datasource) to current database, but got two exceptions in two scenarios.\r\n\r\nI&#39;ve got an implementation like this:\r\n\r\n```\r\nclass A {\r\n\r\n  @PersistenceContext(unitName = &quot;EPU&quot;)\r\n  EntityManager schemaEntityManager;\r\n\r\n  @PersistenceContext(unitName = &quot;ELegacyPU&quot;)\r\n  EntityManager oldSchemaEntityManager;\r\n\r\n  void init() {\r\n     queryFromDatabase();\r\n     // check if it is empty, if true then query from legacy\r\n     queryFromLegacyDatabase();\r\n     recreateLegacyInCurrentDatabase();\r\n  }\r\n\r\n  List&lt;E&gt; queryFromDatabase() {\r\n    // query from schemaEntityManager\r\n  }\r\n  \r\n  List&lt;ELegacy&gt; queryFromOldDatabase() {\r\n    // query from oldSchemaEntityManager\r\n  }\r\n\r\n  void recreateLegacyInCurrentDatabase() {\r\n    // records -&gt; schemaEntityManager.merge()\r\n  }\r\n}\r\n```\r\n\r\nWhile I&#39;m trying to run this with `@Translational` over `recreateLegacyInCurrentDatabase` method, then got exception from this method (cannot found any valid info over hibernate&#39;s TRACE log-level):\r\n```\r\njavax.persistence.TransactionRequiredException: WFLYJPA0060: Transaction is required to perform this operation (either use a transaction or extended persistence context)\r\n\tat org.jboss.as.jpa@24.0.0.Final//org.jboss.as.jpa.container.AbstractEntityManager.transactionIsRequired(AbstractEntityManager.java:880)\r\n\tat org.jboss.as.jpa@24.0.0.Final//org.jboss.as.jpa.container.AbstractEntityManager.merge(AbstractEntityManager.java:567)\r\n```\r\nWhile I&#39;m trying to run this with `@Translational` over only class **or** over only `queryFromDatabase`/`queryFromOldDatabase` method **or** over any of this two cases + `recreateLegacyInCurrentDatabase`, then got exception from `queryFromOldDatabase` (cannot found any valid info over hibernate&#39;s TRACE log-level):\r\n```\r\njavax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: could not prepare statement\r\n\tat org.hibernate@5.3.20.Final//org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\r\n\tat org.hibernate@5.3.20.Final//org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1575)\r\n\tat org.hibernate@5.3.20.Final//org.hibernate.query.Query.getResultList(Query.java:132)\r\n\tat org.hibernate@5.3.20.Final//org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:74)\r\n...\r\nCaused by: org.hibernate.exception.GenericJDBCException: could not prepare statement\r\n...\r\nCaused by: java.sql.SQLException: IJ031070: Transaction cannot proceed: STATUS_MARKED_ROLLBACK\r\n```\r\n\r\nI use JTA configured under `persistence.xml` &amp; trying not to use RESOURCE_LOCAL instead of this or there is no option to do this without RESOURCE_LOCAL configuration in `persistence.xml`?","title":"Unnable to use multiple JTA EntityManager at the same time","body":"<p>Trying to query data from legacy database (with different datasource) to current database, but got two exceptions in two scenarios.</p>\n<p>I've got an implementation like this:</p>\n<pre><code>class A {\n\n  @PersistenceContext(unitName = &quot;EPU&quot;)\n  EntityManager schemaEntityManager;\n\n  @PersistenceContext(unitName = &quot;ELegacyPU&quot;)\n  EntityManager oldSchemaEntityManager;\n\n  void init() {\n     queryFromDatabase();\n     // check if it is empty, if true then query from legacy\n     queryFromLegacyDatabase();\n     recreateLegacyInCurrentDatabase();\n  }\n\n  List&lt;E&gt; queryFromDatabase() {\n    // query from schemaEntityManager\n  }\n  \n  List&lt;ELegacy&gt; queryFromOldDatabase() {\n    // query from oldSchemaEntityManager\n  }\n\n  void recreateLegacyInCurrentDatabase() {\n    // records -&gt; schemaEntityManager.merge()\n  }\n}\n</code></pre>\n<p>While I'm trying to run this with <code>@Translational</code> over <code>recreateLegacyInCurrentDatabase</code> method, then got exception from this method (cannot found any valid info over hibernate's TRACE log-level):</p>\n<pre><code>javax.persistence.TransactionRequiredException: WFLYJPA0060: Transaction is required to perform this operation (either use a transaction or extended persistence context)\n    at org.jboss.as.jpa@24.0.0.Final//org.jboss.as.jpa.container.AbstractEntityManager.transactionIsRequired(AbstractEntityManager.java:880)\n    at org.jboss.as.jpa@24.0.0.Final//org.jboss.as.jpa.container.AbstractEntityManager.merge(AbstractEntityManager.java:567)\n</code></pre>\n<p>While I'm trying to run this with <code>@Translational</code> over only class <strong>or</strong> over only <code>queryFromDatabase</code>/<code>queryFromOldDatabase</code> method <strong>or</strong> over any of this two cases + <code>recreateLegacyInCurrentDatabase</code>, then got exception from <code>queryFromOldDatabase</code> (cannot found any valid info over hibernate's TRACE log-level):</p>\n<pre><code>javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: could not prepare statement\n    at org.hibernate@5.3.20.Final//org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\n    at org.hibernate@5.3.20.Final//org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1575)\n    at org.hibernate@5.3.20.Final//org.hibernate.query.Query.getResultList(Query.java:132)\n    at org.hibernate@5.3.20.Final//org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:74)\n...\nCaused by: org.hibernate.exception.GenericJDBCException: could not prepare statement\n...\nCaused by: java.sql.SQLException: IJ031070: Transaction cannot proceed: STATUS_MARKED_ROLLBACK\n</code></pre>\n<p>I use JTA configured under <code>persistence.xml</code> &amp; trying not to use RESOURCE_LOCAL instead of this or there is no option to do this without RESOURCE_LOCAL configuration in <code>persistence.xml</code>?</p>\n"},{"tags":["java","spring-boot","swagger"],"answers":[{"tags":[],"owner":{"account_id":5130631,"reputation":38,"user_id":4110967,"display_name":"BlackSheep"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694436088,"creation_date":1694436088,"answer_id":77081720,"question_id":69618768,"body_markdown":"notice you are using content-disposition &quot;attachment&quot;, which tells the browser to serve a file and download it (open a dialog of where to save the file most of the times). if you want the browser to try and parse the file you are serving - use content-disposition &quot;inline&quot;.\r\n\r\nabout swagger - you want to show matching behavior between swagger and the real API.\r\n\r\n[https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition][Content-Disposition]\r\n\r\n\r\n  [Content-Disposition]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition","title":"How to preview API JSON response in swagger when using content-disposition: attachment; filename=&quot;api.json&quot;","body":"<p>notice you are using content-disposition &quot;attachment&quot;, which tells the browser to serve a file and download it (open a dialog of where to save the file most of the times). if you want the browser to try and parse the file you are serving - use content-disposition &quot;inline&quot;.</p>\n<p>about swagger - you want to show matching behavior between swagger and the real API.</p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition</a></p>\n"}],"owner":{"account_id":21197870,"reputation":11,"user_id":15589069,"display_name":"anonymous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694436088,"creation_date":1634571195,"question_id":69618768,"body_markdown":"I am using Java, Swagger 2. \r\n\r\nI need to use `content-disposition: attachment; filename=&quot;file.json&quot;` in the response header of the APIs but when I use this header, I see the Download file button link and the file includes the response. When I use the APIs in UI(React) or any other rest API client, I get JSON response rather than download file link which is expected.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis is how I am setting header in CORS filter.\r\n\r\n    private void setHeaders(HttpServletResponse response, HttpServletRequest request){\r\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;file.json\\&quot;&quot;);\r\n      }\r\n\r\nSetting `application/json`\r\n\r\n    @GetMapping(path=&quot;/xyz&quot;, produces = MediaType.APPLICATION_JSON_UTF8_VALUE)\r\n\r\nI want swagger also to preview the response JSON rather than showing up the Download link button.\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pZClV.png","title":"How to preview API JSON response in swagger when using content-disposition: attachment; filename=&quot;api.json&quot;","body":"<p>I am using Java, Swagger 2.</p>\n<p>I need to use <code>content-disposition: attachment; filename=&quot;file.json&quot;</code> in the response header of the APIs but when I use this header, I see the Download file button link and the file includes the response. When I use the APIs in UI(React) or any other rest API client, I get JSON response rather than download file link which is expected.</p>\n<p><a href=\"https://i.stack.imgur.com/pZClV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pZClV.png\" alt=\"enter image description here\" /></a></p>\n<p>This is how I am setting header in CORS filter.</p>\n<pre><code>private void setHeaders(HttpServletResponse response, HttpServletRequest request){\n    response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;file.json\\&quot;&quot;);\n  }\n</code></pre>\n<p>Setting <code>application/json</code></p>\n<pre><code>@GetMapping(path=&quot;/xyz&quot;, produces = MediaType.APPLICATION_JSON_UTF8_VALUE)\n</code></pre>\n<p>I want swagger also to preview the response JSON rather than showing up the Download link button.</p>\n"},{"tags":["java","spring-boot","spring-data-neo4j"],"answers":[{"comments":[{"owner":{"account_id":29413405,"reputation":1,"user_id":22536777,"display_name":"JeanLucR"},"score":0,"creation_date":1694435539,"post_id":77081363,"comment_id":135886371,"body_markdown":"This work ! Thank a lot. I&#39;m new to spring and the controller was part of legacy code I received when I started working on it, so I erroneously belived it must has been working. Thanks again for you time","body":"This work ! Thank a lot. I&#39;m new to spring and the controller was part of legacy code I received when I started working on it, so I erroneously belived it must has been working. Thanks again for you time"}],"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694433225,"creation_date":1694432787,"answer_id":77081363,"question_id":77081319,"body_markdown":"Using the `@Autowired` annotation in controller methods isn&#39;t supported. You need to autowire them into the class itself. For example:\r\n\r\n```java\r\n@RestController\r\npublic class NodeController {\r\n    @Autowired\r\n    private SocialNetwork socialNetwork; // Add this\r\n\r\n    @PostMapping(&quot;/metrics&quot;)\r\n    // Remove the SocialNetwork parameter from computeMetrics()\r\n    public MetricJSON computeMetrics( \r\n            @Valid @RequestBody MetricsPayload payload\r\n    ) throws InvocationTargetException, NoSuchMethodException, InstantiationException, IllegalAccessException {\r\n        return new MetricJSON(socialNetwork.fromRequest(payload));\r\n    }\r\n}\r\n```\r\n\r\n(Preferably, you use construction injection in stead of field injection with `@Autowired`.)\r\n\r\nThe reason why you get this `NullPointerException` is because Spring will treat the `socialNetwork` parameter in your controller as a class where request attributes can be binded upon. This causes Spring to create a new instance of `SocialNetwork`, but not as a bean. So in this new instance of `SocialNetwork`, dependency injection won&#39;t happen.\r\n\r\nRelated: https://stackoverflow.com/q/19896870/1915448","title":"Spring Boot @Autowired field return .NullPointerException (Using neo4J)","body":"<p>Using the <code>@Autowired</code> annotation in controller methods isn't supported. You need to autowire them into the class itself. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class NodeController {\n    @Autowired\n    private SocialNetwork socialNetwork; // Add this\n\n    @PostMapping(&quot;/metrics&quot;)\n    // Remove the SocialNetwork parameter from computeMetrics()\n    public MetricJSON computeMetrics( \n            @Valid @RequestBody MetricsPayload payload\n    ) throws InvocationTargetException, NoSuchMethodException, InstantiationException, IllegalAccessException {\n        return new MetricJSON(socialNetwork.fromRequest(payload));\n    }\n}\n</code></pre>\n<p>(Preferably, you use construction injection in stead of field injection with <code>@Autowired</code>.)</p>\n<p>The reason why you get this <code>NullPointerException</code> is because Spring will treat the <code>socialNetwork</code> parameter in your controller as a class where request attributes can be binded upon. This causes Spring to create a new instance of <code>SocialNetwork</code>, but not as a bean. So in this new instance of <code>SocialNetwork</code>, dependency injection won't happen.</p>\n<p>Related: <a href=\"https://stackoverflow.com/q/19896870/1915448\">Why is my Spring @Autowired field null?</a></p>\n"},{"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1694525123,"post_id":77081680,"comment_id":135900120,"body_markdown":"If this answer helped you then you should mark it as accepted. The checkbox I&#39;d on the left of the answer. Also it&#39;s worth to vote up the answer that helped you the same to help others to choose the correct answer.","body":"If this answer helped you then you should mark it as accepted. The checkbox I&#39;d on the left of the answer. Also it&#39;s worth to vote up the answer that helped you the same to help others to choose the correct answer."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694435721,"creation_date":1694435721,"answer_id":77081680,"question_id":77081319,"body_markdown":"You shouldn&#39;t use [`@Autowired`][1] on a method parameter. It&#39;s not used by autowiring. \r\n\r\n&gt;Marks a constructor, field, setter method or config method as to be autowired by Spring&#39;s dependency injection facilities.\r\n\r\nInstead create a property of controller and use it in the method \r\n\r\n\r\n```\r\n@RestController\r\npublic class NodeController {\r\n\r\n   @Autowired SocialNetwork socialNetwork;\r\n\r\n    @PostMapping(&quot;/metrics&quot;)\r\n    public MetricJSON computeMetrics(\r\n            @Valid @RequestBody MetricsPayload payload\r\n            \r\n    ) throws InvocationTargetException, NoSuchMethodException, InstantiationException, IllegalAccessException {\r\n        return new MetricJSON(socialNetwork.fromRequest(payload));\r\n   }\r\n}\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/3.2.4.RELEASE_to_4.0.0.M3/Spring%20Framework%203.2.4.RELEASE/org/springframework/beans/factory/annotation/Autowired.html","title":"Spring Boot @Autowired field return .NullPointerException (Using neo4J)","body":"<p>You shouldn't use <a href=\"https://docs.spring.io/spring-framework/docs/3.2.4.RELEASE_to_4.0.0.M3/Spring%20Framework%203.2.4.RELEASE/org/springframework/beans/factory/annotation/Autowired.html\" rel=\"nofollow noreferrer\"><code>@Autowired</code></a> on a method parameter. It's not used by autowiring.</p>\n<blockquote>\n<p>Marks a constructor, field, setter method or config method as to be autowired by Spring's dependency injection facilities.</p>\n</blockquote>\n<p>Instead create a property of controller and use it in the method</p>\n<pre><code>@RestController\npublic class NodeController {\n\n   @Autowired SocialNetwork socialNetwork;\n\n    @PostMapping(&quot;/metrics&quot;)\n    public MetricJSON computeMetrics(\n            @Valid @RequestBody MetricsPayload payload\n            \n    ) throws InvocationTargetException, NoSuchMethodException, InstantiationException, IllegalAccessException {\n        return new MetricJSON(socialNetwork.fromRequest(payload));\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":29413405,"reputation":1,"user_id":22536777,"display_name":"JeanLucR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1694435721,"creation_date":1694432381,"question_id":77081319,"body_markdown":"I am making a small api using spring-boot and Neo4J, but for some reason the `@autowired` attributes to the domains are null in one of my `@Service` class. The automatically generated route correctly returns the nodes from Neo4J database, so I assume they must be some error in the beans connection\r\n\r\nThe controller :\r\n\r\n```\r\n@RestController\r\npublic class NodeController {\r\n    @PostMapping(&quot;/metrics&quot;)\r\n    public MetricJSON computeMetrics(\r\n            @Valid @RequestBody MetricsPayload payload,\r\n            @Autowired SocialNetwork socialNetwork\r\n    ) throws InvocationTargetException, NoSuchMethodException, InstantiationException, IllegalAccessException {\r\n        return new MetricJSON(socialNetwork.fromRequest(payload));\r\n    }\r\n```\r\n\r\nThe `@Service` class\r\n\r\n```\r\n@Service\r\npublic class SocialNetwork  {\r\n    @Autowired\r\n    public NetworkRepository networkRepository;\r\n\r\n    @Autowired\r\n    public NodeRepository nodeRepository;\r\n\r\n    @Autowired\r\n    public Evolution evolution;\r\n\r\n    public PersonalNetwork fromRequest(@NotNull MetricsPayload payload) throws NoSuchMethodException, InstantiationException, IllegalAccessException, InvocationTargetException {\r\n        Network network = this.networkRepository.findById(payload.getNetworkId()).orElseThrow(NotFoundException::new);\r\n        Node ego = this.nodeRepository.findByTag(payload.getEgoTag()).orElseThrow(NotFoundException::new);\r\nSimpleWeightedGraph&lt;Integer, DefaultWeightedEdge&gt; opn = this.nodeRepository.extractOPN(ego, payload.getDepth());\r\n        return this.fromGraph(opn, ego, payload);\r\n}\r\n```\r\n\r\nThe Node domain class :\r\n\r\n```\r\n@org.springframework.data.neo4j.core.schema.Node(&quot;Node&quot;)\r\npublic class Node {\r\n    @Id\r\n    private String id;\r\n    @Property(&quot;tag&quot;)\r\n    private String tag;\r\n    @Relationship(type = &quot;FROM&quot;, direction = OUTGOING)\r\n    private Set&lt;Node&gt; outgoingNodes;\r\n    @Relationship(type = &quot;TO&quot;, direction = INCOMING)\r\n    private Set&lt;Node&gt; incomingNodes;\r\n    public String getTag() {\r\n        return tag;\r\n    }\r\n\r\n    public Set&lt;Node&gt; getOutgoingNodes() {\r\n        return outgoingNodes;\r\n    }\r\n```\r\n\r\nThe NodeRepository class :\r\n\r\n```\r\npublic interface NodeRepository extends Neo4jRepository&lt;Node, String&gt; {\r\n    Optional&lt;Node&gt; findByTag(String tag);\r\n}\r\n```\r\n\r\nAnd yet when I run the API I obtain this error :\r\n\r\n`Failed to complete request: java.lang.NullPointerException: Cannot invoke &quot;com.api.repositories.NodeRepository.findByTag(String)&quot; because &quot;this.nodeRepository&quot; is null`","title":"Spring Boot @Autowired field return .NullPointerException (Using neo4J)","body":"<p>I am making a small api using spring-boot and Neo4J, but for some reason the <code>@autowired</code> attributes to the domains are null in one of my <code>@Service</code> class. The automatically generated route correctly returns the nodes from Neo4J database, so I assume they must be some error in the beans connection</p>\n<p>The controller :</p>\n<pre><code>@RestController\npublic class NodeController {\n    @PostMapping(&quot;/metrics&quot;)\n    public MetricJSON computeMetrics(\n            @Valid @RequestBody MetricsPayload payload,\n            @Autowired SocialNetwork socialNetwork\n    ) throws InvocationTargetException, NoSuchMethodException, InstantiationException, IllegalAccessException {\n        return new MetricJSON(socialNetwork.fromRequest(payload));\n    }\n</code></pre>\n<p>The <code>@Service</code> class</p>\n<pre><code>@Service\npublic class SocialNetwork  {\n    @Autowired\n    public NetworkRepository networkRepository;\n\n    @Autowired\n    public NodeRepository nodeRepository;\n\n    @Autowired\n    public Evolution evolution;\n\n    public PersonalNetwork fromRequest(@NotNull MetricsPayload payload) throws NoSuchMethodException, InstantiationException, IllegalAccessException, InvocationTargetException {\n        Network network = this.networkRepository.findById(payload.getNetworkId()).orElseThrow(NotFoundException::new);\n        Node ego = this.nodeRepository.findByTag(payload.getEgoTag()).orElseThrow(NotFoundException::new);\nSimpleWeightedGraph&lt;Integer, DefaultWeightedEdge&gt; opn = this.nodeRepository.extractOPN(ego, payload.getDepth());\n        return this.fromGraph(opn, ego, payload);\n}\n</code></pre>\n<p>The Node domain class :</p>\n<pre><code>@org.springframework.data.neo4j.core.schema.Node(&quot;Node&quot;)\npublic class Node {\n    @Id\n    private String id;\n    @Property(&quot;tag&quot;)\n    private String tag;\n    @Relationship(type = &quot;FROM&quot;, direction = OUTGOING)\n    private Set&lt;Node&gt; outgoingNodes;\n    @Relationship(type = &quot;TO&quot;, direction = INCOMING)\n    private Set&lt;Node&gt; incomingNodes;\n    public String getTag() {\n        return tag;\n    }\n\n    public Set&lt;Node&gt; getOutgoingNodes() {\n        return outgoingNodes;\n    }\n</code></pre>\n<p>The NodeRepository class :</p>\n<pre><code>public interface NodeRepository extends Neo4jRepository&lt;Node, String&gt; {\n    Optional&lt;Node&gt; findByTag(String tag);\n}\n</code></pre>\n<p>And yet when I run the API I obtain this error :</p>\n<p><code>Failed to complete request: java.lang.NullPointerException: Cannot invoke &quot;com.api.repositories.NodeRepository.findByTag(String)&quot; because &quot;this.nodeRepository&quot; is null</code></p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694427997,"post_id":77080790,"comment_id":135885082,"body_markdown":"Why do you scroll the `ResultSet` to the end in the first place?","body":"Why do you scroll the <code>ResultSet</code> to the end in the first place?"},{"owner":{"account_id":21661965,"reputation":174,"user_id":15980977,"display_name":"Abhijith Ea"},"score":0,"creation_date":1694428401,"post_id":77080790,"comment_id":135885138,"body_markdown":"@Kayaman What do you mean? If you&#39;re wondering why I wrote &#39;rs.last&#39; at the start, it&#39;s to count the entire result.","body":"@Kayaman What do you mean? If you&#39;re wondering why I wrote &#39;rs.last&#39; at the start, it&#39;s to count the entire result."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694428929,"post_id":77080790,"comment_id":135885212,"body_markdown":"Yeah, counting the resultset size up front is always suspicious. Proper programming would have kept your code working with a forward_only resultset.","body":"Yeah, counting the resultset size up front is always suspicious. Proper programming would have kept your code working with a forward_only resultset."},{"owner":{"account_id":21661965,"reputation":174,"user_id":15980977,"display_name":"Abhijith Ea"},"score":0,"creation_date":1694429390,"post_id":77080790,"comment_id":135885278,"body_markdown":"@Kayaman The count of the result is needed at the beginning. Because we are performing some calculations based on the count.","body":"@Kayaman The count of the result is needed at the beginning. Because we are performing some calculations based on the count."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694429404,"post_id":77080790,"comment_id":135885285,"body_markdown":"Even if `rs.last()` still worked, it would be still undesirable. It&#39;s an expensive and redundant operation. Add the results to your &#39;dto&#39; and you&#39;ll *know* how many you got. And in any case, you could have used `select count(*)` if absolutely necessary (more efficient ) You could even possibly do your &quot;calculations&quot; in SQL","body":"Even if <code>rs.last()</code> still worked, it would be still undesirable. It&#39;s an expensive and redundant operation. Add the results to your &#39;dto&#39; and you&#39;ll <i>know</i> how many you got. And in any case, you could have used <code>select count(*)</code> if absolutely necessary (more efficient ) You could even possibly do your &quot;calculations&quot; in SQL"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694429633,"post_id":77080790,"comment_id":135885314,"body_markdown":"Well, if you&#39;re returning a `ResultSet` from a method, your code probably has a lot of other quality issues. But the `rs.last()` is a real beginner-flag.","body":"Well, if you&#39;re returning a <code>ResultSet</code> from a method, your code probably has a lot of other quality issues. But the <code>rs.last()</code> is a real beginner-flag."},{"owner":{"account_id":21661965,"reputation":174,"user_id":15980977,"display_name":"Abhijith Ea"},"score":0,"creation_date":1694429996,"post_id":77080790,"comment_id":135885378,"body_markdown":"@g00se The query we are using is something like this: `SELECT COUNT(*), rid FROM rm_info_history WHERE rid IN (&#39;1021878&#39;, &#39;1022883&#39;, &#39;1025119&#39;) GROUP BY rid;` So it&#39;s not just about taking the count. We are using the result set after finding the count of the result.","body":"@g00se The query we are using is something like this: <code>SELECT COUNT(*), rid FROM rm_info_history WHERE rid IN (&#39;1021878&#39;, &#39;1022883&#39;, &#39;1025119&#39;) GROUP BY rid;</code> So it&#39;s not just about taking the count. We are using the result set after finding the count of the result."},{"owner":{"account_id":21661965,"reputation":174,"user_id":15980977,"display_name":"Abhijith Ea"},"score":0,"creation_date":1694430699,"post_id":77080790,"comment_id":135885497,"body_markdown":"@Kayaman Yeah, But the batch was working fine until the migration. Why would the forward_only result set throwing error now. We did updated the dependency `mysql-connector-java`","body":"@Kayaman Yeah, But the batch was working fine until the migration. Why would the forward_only result set throwing error now. We did updated the dependency <code>mysql-connector-java</code>"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":3,"creation_date":1694431445,"post_id":77080790,"comment_id":135885623,"body_markdown":"Well, your code was not compatible with `ResultSet.FORWARD_ONLY` to begin with since it doesn&#39;t support seeking in the ResultSet. Your code worked _by accident_ and after updates you&#39;re seeing what should have happened before already. But based on some eariler related questions, I assume MySQL loaded the full ResultSet and allowed you to seek in it *even with*  a `FORWARD_ONLY` hint. Maybe there was a bugfix in some version of the driver and now it behaves correctly.","body":"Well, your code was not compatible with <code>ResultSet.FORWARD_ONLY</code> to begin with since it doesn&#39;t support seeking in the ResultSet. Your code worked <i>by accident</i> and after updates you&#39;re seeing what should have happened before already. But based on some eariler related questions, I assume MySQL loaded the full ResultSet and allowed you to seek in it <i>even with</i>  a <code>FORWARD_ONLY</code> hint. Maybe there was a bugfix in some version of the driver and now it behaves correctly."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1694431522,"post_id":77080790,"comment_id":135885640,"body_markdown":"E.g. some smart, handsome devil here is talking about MySQL details wrt ResultSets https://stackoverflow.com/a/30162192/2541560","body":"E.g. some smart, handsome devil here is talking about MySQL details wrt ResultSets <a href=\"https://stackoverflow.com/a/30162192/2541560\">stackoverflow.com/a/30162192/2541560</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1694431881,"post_id":77080790,"comment_id":135885700,"body_markdown":"IIRC, MySQL Connector/J silently upgraded to SCROLL_INSENSITIVE, which is allowed by the JDBC specification.","body":"IIRC, MySQL Connector/J silently upgraded to SCROLL_INSENSITIVE, which is allowed by the JDBC specification."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694432205,"post_id":77080790,"comment_id":135885760,"body_markdown":"*@g00se The query we are using is something like this:...* So, your row count is in range 0 thru 3 and your &#39;dto&#39; list needs a capacity of 3. I don&#39;t see the need to know the count in advance","body":"<i>@g00se The query we are using is something like this:...</i> So, your row count is in range 0 thru 3 and your &#39;dto&#39; list needs a capacity of 3. I don&#39;t see the need to know the count in advance"},{"owner":{"account_id":21661965,"reputation":174,"user_id":15980977,"display_name":"Abhijith Ea"},"score":0,"creation_date":1694436884,"post_id":77080790,"comment_id":135886643,"body_markdown":"@MarkRotteveel So you&#39;re saying, it worked before because it was silently upgraded to the  SCROLL_INSENSITIVE?. Could you please share which part of the specification mentioned about it.","body":"@MarkRotteveel So you&#39;re saying, it worked before because it was silently upgraded to the  SCROLL_INSENSITIVE?. Could you please share which part of the specification mentioned about it."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1694449293,"post_id":77080790,"comment_id":135889294,"body_markdown":"JDBC 4.3, section 15.1.1 &quot;ResultSet Types&quot; allows a result set to use a different result set type if it can&#39;t honour the requested type. That said, it is entirely possible that MySQL reported it incorrectly as TYPE_FORWARD_ONLY, but had it behave as a TYPE_SCROLL_INSENSITIVE; older versions of MySQL Connector/J did not always adhere to the specification.","body":"JDBC 4.3, section 15.1.1 &quot;ResultSet Types&quot; allows a result set to use a different result set type if it can&#39;t honour the requested type. That said, it is entirely possible that MySQL reported it incorrectly as TYPE_FORWARD_ONLY, but had it behave as a TYPE_SCROLL_INSENSITIVE; older versions of MySQL Connector/J did not always adhere to the specification."},{"owner":{"account_id":21661965,"reputation":174,"user_id":15980977,"display_name":"Abhijith Ea"},"score":0,"creation_date":1694494499,"post_id":77080790,"comment_id":135894332,"body_markdown":"@MarkRotteveel Thank you for the help. Really appreciate :)","body":"@MarkRotteveel Thank you for the help. Really appreciate :)"}],"owner":{"account_id":21661965,"reputation":174,"user_id":15980977,"display_name":"Abhijith Ea"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694435674,"creation_date":1694427575,"question_id":77080790,"body_markdown":"We recently migrated our databases from MySQL 5.7 to MySQL 8.0. Before the migration, our Java batch code was working fine. However, after the migration, we had an issue with the line of code `rs.last`, which now throws the following error:\r\n\r\n&gt; java.sql.SQLException: Operation not allowed for a result set of type\r\n&gt; ResultSet.TYPE_FORWARD_ONLY.\r\n\r\n\r\nHere&#39;s the code which was throwing error:\r\n\r\n```java\r\nResultSet rs = mysqlMasterDB.executeQuery(historyCheck);\r\nrs.last();\r\nint total = rs.getRow();\r\nrs.beforeFirst();\r\n```\r\n\r\nThe `executeQuery` method is defined as follows:\r\n\r\n```java\r\npublic ResultSet executeQuery(String query) throws SQLException {\r\n    return getConnection().createStatement().executeQuery(query);\r\n}\r\n```\r\n\r\nTo fix this issue, I made the following modifications:\r\n\r\nI created a new `executeQuery` function that accepts additional parameters for `ResultSet` type and concurrency:\r\n\r\n```java\r\npublic ResultSet executeQuery(String query, int resultSetType, int resultSetConcurrency) throws SQLException, SQLFeatureNotSupportedException {\r\n    return getConnection().createStatement(resultSetType, resultSetConcurrency).executeQuery(query);\r\n}\r\n```\r\n\r\nThen, I changed the line like this:\r\n\r\n```java\r\nResultSet rs = mysqlMasterDB.executeQuery(historyCheck, ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_READ_ONLY);\r\nrs.last();\r\nint total = rs.getRow();\r\nrs.beforeFirst();\r\n```\r\n\r\nHowever, I&#39;m not sure whether the issue is related to the upgrade of the `mysql-connector-java` dependency from version 5.1.36 to 8.0.33. Can anyone confirm whether this dependency update might be the cause of the problem, or if there&#39;s another potential source for this error?","title":"Java ResultSet.TYPE_FORWARD_ONLY Error After MySQL Database Migration from 5.7 to 8.0","body":"<p>We recently migrated our databases from MySQL 5.7 to MySQL 8.0. Before the migration, our Java batch code was working fine. However, after the migration, we had an issue with the line of code <code>rs.last</code>, which now throws the following error:</p>\n<blockquote>\n<p>java.sql.SQLException: Operation not allowed for a result set of type\nResultSet.TYPE_FORWARD_ONLY.</p>\n</blockquote>\n<p>Here's the code which was throwing error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ResultSet rs = mysqlMasterDB.executeQuery(historyCheck);\nrs.last();\nint total = rs.getRow();\nrs.beforeFirst();\n</code></pre>\n<p>The <code>executeQuery</code> method is defined as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ResultSet executeQuery(String query) throws SQLException {\n    return getConnection().createStatement().executeQuery(query);\n}\n</code></pre>\n<p>To fix this issue, I made the following modifications:</p>\n<p>I created a new <code>executeQuery</code> function that accepts additional parameters for <code>ResultSet</code> type and concurrency:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ResultSet executeQuery(String query, int resultSetType, int resultSetConcurrency) throws SQLException, SQLFeatureNotSupportedException {\n    return getConnection().createStatement(resultSetType, resultSetConcurrency).executeQuery(query);\n}\n</code></pre>\n<p>Then, I changed the line like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ResultSet rs = mysqlMasterDB.executeQuery(historyCheck, ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_READ_ONLY);\nrs.last();\nint total = rs.getRow();\nrs.beforeFirst();\n</code></pre>\n<p>However, I'm not sure whether the issue is related to the upgrade of the <code>mysql-connector-java</code> dependency from version 5.1.36 to 8.0.33. Can anyone confirm whether this dependency update might be the cause of the problem, or if there's another potential source for this error?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1694435709,"post_id":77081667,"comment_id":135886404,"body_markdown":"Hi, thanks for your answer. Yes, that&#39;s what I also have been thinking about. I&#39;ve still remained curious for the problem I&#39;ve encountered, thus created the post. I&#39;ll be trying to implement these bean values right now as it also seems, like you said, a perfect use-case for them.","body":"Hi, thanks for your answer. Yes, that&#39;s what I also have been thinking about. I&#39;ve still remained curious for the problem I&#39;ve encountered, thus created the post. I&#39;ll be trying to implement these bean values right now as it also seems, like you said, a perfect use-case for them."},{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":1,"creation_date":1694437459,"post_id":77081667,"comment_id":135886786,"body_markdown":"I&#39;ve managed to set both JWT key in `jwt.properties` file and `imageKit.path` in `application.properties`. Values for tests and production code differ and there&#39;s no problem with loading the context anymore in neither of environments. I&#39;ve also realized how making these two beans properties simplified the code. Thank you.","body":"I&#39;ve managed to set both JWT key in <code>jwt.properties</code> file and <code>imageKit.path</code> in <code>application.properties</code>. Values for tests and production code differ and there&#39;s no problem with loading the context anymore in neither of environments. I&#39;ve also realized how making these two beans properties simplified the code. Thank you."},{"owner":{"account_id":12473846,"reputation":98,"user_id":9080974,"display_name":"Herry"},"score":0,"creation_date":1694504426,"post_id":77081667,"comment_id":135895693,"body_markdown":"If you have multiple beans of the same type, spring does not now which one to inject. There are several ways of resolving that. One would be to use `@Primary` which defines a default bean if no other criteria are given. `@Qualifier` works to select one by a &quot;query&quot;. However, a bean does one thing (in your case provide a string), so having multiple beans fulfilling the same task is not intended, that&#39;s why you hit that wall :).","body":"If you have multiple beans of the same type, spring does not now which one to inject. There are several ways of resolving that. One would be to use <code>@Primary</code> which defines a default bean if no other criteria are given. <code>@Qualifier</code> works to select one by a &quot;query&quot;. However, a bean does one thing (in your case provide a string), so having multiple beans fulfilling the same task is not intended, that&#39;s why you hit that wall :)."},{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":1,"creation_date":1694510459,"post_id":77081667,"comment_id":135896821,"body_markdown":"Yes. `@Primary` did the job, when there was only one String bean annotated with it. Obviously, I&#39;ve grown suspicious of the String type, so I even started creating enums for both beans, but found your solution much simpler. Retrospectively I can see that I did everything to dodge the `.properties`. And I don&#39;t quite know why as I use properties in my current project relatively extensively.","body":"Yes. <code>@Primary</code> did the job, when there was only one String bean annotated with it. Obviously, I&#39;ve grown suspicious of the String type, so I even started creating enums for both beans, but found your solution much simpler. Retrospectively I can see that I did everything to dodge the <code>.properties</code>. And I don&#39;t quite know why as I use properties in my current project relatively extensively."}],"tags":[],"owner":{"account_id":12473846,"reputation":98,"user_id":9080974,"display_name":"Herry"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694435571,"creation_date":1694435571,"answer_id":77081667,"question_id":77081536,"body_markdown":"What you are trying to achieve looks like a perfect use-case for properties. So your Provider Bean would look like this:\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;imageKit&quot;)\r\n    public class ConfigProperties {\r\n        \r\n        private String path;\r\n\r\n        // getters, setters\r\n    \r\n    }\r\n\r\n\r\n\r\napplication.properties:\r\n\r\n    imageKit.path=&quot;/main&quot;\r\n\r\n\r\nThe field `path` here would map to `imageKit.path` in your `application.properties`.  For testing, you can provide a different `application.properties` file in your `test` folder, dynamically replacing the provided value. If you need more values in parallel, consider using profiles. ","title":"Collision with other @Primary-annotated bean (NoUniqueBeanDefinitionException)","body":"<p>What you are trying to achieve looks like a perfect use-case for properties. So your Provider Bean would look like this:</p>\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = &quot;imageKit&quot;)\npublic class ConfigProperties {\n    \n    private String path;\n\n    // getters, setters\n\n}\n</code></pre>\n<p>application.properties:</p>\n<pre><code>imageKit.path=&quot;/main&quot;\n</code></pre>\n<p>The field <code>path</code> here would map to <code>imageKit.path</code> in your <code>application.properties</code>.  For testing, you can provide a different <code>application.properties</code> file in your <code>test</code> folder, dynamically replacing the provided value. If you need more values in parallel, consider using profiles.</p>\n"}],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77081667,"answer_count":1,"score":1,"last_activity_date":1694435571,"creation_date":1694434535,"question_id":77081536,"body_markdown":"I have a bean:\r\n```\r\n@Bean(&quot;imageKitPath&quot;)\r\npublic String imageKitPath() {\r\n    return &quot;/main&quot;;\r\n}\r\n```\r\nHowever, in tests I want this bean to have `/test` value. I successfully implemented it like this:\r\n```\r\n@Bean\r\n@Primary\r\npublic String imageKitPath2() {\r\n    return &quot;/test&quot;;\r\n}\r\n```\r\nNow, here&#39;s the issue. I have also successfully implemented JWT-based authentication. However, I would like to have different signature for tests and for production.\r\n\r\nIn my production code, I have a bean with JWT&#39;s signature:\r\n```\r\n@Bean(&quot;jwtKey&quot;)\r\npublic String jwtKey() {\r\n    // some logic to read key from file\r\n    return jwtKey;\r\n}\r\n```\r\nAnd, similarly to previous example, in tests it looks like this:\r\n```\r\n@Bean\r\n@Primary\r\npublic String jwtKey2() {\r\n    // some logic to read key from application.properties\r\n    return jwtKey;\r\n}\r\n```\r\nBoth beans are created correctly and have values I expect them to have. The issue lies in injecting these values to other components. For example, in my `JwtService` class (which is `@Service`-annotated), I struggle to autowire them. I&#39;ve tried multiple solutions.\r\n\r\n1.\r\n```\r\nprivate final String jwtKey;\r\n\r\n@Autowired\r\npublic JwtService(String jwtKey) {\r\n    this.jwtKey = jwtKey;\r\n}\r\n```\r\nThis will work just fine in production where there&#39;s no second bean (`jwtKey2`). But, the tests will fail to load context with `org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type &#39;java.lang.String&#39; available: more than one &#39;primary&#39; bean found among candidates`.\r\n\r\n2.\r\n```\r\nprivate final String jwtKey;\r\n\r\n@Autowired\r\npublic JwtService(@Qualifier(&quot;jwtKey&quot;) String jwtKey) {\r\n    this.jwtKey = jwtKey;\r\n}\r\n```\r\nAgain, works in production, but in tests it will use the production&#39;s value of JWT, not the one I&#39;ve specified in tests.\r\n\r\n3.\r\n```\r\nprivate final String jwtKey;\r\n\r\n@Autowired\r\npublic JwtService(@Qualifier(&quot;jwtKey2&quot;) String jwtKey) {\r\n    this.jwtKey = jwtKey;\r\n}\r\n```\r\nAnd this one works correctly in tests, but - obviously - will fail in production as there&#39;s no `jwtKey2` bean.\r\n\r\nThe reason that I&#39;ve described `imageKitPath` bean is simple. Because tests specify a bean that overrides `imageKitPath` by using `@Primary`, Spring - I think - can not differentiate between `imageKitPath2` and `jwtKey2`. Removing `imageKitPath` beans entirely solves the JWT&#39;s bean issue.","title":"Collision with other @Primary-annotated bean (NoUniqueBeanDefinitionException)","body":"<p>I have a bean:</p>\n<pre><code>@Bean(&quot;imageKitPath&quot;)\npublic String imageKitPath() {\n    return &quot;/main&quot;;\n}\n</code></pre>\n<p>However, in tests I want this bean to have <code>/test</code> value. I successfully implemented it like this:</p>\n<pre><code>@Bean\n@Primary\npublic String imageKitPath2() {\n    return &quot;/test&quot;;\n}\n</code></pre>\n<p>Now, here's the issue. I have also successfully implemented JWT-based authentication. However, I would like to have different signature for tests and for production.</p>\n<p>In my production code, I have a bean with JWT's signature:</p>\n<pre><code>@Bean(&quot;jwtKey&quot;)\npublic String jwtKey() {\n    // some logic to read key from file\n    return jwtKey;\n}\n</code></pre>\n<p>And, similarly to previous example, in tests it looks like this:</p>\n<pre><code>@Bean\n@Primary\npublic String jwtKey2() {\n    // some logic to read key from application.properties\n    return jwtKey;\n}\n</code></pre>\n<p>Both beans are created correctly and have values I expect them to have. The issue lies in injecting these values to other components. For example, in my <code>JwtService</code> class (which is <code>@Service</code>-annotated), I struggle to autowire them. I've tried multiple solutions.</p>\n<p>1.</p>\n<pre><code>private final String jwtKey;\n\n@Autowired\npublic JwtService(String jwtKey) {\n    this.jwtKey = jwtKey;\n}\n</code></pre>\n<p>This will work just fine in production where there's no second bean (<code>jwtKey2</code>). But, the tests will fail to load context with <code>org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type 'java.lang.String' available: more than one 'primary' bean found among candidates</code>.</p>\n<p>2.</p>\n<pre><code>private final String jwtKey;\n\n@Autowired\npublic JwtService(@Qualifier(&quot;jwtKey&quot;) String jwtKey) {\n    this.jwtKey = jwtKey;\n}\n</code></pre>\n<p>Again, works in production, but in tests it will use the production's value of JWT, not the one I've specified in tests.</p>\n<p>3.</p>\n<pre><code>private final String jwtKey;\n\n@Autowired\npublic JwtService(@Qualifier(&quot;jwtKey2&quot;) String jwtKey) {\n    this.jwtKey = jwtKey;\n}\n</code></pre>\n<p>And this one works correctly in tests, but - obviously - will fail in production as there's no <code>jwtKey2</code> bean.</p>\n<p>The reason that I've described <code>imageKitPath</code> bean is simple. Because tests specify a bean that overrides <code>imageKitPath</code> by using <code>@Primary</code>, Spring - I think - can not differentiate between <code>imageKitPath2</code> and <code>jwtKey2</code>. Removing <code>imageKitPath</code> beans entirely solves the JWT's bean issue.</p>\n"},{"tags":["java","grpc","quarkus","grpc-java"],"answers":[{"comments":[{"owner":{"account_id":13938264,"reputation":45,"user_id":10064799,"display_name":"Денис Анд"},"score":0,"creation_date":1694455244,"post_id":77080630,"comment_id":135890410,"body_markdown":"Created reproducer for you:","body":"Created reproducer for you:"},{"owner":{"account_id":13938264,"reputation":45,"user_id":10064799,"display_name":"Денис Анд"},"score":0,"creation_date":1694455654,"post_id":77080630,"comment_id":135890464,"body_markdown":"https://github.com/denysandriyanov/reproducer","body":"<a href=\"https://github.com/denysandriyanov/reproducer\" rel=\"nofollow noreferrer\">github.com/denysandriyanov/reproducer</a>"},{"owner":{"account_id":13938264,"reputation":45,"user_id":10064799,"display_name":"Денис Анд"},"score":0,"creation_date":1694455971,"post_id":77080630,"comment_id":135890520,"body_markdown":"logged a bug https://github.com/quarkusio/quarkus/issues/35855","body":"logged a bug <a href=\"https://github.com/quarkusio/quarkus/issues/35855\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/issues/35855</a>"},{"owner":{"account_id":230858,"reputation":418,"user_id":494709,"display_name":"alesj"},"score":0,"creation_date":1694515934,"post_id":77080630,"comment_id":135898003,"body_markdown":"This looks like a Gradle issue on our side ... if I add this pom.xml: https://gist.github.com/alesj/08c78366c471eb799e9f3c16082cd74b ... and run it with Maven ... it works","body":"This looks like a Gradle issue on our side ... if I add this pom.xml: <a href=\"https://gist.github.com/alesj/08c78366c471eb799e9f3c16082cd74b\" rel=\"nofollow noreferrer\">gist.github.com/alesj/08c78366c471eb799e9f3c16082cd74b</a> ... and run it with Maven ... it works"}],"tags":[],"owner":{"account_id":230858,"reputation":418,"user_id":494709,"display_name":"alesj"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694426261,"creation_date":1694426261,"answer_id":77080630,"question_id":77075897,"body_markdown":"This looks strange -- as we have plenty of test cases that check / test this.\r\ne.g.\r\n* https://github.com/alesj/quarkus_cl130/blob/stacko1/app/src/main/java/com/alesj/qcl/app/Configuration.java#L28\r\n\r\nOpen up a GitHub issue on Quarkus GitHub with a reproducer, and I&#39;ll have a look ...","title":"Unable to inject @GrpcClient in quarkus &quot;The following beans match by type, but none have matching qualifiers&quot;","body":"<p>This looks strange -- as we have plenty of test cases that check / test this.\ne.g.</p>\n<ul>\n<li><a href=\"https://github.com/alesj/quarkus_cl130/blob/stacko1/app/src/main/java/com/alesj/qcl/app/Configuration.java#L28\" rel=\"nofollow noreferrer\">https://github.com/alesj/quarkus_cl130/blob/stacko1/app/src/main/java/com/alesj/qcl/app/Configuration.java#L28</a></li>\n</ul>\n<p>Open up a GitHub issue on Quarkus GitHub with a reproducer, and I'll have a look ...</p>\n"},{"comments":[{"owner":{"account_id":13938264,"reputation":45,"user_id":10064799,"display_name":"Денис Анд"},"score":0,"creation_date":1694435339,"post_id":77081101,"comment_id":135886333,"body_markdown":"Hi Alesj, i am afraid it was just a typo when putting down the text here in stackoverflow. So it&#39;s not related to issue as it is.\nI was trying  both\n    @GrpcClient(&quot;userInfoService&quot;)\n    UserInfoService userInfoService;\n\nand \n    @GrpcClient\n    UserInfoService userInfoService;","body":"Hi Alesj, i am afraid it was just a typo when putting down the text here in stackoverflow. So it&#39;s not related to issue as it is. I was trying  both     @GrpcClient(&quot;userInfoService&quot;)     UserInfoService userInfoService;  and      @GrpcClient     UserInfoService userInfoService;"}],"tags":[],"owner":{"account_id":230858,"reputation":418,"user_id":494709,"display_name":"alesj"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694430458,"creation_date":1694430458,"answer_id":77081101,"question_id":77075897,"body_markdown":"Ah, Clement found it -- you have a trailing space in your client name.\r\n\r\n@GrpcClient(&quot;userInfoService &quot;) // &lt;--- see space at the end\r\n\r\nvs\r\n\r\nThe following beans match by type, but none have matching qualifiers: - Bean [class=userinfo.grpc.UserInfoService, qualifiers=[@Any, @io.quarkus.grpc.GrpcClient(&quot;userInfoService&quot;)]]\r\n\r\nNice catch Clement!","title":"Unable to inject @GrpcClient in quarkus &quot;The following beans match by type, but none have matching qualifiers&quot;","body":"<p>Ah, Clement found it -- you have a trailing space in your client name.</p>\n<p>@GrpcClient(&quot;userInfoService &quot;) // &lt;--- see space at the end</p>\n<p>vs</p>\n<p>The following beans match by type, but none have matching qualifiers: - Bean [class=userinfo.grpc.UserInfoService, qualifiers=[@Any, @io.quarkus.grpc.GrpcClient(&quot;userInfoService&quot;)]]</p>\n<p>Nice catch Clement!</p>\n"}],"owner":{"account_id":13938264,"reputation":45,"user_id":10064799,"display_name":"Денис Анд"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694435381,"creation_date":1694345025,"question_id":77075897,"body_markdown":"I am trying to create gRPC client in Quarkus. Did everything according to the documentation.\r\n\r\nPlaced proto files in src/main/proto:\r\nhere is the content of the service file\r\n\r\n    syntax = &quot;proto3&quot;;\r\n    \r\n    package userinfo.grpc;\r\n    \r\n    import &quot;UserInfoRequest.proto&quot;;\r\n    import &quot;UserInfoResponse.proto&quot;;\r\n    \r\n    service UserInfoService {\r\n      rpc GetUserInfo (UserInfoRequest) returns (UserInfoResponse);\r\n    }\r\n\r\nadded to gradle following dependency:\r\n  \r\n\r\n    implementation &#39;io.quarkus:quarkus-grpc&#39;\r\n\r\nWhen I built the project I saw my gRPC classes generated in\r\n\r\n    &lt;projectFolder&gt;\\build\\classes\\java\\quarkus-generated-sources\\grpc\\userinfo\r\n[![enter image description here][1]][1]\r\n\r\nMy service that is using the gRPC client:\r\n\r\n    @AllArgsConstructor\r\n    @LookupIfProperty(name = &quot;auth.identity-service-enabled&quot;, stringValue = &quot;true&quot;)\r\n    @ApplicationScoped\r\n    public class IdentityUserInfoProviderGrpc implements UserInfoProvider {\r\n        @GrpcClient(&quot;userInfoService&quot;)\r\n        UserInfoService userInfoService;\r\n\r\n    //business logic\r\n\r\nThe problem is that when I run the application I get:\r\n\r\n&gt; Blockquote\r\n[error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: jakarta.enterprise.inject.spi.DeploymentException: jakarta.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type userinfo.grpc.UserInfoService and qualifiers [@Default]\r\n\t- java member: &lt;my_package&gt;.userinfo.grpc.IdentityUserInfoProviderGrpc():userInfoService\r\n\t- declared on CLASS bean [types=[&lt;my_package&gt;.userinfo.UserInfoProvider, java.lang.Object, &lt;my_package&gt;.userinfo.grpc.IdentityUserInfoProviderGrpc], qualifiers=[@Default, @Any], target=&lt;my_package&gt;.userinfo.grpc.IdentityUserInfoProviderGrpc]\r\n\t**The following beans match by type, but none have matching qualifiers:\r\n\t\t- Bean [class=userinfo.grpc.UserInfoService, qualifiers=[@Any, @io.quarkus.grpc.GrpcClient(&quot;userInfoService&quot;)]]**\r\n\r\nWas trying to add an empty META-INF/beans.xml file in the additional module src/main/resources as well as was trying to add Gradle Jandex plugin, as advised https://stackoverflow.com/questions/55513502/how-to-create-a-jandex-index-in-quarkus-for-classes-in-a-external-module but did not help.\r\n\r\nI have read few times all the documents Quarkus provided but have not found an explanation for this as I am doing everything as described.\r\nPlease help resolve this.\r\n\r\nMuch appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3U916.png","title":"Unable to inject @GrpcClient in quarkus &quot;The following beans match by type, but none have matching qualifiers&quot;","body":"<p>I am trying to create gRPC client in Quarkus. Did everything according to the documentation.</p>\n<p>Placed proto files in src/main/proto:\nhere is the content of the service file</p>\n<pre><code>syntax = &quot;proto3&quot;;\n\npackage userinfo.grpc;\n\nimport &quot;UserInfoRequest.proto&quot;;\nimport &quot;UserInfoResponse.proto&quot;;\n\nservice UserInfoService {\n  rpc GetUserInfo (UserInfoRequest) returns (UserInfoResponse);\n}\n</code></pre>\n<p>added to gradle following dependency:</p>\n<pre><code>implementation 'io.quarkus:quarkus-grpc'\n</code></pre>\n<p>When I built the project I saw my gRPC classes generated in</p>\n<pre><code>&lt;projectFolder&gt;\\build\\classes\\java\\quarkus-generated-sources\\grpc\\userinfo\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/3U916.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3U916.png\" alt=\"enter image description here\" /></a></p>\n<p>My service that is using the gRPC client:</p>\n<pre><code>@AllArgsConstructor\n@LookupIfProperty(name = &quot;auth.identity-service-enabled&quot;, stringValue = &quot;true&quot;)\n@ApplicationScoped\npublic class IdentityUserInfoProviderGrpc implements UserInfoProvider {\n    @GrpcClient(&quot;userInfoService&quot;)\n    UserInfoService userInfoService;\n\n//business logic\n</code></pre>\n<p>The problem is that when I run the application I get:</p>\n<blockquote>\n<p>Blockquote\n[error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: jakarta.enterprise.inject.spi.DeploymentException: jakarta.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type userinfo.grpc.UserInfoService and qualifiers [@Default]\n- java member: &lt;my_package&gt;.userinfo.grpc.IdentityUserInfoProviderGrpc():userInfoService\n- declared on CLASS bean [types=[&lt;my_package&gt;.userinfo.UserInfoProvider, java.lang.Object, &lt;my_package&gt;.userinfo.grpc.IdentityUserInfoProviderGrpc], qualifiers=[@Default, @Any], target=&lt;my_package&gt;.userinfo.grpc.IdentityUserInfoProviderGrpc]\n<strong>The following beans match by type, but none have matching qualifiers:\n- Bean [class=userinfo.grpc.UserInfoService, qualifiers=[@Any, @io.quarkus.grpc.GrpcClient(&quot;userInfoService&quot;)]]</strong></p>\n</blockquote>\n<p>Was trying to add an empty META-INF/beans.xml file in the additional module src/main/resources as well as was trying to add Gradle Jandex plugin, as advised <a href=\"https://stackoverflow.com/questions/55513502/how-to-create-a-jandex-index-in-quarkus-for-classes-in-a-external-module\">How to create a Jandex index in Quarkus for classes in a external module</a> but did not help.</p>\n<p>I have read few times all the documents Quarkus provided but have not found an explanation for this as I am doing everything as described.\nPlease help resolve this.</p>\n<p>Much appreciated.</p>\n"},{"tags":["java","android","agora.io"],"owner":{"account_id":29414392,"reputation":1,"user_id":22537557,"display_name":"sunil V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694435361,"creation_date":1694435361,"question_id":77081642,"body_markdown":"&quot;I am attempting to retrieve a video stream from a Wi-Fi-connected device. By accessing the feed through its local IP address, I have successfully obtained it in my Android app. Now, I would like to integrate this stream into the Agora SDK as a local video source.&quot;\r\n\r\n\r\n\r\nthis is how i am getting the video stream in my app, \r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        surfaceView = findViewById(R.id.mjpegViewDefault1);\r\n        try {\r\n            Mjpeg.newInstance()\r\n                    .open(&quot;http://192.168.1.52:81/stream&quot;, TIMEOUT) // url to access the stream \r\n                    .subscribe(inputStream -&gt; {\r\n                        surfaceView.setSource(inputStream);\r\n                        surfaceView.setDisplayMode(DisplayMode.BEST_FIT);\r\n                        surfaceView.showFps(true);\r\n\r\n                    }, throwable -&gt; {\r\n                        // Handle the timeout exception here\r\n                        throwable.printStackTrace();\r\n                        // You can also show a message to the user or take appropriate action.\r\n                    });\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }","title":"trying to get video stream from a Wi-Fi device via its local IP address in my Android app. How can I use this stream as local video in the Agora SDK?","body":"<p>&quot;I am attempting to retrieve a video stream from a Wi-Fi-connected device. By accessing the feed through its local IP address, I have successfully obtained it in my Android app. Now, I would like to integrate this stream into the Agora SDK as a local video source.&quot;</p>\n<p>this is how i am getting the video stream in my app,</p>\n<pre><code>@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    surfaceView = findViewById(R.id.mjpegViewDefault1);\n    try {\n        Mjpeg.newInstance()\n                .open(&quot;http://192.168.1.52:81/stream&quot;, TIMEOUT) // url to access the stream \n                .subscribe(inputStream -&gt; {\n                    surfaceView.setSource(inputStream);\n                    surfaceView.setDisplayMode(DisplayMode.BEST_FIT);\n                    surfaceView.showFps(true);\n\n                }, throwable -&gt; {\n                    // Handle the timeout exception here\n                    throwable.printStackTrace();\n                    // You can also show a message to the user or take appropriate action.\n                });\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-rsocket"],"comments":[{"owner":{"account_id":9642226,"reputation":1060,"user_id":7156098,"display_name":"alegria"},"score":0,"creation_date":1694400144,"post_id":77030014,"comment_id":135881437,"body_markdown":"Can you elaborate more in your question that how would you be sacrificing Tx support by using the RSocket integration in a servlet-based env ? Is there such limitation ?","body":"Can you elaborate more in your question that how would you be sacrificing Tx support by using the RSocket integration in a servlet-based env ? Is there such limitation ?"},{"owner":{"account_id":9642226,"reputation":1060,"user_id":7156098,"display_name":"alegria"},"score":0,"creation_date":1694400664,"post_id":77030014,"comment_id":135881476,"body_markdown":"I mean the docs says &quot;Spring Security 5.2 provides RSocket support.&quot;\nAlso, how would a WebSocket connection be participating in a Transaction anyways ?","body":"I mean the docs says &quot;Spring Security 5.2 provides RSocket support.&quot; Also, how would a WebSocket connection be participating in a Transaction anyways ?"},{"owner":{"account_id":395861,"reputation":3742,"user_id":759042,"accept_rate":62,"display_name":"aha"},"score":0,"creation_date":1694435343,"post_id":77030014,"comment_id":135886334,"body_markdown":"@alegria I&#39;ve tried to clarify the question. &quot;Is there such limitation&quot; -- I don&#39;t know, that&#39;s why I&#39;am asking. The Spring docs generally stress how different those stacks are so I&#39;m a bit wary. Same with Spring Security: Yes, it provides RSocket support, but does it play nice when both the imperative and reactive stack are enabled? My testing indicates it does not, at least out of the box.`@PreAuthorize` is always handled by the imperative stack.","body":"@alegria I&#39;ve tried to clarify the question. &quot;Is there such limitation&quot; -- I don&#39;t know, that&#39;s why I&#39;am asking. The Spring docs generally stress how different those stacks are so I&#39;m a bit wary. Same with Spring Security: Yes, it provides RSocket support, but does it play nice when both the imperative and reactive stack are enabled? My testing indicates it does not, at least out of the box.<code>@PreAuthorize</code> is always handled by the imperative stack."}],"answers":[{"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1694345177,"post_id":77075834,"comment_id":135876498,"body_markdown":"can you share the client side and a working example ? I have been trying to run rsocket and regular controllers and trying to call them in my local but could not manage to create a working example, thats why I asked.","body":"can you share the client side and a working example ? I have been trying to run rsocket and regular controllers and trying to call them in my local but could not manage to create a working example, thats why I asked."},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":3,"creation_date":1694345892,"post_id":77075834,"comment_id":135876562,"body_markdown":"btw this answer feels like chatgpt response, is it ?","body":"btw this answer feels like chatgpt response, is it ?"},{"owner":{"account_id":395861,"reputation":3742,"user_id":759042,"accept_rate":62,"display_name":"aha"},"score":1,"creation_date":1694346708,"post_id":77075834,"comment_id":135876655,"body_markdown":"I&#39;m unhappy with the answer because it misses the essence of the question: What steps are necessary *exactly* to make Spring Security play nice? For example, the standard configuration as shown here does not work with method security. `@PreAuthorize` is handled by the servlet-based stack when **both** are active. Also, you state &quot;Configure your transaction manager accordingly&quot;. What does &quot;accordingly&quot; entail? Why are there no links to docs or articles that back up the claims?","body":"I&#39;m unhappy with the answer because it misses the essence of the question: What steps are necessary <i>exactly</i> to make Spring Security play nice? For example, the standard configuration as shown here does not work with method security. <code>@PreAuthorize</code> is handled by the servlet-based stack when <b>both</b> are active. Also, you state &quot;Configure your transaction manager accordingly&quot;. What does &quot;accordingly&quot; entail? Why are there no links to docs or articles that back up the claims?"},{"owner":{"account_id":9642226,"reputation":1060,"user_id":7156098,"display_name":"alegria"},"score":1,"creation_date":1694400172,"post_id":77075834,"comment_id":135881443,"body_markdown":"ChatGPT answers WILL NOT BE TOLERATED","body":"ChatGPT answers WILL NOT BE TOLERATED"}],"tags":[],"owner":{"account_id":8632778,"reputation":116,"user_id":6463903,"accept_rate":100,"display_name":"Franck Besson"},"comment_count":4,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1694343969,"creation_date":1694343969,"answer_id":77075834,"question_id":77030014,"body_markdown":"Yes, it is possible to use Spring&#39;s RSocket integration in a traditional Servlet-based Spring application without sacrificing declarative transaction support or Spring Security integration. Spring provides flexibility and modularity, allowing you to mix different technologies and features based on your requirements. You can run a separate Netty-based RSocket server alongside your existing servlet-based Spring application. Here&#39;s how you can achieve this:\r\n\r\n**Create an RSocket Server Configuration:**\r\n\r\nStart by creating an RSocket server configuration class. This class will define your RSocket server and how it handles incoming requests.\r\n\r\n    @Configuration\r\n    public class RSocketServerConfig {\r\n\r\n        @Bean\r\n        public RSocketServer rSocketServer() {\r\n            return RSocketServer.create();\r\n        }\r\n\r\n        @Bean\r\n        public RSocketMessageHandler messageHandler() {\r\n            RSocketMessageHandler handler = new RSocketMessageHandler();\r\n            handler.setRSocketStrategies(rSocketStrategies());\r\n            return handler;\r\n        }\r\n\r\n        @Bean\r\n        public RSocketStrategies rSocketStrategies() {\r\n            return RSocketStrategies.builder().build();\r\n        }\r\n    }\r\n\r\n**Define Your RSocket Controllers:**\r\n\r\nCreate RSocket controllers similar to how you create Spring MVC controllers. These controllers will handle incoming RSocket requests. For example:\r\n\r\n    @Controller\r\n    public class RSocketController {\r\n\r\n        @MessageMapping(&quot;your.rsocket.route&quot;)\r\n        public Mono&lt;String&gt; handleRSocketRequest(String request) {\r\n            // Handle the request here\r\n            return Mono.just(&quot;Response&quot;);\r\n        }\r\n    }\r\n\r\n**Enable RSocket in Your Application:**\r\n\r\nYou need to enable RSocket in your Spring application. To do this, add the @EnableRSocket annotation to one of your configuration classes:\r\n\r\n    @SpringBootApplication\r\n    @EnableRSocket\r\n    public class YourServletBasedApplication {\r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(YourServletBasedApplication.class, args);\r\n        }\r\n    }\r\n\r\n**Configure Spring Security:**\r\n\r\nIf you have Spring Security configured in your application, ensure that you also secure your RSocket endpoints appropriately. You can use Spring Security&#39;s features to secure your RSocket controllers.\r\n\r\n**Transaction Management:**\r\n\r\nSpring&#39;s transaction management should work as expected in your servlet-based Spring application. Ensure that your RSocket controllers are within the transaction boundaries when necessary, and configure your transaction manager accordingly.\r\n\r\n**Pitfalls to Be Aware Of:**\r\n\r\n**Concurrency**: Be mindful of the concurrency model of your servlet-based Spring application and ensure that RSocket interactions don&#39;t cause contention or concurrency issues.\r\n\r\n**Resource Management**: Managing resources (e.g., database connections, thread pools) between the servlet-based application and the RSocket server should be done carefully to avoid resource exhaustion or contention.\r\n\r\n**Cross-Origin Resource Sharing (CORS)**: If your RSocket clients are web-based, you may need to handle CORS settings appropriately to allow RSocket connections from different origins.\r\n\r\n**Error Handling**: Implement robust error handling for your RSocket controllers to handle failures gracefully.\r\n\r\nRemember that while you&#39;re integrating RSocket into your servlet-based Spring application, the level of reactivity and backpressure handling is up to you. You can keep your servlet-based code as is and provide a more traditional request-response experience over RSocket if that fits your requirements.","title":"Using Spring RSocket in a traditional Servlet-based Spring application","body":"<p>Yes, it is possible to use Spring's RSocket integration in a traditional Servlet-based Spring application without sacrificing declarative transaction support or Spring Security integration. Spring provides flexibility and modularity, allowing you to mix different technologies and features based on your requirements. You can run a separate Netty-based RSocket server alongside your existing servlet-based Spring application. Here's how you can achieve this:</p>\n<p><strong>Create an RSocket Server Configuration:</strong></p>\n<p>Start by creating an RSocket server configuration class. This class will define your RSocket server and how it handles incoming requests.</p>\n<pre><code>@Configuration\npublic class RSocketServerConfig {\n\n    @Bean\n    public RSocketServer rSocketServer() {\n        return RSocketServer.create();\n    }\n\n    @Bean\n    public RSocketMessageHandler messageHandler() {\n        RSocketMessageHandler handler = new RSocketMessageHandler();\n        handler.setRSocketStrategies(rSocketStrategies());\n        return handler;\n    }\n\n    @Bean\n    public RSocketStrategies rSocketStrategies() {\n        return RSocketStrategies.builder().build();\n    }\n}\n</code></pre>\n<p><strong>Define Your RSocket Controllers:</strong></p>\n<p>Create RSocket controllers similar to how you create Spring MVC controllers. These controllers will handle incoming RSocket requests. For example:</p>\n<pre><code>@Controller\npublic class RSocketController {\n\n    @MessageMapping(&quot;your.rsocket.route&quot;)\n    public Mono&lt;String&gt; handleRSocketRequest(String request) {\n        // Handle the request here\n        return Mono.just(&quot;Response&quot;);\n    }\n}\n</code></pre>\n<p><strong>Enable RSocket in Your Application:</strong></p>\n<p>You need to enable RSocket in your Spring application. To do this, add the @EnableRSocket annotation to one of your configuration classes:</p>\n<pre><code>@SpringBootApplication\n@EnableRSocket\npublic class YourServletBasedApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(YourServletBasedApplication.class, args);\n    }\n}\n</code></pre>\n<p><strong>Configure Spring Security:</strong></p>\n<p>If you have Spring Security configured in your application, ensure that you also secure your RSocket endpoints appropriately. You can use Spring Security's features to secure your RSocket controllers.</p>\n<p><strong>Transaction Management:</strong></p>\n<p>Spring's transaction management should work as expected in your servlet-based Spring application. Ensure that your RSocket controllers are within the transaction boundaries when necessary, and configure your transaction manager accordingly.</p>\n<p><strong>Pitfalls to Be Aware Of:</strong></p>\n<p><strong>Concurrency</strong>: Be mindful of the concurrency model of your servlet-based Spring application and ensure that RSocket interactions don't cause contention or concurrency issues.</p>\n<p><strong>Resource Management</strong>: Managing resources (e.g., database connections, thread pools) between the servlet-based application and the RSocket server should be done carefully to avoid resource exhaustion or contention.</p>\n<p><strong>Cross-Origin Resource Sharing (CORS)</strong>: If your RSocket clients are web-based, you may need to handle CORS settings appropriately to allow RSocket connections from different origins.</p>\n<p><strong>Error Handling</strong>: Implement robust error handling for your RSocket controllers to handle failures gracefully.</p>\n<p>Remember that while you're integrating RSocket into your servlet-based Spring application, the level of reactivity and backpressure handling is up to you. You can keep your servlet-based code as is and provide a more traditional request-response experience over RSocket if that fits your requirements.</p>\n"}],"owner":{"account_id":395861,"reputation":3742,"user_id":759042,"accept_rate":62,"display_name":"aha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1694435024,"creation_date":1693687957,"question_id":77030014,"body_markdown":"Is it somehow possible to use [Spring&#39;s RSocket integration](https://docs.spring.io/spring-framework/reference/rsocket.html) in a &quot;traditional&quot; servlet-based Spring application without having to sacrifice functionality that Spring offers according to the documentation if you do not mix the two variants?\r\n\r\nIf so, how? Are there any pitfalls to be aware of?\r\n\r\nThe objective would be to allow an existing Servlet-based Spring application to talk to various clients over RSocket. A fully reactive experience with backpressure is neither expected nor necessary on the server side. Having to start a separate Netty-based server that runs alongside the servlet container is okay and [expected](https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.rsocket.server-auto-configuration).\r\n\r\nTo address questions raised in the comments, there is some functionality I am especially concerned about:\r\n\r\n* Does declarative transaction support work for requests that come in via RSocket without having to use R2DBC? According to [Reactive Transactions with Spring](https://spring.io/blog/2019/05/16/reactive-transactions-with-spring) imperative and reactive transaction management differ significantly.\r\n* Does Spring Security &quot;just&quot; work? Or is special configuration necessary, for example, to use `@PreAuthorize` on methods that are invoked by the servlet-based parts **and** the RSocket-based parts of the application?\r\n","title":"Using Spring RSocket in a traditional Servlet-based Spring application","body":"<p>Is it somehow possible to use <a href=\"https://docs.spring.io/spring-framework/reference/rsocket.html\" rel=\"nofollow noreferrer\">Spring's RSocket integration</a> in a &quot;traditional&quot; servlet-based Spring application without having to sacrifice functionality that Spring offers according to the documentation if you do not mix the two variants?</p>\n<p>If so, how? Are there any pitfalls to be aware of?</p>\n<p>The objective would be to allow an existing Servlet-based Spring application to talk to various clients over RSocket. A fully reactive experience with backpressure is neither expected nor necessary on the server side. Having to start a separate Netty-based server that runs alongside the servlet container is okay and <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.rsocket.server-auto-configuration\" rel=\"nofollow noreferrer\">expected</a>.</p>\n<p>To address questions raised in the comments, there is some functionality I am especially concerned about:</p>\n<ul>\n<li>Does declarative transaction support work for requests that come in via RSocket without having to use R2DBC? According to <a href=\"https://spring.io/blog/2019/05/16/reactive-transactions-with-spring\" rel=\"nofollow noreferrer\">Reactive Transactions with Spring</a> imperative and reactive transaction management differ significantly.</li>\n<li>Does Spring Security &quot;just&quot; work? Or is special configuration necessary, for example, to use <code>@PreAuthorize</code> on methods that are invoked by the servlet-based parts <strong>and</strong> the RSocket-based parts of the application?</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","grpc","grpc-java"],"answers":[{"tags":[],"owner":{"account_id":14037957,"reputation":23,"user_id":10140186,"display_name":"Divyanshu Supehia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694172153,"creation_date":1694172153,"answer_id":77066462,"question_id":77065979,"body_markdown":"Found the solution just needed to add:\r\n\r\n```\r\n  @Bean\r\n  public  GrpcAuthenticationReader grpcAuthenticationReader(){\r\n    return new BasicGrpcAuthenticationReader();\r\n  }\r\n```\r\nin my SpringSecurityConfig file.\r\n\r\nReferenced from here:https://yidongnan.github.io/grpc-spring-boot-starter/en/server/security.html","title":"grpcAuthenticationReader error whenever trying to start my server","body":"<p>Found the solution just needed to add:</p>\n<pre><code>  @Bean\n  public  GrpcAuthenticationReader grpcAuthenticationReader(){\n    return new BasicGrpcAuthenticationReader();\n  }\n</code></pre>\n<p>in my SpringSecurityConfig file.</p>\n<p>Referenced from here:<a href=\"https://yidongnan.github.io/grpc-spring-boot-starter/en/server/security.html\" rel=\"nofollow noreferrer\">https://yidongnan.github.io/grpc-spring-boot-starter/en/server/security.html</a></p>\n"}],"owner":{"account_id":14037957,"reputation":23,"user_id":10140186,"display_name":"Divyanshu Supehia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77066462,"answer_count":1,"score":-1,"last_activity_date":1694434751,"creation_date":1694167689,"question_id":77065979,"body_markdown":"I just integerated a GRPC server to my user application but whenever I try to start my application I am getting the following error. I am not able to find the proper logs regarding this error as not much information is available online.\r\n\r\n```\r\nDescription:\r\n\r\nParameter 1 of method authenticatingServerInterceptor in net.devh.boot.grpc.server.autoconfigure.GrpcServerSecurityAutoConfiguration required a bean of type &#39;net.devh.boot.grpc.server.security.authentication.GrpcAuthenticationReader&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;net.devh.boot.grpc.server.security.authentication.GrpcAuthenticationReader&#39; in your configuration.\r\n```\r\n\r\nThe error posted has been **solved** and it can be found in the answers below","title":"grpcAuthenticationReader error whenever trying to start my server","body":"<p>I just integerated a GRPC server to my user application but whenever I try to start my application I am getting the following error. I am not able to find the proper logs regarding this error as not much information is available online.</p>\n<pre><code>Description:\n\nParameter 1 of method authenticatingServerInterceptor in net.devh.boot.grpc.server.autoconfigure.GrpcServerSecurityAutoConfiguration required a bean of type 'net.devh.boot.grpc.server.security.authentication.GrpcAuthenticationReader' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'net.devh.boot.grpc.server.security.authentication.GrpcAuthenticationReader' in your configuration.\n</code></pre>\n<p>The error posted has been <strong>solved</strong> and it can be found in the answers below</p>\n"},{"tags":["java","spring","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1694358299,"post_id":77076153,"comment_id":135877819,"body_markdown":"Instead of changing the title, can you write your solution as an answer and mark it as accepted?","body":"Instead of changing the title, can you write your solution as an answer and mark it as accepted?"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1694358493,"post_id":77076153,"comment_id":135877844,"body_markdown":"If you are looking to log a specific aspect of your application to a separate log file, that is what markers are for (see [Markers documentation](https://logging.apache.org/log4j/2.x/manual/markers.html)). There is also [a filter for markers](https://logging.apache.org/log4j/2.x/manual/filters.html#MarkerFilter).","body":"If you are looking to log a specific aspect of your application to a separate log file, that is what markers are for (see <a href=\"https://logging.apache.org/log4j/2.x/manual/markers.html\" rel=\"nofollow noreferrer\">Markers documentation</a>). There is also <a href=\"https://logging.apache.org/log4j/2.x/manual/filters.html#MarkerFilter\" rel=\"nofollow noreferrer\">a filter for markers</a>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1694359582,"post_id":77076153,"comment_id":135877970,"body_markdown":"Hello. It is great that you want to share your solution with others! But please note that on this site solutions are meant to be posted as &quot;answers&quot; which are separated from problem description (the &quot;question&quot; section). This allows us to vote and comment on each answer separately from question. If you don&#39;t see area/form to post an answer (question authors usually don&#39;t need it so it may be hidden), you may need too click option like &quot;answer your question&quot; somewhere below your question. Good luck!","body":"Hello. It is great that you want to share your solution with others! But please note that on this site solutions are meant to be posted as &quot;answers&quot; which are separated from problem description (the &quot;question&quot; section). This allows us to vote and comment on each answer separately from question. If you don&#39;t see area/form to post an answer (question authors usually don&#39;t need it so it may be hidden), you may need too click option like &quot;answer your question&quot; somewhere below your question. Good luck!"}],"answers":[{"tags":[],"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694434572,"creation_date":1694434572,"answer_id":77081538,"question_id":77076153,"body_markdown":"_(Posting an answer on behalf of the question author to move it to the answer space)_.\r\n\r\nI have solved it.\r\n\r\nFile log4j2.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;WARN&quot; monitorInterval=&quot;30&quot;&gt;\r\n    &lt;Properties&gt;\r\n        &lt;Property name=&quot;LOG_PATTERN&quot;&gt;%d{yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ} %p %m%n&lt;/Property&gt;\r\n        &lt;Property name=&quot;APP_LOG_ROOT&quot;&gt;logs&lt;/Property&gt;\r\n    &lt;/Properties&gt;\r\n\r\n\t&lt;CustomLevels&gt;\r\n    \t&lt;CustomLevel name=&quot;BSHARING_LOG&quot; intLevel=&quot;350&quot; /&gt;\r\n  \t&lt;/CustomLevels&gt;\r\n\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot; follow=&quot;true&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt;\r\n        &lt;/Console&gt;\r\n        &lt;RollingFile name=&quot;appLog&quot;\r\n                fileName=&quot;${APP_LOG_ROOT}/application.log&quot;\r\n                filePattern=&quot;${APP_LOG_ROOT}/application-%d{yyyy-MM-dd}-%i.log&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt;\r\n            &lt;LevelRangeFilter minLevel=&quot;BSHARING_LOG&quot; maxLevel=&quot;BSHARING_LOG&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;ACCEPT&quot;/&gt;\r\n            &lt;Policies&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;19500KB&quot; /&gt;\r\n            &lt;/Policies&gt;\r\n            &lt;DefaultRolloverStrategy max=&quot;1&quot; /&gt;\r\n        &lt;/RollingFile&gt;\r\n        &lt;RollingFile name=&quot;bsharingLogAppender&quot;\r\n                fileName=&quot;${APP_LOG_ROOT}/bsharing.log&quot;\r\n                filePattern=&quot;${APP_LOG_ROOT}/bsharing-%d{yyyy-MM-dd}-%i.log&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt;\r\n            &lt;LevelRangeFilter minLevel=&quot;BSHARING_LOG&quot; maxLevel=&quot;BSHARING_LOG&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;\r\n            &lt;Policies&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;19500KB&quot; /&gt;\r\n            &lt;/Policies&gt;\r\n            &lt;DefaultRolloverStrategy max=&quot;1&quot; /&gt;\r\n        &lt;/RollingFile&gt;\r\n    &lt;/Appenders&gt;\r\n\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n            &lt;AppenderRef ref=&quot;appLog&quot; /&gt;\r\n            &lt;AppenderRef ref=&quot;bsharingLogAppender&quot; /&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nSee LevelRangeFilter params.\r\n","title":"Log4J do not writes to file, only to console","body":"<p><em>(Posting an answer on behalf of the question author to move it to the answer space)</em>.</p>\n<p>I have solved it.</p>\n<p>File log4j2.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;WARN&quot; monitorInterval=&quot;30&quot;&gt;\n    &lt;Properties&gt;\n        &lt;Property name=&quot;LOG_PATTERN&quot;&gt;%d{yyyy-MM-dd'T'HH:mm:ss.SSSZ} %p %m%n&lt;/Property&gt;\n        &lt;Property name=&quot;APP_LOG_ROOT&quot;&gt;logs&lt;/Property&gt;\n    &lt;/Properties&gt;\n\n    &lt;CustomLevels&gt;\n        &lt;CustomLevel name=&quot;BSHARING_LOG&quot; intLevel=&quot;350&quot; /&gt;\n    &lt;/CustomLevels&gt;\n\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot; follow=&quot;true&quot;&gt;\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt;\n        &lt;/Console&gt;\n        &lt;RollingFile name=&quot;appLog&quot;\n                fileName=&quot;${APP_LOG_ROOT}/application.log&quot;\n                filePattern=&quot;${APP_LOG_ROOT}/application-%d{yyyy-MM-dd}-%i.log&quot;&gt;\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt;\n            &lt;LevelRangeFilter minLevel=&quot;BSHARING_LOG&quot; maxLevel=&quot;BSHARING_LOG&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;ACCEPT&quot;/&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;19500KB&quot; /&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=&quot;1&quot; /&gt;\n        &lt;/RollingFile&gt;\n        &lt;RollingFile name=&quot;bsharingLogAppender&quot;\n                fileName=&quot;${APP_LOG_ROOT}/bsharing.log&quot;\n                filePattern=&quot;${APP_LOG_ROOT}/bsharing-%d{yyyy-MM-dd}-%i.log&quot;&gt;\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt;\n            &lt;LevelRangeFilter minLevel=&quot;BSHARING_LOG&quot; maxLevel=&quot;BSHARING_LOG&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;19500KB&quot; /&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=&quot;1&quot; /&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot; /&gt;\n            &lt;AppenderRef ref=&quot;appLog&quot; /&gt;\n            &lt;AppenderRef ref=&quot;bsharingLogAppender&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>See LevelRangeFilter params.</p>\n"}],"owner":{"account_id":3658280,"reputation":27,"user_id":14138100,"display_name":"Marvin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77081538,"answer_count":1,"score":0,"last_activity_date":1694434587,"creation_date":1694349718,"question_id":77076153,"body_markdown":"I try write messages of my custom log level &quot;BSHARING_LOG&quot; to separate log file &quot;bsharing.log&quot;. After start app, empty file &#39;bsharing.log&#39; appears, but no messages in it. Both &quot;test log message2&quot; and &quot;test log message&quot; are on console. But not in file &#39;bsharing.log&#39;.  Messages for standart levels writes to &#39;application.log&#39;. What&#39;s wrong?\r\n\r\n\r\nPart of my pom.xml:\r\n```\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;exclusions&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t            &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t    &lt;/exclusions&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n```\r\n\r\nlog4j2.xml:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;WARN&quot; monitorInterval=&quot;30&quot;&gt;\r\n    &lt;Properties&gt;\r\n        &lt;Property name=&quot;LOG_PATTERN&quot;&gt;%d{yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ} %p %m%n&lt;/Property&gt;\r\n        &lt;Property name=&quot;APP_LOG_ROOT&quot;&gt;logs&lt;/Property&gt;\r\n    &lt;/Properties&gt;\r\n\r\n\t&lt;CustomLevels&gt;\r\n    \t&lt;CustomLevel name=&quot;BSHARING_LOG&quot; intLevel=&quot;350&quot; /&gt;\r\n  \t&lt;/CustomLevels&gt;\r\n\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot; follow=&quot;true&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt;\r\n        &lt;/Console&gt;\r\n        &lt;RollingFile name=&quot;appLog&quot;\r\n                fileName=&quot;${APP_LOG_ROOT}/application.log&quot;\r\n                filePattern=&quot;${APP_LOG_ROOT}/application-%d{yyyy-MM-dd}-%i.log&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt;\r\n            &lt;Policies&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;19500KB&quot; /&gt;\r\n            &lt;/Policies&gt;\r\n            &lt;DefaultRolloverStrategy max=&quot;1&quot; /&gt;\r\n        &lt;/RollingFile&gt;\r\n        &lt;RollingFile name=&quot;bsharingLogAppender&quot;\r\n                fileName=&quot;${APP_LOG_ROOT}/bsharing.log&quot;\r\n                filePattern=&quot;${APP_LOG_ROOT}/bsharing-%d{yyyy-MM-dd}-%i.log&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt;\r\n            &lt;Policies&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;19500KB&quot; /&gt;\r\n            &lt;/Policies&gt;\r\n            &lt;DefaultRolloverStrategy max=&quot;1&quot; /&gt;\r\n        &lt;/RollingFile&gt;\r\n    &lt;/Appenders&gt;\r\n\r\n    &lt;Loggers&gt;\r\n        &lt;Logger name=&quot;ru.bozza.Sharing&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;appLog&quot; /&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n        \r\n        &lt;Logger name=&quot;bsharinglogger&quot; level=&quot;BSHARING_LOG&quot; additivity=&quot;false&quot;&gt;\r\n        \t&lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n            &lt;AppenderRef ref=&quot;bsharingLogAppender&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n        \r\n        &lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n            &lt;AppenderRef ref=&quot;appLog&quot; /&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nclass:\r\n\r\n```\r\npublic class CustomSecurityFilter extends GenericFilterBean {\r\n\tprivate final Logger log = LogManager.getLogger(this.getClass());\r\n\t\r\n    @Override\r\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\r\n        HttpServletRequest request = (HttpServletRequest) servletRequest;\r\n        log.log(Level.forName(&quot;BSHARING_LOG&quot;, 350), &quot;test log message2&quot;);\r\n        log.log(Level.getLevel(&quot;BSHARING_LOG&quot;), &quot;test log message&quot;);\r\n        filterChain.doFilter(servletRequest, servletResponse);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nIf \r\n```\r\n&lt;Root level=&quot;info&quot;&gt;\r\n   &lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n   &lt;AppenderRef ref=&quot;appLog&quot; /&gt;\r\n   &lt;AppenderRef ref=&quot;bsharingLogAppender&quot; /&gt;\r\n&lt;/Root&gt;\r\n```\r\nthen logs writes to both files.\r\nI can&#39;t understand, why my custom log messages appears only in console, but not in file &#39;bsharing.log&#39;.\r\n","title":"Log4J do not writes to file, only to console","body":"<p>I try write messages of my custom log level &quot;BSHARING_LOG&quot; to separate log file &quot;bsharing.log&quot;. After start app, empty file 'bsharing.log' appears, but no messages in it. Both &quot;test log message2&quot; and &quot;test log message&quot; are on console. But not in file 'bsharing.log'.  Messages for standart levels writes to 'application.log'. What's wrong?</p>\n<p>Part of my pom.xml:</p>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;relativePath /&gt;\n    &lt;/parent&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>log4j2.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;WARN&quot; monitorInterval=&quot;30&quot;&gt;\n    &lt;Properties&gt;\n        &lt;Property name=&quot;LOG_PATTERN&quot;&gt;%d{yyyy-MM-dd'T'HH:mm:ss.SSSZ} %p %m%n&lt;/Property&gt;\n        &lt;Property name=&quot;APP_LOG_ROOT&quot;&gt;logs&lt;/Property&gt;\n    &lt;/Properties&gt;\n\n    &lt;CustomLevels&gt;\n        &lt;CustomLevel name=&quot;BSHARING_LOG&quot; intLevel=&quot;350&quot; /&gt;\n    &lt;/CustomLevels&gt;\n\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot; follow=&quot;true&quot;&gt;\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt;\n        &lt;/Console&gt;\n        &lt;RollingFile name=&quot;appLog&quot;\n                fileName=&quot;${APP_LOG_ROOT}/application.log&quot;\n                filePattern=&quot;${APP_LOG_ROOT}/application-%d{yyyy-MM-dd}-%i.log&quot;&gt;\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;19500KB&quot; /&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=&quot;1&quot; /&gt;\n        &lt;/RollingFile&gt;\n        &lt;RollingFile name=&quot;bsharingLogAppender&quot;\n                fileName=&quot;${APP_LOG_ROOT}/bsharing.log&quot;\n                filePattern=&quot;${APP_LOG_ROOT}/bsharing-%d{yyyy-MM-dd}-%i.log&quot;&gt;\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;19500KB&quot; /&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=&quot;1&quot; /&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;ru.bozza.Sharing&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;appLog&quot; /&gt;\n            &lt;AppenderRef ref=&quot;Console&quot; /&gt;\n        &lt;/Logger&gt;\n        \n        &lt;Logger name=&quot;bsharinglogger&quot; level=&quot;BSHARING_LOG&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot; /&gt;\n            &lt;AppenderRef ref=&quot;bsharingLogAppender&quot; /&gt;\n        &lt;/Logger&gt;\n        \n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot; /&gt;\n            &lt;AppenderRef ref=&quot;appLog&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>class:</p>\n<pre><code>public class CustomSecurityFilter extends GenericFilterBean {\n    private final Logger log = LogManager.getLogger(this.getClass());\n    \n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\n        HttpServletRequest request = (HttpServletRequest) servletRequest;\n        log.log(Level.forName(&quot;BSHARING_LOG&quot;, 350), &quot;test log message2&quot;);\n        log.log(Level.getLevel(&quot;BSHARING_LOG&quot;), &quot;test log message&quot;);\n        filterChain.doFilter(servletRequest, servletResponse);\n    }\n}\n</code></pre>\n<p>If</p>\n<pre><code>&lt;Root level=&quot;info&quot;&gt;\n   &lt;AppenderRef ref=&quot;Console&quot; /&gt;\n   &lt;AppenderRef ref=&quot;appLog&quot; /&gt;\n   &lt;AppenderRef ref=&quot;bsharingLogAppender&quot; /&gt;\n&lt;/Root&gt;\n</code></pre>\n<p>then logs writes to both files.\nI can't understand, why my custom log messages appears only in console, but not in file 'bsharing.log'.</p>\n"},{"tags":["java","continuous-integration","google-bigquery","integration-testing"],"comments":[{"owner":{"account_id":12691163,"reputation":111,"user_id":9221183,"display_name":"Y Y"},"score":0,"creation_date":1521508060,"post_id":49336013,"comment_id":85750836,"body_markdown":"Can you directly use the real bigquery endpoint for end to end tests?","body":"Can you directly use the real bigquery endpoint for end to end tests?"}],"answers":[{"comments":[{"owner":{"account_id":130027,"reputation":26123,"user_id":328989,"accept_rate":79,"display_name":"Datageek"},"score":8,"creation_date":1522325925,"post_id":49403421,"comment_id":86119038,"body_markdown":"Are there any tools you would recommend to use for integration testing which can work directly with BigQuery? Something very simple like - run these few SQL queries and compare the results with the table containing expected results.","body":"Are there any tools you would recommend to use for integration testing which can work directly with BigQuery? Something very simple like - run these few SQL queries and compare the results with the table containing expected results."},{"owner":{"account_id":295480,"reputation":6879,"user_id":599911,"accept_rate":64,"display_name":"Bulat"},"score":0,"creation_date":1570896323,"post_id":49403421,"comment_id":103065135,"body_markdown":"@Datageek, it depends on the programming language you use.","body":"@Datageek, it depends on the programming language you use."},{"owner":{"account_id":6529610,"reputation":1563,"user_id":5051165,"accept_rate":67,"display_name":"Matt Welke"},"score":6,"creation_date":1633649739,"post_id":49403421,"comment_id":122823062,"body_markdown":"Google has now officially accepted the feature request for an emulator (https://issuetracker.google.com/savedsearches/559654). They suggest people star it in that list so they can rank it in their accepted feature requests.","body":"Google has now officially accepted the feature request for an emulator (<a href=\"https://issuetracker.google.com/savedsearches/559654\" rel=\"nofollow noreferrer\">issuetracker.google.com/savedsearches/559654</a>). They suggest people star it in that list so they can rank it in their accepted feature requests."}],"tags":[],"owner":{"account_id":5666430,"reputation":8004,"user_id":4482491,"display_name":"dsesto"},"comment_count":3,"down_vote_count":2,"up_vote_count":11,"is_accepted":true,"score":9,"last_activity_date":1521626916,"creation_date":1521626916,"answer_id":49403421,"question_id":49336013,"body_markdown":"Currently there is not any kind of BigQuery local emulator or anything similar to that. As pointed out by the link you shared about [available GCP emulators][1], there are some other products that have such a feature, but probably the reason why BigQuery does not have one is that its true potential is only seen when working in its real infrastructure, plus the fact that the costs of working with BigQuery can be relatively low depending on the usage you make of it, plus you have a Free Tier to start working with.\r\n\r\nLet me summarize some info about BigQuery pricing that can be useful for you:\r\n\r\n - BigQuery storage and operation costs are summarized in the [pricing documentation][2].\r\n - BigQuery offers some operations that are [free of charge][3].\r\n - There&#39;s a [Storage free tier][4] with 10GB of free storage. It may not be a lot, given that BQ is designed to work with enormous amounts of data, but it can be a good starting point to do some tests.\r\n - There&#39;s also an [Operations free tier][5], where the first TeraByte of processed data (per month) is free of charge.\r\n - You can set up alerts in order to monitor usage with [Stackdriver][6], using the [available metrics][7].\r\n\r\nIn any case, if you still think that working with BigQuery directly is not the best option for you, can always forward your requests to the Engineering team by creating a Feature Request in the [Public Issue Tracker][8] for BigQuery, although it will be in hands of the engineering team whether to decide if (and when) to implement such a feature, even more considering the complexity of BigQuery and that its performance is optimized for working in its current architecture.\r\n\r\n\r\n  [1]: https://cloud.google.com/sdk/gcloud/reference/beta/emulators/\r\n  [2]: https://cloud.google.com/bigquery/pricing#pricing_summary\r\n  [3]: https://cloud.google.com/bigquery/pricing#free\r\n  [4]: https://cloud.google.com/bigquery/pricing#free-tier-storage\r\n  [5]: https://cloud.google.com/bigquery/pricing#free-tier\r\n  [6]: https://cloud.google.com/stackdriver/\r\n  [7]: https://cloud.google.com/bigquery/docs/monitoring#metrics\r\n  [8]: https://cloud.google.com/support/docs/issue-trackers","title":"How can I make integration tests with google cloud bigquery","body":"<p>Currently there is not any kind of BigQuery local emulator or anything similar to that. As pointed out by the link you shared about <a href=\"https://cloud.google.com/sdk/gcloud/reference/beta/emulators/\" rel=\"noreferrer\">available GCP emulators</a>, there are some other products that have such a feature, but probably the reason why BigQuery does not have one is that its true potential is only seen when working in its real infrastructure, plus the fact that the costs of working with BigQuery can be relatively low depending on the usage you make of it, plus you have a Free Tier to start working with.</p>\n\n<p>Let me summarize some info about BigQuery pricing that can be useful for you:</p>\n\n<ul>\n<li>BigQuery storage and operation costs are summarized in the <a href=\"https://cloud.google.com/bigquery/pricing#pricing_summary\" rel=\"noreferrer\">pricing documentation</a>.</li>\n<li>BigQuery offers some operations that are <a href=\"https://cloud.google.com/bigquery/pricing#free\" rel=\"noreferrer\">free of charge</a>.</li>\n<li>There's a <a href=\"https://cloud.google.com/bigquery/pricing#free-tier-storage\" rel=\"noreferrer\">Storage free tier</a> with 10GB of free storage. It may not be a lot, given that BQ is designed to work with enormous amounts of data, but it can be a good starting point to do some tests.</li>\n<li>There's also an <a href=\"https://cloud.google.com/bigquery/pricing#free-tier\" rel=\"noreferrer\">Operations free tier</a>, where the first TeraByte of processed data (per month) is free of charge.</li>\n<li>You can set up alerts in order to monitor usage with <a href=\"https://cloud.google.com/stackdriver/\" rel=\"noreferrer\">Stackdriver</a>, using the <a href=\"https://cloud.google.com/bigquery/docs/monitoring#metrics\" rel=\"noreferrer\">available metrics</a>.</li>\n</ul>\n\n<p>In any case, if you still think that working with BigQuery directly is not the best option for you, can always forward your requests to the Engineering team by creating a Feature Request in the <a href=\"https://cloud.google.com/support/docs/issue-trackers\" rel=\"noreferrer\">Public Issue Tracker</a> for BigQuery, although it will be in hands of the engineering team whether to decide if (and when) to implement such a feature, even more considering the complexity of BigQuery and that its performance is optimized for working in its current architecture.</p>\n"},{"tags":[],"owner":{"account_id":5359007,"reputation":183,"user_id":4270903,"accept_rate":50,"display_name":"Bounkong KHAMPHOUSONE"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1611926875,"creation_date":1611926875,"answer_id":65955392,"question_id":49336013,"body_markdown":"This is an old post but if you can use Python and you plan to test your SQL and assert your result based on input, I would suggest [bq-test-kit][1]. This framework allows you to interact with BigQuery in Python and make tests reliables. \r\n\r\nYou have 3 ways to inject data into it :\r\n - Create datasets and tables with an ability to isolate their name and therefore have your own namespace\r\n - Rely on temp tables, where data is inserted with data literals\r\n - data literal merged into your query\r\n\r\nHope that this helps.\r\n\r\n\r\n  [1]: https://github.com/tiboun/python-bq-test-kit","title":"How can I make integration tests with google cloud bigquery","body":"<p>This is an old post but if you can use Python and you plan to test your SQL and assert your result based on input, I would suggest <a href=\"https://github.com/tiboun/python-bq-test-kit\" rel=\"noreferrer\">bq-test-kit</a>. This framework allows you to interact with BigQuery in Python and make tests reliables.</p>\n<p>You have 3 ways to inject data into it :</p>\n<ul>\n<li>Create datasets and tables with an ability to isolate their name and therefore have your own namespace</li>\n<li>Rely on temp tables, where data is inserted with data literals</li>\n<li>data literal merged into your query</li>\n</ul>\n<p>Hope that this helps.</p>\n"},{"tags":[],"owner":{"account_id":2817676,"reputation":1264,"user_id":2422285,"accept_rate":50,"display_name":"Tuno"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694434411,"creation_date":1694434411,"answer_id":77081522,"question_id":49336013,"body_markdown":"I have found this BigQuery emulator https://github.com/goccy/bigquery-emulator which works nice using Docker container. If you use Java, you can even combine it in your integration tests using Testcontainers https://java.testcontainers.org/modules/gcloud/ Just make sure to map the volumes with the test data provided and start the container accordingly using the command options.","title":"How can I make integration tests with google cloud bigquery","body":"<p>I have found this BigQuery emulator <a href=\"https://github.com/goccy/bigquery-emulator\" rel=\"nofollow noreferrer\">https://github.com/goccy/bigquery-emulator</a> which works nice using Docker container. If you use Java, you can even combine it in your integration tests using Testcontainers <a href=\"https://java.testcontainers.org/modules/gcloud/\" rel=\"nofollow noreferrer\">https://java.testcontainers.org/modules/gcloud/</a> Just make sure to map the volumes with the test data provided and start the container accordingly using the command options.</p>\n"}],"owner":{"account_id":964672,"reputation":2010,"user_id":988324,"accept_rate":65,"display_name":"Richard Deurwaarder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14556,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":49403421,"answer_count":3,"score":19,"last_activity_date":1694434411,"creation_date":1521289714,"question_id":49336013,"body_markdown":"We are in the processing of migrating from apache hbase to bigquery.\r\n\r\nCurrently we have end to end tests (using cucumbers) that work with a docker container running hbase.\r\n\r\nThere don&#39;t seem to be any bigquery docker containers or emulators (https://cloud.google.com/sdk/gcloud/reference/beta/emulators/)\r\n\r\nHow would we be able to create end to end tests for an application working with bigquery?","title":"How can I make integration tests with google cloud bigquery","body":"<p>We are in the processing of migrating from apache hbase to bigquery.</p>\n\n<p>Currently we have end to end tests (using cucumbers) that work with a docker container running hbase.</p>\n\n<p>There don't seem to be any bigquery docker containers or emulators (<a href=\"https://cloud.google.com/sdk/gcloud/reference/beta/emulators/\" rel=\"noreferrer\">https://cloud.google.com/sdk/gcloud/reference/beta/emulators/</a>)</p>\n\n<p>How would we be able to create end to end tests for an application working with bigquery?</p>\n"},{"tags":["java","ip-address"],"comments":[{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1395684414,"post_id":5667371,"comment_id":34440019,"body_markdown":"note that not all technically valid IP address notations have the three dots, only the dot notation of IP address has them. Note also ipv6, and you might or might not want to separate private address spaces from public.","body":"note that not all technically valid IP address notations have the three dots, only the dot notation of IP address has them. Note also ipv6, and you might or might not want to separate private address spaces from public."},{"owner":{"account_id":1733989,"reputation":31003,"user_id":1586965,"accept_rate":76,"display_name":"samthebest"},"score":4,"creation_date":1407437597,"post_id":5667371,"comment_id":39225677,"body_markdown":"I think all the code reviewers in the world would be immensely grateful if you could change your accepted answer to worpet&#39;s answer :)","body":"I think all the code reviewers in the world would be immensely grateful if you could change your accepted answer to worpet&#39;s answer :)"},{"owner":{"account_id":717438,"reputation":1482,"user_id":645825,"accept_rate":77,"display_name":"iRunner"},"score":0,"creation_date":1576637079,"post_id":5667371,"comment_id":104961142,"body_markdown":"@samthebest : Ohk. I asked this question long back and accepted the answer which worked for me that time.","body":"@samthebest : Ohk. I asked this question long back and accepted the answer which worked for me that time."},{"owner":{"account_id":1733989,"reputation":31003,"user_id":1586965,"accept_rate":76,"display_name":"samthebest"},"score":0,"creation_date":1576672066,"post_id":5667371,"comment_id":104973763,"body_markdown":"Thanks @iRunner that makes sense.  Fortunately Stack Overflow does allow you to change the accepted answer and this does not incur any kind of penalty.  The feature exists exactly for this kind of situation where a new and better answer comes along much later than the original answer.  Please could you give it a try and accept Worpet&#39;s answer?","body":"Thanks @iRunner that makes sense.  Fortunately Stack Overflow does allow you to change the accepted answer and this does not incur any kind of penalty.  The feature exists exactly for this kind of situation where a new and better answer comes along much later than the original answer.  Please could you give it a try and accept Worpet&#39;s answer?"}],"answers":[{"comments":[{"owner":{"account_id":230362,"reputation":28330,"user_id":493928,"accept_rate":62,"display_name":"khachik"},"score":0,"creation_date":1302803826,"post_id":5667402,"comment_id":6467533,"body_markdown":"it will match &quot;001.xxx.xxx.xxx&quot;.","body":"it will match &quot;001.xxx.xxx.xxx&quot;."},{"owner":{"account_id":230362,"reputation":28330,"user_id":493928,"accept_rate":62,"display_name":"khachik"},"score":0,"creation_date":1302804354,"post_id":5667402,"comment_id":6467713,"body_markdown":"I&#39;m not sure, so posted an expression which explicitly restricts `0xx, 0x`.","body":"I&#39;m not sure, so posted an expression which explicitly restricts <code>0xx, 0x</code>."},{"owner":{"account_id":717438,"reputation":1482,"user_id":645825,"accept_rate":77,"display_name":"iRunner"},"score":0,"creation_date":1304014370,"post_id":5667402,"comment_id":6683341,"body_markdown":"static private final String IPV4_REGEX = &quot;(([0-1]?[0-9]{1,2}\\.)|(2[0-4][0-9]\\.)|(25[0-5]\\.)){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))&quot;;.this line is giving me errors :(","body":"static private final String IPV4_REGEX = &quot;(([0-1]?[0-9]{1,2}\\.)|(2[0-4][0-9]\\.)|(25[0-5]\\.)){3}(([0-1&zwnj;&#8203;]?[0-9]{1,2})|(2[0-4&zwnj;&#8203;][0-9])|(25[0-5]))&quot;;&zwnj;&#8203;.this line is giving me errors :("},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":0,"creation_date":1395683213,"post_id":5667402,"comment_id":34439227,"body_markdown":"@khachik A little late, but: That is a [valid IP address in dotted-decimal notation](http://tools.ietf.org/html/rfc1166). In fact, RFC1166 actually gives `128.009.000.032` as an example on page 5.","body":"@khachik A little late, but: That is a <a href=\"http://tools.ietf.org/html/rfc1166\" rel=\"nofollow noreferrer\">valid IP address in dotted-decimal notation</a>. In fact, RFC1166 actually gives <code>128.009.000.032</code> as an example on page 5."},{"owner":{"account_id":1733989,"reputation":31003,"user_id":1586965,"accept_rate":76,"display_name":"samthebest"},"score":0,"creation_date":1407442451,"post_id":5667402,"comment_id":39228364,"body_markdown":"Is it valid when there are 4 zeros?? http://stackoverflow.com/questions/25191349/is-an-ip-address-with-an-octet-given-by-4-or-more-zeros-a-valid-ip-address-e-g/25191350#25191350","body":"Is it valid when there are 4 zeros?? <a href=\"http://stackoverflow.com/questions/25191349/is-an-ip-address-with-an-octet-given-by-4-or-more-zeros-a-valid-ip-address-e-g/25191350#25191350\" title=\"is an ip address with an octet given by 4 or more zeros a valid ip address e g\">stackoverflow.com/questions/25191349/&hellip;</a>"}],"tags":[],"owner":{"account_id":128551,"reputation":57229,"user_id":326480,"accept_rate":82,"display_name":"mdma"},"comment_count":5,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1395683361,"creation_date":1302803519,"answer_id":5667402,"question_id":5667371,"body_markdown":"You can use a regex, like this:\r\n\r\n    (([0-1]?[0-9]{1,2}\\.)|(2[0-4][0-9]\\.)|(25[0-5]\\.)){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))\r\n\r\nThis one validates the values are within range.\r\n\r\nAndroid has support for regular expressions. See [java.util.regex.Pattern][1].\r\n\r\n    class ValidateIPV4\r\n    {\r\n    \r\n       static private final String IPV4_REGEX = &quot;(([0-1]?[0-9]{1,2}\\\\.)|(2[0-4][0-9]\\\\.)|(25[0-5]\\\\.)){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))&quot;;\r\n       static private Pattern IPV4_PATTERN = Pattern.compile(IPV4_REGEX);\r\n    \r\n       public static boolean isValidIPV4(final String s)\r\n       {          \r\n          return IPV4_PATTERN.matcher(s).matches();\r\n       }\r\n    }\r\n\r\nTo avoid recompiling the pattern over and over, it&#39;s best to place the `Pattern.compile()` call so that it is executed only once. \r\n\r\n\r\n  [1]: http://developer.android.com/reference/java/util/regex/Pattern.html","title":"Validate IPv4 address in Java","body":"<p>You can use a regex, like this:</p>\n\n<pre><code>(([0-1]?[0-9]{1,2}\\.)|(2[0-4][0-9]\\.)|(25[0-5]\\.)){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))\n</code></pre>\n\n<p>This one validates the values are within range.</p>\n\n<p>Android has support for regular expressions. See <a href=\"http://developer.android.com/reference/java/util/regex/Pattern.html\" rel=\"noreferrer\">java.util.regex.Pattern</a>.</p>\n\n<pre><code>class ValidateIPV4\n{\n\n   static private final String IPV4_REGEX = \"(([0-1]?[0-9]{1,2}\\\\.)|(2[0-4][0-9]\\\\.)|(25[0-5]\\\\.)){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))\";\n   static private Pattern IPV4_PATTERN = Pattern.compile(IPV4_REGEX);\n\n   public static boolean isValidIPV4(final String s)\n   {          \n      return IPV4_PATTERN.matcher(s).matches();\n   }\n}\n</code></pre>\n\n<p>To avoid recompiling the pattern over and over, it's best to place the <code>Pattern.compile()</code> call so that it is executed only once. </p>\n"},{"comments":[{"owner":{"account_id":717438,"reputation":1482,"user_id":645825,"accept_rate":77,"display_name":"iRunner"},"score":0,"creation_date":1302804372,"post_id":5667417,"comment_id":6467723,"body_markdown":"Ohhhh,its not Working on android.When application start it gives error of force close","body":"Ohhhh,its not Working on android.When application start it gives error of force close"},{"owner":{"account_id":137734,"reputation":2083,"user_id":342155,"accept_rate":100,"display_name":"krzysz00"},"score":6,"creation_date":1385749273,"post_id":5667417,"comment_id":30274613,"body_markdown":"What about strangely-formatted IP addresses, like 127.1 (which is equivalent to 127.0.0.1)? What about IPv6?","body":"What about strangely-formatted IP addresses, like 127.1 (which is equivalent to 127.0.0.1)? What about IPv6?"},{"owner":{"account_id":168432,"reputation":493,"user_id":393889,"display_name":"Ramanqul Buzaubak"},"score":0,"creation_date":1426491982,"post_id":5667417,"comment_id":46377961,"body_markdown":"You can simply write: return ip != null &amp;&amp; ip.matches(PATTERN)","body":"You can simply write: return ip != null &amp;&amp; ip.matches(PATTERN)"},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":2,"creation_date":1438377086,"post_id":5667417,"comment_id":51444068,"body_markdown":"One potential problem with your regular expression is that it seems to match things like 010.020.030.040, but that can be problematic since numbers that start with 0 can often be interpreted as octal numbers.","body":"One potential problem with your regular expression is that it seems to match things like 010.020.030.040, but that can be problematic since numbers that start with 0 can often be interpreted as octal numbers."},{"owner":{"account_id":5356259,"reputation":191,"user_id":4268839,"display_name":"Tao Zhang"},"score":1,"creation_date":1481425847,"post_id":5667417,"comment_id":69371111,"body_markdown":"Exactly! This misses the leading 0 case. @Akarshit Wal &#39;s solution works better.","body":"Exactly! This misses the leading 0 case. @Akarshit Wal &#39;s solution works better."}],"tags":[],"owner":{"account_id":161848,"reputation":6734,"user_id":382920,"accept_rate":74,"display_name":"Necronet"},"comment_count":5,"down_vote_count":1,"up_vote_count":97,"is_accepted":false,"score":96,"last_activity_date":1576672215,"creation_date":1302803612,"answer_id":5667417,"question_id":5667371,"body_markdown":"Pretty simple with Regular Expression (but note this is much less efficient and much harder to read than [worpet&#39;s answer](https://stackoverflow.com/a/5668971/1586965)  that uses an Apache Commons Utility)\r\n\r\n\tprivate static final Pattern PATTERN = Pattern.compile(\r\n\t\t\t&quot;^(([01]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])\\\\.){3}([01]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])$&quot;);\r\n\r\n\tpublic static boolean validate(final String ip) {\r\n\t\treturn PATTERN.matcher(ip).matches();\r\n\t}\r\n\r\nBased on post [Mkyong][1]\r\n\r\n\r\n  [1]: http://www.mkyong.com/regular-expressions/how-to-validate-ip-address-with-regular-expression/","title":"Validate IPv4 address in Java","body":"<p>Pretty simple with Regular Expression (but note this is much less efficient and much harder to read than <a href=\"https://stackoverflow.com/a/5668971/1586965\">worpet's answer</a>  that uses an Apache Commons Utility)</p>\n\n<pre><code>private static final Pattern PATTERN = Pattern.compile(\n        \"^(([01]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])\\\\.){3}([01]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])$\");\n\npublic static boolean validate(final String ip) {\n    return PATTERN.matcher(ip).matches();\n}\n</code></pre>\n\n<p>Based on post <a href=\"http://www.mkyong.com/regular-expressions/how-to-validate-ip-address-with-regular-expression/\" rel=\"noreferrer\">Mkyong</a></p>\n"},{"tags":[],"owner":{"account_id":230362,"reputation":28330,"user_id":493928,"accept_rate":62,"display_name":"khachik"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1302804294,"creation_date":1302803733,"answer_id":5667440,"question_id":5667371,"body_markdown":"If it is IP4, you can use a regular expression as follows:\r\n\r\n`^(2[0-5][0-5])|(1\\\\d\\\\d)|([1-9]?\\\\d)\\\\.){3}(2[0-5][0-5])|(1\\\\d\\\\d)|([1-9]?\\\\d)$`.\r\n\r\n","title":"Validate IPv4 address in Java","body":"<p>If it is IP4, you can use a regular expression as follows:</p>\n\n<p><code>^(2[0-5][0-5])|(1\\\\d\\\\d)|([1-9]?\\\\d)\\\\.){3}(2[0-5][0-5])|(1\\\\d\\\\d)|([1-9]?\\\\d)$</code>.</p>\n"},{"comments":[{"owner":{"account_id":125069,"reputation":6156,"user_id":320594,"accept_rate":77,"display_name":"Jaime Hablutzel"},"score":17,"creation_date":1311612068,"post_id":5668971,"comment_id":8100655,"body_markdown":"It is always better to use an already written utility for these things","body":"It is always better to use an already written utility for these things"},{"owner":{"account_id":1981904,"reputation":571,"user_id":1778299,"accept_rate":71,"display_name":"Tadhg"},"score":0,"creation_date":1641327590,"post_id":5668971,"comment_id":124775681,"body_markdown":"Warning: this will drag commons-logging into your classpath, which may have unintended side-effects. If you don&#39;t want that, you may prefer the Guava option below...","body":"Warning: this will drag commons-logging into your classpath, which may have unintended side-effects. If you don&#39;t want that, you may prefer the Guava option below..."}],"tags":[],"owner":{"account_id":200728,"reputation":3833,"user_id":446738,"accept_rate":71,"display_name":"worpet"},"comment_count":2,"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1352730979,"creation_date":1302811250,"answer_id":5668971,"question_id":5667371,"body_markdown":"Try the InetAddressValidator utility class.\r\n\r\nDocs here:\r\n\r\nhttp://commons.apache.org/validator/apidocs/org/apache/commons/validator/routines/InetAddressValidator.html\r\n\r\nDownload here:\r\n\r\nhttp://commons.apache.org/validator/","title":"Validate IPv4 address in Java","body":"<p>Try the InetAddressValidator utility class.</p>\n\n<p>Docs here:</p>\n\n<p><a href=\"http://commons.apache.org/validator/apidocs/org/apache/commons/validator/routines/InetAddressValidator.html\" rel=\"noreferrer\">http://commons.apache.org/validator/apidocs/org/apache/commons/validator/routines/InetAddressValidator.html</a></p>\n\n<p>Download here:</p>\n\n<p><a href=\"http://commons.apache.org/validator/\" rel=\"noreferrer\">http://commons.apache.org/validator/</a></p>\n"},{"comments":[{"owner":{"account_id":4475914,"reputation":14398,"user_id":3641067,"accept_rate":73,"display_name":"bur&#230;quete"},"score":0,"creation_date":1530632608,"post_id":20291445,"comment_id":89300341,"body_markdown":"It is not recommended to use `sun.*` packages -&gt; [detail](https://www.java-tips.org/java-se-tips-100019/24-java-lang/123-why-developers-should-not-write-programs-that-call-sun-packages.html)","body":"It is not recommended to use <code>sun.*</code> packages -&gt; <a href=\"https://www.java-tips.org/java-se-tips-100019/24-java-lang/123-why-developers-should-not-write-programs-that-call-sun-packages.html\" rel=\"nofollow noreferrer\">detail</a>"}],"tags":[],"owner":{"account_id":3660379,"reputation":11,"user_id":3050370,"display_name":"Girish"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1385748956,"creation_date":1385748956,"answer_id":20291445,"question_id":5667371,"body_markdown":"Please have a look into &lt;b&gt;IPAddressUtil&lt;/b&gt; OOTB class present in &lt;i&gt;sun.net.util&lt;/i&gt; ,that should help you.  ","title":"Validate IPv4 address in Java","body":"<p>Please have a look into <b>IPAddressUtil</b> OOTB class present in <i>sun.net.util</i> ,that should help you.  </p>\n"},{"tags":[],"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1395677437,"creation_date":1395677437,"answer_id":22614712,"question_id":5667371,"body_markdown":"There is also an undocumented utility class `sun.net.util.IPAddressUtil`, which [you should not actually use](http://www.oracle.com/technetwork/java/faq-sun-packages-142232.html), although it might be useful in a quick one-off, throw-away utility:\r\n\r\n    boolean isIP = IPAddressUtil.isIPv4LiteralAddress(ipAddressString);\r\n\r\nInternally, this is the utility class `InetAddress` uses to parse IP addresses. \r\n\r\nNote that this will return true for strings like &quot;123&quot;, which, technically are [valid IPv4 addresses](http://en.wikipedia.org/wiki/IPv4#Address_representations), just not in dot-decimal notation.\r\n\r\n","title":"Validate IPv4 address in Java","body":"<p>There is also an undocumented utility class <code>sun.net.util.IPAddressUtil</code>, which <a href=\"http://www.oracle.com/technetwork/java/faq-sun-packages-142232.html\" rel=\"noreferrer\">you should not actually use</a>, although it might be useful in a quick one-off, throw-away utility:</p>\n\n<pre><code>boolean isIP = IPAddressUtil.isIPv4LiteralAddress(ipAddressString);\n</code></pre>\n\n<p>Internally, this is the utility class <code>InetAddress</code> uses to parse IP addresses. </p>\n\n<p>Note that this will return true for strings like \"123\", which, technically are <a href=\"http://en.wikipedia.org/wiki/IPv4#Address_representations\" rel=\"noreferrer\">valid IPv4 addresses</a>, just not in dot-decimal notation.</p>\n"},{"comments":[{"owner":{"account_id":4209386,"reputation":310,"user_id":4727422,"accept_rate":100,"display_name":"Pyro2266"},"score":1,"creation_date":1540301410,"post_id":23688164,"comment_id":92808541,"body_markdown":"Actually there is `isInetAddress` method which returns true/false if address is valid. It&#39;s bit cleaner than checking for exception ;).","body":"Actually there is <code>isInetAddress</code> method which returns true/false if address is valid. It&#39;s bit cleaner than checking for exception ;)."},{"owner":{"account_id":1073660,"reputation":391,"user_id":1072317,"display_name":"wileyquixote"},"score":0,"creation_date":1553520877,"post_id":23688164,"comment_id":97403191,"body_markdown":"I&#39;ve edited the post to update the link and switch to the more straightforward boolean-returning method, thanks!","body":"I&#39;ve edited the post to update the link and switch to the more straightforward boolean-returning method, thanks!"}],"tags":[],"owner":{"account_id":1073660,"reputation":391,"user_id":1072317,"display_name":"wileyquixote"},"comment_count":2,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1553520797,"creation_date":1400186265,"answer_id":23688164,"question_id":5667371,"body_markdown":"Use [Guava](https://google.github.io/guava/releases/19.0/api/docs/com/google/common/net/InetAddresses.html)&#39;s\r\n\r\n    InetAddresses.isInetAddress(ipStr)\r\n      ","title":"Validate IPv4 address in Java","body":"<p>Use <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/net/InetAddresses.html\" rel=\"noreferrer\">Guava</a>'s</p>\n\n<pre><code>InetAddresses.isInetAddress(ipStr)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5356259,"reputation":191,"user_id":4268839,"display_name":"Tao Zhang"},"score":3,"creation_date":1481425645,"post_id":30691451,"comment_id":69371073,"body_markdown":"Thanks! This is the only one works for me. Other regex patterns all miss the cases with leading 0, which is illegal for IPv4.","body":"Thanks! This is the only one works for me. Other regex patterns all miss the cases with leading 0, which is illegal for IPv4."}],"tags":[],"owner":{"account_id":5539150,"reputation":661,"user_id":4396410,"accept_rate":60,"display_name":"Akarshit Wal"},"comment_count":1,"down_vote_count":2,"up_vote_count":35,"is_accepted":true,"score":33,"last_activity_date":1576672139,"creation_date":1433664985,"answer_id":30691451,"question_id":5667371,"body_markdown":"Please see https://stackoverflow.com/a/5668971/1586965 which uses an apache commons library `InetAddressValidator`\r\n\r\nOr you can use this function -   \r\n\r\n    public static boolean validate(final String ip) {\r\n\t\tString PATTERN = &quot;^((0|1\\\\d?\\\\d?|2[0-4]?\\\\d?|25[0-5]?|[3-9]\\\\d?)\\\\.){3}(0|1\\\\d?\\\\d?|2[0-4]?\\\\d?|25[0-5]?|[3-9]\\\\d?)$&quot;;\r\n\r\n\t\treturn ip.matches(PATTERN);\r\n\t}","title":"Validate IPv4 address in Java","body":"<p>Please see <a href=\"https://stackoverflow.com/a/5668971/1586965\">https://stackoverflow.com/a/5668971/1586965</a> which uses an apache commons library <code>InetAddressValidator</code></p>\n\n<p>Or you can use this function -   </p>\n\n<pre><code>public static boolean validate(final String ip) {\n    String PATTERN = \"^((0|1\\\\d?\\\\d?|2[0-4]?\\\\d?|25[0-5]?|[3-9]\\\\d?)\\\\.){3}(0|1\\\\d?\\\\d?|2[0-4]?\\\\d?|25[0-5]?|[3-9]\\\\d?)$\";\n\n    return ip.matches(PATTERN);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2587173,"reputation":323,"user_id":2242609,"display_name":"Kevin"},"score":2,"creation_date":1498142831,"post_id":32539471,"comment_id":76388275,"body_markdown":"I don&#39;t think this does what the author requested.  If you pass in InetAddress.getByName(&quot;google.com&quot;) you&#39;ll get true, this is because getByName resolves dns names to IP address.","body":"I don&#39;t think this does what the author requested.  If you pass in InetAddress.getByName(&quot;google.com&quot;) you&#39;ll get true, this is because getByName resolves dns names to IP address."}],"tags":[],"owner":{"account_id":2476338,"reputation":2525,"user_id":2156913,"accept_rate":57,"display_name":"Pian0_M4n"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1595950718,"creation_date":1442065178,"answer_id":32539471,"question_id":5667371,"body_markdown":"This is for Android, testing for `IPv4` and `IPv6`\r\n\r\nNote: the commonly used `InetAddressUtils` is deprecated. Use new `InetAddress` classes\r\n\r\n    public static Boolean isIPv4Address(String address) {\r\n        if (address.isEmpty()) {\r\n            return false;\r\n        }\r\n        try {\r\n            Object res = InetAddress.getByName(address);\r\n            return res instanceof Inet4Address || res instanceof Inet6Address;\r\n        } catch (final UnknownHostException exception) {\r\n            return false;\r\n        }\r\n    }","title":"Validate IPv4 address in Java","body":"<p>This is for Android, testing for <code>IPv4</code> and <code>IPv6</code></p>\n<p>Note: the commonly used <code>InetAddressUtils</code> is deprecated. Use new <code>InetAddress</code> classes</p>\n<pre><code>public static Boolean isIPv4Address(String address) {\n    if (address.isEmpty()) {\n        return false;\n    }\n    try {\n        Object res = InetAddress.getByName(address);\n        return res instanceof Inet4Address || res instanceof Inet6Address;\n    } catch (final UnknownHostException exception) {\n        return false;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6779053,"reputation":4704,"user_id":5253659,"accept_rate":64,"display_name":"DmitryBorodin"},"score":1,"creation_date":1549491023,"post_id":35076074,"comment_id":95925564,"body_markdown":"will it match 10.10.10.10? There is no 0 in regexp","body":"will it match 10.10.10.10? There is no 0 in regexp"}],"tags":[],"owner":{"account_id":6601451,"reputation":348,"user_id":5099618,"display_name":"darkconeja"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1454090398,"creation_date":1454036040,"answer_id":35076074,"question_id":5667371,"body_markdown":"If you don care about the range, the following expression will be useful to validate from 1.1.1.1 to 999.999.999.999\r\n\r\n    &quot;[1-9]{1,3}\\\\.[1-9]{1,3}\\\\.[1-9]{1,3}\\\\.[1-9]{1,3}&quot;","title":"Validate IPv4 address in Java","body":"<p>If you don care about the range, the following expression will be useful to validate from 1.1.1.1 to 999.999.999.999</p>\n\n<pre><code>\"[1-9]{1,3}\\\\.[1-9]{1,3}\\\\.[1-9]{1,3}\\\\.[1-9]{1,3}\"\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user5150135"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457704075,"creation_date":1457704075,"answer_id":35941919,"question_id":5667371,"body_markdown":"There are so many ways to achieve that,but regular expression is more efficient.\r\n\r\nLook at the code below:\r\n\r\n    public static void main(String[] args) {\r\n\r\n\t\tString ipStr1 = &quot;255.245.188.123&quot;; // valid IP address\r\n\t\tString ipStr2 = &quot;255.245.188.273&quot;; // invalid IP address - 273 is greater than 255\r\n\r\n\t\tvalidateIP(ipStr1);\r\n\t\tvalidateIP(ipStr2);\r\n\t}\r\n\r\n\tpublic static void validateIP(String ipStr) {\r\n\t\tString regex = &quot;\\\\b((25[0–5]|2[0–4]\\\\d|[01]?\\\\d\\\\d?)(\\\\.)){3}(25[0–5]|2[0–4]\\\\d|[01]?\\\\d\\\\d?)\\\\b&quot;;\r\n\t\tSystem.out.println(ipStr + &quot; is valid? &quot; + Pattern.matches(regex, ipStr));\r\n\t}","title":"Validate IPv4 address in Java","body":"<p>There are so many ways to achieve that,but regular expression is more efficient.</p>\n\n<p>Look at the code below:</p>\n\n<pre><code>public static void main(String[] args) {\n\n    String ipStr1 = \"255.245.188.123\"; // valid IP address\n    String ipStr2 = \"255.245.188.273\"; // invalid IP address - 273 is greater than 255\n\n    validateIP(ipStr1);\n    validateIP(ipStr2);\n}\n\npublic static void validateIP(String ipStr) {\n    String regex = \"\\\\b((25[0–5]|2[0–4]\\\\d|[01]?\\\\d\\\\d?)(\\\\.)){3}(25[0–5]|2[0–4]\\\\d|[01]?\\\\d\\\\d?)\\\\b\";\n    System.out.println(ipStr + \" is valid? \" + Pattern.matches(regex, ipStr));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2105569,"reputation":191,"user_id":1871980,"display_name":"karadeniz"},"score":0,"creation_date":1681917344,"post_id":40079878,"comment_id":134135106,"body_markdown":"Beware, this solution treats &quot;192&quot; as valid by default.","body":"Beware, this solution treats &quot;192&quot; as valid by default."},{"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"score":0,"creation_date":1682994706,"post_id":40079878,"comment_id":134295700,"body_markdown":"That&#39;s because &quot;192&quot; is a valid IPv4 address.  But it&#39;s easy to exclude it, if desired.","body":"That&#39;s because &quot;192&quot; is a valid IPv4 address.  But it&#39;s easy to exclude it, if desired."}],"tags":[],"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1513190437,"creation_date":1476686124,"answer_id":40079878,"question_id":5667371,"body_markdown":"[The IPAddress Java library](https://seancfoley.github.io/IPAddress/) will do it.  The javadoc is available at the link.  Disclaimer: I am the project manager.\r\n\r\nThis library supports IPv4 and IPv6 transparently, so validating either works the same below, and it also supports CIDR subnets as well.\r\n\r\nVerify if an address is valid\r\n    \r\n        String str = &quot;1.2.3.4&quot;;\r\n        IPAddressString addrString = new IPAddressString(str);\r\n        try {\r\n             IPAddress addr = addrString.toAddress();\r\n             ...\r\n        } catch(AddressStringException e) {\r\n            //e.getMessage provides validation issue\r\n        }\r\n","title":"Validate IPv4 address in Java","body":"<p><a href=\"https://seancfoley.github.io/IPAddress/\" rel=\"nofollow noreferrer\">The IPAddress Java library</a> will do it.  The javadoc is available at the link.  Disclaimer: I am the project manager.</p>\n\n<p>This library supports IPv4 and IPv6 transparently, so validating either works the same below, and it also supports CIDR subnets as well.</p>\n\n<p>Verify if an address is valid</p>\n\n<pre><code>    String str = \"1.2.3.4\";\n    IPAddressString addrString = new IPAddressString(str);\n    try {\n         IPAddress addr = addrString.toAddress();\n         ...\n    } catch(AddressStringException e) {\n        //e.getMessage provides validation issue\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7330877,"reputation":195,"user_id":5583806,"display_name":"veeson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502171209,"creation_date":1502171209,"answer_id":45560187,"question_id":5667371,"body_markdown":"    public static boolean isIpv4(String ipAddress) {\r\n\t\tif (ipAddress == null) {\r\n\t\t\treturn false;\r\n\t\t}\r\n        String ip = &quot;^(1\\\\d{2}|2[0-4]\\\\d|25[0-5]|[1-9]\\\\d|[1-9])\\\\.&quot;\r\n                + &quot;(1\\\\d{2}|2[0-4]\\\\d|25[0-5]|[1-9]\\\\d|\\\\d)\\\\.&quot;\r\n                + &quot;(1\\\\d{2}|2[0-4]\\\\d|25[0-5]|[1-9]\\\\d|\\\\d)\\\\.&quot;\r\n                + &quot;(1\\\\d{2}|2[0-4]\\\\d|25[0-5]|[1-9]\\\\d|\\\\d)$&quot;;\r\n        Pattern pattern = Pattern.compile(ip);\r\n        Matcher matcher = pattern.matcher(ipAddress);\r\n        return matcher.matches();\r\n    }","title":"Validate IPv4 address in Java","body":"<pre><code>public static boolean isIpv4(String ipAddress) {\n    if (ipAddress == null) {\n        return false;\n    }\n    String ip = \"^(1\\\\d{2}|2[0-4]\\\\d|25[0-5]|[1-9]\\\\d|[1-9])\\\\.\"\n            + \"(1\\\\d{2}|2[0-4]\\\\d|25[0-5]|[1-9]\\\\d|\\\\d)\\\\.\"\n            + \"(1\\\\d{2}|2[0-4]\\\\d|25[0-5]|[1-9]\\\\d|\\\\d)\\\\.\"\n            + \"(1\\\\d{2}|2[0-4]\\\\d|25[0-5]|[1-9]\\\\d|\\\\d)$\";\n    Pattern pattern = Pattern.compile(ip);\n    Matcher matcher = pattern.matcher(ipAddress);\n    return matcher.matches();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13401411,"reputation":11,"user_id":9670838,"display_name":"Deepali Agg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524498943,"creation_date":1524498943,"answer_id":49985248,"question_id":5667371,"body_markdown":"Regular Expression is the most efficient way to solve this problem.\r\nLook at the code below. Along validity, it also checks IP address class in which it belongs and whether it is reserved IP Address or not\r\n\r\n\tPattern ipPattern;\r\n\tint[] arr=new int[4];\r\n\tint i=0;\r\n\r\n    //Method to check validity\r\n\t private String validateIpAddress(String ipAddress) {\r\n\t\t  Matcher ipMatcher=ipPattern.matcher(ipAddress);\r\n\t\t  \r\n\t\t    //Condition to check input IP format\r\n\t\t    if(ipMatcher.matches()) {       \r\n\t\t\t  \r\n\t\t\t   //Split input IP Address on basis of .\r\n\t\t\t   String[] octate=ipAddress.split(&quot;[.]&quot;);     \r\n\t\t\t   for(String x:octate) { \r\n\t\t\t\t \r\n\t\t\t\t  //Convert String number into integer\r\n\t\t\t\t  arr[i]=Integer.parseInt(x);             \r\n\t\t\t\t  i++;\r\n\t\t\t }\r\n\t\t\t \r\n\t\t\t//Check whether input is Class A IP Address or not\r\n\t\t\t if(arr[0]&lt;=127) {                          \r\n\t\t\t\t if(arr[0]==0||arr[0]==127)\r\n\t\t\t\t   \t return(&quot; is Reserved IP Address of Class A&quot;);\r\n\t\t\t\t else if(arr[1]==0&amp;&amp;arr[2]==0&amp;&amp;arr[3]==0)\r\n\t\t\t\t     return(&quot; is Class A Network address&quot;);\r\n\t\t\t\t else if(arr[1]==255&amp;&amp;arr[2]==255&amp;&amp;arr[3]==255)\r\n\t\t\t         return( &quot; is Class A Broadcast address&quot;);\r\n\t\t         else \r\n\t\t        \t return(&quot; is valid IP Address of Class A&quot;);\r\n\t\t\t }\r\n\t\t\t \r\n\t\t\t//Check whether input is Class B IP Address or not\r\n\t\t\t else if(arr[0]&gt;=128&amp;&amp;arr[0]&lt;=191) {        \r\n\t\t\t\t if(arr[2]==0&amp;&amp;arr[3]==0)\r\n\t\t\t         return(&quot; is Class B Network address&quot;);\r\n\t\t         else if(arr[2]==255&amp;&amp;arr[3]==255)\r\n\t\t\t         return(&quot; is Class B Broadcast address&quot;);\r\n\t\t         else\r\n\t\t\t\t     return(&quot; is valid IP Address of Class B&quot;);\r\n\t\t\t }\r\n\t\t\t \r\n\t\t\t//Check whether input is Class C IP Address or not\r\n\t\t\t else if(arr[0]&gt;=192&amp;&amp;arr[0]&lt;=223) {        \r\n\t\t\t\t if(arr[3]==0)\r\n\t\t\t\t\t return(&quot; is Class C Network address&quot;);\r\n\t\t         else if(arr[3]==255)\r\n\t\t        \t return(&quot; is Class C Broadcast address&quot;);\r\n\t\t         else\r\n\t\t        \t return( &quot; is valid IP Address of Class C&quot;);\r\n\t\t\t}\r\n\t\t\t \r\n\t\t\t//Check whether input is Class D IP Address or not\r\n\t\t\telse if(arr[0]&gt;=224&amp;&amp;arr[0]&lt;=239) {          \r\n\t\t\t\t return(&quot; is Class D IP Address Reserved for multicasting&quot;);\r\n\t\t\t}\r\n\t\t\t \r\n\t\t\t//Execute if input is Class E IP Address\r\n\t\t\telse  {                                   \r\n\t\t\t\t return(&quot; is Class E IP Address Reserved for Research and Development by DOD&quot;);\r\n\t        }\r\n\t\t\t\r\n\t    }\r\n\t\t  \r\n\t\t//Input not matched with IP Address pattern\r\n\t\telse                                     \r\n\t\t\treturn(&quot; is Invalid IP Address&quot;);\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tScanner scan= new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter IP Address: &quot;);\r\n\t\t\r\n\t\t//Input IP Address from user\r\n\t\tString ipAddress=scan.nextLine();  \r\n\t\tscan.close();\r\n\t\tIPAddress obj=new IPAddress();\r\n\t\t\r\n\t\t//Regex for IP Address\r\n\t\tobj.ipPattern=Pattern.compile(&quot;((([0-1]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])\\\\.){3}([0-1]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5]))&quot;);\r\n\t\t\r\n\t\t//Display output\r\n\t\tSystem.out.println(ipAddress+ obj.validateIpAddress(ipAddress));\r\n\r\n\t}\r\n\r\n","title":"Validate IPv4 address in Java","body":"<p>Regular Expression is the most efficient way to solve this problem.\nLook at the code below. Along validity, it also checks IP address class in which it belongs and whether it is reserved IP Address or not</p>\n\n<pre><code>Pattern ipPattern;\nint[] arr=new int[4];\nint i=0;\n\n//Method to check validity\n private String validateIpAddress(String ipAddress) {\n      Matcher ipMatcher=ipPattern.matcher(ipAddress);\n\n        //Condition to check input IP format\n        if(ipMatcher.matches()) {       \n\n           //Split input IP Address on basis of .\n           String[] octate=ipAddress.split(\"[.]\");     \n           for(String x:octate) { \n\n              //Convert String number into integer\n              arr[i]=Integer.parseInt(x);             \n              i++;\n         }\n\n        //Check whether input is Class A IP Address or not\n         if(arr[0]&lt;=127) {                          \n             if(arr[0]==0||arr[0]==127)\n                 return(\" is Reserved IP Address of Class A\");\n             else if(arr[1]==0&amp;&amp;arr[2]==0&amp;&amp;arr[3]==0)\n                 return(\" is Class A Network address\");\n             else if(arr[1]==255&amp;&amp;arr[2]==255&amp;&amp;arr[3]==255)\n                 return( \" is Class A Broadcast address\");\n             else \n                 return(\" is valid IP Address of Class A\");\n         }\n\n        //Check whether input is Class B IP Address or not\n         else if(arr[0]&gt;=128&amp;&amp;arr[0]&lt;=191) {        \n             if(arr[2]==0&amp;&amp;arr[3]==0)\n                 return(\" is Class B Network address\");\n             else if(arr[2]==255&amp;&amp;arr[3]==255)\n                 return(\" is Class B Broadcast address\");\n             else\n                 return(\" is valid IP Address of Class B\");\n         }\n\n        //Check whether input is Class C IP Address or not\n         else if(arr[0]&gt;=192&amp;&amp;arr[0]&lt;=223) {        \n             if(arr[3]==0)\n                 return(\" is Class C Network address\");\n             else if(arr[3]==255)\n                 return(\" is Class C Broadcast address\");\n             else\n                 return( \" is valid IP Address of Class C\");\n        }\n\n        //Check whether input is Class D IP Address or not\n        else if(arr[0]&gt;=224&amp;&amp;arr[0]&lt;=239) {          \n             return(\" is Class D IP Address Reserved for multicasting\");\n        }\n\n        //Execute if input is Class E IP Address\n        else  {                                   \n             return(\" is Class E IP Address Reserved for Research and Development by DOD\");\n        }\n\n    }\n\n    //Input not matched with IP Address pattern\n    else                                     \n        return(\" is Invalid IP Address\");\n\n\n}\n\n\npublic static void main(String[] args) {\n\n    Scanner scan= new Scanner(System.in);\n    System.out.println(\"Enter IP Address: \");\n\n    //Input IP Address from user\n    String ipAddress=scan.nextLine();  \n    scan.close();\n    IPAddress obj=new IPAddress();\n\n    //Regex for IP Address\n    obj.ipPattern=Pattern.compile(\"((([0-1]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])\\\\.){3}([0-1]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5]))\");\n\n    //Display output\n    System.out.println(ipAddress+ obj.validateIpAddress(ipAddress));\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":1,"creation_date":1622203151,"post_id":52341072,"comment_id":119731216,"body_markdown":"Hi. You have rejected and undone helpful edits on your post by other users multiple times. If you do not like others to do format improvements for you please do them yourself. https://stackoverflow.com/editing-help Keeping the post in that unhelpful formatting is unlikely to be of any benefit to you.","body":"Hi. You have rejected and undone helpful edits on your post by other users multiple times. If you do not like others to do format improvements for you please do them yourself. <a href=\"https://stackoverflow.com/editing-help\">stackoverflow.com/editing-help</a> Keeping the post in that unhelpful formatting is unlikely to be of any benefit to you."}],"tags":[],"owner":{"account_id":14336993,"reputation":7,"user_id":10356146,"display_name":"M Manzar AbBas"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1622202625,"creation_date":1536978186,"answer_id":52341072,"question_id":5667371,"body_markdown":"public void setIpAddress(String ipAddress) {\r\n        if(ipAddress.matches(&quot;^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$&quot;))   //regular expression for ipv4 \r\n            this.ipAddress = ipAddress;\r\n        else\r\n            System.out.println(&quot;incorrect IpAddress&quot;);\r\n    }","title":"Validate IPv4 address in Java","body":"<p>public void setIpAddress(String ipAddress) {\nif(ipAddress.matches(&quot;^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$&quot;))   //regular expression for ipv4\nthis.ipAddress = ipAddress;\nelse\nSystem.out.println(&quot;incorrect IpAddress&quot;);\n}</p>\n"},{"tags":[],"owner":{"account_id":9934922,"reputation":4769,"user_id":7353562,"accept_rate":75,"display_name":"Arpan Saini"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562069386,"creation_date":1562069386,"answer_id":56852159,"question_id":5667371,"body_markdown":"**Get the valid ip address in two lines using Regular Expression** Please check the comment session of code how the regular expression works to get the number range. \r\n    \r\n    public class regexTest {\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            String IP = &quot;255.001.001.255&quot;;\r\n            System.out.println(IP.matches(new MyRegex().pattern));\r\n        }\r\n    \r\n        }\r\n        \r\n        /*\r\n        * /d - stands for any number between 0 to 9\r\n        * /d{1,2} - preceding number that 0 to 9 here , can be of 1 digit to 2 digit . so minimum 0 and maximum 99\r\n        * |  this stands for or operator\r\n        *\r\n        * () this is applied on a group to get the single value of outcome\r\n        * (0|1)\\d{2} = first digit is either 0 or 1 and other two digits can be any number between ( 0 to 9)\r\n        * 2[0-4]\\d - first digit is 2 , second digit can be between 0 to 4 and last digit can be 0 to 9\r\n        * 25[0-5] - first two digit will be 25 and last digit will be between 0 to 5\r\n        *\r\n        * */\r\n        class MyRegex {\r\n    \r\n            String zeroTo255 = &quot;(\\\\d{1,2}|(0|1)\\\\d{2}|2[0-4]\\\\d|25[0-5])&quot;;\r\n            public String pattern =  zeroTo255 + &quot;\\\\.&quot; + zeroTo255 + &quot;\\\\.&quot; + zeroTo255 + &quot;\\\\.&quot; + zeroTo255;;\r\n    \r\n        }\r\n\r\n","title":"Validate IPv4 address in Java","body":"<p><strong>Get the valid ip address in two lines using Regular Expression</strong> Please check the comment session of code how the regular expression works to get the number range. </p>\n\n<pre><code>public class regexTest {\n\n\n    public static void main(String[] args) {\n        String IP = \"255.001.001.255\";\n        System.out.println(IP.matches(new MyRegex().pattern));\n    }\n\n    }\n\n    /*\n    * /d - stands for any number between 0 to 9\n    * /d{1,2} - preceding number that 0 to 9 here , can be of 1 digit to 2 digit . so minimum 0 and maximum 99\n    * |  this stands for or operator\n    *\n    * () this is applied on a group to get the single value of outcome\n    * (0|1)\\d{2} = first digit is either 0 or 1 and other two digits can be any number between ( 0 to 9)\n    * 2[0-4]\\d - first digit is 2 , second digit can be between 0 to 4 and last digit can be 0 to 9\n    * 25[0-5] - first two digit will be 25 and last digit will be between 0 to 5\n    *\n    * */\n    class MyRegex {\n\n        String zeroTo255 = \"(\\\\d{1,2}|(0|1)\\\\d{2}|2[0-4]\\\\d|25[0-5])\";\n        public String pattern =  zeroTo255 + \"\\\\.\" + zeroTo255 + \"\\\\.\" + zeroTo255 + \"\\\\.\" + zeroTo255;;\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12511931,"reputation":3963,"user_id":9106684,"display_name":"duyuanchao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571398960,"creation_date":1571398960,"answer_id":58450184,"question_id":5667371,"body_markdown":"    /**\r\n     * Check if ip is valid\r\n     *\r\n     * @param ip to be checked\r\n     * @return &lt;tt&gt;true&lt;/tt&gt; if &lt;tt&gt;ip&lt;/tt&gt; is valid, otherwise &lt;tt&gt;false&lt;/tt&gt;\r\n     */\r\n    private static boolean isValid(String ip) {\r\n        String[] bits = ip.split(&quot;\\\\.&quot;);\r\n        if (bits.length != 4) {\r\n            return false;\r\n        }\r\n        for (String bit : bits) {\r\n            try {\r\n                if (Integer.valueOf(bit) &lt; 0 || Integer.valueOf(bit) &gt; 255) {\r\n                    return false;\r\n                }\r\n            } catch (NumberFormatException e) {\r\n                return false; /* contains other other character */\r\n            }\r\n        }\r\n        return true;\r\n    }","title":"Validate IPv4 address in Java","body":"<pre><code>/**\n * Check if ip is valid\n *\n * @param ip to be checked\n * @return &lt;tt&gt;true&lt;/tt&gt; if &lt;tt&gt;ip&lt;/tt&gt; is valid, otherwise &lt;tt&gt;false&lt;/tt&gt;\n */\nprivate static boolean isValid(String ip) {\n    String[] bits = ip.split(\"\\\\.\");\n    if (bits.length != 4) {\n        return false;\n    }\n    for (String bit : bits) {\n        try {\n            if (Integer.valueOf(bit) &lt; 0 || Integer.valueOf(bit) &gt; 255) {\n                return false;\n            }\n        } catch (NumberFormatException e) {\n            return false; /* contains other other character */\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4089940,"reputation":196,"user_id":3358231,"accept_rate":75,"display_name":"fo0"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577664065,"creation_date":1577664065,"answer_id":59524380,"question_id":5667371,"body_markdown":"the lib of apache-httpcomponents\r\n\r\n```java\r\n// ipv4 is true\r\nassertTrue(InetAddressUtils.isIPv4Address(&quot;127.0.0.1&quot;));\r\n// not detect the ipv6\r\nassertFalse(InetAddressUtils.isIPv4Address(&quot;2001:0db8:85a3:0000:0000:8a2e:0370:7334&quot;));\r\n```\r\n\r\n\r\nmaven lib (update Sep, 2019)\r\n```maven\r\n&lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents/httpclient --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n    &lt;version&gt;4.5.10&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"Validate IPv4 address in Java","body":"<p>the lib of apache-httpcomponents</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// ipv4 is true\nassertTrue(InetAddressUtils.isIPv4Address(\"127.0.0.1\"));\n// not detect the ipv6\nassertFalse(InetAddressUtils.isIPv4Address(\"2001:0db8:85a3:0000:0000:8a2e:0370:7334\"));\n</code></pre>\n\n<p>maven lib (update Sep, 2019)</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents/httpclient --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n    &lt;version&gt;4.5.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10812322,"reputation":1,"user_id":7952558,"display_name":"Kurnianto Trilaksono"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604581385,"creation_date":1604581385,"answer_id":64697786,"question_id":5667371,"body_markdown":"my solution (supports leading 0s):\r\n\r\n       String pattern=&quot;^[0-9](\\\\d{1,2}|1?[0-9][0-9]|2?[0-4][0-9]|25?[0-5])?\\\\.(\\\\d{1,2}|1?[0-9][0-9]|2?[0-4][0-9]|25[0-5])?\\\\.(\\\\d{1,2}|1?[0-9][0-9]|2?[0-4][0-9]|25[0-5])?\\\\.(\\\\d{1,2}|1?[0-9][0-9]|2?[0-4][0-9]|25[0-5])?$&quot;;","title":"Validate IPv4 address in Java","body":"<p>my solution (supports leading 0s):</p>\n<pre><code>   String pattern=&quot;^[0-9](\\\\d{1,2}|1?[0-9][0-9]|2?[0-4][0-9]|25?[0-5])?\\\\.(\\\\d{1,2}|1?[0-9][0-9]|2?[0-4][0-9]|25[0-5])?\\\\.(\\\\d{1,2}|1?[0-9][0-9]|2?[0-4][0-9]|25[0-5])?\\\\.(\\\\d{1,2}|1?[0-9][0-9]|2?[0-4][0-9]|25[0-5])?$&quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8964761,"reputation":2289,"user_id":6685903,"display_name":"Ritu Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623083666,"creation_date":1623083666,"answer_id":67875486,"question_id":5667371,"body_markdown":"```\r\n private static final String IPV4_PATTERN_ALLOW_LEADING_ZERO =\r\n            &quot;^([01]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])\\\\.&quot; +\r\n            &quot;([01]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])\\\\.&quot; +\r\n            &quot;([01]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])\\\\.&quot; +\r\n            &quot;([01]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])$&quot;;","title":"Validate IPv4 address in Java","body":"<pre><code> private static final String IPV4_PATTERN_ALLOW_LEADING_ZERO =\n            &quot;^([01]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])\\\\.&quot; +\n            &quot;([01]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])\\\\.&quot; +\n            &quot;([01]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])\\\\.&quot; +\n            &quot;([01]?\\\\d\\\\d?|2[0-4]\\\\d|25[0-5])$&quot;;\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user16123931"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632199540,"creation_date":1632199540,"answer_id":69263484,"question_id":5667371,"body_markdown":"    private static boolean findValidIP(String ipAddress) {\r\n            String[] ipAddressSplited = ipAddress.split(&quot;\\\\.&quot;);\r\n            int correctFragments = 0;\r\n    \r\n            for (String ctr : ipAddressSplited) {\r\n                int value = -10;\r\n                try {\r\n                    value = Integer.parseInt(ctr);\r\n                } catch (NumberFormatException exception) {\r\n                    value = -1;\r\n                }\r\n    \r\n                if (value &gt;= 0 &amp;&amp; value &lt;= 255 &amp;&amp; ipAddressSplited.length == 4) correctFragments++;\r\n            }\r\n\r\n            System.out.println(correctFragments == 4 ? &quot;Valid IP Address - &quot; + ipAddress : &quot;Invalid IP Address - &quot; + ipAddress);\r\n            return correctFragments == 4;\r\n        }","title":"Validate IPv4 address in Java","body":"<pre><code>private static boolean findValidIP(String ipAddress) {\n        String[] ipAddressSplited = ipAddress.split(&quot;\\\\.&quot;);\n        int correctFragments = 0;\n\n        for (String ctr : ipAddressSplited) {\n            int value = -10;\n            try {\n                value = Integer.parseInt(ctr);\n            } catch (NumberFormatException exception) {\n                value = -1;\n            }\n\n            if (value &gt;= 0 &amp;&amp; value &lt;= 255 &amp;&amp; ipAddressSplited.length == 4) correctFragments++;\n        }\n\n        System.out.println(correctFragments == 4 ? &quot;Valid IP Address - &quot; + ipAddress : &quot;Invalid IP Address - &quot; + ipAddress);\n        return correctFragments == 4;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9663586,"reputation":51,"user_id":7170757,"display_name":"ManhKM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637922808,"creation_date":1637922808,"answer_id":70123019,"question_id":5667371,"body_markdown":"I write a regex to **validate IPv4**.&lt;br&gt;\r\nYou can refer to my solution.\r\n\r\n    import java.util.Scanner;\r\n    \r\n    /**\r\n     * @author ManhKM on 11/26/2021\r\n     * @project java-core-v1.0\r\n     */\r\n    public class ValidateIPv4 {\r\n        public static void main(String[] args){\r\n            Scanner in = new Scanner(System.in);\r\n            while(in.hasNext()){\r\n                String IP = in.next();\r\n                System.out.println(IP.matches(new MyRegex().pattern));\r\n            }\r\n    \r\n        }\r\n    }\r\n    \r\n    class MyRegex{\r\n    \r\n        String pattern = &quot;^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$&quot;;\r\n    }\r\n\r\n","title":"Validate IPv4 address in Java","body":"<p>I write a regex to <strong>validate IPv4</strong>.<br>\nYou can refer to my solution.</p>\n<pre><code>import java.util.Scanner;\n\n/**\n * @author ManhKM on 11/26/2021\n * @project java-core-v1.0\n */\npublic class ValidateIPv4 {\n    public static void main(String[] args){\n        Scanner in = new Scanner(System.in);\n        while(in.hasNext()){\n            String IP = in.next();\n            System.out.println(IP.matches(new MyRegex().pattern));\n        }\n\n    }\n}\n\nclass MyRegex{\n\n    String pattern = &quot;^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$&quot;;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22084389,"reputation":211938,"user_id":16343464,"display_name":"mozway"},"score":3,"creation_date":1694430492,"post_id":77081064,"comment_id":135885467,"body_markdown":"The question already has **many** answers, can you please clarify how yours improves over the existing ones?","body":"The question already has <b>many</b> answers, can you please clarify how yours improves over the existing ones?"}],"tags":[],"owner":{"account_id":9332244,"reputation":1,"user_id":18065281,"display_name":"Ricardo DC Melo Neves"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694434146,"creation_date":1694430101,"answer_id":77081064,"question_id":5667371,"body_markdown":"```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        while(in.hasNext()){\r\n            String IP = in.next();\r\n            System.out.println(IP.matches(new MyRegex().pattern));\r\n        }\r\n    }\r\n}\r\n\r\nclass MyRegex {\r\n    public String pattern;\r\n\r\n    public MyRegex() {\r\n        this.pattern = &quot;((25[0-5]|2[0-4][0-9])|((0|1)[0-9][0-9])|([0-9]{1,2}))\\\\.((25[0-5]|2[0-4][0-9])|((0|1)[0-9][0-9])|([0-9]{1,2}))\\\\.((25[0-5]|2[0-4][0-9])|((0|1)[0-9][0-9])|([0-9]{1,2}))\\\\.((25[0-5]|2[0-4][0-9])|((0|1)[0-9][0-9])|([0-9]{1,2}))&quot; ;           \r\n    }\r\n}\r\n```","title":"Validate IPv4 address in Java","body":"<pre><code>public class Main {\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        while(in.hasNext()){\n            String IP = in.next();\n            System.out.println(IP.matches(new MyRegex().pattern));\n        }\n    }\n}\n\nclass MyRegex {\n    public String pattern;\n\n    public MyRegex() {\n        this.pattern = &quot;((25[0-5]|2[0-4][0-9])|((0|1)[0-9][0-9])|([0-9]{1,2}))\\\\.((25[0-5]|2[0-4][0-9])|((0|1)[0-9][0-9])|([0-9]{1,2}))\\\\.((25[0-5]|2[0-4][0-9])|((0|1)[0-9][0-9])|([0-9]{1,2}))\\\\.((25[0-5]|2[0-4][0-9])|((0|1)[0-9][0-9])|([0-9]{1,2}))&quot; ;           \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":717438,"reputation":1482,"user_id":645825,"accept_rate":77,"display_name":"iRunner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155277,"favorite_count":0,"down_vote_count":3,"up_vote_count":80,"accepted_answer_id":30691451,"answer_count":23,"score":77,"last_activity_date":1694434146,"creation_date":1302803354,"question_id":5667371,"body_markdown":"I want to validate an IPv4 address using Java. It should be written using the [dot-decimal notation][1], so it should have 3 dots (&quot;`.`&quot;), no characters, numbers in between the dots, and numbers should be in a valid range. How should it be done?\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Dotted_decimal","title":"Validate IPv4 address in Java","body":"<p>I want to validate an IPv4 address using Java. It should be written using the <a href=\"http://en.wikipedia.org/wiki/Dotted_decimal\" rel=\"noreferrer\">dot-decimal notation</a>, so it should have 3 dots (\"<code>.</code>\"), no characters, numbers in between the dots, and numbers should be in a valid range. How should it be done?</p>\n"},{"tags":["java","android","android-studio","android-emulator","qemu"],"comments":[{"owner":{"account_id":6351514,"reputation":6342,"user_id":4930423,"display_name":"programmerq"},"score":0,"creation_date":1626968440,"post_id":68478116,"comment_id":121038783,"body_markdown":"instead of including a link to an external resource (the youtube link), include the actual steps you are following as part of the question. The link may break over time and not everyone may be able to access it. https://stackoverflow.com/help/how-to-ask","body":"instead of including a link to an external resource (the youtube link), include the actual steps you are following as part of the question. The link may break over time and not everyone may be able to access it. <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":22439700,"reputation":1,"user_id":16644433,"display_name":"Nisha15"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628717210,"creation_date":1628717210,"answer_id":68749103,"question_id":68478116,"body_markdown":"This error could be due to two reasons :\r\n1. Either due to your android emulator / device version.\r\n2. Due to some error in your java or xml file.\r\n\r\nFirst, change your current minSdkVersion to some other version preferably below 23.\r\nThen check your logcat whether it gives some error in your code. Most probably that could be an import error. \r\n\r\nIn my case, I changed my minSdkVersion from 26 to 17.\r\nAnd it worked for me. Hopefully, it works for you as well.","title":"&quot;Failed to open QEMU pipe &#39;qemud:network&#39;: Invalid argument&quot; error when trying to run app on android emulator","body":"<p>This error could be due to two reasons :</p>\n<ol>\n<li>Either due to your android emulator / device version.</li>\n<li>Due to some error in your java or xml file.</li>\n</ol>\n<p>First, change your current minSdkVersion to some other version preferably below 23.\nThen check your logcat whether it gives some error in your code. Most probably that could be an import error.</p>\n<p>In my case, I changed my minSdkVersion from 26 to 17.\nAnd it worked for me. Hopefully, it works for you as well.</p>\n"}],"owner":{"account_id":13989171,"reputation":21,"user_id":10103529,"display_name":"Tokyoline"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8687,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694433890,"creation_date":1626917218,"question_id":68478116,"body_markdown":"I have been trying to follow this tutorial:\r\n\r\nhttps://www.youtube.com/watch?v=SBzfsCFgGdo&amp;list=PLDGYn1fFRgEN1zsbOLRCdapIZlb0Y9Bas&amp;index=3\r\n\r\nI run into the following error when trying to run the app on an emulator:\r\n\r\n```\r\n2021-07-22 02:14:47.311 442-442/? E/netmgr: qemu_pipe_open_ns:62: Could not connect to the &#39;pipe:qemud:network&#39; service: Invalid argument\r\n2021-07-22 02:14:47.311 442-442/? E/netmgr: Failed to open QEMU pipe &#39;qemud:network&#39;: Invalid argument\r\n2021-07-22 02:14:49.051 444-444/? E/wifi_forwarder: qemu_pipe_open_ns:62: Could not connect to the &#39;pipe:qemud:wififorward&#39; service: Invalid argument\r\n2021-07-22 02:14:49.051 444-444/? E/wifi_forwarder: RemoteConnection failed to initialize: RemoteConnection failed to open pipe\r\n```\r\n\r\nAll the solutions on the internet revolve around including &quot;android:usesCleartextTraffic=&quot;true&quot;&quot; into the manifest file, but I have done that with no better outcome.\r\n\r\nMy code:\r\n\r\nMainActivity.java:\r\n```\r\npackage com.example.testapp;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\nimport java.io.IOException;\r\n\r\nimport okhttp3.Call;\r\nimport okhttp3.Callback;\r\nimport okhttp3.OkHttpClient;\r\nimport okhttp3.Request;\r\nimport okhttp3.Response;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        OkHttpClient client = new OkHttpClient();\r\n        Request request = new Request.Builder().url(&quot; http://192.168.1.246:5000/&quot;).build();\r\n\r\n        client.newCall(request).enqueue(new Callback() {\r\n            @Override\r\n            public void onFailure(@NotNull Call call, @NotNull IOException e) {\r\n                Toast.makeText(MainActivity.this, &quot;network not found&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n\r\n            @Override\r\n            public void onResponse(@NotNull Call call, @NotNull Response response) throws IOException {\r\n                TextView textView = findViewById(R.id.textView1);\r\n                textView.setText(response.body().string());\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nAndroidManifest.xml:\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.testapp&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.TestApp&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;\r\n            android:exported = &quot;false&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nFlask Server:\r\n\r\n```\r\nfrom flask import Flask, request\r\n\r\napp = Flask(__name__)\r\n\r\n@app.route(&#39;/&#39;)\r\ndef hello_world():\r\n    print(&quot;request&quot;)\r\n    return &#39;hello honey&#39;\r\n\r\nif __name__ == &quot;__main__&quot;:\r\n    app.run()\r\n```","title":"&quot;Failed to open QEMU pipe &#39;qemud:network&#39;: Invalid argument&quot; error when trying to run app on android emulator","body":"<p>I have been trying to follow this tutorial:</p>\n<p><a href=\"https://www.youtube.com/watch?v=SBzfsCFgGdo&amp;list=PLDGYn1fFRgEN1zsbOLRCdapIZlb0Y9Bas&amp;index=3\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=SBzfsCFgGdo&amp;list=PLDGYn1fFRgEN1zsbOLRCdapIZlb0Y9Bas&amp;index=3</a></p>\n<p>I run into the following error when trying to run the app on an emulator:</p>\n<pre><code>2021-07-22 02:14:47.311 442-442/? E/netmgr: qemu_pipe_open_ns:62: Could not connect to the 'pipe:qemud:network' service: Invalid argument\n2021-07-22 02:14:47.311 442-442/? E/netmgr: Failed to open QEMU pipe 'qemud:network': Invalid argument\n2021-07-22 02:14:49.051 444-444/? E/wifi_forwarder: qemu_pipe_open_ns:62: Could not connect to the 'pipe:qemud:wififorward' service: Invalid argument\n2021-07-22 02:14:49.051 444-444/? E/wifi_forwarder: RemoteConnection failed to initialize: RemoteConnection failed to open pipe\n</code></pre>\n<p>All the solutions on the internet revolve around including &quot;android:usesCleartextTraffic=&quot;true&quot;&quot; into the manifest file, but I have done that with no better outcome.</p>\n<p>My code:</p>\n<p>MainActivity.java:</p>\n<pre><code>package com.example.testapp;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport org.jetbrains.annotations.NotNull;\n\nimport java.io.IOException;\n\nimport okhttp3.Call;\nimport okhttp3.Callback;\nimport okhttp3.OkHttpClient;\nimport okhttp3.Request;\nimport okhttp3.Response;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        OkHttpClient client = new OkHttpClient();\n        Request request = new Request.Builder().url(&quot; http://192.168.1.246:5000/&quot;).build();\n\n        client.newCall(request).enqueue(new Callback() {\n            @Override\n            public void onFailure(@NotNull Call call, @NotNull IOException e) {\n                Toast.makeText(MainActivity.this, &quot;network not found&quot;, Toast.LENGTH_LONG).show();\n            }\n\n            @Override\n            public void onResponse(@NotNull Call call, @NotNull Response response) throws IOException {\n                TextView textView = findViewById(R.id.textView1);\n                textView.setText(response.body().string());\n            }\n        });\n    }\n}\n</code></pre>\n<p>AndroidManifest.xml:</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.testapp&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.TestApp&quot;\n        android:usesCleartextTraffic=&quot;true&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;\n            android:exported = &quot;false&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>Flask Server:</p>\n<pre><code>from flask import Flask, request\n\napp = Flask(__name__)\n\n@app.route('/')\ndef hello_world():\n    print(&quot;request&quot;)\n    return 'hello honey'\n\nif __name__ == &quot;__main__&quot;:\n    app.run()\n</code></pre>\n"},{"tags":["java","arrays","loops"],"comments":[{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1527514467,"post_id":50565199,"comment_id":88145260,"body_markdown":"You update `newResult[f]` but always use `newResult[0]` and `newResult[1]` in the next line. Could you try to summarize the need. See what is a [mcve] including examples.","body":"You update <code>newResult[f]</code> but always use <code>newResult[0]</code> and <code>newResult[1]</code> in the next line. Could you try to summarize the need. See what is a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> including examples."}],"answers":[{"comments":[{"owner":{"account_id":6881839,"reputation":82,"user_id":6640241,"display_name":"kp-a"},"score":0,"creation_date":1527511682,"post_id":50566422,"comment_id":88143639,"body_markdown":"this is completely not the case, but I think it makes sense: lets say a and b are soldiers and catapults, c is the number of days of a battle. The death toll on a and b is a function of the number of days the battle lasts. after myCalculations is called, it returns the remaining soldiers, reads the next integer (d) and computes the soldiers remaining after the second battle. I have no idea what I need, not even sure what is wrong.","body":"this is completely not the case, but I think it makes sense: lets say a and b are soldiers and catapults, c is the number of days of a battle. The death toll on a and b is a function of the number of days the battle lasts. after myCalculations is called, it returns the remaining soldiers, reads the next integer (d) and computes the soldiers remaining after the second battle. I have no idea what I need, not even sure what is wrong."},{"owner":{"account_id":6881839,"reputation":82,"user_id":6640241,"display_name":"kp-a"},"score":0,"creation_date":1527511762,"post_id":50566422,"comment_id":88143699,"body_markdown":"Is there a problem with replacing elements of this array like this at the end of the  f-for modifier? also, with array[100] i just chose a big number so it wouldn&#39;t max out.","body":"Is there a problem with replacing elements of this array like this at the end of the  f-for modifier? also, with array[100] i just chose a big number so it wouldn&#39;t max out."},{"owner":{"account_id":4918420,"reputation":449,"user_id":3961710,"display_name":"Marco Ottina"},"score":0,"creation_date":1527516643,"post_id":50566422,"comment_id":88146417,"body_markdown":"In this case i advise you to use single variables. If you need to keep track of the remaining soldiers on each iteration, then use 2 arrays (&quot;soldiers&quot; for &quot;a&quot; and &quot;catapults&quot; for &quot;b&quot;) and use the index of the cycle., that is k or a counter that counts how many days have been passed (how many line have been red). If no track is needed, then use 2 int instead.","body":"In this case i advise you to use single variables. If you need to keep track of the remaining soldiers on each iteration, then use 2 arrays (&quot;soldiers&quot; for &quot;a&quot; and &quot;catapults&quot; for &quot;b&quot;) and use the index of the cycle., that is k or a counter that counts how many days have been passed (how many line have been red). If no track is needed, then use 2 int instead."}],"tags":[],"owner":{"account_id":4918420,"reputation":449,"user_id":3961710,"display_name":"Marco Ottina"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527510352,"creation_date":1527510352,"answer_id":50566422,"question_id":50565199,"body_markdown":"I honestly haven&#39;t understood what the whole exercise should do, but the code You enlighted could be wrong due to the indexes You use: those indexes are always 0 and 1, even if cycles are performed through some other indexes. At the end of the second code snippet, the f-for modify the array &quot;newResults&quot; at the increasing index &quot;f&quot;, but that array is read always at the same index: 0 and then 1. So, if &quot;f&quot; gets higher values than &quot;1&quot; then the &quot;aliveSoldiers&quot;&#39;s elements are left unchanged.\r\n\r\nIn particular, aliveSoldiers is modified only on the first two indexes, the other indexes are not used at all.\r\n\r\nDo you need a stack-like or queue-like behaviour?","title":"java replacing elements of an array","body":"<p>I honestly haven't understood what the whole exercise should do, but the code You enlighted could be wrong due to the indexes You use: those indexes are always 0 and 1, even if cycles are performed through some other indexes. At the end of the second code snippet, the f-for modify the array \"newResults\" at the increasing index \"f\", but that array is read always at the same index: 0 and then 1. So, if \"f\" gets higher values than \"1\" then the \"aliveSoldiers\"'s elements are left unchanged.</p>\n\n<p>In particular, aliveSoldiers is modified only on the first two indexes, the other indexes are not used at all.</p>\n\n<p>Do you need a stack-like or queue-like behaviour?</p>\n"}],"owner":{"account_id":6881839,"reputation":82,"user_id":6640241,"display_name":"kp-a"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8362,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694433890,"creation_date":1527506349,"question_id":50565199,"body_markdown":"The main question will be at the bottom. From the text file below, lets say the first integer is a, second is b, and third is c and so forth. the program takes a,b and c, parses them, puts them into myCalculations method which returns a string with two integers. The string is parsed, a and b are replaced the integers in said returned string, then the next iteration of the loop will take the new values for a and b, and integer d. This will continue until the end where a and b are printed to the user.\r\n\r\nThe input from a two text files is as follows:\r\n\r\nThe format of the text file is as follows:\r\n\r\n    200 345 \r\n    36\r\n    45\r\n    36\r\n    21\r\n\r\nHere is the reading in from the file, it works as intended, I put it here for context. tl;dr is results[] is an integer array for the first line. (int a and b)\r\n\r\n    public class conflictTrial\r\n    {\r\n        BufferedReader in;\r\n        public static void conflictTrial() throws FileNotFoundException \r\n        {\r\n            System.out.print(&#39;\\u000c&#39;);\r\n            System.out.println(&quot;please enter the name of the text file you wish you import. Choose either costs.txt or lotsacosts.txt Nothing else&quot;);\r\n            Scanner keyboard = new Scanner(System.in);\r\n            String filename = keyboard.nextLine();\r\n            File file = new File(filename);\r\n            BufferedReader in = new BufferedReader(new FileReader(file));\r\n\r\n            String element1 = null;\r\n            try {\r\n                element1 = in.readLine();\r\n            }catch (Exception e) {\r\n                //  handle exception\r\n            }\r\n\r\n            String[] firstLine = element1.split(&quot; &quot;);\r\n\r\n            Arrays.stream(firstLine).forEach(fl -&gt; {\r\n                //System.out.println(&quot;First line element: \\t\\t\\t&quot; + fl);\r\n            });\r\n        \r\n            int[] results = new int[100];\r\n            for (int i = 0; i &lt; firstLine.length; i++) \r\n            {\r\n                try {\r\n                    int stuff = Integer.parseInt(firstLine[i]);\r\n                    results[i] = stuff;\r\n                }\r\n                catch (NumberFormatException nfe) {\r\n                    // handle error   \r\n                }\r\n            }     \r\n        \r\nThe bufferreader reads in the file, the for loop parses the integers into array results[]. Next, the remaining lines are parsed and method myCalculations is called:\r\n\r\n     String otherElement = null;\r\n     int[] aliveSoldiers = new int[100];\r\n     int [] things = new int [100];\r\n     int[] newResults = new int[100];\r\n     try {\r\n          while ((otherElement = in.readLine()) != null) {       // main loop\r\n              System.out.println(&quot;Line to process:\\t\\t\\t&quot; + otherElement);\r\n              String[] arr = otherElement.split(&quot; &quot;);\r\n                \r\n              for (int k = 0; k &lt;arr.length; k++) \r\n              {\r\n                  int thingsResult = Integer.parseInt(arr[k]);\r\n                  things[k] = thingsResult;\r\n                  System.out.println(&quot;number of days: \\t\\t\\t&quot;+things[k]);\r\n                        \r\n                  aliveSoldiers[0] = results[0];\r\n                  aliveSoldiers[1] = results[1];\r\n                  String returnAliveSoliders = myCalculations(aliveSoldiers[0], aliveSoldiers[1], things[k]);\r\n                  System.out.println(&quot;return soldiers alive: \\t\\t&quot;+returnAliveSoliders);\r\n                        \r\n                  String[] newItems = returnAliveSoliders.split(&quot; &quot;);\r\n                    \r\n                    \r\n                  for (int f = 0; f &lt; newItems.length; f++) \r\n                  {\r\n                      int newParse = Integer.parseInt(newItems[f]);\r\n                      newResults[f] = newParse;\r\n                      aliveSoldiers[0] = newResults[0];\r\n                      aliveSoldiers[1] = newResults[1];\r\n                  } \r\n                  k++;\r\n              }\r\n           } \r\n       }\r\n        catch (Exception e) {\r\n           e.printStackTrace();\r\n       }\r\n    }\r\n\r\nCurrently the code does the following: first of the main loop iteration takes integer a, b and c, second iteration takes the same integers a and b (200 and 345, the initial values) with integer d, the third iteration takes the same values for and a and b with integer e. I have attempted to address this issue with the following code:\r\n\r\n    aliveSoldiers[0] = newResults[0];\r\n    aliveSoldiers[1] = newResults[1];\r\n\r\nI need to take the integers from the method myCalculations (parsed in the k-modifier loop), and overwrite them into aliveSoldiers[0] and aliveSoldiers [1] so the program reads the next line, takes the new integers, and continues until there are no more days remaining. ","title":"java replacing elements of an array","body":"<p>The main question will be at the bottom. From the text file below, lets say the first integer is a, second is b, and third is c and so forth. the program takes a,b and c, parses them, puts them into myCalculations method which returns a string with two integers. The string is parsed, a and b are replaced the integers in said returned string, then the next iteration of the loop will take the new values for a and b, and integer d. This will continue until the end where a and b are printed to the user.</p>\n\n<p>The input from a two text files is as follows:</p>\n\n<p>The format of the text file is as follows:</p>\n\n<pre><code>200 345 \n36\n45\n36\n21\n</code></pre>\n\n<p>Here is the reading in from the file, it works as intended, I put it here for context. tl;dr is results[] is an integer array for the first line. (int a and b)</p>\n\n<pre><code>public class conflictTrial\n{\n    BufferedReader in;\n    public static void conflictTrial() throws FileNotFoundException \n    {\n        System.out.print('\\u000c');\n        System.out.println(\"please enter the name of the text file you wish you import. Choose either costs.txt or lotsacosts.txt Nothing else\");\n        Scanner keyboard = new Scanner(System.in);\n        String filename = keyboard.nextLine();\n        File file = new File(filename);\n        BufferedReader in = new BufferedReader(new FileReader(file));\n\n        String element1 = null;\n        try {\n            element1 = in.readLine();\n        }catch (Exception e) {\n            //  handle exception\n        }\n\n        String[] firstLine = element1.split(\" \");\n\n        Arrays.stream(firstLine).forEach(fl -&gt; {\n            //System.out.println(\"First line element: \\t\\t\\t\" + fl);\n        });\n\n        int[] results = new int[100];\n        for (int i = 0; i &lt; firstLine.length; i++) \n        {\n            try {\n                int stuff = Integer.parseInt(firstLine[i]);\n                results[i] = stuff;\n            }\n            catch (NumberFormatException nfe) {\n                // handle error   \n            }\n        }     \n</code></pre>\n\n<p>The bufferreader reads in the file, the for loop parses the integers into array results[]. Next, the remaining lines are parsed and method myCalculations is called:</p>\n\n<pre><code> String otherElement = null;\n int[] aliveSoldiers = new int[100];\n int [] things = new int [100];\n int[] newResults = new int[100];\n try {\n      while ((otherElement = in.readLine()) != null) {       // main loop\n          System.out.println(\"Line to process:\\t\\t\\t\" + otherElement);\n          String[] arr = otherElement.split(\" \");\n\n          for (int k = 0; k &lt;arr.length; k++) \n          {\n              int thingsResult = Integer.parseInt(arr[k]);\n              things[k] = thingsResult;\n              System.out.println(\"number of days: \\t\\t\\t\"+things[k]);\n\n              aliveSoldiers[0] = results[0];\n              aliveSoldiers[1] = results[1];\n              String returnAliveSoliders = myCalculations(aliveSoldiers[0], aliveSoldiers[1], things[k]);\n              System.out.println(\"return soldiers alive: \\t\\t\"+returnAliveSoliders);\n\n              String[] newItems = returnAliveSoliders.split(\" \");\n\n\n              for (int f = 0; f &lt; newItems.length; f++) \n              {\n                  int newParse = Integer.parseInt(newItems[f]);\n                  newResults[f] = newParse;\n                  aliveSoldiers[0] = newResults[0];\n                  aliveSoldiers[1] = newResults[1];\n              } \n              k++;\n          }\n       } \n   }\n    catch (Exception e) {\n       e.printStackTrace();\n   }\n}\n</code></pre>\n\n<p>Currently the code does the following: first of the main loop iteration takes integer a, b and c, second iteration takes the same integers a and b (200 and 345, the initial values) with integer d, the third iteration takes the same values for and a and b with integer e. I have attempted to address this issue with the following code:</p>\n\n<pre><code>aliveSoldiers[0] = newResults[0];\naliveSoldiers[1] = newResults[1];\n</code></pre>\n\n<p>I need to take the integers from the method myCalculations (parsed in the k-modifier loop), and overwrite them into aliveSoldiers[0] and aliveSoldiers [1] so the program reads the next line, takes the new integers, and continues until there are no more days remaining. </p>\n"},{"tags":["java","ssl","calendar","icloud"],"comments":[{"owner":{"account_id":8493198,"reputation":11341,"user_id":6368697,"display_name":"Patrick Mevzek"},"score":0,"creation_date":1563492218,"post_id":57103697,"comment_id":100728362,"body_markdown":"RFC5246 on TLS 1.2 defines error `decode_error` as &quot;A message could not be decoded because some field was out of the\n      specified range or the length of the message was incorrect.  This\n      message is always fatal and should never be observed in\n      communication between proper implementations (except when messages\n      were corrupted in the network).&quot; So beside a faulty network for sporadic problems, there is something wrong in one of the parameter sent... (TLS does not provide mechanisms for extended error results, so no detail which)","body":"RFC5246 on TLS 1.2 defines error <code>decode_error</code> as &quot;A message could not be decoded because some field was out of the       specified range or the length of the message was incorrect.  This       message is always fatal and should never be observed in       communication between proper implementations (except when messages       were corrupted in the network).&quot; So beside a faulty network for sporadic problems, there is something wrong in one of the parameter sent... (TLS does not provide mechanisms for extended error results, so no detail which)"},{"owner":{"account_id":8493198,"reputation":11341,"user_id":6368697,"display_name":"Patrick Mevzek"},"score":0,"creation_date":1563492281,"post_id":57103697,"comment_id":100728369,"body_markdown":"The `ClientHello` should provide the `SNI` extension. This is good in all cases but may or may not be related to your problem (an openssl s_client on the hostname without `-servername` seems to work so it might not be related to your problem). Alternatively, find an HTTPS client that works on the URL you are interested with (like a browser or a CLI tool) and compare the TLS exchanges in its case with your case.","body":"The <code>ClientHello</code> should provide the <code>SNI</code> extension. This is good in all cases but may or may not be related to your problem (an openssl s_client on the hostname without <code>-servername</code> seems to work so it might not be related to your problem). Alternatively, find an HTTPS client that works on the URL you are interested with (like a browser or a CLI tool) and compare the TLS exchanges in its case with your case."}],"answers":[{"tags":[],"owner":{"account_id":6023560,"reputation":196,"user_id":4729978,"display_name":"Toby"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563496515,"creation_date":1563496515,"answer_id":57104160,"question_id":57103697,"body_markdown":"I experienced this same exact issue yesterday with a Java application that tried to connect to https://apple.com:443.  I found that a different JDK on a different (Docker) OS fixed the issue.  In my specific case, OpenJDK on Alpine didn&#39;t work but other Dockerized OpenJDKs (like `adoptopenjdk/openjdk11`) worked fine.","title":"How to fix &#39;SSLHandshakeException: Received fatal alert: decode_error&#39;?","body":"<p>I experienced this same exact issue yesterday with a Java application that tried to connect to <a href=\"https://apple.com:443\" rel=\"nofollow noreferrer\">https://apple.com:443</a>.  I found that a different JDK on a different (Docker) OS fixed the issue.  In my specific case, OpenJDK on Alpine didn't work but other Dockerized OpenJDKs (like <code>adoptopenjdk/openjdk11</code>) worked fine.</p>\n"},{"comments":[{"owner":{"account_id":5114640,"reputation":121,"user_id":4100202,"accept_rate":100,"display_name":"Hari"},"score":0,"creation_date":1575962610,"post_id":57923883,"comment_id":104732493,"body_markdown":"I was trying to upload an encrypted attachment to Apple business chat API. I faced Received fatal alert: decode_error. I&#39;m using java 8. Setting the client protocol to TLSv1.2 worked like a charm.","body":"I was trying to upload an encrypted attachment to Apple business chat API. I faced Received fatal alert: decode_error. I&#39;m using java 8. Setting the client protocol to TLSv1.2 worked like a charm."}],"tags":[],"owner":{"account_id":2734023,"reputation":2572,"user_id":2357083,"display_name":"Abbin Varghese"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694432091,"creation_date":1568378621,"answer_id":57923883,"question_id":57103697,"body_markdown":" I faced `Received fatal alert: decode_error` while connecting with apple cloud urls. I was able to fix it by explicitly setting the protocol as `TLS 1.2`. \r\n\r\nFor eg: in `kotlin` update your `spring RestTemplate` as below ,\r\n\r\n    fun restTemplateWithTLS12(): RestTemplate {\r\n        val requestFactory = HttpComponentsClientHttpRequestFactory()\r\n        val sslContext = SSLContexts.custom().setProtocol(&quot;TLSv1.2&quot;).build()\r\n        val clientBuilder = \r\n        HttpClients.custom().setSSLSocketFactory(SSLConnectionSocketFactory(sslContext))\r\n        requestFactory.httpClient = clientBuilder.build()\r\n        return RestTemplate(requestFactory)\r\n    }","title":"How to fix &#39;SSLHandshakeException: Received fatal alert: decode_error&#39;?","body":"<p>I faced <code>Received fatal alert: decode_error</code> while connecting with apple cloud urls. I was able to fix it by explicitly setting the protocol as <code>TLS 1.2</code>.</p>\n<p>For eg: in <code>kotlin</code> update your <code>spring RestTemplate</code> as below ,</p>\n<pre><code>fun restTemplateWithTLS12(): RestTemplate {\n    val requestFactory = HttpComponentsClientHttpRequestFactory()\n    val sslContext = SSLContexts.custom().setProtocol(&quot;TLSv1.2&quot;).build()\n    val clientBuilder = \n    HttpClients.custom().setSSLSocketFactory(SSLConnectionSocketFactory(sslContext))\n    requestFactory.httpClient = clientBuilder.build()\n    return RestTemplate(requestFactory)\n}\n</code></pre>\n"}],"owner":{"account_id":2678423,"reputation":131,"user_id":2314254,"display_name":"user2314254"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4054,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1694432091,"creation_date":1563491555,"question_id":57103697,"body_markdown":"We have a java application that reads our customers public calendars - for example from google (https://calendar.google.com/calendar/ical/...) or icloud (webcal://p58-caldav.icloud.com/published/...). \r\n\r\nUntil recently this was working, but it is now failing for icloud calendars with the following error:\r\n\r\n```\r\njavax.net.ssl.SSLHandshakeException: Received fatal alert: decode_error\r\n```\r\n\r\nGoogle calendars still work.\r\n\r\nOur application reads icloud calendars by swapping webcal:// for https:// and doing an http get on the url.\r\n\r\nEg. https://p58-caldav.icloud.com/published/2/MTg3MDA3MjYwMTE4NzAwN1KPAcrTfGuhFJXbGYJ9wEYJFNzP10cp8mw6gSLjUVU_\r\n\r\nGiven that hitting this url in a browser successfully returns a valid icalendar (ics) result our first thought was that when running in a jvm this endpoint&#39;s root ca certificate were not in the keystore for the jvm.\r\n\r\nWe used the following command to get the certificates for this endpoint:\r\n\r\n```\r\nopenssl s_client -servername p58-caldav.icloud.com -host p58-caldav.icloud.com -port 443 -prexit -showcerts\r\n```\r\n\r\nAnd then added both of the certificates in the chain to our keystore:\r\n\r\n```\r\nkeytool -importcert -file apple-ist-ca-2-g1.crt -alias apple-ist-ca-2-g1 -trustcacerts -keystore &lt;java home&gt;/lib/security/cacerts -storepass &lt;pass&gt;\r\nkeytool -importcert -file caldav.icloud.com.crt -alias caldav.icloud.com -trustcacerts -keystore &lt;java home&gt;/lib/security/cacerts -storepass &lt;pass&gt;\r\n```\r\n\r\nWe also added code to our test case to verify that these certificates were being picked up by the jvm.\r\n\r\nThis did not work and we get the same error.\r\n\r\nWe are running openjdk version &quot;11.0.2&quot; so I do not believe that there are any issues with SNI or missing ciphers (though I could be wrong!)\r\n\r\nThe following very simple code example reproduces the error:\r\n\r\n```java\r\npublic class CalReader {\r\n\r\n    public static void main(String[] args) {\r\n        hitAPI(&quot;webcal://p58-caldav.icloud.com/published/2/MTg3MDA3MjYwMTE4NzAwN1KPAcrTfGuhFJXbGYJ9wEYJFNzP10cp8mw6gSLjUVU_&quot;);\r\n    }\r\n\r\n    private static void hitAPI(final String url) {\r\n        String cleaned = url.replace(&quot;webcal://&quot;, &quot;https://&quot;).trim();\r\n        InputStream in = null;\r\n        try {\r\n            URL toUse = new URL(cleaned);\r\n            URLConnection conn = toUse.openConnection();\r\n            in = conn.getInputStream();\r\n        }\r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        finally {\r\n            try {\r\n                if (in != null) {\r\n                    in.close();\r\n                }\r\n            }\r\n            catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAdding ssl debugging (-Djavax.net.debug=ssl:handshake:verbose) does not (to my eye) provide any pertinent information. However, I admit that I am not an ssl expert.\r\n\r\n```\r\njavax.net.ssl|DEBUG|01|main|2019-07-18 11:51:53.042 AEST|ClientHello.java:651|Produced ClientHello handshake message (\r\n&quot;ClientHello&quot;: {\r\n  &quot;client version&quot;      : &quot;TLSv1.2&quot;,\r\n  &quot;random&quot;              : &quot;BC DF 54 80 F2 0B 9A F9 42 17 4A FF B9 B5 65 22 C4 9E 19 63 0A 88 81 1F 84 2A 74 2D 40 40 F2 F0&quot;,\r\n  &quot;session id&quot;          : &quot;A9 21 0D FE 9B 8E 9F B8 53 17 60 09 D4 B2 C8 EE BE FD 7F AC 93 57 12 4B 47 BA FF A9 7A DF C4 EF&quot;,\r\n  &quot;cipher suites&quot;       : &quot;[TLS_AES_128_GCM_SHA256(0x1301), TLS_AES_256_GCM_SHA384(0x1302), TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384(0xC02C), TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256(0xC02B), TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030), TLS_RSA_WITH_AES_256_GCM_SHA384(0x009D), TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384(0xC02E), TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384(0xC032), TLS_DHE_RSA_WITH_AES_256_GCM_SHA384(0x009F), TLS_DHE_DSS_WITH_AES_256_GCM_SHA384(0x00A3), TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256(0xC02F), TLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256(0xC02D), TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256(0xC031), TLS_DHE_RSA_WITH_AES_128_GCM_SHA256(0x009E), TLS_DHE_DSS_WITH_AES_128_GCM_SHA256(0x00A2), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384(0xC024), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384(0xC028), TLS_RSA_WITH_AES_256_CBC_SHA256(0x003D), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384(0xC026), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384(0xC02A), TLS_DHE_RSA_WITH_AES_256_CBC_SHA256(0x006B), TLS_DHE_DSS_WITH_AES_256_CBC_SHA256(0x006A), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA(0xC00A), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA(0xC014), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA(0xC005), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA(0xC00F), TLS_DHE_RSA_WITH_AES_256_CBC_SHA(0x0039), TLS_DHE_DSS_WITH_AES_256_CBC_SHA(0x0038), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256(0xC023), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256(0xC027), TLS_RSA_WITH_AES_128_CBC_SHA256(0x003C), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256(0xC025), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256(0xC029), TLS_DHE_RSA_WITH_AES_128_CBC_SHA256(0x0067), TLS_DHE_DSS_WITH_AES_128_CBC_SHA256(0x0040), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA(0xC009), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA(0xC013), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA(0xC004), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA(0xC00E), TLS_DHE_RSA_WITH_AES_128_CBC_SHA(0x0033), TLS_DHE_DSS_WITH_AES_128_CBC_SHA(0x0032)]&quot;,\r\n  &quot;compression methods&quot; : &quot;00&quot;,\r\n  &quot;extensions&quot;          : [\r\n    \r\n  ]\r\n}\r\n)\r\njavax.net.ssl|DEBUG|01|main|2019-07-18 11:51:53.046 AEST|Alert.java:232|Received alert message (\r\n&quot;Alert&quot;: {\r\n  &quot;level&quot;      : &quot;fatal&quot;,\r\n  &quot;description&quot;: &quot;decode_error&quot;\r\n}\r\n)\r\n```\r\n\r\nWe have just tried this in a java 8 environment and it works as expected. As a quick test, we copied our java 8 environment cacerts to our java 11 environment, however, it still does not work. What else is there in the java 8 environment that would allow it to work?\r\n\r\nIt is difficult to determine, but it appears that this has happened in the last 2-4 weeks or so. We have evidence of a successful read of an icloud calendar on June 24th, and we are seeing the above error from July 4th.\r\n\r\nWe have tried multiple icloud calendars and get the same result for each, so it does not appear to be related to the calendar itself.\r\n\r\n**UPDATE**\r\n\r\nWe forced the use of TLS1.2 and it works. For the example above:\r\n```\r\njava -Dhttps.protocols=TLSv1.2 CalReader\r\n```\r\n\r\nThis begs the question, do Apple endpoints have an issue with TLS1.3? Or is it something else? \r\n\r\nWe did find an article which indicated an issue with TLS1.3 in java 11 (https://webtide.com/openjdk-11-and-tls-1-3-issues/), but we had already tried with a java 12 version with no success, so I don&#39;t think that was the issue.\r\n\r\nSo, we have to decide now whether to regress with a forced use of TLS1.2 or keep searching for another solution.","title":"How to fix &#39;SSLHandshakeException: Received fatal alert: decode_error&#39;?","body":"<p>We have a java application that reads our customers public calendars - for example from google (<a href=\"https://calendar.google.com/calendar/ical/..\" rel=\"nofollow noreferrer\">https://calendar.google.com/calendar/ical/..</a>.) or icloud (webcal://p58-caldav.icloud.com/published/...). </p>\n\n<p>Until recently this was working, but it is now failing for icloud calendars with the following error:</p>\n\n<pre><code>javax.net.ssl.SSLHandshakeException: Received fatal alert: decode_error\n</code></pre>\n\n<p>Google calendars still work.</p>\n\n<p>Our application reads icloud calendars by swapping webcal:// for https:// and doing an http get on the url.</p>\n\n<p>Eg. <a href=\"https://p58-caldav.icloud.com/published/2/MTg3MDA3MjYwMTE4NzAwN1KPAcrTfGuhFJXbGYJ9wEYJFNzP10cp8mw6gSLjUVU_\" rel=\"nofollow noreferrer\">https://p58-caldav.icloud.com/published/2/MTg3MDA3MjYwMTE4NzAwN1KPAcrTfGuhFJXbGYJ9wEYJFNzP10cp8mw6gSLjUVU_</a></p>\n\n<p>Given that hitting this url in a browser successfully returns a valid icalendar (ics) result our first thought was that when running in a jvm this endpoint's root ca certificate were not in the keystore for the jvm.</p>\n\n<p>We used the following command to get the certificates for this endpoint:</p>\n\n<pre><code>openssl s_client -servername p58-caldav.icloud.com -host p58-caldav.icloud.com -port 443 -prexit -showcerts\n</code></pre>\n\n<p>And then added both of the certificates in the chain to our keystore:</p>\n\n<pre><code>keytool -importcert -file apple-ist-ca-2-g1.crt -alias apple-ist-ca-2-g1 -trustcacerts -keystore &lt;java home&gt;/lib/security/cacerts -storepass &lt;pass&gt;\nkeytool -importcert -file caldav.icloud.com.crt -alias caldav.icloud.com -trustcacerts -keystore &lt;java home&gt;/lib/security/cacerts -storepass &lt;pass&gt;\n</code></pre>\n\n<p>We also added code to our test case to verify that these certificates were being picked up by the jvm.</p>\n\n<p>This did not work and we get the same error.</p>\n\n<p>We are running openjdk version \"11.0.2\" so I do not believe that there are any issues with SNI or missing ciphers (though I could be wrong!)</p>\n\n<p>The following very simple code example reproduces the error:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class CalReader {\n\n    public static void main(String[] args) {\n        hitAPI(\"webcal://p58-caldav.icloud.com/published/2/MTg3MDA3MjYwMTE4NzAwN1KPAcrTfGuhFJXbGYJ9wEYJFNzP10cp8mw6gSLjUVU_\");\n    }\n\n    private static void hitAPI(final String url) {\n        String cleaned = url.replace(\"webcal://\", \"https://\").trim();\n        InputStream in = null;\n        try {\n            URL toUse = new URL(cleaned);\n            URLConnection conn = toUse.openConnection();\n            in = conn.getInputStream();\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n        finally {\n            try {\n                if (in != null) {\n                    in.close();\n                }\n            }\n            catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Adding ssl debugging (-Djavax.net.debug=ssl:handshake:verbose) does not (to my eye) provide any pertinent information. However, I admit that I am not an ssl expert.</p>\n\n<pre><code>javax.net.ssl|DEBUG|01|main|2019-07-18 11:51:53.042 AEST|ClientHello.java:651|Produced ClientHello handshake message (\n\"ClientHello\": {\n  \"client version\"      : \"TLSv1.2\",\n  \"random\"              : \"BC DF 54 80 F2 0B 9A F9 42 17 4A FF B9 B5 65 22 C4 9E 19 63 0A 88 81 1F 84 2A 74 2D 40 40 F2 F0\",\n  \"session id\"          : \"A9 21 0D FE 9B 8E 9F B8 53 17 60 09 D4 B2 C8 EE BE FD 7F AC 93 57 12 4B 47 BA FF A9 7A DF C4 EF\",\n  \"cipher suites\"       : \"[TLS_AES_128_GCM_SHA256(0x1301), TLS_AES_256_GCM_SHA384(0x1302), TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384(0xC02C), TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256(0xC02B), TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030), TLS_RSA_WITH_AES_256_GCM_SHA384(0x009D), TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384(0xC02E), TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384(0xC032), TLS_DHE_RSA_WITH_AES_256_GCM_SHA384(0x009F), TLS_DHE_DSS_WITH_AES_256_GCM_SHA384(0x00A3), TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256(0xC02F), TLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256(0xC02D), TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256(0xC031), TLS_DHE_RSA_WITH_AES_128_GCM_SHA256(0x009E), TLS_DHE_DSS_WITH_AES_128_GCM_SHA256(0x00A2), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384(0xC024), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384(0xC028), TLS_RSA_WITH_AES_256_CBC_SHA256(0x003D), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384(0xC026), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384(0xC02A), TLS_DHE_RSA_WITH_AES_256_CBC_SHA256(0x006B), TLS_DHE_DSS_WITH_AES_256_CBC_SHA256(0x006A), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA(0xC00A), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA(0xC014), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA(0xC005), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA(0xC00F), TLS_DHE_RSA_WITH_AES_256_CBC_SHA(0x0039), TLS_DHE_DSS_WITH_AES_256_CBC_SHA(0x0038), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256(0xC023), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256(0xC027), TLS_RSA_WITH_AES_128_CBC_SHA256(0x003C), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256(0xC025), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256(0xC029), TLS_DHE_RSA_WITH_AES_128_CBC_SHA256(0x0067), TLS_DHE_DSS_WITH_AES_128_CBC_SHA256(0x0040), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA(0xC009), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA(0xC013), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA(0xC004), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA(0xC00E), TLS_DHE_RSA_WITH_AES_128_CBC_SHA(0x0033), TLS_DHE_DSS_WITH_AES_128_CBC_SHA(0x0032)]\",\n  \"compression methods\" : \"00\",\n  \"extensions\"          : [\n\n  ]\n}\n)\njavax.net.ssl|DEBUG|01|main|2019-07-18 11:51:53.046 AEST|Alert.java:232|Received alert message (\n\"Alert\": {\n  \"level\"      : \"fatal\",\n  \"description\": \"decode_error\"\n}\n)\n</code></pre>\n\n<p>We have just tried this in a java 8 environment and it works as expected. As a quick test, we copied our java 8 environment cacerts to our java 11 environment, however, it still does not work. What else is there in the java 8 environment that would allow it to work?</p>\n\n<p>It is difficult to determine, but it appears that this has happened in the last 2-4 weeks or so. We have evidence of a successful read of an icloud calendar on June 24th, and we are seeing the above error from July 4th.</p>\n\n<p>We have tried multiple icloud calendars and get the same result for each, so it does not appear to be related to the calendar itself.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>We forced the use of TLS1.2 and it works. For the example above:</p>\n\n<pre><code>java -Dhttps.protocols=TLSv1.2 CalReader\n</code></pre>\n\n<p>This begs the question, do Apple endpoints have an issue with TLS1.3? Or is it something else? </p>\n\n<p>We did find an article which indicated an issue with TLS1.3 in java 11 (<a href=\"https://webtide.com/openjdk-11-and-tls-1-3-issues/\" rel=\"nofollow noreferrer\">https://webtide.com/openjdk-11-and-tls-1-3-issues/</a>), but we had already tried with a java 12 version with no success, so I don't think that was the issue.</p>\n\n<p>So, we have to decide now whether to regress with a forced use of TLS1.2 or keep searching for another solution.</p>\n"},{"tags":["java","amazon-athena","testcontainers"],"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694431886,"creation_date":1691603005,"question_id":76870132,"body_markdown":"I have a spring boot application and i want to test AWS Athena, I know that its possible to use local-stack (paid for). \r\n\r\nhttps://docs.localstack.cloud/user-guide/aws/athena/\r\n\r\nBut i wanted to know is there an open source tool or is there a way i could test my service using test containers?\r\n\r\nI have tried to find an alternative method of doing this testing, but have been unable to figure out a way.","title":"Is there anyway to test Athena integration in test containers","body":"<p>I have a spring boot application and i want to test AWS Athena, I know that its possible to use local-stack (paid for).</p>\n<p><a href=\"https://docs.localstack.cloud/user-guide/aws/athena/\" rel=\"nofollow noreferrer\">https://docs.localstack.cloud/user-guide/aws/athena/</a></p>\n<p>But i wanted to know is there an open source tool or is there a way i could test my service using test containers?</p>\n<p>I have tried to find an alternative method of doing this testing, but have been unable to figure out a way.</p>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":4760221,"reputation":314,"user_id":3847779,"accept_rate":44,"display_name":"jcool"},"score":0,"creation_date":1431330213,"post_id":30162009,"comment_id":48430952,"body_markdown":"Ok then how to check a result set is forward only?","body":"Ok then how to check a result set is forward only?"}],"answers":[{"comments":[{"owner":{"account_id":4760221,"reputation":314,"user_id":3847779,"accept_rate":44,"display_name":"jcool"},"score":0,"creation_date":1431331167,"post_id":30162192,"comment_id":48431399,"body_markdown":"does it relate to my question? just asking because i did not understand","body":"does it relate to my question? just asking because i did not understand"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1431331319,"post_id":30162192,"comment_id":48431482,"body_markdown":"By default the whole resultset is stored in memory, so the MySQL driver allows you to traverse it anyway you want. If you want to see an exception, you should try getting the `ResultSet` with the provided code snippet. Many of the JDBC options are merely hints to the driver, so the actual behaviour may differ a lot from the javadoc.","body":"By default the whole resultset is stored in memory, so the MySQL driver allows you to traverse it anyway you want. If you want to see an exception, you should try getting the <code>ResultSet</code> with the provided code snippet. Many of the JDBC options are merely hints to the driver, so the actual behaviour may differ a lot from the javadoc."},{"owner":{"account_id":4760221,"reputation":314,"user_id":3847779,"accept_rate":44,"display_name":"jcool"},"score":0,"creation_date":1431331782,"post_id":30162192,"comment_id":48431717,"body_markdown":"Yeah I got it  !! Can you please explain what       stmt.setFetchSize(Integer.MIN_VALUE) does","body":"Yeah I got it  !! Can you please explain what       stmt.setFetchSize(Integer.MIN_VALUE) does"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1431332074,"post_id":30162192,"comment_id":48431880,"body_markdown":"Normally it means how many rows to fetch over the network when more data is needed. Let&#39;s say that you had 1000 results and `fetchSize` were 100, if you iterated through the resultset, it would perform 10 network operations to get more data. However in this case it&#39;s a magic number (being a negative value) to tell the driver to fetch a single row at a time over the network.","body":"Normally it means how many rows to fetch over the network when more data is needed. Let&#39;s say that you had 1000 results and <code>fetchSize</code> were 100, if you iterated through the resultset, it would perform 10 network operations to get more data. However in this case it&#39;s a magic number (being a negative value) to tell the driver to fetch a single row at a time over the network."},{"owner":{"account_id":4760221,"reputation":314,"user_id":3847779,"accept_rate":44,"display_name":"jcool"},"score":0,"creation_date":1431359692,"post_id":30162192,"comment_id":48450527,"body_markdown":"A huge thanks for u to clearing my doubt I was banging my head on it for.two days... :)","body":"A huge thanks for u to clearing my doubt I was banging my head on it for.two days... :)"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1431408422,"post_id":30162192,"comment_id":48470570,"body_markdown":"No problem. The JDBC API is very vague, the described functionality depends heavily on the database **and** driver used, and often times the promised functionality has no effect, since it&#39;s &quot;a hint to the driver&quot;, and the drivers often can&#39;t or won&#39;t implement the extra functionality.","body":"No problem. The JDBC API is very vague, the described functionality depends heavily on the database <b>and</b> driver used, and often times the promised functionality has no effect, since it&#39;s &quot;a hint to the driver&quot;, and the drivers often can&#39;t or won&#39;t implement the extra functionality."}],"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"comment_count":6,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1694431817,"creation_date":1431330483,"answer_id":30162192,"question_id":30162009,"body_markdown":"This is how MySQL handles it, other databases may behave differently.\r\n\r\n&gt; By default, ResultSets are completely retrieved and stored in memory.\r\n&gt; \r\n&gt; If you are working with ResultSets that have a large number of rows or\r\n&gt; large values and cannot allocate heap space in your JVM for the memory\r\n&gt; required, you can tell the driver to stream the results back one row\r\n&gt; at a time.\r\n&gt; \r\n&gt; To enable this functionality, create a Statement instance in the\r\n&gt; following manner:\r\n&gt;\r\n&gt;     stmt = conn.createStatement(java.sql.ResultSet.TYPE_FORWARD_ONLY,\r\n&gt;                  java.sql.ResultSet.CONCUR_READ_ONLY);\r\n&gt;     stmt.setFetchSize(Integer.MIN_VALUE);\r\n\r\n[Connector/J Reference Implementation Notes][1]\r\n\r\n\r\n  [1]: http://dev.mysql.com/doc/connector-j/en/connector-j-reference-implementation-notes.html\r\n","title":"Understanding Forward Only ResultSet","body":"<p>This is how MySQL handles it, other databases may behave differently.</p>\n<blockquote>\n<p>By default, ResultSets are completely retrieved and stored in memory.</p>\n<p>If you are working with ResultSets that have a large number of rows or\nlarge values and cannot allocate heap space in your JVM for the memory\nrequired, you can tell the driver to stream the results back one row\nat a time.</p>\n<p>To enable this functionality, create a Statement instance in the\nfollowing manner:</p>\n<pre><code>stmt = conn.createStatement(java.sql.ResultSet.TYPE_FORWARD_ONLY,\n             java.sql.ResultSet.CONCUR_READ_ONLY);\nstmt.setFetchSize(Integer.MIN_VALUE);\n</code></pre>\n</blockquote>\n<p><a href=\"http://dev.mysql.com/doc/connector-j/en/connector-j-reference-implementation-notes.html\" rel=\"nofollow noreferrer\">Connector/J Reference Implementation Notes</a></p>\n"}],"owner":{"account_id":4760221,"reputation":314,"user_id":3847779,"accept_rate":44,"display_name":"jcool"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11301,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":30162192,"answer_count":1,"score":2,"last_activity_date":1694431817,"creation_date":1431329772,"question_id":30162009,"body_markdown":"I have a table in mysql database where some rows are available. I want to retrieve the data from table in my jdbc program where the `ResultSet` is forward only. My code is: \r\n\r\n    import java.sql.*;\r\n    \r\n    public class Test1 {\r\n    \tstatic{\r\n    \t\ttry {\r\n    \t\t\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \tpublic static void main(String[] args) {\r\n    \t\tConnection con=null;\r\n    \t\tStatement st=null;\r\n    \t\tResultSet rs=null;\r\n    \t\tint id=0;\r\n    \t\tString name=null;\r\n    \t\ttry {\r\n    \t\t\tcon=DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/hiitstudents&quot;,&quot;root&quot;, &quot;rustyiron&quot;);\r\n    \t\t\tst=con.createStatement(ResultSet.TYPE_FORWARD_ONLY,ResultSet.TYPE_SCROLL_INSENSITIVE);\r\n    \t\t\tString query=&quot;select * from students&quot;;\r\n    \t\t\trs=st.executeQuery(query);\r\n    \t\t\twhile(rs.next()){\r\n    \t\t\t\tid=rs.getInt(1);\r\n    \t\t\t\tname=rs.getString(2);\r\n    \t\t\t\tSystem.out.println(id+&quot;\\t&quot;+name);\r\n    \t\t\t}    \t\t\t;\r\n    \t\t\twhile(rs.previous()){\r\n    \t\t\t\tid=rs.getInt(1);\r\n    \t\t\t\tname=rs.getString(2);\r\n    \t\t\t\tSystem.out.println(id+&quot;\\t&quot;+name);\r\n    \t\t\t}\r\n    \t\t\t} catch (SQLException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t}finally{\r\n    \t\t\ttry{\r\n    \t\t\t\tif(rs!=null)\r\n    \t\t\t\t\trs.close();\r\n    \r\n    \t\t\t\tif(st!=null)\r\n    \t\t\t\t\tst.close();\r\n    \r\n    \t\t\t\tif(con!=null)\r\n    \t\t\t\t\tcon.close();\r\n    \t\t\t}catch(SQLException se){\r\n    \t\t\t\tse.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nbut as the default result sets are forward only we cannot call `previous()` in it or it should not work, but doing so in my program retrieves the data in reverse order also. What is the problem in my code?","title":"Understanding Forward Only ResultSet","body":"<p>I have a table in mysql database where some rows are available. I want to retrieve the data from table in my jdbc program where the <code>ResultSet</code> is forward only. My code is: </p>\n\n<pre><code>import java.sql.*;\n\npublic class Test1 {\n    static{\n        try {\n            Class.forName(\"com.mysql.jdbc.Driver\");\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    public static void main(String[] args) {\n        Connection con=null;\n        Statement st=null;\n        ResultSet rs=null;\n        int id=0;\n        String name=null;\n        try {\n            con=DriverManager.getConnection(\"jdbc:mysql://localhost:3306/hiitstudents\",\"root\", \"rustyiron\");\n            st=con.createStatement(ResultSet.TYPE_FORWARD_ONLY,ResultSet.TYPE_SCROLL_INSENSITIVE);\n            String query=\"select * from students\";\n            rs=st.executeQuery(query);\n            while(rs.next()){\n                id=rs.getInt(1);\n                name=rs.getString(2);\n                System.out.println(id+\"\\t\"+name);\n            }               ;\n            while(rs.previous()){\n                id=rs.getInt(1);\n                name=rs.getString(2);\n                System.out.println(id+\"\\t\"+name);\n            }\n            } catch (SQLException e) {\n                e.printStackTrace();\n        }finally{\n            try{\n                if(rs!=null)\n                    rs.close();\n\n                if(st!=null)\n                    st.close();\n\n                if(con!=null)\n                    con.close();\n            }catch(SQLException se){\n                se.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>but as the default result sets are forward only we cannot call <code>previous()</code> in it or it should not work, but doing so in my program retrieves the data in reverse order also. What is the problem in my code?</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694438510,"post_id":77081213,"comment_id":135887008,"body_markdown":"Expose metrics for queries like execution time etc. publish those to something like Prometheus and use that to query .","body":"Expose metrics for queries like execution time etc. publish those to something like Prometheus and use that to query ."},{"owner":{"account_id":6118321,"reputation":782,"user_id":4772633,"accept_rate":74,"display_name":"rohanagarwal"},"score":0,"creation_date":1694444421,"post_id":77081213,"comment_id":135888357,"body_markdown":"I know that IN queries are the problem, but I want count on the number of params in the IN filter to figure out what&#39;s exactly happening","body":"I know that IN queries are the problem, but I want count on the number of params in the IN filter to figure out what&#39;s exactly happening"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694497712,"post_id":77081213,"comment_id":135894669,"body_markdown":"You nowhere stated that you had a problem but you only wanted logging. If that isn&#39;t your actual question then ask the actual question you have.","body":"You nowhere stated that you had a problem but you only wanted logging. If that isn&#39;t your actual question then ask the actual question you have."},{"owner":{"account_id":6118321,"reputation":782,"user_id":4772633,"accept_rate":74,"display_name":"rohanagarwal"},"score":0,"creation_date":1694504430,"post_id":77081213,"comment_id":135895695,"body_markdown":"I never said logging, I said a metric for the count of queries having IN clause. Please re-read the question.","body":"I never said logging, I said a metric for the count of queries having IN clause. Please re-read the question."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694504697,"post_id":77081213,"comment_id":135895748,"body_markdown":"I know what you asked which was a metric, which has been answered. If it is for troubleshooting you already have the solution (the statementinspector).","body":"I know what you asked which was a metric, which has been answered. If it is for troubleshooting you already have the solution (the statementinspector)."}],"owner":{"account_id":6118321,"reputation":782,"user_id":4772633,"accept_rate":74,"display_name":"rohanagarwal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694431551,"creation_date":1694431551,"question_id":77081213,"body_markdown":"How can I count queries having IN clause in Hibernate + Spring Boot Setup?\r\n\r\nI want to count all queries (emit a metric) having an IN clause along with the number of params in the IN clause.\r\n\r\nOne way I found is to use StatementInspector. But that will be costly as I will have to find *IN* in the sql query string, requiring pattern matching.","title":"How can I count queries having IN clause in Hibernate + Spring Boot Setup?","body":"<p>How can I count queries having IN clause in Hibernate + Spring Boot Setup?</p>\n<p>I want to count all queries (emit a metric) having an IN clause along with the number of params in the IN clause.</p>\n<p>One way I found is to use StatementInspector. But that will be costly as I will have to find <em>IN</em> in the sql query string, requiring pattern matching.</p>\n"},{"tags":["java","spring-mvc","spring-security","error-handling","spring-3"],"comments":[{"owner":{"account_id":1571361,"reputation":7139,"user_id":1458983,"accept_rate":59,"display_name":"woemler"},"score":0,"creation_date":1413313683,"post_id":24338734,"comment_id":41393996,"body_markdown":"Did you ever find a solution to your issue?","body":"Did you ever find a solution to your issue?"},{"owner":{"account_id":1331478,"reputation":1120,"user_id":1275303,"accept_rate":83,"display_name":"Windor C"},"score":0,"creation_date":1426926522,"post_id":24338734,"comment_id":46577887,"body_markdown":"I got the same issue...","body":"I got the same issue..."},{"owner":{"account_id":1230590,"reputation":83,"user_id":1195285,"display_name":"John Prystash"},"score":0,"creation_date":1428931188,"post_id":24338734,"comment_id":47358241,"body_markdown":"I think your methods in RestResponseEntityExceptionHandler will get used only if they override methods from ResponseEntityExceptionHandler.","body":"I think your methods in RestResponseEntityExceptionHandler will get used only if they override methods from ResponseEntityExceptionHandler."},{"owner":{"account_id":3217290,"reputation":193,"user_id":2715625,"accept_rate":25,"display_name":"Harshal"},"score":0,"creation_date":1442511994,"post_id":24338734,"comment_id":53122038,"body_markdown":"my controller advice class was in different package. After copying it in controllers package it worked","body":"my controller advice class was in different package. After copying it in controllers package it worked"},{"owner":{"account_id":2126926,"reputation":3482,"user_id":1888810,"accept_rate":55,"display_name":"Shailesh Saxena"},"score":0,"creation_date":1615155554,"post_id":24338734,"comment_id":117597724,"body_markdown":"May be because you didn&#39;t declare your RestResponseEntityExceptionHandler as @RestController","body":"May be because you didn&#39;t declare your RestResponseEntityExceptionHandler as @RestController"}],"answers":[{"comments":[{"owner":{"account_id":111356,"reputation":1379,"user_id":294214,"accept_rate":58,"display_name":"amertkara"},"score":0,"creation_date":1448041181,"post_id":31148618,"comment_id":55430700,"body_markdown":"Why would anyone downvote this answer without an explanation? `ResponseEntityExceptionHandler` does bring extra handlers but you don&#39;t necessarily need to extend it. The key is to have `@ControllerAdvice` and write your own `@ExceptionHandler` annotated methods.","body":"Why would anyone downvote this answer without an explanation? <code>ResponseEntityExceptionHandler</code> does bring extra handlers but you don&#39;t necessarily need to extend it. The key is to have <code>@ControllerAdvice</code> and write your own <code>@ExceptionHandler</code> annotated methods."},{"owner":{"account_id":323433,"reputation":762,"user_id":643437,"display_name":"dezzer10"},"score":4,"creation_date":1478509214,"post_id":31148618,"comment_id":68167342,"body_markdown":"I downvoted it because the question is how to get ResponseEntityExceptionHandler working, not do I need one in the first place. The &#39;if&#39; in this answer, shows it is wrong and shouldn&#39;t be here","body":"I downvoted it because the question is how to get ResponseEntityExceptionHandler working, not do I need one in the first place. The &#39;if&#39; in this answer, shows it is wrong and shouldn&#39;t be here"},{"owner":{"account_id":4379705,"reputation":1174,"user_id":3571652,"accept_rate":73,"display_name":"Bato-Bair Tsyrenov"},"score":0,"creation_date":1493175400,"post_id":31148618,"comment_id":74297291,"body_markdown":"What about Security exceptions?","body":"What about Security exceptions?"}],"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"comment_count":3,"down_vote_count":4,"up_vote_count":22,"is_accepted":false,"score":18,"last_activity_date":1525678084,"creation_date":1435698802,"answer_id":31148618,"question_id":24338734,"body_markdown":"First, check that your `@ControllerAdvice` annotated class is taken into account by your configuration: is it located in a package that&#39;s scanned by Spring? Did you declare it as a bean in any other way?\r\n\r\nAlso, you don&#39;t need to extend `ResponseEntityExceptionHandler` if you don&#39;t need all the exception mappings it provides.\r\n\r\nA simpler way to write your exception handling:\r\n\r\n    @ControllerAdvice\r\n    public class RestResponseEntityExceptionHandler {\r\n\r\n        @ExceptionHandler(ResourceNotFoundException.class)\r\n        protected ResponseEntity&lt;String&gt; handleResourceNotFound(ResourceNotFoundException ex){\r\n\r\n          return ResponseEntity\r\n                  .status(HttpStatus.NOT_FOUND)\r\n                  .body(&quot;Requested resource does not found&quot;);\r\n        }\r\n\r\n        @ExceptionHandler(InvalidInputException.class)\r\n        protected ResponseEntity&lt;String&gt; handleInvalidInput(InvalidInputException ex){\r\n\r\n          return ResponseEntity\r\n                  .badRequest()\r\n                  .body(&quot;Invalid Input&quot;);\r\n        }\r\n    }\r\n\r\nNote that the `ResponseEntity` builder API has been in introduced in Spring 4.1, but you can use the regular constructor on 4.0.x.","title":"ResponseEntityExceptionHandler is not getting called when exception occurs","body":"<p>First, check that your <code>@ControllerAdvice</code> annotated class is taken into account by your configuration: is it located in a package that's scanned by Spring? Did you declare it as a bean in any other way?</p>\n\n<p>Also, you don't need to extend <code>ResponseEntityExceptionHandler</code> if you don't need all the exception mappings it provides.</p>\n\n<p>A simpler way to write your exception handling:</p>\n\n<pre><code>@ControllerAdvice\npublic class RestResponseEntityExceptionHandler {\n\n    @ExceptionHandler(ResourceNotFoundException.class)\n    protected ResponseEntity&lt;String&gt; handleResourceNotFound(ResourceNotFoundException ex){\n\n      return ResponseEntity\n              .status(HttpStatus.NOT_FOUND)\n              .body(\"Requested resource does not found\");\n    }\n\n    @ExceptionHandler(InvalidInputException.class)\n    protected ResponseEntity&lt;String&gt; handleInvalidInput(InvalidInputException ex){\n\n      return ResponseEntity\n              .badRequest()\n              .body(\"Invalid Input\");\n    }\n}\n</code></pre>\n\n<p>Note that the <code>ResponseEntity</code> builder API has been in introduced in Spring 4.1, but you can use the regular constructor on 4.0.x.</p>\n"},{"tags":[],"owner":{"account_id":7426697,"reputation":2803,"user_id":5648942,"accept_rate":100,"display_name":"Javasick"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1460968992,"creation_date":1460968992,"answer_id":36689191,"question_id":24338734,"body_markdown":"I got the same issue in Spring WebMVC 4.2.5. The reason was `throwExceptionIfNoHandlerFound` parameter of `DispatcherServlet`. By default it&#39;s value is `false`, so all errors generates `HttpServletResponse.SC_NOT_FOUND` servlet response and no exceptions throwes.\r\n\r\nAfter I set it to true, my `@ExceptionHandlers` started to work","title":"ResponseEntityExceptionHandler is not getting called when exception occurs","body":"<p>I got the same issue in Spring WebMVC 4.2.5. The reason was <code>throwExceptionIfNoHandlerFound</code> parameter of <code>DispatcherServlet</code>. By default it's value is <code>false</code>, so all errors generates <code>HttpServletResponse.SC_NOT_FOUND</code> servlet response and no exceptions throwes.</p>\n\n<p>After I set it to true, my <code>@ExceptionHandlers</code> started to work</p>\n"},{"comments":[{"owner":{"account_id":2580719,"reputation":5582,"user_id":2237467,"accept_rate":60,"display_name":"Snackoverflow"},"score":0,"creation_date":1552945038,"post_id":48678482,"comment_id":97195176,"body_markdown":"A `@ControllerAdvice` annotated class which `extends ResponseEntityExceptionHandler` might cause problems if you want to handle all exceptions like `@ExceptionHandler(Throwable.class)`, but haven&#39;t overridden the methods that are already defined in the base class. It contains some default methods of handling exceptions in cases like `404` or other `4**` cases like a missing URI parameter. In this case they will be handled in the default way unless overridden AND it is not exactly clear from the logs that *your* class is the one being used, but by extending, it contains these default methods.","body":"A <code>@ControllerAdvice</code> annotated class which <code>extends ResponseEntityExceptionHandler</code> might cause problems if you want to handle all exceptions like <code>@ExceptionHandler(Throwable.class)</code>, but haven&#39;t overridden the methods that are already defined in the base class. It contains some default methods of handling exceptions in cases like <code>404</code> or other <code>4**</code> cases like a missing URI parameter. In this case they will be handled in the default way unless overridden AND it is not exactly clear from the logs that <i>your</i> class is the one being used, but by extending, it contains these default methods."}],"tags":[],"owner":{"account_id":7525670,"reputation":12204,"user_id":5715934,"accept_rate":95,"display_name":"Supun Wijerathne"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1554029042,"creation_date":1518069031,"answer_id":48678482,"question_id":24338734,"body_markdown":"There are some reported situations where both `ResponseEntityExceptionHandler` and `@ControllerAdvice` didn&#39;t work.\r\n\r\nBoth of them are supposed to compile the methods annotated with `@ExceptionHandler` under the class into a common place where all the controllers can refer from.\r\n\r\nIf it doesn&#39;t work for you. You can add you `@ExceptionHandler` methods into a common `AbstractController` class which is extended by all other controllers.","title":"ResponseEntityExceptionHandler is not getting called when exception occurs","body":"<p>There are some reported situations where both <code>ResponseEntityExceptionHandler</code> and <code>@ControllerAdvice</code> didn't work.</p>\n\n<p>Both of them are supposed to compile the methods annotated with <code>@ExceptionHandler</code> under the class into a common place where all the controllers can refer from.</p>\n\n<p>If it doesn't work for you. You can add you <code>@ExceptionHandler</code> methods into a common <code>AbstractController</code> class which is extended by all other controllers.</p>\n"},{"tags":[],"owner":{"account_id":10856851,"reputation":61,"user_id":7982950,"display_name":"Rimeridius"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586368404,"creation_date":1586368404,"answer_id":61106960,"question_id":24338734,"body_markdown":"You just need some configuration\r\n\r\nIn the application.properties or application.yml :\r\n\r\n    server.error.whitelabel.enabled=false\r\n    spring.mvc.throw-exception-if-no-handler-found=true\r\n    spring.resources.add-mappings=false\r\n\r\non springboot load your configuration file :\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    @ComponentScan(basePackages = &quot;xx.xxx.xxxx&quot;)\r\n    @PropertySource(&quot;classpath:application.yml&quot;)\r\n    public class WebAppConfig {\r\n    }","title":"ResponseEntityExceptionHandler is not getting called when exception occurs","body":"<p>You just need some configuration</p>\n\n<p>In the application.properties or application.yml :</p>\n\n<pre><code>server.error.whitelabel.enabled=false\nspring.mvc.throw-exception-if-no-handler-found=true\nspring.resources.add-mappings=false\n</code></pre>\n\n<p>on springboot load your configuration file :</p>\n\n<pre><code>@Configuration\n@EnableWebMvc\n@ComponentScan(basePackages = \"xx.xxx.xxxx\")\n@PropertySource(\"classpath:application.yml\")\npublic class WebAppConfig {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7001529,"reputation":186,"user_id":5367417,"display_name":"Maciej Dybek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594322804,"creation_date":1594322804,"answer_id":62822256,"question_id":24338734,"body_markdown":"The issue is that your @ExceptionHandler declares ResourceNotFoundException whereas as a parameter to the handleResourceNotFound you expect RuntimeException. The parameter exception and the value of ExceptionHandler should match.\r\n\r\nSo it should be:\r\n\r\n    @ExceptionHandler(value={ResourceNotFoundException.class})\r\n    protected ResponseEntity&lt;Object&gt; handleResourceNotFound(ResourceNotFoundException ex, WebRequest request){\r\n        \r\n    }\r\n\r\n\r\n","title":"ResponseEntityExceptionHandler is not getting called when exception occurs","body":"<p>The issue is that your @ExceptionHandler declares ResourceNotFoundException whereas as a parameter to the handleResourceNotFound you expect RuntimeException. The parameter exception and the value of ExceptionHandler should match.</p>\n<p>So it should be:</p>\n<pre><code>@ExceptionHandler(value={ResourceNotFoundException.class})\nprotected ResponseEntity&lt;Object&gt; handleResourceNotFound(ResourceNotFoundException ex, WebRequest request){\n    \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":83518,"reputation":6215,"user_id":234110,"accept_rate":67,"display_name":"Anand Rockzz"},"score":0,"creation_date":1629314336,"post_id":65844796,"comment_id":121657202,"body_markdown":"if `ResponseEntityExceptionHandler::handleException` is not hit, what could be the issue? I&#39;ve already checked the package names - everything seems to be fine.","body":"if <code>ResponseEntityExceptionHandler::handleException</code> is not hit, what could be the issue? I&#39;ve already checked the package names - everything seems to be fine."},{"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"score":0,"creation_date":1629403740,"post_id":65844796,"comment_id":121685140,"body_markdown":"There are some different approaches for Error Handling in Spring. Subclassing the `ResponseEntityExceptionHandler` is one of them. For a fast check, find and put a break point anywhere you use the `@ExceptionHandler` of `@ControllerAdvice` annotations. Further info [here](https://www.baeldung.com/exception-handling-for-rest-with-spring).","body":"There are some different approaches for Error Handling in Spring. Subclassing the <code>ResponseEntityExceptionHandler</code> is one of them. For a fast check, find and put a break point anywhere you use the <code>@ExceptionHandler</code> of <code>@ControllerAdvice</code> annotations. Further info <a href=\"https://www.baeldung.com/exception-handling-for-rest-with-spring\" rel=\"nofollow noreferrer\">here</a>."}],"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1611316898,"creation_date":1611316898,"answer_id":65844796,"question_id":24338734,"body_markdown":"Some workarounds,\r\n- Double check that you use the correct signature for your overriding method.\r\n- If you use any IDE, check if there is any @Override mark/sign/arrow that will ensure your override is valid.\r\n- Check if you already extend the `ResponseEntityExceptionHandler` from another class of your project OR from any other class of your dependencies.\r\n- Put a breakpoint to the `ResponseEntityExceptionHandler::handleException` method.\r\n- For the `NoHandlerFoundException` you should configure the DispatcherServlet to throw and exception if it doesn&#39;t find any handlers, [link here](https://stackoverflow.com/questions/30329543/spring-boot-taking-control-of-404-not-found).","title":"ResponseEntityExceptionHandler is not getting called when exception occurs","body":"<p>Some workarounds,</p>\n<ul>\n<li>Double check that you use the correct signature for your overriding method.</li>\n<li>If you use any IDE, check if there is any @Override mark/sign/arrow that will ensure your override is valid.</li>\n<li>Check if you already extend the <code>ResponseEntityExceptionHandler</code> from another class of your project OR from any other class of your dependencies.</li>\n<li>Put a breakpoint to the <code>ResponseEntityExceptionHandler::handleException</code> method.</li>\n<li>For the <code>NoHandlerFoundException</code> you should configure the DispatcherServlet to throw and exception if it doesn't find any handlers, <a href=\"https://stackoverflow.com/questions/30329543/spring-boot-taking-control-of-404-not-found\">link here</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14538770,"reputation":1,"user_id":10501196,"display_name":"Chinni Achari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654878053,"creation_date":1654750676,"answer_id":72554907,"question_id":24338734,"body_markdown":"Provide an `@ExceptionHandler` method for handling internal Spring MVC exceptions. This method returns a `ResponseEntity` for writing to the response with a message converter, in contrast to `DefaultHandlerExceptionResolver` which returns a `ModelAndView`.","title":"ResponseEntityExceptionHandler is not getting called when exception occurs","body":"<p>Provide an <code>@ExceptionHandler</code> method for handling internal Spring MVC exceptions. This method returns a <code>ResponseEntity</code> for writing to the response with a message converter, in contrast to <code>DefaultHandlerExceptionResolver</code> which returns a <code>ModelAndView</code>.</p>\n"},{"tags":[],"owner":{"account_id":13936451,"reputation":71,"user_id":10063334,"display_name":"NXT Dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661326337,"creation_date":1661326337,"answer_id":73469096,"question_id":24338734,"body_markdown":"To improve on @Javasick&#39;s answer which worked for me.\r\n\r\nHow to setThrowExceptionIfNoHandlerFound to true.\r\n\r\n    public class AppSetting extends AbstractAnnotationConfigDispatcherServletInitializer {\r\n    @NonNull\r\n    @Override\r\n    protected DispatcherServlet createDispatcherServlet(@NonNull WebApplicationContext servletAppContext) {\r\n        final DispatcherServlet servlet = (DispatcherServlet) super.createDispatcherServlet(servletAppContext);\r\n        servlet.setThrowExceptionIfNoHandlerFound(true);\r\n        return servlet;\r\n    }","title":"ResponseEntityExceptionHandler is not getting called when exception occurs","body":"<p>To improve on @Javasick's answer which worked for me.</p>\n<p>How to setThrowExceptionIfNoHandlerFound to true.</p>\n<pre><code>public class AppSetting extends AbstractAnnotationConfigDispatcherServletInitializer {\n@NonNull\n@Override\nprotected DispatcherServlet createDispatcherServlet(@NonNull WebApplicationContext servletAppContext) {\n    final DispatcherServlet servlet = (DispatcherServlet) super.createDispatcherServlet(servletAppContext);\n    servlet.setThrowExceptionIfNoHandlerFound(true);\n    return servlet;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14537432,"reputation":874,"user_id":10500330,"display_name":"Anurag Bhalekar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694430129,"creation_date":1694430129,"answer_id":77081069,"question_id":24338734,"body_markdown":"If you have copied the GlobalExceptionHandler from some tutorial, mind that the functions written in &quot;`ResponseEntityExceptionHandler`&quot; are different in different spring versions and different functions are called for the same error across different spring version.\r\n\r\nExample in version 2.2.0.RELEASE, spring calls method &quot;`handleMethodArgumentTypeMismatch`&quot; but in version 2.6.6 (if you send a string in request body for a long declared field), spring&#39;s class &quot;`ResponseEntityExceptionHandler`&quot; doesn&#39;t even have the &quot;`handleMethodArgumentTypeMismatch`&quot; method declared, instead it calls the &quot;`handleHttpMessageNotReadable`&quot; method.\r\n\r\nTo go about this, simply generate the `@Override` methods that come compiled with the class.","title":"ResponseEntityExceptionHandler is not getting called when exception occurs","body":"<p>If you have copied the GlobalExceptionHandler from some tutorial, mind that the functions written in &quot;<code>ResponseEntityExceptionHandler</code>&quot; are different in different spring versions and different functions are called for the same error across different spring version.</p>\n<p>Example in version 2.2.0.RELEASE, spring calls method &quot;<code>handleMethodArgumentTypeMismatch</code>&quot; but in version 2.6.6 (if you send a string in request body for a long declared field), spring's class &quot;<code>ResponseEntityExceptionHandler</code>&quot; doesn't even have the &quot;<code>handleMethodArgumentTypeMismatch</code>&quot; method declared, instead it calls the &quot;<code>handleHttpMessageNotReadable</code>&quot; method.</p>\n<p>To go about this, simply generate the <code>@Override</code> methods that come compiled with the class.</p>\n"}],"owner":{"account_id":3217290,"reputation":193,"user_id":2715625,"accept_rate":25,"display_name":"Harshal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32548,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":9,"score":13,"last_activity_date":1694430129,"creation_date":1403330126,"question_id":24338734,"body_markdown":"I am new to spring. I am developing a REST api with spring webmvc. For Error Handling I got this link [http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/mvc.html#mvc-ann-rest-spring-mvc-exceptions][1]\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/mvc.html#mvc-ann-rest-spring-mvc-exceptions\r\n\r\nI have tried to use ResponseEntityExceptionHandler in my project . but whenever my controller throws exception it never reaches to this ResponseEntityExceptionHandler.\r\n\r\nFollowing are my code snippet\r\n\r\nController\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/hello&quot;)\r\n    public class HelloController {\t\r\n    \tprivate static final Logger logger = Logger.getLogger(HelloController.class);\r\n    \t@RequestMapping(value=&quot;/{name}&quot;, method=RequestMethod.GET)\r\n    \tpublic @ResponseBody String greet(@PathVariable(value = &quot;name&quot;)String name ) throws InvalidInputException, ResourceNotFoundException{\r\n    \t\tlogger.info(&quot;start greet() &quot;+name );\r\n    \t\tSystem.out.println(&quot;start greet() &quot;+name);\r\n    \t\tString message = null;\r\n    \t\tif(&quot;&quot;.equalsIgnoreCase(name))\r\n    \t\t{\r\n    \t\t\tthrow new InvalidInputException(&quot;Invalid Input&quot;);\r\n    \t\t}\r\n    \t\tList&lt;String&gt; names = new ArrayList&lt;String&gt;();\r\n    \t\tnames.add(&quot;Harshal&quot;);\r\n    \t\tnames.add(&quot;Smitesh&quot;);\r\n    \t\tif(names.contains(name)){\r\n    \t\t\tmessage = &quot;Hello &quot;+ name;\r\n    \t\t}else{\r\n    \t\t\tthrow new ResourceNotFoundException(&quot;Requested Resource not found&quot;);\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;end greet&quot;);\r\n    \t\tlogger.info(&quot;end greet()&quot;);\r\n    \t\treturn message;\r\n    \t}\r\n    }\r\n\r\nExceptions \r\n\r\n    package com.practice.errorhandlerdemo.exception;\r\n    \r\n    public class InvalidInputException extends RuntimeException{\r\n    \tprivate static final long serialVersionUID = 5489516240608806490L;\r\n    \tpublic InvalidInputException() {\r\n    \t\tsuper(&quot;Invalid Input&quot;);\r\n    \t}\r\n    \tpublic InvalidInputException(String message) {\r\n    \t\tsuper(message);\r\n    \t}\r\n    }\r\n    \r\n    package com.practice.errorhandlerdemo.exception;\r\n    \r\n    public class ResourceNotFoundException extends RuntimeException {\r\n    \tprivate static final long serialVersionUID = -4041009155673754859L;\r\n    \tpublic ResourceNotFoundException() {\r\n    \t\tsuper(&quot;requested resource not found&quot;);\r\n    \t}\r\n    \tpublic ResourceNotFoundException(String message) {\r\n    \t\tsuper(message);\r\n    \t}\r\n    }\r\n\r\nexceptionhandler\r\n\r\n    @ControllerAdvice\r\n    public class RestResponseEntityExceptionHandler extends ResponseEntityExceptionHandler {\r\n    \tprivate static final Logger logger = Logger.getLogger(RestResponseEntityExceptionHandler.class);\r\n    \t@ExceptionHandler(value={ResourceNotFoundException.class})\r\n    \t@ResponseStatus(value=HttpStatus.NOT_FOUND)\r\n    \tprotected ResponseEntity&lt;Object&gt; handleResourceNotFound(RuntimeException ex, WebRequest request){\r\n    \t\tlogger.info(&quot;start handleResourceNotFound()&quot;);\r\n    \t\tString bodyOfResponse = &quot;Requested resource does not found&quot;;\r\n    \t\tHttpHeaders httpHeaders = new HttpHeaders();\r\n    \t\thttpHeaders.setContentType(MediaType.APPLICATION_JSON);\r\n    \t\treturn handleExceptionInternal(ex, bodyOfResponse, httpHeaders, HttpStatus.NOT_FOUND, request);\r\n    \t}\r\n    \t\r\n    \t@ExceptionHandler(value={InvalidInputException.class})\r\n    \t@ResponseStatus(value=HttpStatus.BAD_REQUEST)\r\n    \tprotected ResponseEntity&lt;Object&gt; handleInvalidInput(RuntimeException ex, WebRequest request){\r\n    \t\tlogger.info(&quot;start handleInvalidInput()&quot;);\r\n    \t\tString bodyOfResponse = &quot;Invalid Input&quot;;\r\n    \t\tHttpHeaders httpHeaders = new HttpHeaders();\r\n    \t\thttpHeaders.setContentType(MediaType.APPLICATION_JSON);\r\n    \t\treturn handleExceptionInternal(ex, bodyOfResponse, httpHeaders, HttpStatus.BAD_REQUEST, request);\r\n    \t}\r\n    }\r\n\r\ndispatcher servlet\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd http://www.springframework.org/schema/context  http://www.springframework.org/schema/context/spring-context-4.0.xsd&quot;&gt;\r\n    \r\n       &lt;context:component-scan base-package=&quot;com.practice.errorhandlerdemo.controller&quot;/&gt;\r\n       &lt;context:annotation-config/&gt;  \r\n    \r\n    &lt;/beans&gt;\r\n\r\n\r\nweb.xml\r\n\r\n    &lt;web-app&gt;\r\n    \t&lt;display-name&gt;ErrorHandlerDemo&lt;/display-name&gt;\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    \t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;/WEB-INF/my-servlet.xml&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t&lt;/servlet&gt;\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\n\r\n\r\n\r\n","title":"ResponseEntityExceptionHandler is not getting called when exception occurs","body":"<p>I am new to spring. I am developing a REST api with spring webmvc. For Error Handling I got this link <a href=\"http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/mvc.html#mvc-ann-rest-spring-mvc-exceptions\" rel=\"noreferrer\">http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/mvc.html#mvc-ann-rest-spring-mvc-exceptions</a></p>\n\n<p>I have tried to use ResponseEntityExceptionHandler in my project . but whenever my controller throws exception it never reaches to this ResponseEntityExceptionHandler.</p>\n\n<p>Following are my code snippet</p>\n\n<p>Controller</p>\n\n<pre><code>@Controller\n@RequestMapping(\"/hello\")\npublic class HelloController {  \n    private static final Logger logger = Logger.getLogger(HelloController.class);\n    @RequestMapping(value=\"/{name}\", method=RequestMethod.GET)\n    public @ResponseBody String greet(@PathVariable(value = \"name\")String name ) throws InvalidInputException, ResourceNotFoundException{\n        logger.info(\"start greet() \"+name );\n        System.out.println(\"start greet() \"+name);\n        String message = null;\n        if(\"\".equalsIgnoreCase(name))\n        {\n            throw new InvalidInputException(\"Invalid Input\");\n        }\n        List&lt;String&gt; names = new ArrayList&lt;String&gt;();\n        names.add(\"Harshal\");\n        names.add(\"Smitesh\");\n        if(names.contains(name)){\n            message = \"Hello \"+ name;\n        }else{\n            throw new ResourceNotFoundException(\"Requested Resource not found\");\n        }\n        System.out.println(\"end greet\");\n        logger.info(\"end greet()\");\n        return message;\n    }\n}\n</code></pre>\n\n<p>Exceptions </p>\n\n<pre><code>package com.practice.errorhandlerdemo.exception;\n\npublic class InvalidInputException extends RuntimeException{\n    private static final long serialVersionUID = 5489516240608806490L;\n    public InvalidInputException() {\n        super(\"Invalid Input\");\n    }\n    public InvalidInputException(String message) {\n        super(message);\n    }\n}\n\npackage com.practice.errorhandlerdemo.exception;\n\npublic class ResourceNotFoundException extends RuntimeException {\n    private static final long serialVersionUID = -4041009155673754859L;\n    public ResourceNotFoundException() {\n        super(\"requested resource not found\");\n    }\n    public ResourceNotFoundException(String message) {\n        super(message);\n    }\n}\n</code></pre>\n\n<p>exceptionhandler</p>\n\n<pre><code>@ControllerAdvice\npublic class RestResponseEntityExceptionHandler extends ResponseEntityExceptionHandler {\n    private static final Logger logger = Logger.getLogger(RestResponseEntityExceptionHandler.class);\n    @ExceptionHandler(value={ResourceNotFoundException.class})\n    @ResponseStatus(value=HttpStatus.NOT_FOUND)\n    protected ResponseEntity&lt;Object&gt; handleResourceNotFound(RuntimeException ex, WebRequest request){\n        logger.info(\"start handleResourceNotFound()\");\n        String bodyOfResponse = \"Requested resource does not found\";\n        HttpHeaders httpHeaders = new HttpHeaders();\n        httpHeaders.setContentType(MediaType.APPLICATION_JSON);\n        return handleExceptionInternal(ex, bodyOfResponse, httpHeaders, HttpStatus.NOT_FOUND, request);\n    }\n\n    @ExceptionHandler(value={InvalidInputException.class})\n    @ResponseStatus(value=HttpStatus.BAD_REQUEST)\n    protected ResponseEntity&lt;Object&gt; handleInvalidInput(RuntimeException ex, WebRequest request){\n        logger.info(\"start handleInvalidInput()\");\n        String bodyOfResponse = \"Invalid Input\";\n        HttpHeaders httpHeaders = new HttpHeaders();\n        httpHeaders.setContentType(MediaType.APPLICATION_JSON);\n        return handleExceptionInternal(ex, bodyOfResponse, httpHeaders, HttpStatus.BAD_REQUEST, request);\n    }\n}\n</code></pre>\n\n<p>dispatcher servlet</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxmlns:context=\"http://www.springframework.org/schema/context\"\nxmlns:p=\"http://www.springframework.org/schema/p\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd http://www.springframework.org/schema/context  http://www.springframework.org/schema/context/spring-context-4.0.xsd\"&gt;\n\n   &lt;context:component-scan base-package=\"com.practice.errorhandlerdemo.controller\"/&gt;\n   &lt;context:annotation-config/&gt;  \n\n&lt;/beans&gt;\n</code></pre>\n\n<p>web.xml</p>\n\n<pre><code>&lt;web-app&gt;\n    &lt;display-name&gt;ErrorHandlerDemo&lt;/display-name&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/my-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":989600,"reputation":30745,"user_id":1007273,"display_name":"hovanessyan"},"score":0,"creation_date":1521019582,"post_id":49273847,"comment_id":85550319,"body_markdown":"There&#39;s no way to tell from the information provided - you need to capture the request that&#39;s causing it and the actual header value in the time of the error.","body":"There&#39;s no way to tell from the information provided - you need to capture the request that&#39;s causing it and the actual header value in the time of the error."},{"owner":{"account_id":4394072,"reputation":1551,"user_id":3581692,"accept_rate":92,"display_name":"abdul"},"score":3,"creation_date":1521020171,"post_id":49273847,"comment_id":85550712,"body_markdown":"This error is could occur if you&#39;re trying to access unsecured page through https.","body":"This error is could occur if you&#39;re trying to access unsecured page through https."},{"owner":{"account_id":5157958,"reputation":497,"user_id":4130633,"accept_rate":50,"display_name":"Mikheil Janiashvili"},"score":0,"creation_date":1521020321,"post_id":49273847,"comment_id":85550823,"body_markdown":"@hovanessyan  yeah that&#39;s the reason posting it here, it appears only on production and i don&#39;t think its caused from someones call as it happens with same interval.","body":"@hovanessyan  yeah that&#39;s the reason posting it here, it appears only on production and i don&#39;t think its caused from someones call as it happens with same interval."},{"owner":{"account_id":989600,"reputation":30745,"user_id":1007273,"display_name":"hovanessyan"},"score":1,"creation_date":1521020572,"post_id":49273847,"comment_id":85550976,"body_markdown":"@MishoJaniashvili - posting logs from production without context will not lead to anything more then guessing what might cause the error \n - &quot;parsing errors will be logged at DEBUG level&quot; - I suggest turn DEBUG on in production for the next 24 hours","body":"@MishoJaniashvili - posting logs from production without context will not lead to anything more then guessing what might cause the error   - &quot;parsing errors will be logged at DEBUG level&quot; - I suggest turn DEBUG on in production for the next 24 hours"},{"owner":{"account_id":2409845,"reputation":866,"user_id":2105218,"display_name":"YellowStrawHatter"},"score":0,"creation_date":1694520765,"post_id":49273847,"comment_id":135899040,"body_markdown":"Does this answer your question? [When Spring Boot starts up, it throws the &quot;method names must be tokens&quot; exception](https://stackoverflow.com/questions/38891866/when-spring-boot-starts-up-it-throws-the-method-names-must-be-tokens-exceptio)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/38891866/when-spring-boot-starts-up-it-throws-the-method-names-must-be-tokens-exceptio\">When Spring Boot starts up, it throws the &quot;method names must be tokens&quot; exception</a>"}],"answers":[{"tags":[],"owner":{"account_id":10807091,"reputation":972,"user_id":7949076,"display_name":"coffman21"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1522221561,"creation_date":1522221561,"answer_id":49528365,"question_id":49273847,"body_markdown":"This may happen because of parsing HTTPS headers instead of HTTP. Try:\r\n\r\n 1. Adding:  \r\n```logging.level.org.springframework.web: trace```  \r\n```logging.level.org.apache: trace```  \r\nto your application.properties and see what does Spring says to you. \r\n 2. Check if there are any scheduled activity at that time which refers to other resource encrypted by SSL. See also: https://stackoverflow.com/questions/42218237","title":"SpringBoot - Error parsing HTTP request header","body":"<p>This may happen because of parsing HTTPS headers instead of HTTP. Try:</p>\n\n<ol>\n<li>Adding:<br>\n<code>logging.level.org.springframework.web: trace</code><br>\n<code>logging.level.org.apache: trace</code><br>\nto your application.properties and see what does Spring says to you. </li>\n<li>Check if there are any scheduled activity at that time which refers to other resource encrypted by SSL. See also: <a href=\"https://stackoverflow.com/questions/42218237\">java.lang.IllegalArgumentException: Invalid character found in method name. HTTP method names must be tokens</a></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":6212045,"reputation":233,"user_id":4838060,"accept_rate":50,"display_name":"Mark D"},"score":0,"creation_date":1588196732,"post_id":50088273,"comment_id":108811368,"body_markdown":"This isn&#39;t the solution to the error I came here trying to solve, but it is the solution to another error I was having.  We run all our apps of 8080 and 8443 for secure. Lately users have been complaining they can&#39;t connect.  Their browsers automatically forward to https on :8080, the non secure connector port.  Its because we&#39;ve been converting to spring boot I guess.","body":"This isn&#39;t the solution to the error I came here trying to solve, but it is the solution to another error I was having.  We run all our apps of 8080 and 8443 for secure. Lately users have been complaining they can&#39;t connect.  Their browsers automatically forward to https on :8080, the non secure connector port.  Its because we&#39;ve been converting to spring boot I guess."}],"tags":[],"owner":{"account_id":27990,"reputation":1852,"user_id":74334,"accept_rate":100,"display_name":"sigint"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1525080129,"creation_date":1525015708,"answer_id":50088273,"question_id":49273847,"body_markdown":"I had this error in a Spring Boot 2 (2.0.1.RELEASE) application that was configured to serve HTTPS on port 8443 and redirect port 8080 HTTP traffic to port 8443.\r\n\r\nOn Microsoft Edge, the application worked as expected, with `http://localhost:8080` redirecting to `https://localhost:8443`. On Chrome 66 however, this would only work once, and then Chrome would complain that &quot;localhost sent an invalid response&quot; (`ERR_SSL_PROTOCOL_ERROR`).\r\n\r\nThe server log said:\r\n```\r\nDEBUG 11440 --- [nio-8080-exec-1] o.a.coyote.http11.Http11InputBuffer: Received [ &lt;&lt;unprintable characters&gt;&gt; ]\r\n INFO 11440 --- [nio-8080-exec-1] o.apache.coyote.http11.Http11Processor: Error parsing HTTP request header\r\n```\r\n\r\nIt turns out that Chrome was adding `localhost` to its [HSTS list](https://www.thesslstore.com/blog/clear-hsts-settings-chrome-firefox/)\r\nbecause Spring Boot sent back a `Strict-Transport-Security: max-age=31536000 ; includeSubDomains` header back for\r\n[https://localhost:8443](https://localhost:8443). So essentially, this issue happened because the client (i.e., browser) was trying to speak HTTPS to an HTTP endpoint.\r\n\r\nAdding a `.headers().httpStrictTransportSecurity().disable();` in\r\n`&lt;? extends WebSecurityConfigurerAdapter&gt;.configure` fixed the issue, as noted in [this StackOverflow question](https://stackoverflow.com/questions/49201779/spring-boot-do-not-send-hsts-header).","title":"SpringBoot - Error parsing HTTP request header","body":"<p>I had this error in a Spring Boot 2 (2.0.1.RELEASE) application that was configured to serve HTTPS on port 8443 and redirect port 8080 HTTP traffic to port 8443.</p>\n\n<p>On Microsoft Edge, the application worked as expected, with <code>http://localhost:8080</code> redirecting to <code>https://localhost:8443</code>. On Chrome 66 however, this would only work once, and then Chrome would complain that \"localhost sent an invalid response\" (<code>ERR_SSL_PROTOCOL_ERROR</code>).</p>\n\n<p>The server log said:\n<code>\nDEBUG 11440 --- [nio-8080-exec-1] o.a.coyote.http11.Http11InputBuffer: Received [ &lt;&lt;unprintable characters&gt;&gt; ]\n INFO 11440 --- [nio-8080-exec-1] o.apache.coyote.http11.Http11Processor: Error parsing HTTP request header\n</code></p>\n\n<p>It turns out that Chrome was adding <code>localhost</code> to its <a href=\"https://www.thesslstore.com/blog/clear-hsts-settings-chrome-firefox/\" rel=\"nofollow noreferrer\">HSTS list</a>\nbecause Spring Boot sent back a <code>Strict-Transport-Security: max-age=31536000 ; includeSubDomains</code> header back for\n<a href=\"https://localhost:8443\" rel=\"nofollow noreferrer\">https://localhost:8443</a>. So essentially, this issue happened because the client (i.e., browser) was trying to speak HTTPS to an HTTP endpoint.</p>\n\n<p>Adding a <code>.headers().httpStrictTransportSecurity().disable();</code> in\n<code>&lt;? extends WebSecurityConfigurerAdapter&gt;.configure</code> fixed the issue, as noted in <a href=\"https://stackoverflow.com/questions/49201779/spring-boot-do-not-send-hsts-header\">this StackOverflow question</a>.</p>\n"},{"tags":[],"owner":{"account_id":1134029,"reputation":4995,"user_id":1119473,"accept_rate":60,"display_name":"Gondy"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1572882798,"creation_date":1572882798,"answer_id":58696875,"question_id":49273847,"body_markdown":"As I have answered in [this similar question][1], check if you are not accidentally requesting with HTTPS protocol instead of HTTP protocol. If you don&#39;t configure SSL on Tomcat and you send HTTPS request, it will result to this weird message..\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/58696829/1119473","title":"SpringBoot - Error parsing HTTP request header","body":"<p>As I have answered in <a href=\"https://stackoverflow.com/a/58696829/1119473\">this similar question</a>, check if you are not accidentally requesting with HTTPS protocol instead of HTTP protocol. If you don't configure SSL on Tomcat and you send HTTPS request, it will result to this weird message..</p>\n"}],"owner":{"account_id":5157958,"reputation":497,"user_id":4130633,"accept_rate":50,"display_name":"Mikheil Janiashvili"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93866,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":3,"score":19,"last_activity_date":1694429993,"creation_date":1521019439,"question_id":49273847,"body_markdown":"I am running `SpringBoot Application` just checked server logs and got several errors like this. I can&#39;t understand what can cause it as the error appears everyday after 12/24 hours.\r\n\r\nTomcat Version running on `8.5.11`\r\n\r\n    2018-03-04 17:03:26 [http-nio-8080-exec-85] INFO  o.a.coyote.http11.Http11Processor - Error parsing HTTP request header\r\n     Note: further occurrences of HTTP header parsing errors will be logged at DEBUG level.\r\n    java.lang.IllegalArgumentException: Invalid character found in method name. HTTP method names must be tokens\r\n    \tat org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:421)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:667)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)","title":"SpringBoot - Error parsing HTTP request header","body":"<p>I am running <code>SpringBoot Application</code> just checked server logs and got several errors like this. I can't understand what can cause it as the error appears everyday after 12/24 hours.</p>\n\n<p>Tomcat Version running on <code>8.5.11</code></p>\n\n<pre><code>2018-03-04 17:03:26 [http-nio-8080-exec-85] INFO  o.a.coyote.http11.Http11Processor - Error parsing HTTP request header\n Note: further occurrences of HTTP header parsing errors will be logged at DEBUG level.\njava.lang.IllegalArgumentException: Invalid character found in method name. HTTP method names must be tokens\n    at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:421)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:667)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n"},{"tags":["java","configuration","struts2","interceptor","interceptorstack"],"comments":[{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1455605681,"post_id":35425667,"comment_id":58550638,"body_markdown":"Use stack of interceptors in action configuration.","body":"Use stack of interceptors in action configuration."},{"owner":{"account_id":4206151,"reputation":1103,"user_id":5361990,"accept_rate":35,"display_name":"Mandy"},"score":0,"creation_date":1455605747,"post_id":35425667,"comment_id":58550663,"body_markdown":"If you explicitly apply any interceptor to action then other like default will not apply. you have to apply all interceptor by own for each action for those you have applied csrf interceptor.","body":"If you explicitly apply any interceptor to action then other like default will not apply. you have to apply all interceptor by own for each action for those you have applied csrf interceptor."},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1455703706,"post_id":35425667,"comment_id":58603777,"body_markdown":"Possible duplicate of [Interceptor not getting called in Struts](http://stackoverflow.com/questions/30043007/interceptor-not-getting-called-in-struts)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/30043007/interceptor-not-getting-called-in-struts\">Interceptor not getting called in Struts</a>"}],"answers":[{"tags":[],"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1455613578,"creation_date":1455613578,"answer_id":35428110,"question_id":35425667,"body_markdown":"&lt;!-- language-all: xml --&gt;\r\n\r\nYou seem to think that the default Interceptor Stack applies to all actions, and that the eventual interceptor you&#39;re specifying for to the single actions are added to the default stack. They&#39;re not.\r\n\r\nThe default stack is the stack used for all the actions that does not specify any stack (or single interceptor, like in your case).\r\n\r\nIf you want to add an interceptor, then specify also the stack it should add to, \r\n\r\n    &lt;action name=&quot;addUpdateClaimHeadMetronic&quot; \r\n           class=&quot;main.java.com.commdel.francis.struts2.actions.ClaimHeadAction&quot; \r\n          method=&quot;addUpdateClaimHead&quot;&gt;\r\n\r\n        &lt;interceptor-ref name=&quot;commonStack&quot;/&gt;\r\n        &lt;interceptor-ref name=&quot;csrf&quot;/&gt;\r\n    &lt;/action&gt;\r\n\r\nor define a new stack and use it:\r\n\r\n\r\n    &lt;interceptor-stack name=&quot;commonStack&quot;&gt;\r\n        &lt;interceptor-ref name=&quot;authentication&quot;/&gt;\r\n        &lt;interceptor-ref name=&quot;authorization&quot;/&gt;\r\n        &lt;interceptor-ref name=&quot;defaultStack&quot;/&gt;\r\n    &lt;/interceptor-stack&gt;\r\n\r\n    &lt;interceptor-stack name=&quot;csrfStack&quot;&gt;\r\n        &lt;interceptor-ref name=&quot;authentication&quot;/&gt;\r\n        &lt;interceptor-ref name=&quot;authorization&quot;/&gt;\r\n        &lt;interceptor-ref name=&quot;defaultStack&quot;/&gt;\r\n        &lt;interceptor-ref name=&quot;csrf&quot;/&gt;\r\n    &lt;/interceptor-stack&gt;\r\n\r\n    ....\r\n\r\n    &lt;default-interceptor-ref name=&quot;commonStack&quot;/&gt;\r\n\r\n    ....\r\n\r\n    &lt;action name=&quot;addUpdateClaimHeadMetronic&quot; \r\n           class=&quot;main.java.com.commdel.francis.struts2.actions.ClaimHeadAction&quot; \r\n          method=&quot;addUpdateClaimHead&quot;&gt;\r\n\r\n        &lt;interceptor-ref name=&quot;csrfStack&quot;/&gt;\r\n    &lt;/action&gt;\r\n\r\nNote that the first approach violates DRY if you have a lot of actions sharing the secondary interceptor stack configuration, and it can be used only if your Interceptor is good to be placed as first or as last. If you need it in the middle (eg. after `param`, but before `workflow`) you have to define a stack by exploding the defaultStack, copying it from [struts-default.xml][1].\r\n\r\n\r\n  [1]: https://struts.apache.org/docs/struts-defaultxml.html","title":"Adding a custom interceptor for some actions","body":"\n\n<p>You seem to think that the default Interceptor Stack applies to all actions, and that the eventual interceptor you're specifying for to the single actions are added to the default stack. They're not.</p>\n\n<p>The default stack is the stack used for all the actions that does not specify any stack (or single interceptor, like in your case).</p>\n\n<p>If you want to add an interceptor, then specify also the stack it should add to, </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;action name=\"addUpdateClaimHeadMetronic\" \n       class=\"main.java.com.commdel.francis.struts2.actions.ClaimHeadAction\" \n      method=\"addUpdateClaimHead\"&gt;\n\n    &lt;interceptor-ref name=\"commonStack\"/&gt;\n    &lt;interceptor-ref name=\"csrf\"/&gt;\n&lt;/action&gt;\n</code></pre>\n\n<p>or define a new stack and use it:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;interceptor-stack name=\"commonStack\"&gt;\n    &lt;interceptor-ref name=\"authentication\"/&gt;\n    &lt;interceptor-ref name=\"authorization\"/&gt;\n    &lt;interceptor-ref name=\"defaultStack\"/&gt;\n&lt;/interceptor-stack&gt;\n\n&lt;interceptor-stack name=\"csrfStack\"&gt;\n    &lt;interceptor-ref name=\"authentication\"/&gt;\n    &lt;interceptor-ref name=\"authorization\"/&gt;\n    &lt;interceptor-ref name=\"defaultStack\"/&gt;\n    &lt;interceptor-ref name=\"csrf\"/&gt;\n&lt;/interceptor-stack&gt;\n\n....\n\n&lt;default-interceptor-ref name=\"commonStack\"/&gt;\n\n....\n\n&lt;action name=\"addUpdateClaimHeadMetronic\" \n       class=\"main.java.com.commdel.francis.struts2.actions.ClaimHeadAction\" \n      method=\"addUpdateClaimHead\"&gt;\n\n    &lt;interceptor-ref name=\"csrfStack\"/&gt;\n&lt;/action&gt;\n</code></pre>\n\n<p>Note that the first approach violates DRY if you have a lot of actions sharing the secondary interceptor stack configuration, and it can be used only if your Interceptor is good to be placed as first or as last. If you need it in the middle (eg. after <code>param</code>, but before <code>workflow</code>) you have to define a stack by exploding the defaultStack, copying it from <a href=\"https://struts.apache.org/docs/struts-defaultxml.html\" rel=\"nofollow\">struts-default.xml</a>.</p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618114811,"creation_date":1455616566,"answer_id":35429192,"question_id":35425667,"body_markdown":"If you add a custom interceptor to the action configuration like\r\n\r\n&lt;!-- language-all: lang-xml --&gt;\r\n\r\n    &lt;action name=&quot;addUpdateClaimHeadMetronic&quot; class=&quot;main.java.com.commdel.francis.struts2.actions.ClaimHeadAction&quot; method=&quot;addUpdateClaimHead&quot;&gt;\r\n        &lt;interceptor-ref name=&quot;csrf&quot;/&gt;\r\n    &lt;/action&gt;\r\n\r\nthen only `csrf` interceptor will be configured to this action mapping. Other interceptor&#39;s included in the `commonStack` will be omitted even if you use \r\n\r\n    &lt;default-interceptor-ref name=&quot;commonStack&quot;/&gt;\r\n\r\nStruts allows to override the action configuration which will not use the `default-interceptor-ref`, it you add a custom interceptor to the action mapping. By overriding the action configuration you can use a custom set of interceptors. \r\n\r\nYou might be missing some important interceptors from the `defaultStack` that drive the Struts2 framework if you forget to include all references of interceptors in the custom action mapping.  \r\n\r\n**Note:** [interceptors][1] in Struts2 add additional functionality to the action before or after the action is executed. But missing some important interceptors might break the action execution.\r\n___\r\n\r\nIf you want to add a custom interceptor reference to the existed action, then you should add, along with your custom interceptor, a reference to the default stack in your action mapping before or after depends on your code.\r\n\r\n    &lt;action name=&quot;addUpdateClaimHeadMetronic&quot; class=&quot;main.java.com.commdel.francis.struts2.actions.ClaimHeadAction&quot; method=&quot;addUpdateClaimHead&quot;&gt;\r\n        &lt;interceptor-ref name=&quot;csrf&quot;/&gt;\r\n        &lt;interceptor-ref name=&quot;commonStack&quot;/&gt;\r\n    &lt;/action&gt; \r\n\r\n**Note:** [interceptors][1] are invoked by the order they are used in the xml configuration.\r\n\r\n  [1]: https://struts.apache.org/core-developers/interceptors.html","title":"Adding a custom interceptor for some actions","body":"<p>If you add a custom interceptor to the action configuration like</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;action name=&quot;addUpdateClaimHeadMetronic&quot; class=&quot;main.java.com.commdel.francis.struts2.actions.ClaimHeadAction&quot; method=&quot;addUpdateClaimHead&quot;&gt;\n    &lt;interceptor-ref name=&quot;csrf&quot;/&gt;\n&lt;/action&gt;\n</code></pre>\n<p>then only <code>csrf</code> interceptor will be configured to this action mapping. Other interceptor's included in the <code>commonStack</code> will be omitted even if you use</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;default-interceptor-ref name=&quot;commonStack&quot;/&gt;\n</code></pre>\n<p>Struts allows to override the action configuration which will not use the <code>default-interceptor-ref</code>, it you add a custom interceptor to the action mapping. By overriding the action configuration you can use a custom set of interceptors.</p>\n<p>You might be missing some important interceptors from the <code>defaultStack</code> that drive the Struts2 framework if you forget to include all references of interceptors in the custom action mapping.</p>\n<p><strong>Note:</strong> <a href=\"https://struts.apache.org/core-developers/interceptors.html\" rel=\"nofollow noreferrer\">interceptors</a> in Struts2 add additional functionality to the action before or after the action is executed. But missing some important interceptors might break the action execution.</p>\n<hr />\n<p>If you want to add a custom interceptor reference to the existed action, then you should add, along with your custom interceptor, a reference to the default stack in your action mapping before or after depends on your code.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;action name=&quot;addUpdateClaimHeadMetronic&quot; class=&quot;main.java.com.commdel.francis.struts2.actions.ClaimHeadAction&quot; method=&quot;addUpdateClaimHead&quot;&gt;\n    &lt;interceptor-ref name=&quot;csrf&quot;/&gt;\n    &lt;interceptor-ref name=&quot;commonStack&quot;/&gt;\n&lt;/action&gt; \n</code></pre>\n<p><strong>Note:</strong> <a href=\"https://struts.apache.org/core-developers/interceptors.html\" rel=\"nofollow noreferrer\">interceptors</a> are invoked by the order they are used in the xml configuration.</p>\n"}],"owner":{"account_id":6592552,"reputation":79,"user_id":5093294,"accept_rate":100,"display_name":"deepanshu dagar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1248,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":35428110,"answer_count":2,"score":0,"last_activity_date":1694429986,"creation_date":1455605471,"question_id":35425667,"body_markdown":"I have created an interceptor which I want to map to some particular methods in some action and I don&#39;t want to disturb the existing code:\r\n\r\n&lt;!-- language-all: xml --&gt;\r\n\r\n**`struts.xml`:**\r\n\r\n    &lt;package name=&quot;francis&quot; namespace=&quot;/francis&quot; extends=&quot;struts-default, json-default&quot;&gt;\r\n\t   \t&lt;interceptors&gt;             \r\n\t\t\t&lt;interceptor name=&quot;authentication&quot; class=&quot;main.java.com.commdel.commons.struts2.interceptors.AuthenticationInterceptor&quot;/&gt;\t\t\t \r\n\t\t\t&lt;interceptor name=&quot;authorization&quot; class=&quot;main.java.com.commdel.commons.struts2.interceptors.SecurityInterceptor&quot;/&gt;\r\n\r\n**The custom interceptor `csrf`:**\r\n\r\n\t\t\t&lt;interceptor name=&quot;csrf&quot; class=&quot;main.java.com.commdel.commons.struts2.interceptors.CsrfTokenInterceptor&quot;/&gt;\t\t\t \r\n\t\t\t\r\n\t\t\t&lt;interceptor-stack name=&quot;commonStack&quot;&gt;\r\n          \t\t&lt;interceptor-ref name=&quot;authentication&quot;/&gt;\r\n          \t\t&lt;interceptor-ref name=&quot;authorization&quot;/&gt;\r\n        \t\t&lt;interceptor-ref name=&quot;defaultStack&quot;/&gt;\r\n       \t\t&lt;/interceptor-stack&gt;\r\n\t\t &lt;/interceptors&gt; \r\n\t\t &lt;default-interceptor-ref name=&quot;commonStack&quot;/&gt;\r\n\t    &lt;global-results&gt;\r\n              &lt;result name=&quot;error&quot; type=&quot;velocity&quot;&gt;/results/velocity/common/globalerror.vm&lt;/result&gt;  \r\n              &lt;result name=&quot;AUTHORIZATIONERROR&quot; type=&quot;velocity&quot;&gt;/results/velocity/common/sessionError.vm&lt;/result&gt;  \t\t                 \r\n          &lt;/global-results&gt;\r\n\r\n**Mapping `csrf` to some action:**\r\n\r\n        &lt;action name=&quot;addUpdateClaimHeadMetronic&quot; class=&quot;main.java.com.commdel.francis.struts2.actions.ClaimHeadAction&quot; method=&quot;addUpdateClaimHead&quot;&gt;\r\n\t\t\t&lt;interceptor-ref name=&quot;csrf&quot;/&gt;\r\n\t\t&lt;/action&gt;\r\n    &lt;/package&gt; \r\n","title":"Adding a custom interceptor for some actions","body":"<p>I have created an interceptor which I want to map to some particular methods in some action and I don't want to disturb the existing code:</p>\n\n<p><strong><code>struts.xml</code>:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;package name=&quot;francis&quot; namespace=&quot;/francis&quot; extends=&quot;struts-default, json-default&quot;&gt;\n    &lt;interceptors&gt;             \n        &lt;interceptor name=&quot;authentication&quot; class=&quot;main.java.com.commdel.commons.struts2.interceptors.AuthenticationInterceptor&quot;/&gt;            \n        &lt;interceptor name=&quot;authorization&quot; class=&quot;main.java.com.commdel.commons.struts2.interceptors.SecurityInterceptor&quot;/&gt;\n</code></pre>\n<p><strong>The custom interceptor <code>csrf</code>:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;interceptor name=&quot;csrf&quot; class=&quot;main.java.com.commdel.commons.struts2.interceptors.CsrfTokenInterceptor&quot;/&gt;           \n        \n        &lt;interceptor-stack name=&quot;commonStack&quot;&gt;\n            &lt;interceptor-ref name=&quot;authentication&quot;/&gt;\n            &lt;interceptor-ref name=&quot;authorization&quot;/&gt;\n            &lt;interceptor-ref name=&quot;defaultStack&quot;/&gt;\n        &lt;/interceptor-stack&gt;\n     &lt;/interceptors&gt; \n     &lt;default-interceptor-ref name=&quot;commonStack&quot;/&gt;\n    &lt;global-results&gt;\n          &lt;result name=&quot;error&quot; type=&quot;velocity&quot;&gt;/results/velocity/common/globalerror.vm&lt;/result&gt;  \n          &lt;result name=&quot;AUTHORIZATIONERROR&quot; type=&quot;velocity&quot;&gt;/results/velocity/common/sessionError.vm&lt;/result&gt;                        \n      &lt;/global-results&gt;\n</code></pre>\n<p><strong>Mapping <code>csrf</code> to some action:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;action name=&quot;addUpdateClaimHeadMetronic&quot; class=&quot;main.java.com.commdel.francis.struts2.actions.ClaimHeadAction&quot; method=&quot;addUpdateClaimHead&quot;&gt;\n        &lt;interceptor-ref name=&quot;csrf&quot;/&gt;\n    &lt;/action&gt;\n&lt;/package&gt; \n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":0,"creation_date":1470906667,"post_id":38891866,"comment_id":65143603,"body_markdown":"Without the code and config it will be extremely hard to say","body":"Without the code and config it will be extremely hard to say"},{"owner":{"account_id":6087813,"reputation":15135,"user_id":4751165,"accept_rate":96,"display_name":"Pau"},"score":0,"creation_date":1470906712,"post_id":38891866,"comment_id":65143645,"body_markdown":"please add your code ;)","body":"please add your code ;)"},{"owner":{"account_id":6087813,"reputation":15135,"user_id":4751165,"accept_rate":96,"display_name":"Pau"},"score":0,"creation_date":1470907095,"post_id":38891866,"comment_id":65143917,"body_markdown":"The error seems to be you&#39;re http method has no valid characters","body":"The error seems to be you&#39;re http method has no valid characters"},{"owner":{"account_id":1813160,"reputation":989,"user_id":1648825,"accept_rate":10,"display_name":"user1648825"},"score":31,"creation_date":1472483972,"post_id":38891866,"comment_id":65758198,"body_markdown":"I got the same exception when I locally tested. The problem was a url schema in my request. I used &quot;https&quot;, but should &quot;http&quot;. Probably it helps.","body":"I got the same exception when I locally tested. The problem was a url schema in my request. I used &quot;https&quot;, but should &quot;http&quot;. Probably it helps."},{"owner":{"account_id":2078662,"reputation":2458,"user_id":1851286,"display_name":"Oleksii Kyslytsyn"},"score":0,"creation_date":1530477831,"post_id":38891866,"comment_id":89238655,"body_markdown":"Change of the protocol mentioned in  https://stackoverflow.com/a/49421859/1851289 had helped.","body":"Change of the protocol mentioned in  <a href=\"https://stackoverflow.com/a/49421859/1851289\">stackoverflow.com/a/49421859/1851289</a> had helped."}],"answers":[{"tags":[],"owner":{"account_id":5945093,"reputation":41,"user_id":4674850,"display_name":"Night White"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1473324313,"creation_date":1473321118,"answer_id":39385404,"question_id":38891866,"body_markdown":"The same problem.\r\n\r\n    cmd -&gt; netstat -ano then find the port your have used(e.g 8888)\r\n\r\nI find a process try send package not Http request to my 8888 port, so the tomcat throw the `method names must be tokens` Exception.\r\n\r\nyou can:\r\n\r\n- change server port;\r\n\r\n- find the process and kill it;","title":"When Spring Boot starts up, it throws the &quot;method names must be tokens&quot; exception","body":"<p>The same problem.</p>\n\n<pre><code>cmd -&gt; netstat -ano then find the port your have used(e.g 8888)\n</code></pre>\n\n<p>I find a process try send package not Http request to my 8888 port, so the tomcat throw the <code>method names must be tokens</code> Exception.</p>\n\n<p>you can:</p>\n\n<ul>\n<li><p>change server port;</p></li>\n<li><p>find the process and kill it;</p></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":2357514,"reputation":1444,"user_id":3890673,"accept_rate":55,"display_name":"crusy"},"score":3,"creation_date":1494572651,"post_id":41728777,"comment_id":74895205,"body_markdown":"Any idea how to (redirect https to http || disable https || catch the error to at least show a meaningful error message)?","body":"Any idea how to (redirect https to http || disable https || catch the error to at least show a meaningful error message)?"},{"owner":{"account_id":1412747,"reputation":655,"user_id":1339035,"display_name":"RickB"},"score":0,"creation_date":1662027981,"post_id":41728777,"comment_id":129913593,"body_markdown":"I&#39;ve just stumbled across this issue. It is indeed an issue in tomcat that reflects on an unsupported SSL request, trying to be processed as-is, and of course failing (everything is read as garbled text, unparseable). I only think Tomcat should be able to detect and handle a little more gracefully? I&#39;ll open an issue later :D","body":"I&#39;ve just stumbled across this issue. It is indeed an issue in tomcat that reflects on an unsupported SSL request, trying to be processed as-is, and of course failing (everything is read as garbled text, unparseable). I only think Tomcat should be able to detect and handle a little more gracefully? I&#39;ll open an issue later :D"}],"tags":[],"owner":{"account_id":4793551,"reputation":1720,"user_id":3872068,"accept_rate":75,"display_name":"Panchito91"},"comment_count":2,"down_vote_count":1,"up_vote_count":134,"is_accepted":false,"score":133,"last_activity_date":1484770944,"creation_date":1484770944,"answer_id":41728777,"question_id":38891866,"body_markdown":"This exception can occur when you try to execute https request from client on endpoint which isn&#39;t https enabled. Client will encrypt request data when server is expecting raw data.\r\n\r\nChange https:// to http:// in your client url.","title":"When Spring Boot starts up, it throws the &quot;method names must be tokens&quot; exception","body":"<p>This exception can occur when you try to execute https request from client on endpoint which isn't https enabled. Client will encrypt request data when server is expecting raw data.</p>\n\n<p>Change https:// to http:// in your client url.</p>\n"},{"comments":[{"owner":{"account_id":3985474,"reputation":237,"user_id":3286178,"display_name":"rwenz3l"},"score":20,"creation_date":1522141948,"post_id":48805552,"comment_id":86021660,"body_markdown":"When downvoting an answer it would be helpful to explain why you did so. It would help me and others to understand the problem.","body":"When downvoting an answer it would be helpful to explain why you did so. It would help me and others to understand the problem."}],"tags":[],"owner":{"account_id":3985474,"reputation":237,"user_id":3286178,"display_name":"rwenz3l"},"comment_count":1,"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1518692234,"creation_date":1518692234,"answer_id":48805552,"question_id":38891866,"body_markdown":"Another Case: SpringBoot and Tomcat use port 8080 or 8888 by default. I had a Jupyter Notebook running at the same time which has a token in it&#39;s url path and some random characters. Anyway: The Notebook was still trying to make requests when the jupyter notebook server was down.\r\n\r\nIf you encounter this error: Check if you have another Application running that is either spawning a webserver or talking to a webserver on such ports.","title":"When Spring Boot starts up, it throws the &quot;method names must be tokens&quot; exception","body":"<p>Another Case: SpringBoot and Tomcat use port 8080 or 8888 by default. I had a Jupyter Notebook running at the same time which has a token in it's url path and some random characters. Anyway: The Notebook was still trying to make requests when the jupyter notebook server was down.</p>\n\n<p>If you encounter this error: Check if you have another Application running that is either spawning a webserver or talking to a webserver on such ports.</p>\n"},{"tags":[],"owner":{"account_id":21077631,"reputation":41,"user_id":15492656,"display_name":"Dmitry V."},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1644430431,"creation_date":1644430431,"answer_id":71054692,"question_id":38891866,"body_markdown":"In my case it was when Tomcat created HTTPS request without SSL certificate installed on it. To fix it I changed schema in request to HTTP. Or you should create SSL certificate to use HTTPS. ","title":"When Spring Boot starts up, it throws the &quot;method names must be tokens&quot; exception","body":"<p>In my case it was when Tomcat created HTTPS request without SSL certificate installed on it. To fix it I changed schema in request to HTTP. Or you should create SSL certificate to use HTTPS.</p>\n"},{"tags":[],"owner":{"account_id":6411597,"reputation":36,"user_id":5079211,"display_name":"Nikita Agarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679436488,"creation_date":1679436488,"answer_id":75806762,"question_id":38891866,"body_markdown":"you must have added https intead of http i also was getting same error with given below code\r\n\r\n    @RestController\r\n    public class MyController {\r\n        @GetMapping(&quot;/myobject&quot;)\r\n        public MyObject getMyObject() {\r\n            return new MyObject(&quot;John Doe&quot;, true, 42);\r\n        }\r\n    }\r\n\r\nThis is what i got with https\r\n[![enter image description here][1]][1]\r\n\r\nAlso Error in IDE with stack trace\r\n\r\n    2023-03-22T03:32:56.767+05:30  INFO 21684 --- [nio-8080-exec-2] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header\r\n     Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.\r\n    \r\n    java.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x000xf70x010x000x000xf30x030x030x950xa2*tU0x050x1a0xe20xf5]0x1c0x8f0x070x160x0b9q10xa9d0x800xc50xdau0xfd0x8d*0xe00xec0xe80xd3C ]. HTTP method names must be tokens\r\n    \tat org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:419) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:272) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\r\n\r\nand This is what i got with http only \r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BE4RZ.png\r\n  [2]: https://i.stack.imgur.com/oIsE9.png\r\n","title":"When Spring Boot starts up, it throws the &quot;method names must be tokens&quot; exception","body":"<p>you must have added https intead of http i also was getting same error with given below code</p>\n<pre><code>@RestController\npublic class MyController {\n    @GetMapping(&quot;/myobject&quot;)\n    public MyObject getMyObject() {\n        return new MyObject(&quot;John Doe&quot;, true, 42);\n    }\n}\n</code></pre>\n<p>This is what i got with https\n<a href=\"https://i.stack.imgur.com/BE4RZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BE4RZ.png\" alt=\"enter image description here\" /></a></p>\n<p>Also Error in IDE with stack trace</p>\n<pre><code>2023-03-22T03:32:56.767+05:30  INFO 21684 --- [nio-8080-exec-2] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header\n Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.\n\njava.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x000xf70x010x000x000xf30x030x030x950xa2*tU0x050x1a0xe20xf5]0x1c0x8f0x070x160x0b9q10xa9d0x800xc50xdau0xfd0x8d*0xe00xec0xe80xd3C ]. HTTP method names must be tokens\n    at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:419) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:272) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\n</code></pre>\n<p>and This is what i got with http only\n<a href=\"https://i.stack.imgur.com/oIsE9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oIsE9.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2409845,"reputation":866,"user_id":2105218,"display_name":"YellowStrawHatter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694429791,"creation_date":1694429791,"answer_id":77081034,"question_id":38891866,"body_markdown":"I have encountered the same error using Spring Boot. The provided answers focused only on the error explanation and provided a way to use HTTP instead of HTTPS.\r\n\r\nBut in my case, we are already using TLS certicates. So the solution was to enable SSL by configuring the embedded Tomcat server through either the `application.yml` or `application.properties` file.\r\n\r\nWe only need to define these peroperties:\r\n\r\n    server:\r\n      ssl:\r\n        key-store: classpath:/path/to/keystore.p12\r\n        key-store-password: password-to-access-keystore\r\n        key-store-type: pkcs12\r\n        key-alias: my-spring-boot-app\r\n        key-password: password-for-the-private-key-if-you-have-any\r\n        enabled: true\r\n      port: 8443\r\n\r\nThe following documentation list all needed properties and their default values: [Spring Common Application Properties ][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.server\r\n","title":"When Spring Boot starts up, it throws the &quot;method names must be tokens&quot; exception","body":"<p>I have encountered the same error using Spring Boot. The provided answers focused only on the error explanation and provided a way to use HTTP instead of HTTPS.</p>\n<p>But in my case, we are already using TLS certicates. So the solution was to enable SSL by configuring the embedded Tomcat server through either the <code>application.yml</code> or <code>application.properties</code> file.</p>\n<p>We only need to define these peroperties:</p>\n<pre><code>server:\n  ssl:\n    key-store: classpath:/path/to/keystore.p12\n    key-store-password: password-to-access-keystore\n    key-store-type: pkcs12\n    key-alias: my-spring-boot-app\n    key-password: password-for-the-private-key-if-you-have-any\n    enabled: true\n  port: 8443\n</code></pre>\n<p>The following documentation list all needed properties and their default values: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.server\" rel=\"nofollow noreferrer\">Spring Common Application Properties </a></p>\n"}],"owner":{"account_id":6843610,"reputation":771,"user_id":5263099,"display_name":"discipline19810128"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157084,"favorite_count":0,"down_vote_count":0,"up_vote_count":77,"answer_count":6,"score":77,"last_activity_date":1694429791,"creation_date":1470906227,"question_id":38891866,"body_markdown":"When Spring Boot starts up, it throws the `method names must be tokens` exception\r\n\r\n    2016-08-11 16:53:54.499  INFO 14212 --- [0.1-8888-exec-1] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header\r\n     Note: further occurrences of HTTP header parsing errors will be logged at DEBUG level.\r\n    \r\n    java.lang.IllegalArgumentException: Invalid character found in method name. HTTP method names must be tokens\r\n            at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:462) ~[tomcat-embed-core-8.5.4.jar!/:8.5.4]\r\n            at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:994) ~[tomcat-embed-core-8.5.4.jar!/:8.5.4]\r\n            at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\r\n            at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:785) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\r\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1425) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\r\n            at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_72]\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_72]\r\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\r\n            at java.lang.Thread.run(Thread.java:745) [na:1.8.0_72]\r\n    \r\n    2016-08-11 16:53:58.885  INFO 14212 --- [0.1-8888-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet &#39;dispatcherServlet&#39;\r\n    2016-08-11 16:53:58.888  INFO 14212 --- [0.1-8888-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization started\r\n    2016-08-11 16:53:58.922  INFO 14212 --- [0.1-8888-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization completed in 30 ms\r\n    11111111-chinadfadf-xxxxxxxx@121.com\r\n\r\nAnyone knows why it throws this exception?","title":"When Spring Boot starts up, it throws the &quot;method names must be tokens&quot; exception","body":"<p>When Spring Boot starts up, it throws the <code>method names must be tokens</code> exception</p>\n<pre><code>2016-08-11 16:53:54.499  INFO 14212 --- [0.1-8888-exec-1] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header\n Note: further occurrences of HTTP header parsing errors will be logged at DEBUG level.\n\njava.lang.IllegalArgumentException: Invalid character found in method name. HTTP method names must be tokens\n        at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:462) ~[tomcat-embed-core-8.5.4.jar!/:8.5.4]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:994) ~[tomcat-embed-core-8.5.4.jar!/:8.5.4]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:785) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1425) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_72]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_72]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n        at java.lang.Thread.run(Thread.java:745) [na:1.8.0_72]\n\n2016-08-11 16:53:58.885  INFO 14212 --- [0.1-8888-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'\n2016-08-11 16:53:58.888  INFO 14212 --- [0.1-8888-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started\n2016-08-11 16:53:58.922  INFO 14212 --- [0.1-8888-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 30 ms\n11111111-chinadfadf-xxxxxxxx@121.com\n</code></pre>\n<p>Anyone knows why it throws this exception?</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"score":0,"creation_date":1476300888,"post_id":29602386,"comment_id":67291862,"body_markdown":"Hava a look at 5 ways to initialize lazy relationsships: http://www.thoughts-on-java.org/5-ways-to-initialize-lazy-relations-and-when-to-use-them/","body":"Hava a look at 5 ways to initialize lazy relationsships: <a href=\"http://www.thoughts-on-java.org/5-ways-to-initialize-lazy-relations-and-when-to-use-them/\" rel=\"nofollow noreferrer\">thoughts-on-java.org/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":375945,"reputation":1877,"user_id":727078,"accept_rate":38,"display_name":"SirKometa"},"score":1,"creation_date":1429180005,"post_id":29651595,"comment_id":47481600,"body_markdown":"I doesn&#39;t seem to work for me. I mean it works but... When I annotate repository with &#39;@EntityGraph&#39; it doesn&#39;t work itself (usually). For example:\n` Place findById(int id);` works but  `List&lt;Place&gt; findAll();` ends up with the Exception `org.springframework.data.mapping.PropertyReferenceException: No property find found for type Place!`. It works when I manually add `@Query(&quot;select p from Place p&quot;)`. Seems like workaround though.","body":"I doesn&#39;t seem to work for me. I mean it works but... When I annotate repository with &#39;@EntityGraph&#39; it doesn&#39;t work itself (usually). For example: ` Place findById(int id);` works but  <code>List&lt;Place&gt; findAll();</code> ends up with the Exception <code>org.springframework.data.mapping.PropertyReferenceException: No property find found for type Place!</code>. It works when I manually add <code>@Query(&quot;select p from Place p&quot;)</code>. Seems like workaround though."},{"owner":{"account_id":1345891,"reputation":2182,"user_id":1286662,"display_name":"wesker317"},"score":0,"creation_date":1429206984,"post_id":29651595,"comment_id":47501939,"body_markdown":"Maybe it dosent work on findAll() since it&#39;s an existing method from the JpaRepository interface while your other method &quot;findById&quot; is a custom query method generated at runtime.","body":"Maybe it dosent work on findAll() since it&#39;s an existing method from the JpaRepository interface while your other method &quot;findById&quot; is a custom query method generated at runtime."},{"owner":{"account_id":375945,"reputation":1877,"user_id":727078,"accept_rate":38,"display_name":"SirKometa"},"score":0,"creation_date":1429697896,"post_id":29651595,"comment_id":47717077,"body_markdown":"I&#39;ve decided to mark this as the proper answer since it&#39;s the best. It is not perfect though. It works in most scenarios but so far I&#39;ve noticed bugs in spring-data-jpa with more complex EntityGraphs. Thanks :)","body":"I&#39;ve decided to mark this as the proper answer since it&#39;s the best. It is not perfect though. It works in most scenarios but so far I&#39;ve noticed bugs in spring-data-jpa with more complex EntityGraphs. Thanks :)"},{"owner":{"account_id":75930,"reputation":1292,"user_id":217657,"accept_rate":83,"display_name":"AndiDev"},"score":0,"creation_date":1439420708,"post_id":29651595,"comment_id":51860037,"body_markdown":"`@Query(&quot;select p from ManyToManyEntity p&quot;)` duplicates entities with many to many relationships that have more than one relation. However adding `distinct`, `@Query(&quot;select distinct p from ManyToManyEntity p&quot;)`, seems to solve this issue.","body":"<code>@Query(&quot;select p from ManyToManyEntity p&quot;)</code> duplicates entities with many to many relationships that have more than one relation. However adding <code>distinct</code>, <code>@Query(&quot;select distinct p from ManyToManyEntity p&quot;)</code>, seems to solve this issue."},{"owner":{"account_id":339128,"reputation":11063,"user_id":668417,"accept_rate":55,"display_name":"Ondrej Bozek"},"score":4,"creation_date":1470226238,"post_id":29651595,"comment_id":64860117,"body_markdown":"`@EntityGraph` is almost ununsable in real scenarios since it cant be specified what kind of `Fetch` we want to use (`JOIN`, `SUBSELECT`, `SELECT`, `BATCH`). This in combination with `@OneToMany` association and makes Hibernate Fetch whole table to memory even if we use query `MaxResults`.","body":"<code>@EntityGraph</code> is almost ununsable in real scenarios since it cant be specified what kind of <code>Fetch</code> we want to use (<code>JOIN</code>, <code>SUBSELECT</code>, <code>SELECT</code>, <code>BATCH</code>). This in combination with <code>@OneToMany</code> association and makes Hibernate Fetch whole table to memory even if we use query <code>MaxResults</code>."},{"owner":{"account_id":10516977,"reputation":409,"user_id":7750784,"display_name":"Hoang Duc Nguyen"},"score":0,"creation_date":1545977965,"post_id":29651595,"comment_id":94747094,"body_markdown":"@adrhc no you dont understand, FetchMode and FetchType are two different things","body":"@adrhc no you dont understand, FetchMode and FetchType are two different things"},{"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"score":1,"creation_date":1545986517,"post_id":29651595,"comment_id":94749512,"body_markdown":"Thanks, I wanted to say that JPQL queries may [override](https://vladmihalcea.com/hibernate-facts-the-importance-of-fetch-strategy/) the default fetching strategy with *select fetch* policy.","body":"Thanks, I wanted to say that JPQL queries may <a href=\"https://vladmihalcea.com/hibernate-facts-the-importance-of-fetch-strategy/\" rel=\"nofollow noreferrer\">override</a> the default fetching strategy with <i>select fetch</i> policy."},{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1589926314,"post_id":29651595,"comment_id":109486430,"body_markdown":"@NeilStockton     FetchMode would be more evident if people would put the imports statements in their code samples.  #endJavaRant","body":"@NeilStockton     FetchMode would be more evident if people would put the imports statements in their code samples.  #endJavaRant"}],"tags":[],"owner":{"account_id":1345891,"reputation":2182,"user_id":1286662,"display_name":"wesker317"},"comment_count":8,"down_vote_count":2,"up_vote_count":140,"is_accepted":true,"score":138,"last_activity_date":1463645700,"creation_date":1429104539,"answer_id":29651595,"question_id":29602386,"body_markdown":"I think that Spring Data ignores the FetchMode. I always use the `@NamedEntityGraph` and `@EntityGraph` annotations when working with Spring Data\r\n\r\n    @Entity\r\n    @NamedEntityGraph(name = &quot;GroupInfo.detail&quot;,\r\n      attributeNodes = @NamedAttributeNode(&quot;members&quot;))\r\n    public class GroupInfo {\r\n    \r\n      // default fetch mode is lazy.\r\n      @ManyToMany\r\n      List&lt;GroupMember&gt; members = new ArrayList&lt;GroupMember&gt;();\r\n    \r\n      …\r\n    }\r\n\r\n    @Repository\r\n    public interface GroupRepository extends CrudRepository&lt;GroupInfo, String&gt; {\r\n    \r\n      @EntityGraph(value = &quot;GroupInfo.detail&quot;, type = EntityGraphType.LOAD)\r\n      GroupInfo getByGroupName(String name);\r\n    \r\n    }\r\n\r\nCheck the documentation **[here][1]**\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-graph","title":"How does the FetchMode work in Spring Data JPA","body":"<p>I think that Spring Data ignores the FetchMode. I always use the <code>@NamedEntityGraph</code> and <code>@EntityGraph</code> annotations when working with Spring Data</p>\n\n<pre><code>@Entity\n@NamedEntityGraph(name = \"GroupInfo.detail\",\n  attributeNodes = @NamedAttributeNode(\"members\"))\npublic class GroupInfo {\n\n  // default fetch mode is lazy.\n  @ManyToMany\n  List&lt;GroupMember&gt; members = new ArrayList&lt;GroupMember&gt;();\n\n  …\n}\n\n@Repository\npublic interface GroupRepository extends CrudRepository&lt;GroupInfo, String&gt; {\n\n  @EntityGraph(value = \"GroupInfo.detail\", type = EntityGraphType.LOAD)\n  GroupInfo getByGroupName(String name);\n\n}\n</code></pre>\n\n<p>Check the documentation <strong><a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-graph\">here</a></strong></p>\n"},{"comments":[{"owner":{"account_id":43273,"reputation":3228,"user_id":126414,"accept_rate":83,"display_name":"svlada"},"score":5,"creation_date":1429697598,"post_id":29667050,"comment_id":47716851,"body_markdown":"IS there way to achieve same result with Criteria API and Spring Data Specifications?","body":"IS there way to achieve same result with Criteria API and Spring Data Specifications?"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":3,"creation_date":1429698570,"post_id":29667050,"comment_id":47717575,"body_markdown":"Not the fetch part, which requires JPA fetch profiles.","body":"Not the fetch part, which requires JPA fetch profiles."},{"owner":{"account_id":2063259,"reputation":12403,"user_id":1839360,"display_name":"Yan Khonski"},"score":0,"creation_date":1474361092,"post_id":29667050,"comment_id":66488184,"body_markdown":"Vlad Mihalcea, could you share the link with an example how to do this by using Spring Data JPA criteria (specification)? Please","body":"Vlad Mihalcea, could you share the link with an example how to do this by using Spring Data JPA criteria (specification)? Please"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1474443520,"post_id":29667050,"comment_id":66528156,"body_markdown":"I don&#39;t have any such example, but you can surely find one in Spring Data JPA tutorials.","body":"I don&#39;t have any such example, but you can surely find one in Spring Data JPA tutorials."},{"owner":{"account_id":2480042,"reputation":1134,"user_id":2159680,"accept_rate":81,"display_name":"Eric Huang"},"score":0,"creation_date":1506323567,"post_id":29667050,"comment_id":79755993,"body_markdown":"if using query-time..... will you still need to define @OneToMany ...etc on the entity?","body":"if using query-time..... will you still need to define @OneToMany ...etc on the entity?"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1509388723,"post_id":29667050,"comment_id":80991156,"body_markdown":"The mappings are driven by your app needs, not by the presence of a query.","body":"The mappings are driven by your app needs, not by the presence of a query."},{"owner":{"account_id":6250572,"reputation":736,"user_id":4860775,"display_name":"ASharma7"},"score":0,"creation_date":1558569295,"post_id":29667050,"comment_id":99148862,"body_markdown":"@VladMihalcea May you please look at this issue that I am facing regarding eager fetching while using JPA findBy methods . https://stackoverflow.com/questions/56248867/eager-fetch-performs-left-join-in-hibernate-but-fires-seperate-sql-queries-in-sp","body":"@VladMihalcea May you please look at this issue that I am facing regarding eager fetching while using JPA findBy methods . <a href=\"https://stackoverflow.com/questions/56248867/eager-fetch-performs-left-join-in-hibernate-but-fires-seperate-sql-queries-in-sp\" title=\"eager fetch performs left join in hibernate but fires seperate sql queries in sp\">stackoverflow.com/questions/56248867/&hellip;</a>"}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":7,"down_vote_count":0,"up_vote_count":81,"is_accepted":false,"score":81,"last_activity_date":1610140330,"creation_date":1429166235,"answer_id":29667050,"question_id":29602386,"body_markdown":"First of all, `@Fetch(FetchMode.JOIN)` and `@ManyToOne(fetch = FetchType.LAZY)` are antagonistic because `@Fetch(FetchMode.JOIN)` is equivalent to the JPA `FetchType.EAGER`.\r\n\r\nEager fetching is rarely a good choice, and for predictable behavior, you are better off using the query-time `JOIN FETCH` directive:\r\n\r\n    public interface PlaceRepository extends JpaRepository&lt;Place, Long&gt;, PlaceRepositoryCustom {\r\n    \r\n        @Query(value = &quot;SELECT p FROM Place p LEFT JOIN FETCH p.author LEFT JOIN FETCH p.city c LEFT JOIN FETCH c.state where p.id = :id&quot;)\r\n        Place findById(@Param(&quot;id&quot;) int id);\r\n    }\r\n\r\n    public interface CityRepository extends JpaRepository&lt;City, Long&gt;, CityRepositoryCustom { \r\n        @Query(value = &quot;SELECT c FROM City c LEFT JOIN FETCH c.state where c.id = :id&quot;)   \r\n        City findById(@Param(&quot;id&quot;) int id);\r\n    }\r\n","title":"How does the FetchMode work in Spring Data JPA","body":"<p>First of all, <code>@Fetch(FetchMode.JOIN)</code> and <code>@ManyToOne(fetch = FetchType.LAZY)</code> are antagonistic because <code>@Fetch(FetchMode.JOIN)</code> is equivalent to the JPA <code>FetchType.EAGER</code>.</p>\n<p>Eager fetching is rarely a good choice, and for predictable behavior, you are better off using the query-time <code>JOIN FETCH</code> directive:</p>\n<pre><code>public interface PlaceRepository extends JpaRepository&lt;Place, Long&gt;, PlaceRepositoryCustom {\n\n    @Query(value = &quot;SELECT p FROM Place p LEFT JOIN FETCH p.author LEFT JOIN FETCH p.city c LEFT JOIN FETCH c.state where p.id = :id&quot;)\n    Place findById(@Param(&quot;id&quot;) int id);\n}\n\npublic interface CityRepository extends JpaRepository&lt;City, Long&gt;, CityRepositoryCustom { \n    @Query(value = &quot;SELECT c FROM City c LEFT JOIN FETCH c.state where c.id = :id&quot;)   \n    City findById(@Param(&quot;id&quot;) int id);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":84979,"reputation":3840,"user_id":237225,"accept_rate":75,"display_name":"JJ Zabkar"},"score":0,"creation_date":1476727530,"post_id":29669797,"comment_id":67458490,"body_markdown":"Interestingly, this answer got me on the right path to using `NamedEntityGraph` since I wanted a non-hydrated object graph.","body":"Interestingly, this answer got me on the right path to using <code>NamedEntityGraph</code> since I wanted a non-hydrated object graph."},{"owner":{"account_id":1044865,"reputation":5045,"user_id":1891566,"display_name":"Clint Eastwood"},"score":0,"creation_date":1566567236,"post_id":29669797,"comment_id":101708324,"body_markdown":"this answer deserves more upvotes. It&#39;s succinct and helped me a lot to understand why I was seeing lots of &quot;magically triggered&quot; queries...thanks a lot!","body":"this answer deserves more upvotes. It&#39;s succinct and helped me a lot to understand why I was seeing lots of &quot;magically triggered&quot; queries...thanks a lot!"}],"tags":[],"owner":{"account_id":3076358,"reputation":512,"user_id":2605566,"display_name":"Godwin"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1429685816,"creation_date":1429174407,"answer_id":29669797,"question_id":29602386,"body_markdown":"&quot;`FetchType.LAZY`&quot; will only fire for primary table. If in your code you call any other method that has a parent table dependency then it will fire query to get that table information. (FIRES MULTIPLE SELECT)\r\n\r\n&quot;`FetchType.EAGER`&quot; will create join of all table including relevant parent tables directly. (USES `JOIN`)\r\n\r\nWhen to Use:\r\nSuppose you compulsorily need to use dependant parent table informartion then choose `FetchType.EAGER`.\r\nIf you only need information for certain records then use `FetchType.LAZY`.\r\n\r\nRemember, `FetchType.LAZY` needs an active db session factory at the place in your code where if you choose to retrieve parent table information.\r\n\r\nE.g. for `LAZY`: \r\n\r\n    .. Place fetched from db from your dao loayer\r\n    .. only place table information retrieved\r\n    .. some code\r\n    .. getCity() method called... Here db request will be fired to get city table info\r\n\r\n[Additional reference][1]\r\n\r\n\r\n  [1]: https://rkancharla.wordpress.com/2011/05/19/jpadifference-between-fetchtype-lazy-and-eager/","title":"How does the FetchMode work in Spring Data JPA","body":"<p>\"<code>FetchType.LAZY</code>\" will only fire for primary table. If in your code you call any other method that has a parent table dependency then it will fire query to get that table information. (FIRES MULTIPLE SELECT)</p>\n\n<p>\"<code>FetchType.EAGER</code>\" will create join of all table including relevant parent tables directly. (USES <code>JOIN</code>)</p>\n\n<p>When to Use:\nSuppose you compulsorily need to use dependant parent table informartion then choose <code>FetchType.EAGER</code>.\nIf you only need information for certain records then use <code>FetchType.LAZY</code>.</p>\n\n<p>Remember, <code>FetchType.LAZY</code> needs an active db session factory at the place in your code where if you choose to retrieve parent table information.</p>\n\n<p>E.g. for <code>LAZY</code>: </p>\n\n<pre><code>.. Place fetched from db from your dao loayer\n.. only place table information retrieved\n.. some code\n.. getCity() method called... Here db request will be fired to get city table info\n</code></pre>\n\n<p><a href=\"https://rkancharla.wordpress.com/2011/05/19/jpadifference-between-fetchtype-lazy-and-eager/\" rel=\"nofollow\">Additional reference</a></p>\n"},{"comments":[{"owner":{"account_id":339128,"reputation":11063,"user_id":668417,"accept_rate":55,"display_name":"Ondrej Bozek"},"score":0,"creation_date":1488462464,"post_id":33006717,"comment_id":72248629,"body_markdown":"Unfortunately this doesn&#39;t work for queries generated using repository method name.","body":"Unfortunately this doesn&#39;t work for queries generated using repository method name."},{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1589926439,"post_id":33006717,"comment_id":109486485,"body_markdown":"could you please add all the import statements? thank you.","body":"could you please add all the import statements? thank you."}],"tags":[],"owner":{"account_id":1987405,"reputation":621,"user_id":1782251,"accept_rate":100,"display_name":"dream83619"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1589925382,"creation_date":1444278960,"answer_id":33006717,"question_id":29602386,"body_markdown":"Spring-jpa creates the query using the entity manager, and Hibernate will ignore the fetch mode if the query was built by the entity manager.\r\n\r\nThe following is the work around that I used:\r\n\r\n1. [Implement a custom repository which inherits from SimpleJpaRepository][1]\r\n\r\n2. Override the method **`getQuery(Specification&lt;T&gt; spec, Sort sort)`**:\r\n\r\n        @Override\r\n        protected TypedQuery&lt;T&gt; getQuery(Specification&lt;T&gt; spec, Sort sort) { \r\n            CriteriaBuilder builder = entityManager.getCriteriaBuilder();\r\n            CriteriaQuery&lt;T&gt; query = builder.createQuery(getDomainClass());\r\n        \r\n            Root&lt;T&gt; root = applySpecificationToCriteria(spec, query);\r\n            query.select(root);\r\n        \r\n            applyFetchMode(root);\r\n        \r\n            if (sort != null) {\r\n                query.orderBy(toOrders(sort, root, builder));\r\n            }\r\n        \r\n            return applyRepositoryMethodMetadata(entityManager.createQuery(query));\r\n        }\r\n\r\n In the middle of the method, add **`applyFetchMode(root);`** to apply the fetch mode, to make Hibernate create the query with the correct join.\r\n\r\n (Unfortunately we need to copy the whole method and related private methods from the base class because there was no other extension point.)\r\n\r\n3. Implement **`applyFetchMode`**:\r\n\r\n        private void applyFetchMode(Root&lt;T&gt; root) {\r\n            for (Field field : getDomainClass().getDeclaredFields()) {\r\n\r\n                Fetch fetch = field.getAnnotation(Fetch.class);\r\n\r\n                if (fetch != null &amp;&amp; fetch.value() == FetchMode.JOIN) {\r\n                    root.fetch(field.getName(), JoinType.LEFT);\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-behaviour-for-all-repositories","title":"How does the FetchMode work in Spring Data JPA","body":"<p>Spring-jpa creates the query using the entity manager, and Hibernate will ignore the fetch mode if the query was built by the entity manager.</p>\n\n<p>The following is the work around that I used:</p>\n\n<ol>\n<li><p><a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-behaviour-for-all-repositories\" rel=\"nofollow noreferrer\">Implement a custom repository which inherits from SimpleJpaRepository</a></p></li>\n<li><p>Override the method <strong><code>getQuery(Specification&lt;T&gt; spec, Sort sort)</code></strong>:</p>\n\n<pre><code>@Override\nprotected TypedQuery&lt;T&gt; getQuery(Specification&lt;T&gt; spec, Sort sort) { \n    CriteriaBuilder builder = entityManager.getCriteriaBuilder();\n    CriteriaQuery&lt;T&gt; query = builder.createQuery(getDomainClass());\n\n    Root&lt;T&gt; root = applySpecificationToCriteria(spec, query);\n    query.select(root);\n\n    applyFetchMode(root);\n\n    if (sort != null) {\n        query.orderBy(toOrders(sort, root, builder));\n    }\n\n    return applyRepositoryMethodMetadata(entityManager.createQuery(query));\n}\n</code></pre>\n\n<p>In the middle of the method, add <strong><code>applyFetchMode(root);</code></strong> to apply the fetch mode, to make Hibernate create the query with the correct join.</p>\n\n<p>(Unfortunately we need to copy the whole method and related private methods from the base class because there was no other extension point.)</p></li>\n<li><p>Implement <strong><code>applyFetchMode</code></strong>:</p>\n\n<pre><code>private void applyFetchMode(Root&lt;T&gt; root) {\n    for (Field field : getDomainClass().getDeclaredFields()) {\n\n        Fetch fetch = field.getAnnotation(Fetch.class);\n\n        if (fetch != null &amp;&amp; fetch.value() == FetchMode.JOIN) {\n            root.fetch(field.getName(), JoinType.LEFT);\n        }\n    }\n}\n</code></pre></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":54250,"reputation":277,"user_id":162281,"accept_rate":75,"display_name":"Homer1980ar"},"score":0,"creation_date":1501017799,"post_id":38743473,"comment_id":77590009,"body_markdown":"I&#39;m trying your solution but I have a private metadata variable in one of the methods to copy that is giving trouble. Can you share final code?","body":"I&#39;m trying your solution but I have a private metadata variable in one of the methods to copy that is giving trouble. Can you share final code?"},{"owner":{"account_id":2013250,"reputation":970,"user_id":1801192,"accept_rate":34,"display_name":"antohoho"},"score":0,"creation_date":1533230752,"post_id":38743473,"comment_id":90281893,"body_markdown":"recursive Fetch doesn&#39;t work. If I have OneToMany it passes java.util.List to the next iteration","body":"recursive Fetch doesn&#39;t work. If I have OneToMany it passes java.util.List to the next iteration"},{"owner":{"account_id":2013250,"reputation":970,"user_id":1801192,"accept_rate":34,"display_name":"antohoho"},"score":0,"creation_date":1533232317,"post_id":38743473,"comment_id":90282606,"body_markdown":"not tested it well yet, but think should be something like this ((Join) descent).getJavaType() instead of field.getType() when call recursively applyFetchMode","body":"not tested it well yet, but think should be something like this ((Join) descent).getJavaType() instead of field.getType() when call recursively applyFetchMode"}],"tags":[],"owner":{"account_id":339128,"reputation":11063,"user_id":668417,"accept_rate":55,"display_name":"Ondrej Bozek"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501139504,"creation_date":1470226735,"answer_id":38743473,"question_id":29602386,"body_markdown":"I elaborated on [dream83619][1] answer to make it handle nested Hibernate  `@Fetch` annotations. I used recursive method to find annotations in nested associated classes.\r\n\r\n[So you have to implement custom repository][2] and override `getQuery(spec, domainClass, sort)` method. \r\nUnfortunately you also have to copy all referenced private methods :(.\r\n\r\nHere is the code, &lt;s&gt;copied private methods are omitted.&lt;/s&gt;  \r\n**EDIT:** Added remaining private methods.\r\n\r\n    @NoRepositoryBean\r\n    public class EntityGraphRepositoryImpl&lt;T, ID extends Serializable&gt; extends SimpleJpaRepository&lt;T, ID&gt; {\r\n    \r\n    \tprivate final EntityManager em;\r\n    \tprotected JpaEntityInformation&lt;T, ?&gt; entityInformation;\r\n    \r\n    \tpublic EntityGraphRepositoryImpl(JpaEntityInformation&lt;T, ?&gt; entityInformation, EntityManager entityManager) {\r\n    \t\tsuper(entityInformation, entityManager);\r\n    \t\tthis.em = entityManager;\r\n    \t\tthis.entityInformation = entityInformation;\r\n    \t}\r\n\r\n        @Override\r\n    \tprotected &lt;S extends T&gt; TypedQuery&lt;S&gt; getQuery(Specification&lt;S&gt; spec, Class&lt;S&gt; domainClass, Sort sort) {\r\n    \t\tCriteriaBuilder builder = em.getCriteriaBuilder();\r\n    \t\tCriteriaQuery&lt;S&gt; query = builder.createQuery(domainClass);\r\n    \r\n    \t\tRoot&lt;S&gt; root = applySpecificationToCriteria(spec, domainClass, query);\r\n    \r\n    \t\tquery.select(root);\r\n    \t\tapplyFetchMode(root);\r\n    \r\n    \t\tif (sort != null) {\r\n    \t\t\tquery.orderBy(toOrders(sort, root, builder));\r\n    \t\t}\r\n    \r\n    \t\treturn applyRepositoryMethodMetadata(em.createQuery(query));\r\n    \t}\r\n    \r\n    \tprivate Map&lt;String, Join&lt;?, ?&gt;&gt; joinCache;\r\n    \r\n    \tprivate void applyFetchMode(Root&lt;? extends T&gt; root) {\r\n    \t\tjoinCache = new HashMap&lt;&gt;();\r\n    \t\tapplyFetchMode(root, getDomainClass(), &quot;&quot;);\r\n    \t}\r\n    \r\n    \tprivate void applyFetchMode(FetchParent&lt;?, ?&gt; root, Class&lt;?&gt; clazz, String path) {\r\n    \t\tfor (Field field : clazz.getDeclaredFields()) {\r\n    \t\t\tFetch fetch = field.getAnnotation(Fetch.class);\r\n    \r\n    \t\t\tif (fetch != null &amp;&amp; fetch.value() == FetchMode.JOIN) {\r\n    \t\t\t\tFetchParent&lt;?, ?&gt; descent = root.fetch(field.getName(), JoinType.LEFT);\r\n    \t\t\t\tString fieldPath = path + &quot;.&quot; + field.getName();\r\n    \t\t\t\tjoinCache.put(path, (Join) descent);\r\n    \r\n    \t\t\t\tapplyFetchMode(descent, field.getType(), fieldPath);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Applies the given {@link Specification} to the given {@link CriteriaQuery}.\r\n    \t *\r\n    \t * @param spec can be {@literal null}.\r\n    \t * @param domainClass must not be {@literal null}.\r\n    \t * @param query must not be {@literal null}.\r\n    \t * @return\r\n    \t */\r\n    \tprivate &lt;S, U extends T&gt; Root&lt;U&gt; applySpecificationToCriteria(Specification&lt;U&gt; spec, Class&lt;U&gt; domainClass,\r\n    \t\tCriteriaQuery&lt;S&gt; query) {\r\n    \r\n    \t\tAssert.notNull(query);\r\n    \t\tAssert.notNull(domainClass);\r\n    \t\tRoot&lt;U&gt; root = query.from(domainClass);\r\n    \r\n    \t\tif (spec == null) {\r\n    \t\t\treturn root;\r\n    \t\t}\r\n    \r\n    \t\tCriteriaBuilder builder = em.getCriteriaBuilder();\r\n    \t\tPredicate predicate = spec.toPredicate(root, query, builder);\r\n    \r\n    \t\tif (predicate != null) {\r\n    \t\t\tquery.where(predicate);\r\n    \t\t}\r\n    \r\n    \t\treturn root;\r\n    \t}\r\n    \r\n    \tprivate &lt;S&gt; TypedQuery&lt;S&gt; applyRepositoryMethodMetadata(TypedQuery&lt;S&gt; query) {\r\n    \t\tif (getRepositoryMethodMetadata() == null) {\r\n    \t\t\treturn query;\r\n    \t\t}\r\n    \r\n    \t\tLockModeType type = getRepositoryMethodMetadata().getLockModeType();\r\n    \t\tTypedQuery&lt;S&gt; toReturn = type == null ? query : query.setLockMode(type);\r\n    \r\n    \t\tapplyQueryHints(toReturn);\r\n    \r\n    \t\treturn toReturn;\r\n    \t}\r\n    \r\n    \tprivate void applyQueryHints(Query query) {\r\n    \t\tfor (Map.Entry&lt;String, Object&gt; hint : getQueryHints().entrySet()) {\r\n    \t\t\tquery.setHint(hint.getKey(), hint.getValue());\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic Class&lt;T&gt; getEntityType() {\r\n    \t\treturn entityInformation.getJavaType();\r\n    \t}\r\n    \r\n    \tpublic EntityManager getEm() {\r\n    \t\treturn em;\r\n    \t}\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/users/1782251/dream83619\r\n  [2]: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-behaviour-for-all-repositories","title":"How does the FetchMode work in Spring Data JPA","body":"<p>I elaborated on <a href=\"https://stackoverflow.com/users/1782251/dream83619\">dream83619</a> answer to make it handle nested Hibernate  <code>@Fetch</code> annotations. I used recursive method to find annotations in nested associated classes.</p>\n\n<p><a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-behaviour-for-all-repositories\" rel=\"nofollow noreferrer\">So you have to implement custom repository</a> and override <code>getQuery(spec, domainClass, sort)</code> method. \nUnfortunately you also have to copy all referenced private methods :(.</p>\n\n<p>Here is the code, <s>copied private methods are omitted.</s><br>\n<strong>EDIT:</strong> Added remaining private methods.</p>\n\n<pre><code>@NoRepositoryBean\npublic class EntityGraphRepositoryImpl&lt;T, ID extends Serializable&gt; extends SimpleJpaRepository&lt;T, ID&gt; {\n\n    private final EntityManager em;\n    protected JpaEntityInformation&lt;T, ?&gt; entityInformation;\n\n    public EntityGraphRepositoryImpl(JpaEntityInformation&lt;T, ?&gt; entityInformation, EntityManager entityManager) {\n        super(entityInformation, entityManager);\n        this.em = entityManager;\n        this.entityInformation = entityInformation;\n    }\n\n    @Override\n    protected &lt;S extends T&gt; TypedQuery&lt;S&gt; getQuery(Specification&lt;S&gt; spec, Class&lt;S&gt; domainClass, Sort sort) {\n        CriteriaBuilder builder = em.getCriteriaBuilder();\n        CriteriaQuery&lt;S&gt; query = builder.createQuery(domainClass);\n\n        Root&lt;S&gt; root = applySpecificationToCriteria(spec, domainClass, query);\n\n        query.select(root);\n        applyFetchMode(root);\n\n        if (sort != null) {\n            query.orderBy(toOrders(sort, root, builder));\n        }\n\n        return applyRepositoryMethodMetadata(em.createQuery(query));\n    }\n\n    private Map&lt;String, Join&lt;?, ?&gt;&gt; joinCache;\n\n    private void applyFetchMode(Root&lt;? extends T&gt; root) {\n        joinCache = new HashMap&lt;&gt;();\n        applyFetchMode(root, getDomainClass(), \"\");\n    }\n\n    private void applyFetchMode(FetchParent&lt;?, ?&gt; root, Class&lt;?&gt; clazz, String path) {\n        for (Field field : clazz.getDeclaredFields()) {\n            Fetch fetch = field.getAnnotation(Fetch.class);\n\n            if (fetch != null &amp;&amp; fetch.value() == FetchMode.JOIN) {\n                FetchParent&lt;?, ?&gt; descent = root.fetch(field.getName(), JoinType.LEFT);\n                String fieldPath = path + \".\" + field.getName();\n                joinCache.put(path, (Join) descent);\n\n                applyFetchMode(descent, field.getType(), fieldPath);\n            }\n        }\n    }\n\n    /**\n     * Applies the given {@link Specification} to the given {@link CriteriaQuery}.\n     *\n     * @param spec can be {@literal null}.\n     * @param domainClass must not be {@literal null}.\n     * @param query must not be {@literal null}.\n     * @return\n     */\n    private &lt;S, U extends T&gt; Root&lt;U&gt; applySpecificationToCriteria(Specification&lt;U&gt; spec, Class&lt;U&gt; domainClass,\n        CriteriaQuery&lt;S&gt; query) {\n\n        Assert.notNull(query);\n        Assert.notNull(domainClass);\n        Root&lt;U&gt; root = query.from(domainClass);\n\n        if (spec == null) {\n            return root;\n        }\n\n        CriteriaBuilder builder = em.getCriteriaBuilder();\n        Predicate predicate = spec.toPredicate(root, query, builder);\n\n        if (predicate != null) {\n            query.where(predicate);\n        }\n\n        return root;\n    }\n\n    private &lt;S&gt; TypedQuery&lt;S&gt; applyRepositoryMethodMetadata(TypedQuery&lt;S&gt; query) {\n        if (getRepositoryMethodMetadata() == null) {\n            return query;\n        }\n\n        LockModeType type = getRepositoryMethodMetadata().getLockModeType();\n        TypedQuery&lt;S&gt; toReturn = type == null ? query : query.setLockMode(type);\n\n        applyQueryHints(toReturn);\n\n        return toReturn;\n    }\n\n    private void applyQueryHints(Query query) {\n        for (Map.Entry&lt;String, Object&gt; hint : getQueryHints().entrySet()) {\n            query.setHint(hint.getKey(), hint.getValue());\n        }\n    }\n\n    public Class&lt;T&gt; getEntityType() {\n        return entityInformation.getJavaType();\n    }\n\n    public EntityManager getEm() {\n        return em;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6151260,"reputation":475,"user_id":4795613,"accept_rate":67,"display_name":"kafkas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1515352871,"creation_date":1515352871,"answer_id":48140715,"question_id":29602386,"body_markdown":"http://jdpgrailsdev.github.io/blog/2014/09/09/spring_data_hibernate_join.html &lt;br&gt;\r\nfrom this link:\r\n\r\nif you are using JPA on top of Hibernate, there is no way to set the FetchMode used by Hibernate to JOINHowever, if you are using JPA on top of Hibernate, there is no way to set the FetchMode used by Hibernate to JOIN.\r\n\r\nThe Spring Data JPA library provides a Domain Driven Design Specifications API that allows you to control the behavior of the generated query.\r\n\r\n\r\n   \r\n\r\n    final long userId = 1;\r\n\r\n    final Specification&lt;User&gt; spec = new Specification&lt;User&gt;() {\r\n       @Override\r\n        public Predicate toPredicate(final Root&lt;User&gt; root, final \r\n         CriteriaQuery&lt;?&gt; query, final CriteriaBuilder cb) {\r\n        query.distinct(true);\r\n        root.fetch(&quot;permissions&quot;, JoinType.LEFT);\r\n        return cb.equal(root.get(&quot;id&quot;), userId);\r\n     }\r\n    };\r\n\r\n    List&lt;User&gt; users = userRepository.findAll(spec);\r\n\r\n","title":"How does the FetchMode work in Spring Data JPA","body":"<p><a href=\"http://jdpgrailsdev.github.io/blog/2014/09/09/spring_data_hibernate_join.html\" rel=\"nofollow noreferrer\">http://jdpgrailsdev.github.io/blog/2014/09/09/spring_data_hibernate_join.html</a> <br>\nfrom this link:</p>\n\n<p>if you are using JPA on top of Hibernate, there is no way to set the FetchMode used by Hibernate to JOINHowever, if you are using JPA on top of Hibernate, there is no way to set the FetchMode used by Hibernate to JOIN.</p>\n\n<p>The Spring Data JPA library provides a Domain Driven Design Specifications API that allows you to control the behavior of the generated query.</p>\n\n<pre><code>final long userId = 1;\n\nfinal Specification&lt;User&gt; spec = new Specification&lt;User&gt;() {\n   @Override\n    public Predicate toPredicate(final Root&lt;User&gt; root, final \n     CriteriaQuery&lt;?&gt; query, final CriteriaBuilder cb) {\n    query.distinct(true);\n    root.fetch(\"permissions\", JoinType.LEFT);\n    return cb.equal(root.get(\"id\"), userId);\n }\n};\n\nList&lt;User&gt; users = userRepository.findAll(spec);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1531137425,"creation_date":1531137425,"answer_id":51245028,"question_id":29602386,"body_markdown":"According to Vlad Mihalcea (see [https://vladmihalcea.com/hibernate-facts-the-importance-of-fetch-strategy/][1]):\r\n\r\n&gt; JPQL queries may override the default fetching strategy. If we don’t\r\n&gt; explicitly declare what we want to fetch using inner or left join\r\n&gt; fetch directives, the default select fetch policy is applied.\r\n\r\nIt seems that JPQL query might override your declared fetching strategy so you&#39;ll have to use `join fetch` in order to eagerly load some referenced entity or simply load by id with EntityManager (which will obey your fetching strategy but might not be a solution for your use case).\r\n\r\n  [1]: https://vladmihalcea.com/hibernate-facts-the-importance-of-fetch-strategy/","title":"How does the FetchMode work in Spring Data JPA","body":"<p>According to Vlad Mihalcea (see <a href=\"https://vladmihalcea.com/hibernate-facts-the-importance-of-fetch-strategy/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/hibernate-facts-the-importance-of-fetch-strategy/</a>):</p>\n\n<blockquote>\n  <p>JPQL queries may override the default fetching strategy. If we don’t\n  explicitly declare what we want to fetch using inner or left join\n  fetch directives, the default select fetch policy is applied.</p>\n</blockquote>\n\n<p>It seems that JPQL query might override your declared fetching strategy so you'll have to use <code>join fetch</code> in order to eagerly load some referenced entity or simply load by id with EntityManager (which will obey your fetching strategy but might not be a solution for your use case).</p>\n"},{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1531898440,"creation_date":1531898440,"answer_id":51395883,"question_id":29602386,"body_markdown":"The fetch mode will only work when selecting the object _by id_ i.e. using `entityManager.find()`. Since Spring Data will always create a query, the fetch mode configuration will have no use to you. You can either use dedicated queries with fetch joins or use entity graphs.\r\n\r\nWhen you want best performance, you should select only the subset of the data you really need. To do this, it is generally recommended to use a DTO approach to avoid unnecessary data to be fetched, but that usually results in quite a lot of error prone boilerplate code, since you need define a dedicated query that constructs your DTO model via a JPQL constructor expression.\r\n\r\nSpring Data projections can help here, but at some point you will need a solution like [Blaze-Persistence Entity Views][1] which makes this pretty easy and has a lot more features in it&#39;s sleeve that will come in handy! You just create a DTO interface per entity where the getters represent the subset of data you need. A solution to your problem could look like this\r\n\r\n    @EntityView(Identified.class)\r\n    public interface IdentifiedView {\r\n        @IdMapping\r\n        Integer getId();\r\n    }\r\n    \r\n    @EntityView(Identified.class)\r\n    public interface UserView extends IdentifiedView {\r\n        String getName();\r\n    }\r\n    \r\n    @EntityView(Identified.class)\r\n    public interface StateView extends IdentifiedView {\r\n        String getName();\r\n    }\r\n    \r\n    @EntityView(Place.class)\r\n    public interface PlaceView extends IdentifiedView {\r\n        UserView getAuthor();\r\n        CityView getCity();\r\n    }\r\n    \r\n    @EntityView(City.class)\r\n    public interface CityView extends IdentifiedView {\r\n        StateView getState();\r\n    }\r\n    \r\n    public interface PlaceRepository extends JpaRepository&lt;Place, Long&gt;, PlaceRepositoryCustom {\r\n        PlaceView findById(int id);\r\n    }\r\n    \r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n        List&lt;UserView&gt; findAllByOrderByIdAsc();\r\n        UserView findById(int id);\r\n    }\r\n    \r\n    public interface CityRepository extends JpaRepository&lt;City, Long&gt;, CityRepositoryCustom {    \r\n        CityView findById(int id);\r\n    }\r\n\r\nDisclaimer, I&#39;m the author of Blaze-Persistence, so I might be biased.\r\n\r\n\r\n  [1]: https://persistence.blazebit.com/documentation/1.3/entity-view/manual/en_US/index.html#spring-data-features","title":"How does the FetchMode work in Spring Data JPA","body":"<p>The fetch mode will only work when selecting the object <em>by id</em> i.e. using <code>entityManager.find()</code>. Since Spring Data will always create a query, the fetch mode configuration will have no use to you. You can either use dedicated queries with fetch joins or use entity graphs.</p>\n\n<p>When you want best performance, you should select only the subset of the data you really need. To do this, it is generally recommended to use a DTO approach to avoid unnecessary data to be fetched, but that usually results in quite a lot of error prone boilerplate code, since you need define a dedicated query that constructs your DTO model via a JPQL constructor expression.</p>\n\n<p>Spring Data projections can help here, but at some point you will need a solution like <a href=\"https://persistence.blazebit.com/documentation/1.3/entity-view/manual/en_US/index.html#spring-data-features\" rel=\"nofollow noreferrer\">Blaze-Persistence Entity Views</a> which makes this pretty easy and has a lot more features in it's sleeve that will come in handy! You just create a DTO interface per entity where the getters represent the subset of data you need. A solution to your problem could look like this</p>\n\n<pre><code>@EntityView(Identified.class)\npublic interface IdentifiedView {\n    @IdMapping\n    Integer getId();\n}\n\n@EntityView(Identified.class)\npublic interface UserView extends IdentifiedView {\n    String getName();\n}\n\n@EntityView(Identified.class)\npublic interface StateView extends IdentifiedView {\n    String getName();\n}\n\n@EntityView(Place.class)\npublic interface PlaceView extends IdentifiedView {\n    UserView getAuthor();\n    CityView getCity();\n}\n\n@EntityView(City.class)\npublic interface CityView extends IdentifiedView {\n    StateView getState();\n}\n\npublic interface PlaceRepository extends JpaRepository&lt;Place, Long&gt;, PlaceRepositoryCustom {\n    PlaceView findById(int id);\n}\n\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n    List&lt;UserView&gt; findAllByOrderByIdAsc();\n    UserView findById(int id);\n}\n\npublic interface CityRepository extends JpaRepository&lt;City, Long&gt;, CityRepositoryCustom {    \n    CityView findById(int id);\n}\n</code></pre>\n\n<p>Disclaimer, I'm the author of Blaze-Persistence, so I might be biased.</p>\n"},{"comments":[{"owner":{"account_id":11171319,"reputation":2160,"user_id":8198203,"accept_rate":75,"display_name":"Frischling"},"score":2,"creation_date":1633698030,"post_id":67318315,"comment_id":122835813,"body_markdown":"this is the smallest change to make the fetchmode right, good tip! Spring docu is a bit vague on this, I find.","body":"this is the smallest change to make the fetchmode right, good tip! Spring docu is a bit vague on this, I find."},{"owner":{"account_id":6906155,"reputation":2477,"user_id":5303960,"accept_rate":100,"display_name":"royatirek"},"score":0,"creation_date":1634008687,"post_id":67318315,"comment_id":122904908,"body_markdown":"Over time, I have understood that using @NamedEntityGraph over the entity and using the specification to make a query makes more sense as it keeps related things in one place.","body":"Over time, I have understood that using @NamedEntityGraph over the entity and using the specification to make a query makes more sense as it keeps related things in one place."},{"owner":{"account_id":11171319,"reputation":2160,"user_id":8198203,"accept_rate":75,"display_name":"Frischling"},"score":0,"creation_date":1634109892,"post_id":67318315,"comment_id":122934705,"body_markdown":"Good point; you&#39;ll define the default behaviour in `@NamedEntityGraph`, but if you need a specially crafted return for a function, you&#39;d still use `@EntityGraph` at the function, probably also naming the funtion to highlight this?  I&#39;d rather have a different return type/DTO in that case - that&#39;s something to think about.","body":"Good point; you&#39;ll define the default behaviour in <code>@NamedEntityGraph</code>, but if you need a specially crafted return for a function, you&#39;d still use <code>@EntityGraph</code> at the function, probably also naming the funtion to highlight this?  I&#39;d rather have a different return type/DTO in that case - that&#39;s something to think about."}],"tags":[],"owner":{"account_id":6906155,"reputation":2477,"user_id":5303960,"accept_rate":100,"display_name":"royatirek"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1619702693,"creation_date":1619702693,"answer_id":67318315,"question_id":29602386,"body_markdown":"The entity manager used by spring data jpa ignores the fetch mode.\r\n\r\nUse @EntityGraph annotation over Repository methods,\r\n\r\n    @EntityGraph(attributePaths = { &quot;user&quot;, &quot;hashtags&quot;})\r\n    Page&lt;LIPost&gt; findByVoteTypeIn(Set&lt;VoteType&gt; listOfVotetype, Pageable paging);\r\n\r\n\r\nHere user and hashtags are the properties in the LIPost entity.\r\n\r\nThe query build by spring data JPA uses **left outer join** to get the related entity(user and hashtags) data.\r\n\r\nIn this case, no need to use the annotation @NamedEntityGraph over the entity class.\r\n\r\n\r\n[Documentation][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-graph","title":"How does the FetchMode work in Spring Data JPA","body":"<p>The entity manager used by spring data jpa ignores the fetch mode.</p>\n<p>Use @EntityGraph annotation over Repository methods,</p>\n<pre><code>@EntityGraph(attributePaths = { &quot;user&quot;, &quot;hashtags&quot;})\nPage&lt;LIPost&gt; findByVoteTypeIn(Set&lt;VoteType&gt; listOfVotetype, Pageable paging);\n</code></pre>\n<p>Here user and hashtags are the properties in the LIPost entity.</p>\n<p>The query build by spring data JPA uses <strong>left outer join</strong> to get the related entity(user and hashtags) data.</p>\n<p>In this case, no need to use the annotation @NamedEntityGraph over the entity class.</p>\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-graph\" rel=\"nofollow noreferrer\">Documentation</a></p>\n"}],"owner":{"account_id":375945,"reputation":1877,"user_id":727078,"accept_rate":38,"display_name":"SirKometa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155607,"favorite_count":0,"down_vote_count":1,"up_vote_count":116,"accepted_answer_id":29651595,"answer_count":9,"score":115,"last_activity_date":1694429160,"creation_date":1428918528,"question_id":29602386,"body_markdown":"I do have a relation between three model object in my project (model and repository snippets in the end of the post. \r\n\r\nWhen I call `PlaceRepository.findById` it does fire three select queries:\r\n\r\n(&quot;sql&quot;)\r\n\r\n 1. `SELECT * FROM place p where id = arg`\r\n 2. `SELECT * FROM user u where u.id = place.user.id`\r\n 3. `SELECT * FROM city c LEFT OUTER JOIN state s on c.woj_id = s.id where c.id = place.city.id`\r\n\r\nThat&#39;s rather unusual behavior (for me). As far as I can tell after reading Hibernate documentation it should always use JOIN queries. There is no difference in the queries when `FetchType.LAZY` changed to  `FetchType.EAGER` in the `Place` class (query with additional SELECT), the same for the `City` class when `FetchType.LAZY` changed to  `FetchType.EAGER` (query with JOIN). \r\n\r\nWhen I use `CityRepository.findById` suppressing fires two selects: \r\n\r\n 1. `SELECT * FROM city c where id = arg`\r\n 2. `SELECT * FROM state s where id = city.state.id`\r\n\r\nMy goal is to have a the sam behavior in all situations (either always JOIN or SELECT, JOIN preferred though). \r\n\r\nModel definitions:\r\n\r\nPlace:\r\n\r\n    @Entity\r\n    @Table(name = &quot;place&quot;)\r\n    public class Place extends Identified {\r\n\r\n        @Fetch(FetchMode.JOIN)\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;id_user_author&quot;)\r\n        private User author;\r\n\r\n        @Fetch(FetchMode.JOIN)\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;area_city_id&quot;)\r\n        private City city;\r\n        //getters and setters\r\n    }\r\n\r\nCity: \r\n\r\n    @Entity\r\n    @Table(name = &quot;area_city&quot;)\r\n    public class City extends Identified {\r\n\r\n        @Fetch(FetchMode.JOIN)\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;area_woj_id&quot;)\r\n        private State state;\r\n        //getters and setters\r\n    }\r\n\r\nRepositories: \r\n\r\nPlaceRepository\r\n\r\n    public interface PlaceRepository extends JpaRepository&lt;Place, Long&gt;, PlaceRepositoryCustom {\r\n        Place findById(int id);\r\n    }\r\n\r\n\r\nUserRepository: \r\n\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n            List&lt;User&gt; findAll();\r\n        User findById(int id);\r\n    }\r\n\r\nCityRepository: \r\n\r\n    public interface CityRepository extends JpaRepository&lt;City, Long&gt;, CityRepositoryCustom {    \r\n        City findById(int id);\r\n    }","title":"How does the FetchMode work in Spring Data JPA","body":"<p>I do have a relation between three model object in my project (model and repository snippets in the end of the post. </p>\n\n<p>When I call <code>PlaceRepository.findById</code> it does fire three select queries:</p>\n\n<p>(\"sql\")</p>\n\n<ol>\n<li><code>SELECT * FROM place p where id = arg</code></li>\n<li><code>SELECT * FROM user u where u.id = place.user.id</code></li>\n<li><code>SELECT * FROM city c LEFT OUTER JOIN state s on c.woj_id = s.id where c.id = place.city.id</code></li>\n</ol>\n\n<p>That's rather unusual behavior (for me). As far as I can tell after reading Hibernate documentation it should always use JOIN queries. There is no difference in the queries when <code>FetchType.LAZY</code> changed to  <code>FetchType.EAGER</code> in the <code>Place</code> class (query with additional SELECT), the same for the <code>City</code> class when <code>FetchType.LAZY</code> changed to  <code>FetchType.EAGER</code> (query with JOIN). </p>\n\n<p>When I use <code>CityRepository.findById</code> suppressing fires two selects: </p>\n\n<ol>\n<li><code>SELECT * FROM city c where id = arg</code></li>\n<li><code>SELECT * FROM state s where id = city.state.id</code></li>\n</ol>\n\n<p>My goal is to have a the sam behavior in all situations (either always JOIN or SELECT, JOIN preferred though). </p>\n\n<p>Model definitions:</p>\n\n<p>Place:</p>\n\n<pre><code>@Entity\n@Table(name = \"place\")\npublic class Place extends Identified {\n\n    @Fetch(FetchMode.JOIN)\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"id_user_author\")\n    private User author;\n\n    @Fetch(FetchMode.JOIN)\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"area_city_id\")\n    private City city;\n    //getters and setters\n}\n</code></pre>\n\n<p>City: </p>\n\n<pre><code>@Entity\n@Table(name = \"area_city\")\npublic class City extends Identified {\n\n    @Fetch(FetchMode.JOIN)\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"area_woj_id\")\n    private State state;\n    //getters and setters\n}\n</code></pre>\n\n<p>Repositories: </p>\n\n<p>PlaceRepository</p>\n\n<pre><code>public interface PlaceRepository extends JpaRepository&lt;Place, Long&gt;, PlaceRepositoryCustom {\n    Place findById(int id);\n}\n</code></pre>\n\n<p>UserRepository: </p>\n\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n        List&lt;User&gt; findAll();\n    User findById(int id);\n}\n</code></pre>\n\n<p>CityRepository: </p>\n\n<pre><code>public interface CityRepository extends JpaRepository&lt;City, Long&gt;, CityRepositoryCustom {    \n    City findById(int id);\n}\n</code></pre>\n"},{"tags":["java","arrays","sum"],"answers":[{"comments":[{"owner":{"account_id":20871923,"reputation":31,"user_id":15331656,"display_name":"jpenn2472"},"score":1,"creation_date":1614881968,"post_id":66480725,"comment_id":117528059,"body_markdown":"Awesome answer! Didn&#39;t think about using a set to avoid duplicates, which was the next problem I was going to run into. Thanks!","body":"Awesome answer! Didn&#39;t think about using a set to avoid duplicates, which was the next problem I was going to run into. Thanks!"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1614883212,"post_id":66480725,"comment_id":117528555,"body_markdown":"@jpenn2472 You should accept the answer if helps resolve the issue.","body":"@jpenn2472 You should accept the answer if helps resolve the issue."}],"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1614881515,"creation_date":1614881515,"answer_id":66480725,"question_id":66480625,"body_markdown":"You should use `Set` to look through the given array only once.\r\n\r\n    public class App {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            int[] numbers = { 3, 6, 2, 9 };\r\n            int targNum = 5;\r\n    \r\n            twoSum(numbers, targNum);\r\n        }\r\n    \r\n        public static void twoSum(int[] nums, int target) {\r\n            Set&lt;Integer&gt; unique = new HashSet&lt;&gt;();\r\n    \r\n            for (int a : nums) {\r\n                int b = target - a;\r\n    \r\n                if (unique.contains(b)) {\r\n                    System.out.println(a + &quot; &quot; + b);\r\n                    return;\r\n                }\r\n    \r\n                unique.add(a);\r\n            }\r\n    \r\n            System.err.println(&quot;not found&quot;);\r\n    \r\n        }\r\n    \r\n    }","title":"How to sum the elements of the array up to the target number?","body":"<p>You should use <code>Set</code> to look through the given array only once.</p>\n<pre><code>public class App {\n\n    public static void main(String[] args) throws Exception {\n        int[] numbers = { 3, 6, 2, 9 };\n        int targNum = 5;\n\n        twoSum(numbers, targNum);\n    }\n\n    public static void twoSum(int[] nums, int target) {\n        Set&lt;Integer&gt; unique = new HashSet&lt;&gt;();\n\n        for (int a : nums) {\n            int b = target - a;\n\n            if (unique.contains(b)) {\n                System.out.println(a + &quot; &quot; + b);\n                return;\n            }\n\n            unique.add(a);\n        }\n\n        System.err.println(&quot;not found&quot;);\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user15309136"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615291525,"creation_date":1615127347,"answer_id":66517597,"question_id":66480625,"body_markdown":"You can use [`IntStream`][1] instead of `for-loop`:\r\n```java\r\nint[] numbers = {3, 6, 2, 9};\r\nint targetSum = 5;\r\n```\r\n```java\r\n// Map.Entry&lt;Set&lt;Integer&gt;,Integer&gt;\r\nvar entry = IntStream\r\n        // iterating through the array indexes\r\n        .range(0, numbers.length)\r\n        // map each index as a pair of index and value,\r\n        // i.e. set of indexes and sum of values\r\n        // Stream&lt;Map.Entry&lt;Set&lt;Integer&gt;,Integer&gt;&gt;\r\n        .mapToObj(i -&gt; Map.entry(Set.of(i), numbers[i]))\r\n        // reduce stream of map entries to a single entry\r\n        .reduce((e1, e2) -&gt; {\r\n            int sum = e1.getValue() + e2.getValue();\r\n            // if sum of the values of the two entries\r\n            // is less than or equal to the target sum\r\n            if (sum &lt;= targetSum) {\r\n                // summarize two entries\r\n                Set&lt;Integer&gt; key = new HashSet&lt;&gt;();\r\n                key.addAll(e1.getKey());\r\n                key.addAll(e2.getKey());\r\n                return Map.entry(key, sum);\r\n            } else {\r\n                // otherwise, take an entry with a smaller sum\r\n                return e1.getValue() &lt; e2.getValue() ? e1 : e2;\r\n            }\r\n        }).orElse(null);\r\n```\r\n```java\r\n// output\r\nif (entry == null)\r\n    System.out.println(&quot;Not found&quot;);\r\nelse\r\n    entry.getKey().forEach(i -&gt; System.out.println(numbers[i]));\r\n```\r\nOutput:\r\n```\r\n3\r\n2\r\n```\r\n\r\n---\r\n\r\n&lt;sup&gt;See also: [How to sort a character by number of occurrences in a String using a Map?][2]&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/IntStream.html\r\n  [2]: https://stackoverflow.com/a/66535925/15309136","title":"How to sum the elements of the array up to the target number?","body":"<p>You can use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/IntStream.html\" rel=\"nofollow noreferrer\"><code>IntStream</code></a> instead of <code>for-loop</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] numbers = {3, 6, 2, 9};\nint targetSum = 5;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Map.Entry&lt;Set&lt;Integer&gt;,Integer&gt;\nvar entry = IntStream\n        // iterating through the array indexes\n        .range(0, numbers.length)\n        // map each index as a pair of index and value,\n        // i.e. set of indexes and sum of values\n        // Stream&lt;Map.Entry&lt;Set&lt;Integer&gt;,Integer&gt;&gt;\n        .mapToObj(i -&gt; Map.entry(Set.of(i), numbers[i]))\n        // reduce stream of map entries to a single entry\n        .reduce((e1, e2) -&gt; {\n            int sum = e1.getValue() + e2.getValue();\n            // if sum of the values of the two entries\n            // is less than or equal to the target sum\n            if (sum &lt;= targetSum) {\n                // summarize two entries\n                Set&lt;Integer&gt; key = new HashSet&lt;&gt;();\n                key.addAll(e1.getKey());\n                key.addAll(e2.getKey());\n                return Map.entry(key, sum);\n            } else {\n                // otherwise, take an entry with a smaller sum\n                return e1.getValue() &lt; e2.getValue() ? e1 : e2;\n            }\n        }).orElse(null);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// output\nif (entry == null)\n    System.out.println(&quot;Not found&quot;);\nelse\n    entry.getKey().forEach(i -&gt; System.out.println(numbers[i]));\n</code></pre>\n<p>Output:</p>\n<pre><code>3\n2\n</code></pre>\n<hr />\n<p><sup>See also: <a href=\"https://stackoverflow.com/a/66535925/15309136\">How to sort a character by number of occurrences in a String using a Map?</a></sup></p>\n"},{"comments":[{"owner":{"account_id":10034279,"reputation":718,"user_id":7419582,"display_name":"rensothearin"},"score":1,"creation_date":1694493411,"post_id":77080951,"comment_id":135894253,"body_markdown":"It would be easier to understand the code if you provided a little explanation attached with this solution code. By doing so, it would be a better help for different developers who have the same problem to the question poster.","body":"It would be easier to understand the code if you provided a little explanation attached with this solution code. By doing so, it would be a better help for different developers who have the same problem to the question poster."}],"tags":[],"owner":{"account_id":25314501,"reputation":1,"user_id":19136805,"display_name":"Kuldeep Prajapati"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694429080,"creation_date":1694429080,"answer_id":77080951,"question_id":66480625,"body_markdown":"    class Solution {\r\n    public int[] twoSum(int[] nums, int target) {\r\n\r\n        int[] sum = new int[2];\r\n\r\n        for(int i=0; i&lt;nums.length;i++){\r\n            for(int j=i+1; j&lt;nums.length; j++){\r\n                if(nums[i] + nums[j] == target){\r\n                    sum[0] = i;\r\n                    sum[1]= j;\r\n                    return sum;\r\n                }\r\n            }\r\n        }\r\n\r\n        return null;\r\n        \r\n    }\r\n\r\n    public static void main(String[] args){\r\n        int[] nums ={8,5,8,8,5,1 };\r\n        int target = 9;\r\n        Solution solution = new Solution(); \r\n        int[] sum = solution.twoSum(nums, target);\r\n        if (sum != null) {\r\n            System.out.println(sum[0] + &quot; &quot; + sum[1]);\r\n        } else {\r\n            System.out.println(&quot;No two sum solution&quot;);\r\n        }\r\n        \r\n    }\r\n}\r\n\r\nnums ={8,5,8,8,5,1 };\r\nTarget = 9;","title":"How to sum the elements of the array up to the target number?","body":"<pre><code>class Solution {\npublic int[] twoSum(int[] nums, int target) {\n\n    int[] sum = new int[2];\n\n    for(int i=0; i&lt;nums.length;i++){\n        for(int j=i+1; j&lt;nums.length; j++){\n            if(nums[i] + nums[j] == target){\n                sum[0] = i;\n                sum[1]= j;\n                return sum;\n            }\n        }\n    }\n\n    return null;\n    \n}\n\npublic static void main(String[] args){\n    int[] nums ={8,5,8,8,5,1 };\n    int target = 9;\n    Solution solution = new Solution(); \n    int[] sum = solution.twoSum(nums, target);\n    if (sum != null) {\n        System.out.println(sum[0] + &quot; &quot; + sum[1]);\n    } else {\n        System.out.println(&quot;No two sum solution&quot;);\n    }\n    \n}\n</code></pre>\n<p>}</p>\n<p>nums ={8,5,8,8,5,1 };\nTarget = 9;</p>\n"}],"owner":{"account_id":20871923,"reputation":31,"user_id":15331656,"display_name":"jpenn2472"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1774,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1694429080,"creation_date":1614881088,"question_id":66480625,"body_markdown":"I am just trying to look through an array and find the elements that sum up to the target number. I&#39;ve gotten this far into the program: \r\n\r\n```java\r\npublic class App {\r\n    public static void main(String[] args) throws Exception {\r\n        int[] numbers = {3, 6, 2, 9};\r\n        int targNum = 5;\r\n\r\n        twoSum(numbers, targNum);\r\n    }\r\n\r\n    public static void twoSum(int[] nums, int target) {\r\n        for (int i = 0; i &lt; nums.length; i++) {\r\n            int sum = 0;\r\n\r\n            if (nums[i] &lt;= target) {\r\n                int[] sumNums = {target - nums[i]};\r\n\r\n                for (int j = 0; j &lt; sumNums.length; j++) {\r\n                    sum += sumNums[j];\r\n                    System.out.println(sum);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI keep getting console output of:\r\n \r\n```\r\n2\r\n3\r\n```\r\nI ran a simple array sum in another file and it seemed to work perfectly.\r\n","title":"How to sum the elements of the array up to the target number?","body":"<p>I am just trying to look through an array and find the elements that sum up to the target number. I've gotten this far into the program:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class App {\n    public static void main(String[] args) throws Exception {\n        int[] numbers = {3, 6, 2, 9};\n        int targNum = 5;\n\n        twoSum(numbers, targNum);\n    }\n\n    public static void twoSum(int[] nums, int target) {\n        for (int i = 0; i &lt; nums.length; i++) {\n            int sum = 0;\n\n            if (nums[i] &lt;= target) {\n                int[] sumNums = {target - nums[i]};\n\n                for (int j = 0; j &lt; sumNums.length; j++) {\n                    sum += sumNums[j];\n                    System.out.println(sum);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>I keep getting console output of:</p>\n<pre><code>2\n3\n</code></pre>\n<p>I ran a simple array sum in another file and it seemed to work perfectly.</p>\n"},{"tags":["java","scrollbar","overflow","jeditorpane"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1694432836,"post_id":77080917,"comment_id":135885876,"body_markdown":"You want the html to be rendered in a component as a web browser would do it?","body":"You want the html to be rendered in a component as a web browser would do it?"},{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":0,"creation_date":1694438250,"post_id":77080917,"comment_id":135886953,"body_markdown":"Only for the nested element &quot;overflow&quot;, i.e like if the JEditorPane had a nested `JScrollPane`. I&#39;m not looking for a full support of web browser.","body":"Only for the nested element &quot;overflow&quot;, i.e like if the JEditorPane had a nested <code>JScrollPane</code>. I&#39;m not looking for a full support of web browser."}],"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694428698,"creation_date":1694428698,"question_id":77080917,"body_markdown":"I&#39;m wondering if it&#39;s possible to have a `JEditorPane` that is able to display / render (i.e. not editable) HTML content that has a nested `div` of fixed size or width, and that contains bigger inner content. \r\n\r\nIn particular I&#39;m interested in wider content, that the the JEditorPane has width. \r\nI.e. I would like this nested `div` to _overflow_ on the X axis and as such show an horizontal scrollbar on this `div` only. The rest of the sibling content nodes of that div can be word wrapped.\r\n\r\n[![example][1]][1]\r\n\r\nFrom the HTML point of view the `div`, container should have the style `overflow-x: auto;`. In the above example the content is text, but really I&#39;m looking at anything that is wider, e.g. a table, an image, etc.\r\n\r\nGiven Swing supports only HTML 3.2, I don&#39;t think this might be quite possible. But I may be wrong as I don&#39;t quite get yet if `ViewFactory` / `View` could be helpful there to somewhat install a `JScrollPane`.\r\n\r\nJust in case, I don&#39;t want to put the whole `JEditorPane` in a `JScrollPane`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gil4e.png","title":"JEditorPane with nested div overflowing with a scrollbar","body":"<p>I'm wondering if it's possible to have a <code>JEditorPane</code> that is able to display / render (i.e. not editable) HTML content that has a nested <code>div</code> of fixed size or width, and that contains bigger inner content.</p>\n<p>In particular I'm interested in wider content, that the the JEditorPane has width.\nI.e. I would like this nested <code>div</code> to <em>overflow</em> on the X axis and as such show an horizontal scrollbar on this <code>div</code> only. The rest of the sibling content nodes of that div can be word wrapped.</p>\n<p><a href=\"https://i.stack.imgur.com/gil4e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gil4e.png\" alt=\"example\" /></a></p>\n<p>From the HTML point of view the <code>div</code>, container should have the style <code>overflow-x: auto;</code>. In the above example the content is text, but really I'm looking at anything that is wider, e.g. a table, an image, etc.</p>\n<p>Given Swing supports only HTML 3.2, I don't think this might be quite possible. But I may be wrong as I don't quite get yet if <code>ViewFactory</code> / <code>View</code> could be helpful there to somewhat install a <code>JScrollPane</code>.</p>\n<p>Just in case, I don't want to put the whole <code>JEditorPane</code> in a <code>JScrollPane</code>.</p>\n"},{"tags":["java","android","kotlin","android-arrayadapter"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694332832,"creation_date":1694332832,"answer_id":77075237,"question_id":77075037,"body_markdown":"These two constructors create empty `ArrayAdapter` instances.\r\n\r\n`ArrayAdapter` has methods `add()` and `addAll()` that allow you to add elements to such an empty `ArrayAdapter`.","title":"When are constructors one and two used in the ArrayAdapter?","body":"<p>These two constructors create empty <code>ArrayAdapter</code> instances.</p>\n<p><code>ArrayAdapter</code> has methods <code>add()</code> and <code>addAll()</code> that allow you to add elements to such an empty <code>ArrayAdapter</code>.</p>\n"},{"comments":[{"owner":{"account_id":11222832,"reputation":881,"user_id":8233443,"display_name":"amin"},"score":0,"creation_date":1694337696,"post_id":77075287,"comment_id":135875774,"body_markdown":"thank you. I made an example for myself using the second constructor and using the add() and addAll() method. But about the first constructor, we have not even introduced the TextView in the constructor, I mean that if we want to add data to the adapter later, because the TextView in the Layout is not defined in the constructor, Therefore, the adapter does not know where to put this added data in this Layout.","body":"thank you. I made an example for myself using the second constructor and using the add() and addAll() method. But about the first constructor, we have not even introduced the TextView in the constructor, I mean that if we want to add data to the adapter later, because the TextView in the Layout is not defined in the constructor, Therefore, the adapter does not know where to put this added data in this Layout."},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1694338429,"post_id":77075287,"comment_id":135875845,"body_markdown":"@amin see my edit for a case when text view resource is not provided","body":"@amin see my edit for a case when text view resource is not provided"},{"owner":{"account_id":11222832,"reputation":881,"user_id":8233443,"display_name":"amin"},"score":0,"creation_date":1694355927,"post_id":77075287,"comment_id":135877547,"body_markdown":"I used android prepared layouts like android.R.layout.simple_list_item_1 and I understand it. also I made a layout with only one TextView on it and try first constructor, then I used add() and insert() methods on adapter object, I got it, Thank you.","body":"I used android prepared layouts like android.R.layout.simple_list_item_1 and I understand it. also I made a layout with only one TextView on it and try first constructor, then I used add() and insert() methods on adapter object, I got it, Thank you."}],"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694428274,"creation_date":1694333697,"answer_id":77075287,"question_id":77075037,"body_markdown":"Those two constructors:\r\n\r\n    public ArrayAdapter (Context context, \r\n                    int resource)\r\n    \r\n    \r\n    public ArrayAdapter (Context context, \r\n                    int resource, \r\n                    int textViewResourceId)\r\n\r\n\r\nare used when you want to create an ArrayAdapter but you don&#39;t have the data at the moment of its creation. You can add data later on using methods like add(), insert(), etc. They actually internally call other constructors with empty collection as parameter:\r\n\r\n    public ArrayAdapter(@NonNull Context context, @LayoutRes int resource) {\r\n        this(context, resource, 0, new ArrayList&lt;&gt;());\r\n    }\r\n\r\n    public ArrayAdapter(@NonNull Context context, @LayoutRes int resource,\r\n            @IdRes int textViewResourceId) {\r\n        this(context, resource, textViewResourceId, new ArrayList&lt;&gt;());\r\n    }\r\n\r\nAs for example, you might want to create an ArrayAdapter for a ListView in your activity&#39;s onCreate() method, but the data to populate the ListView is fetched later from a network request. In this case, you can use the first or second constructor to create the ArrayAdapter and then add data to it once your network request is complete.\r\n\r\nSome useful links:\r\n\r\nhttps://developer.android.com/develop/ui/views/layout/declaring-layout#AdapterViews\r\n\r\nhttps://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/core/java/android/widget/ArrayAdapter.javae\r\n\r\n[edit]\r\nIf the first constructor is used, then text view resource will be 0, from the source code (link above) you can learn that in this case the whole resource is considered a TextView:\r\n\r\n        if (mFieldId == 0) {\r\n                //  If no custom field is assigned, assume the whole resource is a TextView\r\n                text = (TextView) view;\r\n            } else {","title":"When are constructors one and two used in the ArrayAdapter?","body":"<p>Those two constructors:</p>\n<pre><code>public ArrayAdapter (Context context, \n                int resource)\n\n\npublic ArrayAdapter (Context context, \n                int resource, \n                int textViewResourceId)\n</code></pre>\n<p>are used when you want to create an ArrayAdapter but you don't have the data at the moment of its creation. You can add data later on using methods like add(), insert(), etc. They actually internally call other constructors with empty collection as parameter:</p>\n<pre><code>public ArrayAdapter(@NonNull Context context, @LayoutRes int resource) {\n    this(context, resource, 0, new ArrayList&lt;&gt;());\n}\n\npublic ArrayAdapter(@NonNull Context context, @LayoutRes int resource,\n        @IdRes int textViewResourceId) {\n    this(context, resource, textViewResourceId, new ArrayList&lt;&gt;());\n}\n</code></pre>\n<p>As for example, you might want to create an ArrayAdapter for a ListView in your activity's onCreate() method, but the data to populate the ListView is fetched later from a network request. In this case, you can use the first or second constructor to create the ArrayAdapter and then add data to it once your network request is complete.</p>\n<p>Some useful links:</p>\n<p><a href=\"https://developer.android.com/develop/ui/views/layout/declaring-layout#AdapterViews\" rel=\"nofollow noreferrer\">https://developer.android.com/develop/ui/views/layout/declaring-layout#AdapterViews</a></p>\n<p><a href=\"https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/core/java/android/widget/ArrayAdapter.javae\" rel=\"nofollow noreferrer\">https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/core/java/android/widget/ArrayAdapter.javae</a></p>\n<p>[edit]\nIf the first constructor is used, then text view resource will be 0, from the source code (link above) you can learn that in this case the whole resource is considered a TextView:</p>\n<pre><code>    if (mFieldId == 0) {\n            //  If no custom field is assigned, assume the whole resource is a TextView\n            text = (TextView) view;\n        } else {\n</code></pre>\n"}],"owner":{"account_id":11222832,"reputation":881,"user_id":8233443,"display_name":"amin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77075287,"answer_count":2,"score":0,"last_activity_date":1694428274,"creation_date":1694327783,"question_id":77075037,"body_markdown":"ArrayAapter Class have some constructors:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CcBc3.png\r\n\r\nWhen are constructors one and two used? Because we don&#39;t have data structure like input array or list at all in these constructors. If possible, explain with an example. Thank you","title":"When are constructors one and two used in the ArrayAdapter?","body":"<p>ArrayAapter Class have some constructors:\n<a href=\"https://i.stack.imgur.com/CcBc3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CcBc3.png\" alt=\"enter image description here\" /></a></p>\n<p>When are constructors one and two used? Because we don't have data structure like input array or list at all in these constructors. If possible, explain with an example. Thank you</p>\n"},{"tags":["java","mysql","spring","spring-boot","jdbc"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":2,"creation_date":1694426448,"post_id":77080649,"comment_id":135884846,"body_markdown":"can you share the maven `pom.xml` file or gradle build file","body":"can you share the maven <code>pom.xml</code> file or gradle build file"},{"owner":{"account_id":16857411,"reputation":93,"user_id":12189042,"display_name":"Morty"},"score":0,"creation_date":1694426831,"post_id":77080649,"comment_id":135884909,"body_markdown":"What Build System are u using? Maven or Gradle?","body":"What Build System are u using? Maven or Gradle?"},{"owner":{"account_id":18881004,"reputation":65,"user_id":13773406,"display_name":"Joe"},"score":0,"creation_date":1694427572,"post_id":77080649,"comment_id":135885022,"body_markdown":"I am using Maven @Morty","body":"I am using Maven @Morty"},{"owner":{"account_id":18881004,"reputation":65,"user_id":13773406,"display_name":"Joe"},"score":0,"creation_date":1694427596,"post_id":77080649,"comment_id":135885026,"body_markdown":"@AndreiLisa I have updated it in the description","body":"@AndreiLisa I have updated it in the description"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1694428257,"post_id":77080649,"comment_id":135885104,"body_markdown":"Why you dont use a starter to do connection with database instead of do it manually? I mean something like `spring-boot-data-jpa` or `spring-boot-jdbc`  it is more easy and increase development experience, great technologies for great peoples","body":"Why you dont use a starter to do connection with database instead of do it manually? I mean something like <code>spring-boot-data-jpa</code> or <code>spring-boot-jdbc</code>  it is more easy and increase development experience, great technologies for great peoples"},{"owner":{"account_id":18881004,"reputation":65,"user_id":13773406,"display_name":"Joe"},"score":0,"creation_date":1694428829,"post_id":77080649,"comment_id":135885200,"body_markdown":"@AndreiLisa I just started at a new company, and they&#39;re using these database connection technologies manually in a big project. It&#39;s working on other developers&#39; end, but not on mine. I&#39;ve been asked to fix this using the same implementation, and it&#39;s been one day with no progress.","body":"@AndreiLisa I just started at a new company, and they&#39;re using these database connection technologies manually in a big project. It&#39;s working on other developers&#39; end, but not on mine. I&#39;ve been asked to fix this using the same implementation, and it&#39;s been one day with no progress."},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1694429447,"post_id":77080649,"comment_id":135885290,"body_markdown":"ok, sure i am going to check and i will give a answer","body":"ok, sure i am going to check and i will give a answer"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1694429658,"post_id":77080649,"comment_id":135885318,"body_markdown":"How are you running the program?","body":"How are you running the program?"},{"owner":{"account_id":18881004,"reputation":65,"user_id":13773406,"display_name":"Joe"},"score":0,"creation_date":1694429771,"post_id":77080649,"comment_id":135885340,"body_markdown":"@tgdavies I&#39;m using intellij idea","body":"@tgdavies I&#39;m using intellij idea"},{"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1694442326,"post_id":77080649,"comment_id":135887886,"body_markdown":"Can we have the full error, please.","body":"Can we have the full error, please."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1694446600,"post_id":77080649,"comment_id":135888773,"body_markdown":"By the way, your linked Maven repo page note that the artifact has moved to: https://mvnrepository.com/artifact/com.mysql/mysql-connector-j","body":"By the way, your linked Maven repo page note that the artifact has moved to: <a href=\"https://mvnrepository.com/artifact/com.mysql/mysql-connector-j\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.mysql/mysql-connector-j</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1694446743,"post_id":77080649,"comment_id":135888804,"body_markdown":"By the way, [the documentation](https://dev.mysql.com/doc/connector-j/8.1/en/) for Connector/J strongly recommends moving from version 8.0.x to 8.1.x for use with MySQL Server version 5.7, 8.0, and 8.1.","body":"By the way, <a href=\"https://dev.mysql.com/doc/connector-j/8.1/en/\" rel=\"nofollow noreferrer\">the documentation</a> for Connector/J strongly recommends moving from version 8.0.x to 8.1.x for use with MySQL Server version 5.7, 8.0, and 8.1."},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1694448197,"post_id":77080649,"comment_id":135889092,"body_markdown":"I am sure that you don&#39;t have my sql driver on classpath, answers from this question can help you [-error-package-com-mysql-does-not-exist](https://stackoverflow.com/questions/6641076/how-to-fix-the-error-package-com-mysql-does-not-exist)","body":"I am sure that you don&#39;t have my sql driver on classpath, answers from this question can help you <a href=\"https://stackoverflow.com/questions/6641076/how-to-fix-the-error-package-com-mysql-does-not-exist\">-error-package-com-mysql-does-not-exist</a>"},{"owner":{"account_id":18881004,"reputation":65,"user_id":13773406,"display_name":"Joe"},"score":0,"creation_date":1694579828,"post_id":77080649,"comment_id":135908176,"body_markdown":"@AndreiLisa can you please share a link or resource where class path is being set ? I tried doing it but didn&#39;t find any help","body":"@AndreiLisa can you please share a link or resource where class path is being set ? I tried doing it but didn&#39;t find any help"}],"owner":{"account_id":18881004,"reputation":65,"user_id":13773406,"display_name":"Joe"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1694427528,"creation_date":1694426386,"question_id":77080649,"body_markdown":"I&#39;m very new to development, and I&#39;m attempting to run an old project on my local machine. However, when I try to run it, I encounter the error message: &quot;java: package com.mysql.cj.jdbc does not exist.&quot; I have configured Java 1.8 in the Project Structure settings, as well as in the Edit Configuration, since it was the version used by the previous developer. Any guidance or assistance on this issue would be greatly appreciated.\r\n\r\n    package com.kv.pg.instanceManager;\r\n\r\n    import java.sql.Connection;\r\n    import java.util.Properties;\r\n\r\n    import javax.naming.Context;\r\n    import javax.naming.InitialContext;\r\n    import javax.sql.DataSource;\r\n\r\n    import org.apache.commons.dbutils.DbUtils;\r\n    import org.apache.log4j.Logger;\r\n    import org.springframework.context.annotation.Bean;\r\n\r\n    import com.kv.pg.commons.helper.PropertiesLoader;\r\n    import com.mysql.cj.jdbc.MysqlConnectionPoolDataSource;\r\n\r\n    public class DBManager{\r\n\r\n\tprivate static volatile DBManager INSTANCE = null;\r\n\r\n\tprivate static Logger logger = Logger.getLogger(DBManager.class);\r\n\r\n\tprivate DBManager()\r\n\t{\r\n\t\tsetUpDataSourceInContext();\r\n\t}\r\n\r\n\tpublic static DBManager getInstance()\r\n\t{\r\n\t\tif (INSTANCE == null)\r\n\t\t{\r\n\t\t\tsynchronized (DBManager.class)\r\n\t\t\t{\r\n\t\t\t\tif (INSTANCE == null)\r\n\t\t\t\t{\r\n\t\t\t\t\tINSTANCE = new DBManager();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn INSTANCE;\r\n\t}\r\n\r\n\tpublic DataSource getDataSource()\r\n\t{\r\n\t\tDataSource dataSource = null;\r\n\r\n\t\ttry\r\n\t\t{\r\n\t\t\tInitialContext iniCtx = new InitialContext();\r\n\t\t\tContext envCtx = (Context) iniCtx.lookup(&quot;java:comp/env/&quot;);\r\n\t\t\tObject obj = envCtx.lookup(&quot;jdbc/PGIMDB&quot;);\r\n\t\t\tif (obj != null)\r\n\t\t\t{\r\n\t\t\t\tdataSource = (DataSource) obj;\r\n\t\t\t}\r\n\t\t\tif (dataSource == null)\r\n\t\t\t{\r\n\t\t\t\tthrow new Exception(&quot;Unable to find data source, please check database configurations.&quot;);\r\n\t\t\t}\r\n\t\t} catch (Exception exp)\r\n\t\t{\r\n\t\t\tlogger.error(&quot;Error Getting Data Source&quot; + exp.getMessage(), exp);\r\n\t\t\tdataSource = null;\r\n\t\t}\r\n\t\treturn dataSource;\r\n\t}\r\n\r\n\tpublic Connection getConnection()\r\n\t{\r\n\t\tConnection conn = null;\r\n\t\ttry\r\n\t\t{\r\n\t\t\tDataSource dataSource = getDataSource();\r\n\t\t\tif (dataSource != null)\r\n\t\t\t{\r\n\t\t\t\tconn = dataSource.getConnection();\r\n\t\t\t}\r\n\t\t} catch (Exception exp)\r\n\t\t{\r\n\t\t\tlogger.error(&quot;Error Getting Connection&quot; + exp.getMessage(), exp);\r\n\t\t\t// throw exp;\r\n\t\t\tconn = null;\r\n\t\t}\r\n\t\treturn conn;\r\n\t}\r\n\r\n\t/*\r\n\t * public void close() { // DbUtils.closeQuietly(conn, stmt, rs); }\r\n\t */\r\n\r\n\t@Bean\r\n\tprivate DataSource getMySQLDataSource()\r\n\t{\r\n\t\tProperties props = null;\r\n\r\n\t\tMysqlConnectionPoolDataSource ds = null;\r\n\t\ttry\r\n\t\t{\r\n\t\t\tlogger.info(&quot;DataSourceFactory Try loading Database Properties&quot;);\r\n\r\n\t\t\tprops = PropertiesLoader.load(&quot;im.db.properties&quot;);\r\n\r\n\t\t\tlogger.debug(&quot;Properties Loaded::&quot; + props);\r\n\t\t\tds = new MysqlConnectionPoolDataSource();\r\n\t\t\tds.setURL(props.getProperty(&quot;MYSQL_DB_URL&quot;));\r\n\t\t\tds.setUser(props.getProperty(&quot;MYSQL_DB_USERNAME&quot;));\r\n\t\t\tds.setPassword(props.getProperty(&quot;MYSQL_DB_PASSWORD&quot;));\r\n\r\n\t\t} catch (Exception exp)\r\n\t\t{\r\n\t\t\tlogger.error(&quot;Error Creating DataSource&quot; + exp.getMessage(), exp);\r\n\t\t\tthrow exp;\r\n\t\t}\r\n\t\treturn ds;\r\n\t}\r\n\r\n\tprivate void setUpDataSourceInContext()\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tSystem.setProperty(Context.INITIAL_CONTEXT_FACTORY, &quot;org.apache.naming.java.javaURLContextFactory&quot;);\r\n\t\t\tSystem.setProperty(Context.URL_PKG_PREFIXES, &quot;org.apache.naming&quot;);\r\n\t\t\tInitialContext ic = new InitialContext();\r\n\t\t\tic.createSubcontext(&quot;java:&quot;);\r\n\t\t\tic.createSubcontext(&quot;java:comp&quot;);\r\n\t\t\tic.createSubcontext(&quot;java:comp/env&quot;);\r\n\t\t\tic.createSubcontext(&quot;java:comp/env/jdbc&quot;);\r\n\r\n\t\t\tic.bind(&quot;java:comp/env/jdbc/PGIMDB&quot;, this.getMySQLDataSource());\r\n\t\t} catch (Exception exp)\r\n\t\t{\r\n\t\t\tlogger.error(&quot;Error Binding DataSource To context&quot; + exp.getMessage(), exp);\r\n\t\t\t// throw exp;\r\n\t\t}\r\n\t}\r\n\r\nPom.xml:\r\n\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.33&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"java: package com.mysql.cj.jdbc does not exist Spring Boot Java","body":"<p>I'm very new to development, and I'm attempting to run an old project on my local machine. However, when I try to run it, I encounter the error message: &quot;java: package com.mysql.cj.jdbc does not exist.&quot; I have configured Java 1.8 in the Project Structure settings, as well as in the Edit Configuration, since it was the version used by the previous developer. Any guidance or assistance on this issue would be greatly appreciated.</p>\n<pre><code>package com.kv.pg.instanceManager;\n\nimport java.sql.Connection;\nimport java.util.Properties;\n\nimport javax.naming.Context;\nimport javax.naming.InitialContext;\nimport javax.sql.DataSource;\n\nimport org.apache.commons.dbutils.DbUtils;\nimport org.apache.log4j.Logger;\nimport org.springframework.context.annotation.Bean;\n\nimport com.kv.pg.commons.helper.PropertiesLoader;\nimport com.mysql.cj.jdbc.MysqlConnectionPoolDataSource;\n\npublic class DBManager{\n\nprivate static volatile DBManager INSTANCE = null;\n\nprivate static Logger logger = Logger.getLogger(DBManager.class);\n\nprivate DBManager()\n{\n    setUpDataSourceInContext();\n}\n\npublic static DBManager getInstance()\n{\n    if (INSTANCE == null)\n    {\n        synchronized (DBManager.class)\n        {\n            if (INSTANCE == null)\n            {\n                INSTANCE = new DBManager();\n            }\n        }\n    }\n    return INSTANCE;\n}\n\npublic DataSource getDataSource()\n{\n    DataSource dataSource = null;\n\n    try\n    {\n        InitialContext iniCtx = new InitialContext();\n        Context envCtx = (Context) iniCtx.lookup(&quot;java:comp/env/&quot;);\n        Object obj = envCtx.lookup(&quot;jdbc/PGIMDB&quot;);\n        if (obj != null)\n        {\n            dataSource = (DataSource) obj;\n        }\n        if (dataSource == null)\n        {\n            throw new Exception(&quot;Unable to find data source, please check database configurations.&quot;);\n        }\n    } catch (Exception exp)\n    {\n        logger.error(&quot;Error Getting Data Source&quot; + exp.getMessage(), exp);\n        dataSource = null;\n    }\n    return dataSource;\n}\n\npublic Connection getConnection()\n{\n    Connection conn = null;\n    try\n    {\n        DataSource dataSource = getDataSource();\n        if (dataSource != null)\n        {\n            conn = dataSource.getConnection();\n        }\n    } catch (Exception exp)\n    {\n        logger.error(&quot;Error Getting Connection&quot; + exp.getMessage(), exp);\n        // throw exp;\n        conn = null;\n    }\n    return conn;\n}\n\n/*\n * public void close() { // DbUtils.closeQuietly(conn, stmt, rs); }\n */\n\n@Bean\nprivate DataSource getMySQLDataSource()\n{\n    Properties props = null;\n\n    MysqlConnectionPoolDataSource ds = null;\n    try\n    {\n        logger.info(&quot;DataSourceFactory Try loading Database Properties&quot;);\n\n        props = PropertiesLoader.load(&quot;im.db.properties&quot;);\n\n        logger.debug(&quot;Properties Loaded::&quot; + props);\n        ds = new MysqlConnectionPoolDataSource();\n        ds.setURL(props.getProperty(&quot;MYSQL_DB_URL&quot;));\n        ds.setUser(props.getProperty(&quot;MYSQL_DB_USERNAME&quot;));\n        ds.setPassword(props.getProperty(&quot;MYSQL_DB_PASSWORD&quot;));\n\n    } catch (Exception exp)\n    {\n        logger.error(&quot;Error Creating DataSource&quot; + exp.getMessage(), exp);\n        throw exp;\n    }\n    return ds;\n}\n\nprivate void setUpDataSourceInContext()\n{\n    try\n    {\n        System.setProperty(Context.INITIAL_CONTEXT_FACTORY, &quot;org.apache.naming.java.javaURLContextFactory&quot;);\n        System.setProperty(Context.URL_PKG_PREFIXES, &quot;org.apache.naming&quot;);\n        InitialContext ic = new InitialContext();\n        ic.createSubcontext(&quot;java:&quot;);\n        ic.createSubcontext(&quot;java:comp&quot;);\n        ic.createSubcontext(&quot;java:comp/env&quot;);\n        ic.createSubcontext(&quot;java:comp/env/jdbc&quot;);\n\n        ic.bind(&quot;java:comp/env/jdbc/PGIMDB&quot;, this.getMySQLDataSource());\n    } catch (Exception exp)\n    {\n        logger.error(&quot;Error Binding DataSource To context&quot; + exp.getMessage(), exp);\n        // throw exp;\n    }\n}\n</code></pre>\n<p>Pom.xml:</p>\n<pre><code>        &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n        &lt;version&gt;8.0.33&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","arrays","inheritance","compiler-errors","abstract-class"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":1,"creation_date":1694424011,"post_id":77080344,"comment_id":135884352,"body_markdown":"Those methods only exists in the inheriting classes. You need to cast to your implementations or make a abstract method in th super class","body":"Those methods only exists in the inheriting classes. You need to cast to your implementations or make a abstract method in th super class"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1694424203,"post_id":77080344,"comment_id":135884390,"body_markdown":"You define your array as `Animal[]`, so for the compiler it only contains elements of type Animal. `bark`, `roar`, or `meow` methods are not defined by `Animal` (only in its child classes)","body":"You define your array as <code>Animal[]</code>, so for the compiler it only contains elements of type Animal. <code>bark</code>, <code>roar</code>, or <code>meow</code> methods are not defined by <code>Animal</code> (only in its child classes)"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1694424577,"post_id":77080344,"comment_id":135884468,"body_markdown":"In particular, how would you *expect* this to work? Would you expect `a[2].roar()` to compile, but `a[1].roar()` to cause a compilation failure? It&#39;s unrealistic to expect the compiler to &quot;know&quot;  more type information about what&#39;s in individual array elements than the array declaration provides.","body":"In particular, how would you <i>expect</i> this to work? Would you expect <code>a[2].roar()</code> to compile, but <code>a[1].roar()</code> to cause a compilation failure? It&#39;s unrealistic to expect the compiler to &quot;know&quot;  more type information about what&#39;s in individual array elements than the array declaration provides."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1694424622,"post_id":77080344,"comment_id":135884482,"body_markdown":"Not that you need an array to demonstrate this: `Animal lion = new Lion(); lion.roar();` will show exactly the same error.","body":"Not that you need an array to demonstrate this: <code>Animal lion = new Lion(); lion.roar();</code> will show exactly the same error."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1694425962,"creation_date":1694424345,"answer_id":77080402,"question_id":77080344,"body_markdown":"The elements of `a` are references to `Animal`. I.e., while they may hold objects of any subclass of `Animal`, in compile-time the compiler is not aware of the exact instance that may happen to be at a specific index, so you&#39;re only allowed to use methods that exist in the `Animal` class.\r\n\r\nIf you&#39;re sure you know what instance is at a specific index (e.g., because you placed it there), you can explicitly downcast it and use the methods of that instance, e.g.:\r\n\r\n```java\r\na[0] = new Dog();\r\n((Dog)(a[0])).bark();\r\n```\r\n\r\nHaving said that, a more idiomatic approach would be to move the declaration to a method in the abstract class:\r\n\r\n```java\r\nabstract class Animal{\r\n    String name, breed, color;\r\n    int age;\r\n\r\n    abstract void noise();\r\n}\r\n\r\nclass Dog extends Animal{\r\n    void bark(){\r\n        System.out.println(&quot;Dog:-\\nwoof-woof!!!&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void noise() {\r\n        bark();\r\n    }\r\n}\r\nclass Cat extends Animal{\r\n    void meow(){\r\n        System.out.println(&quot;Cat-\\nmeowww!&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void noise() {\r\n        meow();\r\n    }\r\n}\r\nclass Lion extends Animal{\r\n    void roar(){\r\n        System.out.println(&quot;Lion:-\\nGgrrrrr!!&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void noise() {\r\n        roar();\r\n    }\r\n}\r\n\r\nclass AnimalMain{\r\n    public static void main(String args[]){\r\n        Animal arr[]= new Animal[3];\r\n        arr[0]=new Dog();\r\n        arr[1]=new Cat();\r\n        arr[2]=new Lion();\r\n\r\n        for (Animal a : arr) {\r\n            a.noise();\r\n        }\r\n    }\r\n}\r\n```","title":"Problem in instantiating an array of references to an abstract class","body":"<p>The elements of <code>a</code> are references to <code>Animal</code>. I.e., while they may hold objects of any subclass of <code>Animal</code>, in compile-time the compiler is not aware of the exact instance that may happen to be at a specific index, so you're only allowed to use methods that exist in the <code>Animal</code> class.</p>\n<p>If you're sure you know what instance is at a specific index (e.g., because you placed it there), you can explicitly downcast it and use the methods of that instance, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>a[0] = new Dog();\n((Dog)(a[0])).bark();\n</code></pre>\n<p>Having said that, a more idiomatic approach would be to move the declaration to a method in the abstract class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class Animal{\n    String name, breed, color;\n    int age;\n\n    abstract void noise();\n}\n\nclass Dog extends Animal{\n    void bark(){\n        System.out.println(&quot;Dog:-\\nwoof-woof!!!&quot;);\n    }\n\n    @Override\n    public void noise() {\n        bark();\n    }\n}\nclass Cat extends Animal{\n    void meow(){\n        System.out.println(&quot;Cat-\\nmeowww!&quot;);\n    }\n\n    @Override\n    public void noise() {\n        meow();\n    }\n}\nclass Lion extends Animal{\n    void roar(){\n        System.out.println(&quot;Lion:-\\nGgrrrrr!!&quot;);\n    }\n\n    @Override\n    public void noise() {\n        roar();\n    }\n}\n\nclass AnimalMain{\n    public static void main(String args[]){\n        Animal arr[]= new Animal[3];\n        arr[0]=new Dog();\n        arr[1]=new Cat();\n        arr[2]=new Lion();\n\n        for (Animal a : arr) {\n            a.noise();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694427237,"creation_date":1694427237,"answer_id":77080749,"question_id":77080344,"body_markdown":"The reason for your error is that the methods bark(), meow(), and roar() are not defined in the parent class Animal, but you are trying to call them on an array of Animal objects. \r\n\r\nError message gives you a hint about it:\r\n\r\n    source_file.java:97: error: cannot find symbol\r\n    \r\n        a[0].bark();\r\n    \r\n            ^\r\n    \r\n      symbol:   method bark()\r\n    \r\n      location: class Animal\r\n\r\n\r\nYou can read it as follows: You try to call method `bark()` on a reference `a[0]`, the not found symbol (method) is `bark()` and the location (type of reference) is `class Animal`. You should look into class `Animal` to check for not found symbol `bark()`. In your code You will not find it there.\r\n\r\nYou can only call methods that are part of the objects declared type, not its actual type. To solve this, you can either define these methods in the parent class (as abstract methods if you don&#39;t want to provide a default implementation), or you can use downcasting to call these methods. Downcasting is when you cast an object of a superclass to a subclass, this allow you to call subclass specific methods.\r\n\r\nHere is an example of how you can use downcasting:\r\n\r\n    ((Dog) a[0]).bark();\r\n    ((Cat) a[1]).meow();\r\n    ((Lion) a[2]).roar();\r\n\r\n","title":"Problem in instantiating an array of references to an abstract class","body":"<p>The reason for your error is that the methods bark(), meow(), and roar() are not defined in the parent class Animal, but you are trying to call them on an array of Animal objects.</p>\n<p>Error message gives you a hint about it:</p>\n<pre><code>source_file.java:97: error: cannot find symbol\n\n    a[0].bark();\n\n        ^\n\n  symbol:   method bark()\n\n  location: class Animal\n</code></pre>\n<p>You can read it as follows: You try to call method <code>bark()</code> on a reference <code>a[0]</code>, the not found symbol (method) is <code>bark()</code> and the location (type of reference) is <code>class Animal</code>. You should look into class <code>Animal</code> to check for not found symbol <code>bark()</code>. In your code You will not find it there.</p>\n<p>You can only call methods that are part of the objects declared type, not its actual type. To solve this, you can either define these methods in the parent class (as abstract methods if you don't want to provide a default implementation), or you can use downcasting to call these methods. Downcasting is when you cast an object of a superclass to a subclass, this allow you to call subclass specific methods.</p>\n<p>Here is an example of how you can use downcasting:</p>\n<pre><code>((Dog) a[0]).bark();\n((Cat) a[1]).meow();\n((Lion) a[2]).roar();\n</code></pre>\n"}],"owner":{"account_id":29413107,"reputation":11,"user_id":22536533,"display_name":"Vithyaathar Bose"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1694427237,"creation_date":1694423798,"question_id":77080344,"body_markdown":"I have a program with an `abstract` parent class `Animal`, and three subclasses extended from it.\r\n\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\nabstract class Animal{\r\n\tString name, breed, color;\r\n\tint age;\r\n}\r\n\r\nclass Dog extends Animal{\r\n\tvoid bark(){\r\n\t\tSystem.out.println(&quot;Dog:-\\nwoof-woof!!!&quot;);\r\n\t}\r\n}\r\nclass Cat extends Animal{\r\n\tvoid meow(){\r\n\t\tSystem.out.println(&quot;Cat-\\nmeowww!&quot;);\r\n\t}\r\n}\r\nclass Lion extends Animal{\r\n\tvoid roar(){\r\n\t\tSystem.out.println(&quot;Lion:-\\nGgrrrrr!!&quot;);\r\n\t}\r\n}\r\n\r\nclass AnimalMain{\r\n\tpublic static void main(String args[]){\r\n\t\tAnimal a[]= new Animal[3];\r\n\t\ta[0]=new Dog();\r\n\t\ta[1]=new Cat();\r\n\t\ta[2]=new Lion();\r\n\t\ta[0].bark();\r\n\t\ta[1].meow();\r\n\t\ta[2].roar();\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nHowever, I get an error saying the methods `bark()`, `meow()` and `roar()` are not found. i.e:\r\n\r\n```\r\nsource_file.java:97: error: cannot find symbol\r\n\r\n    a[0].bark();\r\n\r\n        ^\r\n\r\n  symbol:   method bark()\r\n\r\n  location: class Animal\r\n\r\nsource_file.java:98: error: cannot find symbol\r\n\r\n    a[1].meow();\r\n\r\n        ^\r\n\r\n  symbol:   method meow()\r\n\r\n  location: class Animal\r\n\r\nsource_file.java:99: error: cannot find symbol\r\n\r\n    a[2].roar();\r\n\r\n        ^\r\n\r\n  symbol:   method roar()\r\n\r\n  location: class Animal\r\n\r\n3 errors\r\n```\r\n\r\nIt seems the objects are still of type `Animal` somehow. How is this possible and how to solve it?","title":"Problem in instantiating an array of references to an abstract class","body":"<p>I have a program with an <code>abstract</code> parent class <code>Animal</code>, and three subclasses extended from it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\nabstract class Animal{\n    String name, breed, color;\n    int age;\n}\n\nclass Dog extends Animal{\n    void bark(){\n        System.out.println(&quot;Dog:-\\nwoof-woof!!!&quot;);\n    }\n}\nclass Cat extends Animal{\n    void meow(){\n        System.out.println(&quot;Cat-\\nmeowww!&quot;);\n    }\n}\nclass Lion extends Animal{\n    void roar(){\n        System.out.println(&quot;Lion:-\\nGgrrrrr!!&quot;);\n    }\n}\n\nclass AnimalMain{\n    public static void main(String args[]){\n        Animal a[]= new Animal[3];\n        a[0]=new Dog();\n        a[1]=new Cat();\n        a[2]=new Lion();\n        a[0].bark();\n        a[1].meow();\n        a[2].roar();\n    }\n}\n</code></pre>\n<p>However, I get an error saying the methods <code>bark()</code>, <code>meow()</code> and <code>roar()</code> are not found. i.e:</p>\n<pre><code>source_file.java:97: error: cannot find symbol\n\n    a[0].bark();\n\n        ^\n\n  symbol:   method bark()\n\n  location: class Animal\n\nsource_file.java:98: error: cannot find symbol\n\n    a[1].meow();\n\n        ^\n\n  symbol:   method meow()\n\n  location: class Animal\n\nsource_file.java:99: error: cannot find symbol\n\n    a[2].roar();\n\n        ^\n\n  symbol:   method roar()\n\n  location: class Animal\n\n3 errors\n</code></pre>\n<p>It seems the objects are still of type <code>Animal</code> somehow. How is this possible and how to solve it?</p>\n"},{"tags":["java"],"owner":{"account_id":29413568,"reputation":1,"user_id":22536920,"display_name":"Muhammad Irfan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694431087,"answer_count":0,"score":0,"last_activity_date":1694426981,"creation_date":1694426981,"question_id":77080712,"body_markdown":"Issue coming in Java selenium environment in eclipse, otherwise simple java program is running fine in eclipse but when I config Selenium Java Environment in eclipse shows me this error. How we can resolve?\r\n\r\n[enter image description here](https://i.stack.imgur.com/PW9ZF.png)\r\n\r\nI am trying to resolve this issue for past 3-4 days.\r\n","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError&quot; Selenium Java","body":"<p>Issue coming in Java selenium environment in eclipse, otherwise simple java program is running fine in eclipse but when I config Selenium Java Environment in eclipse shows me this error. How we can resolve?</p>\n<p><a href=\"https://i.stack.imgur.com/PW9ZF.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I am trying to resolve this issue for past 3-4 days.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9942,"page":192,"page_size":100}
