{"items":[{"tags":["java","android","xml","android-toolbar","android-menu"],"comments":[{"owner":{"account_id":5072615,"reputation":2107,"user_id":4070971,"accept_rate":55,"display_name":"Chol"},"score":4,"creation_date":1456481660,"post_id":35648913,"comment_id":58978052,"body_markdown":"You can check here : http://stackoverflow.com/questions/31231609/creating-a-button-in-android-toolbar","body":"You can check here : <a href=\"http://stackoverflow.com/questions/31231609/creating-a-button-in-android-toolbar\" title=\"creating a button in android toolbar\">stackoverflow.com/questions/31231609/&hellip;</a>"},{"owner":{"account_id":5072615,"reputation":2107,"user_id":4070971,"accept_rate":55,"display_name":"Chol"},"score":3,"creation_date":1456481830,"post_id":35648913,"comment_id":58978194,"body_markdown":"And better from google : http://developer.android.com/training/appbar/setting-up.html","body":"And better from google : <a href=\"http://developer.android.com/training/appbar/setting-up.html\" rel=\"nofollow noreferrer\">developer.android.com/training/appbar/setting-up.html</a>"},{"owner":{"account_id":4853581,"reputation":572,"user_id":3915258,"display_name":"skryshtafovych"},"score":2,"creation_date":1521839760,"post_id":35648913,"comment_id":85919729,"body_markdown":"This is what i was missing         toolbar.inflateMenu(R.menu.main_manu);","body":"This is what i was missing         toolbar.inflateMenu(R.menu.main_manu);"},{"owner":{"account_id":212305,"reputation":24681,"user_id":465053,"accept_rate":83,"display_name":"RBT"},"score":1,"creation_date":1533772304,"post_id":35648913,"comment_id":90473635,"body_markdown":"Related post - [How to add buttons like refresh and search in ToolBar in Android?](https://stackoverflow.com/q/26778701/465053)","body":"Related post - <a href=\"https://stackoverflow.com/q/26778701/465053\">How to add buttons like refresh and search in ToolBar in Android?</a>"},{"owner":{"account_id":413639,"reputation":2040,"user_id":787399,"accept_rate":62,"display_name":"Abhinav Saxena"},"score":0,"creation_date":1549975004,"post_id":35648913,"comment_id":96091684,"body_markdown":"Try to create a new application using `Android Studio` and check it out. `ToolBar&#39; should not be an independent entity.","body":"Try to create a new application using <code>Android Studio</code> and check it out. `ToolBar&#39; should not be an independent entity."}],"answers":[{"tags":[],"owner":{"account_id":3774905,"reputation":4331,"user_id":3135983,"display_name":"Keyur Lakhani"},"comment_count":0,"down_vote_count":3,"up_vote_count":190,"is_accepted":true,"score":187,"last_activity_date":1456481807,"creation_date":1456481807,"answer_id":35649007,"question_id":35648913,"body_markdown":"just override **onCreateOptionsMenu** like this in your MainPage.java\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        // Inflate the menu; this adds items to the action bar if it is present.\r\n        getMenuInflater().inflate(R.menu.main_menu, menu);\r\n        return true;\r\n    }\r\n\r\n ","title":"How to set menu to Toolbar in Android","body":"<p>just override <strong>onCreateOptionsMenu</strong> like this in your MainPage.java</p>\n\n<pre><code>@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    // Inflate the menu; this adds items to the action bar if it is present.\n    getMenuInflater().inflate(R.menu.main_menu, menu);\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6941897,"reputation":3971,"user_id":5327912,"accept_rate":33,"display_name":"Parth Anjaria"},"comment_count":0,"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1545923797,"creation_date":1456482418,"answer_id":35649219,"question_id":35648913,"body_markdown":"You need to override this code in your Activity:\r\n\r\n\r\n    @Override\r\n\tpublic boolean onCreateOptionsMenu(Menu menu) {\r\n\t\t// Inflate the menu, this adds items to the action bar if it is present.\r\n\t\tgetMenuInflater().inflate(R.menu.main2, menu);\r\n\t\treturn true;\r\n\t}\r\n\r\nand set your toolbar like this:\r\n\r\n\r\n\r\n    Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\r\n    setSupportActionBar(toolbar);","title":"How to set menu to Toolbar in Android","body":"<p>You need to override this code in your Activity:</p>\n\n<pre><code>@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    // Inflate the menu, this adds items to the action bar if it is present.\n    getMenuInflater().inflate(R.menu.main2, menu);\n    return true;\n}\n</code></pre>\n\n<p>and set your toolbar like this:</p>\n\n<pre><code>Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\nsetSupportActionBar(toolbar);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12463948,"reputation":549,"user_id":9074761,"display_name":"Liliana J"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1514934159,"creation_date":1514934159,"answer_id":48069020,"question_id":35648913,"body_markdown":"Also you need this, to implement some action to every options of menu.\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case R.id.menu_help:\r\n                Toast.makeText(this, &quot;This is teh option help&quot;, Toast.LENGTH_LONG).show();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        return true;\r\n    }\r\n","title":"How to set menu to Toolbar in Android","body":"<p>Also you need this, to implement some action to every options of menu.</p>\n\n<pre><code>@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    switch (item.getItemId()) {\n        case R.id.menu_help:\n            Toast.makeText(this, \"This is teh option help\", Toast.LENGTH_LONG).show();\n            break;\n        default:\n            break;\n    }\n    return true;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":355087,"reputation":1296,"user_id":693829,"accept_rate":75,"display_name":"Richard Rout"},"score":9,"creation_date":1522768295,"post_id":49098384,"comment_id":86274286,"body_markdown":"You answer alarms me, but it doesn&#39;t explain why I shouldn&#39;t use it.","body":"You answer alarms me, but it doesn&#39;t explain why I shouldn&#39;t use it."},{"owner":{"account_id":8661684,"reputation":348,"user_id":6483812,"display_name":"Vinicius Victor"},"score":8,"creation_date":1523507502,"post_id":49098384,"comment_id":86591072,"body_markdown":"You should explain why not to use setSupportActionBar(toolbar) instead of just saying what works for you.","body":"You should explain why not to use setSupportActionBar(toolbar) instead of just saying what works for you."},{"owner":{"account_id":1465562,"reputation":884,"user_id":1378507,"accept_rate":72,"display_name":"Washington A. Ramos"},"score":1,"creation_date":1524092898,"post_id":49098384,"comment_id":86836480,"body_markdown":"This is the only thing that worked for me. I&#39;m using Xamarin.Android with a custom Toolbar.","body":"This is the only thing that worked for me. I&#39;m using Xamarin.Android with a custom Toolbar."},{"owner":{"account_id":5981137,"reputation":17327,"user_id":4700156,"accept_rate":64,"display_name":"Rohit Singh"},"score":1,"creation_date":1549450664,"post_id":49098384,"comment_id":95903799,"body_markdown":"I will read more about it and update the answer @AbhinavSaxena. Good call","body":"I will read more about it and update the answer @AbhinavSaxena. Good call"},{"owner":{"account_id":413639,"reputation":2040,"user_id":787399,"accept_rate":62,"display_name":"Abhinav Saxena"},"score":0,"creation_date":1549971917,"post_id":49098384,"comment_id":96089801,"body_markdown":"Please post the main_activity_layout.xml as well. This works and is an outstanding solution, but you have to complete the answer. Rest I have done in my answer.","body":"Please post the main_activity_layout.xml as well. This works and is an outstanding solution, but you have to complete the answer. Rest I have done in my answer."},{"owner":{"account_id":1291901,"reputation":761,"user_id":1253644,"display_name":"mtrewartha"},"score":2,"creation_date":1553391204,"post_id":49098384,"comment_id":97366859,"body_markdown":"For me, the benefit in this was that I no longer needed to tie my Toolbars to the support ActionBar in my single activity (but many, many fragments) app, which demanded all sorts of annoying hacks to make the app look and behave well.","body":"For me, the benefit in this was that I no longer needed to tie my Toolbars to the support ActionBar in my single activity (but many, many fragments) app, which demanded all sorts of annoying hacks to make the app look and behave well."},{"owner":{"account_id":7274863,"reputation":252,"user_id":5546660,"accept_rate":100,"display_name":"A. Harkous"},"score":0,"creation_date":1560681678,"post_id":49098384,"comment_id":99809650,"body_markdown":"I used this approach to add an extra toolbar below the original fixed one to give extra actions in some situations instead of adding them to the original toolbar.. but still not clear why not to use setSupportActionBar in normal cases?","body":"I used this approach to add an extra toolbar below the original fixed one to give extra actions in some situations instead of adding them to the original toolbar.. but still not clear why not to use setSupportActionBar in normal cases?"},{"owner":{"account_id":2102806,"reputation":747,"user_id":1869957,"accept_rate":75,"display_name":"Dinesh Singh"},"score":0,"creation_date":1579078376,"post_id":49098384,"comment_id":105642638,"body_markdown":"@RohitSingh I guess you might be using setSupportActionBar(toolbar) before calling setContentView. That&#39;s why you were facing this issue. Try setting the toolbar after calling setContentView method. It might work :)","body":"@RohitSingh I guess you might be using setSupportActionBar(toolbar) before calling setContentView. That&#39;s why you were facing this issue. Try setting the toolbar after calling setContentView method. It might work :)"},{"owner":{"account_id":2984923,"reputation":1960,"user_id":2534007,"display_name":"Mohib Irshad"},"score":0,"creation_date":1598039016,"post_id":49098384,"comment_id":112338756,"body_markdown":"You can still use setSupportActionBar(toolbar) while using this answer. Please see my answer on how to do it","body":"You can still use setSupportActionBar(toolbar) while using this answer. Please see my answer on how to do it"},{"owner":{"account_id":10985339,"reputation":384,"user_id":8071252,"display_name":"Ricardo Yubal"},"score":0,"creation_date":1643518279,"post_id":49098384,"comment_id":125359455,"body_markdown":"Pretty misleading answer, especially with that bigger text. `setSupportActionBar` along with Keyur&#39;s answer is working perfectly fine for me.","body":"Pretty misleading answer, especially with that bigger text. <code>setSupportActionBar</code> along with Keyur&#39;s answer is working perfectly fine for me."},{"owner":{"account_id":3884067,"reputation":843,"user_id":3215911,"display_name":"iroiroys"},"score":0,"creation_date":1676866127,"post_id":49098384,"comment_id":133217085,"body_markdown":"In my case, deleting a line `supportActionbar = toolbar` make it out.","body":"In my case, deleting a line <code>supportActionbar = toolbar</code> make it out."},{"owner":{"account_id":3330459,"reputation":517,"user_id":2799526,"display_name":"Szabolcs Becze"},"score":0,"creation_date":1678714494,"post_id":49098384,"comment_id":133581807,"body_markdown":"I would also add that right after the inflate you can access the menu like the follwoing\n\n Menu menu = toolbar.getMenu();\n MenuItem searchItem = menu.findItem(R.id.[your_id]);","body":"I would also add that right after the inflate you can access the menu like the follwoing   Menu menu = toolbar.getMenu();  MenuItem searchItem = menu.findItem(R.id.[your_id]);"}],"tags":[],"owner":{"account_id":5981137,"reputation":17327,"user_id":4700156,"accept_rate":64,"display_name":"Rohit Singh"},"comment_count":12,"down_vote_count":5,"up_vote_count":132,"is_accepted":false,"score":127,"last_activity_date":1639974893,"creation_date":1520185500,"answer_id":49098384,"question_id":35648913,"body_markdown":"## Don&#39;t use `setSupportActionBar(toolbar)`\r\n\r\nI don&#39;t know why but this works for me. \r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    toolbar = (Toolbar) findViewById(R.id.main_toolbar);\r\n    toolbar.setSubtitle(&quot;Test Subtitle&quot;);\r\n    toolbar.inflateMenu(R.menu.main_menu);\r\n\r\nFor menu item click do this:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    toolbar.setOnMenuItemClickListener(new Toolbar.OnMenuItemClickListener() {\r\n        @Override\r\n        public boolean onMenuItemClick(MenuItem item) {\r\n            if (item.getItemId() == R.id.item1) {\r\n                // do something\r\n            } else if (item.getItemId() == R.id.filter) {\r\n                // do something\r\n            } else {\r\n                // do something\r\n            }\r\n\r\n            return false;\r\n        }\r\n    });\r\n\r\nWill update the *why* part of this answer when I find a proper explanation.","title":"How to set menu to Toolbar in Android","body":"<h2>Don't use <code>setSupportActionBar(toolbar)</code></h2>\n<p>I don't know why but this works for me.</p>\n<pre class=\"lang-java prettyprint-override\"><code>toolbar = (Toolbar) findViewById(R.id.main_toolbar);\ntoolbar.setSubtitle(&quot;Test Subtitle&quot;);\ntoolbar.inflateMenu(R.menu.main_menu);\n</code></pre>\n<p>For menu item click do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>toolbar.setOnMenuItemClickListener(new Toolbar.OnMenuItemClickListener() {\n    @Override\n    public boolean onMenuItemClick(MenuItem item) {\n        if (item.getItemId() == R.id.item1) {\n            // do something\n        } else if (item.getItemId() == R.id.filter) {\n            // do something\n        } else {\n            // do something\n        }\n\n        return false;\n    }\n});\n</code></pre>\n<p>Will update the <em>why</em> part of this answer when I find a proper explanation.</p>\n"},{"tags":[],"owner":{"account_id":9280154,"reputation":57862,"user_id":6891563,"accept_rate":75,"display_name":"Khemraj Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1524120002,"creation_date":1524120002,"answer_id":49914315,"question_id":35648913,"body_markdown":"In your activity override this method. \r\n\r\n\r\n       @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            getMenuInflater().inflate(R.menu.main_menu, menu);\r\n            return true;\r\n        }\r\n\r\nThis will inflate your menu below:\r\n   \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n        \r\n            &lt;item\r\n                android:id=&quot;@+id/menu_main_setting&quot;\r\n                android:icon=&quot;@drawable/ic_settings&quot;\r\n                android:orderInCategory=&quot;100&quot;\r\n                app:showAsAction=&quot;always&quot;\r\n                android:actionLayout=&quot;@layout/toolbar&quot;\r\n                android:title=&quot;Setting&quot; /&gt;\r\n        \r\n            &lt;item\r\n                android:id=&quot;@+id/menu_main_setting2&quot;\r\n                android:icon=&quot;@drawable/ic_settings&quot;\r\n                android:orderInCategory=&quot;200&quot;\r\n                app:showAsAction=&quot;always&quot;\r\n                android:actionLayout=&quot;@layout/toolbar&quot;\r\n                android:title=&quot;Setting&quot; /&gt;\r\n        \r\n        &lt;/menu&gt;\r\n\r\n","title":"How to set menu to Toolbar in Android","body":"<p>In your activity override this method. </p>\n\n<pre><code>   @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.main_menu, menu);\n        return true;\n    }\n</code></pre>\n\n<p>This will inflate your menu below:</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n        &lt;item\n            android:id=\"@+id/menu_main_setting\"\n            android:icon=\"@drawable/ic_settings\"\n            android:orderInCategory=\"100\"\n            app:showAsAction=\"always\"\n            android:actionLayout=\"@layout/toolbar\"\n            android:title=\"Setting\" /&gt;\n\n        &lt;item\n            android:id=\"@+id/menu_main_setting2\"\n            android:icon=\"@drawable/ic_settings\"\n            android:orderInCategory=\"200\"\n            app:showAsAction=\"always\"\n            android:actionLayout=\"@layout/toolbar\"\n            android:title=\"Setting\" /&gt;\n\n    &lt;/menu&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2236007,"reputation":2921,"user_id":1972372,"accept_rate":83,"display_name":"Big_Chair"},"score":9,"creation_date":1556631865,"post_id":50225618,"comment_id":98498279,"body_markdown":"Thanks for actually showing all necessary components together, instead of just two code lines.","body":"Thanks for actually showing all necessary components together, instead of just two code lines."}],"tags":[],"owner":{"account_id":4531600,"reputation":491537,"user_id":3681880,"accept_rate":90,"display_name":"Suragch"},"comment_count":1,"down_vote_count":0,"up_vote_count":87,"is_accepted":false,"score":87,"last_activity_date":1593523171,"creation_date":1525752021,"answer_id":50225618,"question_id":35648913,"body_markdown":"Here is a fuller answer as a reference to future visitors. I usually use a [support toolbar][1] but it works just as well either way.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n## 1. Make a menu xml\r\n\r\nThis is going to be in `res/menu/main_menu`.\r\n\r\n- Right click the `res` folder and choose **New &gt; Android Resource File**. \r\n- Type `main_menu` for the File name.\r\n- Choose Menu for the Resource type.\r\n\r\nPaste in the following content as a starter.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/action_add&quot;\r\n            android:icon=&quot;@drawable/ic_add&quot;\r\n            app:showAsAction=&quot;ifRoom&quot;\r\n            android:title=&quot;Add&quot;&gt;\r\n        &lt;/item&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/action_settings&quot;\r\n            app:showAsAction=&quot;never&quot;\r\n            android:title=&quot;Settings&quot;&gt;\r\n        &lt;/item&gt;\r\n    &lt;/menu&gt;\r\n\r\nYou can right click `res` and choose **New image asset** to create the `ic_add` icon.\r\n\r\n## 2. Inflate the menu\r\n\r\nIn your activity add the following method.\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.main_menu, menu);\r\n        return true;\r\n    }\r\n\r\n## 3. Handle menu clicks\r\n\r\nAlso in your Activity, add the following method:\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        // Handle item selection\r\n        switch (item.getItemId()) {\r\n            case R.id.action_add:\r\n                addSomething();\r\n                return true;\r\n            case R.id.action_settings:\r\n                startSettings();\r\n                return true;\r\n            default:\r\n                return super.onOptionsItemSelected(item);\r\n        }\r\n    }\r\n\r\n## Further reading\r\n\r\n- [Android Menu Documentation][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/39302444/3681880\r\n  [2]: https://i.stack.imgur.com/8QDxE.png\r\n  [3]: https://developer.android.com/guide/topics/ui/menus.html","title":"How to set menu to Toolbar in Android","body":"<p>Here is a fuller answer as a reference to future visitors. I usually use a <a href=\"https://stackoverflow.com/a/39302444/3681880\">support toolbar</a> but it works just as well either way.</p>\n<p><a href=\"https://i.stack.imgur.com/8QDxE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/8QDxE.png\" alt=\"enter image description here\" /></a></p>\n<h2>1. Make a menu xml</h2>\n<p>This is going to be in <code>res/menu/main_menu</code>.</p>\n<ul>\n<li>Right click the <code>res</code> folder and choose <strong>New &gt; Android Resource File</strong>.</li>\n<li>Type <code>main_menu</code> for the File name.</li>\n<li>Choose Menu for the Resource type.</li>\n</ul>\n<p>Paste in the following content as a starter.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n    &lt;item\n        android:id=&quot;@+id/action_add&quot;\n        android:icon=&quot;@drawable/ic_add&quot;\n        app:showAsAction=&quot;ifRoom&quot;\n        android:title=&quot;Add&quot;&gt;\n    &lt;/item&gt;\n    &lt;item\n        android:id=&quot;@+id/action_settings&quot;\n        app:showAsAction=&quot;never&quot;\n        android:title=&quot;Settings&quot;&gt;\n    &lt;/item&gt;\n&lt;/menu&gt;\n</code></pre>\n<p>You can right click <code>res</code> and choose <strong>New image asset</strong> to create the <code>ic_add</code> icon.</p>\n<h2>2. Inflate the menu</h2>\n<p>In your activity add the following method.</p>\n<pre><code>@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    getMenuInflater().inflate(R.menu.main_menu, menu);\n    return true;\n}\n</code></pre>\n<h2>3. Handle menu clicks</h2>\n<p>Also in your Activity, add the following method:</p>\n<pre><code>@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    // Handle item selection\n    switch (item.getItemId()) {\n        case R.id.action_add:\n            addSomething();\n            return true;\n        case R.id.action_settings:\n            startSettings();\n            return true;\n        default:\n            return super.onOptionsItemSelected(item);\n    }\n}\n</code></pre>\n<h2>Further reading</h2>\n<ul>\n<li><a href=\"https://developer.android.com/guide/topics/ui/menus.html\" rel=\"noreferrer\">Android Menu Documentation</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":413639,"reputation":2040,"user_id":787399,"accept_rate":62,"display_name":"Abhinav Saxena"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1550833108,"creation_date":1549962283,"answer_id":54646290,"question_id":35648913,"body_markdown":"Although I agree with this answer, as it has fewer lines of code and that it works:\r\n\r\n[How to set menu to Toolbar in Android\r\n][1]\r\n\r\nMy suggestion would be to always start any project using the Android Studio Wizard. In that code you will find some styles:- \r\n\r\n`&lt;style name=&quot;AppTheme.AppBarOverlay&quot; parent=&quot;ThemeOverlay.AppCompat.Dark.ActionBar&quot; /&gt;`\r\n\r\n\r\n`&lt;style name=&quot;AppTheme.PopupOverlay&quot; parent=&quot;ThemeOverlay.AppCompat.Light&quot; /&gt;`\r\n\r\nand usage is:\r\n\r\n    &lt;android.support.design.widget.AppBarLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;\r\n    \r\n    &lt;android.support.v7.widget.Toolbar\r\n    android:id=&quot;@+id/toolbar&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;?attr/actionBarSize&quot;\r\n    android:background=&quot;?attr/colorPrimary&quot;\r\n    app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot; /&gt;\r\n    \r\n    &lt;/android.support.design.widget.AppBarLayout&gt; \r\n\r\n**Due to `no action bar theme` declared in `styles.xml`, that is applied to the `Main Activity`in the `AndroidManifest.xml`, there are no  exceptions, so you have to check it there.**\r\n\r\n    &lt;activity android:name=&quot;.MainActivity&quot; android:screenOrientation=&quot;portrait&quot;\r\n            android:theme=&quot;@style/AppTheme.NoActionBar&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n 1. The `Toolbar` is not an independent entity, it is always a child\r\n    view in `AppBarLayout` that again is the child of\r\n    `CoordinatorLayout`.\r\n 2. The code for creating a menu is the standard code since day one,\r\n    that is repeated again and again in all the answers, particularly\r\n    the marked one, but nobody realized what is the difference.\r\n\r\n**BOTH:**\r\n\r\n`Toolbar toolbar = findViewById(R.id.toolbar);\r\nsetSupportActionBar(toolbar);`\r\n\r\n**AND:**\r\n\r\n[How to set menu to Toolbar in Android\r\n][1]\r\n\r\n**WILL WORK.**\r\n\r\nHappy Coding :-)\r\n\r\n\r\n  [1]: http://stackoverflow.com/a/49098384/787399","title":"How to set menu to Toolbar in Android","body":"<p>Although I agree with this answer, as it has fewer lines of code and that it works:</p>\n\n<p><a href=\"http://stackoverflow.com/a/49098384/787399\">How to set menu to Toolbar in Android\n</a></p>\n\n<p>My suggestion would be to always start any project using the Android Studio Wizard. In that code you will find some styles:- </p>\n\n<p><code>&lt;style name=\"AppTheme.AppBarOverlay\" parent=\"ThemeOverlay.AppCompat.Dark.ActionBar\" /&gt;</code></p>\n\n<p><code>&lt;style name=\"AppTheme.PopupOverlay\" parent=\"ThemeOverlay.AppCompat.Light\" /&gt;</code></p>\n\n<p>and usage is:</p>\n\n<pre><code>&lt;android.support.design.widget.AppBarLayout\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:theme=\"@style/AppTheme.AppBarOverlay\"&gt;\n\n&lt;android.support.v7.widget.Toolbar\nandroid:id=\"@+id/toolbar\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"?attr/actionBarSize\"\nandroid:background=\"?attr/colorPrimary\"\napp:popupTheme=\"@style/AppTheme.PopupOverlay\" /&gt;\n\n&lt;/android.support.design.widget.AppBarLayout&gt; \n</code></pre>\n\n<p><strong>Due to <code>no action bar theme</code> declared in <code>styles.xml</code>, that is applied to the <code>Main Activity</code>in the <code>AndroidManifest.xml</code>, there are no  exceptions, so you have to check it there.</strong></p>\n\n<pre><code>&lt;activity android:name=\".MainActivity\" android:screenOrientation=\"portrait\"\n        android:theme=\"@style/AppTheme.NoActionBar\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n</code></pre>\n\n<ol>\n<li>The <code>Toolbar</code> is not an independent entity, it is always a child\nview in <code>AppBarLayout</code> that again is the child of\n<code>CoordinatorLayout</code>.</li>\n<li>The code for creating a menu is the standard code since day one,\nthat is repeated again and again in all the answers, particularly\nthe marked one, but nobody realized what is the difference.</li>\n</ol>\n\n<p><strong>BOTH:</strong></p>\n\n<p><code>Toolbar toolbar = findViewById(R.id.toolbar);\nsetSupportActionBar(toolbar);</code></p>\n\n<p><strong>AND:</strong></p>\n\n<p><a href=\"http://stackoverflow.com/a/49098384/787399\">How to set menu to Toolbar in Android\n</a></p>\n\n<p><strong>WILL WORK.</strong></p>\n\n<p>Happy Coding :-)</p>\n"},{"tags":[],"owner":{"account_id":15178164,"reputation":31,"user_id":10952255,"display_name":"Natan Rincker"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553920622,"creation_date":1553914230,"answer_id":55427710,"question_id":35648913,"body_markdown":"In my case, I&#39;m using an AppBarLayout with a CollapsingToolbarLayout and the menu was always\r\nbeing scrolled out of the screen, I solved my problem by switching android:actionLayout in menu&#39;s XML to\r\nthe toolbar&#39;s id. I hope it can help people in the same situation!\r\n\r\n**activity_main.xml**\r\n\r\n    &lt;android.support.design.widget.CoordinatorLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:fab=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.activities.MainScreenActivity&quot;\r\n        android:screenOrientation=&quot;portrait&quot;&gt;\r\n    \r\n        &lt;android.support.design.widget.AppBarLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;300dp&quot;\r\n            app:elevation=&quot;0dp&quot;\r\n            android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;\r\n            &lt;android.support.design.widget.CollapsingToolbarLayout\r\n                android:id=&quot;@+id/collapsingBar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                app:layout_scrollFlags=&quot;exitUntilCollapsed|scroll&quot;\r\n                app:contentScrim=&quot;?attr/colorPrimary&quot;\r\n                app:expandedTitleMarginStart=&quot;48dp&quot;\r\n                app:expandedTitleMarginEnd=&quot;48dp&quot;\r\n                &gt;\r\n                &lt;android.support.v7.widget.Toolbar\r\n                    android:id=&quot;@+id/toolbar&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                    android:background=&quot;?attr/colorPrimary&quot;\r\n                    app:elevation=&quot;0dp&quot;\r\n                    app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot;\r\n                    app:layout_collapseMode=&quot;pin&quot;/&gt;\r\n            &lt;/android.support.design.widget.CollapsingToolbarLayout&gt;\r\n    \r\n    \r\n        &lt;/android.support.design.widget.AppBarLayout&gt;\r\n    &lt;/android.support.design.widget.CoordinatorLayout&gt;\r\n\r\n**main_menu.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;menu\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/logoutMenu&quot;\r\n            android:orderInCategory=&quot;100&quot;\r\n            android:title=&quot;@string/log_out&quot;\r\n            app:showAsAction=&quot;never&quot;\r\n            android:actionLayout=&quot;@id/toolbar&quot;/&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/sortMenu&quot;\r\n            android:orderInCategory=&quot;100&quot;\r\n            android:title=&quot;@string/sort&quot;\r\n            app:showAsAction=&quot;never&quot;/&gt; &lt;/menu&gt;","title":"How to set menu to Toolbar in Android","body":"<p>In my case, I'm using an AppBarLayout with a CollapsingToolbarLayout and the menu was always\nbeing scrolled out of the screen, I solved my problem by switching android:actionLayout in menu's XML to\nthe toolbar's id. I hope it can help people in the same situation!</p>\n\n<p><strong>activity_main.xml</strong></p>\n\n<pre><code>&lt;android.support.design.widget.CoordinatorLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:fab=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".activities.MainScreenActivity\"\n    android:screenOrientation=\"portrait\"&gt;\n\n    &lt;android.support.design.widget.AppBarLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"300dp\"\n        app:elevation=\"0dp\"\n        android:theme=\"@style/AppTheme.AppBarOverlay\"&gt;\n        &lt;android.support.design.widget.CollapsingToolbarLayout\n            android:id=\"@+id/collapsingBar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            app:layout_scrollFlags=\"exitUntilCollapsed|scroll\"\n            app:contentScrim=\"?attr/colorPrimary\"\n            app:expandedTitleMarginStart=\"48dp\"\n            app:expandedTitleMarginEnd=\"48dp\"\n            &gt;\n            &lt;android.support.v7.widget.Toolbar\n                android:id=\"@+id/toolbar\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"?attr/actionBarSize\"\n                android:background=\"?attr/colorPrimary\"\n                app:elevation=\"0dp\"\n                app:popupTheme=\"@style/AppTheme.PopupOverlay\"\n                app:layout_collapseMode=\"pin\"/&gt;\n        &lt;/android.support.design.widget.CollapsingToolbarLayout&gt;\n\n\n    &lt;/android.support.design.widget.AppBarLayout&gt;\n&lt;/android.support.design.widget.CoordinatorLayout&gt;\n</code></pre>\n\n<p><strong>main_menu.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt; &lt;menu\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n    &lt;item\n        android:id=\"@+id/logoutMenu\"\n        android:orderInCategory=\"100\"\n        android:title=\"@string/log_out\"\n        app:showAsAction=\"never\"\n        android:actionLayout=\"@id/toolbar\"/&gt;\n    &lt;item\n        android:id=\"@+id/sortMenu\"\n        android:orderInCategory=\"100\"\n        android:title=\"@string/sort\"\n        app:showAsAction=\"never\"/&gt; &lt;/menu&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11078672,"reputation":191,"user_id":8770125,"display_name":"Windula Kularatne"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554778367,"creation_date":1554778367,"answer_id":55584429,"question_id":35648913,"body_markdown":"Simple fix to this was setting `showAsAction` to `always` in `menu.xml` in res/menu\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    \r\n        &lt;item\r\n            android:id=&quot;@+id/add_alarm&quot;\r\n            android:icon=&quot;@drawable/ic_action_name&quot;\r\n            android:orderInCategory=&quot;100&quot;\r\n            android:title=&quot;Add&quot;\r\n            app:showAsAction=&quot;always&quot;\r\n            android:visible=&quot;true&quot;/&gt;\r\n    \r\n    &lt;/menu&gt;","title":"How to set menu to Toolbar in Android","body":"<p>Simple fix to this was setting <code>showAsAction</code> to <code>always</code> in <code>menu.xml</code> in res/menu</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n    &lt;item\n        android:id=\"@+id/add_alarm\"\n        android:icon=\"@drawable/ic_action_name\"\n        android:orderInCategory=\"100\"\n        android:title=\"Add\"\n        app:showAsAction=\"always\"\n        android:visible=\"true\"/&gt;\n\n&lt;/menu&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6657042,"reputation":1171,"user_id":9150584,"display_name":"Meysam Keshvari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573897474,"creation_date":1573897474,"answer_id":58889424,"question_id":35648913,"body_markdown":"    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        Toolbar toolbar;        \r\n        toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n        getSupportActionBar().setDisplayShowTitleEnabled(false);\r\n      }\r\n    \r\n        \r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            MenuInflater inflater = getMenuInflater();\r\n            inflater.inflate(R.menu.menu_drawer,menu);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n            int id = item.getItemId();\r\n            if (id == R.id.action_drawer){\r\n               drawerLayout.openDrawer(GravityCompat.END);\r\n                if (drawerLayout.isDrawerOpen(GravityCompat.END)) {\r\n                    drawerLayout.closeDrawer(GravityCompat.END);\r\n                } else {\r\n                    drawerLayout.openDrawer(GravityCompat.END);\r\n                }\r\n            }\r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n\r\n      \r\n\r\nres/layout/drawer_menu \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;menu\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    \r\n        &lt;item\r\n            android:id=&quot;@+id/action_drawer&quot;\r\n            android:title=&quot;@string/app_name&quot;\r\n            android:icon=&quot;@drawable/ic_menu_black_24dp&quot;\r\n            app:showAsAction=&quot;always&quot;/&gt;\r\n    \r\n    &lt;/menu&gt;\r\ntoolbar.xml\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:id=&quot;@+id/toolbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;?attr/actionBarSize&quot;\r\n        android:background=&quot;?attr/colorPrimary&quot;\r\n        app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot;\r\n        app:titleTextColor=&quot;@android:color/white&quot;\r\n        app:titleTextAppearance=&quot;@style/TextAppearance.Widget.Event.Toolbar.Title&quot;&gt;\r\n\r\n         &lt;TextView\r\n             android:id=&quot;@+id/toolbar_title&quot;\r\n             android:layout_gravity=&quot;center&quot;\r\n             android:layout_height=&quot;wrap_content&quot;\r\n             android:layout_width=&quot;wrap_content&quot;\r\n             android:text=&quot;@string/app_name&quot;\r\n             android:textColor=&quot;@android:color/white&quot;\r\n             style=&quot;@style/TextAppearance.AppCompat.Widget.ActionBar.Title&quot; /&gt;\r\n\r\n    &lt;/androidx.appcompat.widget.Toolbar&gt;\r\n&lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n\r\n    ","title":"How to set menu to Toolbar in Android","body":"<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    Toolbar toolbar;        \n    toolbar = findViewById(R.id.toolbar);\n    setSupportActionBar(toolbar);\n    getSupportActionBar().setDisplayShowTitleEnabled(false);\n  }\n\n\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        MenuInflater inflater = getMenuInflater();\n        inflater.inflate(R.menu.menu_drawer,menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        int id = item.getItemId();\n        if (id == R.id.action_drawer){\n           drawerLayout.openDrawer(GravityCompat.END);\n            if (drawerLayout.isDrawerOpen(GravityCompat.END)) {\n                drawerLayout.closeDrawer(GravityCompat.END);\n            } else {\n                drawerLayout.openDrawer(GravityCompat.END);\n            }\n        }\n        return super.onOptionsItemSelected(item);\n    }\n</code></pre>\n\n<p>res/layout/drawer_menu </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;menu\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n    &lt;item\n        android:id=\"@+id/action_drawer\"\n        android:title=\"@string/app_name\"\n        android:icon=\"@drawable/ic_menu_black_24dp\"\n        app:showAsAction=\"always\"/&gt;\n\n&lt;/menu&gt;\n</code></pre>\n\n<p>toolbar.xml</p>\n\n<pre><code>&lt;com.google.android.material.appbar.AppBarLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:theme=\"@style/AppTheme.AppBarOverlay\"&gt;\n\n&lt;androidx.appcompat.widget.Toolbar\n    android:id=\"@+id/toolbar\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"?attr/actionBarSize\"\n    android:background=\"?attr/colorPrimary\"\n    app:popupTheme=\"@style/AppTheme.PopupOverlay\"\n    app:titleTextColor=\"@android:color/white\"\n    app:titleTextAppearance=\"@style/TextAppearance.Widget.Event.Toolbar.Title\"&gt;\n\n     &lt;TextView\n         android:id=\"@+id/toolbar_title\"\n         android:layout_gravity=\"center\"\n         android:layout_height=\"wrap_content\"\n         android:layout_width=\"wrap_content\"\n         android:text=\"@string/app_name\"\n         android:textColor=\"@android:color/white\"\n         style=\"@style/TextAppearance.AppCompat.Widget.ActionBar.Title\" /&gt;\n\n&lt;/androidx.appcompat.widget.Toolbar&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":10043766,"reputation":31,"user_id":7425853,"display_name":"Kalaiyo5"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584919683,"creation_date":1584919683,"answer_id":60806144,"question_id":35648913,"body_markdown":"    private Toolbar toolbar;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        toolbar = (Toolbar) findViewById(R.id.my_toolbar);\r\n        *// here is where you set it to show on the toolbar*\r\n        setSupportActionBar(toolbar);\r\n    }\r\nWell, you need to set support action bar setSupportActionBar(); and pass your variable, like so: ```setSupportActionBar(toolbar);```","title":"How to set menu to Toolbar in Android","body":"<pre><code>private Toolbar toolbar;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    toolbar = (Toolbar) findViewById(R.id.my_toolbar);\n    *// here is where you set it to show on the toolbar*\n    setSupportActionBar(toolbar);\n}\n</code></pre>\n\n<p>Well, you need to set support action bar setSupportActionBar(); and pass your variable, like so: <code>setSupportActionBar(toolbar);</code></p>\n"},{"tags":[],"owner":{"account_id":10232768,"reputation":41,"user_id":7552835,"display_name":"bhanwar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666239334,"creation_date":1589032909,"answer_id":61697954,"question_id":35648913,"body_markdown":"In XML add one line inside &lt;Toolbar/&gt;\r\n\r\n`&lt;com.google.android.material.appbar.MaterialToolbar\r\napp:menu=&quot;@menu/main_menu&quot;/&gt;`\r\n\r\nIn java file\r\n\r\nRemove three line `setSupportActionBar(toolbar);\r\n        if (getSupportActionBar() != null) {\r\n            getSupportActionBar().setTitle(&quot;Main Page&quot;);\r\n        }`\r\n\r\n\r\nadd one line `toolbar.setTitle(&quot;Main Page&quot;)`","title":"How to set menu to Toolbar in Android","body":"<p>In XML add one line inside </p>\n<p><code>&lt;com.google.android.material.appbar.MaterialToolbar app:menu=&quot;@menu/main_menu&quot;/&gt;</code></p>\n<p>In java file</p>\n<p>Remove three line <code>setSupportActionBar(toolbar); if (getSupportActionBar() != null) { getSupportActionBar().setTitle(&quot;Main Page&quot;); }</code></p>\n<p>add one line <code>toolbar.setTitle(&quot;Main Page&quot;)</code></p>\n"},{"comments":[{"owner":{"account_id":4830173,"reputation":2250,"user_id":3898551,"display_name":"Narender Gusain"},"score":0,"creation_date":1641385369,"post_id":63529156,"comment_id":124789969,"body_markdown":"Thanks man, worked with this runnable","body":"Thanks man, worked with this runnable"}],"tags":[],"owner":{"account_id":2984923,"reputation":1960,"user_id":2534007,"display_name":"Mohib Irshad"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1598038913,"creation_date":1598038913,"answer_id":63529156,"question_id":35648913,"body_markdown":"**You can still use the [answer provided using Toolbar.inflateMenu][1] even while using setSupportActionBar(toolbar).** \r\n\r\nI had a scenario where I had to move toolbar setup functionality into a separate class outside of activity which didn&#39;t by-itself know of the event onCreateOptionsMenu. \r\n\r\nSo, to implement this, all I had to do was wait for Toolbar to be drawn before calling inflateMenu by doing the following:\r\n\r\n    toolbar.post {\r\n        toolbar.inflateMenu(R.menu.my_menu)\r\n    }\r\n\r\nMight not be considered very clean but still gets the job done.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/49098384/2534007","title":"How to set menu to Toolbar in Android","body":"<p><strong>You can still use the <a href=\"https://stackoverflow.com/a/49098384/2534007\">answer provided using Toolbar.inflateMenu</a> even while using setSupportActionBar(toolbar).</strong></p>\n<p>I had a scenario where I had to move toolbar setup functionality into a separate class outside of activity which didn't by-itself know of the event onCreateOptionsMenu.</p>\n<p>So, to implement this, all I had to do was wait for Toolbar to be drawn before calling inflateMenu by doing the following:</p>\n<pre><code>toolbar.post {\n    toolbar.inflateMenu(R.menu.my_menu)\n}\n</code></pre>\n<p>Might not be considered very clean but still gets the job done.</p>\n"},{"tags":[],"owner":{"account_id":14747592,"reputation":81,"user_id":10650499,"display_name":"vishal pathak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606235721,"creation_date":1606235721,"answer_id":64990816,"question_id":35648913,"body_markdown":"You can achieve this by two methods \r\n1. Using XML\r\n2. Using java\r\n\r\nUsing XML\r\nAdd this attribute to toolbar XML\r\napp:menu = &quot;menu_name&quot;\r\n\r\nUsing java\r\nBy overriding onCreateOptionMenu(Menu menu)\r\n\r\n    public class MainActivity extends AppCompatActivity { \r\n    \r\n      private Toolbar toolbar;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            toolbar = findViewById(R.id.toolbar);\r\n            setSupportActionBar(toolbar);\r\n    }\r\n    @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            getMenuInflater().inflate(R.menu.demo_menu,menu);\r\n            return super.onCreateOptionsMenu(menu);\r\n        }\r\n    }\r\n\r\n\r\nfor more details or implementating click on the menu go through this article\r\nhttps://bedevelopers.tech/android-toolbar-implementation-using-android-studio/","title":"How to set menu to Toolbar in Android","body":"<p>You can achieve this by two methods</p>\n<ol>\n<li>Using XML</li>\n<li>Using java</li>\n</ol>\n<p>Using XML\nAdd this attribute to toolbar XML\napp:menu = &quot;menu_name&quot;</p>\n<p>Using java\nBy overriding onCreateOptionMenu(Menu menu)</p>\n<pre><code>public class MainActivity extends AppCompatActivity { \n\n  private Toolbar toolbar;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        toolbar = findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n}\n@Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.demo_menu,menu);\n        return super.onCreateOptionsMenu(menu);\n    }\n}\n</code></pre>\n<p>for more details or implementating click on the menu go through this article\n<a href=\"https://bedevelopers.tech/android-toolbar-implementation-using-android-studio/\" rel=\"nofollow noreferrer\">https://bedevelopers.tech/android-toolbar-implementation-using-android-studio/</a></p>\n"},{"tags":[],"owner":{"account_id":21545787,"reputation":91,"user_id":15882669,"display_name":"Bishal Maji"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1623036385,"creation_date":1623036385,"answer_id":67865598,"question_id":35648913,"body_markdown":"**First way**:\r\n In activitymain.xml\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:id=&quot;@+id/maintoolbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;56dp&quot;/&gt;\r\n\r\nIn MainActivity.java\r\n\r\n    import androidx.appcompat.widget.Toolbar;\r\n    private Toolbar toolbar;\r\n\r\nInside onCreate method-\r\n\r\n     toolbar=findViewById(R.id.maintoolbar);\r\n            setSupportActionBar(toolbar);\r\n\r\nInside your MainActivity class-\r\n \r\n\r\n       @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            getMenuInflater().inflate(R.menu.&lt;your menu xml file name here&gt;,menu);\r\n            return super.onCreateOptionsMenu(menu);\r\n        }\r\n\r\n**Second way** :\r\n\r\n     //Remove setSupportActionBar(toolbar) and onCreateOptionmenu.\r\n     toolbar=findViewById(R.id.maintoolbar);\r\n     toolbar.inflateMenu(R.menu.&lt;your menu xml file name here&gt;);\r\n    ","title":"How to set menu to Toolbar in Android","body":"<p><strong>First way</strong>:\nIn activitymain.xml</p>\n<pre><code>&lt;androidx.appcompat.widget.Toolbar\n    android:id=&quot;@+id/maintoolbar&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;56dp&quot;/&gt;\n</code></pre>\n<p>In MainActivity.java</p>\n<pre><code>import androidx.appcompat.widget.Toolbar;\nprivate Toolbar toolbar;\n</code></pre>\n<p>Inside onCreate method-</p>\n<pre><code> toolbar=findViewById(R.id.maintoolbar);\n        setSupportActionBar(toolbar);\n</code></pre>\n<p>Inside your MainActivity class-</p>\n<pre><code>   @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.&lt;your menu xml file name here&gt;,menu);\n        return super.onCreateOptionsMenu(menu);\n    }\n</code></pre>\n<p><strong>Second way</strong> :</p>\n<pre><code> //Remove setSupportActionBar(toolbar) and onCreateOptionmenu.\n toolbar=findViewById(R.id.maintoolbar);\n toolbar.inflateMenu(R.menu.&lt;your menu xml file name here&gt;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4283273,"reputation":12083,"user_id":3501958,"accept_rate":89,"display_name":"hata"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1639978332,"creation_date":1639977619,"answer_id":70417638,"question_id":35648913,"body_markdown":"Without ActionBar but with Toolbar\r\n----------------------------------\r\n\r\nIf you want to use a Toolbar instead of the ActionBar, to `setSupportActionBar` is contradiction in principle as @RohitSingh answered [above][1].\r\n\r\nYou need neither to use `setSupportActionBar` nor to override `onCreateOptionsMenu` and `onOptionsItemSelected` which are used for the ActionBar.\r\n\r\n1. `NoActionBar` theme\r\n2. Place a Toolbar in the layout xml\r\n3. Prepare a menu xml\r\n4. `Toolbar#inflateMenu` (alternatively you can also set a menu in the layout xml)\r\n5. `Toolbar#setOnMenuItemClickListener`\r\n\r\nBelow is an example.\r\n\r\n**1. NoActionBar theme**\r\n\r\n(`MaterialCompolent.DayNight` theme is used in this sample)\r\n\r\n    &lt;style name=&quot;Theme.AppTheme&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\r\n\r\n**2. Place a Toolbar in the layout**\r\n\r\n(`MaterialToobar` is used in this sample)\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;com.google.android.material.appbar.MaterialToolbar\r\n            android:id=&quot;@+id/toolbar&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n**3. Prepare a menu xml**\r\n\r\n    &lt;menu xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/item1&quot;\r\n            android:title=&quot;@string/item1&quot;\r\n            app:showAsAction=&quot;ifRoom&quot; /&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/item2&quot;\r\n            android:title=&quot;@string/item2&quot;\r\n            app:showAsAction=&quot;ifRoom&quot; /&gt;\r\n    &lt;/menu&gt;\r\n\r\n**4. Toolbar#inflateMenu**\r\n\r\n    binding.toolbar.inflateMenu(R.menu.main); // binding is a ViewBinding\r\n\r\n**5. Toolbar#setOnMenuItemClickListener**\r\n\r\nRecent Android recommend to avoid to use `switch` to differentiate ids. Using a normal `if ~ else if ~ else` block is desirable. In addition to that, we can use **lambda** in Java 8.\r\n\r\n    binding.toolbar.setOnMenuItemClickListener(menuItem -&gt; {\r\n        int itemId = menuItem.getItemId();\r\n        if (itemId == R.id.item1) {\r\n            // do something for item1\r\n            return true;\r\n        } else if (itemId == R.id.item2) {\r\n            // do something for item2\r\n            return true;\r\n        } else {\r\n            // if you do nothing, returning false should be appropriate.\r\n            return false;\r\n        }\r\n    });\r\n\r\n  [1]: https://stackoverflow.com/a/49098384/3501958","title":"How to set menu to Toolbar in Android","body":"<h2>Without ActionBar but with Toolbar</h2>\n<p>If you want to use a Toolbar instead of the ActionBar, to <code>setSupportActionBar</code> is contradiction in principle as @RohitSingh answered <a href=\"https://stackoverflow.com/a/49098384/3501958\">above</a>.</p>\n<p>You need neither to use <code>setSupportActionBar</code> nor to override <code>onCreateOptionsMenu</code> and <code>onOptionsItemSelected</code> which are used for the ActionBar.</p>\n<ol>\n<li><code>NoActionBar</code> theme</li>\n<li>Place a Toolbar in the layout xml</li>\n<li>Prepare a menu xml</li>\n<li><code>Toolbar#inflateMenu</code> (alternatively you can also set a menu in the layout xml)</li>\n<li><code>Toolbar#setOnMenuItemClickListener</code></li>\n</ol>\n<p>Below is an example.</p>\n<p><strong>1. NoActionBar theme</strong></p>\n<p>(<code>MaterialCompolent.DayNight</code> theme is used in this sample)</p>\n<pre><code>&lt;style name=&quot;Theme.AppTheme&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\n</code></pre>\n<p><strong>2. Place a Toolbar in the layout</strong></p>\n<p>(<code>MaterialToobar</code> is used in this sample)</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;com.google.android.material.appbar.MaterialToolbar\n        android:id=&quot;@+id/toolbar&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n<p><strong>3. Prepare a menu xml</strong></p>\n<pre><code>&lt;menu xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item\n        android:id=&quot;@+id/item1&quot;\n        android:title=&quot;@string/item1&quot;\n        app:showAsAction=&quot;ifRoom&quot; /&gt;\n    &lt;item\n        android:id=&quot;@+id/item2&quot;\n        android:title=&quot;@string/item2&quot;\n        app:showAsAction=&quot;ifRoom&quot; /&gt;\n&lt;/menu&gt;\n</code></pre>\n<p><strong>4. Toolbar#inflateMenu</strong></p>\n<pre><code>binding.toolbar.inflateMenu(R.menu.main); // binding is a ViewBinding\n</code></pre>\n<p><strong>5. Toolbar#setOnMenuItemClickListener</strong></p>\n<p>Recent Android recommend to avoid to use <code>switch</code> to differentiate ids. Using a normal <code>if ~ else if ~ else</code> block is desirable. In addition to that, we can use <strong>lambda</strong> in Java 8.</p>\n<pre><code>binding.toolbar.setOnMenuItemClickListener(menuItem -&gt; {\n    int itemId = menuItem.getItemId();\n    if (itemId == R.id.item1) {\n        // do something for item1\n        return true;\n    } else if (itemId == R.id.item2) {\n        // do something for item2\n        return true;\n    } else {\n        // if you do nothing, returning false should be appropriate.\n        return false;\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12537785,"reputation":489,"user_id":13036358,"display_name":"cryo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645269107,"creation_date":1645269107,"answer_id":71184461,"question_id":35648913,"body_markdown":"You don&#39;t actually need to touch the fragment/activity class at all to get a menu inside a toolbar. You can use Rohit Singh&#39;s method inside `onViewCreated` method \r\n\r\n    import androidx.appcompat.widget.Toolbar\r\n    ...\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n\t\tsuper.onViewCreated(view, savedInstanceState)\r\n\t\tval toolbar = view.findViewById&lt;Toolbar&gt;(R.id.inbox_toolbar)\r\n\t\ttoolbar.inflateMenu(R.menu.inbox_menu)\r\n\t}\r\n\r\n\r\nor\r\n\r\nsimply define a app:menu element inside the toolbar,\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar ...\r\n    app:menu= &quot;@menu/myMenu&quot; ?&gt;\r\n\r\n","title":"How to set menu to Toolbar in Android","body":"<p>You don't actually need to touch the fragment/activity class at all to get a menu inside a toolbar. You can use Rohit Singh's method inside <code>onViewCreated</code> method</p>\n<pre><code>import androidx.appcompat.widget.Toolbar\n...\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    val toolbar = view.findViewById&lt;Toolbar&gt;(R.id.inbox_toolbar)\n    toolbar.inflateMenu(R.menu.inbox_menu)\n}\n</code></pre>\n<p>or</p>\n<p>simply define a app:menu element inside the toolbar,</p>\n<pre><code>&lt;androidx.appcompat.widget.Toolbar ...\napp:menu= &quot;@menu/myMenu&quot; ?&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28362157,"reputation":11,"user_id":21692001,"display_name":"Veer J Kamdar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689779969,"creation_date":1689779969,"answer_id":76722835,"question_id":35648913,"body_markdown":"Creating an options menu is different in an Activity and Fragment. An activity is one screen of your app whereas, a fragment is a part of the application&#39;s user interface that is bound to an activity. This makes fragments lightweight and faster to run. \r\n\r\nAlways keep this in mind. Now moving towards the code, To create menu in a toolbar, first inflate the toolbar and then inflate the menu itself. Also, make sure that **setHasOptionsMenu(true)** is present in the onCreate method of the fragment.\r\n\r\n     public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setHasOptionsMenu(true);\r\n    }\r\n\r\nAbove is onCreate() method\r\n\r\n      public View onCreateView(LayoutInflater inflater, ViewGroup container,Bundle savedInstanceState)\r\n    {\r\n        // Inflate the layout for this fragment\r\n        View v= inflater.inflate(R.layout.fragment_home, container, false);\r\n        materialToolbar=v.findViewById(R.id.materialHomeToolbar);\r\n        materialToolbar.inflateMenu(R.menu.topapp_menu);\r\n\r\n        materialToolbar.setOnMenuItemClickListener(new Toolbar.OnMenuItemClickListener()\r\n        {\r\n            @Override\r\n            public boolean onMenuItemClick(MenuItem item)\r\n            {\r\n                int t=0;\r\n                if(item.getItemId()==R.id.notification)\r\n                    Toast.makeText(getContext(), item.getTitle(), Toast.LENGTH_SHORT).show();\r\n                else if(item.getItemId()==R.id.myAccount)\r\n                    Toast.makeText(getContext(), item.getTitle(), Toast.LENGTH_SHORT).show();\r\n                else if(item.getItemId()==R.id.terms)\r\n                    Toast.makeText(getContext(), item.getTitle(), Toast.LENGTH_SHORT).show();\r\n                else if(item.getItemId()==R.id.contactUs)\r\n                    Toast.makeText(getContext(), item.getTitle(), Toast.LENGTH_SHORT).show();\r\n                else if(item.getItemId()==R.id.help)\r\n                    Toast.makeText(getContext(), item.getTitle(), Toast.LENGTH_SHORT).show();\r\n                else if(item.getItemId()==R.id.feedback)\r\n                    Toast.makeText(getContext(), item.getTitle(), Toast.LENGTH_SHORT).show();\r\n                return true;\r\n            }\r\n        });\r\n        return v;\r\n    }\r\n}\r\n\r\nAbove is the onCreateView(), where I have used **setOnMenuItemClickListener()** to print a toast message on click of an item.","title":"How to set menu to Toolbar in Android","body":"<p>Creating an options menu is different in an Activity and Fragment. An activity is one screen of your app whereas, a fragment is a part of the application's user interface that is bound to an activity. This makes fragments lightweight and faster to run.</p>\n<p>Always keep this in mind. Now moving towards the code, To create menu in a toolbar, first inflate the toolbar and then inflate the menu itself. Also, make sure that <strong>setHasOptionsMenu(true)</strong> is present in the onCreate method of the fragment.</p>\n<pre><code> public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setHasOptionsMenu(true);\n}\n</code></pre>\n<p>Above is onCreate() method</p>\n<pre><code>  public View onCreateView(LayoutInflater inflater, ViewGroup container,Bundle savedInstanceState)\n{\n    // Inflate the layout for this fragment\n    View v= inflater.inflate(R.layout.fragment_home, container, false);\n    materialToolbar=v.findViewById(R.id.materialHomeToolbar);\n    materialToolbar.inflateMenu(R.menu.topapp_menu);\n\n    materialToolbar.setOnMenuItemClickListener(new Toolbar.OnMenuItemClickListener()\n    {\n        @Override\n        public boolean onMenuItemClick(MenuItem item)\n        {\n            int t=0;\n            if(item.getItemId()==R.id.notification)\n                Toast.makeText(getContext(), item.getTitle(), Toast.LENGTH_SHORT).show();\n            else if(item.getItemId()==R.id.myAccount)\n                Toast.makeText(getContext(), item.getTitle(), Toast.LENGTH_SHORT).show();\n            else if(item.getItemId()==R.id.terms)\n                Toast.makeText(getContext(), item.getTitle(), Toast.LENGTH_SHORT).show();\n            else if(item.getItemId()==R.id.contactUs)\n                Toast.makeText(getContext(), item.getTitle(), Toast.LENGTH_SHORT).show();\n            else if(item.getItemId()==R.id.help)\n                Toast.makeText(getContext(), item.getTitle(), Toast.LENGTH_SHORT).show();\n            else if(item.getItemId()==R.id.feedback)\n                Toast.makeText(getContext(), item.getTitle(), Toast.LENGTH_SHORT).show();\n            return true;\n        }\n    });\n    return v;\n}\n</code></pre>\n<p>}</p>\n<p>Above is the onCreateView(), where I have used <strong>setOnMenuItemClickListener()</strong> to print a toast message on click of an item.</p>\n"}],"owner":{"account_id":7908792,"reputation":1595,"user_id":5973443,"accept_rate":62,"display_name":"Dr.NoBody"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245400,"favorite_count":0,"down_vote_count":1,"up_vote_count":141,"accepted_answer_id":35649007,"answer_count":18,"score":140,"last_activity_date":1689779969,"creation_date":1456481569,"question_id":35648913,"body_markdown":"I want use `ToolBar` instead of `ActionBar`, but don&#39;t show me menu in toolbar!!! i want set menu such as **Refresh** or **Setting** buttons in `ActionBar`.&lt;br&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Toolbar.xml code :**\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;android.support.v7.widget.Toolbar\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;?attr/colorPrimary&quot;\r\n        android:minHeight=&quot;?attr/actionBarSize&quot;\r\n        app:navigationContentDescription=&quot;@string/abc_action_bar_up_description&quot;\r\n        app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot;\r\n        app:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;\r\n        app:title=&quot;Main Page&quot;\r\n        android:gravity=&quot;center&quot;/&gt;\r\n\r\n**MainPage.java code:**\r\n\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class MainPage extends AppCompatActivity {\r\n        private Toolbar toolbar;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.main_page);\r\n    \r\n            toolbar = (Toolbar) findViewById(R.id.main_toolbar);\r\n            setSupportActionBar(toolbar);\r\n            if (getSupportActionBar() != null) {\r\n                getSupportActionBar().setTitle(&quot;Main Page&quot;);\r\n            }\r\n            toolbar.setSubtitle(&quot;Test Subtitle&quot;);\r\n            toolbar.inflateMenu(R.menu.main_menu);\r\n        }\r\n    }\r\n\r\n**main_menu.xml code :** \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    \r\n        &lt;item\r\n            android:id=&quot;@+id/menu_main_setting&quot;\r\n            android:icon=&quot;@drawable/ic_settings&quot;\r\n            android:orderInCategory=&quot;100&quot;\r\n            app:showAsAction=&quot;always&quot;\r\n            android:actionLayout=&quot;@layout/toolbar&quot;\r\n            android:title=&quot;Setting&quot; /&gt;\r\n    \r\n        &lt;item\r\n            android:id=&quot;@+id/menu_main_setting2&quot;\r\n            android:icon=&quot;@drawable/ic_settings&quot;\r\n            android:orderInCategory=&quot;200&quot;\r\n            app:showAsAction=&quot;always&quot;\r\n            android:actionLayout=&quot;@layout/toolbar&quot;\r\n            android:title=&quot;Setting&quot; /&gt;\r\n    \r\n    &lt;/menu&gt;\r\n\r\nHow to fix this problem and show menu in `Toolbar` ? thanks all dears &lt;3\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R1qfam.png\r\n  [2]: http://imgur.com/oDTKZxp","title":"How to set menu to Toolbar in Android","body":"<p>I want use <code>ToolBar</code> instead of <code>ActionBar</code>, but don't show me menu in toolbar!!! i want set menu such as <strong>Refresh</strong> or <strong>Setting</strong> buttons in <code>ActionBar</code>.<br></p>\n<p><a href=\"https://i.stack.imgur.com/R1qfam.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/R1qfam.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Toolbar.xml code :</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;android.support.v7.widget.Toolbar\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;?attr/colorPrimary&quot;\n    android:minHeight=&quot;?attr/actionBarSize&quot;\n    app:navigationContentDescription=&quot;@string/abc_action_bar_up_description&quot;\n    app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot;\n    app:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;\n    app:title=&quot;Main Page&quot;\n    android:gravity=&quot;center&quot;/&gt;\n</code></pre>\n<p><strong>MainPage.java code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainPage extends AppCompatActivity {\n    private Toolbar toolbar;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main_page);\n\n        toolbar = (Toolbar) findViewById(R.id.main_toolbar);\n        setSupportActionBar(toolbar);\n        if (getSupportActionBar() != null) {\n            getSupportActionBar().setTitle(&quot;Main Page&quot;);\n        }\n        toolbar.setSubtitle(&quot;Test Subtitle&quot;);\n        toolbar.inflateMenu(R.menu.main_menu);\n    }\n}\n</code></pre>\n<p><strong>main_menu.xml code :</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;item\n        android:id=&quot;@+id/menu_main_setting&quot;\n        android:icon=&quot;@drawable/ic_settings&quot;\n        android:orderInCategory=&quot;100&quot;\n        app:showAsAction=&quot;always&quot;\n        android:actionLayout=&quot;@layout/toolbar&quot;\n        android:title=&quot;Setting&quot; /&gt;\n\n    &lt;item\n        android:id=&quot;@+id/menu_main_setting2&quot;\n        android:icon=&quot;@drawable/ic_settings&quot;\n        android:orderInCategory=&quot;200&quot;\n        app:showAsAction=&quot;always&quot;\n        android:actionLayout=&quot;@layout/toolbar&quot;\n        android:title=&quot;Setting&quot; /&gt;\n\n&lt;/menu&gt;\n</code></pre>\n<p>How to fix this problem and show menu in <code>Toolbar</code> ? thanks all dears &lt;3</p>\n"},{"tags":["java","flutter","dart","http"],"owner":{"account_id":16165723,"reputation":1,"user_id":11670753,"display_name":"Edoardo Gullo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689779576,"creation_date":1689774966,"question_id":76722095,"body_markdown":"I have a strange problem:\r\n\r\nThis code is working on physical device (Android 10) with java application (Android Studio)\r\n\r\n\r\n```\r\nfinal MediaType JSON\r\n                    = MediaType.get(&quot;application/xml; charset=utf-8&quot;);\r\n\r\n            OkHttpClient client = new OkHttpClient.Builder().\r\n                    writeTimeout(timeout, TimeUnit.SECONDS).\r\n                    readTimeout(timeout, TimeUnit.SECONDS).\r\n                    connectTimeout(timeout, TimeUnit.SECONDS).build();\r\n\r\n            RequestBody body = RequestBody.create(xml, JSON);\r\n            Request request = new Request.Builder()\r\n                    .url(&quot;http://&quot;+ ipMachine + &quot;/service.cgi&quot;)\r\n                    .post(body)\r\n                    .build();\r\n\r\n            Response response = client.newCall(request).execute();\r\n```\r\n\r\nThis one returns &quot;ClientException: Connection closed before full header was received&quot; in Flutter same device.\r\n\r\n\r\n```\r\nhttp.Response response = await http.post(\r\n            Uri.http(ip, &quot;service.cgi&quot;),\r\n            headers: {\r\n              HttpHeaders.contentTypeHeader: &quot;application/xml; charset=utf-8&quot;,\r\n            },\r\n            body: xml);\r\n```\r\n\r\n\r\n\r\n\r\nThe server is a fiscal printer (RCH).\r\n\r\nPlease, help me.\r\n\r\nThanks.\r\n\r\n\r\n\r\n**UPDATE:**\r\n\r\nif I use flutter_curl package in flutter it works:\r\n\r\n```\r\nClient client = Client(\r\n          verbose: true,\r\n          interceptors: [\r\n            // HTTPCaching(),\r\n          ],\r\n        );\r\n        await client.init();\r\n\r\n        final res = await client.send(Request(\r\n            method: &quot;POST&quot;,\r\n            url: &quot;http://192.168.168.18/service.cgi&quot;,\r\n            headers: {&quot;user-agent&quot;: &quot;myapp-v1.0/android9&quot;},\r\n            // body\r\n            body: RequestBody.raw(utf8.encode(xml))\r\n            // body: RequestBody.string(&quot;hello world&quot;),\r\n            // body: RequestBody.form({&quot;age&quot;: &quot;10&quot;, &quot;hello&quot;: &quot;world&quot;}),\r\n            // body: RequestBody.multipart([\r\n            //    Multipart(name: &quot;age&quot;, data: &quot;24&quot;),\r\n            //    Multipart(name: &quot;hello&quot;, data: &quot;world&quot;),\r\n            //    Multipart.file(\r\n            //      name: &quot;fieldname&quot;,\r\n            //      path: &quot;/sdcard/todo.txt&quot;,\r\n            //      filename: &quot;filename.txt&quot;,\r\n            //    ),\r\n            //  ]),\r\n\r\n            ));\r\n        print(&quot;Status: ${res.statusCode}&quot;);\r\n        print(&quot;HTTP: ${res.httpVersion}&quot;);\r\n        res.headers.forEach((key, value) {\r\n          print(&quot;$key: $value&quot;);\r\n        });\r\n        print(res.text());\r\n```\r\n\r\nIt&#39;s ok but i need that this work also in windows and flutter_curl doesn&#39;t support it.","title":"ClientException: Connection closed before full header was received","body":"<p>I have a strange problem:</p>\n<p>This code is working on physical device (Android 10) with java application (Android Studio)</p>\n<pre><code>final MediaType JSON\n                    = MediaType.get(&quot;application/xml; charset=utf-8&quot;);\n\n            OkHttpClient client = new OkHttpClient.Builder().\n                    writeTimeout(timeout, TimeUnit.SECONDS).\n                    readTimeout(timeout, TimeUnit.SECONDS).\n                    connectTimeout(timeout, TimeUnit.SECONDS).build();\n\n            RequestBody body = RequestBody.create(xml, JSON);\n            Request request = new Request.Builder()\n                    .url(&quot;http://&quot;+ ipMachine + &quot;/service.cgi&quot;)\n                    .post(body)\n                    .build();\n\n            Response response = client.newCall(request).execute();\n</code></pre>\n<p>This one returns &quot;ClientException: Connection closed before full header was received&quot; in Flutter same device.</p>\n<pre><code>http.Response response = await http.post(\n            Uri.http(ip, &quot;service.cgi&quot;),\n            headers: {\n              HttpHeaders.contentTypeHeader: &quot;application/xml; charset=utf-8&quot;,\n            },\n            body: xml);\n</code></pre>\n<p>The server is a fiscal printer (RCH).</p>\n<p>Please, help me.</p>\n<p>Thanks.</p>\n<p><strong>UPDATE:</strong></p>\n<p>if I use flutter_curl package in flutter it works:</p>\n<pre><code>Client client = Client(\n          verbose: true,\n          interceptors: [\n            // HTTPCaching(),\n          ],\n        );\n        await client.init();\n\n        final res = await client.send(Request(\n            method: &quot;POST&quot;,\n            url: &quot;http://192.168.168.18/service.cgi&quot;,\n            headers: {&quot;user-agent&quot;: &quot;myapp-v1.0/android9&quot;},\n            // body\n            body: RequestBody.raw(utf8.encode(xml))\n            // body: RequestBody.string(&quot;hello world&quot;),\n            // body: RequestBody.form({&quot;age&quot;: &quot;10&quot;, &quot;hello&quot;: &quot;world&quot;}),\n            // body: RequestBody.multipart([\n            //    Multipart(name: &quot;age&quot;, data: &quot;24&quot;),\n            //    Multipart(name: &quot;hello&quot;, data: &quot;world&quot;),\n            //    Multipart.file(\n            //      name: &quot;fieldname&quot;,\n            //      path: &quot;/sdcard/todo.txt&quot;,\n            //      filename: &quot;filename.txt&quot;,\n            //    ),\n            //  ]),\n\n            ));\n        print(&quot;Status: ${res.statusCode}&quot;);\n        print(&quot;HTTP: ${res.httpVersion}&quot;);\n        res.headers.forEach((key, value) {\n          print(&quot;$key: $value&quot;);\n        });\n        print(res.text());\n</code></pre>\n<p>It's ok but i need that this work also in windows and flutter_curl doesn't support it.</p>\n"},{"tags":["java","hibernate","model-view-controller","hibernate-mapping","hibernate-criteria"],"owner":{"account_id":17809183,"reputation":35,"user_id":12934203,"display_name":"hilario_cassio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689779542,"creation_date":1689779542,"question_id":76722776,"body_markdown":"I&#39;m developing an app where multiple classes have images to better identify themselves, such as users, items, damage and etc...\r\n\r\nSo I&#39;m creating a Class that accepts generics class so I can relate each of this classes to the Images that I&#39;m saving. It&#39;s a one-to-many relationship of course, an item may have a max of 4 images but each image can have 1 item for example.\r\n\r\nThat&#39;s my class file:\r\n\r\n    \r\n    public class Image&lt;T&gt; implements Serializable {\r\n    \r\n        private Long id;\r\n        private byte[] image;\r\n        private T entity;\r\n        private Long entityId;\r\n        private int index;\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        @AuditableField(value= &quot;image&quot;, encoder = ByteArrayFieldEncoder.class)\r\n        public byte[] getImage() {\r\n            return image;\r\n        }\r\n    \r\n        public void setImage(byte[] image) {\r\n            this.image = image;\r\n        }\r\n    \r\n        public T getEntity() {\r\n            return entity;\r\n        }\r\n    \r\n        public void setEntity(T entity) {\r\n            this.entity = entity;\r\n        }\r\n    \r\n        public Long getEntityId() {\r\n            return entityId;\r\n        }\r\n    \r\n        public void setEntityId(Long entityId) {\r\n            this.entityId = entityId;\r\n        }\r\n    \r\n        @AuditableField\r\n        public int getIndex() {\r\n            return index;\r\n        }\r\n    \r\n        public void setIndex(int index) {\r\n            this.index = index;\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(id);\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            if (this == obj) return true;\r\n            if(!(obj instanceof Image)) return false;\r\n            Image image = (Image) obj;\r\n            return Objects.equals(id, image.id);\r\n        }\r\n    }\r\n\r\nBut what I&#39;m struggling to do is how to build the XML code for this class, does anyone knows how can I do that? If it&#39;s even possible...","title":"Translate a Java Class containing a Generics to Hibernate","body":"<p>I'm developing an app where multiple classes have images to better identify themselves, such as users, items, damage and etc...</p>\n<p>So I'm creating a Class that accepts generics class so I can relate each of this classes to the Images that I'm saving. It's a one-to-many relationship of course, an item may have a max of 4 images but each image can have 1 item for example.</p>\n<p>That's my class file:</p>\n<pre><code>public class Image&lt;T&gt; implements Serializable {\n\n    private Long id;\n    private byte[] image;\n    private T entity;\n    private Long entityId;\n    private int index;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    @AuditableField(value= &quot;image&quot;, encoder = ByteArrayFieldEncoder.class)\n    public byte[] getImage() {\n        return image;\n    }\n\n    public void setImage(byte[] image) {\n        this.image = image;\n    }\n\n    public T getEntity() {\n        return entity;\n    }\n\n    public void setEntity(T entity) {\n        this.entity = entity;\n    }\n\n    public Long getEntityId() {\n        return entityId;\n    }\n\n    public void setEntityId(Long entityId) {\n        this.entityId = entityId;\n    }\n\n    @AuditableField\n    public int getIndex() {\n        return index;\n    }\n\n    public void setIndex(int index) {\n        this.index = index;\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id);\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj) return true;\n        if(!(obj instanceof Image)) return false;\n        Image image = (Image) obj;\n        return Objects.equals(id, image.id);\n    }\n}\n</code></pre>\n<p>But what I'm struggling to do is how to build the XML code for this class, does anyone knows how can I do that? If it's even possible...</p>\n"},{"tags":["java","aide-ide","aide"],"answers":[{"tags":[],"owner":{"account_id":18168996,"reputation":111,"user_id":13219014,"display_name":"Jamal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611323450,"creation_date":1611323450,"answer_id":65846456,"question_id":65164972,"body_markdown":"IT happens because of some library if you implement in your project while using Aide.\r\n\r\nAide has problems with most of the libraries.\r\n\r\nTry using another code editor or another library instead.\r\n\r\nSomething similar happened to me :\r\n\r\nhttps://stackoverflow.com/questions/65828711/how-to-fix-packaging-error-in-aide-mobile-ide?noredirect=1#comment116405189_65828711","title":"Packaging error: java.lang.RuntimeException: yu: unknown tag byte: 12","body":"<p>IT happens because of some library if you implement in your project while using Aide.</p>\n<p>Aide has problems with most of the libraries.</p>\n<p>Try using another code editor or another library instead.</p>\n<p>Something similar happened to me :</p>\n<p><a href=\"https://stackoverflow.com/questions/65828711/how-to-fix-packaging-error-in-aide-mobile-ide?noredirect=1#comment116405189_65828711\">How to fix packaging error in Aide (mobile IDE)?</a></p>\n"},{"tags":[],"owner":{"account_id":27707135,"reputation":19,"user_id":21150530,"display_name":"ABC ABC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689779421,"creation_date":1689779421,"answer_id":76722754,"question_id":65164972,"body_markdown":"Solution:\r\n\r\nYou cannot use libraries, which need an higher target SDK version as your app, search a version of the library, which is compatible with your app.\r\n\r\nI had the same problem today &#128517;&#128517;","title":"Packaging error: java.lang.RuntimeException: yu: unknown tag byte: 12","body":"<p>Solution:</p>\n<p>You cannot use libraries, which need an higher target SDK version as your app, search a version of the library, which is compatible with your app.</p>\n<p>I had the same problem today </p>\n"}],"owner":{"account_id":20143385,"reputation":31,"user_id":14772533,"display_name":"JacobMC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1279,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1689779421,"creation_date":1607232492,"question_id":65164972,"body_markdown":"So I&#39;m currently trying to code a 1.16.4 Spigot plugin for minecraft in AIDE since my pc is broken and I have gotten no errors so far but once I run the program I get the build error: \r\n```none\r\npackaging error java.lang.runtimeexception: yu: unknown tag byte: 12\r\n```\r\nI am not familiar with AIDE so I do not know if it something with the spigot jar or what but I am using `spigot-api-1.16.4-R0.1-20201203.083325-28-shaded.jar`","title":"Packaging error: java.lang.RuntimeException: yu: unknown tag byte: 12","body":"<p>So I'm currently trying to code a 1.16.4 Spigot plugin for minecraft in AIDE since my pc is broken and I have gotten no errors so far but once I run the program I get the build error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>packaging error java.lang.runtimeexception: yu: unknown tag byte: 12\n</code></pre>\n<p>I am not familiar with AIDE so I do not know if it something with the spigot jar or what but I am using <code>spigot-api-1.16.4-R0.1-20201203.083325-28-shaded.jar</code></p>\n"},{"tags":["java","xml","spring-boot","jakarta-migration"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":2,"creation_date":1689409614,"post_id":76692311,"comment_id":135211881,"body_markdown":"Which dependency does `javax.xml.namespace` come from? I think that `javax.xml.namespace` should stay starting with `javax`. See also [this issue](https://github.com/apache/tomcat-jakartaee-migration/issues/9).","body":"Which dependency does <code>javax.xml.namespace</code> come from? I think that <code>javax.xml.namespace</code> should stay starting with <code>javax</code>. See also <a href=\"https://github.com/apache/tomcat-jakartaee-migration/issues/9\" rel=\"nofollow noreferrer\">this issue</a>."}],"answers":[{"tags":[],"owner":{"account_id":28576136,"reputation":131,"user_id":21877718,"display_name":"Will Phi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689779314,"creation_date":1689779314,"answer_id":76722740,"question_id":76692311,"body_markdown":"javax -&gt; jakarta is only for JavaEE (JakartaEE). Some javax.* packages are of SE, not EE, for example:\r\n\r\n    javax.sql.*\r\n    javax.xml.*\r\n    javax.naming.*\r\n    javax.swing.*\r\n\r\nThey will simply keep javax.\r\n\r\n","title":"Migrating services to Spring Boot 3 - Unable to convert javax.xml.namespace to jakarta.xml.namespace","body":"<p>javax -&gt; jakarta is only for JavaEE (JakartaEE). Some javax.* packages are of SE, not EE, for example:</p>\n<pre><code>javax.sql.*\njavax.xml.*\njavax.naming.*\njavax.swing.*\n</code></pre>\n<p>They will simply keep javax.</p>\n"}],"owner":{"account_id":14103609,"reputation":55,"user_id":11423619,"display_name":"Shane Gurusingha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":876,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1689779314,"creation_date":1689398059,"question_id":76692311,"body_markdown":"We are migrating our services to Spring Boot 3. However, we have encountered an issue regarding the conversion from `javax.xml.namespace` to `jakarta.xml.namespace`. It seems that this namespace has not been migrated to Jakarta EE yet. As a result, our application is failing to start up with Tomcat 10.\r\n\r\nCould anyone please suggest a workaround or solution for this issue? We are seeking a way to successfully convert the `javax.xml.namespace` references to the corresponding `jakarta.xml.namespace` ones, ensuring compatibility with Spring Boot 3 and Tomcat 10.","title":"Migrating services to Spring Boot 3 - Unable to convert javax.xml.namespace to jakarta.xml.namespace","body":"<p>We are migrating our services to Spring Boot 3. However, we have encountered an issue regarding the conversion from <code>javax.xml.namespace</code> to <code>jakarta.xml.namespace</code>. It seems that this namespace has not been migrated to Jakarta EE yet. As a result, our application is failing to start up with Tomcat 10.</p>\n<p>Could anyone please suggest a workaround or solution for this issue? We are seeking a way to successfully convert the <code>javax.xml.namespace</code> references to the corresponding <code>jakarta.xml.namespace</code> ones, ensuring compatibility with Spring Boot 3 and Tomcat 10.</p>\n"},{"tags":["java","apache-pulsar"],"answers":[{"tags":[],"owner":{"account_id":3901577,"reputation":1056,"user_id":3229301,"display_name":"David Kjerrumgaard"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607627178,"creation_date":1607627178,"answer_id":65240768,"question_id":65233366,"body_markdown":"This is exactly the use case that [namespaces][1] were designed for. In Pulsar, a namespace is an administrative unit within a tenant that contains a subset of topics. The configuration policies set on a namespace apply to all the topics created in that namespace. The best way to address this issue is use the either the REST API or the [pulsar-admin CLI tool][2] to create a new namespace, e.g.\r\n\r\n    pulsar-admin namespaces create &lt;current-tenant&gt;/&lt;a-new-namespace&gt;\r\n\r\n\r\nOnce you have the new namespace, you can then configure the [retention policy][3] for the new namespace using the CLI tool, e.g.\r\n\r\n    $ pulsar-admin namespaces set-retention &lt;current-tenant&gt;/&lt;a-new-namespace&gt; \\\r\n      --size -1 \\\r\n      --time -1\r\n\r\n\r\nFinally, you will want to re-create the topics in the new namespace, and change your code to use these new topics.\r\n\r\n\r\n  [1]: https://pulsar.apache.org/docs/en/concepts-multi-tenancy/#namespaces\r\n  [2]: https://pulsar.apache.org/docs/en/pulsar-admin\r\n  [3]: https://pulsar.apache.org/docs/en/cookbooks-retention-expiry/#retention-policies","title":"Pulsar message bus: Can we configure message retention per topic?","body":"<p>This is exactly the use case that <a href=\"https://pulsar.apache.org/docs/en/concepts-multi-tenancy/#namespaces\" rel=\"nofollow noreferrer\">namespaces</a> were designed for. In Pulsar, a namespace is an administrative unit within a tenant that contains a subset of topics. The configuration policies set on a namespace apply to all the topics created in that namespace. The best way to address this issue is use the either the REST API or the <a href=\"https://pulsar.apache.org/docs/en/pulsar-admin\" rel=\"nofollow noreferrer\">pulsar-admin CLI tool</a> to create a new namespace, e.g.</p>\n<pre><code>pulsar-admin namespaces create &lt;current-tenant&gt;/&lt;a-new-namespace&gt;\n</code></pre>\n<p>Once you have the new namespace, you can then configure the <a href=\"https://pulsar.apache.org/docs/en/cookbooks-retention-expiry/#retention-policies\" rel=\"nofollow noreferrer\">retention policy</a> for the new namespace using the CLI tool, e.g.</p>\n<pre><code>$ pulsar-admin namespaces set-retention &lt;current-tenant&gt;/&lt;a-new-namespace&gt; \\\n  --size -1 \\\n  --time -1\n</code></pre>\n<p>Finally, you will want to re-create the topics in the new namespace, and change your code to use these new topics.</p>\n"},{"tags":[],"owner":{"account_id":14166325,"reputation":1020,"user_id":10234183,"display_name":"Chris Bartholomew"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607629860,"creation_date":1607629860,"answer_id":65241358,"question_id":65233366,"body_markdown":"If you use a subscription on the topic, then you don&#39;t have to worry about message retention. Messages in a subscription backlog are not removed until they are acknowledged, regardless of the retention setting. Just use the Consumer interface in the client and acknowledge each message after the calculations are done. \r\n\r\nFor more details about retention and subscription backlogs, see this [Understanding Pulsar Message TTL, Backlog, and Retention][1]\r\n\r\n\r\n  [1]: https://kesque.com/understanding-pulsar-message-ttl-backlog-and-retention/","title":"Pulsar message bus: Can we configure message retention per topic?","body":"<p>If you use a subscription on the topic, then you don't have to worry about message retention. Messages in a subscription backlog are not removed until they are acknowledged, regardless of the retention setting. Just use the Consumer interface in the client and acknowledge each message after the calculations are done.</p>\n<p>For more details about retention and subscription backlogs, see this <a href=\"https://kesque.com/understanding-pulsar-message-ttl-backlog-and-retention/\" rel=\"nofollow noreferrer\">Understanding Pulsar Message TTL, Backlog, and Retention</a></p>\n"},{"tags":[],"owner":{"account_id":28773270,"reputation":11,"user_id":22036550,"display_name":"JTBS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689779261,"creation_date":1689779261,"answer_id":76722731,"question_id":65233366,"body_markdown":"Most documentation refers to these policies set at namespace.\r\nI see no mention of ability to set these at topic level.\r\n\r\nBut if you dig into Admin API, I see API capabilities to set most useful policies at topic level - which should be overriding any at namespace\r\nExample:\r\nhttps://pulsar.apache.org/admin-rest-api/?version=3.0.0/#operation/PersistentTopics_setInactiveTopicPolicies\r\nhttps://pulsar.apache.org/admin-rest-api/?version=3.0.0/#operation/PersistentTopics_setMessageTTL\r\n\r\nIts not clear why documentation explicitly mention this AND Admin UI also does not expose this. \r\n\r\nIn general it does make sense to manage this at namespace. But its important for developers to know if there is a way to override this at topic level. My understanding is we can do so with Admin API","title":"Pulsar message bus: Can we configure message retention per topic?","body":"<p>Most documentation refers to these policies set at namespace.\nI see no mention of ability to set these at topic level.</p>\n<p>But if you dig into Admin API, I see API capabilities to set most useful policies at topic level - which should be overriding any at namespace\nExample:\n<a href=\"https://pulsar.apache.org/admin-rest-api/?version=3.0.0/#operation/PersistentTopics_setInactiveTopicPolicies\" rel=\"nofollow noreferrer\">https://pulsar.apache.org/admin-rest-api/?version=3.0.0/#operation/PersistentTopics_setInactiveTopicPolicies</a>\n<a href=\"https://pulsar.apache.org/admin-rest-api/?version=3.0.0/#operation/PersistentTopics_setMessageTTL\" rel=\"nofollow noreferrer\">https://pulsar.apache.org/admin-rest-api/?version=3.0.0/#operation/PersistentTopics_setMessageTTL</a></p>\n<p>Its not clear why documentation explicitly mention this AND Admin UI also does not expose this.</p>\n<p>In general it does make sense to manage this at namespace. But its important for developers to know if there is a way to override this at topic level. My understanding is we can do so with Admin API</p>\n"}],"owner":{"account_id":6196723,"reputation":31,"user_id":4827801,"display_name":"rajukemburi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":623,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1689779261,"creation_date":1607598518,"question_id":65233366,"body_markdown":"We have a usecase where our messages processor, processes messages with very complex calculations on messages from few topics. These calculations are not finishing within the rention period configured.\r\nInstead of increaseing message retention globally for all topics can we set this for the few topics where we need messages to be retained for more time?\r\nMessage retention per topic is possible?","title":"Pulsar message bus: Can we configure message retention per topic?","body":"<p>We have a usecase where our messages processor, processes messages with very complex calculations on messages from few topics. These calculations are not finishing within the rention period configured.\nInstead of increaseing message retention globally for all topics can we set this for the few topics where we need messages to be retained for more time?\nMessage retention per topic is possible?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689691103,"post_id":76713751,"comment_id":135247724,"body_markdown":"Where are you stuck doing this? You need to use offsetIPs  (or other values you write to that file) to adjust the starting values of your loops, but you are not using it at all.","body":"Where are you stuck doing this? You need to use offsetIPs  (or other values you write to that file) to adjust the starting values of your loops, but you are not using it at all."},{"owner":{"account_id":28295664,"reputation":21,"user_id":21635171,"display_name":"KnotAnotherOne"},"score":0,"creation_date":1689691293,"post_id":76713751,"comment_id":135247781,"body_markdown":"I mentioned that I&#39;m not using it because I don&#39;t know how to implement it into the loops.","body":"I mentioned that I&#39;m not using it because I don&#39;t know how to implement it into the loops."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689716314,"post_id":76713751,"comment_id":135252414,"body_markdown":"You could write i,j,k and l into your file, and initialise the loop variables from those values instead of always starting a zero.","body":"You could write i,j,k and l into your file, and initialise the loop variables from those values instead of always starting a zero."},{"owner":{"account_id":28295664,"reputation":21,"user_id":21635171,"display_name":"KnotAnotherOne"},"score":0,"creation_date":1689747894,"post_id":76713751,"comment_id":135255196,"body_markdown":"Please post this as an answer, because it works. Thank you so much!","body":"Please post this as an answer, because it works. Thank you so much!"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1689747991,"post_id":76713751,"comment_id":135255218,"body_markdown":"I think this question is too specific to be useful to other SO users, so while I&#39;m glad my comment helped, I&#39;m not going to write an answer.","body":"I think this question is too specific to be useful to other SO users, so while I&#39;m glad my comment helped, I&#39;m not going to write an answer."},{"owner":{"account_id":28295664,"reputation":21,"user_id":21635171,"display_name":"KnotAnotherOne"},"score":0,"creation_date":1689779059,"post_id":76713751,"comment_id":135262400,"body_markdown":"Oh. OK. Thanks for responding anyway!","body":"Oh. OK. Thanks for responding anyway!"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689748354,"creation_date":1689747320,"answer_id":76718439,"question_id":76713751,"body_markdown":"The code in your question is not a [minimal, reproducible example][1], however you are basically wanting to save values of certain variables to a file when your program terminates unexpectedly and when you restart your program, you want it to resume from where it failed in the previous run.\r\n\r\nThe below code removes all the unnecessary code from your question (which caused it to not compile when I copied it) and simply demonstrates what I described in the previous paragraph.\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.BufferedWriter;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.StandardOpenOption;\r\n\r\npublic class OffsetIp {\r\n\r\n    public static void main(String[] args) {\r\n        String offsetIPs;\r\n        File offsetFile = new File(&quot;offset.mcscan&quot;);\r\n        Path path = offsetFile.toPath();\r\n        if (offsetFile.exists()) {\r\n            try (BufferedReader br = Files.newBufferedReader(path)) {\r\n                offsetIPs = br.readLine();\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(&quot;Failed to read &#39;offset.mcscan&#39;!&quot;, e);\r\n            }\r\n        }\r\n        else {\r\n            offsetIPs = null;\r\n        }\r\n        int maxRange = 10;\r\n        int i = 0;\r\n        int j = 0;\r\n        int k = 0;\r\n        int l = 0;\r\n        if (offsetIPs != null) {\r\n            String[] parts = offsetIPs.split(&quot;\\\\.&quot;);\r\n            i = Integer.parseInt(parts[0]);\r\n            j = Integer.parseInt(parts[1]);\r\n            k = Integer.parseInt(parts[2]);\r\n            l = Integer.parseInt(parts[3]);\r\n        }\r\n        int limit = 255;\r\n        // this is where I need to implement offsetIPs, but how?\r\n        for (; i &lt;= maxRange; ++i) {\r\n            for (; j &lt;= limit; ++j) {\r\n                for (; k &lt;= limit; ++k) {\r\n                    for (; l &lt;= limit; ++l) {\r\n                        offsetIPs = i + &quot;.&quot; + j + &quot;.&quot; + k + &quot;.&quot; + l;\r\n                        System.out.println(offsetIPs);\r\n                    }\r\n                    l = 0;\r\n                }\r\n                k = 0;\r\n            }\r\n            j = 0;\r\n        }\r\n        if (i &gt;= maxRange) {\r\n            i = 0;\r\n        }\r\n        if (j &gt;= limit) {\r\n            j = 0;\r\n        }\r\n        if (k &gt;= limit) {\r\n            k = 0;\r\n        }\r\n        if (l &gt;= limit) {\r\n            l = 0;\r\n        }\r\n        offsetIPs = i + &quot;.&quot; + j + &quot;.&quot; + k + &quot;.&quot; + l;\r\n        try (BufferedWriter bw = Files.newBufferedWriter(path,\r\n                                                         StandardOpenOption.CREATE,\r\n                                                         StandardOpenOption.TRUNCATE_EXISTING,\r\n                                                         StandardOpenOption.WRITE)) {\r\n            bw.write(offsetIPs);\r\n        }\r\n        catch (IOException xIo) {\r\n            throw new RuntimeException(&quot;Save failed.&quot;, xIo);\r\n        }\r\n    }\r\n}\r\n```\r\nThe above code uses [try-with-resources][2] and [NIO.2][3].  \r\nI write the last generated IP to the file. If the process terminates normally, i.e. without exceptions, then I reset the indexes so that the next time you run the code, it will start at the beginning again (which I assume is what you want). Note that inside the inner-most `for` loop &amp;ndash; where you generate the IPs &amp;ndash; you will probably have a `try-catch`. In that `catch` block you also need to write the last generated IP to the file. Also note that you probably need to change the `catch` blocks, in the above code, to better suit your needs (which I could not ascertain from your question).\r\n\r\n\r\n  [1]: https://stackoverflow.com/help/minimal-reproducible-example\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/essential/io/fileio.html","title":"Resume from an offset when program is started again","body":"<p>The code in your question is not a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a>, however you are basically wanting to save values of certain variables to a file when your program terminates unexpectedly and when you restart your program, you want it to resume from where it failed in the previous run.</p>\n<p>The below code removes all the unnecessary code from your question (which caused it to not compile when I copied it) and simply demonstrates what I described in the previous paragraph.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.StandardOpenOption;\n\npublic class OffsetIp {\n\n    public static void main(String[] args) {\n        String offsetIPs;\n        File offsetFile = new File(&quot;offset.mcscan&quot;);\n        Path path = offsetFile.toPath();\n        if (offsetFile.exists()) {\n            try (BufferedReader br = Files.newBufferedReader(path)) {\n                offsetIPs = br.readLine();\n            } catch (IOException e) {\n                throw new RuntimeException(&quot;Failed to read 'offset.mcscan'!&quot;, e);\n            }\n        }\n        else {\n            offsetIPs = null;\n        }\n        int maxRange = 10;\n        int i = 0;\n        int j = 0;\n        int k = 0;\n        int l = 0;\n        if (offsetIPs != null) {\n            String[] parts = offsetIPs.split(&quot;\\\\.&quot;);\n            i = Integer.parseInt(parts[0]);\n            j = Integer.parseInt(parts[1]);\n            k = Integer.parseInt(parts[2]);\n            l = Integer.parseInt(parts[3]);\n        }\n        int limit = 255;\n        // this is where I need to implement offsetIPs, but how?\n        for (; i &lt;= maxRange; ++i) {\n            for (; j &lt;= limit; ++j) {\n                for (; k &lt;= limit; ++k) {\n                    for (; l &lt;= limit; ++l) {\n                        offsetIPs = i + &quot;.&quot; + j + &quot;.&quot; + k + &quot;.&quot; + l;\n                        System.out.println(offsetIPs);\n                    }\n                    l = 0;\n                }\n                k = 0;\n            }\n            j = 0;\n        }\n        if (i &gt;= maxRange) {\n            i = 0;\n        }\n        if (j &gt;= limit) {\n            j = 0;\n        }\n        if (k &gt;= limit) {\n            k = 0;\n        }\n        if (l &gt;= limit) {\n            l = 0;\n        }\n        offsetIPs = i + &quot;.&quot; + j + &quot;.&quot; + k + &quot;.&quot; + l;\n        try (BufferedWriter bw = Files.newBufferedWriter(path,\n                                                         StandardOpenOption.CREATE,\n                                                         StandardOpenOption.TRUNCATE_EXISTING,\n                                                         StandardOpenOption.WRITE)) {\n            bw.write(offsetIPs);\n        }\n        catch (IOException xIo) {\n            throw new RuntimeException(&quot;Save failed.&quot;, xIo);\n        }\n    }\n}\n</code></pre>\n<p>The above code uses <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> and <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/fileio.html\" rel=\"nofollow noreferrer\">NIO.2</a>.<br />\nI write the last generated IP to the file. If the process terminates normally, i.e. without exceptions, then I reset the indexes so that the next time you run the code, it will start at the beginning again (which I assume is what you want). Note that inside the inner-most <code>for</code> loop  where you generate the IPs  you will probably have a <code>try-catch</code>. In that <code>catch</code> block you also need to write the last generated IP to the file. Also note that you probably need to change the <code>catch</code> blocks, in the above code, to better suit your needs (which I could not ascertain from your question).</p>\n"},{"comments":[{"owner":{"account_id":28295664,"reputation":21,"user_id":21635171,"display_name":"KnotAnotherOne"},"score":1,"creation_date":1689779158,"post_id":76719109,"comment_id":135262421,"body_markdown":"I actually might use a bit of this for my code. Thank you for answering, anyway!","body":"I actually might use a bit of this for my code. Thank you for answering, anyway!"}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689753588,"creation_date":1689753588,"answer_id":76719109,"question_id":76713751,"body_markdown":"Store the address within a class, so that you can increment it accordingly.  \r\nSubsequently, you can use a _toString_ to return the text representation.\r\n\r\n```java\r\nclass Address {\r\n    long value;\r\n\r\n    Address(long value) {\r\n        this.value = value;\r\n    }\r\n\r\n    void increment() {\r\n        value++;\r\n    }\r\n    \r\n    void increment(long amount) {\r\n        value += amount;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        long value = this.value;\r\n        StringBuilder string = new StringBuilder();\r\n        for (int count = 0; count &lt; 4; count++) {\r\n            if (count != 0) string.insert(0, &#39;.&#39;);\r\n            string.insert(0, value &amp; 0xff);\r\n            value &gt;&gt;= 8;\r\n        }\r\n        return string.toString();\r\n    }\r\n}\r\n```\r\n\r\nHere is an example usage.\r\n\r\n```java\r\nAddress address = new Address(0x0100003f);\r\naddress.increment();\r\nSystem.out.println(address);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n1.0.0.64\r\n```\r\n\r\nYou could then utilize _save_ and _load_ methods to maintain the offset.\r\n\r\n```java\r\nAddress load() throws FileNotFoundException {\r\n    try (Scanner scanner = new Scanner(new File(&quot;offset.mcscan&quot;))) {\r\n        return new Address(scanner.nextLong());\r\n    }\r\n}\r\n\r\nvoid save(Address address) throws IOException {\r\n    try (FileWriter writer = new FileWriter(&quot;offset.mcscan&quot;)) {\r\n        writer.write(String.valueOf(address.value));\r\n    }\r\n}\r\n```\r\n\r\nExample,\r\n\r\n```java\r\nAddress address = new Address(0x0100003f);\r\nsave(address);\r\naddress = load();\r\naddress.increment();\r\nSystem.out.println(address);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n1.0.0.64\r\n```","title":"Resume from an offset when program is started again","body":"<p>Store the address within a class, so that you can increment it accordingly.<br />\nSubsequently, you can use a <em>toString</em> to return the text representation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Address {\n    long value;\n\n    Address(long value) {\n        this.value = value;\n    }\n\n    void increment() {\n        value++;\n    }\n    \n    void increment(long amount) {\n        value += amount;\n    }\n\n    @Override\n    public String toString() {\n        long value = this.value;\n        StringBuilder string = new StringBuilder();\n        for (int count = 0; count &lt; 4; count++) {\n            if (count != 0) string.insert(0, '.');\n            string.insert(0, value &amp; 0xff);\n            value &gt;&gt;= 8;\n        }\n        return string.toString();\n    }\n}\n</code></pre>\n<p>Here is an example usage.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Address address = new Address(0x0100003f);\naddress.increment();\nSystem.out.println(address);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>1.0.0.64\n</code></pre>\n<p>You could then utilize <em>save</em> and <em>load</em> methods to maintain the offset.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Address load() throws FileNotFoundException {\n    try (Scanner scanner = new Scanner(new File(&quot;offset.mcscan&quot;))) {\n        return new Address(scanner.nextLong());\n    }\n}\n\nvoid save(Address address) throws IOException {\n    try (FileWriter writer = new FileWriter(&quot;offset.mcscan&quot;)) {\n        writer.write(String.valueOf(address.value));\n    }\n}\n</code></pre>\n<p>Example,</p>\n<pre class=\"lang-java prettyprint-override\"><code>Address address = new Address(0x0100003f);\nsave(address);\naddress = load();\naddress.increment();\nSystem.out.println(address);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>1.0.0.64\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28295664,"reputation":21,"user_id":21635171,"display_name":"KnotAnotherOne"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689779254,"creation_date":1689779254,"answer_id":76722728,"question_id":76713751,"body_markdown":"I did something like this:\r\n```\r\npublic class MCScanner {\r\n    private static int offsetI = 1;\r\n    private static int offsetJ = 0;\r\n    private static int offsetK = 0;\r\n    private static int offsetL = 0;\r\n    public static void main(String[] var0) {\r\n        int thisOffsetI = offsetI;\r\n        int thisOffsetJ = offsetJ;\r\n        int thisOffsetK = offsetK;\r\n        int thisOffsetL = offsetL;\r\n        for (int i = thisOffsetI; i &lt;= maxRange; ++i) {\r\n            offsetI = i;\r\n            for (int j = thisOffsetJ; j &lt;= 255; ++j) {\r\n                offsetJ = j;\r\n                for (int k = thisOffsetK; k &lt;= 255; ++k) {\r\n                    offsetK = k;\r\n                    for (int l = thisOffsetL; l &lt;= 255; ++l) {\r\n                        offsetL = l;\r\n                        String ip = i + &quot;.&quot; + j + &quot;.&quot; + k + &quot;.&quot; + l;\r\n\r\n                        // rest of my code\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nAnd it worked.\r\n\r\nExplanation: I save each offset variable `offsetI/J/K/L` to `offset.mcscan`, and upon next startup, I load it and increment the offsets so that they&#39;re ready to be saved at next shutdown.","title":"Resume from an offset when program is started again","body":"<p>I did something like this:</p>\n<pre><code>public class MCScanner {\n    private static int offsetI = 1;\n    private static int offsetJ = 0;\n    private static int offsetK = 0;\n    private static int offsetL = 0;\n    public static void main(String[] var0) {\n        int thisOffsetI = offsetI;\n        int thisOffsetJ = offsetJ;\n        int thisOffsetK = offsetK;\n        int thisOffsetL = offsetL;\n        for (int i = thisOffsetI; i &lt;= maxRange; ++i) {\n            offsetI = i;\n            for (int j = thisOffsetJ; j &lt;= 255; ++j) {\n                offsetJ = j;\n                for (int k = thisOffsetK; k &lt;= 255; ++k) {\n                    offsetK = k;\n                    for (int l = thisOffsetL; l &lt;= 255; ++l) {\n                        offsetL = l;\n                        String ip = i + &quot;.&quot; + j + &quot;.&quot; + k + &quot;.&quot; + l;\n\n                        // rest of my code\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>And it worked.</p>\n<p>Explanation: I save each offset variable <code>offsetI/J/K/L</code> to <code>offset.mcscan</code>, and upon next startup, I load it and increment the offsets so that they're ready to be saved at next shutdown.</p>\n"}],"owner":{"account_id":28295664,"reputation":21,"user_id":21635171,"display_name":"KnotAnotherOne"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76722728,"answer_count":3,"score":0,"last_activity_date":1689779254,"creation_date":1689689929,"question_id":76713751,"body_markdown":"Before I start, this isn&#39;t your average resume from offset. Well, from what I see.\r\nSo, I have this Minecraft Server Scanner, which generates IPs from 0.0.0.0 to 255.255.255.255, and I make it scan port 25565 on these IPs for a Minecraft Java server. \r\n\r\nI want to make it so when I quit the program, it saves the value of the `offsetIPs` variable to a file name `offset.mcscan`.\r\nThen, when the program is launched again, it will check to see if this file exists and if it does, then it will update the `for` loops to start from where it left off. Here is the code I have so far:\r\n\r\n```\r\n        JFrame frame = new JFrame(&quot;MCScanner v&quot; + version);\r\n        frame.setDefaultCloseOperation(WindowConstants.DO_NOTHING_ON_CLOSE);\r\n        frame.setSize(300, 100);\r\n        frame.setLayout(new BorderLayout());\r\n        frame.addWindowListener(new java.awt.event.WindowAdapter() {\r\n            @Override\r\n            public void windowClosing(java.awt.event.WindowEvent windowEvent) {\r\n                logger.log(Level.INFO, &quot;Stopping threads...&quot;);\r\n                for (Thread nextThread: threadList) {\r\n                    nextThread.interrupt();\r\n                }\r\n                logger.log(Level.INFO, &quot;Making an &#39;offset.mcscan&#39;...&quot;);\r\n                try {\r\n                    BufferedWriter writer = new BufferedWriter(new FileWriter(&quot;offset.mcscan&quot;));\r\n                    writer.write(Long.toString(offsetIPs));\r\n                    writer.close();\r\n                } catch (IOException e) {\r\n                    logger.log(Level.SEVERE, &quot;Failed to write &#39;offset.mcscan&#39;!&quot;);\r\n                }\r\n                logger.log(Level.INFO, &quot;Exiting...&quot;);\r\n                System.exit(0);\r\n            }\r\n        });\r\n        long scanned = 0;\r\n        long offsetIPs = 0;\r\n\r\n        ...\r\n\r\n        frame.setVisible(true);\r\n\r\n        File offsetFile = new File(&quot;offset.mcscan&quot;);\r\n        if (offsetFile.exists()) {\r\n            try {\r\n                BufferedReader reader = new BufferedReader(new FileReader(offsetFile));\r\n                offsetIPs = Long.parseLong(reader.readLine());\r\n                reader.close();\r\n            } catch (IOException e) {\r\n                logger.log(Level.SEVERE, &quot;Failed to read &#39;offset.mcscan&#39;!&quot;);\r\n            }\r\n        }\r\n\r\n        // this is where I need to implement offsetIPs, but how?\r\n        for (int i = minimumRange; i &lt;= maxRange; ++i) {\r\n            for (int j = 0; j &lt;= 255; ++j) {\r\n                for (int k = 0; k &lt;= 255; ++k) {\r\n                    for (int l = 0; l &lt;= 255; ++l) {\r\n                        String ip = i + &quot;.&quot; + j + &quot;.&quot; + k + &quot;.&quot; + l;\r\n\r\n                        ScannerThread scannerThread = new ScannerThread(ip, port, timeout, databaseHandler);\r\n                        Thread scanThread = new Thread(scannerThread);\r\n                        threadList.add(scanThread);\r\n                        scanThread.start();\r\n\r\n                        if (threadList.size() &gt;= threads.get()) {\r\n                            for (Thread nextThread: threadList) {\r\n                                try {\r\n                                    nextThread.join();\r\n                                    ++scanned;\r\n                                    ++offsetIPs;\r\n                                    scannedLabel.setText(&quot;Scanned: &quot; + scanned + &quot;/&quot; + progressThing * 256 + &quot; (&quot; + Math.round((scanned / (progressThing * 256)) * 100) / 100 + &quot;%)&quot;);\r\n                                } catch (InterruptedException timeout2) {\r\n                                    // eh\r\n                                }\r\n                            }\r\n                            threadList.clear();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        for (Thread nextThreadAgain: threadList) {\r\n            try {\r\n                nextThreadAgain.join();\r\n                ++offsetIPs;\r\n                ++scanned;\r\n                // progressBar.setValue(scanned);\r\n                scannedLabel.setText(&quot;Scanned: &quot; + scanned + &quot;/&quot; + progressThing * 256);\r\n            } catch (InterruptedException timeout1) {\r\n                // well\r\n            }\r\n        }\r\n```\r\nRight now, I have no code for resuming from the offset.\r\n\r\nI need it so that when it scans 64 IPs, and then I close the program, it&#39;ll write `64` to `offset.mcscan`. But now I want it to resume from that 64th IP (or whatever value is in `offset.mcscan`) (64th IP would be `1.0.0.63`), and then scan IPs after that (65th = `1.0.0.64`, 66th = `1.0.0.65`, etc).\r\n\r\nHow would I make it do this? Right now, I need help implementing it into my `for` loops. I would research, but I have no idea what I would even be searching for. I do hope this makes sense, please let me know if it doesn&#39;t.","title":"Resume from an offset when program is started again","body":"<p>Before I start, this isn't your average resume from offset. Well, from what I see.\nSo, I have this Minecraft Server Scanner, which generates IPs from 0.0.0.0 to 255.255.255.255, and I make it scan port 25565 on these IPs for a Minecraft Java server.</p>\n<p>I want to make it so when I quit the program, it saves the value of the <code>offsetIPs</code> variable to a file name <code>offset.mcscan</code>.\nThen, when the program is launched again, it will check to see if this file exists and if it does, then it will update the <code>for</code> loops to start from where it left off. Here is the code I have so far:</p>\n<pre><code>        JFrame frame = new JFrame(&quot;MCScanner v&quot; + version);\n        frame.setDefaultCloseOperation(WindowConstants.DO_NOTHING_ON_CLOSE);\n        frame.setSize(300, 100);\n        frame.setLayout(new BorderLayout());\n        frame.addWindowListener(new java.awt.event.WindowAdapter() {\n            @Override\n            public void windowClosing(java.awt.event.WindowEvent windowEvent) {\n                logger.log(Level.INFO, &quot;Stopping threads...&quot;);\n                for (Thread nextThread: threadList) {\n                    nextThread.interrupt();\n                }\n                logger.log(Level.INFO, &quot;Making an 'offset.mcscan'...&quot;);\n                try {\n                    BufferedWriter writer = new BufferedWriter(new FileWriter(&quot;offset.mcscan&quot;));\n                    writer.write(Long.toString(offsetIPs));\n                    writer.close();\n                } catch (IOException e) {\n                    logger.log(Level.SEVERE, &quot;Failed to write 'offset.mcscan'!&quot;);\n                }\n                logger.log(Level.INFO, &quot;Exiting...&quot;);\n                System.exit(0);\n            }\n        });\n        long scanned = 0;\n        long offsetIPs = 0;\n\n        ...\n\n        frame.setVisible(true);\n\n        File offsetFile = new File(&quot;offset.mcscan&quot;);\n        if (offsetFile.exists()) {\n            try {\n                BufferedReader reader = new BufferedReader(new FileReader(offsetFile));\n                offsetIPs = Long.parseLong(reader.readLine());\n                reader.close();\n            } catch (IOException e) {\n                logger.log(Level.SEVERE, &quot;Failed to read 'offset.mcscan'!&quot;);\n            }\n        }\n\n        // this is where I need to implement offsetIPs, but how?\n        for (int i = minimumRange; i &lt;= maxRange; ++i) {\n            for (int j = 0; j &lt;= 255; ++j) {\n                for (int k = 0; k &lt;= 255; ++k) {\n                    for (int l = 0; l &lt;= 255; ++l) {\n                        String ip = i + &quot;.&quot; + j + &quot;.&quot; + k + &quot;.&quot; + l;\n\n                        ScannerThread scannerThread = new ScannerThread(ip, port, timeout, databaseHandler);\n                        Thread scanThread = new Thread(scannerThread);\n                        threadList.add(scanThread);\n                        scanThread.start();\n\n                        if (threadList.size() &gt;= threads.get()) {\n                            for (Thread nextThread: threadList) {\n                                try {\n                                    nextThread.join();\n                                    ++scanned;\n                                    ++offsetIPs;\n                                    scannedLabel.setText(&quot;Scanned: &quot; + scanned + &quot;/&quot; + progressThing * 256 + &quot; (&quot; + Math.round((scanned / (progressThing * 256)) * 100) / 100 + &quot;%)&quot;);\n                                } catch (InterruptedException timeout2) {\n                                    // eh\n                                }\n                            }\n                            threadList.clear();\n                        }\n                    }\n                }\n            }\n        }\n\n        for (Thread nextThreadAgain: threadList) {\n            try {\n                nextThreadAgain.join();\n                ++offsetIPs;\n                ++scanned;\n                // progressBar.setValue(scanned);\n                scannedLabel.setText(&quot;Scanned: &quot; + scanned + &quot;/&quot; + progressThing * 256);\n            } catch (InterruptedException timeout1) {\n                // well\n            }\n        }\n</code></pre>\n<p>Right now, I have no code for resuming from the offset.</p>\n<p>I need it so that when it scans 64 IPs, and then I close the program, it'll write <code>64</code> to <code>offset.mcscan</code>. But now I want it to resume from that 64th IP (or whatever value is in <code>offset.mcscan</code>) (64th IP would be <code>1.0.0.63</code>), and then scan IPs after that (65th = <code>1.0.0.64</code>, 66th = <code>1.0.0.65</code>, etc).</p>\n<p>How would I make it do this? Right now, I need help implementing it into my <code>for</code> loops. I would research, but I have no idea what I would even be searching for. I do hope this makes sense, please let me know if it doesn't.</p>\n"},{"tags":["java","junit","junit5","wiremock"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1631691692,"post_id":69188899,"comment_id":122287588,"body_markdown":"one line of 510 covered? I would agree that 1 is less than 1% of 510. a unit test being green means nothing. assert(true); will be green as well, doesn&#39;t mean it adds up to code or scenario coverage","body":"one line of 510 covered? I would agree that 1 is less than 1% of 510. a unit test being green means nothing. assert(true); will be green as well, doesn&#39;t mean it adds up to code or scenario coverage"},{"owner":{"account_id":1491257,"reputation":183,"user_id":1398291,"display_name":"user1398291"},"score":0,"creation_date":1631693028,"post_id":69188899,"comment_id":122288149,"body_markdown":"I tried adding assert condition for multipole fields from response object but still coverage is showing zero. Basically my question is that why lines not getting covered with above Junit? what is missing.","body":"I tried adding assert condition for multipole fields from response object but still coverage is showing zero. Basically my question is that why lines not getting covered with above Junit? what is missing."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1631693741,"post_id":69188899,"comment_id":122288458,"body_markdown":"adding asserts for fields of the response doesn&#39;t change anything about coverage, why should it? and, how are we to know? it&#39;s not like we know what you are testing.","body":"adding asserts for fields of the response doesn&#39;t change anything about coverage, why should it? and, how are we to know? it&#39;s not like we know what you are testing."}],"owner":{"account_id":1491257,"reputation":183,"user_id":1398291,"display_name":"user1398291"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689779250,"creation_date":1631691524,"question_id":69188899,"body_markdown":"\r\nBaseControllerTest:\r\n\r\n \r\n\r\n    private static int port;\r\n    public static String hostUrl;\r\n    protected static WireMockServer wireMockServer;\r\n    protected static final ObjectMapper mapper = new ObjectMapper();\r\n    \r\n    public static RestTemplate restTemplate;\r\n    public static final String HOST = &quot;localhost&quot;;  \r\n      \r\n    \r\n    @Rule\r\n        public ExpectedException thrown = ExpectedException.none();    \r\n    @BeforeClass\r\n        public static void init() {\r\n            mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n            wireMockServer = new WireMockServer(WireMockConfiguration.wireMockConfig().dynamicPort());\r\n            wireMockServer.start();\r\n            port = wireMockServer.port();\r\n            WireMock.configureFor(HOST, port);\r\n            hostUrl = &quot;http://&quot; + HOST + &quot;:&quot; + port;\r\n            restTemplate = new RestTemplate();\r\n        }\r\n    \r\n        @AfterClass\r\n        public static void destroy() {\r\n            wireMockServer.stop();\r\n        }\r\n\r\n\r\n\r\n\r\n\r\nDummyResourceTest extends BaseControllerTest:\r\n\r\n   \r\n\r\n     @Test\r\n    public void testScenario1WithSuccess() throws JAXBException {\r\n        stubFor(post(urlPathEqualTo(END_POINT))\r\n                .withHeader(HttpHeaders.ACCEPT, equalTo(MediaType.APPLICATION_JSON))\r\n                .withHeader(HttpHeaders.CONTENT_TYPE, equalTo(MediaType.APPLICATION_JSON))\r\n                .withHeader(HttpHeaders.AUTHORIZATION, equalTo(TEST_SERVICE_TOKEN))\r\n                .withRequestBody(containing(TEST_FIELD_1))\r\n                .willReturn(aResponse().withStatus(200)\r\n                        .withHeader(CONTENT_TYPE, MediaType.APPLICATION_JSON)\r\n                        .withBody(readJsonFile(&quot;Sample_Response.json&quot;))));\r\n\r\n        RequestObject request = new RequestObject();\r\n        request.setField1(&quot;111&quot;);\r\n\r\n        HttpHeaders httpHeaders = new HttpHeaders();\r\n        httpHeaders.setContentType(org.springframework.http.MediaType.APPLICATION_JSON);\r\n        httpHeaders.add(ACCEPT, APPLICATION_JSON);\r\n        httpHeaders.set(AppConstants.AUTHORIZATION,  TEST_SERVICE_TOKEN);\r\n        HttpEntity&lt;Object&gt; requestEntity = new HttpEntity&lt;&gt;(request, httpHeaders);\r\n\r\n\r\n        ResponseEntity&lt;String&gt; responseEntity =  restTemplate.exchange(END_POINT,\r\n                HttpMethod.POST, requestEntity,\r\n                String.class);\r\n\r\n        assertNotNull(responseEntity);\r\n        assertEquals(HttpStatus.OK.value(),responseEntity.getStatusCodeValue());\r\n        \r\n    }\r\n    \r\nTest runs properly and its green as well. But it&#39;s showing zero code coverage (in IntelliJ) for that Dummy Controller/resource class.\r\n[![enter image description here][1]][1]\r\n\r\nAnything I am missing here?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6yZWy.png","title":"Wiremock showing zero code coverage even-though Junit is green","body":"<p>BaseControllerTest:</p>\n<pre><code>private static int port;\npublic static String hostUrl;\nprotected static WireMockServer wireMockServer;\nprotected static final ObjectMapper mapper = new ObjectMapper();\n\npublic static RestTemplate restTemplate;\npublic static final String HOST = &quot;localhost&quot;;  \n  \n\n@Rule\n    public ExpectedException thrown = ExpectedException.none();    \n@BeforeClass\n    public static void init() {\n        mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n        wireMockServer = new WireMockServer(WireMockConfiguration.wireMockConfig().dynamicPort());\n        wireMockServer.start();\n        port = wireMockServer.port();\n        WireMock.configureFor(HOST, port);\n        hostUrl = &quot;http://&quot; + HOST + &quot;:&quot; + port;\n        restTemplate = new RestTemplate();\n    }\n\n    @AfterClass\n    public static void destroy() {\n        wireMockServer.stop();\n    }\n</code></pre>\n<p>DummyResourceTest extends BaseControllerTest:</p>\n<pre><code> @Test\npublic void testScenario1WithSuccess() throws JAXBException {\n    stubFor(post(urlPathEqualTo(END_POINT))\n            .withHeader(HttpHeaders.ACCEPT, equalTo(MediaType.APPLICATION_JSON))\n            .withHeader(HttpHeaders.CONTENT_TYPE, equalTo(MediaType.APPLICATION_JSON))\n            .withHeader(HttpHeaders.AUTHORIZATION, equalTo(TEST_SERVICE_TOKEN))\n            .withRequestBody(containing(TEST_FIELD_1))\n            .willReturn(aResponse().withStatus(200)\n                    .withHeader(CONTENT_TYPE, MediaType.APPLICATION_JSON)\n                    .withBody(readJsonFile(&quot;Sample_Response.json&quot;))));\n\n    RequestObject request = new RequestObject();\n    request.setField1(&quot;111&quot;);\n\n    HttpHeaders httpHeaders = new HttpHeaders();\n    httpHeaders.setContentType(org.springframework.http.MediaType.APPLICATION_JSON);\n    httpHeaders.add(ACCEPT, APPLICATION_JSON);\n    httpHeaders.set(AppConstants.AUTHORIZATION,  TEST_SERVICE_TOKEN);\n    HttpEntity&lt;Object&gt; requestEntity = new HttpEntity&lt;&gt;(request, httpHeaders);\n\n\n    ResponseEntity&lt;String&gt; responseEntity =  restTemplate.exchange(END_POINT,\n            HttpMethod.POST, requestEntity,\n            String.class);\n\n    assertNotNull(responseEntity);\n    assertEquals(HttpStatus.OK.value(),responseEntity.getStatusCodeValue());\n    \n}\n</code></pre>\n<p>Test runs properly and its green as well. But it's showing zero code coverage (in IntelliJ) for that Dummy Controller/resource class.\n<a href=\"https://i.stack.imgur.com/6yZWy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6yZWy.png\" alt=\"enter image description here\" /></a></p>\n<p>Anything I am missing here?</p>\n"},{"tags":["java","spring","spring-boot","maven","spring-mvc"],"answers":[{"comments":[{"owner":{"account_id":18807214,"reputation":45,"user_id":13716265,"display_name":"Thorvas"},"score":0,"creation_date":1689779100,"post_id":76722671,"comment_id":135262408,"body_markdown":"You gave me a perfect hint! I just realized that I used legacy versions of both dependencies. Although you still need to specify version. Thank you!","body":"You gave me a perfect hint! I just realized that I used legacy versions of both dependencies. Although you still need to specify version. Thank you!"},{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":1,"creation_date":1689779144,"post_id":76722671,"comment_id":135262415,"body_markdown":"Glad it helped :)","body":"Glad it helped :)"}],"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689778861,"creation_date":1689778861,"answer_id":76722671,"question_id":76722481,"body_markdown":"There might be version compatibility issues with Spring HATEOAS and Spring Boot 3.1, consider removing version specification, allowing Spring Boot to manage versions automatically:\r\n```java\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.hateoas&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-hateoas&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Error with creating bean &#39;slicedResourcesAssembler&#39; when Spring HATEOAS added to POM","body":"<p>There might be version compatibility issues with Spring HATEOAS and Spring Boot 3.1, consider removing version specification, allowing Spring Boot to manage versions automatically:</p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.hateoas&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-hateoas&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":18807214,"reputation":45,"user_id":13716265,"display_name":"Thorvas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76722671,"answer_count":1,"score":0,"last_activity_date":1689779147,"creation_date":1689777414,"question_id":76722481,"body_markdown":"When I add Spring HATEOAS to pom.xml, i receive this error while trying to start my project. I use Spring Security, but project cannot start. When I remove Spring HATEOAS and Spring Plugin Core, problem does not exist. But I need to use HATEOAS in my project.\r\n\r\nerrors:\r\n```\r\n2023-07-19T16:32:19.228+02:00 ERROR 10588 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;slicedResourcesAssembler&#39; defined in class path resource [org/springframework/data/web/config/HateoasAwareSpringDataWebConfiguration.class]: Failed to instantiate [org.springframework.data.web.SlicedResourcesAssembler]: Factory method &#39;slicedResourcesAssembler&#39; threw exception with message: org/springframework/hateoas/SlicedModel\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:493) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.web.SlicedResourcesAssembler]: Factory method &#39;slicedResourcesAssembler&#39; threw exception with message: org/springframework/hateoas/SlicedModel\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\t... 19 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/hateoas/SlicedModel\r\n\tat org.springframework.data.web.config.HateoasAwareSpringDataWebConfiguration.slicedResourcesAssembler(HateoasAwareSpringDataWebConfiguration.java:106) ~[spring-data-commons-3.1.0.jar:3.1.0]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\t... 20 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.hateoas.SlicedModel\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\t... 26 common frames omitted\r\n```\r\n\r\nI don&#39;t use Spring HATEOAS anywhere in my project, tried ```mvn clean install``` and adding \r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.0.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nbut when I try to add this dependency, I receive even more exceptions, for example:\r\n\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Unsatisfied dependency expressed through field &#39;httpSecurity&#39;: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setContentNegotiationStrategy&#39; parameter 0: Error creating bean with name &#39;org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setConfigurers&#39; parameter 0: Error creating bean with name &#39;hypermediaWebMvcConfigurer&#39; defined in class path resource [org/springframework/hateoas/config/WebMvcHateoasConfiguration.class]: Unsatisfied dependency expressed through method &#39;hypermediaWebMvcConfigurer&#39; parameter 0: Error creating bean with name &#39;hypermediaWebMvcConverters&#39; defined in class path resource [org/springframework/hateoas/config/HateoasConfiguration.class]: Unsatisfied dependency expressed through method &#39;hypermediaWebMvcConverters&#39; parameter 1: Error creating bean with name &#39;org.springframework.hateoas.mediatype.hal.HalMediaTypeConfiguration&#39;: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;_relProvider&#39; defined in class path resource [org/springframework/hateoas/config/HateoasConfiguration.class]: Unsatisfied dependency expressed through method &#39;_relProvider&#39; parameter 0: Error creating bean with name &#39;relProviderPluginRegistry&#39;: FactoryBean threw exception on object creation\r\n\r\n\r\nMy pom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/jakarta.validation/jakarta.validation-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18.28&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.4.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.12&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.2.4.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.15.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.hateoas&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-hateoas&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.0.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"Error with creating bean &#39;slicedResourcesAssembler&#39; when Spring HATEOAS added to POM","body":"<p>When I add Spring HATEOAS to pom.xml, i receive this error while trying to start my project. I use Spring Security, but project cannot start. When I remove Spring HATEOAS and Spring Plugin Core, problem does not exist. But I need to use HATEOAS in my project.</p>\n<p>errors:</p>\n<pre><code>2023-07-19T16:32:19.228+02:00 ERROR 10588 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'slicedResourcesAssembler' defined in class path resource [org/springframework/data/web/config/HateoasAwareSpringDataWebConfiguration.class]: Failed to instantiate [org.springframework.data.web.SlicedResourcesAssembler]: Factory method 'slicedResourcesAssembler' threw exception with message: org/springframework/hateoas/SlicedModel\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:493) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\n    at com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.web.SlicedResourcesAssembler]: Factory method 'slicedResourcesAssembler' threw exception with message: org/springframework/hateoas/SlicedModel\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 19 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/hateoas/SlicedModel\n    at org.springframework.data.web.config.HateoasAwareSpringDataWebConfiguration.slicedResourcesAssembler(HateoasAwareSpringDataWebConfiguration.java:106) ~[spring-data-commons-3.1.0.jar:3.1.0]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 20 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.hateoas.SlicedModel\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    ... 26 common frames omitted\n</code></pre>\n<p>I don't use Spring HATEOAS anywhere in my project, tried <code>mvn clean install</code> and adding</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\n    &lt;version&gt;1.2.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>but when I try to add this dependency, I receive even more exceptions, for example:</p>\n<blockquote>\n<p>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through field 'httpSecurity': Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration': Unsatisfied dependency expressed through method 'setContentNegotiationStrategy' parameter 0: Error creating bean with name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0: Error creating bean with name 'hypermediaWebMvcConfigurer' defined in class path resource [org/springframework/hateoas/config/WebMvcHateoasConfiguration.class]: Unsatisfied dependency expressed through method 'hypermediaWebMvcConfigurer' parameter 0: Error creating bean with name 'hypermediaWebMvcConverters' defined in class path resource [org/springframework/hateoas/config/HateoasConfiguration.class]: Unsatisfied dependency expressed through method 'hypermediaWebMvcConverters' parameter 1: Error creating bean with name 'org.springframework.hateoas.mediatype.hal.HalMediaTypeConfiguration': Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name '_relProvider' defined in class path resource [org/springframework/hateoas/config/HateoasConfiguration.class]: Unsatisfied dependency expressed through method '_relProvider' parameter 0: Error creating bean with name 'relProviderPluginRegistry': FactoryBean threw exception on object creation</p>\n</blockquote>\n<p>My pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/jakarta.validation/jakarta.validation-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.28&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;5.4.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.12&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.2.4.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;2.15.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.hateoas&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-hateoas&lt;/artifactId&gt;\n            &lt;version&gt;1.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\n    &lt;version&gt;1.2.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","hibernate-envers"],"owner":{"account_id":26414744,"reputation":25,"user_id":20063314,"display_name":"Dannenberger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689779063,"creation_date":1689778672,"question_id":76722644,"body_markdown":"I am running a Hibernate AuditQuery to get revision info for an entity. With the second parameter as `false`, the result is joined with the REVINFO table:\r\n\r\n```\r\nAuditReader reader = AuditReaderFactory.get(em);\r\nAuditQuery query = reader.createQuery().forRevisionsOfEntity(Bar.class, false, true)\r\n```\r\n\r\nI don&#39;t want to join with the REVINFO table, but I do want the info on whether the revision was an ADD, MOD, or DEL. Is there a way to achieve this with an AuditQuery?\r\n\r\nGetting the revision of entity with changes doesn&#39;t work either since the entity isn&#39;t marked with `@Audited(withModifiedFlag = true)`\r\n\r\n```\r\nreader.createQuery().forRevisionOfEntityWithChanges(Bar.class, true)\r\n```","title":"Envers Query - Don&#39;t Join with REVINFO Table","body":"<p>I am running a Hibernate AuditQuery to get revision info for an entity. With the second parameter as <code>false</code>, the result is joined with the REVINFO table:</p>\n<pre><code>AuditReader reader = AuditReaderFactory.get(em);\nAuditQuery query = reader.createQuery().forRevisionsOfEntity(Bar.class, false, true)\n</code></pre>\n<p>I don't want to join with the REVINFO table, but I do want the info on whether the revision was an ADD, MOD, or DEL. Is there a way to achieve this with an AuditQuery?</p>\n<p>Getting the revision of entity with changes doesn't work either since the entity isn't marked with <code>@Audited(withModifiedFlag = true)</code></p>\n<pre><code>reader.createQuery().forRevisionOfEntityWithChanges(Bar.class, true)\n</code></pre>\n"},{"tags":["java","reverse"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":0,"creation_date":1689767361,"post_id":76720655,"comment_id":135259206,"body_markdown":"`int n = 2340; int res = Integer.parseInt(new StringBuilder(String.valueOf(n)).reverse().toString()); System.out.println(res);`","body":"<code>int n = 2340; int res = Integer.parseInt(new StringBuilder(String.valueOf(n)).reverse().toString()); System.out.println(res);</code>"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689778952,"creation_date":1689767769,"answer_id":76721044,"question_id":76720655,"body_markdown":"&gt; *how to modify this programme to print reverse number of integer excluding leading zero.*\r\n\r\nOne way is to re-construct the number in reverse. Use a long for the result to prevent int overflow.\r\n```\r\nint n = 12340;\r\nlong res =0;\r\nwhile(n &gt; 0){\r\n   res = res * 10 + n%10;\r\n   n/=10;\r\n}\r\nSystem.out.println(res);\r\n```\r\nPrints\r\n```\r\n4321\r\n```\r\n**Note:**  Had the number `Integer.MAX_VALUE (2147483647)` been used, the result would have been `7463847412`.  Had I used an `int` for the result, the result would have been `-1126087180` because the reversed value will not fit into an `int`, resulting in integer overflow.","title":"Solution to reverse Nth integer excluding leading zero","body":"<blockquote>\n<p><em>how to modify this programme to print reverse number of integer excluding leading zero.</em></p>\n</blockquote>\n<p>One way is to re-construct the number in reverse. Use a long for the result to prevent int overflow.</p>\n<pre><code>int n = 12340;\nlong res =0;\nwhile(n &gt; 0){\n   res = res * 10 + n%10;\n   n/=10;\n}\nSystem.out.println(res);\n</code></pre>\n<p>Prints</p>\n<pre><code>4321\n</code></pre>\n<p><strong>Note:</strong>  Had the number <code>Integer.MAX_VALUE (2147483647)</code> been used, the result would have been <code>7463847412</code>.  Had I used an <code>int</code> for the result, the result would have been <code>-1126087180</code> because the reversed value will not fit into an <code>int</code>, resulting in integer overflow.</p>\n"}],"owner":{"account_id":20882448,"reputation":9,"user_id":15339842,"display_name":"shivu2012"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689778952,"creation_date":1689764873,"question_id":76720655,"body_markdown":"how to modify this programme to print reverse number of integer excluding leading zero.\r\n```\r\nclass Solution {\r\n    public void solution(int N) {\r\n        int enable_print = N % 10;\r\n        while (N &gt; 0) {\r\n            if (enable_print == 0 &amp;&amp; N % 10 != 0) {\r\n                enable_print = 1;\r\n            }\r\n            else if (enable_print == 1) {\r\n                System.out.print(N % 10);\r\n            }\r\n            N = N / 10;\r\n        }\r\n    }\r\n}\r\n```","title":"Solution to reverse Nth integer excluding leading zero","body":"<p>how to modify this programme to print reverse number of integer excluding leading zero.</p>\n<pre><code>class Solution {\n    public void solution(int N) {\n        int enable_print = N % 10;\n        while (N &gt; 0) {\n            if (enable_print == 0 &amp;&amp; N % 10 != 0) {\n                enable_print = 1;\n            }\n            else if (enable_print == 1) {\n                System.out.print(N % 10);\n            }\n            N = N / 10;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","validation","annotations"],"comments":[{"owner":{"account_id":28977943,"reputation":1,"user_id":22196580,"display_name":"user22196580"},"score":0,"creation_date":1689463952,"post_id":76696160,"comment_id":135217557,"body_markdown":"I forgot, here is my error message: Attribute value must be constant","body":"I forgot, here is my error message: Attribute value must be constant"},{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1689464245,"post_id":76696160,"comment_id":135217571,"body_markdown":"Values for annotation parameters must be constant expressions, literals, enums, class literals, or array literals, but not variables.","body":"Values for annotation parameters must be constant expressions, literals, enums, class literals, or array literals, but not variables."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1689471120,"post_id":76696160,"comment_id":135217941,"body_markdown":"What do you think `@invrange(maxInv = minInv, minInv = maxInv)` would accomplish? The values of those params __must__ be resolved to constants __by the compiler__. That&#39;s fundamental to annotations.","body":"What do you think <code>@invrange(maxInv = minInv, minInv = maxInv)</code> would accomplish? The values of those params <b>must</b> be resolved to constants <b>by the compiler</b>. That&#39;s fundamental to annotations."},{"owner":{"account_id":28977943,"reputation":1,"user_id":22196580,"display_name":"user22196580"},"score":0,"creation_date":1689479085,"post_id":76696160,"comment_id":135218256,"body_markdown":"What does that mean?","body":"What does that mean?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1689483731,"post_id":76696160,"comment_id":135218450,"body_markdown":"`nteger &gt; maxInv &amp;&amp; integer &lt; minInv` -- You return false if that condition evaluates to true, indicating you&#39;re trying to test if the value is outside the range, yet unless the min value is _greater than_ the max value, which I assume is an invalid scenario, then that condition can never evaluate to true.","body":"<code>nteger &gt; maxInv &amp;&amp; integer &lt; minInv</code> -- You return false if that condition evaluates to true, indicating you&#39;re trying to test if the value is outside the range, yet unless the min value is <i>greater than</i> the max value, which I assume is an invalid scenario, then that condition can never evaluate to true."}],"answers":[{"tags":[],"owner":{"account_id":20607999,"reputation":1,"user_id":15127764,"display_name":"Dat Le"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689778367,"creation_date":1689502515,"answer_id":76697723,"question_id":76696160,"body_markdown":"You should replace `integer &gt; maxInv &amp;&amp; integer &lt; minInv` with `integer &gt; maxInv || integer &lt; minInv`","title":"How to create custom annotation with range validation","body":"<p>You should replace <code>integer &gt; maxInv &amp;&amp; integer &lt; minInv</code> with <code>integer &gt; maxInv || integer &lt; minInv</code></p>\n"}],"owner":{"account_id":28977943,"reputation":1,"user_id":22196580,"display_name":"user22196580"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689778367,"creation_date":1689463873,"question_id":76696160,"body_markdown":"I need to check the inventory, and if it is below a minimum value, error, or if it is above a maximum value, error.  I have tried using &quot;@range&quot;, &quot;@min&quot;, and I don&#39;t think I can use those, so I coded a custom annotation, but I am getting the same error messages.  I believe it is because I am setting the attribute value to a variable, but I&#39;m unsure.  Any guidance would be appreciated. \r\n\r\nAnnotation:\r\n\r\n```\r\npackage com.example.demo.validators;\r\n\r\nimport javax.validation.Constraint;\r\nimport javax.validation.Payload;\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Constraint(validatedBy = {invrangeValidator.class})\r\n@Target({ElementType.FIELD, ElementType.PARAMETER})\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface invrange {\r\n    String message() default &quot;Inventory must be between Minimum and Maximum values!&quot;;\r\n    Class&lt;?&gt; [] groups() default{};\r\n    Class&lt;? extends Payload&gt; [] payload() default {};\r\n\r\n    int maxInv();\r\n    int minInv();\r\n}\r\n\r\n```\r\n\r\nValidator:\r\n\r\n```\r\npackage com.example.demo.validators;\r\n\r\nimport org.apache.catalina.core.ApplicationContext;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\nimport javax.persistence.criteria.CriteriaBuilder;\r\nimport javax.validation.ConstraintValidator;\r\nimport javax.validation.ConstraintValidatorContext;\r\n\r\npublic class invrangeValidator implements ConstraintValidator&lt;invrange, Integer&gt; {\r\n    private int maxInv;\r\n    private int minInv;\r\n\r\n    @Override\r\n    public void initialize(invrange constraintAnnotation) {\r\n        maxInv = constraintAnnotation.maxInv();\r\n        minInv = constraintAnnotation.minInv();\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(Integer integer, ConstraintValidatorContext constraintValidatorContext) {\r\n        if (integer &gt; maxInv &amp;&amp; integer &lt; minInv) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\npackage com.example.demo.domain;\r\n\r\nimport com.example.demo.validators.ValidDeletePart;\r\nimport com.example.demo.validators.invrange;\r\nimport org.hibernate.validator.constraints.Range;\r\n\r\nimport javax.persistence.*;\r\nimport javax.validation.constraints.Max;\r\nimport javax.validation.constraints.Min;\r\nimport javax.validation.constraints.Size;\r\nimport java.io.Serializable;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\n/**\r\n *\r\n *\r\n *\r\n *\r\n */\r\n@Entity\r\n@ValidDeletePart\r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n@DiscriminatorColumn(name=&quot;part_type&quot;,discriminatorType = DiscriminatorType.INTEGER)\r\n@Table(name=&quot;Parts&quot;)\r\npublic abstract class Part implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    long id;\r\n    String name;\r\n    @Min(value = 0, message = &quot;Price value must be positive&quot;)\r\n    double price;\r\n\r\n    int inv;\r\n    int maxInv;\r\n    int minInv;\r\n\r\n    @ManyToMany\r\n    @JoinTable(name=&quot;product_part&quot;, joinColumns = @JoinColumn(name=&quot;part_id&quot;),\r\n            inverseJoinColumns=@JoinColumn(name=&quot;product_id&quot;))\r\n    Set&lt;Product&gt; products= new HashSet&lt;&gt;();\r\n\r\n    public Part() {\r\n    }\r\n\r\n    public Part(String name, double price, int inv, int maxInv, int minInv) {\r\n        this.name = name;\r\n        this.price = price;\r\n        this.inv = inv;\r\n        this.maxInv = maxInv;\r\n        this.minInv = minInv;\r\n    }\r\n\r\n    public Part(long id, String name, double price, int inv, int maxInv, int minInv) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.price = price;\r\n        this.inv = inv;\r\n        this.maxInv = maxInv;\r\n        this.minInv = minInv;\r\n    }\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public double getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(double price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public int getInv() {\r\n        return inv;\r\n    }\r\n\r\n    @invrange(maxInv = minInv, minInv = maxInv)\r\n    public void setInv(int inv) {\r\n        this.inv = inv;\r\n    }\r\n\r\n    public int getMaxInv() {return maxInv;}\r\n    public void setMaxInv(int maxInv){this.maxInv = maxInv;}\r\n    public int getMinInv(){return minInv;}\r\n    public void setMinInv(int minInv){this.minInv = minInv;}\r\n    public Set&lt;Product&gt; getProducts() {\r\n        return products;\r\n    }\r\n\r\n    public void setProducts(Set&lt;Product&gt; products) {\r\n        this.products = products;\r\n    }\r\n\r\n    public String toString(){\r\n        return this.name;\r\n    }\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n\r\n        Part part = (Part) o;\r\n\r\n        return id == part.id;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return (int) (id ^ (id &gt;&gt;&gt; 32));\r\n    }\r\n}\r\n\r\n```\r\n\r\nForm\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Part Form&lt;/title&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h1&gt;Outsourced Part Detail&lt;/h1&gt;\r\n\r\n&lt;form action=&quot;#&quot; th:action=&quot;@{/showFormAddOutPart}&quot; th:object=&quot;${outsourcedpart}&quot; method=&quot;POST&quot;}&gt;\r\n\r\n&lt;!-- Add hidden form field to handle update --&gt;\r\n    &lt;p&gt;&lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot;/&gt;&lt;/p&gt;\r\n\r\n    &lt;p&gt;Name:&lt;/p&gt;\r\n&lt;p&gt;&lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot; placeholder=&quot;Name&quot; class=&quot;form-control mb-4 col-4&quot;/&gt;&lt;/p&gt;\r\n\r\n&lt;p&gt;Price:&lt;/p&gt;\r\n&lt;p&gt;&lt;input type=&quot;text&quot; th:field=&quot;*{price}&quot; placeholder= &quot;Price&quot; class=&quot;form-control mb-4 col-4&quot;/&gt;&lt;/p&gt;\r\n    &lt;p th:if=&quot;${#fields.hasErrors(&#39;price&#39;)}&quot; th:errors=&quot;*{price}&quot;&gt;Price Error&lt;/p&gt;\r\n\r\n    &lt;p&gt;Inventory:&lt;/p&gt;\r\n&lt;p&gt;&lt;input type=&quot;text&quot; th:field=&quot;*{inv}&quot; placeholder=&quot;Inventory&quot; class=&quot;form-control mb-4 col-4&quot;/&gt;&lt;/p&gt;\r\n    &lt;p th:if=&quot;${#fields.hasErrors(&#39;inv&#39;)}&quot; th:errors=&quot;*{inv}&quot;&gt;Inventory Error&lt;/p&gt;\r\n\r\n    &lt;p&gt;Maximum Inventory:&lt;/p&gt;\r\n    &lt;p&gt;&lt;input type=&quot;text&quot; th:field=&quot;*{maxInv}&quot; placeholder=&quot;Max Inv&quot; class=&quot;form-control mb-4 col-4&quot;&gt;&lt;/p&gt;\r\n\r\n    &lt;p&gt;Minimum Inventory:&lt;/p&gt;\r\n    &lt;p&gt;&lt;input type=&quot;text&quot; th:field=&quot;*{minInv}&quot; placeholder=&quot;Min Inv&quot; class=&quot;form-control mb-4 col-4&quot;&gt;&lt;/p&gt;\r\n\r\n    &lt;p&gt;Company Name:&lt;/p&gt;\r\n    &lt;p&gt;&lt;input type=&quot;text&quot; th:field=&quot;*{companyName}&quot; placeholder=&quot;Company Name&quot; class=&quot;form-control mb-4 col-4&quot;/&gt;&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;input type=&quot;submit&quot; value=&quot;Submit&quot; /&gt;&lt;/p&gt;\r\n&lt;/form&gt;\r\n&lt;a href=&quot;http://localhost:8080/&quot;&gt;Link\r\n    to Main Screen&lt;/a&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\n\r\nI have tried using &quot;@range&quot;, &quot;@min&quot;, and I don&#39;t think I can use those, so I coded a custom annotation","title":"How to create custom annotation with range validation","body":"<p>I need to check the inventory, and if it is below a minimum value, error, or if it is above a maximum value, error.  I have tried using &quot;@range&quot;, &quot;@min&quot;, and I don't think I can use those, so I coded a custom annotation, but I am getting the same error messages.  I believe it is because I am setting the attribute value to a variable, but I'm unsure.  Any guidance would be appreciated.</p>\n<p>Annotation:</p>\n<pre><code>package com.example.demo.validators;\n\nimport javax.validation.Constraint;\nimport javax.validation.Payload;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Constraint(validatedBy = {invrangeValidator.class})\n@Target({ElementType.FIELD, ElementType.PARAMETER})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface invrange {\n    String message() default &quot;Inventory must be between Minimum and Maximum values!&quot;;\n    Class&lt;?&gt; [] groups() default{};\n    Class&lt;? extends Payload&gt; [] payload() default {};\n\n    int maxInv();\n    int minInv();\n}\n\n</code></pre>\n<p>Validator:</p>\n<pre><code>package com.example.demo.validators;\n\nimport org.apache.catalina.core.ApplicationContext;\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport javax.persistence.criteria.CriteriaBuilder;\nimport javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\n\npublic class invrangeValidator implements ConstraintValidator&lt;invrange, Integer&gt; {\n    private int maxInv;\n    private int minInv;\n\n    @Override\n    public void initialize(invrange constraintAnnotation) {\n        maxInv = constraintAnnotation.maxInv();\n        minInv = constraintAnnotation.minInv();\n    }\n\n    @Override\n    public boolean isValid(Integer integer, ConstraintValidatorContext constraintValidatorContext) {\n        if (integer &gt; maxInv &amp;&amp; integer &lt; minInv) {\n            return false;\n        } else {\n            return true;\n        }\n    }\n}\n</code></pre>\n<pre><code>package com.example.demo.domain;\n\nimport com.example.demo.validators.ValidDeletePart;\nimport com.example.demo.validators.invrange;\nimport org.hibernate.validator.constraints.Range;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.Max;\nimport javax.validation.constraints.Min;\nimport javax.validation.constraints.Size;\nimport java.io.Serializable;\nimport java.util.HashSet;\nimport java.util.Set;\n\n/**\n *\n *\n *\n *\n */\n@Entity\n@ValidDeletePart\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name=&quot;part_type&quot;,discriminatorType = DiscriminatorType.INTEGER)\n@Table(name=&quot;Parts&quot;)\npublic abstract class Part implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    long id;\n    String name;\n    @Min(value = 0, message = &quot;Price value must be positive&quot;)\n    double price;\n\n    int inv;\n    int maxInv;\n    int minInv;\n\n    @ManyToMany\n    @JoinTable(name=&quot;product_part&quot;, joinColumns = @JoinColumn(name=&quot;part_id&quot;),\n            inverseJoinColumns=@JoinColumn(name=&quot;product_id&quot;))\n    Set&lt;Product&gt; products= new HashSet&lt;&gt;();\n\n    public Part() {\n    }\n\n    public Part(String name, double price, int inv, int maxInv, int minInv) {\n        this.name = name;\n        this.price = price;\n        this.inv = inv;\n        this.maxInv = maxInv;\n        this.minInv = minInv;\n    }\n\n    public Part(long id, String name, double price, int inv, int maxInv, int minInv) {\n        this.id = id;\n        this.name = name;\n        this.price = price;\n        this.inv = inv;\n        this.maxInv = maxInv;\n        this.minInv = minInv;\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public double getPrice() {\n        return price;\n    }\n\n    public void setPrice(double price) {\n        this.price = price;\n    }\n\n    public int getInv() {\n        return inv;\n    }\n\n    @invrange(maxInv = minInv, minInv = maxInv)\n    public void setInv(int inv) {\n        this.inv = inv;\n    }\n\n    public int getMaxInv() {return maxInv;}\n    public void setMaxInv(int maxInv){this.maxInv = maxInv;}\n    public int getMinInv(){return minInv;}\n    public void setMinInv(int minInv){this.minInv = minInv;}\n    public Set&lt;Product&gt; getProducts() {\n        return products;\n    }\n\n    public void setProducts(Set&lt;Product&gt; products) {\n        this.products = products;\n    }\n\n    public String toString(){\n        return this.name;\n    }\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n\n        Part part = (Part) o;\n\n        return id == part.id;\n    }\n\n    @Override\n    public int hashCode() {\n        return (int) (id ^ (id &gt;&gt;&gt; 32));\n    }\n}\n\n</code></pre>\n<p>Form</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Part Form&lt;/title&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Outsourced Part Detail&lt;/h1&gt;\n\n&lt;form action=&quot;#&quot; th:action=&quot;@{/showFormAddOutPart}&quot; th:object=&quot;${outsourcedpart}&quot; method=&quot;POST&quot;}&gt;\n\n&lt;!-- Add hidden form field to handle update --&gt;\n    &lt;p&gt;&lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot;/&gt;&lt;/p&gt;\n\n    &lt;p&gt;Name:&lt;/p&gt;\n&lt;p&gt;&lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot; placeholder=&quot;Name&quot; class=&quot;form-control mb-4 col-4&quot;/&gt;&lt;/p&gt;\n\n&lt;p&gt;Price:&lt;/p&gt;\n&lt;p&gt;&lt;input type=&quot;text&quot; th:field=&quot;*{price}&quot; placeholder= &quot;Price&quot; class=&quot;form-control mb-4 col-4&quot;/&gt;&lt;/p&gt;\n    &lt;p th:if=&quot;${#fields.hasErrors('price')}&quot; th:errors=&quot;*{price}&quot;&gt;Price Error&lt;/p&gt;\n\n    &lt;p&gt;Inventory:&lt;/p&gt;\n&lt;p&gt;&lt;input type=&quot;text&quot; th:field=&quot;*{inv}&quot; placeholder=&quot;Inventory&quot; class=&quot;form-control mb-4 col-4&quot;/&gt;&lt;/p&gt;\n    &lt;p th:if=&quot;${#fields.hasErrors('inv')}&quot; th:errors=&quot;*{inv}&quot;&gt;Inventory Error&lt;/p&gt;\n\n    &lt;p&gt;Maximum Inventory:&lt;/p&gt;\n    &lt;p&gt;&lt;input type=&quot;text&quot; th:field=&quot;*{maxInv}&quot; placeholder=&quot;Max Inv&quot; class=&quot;form-control mb-4 col-4&quot;&gt;&lt;/p&gt;\n\n    &lt;p&gt;Minimum Inventory:&lt;/p&gt;\n    &lt;p&gt;&lt;input type=&quot;text&quot; th:field=&quot;*{minInv}&quot; placeholder=&quot;Min Inv&quot; class=&quot;form-control mb-4 col-4&quot;&gt;&lt;/p&gt;\n\n    &lt;p&gt;Company Name:&lt;/p&gt;\n    &lt;p&gt;&lt;input type=&quot;text&quot; th:field=&quot;*{companyName}&quot; placeholder=&quot;Company Name&quot; class=&quot;form-control mb-4 col-4&quot;/&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;input type=&quot;submit&quot; value=&quot;Submit&quot; /&gt;&lt;/p&gt;\n&lt;/form&gt;\n&lt;a href=&quot;http://localhost:8080/&quot;&gt;Link\n    to Main Screen&lt;/a&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I have tried using &quot;@range&quot;, &quot;@min&quot;, and I don't think I can use those, so I coded a custom annotation</p>\n"},{"tags":["java","android","camera"],"answers":[{"comments":[{"owner":{"account_id":9350518,"reputation":544,"user_id":6940373,"accept_rate":40,"display_name":"Hadi"},"score":0,"creation_date":1645774195,"post_id":71262412,"comment_id":125964608,"body_markdown":"I&#39;ve used this solution too but the result is the same, I mean green bitmap in some devices.","body":"I&#39;ve used this solution too but the result is the same, I mean green bitmap in some devices."},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1648104742,"post_id":71262412,"comment_id":126540777,"body_markdown":"will you tell me, which device has a green bitmap?","body":"will you tell me, which device has a green bitmap?"}],"tags":[],"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645774202,"creation_date":1645773940,"answer_id":71262412,"question_id":71262274,"body_markdown":"**Here**, you can easily convert Imageproxy to bitmap.\r\n\r\n\r\n    private static ByteBuffer yuv420ThreePlanesToNV21(\r\n              Plane[] yuv420888planes, int width, int height) {\r\n        int imageSize = width * height;\r\n        byte[] out = new byte[imageSize + 2 * (imageSize / 4)];\r\n    \r\n        if (areUVPlanesNV21(yuv420888planes, width, height)) {\r\n          // Copy the Y values.\r\n          yuv420888planes[0].getBuffer().get(out, 0, imageSize);\r\n    \r\n          ByteBuffer uBuffer = yuv420888planes[1].getBuffer();\r\n          ByteBuffer vBuffer = yuv420888planes[2].getBuffer();\r\n          // Get the first V value from the V buffer, since the U buffer does not contain it.\r\n          vBuffer.get(out, imageSize, 1);\r\n          // Copy the first U value and the remaining VU values from the U buffer.\r\n          uBuffer.get(out, imageSize + 1, 2 * imageSize / 4 - 1);\r\n        } else {\r\n          // Fallback to copying the UV values one by one, which is slower but also works.\r\n          // Unpack Y.\r\n          unpackPlane(yuv420888planes[0], width, height, out, 0, 1);\r\n          // Unpack U.\r\n          unpackPlane(yuv420888planes[1], width, height, out, imageSize + 1, 2);\r\n          // Unpack V.\r\n          unpackPlane(yuv420888planes[2], width, height, out, imageSize, 2);\r\n        }\r\n    \r\n        return ByteBuffer.wrap(out);\r\n      }\r\n\r\n\r\n \r\n\r\n     /** Checks if the UV plane buffers of a YUV_420_888 image are in the NV21 format. */\r\n      @RequiresApi(VERSION_CODES.KITKAT)\r\n      private static boolean areUVPlanesNV21(Plane[] planes, int width, int height) {\r\n        int imageSize = width * height;\r\n    \r\n        ByteBuffer uBuffer = planes[1].getBuffer();\r\n        ByteBuffer vBuffer = planes[2].getBuffer();\r\n    \r\n        // Backup buffer properties.\r\n        int vBufferPosition = vBuffer.position();\r\n        int uBufferLimit = uBuffer.limit();\r\n    \r\n        // Advance the V buffer by 1 byte, since the U buffer will not contain the first V value.\r\n        vBuffer.position(vBufferPosition + 1);\r\n        // Chop off the last byte of the U buffer, since the V buffer will not contain the last U value.\r\n        uBuffer.limit(uBufferLimit - 1);\r\n    \r\n        // Check that the buffers are equal and have the expected number of elements.\r\n        boolean areNV21 =\r\n                (vBuffer.remaining() == (2 * imageSize / 4 - 2)) &amp;&amp; (vBuffer.compareTo(uBuffer) == 0);\r\n    \r\n        // Restore buffers to their initial state.\r\n        vBuffer.position(vBufferPosition);\r\n        uBuffer.limit(uBufferLimit);\r\n    \r\n        return areNV21;\r\n      }\r\n\r\n  \r\n\r\n    /**\r\n       * Unpack an image plane into a byte array.\r\n       *\r\n       * &lt;p&gt;The input plane data will be copied in &#39;out&#39;, starting at &#39;offset&#39; and every pixel will be\r\n       * spaced by &#39;pixelStride&#39;. Note that there is no row padding on the output.\r\n       */\r\n      @TargetApi(VERSION_CODES.KITKAT)\r\n      private static void unpackPlane(\r\n              Plane plane, int width, int height, byte[] out, int offset, int pixelStride) {\r\n        ByteBuffer buffer = plane.getBuffer();\r\n        buffer.rewind();\r\n    \r\n        // Compute the size of the current plane.\r\n        // We assume that it has the aspect ratio as the original image.\r\n        int numRow = (buffer.limit() + plane.getRowStride() - 1) / plane.getRowStride();\r\n        if (numRow == 0) {\r\n          return;\r\n        }\r\n        int scaleFactor = height / numRow;\r\n        int numCol = width / scaleFactor;\r\n    \r\n        // Extract the data in the output buffer.\r\n        int outputPos = offset;\r\n        int rowStart = 0;\r\n        for (int row = 0; row &lt; numRow; row++) {\r\n          int inputPos = rowStart;\r\n          for (int col = 0; col &lt; numCol; col++) {\r\n            out[outputPos] = buffer.get(inputPos);\r\n            outputPos += pixelStride;\r\n            inputPos += plane.getPixelStride();\r\n          }\r\n          rowStart += plane.getRowStride();\r\n        }\r\n      }\r\n\r\n    public static Bitmap getBitmap(ByteBuffer data, FrameMetadata metadata) {\r\n        data.rewind();\r\n        byte[] imageInBuffer = new byte[data.limit()];\r\n        data.get(imageInBuffer, 0, imageInBuffer.length);\r\n        try {\r\n          YuvImage image =\r\n                  new YuvImage(\r\n                          imageInBuffer, ImageFormat.NV21, metadata.getWidth(), metadata.getHeight(), null);\r\n          ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n          image.compressToJpeg(new Rect(0, 0, metadata.getWidth(), metadata.getHeight()), 50, stream);\r\n    \r\n    \r\n          /*image.compressToJpeg(new Rect(0, 0, metadata.getWidth(), metadata.getHeight()), 100, stream);\r\n          byte[] jpegByteArray = stream.toByteArray();\r\n          Bitmap bitmap = BitmapFactory.decodeByteArray(jpegByteArray, 0, jpegByteArray.length);\r\n          bitmap.compress(Bitmap.CompressFormat.PNG, 100, stream);\r\n    \r\n          Canvas c = new Canvas(bitmap.copy(bitmap.getConfig(),true));\r\n          Paint p = new Paint();\r\n          p.setARGB(255, 0, 0, 0); // ARGB for the color, in this case red\r\n          p.setAlpha(0);\r\n          p.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.DST_IN));\r\n          c.drawPaint(p);*/\r\n    \r\n          Bitmap bmp = BitmapFactory.decodeByteArray(stream.toByteArray(), 0, stream.size());\r\n    \r\n          stream.close();\r\n          return bmp;\r\n        } catch (Exception e) {\r\n          Log.e(&quot;VisionProcessorBase&quot;, &quot;Error: &quot; + e.getMessage());\r\n        }\r\n        return null;\r\n      }\r\n\r\n\r\n  **How to use**\r\n\r\n        public void processImageProxy(ImageProxy image) {\r\n        \r\n    \r\n     FrameMetadata frameMetadata =\r\n                new FrameMetadata.Builder()\r\n                        .setWidth(image.getWidth())\r\n                        .setHeight(image.getHeight())\r\n                        .setRotation(image.getImageInfo().getRotationDegrees())\r\n                        .build();    \r\n    \r\n    \r\n         ByteBuffer nv21Buffer =\r\n                    yuv420ThreePlanesToNV21(Objects.requireNonNull(image.getImage()).getPlanes(), image.getWidth(), image.getHeight());\r\n            Bitmap yourBitmap = getBitmap(nv21Buffer, frameMetadata);\r\n        \r\n        }\r\n\r\n","title":"How to convert ImageProxy to Btimap correctly?","body":"<p><strong>Here</strong>, you can easily convert Imageproxy to bitmap.</p>\n<pre><code>private static ByteBuffer yuv420ThreePlanesToNV21(\n          Plane[] yuv420888planes, int width, int height) {\n    int imageSize = width * height;\n    byte[] out = new byte[imageSize + 2 * (imageSize / 4)];\n\n    if (areUVPlanesNV21(yuv420888planes, width, height)) {\n      // Copy the Y values.\n      yuv420888planes[0].getBuffer().get(out, 0, imageSize);\n\n      ByteBuffer uBuffer = yuv420888planes[1].getBuffer();\n      ByteBuffer vBuffer = yuv420888planes[2].getBuffer();\n      // Get the first V value from the V buffer, since the U buffer does not contain it.\n      vBuffer.get(out, imageSize, 1);\n      // Copy the first U value and the remaining VU values from the U buffer.\n      uBuffer.get(out, imageSize + 1, 2 * imageSize / 4 - 1);\n    } else {\n      // Fallback to copying the UV values one by one, which is slower but also works.\n      // Unpack Y.\n      unpackPlane(yuv420888planes[0], width, height, out, 0, 1);\n      // Unpack U.\n      unpackPlane(yuv420888planes[1], width, height, out, imageSize + 1, 2);\n      // Unpack V.\n      unpackPlane(yuv420888planes[2], width, height, out, imageSize, 2);\n    }\n\n    return ByteBuffer.wrap(out);\n  }\n\n\n\n\n /** Checks if the UV plane buffers of a YUV_420_888 image are in the NV21 format. */\n  @RequiresApi(VERSION_CODES.KITKAT)\n  private static boolean areUVPlanesNV21(Plane[] planes, int width, int height) {\n    int imageSize = width * height;\n\n    ByteBuffer uBuffer = planes[1].getBuffer();\n    ByteBuffer vBuffer = planes[2].getBuffer();\n\n    // Backup buffer properties.\n    int vBufferPosition = vBuffer.position();\n    int uBufferLimit = uBuffer.limit();\n\n    // Advance the V buffer by 1 byte, since the U buffer will not contain the first V value.\n    vBuffer.position(vBufferPosition + 1);\n    // Chop off the last byte of the U buffer, since the V buffer will not contain the last U value.\n    uBuffer.limit(uBufferLimit - 1);\n\n    // Check that the buffers are equal and have the expected number of elements.\n    boolean areNV21 =\n            (vBuffer.remaining() == (2 * imageSize / 4 - 2)) &amp;&amp; (vBuffer.compareTo(uBuffer) == 0);\n\n    // Restore buffers to their initial state.\n    vBuffer.position(vBufferPosition);\n    uBuffer.limit(uBufferLimit);\n\n    return areNV21;\n  }\n\n\n\n/**\n   * Unpack an image plane into a byte array.\n   *\n   * &lt;p&gt;The input plane data will be copied in 'out', starting at 'offset' and every pixel will be\n   * spaced by 'pixelStride'. Note that there is no row padding on the output.\n   */\n  @TargetApi(VERSION_CODES.KITKAT)\n  private static void unpackPlane(\n          Plane plane, int width, int height, byte[] out, int offset, int pixelStride) {\n    ByteBuffer buffer = plane.getBuffer();\n    buffer.rewind();\n\n    // Compute the size of the current plane.\n    // We assume that it has the aspect ratio as the original image.\n    int numRow = (buffer.limit() + plane.getRowStride() - 1) / plane.getRowStride();\n    if (numRow == 0) {\n      return;\n    }\n    int scaleFactor = height / numRow;\n    int numCol = width / scaleFactor;\n\n    // Extract the data in the output buffer.\n    int outputPos = offset;\n    int rowStart = 0;\n    for (int row = 0; row &lt; numRow; row++) {\n      int inputPos = rowStart;\n      for (int col = 0; col &lt; numCol; col++) {\n        out[outputPos] = buffer.get(inputPos);\n        outputPos += pixelStride;\n        inputPos += plane.getPixelStride();\n      }\n      rowStart += plane.getRowStride();\n    }\n  }\n\npublic static Bitmap getBitmap(ByteBuffer data, FrameMetadata metadata) {\n    data.rewind();\n    byte[] imageInBuffer = new byte[data.limit()];\n    data.get(imageInBuffer, 0, imageInBuffer.length);\n    try {\n      YuvImage image =\n              new YuvImage(\n                      imageInBuffer, ImageFormat.NV21, metadata.getWidth(), metadata.getHeight(), null);\n      ByteArrayOutputStream stream = new ByteArrayOutputStream();\n      image.compressToJpeg(new Rect(0, 0, metadata.getWidth(), metadata.getHeight()), 50, stream);\n\n\n      /*image.compressToJpeg(new Rect(0, 0, metadata.getWidth(), metadata.getHeight()), 100, stream);\n      byte[] jpegByteArray = stream.toByteArray();\n      Bitmap bitmap = BitmapFactory.decodeByteArray(jpegByteArray, 0, jpegByteArray.length);\n      bitmap.compress(Bitmap.CompressFormat.PNG, 100, stream);\n\n      Canvas c = new Canvas(bitmap.copy(bitmap.getConfig(),true));\n      Paint p = new Paint();\n      p.setARGB(255, 0, 0, 0); // ARGB for the color, in this case red\n      p.setAlpha(0);\n      p.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.DST_IN));\n      c.drawPaint(p);*/\n\n      Bitmap bmp = BitmapFactory.decodeByteArray(stream.toByteArray(), 0, stream.size());\n\n      stream.close();\n      return bmp;\n    } catch (Exception e) {\n      Log.e(&quot;VisionProcessorBase&quot;, &quot;Error: &quot; + e.getMessage());\n    }\n    return null;\n  }\n</code></pre>\n<p><strong>How to use</strong></p>\n<pre><code>    public void processImageProxy(ImageProxy image) {\n    \n\n FrameMetadata frameMetadata =\n            new FrameMetadata.Builder()\n                    .setWidth(image.getWidth())\n                    .setHeight(image.getHeight())\n                    .setRotation(image.getImageInfo().getRotationDegrees())\n                    .build();    \n\n\n     ByteBuffer nv21Buffer =\n                yuv420ThreePlanesToNV21(Objects.requireNonNull(image.getImage()).getPlanes(), image.getWidth(), image.getHeight());\n        Bitmap yourBitmap = getBitmap(nv21Buffer, frameMetadata);\n    \n    }\n</code></pre>\n"}],"owner":{"account_id":9350518,"reputation":544,"user_id":6940373,"accept_rate":40,"display_name":"Hadi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1691,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689778256,"creation_date":1645773124,"question_id":71262274,"body_markdown":"I&#39;ve checked all sulutions described in https://stackoverflow.com/questions/56772967/converting-imageproxy-to-bitmap and the only one that works in many devices is the java version of [this class][1], so I&#39;m using the class below to convert an ImageProxy to a Bitmap:\r\n\r\n    public class YuvToRgbConverter {\r\n    \r\n        private RenderScript rs;\r\n        private ScriptIntrinsicYuvToRGB scriptYuvToRgb;\r\n        private int pixelCount = -1;\r\n        private byte[] yuvBuffer = null;\r\n        private Allocation inputAllocation = null;\r\n        private Allocation outputAllocation = null;\r\n    \r\n        public YuvToRgbConverter(Context context) {\r\n            rs = RenderScript.create(context);\r\n            scriptYuvToRgb = ScriptIntrinsicYuvToRGB.create(rs, Element.U8_4(rs));\r\n        }\r\n    \r\n        @Synchronized\r\n        public void yuvToRgb(Image image, Bitmap output) {\r\n            // Ensure that the intermediate output byte buffer is allocated\r\n            if (yuvBuffer == null) {\r\n                pixelCount = image.getCropRect().width() * image.getCropRect().height();\r\n                // Bits per pixel is an average for the whole image, so it&#39;s useful to compute the size\r\n                // of the full buffer but should not be used to determine pixel offsets\r\n                int pixelSizeBits = ImageFormat.getBitsPerPixel(ImageFormat.YUV_420_888);\r\n                yuvBuffer = new byte[pixelCount * pixelSizeBits / 8];\r\n            }\r\n    \r\n            // Get the YUV data in byte array form using NV21 format\r\n            imageToByteArray(image, yuvBuffer);\r\n    \r\n            // Ensure that the RenderScript inputs and outputs are allocated\r\n            if (inputAllocation == null) {\r\n                // Explicitly create an element with type NV21, since that&#39;s the pixel format we use\r\n                Type elemType = new Type.Builder(rs, Element.YUV(rs)).setYuvFormat(ImageFormat.NV21).create();\r\n                inputAllocation = Allocation.createSized(rs, elemType.getElement(), yuvBuffer.length);\r\n            }\r\n            if (outputAllocation == null) {\r\n                outputAllocation = Allocation.createFromBitmap(rs, output);\r\n            }\r\n    \r\n            // Convert NV21 format YUV to RGB\r\n            inputAllocation.copyFrom(yuvBuffer);\r\n            scriptYuvToRgb.setInput(inputAllocation);\r\n            scriptYuvToRgb.forEach(outputAllocation);\r\n            outputAllocation.copyTo(output);\r\n        }\r\n    \r\n    \r\n        private void imageToByteArray(Image image, byte[] outputBuffer) {\r\n            assert (image.getFormat() == ImageFormat.YUV_420_888);\r\n    \r\n            Rect imageCrop = image.getCropRect();\r\n            Image.Plane[] imagePlanes = image.getPlanes();\r\n    \r\n            for (int planeIndex = 0; planeIndex &lt; imagePlanes.length; ++planeIndex) {\r\n                Image.Plane plane = imagePlanes[planeIndex];\r\n                int outputStride = 0;\r\n                int outputOffset = 0;\r\n                switch (planeIndex) {\r\n                    case 0:\r\n                        outputStride = 1;\r\n                        outputOffset = 0;\r\n                        break;\r\n                    case 1:\r\n                        outputStride = 2;\r\n                        outputOffset = pixelCount + 1;\r\n                        break;\r\n                    case 2:\r\n                        outputStride = 2;\r\n                        outputOffset = pixelCount;\r\n                        break;\r\n                    default:\r\n                        return;\r\n    \r\n                }\r\n    \r\n                ByteBuffer planeBuffer = plane.getBuffer();\r\n                int rowStride = plane.getRowStride();\r\n                int pixelStride = plane.getPixelStride();\r\n                Rect planeCrop = imageCrop;\r\n                if (planeIndex != 0) {\r\n                    planeCrop = new Rect(imageCrop.left / 2, imageCrop.top / 2, imageCrop.right / 2, imageCrop.bottom / 2);\r\n                }\r\n    \r\n                int planeWidth = planeCrop.width();\r\n                int planeHeight = planeCrop.height();\r\n    \r\n                byte[] rowBuffer = new byte[plane.getRowStride()];\r\n    \r\n                int rowLength = planeWidth;\r\n                if (pixelStride != 1 || outputStride != 1) {\r\n                    rowLength = (planeWidth - 1) * pixelStride + 1;\r\n                }\r\n                for (int row = 0; row &lt; planeHeight; row++) {\r\n                    planeBuffer.position((row + planeCrop.top) * rowStride + planeCrop.left * pixelStride);\r\n                    if (pixelStride == 1 &amp;&amp; outputStride == 1) {\r\n                        planeBuffer.get(outputBuffer, outputOffset, rowLength);\r\n                        outputOffset += rowLength;\r\n                    } else {\r\n                        planeBuffer.get(rowBuffer, 0, rowLength);\r\n                        for (int col = 0; col &lt; planeWidth; col++) {\r\n                            outputBuffer[outputOffset] = rowBuffer[col * pixelStride];\r\n                            outputOffset += outputStride;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nThis class works as expected in many devices but in some devices I get a green bitmap.\r\n\r\n**Correct conversion in many devices**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**Green bitmap in some devices**\r\n\r\n[![enter image description here][3]][3]\r\n\r\nSo my question is how can I fix this problem? Is there any better way? Thanks\r\n\r\n\r\n\r\n  [1]: https://github.com/xizhang/camerax-gpuimage/blob/master/app/src/main/java/com/appinmotion/gpuimage/YuvToRgbConverter.kt\r\n  [2]: https://i.stack.imgur.com/dA1Ov.jpg\r\n  [3]: https://i.stack.imgur.com/2YCkt.jpg","title":"How to convert ImageProxy to Btimap correctly?","body":"<p>I've checked all sulutions described in <a href=\"https://stackoverflow.com/questions/56772967/converting-imageproxy-to-bitmap\">Converting ImageProxy to Bitmap</a> and the only one that works in many devices is the java version of <a href=\"https://github.com/xizhang/camerax-gpuimage/blob/master/app/src/main/java/com/appinmotion/gpuimage/YuvToRgbConverter.kt\" rel=\"nofollow noreferrer\">this class</a>, so I'm using the class below to convert an ImageProxy to a Bitmap:</p>\n<pre><code>public class YuvToRgbConverter {\n\n    private RenderScript rs;\n    private ScriptIntrinsicYuvToRGB scriptYuvToRgb;\n    private int pixelCount = -1;\n    private byte[] yuvBuffer = null;\n    private Allocation inputAllocation = null;\n    private Allocation outputAllocation = null;\n\n    public YuvToRgbConverter(Context context) {\n        rs = RenderScript.create(context);\n        scriptYuvToRgb = ScriptIntrinsicYuvToRGB.create(rs, Element.U8_4(rs));\n    }\n\n    @Synchronized\n    public void yuvToRgb(Image image, Bitmap output) {\n        // Ensure that the intermediate output byte buffer is allocated\n        if (yuvBuffer == null) {\n            pixelCount = image.getCropRect().width() * image.getCropRect().height();\n            // Bits per pixel is an average for the whole image, so it's useful to compute the size\n            // of the full buffer but should not be used to determine pixel offsets\n            int pixelSizeBits = ImageFormat.getBitsPerPixel(ImageFormat.YUV_420_888);\n            yuvBuffer = new byte[pixelCount * pixelSizeBits / 8];\n        }\n\n        // Get the YUV data in byte array form using NV21 format\n        imageToByteArray(image, yuvBuffer);\n\n        // Ensure that the RenderScript inputs and outputs are allocated\n        if (inputAllocation == null) {\n            // Explicitly create an element with type NV21, since that's the pixel format we use\n            Type elemType = new Type.Builder(rs, Element.YUV(rs)).setYuvFormat(ImageFormat.NV21).create();\n            inputAllocation = Allocation.createSized(rs, elemType.getElement(), yuvBuffer.length);\n        }\n        if (outputAllocation == null) {\n            outputAllocation = Allocation.createFromBitmap(rs, output);\n        }\n\n        // Convert NV21 format YUV to RGB\n        inputAllocation.copyFrom(yuvBuffer);\n        scriptYuvToRgb.setInput(inputAllocation);\n        scriptYuvToRgb.forEach(outputAllocation);\n        outputAllocation.copyTo(output);\n    }\n\n\n    private void imageToByteArray(Image image, byte[] outputBuffer) {\n        assert (image.getFormat() == ImageFormat.YUV_420_888);\n\n        Rect imageCrop = image.getCropRect();\n        Image.Plane[] imagePlanes = image.getPlanes();\n\n        for (int planeIndex = 0; planeIndex &lt; imagePlanes.length; ++planeIndex) {\n            Image.Plane plane = imagePlanes[planeIndex];\n            int outputStride = 0;\n            int outputOffset = 0;\n            switch (planeIndex) {\n                case 0:\n                    outputStride = 1;\n                    outputOffset = 0;\n                    break;\n                case 1:\n                    outputStride = 2;\n                    outputOffset = pixelCount + 1;\n                    break;\n                case 2:\n                    outputStride = 2;\n                    outputOffset = pixelCount;\n                    break;\n                default:\n                    return;\n\n            }\n\n            ByteBuffer planeBuffer = plane.getBuffer();\n            int rowStride = plane.getRowStride();\n            int pixelStride = plane.getPixelStride();\n            Rect planeCrop = imageCrop;\n            if (planeIndex != 0) {\n                planeCrop = new Rect(imageCrop.left / 2, imageCrop.top / 2, imageCrop.right / 2, imageCrop.bottom / 2);\n            }\n\n            int planeWidth = planeCrop.width();\n            int planeHeight = planeCrop.height();\n\n            byte[] rowBuffer = new byte[plane.getRowStride()];\n\n            int rowLength = planeWidth;\n            if (pixelStride != 1 || outputStride != 1) {\n                rowLength = (planeWidth - 1) * pixelStride + 1;\n            }\n            for (int row = 0; row &lt; planeHeight; row++) {\n                planeBuffer.position((row + planeCrop.top) * rowStride + planeCrop.left * pixelStride);\n                if (pixelStride == 1 &amp;&amp; outputStride == 1) {\n                    planeBuffer.get(outputBuffer, outputOffset, rowLength);\n                    outputOffset += rowLength;\n                } else {\n                    planeBuffer.get(rowBuffer, 0, rowLength);\n                    for (int col = 0; col &lt; planeWidth; col++) {\n                        outputBuffer[outputOffset] = rowBuffer[col * pixelStride];\n                        outputOffset += outputStride;\n                    }\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>This class works as expected in many devices but in some devices I get a green bitmap.</p>\n<p><strong>Correct conversion in many devices</strong></p>\n<p><a href=\"https://i.stack.imgur.com/dA1Ov.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dA1Ov.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Green bitmap in some devices</strong></p>\n<p><a href=\"https://i.stack.imgur.com/2YCkt.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2YCkt.jpg\" alt=\"enter image description here\" /></a></p>\n<p>So my question is how can I fix this problem? Is there any better way? Thanks</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1689770746,"post_id":76721424,"comment_id":135260051,"body_markdown":"Can you elaborate on &quot;this did not work&quot;?","body":"Can you elaborate on &quot;this did not work&quot;?"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1689770792,"post_id":76721424,"comment_id":135260070,"body_markdown":"Is there always exactly one letter at the end?","body":"Is there always exactly one letter at the end?"},{"owner":{"account_id":4708698,"reputation":1254,"user_id":3809938,"accept_rate":44,"display_name":"user3809938"},"score":0,"creation_date":1689770822,"post_id":76721424,"comment_id":135260080,"body_markdown":"yes there is always 1 letter a the end.","body":"yes there is always 1 letter a the end."},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1689770951,"post_id":76721424,"comment_id":135260126,"body_markdown":"Your code assumes every string is exactly 2 characters long.","body":"Your code assumes every string is exactly 2 characters long."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1689771132,"creation_date":1689771132,"answer_id":76721517,"question_id":76721424,"body_markdown":"You can sort first by the last character, then parse the other characters as an `int`. The `Comparator` can be written more easily with the `Comparator.comparing` and `.thenComparing` methods.\r\n\r\n```\r\nmyList.sort(Comparator.comparing((String s) -&gt; s.charAt(s.length() - 1))\r\n    .thenComparingInt(s -&gt; Integer.parseInt(s.substring(0, s.length() - 1))));\r\n```","title":"How to sort a list of stings by number letter first and then number","body":"<p>You can sort first by the last character, then parse the other characters as an <code>int</code>. The <code>Comparator</code> can be written more easily with the <code>Comparator.comparing</code> and <code>.thenComparing</code> methods.</p>\n<pre><code>myList.sort(Comparator.comparing((String s) -&gt; s.charAt(s.length() - 1))\n    .thenComparingInt(s -&gt; Integer.parseInt(s.substring(0, s.length() - 1))));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1689778193,"post_id":76722034,"comment_id":135262196,"body_markdown":"You may want to note that this only works for arbitrary lengths of digits `&gt; 0`. Otherwise, a String like `&quot;MMM&quot;` will be parsed as `&quot;&quot;` and result in a `NumberFormatException`.","body":"You may want to note that this only works for arbitrary lengths of digits <code>&gt; 0</code>. Otherwise, a String like <code>&quot;MMM&quot;</code> will be parsed as <code>&quot;&quot;</code> and result in a <code>NumberFormatException</code>."}],"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689774590,"creation_date":1689774590,"answer_id":76722034,"question_id":76721424,"body_markdown":"You might like to code more defensively and make it work for letters and numbers of arbitrary length:\r\n\r\n```\r\n        List&lt;String&gt; sorted = strings.stream().\r\n            sorted(Comparator.comparing((String s) -&gt;s.replaceAll(&quot;\\\\d&quot;, &quot;&quot;)).\r\n                    thenComparingInt(s -&gt;Integer.parseInt(s.replaceAll(&quot;\\\\D&quot;, &quot;&quot;)))).\r\n            collect(Collectors.toList());\r\n        System.out.println(sorted);\r\n```","title":"How to sort a list of stings by number letter first and then number","body":"<p>You might like to code more defensively and make it work for letters and numbers of arbitrary length:</p>\n<pre><code>        List&lt;String&gt; sorted = strings.stream().\n            sorted(Comparator.comparing((String s) -&gt;s.replaceAll(&quot;\\\\d&quot;, &quot;&quot;)).\n                    thenComparingInt(s -&gt;Integer.parseInt(s.replaceAll(&quot;\\\\D&quot;, &quot;&quot;)))).\n            collect(Collectors.toList());\n        System.out.println(sorted);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689778253,"creation_date":1689775517,"answer_id":76722184,"question_id":76721424,"body_markdown":"Here is one way that splits the string between the last digit and the character using a [regular expression](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/regex/Pattern.html#sum).\r\n\r\nThis defines a comparator to use the split string to first compare the `String` portion and then, if the strings are equal, compares the `int` portion after parsing.\r\n```\r\nList&lt;String&gt; stringList = List.of(\r\n        &quot;2D&quot;,&quot;1D&quot;,&quot;1Y&quot;,&quot;23M&quot;,&quot;4M&quot;,&quot;2Y&quot;,&quot;12D&quot;\r\n);\r\n\r\nComparator&lt;String&gt; comp = Comparator\r\n.comparing(str -&gt; str.split(&quot;(?=\\\\D)&quot;),\r\n        Comparator.comparing((String[] str) -&gt; str[1])\r\n                .thenComparingInt(str-&gt;Integer.parseInt(str[0])));\r\n   \r\n   \r\nList&lt;String&gt; list = stringList.stream().sorted(comp).toList();\r\n\r\nSystem.out.println(list);\r\n```\r\nprints\r\n```\r\n[1D, 2D, 12D, 4M, 23M, 1Y, 2Y]\r\n```\r\nIf you want to expand this to handle any number of trailing characters &gt; 0 you could replace the above split invocation with the following:\r\n```\r\nstr.split(&quot;((?&lt;=\\\\d)(?=\\\\D))|((?=\\\\d)(?!\\\\d))&quot;)\r\n```\r\nIn all cases, at least one character and one digit is required, else an exception could be thrown.","title":"How to sort a list of stings by number letter first and then number","body":"<p>Here is one way that splits the string between the last digit and the character using a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/regex/Pattern.html#sum\" rel=\"nofollow noreferrer\">regular expression</a>.</p>\n<p>This defines a comparator to use the split string to first compare the <code>String</code> portion and then, if the strings are equal, compares the <code>int</code> portion after parsing.</p>\n<pre><code>List&lt;String&gt; stringList = List.of(\n        &quot;2D&quot;,&quot;1D&quot;,&quot;1Y&quot;,&quot;23M&quot;,&quot;4M&quot;,&quot;2Y&quot;,&quot;12D&quot;\n);\n\nComparator&lt;String&gt; comp = Comparator\n.comparing(str -&gt; str.split(&quot;(?=\\\\D)&quot;),\n        Comparator.comparing((String[] str) -&gt; str[1])\n                .thenComparingInt(str-&gt;Integer.parseInt(str[0])));\n   \n   \nList&lt;String&gt; list = stringList.stream().sorted(comp).toList();\n\nSystem.out.println(list);\n</code></pre>\n<p>prints</p>\n<pre><code>[1D, 2D, 12D, 4M, 23M, 1Y, 2Y]\n</code></pre>\n<p>If you want to expand this to handle any number of trailing characters &gt; 0 you could replace the above split invocation with the following:</p>\n<pre><code>str.split(&quot;((?&lt;=\\\\d)(?=\\\\D))|((?=\\\\d)(?!\\\\d))&quot;)\n</code></pre>\n<p>In all cases, at least one character and one digit is required, else an exception could be thrown.</p>\n"}],"owner":{"account_id":4708698,"reputation":1254,"user_id":3809938,"accept_rate":44,"display_name":"user3809938"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":76721517,"answer_count":3,"score":2,"last_activity_date":1689778253,"creation_date":1689770568,"question_id":76721424,"body_markdown":"I have a string list as follows:\r\n\r\n    (2D, 1D, 1Y, 23M, 4M, 2Y, 12D)\r\n\r\nHow can I sort it alphabetically and then numerically?\r\n\r\nI expect\r\n\r\n    (1D, 2D, 12D, 4M, 23M, 1Y, 2Y)\r\n\r\nI tried this but it didn&#39;t work.\r\n\r\n    Collections.sort(myList, new MyComparator());\r\n\r\n    public class MyComparator implements Comparator {\r\n\r\n\t\t@Override\r\n\t\tpublic int compare(Object o1, Object o2) {\r\n\r\n\t\t    String s1 = (String)o1;\r\n\t\t    String s2 = (String)o2;\r\n\t\t    String strPart1 = s1.split(&quot;&quot;)[1];\r\n\t\t    int intPart1 = Integer.parseInt(s1.split(&quot;&quot;)[0]);\r\n\r\n\t\t    String strPart2 = s2.split(&quot;&quot;)[1];\r\n\t\t    int intPart2 = Integer.parseInt(s2.split(&quot;&quot;)[0]);\r\n\r\n\t\t    int strCompareResult = strPart1.compareTo(strPart2);\r\n\t\t    if(0 == strCompareResult )\r\n\t\t    {\r\n\t\t        return intPart1 - intPart2;\r\n\t\t    }\r\n\t\t    else\r\n\t\t    {\r\n\t\t        return strCompareResult;\r\n\t\t    }\r\n\t\t}\r\n\r\n    }\r\n\r\nHowever this did not work. \r\n\r\n ","title":"How to sort a list of stings by number letter first and then number","body":"<p>I have a string list as follows:</p>\n<pre><code>(2D, 1D, 1Y, 23M, 4M, 2Y, 12D)\n</code></pre>\n<p>How can I sort it alphabetically and then numerically?</p>\n<p>I expect</p>\n<pre><code>(1D, 2D, 12D, 4M, 23M, 1Y, 2Y)\n</code></pre>\n<p>I tried this but it didn't work.</p>\n<pre><code>Collections.sort(myList, new MyComparator());\n\npublic class MyComparator implements Comparator {\n\n    @Override\n    public int compare(Object o1, Object o2) {\n\n        String s1 = (String)o1;\n        String s2 = (String)o2;\n        String strPart1 = s1.split(&quot;&quot;)[1];\n        int intPart1 = Integer.parseInt(s1.split(&quot;&quot;)[0]);\n\n        String strPart2 = s2.split(&quot;&quot;)[1];\n        int intPart2 = Integer.parseInt(s2.split(&quot;&quot;)[0]);\n\n        int strCompareResult = strPart1.compareTo(strPart2);\n        if(0 == strCompareResult )\n        {\n            return intPart1 - intPart2;\n        }\n        else\n        {\n            return strCompareResult;\n        }\n    }\n\n}\n</code></pre>\n<p>However this did not work.</p>\n"},{"tags":["java","jpa","spring-data-jpa","postgis"],"comments":[{"owner":{"account_id":17098341,"reputation":612,"user_id":12372860,"display_name":"Steffen Bobek"},"score":1,"creation_date":1577495667,"post_id":59506338,"comment_id":105187468,"body_markdown":"A start could be https://stackoverflow.com/questions/22186506 and https://stackoverflow.com/questions/52314732.","body":"A start could be <a href=\"https://stackoverflow.com/questions/22186506\">stackoverflow.com/questions/22186506</a> and <a href=\"https://stackoverflow.com/questions/52314732\">stackoverflow.com/questions/52314732</a>."}],"answers":[{"tags":[],"owner":{"account_id":3068305,"reputation":1371,"user_id":2599537,"accept_rate":73,"display_name":"devil0150"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689778036,"creation_date":1577549208,"answer_id":59512526,"question_id":59506338,"body_markdown":"After I found out about hibernate-spatial from the comment of @Pilosa, I added some dependencies:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.locationtech.jts&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jts-core&lt;/artifactId&gt;\r\n        &lt;version&gt;1.16.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\r\n        &lt;version&gt;5.4.10.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd I added a `org.locationtech.jts.geom.Point` field in the Entity class to map the geography column.\r\n\r\n    @JsonIgnore\r\n    @Column(columnDefinition = &quot;geography(Point,4326)&quot;)\r\n    private Point geog;\r\n\r\nThe `@JsonIgnore` annotation is because jackson threw a stack overflow exception when trying to deserialize the field (see related [question][1]). This solution worked for me since I only use the point for querying, and I don&#39;t need its value.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/59291785/error-de-serializing-geometry-with-jackson","title":"How to handle table column of type that is not known in Java (Spring Data)?","body":"<p>After I found out about hibernate-spatial from the comment of @Pilosa, I added some dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.locationtech.jts&lt;/groupId&gt;\n    &lt;artifactId&gt;jts-core&lt;/artifactId&gt;\n    &lt;version&gt;1.16.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\n    &lt;version&gt;5.4.10.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And I added a <code>org.locationtech.jts.geom.Point</code> field in the Entity class to map the geography column.</p>\n<pre><code>@JsonIgnore\n@Column(columnDefinition = &quot;geography(Point,4326)&quot;)\nprivate Point geog;\n</code></pre>\n<p>The <code>@JsonIgnore</code> annotation is because jackson threw a stack overflow exception when trying to deserialize the field (see related <a href=\"https://stackoverflow.com/questions/59291785/error-de-serializing-geometry-with-jackson\">question</a>). This solution worked for me since I only use the point for querying, and I don't need its value.</p>\n"}],"owner":{"account_id":3068305,"reputation":1371,"user_id":2599537,"accept_rate":73,"display_name":"devil0150"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":59512526,"answer_count":1,"score":3,"last_activity_date":1689778036,"creation_date":1577483380,"question_id":59506338,"body_markdown":"I have a table with a column of type `geography(Point,4326)` (using PostGIS).\r\nI only need to use this column in the WHERE condition when querying the table. E.g. in the query below, `geog` is the name of that column.\r\n\r\n    @Query(value = &quot;SELECT pois.*\\n&quot; +\r\n            &quot;FROM pois,\\n&quot; +\r\n            &quot;(select ST_MakePoint(:lat,:lon)::geography as poi) as poi\\n&quot; +\r\n            &quot;WHERE ST_DWithin(geog, poi, 400)\\n&quot; +\r\n            &quot;ORDER BY ST_Distance(geog, poi)&quot;, nativeQuery = true)\r\n    public List&lt;PointOfInterest&gt; getPOIsAroundLocation(@Param(&quot;lat&quot;) double lat,\r\n                                                       @Param(&quot;lon&quot;) double lon);\r\n\r\nHowever, in the entity class `PointOfInterest`, I don&#39;t know how to map that column, since I don&#39;t have a Java type equivalent to the `geography(Point,4326)` database type.\r\n\r\nIf I don&#39;t mention the column at all in the class, it won&#39;t be created in the database (I have `spring.jpa.hibernate.ddl-auto=create`), and the query will fail.\r\n\r\nWhat can I do? Is there a way to create a column with a java type (maybe `Object`?) and then map it to the db type with some annotation? Or is there a way to tell Spring Data about the db column without actually adding a field I won&#39;t use in the class?\r\n\r\nHere is the `PointOfInterest` class:\r\n\r\n    @Data\r\n    @Entity(name = &quot;pois&quot;)\r\n    public abstract class PointOfInterest {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n\r\n        private final double latitude;\r\n        private final double longitude;\r\n        private final PoiType poiType;\r\n\r\n        public PointOfInterest() {\r\n            this.latitude = this.longitude = 0;\r\n            poiType = null;\r\n        }\r\n\r\n        public PointOfInterest(double latitude, double longitude, PoiType poiType) {\r\n            this.latitude = latitude;\r\n            this.longitude = longitude;\r\n            this.poiType = poiType;\r\n        }\r\n    }","title":"How to handle table column of type that is not known in Java (Spring Data)?","body":"<p>I have a table with a column of type <code>geography(Point,4326)</code> (using PostGIS).\nI only need to use this column in the WHERE condition when querying the table. E.g. in the query below, <code>geog</code> is the name of that column.</p>\n\n<pre><code>@Query(value = \"SELECT pois.*\\n\" +\n        \"FROM pois,\\n\" +\n        \"(select ST_MakePoint(:lat,:lon)::geography as poi) as poi\\n\" +\n        \"WHERE ST_DWithin(geog, poi, 400)\\n\" +\n        \"ORDER BY ST_Distance(geog, poi)\", nativeQuery = true)\npublic List&lt;PointOfInterest&gt; getPOIsAroundLocation(@Param(\"lat\") double lat,\n                                                   @Param(\"lon\") double lon);\n</code></pre>\n\n<p>However, in the entity class <code>PointOfInterest</code>, I don't know how to map that column, since I don't have a Java type equivalent to the <code>geography(Point,4326)</code> database type.</p>\n\n<p>If I don't mention the column at all in the class, it won't be created in the database (I have <code>spring.jpa.hibernate.ddl-auto=create</code>), and the query will fail.</p>\n\n<p>What can I do? Is there a way to create a column with a java type (maybe <code>Object</code>?) and then map it to the db type with some annotation? Or is there a way to tell Spring Data about the db column without actually adding a field I won't use in the class?</p>\n\n<p>Here is the <code>PointOfInterest</code> class:</p>\n\n<pre><code>@Data\n@Entity(name = \"pois\")\npublic abstract class PointOfInterest {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    private final double latitude;\n    private final double longitude;\n    private final PoiType poiType;\n\n    public PointOfInterest() {\n        this.latitude = this.longitude = 0;\n        poiType = null;\n    }\n\n    public PointOfInterest(double latitude, double longitude, PoiType poiType) {\n        this.latitude = latitude;\n        this.longitude = longitude;\n        this.poiType = poiType;\n    }\n}\n</code></pre>\n"},{"tags":["java","schema","avro"],"answers":[{"comments":[{"owner":{"account_id":550474,"reputation":319,"user_id":915022,"accept_rate":47,"display_name":"Ravindranath Akila"},"score":0,"creation_date":1414379061,"post_id":25113463,"comment_id":41777989,"body_markdown":"You might want to consider using List instead since I&#39;ve encountered NPE&#39;s when deserializing String arrays.","body":"You might want to consider using List instead since I&#39;ve encountered NPE&#39;s when deserializing String arrays."},{"owner":{"account_id":1823821,"reputation":545,"user_id":1657199,"display_name":"emirhosseini"},"score":0,"creation_date":1547146521,"post_id":25113463,"comment_id":95101871,"body_markdown":"@qwetty Does the data need to be nested like this? What if we had to have multiple fields of the same type? The definition of the child type would need to be repeated? Seems cleaner to separate the types","body":"@qwetty Does the data need to be nested like this? What if we had to have multiple fields of the same type? The definition of the child type would need to be repeated? Seems cleaner to separate the types"},{"owner":{"account_id":15262024,"reputation":185,"user_id":11011772,"display_name":"Ashish Mittal"},"score":0,"creation_date":1586602397,"post_id":25113463,"comment_id":108189500,"body_markdown":"@Kapil what will be default value for this?","body":"@Kapil what will be default value for this?"},{"owner":{"account_id":20739,"reputation":3064,"user_id":49847,"accept_rate":40,"display_name":"Susheel Javadi"},"score":1,"creation_date":1588046079,"post_id":25113463,"comment_id":108741835,"body_markdown":"The Avro-to-Hive documentation lists the avro type as &quot;list&quot; instead of &quot;array&quot;. https://cwiki.apache.org/confluence/display/Hive/AvroSerDe#AvroSerDe-AvrotoHivetypeconversion Is it possible that the Hive documentation is incorrect ?","body":"The Avro-to-Hive documentation lists the avro type as &quot;list&quot; instead of &quot;array&quot;. <a href=\"https://cwiki.apache.org/confluence/display/Hive/AvroSerDe#AvroSerDe-AvrotoHivetypeconversion\" rel=\"nofollow noreferrer\">cwiki.apache.org/confluence/display/Hive/&hellip;</a> Is it possible that the Hive documentation is incorrect ?"}],"tags":[],"owner":{"account_id":4681500,"reputation":1084,"user_id":3790093,"display_name":"Kapil Balagi"},"comment_count":4,"down_vote_count":0,"up_vote_count":100,"is_accepted":true,"score":100,"last_activity_date":1484067323,"creation_date":1407136459,"answer_id":25113463,"question_id":25076786,"body_markdown":"You need to use [array][1] type for creating the list.\r\nFollowing is the updated schema that handles your usecase.\r\n\r\n    {\r\n        &quot;name&quot;: &quot;Parent&quot;,\r\n        &quot;type&quot;:&quot;record&quot;,\r\n        &quot;fields&quot;:[\r\n            {\r\n                &quot;name&quot;:&quot;children&quot;,\r\n                &quot;type&quot;:{\r\n            \t    &quot;type&quot;: &quot;array&quot;,  \r\n            \t    &quot;items&quot;:{\r\n\t\t\t            &quot;name&quot;:&quot;Child&quot;,\r\n\t\t\t            &quot;type&quot;:&quot;record&quot;,\r\n\t\t\t            &quot;fields&quot;:[\r\n\t\t\t                {&quot;name&quot;:&quot;name&quot;, &quot;type&quot;:&quot;string&quot;}\r\n\t\t\t            ]\r\n\t\t\t        }\r\n\t            }\r\n            }\r\n        ] \r\n    }\r\n\r\n\r\n\r\n  [1]: http://avro.apache.org/docs/current/spec.html#Arrays","title":"How to create schema containing list of objects using Avro?","body":"<p>You need to use <a href=\"http://avro.apache.org/docs/current/spec.html#Arrays\" rel=\"noreferrer\">array</a> type for creating the list.\nFollowing is the updated schema that handles your usecase.</p>\n\n<pre><code>{\n    \"name\": \"Parent\",\n    \"type\":\"record\",\n    \"fields\":[\n        {\n            \"name\":\"children\",\n            \"type\":{\n                \"type\": \"array\",  \n                \"items\":{\n                    \"name\":\"Child\",\n                    \"type\":\"record\",\n                    \"fields\":[\n                        {\"name\":\"name\", \"type\":\"string\"}\n                    ]\n                }\n            }\n        }\n    ] \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4839582,"reputation":3074,"user_id":3905007,"accept_rate":77,"display_name":"youngrrrr"},"score":0,"creation_date":1689652659,"post_id":52118036,"comment_id":135240279,"body_markdown":"I&#39;m quite dumb / literal in my readings so I have to ask maybe obvious questions: In the Avro file format, does `&quot;name&quot;: &quot;AccountEvent&quot;` correspond to the `Employees` class? In other words, would it be more accurate to say `&quot;name&quot;: &quot;Employees&quot;`?","body":"I&#39;m quite dumb / literal in my readings so I have to ask maybe obvious questions: In the Avro file format, does <code>&quot;name&quot;: &quot;AccountEvent&quot;</code> correspond to the <code>Employees</code> class? In other words, would it be more accurate to say <code>&quot;name&quot;: &quot;Employees&quot;</code>?"}],"tags":[],"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1689777747,"creation_date":1535727259,"answer_id":52118036,"question_id":25076786,"body_markdown":"I had following classes and Avro maven plugin generated two classes accordingly :\r\n\r\n&lt;!-- language:lang-java --&gt;\r\n    \r\n    public class Employees{\r\n        String accountNumber;\r\n        String address;\r\n        List&lt;Account&gt; accountList;    \r\n    }\r\n    \r\n    public class Account {\r\n        String accountNumber;\r\n        String id;\r\n    }\r\n\r\n    \r\nAvro file format :\r\n\r\n&lt;!-- language:lang-js --&gt;\r\n\r\n    {\r\n        &quot;type&quot;: &quot;record&quot;,\r\n        &quot;namespace&quot;: &quot;com.mypackage&quot;,\r\n        &quot;name&quot;: &quot;AccountEvent&quot;,\r\n        &quot;fields&quot;: [\r\n            {\r\n                &quot;name&quot;: &quot;accountNumber&quot;,\r\n                &quot;type&quot;: &quot;string&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;address&quot;,\r\n                &quot;type&quot;: &quot;string&quot;\r\n            },\r\n    \t\t{\r\n                &quot;name&quot;: &quot;accountList&quot;,\r\n                &quot;type&quot;: {\r\n                    &quot;type&quot;: &quot;array&quot;,\r\n                    &quot;items&quot;:{\r\n                        &quot;name&quot;: &quot;Account&quot;,\r\n                        &quot;type&quot;: &quot;record&quot;,\r\n                        &quot;fields&quot;:[\r\n                            {   &quot;name&quot;: &quot;accountNumber&quot;,\r\n                                &quot;type&quot;: &quot;string&quot;\r\n                            },\r\n                            {   &quot;name&quot;: &quot;id&quot;,\r\n                                &quot;type&quot;: &quot;string&quot;\r\n                            }\r\n                        ]\r\n                    }\r\n                }\r\n            }\r\n    \t]\r\n    }\r\n\r\n","title":"How to create schema containing list of objects using Avro?","body":"<p>I had following classes and Avro maven plugin generated two classes accordingly :</p>\n\n<pre><code>public class Employees{\n    String accountNumber;\n    String address;\n    List&lt;Account&gt; accountList;    \n}\n\npublic class Account {\n    String accountNumber;\n    String id;\n}\n</code></pre>\n<p>Avro file format :</p>\n\n<pre><code>{\n    &quot;type&quot;: &quot;record&quot;,\n    &quot;namespace&quot;: &quot;com.mypackage&quot;,\n    &quot;name&quot;: &quot;AccountEvent&quot;,\n    &quot;fields&quot;: [\n        {\n            &quot;name&quot;: &quot;accountNumber&quot;,\n            &quot;type&quot;: &quot;string&quot;\n        },\n        {\n            &quot;name&quot;: &quot;address&quot;,\n            &quot;type&quot;: &quot;string&quot;\n        },\n        {\n            &quot;name&quot;: &quot;accountList&quot;,\n            &quot;type&quot;: {\n                &quot;type&quot;: &quot;array&quot;,\n                &quot;items&quot;:{\n                    &quot;name&quot;: &quot;Account&quot;,\n                    &quot;type&quot;: &quot;record&quot;,\n                    &quot;fields&quot;:[\n                        {   &quot;name&quot;: &quot;accountNumber&quot;,\n                            &quot;type&quot;: &quot;string&quot;\n                        },\n                        {   &quot;name&quot;: &quot;id&quot;,\n                            &quot;type&quot;: &quot;string&quot;\n                        }\n                    ]\n                }\n            }\n        }\n    ]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8120335,"reputation":2034,"user_id":6117311,"display_name":"Tiago Medici"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644480891,"creation_date":1639996363,"answer_id":70420488,"question_id":25076786,"body_markdown":"Array as type\r\n\r\n    {\r\n    \t&quot;type&quot;: &quot;record&quot;,\r\n    \t&quot;name&quot;: &quot;jamesMedice&quot;,\r\n    \t&quot;fields&quot;: [{\r\n    \t\t&quot;name&quot;: &quot;columns&quot;,\r\n    \t\t&quot;type&quot;: {\r\n    \t\t\t&quot;type&quot;: &quot;array&quot;,\r\n    \t\t\t&quot;items&quot;: {\r\n    \t\t\t\t&quot;type&quot;: &quot;record&quot;,\r\n    \t\t\t\t&quot;name&quot;: &quot;columnValues&quot;,\r\n    \t\t\t\t&quot;fields&quot;: [{\r\n    \t\t\t\t\t\t&quot;name&quot;: &quot;personId&quot;,\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;,\r\n    \t\t\t\t\t\t&quot;default&quot;: &quot;null&quot;\r\n    \t\t\t\t\t},\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\t&quot;name&quot;: &quot;email&quot;,\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;,\r\n    \t\t\t\t\t\t&quot;default&quot;: &quot;null&quot;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t]\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}]\r\n    }","title":"How to create schema containing list of objects using Avro?","body":"<p>Array as type</p>\n<pre><code>{\n    &quot;type&quot;: &quot;record&quot;,\n    &quot;name&quot;: &quot;jamesMedice&quot;,\n    &quot;fields&quot;: [{\n        &quot;name&quot;: &quot;columns&quot;,\n        &quot;type&quot;: {\n            &quot;type&quot;: &quot;array&quot;,\n            &quot;items&quot;: {\n                &quot;type&quot;: &quot;record&quot;,\n                &quot;name&quot;: &quot;columnValues&quot;,\n                &quot;fields&quot;: [{\n                        &quot;name&quot;: &quot;personId&quot;,\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;default&quot;: &quot;null&quot;\n                    },\n                    {\n                        &quot;name&quot;: &quot;email&quot;,\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;default&quot;: &quot;null&quot;\n                    }\n                ]\n            }\n        }\n    }]\n}\n</code></pre>\n"}],"owner":{"account_id":66246,"reputation":11538,"user_id":194476,"accept_rate":90,"display_name":"Shekhar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88303,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"accepted_answer_id":25113463,"answer_count":3,"score":53,"last_activity_date":1689777747,"creation_date":1406884499,"question_id":25076786,"body_markdown":"Does anyone knows how to create Avro schema which contains list of objects of some class?\r\n\r\nI want my generated classes to look like below :\r\n\r\n    class Child {\r\n        String name;\r\n    }\r\n    \r\n    class Parent {\r\n        list&lt;Child&gt; children;\r\n    }\r\n\r\nFor this, I have written part of schema file but do not know how to tell Avro to create list of objects of type `Children`?\r\n\r\nMy schema file looks like below :\r\n\r\n    {\r\n        &quot;name&quot;: &quot;Parent&quot;,\r\n        &quot;type&quot;:&quot;record&quot;,\r\n        &quot;fields&quot;:[\r\n            {\r\n                &quot;name&quot;:&quot;children&quot;,\r\n                &quot;type&quot;:{\r\n                    &quot;name&quot;:&quot;Child&quot;,\r\n                    &quot;type&quot;:&quot;record&quot;,\r\n                    &quot;fields&quot;:[\r\n                        {&quot;name&quot;:&quot;name&quot;, &quot;type&quot;:&quot;string&quot;}\r\n                    ]\r\n                }\r\n            }\r\n        ] \r\n    }\r\n\r\n\r\nNow problem is  that I can mark field `children` as either `Child` type or array but do not know how to mark it as a `array of objects of type Child` class?\r\n\r\nCan anyone please help?\r\n","title":"How to create schema containing list of objects using Avro?","body":"<p>Does anyone knows how to create Avro schema which contains list of objects of some class?</p>\n\n<p>I want my generated classes to look like below :</p>\n\n<pre><code>class Child {\n    String name;\n}\n\nclass Parent {\n    list&lt;Child&gt; children;\n}\n</code></pre>\n\n<p>For this, I have written part of schema file but do not know how to tell Avro to create list of objects of type <code>Children</code>?</p>\n\n<p>My schema file looks like below :</p>\n\n<pre><code>{\n    \"name\": \"Parent\",\n    \"type\":\"record\",\n    \"fields\":[\n        {\n            \"name\":\"children\",\n            \"type\":{\n                \"name\":\"Child\",\n                \"type\":\"record\",\n                \"fields\":[\n                    {\"name\":\"name\", \"type\":\"string\"}\n                ]\n            }\n        }\n    ] \n}\n</code></pre>\n\n<p>Now problem is  that I can mark field <code>children</code> as either <code>Child</code> type or array but do not know how to mark it as a <code>array of objects of type Child</code> class?</p>\n\n<p>Can anyone please help?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":28863382,"reputation":1,"user_id":22106676,"display_name":"Diaz Roban"},"score":0,"creation_date":1689777537,"post_id":76722494,"comment_id":135262033,"body_markdown":"CMake Error at CMakeLists.txt:12 (add_executable):\n  Cannot find source file:","body":"CMake Error at CMakeLists.txt:12 (add_executable):   Cannot find source file:"},{"owner":{"account_id":7622639,"reputation":336,"user_id":5780236,"display_name":"Ahmad Reza Enshaee"},"score":0,"creation_date":1689780442,"post_id":76722494,"comment_id":135262759,"body_markdown":"Have you tried building it with `make` and ndk?","body":"Have you tried building it with <code>make</code> and ndk?"},{"owner":{"account_id":28863382,"reputation":1,"user_id":22106676,"display_name":"Diaz Roban"},"score":0,"creation_date":1689841325,"post_id":76722494,"comment_id":135271277,"body_markdown":"Yes, I tried but it was not fixed","body":"Yes, I tried but it was not fixed"}],"owner":{"account_id":28863382,"reputation":1,"user_id":22106676,"display_name":"Diaz Roban"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689777490,"creation_date":1689777490,"question_id":76722494,"body_markdown":"  from E:\\wire\\New folder\\wireguard-android-master\\tunnel\r\nCMake Error at CMakeLists.txt:12 (add_executable):\r\n  Cannot find source file:\r\n\r\n    wireguard-tools/src/wg-quick/android.c\r\n\r\n  Tried extensions .c .C .c++ .cc .cpp .cxx .cu .mpp .m .M .mm .ixx .cppm .h\r\n  .hh .h++ .hm .hpp .hxx .in .txx .f .F .for .f77 .f90 .f95 .f03 .hip .ispc\r\n\r\n\r\nCMake Error at CMakeLists.txt:12 (add_executable):\r\n  No SOURCES given to target: libwg-quick.so\r\n\r\n\r\nCMake Generate step failed.  Build files cannot be regenerated correctly.","title":"I want to work on Wireguard project, I downloaded the project from github, but when I try to run it in Android Studio, it gives the following error","body":"<p>from E:\\wire\\New folder\\wireguard-android-master\\tunnel\nCMake Error at CMakeLists.txt:12 (add_executable):\nCannot find source file:</p>\n<pre><code>wireguard-tools/src/wg-quick/android.c\n</code></pre>\n<p>Tried extensions .c .C .c++ .cc .cpp .cxx .cu .mpp .m .M .mm .ixx .cppm .h\n.hh .h++ .hm .hpp .hxx .in .txx .f .F .for .f77 .f90 .f95 .f03 .hip .ispc</p>\n<p>CMake Error at CMakeLists.txt:12 (add_executable):\nNo SOURCES given to target: libwg-quick.so</p>\n<p>CMake Generate step failed.  Build files cannot be regenerated correctly.</p>\n"},{"tags":["java","maven","maven-2","maven-3","maven-plugin"],"comments":[{"owner":{"account_id":2144303,"reputation":2789,"user_id":1902288,"accept_rate":90,"display_name":"JBA"},"score":0,"creation_date":1414137760,"post_id":26543490,"comment_id":41711234,"body_markdown":"I havent tryied myself but the best approach seems to be maven incremental build plugin described here: http://harshana05.blogspot.ch/search?q=incremental+maven","body":"I havent tryied myself but the best approach seems to be maven incremental build plugin described here: <a href=\"http://harshana05.blogspot.ch/search?q=incremental+maven\" rel=\"nofollow noreferrer\">harshana05.blogspot.ch/search?q=incremental+maven</a>"},{"owner":{"account_id":2144303,"reputation":2789,"user_id":1902288,"accept_rate":90,"display_name":"JBA"},"score":0,"creation_date":1414137867,"post_id":26543490,"comment_id":41711274,"body_markdown":"Id love to hear about your success with this (since we have multi module projects maintained on GIT were all of the different branches are build on the same Jenkins instance hence resulting in build scenarios that can take up to 24 hours i consider having a closer look at this too).","body":"Id love to hear about your success with this (since we have multi module projects maintained on GIT were all of the different branches are build on the same Jenkins instance hence resulting in build scenarios that can take up to 24 hours i consider having a closer look at this too)."},{"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":0,"creation_date":1418089441,"post_id":26543490,"comment_id":43191956,"body_markdown":"I did this with a combination of sed/awk and `git diff --name-only`  to get the modules that have changed since a revision then do a mvn -amd -pl modulenames clean install","body":"I did this with a combination of sed/awk and <code>git diff --name-only</code>  to get the modules that have changed since a revision then do a mvn -amd -pl modulenames clean install"},{"owner":{"account_id":474122,"reputation":1627,"user_id":883603,"accept_rate":75,"display_name":"Dormouse"},"score":1,"creation_date":1571838829,"post_id":26543490,"comment_id":103373834,"body_markdown":"Maven is just not really suited for this. Build tools like Bazel are. You can build and run tests only on affected parts and you&#39;re able to determine the granularity yourself.","body":"Maven is just not really suited for this. Build tools like Bazel are. You can build and run tests only on affected parts and you&#39;re able to determine the granularity yourself."}],"answers":[{"tags":[],"owner":{"account_id":312553,"reputation":1008,"user_id":626684,"display_name":"Kobynet"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679575246,"creation_date":1646317933,"answer_id":71338863,"question_id":26543490,"body_markdown":"What you are looking for can be achieved by using [gitflow-incremental-builder][1] plugin, although it has dependency on git.\r\n\r\n&gt; A maven extension for incremental building of multi-module \r\n     projects when using feature branches (Git Flow). \r\n    Builds or tests only changed maven modules compared to\r\n     reference branch in Git (e.g. origin/develop) and all their dependents.\r\n\r\nPowered by JGit.\r\n\r\n\r\n  [1]: https://github.com/gitflow-incremental-builder/gitflow-incremental-builder","title":"Configure Maven not to run tests if nothing changed","body":"<p>What you are looking for can be achieved by using <a href=\"https://github.com/gitflow-incremental-builder/gitflow-incremental-builder\" rel=\"nofollow noreferrer\">gitflow-incremental-builder</a> plugin, although it has dependency on git.</p>\n<blockquote>\n<p>A maven extension for incremental building of multi-module\nprojects when using feature branches (Git Flow).\nBuilds or tests only changed maven modules compared to\nreference branch in Git (e.g. origin/develop) and all their dependents.</p>\n</blockquote>\n<p>Powered by JGit.</p>\n"},{"tags":[],"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679575042,"creation_date":1679575042,"answer_id":75823094,"question_id":26543490,"body_markdown":"You could bite the bullet on this one and take your expensive (by cpu cycles) integration tests out of the main build.\r\n\r\nThe you can run your project with -Pintegrationtests via a separate scheduling mechanism.\r\n\r\nFor example, you could run them 4 times daily, on a cron schedule.","title":"Configure Maven not to run tests if nothing changed","body":"<p>You could bite the bullet on this one and take your expensive (by cpu cycles) integration tests out of the main build.</p>\n<p>The you can run your project with -Pintegrationtests via a separate scheduling mechanism.</p>\n<p>For example, you could run them 4 times daily, on a cron schedule.</p>\n"},{"tags":[],"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689769946,"creation_date":1689769946,"answer_id":76721330,"question_id":26543490,"body_markdown":"If you are using the &quot;release-manager&quot; you could run the test using the pre-commit-check using the variable `$pending_change_modules`.\r\n\r\nIn example: If you commit to modul `foobar` then this command is executed:\r\n\r\n    mvn test -pl foobar\r\n\r\n**Warning: If the test fail the commit is rejected.**\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kD4WG.png","title":"Configure Maven not to run tests if nothing changed","body":"<p>If you are using the &quot;release-manager&quot; you could run the test using the pre-commit-check using the variable <code>$pending_change_modules</code>.</p>\n<p>In example: If you commit to modul <code>foobar</code> then this command is executed:</p>\n<pre><code>mvn test -pl foobar\n</code></pre>\n<p><strong>Warning: If the test fail the commit is rejected.</strong>\n<a href=\"https://i.stack.imgur.com/kD4WG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kD4WG.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":14346634,"reputation":21,"user_id":10363350,"display_name":"Haifisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689777486,"creation_date":1689777486,"answer_id":76722492,"question_id":26543490,"body_markdown":"Maven doesn&#39;t inherently support skipping tests based on whether a module&#39;s source code has changed. However, you can approximate such functionality using a combination of Maven profiles and carefully crafted commands.\r\n\r\nFirst, if you aren&#39;t using them already, modularize your code using Maven Modules. Each module should have its own pom.xml. Then, you can use Maven profiles to skip tests for each module:\r\n\r\n    &lt;profile&gt;\r\n        &lt;id&gt;skipTests&lt;/id&gt;\r\n        &lt;properties&gt;\r\n            &lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/profile&gt;\r\n   &lt;/profiles&gt;\r\n\r\nYou can activate this profile when building a module to skip tests:\r\n\r\n    mvn clean install -PskipTests\r\n\r\n - Checks which files have changed since the last commit.\r\n - Determines which module(s) those files belong to.\r\n - Builds only those modules without skipping tests.\r\n - Builds the rest of the modules with the skipTests profile active.\r\n\r\n","title":"Configure Maven not to run tests if nothing changed","body":"<p>Maven doesn't inherently support skipping tests based on whether a module's source code has changed. However, you can approximate such functionality using a combination of Maven profiles and carefully crafted commands.</p>\n<p>First, if you aren't using them already, modularize your code using Maven Modules. Each module should have its own pom.xml. Then, you can use Maven profiles to skip tests for each module:</p>\n<pre><code>&lt;profile&gt;\n    &lt;id&gt;skipTests&lt;/id&gt;\n    &lt;properties&gt;\n        &lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\n    &lt;/properties&gt;\n&lt;/profile&gt;\n</code></pre>\n   \n<p>You can activate this profile when building a module to skip tests:</p>\n<pre><code>mvn clean install -PskipTests\n</code></pre>\n<ul>\n<li>Checks which files have changed since the last commit.</li>\n<li>Determines which module(s) those files belong to.</li>\n<li>Builds only those modules without skipping tests.</li>\n<li>Builds the rest of the modules with the skipTests profile active.</li>\n</ul>\n"}],"owner":{"account_id":1709457,"reputation":956,"user_id":1567785,"accept_rate":62,"display_name":"Don_Quijote"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1085,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":4,"score":17,"last_activity_date":1689777486,"creation_date":1414136442,"question_id":26543490,"body_markdown":"We have a large application consisting of many modules and full build (with integration tests) takes up to hour.\r\nIs there a way to configure maven in the way that it will skip tests on modules (or even classes), where nothing has been changed?\r\nProbably some plugin exists for that or this plugin can be written?","title":"Configure Maven not to run tests if nothing changed","body":"<p>We have a large application consisting of many modules and full build (with integration tests) takes up to hour.\nIs there a way to configure maven in the way that it will skip tests on modules (or even classes), where nothing has been changed?\nProbably some plugin exists for that or this plugin can be written?</p>\n"},{"tags":["java","java-stream","jdbctemplate"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1689764931,"post_id":76720621,"comment_id":135258686,"body_markdown":"Please don&#39;t post link, paste the error itself. Not sure what you expect streams to do if you end up collecting a list of items that are too large to put into memory.","body":"Please don&#39;t post link, paste the error itself. Not sure what you expect streams to do if you end up collecting a list of items that are too large to put into memory."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1689766072,"post_id":76720621,"comment_id":135258909,"body_markdown":"You should explain what you want to achieve. Why do you collect everything in a single list? You could operate on the data in batches - get data from one db, do stuff with it, discard it. If you really need to keep everything in memory, i doubt there is much you can do apart from increasing available memory.","body":"You should explain what you want to achieve. Why do you collect everything in a single list? You could operate on the data in batches - get data from one db, do stuff with it, discard it. If you really need to keep everything in memory, i doubt there is much you can do apart from increasing available memory."},{"owner":{"account_id":24881829,"reputation":1,"user_id":18754936,"display_name":"Anand"},"score":0,"creation_date":1689766512,"post_id":76720621,"comment_id":135259016,"body_markdown":"I have db in different servers. I want to get the result of the query from all the db to send it to frontend . so i thought instead of using list of map , I could use streams \n @Chaosfire","body":"I have db in different servers. I want to get the result of the query from all the db to send it to frontend . so i thought instead of using list of map , I could use streams   @Chaosfire"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1689769143,"post_id":76720621,"comment_id":135259616,"body_markdown":"Simplest would be to implement pagination-like, 1 page being the result from 1 db, and the frontend gets everything 1 page at a time.","body":"Simplest would be to implement pagination-like, 1 page being the result from 1 db, and the frontend gets everything 1 page at a time."},{"owner":{"account_id":24881829,"reputation":1,"user_id":18754936,"display_name":"Anand"},"score":0,"creation_date":1689770318,"post_id":76720621,"comment_id":135259917,"body_markdown":"The response will be seen in csv format by the end user. How is it possible to implement pagination then? @Chaosfire","body":"The response will be seen in csv format by the end user. How is it possible to implement pagination then? @Chaosfire"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689809294,"post_id":76720621,"comment_id":135267717,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689777346,"creation_date":1689777346,"answer_id":76722466,"question_id":76720621,"body_markdown":"Looking at the error message sounds like the logback is not able to process the message that you are trying to log. Reducing logging should provide some relief from current issue. But overall approach of sending bulk of data in online call is not recommended. \r\n\r\nIf intent is to share huge csv file, you have 2 options, and both the options involve async programming with threads. \r\n\r\nOption 1) Break the calls into 2, first to initiate csv creation and generate the unique id that can used for tracking. second call serve the content if the first call is completed. \r\n\r\nOption 2) Use the any of java library/framework that allow reactive programming. Have a look at the options outline in the article https://reflectoring.io/getting-started-with-spring-webflux/.","title":"How to send list of map into streams in java?","body":"<p>Looking at the error message sounds like the logback is not able to process the message that you are trying to log. Reducing logging should provide some relief from current issue. But overall approach of sending bulk of data in online call is not recommended.</p>\n<p>If intent is to share huge csv file, you have 2 options, and both the options involve async programming with threads.</p>\n<p>Option 1) Break the calls into 2, first to initiate csv creation and generate the unique id that can used for tracking. second call serve the content if the first call is completed.</p>\n<p>Option 2) Use the any of java library/framework that allow reactive programming. Have a look at the options outline in the article <a href=\"https://reflectoring.io/getting-started-with-spring-webflux/\" rel=\"nofollow noreferrer\">https://reflectoring.io/getting-started-with-spring-webflux/</a>.</p>\n"}],"owner":{"account_id":24881829,"reputation":1,"user_id":18754936,"display_name":"Anand"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689777346,"creation_date":1689764622,"question_id":76720621,"body_markdown":"I trying to run a query using foreach in 30+ datasources. I store the output in a List&lt;Map&lt;String,Object&gt;&gt; this process takes huge memory and long time. Following is the screenshot of the error[enter image description here](https://i.stack.imgur.com/TNYxB.png)\r\n\r\n\r\nThis is my Code:\r\n\r\n```\r\nList&lt;Map&lt;String, Object&gt;&gt; resultSetList = new ArrayList&lt;&gt;();\r\nmultiDataSourceProperties.getDatasources().forEach((k, v) -&gt; {\r\njdbcTemplate.setDataSource((DataSource) v);\r\nMap&lt;String, Object&gt; rs = new HashMap&lt;&gt;();\r\nrs.put((String) k, namedJdbcTemplate.queryForList(rsConfig.getQuery(), queryParams));\r\nresultSetList.add(rs);\r\n```\r\n\r\nCould anyone suggest me solution for this via stream concept?","title":"How to send list of map into streams in java?","body":"<p>I trying to run a query using foreach in 30+ datasources. I store the output in a List&lt;Map&lt;String,Object&gt;&gt; this process takes huge memory and long time. Following is the screenshot of the error<a href=\"https://i.stack.imgur.com/TNYxB.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>This is my Code:</p>\n<pre><code>List&lt;Map&lt;String, Object&gt;&gt; resultSetList = new ArrayList&lt;&gt;();\nmultiDataSourceProperties.getDatasources().forEach((k, v) -&gt; {\njdbcTemplate.setDataSource((DataSource) v);\nMap&lt;String, Object&gt; rs = new HashMap&lt;&gt;();\nrs.put((String) k, namedJdbcTemplate.queryForList(rsConfig.getQuery(), queryParams));\nresultSetList.add(rs);\n</code></pre>\n<p>Could anyone suggest me solution for this via stream concept?</p>\n"},{"tags":["java","nosuchmethoderror"],"comments":[{"owner":{"account_id":3288925,"reputation":909,"user_id":2767662,"display_name":"Heinzlmaen"},"score":13,"creation_date":1453294219,"post_id":35186,"comment_id":57537244,"body_markdown":"In Netbeans: Right click on project in Projects tab, use &quot;Clean and Build&quot;. Solved it for me.","body":"In Netbeans: Right click on project in Projects tab, use &quot;Clean and Build&quot;. Solved it for me."},{"owner":{"account_id":2471937,"reputation":5110,"user_id":2153567,"accept_rate":77,"display_name":"Hawk"},"score":6,"creation_date":1543413448,"post_id":35186,"comment_id":93910864,"body_markdown":"Also in Intellij Idea, rebuild solves the problem sometimes","body":"Also in Intellij Idea, rebuild solves the problem sometimes"},{"owner":{"account_id":8410092,"reputation":534,"user_id":6312337,"accept_rate":80,"display_name":"Michael Smith"},"score":3,"creation_date":1563814387,"post_id":35186,"comment_id":100816316,"body_markdown":"This article is very helpful for this issue https://reflectoring.io/nosuchmethod/","body":"This article is very helpful for this issue <a href=\"https://reflectoring.io/nosuchmethod/\" rel=\"nofollow noreferrer\">reflectoring.io/nosuchmethod</a>"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1680146773,"post_id":35186,"comment_id":133849580,"body_markdown":"https://reflectoring.io/nosuchmethod/ https://www.baeldung.com/java-nosuchmethod-error  https://www.javatpoint.com/java-lang-nosuchmethoderror https://www.geeksforgeeks.org/how-to-solve-java-lang-nosuchmethoderror-in-java/ https://stackoverflow.com/questions/75880410/java-lang-nosuchmethoderror-org-apache-hadoop-hive-common-fileutils-mkdir-while https://stackoverflow.com/questions/75472043/error-java-lang-nosuchmethoderror-scala-tools-nsc-reporters-reporter-scala-to","body":"<a href=\"https://reflectoring.io/nosuchmethod/\" rel=\"nofollow noreferrer\">reflectoring.io/nosuchmethod</a> <a href=\"https://www.baeldung.com/java-nosuchmethod-error\" rel=\"nofollow noreferrer\">baeldung.com/java-nosuchmethod-error</a>  <a href=\"https://www.javatpoint.com/java-lang-nosuchmethoderror\" rel=\"nofollow noreferrer\">javatpoint.com/java-lang-nosuchmethoderror</a> <a href=\"https://www.geeksforgeeks.org/how-to-solve-java-lang-nosuchmethoderror-in-java/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/&hellip;</a> <a href=\"https://stackoverflow.com/questions/75880410/java-lang-nosuchmethoderror-org-apache-hadoop-hive-common-fileutils-mkdir-while\" title=\"java lang nosuchmethoderror org apache hadoop hive common fileutils mkdir while\">stackoverflow.com/questions/75880410/&hellip;</a> <a href=\"https://stackoverflow.com/questions/75472043/error-java-lang-nosuchmethoderror-scala-tools-nsc-reporters-reporter-scala-to\" title=\"error java lang nosuchmethoderror scala tools nsc reporters reporter scala to\">stackoverflow.com/questions/75472043/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":2828461,"reputation":19324,"user_id":2430549,"display_name":"HoldOffHunger"},"score":2,"creation_date":1458228178,"post_id":35187,"comment_id":59776077,"body_markdown":"Actually, this feels more like an issue that crops up for Java programmers who are using any Java development framework: Maven, NetBeans, and Apache Ant, as you can see from all the answers here.","body":"Actually, this feels more like an issue that crops up for Java programmers who are using any Java development framework: Maven, NetBeans, and Apache Ant, as you can see from all the answers here."}],"tags":[],"owner":{"account_id":2536,"reputation":22948,"user_id":3535,"accept_rate":100,"display_name":"John Meagher"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1220040276,"creation_date":1220040276,"answer_id":35187,"question_id":35186,"body_markdown":"This is usually caused when using a build system like [Apache Ant](http://ant.apache.org) that only compiles java files when the java file is newer than the class file.  If a method signature changes and classes were using the old version things may not be compiled correctly.  The usual fix is to do a full rebuild (usually &quot;ant clean&quot; then &quot;ant&quot;).  \r\n\r\nSometimes this can also be caused when compiling against one version of a library but running against a different version.\r\n","title":"How do I fix a NoSuchMethodError?","body":"<p>This is usually caused when using a build system like <a href=\"http://ant.apache.org\" rel=\"noreferrer\">Apache Ant</a> that only compiles java files when the java file is newer than the class file.  If a method signature changes and classes were using the old version things may not be compiled correctly.  The usual fix is to do a full rebuild (usually \"ant clean\" then \"ant\").  </p>\n\n<p>Sometimes this can also be caused when compiling against one version of a library but running against a different version.</p>\n"},{"comments":[{"owner":{"account_id":64671,"reputation":123,"user_id":190796,"display_name":"vazor"},"score":4,"creation_date":1430929806,"post_id":35210,"comment_id":48278046,"body_markdown":"We recently discovered the cause of one of these and it turned out the build process was putting class files in place before the java server was shut down, and we hit this because the java server hadn&#39;t loaded some classes, and then it did load some but it got these new ones, and since the new code referred to methods that the old classes didn&#39;t have... bingo, NoSuchMethodError","body":"We recently discovered the cause of one of these and it turned out the build process was putting class files in place before the java server was shut down, and we hit this because the java server hadn&#39;t loaded some classes, and then it did load some but it got these new ones, and since the new code referred to methods that the old classes didn&#39;t have... bingo, NoSuchMethodError"},{"owner":{"account_id":90378,"reputation":2824,"user_id":248847,"accept_rate":85,"display_name":"KrishPrabakar"},"score":1,"creation_date":1594727751,"post_id":35210,"comment_id":111221317,"body_markdown":"&quot;Look at the stack trace...&quot; - Well, I almost always go and check the last `Caused by` section in the stack trace to find the culprit class/jar","body":"&quot;Look at the stack trace...&quot; - Well, I almost always go and check the last <code>Caused by</code> section in the stack trace to find the culprit class/jar"},{"owner":{"account_id":17077819,"reputation":3030,"user_id":12357035,"display_name":"Sourav Kannantha B"},"score":0,"creation_date":1626340959,"post_id":35210,"comment_id":120868968,"body_markdown":"@Vetle, does that mean, imported classes are dynamically loaded in Java in contrast to static loading in C?","body":"@Vetle, does that mean, imported classes are dynamically loaded in Java in contrast to static loading in C?"}],"tags":[],"owner":{"account_id":2128,"reputation":3307,"user_id":2935,"accept_rate":88,"display_name":"Vetle"},"comment_count":3,"down_vote_count":0,"up_vote_count":280,"is_accepted":true,"score":280,"last_activity_date":1220040896,"creation_date":1220040896,"answer_id":35210,"question_id":35186,"body_markdown":"Without any more information it is difficult to pinpoint the problem, but the root cause is that you most likely have compiled a class against a different version of the class that is missing a method, than the one you are using when running it.\r\n\r\nLook at the stack trace ... If the exception appears when calling a method on an object in a library, you are most likely using separate versions of the library when compiling and running. Make sure you have the right version both places.\r\n\r\nIf the exception appears when calling a method on objects instantiated by classes _you_ made, then your build process seems to be faulty. Make sure the class files that you are actually running are updated when you compile.","title":"How do I fix a NoSuchMethodError?","body":"<p>Without any more information it is difficult to pinpoint the problem, but the root cause is that you most likely have compiled a class against a different version of the class that is missing a method, than the one you are using when running it.</p>\n\n<p>Look at the stack trace ... If the exception appears when calling a method on an object in a library, you are most likely using separate versions of the library when compiling and running. Make sure you have the right version both places.</p>\n\n<p>If the exception appears when calling a method on objects instantiated by classes <em>you</em> made, then your build process seems to be faulty. Make sure the class files that you are actually running are updated when you compile.</p>\n"},{"comments":[{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":1,"creation_date":1680144215,"post_id":35350,"comment_id":133849310,"body_markdown":"The question was about `NoSuchMethodError`, not `NoSuchMethodException`","body":"The question was about <code>NoSuchMethodError</code>, not <code>NoSuchMethodException</code>"},{"owner":{"account_id":2475,"reputation":16513,"user_id":3446,"accept_rate":67,"display_name":"rcreswick"},"score":0,"creation_date":1680239535,"post_id":35350,"comment_id":133867773,"body_markdown":"Oh, good call out! I didn&#39;t know both of those existed when I wrote this 15 years ago, and assumed it was a typo.","body":"Oh, good call out! I didn&#39;t know both of those existed when I wrote this 15 years ago, and assumed it was a typo."}],"tags":[],"owner":{"account_id":2475,"reputation":16513,"user_id":3446,"accept_rate":67,"display_name":"rcreswick"},"comment_count":2,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1220045474,"creation_date":1220045474,"answer_id":35350,"question_id":35186,"body_markdown":"This can also be the result of using reflection.  If you have code that reflects on a class and extracts a method by name (eg: with `Class.getDeclaredMethod(&quot;someMethodName&quot;, .....)`) then any time that method name changes, such as during a refactor, you will need to remember to update the parameters to the reflection method to match the new method signature, or the `getDeclaredMethod` call will throw a `NoSuchMethodException`.\r\n\r\nIf this is the reason, then the stack trace should show the point that the reflection method is invoked, and you&#39;ll just need to update the parameters to match the actual method signature.  \r\n\r\nIn my experience, this comes up occasionally when unit testing private methods/fields, and using a `TestUtilities` class to extract fields for test verification.  (Generally with legacy code that wasn&#39;t designed with unit testing in mind.)","title":"How do I fix a NoSuchMethodError?","body":"<p>This can also be the result of using reflection.  If you have code that reflects on a class and extracts a method by name (eg: with <code>Class.getDeclaredMethod(\"someMethodName\", .....)</code>) then any time that method name changes, such as during a refactor, you will need to remember to update the parameters to the reflection method to match the new method signature, or the <code>getDeclaredMethod</code> call will throw a <code>NoSuchMethodException</code>.</p>\n\n<p>If this is the reason, then the stack trace should show the point that the reflection method is invoked, and you'll just need to update the parameters to match the actual method signature.  </p>\n\n<p>In my experience, this comes up occasionally when unit testing private methods/fields, and using a <code>TestUtilities</code> class to extract fields for test verification.  (Generally with legacy code that wasn't designed with unit testing in mind.)</p>\n"},{"comments":[{"owner":{"account_id":2798671,"reputation":1041,"user_id":2407369,"accept_rate":83,"display_name":"Victor"},"score":3,"creation_date":1590049942,"post_id":36617,"comment_id":109534896,"body_markdown":"In other words, you are saying that if you are using reflection to get a method on a class and the method is not found, you get a NoSuchMethodException. But if you are in a scenario when you compiled your code against some libs and on the server you have other libs (maybe newer maybe older) then you get the NoSuchMethodError. Correct me if I&#39;m wrong.","body":"In other words, you are saying that if you are using reflection to get a method on a class and the method is not found, you get a NoSuchMethodException. But if you are in a scenario when you compiled your code against some libs and on the server you have other libs (maybe newer maybe older) then you get the NoSuchMethodError. Correct me if I&#39;m wrong."}],"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":1,"down_vote_count":0,"up_vote_count":84,"is_accepted":false,"score":84,"last_activity_date":1220154340,"creation_date":1220154340,"answer_id":36617,"question_id":35186,"body_markdown":"Note that in the case of reflection, you get an `NoSuchMethodException`, while with non-reflective code, you get `NoSuchMethodError`. I tend to go looking in very different places when confronted with one versus the other.\r\n","title":"How do I fix a NoSuchMethodError?","body":"<p>Note that in the case of reflection, you get an <code>NoSuchMethodException</code>, while with non-reflective code, you get <code>NoSuchMethodError</code>. I tend to go looking in very different places when confronted with one versus the other.</p>\n"},{"tags":[],"owner":{"account_id":1364,"reputation":35374,"user_id":1820,"accept_rate":94,"display_name":"Cheekysoft"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1220349437,"creation_date":1220315748,"answer_id":38656,"question_id":35186,"body_markdown":"If you are writing a webapp, ensure that you don&#39;t have conflicting versions of a jar in your container&#39;s global library directory and also in your app. You may not necessarily know which jar is being used by the classloader.\r\n\r\ne.g.  \r\n\r\n  - tomcat/common/lib\r\n  - mywebapp/WEB-INF/lib\r\n","title":"How do I fix a NoSuchMethodError?","body":"<p>If you are writing a webapp, ensure that you don't have conflicting versions of a jar in your container's global library directory and also in your app. You may not necessarily know which jar is being used by the classloader.</p>\n\n<p>e.g.  </p>\n\n<ul>\n<li>tomcat/common/lib</li>\n<li>mywebapp/WEB-INF/lib</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":4,"creation_date":1413374340,"post_id":42097,"comment_id":41418561,"body_markdown":"+1 Brilliant! I solved a nasty little problem by using this method, thanks. This is an excellent way to discover when classes have sneaked their way onto a classpath somehow.","body":"+1 Brilliant! I solved a nasty little problem by using this method, thanks. This is an excellent way to discover when classes have sneaked their way onto a classpath somehow."},{"owner":{"account_id":1429263,"reputation":137,"user_id":1352052,"accept_rate":75,"display_name":"nenea"},"score":1,"creation_date":1599133477,"post_id":42097,"comment_id":112682895,"body_markdown":"I don&#39;t think any other answers are justified...this is how you figure out where the wrong dependency is loaded from, which is the essence of the question...saved my (second) day :)","body":"I don&#39;t think any other answers are justified...this is how you figure out where the wrong dependency is loaded from, which is the essence of the question...saved my (second) day :)"},{"owner":{"account_id":17077819,"reputation":3030,"user_id":12357035,"display_name":"Sourav Kannantha B"},"score":0,"creation_date":1626341033,"post_id":42097,"comment_id":120869010,"body_markdown":"@matt Does that mean, imported classes are dynamically loaded in Java in contrast to static loading in C?","body":"@matt Does that mean, imported classes are dynamically loaded in Java in contrast to static loading in C?"}],"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"comment_count":3,"down_vote_count":0,"up_vote_count":69,"is_accepted":false,"score":69,"last_activity_date":1578706402,"creation_date":1220460105,"answer_id":42097,"question_id":35186,"body_markdown":"If you have access to change the JVM parameters, adding verbose output should allow you to see what classes are being loaded from which JAR files.\r\n\r\n    java -verbose:class &lt;other args&gt;\r\n\r\nWhen your program is run, the JVM should dump to standard out information such as:\r\n\r\n&gt;...\r\n&gt;\r\n&gt;[Loaded junit.framework.Assert from file:/C:/Program%20Files/junit3.8.2/junit.jar]\r\n&gt;\r\n&gt;...\r\n","title":"How do I fix a NoSuchMethodError?","body":"<p>If you have access to change the JVM parameters, adding verbose output should allow you to see what classes are being loaded from which JAR files.</p>\n\n<pre><code>java -verbose:class &lt;other args&gt;\n</code></pre>\n\n<p>When your program is run, the JVM should dump to standard out information such as:</p>\n\n<blockquote>\n  <p>...</p>\n  \n  <p>[Loaded junit.framework.Assert from file:/C:/Program%20Files/junit3.8.2/junit.jar]</p>\n  \n  <p>...</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":422887,"reputation":3986,"user_id":801919,"accept_rate":62,"display_name":"Vikram"},"score":82,"creation_date":1340138163,"post_id":2985338,"comment_id":14551767,"body_markdown":"+1 for &quot;Everybody expects you to know how to use it and if you don&#39;t they downvote your question.&quot;","body":"+1 for &quot;Everybody expects you to know how to use it and if you don&#39;t they downvote your question.&quot;"}],"tags":[],"owner":{"account_id":30782,"reputation":49002,"user_id":84131,"accept_rate":92,"display_name":"Chris Dutrow"},"comment_count":1,"down_vote_count":0,"up_vote_count":113,"is_accepted":false,"score":113,"last_activity_date":1550826735,"creation_date":1275848706,"answer_id":2985338,"question_id":35186,"body_markdown":"I was having your problem, and this is how I fixed it.  The following steps are a working way to add a library.  I had done the first two steps right, but I hadn&#39;t done the last one by dragging the &quot;.jar&quot; file direct from the file system into the &quot;lib&quot; folder on my eclipse project.  Additionally, I had to remove the previous version of the library from both the build path and the &quot;lib&quot; folder.\r\n\r\n\r\nStep 1 - Add .jar to build path\r\n------\r\n![enter image description here][4]\r\n\r\nStep 2 - Associate sources and javadocs (optional)\r\n----------------------------------------\r\n![enter image description here][5]\r\n\r\nStep 3 - Actually drag .jar file into &quot;lib&quot; folder (not optional)\r\n----------------------------------------\r\n![enter image description here][6]\r\n\r\n\r\n\r\n  [1]: http://www.SharpDetail.com/p/ec_q_1.gif\r\n  [2]: http://www.SharpDetail.com/p/ec_q_2.gif\r\n  [3]: http://www.SharpDetail.com/p/ec_q_3.gif\r\n  [4]: http://i.stack.imgur.com/Os3Be.gif\r\n  [5]: http://i.stack.imgur.com/vaOVy.gif\r\n  [6]: http://i.stack.imgur.com/2OkvN.gif","title":"How do I fix a NoSuchMethodError?","body":"<p>I was having your problem, and this is how I fixed it.  The following steps are a working way to add a library.  I had done the first two steps right, but I hadn't done the last one by dragging the \".jar\" file direct from the file system into the \"lib\" folder on my eclipse project.  Additionally, I had to remove the previous version of the library from both the build path and the \"lib\" folder.</p>\n\n<h2>Step 1 - Add .jar to build path</h2>\n\n<p><img src=\"https://i.stack.imgur.com/Os3Be.gif\" alt=\"enter image description here\"></p>\n\n<h2>Step 2 - Associate sources and javadocs (optional)</h2>\n\n<p><img src=\"https://i.stack.imgur.com/vaOVy.gif\" alt=\"enter image description here\"></p>\n\n<h2>Step 3 - Actually drag .jar file into \"lib\" folder (not optional)</h2>\n\n<p><img src=\"https://i.stack.imgur.com/2OkvN.gif\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":2108810,"reputation":2171,"user_id":1874487,"display_name":"Reachgoals"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507721078,"creation_date":1356330514,"answer_id":14017856,"question_id":35186,"body_markdown":"To answer the original question. According to java docs [here][1]:\r\n\r\n&gt;&quot;NoSuchMethodError&quot; Thrown if an application tries to call a specified method of a class (either static or instance), and that class no longer has a definition of that method.\r\n\r\nNormally, this error is caught by the compiler; this error can only occur at run time if the definition of a class has incompatibly changed. \r\n\r\n1. If it happens in the run time, check the class containing the method is in class path.\r\n2. Check if you have added new version of JAR and the method is compatible.\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/lang/NoSuchMethodError.html","title":"How do I fix a NoSuchMethodError?","body":"<p>To answer the original question. According to java docs <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/NoSuchMethodError.html\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<blockquote>\n  <p>\"NoSuchMethodError\" Thrown if an application tries to call a specified method of a class (either static or instance), and that class no longer has a definition of that method.</p>\n</blockquote>\n\n<p>Normally, this error is caught by the compiler; this error can only occur at run time if the definition of a class has incompatibly changed. </p>\n\n<ol>\n<li>If it happens in the run time, check the class containing the method is in class path.</li>\n<li>Check if you have added new version of JAR and the method is compatible.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1654644,"reputation":489,"user_id":1524513,"display_name":"knorman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377006537,"creation_date":1377006537,"answer_id":18336764,"question_id":35186,"body_markdown":"I ran into a similar problem when I was changing method signatures in my application. \r\nCleaning and rebuilding my project resolved the &quot;NoSuchMethodError&quot;.","title":"How do I fix a NoSuchMethodError?","body":"<p>I ran into a similar problem when I was changing method signatures in my application. \nCleaning and rebuilding my project resolved the \"NoSuchMethodError\".</p>\n"},{"tags":[],"owner":{"account_id":6635998,"reputation":29,"user_id":5123156,"display_name":"Qung Trng Thi i"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1437071604,"creation_date":1437043103,"answer_id":31451884,"question_id":35186,"body_markdown":"These problems are caused by the use of the same object at the same two classes.\r\nObjects used does not contain new method has been added that the new object class contains.\r\n\r\nex:\r\n\r\n    filenotnull=/DayMoreConfig.conf\r\n    16-07-2015 05:02:10:ussdgw-1: Open TCP/IP connection to SMSC: 10.149.96.66 at 2775\r\n    16-07-2015 05:02:10:ussdgw-1: Bind request: (bindreq: (pdu: 0 9 0 [1]) 900 900 GEN 52 (addrrang: 0 0 2000) ) \r\n    Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: gateway.smpp.PDUEventListener.&lt;init&gt;(Lgateway/smpp/USSDClient;)V\r\n            at gateway.smpp.USSDClient.bind(USSDClient.java:139)\r\n            at gateway.USSDGW.initSmppConnection(USSDGW.java:274)\r\n            at gateway.USSDGW.&lt;init&gt;(USSDGW.java:184)\r\n            at com.vinaphone.app.ttn.USSDDayMore.main(USSDDayMore.java:40)\r\n\r\n    -bash-3.00$ \r\n\r\n\r\nThese problems are caused by the concomitant 02 similar class (1 in src, 1 in jar file here is gateway.jar)\r\n","title":"How do I fix a NoSuchMethodError?","body":"<p>These problems are caused by the use of the same object at the same two classes.\nObjects used does not contain new method has been added that the new object class contains.</p>\n\n<p>ex:</p>\n\n<pre><code>filenotnull=/DayMoreConfig.conf\n16-07-2015 05:02:10:ussdgw-1: Open TCP/IP connection to SMSC: 10.149.96.66 at 2775\n16-07-2015 05:02:10:ussdgw-1: Bind request: (bindreq: (pdu: 0 9 0 [1]) 900 900 GEN 52 (addrrang: 0 0 2000) ) \nException in thread \"main\" java.lang.NoSuchMethodError: gateway.smpp.PDUEventListener.&lt;init&gt;(Lgateway/smpp/USSDClient;)V\n        at gateway.smpp.USSDClient.bind(USSDClient.java:139)\n        at gateway.USSDGW.initSmppConnection(USSDGW.java:274)\n        at gateway.USSDGW.&lt;init&gt;(USSDGW.java:184)\n        at com.vinaphone.app.ttn.USSDDayMore.main(USSDDayMore.java:40)\n\n-bash-3.00$ \n</code></pre>\n\n<p>These problems are caused by the concomitant 02 similar class (1 in src, 1 in jar file here is gateway.jar)</p>\n"},{"comments":[{"owner":{"account_id":2772116,"reputation":2797,"user_id":2386514,"accept_rate":100,"display_name":"Jonathan E. Landrum"},"score":1,"creation_date":1575402339,"post_id":33004790,"comment_id":104552636,"body_markdown":"This is also the case for Gradle builds.","body":"This is also the case for Gradle builds."}],"tags":[],"owner":{"account_id":2828461,"reputation":19324,"user_id":2430549,"display_name":"HoldOffHunger"},"comment_count":1,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1610587794,"creation_date":1444265106,"answer_id":33004790,"question_id":35186,"body_markdown":"If using *Maven* or another framework, and you get this error almost randomly, try a clean install like...\r\n\r\n    clean install\r\n\r\nThis is especially likely to work if you wrote the object and you know it has the method.","title":"How do I fix a NoSuchMethodError?","body":"<p>If using <em>Maven</em> or another framework, and you get this error almost randomly, try a clean install like...</p>\n<pre><code>clean install\n</code></pre>\n<p>This is especially likely to work if you wrote the object and you know it has the method.</p>\n"},{"tags":[],"owner":{"account_id":3907247,"reputation":164,"user_id":3233621,"display_name":"ShankarDaruga"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507721001,"creation_date":1467801282,"answer_id":38221921,"question_id":35186,"body_markdown":"I&#39;ve had the same problem. This is also caused when there is an ambiguity in classes. My program was trying to invoke a method which was present in two JAR files present in the same location / class path. Delete one JAR file or execute your code such that only one JAR file is used. Check that you are not using same JAR or different versions of the same JAR that contain the same class.\r\n\r\n&gt;DISP_E_EXCEPTION [step] [] [Z-JAVA-105  Java exception java.lang.NoSuchMethodError(com.example.yourmethod)]","title":"How do I fix a NoSuchMethodError?","body":"<p>I've had the same problem. This is also caused when there is an ambiguity in classes. My program was trying to invoke a method which was present in two JAR files present in the same location / class path. Delete one JAR file or execute your code such that only one JAR file is used. Check that you are not using same JAR or different versions of the same JAR that contain the same class.</p>\n\n<blockquote>\n  <p>DISP_E_EXCEPTION [step] [] [Z-JAVA-105  Java exception java.lang.NoSuchMethodError(com.example.yourmethod)]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5037989,"reputation":94,"user_id":4046264,"display_name":"Shrikant"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1478304716,"creation_date":1478250895,"answer_id":40418906,"question_id":35186,"body_markdown":"It means the respective method is not present in the class: \r\n\r\n1. If you are using jar then decompile and check if the respective version of jar have proper class. \r\n2. Check if you have compiled proper class from your source.","title":"How do I fix a NoSuchMethodError?","body":"<p>It means the respective method is not present in the class: </p>\n\n<ol>\n<li>If you are using jar then decompile and check if the respective version of jar have proper class. </li>\n<li>Check if you have compiled proper class from your source.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2697927,"reputation":113,"user_id":2329450,"display_name":"prince"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479583266,"creation_date":1479583266,"answer_id":40696954,"question_id":35186,"body_markdown":"Above answer explains very well ..just to add one thing\r\nIf you are using using eclipse use ctrl+shift+T and enter package structure of class (e.g. : gateway.smpp.PDUEventListener ), you will find all jars/projects where it&#39;s present. Remove unnecessary jars from classpath or add above in class path. Now it will pick up correct one. \r\n  ","title":"How do I fix a NoSuchMethodError?","body":"<p>Above answer explains very well ..just to add one thing\nIf you are using using eclipse use ctrl+shift+T and enter package structure of class (e.g. : gateway.smpp.PDUEventListener ), you will find all jars/projects where it's present. Remove unnecessary jars from classpath or add above in class path. Now it will pick up correct one. </p>\n"},{"tags":[],"owner":{"account_id":11607068,"reputation":51,"user_id":8502408,"display_name":"Tito"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1503431730,"creation_date":1503431730,"answer_id":45825973,"question_id":35186,"body_markdown":"For me it happened because I changed argument type in function, from Object a, to String a. I could resolve it with clean and build again","title":"How do I fix a NoSuchMethodError?","body":"<p>For me it happened because I changed argument type in function, from Object a, to String a. I could resolve it with clean and build again</p>\n"},{"tags":[],"owner":{"account_id":10359554,"reputation":119,"user_id":7640451,"display_name":"Ryan Luo Xu"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1504855306,"creation_date":1504855306,"answer_id":46110829,"question_id":35186,"body_markdown":"I have just solved this error by restarting my Eclipse and run the applcation.\r\nThe reason for my case may because I replace my source files without closing my project or Eclipse.\r\nWhich caused different version of classes I was using.","title":"How do I fix a NoSuchMethodError?","body":"<p>I have just solved this error by restarting my Eclipse and run the applcation.\nThe reason for my case may because I replace my source files without closing my project or Eclipse.\nWhich caused different version of classes I was using.</p>\n"},{"tags":[],"owner":{"account_id":1565480,"reputation":582,"user_id":1454390,"accept_rate":100,"display_name":"AnonymousCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507720072,"creation_date":1507720072,"answer_id":46686696,"question_id":35186,"body_markdown":"I ran into similar issue.\r\n\r\n    Caused by: java.lang.NoSuchMethodError: com.abc.Employee.getEmpId()I\r\n\r\nFinally I identified the root cause was changing the data type of variable. \r\n\r\n1. `Employee.java` --&gt; Contains the variable (`EmpId`) whose Data Type has been changed from `int` to `String`.\r\n2. `ReportGeneration.java` --&gt; Retrieves the value using the getter, `getEmpId()`.\r\n\r\nWe are supposed to rebundle the jar by including only the modified classes. As there was no change in `ReportGeneration.java` I was only including the `Employee.class` in Jar file. I had to include the `ReportGeneration.class` file in the jar to solve the issue.","title":"How do I fix a NoSuchMethodError?","body":"<p>I ran into similar issue.</p>\n\n<pre><code>Caused by: java.lang.NoSuchMethodError: com.abc.Employee.getEmpId()I\n</code></pre>\n\n<p>Finally I identified the root cause was changing the data type of variable. </p>\n\n<ol>\n<li><code>Employee.java</code> --> Contains the variable (<code>EmpId</code>) whose Data Type has been changed from <code>int</code> to <code>String</code>.</li>\n<li><code>ReportGeneration.java</code> --> Retrieves the value using the getter, <code>getEmpId()</code>.</li>\n</ol>\n\n<p>We are supposed to rebundle the jar by including only the modified classes. As there was no change in <code>ReportGeneration.java</code> I was only including the <code>Employee.class</code> in Jar file. I had to include the <code>ReportGeneration.class</code> file in the jar to solve the issue.</p>\n"},{"tags":[],"owner":{"account_id":7637556,"reputation":789,"user_id":5790669,"display_name":"Yash P Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517362980,"creation_date":1517362697,"answer_id":48533169,"question_id":35186,"body_markdown":"&gt; Most of the times java.lang.NoSuchMethodError is caught be compiler but sometimes it can occur at runtime. If this error occurs at runtime then the only reason could be the change in the class structure that made it incompatible.\r\n\r\nBest Explanation: https://www.journaldev.com/14538/java-lang-nosuchmethoderror","title":"How do I fix a NoSuchMethodError?","body":"<blockquote>\n  <p>Most of the times java.lang.NoSuchMethodError is caught be compiler but sometimes it can occur at runtime. If this error occurs at runtime then the only reason could be the change in the class structure that made it incompatible.</p>\n</blockquote>\n\n<p>Best Explanation: <a href=\"https://www.journaldev.com/14538/java-lang-nosuchmethoderror\" rel=\"nofollow noreferrer\">https://www.journaldev.com/14538/java-lang-nosuchmethoderror</a></p>\n"},{"tags":[],"owner":{"account_id":11878918,"reputation":51,"user_id":8693157,"display_name":"WHOIF"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1524559911,"creation_date":1524559911,"answer_id":49997295,"question_id":35186,"body_markdown":"Try this way: remove all .class files under your project directories (and, of course, all subdirectories). Rebuild.\r\n\r\nSometimes `mvn clean` (if you are using maven) does not clean .class files manually created by `javac`. And those old files contain old signatures, leading to `NoSuchMethodError`.","title":"How do I fix a NoSuchMethodError?","body":"<p>Try this way: remove all .class files under your project directories (and, of course, all subdirectories). Rebuild.</p>\n\n<p>Sometimes <code>mvn clean</code> (if you are using maven) does not clean .class files manually created by <code>javac</code>. And those old files contain old signatures, leading to <code>NoSuchMethodError</code>.</p>\n"},{"tags":[],"owner":{"account_id":5365134,"reputation":61,"user_id":4289110,"display_name":"Mihai Savin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525450926,"creation_date":1525450926,"answer_id":50179330,"question_id":35186,"body_markdown":"I&#39;ve encountered this error too.\r\n\r\nMy problem was that I&#39;ve changed a method&#39;s signature, something like\r\n\r\n    void invest(Currency money){...}\r\n\r\ninto \r\n\r\n    void invest(Euro money){...}\r\n\r\nThis method was invoked from a context similar to\r\n\r\n    public static void main(String args[]) {\r\n        Bank myBank = new Bank();\r\n    \t\r\n    \tEuro capital = new Euro();\r\n        myBank.invest(capital);\r\n    }\r\n\r\nThe compiler was silent with regard to warnings/ errors, as capital is both Currency as well as Euro.\r\n\r\nThe problem appeared due to the fact that I only compiled the class in which the method was defined - Bank, but not the class from which the method is being called from, which contains the main() method.\r\n\r\nThis issue is not something you might encounter too often, as most frequently the project is rebuilt mannually or a Build action is triggered automatically, instead of just compiling the one modified class.\r\n\r\nMy usecase was that I generated a .jar file which was to be used as a hotfix, that did not contain the App.class as this was not modified. It made sense to me not to include it as I kept the initial argument&#39;s base class trough inheritance.\r\n\r\nThe thing is, when you compile a class, the resulting bytecode is kind of *static*, in other words, it&#39;s a *hard-reference*.\r\n\r\nThe original disassembled bytecode (generated with the javap tool) looks like this:\r\n\r\n     #7 = Methodref          #2.#22         // Bank.invest:(LCurrency;)V\r\n\r\nAfter the ClassLoader loads the new compiled Bank.class, it will not find such a method, it appears as if it was removed and not changed, thus the named error.\r\n\r\nHope this helps.\r\n\r\n\r\n\r\n\r\n\r\n","title":"How do I fix a NoSuchMethodError?","body":"<p>I've encountered this error too.</p>\n\n<p>My problem was that I've changed a method's signature, something like</p>\n\n<pre><code>void invest(Currency money){...}\n</code></pre>\n\n<p>into </p>\n\n<pre><code>void invest(Euro money){...}\n</code></pre>\n\n<p>This method was invoked from a context similar to</p>\n\n<pre><code>public static void main(String args[]) {\n    Bank myBank = new Bank();\n\n    Euro capital = new Euro();\n    myBank.invest(capital);\n}\n</code></pre>\n\n<p>The compiler was silent with regard to warnings/ errors, as capital is both Currency as well as Euro.</p>\n\n<p>The problem appeared due to the fact that I only compiled the class in which the method was defined - Bank, but not the class from which the method is being called from, which contains the main() method.</p>\n\n<p>This issue is not something you might encounter too often, as most frequently the project is rebuilt mannually or a Build action is triggered automatically, instead of just compiling the one modified class.</p>\n\n<p>My usecase was that I generated a .jar file which was to be used as a hotfix, that did not contain the App.class as this was not modified. It made sense to me not to include it as I kept the initial argument's base class trough inheritance.</p>\n\n<p>The thing is, when you compile a class, the resulting bytecode is kind of <em>static</em>, in other words, it's a <em>hard-reference</em>.</p>\n\n<p>The original disassembled bytecode (generated with the javap tool) looks like this:</p>\n\n<pre><code> #7 = Methodref          #2.#22         // Bank.invest:(LCurrency;)V\n</code></pre>\n\n<p>After the ClassLoader loads the new compiled Bank.class, it will not find such a method, it appears as if it was removed and not changed, thus the named error.</p>\n\n<p>Hope this helps.</p>\n"},{"comments":[{"owner":{"account_id":1428736,"reputation":847,"user_id":1351639,"accept_rate":67,"display_name":"moralejaSinCuentoNiProverbio"},"score":0,"creation_date":1541687546,"post_id":50558413,"comment_id":93307644,"body_markdown":"I had a similar issue. I had a dependency class with the same complete canonical name. After renaming the exception went away.","body":"I had a similar issue. I had a dependency class with the same complete canonical name. After renaming the exception went away."}],"tags":[],"owner":{"account_id":13661595,"reputation":21,"user_id":9856495,"display_name":"Dave Inlow"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1527474938,"creation_date":1527474938,"answer_id":50558413,"question_id":35186,"body_markdown":"I fixed this problem in Eclipse by renaming a Junit test file.  \r\nIn my Eclipse work space I have an App project and a Test project.  \r\nThe Test project has the App project as a required project on the build path.  \r\n   \r\nStarted getting the NoSuchMethodError.  \r\nThen I realized the class in the Test project had the same name as the class in the App project.  \r\n\r\n    App/  \r\n      src/\r\n         com.example/  \r\n           Projection.java\r\n    Test/  \r\n      src/\r\n         com.example/\r\n           Projection.java\r\nAfter renaming the Test to the correct name &quot;ProjectionTest.java&quot; the exception went away.","title":"How do I fix a NoSuchMethodError?","body":"<p>I fixed this problem in Eclipse by renaming a Junit test file.<br>\nIn my Eclipse work space I have an App project and a Test project.<br>\nThe Test project has the App project as a required project on the build path.  </p>\n\n<p>Started getting the NoSuchMethodError.<br>\nThen I realized the class in the Test project had the same name as the class in the App project.  </p>\n\n<pre><code>App/  \n  src/\n     com.example/  \n       Projection.java\nTest/  \n  src/\n     com.example/\n       Projection.java\n</code></pre>\n\n<p>After renaming the Test to the correct name \"ProjectionTest.java\" the exception went away.</p>\n"},{"tags":[],"owner":{"account_id":1142179,"reputation":2647,"user_id":1125743,"accept_rate":35,"display_name":"K.K"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537420122,"creation_date":1537420122,"answer_id":52417961,"question_id":35186,"body_markdown":"The problem in my case was having two versions of the same library in the build path. The older version of the library didn&#39;t have the function, and newer one did. ","title":"How do I fix a NoSuchMethodError?","body":"<p>The problem in my case was having two versions of the same library in the build path. The older version of the library didn't have the function, and newer one did. </p>\n"},{"comments":[{"owner":{"account_id":19872676,"reputation":54,"user_id":14558434,"display_name":"anar1501"},"score":0,"creation_date":1623801516,"post_id":52420929,"comment_id":120180184,"body_markdown":"God damn it, thanks man, you are the best man, who solves the problem among their people.","body":"God damn it, thanks man, you are the best man, who solves the problem among their people."}],"tags":[],"owner":{"account_id":4783850,"reputation":6978,"user_id":3864917,"accept_rate":100,"display_name":"Vikas"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1537432865,"creation_date":1537432865,"answer_id":52420929,"question_id":35186,"body_markdown":"Just adding to existing answers. I was facing this issue with tomcat in eclipse. I had changed one class and did following steps,\r\n\r\n 1. Cleaned and built the project in eclpise\r\n \r\n 2. mvn clean install\r\n 3. Restarted tomcat\r\n\r\nStill I was facing same error. Then **I cleaned tomcat, cleaned tomcat working directory** and restarted server and my issue is gone.  Hope this helps someone\r\n","title":"How do I fix a NoSuchMethodError?","body":"<p>Just adding to existing answers. I was facing this issue with tomcat in eclipse. I had changed one class and did following steps,</p>\n\n<ol>\n<li><p>Cleaned and built the project in eclpise</p></li>\n<li><p>mvn clean install</p></li>\n<li>Restarted tomcat</li>\n</ol>\n\n<p>Still I was facing same error. Then <strong>I cleaned tomcat, cleaned tomcat working directory</strong> and restarted server and my issue is gone.  Hope this helps someone</p>\n"},{"tags":[],"owner":{"account_id":11226565,"reputation":71,"user_id":8236013,"display_name":"J.Orlando"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541667588,"creation_date":1541667588,"answer_id":53204368,"question_id":35186,"body_markdown":"I had a similar problem with my Gradle Project using Intelij.\r\nI solved it by deleting the .gradle (see screenshot below) Package and rebuilding the Project.\r\n[.gradle Package][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hWIL8.png","title":"How do I fix a NoSuchMethodError?","body":"<p>I had a similar problem with my Gradle Project using Intelij.\nI solved it by deleting the .gradle (see screenshot below) Package and rebuilding the Project.\n<a href=\"https://i.stack.imgur.com/hWIL8.png\" rel=\"nofollow noreferrer\">.gradle Package</a></p>\n"},{"tags":[],"owner":{"account_id":3543091,"reputation":807,"user_id":2959707,"display_name":"Shirish Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550473972,"creation_date":1550473972,"answer_id":54742067,"question_id":35186,"body_markdown":"NoSuchMethodError : I have spend couple of hours fixing this issue, finally fixed it by just renaming package name , clean and build ... Try clean build first if it doesn&#39;t works try renaming the class name or package name and clean build...it should be fixed. Good luck.","title":"How do I fix a NoSuchMethodError?","body":"<p>NoSuchMethodError : I have spend couple of hours fixing this issue, finally fixed it by just renaming package name , clean and build ... Try clean build first if it doesn't works try renaming the class name or package name and clean build...it should be fixed. Good luck.</p>\n"},{"tags":[],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1554803573,"creation_date":1554759572,"answer_id":55582143,"question_id":35186,"body_markdown":"I had the same error:\r\n\r\n  \r\n\r\n      Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.fasterxml.jackson.core.JsonGenerator.writeStartObject(Ljava/lang/Object;)V\r\n        \tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:151)\r\n        \tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:292)\r\n        \tat com.fasterxml.jackson.databind.ObjectMapper._configAndWriteValue(ObjectMapper.java:3681)\r\n        \tat com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:3057)\r\n\r\nTo solve it I checked, firstly, [Module Dependency Diagram][1] (`click in your POM the combination -&gt; Ctrl+Alt+Shift+U` or `right click in your POM -&gt; Maven -&gt; Show dependencies`) to understand where exactly was the conflict between libraries (Intelij IDEA). In my particular case, I had different versions of Jackson dependencies.\r\n\r\n[![enter image description here][2]][2] [![enter image description here][3]][3]\r\n\r\n1) So, I added directly in my POM of the project explicitly the highest version - 2.8.7 of these two.\r\n\r\nIn properties:\r\n\r\n    &lt;jackson.version&gt;2.8.7&lt;/jackson.version&gt;\r\n\r\nAnd as dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n2) But also it can be solved using [Dependency Exclusions][4].\r\n\r\nBy the same principle as below in example:\r\n\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;group-a&lt;/groupId&gt;\r\n          &lt;artifactId&gt;artifact-a&lt;/artifactId&gt;\r\n          &lt;version&gt;1.0&lt;/version&gt;\r\n              &lt;exclusions&gt;\r\n                 &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                 &lt;/exclusion&gt;\r\n             &lt;/exclusions&gt;\r\n      &lt;/dependency&gt;\r\n\r\nDependency with unwanted version will be excluded from your project.\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/module-dependency-diagram.html\r\n  [2]: https://i.stack.imgur.com/bCXG4.jpg\r\n  [3]: https://i.stack.imgur.com/Tpz8j.jpg\r\n  [4]: https://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html","title":"How do I fix a NoSuchMethodError?","body":"<p>I had the same error:</p>\n\n<pre><code>  Exception in thread \"main\" java.lang.NoSuchMethodError: com.fasterxml.jackson.core.JsonGenerator.writeStartObject(Ljava/lang/Object;)V\n        at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:151)\n        at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:292)\n        at com.fasterxml.jackson.databind.ObjectMapper._configAndWriteValue(ObjectMapper.java:3681)\n        at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:3057)\n</code></pre>\n\n<p>To solve it I checked, firstly, <a href=\"https://www.jetbrains.com/help/idea/module-dependency-diagram.html\" rel=\"noreferrer\">Module Dependency Diagram</a> (<code>click in your POM the combination -&gt; Ctrl+Alt+Shift+U</code> or <code>right click in your POM -&gt; Maven -&gt; Show dependencies</code>) to understand where exactly was the conflict between libraries (Intelij IDEA). In my particular case, I had different versions of Jackson dependencies.</p>\n\n<p><a href=\"https://i.stack.imgur.com/bCXG4.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bCXG4.jpg\" alt=\"enter image description here\"></a> <a href=\"https://i.stack.imgur.com/Tpz8j.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Tpz8j.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>1) So, I added directly in my POM of the project explicitly the highest version - 2.8.7 of these two.</p>\n\n<p>In properties:</p>\n\n<pre><code>&lt;jackson.version&gt;2.8.7&lt;/jackson.version&gt;\n</code></pre>\n\n<p>And as dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>2) But also it can be solved using <a href=\"https://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html\" rel=\"noreferrer\">Dependency Exclusions</a>.</p>\n\n<p>By the same principle as below in example:</p>\n\n<pre><code>  &lt;dependency&gt;\n      &lt;groupId&gt;group-a&lt;/groupId&gt;\n      &lt;artifactId&gt;artifact-a&lt;/artifactId&gt;\n      &lt;version&gt;1.0&lt;/version&gt;\n          &lt;exclusions&gt;\n             &lt;exclusion&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n             &lt;/exclusion&gt;\n         &lt;/exclusions&gt;\n  &lt;/dependency&gt;\n</code></pre>\n\n<p>Dependency with unwanted version will be excluded from your project.</p>\n"},{"comments":[{"owner":{"account_id":11226954,"reputation":115,"user_id":8236301,"display_name":"Adam"},"score":1,"creation_date":1604784784,"post_id":56736243,"comment_id":114454329,"body_markdown":"Thanks, you just saved me from hours of debugging!","body":"Thanks, you just saved me from hours of debugging!"}],"tags":[],"owner":{"account_id":4504479,"reputation":2233,"user_id":3662213,"accept_rate":0,"display_name":"Gaurav Khare"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1561440897,"creation_date":1561378136,"answer_id":56736243,"question_id":35186,"body_markdown":"In my case I had a multi module project and scenario was like `com.xyz.TestClass` was in module `A` and as well as in module `B` and module `A` was dependent on module `B`. So while creating a assembly jar I think only one version of class was retained if that doesn&#39;t have the invoked method then I was getting `NoSuchMethodError` runtime exception, but compilation was fine.\r\n\r\nRelated : https://reflectoring.io/nosuchmethod/","title":"How do I fix a NoSuchMethodError?","body":"<p>In my case I had a multi module project and scenario was like <code>com.xyz.TestClass</code> was in module <code>A</code> and as well as in module <code>B</code> and module <code>A</code> was dependent on module <code>B</code>. So while creating a assembly jar I think only one version of class was retained if that doesn't have the invoked method then I was getting <code>NoSuchMethodError</code> runtime exception, but compilation was fine.</p>\n\n<p>Related : <a href=\"https://reflectoring.io/nosuchmethod/\" rel=\"nofollow noreferrer\">https://reflectoring.io/nosuchmethod/</a></p>\n"},{"tags":[],"owner":{"account_id":19900495,"reputation":11,"user_id":14580590,"display_name":"diplesh mankape"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1604563361,"creation_date":1604538835,"answer_id":64689842,"question_id":35186,"body_markdown":"One such instance where this error occurs:\r\nI happened to make a silly mistake of accessing private static member variables in a non static method. Changing the method to static solved the problem.","title":"How do I fix a NoSuchMethodError?","body":"<p>One such instance where this error occurs:\nI happened to make a silly mistake of accessing private static member variables in a non static method. Changing the method to static solved the problem.</p>\n"},{"tags":[],"owner":{"account_id":7250079,"reputation":39,"user_id":5530721,"display_name":"Nachiket Doke"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608707048,"creation_date":1608707048,"answer_id":65420248,"question_id":35186,"body_markdown":"I had faced the same issue. I changed the return type of one method and ran the test code of that one class. That is when I faced this `NoSuchMethodError`. As a solution, I ran the maven builds on the entire repository once, before running the test code again. The issue got resolved in the next single test run.","title":"How do I fix a NoSuchMethodError?","body":"<p>I had faced the same issue. I changed the return type of one method and ran the test code of that one class. That is when I faced this <code>NoSuchMethodError</code>. As a solution, I ran the maven builds on the entire repository once, before running the test code again. The issue got resolved in the next single test run.</p>\n"},{"comments":[{"owner":{"account_id":1276127,"reputation":5148,"user_id":1231359,"accept_rate":83,"display_name":"Girish Nair"},"score":0,"creation_date":1669803414,"post_id":66332755,"comment_id":131724209,"body_markdown":"Ahh! this helped me, was looking in the wrong direction after all. Thanks, man !!!","body":"Ahh! this helped me, was looking in the wrong direction after all. Thanks, man !!!"}],"tags":[],"owner":{"account_id":15511867,"reputation":111,"user_id":11190435,"display_name":"Cihat &#214;zdenolu"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1614081780,"creation_date":1614081780,"answer_id":66332755,"question_id":35186,"body_markdown":"Why anybody doesn&#39;t mention dependency conflicts? This common problem can be related to included dependency jars with different versions. \r\nDetailed explanation and solution: [https://dzone.com/articles/solving-dependency-conflicts-in-maven][1]\r\n\r\nShort answer;\r\n\r\nAdd this maven dependency;\r\n```xml\r\n&lt;plugin&gt;\r\n&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n&lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n&lt;version&gt;3.0.0-M3&lt;/version&gt;\r\n&lt;configuration&gt;\r\n    &lt;rules&gt;\r\n        &lt;dependencyConvergence /&gt;\r\n    &lt;/rules&gt;\r\n&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n\r\n```\r\n\r\nThen run this command;\r\n\r\n    mvn enforcer:enforce\r\n\r\nMaybe this is the cause your the issue you faced.\r\n\r\n  [1]: https://dzone.com/articles/solving-dependency-conflicts-in-maven","title":"How do I fix a NoSuchMethodError?","body":"<p>Why anybody doesn't mention dependency conflicts? This common problem can be related to included dependency jars with different versions.\nDetailed explanation and solution: <a href=\"https://dzone.com/articles/solving-dependency-conflicts-in-maven\" rel=\"noreferrer\">https://dzone.com/articles/solving-dependency-conflicts-in-maven</a></p>\n<p>Short answer;</p>\n<p>Add this maven dependency;</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n&lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n&lt;version&gt;3.0.0-M3&lt;/version&gt;\n&lt;configuration&gt;\n    &lt;rules&gt;\n        &lt;dependencyConvergence /&gt;\n    &lt;/rules&gt;\n&lt;/configuration&gt;\n&lt;/plugin&gt;\n\n</code></pre>\n<p>Then run this command;</p>\n<pre><code>mvn enforcer:enforce\n</code></pre>\n<p>Maybe this is the cause your the issue you faced.</p>\n"},{"tags":[],"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yldz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632982631,"creation_date":1632982631,"answer_id":69387076,"question_id":35186,"body_markdown":"For me, none of the workarounds mentioned here did not work. \r\n&gt; Updating `mockito-core` from `3.3.3` to `3.4.3` fixed the problem.\r\n\r\nI think it is caused by that MockitoAnnotations.initMock() method is deprecated and replaced with MockitoAnnotations.openMocks() in Mockito JUnit 5 version 3. \r\n\r\nOn the other hand, it may be worthy to check the local Maven Repository and delete unnecessary jars that may cause conflict. But when applying this step, be attention and don&#39;t delete manually installed ones (or get backup before the operation).","title":"How do I fix a NoSuchMethodError?","body":"<p>For me, none of the workarounds mentioned here did not work.</p>\n<blockquote>\n<p>Updating <code>mockito-core</code> from <code>3.3.3</code> to <code>3.4.3</code> fixed the problem.</p>\n</blockquote>\n<p>I think it is caused by that MockitoAnnotations.initMock() method is deprecated and replaced with MockitoAnnotations.openMocks() in Mockito JUnit 5 version 3.</p>\n<p>On the other hand, it may be worthy to check the local Maven Repository and delete unnecessary jars that may cause conflict. But when applying this step, be attention and don't delete manually installed ones (or get backup before the operation).</p>\n"},{"tags":[],"owner":{"account_id":9136294,"reputation":186,"user_id":6795887,"accept_rate":0,"display_name":"Neo Sono"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665874020,"creation_date":1665874020,"answer_id":74083527,"question_id":35186,"body_markdown":"For my case. I had to check other referenced methods. I needed to change the method signature everywhere to be the same as newly updated method signature.\r\n\r\nFor example, changing the return type of a particular method from collection to an array list. ","title":"How do I fix a NoSuchMethodError?","body":"<p>For my case. I had to check other referenced methods. I needed to change the method signature everywhere to be the same as newly updated method signature.</p>\n<p>For example, changing the return type of a particular method from collection to an array list.</p>\n"},{"tags":[],"owner":{"account_id":19477607,"reputation":241,"user_id":14248700,"display_name":"Mattias Inokuchi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689776915,"creation_date":1689776915,"answer_id":76722400,"question_id":35186,"body_markdown":"I solved the problem when using Quarkus by removing the target-folder and restart the program.","title":"How do I fix a NoSuchMethodError?","body":"<p>I solved the problem when using Quarkus by removing the target-folder and restart the program.</p>\n"}],"owner":{"account_id":2536,"reputation":22948,"user_id":3535,"accept_rate":100,"display_name":"John Meagher"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":546937,"favorite_count":0,"down_vote_count":8,"up_vote_count":241,"accepted_answer_id":35210,"answer_count":33,"score":233,"last_activity_date":1689776915,"creation_date":1220040267,"question_id":35186,"body_markdown":"I&#39;m getting a `NoSuchMethodError` error when running my Java program.  What&#39;s wrong and how do I fix it?","title":"How do I fix a NoSuchMethodError?","body":"<p>I'm getting a <code>NoSuchMethodError</code> error when running my Java program.  What's wrong and how do I fix it?</p>\n"},{"tags":["java","mapreduce","java-8","java-stream","collectors"],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":72,"creation_date":1411033754,"post_id":25903190,"comment_id":40554180,"body_markdown":"You can replace `e -&gt; e.getKey()` with `Map.Entry::getKey`. But thats a matter of taste/programming style.","body":"You can replace <code>e -&gt; e.getKey()</code> with <code>Map.Entry::getKey</code>. But thats a matter of taste/programming style."},{"owner":{"account_id":251934,"reputation":83,"user_id":529634,"display_name":"Jon Burgin"},"score":7,"creation_date":1492720529,"post_id":25903190,"comment_id":74111713,"body_markdown":"Actually it is a matter of performance, your suggesting being slightly superior to the lambda &#39;style&#39;","body":"Actually it is a matter of performance, your suggesting being slightly superior to the lambda &#39;style&#39;"}],"tags":[],"owner":{"account_id":26377,"reputation":352197,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"comment_count":2,"down_vote_count":1,"up_vote_count":507,"is_accepted":true,"score":506,"last_activity_date":1444143333,"creation_date":1411006877,"answer_id":25903190,"question_id":25903137,"body_markdown":"    Map&lt;String, String&gt; x;\r\n    Map&lt;String, Integer&gt; y =\r\n        x.entrySet().stream()\r\n            .collect(Collectors.toMap(\r\n                e -&gt; e.getKey(),\r\n                e -&gt; Integer.parseInt(e.getValue())\r\n            ));\r\n\r\nIt&#39;s not quite as nice as the list code. You can&#39;t construct new `Map.Entry`s in a `map()` call so the work is mixed into the `collect()` call.","title":"Java8: HashMap&lt;X, Y&gt; to HashMap&lt;X, Z&gt; using Stream / Map-Reduce / Collector","body":"<pre><code>Map&lt;String, String&gt; x;\nMap&lt;String, Integer&gt; y =\n    x.entrySet().stream()\n        .collect(Collectors.toMap(\n            e -&gt; e.getKey(),\n            e -&gt; Integer.parseInt(e.getValue())\n        ));\n</code></pre>\n\n<p>It's not quite as nice as the list code. You can't construct new <code>Map.Entry</code>s in a <code>map()</code> call so the work is mixed into the <code>collect()</code> call.</p>\n"},{"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":0,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1689776787,"creation_date":1411007031,"answer_id":25903212,"question_id":25903137,"body_markdown":"A generic solution like so\r\n\r\n\tpublic static &lt;X, Y, Z&gt; Map&lt;X, Z&gt; transform(Map&lt;X, Y&gt; input,\r\n\t\t\tFunction&lt;Y, Z&gt; function) {\r\n\t\treturn input\r\n\t\t\t\t.entrySet()\r\n\t\t\t\t.stream()\r\n\t\t\t\t.collect(\r\n\t\t\t\t\t\tCollectors.toMap((entry) -&gt; entry.getKey(),\r\n\t\t\t\t\t\t\t\t(entry) -&gt; function.apply(entry.getValue())));\r\n\t}\r\n\r\nUsed like so\r\n\r\n\tMap&lt;String, String&gt; input = new HashMap&lt;String, String&gt;();\r\n\tinput.put(&quot;string1&quot;, &quot;42&quot;);\r\n\tinput.put(&quot;string2&quot;, &quot;41&quot;);\r\n\tMap&lt;String, Integer&gt; output = transform(input,\r\n\t\t\t\t(val) -&gt; Integer.parseInt(val));\r\n\r\n","title":"Java8: HashMap&lt;X, Y&gt; to HashMap&lt;X, Z&gt; using Stream / Map-Reduce / Collector","body":"<p>A generic solution like so</p>\n<pre><code>public static &lt;X, Y, Z&gt; Map&lt;X, Z&gt; transform(Map&lt;X, Y&gt; input,\n        Function&lt;Y, Z&gt; function) {\n    return input\n            .entrySet()\n            .stream()\n            .collect(\n                    Collectors.toMap((entry) -&gt; entry.getKey(),\n                            (entry) -&gt; function.apply(entry.getValue())));\n}\n</code></pre>\n<p>Used like so</p>\n<pre><code>Map&lt;String, String&gt; input = new HashMap&lt;String, String&gt;();\ninput.put(&quot;string1&quot;, &quot;42&quot;);\ninput.put(&quot;string2&quot;, &quot;41&quot;);\nMap&lt;String, Integer&gt; output = transform(input,\n            (val) -&gt; Integer.parseInt(val));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":11,"creation_date":1411033999,"post_id":25905196,"comment_id":40554358,"body_markdown":"`Function.identity()` might look cool but since the first solution requires a map/hash lookup for every entry whereas all other solution dont, I would not recommend it.","body":"<code>Function.identity()</code> might look cool but since the first solution requires a map/hash lookup for every entry whereas all other solution dont, I would not recommend it."}],"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"comment_count":1,"down_vote_count":2,"up_vote_count":40,"is_accepted":false,"score":38,"last_activity_date":1411020011,"creation_date":1411020011,"answer_id":25905196,"question_id":25903137,"body_markdown":"Here are some variations on [Sotirios Delimanolis&#39; answer][1], which was pretty good to begin with (+1). Consider the following:\r\n\r\n    static &lt;X, Y, Z&gt; Map&lt;X, Z&gt; transform(Map&lt;? extends X, ? extends Y&gt; input,\r\n                                         Function&lt;Y, Z&gt; function) {\r\n        return input.keySet().stream()\r\n            .collect(Collectors.toMap(Function.identity(),\r\n                                      key -&gt; function.apply(input.get(key))));\r\n    }\r\n\r\nA couple points here. First is the use of wildcards in the generics; this makes the function somewhat more flexible. A wildcard would be necessary if, for example, you wanted the output map to have a key that&#39;s a superclass of the input map&#39;s key:\r\n\r\n    Map&lt;String, String&gt; input = new HashMap&lt;String, String&gt;();\r\n    input.put(&quot;string1&quot;, &quot;42&quot;);\r\n    input.put(&quot;string2&quot;, &quot;41&quot;);\r\n    Map&lt;CharSequence, Integer&gt; output = transform(input, Integer::parseInt);\r\n\r\n(There is also an example for the map&#39;s values, but it&#39;s really contrived, and I admit that having the bounded wildcard for Y only helps in edge cases.)\r\n\r\nA second point is that instead of running the stream over the input map&#39;s `entrySet`, I ran it over the `keySet`. This makes the code a little cleaner, I think, at the cost of having to fetch values out of the map instead of from the map entry. Incidentally, I initially had `key -&gt; key` as the first argument to `toMap()` and this failed with a type inference error for some reason. Changing it to `(X key) -&gt; key` worked, as did `Function.identity()`.\r\n\r\nStill another variation is as follows:\r\n\r\n    static &lt;X, Y, Z&gt; Map&lt;X, Z&gt; transform1(Map&lt;? extends X, ? extends Y&gt; input,\r\n                                          Function&lt;Y, Z&gt; function) {\r\n        Map&lt;X, Z&gt; result = new HashMap&lt;&gt;();\r\n        input.forEach((k, v) -&gt; result.put(k, function.apply(v)));\r\n        return result;\r\n    }\r\n\r\nThis uses `Map.forEach()` instead of streams. This is even simpler, I think, because it dispenses with the collectors, which are somewhat clumsy to use with maps. The reason is that `Map.forEach()` gives the key and value as separate parameters, whereas the stream has only one value -- and you have to choose whether to use the key or the map entry as that value. On the minus side, this lacks the rich, streamy goodness of the other approaches. :-)\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/25903212/1441122","title":"Java8: HashMap&lt;X, Y&gt; to HashMap&lt;X, Z&gt; using Stream / Map-Reduce / Collector","body":"<p>Here are some variations on <a href=\"https://stackoverflow.com/a/25903212/1441122\">Sotirios Delimanolis' answer</a>, which was pretty good to begin with (+1). Consider the following:</p>\n\n<pre><code>static &lt;X, Y, Z&gt; Map&lt;X, Z&gt; transform(Map&lt;? extends X, ? extends Y&gt; input,\n                                     Function&lt;Y, Z&gt; function) {\n    return input.keySet().stream()\n        .collect(Collectors.toMap(Function.identity(),\n                                  key -&gt; function.apply(input.get(key))));\n}\n</code></pre>\n\n<p>A couple points here. First is the use of wildcards in the generics; this makes the function somewhat more flexible. A wildcard would be necessary if, for example, you wanted the output map to have a key that's a superclass of the input map's key:</p>\n\n<pre><code>Map&lt;String, String&gt; input = new HashMap&lt;String, String&gt;();\ninput.put(\"string1\", \"42\");\ninput.put(\"string2\", \"41\");\nMap&lt;CharSequence, Integer&gt; output = transform(input, Integer::parseInt);\n</code></pre>\n\n<p>(There is also an example for the map's values, but it's really contrived, and I admit that having the bounded wildcard for Y only helps in edge cases.)</p>\n\n<p>A second point is that instead of running the stream over the input map's <code>entrySet</code>, I ran it over the <code>keySet</code>. This makes the code a little cleaner, I think, at the cost of having to fetch values out of the map instead of from the map entry. Incidentally, I initially had <code>key -&gt; key</code> as the first argument to <code>toMap()</code> and this failed with a type inference error for some reason. Changing it to <code>(X key) -&gt; key</code> worked, as did <code>Function.identity()</code>.</p>\n\n<p>Still another variation is as follows:</p>\n\n<pre><code>static &lt;X, Y, Z&gt; Map&lt;X, Z&gt; transform1(Map&lt;? extends X, ? extends Y&gt; input,\n                                      Function&lt;Y, Z&gt; function) {\n    Map&lt;X, Z&gt; result = new HashMap&lt;&gt;();\n    input.forEach((k, v) -&gt; result.put(k, function.apply(v)));\n    return result;\n}\n</code></pre>\n\n<p>This uses <code>Map.forEach()</code> instead of streams. This is even simpler, I think, because it dispenses with the collectors, which are somewhat clumsy to use with maps. The reason is that <code>Map.forEach()</code> gives the key and value as separate parameters, whereas the stream has only one value -- and you have to choose whether to use the key or the map entry as that value. On the minus side, this lacks the rich, streamy goodness of the other approaches. :-)</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":0,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1689759568,"creation_date":1452116339,"answer_id":34643302,"question_id":25903137,"body_markdown":"Does it absolutely have to be 100% functional and fluent? If not, how about this, which is about as short as it gets:\r\n\r\n    Map&lt;String, Integer&gt; output = new HashMap&lt;&gt;();\r\n    input.forEach((k, v) -&gt; output.put(k, Integer.valueOf(v));\r\n","title":"Java8: HashMap&lt;X, Y&gt; to HashMap&lt;X, Z&gt; using Stream / Map-Reduce / Collector","body":"<p>Does it absolutely have to be 100% functional and fluent? If not, how about this, which is about as short as it gets:</p>\n<pre><code>Map&lt;String, Integer&gt; output = new HashMap&lt;&gt;();\ninput.forEach((k, v) -&gt; output.put(k, Integer.valueOf(v));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1454043124,"creation_date":1454043124,"answer_id":35077129,"question_id":25903137,"body_markdown":"My [StreamEx](https://github.com/amaembo/streamex) library which enhances standard stream API provides an [`EntryStream`](http://amaembo.github.io/streamex/javadoc/one/util/streamex/EntryStream.html) class which suits better for transforming maps:\r\n\r\n    Map&lt;String, Integer&gt; output = EntryStream.of(input).mapValues(Integer::valueOf).toMap();","title":"Java8: HashMap&lt;X, Y&gt; to HashMap&lt;X, Z&gt; using Stream / Map-Reduce / Collector","body":"<p>My <a href=\"https://github.com/amaembo/streamex\" rel=\"nofollow noreferrer\">StreamEx</a> library which enhances standard stream API provides an <a href=\"http://amaembo.github.io/streamex/javadoc/one/util/streamex/EntryStream.html\" rel=\"nofollow noreferrer\"><code>EntryStream</code></a> class which suits better for transforming maps:</p>\n\n<pre><code>Map&lt;String, Integer&gt; output = EntryStream.of(input).mapValues(Integer::valueOf).toMap();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5914036,"reputation":5245,"user_id":4653367,"display_name":"John McClean"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1456231522,"creation_date":1456228739,"answer_id":35577034,"question_id":25903137,"body_markdown":"If you don&#39;t mind using 3rd party libraries, my [cyclops-react][1] lib has extensions for all [JDK Collection][2] types, including [Map][3]. We can just transform the map directly using the &#39;map&#39; operator (by default map acts on the values in the map).\r\n\r\n       MapX&lt;String,Integer&gt; y = MapX.fromMap(HashMaps.of(&quot;hello&quot;,&quot;1&quot;))\r\n                                    .map(Integer::parseInt);\r\n\r\n\r\nbimap can be used to transform the keys and values at the same time\r\n\r\n      MapX&lt;String,Integer&gt; y = MapX.fromMap(HashMaps.of(&quot;hello&quot;,&quot;1&quot;))\r\n                                   .bimap(this::newKey,Integer::parseInt);\r\n\r\n \r\n\r\n  [1]: https://github.com/aol/cyclops-react\r\n  [2]: https://medium.com/@johnmcclean/extending-jdk-8-collections-8ae8d43dd75e#.j5lxtrqze\r\n  [3]: http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.0-RC1/com/aol/cyclops/data/collections/extensions/standard/MapX.html","title":"Java8: HashMap&lt;X, Y&gt; to HashMap&lt;X, Z&gt; using Stream / Map-Reduce / Collector","body":"<p>If you don't mind using 3rd party libraries, my <a href=\"https://github.com/aol/cyclops-react\" rel=\"nofollow\">cyclops-react</a> lib has extensions for all <a href=\"https://medium.com/@johnmcclean/extending-jdk-8-collections-8ae8d43dd75e#.j5lxtrqze\" rel=\"nofollow\">JDK Collection</a> types, including <a href=\"http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.0-RC1/com/aol/cyclops/data/collections/extensions/standard/MapX.html\" rel=\"nofollow\">Map</a>. We can just transform the map directly using the 'map' operator (by default map acts on the values in the map).</p>\n\n<pre><code>   MapX&lt;String,Integer&gt; y = MapX.fromMap(HashMaps.of(\"hello\",\"1\"))\n                                .map(Integer::parseInt);\n</code></pre>\n\n<p>bimap can be used to transform the keys and values at the same time</p>\n\n<pre><code>  MapX&lt;String,Integer&gt; y = MapX.fromMap(HashMaps.of(\"hello\",\"1\"))\n                               .bimap(this::newKey,Integer::parseInt);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":353458,"reputation":192,"user_id":691154,"accept_rate":100,"display_name":"user691154"},"score":0,"creation_date":1481708497,"post_id":38034761,"comment_id":69481499,"body_markdown":"I started with this custom collector as a base and wanted to add that, at least when using parallelStream() instead of stream(), the binaryOperator should be rewritten to something more akin to `map2.entrySet().forEach(entry -&gt; { if (map1.containsKey(entry.getKey())) { map1.get(entry.getKey()).merge(entry.getValue()); } else { map1.put(entry.getKey(),entry.getValue()); } }); return map1` or values will be lost when reducing.","body":"I started with this custom collector as a base and wanted to add that, at least when using parallelStream() instead of stream(), the binaryOperator should be rewritten to something more akin to <code>map2.entrySet().forEach(entry -&gt; { if (map1.containsKey(entry.getKey())) { map1.get(entry.getKey()).merge(entry.getValue()); } else { map1.put(entry.getKey(),entry.getValue()); } }); return map1</code> or values will be lost when reducing."}],"tags":[],"owner":{"account_id":3176681,"reputation":754,"user_id":3299647,"display_name":"Ira"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1466909975,"creation_date":1466908758,"answer_id":38034761,"question_id":25903137,"body_markdown":"An alternative that always exists for learning purpose is to build your custom collector through Collector.of() though toMap() JDK collector here is succinct (+1 [here][1]) .\r\n\r\n    Map&lt;String,Integer&gt; newMap = givenMap.\r\n                    entrySet().\r\n                    stream().collect(Collector.of\r\n                   ( ()-&gt; new HashMap&lt;String,Integer&gt;(),\r\n                           (mutableMap,entryItem)-&gt; mutableMap.put(entryItem.getKey(),Integer.parseInt(entryItem.getValue())),\r\n                           (map1,map2)-&gt;{ map1.putAll(map2); return map1;}\r\n                   ));\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/25903190/3299647","title":"Java8: HashMap&lt;X, Y&gt; to HashMap&lt;X, Z&gt; using Stream / Map-Reduce / Collector","body":"<p>An alternative that always exists for learning purpose is to build your custom collector through Collector.of() though toMap() JDK collector here is succinct (+1 <a href=\"https://stackoverflow.com/a/25903190/3299647\">here</a>) .</p>\n\n<pre><code>Map&lt;String,Integer&gt; newMap = givenMap.\n                entrySet().\n                stream().collect(Collector.of\n               ( ()-&gt; new HashMap&lt;String,Integer&gt;(),\n                       (mutableMap,entryItem)-&gt; mutableMap.put(entryItem.getKey(),Integer.parseInt(entryItem.getValue())),\n                       (map1,map2)-&gt;{ map1.putAll(map2); return map1;}\n               ));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19079,"reputation":3311,"user_id":44390,"accept_rate":100,"display_name":"mskfisher"},"score":0,"creation_date":1519910168,"post_id":44936883,"comment_id":85105335,"body_markdown":"I like this approach, but be careful not to pass it a java.util.Function. \nSince it expects com.google.common.base.Function, Eclipse gives an unhelpful error - it says Function is not applicable for Function, which can be confusing: &quot;The method transformValues(Map&lt;K,V1&gt;, Function&lt;? super V1,V2&gt;) in the type Maps is not applicable for the arguments (Map&lt;Foo,Bar&gt;, Function&lt;Bar,Baz&gt;)&quot;","body":"I like this approach, but be careful not to pass it a java.util.Function.  Since it expects com.google.common.base.Function, Eclipse gives an unhelpful error - it says Function is not applicable for Function, which can be confusing: &quot;The method transformValues(Map&lt;K,V1&gt;, Function&lt;? super V1,V2&gt;) in the type Maps is not applicable for the arguments (Map&lt;Foo,Bar&gt;, Function&lt;Bar,Baz&gt;)&quot;"},{"owner":{"account_id":14860,"reputation":3410,"user_id":30900,"accept_rate":97,"display_name":"Joe"},"score":0,"creation_date":1522215174,"post_id":44936883,"comment_id":86059039,"body_markdown":"If you must pass a `java.util.Function`, you have two options.  1. Avoid the issue by using a lambda to let Java type inference figure it out.  2. Use a method reference like javaFunction::apply to produce a new lambda that type inference can figure out.","body":"If you must pass a <code>java.util.Function</code>, you have two options.  1. Avoid the issue by using a lambda to let Java type inference figure it out.  2. Use a method reference like javaFunction::apply to produce a new lambda that type inference can figure out."},{"owner":{"account_id":73330,"reputation":4178,"user_id":211234,"display_name":"Lawrence Kesteloot"},"score":0,"creation_date":1601427995,"post_id":44936883,"comment_id":113403002,"body_markdown":"Also note that, unlike other solutions on this page, this solution returns a _view_ to the underlying map, not a copy.","body":"Also note that, unlike other solutions on this page, this solution returns a <i>view</i> to the underlying map, not a copy."}],"tags":[],"owner":{"account_id":1115422,"reputation":9623,"user_id":1104870,"accept_rate":70,"display_name":"Alex Krauss"},"comment_count":3,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1499293153,"creation_date":1499293153,"answer_id":44936883,"question_id":25903137,"body_markdown":"Guava&#39;s function [`Maps.transformValues`][1] is what you are looking for, and it works nicely with lambda expressions:\r\n\r\n    Maps.transformValues(originalMap, val -&gt; ...)\r\n\r\n\r\n  [1]: http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Maps.html#transformValues-java.util.Map-com.google.common.base.Function-","title":"Java8: HashMap&lt;X, Y&gt; to HashMap&lt;X, Z&gt; using Stream / Map-Reduce / Collector","body":"<p>Guava's function <a href=\"http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Maps.html#transformValues-java.util.Map-com.google.common.base.Function-\" rel=\"noreferrer\"><code>Maps.transformValues</code></a> is what you are looking for, and it works nicely with lambda expressions:</p>\n\n<pre><code>Maps.transformValues(originalMap, val -&gt; ...)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1999698,"reputation":148,"user_id":1920108,"display_name":"bladefist"},"score":0,"creation_date":1663573901,"post_id":48721070,"comment_id":130263121,"body_markdown":"1. please wrap code in code block. 2. it&#39;s usually not good practice to modify input. always better to create a new object","body":"1. please wrap code in code block. 2. it&#39;s usually not good practice to modify input. always better to create a new object"}],"tags":[],"owner":{"account_id":245024,"reputation":177,"user_id":1937041,"display_name":"Breton F."},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1672884618,"creation_date":1518267720,"answer_id":48721070,"question_id":25903137,"body_markdown":"A declarative and simpler Java8+ solution would be : \r\n\r\nyourMap.replaceAll((key, val) -&gt; computeNewVal); \r\n\r\nCheers to :\r\nhttp://www.deadcoderising.com/2017-02-14-java-8-declarative-ways-of-modifying-a-map-using-compute-merge-and-replace/","title":"Java8: HashMap&lt;X, Y&gt; to HashMap&lt;X, Z&gt; using Stream / Map-Reduce / Collector","body":"<p>A declarative and simpler Java8+ solution would be :</p>\n<p>yourMap.replaceAll((key, val) -&gt; computeNewVal);</p>\n<p>Cheers to :\n<a href=\"http://www.deadcoderising.com/2017-02-14-java-8-declarative-ways-of-modifying-a-map-using-compute-merge-and-replace/\" rel=\"nofollow noreferrer\">http://www.deadcoderising.com/2017-02-14-java-8-declarative-ways-of-modifying-a-map-using-compute-merge-and-replace/</a></p>\n"},{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1672831096,"creation_date":1672830746,"answer_id":75004577,"question_id":25903137,"body_markdown":"Although it is possible to remap the key or/and value in the `collect` part of the stream as shown in other answers, I think it should belong in the `map` part as that function is designed to transform the data within the stream. Next to that it should be easily repeatable without introducing additional complexity. The `SimpleEntry` object can be used which is already available since Java 6.\r\n\r\n**With Java 8**\r\n```java\r\nimport java.util.AbstractMap.SimpleEntry;\r\nimport java.util.Map;\r\nimport java.util.Map.Entry;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String, String&gt; x;\r\n        Map&lt;String, Integer&gt; y = x.entrySet().stream()\r\n                .map(entry -&gt; new SimpleEntry&lt;&gt;(entry.getKey(), Integer.parseInt(entry.getValue())))\r\n                .collect(Collectors.toMap(Entry::getKey, Entry::getValue));\r\n    }\r\n\r\n}\r\n```\r\n\r\n**With Java 9+**\r\n\r\nWith the release of Java 9 a static method within the Map interface was introduced to make it easier to just create an entry without to instantiate a new SimpleEntry as shown in the previous example.\r\n\r\n```java\r\nimport java.util.Map;\r\nimport java.util.Map.Entry;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String, String&gt; x;\r\n        Map&lt;String, Integer&gt; y = x.entrySet().stream()\r\n                .map(entry -&gt; Map.entry((entry.getKey(), Integer.parseInt(entry.getValue())))\r\n                .collect(Collectors.toMap(Entry::getKey, Entry::getValue));\r\n    }\r\n\r\n}\r\n```","title":"Java8: HashMap&lt;X, Y&gt; to HashMap&lt;X, Z&gt; using Stream / Map-Reduce / Collector","body":"<p>Although it is possible to remap the key or/and value in the <code>collect</code> part of the stream as shown in other answers, I think it should belong in the <code>map</code> part as that function is designed to transform the data within the stream. Next to that it should be easily repeatable without introducing additional complexity. The <code>SimpleEntry</code> object can be used which is already available since Java 6.</p>\n<p><strong>With Java 8</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.AbstractMap.SimpleEntry;\nimport java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.stream.Collectors;\n\npublic class App {\n\n    public static void main(String[] args) {\n        Map&lt;String, String&gt; x;\n        Map&lt;String, Integer&gt; y = x.entrySet().stream()\n                .map(entry -&gt; new SimpleEntry&lt;&gt;(entry.getKey(), Integer.parseInt(entry.getValue())))\n                .collect(Collectors.toMap(Entry::getKey, Entry::getValue));\n    }\n\n}\n</code></pre>\n<p><strong>With Java 9+</strong></p>\n<p>With the release of Java 9 a static method within the Map interface was introduced to make it easier to just create an entry without to instantiate a new SimpleEntry as shown in the previous example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.stream.Collectors;\n\npublic class App {\n\n    public static void main(String[] args) {\n        Map&lt;String, String&gt; x;\n        Map&lt;String, Integer&gt; y = x.entrySet().stream()\n                .map(entry -&gt; Map.entry((entry.getKey(), Integer.parseInt(entry.getValue())))\n                .collect(Collectors.toMap(Entry::getKey, Entry::getValue));\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1390639,"reputation":23879,"user_id":1321564,"accept_rate":71,"display_name":"Benjamin M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256357,"favorite_count":0,"down_vote_count":0,"up_vote_count":283,"accepted_answer_id":25903190,"answer_count":10,"score":283,"last_activity_date":1689776787,"creation_date":1411006443,"question_id":25903137,"body_markdown":"I know how to &quot;transform&quot; a simple Java `List` from `Y` -&gt; `Z`, i.e.:\r\n\r\n    List&lt;String&gt; x;\r\n\tList&lt;Integer&gt; y = x.stream()\r\n            .map(s -&gt; Integer.parseInt(s))\r\n            .collect(Collectors.toList());\r\n\r\nNow I&#39;d like to do basically the same with a Map, i.e.:\r\n\r\n    INPUT:\r\n    {\r\n      &quot;key1&quot; -&gt; &quot;41&quot;,    // &quot;41&quot; and &quot;42&quot;\r\n      &quot;key2&quot; -&gt; &quot;42&quot;      // are Strings\r\n    }\r\n\r\n    OUTPUT:\r\n    {\r\n      &quot;key1&quot; -&gt; 41,      // 41 and 42\r\n      &quot;key2&quot; -&gt; 42       // are Integers\r\n    }\r\n\r\nThe solution should not be limited to `String` -&gt; `Integer`. Just like in the `List` example above, I&#39;d like to call any method (or constructor).","title":"Java8: HashMap&lt;X, Y&gt; to HashMap&lt;X, Z&gt; using Stream / Map-Reduce / Collector","body":"<p>I know how to &quot;transform&quot; a simple Java <code>List</code> from <code>Y</code> -&gt; <code>Z</code>, i.e.:</p>\n<pre><code>List&lt;String&gt; x;\nList&lt;Integer&gt; y = x.stream()\n        .map(s -&gt; Integer.parseInt(s))\n        .collect(Collectors.toList());\n</code></pre>\n<p>Now I'd like to do basically the same with a Map, i.e.:</p>\n<pre><code>INPUT:\n{\n  &quot;key1&quot; -&gt; &quot;41&quot;,    // &quot;41&quot; and &quot;42&quot;\n  &quot;key2&quot; -&gt; &quot;42&quot;      // are Strings\n}\n\nOUTPUT:\n{\n  &quot;key1&quot; -&gt; 41,      // 41 and 42\n  &quot;key2&quot; -&gt; 42       // are Integers\n}\n</code></pre>\n<p>The solution should not be limited to <code>String</code> -&gt; <code>Integer</code>. Just like in the <code>List</code> example above, I'd like to call any method (or constructor).</p>\n"},{"tags":["java","oracle","jdbc","oracle12c"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":1,"creation_date":1689774050,"post_id":76721855,"comment_id":135261027,"body_markdown":"`withReturnValue()`. Your procedure doesn&#39;t have return value.","body":"<code>withReturnValue()</code>. Your procedure doesn&#39;t have return value."},{"owner":{"account_id":9054293,"reputation":531,"user_id":10910480,"display_name":"Arli  Chokoev"},"score":0,"creation_date":1689774751,"post_id":76721855,"comment_id":135261225,"body_markdown":"Thank you for the answer, I thought, taht out parameters are exatly the return value. However. In this case JDBC doesn&#39;t close the transaction and I get another exception: `ORA-06519: Aktive lokale Transaktion erkannt und Rollback durchgef&#252;hrt`. Is there any way to tell JDBC to close transaction after call without having to return values out of the function?","body":"Thank you for the answer, I thought, taht out parameters are exatly the return value. However. In this case JDBC doesn&#39;t close the transaction and I get another exception: <code>ORA-06519: Aktive lokale Transaktion erkannt und Rollback durchgef&#252;hrt</code>. Is there any way to tell JDBC to close transaction after call without having to return values out of the function?"}],"answers":[{"tags":[],"owner":{"account_id":9054293,"reputation":531,"user_id":10910480,"display_name":"Arli  Chokoev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689776754,"creation_date":1689776754,"answer_id":76722374,"question_id":76721855,"body_markdown":"As correctly pointed by [talex][1], this procedure doesn&#39;t return anything, so `withReturnValue()` is not applicable here. However, without it you&#39;ll gonna get `ORA-06519` error, indicating, that there is an open transaction. The reason of it is the sql statement I provided. `EXECUTE IMMEDIATE` is only applicable to the DDL queries, where `DELETE` does not belong to, unlike `TRUNCATE`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/3656904/talex","title":"Jdbc loses parameter while calling Oracle stored procedure","body":"<p>As correctly pointed by <a href=\"https://stackoverflow.com/users/3656904/talex\">talex</a>, this procedure doesn't return anything, so <code>withReturnValue()</code> is not applicable here. However, without it you'll gonna get <code>ORA-06519</code> error, indicating, that there is an open transaction. The reason of it is the sql statement I provided. <code>EXECUTE IMMEDIATE</code> is only applicable to the DDL queries, where <code>DELETE</code> does not belong to, unlike <code>TRUNCATE</code>.</p>\n"}],"owner":{"account_id":9054293,"reputation":531,"user_id":10910480,"display_name":"Arli  Chokoev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689776754,"creation_date":1689773286,"question_id":76721855,"body_markdown":"I have following jdbcCall:\r\n\r\n    SimpleJdbcCall simpleJdbcCall = simpleJdbcCallFactory.create()\r\n                    .withProcedureName(&quot;MY_PROCEDURE&quot;)\r\n                    .withReturnValue()\r\n                    .withoutProcedureColumnMetaDataAccess()\r\n                    .declareParameters(new SqlOutParameter(&quot;TAB1_CNT&quot;, Types.NUMERIC),\r\n                            new SqlOutParameter(&quot;TAB2_CNT&quot;, Types.NUMERIC));\r\n    simpleJdbcCall.execute();\r\n\r\nIt should call the following stored procedure:\r\n\r\n    create or replace NONEDITIONABLE PROCEDURE  (\r\n        TAB1_CNT            OUT NUMBER,\r\n        TAB2_CNT            OUT NUMBER\r\n    ) IS\r\n        PRAGMA AUTONOMOUS_TRANSACTION;\r\n    BEGIN\r\n        select count(*) into TAB1_CNT from TAB_ONE;\r\n        EXECUTE IMMEDIATE &#39;TRUNCATE TABLE TAB_ONE&#39;;\r\n        select count(*) into TAB2_CNT from TAB_TWO;\r\n        EXECUTE IMMEDIATE &#39;DELETE FROM TAB_TWO&#39;;\r\n    END;\r\n\r\nThe function is working, if called via SQL, however, `simpleJdbcCall.execute()` throws following exception:\r\n\r\n    org.springframework.jdbc.BadSqlGrammarException: CallableStatementCallback; bad SQL grammar [{? = call MY_PROCEDURE(?)}];\r\n\r\nWhy doesn&#39;t jdbc pass both parameters, and what is my mistake here?","title":"Jdbc loses parameter while calling Oracle stored procedure","body":"<p>I have following jdbcCall:</p>\n<pre><code>SimpleJdbcCall simpleJdbcCall = simpleJdbcCallFactory.create()\n                .withProcedureName(&quot;MY_PROCEDURE&quot;)\n                .withReturnValue()\n                .withoutProcedureColumnMetaDataAccess()\n                .declareParameters(new SqlOutParameter(&quot;TAB1_CNT&quot;, Types.NUMERIC),\n                        new SqlOutParameter(&quot;TAB2_CNT&quot;, Types.NUMERIC));\nsimpleJdbcCall.execute();\n</code></pre>\n<p>It should call the following stored procedure:</p>\n<pre><code>create or replace NONEDITIONABLE PROCEDURE  (\n    TAB1_CNT            OUT NUMBER,\n    TAB2_CNT            OUT NUMBER\n) IS\n    PRAGMA AUTONOMOUS_TRANSACTION;\nBEGIN\n    select count(*) into TAB1_CNT from TAB_ONE;\n    EXECUTE IMMEDIATE 'TRUNCATE TABLE TAB_ONE';\n    select count(*) into TAB2_CNT from TAB_TWO;\n    EXECUTE IMMEDIATE 'DELETE FROM TAB_TWO';\nEND;\n</code></pre>\n<p>The function is working, if called via SQL, however, <code>simpleJdbcCall.execute()</code> throws following exception:</p>\n<pre><code>org.springframework.jdbc.BadSqlGrammarException: CallableStatementCallback; bad SQL grammar [{? = call MY_PROCEDURE(?)}];\n</code></pre>\n<p>Why doesn't jdbc pass both parameters, and what is my mistake here?</p>\n"},{"tags":["java","android","mysql","arrays","database"],"comments":[{"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"score":0,"creation_date":1461761404,"post_id":36890312,"comment_id":61344954,"body_markdown":"Problem is in `JourAdapteur.getView(JourAdapteur.java:41)` where you&#39;re calling `setText(int)` that expects a resource id and not a literal integer value.","body":"Problem is in <code>JourAdapteur.getView(JourAdapteur.java:41)</code> where you&#39;re calling <code>setText(int)</code> that expects a resource id and not a literal integer value."},{"owner":{"account_id":8304584,"reputation":149,"user_id":6242134,"display_name":"Programmer"},"score":0,"creation_date":1461761717,"post_id":36890312,"comment_id":61345189,"body_markdown":"@laalto I added the JourAdapteur class | java:41 --&gt;         lblMin.setText(jour.getmTempMin());","body":"@laalto I added the JourAdapteur class | java:41 --&gt;         lblMin.setText(jour.getmTempMin());"}],"answers":[{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1461761907,"creation_date":1461761907,"answer_id":36890569,"question_id":36890312,"body_markdown":"    lblMin.setText(jour.getmTempMin());\r\n    lblMax.setText(jour.getmTempMax());\r\n\r\nYou&#39;re calling `setText(int)` that expects a resource id. To use `setText(CharSequence)` instead, you can change the code to e.g.\r\n\r\n    lblMin.setText(String.valueOf(jour.getmTempMin()));\r\n    lblMax.setText(String.valueOf(jour.getmTempMax()));","title":"android.content.res.Resources$NotFoundException: String resource ID #0x2 Database","body":"<pre><code>lblMin.setText(jour.getmTempMin());\nlblMax.setText(jour.getmTempMax());\n</code></pre>\n\n<p>You're calling <code>setText(int)</code> that expects a resource id. To use <code>setText(CharSequence)</code> instead, you can change the code to e.g.</p>\n\n<pre><code>lblMin.setText(String.valueOf(jour.getmTempMin()));\nlblMax.setText(String.valueOf(jour.getmTempMax()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2603025,"reputation":71,"user_id":2254873,"display_name":"Teju Raj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604686575,"creation_date":1604675436,"answer_id":64717124,"question_id":36890312,"body_markdown":"You need to use a String. This worked for me:\r\n\r\n    lblMin.setText(Integer.toString(jour.getmTempMin()))","title":"android.content.res.Resources$NotFoundException: String resource ID #0x2 Database","body":"<p>You need to use a String. This worked for me:</p>\n<pre><code>lblMin.setText(Integer.toString(jour.getmTempMin()))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19308580,"reputation":1,"user_id":14114865,"display_name":"Charchit Bhatt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689776554,"creation_date":1689776124,"answer_id":76722282,"question_id":36890312,"body_markdown":"This would also work because the passed parameter should be string\r\nand when we use + operator in java it will convert the statement into\r\nstring.\r\n\r\n```\r\n lblMin.setText(&quot;&quot;+jour.getmTempMin());\r\n```","title":"android.content.res.Resources$NotFoundException: String resource ID #0x2 Database","body":"<p>This would also work because the passed parameter should be string\nand when we use + operator in java it will convert the statement into\nstring.</p>\n<pre><code> lblMin.setText(&quot;&quot;+jour.getmTempMin());\n</code></pre>\n"}],"owner":{"account_id":8304584,"reputation":149,"user_id":6242134,"display_name":"Programmer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10391,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":36890569,"answer_count":3,"score":6,"last_activity_date":1689776554,"creation_date":1461761302,"question_id":36890312,"body_markdown":"When I try to test my app, I get an error.\r\n\r\n&gt; FATAL EXCEPTION: main Process: com.example.android.lab5, PID: 12261\r\n&gt; android.content.res.Resources$NotFoundException: String resource ID #0x2\r\n\r\nHere&#39;s my code\r\n==============\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {    \r\n        private Spinner spinnerVille;\r\n        private TextView ville;\r\n        private ListView lstJours;\r\n        int posVille = 0;    \r\n    \r\n        // Les items\r\n        private ArrayList&lt;Jour&gt; mJours = new ArrayList&lt;Jour&gt;();\r\n    \r\n        // L&#39;adapteur\r\n        private JourAdapteur mJoursAdapteur;\r\n    \r\n        private List&lt;MeteoJour&gt; meteojours;\r\n    \r\n        public static final int REQUEST_TEXT = 0;\r\n        public int laPosition = 0;\r\n        /**\r\n         * ATTENTION: This was auto-generated to implement the App Indexing API.\r\n         * See https://g.co/AppIndexing/AndroidStudio for more information.\r\n         */\r\n        private GoogleApiClient client;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            final DatabaseHandler db = new DatabaseHandler(this);    \r\n    \r\n            Log.d(&quot;Insert: &quot;, &quot;Inserting ..&quot;);\r\n            /*db.addMeteoJours(new MeteoJour(1, 2, 5, -2, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(2, -1, 3, -4, 5, &quot;NO&quot;, 8, 30, 0, 2));\r\n            db.addMeteoJours(new MeteoJour(3, 2, 6, 1, 2, &quot;SO&quot;, 8, 20, 2, 0));\r\n            db.addMeteoJours(new MeteoJour(4, 3, 6, 3, 10, &quot;SE&quot;, 8, 0, 0, 0));\r\n            db.addMeteoJours(new MeteoJour(5, 4, 5, 4, 350, &quot;S&quot;, 8, 30, 4, 0));\r\n            db.addMeteoJours(new MeteoJour(6, 4, 7, 5, 0, &quot;O&quot;, 8, 0, 0, 0));\r\n            db.addMeteoJours(new MeteoJour(7, 6, 8, 8, 10, &quot;E&quot;, 9, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(8, 4, 5, 4, 350, &quot;S&quot;, 8, 30, 4, 0));;\r\n            db.addMeteoJours(new MeteoJour(9, 2, 5, -2, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(10, 2, 5, -2, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(11, 2, 5, -2, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(12, 6, 8, 8, 10, &quot;E&quot;, 9, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(13, 2, 5, -2, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(14, 6, 8, 8, 10, &quot;E&quot;, 9, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(15, 4, 5, 4, 350, &quot;S&quot;, 8, 30, 4, 0));\r\n            db.addMeteoJours(new MeteoJour(16, 2, 5, -2, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(17, 2, 5, -2, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(18, 4, 5, 4, 350, &quot;S&quot;, 8, 30, 4, 0));\r\n            db.addMeteoJours(new MeteoJour(19, 6, 8, 8, 10, &quot;E&quot;, 9, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(20, 2, 5, -2, 10, &quot;SO&quot;, 9, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(21, -1, 3, -4, 5, &quot;NO&quot;, 9, 30, 0, 2));\r\n            db.addMeteoJours(new MeteoJour(22, 2, 5, 2, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(23, 2, 5, 2, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(24, 2, 5, 2, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(25, 2, 5, 2, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(26, 6, 8, 8, 10, &quot;E&quot;, 9, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(27, 2, 5, 2, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(28, 2, 5, 2, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(29, 2, 6, 1, 2, &quot;SO&quot;, 9, 20, 2, 0));\r\n            db.addMeteoJours(new MeteoJour(30, 3, 6, 3, 10, &quot;SE&quot;, 9, 0, 0, 0));\r\n            db.addMeteoJours(new MeteoJour(31, 2, 5, -2, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(32, 7, 10, 10, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(33, 2, 5, 2, 10, &quot;SO&quot;, 8, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(34, 6, 8, 8, 10, &quot;E&quot;, 9, 15, 1, 0));\r\n            db.addMeteoJours(new MeteoJour(35, 2, 5, 2, 10, &quot;SO&quot;, 8, 15, 1, 0));*/\r\n            // Reading all contacts\r\n            Log.d(&quot;Reading: &quot;, &quot;Reading all meteojours..&quot;);\r\n            //final List&lt;Contact&gt; contacts = db.getAllContacts();\r\n            meteojours = db.getAllMeteoJours();\r\n    \r\n            for (MeteoJour cn : meteojours) {\r\n                mJours.add(new Jour((String.valueOf(cn.get_id()) + &quot; Mars 2016&quot;), cn.get_minimum(), cn.get_maximum()));\r\n                String log = &quot;Id: &quot; + cn.get_id() + &quot; ,Minimum: &quot; + cn.get_minimum() + &quot; ,Maximum: &quot; + cn.get_maximum();\r\n                // Writing to log\r\n                Log.d(&quot;Name: &quot;, log);\r\n            }    \r\n    \r\n            spinnerVille = (Spinner) findViewById(R.id.spinnerVille);\r\n            ville = (TextView) findViewById(R.id.Ville);\r\n            lstJours = (ListView) findViewById(R.id.lstJours);    \r\n    \r\n            // Adapteur\r\n            //mHerosAdapteur = new HeroAdapteur(this, MonSingleton.getInstance().getHeros());\r\n            mJoursAdapteur = new JourAdapteur(this, mJours);\r\n    \r\n            // Assigner l&#39;adapteur &#224; la liste\r\n            lstJours.setAdapter(mJoursAdapteur);    \r\n    \r\n            // Create an ArrayAdapter using the string array and a default spinner layout\r\n            ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(this,\r\n                    R.array.villes, android.R.layout.simple_spinner_item);\r\n            // Specify the layout to use when the list of choices appears\r\n            adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n            spinnerVille.setAdapter(adapter);\r\n    \r\n            spinnerVille.setOnItemSelectedListener(new OnItemSelectedListener() {\r\n                @Override\r\n                public void onItemSelected(AdapterView&lt;?&gt; adapter, View v, int position, long id) {\r\n    \r\n                    switch (position) {\r\n                        case 0:\r\n                            ville.setText(&quot;Gatineau&quot;);\r\n                            posVille = 0;\r\n                            break;\r\n                        case 1:\r\n                            ville.setText(&quot;Trois-Rivi&#232;re&quot;);\r\n                            posVille = 1;\r\n                            break;\r\n                        case 2:\r\n                            ville.setText(&quot;Montr&#233;al&quot;);\r\n                            posVille = 2;\r\n                            break;\r\n                        case 3:\r\n                            ville.setText(&quot;Sherbrooke&quot;);\r\n                            posVille = 3;\r\n                            break;\r\n                        case 4:\r\n                            ville.setText(&quot;Alma&quot;);\r\n                            posVille = 4;\r\n                            break;\r\n                    }    \r\n                }\r\n    \r\n                public void onNothingSelected(AdapterView&lt;?&gt; parent) {\r\n                    // Another interface callback\r\n                }    \r\n            });\r\n    \r\n            //lstJours.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n    \r\n            lstJours.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n                @Override\r\n                public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n    \r\n                    // La seconde activit&#233;\r\n                    Intent intent = new Intent(MainActivity.this, Meteo.class);\r\n                    // Les param&#232;tres\r\n    \r\n                    meteojours = db.getAllMeteoJours();\r\n    \r\n                    laPosition = position;\r\n    \r\n                    MeteoJour cn = meteojours.get(position);\r\n                    // Les param&#232;tres\r\n                    intent.putExtra(&quot;Id&quot;, String.valueOf(cn.get_id()));\r\n                    intent.putExtra(&quot;Min&quot;, cn.get_minimum());\r\n                    intent.putExtra(&quot;Max&quot;, cn.get_maximum());\r\n                    intent.putExtra(&quot;Ressentie&quot;, cn.get_ressentie());\r\n                    intent.putExtra(&quot;VitesseVent&quot;, cn.get_vent_vitesse());\r\n                    intent.putExtra(&quot;VetesseDirec&quot;, cn.get_vent_direction());\r\n                    intent.putExtra(&quot;Ensoleillement&quot;, cn.get_ensoleillement());\r\n                    intent.putExtra(&quot;Prob&quot;, cn.get_probabilite());\r\n                    intent.putExtra(&quot;Pluie&quot;, cn.get_pluie());\r\n                    intent.putExtra(&quot;Neige&quot;, cn.get_neige());\r\n                    intent.putExtra(&quot;villeslct&quot;, spinnerVille.getItemAtPosition(posVille).toString());\r\n                    intent.putExtra(&quot;joursslct&quot;, lstJours.getItemAtPosition(position).toString());\r\n                    startActivity(intent);\r\n                    // Lancer la seconde activit&#233;\r\n    \r\n    \r\n                }\r\n            });    \r\n    \r\n            // ATTENTION: This was auto-generated to implement the App Indexing API.\r\n            // See https://g.co/AppIndexing/AndroidStudio for more information.\r\n            client = new GoogleApiClient.Builder(this).addApi(AppIndex.API).build();\r\n        }\r\n    \r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n    \r\n            if (requestCode == REQUEST_TEXT) {\r\n                if (resultCode == Meteo.RETURN_CODE_OK) {\r\n                    //Toast.makeText(MainActivity.this, data.getStringExtra(&quot;prenom&quot;), Toast.LENGTH_SHORT).show();\r\n                    mJours.add(new Jour(data.getStringExtra(&quot;date&quot;), data.getIntExtra(&quot;minimum&quot;, 0), data.getIntExtra(&quot;maximum&quot;, 0)));\r\n                    mJoursAdapteur.notifyDataSetChanged();\r\n                }\r\n            }    \r\n        }\r\n    \r\n        @Override\r\n        public void onStart() {\r\n            super.onStart();\r\n    \r\n            // ATTENTION: This was auto-generated to implement the App Indexing API.\r\n            // See https://g.co/AppIndexing/AndroidStudio for more information.\r\n            client.connect();\r\n            Action viewAction = Action.newAction(\r\n                    Action.TYPE_VIEW, // TODO: choose an action type.\r\n                    &quot;Main Page&quot;, // TODO: Define a title for the content shown.\r\n                    // TODO: If you have web page content that matches this app activity&#39;s content,\r\n                    // make sure this auto-generated web page URL is correct.\r\n                    // Otherwise, set the URL to null.\r\n                    Uri.parse(&quot;http://host/path&quot;),\r\n                    // TODO: Make sure this auto-generated app deep link URI is correct.\r\n                    Uri.parse(&quot;android-app://com.example.android.lab5/http/host/path&quot;)\r\n            );\r\n            AppIndex.AppIndexApi.start(client, viewAction);\r\n        }\r\n    \r\n        @Override\r\n        public void onStop() {\r\n            super.onStop();\r\n    \r\n            // ATTENTION: This was auto-generated to implement the App Indexing API.\r\n            // See https://g.co/AppIndexing/AndroidStudio for more information.\r\n            Action viewAction = Action.newAction(\r\n                    Action.TYPE_VIEW, // TODO: choose an action type.\r\n                    &quot;Main Page&quot;, // TODO: Define a title for the content shown.\r\n                    // TODO: If you have web page content that matches this app activity&#39;s content,\r\n                    // make sure this auto-generated web page URL is correct.\r\n                    // Otherwise, set the URL to null.\r\n                    Uri.parse(&quot;http://host/path&quot;),\r\n                    // TODO: Make sure this auto-generated app deep link URI is correct.\r\n                    Uri.parse(&quot;android-app://com.example.android.lab5/http/host/path&quot;)\r\n            );\r\n            AppIndex.AppIndexApi.end(client, viewAction);\r\n            client.disconnect();\r\n        }\r\n    }\r\n\r\n\r\nI isolated my error and it seems to come from that line:\r\n\r\n    mJours.add(new Jour((String.valueOf(cn.get_id()) + &quot; Mars 2016&quot;), cn.get_minimum(), cn.get_maximum()));\r\n\r\n\r\nThe code of my java class `Jour` is :\r\n\r\n     public class Jour {    \r\n        private int mTempMin;\r\n        private int mTempMax;\r\n        private String mDates;\r\n    \r\n        public Jour(String date, int min, int max) {\r\n            mTempMin = min;\r\n            mTempMax = max;\r\n            mDates = date;\r\n        }    \r\n    \r\n        public String getmDates() {\r\n            return mDates;\r\n        }\r\n    \r\n        public void setmDates(String mDates) {\r\n            this.mDates = mDates;\r\n        }\r\n    \r\n        public int getmTempMin() {\r\n            return mTempMin;\r\n        }\r\n    \r\n        public void setmTempMin(int mTempMin) {\r\n            this.mTempMin = mTempMin;\r\n        }\r\n    \r\n        public int getmTempMax() {\r\n            return mTempMax;\r\n        }\r\n    \r\n        public void setmTempMax(int mTempMax) {\r\n            this.mTempMax = mTempMax;\r\n        }    \r\n    }\r\n\r\nThank you,\r\nI hope we can find an answer!\r\n\r\n\r\n\r\n*EDIT\r\n\r\nHere&#39;s the MeteoJour class:\r\n\r\n\r\n    public class MeteoJour {\r\n    \r\n        //private variables\r\n        int _id;\r\n        int _minimum;\r\n        int _maximum;\r\n        int _ressentie;\r\n        int _vent_vitesse;\r\n        String _vent_direction;\r\n        int _ensoleillement;\r\n        int _probabilite;\r\n        int _pluie;\r\n        int _neige;\r\n    \r\n    \r\n        // Empty constructor\r\n        public MeteoJour(){\r\n    \r\n        }\r\n        // constructor\r\n        public MeteoJour(int id, int minimum, int maximum, int ressentie, int vent_vitesse, String vent_direction, int ensoleillement, int probabilite, int pluie, int neige){\r\n            this._id = id;\r\n            this._minimum = minimum;\r\n            this._maximum = maximum;\r\n            this._ressentie = ressentie;\r\n            this._vent_vitesse = vent_vitesse;\r\n            this._vent_direction = vent_direction;\r\n            this._ensoleillement = ensoleillement;\r\n            this._probabilite = probabilite;\r\n            this._pluie = pluie;\r\n            this._neige = neige;\r\n        }\r\n    \r\n        // constructor\r\n        public MeteoJour(int minimum, int maximum, int ressentie, int vent_vitesse, String vent_direction, int ensoleillement, int probabilite, int pluie, int neige){\r\n            this._minimum = minimum;\r\n            this._maximum = maximum;\r\n            this._ressentie = ressentie;\r\n            this._vent_vitesse = vent_vitesse;\r\n            this._vent_direction = vent_direction;\r\n            this._ensoleillement = ensoleillement;\r\n            this._probabilite = probabilite;\r\n            this._pluie = pluie;\r\n            this._neige = neige;\r\n        }\r\n    \r\n    \r\n        public int get_id() {\r\n            return _id;\r\n        }\r\n    \r\n        public void set_id(int _id) {\r\n            this._id = _id;\r\n        }\r\n    \r\n        public int get_minimum() {\r\n            return _minimum;\r\n        }\r\n    \r\n        public void set_minimum(int _minimum) {\r\n            this._minimum = _minimum;\r\n        }\r\n    \r\n        public int get_maximum() {\r\n            return _maximum;\r\n        }\r\n    \r\n        public void set_maximum(int _maximum) {\r\n            this._maximum = _maximum;\r\n        }\r\n    \r\n        public int get_ressentie() {\r\n            return _ressentie;\r\n        }\r\n    \r\n        public void set_ressentie(int _ressentie) {\r\n            this._ressentie = _ressentie;\r\n        }\r\n    \r\n        public int get_vent_vitesse() {\r\n            return _vent_vitesse;\r\n        }\r\n    \r\n        public void set_vent_vitesse(int _vent_vitesse) {\r\n            this._vent_vitesse = _vent_vitesse;\r\n        }\r\n    \r\n        public String get_vent_direction() {\r\n            return _vent_direction;\r\n        }\r\n    \r\n        public void set_vent_direction(String _vent_direction) {\r\n            this._vent_direction = _vent_direction;\r\n        }\r\n    \r\n        public int get_ensoleillement() {\r\n            return _ensoleillement;\r\n        }\r\n    \r\n        public void set_ensoleillement(int _ensoleillement) {\r\n            this._ensoleillement = _ensoleillement;\r\n        }\r\n    \r\n        public int get_probabilite() {\r\n            return _probabilite;\r\n        }\r\n    \r\n        public void set_probabilite(int _probabilite) {\r\n            this._probabilite = _probabilite;\r\n        }\r\n    \r\n        public int get_pluie() {\r\n            return _pluie;\r\n        }\r\n    \r\n        public void set_pluie(int _pluie) {\r\n            this._pluie = _pluie;\r\n        }\r\n    \r\n        public int get_neige() {\r\n            return _neige;\r\n        }\r\n    \r\n        public void set_neige(int _neige) {\r\n            this._neige = _neige;\r\n        }\r\n    }\r\n\r\n\r\n\r\nHere is the R.array.ville XML:\r\n\r\n\r\n\r\n&lt;resources&gt;\r\n\r\n    &lt;string name=&quot;app_name&quot;&gt;Lab5&lt;/string&gt;\r\n\r\n    &lt;string-array name=&quot;joursSemaine&quot;&gt;\r\n        &lt;item&gt;Dimanche le 28 f&#233;vrier 2016&lt;/item&gt;\r\n        &lt;item&gt;Lundi le 29 f&#233;vrier 2016&lt;/item&gt;\r\n        &lt;item&gt;Mardi le 1 mars 2016&lt;/item&gt;\r\n        &lt;item&gt;Mercredi le 2 mars 2016&lt;/item&gt;\r\n        &lt;item&gt;Jeudi le 3 mars 2016&lt;/item&gt;\r\n        &lt;item&gt;Vendredi le 4 mars 2016&lt;/item&gt;\r\n        &lt;item&gt;Samedi le 5 mars 2016&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\n    &lt;string-array name=&quot;villes&quot;&gt;\r\n        &lt;item&gt;Gatineau&lt;/item&gt;\r\n        &lt;item&gt;Trois-Rivi&#232;re&lt;/item&gt;\r\n        &lt;item&gt;Montreal&lt;/item&gt;\r\n        &lt;item&gt;Sherbrooke&lt;/item&gt;\r\n        &lt;item&gt;Alma&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\n&lt;/resources&gt;\r\n\r\nMy log : \r\n\r\n04-27 08:21:24.986 2342-2342/? I/art: Late-enabling -Xcheck:jni 04-27 08:21:25.038 2342-2342/? D/Insert:: Inserting .. 04-27 08:21:25.210 2342-2342/? D/Reading:: Reading all meteojours.. 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 1 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 2 ,Minimum: -1 ,Maximum: 3 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 3 ,Minimum: 2 ,Maximum: 6 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 4 ,Minimum: 3 ,Maximum: 6 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 5 ,Minimum: 4 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 6 ,Minimum: 4 ,Maximum: 7 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 7 ,Minimum: 6 ,Maximum: 8 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 8 ,Minimum: 4 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 9 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 10 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 11 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 12 ,Minimum: 6 ,Maximum: 8 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 13 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 14 ,Minimum: 6 ,Maximum: 8 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 15 ,Minimum: 4 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 16 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 17 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 18 ,Minimum: 4 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 19 ,Minimum: 6 ,Maximum: 8 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 20 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 21 ,Minimum: -1 ,Maximum: 3 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 22 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 23 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 24 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 25 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 26 ,Minimum: 6 ,Maximum: 8 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 27 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 28 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 29 ,Minimum: 2 ,Maximum: 6 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 30 ,Minimum: 3 ,Maximum: 6 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 31 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 32 ,Minimum: 7 ,Maximum: 10 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 33 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 34 ,Minimum: 6 ,Maximum: 8 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 35 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.218 2342-2360/? W/GooglePlayServicesUtil: Google Play services is missing. 04-27 08:21:25.254 2342-2361/? D/OpenGLRenderer: Use EGL_SWAP_BEHAVIOR_PRESERVED: true 04-27 08:21:25.259 2342-2342/? D/Atlas: Validating map... 04-27 08:21:25.271 2342-2342/? W/ResourceType: No package identifier when getting value for resource number 0x00000002 04-27 08:21:25.272 2342-2342/? D/AndroidRuntime: Shutting down VM 04-27 08:21:25.291 2342-2342/? E/AndroidRuntime: FATAL EXCEPTION: main Process: com.example.android.lab5, PID: 2342 android.content.res.Resources$NotFoundException: String resource ID #0x2 at android.content.res.Resources.getText(Resources.java:299) at android.widget.TextView.setText(TextView.java:4132) at com.example.android.lab5.JourAdapteur.getView(JourAdapteur.java:41) at android.widget.AbsListView.obtainView(AbsListView.java:2347) at android.widget.ListView.measureHeightOfChildren(ListView.java:1270) at android.widget.ListView.onMeasure(ListView.java:1182) at android.view.View.measure(View.java:17547) at android.widget.RelativeLayout.measureChild(RelativeLayout.java:697) at android.widget.RelativeLayout.onMeasure(RelativeLayout.java:481) at android.view.View.measure(View.java:17547) at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5535) at android.widget.FrameLayout.onMeasure(FrameLayout.java:436) at android.support.v7.widget.ContentFrameLayout.onMeasure(ContentFrameLayout.java:135) at android.view.View.measure(View.java:17547) at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5535) at android.support.v7.widget.ActionBarOverlayLayout.onMeasure(ActionBarOverlayLayout.java:391) at android.view.View.measure(View.java:17547) at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5535) at android.widget.FrameLayout.onMeasure(FrameLayout.java:436) at android.view.View.measure(View.java:17547) at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5535) at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1436) at android.widget.LinearLayout.measureVertical(LinearLayout.java:722) at android.widget.LinearLayout.onMeasure(LinearLayout.java:613) at android.view.View.measure(View.java:17547) at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5535) at android.widget.FrameLayout.onMeasure(FrameLayout.java:436) at com.android.internal.policy.impl.PhoneWindow$DecorView.onMeasure(PhoneWindow.java:2615) at android.view.View.measure(View.java:17547) at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:2015) at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:1173) at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1379) at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1061) at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:5885) at android.view.Choreographer$CallbackRecord.run(Choreographer.java:767) at android.view.Choreographer.doCallbacks(Choreographer.java:580) at android.view.Choreographer.doFrame(Choreographer.java:550)  at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:753) at android.os.Handler.handleCallback(Handler.java:739) at android.os.Handler.dispatchMessage(Handler.java:95) at android.os.Looper.loop(Looper.java:135) at android.app.ActivityThread.main(ActivityThread.java:5254) at java.lang.reflect.Method.invoke(Native Method) at java.lang.reflect.Method.invoke(Method.java:372) at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698) 04-27 08:21:28.734 2342-2342/com.example.android.lab5 I/Process: Sending signal. PID: 2342 SIG: 9\r\n\r\n\r\nJourAdapteur class:\r\n\r\n\r\npublic class JourAdapteur extends ArrayAdapter&lt;Jour&gt; {\r\n\r\n    private Context mContext;\r\n    private LayoutInflater mInflater;\r\n\r\n    public JourAdapteur(Context context, ArrayList&lt;Jour&gt; jours) {\r\n        super(context, 0, jours);\r\n        mContext = context;\r\n        mInflater = LayoutInflater.from(context);\r\n    }\r\n\r\n    @Override\r\n    public View getView(int position, View convertView, ViewGroup parent) {\r\n        View theView = convertView;\r\n\r\n        if (theView == null) {\r\n            theView = mInflater.inflate(R.layout.jour_list_item, parent, false);\r\n        }\r\n\r\n        // Le hero\r\n        Jour jour = this.getItem(position);\r\n\r\n        // Aller chercher les objets\r\n        TextView lblMin = (TextView) theView.findViewById(R.id.lblMin);\r\n        TextView lblMax = (TextView) theView.findViewById(R.id.lblMax);\r\n        TextView lblDate = (TextView) theView.findViewById(R.id.lblDate);\r\n\r\n        // Assigner les valeurs\r\n        lblMin.setText(jour.getmTempMin());\r\n        lblMax.setText(jour.getmTempMax());\r\n        lblDate.setText(jour.getmDates());\r\n\r\n\r\n        // Retourner la vue\r\n        return theView;\r\n    }\r\n\r\n    @Override\r\n    public View getDropDownView(int position, View convertView, ViewGroup parent) {\r\n        // TODO Auto-generated method stub\r\n        return getView(position, convertView, parent);\r\n    }\r\n\r\n}","title":"android.content.res.Resources$NotFoundException: String resource ID #0x2 Database","body":"<p>When I try to test my app, I get an error.</p>\n\n<blockquote>\n  <p>FATAL EXCEPTION: main Process: com.example.android.lab5, PID: 12261\n  android.content.res.Resources$NotFoundException: String resource ID #0x2</p>\n</blockquote>\n\n<h1>Here's my code</h1>\n\n<pre><code>public class MainActivity extends AppCompatActivity {    \n    private Spinner spinnerVille;\n    private TextView ville;\n    private ListView lstJours;\n    int posVille = 0;    \n\n    // Les items\n    private ArrayList&lt;Jour&gt; mJours = new ArrayList&lt;Jour&gt;();\n\n    // L'adapteur\n    private JourAdapteur mJoursAdapteur;\n\n    private List&lt;MeteoJour&gt; meteojours;\n\n    public static final int REQUEST_TEXT = 0;\n    public int laPosition = 0;\n    /**\n     * ATTENTION: This was auto-generated to implement the App Indexing API.\n     * See https://g.co/AppIndexing/AndroidStudio for more information.\n     */\n    private GoogleApiClient client;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        final DatabaseHandler db = new DatabaseHandler(this);    \n\n        Log.d(\"Insert: \", \"Inserting ..\");\n        /*db.addMeteoJours(new MeteoJour(1, 2, 5, -2, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(2, -1, 3, -4, 5, \"NO\", 8, 30, 0, 2));\n        db.addMeteoJours(new MeteoJour(3, 2, 6, 1, 2, \"SO\", 8, 20, 2, 0));\n        db.addMeteoJours(new MeteoJour(4, 3, 6, 3, 10, \"SE\", 8, 0, 0, 0));\n        db.addMeteoJours(new MeteoJour(5, 4, 5, 4, 350, \"S\", 8, 30, 4, 0));\n        db.addMeteoJours(new MeteoJour(6, 4, 7, 5, 0, \"O\", 8, 0, 0, 0));\n        db.addMeteoJours(new MeteoJour(7, 6, 8, 8, 10, \"E\", 9, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(8, 4, 5, 4, 350, \"S\", 8, 30, 4, 0));;\n        db.addMeteoJours(new MeteoJour(9, 2, 5, -2, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(10, 2, 5, -2, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(11, 2, 5, -2, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(12, 6, 8, 8, 10, \"E\", 9, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(13, 2, 5, -2, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(14, 6, 8, 8, 10, \"E\", 9, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(15, 4, 5, 4, 350, \"S\", 8, 30, 4, 0));\n        db.addMeteoJours(new MeteoJour(16, 2, 5, -2, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(17, 2, 5, -2, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(18, 4, 5, 4, 350, \"S\", 8, 30, 4, 0));\n        db.addMeteoJours(new MeteoJour(19, 6, 8, 8, 10, \"E\", 9, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(20, 2, 5, -2, 10, \"SO\", 9, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(21, -1, 3, -4, 5, \"NO\", 9, 30, 0, 2));\n        db.addMeteoJours(new MeteoJour(22, 2, 5, 2, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(23, 2, 5, 2, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(24, 2, 5, 2, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(25, 2, 5, 2, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(26, 6, 8, 8, 10, \"E\", 9, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(27, 2, 5, 2, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(28, 2, 5, 2, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(29, 2, 6, 1, 2, \"SO\", 9, 20, 2, 0));\n        db.addMeteoJours(new MeteoJour(30, 3, 6, 3, 10, \"SE\", 9, 0, 0, 0));\n        db.addMeteoJours(new MeteoJour(31, 2, 5, -2, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(32, 7, 10, 10, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(33, 2, 5, 2, 10, \"SO\", 8, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(34, 6, 8, 8, 10, \"E\", 9, 15, 1, 0));\n        db.addMeteoJours(new MeteoJour(35, 2, 5, 2, 10, \"SO\", 8, 15, 1, 0));*/\n        // Reading all contacts\n        Log.d(\"Reading: \", \"Reading all meteojours..\");\n        //final List&lt;Contact&gt; contacts = db.getAllContacts();\n        meteojours = db.getAllMeteoJours();\n\n        for (MeteoJour cn : meteojours) {\n            mJours.add(new Jour((String.valueOf(cn.get_id()) + \" Mars 2016\"), cn.get_minimum(), cn.get_maximum()));\n            String log = \"Id: \" + cn.get_id() + \" ,Minimum: \" + cn.get_minimum() + \" ,Maximum: \" + cn.get_maximum();\n            // Writing to log\n            Log.d(\"Name: \", log);\n        }    \n\n        spinnerVille = (Spinner) findViewById(R.id.spinnerVille);\n        ville = (TextView) findViewById(R.id.Ville);\n        lstJours = (ListView) findViewById(R.id.lstJours);    \n\n        // Adapteur\n        //mHerosAdapteur = new HeroAdapteur(this, MonSingleton.getInstance().getHeros());\n        mJoursAdapteur = new JourAdapteur(this, mJours);\n\n        // Assigner l'adapteur  la liste\n        lstJours.setAdapter(mJoursAdapteur);    \n\n        // Create an ArrayAdapter using the string array and a default spinner layout\n        ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(this,\n                R.array.villes, android.R.layout.simple_spinner_item);\n        // Specify the layout to use when the list of choices appears\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinnerVille.setAdapter(adapter);\n\n        spinnerVille.setOnItemSelectedListener(new OnItemSelectedListener() {\n            @Override\n            public void onItemSelected(AdapterView&lt;?&gt; adapter, View v, int position, long id) {\n\n                switch (position) {\n                    case 0:\n                        ville.setText(\"Gatineau\");\n                        posVille = 0;\n                        break;\n                    case 1:\n                        ville.setText(\"Trois-Rivire\");\n                        posVille = 1;\n                        break;\n                    case 2:\n                        ville.setText(\"Montral\");\n                        posVille = 2;\n                        break;\n                    case 3:\n                        ville.setText(\"Sherbrooke\");\n                        posVille = 3;\n                        break;\n                    case 4:\n                        ville.setText(\"Alma\");\n                        posVille = 4;\n                        break;\n                }    \n            }\n\n            public void onNothingSelected(AdapterView&lt;?&gt; parent) {\n                // Another interface callback\n            }    \n        });\n\n        //lstJours.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n\n        lstJours.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n\n                // La seconde activit\n                Intent intent = new Intent(MainActivity.this, Meteo.class);\n                // Les paramtres\n\n                meteojours = db.getAllMeteoJours();\n\n                laPosition = position;\n\n                MeteoJour cn = meteojours.get(position);\n                // Les paramtres\n                intent.putExtra(\"Id\", String.valueOf(cn.get_id()));\n                intent.putExtra(\"Min\", cn.get_minimum());\n                intent.putExtra(\"Max\", cn.get_maximum());\n                intent.putExtra(\"Ressentie\", cn.get_ressentie());\n                intent.putExtra(\"VitesseVent\", cn.get_vent_vitesse());\n                intent.putExtra(\"VetesseDirec\", cn.get_vent_direction());\n                intent.putExtra(\"Ensoleillement\", cn.get_ensoleillement());\n                intent.putExtra(\"Prob\", cn.get_probabilite());\n                intent.putExtra(\"Pluie\", cn.get_pluie());\n                intent.putExtra(\"Neige\", cn.get_neige());\n                intent.putExtra(\"villeslct\", spinnerVille.getItemAtPosition(posVille).toString());\n                intent.putExtra(\"joursslct\", lstJours.getItemAtPosition(position).toString());\n                startActivity(intent);\n                // Lancer la seconde activit\n\n\n            }\n        });    \n\n        // ATTENTION: This was auto-generated to implement the App Indexing API.\n        // See https://g.co/AppIndexing/AndroidStudio for more information.\n        client = new GoogleApiClient.Builder(this).addApi(AppIndex.API).build();\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n\n        if (requestCode == REQUEST_TEXT) {\n            if (resultCode == Meteo.RETURN_CODE_OK) {\n                //Toast.makeText(MainActivity.this, data.getStringExtra(\"prenom\"), Toast.LENGTH_SHORT).show();\n                mJours.add(new Jour(data.getStringExtra(\"date\"), data.getIntExtra(\"minimum\", 0), data.getIntExtra(\"maximum\", 0)));\n                mJoursAdapteur.notifyDataSetChanged();\n            }\n        }    \n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n\n        // ATTENTION: This was auto-generated to implement the App Indexing API.\n        // See https://g.co/AppIndexing/AndroidStudio for more information.\n        client.connect();\n        Action viewAction = Action.newAction(\n                Action.TYPE_VIEW, // TODO: choose an action type.\n                \"Main Page\", // TODO: Define a title for the content shown.\n                // TODO: If you have web page content that matches this app activity's content,\n                // make sure this auto-generated web page URL is correct.\n                // Otherwise, set the URL to null.\n                Uri.parse(\"http://host/path\"),\n                // TODO: Make sure this auto-generated app deep link URI is correct.\n                Uri.parse(\"android-app://com.example.android.lab5/http/host/path\")\n        );\n        AppIndex.AppIndexApi.start(client, viewAction);\n    }\n\n    @Override\n    public void onStop() {\n        super.onStop();\n\n        // ATTENTION: This was auto-generated to implement the App Indexing API.\n        // See https://g.co/AppIndexing/AndroidStudio for more information.\n        Action viewAction = Action.newAction(\n                Action.TYPE_VIEW, // TODO: choose an action type.\n                \"Main Page\", // TODO: Define a title for the content shown.\n                // TODO: If you have web page content that matches this app activity's content,\n                // make sure this auto-generated web page URL is correct.\n                // Otherwise, set the URL to null.\n                Uri.parse(\"http://host/path\"),\n                // TODO: Make sure this auto-generated app deep link URI is correct.\n                Uri.parse(\"android-app://com.example.android.lab5/http/host/path\")\n        );\n        AppIndex.AppIndexApi.end(client, viewAction);\n        client.disconnect();\n    }\n}\n</code></pre>\n\n<p>I isolated my error and it seems to come from that line:</p>\n\n<pre><code>mJours.add(new Jour((String.valueOf(cn.get_id()) + \" Mars 2016\"), cn.get_minimum(), cn.get_maximum()));\n</code></pre>\n\n<p>The code of my java class <code>Jour</code> is :</p>\n\n<pre><code> public class Jour {    \n    private int mTempMin;\n    private int mTempMax;\n    private String mDates;\n\n    public Jour(String date, int min, int max) {\n        mTempMin = min;\n        mTempMax = max;\n        mDates = date;\n    }    \n\n    public String getmDates() {\n        return mDates;\n    }\n\n    public void setmDates(String mDates) {\n        this.mDates = mDates;\n    }\n\n    public int getmTempMin() {\n        return mTempMin;\n    }\n\n    public void setmTempMin(int mTempMin) {\n        this.mTempMin = mTempMin;\n    }\n\n    public int getmTempMax() {\n        return mTempMax;\n    }\n\n    public void setmTempMax(int mTempMax) {\n        this.mTempMax = mTempMax;\n    }    \n}\n</code></pre>\n\n<p>Thank you,\nI hope we can find an answer!</p>\n\n<p>*EDIT</p>\n\n<p>Here's the MeteoJour class:</p>\n\n<pre><code>public class MeteoJour {\n\n    //private variables\n    int _id;\n    int _minimum;\n    int _maximum;\n    int _ressentie;\n    int _vent_vitesse;\n    String _vent_direction;\n    int _ensoleillement;\n    int _probabilite;\n    int _pluie;\n    int _neige;\n\n\n    // Empty constructor\n    public MeteoJour(){\n\n    }\n    // constructor\n    public MeteoJour(int id, int minimum, int maximum, int ressentie, int vent_vitesse, String vent_direction, int ensoleillement, int probabilite, int pluie, int neige){\n        this._id = id;\n        this._minimum = minimum;\n        this._maximum = maximum;\n        this._ressentie = ressentie;\n        this._vent_vitesse = vent_vitesse;\n        this._vent_direction = vent_direction;\n        this._ensoleillement = ensoleillement;\n        this._probabilite = probabilite;\n        this._pluie = pluie;\n        this._neige = neige;\n    }\n\n    // constructor\n    public MeteoJour(int minimum, int maximum, int ressentie, int vent_vitesse, String vent_direction, int ensoleillement, int probabilite, int pluie, int neige){\n        this._minimum = minimum;\n        this._maximum = maximum;\n        this._ressentie = ressentie;\n        this._vent_vitesse = vent_vitesse;\n        this._vent_direction = vent_direction;\n        this._ensoleillement = ensoleillement;\n        this._probabilite = probabilite;\n        this._pluie = pluie;\n        this._neige = neige;\n    }\n\n\n    public int get_id() {\n        return _id;\n    }\n\n    public void set_id(int _id) {\n        this._id = _id;\n    }\n\n    public int get_minimum() {\n        return _minimum;\n    }\n\n    public void set_minimum(int _minimum) {\n        this._minimum = _minimum;\n    }\n\n    public int get_maximum() {\n        return _maximum;\n    }\n\n    public void set_maximum(int _maximum) {\n        this._maximum = _maximum;\n    }\n\n    public int get_ressentie() {\n        return _ressentie;\n    }\n\n    public void set_ressentie(int _ressentie) {\n        this._ressentie = _ressentie;\n    }\n\n    public int get_vent_vitesse() {\n        return _vent_vitesse;\n    }\n\n    public void set_vent_vitesse(int _vent_vitesse) {\n        this._vent_vitesse = _vent_vitesse;\n    }\n\n    public String get_vent_direction() {\n        return _vent_direction;\n    }\n\n    public void set_vent_direction(String _vent_direction) {\n        this._vent_direction = _vent_direction;\n    }\n\n    public int get_ensoleillement() {\n        return _ensoleillement;\n    }\n\n    public void set_ensoleillement(int _ensoleillement) {\n        this._ensoleillement = _ensoleillement;\n    }\n\n    public int get_probabilite() {\n        return _probabilite;\n    }\n\n    public void set_probabilite(int _probabilite) {\n        this._probabilite = _probabilite;\n    }\n\n    public int get_pluie() {\n        return _pluie;\n    }\n\n    public void set_pluie(int _pluie) {\n        this._pluie = _pluie;\n    }\n\n    public int get_neige() {\n        return _neige;\n    }\n\n    public void set_neige(int _neige) {\n        this._neige = _neige;\n    }\n}\n</code></pre>\n\n<p>Here is the R.array.ville XML:</p>\n\n<p></p>\n\n<pre><code>&lt;string name=\"app_name\"&gt;Lab5&lt;/string&gt;\n\n&lt;string-array name=\"joursSemaine\"&gt;\n    &lt;item&gt;Dimanche le 28 fvrier 2016&lt;/item&gt;\n    &lt;item&gt;Lundi le 29 fvrier 2016&lt;/item&gt;\n    &lt;item&gt;Mardi le 1 mars 2016&lt;/item&gt;\n    &lt;item&gt;Mercredi le 2 mars 2016&lt;/item&gt;\n    &lt;item&gt;Jeudi le 3 mars 2016&lt;/item&gt;\n    &lt;item&gt;Vendredi le 4 mars 2016&lt;/item&gt;\n    &lt;item&gt;Samedi le 5 mars 2016&lt;/item&gt;\n&lt;/string-array&gt;\n\n&lt;string-array name=\"villes\"&gt;\n    &lt;item&gt;Gatineau&lt;/item&gt;\n    &lt;item&gt;Trois-Rivire&lt;/item&gt;\n    &lt;item&gt;Montreal&lt;/item&gt;\n    &lt;item&gt;Sherbrooke&lt;/item&gt;\n    &lt;item&gt;Alma&lt;/item&gt;\n&lt;/string-array&gt;\n</code></pre>\n\n<p></p>\n\n<p>My log : </p>\n\n<p>04-27 08:21:24.986 2342-2342/? I/art: Late-enabling -Xcheck:jni 04-27 08:21:25.038 2342-2342/? D/Insert:: Inserting .. 04-27 08:21:25.210 2342-2342/? D/Reading:: Reading all meteojours.. 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 1 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 2 ,Minimum: -1 ,Maximum: 3 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 3 ,Minimum: 2 ,Maximum: 6 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 4 ,Minimum: 3 ,Maximum: 6 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 5 ,Minimum: 4 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 6 ,Minimum: 4 ,Maximum: 7 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 7 ,Minimum: 6 ,Maximum: 8 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 8 ,Minimum: 4 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 9 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 10 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 11 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 12 ,Minimum: 6 ,Maximum: 8 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 13 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 14 ,Minimum: 6 ,Maximum: 8 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 15 ,Minimum: 4 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 16 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 17 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 18 ,Minimum: 4 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 19 ,Minimum: 6 ,Maximum: 8 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 20 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 21 ,Minimum: -1 ,Maximum: 3 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 22 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 23 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 24 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 25 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 26 ,Minimum: 6 ,Maximum: 8 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 27 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 28 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 29 ,Minimum: 2 ,Maximum: 6 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 30 ,Minimum: 3 ,Maximum: 6 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 31 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 32 ,Minimum: 7 ,Maximum: 10 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 33 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 34 ,Minimum: 6 ,Maximum: 8 04-27 08:21:25.211 2342-2342/? D/Name:: Id: 35 ,Minimum: 2 ,Maximum: 5 04-27 08:21:25.218 2342-2360/? W/GooglePlayServicesUtil: Google Play services is missing. 04-27 08:21:25.254 2342-2361/? D/OpenGLRenderer: Use EGL_SWAP_BEHAVIOR_PRESERVED: true 04-27 08:21:25.259 2342-2342/? D/Atlas: Validating map... 04-27 08:21:25.271 2342-2342/? W/ResourceType: No package identifier when getting value for resource number 0x00000002 04-27 08:21:25.272 2342-2342/? D/AndroidRuntime: Shutting down VM 04-27 08:21:25.291 2342-2342/? E/AndroidRuntime: FATAL EXCEPTION: main Process: com.example.android.lab5, PID: 2342 android.content.res.Resources$NotFoundException: String resource ID #0x2 at android.content.res.Resources.getText(Resources.java:299) at android.widget.TextView.setText(TextView.java:4132) at com.example.android.lab5.JourAdapteur.getView(JourAdapteur.java:41) at android.widget.AbsListView.obtainView(AbsListView.java:2347) at android.widget.ListView.measureHeightOfChildren(ListView.java:1270) at android.widget.ListView.onMeasure(ListView.java:1182) at android.view.View.measure(View.java:17547) at android.widget.RelativeLayout.measureChild(RelativeLayout.java:697) at android.widget.RelativeLayout.onMeasure(RelativeLayout.java:481) at android.view.View.measure(View.java:17547) at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5535) at android.widget.FrameLayout.onMeasure(FrameLayout.java:436) at android.support.v7.widget.ContentFrameLayout.onMeasure(ContentFrameLayout.java:135) at android.view.View.measure(View.java:17547) at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5535) at android.support.v7.widget.ActionBarOverlayLayout.onMeasure(ActionBarOverlayLayout.java:391) at android.view.View.measure(View.java:17547) at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5535) at android.widget.FrameLayout.onMeasure(FrameLayout.java:436) at android.view.View.measure(View.java:17547) at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5535) at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1436) at android.widget.LinearLayout.measureVertical(LinearLayout.java:722) at android.widget.LinearLayout.onMeasure(LinearLayout.java:613) at android.view.View.measure(View.java:17547) at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5535) at android.widget.FrameLayout.onMeasure(FrameLayout.java:436) at com.android.internal.policy.impl.PhoneWindow$DecorView.onMeasure(PhoneWindow.java:2615) at android.view.View.measure(View.java:17547) at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:2015) at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:1173) at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1379) at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1061) at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:5885) at android.view.Choreographer$CallbackRecord.run(Choreographer.java:767) at android.view.Choreographer.doCallbacks(Choreographer.java:580) at android.view.Choreographer.doFrame(Choreographer.java:550)  at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:753) at android.os.Handler.handleCallback(Handler.java:739) at android.os.Handler.dispatchMessage(Handler.java:95) at android.os.Looper.loop(Looper.java:135) at android.app.ActivityThread.main(ActivityThread.java:5254) at java.lang.reflect.Method.invoke(Native Method) at java.lang.reflect.Method.invoke(Method.java:372) at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698) 04-27 08:21:28.734 2342-2342/com.example.android.lab5 I/Process: Sending signal. PID: 2342 SIG: 9</p>\n\n<p>JourAdapteur class:</p>\n\n<p>public class JourAdapteur extends ArrayAdapter {</p>\n\n<pre><code>private Context mContext;\nprivate LayoutInflater mInflater;\n\npublic JourAdapteur(Context context, ArrayList&lt;Jour&gt; jours) {\n    super(context, 0, jours);\n    mContext = context;\n    mInflater = LayoutInflater.from(context);\n}\n\n@Override\npublic View getView(int position, View convertView, ViewGroup parent) {\n    View theView = convertView;\n\n    if (theView == null) {\n        theView = mInflater.inflate(R.layout.jour_list_item, parent, false);\n    }\n\n    // Le hero\n    Jour jour = this.getItem(position);\n\n    // Aller chercher les objets\n    TextView lblMin = (TextView) theView.findViewById(R.id.lblMin);\n    TextView lblMax = (TextView) theView.findViewById(R.id.lblMax);\n    TextView lblDate = (TextView) theView.findViewById(R.id.lblDate);\n\n    // Assigner les valeurs\n    lblMin.setText(jour.getmTempMin());\n    lblMax.setText(jour.getmTempMax());\n    lblDate.setText(jour.getmDates());\n\n\n    // Retourner la vue\n    return theView;\n}\n\n@Override\npublic View getDropDownView(int position, View convertView, ViewGroup parent) {\n    // TODO Auto-generated method stub\n    return getView(position, convertView, parent);\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","opensaml"],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648800271,"creation_date":1648799442,"answer_id":71703517,"question_id":71703298,"body_markdown":"The implementation you&#39;re referring to is the one developed by Shibboleth and yes their latest version is the 4.0.1. On their website they strongly encourage switching to their latest version or other alternatives as every V2 security update ceased in 2016 for Java and 2018 for C++.\r\n\r\n&gt; As of July 31, 2016, all security maintenance for the OpenSAML V2 Java release branch ceased. A complete schedule of the dates can be found here. All deployments should upgrade to V3 or evaluate other alternatives.\r\n&gt; \r\n\r\n&gt; As of July 17th, 2018, all security maintenance for the OpenSAML V2 C++ release branch ceased. The author encourages anybody using that code to seek other options or, preferably, stop implementing SAML yourself and use an existing implementation. There are no plans to ever provide meaningful documentation or support for any use of that code outside the Shibboleth Project. Use it at your own risk.\r\n\r\n\r\nHowever, there are many other implementations that you can find linked on their [website][1]\r\n\r\n[On maven][2], you can check every version of Shibboleth&#39;s implementation from V3 to their latest one (the 4.0.1).\r\n\r\n\r\n  [1]: https://shibboleth.atlassian.net/wiki/spaces/OpenSAML/overview\r\n  [2]: https://search.maven.org/artifact/org.opensaml/opensaml-saml-impl/4.0.1/jar","title":"What is the latest version of opensaml?","body":"<p>The implementation you're referring to is the one developed by Shibboleth and yes their latest version is the 4.0.1. On their website they strongly encourage switching to their latest version or other alternatives as every V2 security update ceased in 2016 for Java and 2018 for C++.</p>\n<blockquote>\n<p>As of July 31, 2016, all security maintenance for the OpenSAML V2 Java release branch ceased. A complete schedule of the dates can be found here. All deployments should upgrade to V3 or evaluate other alternatives.</p>\n</blockquote>\n<blockquote>\n<p>As of July 17th, 2018, all security maintenance for the OpenSAML V2 C++ release branch ceased. The author encourages anybody using that code to seek other options or, preferably, stop implementing SAML yourself and use an existing implementation. There are no plans to ever provide meaningful documentation or support for any use of that code outside the Shibboleth Project. Use it at your own risk.</p>\n</blockquote>\n<p>However, there are many other implementations that you can find linked on their <a href=\"https://shibboleth.atlassian.net/wiki/spaces/OpenSAML/overview\" rel=\"nofollow noreferrer\">website</a></p>\n<p><a href=\"https://search.maven.org/artifact/org.opensaml/opensaml-saml-impl/4.0.1/jar\" rel=\"nofollow noreferrer\">On maven</a>, you can check every version of Shibboleth's implementation from V3 to their latest one (the 4.0.1).</p>\n"},{"comments":[{"owner":{"account_id":466701,"reputation":3379,"user_id":871611,"accept_rate":80,"display_name":"user871611"},"score":0,"creation_date":1699532972,"post_id":76722317,"comment_id":136545512,"body_markdown":"Followed by 5.0.0 Sept 23 (https://build.shibboleth.net/maven/releases/org/opensaml/opensaml-parent/5.0.0/)","body":"Followed by 5.0.0 Sept 23 (<a href=\"https://build.shibboleth.net/maven/releases/org/opensaml/opensaml-parent/5.0.0/\" rel=\"nofollow noreferrer\">build.shibboleth.net/maven/releases/org/opensaml/&hellip;</a>)"}],"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689776379,"creation_date":1689776379,"answer_id":76722317,"question_id":71703298,"body_markdown":"Meanwhile, there are newer releases, up to 4.3.0 as of July 2023: https://mvnrepository.com/artifact/org.opensaml/opensaml-core?repo=shibboleth-releases\r\n\r\nHowever, 4.0.1 is still the latest version on Maven Central. The newer versions are only available from Shibboleth&#39;s own repository.","title":"What is the latest version of opensaml?","body":"<p>Meanwhile, there are newer releases, up to 4.3.0 as of July 2023: <a href=\"https://mvnrepository.com/artifact/org.opensaml/opensaml-core?repo=shibboleth-releases\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.opensaml/opensaml-core?repo=shibboleth-releases</a></p>\n<p>However, 4.0.1 is still the latest version on Maven Central. The newer versions are only available from Shibboleth's own repository.</p>\n"}],"owner":{"account_id":20984008,"reputation":85,"user_id":15469144,"display_name":"Jeet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3545,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71703517,"answer_count":2,"score":0,"last_activity_date":1689776379,"creation_date":1648798236,"question_id":71703298,"body_markdown":"Regarding the heading, can someone tell me what is the latest version of opensaml-saml-api?\r\n\r\nI can see that on maven repository(https://repo1.maven.org/maven2/org/opensaml/opensaml-saml-api/) it&#39;s latest version is listed as `4.0.1`\r\n\r\n\r\nIs there any other official site where I can get hold of latest opensaml version information?","title":"What is the latest version of opensaml?","body":"<p>Regarding the heading, can someone tell me what is the latest version of opensaml-saml-api?</p>\n<p>I can see that on maven repository(<a href=\"https://repo1.maven.org/maven2/org/opensaml/opensaml-saml-api/\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/org/opensaml/opensaml-saml-api/</a>) it's latest version is listed as <code>4.0.1</code></p>\n<p>Is there any other official site where I can get hold of latest opensaml version information?</p>\n"},{"tags":["java","multithreading","locking"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1689776008,"post_id":76722240,"comment_id":135261604,"body_markdown":"A semaphore is for a limited resource, So I would advice against it. There are multiple ways to tackle the issue, depending on the exact problem, which brings me to the actual point: this feels like an [XY problem (`meta.stackexchange.com`)](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem). What is the actual problem you are trying to solve? What is done in those blocks? Why are the run on two threads?","body":"A semaphore is for a limited resource, So I would advice against it. There are multiple ways to tackle the issue, depending on the exact problem, which brings me to the actual point: this feels like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem (<code>meta.stackexchange.com</code>)</a>. What is the actual problem you are trying to solve? What is done in those blocks? Why are the run on two threads?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1689776757,"post_id":76722240,"comment_id":135261818,"body_markdown":"In particular, @Sergiy, your first snippet doesn&#39;t do anything, except interact with other threads _also_ running into that _specific_ lock. It also sounds like both snippets are only run once ever (at least, for that lock instance) - but if not, i.e. they both are in loops and can run any number of times, what do you do if either partA or partB is always running, therefore, &#39;wait for both to be done&#39; isn&#39;t a thing?","body":"In particular, @Sergiy, your first snippet doesn&#39;t do anything, except interact with other threads <i>also</i> running into that <i>specific</i> lock. It also sounds like both snippets are only run once ever (at least, for that lock instance) - but if not, i.e. they both are in loops and can run any number of times, what do you do if either partA or partB is always running, therefore, &#39;wait for both to be done&#39; isn&#39;t a thing?"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":2,"creation_date":1689780170,"post_id":76722240,"comment_id":135262683,"body_markdown":"You don&#39;t want &quot;critical part 2&quot; to start until &quot;critical part 1&quot; is finished. You don&#39;t want &quot;third thread&quot; to do its thing until &quot;critical part 2&quot; is finished. In other words, you want to do three things _in sequence._ Why are you not doing all three things in the same thread? What is the benefit (if any) of having the three threads?","body":"You don&#39;t want &quot;critical part 2&quot; to start until &quot;critical part 1&quot; is finished. You don&#39;t want &quot;third thread&quot; to do its thing until &quot;critical part 2&quot; is finished. In other words, you want to do three things <i>in sequence.</i> Why are you not doing all three things in the same thread? What is the benefit (if any) of having the three threads?"},{"owner":{"account_id":2259314,"reputation":11225,"user_id":1989769,"accept_rate":45,"display_name":"Sergiy Medvynskyy"},"score":0,"creation_date":1689830792,"post_id":76722240,"comment_id":135269452,"body_markdown":"OK. It&#39;s a legacy code without proper separation between data manipulation and UI layer, where I must implement a new feature. We try to refactor this code, but it&#39;s a background job, that could take some monthes. And we cann&#39;t make a feature freeze for this time :(","body":"OK. It&#39;s a legacy code without proper separation between data manipulation and UI layer, where I must implement a new feature. We try to refactor this code, but it&#39;s a background job, that could take some monthes. And we cann&#39;t make a feature freeze for this time :("}],"owner":{"account_id":2259314,"reputation":11225,"user_id":1989769,"accept_rate":45,"display_name":"Sergiy Medvynskyy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689775824,"creation_date":1689775824,"question_id":76722240,"body_markdown":"When I have a critical part in one thread, i can use ReentrantLock to protect my critical block.\r\n\r\n    ReentrantLock lock = new ReentrantLock();\r\n    try {\r\n        lock.lock();\r\n        // do critical stuff\r\n    } finally {\r\n        lock.unlock();\r\n    }\r\n\r\nNow I have a critical part that is split in two blocks and these blocks are executed in different threads, and third thread should wait until both parts are done.\r\n\r\n    Executor executor = Executors.newSingleThreadExecutor();\r\n    // lock\r\n    // critical part 1\r\n    executor.execute(() -&gt; {\r\n        // critical part 2\r\n        // unlock\r\n    });\r\n\r\n\r\nHere I should switch from `ReentrantLock` to `Semaphore` (or something else?). But I cann&#39;t figure out, how to organize something like try/finally block in 2 different threads. Or, in other words, how to be sure that my lock will be released. Any suggestions?","title":"Java: How to safe lock/unlock critical part, that is split between 2 threads","body":"<p>When I have a critical part in one thread, i can use ReentrantLock to protect my critical block.</p>\n<pre><code>ReentrantLock lock = new ReentrantLock();\ntry {\n    lock.lock();\n    // do critical stuff\n} finally {\n    lock.unlock();\n}\n</code></pre>\n<p>Now I have a critical part that is split in two blocks and these blocks are executed in different threads, and third thread should wait until both parts are done.</p>\n<pre><code>Executor executor = Executors.newSingleThreadExecutor();\n// lock\n// critical part 1\nexecutor.execute(() -&gt; {\n    // critical part 2\n    // unlock\n});\n</code></pre>\n<p>Here I should switch from <code>ReentrantLock</code> to <code>Semaphore</code> (or something else?). But I cann't figure out, how to organize something like try/finally block in 2 different threads. Or, in other words, how to be sure that my lock will be released. Any suggestions?</p>\n"},{"tags":["java","avro","avro-tools"],"comments":[{"owner":{"account_id":5156422,"reputation":3976,"user_id":4129551,"accept_rate":82,"display_name":"aurelius"},"score":0,"creation_date":1517235476,"post_id":45700725,"comment_id":84000205,"body_markdown":"Have you found one?","body":"Have you found one?"}],"answers":[{"tags":[],"owner":{"account_id":4734706,"reputation":7799,"user_id":3829426,"display_name":"hlagos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502922400,"creation_date":1502922400,"answer_id":45723923,"question_id":45700725,"body_markdown":"Kite SDK has a lot of useful things to work with Avro Schema. Take a look to this\r\n\r\nhttp://kitesdk.org/docs/1.1.0/Inferring-a-Schema-from-a-Java-Class.html","title":"Generate Avro file based on java file","body":"<p>Kite SDK has a lot of useful things to work with Avro Schema. Take a look to this</p>\n\n<p><a href=\"http://kitesdk.org/docs/1.1.0/Inferring-a-Schema-from-a-Java-Class.html\" rel=\"nofollow noreferrer\">http://kitesdk.org/docs/1.1.0/Inferring-a-Schema-from-a-Java-Class.html</a></p>\n"},{"tags":[],"owner":{"account_id":11603669,"reputation":1,"user_id":8500068,"display_name":"faraz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689775716,"creation_date":1689775612,"answer_id":76722197,"question_id":45700725,"body_markdown":"Late reply but may be helpful to someone who reach here.\r\nYou can use avro maven plugin\r\n\r\n    mvn avro:induce\r\n\r\nGenerate Avro files (.avsc and .avpr) from Java classes or interfaces","title":"Generate Avro file based on java file","body":"<p>Late reply but may be helpful to someone who reach here.\nYou can use avro maven plugin</p>\n<pre><code>mvn avro:induce\n</code></pre>\n<p>Generate Avro files (.avsc and .avpr) from Java classes or interfaces</p>\n"}],"owner":{"account_id":2584850,"reputation":433,"user_id":2240796,"accept_rate":58,"display_name":"RSM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689775716,"creation_date":1502827625,"question_id":45700725,"body_markdown":"There are plugins that can generate java file using Avro schema. Is there a reverse of that? I would like to generate Avro schema based on java file.","title":"Generate Avro file based on java file","body":"<p>There are plugins that can generate java file using Avro schema. Is there a reverse of that? I would like to generate Avro schema based on java file.</p>\n"},{"tags":["java","spring-integration","spring-jms"],"answers":[{"comments":[{"owner":{"account_id":29044572,"reputation":3,"user_id":22248708,"display_name":"Waldi"},"score":0,"creation_date":1689760912,"post_id":76716689,"comment_id":135257816,"body_markdown":"Thx for your answer.\nThe only thing I have to add is that you have to set the responseQosSettings on the MessageListenerAdapter and not on the container.","body":"Thx for your answer. The only thing I have to add is that you have to set the responseQosSettings on the MessageListenerAdapter and not on the container."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1689775443,"post_id":76716689,"comment_id":135261441,"body_markdown":"Fixed. An alternative is to create a `BeanPostProcessor` and, for each container bean, call `getMessageListener()`, cast it to a `MessageListenerAdapter` and set the reply QOS there.","body":"Fixed. An alternative is to create a <code>BeanPostProcessor</code> and, for each container bean, call <code>getMessageListener()</code>, cast it to a <code>MessageListenerAdapter</code> and set the reply QOS there."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689775241,"creation_date":1689716328,"answer_id":76716689,"question_id":76716607,"body_markdown":"See the schema documentation for `listener-container`...\r\n\r\n```\r\nEach listener child element will be hosted by a container whose configuration\r\nis determined by this parent element. This variant builds standard JMS\r\nlistener containers, operating against a specified JMS ConnectionFactory. When\r\na factory-id attribute is present, the configuration defined by this element is\r\nexposed as a org.springframework.jms.config.JmsListenerContainerFactory. It is\r\ntherefore possible to only define this element without any child to just expose\r\na container factory.\r\n```\r\n\r\nand\r\n```xml\r\n\t\t&lt;xsd:attribute name=&quot;factory-id&quot; type=&quot;xsd:string&quot;&gt;\r\n\t\t\t&lt;xsd:annotation&gt;\r\n\t\t\t\t&lt;xsd:documentation&gt;&lt;![CDATA[\r\nExpose the settings defined by this element as a org.springframework.jms.config.JmsListenerContainerFactory\r\nso that they can be reused with other endpoints.\r\n\t\t\t]]&gt;&lt;/xsd:documentation&gt;\r\n\t\t\t&lt;/xsd:annotation&gt;\r\n\t\t&lt;/xsd:attribute&gt;\r\n```\r\n\r\nThe `factory-id` is NOT a reference to a container factory, it turns the XML element into a container factory and it should not have any child elements.\r\n\r\nThe reply QOS is not supported by the jms xml namespace.\r\n\r\nYou need to define your listener container(s) as a `&lt;bean /&gt;` &lt;strike&gt;and set its `replyQosSettings` property&lt;/strike&gt;.\r\n\r\nThe `messageListener` should be a `MessageListenerAdapter` to wrap your listener bean, and set its `replyQosSettings` property.\r\n\r\nContainer factories are normally used for creating containers for methods annotated with `@JmsListener`.\r\n\r\n","title":"Spring JMS: replyQosSettings via XML Configuration","body":"<p>See the schema documentation for <code>listener-container</code>...</p>\n<pre><code>Each listener child element will be hosted by a container whose configuration\nis determined by this parent element. This variant builds standard JMS\nlistener containers, operating against a specified JMS ConnectionFactory. When\na factory-id attribute is present, the configuration defined by this element is\nexposed as a org.springframework.jms.config.JmsListenerContainerFactory. It is\ntherefore possible to only define this element without any child to just expose\na container factory.\n</code></pre>\n<p>and</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;xsd:attribute name=&quot;factory-id&quot; type=&quot;xsd:string&quot;&gt;\n            &lt;xsd:annotation&gt;\n                &lt;xsd:documentation&gt;&lt;![CDATA[\nExpose the settings defined by this element as a org.springframework.jms.config.JmsListenerContainerFactory\nso that they can be reused with other endpoints.\n            ]]&gt;&lt;/xsd:documentation&gt;\n            &lt;/xsd:annotation&gt;\n        &lt;/xsd:attribute&gt;\n</code></pre>\n<p>The <code>factory-id</code> is NOT a reference to a container factory, it turns the XML element into a container factory and it should not have any child elements.</p>\n<p>The reply QOS is not supported by the jms xml namespace.</p>\n<p>You need to define your listener container(s) as a <code>&lt;bean /&gt;</code> <strike>and set its <code>replyQosSettings</code> property</strike>.</p>\n<p>The <code>messageListener</code> should be a <code>MessageListenerAdapter</code> to wrap your listener bean, and set its <code>replyQosSettings</code> property.</p>\n<p>Container factories are normally used for creating containers for methods annotated with <code>@JmsListener</code>.</p>\n"},{"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1689775404,"post_id":76720128,"comment_id":135261425,"body_markdown":"An alternative is to create a `BeanPostProcessor` and, for each container bean, call `getMessageListener()`, cast it to a `MessageListenerAdapter` and set the reply QOS there.","body":"An alternative is to create a <code>BeanPostProcessor</code> and, for each container bean, call <code>getMessageListener()</code>, cast it to a <code>MessageListenerAdapter</code> and set the reply QOS there."}],"tags":[],"owner":{"account_id":29044572,"reputation":3,"user_id":22248708,"display_name":"Waldi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689761012,"creation_date":1689761012,"answer_id":76720128,"question_id":76716607,"body_markdown":"Thanks to Gary Russel for the hints.\r\nI think it&#39;s a little sad for spring that it has to get so verbose (espacially if you have a lot of listeners) just to get some Qol settings on the response messages.\r\n\r\nBut here it is:\r\n\r\n    &lt;bean class=&quot;org.springframework.jms.listener.DefaultMessageListenerContainer&quot;&gt;\r\n    &lt;property name=&quot;connectionFactory&quot; ref=&quot;connectionFactory&quot;/&gt;\r\n    &lt;property name=&quot;destination&quot; ref=&quot;isLoadRunningQueue&quot;/&gt;\r\n    &lt;property name=&quot;messageSelector&quot; value=&quot;destinationServer = &#39;${hub.name}&#39; OR destinationServer IS NULL&quot;/&gt;\r\n    &lt;property name=&quot;messageListener&quot;&gt;\r\n      &lt;bean class=&quot;org.springframework.jms.listener.adapter.MessageListenerAdapter&quot;&gt;\r\n        &lt;property name=&quot;responseQosSettings&quot; ref=&quot;replyQosSettings&quot;/&gt;\r\n        &lt;property name=&quot;defaultListenerMethod&quot; value=&quot;isRunning&quot;/&gt;\r\n        &lt;property name=&quot;delegate&quot; ref=&quot;starterJmsListener&quot;/&gt;\r\n      &lt;/bean&gt;\r\n    &lt;/property&gt;\r\n  &lt;/bean&gt;\r\n\r\n","title":"Spring JMS: replyQosSettings via XML Configuration","body":"<p>Thanks to Gary Russel for the hints.\nI think it's a little sad for spring that it has to get so verbose (espacially if you have a lot of listeners) just to get some Qol settings on the response messages.</p>\n<p>But here it is:</p>\n<pre><code>&lt;bean class=&quot;org.springframework.jms.listener.DefaultMessageListenerContainer&quot;&gt;\n&lt;property name=&quot;connectionFactory&quot; ref=&quot;connectionFactory&quot;/&gt;\n&lt;property name=&quot;destination&quot; ref=&quot;isLoadRunningQueue&quot;/&gt;\n&lt;property name=&quot;messageSelector&quot; value=&quot;destinationServer = '${hub.name}' OR destinationServer IS NULL&quot;/&gt;\n&lt;property name=&quot;messageListener&quot;&gt;\n  &lt;bean class=&quot;org.springframework.jms.listener.adapter.MessageListenerAdapter&quot;&gt;\n    &lt;property name=&quot;responseQosSettings&quot; ref=&quot;replyQosSettings&quot;/&gt;\n    &lt;property name=&quot;defaultListenerMethod&quot; value=&quot;isRunning&quot;/&gt;\n    &lt;property name=&quot;delegate&quot; ref=&quot;starterJmsListener&quot;/&gt;\n  &lt;/bean&gt;\n&lt;/property&gt;\n</code></pre>\n  \n"}],"owner":{"account_id":29044572,"reputation":3,"user_id":22248708,"display_name":"Waldi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76716689,"answer_count":2,"score":0,"last_activity_date":1689775241,"creation_date":1689714969,"question_id":76716607,"body_markdown":"I&#39;m using Spring JMS 5.3.6 for an application where I need to set a TimeToLive for my response messages.\r\nThe application is configured via XML and is using the JMS namespace.\r\n\r\nWhen reading the [Spring documentation][1] my guess was that I need to create a `JmsListenerContainerFactory` instance which I then pass to the listener-container via the factory-id attribute.\r\n\r\nBut the documentation is not really clear here (or doesn&#39;t match the description). Because it states:  \r\n&gt; You can automatically expose such settings as a JmsListenerContainerFactory by specifying the id of the bean to expose through the factory-id attribute, as the following example shows\r\n\r\nBut the following example then doesn&#39;t contain the factory-id attribute.\r\n\r\nThis is my current configuration:\r\n\r\n```xml\r\n  &lt;bean id=&quot;replyQosSettings&quot; class=&quot;org.springframework.jms.support.QosSettings&quot;&gt;\r\n    &lt;constructor-arg name=&quot;deliveryMode&quot; value=&quot;1&quot;/&gt;\r\n    &lt;constructor-arg name=&quot;priority&quot; value=&quot;4&quot;/&gt;\r\n    &lt;constructor-arg name=&quot;timeToLive&quot; value=&quot;300000&quot;/&gt;\r\n  &lt;/bean&gt;\r\n\r\n  &lt;bean id=&quot;jmsListenerContainerFactory&quot; class=&quot;org.springframework.jms.config.DefaultJmsListenerContainerFactory&quot;&gt;\r\n    &lt;property name=&quot;connectionFactory&quot; ref=&quot;connectionFactory&quot;/&gt;\r\n    &lt;property name=&quot;replyQosSettings&quot; ref=&quot;replyQosSettings&quot;/&gt;\r\n  &lt;/bean&gt;\r\n\r\n  &lt;jms:listener-container factory-id=&quot;jmsListenerContainerFactory&quot;&gt;\r\n    &lt;jms:listener destination=&quot;starter.load&quot; ref=&quot;starterJmsListener&quot; method=&quot;startLoad&quot; concurrency=&quot;3&quot; selector=&quot;destinationServer = &#39;${hub.name}&#39; OR destinationServer IS NULL&quot;/&gt;\r\n    &lt;jms:listener destination=&quot;starter.isLoadRunning&quot; ref=&quot;starterJmsListener&quot; method=&quot;isRunning&quot; selector=&quot;destinationServer = &#39;${hub.name}&#39; OR destinationServer IS NULL&quot;/&gt;\r\n  &lt;/jms:listener-container&gt;\r\n```\r\n\r\nBut this doesn&#39;t work and after hours of debugging I&#39;ve no idea how to get it working.\r\n\r\nI also tried my own `MessageListenerContainer` implementation with hard-coded replyQosSettings but without success.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/5.3.6/reference/html/integration.html#jms-namespace","title":"Spring JMS: replyQosSettings via XML Configuration","body":"<p>I'm using Spring JMS 5.3.6 for an application where I need to set a TimeToLive for my response messages.\nThe application is configured via XML and is using the JMS namespace.</p>\n<p>When reading the <a href=\"https://docs.spring.io/spring-framework/docs/5.3.6/reference/html/integration.html#jms-namespace\" rel=\"nofollow noreferrer\">Spring documentation</a> my guess was that I need to create a <code>JmsListenerContainerFactory</code> instance which I then pass to the listener-container via the factory-id attribute.</p>\n<p>But the documentation is not really clear here (or doesn't match the description). Because it states:</p>\n<blockquote>\n<p>You can automatically expose such settings as a JmsListenerContainerFactory by specifying the id of the bean to expose through the factory-id attribute, as the following example shows</p>\n</blockquote>\n<p>But the following example then doesn't contain the factory-id attribute.</p>\n<p>This is my current configuration:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;bean id=&quot;replyQosSettings&quot; class=&quot;org.springframework.jms.support.QosSettings&quot;&gt;\n    &lt;constructor-arg name=&quot;deliveryMode&quot; value=&quot;1&quot;/&gt;\n    &lt;constructor-arg name=&quot;priority&quot; value=&quot;4&quot;/&gt;\n    &lt;constructor-arg name=&quot;timeToLive&quot; value=&quot;300000&quot;/&gt;\n  &lt;/bean&gt;\n\n  &lt;bean id=&quot;jmsListenerContainerFactory&quot; class=&quot;org.springframework.jms.config.DefaultJmsListenerContainerFactory&quot;&gt;\n    &lt;property name=&quot;connectionFactory&quot; ref=&quot;connectionFactory&quot;/&gt;\n    &lt;property name=&quot;replyQosSettings&quot; ref=&quot;replyQosSettings&quot;/&gt;\n  &lt;/bean&gt;\n\n  &lt;jms:listener-container factory-id=&quot;jmsListenerContainerFactory&quot;&gt;\n    &lt;jms:listener destination=&quot;starter.load&quot; ref=&quot;starterJmsListener&quot; method=&quot;startLoad&quot; concurrency=&quot;3&quot; selector=&quot;destinationServer = '${hub.name}' OR destinationServer IS NULL&quot;/&gt;\n    &lt;jms:listener destination=&quot;starter.isLoadRunning&quot; ref=&quot;starterJmsListener&quot; method=&quot;isRunning&quot; selector=&quot;destinationServer = '${hub.name}' OR destinationServer IS NULL&quot;/&gt;\n  &lt;/jms:listener-container&gt;\n</code></pre>\n<p>But this doesn't work and after hours of debugging I've no idea how to get it working.</p>\n<p>I also tried my own <code>MessageListenerContainer</code> implementation with hard-coded replyQosSettings but without success.</p>\n"},{"tags":["java","field","mailmerge","aspose.words"],"comments":[{"owner":{"account_id":70917,"reputation":17743,"user_id":205233,"accept_rate":90,"display_name":"Filburt"},"score":1,"creation_date":1689769072,"post_id":76721200,"comment_id":135259594,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"}],"answers":[{"tags":[],"owner":{"account_id":11398698,"reputation":1809,"user_id":8356224,"display_name":"Alexey Noskov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689775143,"creation_date":1689775143,"answer_id":76722129,"question_id":76721200,"body_markdown":"It is not the must to use XML as a data source to execute mail merge with regions. In your case you should use [IMailMergeDataSource][1]. Using it you can use any object as data source for executing mail merge. \r\n\r\n\r\n  [1]: https://reference.aspose.com/words/java/com.aspose.words/imailmergedatasource/","title":"Need to implement mail merge by using Aspose word with java for normal fields as well as tables","body":"<p>It is not the must to use XML as a data source to execute mail merge with regions. In your case you should use <a href=\"https://reference.aspose.com/words/java/com.aspose.words/imailmergedatasource/\" rel=\"nofollow noreferrer\">IMailMergeDataSource</a>. Using it you can use any object as data source for executing mail merge.</p>\n"}],"owner":{"account_id":27081170,"reputation":13,"user_id":20630313,"display_name":"Pankaj Patil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689775143,"creation_date":1689768928,"question_id":76721200,"body_markdown":"We are using java spring boot project, and implemented a REST API to perform a aspose word mail merge.\r\n\r\nInput to REST : Word file (containing mail merge fields, tables), JSON body (values required to merge)\r\nOutput : mail merged Word file.\r\n\r\nFor mail merge of normal fields in word, we are successfully able to do it with JSON input.\r\n\r\nWhere as, I analyzed that, for mail merge of table, we need to provide the input in specific XML file.\r\nIs it possible to mail merge tables with method executeWithRegions() with JSON input? or input in XML is must?\r\n\r\nCurrent implementation :\r\n\r\nI have used &quot;JSON INPUT&quot; receiving from REST to perform mail merge of &quot;Normal Fields&quot;\r\nAnd \r\nI have to provide a hardcoded xml file to perform mail merge for &quot;TABLE&quot; in the same word document.(which is not useful for dynamic mail merge)\r\n\r\nThis is not a good solution to execute mail merge option twice,\r\n1 for normal fields with JSON input.\r\n2 for TABLES with XML file input.\r\n\r\nWhereas, we are not getting any XML data as input. We are just getting JSON object as below,\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn above input :\r\n 1. Normal fields : title, header. \r\n 2. Tables : Table1.\r\n\r\nJava code implemented :\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIs it possible to use only JSON for mail merge of normal fields and tables?\r\nor is it possible to convert JSON to XML and to use XML as a common input for both normal fields and tables?\r\n\r\n\r\nAlso,\r\ntable mail merge requires XML format as,\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nwhere as standard XML document with converter provides XML format as,\r\n\r\n[![enter image description here][4]][4]\r\n\r\nAlso if we are adding normal mail merge fields in XML file, then it is not performing mail merge of normal fields, it is performing mail merge of tables only.\r\n\r\nKindly suggest the better solution.\r\n\r\nThanks in Advance!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zzUoh.png\r\n  [2]: https://i.stack.imgur.com/Slo1p.png\r\n  [3]: https://i.stack.imgur.com/l4Io7.png\r\n  [4]: https://i.stack.imgur.com/tTv9P.png","title":"Need to implement mail merge by using Aspose word with java for normal fields as well as tables","body":"<p>We are using java spring boot project, and implemented a REST API to perform a aspose word mail merge.</p>\n<p>Input to REST : Word file (containing mail merge fields, tables), JSON body (values required to merge)\nOutput : mail merged Word file.</p>\n<p>For mail merge of normal fields in word, we are successfully able to do it with JSON input.</p>\n<p>Where as, I analyzed that, for mail merge of table, we need to provide the input in specific XML file.\nIs it possible to mail merge tables with method executeWithRegions() with JSON input? or input in XML is must?</p>\n<p>Current implementation :</p>\n<p>I have used &quot;JSON INPUT&quot; receiving from REST to perform mail merge of &quot;Normal Fields&quot;\nAnd\nI have to provide a hardcoded xml file to perform mail merge for &quot;TABLE&quot; in the same word document.(which is not useful for dynamic mail merge)</p>\n<p>This is not a good solution to execute mail merge option twice,\n1 for normal fields with JSON input.\n2 for TABLES with XML file input.</p>\n<p>Whereas, we are not getting any XML data as input. We are just getting JSON object as below,</p>\n<p><a href=\"https://i.stack.imgur.com/zzUoh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zzUoh.png\" alt=\"enter image description here\" /></a></p>\n<p>In above input :</p>\n<ol>\n<li>Normal fields : title, header.</li>\n<li>Tables : Table1.</li>\n</ol>\n<p>Java code implemented :</p>\n<p><a href=\"https://i.stack.imgur.com/Slo1p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Slo1p.png\" alt=\"enter image description here\" /></a></p>\n<p>Is it possible to use only JSON for mail merge of normal fields and tables?\nor is it possible to convert JSON to XML and to use XML as a common input for both normal fields and tables?</p>\n<p>Also,\ntable mail merge requires XML format as,</p>\n<p><a href=\"https://i.stack.imgur.com/l4Io7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l4Io7.png\" alt=\"enter image description here\" /></a></p>\n<p>where as standard XML document with converter provides XML format as,</p>\n<p><a href=\"https://i.stack.imgur.com/tTv9P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tTv9P.png\" alt=\"enter image description here\" /></a></p>\n<p>Also if we are adding normal mail merge fields in XML file, then it is not performing mail merge of normal fields, it is performing mail merge of tables only.</p>\n<p>Kindly suggest the better solution.</p>\n<p>Thanks in Advance!</p>\n"},{"tags":["java","spring-boot","sonarqube"],"answers":[{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689775062,"post_id":76722069,"comment_id":135261320,"body_markdown":"What&#39;s the significance of e1?","body":"What&#39;s the significance of e1?"},{"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"score":0,"creation_date":1689797362,"post_id":76722069,"comment_id":135266214,"body_markdown":"From what I could tell, it is just an identifier for a block config that we can then use to define the stop and start comment patterns. It can be named anything else as well","body":"From what I could tell, it is just an identifier for a block config that we can then use to define the stop and start comment patterns. It can be named anything else as well"}],"tags":[],"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689774839,"creation_date":1689774839,"answer_id":76722069,"question_id":76220676,"body_markdown":"You can use the `sonar.issue.ignore.block` config to define comment patterns to stop and restart sonar processing and then use those comments around the method you want to ignore.\r\n\r\nWith the `sonarqube` gradle plugin, the config could look like below:\r\n\r\n```\r\nsonarqube {\r\n    properties {\r\n        property &#39;sonar.issue.ignore.block&#39;, &#39;e1&#39;\r\n        property &#39;sonar.issue.ignore.block.e1.beginBlockRegexp&#39;, &#39;@sonar-stop&#39;\r\n        property &#39;sonar.issue.ignore.block.e1.endBlockRegexp&#39;, &#39;@sonar-start&#39;\r\n    }\r\n}\r\n```\r\n\r\nThen the usage would look something like below:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    System.out.println(&quot;Log 1&quot;);\r\n    \t\r\n    // @sonar-stop\r\n    System.out.println(&quot;Log 2&quot;);\r\n    System.out.println(&quot;Log 3&quot;);\r\n    \t\r\n    // @sonar-start\r\n    System.out.println(&quot;Log 4&quot;);\r\n}\r\n```\r\n\r\nNow the second and third print statements won&#39;t be detected as issues by sonar.","title":"Sonar Skipping Method","body":"<p>You can use the <code>sonar.issue.ignore.block</code> config to define comment patterns to stop and restart sonar processing and then use those comments around the method you want to ignore.</p>\n<p>With the <code>sonarqube</code> gradle plugin, the config could look like below:</p>\n<pre><code>sonarqube {\n    properties {\n        property 'sonar.issue.ignore.block', 'e1'\n        property 'sonar.issue.ignore.block.e1.beginBlockRegexp', '@sonar-stop'\n        property 'sonar.issue.ignore.block.e1.endBlockRegexp', '@sonar-start'\n    }\n}\n</code></pre>\n<p>Then the usage would look something like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    System.out.println(&quot;Log 1&quot;);\n        \n    // @sonar-stop\n    System.out.println(&quot;Log 2&quot;);\n    System.out.println(&quot;Log 3&quot;);\n        \n    // @sonar-start\n    System.out.println(&quot;Log 4&quot;);\n}\n</code></pre>\n<p>Now the second and third print statements won't be detected as issues by sonar.</p>\n"}],"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689774839,"creation_date":1683735861,"question_id":76220676,"body_markdown":"I have a java project with sonarqube on, and currently we also have one method that should be excluded from tests. I understand for one liners, we could annotate `//NOSONAR`, but what is a good way to skip code coverage scanning for one entire method? I am using springboot, is there some annotation or something?\r\n\r\nThanks!","title":"Sonar Skipping Method","body":"<p>I have a java project with sonarqube on, and currently we also have one method that should be excluded from tests. I understand for one liners, we could annotate <code>//NOSONAR</code>, but what is a good way to skip code coverage scanning for one entire method? I am using springboot, is there some annotation or something?</p>\n<p>Thanks!</p>\n"},{"tags":["java","json","spring","serialization"],"answers":[{"tags":[],"owner":{"account_id":6142521,"reputation":151,"user_id":4789493,"display_name":"Davipb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637962948,"creation_date":1637962948,"answer_id":70130295,"question_id":70130226,"body_markdown":"Jackson doesn&#39;t support `org.json` classes by default. Try to build your JSON Object using Jackson&#39;s `com.fasterxml.jackson.databind.node.ObjectNode` instead.","title":"Spring - HttpMessageConversionException using ResponseEntity with Map&lt;String,JSONobject&gt;","body":"<p>Jackson doesn't support <code>org.json</code> classes by default. Try to build your JSON Object using Jackson's <code>com.fasterxml.jackson.databind.node.ObjectNode</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":12270461,"reputation":1531,"user_id":8955751,"display_name":"SanketKD"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689774810,"creation_date":1689774810,"answer_id":76722065,"question_id":70130226,"body_markdown":"Add default constructors in models to support deserialization","title":"Spring - HttpMessageConversionException using ResponseEntity with Map&lt;String,JSONobject&gt;","body":"<p>Add default constructors in models to support deserialization</p>\n"}],"owner":{"account_id":5246206,"reputation":426,"user_id":4191849,"display_name":"Eunito"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2024,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689774810,"creation_date":1637962343,"question_id":70130226,"body_markdown":"I&#39;m facing an issue regarding the acess to a JSONobject inside a Map&lt;String,JSONobject&gt;.\r\n\r\nBasically I&#39;m trying to build a Json reply in a controller method like this:\r\n\r\n    {\r\n        &quot;item1&quot;: {\r\n            &quot;type1&quot;: 2,\r\n            &quot;type5&quot;: 1\r\n        },\r\n        &quot;item6&quot;: {\r\n            &quot;type3&quot;: 32,\r\n            &quot;type26&quot;: 7,\r\n            &quot;type5&quot;: 9\r\n            (being the number of keys inside of each key/value an object with several key/value entries)\r\n        }\r\n    }\r\n\r\nThis is the controller:\r\n\r\n    @PostMapping(value=&quot;/endpoint&quot;)\r\n        public ResponseEntity&lt;?&gt; aggData(@RequestBody List&lt;ValidNum&gt; nums){\r\n            try {\r\n                Map&lt;String, JSONObject&gt; data = dataService.aggData(numsData);\r\n                AggSuccess callSuccessResp = new AggSuccess(data);\r\n                return new ResponseEntity&lt;&gt;(callSuccessResp, HttpStatus.OK);\r\n            } catch (Error e) {\r\n                AggError callErrorResp = new AggError(e.getMessage());\r\n                return new ResponseEntity&lt;AggregatedDataError&gt;(callErrorResp, HttpStatus.BAD_REQUEST);\r\n            }\r\n        }\r\n\r\nThis is the service implementation\r\n\r\n \r\n\r\n    @Override\r\n        public Map&lt;String,JSONObject&gt; aggregateData(List&lt;ValidNum&gt; numsData) {\r\n            Map&lt;String,JSONObject&gt; aggData = new HashMap&lt;&gt;();\r\n    \r\n            for (ValidNum vn : numsData) {\r\n    \r\n                if (aggData.get(vn.item) == null) {\r\n                    JSONObject itemTypesCount = new JSONObject();\r\n                    aggData.put(vn.item, itemTypesCount.put(vn.type, 1));\r\n                } else {\r\n                    JSONObject itemData = aggData.get(vn.item);\r\n                    Long typeValue  = (Long) itemData.get(vn.type);\r\n                    itemData.put(vn.type, typeValue+1);\r\n                    aggData.put(vn.item, itemData);\r\n                }\r\n            }\r\n    \r\n            return aggData;\r\n        }\r\n\r\nThe ValidNum class\r\n\r\n    public class ValidNum {\r\n    \r\n        public String nr;\r\n        public String item;\r\n        public String type;\r\n    \r\n        public ValidNumber(String nr, String item, String type) {\r\n            this.nr = nr;\r\n            this.item = item;\r\n            this.type = type;\r\n        }\r\n    \r\n    }\r\n\r\nThe AggSuccess response class (where I think problem is)\r\n\r\n    public class AggSuccess {\r\n        public Map&lt;String,JSONObject&gt; aggSuccess;\r\n    \r\n        public AggSuccess(Map&lt;String, JSONObject&gt; aggSuccess) {\r\n            this.aggSuccess = aggSuccess;\r\n        }\r\n    \r\n    }\r\n\r\nThe problem is that I&#39;m allways getting an error unless I add this to the application properties: `spring.jackson.serialization.FAIL_ON_EMPTY_BEANS=false`\r\nand I don&#39;t want that because I don&#39;t wan&#39;t data to look like this:\r\n\r\n\r\n    {\r\n        &quot;item1&quot;: {},\r\n        &quot;item6&quot;: {}\r\n    }\r\n\r\nCommenting that entry I get the following error:\r\n\r\n    ERROR 26551 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.json.JSONObject]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.json.JSONObject and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: package.AggDataSuccess[&quot;aggSuccess&quot;]-&gt;java.util.HashMap[&quot;item1&quot;])] with root cause\r\n    com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.json.JSONObject and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: package.AggDataSuccess[&quot;aggSuccess&quot;]-&gt;java.util.HashMap[&quot;item1&quot;])\r\n\r\n\r\nand the weirdest part is the fact that debugging in the controller&#39;s callSuccessResp, right before sending data back to postman, I get the correct json value:\r\n\r\n    {\r\n        &quot;item1&quot;: {\r\n            &quot;type1&quot;: 2,\r\n            &quot;type5&quot;: 1\r\n        },\r\n        &quot;item6&quot;: {\r\n            &quot;type3&quot;: 32,\r\n            &quot;type26&quot;: 7,\r\n            &quot;type5&quot;: 9\r\n        }\r\n    }\r\n\r\nSo, what can I do to get the response entity to read and serialize the JSONobject properly?\r\n\r\n","title":"Spring - HttpMessageConversionException using ResponseEntity with Map&lt;String,JSONobject&gt;","body":"<p>I'm facing an issue regarding the acess to a JSONobject inside a Map&lt;String,JSONobject&gt;.</p>\n<p>Basically I'm trying to build a Json reply in a controller method like this:</p>\n<pre><code>{\n    &quot;item1&quot;: {\n        &quot;type1&quot;: 2,\n        &quot;type5&quot;: 1\n    },\n    &quot;item6&quot;: {\n        &quot;type3&quot;: 32,\n        &quot;type26&quot;: 7,\n        &quot;type5&quot;: 9\n        (being the number of keys inside of each key/value an object with several key/value entries)\n    }\n}\n</code></pre>\n<p>This is the controller:</p>\n<pre><code>@PostMapping(value=&quot;/endpoint&quot;)\n    public ResponseEntity&lt;?&gt; aggData(@RequestBody List&lt;ValidNum&gt; nums){\n        try {\n            Map&lt;String, JSONObject&gt; data = dataService.aggData(numsData);\n            AggSuccess callSuccessResp = new AggSuccess(data);\n            return new ResponseEntity&lt;&gt;(callSuccessResp, HttpStatus.OK);\n        } catch (Error e) {\n            AggError callErrorResp = new AggError(e.getMessage());\n            return new ResponseEntity&lt;AggregatedDataError&gt;(callErrorResp, HttpStatus.BAD_REQUEST);\n        }\n    }\n</code></pre>\n<p>This is the service implementation</p>\n<pre><code>@Override\n    public Map&lt;String,JSONObject&gt; aggregateData(List&lt;ValidNum&gt; numsData) {\n        Map&lt;String,JSONObject&gt; aggData = new HashMap&lt;&gt;();\n\n        for (ValidNum vn : numsData) {\n\n            if (aggData.get(vn.item) == null) {\n                JSONObject itemTypesCount = new JSONObject();\n                aggData.put(vn.item, itemTypesCount.put(vn.type, 1));\n            } else {\n                JSONObject itemData = aggData.get(vn.item);\n                Long typeValue  = (Long) itemData.get(vn.type);\n                itemData.put(vn.type, typeValue+1);\n                aggData.put(vn.item, itemData);\n            }\n        }\n\n        return aggData;\n    }\n</code></pre>\n<p>The ValidNum class</p>\n<pre><code>public class ValidNum {\n\n    public String nr;\n    public String item;\n    public String type;\n\n    public ValidNumber(String nr, String item, String type) {\n        this.nr = nr;\n        this.item = item;\n        this.type = type;\n    }\n\n}\n</code></pre>\n<p>The AggSuccess response class (where I think problem is)</p>\n<pre><code>public class AggSuccess {\n    public Map&lt;String,JSONObject&gt; aggSuccess;\n\n    public AggSuccess(Map&lt;String, JSONObject&gt; aggSuccess) {\n        this.aggSuccess = aggSuccess;\n    }\n\n}\n</code></pre>\n<p>The problem is that I'm allways getting an error unless I add this to the application properties: <code>spring.jackson.serialization.FAIL_ON_EMPTY_BEANS=false</code>\nand I don't want that because I don't wan't data to look like this:</p>\n<pre><code>{\n    &quot;item1&quot;: {},\n    &quot;item6&quot;: {}\n}\n</code></pre>\n<p>Commenting that entry I get the following error:</p>\n<pre><code>ERROR 26551 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.json.JSONObject]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.json.JSONObject and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: package.AggDataSuccess[&quot;aggSuccess&quot;]-&gt;java.util.HashMap[&quot;item1&quot;])] with root cause\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.json.JSONObject and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: package.AggDataSuccess[&quot;aggSuccess&quot;]-&gt;java.util.HashMap[&quot;item1&quot;])\n</code></pre>\n<p>and the weirdest part is the fact that debugging in the controller's callSuccessResp, right before sending data back to postman, I get the correct json value:</p>\n<pre><code>{\n    &quot;item1&quot;: {\n        &quot;type1&quot;: 2,\n        &quot;type5&quot;: 1\n    },\n    &quot;item6&quot;: {\n        &quot;type3&quot;: 32,\n        &quot;type26&quot;: 7,\n        &quot;type5&quot;: 9\n    }\n}\n</code></pre>\n<p>So, what can I do to get the response entity to read and serialize the JSONobject properly?</p>\n"},{"tags":["java","junit","gitlab","continuous-integration","cucumber"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689790433,"post_id":76722033,"comment_id":135264883,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":19366740,"reputation":1,"user_id":14160854,"display_name":"Hiko Txs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689774587,"creation_date":1689774587,"question_id":76722033,"body_markdown":"package runner;\r\n\r\nimport io.cucumber.junit.Cucumber;\r\n\r\n\r\nimport io.cucumber.junit.CucumberOptions;\r\nimport org.junit.runner.RunWith;\r\n\r\n\r\n@RunWith(Cucumber.class)\r\n@CucumberOptions(\r\n\r\n        plugin = {\r\n                &quot;html:target/cucumber-report.html&quot;,\r\n                &quot;rerun:target/rerun.txt&quot; ,\r\n                &quot;timeline:target/cucumber&quot;,\r\n        },\r\n        features = &quot;src/test/resources/feature&quot;,\r\n        glue = &quot;steps&quot;,\r\n        dryRun = false,\r\n        tags = &quot;@wi&quot;\r\n        \r\n)\r\npublic class  CukesRunner {\r\n\r\n}\r\nI want to change tags dynamically I tried almost everything doesn&#39;t work I use gradle \r\n\r\nI tried to following ways :\r\n./gradlew test -Dcucumber.filter.tags=&quot;@yourTag&quot; many other ways still can&#39;t find a way","title":"Is there any way I can change My Cucumber tags on gitlab ci/cd format","body":"<p>package runner;</p>\n<p>import io.cucumber.junit.Cucumber;</p>\n<p>import io.cucumber.junit.CucumberOptions;\nimport org.junit.runner.RunWith;</p>\n<p>@RunWith(Cucumber.class)\n@CucumberOptions(</p>\n<pre><code>    plugin = {\n            &quot;html:target/cucumber-report.html&quot;,\n            &quot;rerun:target/rerun.txt&quot; ,\n            &quot;timeline:target/cucumber&quot;,\n    },\n    features = &quot;src/test/resources/feature&quot;,\n    glue = &quot;steps&quot;,\n    dryRun = false,\n    tags = &quot;@wi&quot;\n    \n</code></pre>\n<p>)\npublic class  CukesRunner {</p>\n<p>}\nI want to change tags dynamically I tried almost everything doesn't work I use gradle</p>\n<p>I tried to following ways :\n./gradlew test -Dcucumber.filter.tags=&quot;@yourTag&quot; many other ways still can't find a way</p>\n"},{"tags":["java","json","rest"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1689774630,"post_id":76722018,"comment_id":135261189,"body_markdown":"The most obvious part is that there are no quotes around your json though there are around your other parameters. Try to add them. Also, the json is not a header. It&#39;s the query data.","body":"The most obvious part is that there are no quotes around your json though there are around your other parameters. Try to add them. Also, the json is not a header. It&#39;s the query data."},{"owner":{"account_id":12362998,"reputation":105,"user_id":13976671,"display_name":"user112a2"},"score":0,"creation_date":1689774874,"post_id":76722018,"comment_id":135261259,"body_markdown":"Thank you. Tried that, now I am getting: Error: Header name must be a valid HTTP token [&quot;{ &quot;id&quot;&quot;]","body":"Thank you. Tried that, now I am getting: Error: Header name must be a valid HTTP token [&quot;{ &quot;id&quot;&quot;]"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1689775346,"post_id":76722018,"comment_id":135261404,"body_markdown":"As I said, the data is not a header, so why are you putting it after `-H`?","body":"As I said, the data is not a header, so why are you putting it after <code>-H</code>?"}],"owner":{"account_id":12362998,"reputation":105,"user_id":13976671,"display_name":"user112a2"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689774499,"creation_date":1689774499,"question_id":76722018,"body_markdown":"I am using Postman to run the below Rest API code. After running this code, I am getting error message:     ***&quot;technical&quot;: &quot;Failed to deserialize json string to target type com.silanis.esl.api.model.Field&quot;, &quot;message&quot;: &quot;Invalid JSON***. I am not sure how to resolve this error message. I am trying to add a field to a package. How can I correct this code so that it will add a field in the package and run correctly? I am new to using Rest API, so could use some suggestions on getting this to work. \r\n\r\n    curl -X &#39;POST&#39; \\\r\n    &#39;https://sandbox.esignlive.com/api/packages/WlnHZN0WH1xKX6GHGTFbQtGPBJg=/documents/cec7f9fa480589d46a91944ca2b4e8921df2aaef094ae042/approvals/MfSNKUFMhHIB/fields&#39; \\\r\n      -H &#39;accept: application/json&#39; \\\r\n      -H &#39;Authorization: Basic api_key&#39; \\\r\n      -H  { &quot;id&quot;: &quot;date_field&quot;, &quot;name&quot;: &quot;date_field&quot;, &quot;type&quot;: &quot;INPUT&quot;,  &quot;subtype&quot;: &quot;LABEL&quot;, &quot;value&quot;: &quot;2023-01-01&quot;, &quot;page&quot;: 0, &quot;width&quot;: 269.9928097345133, &quot;height&quot;: 59.986172566371685,  &quot;top&quot;: 694.5371497050148, &quot;left&quot;: 275.8079830383481 }","title":"Failed to deserialize json string to target","body":"<p>I am using Postman to run the below Rest API code. After running this code, I am getting error message:     <em><strong>&quot;technical&quot;: &quot;Failed to deserialize json string to target type com.silanis.esl.api.model.Field&quot;, &quot;message&quot;: &quot;Invalid JSON</strong></em>. I am not sure how to resolve this error message. I am trying to add a field to a package. How can I correct this code so that it will add a field in the package and run correctly? I am new to using Rest API, so could use some suggestions on getting this to work.</p>\n<pre><code>curl -X 'POST' \\\n'https://sandbox.esignlive.com/api/packages/WlnHZN0WH1xKX6GHGTFbQtGPBJg=/documents/cec7f9fa480589d46a91944ca2b4e8921df2aaef094ae042/approvals/MfSNKUFMhHIB/fields' \\\n  -H 'accept: application/json' \\\n  -H 'Authorization: Basic api_key' \\\n  -H  { &quot;id&quot;: &quot;date_field&quot;, &quot;name&quot;: &quot;date_field&quot;, &quot;type&quot;: &quot;INPUT&quot;,  &quot;subtype&quot;: &quot;LABEL&quot;, &quot;value&quot;: &quot;2023-01-01&quot;, &quot;page&quot;: 0, &quot;width&quot;: 269.9928097345133, &quot;height&quot;: 59.986172566371685,  &quot;top&quot;: 694.5371497050148, &quot;left&quot;: 275.8079830383481 }\n</code></pre>\n"},{"tags":["java","elasticsearch","sonarqube","sonarqube-scan","sonarqube-ops"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689809908,"post_id":76721947,"comment_id":135267778,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":17852461,"reputation":1,"user_id":12967918,"display_name":"sri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689774024,"creation_date":1689774024,"question_id":76721947,"body_markdown":"I ran the sartsonar.bat file in cmd window I got the below error. \r\n\r\n```\r\nStarting SonarQube...\r\n09:29:55.707 [main] WARN org.sonar.application.config.AppSettingsLoaderImpl - Configuration file not found: C:\\sonarqube\\conf\\sonar.properties\r\n2023.07.19 09:29:55 INFO  app[][o.s.a.AppFileSystem] Cleaning or creating temp directory C:\\sonarqube\\temp\r\n2023.07.19 09:29:55 INFO  app[][o.s.a.es.EsSettings] Elasticsearch listening on [HTTP: 127.0.0.1:9001, TCP: 127.0.0.1:50044]\r\n2023.07.19 09:29:55 INFO  app[][o.s.a.ProcessLauncherImpl] Launch process[ELASTICSEARCH] from [C:\\sonarqube\\elasticsearch]: C:\\Program Files\\Java\\jdk-17\\bin\\java -Xms4m -Xmx64m -XX:+UseSerialGC -Dcli.name=server -Dcli.script=./bin/elasticsearch -Dcli.libs=lib/tools/server-cli -Des.path.home=C:\\sonarqube\\elasticsearch -Des.path.conf=C:\\sonarqube\\temp\\conf\\es -Des.distribution.type=tar -cp C:\\sonarqube\\elasticsearch\\lib\\*;C:\\sonarqube\\elasticsearch\\lib\\cli-launcher\\* org.elasticsearch.launcher.CliToolLauncher\r\n2023.07.19 09:29:56 INFO  app[][o.s.a.SchedulerImpl] Waiting for Elasticsearch to be up and running\r\n2023.07.19 09:29:56 ERROR app[][o.s.a.p.EsManagedProcess] Failed to check status\r\norg.elasticsearch.ElasticsearchException: java.util.concurrent.ExecutionException: org.elasticsearch.client.ResponseException: method [GET], host [http://127.0.0.1:9001], URI [/], status line [HTTP/1.1 404 Not Found]\r\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot;&quot;http://www.w3.org/TR/html4/strict.dtd&quot;&gt;\r\n&lt;HTML&gt;&lt;HEAD&gt;&lt;TITLE&gt;Not Found&lt;/TITLE&gt;\r\n&lt;META HTTP-EQUIV=&quot;Content-Type&quot; Content=&quot;text/html; charset=us-ascii&quot;&gt;&lt;/HEAD&gt;\r\n&lt;BODY&gt;&lt;h2&gt;Not Found&lt;/h2&gt;\r\n&lt;hr&gt;&lt;p&gt;HTTP Error 404. The requested resource is not found.&lt;/p&gt;\r\n&lt;/BODY&gt;&lt;/HTML&gt;\r\n\r\n        at org.elasticsearch.client.RestHighLevelClient.performClientRequest(RestHighLevelClient.java:2695)\r\n        at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:2171)\r\n        at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:2137)\r\n        at org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:2105)\r\n        at org.elasticsearch.client.ClusterClient.health(ClusterClient.java:151)\r\n        at org.sonar.application.es.EsConnectorImpl.getClusterHealthStatus(EsConnectorImpl.java:64)\r\n        at org.sonar.application.process.EsManagedProcess.checkStatus(EsManagedProcess.java:92)\r\n        at org.sonar.application.process.EsManagedProcess.checkOperational(EsManagedProcess.java:77)\r\n        at org.sonar.application.process.EsManagedProcess.isOperational(EsManagedProcess.java:62)\r\n        at org.sonar.application.process.ManagedProcessHandler.refreshState(ManagedProcessHandler.java:223)\r\n        at org.sonar.application.process.ManagedProcessHandler$EventWatcher.run(ManagedProcessHandler.java:288)\r\nCaused by: java.util.concurrent.ExecutionException: org.elasticsearch.client.ResponseException: method [GET], host [http://127.0.0.1:9001], URI [/], status line [HTTP/1.1 404 Not Found]\r\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot;&quot;http://www.w3.org/TR/html4/strict.dtd&quot;&gt;\r\n```\r\n\r\n\r\nI tried sonarqube 9.9, 10 and latest versions I got same error.\r\nI used jdk-17, jdk1.8.0_212.","title":"Getting 404 error while running startsonar.bat on windows 11","body":"<p>I ran the sartsonar.bat file in cmd window I got the below error.</p>\n<pre><code>Starting SonarQube...\n09:29:55.707 [main] WARN org.sonar.application.config.AppSettingsLoaderImpl - Configuration file not found: C:\\sonarqube\\conf\\sonar.properties\n2023.07.19 09:29:55 INFO  app[][o.s.a.AppFileSystem] Cleaning or creating temp directory C:\\sonarqube\\temp\n2023.07.19 09:29:55 INFO  app[][o.s.a.es.EsSettings] Elasticsearch listening on [HTTP: 127.0.0.1:9001, TCP: 127.0.0.1:50044]\n2023.07.19 09:29:55 INFO  app[][o.s.a.ProcessLauncherImpl] Launch process[ELASTICSEARCH] from [C:\\sonarqube\\elasticsearch]: C:\\Program Files\\Java\\jdk-17\\bin\\java -Xms4m -Xmx64m -XX:+UseSerialGC -Dcli.name=server -Dcli.script=./bin/elasticsearch -Dcli.libs=lib/tools/server-cli -Des.path.home=C:\\sonarqube\\elasticsearch -Des.path.conf=C:\\sonarqube\\temp\\conf\\es -Des.distribution.type=tar -cp C:\\sonarqube\\elasticsearch\\lib\\*;C:\\sonarqube\\elasticsearch\\lib\\cli-launcher\\* org.elasticsearch.launcher.CliToolLauncher\n2023.07.19 09:29:56 INFO  app[][o.s.a.SchedulerImpl] Waiting for Elasticsearch to be up and running\n2023.07.19 09:29:56 ERROR app[][o.s.a.p.EsManagedProcess] Failed to check status\norg.elasticsearch.ElasticsearchException: java.util.concurrent.ExecutionException: org.elasticsearch.client.ResponseException: method [GET], host [http://127.0.0.1:9001], URI [/], status line [HTTP/1.1 404 Not Found]\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot;&quot;http://www.w3.org/TR/html4/strict.dtd&quot;&gt;\n&lt;HTML&gt;&lt;HEAD&gt;&lt;TITLE&gt;Not Found&lt;/TITLE&gt;\n&lt;META HTTP-EQUIV=&quot;Content-Type&quot; Content=&quot;text/html; charset=us-ascii&quot;&gt;&lt;/HEAD&gt;\n&lt;BODY&gt;&lt;h2&gt;Not Found&lt;/h2&gt;\n&lt;hr&gt;&lt;p&gt;HTTP Error 404. The requested resource is not found.&lt;/p&gt;\n&lt;/BODY&gt;&lt;/HTML&gt;\n\n        at org.elasticsearch.client.RestHighLevelClient.performClientRequest(RestHighLevelClient.java:2695)\n        at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:2171)\n        at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:2137)\n        at org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:2105)\n        at org.elasticsearch.client.ClusterClient.health(ClusterClient.java:151)\n        at org.sonar.application.es.EsConnectorImpl.getClusterHealthStatus(EsConnectorImpl.java:64)\n        at org.sonar.application.process.EsManagedProcess.checkStatus(EsManagedProcess.java:92)\n        at org.sonar.application.process.EsManagedProcess.checkOperational(EsManagedProcess.java:77)\n        at org.sonar.application.process.EsManagedProcess.isOperational(EsManagedProcess.java:62)\n        at org.sonar.application.process.ManagedProcessHandler.refreshState(ManagedProcessHandler.java:223)\n        at org.sonar.application.process.ManagedProcessHandler$EventWatcher.run(ManagedProcessHandler.java:288)\nCaused by: java.util.concurrent.ExecutionException: org.elasticsearch.client.ResponseException: method [GET], host [http://127.0.0.1:9001], URI [/], status line [HTTP/1.1 404 Not Found]\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot;&quot;http://www.w3.org/TR/html4/strict.dtd&quot;&gt;\n</code></pre>\n<p>I tried sonarqube 9.9, 10 and latest versions I got same error.\nI used jdk-17, jdk1.8.0_212.</p>\n"},{"tags":["java","eclipse","gradle","build"],"owner":{"account_id":28949040,"reputation":53,"user_id":22174061,"display_name":"ash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689773942,"creation_date":1689715641,"question_id":76716646,"body_markdown":"I imported a Gradle project into Eclipse using `Gradle &gt; Existing Gradle Project`. \r\n\r\nThe project `prj-main` has subprojects `subprj-1`, `subprj-2`. \r\n\r\n`subprj-2`, requires `subprj-1`. \r\n\r\n`subprj-1` doesnt depend on anyone except the external dependencies. \r\n\r\nEclipse Markers is showing me following errors. these aren&#39;t the only errors but most peculiar ones: \r\n\r\n\r\n```\r\nDescription\tResource\tPath\tLocation\tType\r\nFailed to configure project subprj-1\tbuild.gradle\t/prj-main\tline 0\tGradle Error Marker\r\nFailed to configure project subprj-2\tbuild.gradle\t/prj-main\tline 0\tGradle Error Marker\r\n\r\nDescription\tResource\tPath\tLocation\tType\r\nThe type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files\tmodule-info.java /subprj-1/src/main/java\tline 1\tJava Problem\r\nThe type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files\tmodule-info.java /subprj-2/src/main/java\tline 1\tJava Problem\r\n```\r\n\r\n\r\nThis project is running on IntelliJ in other developers environments. \r\nIts also running in my DOS environment also. However, Im getting errors to it on Eclipse. \r\n\r\nFollowing are the `build.gradle` full-contents of resply `prj-main`, `subprj-1` and `subprj-2`. i&#39;m also giving the `module-info.java` contents at the bottom.\r\n\r\n**prj-main:**\r\n```\r\n\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n}\r\n\r\ngroup = &#39;prj-main&#39;\r\next.moduleName = &#39;com.xyz.prj-main&#39;\r\nversion = &#39;0.0.1&#39;\r\n\r\ndef compatibilityVersion = JavaVersion.VERSION_11\r\nsourceCompatibility = compatibilityVersion\r\ntargetCompatibility = compatibilityVersion\r\nepositories {\r\n    mavenCentral()\r\n    jcenter()\r\n}\r\n\r\ndependencies {\r\n    implementation project(&quot;:subprj-1&quot;)\r\n    implementation project(&quot;:subprj-2&quot;)\r\n}\r\n\r\njar {\r\n    inputs.property(&quot;moduleName&quot;, moduleName)\r\n    manifest {\r\n        attributes(&#39;Automatic-Module-Name&#39;: moduleName)\r\n    }\r\n\r\n    manifest {\r\n        attributes &#39;Automatic-Module-Name&#39;: moduleName,\r\n                &#39;Implementation-Title&#39;: &#39;xyz&#39;,\r\n                &#39;Implementation-Version&#39;: version,\r\n                &#39;Built-By&#39;: System.getProperty(&#39;user.name&#39;),\r\n                &#39;Built-Date&#39;: new Date(),\r\n                &#39;Built-JDK&#39;: System.getProperty(&#39;java.version&#39;),\r\n                &#39;Built-Gradle&#39;: gradle.gradleVersion\r\n    }\r\n}\r\n\r\nsubprojects {\r\n    afterEvaluate {\r\n        repositories {\r\n            jcenter()\r\n        }\r\n\r\n        compileJava {\r\n            inputs.property(&quot;moduleName&quot;, moduleName)\r\n            doFirst {\r\n                options.compilerArgs = [\r\n                        &#39;--module-path&#39;, classpath.asPath,\r\n                ]\r\n                classpath = files()\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\napplication {\r\n    mainClassName = &#39;com.xyz.prj-main.subprj-2.init.Start&#39;\r\n}\r\n```\r\n\r\n\r\n**subprj-1:**\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;jacoco&#39;\r\n}\r\n\r\napply from: &#39;../versions.gradle&#39;\r\n\r\ngroup = &#39;com.xyz.prj-main.subprj-1&#39;\r\next.moduleName = &#39;com.xyz.prj-main.subprj-1&#39;\r\nversion = &#39;0.0.1&#39;\r\n\r\ndef compatibilityVersion = JavaVersion.VERSION_11\r\nsourceCompatibility = compatibilityVersion\r\ntargetCompatibility = compatibilityVersion\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    jcenter()\r\n}\r\n\r\ndependencies {\r\n    // all external dependencies \r\n\r\n    // Apache commons\r\n    implementation (&quot;commons-io:commons-io:${commonsIoVersion}&quot;)\r\n    // ..\r\n}\r\n\r\njar {\r\n    inputs.property(&quot;moduleName&quot;, moduleName)\r\n    manifest {\r\n        attributes(&#39;Automatic-Module-Name&#39;: moduleName)\r\n    }\r\n    manifest {\r\n        attributes &#39;Automatic-Module-Name&#39;: moduleName,\r\n                &#39;Implementation-Title&#39;: &#39;xyz&#39;,\r\n                &#39;Implementation-Version&#39;: version,\r\n                &#39;Built-By&#39;: System.getProperty(&#39;user.name&#39;),\r\n                &#39;Built-Date&#39;: new Date(),\r\n                &#39;Built-JDK&#39;: System.getProperty(&#39;java.version&#39;),\r\n                &#39;Built-Gradle&#39;: gradle.gradleVersion\r\n    }\r\n}\r\n\r\n/* to copy all 3rd party jars in dependencies to output dir */\r\ntask copyDependencies(type: Copy) {\r\n    from configurations.compileClasspath\r\n    into &#39;build/libs&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform {\r\n        includeTags &quot;localOnly&quot;\r\n    }\r\n    testLogging {\r\n        events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\r\n    }\r\n    finalizedBy jacocoTestReport\r\n}\r\n// Set the location of the JUnit tests.\r\nsourceSets {\r\n    test {\r\n        java {\r\n            srcDirs = [&#39;src/test&#39;]\r\n        }\r\n    }\r\n}\r\n\r\njacocoTestReport {\r\n    dependsOn test\r\n    reports {\r\n        xml.enabled true\r\n        html.enabled true\r\n        csv.enabled true\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n**subprj-2:**\r\n\r\n```\r\n\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n    id &quot;net.ossindex.audit&quot; version &quot;0.4.11&quot;\r\n    id &#39;jacoco&#39;\r\n}\r\n\r\napply from: &#39;../versions.gradle&#39;\r\n\r\ngroup = &#39;com.xyz.prj-main.subprj-2&#39;\r\next.moduleName = &#39;com.xyz.prj-main.subprj-2&#39;\r\nversion = &#39;0.0.1&#39;\r\n\r\ndef compatibilityVersion = JavaVersion.VERSION_11\r\nsourceCompatibility = compatibilityVersion\r\ntargetCompatibility = compatibilityVersion\r\n\r\nrepositories {\r\n    mavenCentral()\r\n   flatDir {\r\n       dirs &#39;static-libs&#39;\r\n   }\r\n    maven {\r\n        url &quot;https://plugins.gradle.org/m2/&quot;\r\n    }\r\n    jcenter()\r\n}\r\n\r\ndependencies {\r\n    // Internal\r\n    implementation(project(&#39;:subprj-1&#39;))\r\n\r\n    // all external dependencies from here on \r\n    implementation &#39;commons-logging:commons-logging:1.2&#39;\r\n    // ..\r\n\r\n}\r\n\r\naudit {\r\n    user = System.getenv(&quot;OSS_AUDIT_USER&quot;)\r\n    token = System.getenv(&quot;OSS_AUDIT_TOKEN&quot;)\r\n    ignore = [ &#39;com.fasterxml.jackson.core:jackson-core:2.14.2&#39;]\r\n    rateLimitAsError = false\r\n}\r\n\r\napplication {\r\n//    mainModule= &#39;com.xyz.prj-main.subprj-2&#39;  // i added this line\r\n    mainClassName = &#39;com.xyz.prj-main.subprj-2.init.Start&#39;\r\n}\r\n\r\njar {\r\n    inputs.property(&quot;moduleName&quot;, moduleName)\r\n    manifest {\r\n        attributes(&#39;Automatic-Module-Name&#39;: moduleName)\r\n    }\r\n\r\n    manifest {\r\n        attributes &#39;Automatic-Module-Name&#39;: moduleName,\r\n                &#39;Implementation-Title&#39;: &#39;xyz&#39;,\r\n                &#39;Implementation-Version&#39;: version,\r\n                &#39;Built-By&#39;: System.getProperty(&#39;user.name&#39;),\r\n                &#39;Built-Date&#39;: new Date(),\r\n                &#39;Built-JDK&#39;: System.getProperty(&#39;java.version&#39;),\r\n                &#39;Built-Gradle&#39;: gradle.gradleVersion\r\n    }\r\n}\r\n\r\n/* to copy all 3rd party jars in dependencies to output dir */\r\ntask copyDependencies(type: Copy) {\r\n    from configurations.compileClasspath\r\n    into &#39;build/libs&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform {\r\n        includeTags &quot;localOnly&quot;\r\n    }\r\n    testLogging {\r\n        events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\r\n    }\r\n    finalizedBy jacocoTestReport\r\n}\r\n\r\n// Set the location of the JUnit tests.\r\nsourceSets {\r\n    test {\r\n        java {\r\n            srcDirs = [&#39;src/test&#39;]\r\n        }\r\n    }\r\n}\r\n\r\njacocoTestReport {\r\n    dependsOn test\r\n    reports {\r\n        xml.enabled true\r\n        html.enabled true\r\n        csv.enabled true\r\n    }\r\n}\r\n```\r\n\r\nFollowing is `module-info.java` of `subprj-2`. same thing on `module-info.java` of `subprj-1` -- same error to every external dependency.  \r\n\r\n\r\n```\r\nmodule com.xyz.prj-main.subprj-2 {\r\n    requires java.net.http;\r\n    // java.net.http cannor be resolved to a module  -- getting this error to every external dependency\r\n    ...\r\n\r\n    requires com.xyz.subprj-1;  // no error to this\r\n\r\n    // opens &amp; exports statements are also fine-- no errors to them\r\n    opens com.com.xyz.prj-main.subprj-2.subpackage to com.fasterxml.jackson.databind;\r\n    ...\r\n\r\n    // Exports\r\n    exports com.com.xyz.prj-main.subprj-2.subpackage to com.fasterxml.jackson.databind;\r\n    ...\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nsomething is wrong in the project structure. i can&#39;t see it. \r\n\r\nwill really appreciate the help. \r\n\r\ntried importing difft ways, manipulating the build-path by explicitly defining the module dependencies, putting dependency jars as libraries, among others. also researched on internet. \r\n","title":"Gradle project import on eclipse -- structural error","body":"<p>I imported a Gradle project into Eclipse using <code>Gradle &gt; Existing Gradle Project</code>.</p>\n<p>The project <code>prj-main</code> has subprojects <code>subprj-1</code>, <code>subprj-2</code>.</p>\n<p><code>subprj-2</code>, requires <code>subprj-1</code>.</p>\n<p><code>subprj-1</code> doesnt depend on anyone except the external dependencies.</p>\n<p>Eclipse Markers is showing me following errors. these aren't the only errors but most peculiar ones:</p>\n<pre><code>Description Resource    Path    Location    Type\nFailed to configure project subprj-1    build.gradle    /prj-main   line 0  Gradle Error Marker\nFailed to configure project subprj-2    build.gradle    /prj-main   line 0  Gradle Error Marker\n\nDescription Resource    Path    Location    Type\nThe type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files    module-info.java /subprj-1/src/main/java    line 1  Java Problem\nThe type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files    module-info.java /subprj-2/src/main/java    line 1  Java Problem\n</code></pre>\n<p>This project is running on IntelliJ in other developers environments.\nIts also running in my DOS environment also. However, Im getting errors to it on Eclipse.</p>\n<p>Following are the <code>build.gradle</code> full-contents of resply <code>prj-main</code>, <code>subprj-1</code> and <code>subprj-2</code>. i'm also giving the <code>module-info.java</code> contents at the bottom.</p>\n<p><strong>prj-main:</strong></p>\n<pre><code>\nplugins {\n    id 'java'\n    id 'application'\n}\n\ngroup = 'prj-main'\next.moduleName = 'com.xyz.prj-main'\nversion = '0.0.1'\n\ndef compatibilityVersion = JavaVersion.VERSION_11\nsourceCompatibility = compatibilityVersion\ntargetCompatibility = compatibilityVersion\nepositories {\n    mavenCentral()\n    jcenter()\n}\n\ndependencies {\n    implementation project(&quot;:subprj-1&quot;)\n    implementation project(&quot;:subprj-2&quot;)\n}\n\njar {\n    inputs.property(&quot;moduleName&quot;, moduleName)\n    manifest {\n        attributes('Automatic-Module-Name': moduleName)\n    }\n\n    manifest {\n        attributes 'Automatic-Module-Name': moduleName,\n                'Implementation-Title': 'xyz',\n                'Implementation-Version': version,\n                'Built-By': System.getProperty('user.name'),\n                'Built-Date': new Date(),\n                'Built-JDK': System.getProperty('java.version'),\n                'Built-Gradle': gradle.gradleVersion\n    }\n}\n\nsubprojects {\n    afterEvaluate {\n        repositories {\n            jcenter()\n        }\n\n        compileJava {\n            inputs.property(&quot;moduleName&quot;, moduleName)\n            doFirst {\n                options.compilerArgs = [\n                        '--module-path', classpath.asPath,\n                ]\n                classpath = files()\n            }\n        }\n    }\n}\n\napplication {\n    mainClassName = 'com.xyz.prj-main.subprj-2.init.Start'\n}\n</code></pre>\n<p><strong>subprj-1:</strong></p>\n<pre><code>plugins {\n    id 'java'\n    id 'jacoco'\n}\n\napply from: '../versions.gradle'\n\ngroup = 'com.xyz.prj-main.subprj-1'\next.moduleName = 'com.xyz.prj-main.subprj-1'\nversion = '0.0.1'\n\ndef compatibilityVersion = JavaVersion.VERSION_11\nsourceCompatibility = compatibilityVersion\ntargetCompatibility = compatibilityVersion\n\nrepositories {\n    mavenCentral()\n    jcenter()\n}\n\ndependencies {\n    // all external dependencies \n\n    // Apache commons\n    implementation (&quot;commons-io:commons-io:${commonsIoVersion}&quot;)\n    // ..\n}\n\njar {\n    inputs.property(&quot;moduleName&quot;, moduleName)\n    manifest {\n        attributes('Automatic-Module-Name': moduleName)\n    }\n    manifest {\n        attributes 'Automatic-Module-Name': moduleName,\n                'Implementation-Title': 'xyz',\n                'Implementation-Version': version,\n                'Built-By': System.getProperty('user.name'),\n                'Built-Date': new Date(),\n                'Built-JDK': System.getProperty('java.version'),\n                'Built-Gradle': gradle.gradleVersion\n    }\n}\n\n/* to copy all 3rd party jars in dependencies to output dir */\ntask copyDependencies(type: Copy) {\n    from configurations.compileClasspath\n    into 'build/libs'\n}\n\ntest {\n    useJUnitPlatform {\n        includeTags &quot;localOnly&quot;\n    }\n    testLogging {\n        events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\n    }\n    finalizedBy jacocoTestReport\n}\n// Set the location of the JUnit tests.\nsourceSets {\n    test {\n        java {\n            srcDirs = ['src/test']\n        }\n    }\n}\n\njacocoTestReport {\n    dependsOn test\n    reports {\n        xml.enabled true\n        html.enabled true\n        csv.enabled true\n    }\n}\n\n</code></pre>\n<p><strong>subprj-2:</strong></p>\n<pre><code>\nplugins {\n    id 'java'\n    id 'application'\n    id &quot;net.ossindex.audit&quot; version &quot;0.4.11&quot;\n    id 'jacoco'\n}\n\napply from: '../versions.gradle'\n\ngroup = 'com.xyz.prj-main.subprj-2'\next.moduleName = 'com.xyz.prj-main.subprj-2'\nversion = '0.0.1'\n\ndef compatibilityVersion = JavaVersion.VERSION_11\nsourceCompatibility = compatibilityVersion\ntargetCompatibility = compatibilityVersion\n\nrepositories {\n    mavenCentral()\n   flatDir {\n       dirs 'static-libs'\n   }\n    maven {\n        url &quot;https://plugins.gradle.org/m2/&quot;\n    }\n    jcenter()\n}\n\ndependencies {\n    // Internal\n    implementation(project(':subprj-1'))\n\n    // all external dependencies from here on \n    implementation 'commons-logging:commons-logging:1.2'\n    // ..\n\n}\n\naudit {\n    user = System.getenv(&quot;OSS_AUDIT_USER&quot;)\n    token = System.getenv(&quot;OSS_AUDIT_TOKEN&quot;)\n    ignore = [ 'com.fasterxml.jackson.core:jackson-core:2.14.2']\n    rateLimitAsError = false\n}\n\napplication {\n//    mainModule= 'com.xyz.prj-main.subprj-2'  // i added this line\n    mainClassName = 'com.xyz.prj-main.subprj-2.init.Start'\n}\n\njar {\n    inputs.property(&quot;moduleName&quot;, moduleName)\n    manifest {\n        attributes('Automatic-Module-Name': moduleName)\n    }\n\n    manifest {\n        attributes 'Automatic-Module-Name': moduleName,\n                'Implementation-Title': 'xyz',\n                'Implementation-Version': version,\n                'Built-By': System.getProperty('user.name'),\n                'Built-Date': new Date(),\n                'Built-JDK': System.getProperty('java.version'),\n                'Built-Gradle': gradle.gradleVersion\n    }\n}\n\n/* to copy all 3rd party jars in dependencies to output dir */\ntask copyDependencies(type: Copy) {\n    from configurations.compileClasspath\n    into 'build/libs'\n}\n\ntest {\n    useJUnitPlatform {\n        includeTags &quot;localOnly&quot;\n    }\n    testLogging {\n        events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\n    }\n    finalizedBy jacocoTestReport\n}\n\n// Set the location of the JUnit tests.\nsourceSets {\n    test {\n        java {\n            srcDirs = ['src/test']\n        }\n    }\n}\n\njacocoTestReport {\n    dependsOn test\n    reports {\n        xml.enabled true\n        html.enabled true\n        csv.enabled true\n    }\n}\n</code></pre>\n<p>Following is <code>module-info.java</code> of <code>subprj-2</code>. same thing on <code>module-info.java</code> of <code>subprj-1</code> -- same error to every external dependency.</p>\n<pre><code>module com.xyz.prj-main.subprj-2 {\n    requires java.net.http;\n    // java.net.http cannor be resolved to a module  -- getting this error to every external dependency\n    ...\n\n    requires com.xyz.subprj-1;  // no error to this\n\n    // opens &amp; exports statements are also fine-- no errors to them\n    opens com.com.xyz.prj-main.subprj-2.subpackage to com.fasterxml.jackson.databind;\n    ...\n\n    // Exports\n    exports com.com.xyz.prj-main.subprj-2.subpackage to com.fasterxml.jackson.databind;\n    ...\n}\n\n</code></pre>\n<p>something is wrong in the project structure. i can't see it.</p>\n<p>will really appreciate the help.</p>\n<p>tried importing difft ways, manipulating the build-path by explicitly defining the module dependencies, putting dependency jars as libraries, among others. also researched on internet.</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore","android-spinner"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1689762602,"post_id":76719866,"comment_id":135258165,"body_markdown":"I&#39;m having a hard time understanding what the problem is. What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m having a hard time understanding what the problem is. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":19446274,"reputation":33,"user_id":14223716,"display_name":"Khalil Laouini"},"score":0,"creation_date":1689762920,"post_id":76719866,"comment_id":135258233,"body_markdown":"the code works fine .. listen : i need to show the images name in the spinner but pass the image link to the other firestore database ..","body":"the code works fine .. listen : i need to show the images name in the spinner but pass the image link to the other firestore database .."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1689767699,"post_id":76719866,"comment_id":135259290,"body_markdown":"What do you mean by &quot;pass the image link to the other firestore database&quot;?","body":"What do you mean by &quot;pass the image link to the other firestore database&quot;?"},{"owner":{"account_id":19446274,"reputation":33,"user_id":14223716,"display_name":"Khalil Laouini"},"score":0,"creation_date":1689784793,"post_id":76719866,"comment_id":135263777,"body_markdown":"sir i rewrite the question . you could recheck","body":"sir i rewrite the question . you could recheck"}],"owner":{"account_id":19446274,"reputation":33,"user_id":14223716,"display_name":"Khalil Laouini"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689773248,"creation_date":1689759290,"question_id":76719866,"body_markdown":"I have a firestore document that contain 2 fields : name and link.\r\nI populate a spinner with this document.\r\n\r\n* When i populate the name, it pass me the name to my other firestore database.\r\n\r\n* When i populate the link, it pass me the link to my other firestore database.\r\n\r\nI want to show the name on the spinner, but when i add a data to other firestore it add the link not the name. \r\n\r\nhere is the firestore : \r\n[![enter image description here][1]][1]\r\n\r\nhere is my code :\r\n\r\n```\r\npublic class CreateData extends AppCompatActivity {\r\n    EditText League , Team1 , Team2 , Tip ;\r\n    MaterialButton Registerbtn;\r\n    FirebaseFirestore db;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_create_data);\r\n        db = FirebaseFirestore.getInstance();\r\n        League = findViewById(R.id.league);\r\n        Team1 = findViewById(R.id.team1);\r\n        Team2 = findViewById(R.id.team2);\r\n        Tip = findViewById(R.id.tip);\r\n        //Id = findViewById(R.id.idtip);\r\n        Registerbtn = findViewById(R.id.btnRegister);\r\n\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        CollectionReference imagesRef = db.collection(&quot;images&quot;);\r\n        Spinner spinner = (Spinner) findViewById(R.id.spinnercountry);\r\n        List&lt;String&gt; imageList = new ArrayList&lt;&gt;();\r\n        List&lt;String&gt; imagelink = new ArrayList&lt;&gt;();\r\n        ArrayAdapter&lt;String&gt; adaptername = new ArrayAdapter&lt;String&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, imageList);\r\n        adaptername.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner.setAdapter(adaptername);\r\n        ArrayAdapter&lt;String&gt; adapterlink = new ArrayAdapter&lt;String&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, imagelink);\r\n        adapterlink.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner.setAdapter(adapterlink);\r\n        imagesRef.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    for (QueryDocumentSnapshot document : task.getResult()) {\r\n                        String images = document.getString(&quot;name&quot;);\r\n                        imageList.add(images);\r\n                        String links = document.getString(&quot;pic&quot;);\r\n                        imagelink.add(links);\r\n                    }\r\n                    adapterlink.notifyDataSetChanged();\r\n                }\r\n            }\r\n        });\r\n\r\n        Registerbtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                //String id = Id.getText().toString();\r\n                String league = League.getText().toString();\r\n                String team1 = Team1.getText().toString();\r\n                String team2 = Team2.getText().toString();\r\n                String tip = Tip.getText().toString();\r\n                String links = spinner.getSelectedItem().toString();\r\n                Map&lt;String,Object&gt; tips = new HashMap&lt;&gt;();\r\n                //tips.put(&quot;Document ID&quot;,id);\r\n                tips.put(&quot;league&quot;,league);\r\n                tips.put(&quot;team1&quot;,team1);\r\n                tips.put(&quot;team2&quot;,team2);\r\n                tips.put(&quot;tip&quot;,tip);\r\n                tips.put(&quot;image&quot;,links);\r\n                tips.put(&quot;Created at&quot;, new Timestamp(new Date()));\r\n\r\n                db.collection(&quot;tips&quot;)\r\n                        .add(tips)\r\n                        .addOnSuccessListener(new OnSuccessListener&lt;DocumentReference&gt;() {\r\n                            @Override\r\n                            public void onSuccess(DocumentReference documentReference) {\r\n                                Toast.makeText(CreateData.this,&quot;Successful&quot;,Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }).addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull @NotNull Exception e) {\r\n\r\n                        Toast.makeText(CreateData.this,&quot;Failed&quot;,Toast.LENGTH_SHORT).show();\r\n\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/xiA5g.png","title":"Spinner passing wrong fields to my firestore database android studio java","body":"<p>I have a firestore document that contain 2 fields : name and link.\nI populate a spinner with this document.</p>\n<ul>\n<li><p>When i populate the name, it pass me the name to my other firestore database.</p>\n</li>\n<li><p>When i populate the link, it pass me the link to my other firestore database.</p>\n</li>\n</ul>\n<p>I want to show the name on the spinner, but when i add a data to other firestore it add the link not the name.</p>\n<p>here is the firestore :\n<a href=\"https://i.stack.imgur.com/xiA5g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xiA5g.png\" alt=\"enter image description here\" /></a></p>\n<p>here is my code :</p>\n<pre><code>public class CreateData extends AppCompatActivity {\n    EditText League , Team1 , Team2 , Tip ;\n    MaterialButton Registerbtn;\n    FirebaseFirestore db;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_create_data);\n        db = FirebaseFirestore.getInstance();\n        League = findViewById(R.id.league);\n        Team1 = findViewById(R.id.team1);\n        Team2 = findViewById(R.id.team2);\n        Tip = findViewById(R.id.tip);\n        //Id = findViewById(R.id.idtip);\n        Registerbtn = findViewById(R.id.btnRegister);\n\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\n        CollectionReference imagesRef = db.collection(&quot;images&quot;);\n        Spinner spinner = (Spinner) findViewById(R.id.spinnercountry);\n        List&lt;String&gt; imageList = new ArrayList&lt;&gt;();\n        List&lt;String&gt; imagelink = new ArrayList&lt;&gt;();\n        ArrayAdapter&lt;String&gt; adaptername = new ArrayAdapter&lt;String&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, imageList);\n        adaptername.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner.setAdapter(adaptername);\n        ArrayAdapter&lt;String&gt; adapterlink = new ArrayAdapter&lt;String&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, imagelink);\n        adapterlink.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner.setAdapter(adapterlink);\n        imagesRef.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                if (task.isSuccessful()) {\n                    for (QueryDocumentSnapshot document : task.getResult()) {\n                        String images = document.getString(&quot;name&quot;);\n                        imageList.add(images);\n                        String links = document.getString(&quot;pic&quot;);\n                        imagelink.add(links);\n                    }\n                    adapterlink.notifyDataSetChanged();\n                }\n            }\n        });\n\n        Registerbtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                //String id = Id.getText().toString();\n                String league = League.getText().toString();\n                String team1 = Team1.getText().toString();\n                String team2 = Team2.getText().toString();\n                String tip = Tip.getText().toString();\n                String links = spinner.getSelectedItem().toString();\n                Map&lt;String,Object&gt; tips = new HashMap&lt;&gt;();\n                //tips.put(&quot;Document ID&quot;,id);\n                tips.put(&quot;league&quot;,league);\n                tips.put(&quot;team1&quot;,team1);\n                tips.put(&quot;team2&quot;,team2);\n                tips.put(&quot;tip&quot;,tip);\n                tips.put(&quot;image&quot;,links);\n                tips.put(&quot;Created at&quot;, new Timestamp(new Date()));\n\n                db.collection(&quot;tips&quot;)\n                        .add(tips)\n                        .addOnSuccessListener(new OnSuccessListener&lt;DocumentReference&gt;() {\n                            @Override\n                            public void onSuccess(DocumentReference documentReference) {\n                                Toast.makeText(CreateData.this,&quot;Successful&quot;,Toast.LENGTH_SHORT).show();\n                            }\n                        }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull @NotNull Exception e) {\n\n                        Toast.makeText(CreateData.this,&quot;Failed&quot;,Toast.LENGTH_SHORT).show();\n\n                    }\n                });\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","serenity-bdd","appium-java"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690121251,"post_id":76721819,"comment_id":135306035,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76721819/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28898232,"reputation":1,"user_id":22133784,"display_name":"Yoan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689773082,"creation_date":1689773082,"answer_id":76721819,"question_id":76611923,"body_markdown":"I just answer my question with this code (thanks to github copilot !!! XD )\r\n\r\n    public static String getWebelementId(WebElementFacade webElementFacade) {\r\n        RemoteWebElement remoteWebElement = (RemoteWebElement) webElementFacade.getWrappedElement();\r\n        return remoteWebElement.getId();\r\n    }\r\n\r\nif this can help anyone !","title":"Serenity BDD get UID of WebelEmentFacade","body":"<p>I just answer my question with this code (thanks to github copilot !!! XD )</p>\n<pre><code>public static String getWebelementId(WebElementFacade webElementFacade) {\n    RemoteWebElement remoteWebElement = (RemoteWebElement) webElementFacade.getWrappedElement();\n    return remoteWebElement.getId();\n}\n</code></pre>\n<p>if this can help anyone !</p>\n"}],"owner":{"account_id":28898232,"reputation":1,"user_id":22133784,"display_name":"Yoan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76721819,"answer_count":1,"score":0,"last_activity_date":1689773082,"creation_date":1688468319,"question_id":76611923,"body_markdown":"I am testing Android and IOS applications, and i have an issueto get the UID of an element.\r\n\r\nWhen i evaluate the element on Intellij, i have those key and value : \r\n[Evaluation of element](https://i.stack.imgur.com/Z90he.png)\r\n\r\nWhat i want is to get the value of &quot;id&quot;, but i tried a lot of things, and Serenity doesn&#39;t know getAttribute(&quot;UID&quot;) or getAttribute(&quot;elementId&quot;) or getAttribute(&quot;id&quot;)\r\n\r\nThis is what i write for my element : \r\n[Element declaration](https://i.stack.imgur.com/r9RlT.png)\r\n\r\nAnd this the method who use the elementId i need : \r\n[Methode which use elementId](https://i.stack.imgur.com/eurqe.png)\r\nthis method works with the actual remote element but i want the Serenity WebElementFacade for some reasons, but it&#39;s not compatible with remoteElement\r\n\r\nAny idea ? \r\nThanks a lot in advance for your help !","title":"Serenity BDD get UID of WebelEmentFacade","body":"<p>I am testing Android and IOS applications, and i have an issueto get the UID of an element.</p>\n<p>When i evaluate the element on Intellij, i have those key and value :\n<a href=\"https://i.stack.imgur.com/Z90he.png\" rel=\"nofollow noreferrer\">Evaluation of element</a></p>\n<p>What i want is to get the value of &quot;id&quot;, but i tried a lot of things, and Serenity doesn't know getAttribute(&quot;UID&quot;) or getAttribute(&quot;elementId&quot;) or getAttribute(&quot;id&quot;)</p>\n<p>This is what i write for my element :\n<a href=\"https://i.stack.imgur.com/r9RlT.png\" rel=\"nofollow noreferrer\">Element declaration</a></p>\n<p>And this the method who use the elementId i need :\n<a href=\"https://i.stack.imgur.com/eurqe.png\" rel=\"nofollow noreferrer\">Methode which use elementId</a>\nthis method works with the actual remote element but i want the Serenity WebElementFacade for some reasons, but it's not compatible with remoteElement</p>\n<p>Any idea ?\nThanks a lot in advance for your help !</p>\n"},{"tags":["java","maven","code-generation","apache-axis","wsdl2code"],"answers":[{"comments":[{"owner":{"account_id":22466,"reputation":11039,"user_id":55452,"accept_rate":100,"display_name":"David J. Liszewski"},"score":0,"creation_date":1311220865,"post_id":6770789,"comment_id":8031203,"body_markdown":"Yea, that did it, thanks.  Note that POM didn&#39;t validate as is.  I got: `You cannot have two plugin executions with the same (or missing) &lt;id/&gt; elements.` message.  After adding a unique `&lt;id&gt;` to each execution, it was all good.","body":"Yea, that did it, thanks.  Note that POM didn&#39;t validate as is.  I got: <code>You cannot have two plugin executions with the same (or missing) &lt;id&#47;&gt; elements.</code> message.  After adding a unique <code>&lt;id&gt;</code> to each execution, it was all good."},{"owner":{"account_id":1612785,"reputation":2294,"user_id":1491283,"accept_rate":46,"display_name":"ArunM"},"score":0,"creation_date":1375686586,"post_id":6770789,"comment_id":26412650,"body_markdown":"What if I have 50 WSDL&#39;s that needs to be generated. Is this possible using the maven plugin ?","body":"What if I have 50 WSDL&#39;s that needs to be generated. Is this possible using the maven plugin ?"},{"owner":{"account_id":3135892,"reputation":1501,"user_id":2652405,"accept_rate":38,"display_name":"AppleBud"},"score":0,"creation_date":1389949898,"post_id":6770789,"comment_id":31890439,"body_markdown":"how can I change the output directory location to src/main/java/.. When I am doing it, it is changing the packageName and makes it src.org.example............  How can I resolve this?","body":"how can I change the output directory location to src/main/java/.. When I am doing it, it is changing the packageName and makes it src.org.example............  How can I resolve this?"},{"owner":{"account_id":165546,"reputation":18964,"user_id":389099,"accept_rate":88,"display_name":"guido"},"score":1,"creation_date":1389955101,"post_id":6770789,"comment_id":31893643,"body_markdown":"@AppleBud For the sources directory use the `${project.build.sourceDirectory}` property; however, it is not an healthy practice to generate stuff in the sources directory during the build process. So you better turn off the automatic generation in the `generate-sources` phase, by using ` &lt;phase&gt;never&lt;/phase&gt;` in the execution configuration, and then invoke the goal directly when needed.","body":"@AppleBud For the sources directory use the <code>${project.build.sourceDirectory}</code> property; however, it is not an healthy practice to generate stuff in the sources directory during the build process. So you better turn off the automatic generation in the <code>generate-sources</code> phase, by using ` &lt;phase&gt;never&lt;/phase&gt;` in the execution configuration, and then invoke the goal directly when needed."},{"owner":{"account_id":3135892,"reputation":1501,"user_id":2652405,"accept_rate":38,"display_name":"AppleBud"},"score":0,"creation_date":1389955256,"post_id":6770789,"comment_id":31893730,"body_markdown":"okie, thanks. Is there any way I can make my pom.xml to skip a particular goal?","body":"okie, thanks. Is there any way I can make my pom.xml to skip a particular goal?"},{"owner":{"account_id":165546,"reputation":18964,"user_id":389099,"accept_rate":88,"display_name":"guido"},"score":1,"creation_date":1389955432,"post_id":6770789,"comment_id":31893824,"body_markdown":"@AppleBud `goal`s are only executed when they are bound to `phase`s defined in the maven build life-cycle. By default, axis2-maven plugin binds to the generate-sources phase, so it get executed. To unbind it, as i said, and assuming you are using maven 3, just use &lt;phase/&gt; or &lt;phase&gt;never&lt;/phase&gt; (never is a non-existing phase) like described here: http://stackoverflow.com/questions/7800647/in-a-maven-multi-module-project-how-can-i-disable-a-plugin-in-one-child","body":"@AppleBud <code>goal</code>s are only executed when they are bound to <code>phase</code>s defined in the maven build life-cycle. By default, axis2-maven plugin binds to the generate-sources phase, so it get executed. To unbind it, as i said, and assuming you are using maven 3, just use &lt;phase/&gt; or &lt;phase&gt;never&lt;/phase&gt; (never is a non-existing phase) like described here: <a href=\"http://stackoverflow.com/questions/7800647/in-a-maven-multi-module-project-how-can-i-disable-a-plugin-in-one-child\" title=\"in a maven multi module project how can i disable a plugin in one child\">stackoverflow.com/questions/7800647/&hellip;</a>"}],"tags":[],"owner":{"account_id":165546,"reputation":18964,"user_id":389099,"accept_rate":88,"display_name":"guido"},"comment_count":6,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1311222463,"creation_date":1311216648,"answer_id":6770789,"question_id":6770757,"body_markdown":"You can try with this, i could not test it right now but i think should work\r\n\r\n       &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\r\n            &lt;artifactId&gt;axis2-wsdl2code-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;ws1&lt;/id&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;wsdl2code&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                       &lt;unpackClasses&gt;true&lt;/unpackClasses&gt;\r\n                       &lt;databindingName&gt;adb&lt;/databindingName&gt;\r\n                       &lt;packageName&gt;org.example.stackoverflow.axis2-maven&lt;/packageName&gt;\r\n                       &lt;wsdlFile&gt;src/main/resources/service1.wsdl&lt;/wsdlFile&gt;\r\n                       &lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\r\n                       &lt;syncMode&gt;sync&lt;/syncMode&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;ws2&lt;/id&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;wsdl2code&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                       &lt;unpackClasses&gt;true&lt;/unpackClasses&gt;\r\n                       &lt;databindingName&gt;adb&lt;/databindingName&gt;\r\n                       &lt;packageName&gt;org.example.stackoverflow.axis2-maven&lt;/packageName&gt;\r\n                       &lt;wsdlFile&gt;src/main/resources/service2.wsdl&lt;/wsdlFile&gt;\r\n                       &lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\r\n                       &lt;syncMode&gt;sync&lt;/syncMode&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n","title":"Using multiple WSDLs with Axis2 wsdl2code Maven plugin","body":"<p>You can try with this, i could not test it right now but i think should work</p>\n\n<pre><code>   &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\n        &lt;artifactId&gt;axis2-wsdl2code-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.6.0&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;ws1&lt;/id&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;wsdl2code&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                   &lt;unpackClasses&gt;true&lt;/unpackClasses&gt;\n                   &lt;databindingName&gt;adb&lt;/databindingName&gt;\n                   &lt;packageName&gt;org.example.stackoverflow.axis2-maven&lt;/packageName&gt;\n                   &lt;wsdlFile&gt;src/main/resources/service1.wsdl&lt;/wsdlFile&gt;\n                   &lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\n                   &lt;syncMode&gt;sync&lt;/syncMode&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n            &lt;execution&gt;\n                &lt;id&gt;ws2&lt;/id&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;wsdl2code&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                   &lt;unpackClasses&gt;true&lt;/unpackClasses&gt;\n                   &lt;databindingName&gt;adb&lt;/databindingName&gt;\n                   &lt;packageName&gt;org.example.stackoverflow.axis2-maven&lt;/packageName&gt;\n                   &lt;wsdlFile&gt;src/main/resources/service2.wsdl&lt;/wsdlFile&gt;\n                   &lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\n                   &lt;syncMode&gt;sync&lt;/syncMode&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":389686,"reputation":13,"user_id":4611944,"display_name":"Samuel Facchinello"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689773045,"creation_date":1689773045,"answer_id":76721808,"question_id":6770757,"body_markdown":"i know that is a old question but there is another way to risolve this:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\r\n                &lt;artifactId&gt;axis2-wsdl2code-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.8.2&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;ws1&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;wsdl2code&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;wsdlFile&gt;src/main/resources/service1.wsdl&lt;/wsdlFile&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;ws2&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;wsdl2code&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;wsdlFile&gt;src/main/resources/service2.wsdl&lt;/wsdlFile&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;unpackClasses&gt;true&lt;/unpackClasses&gt;\r\n                    &lt;databindingName&gt;adb&lt;/databindingName&gt;\r\n                    &lt;packageName&gt;org.example.stackoverflow.axis2-maven&lt;/packageName&gt;\r\n                    &lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\r\n                    &lt;syncMode&gt;sync&lt;/syncMode&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nwith that way you have a unique configuration for all wsdl","title":"Using multiple WSDLs with Axis2 wsdl2code Maven plugin","body":"<p>i know that is a old question but there is another way to risolve this:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\n            &lt;artifactId&gt;axis2-wsdl2code-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.8.2&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;ws1&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;wsdl2code&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;wsdlFile&gt;src/main/resources/service1.wsdl&lt;/wsdlFile&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;ws2&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;wsdl2code&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;wsdlFile&gt;src/main/resources/service2.wsdl&lt;/wsdlFile&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;unpackClasses&gt;true&lt;/unpackClasses&gt;\n                &lt;databindingName&gt;adb&lt;/databindingName&gt;\n                &lt;packageName&gt;org.example.stackoverflow.axis2-maven&lt;/packageName&gt;\n                &lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\n                &lt;syncMode&gt;sync&lt;/syncMode&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>with that way you have a unique configuration for all wsdl</p>\n"}],"owner":{"account_id":22466,"reputation":11039,"user_id":55452,"accept_rate":100,"display_name":"David J. Liszewski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16545,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":6770789,"answer_count":2,"score":16,"last_activity_date":1689773045,"creation_date":1311216108,"question_id":6770757,"body_markdown":"I&#39;m creating a client with Maven2 that uses several web services.  I&#39;m restricted to using `Axis2` or other framework supporting Apache `HttpClient` as an HTTP conduit because these services require integration with a managed certificate solution based on `HttpClient`.\r\n\r\nI&#39;m familiar with CXF&#39;s code-gen Maven plugin which allows multiple WSDLs to be input during code generation.  However, the Axis2 code-gen plugin can process only one WSDL at a time.  \r\n\r\nHow can I make Maven run `wsdl2code` for each WSDL during code-gen phase?  Do I need multiple profiles for this?\r\n\r\nThe build section of POM looks like this:  \r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\r\n                &lt;artifactId&gt;axis2-wsdl2code-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.6.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;wsdl2code&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;unpackClasses&gt;true&lt;/unpackClasses&gt;\r\n                    &lt;databindingName&gt;adb&lt;/databindingName&gt;\r\n                    &lt;packageName&gt;org.example.stackoverflow.axis2-maven&lt;/packageName&gt;\r\n                    &lt;!-- only one of these actually gets used by code generator --&gt;\r\n                    &lt;wsdlFile&gt;src/main/resources/service1.wsdl&lt;/wsdlFile&gt;\r\n                    &lt;wsdlFile&gt;src/main/resources/service2.wsdl&lt;/wsdlFile&gt;\r\n                    &lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\r\n                    &lt;syncMode&gt;sync&lt;/syncMode&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n### References ###\r\n* [Maven2 WSDL2Code Plug-in Guide][1]\r\n* [wsdl2code command line tool][2]\r\n\r\n\r\n  [1]: http://axis.apache.org/axis2/java/core/tools/maven-plugins/maven-wsdl2code-plugin.html\r\n  [2]: http://axis.apache.org/axis2/java/core/tools/CodegenToolReference.html","title":"Using multiple WSDLs with Axis2 wsdl2code Maven plugin","body":"<p>I'm creating a client with Maven2 that uses several web services.  I'm restricted to using <code>Axis2</code> or other framework supporting Apache <code>HttpClient</code> as an HTTP conduit because these services require integration with a managed certificate solution based on <code>HttpClient</code>.</p>\n\n<p>I'm familiar with CXF's code-gen Maven plugin which allows multiple WSDLs to be input during code generation.  However, the Axis2 code-gen plugin can process only one WSDL at a time.  </p>\n\n<p>How can I make Maven run <code>wsdl2code</code> for each WSDL during code-gen phase?  Do I need multiple profiles for this?</p>\n\n<p>The build section of POM looks like this:  </p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\n            &lt;artifactId&gt;axis2-wsdl2code-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.6.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;wsdl2code&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;unpackClasses&gt;true&lt;/unpackClasses&gt;\n                &lt;databindingName&gt;adb&lt;/databindingName&gt;\n                &lt;packageName&gt;org.example.stackoverflow.axis2-maven&lt;/packageName&gt;\n                &lt;!-- only one of these actually gets used by code generator --&gt;\n                &lt;wsdlFile&gt;src/main/resources/service1.wsdl&lt;/wsdlFile&gt;\n                &lt;wsdlFile&gt;src/main/resources/service2.wsdl&lt;/wsdlFile&gt;\n                &lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\n                &lt;syncMode&gt;sync&lt;/syncMode&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<h3>References</h3>\n\n<ul>\n<li><a href=\"http://axis.apache.org/axis2/java/core/tools/maven-plugins/maven-wsdl2code-plugin.html\" rel=\"noreferrer\">Maven2 WSDL2Code Plug-in Guide</a></li>\n<li><a href=\"http://axis.apache.org/axis2/java/core/tools/CodegenToolReference.html\" rel=\"noreferrer\">wsdl2code command line tool</a></li>\n</ul>\n"},{"tags":["java","azure"],"comments":[{"owner":{"account_id":9317612,"reputation":2936,"user_id":6917446,"display_name":"kosist"},"score":0,"creation_date":1686604021,"post_id":76460188,"comment_id":134819065,"body_markdown":"Your function simply can not process message within 10 minutes. What does it do exactly? Could you post function code (JSON is useless in this case, it&#39;s just some metadata, not the actual function&#39;s code).","body":"Your function simply can not process message within 10 minutes. What does it do exactly? Could you post function code (JSON is useless in this case, it&#39;s just some metadata, not the actual function&#39;s code)."},{"owner":{"account_id":17750472,"reputation":43,"user_id":12888728,"display_name":"schurterb"},"score":0,"creation_date":1686668221,"post_id":76460188,"comment_id":134829015,"body_markdown":"I&#39;ve added a snippet of the function&#39;s code and some reasoning as to why I don&#39;t think the problem lies there.","body":"I&#39;ve added a snippet of the function&#39;s code and some reasoning as to why I don&#39;t think the problem lies there."},{"owner":{"account_id":9317612,"reputation":2936,"user_id":6917446,"display_name":"kosist"},"score":0,"creation_date":1686671744,"post_id":76460188,"comment_id":134829894,"body_markdown":"What is your `logger`? Is it some singleton? Does it use locks, or something like that? It looks like you have deadlock.","body":"What is your <code>logger</code>? Is it some singleton? Does it use locks, or something like that? It looks like you have deadlock."},{"owner":{"account_id":17750472,"reputation":43,"user_id":12888728,"display_name":"schurterb"},"score":0,"creation_date":1686673744,"post_id":76460188,"comment_id":134830353,"body_markdown":"It is actually as singleton, but initialized like ```private static AzureDroneLogger logger = AzureDroneLogger.getInstance();```. Not quite how singletons are supposed to work, I suppose.  But ```logger.setContext``` only sets a private variable and the only synchronization is in the constructor.","body":"It is actually as singleton, but initialized like <code>private static AzureDroneLogger logger = AzureDroneLogger.getInstance();</code>. Not quite how singletons are supposed to work, I suppose.  But <code>logger.setContext</code> only sets a private variable and the only synchronization is in the constructor."},{"owner":{"account_id":9317612,"reputation":2936,"user_id":6917446,"display_name":"kosist"},"score":0,"creation_date":1686723469,"post_id":76460188,"comment_id":134836412,"body_markdown":"Just for verification sake, I&#39;d recommend to comment out all logger usage in this function, and run it multiple times. Because if it is singletone, and code does not always passes `logger.setContext` - logger might be an issue. Just check if there are timeouts without logger usage.","body":"Just for verification sake, I&#39;d recommend to comment out all logger usage in this function, and run it multiple times. Because if it is singletone, and code does not always passes <code>logger.setContext</code> - logger might be an issue. Just check if there are timeouts without logger usage."},{"owner":{"account_id":17750472,"reputation":43,"user_id":12888728,"display_name":"schurterb"},"score":0,"creation_date":1686752882,"post_id":76460188,"comment_id":134842795,"body_markdown":"I&#39;ll give that a shot, as well.  Interestingly, setting ```FUNCTIONS_WORKER_PROCESS_COUNT = 2``` in the App Settings seems to have helped significantly.  Not sure its a complete solution, though.","body":"I&#39;ll give that a shot, as well.  Interestingly, setting <code>FUNCTIONS_WORKER_PROCESS_COUNT = 2</code> in the App Settings seems to have helped significantly.  Not sure its a complete solution, though."}],"answers":[{"comments":[{"owner":{"account_id":17750472,"reputation":43,"user_id":12888728,"display_name":"schurterb"},"score":0,"creation_date":1686668379,"post_id":76460376,"comment_id":134829054,"body_markdown":"I forgot to mention that a message that normally takes 30 seconds to process might time out at other times.  The duration depends on the size and nature of the message.","body":"I forgot to mention that a message that normally takes 30 seconds to process might time out at other times.  The duration depends on the size and nature of the message."},{"owner":{"account_id":21460,"reputation":3022,"user_id":52165,"accept_rate":88,"display_name":"Tony Basallo"},"score":0,"creation_date":1689011620,"post_id":76460376,"comment_id":135149963,"body_markdown":"But did it timeout at 10 minutes? The reason why you&#39;re actually timing out might be a   whole other issue to chase down. But the error you&#39;re getting from the function is the 10 minute timeout.","body":"But did it timeout at 10 minutes? The reason why you&#39;re actually timing out might be a   whole other issue to chase down. But the error you&#39;re getting from the function is the 10 minute timeout."},{"owner":{"account_id":17750472,"reputation":43,"user_id":12888728,"display_name":"schurterb"},"score":0,"creation_date":1689772785,"post_id":76460376,"comment_id":135260642,"body_markdown":"Yes, it did timeout at 10 minutes.  Unfortunately, I never really tested the function locally, only in deployment.  Oddly enough, setting &#39;FUNCTIONS_WORKER_PROCESS_COUNT = 2&#39; in the App Settings caused the issue to disappear almost entirely.  Not sure exactly what&#39;s going on, but by now I&#39;ve been moved to another project so I won&#39;t be dealing with this issue again for some time.  I would appreciate insights to add to my knowledge base for later.","body":"Yes, it did timeout at 10 minutes.  Unfortunately, I never really tested the function locally, only in deployment.  Oddly enough, setting &#39;FUNCTIONS_WORKER_PROCESS_COUNT = 2&#39; in the App Settings caused the issue to disappear almost entirely.  Not sure exactly what&#39;s going on, but by now I&#39;ve been moved to another project so I won&#39;t be dealing with this issue again for some time.  I would appreciate insights to add to my knowledge base for later."}],"tags":[],"owner":{"account_id":21460,"reputation":3022,"user_id":52165,"accept_rate":88,"display_name":"Tony Basallo"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686604480,"creation_date":1686604480,"answer_id":76460376,"question_id":76460188,"body_markdown":"Your function is talking longer than 10 minutes to complete. Ho wlong does it talk to complete locally? When run locally, you can set the timeout to a larger value.\r\n\r\nIf it just takes too long, your options are:\r\n\r\n - App plan (no limits)\r\n - Break it up into smaller pieces\r\n - Use durable functions","title":"Azure Function triggered by Queue times out regularly","body":"<p>Your function is talking longer than 10 minutes to complete. Ho wlong does it talk to complete locally? When run locally, you can set the timeout to a larger value.</p>\n<p>If it just takes too long, your options are:</p>\n<ul>\n<li>App plan (no limits)</li>\n<li>Break it up into smaller pieces</li>\n<li>Use durable functions</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":17750472,"reputation":43,"user_id":12888728,"display_name":"schurterb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689772979,"creation_date":1689772979,"answer_id":76721795,"question_id":76460188,"body_markdown":"After much research and following some of the leads provided by the comments and other answers, I found setting `FUNCTIONS_WORKER_PROCESS_COUNT = 2` in the App Settings resulted in the issue almost completely disappearing - to the point it wasn&#39;t an issue anymore.  Whether this is a good solution or not, I don&#39;t know, but that is my results thus far.","title":"Azure Function triggered by Queue times out regularly","body":"<p>After much research and following some of the leads provided by the comments and other answers, I found setting <code>FUNCTIONS_WORKER_PROCESS_COUNT = 2</code> in the App Settings resulted in the issue almost completely disappearing - to the point it wasn't an issue anymore.  Whether this is a good solution or not, I don't know, but that is my results thus far.</p>\n"}],"owner":{"account_id":17750472,"reputation":43,"user_id":12888728,"display_name":"schurterb"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76721795,"answer_count":2,"score":0,"last_activity_date":1689772979,"creation_date":1686602471,"question_id":76460188,"body_markdown":"I have a linux Azure Function that is triggered by a Queue. Most messages that the Function attempts to process end up in the &#39;poison&#39; queue and the only logs I can see indicate that it timed out.\r\n\r\n```\r\n2023-06-12 20:00:14.132  Executing &#39;Functions.Drone&#39; (Reason=&#39;New queue message detected on &#39;drone-input-queue&#39;.&#39;, Id=6e66d069-0b09-4966-92dd-d63a8f9aa3fc)  Information\r\n2023-06-12 20:00:14.133  Trigger Details: MessageId: 3c54e04a-3d96-4ab9-ab69-3101f77a16f1, DequeueCount: 1, InsertionTime: 2023-06-12T20:00:10.000+00:00  Information\r\n2023-06-12 20:10:14.133  Timeout value of 00:10:00 exceeded by function &#39;Functions.Drone&#39; (Id: &#39;6e66d069-0b09-4966-92dd-d63a8f9aa3fc&#39;). Initiating cancellation.  Error\r\n2023-06-12 20:10:14.133  Executed &#39;{functionName}&#39; ({status}, Id={invocationId}, Duration={executionDuration}ms)  Error\r\n2023-06-12 20:10:14.133  Executed &#39;Functions.Drone&#39; (Failed, Id=6e66d069-0b09-4966-92dd-d63a8f9aa3fc, Duration=600000ms)  Error\r\n2023-06-12 20:10:14.133  Error\r\n```\r\n\r\nPotentially relevant information:\r\n- The Function App is using a Consumption plan.  I know there can be cold starts, but I see this happen, like, 90% of the time, even when messages are coming in every few minutes.\r\n- The Function App and Queue are set up using an ARM template. The Function is later deployed from an archive.\r\n- The Function is using Linux as the OS type and is running Java code.\r\n- I do occasionally see proper execution, so &#39;AzureWebJobsStorage&#39;, &#39;STORAGE_QUEUE_CONNECTION_STRING&#39;, and &#39;WEBSITE_CONTENTAZUREFILECONNECTIONSTRING&#39; should all be set correctly. \r\n- I&#39;ve double and triple checked the host.json and function.json, but here they are, for reference:\r\nhost.json\r\n```\r\n{\r\n  &quot;version&quot;: &quot;2.0&quot;,\r\n  &quot;functionTimeout&quot;: &quot;00:10:00&quot;,\r\n  &quot;extensionBundle&quot;: {\r\n    &quot;id&quot;: &quot;Microsoft.Azure.Functions.ExtensionBundle&quot;,\r\n    &quot;version&quot;: &quot;[2.*, 3.0.0)&quot;\r\n  },\r\n  &quot;extensions&quot;: {\r\n    &quot;queues&quot;: {\r\n      &quot;maxPollingInterval&quot;: &quot;00:00:02&quot;,\r\n      &quot;visibilityTimeout&quot; : &quot;00:00:30&quot;,\r\n      &quot;batchSize&quot;: 16,\r\n      &quot;maxDequeueCount&quot;: 3,\r\n      &quot;newBatchThreshold&quot;: 8\r\n    }\r\n  }\r\n}\r\n```\r\nfunction.json\r\n```\r\n{\r\n  &quot;scriptFile&quot; : &quot;../my.package.drone.jar&quot;,\r\n  &quot;entryPoint&quot; : &quot;my.package.Drone.run&quot;,\r\n  &quot;bindings&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;message&quot;,\r\n      &quot;type&quot;: &quot;queueTrigger&quot;,\r\n      &quot;direction&quot;: &quot;in&quot;,\r\n      &quot;queueName&quot;: &quot;catapult-drone-input-queue&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;output&quot;,\r\n      &quot;type&quot;: &quot;queue&quot;,\r\n      &quot;direction&quot;: &quot;out&quot;,\r\n      &quot;queueName&quot;: &quot;catapult-drone-output-queue&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n- I was initially deploying the Function with an outdated version of the CLI.  While updating that fixed some issued, it did not fix this one.  Here is the version info.\r\n```\r\n# az version\r\n{\r\n  &quot;azure-cli&quot;: &quot;2.39.0&quot;,\r\n  &quot;azure-cli-core&quot;: &quot;2.39.0&quot;,\r\n  &quot;azure-cli-telemetry&quot;: &quot;1.0.6&quot;,\r\n  &quot;extensions&quot;: {}\r\n}\r\n```\r\n```\r\n# func\r\n...\r\nAzure Functions Core Tools\r\nCore Tools Version:       3.0.4899 Commit hash: N/A  (64-bit)\r\nFunction Runtime Version: 3.17.0.0\r\n...\r\n```\r\n\r\nI suspect it might have something to do with the scaling configuration, but am at a loss for how to configure that.  Any advice would be appreciated.\r\n\r\n----------\r\n\r\nHere is a snippet of the entrypoint code:\r\n```\r\n@FunctionName(&quot;Drone&quot;)\r\npublic void run(@QueueTrigger(name = &quot;message&quot;, queueName = &quot;drone-input-queue&quot;) String message, \r\n                @QueueOutput(name = &quot;output&quot;, queueName = &quot;drone-output-queue&quot;) OutputBinding&lt;String&gt; output,\r\n                final ExecutionContext context) {\r\n    String id = UUID.randomUUID().toString();\r\n    logger.setContext(context); //custom tool for logging to context logger and/or blob\r\n    logger.info(&quot;[&quot;+id+&quot;] Start&quot;);\r\n    encryption = initializeInFlightEncryptionClient(logger);\r\n    logger.info(&quot;[&quot;+id+&quot;] encryption initialized&quot;);\r\n    jsonSigner = initializeJsonSigningUtility(logger);\r\n    logger.info(&quot;[&quot;+id+&quot;] jsonSigner initialized&quot;);\r\n    try {\r\n        // ... logic to handle message ...\r\n    }\r\n    catch(Exception e) {\r\n        logger.severe(&quot;ERROR: &quot;+e.getMessage(), e);\r\n    }\r\n    finally {\r\n        logger.closeLogFile();\r\n    }\r\n}\r\n```\r\nI forgot to mention that I have fairly extensive logging in this part of the code, so I know that, at the very least, it isn&#39;t getting past &#39;logger.setContext&#39;, which only sets a private variable to context.getLogger(). That&#39;s why I didn&#39;t bother sharing code earlier.  \r\nAlso, I have seen messsages that take only 30 seconds to process cause this timeout. If I send like 10 of them at once, the first may get processed correctly and quickly, but the next 9 tend to all have this timeout. That&#39;s why I suspect something wonky with the configuration.\r\n\r\nP.S. This is the ONLY Function in the Function App.","title":"Azure Function triggered by Queue times out regularly","body":"<p>I have a linux Azure Function that is triggered by a Queue. Most messages that the Function attempts to process end up in the 'poison' queue and the only logs I can see indicate that it timed out.</p>\n<pre><code>2023-06-12 20:00:14.132  Executing 'Functions.Drone' (Reason='New queue message detected on 'drone-input-queue'.', Id=6e66d069-0b09-4966-92dd-d63a8f9aa3fc)  Information\n2023-06-12 20:00:14.133  Trigger Details: MessageId: 3c54e04a-3d96-4ab9-ab69-3101f77a16f1, DequeueCount: 1, InsertionTime: 2023-06-12T20:00:10.000+00:00  Information\n2023-06-12 20:10:14.133  Timeout value of 00:10:00 exceeded by function 'Functions.Drone' (Id: '6e66d069-0b09-4966-92dd-d63a8f9aa3fc'). Initiating cancellation.  Error\n2023-06-12 20:10:14.133  Executed '{functionName}' ({status}, Id={invocationId}, Duration={executionDuration}ms)  Error\n2023-06-12 20:10:14.133  Executed 'Functions.Drone' (Failed, Id=6e66d069-0b09-4966-92dd-d63a8f9aa3fc, Duration=600000ms)  Error\n2023-06-12 20:10:14.133  Error\n</code></pre>\n<p>Potentially relevant information:</p>\n<ul>\n<li>The Function App is using a Consumption plan.  I know there can be cold starts, but I see this happen, like, 90% of the time, even when messages are coming in every few minutes.</li>\n<li>The Function App and Queue are set up using an ARM template. The Function is later deployed from an archive.</li>\n<li>The Function is using Linux as the OS type and is running Java code.</li>\n<li>I do occasionally see proper execution, so 'AzureWebJobsStorage', 'STORAGE_QUEUE_CONNECTION_STRING', and 'WEBSITE_CONTENTAZUREFILECONNECTIONSTRING' should all be set correctly.</li>\n<li>I've double and triple checked the host.json and function.json, but here they are, for reference:\nhost.json</li>\n</ul>\n<pre><code>{\n  &quot;version&quot;: &quot;2.0&quot;,\n  &quot;functionTimeout&quot;: &quot;00:10:00&quot;,\n  &quot;extensionBundle&quot;: {\n    &quot;id&quot;: &quot;Microsoft.Azure.Functions.ExtensionBundle&quot;,\n    &quot;version&quot;: &quot;[2.*, 3.0.0)&quot;\n  },\n  &quot;extensions&quot;: {\n    &quot;queues&quot;: {\n      &quot;maxPollingInterval&quot;: &quot;00:00:02&quot;,\n      &quot;visibilityTimeout&quot; : &quot;00:00:30&quot;,\n      &quot;batchSize&quot;: 16,\n      &quot;maxDequeueCount&quot;: 3,\n      &quot;newBatchThreshold&quot;: 8\n    }\n  }\n}\n</code></pre>\n<p>function.json</p>\n<pre><code>{\n  &quot;scriptFile&quot; : &quot;../my.package.drone.jar&quot;,\n  &quot;entryPoint&quot; : &quot;my.package.Drone.run&quot;,\n  &quot;bindings&quot;: [\n    {\n      &quot;name&quot;: &quot;message&quot;,\n      &quot;type&quot;: &quot;queueTrigger&quot;,\n      &quot;direction&quot;: &quot;in&quot;,\n      &quot;queueName&quot;: &quot;catapult-drone-input-queue&quot;\n    },\n    {\n      &quot;name&quot;: &quot;output&quot;,\n      &quot;type&quot;: &quot;queue&quot;,\n      &quot;direction&quot;: &quot;out&quot;,\n      &quot;queueName&quot;: &quot;catapult-drone-output-queue&quot;\n    }\n  ]\n}\n</code></pre>\n<ul>\n<li>I was initially deploying the Function with an outdated version of the CLI.  While updating that fixed some issued, it did not fix this one.  Here is the version info.</li>\n</ul>\n<pre><code># az version\n{\n  &quot;azure-cli&quot;: &quot;2.39.0&quot;,\n  &quot;azure-cli-core&quot;: &quot;2.39.0&quot;,\n  &quot;azure-cli-telemetry&quot;: &quot;1.0.6&quot;,\n  &quot;extensions&quot;: {}\n}\n</code></pre>\n<pre><code># func\n...\nAzure Functions Core Tools\nCore Tools Version:       3.0.4899 Commit hash: N/A  (64-bit)\nFunction Runtime Version: 3.17.0.0\n...\n</code></pre>\n<p>I suspect it might have something to do with the scaling configuration, but am at a loss for how to configure that.  Any advice would be appreciated.</p>\n<hr />\n<p>Here is a snippet of the entrypoint code:</p>\n<pre><code>@FunctionName(&quot;Drone&quot;)\npublic void run(@QueueTrigger(name = &quot;message&quot;, queueName = &quot;drone-input-queue&quot;) String message, \n                @QueueOutput(name = &quot;output&quot;, queueName = &quot;drone-output-queue&quot;) OutputBinding&lt;String&gt; output,\n                final ExecutionContext context) {\n    String id = UUID.randomUUID().toString();\n    logger.setContext(context); //custom tool for logging to context logger and/or blob\n    logger.info(&quot;[&quot;+id+&quot;] Start&quot;);\n    encryption = initializeInFlightEncryptionClient(logger);\n    logger.info(&quot;[&quot;+id+&quot;] encryption initialized&quot;);\n    jsonSigner = initializeJsonSigningUtility(logger);\n    logger.info(&quot;[&quot;+id+&quot;] jsonSigner initialized&quot;);\n    try {\n        // ... logic to handle message ...\n    }\n    catch(Exception e) {\n        logger.severe(&quot;ERROR: &quot;+e.getMessage(), e);\n    }\n    finally {\n        logger.closeLogFile();\n    }\n}\n</code></pre>\n<p>I forgot to mention that I have fairly extensive logging in this part of the code, so I know that, at the very least, it isn't getting past 'logger.setContext', which only sets a private variable to context.getLogger(). That's why I didn't bother sharing code earlier.<br />\nAlso, I have seen messsages that take only 30 seconds to process cause this timeout. If I send like 10 of them at once, the first may get processed correctly and quickly, but the next 9 tend to all have this timeout. That's why I suspect something wonky with the configuration.</p>\n<p>P.S. This is the ONLY Function in the Function App.</p>\n"},{"tags":["java","spring","spring-boot","kotlin","junit"],"comments":[{"owner":{"account_id":13462875,"reputation":1315,"user_id":9714255,"display_name":"LoukasPap"},"score":0,"creation_date":1689763719,"post_id":76720376,"comment_id":135258424,"body_markdown":"Is `&lt;select&gt;` a tag inside an XML file?","body":"Is <code>&lt;select&gt;</code> a tag inside an XML file?"},{"owner":{"account_id":25572265,"reputation":3,"user_id":19352419,"display_name":"coder"},"score":0,"creation_date":1689768579,"post_id":76720376,"comment_id":135259480,"body_markdown":"@LoukasPap  Yes, that&#39;s right!","body":"@LoukasPap  Yes, that&#39;s right!"}],"answers":[{"comments":[{"owner":{"account_id":25572265,"reputation":3,"user_id":19352419,"display_name":"coder"},"score":0,"creation_date":1689784819,"post_id":76721789,"comment_id":135263782,"body_markdown":"I didn&#39;t know there was a library like this (Xpath).\nAnd Thanks to you, able to study about Xpath. :)","body":"I didn&#39;t know there was a library like this (Xpath). And Thanks to you, able to study about Xpath. :)"}],"tags":[],"owner":{"account_id":13462875,"reputation":1315,"user_id":9714255,"display_name":"LoukasPap"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689772937,"creation_date":1689772937,"answer_id":76721789,"question_id":76720376,"body_markdown":"You can loop over these XML tags using xPath and check if `limit 1` is inside their values:\r\n\r\n1. Import the libraries and initialize objects:\r\n```java\r\nimport javax.xml.parsers.DocumentBuilder;\r\nimport javax.xml.parsers.DocumentBuilderFactory;\r\n\r\nDocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\nDocumentBuilder builder = factory.newDocumentBuilder();\r\nXPath xPath = XPathFactory.newInstance().newXPath();\r\nDocument document;\r\n```\r\n\r\n2. Convert your file in a string. There are lots of ways you can do this. Check here: https://mkyong.com/java/java-convert-file-to-string/.\r\n\r\n3. Now, we will loop over all the `select` tags and check if they contain `limit 1`. Assuming your string from **step 2** is named &quot;myXML&quot;:\r\n```java\r\ndocument = builder.parse(new InputSource(new StringReader(myXML)));\r\n\r\nString xpathSelectTag = &quot;yourXPathToSelectTag&quot;;\r\n// Count how many select tags exist\r\nInteger countTags = ((NodeList) xPath.evaluate(xpathSelectTag, document, XPathConstants.NODESET)).getLength();\r\n\r\n// loop through tags\r\nString selectValue = &quot;&quot;;\r\nfor (int i = 1; i &lt;= countTags; i++) {\r\n    selectValue = xPath.evaluate(xpathSelectTag+&quot;[&quot;+i+&quot;]&quot;, document);\r\n    if (selectValue.contains(&quot;limit 1&quot;)) {\r\n        // your code\r\n    }\r\n}\r\n```\r\n\r\nIn this block of code `xPath.evaluate(xpathSelectTag+&quot;[&quot;+i+&quot;]&quot;`, we take the value of the `select` tag that our index `i` is on. So, we loop through all of them.\r\n\r\nPlease comment for any problems so that I can help you.","title":"Is there a way to check on SpringBoot if the xml file has a common query condition?","body":"<p>You can loop over these XML tags using xPath and check if <code>limit 1</code> is inside their values:</p>\n<ol>\n<li>Import the libraries and initialize objects:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\n\nDocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\nDocumentBuilder builder = factory.newDocumentBuilder();\nXPath xPath = XPathFactory.newInstance().newXPath();\nDocument document;\n</code></pre>\n<ol start=\"2\">\n<li><p>Convert your file in a string. There are lots of ways you can do this. Check here: <a href=\"https://mkyong.com/java/java-convert-file-to-string/\" rel=\"nofollow noreferrer\">https://mkyong.com/java/java-convert-file-to-string/</a>.</p>\n</li>\n<li><p>Now, we will loop over all the <code>select</code> tags and check if they contain <code>limit 1</code>. Assuming your string from <strong>step 2</strong> is named &quot;myXML&quot;:</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>document = builder.parse(new InputSource(new StringReader(myXML)));\n\nString xpathSelectTag = &quot;yourXPathToSelectTag&quot;;\n// Count how many select tags exist\nInteger countTags = ((NodeList) xPath.evaluate(xpathSelectTag, document, XPathConstants.NODESET)).getLength();\n\n// loop through tags\nString selectValue = &quot;&quot;;\nfor (int i = 1; i &lt;= countTags; i++) {\n    selectValue = xPath.evaluate(xpathSelectTag+&quot;[&quot;+i+&quot;]&quot;, document);\n    if (selectValue.contains(&quot;limit 1&quot;)) {\n        // your code\n    }\n}\n</code></pre>\n<p>In this block of code <code>xPath.evaluate(xpathSelectTag+&quot;[&quot;+i+&quot;]&quot;</code>, we take the value of the <code>select</code> tag that our index <code>i</code> is on. So, we loop through all of them.</p>\n<p>Please comment for any problems so that I can help you.</p>\n"}],"owner":{"account_id":25572265,"reputation":3,"user_id":19352419,"display_name":"coder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76721789,"answer_count":1,"score":0,"last_activity_date":1689772937,"creation_date":1689762907,"question_id":76720376,"body_markdown":"```xml\r\n&lt;select id=&quot;findById&quot; resultType=&quot;foo&quot;&gt;\r\n   SELECT *\r\n   FROM foo_table\r\n   WHERE id = #{id}\r\n   limit 1\r\n&lt;/select&gt;\r\n\r\n&lt;select id=&quot;findByStauts&quot; resultType=&quot;foo&quot;&gt;\r\n   SELECT *\r\n   FROM foo_table\r\n   WHERE status = #{status}\r\n    limit 1\r\n&lt;/select&gt;\r\n```\r\n\r\nI want to make sure that the condition &#39;limit 1&#39; is in all queries.  \r\nIs there a way to check in Spring test ?","title":"Is there a way to check on SpringBoot if the xml file has a common query condition?","body":"<pre class=\"lang-xml prettyprint-override\"><code>&lt;select id=&quot;findById&quot; resultType=&quot;foo&quot;&gt;\n   SELECT *\n   FROM foo_table\n   WHERE id = #{id}\n   limit 1\n&lt;/select&gt;\n\n&lt;select id=&quot;findByStauts&quot; resultType=&quot;foo&quot;&gt;\n   SELECT *\n   FROM foo_table\n   WHERE status = #{status}\n    limit 1\n&lt;/select&gt;\n</code></pre>\n<p>I want to make sure that the condition 'limit 1' is in all queries.<br />\nIs there a way to check in Spring test ?</p>\n"},{"tags":["java","string","serialization","arrays"],"comments":[{"owner":{"account_id":1266491,"reputation":58077,"user_id":1223693,"accept_rate":96,"display_name":"tckmn"},"score":3,"creation_date":1372375816,"post_id":17354891,"comment_id":25183620,"body_markdown":"Well, did you try it?","body":"Well, did you try it?"},{"owner":{"account_id":1314886,"reputation":4009,"user_id":1262000,"accept_rate":70,"display_name":"vikky.rk"},"score":6,"creation_date":1372375958,"post_id":17354891,"comment_id":25183653,"body_markdown":"Yes I did and it works. But I have seen other implementations which are more complex, like http://stackoverflow.com/questions/1252468/java-converting-string-to-and-from-bytebuffer-and-associated-problems","body":"Yes I did and it works. But I have seen other implementations which are more complex, like <a href=\"http://stackoverflow.com/questions/1252468/java-converting-string-to-and-from-bytebuffer-and-associated-problems\" title=\"java converting string to and from bytebuffer and associated problems\">stackoverflow.com/questions/1252468/&hellip;</a>"},{"owner":{"account_id":1201625,"reputation":6769,"user_id":1172174,"accept_rate":80,"display_name":"Gus"},"score":1,"creation_date":1372376866,"post_id":17354891,"comment_id":25183850,"body_markdown":"@Doorknob et. al. He&#39;s missing encoding and his example (when syntax is corrected) will work, but his method is still not right.","body":"@Doorknob et. al. He&#39;s missing encoding and his example (when syntax is corrected) will work, but his method is still not right."}],"answers":[{"comments":[{"owner":{"account_id":1201625,"reputation":6769,"user_id":1172174,"accept_rate":80,"display_name":"Gus"},"score":11,"creation_date":1372376270,"post_id":17354950,"comment_id":25183730,"body_markdown":"UTF-8 is probably a better default guess than ASCII?","body":"UTF-8 is probably a better default guess than ASCII?"},{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":3,"creation_date":1372377355,"post_id":17354950,"comment_id":25183966,"body_markdown":"Neither should be specified, given the OP&#39;s use of k.getBytes(), which uses the platform&#39;s default charset.","body":"Neither should be specified, given the OP&#39;s use of k.getBytes(), which uses the platform&#39;s default charset."},{"owner":{"account_id":89255,"reputation":1811,"user_id":246376,"accept_rate":67,"display_name":"Dzmitry Lazerka"},"score":8,"creation_date":1453937741,"post_id":17354950,"comment_id":57824792,"body_markdown":"Not all buffers are backed by an array, so `.array()` may throw an exception.","body":"Not all buffers are backed by an array, so <code>.array()</code> may throw an exception."},{"owner":{"account_id":3317241,"reputation":733,"user_id":2789308,"display_name":"ScalaWilliam"},"score":1,"creation_date":1494666778,"post_id":17354950,"comment_id":74934327,"body_markdown":"Not all bytebuffers support the `.array()` method.","body":"Not all bytebuffers support the <code>.array()</code> method."},{"owner":{"account_id":1083546,"reputation":523,"user_id":1079835,"display_name":"Mahesh Pujari"},"score":0,"creation_date":1531889259,"post_id":17354950,"comment_id":89758983,"body_markdown":"new String(buffer.array(), 0, length, &quot;UTF-8&quot;)\n\ngood approach would be to specify lengths, start and end","body":"new String(buffer.array(), 0, length, &quot;UTF-8&quot;)  good approach would be to specify lengths, start and end"},{"owner":{"account_id":560736,"reputation":6316,"user_id":2148773,"accept_rate":38,"display_name":"oliver"},"score":3,"creation_date":1531906888,"post_id":17354950,"comment_id":89768233,"body_markdown":"Careful! If you use `array()`, you _must_ also use `arrayOffset()` to start at the correct position in the array! This is a subtle pitfall, because usually arrayOffset() is 0; but in those rare cases where it isn&#39;t you will get hard-to-find bugs if you don&#39;t take it into account.","body":"Careful! If you use <code>array()</code>, you <i>must</i> also use <code>arrayOffset()</code> to start at the correct position in the array! This is a subtle pitfall, because usually arrayOffset() is 0; but in those rare cases where it isn&#39;t you will get hard-to-find bugs if you don&#39;t take it into account."},{"owner":{"account_id":1765805,"reputation":5354,"user_id":1611714,"display_name":"Binita Bharati"},"score":0,"creation_date":1627556455,"post_id":17354950,"comment_id":121190421,"body_markdown":"This was the only method that worked for me on a `java.nio.ByteBuffer` instance. ```String fileContent = new String(bb.array(), StandardCharsets.UTF_8);```","body":"This was the only method that worked for me on a <code>java.nio.ByteBuffer</code> instance. <code>String fileContent = new String(bb.array(), StandardCharsets.UTF_8);</code>"}],"tags":[],"owner":{"account_id":2856521,"reputation":7352,"user_id":2452680,"accept_rate":68,"display_name":"Dan Bray"},"comment_count":7,"down_vote_count":7,"up_vote_count":25,"is_accepted":false,"score":18,"last_activity_date":1372376053,"creation_date":1372376053,"answer_id":17354950,"question_id":17354891,"body_markdown":"Try this:\r\n\r\n    new String(bytebuffer.array(), &quot;ASCII&quot;);\r\n\r\nNB. you can&#39;t correctly convert a byte array to a String without knowing its encoding.\r\n\r\nI hope this helps","title":"Java ByteBuffer to String","body":"<p>Try this:</p>\n\n<pre><code>new String(bytebuffer.array(), \"ASCII\");\n</code></pre>\n\n<p>NB. you can't correctly convert a byte array to a String without knowing its encoding.</p>\n\n<p>I hope this helps</p>\n"},{"comments":[{"owner":{"account_id":1465379,"reputation":28229,"user_id":1378388,"accept_rate":92,"display_name":"William Kinaan"},"score":0,"creation_date":1437745758,"post_id":17355227,"comment_id":51174111,"body_markdown":"and in the `ByteBuffer.get` function, the input is again an array of bytes, how can I get it? it doesn&#39;t make any sense to say again k.getbytes, does it?","body":"and in the <code>ByteBuffer.get</code> function, the input is again an array of bytes, how can I get it? it doesn&#39;t make any sense to say again k.getbytes, does it?"},{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":0,"creation_date":1437749729,"post_id":17355227,"comment_id":51176969,"body_markdown":"@WilliamKinaan - You have the byte[] you fed to `ByteBuffer.get(byte[] dst, int offset, int length)`. You you can build a String out of it with the String() constructor `String(byte[] bytes, int offset, int length, Charset charset). You can use the same offset and length values for both calls.","body":"@WilliamKinaan - You have the byte[] you fed to <code>ByteBuffer.get(byte[] dst, int offset, int length)</code>. You you can build a String out of it with the String() constructor `String(byte[] bytes, int offset, int length, Charset charset). You can use the same offset and length values for both calls."},{"owner":{"account_id":3671605,"reputation":2418,"user_id":3058674,"accept_rate":80,"display_name":"Madura Pradeep"},"score":1,"creation_date":1461144597,"post_id":17355227,"comment_id":61061179,"body_markdown":"There&#39;s no k.getBytes() method in java.nio.ByteBuffer (may be not in the version am using). So I used k.array() method which will return byte[].","body":"There&#39;s no k.getBytes() method in java.nio.ByteBuffer (may be not in the version am using). So I used k.array() method which will return byte[]."},{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":0,"creation_date":1461158089,"post_id":17355227,"comment_id":61071043,"body_markdown":"@MaduraPradeep - In the example code in the question and this answer, `k` is a String, not a ByteBuffer.","body":"@MaduraPradeep - In the example code in the question and this answer, <code>k</code> is a String, not a ByteBuffer."},{"owner":{"account_id":59864,"reputation":11232,"user_id":179014,"accept_rate":60,"display_name":"asmaier"},"score":0,"creation_date":1494262552,"post_id":17355227,"comment_id":74742072,"body_markdown":"Be aware that UTF-8 might not be the optimal charset for converting bytes to strings and vice-versa. For a 1-to-1 mapping of bytes to chars better use ISO-8859-1, see https://stackoverflow.com/questions/9098022/problems-converting-byte-array-to-string-and-back-to-byte-array","body":"Be aware that UTF-8 might not be the optimal charset for converting bytes to strings and vice-versa. For a 1-to-1 mapping of bytes to chars better use ISO-8859-1, see <a href=\"https://stackoverflow.com/questions/9098022/problems-converting-byte-array-to-string-and-back-to-byte-array\" title=\"problems converting byte array to string and back to byte array\">stackoverflow.com/questions/9098022/&hellip;</a>"},{"owner":{"account_id":2145125,"reputation":2114,"user_id":1902910,"display_name":"Dustin"},"score":0,"creation_date":1601906372,"post_id":17355227,"comment_id":113543560,"body_markdown":"There is yet another problem with this solution that bit me.  The ByteBuffer has an arrayOffset().  Normally, this only happens when you slice() a Buffer, but Android was allocating() buffers with an offset!  Extremely hard issue to find.","body":"There is yet another problem with this solution that bit me.  The ByteBuffer has an arrayOffset().  Normally, this only happens when you slice() a Buffer, but Android was allocating() buffers with an offset!  Extremely hard issue to find."}],"tags":[],"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"comment_count":6,"down_vote_count":1,"up_vote_count":91,"is_accepted":false,"score":90,"last_activity_date":1628698964,"creation_date":1372377981,"answer_id":17355227,"question_id":17354891,"body_markdown":"***EDIT (2018):** The edited sibling [answer by @xinyongCheng is a simpler approach, and should be the accepted answer][1].*\r\n\r\nYour approach would be reasonable if you knew the bytes are in the platform&#39;s default charset. In your example, this is true because `k.getBytes()` returns the bytes in the platform&#39;s default charset.\r\n\r\nMore frequently, you&#39;ll want to specify the encoding. However, there&#39;s a simpler way to do that than the question you linked. The String API provides methods that converts between a String and a byte[] array in a particular encoding. These methods suggest using CharsetEncoder/CharsetDecoder *&quot;when more control over the decoding [encoding] process is required.&quot;*\r\n \r\nTo get the bytes from a String in a particular encoding, you can use a sibling getBytes() method:\r\n\r\n    byte[] bytes = k.getBytes( StandardCharsets.UTF_8 );\r\n\r\nTo put bytes with a particular encoding into a String, you can use a different String constructor:\r\n\r\n    String v = new String( bytes, StandardCharsets.UTF_8 );\r\n\r\nNote that `ByteBuffer.array()` is an optional operation. If you&#39;ve constructed your ByteBuffer with an array, you can use that array directly. Otherwise, if you want to be safe, use `ByteBuffer.get(byte[] dst, int offset, int length)` to get bytes from the buffer into a byte array.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/39845152/320399","title":"Java ByteBuffer to String","body":"<p><em><strong>EDIT (2018):</strong> The edited sibling <a href=\"https://stackoverflow.com/a/39845152/320399\">answer by @xinyongCheng is a simpler approach, and should be the accepted answer</a>.</em></p>\n<p>Your approach would be reasonable if you knew the bytes are in the platform's default charset. In your example, this is true because <code>k.getBytes()</code> returns the bytes in the platform's default charset.</p>\n<p>More frequently, you'll want to specify the encoding. However, there's a simpler way to do that than the question you linked. The String API provides methods that converts between a String and a byte[] array in a particular encoding. These methods suggest using CharsetEncoder/CharsetDecoder <em>&quot;when more control over the decoding [encoding] process is required.&quot;</em></p>\n<p>To get the bytes from a String in a particular encoding, you can use a sibling getBytes() method:</p>\n<pre><code>byte[] bytes = k.getBytes( StandardCharsets.UTF_8 );\n</code></pre>\n<p>To put bytes with a particular encoding into a String, you can use a different String constructor:</p>\n<pre><code>String v = new String( bytes, StandardCharsets.UTF_8 );\n</code></pre>\n<p>Note that <code>ByteBuffer.array()</code> is an optional operation. If you've constructed your ByteBuffer with an array, you can use that array directly. Otherwise, if you want to be safe, use <code>ByteBuffer.get(byte[] dst, int offset, int length)</code> to get bytes from the buffer into a byte array.</p>\n"},{"comments":[{"owner":{"account_id":2184819,"reputation":3580,"user_id":1933452,"accept_rate":95,"display_name":"Lev Kuznetsov"},"score":0,"creation_date":1487820838,"post_id":30856252,"comment_id":71959775,"body_markdown":"If the buffer is created via `ByteBuffer.wrap(bytes, offset, size)` factory `.array()` will return the entire `bytes` array. Better use the form xinyong Cheng suggested","body":"If the buffer is created via <code>ByteBuffer.wrap(bytes, offset, size)</code> factory <code>.array()</code> will return the entire <code>bytes</code> array. Better use the form xinyong Cheng suggested"},{"owner":{"account_id":122248,"reputation":2327,"user_id":315943,"display_name":"Fuwjax"},"score":0,"creation_date":1487912940,"post_id":30856252,"comment_id":72007363,"body_markdown":"The .decode() on Charset is a better solution, agreed. I do feel the context of my answer is useful information, but much less so now.","body":"The .decode() on Charset is a better solution, agreed. I do feel the context of my answer is useful information, but much less so now."},{"owner":{"account_id":560736,"reputation":6316,"user_id":2148773,"accept_rate":38,"display_name":"oliver"},"score":2,"creation_date":1531906937,"post_id":30856252,"comment_id":89768262,"body_markdown":"Careful! If you use `array()`, you _must_ also use `arrayOffset()` to start at the correct position in the array! This is a subtle pitfall, because usually arrayOffset() is 0; but in those rare cases where it isn&#39;t you will get hard-to-find bugs if you don&#39;t take it into account.","body":"Careful! If you use <code>array()</code>, you <i>must</i> also use <code>arrayOffset()</code> to start at the correct position in the array! This is a subtle pitfall, because usually arrayOffset() is 0; but in those rare cases where it isn&#39;t you will get hard-to-find bugs if you don&#39;t take it into account."}],"tags":[],"owner":{"account_id":122248,"reputation":2327,"user_id":315943,"display_name":"Fuwjax"},"comment_count":3,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1434408725,"creation_date":1434408725,"answer_id":30856252,"question_id":17354891,"body_markdown":"Just wanted to point out, it&#39;s not safe to assume ByteBuffer.array() will always work.\r\n\r\n    byte[] bytes;\r\n    if(buffer.hasArray()) {\r\n        bytes = buffer.array();\r\n    } else {\r\n        bytes = new byte[buffer.remaining()];\r\n        buffer.get(bytes);\r\n    }\r\n    String v = new String(bytes, charset);\r\n\r\nUsually buffer.hasArray() will always be true or false depending on your use case. In practice, unless you really want it to work under any circumstances, it&#39;s safe to optimize away the branch you don&#39;t need. But the rest of the answers may not work with a ByteBuffer that&#39;s been created through ByteBuffer.allocateDirect().","title":"Java ByteBuffer to String","body":"<p>Just wanted to point out, it's not safe to assume ByteBuffer.array() will always work.</p>\n\n<pre><code>byte[] bytes;\nif(buffer.hasArray()) {\n    bytes = buffer.array();\n} else {\n    bytes = new byte[buffer.remaining()];\n    buffer.get(bytes);\n}\nString v = new String(bytes, charset);\n</code></pre>\n\n<p>Usually buffer.hasArray() will always be true or false depending on your use case. In practice, unless you really want it to work under any circumstances, it's safe to optimize away the branch you don't need. But the rest of the answers may not work with a ByteBuffer that's been created through ByteBuffer.allocateDirect().</p>\n"},{"tags":[],"owner":{"account_id":5044446,"reputation":327,"user_id":4050929,"display_name":"Jas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436988610,"creation_date":1436988610,"answer_id":31439409,"question_id":17354891,"body_markdown":"Notice (aside from the encoding issue) that some of the more complicated code linked goes to the trouble of getting the &quot;active&quot; portion of the ByteBuffer in question (for example by using position and limit), rather than simply encoding all of the bytes in the entire backing array (as many of the examples in these answers do).","title":"Java ByteBuffer to String","body":"<p>Notice (aside from the encoding issue) that some of the more complicated code linked goes to the trouble of getting the \"active\" portion of the ByteBuffer in question (for example by using position and limit), rather than simply encoding all of the bytes in the entire backing array (as many of the examples in these answers do).</p>\n"},{"tags":[],"owner":{"account_id":66911,"reputation":10517,"user_id":196068,"accept_rate":100,"display_name":"Alex Yarmula"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1448666538,"creation_date":1448384130,"answer_id":33899475,"question_id":17354891,"body_markdown":"The answers referring to simply calling `array()` are not quite correct: when the buffer has been partially consumed, or is referring to a part of an array (you can `ByteBuffer.wrap` an array at a given offset, not necessarily from the beginning), we have to account for that in our calculations. This is the general solution that works for buffers in all cases (does not cover encoding):\r\n\r\n    if (myByteBuffer.hasArray()) {\r\n        return new String(myByteBuffer.array(),\r\n            myByteBuffer.arrayOffset() + myByteBuffer.position(),\r\n            myByteBuffer.remaining());\r\n    } else {\r\n        final byte[] b = new byte[myByteBuffer.remaining()];\r\n        myByteBuffer.duplicate().get(b);\r\n        return new String(b);\r\n    }\r\n\r\nFor the concerns related to encoding, see Andy Thomas&#39; answer.","title":"Java ByteBuffer to String","body":"<p>The answers referring to simply calling <code>array()</code> are not quite correct: when the buffer has been partially consumed, or is referring to a part of an array (you can <code>ByteBuffer.wrap</code> an array at a given offset, not necessarily from the beginning), we have to account for that in our calculations. This is the general solution that works for buffers in all cases (does not cover encoding):</p>\n\n<pre><code>if (myByteBuffer.hasArray()) {\n    return new String(myByteBuffer.array(),\n        myByteBuffer.arrayOffset() + myByteBuffer.position(),\n        myByteBuffer.remaining());\n} else {\n    final byte[] b = new byte[myByteBuffer.remaining()];\n    myByteBuffer.duplicate().get(b);\n    return new String(b);\n}\n</code></pre>\n\n<p>For the concerns related to encoding, see Andy Thomas' answer.</p>\n"},{"tags":[],"owner":{"account_id":199671,"reputation":148444,"user_id":445131,"accept_rate":89,"display_name":"Eric Leschinski"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510256284,"creation_date":1470681345,"answer_id":38836225,"question_id":17354891,"body_markdown":"**Convert a String to ByteBuffer, then from ByteBuffer back to String using Java:** \r\n\r\n\r\n    import java.nio.charset.Charset;\r\n    import java.nio.*;\r\n\r\n    String babel = &quot;obufscate thd&#233; alphebat and yolo!!&quot;;\r\n    System.out.println(babel);\r\n    //Convert string to ByteBuffer:\r\n    ByteBuffer babb = Charset.forName(&quot;UTF-8&quot;).encode(babel);\r\n    try{\r\n        //Convert ByteBuffer to String\r\n        System.out.println(new String(babb.array(), &quot;UTF-8&quot;));\r\n    }\r\n    catch(Exception e){\r\n        e.printStackTrace();\r\n    }\r\n\r\nWhich prints the printed bare string first, and then the ByteBuffer casted to array():\r\n\r\n    obufscate thd&#233; alphebat and yolo!!\r\n    obufscate thd&#233; alphebat and yolo!!\r\n\r\n\r\nAlso this was helpful for me, reducing the string to primitive bytes can help inspect what&#39;s going on:\r\n\r\n    String text = &quot;&quot;;\r\n    //convert utf8 text to a byte array\r\n    byte[] array = text.getBytes(&quot;UTF-8&quot;);\r\n    //convert the byte array back to a string as UTF-8\r\n    String s = new String(array, Charset.forName(&quot;UTF-8&quot;));\r\n    System.out.println(s);\r\n    //forcing strings encoded as UTF-8 as an incorrect encoding like\r\n    //say ISO-8859-1 causes strange and undefined behavior\r\n    String sISO = new String(array, Charset.forName(&quot;ISO-8859-1&quot;));\r\n    System.out.println(sISO);\r\n\r\nPrints your string interpreted as UTF-8, and then again as ISO-8859-1:\r\n\r\n    \r\n    &#227;&#227;&#227;&#171;&#227;&#161;&#227;&#175;","title":"Java ByteBuffer to String","body":"<p><strong>Convert a String to ByteBuffer, then from ByteBuffer back to String using Java:</strong> </p>\n\n<pre><code>import java.nio.charset.Charset;\nimport java.nio.*;\n\nString babel = \"obufscate thd alphebat and yolo!!\";\nSystem.out.println(babel);\n//Convert string to ByteBuffer:\nByteBuffer babb = Charset.forName(\"UTF-8\").encode(babel);\ntry{\n    //Convert ByteBuffer to String\n    System.out.println(new String(babb.array(), \"UTF-8\"));\n}\ncatch(Exception e){\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>Which prints the printed bare string first, and then the ByteBuffer casted to array():</p>\n\n<pre><code>obufscate thd alphebat and yolo!!\nobufscate thd alphebat and yolo!!\n</code></pre>\n\n<p>Also this was helpful for me, reducing the string to primitive bytes can help inspect what's going on:</p>\n\n<pre><code>String text = \"\";\n//convert utf8 text to a byte array\nbyte[] array = text.getBytes(\"UTF-8\");\n//convert the byte array back to a string as UTF-8\nString s = new String(array, Charset.forName(\"UTF-8\"));\nSystem.out.println(s);\n//forcing strings encoded as UTF-8 as an incorrect encoding like\n//say ISO-8859-1 causes strange and undefined behavior\nString sISO = new String(array, Charset.forName(\"ISO-8859-1\"));\nSystem.out.println(sISO);\n</code></pre>\n\n<p>Prints your string interpreted as UTF-8, and then again as ISO-8859-1:</p>\n\n<pre><code>\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":59864,"reputation":11232,"user_id":179014,"accept_rate":60,"display_name":"asmaier"},"score":6,"creation_date":1494406400,"post_id":39845152,"comment_id":74809511,"body_markdown":"Be aware that UTF-8 might not be the optimal charset for converting bytes to strings and vice-versa. For a 1-to-1 mapping of bytes to chars better use ISO-8859-1, see https://stackoverflow.com/questions/9098022/problems-converting-byte-array-to-string-and-back-to-byte-array.","body":"Be aware that UTF-8 might not be the optimal charset for converting bytes to strings and vice-versa. For a 1-to-1 mapping of bytes to chars better use ISO-8859-1, see <a href=\"https://stackoverflow.com/questions/9098022/problems-converting-byte-array-to-string-and-back-to-byte-array\" title=\"problems converting byte array to string and back to byte array\">stackoverflow.com/questions/9098022/&hellip;</a>."},{"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"score":2,"creation_date":1533146727,"post_id":39845152,"comment_id":90243717,"body_markdown":"Also, of you don&#39;t *really* need a string, the `CharBuffer` `decode()` returns is a `CharSequence` (like `String`), so you can avoid an extra copy and use it directly.","body":"Also, of you don&#39;t <i>really</i> need a string, the <code>CharBuffer</code> <code>decode()</code> returns is a <code>CharSequence</code> (like <code>String</code>), so you can avoid an extra copy and use it directly."},{"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"score":0,"creation_date":1637680360,"post_id":39845152,"comment_id":123887848,"body_markdown":"@DavidEhrmann CharBuffer does not have a decode method - what are you referring to here?","body":"@DavidEhrmann CharBuffer does not have a decode method - what are you referring to here?"},{"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"score":0,"creation_date":1637715599,"post_id":39845152,"comment_id":123899380,"body_markdown":"@TomAnderson `Charset` has a `decode()` method.","body":"@TomAnderson <code>Charset</code> has a <code>decode()</code> method."},{"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"score":1,"creation_date":1637940140,"post_id":39845152,"comment_id":123964144,"body_markdown":"@DavidEhrmann Ah! I completely misparsed your comment, sorry!","body":"@DavidEhrmann Ah! I completely misparsed your comment, sorry!"}],"tags":[],"owner":{"account_id":4052480,"reputation":1836,"user_id":6919141,"display_name":"xinyong Cheng"},"comment_count":5,"down_vote_count":0,"up_vote_count":168,"is_accepted":true,"score":168,"last_activity_date":1491839337,"creation_date":1475560893,"answer_id":39845152,"question_id":17354891,"body_markdown":"There is simpler approach to decode a `ByteBuffer` into a `String` without any problems, mentioned by Andy Thomas. \r\n\r\n    String s = StandardCharsets.UTF_8.decode(byteBuffer).toString();","title":"Java ByteBuffer to String","body":"<p>There is simpler approach to decode a <code>ByteBuffer</code> into a <code>String</code> without any problems, mentioned by Andy Thomas. </p>\n\n<pre><code>String s = StandardCharsets.UTF_8.decode(byteBuffer).toString();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":64038,"reputation":19424,"user_id":189247,"accept_rate":79,"display_name":"Stand with Gaza"},"score":0,"creation_date":1548306842,"post_id":49708655,"comment_id":95495868,"body_markdown":"Your code is not decoding from latin1 to utf8. While your code is correct, calling the CharBuffer utf8Buffer is somewhat misleading because it has no encoding.","body":"Your code is not decoding from latin1 to utf8. While your code is correct, calling the CharBuffer utf8Buffer is somewhat misleading because it has no encoding."}],"tags":[],"owner":{"account_id":9177295,"reputation":11910,"user_id":6856342,"display_name":""},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588428610,"creation_date":1523113141,"answer_id":49708655,"question_id":17354891,"body_markdown":"the root of this question is **how to decode bytes to string?**\r\n\r\n\r\nthis can be done with the JAVA NIO CharSet:\r\n\r\n`public final CharBuffer decode(ByteBuffer bb) \r\n`\r\n\r\n\r\n```\r\nFileChannel channel = FileChannel.open(\r\n  Paths.get(&quot;files/text-latin1.txt&quot;, StandardOpenOption.READ);\r\nByteBuffer buffer = ByteBuffer.allocate(1024);\r\nchannel.read(buffer);\r\n\r\nCharSet latin1 = StandardCharsets.ISO_8859_1;\r\nCharBuffer latin1Buffer = latin1.decode(buffer);\r\n\r\nString result = new String(latin1Buffer.array());\r\n```\r\n\r\n* First we create a channel and read it in a buffer\r\n* Then decode method decodes a Latin1 buffer to a char buffer\r\n* We can then put the result, for instance, in a String\r\n","title":"Java ByteBuffer to String","body":"<p>the root of this question is <strong>how to decode bytes to string?</strong></p>\n\n<p>this can be done with the JAVA NIO CharSet:</p>\n\n<p><code>public final CharBuffer decode(ByteBuffer bb)\n</code></p>\n\n<pre><code>FileChannel channel = FileChannel.open(\n  Paths.get(\"files/text-latin1.txt\", StandardOpenOption.READ);\nByteBuffer buffer = ByteBuffer.allocate(1024);\nchannel.read(buffer);\n\nCharSet latin1 = StandardCharsets.ISO_8859_1;\nCharBuffer latin1Buffer = latin1.decode(buffer);\n\nString result = new String(latin1Buffer.array());\n</code></pre>\n\n<ul>\n<li>First we create a channel and read it in a buffer</li>\n<li>Then decode method decodes a Latin1 buffer to a char buffer</li>\n<li>We can then put the result, for instance, in a String</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14293726,"reputation":1,"user_id":10324980,"display_name":"Koenraad Appelo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562836122,"creation_date":1562836122,"answer_id":56985574,"question_id":17354891,"body_markdown":"    private String convertFrom(String lines, String from, String to) {\r\n        ByteBuffer bb = ByteBuffer.wrap(lines.getBytes());\r\n        CharBuffer cb = Charset.forName(to).decode(bb);\r\n        return new String(Charset.forName(from).encode(cb).array());\r\n    };\r\n    public Doit(){\r\n        String concatenatedLines = convertFrom(concatenatedLines, &quot;CP1252&quot;, &quot;UTF-8&quot;);\r\n    };","title":"Java ByteBuffer to String","body":"<pre><code>private String convertFrom(String lines, String from, String to) {\n    ByteBuffer bb = ByteBuffer.wrap(lines.getBytes());\n    CharBuffer cb = Charset.forName(to).decode(bb);\n    return new String(Charset.forName(from).encode(cb).array());\n};\npublic Doit(){\n    String concatenatedLines = convertFrom(concatenatedLines, \"CP1252\", \"UTF-8\");\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16458154,"reputation":113,"user_id":11889864,"display_name":"Jitendra Asawa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597326312,"creation_date":1597326312,"answer_id":63396579,"question_id":17354891,"body_markdown":"Here is a simple function for converting a byte buffer to string:\r\n\r\n    public String byteBufferToString(ByteBuffer bufferData) {\r\n\t\tbyte[] buffer = new byte[bufferData.readableByteCount()];\r\n        // read bufferData and insert into buffer \r\n\t    data.read(buffer);\r\n        // CharsetUtil supports UTF_16, ASCII, and many more\r\n\t    String text = new String(buffer, CharsetUtil.UTF_8);\r\n\t    System.out.println(&quot;Text: &quot;+text);\r\n        return text;\r\n    }","title":"Java ByteBuffer to String","body":"<p>Here is a simple function for converting a byte buffer to string:</p>\n<pre><code>public String byteBufferToString(ByteBuffer bufferData) {\n    byte[] buffer = new byte[bufferData.readableByteCount()];\n    // read bufferData and insert into buffer \n    data.read(buffer);\n    // CharsetUtil supports UTF_16, ASCII, and many more\n    String text = new String(buffer, CharsetUtil.UTF_8);\n    System.out.println(&quot;Text: &quot;+text);\n    return text;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1765805,"reputation":5354,"user_id":1611714,"display_name":"Binita Bharati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627557044,"creation_date":1627557044,"answer_id":68574857,"question_id":17354891,"body_markdown":"This was the only method that worked for me on a `java.nio.ByteBuffer` instance:\r\n\r\n`String fileContent = new String(bb.array(), StandardCharsets.UTF_8);`\r\n\r\nRelated code snippet below:\r\n\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.nio.channels.FileChannel;\r\n    import java.nio.ByteBuffer;\r\n    \r\n    \r\n    Path path = Paths.get(&quot;/home/binita/testbb&quot;);\r\n    FileChannel fileChannel = FileChannel.open(path, \r\n    \t\t         EnumSet.of(StandardOpenOption.READ\r\n    \t\t            )\r\n    \t\t         );  \r\n    \t\t    \r\n    ByteBuffer bb = ByteBuffer.allocate(1024);\r\n    int bytesRead = fileChannel.read(bb);\r\n    if(bytesRead &gt; 0) {\r\n     String fileContent = new String(bb.array(), StandardCharsets.UTF_8);\r\n    }\r\n\r\n","title":"Java ByteBuffer to String","body":"<p>This was the only method that worked for me on a <code>java.nio.ByteBuffer</code> instance:</p>\n<p><code>String fileContent = new String(bb.array(), StandardCharsets.UTF_8);</code></p>\n<p>Related code snippet below:</p>\n<pre><code>import java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.channels.FileChannel;\nimport java.nio.ByteBuffer;\n\n\nPath path = Paths.get(&quot;/home/binita/testbb&quot;);\nFileChannel fileChannel = FileChannel.open(path, \n                 EnumSet.of(StandardOpenOption.READ\n                    )\n                 );  \n            \nByteBuffer bb = ByteBuffer.allocate(1024);\nint bytesRead = fileChannel.read(bb);\nif(bytesRead &gt; 0) {\n String fileContent = new String(bb.array(), StandardCharsets.UTF_8);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12327721,"reputation":1,"user_id":8994715,"display_name":"nutts786"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689772876,"creation_date":1689771905,"answer_id":76721627,"question_id":17354891,"body_markdown":"May be toooo late but here is a solution that works for me.\r\n\r\n\r\n    fun byteBufferToByteString(byteBuffer: ByteBuffer) : ByteString {\r\n            var size = byteBuffer.capacity()\r\n            byteBuffer.position(0)        \r\n            return ByteString.copyFrom(byteBuffer,size)\r\n    }\r\n\r\nNote: Setting buffer size is important here , as without that, it might give error while converting the ByteString back to bytearray at receivers end.","title":"Java ByteBuffer to String","body":"<p>May be toooo late but here is a solution that works for me.</p>\n<pre><code>fun byteBufferToByteString(byteBuffer: ByteBuffer) : ByteString {\n        var size = byteBuffer.capacity()\n        byteBuffer.position(0)        \n        return ByteString.copyFrom(byteBuffer,size)\n}\n</code></pre>\n<p>Note: Setting buffer size is important here , as without that, it might give error while converting the ByteString back to bytearray at receivers end.</p>\n"}],"owner":{"account_id":1314886,"reputation":4009,"user_id":1262000,"accept_rate":70,"display_name":"vikky.rk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266606,"favorite_count":0,"down_vote_count":4,"up_vote_count":165,"accepted_answer_id":39845152,"answer_count":12,"score":161,"last_activity_date":1689772876,"creation_date":1372375644,"question_id":17354891,"body_markdown":"Is this a correct approach to convert ByteBuffer to String in this way,\r\n\r\n    String k = &quot;abcd&quot;;\r\n    ByteBuffer b = ByteBuffer.wrap(k.getBytes());\r\n    String v = new String(b.array());\r\n\r\n    if(k.equals(v))\r\n        System.out.println(&quot;it worked&quot;);\r\n    else\r\n        System.out.println(&quot;did not work&quot;);\r\n\r\nThe reason I ask is that is this looks too simple, whereas other approaches like https://stackoverflow.com/questions/1252468/java-converting-string-to-and-from-bytebuffer-and-associated-problems looks more complex.","title":"Java ByteBuffer to String","body":"<p>Is this a correct approach to convert ByteBuffer to String in this way,</p>\n\n<pre><code>String k = \"abcd\";\nByteBuffer b = ByteBuffer.wrap(k.getBytes());\nString v = new String(b.array());\n\nif(k.equals(v))\n    System.out.println(\"it worked\");\nelse\n    System.out.println(\"did not work\");\n</code></pre>\n\n<p>The reason I ask is that is this looks too simple, whereas other approaches like <a href=\"https://stackoverflow.com/questions/1252468/java-converting-string-to-and-from-bytebuffer-and-associated-problems\">Java: Converting String to and from ByteBuffer and associated problems</a> looks more complex.</p>\n"},{"tags":["java","spring-boot","postman","ssl-certificate","mutual-authentication"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1689776200,"post_id":76676899,"comment_id":135261656,"body_markdown":"&quot;Connection timed out&quot; is a network-level error and has nothing to do with your use of certificates.  Is this Java on the same machine as the postman and telnet? Is there any kind of firewall on your system or in your network (although that usually should affect telnet too)? Are you using any kind of virtualization like docker or WSL?","body":"&quot;Connection timed out&quot; is a network-level error and has nothing to do with your use of certificates.  Is this Java on the same machine as the postman and telnet? Is there any kind of firewall on your system or in your network (although that usually should affect telnet too)? Are you using any kind of virtualization like docker or WSL?"}],"owner":{"account_id":7439934,"reputation":1,"user_id":5658000,"display_name":"dursun &#246;zt&#252;rk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689772860,"creation_date":1689233241,"question_id":76676899,"body_markdown":"I use PFX file in postman [like this](https://i.stack.imgur.com/plhmm.png) \r\nbut I want to use in spring boot as like postman.`\r\n\r\n\r\nI tried:\r\n```\r\nSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;, AccessTokenService.class.getClassLoader().getResource(&quot;security/XXX.pfx&quot;).getFile());\r\nSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;XXX&quot;);\r\nSystem.setProperty(&quot;javax.net.ssl.keyStore&quot;, AccessTokenService.class.getClassLoader().getResource(&quot;security/XXX.pfx&quot;).getFile());\r\nSystem.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, &quot;XXX&quot;);\r\n```\r\nand\r\n```\r\nSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;C:/XX/XX.pfx&quot;);\r\nSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;XXX&quot;);\r\nSystem.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;C:/XX/XX.pfx&quot;);\r\nSystem.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, &quot;XXX&quot;);\r\n```\r\n```\r\nfinal String allPassword = &quot;XXX&quot;;\r\nTrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\r\nSSLContext sslContext = SSLContextBuilder\r\n    .create()\r\n    .loadKeyMaterial(ResourceUtils.getFile(&quot;classpath:XX.pfx&quot;),\r\n                     allPassword.toCharArray(), allPassword.toCharArray())\r\n    //.loadTrustMaterial(ResourceUtils.getFile(&quot;classpath:XX.jks&quot;), allPassword.toCharArray())\r\n    .loadTrustMaterial(null, acceptingTrustStrategy)\r\n    .build();\r\nHttpClient client = HttpClients.custom()\r\n    .setSSLContext(sslContext)\r\n    .build();\r\nHttpComponentsClientHttpRequestFactory requestFactory =\r\n    new HttpComponentsClientHttpRequestFactory();\r\nrequestFactory.setHttpClient(client);\r\nRestTemplate restTemplate = new RestTemplate(requestFactory);\r\nreturn restTemplate;\r\n```\r\nbut\r\n```\r\nI/O error on GET request for &quot;https://XX.bkm.com.tr/oauth-provider/&quot;: Connect to XX.com.tr:443 [XX.com.tr/XX.XXX.XXX.55] failed: Connection timed out: connect\r\n```\r\nI can telnet XX.XXX.XXX.55 443 and when use postman with client sertificate everytinhs successfull but when I use spring boot  I am getting Connection Timed out\r\n","title":"how do i use client PFX certificate in java like i use it in postman","body":"<p>I use PFX file in postman <a href=\"https://i.stack.imgur.com/plhmm.png\" rel=\"nofollow noreferrer\">like this</a>\nbut I want to use in spring boot as like postman.`</p>\n<p>I tried:</p>\n<pre><code>System.setProperty(&quot;javax.net.ssl.trustStore&quot;, AccessTokenService.class.getClassLoader().getResource(&quot;security/XXX.pfx&quot;).getFile());\nSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;XXX&quot;);\nSystem.setProperty(&quot;javax.net.ssl.keyStore&quot;, AccessTokenService.class.getClassLoader().getResource(&quot;security/XXX.pfx&quot;).getFile());\nSystem.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, &quot;XXX&quot;);\n</code></pre>\n<p>and</p>\n<pre><code>System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;C:/XX/XX.pfx&quot;);\nSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;XXX&quot;);\nSystem.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;C:/XX/XX.pfx&quot;);\nSystem.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, &quot;XXX&quot;);\n</code></pre>\n<pre><code>final String allPassword = &quot;XXX&quot;;\nTrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\nSSLContext sslContext = SSLContextBuilder\n    .create()\n    .loadKeyMaterial(ResourceUtils.getFile(&quot;classpath:XX.pfx&quot;),\n                     allPassword.toCharArray(), allPassword.toCharArray())\n    //.loadTrustMaterial(ResourceUtils.getFile(&quot;classpath:XX.jks&quot;), allPassword.toCharArray())\n    .loadTrustMaterial(null, acceptingTrustStrategy)\n    .build();\nHttpClient client = HttpClients.custom()\n    .setSSLContext(sslContext)\n    .build();\nHttpComponentsClientHttpRequestFactory requestFactory =\n    new HttpComponentsClientHttpRequestFactory();\nrequestFactory.setHttpClient(client);\nRestTemplate restTemplate = new RestTemplate(requestFactory);\nreturn restTemplate;\n</code></pre>\n<p>but</p>\n<pre><code>I/O error on GET request for &quot;https://XX.bkm.com.tr/oauth-provider/&quot;: Connect to XX.com.tr:443 [XX.com.tr/XX.XXX.XXX.55] failed: Connection timed out: connect\n</code></pre>\n<p>I can telnet XX.XXX.XXX.55 443 and when use postman with client sertificate everytinhs successfull but when I use spring boot  I am getting Connection Timed out</p>\n"},{"tags":["java","sql","apache-flink","avro","flink-sql"],"owner":{"account_id":28786435,"reputation":1,"user_id":22046802,"display_name":"Hsgh775"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689772781,"creation_date":1689772745,"question_id":76721751,"body_markdown":"I have this schema of payload.avsc\r\n\r\n    {\r\n      &quot;type&quot;: &quot;record&quot;,\r\n      &quot;name&quot;: &quot;Data&quot;,\r\n      &quot;fields&quot;: [\r\n        {\r\n          &quot;name&quot;: &quot;guid&quot;,\r\n          &quot;type&quot;: {\r\n            &quot;type&quot;: &quot;array&quot;,\r\n            &quot;items&quot;: &quot;long&quot;\r\n          }\r\n        },\r\n        {\r\n          &quot;name&quot;: &quot;name1&quot;,\r\n          &quot;type&quot;: &quot;string&quot;\r\n        },\r\n        {\r\n          &quot;name&quot;: &quot;name2&quot;,\r\n          &quot;type&quot;: &quot;string&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\n\r\nhere is my code juste to extracte the 2 field name1 and name2 \r\n\r\n    package com.example;\r\n    \r\n    import org.apache.avro.Schema;\r\n    import org.apache.avro.generic.GenericDatumReader;\r\n    import org.apache.avro.generic.GenericRecord;\r\n    import org.apache.avro.io.BinaryDecoder;\r\n    import org.apache.avro.io.DatumReader;\r\n    import org.apache.avro.io.DecoderFactory;\r\n    import org.apache.flink.table.functions.ScalarFunction;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.nio.ByteBuffer;\r\n    \r\n    public class AvroDecoder extends ScalarFunction {\r\n    \r\n        private static Schema schema;\r\n    \r\n        public AvroDecoder() throws IOException {\r\n            try (InputStream inputStream = AvroDecoder.class.getResourceAsStream(&quot;/payload.avsc&quot;)) {\r\n                schema = new Schema.Parser().parse(inputStream);\r\n            }\r\n        }\r\n    \r\n        public payloadData eval(byte[] avroPayload) throws IOException {\r\n            BinaryDecoder decoder = DecoderFactory.get().binaryDecoder(avroPayload, null);\r\n    \r\n            DatumReader&lt;GenericRecord&gt; reader = new GenericDatumReader&lt;&gt;(schema);\r\n            GenericRecord genericRecord = reader.read(null, decoder);\r\n    \r\n            return new payloadData(\r\n                    \r\n                    genericRecord.get(&quot;name1&quot;).toString(),\r\n                    genericRecord.get(&quot;name2&quot;).toString()\r\n                    \r\n            );\r\n        }\r\n    \r\n     \r\n    \r\n        public static long[] convertByteBufferToLongArray(ByteBuffer byteBuffer) {\r\n            byteBuffer.rewind();\r\n            long[] result = new long[byteBuffer.remaining() / 8];\r\n            for (int i = 0; i &lt; result.length; i++) {\r\n                result[i] = byteBuffer.getLong();\r\n            }\r\n            return result;\r\n        }\r\n    \r\n        public static class payloadData {\r\n            \r\n            public String name1;\r\n            public String name2;\r\n            \r\n    \r\n            public payloadData( String name1, String name2 ) {\r\n                \r\n                this.name1 = name1;\r\n                this.name2 = name2;\r\n                \r\n            }\r\n    \r\n           \r\n    \r\n    \r\n            public String getName1() {\r\n                return name1;\r\n            }\r\n    \r\n            public String getName2() {\r\n                return name2;\r\n            }\r\n        }\r\n    }\r\n\r\nAfter that I created the jar file for this project so I can use it in my flink sql client code as \r\n    \r\n\r\n    CREATE TEMPORARY FUNCTION avro_decode AS &#39;com.example.AvroDecoder&#39;;\r\n\r\n    SELECT\r\n      avro_decode(payload).name1 AS name1,\r\n      avro_decode(payload).name2 AS name2\r\n    FROM tablekafka;\r\n\r\nThis function has been accepted in flink sql, but it doesn&#39;t show me any data, I think that there is a problem in the way that I made the code. Please, any help ! \r\n","title":"Create a UDF function to decode a binary field &quot;payload&quot; based on its schema avsc","body":"<p>I have this schema of payload.avsc</p>\n<pre><code>{\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: &quot;Data&quot;,\n  &quot;fields&quot;: [\n    {\n      &quot;name&quot;: &quot;guid&quot;,\n      &quot;type&quot;: {\n        &quot;type&quot;: &quot;array&quot;,\n        &quot;items&quot;: &quot;long&quot;\n      }\n    },\n    {\n      &quot;name&quot;: &quot;name1&quot;,\n      &quot;type&quot;: &quot;string&quot;\n    },\n    {\n      &quot;name&quot;: &quot;name2&quot;,\n      &quot;type&quot;: &quot;string&quot;\n    }\n  ]\n}\n</code></pre>\n<p>here is my code juste to extracte the 2 field name1 and name2</p>\n<pre><code>package com.example;\n\nimport org.apache.avro.Schema;\nimport org.apache.avro.generic.GenericDatumReader;\nimport org.apache.avro.generic.GenericRecord;\nimport org.apache.avro.io.BinaryDecoder;\nimport org.apache.avro.io.DatumReader;\nimport org.apache.avro.io.DecoderFactory;\nimport org.apache.flink.table.functions.ScalarFunction;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.nio.ByteBuffer;\n\npublic class AvroDecoder extends ScalarFunction {\n\n    private static Schema schema;\n\n    public AvroDecoder() throws IOException {\n        try (InputStream inputStream = AvroDecoder.class.getResourceAsStream(&quot;/payload.avsc&quot;)) {\n            schema = new Schema.Parser().parse(inputStream);\n        }\n    }\n\n    public payloadData eval(byte[] avroPayload) throws IOException {\n        BinaryDecoder decoder = DecoderFactory.get().binaryDecoder(avroPayload, null);\n\n        DatumReader&lt;GenericRecord&gt; reader = new GenericDatumReader&lt;&gt;(schema);\n        GenericRecord genericRecord = reader.read(null, decoder);\n\n        return new payloadData(\n                \n                genericRecord.get(&quot;name1&quot;).toString(),\n                genericRecord.get(&quot;name2&quot;).toString()\n                \n        );\n    }\n\n \n\n    public static long[] convertByteBufferToLongArray(ByteBuffer byteBuffer) {\n        byteBuffer.rewind();\n        long[] result = new long[byteBuffer.remaining() / 8];\n        for (int i = 0; i &lt; result.length; i++) {\n            result[i] = byteBuffer.getLong();\n        }\n        return result;\n    }\n\n    public static class payloadData {\n        \n        public String name1;\n        public String name2;\n        \n\n        public payloadData( String name1, String name2 ) {\n            \n            this.name1 = name1;\n            this.name2 = name2;\n            \n        }\n\n       \n\n\n        public String getName1() {\n            return name1;\n        }\n\n        public String getName2() {\n            return name2;\n        }\n    }\n}\n</code></pre>\n<p>After that I created the jar file for this project so I can use it in my flink sql client code as</p>\n<pre><code>CREATE TEMPORARY FUNCTION avro_decode AS 'com.example.AvroDecoder';\n\nSELECT\n  avro_decode(payload).name1 AS name1,\n  avro_decode(payload).name2 AS name2\nFROM tablekafka;\n</code></pre>\n<p>This function has been accepted in flink sql, but it doesn't show me any data, I think that there is a problem in the way that I made the code. Please, any help !</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689772768,"creation_date":1652658956,"answer_id":72252991,"question_id":72252980,"body_markdown":"If neither of the toasts you have in the `onComplete` method are showing, then it may be that you downloaded the `google-services.json` file before you created your database. If that&#39;s the case, the file doesn&#39;t contain the database URL, and thus the client can&#39;t find your database on the server.\r\n\r\nIn that case, you can solve it by:\r\n\r\n* either download an updated `google-services.json` file, replacing the one in your project with it, and rebuilding the app.\r\n* or you can specify the URL for your database in the code, like this: `FirebaseDatabase.getInstance(&quot;https://hobby-tracker-a914f-default-rtdb.europe-west1.firebasedatabase.app/&quot;).getReference(&quot;Users&quot;)...`\r\n\r\nAlso see: https://stackoverflow.com/questions/68173632/google-firebase-real-time-database-not-working-as-everything-is-set-correctly/68179677#68179677","title":"Firebase Authenticated but not storing in real time database","body":"<p>If neither of the toasts you have in the <code>onComplete</code> method are showing, then it may be that you downloaded the <code>google-services.json</code> file before you created your database. If that's the case, the file doesn't contain the database URL, and thus the client can't find your database on the server.</p>\n<p>In that case, you can solve it by:</p>\n<ul>\n<li>either download an updated <code>google-services.json</code> file, replacing the one in your project with it, and rebuilding the app.</li>\n<li>or you can specify the URL for your database in the code, like this: <code>FirebaseDatabase.getInstance(&quot;https://hobby-tracker-a914f-default-rtdb.europe-west1.firebasedatabase.app/&quot;).getReference(&quot;Users&quot;)...</code></li>\n</ul>\n<p>Also see: <a href=\"https://stackoverflow.com/questions/68173632/google-firebase-real-time-database-not-working-as-everything-is-set-correctly/68179677#68179677\">Google Firebase Real-time Database Not Working as everything is set correctly</a></p>\n"}],"owner":{"account_id":25298932,"reputation":1,"user_id":19123533,"display_name":"Luke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689772768,"creation_date":1652658673,"question_id":72252980,"body_markdown":"I have a login page which when registering a new user authenticates the data if it is validated and then is meant to store them. However, after the data is authenticated it doesn&#39;t add to the real time database. \r\n\r\nRegister java code:\r\n```\r\n        progressBar.setVisibility(View.VISIBLE);\r\n\r\n        mAuth.createUserWithEmailAndPassword(email, password)\r\n                .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n\r\n                if(task.isSuccessful()){\r\n                    User user = new User(fullname, email);\r\n\r\n                    FirebaseDatabase.getInstance().getReference(&quot;Users&quot;)\r\n                            .child(FirebaseAuth.getInstance().getCurrentUser().getUid())\r\n                            .setValue(user).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                @Override\r\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                    if(task.isSuccessful()){\r\n                                        progressBar.setVisibility(View.GONE);\r\n                                        Toast.makeText(RegisterActivity.this, &quot;User has registered successfully&quot;, Toast.LENGTH_LONG).show();\r\n                                    }\r\n                                    else{\r\n                                        Toast.makeText(RegisterActivity.this, &quot;Failed to register&quot;, Toast.LENGTH_LONG).show();\r\n                                    }\r\n                                    progressBar.setVisibility(View.GONE);\r\n                                }\r\n                            });\r\n                }\r\n                else{\r\n                    Toast.makeText(RegisterActivity.this, &quot;Failed to register22&quot;, Toast.LENGTH_LONG).show();\r\n                    progressBar.setVisibility(View.GONE);\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nDependencies:\r\n```\r\nimplementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.6.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:21.0.4&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:20.0.5&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n```\r\n\r\nI have set the rules of the database as below:\r\n```\r\n{\r\n  &quot;rules&quot;: {\r\n    &quot;.read&quot;: true,  // 2022-6-14\r\n    &quot;.write&quot;: true,  // 2022-6-14\r\n  }\r\n}\r\n```\r\n\r\nFinally my database also only shows this:\r\n```\r\nhttps://hobby-tracker-a914f-default-rtdb.europe-west1.firebasedatabase.app/\r\n:\r\nnull\r\n```\r\n\r\nDoes anyone have any clue why this is happening?","title":"Firebase Authenticated but not storing in real time database","body":"<p>I have a login page which when registering a new user authenticates the data if it is validated and then is meant to store them. However, after the data is authenticated it doesn't add to the real time database.</p>\n<p>Register java code:</p>\n<pre><code>        progressBar.setVisibility(View.VISIBLE);\n\n        mAuth.createUserWithEmailAndPassword(email, password)\n                .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n\n                if(task.isSuccessful()){\n                    User user = new User(fullname, email);\n\n                    FirebaseDatabase.getInstance().getReference(&quot;Users&quot;)\n                            .child(FirebaseAuth.getInstance().getCurrentUser().getUid())\n                            .setValue(user).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                                @Override\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                    if(task.isSuccessful()){\n                                        progressBar.setVisibility(View.GONE);\n                                        Toast.makeText(RegisterActivity.this, &quot;User has registered successfully&quot;, Toast.LENGTH_LONG).show();\n                                    }\n                                    else{\n                                        Toast.makeText(RegisterActivity.this, &quot;Failed to register&quot;, Toast.LENGTH_LONG).show();\n                                    }\n                                    progressBar.setVisibility(View.GONE);\n                                }\n                            });\n                }\n                else{\n                    Toast.makeText(RegisterActivity.this, &quot;Failed to register22&quot;, Toast.LENGTH_LONG).show();\n                    progressBar.setVisibility(View.GONE);\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>Dependencies:</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.6.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    implementation 'com.google.firebase:firebase-auth:21.0.4'\n    implementation 'com.google.firebase:firebase-database:20.0.5'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n</code></pre>\n<p>I have set the rules of the database as below:</p>\n<pre><code>{\n  &quot;rules&quot;: {\n    &quot;.read&quot;: true,  // 2022-6-14\n    &quot;.write&quot;: true,  // 2022-6-14\n  }\n}\n</code></pre>\n<p>Finally my database also only shows this:</p>\n<pre><code>https://hobby-tracker-a914f-default-rtdb.europe-west1.firebasedatabase.app/\n:\nnull\n</code></pre>\n<p>Does anyone have any clue why this is happening?</p>\n"},{"tags":["java","android","firebase-realtime-database"],"answers":[{"comments":[{"owner":{"account_id":22685083,"reputation":93,"user_id":16854861,"display_name":"Dep1111"},"score":0,"creation_date":1631076663,"post_id":69094566,"comment_id":122122467,"body_markdown":"You&#39;re right. It works now! Thank you, sir.","body":"You&#39;re right. It works now! Thank you, sir."}],"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689772723,"creation_date":1631048925,"answer_id":69094566,"question_id":69094125,"body_markdown":"My guess is that you downloaded the `google-services.json` file for the first app before you created the database. In that case the file does not contain the database URL, and the SDK can&#39;t guess it. \r\n\r\nThe fact that the local writes and reads still work is (in that case) because Firebase explicitly ensures that the local client sees its own changes, so that the app works even when the device intermittently loses its network connection.\r\n\r\nSo **if** the above is indeed the cause of the problem, you can take either of these steps to fix it:\r\n\r\n* Download an up to date `google-services.json` and use that in your app.\r\n* Explicitly specify the URL of your database in: `FirebaseDatabase database = FirebaseDatabase.getInstance(&quot;URL here&quot;);`\r\n\r\nAlso see: https://stackoverflow.com/questions/68173632/google-firebase-real-time-database-not-working-as-everything-is-set-correctly/68179677#68179677","title":"My app can&#39;t set or receive any values from Firebase, but another app can","body":"<p>My guess is that you downloaded the <code>google-services.json</code> file for the first app before you created the database. In that case the file does not contain the database URL, and the SDK can't guess it.</p>\n<p>The fact that the local writes and reads still work is (in that case) because Firebase explicitly ensures that the local client sees its own changes, so that the app works even when the device intermittently loses its network connection.</p>\n<p>So <strong>if</strong> the above is indeed the cause of the problem, you can take either of these steps to fix it:</p>\n<ul>\n<li>Download an up to date <code>google-services.json</code> and use that in your app.</li>\n<li>Explicitly specify the URL of your database in: <code>FirebaseDatabase database = FirebaseDatabase.getInstance(&quot;URL here&quot;);</code></li>\n</ul>\n<p>Also see: <a href=\"https://stackoverflow.com/questions/68173632/google-firebase-real-time-database-not-working-as-everything-is-set-correctly/68179677#68179677\">Google Firebase Real-time Database Not Working as everything is set correctly</a></p>\n"}],"owner":{"account_id":22685083,"reputation":93,"user_id":16854861,"display_name":"Dep1111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69094566,"answer_count":1,"score":0,"last_activity_date":1689772723,"creation_date":1631045884,"question_id":69094125,"body_markdown":"I created a project and add my app to it recently. I&#39;m already set Rule: **Read** and **Write** to **true** and tried a simple code to add new Value to Real Time Database console. But nothing happened. The console didn&#39;t get anything.\r\n\r\nHere is the code i use;\r\n\r\n\r\n    FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n    \r\n    DatabaseReference ref = database.getReference(&quot;Bob&quot;);\r\n    \r\n    ref.setValue(editText.getText.toString);\r\n\r\nI did try `ref.addValueEventListener` and in `onDataChange` is `textView.setText(snapshot.getValue(String.class));` The textView changes everytime I send data, even when i turn off the Wifi. Is it a problem lol?\r\n\r\nThen I created a whole new application and tried the same code, it worked very well. But i can&#39;t leave the old app to move to the new one because i have developed it for months. \r\n\r\nI tried to copy 2 gradle file, manifest.xml from the old one to the new one. But the new one still work. \r\n\r\nI also tried to remove and create new Firebase project, remove Firebase from the app and add to it again.\r\n\r\nHas anyone ever been in this situation like me?\r\n\r\n","title":"My app can&#39;t set or receive any values from Firebase, but another app can","body":"<p>I created a project and add my app to it recently. I'm already set Rule: <strong>Read</strong> and <strong>Write</strong> to <strong>true</strong> and tried a simple code to add new Value to Real Time Database console. But nothing happened. The console didn't get anything.</p>\n<p>Here is the code i use;</p>\n<pre><code>FirebaseDatabase database = FirebaseDatabase.getInstance();\n\nDatabaseReference ref = database.getReference(&quot;Bob&quot;);\n\nref.setValue(editText.getText.toString);\n</code></pre>\n<p>I did try <code>ref.addValueEventListener</code> and in <code>onDataChange</code> is <code>textView.setText(snapshot.getValue(String.class));</code> The textView changes everytime I send data, even when i turn off the Wifi. Is it a problem lol?</p>\n<p>Then I created a whole new application and tried the same code, it worked very well. But i can't leave the old app to move to the new one because i have developed it for months.</p>\n<p>I tried to copy 2 gradle file, manifest.xml from the old one to the new one. But the new one still work.</p>\n<p>I also tried to remove and create new Firebase project, remove Firebase from the app and add to it again.</p>\n<p>Has anyone ever been in this situation like me?</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":20219544,"reputation":21,"user_id":14829435,"display_name":"Gr&#233;goire"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689770039,"creation_date":1689770039,"answer_id":76721346,"question_id":76721207,"body_markdown":"Hello in your example you use [7] but on my computer it look like to be [6].\r\n\r\n    //html/body/div[6]/div[1]/ul/li[6]/a\r\n\r\nOtherwise, you could try to use something like that.\r\nIt do not use index to select element so I guess it is more reliable if the website change.\r\n\r\n    //div[@id=&quot;vl-flyout-nav&quot;]//ul//li//a[contains(text(),&#39;Refurbished&#39;)]\r\n\r\nHope this answer your question","title":"Selenium automation Mouse over action","body":"<p>Hello in your example you use [7] but on my computer it look like to be [6].</p>\n<pre><code>//html/body/div[6]/div[1]/ul/li[6]/a\n</code></pre>\n<p>Otherwise, you could try to use something like that.\nIt do not use index to select element so I guess it is more reliable if the website change.</p>\n<pre><code>//div[@id=&quot;vl-flyout-nav&quot;]//ul//li//a[contains(text(),'Refurbished')]\n</code></pre>\n<p>Hope this answer your question</p>\n"},{"tags":[],"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689772203,"creation_date":1689771649,"answer_id":76721590,"question_id":76721207,"body_markdown":"You can change your XPath expression as below:\r\n````\r\n(//a[text()=&#39;Refurbished&#39;])[1]\r\n````\r\n\r\n**Refer the working code below:**\r\n````\r\nWebDriver driver = new ChromeDriver();\r\ndriver.get(&quot;https://www.ebay.co.uk/&quot;);\r\ndriver.manage().window().maximize();\r\n\t\t\r\nWebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(30));\r\n// Click on Accept Cookie button\r\nJavascriptExecutor j = (JavascriptExecutor) driver;\r\nj.executeScript(&quot;arguments[0].click();&quot;, wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()=&#39;Accept all&#39;]&quot;))));\r\n\t\t\r\nActions action = new Actions(driver);\r\nWebElement refurbished = driver.findElement(By.xpath(&quot;(//a[text()=&#39;Refurbished&#39;])[1]&quot;));\r\naction.moveToElement(refurbished).perform();\r\n````\r\n\r\n","title":"Selenium automation Mouse over action","body":"<p>You can change your XPath expression as below:</p>\n<pre><code>(//a[text()='Refurbished'])[1]\n</code></pre>\n<p><strong>Refer the working code below:</strong></p>\n<pre><code>WebDriver driver = new ChromeDriver();\ndriver.get(&quot;https://www.ebay.co.uk/&quot;);\ndriver.manage().window().maximize();\n        \nWebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(30));\n// Click on Accept Cookie button\nJavascriptExecutor j = (JavascriptExecutor) driver;\nj.executeScript(&quot;arguments[0].click();&quot;, wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()='Accept all']&quot;))));\n        \nActions action = new Actions(driver);\nWebElement refurbished = driver.findElement(By.xpath(&quot;(//a[text()='Refurbished'])[1]&quot;));\naction.moveToElement(refurbished).perform();\n</code></pre>\n"}],"owner":{"account_id":20871669,"reputation":57,"user_id":15331462,"display_name":"taerese"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689772302,"creation_date":1689768970,"question_id":76721207,"body_markdown":"I am trying to perform a mouse-over action. Using ebay.co.uk as a case study, I want to mouse over on the category &quot;Refurbished&quot; represented by the XPath below, but I am getting an error that  \r\n````\r\nno such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;/html/body/div[7]/div[1]/ul/li[6]/a&quot;}\r\n````\r\n```\r\ndriver.get(&quot;https://www.ebay.co.uk/&quot;);\r\ndriver.manage().window().maximize();\r\nWebElement element = driver.findElement(By.xpath(&quot;/html/body/div[7]/div[1]/ul/li[6]/a&quot;));\r\nActions action = new Actions(driver);\r\naction.moveToElement(element).perform();\r\n```","title":"Selenium automation Mouse over action","body":"<p>I am trying to perform a mouse-over action. Using ebay.co.uk as a case study, I want to mouse over on the category &quot;Refurbished&quot; represented by the XPath below, but I am getting an error that</p>\n<pre><code>no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;/html/body/div[7]/div[1]/ul/li[6]/a&quot;}\n</code></pre>\n<pre><code>driver.get(&quot;https://www.ebay.co.uk/&quot;);\ndriver.manage().window().maximize();\nWebElement element = driver.findElement(By.xpath(&quot;/html/body/div[7]/div[1]/ul/li[6]/a&quot;));\nActions action = new Actions(driver);\naction.moveToElement(element).perform();\n</code></pre>\n"},{"tags":["java","spring-3","exceptionhandler"],"owner":{"account_id":26669791,"reputation":41,"user_id":20281373,"display_name":"Reid2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689772071,"creation_date":1689766702,"question_id":76720898,"body_markdown":"I&#39;m trying to add an exception handler for ResponseStatusException in my Spring 3 project.\r\n```\r\n@ControllerAdvice\r\npublic class ErrorHandler extends ResponseEntityExceptionHandler {\r\n\r\n    @Autowired\r\n    private ObjectMapper objectMapper;\r\n\r\n    @ExceptionHandler({ResponseStatusException.class})\r\n    public ResponseEntity&lt;Object&gt; handle(ResponseStatusException e) {\r\n        ObjectNode node = objectMapper.createObjectNode()\r\n                .put(&quot;code&quot;, e.getStatusCode().value())\r\n                .put(&quot;details&quot;, e.getMessage());\r\n\r\n        return ResponseEntity.status(e.getStatusCode().value())\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .body(node);\r\n    }\r\n}\r\n\r\n```\r\n\r\nBut, the handler doesn&#39;t get called when I throw an exception like this: \r\n```\r\nthrow new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;No id has been provided!&quot;);\r\n```\r\n\r\nThis approach works for other custom exceptions I have. But, it doesnt seem to trigger when using ResponseStatusException. I&#39;m not sure why. \r\n\r\nHere is my pom.xml\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"ResponseStatusException exception handler not triggered?","body":"<p>I'm trying to add an exception handler for ResponseStatusException in my Spring 3 project.</p>\n<pre><code>@ControllerAdvice\npublic class ErrorHandler extends ResponseEntityExceptionHandler {\n\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    @ExceptionHandler({ResponseStatusException.class})\n    public ResponseEntity&lt;Object&gt; handle(ResponseStatusException e) {\n        ObjectNode node = objectMapper.createObjectNode()\n                .put(&quot;code&quot;, e.getStatusCode().value())\n                .put(&quot;details&quot;, e.getMessage());\n\n        return ResponseEntity.status(e.getStatusCode().value())\n                .contentType(MediaType.APPLICATION_JSON)\n                .body(node);\n    }\n}\n\n</code></pre>\n<p>But, the handler doesn't get called when I throw an exception like this:</p>\n<pre><code>throw new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;No id has been provided!&quot;);\n</code></pre>\n<p>This approach works for other custom exceptions I have. But, it doesnt seem to trigger when using ResponseStatusException. I'm not sure why.</p>\n<p>Here is my pom.xml</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;6.0.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n                    &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","android","caching"],"answers":[{"tags":[],"owner":{"account_id":5953106,"reputation":71,"user_id":4680578,"display_name":"John"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1489762614,"creation_date":1489762614,"answer_id":42860719,"question_id":37015872,"body_markdown":"I had this same problem sometimes ago. This is my solution\r\n\r\n1. Click on File menu and\r\n2. Select Invalidate Cache/Restart\r\n3. Select Invalidate and Restart","title":"Could not open cp_init class cache for initialization script","body":"<p>I had this same problem sometimes ago. This is my solution</p>\n\n<ol>\n<li>Click on File menu and</li>\n<li>Select Invalidate Cache/Restart</li>\n<li>Select Invalidate and Restart</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11661865,"reputation":83,"user_id":8539892,"display_name":"Felix Oje"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521158830,"creation_date":1521158830,"answer_id":49311259,"question_id":37015872,"body_markdown":"Quick and dirty solution is to open `C:\\Users\\%USER_NAME%` or wherever your user directory is found, go in to `\\.gradle` and delete the `caches` file","title":"Could not open cp_init class cache for initialization script","body":"<p>Quick and dirty solution is to open <code>C:\\Users\\%USER_NAME%</code> or wherever your user directory is found, go in to <code>\\.gradle</code> and delete the <code>caches</code> file</p>\n"},{"tags":[],"owner":{"account_id":1215524,"reputation":356,"user_id":1183198,"display_name":"bobmagoo"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1582737920,"creation_date":1582737920,"answer_id":60419322,"question_id":37015872,"body_markdown":"You might also be running a too-new version of Java. Downgrading to Java 1.8 via https://adoptopenjdk.net/ fixed this issue for me.\r\n\r\nSee https://stackoverflow.com/questions/32900912/bug-exception-in-phase-semantic-analysis","title":"Could not open cp_init class cache for initialization script","body":"<p>You might also be running a too-new version of Java. Downgrading to Java 1.8 via <a href=\"https://adoptopenjdk.net/\" rel=\"noreferrer\">https://adoptopenjdk.net/</a> fixed this issue for me.</p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/32900912/bug-exception-in-phase-semantic-analysis\">BUG! exception in phase &#39;semantic analysis&#39;</a></p>\n"},{"tags":[],"owner":{"account_id":4323208,"reputation":2481,"user_id":3530707,"display_name":"julianm"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597182327,"creation_date":1597182327,"answer_id":63366802,"question_id":37015872,"body_markdown":"I fixed this error by downgrading Gradle Settings to Java 1.8:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wxoq8.png","title":"Could not open cp_init class cache for initialization script","body":"<p>I fixed this error by downgrading Gradle Settings to Java 1.8:</p>\n<p><a href=\"https://i.stack.imgur.com/wxoq8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wxoq8.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":10719673,"reputation":141,"user_id":7889161,"display_name":"VilasKolhe"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1612276104,"creation_date":1612276104,"answer_id":66011700,"question_id":37015872,"body_markdown":"Set the Build, Execution, Deployment &gt; Build Tools &gt; Gradle &gt; Gradle JVM to &quot;Use Internal JRE (java version 11-ea+123&quot;....)\r\n\r\nhttps://youtrack.jetbrains.com/issue/KT-34134\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MvTNJ.png","title":"Could not open cp_init class cache for initialization script","body":"<p>Set the Build, Execution, Deployment &gt; Build Tools &gt; Gradle &gt; Gradle JVM to &quot;Use Internal JRE (java version 11-ea+123&quot;....)</p>\n<p><a href=\"https://youtrack.jetbrains.com/issue/KT-34134\" rel=\"noreferrer\">https://youtrack.jetbrains.com/issue/KT-34134</a></p>\n<p><a href=\"https://i.stack.imgur.com/MvTNJ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MvTNJ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":15031560,"reputation":101,"user_id":10849529,"display_name":"Arjun Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631939387,"creation_date":1631939387,"answer_id":69231597,"question_id":37015872,"body_markdown":"Maybe you have opened your android project from wrong destination \r\n\r\nI opened my project from &quot;app&quot; folder so I got this error\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut when I opened my android project from &quot;template&quot; folder it&#39;s solved my problem.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xvoK1.png\r\n  [2]: https://i.stack.imgur.com/NO0ia.png","title":"Could not open cp_init class cache for initialization script","body":"<p>Maybe you have opened your android project from wrong destination</p>\n<p>I opened my project from &quot;app&quot; folder so I got this error</p>\n<p><a href=\"https://i.stack.imgur.com/xvoK1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xvoK1.png\" alt=\"enter image description here\" /></a></p>\n<p>But when I opened my android project from &quot;template&quot; folder it's solved my problem.</p>\n<p><a href=\"https://i.stack.imgur.com/NO0ia.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NO0ia.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":20846399,"reputation":121,"user_id":15311807,"display_name":"Ayush Tiwari"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686124936,"creation_date":1686124936,"answer_id":76421114,"question_id":37015872,"body_markdown":"The issue for me was that I was using different SDK for Java and Gradle in my intellij. Just make sure that the jdk used by Java is same as for Gradle\r\n\r\n1. Check Java SDK\r\n\r\nSettings (Icon Top Right Corner) &gt;&gt; Project Structure &gt;&gt; Project Settings &gt;&gt; Project. \r\nCheck your SDK here. \r\n[![enter image description here][1]][1]\r\n\r\n2. Check Gradle SDK\r\n\r\nSettings &gt;&gt; Build , Execution &amp; Deployement &gt;&gt; Build Tools &gt;&gt; Gradle\r\nCheck JVM version here. Version in Java JDK and Gradle JVM should be same\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KuI74.png\r\n  [2]: https://i.stack.imgur.com/T75fs.png","title":"Could not open cp_init class cache for initialization script","body":"<p>The issue for me was that I was using different SDK for Java and Gradle in my intellij. Just make sure that the jdk used by Java is same as for Gradle</p>\n<ol>\n<li>Check Java SDK</li>\n</ol>\n<p>Settings (Icon Top Right Corner) &gt;&gt; Project Structure &gt;&gt; Project Settings &gt;&gt; Project.\nCheck your SDK here.\n<a href=\"https://i.stack.imgur.com/KuI74.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KuI74.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>Check Gradle SDK</li>\n</ol>\n<p>Settings &gt;&gt; Build , Execution &amp; Deployement &gt;&gt; Build Tools &gt;&gt; Gradle\nCheck JVM version here. Version in Java JDK and Gradle JVM should be same\n<a href=\"https://i.stack.imgur.com/T75fs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T75fs.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6595620,"reputation":41,"user_id":5095515,"display_name":"pnagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689772044,"creation_date":1689772044,"answer_id":76721651,"question_id":37015872,"body_markdown":"I had to check the jdk version which my project uses. When I changed the JAVA home to an appropriate version (JDK 8) for my case. I didnt see this error.","title":"Could not open cp_init class cache for initialization script","body":"<p>I had to check the jdk version which my project uses. When I changed the JAVA home to an appropriate version (JDK 8) for my case. I didnt see this error.</p>\n"}],"owner":{"account_id":8283199,"reputation":141,"user_id":6227185,"display_name":"Brittany"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37346,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":8,"score":14,"last_activity_date":1689772044,"creation_date":1462317034,"question_id":37015872,"body_markdown":"I am new to Android Studio and I keep getting this error. I have researched and tried deleting .gradle, closing program and restarting, checking power save mode, and Cleaning and Rerunning. Any other ideas to try would be greatly appreciated. It worked perfect last night and now I am getting this error.\r\n\r\n\r\n\r\nError:Could not open cp_init class cache for initialization script &#39;C:\\Users\\Owner\\AppData\\Local\\Temp\\asLocalRepo6.gradle&#39; (C:\\Users\\Owner\\.gradle\\caches\\2.10\\scripts\\asLocalRepo6_4rdykqo5vjpjfhlk1g3pwkx76\\cp_init).\r\n&gt; java.io.FileNotFoundException: C:\\Users\\Owner\\.gradle\\caches\\2.10\\scripts\\asLocalRepo6_4rdykqo5vjpjfhlk1g3pwkx76\\cp_init\\cache.properties (The system cannot find the file specified)\r\n\r\n\r\nThanks!","title":"Could not open cp_init class cache for initialization script","body":"<p>I am new to Android Studio and I keep getting this error. I have researched and tried deleting .gradle, closing program and restarting, checking power save mode, and Cleaning and Rerunning. Any other ideas to try would be greatly appreciated. It worked perfect last night and now I am getting this error.</p>\n\n<p>Error:Could not open cp_init class cache for initialization script 'C:\\Users\\Owner\\AppData\\Local\\Temp\\asLocalRepo6.gradle' (C:\\Users\\Owner.gradle\\caches\\2.10\\scripts\\asLocalRepo6_4rdykqo5vjpjfhlk1g3pwkx76\\cp_init).</p>\n\n<blockquote>\n  <p>java.io.FileNotFoundException: C:\\Users\\Owner.gradle\\caches\\2.10\\scripts\\asLocalRepo6_4rdykqo5vjpjfhlk1g3pwkx76\\cp_init\\cache.properties (The system cannot find the file specified)</p>\n</blockquote>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring","spring-boot","rabbitmq","spring-amqp"],"comments":[{"owner":{"account_id":1581534,"reputation":9020,"user_id":1466825,"display_name":"Luke Bakken"},"score":1,"creation_date":1688092948,"post_id":76563078,"comment_id":135030706,"body_markdown":"This seems like a legitimate issue to report to Team RabbitMQ or the Spring team. The problem is that you&#39;re asking us to guess how to reproduce the issue. Could you please provide a git repository containing code to reproduce this issue, as well as instructions on how to compile and run it? Time spent guessing how to reproduce an issue is time that could be used to assist you. Thank you.","body":"This seems like a legitimate issue to report to Team RabbitMQ or the Spring team. The problem is that you&#39;re asking us to guess how to reproduce the issue. Could you please provide a git repository containing code to reproduce this issue, as well as instructions on how to compile and run it? Time spent guessing how to reproduce an issue is time that could be used to assist you. Thank you."},{"owner":{"account_id":2547520,"reputation":546,"user_id":2212010,"accept_rate":55,"display_name":"stikku"},"score":1,"creation_date":1688748718,"post_id":76563078,"comment_id":135120287,"body_markdown":"Issue also submitted here https://github.com/spring-projects/spring-integration/issues/8668","body":"Issue also submitted here <a href=\"https://github.com/spring-projects/spring-integration/issues/8668\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-integration/issues/8668</a>"}],"answers":[{"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1689772162,"post_id":76721543,"comment_id":135260493,"body_markdown":"When using `@RabbitListener`, you can add a `ContainerCustomizer` to the container factory, to set the property on the container. https://github.com/spring-projects/spring-amqp/issues/2490","body":"When using <code>@RabbitListener</code>, you can add a <code>ContainerCustomizer</code> to the container factory, to set the property on the container. <a href=\"https://github.com/spring-projects/spring-amqp/issues/2490\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-amqp/issues/2490</a>"}],"tags":[],"owner":{"account_id":2547520,"reputation":546,"user_id":2212010,"accept_rate":55,"display_name":"stikku"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689771775,"creation_date":1689771348,"answer_id":76721543,"question_id":76563078,"body_markdown":"This has been identified as a bug and fixed. Fix is available in spring-amqp versions [3.0.6][1] and [2.4.14][2] .\r\n\r\nFor anyone else having the same issue, you need to update to the above spring-amqp versions, and enable the `forceStop` flag.\r\n\r\nFrom [documentation][3]:\r\n\r\n&gt; By default, stopping a container will cancel the consumer and process all prefetched messages before stopping. Starting with versions 2.4.14, 3.0.6, you can set the [forceStop] container property to true to stop immediately after the current message is processed, causing any prefetched messages to be requeued. This is useful, for example, if exclusive or single-active consumers are being used.\r\n\r\n\r\nSample configuration:\r\n\r\n    final SimpleMessageListenerContainer listenerContainer = new SimpleMessageListenerContainer(connectionFactory);\r\n    listenerContainer.setForceStop(true);\r\n\r\n  [1]: https://github.com/spring-projects/spring-amqp/releases/tag/v3.0.6\r\n  [2]: https://github.com/spring-projects/spring-amqp/releases/tag/v2.4.14\r\n  [3]: https://docs.spring.io/spring-amqp/reference/html/#container-management","title":"RabbitMQ Single Active Consumer losing message order on consumer shutdown","body":"<p>This has been identified as a bug and fixed. Fix is available in spring-amqp versions <a href=\"https://github.com/spring-projects/spring-amqp/releases/tag/v3.0.6\" rel=\"nofollow noreferrer\">3.0.6</a> and <a href=\"https://github.com/spring-projects/spring-amqp/releases/tag/v2.4.14\" rel=\"nofollow noreferrer\">2.4.14</a> .</p>\n<p>For anyone else having the same issue, you need to update to the above spring-amqp versions, and enable the <code>forceStop</code> flag.</p>\n<p>From <a href=\"https://docs.spring.io/spring-amqp/reference/html/#container-management\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>By default, stopping a container will cancel the consumer and process all prefetched messages before stopping. Starting with versions 2.4.14, 3.0.6, you can set the [forceStop] container property to true to stop immediately after the current message is processed, causing any prefetched messages to be requeued. This is useful, for example, if exclusive or single-active consumers are being used.</p>\n</blockquote>\n<p>Sample configuration:</p>\n<pre><code>final SimpleMessageListenerContainer listenerContainer = new SimpleMessageListenerContainer(connectionFactory);\nlistenerContainer.setForceStop(true);\n</code></pre>\n"}],"owner":{"account_id":2547520,"reputation":546,"user_id":2212010,"accept_rate":55,"display_name":"stikku"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76721543,"answer_count":1,"score":0,"last_activity_date":1689771775,"creation_date":1687855090,"question_id":76563078,"body_markdown":"**Sample with Replicate steps found** [here][1]. \r\n\r\n**Problem Definition:**\r\n\r\nWe have a typical publisher - consumer setup where we require consumption of messages to be done sequentially and in order. Our goal is to be able to deploy multiple instances of the consuming microservice while maintaining the aforementioned sequentiality and order. Using the recommended [Single Active Consumers](https://www.rabbitmq.com/consumers.html#single-active-consumer) (SAC) works well in most scenarios **except during application shutdown**.\r\n\r\n**Note: We are also using quorum queues and consumer acknowledgements.**\r\n\r\nGiven instances A and B, on application shutdown of the active instance A, instance B becomes active and starts consuming messages while instance A is still processing its current message (Unacked).\r\n\r\nUsing pre-fetch 1 as an example  \r\n**Before shutting down instance A:**\r\n[![enter image description here][2]][2]\r\n\r\n**During instance A shutdown**\r\n[![enter image description here][3]][3]\r\n\r\nWhile the consumer for instance A has been removed from the queue, it&#39;s channel is still open and RabbitMQ still sees the unacked messages for both instances. **Effectively we have parallel processing of different messages.** Both messages are processed successfully but order is lost. This problem is further exacerbated with higher pre-fetch. \r\n\r\n**Versions and Code**\r\n\r\nQueue Definition:\r\n\r\n    @Bean(name = &quot;testSingleActiveConsumerQueue&quot;)\r\n    Queue testSingleActiveConsumerQueue() {\r\n        final Map&lt;String, Object&gt; args = new HashMap&lt;&gt;();\r\n        args.put(&quot;x-queue-type&quot;, &quot;quorum&quot;);\r\n        args.put(&quot;x-single-active-consumer&quot;, true); // ENABLE SINGLE ACTIVE CONSUMER\r\n        return new Queue(APP_IDENTIFIER + &quot;.test.single_active_consumer&quot;, true, false, false, args);\r\n    }\r\n\r\nI&#39;m using the current latest docker image for rabbitmq (3.12.0)\r\n\r\n    services:\r\n      rabbitmq:\r\n        image: rabbitmq:3.12.0-management\r\n        ports:\r\n          - 5672:5672\r\n          - 15672:15672\r\n        restart: always\r\n        environment:\r\n          - RABBITMQ_DEFAULT_USER=guest\r\n          - RABBITMQ_DEFAULT_PASS=guest\r\n\r\nAnd Spring integration AMQP 5.5.15\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-integration-amqp&lt;/artifactId&gt;\r\n        &lt;version&gt;5.5.15&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://github.com/stikku/spring-integration-amqp-concurrency\r\n  [2]: https://i.stack.imgur.com/WVm6t.png\r\n  [3]: https://i.stack.imgur.com/GEAZr.png","title":"RabbitMQ Single Active Consumer losing message order on consumer shutdown","body":"<p><strong>Sample with Replicate steps found</strong> <a href=\"https://github.com/stikku/spring-integration-amqp-concurrency\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p><strong>Problem Definition:</strong></p>\n<p>We have a typical publisher - consumer setup where we require consumption of messages to be done sequentially and in order. Our goal is to be able to deploy multiple instances of the consuming microservice while maintaining the aforementioned sequentiality and order. Using the recommended <a href=\"https://www.rabbitmq.com/consumers.html#single-active-consumer\" rel=\"nofollow noreferrer\">Single Active Consumers</a> (SAC) works well in most scenarios <strong>except during application shutdown</strong>.</p>\n<p><strong>Note: We are also using quorum queues and consumer acknowledgements.</strong></p>\n<p>Given instances A and B, on application shutdown of the active instance A, instance B becomes active and starts consuming messages while instance A is still processing its current message (Unacked).</p>\n<p>Using pre-fetch 1 as an example<br />\n<strong>Before shutting down instance A:</strong>\n<a href=\"https://i.stack.imgur.com/WVm6t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WVm6t.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>During instance A shutdown</strong>\n<a href=\"https://i.stack.imgur.com/GEAZr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GEAZr.png\" alt=\"enter image description here\" /></a></p>\n<p>While the consumer for instance A has been removed from the queue, it's channel is still open and RabbitMQ still sees the unacked messages for both instances. <strong>Effectively we have parallel processing of different messages.</strong> Both messages are processed successfully but order is lost. This problem is further exacerbated with higher pre-fetch.</p>\n<p><strong>Versions and Code</strong></p>\n<p>Queue Definition:</p>\n<pre><code>@Bean(name = &quot;testSingleActiveConsumerQueue&quot;)\nQueue testSingleActiveConsumerQueue() {\n    final Map&lt;String, Object&gt; args = new HashMap&lt;&gt;();\n    args.put(&quot;x-queue-type&quot;, &quot;quorum&quot;);\n    args.put(&quot;x-single-active-consumer&quot;, true); // ENABLE SINGLE ACTIVE CONSUMER\n    return new Queue(APP_IDENTIFIER + &quot;.test.single_active_consumer&quot;, true, false, false, args);\n}\n</code></pre>\n<p>I'm using the current latest docker image for rabbitmq (3.12.0)</p>\n<pre><code>services:\n  rabbitmq:\n    image: rabbitmq:3.12.0-management\n    ports:\n      - 5672:5672\n      - 15672:15672\n    restart: always\n    environment:\n      - RABBITMQ_DEFAULT_USER=guest\n      - RABBITMQ_DEFAULT_PASS=guest\n</code></pre>\n<p>And Spring integration AMQP 5.5.15</p>\n<pre><code>  &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-integration-amqp&lt;/artifactId&gt;\n    &lt;version&gt;5.5.15&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","operator-precedence","compound-assignment"],"comments":[{"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"score":0,"creation_date":1689769841,"post_id":76721101,"comment_id":135259803,"body_markdown":"By the way, first example doesn&#39;t need braces, assignments are evaluated from right to left","body":"By the way, first example doesn&#39;t need braces, assignments are evaluated from right to left"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1689770384,"post_id":76721101,"comment_id":135259934,"body_markdown":"This might be good fodder for an exam, and although these side effects can be handy at times they should be used judiciously as they can hide bugs that are hard to find.","body":"This might be good fodder for an exam, and although these side effects can be handy at times they should be used judiciously as they can hide bugs that are hard to find."},{"owner":{"account_id":239217,"reputation":2339,"user_id":508654,"accept_rate":92,"display_name":"Rauni Lillemets"},"score":0,"creation_date":1689857171,"post_id":76721101,"comment_id":135274559,"body_markdown":"I completely agree, @WJS","body":"I completely agree, @WJS"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1689769379,"creation_date":1689769379,"answer_id":76721245,"question_id":76721101,"body_markdown":"According to [&#167;15.26.2. Compound Assignment Operators](https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.26.2):\r\n\r\n&gt; At run time, the expression is evaluated in one of two ways.\r\n[...]\r\n&gt; - the value of the left-hand operand is saved and then the right-hand operand is evaluated\r\n\r\nThis explains the behavior for the first expression. \r\n\r\nAccording to [&#167;15.18. Additive Operators](https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.18):\r\n\r\n&gt; The additive operators have the same precedence and are syntactically left-associative (they group left-to-right).\r\n\r\nAnd [&#167;15.7. Evaluation Order](https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.7):\r\n\r\n&gt; The Java programming language guarantees that the operands of operators appear to be evaluated in a specific evaluation order, namely, from left to right.\r\n\r\nThus, the second expression is evaluated from left to right and side effects of updating the variables occur in that order.","title":"Using multiple compound assignments in a single expression","body":"<p>According to <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.26.2\" rel=\"nofollow noreferrer\">15.26.2. Compound Assignment Operators</a>:</p>\n<blockquote>\n<p>At run time, the expression is evaluated in one of two ways.\n[...]</p>\n<ul>\n<li>the value of the left-hand operand is saved and then the right-hand operand is evaluated</li>\n</ul>\n</blockquote>\n<p>This explains the behavior for the first expression.</p>\n<p>According to <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.18\" rel=\"nofollow noreferrer\">15.18. Additive Operators</a>:</p>\n<blockquote>\n<p>The additive operators have the same precedence and are syntactically left-associative (they group left-to-right).</p>\n</blockquote>\n<p>And <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.7\" rel=\"nofollow noreferrer\">15.7. Evaluation Order</a>:</p>\n<blockquote>\n<p>The Java programming language guarantees that the operands of operators appear to be evaluated in a specific evaluation order, namely, from left to right.</p>\n</blockquote>\n<p>Thus, the second expression is evaluated from left to right and side effects of updating the variables occur in that order.</p>\n"},{"tags":[],"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689770049,"creation_date":1689770049,"answer_id":76721349,"question_id":76721101,"body_markdown":"`a` doesn&#39;t get update early in first example because `a += x` is equivalent to `a = a + x` and `a` as first operand of binary `+` is evaluated *before* second operand thus keeping initial value. And this condition preserves through the chain.","title":"Using multiple compound assignments in a single expression","body":"<p><code>a</code> doesn't get update early in first example because <code>a += x</code> is equivalent to <code>a = a + x</code> and <code>a</code> as first operand of binary <code>+</code> is evaluated <em>before</em> second operand thus keeping initial value. And this condition preserves through the chain.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689771706,"creation_date":1689771706,"answer_id":76721595,"question_id":76721101,"body_markdown":"&gt; _&quot;... why in the first example the original value of a gets used in the compound assignments, but in the second example the updated value of c gets used?&quot;_\r\n\r\nFor the first example, it&#39;s because it&#39;s already trying to assign _a_, so any inner assignments would not apply.\r\n\r\n```java\r\na = a * (a * (a * 2))\r\na = a * (a * (6))\r\na = a * (3 * (6))\r\na = 3 * (3 * (6))\r\na = 3 * (18)\r\na = 54\r\n```\r\n\r\n&gt; _&quot;... So during all three evaluations of &quot;a *= 2&quot;, the old value of a is used instead ...&quot;_\r\n\r\nCorrect.&amp;nbsp; You are expecting it to do something like this,\r\n\r\n```java\r\n((a *= 2) *= a) *= a)\r\n```\r\n\r\nFor the second example, it is able to assign _c_ since they are not part of one assignment.\r\n\r\n```java\r\n(c *= 2) + (c *= 5) + (c += 100)\r\n(2) + (c *= 5) + (c += 100)\r\n(2) + (10) + (c += 100)\r\n(2) + (10) + (110)\r\n122\r\n```","title":"Using multiple compound assignments in a single expression","body":"<blockquote>\n<p><em>&quot;... why in the first example the original value of a gets used in the compound assignments, but in the second example the updated value of c gets used?&quot;</em></p>\n</blockquote>\n<p>For the first example, it's because it's already trying to assign <em>a</em>, so any inner assignments would not apply.</p>\n<pre class=\"lang-java prettyprint-override\"><code>a = a * (a * (a * 2))\na = a * (a * (6))\na = a * (3 * (6))\na = 3 * (3 * (6))\na = 3 * (18)\na = 54\n</code></pre>\n<blockquote>\n<p><em>&quot;... So during all three evaluations of &quot;a *= 2&quot;, the old value of a is used instead ...&quot;</em></p>\n</blockquote>\n<p>Correct. You are expecting it to do something like this,</p>\n<pre class=\"lang-java prettyprint-override\"><code>((a *= 2) *= a) *= a)\n</code></pre>\n<p>For the second example, it is able to assign <em>c</em> since they are not part of one assignment.</p>\n<pre class=\"lang-java prettyprint-override\"><code>(c *= 2) + (c *= 5) + (c += 100)\n(2) + (c *= 5) + (c += 100)\n(2) + (10) + (c += 100)\n(2) + (10) + (110)\n122\n</code></pre>\n"}],"owner":{"account_id":239217,"reputation":2339,"user_id":508654,"accept_rate":92,"display_name":"Rauni Lillemets"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76721245,"answer_count":3,"score":4,"last_activity_date":1689771706,"creation_date":1689768166,"question_id":76721101,"body_markdown":"I am preparing for a Java exam and I am trying to understand operator precedence and compound assignment operators in depth. I played around with a few expressions which use compound assignment during the evaluation of an expression. However, I do not fully understand why these give the result that they do.\r\n\r\n        int a = 3, b = 0;\r\n        b += a *= (a *= (a *= 2));\r\n        // Result: a=54, b=54\r\n\r\nWhat I expected:\r\n\r\n        //innermost expression evaluated first\r\n        //a = a * 2 = 6, so a assigned to 6; 6 returned\r\n        //Then next one is evaluated as:\r\n        //a = a * 6 = 36, so a assigned to 36; 36 returned\r\n        //The outermost expression evaluated as:\r\n        //a = 36 * 36 = 1296\r\n        //Finally, b = b + 1296, so b = 1296.\r\n\r\nInstead, a = 54 is the answer. So during all three evaluations of &quot;a *= 2&quot;, the old value of a is used instead, so the final answer is a = 3 * 3 * 3 * 2 = 54.\r\n        \r\nHowever, this expression behaves differently:\r\n\r\n        int c = 1, d = 0;\r\n        d += (c *= 2) + (c *= 5) + (c += 100);\r\n        // Result: c=110, d=122\r\n\r\nIf here the old value of c was used we would end up with c = 101 and d = 108. Instead, we end up with c = 2 * 5 + 100 = 110; meaning that in each of those evaluations of &quot;c *= ..&quot;, the new (updated) value of c was used each time.\r\n\r\nQuestion: why in the first example the original value of a gets used in the compound assignments, but in the second example the updated value of c gets used?","title":"Using multiple compound assignments in a single expression","body":"<p>I am preparing for a Java exam and I am trying to understand operator precedence and compound assignment operators in depth. I played around with a few expressions which use compound assignment during the evaluation of an expression. However, I do not fully understand why these give the result that they do.</p>\n<pre><code>    int a = 3, b = 0;\n    b += a *= (a *= (a *= 2));\n    // Result: a=54, b=54\n</code></pre>\n<p>What I expected:</p>\n<pre><code>    //innermost expression evaluated first\n    //a = a * 2 = 6, so a assigned to 6; 6 returned\n    //Then next one is evaluated as:\n    //a = a * 6 = 36, so a assigned to 36; 36 returned\n    //The outermost expression evaluated as:\n    //a = 36 * 36 = 1296\n    //Finally, b = b + 1296, so b = 1296.\n</code></pre>\n<p>Instead, a = 54 is the answer. So during all three evaluations of &quot;a *= 2&quot;, the old value of a is used instead, so the final answer is a = 3 * 3 * 3 * 2 = 54.</p>\n<p>However, this expression behaves differently:</p>\n<pre><code>    int c = 1, d = 0;\n    d += (c *= 2) + (c *= 5) + (c += 100);\n    // Result: c=110, d=122\n</code></pre>\n<p>If here the old value of c was used we would end up with c = 101 and d = 108. Instead, we end up with c = 2 * 5 + 100 = 110; meaning that in each of those evaluations of &quot;c *= ..&quot;, the new (updated) value of c was used each time.</p>\n<p>Question: why in the first example the original value of a gets used in the compound assignments, but in the second example the updated value of c gets used?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1654505213,"post_id":72515011,"comment_id":128098294,"body_markdown":"This highly depends on what your service is doing with a request. Using reactive frameworks might be a solution, but if you e.g. access a database behind, then you have to deal with that, for example.","body":"This highly depends on what your service is doing with a request. Using reactive frameworks might be a solution, but if you e.g. access a database behind, then you have to deal with that, for example."},{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":0,"creation_date":1654506573,"post_id":72515011,"comment_id":128098710,"body_markdown":"You can increase the thread pool of the embedded tomcat by setting ```server.tomcat.threads.max```, but there are a lot of other factors you have to deal with ...","body":"You can increase the thread pool of the embedded tomcat by setting <code>server.tomcat.threads.max</code>, but there are a lot of other factors you have to deal with ..."}],"answers":[{"tags":[],"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1654505728,"creation_date":1654505728,"answer_id":72515252,"question_id":72515011,"body_markdown":"There is no single parameter which would ensure that your application will handle 1000 requests in parallel. &lt;br&gt; It depends on many factors, like:&lt;br&gt;\r\n 1. What is the average execution time for your request. e.g. If your request only needs nanoseconds to return then X number of threads could suffice to serve Y parallel requests (even when X&lt;Y).\r\n 2. Available resources: Sometimes even if number of threads is *greater than* number of parallel requests (X&gt;Y), it may not be able to process them simultaneously if the resources are limited (e.g. RAM, Processing power, max number of database connections) etc.\r\n\r\nSo, in real life, it all depends on lot of factors (not covered above) which are taken care by software architecture which in turn takes care of your functional as well as non functional requirements. So, even if your number of requests change from 1000 to 10000, your architecture will take care of it if it is Scalable.\r\n&lt;br&gt;&lt;br&gt;\r\nKnowing which parameter to tune may suffice for now, for future though, look at quality attributes in software architecture https://en.wikipedia.org/wiki/List_of_system_quality_attributes","title":"How to handle 1000 requests per second in spring boot rest API?","body":"<p>There is no single parameter which would ensure that your application will handle 1000 requests in parallel. <br> It depends on many factors, like:<br></p>\n<ol>\n<li>What is the average execution time for your request. e.g. If your request only needs nanoseconds to return then X number of threads could suffice to serve Y parallel requests (even when X&lt;Y).</li>\n<li>Available resources: Sometimes even if number of threads is <em>greater than</em> number of parallel requests (X&gt;Y), it may not be able to process them simultaneously if the resources are limited (e.g. RAM, Processing power, max number of database connections) etc.</li>\n</ol>\n<p>So, in real life, it all depends on lot of factors (not covered above) which are taken care by software architecture which in turn takes care of your functional as well as non functional requirements. So, even if your number of requests change from 1000 to 10000, your architecture will take care of it if it is Scalable.\n<br><br>\nKnowing which parameter to tune may suffice for now, for future though, look at quality attributes in software architecture <a href=\"https://en.wikipedia.org/wiki/List_of_system_quality_attributes\" rel=\"noreferrer\">https://en.wikipedia.org/wiki/List_of_system_quality_attributes</a></p>\n"},{"tags":[],"owner":{"account_id":2165882,"reputation":10395,"user_id":1919006,"accept_rate":57,"display_name":"Rakesh Soni"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1682575603,"creation_date":1654506128,"answer_id":72515333,"question_id":72515011,"body_markdown":"There is hardware capacity (RAM, CPU etc) So you can not set any number of thread in pool (like 1000 in your case). Also it depends on execution time of each request. \r\n\r\nTo handle high traffic, you should setup **Load Balancer** with multiple node/instances. \r\n\r\nBetter to go with **Auto Scaling** on Cloud server. It will increase the instances as per high load (number of request) and again decrease the instances when there will be low number of requests. Which is cost effective. ","title":"How to handle 1000 requests per second in spring boot rest API?","body":"<p>There is hardware capacity (RAM, CPU etc) So you can not set any number of thread in pool (like 1000 in your case). Also it depends on execution time of each request.</p>\n<p>To handle high traffic, you should setup <strong>Load Balancer</strong> with multiple node/instances.</p>\n<p>Better to go with <strong>Auto Scaling</strong> on Cloud server. It will increase the instances as per high load (number of request) and again decrease the instances when there will be low number of requests. Which is cost effective.</p>\n"},{"tags":[],"owner":{"account_id":21238004,"reputation":1,"user_id":15621933,"display_name":"wildHorse"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689771635,"creation_date":1689771635,"answer_id":76721585,"question_id":72515011,"body_markdown":"Isn&#39;t it too easy? It is enough for the application to respond in less than 200ms per request? (Theoretically)\r\nSince we have 200 threads, we can handle 200 requests in parallel. To get 1000rps/200 = 5. So each thread needs to handle 5 requests in a second, i.e. respond &lt;= 200ms","title":"How to handle 1000 requests per second in spring boot rest API?","body":"<p>Isn't it too easy? It is enough for the application to respond in less than 200ms per request? (Theoretically)\nSince we have 200 threads, we can handle 200 requests in parallel. To get 1000rps/200 = 5. So each thread needs to handle 5 requests in a second, i.e. respond &lt;= 200ms</p>\n"}],"owner":{"account_id":1591466,"reputation":589,"user_id":1474701,"accept_rate":38,"display_name":"ashu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18949,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":3,"score":4,"last_activity_date":1689771635,"creation_date":1654504394,"question_id":72515011,"body_markdown":"I am newbie in Spring boot. We are implementing one spring boot microservice application.\r\n\r\nAs spring boot uses embedded tomcat server, by default thread pool is 200.\r\n\r\nSo whats the best approach to increase the capactiy to handle 1000 requests?\r\n\r\nDo we need to make it async or?\r\n\r\nAny inputs are appreciated.\r\n\r\nThanks in advance.","title":"How to handle 1000 requests per second in spring boot rest API?","body":"<p>I am newbie in Spring boot. We are implementing one spring boot microservice application.</p>\n<p>As spring boot uses embedded tomcat server, by default thread pool is 200.</p>\n<p>So whats the best approach to increase the capactiy to handle 1000 requests?</p>\n<p>Do we need to make it async or?</p>\n<p>Any inputs are appreciated.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","multithreading"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1689765593,"post_id":76720714,"comment_id":135258795,"body_markdown":"*Why is lock.notifyAll not waking up thread waiting* probably because there is no `notifyAll` in your code.","body":"<i>Why is lock.notifyAll not waking up thread waiting</i> probably because there is no <code>notifyAll</code> in your code."},{"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"score":0,"creation_date":1689765668,"post_id":76720714,"comment_id":135258810,"body_markdown":"The output is the same with `notifyAll`","body":"The output is the same with <code>notifyAll</code>"},{"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"score":0,"creation_date":1689765711,"post_id":76720714,"comment_id":135258821,"body_markdown":"Stuck at this log `Lock is released. Waiting for bluetooth to turn on.`","body":"Stuck at this log <code>Lock is released. Waiting for bluetooth to turn on.</code>"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1689765754,"post_id":76720714,"comment_id":135258827,"body_markdown":"order of execution?","body":"order of execution?"},{"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"score":0,"creation_date":1689765877,"post_id":76720714,"comment_id":135258857,"body_markdown":"I just call BluetoothManager() from another class instance. As such:\n\n     `btManager = new BluetoothManager(handler, btListener);`","body":"I just call BluetoothManager() from another class instance. As such:       <code>btManager = new BluetoothManager(handler, btListener);</code>"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1689765942,"post_id":76720714,"comment_id":135258875,"body_markdown":"great, and is your `prunnable` even running?","body":"great, and is your <code>prunnable</code> even running?"},{"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"score":0,"creation_date":1689766141,"post_id":76720714,"comment_id":135258924,"body_markdown":"Yes, it runs the first time, after calling the enableBluetooth() the thread is getting blocked.","body":"Yes, it runs the first time, after calling the enableBluetooth() the thread is getting blocked."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1689766167,"post_id":76720714,"comment_id":135258933,"body_markdown":"and again, order of execution?","body":"and again, order of execution?"},{"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"score":0,"creation_date":1689766467,"post_id":76720714,"comment_id":135259007,"body_markdown":"In my MainService class I call this function \n`startBluetoothManager(){\n        btManager = new BluetoothManager(handler, btListener);\n}`\n\nthen in the BluetoothManager constructor I call phandler.post(prunnable); which check if bluetooth is enabled, after the first check and the bluetooth was off, we hit the else condition and call `enableBluetooth()` after that the thread get blocked and we don&#39;t get the notify","body":"In my MainService class I call this function  <code>startBluetoothManager(){         btManager = new BluetoothManager(handler, btListener); }</code>  then in the BluetoothManager constructor I call phandler.post(prunnable); which check if bluetooth is enabled, after the first check and the bluetooth was off, we hit the else condition and call <code>enableBluetooth()</code> after that the thread get blocked and we don&#39;t get the notify"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1689766523,"post_id":76720714,"comment_id":135259019,"body_markdown":"and logs comes in the order you would like, first *Waiting for Bluetooth to turn on.* then *Lock is notified about access again.* right?","body":"and logs comes in the order you would like, first <i>Waiting for Bluetooth to turn on.</i> then <i>Lock is notified about access again.</i> right?"},{"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"score":0,"creation_date":1689767007,"post_id":76720714,"comment_id":135259115,"body_markdown":"I am getting only _Waiting for Bluetooth to turn on_ because after calling enableBluetooth the first time and enabling the bluetooth, the thread is getting blocked and the prunnable stops.","body":"I am getting only <i>Waiting for Bluetooth to turn on</i> because after calling enableBluetooth the first time and enabling the bluetooth, the thread is getting blocked and the prunnable stops."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1689767089,"post_id":76720714,"comment_id":135259140,"body_markdown":"So no notification at all, case closed.","body":"So no notification at all, case closed."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1689767178,"post_id":76720714,"comment_id":135259158,"body_markdown":"To me you are waiting on handler thread and expect it to notify itself.","body":"To me you are waiting on handler thread and expect it to notify itself."},{"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"score":0,"creation_date":1689767257,"post_id":76720714,"comment_id":135259176,"body_markdown":"I am synchronizing on the lock, why when I call lock.wait is blocking the whole thread and the handler?","body":"I am synchronizing on the lock, why when I call lock.wait is blocking the whole thread and the handler?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1689767305,"post_id":76720714,"comment_id":135259188,"body_markdown":"Object#wait block current thread.","body":"Object#wait block current thread."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1689767441,"post_id":76720714,"comment_id":135259229,"body_markdown":"From docs: \n*Each Handler instance is associated with a single thread and that thread&#39;s message queue.* So yeah, u are literally block the thread that executes tasks submitted to that handler","body":"From docs:  <i>Each Handler instance is associated with a single thread and that thread&#39;s message queue.</i> So yeah, u are literally block the thread that executes tasks submitted to that handler"},{"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"score":0,"creation_date":1689767907,"post_id":76720714,"comment_id":135259341,"body_markdown":"so If calling lock.wait blocks the current thread and we can&#39;t call lock.notify from another thread, how to relinquish the lock?","body":"so If calling lock.wait blocks the current thread and we can&#39;t call lock.notify from another thread, how to relinquish the lock?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1689768162,"post_id":76720714,"comment_id":135259393,"body_markdown":"by calling it from another thread. You try to do it from the same thread.","body":"by calling it from another thread. You try to do it from the same thread."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1689770547,"post_id":76720714,"comment_id":135259988,"body_markdown":"Re, &quot;...the whole thread is waiting...&quot; What do you mean, _whole_ thread? A thread either is waiting or it is executing instructions. A thread doesn&#39;t have parts. It sounds as if you do not have a strong idea of what a thread actually is.","body":"Re, &quot;...the whole thread is waiting...&quot; What do you mean, <i>whole</i> thread? A thread either is waiting or it is executing instructions. A thread doesn&#39;t have parts. It sounds as if you do not have a strong idea of what a thread actually is."}],"answers":[{"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1689771554,"post_id":76721473,"comment_id":135260308,"body_markdown":"@CharlesSemaan, I hope you notice the information about `Semaphore` that I added to my answer, above.","body":"@CharlesSemaan, I hope you notice the information about <code>Semaphore</code> that I added to my answer, above."}],"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689771506,"creation_date":1689770876,"answer_id":76721473,"question_id":76720714,"body_markdown":"&gt;  If calling lock.wait blocks the current thread and we can&#39;t call lock.notify from another thread, how to relinquish the lock?\r\n\r\nYou can&#39;t.\r\n\r\n`lock.wait()` returns when some _other_ thread calls `lock.notify()` or `lock.notifyAll()`. Except in case of the hypothetical spurious wakeup,\\* the `wait()` call will not return for any other reason.\r\n\r\nAlso of note, `lock.notify()` and `lock.notifyAll()` do absolutely _nothing_ unless the other thread is _already_ waiting. A common newbie mistake is to have a race between some thread P that calls `notify()` and some thread C that calls `wait()`. If thread C wins the race, then the `notify()` wakes it up and everything is fine, but if thread P wins the race, then thread C has missed the notification, and it ends up waiting forever for a second notification that never arrives.\r\n\r\n-------------\r\n\r\nP.S., (Hope you notice this update because apparently you already have accepted my answer.)\r\n\r\nLook into the [`Semaphore`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Semaphore.html) class. A semaphore is like a blocking queue of virtual, informationless tokens. One thread can call `semaphore.release()` to add a token to the queue. Another thread can call `semaphore.acquire()` to take a token from the queue, but if the queue is empty, then the `acquire()` call will _wait_ until some other thread `release()`s a token for it to take.\r\n\r\nThis may be helpful to you, because unlike wait/notify, a semaphore _remembers_ how many tokens are in the queue. You can fix my example of the race condition between thread P and thread C (above) by using a semaphore instead of wait/notify.  If thread C wins the race, it will wait until thread P catches up and releases a token. But, if thread P wins the race, then the semaphore will hold the token until thread C catches up. Thread C can then acquire it, and it will not be blocked.\r\n\r\n-------------\r\n\\* [search this page](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/Condition.html) for more about _spurious wakeup._","title":"Why is lock.notifyAll not waking up thread waiting","body":"<blockquote>\n<p>If calling lock.wait blocks the current thread and we can't call lock.notify from another thread, how to relinquish the lock?</p>\n</blockquote>\n<p>You can't.</p>\n<p><code>lock.wait()</code> returns when some <em>other</em> thread calls <code>lock.notify()</code> or <code>lock.notifyAll()</code>. Except in case of the hypothetical spurious wakeup,* the <code>wait()</code> call will not return for any other reason.</p>\n<p>Also of note, <code>lock.notify()</code> and <code>lock.notifyAll()</code> do absolutely <em>nothing</em> unless the other thread is <em>already</em> waiting. A common newbie mistake is to have a race between some thread P that calls <code>notify()</code> and some thread C that calls <code>wait()</code>. If thread C wins the race, then the <code>notify()</code> wakes it up and everything is fine, but if thread P wins the race, then thread C has missed the notification, and it ends up waiting forever for a second notification that never arrives.</p>\n<hr />\n<p>P.S., (Hope you notice this update because apparently you already have accepted my answer.)</p>\n<p>Look into the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Semaphore.html\" rel=\"nofollow noreferrer\"><code>Semaphore</code></a> class. A semaphore is like a blocking queue of virtual, informationless tokens. One thread can call <code>semaphore.release()</code> to add a token to the queue. Another thread can call <code>semaphore.acquire()</code> to take a token from the queue, but if the queue is empty, then the <code>acquire()</code> call will <em>wait</em> until some other thread <code>release()</code>s a token for it to take.</p>\n<p>This may be helpful to you, because unlike wait/notify, a semaphore <em>remembers</em> how many tokens are in the queue. You can fix my example of the race condition between thread P and thread C (above) by using a semaphore instead of wait/notify.  If thread C wins the race, it will wait until thread P catches up and releases a token. But, if thread P wins the race, then the semaphore will hold the token until thread C catches up. Thread C can then acquire it, and it will not be blocked.</p>\n<hr />\n<p>* <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/Condition.html\" rel=\"nofollow noreferrer\">search this page</a> for more about <em>spurious wakeup.</em></p>\n"}],"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76721473,"answer_count":1,"score":1,"last_activity_date":1689771506,"creation_date":1689765398,"question_id":76720714,"body_markdown":"I have a BluetoothManager that contains a while loop to detect bluetooth state changes. If bluetooth is off, I want to enable and wait until the lock is notifiy from inside the runnable that the bluetooth is on again. The issue that I am facing is that when I lock.wait the whole thread is waiting and the while loop inside the runnable is no longer executing. Can someone explain why this is happening? I know I can achieve similar functionality using a broadcast receiver but I want to understand why my lock wait/notify is not working.\r\n\r\n        public class BluetoothManager implements BluetoothA2DPRequester.Callback {\r\n    \r\n        private Object lock = new Object();\r\n    \r\n        public BluetoothManager(Handler handler, BluetoothManagerListener listener) {\r\n    \r\n            Handler phandler = new Handler();\r\n            Runnable prunnable = new Runnable() {\r\n                @Override\r\n                public void run() {\r\n    \r\n                    if (bluetoothAdapter.isEnabled()) {\r\n                        synchronized (lock) {\r\n                            Log.i(TAG, &quot;Lock is notified about access again.&quot;);\r\n                            lock.notify();\r\n                        }\r\n                          handler.removeCallbacks(this);\r\n                          return;\r\n                    } else {\r\n                        phandler.postDelayed(this, 10000);\r\n                        enableBluetooth()\r\n                    }\r\n    \r\n                }\r\n            };\r\n            phandler.post(prunnable);\r\n    \r\n        }\r\n    \r\n    \r\n        public void enableBluetooth() {\r\n            BluetoothAdapter mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n    \r\n            if (mBluetoothAdapter == null) {\r\n                // Device does not support Bluetooth\r\n            } else if (!mBluetoothAdapter.isEnabled()) {\r\n                // Bluetooth is not enabled\r\n                if (ActivityCompat.checkSelfPermission(MyApplication.getContext(), android.Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n    \r\n                    synchronized (lock) {\r\n                        try {\r\n                            mBluetoothAdapter.enable();\r\n                            Log.i(TAG, &quot;Lock is released. Waiting for Bluetooth to turn on.&quot;);\r\n                            lock.wait(); // wait until bluetooth is on // I am getting stucked here\r\n                            Log.i(TAG, &quot;Lock is gained again.&quot;);\r\n                            isBluetoothOn = true;\r\n                            onBluetoothConnected();\r\n    \r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n    \r\n                }\r\n            } else {\r\n                isBluetoothOn = true;\r\n                onBluetoothConnected();\r\n            }\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n","title":"Why is lock.notifyAll not waking up thread waiting","body":"<p>I have a BluetoothManager that contains a while loop to detect bluetooth state changes. If bluetooth is off, I want to enable and wait until the lock is notifiy from inside the runnable that the bluetooth is on again. The issue that I am facing is that when I lock.wait the whole thread is waiting and the while loop inside the runnable is no longer executing. Can someone explain why this is happening? I know I can achieve similar functionality using a broadcast receiver but I want to understand why my lock wait/notify is not working.</p>\n<pre><code>    public class BluetoothManager implements BluetoothA2DPRequester.Callback {\n\n    private Object lock = new Object();\n\n    public BluetoothManager(Handler handler, BluetoothManagerListener listener) {\n\n        Handler phandler = new Handler();\n        Runnable prunnable = new Runnable() {\n            @Override\n            public void run() {\n\n                if (bluetoothAdapter.isEnabled()) {\n                    synchronized (lock) {\n                        Log.i(TAG, &quot;Lock is notified about access again.&quot;);\n                        lock.notify();\n                    }\n                      handler.removeCallbacks(this);\n                      return;\n                } else {\n                    phandler.postDelayed(this, 10000);\n                    enableBluetooth()\n                }\n\n            }\n        };\n        phandler.post(prunnable);\n\n    }\n\n\n    public void enableBluetooth() {\n        BluetoothAdapter mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n\n        if (mBluetoothAdapter == null) {\n            // Device does not support Bluetooth\n        } else if (!mBluetoothAdapter.isEnabled()) {\n            // Bluetooth is not enabled\n            if (ActivityCompat.checkSelfPermission(MyApplication.getContext(), android.Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n\n                synchronized (lock) {\n                    try {\n                        mBluetoothAdapter.enable();\n                        Log.i(TAG, &quot;Lock is released. Waiting for Bluetooth to turn on.&quot;);\n                        lock.wait(); // wait until bluetooth is on // I am getting stucked here\n                        Log.i(TAG, &quot;Lock is gained again.&quot;);\n                        isBluetoothOn = true;\n                        onBluetoothConnected();\n\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n\n            }\n        } else {\n            isBluetoothOn = true;\n            onBluetoothConnected();\n        }\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","maven","quarkus"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":5,"creation_date":1689770893,"post_id":76721457,"comment_id":135260103,"body_markdown":"This is very unspecific. Please share the actual (full) error. I could imagine that it is a java-version problem.","body":"This is very unspecific. Please share the actual (full) error. I could imagine that it is a java-version problem."},{"owner":{"account_id":29049139,"reputation":1,"user_id":22252344,"display_name":"Dexu"},"score":0,"creation_date":1689771645,"post_id":76721457,"comment_id":135260328,"body_markdown":"@Turing85 Added the rest of the error, hope this is more useful.","body":"@Turing85 Added the rest of the error, hope this is more useful."},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1689772126,"post_id":76721457,"comment_id":135260481,"body_markdown":"Try executing with `mvn -X install` and see if there is any more useful information","body":"Try executing with <code>mvn -X install</code> and see if there is any more useful information"},{"owner":{"account_id":29049139,"reputation":1,"user_id":22252344,"display_name":"Dexu"},"score":0,"creation_date":1689773540,"post_id":76721457,"comment_id":135260876,"body_markdown":"@geoand This is what I get: https://imgur.com/a/fmHUDOX","body":"@geoand This is what I get: <a href=\"https://imgur.com/a/fmHUDOX\" rel=\"nofollow noreferrer\">imgur.com/a/fmHUDOX</a>"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1689833569,"post_id":76721457,"comment_id":135269785,"body_markdown":"That doesn&#39;t look like the complete output","body":"That doesn&#39;t look like the complete output"}],"owner":{"account_id":29049139,"reputation":1,"user_id":22252344,"display_name":"Dexu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689771411,"creation_date":1689770753,"question_id":76721457,"body_markdown":"I have a quarkus maven app that worked fine before I formated my pc but now after I set everything up as it was before the format &quot;mvn clean install&quot; doesn&#39;t work.\r\n\r\nIdk if I just missed something after the format or the problem lies elsewhere but I think it&#39;s worth mentioning that I&#39;m kinda new to programming overall so keep that in mind in case it&#39;s something trivial. \r\n\r\nThis is what I get after running the command:\r\n\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  15.705 s\r\n    [INFO] Finished at: 2023-07-19T14:17:04+02:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal io.quarkus.platform:quarkus-maven-plugin:3.0.1.Final:build (default) on project piksa-quarkus-1: Failed to build quarkus application: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n    [ERROR]         [error]: Build step io.quarkus.deployment.pkg.steps.JarResultBuildStep#buildRunnerJar threw an exception: java.lang.UnsupportedOperationException\r\n    [ERROR]         at jdk.zipfs/jdk.nio.zipfs.ZipFileSystemProvider.ensureFile(ZipFileSystemProvider.java:87)\r\n    [ERROR]         at jdk.zipfs/jdk.nio.zipfs.ZipFileSystemProvider.newFileSystem(ZipFileSystemProvider.java:101)\r\n    [ERROR]         at io.quarkus.fs.util.ZipUtils.newZip(ZipUtils.java:130)\r\n    [ERROR]         at io.quarkus.deployment.pkg.steps.JarResultBuildStep.buildThinJar(JarResultBuildStep.java:627)\r\n    [ERROR]         at io.quarkus.deployment.pkg.steps.JarResultBuildStep.buildRunnerJar(JarResultBuildStep.java:222)\r\n    [ERROR]         at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    [ERROR]         at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    [ERROR]         at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:909)\r\n    [ERROR]         at io.quarkus.builder.BuildContext.run(BuildContext.java:282)\r\n    [ERROR]         at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n    [ERROR]         at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2513)\r\n    [ERROR]         at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1538)\r\n    [ERROR]         at java.base/java.lang.Thread.run(Thread.java:1623)\r\n    [ERROR]         at org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\nThese are the things I did after the format:\r\n- Installed JDK. \r\n- Installed Maven. \r\n- Set all the needed paths in enviromental variables. \r\n- Installed VS code extensions (Extension pack for java, Maven for Java, Quarkus). \r\n+ I tried installing the same Java and Maven versions I had before the format instead of the newest ones but it didn&#39;t work.","title":"Can&#39;t built a quarkus maven app using mvn clean install","body":"<p>I have a quarkus maven app that worked fine before I formated my pc but now after I set everything up as it was before the format &quot;mvn clean install&quot; doesn't work.</p>\n<p>Idk if I just missed something after the format or the problem lies elsewhere but I think it's worth mentioning that I'm kinda new to programming overall so keep that in mind in case it's something trivial.</p>\n<p>This is what I get after running the command:</p>\n<pre><code>[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  15.705 s\n[INFO] Finished at: 2023-07-19T14:17:04+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal io.quarkus.platform:quarkus-maven-plugin:3.0.1.Final:build (default) on project piksa-quarkus-1: Failed to build quarkus application: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n[ERROR]         [error]: Build step io.quarkus.deployment.pkg.steps.JarResultBuildStep#buildRunnerJar threw an exception: java.lang.UnsupportedOperationException\n[ERROR]         at jdk.zipfs/jdk.nio.zipfs.ZipFileSystemProvider.ensureFile(ZipFileSystemProvider.java:87)\n[ERROR]         at jdk.zipfs/jdk.nio.zipfs.ZipFileSystemProvider.newFileSystem(ZipFileSystemProvider.java:101)\n[ERROR]         at io.quarkus.fs.util.ZipUtils.newZip(ZipUtils.java:130)\n[ERROR]         at io.quarkus.deployment.pkg.steps.JarResultBuildStep.buildThinJar(JarResultBuildStep.java:627)\n[ERROR]         at io.quarkus.deployment.pkg.steps.JarResultBuildStep.buildRunnerJar(JarResultBuildStep.java:222)\n[ERROR]         at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n[ERROR]         at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n[ERROR]         at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:909)\n[ERROR]         at io.quarkus.builder.BuildContext.run(BuildContext.java:282)\n[ERROR]         at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n[ERROR]         at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2513)\n[ERROR]         at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1538)\n[ERROR]         at java.base/java.lang.Thread.run(Thread.java:1623)\n[ERROR]         at org.jboss.threads.JBossThread.run(JBossThread.java:501)\n[ERROR] -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>These are the things I did after the format:</p>\n<ul>\n<li>Installed JDK.</li>\n<li>Installed Maven.</li>\n<li>Set all the needed paths in enviromental variables.</li>\n<li>Installed VS code extensions (Extension pack for java, Maven for Java, Quarkus).</li>\n</ul>\n<ul>\n<li>I tried installing the same Java and Maven versions I had before the format instead of the newest ones but it didn't work.</li>\n</ul>\n"},{"tags":["java","android","kotlin","gesture-detection"],"comments":[{"owner":{"account_id":2837284,"reputation":4425,"user_id":2437655,"accept_rate":77,"display_name":"Shubham AgaRwal"},"score":0,"creation_date":1688531178,"post_id":73443456,"comment_id":135084018,"body_markdown":"Thanks for bringing this up. Do you want to share any update on your question? Have you found anything which solves this properly. I saw your comment on https://youtrack.jetbrains.com/issue/KT-53963 and looks like it is not solved","body":"Thanks for bringing this up. Do you want to share any update on your question? Have you found anything which solves this properly. I saw your comment on <a href=\"https://youtrack.jetbrains.com/issue/KT-53963\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-53963</a> and looks like it is not solved"},{"owner":{"account_id":2837284,"reputation":4425,"user_id":2437655,"accept_rate":77,"display_name":"Shubham AgaRwal"},"score":0,"creation_date":1688531223,"post_id":73443456,"comment_id":135084022,"body_markdown":"Even Google/ Android team has marked as fixed https://issuetracker.google.com/issues/243267018#comment20 \nBut didn&#39;t mention details about the same.","body":"Even Google/ Android team has marked as fixed <a href=\"https://issuetracker.google.com/issues/243267018#comment20\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/243267018#comment20</a>  But didn&#39;t mention details about the same."}],"answers":[{"comments":[{"owner":{"account_id":2837284,"reputation":4425,"user_id":2437655,"accept_rate":77,"display_name":"Shubham AgaRwal"},"score":0,"creation_date":1688530927,"post_id":75957324,"comment_id":135083998,"body_markdown":"Good solution. But this still doesn&#39;t fix for .kt classes which implements the listener.","body":"Good solution. But this still doesn&#39;t fix for .kt classes which implements the listener."}],"tags":[],"owner":{"account_id":3342744,"reputation":2512,"user_id":2808624,"accept_rate":100,"display_name":"user2808624"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680880928,"creation_date":1680860908,"answer_id":75957324,"question_id":73443456,"body_markdown":"I have created my own SimpleOnGestureListener (named KotlinAdapterOnGestureListener) as a convenience class in Java, and then I can use Kotlin for my real OnGestureListeners extending KotlinAdapterOnGestureListener and overriding onMoveKt and onFlingKt instead of onMove and onFling:\r\n\r\n    public class KotlinAdapterOnGestureListener implements GestureDetector.OnGestureListener, GestureDetector.OnDoubleTapListener {\r\n    \r\n        public boolean onSingleTapUp(@NonNull MotionEvent e) {\r\n            return false;\r\n        }\r\n    \r\n        public void onLongPress(@NonNull MotionEvent e) {\r\n        }\r\n    \r\n        /** Instead of overwriting this method, overwrite onScrollKt, because despite\r\n         * the annotation, the parameter e1 is sometimes null. */\r\n        final public boolean onScroll(@NonNull MotionEvent e1, @NonNull MotionEvent e2,\r\n                                float distanceX, float distanceY) {\r\n            return onScrollKt(e1, e2, distanceX, distanceY);\r\n        }\r\n    \r\n        public boolean onScrollKt(MotionEvent e1, MotionEvent e2,\r\n                                float distanceX, float distanceY) {\r\n            return false;\r\n        }\r\n    \r\n        /** Instead of overwriting this method, overwrite onFlingKt, because despite\r\n         * the annotation, the parameter e1 is sometimes null. */\r\n        final public boolean onFling(@NonNull MotionEvent e1, @NonNull MotionEvent e2, float velocityX,\r\n                               float velocityY) {\r\n            return onFlingKt(e1, e2, velocityX, velocityY);\r\n        }\r\n    \r\n        public boolean onFlingKt(MotionEvent e1, MotionEvent e2,\r\n                                  float velocityX, float velocityY) {\r\n            return false;\r\n        }\r\n    \r\n        public void onShowPress(@NonNull MotionEvent e) {\r\n        }\r\n    \r\n        public boolean onDown(@NonNull MotionEvent e) {\r\n            return false;\r\n        }\r\n    \r\n        public boolean onDoubleTap(@NonNull MotionEvent e) {\r\n            return false;\r\n        }\r\n    \r\n        public boolean onDoubleTapEvent(@NonNull MotionEvent e) {\r\n            return false;\r\n        }\r\n    \r\n        public boolean onSingleTapConfirmed(@NonNull MotionEvent e) {\r\n            return false;\r\n        }\r\n    \r\n    }\r\n\r\nAt least if you have multiple OnGestureListeners, you need to have only this one class in Java and your &quot;real&quot; coding is still in Kotlin.","title":"Wrong nullable annotations: is there any way to overcome this on Kotlin, or should I use Java as a workaround?","body":"<p>I have created my own SimpleOnGestureListener (named KotlinAdapterOnGestureListener) as a convenience class in Java, and then I can use Kotlin for my real OnGestureListeners extending KotlinAdapterOnGestureListener and overriding onMoveKt and onFlingKt instead of onMove and onFling:</p>\n<pre><code>public class KotlinAdapterOnGestureListener implements GestureDetector.OnGestureListener, GestureDetector.OnDoubleTapListener {\n\n    public boolean onSingleTapUp(@NonNull MotionEvent e) {\n        return false;\n    }\n\n    public void onLongPress(@NonNull MotionEvent e) {\n    }\n\n    /** Instead of overwriting this method, overwrite onScrollKt, because despite\n     * the annotation, the parameter e1 is sometimes null. */\n    final public boolean onScroll(@NonNull MotionEvent e1, @NonNull MotionEvent e2,\n                            float distanceX, float distanceY) {\n        return onScrollKt(e1, e2, distanceX, distanceY);\n    }\n\n    public boolean onScrollKt(MotionEvent e1, MotionEvent e2,\n                            float distanceX, float distanceY) {\n        return false;\n    }\n\n    /** Instead of overwriting this method, overwrite onFlingKt, because despite\n     * the annotation, the parameter e1 is sometimes null. */\n    final public boolean onFling(@NonNull MotionEvent e1, @NonNull MotionEvent e2, float velocityX,\n                           float velocityY) {\n        return onFlingKt(e1, e2, velocityX, velocityY);\n    }\n\n    public boolean onFlingKt(MotionEvent e1, MotionEvent e2,\n                              float velocityX, float velocityY) {\n        return false;\n    }\n\n    public void onShowPress(@NonNull MotionEvent e) {\n    }\n\n    public boolean onDown(@NonNull MotionEvent e) {\n        return false;\n    }\n\n    public boolean onDoubleTap(@NonNull MotionEvent e) {\n        return false;\n    }\n\n    public boolean onDoubleTapEvent(@NonNull MotionEvent e) {\n        return false;\n    }\n\n    public boolean onSingleTapConfirmed(@NonNull MotionEvent e) {\n        return false;\n    }\n\n}\n</code></pre>\n<p>At least if you have multiple OnGestureListeners, you need to have only this one class in Java and your &quot;real&quot; coding is still in Kotlin.</p>\n"},{"comments":[{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":1,"creation_date":1688546386,"post_id":76617475,"comment_id":135086235,"body_markdown":"It&#39;s the same workaround I&#39;ve presented in the question itself... The question was for Kotlin","body":"It&#39;s the same workaround I&#39;ve presented in the question itself... The question was for Kotlin"},{"owner":{"account_id":2837284,"reputation":4425,"user_id":2437655,"accept_rate":77,"display_name":"Shubham AgaRwal"},"score":0,"creation_date":1688550363,"post_id":76617475,"comment_id":135087071,"body_markdown":"Oops. Didn&#39;t read the question probably. Waiting for update from Android SDK team. If they can resolve via androidx libraries or if kotlin team do something about it. Didn&#39;t meant to answer though, just wanted to unblock people due to this.","body":"Oops. Didn&#39;t read the question probably. Waiting for update from Android SDK team. If they can resolve via androidx libraries or if kotlin team do something about it. Didn&#39;t meant to answer though, just wanted to unblock people due to this."},{"owner":{"account_id":2837284,"reputation":4425,"user_id":2437655,"accept_rate":77,"display_name":"Shubham AgaRwal"},"score":0,"creation_date":1688550479,"post_id":76617475,"comment_id":135087086,"body_markdown":"Also, this mean other answer by user2808624 meant the same as well :D","body":"Also, this mean other answer by user2808624 meant the same as well :D"}],"tags":[],"owner":{"account_id":2837284,"reputation":4425,"user_id":2437655,"accept_rate":77,"display_name":"Shubham AgaRwal"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688536952,"creation_date":1688536952,"answer_id":76617475,"question_id":73443456,"body_markdown":"This should work IMO. Not tested heavily but should work with both `java` and `kotlin`. Also, can be used by both that is either via custom `GestureDetector.OnGestureListener` or if class itself implement the `GestureDetector.OnGestureListener`\r\n\r\n    public interface SafeOnGestureListener extends GestureDetector.OnGestureListener {\r\n    \r\n      @Override\r\n      boolean onScroll(@Nullable MotionEvent e1, @Nullable MotionEvent e2, float distanceX,\r\n              \r\n      @Override\r\n      boolean onFling(@Nullable MotionEvent e1, @Nullable MotionEvent e2, float velocityX,\r\n                      float velocityY);\r\n    }","title":"Wrong nullable annotations: is there any way to overcome this on Kotlin, or should I use Java as a workaround?","body":"<p>This should work IMO. Not tested heavily but should work with both <code>java</code> and <code>kotlin</code>. Also, can be used by both that is either via custom <code>GestureDetector.OnGestureListener</code> or if class itself implement the <code>GestureDetector.OnGestureListener</code></p>\n<pre><code>public interface SafeOnGestureListener extends GestureDetector.OnGestureListener {\n\n  @Override\n  boolean onScroll(@Nullable MotionEvent e1, @Nullable MotionEvent e2, float distanceX,\n          \n  @Override\n  boolean onFling(@Nullable MotionEvent e1, @Nullable MotionEvent e2, float velocityX,\n                  float velocityY);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5389400,"reputation":1,"user_id":4292388,"display_name":"JRSoftworx"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689771341,"creation_date":1689771341,"answer_id":76721542,"question_id":73443456,"body_markdown":"Here&#39;s our temporary fix:\r\n\r\nFirst the Class header / protocol declaration:\r\n\r\n    @Suppress(&quot;ABSTRACT_MEMBER_NOT_IMPLEMENTED&quot;)\r\n    class ActivityMain : AppCompatActivity(),\r\n        GestureDetector.OnGestureListener\r\n\r\nAnd second the method implementation:\r\n\r\n    @Suppress(&quot;ACCIDENTAL_OVERRIDE&quot;)\r\n    fun onScroll(\r\n        p0: MotionEvent?,\r\n        p1: MotionEvent,\r\n        distanceX: Float,\r\n        distanceY: Float\r\n    ): Boolean {\r\n        return true\r\n    }\r\n\r\nPlease note that there is no override before the onScroll implementation, since nothing is being overridden. And we added the &quot;?&quot; after MotionEvent.\r\n\r\nAs a result, &quot;onScroll&quot; will accept nulled-MotionEvents.\r\n","title":"Wrong nullable annotations: is there any way to overcome this on Kotlin, or should I use Java as a workaround?","body":"<p>Here's our temporary fix:</p>\n<p>First the Class header / protocol declaration:</p>\n<pre><code>@Suppress(&quot;ABSTRACT_MEMBER_NOT_IMPLEMENTED&quot;)\nclass ActivityMain : AppCompatActivity(),\n    GestureDetector.OnGestureListener\n</code></pre>\n<p>And second the method implementation:</p>\n<pre><code>@Suppress(&quot;ACCIDENTAL_OVERRIDE&quot;)\nfun onScroll(\n    p0: MotionEvent?,\n    p1: MotionEvent,\n    distanceX: Float,\n    distanceY: Float\n): Boolean {\n    return true\n}\n</code></pre>\n<p>Please note that there is no override before the onScroll implementation, since nothing is being overridden. And we added the &quot;?&quot; after MotionEvent.</p>\n<p>As a result, &quot;onScroll&quot; will accept nulled-MotionEvents.</p>\n"}],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1153,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1689771341,"creation_date":1661163120,"question_id":73443456,"body_markdown":"Background\r\n--\r\nI work on some large project on Android, that was originally written 100% in Java. As I&#39;ve converted some files to Kotlin, I&#39;ve found at least 2 cases that the documentation and the code declare that some parameters of some functions should be non-null, so I&#39;ve let them stay this way on Kotlin too:\r\n - https://developer.android.com/reference/android/view/GestureDetector.OnGestureListener#onFling(android.view.MotionEvent,%20android.view.MotionEvent,%20float,%20float)\r\n- https://developer.android.com/reference/android/view/GestureDetector.SimpleOnGestureListener#onFling(android.view.MotionEvent,%20android.view.MotionEvent,%20float,%20float)\r\n\r\nMeaning they look as such :\r\n\r\n```\r\nboolean onFling(@NonNull MotionEvent e1, @NonNull MotionEvent e2, float velocityX, float velocityY);\r\n```\r\n\r\nThe problem\r\n--\r\nI&#39;ve noticed via Crashlytics that these 2 cases actually cause some devices to crash because of they are actually getting null values, as Kotlin is strict about such a thing (getting null when the parameter is set as non null).\r\n\r\nWhat I&#39;ve tried\r\n---\r\nI&#39;ve reported about this on the issue tracker ([**here**][1] and [**here**][2]), and I tried to find how to force Kotlin to allow the parameters to be nullable, despite the code behind that says they are not. Sadly, it will always cause the error of &quot;&#39;onFling&#39; overrides nothing&quot;, and won&#39;t let me build it.\r\n\r\nI can&#39;t find how to do it, so for now, I use Java. Meaning something like this:\r\n\r\n```\r\npublic class SimpleOnGestureListenerCompat extends GestureDetector.SimpleOnGestureListener {\r\n    @Override\r\n    public boolean onFling(@Nullable final MotionEvent e1, @Nullable final MotionEvent e2, final float velocityX, final float velocityY) {\r\n        return super.onFling(e1, e2, velocityX, velocityY);\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve also added Crashlytics to tell me if the second parameter can be null too, which is why I&#39;ve set it to be nullable as well.\r\n\r\nThe questions\r\n--\r\n1. Is this the only workaround I can use for now? Can&#39;t I use Kotlin somehow for this? Maybe use some annotation that removes the nullable check during runtime for new classes that I will make, that extend these problematic classes? \r\n2. Is this allowed only because Android Studio doesn&#39;t handle nullability so well/strict for Java, or is this expected to always be a possible workaround for Java? It didn&#39;t even show me a warning for using the wrong annotations\r\n \r\n  [1]: https://issuetracker.google.com/issues/206855618\r\n  [2]: https://issuetracker.google.com/issues/243267018","title":"Wrong nullable annotations: is there any way to overcome this on Kotlin, or should I use Java as a workaround?","body":"<h2>Background</h2>\n<p>I work on some large project on Android, that was originally written 100% in Java. As I've converted some files to Kotlin, I've found at least 2 cases that the documentation and the code declare that some parameters of some functions should be non-null, so I've let them stay this way on Kotlin too:</p>\n<ul>\n<li><a href=\"https://developer.android.com/reference/android/view/GestureDetector.OnGestureListener#onFling(android.view.MotionEvent,%20android.view.MotionEvent,%20float,%20float)\" rel=\"noreferrer\">https://developer.android.com/reference/android/view/GestureDetector.OnGestureListener#onFling(android.view.MotionEvent,%20android.view.MotionEvent,%20float,%20float)</a></li>\n<li><a href=\"https://developer.android.com/reference/android/view/GestureDetector.SimpleOnGestureListener#onFling(android.view.MotionEvent,%20android.view.MotionEvent,%20float,%20float)\" rel=\"noreferrer\">https://developer.android.com/reference/android/view/GestureDetector.SimpleOnGestureListener#onFling(android.view.MotionEvent,%20android.view.MotionEvent,%20float,%20float)</a></li>\n</ul>\n<p>Meaning they look as such :</p>\n<pre><code>boolean onFling(@NonNull MotionEvent e1, @NonNull MotionEvent e2, float velocityX, float velocityY);\n</code></pre>\n<h2>The problem</h2>\n<p>I've noticed via Crashlytics that these 2 cases actually cause some devices to crash because of they are actually getting null values, as Kotlin is strict about such a thing (getting null when the parameter is set as non null).</p>\n<h2>What I've tried</h2>\n<p>I've reported about this on the issue tracker (<a href=\"https://issuetracker.google.com/issues/206855618\" rel=\"noreferrer\"><strong>here</strong></a> and <a href=\"https://issuetracker.google.com/issues/243267018\" rel=\"noreferrer\"><strong>here</strong></a>), and I tried to find how to force Kotlin to allow the parameters to be nullable, despite the code behind that says they are not. Sadly, it will always cause the error of &quot;'onFling' overrides nothing&quot;, and won't let me build it.</p>\n<p>I can't find how to do it, so for now, I use Java. Meaning something like this:</p>\n<pre><code>public class SimpleOnGestureListenerCompat extends GestureDetector.SimpleOnGestureListener {\n    @Override\n    public boolean onFling(@Nullable final MotionEvent e1, @Nullable final MotionEvent e2, final float velocityX, final float velocityY) {\n        return super.onFling(e1, e2, velocityX, velocityY);\n    }\n}\n</code></pre>\n<p>I've also added Crashlytics to tell me if the second parameter can be null too, which is why I've set it to be nullable as well.</p>\n<h2>The questions</h2>\n<ol>\n<li>Is this the only workaround I can use for now? Can't I use Kotlin somehow for this? Maybe use some annotation that removes the nullable check during runtime for new classes that I will make, that extend these problematic classes?</li>\n<li>Is this allowed only because Android Studio doesn't handle nullability so well/strict for Java, or is this expected to always be a possible workaround for Java? It didn't even show me a warning for using the wrong annotations</li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1689755544,"post_id":76719345,"comment_id":135256619,"body_markdown":"Why have you tagged three languages?","body":"Why have you tagged three languages?"},{"owner":{"account_id":24762554,"reputation":53,"user_id":18646761,"display_name":"Umseizure"},"score":0,"creation_date":1689755611,"post_id":76719345,"comment_id":135256636,"body_markdown":"mb @tgdavies fixed it","body":"mb @tgdavies fixed it"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1689755614,"post_id":76719345,"comment_id":135256637,"body_markdown":"Please edit your question to explain what you want to happen when there are two values for one key.","body":"Please edit your question to explain what you want to happen when there are two values for one key."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1689755727,"post_id":76719345,"comment_id":135256665,"body_markdown":"You could use a `Map&lt;Integer, Set&lt;Integer&gt;&gt;` instead of a `Map&lt;Integer, Integer&gt;`.","body":"You could use a <code>Map&lt;Integer, Set&lt;Integer&gt;&gt;</code> instead of a <code>Map&lt;Integer, Integer&gt;</code>."}],"answers":[{"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1689757600,"post_id":76719511,"comment_id":135257110,"body_markdown":"Small improvement on the initialization: you can use `put(1, List.of(2, 9))`, `put(2, List.of(3))` and `put(7, List.of(8))` if these lists can be read-only.","body":"Small improvement on the initialization: you can use <code>put(1, List.of(2, 9))</code>, <code>put(2, List.of(3))</code> and <code>put(7, List.of(8))</code> if these lists can be read-only."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1689759482,"post_id":76719511,"comment_id":135257530,"body_markdown":"@RobSpoor I think `Set` would be a better fit, as OP doesn&#39;t seem to care about collection order or duplicates.","body":"@RobSpoor I think <code>Set</code> would be a better fit, as OP doesn&#39;t seem to care about collection order or duplicates."}],"tags":[],"owner":{"account_id":23719347,"reputation":79,"user_id":22248291,"display_name":"Vinit Kundu"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1689756684,"creation_date":1689756684,"answer_id":76719511,"question_id":76719345,"body_markdown":"you are trying to put two values (2 and 9) with the same key (1), but the HashMap will only keep the last value (9) for the key 1.\r\n\r\nIf you want to represent a tree-like structure with multiple children for each node, using a HashMap directly may not be suitable. Instead, you can use a different data structure to represent the tree. One approach could be to use a HashMap with Integer as keys and Lists of Integers as values, where each key represents a node, and the list contains all its child nodes.\r\n\r\nYou can do it like this\r\n\r\n    Map&lt;Integer, List&lt;Integer&gt;&gt; numberInput = new HashMap&lt;&gt;();\r\n    numberInput.put(1, new ArrayList&lt;&gt;());\r\n    numberInput.get(1).add(2);\r\n    numberInput.get(1).add(9);\r\n    numberInput.put(2, new ArrayList&lt;&gt;());\r\n    numberInput.get(2).add(3);\r\n    numberInput.put(7, new ArrayList&lt;&gt;());\r\n    numberInput.get(7).add(8);\r\n\r\n    int[][] matrix = new int[10][10];\r\n    for (int i = 1; i &lt;= matrix.length; i++) {\r\n        List&lt;Integer&gt; children = numberInput.get(i);\r\n        if (children != null) {\r\n            for (int j : children) {\r\n                matrix[i - 1][j - 1] = 1;\r\n            }\r\n        }\r\n    } ","title":"HashMap tree imitation duplicate key problem","body":"<p>you are trying to put two values (2 and 9) with the same key (1), but the HashMap will only keep the last value (9) for the key 1.</p>\n<p>If you want to represent a tree-like structure with multiple children for each node, using a HashMap directly may not be suitable. Instead, you can use a different data structure to represent the tree. One approach could be to use a HashMap with Integer as keys and Lists of Integers as values, where each key represents a node, and the list contains all its child nodes.</p>\n<p>You can do it like this</p>\n<pre><code>Map&lt;Integer, List&lt;Integer&gt;&gt; numberInput = new HashMap&lt;&gt;();\nnumberInput.put(1, new ArrayList&lt;&gt;());\nnumberInput.get(1).add(2);\nnumberInput.get(1).add(9);\nnumberInput.put(2, new ArrayList&lt;&gt;());\nnumberInput.get(2).add(3);\nnumberInput.put(7, new ArrayList&lt;&gt;());\nnumberInput.get(7).add(8);\n\nint[][] matrix = new int[10][10];\nfor (int i = 1; i &lt;= matrix.length; i++) {\n    List&lt;Integer&gt; children = numberInput.get(i);\n    if (children != null) {\n        for (int j : children) {\n            matrix[i - 1][j - 1] = 1;\n        }\n    }\n} \n</code></pre>\n"},{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689762052,"post_id":76719854,"comment_id":135258042,"body_markdown":"What if we want to set (2,1) and (2,2)?","body":"What if we want to set (2,1) and (2,2)?"},{"owner":{"account_id":17348847,"reputation":79,"user_id":12567771,"display_name":"Shekhar"},"score":0,"creation_date":1689764614,"post_id":76719854,"comment_id":135258613,"body_markdown":"If we are setting in accurate fashion of matrix i.e. (2,1) = 3, we can use (2,1) as string.\n\nIf we are using locations in serial i.e. (1,1) is referred as 1,  and (1,2) is referred as 2 and (2,1) is referred as 3. Than just use the integer as key. \nMy point is that we should use location as key.","body":"If we are setting in accurate fashion of matrix i.e. (2,1) = 3, we can use (2,1) as string.  If we are using locations in serial i.e. (1,1) is referred as 1,  and (1,2) is referred as 2 and (2,1) is referred as 3. Than just use the integer as key.  My point is that we should use location as key."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689766462,"post_id":76719854,"comment_id":135259006,"body_markdown":"Good idea, it&#39;s just that that isn&#39;t what your first code sample does.","body":"Good idea, it&#39;s just that that isn&#39;t what your first code sample does."}],"tags":[],"owner":{"account_id":17348847,"reputation":79,"user_id":12567771,"display_name":"Shekhar"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689771258,"creation_date":1689759157,"answer_id":76719854,"question_id":76719345,"body_markdown":"I think the flaw is with your approach. The key of the Hashmap should be the location in your Matrix because that will be unique.\r\n\r\nIf we are using locations in serial i.e. (1,1) is referred as 1, and (1,2) is referred as 2 and (2,1) is referred as 3 than we can use location as key.\r\n\r\n\r\n    Map&lt;Integer,Integer&gt; numberInput = new HashMap&lt;Integer,Integer&gt;();\r\n      numberInput.put(2,1);\r\n      numberInput.put(9,1);\r\n      numberInput.put(3,2);\r\n      numberInput.put(8,7);\r\n\r\nIf we are setting in accurate fashion of matrix i.e. (2,1) = 3, we can use (2,1) as string\r\n\r\n    Map&lt;String,Integer&gt; numberInput = new HashMap&lt;String,Integer&gt;();\r\n      numberInput.put(&quot;2,1&quot;,1);\r\n      numberInput.put(&quot;2,2&quot;,1);\r\n\r\nThis way is more efficient and you will be able to fetch values by location.\r\nMoreover, if you pass a duplicate key it will &quot;update&quot; the value, which make sense for the case.","title":"HashMap tree imitation duplicate key problem","body":"<p>I think the flaw is with your approach. The key of the Hashmap should be the location in your Matrix because that will be unique.</p>\n<p>If we are using locations in serial i.e. (1,1) is referred as 1, and (1,2) is referred as 2 and (2,1) is referred as 3 than we can use location as key.</p>\n<pre><code>Map&lt;Integer,Integer&gt; numberInput = new HashMap&lt;Integer,Integer&gt;();\n  numberInput.put(2,1);\n  numberInput.put(9,1);\n  numberInput.put(3,2);\n  numberInput.put(8,7);\n</code></pre>\n<p>If we are setting in accurate fashion of matrix i.e. (2,1) = 3, we can use (2,1) as string</p>\n<pre><code>Map&lt;String,Integer&gt; numberInput = new HashMap&lt;String,Integer&gt;();\n  numberInput.put(&quot;2,1&quot;,1);\n  numberInput.put(&quot;2,2&quot;,1);\n</code></pre>\n<p>This way is more efficient and you will be able to fetch values by location.\nMoreover, if you pass a duplicate key it will &quot;update&quot; the value, which make sense for the case.</p>\n"}],"owner":{"account_id":24762554,"reputation":53,"user_id":18646761,"display_name":"Umseizure"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76719511,"answer_count":2,"score":1,"last_activity_date":1689771258,"creation_date":1689755482,"question_id":76719345,"body_markdown":"I have a simple code that takes an int and then a number that is attached to that number like a tree and a child. The thing is that the hashmap cant take 2 values attached to one key and just want to see if anyone has any ideas on how to fix it.\r\n\r\nBasically imagine you have a matrix 0000, and you input 1 (the row or the number the value is connected to) and 3(to the index of the matrix that will be filled) so it should return 0010\r\n\r\nHere is the code\r\n\r\n    Map&lt;Integer,Integer&gt; numberInput = new HashMap&lt;Integer,Integer&gt;();\r\n          numberInput.put(1,2);\r\n          numberInput.put(1,9);\r\n          numberInput.put(2,3);\r\n          numberInput.put(7,8);\r\n          int[][] matrix = new int[10][10];\r\n          for(int i = 0; i &lt; matrix.length;i++){\r\n              for(int j = 0; j &lt; matrix.length + 1;j++){\r\n                      if(numberInput.get(i) != null){\r\n                           if(j  == numberInput.get(i)){\r\n                               matrix[i-1][j-1] = 1;\r\n                           }\r\n                      }\r\n              }\r\n          }\r\n        for(int i = 0; i &lt; matrix.length;i ++){\r\n            for(int j = 0; j &lt; matrix.length;j++){\r\n                System.out.print(matrix[i][j]);\r\n            }\r\n            System.out.println();\r\n        }","title":"HashMap tree imitation duplicate key problem","body":"<p>I have a simple code that takes an int and then a number that is attached to that number like a tree and a child. The thing is that the hashmap cant take 2 values attached to one key and just want to see if anyone has any ideas on how to fix it.</p>\n<p>Basically imagine you have a matrix 0000, and you input 1 (the row or the number the value is connected to) and 3(to the index of the matrix that will be filled) so it should return 0010</p>\n<p>Here is the code</p>\n<pre><code>Map&lt;Integer,Integer&gt; numberInput = new HashMap&lt;Integer,Integer&gt;();\n      numberInput.put(1,2);\n      numberInput.put(1,9);\n      numberInput.put(2,3);\n      numberInput.put(7,8);\n      int[][] matrix = new int[10][10];\n      for(int i = 0; i &lt; matrix.length;i++){\n          for(int j = 0; j &lt; matrix.length + 1;j++){\n                  if(numberInput.get(i) != null){\n                       if(j  == numberInput.get(i)){\n                           matrix[i-1][j-1] = 1;\n                       }\n                  }\n          }\n      }\n    for(int i = 0; i &lt; matrix.length;i ++){\n        for(int j = 0; j &lt; matrix.length;j++){\n            System.out.print(matrix[i][j]);\n        }\n        System.out.println();\n    }\n</code></pre>\n"},{"tags":["java","optimization","mapping","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640189377,"creation_date":1640189377,"answer_id":70451976,"question_id":70358583,"body_markdown":"This is currently not possible. However, what you can do is to use a combination of `constant` and `qualifiedByName`.\r\n\r\ne.g.\r\n\r\n\r\n```java\r\n    @Mapping(target = &quot;channel&quot;, constant = &quot;email&quot; qualifiedByName = &quot;getChannel&quot;)\r\n    Notification convert(Email emailEntity);\r\n\r\n    @Named(&quot;getChannel&quot;)\r\n    default Channel[] getChannel(String channelType) {\r\n        Channel channel;\r\n        if (&quot;email&quot;.equals(channelType)) {\r\n            channel = new Channel(&quot;email&quot;, 10);\r\n        } else {\r\n            throw new IllegalArgumentException(&quot;unknown channel type &quot; + channelType);\r\n        }\r\n\r\n        return new Channel[]{channel};\r\n    }\r\n```\r\n\r\nWhat is not known that much is that `constant` works in a similar way with qualifiers as other `Mapping#source`. Since 1.4 custom mappings between `String` (what is in `constant`) and the target type will be looked for in order to convert the constant value.","title":"mapstruct qualifiedByName without parameters simplify expression","body":"<p>This is currently not possible. However, what you can do is to use a combination of <code>constant</code> and <code>qualifiedByName</code>.</p>\n<p>e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Mapping(target = &quot;channel&quot;, constant = &quot;email&quot; qualifiedByName = &quot;getChannel&quot;)\n    Notification convert(Email emailEntity);\n\n    @Named(&quot;getChannel&quot;)\n    default Channel[] getChannel(String channelType) {\n        Channel channel;\n        if (&quot;email&quot;.equals(channelType)) {\n            channel = new Channel(&quot;email&quot;, 10);\n        } else {\n            throw new IllegalArgumentException(&quot;unknown channel type &quot; + channelType);\n        }\n\n        return new Channel[]{channel};\n    }\n</code></pre>\n<p>What is not known that much is that <code>constant</code> works in a similar way with qualifiers as other <code>Mapping#source</code>. Since 1.4 custom mappings between <code>String</code> (what is in <code>constant</code>) and the target type will be looked for in order to convert the constant value.</p>\n"},{"tags":[],"owner":{"account_id":4792887,"reputation":1023,"user_id":4003272,"accept_rate":88,"display_name":"Mikhail Geyer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689771103,"creation_date":1689771103,"answer_id":76721511,"question_id":70358583,"body_markdown":"You can do it without using `source` by a direct call of the required method via `expression`:\r\n\r\n     @Mapping(target = &quot;channel&quot;, expression = &quot;java(getChannel())&quot;)\r\n     Notification convert(Email emailEntity);\r\n\r\nLooks like devellopers of `mapstruct` [do not want to support][1] the special feature for it.\r\n\r\n\r\n  [1]: https://github.com/mapstruct/mapstruct/issues/3216#issuecomment-1594482937","title":"mapstruct qualifiedByName without parameters simplify expression","body":"<p>You can do it without using <code>source</code> by a direct call of the required method via <code>expression</code>:</p>\n<pre><code> @Mapping(target = &quot;channel&quot;, expression = &quot;java(getChannel())&quot;)\n Notification convert(Email emailEntity);\n</code></pre>\n<p>Looks like devellopers of <code>mapstruct</code> <a href=\"https://github.com/mapstruct/mapstruct/issues/3216#issuecomment-1594482937\" rel=\"nofollow noreferrer\">do not want to support</a> the special feature for it.</p>\n"}],"owner":{"account_id":21482456,"reputation":103,"user_id":15829610,"display_name":"Nate Hiber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3742,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1689771103,"creation_date":1639543769,"question_id":70358583,"body_markdown":"I would like to set a constant on the field, but with method call, i do not want to create an expression it looks terrible, i would like to simplify this call \r\n\r\n     @Mapping(target = &quot;channelNotification&quot;, expression= &quot;java(new ChannelNotification[]{ &quot; +\r\n                    &quot;new ChannelNotification(\\&quot;email\\&quot;, 10)})&quot;)\r\n    \r\n    \r\n\r\nto get something like this:\r\n\r\n     @Mapping(target = &quot;channel&quot;, qualifiedByName = &quot;getChannel&quot;)\r\n        Notification convert(Email emailEntity);\r\n    \r\n     @Named(&quot;getChannel&quot;)\r\n        default Channel[] getChannel() {//with empty params\r\n            return new Channel[]{new Channel(&quot;email&quot;, 10)};\r\n        }\r\n\r\nSource entity doesn&#39;t have field channelNotification, and i don&#39;t need to use it. I just want to set a constant like constant = *, but with method call\r\n","title":"mapstruct qualifiedByName without parameters simplify expression","body":"<p>I would like to set a constant on the field, but with method call, i do not want to create an expression it looks terrible, i would like to simplify this call</p>\n<pre><code> @Mapping(target = &quot;channelNotification&quot;, expression= &quot;java(new ChannelNotification[]{ &quot; +\n                &quot;new ChannelNotification(\\&quot;email\\&quot;, 10)})&quot;)\n</code></pre>\n<p>to get something like this:</p>\n<pre><code> @Mapping(target = &quot;channel&quot;, qualifiedByName = &quot;getChannel&quot;)\n    Notification convert(Email emailEntity);\n\n @Named(&quot;getChannel&quot;)\n    default Channel[] getChannel() {//with empty params\n        return new Channel[]{new Channel(&quot;email&quot;, 10)};\n    }\n</code></pre>\n<p>Source entity doesn't have field channelNotification, and i don't need to use it. I just want to set a constant like constant = *, but with method call</p>\n"},{"tags":["java","android","asynchronous","webview"],"owner":{"account_id":21866420,"reputation":15,"user_id":16481997,"display_name":"859 - Pawan Mokal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689771013,"creation_date":1689771013,"question_id":76721495,"body_markdown":"I have two methods method A and method B.\r\n\r\n\r\nMy target is achieve output of Javascript in same method A which called it.See sample code \r\n\r\n\r\n```\r\n\r\nWebview webview;\r\nvoid onCreate(Bundle B){\r\n   super.onCreate(B);\r\n \r\n   webview.addJavascriptInterface(this,&quot;android&quot;);\r\n   A();\r\n}\r\n\r\nvoid A(){\r\n   webview.loadUrl(&quot;javascript: android.B(100);&quot;);\r\n   //I expect here output of B() which is output of Javascript\r\n   int aa = ????;\r\n\r\n\r\n}\r\n\r\n@JavascriptInterface\r\nint B(int b){\r\n   return b;\r\n}\r\n\r\n```\r\n\r\n\r\nOn A() is called, javascript executed on webview, then B() is called by javascript.\r\n\r\nI want to do javascript continues the code where it executed. Suggest for &quot;????&quot;.","title":"android/Webview/ava get code to sync methods wait for others output","body":"<p>I have two methods method A and method B.</p>\n<p>My target is achieve output of Javascript in same method A which called it.See sample code</p>\n<pre><code>\nWebview webview;\nvoid onCreate(Bundle B){\n   super.onCreate(B);\n \n   webview.addJavascriptInterface(this,&quot;android&quot;);\n   A();\n}\n\nvoid A(){\n   webview.loadUrl(&quot;javascript: android.B(100);&quot;);\n   //I expect here output of B() which is output of Javascript\n   int aa = ????;\n\n\n}\n\n@JavascriptInterface\nint B(int b){\n   return b;\n}\n\n</code></pre>\n<p>On A() is called, javascript executed on webview, then B() is called by javascript.</p>\n<p>I want to do javascript continues the code where it executed. Suggest for &quot;????&quot;.</p>\n"},{"tags":["java","regex","string","parsing","csv"],"comments":[{"owner":{"account_id":5876528,"reputation":31,"user_id":4627200,"display_name":"Limone_77"},"score":0,"creation_date":1425418033,"post_id":28842160,"comment_id":45953507,"body_markdown":"I can only figure out how to parse the string within a certain range after splitting by commas, so I have string.split(&quot;,&quot;)[1] to return everything after the first comma and before the next comma but I can&#39;t figure out how to get everything after the first comma","body":"I can only figure out how to parse the string within a certain range after splitting by commas, so I have string.split(&quot;,&quot;)[1] to return everything after the first comma and before the next comma but I can&#39;t figure out how to get everything after the first comma"},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1425419118,"post_id":28842160,"comment_id":45954086,"body_markdown":"How are you reading this file in Java code?","body":"How are you reading this file in Java code?"}],"answers":[{"tags":[],"owner":{"account_id":3696024,"reputation":1695,"user_id":3077349,"accept_rate":91,"display_name":"chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425417965,"creation_date":1425417965,"answer_id":28842200,"question_id":28842160,"body_markdown":"Try String.indexOf(&quot;,&quot;) and so on.","title":"Returning substring of string after first occurence of a comma","body":"<p>Try String.indexOf(\",\") and so on.</p>\n"},{"tags":[],"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1425418094,"creation_date":1425418094,"answer_id":28842244,"question_id":28842160,"body_markdown":"You can do:\r\n\r\n    line.substring(line.indexOf(&quot;,&quot;)+1)","title":"Returning substring of string after first occurence of a comma","body":"<p>You can do:</p>\n\n<pre><code>line.substring(line.indexOf(\",\")+1)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7050861,"reputation":71,"user_id":5399975,"accept_rate":50,"display_name":"Raj"},"score":0,"creation_date":1689748146,"post_id":28843329,"comment_id":135255239,"body_markdown":"2. is not correct. According to the manual: Limiter &#39;If provided, splits the string at each occurrence of the specified separator, but stops when limit entries have been placed in the array. Any leftover text is not included in the array at all.&quot;","body":"2. is not correct. According to the manual: Limiter &#39;If provided, splits the string at each occurrence of the specified separator, but stops when limit entries have been placed in the array. Any leftover text is not included in the array at all.&quot;"},{"owner":{"account_id":5429275,"reputation":6376,"user_id":4320665,"accept_rate":67,"display_name":"ryanyuyu"},"score":1,"creation_date":1689771088,"post_id":28843329,"comment_id":135260167,"body_markdown":"@Raj I fixed a typo, but you are mistaken. See the [documentation](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String,%20int)) linked in my answer, which states (emphasis mine) &quot;If the limit n is greater than zero then the pattern will be applied at most n - 1 times, the array&#39;s length will be no greater than n, **and the array&#39;s last entry will contain all input beyond the last matched delimiter.**&quot; Are you looking at a different version?","body":"@Raj I fixed a typo, but you are mistaken. See the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String,%20int)\" rel=\"nofollow noreferrer\">documentation</a> linked in my answer, which states (emphasis mine) &quot;If the limit n is greater than zero then the pattern will be applied at most n - 1 times, the array&#39;s length will be no greater than n, <b>and the array&#39;s last entry will contain all input beyond the last matched delimiter.</b>&quot; Are you looking at a different version?"},{"owner":{"account_id":7050861,"reputation":71,"user_id":5399975,"accept_rate":50,"display_name":"Raj"},"score":0,"creation_date":1691444211,"post_id":28843329,"comment_id":135489989,"body_markdown":"Whoops! I had a brain fart, I thought this was a javascript question.","body":"Whoops! I had a brain fart, I thought this was a javascript question."}],"tags":[],"owner":{"account_id":5429275,"reputation":6376,"user_id":4320665,"accept_rate":67,"display_name":"ryanyuyu"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689771013,"creation_date":1425422028,"answer_id":28843329,"question_id":28842160,"body_markdown":"There are a couple of different ways of removing everything before the first occurrence of a `,`.  \r\n\r\n\r\n 1. Find the index (position) of the first `,` and [substring][1] using that index.  \r\n\r\nThis would look like\r\n\r\n    String wantedPart = lineOfText.substring(lineOfText.indexOf(&quot;,&quot;) + 1);\r\n\r\n\r\nSince `indexOf` returns the index of the `,` itself, you need to add one to get everything past it.\r\n\r\n----------\r\n\r\n\r\n 2. Use a better overload like [`String.split(String regex, int limit)`][2].  This overload allows you to match a maximum of `limit` substrings.  So with a limit of 2 results, it will split on the first `,` found and leave everything else in the second (final) element of the result array.\r\n\r\nIn your code, you could use\r\n\r\n    String wantedPart = lineOfText.split(&quot;,&quot;, 2)[1];\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring(int)\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String,%20int)","title":"Returning substring of string after first occurence of a comma","body":"<p>There are a couple of different ways of removing everything before the first occurrence of a <code>,</code>.</p>\n<ol>\n<li>Find the index (position) of the first <code>,</code> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring(int)\" rel=\"nofollow noreferrer\">substring</a> using that index.</li>\n</ol>\n<p>This would look like</p>\n<pre><code>String wantedPart = lineOfText.substring(lineOfText.indexOf(&quot;,&quot;) + 1);\n</code></pre>\n<p>Since <code>indexOf</code> returns the index of the <code>,</code> itself, you need to add one to get everything past it.</p>\n<hr />\n<ol start=\"2\">\n<li>Use a better overload like <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String,%20int)\" rel=\"nofollow noreferrer\"><code>String.split(String regex, int limit)</code></a>.  This overload allows you to match a maximum of <code>limit</code> substrings.  So with a limit of 2 results, it will split on the first <code>,</code> found and leave everything else in the second (final) element of the result array.</li>\n</ol>\n<p>In your code, you could use</p>\n<pre><code>String wantedPart = lineOfText.split(&quot;,&quot;, 2)[1];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5136349,"reputation":1773,"user_id":4114992,"display_name":"Donald_W"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425422551,"creation_date":1425422551,"answer_id":28843457,"question_id":28842160,"body_markdown":"If a shell script will do, you can use the `cut` command:\r\n\r\n`-d &#39;,&#39;` means use a comma as `-f2-` means use fields 2 onwards. \r\n\r\n    Machine:~ donald$ cat file.txt\r\n    0,1\r\n    1,2\r\n    3,4\r\n    5,6,7\r\n    8,10\r\n    9,10\r\n    Machine:~ donald$ cat file.txt | cut -d &#39;,&#39; -f2-\r\n    1\r\n    2\r\n    4\r\n    6,7\r\n    10\r\n    10\r\n    Machine:~ donald$\r\n   \r\n\r\n   \r\n","title":"Returning substring of string after first occurence of a comma","body":"<p>If a shell script will do, you can use the <code>cut</code> command:</p>\n\n<p><code>-d ','</code> means use a comma as <code>-f2-</code> means use fields 2 onwards. </p>\n\n<pre><code>Machine:~ donald$ cat file.txt\n0,1\n1,2\n3,4\n5,6,7\n8,10\n9,10\nMachine:~ donald$ cat file.txt | cut -d ',' -f2-\n1\n2\n4\n6,7\n10\n10\nMachine:~ donald$\n</code></pre>\n"}],"owner":{"account_id":5876528,"reputation":31,"user_id":4627200,"display_name":"Limone_77"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14323,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1689771013,"creation_date":1425417816,"question_id":28842160,"body_markdown":"How can I take this input CSV file: \r\n\r\n    0,1\r\n    1,2\r\n    3,4\r\n    5,6,7\r\n    8,10\r\n    9,10\r\n\r\nand return only the substring of each line after the first occurrence of &quot;,&quot; so that my output is:\r\n\r\n    1\r\n    2\r\n    4\r\n    6,7\r\n    10\r\n    10\r\n\r\n\r\nI can only figure out how to parse the string within a certain range after splitting by commas, so I am using `string.split(&quot;,&quot;)[1]` to return everything after the first comma and before the next comma but I can&#39;t figure out how to get everything after the first comma.  So for the inputs with more than one comma, I&#39;m missing data.","title":"Returning substring of string after first occurence of a comma","body":"<p>How can I take this input CSV file: </p>\n\n<pre><code>0,1\n1,2\n3,4\n5,6,7\n8,10\n9,10\n</code></pre>\n\n<p>and return only the substring of each line after the first occurrence of \",\" so that my output is:</p>\n\n<pre><code>1\n2\n4\n6,7\n10\n10\n</code></pre>\n\n<p>I can only figure out how to parse the string within a certain range after splitting by commas, so I am using <code>string.split(\",\")[1]</code> to return everything after the first comma and before the next comma but I can't figure out how to get everything after the first comma.  So for the inputs with more than one comma, I'm missing data.</p>\n"},{"tags":["java","maven","enunciate"],"owner":{"account_id":418378,"reputation":397,"user_id":794903,"accept_rate":73,"display_name":"ChambreNoire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689770907,"creation_date":1689769701,"question_id":76721288,"body_markdown":"I&#39;m updating a legacy project using java 8 and enunciate-maven-plugin version 2.13.0. I have updated to jdk 11 and enunciate-maven-plugin 2.15.1 and since this I have encountered problems.\r\n\r\nparent-pom\r\n\r\n    &lt;profile&gt;\r\n        &lt;id&gt;jax-rs-api&lt;/id&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.webcohesion.enunciate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;enunciate-core-annotations&lt;/artifactId&gt;\r\n                &lt;version&gt;${enunciate-maven-plugin.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;com.webcohesion.enunciate&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;enunciate-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;docs&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/profile&gt;\r\n\r\nWhen the plugin is run by maven upon deploy, the following dto is not correctly compiled.\r\n\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  26.953 s\r\n    [INFO] Finished at: 2023-07-19T10:44:33+02:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal com.webcohesion.enunciate:enunciate-maven-plugin:2.15.0:docs (default) on project my-project: Compile failed of Java JSON client-side classes. -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal com.webcohesion.enunciate:enunciate-maven-plugin:2.15.0:docs (default) on project my-project: Compile failed of Java JSON client-side classes.\r\n\r\ndto in question:\r\n \r\n    public abstract class IdentityView&lt;T&gt; {\r\n    \r\n        private String accountId;\r\n        private T profile;\r\n        private ConfigurationView configuration;\r\n    \r\n        // setters &amp; getters\r\n    }\r\n\r\nerrors:\r\n\r\n    C:\\...\\my-project\\target\\enunciate\\java-json-client\\src\\com\\my-project\\data\\view\\IdentityView.java:21: error: illegal start of type\r\n      private ? _profile;\r\n              ^\r\n    C:\\...\\my-project\\target\\enunciate\\java-json-client\\src\\com\\my-project\\data\\view\\IdentityView.java:21: error: &lt;identifier&gt; expected\r\n      private ? _profile;\r\n                        ^\r\n    C:\\...\\my-project\\target\\enunciate\\java-json-client\\src\\com\\my-project\\data\\view\\IdentityView.java:45: error: illegal start of type\r\n      public ? getProfile() {\r\n             ^\r\n    C:\\...\\my-project\\target\\enunciate\\java-json-client\\src\\com\\my-project\\data\\view\\IdentityView.java:45: error: invalid method declaration; return type required\r\n      public ? getProfile() {\r\n               ^\r\n    C:\\...\\my-project\\target\\enunciate\\java-json-client\\src\\com\\my-project\\data\\view\\IdentityView.java:53: error: illegal start of type\r\n      public void setProfile(? _profile) {\r\n    Any ideas ?\r\n\r\nI have no idea why enunciate is ignoring the generic T used at the class level and replacing it with a &#39;?&#39; within the getter and setters that it generates...\r\n\r\nMany thanks in advance!","title":"enunciate-maven-plugin fails to compile class with generic type","body":"<p>I'm updating a legacy project using java 8 and enunciate-maven-plugin version 2.13.0. I have updated to jdk 11 and enunciate-maven-plugin 2.15.1 and since this I have encountered problems.</p>\n<p>parent-pom</p>\n<pre><code>&lt;profile&gt;\n    &lt;id&gt;jax-rs-api&lt;/id&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.webcohesion.enunciate&lt;/groupId&gt;\n            &lt;artifactId&gt;enunciate-core-annotations&lt;/artifactId&gt;\n            &lt;version&gt;${enunciate-maven-plugin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.webcohesion.enunciate&lt;/groupId&gt;\n                &lt;artifactId&gt;enunciate-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;docs&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/profile&gt;\n</code></pre>\n<p>When the plugin is run by maven upon deploy, the following dto is not correctly compiled.</p>\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  26.953 s\n[INFO] Finished at: 2023-07-19T10:44:33+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal com.webcohesion.enunciate:enunciate-maven-plugin:2.15.0:docs (default) on project my-project: Compile failed of Java JSON client-side classes. -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal com.webcohesion.enunciate:enunciate-maven-plugin:2.15.0:docs (default) on project my-project: Compile failed of Java JSON client-side classes.\n</code></pre>\n<p>dto in question:</p>\n<pre><code>public abstract class IdentityView&lt;T&gt; {\n\n    private String accountId;\n    private T profile;\n    private ConfigurationView configuration;\n\n    // setters &amp; getters\n}\n</code></pre>\n<p>errors:</p>\n<pre><code>C:\\...\\my-project\\target\\enunciate\\java-json-client\\src\\com\\my-project\\data\\view\\IdentityView.java:21: error: illegal start of type\n  private ? _profile;\n          ^\nC:\\...\\my-project\\target\\enunciate\\java-json-client\\src\\com\\my-project\\data\\view\\IdentityView.java:21: error: &lt;identifier&gt; expected\n  private ? _profile;\n                    ^\nC:\\...\\my-project\\target\\enunciate\\java-json-client\\src\\com\\my-project\\data\\view\\IdentityView.java:45: error: illegal start of type\n  public ? getProfile() {\n         ^\nC:\\...\\my-project\\target\\enunciate\\java-json-client\\src\\com\\my-project\\data\\view\\IdentityView.java:45: error: invalid method declaration; return type required\n  public ? getProfile() {\n           ^\nC:\\...\\my-project\\target\\enunciate\\java-json-client\\src\\com\\my-project\\data\\view\\IdentityView.java:53: error: illegal start of type\n  public void setProfile(? _profile) {\nAny ideas ?\n</code></pre>\n<p>I have no idea why enunciate is ignoring the generic T used at the class level and replacing it with a '?' within the getter and setters that it generates...</p>\n<p>Many thanks in advance!</p>\n"},{"tags":["java","spring-boot","web","heroku"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1689770204,"post_id":76721331,"comment_id":135259897,"body_markdown":"Can you please show your pom.xml/build.gradle?","body":"Can you please show your pom.xml/build.gradle?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1689770430,"post_id":76721331,"comment_id":135259944,"body_markdown":"Please read: [Why is Can someone help me? not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question)","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is Can someone help me? not an actual question?</a>"},{"owner":{"account_id":9097785,"reputation":23,"user_id":6771128,"display_name":"J Maine"},"score":0,"creation_date":1689770492,"post_id":76721331,"comment_id":135259965,"body_markdown":"@dan1stisonstrike, pom.xml has been added, thanks.","body":"@dan1stisonstrike, pom.xml has been added, thanks."},{"owner":{"account_id":9097785,"reputation":23,"user_id":6771128,"display_name":"J Maine"},"score":0,"creation_date":1689770561,"post_id":76721331,"comment_id":135259991,"body_markdown":"@Turing85 not sure i understand your question","body":"@Turing85 not sure i understand your question"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1689772024,"post_id":76721331,"comment_id":135260438,"body_markdown":"Try adding `&lt;java.version&gt;1.8&lt;/java.version&gt;` to the `&lt;properties&gt;` section of your pom.xml. Does that change anything?","body":"Try adding <code>&lt;java.version&gt;1.8&lt;&#47;java.version&gt;</code> to the <code>&lt;properties&gt;</code> section of your pom.xml. Does that change anything?"},{"owner":{"account_id":14763186,"reputation":101,"user_id":10661933,"display_name":"PawMaw"},"score":1,"creation_date":1689772485,"post_id":76721331,"comment_id":135260573,"body_markdown":"Read [this](https://www.baeldung.com/java-lang-unsupportedclassversion) article, might help","body":"Read <a href=\"https://www.baeldung.com/java-lang-unsupportedclassversion\" rel=\"nofollow noreferrer\">this</a> article, might help"}],"owner":{"account_id":9097785,"reputation":23,"user_id":6771128,"display_name":"J Maine"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689770445,"creation_date":1689769950,"question_id":76721331,"body_markdown":"i have a spring boot app that runs locally on my machine without any problem but when I deploy it on Heroku, I get these errors:\r\n\r\n     org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.UnsupportedClassVersionError: org/hibernate/annotations/common/reflection/ReflectionManager has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\r\nI use Intellij and i have done the necessary configurations to compile with Java 8.\r\n\r\nthe second error reads:\r\n\r\n    2023-07-19T12:15:09.744331+00:00 heroku[run.8115]: Awaiting client\r\n    2023-07-19T12:15:09.757393+00:00 heroku[run.8115]: Starting process with command `rdd-main`\r\n    2023-07-19T12:15:09.879225+00:00 heroku[run.8115]: State changed from starting to up\r\n    2023-07-19T12:15:13.029112+00:00 heroku[run.8115]: Process exited with status 127\r\n    2023-07-19T12:15:13.070949+00:00 heroku[run.8115]: State changed from up to complete\r\n\r\nPOM.xml is as follows:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;io.rdd&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;RDD&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;RDD-GHS_Accra&lt;/name&gt;\r\n    \t&lt;description&gt;RDD&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    \t\t    &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n    \t\t  &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t  &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n    \t\t  &lt;/dependency&gt;\r\n    \r\n    \t\t\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t&lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;1.8&lt;/source&gt;\r\n                &lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    \r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nI have read a lot of articles but none has any direct fix.\r\nCan anyone help, please?\r\n","title":"Process exited with status 127 after ddploying spring boot on heroku","body":"<p>i have a spring boot app that runs locally on my machine without any problem but when I deploy it on Heroku, I get these errors:</p>\n<pre><code> org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.UnsupportedClassVersionError: org/hibernate/annotations/common/reflection/ReflectionManager has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n</code></pre>\n<p>I use Intellij and i have done the necessary configurations to compile with Java 8.</p>\n<p>the second error reads:</p>\n<pre><code>2023-07-19T12:15:09.744331+00:00 heroku[run.8115]: Awaiting client\n2023-07-19T12:15:09.757393+00:00 heroku[run.8115]: Starting process with command `rdd-main`\n2023-07-19T12:15:09.879225+00:00 heroku[run.8115]: State changed from starting to up\n2023-07-19T12:15:13.029112+00:00 heroku[run.8115]: Process exited with status 127\n2023-07-19T12:15:13.070949+00:00 heroku[run.8115]: State changed from up to complete\n</code></pre>\n<p>POM.xml is as follows:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;io.rdd&lt;/groupId&gt;\n    &lt;artifactId&gt;RDD&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;RDD-GHS_Accra&lt;/name&gt;\n    &lt;description&gt;RDD&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n          &lt;/dependency&gt;\n\n        \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n    &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I have read a lot of articles but none has any direct fix.\nCan anyone help, please?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"score":0,"creation_date":1689761535,"post_id":76720117,"comment_id":135257941,"body_markdown":"Can you add the spring boot version that you are using?","body":"Can you add the spring boot version that you are using?"},{"owner":{"account_id":15887085,"reputation":137,"user_id":11463156,"display_name":"Bhavesh Shah"},"score":0,"creation_date":1689762004,"post_id":76720117,"comment_id":135258030,"body_markdown":"updated above question with spring boot version.","body":"updated above question with spring boot version."}],"owner":{"account_id":15887085,"reputation":137,"user_id":11463156,"display_name":"Bhavesh Shah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689770442,"creation_date":1689760898,"question_id":76720117,"body_markdown":"\r\nWe have a spring boot application where we configured two Datasource.\r\n\r\n1. SQL Server\r\n2. Postgres\r\n\r\nWe would like to run application even though secondary Datasource not accessible on startup.\r\n\r\nSo far I tried spring.datasource.continue-on-error=true and spring.sql.init.continue-on-error=true configuration but it was not working.\r\n\r\nPlease find below yaml configuration for primary and secondary datasource. We are using spring boot version 2.6.6.\r\n\r\n    spring:\r\n       datasource:\r\n         primary:\r\n           type: com.zaxxer.hikari.HikariDataSource\r\n           url: jdbc:sqlserver://localhost:58459;database=abcd;encrypt=false\r\n           username: sa\r\n           password: 1234\r\n           liquibase:\r\n              change-log: classpath:config/liquibase/master.xml\r\n           hikari:\r\n              poolName: Hikari\r\n              auto-commit: false\r\n              data-source-properties:\r\n                   cachePrepStmts: true\r\n                   prepStmtCacheSize: 250\r\n                   prepStmtCacheSqlLimit: 2048\r\n                   useServerPrepStmts: true\r\n         secondary:\r\n            url: jdbc:postgresql://localhost:5432/abcd\r\n            username: sa\r\n            password: 1234\r\n            driver: org.postgresql.Driver\r\n            dialect: org.hibernate.dialect.PostgreSQLDialect\r\n            physical_naming_strategy: org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy\r\n            liquibase:\r\n              change-log: classpath:config/liquibase/master-postgre.xml","title":"How to continue on error if the secondary datasource not accessible?","body":"<p>We have a spring boot application where we configured two Datasource.</p>\n<ol>\n<li>SQL Server</li>\n<li>Postgres</li>\n</ol>\n<p>We would like to run application even though secondary Datasource not accessible on startup.</p>\n<p>So far I tried spring.datasource.continue-on-error=true and spring.sql.init.continue-on-error=true configuration but it was not working.</p>\n<p>Please find below yaml configuration for primary and secondary datasource. We are using spring boot version 2.6.6.</p>\n<pre><code>spring:\n   datasource:\n     primary:\n       type: com.zaxxer.hikari.HikariDataSource\n       url: jdbc:sqlserver://localhost:58459;database=abcd;encrypt=false\n       username: sa\n       password: 1234\n       liquibase:\n          change-log: classpath:config/liquibase/master.xml\n       hikari:\n          poolName: Hikari\n          auto-commit: false\n          data-source-properties:\n               cachePrepStmts: true\n               prepStmtCacheSize: 250\n               prepStmtCacheSqlLimit: 2048\n               useServerPrepStmts: true\n     secondary:\n        url: jdbc:postgresql://localhost:5432/abcd\n        username: sa\n        password: 1234\n        driver: org.postgresql.Driver\n        dialect: org.hibernate.dialect.PostgreSQLDialect\n        physical_naming_strategy: org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy\n        liquibase:\n          change-log: classpath:config/liquibase/master-postgre.xml\n</code></pre>\n"},{"tags":["java","list","spring-boot"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1604152801,"post_id":64622378,"comment_id":114262867,"body_markdown":"In the future please don&#39;t post screenshots of error messages, post the error message itself as text instead.","body":"In the future please don&#39;t post screenshots of error messages, post the error message itself as text instead."},{"owner":{"account_id":9914090,"reputation":25,"user_id":7339659,"display_name":"Freddie"},"score":0,"creation_date":1604153135,"post_id":64622378,"comment_id":114262961,"body_markdown":"@JoachimSauer i didn&#39;t now that, but i couldn&#39;t copy the full error. That&#39;s the reason why i did a screenshot. But i will don&#39;t do it in the future","body":"@JoachimSauer i didn&#39;t now that, but i couldn&#39;t copy the full error. That&#39;s the reason why i did a screenshot. But i will don&#39;t do it in the future"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1604152681,"creation_date":1604152681,"answer_id":64622471,"question_id":64622378,"body_markdown":"`List.of` was added in [Java 9](https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of--), you need to make sure that you use JDK 9+  to compile your sources and that appropriate java version is set in the maven `pom.xml`.","title":"Cannot find symbol symbol method of() location interface java.util.list, unittests","body":"<p><code>List.of</code> was added in <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of--\" rel=\"noreferrer\">Java 9</a>, you need to make sure that you use JDK 9+  to compile your sources and that appropriate java version is set in the maven <code>pom.xml</code>.</p>\n"},{"tags":[],"owner":{"account_id":3289024,"reputation":49,"user_id":2767738,"display_name":"Amit Thakur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689770371,"creation_date":1689770371,"answer_id":76721393,"question_id":64622378,"body_markdown":"Use Java8 to resolve this error : \r\n List&lt;String&gt; openApiEndpoints =\r\n      Arrays.asList(&quot;/api/auth/register&quot;, &quot;/api/auth/token&quot;);","title":"Cannot find symbol symbol method of() location interface java.util.list, unittests","body":"<p>Use Java8 to resolve this error :\nList openApiEndpoints =\nArrays.asList(&quot;/api/auth/register&quot;, &quot;/api/auth/token&quot;);</p>\n"}],"owner":{"account_id":9914090,"reputation":25,"user_id":7339659,"display_name":"Freddie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9107,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1689770371,"creation_date":1604152123,"question_id":64622378,"body_markdown":"I&#39;m currently working on a spring boot application, where I&#39;m now writing the unittests. But when I run the command &#39;mvn test&#39;, I get the following error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThis is the code\r\n\r\nBoardServiceTest.java\r\n```\r\n@Test\r\npublic void testGetBoards() {\r\n\tSet&lt;Lists&gt; list =  new HashSet&lt;Lists&gt;();\r\n\t\r\n\tList&lt;Board&gt; expectedBoards = List.of(\r\n\t\tnew Board(1, &quot;Studie&quot;, list),\r\n\t\tnew Board(2, &quot;Todo Applicatie&quot;, list)\r\n\t);\r\n\t\r\n\twhen(this.boardRepo.findAll()).thenReturn(expectedBoards);\r\n\t\r\n\tvar receivedBoards = this.boardService.getBoards();\r\n\tassertEquals(expectedBoards, receivedBoards);\r\n\tverify(this.boardRepo, times(1)).findAll();\r\n}\r\n```\r\n\r\nListsServiceTest.java\r\n```\r\n@Test\r\npublic void testGetLists() throws Exception {\t\r\n\tint boardId = 1;\r\n\tSet&lt;Task&gt; task = new HashSet&lt;&gt;();\r\n\r\n\tList&lt;Lists&gt; expectedLists = List.of(\r\n\t\tnew Lists(1, &quot;registered&quot;, new Board(), task),\r\n\t\tnew Lists(2, &quot;open&quot;, new Board(), task)\r\n\t);\r\n\t\r\n\twhen(this.listRepository.findAll()).thenReturn(expectedLists);\r\n\t\r\n\tvar receivedLists = this.listService.getLists(boardId);\r\n\t\r\n\tassertEquals(expectedLists, receivedLists);\r\n\tverify(this.listRepository, times(1)).findAll();\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/uQpj9.png","title":"Cannot find symbol symbol method of() location interface java.util.list, unittests","body":"<p>I'm currently working on a spring boot application, where I'm now writing the unittests. But when I run the command 'mvn test', I get the following error:</p>\n<p><a href=\"https://i.stack.imgur.com/uQpj9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uQpj9.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the code</p>\n<p>BoardServiceTest.java</p>\n<pre><code>@Test\npublic void testGetBoards() {\n    Set&lt;Lists&gt; list =  new HashSet&lt;Lists&gt;();\n    \n    List&lt;Board&gt; expectedBoards = List.of(\n        new Board(1, &quot;Studie&quot;, list),\n        new Board(2, &quot;Todo Applicatie&quot;, list)\n    );\n    \n    when(this.boardRepo.findAll()).thenReturn(expectedBoards);\n    \n    var receivedBoards = this.boardService.getBoards();\n    assertEquals(expectedBoards, receivedBoards);\n    verify(this.boardRepo, times(1)).findAll();\n}\n</code></pre>\n<p>ListsServiceTest.java</p>\n<pre><code>@Test\npublic void testGetLists() throws Exception {   \n    int boardId = 1;\n    Set&lt;Task&gt; task = new HashSet&lt;&gt;();\n\n    List&lt;Lists&gt; expectedLists = List.of(\n        new Lists(1, &quot;registered&quot;, new Board(), task),\n        new Lists(2, &quot;open&quot;, new Board(), task)\n    );\n    \n    when(this.listRepository.findAll()).thenReturn(expectedLists);\n    \n    var receivedLists = this.listService.getLists(boardId);\n    \n    assertEquals(expectedLists, receivedLists);\n    verify(this.listRepository, times(1)).findAll();\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","azure-pipelines-yaml"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689598174,"post_id":76704506,"comment_id":135231715,"body_markdown":"It would appear that application.yaml has now disappeared as a file resource. It won&#39;t do you any harm to dump the value of the classpath so you know what it is","body":"It would appear that application.yaml has now disappeared as a file resource. It won&#39;t do you any harm to dump the value of the classpath so you know what it is"},{"owner":{"account_id":1632114,"reputation":707,"user_id":1506449,"display_name":"Sajit Gangadharan"},"score":0,"creation_date":1689660264,"post_id":76704506,"comment_id":135240978,"body_markdown":"The issue here is that, it is completely missing to read the application.yml file. The first line which starts with Config resource is missing","body":"The issue here is that, it is completely missing to read the application.yml file. The first line which starts with Config resource is missing"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689672577,"post_id":76704506,"comment_id":135243479,"body_markdown":"Unfortunately you haven&#39;t added anything to my last comment, but rather repeated it. Firstly, where is the resource *now* that contains the configuration you need?","body":"Unfortunately you haven&#39;t added anything to my last comment, but rather repeated it. Firstly, where is the resource <i>now</i> that contains the configuration you need?"},{"owner":{"account_id":1632114,"reputation":707,"user_id":1506449,"display_name":"Sajit Gangadharan"},"score":0,"creation_date":1689753527,"post_id":76704506,"comment_id":135256200,"body_markdown":"The resource is available in this location:  &#39;file [/etc/config/application.yaml]&#39;","body":"The resource is available in this location:  &#39;file [/etc/config/application.yaml]&#39;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689763241,"post_id":76704506,"comment_id":135258308,"body_markdown":"Why not try adding that manually?","body":"Why not try adding that manually?"}],"answers":[{"tags":[],"owner":{"account_id":1632114,"reputation":707,"user_id":1506449,"display_name":"Sajit Gangadharan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689770354,"creation_date":1689770354,"answer_id":76721390,"question_id":76704506,"body_markdown":"Well, The issue seem to be with the way I set spring profile in my mvn command. Previously it was set to                 -Dspring.config.location=optional:classpath:/,optional:file:/etc/config/application.yaml\r\n\r\nI changed to \r\n-Dspring.config.location=file:/etc/config/application.yaml and it started working. However, I could not figure out the reason behind it. ","title":"Springboot is not loading application properties in cloud environment","body":"<p>Well, The issue seem to be with the way I set spring profile in my mvn command. Previously it was set to                 -Dspring.config.location=optional:classpath:/,optional:file:/etc/config/application.yaml</p>\n<p>I changed to\n-Dspring.config.location=file:/etc/config/application.yaml and it started working. However, I could not figure out the reason behind it.</p>\n"}],"owner":{"account_id":1632114,"reputation":707,"user_id":1506449,"display_name":"Sajit Gangadharan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76721390,"answer_count":1,"score":0,"last_activity_date":1689770354,"creation_date":1689597291,"question_id":76704506,"body_markdown":"I have a weird case, I am currently working on upgrading my application with new jars. However after updating with New Jars. My deployment in cloud environment stopped working. It works absolutely fine in my local. \r\n\r\nThis jar has its own springboot configurations but I believe it should not affect my changes. \r\n\r\nWhen I print all the environment variables, I observed that my application.yml is not getting loaded which is causing this issue but I have no idea why ? Has one one come across similar situation.\r\n\r\nBefore upgrade: Springboot property source:\r\n\r\n```\r\nOriginTrackedMapPropertySource {name=&#39;Config resource &#39;file [/etc/config/application.yaml]&#39; via location &#39;optional:file:/etc/config/application.yaml&#39;&#39;}\r\nOriginTrackedMapPropertySource {name=&#39;appDefaultConfig [classpath:/old-defaults.yml]&#39;}\r\nOriginTrackedMapPropertySource {name=&#39;appDefaultConfig [classpath:/old-defaults.yml] (document #0)&#39;}\r\n```\r\n\r\nAfter upgrade: Springboot property source: \r\n\r\n```\r\n\r\nOriginTrackedMapPropertySource {name=&#39;appDefaultConfig [classpath:/new-defaults.yml]#default (document #1)&#39;}\r\nOriginTrackedMapPropertySource {name=&#39;appDefaultConfig [classpath:/new-defaults.yml] (document #0)&#39;}\r\n```\r\nI see that &#39;config resource &#39; in OriginTrackedMapPropertySource is missing after upgrade.\r\nAlso, I observed that spring active profile which was displaying earlier is now showing empty. \r\n\r\n\r\nI am using spring boot 2.7.4 Java 17 version. \r\n\r\n\r\n","title":"Springboot is not loading application properties in cloud environment","body":"<p>I have a weird case, I am currently working on upgrading my application with new jars. However after updating with New Jars. My deployment in cloud environment stopped working. It works absolutely fine in my local.</p>\n<p>This jar has its own springboot configurations but I believe it should not affect my changes.</p>\n<p>When I print all the environment variables, I observed that my application.yml is not getting loaded which is causing this issue but I have no idea why ? Has one one come across similar situation.</p>\n<p>Before upgrade: Springboot property source:</p>\n<pre><code>OriginTrackedMapPropertySource {name='Config resource 'file [/etc/config/application.yaml]' via location 'optional:file:/etc/config/application.yaml''}\nOriginTrackedMapPropertySource {name='appDefaultConfig [classpath:/old-defaults.yml]'}\nOriginTrackedMapPropertySource {name='appDefaultConfig [classpath:/old-defaults.yml] (document #0)'}\n</code></pre>\n<p>After upgrade: Springboot property source:</p>\n<pre><code>\nOriginTrackedMapPropertySource {name='appDefaultConfig [classpath:/new-defaults.yml]#default (document #1)'}\nOriginTrackedMapPropertySource {name='appDefaultConfig [classpath:/new-defaults.yml] (document #0)'}\n</code></pre>\n<p>I see that 'config resource ' in OriginTrackedMapPropertySource is missing after upgrade.\nAlso, I observed that spring active profile which was displaying earlier is now showing empty.</p>\n<p>I am using spring boot 2.7.4 Java 17 version.</p>\n"},{"tags":["java","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":25861807,"reputation":11,"user_id":19594156,"display_name":"Rivkar"},"score":0,"creation_date":1689771076,"post_id":76721342,"comment_id":135260164,"body_markdown":"it would be equal to select * from users where name like &#39;Joe&#39; or (last_name like &#39;Rose&#39; and id = 5) , wouln&#39;t it? in any case what if I have some of and or is there any why to use a kind of parenthesis?","body":"it would be equal to select * from users where name like &#39;Joe&#39; or (last_name like &#39;Rose&#39; and id = 5) , wouln&#39;t it? in any case what if I have some of and or is there any why to use a kind of parenthesis?"},{"owner":{"account_id":7582042,"reputation":11,"user_id":5752454,"display_name":"Deepa"},"score":0,"creation_date":1689837978,"post_id":76721342,"comment_id":135270624,"body_markdown":"Yes, correct. And has higher precedence than Or. So, I guess, can be done only with @Query.","body":"Yes, correct. And has higher precedence than Or. So, I guess, can be done only with @Query."}],"tags":[],"owner":{"account_id":7582042,"reputation":11,"user_id":5752454,"display_name":"Deepa"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689770326,"creation_date":1689770003,"answer_id":76721342,"question_id":76720892,"body_markdown":"This should work:\r\n\r\n    List&lt;User&gt; findByNameContainingOrLastNameContainingAndId(String name, String lastName, Long id);","title":"JPA Repository - combination of and, or conditions","body":"<p>This should work:</p>\n<pre><code>List&lt;User&gt; findByNameContainingOrLastNameContainingAndId(String name, String lastName, Long id);\n</code></pre>\n"}],"owner":{"account_id":25861807,"reputation":11,"user_id":19594156,"display_name":"Rivkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689770326,"creation_date":1689766670,"question_id":76720892,"body_markdown":"I want to create a query with a combination of and, or conditions in it\r\n\r\nin SQL it looks like select * from users where id = 5 and (name like &#39;Joe&#39; or last_name like &#39;Rose&#39;)\r\nhow can I do it in JPA Repository, I prefer not to use @Query, is it possible?","title":"JPA Repository - combination of and, or conditions","body":"<p>I want to create a query with a combination of and, or conditions in it</p>\n<p>in SQL it looks like select * from users where id = 5 and (name like 'Joe' or last_name like 'Rose')\nhow can I do it in JPA Repository, I prefer not to use @Query, is it possible?</p>\n"},{"tags":["java","android","audiorecord","amplitude","decibel"],"comments":[{"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"score":0,"creation_date":1689770437,"post_id":76720945,"comment_id":135259946,"body_markdown":"Your decibel formula suggests that you may always be getting zero as your max amplitude for some reason.","body":"Your decibel formula suggests that you may always be getting zero as your max amplitude for some reason."}],"owner":{"account_id":6377464,"reputation":71,"user_id":4947948,"display_name":"Anshul Saraf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689769892,"creation_date":1689766982,"question_id":76720945,"body_markdown":"I am using the Android `AudioRecord` to get a continuous audio buffer. During the`read`, I want to evaluate the highest decibel from the buffer.\r\n\r\nBelow is the configuration of AudioRecord:\r\n&gt;sample rate = 16000; channels = 1; bits per sample = 16;\r\n\r\nReading the buffer in a byte array:\r\n```\r\nint bufferSize = AudioRecord.getMinBufferSize(sampleRateInHz, channelConfig, audioFormat);\r\n// bufferSize is 1280 with sampleRateInHz = 16000, channelConfig = 16 and audioFormat = 2\r\n\r\nint bytesRead;\r\nbyte[] fullBuffer = null;\r\nbyte[] auxBuffer = null;\r\nbyte[] buffer = new byte[bufferSize];\r\n\r\nwhile(isRecording) {\r\n  bytesRead = recorder.read(buffer, 0, buffer.length);\r\n  if(fullBuffer == null) {\r\n    fullBuffer = new byte[buffer.length];\r\n    fullBuffer = buffer.clone();\r\n  }\r\n  else {\r\n    auxBuffer = fullBuffer.clone();\r\n    fullBuffer = new byte[buffer.length + fullBuffer.length];\r\n    System.arraycopy(auxBuffer, 0, fullBuffer, 0, auxBuffer.length);\r\n    System.arraycopy(buffer, 0, fullBuffer, auxBuffer.length, buffer.length);\r\n  }\r\n}\r\n```\r\nConverting this byte array to a short array:\r\n```\r\npublic static short[] convertByteArrayToShortArray(byte[] byteArray) {\r\n    short[] shortArray = new short[byteArray.length / 2];\r\n    for (int i = 0; i &lt; byteArray.length; i += 2) {\r\n      short sample = (short) ((byteArray[i] &lt;&lt; 8) | byteArray[i + 1]);\r\n      shortArray[i / 2] = sample;\r\n    }\r\n    return shortArray;\r\n  }\r\n```\r\nGetting the Max Amplitde from the short array:\r\n```\r\nshort[] shortBuffer = convertByteArrayToShortArray(fullBuffer);\r\n\r\ndouble maxAmplitude = Integer.MIN_VALUE;\r\n\r\nfor (int i = 0; i &lt; shortBuffer.length; i++) {\r\n  short sample = shortBuffer[i];\r\n  double amplitude = Math.abs(sample);\r\n  if (amplitude &gt; maxAmplitude) {\r\n    maxAmplitude = amplitude;\r\n  }\r\n}\r\n```\r\nCalculating the decibel from the max amplitude:\r\n```\r\ndouble db = 20 * Math.log10(maxAmplitude / 32768);\r\n```\r\nThe above is not returning realistic values for decibels. The deviation in value between total silence and loudness is none. \r\n\r\nBelow are some logs (note that the **Buffer** value is same for all logs):\r\n\r\n&gt; Buffer [B@25df3e4&lt;br/&gt; Buffer Length 1280&lt;br/&gt; Full Buffer [B@152c381&lt;br/&gt; Full Buffer Length 28160&lt;br/&gt; Short Buffer\r\n&gt; [S@e94bc26&lt;br/&gt; Short Buffer Length 14080&lt;br/&gt; Max Amplitude\r\n&gt; 32768.0&lt;br/&gt; Decibel 0.0&lt;br/&gt;\r\n&gt; \r\n&gt; Buffer [B@25df3e4&lt;br/&gt; Buffer Length 1280&lt;br/&gt; Full Buffer [B@48074b2&lt;br/&gt; Full Buffer Length 33280&lt;br/&gt; Short Buffer\r\n&gt; [S@1ec1c03&lt;br/&gt; Short Buffer Length 16640&lt;br/&gt; Max Amplitude\r\n&gt; 32768.0&lt;br/&gt; Decibel 0.0&lt;br/&gt;\r\n&gt; \r\n&gt; Buffer [B@25df3e4&lt;br/&gt; Buffer Length 1280&lt;br/&gt; Full Buffer [B@5f30f62&lt;br/&gt; Full Buffer Length 33280&lt;br/&gt; Short Buffer\r\n&gt; [S@ef998f3&lt;br/&gt; Short Buffer Length 16640&lt;br/&gt; Max Amplitude\r\n&gt; 32768.0&lt;br/&gt; Decibel 0.0&lt;br/&gt;\r\n&gt; \r\n&gt; Buffer [B@25df3e4&lt;br/&gt; Buffer Length 1280&lt;br/&gt; Full Buffer [B@e040029&lt;br/&gt; Full Buffer Length 33280&lt;br/&gt; Short Buffer\r\n&gt; [S@876bfae&lt;br/&gt; Short Buffer Length 16640&lt;br/&gt; Max Amplitude\r\n&gt; 32768.0&lt;br/&gt; Decibel 0.0&lt;br/&gt;\r\n\r\nPlease suggest what&#39;s wrong here.","title":"Calculate Decibels from AudioRecorder in Android","body":"<p>I am using the Android <code>AudioRecord</code> to get a continuous audio buffer. During the<code>read</code>, I want to evaluate the highest decibel from the buffer.</p>\n<p>Below is the configuration of AudioRecord:</p>\n<blockquote>\n<p>sample rate = 16000; channels = 1; bits per sample = 16;</p>\n</blockquote>\n<p>Reading the buffer in a byte array:</p>\n<pre><code>int bufferSize = AudioRecord.getMinBufferSize(sampleRateInHz, channelConfig, audioFormat);\n// bufferSize is 1280 with sampleRateInHz = 16000, channelConfig = 16 and audioFormat = 2\n\nint bytesRead;\nbyte[] fullBuffer = null;\nbyte[] auxBuffer = null;\nbyte[] buffer = new byte[bufferSize];\n\nwhile(isRecording) {\n  bytesRead = recorder.read(buffer, 0, buffer.length);\n  if(fullBuffer == null) {\n    fullBuffer = new byte[buffer.length];\n    fullBuffer = buffer.clone();\n  }\n  else {\n    auxBuffer = fullBuffer.clone();\n    fullBuffer = new byte[buffer.length + fullBuffer.length];\n    System.arraycopy(auxBuffer, 0, fullBuffer, 0, auxBuffer.length);\n    System.arraycopy(buffer, 0, fullBuffer, auxBuffer.length, buffer.length);\n  }\n}\n</code></pre>\n<p>Converting this byte array to a short array:</p>\n<pre><code>public static short[] convertByteArrayToShortArray(byte[] byteArray) {\n    short[] shortArray = new short[byteArray.length / 2];\n    for (int i = 0; i &lt; byteArray.length; i += 2) {\n      short sample = (short) ((byteArray[i] &lt;&lt; 8) | byteArray[i + 1]);\n      shortArray[i / 2] = sample;\n    }\n    return shortArray;\n  }\n</code></pre>\n<p>Getting the Max Amplitde from the short array:</p>\n<pre><code>short[] shortBuffer = convertByteArrayToShortArray(fullBuffer);\n\ndouble maxAmplitude = Integer.MIN_VALUE;\n\nfor (int i = 0; i &lt; shortBuffer.length; i++) {\n  short sample = shortBuffer[i];\n  double amplitude = Math.abs(sample);\n  if (amplitude &gt; maxAmplitude) {\n    maxAmplitude = amplitude;\n  }\n}\n</code></pre>\n<p>Calculating the decibel from the max amplitude:</p>\n<pre><code>double db = 20 * Math.log10(maxAmplitude / 32768);\n</code></pre>\n<p>The above is not returning realistic values for decibels. The deviation in value between total silence and loudness is none.</p>\n<p>Below are some logs (note that the <strong>Buffer</strong> value is same for all logs):</p>\n<blockquote>\n<p>Buffer [B@25df3e4<br/> Buffer Length 1280<br/> Full Buffer [B@152c381<br/> Full Buffer Length 28160<br/> Short Buffer\n[S@e94bc26<br/> Short Buffer Length 14080<br/> Max Amplitude\n32768.0<br/> Decibel 0.0<br/></p>\n<p>Buffer [B@25df3e4<br/> Buffer Length 1280<br/> Full Buffer [B@48074b2<br/> Full Buffer Length 33280<br/> Short Buffer\n[S@1ec1c03<br/> Short Buffer Length 16640<br/> Max Amplitude\n32768.0<br/> Decibel 0.0<br/></p>\n<p>Buffer [B@25df3e4<br/> Buffer Length 1280<br/> Full Buffer [B@5f30f62<br/> Full Buffer Length 33280<br/> Short Buffer\n[S@ef998f3<br/> Short Buffer Length 16640<br/> Max Amplitude\n32768.0<br/> Decibel 0.0<br/></p>\n<p>Buffer [B@25df3e4<br/> Buffer Length 1280<br/> Full Buffer [B@e040029<br/> Full Buffer Length 33280<br/> Short Buffer\n[S@876bfae<br/> Short Buffer Length 16640<br/> Max Amplitude\n32768.0<br/> Decibel 0.0<br/></p>\n</blockquote>\n<p>Please suggest what's wrong here.</p>\n"},{"tags":["java","android","video","documentation","video-editing"],"answers":[{"tags":[],"owner":{"account_id":8234124,"reputation":454,"user_id":6193960,"display_name":"Vishal Senjaliya"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1495623464,"creation_date":1495623464,"answer_id":44156378,"question_id":44156286,"body_markdown":"Follow this Github example and try to understand every functionality of this example.\r\n\r\nFirst Github Example Link : [Video Editing example][1]\r\n\r\n\r\nSecond Github Example Link :[Video Editing Example ][2]\r\n\r\nHope it will help you...\r\n\r\n\r\n  [1]: https://github.com/JaySardhara/Video-Editor\r\n  [2]: https://github.com/bhuvnesh123/FFmpeg-Video-Editor-Android","title":"Video editing in android studio","body":"<p>Follow this Github example and try to understand every functionality of this example.</p>\n\n<p>First Github Example Link : <a href=\"https://github.com/JaySardhara/Video-Editor\" rel=\"noreferrer\">Video Editing example</a></p>\n\n<p>Second Github Example Link :<a href=\"https://github.com/bhuvnesh123/FFmpeg-Video-Editor-Android\" rel=\"noreferrer\">Video Editing Example </a></p>\n\n<p>Hope it will help you...</p>\n"}],"owner":{"account_id":7939501,"reputation":625,"user_id":5994118,"accept_rate":50,"display_name":"Anders Lassen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12448,"favorite_count":0,"down_vote_count":3,"up_vote_count":9,"answer_count":1,"score":6,"last_activity_date":1689769819,"creation_date":1495623225,"question_id":44156286,"body_markdown":"i&#39;m looking on some documentation and examples as to how i should get started creating a video editing application. Been having a hard time finding anything useful, anyone who can guide me to something?\r\n\r\nThanks","title":"Video editing in android studio","body":"<p>i'm looking on some documentation and examples as to how i should get started creating a video editing application. Been having a hard time finding anything useful, anyone who can guide me to something?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","swing","java-threads"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1689773625,"post_id":76721308,"comment_id":135260898,"body_markdown":"Quite possibly a memory leak. Maybe look into using a memory profiler tool?","body":"Quite possibly a memory leak. Maybe look into using a memory profiler tool?"},{"owner":{"account_id":9215204,"reputation":11,"user_id":6846630,"display_name":"Theo S"},"score":0,"creation_date":1697111487,"post_id":76721308,"comment_id":136240062,"body_markdown":"Well after lots of testing and carefully checking the code, it seems this wasn&#39;t a problem with the code at all but a problem with the resources. The VM was a little low on memory and disk space was getting filled to the brim on occasion having 5MB of disk left. We applied more resources and haven&#39;t encountered the problem again.","body":"Well after lots of testing and carefully checking the code, it seems this wasn&#39;t a problem with the code at all but a problem with the resources. The VM was a little low on memory and disk space was getting filled to the brim on occasion having 5MB of disk left. We applied more resources and haven&#39;t encountered the problem again."}],"owner":{"account_id":9215204,"reputation":11,"user_id":6846630,"display_name":"Theo S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689769813,"creation_date":1689769813,"question_id":76721308,"body_markdown":"so we built this internal tool running 24/7 on a VM as daemon, doing some jobs on a worker thread and also built a simple swing GUI for our own convenience that informs us of progress, any problems etc.\r\n\r\nThe problem is that after running for a few days, the GUI can completely freeze, meaning no more updates, no responsiveness on the scrollbar or window buttons, and if you try to resize the window, the resized portion blacks out. \r\n\r\nThe worker thread keeps working without a hiccup on the background and keeps logging its work.\r\n\r\nI&#39;ve also attached a debugger to the JVM in order to see if I can understand what is happening, but if  I try to access the component and invoke any method on it (e.g.  .getName(); or anything) the debugger hangs forever trying to evaluate.\r\n\r\nAs far as I know, all GUI operations need to be on the EDT thread, and all interactions with the component happen through the #appendTextToGui methods which uses the EDT.\r\nThe worker thread that calls #appendTextTextToGui is a java.lang.Thread not a SwingWorker if that makes a difference.\r\nFinally, that Thread is calling an external python process with the Java ProcessBuilder, and any output from the python script is piped to the java InputStream and sent to #appendTextToGui\r\n\r\n\r\n\r\n```\r\npublic class ProgressGUI extends JFrame {\r\n    private static ProgressGUI instance;\r\n    static JTextPane textpane;\r\n    private StyleContext context;\r\n    private String previousMessage;\r\n\r\n    public static ProgressGUI getProgressPanel() {\r\n        if (instance == null) {\r\n            instance = new ProgressGUI();\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    private ProgressGUI() {\r\n        LimitedSizeDocument document = new LimitedSizeDocument();\r\n        textpane = new JTextPane(document);\r\n        textpane.setFont(textpane.getFont().deriveFont(24f));\r\n        textpane.setEditable(false);\r\n        textpane.setOpaque(false);\r\n        context = new StyleContext();\r\n\r\n        this.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\r\n        this.addWindowListener(new WindowAdapter() {\r\n            @Override\r\n            public void windowClosing(WindowEvent e) {\r\n                int result = JOptionPane.showConfirmDialog(instance, &quot;Exit request. Are you sure you want to close this worker?&quot;, &quot;Confirm Exit&quot;, JOptionPane.YES_NO_OPTION);\r\n                if (result == JOptionPane.YES_OPTION) {\r\n                    if(MailboxProcessor.isProcessorRunning()) {\r\n                        MailboxProcessor.requestShutdown();\r\n                    }\r\n                    else{\r\n                        System.exit(0);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        this.getContentPane().add(getContentPanel(textpane));\r\n        this.pack();\r\n        this.setSize(new Dimension(1400, 800));\r\n        this.setLocationRelativeTo(null);\r\n        this.setVisible(true);\r\n    }\r\n\r\n    private Style getTextStyle(Color color) {\r\n        if (context.getStyle(color.toString()) == null) {\r\n            // build a style and set some style properties\r\n            Style newStyle = context.addStyle(color.toString(), null);\r\n            StyleConstants.setForeground(newStyle, color);\r\n            return newStyle;\r\n        }\r\n        return context.getStyle(color.toString());\r\n    }\r\n\r\n    private JPanel getContentPanel(JTextComponent textComponent) {\r\n        JPanel jPanel = new JPanel();\r\n        jPanel.setLayout(new BorderLayout());\r\n\r\n        Image backGroundImage = new ImageIcon(FolderStructure.CONFIG_FOLDER + &quot;inter.png&quot;).getImage();\r\n\r\n        JViewport viewport = new JViewport() {\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g); //initialize the default behaviour of the graphics\r\n                g.setColor(Color.WHITE); //change the color of the background of the graphic context\r\n                g.fillRect(0, 0, getWidth(), getHeight());\r\n\r\n                // Paint image\r\n                if (backGroundImage != null) {\r\n                    Graphics2D g2d = (Graphics2D) g.create(); //create copy of the original graphic (that would be the bare background and TextPane)\r\n                    g2d.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_OVER, 0.5f)); //any new graphic that is now added (our image) is painted with SRC_OVER on top of the original graphic, and with transparency 0.5f\r\n                    g2d.drawImage(backGroundImage, 0, 0, getWidth(), getHeight(), this);\r\n                    g2d.dispose();\r\n                }\r\n            }\r\n        };\r\n\r\n\r\n        JScrollPane jScrollPane = new JScrollPane(textComponent, JScrollPane.VERTICAL_SCROLLBAR_ALWAYS, JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\r\n        jScrollPane.setViewport(viewport);\r\n        jScrollPane.setViewportView(textComponent);\r\n\r\n        //add AdjustmentListener to implement autoscrolling when the scrollbar is at the bottom and not getting adjusted by the user\r\n        jScrollPane.getVerticalScrollBar().addAdjustmentListener(new AdjustmentListener() {\r\n            BoundedRangeModel brm = jScrollPane.getVerticalScrollBar().getModel();\r\n            boolean wasAtBottom = true;\r\n\r\n            @Override\r\n            public void adjustmentValueChanged(AdjustmentEvent e) {\r\n                SwingUtilities.invokeLater(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        if (!brm.getValueIsAdjusting()) {\r\n                            if (wasAtBottom) {\r\n                                brm.setValue(brm.getMaximum());\r\n                            }\r\n                        } else {\r\n                            wasAtBottom = ((brm.getValue() + brm.getExtent()) == brm.getMaximum());\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        jPanel.add(jScrollPane);\r\n        return jPanel;\r\n    }\r\n\r\n    public void appendTextToGUI(String str) {\r\n        appendTextToGUI(str, Color.BLACK);\r\n    }\r\n\r\n    public void appendTextToGUI(String str, Color color) {\r\n        if (str.equals(previousMessage)) return; //prevent spam when checking for new emails many times\r\n        previousMessage = str;\r\n        SwingUtilities.invokeLater(new Runnable() { //GUI modification need to run on EDT\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    Document document = textpane.getDocument();\r\n                    document.insertString(document.getLength(), str + System.lineSeparator(), getTextStyle(color));\r\n                    ProgressGUI.this.revalidate();\r\n                    ProgressGUI.this.repaint();\r\n                } catch (BadLocationException e) {\r\n                    Provider.getLogger().info(e.getMessage() + &quot; for string &quot; + str);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Limited size Document class was created to keep the size of the Text Pane of the constantly running workers in check\r\n     */\r\n    private class LimitedSizeDocument extends DefaultStyledDocument {\r\n        private int MAX_DOC_SIZE = 100000;\r\n        @Override\r\n        public void insertString(int offs, String additionalString, AttributeSet a) throws BadLocationException {\r\n            // Calculate the number of characters that will exceed the maximum size\r\n            int excess = (getLength() + additionalString.length()) - MAX_DOC_SIZE;\r\n            if (excess &gt; 0) {\r\n                // If the inserted text exceeds the maximum size, discard the oldest characters\r\n                int removeCount = Math.min(offs, excess);\r\n                super.remove(0, removeCount);\r\n                offs = offs - removeCount;\r\n            }\r\n            // Insert the new text\r\n            super.insertString(offs, additionalString, a);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nCan you spot anything that would cause such a problem?\r\n\r\n\r\nI made a quick stress test bombarding the GUI with updates in a short time but couldn&#39;t reproduce the problem\r\n\r\n\r\n```\r\n    @Ignore\r\n    @Test\r\n    public void testSTRESSProgressGUI() throws BadLocationException, InterruptedException, InvocationTargetException {\r\n        ProgressGUI progressGUI = ProgressGUI.getProgressPanel();\r\n        progressGUI.setVisible(true);\r\n\r\n        String str1 = &quot;progressing...&quot;;\r\n        String str2 = &quot;finished&quot;;\r\n        while(true){\r\n            progressGUI.appendTextToGUI(str1 + str2 + new Random().nextInt(((int) Instant.now().getEpochSecond()))+ str1+str1+str1+str1+str1+str1+str1 + str2 + new Random().nextInt(((int) Instant.now().getEpochSecond()))+ str1+str1+str1+str1+str1+str1+str1 + str2 +str1+str1+new Random().nextInt(((int) Instant.now().getEpochSecond()))+str1+str1+str1+str1);\r\n            progressGUI.appendTextToGUI(&quot;\\uD83E\\uDD91 Stalking for new emails... \\uD83E\\uDD91 &quot;, new Color(0, 185, 0));\r\n            progressGUI.appendTextToGUI(&quot;\\uD83C\\uDF89OCR batch finished!\\uD83C\\uDF89&quot; + System.lineSeparator(), Color.MAGENTA);\r\n            Thread.sleep(50);\r\n        }\r\n    }\r\n```\r\n\r\nUnlikely but is it possible that the component could be affected by the VM not having a screen to display most of the time(only shown when we remotely connect to it)?\r\n","title":"Java Swing component freezes after running for a few days","body":"<p>so we built this internal tool running 24/7 on a VM as daemon, doing some jobs on a worker thread and also built a simple swing GUI for our own convenience that informs us of progress, any problems etc.</p>\n<p>The problem is that after running for a few days, the GUI can completely freeze, meaning no more updates, no responsiveness on the scrollbar or window buttons, and if you try to resize the window, the resized portion blacks out.</p>\n<p>The worker thread keeps working without a hiccup on the background and keeps logging its work.</p>\n<p>I've also attached a debugger to the JVM in order to see if I can understand what is happening, but if  I try to access the component and invoke any method on it (e.g.  .getName(); or anything) the debugger hangs forever trying to evaluate.</p>\n<p>As far as I know, all GUI operations need to be on the EDT thread, and all interactions with the component happen through the #appendTextToGui methods which uses the EDT.\nThe worker thread that calls #appendTextTextToGui is a java.lang.Thread not a SwingWorker if that makes a difference.\nFinally, that Thread is calling an external python process with the Java ProcessBuilder, and any output from the python script is piped to the java InputStream and sent to #appendTextToGui</p>\n<pre><code>public class ProgressGUI extends JFrame {\n    private static ProgressGUI instance;\n    static JTextPane textpane;\n    private StyleContext context;\n    private String previousMessage;\n\n    public static ProgressGUI getProgressPanel() {\n        if (instance == null) {\n            instance = new ProgressGUI();\n        }\n        return instance;\n    }\n\n    private ProgressGUI() {\n        LimitedSizeDocument document = new LimitedSizeDocument();\n        textpane = new JTextPane(document);\n        textpane.setFont(textpane.getFont().deriveFont(24f));\n        textpane.setEditable(false);\n        textpane.setOpaque(false);\n        context = new StyleContext();\n\n        this.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\n        this.addWindowListener(new WindowAdapter() {\n            @Override\n            public void windowClosing(WindowEvent e) {\n                int result = JOptionPane.showConfirmDialog(instance, &quot;Exit request. Are you sure you want to close this worker?&quot;, &quot;Confirm Exit&quot;, JOptionPane.YES_NO_OPTION);\n                if (result == JOptionPane.YES_OPTION) {\n                    if(MailboxProcessor.isProcessorRunning()) {\n                        MailboxProcessor.requestShutdown();\n                    }\n                    else{\n                        System.exit(0);\n                    }\n                }\n            }\n        });\n        this.getContentPane().add(getContentPanel(textpane));\n        this.pack();\n        this.setSize(new Dimension(1400, 800));\n        this.setLocationRelativeTo(null);\n        this.setVisible(true);\n    }\n\n    private Style getTextStyle(Color color) {\n        if (context.getStyle(color.toString()) == null) {\n            // build a style and set some style properties\n            Style newStyle = context.addStyle(color.toString(), null);\n            StyleConstants.setForeground(newStyle, color);\n            return newStyle;\n        }\n        return context.getStyle(color.toString());\n    }\n\n    private JPanel getContentPanel(JTextComponent textComponent) {\n        JPanel jPanel = new JPanel();\n        jPanel.setLayout(new BorderLayout());\n\n        Image backGroundImage = new ImageIcon(FolderStructure.CONFIG_FOLDER + &quot;inter.png&quot;).getImage();\n\n        JViewport viewport = new JViewport() {\n            @Override\n            protected void paintComponent(Graphics g) {\n                super.paintComponent(g); //initialize the default behaviour of the graphics\n                g.setColor(Color.WHITE); //change the color of the background of the graphic context\n                g.fillRect(0, 0, getWidth(), getHeight());\n\n                // Paint image\n                if (backGroundImage != null) {\n                    Graphics2D g2d = (Graphics2D) g.create(); //create copy of the original graphic (that would be the bare background and TextPane)\n                    g2d.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_OVER, 0.5f)); //any new graphic that is now added (our image) is painted with SRC_OVER on top of the original graphic, and with transparency 0.5f\n                    g2d.drawImage(backGroundImage, 0, 0, getWidth(), getHeight(), this);\n                    g2d.dispose();\n                }\n            }\n        };\n\n\n        JScrollPane jScrollPane = new JScrollPane(textComponent, JScrollPane.VERTICAL_SCROLLBAR_ALWAYS, JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\n        jScrollPane.setViewport(viewport);\n        jScrollPane.setViewportView(textComponent);\n\n        //add AdjustmentListener to implement autoscrolling when the scrollbar is at the bottom and not getting adjusted by the user\n        jScrollPane.getVerticalScrollBar().addAdjustmentListener(new AdjustmentListener() {\n            BoundedRangeModel brm = jScrollPane.getVerticalScrollBar().getModel();\n            boolean wasAtBottom = true;\n\n            @Override\n            public void adjustmentValueChanged(AdjustmentEvent e) {\n                SwingUtilities.invokeLater(new Runnable() {\n                    @Override\n                    public void run() {\n                        if (!brm.getValueIsAdjusting()) {\n                            if (wasAtBottom) {\n                                brm.setValue(brm.getMaximum());\n                            }\n                        } else {\n                            wasAtBottom = ((brm.getValue() + brm.getExtent()) == brm.getMaximum());\n                        }\n                    }\n                });\n            }\n        });\n\n        jPanel.add(jScrollPane);\n        return jPanel;\n    }\n\n    public void appendTextToGUI(String str) {\n        appendTextToGUI(str, Color.BLACK);\n    }\n\n    public void appendTextToGUI(String str, Color color) {\n        if (str.equals(previousMessage)) return; //prevent spam when checking for new emails many times\n        previousMessage = str;\n        SwingUtilities.invokeLater(new Runnable() { //GUI modification need to run on EDT\n            @Override\n            public void run() {\n                try {\n                    Document document = textpane.getDocument();\n                    document.insertString(document.getLength(), str + System.lineSeparator(), getTextStyle(color));\n                    ProgressGUI.this.revalidate();\n                    ProgressGUI.this.repaint();\n                } catch (BadLocationException e) {\n                    Provider.getLogger().info(e.getMessage() + &quot; for string &quot; + str);\n                }\n            }\n        });\n    }\n\n    /**\n     * Limited size Document class was created to keep the size of the Text Pane of the constantly running workers in check\n     */\n    private class LimitedSizeDocument extends DefaultStyledDocument {\n        private int MAX_DOC_SIZE = 100000;\n        @Override\n        public void insertString(int offs, String additionalString, AttributeSet a) throws BadLocationException {\n            // Calculate the number of characters that will exceed the maximum size\n            int excess = (getLength() + additionalString.length()) - MAX_DOC_SIZE;\n            if (excess &gt; 0) {\n                // If the inserted text exceeds the maximum size, discard the oldest characters\n                int removeCount = Math.min(offs, excess);\n                super.remove(0, removeCount);\n                offs = offs - removeCount;\n            }\n            // Insert the new text\n            super.insertString(offs, additionalString, a);\n        }\n    }\n}\n\n</code></pre>\n<p>Can you spot anything that would cause such a problem?</p>\n<p>I made a quick stress test bombarding the GUI with updates in a short time but couldn't reproduce the problem</p>\n<pre><code>    @Ignore\n    @Test\n    public void testSTRESSProgressGUI() throws BadLocationException, InterruptedException, InvocationTargetException {\n        ProgressGUI progressGUI = ProgressGUI.getProgressPanel();\n        progressGUI.setVisible(true);\n\n        String str1 = &quot;progressing...&quot;;\n        String str2 = &quot;finished&quot;;\n        while(true){\n            progressGUI.appendTextToGUI(str1 + str2 + new Random().nextInt(((int) Instant.now().getEpochSecond()))+ str1+str1+str1+str1+str1+str1+str1 + str2 + new Random().nextInt(((int) Instant.now().getEpochSecond()))+ str1+str1+str1+str1+str1+str1+str1 + str2 +str1+str1+new Random().nextInt(((int) Instant.now().getEpochSecond()))+str1+str1+str1+str1);\n            progressGUI.appendTextToGUI(&quot;\\uD83E\\uDD91 Stalking for new emails... \\uD83E\\uDD91 &quot;, new Color(0, 185, 0));\n            progressGUI.appendTextToGUI(&quot;\\uD83C\\uDF89OCR batch finished!\\uD83C\\uDF89&quot; + System.lineSeparator(), Color.MAGENTA);\n            Thread.sleep(50);\n        }\n    }\n</code></pre>\n<p>Unlikely but is it possible that the component could be affected by the VM not having a screen to display most of the time(only shown when we remotely connect to it)?</p>\n"},{"tags":["java","spring","hook","shutdown","sigterm"],"comments":[{"owner":{"account_id":18535178,"reputation":340,"user_id":13505007,"display_name":"Spyros Palaiokostas"},"score":0,"creation_date":1689765087,"post_id":76720366,"comment_id":135258711,"body_markdown":"How do you schedule the async process that runs every 1 second? Do you use `@Scheduled` annotation?","body":"How do you schedule the async process that runs every 1 second? Do you use <code>@Scheduled</code> annotation?"},{"owner":{"account_id":27261442,"reputation":11,"user_id":20784217,"display_name":"essaPL"},"score":0,"creation_date":1689767611,"post_id":76720366,"comment_id":135259271,"body_markdown":"Yes, it&#39;s @Scheduled and runs every 1 second, i&#39;d just make a flag on start of this method and set it when catching a SIGTERM so no new data is being processed, but i still have to process the already processing data when receiving SIGTERM.","body":"Yes, it&#39;s @Scheduled and runs every 1 second, i&#39;d just make a flag on start of this method and set it when catching a SIGTERM so no new data is being processed, but i still have to process the already processing data when receiving SIGTERM."}],"answers":[{"tags":[],"owner":{"account_id":18535178,"reputation":340,"user_id":13505007,"display_name":"Spyros Palaiokostas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689769348,"creation_date":1689769348,"answer_id":76721238,"question_id":76720366,"body_markdown":"The scheduled tasks are handled by Spring&#39;s `TaskExecutor` you can configure it to set a max wait time before termination and set a flag to wait for the task on shutdown.\r\n\r\nYou can configure the `TaskExecutor` by creating a custom ThreadPoolTaskExecutor bean.\r\n\r\nFor example:\r\n```java\r\n@Bean\r\npublic TaskExecutor taskExecutor() {\r\n    ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\r\n    taskExecutor.setWaitForTasksToCompleteOnShutdown(true);\r\n    taskExecutor.initialize();\r\n    return taskExecutor;\r\n}\r\n```\r\n\r\nAdditionally, you can set the option for max wait time:\r\n```java\r\ntaskExecutor.setAwaitTerminationSeconds(60);\r\n```\r\nthe reason behind this:\r\n\r\n&gt; Though we&#39;ve configured to wait for ongoing and queued-up tasks to complete, Spring continues with the shutdown of the rest of the container. This could release resources needed by our task executor and cause the tasks to fail.\r\n\r\nYou can read more [here][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-graceful-shutdown","title":"How to catch SIGTERM signal to process stuff in app and then terminate in Java","body":"<p>The scheduled tasks are handled by Spring's <code>TaskExecutor</code> you can configure it to set a max wait time before termination and set a flag to wait for the task on shutdown.</p>\n<p>You can configure the <code>TaskExecutor</code> by creating a custom ThreadPoolTaskExecutor bean.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic TaskExecutor taskExecutor() {\n    ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\n    taskExecutor.setWaitForTasksToCompleteOnShutdown(true);\n    taskExecutor.initialize();\n    return taskExecutor;\n}\n</code></pre>\n<p>Additionally, you can set the option for max wait time:</p>\n<pre class=\"lang-java prettyprint-override\"><code>taskExecutor.setAwaitTerminationSeconds(60);\n</code></pre>\n<p>the reason behind this:</p>\n<blockquote>\n<p>Though we've configured to wait for ongoing and queued-up tasks to complete, Spring continues with the shutdown of the rest of the container. This could release resources needed by our task executor and cause the tasks to fail.</p>\n</blockquote>\n<p>You can read more <a href=\"https://www.baeldung.com/spring-boot-graceful-shutdown\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":27261442,"reputation":11,"user_id":20784217,"display_name":"essaPL"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689769348,"creation_date":1689762854,"question_id":76720366,"body_markdown":"So basically my app does some processing of stuff in intervals every 1 second. I have to implement a SIGTERM signal to my app but I have to let the stuff that is currently being processed in app to **FINISH** and then the app can terminate. Therefore I&#39;m looking for something like a try{}catch{} but for SIGTERM, I would do a sleep for few seconds and then let the SIGTERM terminate the app, is there something like that?\r\n\r\n\r\nAs far as I know **@PreDestroy** closes whole context and then leaves one bean annotated with it, executes it and then destroys. \r\n\r\nAlso the **addShutdownHook()** is a method to be run when shutting down app, but I just want my main processing to finish and then shutdown everything.\r\n\r\nIs there a way to do it?","title":"How to catch SIGTERM signal to process stuff in app and then terminate in Java","body":"<p>So basically my app does some processing of stuff in intervals every 1 second. I have to implement a SIGTERM signal to my app but I have to let the stuff that is currently being processed in app to <strong>FINISH</strong> and then the app can terminate. Therefore I'm looking for something like a try{}catch{} but for SIGTERM, I would do a sleep for few seconds and then let the SIGTERM terminate the app, is there something like that?</p>\n<p>As far as I know <strong>@PreDestroy</strong> closes whole context and then leaves one bean annotated with it, executes it and then destroys.</p>\n<p>Also the <strong>addShutdownHook()</strong> is a method to be run when shutting down app, but I just want my main processing to finish and then shutdown everything.</p>\n<p>Is there a way to do it?</p>\n"},{"tags":["java","android-studio","android-camera","augmented-reality","arcore"],"owner":{"account_id":28858290,"reputation":1,"user_id":22102631,"display_name":"bandara12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689769228,"creation_date":1689693966,"question_id":76714362,"body_markdown":"I am developing an image detection android app using android studio(java) and arcore .It has two class that MainActivity.java and  CustomArFragment.java . when my app run the camara preview not showing properly like something like blur or low quality . I already try to fixed it but it doesn&#39;t work .\r\n\r\n    public class CustomArFragment extends ArFragment {\r\n        @Override\r\n        protected Config getSessionConfiguration(Session session) {\r\n            getPlaneDiscoveryController().setInstructionView(null);\r\n            Config config = new Config(session);\r\n            config.setUpdateMode(Config.UpdateMode.LATEST_CAMERA_IMAGE);\r\n            session.configure(config);\r\n            getArSceneView().setupSession(session);\r\n           // config.setFocusMode(Config.FocusMode.AUTO);\r\n            if ((((MainActivity) getActivity()).setupAugmentedImagesDb(config, session))) {\r\n                Log.d(&quot;SetupAugImgDb&quot;, &quot;Success&quot;);\r\n            } else {\r\n                Log.e(&quot;SetupAugImgDb&quot;,&quot;Faliure setting up db&quot;);\r\n            }\r\n    \r\n            //camera quality\r\n            Size selectedSize = new Size(0, 0);\r\n            CameraConfig selectedCameraConfig = null;\r\n            CameraConfigFilter filter = new CameraConfigFilter(session);\r\n            List&lt;CameraConfig&gt; cameraConfigsList = session.getSupportedCameraConfigs(filter);\r\n            for (CameraConfig currentCameraConfig : cameraConfigsList) {\r\n                Size cpuImageSize = currentCameraConfig.getImageSize();\r\n                Size gpuTextureSize = currentCameraConfig.getTextureSize();\r\n                Log.d(&quot;TAG&quot;, &quot;CurrentCameraConfig CPU image size:&quot; + cpuImageSize + &quot; GPU texture size:&quot; + gpuTextureSize);\r\n    \r\n                // Adapt this check to your needs\r\n                if (gpuTextureSize.getWidth() &gt; selectedSize.getWidth()) {\r\n                    selectedSize = gpuTextureSize;\r\n                    selectedCameraConfig = currentCameraConfig;\r\n                }\r\n            }\r\n    \r\n            session.setCameraConfig(selectedCameraConfig);\r\n            session.configure(config);\r\n    \r\n            return config;\r\n        }\r\n    }\r\n\r\n \r\n","title":"How to fix low camera preview in ARCore android studio","body":"<p>I am developing an image detection android app using android studio(java) and arcore .It has two class that MainActivity.java and  CustomArFragment.java . when my app run the camara preview not showing properly like something like blur or low quality . I already try to fixed it but it doesn't work .</p>\n<pre><code>public class CustomArFragment extends ArFragment {\n    @Override\n    protected Config getSessionConfiguration(Session session) {\n        getPlaneDiscoveryController().setInstructionView(null);\n        Config config = new Config(session);\n        config.setUpdateMode(Config.UpdateMode.LATEST_CAMERA_IMAGE);\n        session.configure(config);\n        getArSceneView().setupSession(session);\n       // config.setFocusMode(Config.FocusMode.AUTO);\n        if ((((MainActivity) getActivity()).setupAugmentedImagesDb(config, session))) {\n            Log.d(&quot;SetupAugImgDb&quot;, &quot;Success&quot;);\n        } else {\n            Log.e(&quot;SetupAugImgDb&quot;,&quot;Faliure setting up db&quot;);\n        }\n\n        //camera quality\n        Size selectedSize = new Size(0, 0);\n        CameraConfig selectedCameraConfig = null;\n        CameraConfigFilter filter = new CameraConfigFilter(session);\n        List&lt;CameraConfig&gt; cameraConfigsList = session.getSupportedCameraConfigs(filter);\n        for (CameraConfig currentCameraConfig : cameraConfigsList) {\n            Size cpuImageSize = currentCameraConfig.getImageSize();\n            Size gpuTextureSize = currentCameraConfig.getTextureSize();\n            Log.d(&quot;TAG&quot;, &quot;CurrentCameraConfig CPU image size:&quot; + cpuImageSize + &quot; GPU texture size:&quot; + gpuTextureSize);\n\n            // Adapt this check to your needs\n            if (gpuTextureSize.getWidth() &gt; selectedSize.getWidth()) {\n                selectedSize = gpuTextureSize;\n                selectedCameraConfig = currentCameraConfig;\n            }\n        }\n\n        session.setCameraConfig(selectedCameraConfig);\n        session.configure(config);\n\n        return config;\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx","java-11","javafx-11","jlink"],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1585419450,"creation_date":1585418909,"answer_id":60904892,"question_id":60904135,"body_markdown":"As you could follow in the links such as [this](https://github.com/moditect/moditect/issues/103), [this](https://github.com/beryx/badass-jlink-plugin/issues/111) and [this](https://bugs.launchpad.net/ubuntu/+source/openjdk-lts/+bug/1851292/comments/5). It is more likely a JDK build issue and reverting to an older `java.version` e.g. 11.0.2 should fix this.\r\n\r\nYou can subscribe in the meanwhile to [openjdk-build/issues/1214](https://github.com/AdoptOpenJDK/openjdk-build/issues/1214) for further updates.\r\n\r\n\r\n----------\r\n\r\n&gt; When could this occur and what could cause this?\r\n\r\nThis could occur if the `jmod` files created for a module are not consistent in generating the hash. You can refer to the [JMOD tool](https://docs.oracle.com/javase/9/tools/jmod.htm#JSWOR-GUID-0A0BDFF6-BE34-461B-86EF-AAC9A555E2AE) documentation which elaborates on one of the arguments responsible for this\r\n \r\n\r\n    --hash-modules regex-pattern\r\n\r\n&gt; Determines the leaf modules and records the hashes of the dependencies\r\n&gt; directly and indirectly requiring them, based on the module graph of\r\n&gt; the modules matching the given regex-pattern. The *hashes are recorded\r\n&gt; in the JMOD archive* file being created, or a *JMOD archive or modular\r\n&gt; JAR on the module path* specified by the jmod hash command.\r\n\r\n\r\nand furthermore in a subsided section describes\r\n\r\n&gt; ... This lets you to allow a package to be exported to one or more\r\n&gt; specifically-named modules and to no others through qualified exports.\r\n&gt; ***The runtime verifies if the recorded hash of a module matches the one\r\n&gt; resolved at run time; if not, the runtime returns an error***.","title":"Error: Hash of java.xml (...) differs to expected hash (...) recorded in java.base","body":"<p>As you could follow in the links such as <a href=\"https://github.com/moditect/moditect/issues/103\" rel=\"nofollow noreferrer\">this</a>, <a href=\"https://github.com/beryx/badass-jlink-plugin/issues/111\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://bugs.launchpad.net/ubuntu/+source/openjdk-lts/+bug/1851292/comments/5\" rel=\"nofollow noreferrer\">this</a>. It is more likely a JDK build issue and reverting to an older <code>java.version</code> e.g. 11.0.2 should fix this.</p>\n\n<p>You can subscribe in the meanwhile to <a href=\"https://github.com/AdoptOpenJDK/openjdk-build/issues/1214\" rel=\"nofollow noreferrer\">openjdk-build/issues/1214</a> for further updates.</p>\n\n<hr>\n\n<blockquote>\n  <p>When could this occur and what could cause this?</p>\n</blockquote>\n\n<p>This could occur if the <code>jmod</code> files created for a module are not consistent in generating the hash. You can refer to the <a href=\"https://docs.oracle.com/javase/9/tools/jmod.htm#JSWOR-GUID-0A0BDFF6-BE34-461B-86EF-AAC9A555E2AE\" rel=\"nofollow noreferrer\">JMOD tool</a> documentation which elaborates on one of the arguments responsible for this</p>\n\n<pre><code>--hash-modules regex-pattern\n</code></pre>\n\n<blockquote>\n  <p>Determines the leaf modules and records the hashes of the dependencies\n  directly and indirectly requiring them, based on the module graph of\n  the modules matching the given regex-pattern. The <em>hashes are recorded\n  in the JMOD archive</em> file being created, or a <em>JMOD archive or modular\n  JAR on the module path</em> specified by the jmod hash command.</p>\n</blockquote>\n\n<p>and furthermore in a subsided section describes</p>\n\n<blockquote>\n  <p>... This lets you to allow a package to be exported to one or more\n  specifically-named modules and to no others through qualified exports.\n  <strong><em>The runtime verifies if the recorded hash of a module matches the one\n  resolved at run time; if not, the runtime returns an error</em></strong>.</p>\n</blockquote>\n"}],"owner":{"account_id":12791063,"reputation":115,"user_id":9409653,"display_name":"Paneer Handi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3650,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1689769089,"creation_date":1585415640,"question_id":60904135,"body_markdown":"Creating simple javafx 11 &quot;hello world&quot; application.\r\nGetting error while creating custom JRE.\r\n\r\n\r\n```\r\nuser@user:~/Desktop/javafx/hellofx$ ./run.sh \r\nError: Hash of java.xml (c043b4c28b897656e2a4d36c92ba2f5d52134bce79643236dd36295e14178be7) differs to expected hash (4e7db7fc941d9f316c4aafe02717b5809ee722be8433d283050365e7fd49331f) recorded in java.base\r\n```\r\nError Code:\r\n```\r\n$JAVA_HOME/bin/jlink --module-path $PATH_TO_FX_MODS:mods --add-modules hellofx --output hellofx #error\r\n```\r\nOS: ubuntu 19.10\r\n\r\n```plain\r\n$java --version\r\nopenjdk 11.0.6 2020-01-14\r\nOpenJDK Runtime Environment (build 11.0.6+10-post-Ubuntu-1ubuntu119.10.1)\r\nOpenJDK 64-Bit Server VM (build 11.0.6+10-post-Ubuntu-1ubuntu119.10.1, mixed mode, sharing)\r\n```\r\n\r\n```plain\r\n$javac --version\r\njavac 11.0.6\r\n```\r\n\r\n```\r\nuser@user:~/Desktop/javafx/hellofx$ tree\r\n.\r\n mods\r\n&#160;&#160;  hellofx\r\n&#160;&#160;      hellofx\r\n&#160;&#160;     &#160;&#160;  HelloFX.class\r\n&#160;&#160;      module-info.class\r\n run.sh\r\n src\r\n     hellofx\r\n    &#160;&#160;  HelloFX.java\r\n     module-info.java\r\n\r\n5 directories, 5 files\r\n\r\n```\r\n\r\nrun.sh:\r\n```\r\nuser@user:~/Desktop/javafx/hellofx$ cat run.sh \r\nexport PATH_TO_FX=/home/sameep/javafx-sdk-11.0.2/lib\r\nexport PATH_TO_FX_MODS=/home/sameep/javafx-jmods-11.0.2\r\njavac --module-path $PATH_TO_FX -d mods/hellofx $(find src -name &quot;*.java&quot;)\r\n\r\njava --module-path $PATH_TO_FX:mods -m hellofx/hellofx.HelloFX\r\n\r\n$JAVA_HOME/bin/jlink --module-path $PATH_TO_FX_MODS:mods --add-modules hellofx --output hellofx #error\r\n#hellofx/bin/java -m hellofx/hellofx.HelloFX\r\n\r\n```\r\nmodule-info.java:\r\n```\r\nuser@user:~/Desktop/javafx/hellofx/src$ cat module-info.java \r\nmodule hellofx {\r\n    requires javafx.controls;\r\n\r\n    exports hellofx;\r\n}\r\n```\r\nHelloFX.java:\r\n```\r\nuser@user:~/Desktop/javafx/hellofx/src/hellofx$ cat HelloFX.java \r\npackage hellofx;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.stage.Stage;\r\n\r\n\r\npublic class HelloFX extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        String javaVersion = System.getProperty(&quot;java.version&quot;);\r\n        String javafxVersion = System.getProperty(&quot;javafx.version&quot;);\r\n        Label l = new Label(&quot;Hello, JavaFX &quot; + javafxVersion + &quot;, running on Java &quot; + javaVersion + &quot;.&quot;);\r\n        Scene scene = new Scene(new StackPane(l), 640, 480);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n\r\n}\r\n```\r\n\r\n![Screenshot of output window][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BtL3d.png","title":"Error: Hash of java.xml (...) differs to expected hash (...) recorded in java.base","body":"<p>Creating simple javafx 11 &quot;hello world&quot; application.\nGetting error while creating custom JRE.</p>\n<pre><code>user@user:~/Desktop/javafx/hellofx$ ./run.sh \nError: Hash of java.xml (c043b4c28b897656e2a4d36c92ba2f5d52134bce79643236dd36295e14178be7) differs to expected hash (4e7db7fc941d9f316c4aafe02717b5809ee722be8433d283050365e7fd49331f) recorded in java.base\n</code></pre>\n<p>Error Code:</p>\n<pre><code>$JAVA_HOME/bin/jlink --module-path $PATH_TO_FX_MODS:mods --add-modules hellofx --output hellofx #error\n</code></pre>\n<p>OS: ubuntu 19.10</p>\n<pre><code>$java --version\nopenjdk 11.0.6 2020-01-14\nOpenJDK Runtime Environment (build 11.0.6+10-post-Ubuntu-1ubuntu119.10.1)\nOpenJDK 64-Bit Server VM (build 11.0.6+10-post-Ubuntu-1ubuntu119.10.1, mixed mode, sharing)\n</code></pre>\n<pre><code>$javac --version\njavac 11.0.6\n</code></pre>\n<pre><code>user@user:~/Desktop/javafx/hellofx$ tree\n.\n mods\n  hellofx\n      hellofx\n       HelloFX.class\n      module-info.class\n run.sh\n src\n     hellofx\n      HelloFX.java\n     module-info.java\n\n5 directories, 5 files\n\n</code></pre>\n<p>run.sh:</p>\n<pre><code>user@user:~/Desktop/javafx/hellofx$ cat run.sh \nexport PATH_TO_FX=/home/sameep/javafx-sdk-11.0.2/lib\nexport PATH_TO_FX_MODS=/home/sameep/javafx-jmods-11.0.2\njavac --module-path $PATH_TO_FX -d mods/hellofx $(find src -name &quot;*.java&quot;)\n\njava --module-path $PATH_TO_FX:mods -m hellofx/hellofx.HelloFX\n\n$JAVA_HOME/bin/jlink --module-path $PATH_TO_FX_MODS:mods --add-modules hellofx --output hellofx #error\n#hellofx/bin/java -m hellofx/hellofx.HelloFX\n\n</code></pre>\n<p>module-info.java:</p>\n<pre><code>user@user:~/Desktop/javafx/hellofx/src$ cat module-info.java \nmodule hellofx {\n    requires javafx.controls;\n\n    exports hellofx;\n}\n</code></pre>\n<p>HelloFX.java:</p>\n<pre><code>user@user:~/Desktop/javafx/hellofx/src/hellofx$ cat HelloFX.java \npackage hellofx;\n\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\n\npublic class HelloFX extends Application {\n\n    @Override\n    public void start(Stage stage) {\n        String javaVersion = System.getProperty(&quot;java.version&quot;);\n        String javafxVersion = System.getProperty(&quot;javafx.version&quot;);\n        Label l = new Label(&quot;Hello, JavaFX &quot; + javafxVersion + &quot;, running on Java &quot; + javaVersion + &quot;.&quot;);\n        Scene scene = new Scene(new StackPane(l), 640, 480);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/BtL3d.png\" alt=\"Screenshot of output window\" /></p>\n"},{"tags":["java","selenium-webdriver","drag-and-drop","webdriver","selenium-java"],"answers":[{"comments":[{"owner":{"account_id":13389680,"reputation":1,"user_id":9662392,"display_name":"Sasith Bandara"},"score":0,"creation_date":1688964199,"post_id":76640149,"comment_id":135140121,"body_markdown":"Thank you undetected Selenium. I tried this code block. But it didn&#39;t works for me.  After executing this &quot;dragMe&quot; element is selected but its not moved and dropped to the &quot;dropHere&quot; element. That is the issue I had previously.","body":"Thank you undetected Selenium. I tried this code block. But it didn&#39;t works for me.  After executing this &quot;dragMe&quot; element is selected but its not moved and dropped to the &quot;dropHere&quot; element. That is the issue I had previously."}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688762777,"creation_date":1688762777,"answer_id":76640149,"question_id":76635986,"body_markdown":"Not that super clear in which website you attempted the [_dragAndDrop_](https://stackoverflow.com/a/44153962/7429447) functionality.\r\n\r\nHowever as a demonstration within the website [Droppable | jQuery UI](https://jqueryui.com/droppable/) you can simulate [_dragAndDrop_](https://stackoverflow.com/a/59211287/7429447) functionality as follows:\r\n\r\n- Code block:\r\n\r\n\t  ChromeOptions options = new ChromeOptions();\r\n\t  options.addArguments(&quot;--start-maximized&quot;);\r\n\t  WebDriver driver = new ChromeDriver(options);\r\n\t  driver.get(&quot;https://jqueryui.com/droppable/&quot;);\r\n\t  WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(5));\r\n\t  wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.cssSelector(&quot;iframe.demo-frame&quot;)));\r\n\t  \r\n\t  //Identify the draggable element\r\n\t  WebElement dragMe = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//p[text()=&#39;Drag me to my target&#39;]&quot;)));\r\n\t  \r\n\t  // Identify droppable area\r\n\t  WebElement dropHere = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//p[text()=&#39;Drop here&#39;]&quot;)));\r\n\t  Actions actions = new Actions(driver);\r\n\t  actions.dragAndDrop(dragMe, dropHere).build().perform();\r\n\t  \r\n- Browser snapshot:\r\n\r\n![dragAndDrop](https://i.stack.imgur.com/tBl2s.png)","title":"Selenium Drag and Drop not working for Java","body":"<p>Not that super clear in which website you attempted the <a href=\"https://stackoverflow.com/a/44153962/7429447\"><em>dragAndDrop</em></a> functionality.</p>\n<p>However as a demonstration within the website <a href=\"https://jqueryui.com/droppable/\" rel=\"nofollow noreferrer\">Droppable | jQuery UI</a> you can simulate <a href=\"https://stackoverflow.com/a/59211287/7429447\"><em>dragAndDrop</em></a> functionality as follows:</p>\n<ul>\n<li><p>Code block:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--start-maximized&quot;);\nWebDriver driver = new ChromeDriver(options);\ndriver.get(&quot;https://jqueryui.com/droppable/&quot;);\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(5));\nwait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.cssSelector(&quot;iframe.demo-frame&quot;)));\n\n//Identify the draggable element\nWebElement dragMe = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//p[text()='Drag me to my target']&quot;)));\n\n// Identify droppable area\nWebElement dropHere = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//p[text()='Drop here']&quot;)));\nActions actions = new Actions(driver);\nactions.dragAndDrop(dragMe, dropHere).build().perform();\n</code></pre>\n</li>\n<li><p>Browser snapshot:</p>\n</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/tBl2s.png\" alt=\"dragAndDrop\" /></p>\n"},{"comments":[{"owner":{"account_id":13389680,"reputation":1,"user_id":9662392,"display_name":"Sasith Bandara"},"score":0,"creation_date":1688972773,"post_id":76642232,"comment_id":135141255,"body_markdown":"Thank you Reyan. I tried these suggested workarounds. But these things didn&#39;t work in my case. Some code blocks selecting the draggable element but not moving it to Element that needs to be dropped.","body":"Thank you Reyan. I tried these suggested workarounds. But these things didn&#39;t work in my case. Some code blocks selecting the draggable element but not moving it to Element that needs to be dropped."},{"owner":{"account_id":24958929,"reputation":26,"user_id":18823076,"display_name":"Reyan"},"score":0,"creation_date":1688993465,"post_id":76642232,"comment_id":135145704,"body_markdown":"I have added a code snippet. Check if this works.","body":"I have added a code snippet. Check if this works."}],"tags":[],"owner":{"account_id":24958929,"reputation":26,"user_id":18823076,"display_name":"Reyan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688993356,"creation_date":1688808238,"answer_id":76642232,"question_id":76635986,"body_markdown":"This is known issue:\r\nhttps://github.com/seleniumhq/selenium-google-code-issue-archive/issues/3604\r\n\r\nhttps://stackoverflow.com/questions/39436870/why-drag-and-drop-is-not-working-in-selenium-webdriver\r\n\r\nYou can try workarounds suggested.\r\n\r\n\r\nYou can try below code. Here I have moved the element to 0,0 co-ordinate and then moved it to final destination place :\r\n\r\n\t\tRectangle fromRec = fromEle.getRect();\r\n\t\tRectangle toRec = toEle.getRect();\r\n\t\tint sX = fromRec.getX() + fromRec.width / 2;\r\n\t\tint sY = fromRec.getY() + fromRec.height / 2;\r\n\t\tint eX = toRec.getX() + toRec.getWidth() / 2;\r\n\t\tint eY = sY;\r\n\r\n\t\tPointerInput input = new PointerInput(Kind.MOUSE, &quot;default mouse&quot;);\r\n\t\tSequence seq = new Sequence(input, 0);\r\n\t\tseq.addAction(\r\n\t\t    input.createPointerMove(Duration.ofSeconds(2), PointerInput.Origin.viewport(), sX, sY));\r\n\t\tseq.addAction(input.createPointerDown(PointerInput.MouseButton.LEFT.asArg()));\r\n\t\tseq.addAction(\r\n\t\t    input.createPointerMove(Duration.ofSeconds(2), PointerInput.Origin.viewport(), eX, eY));\r\n\t\tseq.addAction(input.createPointerMove(Duration.ofSeconds(2), PointerInput.Origin.viewport(), 0, 0));\r\n\t\tseq.addAction(\r\n\t\t    input.createPointerMove(Duration.ofSeconds(2), PointerInput.Origin.viewport(), eX, eY));\r\n\t\tseq.addAction(input.createPointerUp(PointerInput.MouseButton.LEFT.asArg()));\r\n\r\n\t\t((RemoteWebDriver) driver).perform(Collections.singletonList(seq));\r\n","title":"Selenium Drag and Drop not working for Java","body":"<p>This is known issue:\n<a href=\"https://github.com/seleniumhq/selenium-google-code-issue-archive/issues/3604\" rel=\"nofollow noreferrer\">https://github.com/seleniumhq/selenium-google-code-issue-archive/issues/3604</a></p>\n<p><a href=\"https://stackoverflow.com/questions/39436870/why-drag-and-drop-is-not-working-in-selenium-webdriver\">Why drag and drop is not working in Selenium Webdriver?</a></p>\n<p>You can try workarounds suggested.</p>\n<p>You can try below code. Here I have moved the element to 0,0 co-ordinate and then moved it to final destination place :</p>\n<pre><code>    Rectangle fromRec = fromEle.getRect();\n    Rectangle toRec = toEle.getRect();\n    int sX = fromRec.getX() + fromRec.width / 2;\n    int sY = fromRec.getY() + fromRec.height / 2;\n    int eX = toRec.getX() + toRec.getWidth() / 2;\n    int eY = sY;\n\n    PointerInput input = new PointerInput(Kind.MOUSE, &quot;default mouse&quot;);\n    Sequence seq = new Sequence(input, 0);\n    seq.addAction(\n        input.createPointerMove(Duration.ofSeconds(2), PointerInput.Origin.viewport(), sX, sY));\n    seq.addAction(input.createPointerDown(PointerInput.MouseButton.LEFT.asArg()));\n    seq.addAction(\n        input.createPointerMove(Duration.ofSeconds(2), PointerInput.Origin.viewport(), eX, eY));\n    seq.addAction(input.createPointerMove(Duration.ofSeconds(2), PointerInput.Origin.viewport(), 0, 0));\n    seq.addAction(\n        input.createPointerMove(Duration.ofSeconds(2), PointerInput.Origin.viewport(), eX, eY));\n    seq.addAction(input.createPointerUp(PointerInput.MouseButton.LEFT.asArg()));\n\n    ((RemoteWebDriver) driver).perform(Collections.singletonList(seq));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27793345,"reputation":24,"user_id":21219384,"display_name":"Dinesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689768899,"creation_date":1689768899,"answer_id":76721197,"question_id":76635986,"body_markdown":"    public void dragAndDropUsers(String username) throws InterruptedException {\r\n    \t//Actions class method to drag and drop\r\n    \tWebDriver driver=new ChromeDriver();\r\n    \tActions builder = new Actions(driver);\r\n    \tThread.sleep(2000);\r\n    \r\n    \tWebElement from = driver.findElement(By.xpath(&quot;//span[contains(text(),&#39;&quot;+username+&quot;&#39;)]&quot;));\r\n    \tWebElement to = driver.findElement(By.xpath(&quot;//h6[text()=&#39;Sequential Approval Order&#39;]/following-sibling::p-tree&quot;));\r\n    \r\n    \tbuilder.dragAndDrop(from,to).perform();\r\n    \r\n    } \r\n    \r\n    \r\n    try this i will work \r\n    In action class you need to pass webdriver object reference variable ","title":"Selenium Drag and Drop not working for Java","body":"<pre><code>public void dragAndDropUsers(String username) throws InterruptedException {\n    //Actions class method to drag and drop\n    WebDriver driver=new ChromeDriver();\n    Actions builder = new Actions(driver);\n    Thread.sleep(2000);\n\n    WebElement from = driver.findElement(By.xpath(&quot;//span[contains(text(),'&quot;+username+&quot;')]&quot;));\n    WebElement to = driver.findElement(By.xpath(&quot;//h6[text()='Sequential Approval Order']/following-sibling::p-tree&quot;));\n\n    builder.dragAndDrop(from,to).perform();\n\n} \n\n\ntry this i will work \nIn action class you need to pass webdriver object reference variable \n</code></pre>\n"}],"owner":{"account_id":13389680,"reputation":1,"user_id":9662392,"display_name":"Sasith Bandara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1689768899,"creation_date":1688724487,"question_id":76635986,"body_markdown":"I need to perform a Drag and Drop using Selenium and Java. I used dragAndDrop() method in Action class for this. but it didn&#39;t work. From element is selected but its not moving to the To element. I checked the Xpath of the To element. No problem with the Xpath.\r\n\r\nThis is the screen that I try to automate.\r\n\r\n[enter image description here](https://i.stack.imgur.com/jM4BL.png)\r\n\r\nThese are the codes that I tried\r\n\r\n```\r\n    public void dragAndDropUsers(String username) throws InterruptedException {\r\n        //Actions class method to drag and drop\r\n        Actions builder = new Actions(WebDriverHelper.getWebDriver());\r\n        Thread.sleep(2000);\r\n\t\t\r\n        WebElement from = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//span[contains(text(),&#39;&quot;+username+&quot;&#39;)]&quot;));\r\n\t\tWebElement to = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//h6[text()=&#39;Sequential Approval Order&#39;]/following-sibling::p-tree&quot;));\r\n\r\n        builder.dragAndDrop(from,to).build().perform();\r\n\r\n    }\r\n```\r\n\r\nabove code selecting the To element. But not move.\r\n\r\n```\r\n    public void dragAndDropUsers(String username) throws InterruptedException {\r\n        //Actions class method to drag and drop\r\n        Actions builder = new Actions(WebDriverHelper.getWebDriver());\r\n        Thread.sleep(2000);\r\n        WebElement from = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//span[contains(text(),&#39;&quot;+username+&quot;&#39;)]&quot;));\r\n\t\tWebElement to = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//h6[text()=&#39;Sequential Approval Order&#39;]/following-sibling::p-tree&quot;));\r\n\r\n        builder.clickAndHold(from).moveToElement(to).release().perform();\r\n        Thread.sleep(5000);\r\n\r\n    }\r\n```\r\n\r\nsame result for above code. (selecting the To element. But not move. )\r\n\r\n```\r\npublic void dragAndDropUsers(String username) throws InterruptedException {\r\n        //Actions class method to drag and drop\r\n        Actions builder = new Actions(WebDriverHelper.getWebDriver());\r\n        Thread.sleep(2000);\r\n\t\t\r\n        WebElement from = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//span[contains(text(),&#39;&quot;+username+&quot;&#39;)]&quot;));\r\n\t\tWebElement to = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//h6[text()=&#39;Sequential Approval Order&#39;]/following-sibling::p-tree&quot;));\r\n\r\n        JavascriptExecutor _js = (JavascriptExecutor) WebDriverHelper.getWebDriver();\r\n        _js.executeScript(&quot;$(arguments[0]).simulate(&#39;drag-n-drop&#39;,{dragTarget:arguments[1],interpolation:{stepWidth:100,stepDelay:50}});&quot;, from, to);\r\n\t\tThread.sleep(5000);\r\n\r\n    }\r\n```\r\n\r\nAbove code displayed an error as &quot;org.openqa.selenium.JavascriptException: javascript error: $(...).simulate is not a function&quot;\r\n\r\n```\r\npublic void dragAndDropUsers(String username) throws InterruptedException {\r\n        //Actions class method to drag and drop\r\n        Actions builder = new Actions(WebDriverHelper.getWebDriver());\r\n        Thread.sleep(2000);\r\n        WebElement from = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//span[contains(text(),&#39;&quot;+username+&quot;&#39;)]&quot;));\r\n\t\tWebElement to = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//h6[text()=&#39;Sequential Approval Order&#39;]/following-sibling::p-tree&quot;));\r\n        int x = to.getLocation().getX();\r\n        int y = to.getLocation().getY();\r\n\r\n        System.out.println(&quot;x coordinate: &quot;+x);\r\n        System.out.println(&quot;y coordinate: &quot;+y);\r\n\r\n       builder.moveToElement(from)\r\n               .pause(Duration.ofSeconds(1))\r\n               .clickAndHold(from)\r\n               .pause(Duration.ofSeconds(1))\r\n               .moveByOffset(x, y)\r\n               .moveToElement(to)\r\n               .pause(Duration.ofSeconds(1))\r\n               .release().build().perform();\r\n\r\n       Thread.sleep(5000);\r\n\r\n    }\r\n```\r\n\r\nAbove code is also selecting the From element. But not moving.\r\n\r\nHelp me to resolve this issue.","title":"Selenium Drag and Drop not working for Java","body":"<p>I need to perform a Drag and Drop using Selenium and Java. I used dragAndDrop() method in Action class for this. but it didn't work. From element is selected but its not moving to the To element. I checked the Xpath of the To element. No problem with the Xpath.</p>\n<p>This is the screen that I try to automate.</p>\n<p><a href=\"https://i.stack.imgur.com/jM4BL.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>These are the codes that I tried</p>\n<pre><code>    public void dragAndDropUsers(String username) throws InterruptedException {\n        //Actions class method to drag and drop\n        Actions builder = new Actions(WebDriverHelper.getWebDriver());\n        Thread.sleep(2000);\n        \n        WebElement from = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//span[contains(text(),'&quot;+username+&quot;')]&quot;));\n        WebElement to = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//h6[text()='Sequential Approval Order']/following-sibling::p-tree&quot;));\n\n        builder.dragAndDrop(from,to).build().perform();\n\n    }\n</code></pre>\n<p>above code selecting the To element. But not move.</p>\n<pre><code>    public void dragAndDropUsers(String username) throws InterruptedException {\n        //Actions class method to drag and drop\n        Actions builder = new Actions(WebDriverHelper.getWebDriver());\n        Thread.sleep(2000);\n        WebElement from = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//span[contains(text(),'&quot;+username+&quot;')]&quot;));\n        WebElement to = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//h6[text()='Sequential Approval Order']/following-sibling::p-tree&quot;));\n\n        builder.clickAndHold(from).moveToElement(to).release().perform();\n        Thread.sleep(5000);\n\n    }\n</code></pre>\n<p>same result for above code. (selecting the To element. But not move. )</p>\n<pre><code>public void dragAndDropUsers(String username) throws InterruptedException {\n        //Actions class method to drag and drop\n        Actions builder = new Actions(WebDriverHelper.getWebDriver());\n        Thread.sleep(2000);\n        \n        WebElement from = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//span[contains(text(),'&quot;+username+&quot;')]&quot;));\n        WebElement to = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//h6[text()='Sequential Approval Order']/following-sibling::p-tree&quot;));\n\n        JavascriptExecutor _js = (JavascriptExecutor) WebDriverHelper.getWebDriver();\n        _js.executeScript(&quot;$(arguments[0]).simulate('drag-n-drop',{dragTarget:arguments[1],interpolation:{stepWidth:100,stepDelay:50}});&quot;, from, to);\n        Thread.sleep(5000);\n\n    }\n</code></pre>\n<p>Above code displayed an error as &quot;org.openqa.selenium.JavascriptException: javascript error: $(...).simulate is not a function&quot;</p>\n<pre><code>public void dragAndDropUsers(String username) throws InterruptedException {\n        //Actions class method to drag and drop\n        Actions builder = new Actions(WebDriverHelper.getWebDriver());\n        Thread.sleep(2000);\n        WebElement from = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//span[contains(text(),'&quot;+username+&quot;')]&quot;));\n        WebElement to = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//h6[text()='Sequential Approval Order']/following-sibling::p-tree&quot;));\n        int x = to.getLocation().getX();\n        int y = to.getLocation().getY();\n\n        System.out.println(&quot;x coordinate: &quot;+x);\n        System.out.println(&quot;y coordinate: &quot;+y);\n\n       builder.moveToElement(from)\n               .pause(Duration.ofSeconds(1))\n               .clickAndHold(from)\n               .pause(Duration.ofSeconds(1))\n               .moveByOffset(x, y)\n               .moveToElement(to)\n               .pause(Duration.ofSeconds(1))\n               .release().build().perform();\n\n       Thread.sleep(5000);\n\n    }\n</code></pre>\n<p>Above code is also selecting the From element. But not moving.</p>\n<p>Help me to resolve this issue.</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1689768637,"post_id":76721117,"comment_id":135259491,"body_markdown":"In _Java_ you have to use the _[String#equals](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#equals(java.lang.Object))_ method to compare _String_ values.  And, on that note, there is also a _[String#equalsIgnoreCase](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#equalsIgnoreCase(java.lang.String))_, also.","body":"In <i>Java</i> you have to use the <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">String#equals</a></i> method to compare <i>String</i> values.  And, on that note, there is also a <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#equalsIgnoreCase(java.lang.String)\" rel=\"nofollow noreferrer\">String#equalsIgnoreCase</a></i>, also."}],"answers":[{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1689768801,"post_id":76721182,"comment_id":135259531,"body_markdown":"please note that the question is a very old one on StackOverflow - there is no need to answer duplicates - from [answer]: &quot;Not all questions can or should be answered here. Save yourself some frustration and avoid trying to answer questions which ... have already been asked and answered many times before.&quot;","body":"please note that the question is a very old one on StackOverflow - there is no need to answer duplicates - from <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a>: &quot;Not all questions can or should be answered here. Save yourself some frustration and avoid trying to answer questions which ... have already been asked and answered many times before.&quot;"},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":1,"creation_date":1689769172,"post_id":76721182,"comment_id":135259624,"body_markdown":"... which in turn should become `payer.equalsIgnoreCase(player.getName())`","body":"... which in turn should become <code>payer.equalsIgnoreCase(player.getName())</code>"},{"owner":{"account_id":6312912,"reputation":134,"user_id":4903894,"display_name":"phil76"},"score":0,"creation_date":1689769177,"post_id":76721182,"comment_id":135259626,"body_markdown":"Thanks for your comment, I&#39;m aware that it&#39;s a common / old question, but I was trying to give the original poster a clearer explanation of the reason behind why .equals() works but == fails.","body":"Thanks for your comment, I&#39;m aware that it&#39;s a common / old question, but I was trying to give the original poster a clearer explanation of the reason behind why .equals() works but == fails."},{"owner":{"account_id":21249106,"reputation":65,"user_id":15631528,"display_name":"Hashim Bin Talha"},"score":0,"creation_date":1689769428,"post_id":76721182,"comment_id":135259681,"body_markdown":"Thanks for the help, this really clears things up","body":"Thanks for the help, this really clears things up"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1689772150,"post_id":76721182,"comment_id":135260488,"body_markdown":"I believe the confusion stems from the fact that _String_ values are referred to as a _scalar_ type.  Most people inherently believe they could then just use _==_.","body":"I believe the confusion stems from the fact that <i>String</i> values are referred to as a <i>scalar</i> type.  Most people inherently believe they could then just use <i>==</i>."}],"tags":[],"owner":{"account_id":6312912,"reputation":134,"user_id":4903894,"display_name":"phil76"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689768764,"creation_date":1689768764,"answer_id":76721182,"question_id":76721117,"body_markdown":"The key thing to understand is that Strings in Java are objects, not primitive types.\r\n\r\nThe equality operator == checks whether the two String objects have the same reference (i.e. they are the same object). This is usually not the case, even if two String objects have the same value.\r\n\r\nComparing the *values* of two String objects should be done via the .equals() method.\r\n\r\nFor example: \r\n\r\npayer.toLowerCase() == player.getName().toLowerCase()\r\n\r\n..should become:\r\n\r\npayer.toLowerCase().equals(player.getName().toLowerCase())","title":"Java String method not returning expected value","body":"<p>The key thing to understand is that Strings in Java are objects, not primitive types.</p>\n<p>The equality operator == checks whether the two String objects have the same reference (i.e. they are the same object). This is usually not the case, even if two String objects have the same value.</p>\n<p>Comparing the <em>values</em> of two String objects should be done via the .equals() method.</p>\n<p>For example:</p>\n<p>payer.toLowerCase() == player.getName().toLowerCase()</p>\n<p>..should become:</p>\n<p>payer.toLowerCase().equals(player.getName().toLowerCase())</p>\n"}],"owner":{"account_id":21249106,"reputation":65,"user_id":15631528,"display_name":"Hashim Bin Talha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689768930,"accepted_answer_id":76721182,"answer_count":1,"score":0,"last_activity_date":1689768764,"creation_date":1689768283,"question_id":76721117,"body_markdown":"Apologies for the rather vague question, I wasn&#39;t sure how else to phrase it.\r\n\r\nI am a beginner to java and I decided to test myself by creating a program that helps you play the board game Monopoly by taking the role of the banker (handles transactions and keeps track of everyone&#39;s money). \r\n\r\nThe program first asks for the number of players, and then creates an object for each player that has a name and a certain amount of money (1500 at the start). All the player objects are then stored in an array (Player[] playerArray). \r\n\r\nThe game then starts, and the point of the program is that it keeps track of each players money and the players play the board game as normal. Whenever a transaction happens, for example, Player1 buys a house for 300, you press enter to start a transaction, enter in the payer (in this case, Player1), and the recipient (in this case, the bank).\r\n\r\n(Please note that the bank is not a player object, but really just means that there is no other player recieving the money.)\r\n\r\nThis is where I ran into a problem. I created a method that asks the user for the recipient, and then checks it against all the existing player objects in playerArray to see if there is a match (and also checks if it is the bank), and it returns a String value, the name of the recipient if it matches, and &quot;recipient is not valid&quot; if it does not. I also created a similar method for the payer.\r\n\r\nFor some reason, no matter what I input, the program always returns the value as &quot;recipient is not valid&quot;, even if I input the recipient as the name of an existing player object. \r\n\r\nHere is the method I was having trouble with:\r\n\r\n```\r\nstatic String askAndCheckRecipient(Player[] playerArray) {\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Who is the recipient?: &quot;);\r\n\t\tString recipient = scan.nextLine();\r\n\t\tfor(Player player : playerArray) {\r\n\t\t\tif(recipient.toLowerCase() == player.getName().toLowerCase() || recipient.toLowerCase() == &quot;bank&quot;) {\r\n\t\t\t\treturn recipient;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn &quot;recipient is not valid&quot;;\r\n\t}\r\n```\r\n\r\nHere is the full code, if you need it: (Sorry for the lack of comments)\r\n```\r\npackage monopolybanker;\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.println(&quot;How many players are playing the game?: &quot;);\r\n\t\tint playerCount = scan.nextInt();\r\n\t\tscan.nextLine(); //to clear the scanner\r\n\t\t\r\n\t\tPlayer[] playerArray = new Player[playerCount];\r\n\t\tfor(int i = 0; i&lt;playerCount; i++) {\r\n\t\t\tSystem.out.println(&quot;What is the name of player &quot;+(i+1)+&quot;?: &quot;);\r\n\t\t\tString nextPlayerName = scan.nextLine();\r\n\t\t\tplayerArray[i] = new Player(nextPlayerName);\r\n\t\t}\r\n\t\t\r\n\t\tdisplayPlayerNamesAndMoney(playerArray);\r\n\t\twaitTillTransaction();\r\n\t\tSystem.out.println(askAndCheckRecipient(playerArray));\r\n\t\tSystem.out.println(askAndCheckPayer(playerArray));\r\n\r\n\t}\r\n\r\n\tstatic void displayPlayerNamesAndMoney(Player[] playerArray) {\r\n\t\tfor(Player player : playerArray) {\r\n\t\t\tSystem.out.println(player.getName()+&quot; | &quot;+player.getMoney());\r\n\t\t}\r\n\t}\r\n\t\r\n\tstatic void waitTillTransaction() {\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\tSystem.out.println();\r\n\t\tString var = &quot;something&quot;;\r\n\t\twhile(!var.isBlank()) {\r\n\t\t\tSystem.out.println(&quot;Press enter to start a transaction&quot;);\r\n\t\t\tvar = scan.nextLine();\r\n\t\t}\r\n\t\r\n\t}\r\n\t\r\n\tstatic String askAndCheckRecipient(Player[] playerArray) {\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Who is the recipient?: &quot;);\r\n\t\tString recipient = scan.nextLine();\r\n\t\tfor(Player player : playerArray) {\r\n\t\t\tif(recipient.toLowerCase() == player.getName().toLowerCase() || recipient.toLowerCase() == &quot;bank&quot;) {\r\n\t\t\t\treturn recipient;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn &quot;recipient is not valid&quot;;\r\n\t\t\r\n\r\n\t}\r\n\t\r\n\tstatic String askAndCheckPayer(Player[] playerArray) {\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Who is the payer?: &quot;);\r\n\t\tString payer = scan.nextLine();\r\n\t\tfor(Player player : playerArray) {\r\n\t\t\tif(payer.toLowerCase() == player.getName().toLowerCase() || payer.toLowerCase() == &quot;bank&quot;) {\r\n\t\t\t\treturn payer;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn &quot;payer is not valid&quot;;\r\n\t}\r\n}\r\n\r\npublic class Player {\r\n\r\n\tprivate String name;\r\n\tprivate int money = 1500;\r\n\t\r\n\tPlayer(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\t\r\n\t// Getters\r\n\t\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\t\r\n\tpublic int getMoney() {\r\n\t\treturn money;\r\n\t}\r\n\t\r\n\t// Setters\r\n\t\r\n\tpublic void setMoney(int newmoney) {\r\n\t\tthis.money = newmoney;\r\n\t}\r\n\t\r\n}\r\n\r\n\r\n```\r\n\r\n","title":"Java String method not returning expected value","body":"<p>Apologies for the rather vague question, I wasn't sure how else to phrase it.</p>\n<p>I am a beginner to java and I decided to test myself by creating a program that helps you play the board game Monopoly by taking the role of the banker (handles transactions and keeps track of everyone's money).</p>\n<p>The program first asks for the number of players, and then creates an object for each player that has a name and a certain amount of money (1500 at the start). All the player objects are then stored in an array (Player[] playerArray).</p>\n<p>The game then starts, and the point of the program is that it keeps track of each players money and the players play the board game as normal. Whenever a transaction happens, for example, Player1 buys a house for 300, you press enter to start a transaction, enter in the payer (in this case, Player1), and the recipient (in this case, the bank).</p>\n<p>(Please note that the bank is not a player object, but really just means that there is no other player recieving the money.)</p>\n<p>This is where I ran into a problem. I created a method that asks the user for the recipient, and then checks it against all the existing player objects in playerArray to see if there is a match (and also checks if it is the bank), and it returns a String value, the name of the recipient if it matches, and &quot;recipient is not valid&quot; if it does not. I also created a similar method for the payer.</p>\n<p>For some reason, no matter what I input, the program always returns the value as &quot;recipient is not valid&quot;, even if I input the recipient as the name of an existing player object.</p>\n<p>Here is the method I was having trouble with:</p>\n<pre><code>static String askAndCheckRecipient(Player[] playerArray) {\n        Scanner scan = new Scanner(System.in);\n        System.out.println(&quot;Who is the recipient?: &quot;);\n        String recipient = scan.nextLine();\n        for(Player player : playerArray) {\n            if(recipient.toLowerCase() == player.getName().toLowerCase() || recipient.toLowerCase() == &quot;bank&quot;) {\n                return recipient;\n            }\n        }\n        return &quot;recipient is not valid&quot;;\n    }\n</code></pre>\n<p>Here is the full code, if you need it: (Sorry for the lack of comments)</p>\n<pre><code>package monopolybanker;\nimport java.util.*;\n\npublic class Main {\n    \n    public static void main(String[] args) {\n        \n        Scanner scan = new Scanner(System.in);\n        \n        System.out.println(&quot;How many players are playing the game?: &quot;);\n        int playerCount = scan.nextInt();\n        scan.nextLine(); //to clear the scanner\n        \n        Player[] playerArray = new Player[playerCount];\n        for(int i = 0; i&lt;playerCount; i++) {\n            System.out.println(&quot;What is the name of player &quot;+(i+1)+&quot;?: &quot;);\n            String nextPlayerName = scan.nextLine();\n            playerArray[i] = new Player(nextPlayerName);\n        }\n        \n        displayPlayerNamesAndMoney(playerArray);\n        waitTillTransaction();\n        System.out.println(askAndCheckRecipient(playerArray));\n        System.out.println(askAndCheckPayer(playerArray));\n\n    }\n\n    static void displayPlayerNamesAndMoney(Player[] playerArray) {\n        for(Player player : playerArray) {\n            System.out.println(player.getName()+&quot; | &quot;+player.getMoney());\n        }\n    }\n    \n    static void waitTillTransaction() {\n        Scanner scan = new Scanner(System.in);\n        System.out.println();\n        String var = &quot;something&quot;;\n        while(!var.isBlank()) {\n            System.out.println(&quot;Press enter to start a transaction&quot;);\n            var = scan.nextLine();\n        }\n    \n    }\n    \n    static String askAndCheckRecipient(Player[] playerArray) {\n        Scanner scan = new Scanner(System.in);\n        System.out.println(&quot;Who is the recipient?: &quot;);\n        String recipient = scan.nextLine();\n        for(Player player : playerArray) {\n            if(recipient.toLowerCase() == player.getName().toLowerCase() || recipient.toLowerCase() == &quot;bank&quot;) {\n                return recipient;\n            }\n        }\n        return &quot;recipient is not valid&quot;;\n        \n\n    }\n    \n    static String askAndCheckPayer(Player[] playerArray) {\n        Scanner scan = new Scanner(System.in);\n        System.out.println(&quot;Who is the payer?: &quot;);\n        String payer = scan.nextLine();\n        for(Player player : playerArray) {\n            if(payer.toLowerCase() == player.getName().toLowerCase() || payer.toLowerCase() == &quot;bank&quot;) {\n                return payer;\n            }\n        }\n        return &quot;payer is not valid&quot;;\n    }\n}\n\npublic class Player {\n\n    private String name;\n    private int money = 1500;\n    \n    Player(String name) {\n        this.name = name;\n    }\n    \n    // Getters\n    \n    public String getName() {\n        return name;\n    }\n    \n    public int getMoney() {\n        return money;\n    }\n    \n    // Setters\n    \n    public void setMoney(int newmoney) {\n        this.money = newmoney;\n    }\n    \n}\n\n\n</code></pre>\n"},{"tags":["java","string"],"answers":[{"comments":[{"owner":{"account_id":5779569,"reputation":83,"user_id":4560659,"accept_rate":100,"display_name":"Serpace"},"score":0,"creation_date":1425941203,"post_id":28953140,"comment_id":46159834,"body_markdown":"Ohhh this helps a lot. ill get started on it immediately. Thanks a lot!","body":"Ohhh this helps a lot. ill get started on it immediately. Thanks a lot!"},{"owner":{"account_id":5860981,"reputation":1600,"user_id":4616696,"display_name":"Dermot Blair"},"score":0,"creation_date":1425941368,"post_id":28953140,"comment_id":46159895,"body_markdown":"No problem. If the solution works for you, could you mark the answer as useful and/or accepted.","body":"No problem. If the solution works for you, could you mark the answer as useful and/or accepted."},{"owner":{"account_id":5779569,"reputation":83,"user_id":4560659,"accept_rate":100,"display_name":"Serpace"},"score":0,"creation_date":1425941650,"post_id":28953140,"comment_id":46160007,"body_markdown":"I just noticed, but this removes lines starting with &quot;*&quot; I want to remove all other lines. Is there a way i can do that or simply write those lines to another string (if that is easier) ?","body":"I just noticed, but this removes lines starting with &quot;*&quot; I want to remove all other lines. Is there a way i can do that or simply write those lines to another string (if that is easier) ?"},{"owner":{"account_id":5860981,"reputation":1600,"user_id":4616696,"display_name":"Dermot Blair"},"score":0,"creation_date":1425941867,"post_id":28953140,"comment_id":46160104,"body_markdown":"Change `if(trimmedLine.startsWith(linesToRemoveStartsWith )) continue;` to `if(!trimmedLine.startsWith(linesToRemoveStartsWith )) continue;` i.e. just add a `!` before `trimmedLine.startsWith(linesToRemoveStartsWith )`.","body":"Change <code>if(trimmedLine.startsWith(linesToRemoveStartsWith )) continue;</code> to <code>if(!trimmedLine.startsWith(linesToRemoveStartsWith )) continue;</code> i.e. just add a <code>!</code> before <code>trimmedLine.startsWith(linesToRemoveStartsWith )</code>."}],"tags":[],"owner":{"account_id":5860981,"reputation":1600,"user_id":4616696,"display_name":"Dermot Blair"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425941889,"creation_date":1425941128,"answer_id":28953140,"question_id":28953054,"body_markdown":"Yes Java&#39;s String class has a startsWith() method that returns a boolean. You can iterate through each line in the file and check if each line starts with &quot;*&quot; and if it does delete it.\r\n\r\nTry this:\r\n\r\n    File inputFile = new File(&quot;myFile.txt&quot;);\r\n    File tempFile = new File(&quot;myTempFile.txt&quot;);\r\n    \r\n    BufferedReader reader = new BufferedReader(new FileReader(inputFile));\r\n    BufferedWriter writer = new BufferedWriter(new FileWriter(tempFile));\r\n    \r\n    String linesToRemoveStartsWith = &quot;*&quot;;\r\n    String currentLine;\r\n    \r\n    while((currentLine = reader.readLine()) != null) {\r\n        // trim newline when comparing with lineToRemove\r\n        String trimmedLine = currentLine.trim();\r\n        if(!trimmedLine.startsWith(linesToRemoveStartsWith )) continue;\r\n        writer.write(currentLine + System.getProperty(&quot;line.separator&quot;));\r\n    }\r\n    writer.close(); \r\n    reader.close(); \r\n    boolean successful = tempFile.renameTo(inputFile);","title":"Removing lines from a string containing certain character","body":"<p>Yes Java's String class has a startsWith() method that returns a boolean. You can iterate through each line in the file and check if each line starts with \"*\" and if it does delete it.</p>\n\n<p>Try this:</p>\n\n<pre><code>File inputFile = new File(\"myFile.txt\");\nFile tempFile = new File(\"myTempFile.txt\");\n\nBufferedReader reader = new BufferedReader(new FileReader(inputFile));\nBufferedWriter writer = new BufferedWriter(new FileWriter(tempFile));\n\nString linesToRemoveStartsWith = \"*\";\nString currentLine;\n\nwhile((currentLine = reader.readLine()) != null) {\n    // trim newline when comparing with lineToRemove\n    String trimmedLine = currentLine.trim();\n    if(!trimmedLine.startsWith(linesToRemoveStartsWith )) continue;\n    writer.write(currentLine + System.getProperty(\"line.separator\"));\n}\nwriter.close(); \nreader.close(); \nboolean successful = tempFile.renameTo(inputFile);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2663557,"reputation":103,"user_id":2302659,"display_name":"mashaned"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425941348,"creation_date":1425941348,"answer_id":28953190,"question_id":28953054,"body_markdown":"As far as I remember, you cannot delete lines from the text documents in-place in Java. So, you would have to copy the needed lines into a new file. Or, if you need to output the same file, just changed, you could read the data into memory, delete the file, create a new one with the same name and only output the needed lines. Although, frankly, for me it seems a bit silly. ","title":"Removing lines from a string containing certain character","body":"<p>As far as I remember, you cannot delete lines from the text documents in-place in Java. So, you would have to copy the needed lines into a new file. Or, if you need to output the same file, just changed, you could read the data into memory, delete the file, create a new one with the same name and only output the needed lines. Although, frankly, for me it seems a bit silly. </p>\n"},{"comments":[{"owner":{"account_id":9324571,"reputation":837,"user_id":6922308,"accept_rate":55,"display_name":"Anu Shibin Joseph Raj"},"score":1,"creation_date":1521609355,"post_id":28953226,"comment_id":85798618,"body_markdown":"StringBuilder finalStringBuilder= new StringBuilder(&quot;&quot;);","body":"StringBuilder finalStringBuilder= new StringBuilder(&quot;&quot;);"},{"owner":{"account_id":15467214,"reputation":431,"user_id":11159476,"display_name":"gluttony"},"score":0,"creation_date":1689768790,"post_id":28953226,"comment_id":135259529,"body_markdown":"Thanks, that made the job for me, however code can be factorized, I posted an answer with what I&#39;ve done","body":"Thanks, that made the job for me, however code can be factorized, I posted an answer with what I&#39;ve done"}],"tags":[],"owner":{"account_id":3835260,"reputation":1752,"user_id":3179747,"display_name":"ankh-morpork"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1524089464,"creation_date":1425941569,"answer_id":28953226,"question_id":28953054,"body_markdown":"First, you should split your `String` into a `String[]` on line breaks using `String.split(String)`. Line breaks are usually `&#39;\\n&#39;` but to be safe, you can get the system line separator using `System.getProperty(&quot;line.separator&quot;);`.\r\n\r\nThe code for splitting the `String` into a `String[]` on line breaks can now be \r\n\r\n    String[] lines = originalString.split(System.getProperty(&quot;line.separator&quot;));\r\n\r\nWith the String split into lines, you can now check if each line starts with `*` using `String.startsWith(String prefix)`, then make it an empty string if it does.\r\n\r\n    for(int i=0;i&lt;lines.length;i++){\r\n        if(lines[i].startsWith(&quot;*&quot;)){\r\n            lines[i]=&quot;&quot;;\r\n        }\r\n    }\r\n\r\nNow all you have left to do is to combine your `String[]` back into a single `String`\r\n\r\n    StringBuilder finalStringBuilder= new StringBuilder(&quot;&quot;);\r\n    for(String s:lines){\r\n       if(!s.equals(&quot;&quot;)){\r\n           finalStringBuilder.append(s).append(System.getProperty(&quot;line.separator&quot;));\r\n        }\r\n    }\r\n    String finalString = finalStringBuilder.toString();\r\n","title":"Removing lines from a string containing certain character","body":"<p>First, you should split your <code>String</code> into a <code>String[]</code> on line breaks using <code>String.split(String)</code>. Line breaks are usually <code>'\\n'</code> but to be safe, you can get the system line separator using <code>System.getProperty(\"line.separator\");</code>.</p>\n\n<p>The code for splitting the <code>String</code> into a <code>String[]</code> on line breaks can now be </p>\n\n<pre><code>String[] lines = originalString.split(System.getProperty(\"line.separator\"));\n</code></pre>\n\n<p>With the String split into lines, you can now check if each line starts with <code>*</code> using <code>String.startsWith(String prefix)</code>, then make it an empty string if it does.</p>\n\n<pre><code>for(int i=0;i&lt;lines.length;i++){\n    if(lines[i].startsWith(\"*\")){\n        lines[i]=\"\";\n    }\n}\n</code></pre>\n\n<p>Now all you have left to do is to combine your <code>String[]</code> back into a single <code>String</code></p>\n\n<pre><code>StringBuilder finalStringBuilder= new StringBuilder(\"\");\nfor(String s:lines){\n   if(!s.equals(\"\")){\n       finalStringBuilder.append(s).append(System.getProperty(\"line.separator\"));\n    }\n}\nString finalString = finalStringBuilder.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15467214,"reputation":431,"user_id":11159476,"display_name":"gluttony"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689768669,"creation_date":1689768669,"answer_id":76721166,"question_id":28953054,"body_markdown":"A shorter version of Jason Slobotski&#39;s answer:\r\n```\r\nfinal StringBuilder stringBuilder = new StringBuilder();\r\n// Loop on original string lines by splitting it with line separator\r\nfor (final String line : originalString.split(System.lineSeparator())) {\r\n    if (!line.startsWith(&quot;*&quot;)) {\r\n        // Add only lines that does not start with &#39;*&#39;\r\n        stringBuilder.append(line).append(System.lineSeparator());\r\n    }\r\n}\r\nfinal String finalString = stringBuilder.toString();\r\n```","title":"Removing lines from a string containing certain character","body":"<p>A shorter version of Jason Slobotski's answer:</p>\n<pre><code>final StringBuilder stringBuilder = new StringBuilder();\n// Loop on original string lines by splitting it with line separator\nfor (final String line : originalString.split(System.lineSeparator())) {\n    if (!line.startsWith(&quot;*&quot;)) {\n        // Add only lines that does not start with '*'\n        stringBuilder.append(line).append(System.lineSeparator());\n    }\n}\nfinal String finalString = stringBuilder.toString();\n</code></pre>\n"}],"owner":{"account_id":5779569,"reputation":83,"user_id":4560659,"accept_rate":100,"display_name":"Serpace"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23348,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":28953226,"answer_count":4,"score":4,"last_activity_date":1689768669,"creation_date":1425940779,"question_id":28953054,"body_markdown":"I am working a Java project to read a java class and extract all DOC comments into an HTML file. I am having trouble cleaning a string of the lines I don&#39;t need.\r\n\r\nLets say I have a string such as:\r\n\r\n\r\n\r\n    &quot;/**\r\n    * Bla bla\r\n    *bla bla\r\n    *bla bla\r\n    */\r\n     \r\n    CODE\r\n    CODE\r\n    CODE\r\n     \r\n    /**\r\n    * Bla bla\r\n    *bla bla\r\n    *bla bla\r\n    */ &quot;\r\n\r\nI want to remove all the lines not starting with `*`. \r\n\r\nIs there any way I can do that? \r\n","title":"Removing lines from a string containing certain character","body":"<p>I am working a Java project to read a java class and extract all DOC comments into an HTML file. I am having trouble cleaning a string of the lines I don't need.</p>\n\n<p>Lets say I have a string such as:</p>\n\n<pre><code>\"/**\n* Bla bla\n*bla bla\n*bla bla\n*/\n\nCODE\nCODE\nCODE\n\n/**\n* Bla bla\n*bla bla\n*bla bla\n*/ \"\n</code></pre>\n\n<p>I want to remove all the lines not starting with <code>*</code>. </p>\n\n<p>Is there any way I can do that? </p>\n"},{"tags":["java","spring","https","ssl-certificate","wildfly"],"owner":{"account_id":26186898,"reputation":99,"user_id":19869319,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689768639,"creation_date":1689768639,"question_id":76721158,"body_markdown":"I have to do a rest call and get a json from it, the call is made in https and when i do on postman or browser i can easly get the response json, the problem is when i do it on java i get this exception:\r\n\r\n    PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\nI followed few guide online and i was able to download the certificate from chrome and add it in the jdk-11, but the problem persist so i had to add my file.crt in the wildfly 18 keystore, but I still getting the same error, so does anybody knows how to solve it?\r\n\r\n\r\n(the call i make it came from a server under apache) ","title":"Insert https certificate on wildfly 18","body":"<p>I have to do a rest call and get a json from it, the call is made in https and when i do on postman or browser i can easly get the response json, the problem is when i do it on java i get this exception:</p>\n<pre><code>PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>I followed few guide online and i was able to download the certificate from chrome and add it in the jdk-11, but the problem persist so i had to add my file.crt in the wildfly 18 keystore, but I still getting the same error, so does anybody knows how to solve it?</p>\n<p>(the call i make it came from a server under apache)</p>\n"},{"tags":["java","case","mybatis"],"answers":[{"tags":[],"owner":{"account_id":5608442,"reputation":987,"user_id":4442123,"accept_rate":100,"display_name":"LiefLayer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689768627,"creation_date":1689768627,"answer_id":76721156,"question_id":76720434,"body_markdown":"In the end I found and alternative way with just sql\r\n\r\n    WHERE\r\n            ...\r\n            (n.NOT_MAX_RETRY IS NOT NULL AND\r\n                    (n.NOT_RETRY_COUNT IS NULL OR n.NOT_RETRY_COUNT &amp;lt;= n.NOT_MAX_RETRY)\r\n        OR\r\n            (n.NOT_MAX_RETRY IS NULL AND\r\n                    (n.NOT_RETRY_COUNT IS NULL OR n.NOT_RETRY_COUNT &amp;lt;= 6)\r\n            ))\r\n\r\nbasically I made a xor based on NOT_MAX_RETRY IS NULL or IS NOT NULL in an and condition so that they are mutually exclusive. The second part is an OR condition that should be true.\r\nSo if n.NOT_RETRY_COUNT IS NULL basically it will pass both with n.NOT_MAX_RETRY null and not null... if n.NOT_RETRY_COUNT is not null it will pass only if &lt;= 6 (if max_retry is null) xor if &lt;= max_retry.\r\n\r\nI think that&#39;s a good solution.","title":"MyBatis when test without @Param","body":"<p>In the end I found and alternative way with just sql</p>\n<pre><code>WHERE\n        ...\n        (n.NOT_MAX_RETRY IS NOT NULL AND\n                (n.NOT_RETRY_COUNT IS NULL OR n.NOT_RETRY_COUNT &amp;lt;= n.NOT_MAX_RETRY)\n    OR\n        (n.NOT_MAX_RETRY IS NULL AND\n                (n.NOT_RETRY_COUNT IS NULL OR n.NOT_RETRY_COUNT &amp;lt;= 6)\n        ))\n</code></pre>\n<p>basically I made a xor based on NOT_MAX_RETRY IS NULL or IS NOT NULL in an and condition so that they are mutually exclusive. The second part is an OR condition that should be true.\nSo if n.NOT_RETRY_COUNT IS NULL basically it will pass both with n.NOT_MAX_RETRY null and not null... if n.NOT_RETRY_COUNT is not null it will pass only if &lt;= 6 (if max_retry is null) xor if &lt;= max_retry.</p>\n<p>I think that's a good solution.</p>\n"}],"owner":{"account_id":5608442,"reputation":987,"user_id":4442123,"accept_rate":100,"display_name":"LiefLayer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76721156,"answer_count":1,"score":0,"last_activity_date":1689768627,"creation_date":1689763289,"question_id":76720434,"body_markdown":"My problem.\r\nI got this Mapper\r\n\r\n    List&lt;NotificationEmail&gt; getAllErrorNotifications();\r\n\r\nand this is part of my Mapper xml\r\n\r\n    &lt;select id = &quot;getAllErrorNotifications&quot; resultMap = &quot;NotificationEmailResultMap&quot;&gt;\r\n    ...\r\n    &lt;choose&gt;\r\n            &lt;when test = &quot;notification.maxRetry != null&quot;&gt;\r\n                (n.NOT_RETRY_COUNT IS NULL OR n.NOT_RETRY_COUNT &amp;lt;= n.NOT_MAX_RETRY)\r\n            &lt;/when&gt;\r\n            &lt;otherwise&gt;\r\n                (n.NOT_RETRY_COUNT IS NULL OR n.NOT_RETRY_COUNT &amp;lt;= 6)\r\n            &lt;/otherwise&gt;\r\n    &lt;/choose&gt;\r\n\r\nI get this error\r\norg.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.builder.BuilderException: Error evaluating expression &#39;notification.maxRetry != null&#39;. Cause: org.apache.ibatis.ognl.OgnlException: source is null for getProperty(null, &quot;maxRetry&quot;)\r\n\r\nWhen I needed to use if or when usually I passed my &quot;notification&quot; as a method param... but now I cannot do that.\r\nMy NotificationEmail class got this:\r\n\r\n    private Notification notification;\r\n\r\n(inside it got my maxRetry).\r\n\r\nI know that my sql n.NOT_MAX_RETRY should be not null.\r\nHow can I fix this?","title":"MyBatis when test without @Param","body":"<p>My problem.\nI got this Mapper</p>\n<pre><code>List&lt;NotificationEmail&gt; getAllErrorNotifications();\n</code></pre>\n<p>and this is part of my Mapper xml</p>\n<pre><code>&lt;select id = &quot;getAllErrorNotifications&quot; resultMap = &quot;NotificationEmailResultMap&quot;&gt;\n...\n&lt;choose&gt;\n        &lt;when test = &quot;notification.maxRetry != null&quot;&gt;\n            (n.NOT_RETRY_COUNT IS NULL OR n.NOT_RETRY_COUNT &amp;lt;= n.NOT_MAX_RETRY)\n        &lt;/when&gt;\n        &lt;otherwise&gt;\n            (n.NOT_RETRY_COUNT IS NULL OR n.NOT_RETRY_COUNT &amp;lt;= 6)\n        &lt;/otherwise&gt;\n&lt;/choose&gt;\n</code></pre>\n<p>I get this error\norg.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.builder.BuilderException: Error evaluating expression 'notification.maxRetry != null'. Cause: org.apache.ibatis.ognl.OgnlException: source is null for getProperty(null, &quot;maxRetry&quot;)</p>\n<p>When I needed to use if or when usually I passed my &quot;notification&quot; as a method param... but now I cannot do that.\nMy NotificationEmail class got this:</p>\n<pre><code>private Notification notification;\n</code></pre>\n<p>(inside it got my maxRetry).</p>\n<p>I know that my sql n.NOT_MAX_RETRY should be not null.\nHow can I fix this?</p>\n"},{"tags":["java","android","kotlin","android-recyclerview"],"comments":[{"owner":{"account_id":2558875,"reputation":1292,"user_id":2220318,"accept_rate":83,"display_name":"Rahul Shukla"},"score":0,"creation_date":1689770723,"post_id":76721127,"comment_id":135260045,"body_markdown":"Where are you using &quot;Nested RV&quot; Can you share your java code corresponding to the XML?","body":"Where are you using &quot;Nested RV&quot; Can you share your java code corresponding to the XML?"},{"owner":{"account_id":16549589,"reputation":177,"user_id":11958275,"display_name":"Ghazanfar Ateeb"},"score":0,"creation_date":1689833557,"post_id":76721127,"comment_id":135269784,"body_markdown":"it is tricky to use nested recycler view if your child recyclerview is already opened then you&#39;re in trouble mate. a work around for this is to have a button in parent recyclerview and when parent rv item is clicked save its reference somewhere if you need nested data manipulation. then you have to use interface to pass the reference or anything when child rv is clicked if any data manipulation is required","body":"it is tricky to use nested recycler view if your child recyclerview is already opened then you&#39;re in trouble mate. a work around for this is to have a button in parent recyclerview and when parent rv item is clicked save its reference somewhere if you need nested data manipulation. then you have to use interface to pass the reference or anything when child rv is clicked if any data manipulation is required"}],"owner":{"account_id":26805583,"reputation":11,"user_id":20396939,"display_name":"Rahul R"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689768354,"creation_date":1689768354,"question_id":76721127,"body_markdown":"In my android project i am using nested recyclerview when i click on item the click is not working.I think it is focusing on the second.\r\n\r\n    \r\n\r\nWhat i tried is \r\n1) Disabled the 2nd recyclerview\r\n2) Made it not clickable\r\n3) Made it not focusable\r\n\r\n\r\n\r\nMy xml code is\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    \r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@drawable/bg_action_search&quot;\r\n            android:elevation=&quot;1dp&quot;\r\n            android:layout_marginBottom=&quot;@dimen/half_padding&quot;\r\n            android:layout_marginTop=&quot;@dimen/half_padding&quot;\r\n            android:layout_marginHorizontal=&quot;@dimen/single_padding&quot;\r\n            android:id=&quot;@+id/layout_CAS&quot;\r\n            android:minHeight=&quot;66dp&quot;\r\n           &gt;\r\n    \r\n    \r\n            &lt;androidx.appcompat.widget.AppCompatTextView\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginHorizontal=&quot;@dimen/double_padding&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:text=&quot;Don&#39;t check the Enable new Logcat tool window at the end.&quot;\r\n                android:fontFamily=&quot;@font/polly_rounded_bold&quot;\r\n                android:textSize=&quot;12sp&quot;\r\n                android:id=&quot;@+id/head_CAS&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                android:layout_marginTop=&quot;@dimen/single_padding&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toStartOf=&quot;@id/tick_CAS&quot;\r\n                /&gt;\r\n            \r\n            &lt;androidx.appcompat.widget.AppCompatImageView\r\n                android:layout_width=&quot;24dp&quot;\r\n                android:layout_height=&quot;24dp&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;@id/head_CAS&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                android:id=&quot;@+id/tick_CAS&quot;\r\n                android:src=&quot;@drawable/ic_action_tick&quot;\r\n                android:layout_marginEnd=&quot;@dimen/single_padding&quot;\r\n                /&gt;\r\n    \r\n    \r\n            &lt;androidx.recyclerview.widget.RecyclerView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/head_CAS&quot;\r\n                android:layout_marginTop=&quot;@dimen/single_padding&quot;\r\n                android:layout_marginHorizontal=&quot;@dimen/double_padding&quot;\r\n                android:id=&quot;@+id/actionTypeRV_FPAA&quot;\r\n                /&gt;\r\n    \r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    &lt;/layout&gt;\r\n\r\nWhat my references are \r\n\r\nhttps://stackoverflow.com/questions/36134323/nested-recyclerview-onclicklistener-not-working\r\nhttps://stackoverflow.com/questions/55472005/nested-recyclerview-onclick-not-triggered\r\nhttps://stackoverflow.com/questions/74957293/how-to-implement-onclick-listener-on-nested-recyclerview\r\nhttps://stackoverflow.com/questions/64531897/clicklistener-not-working-in-recyclerview\r\n\r\n","title":"itemView.setonclick is not working in recyclerview","body":"<p>In my android project i am using nested recyclerview when i click on item the click is not working.I think it is focusing on the second.</p>\n<p>What i tried is</p>\n<ol>\n<li>Disabled the 2nd recyclerview</li>\n<li>Made it not clickable</li>\n<li>Made it not focusable</li>\n</ol>\n<p>My xml code is</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@drawable/bg_action_search&quot;\n        android:elevation=&quot;1dp&quot;\n        android:layout_marginBottom=&quot;@dimen/half_padding&quot;\n        android:layout_marginTop=&quot;@dimen/half_padding&quot;\n        android:layout_marginHorizontal=&quot;@dimen/single_padding&quot;\n        android:id=&quot;@+id/layout_CAS&quot;\n        android:minHeight=&quot;66dp&quot;\n       &gt;\n\n\n        &lt;androidx.appcompat.widget.AppCompatTextView\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginHorizontal=&quot;@dimen/double_padding&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:text=&quot;Don't check the Enable new Logcat tool window at the end.&quot;\n            android:fontFamily=&quot;@font/polly_rounded_bold&quot;\n            android:textSize=&quot;12sp&quot;\n            android:id=&quot;@+id/head_CAS&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            android:layout_marginTop=&quot;@dimen/single_padding&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintEnd_toStartOf=&quot;@id/tick_CAS&quot;\n            /&gt;\n        \n        &lt;androidx.appcompat.widget.AppCompatImageView\n            android:layout_width=&quot;24dp&quot;\n            android:layout_height=&quot;24dp&quot;\n            app:layout_constraintTop_toTopOf=&quot;@id/head_CAS&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            android:id=&quot;@+id/tick_CAS&quot;\n            android:src=&quot;@drawable/ic_action_tick&quot;\n            android:layout_marginEnd=&quot;@dimen/single_padding&quot;\n            /&gt;\n\n\n        &lt;androidx.recyclerview.widget.RecyclerView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@id/head_CAS&quot;\n            android:layout_marginTop=&quot;@dimen/single_padding&quot;\n            android:layout_marginHorizontal=&quot;@dimen/double_padding&quot;\n            android:id=&quot;@+id/actionTypeRV_FPAA&quot;\n            /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/layout&gt;\n</code></pre>\n<p>What my references are</p>\n<p><a href=\"https://stackoverflow.com/questions/36134323/nested-recyclerview-onclicklistener-not-working\">Nested RecyclerView onClickListener not working</a>\n<a href=\"https://stackoverflow.com/questions/55472005/nested-recyclerview-onclick-not-triggered\">Nested RecyclerView onClick not triggered</a>\n<a href=\"https://stackoverflow.com/questions/74957293/how-to-implement-onclick-listener-on-nested-recyclerview\">How to implement onClick listener on nested recyclerview</a>\n<a href=\"https://stackoverflow.com/questions/64531897/clicklistener-not-working-in-recyclerview\">clicklistener not working in recyclerview</a></p>\n"},{"tags":["java","spring-boot","caching","microservices"],"owner":{"account_id":12501286,"reputation":73,"user_id":9099678,"display_name":"LKk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689768272,"creation_date":1689768272,"question_id":76721113,"body_markdown":"I&#39;m currently facing an issue with a custom implementation of the Spring CacheManager, where the getMissingCache method is not being called as expected.\r\n\r\nI have a custom CacheManager implementation that extends SimpleCacheManager. Inside this custom implementation, I have overridden the getMissingCache method to create caches dynamically based on cache specifications defined in the application.yml file.\r\n\r\nHere&#39;s a simplified version of my cache configuration:\r\n\r\n    @Configuration\r\n    @EnableCaching\r\n    public class CommonCacheConfiguration {\r\n        // ...\r\n    \r\n        @Bean\r\n        public DynamicCacheManager dynamicCacheManager(CacheProperties cacheProperties, Ticker ticker) {\r\n            return new DynamicCacheManager(cacheProperties, ticker);\r\n        }\r\n    \r\n        @Component\r\n        @RequiredArgsConstructor\r\n        public static class DynamicCacheManager extends SimpleCacheManager {\r\n            private final CacheProperties cacheProperties;\r\n            private final Ticker ticker;\r\n    \r\n            @Override\r\n            public Cache getMissingCache(String name) {\r\n                // This method is not being called as expected.\r\n                // The code here should create a new cache based on cache specifications in the cacheProperties object.\r\n                // However, it&#39;s not being triggered when accessing caches with unknown names.\r\n            }\r\n        }\r\n    \r\n        // ...\r\n    }\r\n\r\nIssue:\r\n\r\nThe problem is that when I try to access a cache with an unknown name (i.e., not explicitly defined in the application.yml), the getMissingCache method is not called. As a result, the cache is not dynamically created as expected.\r\n\r\n    Application.yml:\r\n    caching:\r\n      defaultSpec:\r\n        ttl: PT80M\r\n      specs:\r\n        - name: findUserByRole\r\n        - name: findProductByItem\r\n        # I&#39;ve removed findProduct from here.\r\n\r\nQuestion:\r\n\r\nCould anyone please help me understand why the getMissingCache method is not being called as expected? Is there something I might be missing or any configuration that needs to be adjusted to trigger the getMissingCache method when accessing unknown caches?\r\n\r\nAny insights or suggestions would be greatly appreciated. Thank you in advance!","title":"getMissingCache method not being called in custom Spring CacheManager","body":"<p>I'm currently facing an issue with a custom implementation of the Spring CacheManager, where the getMissingCache method is not being called as expected.</p>\n<p>I have a custom CacheManager implementation that extends SimpleCacheManager. Inside this custom implementation, I have overridden the getMissingCache method to create caches dynamically based on cache specifications defined in the application.yml file.</p>\n<p>Here's a simplified version of my cache configuration:</p>\n<pre><code>@Configuration\n@EnableCaching\npublic class CommonCacheConfiguration {\n    // ...\n\n    @Bean\n    public DynamicCacheManager dynamicCacheManager(CacheProperties cacheProperties, Ticker ticker) {\n        return new DynamicCacheManager(cacheProperties, ticker);\n    }\n\n    @Component\n    @RequiredArgsConstructor\n    public static class DynamicCacheManager extends SimpleCacheManager {\n        private final CacheProperties cacheProperties;\n        private final Ticker ticker;\n\n        @Override\n        public Cache getMissingCache(String name) {\n            // This method is not being called as expected.\n            // The code here should create a new cache based on cache specifications in the cacheProperties object.\n            // However, it's not being triggered when accessing caches with unknown names.\n        }\n    }\n\n    // ...\n}\n</code></pre>\n<p>Issue:</p>\n<p>The problem is that when I try to access a cache with an unknown name (i.e., not explicitly defined in the application.yml), the getMissingCache method is not called. As a result, the cache is not dynamically created as expected.</p>\n<pre><code>Application.yml:\ncaching:\n  defaultSpec:\n    ttl: PT80M\n  specs:\n    - name: findUserByRole\n    - name: findProductByItem\n    # I've removed findProduct from here.\n</code></pre>\n<p>Question:</p>\n<p>Could anyone please help me understand why the getMissingCache method is not being called as expected? Is there something I might be missing or any configuration that needs to be adjusted to trigger the getMissingCache method when accessing unknown caches?</p>\n<p>Any insights or suggestions would be greatly appreciated. Thank you in advance!</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1689704744,"post_id":76714204,"comment_id":135250583,"body_markdown":"This doesn&#39;t make a lot of sense to me.  It is a &quot;Movable Box&quot;.  How can it be centered when it is moved?","body":"This doesn&#39;t make a lot of sense to me.  It is a &quot;Movable Box&quot;.  How can it be centered when it is moved?"}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689767640,"creation_date":1689719275,"answer_id":76716876,"question_id":76714204,"body_markdown":"While `StackPane` is excellent for centering, as shown [here][1], it&#39;s superfluous in this case:\r\n\r\n    Pane boxPane = new Pane();\r\n    boxPane.getChildren().addAll(border, grid);\r\n    //StackPane root = new StackPane();\r\n    //root.getChildren().add(boxPane);\r\n    Scene scene = new Scene(boxPane, 700, 700);\r\n\r\nTo center the `boxPane` at startup, adjust its position _after_ `show()`, using the available geometry:\r\n\r\n    primaryStage.show();\r\n    boxPane.setTranslateX((boxPane.getWidth() - boxSize) / 2);\r\n    boxPane.setTranslateY((boxPane.getHeight() - boxSize) / 2);\r\n \r\nThe existing drag handler centers the `boxPane` under the mouse. To change this behavior, record the location of the mouse pressed event and use it to adjust the target location in your drag handler; some examples are examined [here][2] and [here][3]:\r\n\r\n    boxPane.setOnMousePressed((event) -&gt; {\r\n        // record mouse location for later reference\r\n    });\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/33824164/230513\r\n  [2]: https://stackoverflow.com/a/76717235/230513\r\n  [3]: https://stackoverflow.com/search?tab=votes&amp;q=%5Bjavafx%5D%20%5Bjavafx%5D%20setOnMousePressed%20setOnMouseDragged&amp;searchOn=3","title":"Problem centering pane and border on JavaFX","body":"<p>While <code>StackPane</code> is excellent for centering, as shown <a href=\"https://stackoverflow.com/a/33824164/230513\">here</a>, it's superfluous in this case:</p>\n<pre><code>Pane boxPane = new Pane();\nboxPane.getChildren().addAll(border, grid);\n//StackPane root = new StackPane();\n//root.getChildren().add(boxPane);\nScene scene = new Scene(boxPane, 700, 700);\n</code></pre>\n<p>To center the <code>boxPane</code> at startup, adjust its position <em>after</em> <code>show()</code>, using the available geometry:</p>\n<pre><code>primaryStage.show();\nboxPane.setTranslateX((boxPane.getWidth() - boxSize) / 2);\nboxPane.setTranslateY((boxPane.getHeight() - boxSize) / 2);\n</code></pre>\n<p>The existing drag handler centers the <code>boxPane</code> under the mouse. To change this behavior, record the location of the mouse pressed event and use it to adjust the target location in your drag handler; some examples are examined <a href=\"https://stackoverflow.com/a/76717235/230513\">here</a> and <a href=\"https://stackoverflow.com/search?tab=votes&amp;q=%5Bjavafx%5D%20%5Bjavafx%5D%20setOnMousePressed%20setOnMouseDragged&amp;searchOn=3\">here</a>:</p>\n<pre><code>boxPane.setOnMousePressed((event) -&gt; {\n    // record mouse location for later reference\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7717111,"reputation":8774,"user_id":5844477,"display_name":"Sai Dandem"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689730801,"creation_date":1689726120,"answer_id":76717235,"question_id":76714204,"body_markdown":"I agree with what @trashgod mentioned.\r\n\r\nBelow are my additional points for you to consider *if needed ;)* :\r\n\r\n* Why don&#39;t you consider to use a GridPane rather than positioning each cell manually to form like a grid.\r\n\r\n* Do you really need `Rectangle` as your cell. If you are going to show something in the cell, I believe you will include a `Pane` and set the `Rectangle` for background and some node as content. So why don&#39;t you consider to use directly a `Pane` as cell with some border styling, so that you can avoid an extra node(Rectangle) per cell. This is just a thought :)\r\n\r\n* I believe you are trying something with borders to make it look like a perfect grid with equal border widths for all cells. You can try the below approach:\r\n\r\n  The idea is, we don&#39;t set all borders to a cell. Instead we only set right and bottom border for every cell. and for the container (GridPane) we set only the top and left borders. Which when finally rendered will make a perfect grid (as below).\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAfter combining all the above points (including @trashgod solution) below is quick demo for your reference:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.input.ScrollEvent;\r\n    import javafx.scene.layout.GridPane;\r\n    import javafx.scene.layout.Pane;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class MovableBoxDemo extends Application {\r\n    \r\n        private double lx, ly, x, y;\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            primaryStage.setTitle(&quot;JavaFX Movable Box with Border and Grid&quot;);\r\n    \r\n            int gridSize = 28;\r\n            double boxSize = 500.0; // size of the box\r\n            double cellSize = boxSize / gridSize;  // size of each cell\r\n    \r\n            GridPane grid = new GridPane();\r\n            grid.setStyle(&quot;-fx-border-width: 1 0 0 1;-fx-border-color:black;&quot;);\r\n            for (int i = 0; i &lt; gridSize; i++) {\r\n                for (int j = 0; j &lt; gridSize; j++) {\r\n                    Pane cell = new Pane();\r\n                    cell.setPrefSize(cellSize, cellSize);\r\n                    cell.setStyle(&quot;-fx-border-width: 0 1 1 0;-fx-border-color:black;-fx-background-color:white;&quot;);\r\n                    grid.add(cell, i, j);\r\n                }\r\n            }\r\n    \r\n            Pane boxPane = new Pane(grid);\r\n            Scene scene = new Scene(boxPane, 700, 700);\r\n            scene.setOnScroll((ScrollEvent event) -&gt; {\r\n                double zoomFactor = 1.05;\r\n                double deltaY = event.getDeltaY();\r\n                if (deltaY &lt; 0) {\r\n                    zoomFactor = 2 - zoomFactor;\r\n                }\r\n                boxPane.setScaleX(boxPane.getScaleX() * zoomFactor);\r\n                boxPane.setScaleY(boxPane.getScaleY() * zoomFactor);\r\n                event.consume();\r\n            });\r\n            boxPane.setOnMousePressed(event -&gt; {\r\n                x = event.getSceneX();\r\n                y = event.getSceneY();\r\n                lx = boxPane.getLayoutX();\r\n                ly = boxPane.getLayoutY();\r\n            });\r\n            boxPane.setOnMouseDragged(event -&gt; {\r\n                double diffX = event.getSceneX() - x;\r\n                double diffY = event.getSceneY() - y;\r\n                boxPane.setLayoutX(lx + diffX);\r\n                boxPane.setLayoutY(ly + diffY);\r\n            });\r\n    \r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n            boxPane.setLayoutX((boxPane.getWidth() - boxSize) / 2);\r\n            boxPane.setLayoutY((boxPane.getHeight() - boxSize) / 2);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hcbrF.png\r\n  [2]: https://i.stack.imgur.com/FVgI9.gif","title":"Problem centering pane and border on JavaFX","body":"<p>I agree with what @trashgod mentioned.</p>\n<p>Below are my additional points for you to consider <em>if needed ;)</em> :</p>\n<ul>\n<li><p>Why don't you consider to use a GridPane rather than positioning each cell manually to form like a grid.</p>\n</li>\n<li><p>Do you really need <code>Rectangle</code> as your cell. If you are going to show something in the cell, I believe you will include a <code>Pane</code> and set the <code>Rectangle</code> for background and some node as content. So why don't you consider to use directly a <code>Pane</code> as cell with some border styling, so that you can avoid an extra node(Rectangle) per cell. This is just a thought :)</p>\n</li>\n<li><p>I believe you are trying something with borders to make it look like a perfect grid with equal border widths for all cells. You can try the below approach:</p>\n<p>The idea is, we don't set all borders to a cell. Instead we only set right and bottom border for every cell. and for the container (GridPane) we set only the top and left borders. Which when finally rendered will make a perfect grid (as below).</p>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/hcbrF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hcbrF.png\" alt=\"enter image description here\" /></a></p>\n<p>After combining all the above points (including @trashgod solution) below is quick demo for your reference:</p>\n<p><a href=\"https://i.stack.imgur.com/FVgI9.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FVgI9.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.input.ScrollEvent;\nimport javafx.scene.layout.GridPane;\nimport javafx.scene.layout.Pane;\nimport javafx.stage.Stage;\n\npublic class MovableBoxDemo extends Application {\n\n    private double lx, ly, x, y;\n\n    @Override\n    public void start(Stage primaryStage) {\n        primaryStage.setTitle(&quot;JavaFX Movable Box with Border and Grid&quot;);\n\n        int gridSize = 28;\n        double boxSize = 500.0; // size of the box\n        double cellSize = boxSize / gridSize;  // size of each cell\n\n        GridPane grid = new GridPane();\n        grid.setStyle(&quot;-fx-border-width: 1 0 0 1;-fx-border-color:black;&quot;);\n        for (int i = 0; i &lt; gridSize; i++) {\n            for (int j = 0; j &lt; gridSize; j++) {\n                Pane cell = new Pane();\n                cell.setPrefSize(cellSize, cellSize);\n                cell.setStyle(&quot;-fx-border-width: 0 1 1 0;-fx-border-color:black;-fx-background-color:white;&quot;);\n                grid.add(cell, i, j);\n            }\n        }\n\n        Pane boxPane = new Pane(grid);\n        Scene scene = new Scene(boxPane, 700, 700);\n        scene.setOnScroll((ScrollEvent event) -&gt; {\n            double zoomFactor = 1.05;\n            double deltaY = event.getDeltaY();\n            if (deltaY &lt; 0) {\n                zoomFactor = 2 - zoomFactor;\n            }\n            boxPane.setScaleX(boxPane.getScaleX() * zoomFactor);\n            boxPane.setScaleY(boxPane.getScaleY() * zoomFactor);\n            event.consume();\n        });\n        boxPane.setOnMousePressed(event -&gt; {\n            x = event.getSceneX();\n            y = event.getSceneY();\n            lx = boxPane.getLayoutX();\n            ly = boxPane.getLayoutY();\n        });\n        boxPane.setOnMouseDragged(event -&gt; {\n            double diffX = event.getSceneX() - x;\n            double diffY = event.getSceneY() - y;\n            boxPane.setLayoutX(lx + diffX);\n            boxPane.setLayoutY(ly + diffY);\n        });\n\n        primaryStage.setScene(scene);\n        primaryStage.show();\n        boxPane.setLayoutX((boxPane.getWidth() - boxSize) / 2);\n        boxPane.setLayoutY((boxPane.getHeight() - boxSize) / 2);\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29042678,"reputation":11,"user_id":22247220,"display_name":"KhulZA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1689767640,"creation_date":1689692902,"question_id":76714204,"body_markdown":"I&#39;m having trouble with the following code. My `Box` and `border` does not want to center. It keeps reverting to the top left corner. I need it to snap to the center when running the program. I&#39;m new to programming so the issue might be something simple. I have also tried shifting by the `width` of the border using the `setTranslateX` and `setTranslateY` methods. This causes the `boxPane` to be centered in the `StackPane`\r\n\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.input.ScrollEvent;\r\n\r\npublic class Main extends Application {\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        primaryStage.setTitle(&quot;JavaFX Movable Box with Border and Grid&quot;);\r\n\r\n        int gridSize = 28;\r\n        double boxSize = 500.0; // size of the box\r\n        double borderWidth = 2.0; // width of the border\r\n        double cellSize = boxSize / gridSize;  // size of each cell\r\n\r\n        Pane grid = new Pane();\r\n        for (int i = 0; i &lt; gridSize; i++) {\r\n            for (int j = 0; j &lt; gridSize; j++) {\r\n                Rectangle cell = new Rectangle(cellSize, cellSize);\r\n                cell.setFill(Color.WHITE);\r\n                cell.setStroke(Color.BLACK);\r\n                cell.setStrokeWidth(0.5);\r\n                cell.setX(j * cellSize + borderWidth / 2);\r\n                cell.setY(i * cellSize + borderWidth / 2);\r\n                grid.getChildren().add(cell);\r\n            }\r\n        }\r\n\r\n        // Create a border around the grid\r\n        Rectangle border = new Rectangle(boxSize + borderWidth, boxSize + borderWidth);\r\n        border.setFill(Color.TRANSPARENT);\r\n        border.setStroke(Color.BLACK);\r\n        border.setStrokeWidth(borderWidth);\r\n        border.setX(borderWidth / 2);\r\n        border.setY(borderWidth / 2);\r\n\r\n        Pane boxPane = new Pane();\r\n        boxPane.getChildren().addAll(border, grid);\r\n\r\n        StackPane root = new StackPane();\r\n        root.getChildren().add(boxPane);\r\n\r\n        Scene scene = new Scene(root, 700, 700);\r\n\r\n        scene.setOnScroll((ScrollEvent event) -&gt; {\r\n            double zoomFactor = 1.05;\r\n            double deltaY = event.getDeltaY();\r\n            if (deltaY &lt; 0){\r\n                zoomFactor = 2 - zoomFactor;\r\n            }\r\n            boxPane.setScaleX(boxPane.getScaleX() * zoomFactor);\r\n            boxPane.setScaleY(boxPane.getScaleY() * zoomFactor);\r\n            event.consume();\r\n        });\r\n\r\n        boxPane.setOnMouseDragged(event -&gt; {\r\n            double newX = event.getSceneX() - boxSize / 2;\r\n            double newY = event.getSceneY() - boxSize / 2;\r\n            boxPane.setTranslateX(newX);\r\n            boxPane.setTranslateY(newY);\r\n        });\r\n\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI tried changing the `box` and `scene` size ","title":"Problem centering pane and border on JavaFX","body":"<p>I'm having trouble with the following code. My <code>Box</code> and <code>border</code> does not want to center. It keeps reverting to the top left corner. I need it to snap to the center when running the program. I'm new to programming so the issue might be something simple. I have also tried shifting by the <code>width</code> of the border using the <code>setTranslateX</code> and <code>setTranslateY</code> methods. This causes the <code>boxPane</code> to be centered in the <code>StackPane</code></p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Rectangle;\nimport javafx.stage.Stage;\nimport javafx.scene.input.ScrollEvent;\n\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage primaryStage) {\n        primaryStage.setTitle(&quot;JavaFX Movable Box with Border and Grid&quot;);\n\n        int gridSize = 28;\n        double boxSize = 500.0; // size of the box\n        double borderWidth = 2.0; // width of the border\n        double cellSize = boxSize / gridSize;  // size of each cell\n\n        Pane grid = new Pane();\n        for (int i = 0; i &lt; gridSize; i++) {\n            for (int j = 0; j &lt; gridSize; j++) {\n                Rectangle cell = new Rectangle(cellSize, cellSize);\n                cell.setFill(Color.WHITE);\n                cell.setStroke(Color.BLACK);\n                cell.setStrokeWidth(0.5);\n                cell.setX(j * cellSize + borderWidth / 2);\n                cell.setY(i * cellSize + borderWidth / 2);\n                grid.getChildren().add(cell);\n            }\n        }\n\n        // Create a border around the grid\n        Rectangle border = new Rectangle(boxSize + borderWidth, boxSize + borderWidth);\n        border.setFill(Color.TRANSPARENT);\n        border.setStroke(Color.BLACK);\n        border.setStrokeWidth(borderWidth);\n        border.setX(borderWidth / 2);\n        border.setY(borderWidth / 2);\n\n        Pane boxPane = new Pane();\n        boxPane.getChildren().addAll(border, grid);\n\n        StackPane root = new StackPane();\n        root.getChildren().add(boxPane);\n\n        Scene scene = new Scene(root, 700, 700);\n\n        scene.setOnScroll((ScrollEvent event) -&gt; {\n            double zoomFactor = 1.05;\n            double deltaY = event.getDeltaY();\n            if (deltaY &lt; 0){\n                zoomFactor = 2 - zoomFactor;\n            }\n            boxPane.setScaleX(boxPane.getScaleX() * zoomFactor);\n            boxPane.setScaleY(boxPane.getScaleY() * zoomFactor);\n            event.consume();\n        });\n\n        boxPane.setOnMouseDragged(event -&gt; {\n            double newX = event.getSceneX() - boxSize / 2;\n            double newY = event.getSceneY() - boxSize / 2;\n            boxPane.setTranslateX(newX);\n            boxPane.setTranslateY(newY);\n        });\n\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n\n</code></pre>\n<p>I tried changing the <code>box</code> and <code>scene</code> size</p>\n"},{"tags":["java","google-chrome","selenium-webdriver","jenkins","selenium-chromedriver"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1689754204,"post_id":76718559,"comment_id":135256336,"body_markdown":"The error is crystal clear `...this version of chromedriver only supports chrome version 115 Current browser version is 114...`","body":"The error is crystal clear <code>...this version of chromedriver only supports chrome version 115 Current browser version is 114...</code>"},{"owner":{"account_id":27938804,"reputation":102,"user_id":21335232,"display_name":"Bhairu"},"score":0,"creation_date":1694419371,"post_id":76718559,"comment_id":135883477,"body_markdown":"@ben ben try also this answer -  https://stackoverflow.com/questions/75718696/i-am-getting-error-while-launching-chrome-browser-using-selenium-java-io-ioexcep/75719343#75719343","body":"@ben ben try also this answer -  <a href=\"https://stackoverflow.com/questions/75718696/i-am-getting-error-while-launching-chrome-browser-using-selenium-java-io-ioexcep/75719343#75719343\" title=\"i am getting error while launching chrome browser using selenium java io ioexcep\">stackoverflow.com/questions/75718696/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":9870025,"reputation":100,"user_id":7310028,"display_name":"Deepak"},"score":0,"creation_date":1701249647,"post_id":76720989,"comment_id":136751107,"body_markdown":"Hi @undetected Selenium, I am using Selenium 4.12.0 and execution takes place at local machine successfully. But as I setup CI/Cd with Jenkins which is at Azure and also use Kubernetes-docker containers I get error org.openqa.selenium.SessionNotCreatedException in Console logs. Great if you can provide your help on this.","body":"Hi @undetected Selenium, I am using Selenium 4.12.0 and execution takes place at local machine successfully. But as I setup CI/Cd with Jenkins which is at Azure and also use Kubernetes-docker containers I get error org.openqa.selenium.SessionNotCreatedException in Console logs. Great if you can provide your help on this."},{"owner":{"account_id":9870025,"reputation":100,"user_id":7310028,"display_name":"Deepak"},"score":0,"creation_date":1701249788,"post_id":76720989,"comment_id":136751130,"body_markdown":"Just to add more information to my above comment - at Jenkins server chrome browser and chromedriver get downloaded in cache are of same version as happens at local machine.  INFO: Driver path: /root/.cache/selenium/chromedriver/linux64/116.0.5845.96/chromedriver\n\nINFO: Browser path: /root/.cache/selenium/chrome/linux64/116.0.5845.96/chrome","body":"Just to add more information to my above comment - at Jenkins server chrome browser and chromedriver get downloaded in cache are of same version as happens at local machine.  INFO: Driver path: /root/.cache/selenium/chromedriver/linux64/116.0.5845.96/chr&zwnj;&#8203;omedriver  INFO: Browser path: /root/.cache/selenium/chrome/linux64/116.0.5845.96/chrome"}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689767271,"creation_date":1689767271,"answer_id":76720989,"question_id":76718559,"body_markdown":"This error message...\r\n\r\n![115](https://i.stack.imgur.com/GKwkX.png)\r\n\r\n...implies that _`SessionNotCreatedException`_ was raised as [ChromeDriver](https://stackoverflow.com/a/59927747/7429447) was unable to spawn a new _browsing context_ i.e. [tag:google-chrome] session.\r\n\r\nYour main issue is the **incompatibility** between the version of the binaries you are using as follows:\r\n\r\n- You are using _chromedriver=115.0_ \r\n- Where as you are using _chrome=114.0.5735.201_\r\n\r\nSo there is a clear mismatch between the major version of _chromedriver=115.0_ and the _chrome=114.0.5735.201_\r\n\r\n\r\n----------\r\n\r\n\r\n\r\nSolution\r\n--------\r\nEnsure that [ChromeDriver](https://stackoverflow.com/a/59927747/7429447) is downgraded to [ChromeDriver v114.0](https://chromedriver.storage.googleapis.com/index.html?path=114.0.5735.90/) level to match the _chrome=114.0.5735.201_ and execute your test.\r\n\r\n\r\n----------\r\n\r\n\r\nFurther, if you are using [Selenium](https://stackoverflow.com/a/54482491/7429447) _**v4.6**_ or above you don&#39;t have to explicitly use [ChromeDriverManager().install()](https://stackoverflow.com/q/63421086/7429447) anymore as [_**Selenium Manager**_](https://stackoverflow.com/a/76563271/7429447) can silently download the matching [ChromeDriver](https://stackoverflow.com/a/59927747/7429447) and your minimal code block can be:\r\n\r\n\tfrom selenium import webdriver\r\n\r\n\tOption = webdriver.ChromeOptions()\r\n\toptions.add_argument(&quot;--start-maximized&quot;)\r\n\tdriver = webdriver.Chrome(options=Option)\r\n\tdriver.get(&quot;https://google.com/&quot;)","title":"SessionNotCreatedException: Could not start a new session. Response code 500 using ChromeDriver in Jenkins using Selenium WebDriver (Java)","body":"<p>This error message...</p>\n<p><img src=\"https://i.stack.imgur.com/GKwkX.png\" alt=\"115\" /></p>\n<p>...implies that <em><code>SessionNotCreatedException</code></em> was raised as <a href=\"https://stackoverflow.com/a/59927747/7429447\">ChromeDriver</a> was unable to spawn a new <em>browsing context</em> i.e. <a href=\"/questions/tagged/google-chrome\" class=\"post-tag\" title=\"show questions tagged &#39;google-chrome&#39;\" aria-label=\"show questions tagged &#39;google-chrome&#39;\" rel=\"tag\" aria-labelledby=\"tag-google-chrome-tooltip-container\">google-chrome</a> session.</p>\n<p>Your main issue is the <strong>incompatibility</strong> between the version of the binaries you are using as follows:</p>\n<ul>\n<li>You are using <em>chromedriver=115.0</em></li>\n<li>Where as you are using <em>chrome=114.0.5735.201</em></li>\n</ul>\n<p>So there is a clear mismatch between the major version of <em>chromedriver=115.0</em> and the <em>chrome=114.0.5735.201</em></p>\n<hr />\n<h2>Solution</h2>\n<p>Ensure that <a href=\"https://stackoverflow.com/a/59927747/7429447\">ChromeDriver</a> is downgraded to <a href=\"https://chromedriver.storage.googleapis.com/index.html?path=114.0.5735.90/\" rel=\"nofollow noreferrer\">ChromeDriver v114.0</a> level to match the <em>chrome=114.0.5735.201</em> and execute your test.</p>\n<hr />\n<p>Further, if you are using <a href=\"https://stackoverflow.com/a/54482491/7429447\">Selenium</a> <em><strong>v4.6</strong></em> or above you don't have to explicitly use <a href=\"https://stackoverflow.com/q/63421086/7429447\">ChromeDriverManager().install()</a> anymore as <a href=\"https://stackoverflow.com/a/76563271/7429447\"><em><strong>Selenium Manager</strong></em></a> can silently download the matching <a href=\"https://stackoverflow.com/a/59927747/7429447\">ChromeDriver</a> and your minimal code block can be:</p>\n<pre><code>from selenium import webdriver\n\nOption = webdriver.ChromeOptions()\noptions.add_argument(&quot;--start-maximized&quot;)\ndriver = webdriver.Chrome(options=Option)\ndriver.get(&quot;https://google.com/&quot;)\n</code></pre>\n"}],"owner":{"account_id":28617871,"reputation":5,"user_id":21911452,"display_name":"ben ben"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":755,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689767472,"creation_date":1689748515,"question_id":76718559,"body_markdown":"I am facing the below error on Jenkins scheduled execution. The execution was successfully done when I executed myself but when I set the schedule execution it show me the error.\r\n\r\nHere the Image of the Error Message:\r\n\r\n![Error Message Image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aygzV.png","title":"SessionNotCreatedException: Could not start a new session. Response code 500 using ChromeDriver in Jenkins using Selenium WebDriver (Java)","body":"<p>I am facing the below error on Jenkins scheduled execution. The execution was successfully done when I executed myself but when I set the schedule execution it show me the error.</p>\n<p>Here the Image of the Error Message:</p>\n<p><img src=\"https://i.stack.imgur.com/aygzV.png\" alt=\"Error Message Image\" /></p>\n"},{"tags":["java","spring","transactions","spring-data-jpa"],"comments":[{"owner":{"account_id":6875411,"reputation":713,"user_id":5284026,"display_name":"Alain-Michel Chomnoue N"},"score":0,"creation_date":1493748131,"post_id":43744143,"comment_id":74531639,"body_markdown":"Have you added @EnableTransactionManagement to your configuration?","body":"Have you added @EnableTransactionManagement to your configuration?"},{"owner":{"account_id":1384974,"reputation":21,"user_id":1317202,"display_name":"M4veR1K"},"score":0,"creation_date":1493764659,"post_id":43744143,"comment_id":74539741,"body_markdown":"Yes I tried, but it didn&#39;t change a thing. I read that we don&#39;t have to add this annotation cause spring boot kinda adds it implicitly","body":"Yes I tried, but it didn&#39;t change a thing. I read that we don&#39;t have to add this annotation cause spring boot kinda adds it implicitly"}],"answers":[{"tags":[],"owner":{"account_id":1384974,"reputation":21,"user_id":1317202,"display_name":"M4veR1K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689767270,"creation_date":1689767270,"answer_id":76720988,"question_id":43744143,"body_markdown":"Closing this issue. I was a junior back then and I had a bad understanding of how `@Transactional` worked with Spring. \r\n\r\n`TechnicalErrorException` needed to be a `RuntimeException` instead of `CheckedException`.\r\n\r\nHere is a link that talks about the Transactional Pitfalls: https://codete.com/blog/5-common-spring-transactional-pitfalls","title":"Spring Boot : CrudRepository methods being @Transactional, my service can&#39;t be","body":"<p>Closing this issue. I was a junior back then and I had a bad understanding of how <code>@Transactional</code> worked with Spring.</p>\n<p><code>TechnicalErrorException</code> needed to be a <code>RuntimeException</code> instead of <code>CheckedException</code>.</p>\n<p>Here is a link that talks about the Transactional Pitfalls: <a href=\"https://codete.com/blog/5-common-spring-transactional-pitfalls\" rel=\"nofollow noreferrer\">https://codete.com/blog/5-common-spring-transactional-pitfalls</a></p>\n"}],"owner":{"account_id":1384974,"reputation":21,"user_id":1317202,"display_name":"M4veR1K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1459,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76720988,"answer_count":1,"score":0,"last_activity_date":1689767270,"creation_date":1493747154,"question_id":43744143,"body_markdown":"I have a Spring Boot application and I face a weird issue.\r\n\r\nI try to make one of my service method transactional but this doesn&#39;t work.\r\n\r\nMy service looks like this : \r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Service(&quot;ppService&quot;)\r\n    public class PlanProgresServiceImpl implements PlanProgresService\r\n    {\r\n    \t@Resource\r\n    \tprivate DeploiementDAO deploiementDao;\r\n    \r\n        ...\r\n    \r\n        @Override\r\n    \t@Transactional(rollbackFor = TechnicalErrorException.class)\r\n    \tpublic Set&lt;String&gt; deployer(PlanProgresType planProgresType, List&lt;Integer&gt; listIdUo, boolean sharepoint, Campagne campagne)\r\n    \t\t\tthrows TechnicalErrorException\r\n    \r\n            ...\r\n    \r\n            createDeploiement(deploiement);\r\n    \t\t\t\t\r\n    \t    throw new TechnicalErrorException(&quot;temporary exception to test the transactional behavior&quot;);\r\n        }\r\n\r\n\r\n        @Override\r\n\t    public void createDeploiement(Deploiement deploiement)\r\n\t    {\r\n\t\t    deploiementDao.save(deploiement);\r\n\t    }\r\n    }\r\nAnd here is my DAO :\r\n\r\n    public interface DeploiementDAO extends CrudRepository&lt;Deploiement, Integer&gt;\r\n    {\r\n    \tList&lt;Deploiement&gt; findByUniteOperationnelle(UniteOperationnelle uo);\r\n    }\r\n\r\nThe thing is that my Deploiement object is always inserted in database (a PostgreSQL one).\r\n\r\nI have added the following line in my application.yml &lt;code&gt;logging.level.org.springframework.transaction.interceptor: TRACE&lt;/code&gt;\r\n\r\nAnd it gives me this in the console :\r\n\r\n    2017-05-02 19:38:24.297 TRACE 7760 --- [io-8080-exec-79] o.s.t.i.TransactionInterceptor           : Getting transaction for \r\n    [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findOne]\r\n    2017-05-02 19:38:24.310 TRACE 7760 --- [io-8080-exec-79] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findOne]\r\n    2017-05-02 19:38:24.312 TRACE 7760 --- [io-8080-exec-79] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findOne]\r\n    2017-05-02 19:38:24.323 TRACE 7760 --- [io-8080-exec-79] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findOne]\r\n    2017-05-02 19:38:24.324 TRACE 7760 --- [io-8080-exec-79] o.s.t.i.TransactionInterceptor           : Don&#39;t need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUniteOperationnelle]: This method isn&#39;t transactional.\r\n    2017-05-02 19:38:24.449 TRACE 7760 --- [io-8080-exec-79] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]\r\n    2017-05-02 19:38:24.450 TRACE 7760 --- [io-8080-exec-79] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]\r\n\r\nWhich means that every methods of SimpleJpaRepository are transactional, that is true when we look at its code :\r\n\r\n    @Transactional\r\n\tpublic &lt;S extends T&gt; S save(S entity) {\r\n\r\n\t\tif (entityInformation.isNew(entity)) {\r\n\t\t\tem.persist(entity);\r\n\t\t\treturn entity;\r\n\t\t} else {\r\n\t\t\treturn em.merge(entity);\r\n\t\t}\r\n\t}\r\n\r\nSo, how can I solve this ?","title":"Spring Boot : CrudRepository methods being @Transactional, my service can&#39;t be","body":"<p>I have a Spring Boot application and I face a weird issue.</p>\n\n<p>I try to make one of my service method transactional but this doesn't work.</p>\n\n<p>My service looks like this : \n</p>\n\n<pre><code>@Service(\"ppService\")\npublic class PlanProgresServiceImpl implements PlanProgresService\n{\n    @Resource\n    private DeploiementDAO deploiementDao;\n\n    ...\n\n    @Override\n    @Transactional(rollbackFor = TechnicalErrorException.class)\n    public Set&lt;String&gt; deployer(PlanProgresType planProgresType, List&lt;Integer&gt; listIdUo, boolean sharepoint, Campagne campagne)\n            throws TechnicalErrorException\n\n        ...\n\n        createDeploiement(deploiement);\n\n        throw new TechnicalErrorException(\"temporary exception to test the transactional behavior\");\n    }\n\n\n    @Override\n    public void createDeploiement(Deploiement deploiement)\n    {\n        deploiementDao.save(deploiement);\n    }\n}\n</code></pre>\n\n<p>And here is my DAO :</p>\n\n<pre><code>public interface DeploiementDAO extends CrudRepository&lt;Deploiement, Integer&gt;\n{\n    List&lt;Deploiement&gt; findByUniteOperationnelle(UniteOperationnelle uo);\n}\n</code></pre>\n\n<p>The thing is that my Deploiement object is always inserted in database (a PostgreSQL one).</p>\n\n<p>I have added the following line in my application.yml <code>logging.level.org.springframework.transaction.interceptor: TRACE</code></p>\n\n<p>And it gives me this in the console :</p>\n\n<pre><code>2017-05-02 19:38:24.297 TRACE 7760 --- [io-8080-exec-79] o.s.t.i.TransactionInterceptor           : Getting transaction for \n[org.springframework.data.jpa.repository.support.SimpleJpaRepository.findOne]\n2017-05-02 19:38:24.310 TRACE 7760 --- [io-8080-exec-79] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findOne]\n2017-05-02 19:38:24.312 TRACE 7760 --- [io-8080-exec-79] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findOne]\n2017-05-02 19:38:24.323 TRACE 7760 --- [io-8080-exec-79] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findOne]\n2017-05-02 19:38:24.324 TRACE 7760 --- [io-8080-exec-79] o.s.t.i.TransactionInterceptor           : Don't need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUniteOperationnelle]: This method isn't transactional.\n2017-05-02 19:38:24.449 TRACE 7760 --- [io-8080-exec-79] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]\n2017-05-02 19:38:24.450 TRACE 7760 --- [io-8080-exec-79] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]\n</code></pre>\n\n<p>Which means that every methods of SimpleJpaRepository are transactional, that is true when we look at its code :</p>\n\n<pre><code>@Transactional\npublic &lt;S extends T&gt; S save(S entity) {\n\n    if (entityInformation.isNew(entity)) {\n        em.persist(entity);\n        return entity;\n    } else {\n        return em.merge(entity);\n    }\n}\n</code></pre>\n\n<p>So, how can I solve this ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1689766751,"post_id":76720841,"comment_id":135259063,"body_markdown":"Sounds like an XY question. What is the problem you are trying to solve? Why does it intrest you what Java threads do at the system call level? You can&#39;t control or access it anyway.","body":"Sounds like an XY question. What is the problem you are trying to solve? Why does it intrest you what Java threads do at the system call level? You can&#39;t control or access it anyway."},{"owner":{"account_id":27557975,"reputation":23,"user_id":22215161,"display_name":"user22215161"},"score":0,"creation_date":1689766973,"post_id":76720841,"comment_id":135259107,"body_markdown":"In a web application with many concurrent requests, if each thread cannot execute the same system call concurrently,\nI was wondering if it dosen&#39;t affect the speed of response.","body":"In a web application with many concurrent requests, if each thread cannot execute the same system call concurrently, I was wondering if it dosen&#39;t affect the speed of response."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1689769679,"post_id":76720841,"comment_id":135259762,"body_markdown":"You are going way too deep level with this. You can&#39;t tell what the threads will do. Even if they block, it&#39;s not under your control and not something you&#39;ll be able to change. Nevertheless, Java-based web applications work very efficiently all over the world. Only optimize when you have a problem.","body":"You are going way too deep level with this. You can&#39;t tell what the threads will do. Even if they block, it&#39;s not under your control and not something you&#39;ll be able to change. Nevertheless, Java-based web applications work very efficiently all over the world. Only optimize when you have a problem."}],"answers":[{"comments":[{"owner":{"account_id":27557975,"reputation":23,"user_id":22215161,"display_name":"user22215161"},"score":0,"creation_date":1689767651,"post_id":76720968,"comment_id":135259278,"body_markdown":"&quot;~one userspace thread blocks execution of any system call by another user space thread at the syscall interface&quot; \nDoes that mean the each thread performs the system call individually?","body":"&quot;~one userspace thread blocks execution of any system call by another user space thread at the syscall interface&quot;  Does that mean the each thread performs the system call individually?"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1689768686,"post_id":76720968,"comment_id":135259499,"body_markdown":"I&#39;m not sure I understand the question, @user22215161, but of course each userspace thread performs its system calls independently of the others. And one of the features of an SMP (symmetric multi-processing) operating system, such as recent-ish Windows, MacOS, and typical builds of Linux, is that the kernel is multi-threaded, so it can *process* multiple system calls simultaneously.","body":"I&#39;m not sure I understand the question, @user22215161, but of course each userspace thread performs its system calls independently of the others. And one of the features of an SMP (symmetric multi-processing) operating system, such as recent-ish Windows, MacOS, and typical builds of Linux, is that the kernel is multi-threaded, so it can <i>process</i> multiple system calls simultaneously."},{"owner":{"account_id":27557975,"reputation":23,"user_id":22215161,"display_name":"user22215161"},"score":0,"creation_date":1689769030,"post_id":76720968,"comment_id":135259579,"body_markdown":"It is the method comment for socket accept, \n    // Returns 1 on success, or IOStatus.UNAVAILABLE (if non-blocking and no\n    connections are pending) or IOStatus.INTERRUPTED.\n    \n   I thought the comment was talking about a multi-threaded environment, and got confused..","body":"It is the method comment for socket accept,      // Returns 1 on success, or IOStatus.UNAVAILABLE (if non-blocking and no     connections are pending) or IOStatus.INTERRUPTED.         I thought the comment was talking about a multi-threaded environment, and got confused.."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1689769459,"post_id":76720968,"comment_id":135259685,"body_markdown":"@user22215161 &quot;non-blocking&quot; in that comment is about the configuration of the socket itself -- whether an attempt to accept a connection should wait, if necessary, until one is available.  That has nothing in particular to do with action by one thread interfering with action by another.","body":"@user22215161 &quot;non-blocking&quot; in that comment is about the configuration of the socket itself -- whether an attempt to accept a connection should wait, if necessary, until one is available.  That has nothing in particular to do with action by one thread interfering with action by another."},{"owner":{"account_id":27557975,"reputation":23,"user_id":22215161,"display_name":"user22215161"},"score":0,"creation_date":1689770641,"post_id":76720968,"comment_id":135260011,"body_markdown":"ah.. is that means when the current socket is in non-blocking mode?\nI have a question related to this, then why does Tomcat only have one acceptor thread? Wouldn&#39;t it be better to create multi threads to handle accept?","body":"ah.. is that means when the current socket is in non-blocking mode? I have a question related to this, then why does Tomcat only have one acceptor thread? Wouldn&#39;t it be better to create multi threads to handle accept?"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1689773137,"post_id":76720968,"comment_id":135260754,"body_markdown":"We are now ranging rather far afield, @user22215161, but no, it generally does not make sense to have multiple acceptor threads.  Perhaps you are thinking of having additional threads *other than* the acceptor thread, to do work while the acceptor thread is waiting to accept a connection, and Tomcat *does* have that.  In an application designed around blocking accept calls, the acceptor thread generally will do nothing other than accept connections and assign servicing of those connections to other threads.","body":"We are now ranging rather far afield, @user22215161, but no, it generally does not make sense to have multiple acceptor threads.  Perhaps you are thinking of having additional threads <i>other than</i> the acceptor thread, to do work while the acceptor thread is waiting to accept a connection, and Tomcat <i>does</i> have that.  In an application designed around blocking accept calls, the acceptor thread generally will do nothing other than accept connections and assign servicing of those connections to other threads."}],"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689767126,"creation_date":1689767126,"answer_id":76720968,"question_id":76720841,"body_markdown":"&gt; When a system call is called on a Java multi-threading process, other threads cannot execute the corresponding system call?\r\n\r\nJava itself has no mechanism for (directly) making system calls, so this is a question of native methods and particular JVM implementations, which both boil down to the underlying hardware and OS.  I am not aware of any modern, general-purpose SMP operating system where execution of a system call by one userspace thread blocks execution of any system call by another userspace thread at the syscall interface.\r\n\r\nHowever, the kernel might internally serialize the service of some requests.  To take your example, if requests to read from the same socket are in flight simultaneously in the kernel of a POSIX system, then the kernel will service one read in full, then the other.  It will not provide the same data to both reads, nor split the data among reads any other way than I just described.","title":"about blocking system call in the multi-threading","body":"<blockquote>\n<p>When a system call is called on a Java multi-threading process, other threads cannot execute the corresponding system call?</p>\n</blockquote>\n<p>Java itself has no mechanism for (directly) making system calls, so this is a question of native methods and particular JVM implementations, which both boil down to the underlying hardware and OS.  I am not aware of any modern, general-purpose SMP operating system where execution of a system call by one userspace thread blocks execution of any system call by another userspace thread at the syscall interface.</p>\n<p>However, the kernel might internally serialize the service of some requests.  To take your example, if requests to read from the same socket are in flight simultaneously in the kernel of a POSIX system, then the kernel will service one read in full, then the other.  It will not provide the same data to both reads, nor split the data among reads any other way than I just described.</p>\n"}],"owner":{"account_id":27557975,"reputation":23,"user_id":22215161,"display_name":"user22215161"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76720968,"answer_count":1,"score":0,"last_activity_date":1689767126,"creation_date":1689766287,"question_id":76720841,"body_markdown":"While studying a java-based web framework Spring, I had the following question.\r\n\r\nWhen a system call is called on a Java multi-threading process,\r\nother threads cannot execute the corresponding system call?\r\n\r\nex) like read operation to socket\r\n    `static native int read0(FileDescriptor fd, long address, int len)\r\n     throws IOException;`\r\n\r\nI created a thread and called a native method that invokes a blocking system call\r\nbut it was difficult to judge the result about this","title":"about blocking system call in the multi-threading","body":"<p>While studying a java-based web framework Spring, I had the following question.</p>\n<p>When a system call is called on a Java multi-threading process,\nother threads cannot execute the corresponding system call?</p>\n<p>ex) like read operation to socket\n<code>static native int read0(FileDescriptor fd, long address, int len) throws IOException;</code></p>\n<p>I created a thread and called a native method that invokes a blocking system call\nbut it was difficult to judge the result about this</p>\n"},{"tags":["java","android","kotlin","android-studio","sdk"],"owner":{"account_id":13038046,"reputation":867,"user_id":9422267,"display_name":"Avinash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689767105,"creation_date":1689767105,"question_id":76720966,"body_markdown":"I need to implement usb debugging fun in my app . I am using ACTION_APPLICATION_DEVELOPMEMT_SETTINGS intent for open developer option setting . I am able to proceed and go to the developer option but when I press the back button  my app should be their but my app crashes silently. Same process is working fine in Android 9 and on click of back I go back to the activity. I have created one sample project and everythings works fine on Android 12&amp;13 too.\r\n\r\n\r\nI am not able to debug the issue as nothing has been printed on logs. I can&#39;t change the gradle file as their are lots of dependencies on other modules also. Please help and give your suggestions.\r\n\r\nI have change something on manifest files too but no luck till now.kindly support here.","title":"Silent App crash on Android 12 &amp; 13 when using Settings.ACTION_APPLICATION_DEVELOPMENT_SETTINGS","body":"<p>I need to implement usb debugging fun in my app . I am using ACTION_APPLICATION_DEVELOPMEMT_SETTINGS intent for open developer option setting . I am able to proceed and go to the developer option but when I press the back button  my app should be their but my app crashes silently. Same process is working fine in Android 9 and on click of back I go back to the activity. I have created one sample project and everythings works fine on Android 12&amp;13 too.</p>\n<p>I am not able to debug the issue as nothing has been printed on logs. I can't change the gradle file as their are lots of dependencies on other modules also. Please help and give your suggestions.</p>\n<p>I have change something on manifest files too but no luck till now.kindly support here.</p>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1689767904,"post_id":76720897,"comment_id":135259340,"body_markdown":"Its pain to read this. Can you please format your question so we can have easier task to at least spot the differences between dates ?","body":"Its pain to read this. Can you please format your question so we can have easier task to at least spot the differences between dates ?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1689768042,"post_id":76720897,"comment_id":135259363,"body_markdown":"And why this `2023-07-01T02:02:06.261+05:30` should be equal to `Sat Jul 01 01:32:06 UTC 2023`? Those are 2 different points in time. On the contrary, `2023-07-01T02:02:06.261+05:30` and `Fri Jun 30 20:32:06 UTC 2023` looks like the same point in time which is more than expected","body":"And why this <code>2023-07-01T02:02:06.261+05:30</code> should be equal to <code>Sat Jul 01 01:32:06 UTC 2023</code>? Those are 2 different points in time. On the contrary, <code>2023-07-01T02:02:06.261+05:30</code> and <code>Fri Jun 30 20:32:06 UTC 2023</code> looks like the same point in time which is more than expected"},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":1,"creation_date":1689779469,"post_id":76720897,"comment_id":135262516,"body_markdown":"It is giving the correct date, subtract 5hs 30 mints from your time, it matches the GMT/UTC time","body":"It is giving the correct date, subtract 5hs 30 mints from your time, it matches the GMT/UTC time"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689804280,"post_id":76720897,"comment_id":135267224,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1689846527,"post_id":76720897,"comment_id":135272340,"body_markdown":"Sat Jul 01 01:32:06 UTC 2023 is 5 hours ahead of ISODate(&quot;2023-07-01T02:02:06.261+05:30&quot;), so would not be correct.","body":"Sat Jul 01 01:32:06 UTC 2023 is 5 hours ahead of ISODate(&quot;2023-07-01T02:02:06.261+05:30&quot;), so would not be correct."},{"owner":{"account_id":18329588,"reputation":1,"user_id":13348462,"display_name":"Bhaskar Whitebox"},"score":0,"creation_date":1690175947,"post_id":76720897,"comment_id":135311233,"body_markdown":"@Antoniossss\nI have date value in mongoDB i.e ISODate(&quot;2023-07-01T02:02:06.261+05:30&quot;)\nwhile am reading this date from Java by connecting to MongoDB it&#39;s giving me\nThis Date Fri Jun 30 20:32:06 UTC 2023.\n\nActually Jun 30 is not present in MongoDB why it should give that date instead of 01 July\n\nNote* forget about time in this case","body":"@Antoniossss I have date value in mongoDB i.e ISODate(&quot;2023-07-01T02:02:06.261+05:30&quot;) while am reading this date from Java by connecting to MongoDB it&#39;s giving me This Date Fri Jun 30 20:32:06 UTC 2023.  Actually Jun 30 is not present in MongoDB why it should give that date instead of 01 July  Note* forget about time in this case"},{"owner":{"account_id":18329588,"reputation":1,"user_id":13348462,"display_name":"Bhaskar Whitebox"},"score":0,"creation_date":1690176499,"post_id":76720897,"comment_id":135311283,"body_markdown":"@Community\nIn MongoDB date value is ISODate(&quot;2023-07-01T02:02:06.261+05:30&quot;)\n\nIn java, at the time of reading this date it&#39;s giving  Fri Jun 30 20:32:06 UTC 2023.\n\nSo, My doubt is why 30 jun why not 01 july.","body":"@Community In MongoDB date value is ISODate(&quot;2023-07-01T02:02:06.261+05:30&quot;)  In java, at the time of reading this date it&#39;s giving  Fri Jun 30 20:32:06 UTC 2023.  So, My doubt is why 30 jun why not 01 july."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1690176875,"post_id":76720897,"comment_id":135311318,"body_markdown":"@BhaskarWhitebox and that is PERFECTLY FINE.","body":"@BhaskarWhitebox and that is PERFECTLY FINE."},{"owner":{"account_id":18329588,"reputation":1,"user_id":13348462,"display_name":"Bhaskar Whitebox"},"score":0,"creation_date":1690178976,"post_id":76720897,"comment_id":135311565,"body_markdown":"@Antoniossss i need to show that date which is present in MongDB to end user in UI side, if am showing the wrong date then it&#39;s not good right.","body":"@Antoniossss i need to show that date which is present in MongDB to end user in UI side, if am showing the wrong date then it&#39;s not good right."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1690180679,"post_id":76720897,"comment_id":135311803,"body_markdown":"Format it to the required timezone on the frontend app","body":"Format it to the required timezone on the frontend app"},{"owner":{"account_id":18329588,"reputation":1,"user_id":13348462,"display_name":"Bhaskar Whitebox"},"score":0,"creation_date":1690364935,"post_id":76720897,"comment_id":135342055,"body_markdown":"Giving correct output after doing required time format.","body":"Giving correct output after doing required time format."}],"owner":{"account_id":18329588,"reputation":1,"user_id":13348462,"display_name":"Bhaskar Whitebox"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689766701,"creation_date":1689766701,"question_id":76720897,"body_markdown":"In mongo db Date is present in  &quot;createdDate&quot;: ISODate(&quot;2023-07-01T02:02:06.261+05:30&quot;)\r\nwhile am fetching in java language it&#39;s giving this date which is wrong &quot;Fri Jun 30 20:32:06 UTC 2023&quot;. while am changing date to &quot;createdDate&quot;: ISODate(&quot;2023-07-01T07:02:06.261+05:30&quot;) it&#39;s giving correct date Sat Jul 01 01:32:06 UTC 2023\r\n\r\nAm expecting if date is present in MongoDB in this format &quot;createdDate&quot;: ISODate(&quot;2023-07-01T02:02:06.261+05:30&quot;) while fetching in java it should give correct date i.e Sat Jul 01 01:32:06 UTC 2023","title":"Fetching wrong date from MongoDB in java","body":"<p>In mongo db Date is present in  &quot;createdDate&quot;: ISODate(&quot;2023-07-01T02:02:06.261+05:30&quot;)\nwhile am fetching in java language it's giving this date which is wrong &quot;Fri Jun 30 20:32:06 UTC 2023&quot;. while am changing date to &quot;createdDate&quot;: ISODate(&quot;2023-07-01T07:02:06.261+05:30&quot;) it's giving correct date Sat Jul 01 01:32:06 UTC 2023</p>\n<p>Am expecting if date is present in MongoDB in this format &quot;createdDate&quot;: ISODate(&quot;2023-07-01T02:02:06.261+05:30&quot;) while fetching in java it should give correct date i.e Sat Jul 01 01:32:06 UTC 2023</p>\n"},{"tags":["java","postgresql","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":1,"creation_date":1689610694,"post_id":76704882,"comment_id":135234626,"body_markdown":"You cannot use placeholder `#{}` for table/column names. You need to use `${}` instead. See the [FAQ entry](https://github.com/mybatis/mybatis-3/wiki/FAQ#what-is-the-difference-between--and-). Be sure not to use untrusted values in `${}`. A general advice: enable TRACE level logging which shows you the parameterized statement, parameters and results.","body":"You cannot use placeholder <code>#{}</code> for table/column names. You need to use <code>${}</code> instead. See the <a href=\"https://github.com/mybatis/mybatis-3/wiki/FAQ#what-is-the-difference-between--and-\" rel=\"nofollow noreferrer\">FAQ entry</a>. Be sure not to use untrusted values in <code>${}</code>. A general advice: enable TRACE level logging which shows you the parameterized statement, parameters and results."},{"owner":{"account_id":28586663,"reputation":39,"user_id":21886741,"display_name":"Paul"},"score":0,"creation_date":1689641973,"post_id":76704882,"comment_id":135239447,"body_markdown":"Ah, my bad, you are surely right.","body":"Ah, my bad, you are surely right."},{"owner":{"account_id":28586663,"reputation":39,"user_id":21886741,"display_name":"Paul"},"score":0,"creation_date":1689649821,"post_id":76704882,"comment_id":135240030,"body_markdown":"Amazingly, after I change the placeholder as you said, everything works fine now. Oh my lord, thank you my hero.  Though I still haven&#39;t figured out the way to configure trace level logging, I have managed to configure a debug level logging for my mapper, that is a really useful technique indeed.","body":"Amazingly, after I change the placeholder as you said, everything works fine now. Oh my lord, thank you my hero.  Though I still haven&#39;t figured out the way to configure trace level logging, I have managed to configure a debug level logging for my mapper, that is a really useful technique indeed."},{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":1,"creation_date":1689694804,"post_id":76704882,"comment_id":135248746,"body_markdown":"Glad to know it worked! &#128578; The way to configure log level depends on the logging library you are using. There are a few examples in the [doc](https://mybatis.org/mybatis-3/logging.html). If you are using Spring Boot, it can be configured in `application.properties`.","body":"Glad to know it worked!  The way to configure log level depends on the logging library you are using. There are a few examples in the <a href=\"https://mybatis.org/mybatis-3/logging.html\" rel=\"nofollow noreferrer\">doc</a>. If you are using Spring Boot, it can be configured in <code>application.properties</code>."}],"owner":{"account_id":28586663,"reputation":39,"user_id":21886741,"display_name":"Paul"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689766424,"creation_date":1689599908,"question_id":76704882,"body_markdown":"My tables are like this:\r\n\r\n``` postgresql\r\n    DROP TABLE IF EXISTS &quot;public&quot;.&quot;agri_pest_control&quot;;\r\n    CREATE TABLE &quot;public&quot;.&quot;agri_pest_control&quot; (\r\n      &quot;pest_type&quot; varchar(10) COLLATE &quot;pg_catalog&quot;.&quot;default&quot; DEFAULT &#39;&#39;::character varying,\r\n      &quot;pest_status&quot; bit(3) DEFAULT &#39;000&#39;::&quot;bit&quot;,\r\n      &quot;crop_type&quot; varchar(20) COLLATE &quot;pg_catalog&quot;.&quot;default&quot;,\r\n      &quot;id&quot; int8 NOT NULL,\r\n      &quot;comments&quot; varchar(255) COLLATE &quot;pg_catalog&quot;.&quot;default&quot;,\r\n      &quot;land_id&quot; int8,\r\n      &quot;test_time&quot; timestamp(6)\r\n    )\r\n\r\n    ALTER TABLE &quot;public&quot;.&quot;agri_pest_control&quot; ADD CONSTRAINT &quot;agri_pest_control_pkey&quot; PRIMARY KEY (&quot;id&quot;);\r\n\r\n    DROP TABLE IF EXISTS &quot;public&quot;.&quot;agri_land&quot;;\r\n    CREATE TABLE &quot;public&quot;.&quot;agri_land&quot; (\r\n      &quot;id&quot; int4 NOT NULL DEFAULT nextval(&#39;agri_land_id_seq&#39;::regclass),\r\n      &quot;geom&quot; &quot;public&quot;.&quot;geometry&quot;,\r\n      &quot;shape_area&quot; float8,\r\n      &quot;county_id&quot; int2\r\n    )\r\n    ;\r\n\r\n    ALTER TABLE &quot;public&quot;.&quot;agri_land&quot; ADD CONSTRAINT &quot;agri_land_pkey&quot; PRIMARY KEY (&quot;id&quot;);\r\n```\r\nHere is my Mapper function:\r\n```java\r\n    List&lt;Map&lt;String, Object&gt;&gt; selectStatistics(\r\n            @Param(&quot;landId&quot;) Long landId,\r\n            @Param(&quot;pestStatus&quot;)byte[] pestStatus,\r\n            @Param(&quot;pestType&quot;) String pestType,\r\n            @Param(&quot;cropType&quot;) String cropType,\r\n            @Param(&quot;testStartTime&quot;) LocalDateTime localDateTime,\r\n            @Param(&quot;testEndTime&quot;) LocalDateTime localDateTime1,\r\n            @Param(&quot;statisticsFirstObject&quot;) String statisticsFirstObject,\r\n            @Param(&quot;statisticsSecondObject&quot;) String statisticsSecondObject\r\n            );\r\n```\r\n\r\nAnd I have a Mapper.xml file like this:\r\n\r\n```xml\r\n\r\n    &lt;resultMap id=&quot;statisticsMap&quot; type=&quot;java.util.HashMap&quot;&gt;\r\n            &lt;id property=&quot;id&quot; column=&quot;row_num&quot;&gt;&lt;/id&gt;\r\n            &lt;result column = &quot;pest_status&quot; property = &quot;pest_status&quot; typeHandler=&quot;cn.iocoder.yudao.module.agri.utils.BitByteaTypeHandler&quot;/&gt;\r\n    &lt;/resultMap&gt;\r\n    &lt;select id=&quot;selectStatistics&quot; resultMap=&quot;statisticsMap&quot;&gt;\r\n        SELECT ROW_NUMBER() over\r\n        ( ORDER BY sl.area ) as row_num, * from\r\n        (SELECT\r\n            ${statisticsFirstObject} as ${statisticsFirstObject},\r\n            ${statisticsSecondObject} as ${statisticsSecondObject},\r\n            count(whl.id) count,\r\n            sum(whl.poly_area) area\r\n        FROM\r\n            agri_pest_control AS pc\r\n        JOIN agri_land whl ON whl.ID = pc.land_id\r\n        &lt;where&gt;\r\n            1=1\r\n            &lt;if test=&quot;pestStatus != null and pestStatus.length!=0&quot;&gt;\r\n                AND pest_status = #{pestStatus,typeHandler=cn.iocoder.yudao.module.agri.utils.BitByteaTypeHandler}\r\n            &lt;/if&gt;\r\n            &lt;if test=&quot;cropType != null and cropType !=&#39;&#39;&quot;&gt;\r\n                AND crop_type = #{cropType}\r\n            &lt;/if&gt;\r\n            &lt;if test=&quot;testStartTime != null and testEndTime != null&quot;&gt;\r\n                AND test_time between #{testStartTime} and #{testEndTime}\r\n            &lt;/if&gt;\r\n            &lt;if test=&quot;pestType != null and pestType!= &#39;&#39;&quot;&gt;\r\n                AND pest_type = #{pestType}\r\n            &lt;/if&gt;\r\n            &lt;if test=&quot;landId != null and landId != &#39;&#39;&quot;&gt;\r\n                AND land_id = #{landId}\r\n            &lt;/if&gt;\r\n            AND pc.deleted = 0\r\n            AND whl.deleted = 0\r\n        &lt;/where&gt;\r\n            GROUP BY\r\n            ${statisticsFirstObject} ,\r\n            ${statisticsSecondObject}) sl\r\n    &lt;/select&gt;\r\n\r\n```\r\n\r\nBasically, I am trying to write a universal method to query the statistics of data based on two table field variables. However, the table field pest_status is a bit(3) which means [I need to configure typeHandler for this field.][1] So I come up with the idea to use resultMap to configure typeHandler for the possibly queried field pest_status. Besides, as I want to reorganize the result to better suit json later, I choose HashMap to retrieve the value by its field name. Here is my reorganize function:\r\n```java\r\n    public static Map&lt;String, Map&lt;String, Object&gt;&gt; reorganize(String statisticsType, String statisticsFirstObject, String statisticsSecondObject, List&lt;Map&lt;String, Object&gt;&gt; StatisticsResultMapList){\r\n        Map&lt;String, Map&lt;String, Object&gt;&gt; dict = new HashMap&lt;&gt;();\r\n        List&lt;Object&gt; distinctFirstObjectList = new ArrayList&lt;&gt;();\r\n        List&lt;Object&gt; distinctSecondObjectList = new ArrayList&lt;&gt;();\r\n        if (statisticsType!=null &amp;&amp; !statisticsType.equals(&quot;&quot;)){\r\n            for(Map&lt;String, Object&gt; statisticsResultMap:StatisticsResultMapList) {\r\n                if(statisticsFirstObject != null &amp;&amp; statisticsSecondObject != null){\r\n                    if (!distinctFirstObjectList.contains(statisticsResultMap.get(statisticsFirstObject))){\r\n                        distinctFirstObjectList.add(statisticsResultMap.get(statisticsFirstObject));\r\n                    }\r\n                    if (!distinctSecondObjectList.contains(statisticsResultMap.get(statisticsSecondObject))){\r\n                        distinctSecondObjectList.add(statisticsResultMap.get(statisticsSecondObject));\r\n                    }\r\n                }\r\n            }\r\n            for(Object firstObject:distinctFirstObjectList){\r\n                Map&lt;String, Object&gt; temp = new HashMap&lt;&gt;();\r\n                for(Object secondObject:distinctSecondObjectList){\r\n                    for(Map&lt;String, Object&gt; statisticsResultMap:StatisticsResultMapList){\r\n                        if(statisticsResultMap.get(statisticsSecondObject).equals(secondObject) &amp;&amp; statisticsResultMap.get(statisticsFirstObject).equals(firstObject)){\r\n                            temp.put(secondObject.toString(), statisticsResultMap.get(statisticsType));\r\n                        }\r\n                    }\r\n                    dict.put(firstObject.toString(), temp);\r\n                }\r\n            }\r\n        }\r\n        else\r\n            throw exception(STATISTICS_TYPE_NOT_EXISTS);\r\n        return dict;\r\n    }\r\n```\r\nSo I am expecting a list of map as the SQL result. When performing the following SQL content in navicat, the result is what I expected, but after some experiment, MyBatis actually returned me with a squeezed result:\r\n\r\nExpected:\r\n\r\n| row_num | county_id | pest_status | count | area         |\r\n| ------- | --------- | ----------- | ----- | ------------ |\r\n| 1       | 1         | 100         | 132   | 1631432.957  |\r\n| 2       | 1         | 000         | 144   | 1795440.317  |\r\n| 3       | 1         | 011         | 137   | 1796610.9408 |\r\n| 4       | 1         | 001         | 141   | 1824607.972  |\r\n| 5       | 1         | 010         | 135   | 2280791.764  |\r\n| 6       | 3         | 011         | 111   | 1852187.661  |\r\n| ...     | ...       | ...         | ...   | ...          |\r\n\r\n\r\nActual result:\r\n\r\n| id   | county_id | pest_status                        | count | area        |\r\n| ---- | --------- | ---------------------------------- | ----- | ----------- |\r\n| 1    | county_id | [48,48,48,48,48,48,48,48,48,48,48] | 9999  | 2.8841...E8 |\r\n\r\nSo how can I get a list of map results without hindering the typeHandler I needed in the resultMap?\r\n\r\nEnvironment:\r\n\r\n - PostgreSQL: 12.0\r\n - Driver version: 42.3.8\r\n - Java: 1.8.0_351\r\n - MyBatis: 3.5.10\r\n - MyBatis spring: 2.0.7\r\n - MyBatis-plus: 3.5.3.1\r\n\r\n  [1]: https://stackoverflow.com/questions/76234163/how-do-i-insert-a-record-with-mybatis-while-column-type-is-postgresql-bitn-and\r\n\r\n\r\n","title":"How can I use resultMap with type of HashMap to select list of HashMap with MyBatis?","body":"<p>My tables are like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    DROP TABLE IF EXISTS &quot;public&quot;.&quot;agri_pest_control&quot;;\n    CREATE TABLE &quot;public&quot;.&quot;agri_pest_control&quot; (\n      &quot;pest_type&quot; varchar(10) COLLATE &quot;pg_catalog&quot;.&quot;default&quot; DEFAULT ''::character varying,\n      &quot;pest_status&quot; bit(3) DEFAULT '000'::&quot;bit&quot;,\n      &quot;crop_type&quot; varchar(20) COLLATE &quot;pg_catalog&quot;.&quot;default&quot;,\n      &quot;id&quot; int8 NOT NULL,\n      &quot;comments&quot; varchar(255) COLLATE &quot;pg_catalog&quot;.&quot;default&quot;,\n      &quot;land_id&quot; int8,\n      &quot;test_time&quot; timestamp(6)\n    )\n\n    ALTER TABLE &quot;public&quot;.&quot;agri_pest_control&quot; ADD CONSTRAINT &quot;agri_pest_control_pkey&quot; PRIMARY KEY (&quot;id&quot;);\n\n    DROP TABLE IF EXISTS &quot;public&quot;.&quot;agri_land&quot;;\n    CREATE TABLE &quot;public&quot;.&quot;agri_land&quot; (\n      &quot;id&quot; int4 NOT NULL DEFAULT nextval('agri_land_id_seq'::regclass),\n      &quot;geom&quot; &quot;public&quot;.&quot;geometry&quot;,\n      &quot;shape_area&quot; float8,\n      &quot;county_id&quot; int2\n    )\n    ;\n\n    ALTER TABLE &quot;public&quot;.&quot;agri_land&quot; ADD CONSTRAINT &quot;agri_land_pkey&quot; PRIMARY KEY (&quot;id&quot;);\n</code></pre>\n<p>Here is my Mapper function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    List&lt;Map&lt;String, Object&gt;&gt; selectStatistics(\n            @Param(&quot;landId&quot;) Long landId,\n            @Param(&quot;pestStatus&quot;)byte[] pestStatus,\n            @Param(&quot;pestType&quot;) String pestType,\n            @Param(&quot;cropType&quot;) String cropType,\n            @Param(&quot;testStartTime&quot;) LocalDateTime localDateTime,\n            @Param(&quot;testEndTime&quot;) LocalDateTime localDateTime1,\n            @Param(&quot;statisticsFirstObject&quot;) String statisticsFirstObject,\n            @Param(&quot;statisticsSecondObject&quot;) String statisticsSecondObject\n            );\n</code></pre>\n<p>And I have a Mapper.xml file like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n    &lt;resultMap id=&quot;statisticsMap&quot; type=&quot;java.util.HashMap&quot;&gt;\n            &lt;id property=&quot;id&quot; column=&quot;row_num&quot;&gt;&lt;/id&gt;\n            &lt;result column = &quot;pest_status&quot; property = &quot;pest_status&quot; typeHandler=&quot;cn.iocoder.yudao.module.agri.utils.BitByteaTypeHandler&quot;/&gt;\n    &lt;/resultMap&gt;\n    &lt;select id=&quot;selectStatistics&quot; resultMap=&quot;statisticsMap&quot;&gt;\n        SELECT ROW_NUMBER() over\n        ( ORDER BY sl.area ) as row_num, * from\n        (SELECT\n            ${statisticsFirstObject} as ${statisticsFirstObject},\n            ${statisticsSecondObject} as ${statisticsSecondObject},\n            count(whl.id) count,\n            sum(whl.poly_area) area\n        FROM\n            agri_pest_control AS pc\n        JOIN agri_land whl ON whl.ID = pc.land_id\n        &lt;where&gt;\n            1=1\n            &lt;if test=&quot;pestStatus != null and pestStatus.length!=0&quot;&gt;\n                AND pest_status = #{pestStatus,typeHandler=cn.iocoder.yudao.module.agri.utils.BitByteaTypeHandler}\n            &lt;/if&gt;\n            &lt;if test=&quot;cropType != null and cropType !=''&quot;&gt;\n                AND crop_type = #{cropType}\n            &lt;/if&gt;\n            &lt;if test=&quot;testStartTime != null and testEndTime != null&quot;&gt;\n                AND test_time between #{testStartTime} and #{testEndTime}\n            &lt;/if&gt;\n            &lt;if test=&quot;pestType != null and pestType!= ''&quot;&gt;\n                AND pest_type = #{pestType}\n            &lt;/if&gt;\n            &lt;if test=&quot;landId != null and landId != ''&quot;&gt;\n                AND land_id = #{landId}\n            &lt;/if&gt;\n            AND pc.deleted = 0\n            AND whl.deleted = 0\n        &lt;/where&gt;\n            GROUP BY\n            ${statisticsFirstObject} ,\n            ${statisticsSecondObject}) sl\n    &lt;/select&gt;\n\n</code></pre>\n<p>Basically, I am trying to write a universal method to query the statistics of data based on two table field variables. However, the table field pest_status is a bit(3) which means <a href=\"https://stackoverflow.com/questions/76234163/how-do-i-insert-a-record-with-mybatis-while-column-type-is-postgresql-bitn-and\">I need to configure typeHandler for this field.</a> So I come up with the idea to use resultMap to configure typeHandler for the possibly queried field pest_status. Besides, as I want to reorganize the result to better suit json later, I choose HashMap to retrieve the value by its field name. Here is my reorganize function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static Map&lt;String, Map&lt;String, Object&gt;&gt; reorganize(String statisticsType, String statisticsFirstObject, String statisticsSecondObject, List&lt;Map&lt;String, Object&gt;&gt; StatisticsResultMapList){\n        Map&lt;String, Map&lt;String, Object&gt;&gt; dict = new HashMap&lt;&gt;();\n        List&lt;Object&gt; distinctFirstObjectList = new ArrayList&lt;&gt;();\n        List&lt;Object&gt; distinctSecondObjectList = new ArrayList&lt;&gt;();\n        if (statisticsType!=null &amp;&amp; !statisticsType.equals(&quot;&quot;)){\n            for(Map&lt;String, Object&gt; statisticsResultMap:StatisticsResultMapList) {\n                if(statisticsFirstObject != null &amp;&amp; statisticsSecondObject != null){\n                    if (!distinctFirstObjectList.contains(statisticsResultMap.get(statisticsFirstObject))){\n                        distinctFirstObjectList.add(statisticsResultMap.get(statisticsFirstObject));\n                    }\n                    if (!distinctSecondObjectList.contains(statisticsResultMap.get(statisticsSecondObject))){\n                        distinctSecondObjectList.add(statisticsResultMap.get(statisticsSecondObject));\n                    }\n                }\n            }\n            for(Object firstObject:distinctFirstObjectList){\n                Map&lt;String, Object&gt; temp = new HashMap&lt;&gt;();\n                for(Object secondObject:distinctSecondObjectList){\n                    for(Map&lt;String, Object&gt; statisticsResultMap:StatisticsResultMapList){\n                        if(statisticsResultMap.get(statisticsSecondObject).equals(secondObject) &amp;&amp; statisticsResultMap.get(statisticsFirstObject).equals(firstObject)){\n                            temp.put(secondObject.toString(), statisticsResultMap.get(statisticsType));\n                        }\n                    }\n                    dict.put(firstObject.toString(), temp);\n                }\n            }\n        }\n        else\n            throw exception(STATISTICS_TYPE_NOT_EXISTS);\n        return dict;\n    }\n</code></pre>\n<p>So I am expecting a list of map as the SQL result. When performing the following SQL content in navicat, the result is what I expected, but after some experiment, MyBatis actually returned me with a squeezed result:</p>\n<p>Expected:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>row_num</th>\n<th>county_id</th>\n<th>pest_status</th>\n<th>count</th>\n<th>area</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>1</td>\n<td>100</td>\n<td>132</td>\n<td>1631432.957</td>\n</tr>\n<tr>\n<td>2</td>\n<td>1</td>\n<td>000</td>\n<td>144</td>\n<td>1795440.317</td>\n</tr>\n<tr>\n<td>3</td>\n<td>1</td>\n<td>011</td>\n<td>137</td>\n<td>1796610.9408</td>\n</tr>\n<tr>\n<td>4</td>\n<td>1</td>\n<td>001</td>\n<td>141</td>\n<td>1824607.972</td>\n</tr>\n<tr>\n<td>5</td>\n<td>1</td>\n<td>010</td>\n<td>135</td>\n<td>2280791.764</td>\n</tr>\n<tr>\n<td>6</td>\n<td>3</td>\n<td>011</td>\n<td>111</td>\n<td>1852187.661</td>\n</tr>\n<tr>\n<td>...</td>\n<td>...</td>\n<td>...</td>\n<td>...</td>\n<td>...</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Actual result:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>county_id</th>\n<th>pest_status</th>\n<th>count</th>\n<th>area</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>county_id</td>\n<td>[48,48,48,48,48,48,48,48,48,48,48]</td>\n<td>9999</td>\n<td>2.8841...E8</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>So how can I get a list of map results without hindering the typeHandler I needed in the resultMap?</p>\n<p>Environment:</p>\n<ul>\n<li>PostgreSQL: 12.0</li>\n<li>Driver version: 42.3.8</li>\n<li>Java: 1.8.0_351</li>\n<li>MyBatis: 3.5.10</li>\n<li>MyBatis spring: 2.0.7</li>\n<li>MyBatis-plus: 3.5.3.1</li>\n</ul>\n"},{"tags":["java","spring-boot","spring-security","azure-active-directory"],"comments":[{"owner":{"account_id":9607023,"reputation":281,"user_id":7132739,"display_name":"The Frozen One"},"score":0,"creation_date":1686733021,"post_id":76471287,"comment_id":134838323,"body_markdown":"You have to provide more information, for example your spring security configuration, your preferred authorization flow, .... . By default, you log in once in your authorization server (Azure) and spring creates a session (-cookie) and the authorization is handled internally by the session cookie without using the authorization server. You can configure different ways of authorization (e.g. JWT) but you should decide which pattern fits your requirements best.","body":"You have to provide more information, for example your spring security configuration, your preferred authorization flow, .... . By default, you log in once in your authorization server (Azure) and spring creates a session (-cookie) and the authorization is handled internally by the session cookie without using the authorization server. You can configure different ways of authorization (e.g. JWT) but you should decide which pattern fits your requirements best."},{"owner":{"account_id":28785383,"reputation":1,"user_id":22045964,"display_name":"Mayur Thole"},"score":0,"creation_date":1686733578,"post_id":76471287,"comment_id":134838445,"body_markdown":"I have to go with JWT authorization, where JWT Authorization barer token will set in all rest call in controller automatically, one user login into application.","body":"I have to go with JWT authorization, where JWT Authorization barer token will set in all rest call in controller automatically, one user login into application."},{"owner":{"account_id":28785383,"reputation":1,"user_id":22045964,"display_name":"Mayur Thole"},"score":0,"creation_date":1686828192,"post_id":76471287,"comment_id":134854529,"body_markdown":"With below login request with response_type as id_token, getting id_token in payload, but required id_token in all request header,\n\nhttps://login.microsoftonline.com/&lt;TenantId&gt;/oauth2/v2.0/authorize?\nclient_id=&lt;ClientId&gt;\n&amp;response_type=id_token\n&amp;redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fdashboard%2F\n&amp;response_mode=form_post\n&amp;scope=openid\n&amp;state=12345\n&amp;nonce=678910","body":"With below login request with response_type as id_token, getting id_token in payload, but required id_token in all request header,  <a href=\"https://login.microsoftonline.com/&lt;TenantId&gt;/oauth2/v2.0/authorize\" rel=\"nofollow noreferrer\">login.microsoftonline.com/&lt;TenantId&gt;/oauth2/v2.0/&hellip;</a>? client_id=&lt;ClientId&gt; &amp;response_type=id_token &amp;redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fdashboard%2F &amp;response_mode=form_post &amp;scope=openid &amp;state=12345 &amp;nonce=678910"}],"answers":[{"tags":[],"owner":{"account_id":26331226,"reputation":3311,"user_id":19991670,"display_name":"Pravallika KV"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689766422,"creation_date":1689766422,"answer_id":76720859,"question_id":76471287,"body_markdown":"You can use the below code to set Authorization Bearer token in Request Header for rest call using Spring boot code.\r\n\r\n**My Controller:**\r\n```java\r\n@GetMapping(value = &quot;/getmanagementgroup&quot;)\r\n\tpublic static String getManagementGroup() throws Exception {\r\n\t\tString access_token = getToken();\r\n\t\tSystem.out.println(&quot;My Tokenis &quot; + access_token);\r\n\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\theaders.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\r\n\t\theaders.add(&quot;Authorization&quot;, &quot;Bearer &quot; + access_token);\r\n\t\tRestTemplate restTemplate = new RestTemplate();\r\n\t\tResponseEntity&lt;String&gt; response = restTemplate.exchange(\r\n\t\t\t\t&quot;https://management.azure.com/providers/Microsoft.Management/managementGroups?api-version=2020-05-01&quot;,\r\n\t\t\t\tHttpMethod.GET, new HttpEntity&lt;&gt;(&quot;parameters&quot;, headers), String.class);\r\n\t\treturn response.getBody();\r\n\t}\r\n```\r\n**Output:**\r\n\r\nIn my case, I&#39;m retrieving management groups using spring boot with the above given code.\r\n\r\n![enter image description here](https://i.imgur.com/CBnzq9w.png)\r\n\r\n**References:**\r\n\r\n*Refer my github [repository](https://github.com/PravallikaKothaveerannagari/Retrieve_Management_groups) for complete code.*\r\n","title":"Unable set Authorization Bearer token in Request Header for all rest call using Spring boot code after user login from Azure AD SSO login","body":"<p>You can use the below code to set Authorization Bearer token in Request Header for rest call using Spring boot code.</p>\n<p><strong>My Controller:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(value = &quot;/getmanagementgroup&quot;)\n    public static String getManagementGroup() throws Exception {\n        String access_token = getToken();\n        System.out.println(&quot;My Tokenis &quot; + access_token);\n        HttpHeaders headers = new HttpHeaders();\n        headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n        headers.add(&quot;Authorization&quot;, &quot;Bearer &quot; + access_token);\n        RestTemplate restTemplate = new RestTemplate();\n        ResponseEntity&lt;String&gt; response = restTemplate.exchange(\n                &quot;https://management.azure.com/providers/Microsoft.Management/managementGroups?api-version=2020-05-01&quot;,\n                HttpMethod.GET, new HttpEntity&lt;&gt;(&quot;parameters&quot;, headers), String.class);\n        return response.getBody();\n    }\n</code></pre>\n<p><strong>Output:</strong></p>\n<p>In my case, I'm retrieving management groups using spring boot with the above given code.</p>\n<p><img src=\"https://i.imgur.com/CBnzq9w.png\" alt=\"enter image description here\" /></p>\n<p><strong>References:</strong></p>\n<p><em>Refer my github <a href=\"https://github.com/PravallikaKothaveerannagari/Retrieve_Management_groups\" rel=\"nofollow noreferrer\">repository</a> for complete code.</em></p>\n"}],"owner":{"account_id":28785383,"reputation":1,"user_id":22045964,"display_name":"Mayur Thole"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689766422,"creation_date":1686729232,"question_id":76471287,"body_markdown":"After user SSO login into app Id_token (Authorization bearer) value required in all request header for all rest call, but currently its not coming in header.If there any way to get authorization bearer token and set in all request header.With below login request with response_type as id_token, getting id_token in payload, but required id_token in all request header,\r\n    \r\n        https://login.microsoftonline.com/&lt;TenantId&gt;/oauth2/v2.0/authorize?\r\n        client_id=&lt;ClientId&gt;\r\n        &amp;response_type=id_token\r\n        &amp;redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fdashboard%2F\r\n        &amp;response_mode=form_post\r\n        &amp;scope=openid\r\n        &amp;state=12345\r\n        &amp;nonce=678910","title":"Unable set Authorization Bearer token in Request Header for all rest call using Spring boot code after user login from Azure AD SSO login","body":"<p>After user SSO login into app Id_token (Authorization bearer) value required in all request header for all rest call, but currently its not coming in header.If there any way to get authorization bearer token and set in all request header.With below login request with response_type as id_token, getting id_token in payload, but required id_token in all request header,</p>\n<pre><code>    https://login.microsoftonline.com/&lt;TenantId&gt;/oauth2/v2.0/authorize?\n    client_id=&lt;ClientId&gt;\n    &amp;response_type=id_token\n    &amp;redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fdashboard%2F\n    &amp;response_mode=form_post\n    &amp;scope=openid\n    &amp;state=12345\n    &amp;nonce=678910\n</code></pre>\n"},{"tags":["java","json","spring","jolt"],"answers":[{"comments":[{"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"score":0,"creation_date":1689825150,"post_id":76720802,"comment_id":135268938,"body_markdown":"could you explain detail about difference between &quot;0&quot; and &quot;[0]&quot;? Thank you","body":"could you explain detail about difference between &quot;0&quot; and &quot;[0]&quot;? Thank you"},{"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"score":1,"creation_date":1689832778,"post_id":76720802,"comment_id":135269679,"body_markdown":"Hi @SoT . the `[0]` might be used as a path element within a `@` preceded expression, while `0` in this case,  which could be a single integer or an asterisk to stand for whole indexes(eg. 0,1,2,... ) , represents the index of the nesting  array(`a0`), eg. first element of the array. Thank you too.","body":"Hi @SoT . the <code>[0]</code> might be used as a path element within a <code>@</code> preceded expression, while <code>0</code> in this case,  which could be a single integer or an asterisk to stand for whole indexes(eg. 0,1,2,... ) , represents the index of the nesting  array(<code>a0</code>), eg. first element of the array. Thank you too."}],"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689766411,"creation_date":1689766012,"answer_id":76720802,"question_id":76720308,"body_markdown":"You just can replace **`[0]`** with **`0`**. eg. convert to\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;d&quot;: {\r\n        &quot;a0&quot;: {\r\n          &quot;0&quot;: { // only the first index of the array &quot;a0&quot;\r\n                 // btw, &quot;*&quot; might have been used if needed to represent all indexes\r\n            &quot;a3&quot;: &quot;dg.gi&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nThe level, *where* **`&quot;[0]&quot;: {`** *resides currently* , represents the indexes of the array a0 and we picked only the first ( the one with index **0** ) of them.\r\n\r\n**demo 1** (  on the site http://jolt-demo.appspot.com/ ) :\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut, yet the **`&quot;[0]&quot;`** representation might be used by prefixing the whole path with a **`@`** such as\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;@d.a0.[0].a3&quot;: &quot;dg.gi&quot;\r\n    }\r\n  }\r\n]\r\n```\r\nin order to get exactly the same result. \r\n\r\n\r\n**demo 2** :\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b4d2S.jpg\r\n  [2]: https://i.stack.imgur.com/j2TTq.jpg","title":"How to &quot;shift&quot; only one element on array using index","body":"<p>You just can replace <strong><code>[0]</code></strong> with <strong><code>0</code></strong>. eg. convert to</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;d&quot;: {\n        &quot;a0&quot;: {\n          &quot;0&quot;: { // only the first index of the array &quot;a0&quot;\n                 // btw, &quot;*&quot; might have been used if needed to represent all indexes\n            &quot;a3&quot;: &quot;dg.gi&quot;\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>The level, <em>where</em> <strong><code>&quot;[0]&quot;: {</code></strong> <em>resides currently</em> , represents the indexes of the array a0 and we picked only the first ( the one with index <strong>0</strong> ) of them.</p>\n<p><strong>demo 1</strong> (  on the site <a href=\"http://jolt-demo.appspot.com/\" rel=\"nofollow noreferrer\">http://jolt-demo.appspot.com/</a> ) :</p>\n<p><a href=\"https://i.stack.imgur.com/b4d2S.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b4d2S.jpg\" alt=\"enter image description here\" /></a></p>\n<p>But, yet the <strong><code>&quot;[0]&quot;</code></strong> representation might be used by prefixing the whole path with a <strong><code>@</code></strong> such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;@d.a0.[0].a3&quot;: &quot;dg.gi&quot;\n    }\n  }\n]\n</code></pre>\n<p>in order to get exactly the same result.</p>\n<p><strong>demo 2</strong> :</p>\n<p><a href=\"https://i.stack.imgur.com/j2TTq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j2TTq.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76720802,"answer_count":1,"score":0,"last_activity_date":1689766411,"creation_date":1689762485,"question_id":76720308,"body_markdown":"My input JSON looks like:\r\n```json\r\n{\r\n  &quot;id&quot;: &quot;eea1c86e-e4e2-36df-a775-ad44a6d2d94e&quot;,\r\n  &quot;d&quot;: {\r\n    &quot;flag&quot;: 0,\r\n    &quot;a0&quot;: [\r\n      {\r\n        &quot;a1&quot;: 0,\r\n        &quot;a2&quot;: -1,\r\n        &quot;a3&quot;: 7\r\n      },\r\n      {\r\n        &quot;a1&quot;: 2,\r\n        &quot;a2&quot;: -3,\r\n        &quot;a3&quot;: 4\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nI want to transform it to:\r\n```json\r\n{\r\n  &quot;dg&quot; : {\r\n    &quot;gi&quot; : 7          //7 is from d.a0.[first element from array].a3\r\n  }\r\n}\r\n```\r\nSo i write spec like this\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;d&quot;: {\r\n        &quot;a0&quot;: {\r\n          &quot;[0]&quot;: {\r\n            &quot;a3&quot;: &quot;dg.gi&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nJava code:\r\n\r\n    List&lt;Object&gt; specs = JsonUtils.classpathToList(spec);\r\n    Chainr chainr = Chainr.fromSpec(specs);\r\n    // transform the message\r\n    return (Map&lt;String, Object&gt;) chainr.transform(inputJSON);\r\n\r\nBut it returns null and I don&#39;t know why\r\n\r\nI&#39;m new to Jolt so I don&#39;t have much knowledge about it\r\n\r\nPlease help, thank you\r\n","title":"How to &quot;shift&quot; only one element on array using index","body":"<p>My input JSON looks like:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot;: &quot;eea1c86e-e4e2-36df-a775-ad44a6d2d94e&quot;,\n  &quot;d&quot;: {\n    &quot;flag&quot;: 0,\n    &quot;a0&quot;: [\n      {\n        &quot;a1&quot;: 0,\n        &quot;a2&quot;: -1,\n        &quot;a3&quot;: 7\n      },\n      {\n        &quot;a1&quot;: 2,\n        &quot;a2&quot;: -3,\n        &quot;a3&quot;: 4\n      }\n    ]\n  }\n}\n</code></pre>\n<p>I want to transform it to:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;dg&quot; : {\n    &quot;gi&quot; : 7          //7 is from d.a0.[first element from array].a3\n  }\n}\n</code></pre>\n<p>So i write spec like this</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;d&quot;: {\n        &quot;a0&quot;: {\n          &quot;[0]&quot;: {\n            &quot;a3&quot;: &quot;dg.gi&quot;\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>Java code:</p>\n<pre><code>List&lt;Object&gt; specs = JsonUtils.classpathToList(spec);\nChainr chainr = Chainr.fromSpec(specs);\n// transform the message\nreturn (Map&lt;String, Object&gt;) chainr.transform(inputJSON);\n</code></pre>\n<p>But it returns null and I don't know why</p>\n<p>I'm new to Jolt so I don't have much knowledge about it</p>\n<p>Please help, thank you</p>\n"},{"tags":["java","json","serialization","avro"],"comments":[{"owner":{"account_id":3732585,"reputation":129,"user_id":3104459,"display_name":"Deepak"},"score":1,"creation_date":1476260848,"post_id":39349733,"comment_id":67265695,"body_markdown":"Did you find any solution to this problem? I am also facing same issue.","body":"Did you find any solution to this problem? I am also facing same issue."},{"owner":{"account_id":5199937,"reputation":180,"user_id":4159715,"accept_rate":67,"display_name":"Dmitry Sergeev"},"score":0,"creation_date":1476374648,"post_id":39349733,"comment_id":67328992,"body_markdown":"I also experiencing this problem.","body":"I also experiencing this problem."},{"owner":{"account_id":9143018,"reputation":391,"user_id":6800274,"display_name":"Amir"},"score":1,"creation_date":1476512554,"post_id":39349733,"comment_id":67386692,"body_markdown":"Yes, I solved it. The point is to use one library end-to-end.\nI found a way to use the avro-tools also for json serialization.\nSorry I can&#39;t give you a sample code because I&#39;m at a vacation these days and I&#39;ve got no access to my work sources...\nHTH","body":"Yes, I solved it. The point is to use one library end-to-end. I found a way to use the avro-tools also for json serialization. Sorry I can&#39;t give you a sample code because I&#39;m at a vacation these days and I&#39;ve got no access to my work sources... HTH"},{"owner":{"account_id":2067518,"reputation":326,"user_id":1842757,"display_name":"gary schulte"},"score":2,"creation_date":1504214576,"post_id":39349733,"comment_id":78940745,"body_markdown":"I solved this in a different way.  I copied the velocity templates from the avro distribution into my project and added   @com.fasterxml.jackson.annotation.JsonIgnore on all SHEMA$ properties and getter methods.","body":"I solved this in a different way.  I copied the velocity templates from the avro distribution into my project and added   @com.fasterxml.jackson.annotation.JsonIgnore on all SHEMA$ properties and getter methods."},{"owner":{"account_id":14561053,"reputation":635,"user_id":10538678,"display_name":"Matej J"},"score":0,"creation_date":1584111111,"post_id":39349733,"comment_id":107344531,"body_markdown":"@Amir is your sample code from controller?","body":"@Amir is your sample code from controller?"}],"answers":[{"comments":[{"owner":{"account_id":7693030,"reputation":186,"user_id":5828613,"display_name":"Kartheek Mannepalli"},"score":0,"creation_date":1546633845,"post_id":47660919,"comment_id":94926790,"body_markdown":"This worked for me. Thanks for the solution. For anyone looking to ignore same method in a hierarchy of classes the following worked for me.   \n**om.addMixIn(Object.class, IgnoreSchemaProperty.class)**","body":"This worked for me. Thanks for the solution. For anyone looking to ignore same method in a hierarchy of classes the following worked for me.    <b>om.addMixIn(Object.class, IgnoreSchemaProperty.class)</b>"},{"owner":{"account_id":1227709,"reputation":1322,"user_id":1192961,"accept_rate":78,"display_name":"Nilesh Barai"},"score":3,"creation_date":1597218510,"post_id":47660919,"comment_id":112058143,"body_markdown":"i tried similar however, I am getting com.fasterxml.jackson.databind.JsonMappingException: Infinite recursion (StackOverflowError)","body":"i tried similar however, I am getting com.fasterxml.jackson.databind.JsonMappingException: Infinite recursion (StackOverflowError)"},{"owner":{"account_id":5286197,"reputation":362,"user_id":4220132,"accept_rate":80,"display_name":"abb"},"score":0,"creation_date":1619481402,"post_id":47660919,"comment_id":118914118,"body_markdown":"My avro schema has many Logical Types, I am getting this error even after following this solution - Caused by: org.apache.avro.AvroRuntimeException: Not an enum: {&quot;type&quot;:&quot;int&quot;,&quot;logicalType&quot;:&quot;date&quot;}","body":"My avro schema has many Logical Types, I am getting this error even after following this solution - Caused by: org.apache.avro.AvroRuntimeException: Not an enum: {&quot;type&quot;:&quot;int&quot;,&quot;logicalType&quot;:&quot;date&quot;}"},{"owner":{"account_id":13700855,"reputation":146,"user_id":9886050,"display_name":"Hemant H Kumar"},"score":1,"creation_date":1633951230,"post_id":47660919,"comment_id":122888433,"body_markdown":"Hi, I know I might be a bit late to this, but I ran into the &quot;Infinite Recursion&quot; issue after following the exact instructions as the answer.\nOnly change I had to make was add another @JsonIgnore for SpecificData in the MixIn. Add the following line into the IgnoreSchemaProperty MixIn\n`@JsonIgnore SpecificData getSpecificData()`","body":"Hi, I know I might be a bit late to this, but I ran into the &quot;Infinite Recursion&quot; issue after following the exact instructions as the answer. Only change I had to make was add another @JsonIgnore for SpecificData in the MixIn. Add the following line into the IgnoreSchemaProperty MixIn <code>@JsonIgnore SpecificData getSpecificData()</code>"}],"tags":[],"owner":{"account_id":404573,"reputation":7556,"user_id":772981,"accept_rate":46,"display_name":"Jarekczek"},"comment_count":4,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1512500800,"creation_date":1512500800,"answer_id":47660919,"question_id":39349733,"body_markdown":"If the `SCHEMA` member is really the case (we don&#39;t see the full error message), then you can switch it off. I use a mixin to do it, like this:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonIgnore;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.SerializationFeature;\r\n    import org.apache.avro.Schema;\r\n    import org.junit.Test;\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n\r\n    public class AvroGenerTests\r\n    {\r\n      abstract class IgnoreSchemaProperty\r\n      {\r\n        // You have to use the correct package for JsonIgnore,\r\n        // fasterxml or codehaus\r\n        @JsonIgnore abstract void getSchema();\r\n      }\r\n\r\n      @Test\r\n      public void writeJson() throws IOException {\r\n        BookAvro b = BookAvro.newBuilder()\r\n          .setTitle(&quot;Wilk stepowy&quot;)\r\n          .setAuthor(&quot;Herman Hesse&quot;)\r\n          .build();\r\n        ObjectMapper om = new ObjectMapper();\r\n        om.enable(SerializationFeature.INDENT_OUTPUT);\r\n        om.addMixIn(BookAvro.class, IgnoreSchemaProperty.class);\r\n        om.writeValue(new File(&quot;plik_z_gen.json&quot;), b);\r\n      }\r\n    }","title":"JsonMappingException when serializing avro generated object to json","body":"<p>If the <code>SCHEMA</code> member is really the case (we don't see the full error message), then you can switch it off. I use a mixin to do it, like this:</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport org.apache.avro.Schema;\nimport org.junit.Test;\n\nimport java.io.File;\nimport java.io.IOException;\n\npublic class AvroGenerTests\n{\n  abstract class IgnoreSchemaProperty\n  {\n    // You have to use the correct package for JsonIgnore,\n    // fasterxml or codehaus\n    @JsonIgnore abstract void getSchema();\n  }\n\n  @Test\n  public void writeJson() throws IOException {\n    BookAvro b = BookAvro.newBuilder()\n      .setTitle(\"Wilk stepowy\")\n      .setAuthor(\"Herman Hesse\")\n      .build();\n    ObjectMapper om = new ObjectMapper();\n    om.enable(SerializationFeature.INDENT_OUTPUT);\n    om.addMixIn(BookAvro.class, IgnoreSchemaProperty.class);\n    om.writeValue(new File(\"plik_z_gen.json\"), b);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10692633,"reputation":1609,"user_id":7870957,"accept_rate":29,"display_name":"Shivansh Jagga"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599652312,"creation_date":1599652312,"answer_id":63811095,"question_id":39349733,"body_markdown":"The previous post answers the question correctly. I am just adding on to the previous answer. Instead of writing it to a file I converted it to a string before sending it as body in a POST request. \r\n\r\n    public class AvroGenerateJSON\r\n    {\r\n      abstract class IgnoreSchemaProperty\r\n      {\r\n        // You have to use the correct package for JsonIgnore,\r\n        // fasterxml or codehaus\r\n        @JsonIgnore abstract void getSchema();\r\n      }\r\n    \r\n      public String convertToJson() throws IOException {\r\n        BookAvro b = BookAvro.newBuilder()\r\n          .setTitle(&quot;Wilk stepowy&quot;)\r\n          .setAuthor(&quot;Herman Hesse&quot;)\r\n          .build();\r\n        ObjectMapper om = new ObjectMapper();\r\n        om.enable(SerializationFeature.INDENT_OUTPUT);\r\n        om.addMixIn(BookAvro.class, IgnoreSchemaProperty.class);\r\n        String jsonString = om.writeValueAsString(b);\r\n        return jsonString;\r\n      }\r\n    }","title":"JsonMappingException when serializing avro generated object to json","body":"<p>The previous post answers the question correctly. I am just adding on to the previous answer. Instead of writing it to a file I converted it to a string before sending it as body in a POST request.</p>\n<pre><code>public class AvroGenerateJSON\n{\n  abstract class IgnoreSchemaProperty\n  {\n    // You have to use the correct package for JsonIgnore,\n    // fasterxml or codehaus\n    @JsonIgnore abstract void getSchema();\n  }\n\n  public String convertToJson() throws IOException {\n    BookAvro b = BookAvro.newBuilder()\n      .setTitle(&quot;Wilk stepowy&quot;)\n      .setAuthor(&quot;Herman Hesse&quot;)\n      .build();\n    ObjectMapper om = new ObjectMapper();\n    om.enable(SerializationFeature.INDENT_OUTPUT);\n    om.addMixIn(BookAvro.class, IgnoreSchemaProperty.class);\n    String jsonString = om.writeValueAsString(b);\n    return jsonString;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":874523,"reputation":2017,"user_id":1216686,"accept_rate":11,"display_name":"Matt Campbell"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612892864,"creation_date":1612892864,"answer_id":66124282,"question_id":39349733,"body_markdown":"After finding the code example at https://www.programcreek.com/java-api-examples/?api=org.apache.avro.io.JsonEncoder I wrote a method that should convert any given Avro object (they extend GenericRecord) to a Json String.  Code:\r\n\r\n    import org.apache.avro.generic.GenericDatumWriter;\r\n    import org.apache.avro.generic.GenericRecord;\r\n    import org.apache.avro.io.DatumWriter;\r\n    import org.apache.avro.io.EncoderFactory;\r\n    import org.apache.avro.io.JsonEncoder;\r\n\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.OutputStream;\r\n\r\n    // ... Class header etc. ...\r\n\r\n    public static &lt;T extends GenericRecord&gt; String convertToJsonString(T event) throws IOException {\r\n\r\n        String jsonstring = &quot;&quot;;\r\n\r\n        try {\r\n            DatumWriter&lt;T&gt; writer = new GenericDatumWriter&lt;T&gt;(event.getSchema());\r\n            OutputStream out = new ByteArrayOutputStream();\r\n            JsonEncoder encoder = EncoderFactory.get().jsonEncoder(event.getSchema(), out);\r\n            writer.write(event, encoder);\r\n            encoder.flush();\r\n            jsonstring = out.toString();\r\n        } catch (IOException e) {\r\n            log.error(&quot;IOException occurred.&quot;, e);\r\n            throw e;\r\n        }\r\n\r\n        return jsonstring;\r\n    }","title":"JsonMappingException when serializing avro generated object to json","body":"<p>After finding the code example at <a href=\"https://www.programcreek.com/java-api-examples/?api=org.apache.avro.io.JsonEncoder\" rel=\"nofollow noreferrer\">https://www.programcreek.com/java-api-examples/?api=org.apache.avro.io.JsonEncoder</a> I wrote a method that should convert any given Avro object (they extend GenericRecord) to a Json String.  Code:</p>\n<pre><code>import org.apache.avro.generic.GenericDatumWriter;\nimport org.apache.avro.generic.GenericRecord;\nimport org.apache.avro.io.DatumWriter;\nimport org.apache.avro.io.EncoderFactory;\nimport org.apache.avro.io.JsonEncoder;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.OutputStream;\n\n// ... Class header etc. ...\n\npublic static &lt;T extends GenericRecord&gt; String convertToJsonString(T event) throws IOException {\n\n    String jsonstring = &quot;&quot;;\n\n    try {\n        DatumWriter&lt;T&gt; writer = new GenericDatumWriter&lt;T&gt;(event.getSchema());\n        OutputStream out = new ByteArrayOutputStream();\n        JsonEncoder encoder = EncoderFactory.get().jsonEncoder(event.getSchema(), out);\n        writer.write(event, encoder);\n        encoder.flush();\n        jsonstring = out.toString();\n    } catch (IOException e) {\n        log.error(&quot;IOException occurred.&quot;, e);\n        throw e;\n    }\n\n    return jsonstring;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5286197,"reputation":362,"user_id":4220132,"accept_rate":80,"display_name":"abb"},"score":0,"creation_date":1619482046,"post_id":66200403,"comment_id":118914257,"body_markdown":"Top rated solution was not working for me, I suppose because I had logical types in avro schema and I was getting exception as mentioned at the end. This Solution works perfectly.. Caused by: org.apache.avro.AvroRuntimeException: Not an enum: {&quot;type&quot;:&quot;int&quot;,&quot;logicalType&quot;:&quot;date&quot;}","body":"Top rated solution was not working for me, I suppose because I had logical types in avro schema and I was getting exception as mentioned at the end. This Solution works perfectly.. Caused by: org.apache.avro.AvroRuntimeException: Not an enum: {&quot;type&quot;:&quot;int&quot;,&quot;logicalType&quot;:&quot;date&quot;}"}],"tags":[],"owner":{"account_id":874523,"reputation":2017,"user_id":1216686,"accept_rate":11,"display_name":"Matt Campbell"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1613338829,"creation_date":1613338829,"answer_id":66200403,"question_id":39349733,"body_markdown":"My req&#39;ts got changed on me and I was told I needed to convert Avro objects straight to JSON without preserving any of the meta-data.  My other answer herein that specified a method convertToJsonString converts the entire Avro object to JSON so that using a de-encoder you can re-create the original Avro object as an Avro object.  That isn&#39;t what my mgt. wanted anymore so I was back to the old drawing board.\r\n\r\nAs a Hail Mary pass I tried using Gson and it works to do what I now had to do.  It&#39;s very simple:\r\n\r\n     Gson gson = new Gson();\r\n     String theJsonString = gson.toJson(object_ur_converting);\r\n\r\nAnd you&#39;re done.","title":"JsonMappingException when serializing avro generated object to json","body":"<p>My req'ts got changed on me and I was told I needed to convert Avro objects straight to JSON without preserving any of the meta-data.  My other answer herein that specified a method convertToJsonString converts the entire Avro object to JSON so that using a de-encoder you can re-create the original Avro object as an Avro object.  That isn't what my mgt. wanted anymore so I was back to the old drawing board.</p>\n<p>As a Hail Mary pass I tried using Gson and it works to do what I now had to do.  It's very simple:</p>\n<pre><code> Gson gson = new Gson();\n String theJsonString = gson.toJson(object_ur_converting);\n</code></pre>\n<p>And you're done.</p>\n"},{"comments":[{"owner":{"account_id":4802848,"reputation":2464,"user_id":3878948,"accept_rate":86,"display_name":"Rishabh Agarwal"},"score":0,"creation_date":1674578153,"post_id":70222480,"comment_id":132741793,"body_markdown":"Didn&#39;t work + too many basic syntax error","body":"Didn&#39;t work + too many basic syntax error"}],"tags":[],"owner":{"account_id":14049119,"reputation":29,"user_id":10148454,"display_name":"Hazel Cosina"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1638583329,"creation_date":1638583329,"answer_id":70222480,"question_id":39349733,"body_markdown":"Agree with Shivansh&#39;s answer. To add, there might be instances where we need to use the avro-generated pojo in other classes. Under the hood, spring uses jackson library in handling this so we need to override global jackson config by adding a class\r\n\r\n    @Configuration\r\n    public class JacksonConfiguration {\r\n        public abstract IgnoreSchemaProperty {\r\n              @JsonIgnore abstract void getSchema();\r\n        }\r\n        @Bean\r\n        public ObjectMapper objectMapper() {\r\n              ObjectMapper om = new ObjectMapper();\r\n              om.addMixIn(SpecificRecordBase.class, IgnoreSchemaProperty.class);\r\n              return om;\r\n        }\r\n    }\r\n    \r\nSpecificRecordBase -if we want to ignore the schema field from all avro generated classes. In this way, we can serialize/deserialize our avro classes and use it anywhere in our application without getting the issue.","title":"JsonMappingException when serializing avro generated object to json","body":"<p>Agree with Shivansh's answer. To add, there might be instances where we need to use the avro-generated pojo in other classes. Under the hood, spring uses jackson library in handling this so we need to override global jackson config by adding a class</p>\n<pre><code>@Configuration\npublic class JacksonConfiguration {\n    public abstract IgnoreSchemaProperty {\n          @JsonIgnore abstract void getSchema();\n    }\n    @Bean\n    public ObjectMapper objectMapper() {\n          ObjectMapper om = new ObjectMapper();\n          om.addMixIn(SpecificRecordBase.class, IgnoreSchemaProperty.class);\n          return om;\n    }\n}\n</code></pre>\n<p>SpecificRecordBase -if we want to ignore the schema field from all avro generated classes. In this way, we can serialize/deserialize our avro classes and use it anywhere in our application without getting the issue.</p>\n"},{"comments":[{"owner":{"account_id":6210841,"reputation":63,"user_id":14101715,"display_name":"Pascoal Eddy Bayonne"},"score":1,"creation_date":1666558634,"post_id":73789976,"comment_id":130960456,"body_markdown":"Thanks Jose, i had some exceptions related to {&quot;type&quot;:&quot;int&quot;,&quot;logicalType&quot;:&quot;date&quot;}, after adding all of these @JsonIgnore annotations I am now able to proceede","body":"Thanks Jose, i had some exceptions related to {&quot;type&quot;:&quot;int&quot;,&quot;logicalType&quot;:&quot;date&quot;}, after adding all of these @JsonIgnore annotations I am now able to proceede"},{"owner":{"account_id":15676985,"reputation":73,"user_id":11312013,"display_name":"Konstantin Rezchikov"},"score":0,"creation_date":1689120314,"post_id":73789976,"comment_id":135167417,"body_markdown":"I&#39;m confused what are you supposed to do with this abstract class?","body":"I&#39;m confused what are you supposed to do with this abstract class?"},{"owner":{"account_id":9620040,"reputation":853,"user_id":7141579,"display_name":"Jose Boretto Blengino"},"score":0,"creation_date":1689766270,"post_id":73789976,"comment_id":135258962,"body_markdown":"Hi, I added the code extracted from https://stackoverflow.com/a/70222480/7141579","body":"Hi, I added the code extracted from <a href=\"https://stackoverflow.com/a/70222480/7141579\">stackoverflow.com/a/70222480/7141579</a>"}],"tags":[],"owner":{"account_id":9620040,"reputation":853,"user_id":7141579,"display_name":"Jose Boretto Blengino"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1689766171,"creation_date":1663691886,"answer_id":73789976,"question_id":39349733,"body_markdown":"2022 Avro field names\r\n\r\n    abstract class IgnoreSchemaPropertyConfig {\r\n       // You have to use the correct package for JsonIgnore,\r\n       // fasterxml or codehaus\r\n       @JsonIgnore\r\n       abstract void getClassSchema();\r\n\r\n       @JsonIgnore\r\n       abstract void getSpecificData();\r\n\r\n       @JsonIgnore\r\n       abstract void get();\r\n\r\n       @JsonIgnore\r\n       abstract void getSchema();\r\n    }\r\n\r\n\r\n    public class AvroGenerateJSON\r\n    {\r\n     \r\n      public String convertToJson() throws IOException {\r\n        ObjectMapper om = new ObjectMapper();\r\n        om.addMixIn(BookAvro.class,IgnoreSchemaPropertyConfig.class);\r\n      }\r\n    }","title":"JsonMappingException when serializing avro generated object to json","body":"<p>2022 Avro field names</p>\n<pre><code>abstract class IgnoreSchemaPropertyConfig {\n   // You have to use the correct package for JsonIgnore,\n   // fasterxml or codehaus\n   @JsonIgnore\n   abstract void getClassSchema();\n\n   @JsonIgnore\n   abstract void getSpecificData();\n\n   @JsonIgnore\n   abstract void get();\n\n   @JsonIgnore\n   abstract void getSchema();\n}\n\n\npublic class AvroGenerateJSON\n{\n \n  public String convertToJson() throws IOException {\n    ObjectMapper om = new ObjectMapper();\n    om.addMixIn(BookAvro.class,IgnoreSchemaPropertyConfig.class);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":435092,"reputation":1637,"user_id":821478,"accept_rate":100,"display_name":"cjackson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684257931,"creation_date":1684257931,"answer_id":76265692,"question_id":39349733,"body_markdown":"If you are experiencing this issue when trying to use structured logging via [logstash-logback-encoder](https://github.com/logfellow/logstash-logback-encoder). Then you need to use a `JsonFactoryDecorator` implementation to add the mixin to ignore the problematic avro generated getters.\r\n\r\n```\r\npackage the.package.path;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.core.JsonFactory;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport net.logstash.logback.decorate.JsonFactoryDecorator;\r\nimport org.apache.avro.specific.SpecificRecordBase;\r\n\r\n\r\npublic class AvroJsonFactoryDecorator implements JsonFactoryDecorator {\r\n    abstract class JacksonIgnoreAvroProperties {\r\n\r\n        @JsonIgnore\r\n        public abstract org.apache.avro.Schema getClassSchema();\r\n\r\n        @JsonIgnore\r\n        public abstract org.apache.avro.specific.SpecificData getSpecificData();\r\n\r\n        @JsonIgnore\r\n        public abstract java.lang.Object get(int field$);\r\n\r\n        @JsonIgnore\r\n        public abstract org.apache.avro.Schema getSchema();\r\n    }\r\n\r\n    @Override\r\n    public JsonFactory decorate(JsonFactory factory) {\r\n        ObjectMapper objectMapper = (ObjectMapper) factory.getCodec();\r\n        objectMapper.addMixIn(SpecificRecordBase.class, JacksonIgnoreAvroProperties.class);\r\n        return factory;\r\n    }\r\n}\r\n```\r\nAnd then include the following in your logback config:\r\n```\r\n&lt;appender name=&quot;console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n\t\t\t&lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\r\n\t\t\t\t&lt;jsonFactoryDecorator class=&quot;the.package.path.AvroJsonFactoryDecorator&quot;/&gt;\r\n\t\t\t&lt;/encoder&gt;\r\n\t\t&lt;/appender&gt;\r\n```","title":"JsonMappingException when serializing avro generated object to json","body":"<p>If you are experiencing this issue when trying to use structured logging via <a href=\"https://github.com/logfellow/logstash-logback-encoder\" rel=\"nofollow noreferrer\">logstash-logback-encoder</a>. Then you need to use a <code>JsonFactoryDecorator</code> implementation to add the mixin to ignore the problematic avro generated getters.</p>\n<pre><code>package the.package.path;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.core.JsonFactory;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport net.logstash.logback.decorate.JsonFactoryDecorator;\nimport org.apache.avro.specific.SpecificRecordBase;\n\n\npublic class AvroJsonFactoryDecorator implements JsonFactoryDecorator {\n    abstract class JacksonIgnoreAvroProperties {\n\n        @JsonIgnore\n        public abstract org.apache.avro.Schema getClassSchema();\n\n        @JsonIgnore\n        public abstract org.apache.avro.specific.SpecificData getSpecificData();\n\n        @JsonIgnore\n        public abstract java.lang.Object get(int field$);\n\n        @JsonIgnore\n        public abstract org.apache.avro.Schema getSchema();\n    }\n\n    @Override\n    public JsonFactory decorate(JsonFactory factory) {\n        ObjectMapper objectMapper = (ObjectMapper) factory.getCodec();\n        objectMapper.addMixIn(SpecificRecordBase.class, JacksonIgnoreAvroProperties.class);\n        return factory;\n    }\n}\n</code></pre>\n<p>And then include the following in your logback config:</p>\n<pre><code>&lt;appender name=&quot;console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n            &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\n                &lt;jsonFactoryDecorator class=&quot;the.package.path.AvroJsonFactoryDecorator&quot;/&gt;\n            &lt;/encoder&gt;\n        &lt;/appender&gt;\n</code></pre>\n"}],"owner":{"account_id":9143018,"reputation":391,"user_id":6800274,"display_name":"Amir"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20115,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":7,"score":15,"last_activity_date":1689766171,"creation_date":1473167041,"question_id":39349733,"body_markdown":"I used avro-tools to generate java classes from avsc files, using:\r\n\r\n    java.exe -jar avro-tools-1.7.7.jar compile -string schema myfile.avsc \r\n\r\nThen I tried to serialize such objects to json by ObjectMapper,\r\nbut always got a JsonMappingException saying &quot;not an enum&quot; or &quot;not a union&quot;.\r\nIn my test I create the generated object using it&#39;s builder or constructor.\r\nI got such exceptions for objects of different classes...\r\n\r\nSample Code:\r\n\r\n    ObjectMapper serializer = new ObjectMapper(); // com.fasterxml.jackson.databind\r\n    serializer.register(new JtsModule()); // com.bedatadriven.jackson.datatype.jts\r\n    ...\r\n    return serializer.writeValueAsBytes(avroConvertedObject); // =&gt; JsonMappingException\r\n\r\nI also tried many configurations using: serializer.configure(...) but still failed.\r\n**Versions:** Java 1.8, jackson-datatype-jts 2.3, \r\njackson-core 2.6.5, jackson-databind 2.6.5, jackson-annotations 2.6.5\r\n\r\nAny suggestions?\r\nThanks!\r\n","title":"JsonMappingException when serializing avro generated object to json","body":"<p>I used avro-tools to generate java classes from avsc files, using:</p>\n\n<pre><code>java.exe -jar avro-tools-1.7.7.jar compile -string schema myfile.avsc \n</code></pre>\n\n<p>Then I tried to serialize such objects to json by ObjectMapper,\nbut always got a JsonMappingException saying \"not an enum\" or \"not a union\".\nIn my test I create the generated object using it's builder or constructor.\nI got such exceptions for objects of different classes...</p>\n\n<p>Sample Code:</p>\n\n<pre><code>ObjectMapper serializer = new ObjectMapper(); // com.fasterxml.jackson.databind\nserializer.register(new JtsModule()); // com.bedatadriven.jackson.datatype.jts\n...\nreturn serializer.writeValueAsBytes(avroConvertedObject); // =&gt; JsonMappingException\n</code></pre>\n\n<p>I also tried many configurations using: serializer.configure(...) but still failed.\n<strong>Versions:</strong> Java 1.8, jackson-datatype-jts 2.3, \njackson-core 2.6.5, jackson-databind 2.6.5, jackson-annotations 2.6.5</p>\n\n<p>Any suggestions?\nThanks!</p>\n"},{"tags":["java","selenium-webdriver","automated-tests","webdrivermanager-java"],"comments":[{"owner":{"account_id":26749667,"reputation":9,"user_id":20349245,"display_name":"Giri B"},"score":0,"creation_date":1689765624,"post_id":76720743,"comment_id":135258802,"body_markdown":"&lt;dependency&gt;\n          &lt;groupId&gt;commons-io&lt;/groupId&gt;\n          &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n          &lt;version&gt;2.11.0&lt;/version&gt;\n      &lt;/dependency&gt;\n\n&lt;dependency&gt;\n          &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n          &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n          &lt;version&gt;5.4.0&lt;/version&gt;\n      &lt;/dependency&gt;","body":"&lt;dependency&gt;           &lt;groupId&gt;commons-io&lt;/groupId&gt;           &lt;artifactId&gt;commons-io&lt;/artifactId&gt;           &lt;version&gt;2.11.0&lt;/version&gt;       &lt;/dependency&gt;  &lt;dependency&gt;           &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;           &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;           &lt;version&gt;5.4.0&lt;/version&gt;       &lt;/dependency&gt;"},{"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"score":0,"creation_date":1689765818,"post_id":76720743,"comment_id":135258841,"body_markdown":"have you tried to rebuild maven or try to use lower version, like\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;5.3.2&lt;/version&gt;\n        &lt;/dependency&gt;","body":"have you tried to rebuild maven or try to use lower version, like          &lt;dependency&gt;             &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;             &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;             &lt;version&gt;5.3.2&lt;/version&gt;         &lt;/dependency&gt;"},{"owner":{"account_id":295316,"reputation":736,"user_id":3324415,"accept_rate":74,"display_name":"BernardV"},"score":0,"creation_date":1689765854,"post_id":76720743,"comment_id":135258852,"body_markdown":"You need to provide more code to allow people to help you. Not just the error.","body":"You need to provide more code to allow people to help you. Not just the error."},{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1689765872,"post_id":76720743,"comment_id":135258856,"body_markdown":"Refer this if it helps - https://stackoverflow.com/a/76719443/7598774","body":"Refer this if it helps - <a href=\"https://stackoverflow.com/a/76719443/7598774\">stackoverflow.com/a/76719443/7598774</a>"},{"owner":{"account_id":26749667,"reputation":9,"user_id":20349245,"display_name":"Giri B"},"score":0,"creation_date":1689773288,"post_id":76720743,"comment_id":135260803,"body_markdown":"public void setup(String br)\n\t\t{\n\t\t\tlogger = Logger.getLogger(&quot;CCMTAutomation&quot;);\n\t\t\tPropertyConfigurator.configure(&quot;log4j.properties&quot;);\n\n\t\t\n\t\t\ttry {\n\t\t\t\tif (br.equalsIgnoreCase(&quot;chrome&quot;)) {\n\t\t\t\t\tsetupChrome();\n\t\t\t\t} else {\n\t\t\t\t\tthrow new IllegalArgumentException(&quot;Invalid browser parameter: &quot; + br);\n\t\t\t\t}\n\t\t\t} catch (Exception e) {\n\t\t\t\t// Handle and report the exception\n\t\t\t\te.printStackTrace();\n\t\t\t\tAssert.fail(&quot;Error setting up WebDriver: &quot; + e.getMessage());\n\t\t\t}\n\t\t}","body":"public void setup(String br) \t\t{ \t\t\tlogger = Logger.getLogger(&quot;CCMTAutomation&quot;); \t\t\tPropertyConfigurator.configure(&quot;log4j.properties&quot;);  \t\t \t\t\ttry { \t\t\t\tif (br.equalsIgnoreCase(&quot;chrome&quot;)) { \t\t\t\t\tsetupChrome(); \t\t\t\t} else { \t\t\t\t\tthrow new IllegalArgumentException(&quot;Invalid browser parameter: &quot; + br); \t\t\t\t} \t\t\t} catch (Exception e) { \t\t\t\t// Handle and report the exception \t\t\t\te.printStackTrace(); \t\t\t\tAssert.fail(&quot;Error setting up WebDriver: &quot; + e.getMessage()); \t\t\t} \t\t}"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689809995,"post_id":76720743,"comment_id":135267785,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":26749667,"reputation":9,"user_id":20349245,"display_name":"Giri B"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689765587,"creation_date":1689765587,"question_id":76720743,"body_markdown":"I use Java+selenium+testng+maven. And I tried to use WebDriver Manager instead of standard usage. After declaration according to the instruction of API, I ran into a problem. When compiling the errors occur:\r\n\r\n```\r\njava.lang.NoSuchMethodError: org.apache.commons.io.FileUtils.copyInputStreamToFile(Ljava/io/InputStream;Ljava/io/File;)V\r\n\r\nat io.github.bonigarcia.wdm.Downloader.download(Downloader.java:128)\r\nat io.github.bonigarcia.wdm.BrowserManager.manage(BrowserManager.java:277)\r\n```","title":"WebDriver Manager java.lang.NoSuchMethodError1","body":"<p>I use Java+selenium+testng+maven. And I tried to use WebDriver Manager instead of standard usage. After declaration according to the instruction of API, I ran into a problem. When compiling the errors occur:</p>\n<pre><code>java.lang.NoSuchMethodError: org.apache.commons.io.FileUtils.copyInputStreamToFile(Ljava/io/InputStream;Ljava/io/File;)V\n\nat io.github.bonigarcia.wdm.Downloader.download(Downloader.java:128)\nat io.github.bonigarcia.wdm.BrowserManager.manage(BrowserManager.java:277)\n</code></pre>\n"},{"tags":["java","zpl"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1685632000,"post_id":76382732,"comment_id":134690417,"body_markdown":"Read the answers to [How do I get a list of installed printers?](https://stackoverflow.com/questions/410967/how-do-i-get-a-list-of-installed-printers) and see if you can modify the code to get Zebra printers.","body":"Read the answers to <a href=\"https://stackoverflow.com/questions/410967/how-do-i-get-a-list-of-installed-printers\">How do I get a list of installed printers?</a> and see if you can modify the code to get Zebra printers."},{"owner":{"account_id":2508904,"reputation":379,"user_id":2181835,"display_name":"Vali Maties"},"score":0,"creation_date":1685638373,"post_id":76382732,"comment_id":134691918,"body_markdown":"Gilbert, I know how to get the list of printers, but I don&#39;t know how to check if the printer accept ZPL code or not... I didn&#39;t found the Zebra SDK for Java to see if there is any class which can be used to list only the ZPL printers. That&#39;s I asked, maybe someone did it! This is what I asked, if can I check somehow if the printer in the list accept ZPL code or not.","body":"Gilbert, I know how to get the list of printers, but I don&#39;t know how to check if the printer accept ZPL code or not... I didn&#39;t found the Zebra SDK for Java to see if there is any class which can be used to list only the ZPL printers. That&#39;s I asked, maybe someone did it! This is what I asked, if can I check somehow if the printer in the list accept ZPL code or not."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1685645560,"post_id":76382732,"comment_id":134693357,"body_markdown":"Don&#39;t you know which printers are Zebra printers?  Create a `List` of all the Zebra printers in your network, then compare your list to the printer list.","body":"Don&#39;t you know which printers are Zebra printers?  Create a <code>List</code> of all the Zebra printers in your network, then compare your list to the printer list."},{"owner":{"account_id":2508904,"reputation":379,"user_id":2181835,"display_name":"Vali Maties"},"score":0,"creation_date":1685738532,"post_id":76382732,"comment_id":134708662,"body_markdown":"Gilbert, is not about me... it is about the user which uses the application. He see a combobox with some printers. If I don&#39;t filter the comobox with only the printer which can print the ZPL code for the label he/she can choose any printer which is displayed in the system. That&#39;s why I tought someone found a way of filtering the printers based on the language, or some attributes, but seems the 420t does not return this attribute.","body":"Gilbert, is not about me... it is about the user which uses the application. He see a combobox with some printers. If I don&#39;t filter the comobox with only the printer which can print the ZPL code for the label he/she can choose any printer which is displayed in the system. That&#39;s why I tought someone found a way of filtering the printers based on the language, or some attributes, but seems the 420t does not return this attribute."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1685743827,"post_id":76382732,"comment_id":134709312,"body_markdown":"Usually, network developers give special printers special printer identifiers.  Like, all Zebra printers have a network identifier that starts with the letter Z.  If only the user knows the network printer identifier for a Zebra printer, then he&#39;ll have to tell you his printer is a Zebra printer.","body":"Usually, network developers give special printers special printer identifiers.  Like, all Zebra printers have a network identifier that starts with the letter Z.  If only the user knows the network printer identifier for a Zebra printer, then he&#39;ll have to tell you his printer is a Zebra printer."}],"answers":[{"comments":[{"owner":{"account_id":2508904,"reputation":379,"user_id":2181835,"display_name":"Vali Maties"},"score":0,"creation_date":1689944784,"post_id":76720681,"comment_id":135288566,"body_markdown":"The SDK does not install I get an error:\nFlexeraayd$aaa: Windows DLL failed to load\n\tat Flexeraayd.af(Unknown Source)\n\tat Flexeraayd.aa(Unknown Source)\n\tat com.zerog.ia.installer.LifeCycleManager.init(Unknown Source).... and more","body":"The SDK does not install I get an error: Flexeraayd$aaa: Windows DLL failed to load \tat Flexeraayd.af(Unknown Source) \tat Flexeraayd.aa(Unknown Source) \tat com.zerog.ia.installer.LifeCycleManager.init(Unknown Source).... and more"},{"owner":{"account_id":2508904,"reputation":379,"user_id":2181835,"display_name":"Vali Maties"},"score":0,"creation_date":1689945633,"post_id":76720681,"comment_id":135288736,"body_markdown":"I have unzipped the SDK, and I found an archive in InstallerData\\Disk1\\InstData folder named Resource1.zip . In this archive there are some jar files, one for each platform they say it works this sdk. Seems &quot;PC_zg_ia_sf.jar&quot; is fo Java. I will make some tests with this jar file.","body":"I have unzipped the SDK, and I found an archive in InstallerData\\Disk1\\InstData folder named Resource1.zip . In this archive there are some jar files, one for each platform they say it works this sdk. Seems &quot;PC_zg_ia_sf.jar&quot; is fo Java. I will make some tests with this jar file."}],"tags":[],"owner":{"account_id":1198865,"reputation":216,"user_id":1169972,"display_name":"dominikkv"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689765100,"creation_date":1689765100,"answer_id":76720681,"question_id":76382732,"body_markdown":"Using the [Zebra SDK][1] you can make use of the different *Discoverer classes:\r\n\r\n- NetworkDiscoverer\r\n- RemoteDiscoverer\r\n- UsbDiscoverer\r\n\r\nFor example,\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    for (DiscoveredPrinterDriver discoveredPrinter : UsbDiscoverer.getZebraDriverPrinters()) {\r\n      log.info(&quot;Driver USB Printer &quot; + discoveredPrinter);\r\n    }\r\n\r\n  [1]: https://www.zebra.com/de/de/support-downloads/printer-software/link-os-multiplatform-sdk.html","title":"Java Get only ZPL printers from system in Windows","body":"<p>Using the <a href=\"https://www.zebra.com/de/de/support-downloads/printer-software/link-os-multiplatform-sdk.html\" rel=\"nofollow noreferrer\">Zebra SDK</a> you can make use of the different *Discoverer classes:</p>\n<ul>\n<li>NetworkDiscoverer</li>\n<li>RemoteDiscoverer</li>\n<li>UsbDiscoverer</li>\n</ul>\n<p>For example,</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (DiscoveredPrinterDriver discoveredPrinter : UsbDiscoverer.getZebraDriverPrinters()) {\n  log.info(&quot;Driver USB Printer &quot; + discoveredPrinter);\n}\n</code></pre>\n"}],"owner":{"account_id":2508904,"reputation":379,"user_id":2181835,"display_name":"Vali Maties"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689765100,"creation_date":1685628151,"question_id":76382732,"body_markdown":"Is there any way to get only the ZPL printers in the system in Java? I don&#39;t want to list printers which does not allow to print Zebra Commands.\r\nThanks.","title":"Java Get only ZPL printers from system in Windows","body":"<p>Is there any way to get only the ZPL printers in the system in Java? I don't want to list printers which does not allow to print Zebra Commands.\nThanks.</p>\n"},{"tags":["java","spring","spring-integration"],"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1689773114,"post_id":76720654,"comment_id":135260747,"body_markdown":"DEBUG logging should help you understand what is happening.","body":"DEBUG logging should help you understand what is happening."}],"owner":{"account_id":11967931,"reputation":1,"user_id":8757087,"display_name":"user8757087"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689764866,"creation_date":1689764866,"question_id":76720654,"body_markdown":"In my Spring integration project, I listen to incoming messages and send some requests from a server with TCP. I am using Spring integration version 5.2.21.\r\n\r\nAnd the code block I am using is as follows.\r\n\r\n```\r\n &lt;int-ip:tcp-connection-factory id=&quot;tcpClientFactory&quot;\r\n                                   type=&quot;client&quot;\r\n                                   host=&quot;${server.ip}&quot;\r\n                                   port=&quot;${server.port}&quot;\r\n                                   so-timeout=&quot;300000&quot;\r\n                                   so-keep-alive=&quot;true&quot;\r\n                                   single-use=&quot;false&quot;\r\n                                   using-nio=&quot;true&quot;\r\n                                   serializer=&quot;messageSerializer&quot;\r\n                                   deserializer=&quot;messageSerializer&quot;/&gt;\r\n\r\n    &lt;int-ip:tcp-outbound-channel-adapter id=&quot;outBoundChannelAdapter&quot;\r\n                                         connection-factory=&quot;tcpClientFactory&quot;\r\n                                         client-mode=&quot;true&quot;\r\n                                         auto-startup=&quot;true&quot;\r\n                                         retry-interval=&quot;30000&quot;\r\n                                         channel=&quot;toTcpAdapterChannel&quot;/&gt;\r\n\r\n    &lt;int-ip:tcp-inbound-channel-adapter id=&quot;inBoundChannelAdapter&quot;\r\n                                        connection-factory=&quot;tcpClientFactory&quot;\r\n                                        client-mode=&quot;false&quot;\r\n                                        auto-startup=&quot;true&quot;\r\n                                        channel=&quot;fromTcpGatewayChannel&quot;/&gt;\r\n```\r\n\r\nI have to manage all communication over a single connection upon request from the server. However, I see that my connection becomes unusable after a while and is taken again after the so-timeout period. Now I have a message coming in every minute.\r\nAnd as long as I don&#39;t send any messages, I see that there is no problem with incoming messages.\r\nHowever, when I send a message, I see that the incoming messages are no longer coming.\r\nAnd after the so-timeout period has expired, I see that a new connection is made and the incoming messages are received again.\r\n\r\n\r\n\r\nAs I explained in the title, I think there is a problem due to the use of inbound and outbound adapters together. However, despite my research and many attempts, I could not find a solution.\r\n\r\n\r\nThanks for your help in advance.","title":"Spring Integration Inbound/Output adapter confluence","body":"<p>In my Spring integration project, I listen to incoming messages and send some requests from a server with TCP. I am using Spring integration version 5.2.21.</p>\n<p>And the code block I am using is as follows.</p>\n<pre><code> &lt;int-ip:tcp-connection-factory id=&quot;tcpClientFactory&quot;\n                                   type=&quot;client&quot;\n                                   host=&quot;${server.ip}&quot;\n                                   port=&quot;${server.port}&quot;\n                                   so-timeout=&quot;300000&quot;\n                                   so-keep-alive=&quot;true&quot;\n                                   single-use=&quot;false&quot;\n                                   using-nio=&quot;true&quot;\n                                   serializer=&quot;messageSerializer&quot;\n                                   deserializer=&quot;messageSerializer&quot;/&gt;\n\n    &lt;int-ip:tcp-outbound-channel-adapter id=&quot;outBoundChannelAdapter&quot;\n                                         connection-factory=&quot;tcpClientFactory&quot;\n                                         client-mode=&quot;true&quot;\n                                         auto-startup=&quot;true&quot;\n                                         retry-interval=&quot;30000&quot;\n                                         channel=&quot;toTcpAdapterChannel&quot;/&gt;\n\n    &lt;int-ip:tcp-inbound-channel-adapter id=&quot;inBoundChannelAdapter&quot;\n                                        connection-factory=&quot;tcpClientFactory&quot;\n                                        client-mode=&quot;false&quot;\n                                        auto-startup=&quot;true&quot;\n                                        channel=&quot;fromTcpGatewayChannel&quot;/&gt;\n</code></pre>\n<p>I have to manage all communication over a single connection upon request from the server. However, I see that my connection becomes unusable after a while and is taken again after the so-timeout period. Now I have a message coming in every minute.\nAnd as long as I don't send any messages, I see that there is no problem with incoming messages.\nHowever, when I send a message, I see that the incoming messages are no longer coming.\nAnd after the so-timeout period has expired, I see that a new connection is made and the incoming messages are received again.</p>\n<p>As I explained in the title, I think there is a problem due to the use of inbound and outbound adapters together. However, despite my research and many attempts, I could not find a solution.</p>\n<p>Thanks for your help in advance.</p>\n"},{"tags":["java","sqlite"],"comments":[{"owner":{"account_id":12213088,"reputation":7885,"user_id":8914336,"display_name":"coroutineDispatcher"},"score":0,"creation_date":1559142646,"post_id":56363640,"comment_id":99330509,"body_markdown":"are you talking in Android or other Java framework?","body":"are you talking in Android or other Java framework?"},{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":0,"creation_date":1559146301,"post_id":56363640,"comment_id":99332541,"body_markdown":"A sqlite in-memory database is freed when the last connection to it is closed. You can&#39;t change that behavior.","body":"A sqlite in-memory database is freed when the last connection to it is closed. You can&#39;t change that behavior."},{"owner":{"account_id":2066640,"reputation":1328,"user_id":1842042,"accept_rate":75,"display_name":"besil"},"score":0,"creation_date":1559196226,"post_id":56363640,"comment_id":99346806,"body_markdown":"I&#39;m using jersey on grizzly server (no android)","body":"I&#39;m using jersey on grizzly server (no android)"}],"answers":[{"tags":[],"owner":{"account_id":4277107,"reputation":1320,"user_id":3497465,"display_name":"Filippo Possenti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559144357,"creation_date":1559144357,"answer_id":56364179,"question_id":56363640,"body_markdown":"As unit-tests are supposed to be independent one another, I would advise against proceeding this way. Depending on the underlying framework you&#39;re using you might want to use annotations to drive the execution of initialisation and teardown SQL. For Spring, for example, you can use the following:\r\n\r\nhttps://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#spring-testing-annotation-sql\r\n\r\n\r\nIf you can&#39;t use annotations or are really determined to proceed down this path (context is everything: you might totally have good reasons) one possibility would be to open an additional connection in your `@BeforeAll` method, which you would then manually close in an `@AfterAll` method. As this would be an additional connection separately managed by your code, sqlite would be tricked into NOT performing its cleanup up until the `@AfterAll` method executes.\r\n\r\nIf you want this to be at JVM level, you can use a class&#39; static initialiser...","title":"Keep in memory database open until JVM exit","body":"<p>As unit-tests are supposed to be independent one another, I would advise against proceeding this way. Depending on the underlying framework you're using you might want to use annotations to drive the execution of initialisation and teardown SQL. For Spring, for example, you can use the following:</p>\n\n<p><a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#spring-testing-annotation-sql\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#spring-testing-annotation-sql</a></p>\n\n<p>If you can't use annotations or are really determined to proceed down this path (context is everything: you might totally have good reasons) one possibility would be to open an additional connection in your <code>@BeforeAll</code> method, which you would then manually close in an <code>@AfterAll</code> method. As this would be an additional connection separately managed by your code, sqlite would be tricked into NOT performing its cleanup up until the <code>@AfterAll</code> method executes.</p>\n\n<p>If you want this to be at JVM level, you can use a class' static initialiser...</p>\n"}],"owner":{"account_id":2066640,"reputation":1328,"user_id":1842042,"accept_rate":75,"display_name":"besil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":539,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689764778,"creation_date":1559142495,"question_id":56363640,"body_markdown":"I&#39;d like to keep an in memory SQLite database, but without attached connections. I&#39;m unit testing a web app, so in `@BeforeAll` method I initialize then in various test methods DDL manipulation. When the last connection is closed, SQLite in memory database is discarded, breaking my tests.\r\n\r\nI achieved to keep a H2 in memory database open while the JVM lives:\r\n\r\n```\r\njdbc:h2:mem:test;DB_CLOSE_DELAY=-1\r\n```\r\n\r\nBut I can&#39;t find a way for SQLite. I tried:\r\n\r\n```\r\njdbc:sqlite::memory:&amp;cache=shared\r\n```\r\n\r\nBut doesn&#39;t work. Is it possible?","title":"Keep in memory database open until JVM exit","body":"<p>I'd like to keep an in memory SQLite database, but without attached connections. I'm unit testing a web app, so in <code>@BeforeAll</code> method I initialize then in various test methods DDL manipulation. When the last connection is closed, SQLite in memory database is discarded, breaking my tests.</p>\n<p>I achieved to keep a H2 in memory database open while the JVM lives:</p>\n<pre><code>jdbc:h2:mem:test;DB_CLOSE_DELAY=-1\n</code></pre>\n<p>But I can't find a way for SQLite. I tried:</p>\n<pre><code>jdbc:sqlite::memory:&amp;cache=shared\n</code></pre>\n<p>But doesn't work. Is it possible?</p>\n"},{"tags":["java","spring-boot","maven","swagger"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1689591922,"post_id":76703796,"comment_id":135230321,"body_markdown":"Please read: [Why should I not upload images of code/data/errors?](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question)","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">Why should I not upload images of code/data/errors?</a>"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1689593483,"post_id":76703796,"comment_id":135230636,"body_markdown":"Hello and welcome. Try this url: `localhost:8080/swagger-ui/index.html`","body":"Hello and welcome. Try this url: <code>localhost:8080&#47;swagger-ui&#47;index.html</code>"}],"answers":[{"tags":[],"owner":{"account_id":29023182,"reputation":1,"user_id":22232039,"display_name":"Douglas Santos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689592415,"creation_date":1689592415,"answer_id":76703889,"question_id":76703796,"body_markdown":"have you already configured the swagger part?\r\n\r\nyou need to:\r\n1. setup your swagger\r\n2. @EnableSwagger2 on our configuration class\r\n3. Swagger UI adds a set of resources that we must configure as part of a class that extends WebMvcConfigurerAdapter and is annotated with @EnableWebMvc:\r\n\r\nTo verify it is working try: http://localhost:8080/v2/api-docs to have the JSON response \r\n\r\n4. to see the Swagger UI you need to enable it:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand try http://localhost:8080/swagger-ui/\r\n\r\nReference: https://www.baeldung.com/swagger-2-documentation-for-spring-rest-api\r\n\r\n\r\n","title":"How do I see the swagger web interface?","body":"<p>have you already configured the swagger part?</p>\n<p>you need to:</p>\n<ol>\n<li>setup your swagger</li>\n<li>@EnableSwagger2 on our configuration class</li>\n<li>Swagger UI adds a set of resources that we must configure as part of a class that extends WebMvcConfigurerAdapter and is annotated with @EnableWebMvc:</li>\n</ol>\n<p>To verify it is working try: http://localhost:8080/v2/api-docs to have the JSON response</p>\n<ol start=\"4\">\n<li><p>to see the Swagger UI you need to enable it:</p>\n \n     io.springfox\n     springfox-swagger-ui\n     3.0.0\n \n</li>\n</ol>\n<p>and try http://localhost:8080/swagger-ui/</p>\n<p>Reference: <a href=\"https://www.baeldung.com/swagger-2-documentation-for-spring-rest-api\" rel=\"nofollow noreferrer\">https://www.baeldung.com/swagger-2-documentation-for-spring-rest-api</a></p>\n"}],"owner":{"account_id":29001238,"reputation":1,"user_id":22214755,"display_name":"Dex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1689764705,"creation_date":1689591646,"question_id":76703796,"body_markdown":"I&#39;m trying to visualize my endpoints with swagger but I can&#39;t get it to work, my project is done with spring boot, java 20 and maven.\r\n\r\npom.xml:\r\n![pom.xml](https://i.stack.imgur.com/krI0t.png)\r\n\r\nThis is the path of my controller:\r\n\r\n![this is the path of my controller](https://i.stack.imgur.com/qTmYe.png)\r\n\r\nWeb error:\r\n\r\n![web error](https://i.stack.imgur.com/zqQxZ.png)\r\n\r\nI want to see my endpoints with the swagger web interface","title":"How do I see the swagger web interface?","body":"<p>I'm trying to visualize my endpoints with swagger but I can't get it to work, my project is done with spring boot, java 20 and maven.</p>\n<p>pom.xml:\n<img src=\"https://i.stack.imgur.com/krI0t.png\" alt=\"pom.xml\" /></p>\n<p>This is the path of my controller:</p>\n<p><img src=\"https://i.stack.imgur.com/qTmYe.png\" alt=\"this is the path of my controller\" /></p>\n<p>Web error:</p>\n<p><img src=\"https://i.stack.imgur.com/zqQxZ.png\" alt=\"web error\" /></p>\n<p>I want to see my endpoints with the swagger web interface</p>\n"},{"tags":["java","intellij-idea","jar"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1689275139,"post_id":76682497,"comment_id":135194343,"body_markdown":"Please provide the [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve) (shared sample project to reproduce the issue).","body":"Please provide the <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> (shared sample project to reproduce the issue)."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1689294977,"post_id":76682497,"comment_id":135196847,"body_markdown":"I checked the jar and all the classes in this jar are in the default package. Java cannot import from the default package when your class is in the named package: https://stackoverflow.com/questions/283816/how-to-access-java-classes-in-the-default-package.","body":"I checked the jar and all the classes in this jar are in the default package. Java cannot import from the default package when your class is in the named package: <a href=\"https://stackoverflow.com/questions/283816/how-to-access-java-classes-in-the-default-package\" title=\"how to access java classes in the default package\">stackoverflow.com/questions/283816/&hellip;</a>."},{"owner":{"account_id":29012442,"reputation":21,"user_id":22223651,"display_name":"Datanerd"},"score":0,"creation_date":1689296056,"post_id":76682497,"comment_id":135196921,"body_markdown":"I see! I was not aware of this, thank you for the information! I moved the lib folder containing the jar into the src folder, and the Grafikk.java class into into the src as well, and it finally worked. Maybe not the perfect way to do it, should I improve it further?","body":"I see! I was not aware of this, thank you for the information! I moved the lib folder containing the jar into the src folder, and the Grafikk.java class into into the src as well, and it finally worked. Maybe not the perfect way to do it, should I improve it further?"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690214277,"post_id":76720620,"comment_id":135318870,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76720620/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29012442,"reputation":21,"user_id":22223651,"display_name":"Datanerd"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689764622,"creation_date":1689764622,"answer_id":76720620,"question_id":76682497,"body_markdown":"It was as user &quot;CrazyCoder&quot; commmented. It has to do with the JAR file where all the classes are in the default package, which makes Java unable to import them. I solved it by moving my &quot;lib&quot; folder to &quot;src&quot; directory, and the &quot;Grafikk.java&quot; class to &quot;src&quot; as well. Then adding the path to the JAR file in IntelliJ as you normally would, in Project Structure &gt; Libraries. Read more about it here (quote CrazyCoder): https://stackoverflow.com/questions/283816/how-to-access-java-classes-in-the-default-package","title":"How to make IntelliJ IDEA 2022.3.3 recognize my external JAR file?","body":"<p>It was as user &quot;CrazyCoder&quot; commmented. It has to do with the JAR file where all the classes are in the default package, which makes Java unable to import them. I solved it by moving my &quot;lib&quot; folder to &quot;src&quot; directory, and the &quot;Grafikk.java&quot; class to &quot;src&quot; as well. Then adding the path to the JAR file in IntelliJ as you normally would, in Project Structure &gt; Libraries. Read more about it here (quote CrazyCoder): <a href=\"https://stackoverflow.com/questions/283816/how-to-access-java-classes-in-the-default-package\">How to access java-classes in the default-package?</a></p>\n"}],"owner":{"account_id":29012442,"reputation":21,"user_id":22223651,"display_name":"Datanerd"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689764622,"creation_date":1689274857,"question_id":76682497,"body_markdown":"This is the code I&#39;m unable to run in IntelliJ:\r\n\r\n```\r\npackage hjemmestud.grafikk;\r\n\r\npublic class Grafikk extends EasyGraphics {\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    public void run() {\r\n        this.makeWindow(&quot;Grafikk&quot;, 300, 300);\r\n        this.drawCircle(150, 70, 60);\r\n        this.drawCircle(150, 190, 60);\r\n    }\r\n}\r\n```\r\n\r\nIt&#39;s supposed to create two circles on top of each other in a small window, like this: [Program Example][1]\r\n\r\nCurrent file structure, IntelliJ Project folder:\r\n[File Structure](https://i.stack.imgur.com/ZyTqy.png)\r\n\r\nWebsite of downloadable JAR file (second file): [https://dbsys.info/programmering/easygraphics/nedlasting.html][2]\r\n\r\nI&#39;ve successfully run the program using just Windows CMD with a different folder structure: [File Structure using CMD (before compiling)](https://i.stack.imgur.com/249am.png) I did this by running these two lines of code in CMD: \r\n\r\n    javac -classpath .;.\\easygraphics.jar Grafikk.java\r\n\r\n    java -cp .;.\\easygraphics.jar Grafikk\r\n\r\nHowever, when I transfer the files to IntelliJ, it doesn&#39;t seem to work. I&#39;ve tried having the JAR file on the same level as the Grafikk.java class, on the same level as hjemmestud.grafikk package and in the same level as the src folder, both just the JAR file itself and in a lib folder, but none of it has worked.\r\n\r\nI&#39;ve also of course added the path to the JAR file in the external libraries by modifying the Project Structure, in the Libraries and Modules for each time, but I still get errors up saying it cannot resolve the symbol &#39;EasyGraphics&#39;.\r\n\r\nI&#39;ve also tried reloading the project from disk and rebuilding the project, aswell as editing the configurations of the class file, without any luck.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5RH2k.png\r\n  [2]: https://dbsys.info/programmering/easygraphics/nedlasting.html","title":"How to make IntelliJ IDEA 2022.3.3 recognize my external JAR file?","body":"<p>This is the code I'm unable to run in IntelliJ:</p>\n<pre><code>package hjemmestud.grafikk;\n\npublic class Grafikk extends EasyGraphics {\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    public void run() {\n        this.makeWindow(&quot;Grafikk&quot;, 300, 300);\n        this.drawCircle(150, 70, 60);\n        this.drawCircle(150, 190, 60);\n    }\n}\n</code></pre>\n<p>It's supposed to create two circles on top of each other in a small window, like this: <a href=\"https://i.stack.imgur.com/5RH2k.png\" rel=\"nofollow noreferrer\">Program Example</a></p>\n<p>Current file structure, IntelliJ Project folder:\n<a href=\"https://i.stack.imgur.com/ZyTqy.png\" rel=\"nofollow noreferrer\">File Structure</a></p>\n<p>Website of downloadable JAR file (second file): <a href=\"https://dbsys.info/programmering/easygraphics/nedlasting.html\" rel=\"nofollow noreferrer\">https://dbsys.info/programmering/easygraphics/nedlasting.html</a></p>\n<p>I've successfully run the program using just Windows CMD with a different folder structure: <a href=\"https://i.stack.imgur.com/249am.png\" rel=\"nofollow noreferrer\">File Structure using CMD (before compiling)</a> I did this by running these two lines of code in CMD:</p>\n<pre><code>javac -classpath .;.\\easygraphics.jar Grafikk.java\n\njava -cp .;.\\easygraphics.jar Grafikk\n</code></pre>\n<p>However, when I transfer the files to IntelliJ, it doesn't seem to work. I've tried having the JAR file on the same level as the Grafikk.java class, on the same level as hjemmestud.grafikk package and in the same level as the src folder, both just the JAR file itself and in a lib folder, but none of it has worked.</p>\n<p>I've also of course added the path to the JAR file in the external libraries by modifying the Project Structure, in the Libraries and Modules for each time, but I still get errors up saying it cannot resolve the symbol 'EasyGraphics'.</p>\n<p>I've also tried reloading the project from disk and rebuilding the project, aswell as editing the configurations of the class file, without any luck.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","jpql"],"comments":[{"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"score":0,"creation_date":1689763628,"post_id":76720285,"comment_id":135258400,"body_markdown":"Can you add the code of Entities,QuizDao &amp; QuestionDao?","body":"Can you add the code of Entities,QuizDao &amp; QuestionDao?"},{"owner":{"account_id":13198610,"reputation":21,"user_id":9532517,"display_name":"Jay"},"score":0,"creation_date":1689929002,"post_id":76720285,"comment_id":135285535,"body_markdown":"Sure, @Repository\npublic interface QuestionDao extends JpaRepository&lt;Questions,Integer&gt; {\n\n    List&lt;Questions&gt; findByCategory(String category);\n    \n    @Query(value= &quot;select * from questions q Where q.category =:category ORDER BY RANDOM() LIMIT :nOfQues&quot; , nativeQuery= true)\n\tList&lt;Questions&gt; findByCategoryANOfQuestions(String category, int nOfQues);\n\npublic interface QuizDao extends JpaRepository&lt;Quiz,Integer&gt; {\n\n}","body":"Sure, @Repository public interface QuestionDao extends JpaRepository&lt;Questions,Integer&gt; {      List&lt;Questions&gt; findByCategory(String category);          @Query(value= &quot;select * from questions q Where q.category =:category ORDER BY RANDOM() LIMIT :nOfQues&quot; , nativeQuery= true) \tList&lt;Questions&gt; findByCategoryANOfQuestions(String category, int nOfQues);  public interface QuizDao extends JpaRepository&lt;Quiz,Integer&gt; {  }"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690076223,"post_id":76720285,"comment_id":135302363,"body_markdown":"Please show a complete, runnable example which illustrates the problem. It&#39;s not clear whether you are calling `createQ`. Have you checked the DB contents directly via an SQL client?","body":"Please show a complete, runnable example which illustrates the problem. It&#39;s not clear whether you are calling <code>createQ</code>. Have you checked the DB contents directly via an SQL client?"}],"answers":[{"comments":[{"owner":{"account_id":13198610,"reputation":21,"user_id":9532517,"display_name":"Jay"},"score":0,"creation_date":1689929319,"post_id":76720607,"comment_id":135285589,"body_markdown":"i tried , it still dint work.","body":"i tried , it still dint work."}],"tags":[],"owner":{"account_id":28938722,"reputation":1,"user_id":22165698,"display_name":"Yaswanth"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689764525,"creation_date":1689764525,"answer_id":76720607,"question_id":76720285,"body_markdown":"I think it&#39;s because of space you had given between : and param (=: category).","title":"Not able to fetch the data from database using JPQL query in springboot","body":"<p>I think it's because of space you had given between : and param (=: category).</p>\n"}],"owner":{"account_id":13198610,"reputation":21,"user_id":9532517,"display_name":"Jay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689764525,"creation_date":1689762317,"question_id":76720285,"body_markdown":"@Service\r\npublic class QuizService {\r\n\r\n\t@Autowired\r\n\tQuizDao quizDao;\r\n\t\r\n\t@Autowired\r\n\tQuestionDao questiondao;\r\n\t\r\n\tpublic ResponseEntity&lt;String&gt; createQ( String category, int nOfQues, String title) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tList&lt;Questions&gt; questions= questiondao.findByCategoryANOfQuestions(category, nOfQues);\r\n\t\t\r\n\t\tQuiz quiz = new Quiz();\r\n\t\t\r\n\t\tquiz.setTitle(title);\r\n\t\tquiz.setQuestions(questions);\r\n\t\t\r\n\t\t\r\n\t\tquizDao.save(quiz);\r\n\t\t\r\n\t\treturn new ResponseEntity&lt;&gt;(&quot;success&quot;, HttpStatus.ACCEPTED);\r\n\t}\r\n\r\n@Repository\r\npublic interface QuestionDao extends JpaRepository&lt;Questions,Integer&gt; {\r\n\r\n    List&lt;Questions&gt; findByCategory(String category);\r\n    @Query(value= &quot;select * from questions q Where q.category =: category ORDER BY RANDOM() LIMIT     :nOfQues&quot; , nativeQuery= true)\r\n\tList&lt;Questions&gt; findByCategoryANOfQuestions(String category, int nOfQues);\r\n\r\n\r\n\r\nNot able to get questions in db. Using postgres . Please , this is first project and I am self learning. Any help would be appreciated.\r\n\r\n\r\nNot showing any values in question table.","title":"Not able to fetch the data from database using JPQL query in springboot","body":"<p>@Service\npublic class QuizService {</p>\n<pre><code>@Autowired\nQuizDao quizDao;\n\n@Autowired\nQuestionDao questiondao;\n\npublic ResponseEntity&lt;String&gt; createQ( String category, int nOfQues, String title) {\n    // TODO Auto-generated method stub\n    \n    List&lt;Questions&gt; questions= questiondao.findByCategoryANOfQuestions(category, nOfQues);\n    \n    Quiz quiz = new Quiz();\n    \n    quiz.setTitle(title);\n    quiz.setQuestions(questions);\n    \n    \n    quizDao.save(quiz);\n    \n    return new ResponseEntity&lt;&gt;(&quot;success&quot;, HttpStatus.ACCEPTED);\n}\n</code></pre>\n<p>@Repository\npublic interface QuestionDao extends JpaRepository&lt;Questions,Integer&gt; {</p>\n<pre><code>List&lt;Questions&gt; findByCategory(String category);\n@Query(value= &quot;select * from questions q Where q.category =: category ORDER BY RANDOM() LIMIT     :nOfQues&quot; , nativeQuery= true)\nList&lt;Questions&gt; findByCategoryANOfQuestions(String category, int nOfQues);\n</code></pre>\n<p>Not able to get questions in db. Using postgres . Please , this is first project and I am self learning. Any help would be appreciated.</p>\n<p>Not showing any values in question table.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1689165414,"post_id":76653334,"comment_id":135174367,"body_markdown":"By default deployments in an ear have access to each other&#39;s resources, so you may have version mismatches within the different modules that are causing you misery. Is ear subdeployment isolation turned on or off as documented here: https://docs.jboss.org/author/display/WFLY10/Class%20Loading%20in%20WildFly.html ?","body":"By default deployments in an ear have access to each other&#39;s resources, so you may have version mismatches within the different modules that are causing you misery. Is ear subdeployment isolation turned on or off as documented here: <a href=\"https://docs.jboss.org/author/display/WFLY10/Class%20Loading%20in%20WildFly.html\" rel=\"nofollow noreferrer\">docs.jboss.org/author/display/WFLY10/&hellip;</a> ?"}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689248232,"creation_date":1689248232,"answer_id":76678950,"question_id":76653334,"body_markdown":"&quot;[Error loading DispatcherServlet&#39;s default strategy class](https://stackoverflow.com/a/20267074/6309)&quot; or &quot;[Please advise to me that Spring MVC Error](https://stackoverflow.com/a/45453371/6309)&quot; are both pointing to some version discrepancy between modules.\r\n\r\nSo double-check the current versions loaded by your pom.xml when building your war:\r\n\r\n``` bash\r\nmvn versions:display-dependency-updates\r\n```\r\n\r\nAnd check if there is any update you might want to consider upgrading to:\r\n\r\n``` bash\r\nmvn versions:display-dependency-updates\r\n```\r\n\r\nCheck if an [enforcer](https://maven.apache.org/enforcer/maven-enforcer-plugin/) would fail your build, using a `DependencyConvergence` rule, when building your deliverable:\r\n\r\n``` xml\r\n&lt;project&gt;\r\n  [...]\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;enforce&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;enforce&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;rules&gt;\r\n                &lt;DependencyConvergence /&gt;\r\n              &lt;/rules&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n  [...]\r\n&lt;/project&gt;\r\n``` ","title":"java.lang.NoClassDefFoundError when deploying Spring Boot .war within .ear on Wildfly with other deployments","body":"<p>&quot;<a href=\"https://stackoverflow.com/a/20267074/6309\">Error loading DispatcherServlet's default strategy class</a>&quot; or &quot;<a href=\"https://stackoverflow.com/a/45453371/6309\">Please advise to me that Spring MVC Error</a>&quot; are both pointing to some version discrepancy between modules.</p>\n<p>So double-check the current versions loaded by your pom.xml when building your war:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn versions:display-dependency-updates\n</code></pre>\n<p>And check if there is any update you might want to consider upgrading to:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn versions:display-dependency-updates\n</code></pre>\n<p>Check if an <a href=\"https://maven.apache.org/enforcer/maven-enforcer-plugin/\" rel=\"nofollow noreferrer\">enforcer</a> would fail your build, using a <code>DependencyConvergence</code> rule, when building your deliverable:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n  [...]\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;enforce&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;enforce&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;rules&gt;\n                &lt;DependencyConvergence /&gt;\n              &lt;/rules&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  [...]\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":3088019,"reputation":284,"user_id":3316136,"display_name":"Alexander"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1689764504,"creation_date":1688988930,"question_id":76653334,"body_markdown":"I&#39;m encountering a `java.lang.NoClassDefFoundError` when deploying a Spring Boot application as a `.war` file within a `.ear` deployment on Wildfly. The error only occurs when there are other deployments included in the `.ear` file. \r\n\r\nHowever, if I deploy the `.war` file on a fresh Wildfly instance with no other deployments, I don&#39;t encounter any issues.\r\n\r\n**Details:**\r\n\r\nHere&#39;s the specific error message I&#39;m seeing:\r\n\r\n```\r\nERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 142) MSC000001: Failed to start service jboss.deployment.subunit.&quot;interfaces2.ear&quot;.&quot;redacted-kafka-consumer.war&quot;.undertow-deployment: \r\norg.jboss.msc.service.StartException in service jboss.deployment.subunit.&quot;interfaces2.ear&quot;.&quot;redacted-kafka-consumer.war&quot;.undertow-deployment: java.lang.RuntimeException: java.lang.IllegalStateException: Error processing con\r\ndition on org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration.basicErrorController\r\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:81)\r\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1348)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)\r\nCaused by: java.lang.RuntimeException: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration.basicErrorController\r\n        at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:257)\r\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:96)\r\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:78)\r\n        ... 8 more\r\nCaused by: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration.basicErrorController\r\n        at deployment.interfaces2.ear.redacted-kafka-consumer.war//org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60)\r\n        at deployment.interfaces2.ear//org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108)\r\n        at deployment.interfaces2.ear//org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:193)\r\n        at deployment.interfaces2.ear//org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:153)\r\n        at deployment.interfaces2.ear//org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129)\r\n        at deployment.interfaces2.ear//org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343)\r\n        at deployment.interfaces2.ear//org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)\r\n        at deployment.interfaces2.ear//org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)\r\n        at deployment.interfaces2.ear//org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)\r\n        at deployment.interfaces2.ear//org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:748)\r\n        at deployment.interfaces2.ear//org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\r\n        at deployment.interfaces2.ear//org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n        at deployment.interfaces2.ear//org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\r\n        at deployment.interfaces2.ear//org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n        at deployment.interfaces2.ear//org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n        at deployment.interfaces2.ear//org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:175)\r\n        at deployment.interfaces2.ear//org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:155)\r\n        at deployment.interfaces2.ear//org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97)\r\n        at deployment.interfaces2.ear//org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174)\r\n        at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:204)\r\n        at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:187)\r\n        at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\r\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:255)\r\n        ... 10 more\r\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration] from ClassLoader [ModuleClassLoader for Module &quot;deployment.interfaces2.ear.redacted-kafka-consumer.war&quot; from Service Module Loader]\r\n        at deployment.interfaces2.ear//org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485)\r\n        at deployment.interfaces2.ear//org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:361)\r\n        at deployment.interfaces2.ear//org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:418)\r\n        at deployment.interfaces2.ear//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:765)\r\n        at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705)\r\n        at deployment.interfaces2.ear//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:764)\r\n        at deployment.interfaces2.ear//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:703)\r\n        at deployment.interfaces2.ear//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:674)\r\n        at deployment.interfaces2.ear//org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1684)\r\n        at deployment.interfaces2.ear//org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:570)\r\n        at deployment.interfaces2.ear//org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:542)\r\n        at deployment.interfaces2.ear.redacted-kafka-consumer.war//org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:246)\r\n        at deployment.interfaces2.ear.redacted-kafka-consumer.war//org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:239)\r\n        at deployment.interfaces2.ear.redacted-kafka-consumer.war//org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:229)\r\n        at deployment.interfaces2.ear.redacted-kafka-consumer.war//org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:182)\r\n        at deployment.interfaces2.ear.redacted-kafka-consumer.war//org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:157)\r\n        at deployment.interfaces2.ear.redacted-kafka-consumer.war//org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)\r\n        ... 38 more\r\nCaused by: java.lang.NoClassDefFoundError: Failed to link org/springframework/boot/web/servlet/error/DefaultErrorAttributes (Module &quot;deployment.interfaces2.ear&quot; from Service Module Loader): org/springframework/web/servlet/HandlerExceptionResolver\r\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1095)\r\n        at org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:424)\r\n        at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:555)\r\n        at org.jboss.modules.ModuleClassLoader.loadClassLocal(ModuleClassLoader.java:339)\r\n        at org.jboss.modules.ModuleClassLoader$1.loadClassLocal(ModuleClassLoader.java:126)\r\n        at org.jboss.modules.Module.loadModuleClass(Module.java:753)\r\n        at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:247)\r\n        at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)\r\n        at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)\r\n        at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)\r\n        at java.base/java.lang.Class.getDeclaredMethods0(Native Method)\r\n        at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3167)\r\n        at java.base/java.lang.Class.getDeclaredMethods(Class.java:2310)\r\n        at deployment.interfaces2.ear//org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467)\r\n        ... 54 more\r\n```\r\n\r\nThis error seems to be related to the class `DefaultErrorAttributes` from Spring Framework&#39;s `spring-boot-web` module. It appears that the class loader is unable to find the necessary class `HandlerExceptionResolver`, leading to the `NoClassDefFoundError` at runtime.\r\n\r\n**Additional Information:**\r\n\r\n - **Spring Boot version**: 2.7.11 \r\n - **Wildfly version**: 23\r\n - **Java version**: 11\r\n\r\nHere are the relevant dependencies from the `pom.xml` file of the `redacted-kafka-consumer` module:\r\n\r\n```xml\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${servlet-api.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nAny help or suggestions on how to resolve this issue would be greatly appreciated. Thank you!","title":"java.lang.NoClassDefFoundError when deploying Spring Boot .war within .ear on Wildfly with other deployments","body":"<p>I'm encountering a <code>java.lang.NoClassDefFoundError</code> when deploying a Spring Boot application as a <code>.war</code> file within a <code>.ear</code> deployment on Wildfly. The error only occurs when there are other deployments included in the <code>.ear</code> file.</p>\n<p>However, if I deploy the <code>.war</code> file on a fresh Wildfly instance with no other deployments, I don't encounter any issues.</p>\n<p><strong>Details:</strong></p>\n<p>Here's the specific error message I'm seeing:</p>\n<pre><code>ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 142) MSC000001: Failed to start service jboss.deployment.subunit.&quot;interfaces2.ear&quot;.&quot;redacted-kafka-consumer.war&quot;.undertow-deployment: \norg.jboss.msc.service.StartException in service jboss.deployment.subunit.&quot;interfaces2.ear&quot;.&quot;redacted-kafka-consumer.war&quot;.undertow-deployment: java.lang.RuntimeException: java.lang.IllegalStateException: Error processing con\ndition on org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration.basicErrorController\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:81)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1348)\n        at java.base/java.lang.Thread.run(Thread.java:834)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)\nCaused by: java.lang.RuntimeException: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration.basicErrorController\n        at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:257)\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:96)\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:78)\n        ... 8 more\nCaused by: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration.basicErrorController\n        at deployment.interfaces2.ear.redacted-kafka-consumer.war//org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60)\n        at deployment.interfaces2.ear//org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108)\n        at deployment.interfaces2.ear//org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:193)\n        at deployment.interfaces2.ear//org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:153)\n        at deployment.interfaces2.ear//org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129)\n        at deployment.interfaces2.ear//org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343)\n        at deployment.interfaces2.ear//org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)\n        at deployment.interfaces2.ear//org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)\n        at deployment.interfaces2.ear//org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)\n        at deployment.interfaces2.ear//org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:748)\n        at deployment.interfaces2.ear//org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\n        at deployment.interfaces2.ear//org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n        at deployment.interfaces2.ear//org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\n        at deployment.interfaces2.ear//org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n        at deployment.interfaces2.ear//org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n        at deployment.interfaces2.ear//org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:175)\n        at deployment.interfaces2.ear//org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:155)\n        at deployment.interfaces2.ear//org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97)\n        at deployment.interfaces2.ear//org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174)\n        at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:204)\n        at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:187)\n        at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n        at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:255)\n        ... 10 more\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration] from ClassLoader [ModuleClassLoader for Module &quot;deployment.interfaces2.ear.redacted-kafka-consumer.war&quot; from Service Module Loader]\n        at deployment.interfaces2.ear//org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485)\n        at deployment.interfaces2.ear//org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:361)\n        at deployment.interfaces2.ear//org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:418)\n        at deployment.interfaces2.ear//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:765)\n        at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705)\n        at deployment.interfaces2.ear//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:764)\n        at deployment.interfaces2.ear//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:703)\n        at deployment.interfaces2.ear//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:674)\n        at deployment.interfaces2.ear//org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1684)\n        at deployment.interfaces2.ear//org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:570)\n        at deployment.interfaces2.ear//org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:542)\n        at deployment.interfaces2.ear.redacted-kafka-consumer.war//org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:246)\n        at deployment.interfaces2.ear.redacted-kafka-consumer.war//org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:239)\n        at deployment.interfaces2.ear.redacted-kafka-consumer.war//org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:229)\n        at deployment.interfaces2.ear.redacted-kafka-consumer.war//org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:182)\n        at deployment.interfaces2.ear.redacted-kafka-consumer.war//org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:157)\n        at deployment.interfaces2.ear.redacted-kafka-consumer.war//org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)\n        ... 38 more\nCaused by: java.lang.NoClassDefFoundError: Failed to link org/springframework/boot/web/servlet/error/DefaultErrorAttributes (Module &quot;deployment.interfaces2.ear&quot; from Service Module Loader): org/springframework/web/servlet/HandlerExceptionResolver\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1095)\n        at org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:424)\n        at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:555)\n        at org.jboss.modules.ModuleClassLoader.loadClassLocal(ModuleClassLoader.java:339)\n        at org.jboss.modules.ModuleClassLoader$1.loadClassLocal(ModuleClassLoader.java:126)\n        at org.jboss.modules.Module.loadModuleClass(Module.java:753)\n        at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:247)\n        at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)\n        at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)\n        at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)\n        at java.base/java.lang.Class.getDeclaredMethods0(Native Method)\n        at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3167)\n        at java.base/java.lang.Class.getDeclaredMethods(Class.java:2310)\n        at deployment.interfaces2.ear//org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467)\n        ... 54 more\n</code></pre>\n<p>This error seems to be related to the class <code>DefaultErrorAttributes</code> from Spring Framework's <code>spring-boot-web</code> module. It appears that the class loader is unable to find the necessary class <code>HandlerExceptionResolver</code>, leading to the <code>NoClassDefFoundError</code> at runtime.</p>\n<p><strong>Additional Information:</strong></p>\n<ul>\n<li><strong>Spring Boot version</strong>: 2.7.11</li>\n<li><strong>Wildfly version</strong>: 23</li>\n<li><strong>Java version</strong>: 11</li>\n</ul>\n<p>Here are the relevant dependencies from the <code>pom.xml</code> file of the <code>redacted-kafka-consumer</code> module:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;${servlet-api.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Any help or suggestions on how to resolve this issue would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","multithreading","java.util.concurrent","concurrentmodification"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1689149637,"post_id":76668387,"comment_id":135170776,"body_markdown":"the problem is when the `Future` is being executed - I can&#39;t see its code ...  anyway, is `futures.next()` correct?? I would expect `futureIterator.next()` !","body":"the problem is when the <code>Future</code> is being executed - I can&#39;t see its code ...  anyway, is <code>futures.next()</code> correct?? I would expect <code>futureIterator.next()</code> !"},{"owner":{"account_id":7529358,"reputation":958,"user_id":5718184,"accept_rate":50,"display_name":"Ishan Tiwary"},"score":0,"creation_date":1689149758,"post_id":76668387,"comment_id":135170816,"body_markdown":"@user16320675, check the last line of the code, I have put a comment also. I am getting exeception on future.get();","body":"@user16320675, check the last line of the code, I have put a comment also. I am getting exeception on future.get();"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1689150022,"post_id":76668387,"comment_id":135170893,"body_markdown":"Please include the full stack trace of the exception","body":"Please include the full stack trace of the exception"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1689150032,"post_id":76668387,"comment_id":135170895,"body_markdown":"yes, apparently&#185; an `ExecutionException` which indicates that an `Exception` (probably&#185; `ConcurrentModificationException`) has occurred when executing the `Future`! [Javadoc](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/Future.html#get()): &quot;***Throws:** . . . `ExecutionException` - if the computation threw an exception*&quot;. I cannot see what that `Future` is doing, sorry. || **&#185;** without seeing the Stack Trace, I could only guess based on the title","body":"yes, apparently&#185; an <code>ExecutionException</code> which indicates that an <code>Exception</code> (probably&#185; <code>ConcurrentModificationException</code>) has occurred when executing the <code>Future</code>! <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/Future.html#get()\" rel=\"nofollow noreferrer\">Javadoc</a>: &quot;<b><i>Throws:</b> . . . <code>ExecutionException</code> - if the computation threw an exception</i>&quot;. I cannot see what that <code>Future</code> is doing, sorry. || <b>&#185;</b> without seeing the Stack Trace, I could only guess based on the title"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1689168215,"post_id":76668387,"comment_id":135175108,"body_markdown":"The stack trace shows that the error originated inside the `getEnrichedFixedLengthRecordsFromGenericRecords` method.","body":"The stack trace shows that the error originated inside the <code>getEnrichedFixedLengthRecordsFromGenericRecords</code> method."}],"answers":[{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689764403,"creation_date":1689764403,"answer_id":76720589,"question_id":76668387,"body_markdown":" The subList method returns the view of the list and does not create actual list,so any structural changes in backing list will throw concurrent modification exception.\r\n\r\n&gt; From java doc :\r\nThe semantics of the list returned by this method become undefined if the backing list (i.e., this list) is structurally modified in any way other than via the returned list. (Structural modifications are those that change the size of this list, or otherwise perturb it in such a fashion that iterations in progress may yield incorrect results.)\r\nList&lt;E&gt; subList(int fromIndex, int toIndex);\r\n\r\n\r\nIn code snippet mentioned above,since the future is trying to modify the backing list (could be in dataenricher) at later point in time,it throws exception during get call","title":"Future.get() throws java.util.concurrent.ExecutionException: java.util.ConcurrentModificationException","body":"<p>The subList method returns the view of the list and does not create actual list,so any structural changes in backing list will throw concurrent modification exception.</p>\n<blockquote>\n<p>From java doc :\nThe semantics of the list returned by this method become undefined if the backing list (i.e., this list) is structurally modified in any way other than via the returned list. (Structural modifications are those that change the size of this list, or otherwise perturb it in such a fashion that iterations in progress may yield incorrect results.)\nList subList(int fromIndex, int toIndex);</p>\n</blockquote>\n<p>In code snippet mentioned above,since the future is trying to modify the backing list (could be in dataenricher) at later point in time,it throws exception during get call</p>\n"}],"owner":{"account_id":7529358,"reputation":958,"user_id":5718184,"accept_rate":50,"display_name":"Ishan Tiwary"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689764403,"creation_date":1689149228,"question_id":76668387,"body_markdown":"I have a list of recodes called filterRecords -&gt; `List&lt;Tuple&lt;String, GenericRecord&gt;&gt; filterRecords`. I am splitting this list into sub lists and giving each sublists to a separate thread for parallel execution. My Call() method implementation returns `Tuple&lt;List&lt;FixedLengthRecord&gt;, BatchDataPoints&gt;`. But when I am doing `future.get()`, I am getting `ConcurrentModificationException`. \r\n\r\nBelow is the code snippet.\r\n\r\n \r\n    \tConcurrentLinkedQueue &lt;Future&lt;Tuple&lt;List&lt;FixedLengthRecord&gt;, BatchDataPoints&gt;&gt;&gt; futures = new ConcurrentLinkedQueue &lt;&gt;();\r\n        List&lt;List&lt;Tuple&lt;String, GenericRecord&gt;&gt;&gt; partitions = new ArrayList&lt;&gt;();\r\n\r\n\t\t\tint partitionSize = (filterRecords.size() / fixedLengthRecordEnrichmentThreadSize);\r\n\t\t\tfor (int i = 0; i &lt; filterRecords.size(); i += partitionSize) {\r\n\t\t\t\tList&lt;Tuple&lt;String, GenericRecord&gt;&gt; sublist = (filterRecords.subList(i, Math.min(i + partitionSize, filterRecords.size())));\r\n\t\t\t\tpartitions.add(sublist);\r\n\t\t\t}\r\n\r\n\t\t\tfor(int fixedLengthRecordEnrichmentThread = 0; fixedLengthRecordEnrichmentThread &lt; this.fixedLengthRecordEnrichmentThreadSize; fixedLengthRecordEnrichmentThread++) {\r\n\t\t\t\tfutures.offer(service.submit(new FixedLengthRecordWrapper(partitions.get(fixedLengthRecordEnrichmentThread),dataEnricher)));\r\n\t\t\t}\r\n\r\n\r\n    Iterator&lt;Future&lt;Tuple&lt;List&lt;FixedLengthRecord&gt;, BatchDataPoints&gt;&gt;&gt; futureIterator = futures.iterator();\r\n    while (futureIterator.hasNext()) {\r\n          Future&lt;Tuple&lt;List&lt;FixedLengthRecord&gt;, BatchDataPoints&gt;&gt; future = futureIterator.next();\r\n          if (future.isDone() || future.isCancelled()) {\r\n                Tuple&lt;List&lt;FixedLengthRecord&gt;, BatchDataPoints&gt; fixedLengthRecordsTuple = future.get();  // ConcurrentModificationException\r\n\r\n          }\r\n     }\r\n\r\n\r\n\r\nI also Tried other options, like:\r\n\r\n     while(!futures.isEmpty()){\r\n       Future&lt;Tuple&lt;List&lt;FixedLengthRecord&gt;, BatchDataPoints&gt;&gt; future = futures.poll();\r\n       if (future.isDone() || future.isCancelled()) {\r\n\t\t\tTuple&lt;List&lt;FixedLengthRecord&gt;, BatchDataPoints&gt; fixedLengthRecordsTuple = future.get();\r\n       }\r\n     }\r\n\r\n\r\nBewlow is the stackTrace:\r\n\r\n     java.util.concurrent.ExecutionException: java.util.ConcurrentModificationException\r\n\tat java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.util.concurrent.FutureTask.get(FutureTask.java:192)\r\n\tat com.data.driver.BatchCallable.processBatch(BatchCallable.java:161)\r\n\tat com.data.driver.BatchCallable.call(BatchCallable.java:102)\r\n\tat com.data.driver.BatchCallable.call(BatchCallable.java:38)\r\n\tat java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\n     Caused by: java.util.ConcurrentModificationException\r\n\tat java.util.ArrayList$SubList.checkForComodification(ArrayList.java:1241)\r\n\tat java.util.ArrayList$SubList.size(ArrayList.java:1050)\r\n\tat java.util.AbstractCollection.toArray(AbstractCollection.java:136)\r\n\tat java.util.ArrayList.&lt;init&gt;(ArrayList.java:178)\r\n\tat com.data.tranhist.fixedlength.FixedLengthRecordWrapper.getEnrichedFixedLengthRecordsFromGenericRecords(FixedLengthRecordWrapper.java:93)\r\n\tat com.data.tranhist.fixedlength.FixedLengthRecordWrapper.call(FixedLengthRecordWrapper.java:63)\r\n\tat com.data.tranhist.fixedlength.FixedLengthRecordWrapper.call(FixedLengthRecordWrapper.java:22)\r\n\t... 5 more\r\n\r\n\r\nAny help is appreciated. Thanks in advance.","title":"Future.get() throws java.util.concurrent.ExecutionException: java.util.ConcurrentModificationException","body":"<p>I have a list of recodes called filterRecords -&gt; <code>List&lt;Tuple&lt;String, GenericRecord&gt;&gt; filterRecords</code>. I am splitting this list into sub lists and giving each sublists to a separate thread for parallel execution. My Call() method implementation returns <code>Tuple&lt;List&lt;FixedLengthRecord&gt;, BatchDataPoints&gt;</code>. But when I am doing <code>future.get()</code>, I am getting <code>ConcurrentModificationException</code>.</p>\n<p>Below is the code snippet.</p>\n<pre><code>    ConcurrentLinkedQueue &lt;Future&lt;Tuple&lt;List&lt;FixedLengthRecord&gt;, BatchDataPoints&gt;&gt;&gt; futures = new ConcurrentLinkedQueue &lt;&gt;();\n    List&lt;List&lt;Tuple&lt;String, GenericRecord&gt;&gt;&gt; partitions = new ArrayList&lt;&gt;();\n\n        int partitionSize = (filterRecords.size() / fixedLengthRecordEnrichmentThreadSize);\n        for (int i = 0; i &lt; filterRecords.size(); i += partitionSize) {\n            List&lt;Tuple&lt;String, GenericRecord&gt;&gt; sublist = (filterRecords.subList(i, Math.min(i + partitionSize, filterRecords.size())));\n            partitions.add(sublist);\n        }\n\n        for(int fixedLengthRecordEnrichmentThread = 0; fixedLengthRecordEnrichmentThread &lt; this.fixedLengthRecordEnrichmentThreadSize; fixedLengthRecordEnrichmentThread++) {\n            futures.offer(service.submit(new FixedLengthRecordWrapper(partitions.get(fixedLengthRecordEnrichmentThread),dataEnricher)));\n        }\n\n\nIterator&lt;Future&lt;Tuple&lt;List&lt;FixedLengthRecord&gt;, BatchDataPoints&gt;&gt;&gt; futureIterator = futures.iterator();\nwhile (futureIterator.hasNext()) {\n      Future&lt;Tuple&lt;List&lt;FixedLengthRecord&gt;, BatchDataPoints&gt;&gt; future = futureIterator.next();\n      if (future.isDone() || future.isCancelled()) {\n            Tuple&lt;List&lt;FixedLengthRecord&gt;, BatchDataPoints&gt; fixedLengthRecordsTuple = future.get();  // ConcurrentModificationException\n\n      }\n }\n</code></pre>\n<p>I also Tried other options, like:</p>\n<pre><code> while(!futures.isEmpty()){\n   Future&lt;Tuple&lt;List&lt;FixedLengthRecord&gt;, BatchDataPoints&gt;&gt; future = futures.poll();\n   if (future.isDone() || future.isCancelled()) {\n        Tuple&lt;List&lt;FixedLengthRecord&gt;, BatchDataPoints&gt; fixedLengthRecordsTuple = future.get();\n   }\n }\n</code></pre>\n<p>Bewlow is the stackTrace:</p>\n<pre><code> java.util.concurrent.ExecutionException: java.util.ConcurrentModificationException\nat java.util.concurrent.FutureTask.report(FutureTask.java:122)\nat java.util.concurrent.FutureTask.get(FutureTask.java:192)\nat com.data.driver.BatchCallable.processBatch(BatchCallable.java:161)\nat com.data.driver.BatchCallable.call(BatchCallable.java:102)\nat com.data.driver.BatchCallable.call(BatchCallable.java:38)\nat java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)\nat java.util.concurrent.FutureTask.run(FutureTask.java)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:750)\n Caused by: java.util.ConcurrentModificationException\nat java.util.ArrayList$SubList.checkForComodification(ArrayList.java:1241)\nat java.util.ArrayList$SubList.size(ArrayList.java:1050)\nat java.util.AbstractCollection.toArray(AbstractCollection.java:136)\nat java.util.ArrayList.&lt;init&gt;(ArrayList.java:178)\nat com.data.tranhist.fixedlength.FixedLengthRecordWrapper.getEnrichedFixedLengthRecordsFromGenericRecords(FixedLengthRecordWrapper.java:93)\nat com.data.tranhist.fixedlength.FixedLengthRecordWrapper.call(FixedLengthRecordWrapper.java:63)\nat com.data.tranhist.fixedlength.FixedLengthRecordWrapper.call(FixedLengthRecordWrapper.java:22)\n... 5 more\n</code></pre>\n<p>Any help is appreciated. Thanks in advance.</p>\n"},{"tags":["java","spring","mongodb","spring-boot","aggregation-framework"],"owner":{"account_id":19303462,"reputation":203,"user_id":14110832,"display_name":"Ritesh Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689764312,"creation_date":1689764312,"question_id":76720576,"body_markdown":"I have a group stage shown below, which groups all the documents matching the above stages and creates a group as &quot;userAndFollowingsStory&quot;.\r\n\r\n```\r\n        GroupOperation groupOperation = Aggregation.group().addToSet(&quot;$$ROOT&quot;).as(&quot;userAndFollowingsStory&quot;);\r\n        pipeline.add(groupOperation);\r\n```\r\n\r\n\r\nAfter this, I am using a lookup stage with the following pipeline to find all other stories that were not part of that group and create another group as &quot;otherUsersStories&quot;.\r\n\r\n\r\n```\r\n{\r\n  from: &quot;story_doc&quot;,\r\n  let: {\r\n    prevGroupIds: &quot;$userAndFollowingsStory._id&quot;,\r\n  },\r\n  pipeline: [\r\n    {\r\n      $match: {\r\n        $expr: {\r\n          $not: {\r\n            $in: [&quot;$_id&quot;, &quot;$$prevGroupIds&quot;],\r\n          },\r\n        },\r\n      },\r\n    },\r\n  ],\r\n  as: &quot;otherUsersStories&quot;,\r\n}\r\n\r\n\r\n CustomProjectAggregationOperation customProjectAggregationOperation = new CustomProjectAggregationOperation(query);\r\n pipeline.add(customProjectAggregationOperation);\r\n```\r\n\r\n\r\nI am trying to implement this stage using the Spring MongoDB library. Since there is no direct way to write it, I am using the **CustomProjectAggregationOperation** class, which looks like this:\r\n\r\n\r\n```\r\npublic class CustomProjectAggregationOperation implements AggregationOperation {\r\n    private String jsonOperation;\r\n    private String exposedField;\r\n\r\n    public CustomProjectAggregationOperation(String jsonOperation) {\r\n        this.jsonOperation = jsonOperation;\r\n    }\r\n\r\n    @Override\r\n    public Document toDocument(AggregationOperationContext aggregationOperationContext) {\r\n        return aggregationOperationContext.getMappedObject(Document.parse(jsonOperation));\r\n    }\r\n\r\n}\r\n```\r\nThe issue I am facing is that for any subsequent stages, it is showing &quot;**Invalid reference**&quot; for &quot;**otherUsersStories**&quot;. For example, the following project stage is giving an invalid reference error:\r\n\r\n\r\n\r\n\r\n```\r\n        ProjectionOperation projectionOperationConcat =  Aggregation.project()\r\n                .and(&quot;$userAndFollowingsStory&quot;)\r\n                .concatArrays(&quot;$otherUsersStories&quot;)\r\n                .as(&quot;infiniteStories&quot;);\r\n\r\n        Aggregation mainAggregation = Aggregation.newAggregation(pipeline);\r\n        AggregationResults&lt;StoryDoc&gt; mainResults = mongoTemplate.aggregate(mainAggregation, CollectionNames.STORY, StoryDoc.class);\r\n```\r\n\r\n\r\n\r\nHow can I resolve this &quot;Invalid reference&quot; error for other user stories in subsequent stages?","title":"Spring MongoDB Aggregation: Handling &#39;Invalid Reference&#39; Error with CustomProjectAggregationOperation","body":"<p>I have a group stage shown below, which groups all the documents matching the above stages and creates a group as &quot;userAndFollowingsStory&quot;.</p>\n<pre><code>        GroupOperation groupOperation = Aggregation.group().addToSet(&quot;$$ROOT&quot;).as(&quot;userAndFollowingsStory&quot;);\n        pipeline.add(groupOperation);\n</code></pre>\n<p>After this, I am using a lookup stage with the following pipeline to find all other stories that were not part of that group and create another group as &quot;otherUsersStories&quot;.</p>\n<pre><code>{\n  from: &quot;story_doc&quot;,\n  let: {\n    prevGroupIds: &quot;$userAndFollowingsStory._id&quot;,\n  },\n  pipeline: [\n    {\n      $match: {\n        $expr: {\n          $not: {\n            $in: [&quot;$_id&quot;, &quot;$$prevGroupIds&quot;],\n          },\n        },\n      },\n    },\n  ],\n  as: &quot;otherUsersStories&quot;,\n}\n\n\n CustomProjectAggregationOperation customProjectAggregationOperation = new CustomProjectAggregationOperation(query);\n pipeline.add(customProjectAggregationOperation);\n</code></pre>\n<p>I am trying to implement this stage using the Spring MongoDB library. Since there is no direct way to write it, I am using the <strong>CustomProjectAggregationOperation</strong> class, which looks like this:</p>\n<pre><code>public class CustomProjectAggregationOperation implements AggregationOperation {\n    private String jsonOperation;\n    private String exposedField;\n\n    public CustomProjectAggregationOperation(String jsonOperation) {\n        this.jsonOperation = jsonOperation;\n    }\n\n    @Override\n    public Document toDocument(AggregationOperationContext aggregationOperationContext) {\n        return aggregationOperationContext.getMappedObject(Document.parse(jsonOperation));\n    }\n\n}\n</code></pre>\n<p>The issue I am facing is that for any subsequent stages, it is showing &quot;<strong>Invalid reference</strong>&quot; for &quot;<strong>otherUsersStories</strong>&quot;. For example, the following project stage is giving an invalid reference error:</p>\n<pre><code>        ProjectionOperation projectionOperationConcat =  Aggregation.project()\n                .and(&quot;$userAndFollowingsStory&quot;)\n                .concatArrays(&quot;$otherUsersStories&quot;)\n                .as(&quot;infiniteStories&quot;);\n\n        Aggregation mainAggregation = Aggregation.newAggregation(pipeline);\n        AggregationResults&lt;StoryDoc&gt; mainResults = mongoTemplate.aggregate(mainAggregation, CollectionNames.STORY, StoryDoc.class);\n</code></pre>\n<p>How can I resolve this &quot;Invalid reference&quot; error for other user stories in subsequent stages?</p>\n"},{"tags":["java","hibernate","hql","criteria"],"answers":[{"comments":[{"owner":{"account_id":15075,"reputation":27761,"user_id":31480,"accept_rate":71,"display_name":"Gareth Davis"},"score":0,"creation_date":1239037552,"post_id":720894,"comment_id":534164,"body_markdown":"David is correct on this, you cannot do this with a Criteria you can do it with HSQL","body":"David is correct on this, you cannot do this with a Criteria you can do it with HSQL"},{"owner":{"account_id":1636186,"reputation":1945,"user_id":1509597,"accept_rate":85,"display_name":"Peter Kirby"},"score":1,"creation_date":1402582023,"post_id":720894,"comment_id":37335469,"body_markdown":"Does anyone know if it is still impossible to use criteria queries to join unmapped entities?","body":"Does anyone know if it is still impossible to use criteria queries to join unmapped entities?"},{"owner":{"account_id":2985220,"reputation":5535,"user_id":2534236,"accept_rate":72,"display_name":"Suganthan Madhavan Pillai"},"score":0,"creation_date":1421683069,"post_id":720894,"comment_id":44442266,"body_markdown":"I think it is possible using HQL `with ` clause","body":"I think it is possible using HQL <code>with </code> clause"},{"owner":{"account_id":5215471,"reputation":4961,"user_id":4170582,"accept_rate":91,"display_name":"Tarik"},"score":0,"creation_date":1440187975,"post_id":720894,"comment_id":52186480,"body_markdown":"@Suganthan No it&#39;s not possible, just tested at work as we had similar issue.","body":"@Suganthan No it&#39;s not possible, just tested at work as we had similar issue."},{"owner":{"account_id":5215471,"reputation":4961,"user_id":4170582,"accept_rate":91,"display_name":"Tarik"},"score":0,"creation_date":1440188065,"post_id":720894,"comment_id":52186537,"body_markdown":"@DavidM an upvote because this is clear and correct, and because I really don&#39;t understand why the downvote!","body":"@DavidM an upvote because this is clear and correct, and because I really don&#39;t understand why the downvote!"},{"owner":{"account_id":2985220,"reputation":5535,"user_id":2534236,"accept_rate":72,"display_name":"Suganthan Madhavan Pillai"},"score":0,"creation_date":1440233862,"post_id":720894,"comment_id":52196862,"body_markdown":"@Tarik, its fine, but long back I had a similiar experience where I can able to solve the issue using `with` clause","body":"@Tarik, its fine, but long back I had a similiar experience where I can able to solve the issue using <code>with</code> clause"},{"owner":{"account_id":5215471,"reputation":4961,"user_id":4170582,"accept_rate":91,"display_name":"Tarik"},"score":0,"creation_date":1440256610,"post_id":720894,"comment_id":52203340,"body_markdown":"@Suganthan yes, functionally.  But it still generate a CROSS JOIN... anyway that was long time ago for you to remember :)","body":"@Suganthan yes, functionally.  But it still generate a CROSS JOIN... anyway that was long time ago for you to remember :)"}],"tags":[],"owner":{"account_id":30464,"reputation":71749,"user_id":83109,"accept_rate":100,"display_name":"David M"},"comment_count":7,"down_vote_count":4,"up_vote_count":67,"is_accepted":true,"score":63,"last_activity_date":1239013212,"creation_date":1239013212,"answer_id":720894,"question_id":720502,"body_markdown":"My understanding is that if you do this using HQL, you are creating a Cartesian join with a filter, rather than an inner join. Criteria queries do not support doing this.","title":"Hibernate criteria: Joining table without a mapped association","body":"<p>My understanding is that if you do this using HQL, you are creating a Cartesian join with a filter, rather than an inner join. Criteria queries do not support doing this.</p>\n"},{"comments":[{"owner":{"account_id":3141803,"reputation":823,"user_id":2657121,"accept_rate":27,"display_name":"iPhoneJavaDev"},"score":2,"creation_date":1409734315,"post_id":721070,"comment_id":40061530,"body_markdown":"how to do this? any example?","body":"how to do this? any example?"},{"owner":{"account_id":2163662,"reputation":577,"user_id":1917237,"display_name":"n3k0"},"score":0,"creation_date":1437773341,"post_id":721070,"comment_id":51189437,"body_markdown":"No example or (at least) link provided.","body":"No example or (at least) link provided."},{"owner":{"account_id":5398644,"reputation":1439,"user_id":4299078,"accept_rate":60,"display_name":"AndreyT"},"score":0,"creation_date":1439384258,"post_id":721070,"comment_id":51838870,"body_markdown":"SQLCriterion has protected constructor","body":"SQLCriterion has protected constructor"}],"tags":[],"owner":{"account_id":31324,"reputation":34658,"user_id":85931,"accept_rate":57,"display_name":"tpdi"},"comment_count":3,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1456840001,"creation_date":1239017907,"answer_id":721070,"question_id":720502,"body_markdown":"There&#39;s a `SQLCriterion`, which you can give arbitrary `SQL`, and add to your `Criteria`.  In the `SQL` string, the token {alias} &quot;will be replaced by the alias of the root entity.&quot;","title":"Hibernate criteria: Joining table without a mapped association","body":"<p>There's a <code>SQLCriterion</code>, which you can give arbitrary <code>SQL</code>, and add to your <code>Criteria</code>.  In the <code>SQL</code> string, the token {alias} \"will be replaced by the alias of the root entity.\"</p>\n"},{"tags":[],"owner":{"account_id":13560,"reputation":64070,"user_id":2658202,"accept_rate":92,"display_name":"Stefan Steinegger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1239802823,"creation_date":1239802823,"answer_id":751742,"question_id":720502,"body_markdown":"In NHibernate you can use subqueries which are defined as DetachedCriteria. Not sure if it works the same in Java, most probably it is the same:\r\n\r\n    DetachedCriteria pets = DetachedCriteria.For&lt;Pet&gt;(&quot;pet&quot;)\r\n      .SetProjection(Projections.Property(&quot;pet.ownername&quot;))\r\n      .Add(/* some filters */ );\r\n    \r\n    session.CreateCriteria(typeof(Owner))\r\n      .Add(Subqueries.PropertyIn(&quot;name&quot;, pets);\r\n\r\nAssumed that it is joined using the name of the owner.","title":"Hibernate criteria: Joining table without a mapped association","body":"<p>In NHibernate you can use subqueries which are defined as DetachedCriteria. Not sure if it works the same in Java, most probably it is the same:</p>\n\n<pre><code>DetachedCriteria pets = DetachedCriteria.For&lt;Pet&gt;(\"pet\")\n  .SetProjection(Projections.Property(\"pet.ownername\"))\n  .Add(/* some filters */ );\n\nsession.CreateCriteria(typeof(Owner))\n  .Add(Subqueries.PropertyIn(\"name\", pets);\n</code></pre>\n\n<p>Assumed that it is joined using the name of the owner.</p>\n"},{"comments":[{"owner":{"account_id":127611,"reputation":8775,"user_id":324900,"accept_rate":80,"display_name":"Reddy"},"score":2,"creation_date":1299747871,"post_id":2102080,"comment_id":5920332,"body_markdown":"why there are so many up-votes? It still two different criteria right?","body":"why there are so many up-votes? It still two different criteria right?"},{"owner":{"account_id":30308,"reputation":1330,"user_id":82569,"accept_rate":75,"display_name":"Martin Lazar"},"score":37,"creation_date":1305101585,"post_id":2102080,"comment_id":6875638,"body_markdown":"Problem is this is not a join, but subquery - that means that you can&#39;t order your results by a column from first criteria.","body":"Problem is this is not a join, but subquery - that means that you can&#39;t order your results by a column from first criteria."},{"owner":{"account_id":127611,"reputation":8775,"user_id":324900,"accept_rate":80,"display_name":"Reddy"},"score":1,"creation_date":1310476338,"post_id":2102080,"comment_id":7879631,"body_markdown":"I guess it becomes sub-query instead of a join","body":"I guess it becomes sub-query instead of a join"},{"owner":{"account_id":894309,"reputation":1691,"user_id":931922,"accept_rate":75,"display_name":"Angela"},"score":0,"creation_date":1341893231,"post_id":2102080,"comment_id":15040897,"body_markdown":"I had to do a query between a table and a view and there was no explicit association. This worked fine.","body":"I had to do a query between a table and a view and there was no explicit association. This worked fine."},{"owner":{"account_id":41866,"reputation":1593,"user_id":121816,"accept_rate":77,"display_name":"Trind"},"score":0,"creation_date":1371589647,"post_id":2102080,"comment_id":24875572,"body_markdown":"How do i retrieve the result? Can i get it as List&lt;Owner,List&lt;Pet&gt;&gt; ?","body":"How do i retrieve the result? Can i get it as List&lt;Owner,List&lt;Pet&gt;&gt; ?"},{"owner":{"account_id":272537,"reputation":2753,"user_id":563673,"accept_rate":43,"display_name":"Ankit"},"score":0,"creation_date":1409897283,"post_id":2102080,"comment_id":40132992,"body_markdown":"Agree with Jonas Stensved.","body":"Agree with Jonas Stensved."},{"owner":{"account_id":3550474,"reputation":264,"user_id":2965482,"accept_rate":67,"display_name":"coya"},"score":0,"creation_date":1479866281,"post_id":2102080,"comment_id":68735387,"body_markdown":"I think @Pierre is right, although we should ALL be careful when using detached criterias or subqueries. Sometimes, we only need to join those tables in order to filter the results and not to retrieve the joined entity. Check the question. Fortyrunner asked how to filter owners with restrictions over unmapped relationships, not how to make an inner join.","body":"I think @Pierre is right, although we should ALL be careful when using detached criterias or subqueries. Sometimes, we only need to join those tables in order to filter the results and not to retrieve the joined entity. Check the question. Fortyrunner asked how to filter owners with restrictions over unmapped relationships, not how to make an inner join."},{"owner":{"account_id":1495429,"reputation":169,"user_id":1401493,"accept_rate":75,"display_name":"DBZHOU"},"score":0,"creation_date":1480988997,"post_id":2102080,"comment_id":69182271,"body_markdown":"If owner and pet is mapped in java, are these codes doing join query?","body":"If owner and pet is mapped in java, are these codes doing join query?"}],"tags":[],"owner":{"account_id":89981,"reputation":2879,"user_id":247905,"accept_rate":80,"display_name":"Pierre Pretorius"},"comment_count":8,"down_vote_count":4,"up_vote_count":85,"is_accepted":false,"score":81,"last_activity_date":1356073400,"creation_date":1263998358,"answer_id":2102080,"question_id":720502,"body_markdown":"This is indeed possible with criteria:\r\n\r\n    DetachedCriteria ownerCriteria = DetachedCriteria.forClass(Owner.class);\r\n    ownerCriteria.setProjection(Property.forName(&quot;id&quot;));\r\n    ownerCriteria.add(Restrictions.eq(&quot;ownername&quot;, &quot;bob&quot;));\r\n\r\n    Criteria criteria = getSession().createCriteria(Pet.class);\r\n    criteria.add(Property.forName(&quot;ownerId&quot;).in(ownerCriteria));\r\n\r\n**Update**:  This actually performs a sub-query instead of a join but it allows you to use Criteria on two entities that do not have a hibernate relationship defined.","title":"Hibernate criteria: Joining table without a mapped association","body":"<p>This is indeed possible with criteria:</p>\n\n<pre><code>DetachedCriteria ownerCriteria = DetachedCriteria.forClass(Owner.class);\nownerCriteria.setProjection(Property.forName(\"id\"));\nownerCriteria.add(Restrictions.eq(\"ownername\", \"bob\"));\n\nCriteria criteria = getSession().createCriteria(Pet.class);\ncriteria.add(Property.forName(\"ownerId\").in(ownerCriteria));\n</code></pre>\n\n<p><strong>Update</strong>:  This actually performs a sub-query instead of a join but it allows you to use Criteria on two entities that do not have a hibernate relationship defined.</p>\n"},{"tags":[],"owner":{"account_id":4488035,"reputation":11,"user_id":3649999,"display_name":"javasmith"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432152837,"creation_date":1432152837,"answer_id":30359513,"question_id":720502,"body_markdown":"    \r\n    Criterion ownerCriterion = Restrictions.sqlRestriction(SELECT ownerId FROM   Owner WHERE ownerName =&#39;bob&#39;);\r\n    Criteria criteria = getSession().createCriteria(Pet.class);\r\n    criteria.createCriteria(&quot;ownerId&quot;).add(ownerCriterion);","title":"Hibernate criteria: Joining table without a mapped association","body":"<pre><code>Criterion ownerCriterion = Restrictions.sqlRestriction(SELECT ownerId FROM   Owner WHERE ownerName ='bob');\nCriteria criteria = getSession().createCriteria(Pet.class);\ncriteria.createCriteria(\"ownerId\").add(ownerCriterion);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2186908,"reputation":131,"user_id":1935115,"display_name":"Ali Sohrabi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689764186,"creation_date":1689764186,"answer_id":76720561,"question_id":720502,"body_markdown":"In this time this is possible in following manner:\r\n\r\nI&#39;m using Spring data JPA 2.1.10.\r\nI have two entities:\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    public class TaskManagement {\r\n      private Long id;\r\n      private String title;\r\n      //Some other attributes\r\n    }\r\n\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    public class Tagging {\r\n      private Long id;\r\n      private String name;\r\n      private String taskManagementId;\r\n      //Some other attributes\r\n    }\r\n\r\nTasks can have Some tags. but there isn&#39;t any relation between TaskManagement and Tag entities.\r\n\r\nTo search taskmanagements i used TaskManagementSpecification like this:\r\n\r\n    public class TaskManagementSpecification implements Specification&lt;TaskManagement&gt; {\r\n      private final TaskManagementSearchDto taskManagementSearchDto;\r\n\r\n      @Override\r\n      public Predicate toPredicate(Root&lt;TaskManagement&gt; root, CriteriaQuery&lt;?&gt; criteriaQuery, CriteriaBuilder criteriaBuilder) {\r\n        List&lt;Predicate&gt; andClause = new ArrayList&lt;&gt;();\r\n\r\n        //To Cross join TaskManagement to Tagging that they are unrelated\r\n        if (!CollectionUtils.isEmpty(taskManagementSearchDto.getTagIds())) {\r\n          Root&lt;Tagging&gt; taggingRoot = criteriaQuery.from(Tagging.class);\r\n\r\n          andClause.add(criteriaBuilder.equal(taggingRoot.get(&quot;taskManagementId&quot;), root.get(TaskManagement_.ID)));        \r\n        }\r\n      }\r\n    }\r\n\r\nThe result query is:\r\n\r\n    select foo\r\n    from task_management taskmanage0_\r\n         cross join tagging tagging1_\r\n    where tagging1_.task_mangement_id = taskmanage0_.id","title":"Hibernate criteria: Joining table without a mapped association","body":"<p>In this time this is possible in following manner:</p>\n<p>I'm using Spring data JPA 2.1.10.\nI have two entities:</p>\n<pre><code>@Entity\n@Getter\n@Setter\npublic class TaskManagement {\n  private Long id;\n  private String title;\n  //Some other attributes\n}\n\n\n@Entity\n@Getter\n@Setter\npublic class Tagging {\n  private Long id;\n  private String name;\n  private String taskManagementId;\n  //Some other attributes\n}\n</code></pre>\n<p>Tasks can have Some tags. but there isn't any relation between TaskManagement and Tag entities.</p>\n<p>To search taskmanagements i used TaskManagementSpecification like this:</p>\n<pre><code>public class TaskManagementSpecification implements Specification&lt;TaskManagement&gt; {\n  private final TaskManagementSearchDto taskManagementSearchDto;\n\n  @Override\n  public Predicate toPredicate(Root&lt;TaskManagement&gt; root, CriteriaQuery&lt;?&gt; criteriaQuery, CriteriaBuilder criteriaBuilder) {\n    List&lt;Predicate&gt; andClause = new ArrayList&lt;&gt;();\n\n    //To Cross join TaskManagement to Tagging that they are unrelated\n    if (!CollectionUtils.isEmpty(taskManagementSearchDto.getTagIds())) {\n      Root&lt;Tagging&gt; taggingRoot = criteriaQuery.from(Tagging.class);\n\n      andClause.add(criteriaBuilder.equal(taggingRoot.get(&quot;taskManagementId&quot;), root.get(TaskManagement_.ID)));        \n    }\n  }\n}\n</code></pre>\n<p>The result query is:</p>\n<pre><code>select foo\nfrom task_management taskmanage0_\n     cross join tagging tagging1_\nwhere tagging1_.task_mangement_id = taskmanage0_.id\n</code></pre>\n"}],"owner":{"account_id":19181,"reputation":1963,"user_id":44721,"accept_rate":100,"display_name":"Snukker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99108,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":720894,"answer_count":6,"score":79,"last_activity_date":1689764186,"creation_date":1239003460,"question_id":720502,"body_markdown":"I&#39;d like to use Hibernate&#39;s criteria api to formulate a particular query that joins two entities. Let&#39;s say I have two entities, Pet and Owner with a owner having many pets, but crucially that association is not mapped in the Java annotations or xml.\r\n\r\nWith hql, I could select owners that have a pet called &#39;fido&#39; by specifying the join in the query (rather than adding a set of pets to the owner class).\r\n\r\nCan the same be done using hibernate criteria? If so how?\r\n\r\nThanks,\r\nJ","title":"Hibernate criteria: Joining table without a mapped association","body":"<p>I'd like to use Hibernate's criteria api to formulate a particular query that joins two entities. Let's say I have two entities, Pet and Owner with a owner having many pets, but crucially that association is not mapped in the Java annotations or xml.</p>\n\n<p>With hql, I could select owners that have a pet called 'fido' by specifying the join in the query (rather than adding a set of pets to the owner class).</p>\n\n<p>Can the same be done using hibernate criteria? If so how?</p>\n\n<p>Thanks,\nJ</p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1689764114,"post_id":76720536,"comment_id":135258505,"body_markdown":"The difference is, for example, that the first way won&#39;t work. I suppose you meant `new HashSet&lt;&gt;();`?","body":"The difference is, for example, that the first way won&#39;t work. I suppose you meant <code>new HashSet&lt;&gt;();</code>?"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1689764515,"post_id":76720536,"comment_id":135258587,"body_markdown":"The diamond operator `&lt;&gt;` was added in Java 7 and you should [program to an interface](https://stackoverflow.com/q/383947/2970947). `Set&lt;String&gt; h = new HashSet&lt;&gt;();` and `List&lt;String&gt; l = new LinkedList&lt;&gt;();`","body":"The diamond operator <code>&lt;&gt;</code> was added in Java 7 and you should <a href=\"https://stackoverflow.com/q/383947/2970947\">program to an interface</a>. <code>Set&lt;String&gt; h = new HashSet&lt;&gt;();</code> and <code>List&lt;String&gt; l = new LinkedList&lt;&gt;();</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1689768351,"post_id":76720536,"comment_id":135259436,"body_markdown":"BTW - `HashSet&lt;String&gt; h = new HashSet();` will work, just with a compiler warning &quot;unchecked conversion&quot;","body":"BTW - <code>HashSet&lt;String&gt; h = new HashSet();</code> will work, just with a compiler warning &quot;unchecked conversion&quot;"}],"owner":{"account_id":28733733,"reputation":3,"user_id":22005141,"display_name":"Naman Bajaj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689764106,"answer_count":0,"score":0,"last_activity_date":1689764115,"creation_date":1689764001,"question_id":76720536,"body_markdown":"I have seen plenty of times how when declaring a data structure only round brackets are used while doing the dynamic allocation and many times, we have to include the wrapper class&#39;s name inside the Angle brackets? What&#39;s the major difference in these two declarations?\r\n\r\nE.g.\r\n\r\n    HashSet&lt;String&gt; h = new HashSet();\r\n\r\nand\r\n\r\n    LinkedList&lt;String&gt; l = new LinkedList&lt;String&gt;();","title":"What is the difference when we use &lt;&gt;() or &lt;&#39;Name of a wrapper class&#39;&gt;() and () only when declaring any type of data structure in Java?","body":"<p>I have seen plenty of times how when declaring a data structure only round brackets are used while doing the dynamic allocation and many times, we have to include the wrapper class's name inside the Angle brackets? What's the major difference in these two declarations?</p>\n<p>E.g.</p>\n<pre><code>HashSet&lt;String&gt; h = new HashSet();\n</code></pre>\n<p>and</p>\n<pre><code>LinkedList&lt;String&gt; l = new LinkedList&lt;String&gt;();\n</code></pre>\n"},{"tags":["java","amazon-web-services","cloud"],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688657690,"creation_date":1688657690,"answer_id":76630468,"question_id":76629972,"body_markdown":"Based on your question (it&#39;s not that clear) sounds like you want to deploy a Java app to AWS Cloud. One way is to write a Spring Boot web app and then bundle that project into a FAT JAR that contains all of the depedencies. Then you can use Elastic Beanstalk to deploy the app to the cloud. \r\n\r\nSee this Java Developer example, in the [AWS Code Library][1], to learn how to perform these tasks. This example app is a basic web app that stores submitted data into an Amazon DynamoDB table. This example walks you step by step through the process.\r\n\r\n[Build an application to submit data to a DynamoDB table][2]\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/code-library/latest/ug/what-is-code-library.html\r\n  [2]: https://docs.aws.amazon.com/code-library/latest/ug/dynamodb_example_cross_SubmitDataApp_section.html","title":"Deployment path for deploy java code in AWS","body":"<p>Based on your question (it's not that clear) sounds like you want to deploy a Java app to AWS Cloud. One way is to write a Spring Boot web app and then bundle that project into a FAT JAR that contains all of the depedencies. Then you can use Elastic Beanstalk to deploy the app to the cloud.</p>\n<p>See this Java Developer example, in the <a href=\"https://docs.aws.amazon.com/code-library/latest/ug/what-is-code-library.html\" rel=\"nofollow noreferrer\">AWS Code Library</a>, to learn how to perform these tasks. This example app is a basic web app that stores submitted data into an Amazon DynamoDB table. This example walks you step by step through the process.</p>\n<p><a href=\"https://docs.aws.amazon.com/code-library/latest/ug/dynamodb_example_cross_SubmitDataApp_section.html\" rel=\"nofollow noreferrer\">Build an application to submit data to a DynamoDB table</a></p>\n"},{"tags":[],"owner":{"account_id":28006976,"reputation":67,"user_id":21390211,"display_name":"Yes_ItsMEOW"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689764024,"creation_date":1689764024,"answer_id":76720541,"question_id":76629972,"body_markdown":"To deploy Java .war file on an Apache server running on an EC2 instance, you must utilize a combination of Apache Tomcat (as the application server) and the Apache HTTP Server (as the web server) to deploy a.war file. Follow these steps \r\n\r\n 1. Create an EC2 instance:\r\n - Start an EC2 instance with your choice Linux distribution (for\r\n   example, Amazon Linux, Ubuntu). \r\n   IMP: Check that the EC2 instance&#39;s\r\n   security group enables inbound traffic on ports 22 (SSH), 80 (HTTP),\r\n   and 443 (HTTPS).\r\n\r\n 2. Setup Apache Tomcat:\r\n - Connect to your EC2 instance using SSH from your terminal or an SSH\r\n   client such as PuTTY (Windows users) or use can use AWS cloudshell.\r\n - To Update:\r\n   &#39;**sudo apt update**&#39; (for Ubuntu) or &#39;**sudo yum update**&#39; (for Amazon\r\n   Linux) to update the package list.\r\n - Install Apache Tomcat: \r\n   &#39;**sudo apt install tomcat9**&#39; (for Ubuntu) or &#39;**sudo yum install tomcat**&#39; (for \r\n    Amazon Linux).\r\n - Start Tomcat: \r\n   &#39;**sudo systemctl start tomcat**&#39; (for Ubuntu) or &#39;**sudo service tomcat start**&#39; \r\n   (for Amazon Linux). \r\n - Check the status: \r\n   &#39;sudo systemctl status tomcat&#39; or &#39;sudo service tomcat status&#39;. Make sure \r\n   it&#39;s running correctly.\r\n\r\n 3. Deploy the .war file:\r\n - Copy your .war file to the Tomcat webapps directory. Assuming your .war file \r\n   is named &quot;myapp.war&quot; and Tomcat 9 is installed, use the following \r\n   command:\r\n\r\n   ` sudo cp /path/to/myapp.war /var/lib/tomcat9/webapps/`\r\n\r\n 4. Restart Apache Tomcat:\r\n - After copying the .war file, restart Tomcat to deploy the application:\r\n\r\n    `sudo systemctl restart tomcat`\r\n\r\n 5. Configure Apache HTTP Server as a Reverse Proxy (Optional):\r\n - If you want to access your application via a domain name and port 80 (HTTP), \r\n  you can set up Apache HTTP Server as a reverse proxy. This allows you to use \r\n  Apache as a frontend while forwarding requests to Tomcat in the backend.\r\n - Install Apache HTTP Server: &#39;**sudo apt install apache2**&#39; (for Ubuntu) or \r\n   &#39;**sudo yum install httpd**&#39; (for Amazon Linux).\r\n - Enable the necessary modules: &#39;**sudo a2enmod proxy proxy_http**&#39;.\r\n - Create a virtual host configuration for your domain name. For example, \r\n   create a file named myapp.conf in the &#39;/etc/apache2/sites-available/&#39; \r\n   directory for Ubuntu:\r\n\r\n```\r\n&lt;VirtualHost *:80&gt;\r\n    ServerName your_domain.com\r\n    ProxyPass / http://localhost:8080/\r\n    ProxyPassReverse / http://localhost:8080/\r\n&lt;/VirtualHost&gt;\r\n```\r\n - For Amazon Linux, you can create a similar configuration in the &#39;/etc/httpd/conf.d/&#39; directory.\r\n - Enable the virtual host: sudo a2ensite myapp (for Ubuntu) or sudo systemctl restart httpd (for Amazon Linux).\r\n\r\n6. Access the Application:\r\n - If you set up the Apache HTTP Server as a reverse proxy, you can now access your application using your domain name (e.g., **http://your_domain.com**).\r\n - If you didn&#39;t set up Apache HTTP Server, you can access the application directly using the Tomcat server&#39;s public IP address and port 8080 (e.g., **http://your_ec2_public_ip:8080/myapp**).\r\n\r\nYour .war file should now be deployed and accessible through either the Apache HTTP Server or directly via Tomcat, depending on your configuration choices.\r\n\r\n\r\nHope this solution Helps.\r\n\r\n\r\n","title":"Deployment path for deploy java code in AWS","body":"<p>To deploy Java .war file on an Apache server running on an EC2 instance, you must utilize a combination of Apache Tomcat (as the application server) and the Apache HTTP Server (as the web server) to deploy a.war file. Follow these steps</p>\n<ol>\n<li>Create an EC2 instance:</li>\n</ol>\n<ul>\n<li>Start an EC2 instance with your choice Linux distribution (for\nexample, Amazon Linux, Ubuntu).\nIMP: Check that the EC2 instance's\nsecurity group enables inbound traffic on ports 22 (SSH), 80 (HTTP),\nand 443 (HTTPS).</li>\n</ul>\n<ol start=\"2\">\n<li>Setup Apache Tomcat:</li>\n</ol>\n<ul>\n<li>Connect to your EC2 instance using SSH from your terminal or an SSH\nclient such as PuTTY (Windows users) or use can use AWS cloudshell.</li>\n<li>To Update:\n'<strong>sudo apt update</strong>' (for Ubuntu) or '<strong>sudo yum update</strong>' (for Amazon\nLinux) to update the package list.</li>\n<li>Install Apache Tomcat:\n'<strong>sudo apt install tomcat9</strong>' (for Ubuntu) or '<strong>sudo yum install tomcat</strong>' (for\nAmazon Linux).</li>\n<li>Start Tomcat:\n'<strong>sudo systemctl start tomcat</strong>' (for Ubuntu) or '<strong>sudo service tomcat start</strong>'\n(for Amazon Linux).</li>\n<li>Check the status:\n'sudo systemctl status tomcat' or 'sudo service tomcat status'. Make sure\nit's running correctly.</li>\n</ul>\n<ol start=\"3\">\n<li>Deploy the .war file:</li>\n</ol>\n<ul>\n<li><p>Copy your .war file to the Tomcat webapps directory. Assuming your .war file\nis named &quot;myapp.war&quot; and Tomcat 9 is installed, use the following\ncommand:</p>\n<p><code> sudo cp /path/to/myapp.war /var/lib/tomcat9/webapps/</code></p>\n</li>\n</ul>\n<ol start=\"4\">\n<li>Restart Apache Tomcat:</li>\n</ol>\n<ul>\n<li><p>After copying the .war file, restart Tomcat to deploy the application:</p>\n<p><code>sudo systemctl restart tomcat</code></p>\n</li>\n</ul>\n<ol start=\"5\">\n<li>Configure Apache HTTP Server as a Reverse Proxy (Optional):</li>\n</ol>\n<ul>\n<li>If you want to access your application via a domain name and port 80 (HTTP),\nyou can set up Apache HTTP Server as a reverse proxy. This allows you to use\nApache as a frontend while forwarding requests to Tomcat in the backend.</li>\n<li>Install Apache HTTP Server: '<strong>sudo apt install apache2</strong>' (for Ubuntu) or\n'<strong>sudo yum install httpd</strong>' (for Amazon Linux).</li>\n<li>Enable the necessary modules: '<strong>sudo a2enmod proxy proxy_http</strong>'.</li>\n<li>Create a virtual host configuration for your domain name. For example,\ncreate a file named myapp.conf in the '/etc/apache2/sites-available/'\ndirectory for Ubuntu:</li>\n</ul>\n<pre><code>&lt;VirtualHost *:80&gt;\n    ServerName your_domain.com\n    ProxyPass / http://localhost:8080/\n    ProxyPassReverse / http://localhost:8080/\n&lt;/VirtualHost&gt;\n</code></pre>\n<ul>\n<li>For Amazon Linux, you can create a similar configuration in the '/etc/httpd/conf.d/' directory.</li>\n<li>Enable the virtual host: sudo a2ensite myapp (for Ubuntu) or sudo systemctl restart httpd (for Amazon Linux).</li>\n</ul>\n<ol start=\"6\">\n<li>Access the Application:</li>\n</ol>\n<ul>\n<li>If you set up the Apache HTTP Server as a reverse proxy, you can now access your application using your domain name (e.g., <strong>http://your_domain.com</strong>).</li>\n<li>If you didn't set up Apache HTTP Server, you can access the application directly using the Tomcat server's public IP address and port 8080 (e.g., <strong>http://your_ec2_public_ip:8080/myapp</strong>).</li>\n</ul>\n<p>Your .war file should now be deployed and accessible through either the Apache HTTP Server or directly via Tomcat, depending on your configuration choices.</p>\n<p>Hope this solution Helps.</p>\n"}],"owner":{"account_id":1013123,"reputation":21,"user_id":1025268,"display_name":"Jp Javiya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76720541,"answer_count":2,"score":-1,"last_activity_date":1689764024,"creation_date":1688654258,"question_id":76629972,"body_markdown":" i want to know ,\r\ngenerally in which scenario we directly create AWS cloud instance by directly uploading java war file \r\nand in which scenario we  first setup and ready server first , by installing all softwares like java,tomkat and then deploy code  in AWS ","title":"Deployment path for deploy java code in AWS","body":"<p>i want to know ,\ngenerally in which scenario we directly create AWS cloud instance by directly uploading java war file\nand in which scenario we  first setup and ready server first , by installing all softwares like java,tomkat and then deploy code  in AWS</p>\n"},{"tags":["java","keycloak","keycloak-rest-api"],"answers":[{"tags":[],"owner":{"account_id":2122306,"reputation":146,"user_id":2005195,"display_name":"AmirRazoR"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689764014,"creation_date":1689764014,"answer_id":76720539,"question_id":74642290,"body_markdown":"There must be a problem with your jar not finding `org.json` library.\r\n\r\nTo check if it is there do the command:\r\n\r\n`jar tf your-jar-file.jar | grep &quot;org.json&quot;`\r\n\r\nIf you are using powershell use \r\n\r\n`jar tf your-jar-file.jar | Select-String &quot;org.json&quot;`\r\n\r\nIf it returns nothing, then the library is not added to the jar file. \r\n\r\nWhat worked for me was to create a fat JAR using the `Maven Shade plugin` like this:\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;filters&gt;\r\n                                &lt;filter&gt;\r\n                                    &lt;!-- Do not copy the signatures in the META-INF \r\n                                      folder.\r\n                                    Otherwise, this might cause SecurityExceptions \r\n                                      when using the JAR. --&gt;\r\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                    &lt;excludes&gt;\r\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                                    &lt;/excludes&gt;\r\n                                &lt;/filter&gt;\r\n                            &lt;/filters&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;","title":"Keycloak adding external SPI with Maven [org.keycloak.services.error.KeycloakErrorHandler] java.lang.NoClassDefFoundError: org/json/JSONException","body":"<p>There must be a problem with your jar not finding <code>org.json</code> library.</p>\n<p>To check if it is there do the command:</p>\n<p><code>jar tf your-jar-file.jar | grep &quot;org.json&quot;</code></p>\n<p>If you are using powershell use</p>\n<p><code>jar tf your-jar-file.jar | Select-String &quot;org.json&quot;</code></p>\n<p>If it returns nothing, then the library is not added to the jar file.</p>\n<p>What worked for me was to create a fat JAR using the <code>Maven Shade plugin</code> like this:</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.4&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;filters&gt;\n                            &lt;filter&gt;\n                                &lt;!-- Do not copy the signatures in the META-INF \n                                  folder.\n                                Otherwise, this might cause SecurityExceptions \n                                  when using the JAR. --&gt;\n                                &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                &lt;excludes&gt;\n                                    &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                    &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                    &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                                &lt;/excludes&gt;\n                            &lt;/filter&gt;\n                        &lt;/filters&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":18999689,"reputation":197,"user_id":13957731,"display_name":"GurbaniX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689764014,"creation_date":1669899664,"question_id":74642290,"body_markdown":"I build and package the project with maven for adding external SPI to Keycloak:\r\n\r\nhttps://github.com/dasniko/keycloak-2fa-sms-authenticator\r\n\r\nI changed SNS to other API.But KC gives a following problem:\r\n\r\n    12:50:07,497 ERROR [org.keycloak.services.error.KeycloakErrorHandler] (default task-1) Uncaught server error: java.lang.NoClassDefFoundError: org/json/JSONException\r\n\r\n\r\nHowever I added org.json dependecy to my pom.xml while builded jar file.\r\n\r\nThis is my pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;dasniko&lt;/groupId&gt;\r\n      &lt;artifactId&gt;keycloak-2fa-sms-authenticator&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;build&gt;\r\n        &lt;finalName&gt;${project.groupId}.${project.artifactId}&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven.compiler.version}&lt;/version&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven.shade.version}&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;shade&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;artifactSet&gt;\r\n                    &lt;includes&gt;\r\n                      &lt;include&gt;software.amazon.awssdk:*&lt;/include&gt;\r\n                      &lt;include&gt;org.reactivestreams:reactive-streams&lt;/include&gt;\r\n                      &lt;include&gt;org.json&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                  &lt;/artifactSet&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n          &lt;artifactId&gt;keycloak-server-spi&lt;/artifactId&gt;\r\n          &lt;version&gt;20.0.0&lt;/version&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n          &lt;artifactId&gt;keycloak-server-spi-private&lt;/artifactId&gt;\r\n          &lt;version&gt;20.0.0&lt;/version&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n          &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n          &lt;version&gt;20080701&lt;/version&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n          &lt;artifactId&gt;keycloak-services&lt;/artifactId&gt;\r\n          &lt;version&gt;20.0.0&lt;/version&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n      &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.dasniko&lt;/groupId&gt;\r\n            &lt;artifactId&gt;keycloak-spi-bom&lt;/artifactId&gt;\r\n            &lt;version&gt;${keycloak.version}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n      &lt;properties&gt;\r\n        &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n        &lt;aws.version&gt;2.18.6&lt;/aws.version&gt;\r\n        &lt;maven.compiler.version&gt;3.10.1&lt;/maven.compiler.version&gt;\r\n        &lt;maven.shade.version&gt;3.2.4&lt;/maven.shade.version&gt;\r\n        &lt;keycloak.version&gt;20.0.0&lt;/keycloak.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n      &lt;/properties&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nWhat can be resolve such an issue ?","title":"Keycloak adding external SPI with Maven [org.keycloak.services.error.KeycloakErrorHandler] java.lang.NoClassDefFoundError: org/json/JSONException","body":"<p>I build and package the project with maven for adding external SPI to Keycloak:</p>\n<p><a href=\"https://github.com/dasniko/keycloak-2fa-sms-authenticator\" rel=\"nofollow noreferrer\">https://github.com/dasniko/keycloak-2fa-sms-authenticator</a></p>\n<p>I changed SNS to other API.But KC gives a following problem:</p>\n<pre><code>12:50:07,497 ERROR [org.keycloak.services.error.KeycloakErrorHandler] (default task-1) Uncaught server error: java.lang.NoClassDefFoundError: org/json/JSONException\n</code></pre>\n<p>However I added org.json dependecy to my pom.xml while builded jar file.</p>\n<p>This is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;dasniko&lt;/groupId&gt;\n  &lt;artifactId&gt;keycloak-2fa-sms-authenticator&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;build&gt;\n    &lt;finalName&gt;${project.groupId}.${project.artifactId}&lt;/finalName&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven.compiler.version}&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven.shade.version}&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;artifactSet&gt;\n                &lt;includes&gt;\n                  &lt;include&gt;software.amazon.awssdk:*&lt;/include&gt;\n                  &lt;include&gt;org.reactivestreams:reactive-streams&lt;/include&gt;\n                  &lt;include&gt;org.json&lt;/include&gt;\n                &lt;/includes&gt;\n              &lt;/artifactSet&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n      &lt;artifactId&gt;keycloak-server-spi&lt;/artifactId&gt;\n      &lt;version&gt;20.0.0&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n      &lt;artifactId&gt;keycloak-server-spi-private&lt;/artifactId&gt;\n      &lt;version&gt;20.0.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.json&lt;/groupId&gt;\n      &lt;artifactId&gt;json&lt;/artifactId&gt;\n      &lt;version&gt;20080701&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n      &lt;artifactId&gt;keycloak-services&lt;/artifactId&gt;\n      &lt;version&gt;20.0.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.github.dasniko&lt;/groupId&gt;\n        &lt;artifactId&gt;keycloak-spi-bom&lt;/artifactId&gt;\n        &lt;version&gt;${keycloak.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n  &lt;properties&gt;\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n    &lt;aws.version&gt;2.18.6&lt;/aws.version&gt;\n    &lt;maven.compiler.version&gt;3.10.1&lt;/maven.compiler.version&gt;\n    &lt;maven.shade.version&gt;3.2.4&lt;/maven.shade.version&gt;\n    &lt;keycloak.version&gt;20.0.0&lt;/keycloak.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n<p>What can be resolve such an issue ?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7867,"page":301,"page_size":100}
