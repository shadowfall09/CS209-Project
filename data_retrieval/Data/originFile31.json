{"items":[{"tags":["java","c++","language-lawyer","comparator"],"comments":[{"owner":{"account_id":13217925,"reputation":5499,"user_id":14401160,"display_name":"STerliakov"},"score":1,"creation_date":1701215053,"post_id":77567739,"comment_id":136747378,"body_markdown":"Consider adding language tag and providing code samples in the languages you have in mind. However, I believe that this question is pretty clear considering `std::priority_queue`, passing comparator that uses some vector `a`, and populating it as you explained. Fifth tag (very important here) might be [tag:language-lawyer], while [tag:contract] is almost certainly irrelevant.","body":"Consider adding language tag and providing code samples in the languages you have in mind. However, I believe that this question is pretty clear considering <code>std::priority_queue</code>, passing comparator that uses some vector <code>a</code>, and populating it as you explained. Fifth tag (very important here) might be <a href=\"https://stackoverflow.com/questions/tagged/language-lawyer\">language-lawyer</a>, while <a href=\"https://stackoverflow.com/questions/tagged/contract\">contract</a> is almost certainly irrelevant."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1701217492,"post_id":77567739,"comment_id":136747593,"body_markdown":"I think immutability is implied by the Comparator [contract](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#compare-T-T-). If it returns inconsistent results over time, none of its invariants will hold up.","body":"I think immutability is implied by the Comparator <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#compare-T-T-\" rel=\"nofollow noreferrer\">contract</a>. If it returns inconsistent results over time, none of its invariants will hold up."},{"owner":{"account_id":3538580,"reputation":248,"user_id":15072863,"display_name":"Dmitry"},"score":0,"creation_date":1701218711,"post_id":77567739,"comment_id":136747692,"body_markdown":"@shmosel, I don&#39;t think the contract implies immutability. My understanding is that all of the expressions in the link must evaluate to true, e.g. `sgn(compare(x, y)) == -sgn(compare(y, x))` must evaluate to true at any point. This requirement holds.","body":"@shmosel, I don&#39;t think the contract implies immutability. My understanding is that all of the expressions in the link must evaluate to true, e.g. <code>sgn(compare(x, y)) == -sgn(compare(y, x))</code> must evaluate to true at any point. This requirement holds."},{"owner":{"account_id":3538580,"reputation":248,"user_id":15072863,"display_name":"Dmitry"},"score":0,"creation_date":1701219179,"post_id":77567739,"comment_id":136747737,"body_markdown":"@shmosel, although there is that note &quot;This implies that compare(x, y) must throw an exception if and only if compare(y, x) throws an exception&quot;, so I&#39;m less than confident that I understand what precisely the documentation says.","body":"@shmosel, although there is that note &quot;This implies that compare(x, y) must throw an exception if and only if compare(y, x) throws an exception&quot;, so I&#39;m less than confident that I understand what precisely the documentation says."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1701219445,"post_id":77567739,"comment_id":136747759,"body_markdown":"I guess I would say it&#39;s time-agnostic. A comparator is valid for any given window if its contract holds during that window. If you&#39;re looking at a single point in time, it may be valid for that moment. But if you&#39;re going to use it over some period of time, you need to respect the contract for that duration.","body":"I guess I would say it&#39;s time-agnostic. A comparator is valid for any given window if its contract holds during that window. If you&#39;re looking at a single point in time, it may be valid for that moment. But if you&#39;re going to use it over some period of time, you need to respect the contract for that duration."}],"answers":[{"comments":[{"owner":{"account_id":3538580,"reputation":248,"user_id":15072863,"display_name":"Dmitry"},"score":0,"creation_date":1701228495,"post_id":77568281,"comment_id":136748600,"body_markdown":"Thank you! I think I don&#39;t understand last two paragraphs. 1) Where is messing with ordering disallowed (if it&#39;s mentioned at https://en.cppreference.com/w/cpp/container/map, I didn&#39;t understand that)? 2) For container adapters, I guess you refer too priority queue vs vector. What&#39;s do you mean by saying that vector is strange?","body":"Thank you! I think I don&#39;t understand last two paragraphs. 1) Where is messing with ordering disallowed (if it&#39;s mentioned at <a href=\"https://en.cppreference.com/w/cpp/container/map\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/container/map</a>, I didn&#39;t understand that)? 2) For container adapters, I guess you refer too priority queue vs vector. What&#39;s do you mean by saying that vector is strange?"},{"owner":{"account_id":5311197,"reputation":33278,"user_id":5754656,"accept_rate":78,"display_name":"Artyer"},"score":1,"creation_date":1701247489,"post_id":77568281,"comment_id":136750727,"body_markdown":"@Dmitry For your question (1) I don&#39;t know if it says it on cppreference, but here it is in the standard: [[associative.reqmts.general\\]p3](https://wg21.link/associative.reqmts.general#3.sentence-4)","body":"@Dmitry For your question (1) I don&#39;t know if it says it on cppreference, but here it is in the standard: <a href=\"https://wg21.link/associative.reqmts.general#3.sentence-4\" rel=\"nofollow noreferrer\">[associative.reqmts.general&#93;p3</a>"},{"owner":{"account_id":1977123,"reputation":265047,"user_id":1774667,"accept_rate":39,"display_name":"Yakk - Adam Nevraumont"},"score":1,"creation_date":1701269695,"post_id":77568281,"comment_id":136755042,"body_markdown":"@Dmitry cppreference is not the standard, and does not in any way define what C++ is.  It is an easy to read reference manual maintained as a wiki.","body":"@Dmitry cppreference is not the standard, and does not in any way define what C++ is.  It is an easy to read reference manual maintained as a wiki."},{"owner":{"account_id":1977123,"reputation":265047,"user_id":1774667,"accept_rate":39,"display_name":"Yakk - Adam Nevraumont"},"score":1,"creation_date":1701269866,"post_id":77568281,"comment_id":136755079,"body_markdown":"@Dmitry So, the STL was a library added to the std library way back when C++ didn&#39;t exist yet.  During development of C++, templates where added to C, and people experimented with them.  A bunch of template libraries deemed high quality where bundled up into a library known as STL (standard template library).  The C++ standard then incorporated them into std, along side other features.  The 4 parts where containers, algorithms, std::string and container adapters.  Container adapters are templates that wrap a container and give it a different API.  priority_queue is a container adapter.","body":"@Dmitry So, the STL was a library added to the std library way back when C++ didn&#39;t exist yet.  During development of C++, templates where added to C, and people experimented with them.  A bunch of template libraries deemed high quality where bundled up into a library known as STL (standard template library).  The C++ standard then incorporated them into std, along side other features.  The 4 parts where containers, algorithms, std::string and container adapters.  Container adapters are templates that wrap a container and give it a different API.  priority_queue is a container adapter."},{"owner":{"account_id":1977123,"reputation":265047,"user_id":1774667,"accept_rate":39,"display_name":"Yakk - Adam Nevraumont"},"score":1,"creation_date":1701269983,"post_id":77568281,"comment_id":136755102,"body_markdown":"@Dmitry It takes as one of its arguments what underlying container it uses for storage.  The standard then defines how it repurposes that storage to produce the effects of the API.  The default container of std::priority_queue container adapter is a std::vector; but, if you wrote my::fancy_container, you could use that instead (if it satisfies the requirements of priority queue, which the standard describes).  The container adapters are often described far more concretely than containers are.","body":"@Dmitry It takes as one of its arguments what underlying container it uses for storage.  The standard then defines how it repurposes that storage to produce the effects of the API.  The default container of std::priority_queue container adapter is a std::vector; but, if you wrote my::fancy_container, you could use that instead (if it satisfies the requirements of priority queue, which the standard describes).  The container adapters are often described far more concretely than containers are."}],"tags":[],"owner":{"account_id":1977123,"reputation":265047,"user_id":1774667,"accept_rate":39,"display_name":"Yakk - Adam Nevraumont"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701225616,"creation_date":1701225616,"answer_id":77568281,"question_id":77567739,"body_markdown":"For [tag:C++], the operations of `std::priority_queue` are defined in terms of `std::make_heap`, `std::push_heap`, `std::pop_heap`.  See basically all of [priority.queue] 24.6.7.\r\n\r\nThe comparison you provide must be a strict weak ordering (in the mathematical sense); if it breaks said ordering, it isn&#39;t a valid strict weak ordering.\r\n\r\npush/pop in turn specifies that the range it is operating on is a valid heap (with an extra element for push) with respect to that strict weak ordering.\r\n\r\nAs an example, [push.heap] 27.8.8.2/2 says the preconditions for `push_heap` are:\r\n\r\n&gt; **Preconditions**: The range `[first, last - 1)` is a valid heap with respect to `comp` and `proj`.\r\nFor the overloads in namespace `std`, `RandomAccessIterator` meets the *Cpp17ValueSwappable* requirements ([swappable.requirements]) and the type of \\*first meets the *Cpp17MoveConstructible* requirements (Table 31) and the *Cpp17MoveAssignable* requirements (Table 33).\r\n\r\nSo if you make the container not be a valid heap by modifying the elements mid-way through using a priority queue, you violate the preconditions of push/pop, and the C++ standard does not constrain the behavior of the program anymore.  (Undefined behavior escape clause!)\r\n\r\nIf you modify the elements in such a way that the container still contains a valid heap, but one that is utterly different than the heap it was on the last time you interacted with it, you are 100% ok.\r\n\r\nThis is different than how `std::map`/`set` and `std::unordered_map`/`set` are defined, where it explicitly disallows messing with the ordering.\r\n\r\nContainer adapters in C++ are a bit strange.  It does mean they can be wrapped around your own utterly strange container and nothing strange happens.\r\n","title":"Reference: Invariant for comparators in collections","body":"<p>For <a href=\"/questions/tagged/c%2b%2b\" class=\"post-tag\" title=\"show questions tagged &#39;c++&#39;\" aria-label=\"show questions tagged &#39;c++&#39;\" rel=\"tag\" aria-labelledby=\"tag-c++-tooltip-container\">c++</a>, the operations of <code>std::priority_queue</code> are defined in terms of <code>std::make_heap</code>, <code>std::push_heap</code>, <code>std::pop_heap</code>.  See basically all of [priority.queue] 24.6.7.</p>\n<p>The comparison you provide must be a strict weak ordering (in the mathematical sense); if it breaks said ordering, it isn't a valid strict weak ordering.</p>\n<p>push/pop in turn specifies that the range it is operating on is a valid heap (with an extra element for push) with respect to that strict weak ordering.</p>\n<p>As an example, [push.heap] 27.8.8.2/2 says the preconditions for <code>push_heap</code> are:</p>\n<blockquote>\n<p><strong>Preconditions</strong>: The range <code>[first, last - 1)</code> is a valid heap with respect to <code>comp</code> and <code>proj</code>.\nFor the overloads in namespace <code>std</code>, <code>RandomAccessIterator</code> meets the <em>Cpp17ValueSwappable</em> requirements ([swappable.requirements]) and the type of *first meets the <em>Cpp17MoveConstructible</em> requirements (Table 31) and the <em>Cpp17MoveAssignable</em> requirements (Table 33).</p>\n</blockquote>\n<p>So if you make the container not be a valid heap by modifying the elements mid-way through using a priority queue, you violate the preconditions of push/pop, and the C++ standard does not constrain the behavior of the program anymore.  (Undefined behavior escape clause!)</p>\n<p>If you modify the elements in such a way that the container still contains a valid heap, but one that is utterly different than the heap it was on the last time you interacted with it, you are 100% ok.</p>\n<p>This is different than how <code>std::map</code>/<code>set</code> and <code>std::unordered_map</code>/<code>set</code> are defined, where it explicitly disallows messing with the ordering.</p>\n<p>Container adapters in C++ are a bit strange.  It does mean they can be wrapped around your own utterly strange container and nothing strange happens.</p>\n"}],"owner":{"account_id":3538580,"reputation":248,"user_id":15072863,"display_name":"Dmitry"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77568281,"answer_count":1,"score":0,"last_activity_date":1701225616,"creation_date":1701213923,"question_id":77567739,"body_markdown":"Consider the following Java example:\r\n\r\n```\r\nint[] a = new int[]{1, 2};\r\nPriorityQueue&lt;Integer&gt; pq = new PriorityQueue&lt;Integer&gt;(Comparator.comparingInt(i -&gt; a[i]));\r\npq.add(0);\r\npq.add(1);\r\na[1] = 0;\r\nSystem.out.println(pq.peek()); // Prints 0\r\n```\r\n\r\nSo, we insert elements into the queue, and then change the result of their comparison (initially `0` is less than `1`, and after `a[1] = 0` we have that `1` is less than `0`).\r\nAs I understand, in this case the behavior of the priority queue is unspecified (this is a typical mistake in implementation of the Dijkstra&#39;s algorithm).\r\nI say that the following invariant (contract?) is violated:\r\n\r\n&gt; If `x` and `y` are in the priority queue, then the result of their comparison must remain unchanged until one of these elements is removed from the priority queue.\r\n\r\nWhat concerns me is that I can&#39;t find any mention of this in either C++ or Java documentation.\r\nI guess both documentations assume that comparators are &quot;immutable&quot;, i.e. the result of comparison of `x` and `y` never changes.\r\n&quot;Immutable&quot; comparators are certainly a good practice (although I also didn&#39;t find any mention of that in the documentation), but not what happens in the above example.\r\n\r\nI request a reference to either C++ or Java documentation which discusses the issue. I expect documentation to specify all the requirements to guarantee that the data structures works correctly, so it is very weird that I can&#39;t find this one. To conform with the SO expectations (namely that the answer still remains valid after the link dies), I think it also makes sense to paste the text from the link into the answer.","title":"Reference: Invariant for comparators in collections","body":"<p>Consider the following Java example:</p>\n<pre><code>int[] a = new int[]{1, 2};\nPriorityQueue&lt;Integer&gt; pq = new PriorityQueue&lt;Integer&gt;(Comparator.comparingInt(i -&gt; a[i]));\npq.add(0);\npq.add(1);\na[1] = 0;\nSystem.out.println(pq.peek()); // Prints 0\n</code></pre>\n<p>So, we insert elements into the queue, and then change the result of their comparison (initially <code>0</code> is less than <code>1</code>, and after <code>a[1] = 0</code> we have that <code>1</code> is less than <code>0</code>).\nAs I understand, in this case the behavior of the priority queue is unspecified (this is a typical mistake in implementation of the Dijkstra's algorithm).\nI say that the following invariant (contract?) is violated:</p>\n<blockquote>\n<p>If <code>x</code> and <code>y</code> are in the priority queue, then the result of their comparison must remain unchanged until one of these elements is removed from the priority queue.</p>\n</blockquote>\n<p>What concerns me is that I can't find any mention of this in either C++ or Java documentation.\nI guess both documentations assume that comparators are &quot;immutable&quot;, i.e. the result of comparison of <code>x</code> and <code>y</code> never changes.\n&quot;Immutable&quot; comparators are certainly a good practice (although I also didn't find any mention of that in the documentation), but not what happens in the above example.</p>\n<p>I request a reference to either C++ or Java documentation which discusses the issue. I expect documentation to specify all the requirements to guarantee that the data structures works correctly, so it is very weird that I can't find this one. To conform with the SO expectations (namely that the answer still remains valid after the link dies), I think it also makes sense to paste the text from the link into the answer.</p>\n"},{"tags":["java","android","android-studio","gradle","mpandroidchart"],"answers":[{"tags":[],"owner":{"account_id":18682087,"reputation":461,"user_id":13618407,"display_name":"stic-lab"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1639306607,"creation_date":1639306607,"answer_id":70322913,"question_id":70322414,"body_markdown":"I have solved this issue by following the instruction post in the [Github issues][1] for this project\r\nTo solve this, you need just to add the bellow code in your settings.gradle\r\n\r\n```gradle\r\ndependencyResolutionManagement {\r\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        jcenter() // Warning: this repository is going to shut down soon\r\n        maven { url &#39;https://jitpack.io&#39; } //Add this line in your settings.gradle\r\n    }\r\n}\r\n```\r\n\r\nAnd also don&#39;t forget to implement the library in you build.gradle (app level)\r\n```gradle\r\ndependencies {\r\n    implementation &#39;com.github.PhilJay:MPAndroidChart:v3.1.0&#39;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/PhilJay/MPAndroidChart/issues/1918","title":"MPAndroidChart v3.1.0 Could not find on github","body":"<p>I have solved this issue by following the instruction post in the <a href=\"https://github.com/PhilJay/MPAndroidChart/issues/1918\" rel=\"noreferrer\">Github issues</a> for this project\nTo solve this, you need just to add the bellow code in your settings.gradle</p>\n<pre><code>dependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n        jcenter() // Warning: this repository is going to shut down soon\n        maven { url 'https://jitpack.io' } //Add this line in your settings.gradle\n    }\n}\n</code></pre>\n<p>And also don't forget to implement the library in you build.gradle (app level)</p>\n<pre><code>dependencies {\n    implementation 'com.github.PhilJay:MPAndroidChart:v3.1.0'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20426340,"reputation":91,"user_id":14986261,"display_name":"nmahnic"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641946521,"creation_date":1641946521,"answer_id":70674926,"question_id":70322414,"body_markdown":"As crazy4dev says\r\n\r\nI also have to add \r\n\r\nbuild.gradle (Project)\r\n```\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        maven { url &#39;https://jitpack.io&#39; }\r\n    }\r\n    dependencies {\r\n        classpath &quot;com.android.tools.build:gradle:7.0.4&quot;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.6.10&quot;\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n\r\nbuild.gradle (Module)\r\n```\r\ndependencies {\r\n\r\n    implementation &#39;androidx.core:core-ktx:1.7.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.2&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    testImplementation &#39;junit:junit:4.+&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n\r\n    // MPAndroidChart\r\n    implementation &#39;com.github.PhilJay:MPAndroidChart:v3.1.0&#39;\r\n}\r\n```\r\n \r\nFinaly \r\nsettings.gradle\r\n```\r\nimport org.gradle.api.initialization.resolve.RepositoriesMode\r\n\r\ndependencyResolutionManagement {\r\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        jcenter() // Warning: this repository is going to shut down soon\r\n        maven { url &#39;https://jitpack.io&#39; } //Add this line in your settings.gradle\r\n    }\r\n}\r\nrootProject.name = &quot;AppName&quot;\r\ninclude &#39;:app&#39;\r\n\r\n```","title":"MPAndroidChart v3.1.0 Could not find on github","body":"<p>As crazy4dev says</p>\n<p>I also have to add</p>\n<p>build.gradle (Project)</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\n    repositories {\n        google()\n        mavenCentral()\n        maven { url 'https://jitpack.io' }\n    }\n    dependencies {\n        classpath &quot;com.android.tools.build:gradle:7.0.4&quot;\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.6.10&quot;\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>build.gradle (Module)</p>\n<pre><code>dependencies {\n\n    implementation 'androidx.core:core-ktx:1.7.0'\n    implementation 'androidx.appcompat:appcompat:1.4.0'\n    implementation 'com.google.android.material:material:1.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.2'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n\n    // MPAndroidChart\n    implementation 'com.github.PhilJay:MPAndroidChart:v3.1.0'\n}\n</code></pre>\n<p>Finaly\nsettings.gradle</p>\n<pre><code>import org.gradle.api.initialization.resolve.RepositoriesMode\n\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n        jcenter() // Warning: this repository is going to shut down soon\n        maven { url 'https://jitpack.io' } //Add this line in your settings.gradle\n    }\n}\nrootProject.name = &quot;AppName&quot;\ninclude ':app'\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23324168,"reputation":1,"user_id":17401577,"display_name":"Eeman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699775382,"creation_date":1699765766,"answer_id":77467797,"question_id":70322414,"body_markdown":"**Tip for Kotlin DSL users.**\r\n\r\n\r\n&gt; If you&#39;re using **Kotlin DSL** in your build.gradle.kts and trying to\r\n&gt; add the JitPack repository, ensure that you use the proper syntax. In\r\n&gt; **Kotlin DSL**, use:\r\n\r\n\r\n    maven { url = uri(&quot;https://jitpack.io&quot;) }\r\n\r\nInstead of the Groovy syntax:\r\n\r\n\r\n    maven { url &#39;https://jitpack.io&#39; }\r\n\r\nUsing the Groovy syntax in Kotlin DSL may lead to Gradle Sync Issues.","title":"MPAndroidChart v3.1.0 Could not find on github","body":"<p><strong>Tip for Kotlin DSL users.</strong></p>\n<blockquote>\n<p>If you're using <strong>Kotlin DSL</strong> in your build.gradle.kts and trying to\nadd the JitPack repository, ensure that you use the proper syntax. In\n<strong>Kotlin DSL</strong>, use:</p>\n</blockquote>\n<pre><code>maven { url = uri(&quot;https://jitpack.io&quot;) }\n</code></pre>\n<p>Instead of the Groovy syntax:</p>\n<pre><code>maven { url 'https://jitpack.io' }\n</code></pre>\n<p>Using the Groovy syntax in Kotlin DSL may lead to Gradle Sync Issues.</p>\n"}],"owner":{"account_id":18682087,"reputation":461,"user_id":13618407,"display_name":"stic-lab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4538,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1701225138,"creation_date":1639302207,"question_id":70322414,"body_markdown":"I am trying to implement MPAndroidChart in my android app using java language but Android Studio returns an error when I sync the project.\r\n\r\n&gt; Could not find com.github.PhilJay:MPAndroidChart:v3.1.0.Required by: project :app\r\n\r\nI have already put the dependencies in my build.gradle(app) file like below:\r\n```\r\ndependencies {\r\n    implementation &#39;com.github.PhilJay:MPAndroidChart:v3.1.0&#39;\r\n}\r\n```\r\nand added the repository:\r\n```gradle\r\nrepositories {\r\n    maven { url &#39;https://jitpack.io&#39; }\r\n}\r\n```\r\n\r\n\r\nI have tried also to implement all the solutions proposed [here][1] but could not sort it out. So I need help, please.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/32718820/failed-to-resolve-com-github-philjaympandroidchartv2-1-4","title":"MPAndroidChart v3.1.0 Could not find on github","body":"<p>I am trying to implement MPAndroidChart in my android app using java language but Android Studio returns an error when I sync the project.</p>\n<blockquote>\n<p>Could not find com.github.PhilJay:MPAndroidChart:v3.1.0.Required by: project :app</p>\n</blockquote>\n<p>I have already put the dependencies in my build.gradle(app) file like below:</p>\n<pre><code>dependencies {\n    implementation 'com.github.PhilJay:MPAndroidChart:v3.1.0'\n}\n</code></pre>\n<p>and added the repository:</p>\n<pre><code>repositories {\n    maven { url 'https://jitpack.io' }\n}\n</code></pre>\n<p>I have tried also to implement all the solutions proposed <a href=\"https://stackoverflow.com/questions/32718820/failed-to-resolve-com-github-philjaympandroidchartv2-1-4\">here</a> but could not sort it out. So I need help, please.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2482826,"reputation":13761,"user_id":2161954,"accept_rate":93,"display_name":"SnakeDoc"},"score":4,"creation_date":1414882332,"post_id":26694081,"comment_id":41983474,"body_markdown":"well, you sorted them already, so the lower bound of your list is your oldest.","body":"well, you sorted them already, so the lower bound of your list is your oldest."},{"owner":{"account_id":5120038,"reputation":75,"user_id":4103952,"accept_rate":75,"display_name":"Erik Eriksson"},"score":0,"creation_date":1414882422,"post_id":26694081,"comment_id":41983499,"body_markdown":"I am new to Java, so any advice or help is appreciated. Would the last meaning get(self.size()) be the oldest timestamp of all?","body":"I am new to Java, so any advice or help is appreciated. Would the last meaning get(self.size()) be the oldest timestamp of all?"},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":2,"creation_date":1414882554,"post_id":26694081,"comment_id":41983526,"body_markdown":"`Collections.sort` uses ascending ordering, therefore the first element would be the oldest one.","body":"<code>Collections.sort</code> uses ascending ordering, therefore the first element would be the oldest one."},{"owner":{"account_id":5120038,"reputation":75,"user_id":4103952,"accept_rate":75,"display_name":"Erik Eriksson"},"score":0,"creation_date":1414882584,"post_id":26694081,"comment_id":41983529,"body_markdown":"So the sort() solves it all? Sounds strange to me.","body":"So the sort() solves it all? Sounds strange to me."},{"owner":{"account_id":2482826,"reputation":13761,"user_id":2161954,"accept_rate":93,"display_name":"SnakeDoc"},"score":1,"creation_date":1414882614,"post_id":26694081,"comment_id":41983535,"body_markdown":"According to the javadoc: http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#sort(java.util.List)   -- it sorts in Ascending order, so i would think it would be element 0 that you are after.  Here is an example: http://www.vogella.com/tutorials/JavaCollections/article.html#collectionssort","body":"According to the javadoc: <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#sort(java.util.List)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/util/&hellip;</a>   -- it sorts in Ascending order, so i would think it would be element 0 that you are after.  Here is an example: <a href=\"http://www.vogella.com/tutorials/JavaCollections/article.html#collectionssort\" rel=\"nofollow noreferrer\">vogella.com/tutorials/JavaCollections/&hellip;</a>"},{"owner":{"account_id":5120038,"reputation":75,"user_id":4103952,"accept_rate":75,"display_name":"Erik Eriksson"},"score":0,"creation_date":1414882783,"post_id":26694081,"comment_id":41983572,"body_markdown":"Yes, duh! Index 0 in the ArrayList, now things fell in place.","body":"Yes, duh! Index 0 in the ArrayList, now things fell in place."},{"owner":{"account_id":2482826,"reputation":13761,"user_id":2161954,"accept_rate":93,"display_name":"SnakeDoc"},"score":1,"creation_date":1414882785,"post_id":26694081,"comment_id":41983573,"body_markdown":"@ErikEriksson not really. Your timestamp object is really just a long type internally, with some fancy wrapper to print nice human readable strings (do a print of your System.currentTimeMillis() and see). So the sort algo just has to arrange them in the proper order, ascending per the javadoc (ie, which number is smaller goes first, then so on...)","body":"@ErikEriksson not really. Your timestamp object is really just a long type internally, with some fancy wrapper to print nice human readable strings (do a print of your System.currentTimeMillis() and see). So the sort algo just has to arrange them in the proper order, ascending per the javadoc (ie, which number is smaller goes first, then so on...)"},{"owner":{"account_id":5120038,"reputation":75,"user_id":4103952,"accept_rate":75,"display_name":"Erik Eriksson"},"score":0,"creation_date":1414882876,"post_id":26694081,"comment_id":41983595,"body_markdown":"So running Collection.sort() and the job is done, at index 0 I&#39;ll always have the oldest Timestamp in time (hh:mm:ss) and that&#39;s pretty much it, I don&#39;t have to work more or make another effort. Sounds way too simple in my head.","body":"So running Collection.sort() and the job is done, at index 0 I&#39;ll always have the oldest Timestamp in time (hh:mm:ss) and that&#39;s pretty much it, I don&#39;t have to work more or make another effort. Sounds way too simple in my head."},{"owner":{"account_id":2482826,"reputation":13761,"user_id":2161954,"accept_rate":93,"display_name":"SnakeDoc"},"score":1,"creation_date":1414882940,"post_id":26694081,"comment_id":41983610,"body_markdown":"@ErikEriksson sometimes us programmer overthink the simple things ;)  Collections is a great framework, written by one of the best java engineers ever, Josh Bloch.","body":"@ErikEriksson sometimes us programmer overthink the simple things ;)  Collections is a great framework, written by one of the best java engineers ever, Josh Bloch."},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1414883033,"post_id":26694081,"comment_id":41983628,"body_markdown":"It&#39;s simple, but it&#39;s still too complex and inefficient if you don&#39;t need a sorted list of timestamps, but only the oldest one. You should use `Collections.min(timestampList)` instead: http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#min%28java.util.Collection%29","body":"It&#39;s simple, but it&#39;s still too complex and inefficient if you don&#39;t need a sorted list of timestamps, but only the oldest one. You should use <code>Collections.min(timestampList)</code> instead: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#min%28java.util.Collection%29\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a>"},{"owner":{"account_id":5120038,"reputation":75,"user_id":4103952,"accept_rate":75,"display_name":"Erik Eriksson"},"score":0,"creation_date":1414883099,"post_id":26694081,"comment_id":41983650,"body_markdown":"So assume I do not use Collection.sort in this context, I know I did apply that when I posted, but lets assume I want to know how to compare and find the oldest timestamp of all in the arrayList via a for-loop, what would your answer be? I am curious to learn and know that. I appreciate your help.","body":"So assume I do not use Collection.sort in this context, I know I did apply that when I posted, but lets assume I want to know how to compare and find the oldest timestamp of all in the arrayList via a for-loop, what would your answer be? I am curious to learn and know that. I appreciate your help."},{"owner":{"account_id":5120038,"reputation":75,"user_id":4103952,"accept_rate":75,"display_name":"Erik Eriksson"},"score":0,"creation_date":1414883195,"post_id":26694081,"comment_id":41983663,"body_markdown":"@JBNizet would that allow me to retrieve the index of the element in the list?","body":"@JBNizet would that allow me to retrieve the index of the element in the list?"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1414883270,"post_id":26694081,"comment_id":41983686,"body_markdown":"Read the javadoc, that&#39;s what it&#39;s for: no, it only finds the minimum value of the collection (which could not be a list and thus not even have indices).","body":"Read the javadoc, that&#39;s what it&#39;s for: no, it only finds the minimum value of the collection (which could not be a list and thus not even have indices)."},{"owner":{"account_id":5120038,"reputation":75,"user_id":4103952,"accept_rate":75,"display_name":"Erik Eriksson"},"score":0,"creation_date":1414883315,"post_id":26694081,"comment_id":41983702,"body_markdown":"@JBNizet That&#39;s not good, it&#39;s limiting.","body":"@JBNizet That&#39;s not good, it&#39;s limiting."}],"answers":[{"tags":[],"owner":{"account_id":3945524,"reputation":5029,"user_id":3258333,"accept_rate":67,"display_name":"furkle"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1414893285,"creation_date":1414883502,"answer_id":26694244,"question_id":26694081,"body_markdown":"If, based on your post, you didn&#39;t want to sort your data, but instead wanted to just iterate through your entire collection of Timestamp objects and compare that way, you could use the Timestamp&#39;s after() method, which establishes whether a Timestamp occurs after the Timestamp provided as the argument of the function.\r\n\r\n\r\n    public Timestamp getOldestTimeStamp(ArrayList&lt;Timestamp&gt; timeStampList)\r\n    {\r\n        if (timeStampList != null || timeStampList.length() == 0)\r\n        {\r\n            return null;\r\n        }\r\n\r\n        Timestamp oldestTimestamp = timeStampList.get(0);\r\n\r\n        for (int i = 1; i &lt; timeStampList.length(); i++)\r\n        {\r\n            if (oldestTimeStamp.after(timeStampList.get(i))\r\n            {\r\n                oldestTimeStamp = timeStampList.get(i);\r\n            }\r\n        }\r\n\r\n       // oldestTimeStamp is now the oldest Timestamp in the ArrayList\r\n\r\n        return oldestTimeStamp;\r\n    }\r\n\r\nI could&#39;ve sworn I included this in my first edit, but it looks like it didn&#39;t take. Everyone in the comments is correct in their wish for you to use the built-in features of the language instead of rolling your own. In this case, you would be far better suited learning to use simple language features like Collections.sort() and Collections.min(), which will invariably be as efficient and typically more so than the kind of code you or I will write, and significantly more succinct than a 12-line method like the one above.","title":"Get the oldest Timestamp in list Java","body":"<p>If, based on your post, you didn't want to sort your data, but instead wanted to just iterate through your entire collection of Timestamp objects and compare that way, you could use the Timestamp's after() method, which establishes whether a Timestamp occurs after the Timestamp provided as the argument of the function.</p>\n\n<pre><code>public Timestamp getOldestTimeStamp(ArrayList&lt;Timestamp&gt; timeStampList)\n{\n    if (timeStampList != null || timeStampList.length() == 0)\n    {\n        return null;\n    }\n\n    Timestamp oldestTimestamp = timeStampList.get(0);\n\n    for (int i = 1; i &lt; timeStampList.length(); i++)\n    {\n        if (oldestTimeStamp.after(timeStampList.get(i))\n        {\n            oldestTimeStamp = timeStampList.get(i);\n        }\n    }\n\n   // oldestTimeStamp is now the oldest Timestamp in the ArrayList\n\n    return oldestTimeStamp;\n}\n</code></pre>\n\n<p>I could've sworn I included this in my first edit, but it looks like it didn't take. Everyone in the comments is correct in their wish for you to use the built-in features of the language instead of rolling your own. In this case, you would be far better suited learning to use simple language features like Collections.sort() and Collections.min(), which will invariably be as efficient and typically more so than the kind of code you or I will write, and significantly more succinct than a 12-line method like the one above.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701225047,"creation_date":1701225047,"answer_id":77568250,"question_id":26694081,"body_markdown":"# tl;dr\r\n\r\n    new ArrayList&lt;&gt;( original ).sort().getLast()\r\n\r\n\r\n# Details\r\n\r\nIf you do not want to sort the original collection, make a new collection. \r\n\r\n    Collection&lt; Timestamp &gt; original = … ;\r\n    List&lt; Timestamp &gt; sorted = new ArrayList&lt;&gt;( original ) ;\r\n\r\nThen sort. If your objects are [`Comparable`][1], simply call `List#sort`.\r\n\r\n    sorted.sort() ;\r\n\r\nThen grab the last one. In Java 21+, use the convenient `getLast` method.\r\n\r\n    Timestamp latest = sorted.getLast() ;\r\n\r\n\r\n----------\r\n\r\nBy the way, never use the `java.sql.Timestamp` class. As part of the terribly flawed legacy date-time classes including `Calendar`, `Date`, etc., you should avoid like the plague. \r\n\r\nInstead, use only the *java.time* classes defined in JSR 310. In general, use `java.time.Instant`. When exchanging with a database via JDBC, use `java.time.OffsetDateTime`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/lang/Comparable.html","title":"Get the oldest Timestamp in list Java","body":"<h1>tl;dr</h1>\n<pre><code>new ArrayList&lt;&gt;( original ).sort().getLast()\n</code></pre>\n<h1>Details</h1>\n<p>If you do not want to sort the original collection, make a new collection.</p>\n<pre><code>Collection&lt; Timestamp &gt; original = … ;\nList&lt; Timestamp &gt; sorted = new ArrayList&lt;&gt;( original ) ;\n</code></pre>\n<p>Then sort. If your objects are <a href=\"https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a>, simply call <code>List#sort</code>.</p>\n<pre><code>sorted.sort() ;\n</code></pre>\n<p>Then grab the last one. In Java 21+, use the convenient <code>getLast</code> method.</p>\n<pre><code>Timestamp latest = sorted.getLast() ;\n</code></pre>\n<hr />\n<p>By the way, never use the <code>java.sql.Timestamp</code> class. As part of the terribly flawed legacy date-time classes including <code>Calendar</code>, <code>Date</code>, etc., you should avoid like the plague.</p>\n<p>Instead, use only the <em>java.time</em> classes defined in JSR 310. In general, use <code>java.time.Instant</code>. When exchanging with a database via JDBC, use <code>java.time.OffsetDateTime</code>.</p>\n"}],"owner":{"account_id":5120038,"reputation":75,"user_id":4103952,"accept_rate":75,"display_name":"Erik Eriksson"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3402,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":26694244,"answer_count":2,"score":0,"last_activity_date":1701225047,"creation_date":1414882209,"question_id":26694081,"body_markdown":"Is this correct? \r\n\r\n    ArrayList&lt;Timestamp&gt; timeStampList = new ArrayList&lt;Timestamp&gt;();\r\n    timeStampList.add(0, new Timestamp(System.currentTimeMillis())); \r\n    \r\n    Thread.sleep(600); \r\n\r\n    timeStampList.add(1, new Timestamp(System.currentTimeMillis()));\r\n    \r\n    Collections.sort(timeStampList);\r\n    Timestamp tempStamp = timeStampList.get(0);\r\n    for (Timestamp startstamp : timeStampList)\r\n    {\r\n        if (tempStamp != startstamp)\r\n        {\r\n                long diffTime = startstamp.getTime() - tempStamp.getTime();\r\n                diffDays = diffTime / (1000 * 60 * 60);\r\n\r\n                if(diffDays &gt; 24)\r\n                {\r\n                    System.out.println(diffDays / 24 +&quot;Day&quot; + &quot; &quot;+diffDays % 24 + &quot;hours&quot;);\r\n                }\r\n                tempStamp = startstamp;\r\n        }\r\n    }\r\n\r\n\r\nI am NOT sure how I can find the oldest timestamp in the array list. Any advice or direct answer is appreciated. Thanks a lot. This current code I think only compares. \r\n\r\n\r\n**EDIT: So assume I do not use Collection.sort in this context, I know I did apply that when I posted, but lets assume I want to know how to compare and find the oldest timestamp of all in the arrayList via a for-loop.**","title":"Get the oldest Timestamp in list Java","body":"<p>Is this correct? </p>\n\n<pre><code>ArrayList&lt;Timestamp&gt; timeStampList = new ArrayList&lt;Timestamp&gt;();\ntimeStampList.add(0, new Timestamp(System.currentTimeMillis())); \n\nThread.sleep(600); \n\ntimeStampList.add(1, new Timestamp(System.currentTimeMillis()));\n\nCollections.sort(timeStampList);\nTimestamp tempStamp = timeStampList.get(0);\nfor (Timestamp startstamp : timeStampList)\n{\n    if (tempStamp != startstamp)\n    {\n            long diffTime = startstamp.getTime() - tempStamp.getTime();\n            diffDays = diffTime / (1000 * 60 * 60);\n\n            if(diffDays &gt; 24)\n            {\n                System.out.println(diffDays / 24 +\"Day\" + \" \"+diffDays % 24 + \"hours\");\n            }\n            tempStamp = startstamp;\n    }\n}\n</code></pre>\n\n<p>I am NOT sure how I can find the oldest timestamp in the array list. Any advice or direct answer is appreciated. Thanks a lot. This current code I think only compares. </p>\n\n<p><strong>EDIT: So assume I do not use Collection.sort in this context, I know I did apply that when I posted, but lets assume I want to know how to compare and find the oldest timestamp of all in the arrayList via a for-loop.</strong></p>\n"},{"tags":["java","debugging","input","logic","java.util.scanner"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1701225735,"post_id":77568243,"comment_id":136748322,"body_markdown":"In your code, `in` is a `Scanner` Object that wraps `System.in`. System.in gets data from the system console. Theoretically, there is no limit to the number of fields or lines the user could type using the console. There is always the potential for more data. So, `in.hasNext()`, `in.next()`, and so on wait for I/O.  Contrast where `Scanner` Object wraps a file, which does have a definite end. So, when a `Scanner` Object is used to read a file serially, `~.hasNext()` will eventually return `false`.","body":"In your code, <code>in</code> is a <code>Scanner</code> Object that wraps <code>System.in</code>. System.in gets data from the system console. Theoretically, there is no limit to the number of fields or lines the user could type using the console. There is always the potential for more data. So, <code>in.hasNext()</code>, <code>in.next()</code>, and so on wait for I/O.  Contrast where <code>Scanner</code> Object wraps a file, which does have a definite end. So, when a <code>Scanner</code> Object is used to read a file serially, <code>~.hasNext()</code> will eventually return <code>false</code>."},{"owner":{"account_id":29961594,"reputation":62,"user_id":22961148,"display_name":"dilettante"},"score":1,"creation_date":1701226631,"post_id":77568243,"comment_id":136748416,"body_markdown":"You wouldn&#39;t want if differently. If &#39;hasNext&#39; said there was no next when there was nothing to be read right now, then you&#39;re forced to type faster than the computer can compute.  In your example code, after starting Java, you&#39;ve got to have typed an integer before the main routine gets to its second line. I wouldn&#39;t bet money on your typing speed.","body":"You wouldn&#39;t want if differently. If &#39;hasNext&#39; said there was no next when there was nothing to be read right now, then you&#39;re forced to type faster than the computer can compute.  In your example code, after starting Java, you&#39;ve got to have typed an integer before the main routine gets to its second line. I wouldn&#39;t bet money on your typing speed."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1701226983,"post_id":77568243,"comment_id":136748453,"body_markdown":"@dilettante You could *theoretically* design the class so `hasNext()` checks the current buffer and `next()` waits for input.","body":"@dilettante You could <i>theoretically</i> design the class so <code>hasNext()</code> checks the current buffer and <code>next()</code> waits for input."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1701227918,"post_id":77568243,"comment_id":136748542,"body_markdown":"Well yea ... but that would be difficult to implement reliably given the specified semantics of `InputStream.available()` ([javadoc](https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html#available--)).  Then there is the problem that the only way to reliably detect EOF would be to call `next()` and catch the exception. It would be a bad idea to try that ... IMO.","body":"Well yea ... but that would be difficult to implement reliably given the specified semantics of <code>InputStream.available()</code> (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html#available--\" rel=\"nofollow noreferrer\">javadoc</a>).  Then there is the problem that the only way to reliably detect EOF would be to call <code>next()</code> and catch the exception. It would be a bad idea to try that ... IMO."},{"owner":{"account_id":29961594,"reputation":62,"user_id":22961148,"display_name":"dilettante"},"score":0,"creation_date":1701262884,"post_id":77568243,"comment_id":136753578,"body_markdown":"@shmosel - &#39;the current buffer&#39; is likely in the terminal driver until end-of-line is typed, outside of the JVM&#39;s sight.","body":"@shmosel - &#39;the current buffer&#39; is likely in the terminal driver until end-of-line is typed, outside of the JVM&#39;s sight."}],"owner":{"account_id":15528829,"reputation":23,"user_id":16129964,"display_name":"Rachid"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701225486,"answer_count":0,"score":0,"last_activity_date":1701224880,"creation_date":1701224880,"question_id":77568243,"body_markdown":"In this simple code, I&#39;m checking if a Scanner has something in the input buffer or not. So I used hasNext() to check whether it has something or not. But instead of returning &quot;false&quot; (in this case), it waits for input.\r\nI can&#39;t understand why. It&#39;s a simple logic code.\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main{\r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            if(in.hasNext()) System.out.println(&quot;It has next&quot;);\r\n            else System.out.println(&quot;It doesn&#39;t have next&quot;);\r\n        }\r\n    }","title":"Why does hasNext() wait for input?","body":"<p>In this simple code, I'm checking if a Scanner has something in the input buffer or not. So I used hasNext() to check whether it has something or not. But instead of returning &quot;false&quot; (in this case), it waits for input.\nI can't understand why. It's a simple logic code.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main{\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        if(in.hasNext()) System.out.println(&quot;It has next&quot;);\n        else System.out.println(&quot;It doesn't have next&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","gradle","gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701224751,"creation_date":1701224119,"answer_id":77568208,"question_id":70670199,"body_markdown":"The primary benefit of properties, as I understand it, is lazy configuration (if used correctly). They also let you define conventional values, even based on other providers, meaning the conventional value can be computed lazily as well. And there&#39;s also the benefit of the API provided by [`Property`][1]. That includes methods like `isPresent` and `getOrElse` that let you handle an unset property with no conventional value. Note there are also more specialized types of properties, such as `ListProperty` and `DirectoryProperty`, which add more methods.\r\n\r\nIt&#39;s not that much more verbose to use properties, or at least it isn&#39;t anymore. You are injecting the object factory and creating the property manually. But you can just let Gradle create and decorate the extension (or task) class for you. It could look something like:\r\n\r\n```kotlin\r\nimport org.gradle.api.provider.Property\r\n\r\nabstract class ExamplePluginExtension {\r\n\r\n     abstract val exampleName: Property&lt;String&gt;\r\n\r\n     init {\r\n         // There&#39;s an overload that accepts a Provider. Note it might \r\n         // be better to do this in the plugin class after creating the\r\n         // extension, not sure).\r\n         exampleName.convention(&quot;default name&quot;)\r\n     }\r\n}\r\n```\r\n\r\nOr as an interface:\r\n\r\n```kotlin\r\nimport org.gradle.api.provider.Property\r\n\r\ninterface ExamplePluginExtension {\r\n\r\n    // If you want to set the conventional value, then you&#39;d have to set it\r\n    // somewhere else (e.g., in the plugin class after creating the extension).\r\n    val exampleName: Property&lt;String&gt;\r\n}\r\n```\r\n\r\nThen you&#39;d register the extension:\r\n\r\n```kotlin\r\nimport org.gradle.api.Plugin\r\nimport org.gradle.api.Project\r\nimport org.gradle.kotlin.dsl.*\r\n\r\nclass ExamplePlugin : Plugin&lt;Project&gt; {\r\n\r\n    override fun apply(project: Project) {\r\n        // this returns an instance of the extension class\r\n        project.extensions.create(&quot;example&quot;, ExamplePluginExtension::class)\r\n    }\r\n}\r\n```\r\n\r\nWhich would let you do the following in a build file:\r\n\r\n```kotlin\r\nplugins {\r\n    // apply example plugin\r\n}\r\n\r\nexample {\r\n    exampleName = &quot;Foo&quot;\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/javadoc/org/gradle/api/provider/Property.html\r\n    ","title":"What&#39;s the benefit of using the Gradle Property type in a Gradle plugin oppose to just using String type for example?","body":"<p>The primary benefit of properties, as I understand it, is lazy configuration (if used correctly). They also let you define conventional values, even based on other providers, meaning the conventional value can be computed lazily as well. And there's also the benefit of the API provided by <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/provider/Property.html\" rel=\"nofollow noreferrer\"><code>Property</code></a>. That includes methods like <code>isPresent</code> and <code>getOrElse</code> that let you handle an unset property with no conventional value. Note there are also more specialized types of properties, such as <code>ListProperty</code> and <code>DirectoryProperty</code>, which add more methods.</p>\n<p>It's not that much more verbose to use properties, or at least it isn't anymore. You are injecting the object factory and creating the property manually. But you can just let Gradle create and decorate the extension (or task) class for you. It could look something like:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.gradle.api.provider.Property\n\nabstract class ExamplePluginExtension {\n\n     abstract val exampleName: Property&lt;String&gt;\n\n     init {\n         // There's an overload that accepts a Provider. Note it might \n         // be better to do this in the plugin class after creating the\n         // extension, not sure).\n         exampleName.convention(&quot;default name&quot;)\n     }\n}\n</code></pre>\n<p>Or as an interface:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.gradle.api.provider.Property\n\ninterface ExamplePluginExtension {\n\n    // If you want to set the conventional value, then you'd have to set it\n    // somewhere else (e.g., in the plugin class after creating the extension).\n    val exampleName: Property&lt;String&gt;\n}\n</code></pre>\n<p>Then you'd register the extension:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.gradle.api.Plugin\nimport org.gradle.api.Project\nimport org.gradle.kotlin.dsl.*\n\nclass ExamplePlugin : Plugin&lt;Project&gt; {\n\n    override fun apply(project: Project) {\n        // this returns an instance of the extension class\n        project.extensions.create(&quot;example&quot;, ExamplePluginExtension::class)\n    }\n}\n</code></pre>\n<p>Which would let you do the following in a build file:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n    // apply example plugin\n}\n\nexample {\n    exampleName = &quot;Foo&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":2142284,"reputation":811,"user_id":1900657,"display_name":"Thomas Neuteboom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":569,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1701224751,"creation_date":1641918642,"question_id":70670199,"body_markdown":"1. In a Gradle plugin I could define my properties as:\r\n\r\n```\r\nopen class ExamplePluginExtension {\r\n\r\n    var exampleName: String? = null\r\n\r\n}\r\n```\r\n\r\nAnd accessing it in *build.gradle.kts* like so: \r\n```\r\nexample {\r\n\r\n    exampleName = &quot;Lorem Ipsum&quot;\r\n\r\n}\r\n```\r\n\r\nOr 2. I can use the Property type of Gradle (org.gradle.api.provider.Property):\r\n```\r\nopen class ExamplePluginExtension @Inject constructor(objectFactory: ObjectFactory) {\r\n\r\n    val exampleName: Property&lt;String&gt; = objectFactory.property(String::class.java)\r\n\r\n}\r\n```\r\n\r\nAccessing it in *build.gradle.kts* like so: \r\n```\r\nexample {\r\n\r\n    exampleName.set(&quot;Lorem Ipsum&quot;)\r\n\r\n}\r\n```\r\n\r\nThe Gradle documentation promotes the use of the Property type in Gradle Plugins, but why? The use of the Property type is quite a hassle, creates a lot of boilerplate and disables the use of nullable properties. I see many third-party libraries such as [Flyway][1] use the first option, completely ignoring the Property type.\r\n\r\n\r\n  [1]: https://github.com/flyway/flyway/blob/master/flyway-gradle-plugin/src/main/java/org/flywaydb/gradle/FlywayExtension.java","title":"What&#39;s the benefit of using the Gradle Property type in a Gradle plugin oppose to just using String type for example?","body":"<ol>\n<li>In a Gradle plugin I could define my properties as:</li>\n</ol>\n<pre><code>open class ExamplePluginExtension {\n\n    var exampleName: String? = null\n\n}\n</code></pre>\n<p>And accessing it in <em>build.gradle.kts</em> like so:</p>\n<pre><code>example {\n\n    exampleName = &quot;Lorem Ipsum&quot;\n\n}\n</code></pre>\n<p>Or 2. I can use the Property type of Gradle (org.gradle.api.provider.Property):</p>\n<pre><code>open class ExamplePluginExtension @Inject constructor(objectFactory: ObjectFactory) {\n\n    val exampleName: Property&lt;String&gt; = objectFactory.property(String::class.java)\n\n}\n</code></pre>\n<p>Accessing it in <em>build.gradle.kts</em> like so:</p>\n<pre><code>example {\n\n    exampleName.set(&quot;Lorem Ipsum&quot;)\n\n}\n</code></pre>\n<p>The Gradle documentation promotes the use of the Property type in Gradle Plugins, but why? The use of the Property type is quite a hassle, creates a lot of boilerplate and disables the use of nullable properties. I see many third-party libraries such as <a href=\"https://github.com/flyway/flyway/blob/master/flyway-gradle-plugin/src/main/java/org/flywaydb/gradle/FlywayExtension.java\" rel=\"noreferrer\">Flyway</a> use the first option, completely ignoring the Property type.</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":3,"creation_date":1348049804,"post_id":12492692,"comment_id":16809412,"body_markdown":"If you use `add(element)` yes as it &quot;Appends the specified element to the end of this list.&quot;, if you use `add(index, element)` it can be anywhere.","body":"If you use <code>add(element)</code> yes as it &quot;Appends the specified element to the end of this list.&quot;, if you use <code>add(index, element)</code> it can be anywhere."}],"answers":[{"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1348049879,"post_id":12492715,"comment_id":16809436,"body_markdown":"Unless you tell it otherwise with `add(index, element)`","body":"Unless you tell it otherwise with <code>add(index, element)</code>"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1348050004,"post_id":12492715,"comment_id":16809481,"body_markdown":"No insertion time needed, that would be overkill; just keep record of the last element added. But this works only if you have the class under your control; judging from OP&#39;s question it seems like he&#39;s dealing with a pre-existing `ArrayList`.","body":"No insertion time needed, that would be overkill; just keep record of the last element added. But this works only if you have the class under your control; judging from OP&#39;s question it seems like he&#39;s dealing with a pre-existing <code>ArrayList</code>."},{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":0,"creation_date":1348050100,"post_id":12492715,"comment_id":16809514,"body_markdown":"@Marko yes that would be better","body":"@Marko yes that would be better"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1348050263,"post_id":12492715,"comment_id":16809565,"body_markdown":"...except if you also want to support the case where elements are *removed* and you still want the last element added! Then something like your solution would be the only option, but still not keeping time, but sequence of addition operation. Otherwise it would be almost typical to see the same addition time for many elements added is rapid succession.","body":"...except if you also want to support the case where elements are <i>removed</i> and you still want the last element added! Then something like your solution would be the only option, but still not keeping time, but sequence of addition operation. Otherwise it would be almost typical to see the same addition time for many elements added is rapid succession."}],"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1348050079,"creation_date":1348049755,"answer_id":12492715,"question_id":12492692,"body_markdown":"Yes for `ArrayList`, It preserves the order of insertion\r\n\r\nIf you explicitly add the element at particular position by specifying index [`add()`][1], in this case you need to set insertion time by customizing ArrayList implementation and while retrieving the latest inserted element consider that time in calculation\r\n\r\n\r\nor better have a reference pointing to last inserted item as  [Marko Topolnik][2] suggested, also maintain it on removal \r\n\r\nBetter thing would be use `LinkedHashSet`, if you are not concerned about uniqueness property of set\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html#add%28int,%20E%29\r\n  [2]: https://stackoverflow.com/users/1103872/marko-topolnik","title":"Get last added element Arraylist","body":"<p>Yes for <code>ArrayList</code>, It preserves the order of insertion</p>\n\n<p>If you explicitly add the element at particular position by specifying index <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html#add%28int,%20E%29\" rel=\"nofollow noreferrer\"><code>add()</code></a>, in this case you need to set insertion time by customizing ArrayList implementation and while retrieving the latest inserted element consider that time in calculation</p>\n\n<p>or better have a reference pointing to last inserted item as  <a href=\"https://stackoverflow.com/users/1103872/marko-topolnik\">Marko Topolnik</a> suggested, also maintain it on removal </p>\n\n<p>Better thing would be use <code>LinkedHashSet</code>, if you are not concerned about uniqueness property of set</p>\n"},{"tags":[],"owner":{"account_id":267393,"reputation":10719,"user_id":555553,"accept_rate":62,"display_name":"mishadoff"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348050131,"creation_date":1348050131,"answer_id":12492788,"question_id":12492692,"body_markdown":"If you are using `add(element)` signature, your last element in `ArrayList` always be last inserted element.\r\n\r\nIf you are using `add(index, element)` you can&#39;t know exactly which is last one. Simplest solution to create your subclass of `ArrayList` that will hold last inserted element in special variable.","title":"Get last added element Arraylist","body":"<p>If you are using <code>add(element)</code> signature, your last element in <code>ArrayList</code> always be last inserted element.</p>\n\n<p>If you are using <code>add(index, element)</code> you can't know exactly which is last one. Simplest solution to create your subclass of <code>ArrayList</code> that will hold last inserted element in special variable.</p>\n"},{"tags":[],"owner":{"account_id":1853395,"reputation":477,"user_id":1679446,"display_name":"israelC"},"comment_count":0,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1348053074,"creation_date":1348053074,"answer_id":12493550,"question_id":12492692,"body_markdown":"Yes, as the other people said, `ArrayList` preserves insert order. If you want the last added element, (only if you always add your elements with `add(element)`) just type this:\r\n\r\n    yourArrayList.get(yourArrayList.size()-1);\r\n\r\nYour answer is in the link that you said :)","title":"Get last added element Arraylist","body":"<p>Yes, as the other people said, <code>ArrayList</code> preserves insert order. If you want the last added element, (only if you always add your elements with <code>add(element)</code>) just type this:</p>\n\n<pre><code>yourArrayList.get(yourArrayList.size()-1);\n</code></pre>\n\n<p>Your answer is in the link that you said :)</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701224388,"creation_date":1701224388,"answer_id":77568218,"question_id":12492692,"body_markdown":"Yes, [adding][1] to a [`List`][2] without specifying an index will append the element at the end.\r\n\r\n## `getLast`\r\n\r\nIn Java 21+, every `List` inherits a convenient [`getLast`][3] method from the [`SequencedCollection`][4] interface. For details, see [*JEP 431: Sequenced Collections*](https://openjdk.org/jeps/431). \r\n\r\n    List&lt; String &gt; letters = new ArrayList&lt;&gt;( List.of( &quot;a&quot; , &quot;b&quot; , &quot;c&quot; ) );\r\n    letters.add( &quot;d&quot; ) ;\r\n    String lastAddedLetter = letters.getLast() ;\r\n    \r\n&gt; lastAddedLetter = &quot;d&quot; \r\n    \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#add(E)\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#getLast()\r\n  [4]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedCollection.html","title":"Get last added element Arraylist","body":"<p>Yes, <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#add(E)\" rel=\"nofollow noreferrer\">adding</a> to a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\"><code>List</code></a> without specifying an index will append the element at the end.</p>\n<h2><code>getLast</code></h2>\n<p>In Java 21+, every <code>List</code> inherits a convenient <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#getLast()\" rel=\"nofollow noreferrer\"><code>getLast</code></a> method from the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedCollection.html\" rel=\"nofollow noreferrer\"><code>SequencedCollection</code></a> interface. For details, see <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\"><em>JEP 431: Sequenced Collections</em></a>.</p>\n<pre><code>List&lt; String &gt; letters = new ArrayList&lt;&gt;( List.of( &quot;a&quot; , &quot;b&quot; , &quot;c&quot; ) );\nletters.add( &quot;d&quot; ) ;\nString lastAddedLetter = letters.getLast() ;\n</code></pre>\n<blockquote>\n<p>lastAddedLetter = &quot;d&quot;</p>\n</blockquote>\n"}],"owner":{"account_id":1294805,"reputation":4533,"user_id":1246145,"accept_rate":87,"display_name":"Adil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22308,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":12492715,"answer_count":4,"score":8,"last_activity_date":1701224388,"creation_date":1348049695,"question_id":12492692,"body_markdown":"How can we get the last **added** element in ArrayList. I find [this][1] that explain how to get the last element, but is the last added element always the last element ?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/687833/how-to-get-the-last-value-of-arraylist","title":"Get last added element Arraylist","body":"<p>How can we get the last <strong>added</strong> element in ArrayList. I find <a href=\"https://stackoverflow.com/questions/687833/how-to-get-the-last-value-of-arraylist\">this</a> that explain how to get the last element, but is the last added element always the last element ?</p>\n"},{"tags":["java","arrays","multidimensional-array","char"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701215547,"post_id":77567742,"comment_id":136747420,"body_markdown":"`int newRow = (totalSpaces / SIZE) % SIZE;`  What is `% SIZE` doing there?","body":"<code>int newRow = (totalSpaces &#47; SIZE) % SIZE;</code>  What is <code>% SIZE</code> doing there?"},{"owner":{"account_id":19370040,"reputation":27,"user_id":20028948,"display_name":"goatishnewcastle49"},"score":0,"creation_date":1701216489,"post_id":77567742,"comment_id":136747505,"body_markdown":"When I remove that, I have an ```ArrayIndexOutOfBoundsException```. Here is my test: for (int i = 0; i &lt; 70; i += 5) {\n            bd.display(obj1, obj2);\n\n            bd.moveObject(obj1, i);\n            bd.moveObject(obj2, i);\n\n            System.out.println(&quot;Obj1 location: &quot; + obj1.getLoc());\n            System.out.println(&quot;Obj2 location: &quot; + obj2.getLoc());\n        }","body":"When I remove that, I have an <code>ArrayIndexOutOfBoundsException</code>. Here is my test: for (int i = 0; i &lt; 70; i += 5) {             bd.display(obj1, obj2);              bd.moveObject(obj1, i);             bd.moveObject(obj2, i);              System.out.println(&quot;Obj1 location: &quot; + obj1.getLoc());             System.out.println(&quot;Obj2 location: &quot; + obj2.getLoc());         }"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701217918,"post_id":77567742,"comment_id":136747627,"body_markdown":"How about `int totalSpaces = Math.max (oldRow * SIZE + oldCol + spaces, SIZE * SIZE - 1);` ?","body":"How about <code>int totalSpaces = Math.max (oldRow * SIZE + oldCol + spaces, SIZE * SIZE - 1);</code> ?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1701218154,"post_id":77567742,"comment_id":136747653,"body_markdown":"What board game is this?  Or, is it an original?","body":"What board game is this?  Or, is it an original?"},{"owner":{"account_id":19370040,"reputation":27,"user_id":20028948,"display_name":"goatishnewcastle49"},"score":0,"creation_date":1701218411,"post_id":77567742,"comment_id":136747670,"body_markdown":"@Old Dog Programmer unfortunately it doesn&#39;t work, I will have to figure something out then :/","body":"@Old Dog Programmer unfortunately it doesn&#39;t work, I will have to figure something out then :/"},{"owner":{"account_id":19370040,"reputation":27,"user_id":20028948,"display_name":"goatishnewcastle49"},"score":0,"creation_date":1701218437,"post_id":77567742,"comment_id":136747673,"body_markdown":"The board game is called ZigZag.","body":"The board game is called ZigZag."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701221785,"post_id":77567742,"comment_id":136747980,"body_markdown":"We don&#39;t know what code an `Obj` or a `Player` has. I suggest editing the question to show a [complete but minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"We don&#39;t know what code an <code>Obj</code> or a <code>Player</code> has. I suggest editing the question to show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">complete but minimal reproducible example</a>"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701224251,"creation_date":1701224251,"answer_id":77568212,"question_id":77567742,"body_markdown":"&gt; _&quot;... I have a constant `SIZE` x `SIZE` 2D char array ...\\\r\n&gt;\\\r\n&gt; ... I want the `moveObject` method to move the given object by a given amount of spaces and wrap around the rows if necessary. Meaning, it the object reaches the SIZE - 1 index in a row, it should move down and continue from 0 in the next row. It should also stop at the SIZE-1, SIZE-1 index and stop it from moving. ...&quot;_\r\n\r\nTry using just a regular, 1-dimensional _array_.\r\n\r\nHere is an example.\\\r\nIt&#39;s not exact, and is just a demonstration.\r\n\r\nThe values _m_ and _n_ are the _rows_ and _columns_, respectively.\\\r\nAnd, I&#39;ll use _0_ to represent an empty space.\r\n\r\nThe _move_ parameters, _m_ and _n_, will be the coordinate of the piece you&#39;d like to shift, and _z_ will be the amount of places to shift by.\r\n\r\nStart by translating _m_ and _n_ to the indice, _i_, of _d_.\\\r\nTraverse _d_, starting at _i &amp;plus; 1_, and for every empty space, increase _k_ until _k = z_.\\\r\nFollowing the traversal, deduct _1_ from _j_, if _j = d.length_.\\\r\nProceed with another traversal, shifting all values, starting at _j_, to the right, by _k_.\r\n\r\n```java\r\nclass Grid {\r\n    int m, n, d[];\r\n\r\n    Grid(int m, int n) {\r\n        d = new int[(this.m = m) * (this.n = n)];\r\n    }\r\n\r\n    void move(int m, int n, int z) {\r\n        int i = (m * this.n) + n, j, k, l;\r\n        for (j = i + 1, k = 0; j &lt; d.length; j++)\r\n            if (d[j] == 0 &amp;&amp; ++k == z) break;\r\n        if (j == d.length) j--;\r\n        for (l = j; l &gt;= i; l--)\r\n            if (l - k &gt;= i) d[l] = d[l - k];\r\n            else d[l] = 0;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        StringBuilder s = new StringBuilder();\r\n        Formatter f = new Formatter(s);\r\n        for (int i = 0, t, n = d.length; i &lt; n; i++) {\r\n            if (i != 0 &amp;&amp; i % this.n == 0) f.format(&quot;%n&quot;);\r\n            if ((t = d[i]) == 0) f.format(&quot; . &quot;);\r\n            else f.format(&quot;% d &quot;, t);\r\n        }\r\n        f.flush();\r\n        return s.toString();\r\n    }\r\n}\r\n```\r\n\r\nHere is an example, I&#39;ll place _6_ values, starting at _5 and 2_, and shift them _4_ places.\r\n\r\n```java\r\nGrid g = new Grid(10, 10);\r\nArrays.fill(g.d, 52, 58, 1);\r\nSystem.out.printf(&quot;before%n%s%n%n&quot;, g);\r\ng.move(5, 2, 4);\r\nSystem.out.printf(&quot;after%n%s&quot;, g);\r\n```\r\n\r\n```none\r\nbefore\r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  1  1  1  1  1  1  .  . \r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  .  .  .  .  .  .  .  . \r\n\r\nafter\r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  .  .  .  .  1  1  1  1 \r\n 1  1  .  .  .  .  .  .  .  . \r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  .  .  .  .  .  .  .  . \r\n```\r\n\r\nAnd, here is another example, where I&#39;ll place another 6 peices, on row _9_, and attempt to move half of them _10_ places.\r\n\r\n```java\r\nGrid g = new Grid(10, 10);\r\nArrays.fill(g.d, 92, 98, 1);\r\nSystem.out.printf(&quot;before%n%s%n%n&quot;, g);\r\ng.move(9, 5, 10);\r\nSystem.out.printf(&quot;after%n%s&quot;, g);\r\n```\r\n\r\n```none\r\nbefore\r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  1  1  1  1  1  1  .  . \r\n\r\nafter\r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  .  .  .  .  .  .  .  . \r\n .  .  1  1  1  .  .  1  1  1 \r\n```","title":"How to advance row-major and wrap around rows in a Java 2D array?","body":"<blockquote>\n<p><em>&quot;... I have a constant <code>SIZE</code> x <code>SIZE</code> 2D char array ...<br />\n<br />\n... I want the <code>moveObject</code> method to move the given object by a given amount of spaces and wrap around the rows if necessary. Meaning, it the object reaches the SIZE - 1 index in a row, it should move down and continue from 0 in the next row. It should also stop at the SIZE-1, SIZE-1 index and stop it from moving. ...&quot;</em></p>\n</blockquote>\n<p>Try using just a regular, 1-dimensional <em>array</em>.</p>\n<p>Here is an example.<br />\nIt's not exact, and is just a demonstration.</p>\n<p>The values <em>m</em> and <em>n</em> are the <em>rows</em> and <em>columns</em>, respectively.<br />\nAnd, I'll use <em>0</em> to represent an empty space.</p>\n<p>The <em>move</em> parameters, <em>m</em> and <em>n</em>, will be the coordinate of the piece you'd like to shift, and <em>z</em> will be the amount of places to shift by.</p>\n<p>Start by translating <em>m</em> and <em>n</em> to the indice, <em>i</em>, of <em>d</em>.<br />\nTraverse <em>d</em>, starting at <em>i + 1</em>, and for every empty space, increase <em>k</em> until <em>k = z</em>.<br />\nFollowing the traversal, deduct <em>1</em> from <em>j</em>, if <em>j = d.length</em>.<br />\nProceed with another traversal, shifting all values, starting at <em>j</em>, to the right, by <em>k</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Grid {\n    int m, n, d[];\n\n    Grid(int m, int n) {\n        d = new int[(this.m = m) * (this.n = n)];\n    }\n\n    void move(int m, int n, int z) {\n        int i = (m * this.n) + n, j, k, l;\n        for (j = i + 1, k = 0; j &lt; d.length; j++)\n            if (d[j] == 0 &amp;&amp; ++k == z) break;\n        if (j == d.length) j--;\n        for (l = j; l &gt;= i; l--)\n            if (l - k &gt;= i) d[l] = d[l - k];\n            else d[l] = 0;\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder s = new StringBuilder();\n        Formatter f = new Formatter(s);\n        for (int i = 0, t, n = d.length; i &lt; n; i++) {\n            if (i != 0 &amp;&amp; i % this.n == 0) f.format(&quot;%n&quot;);\n            if ((t = d[i]) == 0) f.format(&quot; . &quot;);\n            else f.format(&quot;% d &quot;, t);\n        }\n        f.flush();\n        return s.toString();\n    }\n}\n</code></pre>\n<p>Here is an example, I'll place <em>6</em> values, starting at <em>5 and 2</em>, and shift them <em>4</em> places.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Grid g = new Grid(10, 10);\nArrays.fill(g.d, 52, 58, 1);\nSystem.out.printf(&quot;before%n%s%n%n&quot;, g);\ng.move(5, 2, 4);\nSystem.out.printf(&quot;after%n%s&quot;, g);\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>before\n .  .  .  .  .  .  .  .  .  . \n .  .  .  .  .  .  .  .  .  . \n .  .  .  .  .  .  .  .  .  . \n .  .  .  .  .  .  .  .  .  . \n .  .  .  .  .  .  .  .  .  . \n .  .  1  1  1  1  1  1  .  . \n .  .  .  .  .  .  .  .  .  . \n .  .  .  .  .  .  .  .  .  . \n .  .  .  .  .  .  .  .  .  . \n .  .  .  .  .  .  .  .  .  . \n\nafter\n .  .  .  .  .  .  .  .  .  . \n .  .  .  .  .  .  .  .  .  . \n .  .  .  .  .  .  .  .  .  . \n .  .  .  .  .  .  .  .  .  . \n .  .  .  .  .  .  .  .  .  . \n .  .  .  .  .  .  1  1  1  1 \n 1  1  .  .  .  .  .  .  .  . \n .  .  .  .  .  .  .  .  .  . \n .  .  .  .  .  .  .  .  .  . \n .  .  .  .  .  .  .  .  .  . \n</code></pre>\n<p>And, here is another example, where I'll place another 6 peices, on row <em>9</em>, and attempt to move half of them <em>10</em> places.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Grid g = new Grid(10, 10);\nArrays.fill(g.d, 92, 98, 1);\nSystem.out.printf(&quot;before%n%s%n%n&quot;, g);\ng.move(9, 5, 10);\nSystem.out.printf(&quot;after%n%s&quot;, g);\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>before\n .  .  .  .  .  .  .  .  .  . \n .  .  .  .  .  .  .  .  .  . \n .  .  .  .  .  .  .  .  .  . \n .  .  .  .  .  .  .  .  .  . \n .  .  .  .  .  .  .  .  .  . \n .  .  .  .  .  .  .  .  .  . \n .  .  .  .  .  .  .  .  .  . \n .  .  .  .  .  .  .  .  .  . \n .  .  .  .  .  .  .  .  .  . \n .  .  1  1  1  1  1  1  .  . \n\nafter\n .  .  .  .  .  .  .  .  .  . \n .  .  .  .  .  .  .  .  .  . \n .  .  .  .  .  .  .  .  .  . \n .  .  .  .  .  .  .  .  .  . \n .  .  .  .  .  .  .  .  .  . \n .  .  .  .  .  .  .  .  .  . \n .  .  .  .  .  .  .  .  .  . \n .  .  .  .  .  .  .  .  .  . \n .  .  .  .  .  .  .  .  .  . \n .  .  1  1  1  .  .  1  1  1 \n</code></pre>\n"}],"owner":{"account_id":19370040,"reputation":27,"user_id":20028948,"display_name":"goatishnewcastle49"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701224251,"creation_date":1701213997,"question_id":77567742,"body_markdown":"For a small Java application, I have a constant `SIZE` x `SIZE` 2D char array called FIELD that I am trying to move two objects (represented by char symbols) through. I have two methods in my Field class but one of them does not work correctly.\r\n\r\nI want the `moveObject` method to move the given object by a given amount of spaces and wrap around the rows if necessary. Meaning, it the object reaches the SIZE - 1 index in a row, it should move down and continue from 0 in the next row. It should also stop at the SIZE-1, SIZE-1 index and stop it from moving.\r\n\r\nMy method does not work properly, can you fix it?\r\n\r\n```java\r\npublic void moveObject(Obj obj, int spaces) {\r\n        // Get the current position of the object\r\n        int oldRow = obj.getRow();\r\n        int oldCol = obj.getCol();\r\n\r\n        // Clear the current position of the player on the board\r\n        field[oldRow][oldCol] = &#39; &#39;;\r\n\r\n        // Calculate the total number of spaces moved\r\n        int totalSpaces = oldRow * SIZE + oldCol + spaces;\r\n\r\n        // Calculate the new position of the object\r\n        int newRow = (totalSpaces / SIZE) % SIZE;\r\n        int newCol = totalSpaces % SIZE;\r\n\r\n        // Update the object&#39;s position\r\n        player.row = newRow;\r\n        player.col = newCol;\r\n\r\n        // Get the piece of the object\r\n        char symbol = object.getSymbol();\r\n\r\n        // Set the new position of the object on the field\r\n        field[newRow][newCol] = symbol;\r\n    }\r\n```\r\n\r\nI can also provide the other (display) method of the field or the output of the tests I am running that are also failing as a result.\r\n\r\n\r\nMy objects are jumping to seemingly random locations when I check their locations (row and column) each time after I move them. It should be consistent and wrap around the row as I said.","title":"How to advance row-major and wrap around rows in a Java 2D array?","body":"<p>For a small Java application, I have a constant <code>SIZE</code> x <code>SIZE</code> 2D char array called FIELD that I am trying to move two objects (represented by char symbols) through. I have two methods in my Field class but one of them does not work correctly.</p>\n<p>I want the <code>moveObject</code> method to move the given object by a given amount of spaces and wrap around the rows if necessary. Meaning, it the object reaches the SIZE - 1 index in a row, it should move down and continue from 0 in the next row. It should also stop at the SIZE-1, SIZE-1 index and stop it from moving.</p>\n<p>My method does not work properly, can you fix it?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void moveObject(Obj obj, int spaces) {\n        // Get the current position of the object\n        int oldRow = obj.getRow();\n        int oldCol = obj.getCol();\n\n        // Clear the current position of the player on the board\n        field[oldRow][oldCol] = ' ';\n\n        // Calculate the total number of spaces moved\n        int totalSpaces = oldRow * SIZE + oldCol + spaces;\n\n        // Calculate the new position of the object\n        int newRow = (totalSpaces / SIZE) % SIZE;\n        int newCol = totalSpaces % SIZE;\n\n        // Update the object's position\n        player.row = newRow;\n        player.col = newCol;\n\n        // Get the piece of the object\n        char symbol = object.getSymbol();\n\n        // Set the new position of the object on the field\n        field[newRow][newCol] = symbol;\n    }\n</code></pre>\n<p>I can also provide the other (display) method of the field or the output of the tests I am running that are also failing as a result.</p>\n<p>My objects are jumping to seemingly random locations when I check their locations (row and column) each time after I move them. It should be consistent and wrap around the row as I said.</p>\n"},{"tags":["java","foreach"],"comments":[{"owner":{"account_id":8694601,"reputation":79,"user_id":6506454,"display_name":"Neto Deolino"},"score":1,"creation_date":1620238456,"post_id":67406596,"comment_id":119144535,"body_markdown":"You can sort the list by some field and then get the last or first element. Read this links: https://www.codebyamir.com/blog/sort-list-of-objects-by-field-java https://www.geeksforgeeks.org/find-first-and-last-element-of-arraylist-in-java/","body":"You can sort the list by some field and then get the last or first element. Read this links: <a href=\"https://www.codebyamir.com/blog/sort-list-of-objects-by-field-java\" rel=\"nofollow noreferrer\">codebyamir.com/blog/sort-list-of-objects-by-field-java</a> <a href=\"https://www.geeksforgeeks.org/find-first-and-last-element-of-arraylist-in-java/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/&hellip;</a>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1620240707,"post_id":67406596,"comment_id":119145477,"body_markdown":"There is no need to sort a list to get the &quot;last&quot; element: you can simply scan then list looking for the maximum element according to some comparator.","body":"There is no need to sort a list to get the &quot;last&quot; element: you can simply scan then list looking for the maximum element according to some comparator."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701223126,"creation_date":1701223126,"answer_id":77568158,"question_id":67406596,"body_markdown":"You can use a `ListIterator` to iterate in reverse:\r\n\r\n    for (ListIterator&lt;Order&gt; iter = orderList.listIterator(orderList.size());\r\n            iter.hasPrevious(); ) {\r\n        Order order = iter.previous();\r\n        if (order.getUser().equals(user)) {\r\n            return Optional.of(order);\r\n        }\r\n    }\r\n    return Optional.empty();","title":"Find the last element from a List using ForEach loop","body":"<p>You can use a <code>ListIterator</code> to iterate in reverse:</p>\n<pre><code>for (ListIterator&lt;Order&gt; iter = orderList.listIterator(orderList.size());\n        iter.hasPrevious(); ) {\n    Order order = iter.previous();\n    if (order.getUser().equals(user)) {\n        return Optional.of(order);\n    }\n}\nreturn Optional.empty();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701223876,"creation_date":1701223575,"answer_id":77568179,"question_id":67406596,"body_markdown":"You can use streams to make a sorted list of orders for your desired customer.\r\n\r\nIn Java 21+, you can use the more general `SequencedCollection` in place of `List` as the type of the reference variable.\r\n\r\n```java\r\nSequencedCollection &lt; Order &gt; ordersForCustomer =\r\n        orders\r\n                .stream ( )\r\n                .filter (\r\n                        ( Order order ) -&gt; order.customer.equalsIgnoreCase ( customer )\r\n                )\r\n                .sorted (\r\n                        Comparator.comparing ( Order :: whenPlaced )\r\n                )\r\n                .toList ( );\r\n```\r\n\r\nIn Java 21+, then use `SequencedCollection#getLast` on the `List` to obtain the most recent order for that customer. \r\n\r\n    ordersForCustomer.getLast ( ) \r\n\r\nHere is full example code.\r\n\r\n```java\r\npackage work.basil.example.streaming;\r\n\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.*;\r\n\r\npublic class MostRecentOrderForCustomer\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        MostRecentOrderForCustomer app = new MostRecentOrderForCustomer ( );\r\n        app.demo ( );\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        Collection &lt; Order &gt; orders =\r\n                List.of (\r\n                        new Order ( 1 , &quot;Alice&quot; , Instant.now ( ).minus ( Duration.ofHours ( 12 ) ) ) ,\r\n                        new Order ( 2 , &quot;Bob&quot; , Instant.now ( ).minus ( Duration.ofHours ( 9 ) ) ) ,\r\n                        new Order ( 3 , &quot;Bob&quot; , Instant.now ( ).minus ( Duration.ofHours ( 5 ) ) ) ,\r\n                        new Order ( 4 , &quot;Alice&quot; , Instant.now ( ).minus ( Duration.ofHours ( 2 ) ) )\r\n                );\r\n        orders.forEach ( System.out :: println );\r\n        Optional &lt; Order &gt; mostRecentOrderForBob = this.lastOrderFrom ( &quot;Bob&quot; , orders );\r\n        System.out.println ( &quot;mostRecentOrderForBob = &quot; + mostRecentOrderForBob );\r\n    }\r\n\r\n    Optional &lt; Order &gt; lastOrderFrom ( final String customer , final Collection &lt; Order &gt; orders )\r\n    {\r\n        Objects.requireNonNull ( customer );\r\n        Objects.requireNonNull ( orders );\r\n        if ( orders.isEmpty ( ) ) return Optional.empty ( );\r\n        SequencedCollection &lt; Order &gt; ordersForCustomer =\r\n                orders\r\n                        .stream ( )\r\n                        .filter (\r\n                                ( Order order ) -&gt; order.customer.equalsIgnoreCase ( customer )\r\n                        )\r\n                        .sorted (\r\n                                Comparator.comparing ( Order :: whenPlaced )\r\n                        )\r\n                        .toList ( );\r\n        if ( ordersForCustomer.isEmpty ( ) ) return Optional.empty ( );\r\n        return Optional.of ( ordersForCustomer.getLast ( ) );\r\n    }\r\n\r\n    record Order( int id , String customer , Instant whenPlaced ) { }\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nOrder[id=1, customer=Alice, whenPlaced=2023-11-28T14:12:42.894954Z]\r\nOrder[id=2, customer=Bob, whenPlaced=2023-11-28T17:12:42.895321Z]\r\nOrder[id=3, customer=Bob, whenPlaced=2023-11-28T21:12:42.895323Z]\r\nOrder[id=4, customer=Alice, whenPlaced=2023-11-29T00:12:42.895324Z]\r\nmostRecentOrderForBob = Optional[Order[id=3, customer=Bob, whenPlaced=2023-11-28T21:12:42.895323Z]]\r\n```\r\n","title":"Find the last element from a List using ForEach loop","body":"<p>You can use streams to make a sorted list of orders for your desired customer.</p>\n<p>In Java 21+, you can use the more general <code>SequencedCollection</code> in place of <code>List</code> as the type of the reference variable.</p>\n<pre class=\"lang-java prettyprint-override\"><code>SequencedCollection &lt; Order &gt; ordersForCustomer =\n        orders\n                .stream ( )\n                .filter (\n                        ( Order order ) -&gt; order.customer.equalsIgnoreCase ( customer )\n                )\n                .sorted (\n                        Comparator.comparing ( Order :: whenPlaced )\n                )\n                .toList ( );\n</code></pre>\n<p>In Java 21+, then use <code>SequencedCollection#getLast</code> on the <code>List</code> to obtain the most recent order for that customer.</p>\n<pre><code>ordersForCustomer.getLast ( ) \n</code></pre>\n<p>Here is full example code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.streaming;\n\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.*;\n\npublic class MostRecentOrderForCustomer\n{\n    public static void main ( String[] args )\n    {\n        MostRecentOrderForCustomer app = new MostRecentOrderForCustomer ( );\n        app.demo ( );\n    }\n\n    private void demo ( )\n    {\n        Collection &lt; Order &gt; orders =\n                List.of (\n                        new Order ( 1 , &quot;Alice&quot; , Instant.now ( ).minus ( Duration.ofHours ( 12 ) ) ) ,\n                        new Order ( 2 , &quot;Bob&quot; , Instant.now ( ).minus ( Duration.ofHours ( 9 ) ) ) ,\n                        new Order ( 3 , &quot;Bob&quot; , Instant.now ( ).minus ( Duration.ofHours ( 5 ) ) ) ,\n                        new Order ( 4 , &quot;Alice&quot; , Instant.now ( ).minus ( Duration.ofHours ( 2 ) ) )\n                );\n        orders.forEach ( System.out :: println );\n        Optional &lt; Order &gt; mostRecentOrderForBob = this.lastOrderFrom ( &quot;Bob&quot; , orders );\n        System.out.println ( &quot;mostRecentOrderForBob = &quot; + mostRecentOrderForBob );\n    }\n\n    Optional &lt; Order &gt; lastOrderFrom ( final String customer , final Collection &lt; Order &gt; orders )\n    {\n        Objects.requireNonNull ( customer );\n        Objects.requireNonNull ( orders );\n        if ( orders.isEmpty ( ) ) return Optional.empty ( );\n        SequencedCollection &lt; Order &gt; ordersForCustomer =\n                orders\n                        .stream ( )\n                        .filter (\n                                ( Order order ) -&gt; order.customer.equalsIgnoreCase ( customer )\n                        )\n                        .sorted (\n                                Comparator.comparing ( Order :: whenPlaced )\n                        )\n                        .toList ( );\n        if ( ordersForCustomer.isEmpty ( ) ) return Optional.empty ( );\n        return Optional.of ( ordersForCustomer.getLast ( ) );\n    }\n\n    record Order( int id , String customer , Instant whenPlaced ) { }\n}\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Order[id=1, customer=Alice, whenPlaced=2023-11-28T14:12:42.894954Z]\nOrder[id=2, customer=Bob, whenPlaced=2023-11-28T17:12:42.895321Z]\nOrder[id=3, customer=Bob, whenPlaced=2023-11-28T21:12:42.895323Z]\nOrder[id=4, customer=Alice, whenPlaced=2023-11-29T00:12:42.895324Z]\nmostRecentOrderForBob = Optional[Order[id=3, customer=Bob, whenPlaced=2023-11-28T21:12:42.895323Z]]\n</code></pre>\n"}],"owner":{"account_id":21501442,"reputation":21,"user_id":15845588,"display_name":"Dinu Donoaga"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1701223876,"creation_date":1620238126,"question_id":67406596,"body_markdown":"I am trying to find the most recent order associated with User and I have to use a forEach loop to iterate in reverse in order to find the most recent order.\r\n\r\nHere is my code: \r\n\r\n    public Optional&lt;Order&gt; lastOrderFrom(User user, List&lt;Order&gt; orderList) {\r\n            Optional&lt;Order&gt; result = \r\n                    orderList\r\n                    .stream()\r\n                    .filter(order -&gt; order.getUser().equals(user))\r\n                    .collect(Collectors.toCollection(result::new))\r\n                    .forEach(i -&gt; System.out.println(user));\r\n    \r\n            return result;\r\n        }\r\n\r\n","title":"Find the last element from a List using ForEach loop","body":"<p>I am trying to find the most recent order associated with User and I have to use a forEach loop to iterate in reverse in order to find the most recent order.</p>\n<p>Here is my code:</p>\n<pre><code>public Optional&lt;Order&gt; lastOrderFrom(User user, List&lt;Order&gt; orderList) {\n        Optional&lt;Order&gt; result = \n                orderList\n                .stream()\n                .filter(order -&gt; order.getUser().equals(user))\n                .collect(Collectors.toCollection(result::new))\n                .forEach(i -&gt; System.out.println(user));\n\n        return result;\n    }\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1464035122,"post_id":37399825,"comment_id":62308392,"body_markdown":"It is currently unclear what your problem with this current code is (except the missing return statement). It does what you want it to do (show either &quot;l&quot; or &quot;R&quot;). Or do you want to build a single String with the `for` loop (like &quot;RRlRll&quot;) and print the whole String, instead of each letter separately?","body":"It is currently unclear what your problem with this current code is (except the missing return statement). It does what you want it to do (show either &quot;l&quot; or &quot;R&quot;). Or do you want to build a single String with the <code>for</code> loop (like &quot;RRlRll&quot;) and print the whole String, instead of each letter separately?"},{"owner":{"account_id":7642432,"reputation":2929,"user_id":5794129,"accept_rate":75,"display_name":"Priyamal"},"score":0,"creation_date":1464035314,"post_id":37399825,"comment_id":62308494,"body_markdown":"are you sure you need a for loop . this will give you so many joption panes.next joption pane will be visible once you close the visible one.","body":"are you sure you need a for loop . this will give you so many joption panes.next joption pane will be visible once you close the visible one."},{"owner":{"account_id":8080191,"reputation":60,"user_id":6089712,"display_name":"Noel Obaseki"},"score":0,"creation_date":1464035689,"post_id":37399825,"comment_id":62308709,"body_markdown":"i want it to build a single String with the for loop","body":"i want it to build a single String with the for loop"},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1464036362,"post_id":37399825,"comment_id":62309093,"body_markdown":"When you write a question, then clearly state what your issue is. That you&#39;re trying to create a complete String is crucial information, so don&#39;t add that later in the comments. This might help you: http://stackoverflow.com/help/how-to-ask.","body":"When you write a question, then clearly state what your issue is. That you&#39;re trying to create a complete String is crucial information, so don&#39;t add that later in the comments. This might help you: <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>."}],"answers":[{"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1464035938,"post_id":37400040,"comment_id":62308857,"body_markdown":"You notice, that your code does just the same as OPs code, right? And mind that OP commented after your answer: *&quot;i want it to build a single String with the for loop&quot;*.","body":"You notice, that your code does just the same as OPs code, right? And mind that OP commented after your answer: <i>&quot;i want it to build a single String with the for loop&quot;</i>."},{"owner":{"account_id":7642432,"reputation":2929,"user_id":5794129,"accept_rate":75,"display_name":"Priyamal"},"score":0,"creation_date":1464035995,"post_id":37400040,"comment_id":62308896,"body_markdown":"except the part printing a empty joption pane at the end.","body":"except the part printing a empty joption pane at the end."},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1464036089,"post_id":37400040,"comment_id":62308942,"body_markdown":"And that part is what OP is asking about ... good that your answer omitted that ;P.","body":"And that part is what OP is asking about ... good that your answer omitted that ;P."},{"owner":{"account_id":7642432,"reputation":2929,"user_id":5794129,"accept_rate":75,"display_name":"Priyamal"},"score":0,"creation_date":1464036353,"post_id":37400040,"comment_id":62309091,"body_markdown":"op clearly mention in his post that he want to print &quot;R&quot; or &quot;L&quot; what am i supposed to do after that ?. anyway edited my post.","body":"op clearly mention in his post that he want to print &quot;R&quot; or &quot;L&quot; what am i supposed to do after that ?. anyway edited my post."},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1464036460,"post_id":37400040,"comment_id":62309140,"body_markdown":"I guess we can both agree that the question is quite unclear and badly asked. I linked him the help page about asking question, so this may improve in the future.","body":"I guess we can both agree that the question is quite unclear and badly asked. I linked him the help page about asking question, so this may improve in the future."},{"owner":{"account_id":8080191,"reputation":60,"user_id":6089712,"display_name":"Noel Obaseki"},"score":0,"creation_date":1464037113,"post_id":37400040,"comment_id":62309452,"body_markdown":"thx \nsorry if the question was poorly asked\nbut i got my answer \nthx a  lot guys","body":"thx  sorry if the question was poorly asked but i got my answer  thx a  lot guys"}],"tags":[],"owner":{"account_id":7642432,"reputation":2929,"user_id":5794129,"accept_rate":75,"display_name":"Priyamal"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464036229,"creation_date":1464035562,"answer_id":37400040,"question_id":37399825,"body_markdown":"      \r\n       String output = &quot;&quot;;  \r\n       for (int i = 0; i &lt; NumberOfSlot; i++) {\r\n            output = Math.random() * 10 &lt;= 5 ? output+&quot;R&quot; : output+&quot;L&quot;;\r\n        }\r\n        JOptionPane.showMessageDialog(null, output);\r\n        //edited the answer according to op&#39;s last comment.\r\n\r\ndeclare a `String` named `output` outside the `forloop` , you can then change it within your `conditions`. then open the `joption pane` at the end. \r\n","title":"Displaying output with JOptionPane","body":"<pre><code>   String output = \"\";  \n   for (int i = 0; i &lt; NumberOfSlot; i++) {\n        output = Math.random() * 10 &lt;= 5 ? output+\"R\" : output+\"L\";\n    }\n    JOptionPane.showMessageDialog(null, output);\n    //edited the answer according to op's last comment.\n</code></pre>\n\n<p>declare a <code>String</code> named <code>output</code> outside the <code>forloop</code> , you can then change it within your <code>conditions</code>. then open the <code>joption pane</code> at the end. </p>\n"},{"comments":[{"owner":{"account_id":7642432,"reputation":2929,"user_id":5794129,"accept_rate":75,"display_name":"Priyamal"},"score":0,"creation_date":1464035781,"post_id":37400071,"comment_id":62308752,"body_markdown":"How do I use JOptionPane to display either &quot;l&quot; or &quot;R&quot; ?. which part of your code does that","body":"How do I use JOptionPane to display either &quot;l&quot; or &quot;R&quot; ?. which part of your code does that"}],"tags":[],"owner":{"account_id":8489465,"reputation":417,"user_id":6366301,"accept_rate":100,"display_name":"RobotKarel314"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1464035706,"creation_date":1464035706,"answer_id":37400071,"question_id":37399825,"body_markdown":"Your code is very unclear (do you want to show a bunch of joptionpanes?), but this may be what you want:\r\n\r\n    String output = &quot;&quot;;\r\n    for (int x = 0; x &lt; NumberOfSlot; x++)\r\n    {\r\n        if (Math.random() * 10 &lt;= 5) {\r\n            output+=&quot;R&quot;;\r\n        } else {\r\n            output+=&quot;l&quot;;\r\n        }\r\n    }\r\n    JOptionPane.showMessageDialog(null, output);\r\nPlease provide some more information, though.","title":"Displaying output with JOptionPane","body":"<p>Your code is very unclear (do you want to show a bunch of joptionpanes?), but this may be what you want:</p>\n\n<pre><code>String output = \"\";\nfor (int x = 0; x &lt; NumberOfSlot; x++)\n{\n    if (Math.random() * 10 &lt;= 5) {\n        output+=\"R\";\n    } else {\n        output+=\"l\";\n    }\n}\nJOptionPane.showMessageDialog(null, output);\n</code></pre>\n\n<p>Please provide some more information, though.</p>\n"}],"owner":{"account_id":8080191,"reputation":60,"user_id":6089712,"display_name":"Noel Obaseki"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10629,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701223280,"creation_date":1464034806,"question_id":37399825,"body_markdown":"How can I display an output string from my method using `JOptionPane`, when my output has a number of variations due to an `if` loop in my method? \r\nFor example: \r\n\r\n    public static int ballpath(int NumberOfSlot) {\r\n        for (int i = 0; i &lt; NumberOfSlot; i++) {\r\n            if (Math.random() * 10 &lt;= 5) {\r\n                String output3 = &quot;R&quot;;\r\n                JOptionPane.showMessageDialog(null, output3);\r\n            } else {\r\n                String output4 = &quot;l&quot;;\r\n                JOptionPane.showMessageDialog(null, output4);\r\n            }\r\n        }\r\n        JOptionPane.showMessageDialog();\r\n    }\r\n\r\nHow do I use `JOptionPane` to display either `&quot;l&quot;` or `&quot;R&quot;` when I call on the method in my program?\r\np.s the last bit of code `  JOptionPane.showMessageDialog(); `isnt complete cause i dont know how to display the output","title":"Displaying output with JOptionPane","body":"<p>How can I display an output string from my method using <code>JOptionPane</code>, when my output has a number of variations due to an <code>if</code> loop in my method? \nFor example: </p>\n\n<pre><code>public static int ballpath(int NumberOfSlot) {\n    for (int i = 0; i &lt; NumberOfSlot; i++) {\n        if (Math.random() * 10 &lt;= 5) {\n            String output3 = \"R\";\n            JOptionPane.showMessageDialog(null, output3);\n        } else {\n            String output4 = \"l\";\n            JOptionPane.showMessageDialog(null, output4);\n        }\n    }\n    JOptionPane.showMessageDialog();\n}\n</code></pre>\n\n<p>How do I use <code>JOptionPane</code> to display either <code>\"l\"</code> or <code>\"R\"</code> when I call on the method in my program?\np.s the last bit of code <code>JOptionPane.showMessageDialog();</code>isnt complete cause i dont know how to display the output</p>\n"},{"tags":["java","spring-boot","minio"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1701175729,"post_id":77563970,"comment_id":136740429,"body_markdown":"Multithreading does not ‘optimize performance’ of an upload. There is only one network.","body":"Multithreading does not ‘optimize performance’ of an upload. There is only one network."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1701176433,"post_id":77563970,"comment_id":136740565,"body_markdown":"A single thread is probably fast enough to saturate your upload link. If you use more threads then the upload data rate is divided between these threads, meaning that each thread gets less upload data rate.","body":"A single thread is probably fast enough to saturate your upload link. If you use more threads then the upload data rate is divided between these threads, meaning that each thread gets less upload data rate."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1701183211,"post_id":77563970,"comment_id":136741961,"body_markdown":"Also you don&#39;t need to create multiple MinIO clients for multi-threading (https://stackoverflow.com/questions/59788343/minioclient-thread-safe, https://github.com/minio/minio-java/issues/975)","body":"Also you don&#39;t need to create multiple MinIO clients for multi-threading (<a href=\"https://stackoverflow.com/questions/59788343/minioclient-thread-safe\" title=\"minioclient thread safe\">stackoverflow.com/questions/59788343/minioclient-thread-saf&zwnj;&#8203;e</a>, <a href=\"https://github.com/minio/minio-java/issues/975\" rel=\"nofollow noreferrer\">github.com/minio/minio-java/issues/975</a>)"},{"owner":{"account_id":28010378,"reputation":1,"user_id":21393014,"display_name":"Walker"},"score":0,"creation_date":1701223444,"post_id":77563970,"comment_id":136748126,"body_markdown":"Thanks,I know. But I want to know what is really limiting my upload speed, disk, network, CPU, memory resources are sufficient...","body":"Thanks,I know. But I want to know what is really limiting my upload speed, disk, network, CPU, memory resources are sufficient..."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1701293661,"post_id":77563970,"comment_id":136759376,"body_markdown":"@ThomasKl&#228;ger has already answered that.","body":"@ThomasKl&#228;ger has already answered that."}],"owner":{"account_id":28010378,"reputation":1,"user_id":21393014,"display_name":"Walker"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701223252,"creation_date":1701175344,"question_id":77563970,"body_markdown":"There are a large number of pictures in our business that need to upload MinIO. In order to improve the upload speed, I used multiple threads, but found that the more threads, the slower the upload speed.\r\n\r\n\r\nI analyzed it and suspected that it was because MinIOClient was a single instance that multithreading could not be used to optimize upload performance, so I created multiple MinIOClient to improve the upload performance of multithreading. The optimized code is as follows:\r\n\r\n``` Java\r\n\r\nimport com.pe.pe_service.service.ISysModuleConfigService;\r\nimport io.minio.MinioClient;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\nimport java.util.concurrent.CopyOnWriteArrayList;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\n\r\n@Slf4j\r\npublic class MinioUtils {\r\n\r\n    private static final Integer DEFAULT_MINIO_CLIENT_COUNT = 10;\r\n\r\n    public static CopyOnWriteArrayList&lt;MinioClient&gt; MINIO_LIST = new CopyOnWriteArrayList&lt;MinioClient&gt;();\r\n\r\n    public static AtomicInteger index = new AtomicInteger(0);\r\n\r\n    public static MinioClient minioClient(String address, String accessKey, String secretKey) {\r\n        try {\r\n            return new MinioClient.Builder()\r\n                    .endpoint(address)\r\n                    .credentials(accessKey, secretKey)\r\n                    .build();\r\n        } catch (Exception e) {\r\n            log.error(&quot;minioClient address[{}] accessKey[{}] secretKey[{}] 初始化异常&quot;, address, accessKey, secretKey);\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n    public static void initMinioList(String address, String accessKey, String secretKey) {\r\n        for (int i = 0; i &lt; MinioUtils.getMinioClientCount(); i++) {\r\n            MINIO_LIST.add(MinioUtils.minioClient(address, accessKey, secretKey));\r\n        }\r\n    }\r\n\r\n    public static MinioClient getMinioClient() {\r\n        int i = index.get();\r\n        i = (++i) % MinioUtils.getMinioClientCount();\r\n        index.set(i);\r\n        return MINIO_LIST.get(i);\r\n    }\r\n\r\n    public static Integer getMinioClientCount() {\r\n        return DEFAULT_MINIO_CLIENT_COUNT;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nBut there is no effect, I need help!!! how can I improve the upload performance of minio multithreading?\r\n\r\nMinIO is also deployed in the same environment, so I don&#39;t think the network is a bottleneck.\r\n\r\nNow no matter how many threads I use, the upload rate is around 100 images. per second","title":"Why MinioClient multi-threaded upload, the more threads, the slower the upload?","body":"<p>There are a large number of pictures in our business that need to upload MinIO. In order to improve the upload speed, I used multiple threads, but found that the more threads, the slower the upload speed.</p>\n<p>I analyzed it and suspected that it was because MinIOClient was a single instance that multithreading could not be used to optimize upload performance, so I created multiple MinIOClient to improve the upload performance of multithreading. The optimized code is as follows:</p>\n<pre><code>\nimport com.pe.pe_service.service.ISysModuleConfigService;\nimport io.minio.MinioClient;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport java.util.concurrent.CopyOnWriteArrayList;\nimport java.util.concurrent.atomic.AtomicInteger;\n\n@Slf4j\npublic class MinioUtils {\n\n    private static final Integer DEFAULT_MINIO_CLIENT_COUNT = 10;\n\n    public static CopyOnWriteArrayList&lt;MinioClient&gt; MINIO_LIST = new CopyOnWriteArrayList&lt;MinioClient&gt;();\n\n    public static AtomicInteger index = new AtomicInteger(0);\n\n    public static MinioClient minioClient(String address, String accessKey, String secretKey) {\n        try {\n            return new MinioClient.Builder()\n                    .endpoint(address)\n                    .credentials(accessKey, secretKey)\n                    .build();\n        } catch (Exception e) {\n            log.error(&quot;minioClient address[{}] accessKey[{}] secretKey[{}] 初始化异常&quot;, address, accessKey, secretKey);\n        }\n        return null;\n    }\n\n\n    public static void initMinioList(String address, String accessKey, String secretKey) {\n        for (int i = 0; i &lt; MinioUtils.getMinioClientCount(); i++) {\n            MINIO_LIST.add(MinioUtils.minioClient(address, accessKey, secretKey));\n        }\n    }\n\n    public static MinioClient getMinioClient() {\n        int i = index.get();\n        i = (++i) % MinioUtils.getMinioClientCount();\n        index.set(i);\n        return MINIO_LIST.get(i);\n    }\n\n    public static Integer getMinioClientCount() {\n        return DEFAULT_MINIO_CLIENT_COUNT;\n    }\n\n\n}\n</code></pre>\n<p>But there is no effect, I need help!!! how can I improve the upload performance of minio multithreading?</p>\n<p>MinIO is also deployed in the same environment, so I don't think the network is a bottleneck.</p>\n<p>Now no matter how many threads I use, the upload rate is around 100 images. per second</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1671271,"reputation":1283,"user_id":1537706,"accept_rate":59,"display_name":"CrazySabbath"},"score":0,"creation_date":1512562106,"post_id":47673932,"comment_id":82306667,"body_markdown":"That&#39;s because sublist returns a new list.","body":"That&#39;s because sublist returns a new list."},{"owner":{"account_id":2918019,"reputation":4374,"user_id":2500842,"accept_rate":85,"display_name":"Master Yoda"},"score":0,"creation_date":1512562185,"post_id":47673932,"comment_id":82306702,"body_markdown":"Why do you want to return a list with only one index? Are you planning on adding to it? Im just curious as if you only need one index you could return just the item at that index instead of a list","body":"Why do you want to return a list with only one index? Are you planning on adding to it? Im just curious as if you only need one index you could return just the item at that index instead of a list"},{"owner":{"account_id":3658649,"reputation":1521,"user_id":3049036,"accept_rate":57,"display_name":"Suresh"},"score":1,"creation_date":1512563492,"post_id":47673932,"comment_id":82307444,"body_markdown":"@Master Yoda, I&#39;m glad to answer your question. \nI&#39;m extracting the data from DB and passing it to list in batches with time interval of 30 seconds. Under each batch of records, I just need the last record to store aside so that I&#39;ll start the next batch starting from last record+1 to start the next batch. I know I&#39;m confusing you now but that&#39;s all I can explain in short. Thanks for your advise, will use it in future when required.","body":"@Master Yoda, I&#39;m glad to answer your question.  I&#39;m extracting the data from DB and passing it to list in batches with time interval of 30 seconds. Under each batch of records, I just need the last record to store aside so that I&#39;ll start the next batch starting from last record+1 to start the next batch. I know I&#39;m confusing you now but that&#39;s all I can explain in short. Thanks for your advise, will use it in future when required."},{"owner":{"account_id":2918019,"reputation":4374,"user_id":2500842,"accept_rate":85,"display_name":"Master Yoda"},"score":0,"creation_date":1512565187,"post_id":47673932,"comment_id":82308549,"body_markdown":"@mannedear Ah that makes a lot of sense. Good question","body":"@mannedear Ah that makes a lot of sense. Good question"}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1512562102,"creation_date":1512562102,"answer_id":47673971,"question_id":47673932,"body_markdown":"`list.subList` returns a new `List` backed by the original `List`.\r\n\r\nYou need to store the returned list in a variable in order to use it:\r\n\r\n    List&lt;String&gt; subList = list.subList(list.size()-1, list.size());\r\n\r\n`subList.size()` will be 1. `list` will remain unchanged.\r\n\r\nIf you want to remove all but the last element from the original `List`, you can write:\r\n\r\n    list.subList(0, list.size()-1).clear();\r\n\r\nNow the original `List` will contain just 1 element.","title":"How can I just get the last record in the java.util.List using subList() or any other method?","body":"<p><code>list.subList</code> returns a new <code>List</code> backed by the original <code>List</code>.</p>\n\n<p>You need to store the returned list in a variable in order to use it:</p>\n\n<pre><code>List&lt;String&gt; subList = list.subList(list.size()-1, list.size());\n</code></pre>\n\n<p><code>subList.size()</code> will be 1. <code>list</code> will remain unchanged.</p>\n\n<p>If you want to remove all but the last element from the original <code>List</code>, you can write:</p>\n\n<pre><code>list.subList(0, list.size()-1).clear();\n</code></pre>\n\n<p>Now the original <code>List</code> will contain just 1 element.</p>\n"},{"tags":[],"owner":{"account_id":5282797,"reputation":545,"user_id":4217608,"display_name":"Dogukan Zengin"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1512562142,"creation_date":1512562142,"answer_id":47673985,"question_id":47673932,"body_markdown":"*ArrayList.subList* method returns a sublist of your list without modifying your existing list.\r\n\r\nSo you need to do;\r\n\r\n    list = list.subList(list.size()-1, list.size()); ","title":"How can I just get the last record in the java.util.List using subList() or any other method?","body":"<p><em>ArrayList.subList</em> method returns a sublist of your list without modifying your existing list.</p>\n\n<p>So you need to do;</p>\n\n<pre><code>list = list.subList(list.size()-1, list.size()); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7544544,"reputation":7144,"user_id":5728095,"accept_rate":76,"display_name":"Sergii"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1512563563,"creation_date":1512562405,"answer_id":47674064,"question_id":47673932,"body_markdown":"To get just last record without changing list you could use:\r\n\r\n    element = list.get(list.size()-1);\r\n\r\nthis will work for any list, most effective for `ArrayList` implementation. ","title":"How can I just get the last record in the java.util.List using subList() or any other method?","body":"<p>To get just last record without changing list you could use:</p>\n\n<pre><code>element = list.get(list.size()-1);\n</code></pre>\n\n<p>this will work for any list, most effective for <code>ArrayList</code> implementation. </p>\n"},{"tags":[],"owner":{"account_id":10469845,"reputation":55,"user_id":11898558,"display_name":"JuBz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642613694,"creation_date":1642613394,"answer_id":70775145,"question_id":47673932,"body_markdown":"You can do it by importing com.google.common.collect.Iterables, but be aware if list is empty it will throw **NoSuchElementException**.\r\n\r\n    \r\n    public MODEL getLastEntry(List&lt;MODEL&gt; list) {\r\n       return Iterables.getLast(list);\r\n    }\r\n\r\nYou can also use stream for it: https://www.baeldung.com/java-stream-last-element","title":"How can I just get the last record in the java.util.List using subList() or any other method?","body":"<p>You can do it by importing com.google.common.collect.Iterables, but be aware if list is empty it will throw <strong>NoSuchElementException</strong>.</p>\n<pre><code>public MODEL getLastEntry(List&lt;MODEL&gt; list) {\n   return Iterables.getLast(list);\n}\n</code></pre>\n<p>You can also use stream for it: <a href=\"https://www.baeldung.com/java-stream-last-element\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-stream-last-element</a></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701222028,"creation_date":1701222028,"answer_id":77568110,"question_id":47673932,"body_markdown":"## tl;dr\r\n\r\n&gt; How can I get just the last record\r\n\r\nIn Java 21+…\r\n\r\n    strings.getLast() \r\n\r\n\r\n## `SequencedCollection`\r\n\r\nAs of Java 21, [`List`][1] is a sub-interface of [`SequencedCollection`][2]. For details, see [Java JEP 431][3].\r\n\r\nSo now `List` offers a convenient [`getLast`][4] method.\r\n\r\n    List&lt; String &gt; strings = List.of( &quot;Alice&quot; , &quot;Bob&quot; , &quot;Carol&quot; ) ;\r\n\r\n… or the more general `SequencedCollection` rather than `List`:\r\n\r\n    SequencedCollection&lt; String &gt; strings = List.of( &quot;Alice&quot; , &quot;Bob&quot; , &quot;Carol&quot; ) ;\r\n\r\nCombine that with [`List.of`][5] to get a new list made of only the last item.\r\n\r\n    List&lt; String &gt; listOfTheLast = List.of( strings.getLast() ) ;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedCollection.html\r\n  [3]: https://openjdk.org/jeps/431\r\n  [4]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#getLast()\r\n  [5]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#of(E)","title":"How can I just get the last record in the java.util.List using subList() or any other method?","body":"<h2>tl;dr</h2>\n<blockquote>\n<p>How can I get just the last record</p>\n</blockquote>\n<p>In Java 21+…</p>\n<pre><code>strings.getLast() \n</code></pre>\n<h2><code>SequencedCollection</code></h2>\n<p>As of Java 21, <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\"><code>List</code></a> is a sub-interface of <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedCollection.html\" rel=\"nofollow noreferrer\"><code>SequencedCollection</code></a>. For details, see <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\">Java JEP 431</a>.</p>\n<p>So now <code>List</code> offers a convenient <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#getLast()\" rel=\"nofollow noreferrer\"><code>getLast</code></a> method.</p>\n<pre><code>List&lt; String &gt; strings = List.of( &quot;Alice&quot; , &quot;Bob&quot; , &quot;Carol&quot; ) ;\n</code></pre>\n<p>… or the more general <code>SequencedCollection</code> rather than <code>List</code>:</p>\n<pre><code>SequencedCollection&lt; String &gt; strings = List.of( &quot;Alice&quot; , &quot;Bob&quot; , &quot;Carol&quot; ) ;\n</code></pre>\n<p>Combine that with <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#of(E)\" rel=\"nofollow noreferrer\"><code>List.of</code></a> to get a new list made of only the last item.</p>\n<pre><code>List&lt; String &gt; listOfTheLast = List.of( strings.getLast() ) ;\n</code></pre>\n"}],"owner":{"account_id":3658649,"reputation":1521,"user_id":3049036,"accept_rate":57,"display_name":"Suresh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11934,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":47673971,"answer_count":5,"score":8,"last_activity_date":1701222028,"creation_date":1512561996,"question_id":47673932,"body_markdown":"  \r\nSay I have a list of elements whose size is 100. Now I only want the 100th record in the list and the rest of all records from 1-99 should be removed from the list.\r\n\r\nI have tried the below piece of code but no change in list size as I see it.  \r\n//Output list.size() returns 100\r\n\r\n    list.subList(list.size()-1, list.size()); \r\n\r\n//Output list.size() returns 100 after subList() called...  \r\nHow can I get just the last record in the java.util.List using subList() or using any other methods available in Java?","title":"How can I just get the last record in the java.util.List using subList() or any other method?","body":"<p>Say I have a list of elements whose size is 100. Now I only want the 100th record in the list and the rest of all records from 1-99 should be removed from the list.</p>\n\n<p>I have tried the below piece of code but no change in list size as I see it.<br>\n//Output list.size() returns 100</p>\n\n<pre><code>list.subList(list.size()-1, list.size()); \n</code></pre>\n\n<p>//Output list.size() returns 100 after subList() called...<br>\nHow can I get just the last record in the java.util.List using subList() or using any other methods available in Java?</p>\n"},{"tags":["java","list"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1317125373,"post_id":7568819,"comment_id":9176177,"body_markdown":"There is no `element()` method in `java.util.List`. Are you talking about some other class/interface?","body":"There is no <code>element()</code> method in <code>java.util.List</code>. Are you talking about some other class/interface?"},{"owner":{"account_id":78288,"reputation":8738,"user_id":1087469,"accept_rate":74,"display_name":"leifg"},"score":0,"creation_date":1317125533,"post_id":7568819,"comment_id":9176239,"body_markdown":"You&#39;re right the element() method is implemented Deque interface which is implemented in LinkedList","body":"You&#39;re right the element() method is implemented Deque interface which is implemented in LinkedList"},{"owner":{"account_id":434913,"reputation":3251,"user_id":821202,"display_name":"michael667"},"score":3,"creation_date":1317125716,"post_id":7568819,"comment_id":9176299,"body_markdown":"There is also `getFirst()` and `getLast()` in the `Deque` interface","body":"There is also <code>getFirst()</code> and <code>getLast()</code> in the <code>Deque</code> interface"},{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":1,"creation_date":1317126633,"post_id":7568819,"comment_id":9176595,"body_markdown":"As explained by others `head()` and `tail()` can be implemented trivially. But I want to caution you against the `return null` part -- don&#39;t do it unless you have very good reason.","body":"As explained by others <code>head()</code> and <code>tail()</code> can be implemented trivially. But I want to caution you against the <code>return null</code> part -- don&#39;t do it unless you have very good reason."},{"owner":{"account_id":990530,"reputation":13072,"user_id":1007991,"accept_rate":82,"display_name":"Renato"},"score":20,"creation_date":1379399216,"post_id":7568819,"comment_id":27799317,"body_markdown":"`tail` traditionally should return the the list minus its head. That&#39;s what you get in any functional language.","body":"<code>tail</code> traditionally should return the the list minus its head. That&#39;s what you get in any functional language."},{"owner":{"account_id":437637,"reputation":473,"user_id":825436,"accept_rate":60,"display_name":"SigmaX"},"score":1,"creation_date":1407867268,"post_id":7568819,"comment_id":39378427,"body_markdown":"@Renato is correct.  That is not a tail method.  The answers to this question that are saying &quot;it&#39;s trivial&quot; thus don&#39;t apply to tail, only head.","body":"@Renato is correct.  That is not a tail method.  The answers to this question that are saying &quot;it&#39;s trivial&quot; thus don&#39;t apply to tail, only head."},{"owner":{"account_id":81519,"reputation":34798,"user_id":229792,"accept_rate":63,"display_name":"jameshfisher"},"score":2,"creation_date":1420539828,"post_id":7568819,"comment_id":44001790,"body_markdown":"Downvoted question for confusing incorrect terminology. Please reword the question, replacing &quot;head&quot; with &quot;last&quot; (at least, this is the Haskell name for what&#39;s implemented here).","body":"Downvoted question for confusing incorrect terminology. Please reword the question, replacing &quot;head&quot; with &quot;last&quot; (at least, this is the Haskell name for what&#39;s implemented here)."},{"owner":{"account_id":78288,"reputation":8738,"user_id":1087469,"accept_rate":74,"display_name":"leifg"},"score":3,"creation_date":1420629900,"post_id":7568819,"comment_id":44042566,"body_markdown":"I&#39;m sorry that this is confusing for you, but in the java api doc, the terms &quot;head&quot; and &quot;tail&quot; are used numerous times, so I guess for this context these are the right terms.","body":"I&#39;m sorry that this is confusing for you, but in the java api doc, the terms &quot;head&quot; and &quot;tail&quot; are used numerous times, so I guess for this context these are the right terms."}],"answers":[{"comments":[{"owner":{"account_id":17949,"reputation":9445,"user_id":40725,"accept_rate":72,"display_name":"Mark Canlas"},"score":9,"creation_date":1405369877,"post_id":7568883,"comment_id":38390004,"body_markdown":"&quot;Get last&quot; isn&#39;t the same as &quot;tail&quot;.","body":"&quot;Get last&quot; isn&#39;t the same as &quot;tail&quot;."},{"owner":{"account_id":437637,"reputation":473,"user_id":825436,"accept_rate":60,"display_name":"SigmaX"},"score":8,"creation_date":1407867400,"post_id":7568883,"comment_id":39378505,"body_markdown":"The question gets the definition of tail() wrong, and the answers reproduce that mistake.","body":"The question gets the definition of tail() wrong, and the answers reproduce that mistake."}],"tags":[],"owner":{"account_id":95356,"reputation":10155,"user_id":259747,"accept_rate":94,"display_name":"Daniel"},"comment_count":2,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1317125492,"creation_date":1317125492,"answer_id":7568883,"question_id":7568819,"body_markdown":"As far as I can tell, `List` doesn&#39;t have an `element` method. `LinkedList`, however, has `getFirst()` and `getLast()`, which do as you describe.","title":"Why no tail() or head() method in List to get last or first element?","body":"<p>As far as I can tell, <code>List</code> doesn't have an <code>element</code> method. <code>LinkedList</code>, however, has <code>getFirst()</code> and <code>getLast()</code>, which do as you describe.</p>\n"},{"comments":[{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":0,"creation_date":1472332388,"post_id":7568891,"comment_id":65712805,"body_markdown":"This answer copies the mistake in the question, which gives an incorrect definition of tail(). Tail means the list sans the head, not the last element of the list.","body":"This answer copies the mistake in the question, which gives an incorrect definition of tail(). Tail means the list sans the head, not the last element of the list."},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1472357125,"post_id":7568891,"comment_id":65716889,"body_markdown":"@LawrenceDol - seems like your issue is with the question, not this answer, since the answer addresses the question as asked.  your interpretation seems to be one of the two valid interpretations according to wikipedia: &quot;The &#39;tail&#39; of a list may refer either to the rest of the list after the head, or to the last node in the list.&quot;","body":"@LawrenceDol - seems like your issue is with the question, not this answer, since the answer addresses the question as asked.  your interpretation seems to be one of the two valid interpretations according to wikipedia: &quot;The &#39;tail&#39; of a list may refer either to the rest of the list after the head, or to the last node in the list.&quot;"},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1472558526,"post_id":7568891,"comment_id":65791090,"body_markdown":"@LawrenceDol - please remove your misguided downvote.","body":"@LawrenceDol - please remove your misguided downvote."}],"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1317125509,"creation_date":1317125509,"answer_id":7568891,"question_id":7568819,"body_markdown":"there are always choices one must make in good API design.  there are _lots_ of methods that _could_ be added to the API, however, you have to find the fine line between making the API usable for most people and making it too cluttered and redundant.  as it is, you can implement the tail method as you have shown in an efficient way for most List implementations, and LinkedList already has a getLast() method.","title":"Why no tail() or head() method in List to get last or first element?","body":"<p>there are always choices one must make in good API design.  there are <em>lots</em> of methods that <em>could</em> be added to the API, however, you have to find the fine line between making the API usable for most people and making it too cluttered and redundant.  as it is, you can implement the tail method as you have shown in an efficient way for most List implementations, and LinkedList already has a getLast() method.</p>\n"},{"comments":[{"owner":{"account_id":96009,"reputation":6856,"user_id":261181,"accept_rate":85,"display_name":"Aivar"},"score":34,"creation_date":1395868349,"post_id":7568943,"comment_id":34539287,"body_markdown":"Thing is these methods are not unnecessary - functional style list handling is PITA without these.","body":"Thing is these methods are not unnecessary - functional style list handling is PITA without these."},{"owner":{"account_id":1190593,"reputation":710,"user_id":1163490,"accept_rate":44,"display_name":"divs1210"},"score":3,"creation_date":1498583687,"post_id":7568943,"comment_id":76553167,"body_markdown":"Not just a PITA, it&#39;s much less useful. Let&#39;s say I have a lazy list and I want to get it&#39;s tail. What do I do? Also, in order to get the tail of a list I have to walk all of it to calculate the length. That&#39;s a lot of waste.","body":"Not just a PITA, it&#39;s much less useful. Let&#39;s say I have a lazy list and I want to get it&#39;s tail. What do I do? Also, in order to get the tail of a list I have to walk all of it to calculate the length. That&#39;s a lot of waste."},{"owner":{"account_id":41028,"reputation":1596,"user_id":119151,"accept_rate":77,"display_name":"dstibbe"},"score":1,"creation_date":1618910644,"post_id":7568943,"comment_id":118739623,"body_markdown":"This sounds like the argument Oracle used for not having booleans in their database.","body":"This sounds like the argument Oracle used for not having booleans in their database."}],"tags":[],"owner":{"account_id":109733,"reputation":31428,"user_id":290629,"accept_rate":88,"display_name":"卢声远 Shengyuan Lu"},"comment_count":3,"down_vote_count":10,"up_vote_count":28,"is_accepted":true,"score":18,"last_activity_date":1317126436,"creation_date":1317125714,"answer_id":7568943,"question_id":7568819,"body_markdown":"Java Collections Framework is written by Joshua Bloch. One of his API design principles is: **High power-to-weight ratio**. \r\n\r\n`tail()` and `head()` can be implemented by `get()` and `size()`, so it&#39;s not necessary to add `tail()` and `head()` to a very general interface `java.util.List`. Once users use the methods, you don&#39;t have chance to remove them and you have to maintain these unnecessary methods forever. That&#39;s bad.","title":"Why no tail() or head() method in List to get last or first element?","body":"<p>Java Collections Framework is written by Joshua Bloch. One of his API design principles is: <strong>High power-to-weight ratio</strong>. </p>\n\n<p><code>tail()</code> and <code>head()</code> can be implemented by <code>get()</code> and <code>size()</code>, so it's not necessary to add <code>tail()</code> and <code>head()</code> to a very general interface <code>java.util.List</code>. Once users use the methods, you don't have chance to remove them and you have to maintain these unnecessary methods forever. That's bad.</p>\n"},{"comments":[{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":0,"creation_date":1472332396,"post_id":7568996,"comment_id":65712809,"body_markdown":"This answer copies the mistake in the question, which gives an incorrect definition of tail(). Tail means the list sans the head, not the last element of the list.","body":"This answer copies the mistake in the question, which gives an incorrect definition of tail(). Tail means the list sans the head, not the last element of the list."},{"owner":{"account_id":203704,"reputation":13105,"user_id":451518,"display_name":"default locale"},"score":0,"creation_date":1472470944,"post_id":7568996,"comment_id":65749701,"body_markdown":"@LawrenceDol your definition is not the only one. For example, check out javadoc for [Deque.peekLast](http://docs.oracle.com/javase/6/docs/api/java/util/Deque.html#peekLast%28%29) `the tail of this deque, or null if this deque is empty`. Documents for Java collections define tail as the last element. Original question also uses this definition.","body":"@LawrenceDol your definition is not the only one. For example, check out javadoc for <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Deque.html#peekLast%28%29\" rel=\"nofollow noreferrer\">Deque.peekLast</a> <code>the tail of this deque, or null if this deque is empty</code>. Documents for Java collections define tail as the last element. Original question also uses this definition."}],"tags":[],"owner":{"account_id":203704,"reputation":13105,"user_id":451518,"display_name":"default locale"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1317126016,"creation_date":1317126016,"answer_id":7568996,"question_id":7568819,"body_markdown":"[peekLast][1] method is already defined in Deque interface.&lt;br/&gt; \r\nMoreover, It&#39;s obligatory for deque to have such a functionality. So, there&#39;s no point to define it in List or any other interface.&lt;br/&gt;\r\nIt&#39;s just convenient to split the functionality. If you need random access then you should implement [List][2]. If you need to access the tail efficiently then you should implement [Deque][3]. You can easily implement both of them (LinkedList does this, actually).\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Deque.html#peekLast%28%29\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/util/List.html\r\n  [3]: http://download.oracle.com/javase/6/docs/api/java/util/Deque.html","title":"Why no tail() or head() method in List to get last or first element?","body":"<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Deque.html#peekLast%28%29\" rel=\"nofollow\">peekLast</a> method is already defined in Deque interface.<br/> \nMoreover, It's obligatory for deque to have such a functionality. So, there's no point to define it in List or any other interface.<br/>\nIt's just convenient to split the functionality. If you need random access then you should implement <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/List.html\" rel=\"nofollow\">List</a>. If you need to access the tail efficiently then you should implement <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Deque.html\" rel=\"nofollow\">Deque</a>. You can easily implement both of them (LinkedList does this, actually).</p>\n"},{"comments":[{"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"score":0,"creation_date":1537888935,"post_id":7569314,"comment_id":91943947,"body_markdown":"I had a shot at implementing the functional quicksort in Java in my answer. Not as concise as Haskell but doable.","body":"I had a shot at implementing the functional quicksort in Java in my answer. Not as concise as Haskell but doable."}],"tags":[],"owner":{"account_id":92865,"reputation":5039,"user_id":254307,"accept_rate":88,"display_name":"Pablo Grisafi"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1492075771,"creation_date":1317127414,"answer_id":7569314,"question_id":7568819,"body_markdown":"In my humble opinion, tail and head are more familiar with people with a functional background. When you start passing functions around, they are incredible useful, that&#39;s why most functional languages have them implemented and even have shortcut notation to refer to them, like in haskell or even in scala (even if it&#39;s not THAT functional, I know)   \r\nIn the &quot;(almost) everything is an object but methods are made in a procedural way&quot; java world, when passing around functions is at least hard and always awkward, head/tail methods are not so useful.  \r\nFor example, check this haskell implementation of quicksort:\r\n\r\n    quicksort :: Ord a =&gt; [a] -&gt; [a]\r\n    quicksort []     = []\r\n    quicksort (p:xs) = (quicksort lesser) ++ [p] ++ (quicksort greater)\r\n        where\r\n            lesser  = filter (&lt; p) xs\r\n            greater = filter (&gt;= p) xs\r\n\r\nIt relies, among other things, on the ability to easily separate head and tail, but also on being able to filter a collection using a predicate. A java implementation (check [http://www.vogella.de/articles/JavaAlgorithmsQuicksort/article.html][1]) looks totally different, it is way lower level, and doesn&#39;t rely on separating head and tail.  \r\nNote: The next sentence is totally subjective and based on my personal experience and may be proven wrong, but I think it&#39;s true:  \r\nMost algorithms in functional programming rely on head/tail, in procedural programming you rely on accessing an element in a given position\r\n\r\n\r\n  [1]: http://www.vogella.de/articles/JavaAlgorithmsQuicksort/article.html","title":"Why no tail() or head() method in List to get last or first element?","body":"<p>In my humble opinion, tail and head are more familiar with people with a functional background. When you start passing functions around, they are incredible useful, that's why most functional languages have them implemented and even have shortcut notation to refer to them, like in haskell or even in scala (even if it's not THAT functional, I know)<br>\nIn the \"(almost) everything is an object but methods are made in a procedural way\" java world, when passing around functions is at least hard and always awkward, head/tail methods are not so useful.<br>\nFor example, check this haskell implementation of quicksort:</p>\n\n<pre><code>quicksort :: Ord a =&gt; [a] -&gt; [a]\nquicksort []     = []\nquicksort (p:xs) = (quicksort lesser) ++ [p] ++ (quicksort greater)\n    where\n        lesser  = filter (&lt; p) xs\n        greater = filter (&gt;= p) xs\n</code></pre>\n\n<p>It relies, among other things, on the ability to easily separate head and tail, but also on being able to filter a collection using a predicate. A java implementation (check <a href=\"http://www.vogella.de/articles/JavaAlgorithmsQuicksort/article.html\" rel=\"nofollow noreferrer\">http://www.vogella.de/articles/JavaAlgorithmsQuicksort/article.html</a>) looks totally different, it is way lower level, and doesn't rely on separating head and tail.<br>\nNote: The next sentence is totally subjective and based on my personal experience and may be proven wrong, but I think it's true:<br>\nMost algorithms in functional programming rely on head/tail, in procedural programming you rely on accessing an element in a given position</p>\n"},{"comments":[{"owner":{"account_id":437637,"reputation":473,"user_id":825436,"accept_rate":60,"display_name":"SigmaX"},"score":4,"creation_date":1407867533,"post_id":7576926,"comment_id":39378577,"body_markdown":"This answer also reproduces the mistake in the question, which gives the incorrect definition of tail.  A tail functions returns the list without the head, so tail is actually ideally suited for a singly-linked list, not an array or doubly-linked list.","body":"This answer also reproduces the mistake in the question, which gives the incorrect definition of tail.  A tail functions returns the list without the head, so tail is actually ideally suited for a singly-linked list, not an array or doubly-linked list."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1472343442,"post_id":7576926,"comment_id":65715088,"body_markdown":"@Sigmax This answer answers the question that was actually asked, using  the same definitions that the OP used. I do not see the point of stating that he asked the wrong question, or of criticizing answers that answer it.","body":"@Sigmax This answer answers the question that was actually asked, using  the same definitions that the OP used. I do not see the point of stating that he asked the wrong question, or of criticizing answers that answer it."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1317167817,"creation_date":1317167817,"answer_id":7576926,"question_id":7568819,"body_markdown":"`head()` is provided via list.iterator().next(), list.get(0), etc.\r\n\r\nIt is only reasonable to provide tail() if the list is doubly linked with a tail pointer, or based on an array, etc., Neither of these aspects is specified for the List interface itself. Otherwise it could have O(N) performance.","title":"Why no tail() or head() method in List to get last or first element?","body":"<p><code>head()</code> is provided via list.iterator().next(), list.get(0), etc.</p>\n\n<p>It is only reasonable to provide tail() if the list is doubly linked with a tail pointer, or based on an array, etc., Neither of these aspects is specified for the List interface itself. Otherwise it could have O(N) performance.</p>\n"},{"tags":[],"owner":{"account_id":3324,"reputation":14696,"user_id":4792,"accept_rate":50,"display_name":"Kevin Wong"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1352307398,"creation_date":1352307398,"answer_id":13274463,"question_id":7568819,"body_markdown":"If you want to process a list recursively, which is often what head/tail are used for in functional programming, you can use an Iterator.\r\n\r\n    Integer min(Iterator&lt;Integer&gt; iterator) {\r\n        if ( !iterator.hasNext() ) return null;\r\n        Integer head = iterator.next();\r\n        Integer minTail = min(iterator);\r\n        return minTail == null ? head : Math.min(head, minTail);\r\n    }","title":"Why no tail() or head() method in List to get last or first element?","body":"<p>If you want to process a list recursively, which is often what head/tail are used for in functional programming, you can use an Iterator.</p>\n\n<pre><code>Integer min(Iterator&lt;Integer&gt; iterator) {\n    if ( !iterator.hasNext() ) return null;\n    Integer head = iterator.next();\n    Integer minTail = min(iterator);\n    return minTail == null ? head : Math.min(head, minTail);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":97520,"reputation":4456,"user_id":264502,"display_name":"Jan Molak"},"score":11,"creation_date":1458660959,"post_id":30081299,"comment_id":59954774,"body_markdown":"Shouldn&#39;t &quot;head&quot; return an element rather than a sublist? I.e. `public &lt;T&gt; T head(List&lt;T&gt; list) { return list.get(0); }`","body":"Shouldn&#39;t &quot;head&quot; return an element rather than a sublist? I.e. <code>public &lt;T&gt; T head(List&lt;T&gt; list) { return list.get(0); }</code>"},{"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"score":1,"creation_date":1458687723,"post_id":30081299,"comment_id":59970900,"body_markdown":"You can do that too. This is probably in line with the common meaning of   `head` and `tail`","body":"You can do that too. This is probably in line with the common meaning of   <code>head</code> and <code>tail</code>"},{"owner":{"account_id":375225,"reputation":970,"user_id":725917,"display_name":"averasko"},"score":0,"creation_date":1469560286,"post_id":30081299,"comment_id":64584024,"body_markdown":"feel like adding a size() == 0 check: `return list.size() &gt; 0 ? list.subList(0, 1) : new ArrayList&lt;&gt;();`","body":"feel like adding a size() == 0 check: <code>return list.size() &gt; 0 ? list.subList(0, 1) : new ArrayList&lt;&gt;();</code>"},{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":4,"creation_date":1472332421,"post_id":30081299,"comment_id":65712819,"body_markdown":"Finally, someone knows what `tail()` is supposed to be.","body":"Finally, someone knows what <code>tail()</code> is supposed to be."},{"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"score":1,"creation_date":1472343586,"post_id":30081299,"comment_id":65715111,"body_markdown":"@averasko, I don&#39;t think there is a valid way to define head() / tail() on an empty list","body":"@averasko, I don&#39;t think there is a valid way to define head() / tail() on an empty list"},{"owner":{"account_id":13566,"reputation":48845,"user_id":27358,"accept_rate":76,"display_name":"David Moles"},"score":0,"creation_date":1486167853,"post_id":30081299,"comment_id":71244513,"body_markdown":"@DavidSoroko I think it&#39;s called `NoSuchElementException`.","body":"@DavidSoroko I think it&#39;s called <code>NoSuchElementException</code>."},{"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"score":2,"creation_date":1486218120,"post_id":30081299,"comment_id":71256154,"body_markdown":"If you think that calling head / tail on empty list is exceptional, you are welcome to throw an exception. Note though, that many list processing idioms (especially recursive / functional) consider such situation perfectly valid.","body":"If you think that calling head / tail on empty list is exceptional, you are welcome to throw an exception. Note though, that many list processing idioms (especially recursive / functional) consider such situation perfectly valid."}],"tags":[],"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"comment_count":7,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1537887534,"creation_date":1430926402,"answer_id":30081299,"question_id":7568819,"body_markdown":"The List inteface has `subList` which is almost `head` and `tail`. You can wrap it as follows  \r\n\r\n    public List head(List list) {\r\n        return list.subList(0, 1);\r\n    }\r\n\r\n    public List tail(List list) {\r\n        return list.subList(1, list.size());\r\n    }\r\n\r\n\r\n**Edit**\r\n\r\n\r\nFollowing the answer by @Pablo Grisafi, here is a Java quick sort implementation - not generic and not efficient. As expected `head()` should return an element  - not list.\r\n\r\n    public class QSort {\r\n\r\n        public static List&lt;Integer&gt; qsort(List&lt;Integer&gt; list) {\r\n            if (list.isEmpty()) {\r\n                return list;\r\n            } else {\r\n                return merge(\r\n                        qsort(lesser\r\n                                (head(list), tail(list))),\r\n                        head(list),\r\n                        qsort(greater(\r\n                                head(list), tail(list)))\r\n                );\r\n            }\r\n        }\r\n\r\n        private static Integer head(List&lt;Integer&gt; list) {\r\n            return list.get(0);\r\n        }\r\n\r\n        private static List&lt;Integer&gt; tail(List&lt;Integer&gt; list) {\r\n            return list.subList(1, list.size());\r\n        }\r\n\r\n        private static List&lt;Integer&gt; lesser(Integer p, List&lt;Integer&gt; list) {\r\n            return list.stream().filter(i -&gt; i &lt; p).collect(toList());\r\n        }\r\n\r\n        private static List&lt;Integer&gt; greater(Integer p, List&lt;Integer&gt; list) {\r\n            return list.stream().filter(i -&gt; i &gt;= p).collect(toList());\r\n        }\r\n\r\n        private static List&lt;Integer&gt; merge(List&lt;Integer&gt; lesser, Integer p, List&lt;Integer&gt; greater) {\r\n            ArrayList list = new ArrayList(lesser);\r\n            list.add(p);\r\n            list.addAll(greater);\r\n\r\n            return list;\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            System.out.println(qsort(asList(7, 1, 2, 3, -1, 8, 4, 5, 6)));\r\n        }\r\n    }\r\n","title":"Why no tail() or head() method in List to get last or first element?","body":"<p>The List inteface has <code>subList</code> which is almost <code>head</code> and <code>tail</code>. You can wrap it as follows  </p>\n\n<pre><code>public List head(List list) {\n    return list.subList(0, 1);\n}\n\npublic List tail(List list) {\n    return list.subList(1, list.size());\n}\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>Following the answer by @Pablo Grisafi, here is a Java quick sort implementation - not generic and not efficient. As expected <code>head()</code> should return an element  - not list.</p>\n\n<pre><code>public class QSort {\n\n    public static List&lt;Integer&gt; qsort(List&lt;Integer&gt; list) {\n        if (list.isEmpty()) {\n            return list;\n        } else {\n            return merge(\n                    qsort(lesser\n                            (head(list), tail(list))),\n                    head(list),\n                    qsort(greater(\n                            head(list), tail(list)))\n            );\n        }\n    }\n\n    private static Integer head(List&lt;Integer&gt; list) {\n        return list.get(0);\n    }\n\n    private static List&lt;Integer&gt; tail(List&lt;Integer&gt; list) {\n        return list.subList(1, list.size());\n    }\n\n    private static List&lt;Integer&gt; lesser(Integer p, List&lt;Integer&gt; list) {\n        return list.stream().filter(i -&gt; i &lt; p).collect(toList());\n    }\n\n    private static List&lt;Integer&gt; greater(Integer p, List&lt;Integer&gt; list) {\n        return list.stream().filter(i -&gt; i &gt;= p).collect(toList());\n    }\n\n    private static List&lt;Integer&gt; merge(List&lt;Integer&gt; lesser, Integer p, List&lt;Integer&gt; greater) {\n        ArrayList list = new ArrayList(lesser);\n        list.add(p);\n        list.addAll(greater);\n\n        return list;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(qsort(asList(7, 1, 2, 3, -1, 8, 4, 5, 6)));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20121469,"reputation":71,"user_id":14755898,"display_name":"AlexM28"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644252592,"creation_date":1644252592,"answer_id":71022237,"question_id":7568819,"body_markdown":"You should use a List, to make it easier.\r\nWhen you use recursion on a list you have to think like this...\r\nThe list has an head(the first element) and a tail(all the other elements except the head).\r\nWith recursion you need to do what you want on the head and then call the function on the tail, so that you always have a list with size = size - 1\r\n\r\n    public static void main(String[] args) {\r\n    \tArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n    \t\r\n    \tlist.add(11);\r\n    \tlist.add(12);\r\n    \tlist.add(0);\r\n    \tlist.add(3);\r\n    \tlist.add(1);\r\n    \tlist.add(4);\r\n    \tlist.add(11);\r\n    \t\r\n    \tSystem.out.println(countOccurrences(list, 11));\r\n    \t\r\n    }\r\n    \r\n    \r\n    \r\n    public static int countOccurrences(List&lt;Integer&gt; list, int n) {\r\n        if (list.size() == 0) {//if list is empty return 0\r\n            return 0;\r\n        }else {\r\n        \tif(list.get(0) == n) {//if head of list is equal to n add 1 and call the function on the tail of the list\r\n        \t\treturn 1 + countOccurrences(list.subList(1, list.size()), n);\r\n        \t}else {//else if it&#39;s not equal to n call the function on the tail of the list without adding 1\r\n        \t\treturn countOccurrences(list.subList(1, list.size()), n);\r\n        \t}\r\n        }\r\n    }","title":"Why no tail() or head() method in List to get last or first element?","body":"<p>You should use a List, to make it easier.\nWhen you use recursion on a list you have to think like this...\nThe list has an head(the first element) and a tail(all the other elements except the head).\nWith recursion you need to do what you want on the head and then call the function on the tail, so that you always have a list with size = size - 1</p>\n<pre><code>public static void main(String[] args) {\n    ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n    \n    list.add(11);\n    list.add(12);\n    list.add(0);\n    list.add(3);\n    list.add(1);\n    list.add(4);\n    list.add(11);\n    \n    System.out.println(countOccurrences(list, 11));\n    \n}\n\n\n\npublic static int countOccurrences(List&lt;Integer&gt; list, int n) {\n    if (list.size() == 0) {//if list is empty return 0\n        return 0;\n    }else {\n        if(list.get(0) == n) {//if head of list is equal to n add 1 and call the function on the tail of the list\n            return 1 + countOccurrences(list.subList(1, list.size()), n);\n        }else {//else if it's not equal to n call the function on the tail of the list without adding 1\n            return countOccurrences(list.subList(1, list.size()), n);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1245419,"reputation":14808,"user_id":1206998,"accept_rate":80,"display_name":"Juh_"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659451694,"creation_date":1659451694,"answer_id":73209562,"question_id":7568819,"body_markdown":"You can get those on Stream which is available on list:\r\n\r\nhead\r\n\r\n    myList.stream().findFirst() // Optional&lt;T&gt;, return empty for empty list\r\n\r\ntail (traditional meaning)\r\n\r\n    myList.stream().skip(1).collect(toList()) // or don&#39;t collect &amp; continue with a Stream\r\n\r\nlast (possibly dangerous if the list is infinite!):\r\n\r\n    myList.stream().reduce((a,b) -&gt; b) // Optional&lt;T&gt;, return empty for empty list","title":"Why no tail() or head() method in List to get last or first element?","body":"<p>You can get those on Stream which is available on list:</p>\n<p>head</p>\n<pre><code>myList.stream().findFirst() // Optional&lt;T&gt;, return empty for empty list\n</code></pre>\n<p>tail (traditional meaning)</p>\n<pre><code>myList.stream().skip(1).collect(toList()) // or don't collect &amp; continue with a Stream\n</code></pre>\n<p>last (possibly dangerous if the list is infinite!):</p>\n<pre><code>myList.stream().reduce((a,b) -&gt; b) // Optional&lt;T&gt;, return empty for empty list\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9376049,"reputation":3355,"user_id":7643517,"display_name":"Nolequen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701221407,"creation_date":1695205370,"answer_id":77141469,"question_id":7568819,"body_markdown":"## `List` is `SequencedCollection` \r\n\r\nSince Java 21 there is a [SequencedCollection][1] interface, a superinteface for `List`. Among other it provides `getFirst()` and `getLast()` methods:\r\n\r\n    jshell&gt; List.of(1, 2, 3, 4, 5).getFirst() = 1\r\n    jshell&gt; List.of(1, 2, 3, 4, 5).getLast() = 5\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/431","title":"Why no tail() or head() method in List to get last or first element?","body":"<h2><code>List</code> is <code>SequencedCollection</code></h2>\n<p>Since Java 21 there is a <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\">SequencedCollection</a> interface, a superinteface for <code>List</code>. Among other it provides <code>getFirst()</code> and <code>getLast()</code> methods:</p>\n<pre><code>jshell&gt; List.of(1, 2, 3, 4, 5).getFirst() = 1\njshell&gt; List.of(1, 2, 3, 4, 5).getLast() = 5\n</code></pre>\n"}],"owner":{"account_id":78288,"reputation":8738,"user_id":1087469,"accept_rate":74,"display_name":"leifg"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36628,"favorite_count":0,"down_vote_count":3,"up_vote_count":32,"accepted_answer_id":7568943,"answer_count":11,"score":29,"last_activity_date":1701221407,"creation_date":1317125183,"question_id":7568819,"body_markdown":"I recently had a discussion with a colleague why the List interface in Java doesn&#39;t have a `head()` and `tail()` method.\r\n\r\nIn order to implement such a functionality would have to write a wrapper that looked something like this:\r\n\r\n    public E head() {\r\n     if (underlyingList == null || underlyingList.isEmpty())\r\n      return null;\r\n     \r\n     return underlyingList.get(0);\r\n    }\r\n\r\n\r\n    public E tail() {\r\n     if (underlyingList == null || underlyingList.isEmpty())\r\n      return null;\r\n     \r\n     return underlyingList.get(underlyingList.size()-1);\r\n    }\r\n\r\nI&#39;m not aware of all List implementations but I assume that at least in LinkedList and ArrayList it should be pretty trivial to **get the last and first element** (constant time).\r\n\r\nSo the question is:\r\n\r\nIs there a specific reason why it is not a good idea to provide a tail method to any List implementation?","title":"Why no tail() or head() method in List to get last or first element?","body":"<p>I recently had a discussion with a colleague why the List interface in Java doesn't have a <code>head()</code> and <code>tail()</code> method.</p>\n<p>In order to implement such a functionality would have to write a wrapper that looked something like this:</p>\n<pre><code>public E head() {\n if (underlyingList == null || underlyingList.isEmpty())\n  return null;\n \n return underlyingList.get(0);\n}\n\n\npublic E tail() {\n if (underlyingList == null || underlyingList.isEmpty())\n  return null;\n \n return underlyingList.get(underlyingList.size()-1);\n}\n</code></pre>\n<p>I'm not aware of all List implementations but I assume that at least in LinkedList and ArrayList it should be pretty trivial to <strong>get the last and first element</strong> (constant time).</p>\n<p>So the question is:</p>\n<p>Is there a specific reason why it is not a good idea to provide a tail method to any List implementation?</p>\n"},{"tags":["java","java-8","functional-interface"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1701221272,"post_id":77568062,"comment_id":136747920,"body_markdown":"The [accepted answer](https://stackoverflow.com/a/27888447/3558960) of the duplicate question has all the information you need, and then some.","body":"The <a href=\"https://stackoverflow.com/a/27888447/3558960\">accepted answer</a> of the duplicate question has all the information you need, and then some."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1701221278,"post_id":77568062,"comment_id":136747923,"body_markdown":"you are supposed to use Arrays.stream() to stream array elements, not pass the array as a whole to the stream","body":"you are supposed to use Arrays.stream() to stream array elements, not pass the array as a whole to the stream"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1701221431,"post_id":77568062,"comment_id":136747938,"body_markdown":"`IntStream.of(...)` is another way.","body":"<code>IntStream.of(...)</code> is another way."}],"owner":{"account_id":16991038,"reputation":1,"user_id":19643715,"display_name":"Ace"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701221217,"answer_count":0,"score":0,"last_activity_date":1701221275,"creation_date":1701220851,"question_id":77568062,"body_markdown":"Can anyone help me to find the root cause why I am getting these below error ? \r\nThe operator % is undefined for the argument type(s) int[], int\r\n\r\nCode Snippet : \r\n\r\n    int arr1[] = {1,2,3,4,5,6,7};\r\n    Stream.of(arr1).filter(num -&gt; (num % 2) == 0).skip(1).limit(1).forEach(System.out::println);\r\n\r\n[IDE highlighting error in code snippet](https://i.stack.imgur.com/RCnqg.png)","title":"JAVA 8 || The operator % is undefined for the argument type(s) int[], int","body":"<p>Can anyone help me to find the root cause why I am getting these below error ?\nThe operator % is undefined for the argument type(s) int[], int</p>\n<p>Code Snippet :</p>\n<pre><code>int arr1[] = {1,2,3,4,5,6,7};\nStream.of(arr1).filter(num -&gt; (num % 2) == 0).skip(1).limit(1).forEach(System.out::println);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/RCnqg.png\" rel=\"nofollow noreferrer\">IDE highlighting error in code snippet</a></p>\n"},{"tags":["java","android","vpn","google-cloud-dns"],"answers":[{"tags":[],"owner":{"account_id":17265281,"reputation":139,"user_id":12502168,"display_name":"therock24"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701220735,"creation_date":1701218772,"answer_id":77567951,"question_id":74748822,"body_markdown":"Super late answer, I know, but I&#39;ve recently come across this issue. \r\nLeaving this answer for anyone who sees this later.\r\n\r\nSo, for some reason, Android does not always resolve DNS according to the DNS server of the network that is &quot;Active&quot;.\r\nThis happened to me in 2 scenarios:\r\n - Wi-fi network but without internet - Android just ignores this network and tries to resolve DNS using the default DNS resolver instead of using the Wi-fi  provided DNS server. This is an issue because I have an endpoint in the router that has a hostname that can only be resolved using the router&#39;s DNS.\r\n - VPN - Android still uses the default DNS resolver, even though all traffic should be captured by the VPN, it seems to do it outside of the VPN. In my case, my VPN was a local VPN and the device does not have any sort of internet connection (wi-fi or cell) but instead forwards the traffic to other device that has internet.\r\n\r\nThe oddest thing about this is that in this VPN scenario I had inconsistent behaviors accross different Android devices and versions. Some use the correct VPN DNS server and some use the default Android DNS resolver..\r\n\r\n**Long story short**: The only way that worked for me to fix this and make sure that the DNS resolver from the VPN (or other network) is used instead of the default, is to bind the process to the network, in this case, the VPN network.\r\n\r\nHere&#39;s how you can do it, before starting the VPN:\r\n\r\n    val builder = NetworkRequest.Builder()\r\n            builder.addTransportType(NetworkCapabilities.TRANSPORT_VPN)\r\n    val request = builder.build()\r\n    connectivityManager.requestNetwork(request, object : NetworkCallback() {\r\n            override fun onAvailable(network: Network) {\r\n                super.onAvailable(network)\r\n                Log.i(TAG,&quot;Binding to VPN Network!&quot;)\r\n                val bindResult = connectivityManager.bindProcessToNetwork(network)\r\n                Log.i(TAG,&quot;Bind to VPN result = $bindResult&quot;)\r\n            }\r\n        })\r\n\r\nIf the code above does not trigger the callback when you start the VPN, you can also get the network object from the activeNetwork:\r\n\r\n    val activeNetwork = connectivityManager.activeNetwork\r\n        \r\n\r\n    if (activeNetwork != null) {\r\n            val networkCapabilities = connectivityManager.getNetworkCapabilities(activeNetwork)\r\n            val isVpn = networkCapabilities?.hasTransport(\r\n                NetworkCapabilities.TRANSPORT_VPN\r\n            ) ?: false\r\n            if (isVpn) {\r\n                Log.i(TAG,&quot;Binding to VPN Network!&quot;)\r\n                val bindResult = connectivityManager.bindProcessToNetwork(activeNetwork)\r\n                Log.i(TAG,&quot;Bind to VPN result = $bindResult&quot;)\r\n            }\r\n        }\r\n\r\nOne last thing to consider is that this call to `bindProcessToNetwork()` doesn&#39;t always succeed (again, no clue why), so it&#39;s always better to implement some retry mechanism, for example retry 3 times with a delay of 3 seconds on each attempt. It&#39;s unclear what is the reason that this binding has failed and Google should have already added some more verbose return value that could indicate at least some more specific error code..\r\n\r\n\r\n","title":"Why Cannot assign Google DNS adress to Android VPN service only local DNS server?","body":"<p>Super late answer, I know, but I've recently come across this issue.\nLeaving this answer for anyone who sees this later.</p>\n<p>So, for some reason, Android does not always resolve DNS according to the DNS server of the network that is &quot;Active&quot;.\nThis happened to me in 2 scenarios:</p>\n<ul>\n<li>Wi-fi network but without internet - Android just ignores this network and tries to resolve DNS using the default DNS resolver instead of using the Wi-fi  provided DNS server. This is an issue because I have an endpoint in the router that has a hostname that can only be resolved using the router's DNS.</li>\n<li>VPN - Android still uses the default DNS resolver, even though all traffic should be captured by the VPN, it seems to do it outside of the VPN. In my case, my VPN was a local VPN and the device does not have any sort of internet connection (wi-fi or cell) but instead forwards the traffic to other device that has internet.</li>\n</ul>\n<p>The oddest thing about this is that in this VPN scenario I had inconsistent behaviors accross different Android devices and versions. Some use the correct VPN DNS server and some use the default Android DNS resolver..</p>\n<p><strong>Long story short</strong>: The only way that worked for me to fix this and make sure that the DNS resolver from the VPN (or other network) is used instead of the default, is to bind the process to the network, in this case, the VPN network.</p>\n<p>Here's how you can do it, before starting the VPN:</p>\n<pre><code>val builder = NetworkRequest.Builder()\n        builder.addTransportType(NetworkCapabilities.TRANSPORT_VPN)\nval request = builder.build()\nconnectivityManager.requestNetwork(request, object : NetworkCallback() {\n        override fun onAvailable(network: Network) {\n            super.onAvailable(network)\n            Log.i(TAG,&quot;Binding to VPN Network!&quot;)\n            val bindResult = connectivityManager.bindProcessToNetwork(network)\n            Log.i(TAG,&quot;Bind to VPN result = $bindResult&quot;)\n        }\n    })\n</code></pre>\n<p>If the code above does not trigger the callback when you start the VPN, you can also get the network object from the activeNetwork:</p>\n<pre><code>val activeNetwork = connectivityManager.activeNetwork\n    \n\nif (activeNetwork != null) {\n        val networkCapabilities = connectivityManager.getNetworkCapabilities(activeNetwork)\n        val isVpn = networkCapabilities?.hasTransport(\n            NetworkCapabilities.TRANSPORT_VPN\n        ) ?: false\n        if (isVpn) {\n            Log.i(TAG,&quot;Binding to VPN Network!&quot;)\n            val bindResult = connectivityManager.bindProcessToNetwork(activeNetwork)\n            Log.i(TAG,&quot;Bind to VPN result = $bindResult&quot;)\n        }\n    }\n</code></pre>\n<p>One last thing to consider is that this call to <code>bindProcessToNetwork()</code> doesn't always succeed (again, no clue why), so it's always better to implement some retry mechanism, for example retry 3 times with a delay of 3 seconds on each attempt. It's unclear what is the reason that this binding has failed and Google should have already added some more verbose return value that could indicate at least some more specific error code..</p>\n"}],"owner":{"account_id":25198340,"reputation":1,"user_id":19037547,"display_name":"&#252;beyid koşsalun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701220735,"creation_date":1670624690,"question_id":74748822,"body_markdown":"-In this method i am trying to add google dns server to vpn interface but it doesnt work at all.It \r\n work only local dns which is default dns server of gsm.  \r\n @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId){\r\n        localAddress = CommonMethods.ipStringToInt(ipAddress);\r\n\r\n        packet = new byte[20000];\r\n        ipHeader = new IPHeader(packet, 0);\r\n        tcpHeader = new TCPHeader(packet, 20);\r\n        udpHeader = new UDPHeader(packet, 20);\r\n        dnsBuffer = ((ByteBuffer) ByteBuffer.wrap(packet).position(28)).slice();\r\n\r\n        proxy = new Proxy(this, 0);\r\n        proxy.start();\r\n        dnsProxy = new DnsProxy(this);\r\n        dnsProxy.start();\r\n\r\n        vpnThread = new Thread(new Runnable(){\r\n            @Override\r\n            public void run(){\r\n                mInterface = builder.setSession(&quot;VPNtoSocket&quot;)\r\n                        .addAddress(ipAddress,32)\r\n                        .addRoute(&quot;0.0.0.0&quot;, 0)\r\n                        .addDnsServer(&quot;8.8.8.8&quot;);\r\n                        //.addRoute(&quot;194.163.43.216&quot;, 32)\r\n                        .establish();\r\n\r\n                FileInputStream vpnin = new FileInputStream(mInterface.getFileDescriptor());\r\n                vpnout = new FileOutputStream(mInterface.getFileDescriptor());\r\n\r\n                onStatusChanged(true);\r\n\r\n                try{\r\n                    int size = 0;\r\n                    while(size != -1 &amp;&amp; !vpnThread.isInterrupted()){\r\n                        while((size = vpnin.read(packet)) &gt; 0 &amp;&amp; !vpnThread.isInterrupted()){\r\n                            if(dnsProxy.isInterrupted() || proxy.isInterrupted()){ //KILL SWITCH\r\n                                vpnin.close();\r\n                                throw new Exception(&quot;Server stopped.&quot;);\r\n                            }\r\n                            onIPPacketReceived(ipHeader, size);\r\n                        }\r\n                    }\r\n                }catch(Exception e){\r\n                    e.printStackTrace();\r\n                }finally{\r\n                    try{\r\n                        vpnin.close();\r\n                        vpnout.close();\r\n                        if(mInterface != null){\r\n                            mInterface.close();\r\n                            mInterface = null;\r\n                        }\r\n\r\n                        kill();\r\n                    }catch(Exception e){\r\n                    }\r\n                }\r\n            }\r\n\r\n        }, &quot;VPNtoSocket&quot;);\r\n        vpnThread.start();\r\n\r\n        return super.onStartCommand(intent, flags, startId);//START_STICKY;\r\n    }","title":"Why Cannot assign Google DNS adress to Android VPN service only local DNS server?","body":"<p>-In this method i am trying to add google dns server to vpn interface but it doesnt work at all.It\nwork only local dns which is default dns server of gsm.<br />\n@Override\npublic int onStartCommand(Intent intent, int flags, int startId){\nlocalAddress = CommonMethods.ipStringToInt(ipAddress);</p>\n<pre><code>    packet = new byte[20000];\n    ipHeader = new IPHeader(packet, 0);\n    tcpHeader = new TCPHeader(packet, 20);\n    udpHeader = new UDPHeader(packet, 20);\n    dnsBuffer = ((ByteBuffer) ByteBuffer.wrap(packet).position(28)).slice();\n\n    proxy = new Proxy(this, 0);\n    proxy.start();\n    dnsProxy = new DnsProxy(this);\n    dnsProxy.start();\n\n    vpnThread = new Thread(new Runnable(){\n        @Override\n        public void run(){\n            mInterface = builder.setSession(&quot;VPNtoSocket&quot;)\n                    .addAddress(ipAddress,32)\n                    .addRoute(&quot;0.0.0.0&quot;, 0)\n                    .addDnsServer(&quot;8.8.8.8&quot;);\n                    //.addRoute(&quot;194.163.43.216&quot;, 32)\n                    .establish();\n\n            FileInputStream vpnin = new FileInputStream(mInterface.getFileDescriptor());\n            vpnout = new FileOutputStream(mInterface.getFileDescriptor());\n\n            onStatusChanged(true);\n\n            try{\n                int size = 0;\n                while(size != -1 &amp;&amp; !vpnThread.isInterrupted()){\n                    while((size = vpnin.read(packet)) &gt; 0 &amp;&amp; !vpnThread.isInterrupted()){\n                        if(dnsProxy.isInterrupted() || proxy.isInterrupted()){ //KILL SWITCH\n                            vpnin.close();\n                            throw new Exception(&quot;Server stopped.&quot;);\n                        }\n                        onIPPacketReceived(ipHeader, size);\n                    }\n                }\n            }catch(Exception e){\n                e.printStackTrace();\n            }finally{\n                try{\n                    vpnin.close();\n                    vpnout.close();\n                    if(mInterface != null){\n                        mInterface.close();\n                        mInterface = null;\n                    }\n\n                    kill();\n                }catch(Exception e){\n                }\n            }\n        }\n\n    }, &quot;VPNtoSocket&quot;);\n    vpnThread.start();\n\n    return super.onStartCommand(intent, flags, startId);//START_STICKY;\n}\n</code></pre>\n"},{"tags":["java","class","object","type-conversion","type-mismatch"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1701220731,"post_id":77568025,"comment_id":136747872,"body_markdown":"You have to add the parameter type to the array list: `atualizaFiliais(ArrayList filial)` -&gt; `atualizaFiliais(ArrayList&lt;Filial&gt; filial)`","body":"You have to add the parameter type to the array list: <code>atualizaFiliais(ArrayList filial)</code> -&gt; <code>atualizaFiliais(ArrayList&lt;Filial&gt; filial)</code>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1701220805,"post_id":77568025,"comment_id":136747881,"body_markdown":"What you have now is called a raw type: https://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html","body":"What you have now is called a raw type: <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/rawTypes.html</a>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1701220841,"post_id":77568025,"comment_id":136747885,"body_markdown":"Relevant: https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it","body":"Relevant: <a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\" title=\"what is a raw type and why shouldnt we use it\">stackoverflow.com/questions/2770321/&hellip;</a>"}],"owner":{"account_id":26395277,"reputation":13,"user_id":20046511,"display_name":"Gabriel Santos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701221935,"answer_count":0,"score":0,"last_activity_date":1701220295,"creation_date":1701220295,"question_id":77568025,"body_markdown":"I have a Class named Filial.\r\nOn my Main class, i created a ArrayList of it:\r\n\r\n`ArrayList&lt;Filial&gt; filiais = new ArrayList&lt;Filial&gt;();\r\n`\r\n\r\nStill on my Main, i created a method:\r\n```\r\n    public static void atualizaFiliais(ArrayList filial){\r\n        Filial thisFilial = filial.get(0); // &lt;======Error\r\n```\r\n\r\nBut i get this error when i try do this, thats say:\r\n\r\n&gt; &#39;Type mismatch cannot convert from Object to Filial&#39; \r\n\r\nWhy cant i do this?\r\n\r\n I also tried to set its attributes but also get error, for example:\r\n\r\n**Filial.java**\r\n```\r\npublic class Filial {\r\n    String nome, endereco, contato, codigo;\r\n```\r\n\r\n**Main.java**\r\n```\r\n   public static void atualizaFiliais(ArrayList filial){\r\n             String txta;\r\n             txta = filial.get(0).nome //&lt;====== Error\r\n```\r\n\r\nin that case it happens to appear the error on nome:\r\n&gt; \r\n&gt; &#39;nome cannot be resolved or is not a field&#39;","title":"Type Mismatch: cannot convert from Object to ObjectName","body":"<p>I have a Class named Filial.\nOn my Main class, i created a ArrayList of it:</p>\n<p><code>ArrayList&lt;Filial&gt; filiais = new ArrayList&lt;Filial&gt;(); </code></p>\n<p>Still on my Main, i created a method:</p>\n<pre><code>    public static void atualizaFiliais(ArrayList filial){\n        Filial thisFilial = filial.get(0); // &lt;======Error\n</code></pre>\n<p>But i get this error when i try do this, thats say:</p>\n<blockquote>\n<p>'Type mismatch cannot convert from Object to Filial'</p>\n</blockquote>\n<p>Why cant i do this?</p>\n<p>I also tried to set its attributes but also get error, for example:</p>\n<p><strong>Filial.java</strong></p>\n<pre><code>public class Filial {\n    String nome, endereco, contato, codigo;\n</code></pre>\n<p><strong>Main.java</strong></p>\n<pre><code>   public static void atualizaFiliais(ArrayList filial){\n             String txta;\n             txta = filial.get(0).nome //&lt;====== Error\n</code></pre>\n<p>in that case it happens to appear the error on nome:</p>\n<blockquote>\n<p>'nome cannot be resolved or is not a field'</p>\n</blockquote>\n"},{"tags":["java","redis","socketexception","jedis"],"comments":[{"owner":{"account_id":1127608,"reputation":71461,"user_id":1114486,"display_name":"Didier Spezia"},"score":0,"creation_date":1351082199,"post_id":13043658,"comment_id":17719413,"body_markdown":"And is your Redis server alive? Can you connect to it from the client box using redis-cli?","body":"And is your Redis server alive? Can you connect to it from the client box using redis-cli?"},{"owner":{"account_id":1723999,"reputation":2315,"user_id":1579106,"accept_rate":28,"display_name":"Vignesh"},"score":0,"creation_date":1351145987,"post_id":13043658,"comment_id":17741642,"body_markdown":"Yes Redis server is alive and able to connect using redis-cli","body":"Yes Redis server is alive and able to connect using redis-cli"},{"owner":{"account_id":14318,"reputation":7012,"user_id":29364,"accept_rate":70,"display_name":"Vladimir Prudnikov"},"score":1,"creation_date":1387720748,"post_id":13043658,"comment_id":31058589,"body_markdown":"I have the same problem. Redis is running. The problem occurs when using JedisPool, and I do `returnResource`. No problem with `Jedis jedis = new Jedis(&quot;localhost&quot;);`. Have you solved this issue?","body":"I have the same problem. Redis is running. The problem occurs when using JedisPool, and I do <code>returnResource</code>. No problem with <code>Jedis jedis = new Jedis(&quot;localhost&quot;);</code>. Have you solved this issue?"},{"owner":{"account_id":7137920,"reputation":1714,"user_id":5456789,"display_name":"Amir Azizkhani"},"score":0,"creation_date":1675863819,"post_id":13043658,"comment_id":133019045,"body_markdown":"in my case it was from very small timeout in (millisecond)","body":"in my case it was from very small timeout in (millisecond)"}],"answers":[{"comments":[{"owner":{"account_id":1723999,"reputation":2315,"user_id":1579106,"accept_rate":28,"display_name":"Vignesh"},"score":0,"creation_date":1351228211,"post_id":13077101,"comment_id":17772145,"body_markdown":"yes @Jarek, already i&#39;m returning the resource. \t        **pool.returnResource(jedis); \n            pool.destroy();**","body":"yes @Jarek, already i&#39;m returning the resource. \t        <b>pool.returnResource(jedis);              pool.destroy();</b>"},{"owner":{"account_id":1723999,"reputation":2315,"user_id":1579106,"accept_rate":28,"display_name":"Vignesh"},"score":0,"creation_date":1351248483,"post_id":13077101,"comment_id":17779019,"body_markdown":"In my Java App I&#39;m using Jedis2.0.0.jar file and redis server version is 2.4.13. Is it making the problem?","body":"In my Java App I&#39;m using Jedis2.0.0.jar file and redis server version is 2.4.13. Is it making the problem?"},{"owner":{"account_id":3930604,"reputation":859,"user_id":3249355,"display_name":"Maciej Dzikowicki"},"score":3,"creation_date":1578478373,"post_id":13077101,"comment_id":105448372,"body_markdown":"`returnResource` is protected method, you cannot use it. You need to use try with resources `try (Jedis jedis = pool.getResource()) {}`","body":"<code>returnResource</code> is protected method, you cannot use it. You need to use try with resources <code>try (Jedis jedis = pool.getResource()) {}</code>"}],"tags":[],"owner":{"account_id":1625330,"reputation":141,"user_id":1501006,"display_name":"Jarek"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1351198436,"creation_date":1351198436,"answer_id":13077101,"question_id":13043658,"body_markdown":"Not sure, but maybe you don&#39;t return Jedis objects to the pool, and your redis-server has connection limit.\r\n\r\nEvery worker thread should return Jedis instances to the pool after its work is complete:\r\n\r\n    Jedis jedis = jedisPool.getResource();\r\n    try {\r\n        jedis.getClient().setTimeoutInfinite();\r\n        // your code here...\r\n        ...\r\n    } finally {\r\n        jedisPool.returnResource(jedis);\r\n    }\r\n","title":"Could not get a resource from the pool(SocketTimeoutException:)","body":"<p>Not sure, but maybe you don't return Jedis objects to the pool, and your redis-server has connection limit.</p>\n\n<p>Every worker thread should return Jedis instances to the pool after its work is complete:</p>\n\n<pre><code>Jedis jedis = jedisPool.getResource();\ntry {\n    jedis.getClient().setTimeoutInfinite();\n    // your code here...\n    ...\n} finally {\n    jedisPool.returnResource(jedis);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2406238,"reputation":20799,"user_id":2102634,"display_name":"Rick Hanlon II"},"comment_count":0,"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1374096717,"creation_date":1374096717,"answer_id":17710645,"question_id":13043658,"body_markdown":"I noticed that this exception can and will be thrown if Redis is not running. Just a heads up.","title":"Could not get a resource from the pool(SocketTimeoutException:)","body":"<p>I noticed that this exception can and will be thrown if Redis is not running. Just a heads up.</p>\n"},{"tags":[],"owner":{"account_id":5096670,"reputation":69,"user_id":4087746,"display_name":"zks"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1427454953,"creation_date":1427452607,"answer_id":29298660,"question_id":13043658,"body_markdown":"If your code is like this:  \r\n\r\n  \tJedisPoolConfig jedisPoolConfig = initPoolConfig();    \r\n\tjedisPool = new JedisPool(jedisPoolConfig, &quot;*.*.*.*&quot;, 6379);  \r\n\r\nYou can try this:  \r\n\r\n  \tJedisPoolConfig jedisPoolConfig = initPoolConfig();    \r\n\tjedisPool = new JedisPool(jedisPoolConfig, &quot;*.*.*.*&quot;, 6379,10*1000); \r\n\r\nThis is because for Redis the default timeout time is 2 seconds, but the program may have finished running in this time.","title":"Could not get a resource from the pool(SocketTimeoutException:)","body":"<p>If your code is like this:  </p>\n\n<pre><code>JedisPoolConfig jedisPoolConfig = initPoolConfig();    \njedisPool = new JedisPool(jedisPoolConfig, \"*.*.*.*\", 6379);  \n</code></pre>\n\n<p>You can try this:  </p>\n\n<pre><code>JedisPoolConfig jedisPoolConfig = initPoolConfig();    \njedisPool = new JedisPool(jedisPoolConfig, \"*.*.*.*\", 6379,10*1000); \n</code></pre>\n\n<p>This is because for Redis the default timeout time is 2 seconds, but the program may have finished running in this time.</p>\n"},{"comments":[{"owner":{"account_id":6411860,"reputation":917,"user_id":5012866,"accept_rate":65,"display_name":"zookastos"},"score":1,"creation_date":1622250403,"post_id":36172957,"comment_id":119746592,"body_markdown":"Is redis installation needed, even when connecting to remote redis instance?","body":"Is redis installation needed, even when connecting to remote redis instance?"},{"owner":{"account_id":1676059,"reputation":2618,"user_id":1541619,"accept_rate":74,"display_name":"mvd"},"score":1,"creation_date":1627573868,"post_id":36172957,"comment_id":121198254,"body_markdown":"@zookastos no it is not","body":"@zookastos no it is not"},{"owner":{"account_id":6411860,"reputation":917,"user_id":5012866,"accept_rate":65,"display_name":"zookastos"},"score":0,"creation_date":1627589922,"post_id":36172957,"comment_id":121204054,"body_markdown":"Thanks figured that out later by reading more docs. It was a stupid question though :)","body":"Thanks figured that out later by reading more docs. It was a stupid question though :)"}],"tags":[],"owner":{"account_id":5024623,"reputation":3851,"user_id":4037019,"accept_rate":100,"display_name":"cst1992"},"comment_count":3,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1458721534,"creation_date":1458721231,"answer_id":36172957,"question_id":13043658,"body_markdown":"Based on Rick Hanlon&#39;s answer, this exception is also thrown if using Redis with Spring Boot.\r\n\r\nIf you&#39;re using Spring Boot, just the dependency of Redis is not enough; you also need to manually download and install Redis on your machine from [redis.io][1], then run it off of a Bash terminal:\r\n\r\n    me@my_pc:/path/to/redis/dir$ ./src/redis-server ./redis.conf\r\n\r\nAfter running the server, you&#39;ll need to add the relevant lines in all your apps that use Redis:\r\n\r\n`application.properties`:\r\n\r\n    ...\r\n    spring.redis.host: &lt;yourhost&gt; // usually localhost, but can also be on a LAN\r\n    spring.redis.port: &lt;yourport&gt; // usually 6379, but settable in redis.conf\r\n    \r\n`application.yml`:\r\n\r\n    ...\r\n    spring:\r\n      redis:\r\n        host: &lt;yourhost&gt; // usually localhost, but can also be on a LAN\r\n        port: &lt;yourport&gt; // usually 6379, but settable in redis.conf\r\n\r\n\r\n[1]: http://redis.io","title":"Could not get a resource from the pool(SocketTimeoutException:)","body":"<p>Based on Rick Hanlon's answer, this exception is also thrown if using Redis with Spring Boot.</p>\n\n<p>If you're using Spring Boot, just the dependency of Redis is not enough; you also need to manually download and install Redis on your machine from <a href=\"http://redis.io\" rel=\"noreferrer\">redis.io</a>, then run it off of a Bash terminal:</p>\n\n<pre><code>me@my_pc:/path/to/redis/dir$ ./src/redis-server ./redis.conf\n</code></pre>\n\n<p>After running the server, you'll need to add the relevant lines in all your apps that use Redis:</p>\n\n<p><code>application.properties</code>:</p>\n\n<pre><code>...\nspring.redis.host: &lt;yourhost&gt; // usually localhost, but can also be on a LAN\nspring.redis.port: &lt;yourport&gt; // usually 6379, but settable in redis.conf\n</code></pre>\n\n<p><code>application.yml</code>:</p>\n\n<pre><code>...\nspring:\n  redis:\n    host: &lt;yourhost&gt; // usually localhost, but can also be on a LAN\n    port: &lt;yourport&gt; // usually 6379, but settable in redis.conf\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"score":0,"creation_date":1531939834,"post_id":42544260,"comment_id":89789525,"body_markdown":"Could you pls guide me https://stackoverflow.com/questions/51408969/nested-exception-is-redis-clients-jedis-exceptions-jedisconnectionexception-cou ?","body":"Could you pls guide me <a href=\"https://stackoverflow.com/questions/51408969/nested-exception-is-redis-clients-jedis-exceptions-jedisconnectionexception-cou\" title=\"nested exception is redis clients jedis exceptions jedisconnectionexception cou\">stackoverflow.com/questions/51408969/&hellip;</a> ?"}],"tags":[],"owner":{"account_id":251649,"reputation":11484,"user_id":529187,"accept_rate":34,"display_name":"Devs love ZenUML"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1584029089,"creation_date":1488411707,"answer_id":42544260,"question_id":13043658,"body_markdown":"Did it happen always or occasionally? If it was occasional, you may want to check the size of your connection pool. \r\n\r\nDefault connection pool size, if you are using `JedisPoolConfig`, is [**8**](https://github.com/guyboertje/jrjedis/blob/master/src/main/java/org/apache/commons/pool2/impl/GenericObjectPoolConfig.java#L37). This could be [too small]() for your case.\r\n\r\n    JedisPoolConfig poolConfig = new JedisPoolConfig();\r\n    poolConfig.setMaxTotal(128);\r\n    jedisPool = new JedisPool(poolConfig, HOST, PORT, ...);\r\n\r\n\r\n","title":"Could not get a resource from the pool(SocketTimeoutException:)","body":"<p>Did it happen always or occasionally? If it was occasional, you may want to check the size of your connection pool. </p>\n\n<p>Default connection pool size, if you are using <code>JedisPoolConfig</code>, is <a href=\"https://github.com/guyboertje/jrjedis/blob/master/src/main/java/org/apache/commons/pool2/impl/GenericObjectPoolConfig.java#L37\" rel=\"nofollow noreferrer\"><strong>8</strong></a>. This could be too small for your case.</p>\n\n<pre><code>JedisPoolConfig poolConfig = new JedisPoolConfig();\npoolConfig.setMaxTotal(128);\njedisPool = new JedisPool(poolConfig, HOST, PORT, ...);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12211376,"reputation":390,"user_id":8913066,"display_name":"Murat"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1548250944,"creation_date":1548250436,"answer_id":54328491,"question_id":13043658,"body_markdown":"Possible causes;\r\n\r\n1 - Redis server is down or Redis application not responding.\r\n\r\n2 - Application can not connect to Redis server (firewall etc. issues).\r\n\r\n3 - Connection to Redis server timed out.\r\n\r\n4 - All connections in the (Redis) pool are currently busy, new connection can not be allocated.\r\n\r\n\r\nThe cases 1 and 2 are infra related. \r\n\r\nFor case 3, connection timeout must be increased (&quot;RedisConnectionTimeout&quot;):\r\n\r\n\tpool = new pool(poolConfig, RedisIp, RedisPort, RedisConnectionTimeout);\r\n\r\n\r\nFor case 4, max connection count must be increased (&quot;RedisMaximumActiveConnectionCount&quot;):\r\n\r\n\tpoolConfig.setMaxTotal(RedisMaximumActiveConnectionCount); \r\n\r\n\r\nAssuming the following or similar implementation;\r\n\r\n\r\n\tprivate Pool&lt;Jedis&gt; pool =  null;\t\r\n\t\r\n\tprivate final String RedisIp=&quot;10.10.10.11&quot;;\r\n\tprivate final int RedisPort=6379;\r\n\tprivate final String RedisConnectionTimeout=2000;\r\n\tprivate final String RedisMaximumWaitTime=1000;\r\n\tprivate final String RedisMaximumIdleConnectionCount=20;\r\n\tprivate final String RedisMaximumActiveConnectionCount=300;\r\n\tprivate final String SentinelActive=false;\r\n\tprivate final String SentinelHostList=&quot;10.10.10.10:26379,10.10.10.10:26380,10.10.10.10:26381&quot;;\r\n\tprivate final String SentinelMasterName=&quot;sentinel-master-name&quot;;\r\n\t\r\n\tprivate synchronized void initializePool()\r\n\t{\r\n\t\tif(pool!=null) return;\r\n\t\t\r\n\t\tpoolConfig poolConfig = new poolConfig();\r\n\t\tpoolConfig.setMaxTotal(RedisMaximumActiveConnectionCount); \r\n\t\tpoolConfig.setMaxIdle(RedisMaximumIdleConnectionCount);  \r\n\t\tpoolConfig.setMaxWaitMillis(RedisMaximumWaitTime); \r\n\t\t\r\n\t\tif(SentinelActive)\r\n\t\t{\r\n\t\t\tString [] sentinelsArray = SentinelHostList.split(&quot;,&quot;);\r\n\t\t\t\r\n\t\t\tSet&lt;String&gt; sentinels = new HashSet&lt;&gt;();\t\t\t\r\n\t\t\tfor(String sentinel : sentinelsArray)\r\n\t\t\t{\r\n\t\t\t\tsentinels.add(sentinel);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tString masterName = SentinelMasterName;\r\n\t\t\t\r\n\t\t\tpool = new JedisSentinelPool(masterName, sentinels, poolConfig, RedisConnectionTimeout);\t\t\t\r\n\t\t}\r\n\t\telse\r\n\t\t{\t\t\r\n\t\t\tpool = new pool(poolConfig, RedisIp, RedisPort, RedisConnectionTimeout);\r\n\t\t}\r\n\t\t\t  \t\r\n\t}\t\t\t\r\n\t\r\n\tprotected Jedis getConnection()\r\n\t{\t\t\t\t\r\n\t\tif(pool==null)\r\n\t\t\tinitializePool();\r\n\t     \t\t  \r\n\t\t  Jedis jedis = pool.getResource();\r\n\t\t  \t\t  \r\n\t\t  return jedis;\t\t\r\n\t}\t\r\n\t","title":"Could not get a resource from the pool(SocketTimeoutException:)","body":"<p>Possible causes;</p>\n\n<p>1 - Redis server is down or Redis application not responding.</p>\n\n<p>2 - Application can not connect to Redis server (firewall etc. issues).</p>\n\n<p>3 - Connection to Redis server timed out.</p>\n\n<p>4 - All connections in the (Redis) pool are currently busy, new connection can not be allocated.</p>\n\n<p>The cases 1 and 2 are infra related. </p>\n\n<p>For case 3, connection timeout must be increased (\"RedisConnectionTimeout\"):</p>\n\n<pre><code>pool = new pool(poolConfig, RedisIp, RedisPort, RedisConnectionTimeout);\n</code></pre>\n\n<p>For case 4, max connection count must be increased (\"RedisMaximumActiveConnectionCount\"):</p>\n\n<pre><code>poolConfig.setMaxTotal(RedisMaximumActiveConnectionCount); \n</code></pre>\n\n<p>Assuming the following or similar implementation;</p>\n\n<pre><code>private Pool&lt;Jedis&gt; pool =  null;   \n\nprivate final String RedisIp=\"10.10.10.11\";\nprivate final int RedisPort=6379;\nprivate final String RedisConnectionTimeout=2000;\nprivate final String RedisMaximumWaitTime=1000;\nprivate final String RedisMaximumIdleConnectionCount=20;\nprivate final String RedisMaximumActiveConnectionCount=300;\nprivate final String SentinelActive=false;\nprivate final String SentinelHostList=\"10.10.10.10:26379,10.10.10.10:26380,10.10.10.10:26381\";\nprivate final String SentinelMasterName=\"sentinel-master-name\";\n\nprivate synchronized void initializePool()\n{\n    if(pool!=null) return;\n\n    poolConfig poolConfig = new poolConfig();\n    poolConfig.setMaxTotal(RedisMaximumActiveConnectionCount); \n    poolConfig.setMaxIdle(RedisMaximumIdleConnectionCount);  \n    poolConfig.setMaxWaitMillis(RedisMaximumWaitTime); \n\n    if(SentinelActive)\n    {\n        String [] sentinelsArray = SentinelHostList.split(\",\");\n\n        Set&lt;String&gt; sentinels = new HashSet&lt;&gt;();            \n        for(String sentinel : sentinelsArray)\n        {\n            sentinels.add(sentinel);\n        }\n\n        String masterName = SentinelMasterName;\n\n        pool = new JedisSentinelPool(masterName, sentinels, poolConfig, RedisConnectionTimeout);            \n    }\n    else\n    {       \n        pool = new pool(poolConfig, RedisIp, RedisPort, RedisConnectionTimeout);\n    }\n\n}           \n\nprotected Jedis getConnection()\n{               \n    if(pool==null)\n        initializePool();\n\n      Jedis jedis = pool.getResource();\n\n      return jedis;     \n}   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":32670,"reputation":6689,"user_id":90802,"display_name":"charlie arehart"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603836534,"creation_date":1603836534,"answer_id":64563583,"question_id":13043658,"body_markdown":"I&#39;ve gotten that error when jedis simply could not reach the desired redis instance (domain/ip, port, or password), which could happen if they are either wrong, or they were right before and now are wrong, or if they are right but a firewall is blocking access to them, etc.\r\n\r\nI know the OP confirmed having run redis-cli to confirm the connection, but it would have been helpful to confirm if that was done from the same place the jedis call was coming from (which could have been an app server leveraging jedis to connect to some redis server). \r\n\r\nBut that original post was from 2012, so I don&#39;t expect to hear an update but I leave these for others who may find this thread.","title":"Could not get a resource from the pool(SocketTimeoutException:)","body":"<p>I've gotten that error when jedis simply could not reach the desired redis instance (domain/ip, port, or password), which could happen if they are either wrong, or they were right before and now are wrong, or if they are right but a firewall is blocking access to them, etc.</p>\n<p>I know the OP confirmed having run redis-cli to confirm the connection, but it would have been helpful to confirm if that was done from the same place the jedis call was coming from (which could have been an app server leveraging jedis to connect to some redis server).</p>\n<p>But that original post was from 2012, so I don't expect to hear an update but I leave these for others who may find this thread.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1637610992,"post_id":70067964,"comment_id":123867953,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/70067964/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":23419713,"reputation":91,"user_id":17480104,"display_name":"Omkar Pisal"},"score":0,"creation_date":1637682063,"post_id":70067964,"comment_id":123888641,"body_markdown":"Simplified the post!","body":"Simplified the post!"}],"tags":[],"owner":{"account_id":23419713,"reputation":91,"user_id":17480104,"display_name":"Omkar Pisal"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637682046,"creation_date":1637593723,"answer_id":70067964,"question_id":13043658,"body_markdown":"I had to struggle a lot to solve the &#39;Could not get a resource from the pool&#39; error but I finally solved it and hopefully it will work out for you as well!\r\n\r\nChange port in &#39;application.properties&#39; from \r\n&#39;6380&#39; to &#39;6379&#39;\r\nIt should work fine then!","title":"Could not get a resource from the pool(SocketTimeoutException:)","body":"<p>I had to struggle a lot to solve the 'Could not get a resource from the pool' error but I finally solved it and hopefully it will work out for you as well!</p>\n<p>Change port in 'application.properties' from\n'6380' to '6379'\nIt should work fine then!</p>\n"},{"tags":[],"owner":{"account_id":22370039,"reputation":61,"user_id":16585256,"display_name":"Sheetal Shivagunde"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645509619,"creation_date":1645509619,"answer_id":71216546,"question_id":13043658,"body_markdown":"I just want to add one point in @mrt&#39;s and @charlie&#39;s answers. We need to check the properties of redis server.\r\nFor redis client 3.2.0 and above we can set ssl properties as well, with the help of JedisShardInfo as follows:\r\n\r\n```\r\nJedisShardInfo shardInfo = new JedisShardInfo(redisServer, redisServerPort, redisTimeout, redisSsl);\r\nshardInfo.setPassword(redisPassword);\r\nJedis jedis = new Jedis(shardInfo);\r\n```\r\n\r\nand with jedisPool:\r\n```\r\njedisPool = new JedisPool(poolConfig, redisServer, redisServerPort, redisTimeout, redisPassword, redisSsl);\r\njedis = jedisPool.getResource();\r\n```\r\nWhere, in ```poolConfig```, you can specify various properties like, ```setMaxIdle```, ```setMaxWaitMillis```, ```setMaxTotal``` and so on.\r\n","title":"Could not get a resource from the pool(SocketTimeoutException:)","body":"<p>I just want to add one point in @mrt's and @charlie's answers. We need to check the properties of redis server.\nFor redis client 3.2.0 and above we can set ssl properties as well, with the help of JedisShardInfo as follows:</p>\n<pre><code>JedisShardInfo shardInfo = new JedisShardInfo(redisServer, redisServerPort, redisTimeout, redisSsl);\nshardInfo.setPassword(redisPassword);\nJedis jedis = new Jedis(shardInfo);\n</code></pre>\n<p>and with jedisPool:</p>\n<pre><code>jedisPool = new JedisPool(poolConfig, redisServer, redisServerPort, redisTimeout, redisPassword, redisSsl);\njedis = jedisPool.getResource();\n</code></pre>\n<p>Where, in <code>poolConfig</code>, you can specify various properties like, <code>setMaxIdle</code>, <code>setMaxWaitMillis</code>, <code>setMaxTotal</code> and so on.</p>\n"},{"comments":[{"owner":{"account_id":5339594,"reputation":3245,"user_id":4257225,"accept_rate":100,"display_name":"Spartan"},"score":0,"creation_date":1677581551,"post_id":72401319,"comment_id":133362074,"body_markdown":"what should be the password ?","body":"what should be the password ?"}],"tags":[],"owner":{"account_id":1301836,"reputation":1540,"user_id":1251570,"accept_rate":75,"display_name":"Barun"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653632933,"creation_date":1653632933,"answer_id":72401319,"question_id":13043658,"body_markdown":"On AWS Elastic Cache (Redis) if \r\n\r\n`Redis AUTH default user access` is `Yes`, you need to set SSL=true in JedisPool like this\r\n\r\n    boolaen SSL=true;\r\n    jedisPool = new JedisPool(poolConfig, redisServer, redisServerPort, redisTimeout, redisPassword, SSL);\r\n\r\n\r\n","title":"Could not get a resource from the pool(SocketTimeoutException:)","body":"<p>On AWS Elastic Cache (Redis) if</p>\n<p><code>Redis AUTH default user access</code> is <code>Yes</code>, you need to set SSL=true in JedisPool like this</p>\n<pre><code>boolaen SSL=true;\njedisPool = new JedisPool(poolConfig, redisServer, redisServerPort, redisTimeout, redisPassword, SSL);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19336919,"reputation":1,"user_id":14137326,"display_name":"Aditya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655893968,"creation_date":1655893968,"answer_id":72713905,"question_id":13043658,"body_markdown":"This happenned to my application, actually I was using a single Object which was being called by multiple functions and those were not thread safe.\r\n\r\nProblem was multiple calls on a single object leading to corrupted calls.\r\n\r\nSomething like this :\r\n```\r\nClass A{\r\n    Object B;\r\n    function1(){\r\n        B.doSomething();\r\n    }\r\n    function2(){\r\n        B.doSomething();\r\n    }\r\n}\r\n```\r\nAs they were not threadsafe, I was getting these errors :\r\n\r\n&gt; redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: Socket is closed\r\n\r\nand \r\n\r\n&gt; redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketTimeoutException: Read timed out\r\n\r\n\r\nThis is how I fixed it :\r\n```\r\nClass A{\r\n    function1(){\r\n        Object B;\r\n        B.doSomething();\r\n    }\r\n    function2(){    \r\n        Object B;\r\n        B.doSomething();\r\n    }\r\n}\r\n```\r\nHope it helps","title":"Could not get a resource from the pool(SocketTimeoutException:)","body":"<p>This happenned to my application, actually I was using a single Object which was being called by multiple functions and those were not thread safe.</p>\n<p>Problem was multiple calls on a single object leading to corrupted calls.</p>\n<p>Something like this :</p>\n<pre><code>Class A{\n    Object B;\n    function1(){\n        B.doSomething();\n    }\n    function2(){\n        B.doSomething();\n    }\n}\n</code></pre>\n<p>As they were not threadsafe, I was getting these errors :</p>\n<blockquote>\n<p>redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: Socket is closed</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketTimeoutException: Read timed out</p>\n</blockquote>\n<p>This is how I fixed it :</p>\n<pre><code>Class A{\n    function1(){\n        Object B;\n        B.doSomething();\n    }\n    function2(){    \n        Object B;\n        B.doSomething();\n    }\n}\n</code></pre>\n<p>Hope it helps</p>\n"}],"owner":{"account_id":1723999,"reputation":2315,"user_id":1579106,"accept_rate":28,"display_name":"Vignesh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119162,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"answer_count":11,"score":43,"last_activity_date":1701219942,"creation_date":1351057832,"question_id":13043658,"body_markdown":"I&#39;m running multiple worker threads(around 10) to access the data from the redis Q.  \r\nFor the i&#39;m using infinte timeout for **Jedis Client**.  \r\n  \r\n    Jedis jedis = pool.getResource();\r\n    jedis.getClient().setTimeoutInfinite();  \r\nStill i&#39;m getting the error **&quot;Could not get a resource from the pool&quot;.** The stacktrace is given below.  \r\n    \r\n    redis.clients.jedis.exceptions.JedisConnectionException: Could not get a resource from the pool\r\n\tat redis.clients.util.Pool.getResource(Pool.java:22)\r\n\tat Workers.Worker1.met1(Worker1.java:124)\r\n\tat Workers.Worker1.work(Worker1.java:108)\r\n\tat org.gearman.impl.worker.WorkerConnectionController$3.run(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat java.lang.Thread.run(Unknown Source)  \r\n\r\n    Caused by: redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketTimeoutException: connect timed out\r\n\tat redis.clients.jedis.Connection.connect(Connection.java:124)\r\n\tat redis.clients.jedis.BinaryClient.connect(BinaryClient.java:54)\r\n\tat redis.clients.jedis.BinaryJedis.connect(BinaryJedis.java:1657)\r\n\tat redis.clients.jedis.JedisPool$JedisFactory.makeObject(JedisPool.java:63)\r\n\tat org.apache.commons.pool.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:1188)\r\n\tat redis.clients.util.Pool.getResource(Pool.java:20)\r\n\t... 6 more  \r\n\r\n    Caused by: java.net.SocketTimeoutException: connect timed out\r\n\tat java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)\r\n\tat java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source)\r\n\tat java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)\r\n\tat java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)\r\n\tat java.net.AbstractPlainSocketImpl.connect(Unknown Source)\r\n\tat java.net.PlainSocketImpl.connect(Unknown Source)\r\n\tat java.net.SocksSocketImpl.connect(Unknown Source)\r\n\tat java.net.Socket.connect(Unknown Source)\r\n\tat redis.clients.jedis.Connection.connect(Connection.java:119)\r\n\t... 11 more","title":"Could not get a resource from the pool(SocketTimeoutException:)","body":"<p>I'm running multiple worker threads(around 10) to access the data from the redis Q.<br>\nFor the i'm using infinte timeout for <strong>Jedis Client</strong>.  </p>\n\n<pre><code>Jedis jedis = pool.getResource();\njedis.getClient().setTimeoutInfinite();  \n</code></pre>\n\n<p>Still i'm getting the error <strong>\"Could not get a resource from the pool\".</strong> The stacktrace is given below.  </p>\n\n<pre><code>redis.clients.jedis.exceptions.JedisConnectionException: Could not get a resource from the pool\nat redis.clients.util.Pool.getResource(Pool.java:22)\nat Workers.Worker1.met1(Worker1.java:124)\nat Workers.Worker1.work(Worker1.java:108)\nat org.gearman.impl.worker.WorkerConnectionController$3.run(Unknown Source)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\nat java.lang.Thread.run(Unknown Source)  \n\nCaused by: redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketTimeoutException: connect timed out\nat redis.clients.jedis.Connection.connect(Connection.java:124)\nat redis.clients.jedis.BinaryClient.connect(BinaryClient.java:54)\nat redis.clients.jedis.BinaryJedis.connect(BinaryJedis.java:1657)\nat redis.clients.jedis.JedisPool$JedisFactory.makeObject(JedisPool.java:63)\nat org.apache.commons.pool.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:1188)\nat redis.clients.util.Pool.getResource(Pool.java:20)\n... 6 more  \n\nCaused by: java.net.SocketTimeoutException: connect timed out\nat java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)\nat java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source)\nat java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)\nat java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)\nat java.net.AbstractPlainSocketImpl.connect(Unknown Source)\nat java.net.PlainSocketImpl.connect(Unknown Source)\nat java.net.SocksSocketImpl.connect(Unknown Source)\nat java.net.Socket.connect(Unknown Source)\nat redis.clients.jedis.Connection.connect(Connection.java:119)\n... 11 more\n</code></pre>\n"},{"tags":["java","spring-boot","soap-client","wsdl2java","cxf-client"],"answers":[{"comments":[{"owner":{"account_id":2255906,"reputation":1066,"user_id":1987098,"accept_rate":82,"display_name":"Alejandro L."},"score":0,"creation_date":1598446939,"post_id":59248461,"comment_id":112461530,"body_markdown":"What if you don&#39;t have security policy in the wsdl but you need to add BinarySecurityToken, Signature and Digest? I also created client with wsdl2java from cxf 3.4 and I need to add headers","body":"What if you don&#39;t have security policy in the wsdl but you need to add BinarySecurityToken, Signature and Digest? I also created client with wsdl2java from cxf 3.4 and I need to add headers"},{"owner":{"account_id":4737721,"reputation":651,"user_id":3831579,"accept_rate":35,"display_name":"Sagar Rout"},"score":0,"creation_date":1611851058,"post_id":59248461,"comment_id":116589175,"body_markdown":"Hi @AlejandroL.Did you find the solution ?","body":"Hi @AlejandroL.Did you find the solution ?"}],"tags":[],"owner":{"account_id":12518226,"reputation":71,"user_id":9110580,"display_name":"sadxd"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1575892699,"creation_date":1575892699,"answer_id":59248461,"question_id":59224446,"body_markdown":"I solved my own problem. \r\nBasically i found on SO example how to print out my request data and i used it to see my requests as a result it was overriding the headers to null :) Take a note on &quot;getHeaders()&quot; method.\r\n```\r\nBinding binding = bindingProvider.getBinding();\r\nList&lt;Handler&gt; handlerChain = binding.getHandlerChain();\r\nandlerChain.add(new SOAPLoggingHandler());\r\nbinding.setHandlerChain(handlerChain);\r\n```\r\n\r\n\r\n```\r\n  class SOAPLoggingHandler implements SOAPHandler&lt;SOAPMessageContext&gt; {\r\n    public Set&lt;QName&gt; getHeaders() {\r\n      return null;\r\n    }\r\n\r\n    public boolean handleMessage(SOAPMessageContext smc) {\r\n      logToSystemOut(smc);\r\n      return true;\r\n    }\r\n\r\n    public boolean handleFault(SOAPMessageContext smc) {\r\n      logToSystemOut(smc);\r\n      return true;\r\n    }\r\n\r\n    public void close(MessageContext messageContext) {\r\n    }\r\n\r\n    private void logToSystemOut(SOAPMessageContext smc) {\r\n      Boolean outboundProperty = (Boolean)\r\n              smc.get(MessageContext.MESSAGE_OUTBOUND_PROPERTY);\r\n\r\n      if (outboundProperty.booleanValue()) {\r\n        System.out.println(&quot;\\nOutbound message:&quot;);\r\n      }\r\n      else {\r\n        System.out.println(&quot;\\nInbound message:&quot;);\r\n      }\r\n\r\n      SOAPMessage message = smc.getMessage();\r\n      try {\r\n        message.writeTo(System.out);\r\n        System.out.println(&quot;&quot;);\r\n      }\r\n      catch (Exception e) {\r\n        System.out.println(&quot;Exception in handler: &quot; + e);\r\n      }\r\n    }\r\n  }\r\n```\r\n","title":"Soap request signed by certificate. WS-Security","body":"<p>I solved my own problem. \nBasically i found on SO example how to print out my request data and i used it to see my requests as a result it was overriding the headers to null :) Take a note on \"getHeaders()\" method.</p>\n\n<pre><code>Binding binding = bindingProvider.getBinding();\nList&lt;Handler&gt; handlerChain = binding.getHandlerChain();\nandlerChain.add(new SOAPLoggingHandler());\nbinding.setHandlerChain(handlerChain);\n</code></pre>\n\n<pre><code>  class SOAPLoggingHandler implements SOAPHandler&lt;SOAPMessageContext&gt; {\n    public Set&lt;QName&gt; getHeaders() {\n      return null;\n    }\n\n    public boolean handleMessage(SOAPMessageContext smc) {\n      logToSystemOut(smc);\n      return true;\n    }\n\n    public boolean handleFault(SOAPMessageContext smc) {\n      logToSystemOut(smc);\n      return true;\n    }\n\n    public void close(MessageContext messageContext) {\n    }\n\n    private void logToSystemOut(SOAPMessageContext smc) {\n      Boolean outboundProperty = (Boolean)\n              smc.get(MessageContext.MESSAGE_OUTBOUND_PROPERTY);\n\n      if (outboundProperty.booleanValue()) {\n        System.out.println(\"\\nOutbound message:\");\n      }\n      else {\n        System.out.println(\"\\nInbound message:\");\n      }\n\n      SOAPMessage message = smc.getMessage();\n      try {\n        message.writeTo(System.out);\n        System.out.println(\"\");\n      }\n      catch (Exception e) {\n        System.out.println(\"Exception in handler: \" + e);\n      }\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":12518226,"reputation":71,"user_id":9110580,"display_name":"sadxd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5053,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":59248461,"answer_count":1,"score":4,"last_activity_date":1701219463,"creation_date":1575708977,"question_id":59224446,"body_markdown":"I received the WSDL which contains the security policy, as for now, judging by the wsdl i found out that it means that i need it to sign with certificate. No token server should be used.\r\n\r\n**What i did:**\r\nI used cxf wsdl2java to create java classes from the wsdl file. As far i saw CXF handles pretty well all the signing automatically so i added on java side STSClient with ws-security.signature.crypto and ws-security.encryption.crypto on the Client. Which basically does nothing and my Soap request contains only the body without any signing data. As a result nothing happens and no errors are printed out, which makes it really hard to solve my problem.\r\n\r\n\r\n**Question:** \r\nHow to sign the soap request without token server without any username/password?\r\nAlso address is http in the provided wsdl, should i override it to https?\r\n\r\n**Received wsdl Policy snippet:**\r\n\r\n```\r\n &lt;wsp:Policy xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot;\r\n              xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;\r\n              wsu:Id=&quot;SigOnly&quot;&gt;\r\n    &lt;wsp:ExactlyOne&gt;\r\n      &lt;wsp:All&gt;\r\n        &lt;sp:AsymmetricBinding xmlns:sp=&quot;http://schemas.xmlsoap.org/ws/2005/07/securitypolicy&quot;&gt;\r\n          &lt;wsp:Policy&gt;\r\n            &lt;sp:InitiatorToken&gt;\r\n              &lt;wsp:Policy&gt;\r\n                &lt;sp:X509Token\r\n                        sp:IncludeToken=&quot;http://schemas.xmlsoap.org/ws/2005/07/securitypolicy/IncludeToken/Always&quot;&gt;\r\n                  &lt;wsp:Policy&gt;\r\n                    &lt;sp:WssX509V3Token10/&gt;\r\n                  &lt;/wsp:Policy&gt;\r\n                &lt;/sp:X509Token&gt;\r\n              &lt;/wsp:Policy&gt;\r\n            &lt;/sp:InitiatorToken&gt;\r\n            &lt;sp:RecipientToken&gt;\r\n              &lt;wsp:Policy&gt;\r\n                &lt;sp:X509Token\r\n                        sp:IncludeToken=&quot;http://schemas.xmlsoap.org/ws/2005/07/securitypolicy/IncludeToken/Always&quot;&gt;\r\n                  &lt;wsp:Policy&gt;\r\n                    &lt;sp:WssX509V3Token10/&gt;\r\n                  &lt;/wsp:Policy&gt;\r\n                &lt;/sp:X509Token&gt;\r\n              &lt;/wsp:Policy&gt;\r\n            &lt;/sp:RecipientToken&gt;\r\n            &lt;sp:AlgorithmSuite&gt;\r\n              &lt;wsp:Policy&gt;\r\n                &lt;sp:TripleDesRsa15/&gt;\r\n              &lt;/wsp:Policy&gt;\r\n            &lt;/sp:AlgorithmSuite&gt;\r\n            &lt;sp:Layout&gt;\r\n              &lt;wsp:Policy&gt;\r\n                &lt;sp:Strict/&gt;\r\n              &lt;/wsp:Policy&gt;\r\n            &lt;/sp:Layout&gt;\r\n            &lt;sp:IncludeTimestamp/&gt;\r\n            &lt;sp:OnlySignEntireHeadersAndBody/&gt;\r\n          &lt;/wsp:Policy&gt;\r\n        &lt;/sp:AsymmetricBinding&gt;\r\n        &lt;sp:Wss10 xmlns:sp=&quot;http://schemas.xmlsoap.org/ws/2005/07/securitypolicy&quot;&gt;\r\n          &lt;wsp:Policy&gt;\r\n            &lt;sp:MustSupportRefKeyIdentifier/&gt;\r\n            &lt;sp:MustSupportRefIssuerSerial/&gt;\r\n          &lt;/wsp:Policy&gt;\r\n        &lt;/sp:Wss10&gt;\r\n        &lt;sp:SignedParts xmlns:sp=&quot;http://schemas.xmlsoap.org/ws/2005/07/securitypolicy&quot;&gt;\r\n          &lt;sp:Body/&gt;\r\n        &lt;/sp:SignedParts&gt;\r\n      &lt;/wsp:All&gt;\r\n    &lt;/wsp:ExactlyOne&gt;\r\n  &lt;/wsp:Policy&gt;\r\n```\r\n\r\n**Received message header example:**\r\n``` \r\n  &lt;soap:Header&gt;\r\n    &lt;wsse:Security xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;\r\n                   xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;\r\n                   soap:mustUnderstand=&quot;1&quot;&gt;\r\n      &lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot; Id=&quot;SIG-****&quot;&gt;\r\n        &lt;ds:SignedInfo&gt;\r\n          &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n            &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; PrefixList=&quot;soap&quot;/&gt;\r\n          &lt;/ds:CanonicalizationMethod&gt;\r\n          &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;/&gt;\r\n          &lt;ds:Reference URI=&quot;#id-***&quot;&gt;\r\n            &lt;ds:Transforms&gt;\r\n              &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;/&gt;\r\n            &lt;/ds:Transforms&gt;\r\n            &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;/&gt;\r\n            &lt;ds:DigestValue&gt;value=&lt;/ds:DigestValue&gt;\r\n          &lt;/ds:Reference&gt;\r\n        &lt;/ds:SignedInfo&gt;\r\n        &lt;ds:SignatureValue&gt;\r\n          signatureValue==\r\n        &lt;/ds:SignatureValue&gt;\r\n        &lt;ds:KeyInfo Id=&quot;KI-***&quot;&gt;\r\n          &lt;wsse:SecurityTokenReference wsu:Id=&quot;STR-***&quot;&gt;\r\n            &lt;ds:X509Data&gt;\r\n              &lt;ds:X509IssuerSerial&gt;\r\n                &lt;ds:X509IssuerName&gt;issuer name\r\n                &lt;/ds:X509IssuerName&gt;\r\n                &lt;ds:X509SerialNumber&gt;nmber&lt;/ds:X509SerialNumber&gt;\r\n              &lt;/ds:X509IssuerSerial&gt;\r\n            &lt;/ds:X509Data&gt;\r\n          &lt;/wsse:SecurityTokenReference&gt;\r\n        &lt;/ds:KeyInfo&gt;\r\n      &lt;/ds:Signature&gt;\r\n    &lt;/wsse:Security&gt;\r\n  &lt;/soap:Header&gt;\r\n``` \r\n\r\n**My java snippet:**\r\n```\r\n    Client client = ClientProxy.getClient(generatedService);\r\n\r\n    Init.init();\r\n    Properties properties = new Properties();\r\n    properties.setProperty(&quot;org.apache.ws.security.crypto.provider&quot;, &quot;org.apache.ws.security.components.crypto.Merlin&quot;);\r\n    properties.setProperty(&quot;org.apache.ws.security.crypto.merlin.keystore.type&quot;, &quot;jks&quot;);\r\n    properties.setProperty(&quot;org.apache.ws.security.crypto.merlin.keystore.password&quot;, keystorePassword);\r\n    properties.setProperty(&quot;org.apache.ws.security.crypto.merlin.keystore.alias&quot;, signedCertificateAliasInTheKeystore);\r\n    properties.setProperty(&quot;org.apache.ws.security.crypto.merlin.file&quot;, new ClassPathResource(keyStore).getPath());\r\n    properties.setProperty(&quot;org.apache.ws.security.crypto.merlin.keystore.private.password&quot;, keystorePassword);\r\n\r\n    Merlin crypto = null;\r\n    try {\r\n      crypto = (Merlin) CryptoFactory.getInstance(properties);\r\n    }\r\n    catch (WSSecurityException e) {\r\n      e.printStackTrace();//temp\r\n    }\r\n\r\n    STSClient stsClient = new STSClient(((EndpointImpl) client.getEndpoint()).getBus());\r\n    Map&lt;String, Object&gt; stsClientProperties = new HashMap&lt;&gt;();\r\n    stsClient.setWsdlLocation(new ClassPathResource(&quot;MyWsdl.wsdl&quot;).getPath());\r\n    stsClientProperties.put(&quot;ws-security.signature.crypto&quot;, crypto);\r\n    stsClientProperties.put(&quot;ws-security.encryption.crypto&quot;, crypto);\r\n    stsClient.setProperties(stsClientProperties);\r\n\r\n    BindingProvider bindingProvider = (BindingProvider) generatedService;\r\n    bindingProvider.getRequestContext().put(&quot;ws-security.sts.client&quot;, stsClient);\r\n    generatedService.callToTheOuterWorld(data);\r\n\r\n\r\n``` \r\n\r\n\r\n**Second try which is basically copy of \r\n[link](https://cwiki.apache.org/confluence/display/CXF20DOC/WS-Security):**\r\n\r\n\r\n    org.apache.cxf.endpoint.Client client = ClientProxy.getClient(generatedService);\r\n    org.apache.cxf.endpoint.Endpoint cxfEndpoint = client.getEndpoint();\r\n    Map&lt;String,Object&gt; outProps = new HashMap&lt;String,Object&gt;();\r\n    outProps.put(WSHandlerConstants.USER, &quot;keystoreAlias&quot;);\r\n    outProps.put(WSHandlerConstants.PW_CALLBACK_CLASS,\r\n            ClientPasswordCallback.class.getName()); //callback has keystore password\r\n    outProps.put(WSHandlerConstants.ACTION, WSHandlerConstants.TIMESTAMP + &quot; &quot; + WSHandlerConstants.SIGNATURE + &quot; &quot; + WSHandlerConstants.ENCRYPT);\r\n    outProps.put(WSHandlerConstants.SIG_PROP_FILE, new ClassPathResource(&quot;client_sign.properties&quot;).getPath());\r\n    WSS4JOutInterceptor wssOut = new WSS4JOutInterceptor(outProps);\r\n    cxfEndpoint.getOutInterceptors().add(wssOut);\r\n    generatedService.callToTheOuterWorld(data)\r\n\r\nwhich throws : Caused by: org.apache.wss4j.common.ext.WSSecurityException: EncryptionCrypto instantiation failed\r\nIf i remove the WSHandlerConstants.ENCRYPT i get no exception but header is still missing in the request.\r\n","title":"Soap request signed by certificate. WS-Security","body":"<p>I received the WSDL which contains the security policy, as for now, judging by the wsdl i found out that it means that i need it to sign with certificate. No token server should be used.</p>\n\n<p><strong>What i did:</strong>\nI used cxf wsdl2java to create java classes from the wsdl file. As far i saw CXF handles pretty well all the signing automatically so i added on java side STSClient with ws-security.signature.crypto and ws-security.encryption.crypto on the Client. Which basically does nothing and my Soap request contains only the body without any signing data. As a result nothing happens and no errors are printed out, which makes it really hard to solve my problem.</p>\n\n<p><strong>Question:</strong> \nHow to sign the soap request without token server without any username/password?\nAlso address is http in the provided wsdl, should i override it to https?</p>\n\n<p><strong>Received wsdl Policy snippet:</strong></p>\n\n<pre><code> &lt;wsp:Policy xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2004/09/policy\"\n              xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\"\n              wsu:Id=\"SigOnly\"&gt;\n    &lt;wsp:ExactlyOne&gt;\n      &lt;wsp:All&gt;\n        &lt;sp:AsymmetricBinding xmlns:sp=\"http://schemas.xmlsoap.org/ws/2005/07/securitypolicy\"&gt;\n          &lt;wsp:Policy&gt;\n            &lt;sp:InitiatorToken&gt;\n              &lt;wsp:Policy&gt;\n                &lt;sp:X509Token\n                        sp:IncludeToken=\"http://schemas.xmlsoap.org/ws/2005/07/securitypolicy/IncludeToken/Always\"&gt;\n                  &lt;wsp:Policy&gt;\n                    &lt;sp:WssX509V3Token10/&gt;\n                  &lt;/wsp:Policy&gt;\n                &lt;/sp:X509Token&gt;\n              &lt;/wsp:Policy&gt;\n            &lt;/sp:InitiatorToken&gt;\n            &lt;sp:RecipientToken&gt;\n              &lt;wsp:Policy&gt;\n                &lt;sp:X509Token\n                        sp:IncludeToken=\"http://schemas.xmlsoap.org/ws/2005/07/securitypolicy/IncludeToken/Always\"&gt;\n                  &lt;wsp:Policy&gt;\n                    &lt;sp:WssX509V3Token10/&gt;\n                  &lt;/wsp:Policy&gt;\n                &lt;/sp:X509Token&gt;\n              &lt;/wsp:Policy&gt;\n            &lt;/sp:RecipientToken&gt;\n            &lt;sp:AlgorithmSuite&gt;\n              &lt;wsp:Policy&gt;\n                &lt;sp:TripleDesRsa15/&gt;\n              &lt;/wsp:Policy&gt;\n            &lt;/sp:AlgorithmSuite&gt;\n            &lt;sp:Layout&gt;\n              &lt;wsp:Policy&gt;\n                &lt;sp:Strict/&gt;\n              &lt;/wsp:Policy&gt;\n            &lt;/sp:Layout&gt;\n            &lt;sp:IncludeTimestamp/&gt;\n            &lt;sp:OnlySignEntireHeadersAndBody/&gt;\n          &lt;/wsp:Policy&gt;\n        &lt;/sp:AsymmetricBinding&gt;\n        &lt;sp:Wss10 xmlns:sp=\"http://schemas.xmlsoap.org/ws/2005/07/securitypolicy\"&gt;\n          &lt;wsp:Policy&gt;\n            &lt;sp:MustSupportRefKeyIdentifier/&gt;\n            &lt;sp:MustSupportRefIssuerSerial/&gt;\n          &lt;/wsp:Policy&gt;\n        &lt;/sp:Wss10&gt;\n        &lt;sp:SignedParts xmlns:sp=\"http://schemas.xmlsoap.org/ws/2005/07/securitypolicy\"&gt;\n          &lt;sp:Body/&gt;\n        &lt;/sp:SignedParts&gt;\n      &lt;/wsp:All&gt;\n    &lt;/wsp:ExactlyOne&gt;\n  &lt;/wsp:Policy&gt;\n</code></pre>\n\n<p><strong>Received message header example:</strong></p>\n\n<pre><code>  &lt;soap:Header&gt;\n    &lt;wsse:Security xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\"\n                   xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\"\n                   soap:mustUnderstand=\"1\"&gt;\n      &lt;ds:Signature xmlns:ds=\"http://www.w3.org/2000/09/xmldsig#\" Id=\"SIG-****\"&gt;\n        &lt;ds:SignedInfo&gt;\n          &lt;ds:CanonicalizationMethod Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"&gt;\n            &lt;ec:InclusiveNamespaces xmlns:ec=\"http://www.w3.org/2001/10/xml-exc-c14n#\" PrefixList=\"soap\"/&gt;\n          &lt;/ds:CanonicalizationMethod&gt;\n          &lt;ds:SignatureMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#rsa-sha1\"/&gt;\n          &lt;ds:Reference URI=\"#id-***\"&gt;\n            &lt;ds:Transforms&gt;\n              &lt;ds:Transform Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"/&gt;\n            &lt;/ds:Transforms&gt;\n            &lt;ds:DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\"/&gt;\n            &lt;ds:DigestValue&gt;value=&lt;/ds:DigestValue&gt;\n          &lt;/ds:Reference&gt;\n        &lt;/ds:SignedInfo&gt;\n        &lt;ds:SignatureValue&gt;\n          signatureValue==\n        &lt;/ds:SignatureValue&gt;\n        &lt;ds:KeyInfo Id=\"KI-***\"&gt;\n          &lt;wsse:SecurityTokenReference wsu:Id=\"STR-***\"&gt;\n            &lt;ds:X509Data&gt;\n              &lt;ds:X509IssuerSerial&gt;\n                &lt;ds:X509IssuerName&gt;issuer name\n                &lt;/ds:X509IssuerName&gt;\n                &lt;ds:X509SerialNumber&gt;nmber&lt;/ds:X509SerialNumber&gt;\n              &lt;/ds:X509IssuerSerial&gt;\n            &lt;/ds:X509Data&gt;\n          &lt;/wsse:SecurityTokenReference&gt;\n        &lt;/ds:KeyInfo&gt;\n      &lt;/ds:Signature&gt;\n    &lt;/wsse:Security&gt;\n  &lt;/soap:Header&gt;\n</code></pre>\n\n<p><strong>My java snippet:</strong></p>\n\n<pre><code>    Client client = ClientProxy.getClient(generatedService);\n\n    Init.init();\n    Properties properties = new Properties();\n    properties.setProperty(\"org.apache.ws.security.crypto.provider\", \"org.apache.ws.security.components.crypto.Merlin\");\n    properties.setProperty(\"org.apache.ws.security.crypto.merlin.keystore.type\", \"jks\");\n    properties.setProperty(\"org.apache.ws.security.crypto.merlin.keystore.password\", keystorePassword);\n    properties.setProperty(\"org.apache.ws.security.crypto.merlin.keystore.alias\", signedCertificateAliasInTheKeystore);\n    properties.setProperty(\"org.apache.ws.security.crypto.merlin.file\", new ClassPathResource(keyStore).getPath());\n    properties.setProperty(\"org.apache.ws.security.crypto.merlin.keystore.private.password\", keystorePassword);\n\n    Merlin crypto = null;\n    try {\n      crypto = (Merlin) CryptoFactory.getInstance(properties);\n    }\n    catch (WSSecurityException e) {\n      e.printStackTrace();//temp\n    }\n\n    STSClient stsClient = new STSClient(((EndpointImpl) client.getEndpoint()).getBus());\n    Map&lt;String, Object&gt; stsClientProperties = new HashMap&lt;&gt;();\n    stsClient.setWsdlLocation(new ClassPathResource(\"MyWsdl.wsdl\").getPath());\n    stsClientProperties.put(\"ws-security.signature.crypto\", crypto);\n    stsClientProperties.put(\"ws-security.encryption.crypto\", crypto);\n    stsClient.setProperties(stsClientProperties);\n\n    BindingProvider bindingProvider = (BindingProvider) generatedService;\n    bindingProvider.getRequestContext().put(\"ws-security.sts.client\", stsClient);\n    generatedService.callToTheOuterWorld(data);\n\n\n</code></pre>\n\n<p><strong>Second try which is basically copy of \n<a href=\"https://cwiki.apache.org/confluence/display/CXF20DOC/WS-Security\" rel=\"nofollow noreferrer\">link</a>:</strong></p>\n\n<pre><code>org.apache.cxf.endpoint.Client client = ClientProxy.getClient(generatedService);\norg.apache.cxf.endpoint.Endpoint cxfEndpoint = client.getEndpoint();\nMap&lt;String,Object&gt; outProps = new HashMap&lt;String,Object&gt;();\noutProps.put(WSHandlerConstants.USER, \"keystoreAlias\");\noutProps.put(WSHandlerConstants.PW_CALLBACK_CLASS,\n        ClientPasswordCallback.class.getName()); //callback has keystore password\noutProps.put(WSHandlerConstants.ACTION, WSHandlerConstants.TIMESTAMP + \" \" + WSHandlerConstants.SIGNATURE + \" \" + WSHandlerConstants.ENCRYPT);\noutProps.put(WSHandlerConstants.SIG_PROP_FILE, new ClassPathResource(\"client_sign.properties\").getPath());\nWSS4JOutInterceptor wssOut = new WSS4JOutInterceptor(outProps);\ncxfEndpoint.getOutInterceptors().add(wssOut);\ngeneratedService.callToTheOuterWorld(data)\n</code></pre>\n\n<p>which throws : Caused by: org.apache.wss4j.common.ext.WSSecurityException: EncryptionCrypto instantiation failed\nIf i remove the WSHandlerConstants.ENCRYPT i get no exception but header is still missing in the request.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4845190,"reputation":2004,"user_id":3909000,"accept_rate":44,"display_name":"CBHacking"},"score":1,"creation_date":1686899847,"post_id":76487824,"comment_id":134864449,"body_markdown":"What does this have to do with security? Seems to be a general programming question about a particular framework.","body":"What does this have to do with security? Seems to be a general programming question about a particular framework."},{"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"score":0,"creation_date":1686900335,"post_id":76487824,"comment_id":134864506,"body_markdown":"you won&#39;t get that message if you stop trying to modify immutable things.","body":"you won&#39;t get that message if you stop trying to modify immutable things."},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":1,"creation_date":1686900406,"post_id":76487824,"comment_id":134864520,"body_markdown":"Are you attempting to change the field to point to another UmsMember? The annotation @JoinColumn explicitly states `updatable = false`.","body":"Are you attempting to change the field to point to another UmsMember? The annotation @JoinColumn explicitly states <code>updatable = false</code>."},{"owner":{"account_id":28624654,"reputation":11,"user_id":22082193,"display_name":"Miah Luo"},"score":0,"creation_date":1686902273,"post_id":76487824,"comment_id":134864845,"body_markdown":"I didn&#39;t change anything about umsMember, I changed a field in CMS batchenroll, and I don&#39;t know why","body":"I didn&#39;t change anything about umsMember, I changed a field in CMS batchenroll, and I don&#39;t know why"}],"answers":[{"tags":[],"owner":{"account_id":12561920,"reputation":408,"user_id":9139357,"display_name":"Eric"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701218781,"creation_date":1701218781,"answer_id":77567952,"question_id":76487824,"body_markdown":"Add these in `UmsMember` class\r\n\r\n    @OneToMany(cascade=CascadeType.ALL)\r\n    private List&lt;CmsBatchEnroll&gt; cmsBatchEnrolls = new ArrayList&lt;&gt;();\r\n\r\nThe key point is `cascade=CascadeType.ALL`, it makes an entity mutable.\r\n\r\n","title":"entity was modified, but it won&#39;t be updated because the property is immutable","body":"<p>Add these in <code>UmsMember</code> class</p>\n<pre><code>@OneToMany(cascade=CascadeType.ALL)\nprivate List&lt;CmsBatchEnroll&gt; cmsBatchEnrolls = new ArrayList&lt;&gt;();\n</code></pre>\n<p>The key point is <code>cascade=CascadeType.ALL</code>, it makes an entity mutable.</p>\n"}],"owner":{"account_id":28624654,"reputation":11,"user_id":22082193,"display_name":"Miah Luo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":697,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1701218781,"creation_date":1686899336,"question_id":76487824,"body_markdown":"With JPA, there is no storage problem, but the following warning is used when modifying:\r\n\r\n    HHH000502: The [umsMember] property of the [com.trustasia.cloudpki.entity.CmsBatchEnroll] entity was modified, but it won&#39;t be updated because the property is immutable.\r\n\r\nThe entity class information is as follows:\r\n\r\n    @ManyToOne(targetEntity = UmsMember.class)\r\n    @JoinColumn(name = &quot;member_id&quot;, referencedColumnName = &quot;id&quot;, insertable = false, updatable = false)\r\n    @NotFound(action = NotFoundAction.IGNORE)\r\n    private UmsMember umsMember;\r\n\r\nI want to know what this warning is all about and how to get rid of it","title":"entity was modified, but it won&#39;t be updated because the property is immutable","body":"<p>With JPA, there is no storage problem, but the following warning is used when modifying:</p>\n<pre><code>HHH000502: The [umsMember] property of the [com.trustasia.cloudpki.entity.CmsBatchEnroll] entity was modified, but it won't be updated because the property is immutable.\n</code></pre>\n<p>The entity class information is as follows:</p>\n<pre><code>@ManyToOne(targetEntity = UmsMember.class)\n@JoinColumn(name = &quot;member_id&quot;, referencedColumnName = &quot;id&quot;, insertable = false, updatable = false)\n@NotFound(action = NotFoundAction.IGNORE)\nprivate UmsMember umsMember;\n</code></pre>\n<p>I want to know what this warning is all about and how to get rid of it</p>\n"},{"tags":["java","linux","spring","spring-boot","logback"],"owner":{"account_id":15936694,"reputation":37,"user_id":11499689,"display_name":"Paul Kim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701217649,"creation_date":1701217649,"question_id":77567913,"body_markdown":"I found out some problem with logback creating .tmp files.\r\nI did look at all of the previous questions about logback config questions about .tmp files, and I still have a question.\r\n\r\nIt&#39;s not about the logback-config.xml problem.\r\nMy config file is working well.\r\n\r\nThe problem is, my server is a **batch program server**, and the java process is not always running, but runs when my Jenkins scheduler tells it to run.\r\n\r\nMy logback config has this RollingPolicy\r\n\r\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n       &lt;fileNamePattern&gt;${appLogFilePath}.%d{yyyy-MM-dd}.%i.log.gz&lt;/fileNamePattern&gt;\r\n       &lt;maxFileSize&gt;200MB&lt;/maxFileSize&gt;\r\n       &lt;maxHistory&gt;5&lt;/maxHistory&gt;\r\n       &lt;totalSizeCap&gt;3GB&lt;/totalSizeCap&gt;\r\n    &lt;/rollingPolicy&gt;\r\nSo it rolls and create .gz file every 200MB or, at 00:00 every day.\r\n\r\nBut when it starts rolling, my batch java process could end before it&#39;s done with compressing.\r\nSo it leaves a .tmp file, and imcomplete .gz file.\r\n\r\nIs there any good solution for this problem?\r\n\r\nThis is my idea to a possible solution\r\n1. Create a shell script file to delete every *.tmp files every 5 days.\r\n\r\nBecause my log files are not that important,  I thought it could be okay to delete the *.tmp files.\r\n\r\nPlease share some good ideas to solve this problem.\r\n\r\nThank you","title":"Spring Boot logback creating and leaving big size .tmp files","body":"<p>I found out some problem with logback creating .tmp files.\nI did look at all of the previous questions about logback config questions about .tmp files, and I still have a question.</p>\n<p>It's not about the logback-config.xml problem.\nMy config file is working well.</p>\n<p>The problem is, my server is a <strong>batch program server</strong>, and the java process is not always running, but runs when my Jenkins scheduler tells it to run.</p>\n<p>My logback config has this RollingPolicy</p>\n<pre><code>&lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\n   &lt;fileNamePattern&gt;${appLogFilePath}.%d{yyyy-MM-dd}.%i.log.gz&lt;/fileNamePattern&gt;\n   &lt;maxFileSize&gt;200MB&lt;/maxFileSize&gt;\n   &lt;maxHistory&gt;5&lt;/maxHistory&gt;\n   &lt;totalSizeCap&gt;3GB&lt;/totalSizeCap&gt;\n&lt;/rollingPolicy&gt;\n</code></pre>\n<p>So it rolls and create .gz file every 200MB or, at 00:00 every day.</p>\n<p>But when it starts rolling, my batch java process could end before it's done with compressing.\nSo it leaves a .tmp file, and imcomplete .gz file.</p>\n<p>Is there any good solution for this problem?</p>\n<p>This is my idea to a possible solution</p>\n<ol>\n<li>Create a shell script file to delete every *.tmp files every 5 days.</li>\n</ol>\n<p>Because my log files are not that important,  I thought it could be okay to delete the *.tmp files.</p>\n<p>Please share some good ideas to solve this problem.</p>\n<p>Thank you</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1701221456,"post_id":77566854,"comment_id":136747944,"body_markdown":"why not read the official documentation?","body":"why not read the official documentation?"}],"answers":[{"tags":[],"owner":{"account_id":11725107,"reputation":754,"user_id":8582685,"display_name":"Lee Greiner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701216568,"creation_date":1701216568,"answer_id":77567869,"question_id":77566854,"body_markdown":"You need to add\r\n\r\n    http.requestMatchers(PathRequest.toStaticResources().atCommonLocations()).permitAll()\r\n\r\nto configure Spring Security to allow unauthenticated access to the resources under src/main/resources/static. Also, remove\r\n\r\n`&quot;../static/css&quot;, &quot;../static/images&quot;` \r\n\r\nfrom your configuration.","title":"how to allow static folder and css files in spring security as antMtchers is dperecated","body":"<p>You need to add</p>\n<pre><code>http.requestMatchers(PathRequest.toStaticResources().atCommonLocations()).permitAll()\n</code></pre>\n<p>to configure Spring Security to allow unauthenticated access to the resources under src/main/resources/static. Also, remove</p>\n<p><code>&quot;../static/css&quot;, &quot;../static/images&quot;</code></p>\n<p>from your configuration.</p>\n"}],"owner":{"account_id":22390174,"reputation":3,"user_id":16602398,"display_name":"Sumit Singh Rawat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77567869,"answer_count":1,"score":-1,"last_activity_date":1701216568,"creation_date":1701201825,"question_id":77566854,"body_markdown":"    package com.example.config;\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    //import org.springframework.security.config.annotation.web.builders.WebSecurity;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    import org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.config.annotation.web.configuration.*;\r\n\r\n    import com.example.service.CustomUserDetailsService;\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n\r\n    @Autowired\r\n    CustomUserDetailsService customUserDetailsServcie;\r\n\r\n    @Bean\r\n    public static PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\r\n        http.csrf().disable().authorizeHttpRequests()\r\n            .requestMatchers(&quot;/registration&quot;, &quot;/password-request&quot;, &quot;/reset-password&quot;, &quot;../static/css&quot;,\r\n                &quot;../static/images&quot;)\r\n            .permitAll().requestMatchers(&quot;home&quot;).permitAll().and().formLogin().loginPage(&quot;/login&quot;)\r\n            .loginProcessingUrl(&quot;/login&quot;).defaultSuccessUrl(&quot;/home&quot;, true).permitAll().and().logout()\r\n            .invalidateHttpSession(true).clearAuthentication(true)\r\n            .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;)).logoutSuccessUrl(&quot;/login?logout&quot;)\r\n            .permitAll();\r\n        return http.build();\r\n    }\r\n\r\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n\r\n        auth.userDetailsService(customUserDetailsServcie).passwordEncoder(passwordEncoder());\r\n\r\n    }\r\n\r\n}\r\nI have watch videos and read post but everywhere I see only solutions using antMatchers . Most of the post in stackoverflow are old and now as antMatchers doesnt work in latest spring there isnt any proper solultion.","title":"how to allow static folder and css files in spring security as antMtchers is dperecated","body":"<pre><code>package com.example.config;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\n//import org.springframework.security.config.annotation.web.builders.WebSecurity;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.config.annotation.web.configuration.*;\n\nimport com.example.service.CustomUserDetailsService;\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n@Autowired\nCustomUserDetailsService customUserDetailsServcie;\n\n@Bean\npublic static PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n\n@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n\n    http.csrf().disable().authorizeHttpRequests()\n        .requestMatchers(&quot;/registration&quot;, &quot;/password-request&quot;, &quot;/reset-password&quot;, &quot;../static/css&quot;,\n            &quot;../static/images&quot;)\n        .permitAll().requestMatchers(&quot;home&quot;).permitAll().and().formLogin().loginPage(&quot;/login&quot;)\n        .loginProcessingUrl(&quot;/login&quot;).defaultSuccessUrl(&quot;/home&quot;, true).permitAll().and().logout()\n        .invalidateHttpSession(true).clearAuthentication(true)\n        .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;)).logoutSuccessUrl(&quot;/login?logout&quot;)\n        .permitAll();\n    return http.build();\n}\n\npublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n\n    auth.userDetailsService(customUserDetailsServcie).passwordEncoder(passwordEncoder());\n\n}\n</code></pre>\n<p>}\nI have watch videos and read post but everywhere I see only solutions using antMatchers . Most of the post in stackoverflow are old and now as antMatchers doesnt work in latest spring there isnt any proper solultion.</p>\n"},{"tags":["java","filter","filtering"],"owner":{"account_id":25342796,"reputation":3,"user_id":19160957,"display_name":"Daieth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701216229,"creation_date":1701216229,"question_id":77567849,"body_markdown":"I got this exercise:\r\n\r\nExercise 4: Marr and Hildreth Filtering\r\n\r\nYou will implement edge detection using two Gaussian filters with different amplitudes. Construct two Gaussian filters, of size 5x5 and 7x7, using the following formula:\r\n\r\nf(x,y)=k⋅e^-(x+y)\r\n\r\nyou will use k=200. The values ​​for filters A and B that you should obtain are as follows (notice the divisor each time below, which sums up all the values ​​and allows for normalization):\r\n\r\nTo calculate the filters, vary x and y between -sqrt(2) and sqrt(2)\r\n\r\n.\r\n\r\nTo apply the Marr and Hildreth filter, perform convolutions using filters A and B to obtain two images, IA and IB, and then calculate IB-IA. Observe the result.\r\n\r\nI want to treat it: the problem is that I don&#39;t understand what they mean by To calculate the filters by varyingg x and y between -sqrt(2) and sqrt (2), how can I do this and what they mean ?\r\n\r\nI already started by implementing the functions to calculate and I found a formula that you will find in the program below: the problem here is that the filters that I generate depend on the x,y positions in the matrix and not values ​​​​-sqrt (2) and sqrt(2). and I think I don&#39;t really understand the filtering principle of Marr and Hildreth.\r\n\r\nin any case I know that it is necessary to standardize, which I obviously did in all if there is someone who knows images and filters who could help me I will be happy (and also i did the convolutions etc... the only thing is the sqrt(2) thing ...)\r\n\r\n```\r\n    //Classe qui construit le filtre avec une taille et le param&#232;tre k donn&#233; Tq k=200\r\n    public static double[][] construireFiltreGaussien(int taille, double k) {\r\n\r\n        double[][] filtre = new double[taille][taille];\r\n        double carreDeDeux = Math.sqrt(2); // initialisation d&#39;une valeur qui est &#233;gale a la r&#233;cine carr&#233; de 2 \r\n\r\n        // Calcul des valeurs du filtre gaussien\r\n        for (int x = 0; x &lt; taille; x++) {\r\n            for (int y = 0; y &lt; taille; y++) {\r\n                double e = Math.exp(-(Math.pow(x - taille / 2, 2) + Math.pow(y - taille / 2, 2)) / (2 * carreDeDeux * carreDeDeux));\r\n                //double e = Math.exp((-Math.pow(x, 2) - Math.pow(y , 2))); // Fonction de calcul \r\n                filtre[x][y] = k * e; //remplissage du filtre avec les valeur \r\n            }\r\n        }\r\n\r\n        //Calcul de la somme de la matrice du filtre\r\n        double somme = 0;\r\n        for (int x = 0; x &lt; taille; x++) {\r\n            for (int y = 0; y &lt; taille; y++) {\r\n                somme += filtre[x][y];\r\n            }\r\n        }\r\n        \r\n         // Normalisation du filtre\r\n        for (int x = 0; x &lt; taille; x++) {\r\n            for (int y = 0; y &lt; taille; y++) {\r\n                filtre[x][y] /= somme;\r\n            }\r\n        }\r\n        return filtre;\r\n    }\r\n```\r\n\r\nI will have to have counters of a black and white image it works with the formula that I found on the internet, but I feel that I am drifting from the subject.","title":"Java Marr and Hildreth Filtering","body":"<p>I got this exercise:</p>\n<p>Exercise 4: Marr and Hildreth Filtering</p>\n<p>You will implement edge detection using two Gaussian filters with different amplitudes. Construct two Gaussian filters, of size 5x5 and 7x7, using the following formula:</p>\n<p>f(x,y)=k⋅e^-(x+y)</p>\n<p>you will use k=200. The values ​​for filters A and B that you should obtain are as follows (notice the divisor each time below, which sums up all the values ​​and allows for normalization):</p>\n<p>To calculate the filters, vary x and y between -sqrt(2) and sqrt(2)</p>\n<p>.</p>\n<p>To apply the Marr and Hildreth filter, perform convolutions using filters A and B to obtain two images, IA and IB, and then calculate IB-IA. Observe the result.</p>\n<p>I want to treat it: the problem is that I don't understand what they mean by To calculate the filters by varyingg x and y between -sqrt(2) and sqrt (2), how can I do this and what they mean ?</p>\n<p>I already started by implementing the functions to calculate and I found a formula that you will find in the program below: the problem here is that the filters that I generate depend on the x,y positions in the matrix and not values ​​​​-sqrt (2) and sqrt(2). and I think I don't really understand the filtering principle of Marr and Hildreth.</p>\n<p>in any case I know that it is necessary to standardize, which I obviously did in all if there is someone who knows images and filters who could help me I will be happy (and also i did the convolutions etc... the only thing is the sqrt(2) thing ...)</p>\n<pre><code>    //Classe qui construit le filtre avec une taille et le paramètre k donné Tq k=200\n    public static double[][] construireFiltreGaussien(int taille, double k) {\n\n        double[][] filtre = new double[taille][taille];\n        double carreDeDeux = Math.sqrt(2); // initialisation d'une valeur qui est égale a la récine carré de 2 \n\n        // Calcul des valeurs du filtre gaussien\n        for (int x = 0; x &lt; taille; x++) {\n            for (int y = 0; y &lt; taille; y++) {\n                double e = Math.exp(-(Math.pow(x - taille / 2, 2) + Math.pow(y - taille / 2, 2)) / (2 * carreDeDeux * carreDeDeux));\n                //double e = Math.exp((-Math.pow(x, 2) - Math.pow(y , 2))); // Fonction de calcul \n                filtre[x][y] = k * e; //remplissage du filtre avec les valeur \n            }\n        }\n\n        //Calcul de la somme de la matrice du filtre\n        double somme = 0;\n        for (int x = 0; x &lt; taille; x++) {\n            for (int y = 0; y &lt; taille; y++) {\n                somme += filtre[x][y];\n            }\n        }\n        \n         // Normalisation du filtre\n        for (int x = 0; x &lt; taille; x++) {\n            for (int y = 0; y &lt; taille; y++) {\n                filtre[x][y] /= somme;\n            }\n        }\n        return filtre;\n    }\n</code></pre>\n<p>I will have to have counters of a black and white image it works with the formula that I found on the internet, but I feel that I am drifting from the subject.</p>\n"},{"tags":["java","apache-kafka","spring-kafka","confluent-schema-registry","spring-kafka-test"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1626704940,"post_id":66575931,"comment_id":120958292,"body_markdown":"What version of schema-registry dependency are you using?","body":"What version of schema-registry dependency are you using?"},{"owner":{"account_id":16084161,"reputation":1771,"user_id":11609323,"display_name":"Ran Lupovich"},"score":0,"creation_date":1626732765,"post_id":66575931,"comment_id":120968010,"body_markdown":"Edited my answer, have a look","body":"Edited my answer, have a look"}],"answers":[{"tags":[],"owner":{"account_id":16084161,"reputation":1771,"user_id":11609323,"display_name":"Ran Lupovich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626732663,"creation_date":1626707057,"answer_id":68442768,"question_id":66575931,"body_markdown":"You are setting the producer not to try and auto register new schema  on producing the message , so it just trying to fetch from the SR and did not find its schema on the SR.\r\n\r\n\r\n________\r\n\r\n\r\n also did not see you setup schema registry URL guess its taking default values\r\n\r\n_______\r\n\r\n\r\n\r\nTo your question the mock is imitating the work of real schema registry,  but has its clear disadvantages \r\n\r\n\r\n/**\r\n * Mock implementation of SchemaRegistryClient that can be used for tests. This version is NOT\r\n * thread safe. Schema data is stored in memory and is not persistent or shared across instances.\r\n */\r\n\r\nYou may look on the document for more information \r\n\r\n\r\nhttps://github.com/confluentinc/schema-registry/blob/master/client/src/main/java/io/confluent/kafka/schemaregistry/client/MockSchemaRegistryClient.java#L47\r\n\r\n\r\n","title":"SpringBoot Embedded Kafka to produce Event using Avro Schema","body":"<p>You are setting the producer not to try and auto register new schema  on producing the message , so it just trying to fetch from the SR and did not find its schema on the SR.</p>\n<hr />\n<p>also did not see you setup schema registry URL guess its taking default values</p>\n<hr />\n<p>To your question the mock is imitating the work of real schema registry,  but has its clear disadvantages</p>\n<p>/**</p>\n<ul>\n<li>Mock implementation of SchemaRegistryClient that can be used for tests. This version is NOT</li>\n<li>thread safe. Schema data is stored in memory and is not persistent or shared across instances.\n*/</li>\n</ul>\n<p>You may look on the document for more information</p>\n<p><a href=\"https://github.com/confluentinc/schema-registry/blob/master/client/src/main/java/io/confluent/kafka/schemaregistry/client/MockSchemaRegistryClient.java#L47\" rel=\"nofollow noreferrer\">https://github.com/confluentinc/schema-registry/blob/master/client/src/main/java/io/confluent/kafka/schemaregistry/client/MockSchemaRegistryClient.java#L47</a></p>\n"},{"tags":[],"owner":{"account_id":11076006,"reputation":390,"user_id":8132714,"display_name":"shashi ranjan"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1701214240,"creation_date":1646232165,"answer_id":71324574,"question_id":66575931,"body_markdown":"The Avro schema registry supports a &quot;mock&quot; pseudo-protocol:\r\n\r\n```lang-properties\r\nschema.registry.url= mock://localhost.something\r\n```\r\n\r\nBasically anything with mock as prefix will do the job.\r\n\r\nRefer to the source code for [`AbstractKafkaAvroSerDeConfig`](https://github.com/confluentinc/schema-registry/blob/master/avro-serializer/src/main/java/io/confluent/kafka/serializers/AbstractKafkaAvroSerDeConfig.java):\r\n\r\n&gt; ```lang-java\r\n&gt;   public static final String SCHEMA_REGISTRY_URL_DOC =\r\n&gt;       &quot;Comma-separated list of URLs for schema registry instances that can be used to register &quot;\r\n&gt;       + &quot;or look up schemas. &quot;\r\n&gt;       + &quot;If you wish to get a connection to a mocked schema registry for testing, &quot;\r\n&gt;       + &quot;you can specify a scope using the &#39;mock://&#39; pseudo-protocol. For example, &quot;\r\n&gt;       + &quot;&#39;mock://my-scope-name&#39; corresponds to &quot;\r\n&gt;       + &quot;&#39;MockSchemaRegistry.getClientForScope(\\&quot;my-scope-name\\&quot;)&#39;.&quot;;\r\n&gt; ```\r\n\r\nAlso set:\r\n\r\n```lang-properties\r\nauto.register.schemas=true\r\n```","title":"SpringBoot Embedded Kafka to produce Event using Avro Schema","body":"<p>The Avro schema registry supports a &quot;mock&quot; pseudo-protocol:</p>\n<pre class=\"lang-properties prettyprint-override\"><code>schema.registry.url= mock://localhost.something\n</code></pre>\n<p>Basically anything with mock as prefix will do the job.</p>\n<p>Refer to the source code for <a href=\"https://github.com/confluentinc/schema-registry/blob/master/avro-serializer/src/main/java/io/confluent/kafka/serializers/AbstractKafkaAvroSerDeConfig.java\" rel=\"nofollow noreferrer\"><code>AbstractKafkaAvroSerDeConfig</code></a>:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>  public static final String SCHEMA_REGISTRY_URL_DOC =\n      &quot;Comma-separated list of URLs for schema registry instances that can be used to register &quot;\n      + &quot;or look up schemas. &quot;\n      + &quot;If you wish to get a connection to a mocked schema registry for testing, &quot;\n      + &quot;you can specify a scope using the 'mock://' pseudo-protocol. For example, &quot;\n      + &quot;'mock://my-scope-name' corresponds to &quot;\n      + &quot;'MockSchemaRegistry.getClientForScope(\\&quot;my-scope-name\\&quot;)'.&quot;;\n</code></pre>\n</blockquote>\n<p>Also set:</p>\n<pre class=\"lang-properties prettyprint-override\"><code>auto.register.schemas=true\n</code></pre>\n"}],"owner":{"account_id":2701039,"reputation":135,"user_id":2331762,"display_name":"SmartTechie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4201,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1701214240,"creation_date":1615432446,"question_id":66575931,"body_markdown":"I have created the below test class to produce an event using AvroSerializer.\r\n\r\n    @SpringBootTest\r\n    @EmbeddedKafka(partitions = 1, brokerProperties = { &quot;listeners=PLAINTEXT://localhost:9092&quot;, &quot;port=9092&quot; })\r\n    @TestPropertySource(locations = (&quot;classpath:application-test.properties&quot;))\r\n    @ContextConfiguration(classes = { TestAppConfig.class })\r\n    @DirtiesContext\r\n    @TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n    class EntitlementEventsConsumerServiceImplTest {\r\n    \r\n    \r\n        @Autowired\r\n        EmbeddedKafkaBroker embeddedKafkaBroker;\r\n    \r\n        @Bean\r\n        MockSchemaRegistryClient mockSchemaRegistryClient() {\r\n            return new MockSchemaRegistryClient();\r\n        }\r\n    \r\n        @Bean\r\n        KafkaAvroSerializer kafkaAvroSerializer() {\r\n            return new KafkaAvroSerializer(mockSchemaRegistryClient());\r\n        }\r\n    \r\n        @Bean\r\n        public DefaultKafkaProducerFactory producerFactory() {\r\n            Map&lt;String, Object&gt; props = KafkaTestUtils.producerProps(embeddedKafkaBroker);\r\n            props.put(KafkaAvroSerializerConfig.AUTO_REGISTER_SCHEMAS, false);\r\n            return new DefaultKafkaProducerFactory(props, new StringSerializer(), kafkaAvroSerializer());\r\n        }\r\n    \r\n        @Bean\r\n        public KafkaTemplate&lt;String, ApplicationEvent&gt; kafkaTemplate() {\r\n            KafkaTemplate&lt;String, ApplicationEvent&gt; kafkaTemplate = new KafkaTemplate(producerFactory());\r\n            return kafkaTemplate;\r\n        }\r\n    }\r\n\r\nBut when I send an event using  `kafkaTemplate().send(appEventsTopic, applicationEvent);`I am getting the  below exception.\r\n\r\n    Caused by: io.confluent.kafka.schemaregistry.client.rest.exceptions.RestClientException: Schema Not Found; error code: 404001\r\n    \tat io.confluent.kafka.schemaregistry.client.MockSchemaRegistryClient.getIdFromRegistry(MockSchemaRegistryClient.java:79)\r\n    \tat io.confluent.kafka.schemaregistry.client.MockSchemaRegistryClient.getId(MockSchemaRegistryClient.java:273)\r\n    \tat io.confluent.kafka.serializers.AbstractKafkaAvroSerializer.serializeImpl(AbstractKafkaAvroSerializer.java:82)\r\n    \tat io.confluent.kafka.serializers.KafkaAvroSerializer.serialize(KafkaAvroSerializer.java:53)\r\n    \tat org.apache.kafka.common.serialization.Serializer.serialize(Serializer.java:62)\r\n    \tat org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:902)\r\n    \tat org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:862)\r\n    \tat org.springframework.kafka.core.DefaultKafkaProducerFactory$CloseSafeProducer.send(DefaultKafkaProducerFactory.java:781)\r\n    \tat org.springframework.kafka.core.KafkaTemplate.doSend(KafkaTemplate.java:562)\r\n    \tat org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:363)\r\n\r\n**When I use MockSchemaRegistryClient why it is trying to lookup the schema?**","title":"SpringBoot Embedded Kafka to produce Event using Avro Schema","body":"<p>I have created the below test class to produce an event using AvroSerializer.</p>\n<pre><code>@SpringBootTest\n@EmbeddedKafka(partitions = 1, brokerProperties = { &quot;listeners=PLAINTEXT://localhost:9092&quot;, &quot;port=9092&quot; })\n@TestPropertySource(locations = (&quot;classpath:application-test.properties&quot;))\n@ContextConfiguration(classes = { TestAppConfig.class })\n@DirtiesContext\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\nclass EntitlementEventsConsumerServiceImplTest {\n\n\n    @Autowired\n    EmbeddedKafkaBroker embeddedKafkaBroker;\n\n    @Bean\n    MockSchemaRegistryClient mockSchemaRegistryClient() {\n        return new MockSchemaRegistryClient();\n    }\n\n    @Bean\n    KafkaAvroSerializer kafkaAvroSerializer() {\n        return new KafkaAvroSerializer(mockSchemaRegistryClient());\n    }\n\n    @Bean\n    public DefaultKafkaProducerFactory producerFactory() {\n        Map&lt;String, Object&gt; props = KafkaTestUtils.producerProps(embeddedKafkaBroker);\n        props.put(KafkaAvroSerializerConfig.AUTO_REGISTER_SCHEMAS, false);\n        return new DefaultKafkaProducerFactory(props, new StringSerializer(), kafkaAvroSerializer());\n    }\n\n    @Bean\n    public KafkaTemplate&lt;String, ApplicationEvent&gt; kafkaTemplate() {\n        KafkaTemplate&lt;String, ApplicationEvent&gt; kafkaTemplate = new KafkaTemplate(producerFactory());\n        return kafkaTemplate;\n    }\n}\n</code></pre>\n<p>But when I send an event using  <code>kafkaTemplate().send(appEventsTopic, applicationEvent);</code>I am getting the  below exception.</p>\n<pre><code>Caused by: io.confluent.kafka.schemaregistry.client.rest.exceptions.RestClientException: Schema Not Found; error code: 404001\n    at io.confluent.kafka.schemaregistry.client.MockSchemaRegistryClient.getIdFromRegistry(MockSchemaRegistryClient.java:79)\n    at io.confluent.kafka.schemaregistry.client.MockSchemaRegistryClient.getId(MockSchemaRegistryClient.java:273)\n    at io.confluent.kafka.serializers.AbstractKafkaAvroSerializer.serializeImpl(AbstractKafkaAvroSerializer.java:82)\n    at io.confluent.kafka.serializers.KafkaAvroSerializer.serialize(KafkaAvroSerializer.java:53)\n    at org.apache.kafka.common.serialization.Serializer.serialize(Serializer.java:62)\n    at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:902)\n    at org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:862)\n    at org.springframework.kafka.core.DefaultKafkaProducerFactory$CloseSafeProducer.send(DefaultKafkaProducerFactory.java:781)\n    at org.springframework.kafka.core.KafkaTemplate.doSend(KafkaTemplate.java:562)\n    at org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:363)\n</code></pre>\n<p><strong>When I use MockSchemaRegistryClient why it is trying to lookup the schema?</strong></p>\n"},{"tags":["java","jaxb","java-metro-framework","jaxb2"],"answers":[{"comments":[{"owner":{"account_id":715168,"reputation":121,"user_id":639472,"display_name":"User123456789"},"score":3,"creation_date":1298989501,"post_id":5155704,"comment_id":5788344,"body_markdown":"Is there any way to turn off this feature and keep using &quot;simple binding mode&quot;? Because I need it to add @XmlRootElement to generated classes.","body":"Is there any way to turn off this feature and keep using &quot;simple binding mode&quot;? Because I need it to add @XmlRootElement to generated classes."},{"owner":{"account_id":125029,"reputation":330,"user_id":682256,"display_name":"Simon Logic"},"score":0,"creation_date":1655983713,"post_id":5155704,"comment_id":128464158,"body_markdown":"page http://weblogs.java.net/blog/kohsuke/archive/2007/01/using_jaxb_ris.html is dead","body":"page <a href=\"http://weblogs.java.net/blog/kohsuke/archive/2007/01/using_jaxb_ris.html\" rel=\"nofollow noreferrer\">weblogs.java.net/blog/kohsuke/archive/2007/01/&hellip;</a> is dead"},{"owner":{"account_id":2450779,"reputation":1014,"user_id":2137125,"accept_rate":75,"display_name":"Lifeweaver"},"score":0,"creation_date":1692626218,"post_id":5155704,"comment_id":135645340,"body_markdown":"http://web.archive.org/web/20080920034324/http://weblogs.java.net/blog/kohsuke/archive/2007/01/using_jaxb_ris.html","body":"<a href=\"http://web.archive.org/web/20080920034324/http://weblogs.java.net/blog/kohsuke/archive/2007/01/using_jaxb_ris.html\" rel=\"nofollow noreferrer\">web.archive.org/web/20080920034324/http://weblogs.java.net/b&zwnj;&#8203;log/&hellip;</a>"}],"tags":[],"owner":{"account_id":162425,"reputation":147999,"user_id":383861,"display_name":"bdoughan"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1298989058,"creation_date":1298989058,"answer_id":5155704,"question_id":5155560,"body_markdown":"The &quot;simple binding mode&quot; is an extended feature of the JAXB RI (Metro).  Making the collection property names plural was part of its design.\r\n\r\nFrom: http://weblogs.java.net/blog/kohsuke/archive/2007/01/using_jaxb_ris.html\r\n\r\n&gt; My favorite feature in the JAXB RI is\r\n&gt; the simpler and better binding mode,\r\n&gt; which makes the generated code even\r\n&gt; easier to use, by ...\r\n&gt; \r\n&gt; 1.  Eliminating JAXBElement as much as\r\n&gt; possible \r\n&gt; 2.  Giving you a better, more\r\n&gt; typed binding in general \r\n&gt; 3. Use plural\r\n&gt; property names where applicable\r\n\r\nYou may be able to use the normal schema customizations to control the property name.  Refer to one of my previous answers (link below):\r\n\r\n  - https://stackoverflow.com/questions/4502229/how-do-you-customize-how-jaxb-generates-plural-method-names/4502572#4502572","title":"Why does JAXB 2 RI&#39;s XJC simple mode change collection names?","body":"<p>The \"simple binding mode\" is an extended feature of the JAXB RI (Metro).  Making the collection property names plural was part of its design.</p>\n\n<p>From: <a href=\"http://weblogs.java.net/blog/kohsuke/archive/2007/01/using_jaxb_ris.html\" rel=\"nofollow noreferrer\">http://weblogs.java.net/blog/kohsuke/archive/2007/01/using_jaxb_ris.html</a></p>\n\n<blockquote>\n  <p>My favorite feature in the JAXB RI is\n  the simpler and better binding mode,\n  which makes the generated code even\n  easier to use, by ...</p>\n  \n  <ol>\n  <li>Eliminating JAXBElement as much as\n  possible </li>\n  <li>Giving you a better, more\n  typed binding in general </li>\n  <li>Use plural\n  property names where applicable</li>\n  </ol>\n</blockquote>\n\n<p>You may be able to use the normal schema customizations to control the property name.  Refer to one of my previous answers (link below):</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/4502229/how-do-you-customize-how-jaxb-generates-plural-method-names/4502572#4502572\">How do you customize how JAXB generates plural method names?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1190057,"reputation":1320,"user_id":3066956,"accept_rate":54,"display_name":"autodidacticon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701212404,"creation_date":1701210677,"answer_id":77567532,"question_id":5155560,"body_markdown":"Here is an example plugin configuration that leverages the [JAXB2 Simplify Plugin][1] which among other things can disable pluralization.\r\n\r\n\r\n  [1]: https://github.com/highsource/jaxb-tools/wiki/JAXB2-Simplify-Plugin#pluralization\r\n\r\n     &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;xjc&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;xjc&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n          &lt;xjbSources&gt;\r\n            &lt;xjbSource&gt;src/main/resources/jaxb_bindings.xjb&lt;/xjbSource&gt;\r\n          &lt;/xjbSources&gt;\r\n          &lt;sources&gt;\r\n            &lt;source&gt;${basedir}/schema.xsd&lt;/source&gt;\r\n          &lt;/sources&gt;\r\n          &lt;outputDirectory&gt;${basedir}/target/generated-sources/&lt;/outputDirectory&gt;\r\n          &lt;packageName&gt;${groupId}.${artifactId}&lt;/packageName&gt;\r\n          &lt;clearOutputDir&gt;true&lt;/clearOutputDir&gt;\r\n          &lt;arguments&gt;\r\n            &lt;argument&gt;-Xsimplify-usePluralForm=false&lt;/argument&gt;\r\n          &lt;/arguments&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.jvnet.jaxb&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-plugins&lt;/artifactId&gt;\r\n      &lt;version&gt;4.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/plugin&gt;","title":"Why does JAXB 2 RI&#39;s XJC simple mode change collection names?","body":"<p>Here is an example plugin configuration that leverages the <a href=\"https://github.com/highsource/jaxb-tools/wiki/JAXB2-Simplify-Plugin#pluralization\" rel=\"nofollow noreferrer\">JAXB2 Simplify Plugin</a> which among other things can disable pluralization.</p>\n<pre><code> &lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;xjc&lt;/id&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;xjc&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n      &lt;xjbSources&gt;\n        &lt;xjbSource&gt;src/main/resources/jaxb_bindings.xjb&lt;/xjbSource&gt;\n      &lt;/xjbSources&gt;\n      &lt;sources&gt;\n        &lt;source&gt;${basedir}/schema.xsd&lt;/source&gt;\n      &lt;/sources&gt;\n      &lt;outputDirectory&gt;${basedir}/target/generated-sources/&lt;/outputDirectory&gt;\n      &lt;packageName&gt;${groupId}.${artifactId}&lt;/packageName&gt;\n      &lt;clearOutputDir&gt;true&lt;/clearOutputDir&gt;\n      &lt;arguments&gt;\n        &lt;argument&gt;-Xsimplify-usePluralForm=false&lt;/argument&gt;\n      &lt;/arguments&gt;\n    &lt;/configuration&gt;\n    &lt;dependencies&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.jvnet.jaxb&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxb-plugins&lt;/artifactId&gt;\n  &lt;version&gt;4.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":715168,"reputation":121,"user_id":639472,"display_name":"User123456789"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14075,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":2,"score":12,"last_activity_date":1701212404,"creation_date":1298988409,"question_id":5155560,"body_markdown":"JAXB simple binding mode modifies collection names to their plural\r\n&#39;version&#39;, e.g. &quot;additionalData&quot; becomes &quot;additionalDatas&quot;. Is there any solution to change this behavior? I need to have a Java field name and methods name equal to XSD field name. My bindings file:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;bindings xmlns=&quot;http://java.sun.com/xml/ns/jaxb&quot;\r\n                xmlns:xsi=&quot;http://www.w3.org/2000/10/XMLSchema-instance&quot;\r\n                xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;\r\n                xsi:schemaLocation=&quot;\r\n    http://java.sun.com/xml/ns/jaxb http://java.sun.com/xml/ns/jaxb/bindingschema_2_0.xsd&quot;\r\n    version=&quot;2.1&quot;&gt;\r\n      &lt;globalBindings&gt;\r\n        &lt;serializable uid=&quot;1&quot; /&gt;\r\n        &lt;xjc:simple/&gt;\r\n      &lt;/globalBindings&gt;\r\n    &lt;/bindings&gt;","title":"Why does JAXB 2 RI&#39;s XJC simple mode change collection names?","body":"<p>JAXB simple binding mode modifies collection names to their plural\n'version', e.g. \"additionalData\" becomes \"additionalDatas\". Is there any solution to change this behavior? I need to have a Java field name and methods name equal to XSD field name. My bindings file:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;bindings xmlns=\"http://java.sun.com/xml/ns/jaxb\"\n            xmlns:xsi=\"http://www.w3.org/2000/10/XMLSchema-instance\"\n            xmlns:xjc=\"http://java.sun.com/xml/ns/jaxb/xjc\"\n            xsi:schemaLocation=\"\nhttp://java.sun.com/xml/ns/jaxb http://java.sun.com/xml/ns/jaxb/bindingschema_2_0.xsd\"\nversion=\"2.1\"&gt;\n  &lt;globalBindings&gt;\n    &lt;serializable uid=\"1\" /&gt;\n    &lt;xjc:simple/&gt;\n  &lt;/globalBindings&gt;\n&lt;/bindings&gt;\n</code></pre>\n"},{"tags":["java","regex","emoji"],"comments":[{"owner":{"account_id":5501018,"reputation":317,"user_id":4370345,"display_name":"Codeversum"},"score":0,"creation_date":1423227187,"post_id":28366172,"comment_id":45073448,"body_markdown":"Can you show us more of the code? The loop seems alright...","body":"Can you show us more of the code? The loop seems alright..."},{"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"score":1,"creation_date":1423227220,"post_id":28366172,"comment_id":45073465,"body_markdown":"Could you provide a concrete example of the value of `letters` that you expect to match?  Also, what gives you confidence that the regex you found is definitely correct and comprehensive?","body":"Could you provide a concrete example of the value of <code>letters</code> that you expect to match?  Also, what gives you confidence that the regex you found is definitely correct and comprehensive?"},{"owner":{"account_id":5247914,"reputation":723,"user_id":4192998,"accept_rate":65,"display_name":"Zion"},"score":2,"creation_date":1423227390,"post_id":28366172,"comment_id":45073570,"body_markdown":"emojis have two letters if i am correct","body":"emojis have two letters if i am correct"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1423228043,"post_id":28366172,"comment_id":45073941,"body_markdown":"I don&#39;t get your approach at all. Did you split your original string into a `String[]`, where each element is a single-character string, just to be able to apply a regex instead of plain Java numeric range check?","body":"I don&#39;t get your approach at all. Did you split your original string into a <code>String[]</code>, where each element is a single-character string, just to be able to apply a regex instead of plain Java numeric range check?"},{"owner":{"account_id":4621047,"reputation":1154,"user_id":3746156,"accept_rate":64,"display_name":"bdv"},"score":0,"creation_date":1423228911,"post_id":28366172,"comment_id":45074438,"body_markdown":"Edited the question to show how I get the letter guys!","body":"Edited the question to show how I get the letter guys!"},{"owner":{"account_id":2021595,"reputation":8795,"user_id":1807643,"accept_rate":89,"display_name":"KeyNone"},"score":0,"creation_date":1423229789,"post_id":28366172,"comment_id":45074916,"body_markdown":"Possibly related: http://stackoverflow.com/questions/24840667/","body":"Possibly related: <a href=\"http://stackoverflow.com/questions/24840667/\">stackoverflow.com/questions/24840667</a>"}],"answers":[{"comments":[{"owner":{"account_id":4621047,"reputation":1154,"user_id":3746156,"accept_rate":64,"display_name":"bdv"},"score":0,"creation_date":1423235809,"post_id":28367013,"comment_id":45078583,"body_markdown":"Thanks, however this is not recognizing  &#128514;&#128514;. It helps now that I know emoji&#39;s have 2 chars btw","body":"Thanks, however this is not recognizing  😂😂. It helps now that I know emoji&#39;s have 2 chars btw"},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":0,"creation_date":1423236288,"post_id":28367013,"comment_id":45078859,"body_markdown":"@bdv Seems to work for me (using the second approach). Or is this supposed to be one single (composite) emoji?","body":"@bdv Seems to work for me (using the second approach). Or is this supposed to be one single (composite) emoji?"},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":0,"creation_date":1423236414,"post_id":28367013,"comment_id":45078950,"body_markdown":"@bdv Testing with `String sentence = &quot;zing &#128514;&#128514;. It he&quot;;` (just copied from your comment), your pattern, and then the code starting with `Matcher`. It outputs two emojis.","body":"@bdv Testing with <code>String sentence = &quot;zing 😂😂. It he&quot;;</code> (just copied from your comment), your pattern, and then the code starting with <code>Matcher</code>. It outputs two emojis."}],"tags":[],"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1423229796,"creation_date":1423229796,"answer_id":28367013,"question_id":28366172,"body_markdown":"It seems like those emojis are two characters long, but with `split(&quot;&quot;)` you are splitting between each single character, thus none of those letters can be the emoji you are looking for.\r\n\r\nInstead, you could try splitting between words:\r\n\r\n    for (String word : sentence.split(&quot; &quot;)) {\r\n        if (word.matches(emo_regex)) {\r\n            System.out.println(word);\r\n        }\r\n    }\r\n\r\nBut of course this will miss emojis that are joined to a word, or punctuation.\r\n\r\nAlternatively, you could just use a `Matcher` to `find` any `group` in the sentence that matches the regex.\r\n\r\n    Matcher matcher = Pattern.compile(emo_regex).matcher(sentence);\r\n    while (matcher.find()) {\r\n        System.out.println(matcher.group());\r\n    }\r\n\r\n","title":"Check if letter is emoji","body":"<p>It seems like those emojis are two characters long, but with <code>split(\"\")</code> you are splitting between each single character, thus none of those letters can be the emoji you are looking for.</p>\n\n<p>Instead, you could try splitting between words:</p>\n\n<pre><code>for (String word : sentence.split(\" \")) {\n    if (word.matches(emo_regex)) {\n        System.out.println(word);\n    }\n}\n</code></pre>\n\n<p>But of course this will miss emojis that are joined to a word, or punctuation.</p>\n\n<p>Alternatively, you could just use a <code>Matcher</code> to <code>find</code> any <code>group</code> in the sentence that matches the regex.</p>\n\n<pre><code>Matcher matcher = Pattern.compile(emo_regex).matcher(sentence);\nwhile (matcher.find()) {\n    System.out.println(matcher.group());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":160340,"reputation":2396,"user_id":380319,"accept_rate":61,"display_name":"Chaitanya"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1454050814,"creation_date":1454050814,"answer_id":35078634,"question_id":28366172,"body_markdown":"You could use [emoji4j][1] library. The following should solve the issue.\r\n\r\n    String htmlifiedText = EmojiUtils.htmlify(text);\r\n    // regex to identify html entitities in htmlified text\r\n    Matcher matcher = htmlEntityPattern.matcher(htmlifiedText);\r\n    \r\n    while (matcher.find()) {\r\n    \tString emojiCode = matcher.group();\r\n    \tif (isEmoji(emojiCode)) {\r\n\r\n    \t\temojis.add(EmojiUtils.getEmoji(emojiCode).getEmoji());\r\n    \t}\r\n    }\r\n\t\t\r\n\r\n\r\n  [1]: https://github.com/kcthota/emoji4j","title":"Check if letter is emoji","body":"<p>You could use <a href=\"https://github.com/kcthota/emoji4j\" rel=\"noreferrer\">emoji4j</a> library. The following should solve the issue.</p>\n\n<pre><code>String htmlifiedText = EmojiUtils.htmlify(text);\n// regex to identify html entitities in htmlified text\nMatcher matcher = htmlEntityPattern.matcher(htmlifiedText);\n\nwhile (matcher.find()) {\n    String emojiCode = matcher.group();\n    if (isEmoji(emojiCode)) {\n\n        emojis.add(EmojiUtils.getEmoji(emojiCode).getEmoji());\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3320855,"reputation":402,"user_id":2792078,"display_name":"lamusique"},"score":2,"creation_date":1520149583,"post_id":41147459,"comment_id":85191451,"body_markdown":"**This doesn&#39;t work and shouldn&#39;t be used** because some emojis contain only one char, e.g. &quot;☠&quot;.length() is 1. Should be voted down but not with its privilege of mine currently.","body":"<b>This doesn&#39;t work and shouldn&#39;t be used</b> because some emojis contain only one char, e.g. &quot;☠&quot;.length() is 1. Should be voted down but not with its privilege of mine currently."},{"owner":{"account_id":3739249,"reputation":2113,"user_id":3109401,"accept_rate":29,"display_name":"Kimi Chiu"},"score":6,"creation_date":1544719134,"post_id":41147459,"comment_id":94384632,"body_markdown":"&quot;☠&quot; is not an emoji. It&#39;s just a symbol, but the system display it like an emoji. The value is 9760.","body":"&quot;☠&quot; is not an emoji. It&#39;s just a symbol, but the system display it like an emoji. The value is 9760."},{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1668737818,"post_id":41147459,"comment_id":131485200,"body_markdown":"Characters for which `isSurrogatePair` returns true include non-emoji characters, such as `&#171581;`.","body":"Characters for which <code>isSurrogatePair</code> returns true include non-emoji characters, such as <code>𩸽</code>."}],"tags":[],"owner":{"account_id":2884239,"reputation":213,"user_id":2474486,"display_name":"user2474486"},"comment_count":3,"down_vote_count":3,"up_vote_count":8,"is_accepted":false,"score":5,"last_activity_date":1481732747,"creation_date":1481732747,"answer_id":41147459,"question_id":28366172,"body_markdown":"You can use &lt;b&gt;Character&lt;/b&gt; class for determining is letter is part of surrogate pair. There some helpful methods to deal with surrogate pairs emoji symbols, for example:\r\n\r\n    String text = &quot;&#128169;&quot;;\r\n    if (text.length() &gt; 1 &amp;&amp; Character.isSurrogatePair(text.charAt(0), text.charAt(1))) {\r\n        int codePoint = Character.toCodePoint(text.charAt(0), text.charAt(1));\r\n        char[] c = Character.toChars(codePoint);\r\n    }","title":"Check if letter is emoji","body":"<p>You can use <b>Character</b> class for determining is letter is part of surrogate pair. There some helpful methods to deal with surrogate pairs emoji symbols, for example:</p>\n\n<pre><code>String text = \"💩\";\nif (text.length() &gt; 1 &amp;&amp; Character.isSurrogatePair(text.charAt(0), text.charAt(1))) {\n    int codePoint = Character.toCodePoint(text.charAt(0), text.charAt(1));\n    char[] c = Character.toChars(codePoint);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":960314,"reputation":20995,"user_id":984830,"accept_rate":93,"display_name":"Nick Cardoso"},"score":2,"creation_date":1638192498,"post_id":41147877,"comment_id":124015017,"body_markdown":"What a crappy attitude in the previous comment. This answer has some good insights (using codePoints). However it&#39;s only a workable solution for catching specific emoji, since you would need every emoji in the regex if you wanted it to filter any possible emoji","body":"What a crappy attitude in the previous comment. This answer has some good insights (using codePoints). However it&#39;s only a workable solution for catching specific emoji, since you would need every emoji in the regex if you wanted it to filter any possible emoji"}],"tags":[],"owner":{"account_id":4859,"reputation":40443,"user_id":7512,"accept_rate":75,"display_name":"slim"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1481736385,"creation_date":1481733986,"answer_id":41147877,"question_id":28366172,"body_markdown":"It&#39;s worth bearing in mind that Java code can be written in Unicode. So you *can* just do:\r\n\r\n    @Test\r\n    public void containsEmoji_detects_smileys() {\r\n        assertTrue(containsEmoji(&quot;This &#128514; is a smiley &quot;));\r\n        assertTrue(containsEmoji(&quot;This &#128516; is a different smiley&quot;));\r\n        assertFalse(containsEmoji(&quot;No smiley here&quot;));\r\n    }\r\n    \r\n    private boolean containsEmoji(String s) {\r\n        String pattern = &quot;.*[&#128514;&#128516;].*&quot;;\r\n        return s.matches(pattern);\r\n    }\r\n\r\nAlthough see: https://stackoverflow.com/questions/2178348/should-source-code-be-saved-in-utf-8-format for discussion on whether that&#39;s a good idea.\r\n\r\n---\r\n\r\nYou can split a String into Unicode codepoints in Java 8 using `String.codePoints()`, which returns an `IntStream`. That means you can do something like:\r\n\r\n    Set&lt;Integer&gt; emojis = new HashSet&lt;&gt;();\r\n    emojis.add(&quot;&#128514;&quot;.codePointAt(0));\r\n    emojis.add(&quot;&#128516;&quot;.codePointAt(0));\r\n    String s = &quot;1&#128514;34&#128516;5&quot;;\r\n    s.codePoints().forEach( codepoint -&gt; {\r\n        System.out.println(\r\n            new String(Character.toChars(codepoint)) \r\n            + &quot; &quot; \r\n            + emojis.contains(codepoint));\r\n    });\r\n\r\n... prints ...\r\n\r\n    1 false\r\n    &#128514; true\r\n    3 false\r\n    4 false\r\n    &#128516; true\r\n    5 false\r\n\r\nOf course if you prefer not to have literal unicode chars in your code you can just put numbers in your set:\r\n\r\n    emojis.add(0x1F601);\r\n","title":"Check if letter is emoji","body":"<p>It's worth bearing in mind that Java code can be written in Unicode. So you <em>can</em> just do:</p>\n\n<pre><code>@Test\npublic void containsEmoji_detects_smileys() {\n    assertTrue(containsEmoji(\"This 😂 is a smiley \"));\n    assertTrue(containsEmoji(\"This 😄 is a different smiley\"));\n    assertFalse(containsEmoji(\"No smiley here\"));\n}\n\nprivate boolean containsEmoji(String s) {\n    String pattern = \".*[😂😄].*\";\n    return s.matches(pattern);\n}\n</code></pre>\n\n<p>Although see: <a href=\"https://stackoverflow.com/questions/2178348/should-source-code-be-saved-in-utf-8-format\">Should source code be saved in UTF-8 format</a> for discussion on whether that's a good idea.</p>\n\n<hr>\n\n<p>You can split a String into Unicode codepoints in Java 8 using <code>String.codePoints()</code>, which returns an <code>IntStream</code>. That means you can do something like:</p>\n\n<pre><code>Set&lt;Integer&gt; emojis = new HashSet&lt;&gt;();\nemojis.add(\"😂\".codePointAt(0));\nemojis.add(\"😄\".codePointAt(0));\nString s = \"1😂34😄5\";\ns.codePoints().forEach( codepoint -&gt; {\n    System.out.println(\n        new String(Character.toChars(codepoint)) \n        + \" \" \n        + emojis.contains(codepoint));\n});\n</code></pre>\n\n<p>... prints ...</p>\n\n<pre><code>1 false\n😂 true\n3 false\n4 false\n😄 true\n5 false\n</code></pre>\n\n<p>Of course if you prefer not to have literal unicode chars in your code you can just put numbers in your set:</p>\n\n<pre><code>emojis.add(0x1F601);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":974068,"reputation":47448,"user_id":995926,"accept_rate":90,"display_name":"rekire"},"score":2,"creation_date":1567070280,"post_id":49735236,"comment_id":101856170,"body_markdown":"I am familiar with regex, but that is so complex that I do not really understand what you are doing there.","body":"I am familiar with regex, but that is so complex that I do not really understand what you are doing there."},{"owner":{"account_id":5198966,"reputation":93,"user_id":4159122,"display_name":"Dima Karaush"},"score":1,"creation_date":1640695933,"post_id":49735236,"comment_id":124635187,"body_markdown":"Thanks for the regex, that&#39;s exactly what I needed!","body":"Thanks for the regex, that&#39;s exactly what I needed!"}],"tags":[],"owner":{"account_id":13327412,"reputation":127,"user_id":9619925,"display_name":"Noamaw"},"comment_count":2,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1523283690,"creation_date":1523283690,"answer_id":49735236,"question_id":28366172,"body_markdown":"This function I created checks if given String consists of only emojis.\r\nin other words if the String contains any character not included in the Regex, it will return false.\r\n\r\n    private static boolean isEmoji(String message){\r\n        return message.matches(&quot;(?:[\\uD83C\\uDF00-\\uD83D\\uDDFF]|[\\uD83E\\uDD00-\\uD83E\\uDDFF]|&quot; +\r\n                &quot;[\\uD83D\\uDE00-\\uD83D\\uDE4F]|[\\uD83D\\uDE80-\\uD83D\\uDEFF]|&quot; +\r\n                &quot;[\\u2600-\\u26FF]\\uFE0F?|[\\u2700-\\u27BF]\\uFE0F?|\\u24C2\\uFE0F?|&quot; +\r\n                &quot;[\\uD83C\\uDDE6-\\uD83C\\uDDFF]{1,2}|&quot; +\r\n                &quot;[\\uD83C\\uDD70\\uD83C\\uDD71\\uD83C\\uDD7E\\uD83C\\uDD7F\\uD83C\\uDD8E\\uD83C\\uDD91-\\uD83C\\uDD9A]\\uFE0F?|&quot; +\r\n                &quot;[\\u0023\\u002A\\u0030-\\u0039]\\uFE0F?\\u20E3|[\\u2194-\\u2199\\u21A9-\\u21AA]\\uFE0F?|[\\u2B05-\\u2B07\\u2B1B\\u2B1C\\u2B50\\u2B55]\\uFE0F?|&quot; +\r\n                &quot;[\\u2934\\u2935]\\uFE0F?|[\\u3030\\u303D]\\uFE0F?|[\\u3297\\u3299]\\uFE0F?|&quot; +\r\n                &quot;[\\uD83C\\uDE01\\uD83C\\uDE02\\uD83C\\uDE1A\\uD83C\\uDE2F\\uD83C\\uDE32-\\uD83C\\uDE3A\\uD83C\\uDE50\\uD83C\\uDE51]\\uFE0F?|&quot; +\r\n                &quot;[\\u203C\\u2049]\\uFE0F?|[\\u25AA\\u25AB\\u25B6\\u25C0\\u25FB-\\u25FE]\\uFE0F?|&quot; +\r\n                &quot;[\\u00A9\\u00AE]\\uFE0F?|[\\u2122\\u2139]\\uFE0F?|\\uD83C\\uDC04\\uFE0F?|\\uD83C\\uDCCF\\uFE0F?|&quot; +\r\n                &quot;[\\u231A\\u231B\\u2328\\u23CF\\u23E9-\\u23F3\\u23F8-\\u23FA]\\uFE0F?)+&quot;);\r\n\t}\r\n\r\nExample of implementation:\r\n\r\n   \r\n\r\n\tpublic static int detectEmojis(String message){\r\n\t\tint len = message.length(), NumEmoji = 0;\r\n\t\t// if the the given String is only emojis.\r\n\t\tif(isEmoji(message)){\r\n            for (int i = 0; i &lt; len; i++) {\r\n            \t// if the charAt(i) is an emoji by it self -&gt; ++NumEmoji\r\n\t\t\t\tif (isEmoji(message.charAt(i)+&quot;&quot;)) {\r\n\t\t\t\t\tNumEmoji++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// maybe the emoji is of size 2 - so lets check.\r\n                \tif (i &lt; (len - 1)) { // some Emojis are two characters long in java, e.g. a rocket emoji is &quot;\\uD83D\\uDE80&quot;;\r\n                    \tif (Character.isSurrogatePair(message.charAt(i), message.charAt(i + 1))) {\r\n                        \ti += 1; //also skip the second character of the emoji\r\n\t\t\t\t\t\t\tNumEmoji++;\r\n                    \t}\r\n                \t}\r\n\t\t\t\t}\r\n            }\r\n\t\t    return NumEmoji;\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\ngiven is a function that runs on a string (of only emojis) and return the number of emojis in it. (with the help of other answers i found here on StackOverFlow).","title":"Check if letter is emoji","body":"<p>This function I created checks if given String consists of only emojis.\nin other words if the String contains any character not included in the Regex, it will return false.</p>\n\n<pre><code>private static boolean isEmoji(String message){\n    return message.matches(\"(?:[\\uD83C\\uDF00-\\uD83D\\uDDFF]|[\\uD83E\\uDD00-\\uD83E\\uDDFF]|\" +\n            \"[\\uD83D\\uDE00-\\uD83D\\uDE4F]|[\\uD83D\\uDE80-\\uD83D\\uDEFF]|\" +\n            \"[\\u2600-\\u26FF]\\uFE0F?|[\\u2700-\\u27BF]\\uFE0F?|\\u24C2\\uFE0F?|\" +\n            \"[\\uD83C\\uDDE6-\\uD83C\\uDDFF]{1,2}|\" +\n            \"[\\uD83C\\uDD70\\uD83C\\uDD71\\uD83C\\uDD7E\\uD83C\\uDD7F\\uD83C\\uDD8E\\uD83C\\uDD91-\\uD83C\\uDD9A]\\uFE0F?|\" +\n            \"[\\u0023\\u002A\\u0030-\\u0039]\\uFE0F?\\u20E3|[\\u2194-\\u2199\\u21A9-\\u21AA]\\uFE0F?|[\\u2B05-\\u2B07\\u2B1B\\u2B1C\\u2B50\\u2B55]\\uFE0F?|\" +\n            \"[\\u2934\\u2935]\\uFE0F?|[\\u3030\\u303D]\\uFE0F?|[\\u3297\\u3299]\\uFE0F?|\" +\n            \"[\\uD83C\\uDE01\\uD83C\\uDE02\\uD83C\\uDE1A\\uD83C\\uDE2F\\uD83C\\uDE32-\\uD83C\\uDE3A\\uD83C\\uDE50\\uD83C\\uDE51]\\uFE0F?|\" +\n            \"[\\u203C\\u2049]\\uFE0F?|[\\u25AA\\u25AB\\u25B6\\u25C0\\u25FB-\\u25FE]\\uFE0F?|\" +\n            \"[\\u00A9\\u00AE]\\uFE0F?|[\\u2122\\u2139]\\uFE0F?|\\uD83C\\uDC04\\uFE0F?|\\uD83C\\uDCCF\\uFE0F?|\" +\n            \"[\\u231A\\u231B\\u2328\\u23CF\\u23E9-\\u23F3\\u23F8-\\u23FA]\\uFE0F?)+\");\n}\n</code></pre>\n\n<p>Example of implementation:</p>\n\n<pre><code>public static int detectEmojis(String message){\n    int len = message.length(), NumEmoji = 0;\n    // if the the given String is only emojis.\n    if(isEmoji(message)){\n        for (int i = 0; i &lt; len; i++) {\n            // if the charAt(i) is an emoji by it self -&gt; ++NumEmoji\n            if (isEmoji(message.charAt(i)+\"\")) {\n                NumEmoji++;\n            } else {\n                // maybe the emoji is of size 2 - so lets check.\n                if (i &lt; (len - 1)) { // some Emojis are two characters long in java, e.g. a rocket emoji is \"\\uD83D\\uDE80\";\n                    if (Character.isSurrogatePair(message.charAt(i), message.charAt(i + 1))) {\n                        i += 1; //also skip the second character of the emoji\n                        NumEmoji++;\n                    }\n                }\n            }\n        }\n        return NumEmoji;\n    }\n    return 0;\n}\n</code></pre>\n\n<p>given is a function that runs on a string (of only emojis) and return the number of emojis in it. (with the help of other answers i found here on StackOverFlow).</p>\n"},{"tags":[],"owner":{"account_id":550516,"reputation":321,"user_id":915082,"display_name":"coder4"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1541138160,"creation_date":1541138160,"answer_id":53113324,"question_id":28366172,"body_markdown":"Try this project [simple-emoji-4j][1]\r\n\r\nCompatible with Emoji 12.0 (2018.10.15)\r\n\r\nSimple with:\r\n\r\n\r\n    EmojiUtils.containsEmoji(str)\r\n\r\n\r\n[1]: https://github.com/liheyuan/simple-emoji-4j","title":"Check if letter is emoji","body":"<p>Try this project <a href=\"https://github.com/liheyuan/simple-emoji-4j\" rel=\"noreferrer\">simple-emoji-4j</a></p>\n\n<p>Compatible with Emoji 12.0 (2018.10.15)</p>\n\n<p>Simple with:</p>\n\n<pre><code>EmojiUtils.containsEmoji(str)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20618398,"reputation":149,"user_id":15135947,"display_name":"Aarush Kumar"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1612339649,"creation_date":1612339649,"answer_id":66023479,"question_id":28366172,"body_markdown":"Here you go -\r\n````\r\nfor (String word : sentence.split(&quot;&quot;)) {\r\n    if (word.matches(emo_regex)) {\r\n        System.out.println(word);\r\n    }\r\n}\r\n````","title":"Check if letter is emoji","body":"<p>Here you go -</p>\n<pre><code>for (String word : sentence.split(&quot;&quot;)) {\n    if (word.matches(emo_regex)) {\n        System.out.println(word);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16914364,"reputation":1806,"user_id":12232720,"display_name":"mathematics-and-caffeine"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654866065,"creation_date":1654866065,"answer_id":72574709,"question_id":28366172,"body_markdown":"This is how Telegram does it:\r\n\r\n```\r\nprivate static boolean isEmoji(String message){\r\n\treturn message.matches(&quot;(?:[\\uD83C\\uDF00-\\uD83D\\uDDFF]|[\\uD83E\\uDD00-\\uD83E\\uDDFF]|&quot; +\r\n\t\t&quot;[\\uD83D\\uDE00-\\uD83D\\uDE4F]|[\\uD83D\\uDE80-\\uD83D\\uDEFF]|&quot; +\r\n\t\t&quot;[\\u2600-\\u26FF]\\uFE0F?|[\\u2700-\\u27BF]\\uFE0F?|\\u24C2\\uFE0F?|&quot; +\r\n\t\t&quot;[\\uD83C\\uDDE6-\\uD83C\\uDDFF]{1,2}|&quot; +\r\n\t\t&quot;[\\uD83C\\uDD70\\uD83C\\uDD71\\uD83C\\uDD7E\\uD83C\\uDD7F\\uD83C\\uDD8E\\uD83C\\uDD91-\\uD83C\\uDD9A]\\uFE0F?|&quot; +\r\n\t\t&quot;[\\u0023\\u002A\\u0030-\\u0039]\\uFE0F?\\u20E3|[\\u2194-\\u2199\\u21A9-\\u21AA]\\uFE0F?|[\\u2B05-\\u2B07\\u2B1B\\u2B1C\\u2B50\\u2B55]\\uFE0F?|&quot; +\r\n\t\t&quot;[\\u2934\\u2935]\\uFE0F?|[\\u3030\\u303D]\\uFE0F?|[\\u3297\\u3299]\\uFE0F?|&quot; +\r\n\t\t&quot;[\\uD83C\\uDE01\\uD83C\\uDE02\\uD83C\\uDE1A\\uD83C\\uDE2F\\uD83C\\uDE32-\\uD83C\\uDE3A\\uD83C\\uDE50\\uD83C\\uDE51]\\uFE0F?|&quot; +\r\n\t\t&quot;[\\u203C\\u2049]\\uFE0F?|[\\u25AA\\u25AB\\u25B6\\u25C0\\u25FB-\\u25FE]\\uFE0F?|&quot; +\r\n\t\t&quot;[\\u00A9\\u00AE]\\uFE0F?|[\\u2122\\u2139]\\uFE0F?|\\uD83C\\uDC04\\uFE0F?|\\uD83C\\uDCCF\\uFE0F?|&quot; +\r\n\t\t&quot;[\\u231A\\u231B\\u2328\\u23CF\\u23E9-\\u23F3\\u23F8-\\u23FA]\\uFE0F?)+&quot;);\r\n}\r\n\r\n```\r\n\r\nIt is [Line 21,026][1] in ChatActivity.\r\n\r\n\r\n  [1]: https://raw.githubusercontent.com/DrKLO/Telegram/master/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java","title":"Check if letter is emoji","body":"<p>This is how Telegram does it:</p>\n<pre><code>private static boolean isEmoji(String message){\n    return message.matches(&quot;(?:[\\uD83C\\uDF00-\\uD83D\\uDDFF]|[\\uD83E\\uDD00-\\uD83E\\uDDFF]|&quot; +\n        &quot;[\\uD83D\\uDE00-\\uD83D\\uDE4F]|[\\uD83D\\uDE80-\\uD83D\\uDEFF]|&quot; +\n        &quot;[\\u2600-\\u26FF]\\uFE0F?|[\\u2700-\\u27BF]\\uFE0F?|\\u24C2\\uFE0F?|&quot; +\n        &quot;[\\uD83C\\uDDE6-\\uD83C\\uDDFF]{1,2}|&quot; +\n        &quot;[\\uD83C\\uDD70\\uD83C\\uDD71\\uD83C\\uDD7E\\uD83C\\uDD7F\\uD83C\\uDD8E\\uD83C\\uDD91-\\uD83C\\uDD9A]\\uFE0F?|&quot; +\n        &quot;[\\u0023\\u002A\\u0030-\\u0039]\\uFE0F?\\u20E3|[\\u2194-\\u2199\\u21A9-\\u21AA]\\uFE0F?|[\\u2B05-\\u2B07\\u2B1B\\u2B1C\\u2B50\\u2B55]\\uFE0F?|&quot; +\n        &quot;[\\u2934\\u2935]\\uFE0F?|[\\u3030\\u303D]\\uFE0F?|[\\u3297\\u3299]\\uFE0F?|&quot; +\n        &quot;[\\uD83C\\uDE01\\uD83C\\uDE02\\uD83C\\uDE1A\\uD83C\\uDE2F\\uD83C\\uDE32-\\uD83C\\uDE3A\\uD83C\\uDE50\\uD83C\\uDE51]\\uFE0F?|&quot; +\n        &quot;[\\u203C\\u2049]\\uFE0F?|[\\u25AA\\u25AB\\u25B6\\u25C0\\u25FB-\\u25FE]\\uFE0F?|&quot; +\n        &quot;[\\u00A9\\u00AE]\\uFE0F?|[\\u2122\\u2139]\\uFE0F?|\\uD83C\\uDC04\\uFE0F?|\\uD83C\\uDCCF\\uFE0F?|&quot; +\n        &quot;[\\u231A\\u231B\\u2328\\u23CF\\u23E9-\\u23F3\\u23F8-\\u23FA]\\uFE0F?)+&quot;);\n}\n\n</code></pre>\n<p>It is <a href=\"https://raw.githubusercontent.com/DrKLO/Telegram/master/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java\" rel=\"nofollow noreferrer\">Line 21,026</a> in ChatActivity.</p>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668790197,"creation_date":1668790197,"answer_id":74492925,"question_id":28366172,"body_markdown":"Unicode has [an entire document](http://www.unicode.org/reports/tr51/) on this.  Emojis and emoji sequences are a lot more complicated than just a few character ranges.  There are emoji modifiers (for example, skin tones), regional indicator pairs (country flags), and some special sequences like the pirate flag.\r\n\r\nYou can use Unicode’s [emoji data files](https://www.unicode.org/Public/emoji/15.0/) to reliably find emoji characters and emoji sequences.  This will work even as new complex emojis are added:\r\n\r\n    import java.net.URL;\r\n\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n\r\n    import java.util.Collection;\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n\r\n    import java.util.regex.Pattern;\r\n    import java.util.regex.Matcher;\r\n\r\n    public class EmojiCollector {\r\n        private static String emojiSequencesBaseURI;\r\n\r\n        private final Pattern emojiPattern;\r\n\r\n        public EmojiCollector()\r\n        throws IOException {\r\n            StringBuilder sequences = new StringBuilder();\r\n\r\n            appendSequencesFrom(\r\n                uriOfEmojiSequencesFile(&quot;emoji-sequences.txt&quot;),\r\n                sequences);\r\n            appendSequencesFrom(\r\n                uriOfEmojiSequencesFile(&quot;emoji-zwj-sequences.txt&quot;),\r\n                sequences);\r\n\r\n            emojiPattern = Pattern.compile(sequences.toString());\r\n        }\r\n\r\n        private void appendSequencesFrom(String sequencesFileURI,\r\n                                         StringBuilder sequences)\r\n        throws IOException {\r\n            Path sequencesFile = download(sequencesFileURI);\r\n\r\n            Pattern range =\r\n                Pattern.compile(&quot;^(\\\\p{XDigit}{4,6})\\\\.\\\\.(\\\\p{XDigit}{4,6})&quot;);\r\n            Matcher rangeMatcher = range.matcher(&quot;&quot;);\r\n\r\n            try (BufferedReader sequencesReader =\r\n                Files.newBufferedReader(sequencesFile)) {\r\n\r\n                String line;\r\n                while ((line = sequencesReader.readLine()) != null) {\r\n                    if (line.trim().isEmpty() || line.startsWith(&quot;#&quot;)) {\r\n                        continue;\r\n                    }\r\n\r\n                    int semicolon = line.indexOf(&#39;;&#39;);\r\n                    if (semicolon &lt; 0) {\r\n                        continue;\r\n                    }\r\n\r\n                    String codepoints = line.substring(0, semicolon);\r\n\r\n                    if (sequences.length() &gt; 0) {\r\n                        sequences.append(&quot;|&quot;);\r\n                    }\r\n\r\n                    if (rangeMatcher.reset(codepoints).find()) {\r\n                        String start = rangeMatcher.group(1);\r\n                        String end = rangeMatcher.group(2);\r\n\r\n                        sequences.append(&quot;[\\\\x{&quot;).append(start).append(&quot;}&quot;);\r\n                        sequences.append(&quot;-\\\\x{&quot;).append(end).append(&quot;}]&quot;);\r\n                    } else {\r\n                        Scanner scanner = new Scanner(codepoints);\r\n                        while (scanner.hasNext()) {\r\n                            String codepoint = scanner.next();\r\n                            sequences.append(&quot;\\\\x{&quot;).append(codepoint).append(&quot;}&quot;);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        private static String uriOfEmojiSequencesFile(String baseName)\r\n        throws IOException {\r\n            if (emojiSequencesBaseURI == null) {\r\n                URL readme = new URL(\r\n                    &quot;https://www.unicode.org/Public/UCD/latest/ReadMe.txt&quot;);\r\n                try (BufferedReader reader = new BufferedReader(\r\n                    new InputStreamReader(readme.openStream(), &quot;UTF-8&quot;))) {\r\n\r\n                    String line;\r\n                    while ((line = reader.readLine()) != null) {\r\n                        if (line.startsWith(&quot;Public/emoji/&quot;)) {\r\n                            emojiSequencesBaseURI =\r\n                                &quot;https://www.unicode.org/&quot; + line.trim();\r\n                            if (!emojiSequencesBaseURI.endsWith(&quot;/&quot;)) {\r\n                                emojiSequencesBaseURI += &quot;/&quot;;\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (emojiSequencesBaseURI == null) {\r\n                    // Where else can we get this reliably?\r\n                    String version = &quot;15.0&quot;;\r\n\r\n                    emojiSequencesBaseURI =\r\n                        &quot;https://www.unicode.org/Public/emoji/&quot; + version + &quot;/&quot;;\r\n                }\r\n            }\r\n\r\n            return emojiSequencesBaseURI + baseName;\r\n        }\r\n\r\n        private static Path download(String uri)\r\n        throws IOException {\r\n\r\n            Path cacheDir;\r\n            String os = System.getProperty(&quot;os.name&quot;);\r\n            String home = System.getProperty(&quot;user.home&quot;);\r\n            if (os.contains(&quot;Windows&quot;)) {\r\n                Path appDataDir;\r\n                String appData = System.getenv(&quot;APPDATA&quot;);\r\n                if (appData != null) {\r\n                    appDataDir = Paths.get(appData);\r\n                } else {\r\n                    appDataDir = Paths.get(home, &quot;AppData&quot;);\r\n                }\r\n\r\n                cacheDir = appDataDir.resolve(&quot;Local&quot;);\r\n            } else if (os.contains(&quot;Mac&quot;)) {\r\n                cacheDir = Paths.get(home, &quot;Library&quot;, &quot;Application Support&quot;);\r\n            } else {\r\n                cacheDir = Paths.get(home, &quot;.cache&quot;);\r\n                String cacheHome = System.getenv(&quot;XDG_CACHE_HOME&quot;);\r\n                if (cacheHome != null) {\r\n                    Path dir = Paths.get(cacheHome);\r\n                    if (dir.isAbsolute()) {\r\n                        cacheDir = dir;\r\n                    }\r\n                }\r\n            }\r\n\r\n            String baseName = uri.substring(uri.lastIndexOf(&#39;/&#39;) + 1);\r\n\r\n            Path dataDir = cacheDir.resolve(EmojiCollector.class.getName());\r\n            Path dataFile = dataDir.resolve(baseName);\r\n            if (!Files.isReadable(dataFile)) {\r\n                Files.createDirectories(dataDir);\r\n                URL dataURL = new URL(uri);\r\n                try (InputStream data = dataURL.openStream()) {\r\n                    Files.copy(data, dataFile);\r\n                }\r\n            }\r\n\r\n            return dataFile;\r\n        }\r\n\r\n        public Collection&lt;String&gt; getEmojisIn(String letters) {\r\n            Collection&lt;String&gt; emoticons = new ArrayList&lt;&gt;();\r\n\r\n            Matcher emojiMatcher = emojiPattern.matcher(letters);\r\n            while (emojiMatcher.find()) {\r\n                emoticons.add(emojiMatcher.group());\r\n            }\r\n\r\n            return emoticons;\r\n        }\r\n\r\n        public static void main(String[] args)\r\n        throws IOException {\r\n            EmojiCollector collector = new EmojiCollector();\r\n\r\n            for (String arg : args) {\r\n                Collection&lt;String&gt; emojis = collector.getEmojisIn(arg);\r\n                System.out.println(arg + &quot; =&gt; &quot; + String.join(&quot;&quot;, emojis));\r\n            }\r\n        }\r\n    }\r\n","title":"Check if letter is emoji","body":"<p>Unicode has <a href=\"http://www.unicode.org/reports/tr51/\" rel=\"nofollow noreferrer\">an entire document</a> on this.  Emojis and emoji sequences are a lot more complicated than just a few character ranges.  There are emoji modifiers (for example, skin tones), regional indicator pairs (country flags), and some special sequences like the pirate flag.</p>\n<p>You can use Unicode’s <a href=\"https://www.unicode.org/Public/emoji/15.0/\" rel=\"nofollow noreferrer\">emoji data files</a> to reliably find emoji characters and emoji sequences.  This will work even as new complex emojis are added:</p>\n<pre><code>import java.net.URL;\n\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.BufferedReader;\nimport java.io.IOException;\n\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\nimport java.util.Collection;\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\nimport java.util.regex.Pattern;\nimport java.util.regex.Matcher;\n\npublic class EmojiCollector {\n    private static String emojiSequencesBaseURI;\n\n    private final Pattern emojiPattern;\n\n    public EmojiCollector()\n    throws IOException {\n        StringBuilder sequences = new StringBuilder();\n\n        appendSequencesFrom(\n            uriOfEmojiSequencesFile(&quot;emoji-sequences.txt&quot;),\n            sequences);\n        appendSequencesFrom(\n            uriOfEmojiSequencesFile(&quot;emoji-zwj-sequences.txt&quot;),\n            sequences);\n\n        emojiPattern = Pattern.compile(sequences.toString());\n    }\n\n    private void appendSequencesFrom(String sequencesFileURI,\n                                     StringBuilder sequences)\n    throws IOException {\n        Path sequencesFile = download(sequencesFileURI);\n\n        Pattern range =\n            Pattern.compile(&quot;^(\\\\p{XDigit}{4,6})\\\\.\\\\.(\\\\p{XDigit}{4,6})&quot;);\n        Matcher rangeMatcher = range.matcher(&quot;&quot;);\n\n        try (BufferedReader sequencesReader =\n            Files.newBufferedReader(sequencesFile)) {\n\n            String line;\n            while ((line = sequencesReader.readLine()) != null) {\n                if (line.trim().isEmpty() || line.startsWith(&quot;#&quot;)) {\n                    continue;\n                }\n\n                int semicolon = line.indexOf(';');\n                if (semicolon &lt; 0) {\n                    continue;\n                }\n\n                String codepoints = line.substring(0, semicolon);\n\n                if (sequences.length() &gt; 0) {\n                    sequences.append(&quot;|&quot;);\n                }\n\n                if (rangeMatcher.reset(codepoints).find()) {\n                    String start = rangeMatcher.group(1);\n                    String end = rangeMatcher.group(2);\n\n                    sequences.append(&quot;[\\\\x{&quot;).append(start).append(&quot;}&quot;);\n                    sequences.append(&quot;-\\\\x{&quot;).append(end).append(&quot;}]&quot;);\n                } else {\n                    Scanner scanner = new Scanner(codepoints);\n                    while (scanner.hasNext()) {\n                        String codepoint = scanner.next();\n                        sequences.append(&quot;\\\\x{&quot;).append(codepoint).append(&quot;}&quot;);\n                    }\n                }\n            }\n        }\n    }\n\n    private static String uriOfEmojiSequencesFile(String baseName)\n    throws IOException {\n        if (emojiSequencesBaseURI == null) {\n            URL readme = new URL(\n                &quot;https://www.unicode.org/Public/UCD/latest/ReadMe.txt&quot;);\n            try (BufferedReader reader = new BufferedReader(\n                new InputStreamReader(readme.openStream(), &quot;UTF-8&quot;))) {\n\n                String line;\n                while ((line = reader.readLine()) != null) {\n                    if (line.startsWith(&quot;Public/emoji/&quot;)) {\n                        emojiSequencesBaseURI =\n                            &quot;https://www.unicode.org/&quot; + line.trim();\n                        if (!emojiSequencesBaseURI.endsWith(&quot;/&quot;)) {\n                            emojiSequencesBaseURI += &quot;/&quot;;\n                        }\n                        break;\n                    }\n                }\n            }\n\n            if (emojiSequencesBaseURI == null) {\n                // Where else can we get this reliably?\n                String version = &quot;15.0&quot;;\n\n                emojiSequencesBaseURI =\n                    &quot;https://www.unicode.org/Public/emoji/&quot; + version + &quot;/&quot;;\n            }\n        }\n\n        return emojiSequencesBaseURI + baseName;\n    }\n\n    private static Path download(String uri)\n    throws IOException {\n\n        Path cacheDir;\n        String os = System.getProperty(&quot;os.name&quot;);\n        String home = System.getProperty(&quot;user.home&quot;);\n        if (os.contains(&quot;Windows&quot;)) {\n            Path appDataDir;\n            String appData = System.getenv(&quot;APPDATA&quot;);\n            if (appData != null) {\n                appDataDir = Paths.get(appData);\n            } else {\n                appDataDir = Paths.get(home, &quot;AppData&quot;);\n            }\n\n            cacheDir = appDataDir.resolve(&quot;Local&quot;);\n        } else if (os.contains(&quot;Mac&quot;)) {\n            cacheDir = Paths.get(home, &quot;Library&quot;, &quot;Application Support&quot;);\n        } else {\n            cacheDir = Paths.get(home, &quot;.cache&quot;);\n            String cacheHome = System.getenv(&quot;XDG_CACHE_HOME&quot;);\n            if (cacheHome != null) {\n                Path dir = Paths.get(cacheHome);\n                if (dir.isAbsolute()) {\n                    cacheDir = dir;\n                }\n            }\n        }\n\n        String baseName = uri.substring(uri.lastIndexOf('/') + 1);\n\n        Path dataDir = cacheDir.resolve(EmojiCollector.class.getName());\n        Path dataFile = dataDir.resolve(baseName);\n        if (!Files.isReadable(dataFile)) {\n            Files.createDirectories(dataDir);\n            URL dataURL = new URL(uri);\n            try (InputStream data = dataURL.openStream()) {\n                Files.copy(data, dataFile);\n            }\n        }\n\n        return dataFile;\n    }\n\n    public Collection&lt;String&gt; getEmojisIn(String letters) {\n        Collection&lt;String&gt; emoticons = new ArrayList&lt;&gt;();\n\n        Matcher emojiMatcher = emojiPattern.matcher(letters);\n        while (emojiMatcher.find()) {\n            emoticons.add(emojiMatcher.group());\n        }\n\n        return emoticons;\n    }\n\n    public static void main(String[] args)\n    throws IOException {\n        EmojiCollector collector = new EmojiCollector();\n\n        for (String arg : args) {\n            Collection&lt;String&gt; emojis = collector.getEmojisIn(arg);\n            System.out.println(arg + &quot; =&gt; &quot; + String.join(&quot;&quot;, emojis));\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3875392,"reputation":488,"user_id":3209572,"display_name":"John R. Hilles"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671030046,"creation_date":1671030046,"answer_id":74800197,"question_id":28366172,"body_markdown":"Here&#39;s some java logic that relies on java.lang.Character api that I have found pretty reliably tells apart an emoji from mere &#39;special characters&#39; and non-latin alphabets. Give it a try.\r\n\r\n    \r\n    import static java.lang.Character.UnicodeBlock.MISCELLANEOUS_SYMBOLS;\r\n    import static java.lang.Character.UnicodeBlock.MISCELLANEOUS_TECHNICAL;\r\n    import static java.lang.Character.UnicodeBlock.VARIATION_SELECTORS;\r\n    import static java.lang.Character.codePointAt;\r\n    import static java.lang.Character.codePointBefore;\r\n    import static java.lang.Character.isSupplementaryCodePoint;\r\n    import static java.lang.Character.isValidCodePoint;\r\n\r\n    public boolean checkStringEmoji(String someString) {\r\n        if(!someString.isEmpty() &amp;&amp; someString.length() &lt; 5) {\r\n            int firstCodePoint = codePointAt(someString, 0);\r\n            int lastCodePoint = codePointBefore(someString, someString.length());\r\n            if (isValidCodePoint(firstCodePoint) &amp;&amp; isValidCodePoint(lastCodePoint)) {\r\n                if (isSupplementaryCodePoint(firstCodePoint) ||\r\n                    isSupplementaryCodePoint(lastCodePoint) ||\r\n                    Character.UnicodeBlock.of(firstCodePoint) == MISCELLANEOUS_SYMBOLS ||\r\n                    Character.UnicodeBlock.of(firstCodePoint) == MISCELLANEOUS_TECHNICAL ||\r\n                    Character.UnicodeBlock.of(lastCodePoint) == VARIATION_SELECTORS\r\n                ) {\r\n                    // string is emoji\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }","title":"Check if letter is emoji","body":"<p>Here's some java logic that relies on java.lang.Character api that I have found pretty reliably tells apart an emoji from mere 'special characters' and non-latin alphabets. Give it a try.</p>\n<pre><code>import static java.lang.Character.UnicodeBlock.MISCELLANEOUS_SYMBOLS;\nimport static java.lang.Character.UnicodeBlock.MISCELLANEOUS_TECHNICAL;\nimport static java.lang.Character.UnicodeBlock.VARIATION_SELECTORS;\nimport static java.lang.Character.codePointAt;\nimport static java.lang.Character.codePointBefore;\nimport static java.lang.Character.isSupplementaryCodePoint;\nimport static java.lang.Character.isValidCodePoint;\n\npublic boolean checkStringEmoji(String someString) {\n    if(!someString.isEmpty() &amp;&amp; someString.length() &lt; 5) {\n        int firstCodePoint = codePointAt(someString, 0);\n        int lastCodePoint = codePointBefore(someString, someString.length());\n        if (isValidCodePoint(firstCodePoint) &amp;&amp; isValidCodePoint(lastCodePoint)) {\n            if (isSupplementaryCodePoint(firstCodePoint) ||\n                isSupplementaryCodePoint(lastCodePoint) ||\n                Character.UnicodeBlock.of(firstCodePoint) == MISCELLANEOUS_SYMBOLS ||\n                Character.UnicodeBlock.of(firstCodePoint) == MISCELLANEOUS_TECHNICAL ||\n                Character.UnicodeBlock.of(lastCodePoint) == VARIATION_SELECTORS\n            ) {\n                // string is emoji\n                return true;\n            }\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4158942,"reputation":1091,"user_id":3409441,"accept_rate":100,"display_name":"Terran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701212384,"creation_date":1701210840,"answer_id":77567541,"question_id":28366172,"body_markdown":"Java 21 added `Character::isEmoji` ([JavaDoc][1]). For example:\r\n\r\n    String sentence = &quot;This string contains 1 emoji &#128514;!&quot;;\r\n    sentence.codePoints()\r\n        .filter(Character::isEmoji)\r\n        .filter(emoji -&gt; !Character.isEmojiComponent(emoji))\r\n        .mapToObj(Character::toString)\r\n        .forEach(System.out::println);\r\n\r\nThese new methods can also be accessed in regex through [property constructs][2]:\r\n\r\n    Pattern.compile(&quot;\\\\p{IsEmoji}&quot;)\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Character.html#isEmoji(int)\r\n  [2]: https://inside.java/2023/11/20/sip089/","title":"Check if letter is emoji","body":"<p>Java 21 added <code>Character::isEmoji</code> (<a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Character.html#isEmoji(int)\" rel=\"nofollow noreferrer\">JavaDoc</a>). For example:</p>\n<pre><code>String sentence = &quot;This string contains 1 emoji 😂!&quot;;\nsentence.codePoints()\n    .filter(Character::isEmoji)\n    .filter(emoji -&gt; !Character.isEmojiComponent(emoji))\n    .mapToObj(Character::toString)\n    .forEach(System.out::println);\n</code></pre>\n<p>These new methods can also be accessed in regex through <a href=\"https://inside.java/2023/11/20/sip089/\" rel=\"nofollow noreferrer\">property constructs</a>:</p>\n<pre><code>Pattern.compile(&quot;\\\\p{IsEmoji}&quot;)\n</code></pre>\n"}],"owner":{"account_id":4621047,"reputation":1154,"user_id":3746156,"accept_rate":64,"display_name":"bdv"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30038,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":28367013,"answer_count":11,"score":11,"last_activity_date":1701212384,"creation_date":1423226922,"question_id":28366172,"body_markdown":"I want to check if a letter is a emoji. I&#39;ve found some similiar questions on so and found this regex: \r\n\r\n    private final String emo_regex = &quot;([\\\\u20a0-\\\\u32ff\\\\ud83c\\\\udc00-\\\\ud83d\\\\udeff\\\\udbb9\\\\udce5-\\\\udbb9\\\\udcee])&quot;;\r\n\r\nHowever, when I do the following in a sentence like: \r\n\r\n    for (int k=0; k&lt;letters.length;k++) {    \r\n\t\tif (letters[k].matches(emo_regex)) {\r\n\t\t\temoticon.add(letters[k]);\r\n\t\t}\r\n\t}\r\n\r\nIt doesn&#39;t add any letters with any emoji. I&#39;ve also tried with a `Matcher` and a `Pattern`, but that didn&#39;t work either. Is there something wrong with the regex or am I missing something obvious in my code?\r\n\r\nThis is how I get the letter:\r\n\r\n    sentence = &quot;Jij staat op 10 &#128514;&quot;\r\n\tString[] letters = sentence.split(&quot;&quot;);\r\n\r\nThe last &#128514; should be recognized and added to `emoticon`","title":"Check if letter is emoji","body":"<p>I want to check if a letter is a emoji. I've found some similiar questions on so and found this regex: </p>\n\n<pre><code>private final String emo_regex = \"([\\\\u20a0-\\\\u32ff\\\\ud83c\\\\udc00-\\\\ud83d\\\\udeff\\\\udbb9\\\\udce5-\\\\udbb9\\\\udcee])\";\n</code></pre>\n\n<p>However, when I do the following in a sentence like: </p>\n\n<pre><code>for (int k=0; k&lt;letters.length;k++) {    \n    if (letters[k].matches(emo_regex)) {\n        emoticon.add(letters[k]);\n    }\n}\n</code></pre>\n\n<p>It doesn't add any letters with any emoji. I've also tried with a <code>Matcher</code> and a <code>Pattern</code>, but that didn't work either. Is there something wrong with the regex or am I missing something obvious in my code?</p>\n\n<p>This is how I get the letter:</p>\n\n<pre><code>sentence = \"Jij staat op 10 😂\"\nString[] letters = sentence.split(\"\");\n</code></pre>\n\n<p>The last 😂 should be recognized and added to <code>emoticon</code></p>\n"},{"tags":["java","bigdecimal","rounding-error"],"comments":[{"owner":{"account_id":121744,"reputation":69420,"user_id":315052,"accept_rate":79,"display_name":"jxh"},"score":1,"creation_date":1701207640,"post_id":77567282,"comment_id":136746355,"body_markdown":"You lost precision when you overwrite your original price with the rounded price.","body":"You lost precision when you overwrite your original price with the rounded price."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1701208129,"post_id":77567282,"comment_id":136746433,"body_markdown":"There are 3.785411784 liters in a gallon. You could also divide by that going the other way, instead of multiplying by the inverse truncated to three sig figs.","body":"There are 3.785411784 liters in a gallon. You could also divide by that going the other way, instead of multiplying by the inverse truncated to three sig figs."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1701208258,"post_id":77567282,"comment_id":136746464,"body_markdown":"Of course, if you truncate the price to three sig figs, that&#39;s all the significance you&#39;ll have. Any further precision is lost, as jxh points out.","body":"Of course, if you truncate the price to three sig figs, that&#39;s all the significance you&#39;ll have. Any further precision is lost, as jxh points out."}],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701208219,"creation_date":1701208219,"answer_id":77567355,"question_id":77567282,"body_markdown":"This is not a floating-point representation issue; it&#39;s a rounding issue.  When you round, your value is no longer accurate.  In addition, the two values you multiply with don&#39;t themselves multiply to be 1; they&#39;re not quite inverses.\r\n\r\nWhen you take `3.95` and multiply it by `0.264`, the value is `1.0428`, which you round down to `1.04`.  When you multiply `1.04` by `3.785`, you get `3.9364`, which is rounded up to `3.94`.\r\n\r\nBut you represent the inverse of `3.785` as `0.264`, which is close, but not quite equal to the actual inverse of about `0.2642008`.  But even multiplying the true inverse value by `3.95` you get `1.04359316`, which you would still round down to `1.04`.\r\n\r\nIf you must convert back to the same value, then store the un-rounded value for multiplying later, even if you display the rounded value.  Also, instead of multiplying by `0.264`, just divide by the same number that you multiplied by in the other case, `3.785`.","title":"Precision Error while converting dollars/gallon to dollars/liter and back","body":"<p>This is not a floating-point representation issue; it's a rounding issue.  When you round, your value is no longer accurate.  In addition, the two values you multiply with don't themselves multiply to be 1; they're not quite inverses.</p>\n<p>When you take <code>3.95</code> and multiply it by <code>0.264</code>, the value is <code>1.0428</code>, which you round down to <code>1.04</code>.  When you multiply <code>1.04</code> by <code>3.785</code>, you get <code>3.9364</code>, which is rounded up to <code>3.94</code>.</p>\n<p>But you represent the inverse of <code>3.785</code> as <code>0.264</code>, which is close, but not quite equal to the actual inverse of about <code>0.2642008</code>.  But even multiplying the true inverse value by <code>3.95</code> you get <code>1.04359316</code>, which you would still round down to <code>1.04</code>.</p>\n<p>If you must convert back to the same value, then store the un-rounded value for multiplying later, even if you display the rounded value.  Also, instead of multiplying by <code>0.264</code>, just divide by the same number that you multiplied by in the other case, <code>3.785</code>.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701212027,"creation_date":1701208749,"answer_id":77567408,"question_id":77567282,"body_markdown":"As soon as you are using floating point (`double`, `float`) you lost your precision after the period, the so called _scale_ (10&lt;sup&gt;**-3**&lt;/sup&gt; here for 3.785).\r\n\r\nSo do not use the `BigDecimal` constructor with a `double` but with a `String`. Then the scale, digits after the period, will be specified.\r\n\r\n    BigDecimal pricePerLiter = new BigDecimal(txtFields.get(1).getText());\r\n    BigDecimal pricePerGallon =  pricePerLiter.multiply(new BigDecimal(&quot;3.785&quot;));    \r\n\r\nSo &quot;1.00&quot; * &quot;3.785&quot; will become &quot;3.78500&quot;.\r\nThis cannot be achieved by a double 3.785 as that is an approximation, maybe equal to 3.7849999998.                    \r\n\r\nSo either use only `BigDecimal` or use the imprecise `double` and print a rounded text: `Sytem.out.printf(&quot;%5.2f&quot;, 3.785); // 3.79`.","title":"Precision Error while converting dollars/gallon to dollars/liter and back","body":"<p>As soon as you are using floating point (<code>double</code>, <code>float</code>) you lost your precision after the period, the so called <em>scale</em> (10<sup><strong>-3</strong></sup> here for 3.785).</p>\n<p>So do not use the <code>BigDecimal</code> constructor with a <code>double</code> but with a <code>String</code>. Then the scale, digits after the period, will be specified.</p>\n<pre><code>BigDecimal pricePerLiter = new BigDecimal(txtFields.get(1).getText());\nBigDecimal pricePerGallon =  pricePerLiter.multiply(new BigDecimal(&quot;3.785&quot;));    \n</code></pre>\n<p>So &quot;1.00&quot; * &quot;3.785&quot; will become &quot;3.78500&quot;.\nThis cannot be achieved by a double 3.785 as that is an approximation, maybe equal to 3.7849999998.</p>\n<p>So either use only <code>BigDecimal</code> or use the imprecise <code>double</code> and print a rounded text: <code>Sytem.out.printf(&quot;%5.2f&quot;, 3.785); // 3.79</code>.</p>\n"}],"owner":{"account_id":29411421,"reputation":11,"user_id":22535195,"display_name":"JimArkadian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701212027,"creation_date":1701207419,"question_id":77567282,"body_markdown":"The following code has a precision error but I&#39;m at a loss as to how to resolve it.  Given an initial value set in dollar/gal of $3.95, when change the ChoiceBox to &quot;dollars/liter&quot; I get $1.04, but when I change it back to dollar/gal I&#39;m getting $3.94 instead of $3.95\r\n\r\n\r\n```\r\nif (&quot;dollar/gal&quot;.equals(newValue)) {\r\n   double pricePerLiter = Double.parseDouble(txtFields.get(1).getText());\r\n   BigDecimal pricePerGallon =  BigDecimal.valueOf(pricePerLiter * 3.785);                        \r\n   pricePerGallon = pricePerGallon.setScale(2, RoundingMode.HALF_UP);                        \r\n   txtFields.get(1).setText(pricePerGallon.toString());\r\n\r\n} else if (&quot;dollars/liter&quot;.equals(newValue)) {\r\n\r\n  double pricePerGallon = Double.parseDouble(txtFields.get(1).getText());                        \r\n  BigDecimal pricePerLiter = BigDecimal.valueOf(pricePerGallon * 0.264);                        \r\n  pricePerLiter = pricePerLiter.setScale(2, RoundingMode.HALF_UP);\r\n  txtFields.get(1).setText(pricePerLiter.toString());\r\n}\r\n```\r\n\r\n\r\nI&#39;ve attempted this with both Math.Round() and BigDecimal and RoundingMode (which is the version above) but cannot resolve this issue.","title":"Precision Error while converting dollars/gallon to dollars/liter and back","body":"<p>The following code has a precision error but I'm at a loss as to how to resolve it.  Given an initial value set in dollar/gal of $3.95, when change the ChoiceBox to &quot;dollars/liter&quot; I get $1.04, but when I change it back to dollar/gal I'm getting $3.94 instead of $3.95</p>\n<pre><code>if (&quot;dollar/gal&quot;.equals(newValue)) {\n   double pricePerLiter = Double.parseDouble(txtFields.get(1).getText());\n   BigDecimal pricePerGallon =  BigDecimal.valueOf(pricePerLiter * 3.785);                        \n   pricePerGallon = pricePerGallon.setScale(2, RoundingMode.HALF_UP);                        \n   txtFields.get(1).setText(pricePerGallon.toString());\n\n} else if (&quot;dollars/liter&quot;.equals(newValue)) {\n\n  double pricePerGallon = Double.parseDouble(txtFields.get(1).getText());                        \n  BigDecimal pricePerLiter = BigDecimal.valueOf(pricePerGallon * 0.264);                        \n  pricePerLiter = pricePerLiter.setScale(2, RoundingMode.HALF_UP);\n  txtFields.get(1).setText(pricePerLiter.toString());\n}\n</code></pre>\n<p>I've attempted this with both Math.Round() and BigDecimal and RoundingMode (which is the version above) but cannot resolve this issue.</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1701210847,"post_id":77567522,"comment_id":136746882,"body_markdown":"Why not just use an `IllegalArgumentException` for all three?","body":"Why not just use an <code>IllegalArgumentException</code> for all three?"},{"owner":{"account_id":20575755,"reputation":55,"user_id":15102974,"display_name":"PauloRamos"},"score":0,"creation_date":1701212053,"post_id":77567522,"comment_id":136747021,"body_markdown":"@OldDogProgrammer well that is the point of the questions, if I should use something generic like IllegalArgumentException or if would be better to create custom exceptions.","body":"@OldDogProgrammer well that is the point of the questions, if I should use something generic like IllegalArgumentException or if would be better to create custom exceptions."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":2,"creation_date":1701212851,"post_id":77567522,"comment_id":136747123,"body_markdown":"For exceptions that can be handled  the same, like here and mostly elsewhere, OldDP is right. A different message should suffice.","body":"For exceptions that can be handled  the same, like here and mostly elsewhere, OldDP is right. A different message should suffice."}],"answers":[{"comments":[{"owner":{"account_id":20575755,"reputation":55,"user_id":15102974,"display_name":"PauloRamos"},"score":0,"creation_date":1701211976,"post_id":77567555,"comment_id":136747009,"body_markdown":"I can see how creating custom hooks could make the codebase more complicated to work with, but isn&#39;t it worth to make the codebase more complicated and making debbuging the code less complicated by creating many custom exceptions?","body":"I can see how creating custom hooks could make the codebase more complicated to work with, but isn&#39;t it worth to make the codebase more complicated and making debbuging the code less complicated by creating many custom exceptions?"}],"tags":[],"owner":{"account_id":11630745,"reputation":23,"user_id":8519026,"display_name":"Muhammad Umer Naeem Shami"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701211069,"creation_date":1701211069,"answer_id":77567555,"question_id":77567522,"body_markdown":"Creating custom exceptions in Java can be beneficial for better code organization and handling specific errors effectively. However, the decision to create custom exceptions depends on the context and the complexity of the application.\r\n\r\nIn your scenario, handling a negative balance could indeed benefit from a custom exception (NotEnoughBalanceException). This allows you to specifically catch and manage situations where the account balance falls below zero. \r\n\r\nRegarding whether to create numerous specific custom exceptions or use more generic Java exceptions, it&#39;s generally a good practice to strike a balance. Specific exceptions help in granular error handling and provide clearer insights into the issue, aiding in debugging and maintenance. Yet, excessive custom exceptions might overcomplicate the codebase.","title":"Should I create exceptions for every error in Java?","body":"<p>Creating custom exceptions in Java can be beneficial for better code organization and handling specific errors effectively. However, the decision to create custom exceptions depends on the context and the complexity of the application.</p>\n<p>In your scenario, handling a negative balance could indeed benefit from a custom exception (NotEnoughBalanceException). This allows you to specifically catch and manage situations where the account balance falls below zero.</p>\n<p>Regarding whether to create numerous specific custom exceptions or use more generic Java exceptions, it's generally a good practice to strike a balance. Specific exceptions help in granular error handling and provide clearer insights into the issue, aiding in debugging and maintenance. Yet, excessive custom exceptions might overcomplicate the codebase.</p>\n"},{"comments":[{"owner":{"account_id":20575755,"reputation":55,"user_id":15102974,"display_name":"PauloRamos"},"score":0,"creation_date":1701211844,"post_id":77567562,"comment_id":136746998,"body_markdown":"So when i&#39;m working with web, it is a common practice to create custom exceptions to handle different HTTP status code instead of using a generic exception from java?","body":"So when i&#39;m working with web, it is a common practice to create custom exceptions to handle different HTTP status code instead of using a generic exception from java?"}],"tags":[],"owner":{"account_id":7893671,"reputation":618,"user_id":5963060,"display_name":"AidH"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701211111,"creation_date":1701211111,"answer_id":77567562,"question_id":77567522,"body_markdown":"It all depends on your needs.\r\n\r\n1. If you need it for further handling such as in:\r\n - Aspects\r\n - returning a specific HTTP status code\r\n - returning a specific error key in the response body\r\n\r\nThen it is a necessity to create specific Exception classes.\r\n\r\n2. If you are fine with that the client always gets an `Internal server error` message with no further data, then `IllegalArgumentException` with the appropriate message would be sufficient in all cases.","title":"Should I create exceptions for every error in Java?","body":"<p>It all depends on your needs.</p>\n<ol>\n<li>If you need it for further handling such as in:</li>\n</ol>\n<ul>\n<li>Aspects</li>\n<li>returning a specific HTTP status code</li>\n<li>returning a specific error key in the response body</li>\n</ul>\n<p>Then it is a necessity to create specific Exception classes.</p>\n<ol start=\"2\">\n<li>If you are fine with that the client always gets an <code>Internal server error</code> message with no further data, then <code>IllegalArgumentException</code> with the appropriate message would be sufficient in all cases.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":20575755,"reputation":55,"user_id":15102974,"display_name":"PauloRamos"},"score":0,"creation_date":1701211751,"post_id":77567567,"comment_id":136746986,"body_markdown":"So even tho I could create a custom exception for each error, if i have a simple class its fine to use the exceptions that jave provides, in a more complex class, creating custom exceptions would be more benefitial?","body":"So even tho I could create a custom exception for each error, if i have a simple class its fine to use the exceptions that jave provides, in a more complex class, creating custom exceptions would be more benefitial?"}],"tags":[],"owner":{"account_id":20063026,"reputation":71,"user_id":14709345,"display_name":"Amer Al  Munajjed"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701211239,"creation_date":1701211239,"answer_id":77567567,"question_id":77567522,"body_markdown":"The choice to create an exception class for every error depends on your specific needs.\r\n\r\nIf your program has complex error handling and needs to provide specific information about different errors, it may be beneficial to create an exception class for each type of error.\r\n\r\nFor example, in a game programming context, you might want to have different exception classes for network errors, input errors, and logic errors.\r\n\r\nOn the other hand, if your program doesn&#39;t need to provide much detail about different errors or doesn&#39;t have a lot of error conditions, you may be able to get away with using the standard exception classes that Java provides.\r\n\r\nIn summary, while creating a separate exception class for every error may offer more flexibility and control in your error handling, it&#39;s important to consider whether the effort is worth it given your specific requirements.","title":"Should I create exceptions for every error in Java?","body":"<p>The choice to create an exception class for every error depends on your specific needs.</p>\n<p>If your program has complex error handling and needs to provide specific information about different errors, it may be beneficial to create an exception class for each type of error.</p>\n<p>For example, in a game programming context, you might want to have different exception classes for network errors, input errors, and logic errors.</p>\n<p>On the other hand, if your program doesn't need to provide much detail about different errors or doesn't have a lot of error conditions, you may be able to get away with using the standard exception classes that Java provides.</p>\n<p>In summary, while creating a separate exception class for every error may offer more flexibility and control in your error handling, it's important to consider whether the effort is worth it given your specific requirements.</p>\n"}],"owner":{"account_id":20575755,"reputation":55,"user_id":15102974,"display_name":"PauloRamos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1701211239,"creation_date":1701210592,"question_id":77567522,"body_markdown":"i&#39;m new to Java and I&#39;ve been studying exceptions, my question is when should I create a custom exception or not.\r\n\r\nFor example I&#39;m creating a simple app to deposit and withdraw from a Account, right now I have created 3 exceptions, but my account can&#39;t have a negative balance, so I would have to create a new exception to handle it in the constructor and possibly other custom exceptions, is it considered good practice to create very specific custom exceptions for each possible error, or should i try to use the more generic exceptions from java?\r\n\r\nit has its getters and setters i just didnt put it here to make it short.\r\n```\r\npublic class Account {\r\n\tprivate Integer number;\r\n\tprivate String holder;\r\n\tprivate Double balance;\r\n\tprivate Double withdrawLimit;\r\n\t\r\n\tpublic Account() {}\r\n\t\r\n\tpublic Account(Integer number, String holder, Double balance, Double withdrawLimit) {\r\n\t\tthis.number = number;\r\n\t\tthis.holder = holder;\r\n\t\tthis.balance = balance;\r\n\t\tthis.withdrawLimit = withdrawLimit;\r\n\t}\r\n\t\r\n\tpublic void deposit(Double amount) throws NegativeAmountException {\r\n\t\tif(amount &lt; 0) {\r\n\t\t\tthrow new NegativeAmountException(&quot;Amount must be positive.&quot;);\r\n\t\t}\r\n\t\tthis.balance += amount;\r\n\t}\r\n\t\r\n\tpublic void withdraw(Double amount) throws AccountingException {\r\n\t\t if (amount &gt; this.balance) {\r\n\t\t        throw new AccountingException(&quot;Account doesn&#39;t have enough balance. Current balance: &quot; + this.balance + &quot;, Withdrawal amount: &quot; + amount);\r\n\t\t    }\r\n\t\t    if (this.balance &lt;= 0) {\r\n\t\t        throw new NotEnoughBalanceException(&quot;Not enough balance. Current balance: &quot; + this.balance);\r\n\t\t    }\r\n\t\tthis.balance -= amount;\r\n\t}\r\n```\r\n\r\nAccountingException\r\n```\r\npackage model.exceptions;\r\n\r\npublic class AccountingException extends Exception {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\tpublic AccountingException(String msg) {\r\n\t\tsuper(msg);\r\n\t}\r\n\t\r\n\t  public AccountingException(String msg, Throwable cause) {\r\n\t        super(msg, cause);\r\n\t  }\r\n}\r\n```\r\n\r\nNegativeAmountException\r\n```\r\npackage model.exceptions;\r\n\r\npublic class NegativeAmountException extends AccountingException {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\tpublic NegativeAmountException(String msg) {\r\n\t\tsuper(msg);\r\n\t}\r\n}\r\n```\r\n\r\nNotEnoughBalanceException\r\n```\r\npackage model.exceptions;\r\n\r\npublic class NotEnoughBalanceException extends AccountingException {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\tpublic NotEnoughBalanceException(String msg) {\r\n\t\tsuper(msg);\r\n\t}\r\n\r\n}\r\n\r\n```","title":"Should I create exceptions for every error in Java?","body":"<p>i'm new to Java and I've been studying exceptions, my question is when should I create a custom exception or not.</p>\n<p>For example I'm creating a simple app to deposit and withdraw from a Account, right now I have created 3 exceptions, but my account can't have a negative balance, so I would have to create a new exception to handle it in the constructor and possibly other custom exceptions, is it considered good practice to create very specific custom exceptions for each possible error, or should i try to use the more generic exceptions from java?</p>\n<p>it has its getters and setters i just didnt put it here to make it short.</p>\n<pre><code>public class Account {\n    private Integer number;\n    private String holder;\n    private Double balance;\n    private Double withdrawLimit;\n    \n    public Account() {}\n    \n    public Account(Integer number, String holder, Double balance, Double withdrawLimit) {\n        this.number = number;\n        this.holder = holder;\n        this.balance = balance;\n        this.withdrawLimit = withdrawLimit;\n    }\n    \n    public void deposit(Double amount) throws NegativeAmountException {\n        if(amount &lt; 0) {\n            throw new NegativeAmountException(&quot;Amount must be positive.&quot;);\n        }\n        this.balance += amount;\n    }\n    \n    public void withdraw(Double amount) throws AccountingException {\n         if (amount &gt; this.balance) {\n                throw new AccountingException(&quot;Account doesn't have enough balance. Current balance: &quot; + this.balance + &quot;, Withdrawal amount: &quot; + amount);\n            }\n            if (this.balance &lt;= 0) {\n                throw new NotEnoughBalanceException(&quot;Not enough balance. Current balance: &quot; + this.balance);\n            }\n        this.balance -= amount;\n    }\n</code></pre>\n<p>AccountingException</p>\n<pre><code>package model.exceptions;\n\npublic class AccountingException extends Exception {\n\n    private static final long serialVersionUID = 1L;\n\n    public AccountingException(String msg) {\n        super(msg);\n    }\n    \n      public AccountingException(String msg, Throwable cause) {\n            super(msg, cause);\n      }\n}\n</code></pre>\n<p>NegativeAmountException</p>\n<pre><code>package model.exceptions;\n\npublic class NegativeAmountException extends AccountingException {\n\n    private static final long serialVersionUID = 1L;\n\n    public NegativeAmountException(String msg) {\n        super(msg);\n    }\n}\n</code></pre>\n<p>NotEnoughBalanceException</p>\n<pre><code>package model.exceptions;\n\npublic class NotEnoughBalanceException extends AccountingException {\n\n    private static final long serialVersionUID = 1L;\n\n    public NotEnoughBalanceException(String msg) {\n        super(msg);\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","methods","service","nullpointerexception"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1701212363,"post_id":77567560,"comment_id":136747064,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"}],"owner":{"account_id":23728178,"reputation":19,"user_id":17747807,"display_name":"The Artist For Informatics"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701211086,"creation_date":1701211086,"question_id":77567560,"body_markdown":"I have an application to calculate prayer times. The final Fajr prayer time is set using the getFajrFinalTime() method in PrayersTimes.java. The current time is calculated and equated with the final Fajr time to find out the time and alert the user to pray. This is done via AzanService.java, but I get a null pointer exception. When getFajrFinalTime() is set to fajrTime.setText(AzanService.prayerTimes.getFajrFinalTime());\r\n\r\n`fajrTime.setText(AzanService.prayerTimes.getFajrFinalTime());`\r\n\r\nAzanService.java\r\n\r\n```\r\nimport android.app.Service;\r\nimport android.content.Intent;\r\nimport android.os.IBinder;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.core.app.JobIntentService;\r\n\r\nimport com.artist.ellasallaty.widgets.LargeWidgetProvider;\r\nimport com.artist.ellasallaty.widgets.LargeWidgetProviderService;\r\n\r\nimport java.util.Calendar;\r\n\r\npublic class AzanService extends JobIntentService {\r\n\r\n    public static int nextPrayerTimeInMinutes;\r\n    public static int nextPrayerCode;\r\n    public static int missing_hours_to_nextPrayer;\r\n    public static int missing_minutes_to_nextPrayer;\r\n    public static int missing_seconds_to_nextPrayer;\r\n\r\n    public static Boolean isFajrForNextDay = false;\r\n\r\n    public static int[] prayerTimesInMinutes;\r\n    public static PrayersTimes prayerTimes;\r\n\r\n    public static Boolean ifActualSalatTime = false;\r\n    public static int actualPrayerCode;\r\n\r\n    @Override\r\n    public IBinder onBind(@NonNull Intent intent) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        PreferenceHandler.getSingleton().setContext(getApplicationContext());\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n\r\n        super.onStartCommand(intent, flags, startId);\r\n\r\n//        PreferenceHandler.getSingleton().setContext(getApplicationContext());\r\n\r\n        AzanService.prayerTimes = new PrayersTimes(Calendar.getInstance(), PreferenceHandler.getSingleton().getUserConfig());\r\n\r\n        AzanService.prayerTimesInMinutes = new int[6];\r\n        AzanService.prayerTimesInMinutes = AzanService.prayerTimes.getAllPrayrTimesInMinutes();\r\n\r\n        AzanService.getNextPrayer(false);\r\n\r\n        ifActualSalatTime = false;\r\n        actualPrayerCode = AzanService.nextPrayerCode;\r\n\r\n        AzanServiceBroasdcastReceiver.startNextPrayer(false, getApplicationContext());\r\n\r\n        refreshTime();\r\n\r\n        if (LargeWidgetProvider.isEnabled) {\r\n            this.startService(new Intent(this, LargeWidgetProviderService.class));\r\n        }\r\n\r\n        return Service.START_STICKY;\r\n    }\r\n\r\n    public static void refreshTime() {\r\n\r\n        try {\r\n\r\n            if (ifActualSalatTime == false) {\r\n\r\n                Calendar calendar = Calendar.getInstance();\r\n                int hour = calendar.get(Calendar.HOUR_OF_DAY);\r\n                int minutes = calendar.get(Calendar.MINUTE);\r\n                int second = calendar.get(Calendar.SECOND);\r\n\r\n                int totalMinutes = (hour * 60) + minutes;\r\n\r\n                if (AzanService.nextPrayerTimeInMinutes &gt; totalMinutes) {\r\n                    AzanService.missing_hours_to_nextPrayer = ((AzanService.nextPrayerTimeInMinutes - 1) - totalMinutes) / 60;\r\n                    AzanService.missing_minutes_to_nextPrayer = ((AzanService.nextPrayerTimeInMinutes - 1) - totalMinutes) % 60;\r\n                } else {\r\n                    AzanService.missing_hours_to_nextPrayer = (((AzanService.nextPrayerTimeInMinutes + 1440) - 1) - totalMinutes) / 60;\r\n                    AzanService.missing_minutes_to_nextPrayer = (((AzanService.nextPrayerTimeInMinutes + 1440) - 1) - totalMinutes) % 60;\r\n                }\r\n                AzanService.missing_seconds_to_nextPrayer = 59 - second;\r\n\r\n            }\r\n\r\n        } catch (Exception ignored) {\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n    }\r\n\r\n    @Override\r\n    protected void onHandleWork(@NonNull Intent intent) {\r\n\r\n    }\r\n\r\n    public static void getNextPrayer(boolean addOneMinute) {\r\n\r\n        Calendar calendar = Calendar.getInstance();\r\n        isFajrForNextDay = false;\r\n        int totalMinutes = (calendar.get(Calendar.HOUR_OF_DAY) * 60) + (calendar.get(Calendar.MINUTE));\r\n\r\n        if (addOneMinute) {\r\n            totalMinutes++;\r\n        }\r\n\r\n//        if (AzanService.prayerTimesInMinutes != null) {\r\n\r\n            if (totalMinutes == 0 || totalMinutes == 1440 || (totalMinutes &gt;= 0 &amp;&amp; totalMinutes &lt;= AzanService.prayerTimesInMinutes[0])) {\r\n                AzanService.nextPrayerCode = 1020;\r\n                AzanService.nextPrayerTimeInMinutes = AzanService.prayerTimesInMinutes[0];\r\n            } else {\r\n                if (totalMinutes &gt; AzanService.prayerTimesInMinutes[0] &amp;&amp; totalMinutes &lt;= AzanService.prayerTimesInMinutes[1]) {\r\n                    AzanService.nextPrayerCode = 1021;\r\n                    AzanService.nextPrayerTimeInMinutes = AzanService.prayerTimesInMinutes[1];\r\n                } else {\r\n                    if (totalMinutes &gt; AzanService.prayerTimesInMinutes[1] &amp;&amp; totalMinutes &lt;= AzanService.prayerTimesInMinutes[2]) {\r\n                        AzanService.nextPrayerCode = 1022;\r\n                        AzanService.nextPrayerTimeInMinutes = AzanService.prayerTimesInMinutes[2];\r\n                    } else {\r\n                        if (totalMinutes &gt; AzanService.prayerTimesInMinutes[2] &amp;&amp; totalMinutes &lt;= AzanService.prayerTimesInMinutes[3]) {\r\n                            AzanService.nextPrayerCode = 1023;\r\n                            AzanService.nextPrayerTimeInMinutes = AzanService.prayerTimesInMinutes[3];\r\n                        } else {\r\n                            if (totalMinutes &gt; AzanService.prayerTimesInMinutes[3] &amp;&amp; totalMinutes &lt;= AzanService.prayerTimesInMinutes[4]) {\r\n                                AzanService.nextPrayerCode = 1024;\r\n                                AzanService.nextPrayerTimeInMinutes = AzanService.prayerTimesInMinutes[4];\r\n                            } else {\r\n                                if (totalMinutes &gt; AzanService.prayerTimesInMinutes[4] &amp;&amp; totalMinutes &lt;= AzanService.prayerTimesInMinutes[5]) {\r\n                                    AzanService.nextPrayerCode = 1025;\r\n                                    AzanService.nextPrayerTimeInMinutes = AzanService.prayerTimesInMinutes[5];\r\n                                } else {\r\n                                    if (totalMinutes &gt; AzanService.prayerTimesInMinutes[5] &amp;&amp; totalMinutes &lt; 1440) {\r\n                                        AzanService.nextPrayerCode = 1020;\r\n\r\n                                        calendar.add(Calendar.DATE, 1);\r\n                                        PrayersTimes prayersTimes = new PrayersTimes(calendar, PreferenceHandler.getSingleton().getUserConfig());\r\n\r\n                                        isFajrForNextDay = true;\r\n                                        int[] nextDayPrayerTimesInMinutes = prayersTimes.getAllPrayrTimesInMinutes();\r\n                                        AzanService.nextPrayerTimeInMinutes = nextDayPrayerTimesInMinutes[0];\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n//    }\r\n\r\n}\r\n```\r\n\r\nPrayerTimes.java\r\n\r\n```\r\npackage com.artist.ellasallaty.utils;\r\n\r\nimport androidx.annotation.NonNull;\r\n\r\nimport java.io.IOException;\r\nimport java.text.DecimalFormat;\r\nimport java.text.NumberFormat;\r\nimport java.util.Calendar;\r\n\r\npublic class PrayersTimes {\r\n\r\n    private final int year, month, day;\r\n    private int totalMinutesFajr, totalMinutesShorouk, totalMinutesDuhr, totalMinutesAsr, totalMinutesMaghrib, totalMinutesIshaa;\r\n\r\n    private int[] allPrayrTimesInMinutes;\r\n\r\n    private int time12or24 = 24;\r\n\r\n    private String calculationMethod, mazhab, typeTime;\r\n\r\n    private final double DegToRad = 0.017453292;\r\n    private final double RadToDeg = 57.29577951;\r\n\r\n    private double longitude, latitude, timeZone, fajr, shorou9, duhr, asr, maghrib, ishaa, dec, fajrAlt, ishaAlt, fajrTime, shoroukTime, duhrTime, asrTime, maghribTime, ishaaTime;\r\n\r\n    private NumberFormat formatter;\r\n\r\n    public PrayersTimes(@NonNull Calendar cal, UserConfig userConfig) {\r\n        this.year = cal.get(Calendar.YEAR);\r\n        this.month = cal.get(Calendar.MONTH);\r\n        this.day = cal.get(Calendar.DAY_OF_MONTH);\r\n        setParameters(userConfig);\r\n    }\r\n\r\n    public void setParameters(@NonNull UserConfig userConfig) {\r\n\r\n        this.time12or24 = Integer.parseInt(userConfig.getTime12Or24());\r\n\r\n        this.longitude = Double.parseDouble(userConfig.getLongitude());\r\n        this.latitude = Double.parseDouble(userConfig.getLatitude());\r\n\r\n        this.timeZone = Double.parseDouble(userConfig.getTimezone());\r\n        this.calculationMethod = userConfig.getCalculationMethod();\r\n        this.mazhab = userConfig.getMazhab();\r\n        this.typeTime = userConfig.getTypeTime();\r\n\r\n        this.fajrTime = Double.parseDouble(userConfig.getFajrTime());\r\n        this.shoroukTime = Double.parseDouble(userConfig.getShoroukTime());\r\n        this.duhrTime = Double.parseDouble(userConfig.getDuhrTime());\r\n        this.asrTime = Double.parseDouble(userConfig.getAsrTime());\r\n        this.maghribTime = Double.parseDouble(userConfig.getMaghribTime());\r\n        this.ishaaTime = Double.parseDouble(userConfig.getIshaaTime());\r\n\r\n        init();\r\n        adjustTimes();\r\n    }\r\n\r\n    public void init() {\r\n        this.formatter = new DecimalFormat(&quot;00&quot;);\r\n\r\n        double julianDay = (367 * year) - (int) (((year + (int) (((month + 1) + 9) / 12)) * 7) / 4) + (int) (275 * (month + 1) / 9) + day - 730531.5;\r\n        double sunLength = removeDublication(280.461 + 0.9856474 * julianDay);\r\n        double middleSun = removeDublication(357.528 + 0.9856003 * julianDay);\r\n        double lambda = removeDublication(sunLength + 1.915 * Math.sin(middleSun * DegToRad) + 0.02 * Math.sin(2 * middleSun * DegToRad));\r\n        double obliquity = 23.439 - 0.0000004 * julianDay;\r\n        double alpha = RadToDeg * Math.atan(Math.cos(obliquity * DegToRad) * Math.tan(lambda * DegToRad));\r\n\r\n        if (lambda &gt; 90 &amp;&amp; lambda &lt; 180) {\r\n            alpha += 180;\r\n        } else if (lambda &gt; 180 &amp;&amp; lambda &lt; 360) {\r\n            alpha += 360;\r\n        }\r\n\r\n        double st = removeDublication(100.46 + 0.985647352 * julianDay);\r\n\r\n        this.dec = RadToDeg * Math.asin(Math.sin(obliquity * DegToRad) * Math.sin(lambda * DegToRad));\r\n\r\n        double noon = alpha - st;\r\n        if (noon &lt; 0) {\r\n            noon += 360;\r\n        }\r\n        double UTNoon = noon - longitude;\r\n\r\n        double localNoon = (UTNoon / 15) + timeZone;\r\n\r\n        this.duhr = localNoon;\r\n        this.maghrib = localNoon + equation(-0.8333) / 15;\r\n        this.shorou9 = localNoon - equation(-0.8333) / 15;\r\n\r\n        if (this.calculationMethod.equalsIgnoreCase(&quot;MuslimWorldLeague&quot;)) {\r\n            this.fajrAlt = -18;\r\n            this.ishaAlt = -17;\r\n        } else if (this.calculationMethod.equalsIgnoreCase(&quot;IslamicSocietyOfNorthAmerica&quot;)) {\r\n            this.fajrAlt = -15;\r\n            this.ishaAlt = -15;\r\n        } else if (this.calculationMethod.equalsIgnoreCase(&quot;EgytionGeneralAuthorityofSurvey&quot;)) {\r\n            this.fajrAlt = -19.5;\r\n            this.ishaAlt = -17.5;\r\n        } else if (this.calculationMethod.equalsIgnoreCase(&quot;UmmAlQuraUniv&quot;)) {\r\n            this.fajrAlt = -18.5;// fajr was 19 degrees before 1430 hijri\r\n        } else if (this.calculationMethod.equalsIgnoreCase(&quot;UnivOfIslamicScincesKarachi&quot;)) {\r\n            this.fajrAlt = -18;\r\n            this.ishaAlt = -18;\r\n        } else if (this.calculationMethod.equalsIgnoreCase(&quot;InstituteOfGeophysicsUniversityOfTehran&quot;)) {\r\n            this.fajrAlt = -17.7;\r\n            this.ishaAlt = -14;\r\n        } else if (this.calculationMethod.equalsIgnoreCase(&quot;ShiaIthnaAshariLevaInstituteQum&quot;)) {\r\n            this.fajrAlt = -16;\r\n            this.ishaAlt = -14;\r\n        } else if (this.calculationMethod.equalsIgnoreCase(&quot;GulfRegion&quot;)) {\r\n            this.fajrAlt = -19.5;\r\n        } else if (this.calculationMethod.equalsIgnoreCase(&quot;TheMinistryofAwqafandIslamicAffairsinKuwait&quot;)) {\r\n            this.fajrAlt = -18;\r\n            this.ishaAlt = -17.5;\r\n        } else if (this.calculationMethod.equalsIgnoreCase(&quot;Qatar&quot;)) {\r\n            this.fajrAlt = -18;\r\n        } else if (this.calculationMethod.equalsIgnoreCase(&quot;MajlisUgamaIslamSingapuraSingapore&quot;)) {\r\n            this.fajrAlt = -20;\r\n            this.ishaAlt = -18;\r\n        } else if (this.calculationMethod.equalsIgnoreCase(&quot;FederationofIslamicOrganizationsinFrance&quot;)) {\r\n            this.fajrAlt = -12;\r\n            this.ishaAlt = -12;\r\n        } else if (this.calculationMethod.equalsIgnoreCase(&quot;DirectorateOfReligiousAffairsTurkey&quot;)) {\r\n            this.fajrAlt = -18;\r\n            this.ishaAlt = -17;\r\n        } else if (this.calculationMethod.equalsIgnoreCase(&quot;SpiritualAdministrationOfMuslimsOfRussia&quot;)) {\r\n            this.fajrAlt = -16;\r\n            this.ishaAlt = -15;\r\n        }\r\n\r\n        this.fajr = localNoon - equation(fajrAlt) / 15;\r\n\r\n        this.ishaa = localNoon + equation(ishaAlt) / 15;\r\n\r\n        if (this.calculationMethod.equalsIgnoreCase(&quot;UmmAlQuraUniv&quot;) || this.calculationMethod.equalsIgnoreCase(&quot;GulfRegion&quot;) || this.calculationMethod.equalsIgnoreCase(&quot;Qatar&quot;)) {\r\n            try {\r\n                HijriTime hijriTime = new HijriTime(Calendar.getInstance());\r\n                if (hijriTime.isRamadan()) {\r\n                    this.ishaa = maghrib + 2;\r\n                } else {\r\n                    this.ishaa = maghrib + 1.5;\r\n                }\r\n            } catch (IOException e) {\r\n                this.ishaa = maghrib + 1.5;\r\n            }\r\n        }\r\n        double asrAlt;\r\n\r\n        if (this.mazhab.equalsIgnoreCase(&quot;hanafi&quot;)) {\r\n            asrAlt = 90 - RadToDeg * Math.atan(2 + Math.tan(abs(latitude - dec) * DegToRad));\r\n        } else {\r\n            asrAlt = 90 - RadToDeg * Math.atan(1 + Math.tan(abs(latitude - dec) * DegToRad));\r\n        }\r\n\r\n        this.asr = localNoon + equation(asrAlt) / 15;\r\n\r\n        if (this.typeTime.equalsIgnoreCase(&quot;sayfi&quot;)) {\r\n            this.fajr += 1;\r\n            this.shorou9 += 1;\r\n            this.duhr += 1;\r\n            this.asr += 1;\r\n            this.maghrib += 1;\r\n            this.ishaa += 1;\r\n        }\r\n    }\r\n\r\n    public double removeDublication(double d) {\r\n        if (d &gt; 360) {\r\n            d /= 360;\r\n            d -= (int) (d);\r\n            d *= 360;\r\n        }\r\n        return d;\r\n    }\r\n\r\n    public double equation(double d) {\r\n        return RadToDeg\r\n                * Math.acos((Math.sin(d * DegToRad) - Math\r\n                .sin(dec * DegToRad) * Math.sin(latitude * DegToRad))\r\n                / (Math.cos(dec * DegToRad) * Math.cos(latitude\r\n                * DegToRad)));\r\n    }\r\n\r\n    public double abs(double d) {\r\n        if (d &lt; 0) {\r\n            return -d;\r\n        } else {\r\n            return d;\r\n        }\r\n    }\r\n\r\n    public String getFajrFinalTime() {\r\n        int salatHour = totalMinutesFajr / 60;\r\n        int salatMinutes = totalMinutesFajr % 60;\r\n\r\n        String salatAM_PM;\r\n\r\n        if (salatHour &gt;= 12) {\r\n            salatAM_PM = &quot;pm&quot;;\r\n        } else {\r\n            salatAM_PM = &quot;am&quot;;\r\n        }\r\n\r\n        if (time12or24 == 12 &amp;&amp; salatHour &gt; 12) {\r\n            salatHour -= 12;\r\n        }\r\n\r\n        salatAM_PM = (time12or24 == 12) ? salatAM_PM : &quot;&quot;;\r\n\r\n        return formatter.format(salatHour) + &quot;:&quot; + formatter.format(salatMinutes) + &quot; &quot; + salatAM_PM;\r\n    }\r\n\r\n    public String getShorou9FinalTime() {\r\n        int salatHour = totalMinutesShorouk / 60;\r\n        int salatMinutes = totalMinutesShorouk % 60;\r\n\r\n        String salatAM_PM;\r\n\r\n        if (salatHour &gt;= 12) {\r\n            salatAM_PM = &quot;pm&quot;;\r\n        } else {\r\n            salatAM_PM = &quot;am&quot;;\r\n        }\r\n\r\n        if (time12or24 == 12 &amp;&amp; salatHour &gt; 12) {\r\n            salatHour -= 12;\r\n        }\r\n\r\n        salatAM_PM = (time12or24 == 12) ? salatAM_PM : &quot;&quot;;\r\n\r\n        return formatter.format(salatHour) + &quot;:&quot; + formatter.format(salatMinutes) + &quot; &quot; + salatAM_PM;\r\n    }\r\n\r\n    public String getDuhrFinalTime() {\r\n        int salatHour = totalMinutesDuhr / 60;\r\n        int salatMinutes = totalMinutesDuhr % 60;\r\n\r\n        String salatAM_PM;\r\n\r\n        if (salatHour &gt;= 12) {\r\n            salatAM_PM = &quot;pm&quot;;\r\n        } else {\r\n            salatAM_PM = &quot;am&quot;;\r\n        }\r\n\r\n        if (time12or24 == 12 &amp;&amp; salatHour &gt; 12) {\r\n            salatHour -= 12;\r\n        }\r\n\r\n        salatAM_PM = (time12or24 == 12) ? salatAM_PM : &quot;&quot;;\r\n\r\n        return formatter.format(salatHour) + &quot;:&quot; + formatter.format(salatMinutes) + &quot; &quot; + salatAM_PM;\r\n    }\r\n\r\n    public String getAsrFinalTime() {\r\n        int salatHour = totalMinutesAsr / 60;\r\n        int salatMinutes = totalMinutesAsr % 60;\r\n\r\n        String salatAM_PM;\r\n\r\n        if (salatHour &gt;= 12) {\r\n            salatAM_PM = &quot;pm&quot;;\r\n        } else {\r\n            salatAM_PM = &quot;am&quot;;\r\n        }\r\n\r\n        if (time12or24 == 12 &amp;&amp; salatHour &gt; 12) {\r\n            salatHour -= 12;\r\n        }\r\n\r\n        salatAM_PM = (time12or24 == 12) ? salatAM_PM : &quot;&quot;;\r\n\r\n        return formatter.format(salatHour) + &quot;:&quot; + formatter.format(salatMinutes) + &quot; &quot; + salatAM_PM;\r\n    }\r\n\r\n    public String getMaghribFinalTime() {\r\n        int salatHour = totalMinutesMaghrib / 60;\r\n        int salatMinutes = totalMinutesMaghrib % 60;\r\n\r\n        String salatAM_PM;\r\n\r\n        if (salatHour &gt;= 12) {\r\n            salatAM_PM = &quot;pm&quot;;\r\n        } else {\r\n            salatAM_PM = &quot;am&quot;;\r\n        }\r\n\r\n        if (time12or24 == 12 &amp;&amp; salatHour &gt; 12) {\r\n            salatHour -= 12;\r\n        }\r\n\r\n        salatAM_PM = (time12or24 == 12) ? salatAM_PM : &quot;&quot;;\r\n\r\n        return formatter.format(salatHour) + &quot;:&quot; + formatter.format(salatMinutes) + &quot; &quot; + salatAM_PM;\r\n    }\r\n\r\n    public String getIshaaFinalTime() {\r\n        int salatHour = totalMinutesIshaa / 60;\r\n        int salatMinutes = totalMinutesIshaa % 60;\r\n\r\n        String salatAM_PM;\r\n\r\n        if (salatHour &gt;= 12) {\r\n            salatAM_PM = &quot;pm&quot;;\r\n        } else {\r\n            salatAM_PM = &quot;am&quot;;\r\n        }\r\n\r\n        if (time12or24 == 12 &amp;&amp; salatHour &gt; 12) {\r\n            salatHour -= 12;\r\n        }\r\n\r\n        salatAM_PM = (time12or24 == 12) ? salatAM_PM : &quot;&quot;;\r\n\r\n        return formatter.format(salatHour) + &quot;:&quot; + formatter.format(salatMinutes) + &quot; &quot; + salatAM_PM;\r\n    }\r\n\r\n    public static int getMinutes(double d) {\r\n        int h = (int) d;\r\n        int m = (int) (Math.ceil((d - h) * 60));\r\n\r\n        return (h * 60) + m;\r\n    }\r\n\r\n    public void adjustTimes() {\r\n\r\n        this.allPrayrTimesInMinutes = new int[6];\r\n\r\n        this.totalMinutesFajr = (int) (getMinutes(fajr) + fajrTime);\r\n        this.totalMinutesShorouk = (int) (getMinutes(shorou9) + shoroukTime);\r\n        this.totalMinutesDuhr = (int) (getMinutes(duhr) + duhrTime);\r\n        this.totalMinutesAsr = (int) (getMinutes(asr) + asrTime);\r\n        this.totalMinutesMaghrib = (int) (getMinutes(maghrib) + maghribTime);\r\n        this.totalMinutesIshaa = (int) (getMinutes(ishaa) + ishaaTime);\r\n\r\n        this.allPrayrTimesInMinutes[0] = this.totalMinutesFajr;\r\n        this.allPrayrTimesInMinutes[1] = this.totalMinutesShorouk;\r\n        this.allPrayrTimesInMinutes[2] = this.totalMinutesDuhr;\r\n        this.allPrayrTimesInMinutes[3] = this.totalMinutesAsr;\r\n        this.allPrayrTimesInMinutes[4] = this.totalMinutesMaghrib;\r\n        this.allPrayrTimesInMinutes[5] = this.totalMinutesIshaa;\r\n\r\n        boolean b = true;\r\n\r\n        while (b) {\r\n            for (int i = 0; i &lt; allPrayrTimesInMinutes.length; i++) {\r\n                if (allPrayrTimesInMinutes[i] &gt; 1440) {\r\n                    for (int j = 0; j &lt; allPrayrTimesInMinutes.length; j++) {\r\n                        allPrayrTimesInMinutes[j] -= 720;\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n\r\n            b = false;\r\n        }\r\n\r\n        this.totalMinutesFajr = allPrayrTimesInMinutes[0];\r\n        this.totalMinutesShorouk = allPrayrTimesInMinutes[1];\r\n        this.totalMinutesDuhr = allPrayrTimesInMinutes[2];\r\n        this.totalMinutesAsr = allPrayrTimesInMinutes[3];\r\n        this.totalMinutesMaghrib = allPrayrTimesInMinutes[4];\r\n        this.totalMinutesIshaa = allPrayrTimesInMinutes[5];\r\n    }\r\n\r\n    public int[] getAllPrayrTimesInMinutes() {//get all prayer times in minutes after adjustment\r\n        return allPrayrTimesInMinutes;\r\n    }\r\n\r\n    public double getLongitude() {\r\n        return longitude;\r\n    }\r\n\r\n    public void setLongitude(double longitude) {\r\n        this.longitude = longitude;\r\n    }\r\n\r\n    public double getLatitude() {\r\n        return latitude;\r\n    }\r\n\r\n    public void setLatitude(double latitude) {\r\n        this.latitude = latitude;\r\n    }\r\n\r\n    public void setTime12or24(int time12or24) {\r\n        this.time12or24 = time12or24;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI have an application to calculate prayer times. The final Fajr prayer time is set using the getFajrFinalTime() method in PrayersTimes.java. The current time is calculated and equated with the final Fajr time to find out the time and alert the user to pray. This is done via AzanService.java, but I get a null pointer exception. When getFajrFinalTime() is set to fajrTime.setText(AzanService.prayerTimes.getFajrFinalTime());","title":"How can i fix NullPointerException when calling a method runned by service?","body":"<p>I have an application to calculate prayer times. The final Fajr prayer time is set using the getFajrFinalTime() method in PrayersTimes.java. The current time is calculated and equated with the final Fajr time to find out the time and alert the user to pray. This is done via AzanService.java, but I get a null pointer exception. When getFajrFinalTime() is set to fajrTime.setText(AzanService.prayerTimes.getFajrFinalTime());</p>\n<p><code>fajrTime.setText(AzanService.prayerTimes.getFajrFinalTime());</code></p>\n<p>AzanService.java</p>\n<pre><code>import android.app.Service;\nimport android.content.Intent;\nimport android.os.IBinder;\n\nimport androidx.annotation.NonNull;\nimport androidx.core.app.JobIntentService;\n\nimport com.artist.ellasallaty.widgets.LargeWidgetProvider;\nimport com.artist.ellasallaty.widgets.LargeWidgetProviderService;\n\nimport java.util.Calendar;\n\npublic class AzanService extends JobIntentService {\n\n    public static int nextPrayerTimeInMinutes;\n    public static int nextPrayerCode;\n    public static int missing_hours_to_nextPrayer;\n    public static int missing_minutes_to_nextPrayer;\n    public static int missing_seconds_to_nextPrayer;\n\n    public static Boolean isFajrForNextDay = false;\n\n    public static int[] prayerTimesInMinutes;\n    public static PrayersTimes prayerTimes;\n\n    public static Boolean ifActualSalatTime = false;\n    public static int actualPrayerCode;\n\n    @Override\n    public IBinder onBind(@NonNull Intent intent) {\n        return null;\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        PreferenceHandler.getSingleton().setContext(getApplicationContext());\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n\n        super.onStartCommand(intent, flags, startId);\n\n//        PreferenceHandler.getSingleton().setContext(getApplicationContext());\n\n        AzanService.prayerTimes = new PrayersTimes(Calendar.getInstance(), PreferenceHandler.getSingleton().getUserConfig());\n\n        AzanService.prayerTimesInMinutes = new int[6];\n        AzanService.prayerTimesInMinutes = AzanService.prayerTimes.getAllPrayrTimesInMinutes();\n\n        AzanService.getNextPrayer(false);\n\n        ifActualSalatTime = false;\n        actualPrayerCode = AzanService.nextPrayerCode;\n\n        AzanServiceBroasdcastReceiver.startNextPrayer(false, getApplicationContext());\n\n        refreshTime();\n\n        if (LargeWidgetProvider.isEnabled) {\n            this.startService(new Intent(this, LargeWidgetProviderService.class));\n        }\n\n        return Service.START_STICKY;\n    }\n\n    public static void refreshTime() {\n\n        try {\n\n            if (ifActualSalatTime == false) {\n\n                Calendar calendar = Calendar.getInstance();\n                int hour = calendar.get(Calendar.HOUR_OF_DAY);\n                int minutes = calendar.get(Calendar.MINUTE);\n                int second = calendar.get(Calendar.SECOND);\n\n                int totalMinutes = (hour * 60) + minutes;\n\n                if (AzanService.nextPrayerTimeInMinutes &gt; totalMinutes) {\n                    AzanService.missing_hours_to_nextPrayer = ((AzanService.nextPrayerTimeInMinutes - 1) - totalMinutes) / 60;\n                    AzanService.missing_minutes_to_nextPrayer = ((AzanService.nextPrayerTimeInMinutes - 1) - totalMinutes) % 60;\n                } else {\n                    AzanService.missing_hours_to_nextPrayer = (((AzanService.nextPrayerTimeInMinutes + 1440) - 1) - totalMinutes) / 60;\n                    AzanService.missing_minutes_to_nextPrayer = (((AzanService.nextPrayerTimeInMinutes + 1440) - 1) - totalMinutes) % 60;\n                }\n                AzanService.missing_seconds_to_nextPrayer = 59 - second;\n\n            }\n\n        } catch (Exception ignored) {\n        }\n\n    }\n\n    @Override\n    public void onDestroy() {\n    }\n\n    @Override\n    protected void onHandleWork(@NonNull Intent intent) {\n\n    }\n\n    public static void getNextPrayer(boolean addOneMinute) {\n\n        Calendar calendar = Calendar.getInstance();\n        isFajrForNextDay = false;\n        int totalMinutes = (calendar.get(Calendar.HOUR_OF_DAY) * 60) + (calendar.get(Calendar.MINUTE));\n\n        if (addOneMinute) {\n            totalMinutes++;\n        }\n\n//        if (AzanService.prayerTimesInMinutes != null) {\n\n            if (totalMinutes == 0 || totalMinutes == 1440 || (totalMinutes &gt;= 0 &amp;&amp; totalMinutes &lt;= AzanService.prayerTimesInMinutes[0])) {\n                AzanService.nextPrayerCode = 1020;\n                AzanService.nextPrayerTimeInMinutes = AzanService.prayerTimesInMinutes[0];\n            } else {\n                if (totalMinutes &gt; AzanService.prayerTimesInMinutes[0] &amp;&amp; totalMinutes &lt;= AzanService.prayerTimesInMinutes[1]) {\n                    AzanService.nextPrayerCode = 1021;\n                    AzanService.nextPrayerTimeInMinutes = AzanService.prayerTimesInMinutes[1];\n                } else {\n                    if (totalMinutes &gt; AzanService.prayerTimesInMinutes[1] &amp;&amp; totalMinutes &lt;= AzanService.prayerTimesInMinutes[2]) {\n                        AzanService.nextPrayerCode = 1022;\n                        AzanService.nextPrayerTimeInMinutes = AzanService.prayerTimesInMinutes[2];\n                    } else {\n                        if (totalMinutes &gt; AzanService.prayerTimesInMinutes[2] &amp;&amp; totalMinutes &lt;= AzanService.prayerTimesInMinutes[3]) {\n                            AzanService.nextPrayerCode = 1023;\n                            AzanService.nextPrayerTimeInMinutes = AzanService.prayerTimesInMinutes[3];\n                        } else {\n                            if (totalMinutes &gt; AzanService.prayerTimesInMinutes[3] &amp;&amp; totalMinutes &lt;= AzanService.prayerTimesInMinutes[4]) {\n                                AzanService.nextPrayerCode = 1024;\n                                AzanService.nextPrayerTimeInMinutes = AzanService.prayerTimesInMinutes[4];\n                            } else {\n                                if (totalMinutes &gt; AzanService.prayerTimesInMinutes[4] &amp;&amp; totalMinutes &lt;= AzanService.prayerTimesInMinutes[5]) {\n                                    AzanService.nextPrayerCode = 1025;\n                                    AzanService.nextPrayerTimeInMinutes = AzanService.prayerTimesInMinutes[5];\n                                } else {\n                                    if (totalMinutes &gt; AzanService.prayerTimesInMinutes[5] &amp;&amp; totalMinutes &lt; 1440) {\n                                        AzanService.nextPrayerCode = 1020;\n\n                                        calendar.add(Calendar.DATE, 1);\n                                        PrayersTimes prayersTimes = new PrayersTimes(calendar, PreferenceHandler.getSingleton().getUserConfig());\n\n                                        isFajrForNextDay = true;\n                                        int[] nextDayPrayerTimesInMinutes = prayersTimes.getAllPrayrTimesInMinutes();\n                                        AzanService.nextPrayerTimeInMinutes = nextDayPrayerTimesInMinutes[0];\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n\n            }\n        }\n\n//    }\n\n}\n</code></pre>\n<p>PrayerTimes.java</p>\n<pre><code>package com.artist.ellasallaty.utils;\n\nimport androidx.annotation.NonNull;\n\nimport java.io.IOException;\nimport java.text.DecimalFormat;\nimport java.text.NumberFormat;\nimport java.util.Calendar;\n\npublic class PrayersTimes {\n\n    private final int year, month, day;\n    private int totalMinutesFajr, totalMinutesShorouk, totalMinutesDuhr, totalMinutesAsr, totalMinutesMaghrib, totalMinutesIshaa;\n\n    private int[] allPrayrTimesInMinutes;\n\n    private int time12or24 = 24;\n\n    private String calculationMethod, mazhab, typeTime;\n\n    private final double DegToRad = 0.017453292;\n    private final double RadToDeg = 57.29577951;\n\n    private double longitude, latitude, timeZone, fajr, shorou9, duhr, asr, maghrib, ishaa, dec, fajrAlt, ishaAlt, fajrTime, shoroukTime, duhrTime, asrTime, maghribTime, ishaaTime;\n\n    private NumberFormat formatter;\n\n    public PrayersTimes(@NonNull Calendar cal, UserConfig userConfig) {\n        this.year = cal.get(Calendar.YEAR);\n        this.month = cal.get(Calendar.MONTH);\n        this.day = cal.get(Calendar.DAY_OF_MONTH);\n        setParameters(userConfig);\n    }\n\n    public void setParameters(@NonNull UserConfig userConfig) {\n\n        this.time12or24 = Integer.parseInt(userConfig.getTime12Or24());\n\n        this.longitude = Double.parseDouble(userConfig.getLongitude());\n        this.latitude = Double.parseDouble(userConfig.getLatitude());\n\n        this.timeZone = Double.parseDouble(userConfig.getTimezone());\n        this.calculationMethod = userConfig.getCalculationMethod();\n        this.mazhab = userConfig.getMazhab();\n        this.typeTime = userConfig.getTypeTime();\n\n        this.fajrTime = Double.parseDouble(userConfig.getFajrTime());\n        this.shoroukTime = Double.parseDouble(userConfig.getShoroukTime());\n        this.duhrTime = Double.parseDouble(userConfig.getDuhrTime());\n        this.asrTime = Double.parseDouble(userConfig.getAsrTime());\n        this.maghribTime = Double.parseDouble(userConfig.getMaghribTime());\n        this.ishaaTime = Double.parseDouble(userConfig.getIshaaTime());\n\n        init();\n        adjustTimes();\n    }\n\n    public void init() {\n        this.formatter = new DecimalFormat(&quot;00&quot;);\n\n        double julianDay = (367 * year) - (int) (((year + (int) (((month + 1) + 9) / 12)) * 7) / 4) + (int) (275 * (month + 1) / 9) + day - 730531.5;\n        double sunLength = removeDublication(280.461 + 0.9856474 * julianDay);\n        double middleSun = removeDublication(357.528 + 0.9856003 * julianDay);\n        double lambda = removeDublication(sunLength + 1.915 * Math.sin(middleSun * DegToRad) + 0.02 * Math.sin(2 * middleSun * DegToRad));\n        double obliquity = 23.439 - 0.0000004 * julianDay;\n        double alpha = RadToDeg * Math.atan(Math.cos(obliquity * DegToRad) * Math.tan(lambda * DegToRad));\n\n        if (lambda &gt; 90 &amp;&amp; lambda &lt; 180) {\n            alpha += 180;\n        } else if (lambda &gt; 180 &amp;&amp; lambda &lt; 360) {\n            alpha += 360;\n        }\n\n        double st = removeDublication(100.46 + 0.985647352 * julianDay);\n\n        this.dec = RadToDeg * Math.asin(Math.sin(obliquity * DegToRad) * Math.sin(lambda * DegToRad));\n\n        double noon = alpha - st;\n        if (noon &lt; 0) {\n            noon += 360;\n        }\n        double UTNoon = noon - longitude;\n\n        double localNoon = (UTNoon / 15) + timeZone;\n\n        this.duhr = localNoon;\n        this.maghrib = localNoon + equation(-0.8333) / 15;\n        this.shorou9 = localNoon - equation(-0.8333) / 15;\n\n        if (this.calculationMethod.equalsIgnoreCase(&quot;MuslimWorldLeague&quot;)) {\n            this.fajrAlt = -18;\n            this.ishaAlt = -17;\n        } else if (this.calculationMethod.equalsIgnoreCase(&quot;IslamicSocietyOfNorthAmerica&quot;)) {\n            this.fajrAlt = -15;\n            this.ishaAlt = -15;\n        } else if (this.calculationMethod.equalsIgnoreCase(&quot;EgytionGeneralAuthorityofSurvey&quot;)) {\n            this.fajrAlt = -19.5;\n            this.ishaAlt = -17.5;\n        } else if (this.calculationMethod.equalsIgnoreCase(&quot;UmmAlQuraUniv&quot;)) {\n            this.fajrAlt = -18.5;// fajr was 19 degrees before 1430 hijri\n        } else if (this.calculationMethod.equalsIgnoreCase(&quot;UnivOfIslamicScincesKarachi&quot;)) {\n            this.fajrAlt = -18;\n            this.ishaAlt = -18;\n        } else if (this.calculationMethod.equalsIgnoreCase(&quot;InstituteOfGeophysicsUniversityOfTehran&quot;)) {\n            this.fajrAlt = -17.7;\n            this.ishaAlt = -14;\n        } else if (this.calculationMethod.equalsIgnoreCase(&quot;ShiaIthnaAshariLevaInstituteQum&quot;)) {\n            this.fajrAlt = -16;\n            this.ishaAlt = -14;\n        } else if (this.calculationMethod.equalsIgnoreCase(&quot;GulfRegion&quot;)) {\n            this.fajrAlt = -19.5;\n        } else if (this.calculationMethod.equalsIgnoreCase(&quot;TheMinistryofAwqafandIslamicAffairsinKuwait&quot;)) {\n            this.fajrAlt = -18;\n            this.ishaAlt = -17.5;\n        } else if (this.calculationMethod.equalsIgnoreCase(&quot;Qatar&quot;)) {\n            this.fajrAlt = -18;\n        } else if (this.calculationMethod.equalsIgnoreCase(&quot;MajlisUgamaIslamSingapuraSingapore&quot;)) {\n            this.fajrAlt = -20;\n            this.ishaAlt = -18;\n        } else if (this.calculationMethod.equalsIgnoreCase(&quot;FederationofIslamicOrganizationsinFrance&quot;)) {\n            this.fajrAlt = -12;\n            this.ishaAlt = -12;\n        } else if (this.calculationMethod.equalsIgnoreCase(&quot;DirectorateOfReligiousAffairsTurkey&quot;)) {\n            this.fajrAlt = -18;\n            this.ishaAlt = -17;\n        } else if (this.calculationMethod.equalsIgnoreCase(&quot;SpiritualAdministrationOfMuslimsOfRussia&quot;)) {\n            this.fajrAlt = -16;\n            this.ishaAlt = -15;\n        }\n\n        this.fajr = localNoon - equation(fajrAlt) / 15;\n\n        this.ishaa = localNoon + equation(ishaAlt) / 15;\n\n        if (this.calculationMethod.equalsIgnoreCase(&quot;UmmAlQuraUniv&quot;) || this.calculationMethod.equalsIgnoreCase(&quot;GulfRegion&quot;) || this.calculationMethod.equalsIgnoreCase(&quot;Qatar&quot;)) {\n            try {\n                HijriTime hijriTime = new HijriTime(Calendar.getInstance());\n                if (hijriTime.isRamadan()) {\n                    this.ishaa = maghrib + 2;\n                } else {\n                    this.ishaa = maghrib + 1.5;\n                }\n            } catch (IOException e) {\n                this.ishaa = maghrib + 1.5;\n            }\n        }\n        double asrAlt;\n\n        if (this.mazhab.equalsIgnoreCase(&quot;hanafi&quot;)) {\n            asrAlt = 90 - RadToDeg * Math.atan(2 + Math.tan(abs(latitude - dec) * DegToRad));\n        } else {\n            asrAlt = 90 - RadToDeg * Math.atan(1 + Math.tan(abs(latitude - dec) * DegToRad));\n        }\n\n        this.asr = localNoon + equation(asrAlt) / 15;\n\n        if (this.typeTime.equalsIgnoreCase(&quot;sayfi&quot;)) {\n            this.fajr += 1;\n            this.shorou9 += 1;\n            this.duhr += 1;\n            this.asr += 1;\n            this.maghrib += 1;\n            this.ishaa += 1;\n        }\n    }\n\n    public double removeDublication(double d) {\n        if (d &gt; 360) {\n            d /= 360;\n            d -= (int) (d);\n            d *= 360;\n        }\n        return d;\n    }\n\n    public double equation(double d) {\n        return RadToDeg\n                * Math.acos((Math.sin(d * DegToRad) - Math\n                .sin(dec * DegToRad) * Math.sin(latitude * DegToRad))\n                / (Math.cos(dec * DegToRad) * Math.cos(latitude\n                * DegToRad)));\n    }\n\n    public double abs(double d) {\n        if (d &lt; 0) {\n            return -d;\n        } else {\n            return d;\n        }\n    }\n\n    public String getFajrFinalTime() {\n        int salatHour = totalMinutesFajr / 60;\n        int salatMinutes = totalMinutesFajr % 60;\n\n        String salatAM_PM;\n\n        if (salatHour &gt;= 12) {\n            salatAM_PM = &quot;pm&quot;;\n        } else {\n            salatAM_PM = &quot;am&quot;;\n        }\n\n        if (time12or24 == 12 &amp;&amp; salatHour &gt; 12) {\n            salatHour -= 12;\n        }\n\n        salatAM_PM = (time12or24 == 12) ? salatAM_PM : &quot;&quot;;\n\n        return formatter.format(salatHour) + &quot;:&quot; + formatter.format(salatMinutes) + &quot; &quot; + salatAM_PM;\n    }\n\n    public String getShorou9FinalTime() {\n        int salatHour = totalMinutesShorouk / 60;\n        int salatMinutes = totalMinutesShorouk % 60;\n\n        String salatAM_PM;\n\n        if (salatHour &gt;= 12) {\n            salatAM_PM = &quot;pm&quot;;\n        } else {\n            salatAM_PM = &quot;am&quot;;\n        }\n\n        if (time12or24 == 12 &amp;&amp; salatHour &gt; 12) {\n            salatHour -= 12;\n        }\n\n        salatAM_PM = (time12or24 == 12) ? salatAM_PM : &quot;&quot;;\n\n        return formatter.format(salatHour) + &quot;:&quot; + formatter.format(salatMinutes) + &quot; &quot; + salatAM_PM;\n    }\n\n    public String getDuhrFinalTime() {\n        int salatHour = totalMinutesDuhr / 60;\n        int salatMinutes = totalMinutesDuhr % 60;\n\n        String salatAM_PM;\n\n        if (salatHour &gt;= 12) {\n            salatAM_PM = &quot;pm&quot;;\n        } else {\n            salatAM_PM = &quot;am&quot;;\n        }\n\n        if (time12or24 == 12 &amp;&amp; salatHour &gt; 12) {\n            salatHour -= 12;\n        }\n\n        salatAM_PM = (time12or24 == 12) ? salatAM_PM : &quot;&quot;;\n\n        return formatter.format(salatHour) + &quot;:&quot; + formatter.format(salatMinutes) + &quot; &quot; + salatAM_PM;\n    }\n\n    public String getAsrFinalTime() {\n        int salatHour = totalMinutesAsr / 60;\n        int salatMinutes = totalMinutesAsr % 60;\n\n        String salatAM_PM;\n\n        if (salatHour &gt;= 12) {\n            salatAM_PM = &quot;pm&quot;;\n        } else {\n            salatAM_PM = &quot;am&quot;;\n        }\n\n        if (time12or24 == 12 &amp;&amp; salatHour &gt; 12) {\n            salatHour -= 12;\n        }\n\n        salatAM_PM = (time12or24 == 12) ? salatAM_PM : &quot;&quot;;\n\n        return formatter.format(salatHour) + &quot;:&quot; + formatter.format(salatMinutes) + &quot; &quot; + salatAM_PM;\n    }\n\n    public String getMaghribFinalTime() {\n        int salatHour = totalMinutesMaghrib / 60;\n        int salatMinutes = totalMinutesMaghrib % 60;\n\n        String salatAM_PM;\n\n        if (salatHour &gt;= 12) {\n            salatAM_PM = &quot;pm&quot;;\n        } else {\n            salatAM_PM = &quot;am&quot;;\n        }\n\n        if (time12or24 == 12 &amp;&amp; salatHour &gt; 12) {\n            salatHour -= 12;\n        }\n\n        salatAM_PM = (time12or24 == 12) ? salatAM_PM : &quot;&quot;;\n\n        return formatter.format(salatHour) + &quot;:&quot; + formatter.format(salatMinutes) + &quot; &quot; + salatAM_PM;\n    }\n\n    public String getIshaaFinalTime() {\n        int salatHour = totalMinutesIshaa / 60;\n        int salatMinutes = totalMinutesIshaa % 60;\n\n        String salatAM_PM;\n\n        if (salatHour &gt;= 12) {\n            salatAM_PM = &quot;pm&quot;;\n        } else {\n            salatAM_PM = &quot;am&quot;;\n        }\n\n        if (time12or24 == 12 &amp;&amp; salatHour &gt; 12) {\n            salatHour -= 12;\n        }\n\n        salatAM_PM = (time12or24 == 12) ? salatAM_PM : &quot;&quot;;\n\n        return formatter.format(salatHour) + &quot;:&quot; + formatter.format(salatMinutes) + &quot; &quot; + salatAM_PM;\n    }\n\n    public static int getMinutes(double d) {\n        int h = (int) d;\n        int m = (int) (Math.ceil((d - h) * 60));\n\n        return (h * 60) + m;\n    }\n\n    public void adjustTimes() {\n\n        this.allPrayrTimesInMinutes = new int[6];\n\n        this.totalMinutesFajr = (int) (getMinutes(fajr) + fajrTime);\n        this.totalMinutesShorouk = (int) (getMinutes(shorou9) + shoroukTime);\n        this.totalMinutesDuhr = (int) (getMinutes(duhr) + duhrTime);\n        this.totalMinutesAsr = (int) (getMinutes(asr) + asrTime);\n        this.totalMinutesMaghrib = (int) (getMinutes(maghrib) + maghribTime);\n        this.totalMinutesIshaa = (int) (getMinutes(ishaa) + ishaaTime);\n\n        this.allPrayrTimesInMinutes[0] = this.totalMinutesFajr;\n        this.allPrayrTimesInMinutes[1] = this.totalMinutesShorouk;\n        this.allPrayrTimesInMinutes[2] = this.totalMinutesDuhr;\n        this.allPrayrTimesInMinutes[3] = this.totalMinutesAsr;\n        this.allPrayrTimesInMinutes[4] = this.totalMinutesMaghrib;\n        this.allPrayrTimesInMinutes[5] = this.totalMinutesIshaa;\n\n        boolean b = true;\n\n        while (b) {\n            for (int i = 0; i &lt; allPrayrTimesInMinutes.length; i++) {\n                if (allPrayrTimesInMinutes[i] &gt; 1440) {\n                    for (int j = 0; j &lt; allPrayrTimesInMinutes.length; j++) {\n                        allPrayrTimesInMinutes[j] -= 720;\n                    }\n                    break;\n                }\n            }\n\n            b = false;\n        }\n\n        this.totalMinutesFajr = allPrayrTimesInMinutes[0];\n        this.totalMinutesShorouk = allPrayrTimesInMinutes[1];\n        this.totalMinutesDuhr = allPrayrTimesInMinutes[2];\n        this.totalMinutesAsr = allPrayrTimesInMinutes[3];\n        this.totalMinutesMaghrib = allPrayrTimesInMinutes[4];\n        this.totalMinutesIshaa = allPrayrTimesInMinutes[5];\n    }\n\n    public int[] getAllPrayrTimesInMinutes() {//get all prayer times in minutes after adjustment\n        return allPrayrTimesInMinutes;\n    }\n\n    public double getLongitude() {\n        return longitude;\n    }\n\n    public void setLongitude(double longitude) {\n        this.longitude = longitude;\n    }\n\n    public double getLatitude() {\n        return latitude;\n    }\n\n    public void setLatitude(double latitude) {\n        this.latitude = latitude;\n    }\n\n    public void setTime12or24(int time12or24) {\n        this.time12or24 = time12or24;\n    }\n\n}\n</code></pre>\n<p>I have an application to calculate prayer times. The final Fajr prayer time is set using the getFajrFinalTime() method in PrayersTimes.java. The current time is calculated and equated with the final Fajr time to find out the time and alert the user to pray. This is done via AzanService.java, but I get a null pointer exception. When getFajrFinalTime() is set to fajrTime.setText(AzanService.prayerTimes.getFajrFinalTime());</p>\n"},{"tags":["java","mergesort"],"comments":[{"owner":{"account_id":5475819,"reputation":1022,"user_id":4353862,"display_name":"Manuel Romeiro"},"score":0,"creation_date":1701210659,"post_id":77567477,"comment_id":136746861,"body_markdown":"In order to wait for threads, you need to call &quot;join&quot; method: `for (int i = 0; i &lt; M; i++) {workers[i].join();}`","body":"In order to wait for threads, you need to call &quot;join&quot; method: <code>for (int i = 0; i &lt; M; i++) {workers[i].join();}</code>"},{"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"score":0,"creation_date":1701277083,"post_id":77567477,"comment_id":136756696,"body_markdown":"This would be simpler with a bottom up merge sort. Split the array into M parts, and use M threads to create M sorted runs. Then use M/2 threads to merge the M runs into M/2 runs, until the result is a single run.","body":"This would be simpler with a bottom up merge sort. Split the array into M parts, and use M threads to create M sorted runs. Then use M/2 threads to merge the M runs into M/2 runs, until the result is a single run."},{"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"score":0,"creation_date":1701277489,"post_id":77567477,"comment_id":136756768,"body_markdown":"For M = 4, split array into 4 parts, and create 4 threads to sort the 4 parts, thread 0, 1, 2, 3.  Thread 1 and 3 exit after sorting their part.  Thread 2 waits for thread 3 (join) and merges part 2 and 3 and exits. Thread 0 waits for thread 1 (join) and merges part 0 and 1, then waits for thread 2 (join), and merges the two halves and exits. The main thread can be thread 0 to avoid creating an unneeded thread.","body":"For M = 4, split array into 4 parts, and create 4 threads to sort the 4 parts, thread 0, 1, 2, 3.  Thread 1 and 3 exit after sorting their part.  Thread 2 waits for thread 3 (join) and merges part 2 and 3 and exits. Thread 0 waits for thread 1 (join) and merges part 0 and 1, then waits for thread 2 (join), and merges the two halves and exits. The main thread can be thread 0 to avoid creating an unneeded thread."}],"owner":{"account_id":19988741,"reputation":1,"user_id":14650293,"display_name":"javiole1712"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701209960,"creation_date":1701209912,"question_id":77567477,"body_markdown":"I have been assigned in a class to make a concurrent merge sort using `java.util.concurrent.ConcurrentLinkedQueue&lt;&gt;` for the queue. The problem is I can&#39;t make it to work correctly, the output I get is not ordered, i suppose it is because the recursive call should wait before the final merge call, but i don&#39;t know how to do it, or even if that&#39;s the problem.\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.concurrent.ConcurrentLinkedQueue;\r\n\r\npublic class Main {\r\n    private static final int M = 4; // Number of worker threads\r\n    private static final ConcurrentLinkedQueue&lt;Runnable&gt; taskQueue = new ConcurrentLinkedQueue&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n        int[] input = new int[100];\r\n        for (int i = 0; i &lt; input.length; i++) {\r\n            input[i] = (int) (Math.random() * 100);\r\n        }\r\n        mergeSort(input, 0, input.length - 1);\r\n\r\n        System.out.println(Arrays.toString(input));\r\n    }\r\n\r\n    private static void mergeSort(int[] arr, int l, int r) {\r\n        if (l &lt; r) {\r\n            int m = (l + r) / 2;\r\n\r\n            // Enqueue sort tasks for left and right subarrays\r\n            taskQueue.offer(() -&gt; mergeSort(arr, l, m));\r\n            taskQueue.offer(() -&gt; mergeSort(arr, m + 1, r));\r\n\r\n            // Start worker threads\r\n            startWorkerThreads();\r\n\r\n            // Enqueue merge task for subarrays\r\n            taskQueue.offer(() -&gt; merge(arr, l, m, r));\r\n\r\n            // Start worker threads again for merging\r\n            startWorkerThreads();\r\n        }\r\n    }\r\n\r\n    private static void startWorkerThreads() {\r\n        Thread[] workers = new Thread[M];\r\n        \r\n        for (int i = 0; i &lt; M; i++) {\r\n            workers[i] = new Thread(() -&gt; {\r\n                Runnable task;\r\n                while ((task = taskQueue.poll()) != null) {\r\n                    task.run();\r\n                }\r\n            });\r\n            workers[i].start();\r\n        }\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    private static void merge(int[] arr, int l, int m, int r) {\r\n        int n1 = m - l + 1;\r\n        int n2 = r - m;\r\n\r\n        int[] left = new int[n1];\r\n        int[] right = new int[n2];\r\n\r\n        for (int i = 0; i &lt; n1; i++) {\r\n            left[i] = arr[l + i];\r\n        }\r\n        for (int j = 0; j &lt; n2; j++) {\r\n            right[j] = arr[m + 1 + j];\r\n        }\r\n\r\n        int i = 0, j = 0, k = l;\r\n        while (i &lt; n1 &amp;&amp; j &lt; n2) {\r\n            if (left[i] &lt;= right[j]) {\r\n                arr[k] = left[i];\r\n                i++;\r\n            } else {\r\n                arr[k] = right[j];\r\n                j++;\r\n            }\r\n            k++;\r\n        }\r\n\r\n        while (i &lt; n1) {\r\n            arr[k] = left[i];\r\n            i++;\r\n            k++;\r\n        }\r\n\r\n        while (j &lt; n2) {\r\n            arr[k] = right[j];\r\n            j++;\r\n            k++;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI tried `Thread.sleep`, and works for small arrays, but for bigger ones it&#39;s bad.","title":"Concurrent Merge sort","body":"<p>I have been assigned in a class to make a concurrent merge sort using <code>java.util.concurrent.ConcurrentLinkedQueue&lt;&gt;</code> for the queue. The problem is I can't make it to work correctly, the output I get is not ordered, i suppose it is because the recursive call should wait before the final merge call, but i don't know how to do it, or even if that's the problem.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.concurrent.ConcurrentLinkedQueue;\n\npublic class Main {\n    private static final int M = 4; // Number of worker threads\n    private static final ConcurrentLinkedQueue&lt;Runnable&gt; taskQueue = new ConcurrentLinkedQueue&lt;&gt;();\n\n    public static void main(String[] args) {\n        int[] input = new int[100];\n        for (int i = 0; i &lt; input.length; i++) {\n            input[i] = (int) (Math.random() * 100);\n        }\n        mergeSort(input, 0, input.length - 1);\n\n        System.out.println(Arrays.toString(input));\n    }\n\n    private static void mergeSort(int[] arr, int l, int r) {\n        if (l &lt; r) {\n            int m = (l + r) / 2;\n\n            // Enqueue sort tasks for left and right subarrays\n            taskQueue.offer(() -&gt; mergeSort(arr, l, m));\n            taskQueue.offer(() -&gt; mergeSort(arr, m + 1, r));\n\n            // Start worker threads\n            startWorkerThreads();\n\n            // Enqueue merge task for subarrays\n            taskQueue.offer(() -&gt; merge(arr, l, m, r));\n\n            // Start worker threads again for merging\n            startWorkerThreads();\n        }\n    }\n\n    private static void startWorkerThreads() {\n        Thread[] workers = new Thread[M];\n        \n        for (int i = 0; i &lt; M; i++) {\n            workers[i] = new Thread(() -&gt; {\n                Runnable task;\n                while ((task = taskQueue.poll()) != null) {\n                    task.run();\n                }\n            });\n            workers[i].start();\n        }\n\n\n\n\n    }\n\n\n\n    private static void merge(int[] arr, int l, int m, int r) {\n        int n1 = m - l + 1;\n        int n2 = r - m;\n\n        int[] left = new int[n1];\n        int[] right = new int[n2];\n\n        for (int i = 0; i &lt; n1; i++) {\n            left[i] = arr[l + i];\n        }\n        for (int j = 0; j &lt; n2; j++) {\n            right[j] = arr[m + 1 + j];\n        }\n\n        int i = 0, j = 0, k = l;\n        while (i &lt; n1 &amp;&amp; j &lt; n2) {\n            if (left[i] &lt;= right[j]) {\n                arr[k] = left[i];\n                i++;\n            } else {\n                arr[k] = right[j];\n                j++;\n            }\n            k++;\n        }\n\n        while (i &lt; n1) {\n            arr[k] = left[i];\n            i++;\n            k++;\n        }\n\n        while (j &lt; n2) {\n            arr[k] = right[j];\n            j++;\n            k++;\n        }\n    }\n}\n</code></pre>\n<p>I tried <code>Thread.sleep</code>, and works for small arrays, but for bigger ones it's bad.</p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"score":0,"creation_date":1700674958,"post_id":77532109,"comment_id":136684741,"body_markdown":"why are you not posting the violent exception?","body":"why are you not posting the violent exception?"},{"owner":{"account_id":28428843,"reputation":7,"user_id":21749778,"display_name":"Irdiris"},"score":0,"creation_date":1700736642,"post_id":77532109,"comment_id":136692351,"body_markdown":"@Loading what violent exception?","body":"@Loading what violent exception?"},{"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"score":0,"creation_date":1700748644,"post_id":77532109,"comment_id":136694481,"body_markdown":"typo: the violation of the key constraint. Normally the exception helps pinpointing which table did not get cleaned up","body":"typo: the violation of the key constraint. Normally the exception helps pinpointing which table did not get cleaned up"}],"answers":[{"comments":[{"owner":{"account_id":28428843,"reputation":7,"user_id":21749778,"display_name":"Irdiris"},"score":0,"creation_date":1700736723,"post_id":77532168,"comment_id":136692371,"body_markdown":"cascade.REMOVE isn&#39;t recommended for many to many that&#39;s why i didn&#39;t use it. also the exception is not there. It&#39;s in the if check for staff","body":"cascade.REMOVE isn&#39;t recommended for many to many that&#39;s why i didn&#39;t use it. also the exception is not there. It&#39;s in the if check for staff"},{"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"score":0,"creation_date":1700748697,"post_id":77532168,"comment_id":136694491,"body_markdown":"can you please add these to the post? Its hard to follow exactly where you get the exception. Also did the getStaff().clear() work?","body":"can you please add these to the post? Its hard to follow exactly where you get the exception. Also did the getStaff().clear() work?"},{"owner":{"account_id":28428843,"reputation":7,"user_id":21749778,"display_name":"Irdiris"},"score":0,"creation_date":1700955364,"post_id":77532168,"comment_id":136715698,"body_markdown":"i did add that CASCADE.REMOVE isn&#39;t recommended as per the article i shared.","body":"i did add that CASCADE.REMOVE isn&#39;t recommended as per the article i shared."},{"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"score":0,"creation_date":1701008233,"post_id":77532168,"comment_id":136719212,"body_markdown":"sorry its hard to follow you. On which line do you get the exception exactly? Can you post the exception message? did the clear() work or not?","body":"sorry its hard to follow you. On which line do you get the exception exactly? Can you post the exception message? did the clear() work or not?"},{"owner":{"account_id":28428843,"reputation":7,"user_id":21749778,"display_name":"Irdiris"},"score":0,"creation_date":1701209591,"post_id":77532168,"comment_id":136746692,"body_markdown":"I removed the problem entirely by actually declaring the staff_shifts entity. I&#39;ll close the question. Thanks for helping!","body":"I removed the problem entirely by actually declaring the staff_shifts entity. I&#39;ll close the question. Thanks for helping!"}],"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700675393,"creation_date":1700675393,"answer_id":77532168,"question_id":77532109,"body_markdown":"To delete with a many to many relationship in hibernate you need to delete *BOTH* sides/entites from each other.\r\n\r\nIn this part of the code you take the staff entity and remove the shift. But you also need take the shifts entity and remove the staff out of it:\r\n\r\n\r\n    shiftToBeDeleted.getStaff().clear(); //SOMETHING LIKE THAT\r\n\r\n    for (Staff staff : shiftToBeDeleted.getStaff()){\r\n         System.out.println(&quot;this fucker is second:&quot;+ staff.getUsername());\r\n         staff.getShifts().remove(shiftToBeDeleted);\r\n         shiftToBeDeleted.getStaff().remove(staff); //SOMETHING LIKE THAT\r\n         staffRepository.save(staff);\r\n     }\r\n\r\nI can also imagine that you need to change the cascade to also add DELETE:\r\n\r\n    cascade = {CascadeType.ALL}","title":"how to remove entities annotated with many to many relationship","body":"<p>To delete with a many to many relationship in hibernate you need to delete <em>BOTH</em> sides/entites from each other.</p>\n<p>In this part of the code you take the staff entity and remove the shift. But you also need take the shifts entity and remove the staff out of it:</p>\n<pre><code>shiftToBeDeleted.getStaff().clear(); //SOMETHING LIKE THAT\n\nfor (Staff staff : shiftToBeDeleted.getStaff()){\n     System.out.println(&quot;this fucker is second:&quot;+ staff.getUsername());\n     staff.getShifts().remove(shiftToBeDeleted);\n     shiftToBeDeleted.getStaff().remove(staff); //SOMETHING LIKE THAT\n     staffRepository.save(staff);\n }\n</code></pre>\n<p>I can also imagine that you need to change the cascade to also add DELETE:</p>\n<pre><code>cascade = {CascadeType.ALL}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28428843,"reputation":7,"user_id":21749778,"display_name":"Irdiris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701209633,"creation_date":1701209633,"answer_id":77567464,"question_id":77532109,"body_markdown":"Having not found a solution to this. I resulted to actually creating the staff_shifts entity and mapping it which worked without problems. ","title":"how to remove entities annotated with many to many relationship","body":"<p>Having not found a solution to this. I resulted to actually creating the staff_shifts entity and mapping it which worked without problems.</p>\n"}],"owner":{"account_id":28428843,"reputation":7,"user_id":21749778,"display_name":"Irdiris"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":77567464,"answer_count":2,"score":-3,"last_activity_date":1701209633,"creation_date":1700674774,"question_id":77532109,"body_markdown":"I&#39;ve been at this for over 3 hours and no progress. I have this method: \r\n\r\n      public String deleteShift(Shifts shifts){\r\n\r\n         Shifts shiftToBeDeleted = shiftsRepository.findById(shifts.getId()).orElseThrow(() -&gt;new ShiftNotFoundException(&quot;This shift doesn&#39;t exist&quot;));\r\n               Set&lt;Staff&gt; staffListForShift = shiftToBeDeleted.getStaff();\r\n\r\n      if (shiftToBeDeleted.getStaff().isEmpty()){\r\n\r\n             System.out.println(&quot;this fucker:&quot; + shiftToBeDeleted.getStaff());\r\n             shiftsRepository.deleteById(shifts.getId());\r\n             return &quot;Shift removed.&quot;;\r\n         }else {\r\n             for (Staff staff : shiftToBeDeleted.getStaff()){\r\n                 System.out.println(&quot;this fucker is second:&quot;+ staff.getUsername());\r\n                 staff.getShifts().remove(shiftToBeDeleted);\r\n                 staffRepository.save(staff);\r\n             }\r\n             shiftsRepository.deleteById(shiftToBeDeleted.getId());\r\n             return &quot;Shift removed, assign the free staff to a different one.&quot;;\r\n         }\r\n    }\r\n\r\nit is supposed to delete a shift but it keeps returnning a violation of a foreign key constraint that i can&#39;t for the life of me fix. \r\n\r\nthis is the shifts class : \r\n\r\n       \r\n\r\n    public class Shifts {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    private Long id;\r\n    @Temporal(TemporalType.TIME)\r\n    private LocalTime shiftStart;\r\n    @Temporal(TemporalType.TIME)\r\n    private LocalTime shiftEnd;\r\n    @ManyToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH})\r\n    @JsonIgnore\r\n    private Set&lt;Staff&gt; staff;}\r\n\r\n\r\n\r\n\r\n\r\n\r\nthis is the staff class :\r\n   \r\n\r\n    public class Staff {\r\n    @Id\r\n    private Long id;\r\n    private String username;\r\n    private String password;\r\n    @Enumerated(EnumType.STRING)\r\n    private StaffStates state;\r\n    @Enumerated(EnumType.STRING)\r\n    private UserTypes type;\r\n\r\n\r\n    @OneToOne( cascade = CascadeType.ALL)\r\n    @MapsId\r\n    @JoinColumn(name = &quot;id&quot;)\r\n    private User user;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;staff&quot;)\r\n    private Set&lt;WorkHours&gt; workHoursSet;\r\n\r\n    @ManyToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH})\r\n    @JoinTable(\r\n            name = &quot;StaffShifts&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;staffId&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;shiftId&quot;))\r\n    private Set&lt;Shifts&gt; shifts;\r\n\r\n\r\n    @ManyToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH})\r\n    @JoinTable(\r\n            name = &quot;StaffPermissions&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;staffid&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;permissionId&quot;))\r\n            private Set&lt;Permissions&gt; permissions;\r\n\r\n    @OneToMany()\r\n    private Set&lt;Transactions&gt; transactionsSet;\r\n\r\n}\r\n\r\ni tried using cascade to solve the problem but cascade removal isn&#39;t recommended according to [this](https://www.baeldung.com/jpa-remove-entity-many-to-many)\r\n\r\nEdit : the error is in getStaff.isEMpty(). somehow the list of staff pops up empty in that check but when i move to delete from it it throws a violated foreign key exception.\r\n","title":"how to remove entities annotated with many to many relationship","body":"<p>I've been at this for over 3 hours and no progress. I have this method:</p>\n<pre><code>  public String deleteShift(Shifts shifts){\n\n     Shifts shiftToBeDeleted = shiftsRepository.findById(shifts.getId()).orElseThrow(() -&gt;new ShiftNotFoundException(&quot;This shift doesn't exist&quot;));\n           Set&lt;Staff&gt; staffListForShift = shiftToBeDeleted.getStaff();\n\n  if (shiftToBeDeleted.getStaff().isEmpty()){\n\n         System.out.println(&quot;this fucker:&quot; + shiftToBeDeleted.getStaff());\n         shiftsRepository.deleteById(shifts.getId());\n         return &quot;Shift removed.&quot;;\n     }else {\n         for (Staff staff : shiftToBeDeleted.getStaff()){\n             System.out.println(&quot;this fucker is second:&quot;+ staff.getUsername());\n             staff.getShifts().remove(shiftToBeDeleted);\n             staffRepository.save(staff);\n         }\n         shiftsRepository.deleteById(shiftToBeDeleted.getId());\n         return &quot;Shift removed, assign the free staff to a different one.&quot;;\n     }\n}\n</code></pre>\n<p>it is supposed to delete a shift but it keeps returnning a violation of a foreign key constraint that i can't for the life of me fix.</p>\n<p>this is the shifts class :</p>\n<pre><code>public class Shifts {\n@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE)\nprivate Long id;\n@Temporal(TemporalType.TIME)\nprivate LocalTime shiftStart;\n@Temporal(TemporalType.TIME)\nprivate LocalTime shiftEnd;\n@ManyToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH})\n@JsonIgnore\nprivate Set&lt;Staff&gt; staff;}\n</code></pre>\n<p>this is the staff class :</p>\n<pre><code>public class Staff {\n@Id\nprivate Long id;\nprivate String username;\nprivate String password;\n@Enumerated(EnumType.STRING)\nprivate StaffStates state;\n@Enumerated(EnumType.STRING)\nprivate UserTypes type;\n\n\n@OneToOne( cascade = CascadeType.ALL)\n@MapsId\n@JoinColumn(name = &quot;id&quot;)\nprivate User user;\n\n@OneToMany(cascade = CascadeType.ALL)\n@JoinColumn(name = &quot;staff&quot;)\nprivate Set&lt;WorkHours&gt; workHoursSet;\n\n@ManyToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH})\n@JoinTable(\n        name = &quot;StaffShifts&quot;,\n        joinColumns = @JoinColumn(name = &quot;staffId&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;shiftId&quot;))\nprivate Set&lt;Shifts&gt; shifts;\n\n\n@ManyToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH})\n@JoinTable(\n        name = &quot;StaffPermissions&quot;,\n        joinColumns = @JoinColumn(name = &quot;staffid&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;permissionId&quot;))\n        private Set&lt;Permissions&gt; permissions;\n\n@OneToMany()\nprivate Set&lt;Transactions&gt; transactionsSet;\n</code></pre>\n<p>}</p>\n<p>i tried using cascade to solve the problem but cascade removal isn't recommended according to <a href=\"https://www.baeldung.com/jpa-remove-entity-many-to-many\" rel=\"nofollow noreferrer\">this</a></p>\n<p>Edit : the error is in getStaff.isEMpty(). somehow the list of staff pops up empty in that check but when i move to delete from it it throws a violated foreign key exception.</p>\n"},{"tags":["java","warnings","unchecked-conversion"],"answers":[{"comments":[{"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"score":0,"creation_date":1229324327,"post_id":367632,"comment_id":196828,"body_markdown":"You can also add an explicit cast.","body":"You can also add an explicit cast."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":4,"creation_date":1229325312,"post_id":367632,"comment_id":196839,"body_markdown":"A cast will just produce another warning, since the code is not type safe.","body":"A cast will just produce another warning, since the code is not type safe."},{"owner":{"account_id":4955819,"reputation":120,"user_id":3988453,"accept_rate":38,"display_name":"brettv"},"score":0,"creation_date":1512570522,"post_id":367632,"comment_id":82312140,"body_markdown":"`SyndFeed` comes from https://rometools.github.io/rome/ROMEReleases/ROME1.0Release.html. The problem seems to be fixed in more recent versions of Rome like the ones found at https://mvnrepository.com/artifact/com.rometools/rome/1.9.0","body":"<code>SyndFeed</code> comes from <a href=\"https://rometools.github.io/rome/ROMEReleases/ROME1.0Release.html\" rel=\"nofollow noreferrer\">rometools.github.io/rome/ROMEReleases/ROME1.0Release.html</a>. The problem seems to be fixed in more recent versions of Rome like the ones found at <a href=\"https://mvnrepository.com/artifact/com.rometools/rome/1.9.0\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.rometools/rome/1.9.0</a>"}],"tags":[],"owner":{"account_id":4169,"reputation":24716,"user_id":6180,"accept_rate":83,"display_name":"Alex B"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1470242323,"creation_date":1229324120,"answer_id":367632,"question_id":367626,"body_markdown":"Did you write the `SyndFeed`?\r\n\r\nDoes `sf.getEntries` return List or `List&lt;SyndEntry&gt;`?  My guess is it returns `List` and changing it to return `List&lt;SyndEntry&gt;` will fix the problem.\r\n\r\nIf `SyndFeed` is part of a library, I don&#39;t think you can remove the warning without adding the `@SuppressWarning(&quot;unchecked&quot;)` annotation to your method.","title":"How do I fix &quot;The expression of type List needs unchecked conversion...&#39;?","body":"<p>Did you write the <code>SyndFeed</code>?</p>\n\n<p>Does <code>sf.getEntries</code> return List or <code>List&lt;SyndEntry&gt;</code>?  My guess is it returns <code>List</code> and changing it to return <code>List&lt;SyndEntry&gt;</code> will fix the problem.</p>\n\n<p>If <code>SyndFeed</code> is part of a library, I don't think you can remove the warning without adding the <code>@SuppressWarning(\"unchecked\")</code> annotation to your method.</p>\n"},{"tags":[],"owner":{"account_id":16324,"reputation":5679,"user_id":35392,"accept_rate":83,"display_name":"Shyam Kumar Sundarakumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507188915,"creation_date":1229324155,"answer_id":367634,"question_id":367626,"body_markdown":"If you look at the javadoc for the class `SyndFeed` (I guess you are referring to the class `com.sun.syndication.feed.synd.SyndFeed`), the method getEntries() doesn&#39;t return `java.util.List&lt;SyndEntry&gt;`, but returns just `java.util.List`.\r\n\r\nSo you need an explicit cast for this.","title":"How do I fix &quot;The expression of type List needs unchecked conversion...&#39;?","body":"<p>If you look at the javadoc for the class <code>SyndFeed</code> (I guess you are referring to the class <code>com.sun.syndication.feed.synd.SyndFeed</code>), the method getEntries() doesn't return <code>java.util.List&lt;SyndEntry&gt;</code>, but returns just <code>java.util.List</code>.</p>\n\n<p>So you need an explicit cast for this.</p>\n"},{"comments":[{"owner":{"account_id":5110,"reputation":68784,"user_id":8047,"accept_rate":95,"display_name":"Dan Rosenstark"},"score":0,"creation_date":1400024664,"post_id":367649,"comment_id":36309870,"body_markdown":"Since they both suppress the warning, any advantages to one or the other, or a preference? Thanks!\n\nAlso: is the cast necessary if the unchecked suppression is in place?","body":"Since they both suppress the warning, any advantages to one or the other, or a preference? Thanks!  Also: is the cast necessary if the unchecked suppression is in place?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1400046317,"post_id":367649,"comment_id":36315469,"body_markdown":"@Yar: Well, `Collections.checkedList` will prevent the addition of any non-SyndEntry elements later. I personally don&#39;t use `checkedList` much, but then I also don&#39;t often get into this unchecked cast situation anyway...","body":"@Yar: Well, <code>Collections.checkedList</code> will prevent the addition of any non-SyndEntry elements later. I personally don&#39;t use <code>checkedList</code> much, but then I also don&#39;t often get into this unchecked cast situation anyway..."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":2,"down_vote_count":2,"up_vote_count":30,"is_accepted":false,"score":28,"last_activity_date":1368469403,"creation_date":1229324720,"answer_id":367649,"question_id":367626,"body_markdown":"It looks like `SyndFeed` is not using generics.\r\n\r\nYou could either have an unsafe cast and a warning suppression:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    List&lt;SyndEntry&gt; entries = (List&lt;SyndEntry&gt;) sf.getEntries();\r\n\r\nor call [Collections.checkedList][1] - although you&#39;ll still need to suppress the warning:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    List&lt;SyndEntry&gt; entries = Collections.checkedList(sf.getEntries(), SyndEntry.class);\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Collections.html#checkedList","title":"How do I fix &quot;The expression of type List needs unchecked conversion...&#39;?","body":"<p>It looks like <code>SyndFeed</code> is not using generics.</p>\n\n<p>You could either have an unsafe cast and a warning suppression:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\nList&lt;SyndEntry&gt; entries = (List&lt;SyndEntry&gt;) sf.getEntries();\n</code></pre>\n\n<p>or call <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Collections.html#checkedList\" rel=\"noreferrer\">Collections.checkedList</a> - although you'll still need to suppress the warning:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\nList&lt;SyndEntry&gt; entries = Collections.checkedList(sf.getEntries(), SyndEntry.class);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19668,"reputation":1749,"user_id":46277,"display_name":"user46277"},"score":11,"creation_date":1229405403,"post_id":367673,"comment_id":199465,"body_markdown":"Thanks -- that&#39;s an interesting insight about the &quot;warranty&quot; and the invisible cast done by the compiler versus a cast done explicitly in my own code.","body":"Thanks -- that&#39;s an interesting insight about the &quot;warranty&quot; and the invisible cast done by the compiler versus a cast done explicitly in my own code."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1229412748,"post_id":367673,"comment_id":199566,"body_markdown":"Yes, the value of un-reified generics is somewhat limited, but that is one thing it does provide. Just to clarify, this requires that your code compiles without type safety warnings.","body":"Yes, the value of un-reified generics is somewhat limited, but that is one thing it does provide. Just to clarify, this requires that your code compiles without type safety warnings."},{"owner":{"account_id":4563,"reputation":45936,"user_id":6918,"accept_rate":89,"display_name":"Bruno De Fraine"},"score":0,"creation_date":1274092280,"post_id":367673,"comment_id":2891311,"body_markdown":"Hi erickson, I agree that this indeed the best solution. Check my answer http://stackoverflow.com/questions/367626/how-do-i-fix-the-expression-of-type-list-needs-unchecked-conversion/2848268#2848268 for a generic version of this solution.","body":"Hi erickson, I agree that this indeed the best solution. Check my answer <a href=\"http://stackoverflow.com/questions/367626/how-do-i-fix-the-expression-of-type-list-needs-unchecked-conversion/2848268#2848268\" title=\"how do i fix the expression of type list needs unchecked conversion\">stackoverflow.com/questions/367626/&hellip;</a> for a generic version of this solution."}],"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":3,"down_vote_count":0,"up_vote_count":107,"is_accepted":true,"score":107,"last_activity_date":1229325803,"creation_date":1229325803,"answer_id":367673,"question_id":367626,"body_markdown":"Since `getEntries` returns a raw `List`, it could hold anything.\r\n\r\nThe warning-free approach is to create a new `List&lt;SyndEntry&gt;`, then cast each element of the `sf.getEntries()` result to `SyndEntry` before adding it to your new list. `Collections.checkedList` does *not* do this checking for you&amp;mdash;although it would have been possible to implement it to do so. \r\n\r\nBy doing your own cast up front, you&#39;re &quot;complying with the warranty terms&quot; of Java generics: if a `ClassCastException` is raised, it will be associated with a cast in the source code, not an invisible cast inserted by the compiler. \r\n","title":"How do I fix &quot;The expression of type List needs unchecked conversion...&#39;?","body":"<p>Since <code>getEntries</code> returns a raw <code>List</code>, it could hold anything.</p>\n\n<p>The warning-free approach is to create a new <code>List&lt;SyndEntry&gt;</code>, then cast each element of the <code>sf.getEntries()</code> result to <code>SyndEntry</code> before adding it to your new list. <code>Collections.checkedList</code> does <em>not</em> do this checking for you&mdash;although it would have been possible to implement it to do so. </p>\n\n<p>By doing your own cast up front, you're \"complying with the warranty terms\" of Java generics: if a <code>ClassCastException</code> is raised, it will be associated with a cast in the source code, not an invisible cast inserted by the compiler. </p>\n"},{"tags":[],"owner":{"account_id":19498,"reputation":1063,"user_id":45757,"display_name":"Boune"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1229400536,"creation_date":1229400536,"answer_id":370435,"question_id":367626,"body_markdown":"If you don&#39;t want to put @SuppressWarning(&quot;unchecked&quot;) on each sf.getEntries() call, you can always make a wrapper that will return List&lt;SyndEntry&gt;.\r\n\r\nSee [this other question][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/115692/how-to-avoid-type-safety-warnings-with-hibernate-hql-results#118976","title":"How do I fix &quot;The expression of type List needs unchecked conversion...&#39;?","body":"<p>If you don't want to put @SuppressWarning(\"unchecked\") on each sf.getEntries() call, you can always make a wrapper that will return List.</p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/115692/how-to-avoid-type-safety-warnings-with-hibernate-hql-results#118976\">this other question</a></p>\n"},{"comments":[{"owner":{"account_id":349327,"reputation":2203,"user_id":684549,"accept_rate":100,"display_name":"will824"},"score":5,"creation_date":1302887182,"post_id":2848268,"comment_id":51199158,"body_markdown":"Regarding the method suggested by Bruno, Wouldnt this hurt application performance when having Lists with many elements?. Java would have to cast each and every one of them.","body":"Regarding the method suggested by Bruno, Wouldnt this hurt application performance when having Lists with many elements?. Java would have to cast each and every one of them."},{"owner":{"account_id":2707688,"reputation":773,"user_id":2336934,"display_name":"dan"},"score":2,"creation_date":1493657069,"post_id":2848268,"comment_id":74489124,"body_markdown":"If you want guarantees, that is the cost.  Is there another less expensive option?  Obviously, if you have control over the invoked raw collection returning method, or even invoking the method or accessing the collection using a lazy-demand approach.  Anything that considers the entire collection after the method invocation?","body":"If you want guarantees, that is the cost.  Is there another less expensive option?  Obviously, if you have control over the invoked raw collection returning method, or even invoking the method or accessing the collection using a lazy-demand approach.  Anything that considers the entire collection after the method invocation?"}],"tags":[],"owner":{"account_id":4563,"reputation":45936,"user_id":6918,"accept_rate":89,"display_name":"Bruno De Fraine"},"comment_count":2,"down_vote_count":0,"up_vote_count":129,"is_accepted":false,"score":129,"last_activity_date":1274092183,"creation_date":1274092183,"answer_id":2848268,"question_id":367626,"body_markdown":"This is a common problem when dealing with pre-Java 5 APIs. To automate the [solution from erickson][1], you can create the following generic method:\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; castList(Class&lt;? extends T&gt; clazz, Collection&lt;?&gt; c) {\r\n        List&lt;T&gt; r = new ArrayList&lt;T&gt;(c.size());\r\n        for(Object o: c)\r\n          r.add(clazz.cast(o));\r\n        return r;\r\n    }\r\n\r\nThis allows you to do:\r\n\r\n    List&lt;SyndEntry&gt; entries = castList(SyndEntry.class, sf.getEntries());\r\n\r\nBecause this solution checks that the elements indeed have the correct element type by means of a cast, it is safe, and does not require `SuppressWarnings`.\r\n\r\n  [1]: https://stackoverflow.com/questions/367626/how-do-i-fix-the-expression-of-type-list-needs-unchecked-conversion/367673#367673","title":"How do I fix &quot;The expression of type List needs unchecked conversion...&#39;?","body":"<p>This is a common problem when dealing with pre-Java 5 APIs. To automate the <a href=\"https://stackoverflow.com/questions/367626/how-do-i-fix-the-expression-of-type-list-needs-unchecked-conversion/367673#367673\">solution from erickson</a>, you can create the following generic method:</p>\n\n<pre><code>public static &lt;T&gt; List&lt;T&gt; castList(Class&lt;? extends T&gt; clazz, Collection&lt;?&gt; c) {\n    List&lt;T&gt; r = new ArrayList&lt;T&gt;(c.size());\n    for(Object o: c)\n      r.add(clazz.cast(o));\n    return r;\n}\n</code></pre>\n\n<p>This allows you to do:</p>\n\n<pre><code>List&lt;SyndEntry&gt; entries = castList(SyndEntry.class, sf.getEntries());\n</code></pre>\n\n<p>Because this solution checks that the elements indeed have the correct element type by means of a cast, it is safe, and does not require <code>SuppressWarnings</code>.</p>\n"},{"comments":[{"owner":{"account_id":127944,"reputation":12148,"user_id":325452,"accept_rate":71,"display_name":"ingyhere"},"score":0,"creation_date":1363901102,"post_id":6019365,"comment_id":22049607,"body_markdown":"Then you would deal with proper casting (re-casting?) at usage time for each element in ArrayList&lt;?&gt;.","body":"Then you would deal with proper casting (re-casting?) at usage time for each element in ArrayList&lt;?&gt;."}],"tags":[],"owner":{"account_id":321153,"reputation":67,"user_id":639802,"display_name":"DennisTemper"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305558452,"creation_date":1305558452,"answer_id":6019365,"question_id":367626,"body_markdown":"Even easier\r\n\r\n`return new ArrayList&lt;?&gt;(getResultOfHibernateCallback(...))`","title":"How do I fix &quot;The expression of type List needs unchecked conversion...&#39;?","body":"<p>Even easier</p>\n\n<p><code>return new ArrayList&lt;?&gt;(getResultOfHibernateCallback(...))</code></p>\n"},{"tags":[],"owner":{"account_id":5477283,"reputation":4713,"user_id":4354956,"accept_rate":38,"display_name":"Joseph K. Strauss"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1418868713,"creation_date":1418868713,"answer_id":27538166,"question_id":367626,"body_markdown":"If you are using Guava and all you want to do is iterate through your values: \r\n\r\n    for(SyndEntry entry: Iterables.filter(sf.getEntries(), SyndEntry.class){\r\n      ...\r\n    }\r\n\r\nIf you need an actual List you can use \r\n\r\n    List&lt;SyndEntry&gt; list = Lists.newArrayList(\r\n        Iterables.filter(sf.getEntries(), SyndEntry.class));\r\n\r\nor\r\n\r\n    List&lt;SyndEntry&gt; list = ImmutableList.copyOf(\r\n        Iterables.filter(sf.getEntries(), SyndEntry.class));\r\n\r\n","title":"How do I fix &quot;The expression of type List needs unchecked conversion...&#39;?","body":"<p>If you are using Guava and all you want to do is iterate through your values: </p>\n\n<pre><code>for(SyndEntry entry: Iterables.filter(sf.getEntries(), SyndEntry.class){\n  ...\n}\n</code></pre>\n\n<p>If you need an actual List you can use </p>\n\n<pre><code>List&lt;SyndEntry&gt; list = Lists.newArrayList(\n    Iterables.filter(sf.getEntries(), SyndEntry.class));\n</code></pre>\n\n<p>or</p>\n\n<pre><code>List&lt;SyndEntry&gt; list = ImmutableList.copyOf(\n    Iterables.filter(sf.getEntries(), SyndEntry.class));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":145430,"reputation":5284,"user_id":355232,"accept_rate":62,"display_name":"sbrattla"},"score":2,"creation_date":1431075020,"post_id":30118243,"comment_id":48349171,"body_markdown":"Even if the code provided here solves the problem, i&#39;d encourage you to briefly explain why it does that. Please explain why the posted answer solves the issue.","body":"Even if the code provided here solves the problem, i&#39;d encourage you to briefly explain why it does that. Please explain why the posted answer solves the issue."}],"tags":[],"owner":{"account_id":6274721,"reputation":11,"user_id":4877730,"display_name":"Honglonglong"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1431070222,"creation_date":1431070222,"answer_id":30118243,"question_id":367626,"body_markdown":"    SyndFeedInput fr = new SyndFeedInput();\r\n    SyndFeed sf = fr.build(new XmlReader(myInputStream));\r\n    List&lt;?&gt; entries = sf.getEntries();","title":"How do I fix &quot;The expression of type List needs unchecked conversion...&#39;?","body":"<pre><code>SyndFeedInput fr = new SyndFeedInput();\nSyndFeed sf = fr.build(new XmlReader(myInputStream));\nList&lt;?&gt; entries = sf.getEntries();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13575484,"reputation":31,"user_id":9792963,"display_name":"Mathias Zajaczkowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637868599,"creation_date":1637868599,"answer_id":70116396,"question_id":367626,"body_markdown":"The answer of Bruno De Fraine is great. However if the size of input argument &quot;Collection&lt;?&gt; c&quot; is 0 then the routine crashes with null pointer.\r\nI suggest a minor improvement to avoid this (and I give the version for HashSet):\r\n\r\n    public static &lt;T&gt; HashSet&lt;T&gt; castHashSet(Class&lt;? extends T&gt; clazz, Collection&lt;?&gt; c) {\r\n      int cSize = (c == null) ? 0 : c.size();\r\n      HashSet&lt;T&gt; hashSet = new HashSet&lt;T&gt;(cSize);\r\n      if (c != null) {\r\n        for (Object o : c)\r\n          hashSet.add(clazz.cast(o));\r\n        }\r\n        return hashSet;\r\n    }","title":"How do I fix &quot;The expression of type List needs unchecked conversion...&#39;?","body":"<p>The answer of Bruno De Fraine is great. However if the size of input argument &quot;Collection&lt;?&gt; c&quot; is 0 then the routine crashes with null pointer.\nI suggest a minor improvement to avoid this (and I give the version for HashSet):</p>\n<pre><code>public static &lt;T&gt; HashSet&lt;T&gt; castHashSet(Class&lt;? extends T&gt; clazz, Collection&lt;?&gt; c) {\n  int cSize = (c == null) ? 0 : c.size();\n  HashSet&lt;T&gt; hashSet = new HashSet&lt;T&gt;(cSize);\n  if (c != null) {\n    for (Object o : c)\n      hashSet.add(clazz.cast(o));\n    }\n    return hashSet;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1048089,"reputation":81,"user_id":1052669,"display_name":"janmp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701209443,"creation_date":1701209443,"answer_id":77567454,"question_id":367626,"body_markdown":"Java 8 style\r\n\r\n    private static &lt;T&gt; List&lt;T&gt; castList(Class&lt;? extends T&gt; clazz, Collection&lt;?&gt; c) {\r\n            return c.stream().map(o -&gt; clazz.cast(o)).collect(Collectors.toList());\r\n    }","title":"How do I fix &quot;The expression of type List needs unchecked conversion...&#39;?","body":"<p>Java 8 style</p>\n<pre><code>private static &lt;T&gt; List&lt;T&gt; castList(Class&lt;? extends T&gt; clazz, Collection&lt;?&gt; c) {\n        return c.stream().map(o -&gt; clazz.cast(o)).collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":19668,"reputation":1749,"user_id":46277,"display_name":"user46277"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247537,"favorite_count":0,"down_vote_count":0,"up_vote_count":155,"accepted_answer_id":367673,"answer_count":11,"score":155,"last_activity_date":1701209443,"creation_date":1229323751,"question_id":367626,"body_markdown":"In the Java snippet:\r\n\r\n    SyndFeedInput fr = new SyndFeedInput();\r\n    SyndFeed sf = fr.build(new XmlReader(myInputStream));\r\n    List&lt;SyndEntry&gt; entries = sf.getEntries();\r\n\r\nthe last line generates the warning \r\n\r\n&quot;The expression of type `List` needs unchecked conversion to conform to `List&lt;SyndEntry&gt;`&quot;\r\n\r\nWhat&#39;s an appropriate way to fix this? \r\n\r\n\r\n","title":"How do I fix &quot;The expression of type List needs unchecked conversion...&#39;?","body":"<p>In the Java snippet:</p>\n\n<pre><code>SyndFeedInput fr = new SyndFeedInput();\nSyndFeed sf = fr.build(new XmlReader(myInputStream));\nList&lt;SyndEntry&gt; entries = sf.getEntries();\n</code></pre>\n\n<p>the last line generates the warning </p>\n\n<p>\"The expression of type <code>List</code> needs unchecked conversion to conform to <code>List&lt;SyndEntry&gt;</code>\"</p>\n\n<p>What's an appropriate way to fix this? </p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","dynamodb-mapper"],"owner":{"account_id":15906777,"reputation":107,"user_id":11477760,"display_name":"Justin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701209167,"creation_date":1701209167,"question_id":77567435,"body_markdown":"I would like to update a single field in a nested property in DynamoDB. I figured using the `UPDATE_SKIP_NULL_ATTRIBUTES` `SaveConfiguration` would allow me to do this, but that appears to not be the case.\r\n\r\nMy `DynamoDBTable`:\r\n```\r\n@Getter\r\n@Setter\r\n@DynamoDBTable(tableName = &quot;users&quot;)\r\npublic class User {\r\n    @DynamoDBHashKey(attributeName = &quot;Id&quot;)\r\n    @DynamoDBAutoGeneratedKey\r\n    private String id;\r\n\r\n    @DynamoDBAtribute\r\n    private String phone;\r\n\r\n    @DynamoDBAtribute\r\n    @DynamoDBTypeConvertedJson(targetType = Name.class)\r\n    private Name name;\r\n\r\n    @Getter\r\n    @Setter\r\n    @DynamoDBDocument\r\n    public static class Name {\r\n        @DynamoDBAttribute\r\n        private String first;\r\n\r\n        @DynamoDBAttribute\r\n        private String last;\r\n    }\r\n}\r\n```\r\nI have a `DynamoDBMapperConfig` initialized like so:\r\n```\r\nprivate final DynamoDBMapperConfig config = DynamoDBMapperConfig.builder().withSaveBheavior(DynamoDBMapperConfig.SaveBehavior.UPDATE_SKIP_NULL_ATTRIBUTES).build();\r\n```\r\nAnd to save the record, I call the following:\r\n```\r\nmapper.save(user, config);\r\n```\r\nwhere `mapper` is a `DynamoDBMapper` and `user` is a `User` shown above.\r\n\r\nThe issue is that despite using the `UPDATE_SKIP_NULL_ATTRIBUTES` configuration, if `user.name.last` is null, the DB record&#39;s `last` field gets updated to `null` as well instead of the field being ignored.\r\n\r\nThis issue does not occur for non-nested fields, such as `phone` - if `phone` is `null`, the record&#39;s current value does **not** get overwritten.\r\n\r\nIs there a way to make `UPDATE_SKIP_NULL_ATTRIBUTES` apply to nested objects as well? I simply need a way to modify single fields in nested objects.","title":"DynamoDB UPDATE_SKIP_NULL_ATTRIBUTES does not Apply to Complex Nested Properties","body":"<p>I would like to update a single field in a nested property in DynamoDB. I figured using the <code>UPDATE_SKIP_NULL_ATTRIBUTES</code> <code>SaveConfiguration</code> would allow me to do this, but that appears to not be the case.</p>\n<p>My <code>DynamoDBTable</code>:</p>\n<pre><code>@Getter\n@Setter\n@DynamoDBTable(tableName = &quot;users&quot;)\npublic class User {\n    @DynamoDBHashKey(attributeName = &quot;Id&quot;)\n    @DynamoDBAutoGeneratedKey\n    private String id;\n\n    @DynamoDBAtribute\n    private String phone;\n\n    @DynamoDBAtribute\n    @DynamoDBTypeConvertedJson(targetType = Name.class)\n    private Name name;\n\n    @Getter\n    @Setter\n    @DynamoDBDocument\n    public static class Name {\n        @DynamoDBAttribute\n        private String first;\n\n        @DynamoDBAttribute\n        private String last;\n    }\n}\n</code></pre>\n<p>I have a <code>DynamoDBMapperConfig</code> initialized like so:</p>\n<pre><code>private final DynamoDBMapperConfig config = DynamoDBMapperConfig.builder().withSaveBheavior(DynamoDBMapperConfig.SaveBehavior.UPDATE_SKIP_NULL_ATTRIBUTES).build();\n</code></pre>\n<p>And to save the record, I call the following:</p>\n<pre><code>mapper.save(user, config);\n</code></pre>\n<p>where <code>mapper</code> is a <code>DynamoDBMapper</code> and <code>user</code> is a <code>User</code> shown above.</p>\n<p>The issue is that despite using the <code>UPDATE_SKIP_NULL_ATTRIBUTES</code> configuration, if <code>user.name.last</code> is null, the DB record's <code>last</code> field gets updated to <code>null</code> as well instead of the field being ignored.</p>\n<p>This issue does not occur for non-nested fields, such as <code>phone</code> - if <code>phone</code> is <code>null</code>, the record's current value does <strong>not</strong> get overwritten.</p>\n<p>Is there a way to make <code>UPDATE_SKIP_NULL_ATTRIBUTES</code> apply to nested objects as well? I simply need a way to modify single fields in nested objects.</p>\n"},{"tags":["java","web-services","axis","socketexception"],"answers":[{"tags":[],"owner":{"account_id":2333642,"reputation":4060,"user_id":2046462,"accept_rate":63,"display_name":"Kannan Ramamoorthy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459543831,"creation_date":1459543831,"answer_id":36365638,"question_id":7344967,"body_markdown":"[This answer][1] explains the possibility of the error. And the answers to the question provides more details about the error.\r\n[This link][2] provides a solution which will fix when the error happens when the connection is timed out. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/31741436/2046462\r\n  [2]: https://issues.apache.org/jira/browse/AXIS-2316?focusedCommentId=14131498&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14131498","title":"Axis web service client error","body":"<p><a href=\"https://stackoverflow.com/a/31741436/2046462\">This answer</a> explains the possibility of the error. And the answers to the question provides more details about the error.\n<a href=\"https://issues.apache.org/jira/browse/AXIS-2316?focusedCommentId=14131498&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14131498\" rel=\"nofollow noreferrer\">This link</a> provides a solution which will fix when the error happens when the connection is timed out. </p>\n"}],"owner":{"account_id":57402,"reputation":29252,"user_id":171950,"accept_rate":55,"display_name":"Muhammad Hewedy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10549,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1701209055,"creation_date":1315469243,"question_id":7344967,"body_markdown":"One of our customers faced this error while calling our web service.\r\n\r\nI think this is because a connection problems from his side, but I need to know the exact reason.\r\n\r\nStack trace:\r\n\r\n    Error while calling 10108831-402TV04LF from Thread 1 occurred after 511441\r\n    AxisFault\r\n     faultCode: {http://schemas.xmlsoap.org/soap/envelope/}Server.userException\r\n     faultSubcode:\r\n     faultString: java.net.SocketException: Connection reset\r\n     faultActor:\r\n     faultNode:\r\n     faultDetail:\r\n            {http://xml.apache.org/axis/}stackTrace:java.net.SocketException: Connection reset\r\n            at java.net.SocketInputStream.read(Unknown Source)\r\n            at java.io.BufferedInputStream.fill(Unknown Source)\r\n            at java.io.BufferedInputStream.read(Unknown Source)\r\n            at org.apache.axis.transport.http.HTTPSender.readHeadersFromSocket(HTTPSender.java:583)\r\n            at org.apache.axis.transport.http.HTTPSender.invoke(HTTPSender.java:143)\r\n    \r\n            at org.apache.axis.strategies.InvocationStrategy.visit(InvocationStrategy.java:32)\r\n            at org.apache.axis.SimpleChain.doVisiting(SimpleChain.java:118)\r\n            at org.apache.axis.SimpleChain.invoke(SimpleChain.java:83)\r\n            at org.apache.axis.client.AxisClient.invoke(AxisClient.java:165)\r\n            at org.apache.axis.client.Call.invokeEngine(Call.java:2784)\r\n            at org.apache.axis.client.Call.invoke(Call.java:2767)\r\n            at org.apache.axis.client.Call.invoke(Call.java:2443)\r\n            at org.apache.axis.client.Call.invoke(Call.java:2366)\r\n            at org.apache.axis.client.Call.invoke(Call.java:1812)\r\n            at ABCWebService.ABCSearchWebserviceSoapHttpStub.getABCWebServiceData(ABCSearchWebserviceSoapHttpStub.java:206)\r\n            at ABCWebService.ABCSearchWebserviceProxy.getABCWebServiceData(ABCSearchWebserviceProxy.java:50)\r\n            at main.VericalWsThread.run(VericalWsThread.java:66)\r\n    \r\n            {http://xml.apache.org/axis/}hostname:WIN-IUMHLP6L0NU\r\n    \r\n    java.net.SocketException: Connection reset\r\n            at org.apache.axis.AxisFault.makeFault(AxisFault.java:101)\r\n            at org.apache.axis.transport.http.HTTPSender.invoke(HTTPSender.java:154)\r\n    \r\n            at org.apache.axis.strategies.InvocationStrategy.visit(InvocationStrategy.java:32)\r\n            at org.apache.axis.SimpleChain.doVisiting(SimpleChain.java:118)\r\n            at org.apache.axis.SimpleChain.invoke(SimpleChain.java:83)\r\n            at org.apache.axis.client.AxisClient.invoke(AxisClient.java:165)\r\n            at org.apache.axis.client.Call.invokeEngine(Call.java:2784)\r\n            at org.apache.axis.client.Call.invoke(Call.java:2767)\r\n            at org.apache.axis.client.Call.invoke(Call.java:2443)\r\n            at org.apache.axis.client.Call.invoke(Call.java:2366)\r\n            at org.apache.axis.client.Call.invoke(Call.java:1812)\r\n            at ABCWebService.ABCSearchWebserviceSoapHttpStub.getABCWebServiceData(ABCSearchWebserviceSoapHttpStub.java:206)\r\n            at ABCWebService.ABCSearchWebserviceProxy.getABCWebServiceData(ABCSearchWebserviceProxy.java:50)\r\n            at main.VericalWsThread.run(VericalWsThread.java:66)\r\n    Caused by: java.net.SocketException: Connection reset\r\n            at java.net.SocketInputStream.read(Unknown Source)\r\n            at java.io.BufferedInputStream.fill(Unknown Source)\r\n            at java.io.BufferedInputStream.read(Unknown Source)\r\n            at org.apache.axis.transport.http.HTTPSender.readHeadersFromSocket(HTTPSender.java:583)\r\n            at org.apache.axis.transport.http.HTTPSender.invoke(HTTPSender.java:143)\r\n    \r\n            ... 12 more\r\n\r\n","title":"Axis web service client error","body":"<p>One of our customers faced this error while calling our web service.</p>\n\n<p>I think this is because a connection problems from his side, but I need to know the exact reason.</p>\n\n<p>Stack trace:</p>\n\n<pre><code>Error while calling 10108831-402TV04LF from Thread 1 occurred after 511441\nAxisFault\n faultCode: {http://schemas.xmlsoap.org/soap/envelope/}Server.userException\n faultSubcode:\n faultString: java.net.SocketException: Connection reset\n faultActor:\n faultNode:\n faultDetail:\n        {http://xml.apache.org/axis/}stackTrace:java.net.SocketException: Connection reset\n        at java.net.SocketInputStream.read(Unknown Source)\n        at java.io.BufferedInputStream.fill(Unknown Source)\n        at java.io.BufferedInputStream.read(Unknown Source)\n        at org.apache.axis.transport.http.HTTPSender.readHeadersFromSocket(HTTPSender.java:583)\n        at org.apache.axis.transport.http.HTTPSender.invoke(HTTPSender.java:143)\n\n        at org.apache.axis.strategies.InvocationStrategy.visit(InvocationStrategy.java:32)\n        at org.apache.axis.SimpleChain.doVisiting(SimpleChain.java:118)\n        at org.apache.axis.SimpleChain.invoke(SimpleChain.java:83)\n        at org.apache.axis.client.AxisClient.invoke(AxisClient.java:165)\n        at org.apache.axis.client.Call.invokeEngine(Call.java:2784)\n        at org.apache.axis.client.Call.invoke(Call.java:2767)\n        at org.apache.axis.client.Call.invoke(Call.java:2443)\n        at org.apache.axis.client.Call.invoke(Call.java:2366)\n        at org.apache.axis.client.Call.invoke(Call.java:1812)\n        at ABCWebService.ABCSearchWebserviceSoapHttpStub.getABCWebServiceData(ABCSearchWebserviceSoapHttpStub.java:206)\n        at ABCWebService.ABCSearchWebserviceProxy.getABCWebServiceData(ABCSearchWebserviceProxy.java:50)\n        at main.VericalWsThread.run(VericalWsThread.java:66)\n\n        {http://xml.apache.org/axis/}hostname:WIN-IUMHLP6L0NU\n\njava.net.SocketException: Connection reset\n        at org.apache.axis.AxisFault.makeFault(AxisFault.java:101)\n        at org.apache.axis.transport.http.HTTPSender.invoke(HTTPSender.java:154)\n\n        at org.apache.axis.strategies.InvocationStrategy.visit(InvocationStrategy.java:32)\n        at org.apache.axis.SimpleChain.doVisiting(SimpleChain.java:118)\n        at org.apache.axis.SimpleChain.invoke(SimpleChain.java:83)\n        at org.apache.axis.client.AxisClient.invoke(AxisClient.java:165)\n        at org.apache.axis.client.Call.invokeEngine(Call.java:2784)\n        at org.apache.axis.client.Call.invoke(Call.java:2767)\n        at org.apache.axis.client.Call.invoke(Call.java:2443)\n        at org.apache.axis.client.Call.invoke(Call.java:2366)\n        at org.apache.axis.client.Call.invoke(Call.java:1812)\n        at ABCWebService.ABCSearchWebserviceSoapHttpStub.getABCWebServiceData(ABCSearchWebserviceSoapHttpStub.java:206)\n        at ABCWebService.ABCSearchWebserviceProxy.getABCWebServiceData(ABCSearchWebserviceProxy.java:50)\n        at main.VericalWsThread.run(VericalWsThread.java:66)\nCaused by: java.net.SocketException: Connection reset\n        at java.net.SocketInputStream.read(Unknown Source)\n        at java.io.BufferedInputStream.fill(Unknown Source)\n        at java.io.BufferedInputStream.read(Unknown Source)\n        at org.apache.axis.transport.http.HTTPSender.readHeadersFromSocket(HTTPSender.java:583)\n        at org.apache.axis.transport.http.HTTPSender.invoke(HTTPSender.java:143)\n\n        ... 12 more\n</code></pre>\n"},{"tags":["java","spring","maven","jasper-reports"],"owner":{"account_id":16228832,"reputation":1,"user_id":22524553,"display_name":"user154326"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701274893,"answer_count":0,"score":0,"last_activity_date":1701208936,"creation_date":1701208936,"question_id":77567422,"body_markdown":"I&#39;m trying to generate a report with a barcode using jasperResports, but it gives this error:\r\n\r\n```\r\nThere was an unexpected error (type=Internal Server Error, status=500).\r\norg/apache/batik/bridge/UserAgent\r\njava.lang.NoClassDefFoundError: org/apache/batik/bridge/UserAgent\r\n\tat net.sf.jasperreports.renderers.util.RendererUtil.getSvgDataSniffer(RendererUtil.java:164)\r\n\tat net.sf.jasperreports.renderers.util.RendererUtil.getSvgInfo(RendererUtil.java:133)\r\n\tat net.sf.jasperreports.renderers.util.RendererUtil.isSvgData(RendererUtil.java:114)\r\n\tat net.sf.jasperreports.renderers.util.RendererUtil.isSvgData(RendererUtil.java:153)\r\n\tat...\r\n```\r\n\r\nremembering this error when I add the barcode4j barcode\r\n\r\nI researched it and saw that I had to add this dependency in Maven&#39;s .POM:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\r\n    &lt;artifactId&gt;batik-bridge&lt;/artifactId&gt;\r\n    &lt;version&gt;1.11&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nmy complete .pom file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n       &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n       &lt;version&gt;3.1.5&lt;/version&gt;\r\n       &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;br.com.desktop&lt;/groupId&gt;\r\n    &lt;artifactId&gt;deskestoque&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;deskestoque&lt;/name&gt;\r\n    &lt;description&gt;projeto estoque&lt;/description&gt;\r\n    &lt;properties&gt;\r\n       &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n       &lt;!-- spring boot core --&gt;\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n       &lt;/dependency&gt;\r\n\r\n       &lt;!-- spring data and JPA --&gt;\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n       &lt;/dependency&gt;\r\n\r\n\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n          &lt;optional&gt;true&lt;/optional&gt;\r\n       &lt;/dependency&gt;\r\n\r\n       &lt;!-- MySQL JDBC connector --&gt;\r\n\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n          &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n       &lt;/dependency&gt;\r\n\r\n       &lt;!-- MariaDB JDBC connector --&gt;\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n          &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n       &lt;/dependency&gt;\r\n\r\n       &lt;!-- Lombok --&gt;\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n          &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n          &lt;optional&gt;true&lt;/optional&gt;\r\n       &lt;/dependency&gt;\r\n\r\n       &lt;!-- POJO Mapper --&gt;\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n          &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n          &lt;version&gt;2.4.4&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n\r\n       &lt;!-- JasperReports  --&gt;\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n          &lt;version&gt;6.20.0&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n\r\n       &lt;!--  commons --&gt;\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n          &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n          &lt;version&gt;3.2.1&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n       &lt;!--  barcode4j --&gt;\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;com.singingbush&lt;/groupId&gt;\r\n          &lt;artifactId&gt;barcode4j&lt;/artifactId&gt;\r\n          &lt;version&gt;2.2.1&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n\r\n       &lt;!--  barbecue --&gt;\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;net.sourceforge.barbecue&lt;/groupId&gt;\r\n          &lt;artifactId&gt;barbecue&lt;/artifactId&gt;\r\n          &lt;version&gt;1.5-beta1&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n       &lt;/dependency&gt;\r\n\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n          &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n          &lt;version&gt;RELEASE&lt;/version&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n       &lt;/dependency&gt;\r\n\r\n\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\r\n          &lt;artifactId&gt;batik-bridge&lt;/artifactId&gt;\r\n          &lt;version&gt;1.11&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n       &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n             &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n             &lt;configuration&gt;\r\n                &lt;image&gt;\r\n                   &lt;builder&gt;paketobuildpacks/builder-jammy-base:latest&lt;/builder&gt;\r\n                &lt;/image&gt;\r\n             &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n       &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;repositories&gt;\r\n       &lt;repository&gt;\r\n          &lt;id&gt;Maven Central&lt;/id&gt;\r\n          &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n       &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nBut you still get the error, does anyone know what it could be?\r\n\r\nI&#39;m trying to generate a PDF of a report but I&#39;m having this problem, if anyone knows a solution or something to help I&#39;d appreciate it, I&#39;ve been looking for a solution for a long time...","title":"Error when trying to generate a report with jasperReports barcode with spring","body":"<p>I'm trying to generate a report with a barcode using jasperResports, but it gives this error:</p>\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\norg/apache/batik/bridge/UserAgent\njava.lang.NoClassDefFoundError: org/apache/batik/bridge/UserAgent\n    at net.sf.jasperreports.renderers.util.RendererUtil.getSvgDataSniffer(RendererUtil.java:164)\n    at net.sf.jasperreports.renderers.util.RendererUtil.getSvgInfo(RendererUtil.java:133)\n    at net.sf.jasperreports.renderers.util.RendererUtil.isSvgData(RendererUtil.java:114)\n    at net.sf.jasperreports.renderers.util.RendererUtil.isSvgData(RendererUtil.java:153)\n    at...\n</code></pre>\n<p>remembering this error when I add the barcode4j barcode</p>\n<p>I researched it and saw that I had to add this dependency in Maven's .POM:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\n    &lt;artifactId&gt;batik-bridge&lt;/artifactId&gt;\n    &lt;version&gt;1.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>my complete .pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n       &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n       &lt;version&gt;3.1.5&lt;/version&gt;\n       &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;br.com.desktop&lt;/groupId&gt;\n    &lt;artifactId&gt;deskestoque&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;deskestoque&lt;/name&gt;\n    &lt;description&gt;projeto estoque&lt;/description&gt;\n    &lt;properties&gt;\n       &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n       &lt;!-- spring boot core --&gt;\n       &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n\n       &lt;!-- spring data and JPA --&gt;\n       &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n\n\n       &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n          &lt;scope&gt;runtime&lt;/scope&gt;\n          &lt;optional&gt;true&lt;/optional&gt;\n       &lt;/dependency&gt;\n\n       &lt;!-- MySQL JDBC connector --&gt;\n\n       &lt;dependency&gt;\n          &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n          &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n          &lt;scope&gt;runtime&lt;/scope&gt;\n       &lt;/dependency&gt;\n\n       &lt;!-- MariaDB JDBC connector --&gt;\n       &lt;dependency&gt;\n          &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n          &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n          &lt;scope&gt;runtime&lt;/scope&gt;\n       &lt;/dependency&gt;\n\n       &lt;!-- Lombok --&gt;\n       &lt;dependency&gt;\n          &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n          &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n          &lt;optional&gt;true&lt;/optional&gt;\n       &lt;/dependency&gt;\n\n       &lt;!-- POJO Mapper --&gt;\n       &lt;dependency&gt;\n          &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n          &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n          &lt;version&gt;2.4.4&lt;/version&gt;\n       &lt;/dependency&gt;\n\n       &lt;!-- JasperReports  --&gt;\n       &lt;dependency&gt;\n          &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n          &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n          &lt;version&gt;6.20.0&lt;/version&gt;\n       &lt;/dependency&gt;\n\n       &lt;!--  commons --&gt;\n       &lt;dependency&gt;\n          &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n          &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n          &lt;version&gt;3.2.1&lt;/version&gt;\n       &lt;/dependency&gt;\n       &lt;!--  barcode4j --&gt;\n       &lt;dependency&gt;\n          &lt;groupId&gt;com.singingbush&lt;/groupId&gt;\n          &lt;artifactId&gt;barcode4j&lt;/artifactId&gt;\n          &lt;version&gt;2.2.1&lt;/version&gt;\n       &lt;/dependency&gt;\n\n       &lt;!--  barbecue --&gt;\n       &lt;dependency&gt;\n          &lt;groupId&gt;net.sourceforge.barbecue&lt;/groupId&gt;\n          &lt;artifactId&gt;barbecue&lt;/artifactId&gt;\n          &lt;version&gt;1.5-beta1&lt;/version&gt;\n       &lt;/dependency&gt;\n\n       &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n          &lt;scope&gt;test&lt;/scope&gt;\n       &lt;/dependency&gt;\n\n       &lt;dependency&gt;\n          &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n          &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n          &lt;version&gt;RELEASE&lt;/version&gt;\n          &lt;scope&gt;compile&lt;/scope&gt;\n       &lt;/dependency&gt;\n\n\n       &lt;dependency&gt;\n          &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\n          &lt;artifactId&gt;batik-bridge&lt;/artifactId&gt;\n          &lt;version&gt;1.11&lt;/version&gt;\n       &lt;/dependency&gt;\n\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n       &lt;plugins&gt;\n          &lt;plugin&gt;\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n             &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n             &lt;configuration&gt;\n                &lt;image&gt;\n                   &lt;builder&gt;paketobuildpacks/builder-jammy-base:latest&lt;/builder&gt;\n                &lt;/image&gt;\n             &lt;/configuration&gt;\n          &lt;/plugin&gt;\n       &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n       &lt;repository&gt;\n          &lt;id&gt;Maven Central&lt;/id&gt;\n          &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n       &lt;/repository&gt;\n    &lt;/repositories&gt;\n&lt;/project&gt;\n</code></pre>\n<p>But you still get the error, does anyone know what it could be?</p>\n<p>I'm trying to generate a PDF of a report but I'm having this problem, if anyone knows a solution or something to help I'd appreciate it, I've been looking for a solution for a long time...</p>\n"},{"tags":["java","svg","javafx-8"],"comments":[{"owner":{"account_id":121881,"reputation":20677,"user_id":315306,"accept_rate":90,"display_name":"Raffaele"},"score":0,"creation_date":1456149910,"post_id":35555338,"comment_id":58799199,"body_markdown":"What do you use such a measure for? Can&#39;t the system guess the initial value and let the user configure it?","body":"What do you use such a measure for? Can&#39;t the system guess the initial value and let the user configure it?"},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1456150379,"post_id":35555338,"comment_id":58799540,"body_markdown":"Well, this is a good question: the short answer is I forked that library, and just wanted to do a pull request without any structural change. The long answer is that I include the FX Component &quot;Image&quot; without configuring it, because it&#39;s an internal JavaFX Component and I don&#39;t want to wrap it, and let the scale compute itself for hig-density display. But there is also an hidden question: how to deal with javaFX internal API, and Java SE compatibility breaks?","body":"Well, this is a good question: the short answer is I forked that library, and just wanted to do a pull request without any structural change. The long answer is that I include the FX Component &quot;Image&quot; without configuring it, because it&#39;s an internal JavaFX Component and I don&#39;t want to wrap it, and let the scale compute itself for hig-density display. But there is also an hidden question: how to deal with javaFX internal API, and Java SE compatibility breaks?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1456153831,"post_id":35555338,"comment_id":58802058,"body_markdown":"the obvious answer to the hidden question: don&#39;t use internal api or suffer its bites later on :-) My personal pref is the latter which is not always possible, though","body":"the obvious answer to the hidden question: don&#39;t use internal api or suffer its bites later on :-) My personal pref is the latter which is not always possible, though"},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1456155395,"post_id":35555338,"comment_id":58803439,"body_markdown":"@kleopatra You are right, this is why I don&#39;t like any of my 3 solutions. The problem is I don&#39;t see how to provide our own components with this API, since the quantum layer for example is not part of the public API:h ttp://docs.oracle.com/javafx/2/architecture/jfxpub-architecture.htm","body":"@kleopatra You are right, this is why I don&#39;t like any of my 3 solutions. The problem is I don&#39;t see how to provide our own components with this API, since the quantum layer for example is not part of the public API:h ttp://docs.oracle.com/javafx/2/architecture/jfxpub-architect&zwnj;&#8203;ure.htm"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1456159015,"post_id":35555338,"comment_id":58806103,"body_markdown":"you might consider posting to the fx dev mailinglist http://mail.openjdk.java.net/mailman/listinfo/openjfx-dev - api can be changed (a bit late in the game for 9, though)","body":"you might consider posting to the fx dev mailinglist <a href=\"http://mail.openjdk.java.net/mailman/listinfo/openjfx-dev\" rel=\"nofollow noreferrer\">mail.openjdk.java.net/mailman/listinfo/openjfx-dev</a> - api can be changed (a bit late in the game for 9, though)"}],"answers":[{"comments":[{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1456154899,"post_id":35557164,"comment_id":58802990,"body_markdown":"It is what thought, but it still uses internal API, just hide it with reflection, and will fail if it is renamed again in the future. we may add another catch with a fallback if none method exists. Adding +1 anyway since it answer to the &quot;how to deal with Java SE compatibility breaks&quot;.","body":"It is what thought, but it still uses internal API, just hide it with reflection, and will fail if it is renamed again in the future. we may add another catch with a fallback if none method exists. Adding +1 anyway since it answer to the &quot;how to deal with Java SE compatibility breaks&quot;."}],"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456153939,"creation_date":1456153939,"answer_id":35557164,"question_id":35555338,"body_markdown":"I wrote a helper method for myself like this.\r\n\r\n\tpublic static double getRenderScale(Screen screen) throws NoSuchMethodException, SecurityException, IllegalAccessException, IllegalArgumentException, InvocationTargetException {\r\n\t\tMethod m;\r\n\t\ttry {\r\n\t\t\tm = Screen.class.getDeclaredMethod(&quot;getScale&quot;); // until 8u60 b15\r\n\t\t} catch (NoSuchMethodException e) {\r\n\t\t\tm = Screen.class.getDeclaredMethod(&quot;getRenderScale&quot;);\r\n\t\t}\r\n\t\tm.setAccessible(true);\r\n\t\treturn ((Float) m.invoke(screen)).doubleValue();\r\n\t}\r\n\r\nIt&#39;s a brute force approach but I haven&#39;t found anything better.","title":"get Screen scale in JavaFX using only public API","body":"<p>I wrote a helper method for myself like this.</p>\n\n<pre><code>public static double getRenderScale(Screen screen) throws NoSuchMethodException, SecurityException, IllegalAccessException, IllegalArgumentException, InvocationTargetException {\n    Method m;\n    try {\n        m = Screen.class.getDeclaredMethod(\"getScale\"); // until 8u60 b15\n    } catch (NoSuchMethodException e) {\n        m = Screen.class.getDeclaredMethod(\"getRenderScale\");\n    }\n    m.setAccessible(true);\n    return ((Float) m.invoke(screen)).doubleValue();\n}\n</code></pre>\n\n<p>It's a brute force approach but I haven't found anything better.</p>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701208827,"creation_date":1701208464,"answer_id":77567379,"question_id":35555338,"body_markdown":"In JavaFX 9, new public APIs were added to the `Screen` class:\r\n\r\n  * [`getOutputScaleX()`][1]\r\n  * [`getOutputScaleY()`][2]\r\n\r\nFor the x output scale, the documentation reads:\r\n\r\n&gt; Gets the recommended output scale factor of this Screen in the horizontal (X) direction. This scale factor should be applied to a scene in order to compensate for the resolution and viewing distance of the output device. The visual bounds will be reported relative to this scale factor.\r\n\r\nOperation is similar for the y output scale.\r\n\r\nHow the output scale works in practice is described in these related answers:\r\n\r\n * [How to make JavaFX tell if I&#39;m on a 4k or 1080p][3] \r\n * [Controlling UI Scaling on Multiple Monitors with Different Scaling Factors in Swing/JavaFX][4]\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/21/javafx.graphics/javafx/stage/Screen.html#getOutputScaleX()\r\n  [2]: https://openjfx.io/javadoc/21/javafx.graphics/javafx/stage/Screen.html#getOutputScaleY()\r\n  [3]: https://screenhttps://stackoverflow.com/a/74706529/1155209\r\n  [4]: https://stackoverflow.com/a/77567031/1155209","title":"get Screen scale in JavaFX using only public API","body":"<p>In JavaFX 9, new public APIs were added to the <code>Screen</code> class:</p>\n<ul>\n<li><a href=\"https://openjfx.io/javadoc/21/javafx.graphics/javafx/stage/Screen.html#getOutputScaleX()\" rel=\"nofollow noreferrer\"><code>getOutputScaleX()</code></a></li>\n<li><a href=\"https://openjfx.io/javadoc/21/javafx.graphics/javafx/stage/Screen.html#getOutputScaleY()\" rel=\"nofollow noreferrer\"><code>getOutputScaleY()</code></a></li>\n</ul>\n<p>For the x output scale, the documentation reads:</p>\n<blockquote>\n<p>Gets the recommended output scale factor of this Screen in the horizontal (X) direction. This scale factor should be applied to a scene in order to compensate for the resolution and viewing distance of the output device. The visual bounds will be reported relative to this scale factor.</p>\n</blockquote>\n<p>Operation is similar for the y output scale.</p>\n<p>How the output scale works in practice is described in these related answers:</p>\n<ul>\n<li><a href=\"https://screenhttps://stackoverflow.com/a/74706529/1155209\" rel=\"nofollow noreferrer\">How to make JavaFX tell if I'm on a 4k or 1080p</a></li>\n<li><a href=\"https://stackoverflow.com/a/77567031/1155209\">Controlling UI Scaling on Multiple Monitors with Different Scaling Factors in Swing/JavaFX</a></li>\n</ul>\n"}],"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":868,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1701208827,"creation_date":1456148894,"question_id":35555338,"body_markdown":"I&#39;m trying to make a JavaFX library, that display SVG File as image, work with all Java 8 version:https://github.com/codecentric/javafxsvg\r\n\r\nThe problem is that it uses the renderScale attributes of java.fx.Screen, which is private and doesn&#39;t seem to have direct or indirect accessor in public API.\r\n\r\nThe value is 1.0f in most case, and can be 2.0f for Retina display on Mac.\r\n\r\n    com.sun.javafx.tk.quantum.QuantumToolkit.getMaxRenderScale();\r\n\r\n This gives the value I want, but is in com.sun package so not in public API, and can change (and DO change, see renaming below) between minor versions.\r\n\r\n\r\n    com.sun.glass.ui.Screen.getRenderScale();\r\nIs not in public API and was named getScale() in previous version.\r\n\r\nThe same renaming for this following accessor whose purpose was to expose the internal attributes!\r\n\r\n                 \r\n    com.sun.javafx.stage.ScreenHelper.getScreenAccessor(Screen).getRenderScale();\r\n    // was ScreenHelper.getScreenAccessor(Screen).getScale()  in previous version\r\n\r\n\r\nIf I use theses internal API, it can work for the last version: 1.8.0_74, but gives a NoSuchMethodError for certain previous versions (1.8.0_51 for example).\r\n\r\nHow can i make it work for all java 8 version of the jre?\r\n\r\nNote that i tried the naive approach to compute it from dpi, but I should only get rounded value (1.0 or 2.0) and I don&#39;t have the rule for the scale computation.\r\n","title":"get Screen scale in JavaFX using only public API","body":"<p>I'm trying to make a JavaFX library, that display SVG File as image, work with all Java 8 version:<a href=\"https://github.com/codecentric/javafxsvg\" rel=\"nofollow\">https://github.com/codecentric/javafxsvg</a></p>\n\n<p>The problem is that it uses the renderScale attributes of java.fx.Screen, which is private and doesn't seem to have direct or indirect accessor in public API.</p>\n\n<p>The value is 1.0f in most case, and can be 2.0f for Retina display on Mac.</p>\n\n<pre><code>com.sun.javafx.tk.quantum.QuantumToolkit.getMaxRenderScale();\n</code></pre>\n\n<p>This gives the value I want, but is in com.sun package so not in public API, and can change (and DO change, see renaming below) between minor versions.</p>\n\n<pre><code>com.sun.glass.ui.Screen.getRenderScale();\n</code></pre>\n\n<p>Is not in public API and was named getScale() in previous version.</p>\n\n<p>The same renaming for this following accessor whose purpose was to expose the internal attributes!</p>\n\n<pre><code>com.sun.javafx.stage.ScreenHelper.getScreenAccessor(Screen).getRenderScale();\n// was ScreenHelper.getScreenAccessor(Screen).getScale()  in previous version\n</code></pre>\n\n<p>If I use theses internal API, it can work for the last version: 1.8.0_74, but gives a NoSuchMethodError for certain previous versions (1.8.0_51 for example).</p>\n\n<p>How can i make it work for all java 8 version of the jre?</p>\n\n<p>Note that i tried the naive approach to compute it from dpi, but I should only get rounded value (1.0 or 2.0) and I don't have the rule for the scale computation.</p>\n"},{"tags":["java","swing","user-interface","import","jframe"],"owner":{"account_id":30016934,"reputation":1,"user_id":23003201,"display_name":"marvin789_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701208668,"answer_count":0,"score":-1,"last_activity_date":1701208700,"creation_date":1701208590,"question_id":77567395,"body_markdown":"\r\n```\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\n```\r\n\r\ni tried to import the swing JFrame to my project but eclipse tells me &quot;The type javax.swing.JFrame is not accessible&quot;.\r\n\r\n\r\n\r\n\r\nplease help me with my problem. ","title":"I cant create a GUI in Eclipse","body":"<pre><code>import javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\n</code></pre>\n<p>i tried to import the swing JFrame to my project but eclipse tells me &quot;The type javax.swing.JFrame is not accessible&quot;.</p>\n<p>please help me with my problem.</p>\n"},{"tags":["java","list","optimization","arraylist","java-stream"],"comments":[{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1701207029,"post_id":77567241,"comment_id":136746270,"body_markdown":"why `getClientName` returns nothing ?","body":"why <code>getClientName</code> returns nothing ?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1701207260,"post_id":77567241,"comment_id":136746292,"body_markdown":"`myCustomer.cID == customerID` is not doing what you thing it does.","body":"<code>myCustomer.cID == customerID</code> is not doing what you thing it does."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1701207360,"post_id":77567241,"comment_id":136746309,"body_markdown":"`getClientName` does not return anything, it should return a `String`.","body":"<code>getClientName</code> does not return anything, it should return a <code>String</code>."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701207656,"post_id":77567241,"comment_id":136746359,"body_markdown":"*&quot;Maybe there&#39;s a simpler way to count subscribed customers and searching for customers by ID?&quot;*  Well, for getting total number of subscriptions, you could have a variable something like `static int totalSubscriptions = 0;` and increment it each time `activateSubscription` *acutally changes* the subscription to `true`.","body":"<i>&quot;Maybe there&#39;s a simpler way to count subscribed customers and searching for customers by ID?&quot;</i>  Well, for getting total number of subscriptions, you could have a variable something like <code>static int totalSubscriptions = 0;</code> and increment it each time <code>activateSubscription</code> <i>acutally changes</i> the subscription to <code>true</code>."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701207853,"post_id":77567241,"comment_id":136746391,"body_markdown":"You could also improve performance by using a `HashMap`. But, since you seem to be very new, it might be better to learn about that later.","body":"You could also improve performance by using a <code>HashMap</code>. But, since you seem to be very new, it might be better to learn about that later."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701208107,"post_id":77567241,"comment_id":136746429,"body_markdown":"One thing you can do is eliminate compiler errors. In a method that has a `void` return type, there cannot be something after the `return` keyword.","body":"One thing you can do is eliminate compiler errors. In a method that has a <code>void</code> return type, there cannot be something after the <code>return</code> keyword."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1701209032,"post_id":77567241,"comment_id":136746592,"body_markdown":"== only works with primitive types.  == on object types is the identity check.  Strings are objects.  you will want to use equals with objects.","body":"== only works with primitive types.  == on object types is the identity check.  Strings are objects.  you will want to use equals with objects."}],"answers":[{"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1701208382,"post_id":77567266,"comment_id":136746485,"body_markdown":"imho the `orElseThrow` combined with `catch` should be replaced with `map(Client::getFullName).orElse(null);`","body":"imho the <code>orElseThrow</code> combined with <code>catch</code> should be replaced with <code>map(Client::getFullName).orElse(null);</code>"}],"tags":[],"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701208548,"creation_date":1701207254,"answer_id":77567266,"question_id":77567241,"body_markdown":"Using `Streams` you can simplify it yes\r\n\r\n    public long getNumberOfSubscription() {\r\n        return myClient.stream().filter(Client::getSubscription).count();\r\n    }\r\n\r\n    public void activateSubscription(String customerID) {\r\n        myClient.stream().filter(c -&gt; c.getcID().equals(customerID))\r\n                .findFirst()\r\n                .ifPresent(client -&gt; client.setSubscription(true));\r\n    }\r\n\r\n    public String getClientName(String customerID) {\r\n        return myClient.stream().filter(c -&gt; c.getcID().equals(customerID))\r\n                .map(Client::getFullName).findFirst().orElse(null);\r\n    }","title":"Java - How to search for a value in the list of objects","body":"<p>Using <code>Streams</code> you can simplify it yes</p>\n<pre><code>public long getNumberOfSubscription() {\n    return myClient.stream().filter(Client::getSubscription).count();\n}\n\npublic void activateSubscription(String customerID) {\n    myClient.stream().filter(c -&gt; c.getcID().equals(customerID))\n            .findFirst()\n            .ifPresent(client -&gt; client.setSubscription(true));\n}\n\npublic String getClientName(String customerID) {\n    return myClient.stream().filter(c -&gt; c.getcID().equals(customerID))\n            .map(Client::getFullName).findFirst().orElse(null);\n}\n</code></pre>\n"}],"owner":{"account_id":2166347,"reputation":71,"user_id":1919389,"display_name":"Qmails"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701209205,"answer_count":1,"score":0,"last_activity_date":1701208548,"creation_date":1701206923,"question_id":77567241,"body_markdown":"For example i have list, class and methods:\r\n```\r\nList&lt;Client&gt; myClient = new ArrayList&lt;&gt;();\r\n```\r\n\r\n```\r\npublic class Client {\r\n    String firstName;\r\n    String lastName;\r\n    String cID;\r\n    boolean subscription = false;\r\n}\r\n```\r\n\r\n```\r\npublic String activateSubscription(String customerID){\r\n    for( Client myCustomer: myClient ){\r\n        if( myCustomer.cID == customerID ){\r\n            myCustomer.setSubscription();\r\n            break;\r\n        }\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\npublic void getClientName(String customerID){\r\n    String nameCustomer = null;\r\n\r\n    for( Client myCustomer: myClient ){\r\n        if( myClient.clientID == customerID ){\r\n            nameCustomer = myCustomer.getFullName();\r\n            break;\r\n        }\r\n    }\r\n\r\n    return nameCustomer;\r\n}\r\n\r\npublic int getNumberOfSubsrtipion(){\r\n    int count = 0;\r\n\r\n    for( Client myCustomer: myClient ){\r\n        if( myCustomer.getSubscription ){\r\n            count += 1;\r\n        }\r\n    }\r\n\r\n    return count;\r\n}\r\n```\r\n\r\nI&#39;m new to Java, and I wondering if it&#39;s possible to simplify this code?\r\n\r\nMaybe there&#39;s a simpler way to count subscribed customers and searching for customers by ID?","title":"Java - How to search for a value in the list of objects","body":"<p>For example i have list, class and methods:</p>\n<pre><code>List&lt;Client&gt; myClient = new ArrayList&lt;&gt;();\n</code></pre>\n<pre><code>public class Client {\n    String firstName;\n    String lastName;\n    String cID;\n    boolean subscription = false;\n}\n</code></pre>\n<pre><code>public String activateSubscription(String customerID){\n    for( Client myCustomer: myClient ){\n        if( myCustomer.cID == customerID ){\n            myCustomer.setSubscription();\n            break;\n        }\n    }\n\n    return null;\n}\n\npublic void getClientName(String customerID){\n    String nameCustomer = null;\n\n    for( Client myCustomer: myClient ){\n        if( myClient.clientID == customerID ){\n            nameCustomer = myCustomer.getFullName();\n            break;\n        }\n    }\n\n    return nameCustomer;\n}\n\npublic int getNumberOfSubsrtipion(){\n    int count = 0;\n\n    for( Client myCustomer: myClient ){\n        if( myCustomer.getSubscription ){\n            count += 1;\n        }\n    }\n\n    return count;\n}\n</code></pre>\n<p>I'm new to Java, and I wondering if it's possible to simplify this code?</p>\n<p>Maybe there's a simpler way to count subscribed customers and searching for customers by ID?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":4,"creation_date":1701208183,"post_id":77567345,"comment_id":136746447,"body_markdown":"There&#39;s no reason to make this change. It&#39;s mostly stylistic.","body":"There&#39;s no reason to make this change. It&#39;s mostly stylistic."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1701208230,"post_id":77567345,"comment_id":136746460,"body_markdown":"In this case, it has not much value to change one to the other. `forEach` utilizes the stream api which is associated with functional style programming, the other is a classic enhanced loop. Both are equally readable.","body":"In this case, it has not much value to change one to the other. <code>forEach</code> utilizes the stream api which is associated with functional style programming, the other is a classic enhanced loop. Both are equally readable."},{"owner":{"account_id":20793950,"reputation":23,"user_id":15271405,"display_name":"Sman"},"score":0,"creation_date":1701208256,"post_id":77567345,"comment_id":136746463,"body_markdown":"Seems pretty verbose for an otherwise identical approach? Performance changes? @Unmitigated","body":"Seems pretty verbose for an otherwise identical approach? Performance changes? @Unmitigated"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1701208292,"post_id":77567345,"comment_id":136746467,"body_markdown":"_&quot;... Is there a standard for Java ...&quot;_, no.  I imagine it&#39;s just a recommendation.","body":"<i>&quot;... Is there a standard for Java ...&quot;</i>, no.  I imagine it&#39;s just a recommendation."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1701208601,"post_id":77567345,"comment_id":136746519,"body_markdown":"@f1sh The `Iterable#forEach(Consumer)` method does not utilize streams. Or, more accurately, the [default implementation](https://github.com/openjdk/jdk/blob/ce4e6e2bd704a90abc8e8e1586325769076c208a/src/java.base/share/classes/java/lang/Iterable.java#L72) does not use streams (nor am I aware of any implementation that does, and I find it unlikely any implementation would).","body":"@f1sh The <code>Iterable#forEach(Consumer)</code> method does not utilize streams. Or, more accurately, the <a href=\"https://github.com/openjdk/jdk/blob/ce4e6e2bd704a90abc8e8e1586325769076c208a/src/java.base/share/classes/java/lang/Iterable.java#L72\" rel=\"nofollow noreferrer\">default implementation</a> does not use streams (nor am I aware of any implementation that does, and I find it unlikely any implementation would)."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1701208909,"post_id":77567345,"comment_id":136746572,"body_markdown":"@Slaw damn, i confused it with `stream().forEach()` and you are correct.","body":"@Slaw damn, i confused it with <code>stream().forEach()</code> and you are correct."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1701209340,"post_id":77567345,"comment_id":136746644,"body_markdown":"Nothing is wrong with either one but one may be more readable: one statement vs a loop.  To print each numbers in a list of integer: ``` list.forEach(System.out::println);```","body":"Nothing is wrong with either one but one may be more readable: one statement vs a loop.  To print each numbers in a list of integer: ``` list.forEach(System.out::println);```"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701208487,"creation_date":1701208487,"answer_id":77567383,"question_id":77567345,"body_markdown":"This is mostly a matter of style.\r\n\r\nFor example, `Iterable#forEach` is implemented in OpenJDK by just using an enhanced for loop:\r\n\r\n```java\r\ndefault void forEach(Consumer&lt;? super T&gt; action) {\r\n\tObjects.requireNonNull(action);\r\n\tfor (T t : this) {\r\n\t\taction.accept(t);\r\n\t}\r\n}\r\n```\r\n\r\nThe main difference between using an enhanced for loop and `forEach` is that you can only access effectively final local variables in the `Consumer` passed to `forEach`. If you want to assign to local variables, then an enhanced for loop is clearly the better choice.","title":"a.ForEach vs. for (Type a: collection)","body":"<p>This is mostly a matter of style.</p>\n<p>For example, <code>Iterable#forEach</code> is implemented in OpenJDK by just using an enhanced for loop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>default void forEach(Consumer&lt;? super T&gt; action) {\n    Objects.requireNonNull(action);\n    for (T t : this) {\n        action.accept(t);\n    }\n}\n</code></pre>\n<p>The main difference between using an enhanced for loop and <code>forEach</code> is that you can only access effectively final local variables in the <code>Consumer</code> passed to <code>forEach</code>. If you want to assign to local variables, then an enhanced for loop is clearly the better choice.</p>\n"}],"owner":{"account_id":20793950,"reputation":23,"user_id":15271405,"display_name":"Sman"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77567383,"answer_count":1,"score":1,"last_activity_date":1701208487,"creation_date":1701208091,"question_id":77567345,"body_markdown":"When playing with iterations, netbeans recommended using a functional approach to iteration. \r\n\r\nThe original method was: \r\n```java\r\nfor (Type obj : collection) {\r\n    foo();\r\n}\r\n```\r\n\r\nThough, netbeans highlighted this implementation approach and recommended:\r\n```java\r\ncollection.forEach((obj) -&gt; {\r\n    foo();\r\n});\r\n```\r\n\r\nWhy would this be preferable? Is there a standard for Java (similar to PEP8 for Python) that recommends the functional approach over the prior implementation strategy? \r\n\r\nWhat, if anything, is changing under the hood between these two approaches? \r\n\r\nThis seems to be a difference of syntactic sugar?","title":"a.ForEach vs. for (Type a: collection)","body":"<p>When playing with iterations, netbeans recommended using a functional approach to iteration.</p>\n<p>The original method was:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (Type obj : collection) {\n    foo();\n}\n</code></pre>\n<p>Though, netbeans highlighted this implementation approach and recommended:</p>\n<pre class=\"lang-java prettyprint-override\"><code>collection.forEach((obj) -&gt; {\n    foo();\n});\n</code></pre>\n<p>Why would this be preferable? Is there a standard for Java (similar to PEP8 for Python) that recommends the functional approach over the prior implementation strategy?</p>\n<p>What, if anything, is changing under the hood between these two approaches?</p>\n<p>This seems to be a difference of syntactic sugar?</p>\n"},{"tags":["java"],"owner":{"account_id":27820654,"reputation":21,"user_id":21241117,"display_name":"hamburger2506"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701208472,"creation_date":1701208472,"question_id":77567380,"body_markdown":"I&#39;ve just fixed my jar association so that my OpenJDK platform binary I could select in the open file with menu actually runs the jar program I&#39;ve been trying to run. Actually only one of the multiple OpenJDK platform binaries makes the programm run, which makes me think they are all for different java versions but than I can&#39;t see the java version they run. I&#39;m new to this so if anyone can explain me why there is multiple OpenJDK platform binaries or why where are that would be much appreciated. [![Multiple OpenJDK platform binaries in windows file explorer open width function](https://i.stack.imgur.com/LIS9M.png)](https://i.stack.imgur.com/LIS9M.png) There is also a 3rd one but it is a lot further down\r\n\r\nI searched for answers to this problem for quite a bit and found only a screenshot of someone else on I think macOS who had a java version next to the OpenJDK system libraries, but I cannot find the post on which the screenshot was anymore.","title":"Multiple OpenJDK platform binary in Open With menu on windows","body":"<p>I've just fixed my jar association so that my OpenJDK platform binary I could select in the open file with menu actually runs the jar program I've been trying to run. Actually only one of the multiple OpenJDK platform binaries makes the programm run, which makes me think they are all for different java versions but than I can't see the java version they run. I'm new to this so if anyone can explain me why there is multiple OpenJDK platform binaries or why where are that would be much appreciated. <a href=\"https://i.stack.imgur.com/LIS9M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LIS9M.png\" alt=\"Multiple OpenJDK platform binaries in windows file explorer open width function\" /></a> There is also a 3rd one but it is a lot further down</p>\n<p>I searched for answers to this problem for quite a bit and found only a screenshot of someone else on I think macOS who had a java version next to the OpenJDK system libraries, but I cannot find the post on which the screenshot was anymore.</p>\n"},{"tags":["java","file-handling"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1701162958,"post_id":77562500,"comment_id":136738153,"body_markdown":"Resources are not files. Use `getResource()` or `getResourceAsURL()`. Neither [tag:netbeans], [tag:windows], nor even (God help us) [tag:computer-science] has anything to do with it/","body":"Resources are not files. Use <code>getResource()</code> or <code>getResourceAsURL()</code>. Neither <a href=\"https://stackoverflow.com/questions/tagged/netbeans\">netbeans</a>, <a href=\"https://stackoverflow.com/questions/tagged/windows\">windows</a>, nor even (God help us) <a href=\"https://stackoverflow.com/questions/tagged/computer-science\">computer-science</a> has anything to do with it/"}],"answers":[{"tags":[],"owner":{"account_id":23013441,"reputation":1,"user_id":17135628,"display_name":"kjell louagie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701208466,"creation_date":1701163058,"answer_id":77562591,"question_id":77562500,"body_markdown":"When working with resources in a Java project, the file paths are handled differently compared to typical file paths.\r\n\r\nIn Java, when you&#39;re accessing a file within your JAR (or within the resources folder), you can&#39;t directly treat it as a File object as you would with regular file paths on your file system. Instead, you need to use the `getResource()` method to access resources from within your JAR file:\r\n\r\n    public static void main(String[] args) {\r\n        String path = &quot;/bloodreports/resources/bloodreportformat.docx&quot;;\r\n        \r\n        // Get the URL of the resource\r\n        URL url = WordDocumentHandler.class.getResource(path);\r\n        \r\n        if (url != null) {\r\n            System.out.println(&quot;Exists&quot;);\r\n            // Now you can use this URL to access the resource\r\n            // For example, if you want to create a File object, you can do:\r\n            File file = new File(url.getFile());\r\n            // Do whatever operations you need with this file\r\n        } else {\r\n            System.out.println(&quot;Does not exist&quot;);\r\n        }\r\n    }","title":"How do I open a file inside a package in the Source Packages of Netbeans?","body":"<p>When working with resources in a Java project, the file paths are handled differently compared to typical file paths.</p>\n<p>In Java, when you're accessing a file within your JAR (or within the resources folder), you can't directly treat it as a File object as you would with regular file paths on your file system. Instead, you need to use the <code>getResource()</code> method to access resources from within your JAR file:</p>\n<pre><code>public static void main(String[] args) {\n    String path = &quot;/bloodreports/resources/bloodreportformat.docx&quot;;\n    \n    // Get the URL of the resource\n    URL url = WordDocumentHandler.class.getResource(path);\n    \n    if (url != null) {\n        System.out.println(&quot;Exists&quot;);\n        // Now you can use this URL to access the resource\n        // For example, if you want to create a File object, you can do:\n        File file = new File(url.getFile());\n        // Do whatever operations you need with this file\n    } else {\n        System.out.println(&quot;Does not exist&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28020964,"reputation":1207,"user_id":21401783,"display_name":"Dinux"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701163469,"creation_date":1701163469,"answer_id":77562644,"question_id":77562500,"body_markdown":"You are trying to access a resource in Netbeans. As @user207421 said, you can&#39;t access resources the way you&#39;ve done, because resources aren&#39;t files. You need to use the `getResource()` function to solve your problem. Modified code:\r\n```\r\npublic class WordDocumentHandler {\r\n    \r\n    public static void main(String[]args){\r\n        String resource_path = &quot;/resources/bloodreportformat.docx&quot;;\r\n        \r\n        URL resource_url = WordDocumentHandler.class.getResource(resource_path); //Use this function\r\n\r\n        //Check if the file exists\r\n        if (resource_url != null) {\r\n            System.out.println(&quot;Exists&quot;);\r\n            //Other code\r\n        }\r\n    }    \r\n    \r\n}\r\n```\r\n\r\nThe `getResource()` function returns a URL of the resource you&#39;re trying to access. Once you have the URL, you can access the resource.","title":"How do I open a file inside a package in the Source Packages of Netbeans?","body":"<p>You are trying to access a resource in Netbeans. As @user207421 said, you can't access resources the way you've done, because resources aren't files. You need to use the <code>getResource()</code> function to solve your problem. Modified code:</p>\n<pre><code>public class WordDocumentHandler {\n    \n    public static void main(String[]args){\n        String resource_path = &quot;/resources/bloodreportformat.docx&quot;;\n        \n        URL resource_url = WordDocumentHandler.class.getResource(resource_path); //Use this function\n\n        //Check if the file exists\n        if (resource_url != null) {\n            System.out.println(&quot;Exists&quot;);\n            //Other code\n        }\n    }    \n    \n}\n</code></pre>\n<p>The <code>getResource()</code> function returns a URL of the resource you're trying to access. Once you have the URL, you can access the resource.</p>\n"}],"owner":{"account_id":29135158,"reputation":11,"user_id":22998759,"display_name":"Shakthi Weerawansa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77562644,"answer_count":2,"score":-1,"last_activity_date":1701208466,"creation_date":1701162248,"question_id":77562500,"body_markdown":"I&#39;m relatively new to Java and Netbeans. What I want to do is to topen this Word document file that&#39;s inside the package &quot;bloodreports.resources&quot;.\r\n[Location of the document](https://i.stack.imgur.com/GrM0t.png)\r\n\r\nThe reason I&#39;m trying to open it from there specifically is because I think once the runnable JAR file is built, it won&#39;t matter where and on which machine I run the JAR file; The resource will always be there. \r\n\r\nIs there a better way to do it? Am I wrong? \r\n\r\nI&#39;ve been trying to get this to work for past hour... any help is greatly appreciated!\r\n\r\n\r\n\r\nI tried something along the lines of the following code:\r\n\r\n```\r\npublic class WordDocumentHandler {\r\n    \r\n    public static void main(String[]args){\r\n        String path = &quot;/resources/bloodreportformat.docx&quot;;\r\n        File file = new File(path);\r\n        if(file.exists()){\r\n            System.out.println(&quot;Exists&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe word &quot;Exists&quot; never gets printed. What am I doing wrong? ","title":"How do I open a file inside a package in the Source Packages of Netbeans?","body":"<p>I'm relatively new to Java and Netbeans. What I want to do is to topen this Word document file that's inside the package &quot;bloodreports.resources&quot;.\n<a href=\"https://i.stack.imgur.com/GrM0t.png\" rel=\"nofollow noreferrer\">Location of the document</a></p>\n<p>The reason I'm trying to open it from there specifically is because I think once the runnable JAR file is built, it won't matter where and on which machine I run the JAR file; The resource will always be there.</p>\n<p>Is there a better way to do it? Am I wrong?</p>\n<p>I've been trying to get this to work for past hour... any help is greatly appreciated!</p>\n<p>I tried something along the lines of the following code:</p>\n<pre><code>public class WordDocumentHandler {\n    \n    public static void main(String[]args){\n        String path = &quot;/resources/bloodreportformat.docx&quot;;\n        File file = new File(path);\n        if(file.exists()){\n            System.out.println(&quot;Exists&quot;);\n        }\n    }\n}\n</code></pre>\n<p>The word &quot;Exists&quot; never gets printed. What am I doing wrong?</p>\n"},{"tags":["java","javafx","components","runtime","executable-jar"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":5,"creation_date":1701174707,"post_id":77563617,"comment_id":136740240,"body_markdown":"Executable jar files are generally not supported in JavaFX (though there are unsupported workarounds to make it work). You should consider building a native package containing a JVM and the required modules using tools such as `jpackage` and/or `jlink`. See the &quot;Packaging&quot; section of the [tag wiki](https://stackoverflow.com/tags/javafx/info) for details.","body":"Executable jar files are generally not supported in JavaFX (though there are unsupported workarounds to make it work). You should consider building a native package containing a JVM and the required modules using tools such as <code>jpackage</code> and/or <code>jlink</code>. See the &quot;Packaging&quot; section of the <a href=\"https://stackoverflow.com/tags/javafx/info\">tag wiki</a> for details."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1701182975,"post_id":77563617,"comment_id":136741909,"body_markdown":"What I do is create a `Batch` file that calls the command to run the Jar. I double-click on the `.bat` file, and my apps run. It looks like you are creating a fat jar, so this should work.","body":"What I do is create a <code>Batch</code> file that calls the command to run the Jar. I double-click on the <code>.bat</code> file, and my apps run. It looks like you are creating a fat jar, so this should work."}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701199888,"creation_date":1701199888,"answer_id":77566675,"question_id":77563617,"body_markdown":"You need to create a fat JAR. \r\n\r\nTake a look at this example projects. They both include a Task/Goal for creating a fat JAR. You can just double click on it and the application starts. \r\n\r\nYou can either download one of this projects and edit it, or you can look how it is done.\r\n\r\n**Example working JavaFX application with gradle**\r\nhttps://github.com/davidweber411/JavaFxAppGradleNonModular\r\n\r\n**Example working JavaFX application with maven**\r\nhttps://github.com/davidweber411/JavaFxAppMavenNonModular\r\n\r\n**Note: This are non modular applications.**","title":"Error: JavaFX runtime components are missing, and are required to run this application in generated jar using eclipse","body":"<p>You need to create a fat JAR.</p>\n<p>Take a look at this example projects. They both include a Task/Goal for creating a fat JAR. You can just double click on it and the application starts.</p>\n<p>You can either download one of this projects and edit it, or you can look how it is done.</p>\n<p><strong>Example working JavaFX application with gradle</strong>\n<a href=\"https://github.com/davidweber411/JavaFxAppGradleNonModular\" rel=\"nofollow noreferrer\">https://github.com/davidweber411/JavaFxAppGradleNonModular</a></p>\n<p><strong>Example working JavaFX application with maven</strong>\n<a href=\"https://github.com/davidweber411/JavaFxAppMavenNonModular\" rel=\"nofollow noreferrer\">https://github.com/davidweber411/JavaFxAppMavenNonModular</a></p>\n<p><strong>Note: This are non modular applications.</strong></p>\n"}],"owner":{"account_id":19544292,"reputation":1,"user_id":14301460,"display_name":"Sudhanshoo Sarage"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701208131,"creation_date":1701172082,"question_id":77563617,"body_markdown":"I am getting the above error while running the JavaFX jar file on the command prompt or by double-clicking.\r\nI want the jar file to be run like an application by double-clicking on it.\r\nI have tried creating another class and calling the main function from that which inherits the JavaFX Application class.\r\nPlease somebody help in resolving this error.\r\n\r\n[enter image description here](https://i.stack.imgur.com/qxJSu.png)\r\n\r\nPlease find this image\r\n\r\nlaunch.class code:\r\n\r\n    package com.application;\r\n    \r\n    public class launch {\r\n    \r\n    public static void main(String[] args) {\r\n    \t// TODO Auto-generated method stub\r\n    \tMain.main(args);\r\n    }\r\n    \r\n    }\r\n    \r\nMain.class code:\r\n    \r\n    package com.application;\r\n    \r\n    import java.io.File;\r\n    \r\n     import javafx.application.Application;\r\n    \r\n    import javafx.application.Platform;\r\n    \r\n    import javafx.event.EventHandler;\r\n    \r\n    import       javafx.fxml.FXMLLoader;\r\n    \r\n     import       javafx.stage.Stage;\r\n    \r\n    import               javafx.stage.WindowEvent;\r\n    \r\n     import              javafx.scene.Parent;\r\n    \r\n     import javafx.scene.Scene;\r\n    \r\n    public class Main extends Application {\r\n    \r\n    @Override\r\n    \r\n    public void start(Stage primaryStage) {\r\n    \r\n    \ttry {\r\n    \t\tFile del;\r\n    \t\ttry {\r\n    \t\t\tdel = new File(&quot;errorscanReport.txt&quot;);\r\n    \t\t\tdel.delete();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t}\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tdel = new File(&quot;errorss.txt&quot;);\r\n    \t\t\tdel.delete();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t}\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tdel = new File(&quot;error.txt&quot;);\r\n    \t\t\tdel.delete();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t}\r\n    \t\ttry {\r\n    \t\t\tFile f = new File(&quot;AutoMoveError.txt&quot;);\r\n    \t\t\tf.delete();\r\n    \t\t}catch (Exception em) {\r\n    \t\t\t// TODO: handle exception\r\n    \t\t}\r\n    \t\t\r\n    \t\tParent root = FXMLLoader.load(getClass().getResource(&quot;MainScene.fxml&quot;));\r\n    \t\tScene scene = new Scene(root);\r\n    \t\tprimaryStage.setHeight(500);\r\n    \t\tprimaryStage.setWidth(700);\r\n    \t\tprimaryStage.setTitle(&quot;HUMANOID&quot;);\r\n    \t\tprimaryStage.setScene(scene);\r\n    \t\tprimaryStage.show();\r\n    \t\t\r\n    \t\tprimaryStage.setOnCloseRequest(new EventHandler&lt;WindowEvent&gt;() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void handle(WindowEvent arg0) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\tMainSceneController.stop_flag = true;\r\n    \t\t\t\tPlatform.exit();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\t\r\n    \t} catch(Exception e) {\r\n    \t\tSystem.out.println(e.toString());\r\n    \t}\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n    \tlaunch(args);\r\n    }\r\n    \r\n    }","title":"Error: JavaFX runtime components are missing, and are required to run this application in generated jar using eclipse","body":"<p>I am getting the above error while running the JavaFX jar file on the command prompt or by double-clicking.\nI want the jar file to be run like an application by double-clicking on it.\nI have tried creating another class and calling the main function from that which inherits the JavaFX Application class.\nPlease somebody help in resolving this error.</p>\n<p><a href=\"https://i.stack.imgur.com/qxJSu.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Please find this image</p>\n<p>launch.class code:</p>\n<pre><code>package com.application;\n\npublic class launch {\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    Main.main(args);\n}\n\n}\n</code></pre>\n<p>Main.class code:</p>\n<pre><code>package com.application;\n\nimport java.io.File;\n\n import javafx.application.Application;\n\nimport javafx.application.Platform;\n\nimport javafx.event.EventHandler;\n\nimport       javafx.fxml.FXMLLoader;\n\n import       javafx.stage.Stage;\n\nimport               javafx.stage.WindowEvent;\n\n import              javafx.scene.Parent;\n\n import javafx.scene.Scene;\n\npublic class Main extends Application {\n\n@Override\n\npublic void start(Stage primaryStage) {\n\n    try {\n        File del;\n        try {\n            del = new File(&quot;errorscanReport.txt&quot;);\n            del.delete();\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n        }\n        \n        try {\n            del = new File(&quot;errorss.txt&quot;);\n            del.delete();\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n        }\n        \n        try {\n            del = new File(&quot;error.txt&quot;);\n            del.delete();\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n        }\n        try {\n            File f = new File(&quot;AutoMoveError.txt&quot;);\n            f.delete();\n        }catch (Exception em) {\n            // TODO: handle exception\n        }\n        \n        Parent root = FXMLLoader.load(getClass().getResource(&quot;MainScene.fxml&quot;));\n        Scene scene = new Scene(root);\n        primaryStage.setHeight(500);\n        primaryStage.setWidth(700);\n        primaryStage.setTitle(&quot;HUMANOID&quot;);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n        \n        primaryStage.setOnCloseRequest(new EventHandler&lt;WindowEvent&gt;() {\n            \n            @Override\n            public void handle(WindowEvent arg0) {\n                // TODO Auto-generated method stub\n                MainSceneController.stop_flag = true;\n                Platform.exit();\n            }\n        });\n        \n    } catch(Exception e) {\n        System.out.println(e.toString());\n    }\n}\n\npublic static void main(String[] args) {\n    launch(args);\n}\n\n}\n</code></pre>\n"},{"tags":["java","spring","testing"],"answers":[{"comments":[{"owner":{"account_id":16215402,"reputation":3,"user_id":12113897,"display_name":"FaiLError"},"score":0,"creation_date":1701209852,"post_id":77567306,"comment_id":136746733,"body_markdown":"but I have ~50 repository classes and add them all manually...","body":"but I have ~50 repository classes and add them all manually..."},{"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"score":0,"creation_date":1701284931,"post_id":77567306,"comment_id":136757993,"body_markdown":"no you have not, since the maps are empty. You can set a breakpoint there and it will show you that the lists are empty. Your ComponentScan is likely not working as you expect. In which packages are the tests? In which packages are the repos? Is ComponentScan even working on test classes? Can you create @TestConfiguration class which contains the ComponentScan annotation etc?","body":"no you have not, since the maps are empty. You can set a breakpoint there and it will show you that the lists are empty. Your ComponentScan is likely not working as you expect. In which packages are the tests? In which packages are the repos? Is ComponentScan even working on test classes? Can you create @TestConfiguration class which contains the ComponentScan annotation etc?"}],"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701208074,"creation_date":1701207712,"answer_id":77567306,"question_id":77566915,"body_markdown":"    @SpringBootTest(classes = {RepoService.class})\r\n\r\nThis is specifying the configurations used for the test. That means RepoService is the *only* bean in this test context, so it makes sense that the maps are empty, because they are looking for other beans.\r\n\r\nIf you add beans which implement EnumRepo you will fill the map:\r\n\r\n    @SpringBootTest(classes = {RepoService.class, ENTER_HERE_REPO_NAME.class})\r\n\r\nThe reason why @DataJpaTest or @SpringBootTest() works, is because they load more beans into the spring context. ","title":"SpringBootTest cant fill Map in my Service","body":"<pre><code>@SpringBootTest(classes = {RepoService.class})\n</code></pre>\n<p>This is specifying the configurations used for the test. That means RepoService is the <em>only</em> bean in this test context, so it makes sense that the maps are empty, because they are looking for other beans.</p>\n<p>If you add beans which implement EnumRepo you will fill the map:</p>\n<pre><code>@SpringBootTest(classes = {RepoService.class, ENTER_HERE_REPO_NAME.class})\n</code></pre>\n<p>The reason why @DataJpaTest or @SpringBootTest() works, is because they load more beans into the spring context.</p>\n"}],"owner":{"account_id":16215402,"reputation":3,"user_id":12113897,"display_name":"FaiLError"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701208074,"creation_date":1701202461,"question_id":77566915,"body_markdown":"i have this service \r\n```\r\n@Service\r\n@Slf4j\r\npublic class RepoService{\r\n    private final Map&lt;EnumRepoType, EnumRepo&lt;? extends AbstractType&gt;&gt; firstMap;\r\n    private final Map&lt;RepoType, Repo&lt;? extends AbstractType&gt;&gt; secondMap;\r\n\r\n    public DictionaryService(List&lt;EnumRepo&lt;? extends AbstractType&gt;&gt; enumTypeRepositories,\r\n                             List&lt;Repo&lt;? extends AbstractType&gt;&gt; typeRepositories) {\r\n        this.firstMap= enumTypeRepositories.stream()\r\n                .collect(Collectors.toMap(EnumRepo::getType, i -&gt; i));\r\n        this.secondMap= typeRepositories.stream()\r\n                .collect(Collectors.toMap(Repo::getType, i -&gt; i));\r\n    }\r\n}\r\n```\r\nEnumRepoType and RepoType is enum.\r\nWhen my app is starting, this map fill automatically with springbooot. But! when i write test for my app,  this map cant fill automatically!\r\n\r\nI write stupid simple test for this question -&gt; \r\n\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(classes = {RepoService.class})\r\n@ComponentScan(basePackages = {\r\n        &quot;package.with.repo.class&quot;\r\n})\r\npublic class RepoServiceTest {\r\n\r\n    @Autowired\r\n    RepoService repoService;\r\n\r\n    @Test\r\n    public void test() {\r\n        System.out.println(&quot;whyyy map in repoService empty???&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI do not understand(((\r\n\r\n\r\nwith @DataJpaTest map is filled in correctly! with an empty @SpringBootTest() too, but the app starts too long(the whole context starts), i dont need it.","title":"SpringBootTest cant fill Map in my Service","body":"<p>i have this service</p>\n<pre><code>@Service\n@Slf4j\npublic class RepoService{\n    private final Map&lt;EnumRepoType, EnumRepo&lt;? extends AbstractType&gt;&gt; firstMap;\n    private final Map&lt;RepoType, Repo&lt;? extends AbstractType&gt;&gt; secondMap;\n\n    public DictionaryService(List&lt;EnumRepo&lt;? extends AbstractType&gt;&gt; enumTypeRepositories,\n                             List&lt;Repo&lt;? extends AbstractType&gt;&gt; typeRepositories) {\n        this.firstMap= enumTypeRepositories.stream()\n                .collect(Collectors.toMap(EnumRepo::getType, i -&gt; i));\n        this.secondMap= typeRepositories.stream()\n                .collect(Collectors.toMap(Repo::getType, i -&gt; i));\n    }\n}\n</code></pre>\n<p>EnumRepoType and RepoType is enum.\nWhen my app is starting, this map fill automatically with springbooot. But! when i write test for my app,  this map cant fill automatically!</p>\n<p>I write stupid simple test for this question -&gt;</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = {RepoService.class})\n@ComponentScan(basePackages = {\n        &quot;package.with.repo.class&quot;\n})\npublic class RepoServiceTest {\n\n    @Autowired\n    RepoService repoService;\n\n    @Test\n    public void test() {\n        System.out.println(&quot;whyyy map in repoService empty???&quot;);\n    }\n}\n</code></pre>\n<p>I do not understand(((</p>\n<p>with @DataJpaTest map is filled in correctly! with an empty @SpringBootTest() too, but the app starts too long(the whole context starts), i dont need it.</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":2744625,"reputation":8577,"user_id":2365297,"accept_rate":36,"display_name":"Salah"},"score":4,"creation_date":1390481158,"post_id":21308539,"comment_id":32115148,"body_markdown":"The compiler will never reach the code after return.","body":"The compiler will never reach the code after return."}],"answers":[{"tags":[],"owner":{"account_id":3125647,"reputation":4884,"user_id":2644553,"accept_rate":90,"display_name":"Kamlesh Meghwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390481620,"creation_date":1390481118,"answer_id":21308569,"question_id":21308539,"body_markdown":"Because you are executing `return last;` statement before `stringList.remove(stringList.size() - 1);` and any statement after return statement never executed.\r\n\r\nModified code:\r\n\r\n    else {\r\n        last = stringList.get(stringList.size()-1);\r\n        stringList.remove(stringList.size() - 1); //Now it wont give any error!\r\n        return last;\r\n            }","title":"How should I change it to remove the last element from this list?","body":"<p>Because you are executing <code>return last;</code> statement before <code>stringList.remove(stringList.size() - 1);</code> and any statement after return statement never executed.</p>\n\n<p>Modified code:</p>\n\n<pre><code>else {\n    last = stringList.get(stringList.size()-1);\n    stringList.remove(stringList.size() - 1); //Now it wont give any error!\n    return last;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1724179,"reputation":1043,"user_id":1579244,"accept_rate":67,"display_name":"Blank Chisui"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390481122,"creation_date":1390481122,"answer_id":21308571,"question_id":21308539,"body_markdown":"code behind a `return` statement can never be executed.","title":"How should I change it to remove the last element from this list?","body":"<p>code behind a <code>return</code> statement can never be executed.</p>\n"},{"tags":[],"owner":{"account_id":3150686,"reputation":13778,"user_id":2664200,"accept_rate":71,"display_name":"SpringLearner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390481141,"creation_date":1390481141,"answer_id":21308579,"question_id":21308539,"body_markdown":"Return statement should be at last because compiler assumes that there is nothing after return statement and it may say *unreachable statement*","title":"How should I change it to remove the last element from this list?","body":"<p>Return statement should be at last because compiler assumes that there is nothing after return statement and it may say <em>unreachable statement</em></p>\n"},{"tags":[],"owner":{"account_id":2305374,"reputation":44549,"user_id":2024761,"display_name":"Rahul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390481192,"creation_date":1390481192,"answer_id":21308599,"question_id":21308539,"body_markdown":"Any statement after a `return` statement won&#39;t be accessible(*unreachable code error*). `return` statements should generally be the last statement you wish to execute in a method().\r\n\r\nBubble up the statement giving the error above the `return` and the code should work just fine. \r\n\r\n    stringList.remove(stringList.size() - 1); //goes above the return\r\n    return last;","title":"How should I change it to remove the last element from this list?","body":"<p>Any statement after a <code>return</code> statement won't be accessible(<em>unreachable code error</em>). <code>return</code> statements should generally be the last statement you wish to execute in a method().</p>\n\n<p>Bubble up the statement giving the error above the <code>return</code> and the code should work just fine. </p>\n\n<pre><code>stringList.remove(stringList.size() - 1); //goes above the return\nreturn last;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1390481196,"creation_date":1390481196,"answer_id":21308600,"question_id":21308539,"body_markdown":"    return stringList.remove(stringList.size() - 1);\r\n\r\nThe rest can be removed, as `remove` returns the removed item.","title":"How should I change it to remove the last element from this list?","body":"<pre><code>return stringList.remove(stringList.size() - 1);\n</code></pre>\n\n<p>The rest can be removed, as <code>remove</code> returns the removed item.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701208065,"creation_date":1701208065,"answer_id":77567343,"question_id":21308539,"body_markdown":"## `List#getLast` &amp; `List#removeLast`\r\n\r\nIn Java 21+, `List` is a [`SequencedCollection`][1]. See [*JEP 431: Sequenced Collections*](https://openjdk.org/jeps/431).\r\n\r\nSo now `List` offers convenient methods such as [`getLast`][2] and [`removeLast`][3]. \r\n\r\n    String lastString = myStringList.getLast() ;\r\n    myStringList.removeLast() ;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedCollection.html\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#getLast()\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#removeLast()","title":"How should I change it to remove the last element from this list?","body":"<h2><code>List#getLast</code> &amp; <code>List#removeLast</code></h2>\n<p>In Java 21+, <code>List</code> is a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedCollection.html\" rel=\"nofollow noreferrer\"><code>SequencedCollection</code></a>. See <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\"><em>JEP 431: Sequenced Collections</em></a>.</p>\n<p>So now <code>List</code> offers convenient methods such as <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#getLast()\" rel=\"nofollow noreferrer\"><code>getLast</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#removeLast()\" rel=\"nofollow noreferrer\"><code>removeLast</code></a>.</p>\n<pre><code>String lastString = myStringList.getLast() ;\nmyStringList.removeLast() ;\n</code></pre>\n"}],"owner":{"account_id":3587196,"reputation":19,"user_id":2994094,"accept_rate":0,"display_name":"shanglawt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":6,"score":0,"last_activity_date":1701208065,"creation_date":1390481047,"question_id":21308539,"body_markdown":"I am trying to remove the last element from an arraylist but pop() method here is not working as I wanted. How should I change the code?\r\n\r\n\r\n    public String pop(){\r\n\t\tString last;\r\n\t\tif (stringList.size() == 0){\r\n\t\t\treturn null;\t\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\tlast = stringList.get(stringList.size()-1);\r\n\t\t\treturn last;\r\n\t\t\tstringList.remove(stringList.size() - 1); //This is giving me error!\r\n               }\r\n    }","title":"How should I change it to remove the last element from this list?","body":"<p>I am trying to remove the last element from an arraylist but pop() method here is not working as I wanted. How should I change the code?</p>\n\n<pre><code>public String pop(){\n    String last;\n    if (stringList.size() == 0){\n        return null;    \n\n    } else {\n        last = stringList.get(stringList.size()-1);\n        return last;\n        stringList.remove(stringList.size() - 1); //This is giving me error!\n           }\n}\n</code></pre>\n"},{"tags":["java","oracle","multithreading","jdbc"],"comments":[{"owner":{"account_id":24408694,"reputation":11,"user_id":18336492,"display_name":"Pradeep Kumar"},"score":0,"creation_date":1701198693,"post_id":77566535,"comment_id":136744938,"body_markdown":"I was extracting data from one table only which has 173 million rows","body":"I was extracting data from one table only which has 173 million rows"},{"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"score":1,"creation_date":1701200649,"post_id":77566535,"comment_id":136745272,"body_markdown":"Why do you have to modify the query for every row? How are you measuring wait time? And how have you determined that the BLOB column is the problem? Including code for a [mre] might be helpful, but you also need to look at DB and maybe network settings etc.","body":"Why do you have to modify the query for every row? How are you measuring wait time? And how have you determined that the BLOB column is the problem? Including code for a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> might be helpful, but you also need to look at DB and maybe network settings etc."},{"owner":{"account_id":26978029,"reputation":6997,"user_id":20542862,"display_name":"Paul W"},"score":1,"creation_date":1701201889,"post_id":77566535,"comment_id":136745487,"body_markdown":"At a minimum you will need to provide the SQL you are using so we see how you are distributing the data, and include an execution plan.","body":"At a minimum you will need to provide the SQL you are using so we see how you are distributing the data, and include an execution plan."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1701421844,"post_id":77566535,"comment_id":136776089,"body_markdown":"So you have a file with &quot;something&quot;, and you want to extract data based on this file? Does the file contains IDs and such? I think 3 million queries sounds insane. Why not import the file into the database and use something called a JOIN to umm... join your imported data with the existing one and fetch whatever you need. You can still batch it up if memory etc is a problem but you definitely don&#39;t need 3 mils queries to fetch it all.","body":"So you have a file with &quot;something&quot;, and you want to extract data based on this file? Does the file contains IDs and such? I think 3 million queries sounds insane. Why not import the file into the database and use something called a JOIN to umm... join your imported data with the existing one and fetch whatever you need. You can still batch it up if memory etc is a problem but you definitely don&#39;t need 3 mils queries to fetch it all."}],"owner":{"account_id":24408694,"reputation":11,"user_id":18336492,"display_name":"Pradeep Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701207992,"creation_date":1701198423,"question_id":77566535,"body_markdown":"I am trying extract data from Oracle database which has 173 million rows and 40 different columns and each row has one blob column which has size of 30-50kb.\r\n\r\nI am trying to extract data this data base using Java, the input file have 3 million rows, for every row we need modify the SQl statement according to that row and hit the database, we are going to make 3million different queries.\r\n\r\nI am using executorServices for multiple threading in Java and I have tried Apache Commons DBCP2 and also c3p0 for connection pooling in java.\r\n\r\nThe normal wait to execute one query is 3 seconds even though I had indexes for columns that I am using in the database.\r\n\r\nIf i try to increase the threads in database the wait time is increasing.\r\n\r\n\r\n|  Threads | wait time |\r\n| -------- | -------- |\r\n| 1   |  2  |\r\n| 10  |  3  |\r\n| 50  | 5.5 |\r\n| 100 |  10 |\r\n\r\nI am able to see the improvement in the speed but it very low.\r\n\r\nPlease some one help me with this problem.\r\n\r\n\r\n\r\n\r\n\r\n\r\nI am expecting better download speed and aby suggestions to improve the speed of fetching results.","title":"Extracting data from very large Oracle database which has blob column in everyrow","body":"<p>I am trying extract data from Oracle database which has 173 million rows and 40 different columns and each row has one blob column which has size of 30-50kb.</p>\n<p>I am trying to extract data this data base using Java, the input file have 3 million rows, for every row we need modify the SQl statement according to that row and hit the database, we are going to make 3million different queries.</p>\n<p>I am using executorServices for multiple threading in Java and I have tried Apache Commons DBCP2 and also c3p0 for connection pooling in java.</p>\n<p>The normal wait to execute one query is 3 seconds even though I had indexes for columns that I am using in the database.</p>\n<p>If i try to increase the threads in database the wait time is increasing.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Threads</th>\n<th>wait time</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>2</td>\n</tr>\n<tr>\n<td>10</td>\n<td>3</td>\n</tr>\n<tr>\n<td>50</td>\n<td>5.5</td>\n</tr>\n<tr>\n<td>100</td>\n<td>10</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I am able to see the improvement in the speed but it very low.</p>\n<p>Please some one help me with this problem.</p>\n<p>I am expecting better download speed and aby suggestions to improve the speed of fetching results.</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":557113,"reputation":6340,"user_id":919445,"accept_rate":79,"display_name":"Nuno Gon&#231;alves"},"score":216,"creation_date":1353691873,"post_id":687833,"comment_id":18530865,"body_markdown":"I upvoted this question, because I was wondering why there&#39;s no such a method like: getLastItem() and came to see if there was an answer. list.size() - 1 is not pretty.","body":"I upvoted this question, because I was wondering why there&#39;s no such a method like: getLastItem() and came to see if there was an answer. list.size() - 1 is not pretty."},{"owner":{"account_id":743405,"reputation":1858,"user_id":719397,"display_name":"Tim"},"score":2,"creation_date":1374866370,"post_id":687833,"comment_id":26125847,"body_markdown":"@NunoGon&#231;alves You can always subclass it!","body":"@NunoGon&#231;alves You can always subclass it!"},{"owner":{"account_id":64344,"reputation":8352,"user_id":189992,"accept_rate":95,"display_name":"ssedano"},"score":13,"creation_date":1398466579,"post_id":687833,"comment_id":35676621,"body_markdown":"You could always use a LinkedList which has the method `getLast()`","body":"You could always use a LinkedList which has the method <code>getLast()</code>"},{"owner":{"account_id":16920,"reputation":2114,"user_id":37370,"accept_rate":67,"display_name":"RichieHH"},"score":6,"creation_date":1400845397,"post_id":687833,"comment_id":36661635,"body_markdown":"Linked listing it adds a whole heap of overhead. Use Guava as shown below : lastElement = Iterables.getLast(iterableList); OR simply index a get() call with size() - 1. Its not that ugly compared to using a linked list when its not required. Usual caveats apply regarding exception conditions - see the ArrayList javadoc.","body":"Linked listing it adds a whole heap of overhead. Use Guava as shown below : lastElement = Iterables.getLast(iterableList); OR simply index a get() call with size() - 1. Its not that ugly compared to using a linked list when its not required. Usual caveats apply regarding exception conditions - see the ArrayList javadoc."},{"owner":{"account_id":3849703,"reputation":435,"user_id":3190174,"accept_rate":75,"display_name":"Javo"},"score":17,"creation_date":1500475950,"post_id":687833,"comment_id":77355604,"body_markdown":"Using list.size() -1 is not pretty, but using a 3rd party API just for this is worse","body":"Using list.size() -1 is not pretty, but using a 3rd party API just for this is worse"},{"owner":{"account_id":5389961,"reputation":1513,"user_id":4292792,"accept_rate":92,"display_name":"Carrm"},"score":1,"creation_date":1546528455,"post_id":687833,"comment_id":94886345,"body_markdown":"@Javo I agree with you about the 3dr party if it&#39;s a one time situation, but let&#39;s just be honest: there are plenty of situations where you&#39;ll find useful to have a 3rd party API like Guava or Apache Commons in your application. Beginners might not know them or what they can do, or might not think about them when they&#39;re looking for answers. It is likely that you will use these APIs more than once. Consequently I find it interesting to have both vanilla java and APIs solutions, so that people can discover those APIs if they want to.","body":"@Javo I agree with you about the 3dr party if it&#39;s a one time situation, but let&#39;s just be honest: there are plenty of situations where you&#39;ll find useful to have a 3rd party API like Guava or Apache Commons in your application. Beginners might not know them or what they can do, or might not think about them when they&#39;re looking for answers. It is likely that you will use these APIs more than once. Consequently I find it interesting to have both vanilla java and APIs solutions, so that people can discover those APIs if they want to."},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":0,"creation_date":1562588525,"post_id":687833,"comment_id":100409896,"body_markdown":"I favorited this question just to remember how crazy the world of programming has become...","body":"I favorited this question just to remember how crazy the world of programming has become..."},{"owner":{"account_id":1851451,"reputation":1167,"user_id":1677926,"display_name":"soger"},"score":0,"creation_date":1603715433,"post_id":687833,"comment_id":114114547,"body_markdown":"I don&#39;t understand what&#39;s not pretty about list.size()-1, it&#39;s very clear what it means. Or would you prefer the perl notation: $list[$#list] would that be better?","body":"I don&#39;t understand what&#39;s not pretty about list.size()-1, it&#39;s very clear what it means. Or would you prefer the perl notation: $list[$#list] would that be better?"},{"owner":{"account_id":7008925,"reputation":319,"user_id":5372500,"display_name":"Alexander Terp"},"score":3,"creation_date":1617946522,"post_id":687833,"comment_id":118457604,"body_markdown":"@soger No, but &quot;it could be worse&quot; is not a satisfactory reason to not have a readable method like `getLastElement()` be part of the java.util.List API.","body":"@soger No, but &quot;it could be worse&quot; is not a satisfactory reason to not have a readable method like <code>getLastElement()</code> be part of the java.util.List API."},{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":1,"creation_date":1667568201,"post_id":687833,"comment_id":131203164,"body_markdown":"There is a [JEP 431](https://openjdk.org/jeps/431) that will introduce `SequencedCollection` to Java. There will be methods such as `getFirst()`, `getLast()`, `addFirst()` and so forth.","body":"There is a <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\">JEP 431</a> that will introduce <code>SequencedCollection</code> to Java. There will be methods such as <code>getFirst()</code>, <code>getLast()</code>, <code>addFirst()</code> and so forth."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":1,"creation_date":1686720658,"post_id":687833,"comment_id":134836058,"body_markdown":"@ZhekaKozlov I&#39;ve added an answer that uses this: https://stackoverflow.com/a/76470369/1108305.","body":"@ZhekaKozlov I&#39;ve added an answer that uses this: <a href=\"https://stackoverflow.com/a/76470369/1108305\">stackoverflow.com/a/76470369/1108305</a>."}],"answers":[{"comments":[{"owner":{"account_id":227596,"reputation":4137,"user_id":489364,"accept_rate":53,"display_name":"kommradHomer"},"score":47,"creation_date":1346831747,"post_id":687839,"comment_id":16464421,"body_markdown":"is there no sleek way to do it ? :/","body":"is there no sleek way to do it ? :/"},{"owner":{"account_id":37018,"reputation":13267,"user_id":105741,"display_name":"Antony Stubbs"},"score":6,"creation_date":1356711439,"post_id":687839,"comment_id":19454134,"body_markdown":"You should probably at least demonstrate assigning it... ArrayList.get is side-affect free.","body":"You should probably at least demonstrate assigning it... ArrayList.get is side-affect free."},{"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"score":2,"creation_date":1490265697,"post_id":687839,"comment_id":73039491,"body_markdown":"Is it too petty to indicate the above doesn&#39;t assign/return anything ?","body":"Is it too petty to indicate the above doesn&#39;t assign/return anything ?"},{"owner":{"account_id":5858141,"reputation":325,"user_id":4614769,"accept_rate":60,"display_name":"hasnain_ahmad"},"score":0,"creation_date":1523535087,"post_id":687839,"comment_id":86606638,"body_markdown":"If an ArrayList only have one record then there is exception occurred. What will be the solution?","body":"If an ArrayList only have one record then there is exception occurred. What will be the solution?"},{"owner":{"account_id":7407971,"reputation":2389,"user_id":5636313,"accept_rate":76,"display_name":"Farid"},"score":3,"creation_date":1532267328,"post_id":687839,"comment_id":89900024,"body_markdown":"@hasnain_ahmad, when ArraList has 1 element it works properly, you should worry about non-initialized ArrayList and ArrayList with zero record. And this answer handles both cases","body":"@hasnain_ahmad, when ArraList has 1 element it works properly, you should worry about non-initialized ArrayList and ArrayList with zero record. And this answer handles both cases"}],"tags":[],"owner":{"account_id":1662,"reputation":67119,"user_id":2238,"accept_rate":76,"display_name":"Henrik Paul"},"comment_count":5,"down_vote_count":1,"up_vote_count":202,"is_accepted":false,"score":201,"last_activity_date":1501055863,"creation_date":1238107289,"answer_id":687839,"question_id":687833,"body_markdown":"this should do it:\r\n    \r\n    if (arrayList != null &amp;&amp; !arrayList.isEmpty()) {\r\n      T item = arrayList.get(arrayList.size()-1);\r\n    }","title":"How to get the last value of an ArrayList","body":"<p>this should do it:</p>\n\n<pre><code>if (arrayList != null &amp;&amp; !arrayList.isEmpty()) {\n  T item = arrayList.get(arrayList.size()-1);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1184687,"reputation":10227,"user_id":1158895,"accept_rate":83,"display_name":"Brady"},"score":7,"creation_date":1413191915,"post_id":687842,"comment_id":41336041,"body_markdown":"Will this cause an iteration of the list? That doesnt seem very efficient to me. I come from C++, where there are actual front() and back() methods on the list object, that are internally implemented with head and tail references. Is there a similar mechanism in Java?","body":"Will this cause an iteration of the list? That doesnt seem very efficient to me. I come from C++, where there are actual front() and back() methods on the list object, that are internally implemented with head and tail references. Is there a similar mechanism in Java?"},{"owner":{"account_id":2206457,"reputation":13823,"user_id":1949554,"accept_rate":74,"display_name":"frankelot"},"score":37,"creation_date":1421869006,"post_id":687842,"comment_id":44529875,"body_markdown":"Won&#39;t work. what if the list is empty, list.size() will return 0. and you&#39;ll end up with list.get(-1);","body":"Won&#39;t work. what if the list is empty, list.size() will return 0. and you&#39;ll end up with list.get(-1);"},{"owner":{"account_id":16029,"reputation":498865,"user_id":34509,"accept_rate":62,"display_name":"Johannes Schaub - litb"},"score":27,"creation_date":1421968846,"post_id":687842,"comment_id":44576518,"body_markdown":"@feresr huh. He wants to get the last value in the list. Of course that implies that size() is &gt; 0. That would be true for any sort of implementation. Reading through to the end would have saved the time you needed to write your comment and my time for answering :) My answer says at the end *&quot;If the list is empty, get throws an IndexOutOfBoundsException&quot;*","body":"@feresr huh. He wants to get the last value in the list. Of course that implies that size() is &gt; 0. That would be true for any sort of implementation. Reading through to the end would have saved the time you needed to write your comment and my time for answering :) My answer says at the end <i>&quot;If the list is empty, get throws an IndexOutOfBoundsException&quot;</i>"},{"owner":{"account_id":5460,"reputation":6354,"user_id":8792,"display_name":"Peter"},"score":22,"creation_date":1426795107,"post_id":687842,"comment_id":46528734,"body_markdown":"@Brady it won&#39;t cause an O(n) iteration for an ArrayList, because as you can guess, it&#39;s backed by an array. So a simple get(&lt;index&gt;) just results in a constant-time retrieve from an array. (JDK source confirms this) For other list implementations, this isn&#39;t guaranteed, so for example, LinkedList has a getLast() method which is constant-time.","body":"@Brady it won&#39;t cause an O(n) iteration for an ArrayList, because as you can guess, it&#39;s backed by an array. So a simple get(&lt;index&gt;) just results in a constant-time retrieve from an array. (JDK source confirms this) For other list implementations, this isn&#39;t guaranteed, so for example, LinkedList has a getLast() method which is constant-time."},{"owner":{"display_name":"user1300214"},"score":1,"creation_date":1438174383,"post_id":687842,"comment_id":51340932,"body_markdown":"Isn&#39;t there a more elegant way to do this? When I used to code mainly in C/C++ I remember being able to use `list.back()` or similar... would be a nice feature in Java.","body":"Isn&#39;t there a more elegant way to do this? When I used to code mainly in C/C++ I remember being able to use <code>list.back()</code> or similar... would be a nice feature in Java."},{"owner":{"account_id":2848313,"reputation":4720,"user_id":2446071,"accept_rate":43,"display_name":"sherrellbc"},"score":1,"creation_date":1458708234,"post_id":687842,"comment_id":59976845,"body_markdown":"@poirot, Implementation of a List.back() method would likely do exactly what is shown here anyway.","body":"@poirot, Implementation of a List.back() method would likely do exactly what is shown here anyway."},{"owner":{"display_name":"user1300214"},"score":3,"creation_date":1458768444,"post_id":687842,"comment_id":60013272,"body_markdown":"@sherrellbc it would do exactly the same. If Java had this function it would save me time typing.","body":"@sherrellbc it would do exactly the same. If Java had this function it would save me time typing."},{"owner":{"account_id":5478620,"reputation":302,"user_id":4355866,"accept_rate":100,"display_name":"Stefan Dimitrov"},"score":19,"creation_date":1473242060,"post_id":687842,"comment_id":66061693,"body_markdown":"I can&#39;t understand why they decided to implement a simple `lastElement()` method for their `Vector` but not for `ArrayList`. What&#39;s up with that inconsistency?","body":"I can&#39;t understand why they decided to implement a simple <code>lastElement()</code> method for their <code>Vector</code> but not for <code>ArrayList</code>. What&#39;s up with that inconsistency?"},{"owner":{"account_id":53237,"reputation":4939,"user_id":159178,"accept_rate":73,"display_name":"Fletch"},"score":2,"creation_date":1503296703,"post_id":687842,"comment_id":78538612,"body_markdown":"I googled this because my brain says &quot;there must be an easier way&quot;. Java is starting to feel so low-level.","body":"I googled this because my brain says &quot;there must be an easier way&quot;. Java is starting to feel so low-level."},{"owner":{"display_name":"user7485924"},"score":2,"creation_date":1513666118,"post_id":687842,"comment_id":82728603,"body_markdown":"Does `list.get(list.size()--)` work or it doesn&#39;t work?","body":"Does <code>list.get(list.size()--)</code> work or it doesn&#39;t work?"},{"owner":{"account_id":2889245,"reputation":3533,"user_id":2478398,"display_name":"BeUndead"},"score":0,"creation_date":1539185249,"post_id":687842,"comment_id":92412065,"body_markdown":"Probably stupid, but does `List::get` guarantee sequential returns?  I.e. is `list.get(0);` guaranteed to be the _first_ element (if one exists, blah blah), `list.get(1)` the second, etc.?  Or are `List` implementations free to index as they choose as long as their `Iterator` functions in the appropriate order?","body":"Probably stupid, but does <code>List::get</code> guarantee sequential returns?  I.e. is <code>list.get(0);</code> guaranteed to be the <i>first</i> element (if one exists, blah blah), <code>list.get(1)</code> the second, etc.?  Or are <code>List</code> implementations free to index as they choose as long as their <code>Iterator</code> functions in the appropriate order?"},{"owner":{"account_id":9127082,"reputation":2954,"user_id":6790326,"display_name":"Dorian Gray"},"score":1,"creation_date":1571519982,"post_id":687842,"comment_id":103270594,"body_markdown":"@user2478398 It does guaRantee sequential returns.","body":"@user2478398 It does guaRantee sequential returns."}],"tags":[],"owner":{"account_id":16029,"reputation":498865,"user_id":34509,"accept_rate":62,"display_name":"Johannes Schaub - litb"},"comment_count":12,"down_vote_count":2,"up_vote_count":864,"is_accepted":true,"score":862,"last_activity_date":1497251404,"creation_date":1238107365,"answer_id":687842,"question_id":687833,"body_markdown":"The following is part of the [`List`](http://java.sun.com/javase/6/docs/api/java/util/List.html) interface (which ArrayList implements):\r\n\r\n    E e = list.get(list.size() - 1);\r\n\r\n`E` is the element type. If the list is empty, `get` throws an [`IndexOutOfBoundsException`](http://java.sun.com/javase/6/docs/api/java/lang/IndexOutOfBoundsException.html). You can find the whole API documentation [here](http://java.sun.com/javase/6/docs/api/).","title":"How to get the last value of an ArrayList","body":"<p>The following is part of the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/List.html\" rel=\"noreferrer\"><code>List</code></a> interface (which ArrayList implements):</p>\n\n<pre><code>E e = list.get(list.size() - 1);\n</code></pre>\n\n<p><code>E</code> is the element type. If the list is empty, <code>get</code> throws an <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/IndexOutOfBoundsException.html\" rel=\"noreferrer\"><code>IndexOutOfBoundsException</code></a>. You can find the whole API documentation <a href=\"http://java.sun.com/javase/6/docs/api/\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":13320,"reputation":5695,"user_id":26671,"accept_rate":86,"display_name":"Ken Paul"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1238107480,"creation_date":1238107480,"answer_id":687845,"question_id":687833,"body_markdown":"The `size()` method returns the number of elements in the ArrayList.  The index values of the elements are `0` through `(size()-1)`, so you would use `myArrayList.get(myArrayList.size()-1)` to retrieve the last element.","title":"How to get the last value of an ArrayList","body":"<p>The <code>size()</code> method returns the number of elements in the ArrayList.  The index values of the elements are <code>0</code> through <code>(size()-1)</code>, so you would use <code>myArrayList.get(myArrayList.size()-1)</code> to retrieve the last element.</p>\n"},{"tags":[],"owner":{"account_id":663912,"reputation":1,"user_id":490105,"display_name":"dae"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1425579935,"creation_date":1288269791,"answer_id":4043019,"question_id":687833,"body_markdown":"If you modify your list, then use [`listIterator()`](http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#listIterator()) and iterate from last index (that is `size()-1` respectively).\r\nIf you fail again, check your list structure.","title":"How to get the last value of an ArrayList","body":"<p>If you modify your list, then use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#listIterator()\" rel=\"nofollow\"><code>listIterator()</code></a> and iterate from last index (that is <code>size()-1</code> respectively).\nIf you fail again, check your list structure.</p>\n"},{"comments":[{"owner":{"account_id":80680,"reputation":9514,"user_id":227986,"accept_rate":59,"display_name":"BillMan"},"score":3,"creation_date":1361375499,"post_id":14072408,"comment_id":21042111,"body_markdown":"Do you know if this this method do a linear walk through the list to find the last element?","body":"Do you know if this this method do a linear walk through the list to find the last element?"},{"owner":{"account_id":477104,"reputation":321,"user_id":888392,"accept_rate":100,"display_name":"Simon"},"score":6,"creation_date":1376916623,"post_id":14072408,"comment_id":26875087,"body_markdown":"@BillMan In the case of HashSet yes, in the case of ArrayList no.","body":"@BillMan In the case of HashSet yes, in the case of ArrayList no."},{"owner":{"account_id":2007569,"reputation":8114,"user_id":1797006,"accept_rate":63,"display_name":"Kalle Richter"},"score":6,"creation_date":1498173781,"post_id":14072408,"comment_id":76404436,"body_markdown":"You should add that `Iterables.getLast` check whether `RandomAccess` is implemented and therefore if it is accesses the item in O(1).","body":"You should add that <code>Iterables.getLast</code> check whether <code>RandomAccess</code> is implemented and therefore if it is accesses the item in O(1)."},{"owner":{"account_id":1170896,"reputation":1868,"user_id":3341241,"accept_rate":83,"display_name":"Little Helper"},"score":2,"creation_date":1557216925,"post_id":14072408,"comment_id":98680349,"body_markdown":"Instead of `Option`, you can use the native Java `Optional`. It will also be a bit cleaner: `lastElement = Optional.ofNullable(lastElementRaw);`.","body":"Instead of <code>Option</code>, you can use the native Java <code>Optional</code>. It will also be a bit cleaner: <code>lastElement = Optional.ofNullable(lastElementRaw);</code>."}],"tags":[],"owner":{"account_id":37018,"reputation":13267,"user_id":105741,"display_name":"Antony Stubbs"},"comment_count":4,"down_vote_count":2,"up_vote_count":256,"is_accepted":false,"score":254,"last_activity_date":1485172599,"creation_date":1356711364,"answer_id":14072408,"question_id":687833,"body_markdown":"There isn&#39;t an elegant way in vanilla Java.\r\n\r\n# Google Guava\r\n\r\nThe [Google Guava][1] library is great - check out their [`Iterables` class][2]. This method will throw a [`NoSuchElementException`][3] if the list is empty, as opposed to an [`IndexOutOfBoundsException`][4], as with the typical `size()-1` approach - I find a `NoSuchElementException` much nicer, or the ability to specify a default:\r\n\r\n    lastElement = Iterables.getLast(iterableList);\r\n\r\nYou can also provide a default value if the list is empty, instead of an exception:\r\n\r\n    lastElement = Iterables.getLast(iterableList, null);\r\n\r\nor, if you&#39;re using Options:\r\n\r\n    lastElementRaw = Iterables.getLast(iterableList, null);\r\n    lastElement = (lastElementRaw == null) ? Option.none() : Option.some(lastElementRaw);\r\n\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Iterables.html#getLast-java.lang.Iterable-\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/util/NoSuchElementException.html?is-external=true\r\n  [4]: http://docs.oracle.com/javase/8/docs/api/java/lang/IndexOutOfBoundsException.html","title":"How to get the last value of an ArrayList","body":"<p>There isn't an elegant way in vanilla Java.</p>\n\n<h1>Google Guava</h1>\n\n<p>The <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Google Guava</a> library is great - check out their <a href=\"http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Iterables.html#getLast-java.lang.Iterable-\" rel=\"noreferrer\"><code>Iterables</code> class</a>. This method will throw a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/NoSuchElementException.html?is-external=true\" rel=\"noreferrer\"><code>NoSuchElementException</code></a> if the list is empty, as opposed to an <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/IndexOutOfBoundsException.html\" rel=\"noreferrer\"><code>IndexOutOfBoundsException</code></a>, as with the typical <code>size()-1</code> approach - I find a <code>NoSuchElementException</code> much nicer, or the ability to specify a default:</p>\n\n<pre><code>lastElement = Iterables.getLast(iterableList);\n</code></pre>\n\n<p>You can also provide a default value if the list is empty, instead of an exception:</p>\n\n<pre><code>lastElement = Iterables.getLast(iterableList, null);\n</code></pre>\n\n<p>or, if you're using Options:</p>\n\n<pre><code>lastElementRaw = Iterables.getLast(iterableList, null);\nlastElement = (lastElementRaw == null) ? Option.none() : Option.some(lastElementRaw);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20530,"reputation":263492,"user_id":49153,"accept_rate":91,"display_name":"Ali"},"score":12,"creation_date":1478285355,"post_id":26302163,"comment_id":68108072,"body_markdown":"Just use guava. Don&#39;t re-invent","body":"Just use guava. Don&#39;t re-invent"},{"owner":{"account_id":2004750,"reputation":8566,"user_id":1795426,"display_name":"user11153"},"score":25,"creation_date":1478285687,"post_id":26302163,"comment_id":68108265,"body_markdown":"@ClickUpvote Using Guava for just one tiny method is in many cases an overkill. My answer is for people looking for _vanilla Java solution_. If you are already using Guava in your project, see other answer for Guava-based solution.","body":"@ClickUpvote Using Guava for just one tiny method is in many cases an overkill. My answer is for people looking for <i>vanilla Java solution</i>. If you are already using Guava in your project, see other answer for Guava-based solution."},{"owner":{"account_id":20530,"reputation":263492,"user_id":49153,"accept_rate":91,"display_name":"Ali"},"score":6,"creation_date":1478358140,"post_id":26302163,"comment_id":68126274,"body_markdown":"If you *don&#39;t* use guava, you end up writing lots of utility classes like this one.","body":"If you <i>don&#39;t</i> use guava, you end up writing lots of utility classes like this one."},{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":11,"creation_date":1490983758,"post_id":26302163,"comment_id":73371571,"body_markdown":"Sometimes getting permission to add a third-party library can be a lot more involved than adding a single native Java class. For example, government contracts where they limit and screen third-party libraries.","body":"Sometimes getting permission to add a third-party library can be a lot more involved than adding a single native Java class. For example, government contracts where they limit and screen third-party libraries."},{"owner":{"account_id":2007569,"reputation":8114,"user_id":1797006,"accept_rate":63,"display_name":"Kalle Richter"},"score":2,"creation_date":1498173916,"post_id":26302163,"comment_id":76404460,"body_markdown":"`isEmpty` doesn&#39;t check whether the list is empty and should thus be `isNullOrEmpty` and that&#39;s not part of the question - either you try to enhance the set of answers or you provide you utility classes (which are a re-invention).","body":"<code>isEmpty</code> doesn&#39;t check whether the list is empty and should thus be <code>isNullOrEmpty</code> and that&#39;s not part of the question - either you try to enhance the set of answers or you provide you utility classes (which are a re-invention)."}],"tags":[],"owner":{"account_id":2004750,"reputation":8566,"user_id":1795426,"display_name":"user11153"},"comment_count":5,"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1478409129,"creation_date":1412952566,"answer_id":26302163,"question_id":687833,"body_markdown":"I use micro-util class for getting last (and first) element of list:\r\n\r\n\tpublic final class Lists {\r\n\r\n\t\tprivate Lists() {\r\n\t\t}\r\n\r\n\t\tpublic static &lt;T&gt; T getFirst(List&lt;T&gt; list) {\r\n\t\t\treturn list != null &amp;&amp; !list.isEmpty() ? list.get(0) : null;\r\n\t\t}\r\n\r\n\t\tpublic static &lt;T&gt; T getLast(List&lt;T&gt; list) {\r\n\t\t\treturn list != null &amp;&amp; !list.isEmpty() ? list.get(list.size() - 1) : null;\r\n\t\t}\r\n\t}\r\n\r\n---\r\n\r\nSlightly more flexible:\r\n\r\n    import java.util.List;\r\n    \r\n    /**\r\n     * Convenience class that provides a clearer API for obtaining list elements.\r\n     */\r\n    public final class Lists {\r\n    \r\n      private Lists() {\r\n      }\r\n    \r\n      /**\r\n       * Returns the first item in the given list, or null if not found.\r\n       *\r\n       * @param &lt;T&gt; The generic list type.\r\n       * @param list The list that may have a first item.\r\n       *\r\n       * @return null if the list is null or there is no first item.\r\n       */\r\n      public static &lt;T&gt; T getFirst( final List&lt;T&gt; list ) {\r\n        return getFirst( list, null );\r\n      }\r\n    \r\n      /**\r\n       * Returns the last item in the given list, or null if not found.\r\n       *\r\n       * @param &lt;T&gt; The generic list type.\r\n       * @param list The list that may have a last item.\r\n       *\r\n       * @return null if the list is null or there is no last item.\r\n       */\r\n      public static &lt;T&gt; T getLast( final List&lt;T&gt; list ) {\r\n        return getLast( list, null );\r\n      }\r\n    \r\n      /**\r\n       * Returns the first item in the given list, or t if not found.\r\n       *\r\n       * @param &lt;T&gt; The generic list type.\r\n       * @param list The list that may have a first item.\r\n       * @param t The default return value.\r\n       *\r\n       * @return null if the list is null or there is no first item.\r\n       */\r\n      public static &lt;T&gt; T getFirst( final List&lt;T&gt; list, final T t ) {\r\n        return isEmpty( list ) ? t : list.get( 0 );\r\n      }\r\n    \r\n      /**\r\n       * Returns the last item in the given list, or t if not found.\r\n       *\r\n       * @param &lt;T&gt; The generic list type.\r\n       * @param list The list that may have a last item.\r\n       * @param t The default return value.\r\n       *\r\n       * @return null if the list is null or there is no last item.\r\n       */\r\n      public static &lt;T&gt; T getLast( final List&lt;T&gt; list, final T t ) {\r\n        return isEmpty( list ) ? t : list.get( list.size() - 1 );\r\n      }\r\n    \r\n      /**\r\n       * Returns true if the given list is null or empty.\r\n       *\r\n       * @param &lt;T&gt; The generic list type.\r\n       * @param list The list that has a last item.\r\n       *\r\n       * @return true The list is empty.\r\n       */\r\n      public static &lt;T&gt; boolean isEmpty( final List&lt;T&gt; list ) {\r\n        return list == null || list.isEmpty();\r\n      }\r\n    }\r\n\r\n","title":"How to get the last value of an ArrayList","body":"<p>I use micro-util class for getting last (and first) element of list:</p>\n\n<pre><code>public final class Lists {\n\n    private Lists() {\n    }\n\n    public static &lt;T&gt; T getFirst(List&lt;T&gt; list) {\n        return list != null &amp;&amp; !list.isEmpty() ? list.get(0) : null;\n    }\n\n    public static &lt;T&gt; T getLast(List&lt;T&gt; list) {\n        return list != null &amp;&amp; !list.isEmpty() ? list.get(list.size() - 1) : null;\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Slightly more flexible:</p>\n\n<pre><code>import java.util.List;\n\n/**\n * Convenience class that provides a clearer API for obtaining list elements.\n */\npublic final class Lists {\n\n  private Lists() {\n  }\n\n  /**\n   * Returns the first item in the given list, or null if not found.\n   *\n   * @param &lt;T&gt; The generic list type.\n   * @param list The list that may have a first item.\n   *\n   * @return null if the list is null or there is no first item.\n   */\n  public static &lt;T&gt; T getFirst( final List&lt;T&gt; list ) {\n    return getFirst( list, null );\n  }\n\n  /**\n   * Returns the last item in the given list, or null if not found.\n   *\n   * @param &lt;T&gt; The generic list type.\n   * @param list The list that may have a last item.\n   *\n   * @return null if the list is null or there is no last item.\n   */\n  public static &lt;T&gt; T getLast( final List&lt;T&gt; list ) {\n    return getLast( list, null );\n  }\n\n  /**\n   * Returns the first item in the given list, or t if not found.\n   *\n   * @param &lt;T&gt; The generic list type.\n   * @param list The list that may have a first item.\n   * @param t The default return value.\n   *\n   * @return null if the list is null or there is no first item.\n   */\n  public static &lt;T&gt; T getFirst( final List&lt;T&gt; list, final T t ) {\n    return isEmpty( list ) ? t : list.get( 0 );\n  }\n\n  /**\n   * Returns the last item in the given list, or t if not found.\n   *\n   * @param &lt;T&gt; The generic list type.\n   * @param list The list that may have a last item.\n   * @param t The default return value.\n   *\n   * @return null if the list is null or there is no last item.\n   */\n  public static &lt;T&gt; T getLast( final List&lt;T&gt; list, final T t ) {\n    return isEmpty( list ) ? t : list.get( list.size() - 1 );\n  }\n\n  /**\n   * Returns true if the given list is null or empty.\n   *\n   * @param &lt;T&gt; The generic list type.\n   * @param list The list that has a last item.\n   *\n   * @return true The list is empty.\n   */\n  public static &lt;T&gt; boolean isEmpty( final List&lt;T&gt; list ) {\n    return list == null || list.isEmpty();\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2007569,"reputation":8114,"user_id":1797006,"accept_rate":63,"display_name":"Kalle Richter"},"score":1,"creation_date":1498174118,"post_id":27451876,"comment_id":76404518,"body_markdown":"This means at least linear cost in comparison to constant cost for direct access, but worth mentioning.","body":"This means at least linear cost in comparison to constant cost for direct access, but worth mentioning."},{"owner":{"account_id":162661,"reputation":301,"user_id":384267,"display_name":"John Glassmyer"},"score":0,"creation_date":1499922585,"post_id":27451876,"comment_id":77116252,"body_markdown":"@KarlRichter Yes. This corresponds with the absence of methods like get(int) in ArrayDeque&#39;s interface. This is what I meant to suggest by &quot;If you can&quot;; if the list is not being accessed by index, then perhaps it doesn&#39;t need to be a List.","body":"@KarlRichter Yes. This corresponds with the absence of methods like get(int) in ArrayDeque&#39;s interface. This is what I meant to suggest by &quot;If you can&quot;; if the list is not being accessed by index, then perhaps it doesn&#39;t need to be a List."}],"tags":[],"owner":{"account_id":162661,"reputation":301,"user_id":384267,"display_name":"John Glassmyer"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1418417345,"creation_date":1418417345,"answer_id":27451876,"question_id":687833,"body_markdown":"If you can, swap out the `ArrayList` for an `ArrayDeque`, which has convenient methods like `removeLast`.","title":"How to get the last value of an ArrayList","body":"<p>If you can, swap out the <code>ArrayList</code> for an <code>ArrayDeque</code>, which has convenient methods like <code>removeLast</code>.</p>\n"},{"tags":[],"owner":{"account_id":1815496,"reputation":9,"user_id":1650662,"display_name":"rokrfellr"},"comment_count":0,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1418428113,"creation_date":1418428113,"answer_id":27453884,"question_id":687833,"body_markdown":"How about this..\r\nSomewhere in your class...\r\n\r\n    List&lt;E&gt; list = new ArrayList&lt;E&gt;();\r\n    private int i = -1;\r\n    \tpublic void addObjToList(E elt){\r\n    \t\ti++;\r\n            list.add(elt);\r\n        }\r\n    \r\n    \r\n        public E getObjFromList(){\r\n    \t\tif(i == -1){ \r\n    \t\t\t//If list is empty handle the way you would like to... I am returning a null object\r\n    \t\t\treturn null; // or throw an exception\r\n    \t\t}\r\n\r\n            E object = list.get(i);\r\n            list.remove(i); //Optional - makes list work like a stack\r\n            i--;            //Optional - makes list work like a stack\r\n            return object;\r\n        }\r\n","title":"How to get the last value of an ArrayList","body":"<p>How about this..\nSomewhere in your class...</p>\n\n<pre><code>List&lt;E&gt; list = new ArrayList&lt;E&gt;();\nprivate int i = -1;\n    public void addObjToList(E elt){\n        i++;\n        list.add(elt);\n    }\n\n\n    public E getObjFromList(){\n        if(i == -1){ \n            //If list is empty handle the way you would like to... I am returning a null object\n            return null; // or throw an exception\n        }\n\n        E object = list.get(i);\n        list.remove(i); //Optional - makes list work like a stack\n        i--;            //Optional - makes list work like a stack\n        return object;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2007569,"reputation":8114,"user_id":1797006,"accept_rate":63,"display_name":"Kalle Richter"},"score":4,"creation_date":1498174069,"post_id":33915340,"comment_id":76404504,"body_markdown":"no additional value to @JohannesSchaub&#39;s earlier answer","body":"no additional value to @JohannesSchaub&#39;s earlier answer"}],"tags":[],"owner":{"account_id":7360275,"reputation":295,"user_id":5603750,"accept_rate":89,"display_name":"MircoProgram"},"comment_count":1,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1448450897,"creation_date":1448450897,"answer_id":33915340,"question_id":687833,"body_markdown":"The last item in the list is `list.size() - 1`. The collection is backed by an array and arrays start at index 0.\r\n\r\nSo element 1 in the list is at index 0 in the array \r\n\r\nElement 2 in the list is at index 1 in the array\r\n\r\nElement 3 in the list is at index 2 in the array \r\n\r\nand so on..","title":"How to get the last value of an ArrayList","body":"<p>The last item in the list is <code>list.size() - 1</code>. The collection is backed by an array and arrays start at index 0.</p>\n\n<p>So element 1 in the list is at index 0 in the array </p>\n\n<p>Element 2 in the list is at index 1 in the array</p>\n\n<p>Element 3 in the list is at index 2 in the array </p>\n\n<p>and so on..</p>\n"},{"comments":[{"owner":{"account_id":2007569,"reputation":8114,"user_id":1797006,"accept_rate":63,"display_name":"Kalle Richter"},"score":5,"creation_date":1498174043,"post_id":35387484,"comment_id":76404493,"body_markdown":"no additional value to @JohannesSchaub&#39;s earlier answer","body":"no additional value to @JohannesSchaub&#39;s earlier answer"}],"tags":[],"owner":{"account_id":5924521,"reputation":773,"user_id":4660857,"display_name":"user4660857"},"comment_count":1,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1455414658,"creation_date":1455414168,"answer_id":35387484,"question_id":687833,"body_markdown":"All you need to do is use size() to get the last value of the Arraylist. \r\nFor ex. if you ArrayList of integers, then to get last value you will have to\r\n\r\n    int lastValue = arrList.get(arrList.size()-1);\r\n\r\nRemember, elements in an Arraylist can be accessed using index values. Therefore, ArrayLists are generally used to search items.","title":"How to get the last value of an ArrayList","body":"<p>All you need to do is use size() to get the last value of the Arraylist. \nFor ex. if you ArrayList of integers, then to get last value you will have to</p>\n\n<pre><code>int lastValue = arrList.get(arrList.size()-1);\n</code></pre>\n\n<p>Remember, elements in an Arraylist can be accessed using index values. Therefore, ArrayLists are generally used to search items.</p>\n"},{"comments":[{"owner":{"account_id":7679118,"reputation":6230,"user_id":5818889,"accept_rate":83,"display_name":"glee8e"},"score":0,"creation_date":1491362076,"post_id":43221012,"comment_id":73512954,"body_markdown":"This is an `ArrayList` not an array.","body":"This is an <code>ArrayList</code> not an array."}],"tags":[],"owner":{"account_id":10615260,"reputation":1,"user_id":7817824,"display_name":"closeab"},"comment_count":1,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1491361054,"creation_date":1491361054,"answer_id":43221012,"question_id":687833,"body_markdown":"arrays store their size in a local variable called &#39;length&#39;.  Given an array named &quot;a&quot; you could use the following to reference the last index without knowing the index value\r\n\r\na[a.length-1]\r\n\r\nto assign a value of 5 to this last index you would use:\r\n\r\na[a.length-1]=5;","title":"How to get the last value of an ArrayList","body":"<p>arrays store their size in a local variable called 'length'.  Given an array named \"a\" you could use the following to reference the last index without knowing the index value</p>\n\n<p>a[a.length-1]</p>\n\n<p>to assign a value of 5 to this last index you would use:</p>\n\n<p>a[a.length-1]=5;</p>\n"},{"tags":[],"owner":{"account_id":6931079,"reputation":321,"user_id":6298467,"display_name":"Luis Vieira Damiani"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1525742290,"creation_date":1525742290,"answer_id":50224473,"question_id":687833,"body_markdown":"Using lambdas:\r\n\r\n    Function&lt;ArrayList&lt;T&gt;, T&gt; getLast = a -&gt; a.get(a.size() - 1);","title":"How to get the last value of an ArrayList","body":"<p>Using lambdas:</p>\n\n<pre><code>Function&lt;ArrayList&lt;T&gt;, T&gt; getLast = a -&gt; a.get(a.size() - 1);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":44321,"reputation":9248,"user_id":130028,"accept_rate":79,"display_name":"marcolopes"},"score":0,"creation_date":1601510298,"post_id":53254169,"comment_id":113434095,"body_markdown":"Best response here!","body":"Best response here!"}],"tags":[],"owner":{"account_id":12601597,"reputation":12580,"user_id":9164141,"accept_rate":93,"display_name":"Gast&#243;n Saill&#233;n"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1541977810,"creation_date":1541977810,"answer_id":53254169,"question_id":687833,"body_markdown":"If you use a LinkedList instead , you can access the first element and the last one with just `getFirst()` and `getLast()` (if you want a cleaner way than size() -1 and get(0))\r\n\r\nImplementation\r\n--------------\r\n\r\nDeclare a LinkedList\r\n\r\n \r\n\r\n    LinkedList&lt;Object&gt; mLinkedList = new LinkedList&lt;&gt;();\r\n\r\nThen this are the methods you can use to get what you want, in this case we are talking about **FIRST** and **LAST** element of a list\r\n\r\n\r\n\r\n \r\n\r\n    /**\r\n         * Returns the first element in this list.\r\n         *\r\n         * @return the first element in this list\r\n         * @throws NoSuchElementException if this list is empty\r\n         */\r\n        public E getFirst() {\r\n            final Node&lt;E&gt; f = first;\r\n            if (f == null)\r\n                throw new NoSuchElementException();\r\n            return f.item;\r\n        }\r\n    \r\n        /**\r\n         * Returns the last element in this list.\r\n         *\r\n         * @return the last element in this list\r\n         * @throws NoSuchElementException if this list is empty\r\n         */\r\n        public E getLast() {\r\n            final Node&lt;E&gt; l = last;\r\n            if (l == null)\r\n                throw new NoSuchElementException();\r\n            return l.item;\r\n        }\r\n    \r\n        /**\r\n         * Removes and returns the first element from this list.\r\n         *\r\n         * @return the first element from this list\r\n         * @throws NoSuchElementException if this list is empty\r\n         */\r\n        public E removeFirst() {\r\n            final Node&lt;E&gt; f = first;\r\n            if (f == null)\r\n                throw new NoSuchElementException();\r\n            return unlinkFirst(f);\r\n        }\r\n    \r\n        /**\r\n         * Removes and returns the last element from this list.\r\n         *\r\n         * @return the last element from this list\r\n         * @throws NoSuchElementException if this list is empty\r\n         */\r\n        public E removeLast() {\r\n            final Node&lt;E&gt; l = last;\r\n            if (l == null)\r\n                throw new NoSuchElementException();\r\n            return unlinkLast(l);\r\n        }\r\n    \r\n        /**\r\n         * Inserts the specified element at the beginning of this list.\r\n         *\r\n         * @param e the element to add\r\n         */\r\n        public void addFirst(E e) {\r\n            linkFirst(e);\r\n        }\r\n    \r\n        /**\r\n         * Appends the specified element to the end of this list.\r\n         *\r\n         * &lt;p&gt;This method is equivalent to {@link #add}.\r\n         *\r\n         * @param e the element to add\r\n         */\r\n        public void addLast(E e) {\r\n            linkLast(e);\r\n        }\r\n\r\n\r\nSo , then you can use \r\n\r\n    mLinkedList.getLast(); \r\n\r\nto get the last element of the list.","title":"How to get the last value of an ArrayList","body":"<p>If you use a LinkedList instead , you can access the first element and the last one with just <code>getFirst()</code> and <code>getLast()</code> (if you want a cleaner way than size() -1 and get(0))</p>\n\n<h2>Implementation</h2>\n\n<p>Declare a LinkedList</p>\n\n<pre><code>LinkedList&lt;Object&gt; mLinkedList = new LinkedList&lt;&gt;();\n</code></pre>\n\n<p>Then this are the methods you can use to get what you want, in this case we are talking about <strong>FIRST</strong> and <strong>LAST</strong> element of a list</p>\n\n<pre><code>/**\n     * Returns the first element in this list.\n     *\n     * @return the first element in this list\n     * @throws NoSuchElementException if this list is empty\n     */\n    public E getFirst() {\n        final Node&lt;E&gt; f = first;\n        if (f == null)\n            throw new NoSuchElementException();\n        return f.item;\n    }\n\n    /**\n     * Returns the last element in this list.\n     *\n     * @return the last element in this list\n     * @throws NoSuchElementException if this list is empty\n     */\n    public E getLast() {\n        final Node&lt;E&gt; l = last;\n        if (l == null)\n            throw new NoSuchElementException();\n        return l.item;\n    }\n\n    /**\n     * Removes and returns the first element from this list.\n     *\n     * @return the first element from this list\n     * @throws NoSuchElementException if this list is empty\n     */\n    public E removeFirst() {\n        final Node&lt;E&gt; f = first;\n        if (f == null)\n            throw new NoSuchElementException();\n        return unlinkFirst(f);\n    }\n\n    /**\n     * Removes and returns the last element from this list.\n     *\n     * @return the last element from this list\n     * @throws NoSuchElementException if this list is empty\n     */\n    public E removeLast() {\n        final Node&lt;E&gt; l = last;\n        if (l == null)\n            throw new NoSuchElementException();\n        return unlinkLast(l);\n    }\n\n    /**\n     * Inserts the specified element at the beginning of this list.\n     *\n     * @param e the element to add\n     */\n    public void addFirst(E e) {\n        linkFirst(e);\n    }\n\n    /**\n     * Appends the specified element to the end of this list.\n     *\n     * &lt;p&gt;This method is equivalent to {@link #add}.\n     *\n     * @param e the element to add\n     */\n    public void addLast(E e) {\n        linkLast(e);\n    }\n</code></pre>\n\n<p>So , then you can use </p>\n\n<pre><code>mLinkedList.getLast(); \n</code></pre>\n\n<p>to get the last element of the list.</p>\n"},{"tags":[],"owner":{"account_id":4158942,"reputation":1091,"user_id":3409441,"accept_rate":100,"display_name":"Terran"},"comment_count":0,"down_vote_count":6,"up_vote_count":0,"is_accepted":false,"score":-6,"last_activity_date":1543942266,"creation_date":1543942266,"answer_id":53617855,"question_id":687833,"body_markdown":"Alternative using the Stream API:\r\n\r\n    list.stream().reduce((first, second) -&gt; second)\r\n\r\nResults in an Optional of the last element.","title":"How to get the last value of an ArrayList","body":"<p>Alternative using the Stream API:</p>\n\n<pre><code>list.stream().reduce((first, second) -&gt; second)\n</code></pre>\n\n<p>Results in an Optional of the last element.</p>\n"},{"tags":[],"owner":{"account_id":322176,"reputation":1387,"user_id":641452,"accept_rate":83,"display_name":"Axiom255"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1554908087,"creation_date":1554815243,"answer_id":55593682,"question_id":687833,"body_markdown":"As stated in the solution, if the `List` is empty then an `IndexOutOfBoundsException` is thrown.  A better solution is to use the `Optional` type:\r\n\r\n```\r\npublic class ListUtils {\r\n    public static &lt;T&gt; Optional&lt;T&gt; last(List&lt;T&gt; list) {\r\n        return list.isEmpty() ? Optional.empty() : Optional.of(list.get(list.size() - 1));\r\n    }\r\n}\r\n```\r\n\r\nAs you&#39;d expect, the last element of the list is returned as an `Optional`:\r\n\r\n```\r\nvar list = List.of(10, 20, 30);\r\nassert ListUtils.last(list).orElse(-1) == 30;\r\n```\r\n\r\nIt also deals gracefully with empty lists as well:\r\n\r\n```\r\nvar emptyList = List.&lt;Integer&gt;of();\r\nassert ListUtils.last(emptyList).orElse(-1) == -1;\r\n```","title":"How to get the last value of an ArrayList","body":"<p>As stated in the solution, if the <code>List</code> is empty then an <code>IndexOutOfBoundsException</code> is thrown.  A better solution is to use the <code>Optional</code> type:</p>\n\n<pre><code>public class ListUtils {\n    public static &lt;T&gt; Optional&lt;T&gt; last(List&lt;T&gt; list) {\n        return list.isEmpty() ? Optional.empty() : Optional.of(list.get(list.size() - 1));\n    }\n}\n</code></pre>\n\n<p>As you'd expect, the last element of the list is returned as an <code>Optional</code>:</p>\n\n<pre><code>var list = List.of(10, 20, 30);\nassert ListUtils.last(list).orElse(-1) == 30;\n</code></pre>\n\n<p>It also deals gracefully with empty lists as well:</p>\n\n<pre><code>var emptyList = List.&lt;Integer&gt;of();\nassert ListUtils.last(emptyList).orElse(-1) == -1;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9127082,"reputation":2954,"user_id":6790326,"display_name":"Dorian Gray"},"score":0,"creation_date":1571564653,"post_id":56468173,"comment_id":103276919,"body_markdown":"I do not see a &quot;design flaw&quot; here, what you bring up is a rare use case that&#39;s not worth to be added to the `List` interface. Why would you want to call a method returning a List, if you&#39;re only interested in the last element? I do not remember I have seen that at all before.","body":"I do not see a &quot;design flaw&quot; here, what you bring up is a rare use case that&#39;s not worth to be added to the <code>List</code> interface. Why would you want to call a method returning a List, if you&#39;re only interested in the last element? I do not remember I have seen that at all before."},{"owner":{"account_id":1156799,"reputation":19472,"user_id":1137187,"accept_rate":74,"display_name":"Tregoreg"},"score":3,"creation_date":1571580431,"post_id":56468173,"comment_id":103280745,"body_markdown":"@DorianGray Reading last element from a list is a pretty common operation and `list.get(list.size()-1)` is the minimal example showing the issue. I agree that the &quot;advanced&quot; examples may be controversial and possibly an edge case, I just wanted to show how the issue can further propagate. Let&#39;s assume that the class of `someObject` is foreign, coming from external library.","body":"@DorianGray Reading last element from a list is a pretty common operation and <code>list.get(list.size()-1)</code> is the minimal example showing the issue. I agree that the &quot;advanced&quot; examples may be controversial and possibly an edge case, I just wanted to show how the issue can further propagate. Let&#39;s assume that the class of <code>someObject</code> is foreign, coming from external library."},{"owner":{"account_id":9127082,"reputation":2954,"user_id":6790326,"display_name":"Dorian Gray"},"score":0,"creation_date":1571589546,"post_id":56468173,"comment_id":103283206,"body_markdown":"I do not see where this is pretty common, and if it is, you better use `ArrayDeque` instead.","body":"I do not see where this is pretty common, and if it is, you better use <code>ArrayDeque</code> instead."},{"owner":{"account_id":1156799,"reputation":19472,"user_id":1137187,"accept_rate":74,"display_name":"Tregoreg"},"score":1,"creation_date":1571590275,"post_id":56468173,"comment_id":103283415,"body_markdown":"@DorianGray This question has a lot of upvotes and views, so there is a lot of people interested in getting the last value of an `ArrayList`.","body":"@DorianGray This question has a lot of upvotes and views, so there is a lot of people interested in getting the last value of an <code>ArrayList</code>."}],"tags":[],"owner":{"account_id":1156799,"reputation":19472,"user_id":1137187,"accept_rate":74,"display_name":"Tregoreg"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1559769623,"creation_date":1559769623,"answer_id":56468173,"question_id":687833,"body_markdown":"There is no *elegant* way of getting the last element of a list in Java (compared to e.g. `items[-1]` in Python).\r\n\r\nYou have to use `list.get(list.size()-1)`.\r\n\r\nWhen working with lists obtained by complicated method calls, the workaround lies in temporary variable:\r\n```\r\nList&lt;E&gt; list = someObject.someMethod(someArgument, anotherObject.anotherMethod());\r\nreturn list.get(list.size()-1);\r\n```\r\nThis is the only option to avoid ugly and often expensive or even not working version:\r\n```\r\nreturn someObject.someMethod(someArgument, anotherObject.anotherMethod()).get(\r\n    someObject.someMethod(someArgument, anotherObject.anotherMethod()).size() - 1\r\n);\r\n```\r\nIt would be nice if fix for this design flaw was introduced to Java API.","title":"How to get the last value of an ArrayList","body":"<p>There is no <em>elegant</em> way of getting the last element of a list in Java (compared to e.g. <code>items[-1]</code> in Python).</p>\n\n<p>You have to use <code>list.get(list.size()-1)</code>.</p>\n\n<p>When working with lists obtained by complicated method calls, the workaround lies in temporary variable:</p>\n\n<pre><code>List&lt;E&gt; list = someObject.someMethod(someArgument, anotherObject.anotherMethod());\nreturn list.get(list.size()-1);\n</code></pre>\n\n<p>This is the only option to avoid ugly and often expensive or even not working version:</p>\n\n<pre><code>return someObject.someMethod(someArgument, anotherObject.anotherMethod()).get(\n    someObject.someMethod(someArgument, anotherObject.anotherMethod()).size() - 1\n);\n</code></pre>\n\n<p>It would be nice if fix for this design flaw was introduced to Java API.</p>\n"},{"comments":[{"owner":{"account_id":12817821,"reputation":792,"user_id":9273877,"display_name":"Jachdich"},"score":19,"creation_date":1570097976,"post_id":57838817,"comment_id":102810179,"body_markdown":"This is java however","body":"This is java however"},{"owner":{"account_id":12395830,"reputation":2168,"user_id":9035706,"display_name":"Eerik Sven Puudist"},"score":5,"creation_date":1581197074,"post_id":57838817,"comment_id":106352218,"body_markdown":"One of the ideas behind creating Kotlin was to cover the little uncomfortable sides of Java. So I think it makes sense to recommend considering Kotlin, at least for the parts of the application that do data analasys.","body":"One of the ideas behind creating Kotlin was to cover the little uncomfortable sides of Java. So I think it makes sense to recommend considering Kotlin, at least for the parts of the application that do data analasys."}],"tags":[],"owner":{"account_id":11141055,"reputation":1650,"user_id":8355496,"display_name":"Ollie"},"comment_count":2,"down_vote_count":16,"up_vote_count":6,"is_accepted":false,"score":-10,"last_activity_date":1567910490,"creation_date":1567910490,"answer_id":57838817,"question_id":687833,"body_markdown":"In Kotlin, you can use the method `last`: \r\n\r\n```kotlin\r\nval lastItem = list.last()\r\n```","title":"How to get the last value of an ArrayList","body":"<p>In Kotlin, you can use the method <code>last</code>: </p>\n\n<pre><code>val lastItem = list.last()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13709473,"reputation":19,"user_id":9892216,"display_name":"shravyaverma"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1578906572,"creation_date":1578906572,"answer_id":59713448,"question_id":687833,"body_markdown":"Since the indexing in ArrayList starts from 0 and ends one place before the actual size hence the correct statement to return the last arraylist element would be:\r\n\r\n**int last = mylist.get(mylist.size()-1);**\r\n\r\nFor example:\r\n\r\nif size of array list is 5, then size-1 = 4 would return the last array element.","title":"How to get the last value of an ArrayList","body":"<p>Since the indexing in ArrayList starts from 0 and ends one place before the actual size hence the correct statement to return the last arraylist element would be:</p>\n\n<p><strong>int last = mylist.get(mylist.size()-1);</strong></p>\n\n<p>For example:</p>\n\n<p>if size of array list is 5, then size-1 = 4 would return the last array element.</p>\n"},{"comments":[{"owner":{"account_id":5650328,"reputation":1113,"user_id":4471199,"display_name":"RoBeaToZ"},"score":1,"creation_date":1587546036,"post_id":61129018,"comment_id":108550503,"body_markdown":"`java.util.Collections#reverse` does it, too.","body":"<code>java.util.Collections#reverse</code> does it, too."},{"owner":{"account_id":14780386,"reputation":2981,"user_id":10674026,"display_name":"pero_hero"},"score":1,"creation_date":1587562255,"post_id":61129018,"comment_id":108559375,"body_markdown":"@RoBeaToZ, it does but it changes the original list by iterating through it and returns void, so it doesn&#39;t deem to fit for this purpose.","body":"@RoBeaToZ, it does but it changes the original list by iterating through it and returns void, so it doesn&#39;t deem to fit for this purpose."},{"owner":{"account_id":5577204,"reputation":310,"user_id":4420271,"accept_rate":78,"display_name":"philburns"},"score":0,"creation_date":1606224803,"post_id":61129018,"comment_id":114893758,"body_markdown":"That&#39;s pretty expensive for just getting one element. Imagine your list has 1.000.000 entries or so.","body":"That&#39;s pretty expensive for just getting one element. Imagine your list has 1.000.000 entries or so."},{"owner":{"account_id":14780386,"reputation":2981,"user_id":10674026,"display_name":"pero_hero"},"score":0,"creation_date":1618398316,"post_id":61129018,"comment_id":118587921,"body_markdown":"@philburns this call is in O(1) regardless of the list size","body":"@philburns this call is in O(1) regardless of the list size"}],"tags":[],"owner":{"account_id":14780386,"reputation":2981,"user_id":10674026,"display_name":"pero_hero"},"comment_count":4,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1586461329,"creation_date":1586461329,"answer_id":61129018,"question_id":687833,"body_markdown":"[guava][1] provides another way to obtain the last element from a `List`:\r\n\r\n`last = Lists.reverse(list).get(0)`\r\n\r\nif the provided list is empty it throws an `IndexOutOfBoundsException`\r\n\r\n\r\n  [1]: https://github.com/google/guava","title":"How to get the last value of an ArrayList","body":"<p><a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">guava</a> provides another way to obtain the last element from a <code>List</code>:</p>\n\n<p><code>last = Lists.reverse(list).get(0)</code></p>\n\n<p>if the provided list is empty it throws an <code>IndexOutOfBoundsException</code></p>\n"},{"tags":[],"owner":{"account_id":1681986,"reputation":4236,"user_id":1546042,"display_name":"BitfulByte"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1632396733,"creation_date":1598011280,"answer_id":63522580,"question_id":687833,"body_markdown":"In case you have a Spring project, you can also use the `CollectionUtils.lastElement` from Spring ([javadoc][1]), so you don&#39;t need to add an extra dependency like Google Guava.\r\n\r\nIt is null-safe so if you pass null, you will simply receive null in return. Be careful when handling the response though.\r\n\r\nHere are somes unit test to demonstrate them:\r\n\r\n```\r\n@Test\r\nvoid lastElementOfList() {\r\n    var names = List.of(&quot;John&quot;, &quot;Jane&quot;);\r\n\r\n    var lastName = CollectionUtils.lastElement(names);\r\n\r\n    then(lastName)\r\n        .as(&quot;Expected Jane to be the last name in the list&quot;)\r\n        .isEqualTo(&quot;Jane&quot;);\r\n}\r\n\r\n@Test\r\nvoid lastElementOfSet() {\r\n    var names = new TreeSet&lt;&gt;(Set.of(&quot;Jane&quot;, &quot;John&quot;, &quot;James&quot;));\r\n\r\n    var lastName = CollectionUtils.lastElement(names);\r\n\r\n    then(lastName)\r\n        .as(&quot;Expected John to be the last name in the list&quot;)\r\n        .isEqualTo(&quot;John&quot;);\r\n}\r\n```\r\n\r\nNote: `org.assertj.core.api.BDDAssertions#then(java.lang.String)` is used for assertions.\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/CollectionUtils.html#lastElement-java.util.List-","title":"How to get the last value of an ArrayList","body":"<p>In case you have a Spring project, you can also use the <code>CollectionUtils.lastElement</code> from Spring (<a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/CollectionUtils.html#lastElement-java.util.List-\" rel=\"nofollow noreferrer\">javadoc</a>), so you don't need to add an extra dependency like Google Guava.</p>\n<p>It is null-safe so if you pass null, you will simply receive null in return. Be careful when handling the response though.</p>\n<p>Here are somes unit test to demonstrate them:</p>\n<pre><code>@Test\nvoid lastElementOfList() {\n    var names = List.of(&quot;John&quot;, &quot;Jane&quot;);\n\n    var lastName = CollectionUtils.lastElement(names);\n\n    then(lastName)\n        .as(&quot;Expected Jane to be the last name in the list&quot;)\n        .isEqualTo(&quot;Jane&quot;);\n}\n\n@Test\nvoid lastElementOfSet() {\n    var names = new TreeSet&lt;&gt;(Set.of(&quot;Jane&quot;, &quot;John&quot;, &quot;James&quot;));\n\n    var lastName = CollectionUtils.lastElement(names);\n\n    then(lastName)\n        .as(&quot;Expected John to be the last name in the list&quot;)\n        .isEqualTo(&quot;John&quot;);\n}\n</code></pre>\n<p>Note: <code>org.assertj.core.api.BDDAssertions#then(java.lang.String)</code> is used for assertions.</p>\n"},{"tags":[],"owner":{"account_id":17160351,"reputation":346,"user_id":12420157,"display_name":"Med Sep"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1607844269,"creation_date":1607844269,"answer_id":65273305,"question_id":687833,"body_markdown":"This worked for me. \r\n\r\n    private ArrayList&lt;String&gt; meals;\r\n    public String take(){\r\n      return meals.remove(meals.size()-1);\r\n    }\r\n","title":"How to get the last value of an ArrayList","body":"<p>This worked for me.</p>\n<pre><code>private ArrayList&lt;String&gt; meals;\npublic String take(){\n  return meals.remove(meals.size()-1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":182970,"reputation":3454,"user_id":418057,"display_name":"Craigo"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1609574283,"creation_date":1609574283,"answer_id":65537081,"question_id":687833,"body_markdown":"A one liner that takes into account empty lists would be:\r\n\r\n```lang-java\r\nT lastItem = list.size() == 0 ? null : list.get(list.size() - 1);\r\n```\r\n\r\nOr if you don&#39;t like null values (and performance isn&#39;t an issue):\r\n\r\n```lang-java\r\nOptional&lt;T&gt; lastItem = list.stream().reduce((first, second) -&gt; second);\r\n```","title":"How to get the last value of an ArrayList","body":"<p>A one liner that takes into account empty lists would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>T lastItem = list.size() == 0 ? null : list.get(list.size() - 1);\n</code></pre>\n<p>Or if you don't like null values (and performance isn't an issue):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;T&gt; lastItem = list.stream().reduce((first, second) -&gt; second);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13248794,"reputation":324,"user_id":9566978,"display_name":"MindRoasterMir"},"score":0,"creation_date":1661808192,"post_id":69686644,"comment_id":129855355,"body_markdown":"5 negative comments without giving reason in comment.","body":"5 negative comments without giving reason in comment."},{"owner":{"account_id":5194885,"reputation":113,"user_id":4156573,"accept_rate":75,"display_name":"Kumaravel"},"score":1,"creation_date":1669200002,"post_id":69686644,"comment_id":131588826,"body_markdown":"Its correct solution. but solution asked for Java","body":"Its correct solution. but solution asked for Java"}],"tags":[],"owner":{"account_id":20278934,"reputation":7,"user_id":14873217,"display_name":"Prasoon Mishra"},"comment_count":2,"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1634980015,"creation_date":1634980015,"answer_id":69686644,"question_id":687833,"body_markdown":"To Get the last value of arraylist in JavaScript :\r\n```\r\nvar yourlist = [&quot;1&quot;,&quot;2&quot;,&quot;3&quot;];\r\nvar lastvalue = yourlist[yourlist.length -1];\r\n```\r\n\r\nIt gives the output as 3 .","title":"How to get the last value of an ArrayList","body":"<p>To Get the last value of arraylist in JavaScript :</p>\n<pre><code>var yourlist = [&quot;1&quot;,&quot;2&quot;,&quot;3&quot;];\nvar lastvalue = yourlist[yourlist.length -1];\n</code></pre>\n<p>It gives the output as 3 .</p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1701207749,"creation_date":1686720599,"answer_id":76470369,"question_id":687833,"body_markdown":"## `List#getLast`\r\n\r\nAs of Java 21, the [`getLast`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#getLast()) method can be used.  This returns the last item of the list, throwing a `NoSuchElementException` if the list was empty.\r\n\r\n```lang-java\r\nlist.getLast();\r\n```","title":"How to get the last value of an ArrayList","body":"<h2><code>List#getLast</code></h2>\n<p>As of Java 21, the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#getLast()\" rel=\"nofollow noreferrer\"><code>getLast</code></a> method can be used.  This returns the last item of the list, throwing a <code>NoSuchElementException</code> if the list was empty.</p>\n<pre class=\"lang-java prettyprint-override\"><code>list.getLast();\n</code></pre>\n"}],"owner":{"account_id":29808,"reputation":15451,"user_id":80796,"accept_rate":77,"display_name":"Jessy"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1063751,"favorite_count":0,"down_vote_count":5,"up_vote_count":790,"accepted_answer_id":687842,"answer_count":24,"score":785,"last_activity_date":1701207749,"creation_date":1238107137,"question_id":687833,"body_markdown":"How can I get the last value of an ArrayList?\r\n","title":"How to get the last value of an ArrayList","body":"<p>How can I get the last value of an ArrayList?</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1420759925,"post_id":27850903,"comment_id":44106930,"body_markdown":"Your solution for task `2` is very interesting :D.","body":"Your solution for task <code>2</code> is very interesting :D."},{"owner":{"account_id":5460999,"reputation":385,"user_id":4343123,"accept_rate":95,"display_name":"Kenneth Yong"},"score":0,"creation_date":1420761361,"post_id":27850903,"comment_id":44107402,"body_markdown":"@Tom haha... interesting? Is there a way I could have done it better?","body":"@Tom haha... interesting? Is there a way I could have done it better?"},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":1,"creation_date":1420761473,"post_id":27850903,"comment_id":44107429,"body_markdown":"Yes, by creating real random String and not just the output of `instanceOfRandomClass.toString()`.","body":"Yes, by creating real random String and not just the output of <code>instanceOfRandomClass.toString()</code>."},{"owner":{"account_id":5460999,"reputation":385,"user_id":4343123,"accept_rate":95,"display_name":"Kenneth Yong"},"score":0,"creation_date":1420762454,"post_id":27850903,"comment_id":44107718,"body_markdown":"@Tom Hmm I&#39;m not sure what that is... but I&#39;ll look it up and implement it into my code :) Thanks for the tip","body":"@Tom Hmm I&#39;m not sure what that is... but I&#39;ll look it up and implement it into my code :) Thanks for the tip"},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1420762622,"post_id":27850903,"comment_id":44107771,"body_markdown":"You can search on Stackoverflow for that. There are some questions (and answers) about random strings in Java.","body":"You can search on Stackoverflow for that. There are some questions (and answers) about random strings in Java."},{"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"score":0,"creation_date":1693181093,"post_id":27850903,"comment_id":135722053,"body_markdown":"Does this answer your question? [Removing last object of ArrayList in Java](https://stackoverflow.com/questions/16987727/removing-last-object-of-arraylist-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/16987727/removing-last-object-of-arraylist-in-java\">Removing last object of ArrayList in Java</a>"}],"answers":[{"comments":[{"owner":{"account_id":8125310,"reputation":2565,"user_id":6120487,"display_name":"Lev Leontev"},"score":1,"creation_date":1573390621,"post_id":27850932,"comment_id":103859658,"body_markdown":"It would be great if Java had a dedicated function for this, like pop_back() in std::vector in C++","body":"It would be great if Java had a dedicated function for this, like pop_back() in std::vector in C++"},{"owner":{"account_id":4804733,"reputation":2215,"user_id":3880225,"accept_rate":21,"display_name":"cilap"},"score":0,"creation_date":1591546995,"post_id":27850932,"comment_id":110091353,"body_markdown":"yeah, some neat functions are missing, here are some examples explained https://xenovation.com/blog/development/java/remove-last-element-from-list-java","body":"yeah, some neat functions are missing, here are some examples explained <a href=\"https://xenovation.com/blog/development/java/remove-last-element-from-list-java\" rel=\"nofollow noreferrer\">xenovation.com/blog/development/java/&hellip;</a>"}],"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"comment_count":2,"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1420757851,"creation_date":1420757220,"answer_id":27850932,"question_id":27850903,"body_markdown":"`List` indices go from `0` to `list.size() - 1`. Exceeding the upper bound results in the `IndexOutOfBoundsException`\r\n\r\n    list.remove(list.size() - 1);","title":"Remove last element of a list","body":"<p><code>List</code> indices go from <code>0</code> to <code>list.size() - 1</code>. Exceeding the upper bound results in the <code>IndexOutOfBoundsException</code></p>\n\n<pre><code>list.remove(list.size() - 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":484452,"reputation":21496,"user_id":900130,"accept_rate":65,"display_name":"Zolt&#225;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1530259085,"creation_date":1420757264,"answer_id":27850942,"question_id":27850903,"body_markdown":"Your list has 11 elements, their indices are 0-10. When you call `list.remove(list.size());`, you are telling it to remove the element at index 11 (because the size of the list is 11), but that index is out of bounds.\r\n\r\nThe index of the last element of any list is always `list.size() - 1`.","title":"Remove last element of a list","body":"<p>Your list has 11 elements, their indices are 0-10. When you call <code>list.remove(list.size());</code>, you are telling it to remove the element at index 11 (because the size of the list is 11), but that index is out of bounds.</p>\n\n<p>The index of the last element of any list is always <code>list.size() - 1</code>.</p>\n"},{"tags":[],"owner":{"account_id":90334,"reputation":725,"user_id":248741,"accept_rate":60,"display_name":"SysCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701207659,"creation_date":1695666118,"answer_id":77174940,"question_id":27850903,"body_markdown":"## `List#removeLast`\r\n\r\nAs of Java 21, you can now use [removeLast()][1].\r\n\r\n&gt; Removes and returns the last element of this collection (optional operation).\r\n\r\nhttps://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#removeLast()\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#removeLast()","title":"Remove last element of a list","body":"<h2><code>List#removeLast</code></h2>\n<p>As of Java 21, you can now use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#removeLast()\" rel=\"nofollow noreferrer\">removeLast()</a>.</p>\n<blockquote>\n<p>Removes and returns the last element of this collection (optional operation).</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#removeLast()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#removeLast()</a></p>\n"}],"owner":{"account_id":5460999,"reputation":385,"user_id":4343123,"accept_rate":95,"display_name":"Kenneth Yong"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42275,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":27850932,"answer_count":3,"score":13,"last_activity_date":1701207659,"creation_date":1420757087,"question_id":27850903,"body_markdown":"I&#39;ve been tasked to do the below in a newbie Java tutorial on ArrayList\r\n\r\n\t// 1) Declare am ArrayList of strings\r\n\t\t// 2) Call the add method and add 10 random strings\r\n\t\t// 3) Iterate through all the elements in the ArrayList\r\n\t\t// 4) Remove the first and last element of the ArrayList\r\n\t\t// 5) Iterate through all the elements in the ArrayList, again.\r\n\r\nBelow is my code\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Random;\r\n    \r\n    public class Ex1_BasicArrayList {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    \t\tfor (int i = 0; i &lt;= 10; i++){\r\n    \t\t\tRandom rand = new Random();\r\n    \t\t\tString randy = String.valueOf(rand);\r\n    \t\t\tlist.add(randy );\r\n    \t\t}\r\n    \t\tfor (int i = 0; i &lt; list.size(); i++){\r\n    \t\t\tSystem.out.print(list.get(i));\r\n    \t\t}\t\r\n    \t\tlist.remove(0);\r\n    \t\tlist.remove(list.size());\r\n    \t\t\r\n    \t\tfor (int i = 0; i &lt; list.size(); i++){\r\n    \t\t\tSystem.out.print(list.get(i));\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThe code runs, but I get the below error message when it runs. Any ideas on what I&#39;m doing wrong?\r\n\r\n    java.util.Random@7852e922java.util.Random@4e25154fjava.util.Random@70dea4ejava.util.Random@5c647e05java.util.Random@33909752java.util.Random@55f96302java.util.Random@3d4eac69java.util.Random@42a57993java.util.Random@75b84c92java.util.Random@6bc7c054Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index: 10, Size: 10\r\n    \tat java.util.ArrayList.rangeCheck(Unknown Source)\r\n    \tat java.util.ArrayList.remove(Unknown Source)\r\n    \tat apollo.exercises.ch08_collections.Ex1_BasicArrayList.main(Ex1_BasicArrayList.java:23)","title":"Remove last element of a list","body":"<p>I've been tasked to do the below in a newbie Java tutorial on ArrayList</p>\n\n<pre><code>// 1) Declare am ArrayList of strings\n    // 2) Call the add method and add 10 random strings\n    // 3) Iterate through all the elements in the ArrayList\n    // 4) Remove the first and last element of the ArrayList\n    // 5) Iterate through all the elements in the ArrayList, again.\n</code></pre>\n\n<p>Below is my code</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Random;\n\npublic class Ex1_BasicArrayList {\n\n    public static void main(String[] args) {\n        ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        for (int i = 0; i &lt;= 10; i++){\n            Random rand = new Random();\n            String randy = String.valueOf(rand);\n            list.add(randy );\n        }\n        for (int i = 0; i &lt; list.size(); i++){\n            System.out.print(list.get(i));\n        }   \n        list.remove(0);\n        list.remove(list.size());\n\n        for (int i = 0; i &lt; list.size(); i++){\n            System.out.print(list.get(i));\n        }\n    }\n}\n</code></pre>\n\n<p>The code runs, but I get the below error message when it runs. Any ideas on what I'm doing wrong?</p>\n\n<pre><code>java.util.Random@7852e922java.util.Random@4e25154fjava.util.Random@70dea4ejava.util.Random@5c647e05java.util.Random@33909752java.util.Random@55f96302java.util.Random@3d4eac69java.util.Random@42a57993java.util.Random@75b84c92java.util.Random@6bc7c054Exception in thread \"main\" java.lang.IndexOutOfBoundsException: Index: 10, Size: 10\n    at java.util.ArrayList.rangeCheck(Unknown Source)\n    at java.util.ArrayList.remove(Unknown Source)\n    at apollo.exercises.ch08_collections.Ex1_BasicArrayList.main(Ex1_BasicArrayList.java:23)\n</code></pre>\n"},{"tags":["java","android","google-maps","latitude-longitude","getlocation"],"comments":[{"owner":{"account_id":24508188,"reputation":1915,"user_id":18422887,"display_name":"Yrll"},"score":0,"creation_date":1701824044,"post_id":77567242,"comment_id":136822567,"body_markdown":"Would this related question help? https://stackoverflow.com/a/37183439/18422887","body":"Would this related question help? <a href=\"https://stackoverflow.com/a/37183439/18422887\">stackoverflow.com/a/37183439/18422887</a>"},{"owner":{"account_id":16269997,"reputation":1,"user_id":11748910,"display_name":"Andr&#233;s"},"score":0,"creation_date":1701843814,"post_id":77567242,"comment_id":136824003,"body_markdown":"@Yrll I&#39;m not implementing Google Maps SDK for Android, I took the shared link directly from Google Maps app installed in the device","body":"@Yrll I&#39;m not implementing Google Maps SDK for Android, I took the shared link directly from Google Maps app installed in the device"},{"owner":{"account_id":24508188,"reputation":1915,"user_id":18422887,"display_name":"Yrll"},"score":0,"creation_date":1701913569,"post_id":77567242,"comment_id":136835141,"body_markdown":"You might want to check Google Maps Intents for Android. https://developers.google.com/maps/documentation/urls/android-intents Also what are you passing to the Geocoder? Is it just a URL? How about just using Maps APIs?","body":"You might want to check Google Maps Intents for Android. <a href=\"https://developers.google.com/maps/documentation/urls/android-intents\" rel=\"nofollow noreferrer\">developers.google.com/maps/documentation/urls/android-intent&zwnj;&#8203;s</a> Also what are you passing to the Geocoder? Is it just a URL? How about just using Maps APIs?"}],"owner":{"account_id":16269997,"reputation":1,"user_id":11748910,"display_name":"Andr&#233;s"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701207517,"creation_date":1701206934,"question_id":77567242,"body_markdown":"I&#39;m trying to share a location from Google Maps to my own Android, I&#39;m doing it with an Intent in my app and I successfully get the Intent in my app, but I&#39;m getting something like this:\r\n\r\nhttps://maps.app.goo.gl/SUeYVuEWd5u9Xn5B8\r\n\r\nSo, the problem is that I can&#39;t get latitude and longitude from this URL.\r\n\r\nIn my AndroidManifest I have and intent filter in the activity where I want to get the location\r\n\r\n```\r\n&lt;activity\r\n            android:name=&quot;.activities.MainActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;data android:mimeType=&quot;text/plain&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n&lt;/activity&gt;\r\n```\r\n\r\nThen, in my activity I receive the intent in this way\r\n\r\n```\r\nIntent intent = getIntent();\r\n        String action = intent.getAction();\r\n        String type = intent.getType();\r\n\r\n        if(Intent.ACTION_SEND.equals(action) &amp;&amp; type != null) {\r\n            if(&quot;text/plain&quot;.equals(type)) {\r\n                String sharedText = intent.getStringExtra(Intent.EXTRA_TEXT);\r\n                if(sharedText != null) {\r\n                    //sharedText = https://maps.app.goo.gl/SUeYVuEWd5u9Xn5B8\r\n                    Geocoder geocoder = new Geocoder(this);\r\n                    List&lt;Address&gt; addressesList = geocoder.getFromLocationName(sharedText, 1);\r\n                }\r\n            }\r\n        }\r\n```\r\n\r\nBut the `addressesList` object has a size of 0 since I can&#39;t get the location from https://maps.app.goo.gl/SUeYVuEWd5u9Xn5B8\r\n\r\nWhats is the best way to get latitude and longitude?\r\n","title":"Get latitude and longitude from google maps&#39; shared location in my own Android app","body":"<p>I'm trying to share a location from Google Maps to my own Android, I'm doing it with an Intent in my app and I successfully get the Intent in my app, but I'm getting something like this:</p>\n<p><a href=\"https://maps.app.goo.gl/SUeYVuEWd5u9Xn5B8\" rel=\"nofollow noreferrer\">https://maps.app.goo.gl/SUeYVuEWd5u9Xn5B8</a></p>\n<p>So, the problem is that I can't get latitude and longitude from this URL.</p>\n<p>In my AndroidManifest I have and intent filter in the activity where I want to get the location</p>\n<pre><code>&lt;activity\n            android:name=&quot;.activities.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;data android:mimeType=&quot;text/plain&quot; /&gt;\n            &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n<p>Then, in my activity I receive the intent in this way</p>\n<pre><code>Intent intent = getIntent();\n        String action = intent.getAction();\n        String type = intent.getType();\n\n        if(Intent.ACTION_SEND.equals(action) &amp;&amp; type != null) {\n            if(&quot;text/plain&quot;.equals(type)) {\n                String sharedText = intent.getStringExtra(Intent.EXTRA_TEXT);\n                if(sharedText != null) {\n                    //sharedText = https://maps.app.goo.gl/SUeYVuEWd5u9Xn5B8\n                    Geocoder geocoder = new Geocoder(this);\n                    List&lt;Address&gt; addressesList = geocoder.getFromLocationName(sharedText, 1);\n                }\n            }\n        }\n</code></pre>\n<p>But the <code>addressesList</code> object has a size of 0 since I can't get the location from <a href=\"https://maps.app.goo.gl/SUeYVuEWd5u9Xn5B8\" rel=\"nofollow noreferrer\">https://maps.app.goo.gl/SUeYVuEWd5u9Xn5B8</a></p>\n<p>Whats is the best way to get latitude and longitude?</p>\n"},{"tags":["java","arrays","list","set"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1701140884,"post_id":77561114,"comment_id":136735699,"body_markdown":"Where did you read equals documentation for arrays?  In any event, what matters is `.equals`, not `==`.","body":"Where did you read equals documentation for arrays?  In any event, what matters is <code>.equals</code>, not <code>==</code>."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1701141199,"post_id":77561114,"comment_id":136735727,"body_markdown":"This might be a partial duplicate of [What is the difference between == and equals() in Java?](https://stackoverflow.com/q/7520432/6395627).","body":"This might be a partial duplicate of <a href=\"https://stackoverflow.com/q/7520432/6395627\">What is the difference between == and equals() in Java?</a>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701207308,"post_id":77561114,"comment_id":136746299,"body_markdown":"Always search Stack Overflow thoroughly before posting. When drafting your Question, note how similar existing questions do not address your issue.","body":"Always search Stack Overflow thoroughly before posting. When drafting your Question, note how similar existing questions do not address your issue."}],"answers":[{"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1701154047,"post_id":77561272,"comment_id":136736797,"body_markdown":"_Meaning, no two keys may have the same hash-code_: sorry but this is nonsense. The Strings &quot;aa&quot; and &quot;bB&quot; have the same hashcode (3104) but I can easily add both of them to a `HashSet`.","body":"<i>Meaning, no two keys may have the same hash-code</i>: sorry but this is nonsense. The Strings &quot;aa&quot; and &quot;bB&quot; have the same hashcode (3104) but I can easily add both of them to a <code>HashSet</code>."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1701194695,"post_id":77561272,"comment_id":136744300,"body_markdown":"@ThomasKl&#228;ger, _putVal(hash(key), key, value, false, true)_.","body":"@ThomasKl&#228;ger, <i>putVal(hash(key), key, value, false, true)</i>."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1701195973,"post_id":77561272,"comment_id":136744496,"body_markdown":"@ThomasKl&#228;ger, and, why don&#39;t you just write an answer?","body":"@ThomasKl&#228;ger, and, why don&#39;t you just write an answer?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1701203950,"post_id":77561272,"comment_id":136745807,"body_markdown":"The condition in `putVal()` is `p.hash == hash &amp;&amp;  ((k = p.key) == key || (key != null &amp;&amp; key.equals(k)))`  which means that not only the hash values must match, it must also be true that the keys are either the same object (`p.key == key`) or if key is not null `key.equals(k)`","body":"The condition in <code>putVal()</code> is <code>p.hash == hash &amp;&amp;  ((k = p.key) == key || (key != null &amp;&amp; key.equals(k)))</code>  which means that not only the hash values must match, it must also be true that the keys are either the same object (<code>p.key == key</code>) or if key is not null <code>key.equals(k)</code>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1701204492,"post_id":77561272,"comment_id":136745904,"body_markdown":"@ThomasKl&#228;ger, ok, what should I adjust?","body":"@ThomasKl&#228;ger, ok, what should I adjust?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1701205979,"post_id":77561272,"comment_id":136746132,"body_markdown":"I would write something like &quot;no two equal keys (as defined by the `equals(Object)` method) may be added. Note that objects that are equal according to `equals(Object)` must have the same `hashCode()`&quot;.","body":"I would write something like &quot;no two equal keys (as defined by the <code>equals(Object)</code> method) may be added. Note that objects that are equal according to <code>equals(Object)</code> must have the same <code>hashCode()</code>&quot;."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1701208425,"post_id":77561272,"comment_id":136746493,"body_markdown":"@ThomasKl&#228;ger, cool thanks, dude.","body":"@ThomasKl&#228;ger, cool thanks, dude."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701195876,"creation_date":1701143944,"answer_id":77561272,"question_id":77561114,"body_markdown":"&gt; _&quot;... How does set compare objects in java? ...&quot;_\r\n\r\nThere are different implementations of the _[Set](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Set.html)_ interface.\r\n\r\nIn your particular example, you&#39;re using the _[HashSet](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/HashSet.html)_, which utilizes a _[Map](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html)_, or more accurately, a _[HashMap](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/HashMap.html)_.\\\r\nOf which, in turn, generates a _&quot;[hash-code](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode())&quot;_ value of the supplied _key_, upon entry.\\\r\nMeaning, no two _keys_ may have the same _hash-code_.\r\n\r\nHere is the source code, for _[HashMap#put](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/HashMap.html#put(K,V))_.\\\r\n_[GitHub &amp;ndash; OpenJDK &amp;ndash; HashMap.java &amp;ndash; put(K, V)](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/HashMap.java#L617)_.\r\n\r\n```java\r\n/**\r\n * Associates the specified value with the specified key in this map.\r\n * If the map previously contained a mapping for the key, the old\r\n * value is replaced.\r\n *\r\n * @param key key with which the specified value is to be associated\r\n * @param value value to be associated with the specified key\r\n * @return the previous value associated with {@code key}, or\r\n *         {@code null} if there was no mapping for {@code key}.\r\n *         (A {@code null} return can also indicate that the map\r\n *         previously associated {@code null} with {@code key}.)\r\n */\r\npublic V put(K key, V value) {\r\n    return putVal(hash(key), key, value, false, true);\r\n}\r\n```\r\n\r\nAnd, here is _HashMap#putVal_.\\\r\n_[GitHub &amp;ndash; OpenJDK &amp;ndash; HashMap.java &amp;ndash; putVal(int, K, V, boolean, boolean)](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/HashMap.java#L631)_.\r\n\r\nIt appears to be the typical _Set_ abstraction; allowing only unique values.\\\r\nHere is a relevant _Wikipedia_ article.\\\r\n_[Wikipedia &amp;ndash; Set (abstract data type)](https://en.wikipedia.org/wiki/Set_(abstract_data_type))_.\r\n\r\n```java\r\n/**\r\n * Implements Map.put and related methods.\r\n *\r\n * @param hash hash for key\r\n * @param key the key\r\n * @param value the value to put\r\n * @param onlyIfAbsent if true, don&#39;t change existing value\r\n * @param evict if false, the table is in creation mode.\r\n * @return previous value, or null if none\r\n */\r\nfinal V putVal(int hash, K key, V value, boolean onlyIfAbsent,\r\n               boolean evict) {\r\n    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int n, i;\r\n    if ((tab = table) == null || (n = tab.length) == 0)\r\n        n = (tab = resize()).length;\r\n    if ((p = tab[i = (n - 1) &amp; hash]) == null)\r\n        tab[i] = newNode(hash, key, value, null);\r\n    else {\r\n        Node&lt;K,V&gt; e; K k;\r\n        if (p.hash == hash &amp;&amp;\r\n            ((k = p.key) == key || (key != null &amp;&amp; key.equals(k))))\r\n            e = p;\r\n        else if (p instanceof TreeNode)\r\n            e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(this, tab, hash, key, value);\r\n        else {\r\n            for (int binCount = 0; ; ++binCount) {\r\n                if ((e = p.next) == null) {\r\n                    p.next = newNode(hash, key, value, null);\r\n                    if (binCount &gt;= TREEIFY_THRESHOLD - 1) // -1 for 1st\r\n                        treeifyBin(tab, hash);\r\n                    break;\r\n                }\r\n                if (e.hash == hash &amp;&amp;\r\n                    ((k = e.key) == key || (key != null &amp;&amp; key.equals(k))))\r\n                    break;\r\n                p = e;\r\n            }\r\n        }\r\n        if (e != null) { // existing mapping for key\r\n            V oldValue = e.value;\r\n            if (!onlyIfAbsent || oldValue == null)\r\n                e.value = value;\r\n            afterNodeAccess(e);\r\n            return oldValue;\r\n        }\r\n    }\r\n    ++modCount;\r\n    if (++size &gt; threshold)\r\n        resize();\r\n    afterNodeInsertion(evict);\r\n    return null;\r\n}\r\n```\r\n\r\n&gt; _&quot;... This post just recommends to use list but I wanted to understand how do I know for other data structures? ...&quot;_\r\n\r\nHere is a _Wikipedia_ article, listing the different types of _data structures_.\\\r\n_[Wikipedia &amp;ndash; List of data structures](https://en.wikipedia.org/wiki/List_of_data_structures)_.","title":"Java Set doesn&#39;t store a similar list with same elements but it stores a duplicate for arrays","body":"<blockquote>\n<p><em>&quot;... How does set compare objects in java? ...&quot;</em></p>\n</blockquote>\n<p>There are different implementations of the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\">Set</a></em> interface.</p>\n<p>In your particular example, you're using the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/HashSet.html\" rel=\"nofollow noreferrer\">HashSet</a></em>, which utilizes a <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\">Map</a></em>, or more accurately, a <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/HashMap.html\" rel=\"nofollow noreferrer\">HashMap</a></em>.<br />\nOf which, in turn, generates a <em>&quot;<a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()\" rel=\"nofollow noreferrer\">hash-code</a>&quot;</em> value of the supplied <em>key</em>, upon entry.<br />\nMeaning, no two <em>keys</em> may have the same <em>hash-code</em>.</p>\n<p>Here is the source code, for <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/HashMap.html#put(K,V)\" rel=\"nofollow noreferrer\">HashMap#put</a></em>.<br />\n<em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/HashMap.java#L617\" rel=\"nofollow noreferrer\">GitHub – OpenJDK – HashMap.java – put(K, V)</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Associates the specified value with the specified key in this map.\n * If the map previously contained a mapping for the key, the old\n * value is replaced.\n *\n * @param key key with which the specified value is to be associated\n * @param value value to be associated with the specified key\n * @return the previous value associated with {@code key}, or\n *         {@code null} if there was no mapping for {@code key}.\n *         (A {@code null} return can also indicate that the map\n *         previously associated {@code null} with {@code key}.)\n */\npublic V put(K key, V value) {\n    return putVal(hash(key), key, value, false, true);\n}\n</code></pre>\n<p>And, here is <em>HashMap#putVal</em>.<br />\n<em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/HashMap.java#L631\" rel=\"nofollow noreferrer\">GitHub – OpenJDK – HashMap.java – putVal(int, K, V, boolean, boolean)</a></em>.</p>\n<p>It appears to be the typical <em>Set</em> abstraction; allowing only unique values.<br />\nHere is a relevant <em>Wikipedia</em> article.<br />\n<em><a href=\"https://en.wikipedia.org/wiki/Set_(abstract_data_type)\" rel=\"nofollow noreferrer\">Wikipedia – Set (abstract data type)</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Implements Map.put and related methods.\n *\n * @param hash hash for key\n * @param key the key\n * @param value the value to put\n * @param onlyIfAbsent if true, don't change existing value\n * @param evict if false, the table is in creation mode.\n * @return previous value, or null if none\n */\nfinal V putVal(int hash, K key, V value, boolean onlyIfAbsent,\n               boolean evict) {\n    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int n, i;\n    if ((tab = table) == null || (n = tab.length) == 0)\n        n = (tab = resize()).length;\n    if ((p = tab[i = (n - 1) &amp; hash]) == null)\n        tab[i] = newNode(hash, key, value, null);\n    else {\n        Node&lt;K,V&gt; e; K k;\n        if (p.hash == hash &amp;&amp;\n            ((k = p.key) == key || (key != null &amp;&amp; key.equals(k))))\n            e = p;\n        else if (p instanceof TreeNode)\n            e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(this, tab, hash, key, value);\n        else {\n            for (int binCount = 0; ; ++binCount) {\n                if ((e = p.next) == null) {\n                    p.next = newNode(hash, key, value, null);\n                    if (binCount &gt;= TREEIFY_THRESHOLD - 1) // -1 for 1st\n                        treeifyBin(tab, hash);\n                    break;\n                }\n                if (e.hash == hash &amp;&amp;\n                    ((k = e.key) == key || (key != null &amp;&amp; key.equals(k))))\n                    break;\n                p = e;\n            }\n        }\n        if (e != null) { // existing mapping for key\n            V oldValue = e.value;\n            if (!onlyIfAbsent || oldValue == null)\n                e.value = value;\n            afterNodeAccess(e);\n            return oldValue;\n        }\n    }\n    ++modCount;\n    if (++size &gt; threshold)\n        resize();\n    afterNodeInsertion(evict);\n    return null;\n}\n</code></pre>\n<blockquote>\n<p><em>&quot;... This post just recommends to use list but I wanted to understand how do I know for other data structures? ...&quot;</em></p>\n</blockquote>\n<p>Here is a <em>Wikipedia</em> article, listing the different types of <em>data structures</em>.<br />\n<em><a href=\"https://en.wikipedia.org/wiki/List_of_data_structures\" rel=\"nofollow noreferrer\">Wikipedia – List of data structures</a></em>.</p>\n"},{"tags":[],"owner":{"account_id":75679,"reputation":354,"user_id":217035,"display_name":"antimeme"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701144432,"creation_date":1701144432,"answer_id":77561292,"question_id":77561114,"body_markdown":"In Java, double equals (==) on objects compares pointer equality.  So only two pointers to the same object instance will return true.\r\n\r\n    int[] arr1 = new int[] { 1, 2 };\r\n    int[] arr2 = new int[] { 1, 2 };\r\n    int[] arr3 = arr2;\r\n    System.out.println(arr1 == arr2); // false\r\n    System.out.println(arr3 == arr2); // true\r\n\r\nBy default `Object.equals()` does the same thing.  You can override it to do something sensible for a class you define.  Obviously `java.util.ArrayList` does this.\r\n\r\nA set is supposed to ensure that no two members are the same according to `Object.equals()`.  According to the documentation on `java.util.Set`: [&quot;More formally, sets contain no pair of elements e1 and e2 such that e1.equals(e2)&quot;][1]  However, this doesn&#39;t work the way you might expect.\r\n\r\nFor example, a `java.util.HashSet` doesn&#39;t call `Object.equals()` on its members when they&#39;re added unless the `Object.hashCode()` method returns the same value.  Here&#39;s an example of how you would create a custom class that avoids duplicating entries using `HashSet`:\r\n\r\n    import java.util.Set;\r\n    import java.util.HashSet;\r\n\r\n    public class CustomArray {\r\n        protected int[] _a;\r\n        public CustomArray(int[] a) { _a = a; }\r\n        public int hashCode() {\r\n            int result = _a.length;\r\n            for (int ii = 0; ii &lt; _a.length; ++ii)\r\n                result += ((Integer)_a[ii]).hashCode();\r\n            return result;\r\n        }\r\n        public boolean equals(Object o) {\r\n            if ((o != null) &amp;&amp; (o instanceof CustomArray) &amp;&amp;\r\n                (((CustomArray)o)._a.length == _a.length)) {\r\n               boolean result = true;\r\n               for (int ii = 0; ii &lt; _a.length; ++ii)\r\n                   if (((CustomArray)o)._a[ii] != _a[ii])\r\n                       result = false;\r\n            } else result = false;\r\n            return result;\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            Set&lt;CustomArray&gt; s = new HashSet&lt;&gt;();\r\n            s.add(new CustomArray(new int[] {1, 2}));\r\n            s.add(new CustomArray(new int[] {1, 2}));\r\n            System.out.println(s.size());  // prints &quot;1&quot;\r\n        }\r\n    }\r\n\r\nIn practice you might want to implement `hashCode()` differently to make collisions less likely (a [linear congruential generator][2] might work).  I also recommend making your custom class immutable if possible, since changing the contents of a set member may invalidate the set assumption with surprising results.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html\r\n  [2]: https://en.wikipedia.org/wiki/Linear_congruential_generator","title":"Java Set doesn&#39;t store a similar list with same elements but it stores a duplicate for arrays","body":"<p>In Java, double equals (==) on objects compares pointer equality.  So only two pointers to the same object instance will return true.</p>\n<pre><code>int[] arr1 = new int[] { 1, 2 };\nint[] arr2 = new int[] { 1, 2 };\nint[] arr3 = arr2;\nSystem.out.println(arr1 == arr2); // false\nSystem.out.println(arr3 == arr2); // true\n</code></pre>\n<p>By default <code>Object.equals()</code> does the same thing.  You can override it to do something sensible for a class you define.  Obviously <code>java.util.ArrayList</code> does this.</p>\n<p>A set is supposed to ensure that no two members are the same according to <code>Object.equals()</code>.  According to the documentation on <code>java.util.Set</code>: <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\">&quot;More formally, sets contain no pair of elements e1 and e2 such that e1.equals(e2)&quot;</a>  However, this doesn't work the way you might expect.</p>\n<p>For example, a <code>java.util.HashSet</code> doesn't call <code>Object.equals()</code> on its members when they're added unless the <code>Object.hashCode()</code> method returns the same value.  Here's an example of how you would create a custom class that avoids duplicating entries using <code>HashSet</code>:</p>\n<pre><code>import java.util.Set;\nimport java.util.HashSet;\n\npublic class CustomArray {\n    protected int[] _a;\n    public CustomArray(int[] a) { _a = a; }\n    public int hashCode() {\n        int result = _a.length;\n        for (int ii = 0; ii &lt; _a.length; ++ii)\n            result += ((Integer)_a[ii]).hashCode();\n        return result;\n    }\n    public boolean equals(Object o) {\n        if ((o != null) &amp;&amp; (o instanceof CustomArray) &amp;&amp;\n            (((CustomArray)o)._a.length == _a.length)) {\n           boolean result = true;\n           for (int ii = 0; ii &lt; _a.length; ++ii)\n               if (((CustomArray)o)._a[ii] != _a[ii])\n                   result = false;\n        } else result = false;\n        return result;\n    }\n\n    public static void main(String[] args) {\n        Set&lt;CustomArray&gt; s = new HashSet&lt;&gt;();\n        s.add(new CustomArray(new int[] {1, 2}));\n        s.add(new CustomArray(new int[] {1, 2}));\n        System.out.println(s.size());  // prints &quot;1&quot;\n    }\n}\n</code></pre>\n<p>In practice you might want to implement <code>hashCode()</code> differently to make collisions less likely (a <a href=\"https://en.wikipedia.org/wiki/Linear_congruential_generator\" rel=\"nofollow noreferrer\">linear congruential generator</a> might work).  I also recommend making your custom class immutable if possible, since changing the contents of a set member may invalidate the set assumption with surprising results.</p>\n"}],"owner":{"account_id":30009013,"reputation":1,"user_id":22997121,"display_name":"tomday"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701207177,"answer_count":2,"score":0,"last_activity_date":1701207403,"creation_date":1701140667,"question_id":77561114,"body_markdown":"How does set compare objects in java?\r\n\r\nI was reading java documentation for equals method for arrays and list and from the documentation it looks similar. Is there a better way to differentiate.\r\n\r\nThis post just recommends to use list but I wanted to understand how do I know for other data structures?\r\n[https://stackoverflow.com/questions/7488098/storing-arrays-in-set-and-avoiding-duplicates](https://stackoverflow.com)\r\n\r\nFor example:\r\n```\r\n   int[] arr1 = new int[] {1, 2};\r\n   int[] arr2 = new int[] {1, 2};\r\n   if (arr1 == arr2) {\r\n      // doesn&#39;t get printed\r\n      System.out.println(&quot;hello&quot;);\r\n   }\r\n   Set&lt;int[]&gt; set1 = new HashSet&lt;&gt;();\r\n   set1.add(arr1);\r\n   set1.add(arr2);\r\n   System.out.println(set1.size());\r\n   // Prints 2\r\n```\r\n\r\n```\r\n    Set&lt;List&lt;Integer&gt;&gt; set = new HashSet&lt;&gt;();\r\n    List&lt;Integer&gt; list1 = Arrays.asList(1, 2, 3, 4);\r\n    List&lt;Integer&gt; list2 = Arrays.asList(1, 2, 3, 4);\r\n    set.add(list1);\r\n    set.add(list2);\r\n    if (list1 == list2) {\r\n    // doesn&#39;t get printed\r\n      System.out.println(&quot;hello&quot;);\r\n    }\r\n    System.out.println(set);\r\n    System.out.println(set.size());\r\n    // Prints\r\n    // [[1, 2, 3, 4]]\r\n    // 1\r\n```","title":"Java Set doesn&#39;t store a similar list with same elements but it stores a duplicate for arrays","body":"<p>How does set compare objects in java?</p>\n<p>I was reading java documentation for equals method for arrays and list and from the documentation it looks similar. Is there a better way to differentiate.</p>\n<p>This post just recommends to use list but I wanted to understand how do I know for other data structures?\n<a href=\"https://stackoverflow.com\">https://stackoverflow.com/questions/7488098/storing-arrays-in-set-and-avoiding-duplicates</a></p>\n<p>For example:</p>\n<pre><code>   int[] arr1 = new int[] {1, 2};\n   int[] arr2 = new int[] {1, 2};\n   if (arr1 == arr2) {\n      // doesn't get printed\n      System.out.println(&quot;hello&quot;);\n   }\n   Set&lt;int[]&gt; set1 = new HashSet&lt;&gt;();\n   set1.add(arr1);\n   set1.add(arr2);\n   System.out.println(set1.size());\n   // Prints 2\n</code></pre>\n<pre><code>    Set&lt;List&lt;Integer&gt;&gt; set = new HashSet&lt;&gt;();\n    List&lt;Integer&gt; list1 = Arrays.asList(1, 2, 3, 4);\n    List&lt;Integer&gt; list2 = Arrays.asList(1, 2, 3, 4);\n    set.add(list1);\n    set.add(list2);\n    if (list1 == list2) {\n    // doesn't get printed\n      System.out.println(&quot;hello&quot;);\n    }\n    System.out.println(set);\n    System.out.println(set.size());\n    // Prints\n    // [[1, 2, 3, 4]]\n    // 1\n</code></pre>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1701200533,"post_id":77566664,"comment_id":136745251,"body_markdown":"Can you name a test that fails so we do not have to run your code in order to find out what your problem is?","body":"Can you name a test that fails so we do not have to run your code in order to find out what your problem is?"},{"owner":{"account_id":24956459,"reputation":1,"user_id":18820803,"display_name":"ST Saksham Singh Birla"},"score":0,"creation_date":1701202011,"post_id":77566664,"comment_id":136745506,"body_markdown":"This is the test that fails ```Assertions.assertEquals(nightsTotal + PricedHotel.SAFE_PRICE,\n                hotel.getBill(GUEST_NAME_1, NUMBER_OF_NIGHTS, printer).getSum());``` It outputs 500 when it should output 520","body":"This is the test that fails <code>Assertions.assertEquals(nightsTotal + PricedHotel.SAFE_PRICE,                 hotel.getBill(GUEST_NAME_1, NUMBER_OF_NIGHTS, printer).getSum());</code> It outputs 500 when it should output 520"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1701206727,"post_id":77566664,"comment_id":136746226,"body_markdown":"Look closely at `PricedHotel.checkIn` - if it creates a `PricedRoom` it does not set `this.r1` .  This means the result of `checkIn` and `hotel.getBill` are not using the same room instance which affects your test.  Would need to see `Hotel.checkIn` to confirm this.","body":"Look closely at <code>PricedHotel.checkIn</code> - if it creates a <code>PricedRoom</code> it does not set <code>this.r1</code> .  This means the result of <code>checkIn</code> and <code>hotel.getBill</code> are not using the same room instance which affects your test.  Would need to see <code>Hotel.checkIn</code> to confirm this."},{"owner":{"account_id":24956459,"reputation":1,"user_id":18820803,"display_name":"ST Saksham Singh Birla"},"score":0,"creation_date":1701207355,"post_id":77566664,"comment_id":136746308,"body_markdown":"I added Hotel.checkIn class hopefully it helps","body":"I added Hotel.checkIn class hopefully it helps"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1701211664,"post_id":77566664,"comment_id":136746974,"body_markdown":"So it is the case that `checkIn` will create a new `PricedRoom` but it does not set `this.r1` and so `getBill` uses `r1` but your test uses the result of `checkin` (which is a different room instance) to then manipulate the safe - so this is wrong.  Just set `this.r1` in the `PricedHotel.checkin` where you create the new `PricedRoom` instance.  As an aside, you very well could just use the room variables of the parent class without having to create new room variables in the subclass - provided `PricedRoom` does not change the behavior of its `Room` properties (LSP). Your tests were good!","body":"So it is the case that <code>checkIn</code> will create a new <code>PricedRoom</code> but it does not set <code>this.r1</code> and so <code>getBill</code> uses <code>r1</code> but your test uses the result of <code>checkin</code> (which is a different room instance) to then manipulate the safe - so this is wrong.  Just set <code>this.r1</code> in the <code>PricedHotel.checkin</code> where you create the new <code>PricedRoom</code> instance.  As an aside, you very well could just use the room variables of the parent class without having to create new room variables in the subclass - provided <code>PricedRoom</code> does not change the behavior of its <code>Room</code> properties (LSP). Your tests were good!"},{"owner":{"account_id":24956459,"reputation":1,"user_id":18820803,"display_name":"ST Saksham Singh Birla"},"score":0,"creation_date":1701279289,"post_id":77566664,"comment_id":136757093,"body_markdown":"I changed the checkIn to `PricedRoom pricedRoom = r1;` but still the same issue is happening","body":"I changed the checkIn to <code>PricedRoom pricedRoom = r1;</code> but still the same issue is happening"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1701279417,"post_id":77566664,"comment_id":136757115,"body_markdown":"The only line you need to add is `this.r1 = pricedRoom` in that method inside the conditional block.","body":"The only line you need to add is <code>this.r1 = pricedRoom</code> in that method inside the conditional block."},{"owner":{"account_id":24956459,"reputation":1,"user_id":18820803,"display_name":"ST Saksham Singh Birla"},"score":0,"creation_date":1701280555,"post_id":77566664,"comment_id":136757314,"body_markdown":"Still doesn&#39;t work, it makes the actual value 0.0 when 520.0 is expected","body":"Still doesn&#39;t work, it makes the actual value 0.0 when 520.0 is expected"},{"owner":{"account_id":24956459,"reputation":1,"user_id":18820803,"display_name":"ST Saksham Singh Birla"},"score":1,"creation_date":1701281374,"post_id":77566664,"comment_id":136757444,"body_markdown":"I got it to work. Thank you so much man!","body":"I got it to work. Thank you so much man!"}],"owner":{"account_id":24956459,"reputation":1,"user_id":18820803,"display_name":"ST Saksham Singh Birla"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701207334,"creation_date":1701199747,"question_id":77566664,"body_markdown":"I have this Java assignment to do which involves multiple different classes. To check the assignment we are given a test file which we cannot modify. The main class that is being tested is PricedHotel. I am passing every test except the last assertion test. After using the debugger I found that the room and safe in the PricedHotel class is different than the room and safe in the Test class, I&#39;m not sure why this is happening I thought I referenced them properly. Can anybody help?\r\n\r\nPricedHotel class:\r\n\r\n```\r\npackage ss.week2.hotel;\r\n\r\nimport ss.week2.hotel.bill.Bill;\r\nimport ss.week2.hotel.bill.BillPrinter;\r\nimport ss.week2.hotel.bill.StringBillPrinter;\r\nimport ss.week2.hotel.PricedRoom;\r\n\r\npublic class PricedHotel extends Hotel {\r\n\r\n    public static final double ROOM_PRICE = 100.0;\r\n    public static final double SAFE_PRICE = 20.0;\r\n    public PricedRoom r1;\r\n    public Room r2;\r\n\r\n    private Guest g1;\r\n    private Guest g2;\r\n    private StringBillPrinter stringBillPrinter;\r\n\r\n    public PricedHotel(String name){\r\n        super(name);\r\n        r1 = new PricedRoom(1,ROOM_PRICE,SAFE_PRICE);\r\n        r2 = new Room(2, new Safe());\r\n        stringBillPrinter = new StringBillPrinter();\r\n    }\r\n\r\n   @Override\r\n    public Room checkIn(String guestName) {\r\n        Room room = super.checkIn(guestName);\r\n\r\n        if (!(room instanceof PricedRoom)) {\r\n            PricedRoom pricedRoom = new PricedRoom(room.getNumber(), ROOM_PRICE, SAFE_PRICE);\r\n            pricedRoom.setGuest(room.getGuest());\r\n            room = pricedRoom;\r\n        }\r\n\r\n        return room;\r\n    }\r\n\r\n\r\n    public Bill getBill(String guestName, int total, BillPrinter billPrinter){\r\n        PricedRoom room = this.r1;\r\n        PricedSafe safe = (PricedSafe) this.r1.getSafe();\r\n        Bill bill = new Bill(billPrinter);\r\n\r\n        if (safe.isActive()) {\r\n            Bill.Item item1 = new Bill.Item() {\r\n                @Override\r\n                public double getPrice() {\r\n                    return ((total*ROOM_PRICE) + SAFE_PRICE);\r\n                }\r\n\r\n                @Override\r\n                public String toString() {\r\n                    return guestName;\r\n                }\r\n            };\r\n        } else {\r\n            Bill.Item item1 = new Bill.Item() {\r\n                @Override\r\n                public double getPrice() {\r\n                    return total*ROOM_PRICE;\r\n                }\r\n\r\n                @Override\r\n                public String toString() {\r\n                    return guestName;\r\n                }\r\n            };\r\n            bill.addItem(item1);\r\n        }\r\n        return bill;\r\n    }\r\n}\r\n\r\n```\r\n\r\nTest class:\r\n```\r\npackage ss.week2.hotel.tests;\r\n\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport ss.week2.hotel.*;\r\nimport ss.week2.hotel.bill.Bill;\r\nimport ss.week2.hotel.bill.StringBillPrinter;\r\nimport ss.week2.hotel.password.Password;\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\npublic class PricedHotelTest {\r\n    /** Test variable for a &lt;tt&gt;Hotel&lt;/tt&gt; object. */\r\n    private PricedHotel hotel;\r\n    private String correctPassword;\r\n    private String wrongPassword;\r\n    public static final String GUEST_NAME_1 = &quot;Major Gowen&quot;;\r\n    public static final String GUEST_NAME_2 = &quot;Miss Tibbs&quot;;\r\n    public static final String GUEST_NAME_3 = &quot;Miss Gatsby&quot;;\r\n\r\n    public static final int NUMBER_OF_NIGHTS = 5;\r\n\r\n    /**\r\n     * Sets the instance variable &lt;tt&gt;hotel&lt;/tt&gt; to a well-defined initial value.\r\n     * All test methods should be preceded by a call to this method.\r\n     */\r\n    @BeforeEach\r\n    public void setUp() {\r\n        hotel = new PricedHotel(&quot;Fawlty Towers&quot;);\r\n\r\n        // initialisation of password-variable\r\n        correctPassword = new Password().getInitPass();\r\n        wrongPassword = correctPassword + &quot;_invalid&quot;;\r\n    }\r\n\r\n    /**\r\n     * checkIn First room should be a PricedRoom\r\n     */\r\n    @Test\r\n    public void testCheckIn() {\r\n        Room room = hotel.checkIn(GUEST_NAME_1);\r\n        assertTrue(room instanceof PricedRoom,\r\n    \t\t\t&quot;room should be an instance of PricedRoom&quot;);\r\n        Safe safe = room.getSafe();\r\n    \tassertTrue(safe instanceof PricedSafe,\r\n    \t\t\t&quot;safe should be an instance of PricedSafe&quot;);\r\n    }\r\n\r\n    /**\r\n     * If there is a free room, getFreeRoom must return a room without guest.\r\n     */\r\n    @Test\r\n    public void testGetFreeRoomFromNotFullHotel() {\r\n        Room room = hotel.getFreeRoom();\r\n        assertNull(room.getGuest(), &quot;A room is free&quot;);\r\n        hotel.checkIn(GUEST_NAME_1);\r\n        Room freeRoom = hotel.getFreeRoom();\r\n        assertNotNull(freeRoom, &quot;Another room is free&quot;);\r\n        assertNotEquals(room, freeRoom, &quot;Another room is free&quot;);\r\n    }\r\n\r\n    /**\r\n     * If there is no free room, getFreeRoom must return null.\r\n     */\r\n    @Test\r\n    public void testGetFreeRoomFromFullHotel() {\r\n        hotel.checkIn(GUEST_NAME_1);\r\n        hotel.checkIn(GUEST_NAME_2);\r\n\r\n        Room noRoom = hotel.getFreeRoom();\r\n        assertNull(noRoom, &quot;No room available in a full hotel&quot;);\r\n    }\r\n\r\n    /**\r\n     * getRoom must not return any room, if the guest is not checked in\r\n     */\r\n    @Test\r\n    public void testGetRoomBeforeCheckIn() {\r\n        Room room = hotel.getRoom(GUEST_NAME_1);\r\n        assertNull(room, &quot;Guest 1 not checked in&quot;);\r\n    }\r\n\r\n    /**\r\n     * If the guest is checked in, the returned room must be occupied by the specified guest.\r\n     */\r\n    @Test\r\n    public void testGetRoomAfterCheckIn() {\r\n        hotel.checkIn(GUEST_NAME_1);\r\n        Room room = hotel.getRoom(GUEST_NAME_1);\r\n        assertEquals(GUEST_NAME_1, room.getGuest().getName(), &quot;Guest 1 checked in&quot;);\r\n    }\r\n\r\n    /**\r\n     * A password object must be returned.\r\n     */\r\n    @Test\r\n    public void testGetPassword() {\r\n        Room room = hotel.checkIn(GUEST_NAME_1);\r\n        assertTrue(room instanceof PricedRoom,\r\n    \t\t\t&quot;room should be an instance of PricedRoom&quot;);\r\n        Safe safe = room.getSafe();\r\n    \tassertTrue(safe instanceof PricedSafe,\r\n    \t\t\t&quot;safe should be an instance of PricedSafe&quot;);\r\n\r\n        Password password = ((PricedSafe) safe).getPassword();\r\n        assertNotNull(password, &quot;Returned password is not null&quot;);\r\n    }\r\n\r\n    /**\r\n     * The Bill should be correctly calculated\r\n     */\r\n    @Test\r\n    public void testGetBill() {\r\n        Room room = hotel.checkIn(GUEST_NAME_1);\r\n        assertTrue(room instanceof PricedRoom,\r\n    \t\t\t&quot;room should be an instance of PricedRoom&quot;);\r\n        StringBillPrinter printer = new StringBillPrinter();\r\n        Bill bill = hotel.getBill(GUEST_NAME_1, NUMBER_OF_NIGHTS, printer);\r\n        double nightsTotal = NUMBER_OF_NIGHTS * PricedHotel.ROOM_PRICE;\r\n        assertEquals(nightsTotal, bill.getSum(), 0.01, &quot;Bill sum should contain only room costs.&quot;);\r\n\t\tassertTrue(printer.getResult().contains(String.format(&quot;%.2f&quot;, nightsTotal)));\r\n\r\n        // Now check sum again when safe is actually active\r\n        assertTrue(room.getSafe() instanceof PricedSafe);\r\n        PricedSafe safe = (PricedSafe) room.getSafe();\r\n        assertFalse(safe.isActive(), &quot;Safe should be deactivated after initialisation.&quot;);\r\n        safe.activate(correctPassword);\r\n        assertTrue(safe.isActive(), &quot;Safe should be activated after activation with password.&quot;);\r\n        Assertions.assertEquals(nightsTotal + PricedHotel.SAFE_PRICE,\r\n                hotel.getBill(GUEST_NAME_1, NUMBER_OF_NIGHTS, printer).getSum());\r\n\r\n    }\r\n}\r\n\r\n```\r\nHotel.checkIn class:\r\n```\r\npublic Room checkIn(String name){\r\n        if (room1.getGuest() != null &amp;&amp; room2.getGuest() != null){ //checks if the two rooms are empty\r\n            return null;\r\n        }\r\n\r\n        if (g1 != null &amp;&amp; Objects.equals(g1.getName(), name)){ //checks if g1 is already checked in\r\n            return null;\r\n        }\r\n        if (g2 != null &amp;&amp; Objects.equals(g2.getName(), name)){ //checks if g2 is already checked in\r\n            return null;\r\n        }\r\n\r\n        Room freeRoom = getFreeRoom(); //gets a free room\r\n        if (freeRoom == null){ // checks if hotel is fill\r\n            return null;\r\n        }\r\n\r\n        Guest newGuest = new Guest(name); //new guest object with the name we provided\r\n        newGuest.setRoom(freeRoom); // set&#39;s the new guest to the free room\r\n        freeRoom.setGuest(newGuest); // set&#39;s the guest to the free room\r\n\r\n        if (g1 == null){\r\n            g1 = newGuest;\r\n        } else if (g2 == null) {\r\n            g2 = newGuest;\r\n        }\r\n        return freeRoom;\r\n    }\r\n```","title":"Same variables different values across testing","body":"<p>I have this Java assignment to do which involves multiple different classes. To check the assignment we are given a test file which we cannot modify. The main class that is being tested is PricedHotel. I am passing every test except the last assertion test. After using the debugger I found that the room and safe in the PricedHotel class is different than the room and safe in the Test class, I'm not sure why this is happening I thought I referenced them properly. Can anybody help?</p>\n<p>PricedHotel class:</p>\n<pre><code>package ss.week2.hotel;\n\nimport ss.week2.hotel.bill.Bill;\nimport ss.week2.hotel.bill.BillPrinter;\nimport ss.week2.hotel.bill.StringBillPrinter;\nimport ss.week2.hotel.PricedRoom;\n\npublic class PricedHotel extends Hotel {\n\n    public static final double ROOM_PRICE = 100.0;\n    public static final double SAFE_PRICE = 20.0;\n    public PricedRoom r1;\n    public Room r2;\n\n    private Guest g1;\n    private Guest g2;\n    private StringBillPrinter stringBillPrinter;\n\n    public PricedHotel(String name){\n        super(name);\n        r1 = new PricedRoom(1,ROOM_PRICE,SAFE_PRICE);\n        r2 = new Room(2, new Safe());\n        stringBillPrinter = new StringBillPrinter();\n    }\n\n   @Override\n    public Room checkIn(String guestName) {\n        Room room = super.checkIn(guestName);\n\n        if (!(room instanceof PricedRoom)) {\n            PricedRoom pricedRoom = new PricedRoom(room.getNumber(), ROOM_PRICE, SAFE_PRICE);\n            pricedRoom.setGuest(room.getGuest());\n            room = pricedRoom;\n        }\n\n        return room;\n    }\n\n\n    public Bill getBill(String guestName, int total, BillPrinter billPrinter){\n        PricedRoom room = this.r1;\n        PricedSafe safe = (PricedSafe) this.r1.getSafe();\n        Bill bill = new Bill(billPrinter);\n\n        if (safe.isActive()) {\n            Bill.Item item1 = new Bill.Item() {\n                @Override\n                public double getPrice() {\n                    return ((total*ROOM_PRICE) + SAFE_PRICE);\n                }\n\n                @Override\n                public String toString() {\n                    return guestName;\n                }\n            };\n        } else {\n            Bill.Item item1 = new Bill.Item() {\n                @Override\n                public double getPrice() {\n                    return total*ROOM_PRICE;\n                }\n\n                @Override\n                public String toString() {\n                    return guestName;\n                }\n            };\n            bill.addItem(item1);\n        }\n        return bill;\n    }\n}\n\n</code></pre>\n<p>Test class:</p>\n<pre><code>package ss.week2.hotel.tests;\n\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport ss.week2.hotel.*;\nimport ss.week2.hotel.bill.Bill;\nimport ss.week2.hotel.bill.StringBillPrinter;\nimport ss.week2.hotel.password.Password;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\npublic class PricedHotelTest {\n    /** Test variable for a &lt;tt&gt;Hotel&lt;/tt&gt; object. */\n    private PricedHotel hotel;\n    private String correctPassword;\n    private String wrongPassword;\n    public static final String GUEST_NAME_1 = &quot;Major Gowen&quot;;\n    public static final String GUEST_NAME_2 = &quot;Miss Tibbs&quot;;\n    public static final String GUEST_NAME_3 = &quot;Miss Gatsby&quot;;\n\n    public static final int NUMBER_OF_NIGHTS = 5;\n\n    /**\n     * Sets the instance variable &lt;tt&gt;hotel&lt;/tt&gt; to a well-defined initial value.\n     * All test methods should be preceded by a call to this method.\n     */\n    @BeforeEach\n    public void setUp() {\n        hotel = new PricedHotel(&quot;Fawlty Towers&quot;);\n\n        // initialisation of password-variable\n        correctPassword = new Password().getInitPass();\n        wrongPassword = correctPassword + &quot;_invalid&quot;;\n    }\n\n    /**\n     * checkIn First room should be a PricedRoom\n     */\n    @Test\n    public void testCheckIn() {\n        Room room = hotel.checkIn(GUEST_NAME_1);\n        assertTrue(room instanceof PricedRoom,\n                &quot;room should be an instance of PricedRoom&quot;);\n        Safe safe = room.getSafe();\n        assertTrue(safe instanceof PricedSafe,\n                &quot;safe should be an instance of PricedSafe&quot;);\n    }\n\n    /**\n     * If there is a free room, getFreeRoom must return a room without guest.\n     */\n    @Test\n    public void testGetFreeRoomFromNotFullHotel() {\n        Room room = hotel.getFreeRoom();\n        assertNull(room.getGuest(), &quot;A room is free&quot;);\n        hotel.checkIn(GUEST_NAME_1);\n        Room freeRoom = hotel.getFreeRoom();\n        assertNotNull(freeRoom, &quot;Another room is free&quot;);\n        assertNotEquals(room, freeRoom, &quot;Another room is free&quot;);\n    }\n\n    /**\n     * If there is no free room, getFreeRoom must return null.\n     */\n    @Test\n    public void testGetFreeRoomFromFullHotel() {\n        hotel.checkIn(GUEST_NAME_1);\n        hotel.checkIn(GUEST_NAME_2);\n\n        Room noRoom = hotel.getFreeRoom();\n        assertNull(noRoom, &quot;No room available in a full hotel&quot;);\n    }\n\n    /**\n     * getRoom must not return any room, if the guest is not checked in\n     */\n    @Test\n    public void testGetRoomBeforeCheckIn() {\n        Room room = hotel.getRoom(GUEST_NAME_1);\n        assertNull(room, &quot;Guest 1 not checked in&quot;);\n    }\n\n    /**\n     * If the guest is checked in, the returned room must be occupied by the specified guest.\n     */\n    @Test\n    public void testGetRoomAfterCheckIn() {\n        hotel.checkIn(GUEST_NAME_1);\n        Room room = hotel.getRoom(GUEST_NAME_1);\n        assertEquals(GUEST_NAME_1, room.getGuest().getName(), &quot;Guest 1 checked in&quot;);\n    }\n\n    /**\n     * A password object must be returned.\n     */\n    @Test\n    public void testGetPassword() {\n        Room room = hotel.checkIn(GUEST_NAME_1);\n        assertTrue(room instanceof PricedRoom,\n                &quot;room should be an instance of PricedRoom&quot;);\n        Safe safe = room.getSafe();\n        assertTrue(safe instanceof PricedSafe,\n                &quot;safe should be an instance of PricedSafe&quot;);\n\n        Password password = ((PricedSafe) safe).getPassword();\n        assertNotNull(password, &quot;Returned password is not null&quot;);\n    }\n\n    /**\n     * The Bill should be correctly calculated\n     */\n    @Test\n    public void testGetBill() {\n        Room room = hotel.checkIn(GUEST_NAME_1);\n        assertTrue(room instanceof PricedRoom,\n                &quot;room should be an instance of PricedRoom&quot;);\n        StringBillPrinter printer = new StringBillPrinter();\n        Bill bill = hotel.getBill(GUEST_NAME_1, NUMBER_OF_NIGHTS, printer);\n        double nightsTotal = NUMBER_OF_NIGHTS * PricedHotel.ROOM_PRICE;\n        assertEquals(nightsTotal, bill.getSum(), 0.01, &quot;Bill sum should contain only room costs.&quot;);\n        assertTrue(printer.getResult().contains(String.format(&quot;%.2f&quot;, nightsTotal)));\n\n        // Now check sum again when safe is actually active\n        assertTrue(room.getSafe() instanceof PricedSafe);\n        PricedSafe safe = (PricedSafe) room.getSafe();\n        assertFalse(safe.isActive(), &quot;Safe should be deactivated after initialisation.&quot;);\n        safe.activate(correctPassword);\n        assertTrue(safe.isActive(), &quot;Safe should be activated after activation with password.&quot;);\n        Assertions.assertEquals(nightsTotal + PricedHotel.SAFE_PRICE,\n                hotel.getBill(GUEST_NAME_1, NUMBER_OF_NIGHTS, printer).getSum());\n\n    }\n}\n\n</code></pre>\n<p>Hotel.checkIn class:</p>\n<pre><code>public Room checkIn(String name){\n        if (room1.getGuest() != null &amp;&amp; room2.getGuest() != null){ //checks if the two rooms are empty\n            return null;\n        }\n\n        if (g1 != null &amp;&amp; Objects.equals(g1.getName(), name)){ //checks if g1 is already checked in\n            return null;\n        }\n        if (g2 != null &amp;&amp; Objects.equals(g2.getName(), name)){ //checks if g2 is already checked in\n            return null;\n        }\n\n        Room freeRoom = getFreeRoom(); //gets a free room\n        if (freeRoom == null){ // checks if hotel is fill\n            return null;\n        }\n\n        Guest newGuest = new Guest(name); //new guest object with the name we provided\n        newGuest.setRoom(freeRoom); // set's the new guest to the free room\n        freeRoom.setGuest(newGuest); // set's the guest to the free room\n\n        if (g1 == null){\n            g1 = newGuest;\n        } else if (g2 == null) {\n            g2 = newGuest;\n        }\n        return freeRoom;\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1701200406,"post_id":77566706,"comment_id":136745227,"body_markdown":"Both are actually applicable. In the case that you&#39;re binding for a `Function&lt;Person, R&gt;`, you can provide either a static method (from anywhere) that consumes a `Person`, _or_ a method of `Person`, both returning `R` (inferred at this point). From a reverse engineering standpoint, you&#39;d go and find out which it is (though getters are _usually_ not static). This is done for you, and if both methods exist when you do the method reference I believe it&#39;s a compiler error at the callsite of the method reference (can&#39;t check atm)","body":"Both are actually applicable. In the case that you&#39;re binding for a <code>Function&lt;Person, R&gt;</code>, you can provide either a static method (from anywhere) that consumes a <code>Person</code>, <i>or</i> a method of <code>Person</code>, both returning <code>R</code> (inferred at this point). From a reverse engineering standpoint, you&#39;d go and find out which it is (though getters are <i>usually</i> not static). This is done for you, and if both methods exist when you do the method reference I believe it&#39;s a compiler error at the callsite of the method reference (can&#39;t check atm)"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1701206179,"post_id":77566706,"comment_id":136746160,"body_markdown":"Does this answer your question? [:: (double colon) operator in Java 8](https://stackoverflow.com/questions/20001427/double-colon-operator-in-java-8)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/20001427/double-colon-operator-in-java-8\">:: (double colon) operator in Java 8</a>"}],"answers":[{"comments":[{"owner":{"account_id":18348479,"reputation":1986,"user_id":13363175,"display_name":"notaorb"},"score":0,"creation_date":1701203633,"post_id":77566748,"comment_id":136745756,"body_markdown":"I added a comment to the OP. Can you clarify this?","body":"I added a comment to the OP. Can you clarify this?"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701207020,"post_id":77566748,"comment_id":136746267,"body_markdown":"Are you talking about [this comment](https://stackoverflow.com/posts/comments/136745380)? _You_ are the OP in this question or are you referring to it as _other poster_? Yes, `void getName(int i)` would require 2 parameters. I added something regarding that to my answer.","body":"Are you talking about <a href=\"https://stackoverflow.com/posts/comments/136745380\">this comment</a>? <i>You</i> are the OP in this question or are you referring to it as <i>other poster</i>? Yes, <code>void getName(int i)</code> would require 2 parameters. I added something regarding that to my answer."},{"owner":{"account_id":18348479,"reputation":1986,"user_id":13363175,"display_name":"notaorb"},"score":0,"creation_date":1701229083,"post_id":77566748,"comment_id":136748657,"body_markdown":"Yes thanks. Finally I get confused with ‘ T\treduce(T identity, BinaryOperator&lt;T&gt; accumulator)’ which is ‘  BiFunction&lt;T,U,R&gt;’ and ‘ R\tapply(T t, U u)’. Would ‘.reduce(C::red)’ be a member ‘static T red(U x, U y)’ and not having the object instance of the class as the first argument?","body":"Yes thanks. Finally I get confused with ‘ T\treduce(T identity, BinaryOperator&lt;T&gt; accumulator)’ which is ‘  BiFunction&lt;T,U,R&gt;’ and ‘ R\tapply(T t, U u)’. Would ‘.reduce(C::red)’ be a member ‘static T red(U x, U y)’ and not having the object instance of the class as the first argument?"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701244079,"post_id":77566748,"comment_id":136750133,"body_markdown":"If it is non-static, it&#39;s like adding another argument at the beginning.  `reduce(C::red)` doesn&#39;t work for `reduce(T identity, BinaryOperator&lt;T&gt; accumulator)` since it&#39;s missing `identity`.","body":"If it is non-static, it&#39;s like adding another argument at the beginning.  <code>reduce(C::red)</code> doesn&#39;t work for <code>reduce(T identity, BinaryOperator&lt;T&gt; accumulator)</code> since it&#39;s missing <code>identity</code>."}],"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701207246,"creation_date":1701200550,"answer_id":77566748,"question_id":77566706,"body_markdown":"The receiver object is equivalent to an argument when it comes to method references.\r\n\r\nIf you take a look at [the JLS](https://docs.oracle.com/javase/specs/jls/se21/html/jls-15.html#jls-15.13), you can see:\r\n&gt; The target reference of an instance method (&#167;15.12.4.1) may be provided by the method reference expression using an ExpressionName, a Primary, or super, or it may be provided later when the method is invoked. The immediately enclosing instance of a new inner class instance (&#167;15.9.2) is provided by a lexically enclosing instance of this (&#167;8.1.3).\r\n\r\n[More specifically](https://docs.oracle.com/javase/specs/jls/se21/html/jls-15.html#jls-15.13.1):\r\n&gt; - Second, given a targeted function type with n parameters, a set of potentially applicable methods is identified:\r\n&gt;   - If the method reference expression has the form ReferenceType :: [TypeArguments] Identifier, then the potentially applicable methods are:\r\n&gt;     - the member methods of the type to search that would be potentially applicable (&#167;15.12.2.1) for a method invocation which names Identifier, has arity n, has type arguments TypeArguments, and appears in the same class as the method reference expression; plus\r\n&gt;     - the member methods of the type to search that would be potentially applicable for a method invocation which names Identifier, has arity n-1, has type arguments TypeArguments, and appears in the same class as the method reference expression.\r\n&gt; \r\n&gt; Two different arities, n and n-1, are considered, to account for the possibility that this form refers to either a static method or an instance method.\r\n\r\nIf it is a non-static method, it requires one argument less as the receiver type is used for that.\r\n\r\nIn your case, using `Person::getName` for a `Function&lt;Person,String&gt;` would work for both a `String getName()` or `static String getName(Person person)` method.\r\n\r\nIf you now have a non-static method with a single (non-receiver) parameter, your functional interface would need to have two parameters in your functional interface:\r\n```java\r\npublic class Person{\r\n    public String getName(SomeOtherType someParameter){\r\n        return &quot;something&quot;;\r\n    }\r\n}\r\n```\r\n```java\r\n//Function&lt;Person,String&gt; f = Person::getName;//doesn&#39;t compile\r\n//Function&lt;SomeOtherType,String&gt; f = Person::getName;//doesn&#39;t compile\r\nBiFunction&lt;Person,SomeOtherType,String&gt; f = Person::getName;\r\n```","title":"Collectors example question on Lambda functions","body":"<p>The receiver object is equivalent to an argument when it comes to method references.</p>\n<p>If you take a look at <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-15.html#jls-15.13\" rel=\"nofollow noreferrer\">the JLS</a>, you can see:</p>\n<blockquote>\n<p>The target reference of an instance method (§15.12.4.1) may be provided by the method reference expression using an ExpressionName, a Primary, or super, or it may be provided later when the method is invoked. The immediately enclosing instance of a new inner class instance (§15.9.2) is provided by a lexically enclosing instance of this (§8.1.3).</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-15.html#jls-15.13.1\" rel=\"nofollow noreferrer\">More specifically</a>:</p>\n<blockquote>\n<ul>\n<li>Second, given a targeted function type with n parameters, a set of potentially applicable methods is identified:\n<ul>\n<li>If the method reference expression has the form ReferenceType :: [TypeArguments] Identifier, then the potentially applicable methods are:\n<ul>\n<li>the member methods of the type to search that would be potentially applicable (§15.12.2.1) for a method invocation which names Identifier, has arity n, has type arguments TypeArguments, and appears in the same class as the method reference expression; plus</li>\n<li>the member methods of the type to search that would be potentially applicable for a method invocation which names Identifier, has arity n-1, has type arguments TypeArguments, and appears in the same class as the method reference expression.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>Two different arities, n and n-1, are considered, to account for the possibility that this form refers to either a static method or an instance method.</p>\n</blockquote>\n<p>If it is a non-static method, it requires one argument less as the receiver type is used for that.</p>\n<p>In your case, using <code>Person::getName</code> for a <code>Function&lt;Person,String&gt;</code> would work for both a <code>String getName()</code> or <code>static String getName(Person person)</code> method.</p>\n<p>If you now have a non-static method with a single (non-receiver) parameter, your functional interface would need to have two parameters in your functional interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Person{\n    public String getName(SomeOtherType someParameter){\n        return &quot;something&quot;;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>//Function&lt;Person,String&gt; f = Person::getName;//doesn't compile\n//Function&lt;SomeOtherType,String&gt; f = Person::getName;//doesn't compile\nBiFunction&lt;Person,SomeOtherType,String&gt; f = Person::getName;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18348479,"reputation":1986,"user_id":13363175,"display_name":"notaorb"},"score":0,"creation_date":1701201243,"post_id":77566759,"comment_id":136745380,"body_markdown":"What if ‘getName’ required an argument other then ‘Person this’ like ‘String getName(int x)’? Would ‘Function&lt;T,R&gt; ‘ still work or would I need ‘ BiFunction&lt;T,U,R&gt;’?","body":"What if ‘getName’ required an argument other then ‘Person this’ like ‘String getName(int x)’? Would ‘Function&lt;T,R&gt; ‘ still work or would I need ‘ BiFunction&lt;T,U,R&gt;’?"},{"owner":{"account_id":18348479,"reputation":1986,"user_id":13363175,"display_name":"notaorb"},"score":0,"creation_date":1701210334,"post_id":77566759,"comment_id":136746808,"body_markdown":"I’m the first instance of the Supplier, would getName be a static menthod with no arguments?","body":"I’m the first instance of the Supplier, would getName be a static menthod with no arguments?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1701250436,"post_id":77566759,"comment_id":136751221,"body_markdown":"@notaorb to the first question: You&#39;d need a `BiFunction`, of course: To invoke the this getName method, you need 2 things: An instance of Person, and an int. It would return a String. That describes a `BiFunction&lt;Person, Integer, String&gt;`.","body":"@notaorb to the first question: You&#39;d need a <code>BiFunction</code>, of course: To invoke the this getName method, you need 2 things: An instance of Person, and an int. It would return a String. That describes a <code>BiFunction&lt;Person, Integer, String&gt;</code>."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1701250523,"post_id":77566759,"comment_id":136751239,"body_markdown":"To the second question: I don&#39;t know what &quot;I&#39;m the first instance of the Supplier&quot; means. `getName` is what it is; the fact that you make a lambda of it doesn&#39;t magically add or remove the `static` keyword. If `getName()`&#39;s signature is `public static String getName() {}`, you need nothing at all to call it (no args, and no instance of Person), hence, it would &#39;fit&#39; if you try to turn that into a `Supplier&lt;String&gt;`; `Supplier&lt;String&gt; s = Person::getName` would thus be allowed, _if_ `getName`&#39;s signature is `static String getName();`.","body":"To the second question: I don&#39;t know what &quot;I&#39;m the first instance of the Supplier&quot; means. <code>getName</code> is what it is; the fact that you make a lambda of it doesn&#39;t magically add or remove the <code>static</code> keyword. If <code>getName()</code>&#39;s signature is <code>public static String getName() {}</code>, you need nothing at all to call it (no args, and no instance of Person), hence, it would &#39;fit&#39; if you try to turn that into a <code>Supplier&lt;String&gt;</code>; <code>Supplier&lt;String&gt; s = Person::getName</code> would thus be allowed, <i>if</i> <code>getName</code>&#39;s signature is <code>static String getName();</code>."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701200629,"creation_date":1701200629,"answer_id":77566759,"question_id":77566706,"body_markdown":"There is no significant difference between:\r\n\r\n```\r\nclass Person {\r\n  String getName() { ... }\r\n}\r\n```\r\n\r\nand:\r\n\r\n```\r\nclass Irrelevant {\r\n  static String getName(Person p) { ... }\r\n}\r\n```\r\n\r\nIn fact, at the class file level they are entirely identical, in the sense that the first argument of a non-static method __is__ an instance of its class. This hidden parameter is called the receiver. You can even write it:\r\n\r\n```\r\npublic class Person {\r\n  String getName(Person this) {}\r\n}\r\n```\r\n\r\nThe above method would be called with, for example, `somePersonInstance.getName()` - the &#39;receiver&#39; parameter is __always__ passed by sticking a dot in front of the method, and that &#39;argument&#39; in front of the dot.\r\n\r\nWhen looking at lambda notation, this effect shows up too. The concept `Person::getName`, given that `getName` is a zero-args, non-static method in a class named `Person` that returns a string, turns into a function that accepts a person, and returns a string.\r\n\r\nAfter all, to invoke the method you __must__ have an instance of `Person` to do that on. You can&#39;t write: `String name = Person.getName();` - that does not compile unless `getName` is static.\r\n\r\nYou can trivially use `::` to make a function that takes zero arguments and returns a string, e.g. a `Producer&lt;String&gt;`. Simply use an actual argument, instead:\r\n\r\n```\r\nPerson p = new Person();\r\nSupplier&lt;String&gt; x = p::getName;\r\nFunction&lt;Person, String&gt; y = Person::getName;\r\n```\r\n\r\nThe first example encodes the concept of &#39;invoking the getName method of this specific instance of person&#39; and the second example encodes the concept of &#39;invoking the getName method of some person instance; that instance must be supplied&#39;.\r\n\r\nhence why the first example &#39;fits&#39; an interface that takes no arguments (and `Function&lt;Person, String&gt; z = p::getName` wouldn&#39;t compile), and the second example &#39;fits&#39; one that takes 1 arg, namely, a Person instance.\r\n","title":"Collectors example question on Lambda functions","body":"<p>There is no significant difference between:</p>\n<pre><code>class Person {\n  String getName() { ... }\n}\n</code></pre>\n<p>and:</p>\n<pre><code>class Irrelevant {\n  static String getName(Person p) { ... }\n}\n</code></pre>\n<p>In fact, at the class file level they are entirely identical, in the sense that the first argument of a non-static method <strong>is</strong> an instance of its class. This hidden parameter is called the receiver. You can even write it:</p>\n<pre><code>public class Person {\n  String getName(Person this) {}\n}\n</code></pre>\n<p>The above method would be called with, for example, <code>somePersonInstance.getName()</code> - the 'receiver' parameter is <strong>always</strong> passed by sticking a dot in front of the method, and that 'argument' in front of the dot.</p>\n<p>When looking at lambda notation, this effect shows up too. The concept <code>Person::getName</code>, given that <code>getName</code> is a zero-args, non-static method in a class named <code>Person</code> that returns a string, turns into a function that accepts a person, and returns a string.</p>\n<p>After all, to invoke the method you <strong>must</strong> have an instance of <code>Person</code> to do that on. You can't write: <code>String name = Person.getName();</code> - that does not compile unless <code>getName</code> is static.</p>\n<p>You can trivially use <code>::</code> to make a function that takes zero arguments and returns a string, e.g. a <code>Producer&lt;String&gt;</code>. Simply use an actual argument, instead:</p>\n<pre><code>Person p = new Person();\nSupplier&lt;String&gt; x = p::getName;\nFunction&lt;Person, String&gt; y = Person::getName;\n</code></pre>\n<p>The first example encodes the concept of 'invoking the getName method of this specific instance of person' and the second example encodes the concept of 'invoking the getName method of some person instance; that instance must be supplied'.</p>\n<p>hence why the first example 'fits' an interface that takes no arguments (and <code>Function&lt;Person, String&gt; z = p::getName</code> wouldn't compile), and the second example 'fits' one that takes 1 arg, namely, a Person instance.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701203847,"creation_date":1701203847,"answer_id":77567014,"question_id":77566706,"body_markdown":"&gt; _&quot;... Can I assume the person class has a method as follows? ...&quot;_\r\n\r\nNo.&amp;nbsp; That would be helpful though.\r\n\r\nThe syntax you&#39;re describing is referred to as a _lambda method-reference_.\r\n\r\nHere is an excerpt from the following _Java_ tutorial.\\\r\n_[Method References (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Classes and Objects)](https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html)_.\r\n\r\n&gt; &quot;... You use [lambda expressions](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html) to create anonymous methods. Sometimes, however, a lambda expression does nothing but call an existing method. In those cases, it&#39;s often clearer to refer to the existing method by name. Method references enable you to do this; they are compact, easy-to-read lambda expressions for methods that already have a name. ...\\\r\n&gt;\\\r\n&gt; ...\\\r\n&gt;\\\r\n&gt; __Kinds of Method References__\\\r\n&gt; There are four kinds of method references:\r\n&gt;\r\n&gt; | Kind | Syntax | Examples |\r\n&gt; |------|--------|----------|\r\n&gt; | Reference to a static method | ContainingClass::staticMethodName | Person::compareByAge&lt;br /&gt;MethodReferencesExamples::appendStrings |\r\n&gt; | Reference to an instance method of a particular object | containingObject::instanceMethodName | myComparisonProvider::compareByName&lt;br /&gt;myApp::appendStrings2 |\r\n&gt; | Reference to an instance method of an arbitrary object of a particular type | ContainingType::methodName | String::compareToIgnoreCase&lt;br /&gt;String::concat |\r\n&gt; | Reference to a constructor | ClassName::new | HashSet::new |\r\n\r\nIn other words, it&#39;s simpler than writing the following.\r\n\r\n```java\r\nmap(x -&gt; x.getName())\r\n```\r\n\r\nIt&#39;s worth noting, the newer, _[record class](https://docs.oracle.com/en/java/javase/21/language/records.html)_, will infer methods for each parameter.\r\n\r\nFor example, the following is valid.\r\n\r\n```java\r\nrecord Person(String name) { }\r\nPerson p = new Person(&quot;abc&quot;);\r\nString s = p.name();\r\n```","title":"Collectors example question on Lambda functions","body":"<blockquote>\n<p><em>&quot;... Can I assume the person class has a method as follows? ...&quot;</em></p>\n</blockquote>\n<p>No.  That would be helpful though.</p>\n<p>The syntax you're describing is referred to as a <em>lambda method-reference</em>.</p>\n<p>Here is an excerpt from the following <em>Java</em> tutorial.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">Method References (The Java™ Tutorials &gt; Learning the Java Language &gt; Classes and Objects)</a></em>.</p>\n<blockquote>\n<p>&quot;... You use <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">lambda expressions</a> to create anonymous methods. Sometimes, however, a lambda expression does nothing but call an existing method. In those cases, it's often clearer to refer to the existing method by name. Method references enable you to do this; they are compact, easy-to-read lambda expressions for methods that already have a name. ...<br />\n<br />\n...<br />\n<br />\n<strong>Kinds of Method References</strong><br />\nThere are four kinds of method references:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Kind</th>\n<th>Syntax</th>\n<th>Examples</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Reference to a static method</td>\n<td>ContainingClass::staticMethodName</td>\n<td>Person::compareByAge<br />MethodReferencesExamples::appendStrings</td>\n</tr>\n<tr>\n<td>Reference to an instance method of a particular object</td>\n<td>containingObject::instanceMethodName</td>\n<td>myComparisonProvider::compareByName<br />myApp::appendStrings2</td>\n</tr>\n<tr>\n<td>Reference to an instance method of an arbitrary object of a particular type</td>\n<td>ContainingType::methodName</td>\n<td>String::compareToIgnoreCase<br />String::concat</td>\n</tr>\n<tr>\n<td>Reference to a constructor</td>\n<td>ClassName::new</td>\n<td>HashSet::new</td>\n</tr>\n</tbody>\n</table>\n</div></blockquote>\n<p>In other words, it's simpler than writing the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>map(x -&gt; x.getName())\n</code></pre>\n<p>It's worth noting, the newer, <em><a href=\"https://docs.oracle.com/en/java/javase/21/language/records.html\" rel=\"nofollow noreferrer\">record class</a></em>, will infer methods for each parameter.</p>\n<p>For example, the following is valid.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Person(String name) { }\nPerson p = new Person(&quot;abc&quot;);\nString s = p.name();\n</code></pre>\n"}],"owner":{"account_id":18348479,"reputation":1986,"user_id":13363175,"display_name":"notaorb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1701207246,"creation_date":1701200177,"question_id":77566706,"body_markdown":"I&#39;m reading about [Collectors][1] and [Streams][2].  I have a question regarding some Collectors example code shown here:\r\n\r\n    List&lt;String&gt; list = people.stream().map(Person::getName).collect(Collectors.toList());\r\n\r\nCan I assume the person class has a method as follows?\r\n\r\n    class Person {\r\n       String name;\r\n       String getName() { return name; }\r\n    }\r\n\r\nIf so I&#39;m confused about the definition of `map` and `Function&lt;T,R&gt;` as follows:\r\n\r\n    &lt;R&gt; Stream&lt;R&gt; map(Function&lt;? super T,? extends R&gt; mapper)\r\n\r\nFor `Function&lt;&gt;`:\r\n    R apply(T t)\r\n\r\n**Question** if apply requires an argument as above should I assume `Person` looks as follows with a `static` method or how does above code work?\r\n\r\n    class Person {\r\n       String name;\r\n       String getName() { return name; }\r\n       static String getName(Person p) { return p.getName(); }\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html","title":"Collectors example question on Lambda functions","body":"<p>I'm reading about <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html\" rel=\"nofollow noreferrer\">Collectors</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\">Streams</a>.  I have a question regarding some Collectors example code shown here:</p>\n<pre><code>List&lt;String&gt; list = people.stream().map(Person::getName).collect(Collectors.toList());\n</code></pre>\n<p>Can I assume the person class has a method as follows?</p>\n<pre><code>class Person {\n   String name;\n   String getName() { return name; }\n}\n</code></pre>\n<p>If so I'm confused about the definition of <code>map</code> and <code>Function&lt;T,R&gt;</code> as follows:</p>\n<pre><code>&lt;R&gt; Stream&lt;R&gt; map(Function&lt;? super T,? extends R&gt; mapper)\n</code></pre>\n<p>For <code>Function&lt;&gt;</code>:\nR apply(T t)</p>\n<p><strong>Question</strong> if apply requires an argument as above should I assume <code>Person</code> looks as follows with a <code>static</code> method or how does above code work?</p>\n<pre><code>class Person {\n   String name;\n   String getName() { return name; }\n   static String getName(Person p) { return p.getName(); }\n}\n</code></pre>\n"},{"tags":["java","digital-signature"],"comments":[{"owner":{"account_id":2287630,"reputation":4619,"user_id":2011284,"accept_rate":61,"display_name":"CIRCLE"},"score":0,"creation_date":1700098416,"post_id":77488140,"comment_id":136614293,"body_markdown":"I have the same problem, I successfully embed all my certs (CA and from my organization) using PAdES-BASELINE-B and I always get the same INDETERMINATE result","body":"I have the same problem, I successfully embed all my certs (CA and from my organization) using PAdES-BASELINE-B and I always get the same INDETERMINATE result"}],"answers":[{"tags":[],"owner":{"account_id":30016421,"reputation":1,"user_id":23002832,"display_name":"alex-sc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701206790,"creation_date":1701206790,"answer_id":77567231,"question_id":77488140,"body_markdown":"There&#39;s a difference between the sample app and your code.  \r\nThe sample app comes with a pre-configured list of trusted roots (EU LOTL).  \r\nYour code comes with an empty `CommonTrustedCertificateSource` (i.e., no certificate is trusted)\r\n\r\nSee the [DSS FAQ][1] \r\n\r\n&gt; When validating a signature I receive INDETERMINATE/NO_CERTIFICATE_CHAIN_FOUND indication\r\n\r\n&gt; The result means the validator was not able to reach a trust anchor when validating the certificate chain of the signature. More likely the issue is caused by the fact you have not configured a trusted certificate source within the used CertificateVerifier. To do it, you need to add trust anchors to the instance of CertificateVerifier you use within DocumentValidator:\r\n\r\nSo you need to add some certificates to the `CommonTrustedCertificateSource`. If you&#39;re only verifying signatures created by yourself, add your CA root/your signing certificate to the trusted source. If you&#39;re verifying third-party signatures, the solution is more complex. For example, you could extract all certificated from a PDF and add them to the trusted list before validation\r\n\r\n  [1]: https://dss-demo.nowina.lu/doc/dss-documentation.html#_frequently_asked_questions_and_implementation_issues","title":"ESig DSS signature validation always returns INDETERMINATE","body":"<p>There's a difference between the sample app and your code.<br />\nThe sample app comes with a pre-configured list of trusted roots (EU LOTL).<br />\nYour code comes with an empty <code>CommonTrustedCertificateSource</code> (i.e., no certificate is trusted)</p>\n<p>See the <a href=\"https://dss-demo.nowina.lu/doc/dss-documentation.html#_frequently_asked_questions_and_implementation_issues\" rel=\"nofollow noreferrer\">DSS FAQ</a></p>\n<blockquote>\n<p>When validating a signature I receive INDETERMINATE/NO_CERTIFICATE_CHAIN_FOUND indication</p>\n</blockquote>\n<blockquote>\n<p>The result means the validator was not able to reach a trust anchor when validating the certificate chain of the signature. More likely the issue is caused by the fact you have not configured a trusted certificate source within the used CertificateVerifier. To do it, you need to add trust anchors to the instance of CertificateVerifier you use within DocumentValidator:</p>\n</blockquote>\n<p>So you need to add some certificates to the <code>CommonTrustedCertificateSource</code>. If you're only verifying signatures created by yourself, add your CA root/your signing certificate to the trusted source. If you're verifying third-party signatures, the solution is more complex. For example, you could extract all certificated from a PDF and add them to the trusted list before validation</p>\n"}],"owner":{"account_id":29909106,"reputation":21,"user_id":22920984,"display_name":"goran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1701206790,"creation_date":1700055420,"question_id":77488140,"body_markdown":"I am trying to use European Commission-sponsored Digital Signature Service (DSS) library 5.12.1 to validate electronic signatures of the digitally signed PDF-s and XML-s.\r\n\r\n\r\nThe code I am using is\r\n\r\n```\r\nbyte[] binaryPdf = Base64.getDecoder().decode(base64EncodedDocument);\r\nCommonTrustedCertificateSource trustedCertSource = new CommonTrustedCertificateSource();\r\nCertificateVerifier cv = new CommonCertificateVerifier();\r\ncv.setAIASource(new DefaultAIASource());\r\ncv.setOcspSource(new OnlineOCSPSource());\r\ncv.setCrlSource(new OnlineCRLSource());\r\ncv.addTrustedCertSources(trustedCertSource);\r\nDSSDocument document = new InMemoryDocument(binaryPdf, shortFileName);\r\nSignedDocumentValidator documentValidator = SignedDocumentValidator.fromDocument(document);\r\ndocumentValidator.setCertificateVerifier(cv);\r\nUserFriendlyIdentifierProvider userFriendlyIdentifierProvider = new UserFriendlyIdentifierProvider();\r\ndocumentValidator.setTokenIdentifierProvider(userFriendlyIdentifierProvider);\r\nReports reports = documentValidator.validateDocument();\r\n```\r\nindicated in the dss-documentation PDF. My application *always* gets the INDETERMINATE indication with subindication NO_CERTIFICATE_CHAIN_FOUND (visible in the Certificate element of the CertificateChain). It doesn&#39;t find the trust anchors. When I use the sample application 5.12.1 for signature validation and try to validate the same document, I get the expected TOTAL_PASSED indication. My app has internet access. What I am doing wrong?\r\nThanks!","title":"ESig DSS signature validation always returns INDETERMINATE","body":"<p>I am trying to use European Commission-sponsored Digital Signature Service (DSS) library 5.12.1 to validate electronic signatures of the digitally signed PDF-s and XML-s.</p>\n<p>The code I am using is</p>\n<pre><code>byte[] binaryPdf = Base64.getDecoder().decode(base64EncodedDocument);\nCommonTrustedCertificateSource trustedCertSource = new CommonTrustedCertificateSource();\nCertificateVerifier cv = new CommonCertificateVerifier();\ncv.setAIASource(new DefaultAIASource());\ncv.setOcspSource(new OnlineOCSPSource());\ncv.setCrlSource(new OnlineCRLSource());\ncv.addTrustedCertSources(trustedCertSource);\nDSSDocument document = new InMemoryDocument(binaryPdf, shortFileName);\nSignedDocumentValidator documentValidator = SignedDocumentValidator.fromDocument(document);\ndocumentValidator.setCertificateVerifier(cv);\nUserFriendlyIdentifierProvider userFriendlyIdentifierProvider = new UserFriendlyIdentifierProvider();\ndocumentValidator.setTokenIdentifierProvider(userFriendlyIdentifierProvider);\nReports reports = documentValidator.validateDocument();\n</code></pre>\n<p>indicated in the dss-documentation PDF. My application <em>always</em> gets the INDETERMINATE indication with subindication NO_CERTIFICATE_CHAIN_FOUND (visible in the Certificate element of the CertificateChain). It doesn't find the trust anchors. When I use the sample application 5.12.1 for signature validation and try to validate the same document, I get the expected TOTAL_PASSED indication. My app has internet access. What I am doing wrong?\nThanks!</p>\n"},{"tags":["java","eclipse","maven","jakarta-ee"],"answers":[{"tags":[],"owner":{"account_id":93866,"reputation":76253,"user_id":256618,"display_name":"Mark O&#39;Connor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450810858,"creation_date":1450810858,"answer_id":34422705,"question_id":34372441,"body_markdown":"It&#39;s not an editor issue.\r\n\r\nWhen you run Maven your environment settings are picking up two different instances of Java. The error message indicates you&#39;re using a JRE and not a JDK, explaining why the code won&#39;t compile. See: \r\n\r\n- https://stackoverflow.com/questions/5730815/unable-to-locate-tools-jar ","title":"modifying java code in web project with vim or Eclipse give different results","body":"<p>It's not an editor issue.</p>\n\n<p>When you run Maven your environment settings are picking up two different instances of Java. The error message indicates you're using a JRE and not a JDK, explaining why the code won't compile. See: </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/5730815/unable-to-locate-tools-jar\">Unable to locate tools.jar</a> </li>\n</ul>\n"}],"owner":{"account_id":1176016,"reputation":648,"user_id":1152044,"accept_rate":68,"display_name":"sthor69"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701206688,"creation_date":1450539540,"question_id":34372441,"body_markdown":"I have a JavaEE Dynamic WEB project developed in Eclipse. \r\n\r\nWhen I edit java classes via Eclipse and then launch an &#39;mvn package&#39; in terminal to create the war file, everything goes fine. \r\n\r\nWhen I modify the java class in exactely the same way but with vim in terminal and launch the &#39;mvn command&#39; an error is returned when compiling the project:\r\n\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Fatal error compiling\r\n    \tat org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoals(DefaultLifecycleExecutor.java:719)\r\n    \tat org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalWithLifecycle(DefaultLifecycleExecutor.java:556)\r\n    \tat org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoal(DefaultLifecycleExecutor.java:535)\r\n    \tat org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalAndHandleFailures(DefaultLifecycleExecutor.java:387)\r\n    \tat org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeTaskSegments(DefaultLifecycleExecutor.java:348)\r\n    \tat org.apache.maven.lifecycle.DefaultLifecycleExecutor.execute(DefaultLifecycleExecutor.java:180)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:328)\r\n    \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:138)\r\n    \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:362)\r\n    \tat org.apache.maven.cli.compat.CompatibleMain.main(CompatibleMain.java:60)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    \tat org.codehaus.classworlds.Launcher.launchEnhanced(Launcher.java:315)\r\n    \tat org.codehaus.classworlds.Launcher.launch(Launcher.java:255)\r\n    \tat org.codehaus.classworlds.Launcher.mainWithExitCode(Launcher.java:430)\r\n    \tat org.codehaus.classworlds.Launcher.main(Launcher.java:375)\r\n    Caused by: org.apache.maven.plugin.MojoExecutionException: Fatal error compiling\r\n    \tat org.apache.maven.plugin.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:683)\r\n    \tat org.apache.maven.plugin.CompilerMojo.execute(CompilerMojo.java:128)\r\n    \tat org.apache.maven.plugin.DefaultPluginManager.executeMojo(DefaultPluginManager.java:490)\r\n    \tat org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoals(DefaultLifecycleExecutor.java:694)\r\n    \t... 17 more\r\n    Caused by: org.codehaus.plexus.compiler.CompilerException: tools.jar not found: /usr/lib/jvm/java-7-openjdk-i386/jre/../lib/tools.jar\r\n    \tat org.codehaus.plexus.compiler.javac.JavacCompiler.createJavacClass(JavacCompiler.java:987)\r\n    \tat org.codehaus.plexus.compiler.javac.JavacCompiler.getJavacClass(JavacCompiler.java:944)\r\n    \tat org.codehaus.plexus.compiler.javac.JavacCompiler.compileInProcess(JavacCompiler.java:520)\r\n    \tat org.codehaus.plexus.compiler.javac.JavacCompiler.compile(JavacCompiler.java:167)\r\n    \tat org.apache.maven.plugin.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:678)\r\n    \t... 20 more\r\n\r\nWhich operations are performed by Eclipse when source is modified that I don&#39;t perform when modifying the code via vim?\r\n\r\n","title":"modifying java code in web project with vim or Eclipse give different results","body":"<p>I have a JavaEE Dynamic WEB project developed in Eclipse. </p>\n\n<p>When I edit java classes via Eclipse and then launch an 'mvn package' in terminal to create the war file, everything goes fine. </p>\n\n<p>When I modify the java class in exactely the same way but with vim in terminal and launch the 'mvn command' an error is returned when compiling the project:</p>\n\n<pre><code>org.apache.maven.lifecycle.LifecycleExecutionException: Fatal error compiling\n    at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoals(DefaultLifecycleExecutor.java:719)\n    at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalWithLifecycle(DefaultLifecycleExecutor.java:556)\n    at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoal(DefaultLifecycleExecutor.java:535)\n    at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalAndHandleFailures(DefaultLifecycleExecutor.java:387)\n    at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeTaskSegments(DefaultLifecycleExecutor.java:348)\n    at org.apache.maven.lifecycle.DefaultLifecycleExecutor.execute(DefaultLifecycleExecutor.java:180)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:328)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:138)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:362)\n    at org.apache.maven.cli.compat.CompatibleMain.main(CompatibleMain.java:60)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.codehaus.classworlds.Launcher.launchEnhanced(Launcher.java:315)\n    at org.codehaus.classworlds.Launcher.launch(Launcher.java:255)\n    at org.codehaus.classworlds.Launcher.mainWithExitCode(Launcher.java:430)\n    at org.codehaus.classworlds.Launcher.main(Launcher.java:375)\nCaused by: org.apache.maven.plugin.MojoExecutionException: Fatal error compiling\n    at org.apache.maven.plugin.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:683)\n    at org.apache.maven.plugin.CompilerMojo.execute(CompilerMojo.java:128)\n    at org.apache.maven.plugin.DefaultPluginManager.executeMojo(DefaultPluginManager.java:490)\n    at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoals(DefaultLifecycleExecutor.java:694)\n    ... 17 more\nCaused by: org.codehaus.plexus.compiler.CompilerException: tools.jar not found: /usr/lib/jvm/java-7-openjdk-i386/jre/../lib/tools.jar\n    at org.codehaus.plexus.compiler.javac.JavacCompiler.createJavacClass(JavacCompiler.java:987)\n    at org.codehaus.plexus.compiler.javac.JavacCompiler.getJavacClass(JavacCompiler.java:944)\n    at org.codehaus.plexus.compiler.javac.JavacCompiler.compileInProcess(JavacCompiler.java:520)\n    at org.codehaus.plexus.compiler.javac.JavacCompiler.compile(JavacCompiler.java:167)\n    at org.apache.maven.plugin.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:678)\n    ... 20 more\n</code></pre>\n\n<p>Which operations are performed by Eclipse when source is modified that I don't perform when modifying the code via vim?</p>\n"},{"tags":["java","eclipse","macos"],"comments":[{"owner":{"account_id":305745,"reputation":19378,"user_id":616094,"accept_rate":96,"display_name":"Maulik"},"score":1,"creation_date":1455796897,"post_id":35477254,"comment_id":58655256,"body_markdown":"This might be useful to set default JDK from multiple installed JDKs : http://stackoverflow.com/questions/21964709/how-to-set-or-change-the-default-java-jdk-version-on-os-x","body":"This might be useful to set default JDK from multiple installed JDKs : <a href=\"http://stackoverflow.com/questions/21964709/how-to-set-or-change-the-default-java-jdk-version-on-os-x\" title=\"how to set or change the default java jdk version on os x\">stackoverflow.com/questions/21964709/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":5037369,"reputation":560,"user_id":4045778,"accept_rate":67,"display_name":"Gaurav51289"},"score":0,"creation_date":1455788747,"post_id":35477503,"comment_id":58649728,"body_markdown":"Thanks..!! It is working for Tomcat with Java 8. Is there no solution for HTTP Preview. Because I am using the similar configs for my windows machine and everything is working fine with Java 8.","body":"Thanks..!! It is working for Tomcat with Java 8. Is there no solution for HTTP Preview. Because I am using the similar configs for my windows machine and everything is working fine with Java 8."},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1455789079,"post_id":35477503,"comment_id":58649982,"body_markdown":"Perhaps the difference is workspace-related. How many &#39;Installed JREs&#39; do you have in the current workspace? Can you try trimming the list to 1 (of course, keeping 1.8) or making 1.8 the default runtime? Not sure whether a restart of eclipse will be necessary.","body":"Perhaps the difference is workspace-related. How many &#39;Installed JREs&#39; do you have in the current workspace? Can you try trimming the list to 1 (of course, keeping 1.8) or making 1.8 the default runtime? Not sure whether a restart of eclipse will be necessary."}],"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1455787739,"creation_date":1455787739,"answer_id":35477503,"question_id":35477254,"body_markdown":"The problem is that you&#39;re using JDK1.8 to compile your code (with target runtime of 1.8).\r\n\r\nHowever, your server is configured to run with JDK 1.6 (you can see it at the top of the console window [&lt;terminated&gt; HTTP preview at...])\r\n\r\nChange your workspace default JRE to your JDK 1.8 if you want to use the http preview (I tried and saw no option to specify a runtime JRE).\r\n\r\nIf you want to use tomcat, then specify the correct JRE on the first page of the &#39;New Server&#39; wizard.","title":"Web project not running on server on Mac OS X in Eclipse Mars","body":"<p>The problem is that you're using JDK1.8 to compile your code (with target runtime of 1.8).</p>\n\n<p>However, your server is configured to run with JDK 1.6 (you can see it at the top of the console window [ HTTP preview at...])</p>\n\n<p>Change your workspace default JRE to your JDK 1.8 if you want to use the http preview (I tried and saw no option to specify a runtime JRE).</p>\n\n<p>If you want to use tomcat, then specify the correct JRE on the first page of the 'New Server' wizard.</p>\n"}],"owner":{"account_id":5037369,"reputation":560,"user_id":4045778,"accept_rate":67,"display_name":"Gaurav51289"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":632,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":35477503,"answer_count":1,"score":3,"last_activity_date":1701206650,"creation_date":1455787014,"question_id":35477254,"body_markdown":"[![Machine has JDK/JRE 8 but it is still pointing to JDK 1.6][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/xjE26.png\r\n\r\n\r\nI have Java 8 (JDK and JRE 8) on my machine. I have Eclipse Mars 4.5.1 .\r\nI am trying to create a simple Static Web Project and while running the project on HTTP Preview (or a Dynamic Web Project on Apache Tomcat for that matter), it gives the following error. (Also see the screenshot attached.)\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/eclipse/jetty/server/Handler : Unsupported major.minor version 51.0\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClassCond(ClassLoader.java:637)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:621)\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:283)\r\n\tat java.net.URLClassLoader.access$000(URLClassLoader.java:58)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:197)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:190)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:306)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:247)\r\n```","title":"Web project not running on server on Mac OS X in Eclipse Mars","body":"<p><a href=\"https://i.stack.imgur.com/xjE26.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xjE26.png\" alt=\"Machine has JDK/JRE 8 but it is still pointing to JDK 1.6\" /></a></p>\n<p>I have Java 8 (JDK and JRE 8) on my machine. I have Eclipse Mars 4.5.1 .\nI am trying to create a simple Static Web Project and while running the project on HTTP Preview (or a Dynamic Web Project on Apache Tomcat for that matter), it gives the following error. (Also see the screenshot attached.)</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/eclipse/jetty/server/Handler : Unsupported major.minor version 51.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClassCond(ClassLoader.java:637)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:621)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:283)\n    at java.net.URLClassLoader.access$000(URLClassLoader.java:58)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:190)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\n</code></pre>\n"},{"tags":["java","wso2-api-manager","wso2-identity-server","wso2-esb"],"comments":[{"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"score":0,"creation_date":1681341661,"post_id":34842895,"comment_id":134042722,"body_markdown":"Wiki https://auth0.com/docs/get-started/applications/application-grant-types some good explanation","body":"Wiki <a href=\"https://auth0.com/docs/get-started/applications/application-grant-types\" rel=\"nofollow noreferrer\">auth0.com/docs/get-started/applications/application-grant-ty&zwnj;&#8203;pes</a> some good explanation"}],"answers":[{"tags":[],"owner":{"account_id":7091044,"reputation":536,"user_id":5426199,"display_name":"Saminda Alahakoon"},"comment_count":0,"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1453100968,"creation_date":1453100726,"answer_id":34848956,"question_id":34842895,"body_markdown":"**Resource owner credentials grant (password grant type)**\r\n\r\nWhen this grant is implemented the client itself will ask the user for their username and password (as opposed to being redirected to an IdP authorisation server to authenticate) and then send these to the authorisation server along with the client’s own credentials. If the authentication is successful then the client will be issued with an access token.\r\n\r\nThis grant is suitable for trusted clients such as a service’s own mobile client (for example Spotify’s iOS app). You could also use this in software where it’s not easy to implement the authorisation code - for example we bolted this authorisation grant into [OwnCloud][1] so we could retrieve details about a user that we couldn’t access over LDAP from the university’s Active Directory server.\r\n\r\n**Client credentials grant**\r\n\r\nThis grant is similar to the resource owner credentials grant except only the client’s credentials are used to authenticate a request for an access token. Again this grant should only be allowed to be used by trusted clients.\r\n\r\nThis grant is suitable for machine-to-machine authentication, for example for use in a cron job which is performing maintenance tasks over an API. Another example would be a client making requests to an API that don’t require user’s permission.\r\n\r\nWhen someone visits a member of staff’s page on the [University of Lincoln staff directory][2] the website uses its own access token (that was generated using this grant) to authenticate a request to the API server to get the data about the member of staff that is used to build the page. When a member of staff signs in to update their profile however their own access token is used to retrieve and update their data. Therefore there is a good separation of concerns and we can easily restrict permissions that each type of access token has.\r\n\r\n  [1]: https://owncloud.org/\r\n  [2]: http://staff.lincoln.ac.uk/home?q=","title":"Difference between grant_type=client_credentials and grant_type=password in Authentication Flow?","body":"<p><strong>Resource owner credentials grant (password grant type)</strong></p>\n\n<p>When this grant is implemented the client itself will ask the user for their username and password (as opposed to being redirected to an IdP authorisation server to authenticate) and then send these to the authorisation server along with the client’s own credentials. If the authentication is successful then the client will be issued with an access token.</p>\n\n<p>This grant is suitable for trusted clients such as a service’s own mobile client (for example Spotify’s iOS app). You could also use this in software where it’s not easy to implement the authorisation code - for example we bolted this authorisation grant into <a href=\"https://owncloud.org/\" rel=\"noreferrer\">OwnCloud</a> so we could retrieve details about a user that we couldn’t access over LDAP from the university’s Active Directory server.</p>\n\n<p><strong>Client credentials grant</strong></p>\n\n<p>This grant is similar to the resource owner credentials grant except only the client’s credentials are used to authenticate a request for an access token. Again this grant should only be allowed to be used by trusted clients.</p>\n\n<p>This grant is suitable for machine-to-machine authentication, for example for use in a cron job which is performing maintenance tasks over an API. Another example would be a client making requests to an API that don’t require user’s permission.</p>\n\n<p>When someone visits a member of staff’s page on the <a href=\"http://staff.lincoln.ac.uk/home?q=\" rel=\"noreferrer\">University of Lincoln staff directory</a> the website uses its own access token (that was generated using this grant) to authenticate a request to the API server to get the data about the member of staff that is used to build the page. When a member of staff signs in to update their profile however their own access token is used to retrieve and update their data. Therefore there is a good separation of concerns and we can easily restrict permissions that each type of access token has.</p>\n"},{"tags":[],"owner":{"account_id":15207672,"reputation":1864,"user_id":10973514,"display_name":"pref"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701206609,"creation_date":1685545059,"answer_id":76374842,"question_id":34842895,"body_markdown":"very condensed:\r\n\r\nin grant_type=password, the client (i.e. the app) sends its own clientid:clientsecret (in request Authorization header to let Auth server know who it is), as well as the resource owner&#39;s username &amp; password and scope, in request body to let the Auth server know that resource owner is cool with it to give it an access token. This mechanisms by the way is not recommended any more. \r\n\r\nhttps://oauth.net/2/grant-types/password/\r\n\r\n\r\nin grant_type=client_credentials the client &quot;is&quot; the resource owner too, so it only needs to let the Auth server know who it is to get access token.\r\n\r\nhttps://oauth.net/2/grant-types/client-credentials/","title":"Difference between grant_type=client_credentials and grant_type=password in Authentication Flow?","body":"<p>very condensed:</p>\n<p>in grant_type=password, the client (i.e. the app) sends its own clientid:clientsecret (in request Authorization header to let Auth server know who it is), as well as the resource owner's username &amp; password and scope, in request body to let the Auth server know that resource owner is cool with it to give it an access token. This mechanisms by the way is not recommended any more.</p>\n<p><a href=\"https://oauth.net/2/grant-types/password/\" rel=\"nofollow noreferrer\">https://oauth.net/2/grant-types/password/</a></p>\n<p>in grant_type=client_credentials the client &quot;is&quot; the resource owner too, so it only needs to let the Auth server know who it is to get access token.</p>\n<p><a href=\"https://oauth.net/2/grant-types/client-credentials/\" rel=\"nofollow noreferrer\">https://oauth.net/2/grant-types/client-credentials/</a></p>\n"}],"owner":{"display_name":"user5778069"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35816,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"accepted_answer_id":34848956,"answer_count":2,"score":23,"last_activity_date":1701206609,"creation_date":1453060317,"question_id":34842895,"body_markdown":"I would like to understand the difference between `grant_type=client_credentials` and `grant_type=password` in `Authentication` or in `OAuth2 Flow` concept. \r\n\r\nI am following below sites:\r\n\r\n - http://help.atavist.com/api:authentication\r\n - http://apiwiki.poken.com/authentication/oauth2\r\n\r\nI presume `grant_type=password` is `not secure` way as far as using `grant_type` in JavaScript development. But I still wonder if someone can help me to understand this concept.\r\n\r\nI also observed that `grant_type=client_credentials` doesn&#39;t provide &quot;`refresh_token`&quot;, it only provides `access_token`  where as `grant_type=password` provides both `access_token` and `refresh_token`.\r\n\r\nHoping to get detailed explanation. I am using `WSO2 API Manager` for OAuth2 for my application development","title":"Difference between grant_type=client_credentials and grant_type=password in Authentication Flow?","body":"<p>I would like to understand the difference between <code>grant_type=client_credentials</code> and <code>grant_type=password</code> in <code>Authentication</code> or in <code>OAuth2 Flow</code> concept.</p>\n<p>I am following below sites:</p>\n<ul>\n<li><a href=\"http://help.atavist.com/api:authentication\" rel=\"nofollow noreferrer\">http://help.atavist.com/api:authentication</a></li>\n<li><a href=\"http://apiwiki.poken.com/authentication/oauth2\" rel=\"nofollow noreferrer\">http://apiwiki.poken.com/authentication/oauth2</a></li>\n</ul>\n<p>I presume <code>grant_type=password</code> is <code>not secure</code> way as far as using <code>grant_type</code> in JavaScript development. But I still wonder if someone can help me to understand this concept.</p>\n<p>I also observed that <code>grant_type=client_credentials</code> doesn't provide &quot;<code>refresh_token</code>&quot;, it only provides <code>access_token</code>  where as <code>grant_type=password</code> provides both <code>access_token</code> and <code>refresh_token</code>.</p>\n<p>Hoping to get detailed explanation. I am using <code>WSO2 API Manager</code> for OAuth2 for my application development</p>\n"},{"tags":["java","image","swing"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1370151255,"post_id":16880029,"comment_id":24352547,"body_markdown":"We still need to see where you&#39;re doing your actual drawing. Your problem has *nothing* to do with the KeyListener and all to do with your drawing.","body":"We still need to see where you&#39;re doing your actual drawing. Your problem has <i>nothing</i> to do with the KeyListener and all to do with your drawing."},{"owner":{"account_id":2753566,"reputation":1296,"user_id":2372321,"accept_rate":56,"display_name":"sparklyllama"},"score":0,"creation_date":1370151350,"post_id":16880029,"comment_id":24352563,"body_markdown":"Look at the render method in the player class.","body":"Look at the render method in the player class."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1370151419,"post_id":16880029,"comment_id":24352581,"body_markdown":"@sparklyllama: The render method doesn&#39;t show how you&#39;re doing your drawing. Again, if you need help, show your drawing code. Not sure how to convince you do to this. Please help me here. Where do you call `render(...)`? How do you get your Graphics object? Where&#39;s your `paintComponent(...)` override?","body":"@sparklyllama: The render method doesn&#39;t show how you&#39;re doing your drawing. Again, if you need help, show your drawing code. Not sure how to convince you do to this. Please help me here. Where do you call <code>render(...)</code>? How do you get your Graphics object? Where&#39;s your <code>paintComponent(...)</code> override?"}],"answers":[{"tags":[],"owner":{"account_id":2439364,"reputation":5868,"user_id":2128327,"display_name":"Khaled.K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701206333,"creation_date":1370156381,"answer_id":16880523,"question_id":16880029,"body_markdown":"If I understand correctly, your issue might be that you have a background that seems like it keeps the last drawn things in it.\r\n\r\nSo I think that you need to re-paint the background when you move the image.\r\n\r\nHere is a [reference][1] to Graphics basics in Java with simple examples\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/2d/basic2d/","title":"Moving Object with Keys Leaves a Trail","body":"<p>If I understand correctly, your issue might be that you have a background that seems like it keeps the last drawn things in it.</p>\n<p>So I think that you need to re-paint the background when you move the image.</p>\n<p>Here is a <a href=\"http://docs.oracle.com/javase/tutorial/2d/basic2d/\" rel=\"nofollow noreferrer\">reference</a> to Graphics basics in Java with simple examples</p>\n"}],"owner":{"account_id":2753566,"reputation":1296,"user_id":2372321,"accept_rate":56,"display_name":"sparklyllama"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1395,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":16880523,"answer_count":1,"score":1,"last_activity_date":1701206333,"creation_date":1370150635,"question_id":16880029,"body_markdown":"In my Java game, I have a player class which has a BufferedImage assigned to it from a sprite sheet. I&#39;ve just added in KeyAdapters and KeyListeners which just move the player around the screen. However, when I do this, it leaves behind a trail of the image.\r\n\r\n    private void render() {\r\n\t\tBufferStrategy bs = this.getBufferStrategy();\r\n\t\tif(bs == null) {\r\n\t\t\tcreateBufferStrategy(3);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tGraphics g = bs.getDrawGraphics();\r\n\t\t\r\n\t\tp.render(g); //p is the player object\r\n\t\t\r\n\t\tg.dispose();\r\n\t\tbs.show();\r\n\t}\r\n    \r\n    public static void main(String[] args) {\r\n\t\tGame game = new Game();\r\n\t\tgame.setPreferredSize(new Dimension(WIDTH * SCALE, HEIGHT * SCALE));\r\n\t\tgame.setMinimumSize(new Dimension(WIDTH * SCALE, HEIGHT * SCALE));\r\n\t\tgame.setMaximumSize(new Dimension(WIDTH * SCALE, HEIGHT * SCALE));\r\n\t\t\r\n\t\tJFrame frame = new JFrame(game.TITLE);\r\n\t\t\r\n\t\tframe.add(game);\r\n\t\t\r\n\t\tframe.pack();\r\n\t\tframe.setLocationRelativeTo(null);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setResizable(false);\r\n\t\tframe.setVisible(true);\r\n\t\t\r\n\t\tgame.start();\r\n\t\t\r\n\t}","title":"Moving Object with Keys Leaves a Trail","body":"<p>In my Java game, I have a player class which has a BufferedImage assigned to it from a sprite sheet. I've just added in KeyAdapters and KeyListeners which just move the player around the screen. However, when I do this, it leaves behind a trail of the image.</p>\n\n<pre><code>private void render() {\n    BufferStrategy bs = this.getBufferStrategy();\n    if(bs == null) {\n        createBufferStrategy(3);\n        return;\n    }\n    Graphics g = bs.getDrawGraphics();\n\n    p.render(g); //p is the player object\n\n    g.dispose();\n    bs.show();\n}\n\npublic static void main(String[] args) {\n    Game game = new Game();\n    game.setPreferredSize(new Dimension(WIDTH * SCALE, HEIGHT * SCALE));\n    game.setMinimumSize(new Dimension(WIDTH * SCALE, HEIGHT * SCALE));\n    game.setMaximumSize(new Dimension(WIDTH * SCALE, HEIGHT * SCALE));\n\n    JFrame frame = new JFrame(game.TITLE);\n\n    frame.add(game);\n\n    frame.pack();\n    frame.setLocationRelativeTo(null);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setResizable(false);\n    frame.setVisible(true);\n\n    game.start();\n\n}\n</code></pre>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1701188033,"post_id":77565356,"comment_id":136742942,"body_markdown":"If you use `textStripper.setSortByPosition(true)`, the result may be a bit nearer to what you get without. If the text of interest always is at the same position, you may also try the `PDFTextStripperByArea` for the rectangles of interest.","body":"If you use <code>textStripper.setSortByPosition(true)</code>, the result may be a bit nearer to what you get without. If the text of interest always is at the same position, you may also try the <code>PDFTextStripperByArea</code> for the rectangles of interest."},{"owner":{"account_id":16209077,"reputation":389,"user_id":11703579,"display_name":"gbossa"},"score":0,"creation_date":1701188396,"post_id":77565356,"comment_id":136743019,"body_markdown":"Thanks! Will try it and reach back to you!","body":"Thanks! Will try it and reach back to you!"},{"owner":{"account_id":16209077,"reputation":389,"user_id":11703579,"display_name":"gbossa"},"score":1,"creation_date":1701202004,"post_id":77565356,"comment_id":136745502,"body_markdown":"Hey man. That did exactcly what I wanted, so, if you want, post this as an answer so I can accept it! Thanks!","body":"Hey man. That did exactcly what I wanted, so, if you want, post this as an answer so I can accept it! Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701206143,"creation_date":1701206143,"answer_id":77567188,"question_id":77565356,"body_markdown":"There are two main options: \r\n\r\n* If you use `textStripper.setSortByPosition(true)`, the text pieces gets sorted by their position on the page.\r\n\r\n* If the text of interest always is at the same position, you may also try the `PDFTextStripperByArea` for the rectangles of interest","title":"PDFBox is extracting text out of order","body":"<p>There are two main options:</p>\n<ul>\n<li><p>If you use <code>textStripper.setSortByPosition(true)</code>, the text pieces gets sorted by their position on the page.</p>\n</li>\n<li><p>If the text of interest always is at the same position, you may also try the <code>PDFTextStripperByArea</code> for the rectangles of interest</p>\n</li>\n</ul>\n"}],"owner":{"account_id":16209077,"reputation":389,"user_id":11703579,"display_name":"gbossa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77567188,"answer_count":1,"score":0,"last_activity_date":1701206143,"creation_date":1701187277,"question_id":77565356,"body_markdown":"I have a PDF file which I have to extract text and get some info.\r\nThe file is like this:\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI am extracting the text this way:\r\n\r\n\t\t\t\tPDDocument document = PDDocument.load(file);\r\n\t\t    \tPDFTextStripper textStripper = new PDFTextStripper();\r\n\t\t    \tString[] auxTxt = textStripper.getText(document).split(&quot;\\\\r?\\\\n&quot;);\r\n\r\n\r\nWhen I print the text, it&#180;s out of order. I need it to be column like, or line like...\r\n\r\nExample: \r\n\r\n(Line 1) `Fonte Restri&#231;&#227;o Energia Vertida Turbin&#225;vel Valor de restri&#231;&#227;o e varia&#231;&#227;o em rela&#231;&#227;o ao m&#234;s anterior`\r\n\r\n(Line 2) `Energ&#233;tica Com EVT 22.660MWh`\r\n\r\n(Line 3) `(-70%)`\r\n\r\n(Line 4) `Sem EVT 466.961MWh`\r\n\r\n...\r\n\r\nOR:\r\n\r\nColumn 1:  `Fonte Usinas Hidr&#225;ulicas`\r\n\r\nColumn 2:  `Restri&#231;&#227;o Energ&#233;tica El&#233;trica (indisponibilidade Externa) Confiabilidade El&#233;trica`\r\n\r\n...\r\n\r\nThe text should be extracted any way, it&#180;s just has to be in order.\r\nBUT.... when I print the extracted text: this is what I got.\r\n\r\n    10:26:48,933 INFO  [stdout] (default task-1)  Usinas Hidr&#225;ulicas\r\n    10:26:48,933 INFO  [stdout] (default task-1) Usinas \r\n    10:26:48,933 INFO  [stdout] (default task-1) Hidr&#225;ulicas\r\n    10:26:48,933 INFO  [stdout] (default task-1) Energ&#233;tica\r\n    10:26:48,933 INFO  [stdout] (default task-1) Confiabilidade\r\n    10:26:48,933 INFO  [stdout] (default task-1) El&#233;trica\r\n    10:26:48,933 INFO  [stdout] (default task-1) El&#233;trica \r\n    10:26:48,933 INFO  [stdout] (default task-1) (indisponibilidade\r\n    10:26:48,933 INFO  [stdout] (default task-1) Externa)\r\n    10:26:48,933 INFO  [stdout] (default task-1) Com EVT\r\n    10:26:48,933 INFO  [stdout] (default task-1) Sem EVT\r\n    10:26:48,934 INFO  [stdout] (default task-1) Com EVT\r\n    10:26:48,934 INFO  [stdout] (default task-1) Sem EVT\r\n    10:26:48,934 INFO  [stdout] (default task-1) Com EVT\r\n    10:26:48,934 INFO  [stdout] (default task-1) Sem EVT\r\n    10:26:48,934 INFO  [stdout] (default task-1) Fonte Restri&#231;&#227;o\r\n    10:26:48,934 INFO  [stdout] (default task-1) Energia Vertida \r\n    10:26:48,934 INFO  [stdout] (default task-1) Turbin&#225;vel\r\n    10:26:48,934 INFO  [stdout] (default task-1) Valor de restri&#231;&#227;o e varia&#231;&#227;o \r\n    10:26:48,934 INFO  [stdout] (default task-1) em rela&#231;&#227;o ao m&#234;s anterior\r\n    10:26:48,934 INFO  [stdout] (default task-1) 466.961 MWh\r\n    10:26:48,934 INFO  [stdout] (default task-1) (10%)\r\n    10:26:48,934 INFO  [stdout] (default task-1) 22.660 MWh\r\n    10:26:48,934 INFO  [stdout] (default task-1) (-70%)\r\n    10:26:48,934 INFO  [stdout] (default task-1) 607 MWh\r\n    10:26:48,934 INFO  [stdout] (default task-1) (-81%)\r\n    10:26:48,934 INFO  [stdout] (default task-1) 90 MWh\r\n    10:26:48,934 INFO  [stdout] (default task-1) (-96%)\r\n    10:26:48,934 INFO  [stdout] (default task-1) N&#227;o houve \r\n    10:26:48,934 INFO  [stdout] (default task-1) restri&#231;&#227;o\r\n    10:26:48,934 INFO  [stdout] (default task-1) N&#227;o houve \r\n    10:26:48,934 INFO  [stdout] (default task-1) restri&#231;&#227;o\r\n\r\n\r\nSo that&#180;s it. How can I extract the text on the PDF in the proper order? (Lines or Columns)\r\n\r\nThanks!\r\n\r\n  [1]: https://i.stack.imgur.com/S2jRu.png","title":"PDFBox is extracting text out of order","body":"<p>I have a PDF file which I have to extract text and get some info.\nThe file is like this:</p>\n<p><a href=\"https://i.stack.imgur.com/S2jRu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S2jRu.png\" alt=\"enter image description here\" /></a></p>\n<p>I am extracting the text this way:</p>\n<pre><code>            PDDocument document = PDDocument.load(file);\n            PDFTextStripper textStripper = new PDFTextStripper();\n            String[] auxTxt = textStripper.getText(document).split(&quot;\\\\r?\\\\n&quot;);\n</code></pre>\n<p>When I print the text, it´s out of order. I need it to be column like, or line like...</p>\n<p>Example:</p>\n<p>(Line 1) <code>Fonte Restrição Energia Vertida Turbinável Valor de restrição e variação em relação ao mês anterior</code></p>\n<p>(Line 2) <code>Energética Com EVT 22.660MWh</code></p>\n<p>(Line 3) <code>(-70%)</code></p>\n<p>(Line 4) <code>Sem EVT 466.961MWh</code></p>\n<p>...</p>\n<p>OR:</p>\n<p>Column 1:  <code>Fonte Usinas Hidráulicas</code></p>\n<p>Column 2:  <code>Restrição Energética Elétrica (indisponibilidade Externa) Confiabilidade Elétrica</code></p>\n<p>...</p>\n<p>The text should be extracted any way, it´s just has to be in order.\nBUT.... when I print the extracted text: this is what I got.</p>\n<pre><code>10:26:48,933 INFO  [stdout] (default task-1)  Usinas Hidráulicas\n10:26:48,933 INFO  [stdout] (default task-1) Usinas \n10:26:48,933 INFO  [stdout] (default task-1) Hidráulicas\n10:26:48,933 INFO  [stdout] (default task-1) Energética\n10:26:48,933 INFO  [stdout] (default task-1) Confiabilidade\n10:26:48,933 INFO  [stdout] (default task-1) Elétrica\n10:26:48,933 INFO  [stdout] (default task-1) Elétrica \n10:26:48,933 INFO  [stdout] (default task-1) (indisponibilidade\n10:26:48,933 INFO  [stdout] (default task-1) Externa)\n10:26:48,933 INFO  [stdout] (default task-1) Com EVT\n10:26:48,933 INFO  [stdout] (default task-1) Sem EVT\n10:26:48,934 INFO  [stdout] (default task-1) Com EVT\n10:26:48,934 INFO  [stdout] (default task-1) Sem EVT\n10:26:48,934 INFO  [stdout] (default task-1) Com EVT\n10:26:48,934 INFO  [stdout] (default task-1) Sem EVT\n10:26:48,934 INFO  [stdout] (default task-1) Fonte Restrição\n10:26:48,934 INFO  [stdout] (default task-1) Energia Vertida \n10:26:48,934 INFO  [stdout] (default task-1) Turbinável\n10:26:48,934 INFO  [stdout] (default task-1) Valor de restrição e variação \n10:26:48,934 INFO  [stdout] (default task-1) em relação ao mês anterior\n10:26:48,934 INFO  [stdout] (default task-1) 466.961 MWh\n10:26:48,934 INFO  [stdout] (default task-1) (10%)\n10:26:48,934 INFO  [stdout] (default task-1) 22.660 MWh\n10:26:48,934 INFO  [stdout] (default task-1) (-70%)\n10:26:48,934 INFO  [stdout] (default task-1) 607 MWh\n10:26:48,934 INFO  [stdout] (default task-1) (-81%)\n10:26:48,934 INFO  [stdout] (default task-1) 90 MWh\n10:26:48,934 INFO  [stdout] (default task-1) (-96%)\n10:26:48,934 INFO  [stdout] (default task-1) Não houve \n10:26:48,934 INFO  [stdout] (default task-1) restrição\n10:26:48,934 INFO  [stdout] (default task-1) Não houve \n10:26:48,934 INFO  [stdout] (default task-1) restrição\n</code></pre>\n<p>So that´s it. How can I extract the text on the PDF in the proper order? (Lines or Columns)</p>\n<p>Thanks!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1701208159,"post_id":77567053,"comment_id":136746441,"body_markdown":"Here&#39;s a duplicate, _https://stackoverflow.com/questions/77238671/java-morse-code-program-the-program-gets-stuck-on-input?rq=2_.","body":"Here&#39;s a duplicate, <i><a href=\"https://stackoverflow.com/questions/77238671/java-morse-code-program-the-program-gets-stuck-on-input?rq=2\" title=\"java morse code program the program gets stuck on input\">stackoverflow.com/questions/77238671/&hellip;</a></i>."}],"owner":{"account_id":30016510,"reputation":1,"user_id":23002892,"display_name":"Pavle Stanisic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701204529,"creation_date":1701204356,"question_id":77567053,"body_markdown":"I want to make a program that will translate from Morse to English and vice-versa. \r\n\r\nThe program works(kinda). I tried making it after the first loop to continue and ask the user again. Also I tried making after the user enters invalid input to ask the user again. \r\n```\r\nimport java.util.*;\r\n\r\npublic class StringMorse{\r\n\r\n    public static void Translator(String[] args) {\r\n        Scanner userInputScanner = new Scanner(System.in);\r\n        String userInput;\r\n        String textToTranslate;\r\n        StringBuilder translatedText = new StringBuilder();\r\n        char[] alpha = { &#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;, &#39;G&#39;, &#39;H&#39;, &#39;I&#39;, &#39;J&#39;,\r\n        &#39;K&#39;, &#39;L&#39;, &#39;M&#39;, &#39;N&#39;, &#39;O&#39;, &#39;P&#39;, &#39;Q&#39;, &#39;R&#39;, &#39;S&#39;, &#39;T&#39;, &#39;U&#39;, &#39;V&#39;, &#39;W&#39;,\r\n        &#39;X&#39;, &#39;Y&#39;, &#39;Z&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;0&#39;,\r\n        &#39; &#39; };\r\n\r\n        String[] morse = { &quot;.-&quot;, &quot;-...&quot;, &quot;-.-.&quot;, &quot;-..&quot;, &quot;.&quot;, &quot;..-.&quot;, &quot;--.&quot;,\r\n        &quot;....&quot;, &quot;..&quot;, &quot;.---&quot;, &quot;-.-&quot;, &quot;.-..&quot;, &quot;--&quot;, &quot;-.&quot;, &quot;---&quot;, &quot;.--.&quot;,\r\n        &quot;--.-&quot;, &quot;.-.&quot;, &quot;...&quot;, &quot;-&quot;, &quot;..-&quot;, &quot;...-&quot;, &quot;.--&quot;, &quot;-..-&quot;, &quot;-.--&quot;,\r\n        &quot;--..&quot;, &quot;.----&quot;, &quot;..---&quot;, &quot;...--&quot;, &quot;....-&quot;, &quot;.....&quot;, &quot;-....&quot;,\r\n        &quot;--...&quot;, &quot;---..&quot;, &quot;----.&quot;, &quot;-----&quot;, &quot;|&quot; };\r\n        do {\r\n            // get the userinput\r\n            System.out.println(&quot;--------------------------------------------------------------&quot;);\r\n        System.out.println(&quot;Welcome to Morse to English and English to Morse translator!&quot;);\r\n        System.out.println(&quot;M - Morse to English&quot;);\r\n        System.out.println(&quot;E - English to Morse&quot;);\r\n        System.out.println(&quot;X - Exit&quot;);\r\n        System.out.println(&quot;--------------------------------------------------------------&quot;);\r\n        userInput = userInputScanner.nextLine().toUpperCase();\r\n        /*if(userInput.equals(&quot;M&quot;))/* */\r\n        if(!userInput.equals(&quot;M&quot;) &amp;&amp; !userInput.equals(&quot;E&quot;) &amp;&amp; !userInput.equals(&quot;X&quot;)){\r\n            System.out.print(&quot;That was invalid input.Please try again&quot;);\r\n        }\r\n        if(userInput.equals(&quot;M&quot;)){\r\n            System.out.println(&quot;Enter a phrase in Morse&quot;);\r\n            textToTranslate = userInputScanner.nextLine();\r\n            String[] strings = textToTranslate.split(&quot; &quot;);\r\n            for(String s : strings){\r\n                for(int i=0; i&lt;morse.length; i++){\r\n                    if(morse[i].equals(s)){\r\n                        translatedText.append(alpha[i]);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(translatedText);\r\n        }\r\n        if(userInput.equals(&quot;E&quot;)){\r\n            System.out.println(&quot;Enter a phrase in English&quot;);\r\n            textToTranslate = userInputScanner.nextLine().toUpperCase();\r\n            for(int y=0; y&lt;textToTranslate.length(); y++ ){\r\n                for(int z=0; z&lt;alpha.length; z++){\r\n                    if(textToTranslate.charAt(y) == alpha[z]){\r\n                        translatedText.append(morse[z] +&quot; &quot;);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(translatedText);\r\n        }\r\n    }\r\n    while(userInput.equals(&quot;X&quot;));\r\n\r\n    userInputScanner.close();\r\n    }       \r\n\r\n}\r\n```","title":"Do...While Loop. How to make it continue and send a error message when user input is invalid?","body":"<p>I want to make a program that will translate from Morse to English and vice-versa.</p>\n<p>The program works(kinda). I tried making it after the first loop to continue and ask the user again. Also I tried making after the user enters invalid input to ask the user again.</p>\n<pre><code>import java.util.*;\n\npublic class StringMorse{\n\n    public static void Translator(String[] args) {\n        Scanner userInputScanner = new Scanner(System.in);\n        String userInput;\n        String textToTranslate;\n        StringBuilder translatedText = new StringBuilder();\n        char[] alpha = { 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J',\n        'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W',\n        'X', 'Y', 'Z', '1', '2', '3', '4', '5', '6', '7', '8', '9', '0',\n        ' ' };\n\n        String[] morse = { &quot;.-&quot;, &quot;-...&quot;, &quot;-.-.&quot;, &quot;-..&quot;, &quot;.&quot;, &quot;..-.&quot;, &quot;--.&quot;,\n        &quot;....&quot;, &quot;..&quot;, &quot;.---&quot;, &quot;-.-&quot;, &quot;.-..&quot;, &quot;--&quot;, &quot;-.&quot;, &quot;---&quot;, &quot;.--.&quot;,\n        &quot;--.-&quot;, &quot;.-.&quot;, &quot;...&quot;, &quot;-&quot;, &quot;..-&quot;, &quot;...-&quot;, &quot;.--&quot;, &quot;-..-&quot;, &quot;-.--&quot;,\n        &quot;--..&quot;, &quot;.----&quot;, &quot;..---&quot;, &quot;...--&quot;, &quot;....-&quot;, &quot;.....&quot;, &quot;-....&quot;,\n        &quot;--...&quot;, &quot;---..&quot;, &quot;----.&quot;, &quot;-----&quot;, &quot;|&quot; };\n        do {\n            // get the userinput\n            System.out.println(&quot;--------------------------------------------------------------&quot;);\n        System.out.println(&quot;Welcome to Morse to English and English to Morse translator!&quot;);\n        System.out.println(&quot;M - Morse to English&quot;);\n        System.out.println(&quot;E - English to Morse&quot;);\n        System.out.println(&quot;X - Exit&quot;);\n        System.out.println(&quot;--------------------------------------------------------------&quot;);\n        userInput = userInputScanner.nextLine().toUpperCase();\n        /*if(userInput.equals(&quot;M&quot;))/* */\n        if(!userInput.equals(&quot;M&quot;) &amp;&amp; !userInput.equals(&quot;E&quot;) &amp;&amp; !userInput.equals(&quot;X&quot;)){\n            System.out.print(&quot;That was invalid input.Please try again&quot;);\n        }\n        if(userInput.equals(&quot;M&quot;)){\n            System.out.println(&quot;Enter a phrase in Morse&quot;);\n            textToTranslate = userInputScanner.nextLine();\n            String[] strings = textToTranslate.split(&quot; &quot;);\n            for(String s : strings){\n                for(int i=0; i&lt;morse.length; i++){\n                    if(morse[i].equals(s)){\n                        translatedText.append(alpha[i]);\n                        break;\n                    }\n                }\n            }\n            System.out.println(translatedText);\n        }\n        if(userInput.equals(&quot;E&quot;)){\n            System.out.println(&quot;Enter a phrase in English&quot;);\n            textToTranslate = userInputScanner.nextLine().toUpperCase();\n            for(int y=0; y&lt;textToTranslate.length(); y++ ){\n                for(int z=0; z&lt;alpha.length; z++){\n                    if(textToTranslate.charAt(y) == alpha[z]){\n                        translatedText.append(morse[z] +&quot; &quot;);\n                        break;\n                    }\n                }\n            }\n            System.out.println(translatedText);\n        }\n    }\n    while(userInput.equals(&quot;X&quot;));\n\n    userInputScanner.close();\n    }       \n\n}\n</code></pre>\n"},{"tags":["java","stack-overflow"],"comments":[{"owner":{"account_id":3910281,"reputation":14730,"user_id":10265365,"display_name":"meowgoesthedog"},"score":0,"creation_date":1518572849,"post_id":48778382,"comment_id":84558558,"body_markdown":"This is possibly due to *tail-call optimization*, where if a function only calls itself once, the compiler might expand it to make it effectively iterative. In the first example `myPow` is exposed as a public method so cannot be tail-optimized. The code works fine, but the possible range of `n` is limited by stack space. See [this post](https://stackoverflow.com/questions/43937160/designing-tail-recursion-using-java-8) for an example.","body":"This is possibly due to <i>tail-call optimization</i>, where if a function only calls itself once, the compiler might expand it to make it effectively iterative. In the first example <code>myPow</code> is exposed as a public method so cannot be tail-optimized. The code works fine, but the possible range of <code>n</code> is limited by stack space. See <a href=\"https://stackoverflow.com/questions/43937160/designing-tail-recursion-using-java-8\">this post</a> for an example."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1518573509,"post_id":48778382,"comment_id":84558715,"body_markdown":"For which input values are you getting an unexpected StackOverflowError ?","body":"For which input values are you getting an unexpected StackOverflowError ?"},{"owner":{"display_name":"user9190555"},"score":0,"creation_date":1518573887,"post_id":48778382,"comment_id":84558803,"body_markdown":"I don&#39;t get it... it runs perfectly when I tested it??","body":"I don&#39;t get it... it runs perfectly when I tested it??"},{"owner":{"account_id":11305227,"reputation":9,"user_id":8290048,"display_name":"xingtian dong"},"score":0,"creation_date":1518662248,"post_id":48778382,"comment_id":84601240,"body_markdown":"I&#39;m sorry that I forgot to add the test case. It&#39;s 1 -2147483648","body":"I&#39;m sorry that I forgot to add the test case. It&#39;s 1 -2147483648"}],"answers":[{"tags":[],"owner":{"account_id":189341,"reputation":1768,"user_id":428627,"display_name":"giorgiga"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518662717,"creation_date":1518662717,"answer_id":48799275,"question_id":48778382,"body_markdown":"It&#39;s because your exponent (-2147483648, see coments) overflows:\r\n\r\nThis code\r\n\r\n\tSystem.out.println(  Integer.MIN_VALUE );\r\n\tSystem.out.println( -Integer.MIN_VALUE );\r\n    System.out.println( Integer.MIN_VALUE == -Integer.MIN_VALUE );\r\n\r\nprints\r\n\r\n    -2147483648\r\n    -2147483648\r\n    true\r\n\r\nFrom the [Java Language Specification](https://docs.oracle.com/javase/specs/jls/se9/html/jls-15.html#jls-15.15.4):\r\n\r\n&gt; For integer values, negation is the same as subtraction from zero. The Java programming language uses two&#39;s-complement representation for integers, and the range of two&#39;s-complement values is not symmetric, so negation of the maximum negative int or long results in that same maximum negative number. Overflow occurs in this case, but no exception is thrown. For all integer values x, -x equals (~x)+1.\r\n\r\n","title":"Why I got an stack overflow error for LeetCode algorithm #50","body":"<p>It's because your exponent (-2147483648, see coments) overflows:</p>\n\n<p>This code</p>\n\n<pre><code>System.out.println(  Integer.MIN_VALUE );\nSystem.out.println( -Integer.MIN_VALUE );\nSystem.out.println( Integer.MIN_VALUE == -Integer.MIN_VALUE );\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>-2147483648\n-2147483648\ntrue\n</code></pre>\n\n<p>From the <a href=\"https://docs.oracle.com/javase/specs/jls/se9/html/jls-15.html#jls-15.15.4\" rel=\"nofollow noreferrer\">Java Language Specification</a>:</p>\n\n<blockquote>\n  <p>For integer values, negation is the same as subtraction from zero. The Java programming language uses two's-complement representation for integers, and the range of two's-complement values is not symmetric, so negation of the maximum negative int or long results in that same maximum negative number. Overflow occurs in this case, but no exception is thrown. For all integer values x, -x equals (~x)+1.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":29026087,"reputation":1,"user_id":22234219,"display_name":"CS-Programming69"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701204426,"creation_date":1701204392,"answer_id":77567055,"question_id":48778382,"body_markdown":"You are encountering a stack overflow error when checking n within the recursive function is due to the recursive nature of the algorithm. When n is a large negative value, each recursive call will decrement n by 1, eventually leading to a stack overflow.\r\n\r\n\r\n    class Solution {\r\n        public double myPow(double x, int n) {\r\n            if (n &lt; 0) {\r\n                x = 1 / x;\r\n                long N = -(long) n; // Convert n to long to handle large negative values\r\n                return myPowHelper(x, N);\r\n            } else {\r\n                return myPowHelper(x, n);\r\n            }\r\n        }\r\n    \r\n        private double myPowHelper(double x, long n) {\r\n            if (n == 0) {\r\n                return 1.0;\r\n            }\r\n            double half = myPowHelper(x, n / 2);\r\n            if (n % 2 == 0) {\r\n                return half * half;\r\n            } else {\r\n                return half * half * x;\r\n            }\r\n        }\r\n    }\r\n\r\nThis corrected code performs the check outside the recursive function and converts n to a long value, where it can handle large negative values of n correctly without encountering a stack overflow error.","title":"Why I got an stack overflow error for LeetCode algorithm #50","body":"<p>You are encountering a stack overflow error when checking n within the recursive function is due to the recursive nature of the algorithm. When n is a large negative value, each recursive call will decrement n by 1, eventually leading to a stack overflow.</p>\n<pre><code>class Solution {\n    public double myPow(double x, int n) {\n        if (n &lt; 0) {\n            x = 1 / x;\n            long N = -(long) n; // Convert n to long to handle large negative values\n            return myPowHelper(x, N);\n        } else {\n            return myPowHelper(x, n);\n        }\n    }\n\n    private double myPowHelper(double x, long n) {\n        if (n == 0) {\n            return 1.0;\n        }\n        double half = myPowHelper(x, n / 2);\n        if (n % 2 == 0) {\n            return half * half;\n        } else {\n            return half * half * x;\n        }\n    }\n}\n</code></pre>\n<p>This corrected code performs the check outside the recursive function and converts n to a long value, where it can handle large negative values of n correctly without encountering a stack overflow error.</p>\n"}],"owner":{"account_id":11305227,"reputation":9,"user_id":8290048,"display_name":"xingtian dong"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1102,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"answer_count":2,"score":-4,"last_activity_date":1701204426,"creation_date":1518572190,"question_id":48778382,"body_markdown":"For the LeetCode algorithm problem #50 Pow(x, n). Why I got an stack overflow error if I put checking n is positive or negative within the recursive function? But if I put the checking outside the recursive function then it will accept.\r\nThe test case is 1.000  -2147483648\r\n\r\nChecking within the recursive function.\r\n\r\n    class Solution {\r\n        public double myPow(double x, int n) {\r\n            if (n &lt; 0) {\r\n                x = 1 / x;\r\n                n = -n;\r\n                return myPow(x,n);\r\n            } \r\n        \r\n            if (n == 0) {\r\n                return 1.0;\r\n            }\r\n            double half = myPow(x, n / 2);\r\n                if (n % 2 == 0) {\r\n                return half * half;\r\n            } else {\r\n                return half * half * x;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nChecking outside the recursive function.\r\n\r\n    class Solution {\r\n        private double fastPow(double x, long n) {\r\n            if (n == 0) {\r\n                return 1.0;\r\n            }\r\n            double half = fastPow(x, n / 2);\r\n            if (n % 2 == 0) {\r\n                return half * half;\r\n            } else {\r\n                return half * half * x;\r\n            }\r\n        }\r\n        public double myPow(double x, int n) {\r\n            long N = n;\r\n            if (N &lt; 0) {\r\n                x = 1 / x;\r\n                N = -N;\r\n            }\r\n\r\n            return fastPow(x, N);\r\n        }\r\n    }","title":"Why I got an stack overflow error for LeetCode algorithm #50","body":"<p>For the LeetCode algorithm problem #50 Pow(x, n). Why I got an stack overflow error if I put checking n is positive or negative within the recursive function? But if I put the checking outside the recursive function then it will accept.\nThe test case is 1.000  -2147483648</p>\n\n<p>Checking within the recursive function.</p>\n\n<pre><code>class Solution {\n    public double myPow(double x, int n) {\n        if (n &lt; 0) {\n            x = 1 / x;\n            n = -n;\n            return myPow(x,n);\n        } \n\n        if (n == 0) {\n            return 1.0;\n        }\n        double half = myPow(x, n / 2);\n            if (n % 2 == 0) {\n            return half * half;\n        } else {\n            return half * half * x;\n        }\n    }\n}\n</code></pre>\n\n<p>Checking outside the recursive function.</p>\n\n<pre><code>class Solution {\n    private double fastPow(double x, long n) {\n        if (n == 0) {\n            return 1.0;\n        }\n        double half = fastPow(x, n / 2);\n        if (n % 2 == 0) {\n            return half * half;\n        } else {\n            return half * half * x;\n        }\n    }\n    public double myPow(double x, int n) {\n        long N = n;\n        if (N &lt; 0) {\n            x = 1 / x;\n            N = -N;\n        }\n\n        return fastPow(x, N);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","build.gradle","classnotfoundexception","noclassdeffounderror"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1652451552,"post_id":72230629,"comment_id":127616686,"body_markdown":"Looks like proguard has renamed (or even removed) the classes mentioned in the error message that should not be renamed because they are needed. Configure Proguard to keep those classes.","body":"Looks like proguard has renamed (or even removed) the classes mentioned in the error message that should not be renamed because they are needed. Configure Proguard to keep those classes."},{"owner":{"account_id":19026703,"reputation":83,"user_id":17887904,"display_name":"Garv"},"score":0,"creation_date":1652521714,"post_id":72230629,"comment_id":127629757,"body_markdown":"I don&#39;t know much about Proguard. Where can I configure it? Note: I&#39;m using Android Studio","body":"I don&#39;t know much about Proguard. Where can I configure it? Note: I&#39;m using Android Studio"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1652524225,"post_id":72230629,"comment_id":127630189,"body_markdown":"Proguard is configured by the `proguard-android-optimize.txt` as shown in your gradle config.","body":"Proguard is configured by the <code>proguard-android-optimize.txt</code> as shown in your gradle config."},{"owner":{"account_id":19026703,"reputation":83,"user_id":17887904,"display_name":"Garv"},"score":0,"creation_date":1652696908,"post_id":72230629,"comment_id":127660243,"body_markdown":"The problem was not with Proguard","body":"The problem was not with Proguard"},{"owner":{"account_id":253331,"reputation":22640,"user_id":531954,"accept_rate":69,"display_name":"Danubian Sailor"},"score":0,"creation_date":1653653966,"post_id":72230629,"comment_id":127908942,"body_markdown":"Does this answer your question? [What causes and what are the differences between NoClassDefFoundError and ClassNotFoundException?](https://stackoverflow.com/questions/1457863/what-causes-and-what-are-the-differences-between-noclassdeffounderror-and-classn)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1457863/what-causes-and-what-are-the-differences-between-noclassdeffounderror-and-classn\">What causes and what are the differences between NoClassDefFoundError and ClassNotFoundException?</a>"},{"owner":{"account_id":19026703,"reputation":83,"user_id":17887904,"display_name":"Garv"},"score":0,"creation_date":1653659626,"post_id":72230629,"comment_id":127911207,"body_markdown":"@DanubianSailor I got the solution of my problem while debugging.","body":"@DanubianSailor I got the solution of my problem while debugging."}],"answers":[{"comments":[{"owner":{"account_id":6643996,"reputation":1451,"user_id":5128831,"display_name":"Homayoon Ahmadi"},"score":1,"creation_date":1674993237,"post_id":72257673,"comment_id":132828615,"body_markdown":"It also occurs on Android 13 and appcompat v1.6.0, downgrading to v1.5.0 solved the problem for me.","body":"It also occurs on Android 13 and appcompat v1.6.0, downgrading to v1.5.0 solved the problem for me."}],"tags":[],"owner":{"account_id":19026703,"reputation":83,"user_id":17887904,"display_name":"Garv"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1653659511,"creation_date":1652696530,"answer_id":72257673,"question_id":72230629,"body_markdown":"I found the problem while debugging.\r\n\r\nThe problem was in andoidx.appcompat class not found\r\n\r\nIn app build.gradle,\r\nI changed this line of dependencies:\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\nTo:\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.3.1&#39;\r\n\r\nMaybe the newer version has changed the classpath.\r\n","title":"java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/core/view/MenuHost;","body":"<p>I found the problem while debugging.</p>\n<p>The problem was in andoidx.appcompat class not found</p>\n<p>In app build.gradle,\nI changed this line of dependencies:</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.4.1'\n</code></pre>\n<p>To:</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.3.1'\n</code></pre>\n<p>Maybe the newer version has changed the classpath.</p>\n"}],"owner":{"account_id":19026703,"reputation":83,"user_id":17887904,"display_name":"Garv"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7551,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72257673,"answer_count":1,"score":4,"last_activity_date":1701203954,"creation_date":1652449648,"question_id":72230629,"body_markdown":"I&#39;m making a google sign in process in my app.\r\n\r\nWhenever I open my app it crashes and gives `NoClassDefFoundError`\r\n\r\nI checked the logcat and found this:-\r\n\r\n```\r\n    --------- beginning of crash\r\n2022-05-13 18:59:08.881 3810-3810/com.java.test E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.java.test, PID: 3810\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/core/view/MenuHost;\r\n        at java.lang.Class.newInstance(Native Method)\r\n        at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\r\n        at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\r\n        at android.app.Instrumentation.newActivity(Instrumentation.java:1244)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3183)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3410)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2017)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7397)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:935)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;androidx.core.view.MenuHost&quot; on path: DexPathList[[zip file &quot;/data/app/com.java.test-NhlLILW0268bo0W5tj1Gxw==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.java.test-NhlLILW0268bo0W5tj1Gxw==/lib/arm64, /system/lib64, /system/product/lib64]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at java.lang.Class.newInstance(Native Method)&#160;\r\n        at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)&#160;\r\n        at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)&#160;\r\n        at android.app.Instrumentation.newActivity(Instrumentation.java:1244)&#160;\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3183)&#160;\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3410)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2017)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)&#160;\r\n        at android.os.Looper.loop(Looper.java:214)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7397)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:935)&#160;\r\n```\r\n\r\nThis is `build.gradle(module)` :-\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdkVersion 31\r\n    buildToolsVersion &quot;30.0.3&quot;\r\n\r\n    defaultConfig {\r\n        configurations.all {\r\n            resolutionStrategy {\r\n                force &#39;androidx.core:core:1.6.0&#39;\r\n            }\r\n        }\r\n        applicationId &quot;com.java.test&quot;\r\n        compileSdkVersion 31\r\n        minSdkVersion 28\r\n        targetSdkVersion 31\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.6.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n    implementation &#39;com.google.android.gms:play-services-auth:20.2.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:21.0.4&#39;\r\n    implementation &#39;com.github.bumptech.glide:glide:4.11.0&#39;\r\n    testImplementation &#39;junit:junit:4.+&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n}\r\n```\r\n\r\nWhy this error is occurring?\r\nPlease help me!","title":"java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/core/view/MenuHost;","body":"<p>I'm making a google sign in process in my app.</p>\n<p>Whenever I open my app it crashes and gives <code>NoClassDefFoundError</code></p>\n<p>I checked the logcat and found this:-</p>\n<pre><code>    --------- beginning of crash\n2022-05-13 18:59:08.881 3810-3810/com.java.test E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.java.test, PID: 3810\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/core/view/MenuHost;\n        at java.lang.Class.newInstance(Native Method)\n        at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\n        at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\n        at android.app.Instrumentation.newActivity(Instrumentation.java:1244)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3183)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3410)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2017)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7397)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:935)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;androidx.core.view.MenuHost&quot; on path: DexPathList[[zip file &quot;/data/app/com.java.test-NhlLILW0268bo0W5tj1Gxw==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.java.test-NhlLILW0268bo0W5tj1Gxw==/lib/arm64, /system/lib64, /system/product/lib64]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at java.lang.Class.newInstance(Native Method) \n        at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95) \n        at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45) \n        at android.app.Instrumentation.newActivity(Instrumentation.java:1244) \n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3183) \n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3410) \n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83) \n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2017) \n        at android.os.Handler.dispatchMessage(Handler.java:107) \n        at android.os.Looper.loop(Looper.java:214) \n        at android.app.ActivityThread.main(ActivityThread.java:7397) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:935) \n</code></pre>\n<p>This is <code>build.gradle(module)</code> :-</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdkVersion 31\n    buildToolsVersion &quot;30.0.3&quot;\n\n    defaultConfig {\n        configurations.all {\n            resolutionStrategy {\n                force 'androidx.core:core:1.6.0'\n            }\n        }\n        applicationId &quot;com.java.test&quot;\n        compileSdkVersion 31\n        minSdkVersion 28\n        targetSdkVersion 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.6.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    implementation 'com.google.android.gms:play-services-auth:20.2.0'\n    implementation 'com.google.firebase:firebase-auth:21.0.4'\n    implementation 'com.github.bumptech.glide:glide:4.11.0'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}\n</code></pre>\n<p>Why this error is occurring?\nPlease help me!</p>\n"},{"tags":["java","datetime","date","jodatime","duration"],"comments":[{"owner":{"account_id":1525734,"reputation":4411,"user_id":1424229,"display_name":"Rob Wagner"},"score":3,"creation_date":1340227903,"post_id":11128484,"comment_id":14583910,"body_markdown":"You should change your millis value to a long, I&#39;m not sure an int will be as acurate as you want.","body":"You should change your millis value to a long, I&#39;m not sure an int will be as acurate as you want."}],"answers":[{"comments":[{"owner":{"account_id":1544203,"reputation":1407,"user_id":1438132,"accept_rate":78,"display_name":"Isuru Madusanka"},"score":0,"creation_date":1340228327,"post_id":11128516,"comment_id":14584052,"body_markdown":"Then I get negative value. Why is that?","body":"Then I get negative value. Why is that?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1340228592,"post_id":11128516,"comment_id":14584143,"body_markdown":"@Isuru: No idea. You used my exact code? I can&#39;t test it right now.","body":"@Isuru: No idea. You used my exact code? I can&#39;t test it right now."},{"owner":{"account_id":1544203,"reputation":1407,"user_id":1438132,"accept_rate":78,"display_name":"Isuru Madusanka"},"score":0,"creation_date":1340228923,"post_id":11128516,"comment_id":14584256,"body_markdown":"Well it should be long milliseconds =  - start.getMillis() - end.getMillis(); When I change like this, I get an positive value. Am I right or missing something?","body":"Well it should be long milliseconds =  - start.getMillis() - end.getMillis(); When I change like this, I get an positive value. Am I right or missing something?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1340229730,"post_id":11128516,"comment_id":14584488,"body_markdown":"@IsuruMadusanka: No, it should *definitely* be `end.getMillis() - start.getMillis()` - after all, `end` is later than `start`, so should have a larger `millis` value.","body":"@IsuruMadusanka: No, it should <i>definitely</i> be <code>end.getMillis() - start.getMillis()</code> - after all, <code>end</code> is later than <code>start</code>, so should have a larger <code>millis</code> value."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1340230272,"post_id":11128516,"comment_id":14584678,"body_markdown":"@IsuruMadusanka: I&#39;ve edited my answer to include a short but complete program demonstrating how you can do this - and it gives me a positive number. I suggest you compare that to your code.","body":"@IsuruMadusanka: I&#39;ve edited my answer to include a short but complete program demonstrating how you can do this - and it gives me a positive number. I suggest you compare that to your code."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1340230248,"creation_date":1340227825,"answer_id":11128516,"question_id":11128484,"body_markdown":"To just calculate milliseconds, it&#39;s easy - no need to go via a `Period` at all.\r\n\r\n    long milliseconds = end.getMillis() - start.getMillis();\r\n\r\n(It&#39;s not clear why you&#39;re calling `new DateTime(DateTime.now())` by the way - just `DateTime.now()` will suffice.)\r\n\r\nEDIT: It works fine for me:\r\n\r\n    import org.joda.time.*;\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            DateTime start = DateTime.now();\r\n            DateTime end = new DateTime(2012, 12, 25, 0, 0, 0, 0);\r\n            System.out.println(end.getMillis() - start.getMillis());\r\n        }\r\n    }","title":"Get Time till Christmas using Joda Time","body":"<p>To just calculate milliseconds, it's easy - no need to go via a <code>Period</code> at all.</p>\n\n<pre><code>long milliseconds = end.getMillis() - start.getMillis();\n</code></pre>\n\n<p>(It's not clear why you're calling <code>new DateTime(DateTime.now())</code> by the way - just <code>DateTime.now()</code> will suffice.)</p>\n\n<p>EDIT: It works fine for me:</p>\n\n<pre><code>import org.joda.time.*;\n\npublic class Test {\n    public static void main(String[] args) {\n        DateTime start = DateTime.now();\n        DateTime end = new DateTime(2012, 12, 25, 0, 0, 0, 0);\n        System.out.println(end.getMillis() - start.getMillis());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1554068,"reputation":10830,"user_id":1445740,"accept_rate":75,"display_name":"Samy Vilar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340230337,"creation_date":1340230337,"answer_id":11128954,"question_id":11128484,"body_markdown":"`int` being 32 bits long can store values anywhere between `-2147483648` and `2147483647` if its signed which it is by default, `unsigned` its between 0 and `4294967295`, once such values are exceed it, an overflow, occurs and the values are wrapped around, as such `2147483647 + 1 == -2147483648`, in your case if you tried to set a larger value, type `long` is 64 bits as such it `can` hold larger values and it probably does in this case, to an int, same thing occurs, which is why you may be getting the wrong values.\r\n\r\n`DateTimeUtils.getDurationMillis` returns a `long`","title":"Get Time till Christmas using Joda Time","body":"<p><code>int</code> being 32 bits long can store values anywhere between <code>-2147483648</code> and <code>2147483647</code> if its signed which it is by default, <code>unsigned</code> its between 0 and <code>4294967295</code>, once such values are exceed it, an overflow, occurs and the values are wrapped around, as such <code>2147483647 + 1 == -2147483648</code>, in your case if you tried to set a larger value, type <code>long</code> is 64 bits as such it <code>can</code> hold larger values and it probably does in this case, to an int, same thing occurs, which is why you may be getting the wrong values.</p>\n\n<p><code>DateTimeUtils.getDurationMillis</code> returns a <code>long</code></p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73067,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701203541,"creation_date":1701203541,"answer_id":77566989,"question_id":11128484,"body_markdown":"java.time\r\n---\r\n\r\nQuoted below is a notice from the [home page of **Joda-Time**](https://www.joda.org/joda-time/):\r\n\r\n&gt; **Note that from Java SE 8 onwards, users are asked to migrate to `java.time` (JSR-310) - a core part of the JDK which replaces this project.**\r\n\r\nSo, this answer is for anyone looking for a solution using [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html).\r\n\r\nSolution using java.time API\r\n---\r\n\r\n    ChronoUnit.MILLIS.between(Instant.now(), OffsetDateTime.of(LocalDate.of(2023, 12, 25), LocalTime.MIN, ZoneOffset.UTC).toInstant())\r\n\r\n[`Instant`](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html) represents instantaneous point on the timeline.\r\n\r\nAlternatively, you can use `OffsetDateTime` with `ZoneOffset.UTC` as follows:\r\n\r\n    ChronoUnit.MILLIS.between(OffsetDateTime.now(ZoneOffset.UTC), OffsetDateTime.of(LocalDate.of(2023, 12, 25), LocalTime.MIN, ZoneOffset.UTC))\r\n\r\n[ONLINE DEMO](https://ideone.com/VjWmp3)\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Get Time till Christmas using Joda Time","body":"<h2>java.time</h2>\n<p>Quoted below is a notice from the <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">home page of <strong>Joda-Time</strong></a>:</p>\n<blockquote>\n<p><strong>Note that from Java SE 8 onwards, users are asked to migrate to <code>java.time</code> (JSR-310) - a core part of the JDK which replaces this project.</strong></p>\n</blockquote>\n<p>So, this answer is for anyone looking for a solution using <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a>.</p>\n<h2>Solution using java.time API</h2>\n<pre><code>ChronoUnit.MILLIS.between(Instant.now(), OffsetDateTime.of(LocalDate.of(2023, 12, 25), LocalTime.MIN, ZoneOffset.UTC).toInstant())\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> represents instantaneous point on the timeline.</p>\n<p>Alternatively, you can use <code>OffsetDateTime</code> with <code>ZoneOffset.UTC</code> as follows:</p>\n<pre><code>ChronoUnit.MILLIS.between(OffsetDateTime.now(ZoneOffset.UTC), OffsetDateTime.of(LocalDate.of(2023, 12, 25), LocalTime.MIN, ZoneOffset.UTC))\n</code></pre>\n<p><a href=\"https://ideone.com/VjWmp3\" rel=\"nofollow noreferrer\">ONLINE DEMO</a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":1544203,"reputation":1407,"user_id":1438132,"accept_rate":78,"display_name":"Isuru Madusanka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":11128516,"answer_count":3,"score":0,"last_activity_date":1701203541,"creation_date":1340227659,"question_id":11128484,"body_markdown":"I need to calculate the time till Christmas in milliseconds. I&#39;m using joda time and I tried using `Period`, but after wasting a lot of time on Google, I realized that this is wrong, and I could calculate milliseconds. However, my implementation is incorrect and I&#39;m getting wrong results.\r\n\r\nMy code:\r\n\r\n    DateTime start = new DateTime(DateTime.now());\r\n    DateTime end = new DateTime(2012, 12, 25, 0, 0, 0 ,0);\r\n    org.joda.time.Duration duration = new Period(end, start).toDurationFrom(new Instant());\r\n    int millis = (int) DateTimeUtils.getDurationMillis(duration);\r\n    Log.d(&quot;Millis&quot;, String.valueOf(millis));\r\n\r\nI tried looking at the Joda Time Documentation, but I could not find an answer. ","title":"Get Time till Christmas using Joda Time","body":"<p>I need to calculate the time till Christmas in milliseconds. I'm using joda time and I tried using <code>Period</code>, but after wasting a lot of time on Google, I realized that this is wrong, and I could calculate milliseconds. However, my implementation is incorrect and I'm getting wrong results.</p>\n\n<p>My code:</p>\n\n<pre><code>DateTime start = new DateTime(DateTime.now());\nDateTime end = new DateTime(2012, 12, 25, 0, 0, 0 ,0);\norg.joda.time.Duration duration = new Period(end, start).toDurationFrom(new Instant());\nint millis = (int) DateTimeUtils.getDurationMillis(duration);\nLog.d(\"Millis\", String.valueOf(millis));\n</code></pre>\n\n<p>I tried looking at the Joda Time Documentation, but I could not find an answer. </p>\n"},{"tags":["java","android","appium"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1701320751,"post_id":77566973,"comment_id":136761946,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":30016412,"reputation":1,"user_id":23002824,"display_name":"preethi sharath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701203269,"creation_date":1701203269,"question_id":77566973,"body_markdown":"how can i click only the linked text from a sentence/ element with a text like this &quot; Please manually enter the address or scan for controllers. here i need to click only scan for controllers which is a clickable text in the sentence from the element in my android device using appium + java.\r\n\r\ni tried this  using uiautomator and uiselector with @androidFindBy using xpath but that didnt work\r\n\r\nalso i am not looking for x, y coordinates method to access this clickable text coz i need to automate this for different devices having different resolutions","title":"Clicking a link embedded in an element in a sentence using appium + java on my windows machine without using coordinate system","body":"<p>how can i click only the linked text from a sentence/ element with a text like this &quot; Please manually enter the address or scan for controllers. here i need to click only scan for controllers which is a clickable text in the sentence from the element in my android device using appium + java.</p>\n<p>i tried this  using uiautomator and uiselector with @androidFindBy using xpath but that didnt work</p>\n<p>also i am not looking for x, y coordinates method to access this clickable text coz i need to automate this for different devices having different resolutions</p>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701185591,"post_id":77565135,"comment_id":136742429,"body_markdown":"If you run the proper goals yes it will produce a jar.","body":"If you run the proper goals yes it will produce a jar."},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":1,"creation_date":1701186159,"post_id":77565135,"comment_id":136742554,"body_markdown":"well i wonder, if you already have the files, why not just try it out?","body":"well i wonder, if you already have the files, why not just try it out?"},{"owner":{"account_id":513503,"reputation":343,"user_id":7868753,"display_name":"shailesh gavathe"},"score":0,"creation_date":1701187521,"post_id":77565135,"comment_id":136742832,"body_markdown":"@GyroGearless  I am using a buildpacks for java to produce the jar file with my minimalistic content of pom.xml. This is to test that buildpack works. It does not produce the jar file when I checked the container.  With my limited knowledge on maven workflows, I was testing with very minimal contents in pom.xml file. It produces a proper jar file  when i have a shade plugin &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;. So I was wondering, if user can try to produce jar file any other ways?","body":"@GyroGearless  I am using a buildpacks for java to produce the jar file with my minimalistic content of pom.xml. This is to test that buildpack works. It does not produce the jar file when I checked the container.  With my limited knowledge on maven workflows, I was testing with very minimal contents in pom.xml file. It produces a proper jar file  when i have a shade plugin &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;. So I was wondering, if user can try to produce jar file any other ways?"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1701191473,"post_id":77565135,"comment_id":136743748,"body_markdown":"This is not your main problem. You even know the answer by testing it. You should post a new question about the original problem you are trying to resolve with the details for reproduction.","body":"This is not your main problem. You even know the answer by testing it. You should post a new question about the original problem you are trying to resolve with the details for reproduction."}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701202682,"creation_date":1701202172,"answer_id":77566888,"question_id":77565135,"body_markdown":"If you take a look at the `Packaging` section of `Introduction to the lifecycle` [in the documentation](https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#packaging), you can see that it will execute `jar:jar` (the `jar` goal of the `maven-jar-plugin`) in the `package` phase by default.\r\n\r\nYou can also see this in [the `Usage` section of the `maven-jar-plugin` documentation](https://maven.apache.org/plugins/maven-jar-plugin/usage.html).\r\n&gt; Usually there is no need to mentioned the &#39;maven-jar-plugin&#39; explicit cause it&#39;s bound to the Maven Build Life Cycle.\r\n\r\nThis is assuming you are using the `jar` packaging which is the default. In your example, you even set this explicitely with `&lt;packaging&gt;jar&lt;/packaging&gt;` in your `pom.xml`.\r\n\r\nThe `jar` goal of the `maven-jar-plugin` will create a JAR from your compiled project sources and resources. However, it won&#39;t contain any dependencies.","title":"ways to generate jar file from pom.xml","body":"<p>If you take a look at the <code>Packaging</code> section of <code>Introduction to the lifecycle</code> <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#packaging\" rel=\"nofollow noreferrer\">in the documentation</a>, you can see that it will execute <code>jar:jar</code> (the <code>jar</code> goal of the <code>maven-jar-plugin</code>) in the <code>package</code> phase by default.</p>\n<p>You can also see this in <a href=\"https://maven.apache.org/plugins/maven-jar-plugin/usage.html\" rel=\"nofollow noreferrer\">the <code>Usage</code> section of the <code>maven-jar-plugin</code> documentation</a>.</p>\n<blockquote>\n<p>Usually there is no need to mentioned the 'maven-jar-plugin' explicit cause it's bound to the Maven Build Life Cycle.</p>\n</blockquote>\n<p>This is assuming you are using the <code>jar</code> packaging which is the default. In your example, you even set this explicitely with <code>&lt;packaging&gt;jar&lt;/packaging&gt;</code> in your <code>pom.xml</code>.</p>\n<p>The <code>jar</code> goal of the <code>maven-jar-plugin</code> will create a JAR from your compiled project sources and resources. However, it won't contain any dependencies.</p>\n"}],"owner":{"account_id":513503,"reputation":343,"user_id":7868753,"display_name":"shailesh gavathe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77566888,"answer_count":1,"score":0,"last_activity_date":1701202682,"creation_date":1701185414,"question_id":77565135,"body_markdown":"Wanted to check , what produces a jar file from pom.xml with no plugins included?  Let say I a class file \r\n\r\n```\r\nmy-app/\r\n|-- src/\r\n    |-- main/\r\n        |-- java/\r\n            |-- com/\r\n                |-- example/\r\n                    |-- MyClass.java\r\n|-- pom.xml\r\n\r\n```\r\n\r\n```\r\nMyclass.java\r\npackage com.example;\r\n\r\npublic class MyClass {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello, Maven!&quot;);\r\n    }\r\n}\r\n```\r\n\r\n```\r\npom.xml\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;my-app&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;build&gt;\r\n    &lt;finalName&gt;model&lt;/finalName&gt;\r\n    &lt;/build&gt;\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nshould the above pom.xml without plugins produce a jar file ?\r\n\r\n","title":"ways to generate jar file from pom.xml","body":"<p>Wanted to check , what produces a jar file from pom.xml with no plugins included?  Let say I a class file</p>\n<pre><code>my-app/\n|-- src/\n    |-- main/\n        |-- java/\n            |-- com/\n                |-- example/\n                    |-- MyClass.java\n|-- pom.xml\n\n</code></pre>\n<pre><code>Myclass.java\npackage com.example;\n\npublic class MyClass {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello, Maven!&quot;);\n    }\n}\n</code></pre>\n<pre><code>pom.xml\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;my-app&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;build&gt;\n    &lt;finalName&gt;model&lt;/finalName&gt;\n    &lt;/build&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n<p>should the above pom.xml without plugins produce a jar file ?</p>\n"},{"tags":["java","class","methods","overriding"],"comments":[{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":1,"creation_date":1701202822,"post_id":77566912,"comment_id":136745633,"body_markdown":"Add a block of code in your `paintComponent` method that will throw an exception. Then catch it and inside the catch block, call the exception&#39;s `printStackTrace` method. Then you&#39;ll see how it&#39;s called.","body":"Add a block of code in your <code>paintComponent</code> method that will throw an exception. Then catch it and inside the catch block, call the exception&#39;s <code>printStackTrace</code> method. Then you&#39;ll see how it&#39;s called."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1701205539,"post_id":77566912,"comment_id":136746072,"body_markdown":"Internally Swing components will call the paintComponent(...) method when the component needs to be painted. Read the section from the Swing tutorial on [Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) for the high level overview of how painting works. Don&#39;t forget to click on the &quot;Painting in Awt and Swing&quot; link for more details.","body":"Internally Swing components will call the paintComponent(...) method when the component needs to be painted. Read the section from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Custom Painting</a> for the high level overview of how painting works. Don&#39;t forget to click on the &quot;Painting in Awt and Swing&quot; link for more details."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1701208107,"post_id":77566912,"comment_id":136746428,"body_markdown":"The system where you’re running (Windows, OSX, Linux, etc.) will continually ask windows to paint themselves.  Java translates each such request into a call to `paint`, which in Swing components will delegate to paintComponent (and a few other methods).","body":"The system where you’re running (Windows, OSX, Linux, etc.) will continually ask windows to paint themselves.  Java translates each such request into a call to <code>paint</code>, which in Swing components will delegate to paintComponent (and a few other methods)."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701208535,"post_id":77566912,"comment_id":136746508,"body_markdown":"See the checked answer to this question: https://stackoverflow.com/questions/7764602/how-is-paint-running-without-being-called-in-the-main-method","body":"See the checked answer to this question: <a href=\"https://stackoverflow.com/questions/7764602/how-is-paint-running-without-being-called-in-the-main-method\" title=\"how is paint running without being called in the main method\">stackoverflow.com/questions/7764602/&hellip;</a>"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":2,"creation_date":1701212179,"post_id":77566912,"comment_id":136747035,"body_markdown":"@Jeff FYI `Thread#dumpStack()` does that without needing to throw and catch an Exception","body":"@Jeff FYI <code>Thread#dumpStack()</code> does that without needing to throw and catch an Exception"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1701212307,"post_id":77566912,"comment_id":136747053,"body_markdown":"@amir check the [documentation](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JComponent.html#paint(java.awt.Graphics)) of `paint()`: &quot;Invoked by Swing to draw components. ...  This method actually delegates the work of painting to three protected methods: `paintComponent`, `paintBorder`, and `paintChildren`.&quot;","body":"@amir check the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JComponent.html#paint(java.awt.Graphics)\" rel=\"nofollow noreferrer\">documentation</a> of <code>paint()</code>: &quot;Invoked by Swing to draw components. ...  This method actually delegates the work of painting to three protected methods: <code>paintComponent</code>, <code>paintBorder</code>, and <code>paintChildren</code>.&quot;"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1701216927,"post_id":77566912,"comment_id":136747548,"body_markdown":"@user85421, poor wording on my part. My point was that behind the scenes  paintComponent() is automatically invoked whenever the component needs to be painted so you NEVER need to invoke it directly.  You should also NEVER invoke paint() directly, so I would not consider that the starting point for painting a component. As I stated in my answer read the tutorial and follow the links for a more in depth description of everything that goes on for a component to be painted.","body":"@user85421, poor wording on my part. My point was that behind the scenes  paintComponent() is automatically invoked whenever the component needs to be painted so you NEVER need to invoke it directly.  You should also NEVER invoke paint() directly, so I would not consider that the starting point for painting a component. As I stated in my answer read the tutorial and follow the links for a more in depth description of everything that goes on for a component to be painted."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1701245593,"post_id":77566912,"comment_id":136750376,"body_markdown":"@camickr 1) my comment was clearly meant to OP, I even added an (unnecessary) @; 2) I never said it is the starting point of anything, it is just an explanation of &quot;Why is the paintComponent() method executed&quot; - the title of this question; 3) it also explains that, I quote: &quot;Applications should not invoke paint directly, ...&quot; (I will not repeat the whole documentation here, you are actually one that already disapproved such before)","body":"@camickr 1) my comment was clearly meant to OP, I even added an (unnecessary) @; 2) I never said it is the starting point of anything, it is just an explanation of &quot;Why is the paintComponent() method executed&quot; - the title of this question; 3) it also explains that, I quote: &quot;Applications should not invoke paint directly, ...&quot; (I will not repeat the whole documentation here, you are actually one that already disapproved such before)"}],"owner":{"account_id":29834355,"reputation":11,"user_id":22864070,"display_name":"amir"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701202453,"creation_date":1701202453,"question_id":77566912,"body_markdown":"i am just learning Java , today i ran into a problem while practicing. first, I inherited from **JPanel** and drew a diagonal line using the paintComponent method. but in the main class of the program, I never called the paintComponent method, but still it was executed. How is such a thing possible? \r\n\r\n```\r\nimport java.awt.Graphics;\r\nimport javax.swing.JPanel;\r\npublic class MyPanel extends JPanel{\r\n    @Override\r\n    public void paintComponent(Graphics g){\r\n        super.paintComponent(g);\r\n        int w = getWidth();\r\n        int h = getHeight();\r\n        g.drawLine(0 , 0 , w , h);\r\n     }\r\n} \r\n```\r\n\r\n\r\nthen i added MyPanel to JFrame in the main class : \r\n\r\n\r\n```\r\nimport javax.swing.JFrame;\r\npublic class main26 {\r\n    public static void main(String[] args) {\r\n        MyPanel p1 = new MyPanel();\r\n        JFrame f1 = new JFrame();\r\n        f1.add(p1);\r\n        f1.setSize(500,500);\r\n        f1.setLocationRelativeTo(null);\r\n        f1.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        f1.setVisible(true);\r\n     }\r\n}\r\n   \r\n        \r\n```\r\n\r\n\r\n\r\nIn fact, i expected that the diagonal line would not be executed until I called the paintComponent method from MyPanel. But to my surprise, this line was drawn without calling it and just by adding MyPanel to JFrame . ","title":"Why is the paintComponent() method executed without being called?","body":"<p>i am just learning Java , today i ran into a problem while practicing. first, I inherited from <strong>JPanel</strong> and drew a diagonal line using the paintComponent method. but in the main class of the program, I never called the paintComponent method, but still it was executed. How is such a thing possible?</p>\n<pre><code>import java.awt.Graphics;\nimport javax.swing.JPanel;\npublic class MyPanel extends JPanel{\n    @Override\n    public void paintComponent(Graphics g){\n        super.paintComponent(g);\n        int w = getWidth();\n        int h = getHeight();\n        g.drawLine(0 , 0 , w , h);\n     }\n} \n</code></pre>\n<p>then i added MyPanel to JFrame in the main class :</p>\n<pre><code>import javax.swing.JFrame;\npublic class main26 {\n    public static void main(String[] args) {\n        MyPanel p1 = new MyPanel();\n        JFrame f1 = new JFrame();\n        f1.add(p1);\n        f1.setSize(500,500);\n        f1.setLocationRelativeTo(null);\n        f1.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f1.setVisible(true);\n     }\n}\n   \n        \n</code></pre>\n<p>In fact, i expected that the diagonal line would not be executed until I called the paintComponent method from MyPanel. But to my surprise, this line was drawn without calling it and just by adding MyPanel to JFrame .</p>\n"},{"tags":["java","json","codeigniter","encoding"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1701187253,"post_id":77565205,"comment_id":136742783,"body_markdown":"You should show an attempt to solve this yourself. If you get stuck, then explain where you are stuck. To improve your understanding of Stack Overflow and how to use it, may I suggest these resources:  [Tour](https://stackoverflow.com/tour), [Help Center](https://stackoverflow.com/help), [How to Ask a Good Question](https://stackoverflow.com/help/how-to-ask), [Minimal Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example), [Ask / Answer Homework Questions](https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions)","body":"You should show an attempt to solve this yourself. If you get stuck, then explain where you are stuck. To improve your understanding of Stack Overflow and how to use it, may I suggest these resources:  <a href=\"https://stackoverflow.com/tour\">Tour</a>, <a href=\"https://stackoverflow.com/help\">Help Center</a>, <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask a Good Question</a>, <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal Reproducible Example</a>, <a href=\"https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions\">Ask / Answer Homework Questions</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1701188729,"post_id":77565205,"comment_id":136743102,"body_markdown":"In the question body, the description of what is to be done, seems to be very different from what is being asked in the question header.  Also, in your sample code, the three `String []` seem to be not related to the problem.","body":"In the question body, the description of what is to be done, seems to be very different from what is being asked in the question header.  Also, in your sample code, the three <code>String []</code> seem to be not related to the problem."}],"answers":[{"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1701195203,"post_id":77565266,"comment_id":136744373,"body_markdown":"For reference, _[Comparable#compareTo](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Comparable.html#compareTo(T))_.","body":"For reference, <i><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Comparable.html#compareTo(T)\" rel=\"nofollow noreferrer\">Comparable#compareTo</a></i>."}],"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1701186602,"creation_date":1701186602,"answer_id":77565266,"question_id":77565205,"body_markdown":"I&#39;d compare each component individually, and then use [`signum`](https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#signum-double-) to get strictly `1`, `-1` or `0`.\r\n\r\n```\r\npublic int userCompare(User a, User b) {\r\n    int retVal = a.getName().compareTo(b.getName);\r\n    if (retVal != 0) {\r\n        return (int) Math.signum(retVal);\r\n    }\r\n\r\n    retVal = Integer.compare(a.getId(), b.getId());\r\n    return (int) Math.signum(retVal);\r\n}\r\n```\r\n\r\nSide note - for the purpose of sorting in Java, you don&#39;t need to strictly return `1`, `-1` or `0`, you can just return an arbitrary positive, negative or zero value. In other words, the usage of `signum` is required by question, but isn&#39;t strictly required for sorting.","title":"How to get index of a string in an a list","body":"<p>I'd compare each component individually, and then use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#signum-double-\" rel=\"nofollow noreferrer\"><code>signum</code></a> to get strictly <code>1</code>, <code>-1</code> or <code>0</code>.</p>\n<pre><code>public int userCompare(User a, User b) {\n    int retVal = a.getName().compareTo(b.getName);\n    if (retVal != 0) {\n        return (int) Math.signum(retVal);\n    }\n\n    retVal = Integer.compare(a.getId(), b.getId());\n    return (int) Math.signum(retVal);\n}\n</code></pre>\n<p>Side note - for the purpose of sorting in Java, you don't need to strictly return <code>1</code>, <code>-1</code> or <code>0</code>, you can just return an arbitrary positive, negative or zero value. In other words, the usage of <code>signum</code> is required by question, but isn't strictly required for sorting.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701196771,"creation_date":1701196771,"answer_id":77566385,"question_id":77565205,"body_markdown":"I would utilize the _[String#compareTo](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#compareTo(java.lang.String))_, and _[Integer#compare](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html#compare(int,int))_ methods here.\r\n\r\n```java\r\nint userCompare(String nameA, int idA, String nameB, int idB) {\r\n    int t;\r\n    if ((t = nameA.compareTo(nameB)) == 0)\r\n        return Integer.compare(idA, idB);\r\n    return t;\r\n}\r\n```\r\n\r\nIf you&#39;re looking to implement the actual comparison routine, review the _source_ for each of those methods.\\\r\nFor a _String_, it&#39;s just a traversal of the _bytes_.\r\n\r\nHere is utilized _StringLatin1#compareTo_ method.\\\r\n_[GitHub &amp;ndash; OpenJDK &amp;ndash; StringLatin1.java &amp;ndash; compareTo(byte[], byte[], int, int)](https://github.com/openjdk/jdk/blob/jdk-21%2B9/src/java.base/share/classes/java/lang/StringLatin1.java#L110)_.\r\n\r\n```java\r\npublic static int compareTo(byte[] value, byte[] other, int len1, int len2) {\r\n    int lim = Math.min(len1, len2);\r\n    for (int k = 0; k &lt; lim; k++) {\r\n        if (value[k] != other[k]) {\r\n            return getChar(value, k) - getChar(other, k);\r\n        }\r\n    }\r\n    return len1 - len2;\r\n}\r\n```\r\n\r\nAnd, for an _Integer_ it&#39;s just a _relational_, and _equality_, operation.\\\r\n_[GitHub &amp;ndash; OpenJDK &amp;ndash; Integer.java &amp;ndash; compare(int, int)](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/Integer.java#L1432)_.\r\n\r\n```java\r\n/**\r\n * Compares two {@code int} values numerically.\r\n * The value returned is identical to what would be returned by:\r\n * &lt;pre&gt;\r\n *    Integer.valueOf(x).compareTo(Integer.valueOf(y))\r\n * &lt;/pre&gt;\r\n *\r\n * @param  x the first {@code int} to compare\r\n * @param  y the second {@code int} to compare\r\n * @return the value {@code 0} if {@code x == y};\r\n *         a value less than {@code 0} if {@code x &lt; y}; and\r\n *         a value greater than {@code 0} if {@code x &gt; y}\r\n * @since 1.7\r\n */\r\npublic static int compare(int x, int y) {\r\n    return (x &lt; y) ? -1 : ((x == y) ? 0 : 1);\r\n}\r\n```","title":"How to get index of a string in an a list","body":"<p>I would utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#compareTo(java.lang.String)\" rel=\"nofollow noreferrer\">String#compareTo</a></em>, and <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html#compare(int,int)\" rel=\"nofollow noreferrer\">Integer#compare</a></em> methods here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int userCompare(String nameA, int idA, String nameB, int idB) {\n    int t;\n    if ((t = nameA.compareTo(nameB)) == 0)\n        return Integer.compare(idA, idB);\n    return t;\n}\n</code></pre>\n<p>If you're looking to implement the actual comparison routine, review the <em>source</em> for each of those methods.<br />\nFor a <em>String</em>, it's just a traversal of the <em>bytes</em>.</p>\n<p>Here is utilized <em>StringLatin1#compareTo</em> method.<br />\n<em><a href=\"https://github.com/openjdk/jdk/blob/jdk-21%2B9/src/java.base/share/classes/java/lang/StringLatin1.java#L110\" rel=\"nofollow noreferrer\">GitHub – OpenJDK – StringLatin1.java – compareTo(byte[], byte[], int, int)</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int compareTo(byte[] value, byte[] other, int len1, int len2) {\n    int lim = Math.min(len1, len2);\n    for (int k = 0; k &lt; lim; k++) {\n        if (value[k] != other[k]) {\n            return getChar(value, k) - getChar(other, k);\n        }\n    }\n    return len1 - len2;\n}\n</code></pre>\n<p>And, for an <em>Integer</em> it's just a <em>relational</em>, and <em>equality</em>, operation.<br />\n<em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/Integer.java#L1432\" rel=\"nofollow noreferrer\">GitHub – OpenJDK – Integer.java – compare(int, int)</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Compares two {@code int} values numerically.\n * The value returned is identical to what would be returned by:\n * &lt;pre&gt;\n *    Integer.valueOf(x).compareTo(Integer.valueOf(y))\n * &lt;/pre&gt;\n *\n * @param  x the first {@code int} to compare\n * @param  y the second {@code int} to compare\n * @return the value {@code 0} if {@code x == y};\n *         a value less than {@code 0} if {@code x &lt; y}; and\n *         a value greater than {@code 0} if {@code x &gt; y}\n * @since 1.7\n */\npublic static int compare(int x, int y) {\n    return (x &lt; y) ? -1 : ((x == y) ? 0 : 1);\n}\n</code></pre>\n"}],"owner":{"account_id":30014463,"reputation":21,"user_id":23001366,"display_name":"Tanmay Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1701202079,"creation_date":1701186050,"question_id":77565205,"body_markdown":"```\r\npublic int userCompare(String s1, int i1, String s2, int i2){\r\n        String[] alphabety = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;i&quot;, &quot;j&quot;, &quot;k&quot;, &quot;l&quot;, &quot;m&quot;, &quot;n&quot;, &quot;o&quot;, &quot;p&quot;, &quot;q&quot;, &quot;r&quot;, &quot;s&quot;, &quot;t&quot;, &quot;u&quot;, &quot;v&quot;, &quot;w&quot;, &quot;x&quot;, &quot;y&quot;, &quot;z&quot;};\r\n        String[] firstThing = s1.split(&quot;(?!^)&quot;);\r\n        String[] secondThing = s2.split(&quot;(?!^)&quot;);\r\n}\r\n```\r\nHow do I complete the following:\r\n\r\nCreate a method called userCompare that will return a -1, 1, or 0 based on the following: We have data for two users, A and B, each with a String name and an int id. The goal is to order the users such as for sorting. Return -1 if A comes before B, 1 if A comes after B, and 0 if they are the same. Order first by the string names, and then by the id numbers if the names are the same.","title":"How to get index of a string in an a list","body":"<pre><code>public int userCompare(String s1, int i1, String s2, int i2){\n        String[] alphabety = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;i&quot;, &quot;j&quot;, &quot;k&quot;, &quot;l&quot;, &quot;m&quot;, &quot;n&quot;, &quot;o&quot;, &quot;p&quot;, &quot;q&quot;, &quot;r&quot;, &quot;s&quot;, &quot;t&quot;, &quot;u&quot;, &quot;v&quot;, &quot;w&quot;, &quot;x&quot;, &quot;y&quot;, &quot;z&quot;};\n        String[] firstThing = s1.split(&quot;(?!^)&quot;);\n        String[] secondThing = s2.split(&quot;(?!^)&quot;);\n}\n</code></pre>\n<p>How do I complete the following:</p>\n<p>Create a method called userCompare that will return a -1, 1, or 0 based on the following: We have data for two users, A and B, each with a String name and an int id. The goal is to order the users such as for sorting. Return -1 if A comes before B, 1 if A comes after B, and 0 if they are the same. Order first by the string names, and then by the id numbers if the names are the same.</p>\n"},{"tags":["java","https","tomcat8"],"comments":[{"owner":{"account_id":9706906,"reputation":3705,"user_id":7200088,"accept_rate":100,"display_name":"Michael Dz"},"score":0,"creation_date":1511947486,"post_id":47549133,"comment_id":82054865,"body_markdown":"Have you enabled and configured SSL in `server.xml` file?","body":"Have you enabled and configured SSL in <code>server.xml</code> file?"},{"owner":{"account_id":2700437,"reputation":2554,"user_id":2331271,"display_name":"Julien"},"score":0,"creation_date":1511947501,"post_id":47549133,"comment_id":82054877,"body_markdown":"Simple research on google gives this : https://tomcat.apache.org/tomcat-7.0-doc/ssl-howto.html","body":"Simple research on google gives this : <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/ssl-howto.html\" rel=\"nofollow noreferrer\">tomcat.apache.org/tomcat-7.0-doc/ssl-howto.html</a>"},{"owner":{"account_id":9400890,"reputation":11535,"user_id":7637120,"accept_rate":83,"display_name":"Roman Puchkovskiy"},"score":1,"creation_date":1511947537,"post_id":47549133,"comment_id":82054905,"body_markdown":"Port 8080 is obviously configured to serve http, so it cannot serve https. You need to configure SSL on another port.","body":"Port 8080 is obviously configured to serve http, so it cannot serve https. You need to configure SSL on another port."},{"owner":{"account_id":12274777,"reputation":65,"user_id":8958989,"display_name":"Always Thinking"},"score":0,"creation_date":1511947559,"post_id":47549133,"comment_id":82054924,"body_markdown":"@Michael,  yes it&#39;s enabled!","body":"@Michael,  yes it&#39;s enabled!"},{"owner":{"account_id":12274777,"reputation":65,"user_id":8958989,"display_name":"Always Thinking"},"score":0,"creation_date":1511947689,"post_id":47549133,"comment_id":82055018,"body_markdown":"@Roman, yes I have mentioned in server.xml that it will be redirected to 8443...but still it&#39;s not working. Then why https:localhost:8080 is working?","body":"@Roman, yes I have mentioned in server.xml that it will be redirected to 8443...but still it&#39;s not working. Then why https:localhost:8080 is working?"},{"owner":{"account_id":1885070,"reputation":3672,"user_id":1704453,"accept_rate":88,"display_name":"Vipin CP"},"score":0,"creation_date":1511947918,"post_id":47549133,"comment_id":82055177,"body_markdown":"Post your server.xml file","body":"Post your server.xml file"},{"owner":{"account_id":9706906,"reputation":3705,"user_id":7200088,"accept_rate":100,"display_name":"Michael Dz"},"score":0,"creation_date":1511948232,"post_id":47549133,"comment_id":82055394,"body_markdown":"Enable SSL debugging by adding `-Djavax.net.debug=ssl`to `JAVA_OPTS` variable  in `catalina.sh`. After that you might find some clue in the logs.","body":"Enable SSL debugging by adding <code>-Djavax.net.debug=ssl</code>to <code>JAVA_OPTS</code> variable  in <code>catalina.sh</code>. After that you might find some clue in the logs."},{"owner":{"account_id":12274777,"reputation":65,"user_id":8958989,"display_name":"Always Thinking"},"score":0,"creation_date":1511951107,"post_id":47549133,"comment_id":82057428,"body_markdown":"@vipincp, updated server.xml please check","body":"@vipincp, updated server.xml please check"}],"answers":[{"comments":[{"owner":{"account_id":1885070,"reputation":3672,"user_id":1704453,"accept_rate":88,"display_name":"Vipin CP"},"score":0,"creation_date":1511953303,"post_id":47550625,"comment_id":82058981,"body_markdown":"I would suggest you to use `LetsEncrypt`a free ssl configure application.  https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-14-04","body":"I would suggest you to use <code>LetsEncrypt</code>a free ssl configure application.  <a href=\"https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-14-04\" rel=\"nofollow noreferrer\">digitalocean.com/community/tutorials/&hellip;</a>"}],"tags":[],"owner":{"account_id":1885070,"reputation":3672,"user_id":1704453,"accept_rate":88,"display_name":"Vipin CP"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511951543,"creation_date":1511951543,"answer_id":47550625,"question_id":47549133,"body_markdown":"In your `server.xml` file you have configured port 8443 for ssl\r\n\r\n  \r\n\r\n     \r\n\r\n         &lt;Connector SSLEnabled=&quot;true&quot; acceptCount=&quot;100&quot;\r\n     clientAuth=&quot;false&quot; disableUploadTimeout=&quot;true&quot; enableLookups=&quot;false&quot;\r\n         keystoreFile=&quot;C:/Program Files/Java/jre1.8.0_91/bin/keystore&quot; keystorePass=&quot;abcef&quot; maxThreads=&quot;25&quot; port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot; \r\n        scheme=&quot;https&quot; secure=&quot;true&quot; sslProtocol=&quot;TLS&quot;/&gt;\r\n\r\n\r\n\r\nBut you are taking the URL with 8080 port `https://hostedurl:8080` . ","title":"Tomcat with https not working","body":"<p>In your <code>server.xml</code> file you have configured port 8443 for ssl</p>\n\n<pre><code>     &lt;Connector SSLEnabled=\"true\" acceptCount=\"100\"\n clientAuth=\"false\" disableUploadTimeout=\"true\" enableLookups=\"false\"\n     keystoreFile=\"C:/Program Files/Java/jre1.8.0_91/bin/keystore\" keystorePass=\"abcef\" maxThreads=\"25\" port=\"8443\" protocol=\"org.apache.coyote.http11.Http11NioProtocol\" \n    scheme=\"https\" secure=\"true\" sslProtocol=\"TLS\"/&gt;\n</code></pre>\n\n<p>But you are taking the URL with 8080 port <code>https://hostedurl:8080</code> . </p>\n"}],"owner":{"account_id":12274777,"reputation":65,"user_id":8958989,"display_name":"Always Thinking"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8763,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701202040,"creation_date":1511947309,"question_id":47549133,"body_markdown":"I&#39;m trying to enable my rest API URL with HTTPS.\r\n\r\nBut first my tomcat should be running with https.\r\n\r\nWhen I run tomcat and check URL below\r\n\r\nhttps//localhost:8080 and http://hostedurl:8080 is working.I land up on apache tomcat page\r\n\r\nBut when I run https://hostedurl:8080 it doesn&#39;t work ? May I know why it&#39;s happening....?\r\n\r\nBecause hosttedurl works with http fine but not with https ...!! Any specific reason?\r\n\r\n\r\nserver.xml\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n    &lt;!--\r\n      Licensed to the Apache Software Foundation (ASF) under one or more\r\n      contributor license agreements.  See the NOTICE file distributed with\r\n      this work for additional information regarding copyright ownership.\r\n      The ASF licenses this file to You under the Apache License, Version 2.0\r\n      (the &quot;License&quot;); you may not use this file except in compliance with\r\n      the License.  You may obtain a copy of the License at\r\n    \r\n          http://www.apache.org/licenses/LICENSE-2.0\r\n    \r\n      Unless required by applicable law or agreed to in writing, software\r\n      distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n      See the License for the specific language governing permissions and\r\n      limitations under the License.\r\n    --&gt;\r\n    &lt;!-- Note:  A &quot;Server&quot; is not itself a &quot;Container&quot;, so you may not\r\n         define subcomponents such as &quot;Valves&quot; at this level.\r\n         Documentation at /docs/config/server.html\r\n     --&gt;\r\n    &lt;Server port=&quot;8005&quot; shutdown=&quot;SHUTDOWN&quot;&gt;\r\n      &lt;Listener className=&quot;org.apache.catalina.startup.VersionLoggerListener&quot; /&gt;\r\n      &lt;!-- Security listener. Documentation at /docs/config/listeners.html\r\n      &lt;Listener className=&quot;org.apache.catalina.security.SecurityListener&quot; /&gt;\r\n      --&gt;\r\n      &lt;!--APR library loader. Documentation at /docs/apr.html --&gt;\r\n      &lt;Listener className=&quot;org.apache.catalina.core.AprLifecycleListener&quot; SSLEngine=&quot;on&quot; /&gt;\r\n      &lt;!-- Prevent memory leaks due to use of particular java/javax APIs--&gt;\r\n      &lt;Listener className=&quot;org.apache.catalina.core.JreMemoryLeakPreventionListener&quot; /&gt;\r\n      &lt;Listener className=&quot;org.apache.catalina.mbeans.GlobalResourcesLifecycleListener&quot; /&gt;\r\n      &lt;Listener className=&quot;org.apache.catalina.core.ThreadLocalLeakPreventionListener&quot; /&gt;\r\n    \r\n      &lt;!-- Global JNDI resources\r\n           Documentation at /docs/jndi-resources-howto.html\r\n      --&gt;\r\n      &lt;GlobalNamingResources&gt;\r\n        &lt;!-- Editable user database that can also be used by\r\n             UserDatabaseRealm to authenticate users\r\n        --&gt;\r\n        &lt;Resource name=&quot;UserDatabase&quot; auth=&quot;Container&quot;\r\n                  type=&quot;org.apache.catalina.UserDatabase&quot;\r\n                  description=&quot;User database that can be updated and saved&quot;\r\n                  factory=&quot;org.apache.catalina.users.MemoryUserDatabaseFactory&quot;\r\n                  pathname=&quot;conf/tomcat-users.xml&quot; /&gt;\r\n      &lt;/GlobalNamingResources&gt;\r\n    \r\n      &lt;!-- A &quot;Service&quot; is a collection of one or more &quot;Connectors&quot; that share\r\n           a single &quot;Container&quot; Note:  A &quot;Service&quot; is not itself a &quot;Container&quot;,\r\n           so you may not define subcomponents such as &quot;Valves&quot; at this level.\r\n           Documentation at /docs/config/service.html\r\n       --&gt;\r\n      &lt;Service name=&quot;Catalina&quot;&gt;\r\n    \r\n        &lt;!--The connectors can use a shared executor, you can define one or more named thread pools--&gt;\r\n        &lt;!--\r\n        &lt;Executor name=&quot;tomcatThreadPool&quot; namePrefix=&quot;catalina-exec-&quot;\r\n            maxThreads=&quot;150&quot; minSpareThreads=&quot;4&quot;/&gt;\r\n        --&gt;\r\n    \r\n    \r\n        &lt;!-- A &quot;Connector&quot; represents an endpoint by which requests are received\r\n             and responses are returned. Documentation at :\r\n             Java HTTP Connector: /docs/config/http.html (blocking &amp; non-blocking)\r\n             Java AJP  Connector: /docs/config/ajp.html\r\n             APR (HTTP/AJP) Connector: /docs/apr.html\r\n             Define a non-SSL/TLS HTTP/1.1 Connector on port 8080\r\n        --&gt;\r\n        &lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;\r\n                   connectionTimeout=&quot;20000&quot;\r\n                   redirectPort=&quot;8443&quot; /&gt;\r\n        &lt;!-- A &quot;Connector&quot; using the shared thread pool--&gt;\r\n        &lt;!--\r\n        &lt;Connector executor=&quot;tomcatThreadPool&quot;\r\n                   port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;\r\n                   connectionTimeout=&quot;20000&quot;\r\n                   redirectPort=&quot;8443&quot; /&gt;\r\n        --&gt;\r\n        &lt;!-- Define a SSL/TLS HTTP/1.1 Connector on port 8443\r\n             This connector uses the NIO implementation that requires the JSSE\r\n             style configuration. When using the APR/native implementation, the\r\n             OpenSSL style configuration is required as described in the APR/native\r\n             documentation --&gt;\r\n    \r\n    \t&lt;Connector SSLEnabled=&quot;true&quot; acceptCount=&quot;100&quot; clientAuth=&quot;false&quot; disableUploadTimeout=&quot;true&quot; enableLookups=&quot;false&quot; keystoreFile=&quot;C:/Program Files/Java/jre1.8.0_91/bin/keystore&quot; keystorePass=&quot;abcef&quot; maxThreads=&quot;25&quot; port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot; scheme=&quot;https&quot; secure=&quot;true&quot; sslProtocol=&quot;TLS&quot;/&gt;\r\n    \r\n        &lt;!-- Define an AJP 1.3 Connector on port 8009 --&gt;\r\n        &lt;Connector port=&quot;8009&quot; protocol=&quot;AJP/1.3&quot; redirectPort=&quot;8443&quot; /&gt;\r\n    \r\n    \r\n        &lt;!-- An Engine represents the entry point (within Catalina) that processes\r\n             every request.  The Engine implementation for Tomcat stand alone\r\n             analyzes the HTTP headers included with the request, and passes them\r\n             on to the appropriate Host (virtual host).\r\n             Documentation at /docs/config/engine.html --&gt;\r\n    \r\n        &lt;!-- You should set jvmRoute to support load-balancing via AJP ie :\r\n        &lt;Engine name=&quot;Catalina&quot; defaultHost=&quot;localhost&quot; jvmRoute=&quot;jvm1&quot;&gt;\r\n        --&gt;\r\n        &lt;Engine name=&quot;Catalina&quot; defaultHost=&quot;localhost&quot;&gt;\r\n    \r\n          &lt;!--For clustering, please take a look at documentation at:\r\n              /docs/cluster-howto.html  (simple how to)\r\n              /docs/config/cluster.html (reference documentation) --&gt;\r\n          &lt;!--\r\n          &lt;Cluster className=&quot;org.apache.catalina.ha.tcp.SimpleTcpCluster&quot;/&gt;\r\n          --&gt;\r\n    \r\n          &lt;!-- Use the LockOutRealm to prevent attempts to guess user passwords\r\n               via a brute-force attack --&gt;\r\n          &lt;Realm className=&quot;org.apache.catalina.realm.LockOutRealm&quot;&gt;\r\n            &lt;!-- This Realm uses the UserDatabase configured in the global JNDI\r\n                 resources under the key &quot;UserDatabase&quot;.  Any edits\r\n                 that are performed against this UserDatabase are immediately\r\n                 available for use by the Realm.  --&gt;\r\n            &lt;Realm className=&quot;org.apache.catalina.realm.UserDatabaseRealm&quot;\r\n                   resourceName=&quot;UserDatabase&quot;/&gt;\r\n          &lt;/Realm&gt;\r\n    \r\n          &lt;Host name=&quot;localhost&quot;  appBase=&quot;webapps&quot;\r\n                unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;\r\n    \r\n            &lt;!-- SingleSignOn valve, share authentication between web applications\r\n                 Documentation at: /docs/config/valve.html --&gt;\r\n            &lt;!--\r\n            &lt;Valve className=&quot;org.apache.catalina.authenticator.SingleSignOn&quot; /&gt;\r\n            --&gt;\r\n    \r\n            &lt;!-- Access log processes all example.\r\n                 Documentation at: /docs/config/valve.html\r\n                 Note: The pattern used is equivalent to using pattern=&quot;common&quot; --&gt;\r\n            &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot; directory=&quot;logs&quot;\r\n                   prefix=&quot;localhost_access_log&quot; suffix=&quot;.txt&quot;\r\n                   pattern=&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot; /&gt;\r\n    \r\n          &lt;/Host&gt;\r\n        &lt;/Engine&gt;\r\n      &lt;/Service&gt;\r\n    &lt;/Server&gt;\r\n\r\n","title":"Tomcat with https not working","body":"<p>I'm trying to enable my rest API URL with HTTPS.</p>\n\n<p>But first my tomcat should be running with https.</p>\n\n<p>When I run tomcat and check URL below</p>\n\n<p>https//localhost:8080 and <a href=\"http://hostedurl:8080\" rel=\"nofollow noreferrer\">http://hostedurl:8080</a> is working.I land up on apache tomcat page</p>\n\n<p>But when I run <a href=\"https://hostedurl:8080\" rel=\"nofollow noreferrer\">https://hostedurl:8080</a> it doesn't work ? May I know why it's happening....?</p>\n\n<p>Because hosttedurl works with http fine but not with https ...!! Any specific reason?</p>\n\n<p>server.xml</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!--\n  Licensed to the Apache Software Foundation (ASF) under one or more\n  contributor license agreements.  See the NOTICE file distributed with\n  this work for additional information regarding copyright ownership.\n  The ASF licenses this file to You under the Apache License, Version 2.0\n  (the \"License\"); you may not use this file except in compliance with\n  the License.  You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an \"AS IS\" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n--&gt;\n&lt;!-- Note:  A \"Server\" is not itself a \"Container\", so you may not\n     define subcomponents such as \"Valves\" at this level.\n     Documentation at /docs/config/server.html\n --&gt;\n&lt;Server port=\"8005\" shutdown=\"SHUTDOWN\"&gt;\n  &lt;Listener className=\"org.apache.catalina.startup.VersionLoggerListener\" /&gt;\n  &lt;!-- Security listener. Documentation at /docs/config/listeners.html\n  &lt;Listener className=\"org.apache.catalina.security.SecurityListener\" /&gt;\n  --&gt;\n  &lt;!--APR library loader. Documentation at /docs/apr.html --&gt;\n  &lt;Listener className=\"org.apache.catalina.core.AprLifecycleListener\" SSLEngine=\"on\" /&gt;\n  &lt;!-- Prevent memory leaks due to use of particular java/javax APIs--&gt;\n  &lt;Listener className=\"org.apache.catalina.core.JreMemoryLeakPreventionListener\" /&gt;\n  &lt;Listener className=\"org.apache.catalina.mbeans.GlobalResourcesLifecycleListener\" /&gt;\n  &lt;Listener className=\"org.apache.catalina.core.ThreadLocalLeakPreventionListener\" /&gt;\n\n  &lt;!-- Global JNDI resources\n       Documentation at /docs/jndi-resources-howto.html\n  --&gt;\n  &lt;GlobalNamingResources&gt;\n    &lt;!-- Editable user database that can also be used by\n         UserDatabaseRealm to authenticate users\n    --&gt;\n    &lt;Resource name=\"UserDatabase\" auth=\"Container\"\n              type=\"org.apache.catalina.UserDatabase\"\n              description=\"User database that can be updated and saved\"\n              factory=\"org.apache.catalina.users.MemoryUserDatabaseFactory\"\n              pathname=\"conf/tomcat-users.xml\" /&gt;\n  &lt;/GlobalNamingResources&gt;\n\n  &lt;!-- A \"Service\" is a collection of one or more \"Connectors\" that share\n       a single \"Container\" Note:  A \"Service\" is not itself a \"Container\",\n       so you may not define subcomponents such as \"Valves\" at this level.\n       Documentation at /docs/config/service.html\n   --&gt;\n  &lt;Service name=\"Catalina\"&gt;\n\n    &lt;!--The connectors can use a shared executor, you can define one or more named thread pools--&gt;\n    &lt;!--\n    &lt;Executor name=\"tomcatThreadPool\" namePrefix=\"catalina-exec-\"\n        maxThreads=\"150\" minSpareThreads=\"4\"/&gt;\n    --&gt;\n\n\n    &lt;!-- A \"Connector\" represents an endpoint by which requests are received\n         and responses are returned. Documentation at :\n         Java HTTP Connector: /docs/config/http.html (blocking &amp; non-blocking)\n         Java AJP  Connector: /docs/config/ajp.html\n         APR (HTTP/AJP) Connector: /docs/apr.html\n         Define a non-SSL/TLS HTTP/1.1 Connector on port 8080\n    --&gt;\n    &lt;Connector port=\"8080\" protocol=\"HTTP/1.1\"\n               connectionTimeout=\"20000\"\n               redirectPort=\"8443\" /&gt;\n    &lt;!-- A \"Connector\" using the shared thread pool--&gt;\n    &lt;!--\n    &lt;Connector executor=\"tomcatThreadPool\"\n               port=\"8080\" protocol=\"HTTP/1.1\"\n               connectionTimeout=\"20000\"\n               redirectPort=\"8443\" /&gt;\n    --&gt;\n    &lt;!-- Define a SSL/TLS HTTP/1.1 Connector on port 8443\n         This connector uses the NIO implementation that requires the JSSE\n         style configuration. When using the APR/native implementation, the\n         OpenSSL style configuration is required as described in the APR/native\n         documentation --&gt;\n\n    &lt;Connector SSLEnabled=\"true\" acceptCount=\"100\" clientAuth=\"false\" disableUploadTimeout=\"true\" enableLookups=\"false\" keystoreFile=\"C:/Program Files/Java/jre1.8.0_91/bin/keystore\" keystorePass=\"abcef\" maxThreads=\"25\" port=\"8443\" protocol=\"org.apache.coyote.http11.Http11NioProtocol\" scheme=\"https\" secure=\"true\" sslProtocol=\"TLS\"/&gt;\n\n    &lt;!-- Define an AJP 1.3 Connector on port 8009 --&gt;\n    &lt;Connector port=\"8009\" protocol=\"AJP/1.3\" redirectPort=\"8443\" /&gt;\n\n\n    &lt;!-- An Engine represents the entry point (within Catalina) that processes\n         every request.  The Engine implementation for Tomcat stand alone\n         analyzes the HTTP headers included with the request, and passes them\n         on to the appropriate Host (virtual host).\n         Documentation at /docs/config/engine.html --&gt;\n\n    &lt;!-- You should set jvmRoute to support load-balancing via AJP ie :\n    &lt;Engine name=\"Catalina\" defaultHost=\"localhost\" jvmRoute=\"jvm1\"&gt;\n    --&gt;\n    &lt;Engine name=\"Catalina\" defaultHost=\"localhost\"&gt;\n\n      &lt;!--For clustering, please take a look at documentation at:\n          /docs/cluster-howto.html  (simple how to)\n          /docs/config/cluster.html (reference documentation) --&gt;\n      &lt;!--\n      &lt;Cluster className=\"org.apache.catalina.ha.tcp.SimpleTcpCluster\"/&gt;\n      --&gt;\n\n      &lt;!-- Use the LockOutRealm to prevent attempts to guess user passwords\n           via a brute-force attack --&gt;\n      &lt;Realm className=\"org.apache.catalina.realm.LockOutRealm\"&gt;\n        &lt;!-- This Realm uses the UserDatabase configured in the global JNDI\n             resources under the key \"UserDatabase\".  Any edits\n             that are performed against this UserDatabase are immediately\n             available for use by the Realm.  --&gt;\n        &lt;Realm className=\"org.apache.catalina.realm.UserDatabaseRealm\"\n               resourceName=\"UserDatabase\"/&gt;\n      &lt;/Realm&gt;\n\n      &lt;Host name=\"localhost\"  appBase=\"webapps\"\n            unpackWARs=\"true\" autoDeploy=\"true\"&gt;\n\n        &lt;!-- SingleSignOn valve, share authentication between web applications\n             Documentation at: /docs/config/valve.html --&gt;\n        &lt;!--\n        &lt;Valve className=\"org.apache.catalina.authenticator.SingleSignOn\" /&gt;\n        --&gt;\n\n        &lt;!-- Access log processes all example.\n             Documentation at: /docs/config/valve.html\n             Note: The pattern used is equivalent to using pattern=\"common\" --&gt;\n        &lt;Valve className=\"org.apache.catalina.valves.AccessLogValve\" directory=\"logs\"\n               prefix=\"localhost_access_log\" suffix=\".txt\"\n               pattern=\"%h %l %u %t &amp;quot;%r&amp;quot; %s %b\" /&gt;\n\n      &lt;/Host&gt;\n    &lt;/Engine&gt;\n  &lt;/Service&gt;\n&lt;/Server&gt;\n</code></pre>\n"},{"tags":["java","syntax"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":5,"creation_date":1527128516,"post_id":50499957,"comment_id":88012683,"body_markdown":"It looks like incorrect formatting - someone attempting to use markup within a code snippet, while that is not supported. It&#39;s not valid Java. Have you tried to use the code snippet without the asterisks? Did it work?","body":"It looks like incorrect formatting - someone attempting to use markup within a code snippet, while that is not supported. It&#39;s not valid Java. Have you tried to use the code snippet without the asterisks? Did it work?"},{"owner":{"account_id":5892312,"reputation":963,"user_id":4638529,"display_name":"Wrokar"},"score":1,"creation_date":1527128556,"post_id":50499957,"comment_id":88012696,"body_markdown":"Is it possible they weren&#39;t intentional? Maybe they were meant to be asterisks used in markdown to emphasize the code.","body":"Is it possible they weren&#39;t intentional? Maybe they were meant to be asterisks used in markdown to emphasize the code."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1527141734,"post_id":50499957,"comment_id":88016334,"body_markdown":"I think you will get better answers if you posted an issue on that repo.","body":"I think you will get better answers if you posted an issue on that repo."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1527146384,"post_id":50499957,"comment_id":88018790,"body_markdown":"My interpretation would be that this is pseudo-code for &quot;invoke any Builder-methods you need&quot;, but it is hard to tell without an actual API reference.","body":"My interpretation would be that this is pseudo-code for &quot;invoke any Builder-methods you need&quot;, but it is hard to tell without an actual API reference."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1527164281,"post_id":50499957,"comment_id":88030370,"body_markdown":"seriously? someone messes up some mark-up and this got 5 upvotes? :) SO can be a surprising place sometimes...","body":"seriously? someone messes up some mark-up and this got 5 upvotes? :) SO can be a surprising place sometimes..."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1529688449,"creation_date":1529688449,"answer_id":50992927,"question_id":50499957,"body_markdown":"The asterisks (`*`) aren&#39;t part of Java&#39;s syntax.\r\n\r\nIt&#39;s a botched attempt in that page to emphasize the call to [`SendDirectiveRequest.builder`](http://ask-sdk-java-javadocs.s3-website-us-west-2.amazonaws.com/com/amazon/ask/model/services/directive/SendDirectiveRequest.html#builder--). That line of code should read:\r\n\r\n    directivesServices.enqueue(SendDirectiveRequest.builder().build());","title":"Java - Asterisk, what does it mean","body":"<p>The asterisks (<code>*</code>) aren't part of Java's syntax.</p>\n\n<p>It's a botched attempt in that page to emphasize the call to <a href=\"http://ask-sdk-java-javadocs.s3-website-us-west-2.amazonaws.com/com/amazon/ask/model/services/directive/SendDirectiveRequest.html#builder--\" rel=\"nofollow noreferrer\"><code>SendDirectiveRequest.builder</code></a>. That line of code should read:</p>\n\n<pre><code>directivesServices.enqueue(SendDirectiveRequest.builder().build());\n</code></pre>\n"}],"owner":{"account_id":242986,"reputation":4097,"user_id":514875,"accept_rate":75,"display_name":"Black Dynamite"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1297,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":50992927,"answer_count":1,"score":6,"last_activity_date":1701201445,"creation_date":1527128148,"question_id":50499957,"body_markdown":"I&#39;m looking through the Alexa SDK.  In the documentation here, they have the following:\r\n\r\n[`directivesServices.enqueue(SendDirectiveRequest.\\*builder\\*().build());`][1]\r\n\r\n\r\nWhat on earth does that asterisk do?  I have never seen one in my life, and I&#39;m curious as to what I&#39;ve been missing out on.\r\n\r\n  [1]: https://github.com/alexa/alexa-skills-kit-sdk-for-java/wiki/Alexa-Service-Clients","title":"Java - Asterisk, what does it mean","body":"<p>I'm looking through the Alexa SDK.  In the documentation here, they have the following:</p>\n\n<p><a href=\"https://github.com/alexa/alexa-skills-kit-sdk-for-java/wiki/Alexa-Service-Clients\" rel=\"nofollow noreferrer\"><code>directivesServices.enqueue(SendDirectiveRequest.\\*builder\\*().build());</code></a></p>\n\n<p>What on earth does that asterisk do?  I have never seen one in my life, and I'm curious as to what I've been missing out on.</p>\n"},{"tags":["java","maven","dependencies"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701202986,"post_id":77566751,"comment_id":136745670,"body_markdown":"Maybe these are `test` or `provided` dependencies (even though these don&#39;t look like test dependencies). `mvn package` also runs tests while `dependency:copy-dependencies` doesn&#39;t.","body":"Maybe these are <code>test</code> or <code>provided</code> dependencies (even though these don&#39;t look like test dependencies). <code>mvn package</code> also runs tests while <code>dependency:copy-dependencies</code> doesn&#39;t."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1701203065,"post_id":77566751,"comment_id":136745688,"body_markdown":"`I&#39;d like to download dependencies in a separate step before compiling. ` first why in separate step? If they are needed they will be downloaded why using dependency plugin for that?","body":"<code>I&#39;d like to download dependencies in a separate step before compiling. </code> first why in separate step? If they are needed they will be downloaded why using dependency plugin for that?"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701203098,"post_id":77566751,"comment_id":136745695,"body_markdown":"By the way, you can use [`mvn dependency:go-offline`](https://maven.apache.org/plugins/maven-dependency-plugin/go-offline-mojo.html) for downloading dependencies.","body":"By the way, you can use <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/go-offline-mojo.html\" rel=\"nofollow noreferrer\"><code>mvn dependency:go-offline</code></a> for downloading dependencies."},{"owner":{"account_id":7801,"reputation":7524,"user_id":13675,"accept_rate":36,"display_name":"Sparr"},"score":0,"creation_date":1701204118,"post_id":77566751,"comment_id":136745838,"body_markdown":"@khmarbaise when building a docker image, it is more efficient to separate steps that change frequently from those that don&#39;t. Earlier steps can be cached and not repeated on later runs.","body":"@khmarbaise when building a docker image, it is more efficient to separate steps that change frequently from those that don&#39;t. Earlier steps can be cached and not repeated on later runs."},{"owner":{"account_id":7801,"reputation":7524,"user_id":13675,"accept_rate":36,"display_name":"Sparr"},"score":0,"creation_date":1701204185,"post_id":77566751,"comment_id":136745851,"body_markdown":"@dan1st my real workflow, before reducing to a test case, had `-Dmaven.test.skip=true` but maybe it was still downloading test dependencies? I will investigate.","body":"@dan1st my real workflow, before reducing to a test case, had <code>-Dmaven.test.skip=true</code> but maybe it was still downloading test dependencies? I will investigate."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701207385,"post_id":77566751,"comment_id":136746317,"body_markdown":"Can you run `mvn dependency:tree` and check how these dependencies are referenced? That command should also display the scopes of these dependencies. The dependencies might also be referenced by the some plugins themselves in which case `dependency:tree` would not necessarily show them. Anyways, I recommend `mvn dependency:go-offline` if you really want to make sure all necessary dependencies etc are downloaded.","body":"Can you run <code>mvn dependency:tree</code> and check how these dependencies are referenced? That command should also display the scopes of these dependencies. The dependencies might also be referenced by the some plugins themselves in which case <code>dependency:tree</code> would not necessarily show them. Anyways, I recommend <code>mvn dependency:go-offline</code> if you really want to make sure all necessary dependencies etc are downloaded."},{"owner":{"account_id":7801,"reputation":7524,"user_id":13675,"accept_rate":36,"display_name":"Sparr"},"score":0,"creation_date":1701215565,"post_id":77566751,"comment_id":136747421,"body_markdown":"@dan1st `mvn dependency:go-offline` downloads about 1850 files, 50-80% more than the amount needed to build and test. It also still leaves 25 files (9 jar+pom pairs, 7 just pom files) to be downloaded by `mvn package`.","body":"@dan1st <code>mvn dependency:go-offline</code> downloads about 1850 files, 50-80% more than the amount needed to build and test. It also still leaves 25 files (9 jar+pom pairs, 7 just pom files) to be downloaded by <code>mvn package</code>."}],"owner":{"account_id":7801,"reputation":7524,"user_id":13675,"accept_rate":36,"display_name":"Sparr"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701201035,"creation_date":1701200561,"question_id":77566751,"body_markdown":"I have a java project using maven, which I&#39;m going to build as part of building a docker image. To optimize the docker build process, I&#39;d like to download dependencies in a separate step before compiling. So I end up with these two commands:\r\n\r\n1. `mvn dependency:copy-dependencies`\r\n2. `mvn package`\r\n\r\nMy real use case has more parameters, but I&#39;ve narrowed it down to just these two simple commands while troubleshooting this problem.\r\n\r\nThe first command downloads 1080 files from Maven Central. The second command, after the first command, downloads 232 more files.\r\n\r\nThe second command, by itself in a fresh environment, downloads 1080 files... but they only mostly match the 1080 that the first command would download, maybe 10% are different.\r\n\r\nHere is the start of a diff between their outputs filtered for downloads and sorted, where `...12...log` is the two-step process and `...2...log` is just the second step alone, showing some common downloads and some unique to each process. Notice that in two cases, both processes download a pom but one downloads the matching jar and the other doesn&#39;t. In the first lines of the diff there&#39;s an example of a jar+pom pair that are downloaded by the two step process but not downloaded at all by the single step process.\r\n\r\n\r\n``` diff\r\n--- download_simple_12_sort.log 2023-11-28 14:37:53\r\n+++ download_simple_2_sort.log  2023-11-28 14:37:58\r\n@@ -1,5 +1,3 @@\r\n-https://repo.maven.apache.org/maven2/backport-util-concurrent/backport-util-concurrent/3.1/backport-util-concurrent-3.1.jar\r\n-https://repo.maven.apache.org/maven2/backport-util-concurrent/backport-util-concurrent/3.1/backport-util-concurrent-3.1.pom\r\n https://repo.maven.apache.org/maven2/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.jar\r\n https://repo.maven.apache.org/maven2/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.pom\r\n https://repo.maven.apache.org/maven2/ch/qos/logback/logback-core/1.2.3/logback-core-1.2.3.jar\r\n@@ -63,6 +61,7 @@\r\n https://repo.maven.apache.org/maven2/com/amazonaws/aws-java-sdk-augmentedairuntime/1.12.552/aws-java-sdk-augmentedairuntime-1.12.552.jar\r\n https://repo.maven.apache.org/maven2/com/amazonaws/aws-java-sdk-augmentedairuntime/1.12.552/aws-java-sdk-augmentedairuntime-1.12.552.pom\r\n https://repo.maven.apache.org/maven2/com/amazonaws/aws-java-sdk-autoscaling/1.12.552/aws-java-sdk-autoscaling-1.12.552.pom\r\n+https://repo.maven.apache.org/maven2/com/amazonaws/aws-java-sdk-autoscalingplans/1.12.552/aws-java-sdk-autoscalingplans-1.12.552.jar\r\n https://repo.maven.apache.org/maven2/com/amazonaws/aws-java-sdk-autoscalingplans/1.12.552/aws-java-sdk-autoscalingplans-1.12.552.pom\r\n https://repo.maven.apache.org/maven2/com/amazonaws/aws-java-sdk-backup/1.12.552/aws-java-sdk-backup-1.12.552.jar\r\n https://repo.maven.apache.org/maven2/com/amazonaws/aws-java-sdk-backup/1.12.552/aws-java-sdk-backup-1.12.552.pom\r\n@@ -589,6 +588,7 @@\r\n https://repo.maven.apache.org/maven2/com/amazonaws/aws-java-sdk-workdocs/1.12.552/aws-java-sdk-workdocs-1.12.552.pom\r\n https://repo.maven.apache.org/maven2/com/amazonaws/aws-java-sdk-worklink/1.12.552/aws-java-sdk-worklink-1.12.552.jar\r\n https://repo.maven.apache.org/maven2/com/amazonaws/aws-java-sdk-worklink/1.12.552/aws-java-sdk-worklink-1.12.552.pom\r\n+https://repo.maven.apache.org/maven2/com/amazonaws/aws-java-sdk-workmail/1.12.552/aws-java-sdk-workmail-1.12.552.jar\r\n https://repo.maven.apache.org/maven2/com/amazonaws/aws-java-sdk-workmail/1.12.552/aws-java-sdk-workmail-1.12.552.pom\r\n```\r\n\r\nI suspect the next step here would be to investigate the dependency tree to see what leads to the the exceptional downloads, but that&#39;s getting to the edge of my maven knowledge. So I&#39;m asking here either how to proceed with troubleshooting, or what obvious situation(s) might lead to this outcome.","title":"Why does `mvn dependency:copy-dependencies` then `mvn package` download more and different dependencies than just `mvn package`?","body":"<p>I have a java project using maven, which I'm going to build as part of building a docker image. To optimize the docker build process, I'd like to download dependencies in a separate step before compiling. So I end up with these two commands:</p>\n<ol>\n<li><code>mvn dependency:copy-dependencies</code></li>\n<li><code>mvn package</code></li>\n</ol>\n<p>My real use case has more parameters, but I've narrowed it down to just these two simple commands while troubleshooting this problem.</p>\n<p>The first command downloads 1080 files from Maven Central. The second command, after the first command, downloads 232 more files.</p>\n<p>The second command, by itself in a fresh environment, downloads 1080 files... but they only mostly match the 1080 that the first command would download, maybe 10% are different.</p>\n<p>Here is the start of a diff between their outputs filtered for downloads and sorted, where <code>...12...log</code> is the two-step process and <code>...2...log</code> is just the second step alone, showing some common downloads and some unique to each process. Notice that in two cases, both processes download a pom but one downloads the matching jar and the other doesn't. In the first lines of the diff there's an example of a jar+pom pair that are downloaded by the two step process but not downloaded at all by the single step process.</p>\n<pre><code>--- download_simple_12_sort.log 2023-11-28 14:37:53\n+++ download_simple_2_sort.log  2023-11-28 14:37:58\n@@ -1,5 +1,3 @@\n-https://repo.maven.apache.org/maven2/backport-util-concurrent/backport-util-concurrent/3.1/backport-util-concurrent-3.1.jar\n-https://repo.maven.apache.org/maven2/backport-util-concurrent/backport-util-concurrent/3.1/backport-util-concurrent-3.1.pom\n https://repo.maven.apache.org/maven2/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.jar\n https://repo.maven.apache.org/maven2/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.pom\n https://repo.maven.apache.org/maven2/ch/qos/logback/logback-core/1.2.3/logback-core-1.2.3.jar\n@@ -63,6 +61,7 @@\n https://repo.maven.apache.org/maven2/com/amazonaws/aws-java-sdk-augmentedairuntime/1.12.552/aws-java-sdk-augmentedairuntime-1.12.552.jar\n https://repo.maven.apache.org/maven2/com/amazonaws/aws-java-sdk-augmentedairuntime/1.12.552/aws-java-sdk-augmentedairuntime-1.12.552.pom\n https://repo.maven.apache.org/maven2/com/amazonaws/aws-java-sdk-autoscaling/1.12.552/aws-java-sdk-autoscaling-1.12.552.pom\n+https://repo.maven.apache.org/maven2/com/amazonaws/aws-java-sdk-autoscalingplans/1.12.552/aws-java-sdk-autoscalingplans-1.12.552.jar\n https://repo.maven.apache.org/maven2/com/amazonaws/aws-java-sdk-autoscalingplans/1.12.552/aws-java-sdk-autoscalingplans-1.12.552.pom\n https://repo.maven.apache.org/maven2/com/amazonaws/aws-java-sdk-backup/1.12.552/aws-java-sdk-backup-1.12.552.jar\n https://repo.maven.apache.org/maven2/com/amazonaws/aws-java-sdk-backup/1.12.552/aws-java-sdk-backup-1.12.552.pom\n@@ -589,6 +588,7 @@\n https://repo.maven.apache.org/maven2/com/amazonaws/aws-java-sdk-workdocs/1.12.552/aws-java-sdk-workdocs-1.12.552.pom\n https://repo.maven.apache.org/maven2/com/amazonaws/aws-java-sdk-worklink/1.12.552/aws-java-sdk-worklink-1.12.552.jar\n https://repo.maven.apache.org/maven2/com/amazonaws/aws-java-sdk-worklink/1.12.552/aws-java-sdk-worklink-1.12.552.pom\n+https://repo.maven.apache.org/maven2/com/amazonaws/aws-java-sdk-workmail/1.12.552/aws-java-sdk-workmail-1.12.552.jar\n https://repo.maven.apache.org/maven2/com/amazonaws/aws-java-sdk-workmail/1.12.552/aws-java-sdk-workmail-1.12.552.pom\n</code></pre>\n<p>I suspect the next step here would be to investigate the dependency tree to see what leads to the the exceptional downloads, but that's getting to the edge of my maven knowledge. So I'm asking here either how to proceed with troubleshooting, or what obvious situation(s) might lead to this outcome.</p>\n"},{"tags":["java","logging","log4j2","rest-assured"],"answers":[{"comments":[{"owner":{"account_id":2724755,"reputation":1595,"user_id":2350150,"accept_rate":56,"display_name":"Georgi Georgiev"},"score":0,"creation_date":1701244730,"post_id":77566745,"comment_id":136750231,"body_markdown":"Seems that I misunderstood that little detail. I thought that `RestAssured` sends the log events at level specified by them and setting the level of the PrintStream by me is not needed.\n\nThank you!","body":"Seems that I misunderstood that little detail. I thought that <code>RestAssured</code> sends the log events at level specified by them and setting the level of the PrintStream by me is not needed.  Thank you!"}],"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701200544,"creation_date":1701200544,"answer_id":77566745,"question_id":77563546,"body_markdown":"Since you didn&#39;t specify a logging level in `IoBuilder`, the log events are issued with the **configured** logging event (`OFF`). You just need to call `setLevel`:\r\n\r\n```lang-java\r\nIoBuilder.forLogger(RestAssured.class).setLevel(Level.DEBUG).buildPrintStream();\r\n```\r\n\r\n**Remark**: IMHO using `IoBuilder` is never the best approach if you have other choices: you don&#39;t control where each log event ends. In your case, you could write a [`Filter`](https://www.javadoc.io/doc/io.rest-assured/rest-assured/latest/io/restassured/filter/Filter.html) that calls the Log4j API directly.","title":"How to control Rest Assured&#39;s logging filters through log4j2.xml?","body":"<p>Since you didn't specify a logging level in <code>IoBuilder</code>, the log events are issued with the <strong>configured</strong> logging event (<code>OFF</code>). You just need to call <code>setLevel</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>IoBuilder.forLogger(RestAssured.class).setLevel(Level.DEBUG).buildPrintStream();\n</code></pre>\n<p><strong>Remark</strong>: IMHO using <code>IoBuilder</code> is never the best approach if you have other choices: you don't control where each log event ends. In your case, you could write a <a href=\"https://www.javadoc.io/doc/io.rest-assured/rest-assured/latest/io/restassured/filter/Filter.html\" rel=\"nofollow noreferrer\"><code>Filter</code></a> that calls the Log4j API directly.</p>\n"}],"owner":{"account_id":2724755,"reputation":1595,"user_id":2350150,"accept_rate":56,"display_name":"Georgi Georgiev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77566745,"answer_count":1,"score":0,"last_activity_date":1701200544,"creation_date":1701171259,"question_id":77563546,"body_markdown":"I want to redirect `RestAssured 5.3.0` logging to `log4j2` and be able to control the logging from `log4j2.xml` config.\r\n\r\nMy App example:\r\n```\r\npackage org.example;\r\n\r\nimport io.restassured.RestAssured;\r\nimport io.restassured.filter.log.RequestLoggingFilter;\r\nimport io.restassured.filter.log.ResponseLoggingFilter;\r\nimport org.apache.logging.log4j.io.IoBuilder;\r\n\r\npublic class App {\r\n\r\n    static {\r\n        var logStream = IoBuilder.forLogger(RestAssured.class).buildPrintStream();\r\n\r\n        var requestFilter = new RequestLoggingFilter(logStream);\r\n        var responseFilter = new ResponseLoggingFilter(logStream);\r\n\r\n        RestAssured.filters(requestFilter, responseFilter);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        RestAssured.given().get(&quot;https://httpbin.org/&quot;);\r\n    }\r\n}\r\n```\r\n\r\nMy `log4j2.xml`:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;WARN&quot; strict=&quot;true&quot;&gt;\r\n\r\n    &lt;Appenders&gt;\r\n        &lt;Appender type=&quot;Console&quot; name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{3} - %msg%n&quot;/&gt;\r\n        &lt;/Appender&gt;\r\n    &lt;/Appenders&gt;\r\n\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;debug&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n        &lt;/Root&gt;\r\n\r\n        &lt;Logger name=&quot;io.restassured&quot; level=&quot;OFF&quot;/&gt;\r\n\r\n    &lt;/Loggers&gt;\r\n\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nOutput:\r\n\r\n```\r\n13:25:43.198 [main] OFF   io.restassured.RestAssured - Request method:\tGET\r\n13:25:43.200 [main] OFF   io.restassured.RestAssured - Request URI:\thttps://httpbin.org/\r\n13:25:43.200 [main] OFF   io.restassured.RestAssured - Proxy:\t\t\t&lt;none&gt;\r\n13:25:43.200 [main] OFF   io.restassured.RestAssured - Request params:\t&lt;none&gt;\r\n```\r\n\r\n1. Is this the correct approach for redirecting RestAssured logging to log4j2?\r\n2. Why logs still show but with level `OFF`? Actually the logs show with whatever level I set for the `io.restassured` logger.","title":"How to control Rest Assured&#39;s logging filters through log4j2.xml?","body":"<p>I want to redirect <code>RestAssured 5.3.0</code> logging to <code>log4j2</code> and be able to control the logging from <code>log4j2.xml</code> config.</p>\n<p>My App example:</p>\n<pre><code>package org.example;\n\nimport io.restassured.RestAssured;\nimport io.restassured.filter.log.RequestLoggingFilter;\nimport io.restassured.filter.log.ResponseLoggingFilter;\nimport org.apache.logging.log4j.io.IoBuilder;\n\npublic class App {\n\n    static {\n        var logStream = IoBuilder.forLogger(RestAssured.class).buildPrintStream();\n\n        var requestFilter = new RequestLoggingFilter(logStream);\n        var responseFilter = new ResponseLoggingFilter(logStream);\n\n        RestAssured.filters(requestFilter, responseFilter);\n    }\n\n    public static void main(String[] args) {\n        RestAssured.given().get(&quot;https://httpbin.org/&quot;);\n    }\n}\n</code></pre>\n<p>My <code>log4j2.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;WARN&quot; strict=&quot;true&quot;&gt;\n\n    &lt;Appenders&gt;\n        &lt;Appender type=&quot;Console&quot; name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{3} - %msg%n&quot;/&gt;\n        &lt;/Appender&gt;\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;debug&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Root&gt;\n\n        &lt;Logger name=&quot;io.restassured&quot; level=&quot;OFF&quot;/&gt;\n\n    &lt;/Loggers&gt;\n\n&lt;/Configuration&gt;\n</code></pre>\n<p>Output:</p>\n<pre><code>13:25:43.198 [main] OFF   io.restassured.RestAssured - Request method:  GET\n13:25:43.200 [main] OFF   io.restassured.RestAssured - Request URI: https://httpbin.org/\n13:25:43.200 [main] OFF   io.restassured.RestAssured - Proxy:           &lt;none&gt;\n13:25:43.200 [main] OFF   io.restassured.RestAssured - Request params:  &lt;none&gt;\n</code></pre>\n<ol>\n<li>Is this the correct approach for redirecting RestAssured logging to log4j2?</li>\n<li>Why logs still show but with level <code>OFF</code>? Actually the logs show with whatever level I set for the <code>io.restassured</code> logger.</li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1701198555,"post_id":77566530,"comment_id":136744910,"body_markdown":"`dognames[dogs]` is *never* going to be valid, when the length of `dognames` is `dogs`. For example, if you&#39;ve got an array of 2 elements, the indexes will be 0 and 1 - so `array[2]` will always be invalid.","body":"<code>dognames[dogs]</code> is <i>never</i> going to be valid, when the length of <code>dognames</code> is <code>dogs</code>. For example, if you&#39;ve got an array of 2 elements, the indexes will be 0 and 1 - so <code>array[2]</code> will always be invalid."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1701198598,"post_id":77566530,"comment_id":136744918,"body_markdown":"(As an aside, I&#39;d very strongly encourage you to format your code in a more conventional way. And I doubt that you want the `;` after `while((!&quot;quit&quot;.equals(dognames[dogs])))` either - you&#39;ve got an empty loop body.","body":"(As an aside, I&#39;d very strongly encourage you to format your code in a more conventional way. And I doubt that you want the <code>;</code> after <code>while((!&quot;quit&quot;.equals(dognames[dogs])))</code> either - you&#39;ve got an empty loop body."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":1,"creation_date":1701205100,"post_id":77566530,"comment_id":136746007,"body_markdown":"What is happening in this line? `if(dognames[index].equals(dognames))` This is asking if a specific name in the array is equal to the entire array? How is that going to work?...","body":"What is happening in this line? <code>if(dognames[index].equals(dognames))</code> This is asking if a specific name in the array is equal to the entire array? How is that going to work?..."}],"answers":[{"tags":[],"owner":{"account_id":18239208,"reputation":164,"user_id":13276541,"display_name":"Ahmed Mera"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701200483,"creation_date":1701200483,"answer_id":77566739,"question_id":77566530,"body_markdown":"You are getting error **ArrayOutOfBounds** beacuse the **index** different from **dimenssion** so you must so you have to do -1. You should remove **;** after while to go into the while, like that:\r\n\r\n```\r\n    while ((!&quot;quit&quot;.equals(dognames[dogs -1]))) // i add -1\r\n        { .....}\r\n```","title":"Am getting ArrayOutOfBounds exception and am not sure why","body":"<p>You are getting error <strong>ArrayOutOfBounds</strong> beacuse the <strong>index</strong> different from <strong>dimenssion</strong> so you must so you have to do -1. You should remove <strong>;</strong> after while to go into the while, like that:</p>\n<pre><code>    while ((!&quot;quit&quot;.equals(dognames[dogs -1]))) // i add -1\n        { .....}\n</code></pre>\n"}],"owner":{"account_id":23854145,"reputation":19,"user_id":17857789,"display_name":"Osprey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701259190,"answer_count":1,"score":-1,"last_activity_date":1701200483,"creation_date":1701198383,"question_id":77566530,"body_markdown":"I am trying to create a dowhile loop to check my array created by user input, and I am getting ArrayOutOfBounds exception. I am unsure as to why, and I am not certain on how to fix it. I am new to coding, so any assistance is appreciated.\r\n\r\n\r\n\r\n```\r\n    public static void main(String[] args) {\r\n\t\t\r\n\t\tboolean found;\r\n\t\t\r\n\t\t Scanner input = new Scanner(System.in);\r\n\t\tint dogs;\r\n\t\r\n\t\t System.out.println(&quot;How many dogs?&quot;);\r\n\t\t dogs = input.nextInt();\r\n\t\t int index;\r\n\t\t\r\n\t\tString[] dognames = new String [dogs];\r\n\t\tDouble [] dogweights = new Double [dogs];\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; dogs; i++) {\r\n            System.out.println(&quot;Enter dog name and weight: &quot;);\r\n            dognames[i]= input.next();\r\n            dogweights[i]=input.nextDouble();}\r\n\t\t\r\n\t\twhile((!&quot;quit&quot;.equals(dognames[dogs])));{\r\n\t\tfound = false;\r\n\t\tindex = 0;\r\n\t\twhile(!found &amp;&amp; index &lt; dognames.length)\r\n\t\t{\r\n\t\tif(dognames[index].equals(dognames))\r\n\t\t\tfound = true;\r\n\t\telse\r\n\t\t\tindex++;\r\n\t\t}\r\n\t\t\r\n\t\tif(!found)\r\n\t\t\tindex = -1;\r\n\t\t\r\n\t\tif (index == -1)\r\n\t\t\tSystem.out.println(&quot;Error&quot;);\r\n\t\t\r\n\t\telse\r\n\t\t\tSystem.out.println(dognames);\r\n\t\t}\r\n\t\t\r\n        double length = dogweights.length;\r\n \r\n       \r\n        double sum = 0;\r\n \r\n       \r\n        for (int i = 0; i &lt; dogweights.length; i++) {\r\n            sum += dogweights[i];\r\n        }\r\n \r\n        double dogweightsaverage = sum / length;\r\n\t\t\r\n\t\tSystem.out.print(&quot;AHHHHH&quot;);\r\n\t\r\n\r\n\t\r\n\t\r\n\t}\r\n    }\r\n\r\n\r\n```\r\n\r\n\r\n\r\nI&#39;ve tried changing the while condition, but that just creates more problems. ","title":"Am getting ArrayOutOfBounds exception and am not sure why","body":"<p>I am trying to create a dowhile loop to check my array created by user input, and I am getting ArrayOutOfBounds exception. I am unsure as to why, and I am not certain on how to fix it. I am new to coding, so any assistance is appreciated.</p>\n<pre><code>    public static void main(String[] args) {\n        \n        boolean found;\n        \n         Scanner input = new Scanner(System.in);\n        int dogs;\n    \n         System.out.println(&quot;How many dogs?&quot;);\n         dogs = input.nextInt();\n         int index;\n        \n        String[] dognames = new String [dogs];\n        Double [] dogweights = new Double [dogs];\n        \n        for (int i = 0; i &lt; dogs; i++) {\n            System.out.println(&quot;Enter dog name and weight: &quot;);\n            dognames[i]= input.next();\n            dogweights[i]=input.nextDouble();}\n        \n        while((!&quot;quit&quot;.equals(dognames[dogs])));{\n        found = false;\n        index = 0;\n        while(!found &amp;&amp; index &lt; dognames.length)\n        {\n        if(dognames[index].equals(dognames))\n            found = true;\n        else\n            index++;\n        }\n        \n        if(!found)\n            index = -1;\n        \n        if (index == -1)\n            System.out.println(&quot;Error&quot;);\n        \n        else\n            System.out.println(dognames);\n        }\n        \n        double length = dogweights.length;\n \n       \n        double sum = 0;\n \n       \n        for (int i = 0; i &lt; dogweights.length; i++) {\n            sum += dogweights[i];\n        }\n \n        double dogweightsaverage = sum / length;\n        \n        System.out.print(&quot;AHHHHH&quot;);\n    \n\n    \n    \n    }\n    }\n\n\n</code></pre>\n<p>I've tried changing the while condition, but that just creates more problems.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701177452,"post_id":77564139,"comment_id":136740757,"body_markdown":"f you run `package` it will run tests, which will read and use your configuration. Which will create the datbase. You shouldn&#39;t use `data.sql` in production use seomthing like Flyway or LIquibase for more elaborate support and solutions.","body":"f you run <code>package</code> it will run tests, which will read and use your configuration. Which will create the datbase. You shouldn&#39;t use <code>data.sql</code> in production use seomthing like Flyway or LIquibase for more elaborate support and solutions."},{"owner":{"account_id":18876645,"reputation":1981,"user_id":13770014,"display_name":"milanHrabos"},"score":0,"creation_date":1701177900,"post_id":77564139,"comment_id":136740856,"body_markdown":"Why? I dont know these libraries, why cannot pure spring hibernate do the job in production? Why always need to use third party","body":"Why? I dont know these libraries, why cannot pure spring hibernate do the job in production? Why always need to use third party"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701178094,"post_id":77564139,"comment_id":136740903,"body_markdown":"Because **you** want to control your schema, you don&#39;t want to hand that over to your ORM framework. Which might decide to drop a column because of crappy mapping, it won&#39;t properly update if you modify fields (like length, type etc.) nor will it migrate your data. It is nice for toy projects not for real-life projects. Flyway is one way to properly manage and version your schema.","body":"Because <b>you</b> want to control your schema, you don&#39;t want to hand that over to your ORM framework. Which might decide to drop a column because of crappy mapping, it won&#39;t properly update if you modify fields (like length, type etc.) nor will it migrate your data. It is nice for toy projects not for real-life projects. Flyway is one way to properly manage and version your schema."},{"owner":{"account_id":18876645,"reputation":1981,"user_id":13770014,"display_name":"milanHrabos"},"score":0,"creation_date":1701199393,"post_id":77564139,"comment_id":136745046,"body_markdown":"@M.Deinum also, what is strange is that running the same application with mysql does not run execute the `data.sql` twice. That is, with mysql, it work correctly. So why it does not with postgres?","body":"@M.Deinum also, what is strange is that running the same application with mysql does not run execute the <code>data.sql</code> twice. That is, with mysql, it work correctly. So why it does not with postgres?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701243191,"post_id":77564139,"comment_id":136749986,"body_markdown":"I doubt that it doesn&#39;t run twice but that for some reason the records don&#39;t get inserted (due to a different schema being generated by hibernate).","body":"I doubt that it doesn&#39;t run twice but that for some reason the records don&#39;t get inserted (due to a different schema being generated by hibernate)."},{"owner":{"account_id":18876645,"reputation":1981,"user_id":13770014,"display_name":"milanHrabos"},"score":0,"creation_date":1701253712,"post_id":77564139,"comment_id":136751874,"body_markdown":"@M.Deinum can you please elaborate? Does hibernate handles mysql schema differently then postrgres? Particularly, in both cases, we are just talking about insertion, not creation (that is done by hibernate if you specify ddl-auto to update or create). And insertion is the same for both mysql and postgres (`insert into &lt;table&gt;(&lt;columns...&gt;) values(&lt;values&gt;...)`, so why and how does hibernate do it differently?","body":"@M.Deinum can you please elaborate? Does hibernate handles mysql schema differently then postrgres? Particularly, in both cases, we are just talking about insertion, not creation (that is done by hibernate if you specify ddl-auto to update or create). And insertion is the same for both mysql and postgres (<code>insert into &lt;table&gt;(&lt;columns...&gt;) values(&lt;values&gt;...)</code>, so why and how does hibernate do it differently?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701254800,"post_id":77564139,"comment_id":136752056,"body_markdown":"MySQL is a different dialect, as you let Hibernate generate your schema it might use different types, constraints as each dtabase is different (hence the use for Flyway that way you know for certain what is being executed). Due to the difference is schema it might be that PostgreSQL inserts the data double and MySQL overrides (one has sequences the other not IIRC).","body":"MySQL is a different dialect, as you let Hibernate generate your schema it might use different types, constraints as each dtabase is different (hence the use for Flyway that way you know for certain what is being executed). Due to the difference is schema it might be that PostgreSQL inserts the data double and MySQL overrides (one has sequences the other not IIRC)."},{"owner":{"account_id":18876645,"reputation":1981,"user_id":13770014,"display_name":"milanHrabos"},"score":0,"creation_date":1701255791,"post_id":77564139,"comment_id":136752222,"body_markdown":"The reason I asked is they are very similar in developer aspect, that is sql language is same. Only postgres is older and more mature database so has more features, and I know about the generation of IDs where in mysql is simply `auto_increment` on primary key whereas postgres creates separate sequence object which increments. So could I consider this &quot;id generation&quot; as the reason postgres was executed twice whereas mysql once?","body":"The reason I asked is they are very similar in developer aspect, that is sql language is same. Only postgres is older and more mature database so has more features, and I know about the generation of IDs where in mysql is simply <code>auto_increment</code> on primary key whereas postgres creates separate sequence object which increments. So could I consider this &quot;id generation&quot; as the reason postgres was executed twice whereas mysql once?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701255983,"post_id":77564139,"comment_id":136752262,"body_markdown":"The `data.sql` is executed twice (I suggest you enable debug logging and check that). The result of the inserts is apparently different.","body":"The <code>data.sql</code> is executed twice (I suggest you enable debug logging and check that). The result of the inserts is apparently different."},{"owner":{"account_id":18876645,"reputation":1981,"user_id":13770014,"display_name":"milanHrabos"},"score":0,"creation_date":1701257321,"post_id":77564139,"comment_id":136752507,"body_markdown":"@M.Deinum I have `logging.level.org.hibernate.SQL=DEBUG`, how else should I see the debugged execution?","body":"@M.Deinum I have <code>logging.level.org.hibernate.SQL=DEBUG</code>, how else should I see the debugged execution?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701258378,"post_id":77564139,"comment_id":136752723,"body_markdown":"It isn&#39;t hibernate that executes the `data.sql` but Spring.","body":"It isn&#39;t hibernate that executes the <code>data.sql</code> but Spring."}],"owner":{"account_id":18876645,"reputation":1981,"user_id":13770014,"display_name":"milanHrabos"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701199414,"creation_date":1701177006,"question_id":77564139,"body_markdown":"*aplication.properties*:\r\n\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/webdev_simplified\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=postgres\r\n    \r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    logging.level.org.hibernate.SQL=DEBUG\r\n    \r\n    spring.sql.init.mode=always\r\n    spring.jpa.defer-datasource-initialization=true\r\n    #spring.datasource.initialization-mode=always\r\n\r\nNow if I run `mvn clean package` I can see the table is created and data.sql executed (tested in local postgres that data is there - i.e. `select * from cart_item` returns data). This was for packaging and after then, when run as `java -jar target/app.jar`, it again executes the `data.sql` (or I think it does, but I ended up with duplicate data (or rather inserted is better word since data is not duplicated, their keys are incremeneted, as in sql insert). So how to prevent the second execution of `data.sql`?\r\n\r\nFull source code:\r\nhttps://github.com/shepherd123456/springapp_with_postgres/\r\n\r\nwhat is strange is that running the same application with mysql does not run execute the data.sql twice. That is, with mysql, it work correctly. So why it does not with postgres","title":"spring boot runs data.sql twice","body":"<p><em>aplication.properties</em>:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/webdev_simplified\nspring.datasource.username=postgres\nspring.datasource.password=postgres\n\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.format_sql=true\nlogging.level.org.hibernate.SQL=DEBUG\n\nspring.sql.init.mode=always\nspring.jpa.defer-datasource-initialization=true\n#spring.datasource.initialization-mode=always\n</code></pre>\n<p>Now if I run <code>mvn clean package</code> I can see the table is created and data.sql executed (tested in local postgres that data is there - i.e. <code>select * from cart_item</code> returns data). This was for packaging and after then, when run as <code>java -jar target/app.jar</code>, it again executes the <code>data.sql</code> (or I think it does, but I ended up with duplicate data (or rather inserted is better word since data is not duplicated, their keys are incremeneted, as in sql insert). So how to prevent the second execution of <code>data.sql</code>?</p>\n<p>Full source code:\n<a href=\"https://github.com/shepherd123456/springapp_with_postgres/\" rel=\"nofollow noreferrer\">https://github.com/shepherd123456/springapp_with_postgres/</a></p>\n<p>what is strange is that running the same application with mysql does not run execute the data.sql twice. That is, with mysql, it work correctly. So why it does not with postgres</p>\n"},{"tags":["java","snmp","snmp4j"],"comments":[{"owner":{"account_id":6605,"reputation":61212,"user_id":11182,"display_name":"Lex Li"},"score":0,"creation_date":1700790807,"post_id":77539215,"comment_id":136699543,"body_markdown":"What is the snmpget command that works? You must make it part of the question.","body":"What is the snmpget command that works? You must make it part of the question."},{"owner":{"account_id":27383341,"reputation":11,"user_id":20887616,"display_name":"Astor"},"score":0,"creation_date":1700846241,"post_id":77539215,"comment_id":136706761,"body_markdown":"I am talking about the snmpget command provided by the net-snmp package.\n\n\nsnmpget -v3 -l AuthPriv -u snmpuser -a MD5 -A &quot;foo#Bar0815&quot; -x DES -X &quot;foo#Bar0815&quot; 10.1.0.4 1.3.111.2.802.1.1.30.1.2.1.1.8.1.1","body":"I am talking about the snmpget command provided by the net-snmp package.   snmpget -v3 -l AuthPriv -u snmpuser -a MD5 -A &quot;foo#Bar0815&quot; -x DES -X &quot;foo#Bar0815&quot; 10.1.0.4 1.3.111.2.802.1.1.30.1.2.1.1.8.1.1"},{"owner":{"account_id":8323954,"reputation":1796,"user_id":6284025,"accept_rate":86,"display_name":"TallChuck"},"score":0,"creation_date":1701110809,"post_id":77539215,"comment_id":136732103,"body_markdown":"wow, Java doesn&#39;t make it easy. I looked at one other example and noticed that it had `transport.listen()` after the `snmp.getUSM().addUser()`, maybe try that. Would it be possible to post a packet capture? I normallly use `tcpdump` with the `-X` flag to print the packet contents in hex","body":"wow, Java doesn&#39;t make it easy. I looked at one other example and noticed that it had <code>transport.listen()</code> after the <code>snmp.getUSM().addUser()</code>, maybe try that. Would it be possible to post a packet capture? I normallly use <code>tcpdump</code> with the <code>-X</code> flag to print the packet contents in hex"},{"owner":{"account_id":27383341,"reputation":11,"user_id":20887616,"display_name":"Astor"},"score":0,"creation_date":1701117918,"post_id":77539215,"comment_id":136733245,"body_markdown":"Unfortunately, that change didn&#180;t resolve the issue. Since I use udp for communication with the switch, I used this command for a packet capture:\n\nsudo tcpdump -i ens82f0 udp and dst 10.1.0.4 -w udpdump.pcap\n\nIt captured only a single package, and the result doesn&#180;t appear readable to me:\n\n&#212;&#195;&#178;&#161;                F&#255;dew5 g   g   &#236;t&#186;&#173;q&#39;&#208;P™&#252;\n&#215; E  Y&#223;&#172;@ @F&#217;\n \t\n &#221;ˆ &#161; Ee0;0N&#182;„ &#255;&#255;0      0  &#160;   0","body":"Unfortunately, that change didn&#180;t resolve the issue. Since I use udp for communication with the switch, I used this command for a packet capture:  sudo tcpdump -i ens82f0 udp and dst 10.1.0.4 -w udpdump.pcap  It captured only a single package, and the result doesn&#180;t appear readable to me:  &#212;&#195;&#178;&#161;                F&#255;dew5 g   g   &#236;t&#186;&#173;q&#39;&#208;P™&#252; &#215; E  Y&#223;&#172;@ @F&#217;  \t  &#221;ˆ &#161; Ee0;0N&#182;„ &#255;&#255;0      0      0"},{"owner":{"account_id":8323954,"reputation":1796,"user_id":6284025,"accept_rate":86,"display_name":"TallChuck"},"score":0,"creation_date":1701122878,"post_id":77539215,"comment_id":136733915,"body_markdown":"use `-X` instead of `-w &lt;file&gt;` and it will print it in hex on the screen\n\nEDIT: I notice you have `dst 10.1.0.4` in your filter, which will filter out any response from the switch. I&#39;m not an expert on filters, but see if you can capture the traffic going both ways","body":"use <code>-X</code> instead of <code>-w &lt;file&gt;</code> and it will print it in hex on the screen  EDIT: I notice you have <code>dst 10.1.0.4</code> in your filter, which will filter out any response from the switch. I&#39;m not an expert on filters, but see if you can capture the traffic going both ways"},{"owner":{"account_id":27383341,"reputation":11,"user_id":20887616,"display_name":"Astor"},"score":1,"creation_date":1701196603,"post_id":77539215,"comment_id":136744596,"body_markdown":"Thanks for the assistance, but I did actually find a solution - since SNMP4J 3.X.X it is required to activate the security protocols for the SecurityProtocols instance with SecurityProtocols.addAuthenticationProtocol( new AuthSHA()); and\nSecurityProtocols.addAuthenticationProtocol( new AuthMD5()); before passing the instance to the USM. This solved all of my issues.","body":"Thanks for the assistance, but I did actually find a solution - since SNMP4J 3.X.X it is required to activate the security protocols for the SecurityProtocols instance with SecurityProtocols.addAuthenticationProtocol( new AuthSHA()); and SecurityProtocols.addAuthenticationProtocol( new AuthMD5()); before passing the instance to the USM. This solved all of my issues."}],"owner":{"account_id":27383341,"reputation":11,"user_id":20887616,"display_name":"Astor"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701199404,"creation_date":1700766970,"question_id":77539215,"body_markdown":"I am looking to make a Java program that manages some switches. For now, I am just trying to get a single value from the switch. I have a working example that uses SNMPv2, however, my attempts at SNMPv3 always result in no response (Error: Agent Timeout). I have, however, tried it using the &quot;snmpget&quot; command with the exact same values, and it outputs the expected results. So in principle, SNMPv3 should work with my current setup. \r\n\r\nThe non-functional SNMPv3 code:\r\n\r\n\r\n```\r\npublic static void getAdminCycleTimeNumeratorv3() throws IOException\r\n{\r\n    String  ipAddress  = &quot;10.1.0.4&quot;;\r\n\tString  port    = &quot;161&quot;; \r\n\tString  oidValue  = &quot;1.3.111.2.802.1.1.30.1.2.1.1.8.1.1&quot;;  \r\n\tint     snmpVersion  = SnmpConstants.version3;\r\n \r\n\tTransportMapping transport = new DefaultUdpTransportMapping();\r\n    Snmp snmp = new Snmp(transport);\r\n\r\n    USM usm = new USM(\r\n        SecurityProtocols.getInstance(),\r\n        new OctetString(MPv3.createLocalEngineID()),\r\n        0\r\n    );\r\n\r\n    SecurityModels.getInstance().addSecurityModel(usm);\r\n\r\n    transport.listen();\r\n\r\n    // Set the target\r\n    UserTarget target = new UserTarget();\r\n    target.setAddress(GenericAddress.parse(&quot;udp:10.1.0.4/161&quot;));\r\n    target.setRetries(2);\r\n    target.setTimeout(2000);\r\n    target.setVersion(SnmpConstants.version3);\r\n    target.setSecurityLevel(SecurityLevel.AUTH_PRIV);\r\n    target.setSecurityName(new OctetString(&quot;snmpuser&quot;));\r\n\r\n    // Set the security settings\r\n    snmp.getUSM().addUser(\r\n        new OctetString(&quot;snmpuser&quot;),\r\n        new UsmUser(\r\n            new OctetString(&quot;snmpuser&quot;),\r\n            AuthMD5.ID,\r\n            new OctetString(&quot;foo#Bar0815&quot;),\r\n            PrivDES.ID,\r\n            new OctetString(&quot;foo#Bar0815&quot;)\r\n        )\r\n    );\r\n\r\n    // Create PDU\r\n    PDU pdu = new ScopedPDU();\r\n    pdu.add(new VariableBinding(new OID(oidValue))); \r\n    pdu.setType(PDU.GET);\r\n\r\n    System.out.println(&quot;Sending SNMP Request&quot;);\r\n    ResponseEvent response = snmp.get(pdu, target);\r\n\r\n    // Process Agent Response\r\n    if (response != null)\r\n    {\r\n        PDU responsePDU = response.getResponse();\r\n\r\n        if (responsePDU != null)\r\n        {\r\n            int errorStatus = responsePDU.getErrorStatus();\r\n            int errorIndex = responsePDU.getErrorIndex();\r\n            String errorStatusText = responsePDU.getErrorStatusText();\r\n\r\n            if (errorStatus == PDU.noError)\r\n            {\r\n                System.out.println(&quot;Snmp Get Response = &quot; + responsePDU.getVariableBindings());\r\n            }\r\n            else\r\n            {\r\n                System.out.println(&quot;Error: Request Failed&quot;);\r\n                System.out.println(&quot;Error Status = &quot; + errorStatus);\r\n                System.out.println(&quot;Error Index = &quot; + errorIndex);\r\n                System.out.println(&quot;Error Status Text = &quot; + errorStatusText);\r\n            }\r\n        }\r\n        else\r\n        {\r\n            System.out.println(&quot;Error: Response PDU is null&quot;);\r\n        }\r\n    }\r\n    else\r\n    {\r\n        System.out.println(&quot;Error: Agent Timeout&quot;);\r\n    }\r\n     \r\n    snmp.close();\r\n}\r\n```\r\n\r\n\r\nThe same code with SNMPv2c and a CommunityTarget instead of a UserTarget does work just fine. So I suspect that the culprit is my user or target management, but I can&#180;t seem to find a solution. It works via the net-snmp console tool, so my switch is configured properly.\r\n\r\nEdit: the working snmpget command is:\r\n\r\n    snmpget -v3 -l AuthPriv -u snmpuser -a MD5 -A &quot;foo#Bar0815&quot; -x DES -X &quot;foo#Bar0815&quot; 10.1.0.4:161 1.3.111.2.802.1.1.30.1.2.1.1.8.1.1    \r\n\r\nEdit 2: For anyone wondering, the problem can be solved by creating a SecurityProtocols instance first, and then calling \r\n\r\n    SecurityProtocolsInstance.addAuthenticationProtocol( new AuthSHA());\r\n    SecurityProtocolsInstance.addAuthenticationProtocol( new AuthMD5());\r\n\r\nBefore passing the instance to the USM.\r\n\r\n\r\n","title":"SNMP4J request timeout with SNMPv3","body":"<p>I am looking to make a Java program that manages some switches. For now, I am just trying to get a single value from the switch. I have a working example that uses SNMPv2, however, my attempts at SNMPv3 always result in no response (Error: Agent Timeout). I have, however, tried it using the &quot;snmpget&quot; command with the exact same values, and it outputs the expected results. So in principle, SNMPv3 should work with my current setup.</p>\n<p>The non-functional SNMPv3 code:</p>\n<pre><code>public static void getAdminCycleTimeNumeratorv3() throws IOException\n{\n    String  ipAddress  = &quot;10.1.0.4&quot;;\n    String  port    = &quot;161&quot;; \n    String  oidValue  = &quot;1.3.111.2.802.1.1.30.1.2.1.1.8.1.1&quot;;  \n    int     snmpVersion  = SnmpConstants.version3;\n \n    TransportMapping transport = new DefaultUdpTransportMapping();\n    Snmp snmp = new Snmp(transport);\n\n    USM usm = new USM(\n        SecurityProtocols.getInstance(),\n        new OctetString(MPv3.createLocalEngineID()),\n        0\n    );\n\n    SecurityModels.getInstance().addSecurityModel(usm);\n\n    transport.listen();\n\n    // Set the target\n    UserTarget target = new UserTarget();\n    target.setAddress(GenericAddress.parse(&quot;udp:10.1.0.4/161&quot;));\n    target.setRetries(2);\n    target.setTimeout(2000);\n    target.setVersion(SnmpConstants.version3);\n    target.setSecurityLevel(SecurityLevel.AUTH_PRIV);\n    target.setSecurityName(new OctetString(&quot;snmpuser&quot;));\n\n    // Set the security settings\n    snmp.getUSM().addUser(\n        new OctetString(&quot;snmpuser&quot;),\n        new UsmUser(\n            new OctetString(&quot;snmpuser&quot;),\n            AuthMD5.ID,\n            new OctetString(&quot;foo#Bar0815&quot;),\n            PrivDES.ID,\n            new OctetString(&quot;foo#Bar0815&quot;)\n        )\n    );\n\n    // Create PDU\n    PDU pdu = new ScopedPDU();\n    pdu.add(new VariableBinding(new OID(oidValue))); \n    pdu.setType(PDU.GET);\n\n    System.out.println(&quot;Sending SNMP Request&quot;);\n    ResponseEvent response = snmp.get(pdu, target);\n\n    // Process Agent Response\n    if (response != null)\n    {\n        PDU responsePDU = response.getResponse();\n\n        if (responsePDU != null)\n        {\n            int errorStatus = responsePDU.getErrorStatus();\n            int errorIndex = responsePDU.getErrorIndex();\n            String errorStatusText = responsePDU.getErrorStatusText();\n\n            if (errorStatus == PDU.noError)\n            {\n                System.out.println(&quot;Snmp Get Response = &quot; + responsePDU.getVariableBindings());\n            }\n            else\n            {\n                System.out.println(&quot;Error: Request Failed&quot;);\n                System.out.println(&quot;Error Status = &quot; + errorStatus);\n                System.out.println(&quot;Error Index = &quot; + errorIndex);\n                System.out.println(&quot;Error Status Text = &quot; + errorStatusText);\n            }\n        }\n        else\n        {\n            System.out.println(&quot;Error: Response PDU is null&quot;);\n        }\n    }\n    else\n    {\n        System.out.println(&quot;Error: Agent Timeout&quot;);\n    }\n     \n    snmp.close();\n}\n</code></pre>\n<p>The same code with SNMPv2c and a CommunityTarget instead of a UserTarget does work just fine. So I suspect that the culprit is my user or target management, but I can´t seem to find a solution. It works via the net-snmp console tool, so my switch is configured properly.</p>\n<p>Edit: the working snmpget command is:</p>\n<pre><code>snmpget -v3 -l AuthPriv -u snmpuser -a MD5 -A &quot;foo#Bar0815&quot; -x DES -X &quot;foo#Bar0815&quot; 10.1.0.4:161 1.3.111.2.802.1.1.30.1.2.1.1.8.1.1    \n</code></pre>\n<p>Edit 2: For anyone wondering, the problem can be solved by creating a SecurityProtocols instance first, and then calling</p>\n<pre><code>SecurityProtocolsInstance.addAuthenticationProtocol( new AuthSHA());\nSecurityProtocolsInstance.addAuthenticationProtocol( new AuthMD5());\n</code></pre>\n<p>Before passing the instance to the USM.</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":8754254,"reputation":818,"user_id":6546322,"display_name":"Nixon Kosgei"},"score":1,"creation_date":1659150137,"post_id":70536665,"comment_id":129230987,"body_markdown":"had a similar issue with Logism, this worked for me, just one thing to add. You need to rename ** universalJavaApplicationStub** to **JavaApplicationStub**","body":"had a similar issue with Logism, this worked for me, just one thing to add. You need to rename ** universalJavaApplicationStub** to <b>JavaApplicationStub</b>"}],"tags":[],"owner":{"account_id":4579,"reputation":8150,"user_id":6944,"accept_rate":64,"display_name":"g ."},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640898147,"creation_date":1640898147,"answer_id":70536665,"question_id":70386565,"body_markdown":"I&#39;m not familiar with MultiWii, though I had a similar error when trying to run another (older) Java application. I was able to get it to work by replacing the JavaApplicationStub with universalJavaApplicationStub.\r\n\r\nIn short, right-click on the application and Show Package Contents. Go to Contents/MacOS. Replace the file JavaApplicationStub with the file universalJavaApplicationStub in the src folder of the [universalJavaApplicationStub][1] GitHub project.\r\n\r\nThe solution came from the following sources: \r\n- https://discussions.apple.com/thread/252335117\r\n- https://github.com/tofi86/universalJavaApplicationStub\r\n\r\n\r\n  [1]: https://github.com/tofi86/universalJavaApplicationStub","title":"System cannot find JavaApplicationLauncher","body":"<p>I'm not familiar with MultiWii, though I had a similar error when trying to run another (older) Java application. I was able to get it to work by replacing the JavaApplicationStub with universalJavaApplicationStub.</p>\n<p>In short, right-click on the application and Show Package Contents. Go to Contents/MacOS. Replace the file JavaApplicationStub with the file universalJavaApplicationStub in the src folder of the <a href=\"https://github.com/tofi86/universalJavaApplicationStub\" rel=\"nofollow noreferrer\">universalJavaApplicationStub</a> GitHub project.</p>\n<p>The solution came from the following sources:</p>\n<ul>\n<li><a href=\"https://discussions.apple.com/thread/252335117\" rel=\"nofollow noreferrer\">https://discussions.apple.com/thread/252335117</a></li>\n<li><a href=\"https://github.com/tofi86/universalJavaApplicationStub\" rel=\"nofollow noreferrer\">https://github.com/tofi86/universalJavaApplicationStub</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":30016065,"reputation":1,"user_id":23002577,"display_name":"anami"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701199044,"creation_date":1701199044,"answer_id":77566604,"question_id":70386565,"body_markdown":"Launching Logism from the application icon doesn&#39;t work but this worked for me:\r\n\r\nRight click on the Logism application icon then Show package Contents &gt; contents &gt; java &gt; logism.jar\r\n\r\nDouble clicking on logism.jar finally launched the application for me.\r\n\r\nI found this workournd in this Youtube video:&#160;https://www.youtube.com/watch?v=7-HfWImd_0E","title":"System cannot find JavaApplicationLauncher","body":"<p>Launching Logism from the application icon doesn't work but this worked for me:</p>\n<p>Right click on the Logism application icon then Show package Contents &gt; contents &gt; java &gt; logism.jar</p>\n<p>Double clicking on logism.jar finally launched the application for me.</p>\n<p>I found this workournd in this Youtube video: https://www.youtube.com/watch?v=7-HfWImd_0E</p>\n"}],"owner":{"account_id":467662,"reputation":71,"user_id":9889196,"display_name":"Jeff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2168,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1701199044,"creation_date":1639695428,"question_id":70386565,"body_markdown":"I am running Mac OS X version 12.0.1 also known as Monterey.  I have installed the MultiWii program to control a drone I&#39;m building.  The tutorial steps through the download, extraction and even a special chmod instruction for MacOS.  However, when I try to run the MultiWiiConf.app, the OS pops up a window with a ton of information about why it failed.  Among the information is the following statement.  \r\n\r\n&gt; Library not loaded:\r\n&gt; /System/Library/PrivateFrameworks/JavaApplicationLauncher.framework/Versions/A/JavaApplicationLauncher\r\n\r\nI have looked quite a bit around the internet and nobody else seems to have this problem nor any solution for it.  In attempts to fix this, I have installed and uninstalled many JDK and JRE.  This never changes.","title":"System cannot find JavaApplicationLauncher","body":"<p>I am running Mac OS X version 12.0.1 also known as Monterey.  I have installed the MultiWii program to control a drone I'm building.  The tutorial steps through the download, extraction and even a special chmod instruction for MacOS.  However, when I try to run the MultiWiiConf.app, the OS pops up a window with a ton of information about why it failed.  Among the information is the following statement.</p>\n<blockquote>\n<p>Library not loaded:\n/System/Library/PrivateFrameworks/JavaApplicationLauncher.framework/Versions/A/JavaApplicationLauncher</p>\n</blockquote>\n<p>I have looked quite a bit around the internet and nobody else seems to have this problem nor any solution for it.  In attempts to fix this, I have installed and uninstalled many JDK and JRE.  This never changes.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1701175150,"post_id":77563863,"comment_id":136740327,"body_markdown":"Why not give the `DynamicStringMakerBeanDefinitionRegistrar` from the accepted answer in your linked question the `CustomHttpClient` for spring boot to autowire it so you can use it when the string makers are created?","body":"Why not give the <code>DynamicStringMakerBeanDefinitionRegistrar</code> from the accepted answer in your linked question the <code>CustomHttpClient</code> for spring boot to autowire it so you can use it when the string makers are created?"},{"owner":{"account_id":8531907,"reputation":384,"user_id":6395235,"display_name":"iamsimonsmale"},"score":0,"creation_date":1701175432,"post_id":77563863,"comment_id":136740365,"body_markdown":"@daniu, that was my first idea, but the CustomHttpClient is not yet a bean so can’t be used. I get an exception to create a bean with name ‘CustomHttpClient’","body":"@daniu, that was my first idea, but the CustomHttpClient is not yet a bean so can’t be used. I get an exception to create a bean with name ‘CustomHttpClient’"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1701175789,"post_id":77563863,"comment_id":136740442,"body_markdown":"What do you mean &quot;is not yet a bean&quot;, you say it&#39;s autoconfigured, that means it&#39;s created. What happens when you add a constructor parameter of type `CustomHttpClient` to `DynamicStringMakerBeanDefinitionRegistrar`?","body":"What do you mean &quot;is not yet a bean&quot;, you say it&#39;s autoconfigured, that means it&#39;s created. What happens when you add a constructor parameter of type <code>CustomHttpClient</code> to <code>DynamicStringMakerBeanDefinitionRegistrar</code>?"},{"owner":{"account_id":8531907,"reputation":384,"user_id":6395235,"display_name":"iamsimonsmale"},"score":0,"creation_date":1701176141,"post_id":77563863,"comment_id":136740496,"body_markdown":"I think the beans are not yet instantiated, &quot;before beans are instantiated&quot; - from the other answer, I get an application failed to start as the &#39;CustomHttpClient&#39; bean is not there, similar to this https://www.baeldung.com/spring-nosuchbeandefinitionexception","body":"I think the beans are not yet instantiated, &quot;before beans are instantiated&quot; - from the other answer, I get an application failed to start as the &#39;CustomHttpClient&#39; bean is not there, similar to this <a href=\"https://www.baeldung.com/spring-nosuchbeandefinitionexception\" rel=\"nofollow noreferrer\">baeldung.com/spring-nosuchbeandefinitionexception</a>"}],"answers":[{"comments":[{"owner":{"account_id":8531907,"reputation":384,"user_id":6395235,"display_name":"iamsimonsmale"},"score":0,"creation_date":1701230201,"post_id":77566455,"comment_id":136748750,"body_markdown":"Thank you, I will test this again today! Can you point me at any resources for further reading into this kind of bean creation? It seems pretty advanced knowledge and I would like to better understand the code, to prevent further questions and allow me to help answer others","body":"Thank you, I will test this again today! Can you point me at any resources for further reading into this kind of bean creation? It seems pretty advanced knowledge and I would like to better understand the code, to prevent further questions and allow me to help answer others"},{"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"score":1,"creation_date":1701245486,"post_id":77566455,"comment_id":136750352,"body_markdown":"I&#39;d recommend official javadocs: [BeanDefinitionBuilder](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/support/BeanDefinitionBuilder.html) and [GenericBeanDefinition](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/support/GenericBeanDefinition.html).  Additionally, you might find valuable insights from the community here on StackOverflow.","body":"I&#39;d recommend official javadocs: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/support/BeanDefinitionBuilder.html\" rel=\"nofollow noreferrer\">BeanDefinitionBuilder</a> and <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/support/GenericBeanDefinition.html\" rel=\"nofollow noreferrer\">GenericBeanDefinition</a>.  Additionally, you might find valuable insights from the community here on StackOverflow."},{"owner":{"account_id":8531907,"reputation":384,"user_id":6395235,"display_name":"iamsimonsmale"},"score":0,"creation_date":1701343185,"post_id":77566455,"comment_id":136765005,"body_markdown":"Thanks, This worked, but I needed to use @Lazy on the client beans when AutoWired (config.beanName().concat(&quot;Client&quot;))","body":"Thanks, This worked, but I needed to use @Lazy on the client beans when AutoWired (config.beanName().concat(&quot;Client&quot;))"},{"owner":{"account_id":8531907,"reputation":384,"user_id":6395235,"display_name":"iamsimonsmale"},"score":0,"creation_date":1701344448,"post_id":77566455,"comment_id":136765235,"body_markdown":"Slight follow up for this, how do I ensure the password has been unencrypted by the JASPYT lib (https://github.com/ulisesbocchio/jasypt-spring-boot/issues/310)","body":"Slight follow up for this, how do I ensure the password has been unencrypted by the JASPYT lib (<a href=\"https://github.com/ulisesbocchio/jasypt-spring-boot/issues/310\" rel=\"nofollow noreferrer\">github.com/ulisesbocchio/jasypt-spring-boot/issues/310</a>)"},{"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"score":1,"creation_date":1701362558,"post_id":77566455,"comment_id":136768925,"body_markdown":"Unfortunately, I cannot help you with that.","body":"Unfortunately, I cannot help you with that."}],"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701198780,"creation_date":1701197617,"answer_id":77566455,"question_id":77563863,"body_markdown":"Defining bean dependencies in `BeanDefinitionRegistryPostProcessor` can be tricky sometimes, especially considering that beans are not instantiated yet, they can&#39;t be passed as a parameter to a constructor in `setInstanceSupplier`.\r\n\r\nSpring can handle the injection for you if the setter injection is used instead of the constructor injection. All you need to do is define a setter for the dependency, mark it as `@Autowired`, and remove the property from the constructor. This solution is applicable to the first case, where `CustomHttpClient` should be injected into `Http` beans. \r\n\r\nHowever, for the second case, where `Http` beans&#39; names are defined at runtime, setter injection is not applicable, because Spring can&#39;t determine which bean to inject to `Client` beans. Instead, the bean name can be defined in `BeanDefinitionRegistryPostProcessor` while registering `Client` beans.\r\n\r\nLet&#39;s assume, the `Http` and `Client` classes look like this:\r\n```java\r\npublic final class Http {\r\n  private CustomHttpClient customHttpClient;\r\n  private final String userName;\r\n  private final String password;\r\n  private final String url;\r\n\r\n  public Http(String url, String userName, String password) {\r\n    this.userName = userName;\r\n    this.password = password;\r\n    this.url = url;\r\n  }\r\n\r\n  @Autowired\r\n  public void setCustomHttpClient(CustomHttpClient customHttpClient) {\r\n    this.customHttpClient = customHttpClient;\r\n  }\r\n\r\n  // ...\r\n}\r\n```\r\n```java\r\npublic class Client {\r\n  private Http http;\r\n\r\n  public void setHttp(Http http) {\r\n    this.http = http;\r\n  }\r\n\r\n  // ...\r\n}\r\n```\r\nBelow is the modified `DynamicStringMakerBeanDefinitionRegistrar` from [the referenced answer][1]. \r\n```java\r\npublic class DynamicStringMakerBeanDefinitionRegistrar\r\n    implements BeanDefinitionRegistryPostProcessor {\r\n\r\n  public static final String PROPERTIES_PREFIX = &quot;uk.co.iamsimonsmale.dynamic-strings&quot;;\r\n  private final Multi multi;\r\n\r\n  public DynamicStringMakerBeanDefinitionRegistrar(Environment environment) {\r\n    multi =\r\n        Binder.get(environment)\r\n            .bind(PROPERTIES_PREFIX, Bindable.of(Multi.class))\r\n            .orElseThrow(IllegalStateException::new);\r\n  }\r\n\r\n  @Override\r\n  public void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry registry)\r\n      throws BeansException {\r\n    multi.configs().forEach(config -&gt; registerBeanDefinitions(registry, config));\r\n  }\r\n\r\n  private void registerBeanDefinitions(BeanDefinitionRegistry registry, Single config) {\r\n    registerHttpBeanDefinition(registry, config);\r\n    registerClientBeanDefinition(registry, config);\r\n  }\r\n\r\n  private void registerHttpBeanDefinition(BeanDefinitionRegistry registry, Single config) {\r\n    GenericBeanDefinition beanDefinition = new GenericBeanDefinition();\r\n    beanDefinition.setBeanClass(Http.class);\r\n    beanDefinition.setInstanceSupplier(\r\n        () -&gt; new Http(multi.url(), config.userName(), config.password()));\r\n    registry.registerBeanDefinition(config.beanName().concat(&quot;Http&quot;), beanDefinition);\r\n  }\r\n\r\n  private void registerClientBeanDefinition(BeanDefinitionRegistry registry, Single config) {\r\n    BeanDefinitionBuilder beanDefinitionBuilder =\r\n        BeanDefinitionBuilder.genericBeanDefinition(Client.class)\r\n            // This method can be used to inject dependency to constructor argument\r\n            //.addConstructorArgReference(config.beanName().concat(&quot;Http&quot;)) \r\n            .addPropertyReference(&quot;http&quot;, config.beanName().concat(&quot;Http&quot;));\r\n    registry.registerBeanDefinition(\r\n        config.beanName().concat(&quot;Client&quot;), beanDefinitionBuilder.getBeanDefinition());\r\n  }\r\n\r\n  @Override\r\n  public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory)\r\n      throws BeansException {}\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/77547803/10231374","title":"How to instantiate N beans that require a 3rd party bean, to create a wrapper, and then instantiate N more beans using the wrapper as a named Bean","body":"<p>Defining bean dependencies in <code>BeanDefinitionRegistryPostProcessor</code> can be tricky sometimes, especially considering that beans are not instantiated yet, they can't be passed as a parameter to a constructor in <code>setInstanceSupplier</code>.</p>\n<p>Spring can handle the injection for you if the setter injection is used instead of the constructor injection. All you need to do is define a setter for the dependency, mark it as <code>@Autowired</code>, and remove the property from the constructor. This solution is applicable to the first case, where <code>CustomHttpClient</code> should be injected into <code>Http</code> beans.</p>\n<p>However, for the second case, where <code>Http</code> beans' names are defined at runtime, setter injection is not applicable, because Spring can't determine which bean to inject to <code>Client</code> beans. Instead, the bean name can be defined in <code>BeanDefinitionRegistryPostProcessor</code> while registering <code>Client</code> beans.</p>\n<p>Let's assume, the <code>Http</code> and <code>Client</code> classes look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Http {\n  private CustomHttpClient customHttpClient;\n  private final String userName;\n  private final String password;\n  private final String url;\n\n  public Http(String url, String userName, String password) {\n    this.userName = userName;\n    this.password = password;\n    this.url = url;\n  }\n\n  @Autowired\n  public void setCustomHttpClient(CustomHttpClient customHttpClient) {\n    this.customHttpClient = customHttpClient;\n  }\n\n  // ...\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Client {\n  private Http http;\n\n  public void setHttp(Http http) {\n    this.http = http;\n  }\n\n  // ...\n}\n</code></pre>\n<p>Below is the modified <code>DynamicStringMakerBeanDefinitionRegistrar</code> from <a href=\"https://stackoverflow.com/a/77547803/10231374\">the referenced answer</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DynamicStringMakerBeanDefinitionRegistrar\n    implements BeanDefinitionRegistryPostProcessor {\n\n  public static final String PROPERTIES_PREFIX = &quot;uk.co.iamsimonsmale.dynamic-strings&quot;;\n  private final Multi multi;\n\n  public DynamicStringMakerBeanDefinitionRegistrar(Environment environment) {\n    multi =\n        Binder.get(environment)\n            .bind(PROPERTIES_PREFIX, Bindable.of(Multi.class))\n            .orElseThrow(IllegalStateException::new);\n  }\n\n  @Override\n  public void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry registry)\n      throws BeansException {\n    multi.configs().forEach(config -&gt; registerBeanDefinitions(registry, config));\n  }\n\n  private void registerBeanDefinitions(BeanDefinitionRegistry registry, Single config) {\n    registerHttpBeanDefinition(registry, config);\n    registerClientBeanDefinition(registry, config);\n  }\n\n  private void registerHttpBeanDefinition(BeanDefinitionRegistry registry, Single config) {\n    GenericBeanDefinition beanDefinition = new GenericBeanDefinition();\n    beanDefinition.setBeanClass(Http.class);\n    beanDefinition.setInstanceSupplier(\n        () -&gt; new Http(multi.url(), config.userName(), config.password()));\n    registry.registerBeanDefinition(config.beanName().concat(&quot;Http&quot;), beanDefinition);\n  }\n\n  private void registerClientBeanDefinition(BeanDefinitionRegistry registry, Single config) {\n    BeanDefinitionBuilder beanDefinitionBuilder =\n        BeanDefinitionBuilder.genericBeanDefinition(Client.class)\n            // This method can be used to inject dependency to constructor argument\n            //.addConstructorArgReference(config.beanName().concat(&quot;Http&quot;)) \n            .addPropertyReference(&quot;http&quot;, config.beanName().concat(&quot;Http&quot;));\n    registry.registerBeanDefinition(\n        config.beanName().concat(&quot;Client&quot;), beanDefinitionBuilder.getBeanDefinition());\n  }\n\n  @Override\n  public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory)\n      throws BeansException {}\n}\n</code></pre>\n"}],"owner":{"account_id":8531907,"reputation":384,"user_id":6395235,"display_name":"iamsimonsmale"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1701198780,"creation_date":1701174460,"question_id":77563863,"body_markdown":"I tried to implement [the answer from another question I had asked][1] in my main codebase and I had oversimplified the problem. \r\n\r\nIn my codebase I am dependant on an AutoConfigured bean from a 3rd party package (A custom HTTP Client) and I have to create N beans based on the number of items in the yaml config array to create a wrapper of the 3rd party client. \r\n\r\nI then need to create another N beans of a different type that take one of the above named beans as input and create an other named bean. This is the one used in my application. \r\n\r\n```\r\n# BeanConfig\r\nuk.co.iamsimonsmale.dynamic-strings:\r\n  url: http:localhost:8000/api\r\n  configs:\r\n    - beanName: simonBean\r\n      userName: Simon\r\n      password: ABC\r\n    - beanName: griffinBean\r\n      userName: Griffin\r\n      password: XYZ\r\n```\r\n\r\nSo for the above config I would use `CustomHttpClient` to create 2 beans `simonBeanHttp` and `griffinBeanHttp` and then create 2 more beans `simonBeanClient` and `griffinBeanClient` with the `*Client` bean depending on its respectively named `*Http` bean.\r\n\r\nTesting the code from the other question, I was not sure how to create them when they required the `CustomHtppClient` as it was not created yet, and then how to either use 1 class and loop to create both the `*Client` bean and `*Http` bean (how do I get access to the bean rather than its definition) or pass in the bean via its name dynamically via the `DynamicStringMakerBeanDefinitionRegistrar`.\r\n\r\nI did also try to create another map of the `*Client` beans (as I don&#39;t need these outside of this setup process) and pass that map into the `*Http` registrar, but that was also missing the `CustomHttpClient`\r\n\r\n  [1]: https://stackoverflow.com/questions/77547518/how-to-dynamically-create-n-beans-based-on-configuration/77547803","title":"How to instantiate N beans that require a 3rd party bean, to create a wrapper, and then instantiate N more beans using the wrapper as a named Bean","body":"<p>I tried to implement <a href=\"https://stackoverflow.com/questions/77547518/how-to-dynamically-create-n-beans-based-on-configuration/77547803\">the answer from another question I had asked</a> in my main codebase and I had oversimplified the problem.</p>\n<p>In my codebase I am dependant on an AutoConfigured bean from a 3rd party package (A custom HTTP Client) and I have to create N beans based on the number of items in the yaml config array to create a wrapper of the 3rd party client.</p>\n<p>I then need to create another N beans of a different type that take one of the above named beans as input and create an other named bean. This is the one used in my application.</p>\n<pre><code># BeanConfig\nuk.co.iamsimonsmale.dynamic-strings:\n  url: http:localhost:8000/api\n  configs:\n    - beanName: simonBean\n      userName: Simon\n      password: ABC\n    - beanName: griffinBean\n      userName: Griffin\n      password: XYZ\n</code></pre>\n<p>So for the above config I would use <code>CustomHttpClient</code> to create 2 beans <code>simonBeanHttp</code> and <code>griffinBeanHttp</code> and then create 2 more beans <code>simonBeanClient</code> and <code>griffinBeanClient</code> with the <code>*Client</code> bean depending on its respectively named <code>*Http</code> bean.</p>\n<p>Testing the code from the other question, I was not sure how to create them when they required the <code>CustomHtppClient</code> as it was not created yet, and then how to either use 1 class and loop to create both the <code>*Client</code> bean and <code>*Http</code> bean (how do I get access to the bean rather than its definition) or pass in the bean via its name dynamically via the <code>DynamicStringMakerBeanDefinitionRegistrar</code>.</p>\n<p>I did also try to create another map of the <code>*Client</code> beans (as I don't need these outside of this setup process) and pass that map into the <code>*Http</code> registrar, but that was also missing the <code>CustomHttpClient</code></p>\n"},{"tags":["java","javafx","serial-port","com-port"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1701199454,"post_id":77566561,"comment_id":136745061,"body_markdown":"Your problem (at the moment) is only with communicating with the com port correctly. That has nothing to do with JavaFX or Jasper reports.  Create a standalone class with a main method (a [mcve]) which just communicates with the com port and test that.  When in doubt consult the documentation for your device and [the serial communication library you are using](https://fazecast.github.io/jSerialComm/), including the provided examples.","body":"Your problem (at the moment) is only with communicating with the com port correctly. That has nothing to do with JavaFX or Jasper reports.  Create a standalone class with a main method (a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>) which just communicates with the com port and test that.  When in doubt consult the documentation for your device and <a href=\"https://fazecast.github.io/jSerialComm/\" rel=\"nofollow noreferrer\">the serial communication library you are using</a>, including the provided examples."},{"owner":{"account_id":20234173,"reputation":44,"user_id":14839860,"display_name":"Tolga &#199;AĞLAYAN"},"score":0,"creation_date":1701199929,"post_id":77566561,"comment_id":136745134,"body_markdown":"After finding the weight from the Serial Port, I use a Jasper report to print from the printer.","body":"After finding the weight from the Serial Port, I use a Jasper report to print from the printer."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1701200987,"post_id":77566561,"comment_id":136745324,"body_markdown":"Yes, but your issue is that you can’t read the weight from the serial port, not with using Jasper reports to print to a printer.  Better to keep questions focused.  Context can help, but not so much in this case.","body":"Yes, but your issue is that you can’t read the weight from the serial port, not with using Jasper reports to print to a printer.  Better to keep questions focused.  Context can help, but not so much in this case."}],"owner":{"account_id":20234173,"reputation":44,"user_id":14839860,"display_name":"Tolga &#199;AĞLAYAN"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701198673,"creation_date":1701198673,"question_id":77566561,"body_markdown":"I want to read data from the scale and print it on the label with JavaFX. I made all the settings according to the documentation, but I cannot read the data. comPort.readBytes() always returns 0. Does anyone have any ideas about this? I am adding the document as a URL. I am working with cb string RS232.\r\nhttps://www.manualslib.com/manual/2121484/Bilanciai-D70e.html?page=51#manual\r\n\r\n``` java\r\npackage com.togisoft.venetacollaudipeso;\r\n\r\nimport com.fazecast.jSerialComm.SerialPort;\r\nimport javafx.application.Platform;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.input.KeyCode;\r\nimport javafx.scene.input.KeyEvent;\r\nimport net.sf.jasperreports.engine.JREmptyDataSource;\r\nimport net.sf.jasperreports.engine.JasperFillManager;\r\nimport net.sf.jasperreports.engine.JasperPrint;\r\nimport net.sf.jasperreports.engine.JasperPrintManager;\r\n\r\nimport javax.print.PrintServiceLookup;\r\n\r\nimport javax.print.PrintService;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.ScheduledExecutorService;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\n\r\npublic class AppController {\r\n    private SerialPort comPort;\r\n\r\n    @FXML\r\n    private Label weightLabel;\r\n\r\n\r\n    @FXML\r\n    public void initialize() {\r\n        // COM Portunu bul ver a&#231;\r\n        comPort = SerialPort.getCommPort(Helper.getComPort());\r\n        comPort.setNumDataBits(7);\r\n        comPort.setBaudRate(Helper.getBaudRate());\r\n        comPort.setParity(Helper.getComParity());\r\n        comPort.setNumStopBits(Helper.getStopBit());\r\n        ScheduledExecutorService executor = Executors.newScheduledThreadPool(1);\r\n        if (comPort.openPort()) {\r\n            System.out.println(&quot;Port başarıyla a&#231;ıldı.&quot;);\r\n\r\n            executor.scheduleAtFixedRate(this::readFromSerial, 0, 300, TimeUnit.MILLISECONDS);\r\n        } else {\r\n            System.out.println(&quot;Port a&#231;ılırken hata oluştu!.&quot;);\r\n            Platform.runLater(() -&gt; weightLabel.setText(&quot;PORT Errore!&quot;));\r\n        }\r\n\r\n    }\r\n\r\n    private void readFromSerial() {\r\n        while (comPort.isOpen()) {\r\n            byte[] readBuffer = new byte[8];\r\n            int numRead = comPort.readBytes(readBuffer, readBuffer.length);\r\n            if (numRead &gt; 0) {\r\n                StringBuilder receivedData = new StringBuilder();\r\n                for (int i = 0; i &lt; numRead; i++) {\r\n                    // Son biti (en anlamsız biti) d&#252;ş&#252;rerek 7 bitlik veriyi elde et\r\n                    int sevenBitData = readBuffer[i] &amp; 0x7F;\r\n                    receivedData.append((char) sevenBitData); // Veriyi String olarak birleştir\r\n                }\r\n                String weight = extractWeightFromData(receivedData.toString());\r\n                updateUIWithWeight(formatWeight(weight));\r\n            }\r\n        }\r\n    }\r\n\r\n    private String formatWeight(String weightData) {\r\n        if (weightData == null || !weightData.contains(&quot;.&quot;)) {\r\n            return &quot;0.0&quot;;\r\n        }\r\n\r\n        int significantDigits = 0;\r\n        for (char c : weightData.toCharArray()) {\r\n            if (Character.isDigit(c)) {\r\n                significantDigits++;\r\n            }\r\n        }\r\n\r\n        if (significantDigits &gt;= 5) {\r\n            try {\r\n                float weight = Float.parseFloat(weightData);\r\n                if (weight == (int) weight) {\r\n                    // Ondalık kısmı sıfır ise, ondalık kısmı g&#246;sterme\r\n                    return String.format(&quot;%.0f&quot;, weight);\r\n                } else {\r\n                    // Ondalık kısmı sıfırdan farklı ise, ondalık kısmı g&#246;ster\r\n                    return String.format(&quot;%.1f&quot;, weight);\r\n                }\r\n            } catch (NumberFormatException e) {\r\n                System.out.println(e.getLocalizedMessage());// Hata durumunda işlemler\r\n            }\r\n        }\r\n\r\n        return &quot;0.0&quot;; // Varsayılan olarak 0 d&#246;nd&#252;r\r\n    }\r\n\r\n\r\n    private String extractWeightFromData(String data) {\r\n        if (data.length() &gt;= 8 &amp;&amp; data.startsWith(&quot;$(24H&quot;)) {\r\n            return data.substring(2, 7); // 3–7 karakterleri alarak ağırlık bilgisini &#231;ıkar\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    private void updateUIWithWeight(String weight) {\r\n        Platform.runLater(() -&gt; weightLabel.setText(weight));\r\n    }\r\n\r\n\r\n    @FXML\r\n    void onStamp() {\r\n        System.out.println(weightLabel.getText());\r\n        try {\r\n            String sourceFileName = &quot;weight.jasper&quot;;\r\n\r\n            Map&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\r\n            parameters.put(&quot;kilo&quot;, weightLabel.getText() + &quot; KG&quot;); // &#214;rnek parametre\r\n\r\n            JasperPrint print = JasperFillManager.fillReport(sourceFileName, parameters, new JREmptyDataSource());\r\n\r\n            PrintService[] printServices = PrintServiceLookup.lookupPrintServices(null, null);\r\n            PrintService selectedPrintService = null;\r\n            for (PrintService printService : printServices) {\r\n                if (printService.getName().equalsIgnoreCase(Helper.getPrinter())) {\r\n                    selectedPrintService = printService;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (selectedPrintService != null) {\r\n                JasperPrintManager.printReport(print, false);\r\n            } else {\r\n                System.out.println(&quot;Belirtilen yazıcı bulunamadı.&quot;);\r\n            }\r\n\r\n        } catch (Exception ex) {\r\n            System.out.println(ex.getMessage());\r\n        }\r\n    }\r\n\r\n    @FXML\r\n    public void onEnterPressed(KeyEvent event) {\r\n        if (event.getCode() == KeyCode.ENTER) {\r\n            System.out.println(&quot;Enter pressed&quot;);\r\n            onStamp();\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void finalize() {\r\n        if (comPort != null &amp;&amp; comPort.isOpen()) {\r\n            comPort.closePort();\r\n            System.out.println(&quot;Port closed.&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"Reading D70A weighing data from serial COM port with Java","body":"<p>I want to read data from the scale and print it on the label with JavaFX. I made all the settings according to the documentation, but I cannot read the data. comPort.readBytes() always returns 0. Does anyone have any ideas about this? I am adding the document as a URL. I am working with cb string RS232.\n<a href=\"https://www.manualslib.com/manual/2121484/Bilanciai-D70e.html?page=51#manual\" rel=\"nofollow noreferrer\">https://www.manualslib.com/manual/2121484/Bilanciai-D70e.html?page=51#manual</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.togisoft.venetacollaudipeso;\n\nimport com.fazecast.jSerialComm.SerialPort;\nimport javafx.application.Platform;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Label;\nimport javafx.scene.input.KeyCode;\nimport javafx.scene.input.KeyEvent;\nimport net.sf.jasperreports.engine.JREmptyDataSource;\nimport net.sf.jasperreports.engine.JasperFillManager;\nimport net.sf.jasperreports.engine.JasperPrint;\nimport net.sf.jasperreports.engine.JasperPrintManager;\n\nimport javax.print.PrintServiceLookup;\n\nimport javax.print.PrintService;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.concurrent.TimeUnit;\n\n\npublic class AppController {\n    private SerialPort comPort;\n\n    @FXML\n    private Label weightLabel;\n\n\n    @FXML\n    public void initialize() {\n        // COM Portunu bul ver aç\n        comPort = SerialPort.getCommPort(Helper.getComPort());\n        comPort.setNumDataBits(7);\n        comPort.setBaudRate(Helper.getBaudRate());\n        comPort.setParity(Helper.getComParity());\n        comPort.setNumStopBits(Helper.getStopBit());\n        ScheduledExecutorService executor = Executors.newScheduledThreadPool(1);\n        if (comPort.openPort()) {\n            System.out.println(&quot;Port başarıyla açıldı.&quot;);\n\n            executor.scheduleAtFixedRate(this::readFromSerial, 0, 300, TimeUnit.MILLISECONDS);\n        } else {\n            System.out.println(&quot;Port açılırken hata oluştu!.&quot;);\n            Platform.runLater(() -&gt; weightLabel.setText(&quot;PORT Errore!&quot;));\n        }\n\n    }\n\n    private void readFromSerial() {\n        while (comPort.isOpen()) {\n            byte[] readBuffer = new byte[8];\n            int numRead = comPort.readBytes(readBuffer, readBuffer.length);\n            if (numRead &gt; 0) {\n                StringBuilder receivedData = new StringBuilder();\n                for (int i = 0; i &lt; numRead; i++) {\n                    // Son biti (en anlamsız biti) düşürerek 7 bitlik veriyi elde et\n                    int sevenBitData = readBuffer[i] &amp; 0x7F;\n                    receivedData.append((char) sevenBitData); // Veriyi String olarak birleştir\n                }\n                String weight = extractWeightFromData(receivedData.toString());\n                updateUIWithWeight(formatWeight(weight));\n            }\n        }\n    }\n\n    private String formatWeight(String weightData) {\n        if (weightData == null || !weightData.contains(&quot;.&quot;)) {\n            return &quot;0.0&quot;;\n        }\n\n        int significantDigits = 0;\n        for (char c : weightData.toCharArray()) {\n            if (Character.isDigit(c)) {\n                significantDigits++;\n            }\n        }\n\n        if (significantDigits &gt;= 5) {\n            try {\n                float weight = Float.parseFloat(weightData);\n                if (weight == (int) weight) {\n                    // Ondalık kısmı sıfır ise, ondalık kısmı gösterme\n                    return String.format(&quot;%.0f&quot;, weight);\n                } else {\n                    // Ondalık kısmı sıfırdan farklı ise, ondalık kısmı göster\n                    return String.format(&quot;%.1f&quot;, weight);\n                }\n            } catch (NumberFormatException e) {\n                System.out.println(e.getLocalizedMessage());// Hata durumunda işlemler\n            }\n        }\n\n        return &quot;0.0&quot;; // Varsayılan olarak 0 döndür\n    }\n\n\n    private String extractWeightFromData(String data) {\n        if (data.length() &gt;= 8 &amp;&amp; data.startsWith(&quot;$(24H&quot;)) {\n            return data.substring(2, 7); // 3–7 karakterleri alarak ağırlık bilgisini çıkar\n        }\n        return &quot;&quot;;\n    }\n\n    private void updateUIWithWeight(String weight) {\n        Platform.runLater(() -&gt; weightLabel.setText(weight));\n    }\n\n\n    @FXML\n    void onStamp() {\n        System.out.println(weightLabel.getText());\n        try {\n            String sourceFileName = &quot;weight.jasper&quot;;\n\n            Map&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\n            parameters.put(&quot;kilo&quot;, weightLabel.getText() + &quot; KG&quot;); // Örnek parametre\n\n            JasperPrint print = JasperFillManager.fillReport(sourceFileName, parameters, new JREmptyDataSource());\n\n            PrintService[] printServices = PrintServiceLookup.lookupPrintServices(null, null);\n            PrintService selectedPrintService = null;\n            for (PrintService printService : printServices) {\n                if (printService.getName().equalsIgnoreCase(Helper.getPrinter())) {\n                    selectedPrintService = printService;\n                    break;\n                }\n            }\n\n            if (selectedPrintService != null) {\n                JasperPrintManager.printReport(print, false);\n            } else {\n                System.out.println(&quot;Belirtilen yazıcı bulunamadı.&quot;);\n            }\n\n        } catch (Exception ex) {\n            System.out.println(ex.getMessage());\n        }\n    }\n\n    @FXML\n    public void onEnterPressed(KeyEvent event) {\n        if (event.getCode() == KeyCode.ENTER) {\n            System.out.println(&quot;Enter pressed&quot;);\n            onStamp();\n        }\n    }\n\n\n    @Override\n    protected void finalize() {\n        if (comPort != null &amp;&amp; comPort.isOpen()) {\n            comPort.closePort();\n            System.out.println(&quot;Port closed.&quot;);\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":6927823,"reputation":93,"user_id":5318330,"display_name":"Ted"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701198328,"creation_date":1701198328,"answer_id":77566522,"question_id":64803732,"body_markdown":"In case anyone else stumbles on this I had this same issue and resolved it by adding the produces/consumed properties to my @PostMapping in my @RestController.\r\n\r\nReplace:\r\n\r\n    @PostMapping(&quot;/my/path&quot;)\r\n\r\nWith:\r\n\r\n    @PostMapping(value = &quot;/my/path&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n\r\nYou may change &quot;consumes&quot; to whatever suits your needs.","title":"I am connecting from one service to another facing issue on conversion","body":"<p>In case anyone else stumbles on this I had this same issue and resolved it by adding the produces/consumed properties to my @PostMapping in my @RestController.</p>\n<p>Replace:</p>\n<pre><code>@PostMapping(&quot;/my/path&quot;)\n</code></pre>\n<p>With:</p>\n<pre><code>@PostMapping(value = &quot;/my/path&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.MULTIPART_FORM_DATA_VALUE)\n</code></pre>\n<p>You may change &quot;consumes&quot; to whatever suits your needs.</p>\n"}],"owner":{"account_id":18410354,"reputation":21,"user_id":13410843,"display_name":"Riya Tyagi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1701198328,"creation_date":1605183209,"question_id":64803732,"body_markdown":"My code:\r\n```java\r\nfinal MultiValueMap&lt;String, String&gt; parts = new LinkedMultiValueMap&lt;String, String&gt;();\r\n        parts.add( &quot;fileName&quot;, fileName );\r\n        \r\n        HttpHeaders xmlHeaders = new HttpHeaders();\r\n        xmlHeaders.setContentType( MediaType.APPLICATION_XML );\r\n        \r\n        HttpEntity&lt;Resource&gt; xmlEntity = new HttpEntity&lt;Resource&gt;( new FileSystemResource( file ), xmlHeaders );\r\n        parts.add( &quot;file&quot;, xmlEntity );\r\n        \r\n        final String url = baseurl+url;\r\n        \r\n        HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; requestEntity = new HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt;( parts, createHttpHeadersWithToken() );\r\n        \r\n String response= restTemplate.exchange( url, HttpMethod.POST, requestEntity, String.class );\r\n\r\n```\r\nException \r\n\r\n\r\n\r\n\r\nException occured while calling post config file: {}\r\norg.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class java.nio.channels.Channels$1]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class java.nio.channels.Channels$1 and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: org.springframework.util.LinkedMultiValueMap[&quot;file&quot;]-&gt;java.util.LinkedList[0]-&gt;org.springframework.http.HttpEntity[&quot;body&quot;]-&gt;org.springframework.core.io.FileSystemResource[&quot;outputStream&quot;])","title":"I am connecting from one service to another facing issue on conversion","body":"<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final MultiValueMap&lt;String, String&gt; parts = new LinkedMultiValueMap&lt;String, String&gt;();\n        parts.add( &quot;fileName&quot;, fileName );\n        \n        HttpHeaders xmlHeaders = new HttpHeaders();\n        xmlHeaders.setContentType( MediaType.APPLICATION_XML );\n        \n        HttpEntity&lt;Resource&gt; xmlEntity = new HttpEntity&lt;Resource&gt;( new FileSystemResource( file ), xmlHeaders );\n        parts.add( &quot;file&quot;, xmlEntity );\n        \n        final String url = baseurl+url;\n        \n        HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; requestEntity = new HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt;( parts, createHttpHeadersWithToken() );\n        \n String response= restTemplate.exchange( url, HttpMethod.POST, requestEntity, String.class );\n\n</code></pre>\n<p>Exception</p>\n<p>Exception occured while calling post config file: {}\norg.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class java.nio.channels.Channels$1]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class java.nio.channels.Channels$1 and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: org.springframework.util.LinkedMultiValueMap[&quot;file&quot;]-&gt;java.util.LinkedList[0]-&gt;org.springframework.http.HttpEntity[&quot;body&quot;]-&gt;org.springframework.core.io.FileSystemResource[&quot;outputStream&quot;])</p>\n"},{"tags":["java","mongodb","dropwizard","datastore","morphia"],"comments":[{"owner":{"account_id":1414206,"reputation":6122,"user_id":1340183,"display_name":"evanchooly"},"score":0,"creation_date":1701197790,"post_id":77543204,"comment_id":136744798,"body_markdown":"What does `Event` look like?","body":"What does <code>Event</code> look like?"}],"answers":[{"tags":[],"owner":{"account_id":1414206,"reputation":6122,"user_id":1340183,"display_name":"evanchooly"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701197849,"creation_date":1701197849,"answer_id":77566473,"question_id":77543204,"body_markdown":"If you&#39;re using Morphia you don&#39;t need, or probably even want, `PojoCodec`.  That might be introducing conflicting resolutions.","title":"Morphia datastore.find() query yields 0 results but it works fine with aggregate","body":"<p>If you're using Morphia you don't need, or probably even want, <code>PojoCodec</code>.  That might be introducing conflicting resolutions.</p>\n"}],"owner":{"account_id":16898962,"reputation":11,"user_id":12220853,"display_name":"Ankit Chand"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701197849,"creation_date":1700829450,"question_id":77543204,"body_markdown":"I am making code changes to upgrade to MongoDB 5 for a java dropwizard application.\r\nUpgraded versions\r\nmongodb-driver-sync : 4.10.2\r\nmorphia-core: 2.3.8\r\n\r\nFor test case setup I have used this code : \r\n\r\n\r\n```\r\nserver = new MongoServer(new MemoryBackend());\r\n        InetSocketAddress serverAddress = server.bind();\r\n        String connectionString = &quot;mongodb://&quot; + serverAddress.getHostString() + &quot;:&quot; + serverAddress.getPort();\r\n        client = MongoClients.create(connectionString);\r\n        CodecProvider pojoCodecProvider = PojoCodecProvider.builder().automatic(true)\r\n            .build();\r\n\r\n        CodecRegistry pojoCodecRegistry = fromRegistries(CodecRegistries.fromCodecs(new UuidCodec(UuidRepresentation.JAVA_LEGACY)), getDefaultCodecRegistry()\r\n            , fromProviders(pojoCodecProvider));\r\n\r\n        MapperOptions mapperOptions = MapperOptions.builder()\r\n            .codecProvider(pojoCodecRegistry)\r\n            .build();\r\n\r\n        datastore = Morphia.createDatastore(client, &quot;events&quot;, mapperOptions);\r\n        datastore.getMapper().mapPackageFromClass(Event.class);\r\n        datastore.ensureIndexes();\r\n```\r\nSaved events using \r\n`datastore.save(event)`\r\nno issue, but while retrieving events  \r\n\r\n```\r\nList&lt;Event&gt; events = datastore.find(Event.class).iterator().toList();;\r\n```\r\nyields 0 results while\r\n\r\n```\r\nAggregation&lt;Event&gt; temp = datastore.aggregate(Event.class);\r\n        List&lt;Event&gt; aggList =  temp.execute(Event.class).toList();\r\n```\r\nworks fine.\r\n\r\n \r\n\r\n\r\nWhat could be the reason for above mentioned behaviour?\r\n","title":"Morphia datastore.find() query yields 0 results but it works fine with aggregate","body":"<p>I am making code changes to upgrade to MongoDB 5 for a java dropwizard application.\nUpgraded versions\nmongodb-driver-sync : 4.10.2\nmorphia-core: 2.3.8</p>\n<p>For test case setup I have used this code :</p>\n<pre><code>server = new MongoServer(new MemoryBackend());\n        InetSocketAddress serverAddress = server.bind();\n        String connectionString = &quot;mongodb://&quot; + serverAddress.getHostString() + &quot;:&quot; + serverAddress.getPort();\n        client = MongoClients.create(connectionString);\n        CodecProvider pojoCodecProvider = PojoCodecProvider.builder().automatic(true)\n            .build();\n\n        CodecRegistry pojoCodecRegistry = fromRegistries(CodecRegistries.fromCodecs(new UuidCodec(UuidRepresentation.JAVA_LEGACY)), getDefaultCodecRegistry()\n            , fromProviders(pojoCodecProvider));\n\n        MapperOptions mapperOptions = MapperOptions.builder()\n            .codecProvider(pojoCodecRegistry)\n            .build();\n\n        datastore = Morphia.createDatastore(client, &quot;events&quot;, mapperOptions);\n        datastore.getMapper().mapPackageFromClass(Event.class);\n        datastore.ensureIndexes();\n</code></pre>\n<p>Saved events using\n<code>datastore.save(event)</code>\nno issue, but while retrieving events</p>\n<pre><code>List&lt;Event&gt; events = datastore.find(Event.class).iterator().toList();;\n</code></pre>\n<p>yields 0 results while</p>\n<pre><code>Aggregation&lt;Event&gt; temp = datastore.aggregate(Event.class);\n        List&lt;Event&gt; aggList =  temp.execute(Event.class).toList();\n</code></pre>\n<p>works fine.</p>\n<p>What could be the reason for above mentioned behaviour?</p>\n"},{"tags":["java","exception","time","java.util.concurrent"],"comments":[{"owner":{"account_id":11052106,"reputation":3581,"user_id":8116173,"display_name":"Przemysław Moskal"},"score":1,"creation_date":1512747994,"post_id":47717633,"comment_id":82395591,"body_markdown":"What error do you see?","body":"What error do you see?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1512748012,"post_id":47717633,"comment_id":82395602,"body_markdown":"Welcome to SO. Please take a [tour] and read [ask]. In general when you ask us about errors _you_ get you should tell us what errors those are and provide as many details as possible (e.g. exact message, stacktraces etc.).","body":"Welcome to SO. Please take a <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. In general when you ask us about errors <i>you</i> get you should tell us what errors those are and provide as many details as possible (e.g. exact message, stacktraces etc.)."},{"owner":{"account_id":4859,"reputation":40443,"user_id":7512,"accept_rate":75,"display_name":"slim"},"score":2,"creation_date":1512749366,"post_id":47717633,"comment_id":82396423,"body_markdown":"Capitalisation is relevant in Java. Start by copying a working `main` class, making sure you keep the capitalisation of keywords like `import`.","body":"Capitalisation is relevant in Java. Start by copying a working <code>main</code> class, making sure you keep the capitalisation of keywords like <code>import</code>."}],"answers":[{"tags":[],"owner":{"account_id":9089731,"reputation":782,"user_id":6766146,"accept_rate":0,"display_name":"Lalit Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1512749431,"creation_date":1512748093,"answer_id":47717714,"question_id":47717633,"body_markdown":"Try this as your code have many `syntax errors` as well as you are not `handling Exception` during the call of `TimeUnit.SECONDS.sleep(6);`, either use throws or surround this with try catch. \r\n\r\n\t\r\n    import java.util.concurrent.TimeUnit ;\r\n\r\n    public class Anything { \r\n        public static void main( String[] args ) throws InterruptedException {\r\n            System.out.println(&quot;hi&quot;);\r\n            TimeUnit.SECONDS.sleep(6);\r\n            System.out.println(&quot;hi&quot;);\r\n        }\r\n    }\r\n\t\t","title":"How to use TimeUnit in java","body":"<p>Try this as your code have many <code>syntax errors</code> as well as you are not <code>handling Exception</code> during the call of <code>TimeUnit.SECONDS.sleep(6);</code>, either use throws or surround this with try catch. </p>\n\n<pre><code>import java.util.concurrent.TimeUnit ;\n\npublic class Anything { \n    public static void main( String[] args ) throws InterruptedException {\n        System.out.println(\"hi\");\n        TimeUnit.SECONDS.sleep(6);\n        System.out.println(\"hi\");\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1701243293,"post_id":77566468,"comment_id":136750006,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77566468/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":18788802,"reputation":1,"user_id":13701766,"display_name":"Abdul Kather"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701197762,"creation_date":1701197762,"answer_id":77566468,"question_id":47717633,"body_markdown":"It&#39;s a version problem. It&#39;s work in jdk17","title":"How to use TimeUnit in java","body":"<p>It's a version problem. It's work in jdk17</p>\n"}],"owner":{"account_id":12281240,"reputation":434,"user_id":8962746,"display_name":"Ibraheem Alyan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29251,"favorite_count":0,"down_vote_count":3,"up_vote_count":9,"accepted_answer_id":47717714,"answer_count":2,"score":6,"last_activity_date":1701197762,"creation_date":1512747833,"question_id":47717633,"body_markdown":"I am trying to use TimeUnit in java but it just send me errors \r\nThat’s how I wrote it \r\n\r\n\r\n    import java.util.concurrent.TimeUnit ;\r\n    \r\n    public class Anything { \r\n        public static void main( String[] args ) {\r\n            System.out.println(&quot;hi&quot;);\r\n            TimeUnit.SECONDS.sleep(6);\r\n            System.out.println(&quot;hi&quot;);\r\n        }\r\n    }","title":"How to use TimeUnit in java","body":"<p>I am trying to use TimeUnit in java but it just send me errors\nThat’s how I wrote it</p>\n<pre><code>import java.util.concurrent.TimeUnit ;\n\npublic class Anything { \n    public static void main( String[] args ) {\n        System.out.println(&quot;hi&quot;);\n        TimeUnit.SECONDS.sleep(6);\n        System.out.println(&quot;hi&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","serialization","jackson","deserialization"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1700821968,"post_id":77542431,"comment_id":136702904,"body_markdown":"Have you tried [`@JsonView`](https://javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/2.9.1/com/fasterxml/jackson/annotation/JsonView.html)?","body":"Have you tried <a href=\"https://javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/2.9.1/com/fasterxml/jackson/annotation/JsonView.html\" rel=\"nofollow noreferrer\"><code>@JsonView</code></a>?"},{"owner":{"account_id":29981455,"reputation":1,"user_id":22976357,"display_name":"Lasse"},"score":0,"creation_date":1701100864,"post_id":77542431,"comment_id":136730265,"body_markdown":"I hadn&#39;t tried that but from what I can see, it requires some boilerplate to be able to use @JsonView. Also, I don&#39;t quite see how it would help me to exclude everything by default and explicitly mark the properties I want.","body":"I hadn&#39;t tried that but from what I can see, it requires some boilerplate to be able to use @JsonView. Also, I don&#39;t quite see how it would help me to exclude everything by default and explicitly mark the properties I want."}],"answers":[{"comments":[{"owner":{"account_id":29981455,"reputation":1,"user_id":22976357,"display_name":"Lasse"},"score":0,"creation_date":1701162809,"post_id":77545345,"comment_id":136738126,"body_markdown":"Both of your solutions unfortunately requires me to explicitly ignore, but what I actually want is ignore by default. Since there are many properties I don&#39;t want included, it is not feasible to manually exclude them.","body":"Both of your solutions unfortunately requires me to explicitly ignore, but what I actually want is ignore by default. Since there are many properties I don&#39;t want included, it is not feasible to manually exclude them."},{"owner":{"account_id":18239208,"reputation":164,"user_id":13276541,"display_name":"Ahmed Mera"},"score":0,"creation_date":1701197457,"post_id":77545345,"comment_id":136744737,"body_markdown":"i updated the the post, check the third solution and i hope this solution help you","body":"i updated the the post, check the third solution and i hope this solution help you"}],"tags":[],"owner":{"account_id":18239208,"reputation":164,"user_id":13276541,"display_name":"Ahmed Mera"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701197379,"creation_date":1700854688,"answer_id":77545345,"question_id":77542431,"body_markdown":"You can try one of these solutions:\r\n\r\n\r\n 1. First solution\r\n```\r\n@JsonIgnoreProperties(value = {&quot;usefulProperty2&quot;, &quot;usefulProperty3&quot;}, ignoreUnknown = true)\r\npublic class BaseClass {\r\n    private long usefulProperty1;\r\n    private BigDecimal usefulProperty2;\r\n    private BigDecimal usefulProperty3;\r\n    private int garbageProperty;\r\n    // other properties\r\n}\r\n```\r\n 2. Second Solution\r\n```\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class BaseClass {\r\n\r\n    @JsonIgnore\r\n    private long usefulProperty1;\r\n\r\n    @JsonIgnore\r\n    private BigDecimal usefulProperty2;\r\n\r\n    @JsonProperty\r\n    private BigDecimal usefulProperty3;\r\n\r\n    @JsonProperty\r\n    private int garbageProperty;\r\n\r\n    // other properties\r\n}\r\n```\r\n \r\n\r\n 3. Third Solution: You can use **Mixin** is a class containing the fields you want to include with **@JsonInclude** annotations. This mixin will be used to configure the serialization of BaseClass\r\n\r\n```\r\npublic class Mixin {\r\n    @JsonInclude\r\n    private long usefulProperty1;\r\n\r\n    @JsonInclude\r\n    private BigDecimal usefulProperty2;\r\n\r\n    @JsonInclude\r\n    private BigDecimal usefulProperty3;\r\n}\r\n\r\npublic class BaseClass {\r\n    private long usefulProperty1;\r\n    private BigDecimal usefulProperty2;\r\n    private BigDecimal usefulProperty3;\r\n    private int garbageProperty;\r\n    // other properties\r\n}\r\n\r\n\r\npublic class Test {\r\n    public static void main(String[] args) throws Exception {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.addMixIn(BaseClass.class, Mixin.class);\r\n\r\n        BaseClass baseClass = new BaseClass();\r\n        baseClass.setUsefulProperty1(1000);\r\n        baseClass.setUsefulProperty2(BigDecimal.valueOf(42.000075));\r\n\r\n        String json = objectMapper.writeValueAsString(baseClass);\r\n        System.out.println(json);\r\n    }\r\n}\r\n```\r\nTry it and let me know","title":"Jackson: Is there a way to exclude everything by default in a class and include explicitly?","body":"<p>You can try one of these solutions:</p>\n<ol>\n<li>First solution</li>\n</ol>\n<pre><code>@JsonIgnoreProperties(value = {&quot;usefulProperty2&quot;, &quot;usefulProperty3&quot;}, ignoreUnknown = true)\npublic class BaseClass {\n    private long usefulProperty1;\n    private BigDecimal usefulProperty2;\n    private BigDecimal usefulProperty3;\n    private int garbageProperty;\n    // other properties\n}\n</code></pre>\n<ol start=\"2\">\n<li>Second Solution</li>\n</ol>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class BaseClass {\n\n    @JsonIgnore\n    private long usefulProperty1;\n\n    @JsonIgnore\n    private BigDecimal usefulProperty2;\n\n    @JsonProperty\n    private BigDecimal usefulProperty3;\n\n    @JsonProperty\n    private int garbageProperty;\n\n    // other properties\n}\n</code></pre>\n<ol start=\"3\">\n<li>Third Solution: You can use <strong>Mixin</strong> is a class containing the fields you want to include with <strong>@JsonInclude</strong> annotations. This mixin will be used to configure the serialization of BaseClass</li>\n</ol>\n<pre><code>public class Mixin {\n    @JsonInclude\n    private long usefulProperty1;\n\n    @JsonInclude\n    private BigDecimal usefulProperty2;\n\n    @JsonInclude\n    private BigDecimal usefulProperty3;\n}\n\npublic class BaseClass {\n    private long usefulProperty1;\n    private BigDecimal usefulProperty2;\n    private BigDecimal usefulProperty3;\n    private int garbageProperty;\n    // other properties\n}\n\n\npublic class Test {\n    public static void main(String[] args) throws Exception {\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.addMixIn(BaseClass.class, Mixin.class);\n\n        BaseClass baseClass = new BaseClass();\n        baseClass.setUsefulProperty1(1000);\n        baseClass.setUsefulProperty2(BigDecimal.valueOf(42.000075));\n\n        String json = objectMapper.writeValueAsString(baseClass);\n        System.out.println(json);\n    }\n}\n</code></pre>\n<p>Try it and let me know</p>\n"}],"owner":{"account_id":29981455,"reputation":1,"user_id":22976357,"display_name":"Lasse"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701197379,"creation_date":1700821754,"question_id":77542431,"body_markdown":"I have been messing about with Jackson for a while now and can&#39;t for the life of me figure out how to make Jackson only include the properties I tell it to.\r\n\r\nWe have a setup with datamodels that inherit from a base class and we would like to exclude everything from this base class by default, perhaps with a few exceptions.\r\n\r\nBecause of this, it would make a lot more sense for us to be able to exclude everything unless it&#39;s explicitly included.\r\n\r\nWhy is this not possible? It seems like a very common use-case to me.\r\nI couldn&#39;t find anything that even resembled a solution after hours of googling and trial and error\r\n\r\nWhat I would like to end up with is something like this:\r\n\r\n```\r\n@JsonIgnore\r\npublic class BaseClass {\r\n    @JsonInclude\r\n    private long usefulProperty1;\r\n\r\n    @JsonInclude\r\n    private BigDecimal usefulProperty2;\r\n\r\n    @JsonInclude\r\n    private BigDecimal usefulProperty3;\r\n\r\n    private int garbageProperty;\r\n    //.\r\n    //.\r\n    //.\r\n    private int garbageProperty200;\r\n}\r\n\r\npublic class SubClass extends BaseClass {\r\n    private String usefulProperty1;\r\n    private long usefulProperty2;\r\n}\r\n```\r\nThat is, I&#39;d like to only use annotations, or at the very least, a one time implementation in the base class. I don&#39;t want extra boilerplate code in every class that tells Jackson what to include/exclude.\r\nAlso, we don&#39;t really care about getters and setters (we just specify the fields and have Lombok generate getters and setters), so it would be nice with a solution where we can apply annotations directly to the fields.\r\n\r\n\r\nI tried visibility options but that just resulted in the class not being serialized/deserialized at all.\r\nI feel like I&#39;ve tried every combination of @JsonInclude @JsonProperty @JsonIncludeProperties (on class) @JsonIgnore and the likes, and nothing worked for me.","title":"Jackson: Is there a way to exclude everything by default in a class and include explicitly?","body":"<p>I have been messing about with Jackson for a while now and can't for the life of me figure out how to make Jackson only include the properties I tell it to.</p>\n<p>We have a setup with datamodels that inherit from a base class and we would like to exclude everything from this base class by default, perhaps with a few exceptions.</p>\n<p>Because of this, it would make a lot more sense for us to be able to exclude everything unless it's explicitly included.</p>\n<p>Why is this not possible? It seems like a very common use-case to me.\nI couldn't find anything that even resembled a solution after hours of googling and trial and error</p>\n<p>What I would like to end up with is something like this:</p>\n<pre><code>@JsonIgnore\npublic class BaseClass {\n    @JsonInclude\n    private long usefulProperty1;\n\n    @JsonInclude\n    private BigDecimal usefulProperty2;\n\n    @JsonInclude\n    private BigDecimal usefulProperty3;\n\n    private int garbageProperty;\n    //.\n    //.\n    //.\n    private int garbageProperty200;\n}\n\npublic class SubClass extends BaseClass {\n    private String usefulProperty1;\n    private long usefulProperty2;\n}\n</code></pre>\n<p>That is, I'd like to only use annotations, or at the very least, a one time implementation in the base class. I don't want extra boilerplate code in every class that tells Jackson what to include/exclude.\nAlso, we don't really care about getters and setters (we just specify the fields and have Lombok generate getters and setters), so it would be nice with a solution where we can apply annotations directly to the fields.</p>\n<p>I tried visibility options but that just resulted in the class not being serialized/deserialized at all.\nI feel like I've tried every combination of @JsonInclude @JsonProperty @JsonIncludeProperties (on class) @JsonIgnore and the likes, and nothing worked for me.</p>\n"},{"tags":["java","future","latency"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701123801,"post_id":77559200,"comment_id":136734054,"body_markdown":"Why not call `System.nanoTime` at the top and bottom of your task code, and return a `Duration` object as part of the `Future` object’s result?","body":"Why not call <code>System.nanoTime</code> at the top and bottom of your task code, and return a <code>Duration</code> object as part of the <code>Future</code> object’s result?"},{"owner":{"account_id":990443,"reputation":5575,"user_id":1007922,"accept_rate":52,"display_name":"kane"},"score":0,"creation_date":1701140391,"post_id":77559200,"comment_id":136735664,"body_markdown":"@BasilBourque Maybe I misunderstand your suggestion, but what if I don&#39;t control the task code?","body":"@BasilBourque Maybe I misunderstand your suggestion, but what if I don&#39;t control the task code?"},{"owner":{"account_id":990443,"reputation":5575,"user_id":1007922,"accept_rate":52,"display_name":"kane"},"score":0,"creation_date":1701142325,"post_id":77559200,"comment_id":136735806,"body_markdown":"Actually, I ran some tests where I force/suggest garbage collection after the method exits, and it seems that the `timer` object doesn&#39;t get GC&#39;ed, presumably because the future listener holds a reference to it.\nSo I think my approach works.\nBut if someone with more java knowledge can confirm, I&#39;d appreciate it","body":"Actually, I ran some tests where I force/suggest garbage collection after the method exits, and it seems that the <code>timer</code> object doesn&#39;t get GC&#39;ed, presumably because the future listener holds a reference to it. So I think my approach works. But if someone with more java knowledge can confirm, I&#39;d appreciate it"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701155373,"post_id":77559200,"comment_id":136736917,"body_markdown":"`Timer` is a legacy class, as noted in its Javadoc.","body":"<code>Timer</code> is a legacy class, as noted in its Javadoc."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701155428,"post_id":77559200,"comment_id":136736922,"body_markdown":"If you don&#39;t control the task code, wrap it in your own new task code. Wrap the original task’s result in a new result object, to be returned via the `Future`. Perhaps you can find a way to measure elapsed time outside the task, but that seems awkward.","body":"If you don&#39;t control the task code, wrap it in your own new task code. Wrap the original task’s result in a new result object, to be returned via the <code>Future</code>. Perhaps you can find a way to measure elapsed time outside the task, but that seems awkward."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701155565,"post_id":77559200,"comment_id":136736940,"body_markdown":"If you don&#39;t control the task code, you *really* should mention that in the Question.","body":"If you don&#39;t control the task code, you <i>really</i> should mention that in the Question."},{"owner":{"account_id":990443,"reputation":5575,"user_id":1007922,"accept_rate":52,"display_name":"kane"},"score":0,"creation_date":1701197014,"post_id":77559200,"comment_id":136744655,"body_markdown":"@BasilBourque I made some clarifying edits based on your suggestion. But I think my original solution actually works. My listener code copies the `timer` pointer and prevents it from being GC&#39;ed until after it closes, at which point, I capture the duration. I believe this would be similar to what you propose of calling `System.nanoTime` and passing that into the listener, which would copy the primitive `long` into the function.\nLet me know if you see any issues","body":"@BasilBourque I made some clarifying edits based on your suggestion. But I think my original solution actually works. My listener code copies the <code>timer</code> pointer and prevents it from being GC&#39;ed until after it closes, at which point, I capture the duration. I believe this would be similar to what you propose of calling <code>System.nanoTime</code> and passing that into the listener, which would copy the primitive <code>long</code> into the function. Let me know if you see any issues"},{"owner":{"account_id":116746,"reputation":12477,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"score":0,"creation_date":1701201582,"post_id":77559200,"comment_id":136745438,"body_markdown":"It is not clear what ListenableFuture is, is it Guice or anything else? If you can control the ExecutorService that executes your tasks, there are mechanisms to instrument the task and measure what you want.","body":"It is not clear what ListenableFuture is, is it Guice or anything else? If you can control the ExecutorService that executes your tasks, there are mechanisms to instrument the task and measure what you want."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1701208190,"post_id":77559200,"comment_id":136746449,"body_markdown":"Nothing is garbage-collected if there&#39;s still a reference to it. There&#39;s no such thing as &quot;the object is garbage, so I cannot call a method on it&quot; – that&#39;s simply not how the GC in Java works.","body":"Nothing is garbage-collected if there&#39;s still a reference to it. There&#39;s no such thing as &quot;the object is garbage, so I cannot call a method on it&quot; – that&#39;s simply not how the GC in Java works."}],"owner":{"account_id":990443,"reputation":5575,"user_id":1007922,"accept_rate":52,"display_name":"kane"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701197058,"creation_date":1701110160,"question_id":77559200,"body_markdown":"I want to track how long an async process takes.\r\nMy general approach for synchronous processes is to record the current time, run the process, and finally calculate and record the difference. I use an `AutoCloseable` Timer object to do this. But I&#39;m not sure if this will work for futures.\r\n\r\n    class MyTimer implements AutoCloseable {\r\n      private final long startTime;\r\n      MyTimer(...) {\r\n        startTime = clock.millis();\r\n      }\r\n\r\n      @Override\r\n      public void close() {\r\n        recorder.record(clock.millis() - startTime);\r\n      }\r\n    }\r\n\r\nThis doesn&#39;t work obviously because I&#39;m only recording the time it takes to construct the future, not actually complete it fully\r\n\r\n    public ListenableFuture doSomethingAsync() {\r\n      try(MyTimer timer = new MyTimer()) {\r\n        return thirdPartyLib.readDatabase();\r\n      }\r\n    }\r\n\r\nI&#39;m not sure if this will work though\r\n\r\n    public ListenableFuture doSomethingAsync() {\r\n      MyTimer timer = new MyTimer();\r\n      ListenableFuture future = thirdPartyLib.readDatabase();\r\n      future.addListener(() -&gt; timer.close(), listeningExecutorService);\r\n      return future;\r\n    }\r\n\r\nWhat I&#39;m afraid of is that when the method exits, the method-scoped Timer is garbage collected so when the listener lambda executes, `timer` is in a unpredictable state.\r\nBut I&#39;m not sure if the fact that the lambda holds a reference to `timer` prevents it from going away once the method exists.\r\n\r\nWhat&#39;s the right way to time the future?\r\n\r\n**Edit** Edit to make clear that `readDatabase()` is not my task code but 3rd party library I don&#39;t control. Also, `timer` is a custom class I built.","title":"How to time a ListenableFuture","body":"<p>I want to track how long an async process takes.\nMy general approach for synchronous processes is to record the current time, run the process, and finally calculate and record the difference. I use an <code>AutoCloseable</code> Timer object to do this. But I'm not sure if this will work for futures.</p>\n<pre><code>class MyTimer implements AutoCloseable {\n  private final long startTime;\n  MyTimer(...) {\n    startTime = clock.millis();\n  }\n\n  @Override\n  public void close() {\n    recorder.record(clock.millis() - startTime);\n  }\n}\n</code></pre>\n<p>This doesn't work obviously because I'm only recording the time it takes to construct the future, not actually complete it fully</p>\n<pre><code>public ListenableFuture doSomethingAsync() {\n  try(MyTimer timer = new MyTimer()) {\n    return thirdPartyLib.readDatabase();\n  }\n}\n</code></pre>\n<p>I'm not sure if this will work though</p>\n<pre><code>public ListenableFuture doSomethingAsync() {\n  MyTimer timer = new MyTimer();\n  ListenableFuture future = thirdPartyLib.readDatabase();\n  future.addListener(() -&gt; timer.close(), listeningExecutorService);\n  return future;\n}\n</code></pre>\n<p>What I'm afraid of is that when the method exits, the method-scoped Timer is garbage collected so when the listener lambda executes, <code>timer</code> is in a unpredictable state.\nBut I'm not sure if the fact that the lambda holds a reference to <code>timer</code> prevents it from going away once the method exists.</p>\n<p>What's the right way to time the future?</p>\n<p><strong>Edit</strong> Edit to make clear that <code>readDatabase()</code> is not my task code but 3rd party library I don't control. Also, <code>timer</code> is a custom class I built.</p>\n"},{"tags":["java","spring-boot","spring-cloud-gateway"],"owner":{"account_id":3854872,"reputation":119,"user_id":3194087,"accept_rate":57,"display_name":"kursattokpinar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701196381,"creation_date":1701196381,"question_id":77566341,"body_markdown":"I am encountering an issue while utilizing the LocalResponseCache filter.\r\nHere is the route configuration I am using:\r\n\r\n```\r\n - id: findEntityByIdByKindPath\r\n  uri: ${app.backend.protocol}://${app.backend.host}:${app.backend.port}\r\n  predicates:\r\n    - Path=${app.inbound.baseUri}{kindPath}/{recordId}\r\n    - Method=GET\r\n  filters:\r\n    - name: CheckIfRouteEnabled\r\n    - RewritePath=${app.inbound.baseUri}(?&lt;kindPath&gt;/?.*)\\/(?&lt;recordId&gt;.*), ${app.backend.baseUri}generic-entities/${recordId}\r\n    - name: AuthenticateRequest\r\n    - name: RequestRateLimiter\r\n      args:\r\n        redis-rate-limiter:\r\n          replenishRate: 10\r\n          burstCapacity: 20\r\n    - name: AuthorizeRequest\r\n      args:\r\n        policyName: /policies/auth/routes/findEntityById/policy\r\n    - RemoveRequestHeader=Authorization\r\n    - LocalResponseCache=${app.caching.timeToLive},${app.caching.size}\r\n    - name: ApplyFieldsetConfig\r\n    - name: DropFieldsForFindEntityById\r\n      args:\r\n        policyName: /policies/fields/genericentities/policy\r\n```\r\n\r\nThe issue is about the execution order. Once the response is cached, subsequent requests made through gateway retrieve responses from the cache, cause gateway to bypass previous filters such as `CheckIfRouteEnabled`, `AuthenticateRequest`, and `Authorize`.\r\n\r\nThis behavior is undesirable for my use case, where I am generating a policy inquiry data and placing it in the gateway attributes within the `Authenticate` filter code. This data is then used to execute policies when filter needs it, such as `Authorize` and `DropFieldsForFindEntityById` to determine who can call and see what. As this data couldn&#39;t be prepared when `Authenticate` filter is skipped, `DropFieldsForFindEntityById` filter is failing.\r\n\r\nAnother issue is when I remove the `Authorization` header before forwarding the request to the downstream service. This causes the key calculated to put to the cache to differ from the key calculated when getting the data from the cache.\r\n\r\nThe expected behavior is to execute all filters in the specified order before reaching the `LocalResponseCache`. If the request is cached, I would expect filters `CheckIfRouteEnabled`, `AuthenticateRequest`, and `Authorize` to be executed and continue with `ApplyFieldsetConfig` and `DropFieldsForFindEntityById` as if the response were obtained from the backend. If the request is not cached, again the previous filters should be executed, then response should be cached, and the execution should proceed with `ApplyFieldsetConfig` and `DropFieldsForFindEntityById` filters.\r\n\r\nExecution order of the `ApplyFieldsetConfig` and `DropFieldsForFindEntityById` are:\r\n\r\n```java\r\nNettyWriteResponseFilter.WRITE_RESPONSE_FILTER_ORDER - 10\r\n```\r\n\r\nOther filters does not have given order in the code.","title":"LocalResponseCache fails to retrieve if RemoveRequestHeader is used","body":"<p>I am encountering an issue while utilizing the LocalResponseCache filter.\nHere is the route configuration I am using:</p>\n<pre><code> - id: findEntityByIdByKindPath\n  uri: ${app.backend.protocol}://${app.backend.host}:${app.backend.port}\n  predicates:\n    - Path=${app.inbound.baseUri}{kindPath}/{recordId}\n    - Method=GET\n  filters:\n    - name: CheckIfRouteEnabled\n    - RewritePath=${app.inbound.baseUri}(?&lt;kindPath&gt;/?.*)\\/(?&lt;recordId&gt;.*), ${app.backend.baseUri}generic-entities/${recordId}\n    - name: AuthenticateRequest\n    - name: RequestRateLimiter\n      args:\n        redis-rate-limiter:\n          replenishRate: 10\n          burstCapacity: 20\n    - name: AuthorizeRequest\n      args:\n        policyName: /policies/auth/routes/findEntityById/policy\n    - RemoveRequestHeader=Authorization\n    - LocalResponseCache=${app.caching.timeToLive},${app.caching.size}\n    - name: ApplyFieldsetConfig\n    - name: DropFieldsForFindEntityById\n      args:\n        policyName: /policies/fields/genericentities/policy\n</code></pre>\n<p>The issue is about the execution order. Once the response is cached, subsequent requests made through gateway retrieve responses from the cache, cause gateway to bypass previous filters such as <code>CheckIfRouteEnabled</code>, <code>AuthenticateRequest</code>, and <code>Authorize</code>.</p>\n<p>This behavior is undesirable for my use case, where I am generating a policy inquiry data and placing it in the gateway attributes within the <code>Authenticate</code> filter code. This data is then used to execute policies when filter needs it, such as <code>Authorize</code> and <code>DropFieldsForFindEntityById</code> to determine who can call and see what. As this data couldn't be prepared when <code>Authenticate</code> filter is skipped, <code>DropFieldsForFindEntityById</code> filter is failing.</p>\n<p>Another issue is when I remove the <code>Authorization</code> header before forwarding the request to the downstream service. This causes the key calculated to put to the cache to differ from the key calculated when getting the data from the cache.</p>\n<p>The expected behavior is to execute all filters in the specified order before reaching the <code>LocalResponseCache</code>. If the request is cached, I would expect filters <code>CheckIfRouteEnabled</code>, <code>AuthenticateRequest</code>, and <code>Authorize</code> to be executed and continue with <code>ApplyFieldsetConfig</code> and <code>DropFieldsForFindEntityById</code> as if the response were obtained from the backend. If the request is not cached, again the previous filters should be executed, then response should be cached, and the execution should proceed with <code>ApplyFieldsetConfig</code> and <code>DropFieldsForFindEntityById</code> filters.</p>\n<p>Execution order of the <code>ApplyFieldsetConfig</code> and <code>DropFieldsForFindEntityById</code> are:</p>\n<pre class=\"lang-java prettyprint-override\"><code>NettyWriteResponseFilter.WRITE_RESPONSE_FILTER_ORDER - 10\n</code></pre>\n<p>Other filters does not have given order in the code.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","out-of-memory","lazy-loading"],"answers":[{"comments":[{"owner":{"account_id":8868858,"reputation":1213,"user_id":6623145,"accept_rate":82,"display_name":"Thach Huynh"},"score":0,"creation_date":1581065801,"post_id":60109871,"comment_id":106312701,"body_markdown":"&quot;You will see that using @OneToMany(fetch = FetchType.EAGER) without EntityGraph it loads employees in separate select queries (N + 1), but using EntityGraph it performs only 1 select ... join&quot; -&gt; this is what I mentioned above: it will load Employees EAGERLY but I want it to be LAZY","body":"&quot;You will see that using @OneToMany(fetch = FetchType.EAGER) without EntityGraph it loads employees in separate select queries (N + 1), but using EntityGraph it performs only 1 select ... join&quot; -&gt; this is what I mentioned above: it will load Employees EAGERLY but I want it to be LAZY"},{"owner":{"account_id":6615217,"reputation":6130,"user_id":5108737,"display_name":"Ruslan"},"score":0,"creation_date":1581066880,"post_id":60109871,"comment_id":106313237,"body_markdown":"@ThachHuynh Ok, then why do you need `EntityGraph`?  Just don&#39;t use `@NamedAttributeNode` for lazy employees. In that case employees will not be loaded at all.","body":"@ThachHuynh Ok, then why do you need <code>EntityGraph</code>?  Just don&#39;t use <code>@NamedAttributeNode</code> for lazy employees. In that case employees will not be loaded at all."},{"owner":{"account_id":8868858,"reputation":1213,"user_id":6623145,"accept_rate":82,"display_name":"Thach Huynh"},"score":0,"creation_date":1581067054,"post_id":60109871,"comment_id":106313325,"body_markdown":"I use EntityGraph because it can avoid N + 1 select problem.","body":"I use EntityGraph because it can avoid N + 1 select problem."},{"owner":{"account_id":8868858,"reputation":1213,"user_id":6623145,"accept_rate":82,"display_name":"Thach Huynh"},"score":0,"creation_date":1581067231,"post_id":60109871,"comment_id":106313429,"body_markdown":"Are there any other ways ?","body":"Are there any other ways ?"},{"owner":{"account_id":6615217,"reputation":6130,"user_id":5108737,"display_name":"Ruslan"},"score":0,"creation_date":1581067809,"post_id":60109871,"comment_id":106313718,"body_markdown":"@ThachHuynh so you mean you want to load employees but limit the number of it according to the pagination?","body":"@ThachHuynh so you mean you want to load employees but limit the number of it according to the pagination?"},{"owner":{"account_id":8868858,"reputation":1213,"user_id":6623145,"accept_rate":82,"display_name":"Thach Huynh"},"score":0,"creation_date":1581068600,"post_id":60109871,"comment_id":106314145,"body_markdown":"Yes. Pagination or lazy load is ok.","body":"Yes. Pagination or lazy load is ok."},{"owner":{"account_id":8868858,"reputation":1213,"user_id":6623145,"accept_rate":82,"display_name":"Thach Huynh"},"score":0,"creation_date":1581068738,"post_id":60109871,"comment_id":106314224,"body_markdown":"But I&#39;m not sure that spring data jpa pagination is real pagination. I mean it must not load all data to memory and do paging on it. It must come to db and execute query every batch.","body":"But I&#39;m not sure that spring data jpa pagination is real pagination. I mean it must not load all data to memory and do paging on it. It must come to db and execute query every batch."},{"owner":{"account_id":6615217,"reputation":6130,"user_id":5108737,"display_name":"Ruslan"},"score":1,"creation_date":1581072677,"post_id":60109871,"comment_id":106316415,"body_markdown":"@ThachHuynh I&#39;ve updated answer. Probably you could find smth useful there","body":"@ThachHuynh I&#39;ve updated answer. Probably you could find smth useful there"},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1590398152,"post_id":60109871,"comment_id":109654894,"body_markdown":"&quot;I&#39;m not sure that spring data jpa pagination is real pagination&quot; -&gt; This is not true. Spring Data JPA _will_ apply the pagination at the database level.","body":"&quot;I&#39;m not sure that spring data jpa pagination is real pagination&quot; -&gt; This is not true. Spring Data JPA <i>will</i> apply the pagination at the database level."}],"tags":[],"owner":{"account_id":6615217,"reputation":6130,"user_id":5108737,"display_name":"Ruslan"},"comment_count":9,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1581070110,"creation_date":1581065062,"answer_id":60109871,"question_id":60109680,"body_markdown":"Using `EntityGraph` all your `NamedAttributeNode` associations will be loaded in 1 query with `Join` clause. Enable sql log to see how many queries hibernate does for loading entities in different scenarios\r\n\r\n    logging.level.org.hibernate.SQL=DEBUG\r\n\r\nYou will see that using `@OneToMany(fetch = FetchType.EAGER)` without `EntityGraph` it loads employees in separate `select` queries (N + 1), but using `EntityGraph` it performs only 1 `select ... join`\r\n\r\nAlso don&#39;t forget to specify entity graph name in repository like:\r\n\r\n    @EntityGraph(value = &quot;Department&quot;)\r\n    List&lt;Department&gt; findAll();\r\n\r\n**UPDATE:** Spring DATA Pagination doesn&#39;t work on database side. It will fetch all data and then filtered in memory. That&#39;s how it works.. There are some workarounds, check this links:\r\n\r\nhttps://stackoverflow.com/questions/11431670/how-can-i-avoid-the-warning-firstresult-maxresults-specified-with-collection-fe/46195656#46195656\r\n\r\nhttps://stackoverflow.com/questions/59935631/avoiding-hhh000104-firstresult-maxresults-specified-with-collection-fetch-app\r\n\r\n[VladMihalcea Blog The best way to fix the Hibernate HHH000104](https://vladmihalcea.com/fix-hibernate-hhh000104-entity-fetch-pagination-warning-message/)\r\n\r\nAs for me the solution could be creating custom repository and using `EntityManager` to construct query manually.","title":"Using Spring data JPA EntityGraph with LAZY load mode for NamedAttributeNode field","body":"<p>Using <code>EntityGraph</code> all your <code>NamedAttributeNode</code> associations will be loaded in 1 query with <code>Join</code> clause. Enable sql log to see how many queries hibernate does for loading entities in different scenarios</p>\n\n<pre><code>logging.level.org.hibernate.SQL=DEBUG\n</code></pre>\n\n<p>You will see that using <code>@OneToMany(fetch = FetchType.EAGER)</code> without <code>EntityGraph</code> it loads employees in separate <code>select</code> queries (N + 1), but using <code>EntityGraph</code> it performs only 1 <code>select ... join</code></p>\n\n<p>Also don't forget to specify entity graph name in repository like:</p>\n\n<pre><code>@EntityGraph(value = \"Department\")\nList&lt;Department&gt; findAll();\n</code></pre>\n\n<p><strong>UPDATE:</strong> Spring DATA Pagination doesn't work on database side. It will fetch all data and then filtered in memory. That's how it works.. There are some workarounds, check this links:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/11431670/how-can-i-avoid-the-warning-firstresult-maxresults-specified-with-collection-fe/46195656#46195656\">How can I avoid the Warning &quot;firstResult/maxResults specified with collection fetch; applying in memory!&quot; when using Hibernate?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/59935631/avoiding-hhh000104-firstresult-maxresults-specified-with-collection-fetch-app\">Avoiding &quot;HHH000104: firstResult/maxResults specified with collection fetch; applying in memory!&quot; using Spring Data</a></p>\n\n<p><a href=\"https://vladmihalcea.com/fix-hibernate-hhh000104-entity-fetch-pagination-warning-message/\" rel=\"nofollow noreferrer\">VladMihalcea Blog The best way to fix the Hibernate HHH000104</a></p>\n\n<p>As for me the solution could be creating custom repository and using <code>EntityManager</code> to construct query manually.</p>\n"},{"tags":[],"owner":{"account_id":9031905,"reputation":1,"user_id":6729187,"display_name":"Alexis Toulotte"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648080144,"creation_date":1648080144,"answer_id":71595502,"question_id":60109680,"body_markdown":"A simple solution is:\r\n\r\n- Fetch first your records with pagination but without `@EntityGraph`.\r\n- Fetch your records with `@EntityGraph` from previous returned ids.\r\n\r\n=&gt; No N+1 complexity, only 2 SQL requests and no native queries, etc.\r\n\r\nExample:\r\n\r\nOn your main repository, add `@EntityGraph` annotation with associations you want to fetch:\r\n\r\n```java\r\npublic interface CarRepository extends JpaRepository&lt;Car, String&gt;, JpaSpecificationExecutor&lt;Car&gt;, CarCustomRepository {\r\n\r\n    @Override\r\n    @EntityGraph(attributePaths = { &quot;foo&quot;, &quot;bar&quot;, &quot;bar.baz&quot; })\r\n    List&lt;Car&gt; findAllById(Iterable&lt;String&gt; ids);\r\n\r\n}\r\n```\r\n\r\nCreate a custom repository with a `findAllWithEntityGraph` method:\r\n\r\n```java\r\npublic interface CarCustomRepository {\r\n\r\n    Page&lt;Car&gt; findAllWithEntityGraph(Specification&lt;Car&gt; specification, Pageable pageable);\r\n\r\n}\r\n\r\n```\r\n\r\nThe implementation of the custom repository. It first fetch entities without entity graph, then it re-fetch them with entity graph in order to load associations. Don&#39;t forget to re-sort entities in to preserve order:\r\n\r\n```java\r\npublic class CarCustomRepositoryImpl implements CarCustomRepository {\r\n\r\n    @Autowired\r\n    @Lazy\r\n    private CarRepository carRepository;\r\n\r\n    @Override\r\n    public Page&lt;Car&gt; findAllWithEntityGraph(Specification&lt;Car&gt; specification, Pageable pageable) {\r\n        Page&lt;Car&gt; page = carRepository.findAll(specification, pageable);\r\n        List&lt;String&gt; ids = page.getContent().stream().map(Car::getId).collect(Collectors.toList());\r\n        List&lt;Car&gt; cars = carRepository.findAllById(ids).stream()\r\n                .sorted(Comparator.comparing(car -&gt; ids.indexOf(car.getId())))\r\n                .collect(Collectors.toList());\r\n        return new PageImpl&lt;&gt;(cars, pageable, page.getTotalElements());\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nThen, you just have to invoke `CarRepository#findAllWithEntityGraph` method in order to fetch records **with** pagination and **no** N+1 complexity.\r\n\r\nThe question is: why hibernate does not have this behavior by default?","title":"Using Spring data JPA EntityGraph with LAZY load mode for NamedAttributeNode field","body":"<p>A simple solution is:</p>\n<ul>\n<li>Fetch first your records with pagination but without <code>@EntityGraph</code>.</li>\n<li>Fetch your records with <code>@EntityGraph</code> from previous returned ids.</li>\n</ul>\n<p>=&gt; No N+1 complexity, only 2 SQL requests and no native queries, etc.</p>\n<p>Example:</p>\n<p>On your main repository, add <code>@EntityGraph</code> annotation with associations you want to fetch:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface CarRepository extends JpaRepository&lt;Car, String&gt;, JpaSpecificationExecutor&lt;Car&gt;, CarCustomRepository {\n\n    @Override\n    @EntityGraph(attributePaths = { &quot;foo&quot;, &quot;bar&quot;, &quot;bar.baz&quot; })\n    List&lt;Car&gt; findAllById(Iterable&lt;String&gt; ids);\n\n}\n</code></pre>\n<p>Create a custom repository with a <code>findAllWithEntityGraph</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface CarCustomRepository {\n\n    Page&lt;Car&gt; findAllWithEntityGraph(Specification&lt;Car&gt; specification, Pageable pageable);\n\n}\n\n</code></pre>\n<p>The implementation of the custom repository. It first fetch entities without entity graph, then it re-fetch them with entity graph in order to load associations. Don't forget to re-sort entities in to preserve order:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CarCustomRepositoryImpl implements CarCustomRepository {\n\n    @Autowired\n    @Lazy\n    private CarRepository carRepository;\n\n    @Override\n    public Page&lt;Car&gt; findAllWithEntityGraph(Specification&lt;Car&gt; specification, Pageable pageable) {\n        Page&lt;Car&gt; page = carRepository.findAll(specification, pageable);\n        List&lt;String&gt; ids = page.getContent().stream().map(Car::getId).collect(Collectors.toList());\n        List&lt;Car&gt; cars = carRepository.findAllById(ids).stream()\n                .sorted(Comparator.comparing(car -&gt; ids.indexOf(car.getId())))\n                .collect(Collectors.toList());\n        return new PageImpl&lt;&gt;(cars, pageable, page.getTotalElements());\n    }\n\n}\n\n</code></pre>\n<p>Then, you just have to invoke <code>CarRepository#findAllWithEntityGraph</code> method in order to fetch records <strong>with</strong> pagination and <strong>no</strong> N+1 complexity.</p>\n<p>The question is: why hibernate does not have this behavior by default?</p>\n"},{"tags":[],"owner":{"account_id":5342445,"reputation":4817,"user_id":4259032,"accept_rate":56,"display_name":"Alain Cruz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701195836,"creation_date":1701195836,"answer_id":77566283,"question_id":60109680,"body_markdown":"A simple solution would be to fetch the entities and then initialize the needed `joins`.\r\n\r\n    Page&lt;Department&gt; depPages = this.repository.findAll(PageRequest.of(page, maxRows, sort));\r\n    for (Department d : depPages.getContent()) Hibernate.initialize(d.getEmployees());\r\n\r\n**Important:** Must be run inside a transaction, otherwise you will get a `can&#39;t initialize` exception.","title":"Using Spring data JPA EntityGraph with LAZY load mode for NamedAttributeNode field","body":"<p>A simple solution would be to fetch the entities and then initialize the needed <code>joins</code>.</p>\n<pre><code>Page&lt;Department&gt; depPages = this.repository.findAll(PageRequest.of(page, maxRows, sort));\nfor (Department d : depPages.getContent()) Hibernate.initialize(d.getEmployees());\n</code></pre>\n<p><strong>Important:</strong> Must be run inside a transaction, otherwise you will get a <code>can't initialize</code> exception.</p>\n"}],"owner":{"account_id":8868858,"reputation":1213,"user_id":6623145,"accept_rate":82,"display_name":"Thach Huynh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60109871,"answer_count":3,"score":0,"last_activity_date":1701195836,"creation_date":1581064197,"question_id":60109680,"body_markdown":"I am facing with 2 problems: N + 1 query and Out Of Memory (OOM).\r\n\r\nI solved OOM by paging and lazy loading:\r\n\r\n    @OneToMany(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;department_id&quot;)\r\n    private Set&lt;Employee&gt; employees;\r\n\r\nBut when I use lazy loading, N + 1 query happened. So I try to use `EntityGraph` as https://www.baeldung.com/spring-data-jpa-named-entity-graphs. But as my researches and local test, `EntityGraph` always do eager loading for `NamedAttributeNode` field - association field, which I want to be lazy loading - do not load all data at first:\r\n\r\n    @Entity\r\n    @Table(name = &quot;department&quot;)\r\n    @NamedEntityGraph(name = &quot;Department&quot;,\r\n            attributeNodes = {\r\n                    @NamedAttributeNode(&quot;employees&quot;)\r\n            }\r\n    )\r\n    public class Department implements Serializable {\r\n        @OneToMany(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;department_id&quot;)\r\n        private Set&lt;Employee&gt; employees;\r\n    }\r\n\r\nSo are there any way to get them both ? Use `EntityGraph` to avoid N + 1 and lazy loading to avoid OOM ? \r\n\r\nUPDATE:\r\nCan `EntityGraph` works fine with Pageable effectively ? I mean do not load all data in JOIN query.","title":"Using Spring data JPA EntityGraph with LAZY load mode for NamedAttributeNode field","body":"<p>I am facing with 2 problems: N + 1 query and Out Of Memory (OOM).</p>\n\n<p>I solved OOM by paging and lazy loading:</p>\n\n<pre><code>@OneToMany(fetch = FetchType.LAZY)\n@JoinColumn(name = \"department_id\")\nprivate Set&lt;Employee&gt; employees;\n</code></pre>\n\n<p>But when I use lazy loading, N + 1 query happened. So I try to use <code>EntityGraph</code> as <a href=\"https://www.baeldung.com/spring-data-jpa-named-entity-graphs\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-named-entity-graphs</a>. But as my researches and local test, <code>EntityGraph</code> always do eager loading for <code>NamedAttributeNode</code> field - association field, which I want to be lazy loading - do not load all data at first:</p>\n\n<pre><code>@Entity\n@Table(name = \"department\")\n@NamedEntityGraph(name = \"Department\",\n        attributeNodes = {\n                @NamedAttributeNode(\"employees\")\n        }\n)\npublic class Department implements Serializable {\n    @OneToMany(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"department_id\")\n    private Set&lt;Employee&gt; employees;\n}\n</code></pre>\n\n<p>So are there any way to get them both ? Use <code>EntityGraph</code> to avoid N + 1 and lazy loading to avoid OOM ? </p>\n\n<p>UPDATE:\nCan <code>EntityGraph</code> works fine with Pageable effectively ? I mean do not load all data in JOIN query.</p>\n"},{"tags":["java","maven","avro","pojo"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1685958840,"post_id":76405053,"comment_id":134728446,"body_markdown":"Check answer here: https://stackoverflow.com/questions/61642736/how-to-generate-source-code-from-avro-schema-in-maveneclipse","body":"Check answer here: <a href=\"https://stackoverflow.com/questions/61642736/how-to-generate-source-code-from-avro-schema-in-maveneclipse\" title=\"how to generate source code from avro schema in maveneclipse\">stackoverflow.com/questions/61642736/&hellip;</a>"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1685958869,"post_id":76405053,"comment_id":134728452,"body_markdown":"Does this answer your question? [How to generate source code from avro schema in maven(eclipse)?](https://stackoverflow.com/questions/61642736/how-to-generate-source-code-from-avro-schema-in-maveneclipse)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/61642736/how-to-generate-source-code-from-avro-schema-in-maveneclipse\">How to generate source code from avro schema in maven(eclipse)?</a>"}],"answers":[{"tags":[],"owner":{"account_id":22565,"reputation":11004,"user_id":55794,"accept_rate":54,"display_name":"emeraldjava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701195697,"creation_date":1701195697,"answer_id":77566270,"question_id":76405053,"body_markdown":"You can use the avro-maven-plugin with the &#39;induce&#39; goal to covert a Pojo class to a avsc schema file\r\n\r\n    &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n                &lt;artifactId&gt;avro-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.11.3&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;process-classes&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;induce&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;javaSourceDirectories&gt;${project.basedir}/target/generated-sources/annotations/src/main/java&lt;/javaSourceDirectories&gt;\r\n                            &lt;allowNull&gt;true&lt;/allowNull&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;","title":"Convert a POJO to AVRO schema","body":"<p>You can use the avro-maven-plugin with the 'induce' goal to covert a Pojo class to a avsc schema file</p>\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n            &lt;artifactId&gt;avro-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.11.3&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;process-classes&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;induce&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;javaSourceDirectories&gt;${project.basedir}/target/generated-sources/annotations/src/main/java&lt;/javaSourceDirectories&gt;\n                        &lt;allowNull&gt;true&lt;/allowNull&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":7765645,"reputation":1,"user_id":5876905,"display_name":"nguyh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701195697,"creation_date":1685957111,"question_id":76405053,"body_markdown":"Given a POJO (e.g. User.java), are there any Maven plug-ins that convert it to an AVRO schema avsc on compilation?\r\n\r\nI tried `Schema schema = ReflectData.get().getSchema(User.class)` but this approach doesn&#39;t generate avsc on compilation.\r\n\r\nMany thanks!","title":"Convert a POJO to AVRO schema","body":"<p>Given a POJO (e.g. User.java), are there any Maven plug-ins that convert it to an AVRO schema avsc on compilation?</p>\n<p>I tried <code>Schema schema = ReflectData.get().getSchema(User.class)</code> but this approach doesn't generate avsc on compilation.</p>\n<p>Many thanks!</p>\n"},{"tags":["java","spring","spring-boot","openfeign"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1671564477,"post_id":74867969,"comment_id":132125287,"body_markdown":"Try reading the stream directly inside the controller.","body":"Try reading the stream directly inside the controller."},{"owner":{"account_id":11084453,"reputation":211,"user_id":8138689,"display_name":"Satyajit Bhatt"},"score":0,"creation_date":1671565092,"post_id":74867969,"comment_id":132125464,"body_markdown":"Try with resources one of the best way to communicate with files and resources. So try once try with resources.","body":"Try with resources one of the best way to communicate with files and resources. So try once try with resources."}],"answers":[{"tags":[],"owner":{"account_id":21406878,"reputation":26,"user_id":15767922,"display_name":"Cl&#225;udio Tenorio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701195449,"creation_date":1671566554,"answer_id":74868339,"question_id":74867969,"body_markdown":"Replace InputStreamResouce with byte[] in Feign\r\n   \r\n\r\n    @FeignClient(value = &quot;esatCalculoFeignClient&quot;, url = &quot;${api.url.esat}&quot;)\r\n    public interface EsatCalculoFeignClient {\r\n        \r\n        @PostMapping(&quot;/pedido/gerar&quot;)\r\n        byte[] gerarPdfDamEsat(@Validated @RequestBody EsatCalculoTaxasRequestDto dto);\r\n    \r\n    }\r\n\r\nand convert byte[] to InputStreamResource again in service\r\n\r\n    InputStreamResource isr = new InputStreamResource(new ByteArrayInputStream(byte));\r\n    ResponseEntity&lt;InputStreamResource&gt; responseEntity = ResponseEntity.ok()\r\n                            .contentType(MediaType.parseMediaType(&quot;application/pdf&quot;))\r\n                            .header(HttpHeaders.CONTENT_DISPOSITION,&quot;attachment: filename=file.pdf&quot;)\r\n                            .body(isr);","title":"stream is closed and Could not find acceptable representation error","body":"<p>Replace InputStreamResouce with byte[] in Feign</p>\n<pre><code>@FeignClient(value = &quot;esatCalculoFeignClient&quot;, url = &quot;${api.url.esat}&quot;)\npublic interface EsatCalculoFeignClient {\n    \n    @PostMapping(&quot;/pedido/gerar&quot;)\n    byte[] gerarPdfDamEsat(@Validated @RequestBody EsatCalculoTaxasRequestDto dto);\n\n}\n</code></pre>\n<p>and convert byte[] to InputStreamResource again in service</p>\n<pre><code>InputStreamResource isr = new InputStreamResource(new ByteArrayInputStream(byte));\nResponseEntity&lt;InputStreamResource&gt; responseEntity = ResponseEntity.ok()\n                        .contentType(MediaType.parseMediaType(&quot;application/pdf&quot;))\n                        .header(HttpHeaders.CONTENT_DISPOSITION,&quot;attachment: filename=file.pdf&quot;)\n                        .body(isr);\n</code></pre>\n"}],"owner":{"account_id":22387939,"reputation":7,"user_id":16600491,"display_name":"amanda nascimento"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74868339,"answer_count":1,"score":0,"last_activity_date":1701195449,"creation_date":1671564218,"question_id":74867969,"body_markdown":"i&#39;m consuming a Api witch is returning pdf as\r\nResponseEntity&lt;InputStreamResource&gt; but it is not working at my api\r\n\r\ni&#39;m trying to get de file coming from the external api and provide it at my endpoint.\r\n\r\n**# External Api FeignClient class**\r\n\r\n\r\n```\r\n@FeignClient(value = &quot;esatCalculoFeignClient&quot;, url = &quot;${api.url.esat}&quot;)\r\npublic interface EsatCalculoFeignClient {\r\n\r\n    @PostMapping(&quot;/pedido/gerar&quot;)\r\n    ResponseEntity&lt;InputStreamResource&gt; gerarPdfDamEsat(@Validated @RequestBody EsatCalculoTaxasRequestDto dto);\r\n\r\n}\r\n\r\n```\r\n**My service method**\r\n\r\n```\r\n//gera&#231;&#227;o de DAM\r\npublic InputStreamResource solicitaDamEsat(SolicitacaDamRequestDto dto) throws BusinessException, IOException {\r\n    FormSolicitacaoAlvara entity = this.buscaEntidadePorProtocolo(dto.getProtocolo());\r\n    EsatCalculoTaxasRequestDto esatRequestDamDto = EsatCalculoTaxasRequestDto.toEsatDto(entity,dto.getIdMeioDePagamento(), dto.getQtdParcelas(), &quot;123teste&quot;);\r\n    ResponseEntity&lt;InputStreamResource&gt; file = esatCalculoFeignClient\r\n            .gerarPdfDamEsat(esatRequestDamDto);\r\n\r\n        InputStreamResource isr = new InputStreamResource(file.getBody().getInputStream());\r\n        return isr;\r\n\r\n \r\n}\r\n```\r\n\r\n**my endpoint**\r\n```\r\n\r\n@RequestMapping(value = &quot;/imprimir&quot;,method = RequestMethod.GET, produces = &quot;application/pdf&quot;)\r\npublic ResponseEntity&lt;InputStreamResource&gt; gerarDam(SolicitacaDamRequestDto dto) throws BusinessException, IOException {\r\n    InputStreamResource file = service.solicitaDamEsat(dto);\r\n    \r\n    return ResponseEntity.ok()\r\n            .contentType(MediaType.parseMediaType(&quot;application/pdf&quot;))\r\n            .contentLength(file.contentLength())\r\n            .header(HttpHeaders.CONTENT_DISPOSITION,&quot;attachment: filename=&quot;+file.getFilename())\r\n            .body(file);\r\n}\r\n```\r\n**and stackTrace**\r\n\r\n[enter image description here](https://i.stack.imgur.com/4mKdC.png)\r\n\r\n\r\n\r\ni&#39;m trying to get de file coming from the external api and provide it at my endpoint.","title":"stream is closed and Could not find acceptable representation error","body":"<p>i'm consuming a Api witch is returning pdf as\nResponseEntity but it is not working at my api</p>\n<p>i'm trying to get de file coming from the external api and provide it at my endpoint.</p>\n<p><strong># External Api FeignClient class</strong></p>\n<pre><code>@FeignClient(value = &quot;esatCalculoFeignClient&quot;, url = &quot;${api.url.esat}&quot;)\npublic interface EsatCalculoFeignClient {\n\n    @PostMapping(&quot;/pedido/gerar&quot;)\n    ResponseEntity&lt;InputStreamResource&gt; gerarPdfDamEsat(@Validated @RequestBody EsatCalculoTaxasRequestDto dto);\n\n}\n\n</code></pre>\n<p><strong>My service method</strong></p>\n<pre><code>//geração de DAM\npublic InputStreamResource solicitaDamEsat(SolicitacaDamRequestDto dto) throws BusinessException, IOException {\n    FormSolicitacaoAlvara entity = this.buscaEntidadePorProtocolo(dto.getProtocolo());\n    EsatCalculoTaxasRequestDto esatRequestDamDto = EsatCalculoTaxasRequestDto.toEsatDto(entity,dto.getIdMeioDePagamento(), dto.getQtdParcelas(), &quot;123teste&quot;);\n    ResponseEntity&lt;InputStreamResource&gt; file = esatCalculoFeignClient\n            .gerarPdfDamEsat(esatRequestDamDto);\n\n        InputStreamResource isr = new InputStreamResource(file.getBody().getInputStream());\n        return isr;\n\n \n}\n</code></pre>\n<p><strong>my endpoint</strong></p>\n<pre><code>\n@RequestMapping(value = &quot;/imprimir&quot;,method = RequestMethod.GET, produces = &quot;application/pdf&quot;)\npublic ResponseEntity&lt;InputStreamResource&gt; gerarDam(SolicitacaDamRequestDto dto) throws BusinessException, IOException {\n    InputStreamResource file = service.solicitaDamEsat(dto);\n    \n    return ResponseEntity.ok()\n            .contentType(MediaType.parseMediaType(&quot;application/pdf&quot;))\n            .contentLength(file.contentLength())\n            .header(HttpHeaders.CONTENT_DISPOSITION,&quot;attachment: filename=&quot;+file.getFilename())\n            .body(file);\n}\n</code></pre>\n<p><strong>and stackTrace</strong></p>\n<p><a href=\"https://i.stack.imgur.com/4mKdC.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>i'm trying to get de file coming from the external api and provide it at my endpoint.</p>\n"},{"tags":["java","jdbc","hana"],"comments":[{"owner":{"account_id":5246088,"reputation":9998,"user_id":4191767,"display_name":"Lars Br."},"score":0,"creation_date":1500986888,"post_id":45274050,"comment_id":77569033,"body_markdown":"From your code the cause is not obvious. I recommend to tracing the JDBC driver to see what commands actually are transferred to HANA.","body":"From your code the cause is not obvious. I recommend to tracing the JDBC driver to see what commands actually are transferred to HANA."},{"owner":{"account_id":3284296,"reputation":1011,"user_id":2764141,"accept_rate":62,"display_name":"Munez NS"},"score":0,"creation_date":1615884586,"post_id":45274050,"comment_id":117823079,"body_markdown":"Any luck with this? Same issue...","body":"Any luck with this? Same issue..."}],"answers":[{"comments":[{"owner":{"account_id":9486508,"reputation":51,"user_id":7052755,"display_name":"Michael"},"score":1,"creation_date":1500965662,"post_id":45295464,"comment_id":77553403,"body_markdown":"My instance number is 90. So, I&#39;m using 39015 port instead of 30015. I tried above connection string, but still same exception occurs.","body":"My instance number is 90. So, I&#39;m using 39015 port instead of 30015. I tried above connection string, but still same exception occurs."}],"tags":[],"owner":{"account_id":6839027,"reputation":4521,"user_id":5260008,"accept_rate":100,"display_name":"N00b Pr0grammer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500964054,"creation_date":1500964054,"answer_id":45295464,"question_id":45274050,"body_markdown":"Following the documentation provided [here](https://help.sap.com/viewer/0eec0d68141541d1b07893a39944924e/2.0.00/en-US/ff15928cf5594d78b841fbbe649f04b4.html), we can observe that there is a problem with the port that you&#39;ve used in the SAP JDBC connection string.\r\n&gt; The port should be 3 &lt; instance number&gt;15; for example, 30015, if the instance is 00.\r\n\r\nBy the above explanation, making the necessary changes in the connection string should resolve the issue.\r\n\r\nCorrected connection string is now the following (based on the parameters provided in the question):\r\n\r\n\tString url = &quot;jdbc:sap://myhost:30015/?databaseName=TWEETS&amp;user=MYUSER&amp;password=PASSWORD&quot;;\r\n\t\r\nHope this helps!","title":"HANA Could not find table/view","body":"<p>Following the documentation provided <a href=\"https://help.sap.com/viewer/0eec0d68141541d1b07893a39944924e/2.0.00/en-US/ff15928cf5594d78b841fbbe649f04b4.html\" rel=\"nofollow noreferrer\">here</a>, we can observe that there is a problem with the port that you've used in the SAP JDBC connection string.</p>\n\n<blockquote>\n  <p>The port should be 3 &lt; instance number>15; for example, 30015, if the instance is 00.</p>\n</blockquote>\n\n<p>By the above explanation, making the necessary changes in the connection string should resolve the issue.</p>\n\n<p>Corrected connection string is now the following (based on the parameters provided in the question):</p>\n\n<pre><code>String url = \"jdbc:sap://myhost:30015/?databaseName=TWEETS&amp;user=MYUSER&amp;password=PASSWORD\";\n</code></pre>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":7004076,"reputation":43,"user_id":5369110,"display_name":"Anderson Souza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500991667,"creation_date":1500991667,"answer_id":45305764,"question_id":45274050,"body_markdown":"try\r\n\r\n    &quot;select * from SYSTEM.\\&quot;TWEETS\\&quot;&quot;","title":"HANA Could not find table/view","body":"<p>try</p>\n\n<pre><code>\"select * from SYSTEM.\\\"TWEETS\\\"\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26663106,"reputation":1,"user_id":20275632,"display_name":"Amit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698314489,"creation_date":1698314489,"answer_id":77365993,"question_id":45274050,"body_markdown":"I am assuming that user &quot;MYUSER&quot; has required access to read the schema and you have confirmed that using HANA SQL Console. \r\nRun the below command both from JDBC and from SQL console and see what is the CURRENT_SCHEMA value returned? It must be same for both JDBC &amp; SQL Console.\r\n\r\n    select current_schema from dummy;\r\n\r\nIf JDBC is returning some other value then first switch to correct schema using \r\n\r\n    set schema schema_having_TWEET_table;\r\n\r\nNow run the actual query. Share the latest error log if it still fails. \r\nBased on above log- \r\n\r\n*table name: Could not find table/view TWEETS in schema SYSTEM: line 1 col 15 (at pos 14)*\r\n\r\n it seems you hitting the wrong schema.","title":"HANA Could not find table/view","body":"<p>I am assuming that user &quot;MYUSER&quot; has required access to read the schema and you have confirmed that using HANA SQL Console.\nRun the below command both from JDBC and from SQL console and see what is the CURRENT_SCHEMA value returned? It must be same for both JDBC &amp; SQL Console.</p>\n<pre><code>select current_schema from dummy;\n</code></pre>\n<p>If JDBC is returning some other value then first switch to correct schema using</p>\n<pre><code>set schema schema_having_TWEET_table;\n</code></pre>\n<p>Now run the actual query. Share the latest error log if it still fails.\nBased on above log-</p>\n<p><em>table name: Could not find table/view TWEETS in schema SYSTEM: line 1 col 15 (at pos 14)</em></p>\n<p>it seems you hitting the wrong schema.</p>\n"}],"owner":{"account_id":9486508,"reputation":51,"user_id":7052755,"display_name":"Michael"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8766,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1701194590,"creation_date":1500878203,"question_id":45274050,"body_markdown":"I am trying to connect HANA database which is running in Google Cloud Platform. Here is my Java code,\r\n\r\n\r\n    try {\r\n    \t\tClass.forName(&quot;com.sap.db.jdbc.Driver&quot;);\r\n    \t\tString url = &quot;jdbc:sap://myhost:39015/?&quot;;\r\n    \t\tString user = &quot;MYUSER&quot;;\r\n    \t\tString password = &quot;PASSWORD&quot;;\r\n    \t\tSystem.out.println(&quot;Connecting to HANA..!&quot;);\r\n    \t\tConnection cn = DriverManager.getConnection(url, user, password);\r\n    \t\tSystem.out.println(&quot;Connection to HANA successful!&quot;);\r\n    \t\tResultSet rs = cn.createStatement().executeQuery(&quot;select * from \\&quot;TWEETS\\&quot;&quot;);\r\n    \t\trs.next();\r\n    \t\tSystem.out.println(rs.getString(1));\r\n    \t} catch (Exception e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n\r\n\r\nThe `TWEETS` table exists under `SYSTEM` schema, I can able to query `TWEETS` table using HANA Studio (Eclipse plugin). But, when I try to query from java code the following exception occurs.\r\n\r\n&gt; com.sap.db.jdbc.exceptions.JDBCDriverException: SAP DBTech JDBC: [259] (at 14): invalid table name:  Could not find table/view TWEETS in schema SYSTEM: line 1 col 15 (at pos 14)\r\n&gt;\r\n&gt; at&amp;nbsp;com.sap.db.jdbc.exceptions.SQLExceptionSapDB.createException(SQLExceptionSapDB.java:334)\r\n&gt;\r\n&gt; at&amp;nbsp;com.sap.db.jdbc.exceptions.SQLExceptionSapDB.generateDatabaseException(SQLExceptionSapDB.java:165)\r\n&gt;\r\n&gt; at&amp;nbsp;com.sap.db.jdbc.packet.ReplyPacket.buildExceptionChain(ReplyPacket.java:104)\r\n&gt;\r\n&gt; at com.sap.db.jdbc.ConnectionSapDB.execute(ConnectionSapDB.java:1110)\r\n&gt;\r\n&gt; at com.sap.db.jdbc.ConnectionSapDB.execute(ConnectionSapDB.java:854)\r\n&gt;\r\n&gt; at com.sap.db.jdbc.StatementSapDB.sendCommand(StatementSapDB.java:925)\r\n\r\nNote: I tried below combinations as well, but no luck!\r\n\r\n     1. &quot;select * from TWEETS&quot; \r\n     2. &quot;select * from SYSTEM.TWEETS&quot;\r\n     3. &quot;select * from \\&quot;TWEETS\\&quot; \r\n     4. &quot;select * from \\&quot;SYSTEM\\&quot;.\\&quot;TWEETS\\&quot;&quot;\r\n\r\ntable creation command,\r\n\r\n        CREATE COLUMN TABLE TWEETS(\r\n        &quot;ID&quot; INTEGER NOT NULL,\r\n        &quot;USER_NAME&quot; NVARCHAR(100),\r\n        &quot;CREATED_AT&quot; DATE,\r\n        &quot;TEXT&quot; NVARCHAR (140),\r\n        &quot;HASH_TAGS&quot; NVARCHAR (100),\r\n        PRIMARY KEY(&quot;ID&quot;)\r\n        );\r\n\r\n\r\nCould you please help me to figure out the problem here? \r\nThanks!","title":"HANA Could not find table/view","body":"<p>I am trying to connect HANA database which is running in Google Cloud Platform. Here is my Java code,</p>\n<pre><code>try {\n        Class.forName(&quot;com.sap.db.jdbc.Driver&quot;);\n        String url = &quot;jdbc:sap://myhost:39015/?&quot;;\n        String user = &quot;MYUSER&quot;;\n        String password = &quot;PASSWORD&quot;;\n        System.out.println(&quot;Connecting to HANA..!&quot;);\n        Connection cn = DriverManager.getConnection(url, user, password);\n        System.out.println(&quot;Connection to HANA successful!&quot;);\n        ResultSet rs = cn.createStatement().executeQuery(&quot;select * from \\&quot;TWEETS\\&quot;&quot;);\n        rs.next();\n        System.out.println(rs.getString(1));\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>The <code>TWEETS</code> table exists under <code>SYSTEM</code> schema, I can able to query <code>TWEETS</code> table using HANA Studio (Eclipse plugin). But, when I try to query from java code the following exception occurs.</p>\n<blockquote>\n<p>com.sap.db.jdbc.exceptions.JDBCDriverException: SAP DBTech JDBC: [259] (at 14): invalid table name:  Could not find table/view TWEETS in schema SYSTEM: line 1 col 15 (at pos 14)</p>\n<p>at com.sap.db.jdbc.exceptions.SQLExceptionSapDB.createException(SQLExceptionSapDB.java:334)</p>\n<p>at com.sap.db.jdbc.exceptions.SQLExceptionSapDB.generateDatabaseException(SQLExceptionSapDB.java:165)</p>\n<p>at com.sap.db.jdbc.packet.ReplyPacket.buildExceptionChain(ReplyPacket.java:104)</p>\n<p>at com.sap.db.jdbc.ConnectionSapDB.execute(ConnectionSapDB.java:1110)</p>\n<p>at com.sap.db.jdbc.ConnectionSapDB.execute(ConnectionSapDB.java:854)</p>\n<p>at com.sap.db.jdbc.StatementSapDB.sendCommand(StatementSapDB.java:925)</p>\n</blockquote>\n<p>Note: I tried below combinations as well, but no luck!</p>\n<pre><code> 1. &quot;select * from TWEETS&quot; \n 2. &quot;select * from SYSTEM.TWEETS&quot;\n 3. &quot;select * from \\&quot;TWEETS\\&quot; \n 4. &quot;select * from \\&quot;SYSTEM\\&quot;.\\&quot;TWEETS\\&quot;&quot;\n</code></pre>\n<p>table creation command,</p>\n<pre><code>    CREATE COLUMN TABLE TWEETS(\n    &quot;ID&quot; INTEGER NOT NULL,\n    &quot;USER_NAME&quot; NVARCHAR(100),\n    &quot;CREATED_AT&quot; DATE,\n    &quot;TEXT&quot; NVARCHAR (140),\n    &quot;HASH_TAGS&quot; NVARCHAR (100),\n    PRIMARY KEY(&quot;ID&quot;)\n    );\n</code></pre>\n<p>Could you please help me to figure out the problem here?\nThanks!</p>\n"},{"tags":["java","maven","intellij-idea","javafx","scenebuilder"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1701194989,"post_id":77566134,"comment_id":136744341,"body_markdown":"[Do not post images of text](https://meta.stackoverflow.com/q/285551/2189127)","body":"<a href=\"https://meta.stackoverflow.com/q/285551/2189127\">Do not post images of text</a>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1701195069,"post_id":77566134,"comment_id":136744353,"body_markdown":"When you post the code (as text, [correctly formatted](https://meta.stackoverflow.com/questions/251361/how-do-i-format-my-code-blocks)), include the relevant imports.","body":"When you post the code (as text, <a href=\"https://meta.stackoverflow.com/questions/251361/how-do-i-format-my-code-blocks\">correctly formatted</a>), include the relevant imports."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1701198179,"post_id":77566134,"comment_id":136744853,"body_markdown":"I don&#39;t recommend using `ea` early access versions.","body":"I don&#39;t recommend using <code>ea</code> early access versions."}],"owner":{"account_id":30015175,"reputation":1,"user_id":23001920,"display_name":"Lucav44"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701198153,"answer_count":0,"score":0,"last_activity_date":1701194528,"creation_date":1701194292,"question_id":77566134,"body_markdown":"I am currently starting to work with JavaFX using IntelliJIDEA and Maven.\r\nUntil now, everything worked out fine and I was able to use all the elements I needed.\r\n\r\nBut now I ran into a problem when I tried to add the MediaView element to play a video within my application interface. The element was displayed in SceneBuilder, but the MediaView class could not be accessed in my controller class: [screenshot](https://i.stack.imgur.com/r0LZA.png)\r\n\r\nAnd that even though I added the specific Maven dependency:\r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\r\n            &lt;version&gt;21-ea+24&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\nI tried searching in the internet, on youtube, I asked ChatGPT, tried it with making a new intelliJ project, I tried adding the javafx.media library manually into my Project Structure and even the whole JavaFX-Lib.\r\nAnd I also tried adding VM-options but I&#39;m honest with you, that I had no clue what I was doing there.\r\nSomeone even asked this question once on Stack overflow, but its solution did not help me.\r\n\r\nOh, and if it helps in any way, here is the exact error message in the console: [error-screenshot](https://i.stack.imgur.com/k6XL8.png)\r\nIt&#39;s german, but it&#39;s basically saying: &quot;symbol not found, symbol: class MediaView&quot;\r\n\r\n\r\nI am pretty new to all that informatics stuff and I would really appreciate it if someone has another suggestion for me.","title":"JavaFX error: class &#39;MediaView&#39; could not be found","body":"<p>I am currently starting to work with JavaFX using IntelliJIDEA and Maven.\nUntil now, everything worked out fine and I was able to use all the elements I needed.</p>\n<p>But now I ran into a problem when I tried to add the MediaView element to play a video within my application interface. The element was displayed in SceneBuilder, but the MediaView class could not be accessed in my controller class: <a href=\"https://i.stack.imgur.com/r0LZA.png\" rel=\"nofollow noreferrer\">screenshot</a></p>\n<p>And that even though I added the specific Maven dependency:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\n            &lt;version&gt;21-ea+24&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I tried searching in the internet, on youtube, I asked ChatGPT, tried it with making a new intelliJ project, I tried adding the javafx.media library manually into my Project Structure and even the whole JavaFX-Lib.\nAnd I also tried adding VM-options but I'm honest with you, that I had no clue what I was doing there.\nSomeone even asked this question once on Stack overflow, but its solution did not help me.</p>\n<p>Oh, and if it helps in any way, here is the exact error message in the console: <a href=\"https://i.stack.imgur.com/k6XL8.png\" rel=\"nofollow noreferrer\">error-screenshot</a>\nIt's german, but it's basically saying: &quot;symbol not found, symbol: class MediaView&quot;</p>\n<p>I am pretty new to all that informatics stuff and I would really appreciate it if someone has another suggestion for me.</p>\n"},{"tags":["java","excel","apache-poi"],"answers":[{"comments":[{"owner":{"account_id":378930,"reputation":44526,"user_id":731963,"accept_rate":99,"display_name":"Yugal Jindle"},"score":0,"creation_date":1312445510,"post_id":6937841,"comment_id":8268600,"body_markdown":"I already have the Macro in my file that I am editing. **I just want to execute the macro with Java POI !**","body":"I already have the Macro in my file that I am editing. <b>I just want to execute the macro with Java POI !</b>"},{"owner":{"account_id":910329,"reputation":1529,"user_id":944336,"accept_rate":90,"display_name":"parasietje"},"score":1,"creation_date":1343915354,"post_id":6937841,"comment_id":15644056,"body_markdown":"Please note that the current version of POI has support for regular Excel functions.","body":"Please note that the current version of POI has support for regular Excel functions."},{"owner":{"account_id":910329,"reputation":1529,"user_id":944336,"accept_rate":90,"display_name":"parasietje"},"score":0,"creation_date":1343915391,"post_id":6937841,"comment_id":15644086,"body_markdown":"And if you want to execute a VBA Macro, you will either have to use OpenOffice or Microsoft Excel. You can bind to OpenOffice using their UNO interface, and to Microsoft Excel using COM (see JACOB for a COM java library).","body":"And if you want to execute a VBA Macro, you will either have to use OpenOffice or Microsoft Excel. You can bind to OpenOffice using their UNO interface, and to Microsoft Excel using COM (see JACOB for a COM java library)."}],"tags":[],"owner":{"account_id":329656,"reputation":42009,"user_id":653298,"display_name":"Jacob"},"comment_count":3,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1312443803,"creation_date":1312443803,"answer_id":6937841,"question_id":6937777,"body_markdown":"I don&#39;t think this is possible. POI is a library to read/edit Office files, macros are a whole other beast. You would have to implement a Visual Basic for Applications Interpreter into POI to accomplish this. Macros that are already in your Excel workbook are preserved, but you cannot add new ones or call existing ones.","title":"How to call a Macro from Apache POI library in Java?","body":"<p>I don't think this is possible. POI is a library to read/edit Office files, macros are a whole other beast. You would have to implement a Visual Basic for Applications Interpreter into POI to accomplish this. Macros that are already in your Excel workbook are preserved, but you cannot add new ones or call existing ones.</p>\n"},{"comments":[{"owner":{"account_id":378930,"reputation":44526,"user_id":731963,"accept_rate":99,"display_name":"Yugal Jindle"},"score":0,"creation_date":1312445490,"post_id":6938016,"comment_id":8268595,"body_markdown":"I already have the Macro in my file that I am editing.\n**I just want to execute the macro with Java POI !**","body":"I already have the Macro in my file that I am editing. <b>I just want to execute the macro with Java POI !</b>"},{"owner":{"account_id":43080,"reputation":7567,"user_id":125750,"display_name":"Ben"},"score":19,"creation_date":1400498011,"post_id":6938016,"comment_id":36487450,"body_markdown":"Repeatedly stating your objective won&#39;t make it magically happen.","body":"Repeatedly stating your objective won&#39;t make it magically happen."}],"tags":[],"owner":{"account_id":227163,"reputation":711,"user_id":488656,"display_name":"ksimon"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1312444881,"creation_date":1312444881,"answer_id":6938016,"question_id":6937777,"body_markdown":"I think, you can&#39;t.\r\n\r\n&gt; Macros\r\n&gt; \r\n&gt; Macros can not be created. However, reading and re-writing files\r\n&gt; containing macros will safely preserve the macros.\r\n\r\n[Apache POI Limitations][1]\r\n\r\n\r\n  [1]: http://poi.apache.org/spreadsheet/limitations.html","title":"How to call a Macro from Apache POI library in Java?","body":"<p>I think, you can't.</p>\n\n<blockquote>\n  <p>Macros</p>\n  \n  <p>Macros can not be created. However, reading and re-writing files\n  containing macros will safely preserve the macros.</p>\n</blockquote>\n\n<p><a href=\"http://poi.apache.org/spreadsheet/limitations.html\" rel=\"noreferrer\">Apache POI Limitations</a></p>\n"},{"comments":[{"owner":{"account_id":938654,"reputation":621,"user_id":967130,"accept_rate":90,"display_name":"Eugene Hoza"},"score":3,"creation_date":1375274123,"post_id":12608065,"comment_id":26267933,"body_markdown":"Is it real helpful? Does anyone confirm this?","body":"Is it real helpful? Does anyone confirm this?"},{"owner":{"account_id":4247827,"reputation":226,"user_id":3475933,"display_name":"testuserx"},"score":10,"creation_date":1549276484,"post_id":12608065,"comment_id":95831548,"body_markdown":"damn, the number of null parameters gave me anxiety.","body":"damn, the number of null parameters gave me anxiety."}],"tags":[],"owner":{"account_id":250203,"reputation":139,"user_id":526769,"accept_rate":100,"display_name":"H&#225;llisson"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1348683901,"creation_date":1348683901,"answer_id":12608065,"question_id":6937777,"body_markdown":"You can use other tool like [com4j][1]. I created a POC just today and works like a charm. Just follow these steps:\r\n\r\n 1. Download the last version [here][2]\r\n 2. Using [Apache Ant][3] build the sample: **samples\\excel**\r\n 3. With the code generated by tlbimp (it is just a part of com4j), create a small app and write a code like:\r\n\r\n\t\t// Starts excel and open an existing workbook\r\n\t\t_Application app = ClassFactory.createApplication();\r\n\t\tapp.setVisible(0, true);\r\n\t\t_Workbook wb = app.getWorkbooks().open(&quot;c:\\\\test.xlsx&quot;, null, null, null, null, null, null, null,\r\n\t\t\t\tnull, null, null, null, null, null, null, 0);\r\n\r\n\t\t// run a macro\r\n\t\tVariant macro = new Variant(Variant.Type.VT_BSTR);\r\n\t\tmacro.set(&quot;my_macro&quot;);\r\n\t\twb.getApplication().run(macro, null, null, null, null, null, null, null, null, null, null, null,\r\n\t\t\t\tnull, null, null, null, null, null, null, null, null, null, null, null, null, null, null,\r\n\t\t\t\tnull, null, null, null);\r\n\r\n\t\t// Save the excel file and quit\r\n\t\tVariant saveBeforeExit = new Variant(Variant.Type.VT_BOOL);\r\n\t\tsaveBeforeExit.set(1);\r\n\t\twb.close(saveBeforeExit, Variant.getMissing(), Variant.getMissing(), 0);\r\n\t\tapp.quit();\r\n\r\n 4. Further examples: [com4j tutorials][4]\r\n\r\n\r\n  [1]: http://com4j.java.net\r\n  [2]: http://java.net/projects/com4j/downloads\r\n  [3]: http://ant.apache.org/\r\n  [4]: http://com4j.java.net/tutorial.html","title":"How to call a Macro from Apache POI library in Java?","body":"<p>You can use other tool like <a href=\"http://com4j.java.net\">com4j</a>. I created a POC just today and works like a charm. Just follow these steps:</p>\n\n<ol>\n<li>Download the last version <a href=\"http://java.net/projects/com4j/downloads\">here</a></li>\n<li>Using <a href=\"http://ant.apache.org/\">Apache Ant</a> build the sample: <strong>samples\\excel</strong></li>\n<li><p>With the code generated by tlbimp (it is just a part of com4j), create a small app and write a code like:</p>\n\n<pre><code>// Starts excel and open an existing workbook\n_Application app = ClassFactory.createApplication();\napp.setVisible(0, true);\n_Workbook wb = app.getWorkbooks().open(\"c:\\\\test.xlsx\", null, null, null, null, null, null, null,\n        null, null, null, null, null, null, null, 0);\n\n// run a macro\nVariant macro = new Variant(Variant.Type.VT_BSTR);\nmacro.set(\"my_macro\");\nwb.getApplication().run(macro, null, null, null, null, null, null, null, null, null, null, null,\n        null, null, null, null, null, null, null, null, null, null, null, null, null, null, null,\n        null, null, null, null);\n\n// Save the excel file and quit\nVariant saveBeforeExit = new Variant(Variant.Type.VT_BOOL);\nsaveBeforeExit.set(1);\nwb.close(saveBeforeExit, Variant.getMissing(), Variant.getMissing(), 0);\napp.quit();\n</code></pre></li>\n<li><p>Further examples: <a href=\"http://com4j.java.net/tutorial.html\">com4j tutorials</a></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19738270,"reputation":38,"user_id":14452233,"display_name":"Hercules270"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615197791,"creation_date":1615197791,"answer_id":66527779,"question_id":6937777,"body_markdown":"One little hacky way to do this is to make your macros **run automatically when the workbook is opened.** This can be done from vba in ThisWorkbook module.\r\nThen you can open excel with `Desktop.getDesktop().open(new File(filePath));` and with apache POI and FileInputStream just get the result of &#39;process&#39; . ","title":"How to call a Macro from Apache POI library in Java?","body":"<p>One little hacky way to do this is to make your macros <strong>run automatically when the workbook is opened.</strong> This can be done from vba in ThisWorkbook module.\nThen you can open excel with <code>Desktop.getDesktop().open(new File(filePath));</code> and with apache POI and FileInputStream just get the result of 'process' .</p>\n"}],"owner":{"account_id":378930,"reputation":44526,"user_id":731963,"accept_rate":99,"display_name":"Yugal Jindle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35900,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":6937841,"answer_count":4,"score":9,"last_activity_date":1701193419,"creation_date":1312443422,"question_id":6937777,"body_markdown":"I have : \n\n&gt; * Macro named &quot;process&quot; that does all the processing work for my worksheets.\n&gt;\n&gt; * I want my Java code that uses Apache POI, to call this macro so that it can process the sheets for me.\n&gt;\n&gt; * How can I call a Macro in Apache POI in Java ?\n\n**:: Note ::**\n\n&gt; * I am using `import org.apache.poi.ss.usermodel` in Apache POI.\n&gt;\n&gt; * Please, give sample code. (I am new to Apache POI and Java itself.)","title":"How to call a Macro from Apache POI library in Java?","body":"<p>I have :</p>\n<blockquote>\n<ul>\n<li><p>Macro named &quot;process&quot; that does all the processing work for my worksheets.</p>\n</li>\n<li><p>I want my Java code that uses Apache POI, to call this macro so that it can process the sheets for me.</p>\n</li>\n<li><p>How can I call a Macro in Apache POI in Java ?</p>\n</li>\n</ul>\n</blockquote>\n<p><strong>:: Note ::</strong></p>\n<blockquote>\n<ul>\n<li><p>I am using <code>import org.apache.poi.ss.usermodel</code> in Apache POI.</p>\n</li>\n<li><p>Please, give sample code. (I am new to Apache POI and Java itself.)</p>\n</li>\n</ul>\n</blockquote>\n"},{"tags":["java","mybatis"],"answers":[{"comments":[{"owner":{"account_id":9682089,"reputation":553,"user_id":7183399,"accept_rate":0,"display_name":"Mark Smith"},"score":0,"creation_date":1701253756,"post_id":77566007,"comment_id":136751881,"body_markdown":"Thanks for your input. I got your example working.\n\nUnfortenately there is a cascade of queries being fired to the database server.\n\nFor each item the properties are being queried (selectProperties) seperately.\n\nIs it possible to change the query selectItems to retrieve everything at once (join) and change the third constructor argument into something like:\n\n&lt;arg javaType=&quot;java.util.Collection&quot;\n      resultMap=&quot;mapProperties&quot; column=&quot;id&quot; /&gt;\n\nI tried this but it did not work. In stead of a Collection of items an item was being injected in the constructor.","body":"Thanks for your input. I got your example working.  Unfortenately there is a cascade of queries being fired to the database server.  For each item the properties are being queried (selectProperties) seperately.  Is it possible to change the query selectItems to retrieve everything at once (join) and change the third constructor argument into something like:  &lt;arg javaType=&quot;java.util.Collection&quot;       resultMap=&quot;mapProperties&quot; column=&quot;id&quot; /&gt;  I tried this but it did not work. In stead of a Collection of items an item was being injected in the constructor."},{"owner":{"account_id":9682089,"reputation":553,"user_id":7183399,"accept_rate":0,"display_name":"Mark Smith"},"score":0,"creation_date":1701253764,"post_id":77566007,"comment_id":136751883,"body_markdown":"This question is a spin of of another question of mine:\nhttps://stackoverflow.com/questions/77563582/mybatis-error-converting-result-into-java-records-with-an-association","body":"This question is a spin of of another question of mine: <a href=\"https://stackoverflow.com/questions/77563582/mybatis-error-converting-result-into-java-records-with-an-association\" title=\"mybatis error converting result into java records with an association\">stackoverflow.com/questions/77563582/&hellip;</a>"},{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1701260286,"post_id":77566007,"comment_id":136753103,"body_markdown":"No, it&#39;s not possible with records (or traditional immutable class). You may have to use POJOs instead. If you have written a JDBC program that maps JOINed result set, you would understand why it&#39;s difficult to instantiate immutable objects with collections.","body":"No, it&#39;s not possible with records (or traditional immutable class). You may have to use POJOs instead. If you have written a JDBC program that maps JOINed result set, you would understand why it&#39;s difficult to instantiate immutable objects with collections."}],"tags":[],"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701193059,"creation_date":1701193059,"answer_id":77566007,"question_id":77564975,"body_markdown":"Possible, but with limitations.  \r\n\r\nBecause records are immutable, [constructor-mapping](https://mybatis.org/mybatis-3/sqlmap-xml.html#constructor) must be used.  \r\nAnd, to pass a `Collection` to a constructor, you have to use [nested select](https://mybatis.org/mybatis-3/sqlmap-xml.html#nested-select-for-collection).  \r\nThis means that if you are trying to retrieve N parent records, N+1 SELECTs will be executed.\r\n\r\nIf the N+1 problem is a blocker, you may have to use POJOs and convert them into records in the service layer or in a default method of the mapper interface.\r\n\r\nHere is a simple example.  \r\nIf this is too simple to apply to your project, please add more details to the question.\r\n\r\n```sql\r\ncreate table item (\r\n  id int primary key,\r\n  name varchar(10)\r\n);\r\n\r\ncreate table prop (\r\n  id int primary key,\r\n  url varchar(100),\r\n  item_id int\r\n)\r\n```\r\n\r\n```java\r\n@Results(id = &quot;propertyRM&quot;)\r\n@Arg(id = true, column = &quot;id&quot;, javaType = int.class)\r\n@Arg(column = &quot;url&quot;, javaType = String.class)\r\n@Select(&quot;select id, url from prop where item_id = #{itemId}&quot;)\r\nCollection&lt;Property&gt; selectProperties(Integer itemId);\r\n\r\n@Arg(id = true, column = &quot;id&quot;, javaType = Integer.class)\r\n@Arg(javaType = Collection.class,  select = &quot;selectProperties&quot;, column = &quot;id&quot;)\r\n@Select(&quot;select id, name from item&quot;)\r\nList&lt;Item&gt; selectItems();\r\n```\r\n\r\nHere is an equivalent XML version:\r\n\r\n```xml\r\n&lt;resultMap id=&quot;propertyRM&quot; type=&quot;pkg.Property&quot;&gt;\r\n  &lt;constructor&gt;\r\n    &lt;idArg column=&quot;id&quot; javaType=&quot;int&quot; /&gt;\r\n    &lt;arg column=&quot;url&quot; javaType=&quot;string&quot; /&gt;\r\n  &lt;/constructor&gt;\r\n&lt;/resultMap&gt;\r\n\r\n&lt;resultMap id=&quot;itemRM&quot; type=&quot;pkg.Item&quot;&gt;\r\n  &lt;constructor&gt;\r\n    &lt;idArg column=&quot;id&quot; javaType=&quot;int&quot; /&gt;\r\n    &lt;arg column=&quot;name&quot; javaType=&quot;string&quot; /&gt;\r\n    &lt;arg javaType=&quot;java.util.Collection&quot;\r\n      select=&quot;selectProperties&quot; column=&quot;id&quot; /&gt;\r\n  &lt;/constructor&gt;\r\n&lt;/resultMap&gt;\r\n\r\n&lt;select id=&quot;selectProperties&quot; resultMap=&quot;propertyRM&quot;&gt;\r\n  select id, url from prop where item_id = #{itemId}\r\n&lt;/select&gt;\r\n\r\n&lt;select id=&quot;selectItems&quot; resultMap=&quot;itemRM&quot;&gt;\r\n  select id, name from prop\r\n&lt;/select&gt;\r\n```\r\n\r\nNote that the `Collection` passed to the constructor is mutable, so if you want &quot;deeply immutable&quot; records, you may have to implement the constructor explicitly.\r\n","title":"MyBatis yielding Java records","body":"<p>Possible, but with limitations.</p>\n<p>Because records are immutable, <a href=\"https://mybatis.org/mybatis-3/sqlmap-xml.html#constructor\" rel=\"nofollow noreferrer\">constructor-mapping</a> must be used.<br />\nAnd, to pass a <code>Collection</code> to a constructor, you have to use <a href=\"https://mybatis.org/mybatis-3/sqlmap-xml.html#nested-select-for-collection\" rel=\"nofollow noreferrer\">nested select</a>.<br />\nThis means that if you are trying to retrieve N parent records, N+1 SELECTs will be executed.</p>\n<p>If the N+1 problem is a blocker, you may have to use POJOs and convert them into records in the service layer or in a default method of the mapper interface.</p>\n<p>Here is a simple example.<br />\nIf this is too simple to apply to your project, please add more details to the question.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table item (\n  id int primary key,\n  name varchar(10)\n);\n\ncreate table prop (\n  id int primary key,\n  url varchar(100),\n  item_id int\n)\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Results(id = &quot;propertyRM&quot;)\n@Arg(id = true, column = &quot;id&quot;, javaType = int.class)\n@Arg(column = &quot;url&quot;, javaType = String.class)\n@Select(&quot;select id, url from prop where item_id = #{itemId}&quot;)\nCollection&lt;Property&gt; selectProperties(Integer itemId);\n\n@Arg(id = true, column = &quot;id&quot;, javaType = Integer.class)\n@Arg(javaType = Collection.class,  select = &quot;selectProperties&quot;, column = &quot;id&quot;)\n@Select(&quot;select id, name from item&quot;)\nList&lt;Item&gt; selectItems();\n</code></pre>\n<p>Here is an equivalent XML version:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;resultMap id=&quot;propertyRM&quot; type=&quot;pkg.Property&quot;&gt;\n  &lt;constructor&gt;\n    &lt;idArg column=&quot;id&quot; javaType=&quot;int&quot; /&gt;\n    &lt;arg column=&quot;url&quot; javaType=&quot;string&quot; /&gt;\n  &lt;/constructor&gt;\n&lt;/resultMap&gt;\n\n&lt;resultMap id=&quot;itemRM&quot; type=&quot;pkg.Item&quot;&gt;\n  &lt;constructor&gt;\n    &lt;idArg column=&quot;id&quot; javaType=&quot;int&quot; /&gt;\n    &lt;arg column=&quot;name&quot; javaType=&quot;string&quot; /&gt;\n    &lt;arg javaType=&quot;java.util.Collection&quot;\n      select=&quot;selectProperties&quot; column=&quot;id&quot; /&gt;\n  &lt;/constructor&gt;\n&lt;/resultMap&gt;\n\n&lt;select id=&quot;selectProperties&quot; resultMap=&quot;propertyRM&quot;&gt;\n  select id, url from prop where item_id = #{itemId}\n&lt;/select&gt;\n\n&lt;select id=&quot;selectItems&quot; resultMap=&quot;itemRM&quot;&gt;\n  select id, name from prop\n&lt;/select&gt;\n</code></pre>\n<p>Note that the <code>Collection</code> passed to the constructor is mutable, so if you want &quot;deeply immutable&quot; records, you may have to implement the constructor explicitly.</p>\n"}],"owner":{"account_id":9682089,"reputation":553,"user_id":7183399,"accept_rate":0,"display_name":"Mark Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701193059,"creation_date":1701184259,"question_id":77564975,"body_markdown":"I am moving from Java Pojo&#39;s to Java records using MyBatis.\r\nIs it possible in MyBatis to create a Java record which has a field of type collection?\r\nHow should the resultMap be defined?","title":"MyBatis yielding Java records","body":"<p>I am moving from Java Pojo's to Java records using MyBatis.\nIs it possible in MyBatis to create a Java record which has a field of type collection?\nHow should the resultMap be defined?</p>\n"},{"tags":["java","spring-boot","webserver","undertow"],"owner":{"account_id":5800442,"reputation":1,"user_id":4574772,"display_name":"Seyda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701192985,"creation_date":1701192985,"question_id":77566000,"body_markdown":"I am adding **https-listener** to the webserver with a customize method as below.When starting the webserver, it adds **http-listener** with port 8080 by default.How can I prevent it from adding http-listener?\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n      @Bean\r\n        public WebServerFactoryCustomizer&lt;UndertowServletWebServerFactory&gt; containerCustomizer() {\r\n            return (WebServerFactoryCustomizer) factory -&gt; {\r\n                UndertowServletWebServerFactory undertowFactory = (UndertowServletWebServerFactory) factory;\r\n                undertowFactory.addDeploymentInfoCustomizers(new ContextSecurityCustomizer());\r\n\r\n                undertowFactory.getBuilderCustomizers().add(builder -&gt; {\r\n                    try {\r\n                        builder.addHttpsListener(serverPort, httpInterface, getSSLContext());\r\n                        builder.setServerOption(UndertowOptions.ENABLE_HTTP2,true);\r\n                    } catch (Exception e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                });\r\n\r\n            };\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to remove default http-listener on spring boot embedded undertow","body":"<p>I am adding <strong>https-listener</strong> to the webserver with a customize method as below.When starting the webserver, it adds <strong>http-listener</strong> with port 8080 by default.How can I prevent it from adding http-listener?</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>  @Bean\n    public WebServerFactoryCustomizer&lt;UndertowServletWebServerFactory&gt; containerCustomizer() {\n        return (WebServerFactoryCustomizer) factory -&gt; {\n            UndertowServletWebServerFactory undertowFactory = (UndertowServletWebServerFactory) factory;\n            undertowFactory.addDeploymentInfoCustomizers(new ContextSecurityCustomizer());\n\n            undertowFactory.getBuilderCustomizers().add(builder -&gt; {\n                try {\n                    builder.addHttpsListener(serverPort, httpInterface, getSSLContext());\n                    builder.setServerOption(UndertowOptions.ENABLE_HTTP2,true);\n                } catch (Exception e) {\n                    throw new RuntimeException(e);\n                }\n            });\n\n        };\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","performance","parallel-processing","single-threaded"],"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1494755929,"post_id":43962529,"comment_id":74955530,"body_markdown":"threads share memory. using threads simplifies using blocking operations.","body":"threads share memory. using threads simplifies using blocking operations."}],"answers":[{"comments":[{"owner":{"account_id":9361683,"reputation":301,"user_id":6947816,"accept_rate":83,"display_name":"RabbitBones22"},"score":0,"creation_date":1494827500,"post_id":43962621,"comment_id":74974477,"body_markdown":"Ah! I/O is all data movement, that really clears things up. I really understand it now!","body":"Ah! I/O is all data movement, that really clears things up. I really understand it now!"},{"owner":{"account_id":2063259,"reputation":12403,"user_id":1839360,"display_name":"Yan Khonski"},"score":0,"creation_date":1494947663,"post_id":43962621,"comment_id":75038917,"body_markdown":"How about a simple code demo - to see cases when performance is improved. I would appreciate a link to github.","body":"How about a simple code demo - to see cases when performance is improved. I would appreciate a link to github."},{"owner":{"account_id":4968467,"reputation":811,"user_id":3997040,"display_name":"bitbyter"},"score":0,"creation_date":1566807994,"post_id":43962621,"comment_id":101758389,"body_markdown":"Thanks for an explanation. I have one doubt: Suppose my process does only CPU intensive calculations (for instance, incrementing a counter thread-safely). So won&#39;t my process have a higher percentage of `CPU share` with multiple threads, thereby increasing the total throughput?","body":"Thanks for an explanation. I have one doubt: Suppose my process does only CPU intensive calculations (for instance, incrementing a counter thread-safely). So won&#39;t my process have a higher percentage of <code>CPU share</code> with multiple threads, thereby increasing the total throughput?"},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":1,"creation_date":1566935028,"post_id":43962621,"comment_id":101809179,"body_markdown":"Your question requires a very complex answer.  First of all, incrementing a counter thread-safely is not necessarily CPU intensive; it involves locking and therefore it requires cross-thread synchronization, which means that while one thread has access to the counter, all other threads are waiting doing nothing.","body":"Your question requires a very complex answer.  First of all, incrementing a counter thread-safely is not necessarily CPU intensive; it involves locking and therefore it requires cross-thread synchronization, which means that while one thread has access to the counter, all other threads are waiting doing nothing."},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":1,"creation_date":1566935042,"post_id":43962621,"comment_id":101809181,"body_markdown":"But set that aside.  Secondly, from a global system point of view, throughput is not increased; a single process is just trying to be greedy at the expense of others.  But since the CPUs are limited, it is a zero-sum game. Furthermore, this process may or may not accomplish its goal, depending on the policy of the operating system&#39;s scheduler, which may and may not give this process a larger share of CPU time.","body":"But set that aside.  Secondly, from a global system point of view, throughput is not increased; a single process is just trying to be greedy at the expense of others.  But since the CPUs are limited, it is a zero-sum game. Furthermore, this process may or may not accomplish its goal, depending on the policy of the operating system&#39;s scheduler, which may and may not give this process a larger share of CPU time."},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":1,"creation_date":1566935048,"post_id":43962621,"comment_id":101809184,"body_markdown":"Finally, the total throughput will **not** be increased if all threads simply take turns thread-safely incrementing the same counter; on the contrary, throughput will severely suffer.  Total throughput will only increase if each thread is incrementing its very own counter.","body":"Finally, the total throughput will <b>not</b> be increased if all threads simply take turns thread-safely incrementing the same counter; on the contrary, throughput will severely suffer.  Total throughput will only increase if each thread is incrementing its very own counter."}],"tags":[],"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"comment_count":6,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1701192212,"creation_date":1494755988,"answer_id":43962621,"question_id":43962529,"body_markdown":"Having multiple threads on a single-core CPU can improve performance in the majority of cases, because in the majority of cases a thread is not busy doing computations, it is waiting for things to happen.\r\n\r\nThis includes I/O, such as waiting for a disk operation to complete, waiting for the user to press a key on the keyboard or move a mouse, etc., and even some non-I/O situations, such as waiting for a different thread to signal that an event has occurred, waiting for a timer to fire, etc.\r\n\r\nSo, since threads spend the vast majority of their time doing nothing but waiting, they compete against each other for the CPU far less frequently than you might think. \r\n\r\nThat&#39;s why if you look at the number of active threads in a modern desktop computer you are likely to see hundreds of threads, and if you look at a server, you are likely to see thousands of threads. That&#39;s clearly a lot more than the number of cores that the computer has, and obviously, it would not be done if there was no benefit from it.\r\n\r\nThe only situation where multiple threads on a single core will not improve performance is when the threads are busy doing non-stop computations. This tends to only happen in specialized situations, like scientific computing, cryptocurrency mining, etc.\r\n\r\nSo, multiple threads on a single-core system do usually increase performance, but this has very little to do with memory, and to the extent that it does, it has nothing to do with any notion of &quot;separated&quot; memory, whatever you mean by that term.\r\n\r\nAs a matter of fact, running multiple threads on the same core or even different cores on the same chip that mostly access different areas of memory tends to *hurt* performance, because each time the CPU switches from one thread to the other it begins to access a different set of memory locations, which are unlikely to be in the CPU&#39;s cache, so each context switch tends to be followed by a barrage of cache misses, which represent overhead. But usually, it is still worth it.","title":"Can having multiple threads on a single core system still improve performance?","body":"<p>Having multiple threads on a single-core CPU can improve performance in the majority of cases, because in the majority of cases a thread is not busy doing computations, it is waiting for things to happen.</p>\n<p>This includes I/O, such as waiting for a disk operation to complete, waiting for the user to press a key on the keyboard or move a mouse, etc., and even some non-I/O situations, such as waiting for a different thread to signal that an event has occurred, waiting for a timer to fire, etc.</p>\n<p>So, since threads spend the vast majority of their time doing nothing but waiting, they compete against each other for the CPU far less frequently than you might think.</p>\n<p>That's why if you look at the number of active threads in a modern desktop computer you are likely to see hundreds of threads, and if you look at a server, you are likely to see thousands of threads. That's clearly a lot more than the number of cores that the computer has, and obviously, it would not be done if there was no benefit from it.</p>\n<p>The only situation where multiple threads on a single core will not improve performance is when the threads are busy doing non-stop computations. This tends to only happen in specialized situations, like scientific computing, cryptocurrency mining, etc.</p>\n<p>So, multiple threads on a single-core system do usually increase performance, but this has very little to do with memory, and to the extent that it does, it has nothing to do with any notion of &quot;separated&quot; memory, whatever you mean by that term.</p>\n<p>As a matter of fact, running multiple threads on the same core or even different cores on the same chip that mostly access different areas of memory tends to <em>hurt</em> performance, because each time the CPU switches from one thread to the other it begins to access a different set of memory locations, which are unlikely to be in the CPU's cache, so each context switch tends to be followed by a barrage of cache misses, which represent overhead. But usually, it is still worth it.</p>\n"}],"owner":{"account_id":9361683,"reputation":301,"user_id":6947816,"accept_rate":83,"display_name":"RabbitBones22"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4085,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":43962621,"answer_count":1,"score":8,"last_activity_date":1701192212,"creation_date":1494755276,"question_id":43962529,"body_markdown":"I just learned the basics of parallel-processing in Java.\r\nI read this question: https://stackoverflow.com/questions/47703/multiple-threads-and-performance-on-a-single-cpu and wondered if there is not another reason why multiple threads might be faster than single thread on a single-core system.\r\nI was thinking about how every thread has it&#39;s own piece of memory which it uses. \r\nImagine in Java that FXML was part of the main thread. This would likely increase the size of the main threads&#39; memory and in turn this may slow down the thread because it has to load more values on the swap or worse, has to make more calls to the memory (I think the current threads&#39; values are copied to cache).\r\n\r\nTo sum it up, can making multiple threads on a single-core system increase performance due to the seperated memory?","title":"Can having multiple threads on a single core system still improve performance?","body":"<p>I just learned the basics of parallel-processing in Java.\nI read this question: <a href=\"https://stackoverflow.com/questions/47703/multiple-threads-and-performance-on-a-single-cpu\">Multiple threads and performance on a single CPU</a> and wondered if there is not another reason why multiple threads might be faster than single thread on a single-core system.\nI was thinking about how every thread has it's own piece of memory which it uses. \nImagine in Java that FXML was part of the main thread. This would likely increase the size of the main threads' memory and in turn this may slow down the thread because it has to load more values on the swap or worse, has to make more calls to the memory (I think the current threads' values are copied to cache).</p>\n\n<p>To sum it up, can making multiple threads on a single-core system increase performance due to the seperated memory?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":2,"creation_date":1701164375,"post_id":77562680,"comment_id":136738454,"body_markdown":"When running in parallel it should still be thread safe? The underlying internal implementation of blockingqueues uses reentrantlocks which should prevent the methods from executing at the same time","body":"When running in parallel it should still be thread safe? The underlying internal implementation of blockingqueues uses reentrantlocks which should prevent the methods from executing at the same time"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":5,"creation_date":1701164624,"post_id":77562680,"comment_id":136738504,"body_markdown":"The javadoc says _the behavior of this operation is undefined if **the specified collection** is modified while the operation is in progress_. The specified collection is the collection that is passed as argument. If it would mean the blocking queue it would say _if this blocking queue is modified_.","body":"The javadoc says <i>the behavior of this operation is undefined if <b>the specified collection</b> is modified while the operation is in progress</i>. The specified collection is the collection that is passed as argument. If it would mean the blocking queue it would say <i>if this blocking queue is modified</i>."},{"owner":{"account_id":2154438,"reputation":181,"user_id":1909995,"display_name":"Ghost93"},"score":1,"creation_date":1701167069,"post_id":77562680,"comment_id":136738935,"body_markdown":"Looking at the implementation of `LinkedBlockingDeque`, looks like both methods `add` and `drainTo` use the same lock, so in theory it shouldn&#39;t fail when you use them in parallel. Take a look on your desired implementation source code.","body":"Looking at the implementation of <code>LinkedBlockingDeque</code>, looks like both methods <code>add</code> and <code>drainTo</code> use the same lock, so in theory it shouldn&#39;t fail when you use them in parallel. Take a look on your desired implementation source code."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1701176519,"post_id":77562680,"comment_id":136740584,"body_markdown":"There is no such thing as being “separately thread safe”. Being thread safe implies that calling them from different threads, potentially at the same time, is permitted. Otherwise, it wouldn’t be thread safe. As Thomas Kl&#228;ger said, this statement is not referring to the blocking queue. Read again, especially the phrase “*to add elements to collection c*”. Collection `c` is not the blocking queue.","body":"There is no such thing as being “separately thread safe”. Being thread safe implies that calling them from different threads, potentially at the same time, is permitted. Otherwise, it wouldn’t be thread safe. As Thomas Kl&#228;ger said, this statement is not referring to the blocking queue. Read again, especially the phrase “<i>to add elements to collection c</i>”. Collection <code>c</code> is not the blocking queue."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701191704,"creation_date":1701191704,"answer_id":77565862,"question_id":77562680,"body_markdown":"# Doc refers to sink, not source\r\n\r\nYou’ve misread the documentation. \r\n\r\nThe “given collection” is the destination collection into which you are draining elements, not the queue from which you are draining. \r\n\r\nSo you are responsible for:\r\n\r\n - Verifying that your “given collection” (the sink) can accept the elements being drained from the queue (the source). \r\n - Ensuring your “given collection” (the sink) is not modified during the draining.  \r\n\r\nSince `BlockingQueue` is documented as being thread-safe, you can add and drain at the same time across threads. \r\n","title":"BlockingQueue drainTo and add - multithreading","body":"<h1>Doc refers to sink, not source</h1>\n<p>You’ve misread the documentation.</p>\n<p>The “given collection” is the destination collection into which you are draining elements, not the queue from which you are draining.</p>\n<p>So you are responsible for:</p>\n<ul>\n<li>Verifying that your “given collection” (the sink) can accept the elements being drained from the queue (the source).</li>\n<li>Ensuring your “given collection” (the sink) is not modified during the draining.</li>\n</ul>\n<p>Since <code>BlockingQueue</code> is documented as being thread-safe, you can add and drain at the same time across threads.</p>\n"}],"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77565862,"answer_count":1,"score":0,"last_activity_date":1701191704,"creation_date":1701163798,"question_id":77562680,"body_markdown":"I have the following case:\r\n - Multiple threads are calling, regularly, the `add(E e)` function.\r\n - A thread which runs at every second and call `int drainTo(Collection&lt;? super E&gt; c)`.\r\n\r\nAs I have read about, that `add` and `drain-To`, separately, are thread-safe. But I am not sure in the case when are running in parallel.\r\n\r\nI docs, about `drainTo` is saying this: \r\n\r\n&gt; Removes all available elements from this queue and adds them to the given collection. This operation may be more efficient than repeatedly polling this queue. **A failure encountered while attempting to add elements to collection c may result in elements being in neither, either or both collections when the associated exception is thrown.** Attempts to drain a queue to itself result in IllegalArgumentException. Further, the behavior of this operation is undefined if the specified collection is modified while the operation is in progress.\r\n\r\nWhat I understand from here is that using `add` during `drainTo` will result in failure.\r\n\r\nI am understanding it right? If yes, can someone suggest me a solution for my case?","title":"BlockingQueue drainTo and add - multithreading","body":"<p>I have the following case:</p>\n<ul>\n<li>Multiple threads are calling, regularly, the <code>add(E e)</code> function.</li>\n<li>A thread which runs at every second and call <code>int drainTo(Collection&lt;? super E&gt; c)</code>.</li>\n</ul>\n<p>As I have read about, that <code>add</code> and <code>drain-To</code>, separately, are thread-safe. But I am not sure in the case when are running in parallel.</p>\n<p>I docs, about <code>drainTo</code> is saying this:</p>\n<blockquote>\n<p>Removes all available elements from this queue and adds them to the given collection. This operation may be more efficient than repeatedly polling this queue. <strong>A failure encountered while attempting to add elements to collection c may result in elements being in neither, either or both collections when the associated exception is thrown.</strong> Attempts to drain a queue to itself result in IllegalArgumentException. Further, the behavior of this operation is undefined if the specified collection is modified while the operation is in progress.</p>\n</blockquote>\n<p>What I understand from here is that using <code>add</code> during <code>drainTo</code> will result in failure.</p>\n<p>I am understanding it right? If yes, can someone suggest me a solution for my case?</p>\n"},{"tags":["java","nullpointerexception"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":2,"creation_date":1701190069,"post_id":77565660,"comment_id":136743395,"body_markdown":"If you know what variable/field having a Null value is causing the problem, you can set a watchpoint on it to see when it gets changed to Null.","body":"If you know what variable/field having a Null value is causing the problem, you can set a watchpoint on it to see when it gets changed to Null."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1701192105,"post_id":77565660,"comment_id":136743873,"body_markdown":"You&#39;re going to have to [show that code](/help/how-to-ask), though. Show the stack trace, and show the code where things go wrong. We can&#39;t tell you what to use if we don&#39;t know what you&#39;re already using. The universal &quot;how do I find out what&#39;s wrong&quot; is by running your code in debug mode, watching variables, and setting breakpoints, working backwards form where your error gets thrown, which is only the final symptom of your problem, to the place where your data takes on a form that will eventually lead to that error, which is what needs fixing.","body":"You&#39;re going to have to <a href=\"/help/how-to-ask\">show that code</a>, though. Show the stack trace, and show the code where things go wrong. We can&#39;t tell you what to use if we don&#39;t know what you&#39;re already using. The universal &quot;how do I find out what&#39;s wrong&quot; is by running your code in debug mode, watching variables, and setting breakpoints, working backwards form where your error gets thrown, which is only the final symptom of your problem, to the place where your data takes on a form that will eventually lead to that error, which is what needs fixing."},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":1,"creation_date":1701192844,"post_id":77565660,"comment_id":136744007,"body_markdown":"Unless you are using an old java version the actual exception tells you what exactly was null (variable names and which object out of it is null) and exactly where the error was, the line number of your code. So read the exception message.","body":"Unless you are using an old java version the actual exception tells you what exactly was null (variable names and which object out of it is null) and exactly where the error was, the line number of your code. So read the exception message."}],"owner":{"account_id":29991893,"reputation":5,"user_id":22984338,"display_name":"Mohammad Thafheem K"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1701195158,"answer_count":0,"score":-2,"last_activity_date":1701191668,"creation_date":1701189693,"question_id":77565660,"body_markdown":"I&#39;ve encountered a &#39;NullPointerException&#39; in my Java code. The error arises during runtime, and I&#39;m unsure about the specific part of my code causing this issue. I&#39;ve checked my variables, but I can&#39;t pinpoint where the null value is coming from. Can you provide guidance on a systematic approach to troubleshoot and resolve this &#39;NullPointerException&#39;? Any insights on common pitfalls or debugging techniques would be greatly appreciated.\r\n\r\nI reviewed the stack trace to identify the line in my Java code where the &#39;NullPointerException&#39; occurs. I examined the variables used in that line, checking for uninitialized objects or variables with &#39;null&#39; values. Additionally, I carefully inspected recent changes in my code to see if any modifications introduced this issue.\r\nI attempted to use conditional checks before accessing objects or invoking methods to prevent the &#39;NullPointerException&#39;. I also considered using &#39;Objects.requireNonNull&#39; for explicit null checks.\r\n\r\nI used debugging tools in my IDE to step through the code and inspect variable values during runtime. Furthermore, I added logging statements at critical points to trace the flow of the program.\r\n\r\nDespite these efforts, I haven&#39;t been able to pinpoint the exact source of the null value or resolve the &#39;NullPointerException&#39; issue. Any further guidance on effective debugging strategies or common pitfalls would be appreciated.\r\n\r\n","title":"I&#39;m getting a &#39;NullPointerException&#39; in my Java code. Any ideas on how to troubleshoot this?","body":"<p>I've encountered a 'NullPointerException' in my Java code. The error arises during runtime, and I'm unsure about the specific part of my code causing this issue. I've checked my variables, but I can't pinpoint where the null value is coming from. Can you provide guidance on a systematic approach to troubleshoot and resolve this 'NullPointerException'? Any insights on common pitfalls or debugging techniques would be greatly appreciated.</p>\n<p>I reviewed the stack trace to identify the line in my Java code where the 'NullPointerException' occurs. I examined the variables used in that line, checking for uninitialized objects or variables with 'null' values. Additionally, I carefully inspected recent changes in my code to see if any modifications introduced this issue.\nI attempted to use conditional checks before accessing objects or invoking methods to prevent the 'NullPointerException'. I also considered using 'Objects.requireNonNull' for explicit null checks.</p>\n<p>I used debugging tools in my IDE to step through the code and inspect variable values during runtime. Furthermore, I added logging statements at critical points to trace the flow of the program.</p>\n<p>Despite these efforts, I haven't been able to pinpoint the exact source of the null value or resolve the 'NullPointerException' issue. Any further guidance on effective debugging strategies or common pitfalls would be appreciated.</p>\n"},{"tags":["java","zimbra"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1701190973,"post_id":77565777,"comment_id":136743619,"body_markdown":"Find the JAR containing com.zimbra.cs.account.callback.EventLoggerCallback and add it to your CLASSPATH.  The JVM class loader cannot find it.","body":"Find the JAR containing com.zimbra.cs.account.callback.EventLoggerCallback and add it to your CLASSPATH.  The JVM class loader cannot find it."},{"owner":{"account_id":10222974,"reputation":7,"user_id":7546582,"display_name":"Log Edge"},"score":0,"creation_date":1701191347,"post_id":77565777,"comment_id":136743718,"body_markdown":"thanks alot but... how can i so this?","body":"thanks alot but... how can i so this?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1701214562,"post_id":77565777,"comment_id":136747320,"body_markdown":"Step 1: Find the JAR that has the missing class.  I found Zimbra JARs at Maven Central.  They look rather old - 2011.  https://mvnrepository.com/artifact/com.zimbra","body":"Step 1: Find the JAR that has the missing class.  I found Zimbra JARs at Maven Central.  They look rather old - 2011.  <a href=\"https://mvnrepository.com/artifact/com.zimbra\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.zimbra</a>"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1701214604,"post_id":77565777,"comment_id":136747328,"body_markdown":"Step 2: Add that JAR to your Maven or Gradle dependencies.  If you aren&#39;t using Maven or Gradle, you have to download the JAR with your class and add it to your CLASSPATH or application package.","body":"Step 2: Add that JAR to your Maven or Gradle dependencies.  If you aren&#39;t using Maven or Gradle, you have to download the JAR with your class and add it to your CLASSPATH or application package."}],"owner":{"account_id":10222974,"reputation":7,"user_id":7546582,"display_name":"Log Edge"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701190825,"creation_date":1701190825,"question_id":77565777,"body_markdown":"After installing last patch on zimbra 10 FOSS i&#39;m getting warn on every zmprov request:\r\n\r\n    2023-11-28 19:52:40,943 [main] WARN : loadCallback caught exception\r\n    java.lang.ClassNotFoundException: com.zimbra.cs.account.callback.EventLoggerCallback\r\n            at jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[?:?]\r\n            at jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[?:?]\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\r\n            at java.lang.Class.forName0(Native Method) ~[?:?]\r\n            at java.lang.Class.forName(Class.java:375) ~[?:?]\r\n            at com.zimbra.cs.account.AttributeManager.loadCallback(AttributeManager.java:1307) [zimbrastore.jar:10.0.5_GA_4574]\r\n            at com.zimbra.cs.account.AttributeManager.loadAttrs(AttributeManager.java:432) [zimbrastore.jar:10.0.5_GA_4574]\r\n            at com.zimbra.cs.account.AttributeManager.&lt;init&gt;(AttributeManager.java:300) [zimbrastore.jar:10.0.5_GA_4574]\r\n            at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:?]\r\n            at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) [?:?]\r\n            at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) [?:?]\r\n            at java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) [?:?]\r\n            at java.lang.reflect.Constructor.newInstance(Constructor.java:480) [?:?]\r\n            at com.zimbra.cs.account.AttributeManager.getInstance(AttributeManager.java:188) [zimbrastore.jar:10.0.5_GA_4574]\r\n            at com.zimbra.cs.account.Entry.setAttributeManager(Entry.java:140) [zimbrastore.jar:10.0.5_GA_4574]\r\n            at com.zimbra.cs.account.Entry.&lt;init&gt;(Entry.java:117) [zimbrastore.jar:10.0.5_GA_4574]\r\n            at com.zimbra.cs.account.NamedEntry.&lt;init&gt;(NamedEntry.java:43) [zimbrastore.jar:10.0.5_GA_4574]\r\n            at com.zimbra.cs.account.ZAttrServer.&lt;init&gt;(ZAttrServer.java:44) [zimbrastore.jar:10.0.5_GA_4574]\r\n            at com.zimbra.cs.account.Server.&lt;init&gt;(Server.java:38) [zimbrastore.jar:10.0.5_GA_4574]\r\n            at com.zimbra.cs.account.soap.SoapServer.&lt;init&gt;(SoapServer.java:40) [zimbrastore.jar:10.0.5_GA_4574]\r\n            at com.zimbra.cs.account.soap.SoapProvisioning.getAllServers(SoapProvisioning.java:1518) [zimbrastore.jar:10.0.5_GA_4574]\r\n            at com.zimbra.cs.account.ProvUtil.doGetAllServers(ProvUtil.java:3076) [zimbrastore.jar:10.0.5_GA_4574]\r\n            at com.zimbra.cs.account.ProvUtil.execute(ProvUtil.java:1230) [zimbrastore.jar:10.0.5_GA_4574]\r\n            at com.zimbra.cs.account.ProvUtil.interactive(ProvUtil.java:3913) [zimbrastore.jar:10.0.5_GA_4574]\r\n            at com.zimbra.cs.account.ProvUtil.main(ProvUtil.java:4163) [zimbrastore.jar:10.0.5_GA_4574]\r\n\r\nHow I can get rid of this?","title":"Zimbra 10 ClassNotFound exception","body":"<p>After installing last patch on zimbra 10 FOSS i'm getting warn on every zmprov request:</p>\n<pre><code>2023-11-28 19:52:40,943 [main] WARN : loadCallback caught exception\njava.lang.ClassNotFoundException: com.zimbra.cs.account.callback.EventLoggerCallback\n        at jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[?:?]\n        at jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[?:?]\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\n        at java.lang.Class.forName0(Native Method) ~[?:?]\n        at java.lang.Class.forName(Class.java:375) ~[?:?]\n        at com.zimbra.cs.account.AttributeManager.loadCallback(AttributeManager.java:1307) [zimbrastore.jar:10.0.5_GA_4574]\n        at com.zimbra.cs.account.AttributeManager.loadAttrs(AttributeManager.java:432) [zimbrastore.jar:10.0.5_GA_4574]\n        at com.zimbra.cs.account.AttributeManager.&lt;init&gt;(AttributeManager.java:300) [zimbrastore.jar:10.0.5_GA_4574]\n        at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:?]\n        at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) [?:?]\n        at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) [?:?]\n        at java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) [?:?]\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:480) [?:?]\n        at com.zimbra.cs.account.AttributeManager.getInstance(AttributeManager.java:188) [zimbrastore.jar:10.0.5_GA_4574]\n        at com.zimbra.cs.account.Entry.setAttributeManager(Entry.java:140) [zimbrastore.jar:10.0.5_GA_4574]\n        at com.zimbra.cs.account.Entry.&lt;init&gt;(Entry.java:117) [zimbrastore.jar:10.0.5_GA_4574]\n        at com.zimbra.cs.account.NamedEntry.&lt;init&gt;(NamedEntry.java:43) [zimbrastore.jar:10.0.5_GA_4574]\n        at com.zimbra.cs.account.ZAttrServer.&lt;init&gt;(ZAttrServer.java:44) [zimbrastore.jar:10.0.5_GA_4574]\n        at com.zimbra.cs.account.Server.&lt;init&gt;(Server.java:38) [zimbrastore.jar:10.0.5_GA_4574]\n        at com.zimbra.cs.account.soap.SoapServer.&lt;init&gt;(SoapServer.java:40) [zimbrastore.jar:10.0.5_GA_4574]\n        at com.zimbra.cs.account.soap.SoapProvisioning.getAllServers(SoapProvisioning.java:1518) [zimbrastore.jar:10.0.5_GA_4574]\n        at com.zimbra.cs.account.ProvUtil.doGetAllServers(ProvUtil.java:3076) [zimbrastore.jar:10.0.5_GA_4574]\n        at com.zimbra.cs.account.ProvUtil.execute(ProvUtil.java:1230) [zimbrastore.jar:10.0.5_GA_4574]\n        at com.zimbra.cs.account.ProvUtil.interactive(ProvUtil.java:3913) [zimbrastore.jar:10.0.5_GA_4574]\n        at com.zimbra.cs.account.ProvUtil.main(ProvUtil.java:4163) [zimbrastore.jar:10.0.5_GA_4574]\n</code></pre>\n<p>How I can get rid of this?</p>\n"},{"tags":["java","spring-boot","h2","spring-data-jdbc"],"answers":[{"comments":[{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1701178018,"post_id":77564034,"comment_id":136740885,"body_markdown":"It doesn&#39;t look like the OP is using Hibernate or even JPA, but Spring Data JDBC.","body":"It doesn&#39;t look like the OP is using Hibernate or even JPA, but Spring Data JDBC."}],"tags":[],"owner":{"account_id":6203035,"reputation":82,"user_id":4832118,"display_name":"mohsen_true"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701175788,"creation_date":1701175788,"answer_id":77564034,"question_id":77563505,"body_markdown":"This code snippet has some problems. Do this:\r\n&lt;br&gt;1- if you use &quot;hibernate.cfg.xml&quot; for your hibernate configurations add this property : \r\n\r\n    &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\r\n\r\nor if you use annotations instead of xml , add appropriate annotation for table definition in hibernate.\r\n&lt;br&gt;2-add a field to this class for serving as the id of the class, like this: \r\n\r\n  \r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\nit is better not to use this: \r\n\r\n    private Integer author;","title":"Java spring data jdbc. JdbcSQLSyntaxErrorException when using annotation @Table","body":"<p>This code snippet has some problems. Do this:\n<br>1- if you use &quot;hibernate.cfg.xml&quot; for your hibernate configurations add this property :</p>\n<pre><code>&lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\n</code></pre>\n<p>or if you use annotations instead of xml , add appropriate annotation for table definition in hibernate.\n<br>2-add a field to this class for serving as the id of the class, like this:</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Long id;\n</code></pre>\n<p>it is better not to use this:</p>\n<pre><code>private Integer author;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701177979,"creation_date":1701177979,"answer_id":77564255,"question_id":77563505,"body_markdown":"When you specify a table name in `@Table` that name is case sensitive. It has to match exactly what you use in the database.\r\nMost databases when default to all upper case which is also the ISO standard. This is why you see `BOOK_AUTHOR` as a candidate.\r\n\r\nYou have two main options:\r\n\r\nQuote the table name in the schema script and use it exactly as in the `@Table` annotation: `create table &quot;Book_Author&quot; ...`\r\n\r\nAlternatively use all caps in the annotation. That would be  `@Table(&quot;BOOK_AUTHOR&quot;)`\r\n\r\nThe same principle applies for columns including those specified in `@MappedCollection`.\r\n\r\nSee https://stackoverflow.com/questions/10789994/make-h2-treat-quoted-name-and-unquoted-name-as-the-same for details about case sensitivity of H2.","title":"Java spring data jdbc. JdbcSQLSyntaxErrorException when using annotation @Table","body":"<p>When you specify a table name in <code>@Table</code> that name is case sensitive. It has to match exactly what you use in the database.\nMost databases when default to all upper case which is also the ISO standard. This is why you see <code>BOOK_AUTHOR</code> as a candidate.</p>\n<p>You have two main options:</p>\n<p>Quote the table name in the schema script and use it exactly as in the <code>@Table</code> annotation: <code>create table &quot;Book_Author&quot; ...</code></p>\n<p>Alternatively use all caps in the annotation. That would be  <code>@Table(&quot;BOOK_AUTHOR&quot;)</code></p>\n<p>The same principle applies for columns including those specified in <code>@MappedCollection</code>.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/10789994/make-h2-treat-quoted-name-and-unquoted-name-as-the-same\">Make H2 treat quoted name and unquoted name as the same</a> for details about case sensitivity of H2.</p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701188452,"creation_date":1701188452,"answer_id":77565504,"question_id":77563505,"body_markdown":"The table name is *unquated*. It means that the table name is case insensitive in the database and it is converted to *uppercase* when you use `create table` SQL statement. But `@Table` annotation is using a table name in a case sensitive manner.\r\n\r\nYou should read more about quoted and unquated table names [Make H2 treat quoted name and unquoted name as the same][1].\r\n\r\n&gt;In that H2 behaves in the same way as Oracle. This is a bit different on how other databases like MySQL and PostgreSQL deal with identifier names. H2 has a compatibility feature: If you append `;DATABASE_TO_UPPER=FALSE` to the database URL, unquotes identifiers are not converted to uppercase, that means they are case sensitive as well. But you need append this when creating the database, and each time you use it (if you append the setting for existing databases, the identifiers of existing objects are already converted to uppercase).\r\n\r\n  [1]: https://stackoverflow.com/q/10789994/573032","title":"Java spring data jdbc. JdbcSQLSyntaxErrorException when using annotation @Table","body":"<p>The table name is <em>unquated</em>. It means that the table name is case insensitive in the database and it is converted to <em>uppercase</em> when you use <code>create table</code> SQL statement. But <code>@Table</code> annotation is using a table name in a case sensitive manner.</p>\n<p>You should read more about quoted and unquated table names <a href=\"https://stackoverflow.com/q/10789994/573032\">Make H2 treat quoted name and unquoted name as the same</a>.</p>\n<blockquote>\n<p>In that H2 behaves in the same way as Oracle. This is a bit different on how other databases like MySQL and PostgreSQL deal with identifier names. H2 has a compatibility feature: If you append <code>;DATABASE_TO_UPPER=FALSE</code> to the database URL, unquotes identifiers are not converted to uppercase, that means they are case sensitive as well. But you need append this when creating the database, and each time you use it (if you append the setting for existing databases, the identifiers of existing objects are already converted to uppercase).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":26158800,"reputation":21,"user_id":19845689,"display_name":"Karim Diawara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701190427,"creation_date":1701190427,"answer_id":77565735,"question_id":77563505,"body_markdown":"You can correct this error by changing the case of the table name in your annotation to match the case of the table name in your schema.sql file. For example:\r\n\r\n    @Table(&quot;BOOK_AUTHOR&quot;)\r\n    public class BookAuthor {\r\n        private Integer author;\r\n    \r\n        public BookAuthor(Integer authorId){\r\n            this.author =authorId;\r\n        }\r\n    }","title":"Java spring data jdbc. JdbcSQLSyntaxErrorException when using annotation @Table","body":"<p>You can correct this error by changing the case of the table name in your annotation to match the case of the table name in your schema.sql file. For example:</p>\n<pre><code>@Table(&quot;BOOK_AUTHOR&quot;)\npublic class BookAuthor {\n    private Integer author;\n\n    public BookAuthor(Integer authorId){\n        this.author =authorId;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28520130,"reputation":13,"user_id":21828953,"display_name":"mihhha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77565504,"answer_count":4,"score":1,"last_activity_date":1701190427,"creation_date":1701170876,"question_id":77563505,"body_markdown":"If I use annotation `@Table(&quot;Book_Author&quot;)` then I get \r\n&gt;org.h2.jdbc.JdbcSQLSyntaxErrorException:\r\nTable &quot;Book_Author&quot; not found (candidates are: &quot;BOOK_AUTHOR&quot;) ...\r\n\r\n\r\n```\r\n@Table(&quot;Book_Author&quot;)\r\npublic class BookAuthor {\r\n    private Integer author;\r\n\r\n    public BookAuthor(Integer authorId){\r\n        this.author =authorId;\r\n    }\r\n}\r\n```\r\n**`schema.sql`:**\r\n\r\n```\r\ncreate table Book_Author(\r\n    author int not null ,\r\n    book int not null ,\r\n    primary key (author,book)\r\n);\r\n```\r\n\r\n\r\n\r\nWithout `@Table` everything works fine. Please tell me why?","title":"Java spring data jdbc. JdbcSQLSyntaxErrorException when using annotation @Table","body":"<p>If I use annotation <code>@Table(&quot;Book_Author&quot;)</code> then I get</p>\n<blockquote>\n<p>org.h2.jdbc.JdbcSQLSyntaxErrorException:\nTable &quot;Book_Author&quot; not found (candidates are: &quot;BOOK_AUTHOR&quot;) ...</p>\n</blockquote>\n<pre><code>@Table(&quot;Book_Author&quot;)\npublic class BookAuthor {\n    private Integer author;\n\n    public BookAuthor(Integer authorId){\n        this.author =authorId;\n    }\n}\n</code></pre>\n<p><strong><code>schema.sql</code>:</strong></p>\n<pre><code>create table Book_Author(\n    author int not null ,\n    book int not null ,\n    primary key (author,book)\n);\n</code></pre>\n<p>Without <code>@Table</code> everything works fine. Please tell me why?</p>\n"},{"tags":["java","java-time","datetimeformatter"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701206918,"post_id":77564928,"comment_id":136746258,"body_markdown":"Ideally, you would educate the publisher of your data about using only standard formats defined in [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) when communicating date-time values textually.","body":"Ideally, you would educate the publisher of your data about using only standard formats defined in <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> when communicating date-time values textually."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701207019,"post_id":77564928,"comment_id":136746266,"body_markdown":"Pseudo time zones such as `EST` should *never* be used in data storage or data exchange. They are not standardized, and are not even unique! Use only [real time zone names](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones) in format of `Continent/Region`.","body":"Pseudo time zones such as <code>EST</code> should <i>never</i> be used in data storage or data exchange. They are not standardized, and are not even unique! Use only <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">real time zone names</a> in format of <code>Continent&#47;Region</code>."},{"owner":{"account_id":1052371,"reputation":1232,"user_id":1055951,"accept_rate":78,"display_name":"David Green"},"score":0,"creation_date":1701209255,"post_id":77564928,"comment_id":136746631,"body_markdown":"@BasilBourque I don&#39;t have a choice. I am collecting data  from some network equipment and the format that the system clock is shown is user specified.  One of the options is to have the timezone displayed.    I have no way of enforcing how the user formats the system clock display.  I want the system clock so that I can record the system time of the equipment when I do the data collection.","body":"@BasilBourque I don&#39;t have a choice. I am collecting data  from some network equipment and the format that the system clock is shown is user specified.  One of the options is to have the timezone displayed.    I have no way of enforcing how the user formats the system clock display.  I want the system clock so that I can record the system time of the equipment when I do the data collection."}],"answers":[{"comments":[{"owner":{"account_id":1052371,"reputation":1232,"user_id":1055951,"accept_rate":78,"display_name":"David Green"},"score":1,"creation_date":1701188868,"post_id":77565216,"comment_id":136743137,"body_markdown":"Thanks.  I also noted your link is getting the same results I was where if the AM/PM is omitted the time is not parsed, only the date.  I changed the hh: to kk: and now get the time parsed whether or not the AM/PM is included in the input.","body":"Thanks.  I also noted your link is getting the same results I was where if the AM/PM is omitted the time is not parsed, only the date.  I changed the hh: to kk: and now get the time parsed whether or not the AM/PM is included in the input."},{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":0,"creation_date":1701190379,"post_id":77565216,"comment_id":136743466,"body_markdown":"@DavidGreen you&#39;re right, I&#39;ve just noticed. However, kk would be the right symbol only if the time is specified with hours between 1 and 24! If the hour is specified as a number within 0 and 23 you should use HH.  https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/format/DateTimeFormatter.html#patterns","body":"@DavidGreen you&#39;re right, I&#39;ve just noticed. However, kk would be the right symbol only if the time is specified with hours between 1 and 24! If the hour is specified as a number within 0 and 23 you should use HH.  <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/format/DateTimeFormatter.html#patterns\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/21/docs/api/java.base/java/ti&zwnj;&#8203;me/&hellip;</a>"},{"owner":{"account_id":1052371,"reputation":1232,"user_id":1055951,"accept_rate":78,"display_name":"David Green"},"score":1,"creation_date":1701190908,"post_id":77565216,"comment_id":136743604,"body_markdown":"thanks and noted.  I am parsing time from some networking equipment and will confirm whether it is 0-23 or 1-24.","body":"thanks and noted.  I am parsing time from some networking equipment and will confirm whether it is 0-23 or 1-24."}],"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701190392,"creation_date":1701186125,"answer_id":77565216,"question_id":77564928,"body_markdown":"This is a tricky one, because the syntax for an optional section of the `DateTimeFormatter` class specifically wants the space between the optional element and the previous one included within square brackets. \r\n\r\nThe documentation of the [parseBest()][1] method shows an example of a pattern with an optional timezone ID, `uuuu-MM-dd HH.mm[ VV]`, where the space between the minute and the timezone ID is included within the optional section.\r\n\r\nIn your snippet, the first optional was written properly `hh:mm:ss.SSS[ a...` (with the space between `SSS` and `a` included within square brackets), but then the optional part for the timezone name was written `a [z]zzz` instead of `a[ z]zzz`. In your case, you can either nest the optional sections like so `hh:mm:ss.SSS[[ a] zzz] E MMM dd yyyy`, or write them as individual optional sections `hh:mm:ss.SSS[ a][ z][ zzz] E MMM dd yyyy`.\r\n\r\nHere is a re-written version of your code covering the 4 cases:\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        parseDate(&quot;09:10:05.584 AM EST Wed Nov 29 2023&quot;, TIME_FORMAT);\r\n        parseDate(&quot;09:10:05.584 AM Wed Nov 29 2023&quot;, TIME_FORMAT);\r\n        parseDate(&quot;09:10:05.584 EST Wed Nov 29 2023&quot;, TIME_FORMAT);\r\n        parseDate(&quot;09:10:05.584 Wed Nov 29 2023&quot;, TIME_FORMAT);\r\n    }\r\n    public static final String TIME_FORMAT = &quot;HH:mm:ss.SSS[ a][ z][zzz] E MMM dd yyyy&quot;;\r\n\r\n    public static String parseDate(String input, String format) {\r\n        String retVal = &quot;&quot;;\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(format, Locale.ENGLISH);\r\n        TemporalAccessor ta = formatter.parseBest(input, LocalDateTime::from, LocalDate::from);\r\n        retVal = ta.toString();\r\n        System.out.println(&quot;Parsed date is: &quot; + retVal);\r\n        return retVal;\r\n    }\r\n}\r\n```\r\n\r\nYou can quickly check the code here at this link:\r\n\r\nhttps://ideone.com/bpfw8o\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/format/DateTimeFormatter.html#parseBest(java.lang.CharSequence,java.time.temporal.TemporalQuery...)","title":"Java DateTimeFormatter with Optional Sections","body":"<p>This is a tricky one, because the syntax for an optional section of the <code>DateTimeFormatter</code> class specifically wants the space between the optional element and the previous one included within square brackets.</p>\n<p>The documentation of the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/format/DateTimeFormatter.html#parseBest(java.lang.CharSequence,java.time.temporal.TemporalQuery...)\" rel=\"nofollow noreferrer\">parseBest()</a> method shows an example of a pattern with an optional timezone ID, <code>uuuu-MM-dd HH.mm[ VV]</code>, where the space between the minute and the timezone ID is included within the optional section.</p>\n<p>In your snippet, the first optional was written properly <code>hh:mm:ss.SSS[ a...</code> (with the space between <code>SSS</code> and <code>a</code> included within square brackets), but then the optional part for the timezone name was written <code>a [z]zzz</code> instead of <code>a[ z]zzz</code>. In your case, you can either nest the optional sections like so <code>hh:mm:ss.SSS[[ a] zzz] E MMM dd yyyy</code>, or write them as individual optional sections <code>hh:mm:ss.SSS[ a][ z][ zzz] E MMM dd yyyy</code>.</p>\n<p>Here is a re-written version of your code covering the 4 cases:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        parseDate(&quot;09:10:05.584 AM EST Wed Nov 29 2023&quot;, TIME_FORMAT);\n        parseDate(&quot;09:10:05.584 AM Wed Nov 29 2023&quot;, TIME_FORMAT);\n        parseDate(&quot;09:10:05.584 EST Wed Nov 29 2023&quot;, TIME_FORMAT);\n        parseDate(&quot;09:10:05.584 Wed Nov 29 2023&quot;, TIME_FORMAT);\n    }\n    public static final String TIME_FORMAT = &quot;HH:mm:ss.SSS[ a][ z][zzz] E MMM dd yyyy&quot;;\n\n    public static String parseDate(String input, String format) {\n        String retVal = &quot;&quot;;\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(format, Locale.ENGLISH);\n        TemporalAccessor ta = formatter.parseBest(input, LocalDateTime::from, LocalDate::from);\n        retVal = ta.toString();\n        System.out.println(&quot;Parsed date is: &quot; + retVal);\n        return retVal;\n    }\n}\n</code></pre>\n<p>You can quickly check the code here at this link:</p>\n<p><a href=\"https://ideone.com/bpfw8o\" rel=\"nofollow noreferrer\">https://ideone.com/bpfw8o</a></p>\n"},{"comments":[{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":2,"creation_date":1701187511,"post_id":77565327,"comment_id":136742830,"body_markdown":"you can nest optional sections by properly including the space between elements within square brackets","body":"you can nest optional sections by properly including the space between elements within square brackets"}],"tags":[],"owner":{"account_id":1052371,"reputation":1232,"user_id":1055951,"accept_rate":78,"display_name":"David Green"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701187091,"creation_date":1701187091,"answer_id":77565327,"question_id":77564928,"body_markdown":"specifying the format this way:\r\n\r\n```\r\npublic static final String TIME_FORMAT = &quot;hh:mm:ss.SSS[ a][ z][ zzz] E MMM dd yyyy&quot;;\r\n```\r\nworked.  Trying to nest the [] was not working. \r\n\r\n","title":"Java DateTimeFormatter with Optional Sections","body":"<p>specifying the format this way:</p>\n<pre><code>public static final String TIME_FORMAT = &quot;hh:mm:ss.SSS[ a][ z][ zzz] E MMM dd yyyy&quot;;\n</code></pre>\n<p>worked.  Trying to nest the [] was not working.</p>\n"}],"owner":{"account_id":1052371,"reputation":1232,"user_id":1055951,"accept_rate":78,"display_name":"David Green"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77565216,"answer_count":2,"score":2,"last_activity_date":1701190392,"creation_date":1701183759,"question_id":77564928,"body_markdown":"I have done some reading on this and tried to work through examples from other StackOverflow threads but I keep running into an exception when parsing the date/time if I try to specify optional sections.  \r\n\r\nthis is the input.  The optional sections are the AM/PM which may not always be in the input,  and the timezone which may be 4 characters:\r\n\r\n```\r\n09:10:05.584 AM EST Wed Nov 29 2023\r\n```\r\n\r\nThis is the pattern that works for this input, but not other inputs, such as if there is no timezone\r\n\r\n```\r\nhh:mm:ss.SSS a zzz E MMM dd yyyy\r\n```\r\nIf I try to do something like this and create optional patterns I get a parse exception at position 12 in the input, which is just after the milliseconds\r\n\r\n```\r\nhh:mm:ss.SSS[ a [z]zzz ]E MMM dd yyyy\r\n```\r\n\r\nthis is the code, currently set to the format that fails:\r\n\r\n```\r\n\r\npublic static final String TIME_FORMAT = &quot;hh:mm:ss.SSS[ a [z]zzz ]E MMM dd yyyy&quot;;\r\n\r\n\r\npublic static String ParseDate(String input, String format) {\r\n\t\t\r\n\t\t\r\n\t\tString retVal = &quot;&quot;;\r\n\t\t\r\n\t\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(format, Locale.ENGLISH);\r\n\t\t\r\n\t\tTemporalAccessor ta = formatter.parseBest(input, LocalDateTime::from, LocalDate::from);\r\n\t\t\r\n\t\tretVal = ta.toString();\r\n       \r\n\t\tSystem.out.println(&quot;Parsed date is: &quot;+ retVal);\r\n\t\treturn retVal;\r\n\t}\r\n```","title":"Java DateTimeFormatter with Optional Sections","body":"<p>I have done some reading on this and tried to work through examples from other StackOverflow threads but I keep running into an exception when parsing the date/time if I try to specify optional sections.</p>\n<p>this is the input.  The optional sections are the AM/PM which may not always be in the input,  and the timezone which may be 4 characters:</p>\n<pre><code>09:10:05.584 AM EST Wed Nov 29 2023\n</code></pre>\n<p>This is the pattern that works for this input, but not other inputs, such as if there is no timezone</p>\n<pre><code>hh:mm:ss.SSS a zzz E MMM dd yyyy\n</code></pre>\n<p>If I try to do something like this and create optional patterns I get a parse exception at position 12 in the input, which is just after the milliseconds</p>\n<pre><code>hh:mm:ss.SSS[ a [z]zzz ]E MMM dd yyyy\n</code></pre>\n<p>this is the code, currently set to the format that fails:</p>\n<pre><code>\npublic static final String TIME_FORMAT = &quot;hh:mm:ss.SSS[ a [z]zzz ]E MMM dd yyyy&quot;;\n\n\npublic static String ParseDate(String input, String format) {\n        \n        \n        String retVal = &quot;&quot;;\n        \n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(format, Locale.ENGLISH);\n        \n        TemporalAccessor ta = formatter.parseBest(input, LocalDateTime::from, LocalDate::from);\n        \n        retVal = ta.toString();\n       \n        System.out.println(&quot;Parsed date is: &quot;+ retVal);\n        return retVal;\n    }\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1700845102,"post_id":77544649,"comment_id":136706606,"body_markdown":"They are the implementation provided by whatever framework or application server you&#39;re using.","body":"They are the implementation provided by whatever framework or application server you&#39;re using."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1700846706,"post_id":77544649,"comment_id":136706824,"body_markdown":"There are very very few (POJO) classes in the API, \n see here https://javadoc.io/doc/javax.persistence/javax.persistence-api/latest/index.html . All this stuff is the specification poured in a contract, a bunch of interfaces, enums (constants) and errors (Exceptions). Then an implementor (like Hibernate) probably can add their things, but your code should go against the interfaces.","body":"There are very very few (POJO) classes in the API,   see here <a href=\"https://javadoc.io/doc/javax.persistence/javax.persistence-api/latest/index.html\" rel=\"nofollow noreferrer\">javadoc.io/doc/javax.persistence/javax.persistence-api/lates&zwnj;&#8203;t/&hellip;</a> . All this stuff is the specification poured in a contract, a bunch of interfaces, enums (constants) and errors (Exceptions). Then an implementor (like Hibernate) probably can add their things, but your code should go against the interfaces."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1700875741,"post_id":77544649,"comment_id":136709523,"body_markdown":"Didn&#39;t someone ask this exact question a day or two ago?","body":"Didn&#39;t someone ask this exact question a day or two ago?"}],"answers":[{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1700896004,"post_id":77546870,"comment_id":136710634,"body_markdown":"*&quot;... the use of abbreviations like JPA is now discouraged.&quot;* - IMO, Oracle&#39;s lawyers are &quot;on a hiding to nothing&quot; if they want to stop people using JPA.  (Like Xerox&#39;s lawyers were ...)","body":"<i>&quot;... the use of abbreviations like JPA is now discouraged.&quot;</i> - IMO, Oracle&#39;s lawyers are &quot;on a hiding to nothing&quot; if they want to stop people using JPA.  (Like Xerox&#39;s lawyers were ...)"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700896233,"post_id":77546870,"comment_id":136710646,"body_markdown":"@StephenC As I recall hearing from people involved in Jakarta EE, their reason to avoid such abbreviations was not legal concerns, nor any request by Oracle. Their motivation is that they fear all the &quot;J…&quot; abbreviations flying around is confusing to people new to the techonolgiies. They hope to make Jakarta EE more broadly accessible. Simplifying, and then using, the full names is one of their strategies towards that goal. I whole-heartedly agree with them.","body":"@StephenC As I recall hearing from people involved in Jakarta EE, their reason to avoid such abbreviations was not legal concerns, nor any request by Oracle. Their motivation is that they fear all the &quot;J…&quot; abbreviations flying around is confusing to people new to the techonolgiies. They hope to make Jakarta EE more broadly accessible. Simplifying, and then using, the full names is one of their strategies towards that goal. I whole-heartedly agree with them."},{"owner":{"account_id":21742694,"reputation":51,"user_id":21475142,"display_name":"nonlinear"},"score":0,"creation_date":1701096816,"post_id":77546870,"comment_id":136729279,"body_markdown":"I didn&#39;t understand anything. I need to put them in order. So based on &quot;If you are using a Jakarta EE compliant application server...&quot; I use TomEE. Then I searched where .jar file javax.persistence package came from. And I found a file &quot;eclipselink-2.7.7.jar&quot; under the Server Runtime library (TomEE) that my example uses. So the book uses this implementation by referring to it misleadingly as JPA and you get the impression that JPA is a normal library.","body":"I didn&#39;t understand anything. I need to put them in order. So based on &quot;If you are using a Jakarta EE compliant application server...&quot; I use TomEE. Then I searched where .jar file javax.persistence package came from. And I found a file &quot;eclipselink-2.7.7.jar&quot; under the Server Runtime library (TomEE) that my example uses. So the book uses this implementation by referring to it misleadingly as JPA and you get the impression that JPA is a normal library."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701106596,"post_id":77546870,"comment_id":136731369,"body_markdown":"@nonlinear Do you understand what it means to [program to an interface](https://stackoverflow.com/q/1992384/642706)? It is crucial that you understand that concept.","body":"@nonlinear Do you understand what it means to <a href=\"https://stackoverflow.com/q/1992384/642706\">program to an interface</a>? It is crucial that you understand that concept."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701107034,"post_id":77546870,"comment_id":136731443,"body_markdown":"(A) If one wants to develop  a console app or a desktop/mobile app that uses the Jakarta Persistence API, one must bundle with that app both the Jakarta Persistence API JAR file *and* an implementation JAR file such as EclipseLink or Hibernate. (B) In a web app on a Jakarta-compliant application server, the server comes with both the Jakarta Persistence API and an implementation. So you need both the Jakarta Persistence API and an implementation in your project during development but would *not* bundle into your final WAR/EAR file. Maven `scope` element controls whether those JARs get bundled.","body":"(A) If one wants to develop  a console app or a desktop/mobile app that uses the Jakarta Persistence API, one must bundle with that app both the Jakarta Persistence API JAR file <i>and</i> an implementation JAR file such as EclipseLink or Hibernate. (B) In a web app on a Jakarta-compliant application server, the server comes with both the Jakarta Persistence API and an implementation. So you need both the Jakarta Persistence API and an implementation in your project during development but would <i>not</i> bundle into your final WAR/EAR file. Maven <code>scope</code> element controls whether those JARs get bundled."},{"owner":{"account_id":21742694,"reputation":51,"user_id":21475142,"display_name":"nonlinear"},"score":0,"creation_date":1701108162,"post_id":77546870,"comment_id":136731659,"body_markdown":"&quot;Jakarta Persistence API JAR file&quot;. Where is this file in tomee? It contains only the interfaces? If I use Tomcat with a maven project then I need to add a dependency to get the function of persistence?","body":"&quot;Jakarta Persistence API JAR file&quot;. Where is this file in tomee? It contains only the interfaces? If I use Tomcat with a maven project then I need to add a dependency to get the function of persistence?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701155259,"post_id":77546870,"comment_id":136736903,"body_markdown":"@nonlinear See [the documentation](https://tomee.apache.org/tomee-9.0/docs/comparison.html#implementations) for a list of Jakarta APIs supported by TomEE, along with a list of the implementations they utilize. How the makers of TomEE choose to package their app server product is irrelevant. All we care about is that the current version of TomEE supports *Jakarta Persistence (JPA) 3.0* in all editions. So your web app can rely on those APIs being available at runtime. P.S. Don&#39;t confuse Tomcat for TomEE. TomEE is a superset of Tomcat, adding on many more of the Jakarta EE technologies.","body":"@nonlinear See <a href=\"https://tomee.apache.org/tomee-9.0/docs/comparison.html#implementations\" rel=\"nofollow noreferrer\">the documentation</a> for a list of Jakarta APIs supported by TomEE, along with a list of the implementations they utilize. How the makers of TomEE choose to package their app server product is irrelevant. All we care about is that the current version of TomEE supports <i>Jakarta Persistence (JPA) 3.0</i> in all editions. So your web app can rely on those APIs being available at runtime. P.S. Don&#39;t confuse Tomcat for TomEE. TomEE is a superset of Tomcat, adding on many more of the Jakarta EE technologies."},{"owner":{"account_id":21742694,"reputation":51,"user_id":21475142,"display_name":"nonlinear"},"score":0,"creation_date":1701163683,"post_id":77546870,"comment_id":136738311,"body_markdown":"&quot;All we care about is that the current version of TomEE supports Jakarta Persistence (JPA) 3.0 in all editions.&quot;. No. Not me. That&#39;s not enough for me. I care to know which of these files are specification related and which are implementation related. Do I have to read all this to answer such a question?","body":"&quot;All we care about is that the current version of TomEE supports Jakarta Persistence (JPA) 3.0 in all editions.&quot;. No. Not me. That&#39;s not enough for me. I care to know which of these files are specification related and which are implementation related. Do I have to read all this to answer such a question?"},{"owner":{"account_id":21742694,"reputation":51,"user_id":21475142,"display_name":"nonlinear"},"score":0,"creation_date":1701163690,"post_id":77546870,"comment_id":136738313,"body_markdown":"And I haven&#39;t gotten an answer about the nature of the files related to the specifications. Since they are specifications I reasonably assume they will be interfaces. And also since the specification is a standard it should be a common shared .jar of interfaces that must be implemented from various providers.","body":"And I haven&#39;t gotten an answer about the nature of the files related to the specifications. Since they are specifications I reasonably assume they will be interfaces. And also since the specification is a standard it should be a common shared .jar of interfaces that must be implemented from various providers."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701189024,"post_id":77546870,"comment_id":136743176,"body_markdown":"@nonlinear Fortunately for your curiosity, TomEE is open-source. So you can dig around to see how it gets packaged. Happy spelunking.","body":"@nonlinear Fortunately for your curiosity, TomEE is open-source. So you can dig around to see how it gets packaged. Happy spelunking."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":10,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701190342,"creation_date":1700893609,"answer_id":77546870,"question_id":77544649,"body_markdown":"# Specification\r\n\r\n[*Jakarta Persistence*][1] is a specification published by the [Eclipse Foundation][2]. (*Jakarta Persistence* was formerly known as *Java Persistence API (JPA)*, published  by [Oracle Corp.][3])\r\n\r\n - [`@Entity`][4] and [`@Table`][5] are [annotations][6]. \r\n - [`EntityManager`][7] is an interface.\r\n\r\nYou said:\r\n\r\n&gt; And then what are all those classes in the javax.persistence??? \r\n\r\nYour premise is incorrect. These annotations and interfaces are not classes.\r\n\r\nThe annotations and interfaces defined in those specs are also written as Java source code files, published in [JAR][8] files by the Eclipse Foundation. But those Java files do not *do* anything; you need an implementation of those annotations and interfaces, [concrete classes][9], to actually *do* something.\r\n\r\nTo be technically complete… The API of a specification such as *Jakarta Persistence* may contain some parts that are technically classes. For example, you may see enums and abstract classes. But their functionality is minimal. And these parts are useless without a complete implementation of the spec’s API. Conceptually, you should think of the spec’s API as having no classes. \r\n\r\n# Implementation\r\n\r\nMultiple implementations of the Jakarta Persistence [3.0][10] and [3.1][11] specs are available:\r\n\r\n - [*EclipseLink*][12] by Eclipse Foundation\r\n - [*Hibernate*][13] by Red Hat\r\n - [*DataNucleus*][14]\r\n\r\nYou must **choose one of these implementations** in order to use the Jakarta Persistence [API][15]. \r\n\r\nAlternatively, you can bypass the API of Jakarta Persistence, and instead directly access the API of one of those particular products. The product-specific API may be broader and more feature-rich than the Jakarta Persistence API. \r\n\r\nThe downside to using a product-specific API is that you are locking your code into that one particular product &amp; vendor. By going through the Jakarta Persistence you may be able to switch between implementations with little or no difficulty. \r\n\r\nYou said:\r\n\r\n&gt;a few articles that said &quot;JPA is just a specification, it doesn&#39;t perform any operation by itself. It requires an implementation (like Hibernate,TopLink etc)&quot;. \r\n\r\nThose articles are correct. The interfaces defined by the specification must be backed by an implementation at runtime. \r\n\r\n - If you are using a Jakarta EE compliant application server such as Glassfish, Payara, OpenLiberty, WildFly, etc., both the specification’s API and the implementation will be provided by that server product. So you do *not* bundle either in your WAR/EAR. \r\n - If you are developing a console app or desktop/mobile app, you bundle both the specification’s API and an implementation of your choice.\r\n\r\nMaven’s POM’s `scope` element controls whether the API and/or implementation JARs get bundled. Gradle has a similar feature. \r\n\r\nBy the way, [*TopLink*][16] was donated by Oracle to the Eclipse Foundation where it became *EclipseLink*. \r\n\r\n----------\r\n\r\nBy the way, as of the transition from Java EE to Jakarta EE, the use of abbreviations like *JPA* is now discouraged. The full name of each technology is preferred. \r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/persistence/\r\n  [2]: https://www.eclipse.org/\r\n  [3]: https://en.wikipedia.org/wiki/Oracle_Corporation\r\n  [4]: https://jakarta.ee/specifications/persistence/3.1/apidocs/jakarta.persistence/jakarta/persistence/entity\r\n  [5]: https://jakarta.ee/specifications/persistence/3.1/apidocs/jakarta.persistence/jakarta/persistence/table\r\n  [6]: https://en.wikipedia.org/wiki/Java_annotation\r\n  [7]: https://jakarta.ee/specifications/persistence/3.1/apidocs/jakarta.persistence/jakarta/persistence/entitymanager\r\n  [8]: https://en.wikipedia.org/wiki/JAR_(file_format)\r\n  [9]: https://en.wikipedia.org/wiki/Class_(computer_programming)#Abstract_and_Concrete\r\n  [10]: https://jakarta.ee/specifications/persistence/3.0/\r\n  [11]: https://jakarta.ee/specifications/persistence/3.1/\r\n  [12]: https://en.wikipedia.org/wiki/EclipseLink\r\n  [13]: https://en.wikipedia.org/wiki/Hibernate_(framework)\r\n  [14]: https://en.wikipedia.org/wiki/DataNucleus\r\n  [15]: https://en.wikipedia.org/wiki/API\r\n  [16]: https://en.wikipedia.org/wiki/Oracle_TopLink","title":"JPA. Specification, Implementation or both?","body":"<h1>Specification</h1>\n<p><a href=\"https://jakarta.ee/specifications/persistence/\" rel=\"nofollow noreferrer\"><em>Jakarta Persistence</em></a> is a specification published by the <a href=\"https://www.eclipse.org/\" rel=\"nofollow noreferrer\">Eclipse Foundation</a>. (<em>Jakarta Persistence</em> was formerly known as <em>Java Persistence API (JPA)</em>, published  by <a href=\"https://en.wikipedia.org/wiki/Oracle_Corporation\" rel=\"nofollow noreferrer\">Oracle Corp.</a>)</p>\n<ul>\n<li><a href=\"https://jakarta.ee/specifications/persistence/3.1/apidocs/jakarta.persistence/jakarta/persistence/entity\" rel=\"nofollow noreferrer\"><code>@Entity</code></a> and <a href=\"https://jakarta.ee/specifications/persistence/3.1/apidocs/jakarta.persistence/jakarta/persistence/table\" rel=\"nofollow noreferrer\"><code>@Table</code></a> are <a href=\"https://en.wikipedia.org/wiki/Java_annotation\" rel=\"nofollow noreferrer\">annotations</a>.</li>\n<li><a href=\"https://jakarta.ee/specifications/persistence/3.1/apidocs/jakarta.persistence/jakarta/persistence/entitymanager\" rel=\"nofollow noreferrer\"><code>EntityManager</code></a> is an interface.</li>\n</ul>\n<p>You said:</p>\n<blockquote>\n<p>And then what are all those classes in the javax.persistence???</p>\n</blockquote>\n<p>Your premise is incorrect. These annotations and interfaces are not classes.</p>\n<p>The annotations and interfaces defined in those specs are also written as Java source code files, published in <a href=\"https://en.wikipedia.org/wiki/JAR_(file_format)\" rel=\"nofollow noreferrer\">JAR</a> files by the Eclipse Foundation. But those Java files do not <em>do</em> anything; you need an implementation of those annotations and interfaces, <a href=\"https://en.wikipedia.org/wiki/Class_(computer_programming)#Abstract_and_Concrete\" rel=\"nofollow noreferrer\">concrete classes</a>, to actually <em>do</em> something.</p>\n<p>To be technically complete… The API of a specification such as <em>Jakarta Persistence</em> may contain some parts that are technically classes. For example, you may see enums and abstract classes. But their functionality is minimal. And these parts are useless without a complete implementation of the spec’s API. Conceptually, you should think of the spec’s API as having no classes.</p>\n<h1>Implementation</h1>\n<p>Multiple implementations of the Jakarta Persistence <a href=\"https://jakarta.ee/specifications/persistence/3.0/\" rel=\"nofollow noreferrer\">3.0</a> and <a href=\"https://jakarta.ee/specifications/persistence/3.1/\" rel=\"nofollow noreferrer\">3.1</a> specs are available:</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/EclipseLink\" rel=\"nofollow noreferrer\"><em>EclipseLink</em></a> by Eclipse Foundation</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Hibernate_(framework)\" rel=\"nofollow noreferrer\"><em>Hibernate</em></a> by Red Hat</li>\n<li><a href=\"https://en.wikipedia.org/wiki/DataNucleus\" rel=\"nofollow noreferrer\"><em>DataNucleus</em></a></li>\n</ul>\n<p>You must <strong>choose one of these implementations</strong> in order to use the Jakarta Persistence <a href=\"https://en.wikipedia.org/wiki/API\" rel=\"nofollow noreferrer\">API</a>.</p>\n<p>Alternatively, you can bypass the API of Jakarta Persistence, and instead directly access the API of one of those particular products. The product-specific API may be broader and more feature-rich than the Jakarta Persistence API.</p>\n<p>The downside to using a product-specific API is that you are locking your code into that one particular product &amp; vendor. By going through the Jakarta Persistence you may be able to switch between implementations with little or no difficulty.</p>\n<p>You said:</p>\n<blockquote>\n<p>a few articles that said &quot;JPA is just a specification, it doesn't perform any operation by itself. It requires an implementation (like Hibernate,TopLink etc)&quot;.</p>\n</blockquote>\n<p>Those articles are correct. The interfaces defined by the specification must be backed by an implementation at runtime.</p>\n<ul>\n<li>If you are using a Jakarta EE compliant application server such as Glassfish, Payara, OpenLiberty, WildFly, etc., both the specification’s API and the implementation will be provided by that server product. So you do <em>not</em> bundle either in your WAR/EAR.</li>\n<li>If you are developing a console app or desktop/mobile app, you bundle both the specification’s API and an implementation of your choice.</li>\n</ul>\n<p>Maven’s POM’s <code>scope</code> element controls whether the API and/or implementation JARs get bundled. Gradle has a similar feature.</p>\n<p>By the way, <a href=\"https://en.wikipedia.org/wiki/Oracle_TopLink\" rel=\"nofollow noreferrer\"><em>TopLink</em></a> was donated by Oracle to the Eclipse Foundation where it became <em>EclipseLink</em>.</p>\n<hr />\n<p>By the way, as of the transition from Java EE to Jakarta EE, the use of abbreviations like <em>JPA</em> is now discouraged. The full name of each technology is preferred.</p>\n"}],"owner":{"account_id":21742694,"reputation":51,"user_id":21475142,"display_name":"nonlinear"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1701190342,"creation_date":1700844953,"question_id":77544649,"body_markdown":"I study the JPA. The book uses classes, interfaces and annotations from javax.persistence package like @Entity,@Table,EntityManager etc to make a real and functional ORM application. When I searched to the Internet about JPA I read a few articles that said &quot;JPA is just a specification, it doesn&#39;t perform any operation by itself. It requires an implementation (like Hibernate,TopLink etc)&quot;. And then what are all those classes in the javax.persistence??? Am I missing something?","title":"JPA. Specification, Implementation or both?","body":"<p>I study the JPA. The book uses classes, interfaces and annotations from javax.persistence package like @Entity,@Table,EntityManager etc to make a real and functional ORM application. When I searched to the Internet about JPA I read a few articles that said &quot;JPA is just a specification, it doesn't perform any operation by itself. It requires an implementation (like Hibernate,TopLink etc)&quot;. And then what are all those classes in the javax.persistence??? Am I missing something?</p>\n"},{"tags":["javascript","java","stomp","spring-websocket"],"answers":[{"tags":[],"owner":{"account_id":29690507,"reputation":23,"user_id":22755001,"display_name":"Tired8296"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701188620,"creation_date":1701188620,"answer_id":77565524,"question_id":77564305,"body_markdown":"Okay so apparently it&#39;s a routing issue. IntelliJ Community doesn&#39;t support Spring WebSockets, so it showed me a warning for my css and script import in my frontend-HTML. Those two imports need to get the &quot;/static&quot; part removed so that the server finds the userscript, the css and my STOMP layer while running on port 8080.\r\n\r\nI&#39;m pretty sure im just scratching the surface here, so i&#39;m happy if someone can explain the issue i somehow solved in more detail to me.","title":"WebSocket connection failing using STOMP.js","body":"<p>Okay so apparently it's a routing issue. IntelliJ Community doesn't support Spring WebSockets, so it showed me a warning for my css and script import in my frontend-HTML. Those two imports need to get the &quot;/static&quot; part removed so that the server finds the userscript, the css and my STOMP layer while running on port 8080.</p>\n<p>I'm pretty sure im just scratching the surface here, so i'm happy if someone can explain the issue i somehow solved in more detail to me.</p>\n"}],"owner":{"account_id":29690507,"reputation":23,"user_id":22755001,"display_name":"Tired8296"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77565524,"answer_count":1,"score":0,"last_activity_date":1701190077,"creation_date":1701178443,"question_id":77564305,"body_markdown":"I&#39;m using Spring Boot WebSockets, STOMP.js, and JQuery to develop a short training project. Sadly I seem to have missed some crucial point while following guides and the official documentation because as soon as I try to activate my `StompJs.Client` object my browser console prints this error: \r\n```\r\nWebSocket connection to &#39;ws://localhost:8080/game-websocket&#39; failed: https://cdn.jsdelivr.net/npm/@stomp/stompjs@7.0.0/bundles/stomp.umd.min.js\r\n```\r\nI suppose I am missing an extremely obvious point here, but after trying to understand the source of the error for some time now I can&#39;t seem to advance. Now follows my HTML-frontend, my JavaScript (Gamescript.js), the WebSocket configuration Java class and finally my controller Java class.\r\n\r\nFirst, my HTML-Frontend:\r\n```xml\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;title&gt;Battleships&lt;/title&gt;\r\n        &lt;link href=&quot;/static/GameDesign.css&quot; rel=&quot;stylesheet&quot;&gt;\r\n        &lt;script src=&quot;https://code.jquery.com/jquery-3.1.1.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;https://cdn.jsdelivr.net/npm/@stomp/stompjs@7.0.0/bundles/stomp.umd.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;/static/GameScript.js&quot;&gt;&lt;/script&gt;\r\n\r\n    &lt;/head&gt;\r\n\r\n    &lt;body&gt;\r\n\r\n        &lt;!-- generates the (for this session) hidden enemy board, that consists of 100 buttons with\r\n         according IDs (e-presign), beginning from the bottom-left corner and counting rows first --&gt;\r\n        &lt;script&gt;\r\n            document.write(&quot;&lt;form&gt;&lt;table&gt;&quot;);\r\n            for(var i=9; i&gt;=0; i--){\r\n                document.write(&quot;&lt;tr&gt;&quot;);\r\n                for(var k=0; k&lt;10; k++){\r\n                    document.write(&quot;&lt;td&gt;&lt;button type=\\&quot;submit\\&quot; id=\\&quot;e&quot; + k + i + &quot;\\&quot;&gt;&lt;/button&gt;&lt;/td&gt;&quot;);\r\n                }\r\n                document.write(&quot;&lt;/tr&gt;&quot;);\r\n            }\r\n            document.write(&quot;&lt;/table&gt;&lt;/form&gt;&quot;);\r\n        &lt;/script&gt;\r\n\r\n        &lt;!-- generates the own board of this session, that consists of 100 div-elements with\r\n         according IDs (o-presign), beginning from the bottom-left corner and counting rows first --&gt;\r\n        &lt;script&gt;\r\n            document.write(&quot;&lt;table&gt;&quot;);\r\n            for(var i=9; i&gt;=0; i--){\r\n                document.write(&quot;&lt;tr&gt;&quot;);\r\n                for(var k=0; k&lt;10; k++){\r\n                    document.write(&quot;&lt;td&gt;&lt;div id=\\&quot;o&quot; + k + i + &quot;\\&quot;&gt;&lt;/div&gt;&lt;/td&gt;&quot;);\r\n                }\r\n                document.write(&quot;&lt;/tr&gt;&quot;);\r\n            }\r\n            document.write(&quot;&lt;/table&gt;&quot;);\r\n        &lt;/script&gt;\r\n\r\n    &lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\nNow my JavaScript (GameScript.js):\r\n```javascript\r\nconst stompClient = new StompJs.Client({\r\n    brokerURL: &#39;ws://localhost:8080/game-websocket&#39;\r\n});\r\n\r\nfunction connect(){\r\n    stompClient.activate();\r\n}\r\n\r\nfunction sendID(){\r\n     stompClient.publish(&quot;/app/provideSession&quot;, {}, &quot;kevin&quot;);\r\n}\r\n\r\nstompClient.onConnect = (frame) =&gt; {\r\n    stompClient.subscribe(&quot;/queue/sessionResponse&quot;, (message) =&gt; {\r\n        console.log(message);\r\n    });\r\n}\r\n\r\n$(function () {\r\n    $(&quot;form&quot;).on(&#39;submit&#39;, (e) =&gt; e.preventDefault());\r\n    $( &quot;#e00&quot; ).click(() =&gt; connect());\r\n    $( &quot;#e99&quot; ).click(() =&gt; sendID());\r\n});\r\n```\r\nNow my Websocket configuration java class:\r\n```java\r\npackage com.md.battleships;\r\n\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.messaging.simp.config.MessageBrokerRegistry;\r\nimport org.springframework.web.socket.config.annotation.EnableWebSocketMessageBroker;\r\nimport org.springframework.web.socket.config.annotation.StompEndpointRegistry;\r\nimport org.springframework.web.socket.config.annotation.WebSocketMessageBrokerConfigurer;\r\n\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/game-websocket&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry config) {\r\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n        config.enableSimpleBroker(&quot;/queue&quot;);\r\n    }\r\n}\r\n```\r\nAnd finally my Java controller class:\r\n```java\r\npackage com.md.battleships;\r\n\r\nimport org.springframework.messaging.handler.annotation.MessageMapping;\r\nimport org.springframework.messaging.handler.annotation.SendTo;\r\nimport org.springframework.stereotype.Controller;\r\n\r\n@Controller\r\npublic class GameController {\r\n\r\n    @MessageMapping(&quot;/provideSession&quot;)\r\n    @SendTo(&quot;/sessionResponse&quot;)\r\n    public String handshake (String session) throws Exception{\r\n        System.out.println(session);\r\n        return &quot;kevoon (Entwicklung von Kevin)&quot;;\r\n    }\r\n}\r\n```","title":"WebSocket connection failing using STOMP.js","body":"<p>I'm using Spring Boot WebSockets, STOMP.js, and JQuery to develop a short training project. Sadly I seem to have missed some crucial point while following guides and the official documentation because as soon as I try to activate my <code>StompJs.Client</code> object my browser console prints this error:</p>\n<pre><code>WebSocket connection to 'ws://localhost:8080/game-websocket' failed: https://cdn.jsdelivr.net/npm/@stomp/stompjs@7.0.0/bundles/stomp.umd.min.js\n</code></pre>\n<p>I suppose I am missing an extremely obvious point here, but after trying to understand the source of the error for some time now I can't seem to advance. Now follows my HTML-frontend, my JavaScript (Gamescript.js), the WebSocket configuration Java class and finally my controller Java class.</p>\n<p>First, my HTML-Frontend:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n\n    &lt;head&gt;\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\n        &lt;title&gt;Battleships&lt;/title&gt;\n        &lt;link href=&quot;/static/GameDesign.css&quot; rel=&quot;stylesheet&quot;&gt;\n        &lt;script src=&quot;https://code.jquery.com/jquery-3.1.1.min.js&quot;&gt;&lt;/script&gt;\n        &lt;script src=&quot;https://cdn.jsdelivr.net/npm/@stomp/stompjs@7.0.0/bundles/stomp.umd.min.js&quot;&gt;&lt;/script&gt;\n        &lt;script src=&quot;/static/GameScript.js&quot;&gt;&lt;/script&gt;\n\n    &lt;/head&gt;\n\n    &lt;body&gt;\n\n        &lt;!-- generates the (for this session) hidden enemy board, that consists of 100 buttons with\n         according IDs (e-presign), beginning from the bottom-left corner and counting rows first --&gt;\n        &lt;script&gt;\n            document.write(&quot;&lt;form&gt;&lt;table&gt;&quot;);\n            for(var i=9; i&gt;=0; i--){\n                document.write(&quot;&lt;tr&gt;&quot;);\n                for(var k=0; k&lt;10; k++){\n                    document.write(&quot;&lt;td&gt;&lt;button type=\\&quot;submit\\&quot; id=\\&quot;e&quot; + k + i + &quot;\\&quot;&gt;&lt;/button&gt;&lt;/td&gt;&quot;);\n                }\n                document.write(&quot;&lt;/tr&gt;&quot;);\n            }\n            document.write(&quot;&lt;/table&gt;&lt;/form&gt;&quot;);\n        &lt;/script&gt;\n\n        &lt;!-- generates the own board of this session, that consists of 100 div-elements with\n         according IDs (o-presign), beginning from the bottom-left corner and counting rows first --&gt;\n        &lt;script&gt;\n            document.write(&quot;&lt;table&gt;&quot;);\n            for(var i=9; i&gt;=0; i--){\n                document.write(&quot;&lt;tr&gt;&quot;);\n                for(var k=0; k&lt;10; k++){\n                    document.write(&quot;&lt;td&gt;&lt;div id=\\&quot;o&quot; + k + i + &quot;\\&quot;&gt;&lt;/div&gt;&lt;/td&gt;&quot;);\n                }\n                document.write(&quot;&lt;/tr&gt;&quot;);\n            }\n            document.write(&quot;&lt;/table&gt;&quot;);\n        &lt;/script&gt;\n\n    &lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>Now my JavaScript (GameScript.js):</p>\n<pre class=\"lang-js prettyprint-override\"><code>const stompClient = new StompJs.Client({\n    brokerURL: 'ws://localhost:8080/game-websocket'\n});\n\nfunction connect(){\n    stompClient.activate();\n}\n\nfunction sendID(){\n     stompClient.publish(&quot;/app/provideSession&quot;, {}, &quot;kevin&quot;);\n}\n\nstompClient.onConnect = (frame) =&gt; {\n    stompClient.subscribe(&quot;/queue/sessionResponse&quot;, (message) =&gt; {\n        console.log(message);\n    });\n}\n\n$(function () {\n    $(&quot;form&quot;).on('submit', (e) =&gt; e.preventDefault());\n    $( &quot;#e00&quot; ).click(() =&gt; connect());\n    $( &quot;#e99&quot; ).click(() =&gt; sendID());\n});\n</code></pre>\n<p>Now my Websocket configuration java class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.md.battleships;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.messaging.simp.config.MessageBrokerRegistry;\nimport org.springframework.web.socket.config.annotation.EnableWebSocketMessageBroker;\nimport org.springframework.web.socket.config.annotation.StompEndpointRegistry;\nimport org.springframework.web.socket.config.annotation.WebSocketMessageBrokerConfigurer;\n\n@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/game-websocket&quot;);\n    }\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\n        config.enableSimpleBroker(&quot;/queue&quot;);\n    }\n}\n</code></pre>\n<p>And finally my Java controller class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.md.battleships;\n\nimport org.springframework.messaging.handler.annotation.MessageMapping;\nimport org.springframework.messaging.handler.annotation.SendTo;\nimport org.springframework.stereotype.Controller;\n\n@Controller\npublic class GameController {\n\n    @MessageMapping(&quot;/provideSession&quot;)\n    @SendTo(&quot;/sessionResponse&quot;)\n    public String handshake (String session) throws Exception{\n        System.out.println(session);\n        return &quot;kevoon (Entwicklung von Kevin)&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","jframe","jpanel","gridbaglayout"],"answers":[{"comments":[{"owner":{"account_id":29938279,"reputation":1,"user_id":22943458,"display_name":"KitchenSpice"},"score":0,"creation_date":1701190578,"post_id":77565151,"comment_id":136743524,"body_markdown":"The `JPanel` is meant to be the actual are the game is, while the `mainFrame` is meant to just be a background of the application that is meant to stay blank.","body":"The <code>JPanel</code> is meant to be the actual are the game is, while the <code>mainFrame</code> is meant to just be a background of the application that is meant to stay blank."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1701194409,"post_id":77565151,"comment_id":136744257,"body_markdown":"@KitchenSpice I understand. But my advice is to separate your JLabel from your game panel. This will give you the freedom to paint anywhere in the game panel instead of having to make sure that you aren&#39;t painting over the JLabel or that the JLabel is painting over your game.","body":"@KitchenSpice I understand. But my advice is to separate your JLabel from your game panel. This will give you the freedom to paint anywhere in the game panel instead of having to make sure that you aren&#39;t painting over the JLabel or that the JLabel is painting over your game."}],"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701190068,"creation_date":1701185562,"answer_id":77565151,"question_id":77565089,"body_markdown":"calling setSize isn&#39;t effective if you also have a layout manager. But what you can call is setPreferredSize\r\n\r\n        setPreferredSize(GameScreenSize);\r\n\r\nThe size you specify here is used by the LayoutManager in allocating space for this JComponent\r\n\r\nUsing `setPreferredSize` is often frowned upon but in your case (for building a game board) I think this is the best way to achieve what you&#39;d like. The only suggestion I&#39;d give is that it might be cleaner to add the JLabel directly to the JFrame contentpane or on a higher level JPanel than your visScreen, because if you do this you can safely `paint(Component)` to the entire area of the JPanel.\r\n\r\n        JPanel p = new JPanel();\r\n        p.add(TitleLabel, BorderLayout.NORTH);\r\n        p.add(new visScreen(this.getSize(), BorderLayout.CENTER);\r\n        gbc.gridx = 1;\r\n        gbc.gridy = 1;\r\n        gbl.setConstraints(p, gbc);\r\n        add(p,gbc);\r\n ","title":"Resizing and Relocating JPanels in a JFrame in Java","body":"<p>calling setSize isn't effective if you also have a layout manager. But what you can call is setPreferredSize</p>\n<pre><code>    setPreferredSize(GameScreenSize);\n</code></pre>\n<p>The size you specify here is used by the LayoutManager in allocating space for this JComponent</p>\n<p>Using <code>setPreferredSize</code> is often frowned upon but in your case (for building a game board) I think this is the best way to achieve what you'd like. The only suggestion I'd give is that it might be cleaner to add the JLabel directly to the JFrame contentpane or on a higher level JPanel than your visScreen, because if you do this you can safely <code>paint(Component)</code> to the entire area of the JPanel.</p>\n<pre><code>    JPanel p = new JPanel();\n    p.add(TitleLabel, BorderLayout.NORTH);\n    p.add(new visScreen(this.getSize(), BorderLayout.CENTER);\n    gbc.gridx = 1;\n    gbc.gridy = 1;\n    gbl.setConstraints(p, gbc);\n    add(p,gbc);\n</code></pre>\n"}],"owner":{"account_id":29938279,"reputation":1,"user_id":22943458,"display_name":"KitchenSpice"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701190068,"creation_date":1701185068,"question_id":77565089,"body_markdown":"I have been looking at how to use the `GridBagLayout` system for my java program. I am starting to use layouts because I kept reading and all the other articles use layouts and people keep saying that no layouts are buggy and messy. I was trying to make a game and wanted to create a whole application and a small window pane for the actual game. But when I go to set the location with `GridBagLayout.gridx()` and `GridBagLayout.gridy()`, it doesn&#39;t do anything. and when I set the layout of the `JFrame` from `null` to `GridBagLayout`, then the panel for the game gets resized so that it exactly fits the JLabel for the title in there.\r\n\r\n```\r\npackage MiniGolf;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.GridBagConstraints;\r\nimport java.awt.GridBagLayout;\r\nimport java.awt.Toolkit;\r\nimport java.io.IOException;\r\n\r\nimport javax.swing.JFrame;\r\n\r\npublic class mainFrame extends JFrame{\r\n    public mainFrame(){\r\n        try{\r\n        setIconImage(FileInterperiter.GameIcon);\r\n        System.out.println(MiniGolf.RanFor() + &quot;Succesfully set Application Icon&quot;);\r\n        } catch(Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        \r\n        getContentPane().setBackground(new Color(10,10,10));\r\n        setSize(Toolkit.getDefaultToolkit().getScreenSize());\r\n        \r\n        GridBagLayout gbl = new GridBagLayout();\r\n        GridBagConstraints gbc = new GridBagConstraints();\r\n        setLayout(gbl);\r\n        \r\n        gbc.gridx = 1;\r\n        gbc.gridy = 1;\r\n        gbl.setConstraints(new visScreen(this.getSize()), gbc);\r\n        add(new visScreen(this.getSize()));\r\n        \r\n        System.out.println(MiniGolf.RanFor() + &quot;Debug &quot; + gbc);\r\n        finishInit();\r\n    }\r\n\r\n    void finishInit(){\r\n        setVisible(true);\r\n        setMinimumSize(getContentPane().getComponent(0).getSize());\r\n        System.out.println();\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd for the `JPabel`:\r\n\r\n```\r\npackage MiniGolf;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Image;\r\n\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\n\r\npublic class visScreen extends JPanel{\r\n\r\n        Dimension GameScreenSize = new Dimension(600,600);\r\n\r\n    public visScreen(Dimension parentSize){\r\n        setBackground(new Color(10,100,10));\r\n        setForeground(new Color(10,100,10));\r\n        setSize(GameScreenSize);\r\n        setLocation((int) ((parentSize.getWidth() / 2) - (this.getWidth() / 2)),(int) ((parentSize.getHeight() / 2) - (this.getHeight() / 2)));\r\n        setVisible(true);\r\n        \r\n        JLabel TitleText = new JLabel(new ImageIcon(FileInterperiter.MenuTitle.getScaledInstance(300, 150, Image.SCALE_SMOOTH)));\r\n        add(TitleText);\r\n        System.out.println(MiniGolf.RanFor() + &quot;Applied Title Text Asset to Menu Screen&quot;);\r\n        TitleText.setLocation(60,60);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n......................","title":"Resizing and Relocating JPanels in a JFrame in Java","body":"<p>I have been looking at how to use the <code>GridBagLayout</code> system for my java program. I am starting to use layouts because I kept reading and all the other articles use layouts and people keep saying that no layouts are buggy and messy. I was trying to make a game and wanted to create a whole application and a small window pane for the actual game. But when I go to set the location with <code>GridBagLayout.gridx()</code> and <code>GridBagLayout.gridy()</code>, it doesn't do anything. and when I set the layout of the <code>JFrame</code> from <code>null</code> to <code>GridBagLayout</code>, then the panel for the game gets resized so that it exactly fits the JLabel for the title in there.</p>\n<pre><code>package MiniGolf;\n\nimport java.awt.Color;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Toolkit;\nimport java.io.IOException;\n\nimport javax.swing.JFrame;\n\npublic class mainFrame extends JFrame{\n    public mainFrame(){\n        try{\n        setIconImage(FileInterperiter.GameIcon);\n        System.out.println(MiniGolf.RanFor() + &quot;Succesfully set Application Icon&quot;);\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n        \n        getContentPane().setBackground(new Color(10,10,10));\n        setSize(Toolkit.getDefaultToolkit().getScreenSize());\n        \n        GridBagLayout gbl = new GridBagLayout();\n        GridBagConstraints gbc = new GridBagConstraints();\n        setLayout(gbl);\n        \n        gbc.gridx = 1;\n        gbc.gridy = 1;\n        gbl.setConstraints(new visScreen(this.getSize()), gbc);\n        add(new visScreen(this.getSize()));\n        \n        System.out.println(MiniGolf.RanFor() + &quot;Debug &quot; + gbc);\n        finishInit();\n    }\n\n    void finishInit(){\n        setVisible(true);\n        setMinimumSize(getContentPane().getComponent(0).getSize());\n        System.out.println();\n    }\n}\n\n</code></pre>\n<p>And for the <code>JPabel</code>:</p>\n<pre><code>package MiniGolf;\n\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Image;\n\nimport javax.swing.ImageIcon;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\n\npublic class visScreen extends JPanel{\n\n        Dimension GameScreenSize = new Dimension(600,600);\n\n    public visScreen(Dimension parentSize){\n        setBackground(new Color(10,100,10));\n        setForeground(new Color(10,100,10));\n        setSize(GameScreenSize);\n        setLocation((int) ((parentSize.getWidth() / 2) - (this.getWidth() / 2)),(int) ((parentSize.getHeight() / 2) - (this.getHeight() / 2)));\n        setVisible(true);\n        \n        JLabel TitleText = new JLabel(new ImageIcon(FileInterperiter.MenuTitle.getScaledInstance(300, 150, Image.SCALE_SMOOTH)));\n        add(TitleText);\n        System.out.println(MiniGolf.RanFor() + &quot;Applied Title Text Asset to Menu Screen&quot;);\n        TitleText.setLocation(60,60);\n    }\n}\n\n</code></pre>\n<p>......................</p>\n"},{"tags":["java","deserialization","guava","classcastexception"],"comments":[{"owner":{"account_id":36208,"reputation":240326,"user_id":103154,"display_name":"axtavt"},"score":0,"creation_date":1328180647,"post_id":9110677,"comment_id":11446089,"body_markdown":"Can you show the full stacktrace?","body":"Can you show the full stacktrace?"}],"answers":[{"comments":[{"owner":{"account_id":1217504,"reputation":440,"user_id":1184800,"display_name":"Cl&#233;ment Hurlin"},"score":0,"creation_date":1328257685,"post_id":9114675,"comment_id":11467993,"body_markdown":"I could not reproduce the bug on a small standalone program.","body":"I could not reproduce the bug on a small standalone program."}],"tags":[],"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1328195365,"creation_date":1328195365,"answer_id":9114675,"question_id":9110677,"body_markdown":"Please file a bug:\r\nhttp://code.google.com/p/guava-libraries/issues/entry\r\n\r\nIf you can attach a standalone program that triggers this error for you, that would help!","title":"readResolve not working ? : an instance of Guava&#39;s SerializedForm appears","body":"<p>Please file a bug:\n<a href=\"http://code.google.com/p/guava-libraries/issues/entry\" rel=\"nofollow\">http://code.google.com/p/guava-libraries/issues/entry</a></p>\n\n<p>If you can attach a standalone program that triggers this error for you, that would help!</p>\n"},{"tags":[],"owner":{"account_id":1217504,"reputation":440,"user_id":1184800,"display_name":"Cl&#233;ment Hurlin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1328257876,"creation_date":1328257876,"answer_id":9125732,"question_id":9110677,"body_markdown":"We found how to avoid the bug, but did not find what caused it.\r\n\r\nWhen we deserialize an instance of ArrayListMultiMap, the class loader cannot find one of our class (com.blah....), because Guava&#39;s class loader is used (in code called from ObjectInputStream#resolveClass) instead of the default class loader. Then, ObjectInputStream propagates the failure by filling its instance of HandleList#entries with ClassCastExceptions. Such exceptions ultimately cause a readResolve to be skipped, which explains why an ImmutableMap$SerializedForm shows up.\r\n\r\nWhat is weird is that we serialize and deserialize a lot of other data structures (both our own and guava&#39;s). Serializing guava&#39;s ArrayListMultimap ourself (with a custom writeObject) avoids the bug (even if we serialize instances of Guava&#39;s collections (not Multimaps though)).\r\n\r\nWe do not understand why the class loader suddenly becomes wrong, but a bug must be lurking somewhere. I believe we received ClassCastException instead of ClassNotFoundException, because error handling in ObjectInputStream is wrong (readResolve should not have been skipped even if some class is missing).","title":"readResolve not working ? : an instance of Guava&#39;s SerializedForm appears","body":"<p>We found how to avoid the bug, but did not find what caused it.</p>\n\n<p>When we deserialize an instance of ArrayListMultiMap, the class loader cannot find one of our class (com.blah....), because Guava's class loader is used (in code called from ObjectInputStream#resolveClass) instead of the default class loader. Then, ObjectInputStream propagates the failure by filling its instance of HandleList#entries with ClassCastExceptions. Such exceptions ultimately cause a readResolve to be skipped, which explains why an ImmutableMap$SerializedForm shows up.</p>\n\n<p>What is weird is that we serialize and deserialize a lot of other data structures (both our own and guava's). Serializing guava's ArrayListMultimap ourself (with a custom writeObject) avoids the bug (even if we serialize instances of Guava's collections (not Multimaps though)).</p>\n\n<p>We do not understand why the class loader suddenly becomes wrong, but a bug must be lurking somewhere. I believe we received ClassCastException instead of ClassNotFoundException, because error handling in ObjectInputStream is wrong (readResolve should not have been skipped even if some class is missing).</p>\n"},{"comments":[{"owner":{"account_id":13908,"reputation":7947,"user_id":28190,"accept_rate":67,"display_name":"Dan Gravell"},"score":1,"creation_date":1367604858,"post_id":9391244,"comment_id":23448758,"body_markdown":"I&#39;ve also seen this in OSGi environments. I had one bundle responsible for [de]serialisation at the database layer where I had no control over how class loaders were used. As a result I had to set DynamicImport-Package: * to make sure all classes could be seen. Unfortunately I&#39;d forgotten to export a package from a bundle which contained classes to deserialize, and furthermore forgot to implement a serialisation proxy in this class. I ran a debugger and I too saw the ClassNotFoundException occurring. Shame this isn&#39;t reported!","body":"I&#39;ve also seen this in OSGi environments. I had one bundle responsible for [de]serialisation at the database layer where I had no control over how class loaders were used. As a result I had to set DynamicImport-Package: * to make sure all classes could be seen. Unfortunately I&#39;d forgotten to export a package from a bundle which contained classes to deserialize, and furthermore forgot to implement a serialisation proxy in this class. I ran a debugger and I too saw the ClassNotFoundException occurring. Shame this isn&#39;t reported!"}],"tags":[],"owner":{"account_id":1217504,"reputation":440,"user_id":1184800,"display_name":"Cl&#233;ment Hurlin"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1329898593,"creation_date":1329898593,"answer_id":9391244,"question_id":9110677,"body_markdown":"This week, we faced again this bug; but I found the root reason. The class loader used by ObjectInputStream is highly-context dependant (some would say *indeterministic*). Here is the relevant part of Sun&#39;s documentation (it&#39;s an excerpt from ObjectInputStream#resolveClass(ObjectStreamClass)):\r\n\r\n&gt; [The class loader] is determined as follows: if there is a method on the current thread&#39;s stack whose declaring class was defined by a user-defined class loader (and was not a generated to implement reflective invocations), then it is the class loader corresponding to the closest such method to the currently executing frame; otherwise, it is null. If this call results in a ClassNotFoundException and the name of the passed ObjectStreamClass instance is the Java language keyword for a primitive type or void, then the Class object representing that primitive type or void will be returned (e.g., an ObjectStreamClass with the name &quot;int&quot; will be resolved to Integer.TYPE). Otherwise, the ClassNotFoundException will be thrown to the caller of this method. \r\n\r\nIn our application, we have an Eclipse plugin B that depends on an utility-only plugin A. We were deserializing objects whose classes are in B, but deserialization was initiated in A (creating an ObjectInputStream there), and that was the problem. Rarely (i.e. depending on the call stack as the doc says) deserialization chose the wrong class loader (one that could not load B-classses). To solve this problem, we passed an appropriate loader from the top-level deserialization caller (in B) to the utility method in A. This method now uses a custom ObjectInputStream as follows (note the free variable &quot;loader&quot;):\r\n\r\n    ObjectInputStream ois = new ObjectInputStream(new FileInputStream(file)) {\r\n\t\t\t\t\t@SuppressWarnings(&quot;rawtypes&quot;)\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tprotected Class resolveClass(ObjectStreamClass objectStreamClass)\r\n\t\t\t\t\t\t\tthrows IOException, ClassNotFoundException {\r\n\t\t\t\t\t\treturn Class.forName(objectStreamClass.getName(), true, loader);\r\n\t\t\t\t\t}\r\n\t\t\t\t};","title":"readResolve not working ? : an instance of Guava&#39;s SerializedForm appears","body":"<p>This week, we faced again this bug; but I found the root reason. The class loader used by ObjectInputStream is highly-context dependant (some would say <em>indeterministic</em>). Here is the relevant part of Sun's documentation (it's an excerpt from ObjectInputStream#resolveClass(ObjectStreamClass)):</p>\n\n<blockquote>\n  <p>[The class loader] is determined as follows: if there is a method on the current thread's stack whose declaring class was defined by a user-defined class loader (and was not a generated to implement reflective invocations), then it is the class loader corresponding to the closest such method to the currently executing frame; otherwise, it is null. If this call results in a ClassNotFoundException and the name of the passed ObjectStreamClass instance is the Java language keyword for a primitive type or void, then the Class object representing that primitive type or void will be returned (e.g., an ObjectStreamClass with the name \"int\" will be resolved to Integer.TYPE). Otherwise, the ClassNotFoundException will be thrown to the caller of this method. </p>\n</blockquote>\n\n<p>In our application, we have an Eclipse plugin B that depends on an utility-only plugin A. We were deserializing objects whose classes are in B, but deserialization was initiated in A (creating an ObjectInputStream there), and that was the problem. Rarely (i.e. depending on the call stack as the doc says) deserialization chose the wrong class loader (one that could not load B-classses). To solve this problem, we passed an appropriate loader from the top-level deserialization caller (in B) to the utility method in A. This method now uses a custom ObjectInputStream as follows (note the free variable \"loader\"):</p>\n\n<pre><code>ObjectInputStream ois = new ObjectInputStream(new FileInputStream(file)) {\n                @SuppressWarnings(\"rawtypes\")\n                @Override\n                protected Class resolveClass(ObjectStreamClass objectStreamClass)\n                        throws IOException, ClassNotFoundException {\n                    return Class.forName(objectStreamClass.getName(), true, loader);\n                }\n            };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114090,"reputation":1962,"user_id":300162,"display_name":"Bob Lee"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1378426672,"creation_date":1378426672,"answer_id":18647941,"question_id":9110677,"body_markdown":"The problem is that writeReplace()/readResolve() don&#39;t play nicely with circular references in your object graph. writeReplace() and readResolve() are asymmetric. During serialization, Java will replace all references, including circular references. But during deserialization, Java will not resolve circular references. This is unfortunately by design. From [the serialization spec](http://docs.oracle.com/javase/7/docs/platform/serialization/spec/input.html#5903):\r\n\r\n&gt; Note - The readResolve method is not invoked on the object until the\r\n&gt; object is fully constructed, so any references to this object in its\r\n&gt; object graph will not be updated to the new object nominated by\r\n&gt; readResolve. However, during the serialization of an object with the\r\n&gt; writeReplace method, all references to the original object in the\r\n&gt; replacement object&#39;s object graph are replaced with references to the\r\n&gt; replacement object. Therefore in cases where an object being\r\n&gt; serialized nominates a replacement object whose object graph has a\r\n&gt; reference to the original object, deserialization will result in an\r\n&gt; incorrect graph of objects. Furthermore, if the reference types of the\r\n&gt; object being read (nominated by writeReplace) and the original object\r\n&gt; are not compatible, the construction of the object graph will raise a\r\n&gt; ClassCastException.\r\n\r\nThe Guava developers could work around this problem by making ImmutableMap$SerializedForm extend ImmutableMap and delegate to the proper ImmutableMap instance. When a circular reference occurs, the caller will get the SerializedForm instead of a direct reference to the ImmutableMap, but it&#39;s better than a ClassCastException.\r\n","title":"readResolve not working ? : an instance of Guava&#39;s SerializedForm appears","body":"<p>The problem is that writeReplace()/readResolve() don't play nicely with circular references in your object graph. writeReplace() and readResolve() are asymmetric. During serialization, Java will replace all references, including circular references. But during deserialization, Java will not resolve circular references. This is unfortunately by design. From <a href=\"http://docs.oracle.com/javase/7/docs/platform/serialization/spec/input.html#5903\" rel=\"nofollow\">the serialization spec</a>:</p>\n\n<blockquote>\n  <p>Note - The readResolve method is not invoked on the object until the\n  object is fully constructed, so any references to this object in its\n  object graph will not be updated to the new object nominated by\n  readResolve. However, during the serialization of an object with the\n  writeReplace method, all references to the original object in the\n  replacement object's object graph are replaced with references to the\n  replacement object. Therefore in cases where an object being\n  serialized nominates a replacement object whose object graph has a\n  reference to the original object, deserialization will result in an\n  incorrect graph of objects. Furthermore, if the reference types of the\n  object being read (nominated by writeReplace) and the original object\n  are not compatible, the construction of the object graph will raise a\n  ClassCastException.</p>\n</blockquote>\n\n<p>The Guava developers could work around this problem by making ImmutableMap$SerializedForm extend ImmutableMap and delegate to the proper ImmutableMap instance. When a circular reference occurs, the caller will get the SerializedForm instead of a direct reference to the ImmutableMap, but it's better than a ClassCastException.</p>\n"},{"tags":[],"owner":{"account_id":341412,"reputation":1534,"user_id":672008,"display_name":"oae"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459342453,"creation_date":1459342453,"answer_id":36309496,"question_id":9110677,"body_markdown":"Had the same problem. Turned out that the class of the member objects of an immutable list were not on the classpath of the deserialization side.\r\nBut that fact was hidden behind the ClassCastException.\r\n\r\nNow i&#39;m doing better error detection with this construct:\r\n\r\n    final ImmutableSet.Builder&lt;Object&gt; notFoundClasses = ImmutableSet.builder();\r\n        try {\r\n            ObjectInputStream objectInputStream = new ObjectInputStream(inputStream) {\r\n                @Override\r\n                protected Class&lt;?&gt; resolveClass(ObjectStreamClass desc) throws IOException, ClassNotFoundException {\r\n                    try {\r\n                        return super.resolveClass(desc);\r\n                    } catch (ClassNotFoundException e) {\r\n                        notFoundClasses.add(desc.getName());\r\n                        throw e;\r\n                    }\r\n                }\r\n            };\r\n            return (T) objectInputStream.readObject();\r\n        } catch (ClassCastException e) {\r\n            throw Exceptions.runtime(e, &quot;ClassCastException while de-serializing &#39;%s&#39;, classes not found are: %s&quot;, objectClass, notFoundClasses.build());\r\n        } catch (IOException | ClassNotFoundException e) {\r\n            throw Exceptions.runtime(e, &quot;Could not de-serialize &#39;%s&#39;&quot;, objectClass);\r\n        }","title":"readResolve not working ? : an instance of Guava&#39;s SerializedForm appears","body":"<p>Had the same problem. Turned out that the class of the member objects of an immutable list were not on the classpath of the deserialization side.\nBut that fact was hidden behind the ClassCastException.</p>\n\n<p>Now i'm doing better error detection with this construct:</p>\n\n<pre><code>final ImmutableSet.Builder&lt;Object&gt; notFoundClasses = ImmutableSet.builder();\n    try {\n        ObjectInputStream objectInputStream = new ObjectInputStream(inputStream) {\n            @Override\n            protected Class&lt;?&gt; resolveClass(ObjectStreamClass desc) throws IOException, ClassNotFoundException {\n                try {\n                    return super.resolveClass(desc);\n                } catch (ClassNotFoundException e) {\n                    notFoundClasses.add(desc.getName());\n                    throw e;\n                }\n            }\n        };\n        return (T) objectInputStream.readObject();\n    } catch (ClassCastException e) {\n        throw Exceptions.runtime(e, \"ClassCastException while de-serializing '%s', classes not found are: %s\", objectClass, notFoundClasses.build());\n    } catch (IOException | ClassNotFoundException e) {\n        throw Exceptions.runtime(e, \"Could not de-serialize '%s'\", objectClass);\n    }\n</code></pre>\n"}],"owner":{"account_id":1217504,"reputation":440,"user_id":1184800,"display_name":"Cl&#233;ment Hurlin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4662,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":9391244,"answer_count":5,"score":12,"last_activity_date":1701188722,"creation_date":1328178314,"question_id":9110677,"body_markdown":"During deserialization of one of our data structure (using the default mechanism (no custom writeObject/readObject)), an instance of ImmutableMap$SerializedForm (from google&#39;s Guava library) shows up.\r\n\r\nSuch an instance should not be visible from clients of guava because instances of SerializedForm are replaced using readResolve (see for example &quot;writeReplace&quot; in class com.google.common.collect.ImmutableMap).\r\n\r\nHence deserialization fails with the following message : \r\n\r\n    java.lang.ClassCastException: cannot assign instance of com.google.common.collect.ImmutableMap$SerializedForm\r\n    to field .. of type java.util.Map in instance of com.blah.C\r\n\r\nThis is right since ImmutableMap$SerializedForm is not a subtype of java.util.Map, yet\r\nit should have been replaced. What is going wrong ?\r\n\r\nWe have no custom writeObject/readObject in class com.blah.C. We do have custom serialization code in parent objects (that contain com.blah.C).\r\n\r\n**update, here&#39;s the top of the stacktrace:**\r\n\r\n    java.lang.ClassCastException: cannot assign instance of com.google.common.collect.ImmutableSet$SerializedForm to field com.blah.ast.Automaton.bodyNodes of type java.util.Set in instance of com.blah.ast.Automaton\r\n\tat java.io.ObjectStreamClass$FieldReflector.setObjFieldValues(ObjectStreamClass.java:2039)\r\n\tat java.io.ObjectStreamClass.setObjFieldValues(ObjectStreamClass.java:1212)\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1952)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1870)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1752)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1328)\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:350)\r\n\tat java.util.ArrayList.readObject(ArrayList.java:593)\r\n\tat sun.reflect.GeneratedMethodAccessor9.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:974)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1848)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1752)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1328)\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1946)\r\n\tat java.io.ObjectInputStream.defaultReadObject(ObjectInputStream.java:479)\r\n\tat com.blah.ast.AstNode.readObject(AstNode.java:189)\r\n\tat sun.reflect.GeneratedMethodAccessor10.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:974)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1848)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1752)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1328)\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:350)\r\n\tat java.util.ArrayList.readObject(ArrayList.java:593)\r\n\tat sun.reflect.GeneratedMethodAccessor9.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:974)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1848)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1752)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1328)\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1946)\r\n\tat java.io.ObjectInputStream.defaultReadObject(ObjectInputStream.java:479)\r\n\tat com.blah.ast.AstNode.readObject(AstNode.java:189)","title":"readResolve not working ? : an instance of Guava&#39;s SerializedForm appears","body":"<p>During deserialization of one of our data structure (using the default mechanism (no custom writeObject/readObject)), an instance of ImmutableMap$SerializedForm (from google's Guava library) shows up.</p>\n\n<p>Such an instance should not be visible from clients of guava because instances of SerializedForm are replaced using readResolve (see for example \"writeReplace\" in class com.google.common.collect.ImmutableMap).</p>\n\n<p>Hence deserialization fails with the following message : </p>\n\n<pre><code>java.lang.ClassCastException: cannot assign instance of com.google.common.collect.ImmutableMap$SerializedForm\nto field .. of type java.util.Map in instance of com.blah.C\n</code></pre>\n\n<p>This is right since ImmutableMap$SerializedForm is not a subtype of java.util.Map, yet\nit should have been replaced. What is going wrong ?</p>\n\n<p>We have no custom writeObject/readObject in class com.blah.C. We do have custom serialization code in parent objects (that contain com.blah.C).</p>\n\n<p><strong>update, here's the top of the stacktrace:</strong></p>\n\n<pre><code>java.lang.ClassCastException: cannot assign instance of com.google.common.collect.ImmutableSet$SerializedForm to field com.blah.ast.Automaton.bodyNodes of type java.util.Set in instance of com.blah.ast.Automaton\nat java.io.ObjectStreamClass$FieldReflector.setObjFieldValues(ObjectStreamClass.java:2039)\nat java.io.ObjectStreamClass.setObjFieldValues(ObjectStreamClass.java:1212)\nat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1952)\nat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1870)\nat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1752)\nat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1328)\nat java.io.ObjectInputStream.readObject(ObjectInputStream.java:350)\nat java.util.ArrayList.readObject(ArrayList.java:593)\nat sun.reflect.GeneratedMethodAccessor9.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:597)\nat java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:974)\nat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1848)\nat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1752)\nat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1328)\nat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1946)\nat java.io.ObjectInputStream.defaultReadObject(ObjectInputStream.java:479)\nat com.blah.ast.AstNode.readObject(AstNode.java:189)\nat sun.reflect.GeneratedMethodAccessor10.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:597)\nat java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:974)\nat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1848)\nat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1752)\nat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1328)\nat java.io.ObjectInputStream.readObject(ObjectInputStream.java:350)\nat java.util.ArrayList.readObject(ArrayList.java:593)\nat sun.reflect.GeneratedMethodAccessor9.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:597)\nat java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:974)\nat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1848)\nat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1752)\nat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1328)\nat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1946)\nat java.io.ObjectInputStream.defaultReadObject(ObjectInputStream.java:479)\nat com.blah.ast.AstNode.readObject(AstNode.java:189)\n</code></pre>\n"},{"tags":["java","computer-science"],"comments":[{"owner":{"account_id":3106249,"reputation":6417,"user_id":2628956,"accept_rate":100,"display_name":"Rakesh KR"},"score":1,"creation_date":1670756405,"post_id":74760180,"comment_id":131942668,"body_markdown":"`StationReport` is your class name, then your constructor should be `public StationReport(String name, int x, int y, String date, int time, double temp, double dewpt, double press){`","body":"<code>StationReport</code> is your class name, then your constructor should be <code>public StationReport(String name, int x, int y, String date, int time, double temp, double dewpt, double press){</code>"},{"owner":{"account_id":27123034,"reputation":1993,"user_id":20666497,"display_name":"Albina"},"score":1,"creation_date":1670756425,"post_id":74760180,"comment_id":131942673,"body_markdown":"Your class is called **StationReport**. Constructor&#39;s name should also be called the same.","body":"Your class is called <b>StationReport</b>. Constructor&#39;s name should also be called the same."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1670756486,"post_id":74760180,"comment_id":131942685,"body_markdown":"construtor method name must same as class name, your class name `StationReport`, your construtor method name is `Station`.  `Station` vs `StationReport`, it it not the same.","body":"construtor method name must same as class name, your class name <code>StationReport</code>, your construtor method name is <code>Station</code>.  <code>Station</code> vs <code>StationReport</code>, it it not the same."}],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701188533,"creation_date":1670756509,"answer_id":74760235,"question_id":74760180,"body_markdown":"Constructor name must match the class name, and it cannot have a return type.\r\n\r\nOracle Tutorial: [constructors][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/constructors.html","title":"How do I fix this issue for constructing an object, declaring a method in java?","body":"<p>Constructor name must match the class name, and it cannot have a return type.</p>\n<p>Oracle Tutorial: <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/constructors.html\" rel=\"nofollow noreferrer\">constructors</a></p>\n"},{"tags":[],"owner":{"account_id":18333967,"reputation":1,"user_id":13351787,"display_name":"sfs1721"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670756579,"creation_date":1670756579,"answer_id":74760243,"question_id":74760180,"body_markdown":"        /*# YOUR CODE HERE */\r\n    public Station(String name, int x, int y, String date, int time, double temp, double dewpt, double press){\r\n    this.NAME = name;\r\n    this.xCoordinate = x;\r\n    this.yCoordinate = y;\r\n    this.dATE = date;\r\n    this.t = time;\r\n    this.temperature = temp;\r\n    this.dewPoint = dewpt;\r\n    this.pressure = press;\r\n    }\r\n\r\n\r\nThere is a mistake in your constructor\r\nAlways ClassName and constructor name should match \r\nHere replace the above methods name same as class name it will work","title":"How do I fix this issue for constructing an object, declaring a method in java?","body":"<pre><code>    /*# YOUR CODE HERE */\npublic Station(String name, int x, int y, String date, int time, double temp, double dewpt, double press){\nthis.NAME = name;\nthis.xCoordinate = x;\nthis.yCoordinate = y;\nthis.dATE = date;\nthis.t = time;\nthis.temperature = temp;\nthis.dewPoint = dewpt;\nthis.pressure = press;\n}\n</code></pre>\n<p>There is a mistake in your constructor\nAlways ClassName and constructor name should match\nHere replace the above methods name same as class name it will work</p>\n"}],"owner":{"account_id":25432602,"reputation":21,"user_id":19236762,"display_name":"Zynbad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701188533,"creation_date":1670756016,"question_id":74760180,"body_markdown":"It states that there is an error for my construtor method for &quot;*public station*&quot;, it says I need a return type but in my previous codes I&#39;ve never had that issue when trying to construct an object. If i use public void then I am unable to create that object since something is wrong with my constructor.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nthis is when I use &quot;public void station\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n    public class StationReport{\r\n    //fields\r\n    /*# YOUR CODE HERE */\r\n    private String NAME;\r\n    private int yCoordinate;\r\n    private int xCoordinate;\r\n    private String dATE;\r\n    private int t;\r\n    private double temperature;\r\n    private double dewPoint;\r\n    private double pressure;\r\n\r\n    //Constructor\r\n    /*# YOUR CODE HERE */\r\n    public Station(String name, int x, int y, String date, int time, double temp, double dewpt, double press){\r\n    this.NAME = name;\r\n    this.xCoordinate = x;\r\n    this.yCoordinate = y;\r\n    this.dATE = date;\r\n    this.t = time;\r\n    this.temperature = temp;\r\n    this.dewPoint = dewpt;\r\n    this.pressure = press;\r\n    }\r\n\r\n    \r\n    // Getter methods\r\n    /*# YOUR CODE HERE */\r\n    public String getName(){\r\n    return this.NAME;\r\n    }  \r\n    \r\n    public int getX(){\r\n    return this.xCoordinate;\r\n    }\r\n    \r\n    public int getY(){\r\n    return this.yCoordinate;\r\n    }\r\n    \r\n    public String getDate(){\r\n    return this.dATE;\r\n    }\r\n    \r\n    public int getTime(){\r\n    return this.t;\r\n    }\r\n    \r\n    public double getTemperature(){\r\n    return this.temperature;\r\n    }\r\n    \r\n    public double getDewPoint(){\r\n    return this.dewPoint;\r\n    }\r\n    \r\n    public double getPressure(){\r\n    return this.pressure;\r\n    }\r\n\r\n    // toString method\r\n    /** YOUR DOCUMENTATION COMMENT */\r\n    public String toString(){\r\n        /*# YOUR CODE HERE */\r\n        return NAME + &quot;: &quot; + xCoordinate + &quot;: &quot; + yCoordinate + &quot;: &quot; + dATE + &quot;: &quot; + t + &quot;: &quot; + temperature + &quot;: &quot; + dewPoint + &quot;: &quot; + pressure + &quot;: &quot;;\r\n    }\r\n}\r\n\r\n\r\nthis is the code for when I am trying to create the object but it says that something is wrong with my constructor.\r\n\r\n\r\n```\r\n/**  \r\n     * Loads all the reports from the stations out of the file into\r\n     * the list of all reports.\r\n     */\r\n    public void loadReports(){\r\n        this.allReports.clear();\r\n        try {\r\n            List&lt;String&gt; lines = Files.readAllLines(Path.of(&quot;reports.txt&quot;));\r\n            for (String line: lines){\r\n                Scanner sc = new Scanner(line);\r\n                String name = sc.next();\r\n                int x = sc.nextInt();\r\n                int y = sc.nextInt();\r\n                String date = sc.next();\r\n                int time = sc.nextInt();\r\n                double temp = sc.nextDouble();\r\n                double dewpt = sc.nextDouble();\r\n                double press = sc.nextDouble();\r\n                StationReport report = new StationReport(name, x, y, date, time, temp, dewpt, press);\r\n                this.allReports.add(report);\r\n            }\r\n            UI.printf(&quot;Loaded %d reports.\\n&quot;, allReports.size());\r\n        } catch(IOException e){UI.println(&quot;File reading failed&quot;);}    \r\n    }\r\n```\r\n\r\n\r\n\r\nI tried everything i could but nothing worked.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ebTYd.png\r\n  [2]: https://i.stack.imgur.com/w5bbA.png","title":"How do I fix this issue for constructing an object, declaring a method in java?","body":"<p>It states that there is an error for my construtor method for &quot;<em>public station</em>&quot;, it says I need a return type but in my previous codes I've never had that issue when trying to construct an object. If i use public void then I am unable to create that object since something is wrong with my constructor.</p>\n<p><a href=\"https://i.stack.imgur.com/ebTYd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ebTYd.png\" alt=\"enter image description here\" /></a></p>\n<p>this is when I use &quot;public void station</p>\n<p><a href=\"https://i.stack.imgur.com/w5bbA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w5bbA.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public class StationReport{\n//fields\n/*# YOUR CODE HERE */\nprivate String NAME;\nprivate int yCoordinate;\nprivate int xCoordinate;\nprivate String dATE;\nprivate int t;\nprivate double temperature;\nprivate double dewPoint;\nprivate double pressure;\n\n//Constructor\n/*# YOUR CODE HERE */\npublic Station(String name, int x, int y, String date, int time, double temp, double dewpt, double press){\nthis.NAME = name;\nthis.xCoordinate = x;\nthis.yCoordinate = y;\nthis.dATE = date;\nthis.t = time;\nthis.temperature = temp;\nthis.dewPoint = dewpt;\nthis.pressure = press;\n}\n\n\n// Getter methods\n/*# YOUR CODE HERE */\npublic String getName(){\nreturn this.NAME;\n}  \n\npublic int getX(){\nreturn this.xCoordinate;\n}\n\npublic int getY(){\nreturn this.yCoordinate;\n}\n\npublic String getDate(){\nreturn this.dATE;\n}\n\npublic int getTime(){\nreturn this.t;\n}\n\npublic double getTemperature(){\nreturn this.temperature;\n}\n\npublic double getDewPoint(){\nreturn this.dewPoint;\n}\n\npublic double getPressure(){\nreturn this.pressure;\n}\n\n// toString method\n/** YOUR DOCUMENTATION COMMENT */\npublic String toString(){\n    /*# YOUR CODE HERE */\n    return NAME + &quot;: &quot; + xCoordinate + &quot;: &quot; + yCoordinate + &quot;: &quot; + dATE + &quot;: &quot; + t + &quot;: &quot; + temperature + &quot;: &quot; + dewPoint + &quot;: &quot; + pressure + &quot;: &quot;;\n}\n</code></pre>\n<p>}</p>\n<p>this is the code for when I am trying to create the object but it says that something is wrong with my constructor.</p>\n<pre><code>/**  \n     * Loads all the reports from the stations out of the file into\n     * the list of all reports.\n     */\n    public void loadReports(){\n        this.allReports.clear();\n        try {\n            List&lt;String&gt; lines = Files.readAllLines(Path.of(&quot;reports.txt&quot;));\n            for (String line: lines){\n                Scanner sc = new Scanner(line);\n                String name = sc.next();\n                int x = sc.nextInt();\n                int y = sc.nextInt();\n                String date = sc.next();\n                int time = sc.nextInt();\n                double temp = sc.nextDouble();\n                double dewpt = sc.nextDouble();\n                double press = sc.nextDouble();\n                StationReport report = new StationReport(name, x, y, date, time, temp, dewpt, press);\n                this.allReports.add(report);\n            }\n            UI.printf(&quot;Loaded %d reports.\\n&quot;, allReports.size());\n        } catch(IOException e){UI.println(&quot;File reading failed&quot;);}    \n    }\n</code></pre>\n<p>I tried everything i could but nothing worked.</p>\n"},{"tags":["java","openapi-generator","openapi-generator-maven-plugin"],"owner":{"account_id":3642,"reputation":1809,"user_id":5264,"accept_rate":88,"display_name":"J&#246;rgen Lundberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701188127,"creation_date":1701188127,"question_id":77565453,"body_markdown":"If i define a property like this:\r\n\r\n      scopes:\r\n        type: array\r\n        default: []\r\n        items:\r\n           type: string\r\n\r\nThe generated property is an ArrayList\r\n\r\n      @JsonProperty(&quot;scopes&quot;)\r\n      @Valid\r\n      private List&lt;String&gt; scopes = new ArrayList&lt;&gt;();\r\n\r\nHowever, if I want a set and use\r\n\r\n    uniqueItems: true\r\n\r\nI don&#39;t get a default value\r\n\r\n      @JsonProperty(&quot;scopes&quot;)\r\n      @Valid\r\n      private Set&lt;String&gt; scopes;\r\n\r\nHow can I get the following?\r\n\r\n      @JsonProperty(&quot;scopes&quot;)\r\n      @Valid\r\n      private Set&lt;String&gt; scopes = new LinkedHashSet();\r\n","title":"With openapi-generator, how do you generate a default value for a set","body":"<p>If i define a property like this:</p>\n<pre><code>  scopes:\n    type: array\n    default: []\n    items:\n       type: string\n</code></pre>\n<p>The generated property is an ArrayList</p>\n<pre><code>  @JsonProperty(&quot;scopes&quot;)\n  @Valid\n  private List&lt;String&gt; scopes = new ArrayList&lt;&gt;();\n</code></pre>\n<p>However, if I want a set and use</p>\n<pre><code>uniqueItems: true\n</code></pre>\n<p>I don't get a default value</p>\n<pre><code>  @JsonProperty(&quot;scopes&quot;)\n  @Valid\n  private Set&lt;String&gt; scopes;\n</code></pre>\n<p>How can I get the following?</p>\n<pre><code>  @JsonProperty(&quot;scopes&quot;)\n  @Valid\n  private Set&lt;String&gt; scopes = new LinkedHashSet();\n</code></pre>\n"},{"tags":["javascript","java","localhost","vaadin","webauthn"],"answers":[{"comments":[{"owner":{"account_id":2762524,"reputation":131,"user_id":2379123,"accept_rate":88,"display_name":"user2379123"},"score":0,"creation_date":1701194356,"post_id":77565444,"comment_id":136744247,"body_markdown":"How did you use a self-signed certificate?","body":"How did you use a self-signed certificate?"},{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1701198327,"post_id":77565444,"comment_id":136744882,"body_markdown":"@user2379123 Why do you accept the answer, if it does not answer your question?","body":"@user2379123 Why do you accept the answer, if it does not answer your question?"},{"owner":{"account_id":2762524,"reputation":131,"user_id":2379123,"accept_rate":88,"display_name":"user2379123"},"score":0,"creation_date":1701201270,"post_id":77565444,"comment_id":136745385,"body_markdown":"@cfrick It does answer my question.","body":"@cfrick It does answer my question."}],"tags":[],"owner":{"account_id":29278066,"reputation":46,"user_id":22431349,"display_name":"Michael Braga"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701188069,"creation_date":1701188069,"answer_id":77565444,"question_id":77558218,"body_markdown":"Had a similar issue. But I successfully configured my local test site to work with subdomains using a self-signed certificate.","title":"WebAuthn: Does navigator.credentials.create() work from localhost to another (sub)domain?","body":"<p>Had a similar issue. But I successfully configured my local test site to work with subdomains using a self-signed certificate.</p>\n"}],"owner":{"account_id":2762524,"reputation":131,"user_id":2379123,"accept_rate":88,"display_name":"user2379123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77565444,"answer_count":1,"score":2,"last_activity_date":1701188069,"creation_date":1701100139,"question_id":77558218,"body_markdown":"I am trying to develope the WebAuthn registration flow in Java.\r\nFor this reason I got access to the privacyIDEA server from my university.\r\nLet&#39;s assume, for example, that the origin domain from my university is called `university-server.com`. The privacyIDEA server has the subdomain `webauthn.university-server.com`.\r\nFor building the web application I am using Vaadin.\r\n\r\nIf I start the web application, Tomcat will be started as local web server.\r\nThe idea behind this web application is: \r\n\r\n - Users can log in with their username and password and create a WebAuthn token as their 2nd factor.\r\n - The registration process should be triggered when users press on a button.\r\n - If enrollment succeed, the WebAuthn token should be saved on `webauthn.university-server.com`.\r\n\r\nFrom here, I encountered two problems:\r\n\r\n**Problem 1**:\r\n\r\nOn the localhost site, I am prompted to use my security key, but the registration process is never completed. Apparently the data never arrives.\r\n\r\n**Problem 2**:\r\n\r\nIf I set in the JavaScript function `navigator.credentials.create()` the parameter rp (Relying Party) to the subdomain `webauthn.university-server.com` and start the web application,\r\nunlike the first problem, I will never be prompted to use my security key. Instead, the error &quot;The operation is insecure&quot; appears.\r\n\r\nCan the WebAuth enrollment work at all with my test environment?\r\nTo be honest, I am not sure about this.\r\n","title":"WebAuthn: Does navigator.credentials.create() work from localhost to another (sub)domain?","body":"<p>I am trying to develope the WebAuthn registration flow in Java.\nFor this reason I got access to the privacyIDEA server from my university.\nLet's assume, for example, that the origin domain from my university is called <code>university-server.com</code>. The privacyIDEA server has the subdomain <code>webauthn.university-server.com</code>.\nFor building the web application I am using Vaadin.</p>\n<p>If I start the web application, Tomcat will be started as local web server.\nThe idea behind this web application is:</p>\n<ul>\n<li>Users can log in with their username and password and create a WebAuthn token as their 2nd factor.</li>\n<li>The registration process should be triggered when users press on a button.</li>\n<li>If enrollment succeed, the WebAuthn token should be saved on <code>webauthn.university-server.com</code>.</li>\n</ul>\n<p>From here, I encountered two problems:</p>\n<p><strong>Problem 1</strong>:</p>\n<p>On the localhost site, I am prompted to use my security key, but the registration process is never completed. Apparently the data never arrives.</p>\n<p><strong>Problem 2</strong>:</p>\n<p>If I set in the JavaScript function <code>navigator.credentials.create()</code> the parameter rp (Relying Party) to the subdomain <code>webauthn.university-server.com</code> and start the web application,\nunlike the first problem, I will never be prompted to use my security key. Instead, the error &quot;The operation is insecure&quot; appears.</p>\n<p>Can the WebAuth enrollment work at all with my test environment?\nTo be honest, I am not sure about this.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9886,"page":31,"page_size":100}
