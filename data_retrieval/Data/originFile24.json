{"items":[{"tags":["java","numberformatexception","parseint"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1701459986,"post_id":77587713,"comment_id":136782680,"body_markdown":"The posted code has syntax errors.","body":"The posted code has syntax errors."},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1701460165,"post_id":77587713,"comment_id":136782703,"body_markdown":"This will produce the value you want: `Integer.parseInt(&quot;-10000000000000000000000000000000&quot;, 2)`.","body":"This will produce the value you want: <code>Integer.parseInt(&quot;-10000000000000000000000000000000&quot;, 2)</code>."},{"owner":{"account_id":1767538,"reputation":801,"user_id":1613023,"display_name":"rgbchris"},"score":0,"creation_date":1701460407,"post_id":77587713,"comment_id":136782727,"body_markdown":"@ScottHunter interesting thank you - still seems incorrect that without the negative an exception would be thrown.","body":"@ScottHunter interesting thank you - still seems incorrect that without the negative an exception would be thrown."},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1701460772,"post_id":77587713,"comment_id":136782782,"body_markdown":"I think it is treating the digits as an unsigned value.","body":"I think it is treating the digits as an unsigned value."},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":1,"creation_date":1701460846,"post_id":77587713,"comment_id":136782794,"body_markdown":"You can store `-2147483648` in an int, but only `+2147483647`, which is `1111111111111111111111111111111`. So there&#39;s actually no surprise there.","body":"You can store <code>-2147483648</code> in an int, but only <code>+2147483647</code>, which is <code>1111111111111111111111111111111</code>. So there&#39;s actually no surprise there."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1701460872,"post_id":77587713,"comment_id":136782796,"body_markdown":"`ParseInt` may use a prefix `+` or `-` sign to indicate whether the number is positive or negative.  That the value of the radix argument is `2` does *not* create an exception to allow the first digit to specify the sign. So, the first argument overflows an `int`.","body":"<code>ParseInt</code> may use a prefix <code>+</code> or <code>-</code> sign to indicate whether the number is positive or negative.  That the value of the radix argument is <code>2</code> does <i>not</i> create an exception to allow the first digit to specify the sign. So, the first argument overflows an <code>int</code>."},{"owner":{"account_id":1767538,"reputation":801,"user_id":1613023,"display_name":"rgbchris"},"score":1,"creation_date":1701460992,"post_id":77587713,"comment_id":136782817,"body_markdown":"@OldDogProgrammer I think that&#39;s the answer - regardless of it being binary (radix 2), it&#39;s still looking for the pos/neg prefix which would explain the unexpected behavior.","body":"@OldDogProgrammer I think that&#39;s the answer - regardless of it being binary (radix 2), it&#39;s still looking for the pos/neg prefix which would explain the unexpected behavior."}],"answers":[{"comments":[{"owner":{"account_id":1767538,"reputation":801,"user_id":1613023,"display_name":"rgbchris"},"score":0,"creation_date":1701461289,"post_id":77587814,"comment_id":136782857,"body_markdown":"Great explanation - thank you!","body":"Great explanation - thank you!"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1701465371,"post_id":77587814,"comment_id":136783423,"body_markdown":"Note that you can still get the notion of &#39;I have in bit representation some number, turn that into an int&#39; is possible: `int x = 0b10000000000000000000000000000000;` (yes, that&#39;s rare but valid java, `0b` was introduced in Java 1.7, a very long time ago).","body":"Note that you can still get the notion of &#39;I have in bit representation some number, turn that into an int&#39; is possible: <code>int x = 0b10000000000000000000000000000000;</code> (yes, that&#39;s rare but valid java, <code>0b</code> was introduced in Java 1.7, a very long time ago)."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1701465396,"post_id":77587814,"comment_id":136783428,"body_markdown":"Of course, if you have that value in a string containing only 1s and 0s, it&#39;s not that simple. Easiest way forward is to just parse it as a long and go from there.","body":"Of course, if you have that value in a string containing only 1s and 0s, it&#39;s not that simple. Easiest way forward is to just parse it as a long and go from there."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1701497820,"post_id":77587814,"comment_id":136785795,"body_markdown":"@rzwitserloot you could use [`Integer.parseUnsignedInt()`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html#parseUnsignedInt(java.lang.String,int)): _Parses the string argument as an unsigned integer in the radix specified by the second argument. An unsigned integer maps the values usually associated with negative numbers to positive numbers larger than MAX_VALUE._","body":"@rzwitserloot you could use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html#parseUnsignedInt(java.lang.String,int)\" rel=\"nofollow noreferrer\"><code>Integer.parseUnsignedInt()</code></a>: <i>Parses the string argument as an unsigned integer in the radix specified by the second argument. An unsigned integer maps the values usually associated with negative numbers to positive numbers larger than MAX_VALUE.</i>"}],"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1701461091,"creation_date":1701461091,"answer_id":77587814,"question_id":77587713,"body_markdown":"The `Integer.parseInt()` method with the radix of `2` is not used to convert a bit representation of a two&#39;s complement integer value to an `int` value. Instead it &quot;just&quot; parsed the string as a signed integer with the given radix. What that means is that &quot;10000000000000000000000000000000&quot; in binary is 2147483648 in decimal. Such a big value cannot be saved as `int` in java because the maximum `int` value in java is 2147483647 (or `Integer.MAX_VALUE`). That&#39;s why you get a `NumberFormatException`. The result will not be a negative value like `Integer.MIN_VALUE` what you expected. The result will only be negative when the first character in the string is a `-` character as mentioned in the [javadoc of `Integer.parseInt()`](https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-int-):\r\n\r\n&gt; [...] except that the first character may be an ASCII minus sign &#39;-&#39; (&#39;\\u002D&#39;) to indicate a negative value [...]","title":"In Java, why does `Integer.parseInt(&quot;10000000000000000000000000000000&quot;), 2)` throw a NumberFormatException?","body":"<p>The <code>Integer.parseInt()</code> method with the radix of <code>2</code> is not used to convert a bit representation of a two's complement integer value to an <code>int</code> value. Instead it &quot;just&quot; parsed the string as a signed integer with the given radix. What that means is that &quot;10000000000000000000000000000000&quot; in binary is 2147483648 in decimal. Such a big value cannot be saved as <code>int</code> in java because the maximum <code>int</code> value in java is 2147483647 (or <code>Integer.MAX_VALUE</code>). That's why you get a <code>NumberFormatException</code>. The result will not be a negative value like <code>Integer.MIN_VALUE</code> what you expected. The result will only be negative when the first character in the string is a <code>-</code> character as mentioned in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-int-\" rel=\"nofollow noreferrer\">javadoc of <code>Integer.parseInt()</code></a>:</p>\n<blockquote>\n<p>[...] except that the first character may be an ASCII minus sign '-' ('\\u002D') to indicate a negative value [...]</p>\n</blockquote>\n"}],"owner":{"account_id":1767538,"reputation":801,"user_id":1613023,"display_name":"rgbchris"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77587814,"answer_count":1,"score":0,"last_activity_date":1701461091,"creation_date":1701459812,"question_id":77587713,"body_markdown":"I&#39;m using OpenJDK17 and am perplexed as to why `Integer.parseInt(&quot;10000000000000000000000000000000&quot;, 2)` would throw a `NumberFormatException` as it is the binary representation of `Integer.MIN_VALUE` (or `-2147483648` in decimal).\r\n\r\nIs this expected or some known edge-case/quirk?\r\n\r\nI attempted to provide the binary representation of Java&#39;s `Integer.MIN_VALUE` to `Integer.parseInt` in order to receive back `-2147483648` but inside experience a `NumberFormatException`.\r\n\r\nNote: I&#39;m not particularly trying to achieve anything just fiddling around on the JVM and came across this.","title":"In Java, why does `Integer.parseInt(&quot;10000000000000000000000000000000&quot;), 2)` throw a NumberFormatException?","body":"<p>I'm using OpenJDK17 and am perplexed as to why <code>Integer.parseInt(&quot;10000000000000000000000000000000&quot;, 2)</code> would throw a <code>NumberFormatException</code> as it is the binary representation of <code>Integer.MIN_VALUE</code> (or <code>-2147483648</code> in decimal).</p>\n<p>Is this expected or some known edge-case/quirk?</p>\n<p>I attempted to provide the binary representation of Java's <code>Integer.MIN_VALUE</code> to <code>Integer.parseInt</code> in order to receive back <code>-2147483648</code> but inside experience a <code>NumberFormatException</code>.</p>\n<p>Note: I'm not particularly trying to achieve anything just fiddling around on the JVM and came across this.</p>\n"},{"tags":["java","kotlin","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":2,"creation_date":1701461977,"post_id":77587790,"comment_id":136782948,"body_markdown":"You&#39;re misunderstanding the method. It isn&#39;t about detecting spaces, it&#39;s about inserting spaces (or something else) in the output when there is some amount of room between glyphs.","body":"You&#39;re misunderstanding the method. It isn&#39;t about detecting spaces, it&#39;s about inserting spaces (or something else) in the output when there is some amount of room between glyphs."},{"owner":{"account_id":14564912,"reputation":19,"user_id":10519952,"display_name":"Chenhao"},"score":0,"creation_date":1701462868,"post_id":77587790,"comment_id":136783087,"body_markdown":"You are right. It is for the output. But still I can get the expected result if I manually create my PDF. I&#39;m pretty sure whatever default separator works in that case.","body":"You are right. It is for the output. But still I can get the expected result if I manually create my PDF. I&#39;m pretty sure whatever default separator works in that case."}],"owner":{"account_id":14564912,"reputation":19,"user_id":10519952,"display_name":"Chenhao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701460881,"creation_date":1701460881,"question_id":77587790,"body_markdown":"I&#39;m running into trouble trying to extract words from a PDF created by PDFPageContentStream. Seems like PDFTextStripper cannot correctly extract space separated words input by PDFPageContentStream.\r\n\r\nIn my PDF creation, I tried to use PDFPageContentStream to insert some text separated by single space line by line. \r\n```\r\nfun createPdf(contents: List&lt;String&gt;, color: Color): ByteString {\r\n    val doc = PDDocument()\r\n    val font = PDType1Font.TIMES_BOLD\r\n    val fontSize = 120.0f\r\n\r\n    for (line in contents) {\r\n      val page = PDPage()\r\n      PDPageContentStream(doc, page).apply {\r\n        beginText()\r\n        setFont(font, fontSize)\r\n        setStrokingColor(color)\r\n        showText(line)\r\n        newLine()\r\n        endText()\r\n        close()\r\n      }\r\n\r\n      doc.addPage(page)\r\n    }\r\n\r\n    return getClosedPdfByteString(doc)\r\n}\r\n```\r\n\r\nThen I tried to use PDFTextStripper to extract the words from the PDF. But it will simply grab the whole line. Seems like the word separator doesn&#39;t work. \r\n\r\nMy content input:\r\n```\r\nThis is a pdf file\r\n{{tag1}} {{tag2}} {{tag3}} {{tag4}}\r\n{{tag2_1}} {{tag2_2}} {{tag2_3}} {{tag2_4}} \r\n```\r\n\r\nThe expected extracted words in a list: `[This, is, a, pdf, file, {{tag1}}, {{tag2}}, {{tag3}}, {{tag4}}, {{tag2_1}}, {{tag2_2}}, {{tag2_3}}, {{tag2_4}}]`\r\nThe actual extracted words in a list: `[This is a pdf file, {{tag1}} {{tag2}} {{tag3}} {{tag4}}, {{tag2_1}} {{tag2_2}} {{tag2_3}} {{tag2_4}}]`\r\n\r\nSo I tried to specify the word separator using `myTextStripper.setWordSeperator(&quot; &quot;)`, but it still doesn&#39;t work. I tried to use my stripper on a PDF that I manually input all the text and it works as expected.","title":"PDFStripper cannot correctly extract words from PDF created by PDFPageContentStream","body":"<p>I'm running into trouble trying to extract words from a PDF created by PDFPageContentStream. Seems like PDFTextStripper cannot correctly extract space separated words input by PDFPageContentStream.</p>\n<p>In my PDF creation, I tried to use PDFPageContentStream to insert some text separated by single space line by line.</p>\n<pre><code>fun createPdf(contents: List&lt;String&gt;, color: Color): ByteString {\n    val doc = PDDocument()\n    val font = PDType1Font.TIMES_BOLD\n    val fontSize = 120.0f\n\n    for (line in contents) {\n      val page = PDPage()\n      PDPageContentStream(doc, page).apply {\n        beginText()\n        setFont(font, fontSize)\n        setStrokingColor(color)\n        showText(line)\n        newLine()\n        endText()\n        close()\n      }\n\n      doc.addPage(page)\n    }\n\n    return getClosedPdfByteString(doc)\n}\n</code></pre>\n<p>Then I tried to use PDFTextStripper to extract the words from the PDF. But it will simply grab the whole line. Seems like the word separator doesn't work.</p>\n<p>My content input:</p>\n<pre><code>This is a pdf file\n{{tag1}} {{tag2}} {{tag3}} {{tag4}}\n{{tag2_1}} {{tag2_2}} {{tag2_3}} {{tag2_4}} \n</code></pre>\n<p>The expected extracted words in a list: <code>[This, is, a, pdf, file, {{tag1}}, {{tag2}}, {{tag3}}, {{tag4}}, {{tag2_1}}, {{tag2_2}}, {{tag2_3}}, {{tag2_4}}]</code>\nThe actual extracted words in a list: <code>[This is a pdf file, {{tag1}} {{tag2}} {{tag3}} {{tag4}}, {{tag2_1}} {{tag2_2}} {{tag2_3}} {{tag2_4}}]</code></p>\n<p>So I tried to specify the word separator using <code>myTextStripper.setWordSeperator(&quot; &quot;)</code>, but it still doesn't work. I tried to use my stripper on a PDF that I manually input all the text and it works as expected.</p>\n"},{"tags":["java","netbeans-8"],"answers":[{"comments":[{"owner":{"account_id":10099838,"reputation":51,"user_id":7464034,"display_name":"Prince Noman"},"score":0,"creation_date":1485277580,"post_id":41834125,"comment_id":70854897,"body_markdown":"If you see to the very bottom of the page,errors are showing there","body":"If you see to the very bottom of the page,errors are showing there"},{"owner":{"display_name":"user6995631"},"score":0,"creation_date":1485277708,"post_id":41834125,"comment_id":70854974,"body_markdown":"try going into the settings here and see if you can find the setting                             Tools -&gt; Options -&gt; Fonts &amp; Colors -&gt; Syntax","body":"try going into the settings here and see if you can find the setting                             Tools -&gt; Options -&gt; Fonts &amp; Colors -&gt; Syntax"},{"owner":{"display_name":"user6995631"},"score":0,"creation_date":1485277738,"post_id":41834125,"comment_id":70854991,"body_markdown":"You might have accidentally turned it off","body":"You might have accidentally turned it off"},{"owner":{"account_id":10099838,"reputation":51,"user_id":7464034,"display_name":"Prince Noman"},"score":0,"creation_date":1485278008,"post_id":41834125,"comment_id":70855159,"body_markdown":"No ,everything seems fine there .","body":"No ,everything seems fine there ."}],"tags":[],"owner":{"display_name":"user6995631"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485284383,"creation_date":1485277440,"answer_id":41834125,"question_id":41834069,"body_markdown":"I get this problem a lot, I am usually able to fix it by hitting the save all button, but in the code you showed me it doesn&#39;t look like there is any errors.\r\n\r\nYou could also try to reset your settings:\r\nhttps://core.netbeans.org/proposals/reset-settings-ui-spec.html\r\n\r\nThere is also a link here that also explains how to reset:\r\nhttps://stackoverflow.com/questions/27742533/how-to-reset-to-default-colors-of-text-editor-in-netbeans","title":"Java Netbeans - Errors not showing up","body":"<p>I get this problem a lot, I am usually able to fix it by hitting the save all button, but in the code you showed me it doesn't look like there is any errors.</p>\n\n<p>You could also try to reset your settings:\n<a href=\"https://core.netbeans.org/proposals/reset-settings-ui-spec.html\" rel=\"nofollow noreferrer\">https://core.netbeans.org/proposals/reset-settings-ui-spec.html</a></p>\n\n<p>There is also a link here that also explains how to reset:\n<a href=\"https://stackoverflow.com/questions/27742533/how-to-reset-to-default-colors-of-text-editor-in-netbeans\">How to &quot; RESET to DEFAULT &quot; colors of text editor in NetBeans?</a></p>\n"},{"tags":[],"owner":{"account_id":13904807,"reputation":159,"user_id":10039469,"display_name":"Rory"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673550950,"creation_date":1673550950,"answer_id":75101274,"question_id":41834069,"body_markdown":"I had this problem after changing the setting `Preferred look and feel` under `Tools/Options/Appearance/Look and Feel`\r\n\r\nToggling this setting between a different option and my preferred option fixed the issue somehow... ","title":"Java Netbeans - Errors not showing up","body":"<p>I had this problem after changing the setting <code>Preferred look and feel</code> under <code>Tools/Options/Appearance/Look and Feel</code></p>\n<p>Toggling this setting between a different option and my preferred option fixed the issue somehow...</p>\n"}],"owner":{"account_id":10099838,"reputation":51,"user_id":7464034,"display_name":"Prince Noman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13823,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":2,"score":4,"last_activity_date":1701460414,"creation_date":1485277284,"question_id":41834069,"body_markdown":"My Netbeans is not showing up errors in the editor. It&#39;s showing errors in the bottom bar. I have no idea how to resolve it.\r\n\r\nHere&#39;s the screenshot:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s9vcU.jpg","title":"Java Netbeans - Errors not showing up","body":"<p>My Netbeans is not showing up errors in the editor. It's showing errors in the bottom bar. I have no idea how to resolve it.</p>\n\n<p>Here's the screenshot:\n<a href=\"https://i.stack.imgur.com/s9vcU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s9vcU.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","spring","spring-mvc","tomcat","spring-boot"],"comments":[{"owner":{"account_id":1333388,"reputation":418,"user_id":3746632,"display_name":"ldmtwo"},"score":2,"creation_date":1476828469,"post_id":40118878,"comment_id":67509224,"body_markdown":"Yes. You need to shutdown the services safely if re-deploying. Then you won&#39;t have the service running in the background and creating a port conflict.","body":"Yes. You need to shutdown the services safely if re-deploying. Then you won&#39;t have the service running in the background and creating a port conflict."},{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":2,"creation_date":1476847300,"post_id":40118878,"comment_id":67513754,"body_markdown":"Eclipse (STS) does not support &quot;single instance&quot; Run &quot;configurations&quot; like IntelliJ does. You need to &quot;Terminate&quot; the running one.","body":"Eclipse (STS) does not support &quot;single instance&quot; Run &quot;configurations&quot; like IntelliJ does. You need to &quot;Terminate&quot; the running one."},{"owner":{"account_id":476529,"reputation":3025,"user_id":887495,"accept_rate":37,"display_name":"Ashwin Parmar"},"score":0,"creation_date":1503039562,"post_id":40118878,"comment_id":78457954,"body_markdown":"Use this to change port `--server.port=8181`","body":"Use this to change port <code>--server.port=8181</code>"},{"owner":{"account_id":1622277,"reputation":6199,"user_id":1498586,"accept_rate":66,"display_name":"Mahdi"},"score":0,"creation_date":1504266684,"post_id":40118878,"comment_id":78959394,"body_markdown":"check this answer: https://stackoverflow.com/a/45531510/1498586","body":"check this answer: <a href=\"https://stackoverflow.com/a/45531510/1498586\">stackoverflow.com/a/45531510/1498586</a>"},{"owner":{"account_id":7986437,"reputation":1020,"user_id":11430726,"display_name":"Abercrombie"},"score":0,"creation_date":1655781387,"post_id":40118878,"comment_id":128406887,"body_markdown":"In my case, I had apache tomcat installed and running previously. Stopping the tomcat service removed this error","body":"In my case, I had apache tomcat installed and running previously. Stopping the tomcat service removed this error"}],"answers":[{"comments":[{"owner":{"account_id":1705800,"reputation":2257,"user_id":1564867,"display_name":"milan.latinovic"},"score":0,"creation_date":1476829343,"post_id":40118941,"comment_id":67509525,"body_markdown":"true, I actually found Relaunch button inside dashboard. I was expecting Run As to somehow automatically remove previous servlet container from 8080 and run new one, but I guess it doesn&#39;t work that way.\n\nIn any case, there is button inside STS, and it works now.","body":"true, I actually found Relaunch button inside dashboard. I was expecting Run As to somehow automatically remove previous servlet container from 8080 and run new one, but I guess it doesn&#39;t work that way.  In any case, there is button inside STS, and it works now."}],"tags":[],"owner":{"account_id":9120249,"reputation":15521,"user_id":6785908,"accept_rate":70,"display_name":"so-random-dude"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1544801298,"creation_date":1476828657,"answer_id":40118941,"question_id":40118878,"body_markdown":"&gt; Am I doing something wrong here?\r\n\r\nYes, you are. One servlet container is already running on port 8080 and you are trying to run another one on port 8080 again.\r\n\r\nEither restart the server (If there is button for that in STS) or stop and start it","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<blockquote>\n  <p>Am I doing something wrong here?</p>\n</blockquote>\n\n<p>Yes, you are. One servlet container is already running on port 8080 and you are trying to run another one on port 8080 again.</p>\n\n<p>Either restart the server (If there is button for that in STS) or stop and start it</p>\n"},{"comments":[{"owner":{"account_id":11216874,"reputation":920,"user_id":8229192,"accept_rate":95,"display_name":"FullStackDeveloper"},"score":1,"creation_date":1507481754,"post_id":40119793,"comment_id":80216547,"body_markdown":"Your solution works. I just want to add how we set it to listen on another port. Just put server.port=9000 in your application.properties","body":"Your solution works. I just want to add how we set it to listen on another port. Just put server.port=9000 in your application.properties"}],"tags":[],"owner":{"account_id":2033016,"reputation":4216,"user_id":1816151,"accept_rate":85,"display_name":"AchillesVan"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1476834067,"creation_date":1476834067,"answer_id":40119793,"question_id":40118878,"body_markdown":"This is a typical startup failure due to the **embedded servlet container**’s port being in use. \r\n\r\n\r\nYour embedded tomcat container failed to start because Port 8080 was already in use.\r\n\r\nJust Identify and stop the process that&#39;s listening on port 8080 or configure (in you **application.properties** file )this application to listen on another port.","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<p>This is a typical startup failure due to the <strong>embedded servlet container</strong>’s port being in use. </p>\n\n<p>Your embedded tomcat container failed to start because Port 8080 was already in use.</p>\n\n<p>Just Identify and stop the process that's listening on port 8080 or configure (in you <strong>application.properties</strong> file )this application to listen on another port.</p>\n"},{"comments":[{"owner":{"account_id":5669864,"reputation":412,"user_id":4484851,"display_name":"Sam"},"score":4,"creation_date":1604795270,"post_id":42326507,"comment_id":114456230,"body_markdown":"Some of the eclipse doesn&#39;t have this option. If unable to find then just try this Window-&gt;Preferences, search for Launching.\n\nSelect the &quot;Terminate and Relaunch while launching&quot; option. and apply","body":"Some of the eclipse doesn&#39;t have this option. If unable to find then just try this Window-&gt;Preferences, search for Launching.  Select the &quot;Terminate and Relaunch while launching&quot; option. and apply"}],"tags":[],"owner":{"account_id":3145988,"reputation":7971,"user_id":2660462,"accept_rate":63,"display_name":"Lukas Lechner"},"comment_count":1,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1487502670,"creation_date":1487502670,"answer_id":42326507,"question_id":40118878,"body_markdown":"You have to stop the current process and run your new one. In Eclipse, you can press this button to ReLaunch your application: [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZkDOb.png","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<p>You have to stop the current process and run your new one. In Eclipse, you can press this button to ReLaunch your application: <a href=\"https://i.stack.imgur.com/ZkDOb.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ZkDOb.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":2754470,"reputation":787,"user_id":2372992,"accept_rate":43,"display_name":"amritanshu"},"score":0,"creation_date":1504866956,"post_id":42442764,"comment_id":79190992,"body_markdown":"yes and it does shows up in the error logs as well!","body":"yes and it does shows up in the error logs as well!"},{"owner":{"account_id":6379859,"reputation":3051,"user_id":4949684,"display_name":"Carlos Cavero"},"score":0,"creation_date":1515683146,"post_id":42442764,"comment_id":83401209,"body_markdown":"Thanks man! I wasted a lot of time because I did not read the whole log! I was going crazy checking if some process was still alive","body":"Thanks man! I wasted a lot of time because I did not read the whole log! I was going crazy checking if some process was still alive"},{"owner":{"account_id":3186826,"reputation":2269,"user_id":3395716,"accept_rate":90,"display_name":"Registered User"},"score":1,"creation_date":1515852763,"post_id":42442764,"comment_id":83463610,"body_markdown":"@CarlosCavero With spring boot, I have noticed that we really need to go through the whole log to notice what the issue might be. Generally, there are many reasons why the last error message might show up, and searching online only for the last message does not show satisfactory results :)","body":"@CarlosCavero With spring boot, I have noticed that we really need to go through the whole log to notice what the issue might be. Generally, there are many reasons why the last error message might show up, and searching online only for the last message does not show satisfactory results :)"},{"owner":{"account_id":6379859,"reputation":3051,"user_id":4949684,"display_name":"Carlos Cavero"},"score":0,"creation_date":1515913696,"post_id":42442764,"comment_id":83477423,"body_markdown":"Exactly! That&#39;s why I upvoted your answer. Looking for other reasons than the typical port busy (even I restarted the pc). Ignore your intuition and do not trust the last message :)","body":"Exactly! That&#39;s why I upvoted your answer. Looking for other reasons than the typical port busy (even I restarted the pc). Ignore your intuition and do not trust the last message :)"}],"tags":[],"owner":{"account_id":3186826,"reputation":2269,"user_id":3395716,"accept_rate":90,"display_name":"Registered User"},"comment_count":4,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1487951214,"creation_date":1487951214,"answer_id":42442764,"question_id":40118878,"body_markdown":"In my case, the error occurred as the application was unable to access the keystore for ssl.\r\n\r\nStarting the application as root user fixed the issue.","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<p>In my case, the error occurred as the application was unable to access the keystore for ssl.</p>\n\n<p>Starting the application as root user fixed the issue.</p>\n"},{"tags":[],"owner":{"account_id":6725415,"reputation":568,"user_id":5183595,"display_name":"besartm"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1509230782,"creation_date":1509230782,"answer_id":46995229,"question_id":40118878,"body_markdown":"Just click red button to stop all services on eclipse than re- run application as Spring Boot Application - This worked for me. ","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<p>Just click red button to stop all services on eclipse than re- run application as Spring Boot Application - This worked for me. </p>\n"},{"comments":[{"owner":{"account_id":191559,"reputation":741,"user_id":432200,"accept_rate":88,"display_name":"Dean"},"score":1,"creation_date":1515428942,"post_id":47235112,"comment_id":83287455,"body_markdown":"I found this useful because after closing STS, sometimes the website does not close its local tc server. No amount of clicking red squares helped; additionally, launching from STS and stopping again still did not kill the server sometimes.","body":"I found this useful because after closing STS, sometimes the website does not close its local tc server. No amount of clicking red squares helped; additionally, launching from STS and stopping again still did not kill the server sometimes."},{"owner":{"account_id":4112480,"reputation":460,"user_id":4135997,"accept_rate":67,"display_name":"LittleLittleQ"},"score":9,"creation_date":1553159988,"post_id":47235112,"comment_id":97284309,"body_markdown":"`lsof -nP +c 15 | grep LISTEN` for macOS","body":"<code>lsof -nP +c 15 | grep LISTEN</code> for macOS"}],"tags":[],"owner":{"account_id":9182993,"reputation":1925,"user_id":6826223,"accept_rate":80,"display_name":"rdj7"},"comment_count":2,"down_vote_count":0,"up_vote_count":113,"is_accepted":false,"score":113,"last_activity_date":1671854270,"creation_date":1510382012,"answer_id":47235112,"question_id":40118878,"body_markdown":"It sometimes happen even when we stop running processes in IDE with help of _Red button_ , we continue to get same error.\r\n\r\nIt was resolved with following steps,\r\n\r\n1. Check what processes are running at available ports\r\n\r\n  `netstat -ao |find /i &quot;listening&quot;`\r\n\r\n We get following\r\n\r\n `TCP    0.0.0.0:7981           machinename:0        LISTENING       2428\r\n  TCP    0.0.0.0:7982           machinename:0        LISTENING       2428\r\n  TCP    0.0.0.0:8080           machinename:0        LISTENING       12704\r\n  TCP    0.0.0.0:8500           machinename:0        LISTENING       2428`\r\n\r\n i.e. Port Numbers and what _Process Id_  they are listening to\r\n\r\n2. Stop process running at your port number(In this case it is 8080 &amp; Process Id is 12704)\r\n\r\n `Taskkill /F /IM 12704` (Note: Mention correct Process Id)\r\n\r\nFor more information follow these links [Link1][1] and [Link2][2].\r\n\r\n\r\n  [1]: https://thatpieceofcode.blogspot.com/2020/01/spring-boot-application-failed-to-start_5.html\r\n  [2]: https://workingpieceofcode.wordpress.com/2020/04/20/spring-boot-application-failed-to-start-web-server-failed-to-start-port-8080-was-already-in-use/","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<p>It sometimes happen even when we stop running processes in IDE with help of <em>Red button</em> , we continue to get same error.</p>\n<p>It was resolved with following steps,</p>\n<ol>\n<li>Check what processes are running at available ports</li>\n</ol>\n<p><code>netstat -ao |find /i &quot;listening&quot;</code></p>\n<p>We get following</p>\n<p><code>TCP    0.0.0.0:7981           machinename:0        LISTENING       2428 TCP    0.0.0.0:7982           machinename:0        LISTENING       2428 TCP    0.0.0.0:8080           machinename:0        LISTENING       12704 TCP    0.0.0.0:8500           machinename:0        LISTENING       2428</code></p>\n<p>i.e. Port Numbers and what <em>Process Id</em>  they are listening to</p>\n<ol start=\"2\">\n<li>Stop process running at your port number(In this case it is 8080 &amp; Process Id is 12704)</li>\n</ol>\n<p><code>Taskkill /F /IM 12704</code> (Note: Mention correct Process Id)</p>\n<p>For more information follow these links <a href=\"https://thatpieceofcode.blogspot.com/2020/01/spring-boot-application-failed-to-start_5.html\" rel=\"nofollow noreferrer\">Link1</a> and <a href=\"https://workingpieceofcode.wordpress.com/2020/04/20/spring-boot-application-failed-to-start-web-server-failed-to-start-port-8080-was-already-in-use/\" rel=\"nofollow noreferrer\">Link2</a>.</p>\n"},{"tags":[],"owner":{"account_id":12041006,"reputation":111,"user_id":8807929,"display_name":"Hari Tummala"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1547251450,"creation_date":1511184509,"answer_id":47393182,"question_id":40118878,"body_markdown":"If you got any error on your console by saying, “Embedded servlet container failed to start. Port 8080 was already in use.” Then go to application.properties file and add this property “server.port = 8090”.\r\n\r\nActually the default port for spring boot is 8080, if you have something else on that port, the above error will occur. So we are asking spring boot to run on other port by adding “server.port = 8090” in application.properties file.\r\n","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<p>If you got any error on your console by saying, “Embedded servlet container failed to start. Port 8080 was already in use.” Then go to application.properties file and add this property “server.port = 8090”.</p>\n\n<p>Actually the default port for spring boot is 8080, if you have something else on that port, the above error will occur. So we are asking spring boot to run on other port by adding “server.port = 8090” in application.properties file.</p>\n"},{"tags":[],"owner":{"account_id":11372996,"reputation":1224,"user_id":8635168,"display_name":"samivic"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1517873971,"creation_date":1517864143,"answer_id":48631314,"question_id":40118878,"body_markdown":"Open &quot;localhost:8080&quot; on your browser and see what is running on this port.\r\nI did it and I just found Oracle 10g XE running on background, so I went to start-&gt;Services and stopped all oracle services. Then I redo `mvnw spring-boot:run` on IntelliJ and it runs like magic.","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<p>Open \"localhost:8080\" on your browser and see what is running on this port.\nI did it and I just found Oracle 10g XE running on background, so I went to start->Services and stopped all oracle services. Then I redo <code>mvnw spring-boot:run</code> on IntelliJ and it runs like magic.</p>\n"},{"tags":[],"owner":{"account_id":12546935,"reputation":1675,"user_id":9129885,"display_name":"Shubham Chopra"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1521443109,"creation_date":1521443109,"answer_id":49357430,"question_id":40118878,"body_markdown":"There are two ways to resolve this issue.Try option 1 first, if it doesn&#39;t work try option 2, and your problem is solved.\r\n\r\n1) On the top right corner of your console, there is a red button, to stop the spring boot application which is already running on this port just click on the red button to terminate.\r\n\r\n2) If the red button is not activated you need to right click on the console and select terminate/disconnect all. Hope this helps.\r\n\r\nBonus tip:- If you want to run your server on a different port of your choice, create a file named application.properties in resource folder of your maven project and write server.port=3000 to run your application on port 3000","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<p>There are two ways to resolve this issue.Try option 1 first, if it doesn't work try option 2, and your problem is solved.</p>\n\n<p>1) On the top right corner of your console, there is a red button, to stop the spring boot application which is already running on this port just click on the red button to terminate.</p>\n\n<p>2) If the red button is not activated you need to right click on the console and select terminate/disconnect all. Hope this helps.</p>\n\n<p>Bonus tip:- If you want to run your server on a different port of your choice, create a file named application.properties in resource folder of your maven project and write server.port=3000 to run your application on port 3000</p>\n"},{"tags":[],"owner":{"account_id":6989038,"reputation":1345,"user_id":5358950,"display_name":"singh30"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1521450524,"creation_date":1521450524,"answer_id":49359213,"question_id":40118878,"body_markdown":"On Linux Machine, save the bash script and execute it. If you want to free port 8080, Input 8080 when prompted \r\n\r\n    echo &quot;Enter port number to be closed :: &quot;\r\n    read port\r\n    sudo kill $(sudo lsof -t -i:$port)","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<p>On Linux Machine, save the bash script and execute it. If you want to free port 8080, Input 8080 when prompted </p>\n\n<pre><code>echo \"Enter port number to be closed :: \"\nread port\nsudo kill $(sudo lsof -t -i:$port)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5396077,"reputation":2276,"user_id":4297260,"accept_rate":77,"display_name":"Fayza Nawaz"},"score":1,"creation_date":1592488181,"post_id":49542432,"comment_id":110448232,"body_markdown":"there is no second command. apparently the answer was edited (partially)\nhowever, i checked using the history and it worked for me., thanks.","body":"there is no second command. apparently the answer was edited (partially) however, i checked using the history and it worked for me., thanks."},{"owner":{"account_id":9141517,"reputation":936,"user_id":6799209,"display_name":"jsog"},"score":0,"creation_date":1606038755,"post_id":49542432,"comment_id":114832847,"body_markdown":"@FayzaNawaz I have changed it back to the original based on your comment. Thank you","body":"@FayzaNawaz I have changed it back to the original based on your comment. Thank you"}],"tags":[],"owner":{"account_id":9141517,"reputation":936,"user_id":6799209,"display_name":"jsog"},"comment_count":2,"down_vote_count":0,"up_vote_count":70,"is_accepted":false,"score":70,"last_activity_date":1597180323,"creation_date":1522264390,"answer_id":49542432,"question_id":40118878,"body_markdown":"For Mac users(`OS X El Capitan`):\r\n\r\nYou need to kill the port that `localhost:8080` is running on.&lt;br&gt;\r\nTo do this, you need to do two commands in the terminal :N\r\n\r\n    sudo lsof -i tcp:8080\r\n\r\n    kill -15 PID \r\n\r\nNB! `PID` IS A NUMBER PROVIDED BY THE FIRST COMMAND.\r\n\r\nThe first command gives you the `PID` for the `localhost:8080`.&lt;br&gt;\r\nReplace the `PID` in the second command with the `PID` that the first command gives you to kill the process running on `localhost:8080`.\r\n\r\n\r\n\r\n","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<p>For Mac users(<code>OS X El Capitan</code>):</p>\n<p>You need to kill the port that <code>localhost:8080</code> is running on.<br>\nTo do this, you need to do two commands in the terminal :N</p>\n<pre><code>sudo lsof -i tcp:8080\n\nkill -15 PID \n</code></pre>\n<p>NB! <code>PID</code> IS A NUMBER PROVIDED BY THE FIRST COMMAND.</p>\n<p>The first command gives you the <code>PID</code> for the <code>localhost:8080</code>.<br>\nReplace the <code>PID</code> in the second command with the <code>PID</code> that the first command gives you to kill the process running on <code>localhost:8080</code>.</p>\n"},{"tags":[],"owner":{"account_id":14392843,"reputation":19,"user_id":10396992,"display_name":"Shubham Kumawat"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1540559560,"creation_date":1540559560,"answer_id":53009543,"question_id":40118878,"body_markdown":"In Spring Boot Application (Using Spring Starter Project) We Have Update Port in Server.xml using Tomcat server and Add this port in application.property( insrc/main/resources)\r\nthe code is \r\n**server.port=8085**\r\n\r\nAnd update Maven Project then run application","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<p>In Spring Boot Application (Using Spring Starter Project) We Have Update Port in Server.xml using Tomcat server and Add this port in application.property( insrc/main/resources)\nthe code is \n<strong>server.port=8085</strong></p>\n\n<p>And update Maven Project then run application</p>\n"},{"tags":[],"owner":{"account_id":13139344,"reputation":955,"user_id":9491394,"display_name":"MangduYogii"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1544004413,"creation_date":1544000926,"answer_id":53628669,"question_id":40118878,"body_markdown":"Create `application.properties` file under `src/main/resources` folder and write content as \r\n\r\n&gt; server.port=8084\r\n\r\nIts runs fine.\r\nBut every time before run need to stop application first by click on red button upper on the IDE\r\n![enter image description here][1]\r\n\r\nor try \r\n&gt; RightClick on console&gt;click terminate/Disconnect All\r\n\r\n \r\n  [1]: https://i.stack.imgur.com/OR2wx.png","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<p>Create <code>application.properties</code> file under <code>src/main/resources</code> folder and write content as </p>\n\n<blockquote>\n  <p>server.port=8084</p>\n</blockquote>\n\n<p>Its runs fine.\nBut every time before run need to stop application first by click on red button upper on the IDE\n<img src=\"https://i.stack.imgur.com/OR2wx.png\" alt=\"enter image description here\"></p>\n\n<p>or try </p>\n\n<blockquote>\n  <p>RightClick on console>click terminate/Disconnect All</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":17604570,"reputation":383,"user_id":12773830,"display_name":"amine"},"score":0,"creation_date":1643878673,"post_id":53764140,"comment_id":125457729,"body_markdown":"Thanks, I used &quot;server.port=0&quot;, because I got the message &quot;Port already in use&quot; for all ports I wrote even if they are not in use.","body":"Thanks, I used &quot;server.port=0&quot;, because I got the message &quot;Port already in use&quot; for all ports I wrote even if they are not in use."}],"tags":[],"owner":{"account_id":10809524,"reputation":601,"user_id":7950525,"display_name":"Thimira Pathirana"},"comment_count":1,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1587939514,"creation_date":1544711486,"answer_id":53764140,"question_id":40118878,"body_markdown":"The reason is one servlet container is already running on port 8080 and you are trying to run another one on port 8080.\r\n\r\n- 1.  Check what processes are running at available ports.\r\n\r\n  - **For Windows :**\r\n\r\n    - `netstat -ao |find /i &quot;listening&quot;`\r\n      ![Image01][1]\r\n\r\n      OR\r\n\r\n    - `netstat -ano | find &quot;8080&quot;` (_Note: 8080 is port fail to start_)\r\n      ![Image02][2]\r\n\r\n- 2.  Now try to reLaunch **or** stop your application.\r\n\r\n  - **To relaunch:** you can press this button\r\n\r\n    ![Image03][3]\r\n\r\n  - **To stop in windows:**\r\n\r\n    Taskkill /F /IM 6592\r\n    _Note: Mention correct Process Id_\r\n\r\n    ![Image04][4]\r\n\r\n    right click on the console and select **terminate/disconnect all**\r\n\r\n  - Go to `Task Manager` and end **Java(tm) platform se binary**\r\n        \r\n    ![click here to view image][5]\r\n    \r\n    [*What is java(tm) platform se binary(Search in google*](https://www.google.com/search?q=what+is+java(tm)+platform+se+binary&amp;oq=what+is+java(tm)+platform+se+binary&amp;aqs=chrome..69i57.26349j1j7&amp;sourceid=chrome&amp;ie=UTF-8)\r\n\r\n*Another option is* :\r\n\r\nGo to **`application.properties`** file set **`server.port=0`**. This will cause Spring Boot to use a random free port every time it starts.\r\n\r\n[1]: https://i.stack.imgur.com/x3N4x.jpg\r\n[2]: https://i.stack.imgur.com/2k6u2.jpg\r\n[3]: https://i.stack.imgur.com/XX8mB.jpg\r\n[4]: https://i.stack.imgur.com/DRhF6.jpg\r\n[5]: https://i.stack.imgur.com/yA8R2.jpg\r\n","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<p>The reason is one servlet container is already running on port 8080 and you are trying to run another one on port 8080.</p>\n\n<ul>\n<li><ol>\n<li><p>Check what processes are running at available ports.</p>\n\n<ul>\n<li><p><strong>For Windows :</strong></p></li>\n<li><p><code>netstat -ao |find /i \"listening\"</code>\n<img src=\"https://i.stack.imgur.com/x3N4x.jpg\" alt=\"Image01\"></p></li>\n</ul>\n\n<p>OR</p>\n\n<ul>\n<li><code>netstat -ano | find \"8080\"</code> (<em>Note: 8080 is port fail to start</em>)\n<img src=\"https://i.stack.imgur.com/2k6u2.jpg\" alt=\"Image02\"></li>\n</ul></li>\n</ol></li>\n<li><ol start=\"2\">\n<li><p>Now try to reLaunch <strong>or</strong> stop your application.</p>\n\n<ul>\n<li><strong>To relaunch:</strong> you can press this button</li>\n</ul></li>\n</ol>\n\n<p><img src=\"https://i.stack.imgur.com/XX8mB.jpg\" alt=\"Image03\"></p>\n\n<ul>\n<li><strong>To stop in windows:</strong></li>\n</ul>\n\n<p>Taskkill /F /IM 6592\n<em>Note: Mention correct Process Id</em></p>\n\n<p><img src=\"https://i.stack.imgur.com/DRhF6.jpg\" alt=\"Image04\"></p>\n\n<p>right click on the console and select <strong>terminate/disconnect all</strong></p>\n\n<ul>\n<li>Go to <code>Task Manager</code> and end <strong>Java(tm) platform se binary</strong></li>\n</ul>\n\n<p><img src=\"https://i.stack.imgur.com/yA8R2.jpg\" alt=\"click here to view image\"></p>\n\n<p><a href=\"https://www.google.com/search?q=what+is+java(tm)+platform+se+binary&amp;oq=what+is+java(tm)+platform+se+binary&amp;aqs=chrome..69i57.26349j1j7&amp;sourceid=chrome&amp;ie=UTF-8\" rel=\"noreferrer\"><em>What is java(tm) platform se binary(Search in google</em></a></p></li>\n</ul>\n\n<p><em>Another option is</em> :</p>\n\n<p>Go to <strong><code>application.properties</code></strong> file set <strong><code>server.port=0</code></strong>. This will cause Spring Boot to use a random free port every time it starts.</p>\n"},{"comments":[{"owner":{"account_id":4483663,"reputation":12326,"user_id":3647002,"accept_rate":47,"display_name":"Gayan Weerakutti"},"score":1,"creation_date":1576580618,"post_id":53776712,"comment_id":104938334,"body_markdown":"Some might need run `sudo apt install htop`","body":"Some might need run <code>sudo apt install htop</code>"}],"tags":[],"owner":{"account_id":13606193,"reputation":86,"user_id":9815270,"display_name":"twinster"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1544779307,"creation_date":1544779307,"answer_id":53776712,"question_id":40118878,"body_markdown":"There are some processes left in the background on that port, several reasons can cause this problem, but you can solve easily if you end process which is related to 8080 or Spring.\r\n\r\nIf you are using Linux there is steps how to end process:\r\n\r\n1. Open terminal and type command &quot;htop&quot;\r\n2. press key F3(it will allow you to search)\r\n3. Type &quot;8080&quot; if there was no result on 8080 after that try &quot;spring&quot;\r\n4. Then Press F9(KILL) And press &quot;9&quot;(SIGKILL)\r\n\r\nthis will kill process which is left on 8080 port and let you run application. ","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<p>There are some processes left in the background on that port, several reasons can cause this problem, but you can solve easily if you end process which is related to 8080 or Spring.</p>\n\n<p>If you are using Linux there is steps how to end process:</p>\n\n<ol>\n<li>Open terminal and type command \"htop\"</li>\n<li>press key F3(it will allow you to search)</li>\n<li>Type \"8080\" if there was no result on 8080 after that try \"spring\"</li>\n<li>Then Press F9(KILL) And press \"9\"(SIGKILL)</li>\n</ol>\n\n<p>this will kill process which is left on 8080 port and let you run application. </p>\n"},{"tags":[],"owner":{"account_id":13139344,"reputation":955,"user_id":9491394,"display_name":"MangduYogii"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551680488,"creation_date":1551680488,"answer_id":54977625,"question_id":40118878,"body_markdown":"No Need to  manually start  an application every time at time of development to implements changes use &#39;spring-boot-devtool&#39; maven dependency.\r\n\r\n&gt; Automatic Restart : \r\nTo use the module you simply need to add it as a dependency in your Maven POM:\r\n\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nWhen you have the spring-boot-devtools module included, any classpath file changes will automatically trigger an application restart. We do some tricks to try and keep restarts fast, so for many microservice style applications this technique might be good enough.\r\n","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<p>No Need to  manually start  an application every time at time of development to implements changes use 'spring-boot-devtool' maven dependency.</p>\n\n<blockquote>\n  <p>Automatic Restart : \n  To use the module you simply need to add it as a dependency in your Maven POM:</p>\n</blockquote>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>When you have the spring-boot-devtools module included, any classpath file changes will automatically trigger an application restart. We do some tricks to try and keep restarts fast, so for many microservice style applications this technique might be good enough.</p>\n"},{"tags":[],"owner":{"account_id":2348323,"reputation":13158,"user_id":2057902,"accept_rate":80,"display_name":"Sireesh Yarlagadda"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1586221149,"creation_date":1553179986,"answer_id":55283265,"question_id":40118878,"body_markdown":"If you are using linux system, use the below command.\r\n\r\n`fuser -k some_port_number/tcp`  - that will kill that process.\r\n\r\nSample:-\r\n\r\nfuser -k 8080/tcp\r\n\r\nSecond Option: Configure the tomcat to use a new port","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<p>If you are using linux system, use the below command.</p>\n\n<p><code>fuser -k some_port_number/tcp</code>  - that will kill that process.</p>\n\n<p>Sample:-</p>\n\n<p>fuser -k 8080/tcp</p>\n\n<p>Second Option: Configure the tomcat to use a new port</p>\n"},{"tags":[],"owner":{"account_id":3277843,"reputation":1754,"user_id":2759296,"accept_rate":83,"display_name":"hifromantal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586635259,"creation_date":1586635259,"answer_id":61162983,"question_id":40118878,"body_markdown":"Print the list of running processes and try to find the one that says `spring` in it. Once you find the appropriate process ID (`PID`), stop the given process.\r\n\r\n```shell\r\nps aux | grep spring\r\nkill -9 INSERT_PID_HERE\r\n```\r\n\r\nAfter that, try and run the application again. If you killed the correct process your port should be freed up and you can start the server again.","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<p>Print the list of running processes and try to find the one that says <code>spring</code> in it. Once you find the appropriate process ID (<code>PID</code>), stop the given process.</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>ps aux | grep spring\nkill -9 INSERT_PID_HERE\n</code></pre>\n\n<p>After that, try and run the application again. If you killed the correct process your port should be freed up and you can start the server again.</p>\n"},{"comments":[{"owner":{"account_id":12546935,"reputation":1675,"user_id":9129885,"display_name":"Shubham Chopra"},"score":0,"creation_date":1598012571,"post_id":61565469,"comment_id":112326947,"body_markdown":"If the red button is not activated you need to right click on the console and select terminate/disconnect all.","body":"If the red button is not activated you need to right click on the console and select terminate/disconnect all."}],"tags":[],"owner":{"account_id":1578733,"reputation":2202,"user_id":1464571,"accept_rate":78,"display_name":"Otieno Rowland"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588449417,"creation_date":1588449417,"answer_id":61565469,"question_id":40118878,"body_markdown":"One simple solution for me that worked was to :\r\n- Restart the IDE, since the stop Button was no longer visible.","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<p>One simple solution for me that worked was to :\n- Restart the IDE, since the stop Button was no longer visible.</p>\n"},{"tags":[],"owner":{"account_id":19192089,"reputation":11,"user_id":14021629,"display_name":"Nikhil Shelke"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596107963,"creation_date":1596107963,"answer_id":63172052,"question_id":40118878,"body_markdown":"Goto Window-&gt;Preferences, search for Launching.\r\n\r\nSelect the &quot;Terminate and Relaunch while launching&quot; option.\r\n\r\nPress Apply.","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<p>Goto Window-&gt;Preferences, search for Launching.</p>\n<p>Select the &quot;Terminate and Relaunch while launching&quot; option.</p>\n<p>Press Apply.</p>\n"},{"tags":[],"owner":{"account_id":4233050,"reputation":25930,"user_id":3464971,"display_name":"SuperNova"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601558230,"creation_date":1601558230,"answer_id":64156220,"question_id":40118878,"body_markdown":"You can use list open file command and then kill the process like below. \r\n\r\n    sudo lsof -t -i tcp:8181 | xargs kill -9\r\n\r\nor \r\n\r\n    sudo lsof -i tcp:8181\r\n    \r\n    kill -9 PID\r\n\r\n","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<p>You can use list open file command and then kill the process like below.</p>\n<pre><code>sudo lsof -t -i tcp:8181 | xargs kill -9\n</code></pre>\n<p>or</p>\n<pre><code>sudo lsof -i tcp:8181\n\nkill -9 PID\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6342344,"reputation":2613,"user_id":4923891,"accept_rate":83,"display_name":"Eren"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616460086,"creation_date":1616460086,"answer_id":66755716,"question_id":40118878,"body_markdown":"One line command for MAC users: \r\n\r\n    kill `lsof -i -n -P | grep TCP | grep 8080 | tr -s &quot; &quot; &quot;\\n&quot; | sed -n 2p`","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<p>One line command for MAC users:</p>\n<pre><code>kill `lsof -i -n -P | grep TCP | grep 8080 | tr -s &quot; &quot; &quot;\\n&quot; | sed -n 2p`\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9693102,"reputation":75,"user_id":7190541,"display_name":"Dalveer Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620796234,"creation_date":1620796234,"answer_id":67497641,"question_id":40118878,"body_markdown":"If you are facing problem while redeploying, the easiest way would be to **not leave port occupied**. i.e. close the context of your spring application, so that PORT gets closed alongside.\r\n\r\nYou can do that in these ways: \r\n\r\n   \r\n\r\n    //open context.\r\n    ConfigurableApplicationContext appContext = SpringApplication.run(Application.class, args);\r\n    ...\r\n    //in the end, close it\r\n    appContext.close();\r\n\r\nAnother way would be, to: open context in **try()** block\r\n\r\n    try(ConfigurableApplicationContext appContext =\r\n     SpringApplication.run(Application.class, args))\r\n    {\r\n    // your code here\r\n    }\r\n\r\n**try()** will take care of closing the context, therefore the PORT, even if code breaks somewhere, by \r\n calling **AutoCloseable**.\r\n\r\nref: [try-with-resources][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<p>If you are facing problem while redeploying, the easiest way would be to <strong>not leave port occupied</strong>. i.e. close the context of your spring application, so that PORT gets closed alongside.</p>\n<p>You can do that in these ways:</p>\n<pre><code>//open context.\nConfigurableApplicationContext appContext = SpringApplication.run(Application.class, args);\n...\n//in the end, close it\nappContext.close();\n</code></pre>\n<p>Another way would be, to: open context in <strong>try()</strong> block</p>\n<pre><code>try(ConfigurableApplicationContext appContext =\n SpringApplication.run(Application.class, args))\n{\n// your code here\n}\n</code></pre>\n<p><strong>try()</strong> will take care of closing the context, therefore the PORT, even if code breaks somewhere, by\ncalling <strong>AutoCloseable</strong>.</p>\n<p>ref: <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a></p>\n"},{"tags":[],"owner":{"account_id":5748845,"reputation":69,"user_id":4539243,"display_name":"Houssamel-deen"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1626171080,"creation_date":1626164547,"answer_id":68358904,"question_id":40118878,"body_markdown":"first running from CMD :\r\n\r\n    netstat -aon |find /i &quot;listening&quot; |find   &quot;8080&quot;\r\n\r\nthen get PID number and run following command: \r\nlet it 199,\r\n\r\n    taskkill /F /PID 199","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<p>first running from CMD :</p>\n<pre><code>netstat -aon |find /i &quot;listening&quot; |find   &quot;8080&quot;\n</code></pre>\n<p>then get PID number and run following command:\nlet it 199,</p>\n<pre><code>taskkill /F /PID 199\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18008655,"reputation":427,"user_id":13088862,"display_name":"Lahiru Kumara"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1631184592,"creation_date":1631106789,"answer_id":69103765,"question_id":40118878,"body_markdown":" - **SOLUTION 1**\r\n\r\nAs a solution ,You can change the default port in application.properties by adding this.\r\n\r\n       server.port = 8090\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n - **SOLUTION 2**\r\n\r\nIf the above solution is not working use this solution.\r\nHere we kill the process which used that port using command prompt.\r\n\r\n**In my case,**\r\n    Port =8090,\r\n    PID =22208\r\n\r\n  **1).** (This use to find PID)\r\n\r\n    netstat -ano | findstr :8090\r\n    \r\n\r\n  **2).** (Kill that proccess)\r\n\r\n     taskkill /PID 22208 /F\r\n\r\n[![enter image description here][2]][2]\r\n   \r\n\r\n**Good Luck !**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pDzeA.png\r\n  [2]: https://i.stack.imgur.com/NDLdI.png","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<ul>\n<li><strong>SOLUTION 1</strong></li>\n</ul>\n<p>As a solution ,You can change the default port in application.properties by adding this.</p>\n<pre><code>   server.port = 8090\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/pDzeA.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pDzeA.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li><strong>SOLUTION 2</strong></li>\n</ul>\n<p>If the above solution is not working use this solution.\nHere we kill the process which used that port using command prompt.</p>\n<p><strong>In my case,</strong>\nPort =8090,\nPID =22208</p>\n<p><strong>1).</strong> (This use to find PID)</p>\n<pre><code>netstat -ano | findstr :8090\n</code></pre>\n<p><strong>2).</strong> (Kill that proccess)</p>\n<pre><code> taskkill /PID 22208 /F\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/NDLdI.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NDLdI.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Good Luck !</strong></p>\n"},{"tags":[],"owner":{"account_id":4343429,"reputation":859,"user_id":3546107,"display_name":"Delirante"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639501701,"creation_date":1639501701,"answer_id":70352854,"question_id":40118878,"body_markdown":"If someone accidentally stumble on this post and his problem is that application is starting two times instead of once and it obviosly fails because port is already in use by first instantion of application. Try add these parameters in yml / properties file.\r\n\r\nspring.devtools.restart.quiet-period: 2000\r\n\r\nspring.devtools.restart.poll-interval: 3000\r\n\r\nhttps://github.com/spring-projects/spring-boot/issues/25269\r\n\r\nhttps://github.com/spring-projects/spring-boot/issues/12760\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using.devtools.globalsettings.configuring-file-system-watcher","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<p>If someone accidentally stumble on this post and his problem is that application is starting two times instead of once and it obviosly fails because port is already in use by first instantion of application. Try add these parameters in yml / properties file.</p>\n<p>spring.devtools.restart.quiet-period: 2000</p>\n<p>spring.devtools.restart.poll-interval: 3000</p>\n<p><a href=\"https://github.com/spring-projects/spring-boot/issues/25269\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/25269</a></p>\n<p><a href=\"https://github.com/spring-projects/spring-boot/issues/12760\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/12760</a></p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using.devtools.globalsettings.configuring-file-system-watcher\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using.devtools.globalsettings.configuring-file-system-watcher</a></p>\n"},{"tags":[],"owner":{"display_name":"user11936657"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646577058,"creation_date":1646577058,"answer_id":71371173,"question_id":40118878,"body_markdown":"### # If you are on windows os (1st way)\r\n - open task bar\r\n - right click on running JDK binary process\r\n - [![enter image description here][1]][1]\r\n\r\n\r\n - after right click then click on end task\r\n\r\n### # If you are on windows os (2nd way)\r\n\r\n - pres `win+r` -&gt; press enter (open windows command permot)\r\n -  [![enter image description here][2]][2]\r\n - `Taskkill /F /IM &lt;PID&gt;`\r\n\r\n  [1]: https://i.stack.imgur.com/jPt5T.png\r\n  [2]: https://i.stack.imgur.com/zJy5n.png","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<h3># If you are on windows os (1st way)</h3>\n<ul>\n<li><p>open task bar</p>\n</li>\n<li><p>right click on running JDK binary process</p>\n</li>\n<li><p><a href=\"https://i.stack.imgur.com/jPt5T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jPt5T.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>after right click then click on end task</p>\n</li>\n</ul>\n<h3># If you are on windows os (2nd way)</h3>\n<ul>\n<li>pres <code>win+r</code> -&gt; press enter (open windows command permot)</li>\n<li><a href=\"https://i.stack.imgur.com/zJy5n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zJy5n.png\" alt=\"enter image description here\" /></a></li>\n<li><code>Taskkill /F /IM &lt;PID&gt;</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16903363,"reputation":26,"user_id":13970769,"display_name":"Jona Tecnology"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653962516,"creation_date":1653962516,"answer_id":72441529,"question_id":40118878,"body_markdown":"YOU CAN CHANGE THE PORT NUMBER ALSO, TRYING THAT METHOD WILL CHANGE THE ERROR OF PORT 8080\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Uhawh.png","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<p>YOU CAN CHANGE THE PORT NUMBER ALSO, TRYING THAT METHOD WILL CHANGE THE ERROR OF PORT 8080</p>\n<p><a href=\"https://i.stack.imgur.com/Uhawh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Uhawh.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2384530,"reputation":1672,"user_id":2085768,"display_name":"RoutesMaps.com"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669201023,"creation_date":1669201023,"answer_id":74545677,"question_id":40118878,"body_markdown":"For Spring Boot 2 and later version add the property to your application configuration file(application.properties or application.yaml):\r\n\r\n    spring.main.web-application-type=WebApplicationType\r\n\r\nThe WebApplicationType can be one of:\r\n - NONE - The application should not run as a web application and should\r\n   not start an embedded web server.\r\n - REACTIVE - The application should run as a reactive web application and should start an embedded reactive web server.\r\n - SERVLET - The application should run as a servlet-based web application and should start an embedded servlet web server.\r\n","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<p>For Spring Boot 2 and later version add the property to your application configuration file(application.properties or application.yaml):</p>\n<pre><code>spring.main.web-application-type=WebApplicationType\n</code></pre>\n<p>The WebApplicationType can be one of:</p>\n<ul>\n<li>NONE - The application should not run as a web application and should\nnot start an embedded web server.</li>\n<li>REACTIVE - The application should run as a reactive web application and should start an embedded reactive web server.</li>\n<li>SERVLET - The application should run as a servlet-based web application and should start an embedded servlet web server.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13648441,"reputation":11,"user_id":9846965,"display_name":"Pramod G"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696360066,"creation_date":1696360066,"answer_id":77224916,"question_id":40118878,"body_markdown":"I was stuck with the similar issue and followed the below steps which resolved my issue. \r\n\r\nPlease type the following commands in Windows PowerShell. It needs Administrative privileges. \r\n\r\n&gt;&gt;netstat -ano | findstr :8080\r\n\r\n  TCP    0.0.0.0:8080           0.0.0.0:0              LISTENING       5868\r\n\r\n  TCP    [::]:8080              [::]:0                 LISTENING       5868\r\n\r\n&gt;&gt;taskkill /PID 5868 /F\r\n\r\nSUCCESS: The process with PID 5868 has been terminated.\r\n\r\n\r\n","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<p>I was stuck with the similar issue and followed the below steps which resolved my issue.</p>\n<p>Please type the following commands in Windows PowerShell. It needs Administrative privileges.</p>\n<blockquote>\n<blockquote>\n<p>netstat -ano | findstr :8080</p>\n</blockquote>\n</blockquote>\n<p>TCP    0.0.0.0:8080           0.0.0.0:0              LISTENING       5868</p>\n<p>TCP    [::]:8080              [::]:0                 LISTENING       5868</p>\n<blockquote>\n<blockquote>\n<p>taskkill /PID 5868 /F</p>\n</blockquote>\n</blockquote>\n<p>SUCCESS: The process with PID 5868 has been terminated.</p>\n"},{"tags":[],"owner":{"account_id":4703401,"reputation":2937,"user_id":3806350,"display_name":"dimohamdy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701460284,"creation_date":1701460284,"answer_id":77587755,"question_id":40118878,"body_markdown":"For MacOS\r\n---\r\nAfter changing the port number run this command in terminal\r\n\r\n    lsof -t -i:&lt;PORT_NUMBER&gt; | xargs kill -9\r\n\r\n","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<h2>For MacOS</h2>\n<p>After changing the port number run this command in terminal</p>\n<pre><code>lsof -t -i:&lt;PORT_NUMBER&gt; | xargs kill -9\n</code></pre>\n"}],"owner":{"account_id":1705800,"reputation":2257,"user_id":1564867,"display_name":"milan.latinovic"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357862,"favorite_count":0,"down_vote_count":0,"up_vote_count":77,"answer_count":31,"score":77,"last_activity_date":1701460284,"creation_date":1476828310,"question_id":40118878,"body_markdown":"I have strange thing when I try to modify Spring project inside my Spring Tool Suite. On the first load (deploy) everything is fine, application compiles and runs on localhost:8080 \r\n\r\nWhen I change something inside code and try to redeploy it (Run it again - Run As Spring Boot App) I get error message\r\n\r\n\r\n&gt; *************************** APPLICATION FAILED TO START\r\n&gt; ***************************\r\n&gt; \r\n&gt; Description:\r\n&gt; \r\n&gt; The Tomcat connector configured to listen on port 8080 failed to\r\n&gt; start. The port may already be in use or the connector may be\r\n&gt; misconfigured.\r\n&gt; \r\n&gt; Action:\r\n&gt; \r\n&gt; Verify the connector&#39;s configuration, identify and stop any process\r\n&gt; that&#39;s listening on port 8080, or configure this application to listen\r\n&gt; on another port.\r\n&gt; \r\n&gt; 2016-10-19 00:01:22.615  INFO 10988 --- [           main]\r\n&gt; ationConfigEmbeddedWebApplicationContext : Closing\r\n&gt; org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3023df74:\r\n&gt; startup date [Wed Oct 19 00:01:19 CEST 2016]; root of context\r\n&gt; hierarchy 2016-10-19 00:01:22.616  INFO 10988 --- [           main]\r\n&gt; o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed\r\n&gt; beans on shutdown\r\n\r\nIf I shutdown process on that port manually everything works fine again, but this can&#39;t be right way of redeploying Spring app. Am I doing something wrong here?\r\n\r\nI&#39;m using **:: Spring Boot :: (v1.4.1.RELEASE)**\r\n\r\nP.S. I&#39;m aware that I can setup some kind of hot-swap mechanism to have automatic reload of page after I change code, but for now I would like to resolve this issue first.\r\n\r\nThanks for any kind of help or info.","title":"8080 port already taken issue when trying to redeploy project from Spring Tool Suite IDE","body":"<p>I have strange thing when I try to modify Spring project inside my Spring Tool Suite. On the first load (deploy) everything is fine, application compiles and runs on localhost:8080 </p>\n\n<p>When I change something inside code and try to redeploy it (Run it again - Run As Spring Boot App) I get error message</p>\n\n<blockquote>\n  <p>*************************** APPLICATION FAILED TO START</p>\n  \n  <hr>\n  \n  <p>Description:</p>\n  \n  <p>The Tomcat connector configured to listen on port 8080 failed to\n  start. The port may already be in use or the connector may be\n  misconfigured.</p>\n  \n  <p>Action:</p>\n  \n  <p>Verify the connector's configuration, identify and stop any process\n  that's listening on port 8080, or configure this application to listen\n  on another port.</p>\n  \n  <p>2016-10-19 00:01:22.615  INFO 10988 --- [           main]\n  ationConfigEmbeddedWebApplicationContext : Closing\n  org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3023df74:\n  startup date [Wed Oct 19 00:01:19 CEST 2016]; root of context\n  hierarchy 2016-10-19 00:01:22.616  INFO 10988 --- [           main]\n  o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed\n  beans on shutdown</p>\n</blockquote>\n\n<p>If I shutdown process on that port manually everything works fine again, but this can't be right way of redeploying Spring app. Am I doing something wrong here?</p>\n\n<p>I'm using <strong>:: Spring Boot :: (v1.4.1.RELEASE)</strong></p>\n\n<p>P.S. I'm aware that I can setup some kind of hot-swap mechanism to have automatic reload of page after I change code, but for now I would like to resolve this issue first.</p>\n\n<p>Thanks for any kind of help or info.</p>\n"},{"tags":["java","eclipse","javafx"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":2,"creation_date":1689133532,"post_id":76667004,"comment_id":135168400,"body_markdown":"I know you think you explained what you did, but your description is both vague and unorganized. You should indicate what **exactly** you did, step by step. As you already know, there are tons of tutorials on how to do exactly what you need. Which tutorial did you use, and where does it go wrong? No one can help you without specific details, and no one is going to custom write a tutorial just for you when there are many out there already.","body":"I know you think you explained what you did, but your description is both vague and unorganized. You should indicate what <b>exactly</b> you did, step by step. As you already know, there are tons of tutorials on how to do exactly what you need. Which tutorial did you use, and where does it go wrong? No one can help you without specific details, and no one is going to custom write a tutorial just for you when there are many out there already."},{"owner":{"account_id":28760377,"reputation":1,"user_id":22026405,"display_name":"Shaun H"},"score":0,"creation_date":1689146199,"post_id":76667004,"comment_id":135170070,"body_markdown":"Thank you for acknowledging that I at least think I&#39;ve explained what I did. I&#39;ve just been at a complete dead end for a week now, i&#39;m something like 40 - 50 hours in on solutions that don&#39;t work on their faces and coming up with an exhaustive list of what I&#39;ve tried would be both impossible and unhelpful. https://www.youtube.com/watch?v=mUbORGu-z6Q I have recently followed this... and https://www.youtube.com/watch?v=nz8P528uGjk both, most of what I&#39;ve done has been along these lines and everyone claims this should work. Is the problem perhaps that the package wasn&#39;t started as a JFX project?","body":"Thank you for acknowledging that I at least think I&#39;ve explained what I did. I&#39;ve just been at a complete dead end for a week now, i&#39;m something like 40 - 50 hours in on solutions that don&#39;t work on their faces and coming up with an exhaustive list of what I&#39;ve tried would be both impossible and unhelpful. <a href=\"https://www.youtube.com/watch?v=mUbORGu-z6Q\" rel=\"nofollow noreferrer\">youtube.com/watch?v=mUbORGu-z6Q</a> I have recently followed this... and <a href=\"https://www.youtube.com/watch?v=nz8P528uGjk\" rel=\"nofollow noreferrer\">youtube.com/watch?v=nz8P528uGjk</a> both, most of what I&#39;ve done has been along these lines and everyone claims this should work. Is the problem perhaps that the package wasn&#39;t started as a JFX project?"},{"owner":{"account_id":28760377,"reputation":1,"user_id":22026405,"display_name":"Shaun H"},"score":0,"creation_date":1689146808,"post_id":76667004,"comment_id":135170190,"body_markdown":"So I know what I did wrong, and thank you SO MUCH for your patience Mars, and for not just telling me I&#39;m bad at providing details. So the problem I ran into is that my module-info.java didn&#39;t include\n`requires javafx.controls;\nopens com.packagename to javafx.graphics, javafx.fxml;`\n\nSo that&#39;s definitely on me! I knew I was doing something stupid just didn&#39;t know where ti was.","body":"So I know what I did wrong, and thank you SO MUCH for your patience Mars, and for not just telling me I&#39;m bad at providing details. So the problem I ran into is that my module-info.java didn&#39;t include <code>requires javafx.controls; opens com.packagename to javafx.graphics, javafx.fxml;</code>  So that&#39;s definitely on me! I knew I was doing something stupid just didn&#39;t know where ti was."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1689148467,"post_id":76667004,"comment_id":135170535,"body_markdown":"I have found that often those who try YouTube videos to learn JavaFX often can’t get started with JavaFX development, unlike those that follow the official [getting started instructions at openjfx.io](https://openjfx.io/openjfx-docs/).","body":"I have found that often those who try YouTube videos to learn JavaFX often can’t get started with JavaFX development, unlike those that follow the official <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">getting started instructions at openjfx.io</a>."},{"owner":{"account_id":28760377,"reputation":1,"user_id":22026405,"display_name":"Shaun H"},"score":0,"creation_date":1689152118,"post_id":76667004,"comment_id":135171431,"body_markdown":"That was where I started. Like I said after dozens of hours trying to solve the problem and fix it, an exhaustive list of everything I&#39;d followed would neither be possible, nor helpful. And those getting started instructions mention nothing about the module info file, so even if I hadn&#39;t followed those official instructions first, directing me to them would have been no more helpful than any of the youtube videos. I do appreciate the time, but since you saw the solution you must know that the problem wasn&#39;t in those instructions. So what was the point of this comment?","body":"That was where I started. Like I said after dozens of hours trying to solve the problem and fix it, an exhaustive list of everything I&#39;d followed would neither be possible, nor helpful. And those getting started instructions mention nothing about the module info file, so even if I hadn&#39;t followed those official instructions first, directing me to them would have been no more helpful than any of the youtube videos. I do appreciate the time, but since you saw the solution you must know that the problem wasn&#39;t in those instructions. So what was the point of this comment?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1689190357,"post_id":76667004,"comment_id":135180038,"body_markdown":"The question is &quot;How to install JavaFX in Eclipse 2023-03&quot;, the answer is to follow the [getting started instructions at openjfx.io](https://openjfx.io/openjfx-docs/).  StackOverflow doesn&#39;t recommend posting link-only answers.  I commented so that if somebody searches for &quot;How to install JavaFX in Eclipse&quot;, they can find a reference to the recommended solution.  I understand that you did not find the answer you were seeking in that resource.  Nevertheless, the official instructions are a good starting place for many developers IMO.","body":"The question is &quot;How to install JavaFX in Eclipse 2023-03&quot;, the answer is to follow the <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">getting started instructions at openjfx.io</a>.  StackOverflow doesn&#39;t recommend posting link-only answers.  I commented so that if somebody searches for &quot;How to install JavaFX in Eclipse&quot;, they can find a reference to the recommended solution.  I understand that you did not find the answer you were seeking in that resource.  Nevertheless, the official instructions are a good starting place for many developers IMO."}],"answers":[{"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1689148145,"post_id":76668100,"comment_id":135170461,"body_markdown":"You don’t need to open to `javafx.fxml` if you aren’t using fxml.  And if you are using fxml, then you need to `requires javafx.fxml;` as shown in the [openjfx modular sample code](https://github.com/openjfx/samples/blob/master/IDE/IntelliJ/Modular/Maven/hellofx/src/main/java/module-info.java).  Also I fixed formatting, as the code was formatted as executable JavaScript/html, which it is not.","body":"You don’t need to open to <code>javafx.fxml</code> if you aren’t using fxml.  And if you are using fxml, then you need to <code>requires javafx.fxml;</code> as shown in the <a href=\"https://github.com/openjfx/samples/blob/master/IDE/IntelliJ/Modular/Maven/hellofx/src/main/java/module-info.java\" rel=\"nofollow noreferrer\">openjfx modular sample code</a>.  Also I fixed formatting, as the code was formatted as executable JavaScript/html, which it is not."}],"tags":[],"owner":{"account_id":28760377,"reputation":1,"user_id":22026405,"display_name":"Shaun H"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689147574,"creation_date":1689146992,"answer_id":76668100,"question_id":76667004,"body_markdown":"The problem I was running into is that the package didn&#39;t include the requirement for javafx in the module-info.java file, adding \r\n\r\n    requires javafx.controls;\r\n    opens com.packagename to javafx.graphics, javafx.fxml;\r\n\r\nsolved the problem. Just adding the files to the buildpath did nothing without changing that file.","title":"How to install JavaFX in Eclipse 2023-03","body":"<p>The problem I was running into is that the package didn't include the requirement for javafx in the module-info.java file, adding</p>\n<pre><code>requires javafx.controls;\nopens com.packagename to javafx.graphics, javafx.fxml;\n</code></pre>\n<p>solved the problem. Just adding the files to the buildpath did nothing without changing that file.</p>\n"}],"owner":{"account_id":28760377,"reputation":1,"user_id":22026405,"display_name":"Shaun H"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701460254,"creation_date":1689132854,"question_id":76667004,"body_markdown":"I have tried everything I can find, help install new software and given the Oxygen link, selecting e(fx)clipse and installing, adding the external jars to the build path, duplicating my JRE and including the javafx files, everything I can find says to find jfsrt in &lt;JAVA_HOME&gt;/jre/lib but that doesn&#39;t exist there. I&#39;ve been trying for hours to fix the imports so I can import JavaFX classes but Eclipse just refuses. Please, explain this to me like I am a fifth grader, I cannot figure out for the life of me what to do.\r\n\r\nI already explained what I did.","title":"How to install JavaFX in Eclipse 2023-03","body":"<p>I have tried everything I can find, help install new software and given the Oxygen link, selecting e(fx)clipse and installing, adding the external jars to the build path, duplicating my JRE and including the javafx files, everything I can find says to find jfsrt in &lt;JAVA_HOME&gt;/jre/lib but that doesn't exist there. I've been trying for hours to fix the imports so I can import JavaFX classes but Eclipse just refuses. Please, explain this to me like I am a fifth grader, I cannot figure out for the life of me what to do.</p>\n<p>I already explained what I did.</p>\n"},{"tags":["java","spring","spring-boot","gradle","junit"],"answers":[{"tags":[],"owner":{"account_id":1336108,"reputation":8046,"user_id":1278839,"accept_rate":69,"display_name":"CodeChimp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701459416,"creation_date":1701459416,"answer_id":77587682,"question_id":77586156,"body_markdown":"Ok, I feel dumb but I finally found the answer by tracing through the Property loading code in Spring Boot.\r\n\r\nEssentially, in the `@PropertySource` annotation on the main app class, you HAVE to start the filename with `classpath:` like:\r\n\r\n```java\r\n@PropertySource(value = &quot;classpath:application-${ENV:LOCAL}.properties&quot;, ignoreResourceNotFound = false)\r\n```\r\n\r\nIf you don&#39;t, it blows past the `if` block that loads the property file using the Classpath resource loader.  I still don&#39;t have an answer as to why it worked fine when I ran the app in the IDE or packaged it in a Docker container and ran it in Kubernetes, but any runs into this issue and stumbles across this post you at least have something easy to try.","title":"Gradle 7.6 &#39;test&#39; target is not including `src/test/resources` in classpath of Spring Boot app","body":"<p>Ok, I feel dumb but I finally found the answer by tracing through the Property loading code in Spring Boot.</p>\n<p>Essentially, in the <code>@PropertySource</code> annotation on the main app class, you HAVE to start the filename with <code>classpath:</code> like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PropertySource(value = &quot;classpath:application-${ENV:LOCAL}.properties&quot;, ignoreResourceNotFound = false)\n</code></pre>\n<p>If you don't, it blows past the <code>if</code> block that loads the property file using the Classpath resource loader.  I still don't have an answer as to why it worked fine when I ran the app in the IDE or packaged it in a Docker container and ran it in Kubernetes, but any runs into this issue and stumbles across this post you at least have something easy to try.</p>\n"}],"owner":{"account_id":1336108,"reputation":8046,"user_id":1278839,"accept_rate":69,"display_name":"CodeChimp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77587682,"answer_count":1,"score":1,"last_activity_date":1701459416,"creation_date":1701442501,"question_id":77586156,"body_markdown":"I am working on a Spring Boot 3.0.3 app and using `@PropertySource` like this:\r\n\r\n```java\r\n@SpringBootApplication\r\n@PropertySource(value = &quot;application-${ENV:LOCAL}.properties&quot;, ignoreResourceNotFound = false)\r\npublic class SampleApp {\r\n  // ...code\r\n}\r\n```\r\n\r\nto load an alternative ENV-specific .properties file.  This works perfectly fine when the app runs, but with the unit tests I cant seem to get it to find the `application-UNIT.properties` file in `src/test/resources` or `src/main/resources`.\r\n\r\nFor example, I have this as a test:\r\n\r\n```java\r\n@SpringBootTest\r\n@TestPropertySource(properties = {&quot;ENV=UNIT&quot;})\r\nclass SampleAppTest {\r\n  // ...code\r\n}\r\n```\r\n\r\nWhen I run this using the mostly stock Gradle build.gradle that came with the Spring Boot Initializer at start.spring.io I get an error like:\r\n\r\n```\r\n...\r\nCaused by: java.io.FileNotFoundException: Could not open ServletContext resource [/application-UNIT.properties]\r\n...\r\n```\r\n\r\nI&#39;ve tried adding the path various ways, like adding it via sourceSets like:\r\n\r\n```gradle\r\nsourceSets {\r\n  test {\r\n    resources.srcDir(file(&#39;src/test/resources&#39;))\r\n  }\r\n```\r\n\r\nOr by adding a block like:\r\n\r\n```gradle\r\ntest {\r\n  classpath = sourceSets.test.runtimeClasspath + files(&quot;src/test/resources&quot;)\r\n}\r\n```\r\n\r\nAnd every combo using `${projectDir}` as a prefix, with full paths, with trailing `/`, with trailing `/*`, but nothing seems to allow the unit tests to run.  I&#39;ve even put breakpoints in the `build.gradle` file and verified I see the values in the respective Gradle objects in Intelli-J&#39;s debugger.  Hoping someone can point me in the right direction here as I have exhausted my google&#39;ing abilities.","title":"Gradle 7.6 &#39;test&#39; target is not including `src/test/resources` in classpath of Spring Boot app","body":"<p>I am working on a Spring Boot 3.0.3 app and using <code>@PropertySource</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@PropertySource(value = &quot;application-${ENV:LOCAL}.properties&quot;, ignoreResourceNotFound = false)\npublic class SampleApp {\n  // ...code\n}\n</code></pre>\n<p>to load an alternative ENV-specific .properties file.  This works perfectly fine when the app runs, but with the unit tests I cant seem to get it to find the <code>application-UNIT.properties</code> file in <code>src/test/resources</code> or <code>src/main/resources</code>.</p>\n<p>For example, I have this as a test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\n@TestPropertySource(properties = {&quot;ENV=UNIT&quot;})\nclass SampleAppTest {\n  // ...code\n}\n</code></pre>\n<p>When I run this using the mostly stock Gradle build.gradle that came with the Spring Boot Initializer at start.spring.io I get an error like:</p>\n<pre><code>...\nCaused by: java.io.FileNotFoundException: Could not open ServletContext resource [/application-UNIT.properties]\n...\n</code></pre>\n<p>I've tried adding the path various ways, like adding it via sourceSets like:</p>\n<pre><code>sourceSets {\n  test {\n    resources.srcDir(file('src/test/resources'))\n  }\n</code></pre>\n<p>Or by adding a block like:</p>\n<pre><code>test {\n  classpath = sourceSets.test.runtimeClasspath + files(&quot;src/test/resources&quot;)\n}\n</code></pre>\n<p>And every combo using <code>${projectDir}</code> as a prefix, with full paths, with trailing <code>/</code>, with trailing <code>/*</code>, but nothing seems to allow the unit tests to run.  I've even put breakpoints in the <code>build.gradle</code> file and verified I see the values in the respective Gradle objects in Intelli-J's debugger.  Hoping someone can point me in the right direction here as I have exhausted my google'ing abilities.</p>\n"},{"tags":["java","button","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1701353449,"post_id":77577831,"comment_id":136767038,"body_markdown":"Do you have a model class? Typically you would have an `ObservableList&lt;Book&gt;` in the model; your list view can use that list as its `items` list, and your button action can add the appropriate book to the list, which will result in the list view automatically updating. See https://stackoverflow.com/questions/36868391/using-javafx-controller-without-fxml/36873768#36873768","body":"Do you have a model class? Typically you would have an <code>ObservableList&lt;Book&gt;</code> in the model; your list view can use that list as its <code>items</code> list, and your button action can add the appropriate book to the list, which will result in the list view automatically updating. See <a href=\"https://stackoverflow.com/questions/36868391/using-javafx-controller-without-fxml/36873768#36873768\" title=\"using javafx controller without fxml\">stackoverflow.com/questions/36868391/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701458993,"creation_date":1701390931,"answer_id":77582427,"question_id":77577831,"body_markdown":"**Solution Approach**\r\n\r\nThe approach here is as outlined by James_D in comments:\r\n\r\n&gt; Typically you would have an ObservableList&lt;Book&gt; in the model; your list view can use that list as its items list, and your button action can add the appropriate book to the list, which will result in the list view automatically updating.\r\n\r\nFor the implementation the logic described in the comment, see this `BuyCell` class, where `Cart` is the part of the model managing the items list in the shopping cart.\r\n\r\n    class BuyCell extends TableCell&lt;Book, Void&gt; {\r\n        private final Button buy = new Button(&quot;Buy&quot;);\r\n    \r\n        public BuyCell(Cart cart) {\r\n            buy.setOnAction(e -&gt;\r\n                    cart.addBook(getTableRow().getItem())\r\n            );\r\n        }\r\n\r\n        @Override\r\n        protected void updateItem(Void item, boolean empty) {\r\n            super.updateItem(item, empty);\r\n    \r\n            setGraphic(empty ? null : buy);\r\n        }\r\n    }\r\n\r\n**Complete Example**\r\n\r\nYou should model your domain (a book store) and then write the code to make use of the modeled domain.\r\n\r\nYou need something to represent a Book:\r\n\r\n    record Book(String title, String author) {}\r\n\r\nAnd something to represent a shopping cart:\r\n\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    \r\n    import java.util.Optional;\r\n    \r\n    class Cart {\r\n        private final ObservableList&lt;CartItem&gt; items = FXCollections.observableArrayList();\r\n    \r\n        public ObservableList&lt;CartItem&gt; getItems() {\r\n            return items;\r\n        }\r\n    \r\n        public void addBook(Book book) {\r\n            Optional&lt;CartItem&gt; cartItem =\r\n                    items.stream()\r\n                            .filter(item -&gt; item.getBook().equals(book))\r\n                            .findFirst();\r\n    \r\n            if (cartItem.isPresent()) {\r\n                cartItem.get().setQuantity(\r\n                        cartItem.get().getQuantity() + 1\r\n                );\r\n            } else {\r\n                items.add(new CartItem(book, 1));\r\n            }\r\n        }\r\n    \r\n        public void clear() {\r\n            items.clear();\r\n        }\r\n    }\r\n\r\nAnd something to represent a line item in the shopping cart:\r\n\r\n    import javafx.beans.property.SimpleIntegerProperty;\r\n    \r\n    class CartItem {\r\n        private final Book book;\r\n        private final SimpleIntegerProperty quantity;\r\n    \r\n        public CartItem(Book book, int quantity) {\r\n            this.book = book;\r\n            this.quantity = new SimpleIntegerProperty(quantity);\r\n        }\r\n    \r\n        public Book getBook() {\r\n            return book;\r\n        }\r\n    \r\n        public int getQuantity() {\r\n            return quantity.get();\r\n        }\r\n    \r\n        public SimpleIntegerProperty quantityProperty() {\r\n            return quantity;\r\n        }\r\n    \r\n        public void setQuantity(int quantity) {\r\n            this.quantity.set(quantity);\r\n        }\r\n    }\r\n\r\nAnd something to represent all of the available books in the store and the current shopping cart.\r\n\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    \r\n    class BookStoreModel {\r\n        private final ObservableList&lt;Book&gt; books = FXCollections.observableArrayList();\r\n        private final Cart cart = new Cart();\r\n    \r\n        public BookStoreModel() {\r\n            books.addAll(\r\n                    new Book(&quot;The Seven Lamps of Architecture&quot;, &quot;John Ruskin&quot;),\r\n                    new Book(&quot;Collapse: How Societies Choose to Fail or Succeed&quot;, &quot;Jared Diamond&quot;)\r\n            );\r\n        }\r\n    \r\n        public ObservableList&lt;Book&gt; getBooks() {\r\n            return books;\r\n        }\r\n    \r\n        public Cart getCart() {\r\n            return cart;\r\n        }\r\n    }\r\n\r\nThen you need a UI for it:\r\n\r\n    import javafx.beans.binding.Bindings;\r\n    import javafx.beans.property.SimpleStringProperty;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.TableColumn;\r\n    import javafx.scene.control.TableView;\r\n    \r\n    class BookStoreUI {\r\n        public TableView&lt;Book&gt; createAvailableBooksView(\r\n                ObservableList&lt;Book&gt; books, Cart cart\r\n        ) {\r\n            TableView&lt;Book&gt; availableBooks = new TableView&lt;&gt;(books);\r\n    \r\n            TableColumn&lt;Book, String&gt; titleColumn = new TableColumn&lt;&gt;(&quot;Title&quot;);\r\n            titleColumn.setCellValueFactory(p -&gt;\r\n                    new SimpleStringProperty(p.getValue().title())\r\n            );\r\n            titleColumn.setPrefWidth(250);\r\n    \r\n            TableColumn&lt;Book, String&gt; authorColumn = new TableColumn&lt;&gt;(&quot;Author&quot;);\r\n            authorColumn.setCellValueFactory(p -&gt;\r\n                    new SimpleStringProperty(p.getValue().author())\r\n            );\r\n    \r\n            TableColumn&lt;Book, Void&gt; buyColumn = new TableColumn&lt;&gt;(&quot;Buy&quot;);\r\n            buyColumn.setMaxWidth(70);\r\n            buyColumn.setCellFactory(p -&gt;\r\n                    new BuyCell(cart)\r\n            );\r\n    \r\n            //noinspection unchecked\r\n            availableBooks.getColumns().addAll(titleColumn, authorColumn, buyColumn);\r\n    \r\n            availableBooks.setColumnResizePolicy(TableView.CONSTRAINED_RESIZE_POLICY_ALL_COLUMNS);\r\n    \r\n            return availableBooks;\r\n        }\r\n    \r\n        public TableView&lt;CartItem&gt; createPurchasesView(Cart cart) {\r\n            TableView&lt;CartItem&gt; purchases = new TableView&lt;&gt;(cart.getItems());\r\n            TableColumn&lt;CartItem, String&gt; purchasedTitleColumn = new TableColumn&lt;&gt;(&quot;Title&quot;);\r\n            purchasedTitleColumn.setCellValueFactory(p -&gt;\r\n                    new SimpleStringProperty(p.getValue().getBook().title())\r\n            );\r\n            purchasedTitleColumn.setPrefWidth(250);\r\n    \r\n            TableColumn&lt;CartItem, Integer&gt; quantityColumn = new TableColumn&lt;&gt;(&quot;Quantity&quot;);\r\n            quantityColumn.setMaxWidth(70);\r\n            quantityColumn.setCellValueFactory(p -&gt;\r\n                    p.getValue().quantityProperty().asObject()\r\n            );\r\n    \r\n            //noinspection unchecked\r\n            purchases.getColumns().addAll(purchasedTitleColumn, quantityColumn);\r\n    \r\n            purchases.setColumnResizePolicy(TableView.CONSTRAINED_RESIZE_POLICY_ALL_COLUMNS);\r\n    \r\n            return purchases;\r\n        }\r\n    \r\n        public Parent createCartControl(Cart cart) {\r\n            Button clear = new Button(&quot;Clear&quot;);\r\n            clear.setOnAction(e -&gt; cart.clear());\r\n            clear.disableProperty().bind(Bindings.isEmpty(cart.getItems()));\r\n    \r\n            return clear;\r\n        }\r\n    }\r\n\r\nAnd a widget for the Buy button.\r\n\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.TableCell;\r\n    import javafx.scene.layout.StackPane;\r\n    \r\n    class BuyCell extends TableCell&lt;Book, Void&gt; {\r\n        private final Button buy = new Button(&quot;Buy&quot;);\r\n        private final StackPane container = new StackPane(buy);\r\n    \r\n        public BuyCell(Cart cart) {\r\n            container.setPadding(new Insets(5));\r\n            buy.setOnAction(e -&gt;\r\n                    cart.addBook(getTableRow().getItem())\r\n            );\r\n        }\r\n    \r\n        @Override\r\n        protected void updateItem(Void item, boolean empty) {\r\n            super.updateItem(item, empty);\r\n    \r\n            setGraphic(empty ? null : container);\r\n        }\r\n    }\r\n\r\nAnd an application to tie it all together.\r\n\r\n    import javafx.application.Application;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class BookStoreApp extends Application {\r\n        private final BookStoreModel model = new BookStoreModel();\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            BookStoreUI ui = new BookStoreUI();\r\n    \r\n            VBox layout = new VBox(\r\n                    10,\r\n                    new Label(&quot;Available Books&quot;),\r\n                    ui.createAvailableBooksView(model.getBooks(), model.getCart()),\r\n                    new Label(&quot;Shopping Cart&quot;),\r\n                    ui.createPurchasesView(model.getCart()),\r\n                    ui.createCartControl(model.getCart())\r\n            );\r\n            layout.setPadding(new Insets(10));\r\n            layout.setPrefSize(500, 400);\r\n    \r\n            stage.setScene(new Scene(layout));\r\n            stage.show();\r\n        }\r\n    }\r\n\r\nThen you end up with something like this:\r\n\r\n[![screenshot][1]][1]\r\n\r\n**Additional resources**\r\n\r\n * [Eden provides a tutorial on TableView cell customization][2], it is more comprehensive than what you need, but it may be worth your time reviewing it.\r\n * Here is an example of [buttons in a TableView with FXML][3]. Doing it without FXML is pretty much similar.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4B0OR.png\r\n  [2]: https://edencoding.com/tableview-customization-cellfactory/\r\n  [3]: https://stackoverflow.com/questions/48724948/accessing-buttons-in-tableview\r\n","title":"How to add buy book button to every row in a table and print the book in area?","body":"<p><strong>Solution Approach</strong></p>\n<p>The approach here is as outlined by James_D in comments:</p>\n<blockquote>\n<p>Typically you would have an ObservableList in the model; your list view can use that list as its items list, and your button action can add the appropriate book to the list, which will result in the list view automatically updating.</p>\n</blockquote>\n<p>For the implementation the logic described in the comment, see this <code>BuyCell</code> class, where <code>Cart</code> is the part of the model managing the items list in the shopping cart.</p>\n<pre><code>class BuyCell extends TableCell&lt;Book, Void&gt; {\n    private final Button buy = new Button(&quot;Buy&quot;);\n\n    public BuyCell(Cart cart) {\n        buy.setOnAction(e -&gt;\n                cart.addBook(getTableRow().getItem())\n        );\n    }\n\n    @Override\n    protected void updateItem(Void item, boolean empty) {\n        super.updateItem(item, empty);\n\n        setGraphic(empty ? null : buy);\n    }\n}\n</code></pre>\n<p><strong>Complete Example</strong></p>\n<p>You should model your domain (a book store) and then write the code to make use of the modeled domain.</p>\n<p>You need something to represent a Book:</p>\n<pre><code>record Book(String title, String author) {}\n</code></pre>\n<p>And something to represent a shopping cart:</p>\n<pre><code>import javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\n\nimport java.util.Optional;\n\nclass Cart {\n    private final ObservableList&lt;CartItem&gt; items = FXCollections.observableArrayList();\n\n    public ObservableList&lt;CartItem&gt; getItems() {\n        return items;\n    }\n\n    public void addBook(Book book) {\n        Optional&lt;CartItem&gt; cartItem =\n                items.stream()\n                        .filter(item -&gt; item.getBook().equals(book))\n                        .findFirst();\n\n        if (cartItem.isPresent()) {\n            cartItem.get().setQuantity(\n                    cartItem.get().getQuantity() + 1\n            );\n        } else {\n            items.add(new CartItem(book, 1));\n        }\n    }\n\n    public void clear() {\n        items.clear();\n    }\n}\n</code></pre>\n<p>And something to represent a line item in the shopping cart:</p>\n<pre><code>import javafx.beans.property.SimpleIntegerProperty;\n\nclass CartItem {\n    private final Book book;\n    private final SimpleIntegerProperty quantity;\n\n    public CartItem(Book book, int quantity) {\n        this.book = book;\n        this.quantity = new SimpleIntegerProperty(quantity);\n    }\n\n    public Book getBook() {\n        return book;\n    }\n\n    public int getQuantity() {\n        return quantity.get();\n    }\n\n    public SimpleIntegerProperty quantityProperty() {\n        return quantity;\n    }\n\n    public void setQuantity(int quantity) {\n        this.quantity.set(quantity);\n    }\n}\n</code></pre>\n<p>And something to represent all of the available books in the store and the current shopping cart.</p>\n<pre><code>import javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\n\nclass BookStoreModel {\n    private final ObservableList&lt;Book&gt; books = FXCollections.observableArrayList();\n    private final Cart cart = new Cart();\n\n    public BookStoreModel() {\n        books.addAll(\n                new Book(&quot;The Seven Lamps of Architecture&quot;, &quot;John Ruskin&quot;),\n                new Book(&quot;Collapse: How Societies Choose to Fail or Succeed&quot;, &quot;Jared Diamond&quot;)\n        );\n    }\n\n    public ObservableList&lt;Book&gt; getBooks() {\n        return books;\n    }\n\n    public Cart getCart() {\n        return cart;\n    }\n}\n</code></pre>\n<p>Then you need a UI for it:</p>\n<pre><code>import javafx.beans.binding.Bindings;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.collections.ObservableList;\nimport javafx.scene.Parent;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\n\nclass BookStoreUI {\n    public TableView&lt;Book&gt; createAvailableBooksView(\n            ObservableList&lt;Book&gt; books, Cart cart\n    ) {\n        TableView&lt;Book&gt; availableBooks = new TableView&lt;&gt;(books);\n\n        TableColumn&lt;Book, String&gt; titleColumn = new TableColumn&lt;&gt;(&quot;Title&quot;);\n        titleColumn.setCellValueFactory(p -&gt;\n                new SimpleStringProperty(p.getValue().title())\n        );\n        titleColumn.setPrefWidth(250);\n\n        TableColumn&lt;Book, String&gt; authorColumn = new TableColumn&lt;&gt;(&quot;Author&quot;);\n        authorColumn.setCellValueFactory(p -&gt;\n                new SimpleStringProperty(p.getValue().author())\n        );\n\n        TableColumn&lt;Book, Void&gt; buyColumn = new TableColumn&lt;&gt;(&quot;Buy&quot;);\n        buyColumn.setMaxWidth(70);\n        buyColumn.setCellFactory(p -&gt;\n                new BuyCell(cart)\n        );\n\n        //noinspection unchecked\n        availableBooks.getColumns().addAll(titleColumn, authorColumn, buyColumn);\n\n        availableBooks.setColumnResizePolicy(TableView.CONSTRAINED_RESIZE_POLICY_ALL_COLUMNS);\n\n        return availableBooks;\n    }\n\n    public TableView&lt;CartItem&gt; createPurchasesView(Cart cart) {\n        TableView&lt;CartItem&gt; purchases = new TableView&lt;&gt;(cart.getItems());\n        TableColumn&lt;CartItem, String&gt; purchasedTitleColumn = new TableColumn&lt;&gt;(&quot;Title&quot;);\n        purchasedTitleColumn.setCellValueFactory(p -&gt;\n                new SimpleStringProperty(p.getValue().getBook().title())\n        );\n        purchasedTitleColumn.setPrefWidth(250);\n\n        TableColumn&lt;CartItem, Integer&gt; quantityColumn = new TableColumn&lt;&gt;(&quot;Quantity&quot;);\n        quantityColumn.setMaxWidth(70);\n        quantityColumn.setCellValueFactory(p -&gt;\n                p.getValue().quantityProperty().asObject()\n        );\n\n        //noinspection unchecked\n        purchases.getColumns().addAll(purchasedTitleColumn, quantityColumn);\n\n        purchases.setColumnResizePolicy(TableView.CONSTRAINED_RESIZE_POLICY_ALL_COLUMNS);\n\n        return purchases;\n    }\n\n    public Parent createCartControl(Cart cart) {\n        Button clear = new Button(&quot;Clear&quot;);\n        clear.setOnAction(e -&gt; cart.clear());\n        clear.disableProperty().bind(Bindings.isEmpty(cart.getItems()));\n\n        return clear;\n    }\n}\n</code></pre>\n<p>And a widget for the Buy button.</p>\n<pre><code>import javafx.geometry.Insets;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TableCell;\nimport javafx.scene.layout.StackPane;\n\nclass BuyCell extends TableCell&lt;Book, Void&gt; {\n    private final Button buy = new Button(&quot;Buy&quot;);\n    private final StackPane container = new StackPane(buy);\n\n    public BuyCell(Cart cart) {\n        container.setPadding(new Insets(5));\n        buy.setOnAction(e -&gt;\n                cart.addBook(getTableRow().getItem())\n        );\n    }\n\n    @Override\n    protected void updateItem(Void item, boolean empty) {\n        super.updateItem(item, empty);\n\n        setGraphic(empty ? null : container);\n    }\n}\n</code></pre>\n<p>And an application to tie it all together.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\npublic class BookStoreApp extends Application {\n    private final BookStoreModel model = new BookStoreModel();\n\n    @Override\n    public void start(Stage stage) {\n        BookStoreUI ui = new BookStoreUI();\n\n        VBox layout = new VBox(\n                10,\n                new Label(&quot;Available Books&quot;),\n                ui.createAvailableBooksView(model.getBooks(), model.getCart()),\n                new Label(&quot;Shopping Cart&quot;),\n                ui.createPurchasesView(model.getCart()),\n                ui.createCartControl(model.getCart())\n        );\n        layout.setPadding(new Insets(10));\n        layout.setPrefSize(500, 400);\n\n        stage.setScene(new Scene(layout));\n        stage.show();\n    }\n}\n</code></pre>\n<p>Then you end up with something like this:</p>\n<p><a href=\"https://i.stack.imgur.com/4B0OR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4B0OR.png\" alt=\"screenshot\" /></a></p>\n<p><strong>Additional resources</strong></p>\n<ul>\n<li><a href=\"https://edencoding.com/tableview-customization-cellfactory/\" rel=\"nofollow noreferrer\">Eden provides a tutorial on TableView cell customization</a>, it is more comprehensive than what you need, but it may be worth your time reviewing it.</li>\n<li>Here is an example of <a href=\"https://stackoverflow.com/questions/48724948/accessing-buttons-in-tableview\">buttons in a TableView with FXML</a>. Doing it without FXML is pretty much similar.</li>\n</ul>\n"}],"owner":{"account_id":27028830,"reputation":5,"user_id":20585597,"display_name":"ruscanca"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77582427,"answer_count":1,"score":0,"last_activity_date":1701458993,"creation_date":1701341549,"question_id":77577831,"body_markdown":"The code that I have bellow prints the book from the row that I press buyButton. But I want to change that. Every time I press the buyButton I need the book to apear in the &quot;Your cart:&quot; Area and I am stuck at that. I dont know how to make a handler for the buyButton from Controller class.\r\nThis is my View class:\r\n```\r\npublic CustomerView(Stage primaryStage) {\r\n        primaryStage.setTitle(&quot;Book Store&quot;);\r\n\r\n        GridPane gridPane = new GridPane();\r\n        initializeGridPane(gridPane);\r\n\r\n        Scene scene = new Scene(gridPane, 720, 480);\r\n        primaryStage.setScene(scene);\r\n\r\n        initializeSceneTitle(gridPane);\r\n\r\n        initializeTableView(gridPane);\r\n\r\n        initializeFields(gridPane);\r\n\r\n        primaryStage.show();\r\n    }\r\n\r\n    private void initializeGridPane(GridPane gridPane) {\r\n        gridPane.setAlignment(Pos.CENTER);\r\n        gridPane.setHgap(10);\r\n        gridPane.setVgap(10);\r\n        gridPane.setPadding(new Insets(40, 40, 40, 40));\r\n    }\r\n\r\n    private void initializeSceneTitle(GridPane gridPane) {\r\n        Text sceneTitle = new Text(&quot;Our book colection&quot;);\r\n        sceneTitle.setFont(Font.font(&quot;Tahome&quot;, FontWeight.NORMAL, 20));\r\n        gridPane.add(sceneTitle, 0, 0, 1, 3);\r\n    }\r\n\r\n    private void initializeTableView(GridPane gridPane) {\r\n        table = new TableView&lt;&gt;();\r\n\r\n        idColumn = new TableColumn&lt;&gt;(&quot;ID&quot;);\r\n        titleColumn = new TableColumn&lt;&gt;(&quot;Title&quot;);\r\n        authorColumn = new TableColumn&lt;&gt;(&quot;Author&quot;);\r\n        pubDateColumn = new TableColumn&lt;&gt;(&quot;Published Date&quot;);\r\n        priceColumn = new TableColumn&lt;&gt;(&quot;Price&quot;);\r\n        stockColumn = new TableColumn&lt;&gt;(&quot;Stock&quot;);\r\n        buyColumn = new TableColumn&lt;&gt;(&quot;Buy&quot;);\r\n\r\n        idColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;id&quot;));\r\n        titleColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;title&quot;));\r\n        authorColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;author&quot;));\r\n        pubDateColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;publishedDate&quot;));\r\n        priceColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;price&quot;));\r\n        stockColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;stock&quot;));\r\n\r\n        //final Button buyButton = new Button(&quot;Buy&quot;);\r\n\r\n        //bibliografie pentru codul de mai jos\r\n        //https://stackoverflow.com/questions/29489366/how-to-add-button-in-javafx-table-view\r\n        Callback&lt;TableColumn&lt;Book, Button&gt;, TableCell&lt;Book, Button&gt;&gt; cellFactory\r\n                = //\r\n                new Callback&lt;TableColumn&lt;Book, Button&gt;, TableCell&lt;Book, Button&gt;&gt;() {\r\n                    @Override\r\n                    public TableCell call(final TableColumn&lt;Book, Button&gt; param) {\r\n                        final TableCell&lt;Book, Button&gt; cell = new TableCell&lt;Book, Button&gt;() {\r\n\r\n                            final Button buyButton = new Button(&quot;Buy&quot;);\r\n\r\n                            @Override\r\n                            protected void updateItem(Button item, boolean empty) {\r\n                                super.updateItem(item, empty);\r\n                                if (empty) {\r\n                                    setGraphic(null);\r\n                                } else {\r\n                                    buyButton.setOnAction(event -&gt; {\r\n                                        Book book = getTableView().getItems().get(getIndex());\r\n                                        System.out.println(book.getAuthor()\r\n                                                + &quot;   &quot; + book.getTitle());\r\n                                        //buyBookHandler.handle(event);\r\n                                    });\r\n                                    setGraphic(buyButton);\r\n                                }\r\n\r\n                            }\r\n                        };\r\n                        return cell;\r\n                    }\r\n                };\r\n\r\n        buyColumn.setCellFactory(cellFactory);\r\n\r\n        table.getColumns().add(idColumn);\r\n        table.getColumns().add(titleColumn);\r\n        table.getColumns().add(authorColumn);\r\n        table.getColumns().add(pubDateColumn);\r\n        table.getColumns().add(priceColumn);\r\n        table.getColumns().add(stockColumn);\r\n        table.getColumns().add(buyColumn);\r\n        gridPane.add(table,2, 4, 25,25);//1:0\r\n\r\n        VBox tableViewBox = new VBox(10);\r\n        tableViewBox.getChildren().add(table);\r\n\r\n        showAllBooksButton = new Button(&quot;See out book colection&quot;);\r\n\r\n        HBox viewAllBooksHBox = new HBox(10);\r\n        viewAllBooksHBox.setAlignment(Pos.BOTTOM_LEFT);\r\n        viewAllBooksHBox.getChildren().add(showAllBooksButton);\r\n        gridPane.add(viewAllBooksHBox, 5, 1);\r\n\r\n        //HBox buyButtonHBox = new HBox(10);\r\n        //buyButtonHBox.setAlignment(Pos.BOTTOM_LEFT);\r\n\r\n        //gridPane.add(buyButtonHBox, 0,20,2,1);\r\n        gridPane.add(tableViewBox, 0, 5, 10, 20);\r\n\r\n    }\r\n\r\n    private void initializeFields(GridPane gridPane) {\r\n        cartArea = new TextArea();\r\n        cartArea.setEditable(false);\r\n        cartArea.setText(&quot;Your cart: \\n&quot;);\r\n\r\n        HBox buttonsHBox = new HBox(5);\r\n        buttonsHBox.setAlignment(Pos.BOTTOM_CENTER);\r\n        buttonsHBox.getChildren().addAll(cartArea);\r\n        gridPane.add(buttonsHBox, 0, 27, 2, 5);\r\n\r\n        totalPriceLabel = new Label(&quot;Total price: &quot;);\r\n        gridPane.add(totalPriceLabel, 0, 32, 5, 1);\r\n    }\r\n\r\n    public void setBooksData(List&lt;Book&gt; books) {\r\n        booksList = FXCollections.observableArrayList(books);\r\n        table.setItems(booksList);\r\n    }\r\n\r\n    public void showAllBooks(EventHandler&lt;ActionEvent&gt; show){\r\n        showAllBooksButton.setOnAction(show);\r\n    }\r\n\r\n    public void setCartArea(String msj){\r\n        cartArea.appendText(msj);\r\n    }\r\n\r\n    public void setPriceTotal(int price){\r\n        totalPriceLabel.setText(totalPriceLabel.getText() + price);\r\n    }\r\n```\r\n\r\nThis in my Controller class:\r\n\r\n```\r\npublic class CustomerController {\r\n    private final CustomerView customerView;\r\n    private final BookService bookService;\r\n    List&lt;Book&gt; booksInCart = new ArrayList&lt;&gt;();\r\n\r\n    public CustomerController(CustomerView customerView, BookService bookService) {\r\n        this.customerView = customerView;\r\n        this.bookService = bookService;\r\n\r\n        //this.customerView.setBuyButtonHandler(new BuyBook());\r\n        this.customerView.showAllBooks(new ViewAllBooks());\r\n    }\r\n\r\n    private class ViewAllBooks implements EventHandler&lt;ActionEvent&gt; {\r\n        private List&lt;Book&gt; books;\r\n        @Override\r\n        public void handle(ActionEvent event) {\r\n            books = bookService.findAll();\r\n            customerView.setBooksData(books);\r\n        }\r\n    }\r\n\r\n    private class BuyBook implements EventHandler&lt;ActionEvent&gt; {\r\n        private String title;\r\n        private int stock;\r\n        private Book selectedBook;\r\n        private int price = 0;\r\n        @Override\r\n        public void handle(ActionEvent event) {\r\n            selectedBook = customerView.getSelectedBook();\r\n            //booksInCart.add(selectedBook);\r\n            title = selectedBook.getTitle();\r\n            stock = selectedBook.getStock();\r\n\r\n            if(stock &gt; 0){\r\n                selectedBook.setStock(stock - 1);\r\n                customerView.setCartArea(title);\r\n\r\n                price += selectedBook.getPrice();\r\n                customerView.setPriceTotal(price);\r\n            }\r\n            else {\r\n                customerView.setCartArea(&quot;Sold out!&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```","title":"How to add buy book button to every row in a table and print the book in area?","body":"<p>The code that I have bellow prints the book from the row that I press buyButton. But I want to change that. Every time I press the buyButton I need the book to apear in the &quot;Your cart:&quot; Area and I am stuck at that. I dont know how to make a handler for the buyButton from Controller class.\nThis is my View class:</p>\n<pre><code>public CustomerView(Stage primaryStage) {\n        primaryStage.setTitle(&quot;Book Store&quot;);\n\n        GridPane gridPane = new GridPane();\n        initializeGridPane(gridPane);\n\n        Scene scene = new Scene(gridPane, 720, 480);\n        primaryStage.setScene(scene);\n\n        initializeSceneTitle(gridPane);\n\n        initializeTableView(gridPane);\n\n        initializeFields(gridPane);\n\n        primaryStage.show();\n    }\n\n    private void initializeGridPane(GridPane gridPane) {\n        gridPane.setAlignment(Pos.CENTER);\n        gridPane.setHgap(10);\n        gridPane.setVgap(10);\n        gridPane.setPadding(new Insets(40, 40, 40, 40));\n    }\n\n    private void initializeSceneTitle(GridPane gridPane) {\n        Text sceneTitle = new Text(&quot;Our book colection&quot;);\n        sceneTitle.setFont(Font.font(&quot;Tahome&quot;, FontWeight.NORMAL, 20));\n        gridPane.add(sceneTitle, 0, 0, 1, 3);\n    }\n\n    private void initializeTableView(GridPane gridPane) {\n        table = new TableView&lt;&gt;();\n\n        idColumn = new TableColumn&lt;&gt;(&quot;ID&quot;);\n        titleColumn = new TableColumn&lt;&gt;(&quot;Title&quot;);\n        authorColumn = new TableColumn&lt;&gt;(&quot;Author&quot;);\n        pubDateColumn = new TableColumn&lt;&gt;(&quot;Published Date&quot;);\n        priceColumn = new TableColumn&lt;&gt;(&quot;Price&quot;);\n        stockColumn = new TableColumn&lt;&gt;(&quot;Stock&quot;);\n        buyColumn = new TableColumn&lt;&gt;(&quot;Buy&quot;);\n\n        idColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;id&quot;));\n        titleColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;title&quot;));\n        authorColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;author&quot;));\n        pubDateColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;publishedDate&quot;));\n        priceColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;price&quot;));\n        stockColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;stock&quot;));\n\n        //final Button buyButton = new Button(&quot;Buy&quot;);\n\n        //bibliografie pentru codul de mai jos\n        //https://stackoverflow.com/questions/29489366/how-to-add-button-in-javafx-table-view\n        Callback&lt;TableColumn&lt;Book, Button&gt;, TableCell&lt;Book, Button&gt;&gt; cellFactory\n                = //\n                new Callback&lt;TableColumn&lt;Book, Button&gt;, TableCell&lt;Book, Button&gt;&gt;() {\n                    @Override\n                    public TableCell call(final TableColumn&lt;Book, Button&gt; param) {\n                        final TableCell&lt;Book, Button&gt; cell = new TableCell&lt;Book, Button&gt;() {\n\n                            final Button buyButton = new Button(&quot;Buy&quot;);\n\n                            @Override\n                            protected void updateItem(Button item, boolean empty) {\n                                super.updateItem(item, empty);\n                                if (empty) {\n                                    setGraphic(null);\n                                } else {\n                                    buyButton.setOnAction(event -&gt; {\n                                        Book book = getTableView().getItems().get(getIndex());\n                                        System.out.println(book.getAuthor()\n                                                + &quot;   &quot; + book.getTitle());\n                                        //buyBookHandler.handle(event);\n                                    });\n                                    setGraphic(buyButton);\n                                }\n\n                            }\n                        };\n                        return cell;\n                    }\n                };\n\n        buyColumn.setCellFactory(cellFactory);\n\n        table.getColumns().add(idColumn);\n        table.getColumns().add(titleColumn);\n        table.getColumns().add(authorColumn);\n        table.getColumns().add(pubDateColumn);\n        table.getColumns().add(priceColumn);\n        table.getColumns().add(stockColumn);\n        table.getColumns().add(buyColumn);\n        gridPane.add(table,2, 4, 25,25);//1:0\n\n        VBox tableViewBox = new VBox(10);\n        tableViewBox.getChildren().add(table);\n\n        showAllBooksButton = new Button(&quot;See out book colection&quot;);\n\n        HBox viewAllBooksHBox = new HBox(10);\n        viewAllBooksHBox.setAlignment(Pos.BOTTOM_LEFT);\n        viewAllBooksHBox.getChildren().add(showAllBooksButton);\n        gridPane.add(viewAllBooksHBox, 5, 1);\n\n        //HBox buyButtonHBox = new HBox(10);\n        //buyButtonHBox.setAlignment(Pos.BOTTOM_LEFT);\n\n        //gridPane.add(buyButtonHBox, 0,20,2,1);\n        gridPane.add(tableViewBox, 0, 5, 10, 20);\n\n    }\n\n    private void initializeFields(GridPane gridPane) {\n        cartArea = new TextArea();\n        cartArea.setEditable(false);\n        cartArea.setText(&quot;Your cart: \\n&quot;);\n\n        HBox buttonsHBox = new HBox(5);\n        buttonsHBox.setAlignment(Pos.BOTTOM_CENTER);\n        buttonsHBox.getChildren().addAll(cartArea);\n        gridPane.add(buttonsHBox, 0, 27, 2, 5);\n\n        totalPriceLabel = new Label(&quot;Total price: &quot;);\n        gridPane.add(totalPriceLabel, 0, 32, 5, 1);\n    }\n\n    public void setBooksData(List&lt;Book&gt; books) {\n        booksList = FXCollections.observableArrayList(books);\n        table.setItems(booksList);\n    }\n\n    public void showAllBooks(EventHandler&lt;ActionEvent&gt; show){\n        showAllBooksButton.setOnAction(show);\n    }\n\n    public void setCartArea(String msj){\n        cartArea.appendText(msj);\n    }\n\n    public void setPriceTotal(int price){\n        totalPriceLabel.setText(totalPriceLabel.getText() + price);\n    }\n</code></pre>\n<p>This in my Controller class:</p>\n<pre><code>public class CustomerController {\n    private final CustomerView customerView;\n    private final BookService bookService;\n    List&lt;Book&gt; booksInCart = new ArrayList&lt;&gt;();\n\n    public CustomerController(CustomerView customerView, BookService bookService) {\n        this.customerView = customerView;\n        this.bookService = bookService;\n\n        //this.customerView.setBuyButtonHandler(new BuyBook());\n        this.customerView.showAllBooks(new ViewAllBooks());\n    }\n\n    private class ViewAllBooks implements EventHandler&lt;ActionEvent&gt; {\n        private List&lt;Book&gt; books;\n        @Override\n        public void handle(ActionEvent event) {\n            books = bookService.findAll();\n            customerView.setBooksData(books);\n        }\n    }\n\n    private class BuyBook implements EventHandler&lt;ActionEvent&gt; {\n        private String title;\n        private int stock;\n        private Book selectedBook;\n        private int price = 0;\n        @Override\n        public void handle(ActionEvent event) {\n            selectedBook = customerView.getSelectedBook();\n            //booksInCart.add(selectedBook);\n            title = selectedBook.getTitle();\n            stock = selectedBook.getStock();\n\n            if(stock &gt; 0){\n                selectedBook.setStock(stock - 1);\n                customerView.setCartArea(title);\n\n                price += selectedBook.getPrice();\n                customerView.setPriceTotal(price);\n            }\n            else {\n                customerView.setCartArea(&quot;Sold out!&quot;);\n            }\n        }\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","selenium-webdriver","staleelementreferenceexception"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1701457121,"post_id":77587342,"comment_id":136782268,"body_markdown":"this can happen if the DOM is still updating when you use an element reference method.  ( element.getText() ) When Stale Element exception is thrown you need to re-get that webelement reference array.  (your findElements call..)  Not sure exactly how you do that with POMs because they are (I think) initialized when you use them.... but check here for a solution using a while loop: https://stackoverflow.com/questions/66820416/random-errors-using-wait-for-element-clickable-method-in-selenium/66820707#66820707","body":"this can happen if the DOM is still updating when you use an element reference method.  ( element.getText() ) When Stale Element exception is thrown you need to re-get that webelement reference array.  (your findElements call..)  Not sure exactly how you do that with POMs because they are (I think) initialized when you use them.... but check here for a solution using a while loop: <a href=\"https://stackoverflow.com/questions/66820416/random-errors-using-wait-for-element-clickable-method-in-selenium/66820707#66820707\" title=\"random errors using wait for element clickable method in selenium\">stackoverflow.com/questions/66820416/&hellip;</a>"}],"owner":{"account_id":30042436,"reputation":1,"user_id":23023010,"display_name":"TheTimeLord"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701458928,"creation_date":1701455101,"question_id":77587342,"body_markdown":"Background: This project is using Page Object Models to define WebElements that are used as base references to find children that may or many not exist during runtime.\r\n\r\n```\r\n@FindBy(xpath = &quot;//app-header//div/button&quot;)\r\nprotected List&lt;WebElement&gt; globalHeaderButtons;\r\n```\r\n\r\nWe then use methods to find and interact with specific child elements as needed. These elements may or may not exist during runtime depending on the state of the webpage and data in the DB.\r\n\r\n\r\n```\r\npublic boolean clickGlobalHeaderButton(String button) {\r\n   for(WebElement element : globalHeaderButtons) {\r\n      element = common.waitElement(element);\r\n      if(element.getText().contains(button) {\r\n         return element.click();\r\n      }\r\n   }\r\n   return false;\r\n}\r\n```\r\n\r\nAnother file:\r\n\r\n```\r\n// This is initialized in the constructor of the class\r\nprivate WebDriverWait wait = new WebDriver(this.driver, Duration.ofSeconds(8));\r\n\r\npublic WebElement waitElement(WebElement element) {\r\n   return wait.until(ExpectedConditions.visibilityOf(element));\r\n}\r\n```\r\n\r\nSometimes when interacting with the elements we are sent to new pages with new elements with the same locators. In this example an error I might encounter an error in the wait function stating that the element is stale. Even after trying to use a wait function it refuses to see the element even after it is loaded. I think it has to do with Java being call by value and not call by reference. In order to resolve this we have been using implicit waits prior to calling these functions. How can I create a wait function that takes a WebElement as input and returns a non-stale element with the same locators if one exists?\r\n\r\n\r\nI have tried using try-catch blocks in a loop to check if element is displayed in waitElement() function, this results in an infinite loop. I need a wait function that can return a non stale element after waiting a given duration when passed an element that could be stale without knowing the locators beforehand.","title":"How to refresh a stale WebElement if the locator isn&#39;t known prior to runtime?","body":"<p>Background: This project is using Page Object Models to define WebElements that are used as base references to find children that may or many not exist during runtime.</p>\n<pre><code>@FindBy(xpath = &quot;//app-header//div/button&quot;)\nprotected List&lt;WebElement&gt; globalHeaderButtons;\n</code></pre>\n<p>We then use methods to find and interact with specific child elements as needed. These elements may or may not exist during runtime depending on the state of the webpage and data in the DB.</p>\n<pre><code>public boolean clickGlobalHeaderButton(String button) {\n   for(WebElement element : globalHeaderButtons) {\n      element = common.waitElement(element);\n      if(element.getText().contains(button) {\n         return element.click();\n      }\n   }\n   return false;\n}\n</code></pre>\n<p>Another file:</p>\n<pre><code>// This is initialized in the constructor of the class\nprivate WebDriverWait wait = new WebDriver(this.driver, Duration.ofSeconds(8));\n\npublic WebElement waitElement(WebElement element) {\n   return wait.until(ExpectedConditions.visibilityOf(element));\n}\n</code></pre>\n<p>Sometimes when interacting with the elements we are sent to new pages with new elements with the same locators. In this example an error I might encounter an error in the wait function stating that the element is stale. Even after trying to use a wait function it refuses to see the element even after it is loaded. I think it has to do with Java being call by value and not call by reference. In order to resolve this we have been using implicit waits prior to calling these functions. How can I create a wait function that takes a WebElement as input and returns a non-stale element with the same locators if one exists?</p>\n<p>I have tried using try-catch blocks in a loop to check if element is displayed in waitElement() function, this results in an infinite loop. I need a wait function that can return a non stale element after waiting a given duration when passed an element that could be stale without knowing the locators beforehand.</p>\n"},{"tags":["java","javafx","3d","javafx-8"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1701447475,"post_id":77585428,"comment_id":136780671,"body_markdown":"I know zero about `JavaFX-3D`, so I am not sure if the following will help. https://stackoverflow.com/questions/28731460/javafx-moving-3d-objects-with-mouse-on-a-virtual-plane","body":"I know zero about <code>JavaFX-3D</code>, so I am not sure if the following will help. <a href=\"https://stackoverflow.com/questions/28731460/javafx-moving-3d-objects-with-mouse-on-a-virtual-plane\" title=\"javafx moving 3d objects with mouse on a virtual plane\">stackoverflow.com/questions/28731460/&hellip;</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1701473573,"post_id":77585428,"comment_id":136784359,"body_markdown":"After adding thre required images, your program runs; it&#39;s not clear why you have two, nearly identical mouse handlers with local variables hiding fields.","body":"After adding thre required images, your program runs; it&#39;s not clear why you have two, nearly identical mouse handlers with local variables hiding fields."}],"owner":{"account_id":9853220,"reputation":39,"user_id":7952749,"display_name":"Haneen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701458736,"creation_date":1701435379,"question_id":77585428,"body_markdown":"I have a question about 3D graphic shape in JavaFX. I drew a 3D snowman. I&#39;m trying to add a mouse event that let an object move to the mouse click position but other objects are affected and some of them disappear. I noted when I rotate an object, the mouse event works correctly and other shapes don&#39;t disappear. \r\n\r\nPlease help me to correct my code work.\r\n\r\nThis is all the code:\r\n\r\n```\r\npackage javafxapplication6;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport javafx.scene.image.Image;\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Point3D;\r\nimport javafx.scene.AmbientLight;\r\nimport javafx.scene.Camera;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.PerspectiveCamera;\r\nimport javafx.scene.PointLight;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.effect.DropShadow;\r\nimport javafx.scene.input.KeyCode;\r\nimport javafx.scene.input.KeyEvent;\r\nimport javafx.scene.input.MouseButton;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.paint.PhongMaterial;\r\nimport javafx.scene.shape.*;\r\nimport javafx.scene.transform.Rotate;\r\nimport javafx.scene.transform.Translate;\r\nimport javafx.stage.Stage;\r\n    \r\npublic class Lab7 extends Application {\r\n    private static final int WIDTH = 800;\r\n    private static final int HEIGHT = 500;\r\n    private double mouseX, mouseY;\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws FileNotFoundException {\r\n        Box BG = new Box(WIDTH, HEIGHT, 100);\r\n        BG.setTranslateX(400);\r\n        BG.setTranslateY(250);\r\n        BG.setTranslateZ(40);\r\n\r\n        Sphere snowManBody = new Sphere(100, 20);\r\n        snowManBody.setTranslateX(WIDTH / 3 + 100);\r\n        snowManBody.setTranslateY(HEIGHT / 1.4);\r\n        snowManBody.setTranslateZ(90);\r\n\r\n        Sphere snowManFace = new Sphere(90, 20);\r\n        snowManFace.setTranslateX(366.6);\r\n        snowManFace.setTranslateY(227.27);\r\n        snowManFace.setTranslateZ(90);\r\n\r\n        Box brim = new Box(120, 70, 150);\r\n        brim.setTranslateX(WIDTH / 3 + 100);\r\n        brim.setTranslateY(HEIGHT / 3.9);\r\n        brim.setTranslateZ(90);\r\n\r\n        Box base = new Box(200, 15, 150);\r\n        base.setTranslateX(WIDTH / 3 + 100);\r\n        base.setTranslateY(HEIGHT / 3);\r\n        base.setTranslateZ(90);\r\n\r\n        // Create two left eye (spheres)\r\n        Sphere leftEye = new Sphere(20);\r\n        leftEye.setTranslateX(330);\r\n        leftEye.setTranslateY(210);\r\n        leftEye.setTranslateZ(120);\r\n        leftEye.setMaterial(new PhongMaterial(Color.AQUA));\r\n\r\n        Sphere SleftEye = new Sphere(10);\r\n        SleftEye.setTranslateX(330);\r\n        SleftEye.setTranslateY(210);\r\n        SleftEye.setTranslateZ(120);\r\n        SleftEye.setMaterial(new PhongMaterial(Color.BLACK));\r\n\r\n        Sphere SsleftEye = new Sphere(6);\r\n        SsleftEye.setTranslateX(324);\r\n        SsleftEye.setTranslateY(205);\r\n        SsleftEye.setTranslateZ(120);\r\n        SsleftEye.setMaterial(new PhongMaterial(Color.WHITE));\r\n\r\n        // Create two Right eye (spheres)\r\n        Sphere rightEye = new Sphere(20);\r\n        rightEye.setTranslateX(400);\r\n        rightEye.setTranslateY(210);\r\n        rightEye.setTranslateZ(120);\r\n        rightEye.setMaterial(new PhongMaterial(Color.AQUA));\r\n\r\n        Sphere sRightEye = new Sphere(10);\r\n        sRightEye.setTranslateX(400);\r\n        sRightEye.setTranslateY(210);\r\n        sRightEye.setTranslateZ(120);\r\n        sRightEye.setMaterial(new PhongMaterial(Color.BLACK));\r\n\r\n        Sphere RsleftEye = new Sphere(6);\r\n        RsleftEye.setTranslateX(395);\r\n        RsleftEye.setTranslateY(205);\r\n        RsleftEye.setTranslateZ(120);\r\n        RsleftEye.setMaterial(new PhongMaterial(Color.WHITE));\r\n\r\n        Arc smile = new Arc(365, 220, 50, 50, 250, 50);\r\n        smile.setType(ArcType.OPEN);\r\n        smile.setStroke(Color.BLACK);\r\n        smile.setStrokeWidth(5);\r\n        smile.setFill(null);\r\n\r\n        Arc Rshy1 = new Arc(365, 285, 50, 50, -240, 10);\r\n        Rshy1.setType(ArcType.OPEN);\r\n        Rshy1.setStroke(Color.RED);\r\n        Rshy1.setStrokeWidth(2);\r\n        Rshy1.setFill(null);\r\n\r\n        Arc Rshy2 = new Arc(360, 285, 50, 50, -240, 10);\r\n        Rshy2.setType(ArcType.OPEN);\r\n        Rshy2.setStroke(Color.RED);\r\n        Rshy2.setStrokeWidth(2);\r\n        Rshy2.setFill(null);\r\n\r\n        Arc Rshy3 = new Arc(355, 285, 50, 50, -240, 10);\r\n        Rshy3.setType(ArcType.OPEN);\r\n        Rshy3.setStroke(Color.RED);\r\n        Rshy3.setStrokeWidth(2);\r\n        Rshy3.setFill(null);\r\n\r\n        Arc Lshy1 = new Arc(435, 285, 50, 50, -240, 10);\r\n        Lshy1.setType(ArcType.OPEN);\r\n        Lshy1.setStroke(Color.RED);\r\n        Lshy1.setStrokeWidth(2);\r\n        Lshy1.setFill(null);\r\n\r\n        Arc Lshy2 = new Arc(425, 285, 50, 50, -240, 10);\r\n        Lshy2.setType(ArcType.OPEN);\r\n        Lshy2.setStroke(Color.RED);\r\n        Lshy2.setStrokeWidth(2);\r\n        Lshy2.setFill(null);\r\n\r\n        Arc Lshy3 = new Arc(430, 285, 50, 50, -240, 10);\r\n        Lshy3.setType(ArcType.OPEN);\r\n        Lshy3.setStroke(Color.RED);\r\n        Lshy3.setStrokeWidth(2);\r\n        Lshy3.setFill(null);\r\n\r\n        // Create a 3D nose (cone)\r\n        Cylinder nose = new Cylinder(5, 40);\r\n        nose.setTranslateX(355); // Adjust the position as needed\r\n        nose.setTranslateY(245);\r\n        nose.setTranslateZ(0);\r\n        nose.setRotate(60); // Adjust the rotation for a tilted appearance\r\n        nose.setMaterial(new PhongMaterial(Color.ORANGE)); // Set the color\r\n\r\n        Arc scarf = new Arc(368, 275, 70, 50, 200, 142);\r\n        scarf.setType(ArcType.OPEN);\r\n        scarf.setStroke(Color.BROWN);\r\n        scarf.setStrokeWidth(20);\r\n        scarf.setFill(null);\r\n\r\n        Arc scarf1 = new Arc(405, 365, 25, 50, 100, 100);\r\n        scarf1.setType(ArcType.OPEN);\r\n        scarf1.setStroke(Color.BROWN);\r\n        scarf1.setStrokeWidth(20);\r\n        scarf1.setFill(null);\r\n\r\n        Arc scarf2 = new Arc(425, 350, 25, 50, 100, 100);\r\n        scarf2.setType(ArcType.OPEN);\r\n        scarf2.setStroke(Color.BROWN);\r\n        scarf2.setStrokeWidth(15);\r\n        scarf2.setFill(null);\r\n\r\n        Sphere button1 = new Sphere(10);\r\n        button1.setTranslateX(360);\r\n        button1.setTranslateY(360);\r\n        button1.setTranslateZ(150);\r\n        button1.setMaterial(new PhongMaterial(Color.BLACK));\r\n\r\n        Sphere button2 = new Sphere(10);\r\n        button2.setTranslateX(360);\r\n        button2.setTranslateY(385);\r\n        button2.setTranslateZ(150);\r\n        button2.setMaterial(new PhongMaterial(Color.BLACK));\r\n\r\n        Sphere button3 = new Sphere(10);\r\n        button3.setTranslateX(360);\r\n        button3.setTranslateY(410);\r\n        button3.setTranslateZ(150);\r\n        button3.setMaterial(new PhongMaterial(Color.BLACK));\r\n\r\n        // Create arms for the snowman using Lines\r\n        Line leftArm = new Line(290, 330, 220, 300);\r\n        Line rightArm = new Line(450, 330, 520, 300);\r\n\r\n        leftArm.setStroke(Color.BLACK);\r\n        leftArm.setStrokeWidth(5);\r\n        rightArm.setStroke(Color.BLACK);\r\n        rightArm.setStrokeWidth(5);\r\n\r\n        //Left Fingers\r\n        Line leftFingerUp = new Line(240, 307, 230, 295);\r\n        Line leftFingerDown = new Line(240, 307, 225, 313);\r\n\r\n        leftFingerUp.setStroke(Color.BLACK);\r\n        leftFingerUp.setStrokeWidth(5);\r\n        leftFingerDown.setStroke(Color.BLACK);\r\n        leftFingerDown.setStrokeWidth(5);\r\n\r\n        //Right Fingers\r\n        Line rightFingerUp = new Line(510, 295, 500, 307);\r\n        Line rightFingerDown = new Line(515, 313, 500, 308);\r\n\r\n        rightFingerUp.setStroke(Color.BLACK);\r\n        rightFingerUp.setStrokeWidth(5);\r\n        rightFingerDown.setStroke(Color.BLACK);\r\n        rightFingerDown.setStrokeWidth(5);\r\n\r\n        // Set up the scene\r\n        Group group = new Group();\r\n        Scene scene = new Scene(group, WIDTH, HEIGHT);\r\n        primaryStage.setTitle(&quot;Snowman Project&quot;);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n\r\n        Camera camera = new PerspectiveCamera();\r\n        scene.setCamera(camera);\r\n\r\n        PhongMaterial mat1 = new PhongMaterial();\r\n        Image img1 = new Image(new FileInputStream(&quot;./ice2.jpg&quot;));\r\n        mat1.setDiffuseMap(img1);  // Set the texture map for the snowman&#39;s face\r\n        snowManBody.setMaterial(mat1);\r\n        snowManFace.setMaterial(mat1);  // Assign the face texture\r\n\r\n        PhongMaterial mat2 = new PhongMaterial();\r\n        Image img2 = new Image(new FileInputStream(&quot;./Hat.jpg&quot;));  // Provide the correct image for the hat texture\r\n        mat2.setDiffuseMap(img2);  // Set the texture map for the hat\r\n        brim.setMaterial(mat2);  // Assign the hat texture to the brim\r\n        base.setMaterial(mat2);  // Assign the hat texture to the base\r\n\r\n        PhongMaterial mat3 = new PhongMaterial();\r\n        Image img3 = new Image(new FileInputStream(&quot;./3.jpg&quot;));\r\n        mat3.setDiffuseMap(img3);\r\n        BG.setMaterial(mat3);\r\n\r\n        AmbientLight amb = new AmbientLight(Color.WHITE);\r\n        PointLight pLight = new PointLight(Color.WHITE);\r\n        pLight.getTransforms().add(new Translate(0, 50, -100));\r\n\r\n        group.getChildren().addAll(BG, snowManBody, snowManFace, brim, base, leftEye, rightEye, SleftEye, SsleftEye, sRightEye, RsleftEye, smile,\r\n                Lshy1, Lshy2, Lshy3, Rshy1, Rshy2, Rshy3, nose, button1, button2, button3, scarf, scarf1, scarf2,\r\n                leftArm, rightArm, leftFingerUp, leftFingerDown, rightFingerUp, rightFingerDown, amb, pLight);\r\n\r\n        //Ket events to change the color/position of the light sources\r\n        primaryStage.addEventHandler(KeyEvent.KEY_PRESSED, event -&gt; {\r\n            switch (event.getCode()) {\r\n                //change the color of point light based on the pressed key\r\n                case M:\r\n                    amb.setColor(Color.WHITE);\r\n                    pLight.setColor(Color.WHITE);\r\n                    break;\r\n                case N:\r\n                    amb.setColor(Color.BLUEVIOLET);\r\n                    pLight.setColor(Color.YELLOW);\r\n                    break;\r\n                case D:\r\n                    //dropping \r\n                    //........................\r\n                    break;\r\n                case R:\r\n                    // Reset the scene to its initial state\r\n                    snowManBody.setTranslateX(WIDTH / 3 + 100);\r\n                    snowManBody.setTranslateY(HEIGHT / 1.4);\r\n                    snowManBody.setTranslateZ(90);\r\n\r\n                    // Reset other objects as needed\r\n                    // ...\r\n                    // Reset mouse coordinates\r\n                    mouseX = snowManBody.getTranslateX();\r\n                    mouseY = snowManBody.getTranslateY();\r\n                    break;\r\n                //change the position of point light based on the pressed arrow key\r\n                case UP:\r\n                    pLight.setTranslateY(pLight.getTranslateY() - 10);\r\n                    break;\r\n                case DOWN:\r\n                    pLight.setTranslateY(pLight.getTranslateY() + 10);\r\n                    break;\r\n                case LEFT:\r\n                    group.setRotationAxis(Rotate.Z_AXIS);\r\n                    group.setRotate(group.getRotate() - 20);\r\n                    break;\r\n                case RIGHT:\r\n                    group.setRotationAxis(Rotate.Z_AXIS);\r\n                    group.setRotate(group.getRotate() + 20);\r\n                    break;\r\n            }\r\n        });\r\n\r\n        scene.setOnMouseClicked(event -&gt; {\r\n            if (event.getButton() == MouseButton.PRIMARY) {\r\n                double mouseX = event.getSceneX();\r\n                double mouseY = event.getSceneY();\r\n\r\n                // Calculate the difference in coordinates\r\n                double deltaX = mouseX - snowManBody.getTranslateX();\r\n                double deltaY = mouseY - snowManBody.getTranslateY();\r\n\r\n                // Move the snowman towards the present mouse location\r\n                snowManBody.setTranslateX(mouseX);\r\n                snowManBody.setTranslateY(mouseY);\r\n\r\n                // Update mouse coordinates\r\n                mouseX = event.getSceneX();\r\n                mouseY = event.getSceneY();\r\n            }\r\n        });\r\n\r\n        scene.setOnMouseClicked(event -&gt; {\r\n            if (event.getButton() == MouseButton.PRIMARY) {\r\n                double mouseX = event.getSceneX();\r\n                double mouseY = event.getSceneY();\r\n\r\n                // Calculate the difference in coordinates\r\n                double deltaX = mouseX - snowManBody.getTranslateX();\r\n                double deltaY = mouseY - snowManBody.getTranslateY();\r\n\r\n                // Move the snowman towards the present mouse location\r\n                snowManBody.setTranslateX(mouseX);\r\n                snowManBody.setTranslateY(mouseY);\r\n\r\n                // Update mouse coordinates\r\n                mouseX = event.getSceneX();\r\n                mouseY = event.getSceneY();\r\n            }\r\n        });\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n","title":"3D graphic design in JavaFX","body":"<p>I have a question about 3D graphic shape in JavaFX. I drew a 3D snowman. I'm trying to add a mouse event that let an object move to the mouse click position but other objects are affected and some of them disappear. I noted when I rotate an object, the mouse event works correctly and other shapes don't disappear.</p>\n<p>Please help me to correct my code work.</p>\n<p>This is all the code:</p>\n<pre><code>package javafxapplication6;\n\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport javafx.scene.image.Image;\nimport javafx.application.Application;\nimport javafx.geometry.Point3D;\nimport javafx.scene.AmbientLight;\nimport javafx.scene.Camera;\nimport javafx.scene.Group;\nimport javafx.scene.PerspectiveCamera;\nimport javafx.scene.PointLight;\nimport javafx.scene.Scene;\nimport javafx.scene.effect.DropShadow;\nimport javafx.scene.input.KeyCode;\nimport javafx.scene.input.KeyEvent;\nimport javafx.scene.input.MouseButton;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.paint.Color;\nimport javafx.scene.paint.PhongMaterial;\nimport javafx.scene.shape.*;\nimport javafx.scene.transform.Rotate;\nimport javafx.scene.transform.Translate;\nimport javafx.stage.Stage;\n    \npublic class Lab7 extends Application {\n    private static final int WIDTH = 800;\n    private static final int HEIGHT = 500;\n    private double mouseX, mouseY;\n\n    @Override\n    public void start(Stage primaryStage) throws FileNotFoundException {\n        Box BG = new Box(WIDTH, HEIGHT, 100);\n        BG.setTranslateX(400);\n        BG.setTranslateY(250);\n        BG.setTranslateZ(40);\n\n        Sphere snowManBody = new Sphere(100, 20);\n        snowManBody.setTranslateX(WIDTH / 3 + 100);\n        snowManBody.setTranslateY(HEIGHT / 1.4);\n        snowManBody.setTranslateZ(90);\n\n        Sphere snowManFace = new Sphere(90, 20);\n        snowManFace.setTranslateX(366.6);\n        snowManFace.setTranslateY(227.27);\n        snowManFace.setTranslateZ(90);\n\n        Box brim = new Box(120, 70, 150);\n        brim.setTranslateX(WIDTH / 3 + 100);\n        brim.setTranslateY(HEIGHT / 3.9);\n        brim.setTranslateZ(90);\n\n        Box base = new Box(200, 15, 150);\n        base.setTranslateX(WIDTH / 3 + 100);\n        base.setTranslateY(HEIGHT / 3);\n        base.setTranslateZ(90);\n\n        // Create two left eye (spheres)\n        Sphere leftEye = new Sphere(20);\n        leftEye.setTranslateX(330);\n        leftEye.setTranslateY(210);\n        leftEye.setTranslateZ(120);\n        leftEye.setMaterial(new PhongMaterial(Color.AQUA));\n\n        Sphere SleftEye = new Sphere(10);\n        SleftEye.setTranslateX(330);\n        SleftEye.setTranslateY(210);\n        SleftEye.setTranslateZ(120);\n        SleftEye.setMaterial(new PhongMaterial(Color.BLACK));\n\n        Sphere SsleftEye = new Sphere(6);\n        SsleftEye.setTranslateX(324);\n        SsleftEye.setTranslateY(205);\n        SsleftEye.setTranslateZ(120);\n        SsleftEye.setMaterial(new PhongMaterial(Color.WHITE));\n\n        // Create two Right eye (spheres)\n        Sphere rightEye = new Sphere(20);\n        rightEye.setTranslateX(400);\n        rightEye.setTranslateY(210);\n        rightEye.setTranslateZ(120);\n        rightEye.setMaterial(new PhongMaterial(Color.AQUA));\n\n        Sphere sRightEye = new Sphere(10);\n        sRightEye.setTranslateX(400);\n        sRightEye.setTranslateY(210);\n        sRightEye.setTranslateZ(120);\n        sRightEye.setMaterial(new PhongMaterial(Color.BLACK));\n\n        Sphere RsleftEye = new Sphere(6);\n        RsleftEye.setTranslateX(395);\n        RsleftEye.setTranslateY(205);\n        RsleftEye.setTranslateZ(120);\n        RsleftEye.setMaterial(new PhongMaterial(Color.WHITE));\n\n        Arc smile = new Arc(365, 220, 50, 50, 250, 50);\n        smile.setType(ArcType.OPEN);\n        smile.setStroke(Color.BLACK);\n        smile.setStrokeWidth(5);\n        smile.setFill(null);\n\n        Arc Rshy1 = new Arc(365, 285, 50, 50, -240, 10);\n        Rshy1.setType(ArcType.OPEN);\n        Rshy1.setStroke(Color.RED);\n        Rshy1.setStrokeWidth(2);\n        Rshy1.setFill(null);\n\n        Arc Rshy2 = new Arc(360, 285, 50, 50, -240, 10);\n        Rshy2.setType(ArcType.OPEN);\n        Rshy2.setStroke(Color.RED);\n        Rshy2.setStrokeWidth(2);\n        Rshy2.setFill(null);\n\n        Arc Rshy3 = new Arc(355, 285, 50, 50, -240, 10);\n        Rshy3.setType(ArcType.OPEN);\n        Rshy3.setStroke(Color.RED);\n        Rshy3.setStrokeWidth(2);\n        Rshy3.setFill(null);\n\n        Arc Lshy1 = new Arc(435, 285, 50, 50, -240, 10);\n        Lshy1.setType(ArcType.OPEN);\n        Lshy1.setStroke(Color.RED);\n        Lshy1.setStrokeWidth(2);\n        Lshy1.setFill(null);\n\n        Arc Lshy2 = new Arc(425, 285, 50, 50, -240, 10);\n        Lshy2.setType(ArcType.OPEN);\n        Lshy2.setStroke(Color.RED);\n        Lshy2.setStrokeWidth(2);\n        Lshy2.setFill(null);\n\n        Arc Lshy3 = new Arc(430, 285, 50, 50, -240, 10);\n        Lshy3.setType(ArcType.OPEN);\n        Lshy3.setStroke(Color.RED);\n        Lshy3.setStrokeWidth(2);\n        Lshy3.setFill(null);\n\n        // Create a 3D nose (cone)\n        Cylinder nose = new Cylinder(5, 40);\n        nose.setTranslateX(355); // Adjust the position as needed\n        nose.setTranslateY(245);\n        nose.setTranslateZ(0);\n        nose.setRotate(60); // Adjust the rotation for a tilted appearance\n        nose.setMaterial(new PhongMaterial(Color.ORANGE)); // Set the color\n\n        Arc scarf = new Arc(368, 275, 70, 50, 200, 142);\n        scarf.setType(ArcType.OPEN);\n        scarf.setStroke(Color.BROWN);\n        scarf.setStrokeWidth(20);\n        scarf.setFill(null);\n\n        Arc scarf1 = new Arc(405, 365, 25, 50, 100, 100);\n        scarf1.setType(ArcType.OPEN);\n        scarf1.setStroke(Color.BROWN);\n        scarf1.setStrokeWidth(20);\n        scarf1.setFill(null);\n\n        Arc scarf2 = new Arc(425, 350, 25, 50, 100, 100);\n        scarf2.setType(ArcType.OPEN);\n        scarf2.setStroke(Color.BROWN);\n        scarf2.setStrokeWidth(15);\n        scarf2.setFill(null);\n\n        Sphere button1 = new Sphere(10);\n        button1.setTranslateX(360);\n        button1.setTranslateY(360);\n        button1.setTranslateZ(150);\n        button1.setMaterial(new PhongMaterial(Color.BLACK));\n\n        Sphere button2 = new Sphere(10);\n        button2.setTranslateX(360);\n        button2.setTranslateY(385);\n        button2.setTranslateZ(150);\n        button2.setMaterial(new PhongMaterial(Color.BLACK));\n\n        Sphere button3 = new Sphere(10);\n        button3.setTranslateX(360);\n        button3.setTranslateY(410);\n        button3.setTranslateZ(150);\n        button3.setMaterial(new PhongMaterial(Color.BLACK));\n\n        // Create arms for the snowman using Lines\n        Line leftArm = new Line(290, 330, 220, 300);\n        Line rightArm = new Line(450, 330, 520, 300);\n\n        leftArm.setStroke(Color.BLACK);\n        leftArm.setStrokeWidth(5);\n        rightArm.setStroke(Color.BLACK);\n        rightArm.setStrokeWidth(5);\n\n        //Left Fingers\n        Line leftFingerUp = new Line(240, 307, 230, 295);\n        Line leftFingerDown = new Line(240, 307, 225, 313);\n\n        leftFingerUp.setStroke(Color.BLACK);\n        leftFingerUp.setStrokeWidth(5);\n        leftFingerDown.setStroke(Color.BLACK);\n        leftFingerDown.setStrokeWidth(5);\n\n        //Right Fingers\n        Line rightFingerUp = new Line(510, 295, 500, 307);\n        Line rightFingerDown = new Line(515, 313, 500, 308);\n\n        rightFingerUp.setStroke(Color.BLACK);\n        rightFingerUp.setStrokeWidth(5);\n        rightFingerDown.setStroke(Color.BLACK);\n        rightFingerDown.setStrokeWidth(5);\n\n        // Set up the scene\n        Group group = new Group();\n        Scene scene = new Scene(group, WIDTH, HEIGHT);\n        primaryStage.setTitle(&quot;Snowman Project&quot;);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n\n        Camera camera = new PerspectiveCamera();\n        scene.setCamera(camera);\n\n        PhongMaterial mat1 = new PhongMaterial();\n        Image img1 = new Image(new FileInputStream(&quot;./ice2.jpg&quot;));\n        mat1.setDiffuseMap(img1);  // Set the texture map for the snowman's face\n        snowManBody.setMaterial(mat1);\n        snowManFace.setMaterial(mat1);  // Assign the face texture\n\n        PhongMaterial mat2 = new PhongMaterial();\n        Image img2 = new Image(new FileInputStream(&quot;./Hat.jpg&quot;));  // Provide the correct image for the hat texture\n        mat2.setDiffuseMap(img2);  // Set the texture map for the hat\n        brim.setMaterial(mat2);  // Assign the hat texture to the brim\n        base.setMaterial(mat2);  // Assign the hat texture to the base\n\n        PhongMaterial mat3 = new PhongMaterial();\n        Image img3 = new Image(new FileInputStream(&quot;./3.jpg&quot;));\n        mat3.setDiffuseMap(img3);\n        BG.setMaterial(mat3);\n\n        AmbientLight amb = new AmbientLight(Color.WHITE);\n        PointLight pLight = new PointLight(Color.WHITE);\n        pLight.getTransforms().add(new Translate(0, 50, -100));\n\n        group.getChildren().addAll(BG, snowManBody, snowManFace, brim, base, leftEye, rightEye, SleftEye, SsleftEye, sRightEye, RsleftEye, smile,\n                Lshy1, Lshy2, Lshy3, Rshy1, Rshy2, Rshy3, nose, button1, button2, button3, scarf, scarf1, scarf2,\n                leftArm, rightArm, leftFingerUp, leftFingerDown, rightFingerUp, rightFingerDown, amb, pLight);\n\n        //Ket events to change the color/position of the light sources\n        primaryStage.addEventHandler(KeyEvent.KEY_PRESSED, event -&gt; {\n            switch (event.getCode()) {\n                //change the color of point light based on the pressed key\n                case M:\n                    amb.setColor(Color.WHITE);\n                    pLight.setColor(Color.WHITE);\n                    break;\n                case N:\n                    amb.setColor(Color.BLUEVIOLET);\n                    pLight.setColor(Color.YELLOW);\n                    break;\n                case D:\n                    //dropping \n                    //........................\n                    break;\n                case R:\n                    // Reset the scene to its initial state\n                    snowManBody.setTranslateX(WIDTH / 3 + 100);\n                    snowManBody.setTranslateY(HEIGHT / 1.4);\n                    snowManBody.setTranslateZ(90);\n\n                    // Reset other objects as needed\n                    // ...\n                    // Reset mouse coordinates\n                    mouseX = snowManBody.getTranslateX();\n                    mouseY = snowManBody.getTranslateY();\n                    break;\n                //change the position of point light based on the pressed arrow key\n                case UP:\n                    pLight.setTranslateY(pLight.getTranslateY() - 10);\n                    break;\n                case DOWN:\n                    pLight.setTranslateY(pLight.getTranslateY() + 10);\n                    break;\n                case LEFT:\n                    group.setRotationAxis(Rotate.Z_AXIS);\n                    group.setRotate(group.getRotate() - 20);\n                    break;\n                case RIGHT:\n                    group.setRotationAxis(Rotate.Z_AXIS);\n                    group.setRotate(group.getRotate() + 20);\n                    break;\n            }\n        });\n\n        scene.setOnMouseClicked(event -&gt; {\n            if (event.getButton() == MouseButton.PRIMARY) {\n                double mouseX = event.getSceneX();\n                double mouseY = event.getSceneY();\n\n                // Calculate the difference in coordinates\n                double deltaX = mouseX - snowManBody.getTranslateX();\n                double deltaY = mouseY - snowManBody.getTranslateY();\n\n                // Move the snowman towards the present mouse location\n                snowManBody.setTranslateX(mouseX);\n                snowManBody.setTranslateY(mouseY);\n\n                // Update mouse coordinates\n                mouseX = event.getSceneX();\n                mouseY = event.getSceneY();\n            }\n        });\n\n        scene.setOnMouseClicked(event -&gt; {\n            if (event.getButton() == MouseButton.PRIMARY) {\n                double mouseX = event.getSceneX();\n                double mouseY = event.getSceneY();\n\n                // Calculate the difference in coordinates\n                double deltaX = mouseX - snowManBody.getTranslateX();\n                double deltaY = mouseY - snowManBody.getTranslateY();\n\n                // Move the snowman towards the present mouse location\n                snowManBody.setTranslateX(mouseX);\n                snowManBody.setTranslateY(mouseY);\n\n                // Update mouse coordinates\n                mouseX = event.getSceneX();\n                mouseY = event.getSceneY();\n            }\n        });\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-activity","overridependingtransition"],"owner":{"account_id":2020103,"reputation":550,"user_id":1806493,"display_name":"GGK stands for Ukraine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701458715,"creation_date":1701458048,"question_id":77587561,"body_markdown":"I am using `overridePendingTransition` to make a transition from MainActivity to a Sub-Activity. The transition moves MainActivty out on the right, and the Sub-Activity into the screen from the left.\r\n\r\n    overridePendingTransition(R.anim.slide_in_left,R.anim.slide_out_right);\r\n\r\n\r\nAfter change to `overrideActivityTransition` above transition doesn&#39;t work for Android &gt;=34. \r\n\r\n    overrideActivityTransition(OVERRIDE_TRANSITION_OPEN,R.anim.slide_in_left,R.anim.slide_out_right);\r\n\r\nHow can i restore the behaviour under Android 34?\r\n\r\nThanks\r\nGGK\r\n","title":"Activity transition using overrideActivityTransition doesn&#39;t work in Android 34","body":"<p>I am using <code>overridePendingTransition</code> to make a transition from MainActivity to a Sub-Activity. The transition moves MainActivty out on the right, and the Sub-Activity into the screen from the left.</p>\n<pre><code>overridePendingTransition(R.anim.slide_in_left,R.anim.slide_out_right);\n</code></pre>\n<p>After change to <code>overrideActivityTransition</code> above transition doesn't work for Android &gt;=34.</p>\n<pre><code>overrideActivityTransition(OVERRIDE_TRANSITION_OPEN,R.anim.slide_in_left,R.anim.slide_out_right);\n</code></pre>\n<p>How can i restore the behaviour under Android 34?</p>\n<p>Thanks\nGGK</p>\n"},{"tags":["java","location"],"answers":[{"comments":[{"owner":{"account_id":1834888,"reputation":3129,"user_id":1665465,"accept_rate":71,"display_name":"Theo"},"score":0,"creation_date":1463770498,"post_id":37353807,"comment_id":62223268,"body_markdown":"where did you declare the main_container id?","body":"where did you declare the main_container id?"},{"owner":{"account_id":5931692,"reputation":2614,"user_id":4665938,"accept_rate":73,"display_name":"Rakshit Nawani"},"score":0,"creation_date":1463770539,"post_id":37353807,"comment_id":62223294,"body_markdown":"main_container is the id of the Frame Layout in the XML, where all my Fragments are opening. It is declared inside my MainActivity XML file","body":"main_container is the id of the Frame Layout in the XML, where all my Fragments are opening. It is declared inside my MainActivity XML file"},{"owner":{"account_id":5931692,"reputation":2614,"user_id":4665938,"accept_rate":73,"display_name":"Rakshit Nawani"},"score":0,"creation_date":1463771023,"post_id":37353807,"comment_id":62223569,"body_markdown":"@Theo : did you get what you want ?","body":"@Theo : did you get what you want ?"},{"owner":{"account_id":1834888,"reputation":3129,"user_id":1665465,"accept_rate":71,"display_name":"Theo"},"score":0,"creation_date":1463771103,"post_id":37353807,"comment_id":62223607,"body_markdown":"not yet:). I get an exception saying that no view was found with an id = main_content. I put this id in the fragment&#39;s xml layout.","body":"not yet:). I get an exception saying that no view was found with an id = main_content. I put this id in the fragment&#39;s xml layout."},{"owner":{"account_id":5931692,"reputation":2614,"user_id":4665938,"accept_rate":73,"display_name":"Rakshit Nawani"},"score":0,"creation_date":1463771147,"post_id":37353807,"comment_id":62223634,"body_markdown":"Can you show the XML to me I can help you more efficiently that way","body":"Can you show the XML to me I can help you more efficiently that way"},{"owner":{"account_id":5931692,"reputation":2614,"user_id":4665938,"accept_rate":73,"display_name":"Rakshit Nawani"},"score":0,"creation_date":1463771354,"post_id":37353807,"comment_id":62223739,"body_markdown":"@Theo : I edited my answer pase theat frame layout in your Main Activity XML and then do the work","body":"@Theo : I edited my answer pase theat frame layout in your Main Activity XML and then do the work"},{"owner":{"account_id":5931692,"reputation":2614,"user_id":4665938,"accept_rate":73,"display_name":"Rakshit Nawani"},"score":0,"creation_date":1463771822,"post_id":37353807,"comment_id":62223970,"body_markdown":"@Theo : did that help you ?","body":"@Theo : did that help you ?"},{"owner":{"account_id":1834888,"reputation":3129,"user_id":1665465,"accept_rate":71,"display_name":"Theo"},"score":0,"creation_date":1463772100,"post_id":37353807,"comment_id":62224110,"body_markdown":"I will try it once again and see.","body":"I will try it once again and see."},{"owner":{"account_id":1834888,"reputation":3129,"user_id":1665465,"accept_rate":71,"display_name":"Theo"},"score":0,"creation_date":1463772248,"post_id":37353807,"comment_id":62224177,"body_markdown":"unfortunately nope:(. I still get 0 values.","body":"unfortunately nope:(. I still get 0 values."},{"owner":{"account_id":5931692,"reputation":2614,"user_id":4665938,"accept_rate":73,"display_name":"Rakshit Nawani"},"score":0,"creation_date":1463772274,"post_id":37353807,"comment_id":62224191,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/112536/discussion-between-rakshit-nawani-and-theo).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/112536/discussion-between-rakshit-nawani-and-theo\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":5931692,"reputation":2614,"user_id":4665938,"accept_rate":73,"display_name":"Rakshit Nawani"},"comment_count":10,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1463771285,"creation_date":1463769913,"answer_id":37353807,"question_id":37353640,"body_markdown":"What I am doing is shown below\r\n\r\n  \r\n**For Calling a fragment**\r\n\r\n    getSupportFragmentManager().beginTransaction().replace(R.id.main_container, MyMeetings.newInstance(user_type), &quot;My Meeting&quot;).commit();\r\n\r\n**user_type** is a String\r\n\r\nIn Fragment created a new Instance to get the data like below\r\n\r\n  \r\n\r\n     public static MyMeetings newInstance(String user_type) {\r\n            MyMeetings fragment = new MyMeetings();\r\n    \r\n            mUserType = user_type;\r\n            return fragment;\r\n        }\r\n              \r\nHope this help.\r\n\r\n\r\n**Edit**\r\n\r\nPaste the below code in your XML file of Main Activity\r\n\r\n\r\n    \r\n \r\n\r\n           &lt;FrameLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n                android:id=&quot;@+id/main_container&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_below=&quot;@+id/view&quot; /&gt;\r\n    \r\nand then all the fragment will open inside this Frame Layout if you use the about code\r\n     ","title":"Passing a variable from MainActivity to a Fragment","body":"<p>What I am doing is shown below</p>\n\n<p><strong>For Calling a fragment</strong></p>\n\n<pre><code>getSupportFragmentManager().beginTransaction().replace(R.id.main_container, MyMeetings.newInstance(user_type), \"My Meeting\").commit();\n</code></pre>\n\n<p><strong>user_type</strong> is a String</p>\n\n<p>In Fragment created a new Instance to get the data like below</p>\n\n<pre><code> public static MyMeetings newInstance(String user_type) {\n        MyMeetings fragment = new MyMeetings();\n\n        mUserType = user_type;\n        return fragment;\n    }\n</code></pre>\n\n<p>Hope this help.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>Paste the below code in your XML file of Main Activity</p>\n\n<pre><code>       &lt;FrameLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n            android:id=\"@+id/main_container\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:layout_below=\"@+id/view\" /&gt;\n</code></pre>\n\n<p>and then all the fragment will open inside this Frame Layout if you use the about code</p>\n"},{"tags":[],"owner":{"account_id":1407646,"reputation":666,"user_id":1334926,"accept_rate":0,"display_name":"Android Leo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463770345,"creation_date":1463770345,"answer_id":37353934,"question_id":37353640,"body_markdown":"1.Declare two variable of log and lat in your fragment TodayForecast\r\n\r\n2.Create public setter method of lon and lat\r\n\r\n    public class TodayForecast extends Fragment {\r\n    public static String URL= &quot;http://api.openweathermap.org/data/2.5/weather?&quot;;\r\n    public static String BASE_URL= &quot;&quot;;\r\n    \r\n    \r\n    String IMG_URL = &quot;http://api.openweathermap.org/img/w/&quot;;\r\n    double lat;\r\n    double lot;\r\n    public TodayForecast() {\r\n        // Required empty public constructor\r\n    }\r\n    \r\n    public setLat(double lat){\r\n        this.lat = lat\r\n    }\r\n    public setLot(double lot){\r\n        this.lot = lot\r\n    }\r\n    }\r\n\r\n3.set TodayForecast variable log and lat value using setter method inside the onConnected. \r\n\r\n    @Override\r\n    public void onConnected(@Nullable Bundle bundle) {\r\n    \r\n    Location loc =  \r\n    LocationServices.FusedLocationApi.getLastLocation(googleApiClient);\r\n    \r\n    if(loc!=null){\r\n        ff.setLat(loc.getLatitude());\r\n        ff.setLon(loc.getLongitude());\r\n    \r\n        Log.v(TAG,&quot;lat: &quot;+lat);\r\n        Log.v(TAG,&quot;lon: &quot;+log);\r\n    \r\n    }else{\r\n        Toast.makeText(getApplicationContext(),&quot;No location   \r\n        obtained&quot;,Toast.LENGTH_SHORT).show();\r\n       }\r\n     }","title":"Passing a variable from MainActivity to a Fragment","body":"<p>1.Declare two variable of log and lat in your fragment TodayForecast</p>\n\n<p>2.Create public setter method of lon and lat</p>\n\n<pre><code>public class TodayForecast extends Fragment {\npublic static String URL= \"http://api.openweathermap.org/data/2.5/weather?\";\npublic static String BASE_URL= \"\";\n\n\nString IMG_URL = \"http://api.openweathermap.org/img/w/\";\ndouble lat;\ndouble lot;\npublic TodayForecast() {\n    // Required empty public constructor\n}\n\npublic setLat(double lat){\n    this.lat = lat\n}\npublic setLot(double lot){\n    this.lot = lot\n}\n}\n</code></pre>\n\n<p>3.set TodayForecast variable log and lat value using setter method inside the onConnected. </p>\n\n<pre><code>@Override\npublic void onConnected(@Nullable Bundle bundle) {\n\nLocation loc =  \nLocationServices.FusedLocationApi.getLastLocation(googleApiClient);\n\nif(loc!=null){\n    ff.setLat(loc.getLatitude());\n    ff.setLon(loc.getLongitude());\n\n    Log.v(TAG,\"lat: \"+lat);\n    Log.v(TAG,\"lon: \"+log);\n\n}else{\n    Toast.makeText(getApplicationContext(),\"No location   \n    obtained\",Toast.LENGTH_SHORT).show();\n   }\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1834888,"reputation":3129,"user_id":1665465,"accept_rate":71,"display_name":"Theo"},"score":0,"creation_date":1463772003,"post_id":37354208,"comment_id":62224059,"body_markdown":"I get null pointer exception...Attempt to invoke virtual method &#39;android.support.v4.app.FragmentTransaction android.support.v4.app.FragmentTransaction.replace(int, android.support.v4.app.Fragment)&#39; on a null object reference\n                                                                              at testing.theo.newweatherapp.MainActivity.onConnected(MainActivity.java:112)","body":"I get null pointer exception...Attempt to invoke virtual method &#39;android.support.v4.app.FragmentTransaction android.support.v4.app.FragmentTransaction.replace(int, android.support.v4.app.Fragment)&#39; on a null object reference                                                                               at testing.theo.newweatherapp.MainActivity.onConnected(MainActi&zwnj;&#8203;vity.java:112)"}],"tags":[],"owner":{"account_id":1683977,"reputation":412,"user_id":1547617,"accept_rate":50,"display_name":"Tony Chhabada"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463772361,"creation_date":1463771430,"answer_id":37354208,"question_id":37353640,"body_markdown":"Pass your values in bundle\r\n\r\n\r\n    @Override\r\n    public void onConnected(@Nullable Bundle bundle) {\r\n    \r\n    Location loc =  \r\n    LocationServices.FusedLocationApi.getLastLocation(googleApiClient);\r\n    \r\n    if(loc!=null){\r\n        lat = loc.getLatitude();\r\n        log = loc.getLongitude();\r\n    \r\n        Log.v(TAG,&quot;lat: &quot;+lat);\r\n        Log.v(TAG,&quot;lon: &quot;+log);\r\n        FragmentManager fragmentManager = getSupportFragmentManager();\r\n        fragmentTransaction = fragmentManager.beginTransaction();\r\n\r\n        Fragment mFrag = new TodayForecast();\r\n        final Bundle bundle = new Bundle();\r\n        bundle.putString(&quot;lat&quot;, lat);\r\n        bundle.putString(&quot;log&quot;, log);\r\n        \r\n        mFrag.setArguments(bundle);\r\n        fragmentTransaction.replace(R.id.content_place, mFrag);\r\n        fragmentTransaction.commit();\r\n    \r\n    \r\n    }else{\r\n        Toast.makeText(getApplicationContext(),&quot;No location   \r\n        obtained&quot;,Toast.LENGTH_SHORT).show();\r\n       }\r\n     }\r\n\r\n\r\n\r\n  In TodayForecast Fragment, get the values as shown below.\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n            Bundle args = getArguments();\r\n    \r\n            if (args != null &amp;&amp; args.containsKey(&quot;lat&quot;))\r\n                Log.v(&quot;TAG&quot;,&quot;lat: &quot;+args.getString(&quot;lat&quot;));\r\n    \r\n            if (args != null &amp;&amp; args.containsKey(&quot;log&quot;))\r\n                Log.v(&quot;TAG&quot;,&quot;lon: &quot;+args.getString(&quot;log&quot;));\r\n    \r\n            return inflater.inflate(R.layout.fragment_today_forecast, container,false);\r\n    }\r\n\r\n","title":"Passing a variable from MainActivity to a Fragment","body":"<p>Pass your values in bundle</p>\n\n<pre><code>@Override\npublic void onConnected(@Nullable Bundle bundle) {\n\nLocation loc =  \nLocationServices.FusedLocationApi.getLastLocation(googleApiClient);\n\nif(loc!=null){\n    lat = loc.getLatitude();\n    log = loc.getLongitude();\n\n    Log.v(TAG,\"lat: \"+lat);\n    Log.v(TAG,\"lon: \"+log);\n    FragmentManager fragmentManager = getSupportFragmentManager();\n    fragmentTransaction = fragmentManager.beginTransaction();\n\n    Fragment mFrag = new TodayForecast();\n    final Bundle bundle = new Bundle();\n    bundle.putString(\"lat\", lat);\n    bundle.putString(\"log\", log);\n\n    mFrag.setArguments(bundle);\n    fragmentTransaction.replace(R.id.content_place, mFrag);\n    fragmentTransaction.commit();\n\n\n}else{\n    Toast.makeText(getApplicationContext(),\"No location   \n    obtained\",Toast.LENGTH_SHORT).show();\n   }\n }\n</code></pre>\n\n<p>In TodayForecast Fragment, get the values as shown below.</p>\n\n<pre><code>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n        Bundle args = getArguments();\n\n        if (args != null &amp;&amp; args.containsKey(\"lat\"))\n            Log.v(\"TAG\",\"lat: \"+args.getString(\"lat\"));\n\n        if (args != null &amp;&amp; args.containsKey(\"log\"))\n            Log.v(\"TAG\",\"lon: \"+args.getString(\"log\"));\n\n        return inflater.inflate(R.layout.fragment_today_forecast, container,false);\n}\n</code></pre>\n"}],"owner":{"account_id":1834888,"reputation":3129,"user_id":1665465,"accept_rate":71,"display_name":"Theo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":37353807,"answer_count":3,"score":0,"last_activity_date":1701458503,"creation_date":1463769368,"question_id":37353640,"body_markdown":"This is a Java question and not Android:). In my `MainActivity` I get the phone&#39;s location (log and lat) which is shown in the below code:\r\n\r\n    public class MainActivity extends AppCompatActivity implements  \r\n    GoogleApiClient.OnConnectionFailedListener,\r\n\r\n    GoogleApiClient.ConnectionCallbacks{\r\n    private static final int PLAY_SERVICES_CODE = 90;\r\n    GoogleApiClient googleApiClient;\r\n    private static final String TAG = &quot;Location&quot;;\r\n    private static final String TODAY_FRAGMENT = &quot;today_fragment&quot;;\r\n\r\n    public static double lat,log;\r\n    TodayForecast ff;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        FragmentManager fragmentManager = getSupportFragmentManager();\r\n        ff = (TodayForecast) fragmentManager.findFragmentByTag(TODAY_FRAGMENT);\r\n\r\n        if (savedInstanceState != null) {\r\n            //Restore the fragment&#39;s instance\r\n            ff = (TodayForecast) getSupportFragmentManager().getFragment(savedInstanceState, &quot;mContent&quot;);\r\n        }\r\n\r\n        if(ff == null) {\r\n            ff = new TodayForecast();\r\n            FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\r\n            fragmentTransaction.add(android.R.id.content, ff);\r\n            fragmentTransaction.commit();\r\n        }\r\n\r\n        if(checkPlayServices()){\r\n            initializeGoogleApiClient();\r\n        }\r\n    }\r\n\r\n    private void initializeGoogleApiClient() {\r\n        googleApiClient = new GoogleApiClient.Builder(this)\r\n                .addApi(LocationServices.API)\r\n                .addOnConnectionFailedListener(this)\r\n                .addConnectionCallbacks(this)\r\n                .build();\r\n\r\n    }\r\n\r\n    public boolean checkPlayServices(){\r\n        int result = GooglePlayServicesUtil.isGooglePlayServicesAvailable(getApplicationContext());\r\n\r\n        if(result!= ConnectionResult.SUCCESS){\r\n            if(GooglePlayServicesUtil.isUserRecoverableError(result)){\r\n                GooglePlayServicesUtil.getErrorDialog(result, this, PLAY_SERVICES_CODE).show();\r\n            }\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        return super.onCreateOptionsMenu(menu);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onConnected(@Nullable Bundle bundle) {\r\n\r\n        Location loc = LocationServices.FusedLocationApi.getLastLocation(googleApiClient);\r\n\r\n        if(loc!=null){\r\n            lat = loc.getLatitude();\r\n            log = loc.getLongitude();\r\n\r\n            Log.v(TAG,&quot;lat: &quot;+lat);\r\n            Log.v(TAG,&quot;lon: &quot;+log);\r\n\r\n        }else{\r\n            Toast.makeText(getApplicationContext(),&quot;No location obtained&quot;,Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onConnectionSuspended(int i) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onConnectionFailed(@NonNull ConnectionResult connectionResult) {\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        googleApiClient.connect();\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n\r\n        if(googleApiClient.isConnected()){\r\n            googleApiClient.disconnect();\r\n        }\r\n    }\r\n    }\r\n\r\nI want to pass the values of log and lat seen inside the `onConnected` method to a fragment. \r\n\r\n\r\n    @Override\r\n    public void onConnected(@Nullable Bundle bundle) {\r\n\r\n    Location loc =  \r\n    LocationServices.FusedLocationApi.getLastLocation(googleApiClient);\r\n\r\n    if(loc!=null){\r\n        lat = loc.getLatitude();\r\n        log = loc.getLongitude();\r\n\r\n        Log.v(TAG,&quot;lat: &quot;+lat);\r\n        Log.v(TAG,&quot;lon: &quot;+log);\r\n\r\n    }else{\r\n        Toast.makeText(getApplicationContext(),&quot;No location   \r\n        obtained&quot;,Toast.LENGTH_SHORT).show();\r\n       }\r\n     }\r\n\r\nI tried this but both values are 0:(\r\n\r\n    public class TodayForecast extends Fragment {\r\n    public static String URL= &quot;http://api.openweathermap.org/data/2.5/weather?&quot;;\r\n    public static String BASE_URL= &quot;&quot;;\r\n\r\n\r\n    String IMG_URL = &quot;http://api.openweathermap.org/img/w/&quot;;\r\n    double lat;\r\n    double lot;\r\n    public TodayForecast() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n  \r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n\r\n        lat = MainActivity.lat;\r\n        lot = MainActivity.log;\r\n\r\n        BASE_URL = URL + &quot;lat=&quot; + lat + &quot;&amp;lot=&quot; + lot + &quot;&amp;appid=&quot; + &quot;MY KEY&quot;;\r\n\r\n\r\n        return inflater.inflate(R.layout.fragment_today_forecast, container,   \r\n        false);\r\n\r\n\r\n\r\n       }\r\n\r\n     }\r\n\r\nMy fragment&#39;s XML is: \r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\r\n    android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\r\n    android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\r\n    android:id=&quot;@+id/main_content&quot;\r\n    android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n    android:background=&quot;#ff1ba1ee&quot;\r\n    tools:context=&quot;testing.theo.newweatherapp.TodayForecast&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/cityText&quot;\r\n        android:textColor=&quot;#fff&quot;\r\n        android:textSize=&quot;18sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:text=&quot;City of Spokane, US&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/thumbnailIcon&quot;\r\n        android:layout_below=&quot;@+id/cityText&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n\r\n\r\n        android:layout_width=&quot;100dp&quot;\r\n        android:layout_height=&quot;100dp&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tempText&quot;\r\n        android:layout_marginTop=&quot;25dp&quot;\r\n        android:text=&quot;12 deg&quot;\r\n        android:textStyle=&quot;normal&quot;\r\n        android:textSize=&quot;41sp&quot;\r\n        android:textColor=&quot;#fff&quot;\r\n        android:layout_below=&quot;@+id/cityText&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/rainText&quot;\r\n        android:textSize=&quot;16sp&quot;\r\n        android:textColor=&quot;#fff&quot;\r\n        android:text=&quot;&quot;\r\n        android:layout_below=&quot;@+id/thumbnailIcon&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/windText&quot;\r\n        android:layout_below=&quot;@+id/rainText&quot;\r\n        android:layout_marginTop=&quot;35dp&quot;\r\n        android:textColor=&quot;#fff&quot;\r\n        android:text=&quot;Wind&quot;\r\n        android:textSize=&quot;16sp&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/cloudText&quot;\r\n        android:textSize=&quot;16sp&quot;\r\n        android:layout_marginTop=&quot;5dp&quot;\r\n        android:layout_below=&quot;@+id/windText&quot;\r\n        android:textColor=&quot;#fff&quot;\r\n        android:text=&quot;Cloudness&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/pressureText&quot;\r\n        android:textSize=&quot;16sp&quot;\r\n        android:layout_marginTop=&quot;5dp&quot;\r\n        android:textColor=&quot;#fff&quot;\r\n        android:text=&quot;Pressure&quot;\r\n        android:layout_below=&quot;@+id/cloudText&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/humidText&quot;\r\n        android:textSize=&quot;16sp&quot;\r\n        android:text=&quot;Humidity&quot;\r\n        android:layout_marginTop=&quot;5dp&quot;\r\n        android:textColor=&quot;#fff&quot;\r\n        android:layout_below=&quot;@+id/pressureText&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/riseText&quot;\r\n        android:text=&quot;Sunrise&quot;\r\n        android:textSize=&quot;16sp&quot;\r\n        android:textColor=&quot;#fff&quot;\r\n        android:layout_marginTop=&quot;5dp&quot;\r\n        android:layout_below=&quot;@+id/humidText&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/setText&quot;\r\n        android:text=&quot;Sunrise&quot;\r\n        android:layout_marginTop=&quot;5dp&quot;\r\n        android:textColor=&quot;#fff&quot;\r\n        android:textSize=&quot;16sp&quot;\r\n        android:layout_below=&quot;@+id/riseText&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/updateText&quot;\r\n        android:text=&quot;Last update&quot;\r\n        android:layout_marginTop=&quot;5dp&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:textColor=&quot;#fff&quot;\r\n        android:textSize=&quot;16sp&quot;\r\n        android:layout_below=&quot;@+id/setText&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\nAny ideas? ","title":"Passing a variable from MainActivity to a Fragment","body":"<p>This is a Java question and not Android:). In my <code>MainActivity</code> I get the phone's location (log and lat) which is shown in the below code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity implements  \nGoogleApiClient.OnConnectionFailedListener,\n\nGoogleApiClient.ConnectionCallbacks{\nprivate static final int PLAY_SERVICES_CODE = 90;\nGoogleApiClient googleApiClient;\nprivate static final String TAG = &quot;Location&quot;;\nprivate static final String TODAY_FRAGMENT = &quot;today_fragment&quot;;\n\npublic static double lat,log;\nTodayForecast ff;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    FragmentManager fragmentManager = getSupportFragmentManager();\n    ff = (TodayForecast) fragmentManager.findFragmentByTag(TODAY_FRAGMENT);\n\n    if (savedInstanceState != null) {\n        //Restore the fragment's instance\n        ff = (TodayForecast) getSupportFragmentManager().getFragment(savedInstanceState, &quot;mContent&quot;);\n    }\n\n    if(ff == null) {\n        ff = new TodayForecast();\n        FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\n        fragmentTransaction.add(android.R.id.content, ff);\n        fragmentTransaction.commit();\n    }\n\n    if(checkPlayServices()){\n        initializeGoogleApiClient();\n    }\n}\n\nprivate void initializeGoogleApiClient() {\n    googleApiClient = new GoogleApiClient.Builder(this)\n            .addApi(LocationServices.API)\n            .addOnConnectionFailedListener(this)\n            .addConnectionCallbacks(this)\n            .build();\n\n}\n\npublic boolean checkPlayServices(){\n    int result = GooglePlayServicesUtil.isGooglePlayServicesAvailable(getApplicationContext());\n\n    if(result!= ConnectionResult.SUCCESS){\n        if(GooglePlayServicesUtil.isUserRecoverableError(result)){\n            GooglePlayServicesUtil.getErrorDialog(result, this, PLAY_SERVICES_CODE).show();\n        }\n        return false;\n    }\n    return true;\n}\n@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    return super.onOptionsItemSelected(item);\n}\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    return super.onCreateOptionsMenu(menu);\n}\n\n\n@Override\npublic void onConnected(@Nullable Bundle bundle) {\n\n    Location loc = LocationServices.FusedLocationApi.getLastLocation(googleApiClient);\n\n    if(loc!=null){\n        lat = loc.getLatitude();\n        log = loc.getLongitude();\n\n        Log.v(TAG,&quot;lat: &quot;+lat);\n        Log.v(TAG,&quot;lon: &quot;+log);\n\n    }else{\n        Toast.makeText(getApplicationContext(),&quot;No location obtained&quot;,Toast.LENGTH_SHORT).show();\n    }\n}\n\n@Override\npublic void onConnectionSuspended(int i) {\n\n}\n\n@Override\npublic void onConnectionFailed(@NonNull ConnectionResult connectionResult) {\n\n}\n\n@Override\nprotected void onStart() {\n    super.onStart();\n    googleApiClient.connect();\n}\n\n@Override\nprotected void onStop() {\n    super.onStop();\n\n    if(googleApiClient.isConnected()){\n        googleApiClient.disconnect();\n    }\n}\n}\n</code></pre>\n<p>I want to pass the values of log and lat seen inside the <code>onConnected</code> method to a fragment.</p>\n<pre><code>@Override\npublic void onConnected(@Nullable Bundle bundle) {\n\nLocation loc =  \nLocationServices.FusedLocationApi.getLastLocation(googleApiClient);\n\nif(loc!=null){\n    lat = loc.getLatitude();\n    log = loc.getLongitude();\n\n    Log.v(TAG,&quot;lat: &quot;+lat);\n    Log.v(TAG,&quot;lon: &quot;+log);\n\n}else{\n    Toast.makeText(getApplicationContext(),&quot;No location   \n    obtained&quot;,Toast.LENGTH_SHORT).show();\n   }\n }\n</code></pre>\n<p>I tried this but both values are 0:(</p>\n<pre><code>public class TodayForecast extends Fragment {\npublic static String URL= &quot;http://api.openweathermap.org/data/2.5/weather?&quot;;\npublic static String BASE_URL= &quot;&quot;;\n\n\nString IMG_URL = &quot;http://api.openweathermap.org/img/w/&quot;;\ndouble lat;\ndouble lot;\npublic TodayForecast() {\n    // Required empty public constructor\n}\n\n\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n\n    lat = MainActivity.lat;\n    lot = MainActivity.log;\n\n    BASE_URL = URL + &quot;lat=&quot; + lat + &quot;&amp;lot=&quot; + lot + &quot;&amp;appid=&quot; + &quot;MY KEY&quot;;\n\n\n    return inflater.inflate(R.layout.fragment_today_forecast, container,   \n    false);\n\n\n\n   }\n\n }\n</code></pre>\n<p>My fragment's XML is:</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\nandroid:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\nandroid:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\nandroid:id=&quot;@+id/main_content&quot;\nandroid:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\nandroid:background=&quot;#ff1ba1ee&quot;\ntools:context=&quot;testing.theo.newweatherapp.TodayForecast&quot;&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/cityText&quot;\n    android:textColor=&quot;#fff&quot;\n    android:textSize=&quot;18sp&quot;\n    android:textStyle=&quot;bold&quot;\n    android:layout_centerHorizontal=&quot;true&quot;\n    android:text=&quot;City of Spokane, US&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot; /&gt;\n\n&lt;ImageView\n    android:id=&quot;@+id/thumbnailIcon&quot;\n    android:layout_below=&quot;@+id/cityText&quot;\n    android:layout_marginTop=&quot;10dp&quot;\n\n\n    android:layout_width=&quot;100dp&quot;\n    android:layout_height=&quot;100dp&quot; /&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/tempText&quot;\n    android:layout_marginTop=&quot;25dp&quot;\n    android:text=&quot;12 deg&quot;\n    android:textStyle=&quot;normal&quot;\n    android:textSize=&quot;41sp&quot;\n    android:textColor=&quot;#fff&quot;\n    android:layout_below=&quot;@+id/cityText&quot;\n    android:layout_centerHorizontal=&quot;true&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot; /&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/rainText&quot;\n    android:textSize=&quot;16sp&quot;\n    android:textColor=&quot;#fff&quot;\n    android:text=&quot;&quot;\n    android:layout_below=&quot;@+id/thumbnailIcon&quot;\n    android:layout_marginTop=&quot;10dp&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot; /&gt;\n&lt;TextView\n    android:id=&quot;@+id/windText&quot;\n    android:layout_below=&quot;@+id/rainText&quot;\n    android:layout_marginTop=&quot;35dp&quot;\n    android:textColor=&quot;#fff&quot;\n    android:text=&quot;Wind&quot;\n    android:textSize=&quot;16sp&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot; /&gt;\n&lt;TextView\n    android:id=&quot;@+id/cloudText&quot;\n    android:textSize=&quot;16sp&quot;\n    android:layout_marginTop=&quot;5dp&quot;\n    android:layout_below=&quot;@+id/windText&quot;\n    android:textColor=&quot;#fff&quot;\n    android:text=&quot;Cloudness&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot; /&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/pressureText&quot;\n    android:textSize=&quot;16sp&quot;\n    android:layout_marginTop=&quot;5dp&quot;\n    android:textColor=&quot;#fff&quot;\n    android:text=&quot;Pressure&quot;\n    android:layout_below=&quot;@+id/cloudText&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot; /&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/humidText&quot;\n    android:textSize=&quot;16sp&quot;\n    android:text=&quot;Humidity&quot;\n    android:layout_marginTop=&quot;5dp&quot;\n    android:textColor=&quot;#fff&quot;\n    android:layout_below=&quot;@+id/pressureText&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot; /&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/riseText&quot;\n    android:text=&quot;Sunrise&quot;\n    android:textSize=&quot;16sp&quot;\n    android:textColor=&quot;#fff&quot;\n    android:layout_marginTop=&quot;5dp&quot;\n    android:layout_below=&quot;@+id/humidText&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot; /&gt;\n&lt;TextView\n    android:id=&quot;@+id/setText&quot;\n    android:text=&quot;Sunrise&quot;\n    android:layout_marginTop=&quot;5dp&quot;\n    android:textColor=&quot;#fff&quot;\n    android:textSize=&quot;16sp&quot;\n    android:layout_below=&quot;@+id/riseText&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot; /&gt;\n\n\n&lt;TextView\n    android:id=&quot;@+id/updateText&quot;\n    android:text=&quot;Last update&quot;\n    android:layout_marginTop=&quot;5dp&quot;\n    android:layout_centerHorizontal=&quot;true&quot;\n    android:textColor=&quot;#fff&quot;\n    android:textSize=&quot;16sp&quot;\n    android:layout_below=&quot;@+id/setText&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>Any ideas?</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701458387,"creation_date":1701455456,"answer_id":77587372,"question_id":77584373,"body_markdown":"Custom styling for tables is tricky.  \r\n\r\nYou need to define a custom color for the table cell border in a CSS stylesheet and use that color in relevant CSS rules.  \r\n\r\n    .root {\r\n        -my-custom-table-cell-border-color: red;\r\n    }\r\n    /* Constants used throughout the tableview. */\r\n    /* default value was: derive(-fx-color,5%); */\r\n    .table-view {\r\n        -fx-table-cell-border-color: -my-custom-table-cell-border-color;\r\n    }\r\n    /* Selected rows */\r\n    /* default value was: derive(-fx-selection-bar, 20%) */\r\n    .table-view:focused &gt; .virtual-flow &gt; .clipped-container &gt; .sheet &gt; .table-row-cell:filled:selected {\r\n        -fx-table-cell-border-color: -my-custom-table-cell-border-color;\r\n    }\r\n    /* Selected when control is not focused */\r\n    /* default value was: derive(-fx-selection-bar-non-focused, 20%); */\r\n    .table-row-cell:filled:selected {\r\n        -fx-table-cell-border-color: -my-custom-table-cell-border-color;\r\n    }\r\n\r\nAdjust the example as you need for your situation.  For instance, if you only want to change the color for selected rows, then only define the appropriate rules that use the `:selected` psuedoclass.  For the example I use red as the custom color so that is obvious where it is being displayed. For your implementation, you can choose another color or the color `transparent` if you don&#39;t want the border to be visible.\r\n\r\nStyling for other list type controls like `ListView`, `TreeTableView`, etc is similar to above (they just use different selector names that can be found in the `modena.css` stylesheet).\r\n\r\n**Additional Resources**\r\n\r\nResources that you can study and use that may help you to solve similar problems in the future:\r\n\r\n * [`modena.css`][1], located in the javafx-controls jar file for your JavaFX distribution.\r\n * The [CSS analyzer](https://docs.oracle.com/javase/8/scene-builder-2/user-guide/stylesheet-support.htm) in [SceneBuilder][2].\r\n * The scene graph inspection tool [ScenicView](https://github.com/JonathanGiles/scenic-view).\r\n * [Eden guide to table view customization](https://edencoding.com/tableview-customization-cellfactory/).\r\n * The [JavaFX CSS reference guide](https://openjfx.io/javadoc/21/javafx.graphics/javafx/scene/doc-files/cssref.html#tableview), though it does not provide enough information to fully customize TableView visual style.\r\n\r\nTo determine the solution to your question, I first examined the CSS reference guide. As you noted, it was unhelpful in this answer, then I searched `modena.css` for the relevant lookup rules and ran some tests based on applying custom modifications of the style information I found there.\r\n\r\n  [1]: https://github.com/openjdk/jfx/blob/master/modules/javafx.controls/src/main/resources/com/sun/javafx/scene/control/skin/modena/modena.css#L2365\r\n  [2]: https://gluonhq.com/products/scene-builder/\r\n","title":"How do I change the color of the gap between the cells in the selected row in TableView？","body":"<p>Custom styling for tables is tricky.</p>\n<p>You need to define a custom color for the table cell border in a CSS stylesheet and use that color in relevant CSS rules.</p>\n<pre><code>.root {\n    -my-custom-table-cell-border-color: red;\n}\n/* Constants used throughout the tableview. */\n/* default value was: derive(-fx-color,5%); */\n.table-view {\n    -fx-table-cell-border-color: -my-custom-table-cell-border-color;\n}\n/* Selected rows */\n/* default value was: derive(-fx-selection-bar, 20%) */\n.table-view:focused &gt; .virtual-flow &gt; .clipped-container &gt; .sheet &gt; .table-row-cell:filled:selected {\n    -fx-table-cell-border-color: -my-custom-table-cell-border-color;\n}\n/* Selected when control is not focused */\n/* default value was: derive(-fx-selection-bar-non-focused, 20%); */\n.table-row-cell:filled:selected {\n    -fx-table-cell-border-color: -my-custom-table-cell-border-color;\n}\n</code></pre>\n<p>Adjust the example as you need for your situation.  For instance, if you only want to change the color for selected rows, then only define the appropriate rules that use the <code>:selected</code> psuedoclass.  For the example I use red as the custom color so that is obvious where it is being displayed. For your implementation, you can choose another color or the color <code>transparent</code> if you don't want the border to be visible.</p>\n<p>Styling for other list type controls like <code>ListView</code>, <code>TreeTableView</code>, etc is similar to above (they just use different selector names that can be found in the <code>modena.css</code> stylesheet).</p>\n<p><strong>Additional Resources</strong></p>\n<p>Resources that you can study and use that may help you to solve similar problems in the future:</p>\n<ul>\n<li><a href=\"https://github.com/openjdk/jfx/blob/master/modules/javafx.controls/src/main/resources/com/sun/javafx/scene/control/skin/modena/modena.css#L2365\" rel=\"nofollow noreferrer\"><code>modena.css</code></a>, located in the javafx-controls jar file for your JavaFX distribution.</li>\n<li>The <a href=\"https://docs.oracle.com/javase/8/scene-builder-2/user-guide/stylesheet-support.htm\" rel=\"nofollow noreferrer\">CSS analyzer</a> in <a href=\"https://gluonhq.com/products/scene-builder/\" rel=\"nofollow noreferrer\">SceneBuilder</a>.</li>\n<li>The scene graph inspection tool <a href=\"https://github.com/JonathanGiles/scenic-view\" rel=\"nofollow noreferrer\">ScenicView</a>.</li>\n<li><a href=\"https://edencoding.com/tableview-customization-cellfactory/\" rel=\"nofollow noreferrer\">Eden guide to table view customization</a>.</li>\n<li>The <a href=\"https://openjfx.io/javadoc/21/javafx.graphics/javafx/scene/doc-files/cssref.html#tableview\" rel=\"nofollow noreferrer\">JavaFX CSS reference guide</a>, though it does not provide enough information to fully customize TableView visual style.</li>\n</ul>\n<p>To determine the solution to your question, I first examined the CSS reference guide. As you noted, it was unhelpful in this answer, then I searched <code>modena.css</code> for the relevant lookup rules and ran some tests based on applying custom modifications of the style information I found there.</p>\n"}],"owner":{"account_id":26636851,"reputation":31,"user_id":20253139,"display_name":"雨夜带刀不带伞"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701458387,"creation_date":1701424578,"question_id":77584373,"body_markdown":"How do I change the color of the gap between the cells in the selected row in TableView？\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jjrsq.png\r\nI looked at the javafx css documentation, but nothing came of it.","title":"How do I change the color of the gap between the cells in the selected row in TableView？","body":"<p>How do I change the color of the gap between the cells in the selected row in TableView？\n<a href=\"https://i.stack.imgur.com/Jjrsq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jjrsq.png\" alt=\"enter image description here\" /></a></p>\n<p>I looked at the javafx css documentation, but nothing came of it.</p>\n"},{"tags":["java","spring","security","ssl","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":9202048,"reputation":305,"user_id":6838652,"accept_rate":100,"display_name":"mahesh kamath"},"score":0,"creation_date":1474085308,"post_id":39528397,"comment_id":66398839,"body_markdown":"I was curious to know if Spring boot has covered this. Thanks a ton. I somehow felt that if we write a custom KeyManager and hold a handle to it in my application code, I would be able to refresh it. I&#39;m unable to validate this as spring boot doesn&#39;t offer any direct way to set the custom KeyManager. Looks like I need to write my own &quot;Cryptographic Service Provider&quot; to install it. My requirement is not to cause any impact on the exiting connections, but new connection originating from the client should see the new certificate (after I refresh).","body":"I was curious to know if Spring boot has covered this. Thanks a ton. I somehow felt that if we write a custom KeyManager and hold a handle to it in my application code, I would be able to refresh it. I&#39;m unable to validate this as spring boot doesn&#39;t offer any direct way to set the custom KeyManager. Looks like I need to write my own &quot;Cryptographic Service Provider&quot; to install it. My requirement is not to cause any impact on the exiting connections, but new connection originating from the client should see the new certificate (after I refresh)."},{"owner":{"account_id":3502208,"reputation":1768,"user_id":2928710,"accept_rate":100,"display_name":"Yuri"},"score":0,"creation_date":1474086947,"post_id":39528397,"comment_id":66399068,"body_markdown":"Using approach #2 — you won&#39;t affect your clients. This will be transparent for them.","body":"Using approach #2 — you won&#39;t affect your clients. This will be transparent for them."},{"owner":{"account_id":9202048,"reputation":305,"user_id":6838652,"accept_rate":100,"display_name":"mahesh kamath"},"score":1,"creation_date":1475467940,"post_id":39528397,"comment_id":66939040,"body_markdown":"Found approach#1 detailed here: http://stackoverflow.com/questions/9912585/stop-start-connector-within-my-code  . However, I approached it without MBeans interface. i.e. introduced EmbeddedServletContainerCustomizer and got hold of the connector instance and then performed &quot;stop&quot; and &quot;start&quot;. However, But for long run, need to bring in approach#2.","body":"Found approach#1 detailed here: <a href=\"http://stackoverflow.com/questions/9912585/stop-start-connector-within-my-code\" title=\"stop start connector within my code\">stackoverflow.com/questions/9912585/&hellip;</a>  . However, I approached it without MBeans interface. i.e. introduced EmbeddedServletContainerCustomizer and got hold of the connector instance and then performed &quot;stop&quot; and &quot;start&quot;. However, But for long run, need to bring in approach#2."},{"owner":{"account_id":3502208,"reputation":1768,"user_id":2928710,"accept_rate":100,"display_name":"Yuri"},"score":0,"creation_date":1475478333,"post_id":39528397,"comment_id":66942283,"body_markdown":"Also, approach with reverse proxy is a way more flexible. By the way, you will be able (if you&#39;ll need it, of course) to use it as load balancer for several instances, if you&#39;ll want to scale in future.","body":"Also, approach with reverse proxy is a way more flexible. By the way, you will be able (if you&#39;ll need it, of course) to use it as load balancer for several instances, if you&#39;ll want to scale in future."},{"owner":{"account_id":545837,"reputation":130,"user_id":1865099,"display_name":"Michael J Lawley"},"score":0,"creation_date":1484115202,"post_id":39528397,"comment_id":70372057,"body_markdown":"@maheshkamath can you add an answer with your  EmbeddedServletContainerCustomizer implementation?","body":"@maheshkamath can you add an answer with your  EmbeddedServletContainerCustomizer implementation?"},{"owner":{"account_id":9202048,"reputation":305,"user_id":6838652,"accept_rate":100,"display_name":"mahesh kamath"},"score":2,"creation_date":1484212223,"post_id":39528397,"comment_id":70419708,"body_markdown":"Return a **EmbeddedServletContainerFactory** bean from spring config, container will pick it, instead of default one. Then include a customizer to get hold of connector reference (i..e httpsConnector)\nwebContainerFactory.addConnectorCustomizers((TomcatConnectorCustomizer) (Connector connector) -&gt; {\nhttpsConnector = connector;\nhttpsConnector.setAttribute(&quot;bindOnInit&quot;, false); // Needed with newer versions of tomcat\n});\n\nNow that we have a handle to the connector instance, we just need to do \nhttpsConnector.stop();\n// Connector setting can be changed here .\nhttpsConnector.start();","body":"Return a <b>EmbeddedServletContainerFactory</b> bean from spring config, container will pick it, instead of default one. Then include a customizer to get hold of connector reference (i..e httpsConnector) webContainerFactory.addConnectorCustomizers((TomcatConnector&zwnj;&#8203;Customizer) (Connector connector) -&gt; { httpsConnector = connector; httpsConnector.setAttribute(&quot;bindOnInit&quot;, false); // Needed with newer versions of tomcat });  Now that we have a handle to the connector instance, we just need to do  httpsConnector.stop(); // Connector setting can be changed here . httpsConnector.start();"},{"owner":{"account_id":2207343,"reputation":9457,"user_id":1950209,"accept_rate":39,"display_name":"Zbarcea Christian"},"score":0,"creation_date":1558024591,"post_id":39528397,"comment_id":98972568,"body_markdown":"@Yuri Kuschc - using Nginx do we need to secure the connection between the Nginx and Spring Boot? I think I get it. I setup Ngnix (web server) with SSL, then I forward the packets to the locally running spring boot on plain HTTP: http://localhost:8080 . Am I correct? If yes, then I can remove all the SSL requirements from the spring boot app.","body":"@Yuri Kuschc - using Nginx do we need to secure the connection between the Nginx and Spring Boot? I think I get it. I setup Ngnix (web server) with SSL, then I forward the packets to the locally running spring boot on plain HTTP: <a href=\"http://localhost:8080\" rel=\"nofollow noreferrer\">localhost:8080</a> . Am I correct? If yes, then I can remove all the SSL requirements from the spring boot app."},{"owner":{"account_id":3502208,"reputation":1768,"user_id":2928710,"accept_rate":100,"display_name":"Yuri"},"score":2,"creation_date":1559897411,"post_id":39528397,"comment_id":99570936,"body_markdown":"@ZbarceaChristian yes, nginx will handle `https` part for you. Usually it is more effective than doing it with the app itself.","body":"@ZbarceaChristian yes, nginx will handle <code>https</code> part for you. Usually it is more effective than doing it with the app itself."}],"tags":[],"owner":{"account_id":3502208,"reputation":1768,"user_id":2928710,"accept_rate":100,"display_name":"Yuri"},"comment_count":8,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1474019160,"creation_date":1474019160,"answer_id":39528397,"question_id":39527478,"body_markdown":"Unfortunately, this is not possible. \r\n\r\n### BUT\r\nYou have several solutions here.\r\n\r\n# Reload Tomcat connector (a bit hacky)\r\nYou can restart `Tomcat` connector i.e. restart `8843` is possible after you change your `jssecacert` file.\r\n\r\nBut I think that it is still a hack.\r\n\r\n# Reverse proxy: `Nginx`, `Apache`\r\nThis is a way to go. Your application should be behind some reverse proxy (e.g. `nginx`). This will give you an additional flexibility and reduce load on your app. `Nginx` will handle `https` and translate it to plain `http`. Anyway, you&#39;ll have to restart `nginx`, but `nginx` restart is so fast that it will be no downtime. Moreover, you could configure script to do this for you.\r\n","title":"Can we avoid spring boot application restart, to refresh the certificates associated with its embedded tomcat container?","body":"<p>Unfortunately, this is not possible. </p>\n\n<h3>BUT</h3>\n\n<p>You have several solutions here.</p>\n\n<h1>Reload Tomcat connector (a bit hacky)</h1>\n\n<p>You can restart <code>Tomcat</code> connector i.e. restart <code>8843</code> is possible after you change your <code>jssecacert</code> file.</p>\n\n<p>But I think that it is still a hack.</p>\n\n<h1>Reverse proxy: <code>Nginx</code>, <code>Apache</code></h1>\n\n<p>This is a way to go. Your application should be behind some reverse proxy (e.g. <code>nginx</code>). This will give you an additional flexibility and reduce load on your app. <code>Nginx</code> will handle <code>https</code> and translate it to plain <code>http</code>. Anyway, you'll have to restart <code>nginx</code>, but <code>nginx</code> restart is so fast that it will be no downtime. Moreover, you could configure script to do this for you.</p>\n"},{"comments":[{"owner":{"account_id":1945630,"reputation":451,"user_id":1750849,"accept_rate":78,"display_name":"rks"},"score":0,"creation_date":1571797254,"post_id":54826299,"comment_id":103356191,"body_markdown":"Don&#39;t like hacks. This seems like a clean solution. Did it work, though?","body":"Don&#39;t like hacks. This seems like a clean solution. Did it work, though?"},{"owner":{"account_id":1440549,"reputation":203,"user_id":1360827,"display_name":"Undespairable"},"score":1,"creation_date":1571815382,"post_id":54826299,"comment_id":103361250,"body_markdown":"@rks, sure, it worked splendidly. Shipped it to the final customer in September, it has been in constant testing for 5 months (this being quite an early feature of the app), never had a problem in that region.","body":"@rks, sure, it worked splendidly. Shipped it to the final customer in September, it has been in constant testing for 5 months (this being quite an early feature of the app), never had a problem in that region."},{"owner":{"account_id":6605774,"reputation":404,"user_id":5102638,"display_name":"opeongo"},"score":0,"creation_date":1648841527,"post_id":54826299,"comment_id":126735148,"body_markdown":"I tried this verbatim with Spring Boot 2.6.5 but the message returned was &quot;MBeans found: 0&quot;.  Any thoughts on this?","body":"I tried this verbatim with Spring Boot 2.6.5 but the message returned was &quot;MBeans found: 0&quot;.  Any thoughts on this?"},{"owner":{"account_id":1440549,"reputation":203,"user_id":1360827,"display_name":"Undespairable"},"score":0,"creation_date":1649861760,"post_id":54826299,"comment_id":126984081,"body_markdown":"Try with an object name `&quot;*:type=*,name=*&quot;`, see what gives. Alternatively, run your stuff locally and access it with `jconsole`, see what JMX beans are there at all.","body":"Try with an object name <code>&quot;*:type=*,name=*&quot;</code>, see what gives. Alternatively, run your stuff locally and access it with <code>jconsole</code>, see what JMX beans are there at all."}],"tags":[],"owner":{"account_id":1440549,"reputation":203,"user_id":1360827,"display_name":"Undespairable"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1550835614,"creation_date":1550835614,"answer_id":54826299,"question_id":39527478,"body_markdown":"On Tomcat one can use local JMX to reload SSL context:\r\n\r\n    private static final String JMX_THREAD_POOL_NAME = &quot;*:type=ThreadPool,name=*&quot;;\r\n    private static final String JMX_OPERATION_RELOAD_SSL_HOST_CONFIGS_NAME = &quot;reloadSslHostConfigs&quot;; \r\n    private void reloadSSLConfigsOnConnectors() {\r\n        try {\r\n            MBeanServer server = ManagementFactory.getPlatformMBeanServer();\r\n            ObjectName objectName = new ObjectName(JMX_THREAD_POOL_NAME);\r\n            Set&lt;ObjectInstance&gt; allTP = server.queryMBeans(objectName, null);\r\n            logger.info(&quot;MBeans found: {}&quot;, allTP.size());\r\n            allTP.forEach(tp -&gt; reloadSSLConfigOnThreadPoolJMX(server, tp));\r\n        } catch (Exception ex) {\r\n            logger.error(&quot;&quot;, ex);\r\n        }\r\n    }\r\n\r\n    private void reloadSSLConfigOnThreadPoolJMX(MBeanServer server, ObjectInstance tp) {\r\n        try {\r\n            logger.info(&quot;Invoking operation SSL reload on {}&quot;, tp.getObjectName());\r\n            server.invoke(tp.getObjectName(), JMX_OPERATION_RELOAD_SSL_HOST_CONFIGS_NAME, new Object[]{}, new String[]{});\r\n            logger.trace(&quot;Successfully invoked&quot;);\r\n        } catch (Exception ex) {\r\n            logger.error(&quot;Invoking SSL reload&quot;, ex);\r\n        }\r\n    }\r\n\r\nI&#39;m reloading all ThreadPool SSL context, but you really only need one: `Tomcat:type=ThreadPool,name=https-jsse-nio-8443`. I&#39;m just afraid the name will change, so I cover all possibilities just in case.","title":"Can we avoid spring boot application restart, to refresh the certificates associated with its embedded tomcat container?","body":"<p>On Tomcat one can use local JMX to reload SSL context:</p>\n\n<pre><code>private static final String JMX_THREAD_POOL_NAME = \"*:type=ThreadPool,name=*\";\nprivate static final String JMX_OPERATION_RELOAD_SSL_HOST_CONFIGS_NAME = \"reloadSslHostConfigs\"; \nprivate void reloadSSLConfigsOnConnectors() {\n    try {\n        MBeanServer server = ManagementFactory.getPlatformMBeanServer();\n        ObjectName objectName = new ObjectName(JMX_THREAD_POOL_NAME);\n        Set&lt;ObjectInstance&gt; allTP = server.queryMBeans(objectName, null);\n        logger.info(\"MBeans found: {}\", allTP.size());\n        allTP.forEach(tp -&gt; reloadSSLConfigOnThreadPoolJMX(server, tp));\n    } catch (Exception ex) {\n        logger.error(\"\", ex);\n    }\n}\n\nprivate void reloadSSLConfigOnThreadPoolJMX(MBeanServer server, ObjectInstance tp) {\n    try {\n        logger.info(\"Invoking operation SSL reload on {}\", tp.getObjectName());\n        server.invoke(tp.getObjectName(), JMX_OPERATION_RELOAD_SSL_HOST_CONFIGS_NAME, new Object[]{}, new String[]{});\n        logger.trace(\"Successfully invoked\");\n    } catch (Exception ex) {\n        logger.error(\"Invoking SSL reload\", ex);\n    }\n}\n</code></pre>\n\n<p>I'm reloading all ThreadPool SSL context, but you really only need one: <code>Tomcat:type=ThreadPool,name=https-jsse-nio-8443</code>. I'm just afraid the name will change, so I cover all possibilities just in case.</p>\n"},{"comments":[{"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"score":0,"creation_date":1610383972,"post_id":63524153,"comment_id":116109863,"body_markdown":"And what does `renewServerCertificate()` do? where is it coming from?","body":"And what does <code>renewServerCertificate()</code> do? where is it coming from?"},{"owner":{"account_id":6288265,"reputation":51,"user_id":4886742,"display_name":"Frank"},"score":0,"creation_date":1611850836,"post_id":63524153,"comment_id":116589054,"body_markdown":"@ jbx \n`renewServerCertificate()` gets a new server certificate and stores it into the application&#39;s keystore. Once this is done the SSL host configuration needs to reloaded by `tomcatUtil.reloadSSLHostConfig()`","body":"@ jbx  <code>renewServerCertificate()</code> gets a new server certificate and stores it into the application&#39;s keystore. Once this is done the SSL host configuration needs to reloaded by <code>tomcatUtil.reloadSSLHostConfig()</code>"},{"owner":{"account_id":6605774,"reputation":404,"user_id":5102638,"display_name":"opeongo"},"score":0,"creation_date":1648844636,"post_id":63524153,"comment_id":126735866,"body_markdown":"Also, do I need to provide my own value for DEFAULT_SSL_HOSTNAME_CONFIG_NAME?  If so what should be used?","body":"Also, do I need to provide my own value for DEFAULT_SSL_HOSTNAME_CONFIG_NAME?  If so what should be used?"},{"owner":{"account_id":6288265,"reputation":51,"user_id":4886742,"display_name":"Frank"},"score":0,"creation_date":1648981686,"post_id":63524153,"comment_id":126756032,"body_markdown":"@opeongo use    `_default_`","body":"@opeongo use    <code>_default_</code>"},{"owner":{"account_id":6605774,"reputation":404,"user_id":5102638,"display_name":"opeongo"},"score":0,"creation_date":1649339239,"post_id":63524153,"comment_id":126854630,"body_markdown":"I can confirm that this method works well.","body":"I can confirm that this method works well."}],"tags":[],"owner":{"account_id":6288265,"reputation":51,"user_id":4886742,"display_name":"Frank"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1598017886,"creation_date":1598017886,"answer_id":63524153,"question_id":39527478,"body_markdown":"I have solved this problem in my Spring Boot application by getting a\r\n `TomcatServletWebServerFactory`\r\nin a bean and add my own connector customizer to it.\r\n\r\n    @Bean\r\n\tpublic ServletWebServerFactory servletContainer() {\r\n\r\n\t\tTomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory();\r\n\t\t// --- CUSTOMIZE SSL PORT IN ORDER TO BE ABLE TO RELOAD THE SSL HOST CONFIG\r\n\t\ttomcat.addConnectorCustomizers(new DefaultSSLConnectorCustomizer());\t\t\t\r\n\t\treturn tomcat;\r\n\t}\r\n\r\nMy customizer extracts the protocol for https for later use\r\n\r\n    public class DefaultSSLConnectorCustomizer implements TomcatConnectorCustomizer {\r\n\r\n\tprivate Http11NioProtocol protocol;\r\n\t\r\n\t@Override\r\n\tpublic void customize(Connector connector) {\r\n\r\n\t\tHttp11NioProtocol protocol = (Http11NioProtocol) connector.getProtocolHandler();\r\n\t\tif ( connector.getSecure()) {\r\n\t\t\t//--- REMEMBER PROTOCOL WHICH WE NEED LATER IN ORDER TO RELOAD SSL CONFIG\r\n\t\t\tthis.protocol = protocol;\r\n\t\t}\r\n\t}\r\n\r\n\tprotected Http11NioProtocol getProtocol() {\r\n\t\treturn protocol;\r\n\t}\r\n}\r\n\r\nWhen I have updated the keystore with the new private key I conduct a SSL host config reload. This code goes here\r\n\r\n    @Component\r\n    public class TomcatUtil {\r\n    \r\n    \tpublic static final String DEFAULT_SSL_HOSTNAME_CONFIG_NAME = &quot;_default_&quot;;\r\n    \r\n    \tprivate final Logger logger = LoggerFactory.getLogger(getClass());\r\n    \r\n    \tprivate ServletWebServerFactory servletWebServerFactory;\r\n    \r\n    \tpublic TomcatUtil(ServletWebServerFactory servletWebServerFactory) {\r\n    \r\n    \t\tthis.servletWebServerFactory = servletWebServerFactory;\r\n    \t}\r\n    \r\n    \tpublic void reloadSSLHostConfig() {\r\n    \r\n    \t\tTomcatServletWebServerFactory tomcatFactoty = (TomcatServletWebServerFactory) servletWebServerFactory;\r\n    \t\tCollection&lt;TomcatConnectorCustomizer&gt; customizers = tomcatFactoty.getTomcatConnectorCustomizers();\r\n    \t\tfor (TomcatConnectorCustomizer tomcatConnectorCustomizer : customizers) {\r\n    \r\n    \t\t\tif (tomcatConnectorCustomizer instanceof DefaultSSLConnectorCustomizer) {\r\n    \t\t\t\tDefaultSSLConnectorCustomizer customizer = (DefaultSSLConnectorCustomizer) tomcatConnectorCustomizer;\r\n    \t\t\t\tHttp11NioProtocol protocol = customizer.getProtocol();\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tprotocol.reloadSslHostConfig(DEFAULT_SSL_HOSTNAME_CONFIG_NAME);\r\n    \t\t\t\t\tlogger.info(&quot;Reloaded SSL host configuration&quot;);\r\n    \t\t\t\t} catch (IllegalArgumentException e) {\r\n    \t\t\t\t\tlogger.warn(&quot;Cannot reload SSL host configuration&quot;, e);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n\r\nAnd finally \r\n \r\n\r\n    ...\r\n                    renewServerCertificate();\r\n                    tomcatUtil.reloadSSLHostConfig();","title":"Can we avoid spring boot application restart, to refresh the certificates associated with its embedded tomcat container?","body":"<p>I have solved this problem in my Spring Boot application by getting a\n<code>TomcatServletWebServerFactory</code>\nin a bean and add my own connector customizer to it.</p>\n<pre><code>@Bean\npublic ServletWebServerFactory servletContainer() {\n\n    TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory();\n    // --- CUSTOMIZE SSL PORT IN ORDER TO BE ABLE TO RELOAD THE SSL HOST CONFIG\n    tomcat.addConnectorCustomizers(new DefaultSSLConnectorCustomizer());            \n    return tomcat;\n}\n</code></pre>\n<p>My customizer extracts the protocol for https for later use</p>\n<pre><code>public class DefaultSSLConnectorCustomizer implements TomcatConnectorCustomizer {\n\nprivate Http11NioProtocol protocol;\n\n@Override\npublic void customize(Connector connector) {\n\n    Http11NioProtocol protocol = (Http11NioProtocol) connector.getProtocolHandler();\n    if ( connector.getSecure()) {\n        //--- REMEMBER PROTOCOL WHICH WE NEED LATER IN ORDER TO RELOAD SSL CONFIG\n        this.protocol = protocol;\n    }\n}\n\nprotected Http11NioProtocol getProtocol() {\n    return protocol;\n}\n</code></pre>\n<p>}</p>\n<p>When I have updated the keystore with the new private key I conduct a SSL host config reload. This code goes here</p>\n<pre><code>@Component\npublic class TomcatUtil {\n\n    public static final String DEFAULT_SSL_HOSTNAME_CONFIG_NAME = &quot;_default_&quot;;\n\n    private final Logger logger = LoggerFactory.getLogger(getClass());\n\n    private ServletWebServerFactory servletWebServerFactory;\n\n    public TomcatUtil(ServletWebServerFactory servletWebServerFactory) {\n\n        this.servletWebServerFactory = servletWebServerFactory;\n    }\n\n    public void reloadSSLHostConfig() {\n\n        TomcatServletWebServerFactory tomcatFactoty = (TomcatServletWebServerFactory) servletWebServerFactory;\n        Collection&lt;TomcatConnectorCustomizer&gt; customizers = tomcatFactoty.getTomcatConnectorCustomizers();\n        for (TomcatConnectorCustomizer tomcatConnectorCustomizer : customizers) {\n\n            if (tomcatConnectorCustomizer instanceof DefaultSSLConnectorCustomizer) {\n                DefaultSSLConnectorCustomizer customizer = (DefaultSSLConnectorCustomizer) tomcatConnectorCustomizer;\n                Http11NioProtocol protocol = customizer.getProtocol();\n                try {\n                    protocol.reloadSslHostConfig(DEFAULT_SSL_HOSTNAME_CONFIG_NAME);\n                    logger.info(&quot;Reloaded SSL host configuration&quot;);\n                } catch (IllegalArgumentException e) {\n                    logger.warn(&quot;Cannot reload SSL host configuration&quot;, e);\n                }\n            }\n        }\n\n    }\n}\n</code></pre>\n<p>And finally</p>\n<pre><code>...\n                renewServerCertificate();\n                tomcatUtil.reloadSSLHostConfig();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17247093,"reputation":1133,"user_id":12488082,"display_name":"AlexElin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701458240,"creation_date":1701458240,"answer_id":77587583,"question_id":39527478,"body_markdown":"Since the Spring Boot 3.2 it&#39;s possible to hot-reload (at least for Tomcat and Netty embedded web servers).  \r\n\r\nTo use the feature do the following:\r\n1. Define an ssl bundle (let&#39;s call it &quot;demo&quot;)\r\n```yaml\r\nspring.ssl.bundle.pem:\r\n  demo:\r\n    reload-on-update: true\r\n    keystore:    \r\n      certificate: &quot;certs/demo.crt&quot;\r\n      private-key: &quot;certs/demo.key&quot;\r\n```\r\n2. Then point the web server to it\r\n```yaml\r\nserver.ssl.bundle: &quot;demo&quot;\r\n```\r\n\r\nP.S. here&#39;s a good article on how to use the feature - https://spring.io/blog/2023/11/07/ssl-hot-reload-in-spring-boot-3-2-0","title":"Can we avoid spring boot application restart, to refresh the certificates associated with its embedded tomcat container?","body":"<p>Since the Spring Boot 3.2 it's possible to hot-reload (at least for Tomcat and Netty embedded web servers).</p>\n<p>To use the feature do the following:</p>\n<ol>\n<li>Define an ssl bundle (let's call it &quot;demo&quot;)</li>\n</ol>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring.ssl.bundle.pem:\n  demo:\n    reload-on-update: true\n    keystore:    \n      certificate: &quot;certs/demo.crt&quot;\n      private-key: &quot;certs/demo.key&quot;\n</code></pre>\n<ol start=\"2\">\n<li>Then point the web server to it</li>\n</ol>\n<pre class=\"lang-yaml prettyprint-override\"><code>server.ssl.bundle: &quot;demo&quot;\n</code></pre>\n<p>P.S. here's a good article on how to use the feature - <a href=\"https://spring.io/blog/2023/11/07/ssl-hot-reload-in-spring-boot-3-2-0\" rel=\"nofollow noreferrer\">https://spring.io/blog/2023/11/07/ssl-hot-reload-in-spring-boot-3-2-0</a></p>\n"}],"owner":{"account_id":9202048,"reputation":305,"user_id":6838652,"accept_rate":100,"display_name":"mahesh kamath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6504,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":39528397,"answer_count":4,"score":6,"last_activity_date":1701458240,"creation_date":1474016371,"question_id":39527478,"body_markdown":"With any change to the SSL certificates (in its keystore), we need to restart the spring boot application. I want to update my key store entry periodically (may be every year), but want to avoid restarting the JVM. What would it take to achieve it. I wonder if writing custom KeyManager is an acceptable practice?","title":"Can we avoid spring boot application restart, to refresh the certificates associated with its embedded tomcat container?","body":"<p>With any change to the SSL certificates (in its keystore), we need to restart the spring boot application. I want to update my key store entry periodically (may be every year), but want to avoid restarting the JVM. What would it take to achieve it. I wonder if writing custom KeyManager is an acceptable practice?</p>\n"},{"tags":["java","jsp","tomcat","classpath"],"comments":[{"owner":{"account_id":26588,"reputation":11301,"user_id":69340,"accept_rate":78,"display_name":"Suresh Kumar"},"score":0,"creation_date":1260172722,"post_id":1858463,"comment_id":1753918,"body_markdown":"It will help if you can post the code and provide more details of your environment.","body":"It will help if you can post the code and provide more details of your environment."},{"owner":{"account_id":26725,"reputation":50482,"user_id":69803,"accept_rate":65,"display_name":"Ankur"},"score":0,"creation_date":1260172871,"post_id":1858463,"comment_id":1753924,"body_markdown":"Well most of the code is just HTML. Since it falls over at this point I have not progressed much. I am using Tomcat 6 but I am running thing through Eclipse debug option. Let me know if theres anyhing else I can provide.","body":"Well most of the code is just HTML. Since it falls over at this point I have not progressed much. I am using Tomcat 6 but I am running thing through Eclipse debug option. Let me know if theres anyhing else I can provide."},{"owner":{"account_id":52822,"reputation":1089025,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":2,"creation_date":1260184049,"post_id":1858463,"comment_id":1754844,"body_markdown":"Scriptlets are a bad practice: http://stackoverflow.com/questions/1831238/jsp-for-business-layer/1832327#1832327 Use a servlet.","body":"Scriptlets are a bad practice: <a href=\"http://stackoverflow.com/questions/1831238/jsp-for-business-layer/1832327#1832327\" title=\"jsp for business layer\">stackoverflow.com/questions/1831238/jsp-for-business-layer/&hellip;</a> Use a servlet."}],"answers":[{"tags":[],"owner":{"display_name":"jrdngrnbrg"},"comment_count":0,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1260172190,"creation_date":1260172190,"answer_id":1858472,"question_id":1858463,"body_markdown":"You have to import something FROM the package, like a class, enum, or interfacee, like this:\r\n\r\n    import some.package.SomeClass;\r\n\r\nor, import everything from the package (not recommended)\r\n\r\n    import some.package.*;\r\n\r\nedit: maybe I didn&#39;t read close enough. Where is the package you&#39;re trying to import from located on the filesystem? Is it under WEB-INF/lib?","title":"Java error: Only a type can be imported. XYZ resolves to a package","body":"<p>You have to import something FROM the package, like a class, enum, or interfacee, like this:</p>\n\n<pre><code>import some.package.SomeClass;\n</code></pre>\n\n<p>or, import everything from the package (not recommended)</p>\n\n<pre><code>import some.package.*;\n</code></pre>\n\n<p>edit: maybe I didn't read close enough. Where is the package you're trying to import from located on the filesystem? Is it under WEB-INF/lib?</p>\n"},{"tags":[],"owner":{"account_id":79843,"reputation":771,"user_id":226127,"display_name":"William Billingsley"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1260172247,"creation_date":1260172247,"answer_id":1858476,"question_id":1858463,"body_markdown":"Are there more details? (Is this in a JSP as in the linked webpage?)\r\n\r\nIf so, you can always just use the fully qualified class name.  \r\nrather than: \r\n\r\n    import foo.bar.*;\r\n    Baz myBaz;\r\n\r\nyou can use\r\n\r\n    foo.bar.Baz myBaz;","title":"Java error: Only a type can be imported. XYZ resolves to a package","body":"<p>Are there more details? (Is this in a JSP as in the linked webpage?)</p>\n\n<p>If so, you can always just use the fully qualified class name.<br>\nrather than: </p>\n\n<pre><code>import foo.bar.*;\nBaz myBaz;\n</code></pre>\n\n<p>you can use</p>\n\n<pre><code>foo.bar.Baz myBaz;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1260173394,"creation_date":1260172306,"answer_id":1858481,"question_id":1858463,"body_markdown":"Without further details, it sounds like an error in the import declaration of a class. Check, if all import declarations either import all classes from a package or a single class:\r\n\r\n    import all.classes.from.package.*;\r\n    import only.one.type.named.MyClass;\r\n\r\n**Edit**\r\n\r\nOK, after the edit, looks like it&#39;s a jsp problem. \r\n\r\n**Edit 2**\r\n\r\n[Here is another forum entry][1], the problem seems to have similarities and the victim solved it by reinstalling eclipse. I&#39;d try that one first - installing a second instance of eclipse with only the most necessary plugins, a new workspace, the project imported into that clean workspace, and hope for the best...\r\n\r\n\r\n  [1]: http://www.myeclipseide.com/index.php?name=PNphpBB2&amp;file=viewtopic&amp;t=10513&amp;start=0&amp;postdays=0&amp;postorder=asc&amp;highlight=","title":"Java error: Only a type can be imported. XYZ resolves to a package","body":"<p>Without further details, it sounds like an error in the import declaration of a class. Check, if all import declarations either import all classes from a package or a single class:</p>\n\n<pre><code>import all.classes.from.package.*;\nimport only.one.type.named.MyClass;\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>OK, after the edit, looks like it's a jsp problem. </p>\n\n<p><strong>Edit 2</strong></p>\n\n<p><a href=\"http://www.myeclipseide.com/index.php?name=PNphpBB2&amp;file=viewtopic&amp;t=10513&amp;start=0&amp;postdays=0&amp;postorder=asc&amp;highlight=\" rel=\"nofollow noreferrer\">Here is another forum entry</a>, the problem seems to have similarities and the victim solved it by reinstalling eclipse. I'd try that one first - installing a second instance of eclipse with only the most necessary plugins, a new workspace, the project imported into that clean workspace, and hope for the best...</p>\n"},{"comments":[{"owner":{"account_id":26725,"reputation":50482,"user_id":69803,"accept_rate":65,"display_name":"Ankur"},"score":1,"creation_date":1260174648,"post_id":1858532,"comment_id":1754042,"body_markdown":"Thanks. It all looks as you say it ought to be, which is why it so confusing.","body":"Thanks. It all looks as you say it ought to be, which is why it so confusing."},{"owner":{"account_id":52822,"reputation":1089025,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1260184007,"post_id":1858532,"comment_id":1754837,"body_markdown":"Kudos, but `package` is an illegal package identifier ;)","body":"Kudos, but <code>package</code> is an illegal package identifier ;)"},{"owner":{"account_id":30578,"reputation":5909,"user_id":83418,"accept_rate":93,"display_name":"Jeffrey Knight"},"score":5,"creation_date":1317933186,"post_id":1858532,"comment_id":9335461,"body_markdown":"Of course &quot;Only a type can be imported. XYZ resolves to a package&quot; really means &quot;dependency can&#39;t be found in classpath&quot;. Of course!","body":"Of course &quot;Only a type can be imported. XYZ resolves to a package&quot; really means &quot;dependency can&#39;t be found in classpath&quot;. Of course!"}],"tags":[],"owner":{"account_id":26957,"reputation":564381,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":3,"down_vote_count":0,"up_vote_count":71,"is_accepted":false,"score":71,"last_activity_date":1260184884,"creation_date":1260173126,"answer_id":1858532,"question_id":1858463,"body_markdown":"Well, you are not really providing enough details on your webapp but my guess is that you have a JSP with something like that:\r\n\r\n    &lt;%@ page import=&quot;java.util.*,x.y.Z&quot;%&gt; \r\n\r\nAnd `x.y.Z` can&#39;t be found on the classpath (i.e. is not present under `WEB-INF/classes` nor in a JAR of `WEB-INF/lib`).\r\n\r\nDouble check that the WAR you deploy on Tomcat has the following structure:\r\n\r\n    my-webapp\r\n    |-- META-INF\r\n    |   `-- MANIFEST.MF\r\n    |-- WEB-INF\r\n    |   |-- classes\r\n    |   |   |-- x\r\n    |   |   |   `-- y\r\n    |   |   |       `-- Z.class\r\n    |   |   `-- another\r\n    |   |       `-- packagename\r\n    |   |           `-- AnotherClass.class\r\n    |   |-- lib\r\n    |   |   |-- ajar.jar\r\n    |   |   |-- bjar.jar\r\n    |   |   `-- zjar.jar\r\n    |   `-- web.xml\r\n    |-- a.jsp\r\n    |-- b.jsp\r\n    `-- index.jsp\r\n\r\nOr that the JAR that bundles `x.y.Z.class` is present under `WEB-INF/lib`.","title":"Java error: Only a type can be imported. XYZ resolves to a package","body":"<p>Well, you are not really providing enough details on your webapp but my guess is that you have a JSP with something like that:</p>\n\n<pre><code>&lt;%@ page import=\"java.util.*,x.y.Z\"%&gt; \n</code></pre>\n\n<p>And <code>x.y.Z</code> can't be found on the classpath (i.e. is not present under <code>WEB-INF/classes</code> nor in a JAR of <code>WEB-INF/lib</code>).</p>\n\n<p>Double check that the WAR you deploy on Tomcat has the following structure:</p>\n\n<pre><code>my-webapp\n|-- META-INF\n|   `-- MANIFEST.MF\n|-- WEB-INF\n|   |-- classes\n|   |   |-- x\n|   |   |   `-- y\n|   |   |       `-- Z.class\n|   |   `-- another\n|   |       `-- packagename\n|   |           `-- AnotherClass.class\n|   |-- lib\n|   |   |-- ajar.jar\n|   |   |-- bjar.jar\n|   |   `-- zjar.jar\n|   `-- web.xml\n|-- a.jsp\n|-- b.jsp\n`-- index.jsp\n</code></pre>\n\n<p>Or that the JAR that bundles <code>x.y.Z.class</code> is present under <code>WEB-INF/lib</code>.</p>\n"},{"comments":[{"owner":{"account_id":1385391,"reputation":3217,"user_id":1317559,"accept_rate":77,"display_name":"Yster"},"score":1,"creation_date":1434532321,"post_id":1858635,"comment_id":49814008,"body_markdown":"AFAIK adding the semi-colon gives an error and has the same effect as removing the line.","body":"AFAIK adding the semi-colon gives an error and has the same effect as removing the line."},{"owner":{"account_id":1810883,"reputation":1413,"user_id":1646982,"display_name":"Danil Gaponov"},"score":1,"creation_date":1450885029,"post_id":1858635,"comment_id":56618826,"body_markdown":"This fixed an issue for me. However after I deleted the semicolon it worked again.","body":"This fixed an issue for me. However after I deleted the semicolon it worked again."},{"owner":{"account_id":8321826,"reputation":2263,"user_id":6253214,"display_name":"AbelSurace"},"score":0,"creation_date":1498792819,"post_id":1858635,"comment_id":76656574,"body_markdown":"The semicolon causes a syntax error, but triggers a recheck in eclipse, some how after deleting the semicolon then the import is back to normal without the wiggly under line red.. weir weird but WORKS!","body":"The semicolon causes a syntax error, but triggers a recheck in eclipse, some how after deleting the semicolon then the import is back to normal without the wiggly under line red.. weir weird but WORKS!"},{"owner":{"account_id":170035,"reputation":6390,"user_id":396483,"accept_rate":68,"display_name":"john k"},"score":0,"creation_date":1665523024,"post_id":1858635,"comment_id":130719865,"body_markdown":"`java.lang.IllegalArgumentException: Page directive: invalid value for import`","body":"<code>java.lang.IllegalArgumentException: Page directive: invalid value for import</code>"}],"tags":[],"owner":{"account_id":26725,"reputation":50482,"user_id":69803,"accept_rate":65,"display_name":"Ankur"},"comment_count":4,"down_vote_count":1,"up_vote_count":42,"is_accepted":true,"score":41,"last_activity_date":1450902042,"creation_date":1260174905,"answer_id":1858635,"question_id":1858463,"body_markdown":"OK I just solved it. In the last import I added a &quot;;&quot; by copying other code examples. I guess it&#39;s the standard line ending that is required.\r\n\r\nSo\r\n\r\n    &lt;%@ page import=&quot;java.util.*&quot; %&gt;\r\n    &lt;%@ page import=&quot;org.eresearch.knowledgeportal.dao.CategoryDao&quot; %&gt;\r\n    &lt;%@ page import=&quot;org.eresearch.knowledgeportal.model.Category&quot; %&gt;\r\n\r\nbecame\r\n\r\n     &lt;%@ page import=&quot;java.util.*&quot; %&gt;\r\n     &lt;%@ page import=&quot;org.eresearch.knowledgeportal.dao.CategoryDao&quot; %&gt;\r\n     &lt;%@ page import=&quot;org.eresearch.knowledgeportal.model.Category;&quot; %&gt;","title":"Java error: Only a type can be imported. XYZ resolves to a package","body":"<p>OK I just solved it. In the last import I added a \";\" by copying other code examples. I guess it's the standard line ending that is required.</p>\n\n<p>So</p>\n\n<pre><code>&lt;%@ page import=\"java.util.*\" %&gt;\n&lt;%@ page import=\"org.eresearch.knowledgeportal.dao.CategoryDao\" %&gt;\n&lt;%@ page import=\"org.eresearch.knowledgeportal.model.Category\" %&gt;\n</code></pre>\n\n<p>became</p>\n\n<pre><code> &lt;%@ page import=\"java.util.*\" %&gt;\n &lt;%@ page import=\"org.eresearch.knowledgeportal.dao.CategoryDao\" %&gt;\n &lt;%@ page import=\"org.eresearch.knowledgeportal.model.Category;\" %&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1436813903,"post_id":8207547,"comment_id":50759192,"body_markdown":"Definitely not. That&#39;s the default.","body":"Definitely not. That&#39;s the default."}],"tags":[],"owner":{"account_id":1054089,"reputation":29,"user_id":1057181,"display_name":"optimystery"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1352194820,"creation_date":1321852277,"answer_id":8207547,"question_id":1858463,"body_markdown":"I know it&#39;s kinda too late to reply to this post but since I don&#39;t see any clear answer i&#39;d do it anyway...\r\n\r\nyou might wanna check out the `MANIFEST.MF` in `META-INF` on your eclipse.\r\n\r\nthen you might need to add the path of your class files like..\r\n\r\n`Class-Path: WEB-INF/classes`","title":"Java error: Only a type can be imported. XYZ resolves to a package","body":"<p>I know it's kinda too late to reply to this post but since I don't see any clear answer i'd do it anyway...</p>\n\n<p>you might wanna check out the <code>MANIFEST.MF</code> in <code>META-INF</code> on your eclipse.</p>\n\n<p>then you might need to add the path of your class files like..</p>\n\n<p><code>Class-Path: WEB-INF/classes</code></p>\n"},{"comments":[{"owner":{"account_id":477853,"reputation":11601,"user_id":889583,"accept_rate":80,"display_name":"daiscog"},"score":0,"creation_date":1364305888,"post_id":8334749,"comment_id":22188034,"body_markdown":"Bingo.  In my case, the problem class was in another project which was not copied by Netbeans to the Tomcat lib when changed, as I had expected.","body":"Bingo.  In my case, the problem class was in another project which was not copied by Netbeans to the Tomcat lib when changed, as I had expected."}],"tags":[],"owner":{"account_id":316230,"reputation":4509,"user_id":632293,"display_name":"jediz"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1322697046,"creation_date":1322697046,"answer_id":8334749,"question_id":1858463,"body_markdown":"I experienced this weird error too, after changing letter case in the name of a class. The file was not copied to a tomcat server as expected, I had to delete it manually and redeploy. Maybe because I use case insensitive operating system?","title":"Java error: Only a type can be imported. XYZ resolves to a package","body":"<p>I experienced this weird error too, after changing letter case in the name of a class. The file was not copied to a tomcat server as expected, I had to delete it manually and redeploy. Maybe because I use case insensitive operating system?</p>\n"},{"tags":[],"owner":{"account_id":137668,"reputation":2972,"user_id":342015,"display_name":"Tharaka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1338064182,"creation_date":1338064182,"answer_id":10769543,"question_id":1858463,"body_markdown":"I had a similar issue. In eclipse I compared my project with a sample project which is working fine (generated by a maven archetype). I found my project has missed 2 lines in /.classpath file. I copied those 2 lines and it fixed the issue. It seems even though I set build path in project preferences, eclipse has not updated accordingly for some reasons.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;classpath&gt;\r\n    \t&lt;classpathentry kind=&quot;src&quot; output=&quot;target/classes&quot; path=&quot;src/main/java&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;src&quot; output=&quot;target/test-classes&quot; path=&quot;src/test/java&quot;/&gt;\r\n    \t...\r\n    &lt;/classpath&gt;\r\n\r\n\r\n","title":"Java error: Only a type can be imported. XYZ resolves to a package","body":"<p>I had a similar issue. In eclipse I compared my project with a sample project which is working fine (generated by a maven archetype). I found my project has missed 2 lines in /.classpath file. I copied those 2 lines and it fixed the issue. It seems even though I set build path in project preferences, eclipse has not updated accordingly for some reasons.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;classpath&gt;\n    &lt;classpathentry kind=\"src\" output=\"target/classes\" path=\"src/main/java\"/&gt;\n    &lt;classpathentry kind=\"src\" output=\"target/test-classes\" path=\"src/test/java\"/&gt;\n    ...\n&lt;/classpath&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1032555,"reputation":109,"user_id":1040577,"display_name":"Cocu_1012"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1348262974,"creation_date":1348262974,"answer_id":12538421,"question_id":1858463,"body_markdown":"My contribution: I got this error because I created a package named 3lp.\r\nHowever, according to java spec, you are not allowed to name your package starts with a number.\r\nI changed it to _3lp, now it works.","title":"Java error: Only a type can be imported. XYZ resolves to a package","body":"<p>My contribution: I got this error because I created a package named 3lp.\nHowever, according to java spec, you are not allowed to name your package starts with a number.\nI changed it to _3lp, now it works.</p>\n"},{"comments":[{"owner":{"account_id":709632,"reputation":1021,"user_id":620054,"accept_rate":70,"display_name":"Michael K"},"score":0,"creation_date":1517344717,"post_id":13092685,"comment_id":84055524,"body_markdown":"Thank you! Wow, can&#39;t believe that worked. I will try this next time I have a weird Netbeans error. I don&#39;t know why Netbeans misbehaves like this. It happens more now that I installed a new version.","body":"Thank you! Wow, can&#39;t believe that worked. I will try this next time I have a weird Netbeans error. I don&#39;t know why Netbeans misbehaves like this. It happens more now that I installed a new version."},{"owner":{"account_id":709632,"reputation":1021,"user_id":620054,"accept_rate":70,"display_name":"Michael K"},"score":0,"creation_date":1533660324,"post_id":13092685,"comment_id":90424250,"body_markdown":"Ok, I&#39;ve had this problem twice now and your trick fixed it both times.","body":"Ok, I&#39;ve had this problem twice now and your trick fixed it both times."},{"owner":{"account_id":709632,"reputation":1021,"user_id":620054,"accept_rate":70,"display_name":"Michael K"},"score":0,"creation_date":1562940799,"post_id":13092685,"comment_id":100550169,"body_markdown":"I just had this again. I actually resolved it this time by renaming/refactoring the package name that was causing a problem, doing a clean + build, then renaming/refactoring back to what it was, and doing another clean + build. That did the trick as well.","body":"I just had this again. I actually resolved it this time by renaming/refactoring the package name that was causing a problem, doing a clean + build, then renaming/refactoring back to what it was, and doing another clean + build. That did the trick as well."}],"tags":[],"owner":{"account_id":206166,"reputation":1555,"user_id":455287,"accept_rate":75,"display_name":"Gullbyrd"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1351277433,"creation_date":1351277433,"answer_id":13092685,"question_id":1858463,"body_markdown":"I got this error in Netbeans. As with most bizarre errors like this that appear out of nowhere, I resolve it by going to project properties, changing the Source/Binary Format (doesn&#39;t matter to what, just something different), and doing a clean and build. ","title":"Java error: Only a type can be imported. XYZ resolves to a package","body":"<p>I got this error in Netbeans. As with most bizarre errors like this that appear out of nowhere, I resolve it by going to project properties, changing the Source/Binary Format (doesn't matter to what, just something different), and doing a clean and build. </p>\n"},{"comments":[{"owner":{"account_id":51116,"reputation":2451,"user_id":152640,"display_name":"mothmonsterman"},"score":0,"creation_date":1693489328,"post_id":13185160,"comment_id":135770169,"body_markdown":"Old answer but this just got me on JBoss 7.4. We have an x.y.Utilities class and an x.y.utilties... package. Solution for anyone stumbling upon this in the future using JBoss without having to rename anything is pass -Djboss.vfs.forceCaseSensitive=true","body":"Old answer but this just got me on JBoss 7.4. We have an x.y.Utilities class and an x.y.utilties... package. Solution for anyone stumbling upon this in the future using JBoss without having to rename anything is pass -Djboss.vfs.forceCaseSensitive=true"}],"tags":[],"owner":{"account_id":260010,"reputation":9493,"user_id":543315,"accept_rate":61,"display_name":"Nic Cottrell"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1351802636,"creation_date":1351802636,"answer_id":13185160,"question_id":1858463,"body_markdown":"My bet is that you have a package called org.ivec.eresearch.knowledgeportal.model.**category** (small `c`) and are running on a non-case sensitive filesystem like Windows or Mac. It seems that the compiler gets confused when a class and package exist.\r\n\r\nYou can either renamed the class &quot;Category&quot; or the package &quot;category&quot; and this error will go away. Unfortunately I&#39;m not sure if this is a Tomcat or ECJ bug.","title":"Java error: Only a type can be imported. XYZ resolves to a package","body":"<p>My bet is that you have a package called org.ivec.eresearch.knowledgeportal.model.<strong>category</strong> (small <code>c</code>) and are running on a non-case sensitive filesystem like Windows or Mac. It seems that the compiler gets confused when a class and package exist.</p>\n\n<p>You can either renamed the class \"Category\" or the package \"category\" and this error will go away. Unfortunately I'm not sure if this is a Tomcat or ECJ bug.</p>\n"},{"tags":[],"owner":{"account_id":1150494,"reputation":4777,"user_id":1132333,"accept_rate":61,"display_name":"H.Rabiee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366126926,"creation_date":1366126926,"answer_id":16041339,"question_id":1858463,"body_markdown":"If you are using Maven and packaging your Java classes as JAR, then make sure that JAR is up to date. Still assuming that JAR is in your classpath of course.","title":"Java error: Only a type can be imported. XYZ resolves to a package","body":"<p>If you are using Maven and packaging your Java classes as JAR, then make sure that JAR is up to date. Still assuming that JAR is in your classpath of course.</p>\n"},{"tags":[],"owner":{"account_id":4363610,"reputation":1,"user_id":3560010,"display_name":"Abdellah Benrebea"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398164058,"creation_date":1398162841,"answer_id":23217058,"question_id":1858463,"body_markdown":"I resolved it by adding the jar file containing the imported classes into `WEB-INF/Lib`. ","title":"Java error: Only a type can be imported. XYZ resolves to a package","body":"<p>I resolved it by adding the jar file containing the imported classes into <code>WEB-INF/Lib</code>. </p>\n"},{"tags":[],"owner":{"account_id":1196291,"reputation":7059,"user_id":1167956,"accept_rate":88,"display_name":"Graham P Heath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409697749,"creation_date":1409697749,"answer_id":25633519,"question_id":1858463,"body_markdown":"Are you attempting to import an overridden class like I was?\r\n\r\nIf so, your overridden class is in the wrong package, or simply non-existent.\r\n\r\nCreating, or moving the class into the correct location (src/[package.package].[class]) could solve your problem.","title":"Java error: Only a type can be imported. XYZ resolves to a package","body":"<p>Are you attempting to import an overridden class like I was?</p>\n\n<p>If so, your overridden class is in the wrong package, or simply non-existent.</p>\n\n<p>Creating, or moving the class into the correct location (src/[package.package].[class]) could solve your problem.</p>\n"},{"comments":[{"owner":{"account_id":2979407,"reputation":416,"user_id":2529737,"display_name":"user2529737"},"score":0,"creation_date":1422463463,"post_id":27825848,"comment_id":44761830,"body_markdown":"I saw this problem after manually copying class files to my Tomcat webapps/myApp/WEB-INF/classes dir.  A bounce of Tomcat fixed it.  And I&#39;d guess a redeploy would work as well.","body":"I saw this problem after manually copying class files to my Tomcat webapps/myApp/WEB-INF/classes dir.  A bounce of Tomcat fixed it.  And I&#39;d guess a redeploy would work as well."},{"owner":{"account_id":695155,"reputation":26358,"user_id":274677,"accept_rate":81,"display_name":"Marcus Junius Brutus"},"score":0,"creation_date":1482518104,"post_id":27825848,"comment_id":69815475,"body_markdown":"Indeed, the message is terrible. Even if they don&#39;t want to bother to differentiate the two cases, it should at least have been &quot;class not found or resolves to a package&quot;.","body":"Indeed, the message is terrible. Even if they don&#39;t want to bother to differentiate the two cases, it should at least have been &quot;class not found or resolves to a package&quot;."}],"tags":[],"owner":{"display_name":"user1886876"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1420654184,"creation_date":1420654184,"answer_id":27825848,"question_id":1858463,"body_markdown":"If you spell the class name wrong or the class isn&#39;t on the classpath, the JSP processor will say it &quot;resolves to a package&quot; rather than that it doesn&#39;t exist. This was driving me crazy today as I kept not seeing a typo I&#39;d made.","title":"Java error: Only a type can be imported. XYZ resolves to a package","body":"<p>If you spell the class name wrong or the class isn't on the classpath, the JSP processor will say it \"resolves to a package\" rather than that it doesn't exist. This was driving me crazy today as I kept not seeing a typo I'd made.</p>\n"},{"tags":[],"owner":{"account_id":4722771,"reputation":557,"user_id":3820234,"display_name":"Karan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1430571869,"creation_date":1430571869,"answer_id":30002633,"question_id":1858463,"body_markdown":"generate .class file separate and paste it into relevant package into the workspace.\r\nRefresh Project.","title":"Java error: Only a type can be imported. XYZ resolves to a package","body":"<p>generate .class file separate and paste it into relevant package into the workspace.\nRefresh Project.</p>\n"},{"comments":[{"owner":{"account_id":8038696,"reputation":145,"user_id":6061060,"display_name":"Laurent-P"},"score":0,"creation_date":1533116567,"post_id":39440819,"comment_id":90224321,"body_markdown":"It looks like wrong deployment is the main reason of this issue, redeploying worked for me.","body":"It looks like wrong deployment is the main reason of this issue, redeploying worked for me."}],"tags":[],"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1473629167,"creation_date":1473629167,"answer_id":39440819,"question_id":1858463,"body_markdown":"To me it was a wrong deployment. Deployed properly, everything works (check [my question][1] for details).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/39415664/http-status-500-unable-to-compile-class-for-jsp-java8-tomcat8-5","title":"Java error: Only a type can be imported. XYZ resolves to a package","body":"<p>To me it was a wrong deployment. Deployed properly, everything works (check <a href=\"https://stackoverflow.com/questions/39415664/http-status-500-unable-to-compile-class-for-jsp-java8-tomcat8-5\">my question</a> for details).</p>\n"},{"tags":[],"owner":{"account_id":9920600,"reputation":11,"user_id":7343854,"display_name":"Schumann Yeah"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1482802304,"creation_date":1482801007,"answer_id":41337833,"question_id":1858463,"body_markdown":"I had the same error message and my way to deal with it is as follows:\r\n\r\n1. First go check the file directory where your Tomcat is publishing your web application, e.g. D:\\Java\\workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp1\\wtpwebapps\\myDatatable\\WEB-INF\\classes, in which we normally put our classes. If this is not the place where you put your classes, then you have to find out where by default it is by right click your web application root name--&gt;Build Path--&gt;Configure Build Bath...--&gt;Then check the &quot;Source&quot; Tab and find out the field value of &quot;Default output folder&quot;. This shall be the place where Tomcat put your classes.\r\n2. You would see that XYZ class is not yet built. In order to build it, you could go to Menu &quot;Project&quot;--&gt;&quot;Clean...&quot;--&gt;Select your web application to clean.\r\n3. After it&#39;s completed, try restart your tomcat server and go check the file directory again. Your class should be there. At least it works for me. Hope it helps.","title":"Java error: Only a type can be imported. XYZ resolves to a package","body":"<p>I had the same error message and my way to deal with it is as follows:</p>\n\n<ol>\n<li>First go check the file directory where your Tomcat is publishing your web application, e.g. D:\\Java\\workspace.metadata.plugins\\org.eclipse.wst.server.core\\tmp1\\wtpwebapps\\myDatatable\\WEB-INF\\classes, in which we normally put our classes. If this is not the place where you put your classes, then you have to find out where by default it is by right click your web application root name-->Build Path-->Configure Build Bath...-->Then check the \"Source\" Tab and find out the field value of \"Default output folder\". This shall be the place where Tomcat put your classes.</li>\n<li>You would see that XYZ class is not yet built. In order to build it, you could go to Menu \"Project\"-->\"Clean...\"-->Select your web application to clean.</li>\n<li>After it's completed, try restart your tomcat server and go check the file directory again. Your class should be there. At least it works for me. Hope it helps.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11258873,"reputation":11,"user_id":8257766,"display_name":"Alessandro Marini"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499242133,"creation_date":1499242133,"answer_id":44920457,"question_id":1858463,"body_markdown":"This typically happens when mixing (in the same jsp page) static jsp import:\r\n\r\n    &lt;%@include file=&quot;...\r\n\r\nwith dynamic jsp import:\r\n\r\n    &lt;jsp:include page=&quot;...\r\n\r\nand your type has been already imported by the &quot;static imported&quot; jsp. When the same type needs to be used (and then imported) by the &quot;dynamically imported&quot; jsp -&gt; this generate the Exception: &quot;Only a type can be imported...&quot;","title":"Java error: Only a type can be imported. XYZ resolves to a package","body":"<p>This typically happens when mixing (in the same jsp page) static jsp import:</p>\n\n<pre><code>&lt;%@include file=\"...\n</code></pre>\n\n<p>with dynamic jsp import:</p>\n\n<pre><code>&lt;jsp:include page=\"...\n</code></pre>\n\n<p>and your type has been already imported by the \"static imported\" jsp. When the same type needs to be used (and then imported) by the \"dynamically imported\" jsp -> this generate the Exception: \"Only a type can be imported...\"</p>\n"},{"tags":[],"owner":{"account_id":7718945,"reputation":709,"user_id":5845739,"display_name":"Pratik Gaurav"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1504767026,"creation_date":1504767026,"answer_id":46089671,"question_id":1858463,"body_markdown":"I got it resolved by adding the jars in tomcat lib directory.","title":"Java error: Only a type can be imported. XYZ resolves to a package","body":"<p>I got it resolved by adding the jars in tomcat lib directory.</p>\n"},{"tags":[],"owner":{"account_id":9554426,"reputation":141,"user_id":7097438,"display_name":"Zybrion"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546525548,"creation_date":1546525548,"answer_id":54024241,"question_id":1858463,"body_markdown":"So I had the same issue and just wanted to give my solution. Maybe someone faces the same problem.\r\n\r\nI had properly configured my artifact but somehow intellij mixed something up and deleted the WEB-INF folder in one of my artifacts.\r\n\r\nWhen I viewed the contents of my .war file every class was present in the correct folder structure. So I didn&#39;t think that anything was missing. But when I check the artifacts in Intellij and compared it to a working artifact then I realized, that the WEB-INF folder with the classes and libs were not present.\r\n\r\nAdd them to the artifact and it should work.\r\n\r\nTLDR: Intellij deleted the WEB-INF Folder in my .war artifact. Just check if yours is missing aswell. (Project Strucutre -&gt; Artifacts)","title":"Java error: Only a type can be imported. XYZ resolves to a package","body":"<p>So I had the same issue and just wanted to give my solution. Maybe someone faces the same problem.</p>\n\n<p>I had properly configured my artifact but somehow intellij mixed something up and deleted the WEB-INF folder in one of my artifacts.</p>\n\n<p>When I viewed the contents of my .war file every class was present in the correct folder structure. So I didn't think that anything was missing. But when I check the artifacts in Intellij and compared it to a working artifact then I realized, that the WEB-INF folder with the classes and libs were not present.</p>\n\n<p>Add them to the artifact and it should work.</p>\n\n<p>TLDR: Intellij deleted the WEB-INF Folder in my .war artifact. Just check if yours is missing aswell. (Project Strucutre -> Artifacts)</p>\n"},{"tags":[],"owner":{"account_id":2985164,"reputation":5188,"user_id":2534191,"accept_rate":25,"display_name":"Yuriy N."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547294037,"creation_date":1547294037,"answer_id":54159322,"question_id":1858463,"body_markdown":"Got this exception as well.\r\n\r\nEnvironment: Mac with Eclipse running Tomcat from inside Eclipse using Servers view. \r\n\r\nFor any reason Eclipse does not copy `classes` folder to `WEB-INF`. After `classes` folder was manually copied, everything works fine. \r\n\r\nDon&#39;t know, or it is Eclipse bug or I missed something. ","title":"Java error: Only a type can be imported. XYZ resolves to a package","body":"<p>Got this exception as well.</p>\n\n<p>Environment: Mac with Eclipse running Tomcat from inside Eclipse using Servers view. </p>\n\n<p>For any reason Eclipse does not copy <code>classes</code> folder to <code>WEB-INF</code>. After <code>classes</code> folder was manually copied, everything works fine. </p>\n\n<p>Don't know, or it is Eclipse bug or I missed something. </p>\n"},{"tags":[],"owner":{"account_id":8256197,"reputation":1,"user_id":6209297,"display_name":"subha sri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572329293,"creation_date":1572329293,"answer_id":58602161,"question_id":1858463,"body_markdown":"The tomcat folder structure has Webapps/ROOT/ inside where the WEB-INF folder has to be present. If you place your WEB-INF inside Webapps/ tomcat is not locating the class files and jars.","title":"Java error: Only a type can be imported. XYZ resolves to a package","body":"<p>The tomcat folder structure has Webapps/ROOT/ inside where the WEB-INF folder has to be present. If you place your WEB-INF inside Webapps/ tomcat is not locating the class files and jars.</p>\n"},{"tags":[],"owner":{"account_id":5672288,"reputation":294,"user_id":4486592,"display_name":"Guilherme Taffarel Bergamin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596204788,"creation_date":1596204788,"answer_id":63193502,"question_id":1858463,"body_markdown":"Just adding yet another way of achieving this weird error\r\n\r\nTo me what happened is that the `classpath` had a few jars from tomcat by using the `TOMCAT_HOME` variable.\r\n\r\nI didn&#39;t have that variable set and never needed it in over a year working in my current job. But this specific project was expecting this variable in the `classpath` and Eclipse wouldn&#39;t tell me there was a `classpath` error going on.","title":"Java error: Only a type can be imported. XYZ resolves to a package","body":"<p>Just adding yet another way of achieving this weird error</p>\n<p>To me what happened is that the <code>classpath</code> had a few jars from tomcat by using the <code>TOMCAT_HOME</code> variable.</p>\n<p>I didn't have that variable set and never needed it in over a year working in my current job. But this specific project was expecting this variable in the <code>classpath</code> and Eclipse wouldn't tell me there was a <code>classpath</code> error going on.</p>\n"},{"tags":[],"owner":{"account_id":19289845,"reputation":1,"user_id":14100123,"display_name":"Srishti gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599058348,"creation_date":1599058348,"answer_id":63708125,"question_id":1858463,"body_markdown":"I was getting the same error and nothing was wrong with my java files and packages. Later I noticed that the folder name WEB-INF was written like this &quot;WEB_INF&quot;. So correcting just the folder name solved the issue","title":"Java error: Only a type can be imported. XYZ resolves to a package","body":"<p>I was getting the same error and nothing was wrong with my java files and packages. Later I noticed that the folder name WEB-INF was written like this &quot;WEB_INF&quot;. So correcting just the folder name solved the issue</p>\n"},{"tags":[],"owner":{"account_id":8867855,"reputation":3,"user_id":6622460,"display_name":"James Tweet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604810530,"creation_date":1604810530,"answer_id":64734891,"question_id":1858463,"body_markdown":"I had this same issue when running from Eclipse. To fix the issue I went into the Configure Build Path and removed the src folder from the build path. Then closed and reopened the project. Then I added the src folder to the build path. The src folder contained the java class I was trying to access.","title":"Java error: Only a type can be imported. XYZ resolves to a package","body":"<p>I had this same issue when running from Eclipse. To fix the issue I went into the Configure Build Path and removed the src folder from the build path. Then closed and reopened the project. Then I added the src folder to the build path. The src folder contained the java class I was trying to access.</p>\n"},{"tags":[],"owner":{"account_id":5305984,"reputation":1,"user_id":4233874,"display_name":"MediaMoonLLC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701457447,"creation_date":1701457447,"answer_id":77587520,"question_id":1858463,"body_markdown":"This plagued us on Tomcat 9.0.62. It turns out our issue was as simple as permissions. One class was working, but another wasn&#39;t (due to permissions):\r\n\r\n/WEB-INF/classes/ listing:\r\n\r\n    drwxr-xr-x. 3 tomcat tomcat 4096 Dec  1 08:52 working_class_directory\r\n    drw-r--r--. 2 tomcat tomcat 4096 Dec  1 10:14 non_working_class_directory\r\n\r\nA simple &quot;`chmod 755 non_working_class_directory`&quot; command in the /WEB-INF/classes/ directory fixed the issue.\r\n\r\nI hope that helps someone.","title":"Java error: Only a type can be imported. XYZ resolves to a package","body":"<p>This plagued us on Tomcat 9.0.62. It turns out our issue was as simple as permissions. One class was working, but another wasn't (due to permissions):</p>\n<p>/WEB-INF/classes/ listing:</p>\n<pre><code>drwxr-xr-x. 3 tomcat tomcat 4096 Dec  1 08:52 working_class_directory\ndrw-r--r--. 2 tomcat tomcat 4096 Dec  1 10:14 non_working_class_directory\n</code></pre>\n<p>A simple &quot;<code>chmod 755 non_working_class_directory</code>&quot; command in the /WEB-INF/classes/ directory fixed the issue.</p>\n<p>I hope that helps someone.</p>\n"}],"owner":{"account_id":26725,"reputation":50482,"user_id":69803,"accept_rate":65,"display_name":"Ankur"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210845,"favorite_count":0,"down_vote_count":0,"up_vote_count":85,"accepted_answer_id":1858635,"answer_count":27,"score":85,"last_activity_date":1701457447,"creation_date":1260171975,"question_id":1858463,"body_markdown":"I get the error: &quot;Only a type can be imported. XYZ resolves to a package.&quot;\r\n\r\nSomeone has explained the cause &lt;a href=&quot;http://anilsaldhana.blogspot.com/2009/07/tomcat-error-only-type-can-be-imported.html&quot;&gt;here&lt;/a&gt; but I am not sure what I supposed to do to fix this. FYI: I am using Eclipse. I have added the code that does the importing below. The java.util.* import works fine.\r\n\r\n     &lt;%@ page import=&quot;java.util.*&quot;%&gt;\r\n     &lt;%@ page import=&quot;org.eresearch.knowledgeportal.model.Category&quot;%&gt;\r\n     &lt;%@ page import=&quot;org.eresearch.knowledgeportal.dao.CategoryDao&quot;%&gt;\r\n\r\n     &lt;% \r\n      CategoryDao catDao = new CategoryDao();\r\n      ArrayList&lt;Category&gt; catList = catDao.selectCategory();\r\n \r\n     //\r\n     %&gt;\r\n\r\nEdit: the actual error is below:\r\n\r\n     org.apache.jasper.JasperException: Unable to compile class for JSP: \r\n\r\n     An error occurred at line: 7 in the generated java file\r\n     Only a type can be imported. org.eresearch.knowledgeportal.model.Category resolves to a package\r\n","title":"Java error: Only a type can be imported. XYZ resolves to a package","body":"<p>I get the error: \"Only a type can be imported. XYZ resolves to a package.\"</p>\n\n<p>Someone has explained the cause <a href=\"http://anilsaldhana.blogspot.com/2009/07/tomcat-error-only-type-can-be-imported.html\" rel=\"noreferrer\">here</a> but I am not sure what I supposed to do to fix this. FYI: I am using Eclipse. I have added the code that does the importing below. The java.util.* import works fine.</p>\n\n<pre><code> &lt;%@ page import=\"java.util.*\"%&gt;\n &lt;%@ page import=\"org.eresearch.knowledgeportal.model.Category\"%&gt;\n &lt;%@ page import=\"org.eresearch.knowledgeportal.dao.CategoryDao\"%&gt;\n\n &lt;% \n  CategoryDao catDao = new CategoryDao();\n  ArrayList&lt;Category&gt; catList = catDao.selectCategory();\n\n //\n %&gt;\n</code></pre>\n\n<p>Edit: the actual error is below:</p>\n\n<pre><code> org.apache.jasper.JasperException: Unable to compile class for JSP: \n\n An error occurred at line: 7 in the generated java file\n Only a type can be imported. org.eresearch.knowledgeportal.model.Category resolves to a package\n</code></pre>\n"},{"tags":["java","maven","gradle","build.gradle","maven-repository"],"answers":[{"tags":[],"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701456728,"creation_date":1701456728,"answer_id":77587478,"question_id":77587431,"body_markdown":"Your jar, and your project, will **not** work without the other dependencies.\r\n\r\nYou need to read the documentation on [transitive dependencies][1].\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/dependency_management_terminology.html#sub:terminology_transitive_dependency","title":"Get only the Jar from maven repository through build.gradle file","body":"<p>Your jar, and your project, will <strong>not</strong> work without the other dependencies.</p>\n<p>You need to read the documentation on <a href=\"https://docs.gradle.org/current/userguide/dependency_management_terminology.html#sub:terminology_transitive_dependency\" rel=\"nofollow noreferrer\">transitive dependencies</a>.</p>\n"}],"owner":{"account_id":6110831,"reputation":665,"user_id":4767191,"display_name":"RAHUL DEEP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701456728,"creation_date":1701456171,"question_id":77587431,"body_markdown":"I need to use a Jar from a remote repository.\r\nI am providing the dependency details in the dependencies section in build.gradle like this - \r\n```\r\ncompile(&quot;com.rhuldip.artifactId:com.rhuldip.projectId:1-SNAPSHOT&quot;)\r\n```\r\nBut in my remote repository there are 3 files maven-metadata.xml,com.rhuldip.projectId-1-SNAPSHOT.jar and com.rhuldip.projectId-1-SNAPSHOT.pom.\r\ncom.rhuldip.projectId-1-SNAPSHOT.pom contains multiple dependencies which i dont need in my project.\r\n\r\nI just need com.rhuldip.projectId-1-SNAPSHOT.jar in my project. Is there any way i can get only the specified jar and not the pom dependencies?\r\n\r\n","title":"Get only the Jar from maven repository through build.gradle file","body":"<p>I need to use a Jar from a remote repository.\nI am providing the dependency details in the dependencies section in build.gradle like this -</p>\n<pre><code>compile(&quot;com.rhuldip.artifactId:com.rhuldip.projectId:1-SNAPSHOT&quot;)\n</code></pre>\n<p>But in my remote repository there are 3 files maven-metadata.xml,com.rhuldip.projectId-1-SNAPSHOT.jar and com.rhuldip.projectId-1-SNAPSHOT.pom.\ncom.rhuldip.projectId-1-SNAPSHOT.pom contains multiple dependencies which i dont need in my project.</p>\n<p>I just need com.rhuldip.projectId-1-SNAPSHOT.jar in my project. Is there any way i can get only the specified jar and not the pom dependencies?</p>\n"},{"tags":["java","apache-spark"],"owner":{"account_id":11614164,"reputation":83,"user_id":8507504,"display_name":"Jared"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701456697,"creation_date":1701456697,"question_id":77587475,"body_markdown":"I need to read a large number of avro files, filter them by some criteria, then I need to get the length of each column in a row and finally I want to get the sum of all the values in this new column\r\n\r\nThe code I&#39;ve written doesn&#39;t seem to be working. It worked once and did some logging and stopped working after that. Also, when printing, `myLength` is turning out to be zero, which is `not` possible\r\n\r\nI&#39;ll be very grateful if you guys could give me some pointers, help\r\n\r\n```\r\nimport org.apache.spark.sql.Dataset;\r\nimport org.apache.spark.sql.Encoders;\r\nimport org.apache.spark.sql.Row;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.List;\r\nimport java.util.logging.Logger;\r\nimport java.util.stream.Collectors;\r\n\r\nimport static java.util.logging.Level.INFO;\r\nimport static org.apache.spark.sql.functions.col;\r\nimport static org.apache.spark.sql.functions.length;\r\nimport static org.apache.spark.sql.functions.sum;\r\nimport static org.apache.spark.sql.types.DataTypes.LongType;\r\nimport static org.apache.spark.sql.types.DataTypes.StringType;\r\n\r\nDataset&lt;Row&gt; loadedFiles =\r\n        platformContext\r\n                .getSparkSession()\r\n                .sqlContext()\r\n                .read()\r\n                .format(&quot;com.databricks.spark.avro&quot;)\r\n                .load(files);\r\n\r\nDataset&lt;Row&gt; myFilteredFiles = loadedFiles\r\n        .filter(col(&quot;value&quot;).contains(&quot;regex&quot;))\r\n        .filter(col(&quot;value&quot;.isNotNull());\r\n\r\nlong myCount = myFilteredFiles.count();\r\n\r\nlong myLength = myCount &lt;= 0L ? 0L : myFilteredFiles\r\n        .withColumn(&quot;value_length&quot;, length(col(&quot;value&quot;)))\r\n        .agg(sum(col(&quot;value_length&quot;)).cast(LongType))\r\n        .first()\r\n        .getLong(0);\r\n\r\nStringBuilder sb = new StringBuilder();\r\nsb.append(&quot;myCount=&quot;).append(myCount).append(&quot; myLength=&quot;).appendmyLength);\r\nLOGGER.log(INFO, sb.toString());\r\n```","title":"Spark Java How to get the sum of the byte length all the rows of a column?","body":"<p>I need to read a large number of avro files, filter them by some criteria, then I need to get the length of each column in a row and finally I want to get the sum of all the values in this new column</p>\n<p>The code I've written doesn't seem to be working. It worked once and did some logging and stopped working after that. Also, when printing, <code>myLength</code> is turning out to be zero, which is <code>not</code> possible</p>\n<p>I'll be very grateful if you guys could give me some pointers, help</p>\n<pre><code>import org.apache.spark.sql.Dataset;\nimport org.apache.spark.sql.Encoders;\nimport org.apache.spark.sql.Row;\n\nimport java.io.Serializable;\nimport java.util.List;\nimport java.util.logging.Logger;\nimport java.util.stream.Collectors;\n\nimport static java.util.logging.Level.INFO;\nimport static org.apache.spark.sql.functions.col;\nimport static org.apache.spark.sql.functions.length;\nimport static org.apache.spark.sql.functions.sum;\nimport static org.apache.spark.sql.types.DataTypes.LongType;\nimport static org.apache.spark.sql.types.DataTypes.StringType;\n\nDataset&lt;Row&gt; loadedFiles =\n        platformContext\n                .getSparkSession()\n                .sqlContext()\n                .read()\n                .format(&quot;com.databricks.spark.avro&quot;)\n                .load(files);\n\nDataset&lt;Row&gt; myFilteredFiles = loadedFiles\n        .filter(col(&quot;value&quot;).contains(&quot;regex&quot;))\n        .filter(col(&quot;value&quot;.isNotNull());\n\nlong myCount = myFilteredFiles.count();\n\nlong myLength = myCount &lt;= 0L ? 0L : myFilteredFiles\n        .withColumn(&quot;value_length&quot;, length(col(&quot;value&quot;)))\n        .agg(sum(col(&quot;value_length&quot;)).cast(LongType))\n        .first()\n        .getLong(0);\n\nStringBuilder sb = new StringBuilder();\nsb.append(&quot;myCount=&quot;).append(myCount).append(&quot; myLength=&quot;).appendmyLength);\nLOGGER.log(INFO, sb.toString());\n</code></pre>\n"},{"tags":["java","apache-spark-sql"],"owner":{"account_id":30036884,"reputation":1,"user_id":23018628,"display_name":"Ankit Tyagi1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701456267,"creation_date":1701403491,"question_id":77582954,"body_markdown":"This is how i am making the query. The records are available in DB.\r\n\r\n```\r\nsparkSession.read().format(&quot;jdbc&quot;).option(&quot;url&quot;,configuredProperties.getProperty(&quot;ProgramDbUrl&quot;)).\r\n        option(&quot;user&quot;, configuredProperties.getProperty(&quot;ProgramDbUser&quot;)).\r\n        option(&quot;password&quot;, configuredProperties.getProperty(&quot;ProgramDbPassword&quot;)).\r\n        option(&quot;ssl&quot;, configuredProperties.getProperty(&quot;ProgramDbSsl&quot;)).\r\n        option(&quot;sslmode&quot;, &quot;verify-full&quot;).\r\n        option(&quot;searchpath&quot;, configuredProperties.getProperty(&quot;ProgramDbSchema&quot;)).\r\n        option(&quot;sslrootcert&quot;, configuredProperties.getProperty(&quot;ProgramDbSslRootCert&quot;)).\r\n        option(&quot;sslcert&quot;, configuredProperties.getProperty(&quot;ProgramDbSslCertPath&quot;)).\r\n        option(&quot;sslkey&quot;, configuredProperties.getProperty(&quot;ProgramDbSslKey&quot;)).option(&quot;query&quot;, &quot;select activity_type, description from &quot;+tableName).load();\r\n```\r\ni am trying to display the result by using below code.\r\n```\r\nDataset&lt;Row&gt; free_item_rows = freeItemRepository.CustomQuery(&quot;Program_activity_log&quot;);\r\nfree_item_rows.show();\r\n```","title":"No records are fetching while querying to postgres Db using Apache spark sql","body":"<p>This is how i am making the query. The records are available in DB.</p>\n<pre><code>sparkSession.read().format(&quot;jdbc&quot;).option(&quot;url&quot;,configuredProperties.getProperty(&quot;ProgramDbUrl&quot;)).\n        option(&quot;user&quot;, configuredProperties.getProperty(&quot;ProgramDbUser&quot;)).\n        option(&quot;password&quot;, configuredProperties.getProperty(&quot;ProgramDbPassword&quot;)).\n        option(&quot;ssl&quot;, configuredProperties.getProperty(&quot;ProgramDbSsl&quot;)).\n        option(&quot;sslmode&quot;, &quot;verify-full&quot;).\n        option(&quot;searchpath&quot;, configuredProperties.getProperty(&quot;ProgramDbSchema&quot;)).\n        option(&quot;sslrootcert&quot;, configuredProperties.getProperty(&quot;ProgramDbSslRootCert&quot;)).\n        option(&quot;sslcert&quot;, configuredProperties.getProperty(&quot;ProgramDbSslCertPath&quot;)).\n        option(&quot;sslkey&quot;, configuredProperties.getProperty(&quot;ProgramDbSslKey&quot;)).option(&quot;query&quot;, &quot;select activity_type, description from &quot;+tableName).load();\n</code></pre>\n<p>i am trying to display the result by using below code.</p>\n<pre><code>Dataset&lt;Row&gt; free_item_rows = freeItemRepository.CustomQuery(&quot;Program_activity_log&quot;);\nfree_item_rows.show();\n</code></pre>\n"},{"tags":["java","string","listview","text"],"owner":{"account_id":30022964,"reputation":1,"user_id":23007903,"display_name":"Yg Bhh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701454554,"creation_date":1701454554,"question_id":77587294,"body_markdown":"I&#39;m need list view with text From txt file and name&#39;s button from sim txt file so please help me with that\r\n\r\nEx\r\ntext 1\r\ntext 2\r\nText3 \r\n\r\nAnd name&#39;s of buttons\r\n\r\nList text lines and button from file Java android\r\n\r\nI hope to get My answer on near time please","title":"List text lines and button from file Java android","body":"<p>I'm need list view with text From txt file and name's button from sim txt file so please help me with that</p>\n<p>Ex\ntext 1\ntext 2\nText3</p>\n<p>And name's of buttons</p>\n<p>List text lines and button from file Java android</p>\n<p>I hope to get My answer on near time please</p>\n"},{"tags":["java","arrays","random","java.util.scanner"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1701452735,"post_id":77587124,"comment_id":136781623,"body_markdown":"Don&#39;t ask the user anything in `bubblesort`. Ask the user the `How many numbers..` question. Take that input and use it to create your `for-loop`. The `for-loop` should ask the user to enter num x. Store those numbers in an array. Use one of the sorts methods to sort the array. Print the result.","body":"Don&#39;t ask the user anything in <code>bubblesort</code>. Ask the user the <code>How many numbers..</code> question. Take that input and use it to create your <code>for-loop</code>. The <code>for-loop</code> should ask the user to enter num x. Store those numbers in an array. Use one of the sorts methods to sort the array. Print the result."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":2,"creation_date":1701452932,"post_id":77587124,"comment_id":136781650,"body_markdown":"Create a file with sample input and code around that first. When that&#39;s working, you can added the user interaction.","body":"Create a file with sample input and code around that first. When that&#39;s working, you can added the user interaction."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1701453486,"post_id":77587124,"comment_id":136781719,"body_markdown":"You probably want to print the question BEFORE you scan for the answer, not the other way around.","body":"You probably want to print the question BEFORE you scan for the answer, not the other way around."}],"owner":{"account_id":30042354,"reputation":1,"user_id":23022943,"display_name":"user23022943"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701454472,"creation_date":1701452396,"question_id":77587124,"body_markdown":"I am currently studying computer science in my first semester and I have an assignment I need some kind help with.\r\nI am supposed to create an array which fills in the amount of random numbers the user specifies using the `java.util.Scanner`.\r\nCurrently my code looks like this:\r\n\r\n``` lang-java\r\npackage lia.prog1.exercises.set09;\r\n\r\nimport java.util.Scanner;\r\nimport java.util.Random;\r\n\r\npublic class SortingTool\r\n{\r\n\r\n    private void bubblesort(int[] arr)\r\n    {\r\n        int sortArray;\r\n        int i;\r\n        int j;\r\n        int tempArray;\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n        sortArray = scanner.nextInt();\r\n        System.out.println(&quot;How many numbers do you want to sort?&quot;);\r\n\r\n\r\n\r\n        for (i = 0; i &lt; (arr.length - 1); i++)\r\n        {\r\n            for (j = 0; j &lt; arr.length - i - 1; j++)\r\n            {\r\n                if (arr[j] &gt; arr[j + 1])\r\n                {\r\n                    tempArray = arr[j];\r\n                    arr[j] = arr[j + 1];\r\n                    arr[j + 1] = tempArray;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private void insertionsort(int [] data)\r\n    {\r\n        int [] sorted = new int[data.length];\r\n\r\n        for (int i = 0; i &lt; data.length; i++)\r\n        {\r\n            int min = Integer.MAX_VALUE;\r\n            for (int j = 0; j &lt; data.length; j++)\r\n            {\r\n                if (min &gt; data[j])\r\n                {\r\n                    int temp = min;\r\n                    min = data[j];\r\n                    data[j] = temp;\r\n                }\r\n            }\r\n            sorted[i] = min;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n","title":"How can I ask a user with the scanner to insert the ammount of random numbers he/she would like to be created and sort it f. e. with bubblesort?","body":"<p>I am currently studying computer science in my first semester and I have an assignment I need some kind help with.\nI am supposed to create an array which fills in the amount of random numbers the user specifies using the <code>java.util.Scanner</code>.\nCurrently my code looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package lia.prog1.exercises.set09;\n\nimport java.util.Scanner;\nimport java.util.Random;\n\npublic class SortingTool\n{\n\n    private void bubblesort(int[] arr)\n    {\n        int sortArray;\n        int i;\n        int j;\n        int tempArray;\n\n        Scanner scanner = new Scanner(System.in);\n        sortArray = scanner.nextInt();\n        System.out.println(&quot;How many numbers do you want to sort?&quot;);\n\n\n\n        for (i = 0; i &lt; (arr.length - 1); i++)\n        {\n            for (j = 0; j &lt; arr.length - i - 1; j++)\n            {\n                if (arr[j] &gt; arr[j + 1])\n                {\n                    tempArray = arr[j];\n                    arr[j] = arr[j + 1];\n                    arr[j + 1] = tempArray;\n                }\n            }\n        }\n    }\n\n    private void insertionsort(int [] data)\n    {\n        int [] sorted = new int[data.length];\n\n        for (int i = 0; i &lt; data.length; i++)\n        {\n            int min = Integer.MAX_VALUE;\n            for (int j = 0; j &lt; data.length; j++)\n            {\n                if (min &gt; data[j])\n                {\n                    int temp = min;\n                    min = data[j];\n                    data[j] = temp;\n                }\n            }\n            sorted[i] = min;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","multithreading","unit-testing","mockito","executorservice"],"answers":[{"comments":[{"owner":{"account_id":9543354,"reputation":101,"user_id":7090511,"display_name":"slkhan"},"score":0,"creation_date":1603292911,"post_id":64466187,"comment_id":113992436,"body_markdown":"I have tried this, but it gave me the null value as a return value. not the userList :(","body":"I have tried this, but it gave me the null value as a return value. not the userList :("},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1603293093,"post_id":64466187,"comment_id":113992540,"body_markdown":"Don&#39;t mock the `ExecuteService` (remove `@Mock`), otherwise it doesn&#39;t do what it should do. (see my edit)","body":"Don&#39;t mock the <code>ExecuteService</code> (remove <code>@Mock</code>), otherwise it doesn&#39;t do what it should do. (see my edit)"},{"owner":{"account_id":9543354,"reputation":101,"user_id":7090511,"display_name":"slkhan"},"score":0,"creation_date":1603293611,"post_id":64466187,"comment_id":113992803,"body_markdown":"Thanks. When I remove the @Mock from ```ExecuteService``` I&#39;m getting NullPointerException when invoking the ```executorService.submit``` part","body":"Thanks. When I remove the @Mock from <code>ExecuteService</code> I&#39;m getting NullPointerException when invoking the <code>executorService.submit</code> part"}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1603293037,"creation_date":1603291803,"answer_id":64466187,"question_id":64466093,"body_markdown":"You don&#39;t want to fiddle with the `ExecutorService` itself but rather mock `findById` to get the result. As long as the mock returns the result immediately (unless you let it `Thread.sleep` for a while) the call itself in the `ExecutorService` is quick and the result is hence wrapped inside the `Future`. \r\n\r\n    Mockito.when(userRepository.findById(Mockito.any()).thenReturn(userList);\r\n\r\nThen you don&#39;t need to mock the `ExecutorService` at all, you want to use a real service, or else it doesn&#39;t do what it&#39;s supposed to do.","title":"How to mock ExecutorService call using Mockito","body":"<p>You don't want to fiddle with the <code>ExecutorService</code> itself but rather mock <code>findById</code> to get the result. As long as the mock returns the result immediately (unless you let it <code>Thread.sleep</code> for a while) the call itself in the <code>ExecutorService</code> is quick and the result is hence wrapped inside the <code>Future</code>.</p>\n<pre><code>Mockito.when(userRepository.findById(Mockito.any()).thenReturn(userList);\n</code></pre>\n<p>Then you don't need to mock the <code>ExecutorService</code> at all, you want to use a real service, or else it doesn't do what it's supposed to do.</p>\n"},{"tags":[],"owner":{"account_id":9543354,"reputation":101,"user_id":7090511,"display_name":"slkhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1603559157,"creation_date":1603559157,"answer_id":64515991,"question_id":64466093,"body_markdown":"Thanks for your answers. I have found a solution for this scenario.\r\n\r\nWe can mock executor service call using the following code snippet.\r\n```\r\nwhen(executorService.submit(any(Callable.class)))\r\n      .thenReturn(ConcurrentUtils.constantFuture(userList()));\r\n```\r\nAnd if you have **more than one** ExecutorService calls in your method call, you can mock every response by adding them as a comma-separated list to the Mockito call as follows.\r\n\r\n```\r\nwhen(executorService.submit(any(Callable.class)))\r\n      .thenReturn(ConcurrentUtils.constantFuture(userList()),\r\n           ConcurrentUtils.constantFuture(Optional.of(departmentList())));\r\n```","title":"How to mock ExecutorService call using Mockito","body":"<p>Thanks for your answers. I have found a solution for this scenario.</p>\n<p>We can mock executor service call using the following code snippet.</p>\n<pre><code>when(executorService.submit(any(Callable.class)))\n      .thenReturn(ConcurrentUtils.constantFuture(userList()));\n</code></pre>\n<p>And if you have <strong>more than one</strong> ExecutorService calls in your method call, you can mock every response by adding them as a comma-separated list to the Mockito call as follows.</p>\n<pre><code>when(executorService.submit(any(Callable.class)))\n      .thenReturn(ConcurrentUtils.constantFuture(userList()),\n           ConcurrentUtils.constantFuture(Optional.of(departmentList())));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1201678,"reputation":706,"user_id":1172219,"display_name":"satanas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701454127,"creation_date":1701454127,"answer_id":77587256,"question_id":64466093,"body_markdown":"The accepted answer didn&#39;t work for me because the compiler kept telling me to cast `any(Callable.class)` to a `Runnable`. So, instead I mocked it with (similar to the implementation):\r\n```\r\nwhen(executorService.submit(() -&gt; any(Callable.class)))\r\n      .thenReturn(ConcurrentUtils.constantFuture(userList()));\r\n```","title":"How to mock ExecutorService call using Mockito","body":"<p>The accepted answer didn't work for me because the compiler kept telling me to cast <code>any(Callable.class)</code> to a <code>Runnable</code>. So, instead I mocked it with (similar to the implementation):</p>\n<pre><code>when(executorService.submit(() -&gt; any(Callable.class)))\n      .thenReturn(ConcurrentUtils.constantFuture(userList()));\n</code></pre>\n"}],"owner":{"account_id":9543354,"reputation":101,"user_id":7090511,"display_name":"slkhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9747,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64515991,"answer_count":3,"score":2,"last_activity_date":1701454127,"creation_date":1603291504,"question_id":64466093,"body_markdown":"I want to mock the following code snippet using Mockito.\r\n\r\n```\r\nFuture&lt;Optional&lt;List&lt;User&gt;&gt;&gt; getUser =\r\n       executorService.submit(() -&gt; userRepository.findById(user.getUserId()));\r\n\r\n```\r\n\r\nI have tried with the following code, but it didn&#39;t work\r\n\r\n```\r\n    @Mock\r\n    private ExecutorService executorService;\r\n\r\n    @Mock\r\n    private userRepository userRepository;\r\n\r\n    when(executorService.submit(() -&gt; userRepository.findById(USER_ID)))\r\n           .thenReturn(ConcurrentUtils.constantFuture(userList));\r\n```\r\nCan anyone give me a solution for this?","title":"How to mock ExecutorService call using Mockito","body":"<p>I want to mock the following code snippet using Mockito.</p>\n<pre><code>Future&lt;Optional&lt;List&lt;User&gt;&gt;&gt; getUser =\n       executorService.submit(() -&gt; userRepository.findById(user.getUserId()));\n\n</code></pre>\n<p>I have tried with the following code, but it didn't work</p>\n<pre><code>    @Mock\n    private ExecutorService executorService;\n\n    @Mock\n    private userRepository userRepository;\n\n    when(executorService.submit(() -&gt; userRepository.findById(USER_ID)))\n           .thenReturn(ConcurrentUtils.constantFuture(userList));\n</code></pre>\n<p>Can anyone give me a solution for this?</p>\n"},{"tags":["java","kotlin","value-class","kotlin-companion","kotlin-inline-class"],"answers":[{"comments":[{"owner":{"account_id":28297260,"reputation":768,"user_id":21636521,"display_name":"JanItor"},"score":0,"creation_date":1701452423,"post_id":77584087,"comment_id":136781559,"body_markdown":"Does the last Java code snippet actually run?","body":"Does the last Java code snippet actually run?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1701453338,"post_id":77584087,"comment_id":136781703,"body_markdown":"@JanItor Oh no. IntelliJ did its &quot;this code does not compile but I will not show any errors&quot; thing again. I&#39;m really surprised that Java can&#39;t see the value class *at all*. Answer edited to do this in another way.","body":"@JanItor Oh no. IntelliJ did its &quot;this code does not compile but I will not show any errors&quot; thing again. I&#39;m really surprised that Java can&#39;t see the value class <i>at all</i>. Answer edited to do this in another way."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701453231,"creation_date":1701421841,"answer_id":77584087,"question_id":77583417,"body_markdown":"`testValueClass` returns a `String` because that is *exactly* the point of value classes - they are inlined.\r\n\r\nThe whole point of value classes is that they are light-weight wrappers that has very little overhead. Kotlin tries very hard to *not* create instances of value classes. \r\n\r\nIn the JVM bytecode, value classes are replaced with the types they wrap, whenever possible, so that&#39;s why `testValueClass` returns a `String` as far as Java is concerned. The generated bytecode for `testValueClass` would be equivalent to `return &quot;test&quot;;`.\r\n\r\nIn Kotlin, you can still use members declared in `MyValueClass` even without creating an instance of `MyValueClass`:\r\n\r\n```\r\n@JvmInline\r\nvalue class MyValueClass internal constructor(val rawValue: String) {\r\n    fun foo() {}\r\n\r\n    // this actually generates a synthetic static method that does the same thing as foo:\r\n    // public static void fooImpl(String str) { }\r\n    // fooImpl is for demonstration purposes only, not the actual name of the method. \r\n}\r\n\r\nfun main(args: Array&lt;String&gt;) {\r\n    // this doesn&#39;t actually create an instance of MyValueClass under the hood\r\n    MyValueClass(&quot;Foo&quot;).foo()\r\n    // this is translated to a static method call:\r\n    // MyValueClass.fooImpl(&quot;Foo&quot;);\r\n}\r\n```\r\n\r\nRecommended reading: [Inline value classes][1] in the Kotlin documentation.\r\n\r\nIn Java, however, there is no such language feature. If you want to call the `foo` method, you have to introduce an interface in Kotlin through which `foo` can be called, and provide a method that returns that interface. By using an interface type as the return type, you force an instance of the value class to be created.\r\n\r\n```kotlin\r\ninterface MyValueClassInterface {\r\n    fun foo()\r\n}\r\n\r\n@JvmInline\r\nvalue class MyValueClass(val rawValue: String): MyValueClassInterface {\r\n    companion object {\r\n        // ...\r\n\r\n        @JvmStatic\r\n        @JvmName(&quot;box&quot;)\r\n        fun box(x: MyValueClass) = x as MyValueClassInterface\r\n    }\r\n\r\n    override fun foo() {\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nMyValueClassInterface bar = MyValueClass.box(\r\n        MyValueClass.Companion.myTestValueClass(&quot;Foo&quot;)\r\n);\r\n// now you can do\r\nbar.foo();\r\n```\r\n\r\nOf course, you can also write a separate version of `myTestValueClass` that directly returns the interface.\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/inline-classes.html","title":"How to use kotlin value class from java code?","body":"<p><code>testValueClass</code> returns a <code>String</code> because that is <em>exactly</em> the point of value classes - they are inlined.</p>\n<p>The whole point of value classes is that they are light-weight wrappers that has very little overhead. Kotlin tries very hard to <em>not</em> create instances of value classes.</p>\n<p>In the JVM bytecode, value classes are replaced with the types they wrap, whenever possible, so that's why <code>testValueClass</code> returns a <code>String</code> as far as Java is concerned. The generated bytecode for <code>testValueClass</code> would be equivalent to <code>return &quot;test&quot;;</code>.</p>\n<p>In Kotlin, you can still use members declared in <code>MyValueClass</code> even without creating an instance of <code>MyValueClass</code>:</p>\n<pre><code>@JvmInline\nvalue class MyValueClass internal constructor(val rawValue: String) {\n    fun foo() {}\n\n    // this actually generates a synthetic static method that does the same thing as foo:\n    // public static void fooImpl(String str) { }\n    // fooImpl is for demonstration purposes only, not the actual name of the method. \n}\n\nfun main(args: Array&lt;String&gt;) {\n    // this doesn't actually create an instance of MyValueClass under the hood\n    MyValueClass(&quot;Foo&quot;).foo()\n    // this is translated to a static method call:\n    // MyValueClass.fooImpl(&quot;Foo&quot;);\n}\n</code></pre>\n<p>Recommended reading: <a href=\"https://kotlinlang.org/docs/inline-classes.html\" rel=\"nofollow noreferrer\">Inline value classes</a> in the Kotlin documentation.</p>\n<p>In Java, however, there is no such language feature. If you want to call the <code>foo</code> method, you have to introduce an interface in Kotlin through which <code>foo</code> can be called, and provide a method that returns that interface. By using an interface type as the return type, you force an instance of the value class to be created.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>interface MyValueClassInterface {\n    fun foo()\n}\n\n@JvmInline\nvalue class MyValueClass(val rawValue: String): MyValueClassInterface {\n    companion object {\n        // ...\n\n        @JvmStatic\n        @JvmName(&quot;box&quot;)\n        fun box(x: MyValueClass) = x as MyValueClassInterface\n    }\n\n    override fun foo() {\n        // ...\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>MyValueClassInterface bar = MyValueClass.box(\n        MyValueClass.Companion.myTestValueClass(&quot;Foo&quot;)\n);\n// now you can do\nbar.foo();\n</code></pre>\n<p>Of course, you can also write a separate version of <code>myTestValueClass</code> that directly returns the interface.</p>\n"}],"owner":{"account_id":21376295,"reputation":1124,"user_id":15742980,"display_name":"testivanivan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77584087,"answer_count":1,"score":1,"last_activity_date":1701453231,"creation_date":1701412984,"question_id":77583417,"body_markdown":"I have kotlin value class: \r\n\r\n    @JvmInline\r\n    value class MyValueClass internal constructor(val rawValue: String) {\r\n        companion object {\r\n    \r\n            @JvmName(&quot;myTestValueClass&quot;)\r\n            fun String.testValueClass(): MyValueClass {\r\n                return MyValueClass(\r\n                    rawValue = &quot;test&quot;,\r\n                )\r\n            }\r\n        }\r\n    }\r\n\r\nAnd now I&#39;m trying to use my value class from java code. \r\n\r\n\r\n    MyValueClass test = MyValueClass.Companion.myTestValueClass(&quot;test&quot;);\r\n\r\n&gt; But I get error: Required MyValueClass provided String.\r\n\r\nWhy is this happening? Please, help me.","title":"How to use kotlin value class from java code?","body":"<p>I have kotlin value class:</p>\n<pre><code>@JvmInline\nvalue class MyValueClass internal constructor(val rawValue: String) {\n    companion object {\n\n        @JvmName(&quot;myTestValueClass&quot;)\n        fun String.testValueClass(): MyValueClass {\n            return MyValueClass(\n                rawValue = &quot;test&quot;,\n            )\n        }\n    }\n}\n</code></pre>\n<p>And now I'm trying to use my value class from java code.</p>\n<pre><code>MyValueClass test = MyValueClass.Companion.myTestValueClass(&quot;test&quot;);\n</code></pre>\n<blockquote>\n<p>But I get error: Required MyValueClass provided String.</p>\n</blockquote>\n<p>Why is this happening? Please, help me.</p>\n"},{"tags":["java","ftp","ftps","apache-commons-net","session-reuse"],"comments":[{"owner":{"account_id":7825546,"reputation":87,"user_id":5917176,"display_name":"Dhiraj Pandit"},"score":0,"creation_date":1517812514,"post_id":32398754,"comment_id":84230702,"body_markdown":"Please refer this link for details https://stackoverflow.com/questions/46631315/when-using-java-apache-ftpclient-for-ftp-tls-getting-remote-host-closed-connect/48616779#48616779","body":"Please refer this link for details <a href=\"https://stackoverflow.com/questions/46631315/when-using-java-apache-ftpclient-for-ftp-tls-getting-remote-host-closed-connect/48616779#48616779\" title=\"when using java apache ftpclient for ftp tls getting remote host closed connect\">stackoverflow.com/questions/46631315/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":0,"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1642142325,"creation_date":1441391233,"answer_id":32404418,"question_id":32398754,"body_markdown":"Indeed some FTP(S) servers do require that the TLS/SSL session is reused for the data connection. This is a security measure by which the server can verify that the data connection is used by the same client as the control connection.\r\n\r\nSome references for common FTP servers:\r\n\r\n- vsftpd: https://scarybeastsecurity.blogspot.com/2009/02/vsftpd-210-released.html\r\n- FileZilla server: https://svn.filezilla-project.org/filezilla?view=revision&amp;revision=6661\r\n- ProFTPD: http://www.proftpd.org/docs/contrib/mod_tls.html#TLSOptions (`NoSessionReuseRequired` directive)\r\n\r\n---\r\n\r\nWhat may help you with the implementation is that Cyberduck FTP(S) client does support TLS/SSL session reuse and it uses Apache Commons Net library:\r\n\r\n- https://github.com/iterate-ch/cyberduck/issues/5087 – Reuse Session key on data connection\r\n\r\n- See its [`FTPClient.java`](https://github.com/iterate-ch/cyberduck/blob/master/ftp/src/main/java/ch/cyberduck/core/ftp/FTPClient.java) code (extends Commons Net `FTPSClient`), particularly its [override of `_prepareDataSocket_` method](https://github.com/iterate-ch/cyberduck/blob/d4bd187f89ff7c0a2966a7eef67ca6906c4f2b05/ftp/src/main/java/ch/cyberduck/core/ftp/FTPClient.java#L89):\r\n\r\n    &lt;!-- --&gt;\r\n    &lt;!-- --&gt;\r\n\r\n       @Override\r\n       protected void _prepareDataSocket_(final Socket socket) {\r\n           if(preferences.getBoolean(&quot;ftp.tls.session.requirereuse&quot;)) {\r\n               if(socket instanceof SSLSocket) {\r\n                   // Control socket is SSL\r\n                   final SSLSession session = ((SSLSocket) _socket_).getSession();\r\n                   if(session.isValid()) {\r\n                       final SSLSessionContext context = session.getSessionContext();\r\n                       context.setSessionCacheSize(preferences.getInteger(&quot;ftp.ssl.session.cache.size&quot;));\r\n                       try {\r\n                           final Field sessionHostPortCache = context.getClass().getDeclaredField(&quot;sessionHostPortCache&quot;);\r\n                           sessionHostPortCache.setAccessible(true);\r\n                           final Object cache = sessionHostPortCache.get(context);\r\n                           final Method putMethod = cache.getClass().getDeclaredMethod(&quot;put&quot;, Object.class, Object.class);\r\n                           putMethod.setAccessible(true);\r\n                           Method getHostMethod;\r\n                           try {\r\n                               getHostMethod = socket.getClass().getMethod(&quot;getPeerHost&quot;);\r\n                           }\r\n                           catch(NoSuchMethodException e) {\r\n                               // Running in IKVM\r\n                               getHostMethod = socket.getClass().getDeclaredMethod(&quot;getHost&quot;);\r\n                           }\r\n                           getHostMethod.setAccessible(true);\r\n                           Object peerHost = getHostMethod.invoke(socket);\r\n                           putMethod.invoke(cache, String.format(&quot;%s:%s&quot;, peerHost, socket.getPort()).toLowerCase(Locale.ROOT), session);\r\n                       }\r\n                       catch(NoSuchFieldException e) {\r\n                           // Not running in expected JRE\r\n                           log.warn(&quot;No field sessionHostPortCache in SSLSessionContext&quot;, e);\r\n                       }\r\n                       catch(Exception e) {\r\n                           // Not running in expected JRE\r\n                           log.warn(e.getMessage());\r\n                       }\r\n                   }\r\n                   else {\r\n                       log.warn(String.format(&quot;SSL session %s for socket %s is not rejoinable&quot;, session, socket));\r\n                   }\r\n               }\r\n           }\r\n       }\r\n- It seems that the `_prepareDataSocket_` method was added to Commons Net `FTPSClient` specifically to allow the TLS/SSL session reuse implementation:   \r\n    https://issues.apache.org/jira/browse/NET-426\r\n\r\n    A native support for the reuse is still pending:  \r\n    https://issues.apache.org/jira/browse/NET-408 \r\n\r\n- You will obviously need to override the Spring Integration `DefaultFtpsSessionFactory.createClientInstance()` to return your custom `FTPSClient` implementation with the session reuse support.\r\n\r\n---\r\n\r\nThe above solution does not work on its own anymore since JDK 8u161.\r\n\r\nAccording to [JDK 8u161 Update Release Notes](https://www.oracle.com/java/technologies/javase/8u161-relnotes.html) (and the [answer by @Laurent](https://stackoverflow.com/q/32398754/850848#49132702)):\r\n\r\n&gt; **Added TLS session hash and extended master secret extension support**  \r\n&gt; ...  \r\n&gt; In case of compatibility issues, an application may disable negotiation of this extension by setting the System Property `jdk.tls.useExtendedMasterSecret` to `false` in the JDK\r\n\r\nI.e., you can call this to fix the problem (you still need to override the `_prepareDataSocket_`):\r\n\r\n    System.setProperty(&quot;jdk.tls.useExtendedMasterSecret&quot;, &quot;false&quot;);\r\n\r\nThough this should be a considered a workaround only. I do not know a proper solution.\r\n\r\n---\r\n\r\nAn alternative implementation is here:  \r\nhttps://issues.apache.org/jira/browse/NET-408\r\n\r\n---\r\n\r\nThere&#39;s a separate question about problems in 1.8.0_161:  \r\nhttps://stackoverflow.com/q/49257998/850848\r\n\r\n---\r\n\r\n*I actually had [the same problem](https://stackoverflow.com/q/7786352/850848) in the past (just in C++/OpenSSL, I do not do Java), so I knew what to google for.*","title":"How to connect to FTPS server with data connection using same TLS session?","body":"<p>Indeed some FTP(S) servers do require that the TLS/SSL session is reused for the data connection. This is a security measure by which the server can verify that the data connection is used by the same client as the control connection.</p>\n<p>Some references for common FTP servers:</p>\n<ul>\n<li>vsftpd: <a href=\"https://scarybeastsecurity.blogspot.com/2009/02/vsftpd-210-released.html\" rel=\"noreferrer\">https://scarybeastsecurity.blogspot.com/2009/02/vsftpd-210-released.html</a></li>\n<li>FileZilla server: <a href=\"https://svn.filezilla-project.org/filezilla?view=revision&amp;revision=6661\" rel=\"noreferrer\">https://svn.filezilla-project.org/filezilla?view=revision&amp;revision=6661</a></li>\n<li>ProFTPD: <a href=\"http://www.proftpd.org/docs/contrib/mod_tls.html#TLSOptions\" rel=\"noreferrer\">http://www.proftpd.org/docs/contrib/mod_tls.html#TLSOptions</a> (<code>NoSessionReuseRequired</code> directive)</li>\n</ul>\n<hr />\n<p>What may help you with the implementation is that Cyberduck FTP(S) client does support TLS/SSL session reuse and it uses Apache Commons Net library:</p>\n<ul>\n<li><p><a href=\"https://github.com/iterate-ch/cyberduck/issues/5087\" rel=\"noreferrer\">https://github.com/iterate-ch/cyberduck/issues/5087</a> – Reuse Session key on data connection</p>\n</li>\n<li><p>See its <a href=\"https://github.com/iterate-ch/cyberduck/blob/master/ftp/src/main/java/ch/cyberduck/core/ftp/FTPClient.java\" rel=\"noreferrer\"><code>FTPClient.java</code></a> code (extends Commons Net <code>FTPSClient</code>), particularly its <a href=\"https://github.com/iterate-ch/cyberduck/blob/d4bd187f89ff7c0a2966a7eef67ca6906c4f2b05/ftp/src/main/java/ch/cyberduck/core/ftp/FTPClient.java#L89\" rel=\"noreferrer\">override of <code>_prepareDataSocket_</code> method</a>:</p>\n  \n  \n<pre><code> @Override\n protected void _prepareDataSocket_(final Socket socket) {\n     if(preferences.getBoolean(&quot;ftp.tls.session.requirereuse&quot;)) {\n         if(socket instanceof SSLSocket) {\n             // Control socket is SSL\n             final SSLSession session = ((SSLSocket) _socket_).getSession();\n             if(session.isValid()) {\n                 final SSLSessionContext context = session.getSessionContext();\n                 context.setSessionCacheSize(preferences.getInteger(&quot;ftp.ssl.session.cache.size&quot;));\n                 try {\n                     final Field sessionHostPortCache = context.getClass().getDeclaredField(&quot;sessionHostPortCache&quot;);\n                     sessionHostPortCache.setAccessible(true);\n                     final Object cache = sessionHostPortCache.get(context);\n                     final Method putMethod = cache.getClass().getDeclaredMethod(&quot;put&quot;, Object.class, Object.class);\n                     putMethod.setAccessible(true);\n                     Method getHostMethod;\n                     try {\n                         getHostMethod = socket.getClass().getMethod(&quot;getPeerHost&quot;);\n                     }\n                     catch(NoSuchMethodException e) {\n                         // Running in IKVM\n                         getHostMethod = socket.getClass().getDeclaredMethod(&quot;getHost&quot;);\n                     }\n                     getHostMethod.setAccessible(true);\n                     Object peerHost = getHostMethod.invoke(socket);\n                     putMethod.invoke(cache, String.format(&quot;%s:%s&quot;, peerHost, socket.getPort()).toLowerCase(Locale.ROOT), session);\n                 }\n                 catch(NoSuchFieldException e) {\n                     // Not running in expected JRE\n                     log.warn(&quot;No field sessionHostPortCache in SSLSessionContext&quot;, e);\n                 }\n                 catch(Exception e) {\n                     // Not running in expected JRE\n                     log.warn(e.getMessage());\n                 }\n             }\n             else {\n                 log.warn(String.format(&quot;SSL session %s for socket %s is not rejoinable&quot;, session, socket));\n             }\n         }\n     }\n }\n</code></pre>\n</li>\n<li><p>It seems that the <code>_prepareDataSocket_</code> method was added to Commons Net <code>FTPSClient</code> specifically to allow the TLS/SSL session reuse implementation:<br />\n<a href=\"https://issues.apache.org/jira/browse/NET-426\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/NET-426</a></p>\n<p>A native support for the reuse is still pending:<br />\n<a href=\"https://issues.apache.org/jira/browse/NET-408\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/NET-408</a></p>\n</li>\n<li><p>You will obviously need to override the Spring Integration <code>DefaultFtpsSessionFactory.createClientInstance()</code> to return your custom <code>FTPSClient</code> implementation with the session reuse support.</p>\n</li>\n</ul>\n<hr />\n<p>The above solution does not work on its own anymore since JDK 8u161.</p>\n<p>According to <a href=\"https://www.oracle.com/java/technologies/javase/8u161-relnotes.html\" rel=\"noreferrer\">JDK 8u161 Update Release Notes</a> (and the <a href=\"https://stackoverflow.com/q/32398754/850848#49132702\">answer by @Laurent</a>):</p>\n<blockquote>\n<p><strong>Added TLS session hash and extended master secret extension support</strong><br />\n...<br />\nIn case of compatibility issues, an application may disable negotiation of this extension by setting the System Property <code>jdk.tls.useExtendedMasterSecret</code> to <code>false</code> in the JDK</p>\n</blockquote>\n<p>I.e., you can call this to fix the problem (you still need to override the <code>_prepareDataSocket_</code>):</p>\n<pre><code>System.setProperty(&quot;jdk.tls.useExtendedMasterSecret&quot;, &quot;false&quot;);\n</code></pre>\n<p>Though this should be a considered a workaround only. I do not know a proper solution.</p>\n<hr />\n<p>An alternative implementation is here:<br />\n<a href=\"https://issues.apache.org/jira/browse/NET-408\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/NET-408</a></p>\n<hr />\n<p>There's a separate question about problems in 1.8.0_161:<br />\n<a href=\"https://stackoverflow.com/q/49257998/850848\">SSL Session reuse in Apache FTPS client in JDK 8u161</a></p>\n<hr />\n<p><em>I actually had <a href=\"https://stackoverflow.com/q/7786352/850848\">the same problem</a> in the past (just in C++/OpenSSL, I do not do Java), so I knew what to google for.</em></p>\n"},{"tags":[],"owner":{"account_id":7603926,"reputation":1604,"user_id":5767484,"display_name":"NotX"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474831431,"creation_date":1474831431,"answer_id":39690887,"question_id":32398754,"body_markdown":"To make Martin Prikryl&#39;s suggestion work for me I had to store the key not only under `socket.getInetAddress().getHostName()` but also under `socket.getInetAddress().getHostAddress()`.\r\n(Solution stolen from [here][1].)\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/NET-426?focusedCommentId=15284248&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15284248","title":"How to connect to FTPS server with data connection using same TLS session?","body":"<p>To make Martin Prikryl's suggestion work for me I had to store the key not only under <code>socket.getInetAddress().getHostName()</code> but also under <code>socket.getInetAddress().getHostAddress()</code>.\n(Solution stolen from <a href=\"https://issues.apache.org/jira/browse/NET-426?focusedCommentId=15284248&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15284248\" rel=\"nofollow\">here</a>.)</p>\n"},{"comments":[{"owner":{"account_id":256787,"reputation":3837,"user_id":537738,"accept_rate":70,"display_name":"David"},"score":0,"creation_date":1520951613,"post_id":49132702,"comment_id":85520781,"body_markdown":"Setting this property works! Thank you for pointing this out!","body":"Setting this property works! Thank you for pointing this out!"},{"owner":{"account_id":10418444,"reputation":736,"user_id":7681784,"display_name":"WaLinke"},"score":0,"creation_date":1548244181,"post_id":49132702,"comment_id":95471385,"body_markdown":"Can you explain me how to make it work ? \nI replace FTPSClient by SSLReuseSessionFTPSClient but it doesn&#39;t change anything","body":"Can you explain me how to make it work ?  I replace FTPSClient by SSLReuseSessionFTPSClient but it doesn&#39;t change anything"},{"owner":{"account_id":10869406,"reputation":393,"user_id":7996068,"display_name":"Laurent Grousset"},"score":0,"creation_date":1548246038,"post_id":49132702,"comment_id":95472348,"body_markdown":"@WaLinke this should work, have you set the system property ?\n\n`SSLSessionReuseFTPSClient ftpsClient = null;\n\t\ttry {\n\t\t\tftpsClient = new SSLSessionReuseFTPSClient();\n\t\t\tftpsClient.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.out), true));\n\t\t\t...`","body":"@WaLinke this should work, have you set the system property ?  <code>SSLSessionReuseFTPSClient ftpsClient = null; \t\ttry { \t\t\tftpsClient = new SSLSessionReuseFTPSClient(); \t\t\tftpsClient.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.out), true)); \t\t\t...</code>"},{"owner":{"account_id":10418444,"reputation":736,"user_id":7681784,"display_name":"WaLinke"},"score":0,"creation_date":1548250317,"post_id":49132702,"comment_id":95474799,"body_markdown":"Thanks for your reply, I tried this : https://www.noelshack.com/2019-04-3-1548249527-ftpsclientproblem.png\nBut it ended the same way as FTPSClient did. I Can&#39;t figure out how to make it works.","body":"Thanks for your reply, I tried this : <a href=\"https://www.noelshack.com/2019-04-3-1548249527-ftpsclientproblem.png\" rel=\"nofollow noreferrer\">noelshack.com/2019-04-3-1548249527-ftpsclientproblem.png</a> But it ended the same way as FTPSClient did. I Can&#39;t figure out how to make it works."},{"owner":{"account_id":10418444,"reputation":736,"user_id":7681784,"display_name":"WaLinke"},"score":0,"creation_date":1548251346,"post_id":49132702,"comment_id":95475459,"body_markdown":"I added a breakpoint into _prepareDataSocket_ method but it seems like my code doesn&#39;t go into it","body":"I added a breakpoint into <i>prepareDataSocket</i> method but it seems like my code doesn&#39;t go into it"}],"tags":[],"owner":{"account_id":10869406,"reputation":393,"user_id":7996068,"display_name":"Laurent Grousset"},"comment_count":5,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1520345074,"creation_date":1520345074,"answer_id":49132702,"question_id":32398754,"body_markdown":"You can use this SSLSessionReuseFTPSClient class :\r\n\r\n    import java.io.IOException;\r\n    import java.lang.reflect.Field;\r\n    import java.lang.reflect.Method;\r\n    import java.net.Socket;\r\n    import java.util.Locale;\r\n    \r\n    import javax.net.ssl.SSLSession;\r\n    import javax.net.ssl.SSLSessionContext;\r\n    import javax.net.ssl.SSLSocket;\r\n    \r\n    import org.apache.commons.net.ftp.FTPSClient;\r\n    \r\n    public class SSLSessionReuseFTPSClient extends FTPSClient {\r\n    \r\n    \t// adapted from:\r\n    \t// https://trac.cyberduck.io/browser/trunk/ftp/src/main/java/ch/cyberduck/core/ftp/FTPClient.java\r\n    \t@Override\r\n    \tprotected void _prepareDataSocket_(final Socket socket) throws IOException {\r\n    \t\tif (socket instanceof SSLSocket) {\r\n    \t\t\t// Control socket is SSL\r\n    \t\t\tfinal SSLSession session = ((SSLSocket) _socket_).getSession();\r\n    \t\t\tif (session.isValid()) {\r\n    \t\t\t\tfinal SSLSessionContext context = session.getSessionContext();\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tfinal Field sessionHostPortCache = context.getClass().getDeclaredField(&quot;sessionHostPortCache&quot;);\r\n    \t\t\t\t\tsessionHostPortCache.setAccessible(true);\r\n    \t\t\t\t\tfinal Object cache = sessionHostPortCache.get(context);\r\n    \t\t\t\t\tfinal Method method = cache.getClass().getDeclaredMethod(&quot;put&quot;, Object.class, Object.class);\r\n    \t\t\t\t\tmethod.setAccessible(true);\r\n    \t\t\t\t\tmethod.invoke(cache, String\r\n    \t\t\t\t\t\t\t.format(&quot;%s:%s&quot;, socket.getInetAddress().getHostName(), String.valueOf(socket.getPort()))\r\n    \t\t\t\t\t\t\t.toLowerCase(Locale.ROOT), session);\r\n    \t\t\t\t\tmethod.invoke(cache, String\r\n    \t\t\t\t\t\t\t.format(&quot;%s:%s&quot;, socket.getInetAddress().getHostAddress(), String.valueOf(socket.getPort()))\r\n    \t\t\t\t\t\t\t.toLowerCase(Locale.ROOT), session);\r\n    \t\t\t\t} catch (NoSuchFieldException e) {\r\n    \t\t\t\t\tthrow new IOException(e);\r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\tthrow new IOException(e);\r\n    \t\t\t\t}\r\n    \t\t\t} else {\r\n    \t\t\t\tthrow new IOException(&quot;Invalid SSL Session&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nAnd With openJDK 1.8.0_161 : \t\t\r\n\r\nWe must set : \r\n\r\n    System.setProperty(&quot;jdk.tls.useExtendedMasterSecret&quot;, &quot;false&quot;);\r\n\r\naccording to \r\nhttp://www.oracle.com/technetwork/java/javase/8u161-relnotes-4021379.html\r\n\r\nAdded TLS session hash and extended master secret extension support \r\n\r\nIn case of compatibility issues, an application may disable negotiation of this extension by setting the System Property jdk.tls.useExtendedMasterSecret to false in the JDK","title":"How to connect to FTPS server with data connection using same TLS session?","body":"<p>You can use this SSLSessionReuseFTPSClient class :</p>\n\n<pre><code>import java.io.IOException;\nimport java.lang.reflect.Field;\nimport java.lang.reflect.Method;\nimport java.net.Socket;\nimport java.util.Locale;\n\nimport javax.net.ssl.SSLSession;\nimport javax.net.ssl.SSLSessionContext;\nimport javax.net.ssl.SSLSocket;\n\nimport org.apache.commons.net.ftp.FTPSClient;\n\npublic class SSLSessionReuseFTPSClient extends FTPSClient {\n\n    // adapted from:\n    // https://trac.cyberduck.io/browser/trunk/ftp/src/main/java/ch/cyberduck/core/ftp/FTPClient.java\n    @Override\n    protected void _prepareDataSocket_(final Socket socket) throws IOException {\n        if (socket instanceof SSLSocket) {\n            // Control socket is SSL\n            final SSLSession session = ((SSLSocket) _socket_).getSession();\n            if (session.isValid()) {\n                final SSLSessionContext context = session.getSessionContext();\n                try {\n                    final Field sessionHostPortCache = context.getClass().getDeclaredField(\"sessionHostPortCache\");\n                    sessionHostPortCache.setAccessible(true);\n                    final Object cache = sessionHostPortCache.get(context);\n                    final Method method = cache.getClass().getDeclaredMethod(\"put\", Object.class, Object.class);\n                    method.setAccessible(true);\n                    method.invoke(cache, String\n                            .format(\"%s:%s\", socket.getInetAddress().getHostName(), String.valueOf(socket.getPort()))\n                            .toLowerCase(Locale.ROOT), session);\n                    method.invoke(cache, String\n                            .format(\"%s:%s\", socket.getInetAddress().getHostAddress(), String.valueOf(socket.getPort()))\n                            .toLowerCase(Locale.ROOT), session);\n                } catch (NoSuchFieldException e) {\n                    throw new IOException(e);\n                } catch (Exception e) {\n                    throw new IOException(e);\n                }\n            } else {\n                throw new IOException(\"Invalid SSL Session\");\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>And With openJDK 1.8.0_161 :        </p>\n\n<p>We must set : </p>\n\n<pre><code>System.setProperty(\"jdk.tls.useExtendedMasterSecret\", \"false\");\n</code></pre>\n\n<p>according to \n<a href=\"http://www.oracle.com/technetwork/java/javase/8u161-relnotes-4021379.html\" rel=\"noreferrer\">http://www.oracle.com/technetwork/java/javase/8u161-relnotes-4021379.html</a></p>\n\n<p>Added TLS session hash and extended master secret extension support </p>\n\n<p>In case of compatibility issues, an application may disable negotiation of this extension by setting the System Property jdk.tls.useExtendedMasterSecret to false in the JDK</p>\n"},{"tags":[],"owner":{"account_id":15774588,"reputation":320,"user_id":11382637,"display_name":"AllinProgram"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600227082,"creation_date":1600227082,"answer_id":63912711,"question_id":32398754,"body_markdown":"@Martin Prikryl&#39;s answer helped me.\r\n\r\nAccording to my practice, it is worth mentioning that If you used \r\n\r\n`System.setProperty(&quot;jdk.tls.useExtendedMasterSecret&quot;, &quot;false&quot;);`\r\n\r\nand it doesn&#39;t work, you can try JVM parameters of the same function:\r\n\r\n`-Djdk.tls.useExtendedMasterSecret=false`.\r\n\r\nHope to help you.\r\n\r\n","title":"How to connect to FTPS server with data connection using same TLS session?","body":"<p>@Martin Prikryl's answer helped me.</p>\n<p>According to my practice, it is worth mentioning that If you used</p>\n<p><code>System.setProperty(&quot;jdk.tls.useExtendedMasterSecret&quot;, &quot;false&quot;);</code></p>\n<p>and it doesn't work, you can try JVM parameters of the same function:</p>\n<p><code>-Djdk.tls.useExtendedMasterSecret=false</code>.</p>\n<p>Hope to help you.</p>\n"},{"tags":[],"owner":{"account_id":92774,"reputation":153,"user_id":254094,"display_name":"mmm444"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701452146,"creation_date":1701452146,"answer_id":77587106,"question_id":32398754,"body_markdown":"If you can afford adding Bouncy Castle TLS `org.bouncycastle:bctls-jdk18on` as a dependency then you can try the following solution that avoids reflection and setting global properties:\r\n\r\n    class FTPSClientWithResumeBC extends FTPSClient {\r\n    \tstatic {\r\n    \t\tSecurity.addProvider(new BouncyCastleJsseProvider());\r\n    \t}\r\n    \r\n    \tpublic FTPSClientWithResumeBC() {\r\n    \t\tsuper(createSslContext());\r\n    \t}\r\n    \r\n    \tprivate static SSLContext createSslContext() {\r\n    \t\ttry {\r\n    \t\t\t// doesn&#39;t work with TLSv1.3\r\n    \t\t\tSSLContext sslContext = SSLContext.getInstance(&quot;TLSv1.2&quot;, &quot;BCJSSE&quot;);\r\n    \t\t\tsslContext.init(null, new TrustManager[]{TrustManagerUtils.getValidateServerCertificateTrustManager()}, new SecureRandom()); // 1\r\n    \t\t\treturn sslContext;\r\n    \t\t} catch (NoSuchAlgorithmException | NoSuchProviderException | KeyManagementException e) {\r\n    \t\t\tthrow new RuntimeException(&quot;Cannot create SSL context.&quot;, e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void _connectAction_() throws IOException {\r\n    \t\tsuper._connectAction_();\r\n    \t\texecPBSZ(0);\r\n    \t\texecPROT(&quot;P&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void _prepareDataSocket_(Socket dataSocket) {\r\n    \t\tif (_socket_ instanceof BCSSLSocket sslSocket) {\r\n    \t\t\tBCExtendedSSLSession bcSession = sslSocket.getBCSession();\r\n    \t\t\tif (bcSession != null &amp;&amp; bcSession.isValid() &amp;&amp; dataSocket instanceof BCSSLSocket dataSslSocket) {\r\n    \t\t\t\tdataSslSocket.setBCSessionToResume(bcSession); // 2\r\n    \t\t\t\tdataSslSocket.setHost(bcSession.getPeerHost()); // 3\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nNotes:\r\n * worked for me™ with `org.bouncycastle:bctls-jdk18on:1.77`, `commons-net:commons-net:3.10.0` and FileZilla Server 1.7.3\r\n * BouncyCastle TLS implementation has support for resuming a session - used on line marked with 2\r\n * line marked with 3 was required for one of my testing servers, it required SNI to be present in the ClientHello of the data connection (and `FTPSClient` did not do that by itself)\r\n * initialization on line marked 1 is similar to what `FTPSClient` does by default, you may need to adjust it to suit your needs\r\n * I am no expert on SSL nor FTPS so take the answer with some caution\r\n","title":"How to connect to FTPS server with data connection using same TLS session?","body":"<p>If you can afford adding Bouncy Castle TLS <code>org.bouncycastle:bctls-jdk18on</code> as a dependency then you can try the following solution that avoids reflection and setting global properties:</p>\n<pre><code>class FTPSClientWithResumeBC extends FTPSClient {\n    static {\n        Security.addProvider(new BouncyCastleJsseProvider());\n    }\n\n    public FTPSClientWithResumeBC() {\n        super(createSslContext());\n    }\n\n    private static SSLContext createSslContext() {\n        try {\n            // doesn't work with TLSv1.3\n            SSLContext sslContext = SSLContext.getInstance(&quot;TLSv1.2&quot;, &quot;BCJSSE&quot;);\n            sslContext.init(null, new TrustManager[]{TrustManagerUtils.getValidateServerCertificateTrustManager()}, new SecureRandom()); // 1\n            return sslContext;\n        } catch (NoSuchAlgorithmException | NoSuchProviderException | KeyManagementException e) {\n            throw new RuntimeException(&quot;Cannot create SSL context.&quot;, e);\n        }\n    }\n\n    @Override\n    protected void _connectAction_() throws IOException {\n        super._connectAction_();\n        execPBSZ(0);\n        execPROT(&quot;P&quot;);\n    }\n\n    @Override\n    protected void _prepareDataSocket_(Socket dataSocket) {\n        if (_socket_ instanceof BCSSLSocket sslSocket) {\n            BCExtendedSSLSession bcSession = sslSocket.getBCSession();\n            if (bcSession != null &amp;&amp; bcSession.isValid() &amp;&amp; dataSocket instanceof BCSSLSocket dataSslSocket) {\n                dataSslSocket.setBCSessionToResume(bcSession); // 2\n                dataSslSocket.setHost(bcSession.getPeerHost()); // 3\n            }\n        }\n    }\n}\n</code></pre>\n<p>Notes:</p>\n<ul>\n<li>worked for me™ with <code>org.bouncycastle:bctls-jdk18on:1.77</code>, <code>commons-net:commons-net:3.10.0</code> and FileZilla Server 1.7.3</li>\n<li>BouncyCastle TLS implementation has support for resuming a session - used on line marked with 2</li>\n<li>line marked with 3 was required for one of my testing servers, it required SNI to be present in the ClientHello of the data connection (and <code>FTPSClient</code> did not do that by itself)</li>\n<li>initialization on line marked 1 is similar to what <code>FTPSClient</code> does by default, you may need to adjust it to suit your needs</li>\n<li>I am no expert on SSL nor FTPS so take the answer with some caution</li>\n</ul>\n"}],"owner":{"display_name":"user65839"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29566,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":32404418,"answer_count":5,"score":27,"last_activity_date":1701452146,"creation_date":1441371662,"question_id":32398754,"body_markdown":"Environment: I&#39;m using Sun Java JDK 1.8.0_60 on 64-bit Windows 7, using Spring Integration 4.1.6 (which internally appears to use Apache Commons Net 3.3 for FTPS access).\r\n\r\nI&#39;m attempting to integrate with our application an automatic download from our client&#39;s FTPS server. I&#39;ve done so successfully with SFTP servers using Spring Integration without any trouble for other clients without issues, but this is the first time a client has required us to use FTPS, and getting it to connect has been very puzzling. While in my real application I&#39;m configuring Spring Integration using XML beans, to try to understand what&#39;s not working I&#39;m using the following test code (though I&#39;m anonymizing the actual host/username/password here):\r\n\r\n    final DefaultFtpsSessionFactory sessionFactory = new DefaultFtpsSessionFactory();\r\n    sessionFactory.setHost(&quot;XXXXXXXXX&quot;);\r\n    sessionFactory.setPort(990);\r\n    sessionFactory.setUsername(&quot;XXXXXXX&quot;);\r\n    sessionFactory.setPassword(&quot;XXXXXXX&quot;);\r\n    sessionFactory.setClientMode(2);\r\n    sessionFactory.setFileType(2);\r\n    sessionFactory.setUseClientMode(true);\r\n    sessionFactory.setImplicit(true);\r\n    sessionFactory.setTrustManager(TrustManagerUtils.getAcceptAllTrustManager());\r\n    sessionFactory.setProt(&quot;P&quot;);\r\n    sessionFactory.setProtocol(&quot;TLSv1.2&quot;);\r\n    sessionFactory.setProtocols(new String[]{&quot;TLSv1.2&quot;});\r\n    sessionFactory.setSessionCreation(true);\r\n    sessionFactory.setCipherSuites(new String[]{&quot;TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256&quot;});\r\n\r\n    final FtpSession session = sessionFactory.getSession();\r\n    //try {\r\n        final FTPFile[] ftpFiles = session.list(&quot;/&quot;);\r\n        logger.debug(&quot;FtpFiles: {}&quot;, (Object[]) ftpFiles);\r\n    //} catch (Exception ignored ) {}\r\n    session.close();\r\n\r\nI&#39;m running this code with `-Djavax.net.debug=all` to get all the TLS debugging information printed.\r\n\r\nThe main &quot;control&quot; connection to the FTPS server works fine, but when it tries to open the data connection for the list (or any other data connection I&#39;ve tried), I get a `javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake`, caused by `java.io.EOFException: SSL peer shut down incorrectly`. If I uncomment the swallowing-exceptions catch block around the `session.list` command, then I can see (though the javax.net.debug output) that the server sent the following message after rejecting the data connection SSL handshake: \r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    main, READ: TLSv1.2 Application Data, length = 129\r\n    Padded plaintext after DECRYPTION:  len = 105\r\n    0000: 34 35 30 20 54 4C 53 20   73 65 73 73 69 6F 6E 20  450 TLS session \r\n    0010: 6F 66 20 64 61 74 61 20   63 6F 6E 6E 65 63 74 69  of data connecti\r\n    0020: 6F 6E 20 68 61 73 20 6E   6F 74 20 72 65 73 75 6D  on has not resum\r\n    0030: 65 64 20 6F 72 20 74 68   65 20 73 65 73 73 69 6F  ed or the sessio\r\n    0040: 6E 20 64 6F 65 73 20 6E   6F 74 20 6D 61 74 63 68  n does not match\r\n    0050: 20 74 68 65 20 63 6F 6E   74 72 6F 6C 20 63 6F 6E   the control con\r\n    0060: 6E 65 63 74 69 6F 6E 0D   0A                       nection..\r\n\r\nWhat appears to be happening (and this is my first time dealing with FTPS, though I&#39;ve dealt with plain FTP before) is that the way the server ensures authentication and encryption over both the control and data connections is that after a &quot;normal&quot; TLS connection to establish the control connection and authentication happens there, each data connection requires the client to connect with the same TLS session. This makes sense to me as how it&#39;s supposed to be work, but the Apache Commons Net FTPS implementation doesn&#39;t seem to be doing that. It seems to be trying to establish a new TLS session, and so the server is rejecting the attempt.\r\n\r\nBased on [this question about resuming SSL sessions in JSSE](https://stackoverflow.com/q/10605062/65839), it appears that Java assumes or requires a different session for each host/post combination. My hypothesis is that since the FTPS data connection is on a different port than the control connection, it&#39;s not finding the existing session and is trying to establish a new one, so the connection fails.\r\n\r\nI see three main possibilities:\r\n\r\n1. The server is not following the FTPS standard in requiring the same TLS session on the data port as on the control port. I can connect to the server fine (using the same host/user/password as I&#39;m trying to use in my code) using FileZilla 3.13.1. The server identifies itself as &quot;FileZilla Server 0.9.53 beta&quot; upon login, so perhaps this is some sort of proprietary FileZilla way of doing things, and there&#39;s something odd I need to do to convince Java to use the same TLS session.\r\n2. The Apache Commons Net client doesn&#39;t actually follow the FTPS standard, and only allows some subset that doesn&#39;t allow for securing the data connections. This would seem odd, as it appears to be the standard way of connecting to FTPS from within Java.\r\n3. I&#39;m completely missing something and misdiagnosing this.\r\n\r\nI&#39;d appreciate any direction you can provide as to how to connect to this kind of FTPS server. Thank you.","title":"How to connect to FTPS server with data connection using same TLS session?","body":"<p>Environment: I'm using Sun Java JDK 1.8.0_60 on 64-bit Windows 7, using Spring Integration 4.1.6 (which internally appears to use Apache Commons Net 3.3 for FTPS access).</p>\n\n<p>I'm attempting to integrate with our application an automatic download from our client's FTPS server. I've done so successfully with SFTP servers using Spring Integration without any trouble for other clients without issues, but this is the first time a client has required us to use FTPS, and getting it to connect has been very puzzling. While in my real application I'm configuring Spring Integration using XML beans, to try to understand what's not working I'm using the following test code (though I'm anonymizing the actual host/username/password here):</p>\n\n<pre><code>final DefaultFtpsSessionFactory sessionFactory = new DefaultFtpsSessionFactory();\nsessionFactory.setHost(\"XXXXXXXXX\");\nsessionFactory.setPort(990);\nsessionFactory.setUsername(\"XXXXXXX\");\nsessionFactory.setPassword(\"XXXXXXX\");\nsessionFactory.setClientMode(2);\nsessionFactory.setFileType(2);\nsessionFactory.setUseClientMode(true);\nsessionFactory.setImplicit(true);\nsessionFactory.setTrustManager(TrustManagerUtils.getAcceptAllTrustManager());\nsessionFactory.setProt(\"P\");\nsessionFactory.setProtocol(\"TLSv1.2\");\nsessionFactory.setProtocols(new String[]{\"TLSv1.2\"});\nsessionFactory.setSessionCreation(true);\nsessionFactory.setCipherSuites(new String[]{\"TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\"});\n\nfinal FtpSession session = sessionFactory.getSession();\n//try {\n    final FTPFile[] ftpFiles = session.list(\"/\");\n    logger.debug(\"FtpFiles: {}\", (Object[]) ftpFiles);\n//} catch (Exception ignored ) {}\nsession.close();\n</code></pre>\n\n<p>I'm running this code with <code>-Djavax.net.debug=all</code> to get all the TLS debugging information printed.</p>\n\n<p>The main \"control\" connection to the FTPS server works fine, but when it tries to open the data connection for the list (or any other data connection I've tried), I get a <code>javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake</code>, caused by <code>java.io.EOFException: SSL peer shut down incorrectly</code>. If I uncomment the swallowing-exceptions catch block around the <code>session.list</code> command, then I can see (though the javax.net.debug output) that the server sent the following message after rejecting the data connection SSL handshake: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>main, READ: TLSv1.2 Application Data, length = 129\nPadded plaintext after DECRYPTION:  len = 105\n0000: 34 35 30 20 54 4C 53 20   73 65 73 73 69 6F 6E 20  450 TLS session \n0010: 6F 66 20 64 61 74 61 20   63 6F 6E 6E 65 63 74 69  of data connecti\n0020: 6F 6E 20 68 61 73 20 6E   6F 74 20 72 65 73 75 6D  on has not resum\n0030: 65 64 20 6F 72 20 74 68   65 20 73 65 73 73 69 6F  ed or the sessio\n0040: 6E 20 64 6F 65 73 20 6E   6F 74 20 6D 61 74 63 68  n does not match\n0050: 20 74 68 65 20 63 6F 6E   74 72 6F 6C 20 63 6F 6E   the control con\n0060: 6E 65 63 74 69 6F 6E 0D   0A                       nection..\n</code></pre>\n\n<p>What appears to be happening (and this is my first time dealing with FTPS, though I've dealt with plain FTP before) is that the way the server ensures authentication and encryption over both the control and data connections is that after a \"normal\" TLS connection to establish the control connection and authentication happens there, each data connection requires the client to connect with the same TLS session. This makes sense to me as how it's supposed to be work, but the Apache Commons Net FTPS implementation doesn't seem to be doing that. It seems to be trying to establish a new TLS session, and so the server is rejecting the attempt.</p>\n\n<p>Based on <a href=\"https://stackoverflow.com/q/10605062/65839\">this question about resuming SSL sessions in JSSE</a>, it appears that Java assumes or requires a different session for each host/post combination. My hypothesis is that since the FTPS data connection is on a different port than the control connection, it's not finding the existing session and is trying to establish a new one, so the connection fails.</p>\n\n<p>I see three main possibilities:</p>\n\n<ol>\n<li>The server is not following the FTPS standard in requiring the same TLS session on the data port as on the control port. I can connect to the server fine (using the same host/user/password as I'm trying to use in my code) using FileZilla 3.13.1. The server identifies itself as \"FileZilla Server 0.9.53 beta\" upon login, so perhaps this is some sort of proprietary FileZilla way of doing things, and there's something odd I need to do to convince Java to use the same TLS session.</li>\n<li>The Apache Commons Net client doesn't actually follow the FTPS standard, and only allows some subset that doesn't allow for securing the data connections. This would seem odd, as it appears to be the standard way of connecting to FTPS from within Java.</li>\n<li>I'm completely missing something and misdiagnosing this.</li>\n</ol>\n\n<p>I'd appreciate any direction you can provide as to how to connect to this kind of FTPS server. Thank you.</p>\n"},{"tags":["java","sql-server","postgresql","hibernate","hibernate-mapping"],"answers":[{"tags":[],"owner":{"account_id":13080975,"reputation":56,"user_id":9451541,"display_name":"schnejj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701451586,"creation_date":1701451586,"answer_id":77587053,"question_id":65724388,"body_markdown":"The quick answer is **you can&#39;t use nullable composite foreign keys in this way**.\r\n\r\nWith the help of a coworker however, we worked around the issue by changing perspective on the issue of tables owning portions of other tables, heres how for anyone else confused:\r\n\r\n**Step 1:**\r\nCreate an @Embeddable style key class for any *1st derivative* tables (for example, the C table in the question, which *derives* its S_Id from the S table&#39;s int PK) like:\r\n\r\n    @Embeddeable\r\n    @Access(value = AccessType.FIELD)\r\n    public class S_IdAndIdPK implements Serializable\r\n    {\r\n        private int id;\r\n        private int S_id;\r\n        ... {constuctors and method overrides ommitted}\r\n    }\r\n\r\nNOTE: It is unnecessary to create an embeddable object for the table S&#39;s ID since its SEntity is already using a basic @ID of type INT.\r\n\r\nThis is the key for the *1st derivative* object.  Use this newly created key as the @EmbeddedId of table C when you define the entity for table C.  You can re-use this `S_IdAndIdPK` in any number of other tables which you would like to share this same database structure amongst.\r\n\r\n**Step 2:**\r\nCreate an Embeddable object for the *2nd derivative* table that does not extend but rather INCLUDES AS A VARIABLE the @Embeddable style key class previously created in step 1.\r\n\r\n**Step 3:**\r\nAdd `@AttributeOverride(name=&quot;id&quot;, column=@Column(name=&quot;my_col_new_name&quot;))` above your variable.  This tells hibernate to use the database column called &quot;my_col_new_name&quot; instead of &quot;id&quot; but retains the fact that the original `S_IdAndIdPK` key object is *a part of* this &quot;2nd derivative&quot; entity&#39;s key which is needed to properly implement a @OneToMany mappedBy later.  To summarize in an example, steps 2 and 3 should look something like this:\r\n\r\n    @Embeddable\r\n    @Access(value = AccessType.FIELD)\r\n    public class S_IdC_IdAndIndexPK implements Serializable\r\n    {\r\n        private int index;\r\n    \r\n        @AttributeOverride(name = &quot;id&quot;, column = @Column(name=&quot;parent&quot;))\r\n        private S_IdAndIdPK parentPk;\r\n\r\n        ... {constructors, getters and overrides omitted}\r\n    }\r\n\r\n**Step 4:**\r\nNow that the 1st derviative&#39;s key is properly included into the 2nd derivative&#39;s key, the 1st derivative entity may eager load via @OneToMany mappedBy relationships any 2nd derivative objects.\r\n\r\nFor example, if the entity DestinationEntity has its @EmbeddedID as `S_IdC_IdAndIndexPK`, CEntity may load all related Table I in the question (DestinationEntitys) when it is queried from the database:\r\n\r\n    @Entity\r\n    @Table(schema = &quot;my_schema&quot;, name = &quot;Cs&quot;)\r\n    @Access(value = AccessType.FIELD)\r\n    public class CEntity implements Serializable\r\n    {\r\n        @OneToMany(\r\n            cascade = CascadeType.ALL,\r\n            fetch = FetchType.EAGER,\r\n            mappedBy = &quot;pk.parentPk&quot;, // look at DestinationEntity&#39;s pk.parentPk field to find which DestinationEntitys belong here\r\n            orphanRemoval = true)\r\n        @OrderBy(&quot;pk.index&quot;) // look at DestinationEntity&#39;s pk.index field to find order of objects that go into this array list\r\n        private final List&lt;DestinationEntity&gt; destinations = new ArrayList&lt;&gt;();\r\n\r\n        // Here is an example for a similar use case where instead\r\n        //  of &quot;index&quot; a &quot;name&quot; column is used to \r\n        //  automatically populate a HashMap for this entity of \r\n        //  all its related Property (another derivative) objects.\r\n        // Property entity would do the same as Destination for including its primary key but instead of index use string &quot;name&quot; as the column name\r\n        @OneToMany(\r\n            cascade = CascadeType.ALL,\r\n            fetch = FetchType.EAGER,\r\n            mappedBy = &quot;pk.parentPk&quot;, // look at pk.parentPk field of PropertyEntity, which is this C_entity&#39;s pk to find related PropertyEntitys\r\n            orphanRemoval = true)\r\n        @MapKeyColumn(name = &quot;name&quot;) // look to the PropertyEntity&#39;s &quot;name&quot; field when populating related PropertyEntitys into this map.\r\n        private final Map&lt;String, PropertyEntity&gt; properties = new HashMap&lt;&gt;();\r\n\r\n        @EmbeddedId\r\n        private S_IdAndIdPK pk;\r\n\r\n        ... {getters, setters, constructors, &amp; overrides omitted}\r\n    }\r\n\r\nThe greatest advantage of this is the @Embeddable Pk&#39;s code is reusable for any other peer entity to 1st derivative objects, and each 2nd derivative only needs to override the attribute for the column name of &quot;id&quot; in the `1st derivative` Primary Key.  You can make there be any number of &quot;id&quot; foreign key fields for an object and it will not cause this concept to break when properly using @AttributeOverride.\r\n\r\nYou can then modify these CEntity Map and List data structures from POJO code, and when the parent object is done being changed and Hibernate save or update occurs, it will cascade all changes to any child *2nd derivative* objects that are modified from among these 2 example collections into their respective tables.  If any objects are removed from these collections, the orphanRemoval=true setting will cause them to automatically be deleted from their respective tables.\r\n\r\nTL;DR:\r\nDo not use &#39;extends&#39; to extend any @EmbeddedId objects like `S_IdAndIdPk` by making something like an `S_IdC_IdAndIndexPk extends S_IdAndIdPk` because the id field may be re-appropriated in its purpose, and similarly do not use multiple @ID annotations either to bypass the fact that the object truly contains the key of another object.  Also don&#39;t try to query the database for 2nd derivative objects anywhere other than from the objects that own them such as in the question where I attempted to use @ManyToOne.  Instead make `S_IdAndIdPk` be @EmbeddedIds within any 2nd level derivative object&#39;s PKs such as `S_IdC_IdAndIndexPk` or `S_IdC_IdAndNamePk`, and use Attribute Overrides to map the original column names into your desired new column names in your 2nd derivative tables to avoid possible future collisions on the column name &quot;id&quot;.\r\n\r\nHope this helps anyone else stuck on how to use Hibernate composite foreign keys properly for in-memory modeling of complex database relationships.","title":"Using Java Hibernate, how can you use nullable composite foreign keys when part of the composite key is part of your primary key?","body":"<p>The quick answer is <strong>you can't use nullable composite foreign keys in this way</strong>.</p>\n<p>With the help of a coworker however, we worked around the issue by changing perspective on the issue of tables owning portions of other tables, heres how for anyone else confused:</p>\n<p><strong>Step 1:</strong>\nCreate an @Embeddable style key class for any <em>1st derivative</em> tables (for example, the C table in the question, which <em>derives</em> its S_Id from the S table's int PK) like:</p>\n<pre><code>@Embeddeable\n@Access(value = AccessType.FIELD)\npublic class S_IdAndIdPK implements Serializable\n{\n    private int id;\n    private int S_id;\n    ... {constuctors and method overrides ommitted}\n}\n</code></pre>\n<p>NOTE: It is unnecessary to create an embeddable object for the table S's ID since its SEntity is already using a basic @ID of type INT.</p>\n<p>This is the key for the <em>1st derivative</em> object.  Use this newly created key as the @EmbeddedId of table C when you define the entity for table C.  You can re-use this <code>S_IdAndIdPK</code> in any number of other tables which you would like to share this same database structure amongst.</p>\n<p><strong>Step 2:</strong>\nCreate an Embeddable object for the <em>2nd derivative</em> table that does not extend but rather INCLUDES AS A VARIABLE the @Embeddable style key class previously created in step 1.</p>\n<p><strong>Step 3:</strong>\nAdd <code>@AttributeOverride(name=&quot;id&quot;, column=@Column(name=&quot;my_col_new_name&quot;))</code> above your variable.  This tells hibernate to use the database column called &quot;my_col_new_name&quot; instead of &quot;id&quot; but retains the fact that the original <code>S_IdAndIdPK</code> key object is <em>a part of</em> this &quot;2nd derivative&quot; entity's key which is needed to properly implement a @OneToMany mappedBy later.  To summarize in an example, steps 2 and 3 should look something like this:</p>\n<pre><code>@Embeddable\n@Access(value = AccessType.FIELD)\npublic class S_IdC_IdAndIndexPK implements Serializable\n{\n    private int index;\n\n    @AttributeOverride(name = &quot;id&quot;, column = @Column(name=&quot;parent&quot;))\n    private S_IdAndIdPK parentPk;\n\n    ... {constructors, getters and overrides omitted}\n}\n</code></pre>\n<p><strong>Step 4:</strong>\nNow that the 1st derviative's key is properly included into the 2nd derivative's key, the 1st derivative entity may eager load via @OneToMany mappedBy relationships any 2nd derivative objects.</p>\n<p>For example, if the entity DestinationEntity has its @EmbeddedID as <code>S_IdC_IdAndIndexPK</code>, CEntity may load all related Table I in the question (DestinationEntitys) when it is queried from the database:</p>\n<pre><code>@Entity\n@Table(schema = &quot;my_schema&quot;, name = &quot;Cs&quot;)\n@Access(value = AccessType.FIELD)\npublic class CEntity implements Serializable\n{\n    @OneToMany(\n        cascade = CascadeType.ALL,\n        fetch = FetchType.EAGER,\n        mappedBy = &quot;pk.parentPk&quot;, // look at DestinationEntity's pk.parentPk field to find which DestinationEntitys belong here\n        orphanRemoval = true)\n    @OrderBy(&quot;pk.index&quot;) // look at DestinationEntity's pk.index field to find order of objects that go into this array list\n    private final List&lt;DestinationEntity&gt; destinations = new ArrayList&lt;&gt;();\n\n    // Here is an example for a similar use case where instead\n    //  of &quot;index&quot; a &quot;name&quot; column is used to \n    //  automatically populate a HashMap for this entity of \n    //  all its related Property (another derivative) objects.\n    // Property entity would do the same as Destination for including its primary key but instead of index use string &quot;name&quot; as the column name\n    @OneToMany(\n        cascade = CascadeType.ALL,\n        fetch = FetchType.EAGER,\n        mappedBy = &quot;pk.parentPk&quot;, // look at pk.parentPk field of PropertyEntity, which is this C_entity's pk to find related PropertyEntitys\n        orphanRemoval = true)\n    @MapKeyColumn(name = &quot;name&quot;) // look to the PropertyEntity's &quot;name&quot; field when populating related PropertyEntitys into this map.\n    private final Map&lt;String, PropertyEntity&gt; properties = new HashMap&lt;&gt;();\n\n    @EmbeddedId\n    private S_IdAndIdPK pk;\n\n    ... {getters, setters, constructors, &amp; overrides omitted}\n}\n</code></pre>\n<p>The greatest advantage of this is the @Embeddable Pk's code is reusable for any other peer entity to 1st derivative objects, and each 2nd derivative only needs to override the attribute for the column name of &quot;id&quot; in the <code>1st derivative</code> Primary Key.  You can make there be any number of &quot;id&quot; foreign key fields for an object and it will not cause this concept to break when properly using @AttributeOverride.</p>\n<p>You can then modify these CEntity Map and List data structures from POJO code, and when the parent object is done being changed and Hibernate save or update occurs, it will cascade all changes to any child <em>2nd derivative</em> objects that are modified from among these 2 example collections into their respective tables.  If any objects are removed from these collections, the orphanRemoval=true setting will cause them to automatically be deleted from their respective tables.</p>\n<p>TL;DR:\nDo not use 'extends' to extend any @EmbeddedId objects like <code>S_IdAndIdPk</code> by making something like an <code>S_IdC_IdAndIndexPk extends S_IdAndIdPk</code> because the id field may be re-appropriated in its purpose, and similarly do not use multiple @ID annotations either to bypass the fact that the object truly contains the key of another object.  Also don't try to query the database for 2nd derivative objects anywhere other than from the objects that own them such as in the question where I attempted to use @ManyToOne.  Instead make <code>S_IdAndIdPk</code> be @EmbeddedIds within any 2nd level derivative object's PKs such as <code>S_IdC_IdAndIndexPk</code> or <code>S_IdC_IdAndNamePk</code>, and use Attribute Overrides to map the original column names into your desired new column names in your 2nd derivative tables to avoid possible future collisions on the column name &quot;id&quot;.</p>\n<p>Hope this helps anyone else stuck on how to use Hibernate composite foreign keys properly for in-memory modeling of complex database relationships.</p>\n"}],"owner":{"account_id":13080975,"reputation":56,"user_id":9451541,"display_name":"schnejj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701451586,"creation_date":1610646990,"question_id":65724388,"body_markdown":"Specifically with our database relationship being like so, title:\r\n\r\n**Table S**\r\n\r\n    column id\r\n    ...other irrelevant columns omitted...\r\n    primary key on id only\r\n\r\n**Table C**\r\n\r\n    column S_id\r\n    column id\r\n    ...\r\n    compound primary key on S_id (which is a foreign key to id column in table S) and id.\r\n\r\n**Table I**\r\n\r\n    column S_id\r\n    column id\r\n    column C_id\r\n    ...\r\n    compound primary key again on S_id and id.\r\n    compound foreign key on C_id and S_id, but C_id column in this table is also nullable.\r\n\r\n\r\nI have attempted the following for java hibernate annotations on IObject for modeling table I:\r\n\r\n    @ManyToOne\r\n    @JoinColumns({\r\n        @JoinColumn({name=&quot;C_id&quot;, referencedColumnName=&quot;id&quot;,insertable=false,updateable=false),\r\n        @JoinCOlumn({name=&quot;S_id&quot;, referencedColumnName=&quot;S_id&quot;, insertable=false,updateable=false)\r\n    })\r\n    private CObject _cObjectRef;\r\n     \r\n    @EmbeddedId\r\n    private EmbeddedIdCompositeKeyObject _primaryKey;\r\n    ...\r\n\r\nHere is the important parts of java hibernate annotations on CObject for modeling table C:\r\n\r\n    @EmbeddedId\r\n    private EmbeddedIdCompositeKeyObject _primaryKey;\r\n     \r\n    @MapsId(&quot;_s_id&quot;)\r\n    @ManyToOne(optional=false)\r\n    @JoinColumn(name=&quot;S_id&quot;, nullable = false)\r\n    private SObject _sObject;\r\n    ...\r\n\r\nAnd here is what EmbeddedIdCompositeKeyObject looks like (its @Embeddable and implements Serializable):\r\n\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private int _id;\r\n    @Column(name = &quot;S_id&quot;, nullable = false)\r\n    private int _s_id;\r\n    \r\n    ...\r\n    constructors, getters, hashCode, and equals ommitted.\r\n\r\nHowever, when run, hibernate fails to update these columns of table I despite the _cObject being set to an existing CObject instance that matches what exists in the database. Every other column in the I object table saves and updates correctly upon calling hibernate&#39;s session.saveOrUpdate method on IObject except one where this nullable compound foreign key is used.\r\n\r\nI have tried removing insertable and updateable qualifiers on the JoinColumns, or adding them in different combinations of true or false, and even mixing nullable in, however when that is attempted errors such as the following appear:\r\n\r\n1. `Mixing nullable and non nullable columns in a property is not allowed` (this seems like what I need though)\r\n\r\n2. `Mixing updatable and non updatable columns in a property is not allowed`\r\n\r\n3. `Mixing insertable and non insertable columns in a property is not allowed`\r\n\r\n4. `Repeated column in mapping for entity: foo.bar.IObject columns S_id (should be mapped with insert=&quot;false&quot; update=&quot;false&quot;`\r\n\r\nAdding @MapsId(&quot;_s_id&quot;) to IObject&#39;s CObject reference doesn&#39;t appear to make a difference.\r\n\r\nThis question is somewhat similar to [another][1] and almost exactly like [another][2], however neither questions appear to ask about cases with nullable composite foreign keys with primary key overlap, and none of the proposed solutions appear to work for this case, either.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/32625410/hibernate-foreign-key-with-a-part-of-composite-primary-key\r\n  [2]: https://stackoverflow.com/questions/58516280/mapping-of-composite-primary-keys-and-foreign-keys-with-shared-columns-with-jpa?noredirect=1&amp;lq=1","title":"Using Java Hibernate, how can you use nullable composite foreign keys when part of the composite key is part of your primary key?","body":"<p>Specifically with our database relationship being like so, title:</p>\n<p><strong>Table S</strong></p>\n<pre><code>column id\n...other irrelevant columns omitted...\nprimary key on id only\n</code></pre>\n<p><strong>Table C</strong></p>\n<pre><code>column S_id\ncolumn id\n...\ncompound primary key on S_id (which is a foreign key to id column in table S) and id.\n</code></pre>\n<p><strong>Table I</strong></p>\n<pre><code>column S_id\ncolumn id\ncolumn C_id\n...\ncompound primary key again on S_id and id.\ncompound foreign key on C_id and S_id, but C_id column in this table is also nullable.\n</code></pre>\n<p>I have attempted the following for java hibernate annotations on IObject for modeling table I:</p>\n<pre><code>@ManyToOne\n@JoinColumns({\n    @JoinColumn({name=&quot;C_id&quot;, referencedColumnName=&quot;id&quot;,insertable=false,updateable=false),\n    @JoinCOlumn({name=&quot;S_id&quot;, referencedColumnName=&quot;S_id&quot;, insertable=false,updateable=false)\n})\nprivate CObject _cObjectRef;\n \n@EmbeddedId\nprivate EmbeddedIdCompositeKeyObject _primaryKey;\n...\n</code></pre>\n<p>Here is the important parts of java hibernate annotations on CObject for modeling table C:</p>\n<pre><code>@EmbeddedId\nprivate EmbeddedIdCompositeKeyObject _primaryKey;\n \n@MapsId(&quot;_s_id&quot;)\n@ManyToOne(optional=false)\n@JoinColumn(name=&quot;S_id&quot;, nullable = false)\nprivate SObject _sObject;\n...\n</code></pre>\n<p>And here is what EmbeddedIdCompositeKeyObject looks like (its @Embeddable and implements Serializable):</p>\n<pre><code>@Column(name = &quot;id&quot;, nullable = false)\nprivate int _id;\n@Column(name = &quot;S_id&quot;, nullable = false)\nprivate int _s_id;\n\n...\nconstructors, getters, hashCode, and equals ommitted.\n</code></pre>\n<p>However, when run, hibernate fails to update these columns of table I despite the _cObject being set to an existing CObject instance that matches what exists in the database. Every other column in the I object table saves and updates correctly upon calling hibernate's session.saveOrUpdate method on IObject except one where this nullable compound foreign key is used.</p>\n<p>I have tried removing insertable and updateable qualifiers on the JoinColumns, or adding them in different combinations of true or false, and even mixing nullable in, however when that is attempted errors such as the following appear:</p>\n<ol>\n<li><p><code>Mixing nullable and non nullable columns in a property is not allowed</code> (this seems like what I need though)</p>\n</li>\n<li><p><code>Mixing updatable and non updatable columns in a property is not allowed</code></p>\n</li>\n<li><p><code>Mixing insertable and non insertable columns in a property is not allowed</code></p>\n</li>\n<li><p><code>Repeated column in mapping for entity: foo.bar.IObject columns S_id (should be mapped with insert=&quot;false&quot; update=&quot;false&quot;</code></p>\n</li>\n</ol>\n<p>Adding @MapsId(&quot;_s_id&quot;) to IObject's CObject reference doesn't appear to make a difference.</p>\n<p>This question is somewhat similar to <a href=\"https://stackoverflow.com/questions/32625410/hibernate-foreign-key-with-a-part-of-composite-primary-key\">another</a> and almost exactly like <a href=\"https://stackoverflow.com/questions/58516280/mapping-of-composite-primary-keys-and-foreign-keys-with-shared-columns-with-jpa?noredirect=1&amp;lq=1\">another</a>, however neither questions appear to ask about cases with nullable composite foreign keys with primary key overlap, and none of the proposed solutions appear to work for this case, either.</p>\n"},{"tags":["java","mysql","jdbc"],"owner":{"account_id":25180948,"reputation":1,"user_id":19022457,"display_name":"Soumyashree Behera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701451355,"creation_date":1701451355,"question_id":77587035,"body_markdown":"I have 2 tables in sql named as customer and account. I want to fetch all the details of a row based on id of customer table .It is giving me the following exception. Help me to resolve the code.\r\n\r\n\r\nYou have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;? UNION SELECT * FROM customer RIGHT JOIN account ON customer.id = account.custo&#39; at line 1\r\n\r\n\r\n\r\n\r\n\r\n\r\nString query = &quot;SELECT * FROM customer LEFT JOIN account ON customer.id = account.customer_id WHERE customer.id = ? UNION SELECT * FROM customer RIGHT JOIN account ON customer.id = account.customer_id WHERE customer.id = ?&quot;;","title":"I have 2 tables in sql named as customer and account. I want to fetch all the details of a row based on id of customer table using jdbc","body":"<p>I have 2 tables in sql named as customer and account. I want to fetch all the details of a row based on id of customer table .It is giving me the following exception. Help me to resolve the code.</p>\n<p>You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '? UNION SELECT * FROM customer RIGHT JOIN account ON customer.id = account.custo' at line 1</p>\n<p>String query = &quot;SELECT * FROM customer LEFT JOIN account ON customer.id = account.customer_id WHERE customer.id = ? UNION SELECT * FROM customer RIGHT JOIN account ON customer.id = account.customer_id WHERE customer.id = ?&quot;;</p>\n"},{"tags":["java","dictionary"],"comments":[{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":11,"creation_date":1473631922,"post_id":39441096,"comment_id":66204580,"body_markdown":"Is there a reason `map.put(entry.getKey(), entry.getValue())` is unsatisfactory?","body":"Is there a reason <code>map.put(entry.getKey(), entry.getValue())</code> is unsatisfactory?"},{"owner":{"account_id":5694021,"reputation":5423,"user_id":4501084,"accept_rate":53,"display_name":"pgmank"},"score":24,"creation_date":1473632846,"post_id":39441096,"comment_id":66204778,"body_markdown":"Because `map.put(entry.getKey(), entry.getValue())` is redundant and can be\nreduced to just `map.put(entry)` which is more concise and readable. In my\nopinion also, there should be a `V put(Entry&lt;K,V&gt; entry)` method in the \n`Map` interface of `java.util` package.","body":"Because <code>map.put(entry.getKey(), entry.getValue())</code> is redundant and can be reduced to just <code>map.put(entry)</code> which is more concise and readable. In my opinion also, there should be a <code>V put(Entry&lt;K,V&gt; entry)</code> method in the  <code>Map</code> interface of <code>java.util</code> package."},{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":2,"creation_date":1473635128,"post_id":39441096,"comment_id":66205261,"body_markdown":"_When_ would you need such a method -- what would be the use case? I think it&#39;s not in the API, because [YAGNI](https://en.wikipedia.org/wiki/You_aren%27t_gonna_need_it).","body":"<i>When</i> would you need such a method -- what would be the use case? I think it&#39;s not in the API, because <a href=\"https://en.wikipedia.org/wiki/You_aren%27t_gonna_need_it\" rel=\"nofollow noreferrer\">YAGNI</a>."},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1473641500,"post_id":39441096,"comment_id":66206371,"body_markdown":"I&#39;m with Mick here... I think the reason it isn&#39;t in the API is that it wasn&#39;t envisioned as being something particularly useful.  API designers can&#39;t predict everything every programmer may want in every situation and add stuff to the API for it.  Anyway, if you&#39;re doing this a lot, you could write your own helper method that takes an `Entry` parameter; then you could make concise and readable calls to your own helper method.","body":"I&#39;m with Mick here... I think the reason it isn&#39;t in the API is that it wasn&#39;t envisioned as being something particularly useful.  API designers can&#39;t predict everything every programmer may want in every situation and add stuff to the API for it.  Anyway, if you&#39;re doing this a lot, you could write your own helper method that takes an <code>Entry</code> parameter; then you could make concise and readable calls to your own helper method."},{"owner":{"account_id":5694021,"reputation":5423,"user_id":4501084,"accept_rate":53,"display_name":"pgmank"},"score":7,"creation_date":1473670795,"post_id":39441096,"comment_id":66215130,"body_markdown":"By making this question I just tried to be helpful on how someone could just do map.put(entry). Something that is not supported by the Java Standard libraries, because as @ajb and MickMnemonic said maybe it is not useful. In my opinion, although the above method might be useless, the question is not that useless so that it worths downvoting.","body":"By making this question I just tried to be helpful on how someone could just do map.put(entry). Something that is not supported by the Java Standard libraries, because as @ajb and MickMnemonic said maybe it is not useful. In my opinion, although the above method might be useless, the question is not that useless so that it worths downvoting."},{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":0,"creation_date":1473786255,"post_id":39441096,"comment_id":66270018,"body_markdown":"@pgmank, I understand your point, and someone might find your solution useful. You might have gotten downvoted because someone thought the question is too broad. However, I do think that for any code to be useful, there would need to be a particular problem that the code solves. Each time I have personally been working with map entries, it has happened in the context of iterating over the entry set and involved processing these entries somehow. But I&#39;ve never needed to put entries &quot;as is&quot; into another map. So I was just curious about the intended use here.","body":"@pgmank, I understand your point, and someone might find your solution useful. You might have gotten downvoted because someone thought the question is too broad. However, I do think that for any code to be useful, there would need to be a particular problem that the code solves. Each time I have personally been working with map entries, it has happened in the context of iterating over the entry set and involved processing these entries somehow. But I&#39;ve never needed to put entries &quot;as is&quot; into another map. So I was just curious about the intended use here."},{"owner":{"account_id":3351190,"reputation":3386,"user_id":2815227,"accept_rate":64,"display_name":"mcvkr"},"score":0,"creation_date":1505918731,"post_id":39441096,"comment_id":79610961,"body_markdown":"One of the reasons is that we can use other collections such as Arraylists to just add/put objects. But in that case, we need to check the type before using the objects. Actually, it is better to have a key when the collection is designed to store different objects types and not to have it when we know we have one type of object in the collection.","body":"One of the reasons is that we can use other collections such as Arraylists to just add/put objects. But in that case, we need to check the type before using the objects. Actually, it is better to have a key when the collection is designed to store different objects types and not to have it when we know we have one type of object in the collection."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1527985849,"post_id":39441096,"comment_id":88334733,"body_markdown":"How exactly are you going to get an `Entry` that isn&#39;t already in the `Map`?","body":"How exactly are you going to get an <code>Entry</code> that isn&#39;t already in the <code>Map</code>?"},{"owner":{"account_id":3533121,"reputation":1545,"user_id":2952093,"accept_rate":88,"display_name":"kap"},"score":0,"creation_date":1566421725,"post_id":39441096,"comment_id":101655624,"body_markdown":"@user207421 `Map.Entry&lt;K,V&gt; entry = Map.entry(key, value);` there is even a method in the API to create entries.","body":"@user207421 <code>Map.Entry&lt;K,V&gt; entry = Map.entry(key, value);</code> there is even a method in the API to create entries."},{"owner":{"account_id":8906759,"reputation":2159,"user_id":6648326,"accept_rate":71,"display_name":"MasterJoe"},"score":0,"creation_date":1595817543,"post_id":39441096,"comment_id":111595411,"body_markdown":"@ajb - Why do we have an Entry interface to begin with ? One of the reasons I can think of is to put it into Map. If yes, then why not provide a simple method to do that ? Here is a sample use case. Say you get an Entry expressed as a String like this Character =&gt;CharacterCount). You convert the String into an Entry which is then returned to a method that stores character counts for all characters in a string.","body":"@ajb - Why do we have an Entry interface to begin with ? One of the reasons I can think of is to put it into Map. If yes, then why not provide a simple method to do that ? Here is a sample use case. Say you get an Entry expressed as a String like this Character =&gt;CharacterCount). You convert the String into an Entry which is then returned to a method that stores character counts for all characters in a string."},{"owner":{"account_id":8906759,"reputation":2159,"user_id":6648326,"accept_rate":71,"display_name":"MasterJoe"},"score":0,"creation_date":1595817657,"post_id":39441096,"comment_id":111595428,"body_markdown":"@ajb - I think its mainly a matter of convenience to have utility methods like map.put(entry). Java is often late to understand this which is why I think they often introduce things like Lombok, lambdas well after other languages have introduced them.","body":"@ajb - I think its mainly a matter of convenience to have utility methods like map.put(entry). Java is often late to understand this which is why I think they often introduce things like Lombok, lambdas well after other languages have introduced them."},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":2,"creation_date":1596085737,"post_id":39441096,"comment_id":111698751,"body_markdown":"@MasterJoe2 - A primary reason I can think of for having `Entry` is so that you can use it in a `for` statement: `for ((Map.Entry&lt;K, V&gt; entry : map.entrySet()) { ... }`.  Unlike some languages, Java syntax doesn&#39;t provide a way to write a `for` that assigns to two or more variables, so it needed a type that would represent both the key and value.  Without `Entry`, doing this kind of operation on each map entry would be more cumbersome (without `forEach` which wasn&#39;t added until Java 8).  I think that&#39;s a much greater need than `put`, which you can write pretty easily.","body":"@MasterJoe2 - A primary reason I can think of for having <code>Entry</code> is so that you can use it in a <code>for</code> statement: <code>for ((Map.Entry&lt;K, V&gt; entry : map.entrySet()) { ... }</code>.  Unlike some languages, Java syntax doesn&#39;t provide a way to write a <code>for</code> that assigns to two or more variables, so it needed a type that would represent both the key and value.  Without <code>Entry</code>, doing this kind of operation on each map entry would be more cumbersome (without <code>forEach</code> which wasn&#39;t added until Java 8).  I think that&#39;s a much greater need than <code>put</code>, which you can write pretty easily."},{"owner":{"account_id":8906759,"reputation":2159,"user_id":6648326,"accept_rate":71,"display_name":"MasterJoe"},"score":0,"creation_date":1596087489,"post_id":39441096,"comment_id":111699255,"body_markdown":"@ajb - thanks. but, its nice to have all the utility code in built so that we can focus on the app logic.","body":"@ajb - thanks. but, its nice to have all the utility code in built so that we can focus on the app logic."}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":12,"creation_date":1527985721,"post_id":39441097,"comment_id":88334716,"body_markdown":"Is all this really &#39;more concise and readable&#39; tan `map.put(entry.getKey(), entry.getValue())`?","body":"Is all this really &#39;more concise and readable&#39; tan <code>map.put(entry.getKey(), entry.getValue())</code>?"},{"owner":{"account_id":5694021,"reputation":5423,"user_id":4501084,"accept_rate":53,"display_name":"pgmank"},"score":0,"creation_date":1528203140,"post_id":39441097,"comment_id":88410371,"body_markdown":"The above is a workaround for being able to do `map.put(entry)`, (which is far more concise than `map.put(entry.getKey(), entry.getValue())`), because so far, there is no such method implemented in Java SE. If Java engineers were to implement such feature [they would have to insert just one method in the `Map` interface, as I have commented in my question](https://stackoverflow.com/questions/39441096/how-to-put-an-entry-into-a-map#comment66204778_39441096).","body":"The above is a workaround for being able to do <code>map.put(entry)</code>, (which is far more concise than <code>map.put(entry.getKey(), entry.getValue())</code>), because so far, there is no such method implemented in Java SE. If Java engineers were to implement such feature <a href=\"https://stackoverflow.com/questions/39441096/how-to-put-an-entry-into-a-map#comment66204778_39441096\">they would have to insert just one method in the <code>Map</code> interface, as I have commented in my question</a>."},{"owner":{"account_id":5694021,"reputation":5423,"user_id":4501084,"accept_rate":53,"display_name":"pgmank"},"score":0,"creation_date":1528203239,"post_id":39441097,"comment_id":88410422,"body_markdown":"Workarounds always tend to be more lengthy than the straightforward solution. But in this case the straightforward solution does not depend on me but on the Java engineers. The purpose of my answer was to demonstrate that, one can implement such feature even if its not inherent in the language itself, with a few lines of code and without importing any new libraries. Notice that most of the code in my answer is occupied by the `main()` method which is used only for testing/demonstration. If we exclude the comments, its just 14 lines of code including the import statements.","body":"Workarounds always tend to be more lengthy than the straightforward solution. But in this case the straightforward solution does not depend on me but on the Java engineers. The purpose of my answer was to demonstrate that, one can implement such feature even if its not inherent in the language itself, with a few lines of code and without importing any new libraries. Notice that most of the code in my answer is occupied by the <code>main()</code> method which is used only for testing/demonstration. If we exclude the comments, its just 14 lines of code including the import statements."},{"owner":{"account_id":5694021,"reputation":5423,"user_id":4501084,"accept_rate":53,"display_name":"pgmank"},"score":1,"creation_date":1528203249,"post_id":39441097,"comment_id":88410425,"body_markdown":"If it were for the Java engineers to implement this feature it would need just 3 lines of code.","body":"If it were for the Java engineers to implement this feature it would need just 3 lines of code."}],"tags":[],"owner":{"account_id":5694021,"reputation":5423,"user_id":4501084,"accept_rate":53,"display_name":"pgmank"},"comment_count":4,"down_vote_count":4,"up_vote_count":14,"is_accepted":true,"score":10,"last_activity_date":1473632124,"creation_date":1473631671,"answer_id":39441097,"question_id":39441096,"body_markdown":"I have searched on the Map interface methods but there is no method that\r\ntakes an entry and puts it in the map. Therefore I have implemented it\r\nby myself using a little bit of inheritance and Java 8 interfaces.\r\n\r\n    import java.util.AbstractMap;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.TreeMap;\r\n    \r\n    public class Maps {\r\n    \t\r\n    \t// Test method\r\n    \tpublic static void main(String[] args) {\r\n    \t\tMap.Entry&lt;String, String&gt; entry1 = newEntry(&quot;Key1&quot;, &quot;Value1&quot;);\r\n    \t\tMap.Entry&lt;String, String&gt; entry2 = newEntry(&quot;Key2&quot;, &quot;Value2&quot;);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;HashMap&quot;);\r\n    \t\tMyMap&lt;String, String&gt; hashMap = new MyHashMap&lt;&gt;();\r\n    \t\thashMap.put(entry1);\r\n    \t\thashMap.put(entry2);\r\n    \t\t\r\n    \t\tfor (String key : hashMap.keySet()) {\r\n    \t\t\tSystem.out.println(key + &quot; = &quot; + hashMap.get(key));\r\n    \t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;\\nTreeMap&quot;);\r\n    \t\tMyMap&lt;String, String&gt; treeMap = new MyTreeMap&lt;&gt;();\r\n    \t\ttreeMap.put(entry1);\r\n    \t\ttreeMap.put(entry2);\r\n    \t\t\r\n    \t\t\r\n    \t\tfor (String key : treeMap.keySet()) {\r\n    \t\t\tSystem.out.println(key + &quot; = &quot; + treeMap.get(key));\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t\r\n    \t/**\r\n    \t * Creates a new Entry object given a key-value pair.\r\n         * This is just a helper method for concisely creating a new Entry.\r\n    \t * @param key\tkey of the entry\r\n    \t * @param value\tvalue of the entry\r\n    \t * \r\n    \t * @return\tthe Entry object containing the given key-value pair\r\n    \t */\r\n    \tprivate static &lt;K,V&gt; Map.Entry&lt;K,V&gt; newEntry(K key, V value) {\r\n    \t\treturn new AbstractMap.SimpleEntry&lt;&gt;(key, value);\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * An enhanced Map interface.\r\n    \t */\r\n    \tpublic static interface MyMap&lt;K,V&gt; extends Map&lt;K,V&gt; {\r\n    \t\t\r\n    \t\t/**\r\n    \t\t * Puts a whole entry containing a key-value pair to the map.\r\n    \t\t * @param entry \r\n    \t\t */\r\n    \t\tpublic default V put(Entry&lt;K,V&gt; entry) {\r\n    \t\t\treturn put(entry.getKey(), entry.getValue());\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * An enhanced HashMap class.\r\n    \t */\r\n    \tpublic static class MyHashMap&lt;K,V&gt; extends HashMap&lt;K,V&gt; implements MyMap&lt;K,V&gt; {}\r\n    \t\r\n    \t/**\r\n    \t * An enhanced TreeMap class.\r\n    \t */\r\n    \tpublic static class MyTreeMap&lt;K,V&gt; extends TreeMap&lt;K,V&gt; implements MyMap&lt;K,V&gt; {}\r\n    }\r\n\r\n\r\nThe `MyMap` interface is just an interface that extends the `Map` interface\r\nby adding one more method, the `public default V put(Entry&lt;K,V&gt; entry)`. \r\nApart from just defining the method, a default implementation is coded \r\ntoo. Doing that, we can now add this method to any class that implements \r\nthe `Map` interface just by defining a new class that implements the \r\n`MyMap` interface and extending the map implementation class of our choice. All \r\nof that in one line! This is demonstrated in the bottom of the code above where two \r\nclasses are created each extending the HashMap and the TreeMap \r\nimplementations.","title":"How to put an Entry into a Map?","body":"<p>I have searched on the Map interface methods but there is no method that\ntakes an entry and puts it in the map. Therefore I have implemented it\nby myself using a little bit of inheritance and Java 8 interfaces.</p>\n\n<pre><code>import java.util.AbstractMap;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.TreeMap;\n\npublic class Maps {\n\n    // Test method\n    public static void main(String[] args) {\n        Map.Entry&lt;String, String&gt; entry1 = newEntry(\"Key1\", \"Value1\");\n        Map.Entry&lt;String, String&gt; entry2 = newEntry(\"Key2\", \"Value2\");\n\n        System.out.println(\"HashMap\");\n        MyMap&lt;String, String&gt; hashMap = new MyHashMap&lt;&gt;();\n        hashMap.put(entry1);\n        hashMap.put(entry2);\n\n        for (String key : hashMap.keySet()) {\n            System.out.println(key + \" = \" + hashMap.get(key));\n        }\n\n        System.out.println(\"\\nTreeMap\");\n        MyMap&lt;String, String&gt; treeMap = new MyTreeMap&lt;&gt;();\n        treeMap.put(entry1);\n        treeMap.put(entry2);\n\n\n        for (String key : treeMap.keySet()) {\n            System.out.println(key + \" = \" + treeMap.get(key));\n        }\n    }\n\n\n    /**\n     * Creates a new Entry object given a key-value pair.\n     * This is just a helper method for concisely creating a new Entry.\n     * @param key   key of the entry\n     * @param value value of the entry\n     * \n     * @return  the Entry object containing the given key-value pair\n     */\n    private static &lt;K,V&gt; Map.Entry&lt;K,V&gt; newEntry(K key, V value) {\n        return new AbstractMap.SimpleEntry&lt;&gt;(key, value);\n    }\n\n    /**\n     * An enhanced Map interface.\n     */\n    public static interface MyMap&lt;K,V&gt; extends Map&lt;K,V&gt; {\n\n        /**\n         * Puts a whole entry containing a key-value pair to the map.\n         * @param entry \n         */\n        public default V put(Entry&lt;K,V&gt; entry) {\n            return put(entry.getKey(), entry.getValue());\n        }\n    }\n\n    /**\n     * An enhanced HashMap class.\n     */\n    public static class MyHashMap&lt;K,V&gt; extends HashMap&lt;K,V&gt; implements MyMap&lt;K,V&gt; {}\n\n    /**\n     * An enhanced TreeMap class.\n     */\n    public static class MyTreeMap&lt;K,V&gt; extends TreeMap&lt;K,V&gt; implements MyMap&lt;K,V&gt; {}\n}\n</code></pre>\n\n<p>The <code>MyMap</code> interface is just an interface that extends the <code>Map</code> interface\nby adding one more method, the <code>public default V put(Entry&lt;K,V&gt; entry)</code>. \nApart from just defining the method, a default implementation is coded \ntoo. Doing that, we can now add this method to any class that implements \nthe <code>Map</code> interface just by defining a new class that implements the \n<code>MyMap</code> interface and extending the map implementation class of our choice. All \nof that in one line! This is demonstrated in the bottom of the code above where two \nclasses are created each extending the HashMap and the TreeMap \nimplementations.</p>\n"},{"tags":[],"owner":{"account_id":13592019,"reputation":71,"user_id":9805087,"display_name":"Matt De Poorter"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1527984262,"creation_date":1527983214,"answer_id":50662124,"question_id":39441096,"body_markdown":"To instantiate a Map with Entries (in the same way as you can do `Arrays.asList(T... a)` or `Sets.newHashSet(T... a)` in Google Guava library, I found this:\r\n\r\n    import java.util.AbstractMap;\r\n    import java.util.Map;\r\n    \r\n    public class MapWithEntries {\r\n        \r\n        private static final Map.Entry&lt;String, String&gt; ENTRY_1 = new AbstractMap.SimpleEntry&lt;&gt;(&quot;A&quot;, &quot;Hello&quot;);\r\n        private static final Map.Entry&lt;String, String&gt; ENTRY_2 = new AbstractMap.SimpleEntry&lt;&gt;(&quot;B&quot;, &quot;World&quot;);\r\n\r\n        private static final Map&lt;String, String&gt; MAP_WITH_ENTRIES = Map.ofEntries(ENTRY_1, ENTRY_2);\r\n    }","title":"How to put an Entry into a Map?","body":"<p>To instantiate a Map with Entries (in the same way as you can do <code>Arrays.asList(T... a)</code> or <code>Sets.newHashSet(T... a)</code> in Google Guava library, I found this:</p>\n\n<pre><code>import java.util.AbstractMap;\nimport java.util.Map;\n\npublic class MapWithEntries {\n\n    private static final Map.Entry&lt;String, String&gt; ENTRY_1 = new AbstractMap.SimpleEntry&lt;&gt;(\"A\", \"Hello\");\n    private static final Map.Entry&lt;String, String&gt; ENTRY_2 = new AbstractMap.SimpleEntry&lt;&gt;(\"B\", \"World\");\n\n    private static final Map&lt;String, String&gt; MAP_WITH_ENTRIES = Map.ofEntries(ENTRY_1, ENTRY_2);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4541793,"reputation":26874,"user_id":3689450,"display_name":"VLAZ"},"score":0,"creation_date":1536007403,"post_id":51469239,"comment_id":91262218,"body_markdown":"But `map` is actually a List, not a `java.util.Map`. The whole point of using a map is to be able to do `map.get(someKey)` and with this you need to scan the entire list to find which entry has its key equal to `someKey` and then return the value. Thus reinventing the wheel, and doing it badly, for maps are optimised for exactly those operations.","body":"But <code>map</code> is actually a List, not a <code>java.util.Map</code>. The whole point of using a map is to be able to do <code>map.get(someKey)</code> and with this you need to scan the entire list to find which entry has its key equal to <code>someKey</code> and then return the value. Thus reinventing the wheel, and doing it badly, for maps are optimised for exactly those operations."}],"tags":[],"owner":{"account_id":14010494,"reputation":1,"user_id":10119281,"display_name":"kcyc"},"comment_count":1,"down_vote_count":6,"up_vote_count":0,"is_accepted":false,"score":-6,"last_activity_date":1532293814,"creation_date":1532293497,"answer_id":51469239,"question_id":39441096,"body_markdown":"Solution if you&#39;re using Java Platform SE 8:\r\n\r\nSimpleEntry and SimpleImmutableEntry classes implement interface\r\n     Map.Entry&lt;K,V&gt;\r\n\r\n    import java.util.AbstractMap.SimpleEntry;\r\n    import java.util.AbstractMap.SimpleImmutableEntry;\r\n\r\n    List&lt;Map.Entry&lt;K, V&gt;&gt; map = new ArrayList&lt;&gt;(); \r\n    map.add(new SimpleEntry&lt;K,V&gt;(key,value));\r\n    map.add(new SimpleImmutableEntry&lt;K,V&gt;(key,value)); // constructs immutable entries for thread-safe operation","title":"How to put an Entry into a Map?","body":"<p>Solution if you're using Java Platform SE 8:</p>\n\n<p>SimpleEntry and SimpleImmutableEntry classes implement interface\n     Map.Entry</p>\n\n<pre><code>import java.util.AbstractMap.SimpleEntry;\nimport java.util.AbstractMap.SimpleImmutableEntry;\n\nList&lt;Map.Entry&lt;K, V&gt;&gt; map = new ArrayList&lt;&gt;(); \nmap.add(new SimpleEntry&lt;K,V&gt;(key,value));\nmap.add(new SimpleImmutableEntry&lt;K,V&gt;(key,value)); // constructs immutable entries for thread-safe operation\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3146503,"reputation":99,"user_id":2660888,"display_name":"mattlaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542293463,"creation_date":1542293463,"answer_id":53322081,"question_id":39441096,"body_markdown":"Guava&#39;s `ImmutableMap.Builder` [takes entries directly][1].\r\n\r\nObviously that doesn&#39;t directly modify an existing `Map`, but it might well scratch the same itch.\r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/ImmutableMap.Builder.html#put(java.util.Map.Entry)","title":"How to put an Entry into a Map?","body":"<p>Guava's <code>ImmutableMap.Builder</code> <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/ImmutableMap.Builder.html#put(java.util.Map.Entry)\" rel=\"nofollow noreferrer\">takes entries directly</a>.</p>\n\n<p>Obviously that doesn't directly modify an existing <code>Map</code>, but it might well scratch the same itch.</p>\n"},{"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1701445868,"post_id":77586389,"comment_id":136780343,"body_markdown":"From the [docs of Map.entrySet()](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#entrySet--) - `It does not support the add or addAll operations.` This will throw `UnsupportedOperationException`.","body":"From the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#entrySet--\" rel=\"nofollow noreferrer\">docs of Map.entrySet()</a> - <code>It does not support the add or addAll operations.</code> This will throw <code>UnsupportedOperationException</code>."}],"tags":[],"owner":{"account_id":378670,"reputation":3959,"user_id":731548,"accept_rate":33,"display_name":"cquezel"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701450710,"creation_date":1701444824,"answer_id":77586389,"question_id":39441096,"body_markdown":"As pointed out in the comments below, the doc explicitly states that add and addAll are not supported so this is wrong.\r\n\r\n\t\tMap&lt;Integer, String&gt; map;\r\n\t\tMap.Entry&lt;Integer, String&gt; entry;\r\n\t\t ...\r\n\t\tmap.entrySet().add(entry);\r\n\t\tmap.entrySet().addAll(List.of(entry));\r\n","title":"How to put an Entry into a Map?","body":"<p>As pointed out in the comments below, the doc explicitly states that add and addAll are not supported so this is wrong.</p>\n<pre><code>    Map&lt;Integer, String&gt; map;\n    Map.Entry&lt;Integer, String&gt; entry;\n     ...\n    map.entrySet().add(entry);\n    map.entrySet().addAll(List.of(entry));\n</code></pre>\n"}],"owner":{"account_id":5694021,"reputation":5423,"user_id":4501084,"accept_rate":53,"display_name":"pgmank"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67957,"favorite_count":0,"down_vote_count":2,"up_vote_count":57,"accepted_answer_id":39441097,"answer_count":5,"score":55,"last_activity_date":1701450710,"creation_date":1473631671,"question_id":39441096,"body_markdown":"Is there any way that I can put a whole `Entry` object to a `Map` object like:\r\n\r\n    map.put(entry);\r\n\r\ninstead of passing a key-value pair like:\r\n\r\n    map.put(key,value);","title":"How to put an Entry into a Map?","body":"<p>Is there any way that I can put a whole <code>Entry</code> object to a <code>Map</code> object like:</p>\n\n<pre><code>map.put(entry);\n</code></pre>\n\n<p>instead of passing a key-value pair like:</p>\n\n<pre><code>map.put(key,value);\n</code></pre>\n"},{"tags":["java","nullpointerexception"],"comments":[{"owner":{"account_id":2540065,"reputation":1086,"user_id":2206044,"accept_rate":100,"display_name":"Azar"},"score":1,"creation_date":1398456842,"post_id":23302147,"comment_id":35672476,"body_markdown":"`url` object is probably null.","body":"<code>url</code> object is probably null."},{"owner":{"account_id":2507550,"reputation":10975,"user_id":2180785,"accept_rate":90,"display_name":"Frakcool"},"score":0,"creation_date":1398456850,"post_id":23302147,"comment_id":35672481,"body_markdown":"which lines are 21 and 49?","body":"which lines are 21 and 49?"},{"owner":{"account_id":1380272,"reputation":1920,"user_id":1313439,"accept_rate":83,"display_name":"Daniel"},"score":2,"creation_date":1398456950,"post_id":23302147,"comment_id":35672531,"body_markdown":"Just to clarify, you are only getting one Null pointer exception and that is at line 49. Line 21 is simply part of the call stack, meaning it is where fileToPath was called. The bottom line of the stack trace (the entire error output you got) is the actual place it occured. All the the lines above it just show you how the code got there.","body":"Just to clarify, you are only getting one Null pointer exception and that is at line 49. Line 21 is simply part of the call stack, meaning it is where fileToPath was called. The bottom line of the stack trace (the entire error output you got) is the actual place it occured. All the the lines above it just show you how the code got there."},{"owner":{"account_id":4379678,"reputation":66,"user_id":3571630,"display_name":"ShaneCoder"},"score":0,"creation_date":1398457202,"post_id":23302147,"comment_id":35672656,"body_markdown":"`MainTestCharm_saveToMemory.class.getResource(filename);` is going to look for the file on the CLASSPATH. You would use this if you are running your application from a jar file that also contains the `contextPasquier99.txt` file, or have included a directory on the CLASSPATH that contains that file. Is this what you want? If you&#39;re trying to open a file on the file system, you should use `java.io.File`.","body":"<code>MainTestCharm_saveToMemory.class.getResource(filename);</code> is going to look for the file on the CLASSPATH. You would use this if you are running your application from a jar file that also contains the <code>contextPasquier99.txt</code> file, or have included a directory on the CLASSPATH that contains that file. Is this what you want? If you&#39;re trying to open a file on the file system, you should use <code>java.io.File</code>."},{"owner":{"account_id":1591725,"reputation":1428,"user_id":1474922,"accept_rate":68,"display_name":"nimeshkiranverma"},"score":0,"creation_date":1398457660,"post_id":23302147,"comment_id":35672919,"body_markdown":"@Frakcool\n\nI edited the question to mention the lines!","body":"@Frakcool  I edited the question to mention the lines!"}],"answers":[{"comments":[{"owner":{"account_id":455015,"reputation":4764,"user_id":852971,"accept_rate":95,"display_name":"Cody S"},"score":0,"creation_date":1398457154,"post_id":23302196,"comment_id":35672626,"body_markdown":"@ShaneCoder why are you asking me?","body":"@ShaneCoder why are you asking me?"},{"owner":{"account_id":1591725,"reputation":1428,"user_id":1474922,"accept_rate":68,"display_name":"nimeshkiranverma"},"score":0,"creation_date":1398458146,"post_id":23302196,"comment_id":35673164,"body_markdown":"How can I fix the &#39;null&#39; return of \nMainTestCharm_saveToMemory.class.getResource(filename);","body":"How can I fix the &#39;null&#39; return of  MainTestCharm_saveToMemory.class.getResource(filename);"},{"owner":{"account_id":455015,"reputation":4764,"user_id":852971,"accept_rate":95,"display_name":"Cody S"},"score":0,"creation_date":1398458470,"post_id":23302196,"comment_id":35673336,"body_markdown":"@nimesh.iitd Make sure there&#39;s a resource in your JAR that points at &quot;contextPasquier99.txt&quot;","body":"@nimesh.iitd Make sure there&#39;s a resource in your JAR that points at &quot;contextPasquier99.txt&quot;"},{"owner":{"account_id":1591725,"reputation":1428,"user_id":1474922,"accept_rate":68,"display_name":"nimeshkiranverma"},"score":0,"creation_date":1398458651,"post_id":23302196,"comment_id":35673457,"body_markdown":"I have kept the contextPasquier99.txt in the same folder as this program i&#39;m trying to run. Should I keep it somewhere else?","body":"I have kept the contextPasquier99.txt in the same folder as this program i&#39;m trying to run. Should I keep it somewhere else?"},{"owner":{"account_id":455015,"reputation":4764,"user_id":852971,"accept_rate":95,"display_name":"Cody S"},"score":0,"creation_date":1398459084,"post_id":23302196,"comment_id":35673688,"body_markdown":"Maybe try &quot;/contextPasquier99&quot;? I&#39;m literally just guessing, as I do not know the structure of your JAR.","body":"Maybe try &quot;/contextPasquier99&quot;? I&#39;m literally just guessing, as I do not know the structure of your JAR."}],"tags":[],"owner":{"account_id":455015,"reputation":4764,"user_id":852971,"accept_rate":95,"display_name":"Cody S"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1398456846,"creation_date":1398456846,"answer_id":23302196,"question_id":23302147,"body_markdown":"Without line numbers, this is a bit tricky, but I&#39;m going to go out on a limb...\r\n\r\nWhat does `MainTestCharm_saveToMemory.class.getResource(filename);` return?\r\nI&#39;m guessing `null`, causing a NPE on the next line when you do `url.getPath()`","title":"How can I fix the java.lang.NullPointerException in the given code?","body":"<p>Without line numbers, this is a bit tricky, but I'm going to go out on a limb...</p>\n\n<p>What does <code>MainTestCharm_saveToMemory.class.getResource(filename);</code> return?\nI'm guessing <code>null</code>, causing a NPE on the next line when you do <code>url.getPath()</code></p>\n"},{"comments":[{"owner":{"account_id":455015,"reputation":4764,"user_id":852971,"accept_rate":95,"display_name":"Cody S"},"score":0,"creation_date":1398458528,"post_id":23302636,"comment_id":35673376,"body_markdown":"System.exit(-1)? That&#39;s a new one on me. Usually that&#39;s 0 or a positive value (or have I been playing with Unix too much?)","body":"System.exit(-1)? That&#39;s a new one on me. Usually that&#39;s 0 or a positive value (or have I been playing with Unix too much?)"},{"owner":{"account_id":2767918,"reputation":899,"user_id":2383168,"accept_rate":85,"display_name":"tasegula"},"score":0,"creation_date":1398458558,"post_id":23302636,"comment_id":35673399,"body_markdown":"It doesn&#39;t matter the value. If it&#39;s different than 0, it&#39;s an error.","body":"It doesn&#39;t matter the value. If it&#39;s different than 0, it&#39;s an error."},{"owner":{"account_id":455015,"reputation":4764,"user_id":852971,"accept_rate":95,"display_name":"Cody S"},"score":0,"creation_date":1398458581,"post_id":23302636,"comment_id":35673417,"body_markdown":"fair enough. Guess the Unix has corrupted my brain :)","body":"fair enough. Guess the Unix has corrupted my brain :)"},{"owner":{"account_id":1591725,"reputation":1428,"user_id":1474922,"accept_rate":68,"display_name":"nimeshkiranverma"},"score":0,"creation_date":1398458992,"post_id":23302636,"comment_id":35673644,"body_markdown":"@tase92\nWhere should I keep &quot;contextPasquier99.txt&quot; so that getResource is able to find it?","body":"@tase92 Where should I keep &quot;contextPasquier99.txt&quot; so that getResource is able to find it?"},{"owner":{"account_id":3267339,"reputation":8505,"user_id":2751573,"accept_rate":52,"display_name":"Andrew"},"score":0,"creation_date":1398462195,"post_id":23302636,"comment_id":35675118,"body_markdown":"You have to be very careful using relative paths.  class.getResource and ClassLoader.getResource have different relative paths.  Relative paths are a nightmare.","body":"You have to be very careful using relative paths.  class.getResource and ClassLoader.getResource have different relative paths.  Relative paths are a nightmare."},{"owner":{"account_id":2767918,"reputation":899,"user_id":2383168,"accept_rate":85,"display_name":"tasegula"},"score":0,"creation_date":1398463156,"post_id":23302636,"comment_id":35675511,"body_markdown":"From what I know, if he is using `class.getResource(filename)` it will be ok. If he was using &#39;class.getClassLoader().getResource(filename)` it would have returned null, as `ClassLoader.getResource()` is searching for that specific absolute path.","body":"From what I know, if he is using <code>class.getResource(filename)</code> it will be ok. If he was using &#39;class.getClassLoader().getResource(filename)` it would have returned null, as <code>ClassLoader.getResource()</code> is searching for that specific absolute path."},{"owner":{"account_id":1591725,"reputation":1428,"user_id":1474922,"accept_rate":68,"display_name":"nimeshkiranverma"},"score":0,"creation_date":1398503860,"post_id":23302636,"comment_id":35684399,"body_markdown":"@tase92 I had contextPasquier99.txt in package ca.pfv.spmf.test from the start but still Nullpointerexception was obtained. Should I keep it some where else?","body":"@tase92 I had contextPasquier99.txt in package ca.pfv.spmf.test from the start but still Nullpointerexception was obtained. Should I keep it some where else?"},{"owner":{"account_id":2767918,"reputation":899,"user_id":2383168,"accept_rate":85,"display_name":"tasegula"},"score":0,"creation_date":1398506908,"post_id":23302636,"comment_id":35685268,"body_markdown":"@nimesh.iitd Try &quot;/contextPasquier99.txt&quot;","body":"@nimesh.iitd Try &quot;/contextPasquier99.txt&quot;"}],"tags":[],"owner":{"account_id":2767918,"reputation":899,"user_id":2383168,"accept_rate":85,"display_name":"tasegula"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1398460853,"creation_date":1398458475,"answer_id":23302636,"question_id":23302147,"body_markdown":"Your .getResource(filename) is probably returning a `null`. You should test that `url` has a value before using it; something like:\r\n\r\n    public static String fileToPath(String filename) throws UnsupportedEncodingException{\r\n        URL url = MainTestCharm_saveToMemory.class.getResource(filename);\r\n\r\n        if (url != null) {\r\n            return java.net.URLDecoder.decode(url.getPath(),&quot;UTF-8&quot;);\r\n        }\r\n\r\n        System.out.println(&quot;file: &quot; + filename + &quot;not found&quot;);\r\n        System.exit(-1); // or return empty string or null\r\n    }\r\n\r\nEDIT:\r\nFor `getResource(filename)` to work outside the package, the filename should start with &quot;/&quot;; for example:\r\n    \r\n    database.loadFile(fileToPath(&quot;/contextPasquier99.txt&quot;));\r\n\r\nIf it&#39;s called like:\r\n\r\n    database.loadFile(fileToPath(&quot;contextPasquier99.txt&quot;));\r\n\r\nit will only look inside the `package ca.pfv.spmf.test`.\r\n","title":"How can I fix the java.lang.NullPointerException in the given code?","body":"<p>Your .getResource(filename) is probably returning a <code>null</code>. You should test that <code>url</code> has a value before using it; something like:</p>\n\n<pre><code>public static String fileToPath(String filename) throws UnsupportedEncodingException{\n    URL url = MainTestCharm_saveToMemory.class.getResource(filename);\n\n    if (url != null) {\n        return java.net.URLDecoder.decode(url.getPath(),\"UTF-8\");\n    }\n\n    System.out.println(\"file: \" + filename + \"not found\");\n    System.exit(-1); // or return empty string or null\n}\n</code></pre>\n\n<p>EDIT:\nFor <code>getResource(filename)</code> to work outside the package, the filename should start with \"/\"; for example:</p>\n\n<pre><code>database.loadFile(fileToPath(\"/contextPasquier99.txt\"));\n</code></pre>\n\n<p>If it's called like:</p>\n\n<pre><code>database.loadFile(fileToPath(\"contextPasquier99.txt\"));\n</code></pre>\n\n<p>it will only look inside the <code>package ca.pfv.spmf.test</code>.</p>\n"},{"tags":[],"owner":{"account_id":529329,"reputation":314,"user_id":910572,"display_name":"twester"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1398459916,"creation_date":1398459916,"answer_id":23303020,"question_id":23302147,"body_markdown":"The cause of NullPointerExcception is located in line 48. \r\n\r\n    URL url = MainTestCharm_saveToMemory.class.getResource(filename);\r\n\r\nWhen you tried to obtain the URL of resource you got the `null` as stated in [documentation][1] of method `getResource`. Thus, you must check the  existence of resource before run the code. It will help you to solve this problem. BTW do not forgot that the resource is not a regular file located anywhere on  the filesystem. It&#39;s a file located in the the search path used to load classes.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getResource%28java.lang.String%29","title":"How can I fix the java.lang.NullPointerException in the given code?","body":"<p>The cause of NullPointerExcception is located in line 48. </p>\n\n<pre><code>URL url = MainTestCharm_saveToMemory.class.getResource(filename);\n</code></pre>\n\n<p>When you tried to obtain the URL of resource you got the <code>null</code> as stated in <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getResource%28java.lang.String%29\" rel=\"nofollow\">documentation</a> of method <code>getResource</code>. Thus, you must check the  existence of resource before run the code. It will help you to solve this problem. BTW do not forgot that the resource is not a regular file located anywhere on  the filesystem. It's a file located in the the search path used to load classes.</p>\n"},{"tags":[],"owner":{"account_id":1962334,"reputation":2696,"user_id":1763507,"accept_rate":20,"display_name":"Karibasappa G C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1398461350,"creation_date":1398461350,"answer_id":23303389,"question_id":23302147,"body_markdown":"Mostly your file &quot;contextPasquier99.txt&quot; exist in some path but you might have not specified it with complete correct path.\r\n\r\nif so your  `URL url = MainTestCharm_saveToMemory.class.getResource(filename);`\r\n\r\nreturns null for invalid file path and this propogates the null pointer exception to below line\r\n\r\n     return java.net.URLDecoder.decode(url.getPath(),&quot;UTF-8&quot;);\r\nas url is calling its method but seems url is null.\r\n\r\nand this exception propogates to caller i e\r\n\r\n     database.loadFile(fileToPath(&quot;contextPasquier99.txt&quot;));\r\n\r\n\r\n","title":"How can I fix the java.lang.NullPointerException in the given code?","body":"<p>Mostly your file \"contextPasquier99.txt\" exist in some path but you might have not specified it with complete correct path.</p>\n\n<p>if so your  <code>URL url = MainTestCharm_saveToMemory.class.getResource(filename);</code></p>\n\n<p>returns null for invalid file path and this propogates the null pointer exception to below line</p>\n\n<pre><code> return java.net.URLDecoder.decode(url.getPath(),\"UTF-8\");\n</code></pre>\n\n<p>as url is calling its method but seems url is null.</p>\n\n<p>and this exception propogates to caller i e</p>\n\n<pre><code> database.loadFile(fileToPath(\"contextPasquier99.txt\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12601597,"reputation":12580,"user_id":9164141,"accept_rate":93,"display_name":"Gast&#243;n Saill&#233;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701450343,"creation_date":1701450343,"answer_id":77586956,"question_id":23302147,"body_markdown":"There are sometimes that we have \r\n\r\n    val uri = Uri.parse(url)\r\n    var fileName = URLDecoder.decode(uri.lastPathSegment, &quot;UTF-8&quot;)\r\n\r\nReemember that `uri.lastPathSegment` is Nullable and could return null\r\n\r\n    /**\r\n     * Gets the decoded last segment in the path.\r\n     *\r\n     * @return the decoded last segment or null if the path is empty\r\n     */\r\n    @Nullable\r\n    public abstract String getLastPathSegment();\r\n\r\nYou should always check if the path is not null before continuing to decode\r\n\r\n    val uri = Uri.parse(url)\r\n    if(uri.lastPathSegment != null)\r\n    var fileName = URLDecoder.decode(uri.lastPathSegment, &quot;UTF-8&quot;)","title":"How can I fix the java.lang.NullPointerException in the given code?","body":"<p>There are sometimes that we have</p>\n<pre><code>val uri = Uri.parse(url)\nvar fileName = URLDecoder.decode(uri.lastPathSegment, &quot;UTF-8&quot;)\n</code></pre>\n<p>Reemember that <code>uri.lastPathSegment</code> is Nullable and could return null</p>\n<pre><code>/**\n * Gets the decoded last segment in the path.\n *\n * @return the decoded last segment or null if the path is empty\n */\n@Nullable\npublic abstract String getLastPathSegment();\n</code></pre>\n<p>You should always check if the path is not null before continuing to decode</p>\n<pre><code>val uri = Uri.parse(url)\nif(uri.lastPathSegment != null)\nvar fileName = URLDecoder.decode(uri.lastPathSegment, &quot;UTF-8&quot;)\n</code></pre>\n"}],"owner":{"account_id":1591725,"reputation":1428,"user_id":1474922,"accept_rate":68,"display_name":"nimeshkiranverma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4839,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":23302636,"answer_count":5,"score":0,"last_activity_date":1701450343,"creation_date":1398456686,"question_id":23302147,"body_markdown":"When I run the program below (in NETBEANS 6.1.0 ), I get a &#39;java.lang.NullPointerException&#39; in line 21 and 49. I&#39;m a java novice please help to fix the error.\r\n\r\n\r\n  line 21. database.loadFile(fileToPath(&quot;contextPasquier99.txt&quot;));\r\n\r\n  line 49. return java.net.URLDecoder.decode(url.getPath(),&quot;UTF-8&quot;);\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n\r\n----------\r\n\r\n\r\n      package ca.pfv.spmf.test;\r\n\r\n    import java.io.IOException;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.net.URL;\r\n\r\n    import ca.pfv.spmf.algorithms.frequentpatterns.eclat_and_charm.AlgoCharm;\r\n    import ca.pfv.spmf.input.transaction_database_list_integers.TransactionDatabase;\r\n    import ca.pfv.spmf.patterns.itemset_set_integers_with_tids.Itemsets;\r\n\r\n    /**\r\n     * Example of how to use the CHARM algorithm from the source code.\r\n     * @author Philippe Fournier-Viger (Copyright 2009)\r\n     */\r\n       public class MainTestCharm_saveToMemory {\r\n\r\n\tpublic static void main(String [] arg) throws IOException{\r\n\t\t// Loading the transaction database\r\n\t\tTransactionDatabase database = new TransactionDatabase();\r\n\t\ttry {\r\n\t\t\tdatabase.loadFile(fileToPath(&quot;contextPasquier99.txt&quot;));\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tdatabase.printDatabase();\r\n\t\t\r\n\t\t// Applying the Charm algorithm\r\n\t\tAlgoCharm algo = new AlgoCharm();\r\n\t\tItemsets closedItemsets = algo.runAlgorithm(null, database, 100000, 0.4, true);\r\n\t\t// NOTE 0: We use &quot;null&quot; as output file path, because in this\r\n\t\t// example, we want to save the result to memory instead of\r\n\t\t// saving to a file\r\n\t\t\r\n\t\t// NOTE 1: if you  use &quot;true&quot; in the line above, CHARM will use\r\n\t\t// a triangular matrix  for counting support of itemsets of size 2.\r\n\t\t// For some datasets it should make the algorithm faster.\r\n\t\t\r\n\t\t// NOTE 2:  1000000 is the hashtable size used by CHARM for\r\n\t\t// storing itemsets.  Most users don&#39;t use this parameter.\r\n\t\t\r\n\t\t// print the statistics\r\n\t\talgo.printStats();\r\n\t\t// print the frequent itemsets found\r\n\t\tclosedItemsets.printItemsets(database.size());\r\n\t}\r\n\t\r\n\tpublic static String fileToPath(String filename) throws UnsupportedEncodingException{\r\n\t\tURL url = MainTestCharm_saveToMemory.class.getResource(filename);\r\n\t\t return java.net.URLDecoder.decode(url.getPath(),&quot;UTF-8&quot;);\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\nI get the following:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n            at ca.pfv.spmf.test.MainTestCharm_saveToMemory.fileToPath(MainTestCharm_saveToMemory.java:49)\r\n            at ca.pfv.spmf.test.MainTestCharm_saveToMemory.main(MainTestCharm_saveToMemory.java:21)","title":"How can I fix the java.lang.NullPointerException in the given code?","body":"<p>When I run the program below (in NETBEANS 6.1.0 ), I get a 'java.lang.NullPointerException' in line 21 and 49. I'm a java novice please help to fix the error.</p>\n\n<p>line 21. database.loadFile(fileToPath(\"contextPasquier99.txt\"));</p>\n\n<p>line 49. return java.net.URLDecoder.decode(url.getPath(),\"UTF-8\");</p>\n\n<hr>\n\n<hr>\n\n<pre><code>  package ca.pfv.spmf.test;\n\nimport java.io.IOException;\nimport java.io.UnsupportedEncodingException;\nimport java.net.URL;\n\nimport ca.pfv.spmf.algorithms.frequentpatterns.eclat_and_charm.AlgoCharm;\nimport ca.pfv.spmf.input.transaction_database_list_integers.TransactionDatabase;\nimport ca.pfv.spmf.patterns.itemset_set_integers_with_tids.Itemsets;\n\n/**\n * Example of how to use the CHARM algorithm from the source code.\n * @author Philippe Fournier-Viger (Copyright 2009)\n */\n   public class MainTestCharm_saveToMemory {\n\npublic static void main(String [] arg) throws IOException{\n    // Loading the transaction database\n    TransactionDatabase database = new TransactionDatabase();\n    try {\n        database.loadFile(fileToPath(\"contextPasquier99.txt\"));\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    database.printDatabase();\n\n    // Applying the Charm algorithm\n    AlgoCharm algo = new AlgoCharm();\n    Itemsets closedItemsets = algo.runAlgorithm(null, database, 100000, 0.4, true);\n    // NOTE 0: We use \"null\" as output file path, because in this\n    // example, we want to save the result to memory instead of\n    // saving to a file\n\n    // NOTE 1: if you  use \"true\" in the line above, CHARM will use\n    // a triangular matrix  for counting support of itemsets of size 2.\n    // For some datasets it should make the algorithm faster.\n\n    // NOTE 2:  1000000 is the hashtable size used by CHARM for\n    // storing itemsets.  Most users don't use this parameter.\n\n    // print the statistics\n    algo.printStats();\n    // print the frequent itemsets found\n    closedItemsets.printItemsets(database.size());\n}\n\npublic static String fileToPath(String filename) throws UnsupportedEncodingException{\n    URL url = MainTestCharm_saveToMemory.class.getResource(filename);\n     return java.net.URLDecoder.decode(url.getPath(),\"UTF-8\");\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I get the following:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NullPointerException\n        at ca.pfv.spmf.test.MainTestCharm_saveToMemory.fileToPath(MainTestCharm_saveToMemory.java:49)\n        at ca.pfv.spmf.test.MainTestCharm_saveToMemory.main(MainTestCharm_saveToMemory.java:21)\n</code></pre>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1701450208,"post_id":77586729,"comment_id":136781191,"body_markdown":"You shouldn&#39;t manage versions of `org.springframework.security:spring-security-config` yourself, but let Spring Boot manage it. Spring Boot 3.2.0 requires version 6.2.0.","body":"You shouldn&#39;t manage versions of <code>org.springframework.security:spring-security-config</code> yourself, but let Spring Boot manage it. Spring Boot 3.2.0 requires version 6.2.0."}],"answers":[{"comments":[{"owner":{"account_id":30041849,"reputation":5,"user_id":23022547,"display_name":"Shekel Sniffer"},"score":0,"creation_date":1701450214,"post_id":77586861,"comment_id":136781195,"body_markdown":"The reason why I&#39;m writing it like that is because I&#39;m learning it from very accesible course which has a couple of years now. Was hoping that it would be possible to make it work like that. Thanks for the answer!","body":"The reason why I&#39;m writing it like that is because I&#39;m learning it from very accesible course which has a couple of years now. Was hoping that it would be possible to make it work like that. Thanks for the answer!"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1701450340,"post_id":77586861,"comment_id":136781219,"body_markdown":"Removing the `&lt;version&gt;` tag would also be sufficient, though I guess (not in the mood to doublecheck) it is also imported by `spring-boot-starter-security`.","body":"Removing the <code>&lt;version&gt;</code> tag would also be sufficient, though I guess (not in the mood to doublecheck) it is also imported by <code>spring-boot-starter-security</code>."},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1701451058,"post_id":77586861,"comment_id":136781331,"body_markdown":"@ShekelSniffer if it help you could accept it for future if someone else will have the same problem as you.","body":"@ShekelSniffer if it help you could accept it for future if someone else will have the same problem as you."},{"owner":{"account_id":30041849,"reputation":5,"user_id":23022547,"display_name":"Shekel Sniffer"},"score":1,"creation_date":1701462000,"post_id":77586861,"comment_id":136782954,"body_markdown":"@AndreiLisa was planning to do that but thanks for reminding me! Still new to the platform.","body":"@AndreiLisa was planning to do that but thanks for reminding me! Still new to the platform."}],"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701450280,"creation_date":1701449461,"answer_id":77586861,"question_id":77586729,"body_markdown":"The main problem that you have here is in mixing of framework versions \r\n\r\nTo fix it you have to remove \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n  &lt;version&gt;5.1.6.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nAnd also be sure that you replace all projects imports from `javax.x` to `jakarta.x`.\r\nBecause from Spring Boot 3.x and Spring Framework 6.x all `javax.` were replaced with `jakarta.x`.\r\n\r\nAlso you will have to migrate Spring Security Configuration part because how I see you are using a lot of deprecated and removed parts of Spring Framework.\r\n\r\nMore details you can find in next ones resources. \r\n[Spring Boot 3.0 Migration][1]\r\n\r\n[Spring Security without the WebSecurityConfigurerAdapter][2]\r\n\r\n[Migration Guide Spring Security][3]\r\n\r\n\r\n  [1]: https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0\r\n  [2]: https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\r\n  [3]: https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html","title":"NoClassDefFoundError: javax/servlet/Filter when compiling maven project","body":"<p>The main problem that you have here is in mixing of framework versions</p>\n<p>To fix it you have to remove</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n  &lt;version&gt;5.1.6.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And also be sure that you replace all projects imports from <code>javax.x</code> to <code>jakarta.x</code>.\nBecause from Spring Boot 3.x and Spring Framework 6.x all <code>javax.</code> were replaced with <code>jakarta.x</code>.</p>\n<p>Also you will have to migrate Spring Security Configuration part because how I see you are using a lot of deprecated and removed parts of Spring Framework.</p>\n<p>More details you can find in next ones resources.\n<a href=\"https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0\" rel=\"nofollow noreferrer\">Spring Boot 3.0 Migration</a></p>\n<p><a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">Spring Security without the WebSecurityConfigurerAdapter</a></p>\n<p><a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html\" rel=\"nofollow noreferrer\">Migration Guide Spring Security</a></p>\n"}],"owner":{"account_id":30041849,"reputation":5,"user_id":23022547,"display_name":"Shekel Sniffer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77586861,"answer_count":1,"score":0,"last_activity_date":1701450280,"creation_date":1701448209,"question_id":77586729,"body_markdown":"I have recently started my first maven project and after creating a file which uses spring security it doesn&#39;t launch anymore due to &quot;ClassNotFoundException: javax.servlet.Filter&quot;.\r\n\r\nI have been googling for past 2 hours, but I am yet not efficient enough with projects like that to troubleshoot it properly. I was mainly tinkering with the pom.xml file (which is most likely the problem).\r\n\r\npom.xml file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.freshvotes&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;freshvotes&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;freshvotes&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;19&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\r\n   &lt;dependency&gt;\r\n     &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n     &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n     &lt;version&gt;5.1.6.RELEASE&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n &lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\nWebSecurityConfig file which caused the problem:\r\n```\r\npackage com.freshvotes.security;\r\n\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n\r\n@Configuration\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter\r\n{\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception\r\n    {\r\n        auth.inMemoryAuthentication()\r\n            .withUser(&quot;qwerty@yahoo.com&quot;)\r\n            .password(&quot;qwerty&quot;)\r\n            .roles(&quot;USER&quot;);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception\r\n    {\r\n        http.csrf().disable()\r\n            .authorizeRequests()\r\n            .antMatchers(&quot;/index&quot;).permitAll()\r\n            .anyRequest().hasRole(&quot;USER&quot;)\r\n            .and()\r\n            .formLogin()\r\n                .loginPage(&quot;/login&quot;)\r\n                .permitAll()\r\n                .and()\r\n            .logout()\r\n                .logoutUrl(&quot;/logout&quot;)\r\n                .permitAll();\r\n    }\r\n}\r\n```\r\n\r\nConsole:\r\n```\r\njava.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$SecurityFilterChainConfiguration\r\n        at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\r\n        at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-6.1.1.jar:6.1.1]\r\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader$TrackedConditionEvaluator.shouldSkip(ConfigurationClassBeanDefinitionReader.java:470) ~[spring-context-6.1.1.jar:6.1.1]\r\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:131) ~[spring-context-6.1.1.jar:6.1.1]\r\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120) ~[spring-context-6.1.1.jar:6.1.1]\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:428) ~[spring-context-6.1.1.jar:6.1.1]\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:289) ~[spring-context-6.1.1.jar:6.1.1]\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349) ~[spring-context-6.1.1.jar:6.1.1]\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118) ~[spring-context-6.1.1.jar:6.1.1]\r\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:775) ~[spring-context-6.1.1.jar:6.1.1]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:597) ~[spring-context-6.1.1.jar:6.1.1]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.0.jar:3.2.0]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) ~[spring-boot-3.2.0.jar:3.2.0]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455) ~[spring-boot-3.2.0.jar:3.2.0]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:323) ~[spring-boot-3.2.0.jar:3.2.0]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) ~[spring-boot-3.2.0.jar:3.2.0]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) ~[spring-boot-3.2.0.jar:3.2.0]\r\n        at com.freshvotes.FreshvotesApplication.main(FreshvotesApplication.java:10) ~[classes/:na]\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.0.jar:3.2.0]\r\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@2a139a55]\r\n        at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483) ~[spring-core-6.1.1.jar:6.1.1]\r\n        at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:360) ~[spring-core-6.1.1.jar:6.1.1]\r\n        at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:417) ~[spring-core-6.1.1.jar:6.1.1]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$1(AbstractAutowireCapableBeanFactory.java:751) ~[spring-beans-6.1.1.jar:6.1.1]\r\n        at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708) ~[na:na]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:750) ~[spring-beans-6.1.1.jar:6.1.1]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:683) ~[spring-beans-6.1.1.jar:6.1.1]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:654) ~[spring-beans-6.1.1.jar:6.1.1]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1636) ~[spring-beans-6.1.1.jar:6.1.1]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:560) ~[spring-beans-6.1.1.jar:6.1.1]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:532) ~[spring-beans-6.1.1.jar:6.1.1]\r\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:247) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\r\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:240) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\r\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:230) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\r\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:183) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\r\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:158) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\r\n        at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberOutcomes.getConditionOutcome(AbstractNestedCondition.java:195) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\r\n        at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberOutcomes.&lt;init&gt;(AbstractNestedCondition.java:189) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\r\n        at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberConditions.lambda$getMatchOutcomes$0(AbstractNestedCondition.java:169) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\r\n        at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:729) ~[na:na]\r\n        at org.springframework.util.MultiValueMapAdapter.forEach(MultiValueMapAdapter.java:179) ~[spring-core-6.1.1.jar:6.1.1]\r\n        at java.base/java.util.Collections$UnmodifiableMap.forEach(Collections.java:1553) ~[na:na]\r\n        at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberConditions.getMatchOutcomes(AbstractNestedCondition.java:169) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\r\n        at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberMatchOutcomes.&lt;init&gt;(AbstractNestedCondition.java:78) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\r\n        at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition.getMatchOutcome(AbstractNestedCondition.java:63) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\r\n        at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\r\n        ... 20 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: javax/servlet/Filter\r\n        at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\r\n        at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3458) ~[na:na]\r\n        at java.base/java.lang.Class.getDeclaredMethods(Class.java:2557) ~[na:na]\r\n        at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) ~[spring-core-6.1.1.jar:6.1.1]\r\n        ... 45 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: javax.servlet.Filter\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n        ... 49 common frames omitted\r\n```\r\n\r\n","title":"NoClassDefFoundError: javax/servlet/Filter when compiling maven project","body":"<p>I have recently started my first maven project and after creating a file which uses spring security it doesn't launch anymore due to &quot;ClassNotFoundException: javax.servlet.Filter&quot;.</p>\n<p>I have been googling for past 2 hours, but I am yet not efficient enough with projects like that to troubleshoot it properly. I was mainly tinkering with the pom.xml file (which is most likely the problem).</p>\n<p>pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.freshvotes&lt;/groupId&gt;\n    &lt;artifactId&gt;freshvotes&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;freshvotes&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    \n   &lt;dependency&gt;\n     &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n     &lt;version&gt;5.1.6.RELEASE&lt;/version&gt;\n   &lt;/dependency&gt;\n &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>WebSecurityConfig file which caused the problem:</p>\n<pre><code>package com.freshvotes.security;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n\n@Configuration\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter\n{\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception\n    {\n        auth.inMemoryAuthentication()\n            .withUser(&quot;qwerty@yahoo.com&quot;)\n            .password(&quot;qwerty&quot;)\n            .roles(&quot;USER&quot;);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception\n    {\n        http.csrf().disable()\n            .authorizeRequests()\n            .antMatchers(&quot;/index&quot;).permitAll()\n            .anyRequest().hasRole(&quot;USER&quot;)\n            .and()\n            .formLogin()\n                .loginPage(&quot;/login&quot;)\n                .permitAll()\n                .and()\n            .logout()\n                .logoutUrl(&quot;/logout&quot;)\n                .permitAll();\n    }\n}\n</code></pre>\n<p>Console:</p>\n<pre><code>java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$SecurityFilterChainConfiguration\n        at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\n        at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-6.1.1.jar:6.1.1]\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader$TrackedConditionEvaluator.shouldSkip(ConfigurationClassBeanDefinitionReader.java:470) ~[spring-context-6.1.1.jar:6.1.1]\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:131) ~[spring-context-6.1.1.jar:6.1.1]\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120) ~[spring-context-6.1.1.jar:6.1.1]\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:428) ~[spring-context-6.1.1.jar:6.1.1]\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:289) ~[spring-context-6.1.1.jar:6.1.1]\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349) ~[spring-context-6.1.1.jar:6.1.1]\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118) ~[spring-context-6.1.1.jar:6.1.1]\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:775) ~[spring-context-6.1.1.jar:6.1.1]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:597) ~[spring-context-6.1.1.jar:6.1.1]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.0.jar:3.2.0]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) ~[spring-boot-3.2.0.jar:3.2.0]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455) ~[spring-boot-3.2.0.jar:3.2.0]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:323) ~[spring-boot-3.2.0.jar:3.2.0]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) ~[spring-boot-3.2.0.jar:3.2.0]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) ~[spring-boot-3.2.0.jar:3.2.0]\n        at com.freshvotes.FreshvotesApplication.main(FreshvotesApplication.java:10) ~[classes/:na]\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.0.jar:3.2.0]\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@2a139a55]\n        at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483) ~[spring-core-6.1.1.jar:6.1.1]\n        at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:360) ~[spring-core-6.1.1.jar:6.1.1]\n        at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:417) ~[spring-core-6.1.1.jar:6.1.1]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$1(AbstractAutowireCapableBeanFactory.java:751) ~[spring-beans-6.1.1.jar:6.1.1]\n        at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708) ~[na:na]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:750) ~[spring-beans-6.1.1.jar:6.1.1]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:683) ~[spring-beans-6.1.1.jar:6.1.1]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:654) ~[spring-beans-6.1.1.jar:6.1.1]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1636) ~[spring-beans-6.1.1.jar:6.1.1]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:560) ~[spring-beans-6.1.1.jar:6.1.1]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:532) ~[spring-beans-6.1.1.jar:6.1.1]\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:247) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:240) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:230) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:183) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:158) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\n        at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberOutcomes.getConditionOutcome(AbstractNestedCondition.java:195) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\n        at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberOutcomes.&lt;init&gt;(AbstractNestedCondition.java:189) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\n        at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberConditions.lambda$getMatchOutcomes$0(AbstractNestedCondition.java:169) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\n        at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:729) ~[na:na]\n        at org.springframework.util.MultiValueMapAdapter.forEach(MultiValueMapAdapter.java:179) ~[spring-core-6.1.1.jar:6.1.1]\n        at java.base/java.util.Collections$UnmodifiableMap.forEach(Collections.java:1553) ~[na:na]\n        at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberConditions.getMatchOutcomes(AbstractNestedCondition.java:169) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\n        at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberMatchOutcomes.&lt;init&gt;(AbstractNestedCondition.java:78) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\n        at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition.getMatchOutcome(AbstractNestedCondition.java:63) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\n        at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\n        ... 20 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: javax/servlet/Filter\n        at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\n        at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3458) ~[na:na]\n        at java.base/java.lang.Class.getDeclaredMethods(Class.java:2557) ~[na:na]\n        at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) ~[spring-core-6.1.1.jar:6.1.1]\n        ... 45 common frames omitted\nCaused by: java.lang.ClassNotFoundException: javax.servlet.Filter\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n        ... 49 common frames omitted\n</code></pre>\n"},{"tags":["java","spring-boot","jdbctemplate","snowflake-stage"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1701451972,"post_id":77586949,"comment_id":136781490,"body_markdown":"I don&#39;t know the answer to this question, but I am going to take a guess. Would something like `Url url = new Url(&quot;file://&quot; + fpath)` do the trick? Then you can do something like `execute(&quot;PUT &quot; + url.getFile() + ....)`.","body":"I don&#39;t know the answer to this question, but I am going to take a guess. Would something like <code>Url url = new Url(&quot;file:&#47;&#47;&quot; + fpath)</code> do the trick? Then you can do something like <code>execute(&quot;PUT &quot; + url.getFile() + ....)</code>."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1701452391,"post_id":77586949,"comment_id":136781556,"body_markdown":"My other guess is to use `File file = new File(fpath);`.","body":"My other guess is to use <code>File file = new File(fpath);</code>."}],"owner":{"account_id":19788374,"reputation":3,"user_id":14491886,"display_name":"rael guimaraes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701450279,"creation_date":1701450279,"question_id":77586949,"body_markdown":"I am trying to stage a file in snowflake using JdbcTemplate.execute() but I don&#39;t know how protect it against sql injection.\r\n\r\n    private void stageFile(String fpath){\r\n        template.execute(&quot;PUT file://&quot; + fpath + &quot; @SnowFlakeStage AUTO_COMPRESS=FALSE&quot;);\r\n    }","title":"How can I implement this method to prevent from sql injection? Any help would be very much appreciated. Thank you all","body":"<p>I am trying to stage a file in snowflake using JdbcTemplate.execute() but I don't know how protect it against sql injection.</p>\n<pre><code>private void stageFile(String fpath){\n    template.execute(&quot;PUT file://&quot; + fpath + &quot; @SnowFlakeStage AUTO_COMPRESS=FALSE&quot;);\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":19787470,"reputation":1,"user_id":14491147,"display_name":"ceszkraft"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701450167,"creation_date":1701450167,"answer_id":77586941,"question_id":76601400,"body_markdown":"As far as I know you can&#39;t import eslint as you do in Angular for example but descent IDEs as intelliJ you can configure to enforce some kind of style.\r\n\r\nYou can read more here: https://www.jetbrains.com/help/idea/configuring-code-style.html#delete-code-style-schemes","title":"Is there a Spring boot code style enforce, linter?","body":"<p>As far as I know you can't import eslint as you do in Angular for example but descent IDEs as intelliJ you can configure to enforce some kind of style.</p>\n<p>You can read more here: <a href=\"https://www.jetbrains.com/help/idea/configuring-code-style.html#delete-code-style-schemes\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/configuring-code-style.html#delete-code-style-schemes</a></p>\n"}],"owner":{"account_id":20887033,"reputation":109,"user_id":15343391,"display_name":"AdvMaple"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701450167,"creation_date":1688347996,"question_id":76601400,"body_markdown":"My project currently using Springboot, and I want to enforce code styles like eslint and prettier. How do I do this?\r\nFor example:\r\n```java\r\n@GetMapping()\r\n    public ResponseEntity&lt;byte[]&gt; getJson(@RequestHeader(&quot;Accept&quot;) String acceptHeader, @RequestParam(required = false) Optional&lt;String&gt; msisdn, @RequestParam(required = false) Optional&lt;LocalDate&gt; startDate, @RequestParam(required = false) Optional&lt;LocalDate&gt; endDate, @RequestParam(required = false) Optional&lt;BlockStatusEnum&gt; status, @RequestParam(required = false) Optional&lt;Integer&gt; pageSize, @RequestParam(required = false) Optional&lt;Integer&gt; pageNumber) throws IOException {\r\n    \r\n```\r\nI want to enforce it to\r\n```java\r\n@GetMapping()\r\n    public ResponseEntity&lt;byte[]&gt; get(\r\n            @RequestHeader(&quot;Accept&quot;) String acceptHeader,\r\n            @RequestParam(required = false) Optional&lt;String&gt; msisdn,\r\n            @RequestParam(required = false) Optional&lt;LocalDate&gt; startDate, \r\n            @RequestParam(required = false) Optional&lt;LocalDate&gt; endDate, \r\n            @RequestParam(required = false) Optional&lt;BlockStatusEnum&gt; status, \r\n            @RequestParam(required = false) Optional&lt;Integer&gt; pageSize, \r\n            @RequestParam(required = false) Optional&lt;Integer&gt; pageNumber)\r\n            throws IOException {\r\n\r\n```","title":"Is there a Spring boot code style enforce, linter?","body":"<p>My project currently using Springboot, and I want to enforce code styles like eslint and prettier. How do I do this?\nFor example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping()\n    public ResponseEntity&lt;byte[]&gt; getJson(@RequestHeader(&quot;Accept&quot;) String acceptHeader, @RequestParam(required = false) Optional&lt;String&gt; msisdn, @RequestParam(required = false) Optional&lt;LocalDate&gt; startDate, @RequestParam(required = false) Optional&lt;LocalDate&gt; endDate, @RequestParam(required = false) Optional&lt;BlockStatusEnum&gt; status, @RequestParam(required = false) Optional&lt;Integer&gt; pageSize, @RequestParam(required = false) Optional&lt;Integer&gt; pageNumber) throws IOException {\n    \n</code></pre>\n<p>I want to enforce it to</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping()\n    public ResponseEntity&lt;byte[]&gt; get(\n            @RequestHeader(&quot;Accept&quot;) String acceptHeader,\n            @RequestParam(required = false) Optional&lt;String&gt; msisdn,\n            @RequestParam(required = false) Optional&lt;LocalDate&gt; startDate, \n            @RequestParam(required = false) Optional&lt;LocalDate&gt; endDate, \n            @RequestParam(required = false) Optional&lt;BlockStatusEnum&gt; status, \n            @RequestParam(required = false) Optional&lt;Integer&gt; pageSize, \n            @RequestParam(required = false) Optional&lt;Integer&gt; pageNumber)\n            throws IOException {\n\n</code></pre>\n"},{"tags":["java","exception","java-8","java-stream"],"comments":[{"owner":{"account_id":9165235,"reputation":15414,"user_id":6815131,"display_name":"Joe C"},"score":1,"creation_date":1500676404,"post_id":45247632,"comment_id":77461342,"body_markdown":"Out of interest... why do you insist on using a `Stream`?","body":"Out of interest... why do you insist on using a <code>Stream</code>?"},{"owner":{"account_id":372076,"reputation":3820,"user_id":720934,"display_name":"hoodaticus"},"score":0,"creation_date":1500676607,"post_id":45247632,"comment_id":77461401,"body_markdown":"Yes you can by implementing BaseStream and Iterator and wrapping it all up yourself; however, it cannot be done efficiently because Java does not have coroutines.","body":"Yes you can by implementing BaseStream and Iterator and wrapping it all up yourself; however, it cannot be done efficiently because Java does not have coroutines."},{"owner":{"account_id":1169697,"reputation":1416,"user_id":1147141,"accept_rate":42,"display_name":"bichito"},"score":0,"creation_date":1500676618,"post_id":45247632,"comment_id":77461403,"body_markdown":"Yes. Streams break even around 10K items. So unless you are dealing with these sizes, there is no point in using them","body":"Yes. Streams break even around 10K items. So unless you are dealing with these sizes, there is no point in using them"},{"owner":{"account_id":372076,"reputation":3820,"user_id":720934,"display_name":"hoodaticus"},"score":0,"creation_date":1500676657,"post_id":45247632,"comment_id":77461417,"body_markdown":"@efekctive - I thought it was lambdas that break even at 10k.  Same difference though, though of course you can use a stream without lambdas.","body":"@efekctive - I thought it was lambdas that break even at 10k.  Same difference though, though of course you can use a stream without lambdas."},{"owner":{"account_id":1169697,"reputation":1416,"user_id":1147141,"accept_rate":42,"display_name":"bichito"},"score":0,"creation_date":1500676840,"post_id":45247632,"comment_id":77461476,"body_markdown":"Earlier this year a couple of SO members posted two really well researched posts and reached similar conclusions. Lambdas do no have a &quot;size&quot; as far as I know. It is the stream that handles them that carries the load. Around the February/March time frame","body":"Earlier this year a couple of SO members posted two really well researched posts and reached similar conclusions. Lambdas do no have a &quot;size&quot; as far as I know. It is the stream that handles them that carries the load. Around the February/March time frame"},{"owner":{"account_id":3771696,"reputation":871,"user_id":3133685,"accept_rate":66,"display_name":"MaxPower"},"score":0,"creation_date":1500677501,"post_id":45247632,"comment_id":77461654,"body_markdown":"@efekctive do you have a link? that sounds really interesting!","body":"@efekctive do you have a link? that sounds really interesting!"},{"owner":{"account_id":3771696,"reputation":871,"user_id":3133685,"accept_rate":66,"display_name":"MaxPower"},"score":0,"creation_date":1500677613,"post_id":45247632,"comment_id":77461678,"body_markdown":"you could extract the logic you trying to do in the stream into a separate method and in that method deal with the try/catch and exceptions.","body":"you could extract the logic you trying to do in the stream into a separate method and in that method deal with the try/catch and exceptions."},{"owner":{"account_id":1169697,"reputation":1416,"user_id":1147141,"accept_rate":42,"display_name":"bichito"},"score":0,"creation_date":1500677835,"post_id":45247632,"comment_id":77461736,"body_markdown":"let me browse...","body":"let me browse..."},{"owner":{"account_id":1169697,"reputation":1416,"user_id":1147141,"accept_rate":42,"display_name":"bichito"},"score":0,"creation_date":1500678562,"post_id":45247632,"comment_id":77461906,"body_markdown":"https://stackoverflow.com/questions/42375003/why-lambda-intstream-anymatch-is-10-slower-than-naive-implementation#comment71904012_42375003 This is one of them. The other was posted shortly after","body":"<a href=\"https://stackoverflow.com/questions/42375003/why-lambda-intstream-anymatch-is-10-slower-than-naive-implementation#comment71904012_42375003\" title=\"why lambda intstream anymatch is 10 slower than naive implementation%23comment71904012_42375003\">stackoverflow.com/questions/42375003/&hellip;</a> This is one of them. The other was posted shortly after"},{"owner":{"account_id":10312640,"reputation":29939,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"score":0,"creation_date":1500679211,"post_id":45247632,"comment_id":77462053,"body_markdown":"Please see here https://stackoverflow.com/questions/44616583/how-to-map-runtimeexceptions-in-java-streams-to-recover-from-invalid-stream-el/44620143","body":"Please see here <a href=\"https://stackoverflow.com/questions/44616583/how-to-map-runtimeexceptions-in-java-streams-to-recover-from-invalid-stream-el/44620143\" title=\"how to map runtimeexceptions in java streams to recover from invalid stream el\">stackoverflow.com/questions/44616583/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1500684542,"creation_date":1500682936,"answer_id":45248441,"question_id":45247632,"body_markdown":"You should catch the exception within the `map` operation:\r\n\r\n    class ExceptionCounter {\r\n        private int count = 0;\r\n\r\n        void inc() { count++; }\r\n\r\n        int getCount() { return count; }\r\n    }\r\n\r\n    ExceptionCounter counter = new ExceptionCounter();\r\n\r\n    List&lt;Item&gt; items = getInputs().stream()\r\n        .map(input -&gt; {\r\n            try {\r\n                return getItem(input);\r\n            } catch (Exception e) {\r\n                // handle exception here\r\n                counter.inc();\r\n            }\r\n        })\r\n        .collect(Collectors.toList());\r\n\r\nWhile this works as expected for sequential streams, it won&#39;t work for parallel streams. Even if the stream is not parallel, we still need the `ExceptionCounter` holder class because variables referenced from within arguments of stream operations (such as `map`) must be *effectively final*. (You can use an array of one element or an `AtomicInteger` instead of a holder class).\r\n\r\nIf we add `synchronized` to the `inc` method of `ExceptionCounter` class, then the solution above would support parallel streams. However, there would be a lot of thread contention on the `inc` method&#39;s lock, thus losing the advantages of parallelization. This (along with attempting to not create error-prone code) is the reason why *side-effects* are discouraged on streams. And counting the number of exceptions is in fact a side-effect.\r\n\r\nFor this particular case, you can avoid the side effect if you use a custom collector:\r\n\r\n    class Result&lt;R&gt; {\r\n        List&lt;R&gt; values = new ArrayList&lt;&gt;();\r\n        int exceptionCount = 0;\r\n        // TODO getters\n    }\r\n    \r\n    static &lt;T, R&gt; Result&lt;R&gt; mappingToListCountingExceptions(Function&lt;T, R&gt; mapper) {\r\n        class Acc {\r\n            Result&lt;R&gt; result = new Result&lt;&gt;();\r\n    \r\n            void add(T t) {\r\n                try {\r\n                    R res = mapper.apply(t);\r\n                    result.value.add(res);\r\n                } catch (Exception e) {\r\n                    result.exceptionCount++;\r\n                }\r\n            }\r\n\r\n            Acc merge(Acc another) {\r\n                result.values.addAll(another.values);\r\n                result.exceptionCount += another.exceptionCount;\r\n            }\r\n        }\r\n        return Collector.of(Acc::new, Acc::add, Acc::merge, acc -&gt; acc.result);\r\n    }\r\n\r\nYou can use this custom collector as follows:\r\n\r\n    Result&lt;Item&gt; items = getInputs().stream()\r\n        .collect(mappingToListCountingExceptions(this::getItem));\r\n\r\nNow it&#39;s up to you to decide whether this approach is better than a traditional `for` loop.\r\n","title":"Java 8 Stream exception handling while adding objects from function return value to list","body":"<p>You should catch the exception within the <code>map</code> operation:</p>\n\n<pre><code>class ExceptionCounter {\n    private int count = 0;\n\n    void inc() { count++; }\n\n    int getCount() { return count; }\n}\n\nExceptionCounter counter = new ExceptionCounter();\n\nList&lt;Item&gt; items = getInputs().stream()\n    .map(input -&gt; {\n        try {\n            return getItem(input);\n        } catch (Exception e) {\n            // handle exception here\n            counter.inc();\n        }\n    })\n    .collect(Collectors.toList());\n</code></pre>\n\n<p>While this works as expected for sequential streams, it won't work for parallel streams. Even if the stream is not parallel, we still need the <code>ExceptionCounter</code> holder class because variables referenced from within arguments of stream operations (such as <code>map</code>) must be <em>effectively final</em>. (You can use an array of one element or an <code>AtomicInteger</code> instead of a holder class).</p>\n\n<p>If we add <code>synchronized</code> to the <code>inc</code> method of <code>ExceptionCounter</code> class, then the solution above would support parallel streams. However, there would be a lot of thread contention on the <code>inc</code> method's lock, thus losing the advantages of parallelization. This (along with attempting to not create error-prone code) is the reason why <em>side-effects</em> are discouraged on streams. And counting the number of exceptions is in fact a side-effect.</p>\n\n<p>For this particular case, you can avoid the side effect if you use a custom collector:</p>\n\n<pre><code>class Result&lt;R&gt; {\n    List&lt;R&gt; values = new ArrayList&lt;&gt;();\n    int exceptionCount = 0;\n    // TODO getters\n}\n\nstatic &lt;T, R&gt; Result&lt;R&gt; mappingToListCountingExceptions(Function&lt;T, R&gt; mapper) {\n    class Acc {\n        Result&lt;R&gt; result = new Result&lt;&gt;();\n\n        void add(T t) {\n            try {\n                R res = mapper.apply(t);\n                result.value.add(res);\n            } catch (Exception e) {\n                result.exceptionCount++;\n            }\n        }\n\n        Acc merge(Acc another) {\n            result.values.addAll(another.values);\n            result.exceptionCount += another.exceptionCount;\n        }\n    }\n    return Collector.of(Acc::new, Acc::add, Acc::merge, acc -&gt; acc.result);\n}\n</code></pre>\n\n<p>You can use this custom collector as follows:</p>\n\n<pre><code>Result&lt;Item&gt; items = getInputs().stream()\n    .collect(mappingToListCountingExceptions(this::getItem));\n</code></pre>\n\n<p>Now it's up to you to decide whether this approach is better than a traditional <code>for</code> loop.</p>\n"},{"tags":[],"owner":{"account_id":12271702,"reputation":313,"user_id":8956678,"display_name":"Raouf Makhlouf"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1615375493,"creation_date":1590244452,"answer_id":61973621,"question_id":45247632,"body_markdown":"Event there are several ways to handle exceptions in the stream:\r\n\r\n1. to catch the exception in the map\r\n```\r\nfiles.stream()\r\n   .parallel()\r\n   .map(file-&gt; {\r\n       try {\r\n           return file.getInputStream();\r\n       } catch (IOException e) {\r\n           e.printStackTrace();\r\n           return null;\r\n       }\r\n   })\r\n   .forEach(inputStream -&gt; carService.saveCars(inputStream));\r\n```\r\n\r\n---------------------------------------\r\n 2. to extract the function argument to map into a method of its own: \r\n```\r\nfiles.stream()\r\n      .parallel()\r\n      .map(file-&gt; extractInputStream(file))\r\n      .forEach(inputStream -&gt; carService.saveCars(inputStream));\r\n```\r\nand \r\n```\r\n  private InputStream extractInputStream(MultipartFile file) {\r\n        try {\r\n            return file.getInputStream();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n```\r\n---------------------------------------\r\n 3. create another functional interface, similar to Function, whose apply method did declare that it throws an exception:\r\n```\r\n@FunctionalInterface\r\ninterface FunctionWithException&lt;T, R, E extends Exception&gt; {\r\n  R apply(T t) throws E;\r\n}\r\n```\r\nand \r\n```\r\nprivate &lt;T, R, E extends Exception&gt;\r\n    Function&lt;T, R&gt; wrapper(FunctionWithException&lt;T, R, E&gt; fun) {\r\n        return arg -&gt; {\r\n                        try {\r\n                            return fun.apply(arg);\r\n                        } catch (Exception e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n        };\r\n}\r\n```\r\nthen use it like this \r\n```\r\nfiles.stream()\r\n     .parallel()\r\n     .map(wrapper(file-&gt;file.getInputStream()))\r\n     .forEach(inputStream -&gt; carService.saveCars(inputStream));\r\n```\r\n\r\n---------------------------------------\r\n 4. But if you want to do efficiently with all Functional interfaces, I suggest using this library\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.pivovarit&lt;/groupId&gt;\r\n    &lt;artifactId&gt;throwing-function&lt;/artifactId&gt;\r\n    &lt;version&gt;1.5.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAll explained with an example in this post [Java 8, How to handle exceptions in a stream?][8]\r\n\r\n\r\n\r\n  [8]: https://medium.com/@makhlouf.raouf/java-8-how-to-handle-exceptions-in-a-stream-f884172b10","title":"Java 8 Stream exception handling while adding objects from function return value to list","body":"<p>Event there are several ways to handle exceptions in the stream:</p>\n<ol>\n<li>to catch the exception in the map</li>\n</ol>\n<pre><code>files.stream()\n   .parallel()\n   .map(file-&gt; {\n       try {\n           return file.getInputStream();\n       } catch (IOException e) {\n           e.printStackTrace();\n           return null;\n       }\n   })\n   .forEach(inputStream -&gt; carService.saveCars(inputStream));\n</code></pre>\n<hr />\n<ol start=\"2\">\n<li>to extract the function argument to map into a method of its own:</li>\n</ol>\n<pre><code>files.stream()\n      .parallel()\n      .map(file-&gt; extractInputStream(file))\n      .forEach(inputStream -&gt; carService.saveCars(inputStream));\n</code></pre>\n<p>and</p>\n<pre><code>  private InputStream extractInputStream(MultipartFile file) {\n        try {\n            return file.getInputStream();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n</code></pre>\n<hr />\n<ol start=\"3\">\n<li>create another functional interface, similar to Function, whose apply method did declare that it throws an exception:</li>\n</ol>\n<pre><code>@FunctionalInterface\ninterface FunctionWithException&lt;T, R, E extends Exception&gt; {\n  R apply(T t) throws E;\n}\n</code></pre>\n<p>and</p>\n<pre><code>private &lt;T, R, E extends Exception&gt;\n    Function&lt;T, R&gt; wrapper(FunctionWithException&lt;T, R, E&gt; fun) {\n        return arg -&gt; {\n                        try {\n                            return fun.apply(arg);\n                        } catch (Exception e) {\n                            throw new RuntimeException(e);\n                        }\n        };\n}\n</code></pre>\n<p>then use it like this</p>\n<pre><code>files.stream()\n     .parallel()\n     .map(wrapper(file-&gt;file.getInputStream()))\n     .forEach(inputStream -&gt; carService.saveCars(inputStream));\n</code></pre>\n<hr />\n<ol start=\"4\">\n<li>But if you want to do efficiently with all Functional interfaces, I suggest using this library</li>\n</ol>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.pivovarit&lt;/groupId&gt;\n    &lt;artifactId&gt;throwing-function&lt;/artifactId&gt;\n    &lt;version&gt;1.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>All explained with an example in this post <a href=\"https://medium.com/@makhlouf.raouf/java-8-how-to-handle-exceptions-in-a-stream-f884172b10\" rel=\"nofollow noreferrer\">Java 8, How to handle exceptions in a stream?</a></p>\n"},{"tags":[],"owner":{"account_id":2366172,"reputation":99,"user_id":2071814,"display_name":"Suman Mitra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701450028,"creation_date":1701450028,"answer_id":77586924,"question_id":45247632,"body_markdown":"Try vavr library. It takes java functional programming to ++ level.","title":"Java 8 Stream exception handling while adding objects from function return value to list","body":"<p>Try vavr library. It takes java functional programming to ++ level.</p>\n"}],"owner":{"account_id":4339987,"reputation":81,"user_id":3543488,"display_name":"Kevin Andres"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1649,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":45248441,"answer_count":3,"score":2,"last_activity_date":1701450028,"creation_date":1500676263,"question_id":45247632,"body_markdown":"I&#39;m having a hard time understanding how to handle exceptions when using a Java 8 stream. I would like to add objects to an empty list, and each object gets returned from a function that can potentially throw an exception depending on what the input is. If an exception is thrown for only certain values on the input list, I want it to continue to loop through the remainder of the input list. It seems easy to do with a for loop:\r\n\r\n      List&lt;Item&gt; itemList = new ArrayList&lt;&gt;();\r\n      List&lt;Input&gt; inputs = getInputs(); //returns a list of inputs\r\n      int exceptionCount = 0;\r\n        \r\n       // If an exception is thrown\r\n       for (Input input : inputs){\r\n            try {\r\n               itemList.add(getItem(input));\r\n            } catch (Exception e ) {\r\n             // handle exception from getItem(input)\r\n              exceptionCount = exceptionCount + 1;\r\n            }  \r\n       }\r\n\r\nIt seems like it may be possible to achieve this with a Java stream, but I&#39;m not quite sure how to handle the exception that could be thrown by the `getItem()` function.\r\nHere&#39;s what I have so far:\r\n\r\n        final List&lt;Item&gt; itemList = new ArrayList&lt;&gt;();\r\n        \r\n         try {\r\n             itemList = getInputs().stream()\r\n                              .map(this::getItem)\r\n                              .collect(Collectors.toList());\r\n         } catch (Exception e ) {\r\n             // handle exception from getItem(input)\r\n              exceptionCount = exceptionCount + 1;\r\n            } \r\n\r\nThe above obviously won&#39;t work because as soon as there is *one* exception thrown from `getItem`, the loop will not continue and only one exception will be thrown for the entire stream. Is there any way I can achieve the same implementation as my basic for loop with Java 8 streams?","title":"Java 8 Stream exception handling while adding objects from function return value to list","body":"<p>I'm having a hard time understanding how to handle exceptions when using a Java 8 stream. I would like to add objects to an empty list, and each object gets returned from a function that can potentially throw an exception depending on what the input is. If an exception is thrown for only certain values on the input list, I want it to continue to loop through the remainder of the input list. It seems easy to do with a for loop:</p>\n\n<pre><code>  List&lt;Item&gt; itemList = new ArrayList&lt;&gt;();\n  List&lt;Input&gt; inputs = getInputs(); //returns a list of inputs\n  int exceptionCount = 0;\n\n   // If an exception is thrown\n   for (Input input : inputs){\n        try {\n           itemList.add(getItem(input));\n        } catch (Exception e ) {\n         // handle exception from getItem(input)\n          exceptionCount = exceptionCount + 1;\n        }  \n   }\n</code></pre>\n\n<p>It seems like it may be possible to achieve this with a Java stream, but I'm not quite sure how to handle the exception that could be thrown by the <code>getItem()</code> function.\nHere's what I have so far:</p>\n\n<pre><code>    final List&lt;Item&gt; itemList = new ArrayList&lt;&gt;();\n\n     try {\n         itemList = getInputs().stream()\n                          .map(this::getItem)\n                          .collect(Collectors.toList());\n     } catch (Exception e ) {\n         // handle exception from getItem(input)\n          exceptionCount = exceptionCount + 1;\n        } \n</code></pre>\n\n<p>The above obviously won't work because as soon as there is <em>one</em> exception thrown from <code>getItem</code>, the loop will not continue and only one exception will be thrown for the entire stream. Is there any way I can achieve the same implementation as my basic for loop with Java 8 streams?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":61266,"reputation":39628,"user_id":182690,"accept_rate":94,"display_name":"Dean J"},"score":0,"creation_date":1281730757,"post_id":3480389,"comment_id":3632899,"body_markdown":"What do you mean by main and second main?  What are the names of the classes and packages they&#39;re in?","body":"What do you mean by main and second main?  What are the names of the classes and packages they&#39;re in?"}],"answers":[{"comments":[{"owner":{"account_id":160547,"reputation":7975,"user_id":380691,"accept_rate":86,"display_name":"Shawn D."},"score":2,"creation_date":1281731347,"post_id":3480431,"comment_id":3632977,"body_markdown":"Also, if you&#39;re only referencing the class in one spot, you can just use the full package + classname in code without doing the import, or if you need to resolve the same classname used in two import statements.","body":"Also, if you&#39;re only referencing the class in one spot, you can just use the full package + classname in code without doing the import, or if you need to resolve the same classname used in two import statements."}],"tags":[],"owner":{"account_id":49683,"reputation":9264,"user_id":148059,"display_name":"atk"},"comment_count":1,"down_vote_count":2,"up_vote_count":35,"is_accepted":true,"score":33,"last_activity_date":1382646863,"creation_date":1281731044,"answer_id":3480431,"question_id":3480389,"body_markdown":"You have to provide the full path that you want to import.  \r\n\r\n&lt;pre&gt;\r\nimport com.my.stuff.main.Main;\r\nimport com.my.stuff.second.*;\r\n&lt;/pre&gt;\r\n\r\nSo, in your main class, you&#39;d have:\r\n&lt;pre&gt;\r\npackage com.my.stuff.main\r\n\r\nimport com.my.stuff.second.Second;   // THIS IS THE IMPORTANT LINE FOR YOUR QUESTION\r\n\r\nclass Main {\r\n   public static void main(String[] args) {\r\n      Second second = new Second();\r\n      second.x();  \r\n   }\r\n}\r\n\r\n&lt;/pre&gt;\r\n\r\n\r\n\r\n**EDIT: adding example in response to Shawn D&#39;s comment**\r\n\r\nThere is another alternative, as Shawn D points out, where you can specify the full package name of the object that you want to use.  This is very useful in two locations.  First, if you&#39;re using the class exactly once:\r\n\r\n    class Main {\r\n        void function() {\r\n            int x = my.package.heirarchy.Foo.aStaticMethod();\r\n            \r\n            another.package.heirarchy.Baz b = new another.package.heirarchy.Bax();\r\n        }\r\n    }\r\n\r\n\r\nAlternatively, this is useful when you want to differentiate between two classes with the same short name:\r\n\r\n    class Main {\r\n        void function() {\r\n            java.util.Date utilDate = ...;\r\n            java.sql.Date sqlDate = ...;\r\n        }\r\n    }\r\n","title":"How to use classes in other package?","body":"<p>You have to provide the full path that you want to import.  </p>\n\n<pre>\nimport com.my.stuff.main.Main;\nimport com.my.stuff.second.*;\n</pre>\n\n<p>So, in your main class, you'd have:</p>\n\n<pre>\npackage com.my.stuff.main\n\nimport com.my.stuff.second.Second;   // THIS IS THE IMPORTANT LINE FOR YOUR QUESTION\n\nclass Main {\n   public static void main(String[] args) {\n      Second second = new Second();\n      second.x();  \n   }\n}\n\n</pre>\n\n<p><strong>EDIT: adding example in response to Shawn D's comment</strong></p>\n\n<p>There is another alternative, as Shawn D points out, where you can specify the full package name of the object that you want to use.  This is very useful in two locations.  First, if you're using the class exactly once:</p>\n\n<pre><code>class Main {\n    void function() {\n        int x = my.package.heirarchy.Foo.aStaticMethod();\n\n        another.package.heirarchy.Baz b = new another.package.heirarchy.Bax();\n    }\n}\n</code></pre>\n\n<p>Alternatively, this is useful when you want to differentiate between two classes with the same short name:</p>\n\n<pre><code>class Main {\n    void function() {\n        java.util.Date utilDate = ...;\n        java.sql.Date sqlDate = ...;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4723304,"reputation":400,"user_id":3820670,"accept_rate":50,"display_name":"mor222"},"score":0,"creation_date":1493116983,"post_id":3480477,"comment_id":74265593,"body_markdown":"You need to make your second class &quot;public&quot;","body":"You need to make your second class &quot;public&quot;"}],"tags":[],"owner":{"account_id":35836,"reputation":4360,"user_id":101809,"accept_rate":89,"display_name":"Tim Reddy"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1281731499,"creation_date":1281731499,"answer_id":3480477,"question_id":3480389,"body_markdown":"Given your example, you need to add the following import in your `main.main` class:\r\n\r\n    import second.second;\r\n\r\nSome bonus advice, make sure you titlecase your class names as that is a Java standard.  So your example Main class will have the structure:\r\n\r\n    package main;  //lowercase package names\r\n    public class Main //titlecase class names\r\n    {\r\n        //Main class content\r\n    }\r\n\r\n","title":"How to use classes in other package?","body":"<p>Given your example, you need to add the following import in your <code>main.main</code> class:</p>\n\n<pre><code>import second.second;\n</code></pre>\n\n<p>Some bonus advice, make sure you titlecase your class names as that is a Java standard.  So your example Main class will have the structure:</p>\n\n<pre><code>package main;  //lowercase package names\npublic class Main //titlecase class names\n{\n    //Main class content\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12830403,"reputation":21,"user_id":9281760,"display_name":"Pokuri"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1517200669,"creation_date":1517197770,"answer_id":48494102,"question_id":3480389,"body_markdown":"It should be like `import package_name.Class_Name` --&gt; If you want to import a specific class\r\n(or)\r\n\r\n`import package_name.*` --&gt; To import all classes in a package","title":"How to use classes in other package?","body":"<p>It should be like <code>import package_name.Class_Name</code> --> If you want to import a specific class\n(or)</p>\n\n<p><code>import package_name.*</code> --> To import all classes in a package</p>\n"}],"owner":{"account_id":582768,"reputation":459,"user_id":243273,"accept_rate":38,"display_name":"ace"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196955,"favorite_count":0,"down_vote_count":1,"up_vote_count":30,"accepted_answer_id":3480431,"answer_count":3,"score":29,"last_activity_date":1701449817,"creation_date":1281730709,"question_id":3480389,"body_markdown":"Can I import and use a class from another package? In Eclipse I made 2 packages, one is main other is second\r\n\r\n```none\r\nmain\r\n -main (class)\r\nsecond\r\n -second (class)\r\n```\r\n\r\nI want the main function of main class to call the function x in second class. How can I do it? I tried:\r\n\r\n    import second; \r\n    second.x(); (if both classes are in the same package then it works)\r\n    second.second.x();\r\n\r\nNone of them worked, and I&#39;m out of ideas now.","title":"How to use classes in other package?","body":"<p>Can I import and use a class from another package? In Eclipse I made 2 packages, one is main other is second</p>\n<pre class=\"lang-none prettyprint-override\"><code>main\n -main (class)\nsecond\n -second (class)\n</code></pre>\n<p>I want the main function of main class to call the function x in second class. How can I do it? I tried:</p>\n<pre><code>import second; \nsecond.x(); (if both classes are in the same package then it works)\nsecond.second.x();\n</code></pre>\n<p>None of them worked, and I'm out of ideas now.</p>\n"},{"tags":["java","clone","protected","access-modifiers"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1701449175,"post_id":77586733,"comment_id":136780996,"body_markdown":"Please check out some [similar and related questions on this site](https://www.google.com/search?q=site%3Astackoverflow.com+java+override+clone+required)","body":"Please check out some <a href=\"https://www.google.com/search?q=site%3Astackoverflow.com+java+override+clone+required\" rel=\"nofollow noreferrer\">similar and related questions on this site</a>"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1701449195,"post_id":77586733,"comment_id":136781002,"body_markdown":"`per the definition of the protected access modifier i could be able to call the protected method from anywhere of the same package` - exactly, you are not calling it from the same package. `Object` resides in `java.lang`.","body":"<code>per the definition of the protected access modifier i could be able to call the protected method from anywhere of the same package</code> - exactly, you are not calling it from the same package. <code>Object</code> resides in <code>java.lang</code>."},{"owner":{"account_id":29364586,"reputation":1,"user_id":22498577,"display_name":"Mayor23"},"score":0,"creation_date":1701488370,"post_id":77586733,"comment_id":136785350,"body_markdown":"@Chaosfire but when i tried calling the clone() inside the same class Dog then the method worked fine resulting in no compile or runtime error. I have also mentioned the code for it- it is the program right after the second paragraph. Can you please help because both the programs are saved in the same folder and i also did not declare any package declarations.","body":"@Chaosfire but when i tried calling the clone() inside the same class Dog then the method worked fine resulting in no compile or runtime error. I have also mentioned the code for it- it is the program right after the second paragraph. Can you please help because both the programs are saved in the same folder and i also did not declare any package declarations."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1701509817,"post_id":77586733,"comment_id":136786593,"body_markdown":"@Mayor23 Reread the definition for protected access - you can access `protected` members from the same package or from inheritors. You can&#39;t access it from `java.lang`, because you don&#39;t have access to the package. You can only access it *inside* an inheritor. That&#39;s why you can use it *in* dog. In the example where you get compilation error you are trying to access it *outside* of dog.","body":"@Mayor23 Reread the definition for protected access - you can access <code>protected</code> members from the same package or from inheritors. You can&#39;t access it from <code>java.lang</code>, because you don&#39;t have access to the package. You can only access it <i>inside</i> an inheritor. That&#39;s why you can use it <i>in</i> dog. In the example where you get compilation error you are trying to access it <i>outside</i> of dog."}],"owner":{"account_id":29364586,"reputation":1,"user_id":22498577,"display_name":"Mayor23"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701449018,"answer_count":0,"score":0,"last_activity_date":1701449643,"creation_date":1701448283,"question_id":77586733,"body_markdown":"```java\r\nclass Cat {\r\n\r\n    int j;\r\n\r\n    Cat(int j) {\r\n        this.j = j;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nclass Dog implements Cloneable {\r\n\r\n    int i;\r\n    Cat c;\r\n\r\n    Dog(Cat c, int i) {\r\n        this.c = c;\r\n        this.i = i;\r\n    }\r\n\r\n    public Object clone() throws CloneNotSupportedException {\r\n        return super.clone();\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nclass ShallowCloneDemo {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Cat c = new Cat(20);\r\n        Dog d1 = new Dog(c, 10);\r\n        System.out.println(d1.i + &quot; ... &quot; + d1.c.j);\r\n\r\n        Dog d2 = (Dog) ((Object) d1).clone();\r\n        d2.i = 888;\r\n        d2.c.j = 999;\r\n        System.out.println(d1.i + &quot; ... &quot; + d2.c.j);\r\n    }\r\n}\r\n```\r\n\r\nIn the above program I am calling the `clone()` method on `d1` object inside the ShallowCloneDemo class, so why can&#39;t I call the clone() of the Object class(superclass) without overriding `clone()` in the Dog class?\r\n\r\nWhen I tried calling the clone() from the same Dog class rather than calling it from other class then it worked without any error:\r\n\r\n```java\r\nclass Cat {\r\n\r\n    int j;\r\n\r\n    Cat(int j) {\r\n        this.j = j;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nclass Dog implements Cloneable {\r\n\r\n    int i;\r\n    Cat c;\r\n\r\n    Dog(Cat c, int i) {\r\n        this.c = c;\r\n        this.i = i;\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Cat c = new Cat(20);\r\n        Dog d1 = new Dog(c, 10);\r\n        System.out.println(d1.i + &quot; ... &quot; + d1.c.j);\r\n\r\n        Dog d2 = (Dog) d1.clone();\r\n        d2.i = 888;\r\n        d2.c.j = 999;\r\n        System.out.println(d1.i + &quot; ... &quot; + d2.c.j);\r\n    }\r\n}\r\n```\r\n\r\nHowever, when I tried removing the override of `clone()` inside the Dog class and called the clone() method from the ShallowCloneDemo class on the d1 object:\r\n\r\n```java\r\nclass Cat {\r\n\r\n    int j;\r\n\r\n    Cat(int j) {\r\n        this.j = j;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nclass Dog implements Cloneable {\r\n\r\n    int i;\r\n    Cat c;\r\n\r\n    Dog(Cat c, int i) {\r\n        this.c = c;\r\n        this.i = i;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nclass ShallowCloneDemo {\r\n    public static void main(String[] args) throws Exception {\r\n        Cat c = new Cat(20);\r\n        Dog d1 = new Dog(c, 10);\r\n        System.out.println(d1.i + &quot; ... &quot; + d1.c.j);\r\n\r\n        Dog d2 = (Dog) ((Object) d1).clone();\r\n        d2.i = 888;\r\n        d2.c.j = 999;\r\n        System.out.println(d1.i + &quot; ... &quot; + d2.c.j);\r\n    }\r\n}\r\n```\r\n\r\nthen I was having the following compilation issue:\r\n\r\n&gt; error: clone() has protected access in Object Dog d2 = (Dog)d1.clone();\r\n\r\nI am confused as per the definition of the protected access modifier I should be able to call the protected method from anywhere of the same package. I am writing this program on Notepad of Windows and not providing any declaration for the package and also I am saving all these programs in the same folder.","title":"Why is overriding necessary for the clone() method in the class if we are calling the clone() on the instance of the class in some other class?","body":"<pre class=\"lang-java prettyprint-override\"><code>class Cat {\n\n    int j;\n\n    Cat(int j) {\n        this.j = j;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Dog implements Cloneable {\n\n    int i;\n    Cat c;\n\n    Dog(Cat c, int i) {\n        this.c = c;\n        this.i = i;\n    }\n\n    public Object clone() throws CloneNotSupportedException {\n        return super.clone();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class ShallowCloneDemo {\n\n    public static void main(String[] args) throws Exception {\n        Cat c = new Cat(20);\n        Dog d1 = new Dog(c, 10);\n        System.out.println(d1.i + &quot; ... &quot; + d1.c.j);\n\n        Dog d2 = (Dog) ((Object) d1).clone();\n        d2.i = 888;\n        d2.c.j = 999;\n        System.out.println(d1.i + &quot; ... &quot; + d2.c.j);\n    }\n}\n</code></pre>\n<p>In the above program I am calling the <code>clone()</code> method on <code>d1</code> object inside the ShallowCloneDemo class, so why can't I call the clone() of the Object class(superclass) without overriding <code>clone()</code> in the Dog class?</p>\n<p>When I tried calling the clone() from the same Dog class rather than calling it from other class then it worked without any error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Cat {\n\n    int j;\n\n    Cat(int j) {\n        this.j = j;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Dog implements Cloneable {\n\n    int i;\n    Cat c;\n\n    Dog(Cat c, int i) {\n        this.c = c;\n        this.i = i;\n    }\n\n    public static void main(String[] args) throws Exception {\n        Cat c = new Cat(20);\n        Dog d1 = new Dog(c, 10);\n        System.out.println(d1.i + &quot; ... &quot; + d1.c.j);\n\n        Dog d2 = (Dog) d1.clone();\n        d2.i = 888;\n        d2.c.j = 999;\n        System.out.println(d1.i + &quot; ... &quot; + d2.c.j);\n    }\n}\n</code></pre>\n<p>However, when I tried removing the override of <code>clone()</code> inside the Dog class and called the clone() method from the ShallowCloneDemo class on the d1 object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Cat {\n\n    int j;\n\n    Cat(int j) {\n        this.j = j;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Dog implements Cloneable {\n\n    int i;\n    Cat c;\n\n    Dog(Cat c, int i) {\n        this.c = c;\n        this.i = i;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class ShallowCloneDemo {\n    public static void main(String[] args) throws Exception {\n        Cat c = new Cat(20);\n        Dog d1 = new Dog(c, 10);\n        System.out.println(d1.i + &quot; ... &quot; + d1.c.j);\n\n        Dog d2 = (Dog) ((Object) d1).clone();\n        d2.i = 888;\n        d2.c.j = 999;\n        System.out.println(d1.i + &quot; ... &quot; + d2.c.j);\n    }\n}\n</code></pre>\n<p>then I was having the following compilation issue:</p>\n<blockquote>\n<p>error: clone() has protected access in Object Dog d2 = (Dog)d1.clone();</p>\n</blockquote>\n<p>I am confused as per the definition of the protected access modifier I should be able to call the protected method from anywhere of the same package. I am writing this program on Notepad of Windows and not providing any declaration for the package and also I am saving all these programs in the same folder.</p>\n"},{"tags":["java","spring-boot","truststore","cacerts","apereo"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1701448735,"post_id":77586443,"comment_id":136780909,"body_markdown":"Saying &quot;I have tried so many properties and configuration&quot; is not useful. You should share the details and the results.","body":"Saying &quot;I have tried so many properties and configuration&quot; is not useful. You should share the details and the results."}],"answers":[{"comments":[{"owner":{"account_id":14679090,"reputation":1356,"user_id":10601203,"display_name":"Jesse"},"score":0,"creation_date":1701453516,"post_id":77586871,"comment_id":136781722,"body_markdown":"https://stackoverflow.com/help/ai-policy","body":"<a href=\"https://stackoverflow.com/help/ai-policy\">stackoverflow.com/help/ai-policy</a>"}],"tags":[],"owner":{"account_id":20475886,"reputation":1,"user_id":15025240,"display_name":"Ferhat C"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701449531,"creation_date":1701449531,"answer_id":77586871,"question_id":77586443,"body_markdown":"To configure a custom trust store for your Spring Boot project without modifying the JDK&#39;s cacerts file, you can use the following approach. This involves specifying the trust store location and password through application properties.\r\n\r\nPlace the Trust Store in Your Project:\r\nPlace your custom trust store file (e.g., custom-truststore.jks) in a location within your project. Let&#39;s assume it&#39;s in the src/main/resources directory.\r\n\r\nUpdate Your application.properties or application.yml file:\r\nAdd the following properties to your application.properties or application.yml file:\r\n\r\n    server.ssl.trust-store=classpath:custom-truststore.jks\r\n    server.ssl.trust-store-password=your-trust-store-password\r\n\r\nMake sure to replace your-trust-store-password with the actual password for your trust store.\r\n\r\nConfigure SSL for Your Spring Boot Application:\r\nEnsure that you have the necessary SSL configuration in your application.properties or application.yml for both of your Spring Boot applications. For example:\r\n\r\n    server.ssl.enabled=true\r\n    server.ssl.key-store=classpath:keystore.p12\r\n    server.ssl.key-store-password=your-key-store-password\r\n    server.ssl.key-store-type=PKCS12\r\n\r\nAdjust these settings based on your specific SSL requirements.\r\n\r\nRepeat for the Other Spring Boot Application:\r\nRepeat the same configuration for the second Spring Boot application, making sure to use the same trust store and password if they need to trust each other.\r\n\r\n\r\n","title":"Set custom trust store using JDK11","body":"<p>To configure a custom trust store for your Spring Boot project without modifying the JDK's cacerts file, you can use the following approach. This involves specifying the trust store location and password through application properties.</p>\n<p>Place the Trust Store in Your Project:\nPlace your custom trust store file (e.g., custom-truststore.jks) in a location within your project. Let's assume it's in the src/main/resources directory.</p>\n<p>Update Your application.properties or application.yml file:\nAdd the following properties to your application.properties or application.yml file:</p>\n<pre><code>server.ssl.trust-store=classpath:custom-truststore.jks\nserver.ssl.trust-store-password=your-trust-store-password\n</code></pre>\n<p>Make sure to replace your-trust-store-password with the actual password for your trust store.</p>\n<p>Configure SSL for Your Spring Boot Application:\nEnsure that you have the necessary SSL configuration in your application.properties or application.yml for both of your Spring Boot applications. For example:</p>\n<pre><code>server.ssl.enabled=true\nserver.ssl.key-store=classpath:keystore.p12\nserver.ssl.key-store-password=your-key-store-password\nserver.ssl.key-store-type=PKCS12\n</code></pre>\n<p>Adjust these settings based on your specific SSL requirements.</p>\n<p>Repeat for the Other Spring Boot Application:\nRepeat the same configuration for the second Spring Boot application, making sure to use the same trust store and password if they need to trust each other.</p>\n"}],"owner":{"account_id":10491189,"reputation":153,"user_id":7733017,"display_name":"Aleix Marin&#233;"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701449531,"creation_date":1701445270,"question_id":77586443,"body_markdown":"I want to use a custom trust store that I keep in the repository of my Spring Boot project. \r\n\r\n- I do not want to mess with `cacerts` that comes with the JDK installed. \r\n- I do not want to move files in the JDK installation folder to do my deployment. \r\n- I would prefer to not program any code, only configuration properties or parameters.\r\n\r\nI have tried so many properties and configuration, but it seems that `java` keeps trying to use the `cacerts` file in its installation folder `$JAVA_HOME/lib/security/cacerts`, ignoring my configuration.\r\n\r\nI have read many different posts ([1](https://stackoverflow.com/questions/13657299/how-to-find-current-truststore-on-disk-programatically), [2](https://stackoverflow.com/questions/3139853/get-instance-of-keystore-that-jvm-loads-by-default/3140199#3140199), [3](https://stackoverflow.com/questions/25562494/how-do-i-find-out-what-truststore-file-a-java-vm-has-actually-loaded?rq=3)) and tried many of the methods they describe but they do not work for me. \r\n\r\nDoes anybody know what are the magic words in order to use the trust store that is in a path different from the default?\r\n\r\nIf somebody thinks this is a bad idea, I would like to know why and what is actually the correct way of solving my problem.\r\n\r\nMy project consists of two apps: \r\n- A Spring Boot application which contains the business logic \r\n- An application that behaves as the central authenticator. \r\n\r\nI need HTTPS in both of them and also they must trust each other since they need to communicate to perform the authentication. \r\n\r\nI would like to configure the application to use a trust store that is saved in the repository so that the application works out of the box. Due to that its deployment should be easier and there would be no need to mess up with the file system or trust stores each time we need to do the deployment.\r\n\r\nThank you so much for your help and knowledge in advance. \r\n\r\n","title":"Set custom trust store using JDK11","body":"<p>I want to use a custom trust store that I keep in the repository of my Spring Boot project.</p>\n<ul>\n<li>I do not want to mess with <code>cacerts</code> that comes with the JDK installed.</li>\n<li>I do not want to move files in the JDK installation folder to do my deployment.</li>\n<li>I would prefer to not program any code, only configuration properties or parameters.</li>\n</ul>\n<p>I have tried so many properties and configuration, but it seems that <code>java</code> keeps trying to use the <code>cacerts</code> file in its installation folder <code>$JAVA_HOME/lib/security/cacerts</code>, ignoring my configuration.</p>\n<p>I have read many different posts (<a href=\"https://stackoverflow.com/questions/13657299/how-to-find-current-truststore-on-disk-programatically\">1</a>, <a href=\"https://stackoverflow.com/questions/3139853/get-instance-of-keystore-that-jvm-loads-by-default/3140199#3140199\">2</a>, <a href=\"https://stackoverflow.com/questions/25562494/how-do-i-find-out-what-truststore-file-a-java-vm-has-actually-loaded?rq=3\">3</a>) and tried many of the methods they describe but they do not work for me.</p>\n<p>Does anybody know what are the magic words in order to use the trust store that is in a path different from the default?</p>\n<p>If somebody thinks this is a bad idea, I would like to know why and what is actually the correct way of solving my problem.</p>\n<p>My project consists of two apps:</p>\n<ul>\n<li>A Spring Boot application which contains the business logic</li>\n<li>An application that behaves as the central authenticator.</li>\n</ul>\n<p>I need HTTPS in both of them and also they must trust each other since they need to communicate to perform the authentication.</p>\n<p>I would like to configure the application to use a trust store that is saved in the repository so that the application works out of the box. Due to that its deployment should be easier and there would be no need to mess up with the file system or trust stores each time we need to do the deployment.</p>\n<p>Thank you so much for your help and knowledge in advance.</p>\n"},{"tags":["java","html","applet","paint","appletviewer"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":0,"creation_date":1358287232,"post_id":14347590,"comment_id":19945694,"body_markdown":"Any errors being displayed?","body":"Any errors being displayed?"},{"owner":{"account_id":398383,"reputation":12130,"user_id":763029,"accept_rate":88,"display_name":"Caffeinated"},"score":0,"creation_date":1358287234,"post_id":14347590,"comment_id":19945697,"body_markdown":"Depending on the browser, this might be hard.. see this - http://stackoverflow.com/a/4272861/763029","body":"Depending on the browser, this might be hard.. see this - <a href=\"http://stackoverflow.com/a/4272861/763029\">stackoverflow.com/a/4272861/763029</a>"},{"owner":{"account_id":2184519,"reputation":51,"user_id":1933229,"display_name":"user1933229"},"score":0,"creation_date":1358287321,"post_id":14347590,"comment_id":19945722,"body_markdown":"No errors, and JavaRocksApplet.java compiles successfully. When the appletviewer command or the HTML page are used, nothing displays","body":"No errors, and JavaRocksApplet.java compiles successfully. When the appletviewer command or the HTML page are used, nothing displays"},{"owner":{"account_id":398383,"reputation":12130,"user_id":763029,"accept_rate":88,"display_name":"Caffeinated"},"score":0,"creation_date":1358287372,"post_id":14347590,"comment_id":19945747,"body_markdown":"@RomanC - Wait, whaaa? too heavy?","body":"@RomanC - Wait, whaaa? too heavy?"},{"owner":{"account_id":398383,"reputation":12130,"user_id":763029,"accept_rate":88,"display_name":"Caffeinated"},"score":0,"creation_date":1358287399,"post_id":14347590,"comment_id":19945759,"body_markdown":"Does it compile in a non-applet setting?","body":"Does it compile in a non-applet setting?"},{"owner":{"account_id":398383,"reputation":12130,"user_id":763029,"accept_rate":88,"display_name":"Caffeinated"},"score":0,"creation_date":1358287541,"post_id":14347590,"comment_id":19945804,"body_markdown":"See this too- http://stackoverflow.com/questions/13482331/browser-doesnt-show-java-applet","body":"See this too- <a href=\"http://stackoverflow.com/questions/13482331/browser-doesnt-show-java-applet\" title=\"browser doesnt show java applet\">stackoverflow.com/questions/13482331/&hellip;</a>"},{"owner":{"account_id":1345324,"reputation":3987,"user_id":1286210,"display_name":"Neet"},"score":1,"creation_date":1358287627,"post_id":14347590,"comment_id":19945841,"body_markdown":"Strange, the code works perfectly (and the applet renders the string) in Eclipse, Chrome and Firefox. How do you compile the program?","body":"Strange, the code works perfectly (and the applet renders the string) in Eclipse, Chrome and Firefox. How do you compile the program?"}],"answers":[{"tags":[],"owner":{"account_id":2205705,"reputation":3873,"user_id":1948990,"accept_rate":20,"display_name":"matt forsythe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1358287782,"creation_date":1358287782,"answer_id":14347834,"question_id":14347590,"body_markdown":"Typically, you define an init() method and add initialize some GUI components inside of it.  I wouldn&#39;t override paint().  I&#39;m not sure what exactly that would do.","title":"Java applet does not display anything","body":"<p>Typically, you define an init() method and add initialize some GUI components inside of it.  I wouldn't override paint().  I'm not sure what exactly that would do.</p>\n"},{"tags":[],"owner":{"account_id":72007,"reputation":3018,"user_id":208065,"accept_rate":100,"display_name":"JohnnyO"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1358287792,"creation_date":1358287792,"answer_id":14347838,"question_id":14347590,"body_markdown":"Both the applet and the HTML page appear correct, so its likely the problem is a result of a misconfiguration on either the server end, or the status of the Java plugin for your browser.  I&#39;d need to know more about your situation to completely diagnose it.  [I tested this in Google Chrome using the 1.7.0.11 plugin, and it worked as expected]\r\n\r\nOn the server end, make sure you have the class file and the HTML file deployed to the same location on the server (or a local directory if you are loading it that way)\r\n\r\nIn addition, it is possible that the browser you are using either does not have Java installed or has an incompatible version of Java.  This is the next thing I would check.  Common problems include compiling the applet with against the 1.7 API, but trying to load it into a browser with an older Java plugin.","title":"Java applet does not display anything","body":"<p>Both the applet and the HTML page appear correct, so its likely the problem is a result of a misconfiguration on either the server end, or the status of the Java plugin for your browser.  I'd need to know more about your situation to completely diagnose it.  [I tested this in Google Chrome using the 1.7.0.11 plugin, and it worked as expected]</p>\n\n<p>On the server end, make sure you have the class file and the HTML file deployed to the same location on the server (or a local directory if you are loading it that way)</p>\n\n<p>In addition, it is possible that the browser you are using either does not have Java installed or has an incompatible version of Java.  This is the next thing I would check.  Common problems include compiling the applet with against the 1.7 API, but trying to load it into a browser with an older Java plugin.</p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1358287812,"creation_date":1358287812,"answer_id":14347843,"question_id":14347590,"body_markdown":"Put this into your code before any line in the `paint`\r\n\r\n    super.paint(screen);","title":"Java applet does not display anything","body":"<p>Put this into your code before any line in the <code>paint</code></p>\n\n<pre><code>super.paint(screen);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1358289359,"creation_date":1358289359,"answer_id":14348214,"question_id":14347590,"body_markdown":"Here is a screenshot of this working code.  Except shortened from the applet height specified.\r\n\r\n![JavaRocksApplet][1]\r\n\r\nSo, as Neet noted in a comment.  &#39;It works here.&#39;\r\n\r\n    import java.applet.Applet;\r\n    import java.awt.Graphics;\r\n    import java.awt.Font;\r\n    import java.awt.Color;\r\n    \r\n    /*\r\n    &lt;applet code = &quot;JavaRocksApplet.class&quot; width = 400 height = 200&gt; &lt;/applet&gt;\r\n    */\r\n    public class JavaRocksApplet extends Applet\r\n    {\r\n    \tpublic void paint( Graphics screen )\r\n    \t{\r\n    \t    Font f = new Font( &quot;TimesRoman&quot;, Font.ITALIC, 36 );\r\n    \t    screen.setFont( f );\r\n    \t    Color c = new Color( 40, 80, 120 );\r\n    \t    screen.setColor( c );\r\n    \t    screen.drawString( &quot;Java Rocks!!&quot;, 100, 60 );\r\n    \t}\r\n    }\r\n\r\nLikely more details on the actual cause of the problem can be found by viewing the console.  See [How do I enable and view the Java Console?](http://www.java.com/en/download/help/javaconsole.xml)\r\n\r\n  [1]: http://i.stack.imgur.com/QVvjj.png","title":"Java applet does not display anything","body":"<p>Here is a screenshot of this working code.  Except shortened from the applet height specified.</p>\n\n<p><img src=\"https://i.stack.imgur.com/QVvjj.png\" alt=\"JavaRocksApplet\"></p>\n\n<p>So, as Neet noted in a comment.  'It works here.'</p>\n\n<pre><code>import java.applet.Applet;\nimport java.awt.Graphics;\nimport java.awt.Font;\nimport java.awt.Color;\n\n/*\n&lt;applet code = \"JavaRocksApplet.class\" width = 400 height = 200&gt; &lt;/applet&gt;\n*/\npublic class JavaRocksApplet extends Applet\n{\n    public void paint( Graphics screen )\n    {\n        Font f = new Font( \"TimesRoman\", Font.ITALIC, 36 );\n        screen.setFont( f );\n        Color c = new Color( 40, 80, 120 );\n        screen.setColor( c );\n        screen.drawString( \"Java Rocks!!\", 100, 60 );\n    }\n}\n</code></pre>\n\n<p>Likely more details on the actual cause of the problem can be found by viewing the console.  See <a href=\"http://www.java.com/en/download/help/javaconsole.xml\" rel=\"nofollow noreferrer\">How do I enable and view the Java Console?</a></p>\n"},{"tags":[],"owner":{"account_id":308729,"reputation":181,"user_id":620774,"accept_rate":43,"display_name":"bilalhaider"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465048061,"creation_date":1465048061,"answer_id":37630984,"question_id":14347590,"body_markdown":"I had the same issue with my applet. Added comment \r\n    \r\n    &lt;applet code = &quot;JavaRocksApplet.class&quot; width = 400 height = 200&gt; &lt;/applet&gt;\r\n    \r\nin JavaRocksApplet worked for me.","title":"Java applet does not display anything","body":"<p>I had the same issue with my applet. Added comment </p>\n\n<pre><code>&lt;applet code = \"JavaRocksApplet.class\" width = 400 height = 200&gt; &lt;/applet&gt;\n</code></pre>\n\n<p>in JavaRocksApplet worked for me.</p>\n"}],"owner":{"account_id":2184519,"reputation":51,"user_id":1933229,"display_name":"user1933229"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10531,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1701449483,"creation_date":1358286686,"question_id":14347590,"body_markdown":"Does anyone know why my Java applet does not display anything?\r\n\r\nThis is my first Java applet so I am new to creating one.\r\nI researched this problem and haven&#39;t found an answer specific to the current problem.\r\n\r\n    import java.applet.Applet;\r\n    import java.awt.Graphics;\r\n    import java.awt.Font;\r\n    import java.awt.Color;\r\n\r\n    public class JavaRocksApplet extends Applet\r\n    {\r\n\tpublic void paint( Graphics screen )\r\n\t{\r\n\t\tFont f = new Font( &quot;TimesRoman&quot;, Font.ITALIC, 36 );\r\n\t\tscreen.setFont( f );\r\n\t\tColor c = new Color( 40, 80, 120 );\r\n\t\tscreen.setColor( c );\r\n\t\tscreen.drawString( &quot;Java Rocks!!&quot;, 100, 60 );\r\n\t}\r\n    }\r\n\r\nIt doesn&#39;t matter whether I use appletviewer in the command module or an html page.\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n\t&lt;title&gt;JavaRocksApplet&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n\t\t&lt;applet code = &quot;JavaRocksApplet.class&quot; width = 400 height = 200&gt; &lt;/applet&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\nThere are no errors when compiling the Java program, so I am a little bit confused about why it doesn&#39;t work.\r\n","title":"Java applet does not display anything","body":"<p>Does anyone know why my Java applet does not display anything?</p>\n<p>This is my first Java applet so I am new to creating one.\nI researched this problem and haven't found an answer specific to the current problem.</p>\n<pre><code>import java.applet.Applet;\nimport java.awt.Graphics;\nimport java.awt.Font;\nimport java.awt.Color;\n\npublic class JavaRocksApplet extends Applet\n{\npublic void paint( Graphics screen )\n{\n    Font f = new Font( &quot;TimesRoman&quot;, Font.ITALIC, 36 );\n    screen.setFont( f );\n    Color c = new Color( 40, 80, 120 );\n    screen.setColor( c );\n    screen.drawString( &quot;Java Rocks!!&quot;, 100, 60 );\n}\n}\n</code></pre>\n<p>It doesn't matter whether I use appletviewer in the command module or an html page.</p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;JavaRocksApplet&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;applet code = &quot;JavaRocksApplet.class&quot; width = 400 height = 200&gt; &lt;/applet&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>There are no errors when compiling the Java program, so I am a little bit confused about why it doesn't work.</p>\n"},{"tags":["java","applet"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1345336655,"post_id":12017004,"comment_id":16045032,"body_markdown":"When debugging applets, it is vital to see the output in the [Java Console](http://www.java.com/en/download/help/javaconsole.xml).  Don&#39;t use AWT components in the 3rd millennium, use Swing.  Don&#39;t paint in a top-level container, use a `Canvas`/`Panel` or `JPanel`.  Don&#39;t code an applet unless the GUI has to be crammed into a web page - writing/debugging code for frames is easier.","body":"When debugging applets, it is vital to see the output in the <a href=\"http://www.java.com/en/download/help/javaconsole.xml\" rel=\"nofollow noreferrer\">Java Console</a>.  Don&#39;t use AWT components in the 3rd millennium, use Swing.  Don&#39;t paint in a top-level container, use a <code>Canvas</code>/<code>Panel</code> or <code>JPanel</code>.  Don&#39;t code an applet unless the GUI has to be crammed into a web page - writing/debugging code for frames is easier."}],"answers":[{"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1345281129,"post_id":12017027,"comment_id":16034420,"body_markdown":"&quot;any time the applet tries to paint itself&quot; and and run itself without processing any events :)","body":"&quot;any time the applet tries to paint itself&quot; and and run itself without processing any events :)"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1345277399,"creation_date":1345277399,"answer_id":12017027,"question_id":12017004,"body_markdown":"I strongly suspect a `NumberFormatException` is being thrown.\r\n\r\nAfter all, *any time the applet tries to paint itself* - including immediately after initialization - you&#39;ll be running this code:\r\n\r\n    // Comments removed as they were more distracting than useful. You really\r\n    // *don&#39;t* need to comment variable declarations to say they&#39;re declarations...\r\n    String s1 =  txt1.getText();\r\n    String s2 =  txt2.getText();\r\n    int num1=0, num2 = 0, num3; \r\n    num1 = Integer.parseInt(s1);\r\n    num2 = Integer.parseInt(s2);\r\n\r\nSo when `txt1.getText()` returns an empty string, which it will before the user has had a chance to type anything, you&#39;re going to be parsing that empty string, which will throw a `NumberFormatException`.\r\n\r\nIt feels to me that the general design of this applet is inappropriate. Why would you want to use `drawString` for what are essentially labels?\r\n\r\nI would add either one or two `Label` controls - either one for the complete text &quot;Result: &quot; and the result, or one for just &quot;Result: &quot; and a separate one for the result. Then you don&#39;t need to override `paint()` at all - you can instead add handlers for *when the textbox contents change* - which is, after all, the only time you need to change anything.\r\n\r\nYou should then put the `Integer.parseInt` call into a try/catch block, catching `NumberFormatException`. (You could also consider using a `NumberFormat` instead of `Integer.parseInt`, but you can do that later...)","title":"Java Applet compiles very well but does not run","body":"<p>I strongly suspect a <code>NumberFormatException</code> is being thrown.</p>\n\n<p>After all, <em>any time the applet tries to paint itself</em> - including immediately after initialization - you'll be running this code:</p>\n\n<pre><code>// Comments removed as they were more distracting than useful. You really\n// *don't* need to comment variable declarations to say they're declarations...\nString s1 =  txt1.getText();\nString s2 =  txt2.getText();\nint num1=0, num2 = 0, num3; \nnum1 = Integer.parseInt(s1);\nnum2 = Integer.parseInt(s2);\n</code></pre>\n\n<p>So when <code>txt1.getText()</code> returns an empty string, which it will before the user has had a chance to type anything, you're going to be parsing that empty string, which will throw a <code>NumberFormatException</code>.</p>\n\n<p>It feels to me that the general design of this applet is inappropriate. Why would you want to use <code>drawString</code> for what are essentially labels?</p>\n\n<p>I would add either one or two <code>Label</code> controls - either one for the complete text \"Result: \" and the result, or one for just \"Result: \" and a separate one for the result. Then you don't need to override <code>paint()</code> at all - you can instead add handlers for <em>when the textbox contents change</em> - which is, after all, the only time you need to change anything.</p>\n\n<p>You should then put the <code>Integer.parseInt</code> call into a try/catch block, catching <code>NumberFormatException</code>. (You could also consider using a <code>NumberFormat</code> instead of <code>Integer.parseInt</code>, but you can do that later...)</p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398285189,"creation_date":1345278656,"answer_id":12017145,"question_id":12017004,"body_markdown":"The major problem is the strings couldn&#39;t be painted properly. The `paint` method calls by the applet several times before you have any input. So, the textfields has empty strings. This because a `NumberFormatException`. Check the text for empty value. If you parse numbers add `try/catch` block. In addition moving the logic to the method `calculate` with `repaint` and initiating it when you make input. This could be happen if you add some listeners to the textfields. \r\n         \r\n    import java.applet.*;\r\n    import java.awt.*;\r\n    import java.awt.event.TextEvent;\r\n    import java.awt.event.TextListener;//Importing java.applet\r\n    public class MyApplet extends Applet\r\n    {\r\n      TextField txt1, txt2;\r\n      String s3;\r\n      public void init()//Initializing our applet\r\n      {\r\n        txt1 = new TextField(&quot;&quot;); //Creates a textfield &#39;txt1&#39;\r\n        txt2 = new TextField(&quot;&quot;); //Creates a textfield &#39;txt2&#39;\r\n        txt1.addTextListener(new TextListener(){\r\n          public void textValueChanged(TextEvent e) {\r\n            calculate();\r\n          }\r\n        });\r\n        txt2.addTextListener(new TextListener(){\r\n          public void textValueChanged(TextEvent e) {\r\n            calculate();\r\n          }\r\n        });\r\n        setBackground(Color.CYAN);//Setting background color to CYAN\r\n        add(txt1); //Adds textfield &#39;txt1&#39; to your applet\r\n        add(txt2); //Adds textfield &#39;txt2&#39; to your applet\r\n      }\r\n    \r\n      void calculate(){\r\n        try {\r\n          String s1 =  txt1.getText(); //Fetching data from text field 1.\r\n          String s2 =  txt2.getText(); //Fetching data from text field 2.\r\n          int num1=0, num2 = 0, num3;  //Declaring 3 integer variables\r\n          num1 = Integer.parseInt(s1); //Parsing the string value of text field 1 to integer\r\n          num2 = Integer.parseInt(s2); //Parsing the string value of text field 2 in integer\r\n          num3 = num1 + num2;          //Performing addition\r\n          s3 = String.valueOf(num3); //Converting the result from integer to string\r\n          repaint();\r\n        } catch (NumberFormatException nfe){}\r\n    \r\n      }\r\n      public void paint(Graphics obj)//Paint method to display our message\r\n      {\r\n        super.paint(obj);\r\n        obj.drawString(&quot;Result:&quot;, 100, 100);\r\n        if (s3 != null)\r\n          obj.drawString(s3, 150, 100);//To display the result\r\n      }\r\n    }\r\n\r\n","title":"Java Applet compiles very well but does not run","body":"<p>The major problem is the strings couldn't be painted properly. The <code>paint</code> method calls by the applet several times before you have any input. So, the textfields has empty strings. This because a <code>NumberFormatException</code>. Check the text for empty value. If you parse numbers add <code>try/catch</code> block. In addition moving the logic to the method <code>calculate</code> with <code>repaint</code> and initiating it when you make input. This could be happen if you add some listeners to the textfields. </p>\n\n<pre><code>import java.applet.*;\nimport java.awt.*;\nimport java.awt.event.TextEvent;\nimport java.awt.event.TextListener;//Importing java.applet\npublic class MyApplet extends Applet\n{\n  TextField txt1, txt2;\n  String s3;\n  public void init()//Initializing our applet\n  {\n    txt1 = new TextField(\"\"); //Creates a textfield 'txt1'\n    txt2 = new TextField(\"\"); //Creates a textfield 'txt2'\n    txt1.addTextListener(new TextListener(){\n      public void textValueChanged(TextEvent e) {\n        calculate();\n      }\n    });\n    txt2.addTextListener(new TextListener(){\n      public void textValueChanged(TextEvent e) {\n        calculate();\n      }\n    });\n    setBackground(Color.CYAN);//Setting background color to CYAN\n    add(txt1); //Adds textfield 'txt1' to your applet\n    add(txt2); //Adds textfield 'txt2' to your applet\n  }\n\n  void calculate(){\n    try {\n      String s1 =  txt1.getText(); //Fetching data from text field 1.\n      String s2 =  txt2.getText(); //Fetching data from text field 2.\n      int num1=0, num2 = 0, num3;  //Declaring 3 integer variables\n      num1 = Integer.parseInt(s1); //Parsing the string value of text field 1 to integer\n      num2 = Integer.parseInt(s2); //Parsing the string value of text field 2 in integer\n      num3 = num1 + num2;          //Performing addition\n      s3 = String.valueOf(num3); //Converting the result from integer to string\n      repaint();\n    } catch (NumberFormatException nfe){}\n\n  }\n  public void paint(Graphics obj)//Paint method to display our message\n  {\n    super.paint(obj);\n    obj.drawString(\"Result:\", 100, 100);\n    if (s3 != null)\n      obj.drawString(s3, 150, 100);//To display the result\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":543112,"reputation":2555,"user_id":912104,"display_name":"Harmeet Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1345280333,"creation_date":1345279948,"answer_id":12017252,"question_id":12017004,"body_markdown":"The problem is in :\r\n\r\n    txt1 = new TextField(&quot;&quot;);\r\n    txt2 = new TextField(&quot;&quot;);\r\nas \r\n\r\n    String s1 =  txt1.getText(); \r\n    String s2 =  txt2.getText();\r\n    num1 = Integer.parseInt(s1);\r\n    num2 = Integer.parseInt(s2);\r\nwill not be able to parse `&quot;&quot;` and will `throw exception` as explained by Jon Skeet.  \r\n\r\nSo the **fix** could be a `try catch` block(Exception handling):\r\n\r\n    try{\r\n        num1 = Integer.parseInt(s1);\r\n        num2 = Integer.parseInt(s2);\r\n       }catch(NumberFormatException ex){\r\n           System.out.println(ex);\r\n       }\r\n\r\nOR have some initial parseable `String` value\r\n\r\n    txt1 = new TextField(&quot;0&quot;); \r\n    txt2 = new TextField(&quot;0&quot;);","title":"Java Applet compiles very well but does not run","body":"<p>The problem is in :</p>\n\n<pre><code>txt1 = new TextField(\"\");\ntxt2 = new TextField(\"\");\n</code></pre>\n\n<p>as </p>\n\n<pre><code>String s1 =  txt1.getText(); \nString s2 =  txt2.getText();\nnum1 = Integer.parseInt(s1);\nnum2 = Integer.parseInt(s2);\n</code></pre>\n\n<p>will not be able to parse <code>\"\"</code> and will <code>throw exception</code> as explained by Jon Skeet.  </p>\n\n<p>So the <strong>fix</strong> could be a <code>try catch</code> block(Exception handling):</p>\n\n<pre><code>try{\n    num1 = Integer.parseInt(s1);\n    num2 = Integer.parseInt(s2);\n   }catch(NumberFormatException ex){\n       System.out.println(ex);\n   }\n</code></pre>\n\n<p>OR have some initial parseable <code>String</code> value</p>\n\n<pre><code>txt1 = new TextField(\"0\"); \ntxt2 = new TextField(\"0\");\n</code></pre>\n"}],"owner":{"account_id":415213,"reputation":1785,"user_id":789884,"accept_rate":76,"display_name":"ingalcala"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":716,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1701449232,"creation_date":1345277145,"question_id":12017004,"body_markdown":"What is wrong with this Java `Applet`, even tho I compile it with no issue it does not run.\r\n\r\n    import java.applet.*;//Importing java.applet\r\n    public class MyApplet extends Applet {\r\n       TextField txt1, txt2;\r\n       public void init(){//Initializing our applet\r\n           txt1 = new TextField(&quot;&quot;); //Creates a textfield &#39;txt1&#39;\r\n           txt2 = new TextField(&quot;&quot;); //Creates a textfield &#39;txt2&#39;\r\n           setBackground(Color.CYAN);//Setting background color to CYAN\r\n           add(txt1); //Adds textfield &#39;txt1&#39; to your applet\r\n           add(txt2); //Adds textfield &#39;txt2&#39; to your applet\r\n       }\r\n       public void paint(Graphics obj){//Paint method to display our message\r\n           String s1 =  txt1.getText(); //Fetching data from text field 1.\r\n           String s2 =  txt2.getText(); //Fetching data from text field 2.\r\n           int num1=0, num2 = 0, num3;\t //Declaring 3 integer variables \t\r\n           num1 = Integer.parseInt(s1); //Parsing the string value of text field 1 to integer\r\n           num2 = Integer.parseInt(s2); //Parsing the string value of text field 2 in integer\r\n           num3 = num1 + num2; \t\t //Performing addition\r\n           String s3 = String.valueOf(num3); //Converting the result from integer to string\r\n           obj.drawString(&quot;Result:&quot;, 40, 50);\r\n           obj.drawString(s3, 50, 50);//To display the result\r\n       }\r\n    }\r\n","title":"Java Applet compiles very well but does not run","body":"<p>What is wrong with this Java <code>Applet</code>, even tho I compile it with no issue it does not run.</p>\n<pre><code>import java.applet.*;//Importing java.applet\npublic class MyApplet extends Applet {\n   TextField txt1, txt2;\n   public void init(){//Initializing our applet\n       txt1 = new TextField(&quot;&quot;); //Creates a textfield 'txt1'\n       txt2 = new TextField(&quot;&quot;); //Creates a textfield 'txt2'\n       setBackground(Color.CYAN);//Setting background color to CYAN\n       add(txt1); //Adds textfield 'txt1' to your applet\n       add(txt2); //Adds textfield 'txt2' to your applet\n   }\n   public void paint(Graphics obj){//Paint method to display our message\n       String s1 =  txt1.getText(); //Fetching data from text field 1.\n       String s2 =  txt2.getText(); //Fetching data from text field 2.\n       int num1=0, num2 = 0, num3;   //Declaring 3 integer variables    \n       num1 = Integer.parseInt(s1); //Parsing the string value of text field 1 to integer\n       num2 = Integer.parseInt(s2); //Parsing the string value of text field 2 in integer\n       num3 = num1 + num2;       //Performing addition\n       String s3 = String.valueOf(num3); //Converting the result from integer to string\n       obj.drawString(&quot;Result:&quot;, 40, 50);\n       obj.drawString(s3, 50, 50);//To display the result\n   }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","rest","controller"],"answers":[{"comments":[{"owner":{"account_id":29264105,"reputation":17,"user_id":22420285,"display_name":"gustop01"},"score":0,"creation_date":1701470263,"post_id":77586821,"comment_id":136784027,"body_markdown":"Thanks for the answer :) Turns out adding @Data to the Wallet model solved the problem, but it&#39;s nice to know a way to do it without depending solely on notations","body":"Thanks for the answer :) Turns out adding @Data to the Wallet model solved the problem, but it&#39;s nice to know a way to do it without depending solely on notations"}],"tags":[],"owner":{"account_id":20310335,"reputation":76,"user_id":14897575,"display_name":"ettriouizakaria"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701449024,"creation_date":1701449024,"answer_id":77586821,"question_id":77582100,"body_markdown":"I think you should create a custom DTO class that represents the structure you want in the response. You can then manually map the data from the Basket and Wallet objects to this DTO.\r\n   \r\n\r\n     @Data\r\n    public class BasketResponse {\r\n        private String fruit1;\r\n        private String fruit2;\r\n        private String fruit3;\r\n        private WalletResponse wallet;\r\n    }\r\n    \r\n    @Data\r\n    public class WalletResponse {\r\n        private String item1;\r\n        private String item2;\r\n        private String item3;\r\n    }\r\n\r\n    @Service\r\n    public class BasketService {\r\n        @Autowired\r\n        private BasketRepository basketRepo;\r\n    \r\n        public List&lt;BasketResponse&gt; find() {\r\n            List&lt;Basket&gt; baskets = basketRepo.findAll();\r\n            return baskets.stream().map(this::mapToResponse).collect(Collectors.toList());\r\n        }\r\n    \r\n        private BasketResponse mapToResponse(Basket basket) {\r\n            BasketResponse basketResponse = new BasketResponse();\r\n            basketResponse.setFruit1(basket.getFruit1());\r\n            basketResponse.setFruit2(basket.getFruit2());\r\n            basketResponse.setFruit3(basket.getFruit3());\r\n    \r\n            Wallet wallet = basket.getWallet();\r\n            if (wallet != null) {\r\n                WalletResponse walletResponse = new WalletResponse();\r\n                walletResponse.setItem1(wallet.getItem1());\r\n                walletResponse.setItem2(wallet.getItem2());\r\n                walletResponse.setItem3(wallet.getItem3());\r\n                basketResponse.setWallet(walletResponse);\r\n            }\r\n    \r\n            return basketResponse;\r\n        }\r\n    }\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/baskets&quot;)\r\n    public class BasketController {\r\n        @Autowired\r\n        private BasketService basketService;\r\n    \r\n        @GetMapping\r\n        public ResponseEntity&lt;List&lt;BasketResponse&gt;&gt; find() {\r\n            List&lt;BasketResponse&gt; baskets = basketService.find();\r\n            return ResponseEntity.ok(baskets);\r\n        }\r\n    }\r\n","title":"How to print nested objects parameters in spring boot when using GET method?","body":"<p>I think you should create a custom DTO class that represents the structure you want in the response. You can then manually map the data from the Basket and Wallet objects to this DTO.</p>\n<pre><code> @Data\npublic class BasketResponse {\n    private String fruit1;\n    private String fruit2;\n    private String fruit3;\n    private WalletResponse wallet;\n}\n\n@Data\npublic class WalletResponse {\n    private String item1;\n    private String item2;\n    private String item3;\n}\n\n@Service\npublic class BasketService {\n    @Autowired\n    private BasketRepository basketRepo;\n\n    public List&lt;BasketResponse&gt; find() {\n        List&lt;Basket&gt; baskets = basketRepo.findAll();\n        return baskets.stream().map(this::mapToResponse).collect(Collectors.toList());\n    }\n\n    private BasketResponse mapToResponse(Basket basket) {\n        BasketResponse basketResponse = new BasketResponse();\n        basketResponse.setFruit1(basket.getFruit1());\n        basketResponse.setFruit2(basket.getFruit2());\n        basketResponse.setFruit3(basket.getFruit3());\n\n        Wallet wallet = basket.getWallet();\n        if (wallet != null) {\n            WalletResponse walletResponse = new WalletResponse();\n            walletResponse.setItem1(wallet.getItem1());\n            walletResponse.setItem2(wallet.getItem2());\n            walletResponse.setItem3(wallet.getItem3());\n            basketResponse.setWallet(walletResponse);\n        }\n\n        return basketResponse;\n    }\n}\n\n\n@RestController\n@RequestMapping(value = &quot;/baskets&quot;)\npublic class BasketController {\n    @Autowired\n    private BasketService basketService;\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;BasketResponse&gt;&gt; find() {\n        List&lt;BasketResponse&gt; baskets = basketService.find();\n        return ResponseEntity.ok(baskets);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29264105,"reputation":17,"user_id":22420285,"display_name":"gustop01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77586821,"answer_count":1,"score":1,"last_activity_date":1701449024,"creation_date":1701384765,"question_id":77582100,"body_markdown":"Don&#39;t know if I managed to phrase if correctly, but basicaly: \r\n- I have an object &quot;Basket&quot; for example, it has 3 fruits and a wallet inside, the wallet containing more objects in itself.\r\n- When printing the Basket after receiving a GET request, I want not only the fruits and the wallet to be printed, but also what is inside the wallet.\r\n\r\n```\r\n**What I want:**\r\n[\r\n {\r\n  &quot;fruit1&quot;: &quot;x&quot;,\r\n  &quot;fruit2&quot;: &quot;y&quot;,\r\n  &quot;fruit3&quot; &quot;z&quot;,\r\n  &quot;wallet&quot;: {\r\n    &quot;item1&quot;: &quot;a&quot;,\r\n    &quot;item2&quot;: &quot;b&quot;,\r\n    &quot;item3&quot;: &quot;c&quot;}\r\n }\r\n]\r\n\r\n**What I&#39;m getting:**\r\n[\r\n {\r\n  &quot;fruit1&quot;: &quot;x&quot;,\r\n  &quot;fruit2&quot;: &quot;y&quot;,\r\n  &quot;fruit3&quot; &quot;z&quot;,\r\n  &quot;wallet&quot;: {}\r\n }\r\n]\r\n```\r\nMy code currently is like this:\r\n\r\n\r\n**Basket model**\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;BASKETS&quot;)\r\n public class Basket{\r\n  @Id\r\n  private String owner;\r\n  private String fruit1;\r\n  private String fruit2;\r\n  private String fruit3;\r\n  @Embedded\r\n  private Wallet wallet;\r\n}\r\n```\r\n**Wallet model**\r\n```\r\n@Embeddable\r\npublic class Wallet{\r\n  private String item1;\r\n  private String item2;\r\n  private String item3;\r\n}\r\n```\r\n**Basket Service**\r\n```\r\n@Service\r\npublic class BasketService{\r\n\r\n  @Autowired\r\n  private BasketRepository basketRepo;\r\n\r\n  public List&lt;Basket&gt; find(){\r\n    return basketRepo.findAll();\r\n  }\r\n}\r\n```\r\n**Basket Controller**\r\n```\r\n@RestController\r\n@RequestMapping(value = &quot;/baskets&quot;)\r\npublic class BasketController{\r\n\r\n @Autowired\r\n private BasketRepository basketRepo;\r\n\r\n @Autowired\r\n private BasketService basketService;\r\n\r\n @Autowired\r\n private ModdelMapper mapper;\r\n\r\n  @GetMapping\r\n    public ResponseEntity&lt;List&lt;BasketResponse&gt;&gt; find(){\r\n        var baskets = basketService.find();\r\n        var result = new ArrayList&lt;BasketResponse&gt;();\r\n        for (Basket basket : baskets){\r\n            var basketDTO = mapper.map(basket, BasketResponse.class);\r\n            result.add(basketDTO);\r\n        }\r\n        return ResponseEntity.ok(result);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI don&#39;t know what exactly to change, tried to search for a solution, but probably I don&#39;t know how to search for this specifically.","title":"How to print nested objects parameters in spring boot when using GET method?","body":"<p>Don't know if I managed to phrase if correctly, but basicaly:</p>\n<ul>\n<li>I have an object &quot;Basket&quot; for example, it has 3 fruits and a wallet inside, the wallet containing more objects in itself.</li>\n<li>When printing the Basket after receiving a GET request, I want not only the fruits and the wallet to be printed, but also what is inside the wallet.</li>\n</ul>\n<pre><code>**What I want:**\n[\n {\n  &quot;fruit1&quot;: &quot;x&quot;,\n  &quot;fruit2&quot;: &quot;y&quot;,\n  &quot;fruit3&quot; &quot;z&quot;,\n  &quot;wallet&quot;: {\n    &quot;item1&quot;: &quot;a&quot;,\n    &quot;item2&quot;: &quot;b&quot;,\n    &quot;item3&quot;: &quot;c&quot;}\n }\n]\n\n**What I'm getting:**\n[\n {\n  &quot;fruit1&quot;: &quot;x&quot;,\n  &quot;fruit2&quot;: &quot;y&quot;,\n  &quot;fruit3&quot; &quot;z&quot;,\n  &quot;wallet&quot;: {}\n }\n]\n</code></pre>\n<p>My code currently is like this:</p>\n<p><strong>Basket model</strong></p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;BASKETS&quot;)\n public class Basket{\n  @Id\n  private String owner;\n  private String fruit1;\n  private String fruit2;\n  private String fruit3;\n  @Embedded\n  private Wallet wallet;\n}\n</code></pre>\n<p><strong>Wallet model</strong></p>\n<pre><code>@Embeddable\npublic class Wallet{\n  private String item1;\n  private String item2;\n  private String item3;\n}\n</code></pre>\n<p><strong>Basket Service</strong></p>\n<pre><code>@Service\npublic class BasketService{\n\n  @Autowired\n  private BasketRepository basketRepo;\n\n  public List&lt;Basket&gt; find(){\n    return basketRepo.findAll();\n  }\n}\n</code></pre>\n<p><strong>Basket Controller</strong></p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/baskets&quot;)\npublic class BasketController{\n\n @Autowired\n private BasketRepository basketRepo;\n\n @Autowired\n private BasketService basketService;\n\n @Autowired\n private ModdelMapper mapper;\n\n  @GetMapping\n    public ResponseEntity&lt;List&lt;BasketResponse&gt;&gt; find(){\n        var baskets = basketService.find();\n        var result = new ArrayList&lt;BasketResponse&gt;();\n        for (Basket basket : baskets){\n            var basketDTO = mapper.map(basket, BasketResponse.class);\n            result.add(basketDTO);\n        }\n        return ResponseEntity.ok(result);\n    }\n}\n</code></pre>\n<p>I don't know what exactly to change, tried to search for a solution, but probably I don't know how to search for this specifically.</p>\n"},{"tags":["java","string","if-statement","random","while-loop"],"answers":[{"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1701421198,"post_id":77583912,"comment_id":136775983,"body_markdown":"You cam also take the `Random` out of the loop","body":"You cam also take the <code>Random</code> out of the loop"}],"tags":[],"owner":{"account_id":21154369,"reputation":16,"user_id":15553967,"display_name":"MeotJH"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701448974,"creation_date":1701419699,"answer_id":77583912,"question_id":77583692,"body_markdown":"You need to initialise the counter variables outside of the while loop because variables inside of the loop will be reset every time the loop executes (because &quot;win = 0&quot; will get executed and win will get the value of 0 at every start of the loop. What you want is that every new loop, the value of win is the value it had after the previous loop was completed).\r\n\r\nexample code\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner input = new Scanner(System.in);\r\n        int win = 0;\r\n        int lose = 0;\r\n        int tie = 0;\r\n        while(true){\r\n\r\n            System.out.println(&quot;Please choose (r)ock, (p)aper or (s)cissors:&quot;);\r\n            String answer = input.nextLine();\r\n\r\n            if(answer.equals(&quot;r&quot;)) {\r\n                String[] str = { &quot;You chose rock. I chose paper. You lose!&quot;, /* lose++; */ &quot;You chose rock. I chose scissors. You win!&quot;,  /* win++; */ &quot;You chose rock. I chose rock. We tie!&quot;  /* tie++; */ };\r\n                Random r = new Random();\r\n                int i = r.nextInt(3);\r\n\r\n                if( i == 0 ) ++lose;\r\n                if( i == 1 ) ++win;\r\n                if( i == 2 ) ++tie;\r\n                System.out.println(str[i]);\r\n\r\n\r\n\r\n            }\r\n            if(answer.equals(&quot;p&quot;)) {\r\n                String[] str = { &quot;You chose paper. I chose scissors. You lose!&quot;,  /* lose++; */ &quot;You chose paper. I chose rock. You win!&quot;,  /* win++; */ &quot;You chose paper. I chose paper. We tie!&quot;  /* tie++; */ };\r\n                Random r = new Random();\r\n                int i = r.nextInt(3);\r\n\r\n                if( i == 0 ) ++lose;\r\n                if( i == 1 ) ++win;\r\n                if( i == 2 ) ++tie;\r\n                System.out.println(str[i]);\r\n\r\n            }\r\n            if(answer.equals(&quot;s&quot;)) {\r\n                String[] str = { &quot;You chose scissors. I chose rock. You lose!&quot;,  /* lose++; */ &quot;You chose scissors. I chose paper. You win!&quot;,  /* win++; */ &quot;You chose scissors. I chose scissors. We tie!&quot;  /* tie++; */ };\r\n                Random r = new Random();\r\n                int i = r.nextInt(3);\r\n\r\n                if( i == 0 ) ++lose;\r\n                if( i == 1 ) ++win;\r\n                if( i == 2 ) ++tie;\r\n                System.out.println(str[i]);\r\n\r\n            }\r\n\r\n\r\n            System.out.println(&quot;Score: &quot; + win + &quot; win(s), &quot; + lose + &quot; loss(es), &quot; + tie + &quot; tie(s)&quot;);\r\n            System.out.println(&quot;Play again (y/n)?&quot;);\r\n            String c = input.nextLine();\r\n\r\n            if(c.equalsIgnoreCase(&quot;n&quot;)){\r\n                break;\r\n            }\r\n\r\n        }\r\n\r\n    }","title":"Difficulty with Rock Paper Scissors game","body":"<p>You need to initialise the counter variables outside of the while loop because variables inside of the loop will be reset every time the loop executes (because &quot;win = 0&quot; will get executed and win will get the value of 0 at every start of the loop. What you want is that every new loop, the value of win is the value it had after the previous loop was completed).</p>\n<p>example code</p>\n<pre><code>public static void main(String[] args) {\n\n    Scanner input = new Scanner(System.in);\n    int win = 0;\n    int lose = 0;\n    int tie = 0;\n    while(true){\n\n        System.out.println(&quot;Please choose (r)ock, (p)aper or (s)cissors:&quot;);\n        String answer = input.nextLine();\n\n        if(answer.equals(&quot;r&quot;)) {\n            String[] str = { &quot;You chose rock. I chose paper. You lose!&quot;, /* lose++; */ &quot;You chose rock. I chose scissors. You win!&quot;,  /* win++; */ &quot;You chose rock. I chose rock. We tie!&quot;  /* tie++; */ };\n            Random r = new Random();\n            int i = r.nextInt(3);\n\n            if( i == 0 ) ++lose;\n            if( i == 1 ) ++win;\n            if( i == 2 ) ++tie;\n            System.out.println(str[i]);\n\n\n\n        }\n        if(answer.equals(&quot;p&quot;)) {\n            String[] str = { &quot;You chose paper. I chose scissors. You lose!&quot;,  /* lose++; */ &quot;You chose paper. I chose rock. You win!&quot;,  /* win++; */ &quot;You chose paper. I chose paper. We tie!&quot;  /* tie++; */ };\n            Random r = new Random();\n            int i = r.nextInt(3);\n\n            if( i == 0 ) ++lose;\n            if( i == 1 ) ++win;\n            if( i == 2 ) ++tie;\n            System.out.println(str[i]);\n\n        }\n        if(answer.equals(&quot;s&quot;)) {\n            String[] str = { &quot;You chose scissors. I chose rock. You lose!&quot;,  /* lose++; */ &quot;You chose scissors. I chose paper. You win!&quot;,  /* win++; */ &quot;You chose scissors. I chose scissors. We tie!&quot;  /* tie++; */ };\n            Random r = new Random();\n            int i = r.nextInt(3);\n\n            if( i == 0 ) ++lose;\n            if( i == 1 ) ++win;\n            if( i == 2 ) ++tie;\n            System.out.println(str[i]);\n\n        }\n\n\n        System.out.println(&quot;Score: &quot; + win + &quot; win(s), &quot; + lose + &quot; loss(es), &quot; + tie + &quot; tie(s)&quot;);\n        System.out.println(&quot;Play again (y/n)?&quot;);\n        String c = input.nextLine();\n\n        if(c.equalsIgnoreCase(&quot;n&quot;)){\n            break;\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17751400,"reputation":133,"user_id":12889400,"display_name":"Thomas Huitema"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701443824,"creation_date":1701443824,"answer_id":77586286,"question_id":77583692,"body_markdown":"Declaring wins, losses, and ties outside your while loop will allow you to add results over multiple games. I added a switch statement to increment these variables based on the random variable. Also, I reduced redundancy with your Random object by declaring it outside the loop and calling `r.nextInt(3)` once. Additionally, I made `str` more readable by adding results index-by-index, instead of initializing it all on one line. Read my comments for further clarification.\r\n\r\n    import java.util.Random;\r\n    import java.util.Scanner;\r\n    \r\n    public class rockpaperscissors {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tScanner input = new Scanner(System.in);\r\n    \r\n    \t\t// count game results\r\n    \t\tint win = 0;\r\n    \t\tint lose = 0;\r\n    \t\tint tie = 0;\r\n    \r\n    \t\tRandom r = new Random();\r\n    \r\n    \t\twhile (true) {\r\n    \r\n    \t\t\tSystem.out.println(&quot;Please choose (r)ock, (p)aper or (s)cissors:&quot;);\r\n    \t\t\tString answer = input.nextLine();\r\n    \r\n    \t\t\tint computerAnswer = r.nextInt(3);\r\n    \t\t\tString[] str = new String[3]; // stores potential results\r\n    \r\n    \t\t\tif (answer.equals(&quot;r&quot;)) {\r\n    \t\t\t\tstr[0] = &quot;You chose rock. I chose paper. You lose!&quot;;\r\n    \t\t\t\tstr[1] = &quot;You chose rock. I chose scissors. You win!&quot;;\r\n    \t\t\t\tstr[2] = &quot;You chose rock. I chose rock. We tie!&quot;;\r\n    \t\t\t}\r\n    \t\t\tif (answer.equals(&quot;p&quot;)) {\r\n    \t\t\t\tstr[0] = &quot;You chose paper. I chose scissors. You lose!&quot;;\r\n    \t\t\t\tstr[1] = &quot;You chose paper. I chose rock. You win!&quot;;\r\n    \t\t\t\tstr[2] = &quot;You chose paper. I chose paper. We tie!&quot;;\r\n    \t\t\t}\r\n    \t\t\tif (answer.equals(&quot;s&quot;)) {\r\n    \t\t\t\tstr[0] = &quot;You chose scissors. I chose rock. You lose!&quot;;\r\n    \t\t\t\tstr[1] = &quot;You chose scissors. I chose paper. You win!&quot;;\r\n    \t\t\t\tstr[2] = &quot;You chose scissors. I chose scissors. We tie!&quot;;\r\n    \t\t\t}\r\n\r\n                // add to game results\r\n                switch(computerAnswer) {\r\n    \t\t\t\tcase(0): \r\n    \t\t\t\t\tlose++;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase(1):\r\n    \t\t\t\t\twin++;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase(2):\r\n    \t\t\t\t\ttie++;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t}\r\n    \r\n    \t\t\t// print result of this round\r\n    \t\t\tSystem.out.println(str[computerAnswer]);\r\n    \r\n    \t\t\t// print result of all games played so far\r\n    \t\t\tSystem.out.println(&quot;Score: &quot; + win + &quot; win(s), &quot; + lose + &quot; loss(es), &quot; + tie + &quot; tie(s)&quot;);\r\n    \t\t\tSystem.out.println(&quot;Play again (y/n)?&quot;);\r\n    \t\t\tString c = input.nextLine();\r\n    \r\n    \t\t\tif (c.equalsIgnoreCase(&quot;n&quot;)) {\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\n","title":"Difficulty with Rock Paper Scissors game","body":"<p>Declaring wins, losses, and ties outside your while loop will allow you to add results over multiple games. I added a switch statement to increment these variables based on the random variable. Also, I reduced redundancy with your Random object by declaring it outside the loop and calling <code>r.nextInt(3)</code> once. Additionally, I made <code>str</code> more readable by adding results index-by-index, instead of initializing it all on one line. Read my comments for further clarification.</p>\n<pre><code>import java.util.Random;\nimport java.util.Scanner;\n\npublic class rockpaperscissors {\n\n    public static void main(String[] args) {\n\n        Scanner input = new Scanner(System.in);\n\n        // count game results\n        int win = 0;\n        int lose = 0;\n        int tie = 0;\n\n        Random r = new Random();\n\n        while (true) {\n\n            System.out.println(&quot;Please choose (r)ock, (p)aper or (s)cissors:&quot;);\n            String answer = input.nextLine();\n\n            int computerAnswer = r.nextInt(3);\n            String[] str = new String[3]; // stores potential results\n\n            if (answer.equals(&quot;r&quot;)) {\n                str[0] = &quot;You chose rock. I chose paper. You lose!&quot;;\n                str[1] = &quot;You chose rock. I chose scissors. You win!&quot;;\n                str[2] = &quot;You chose rock. I chose rock. We tie!&quot;;\n            }\n            if (answer.equals(&quot;p&quot;)) {\n                str[0] = &quot;You chose paper. I chose scissors. You lose!&quot;;\n                str[1] = &quot;You chose paper. I chose rock. You win!&quot;;\n                str[2] = &quot;You chose paper. I chose paper. We tie!&quot;;\n            }\n            if (answer.equals(&quot;s&quot;)) {\n                str[0] = &quot;You chose scissors. I chose rock. You lose!&quot;;\n                str[1] = &quot;You chose scissors. I chose paper. You win!&quot;;\n                str[2] = &quot;You chose scissors. I chose scissors. We tie!&quot;;\n            }\n\n            // add to game results\n            switch(computerAnswer) {\n                case(0): \n                    lose++;\n                    break;\n                case(1):\n                    win++;\n                    break;\n                case(2):\n                    tie++;\n                    break;\n            }\n\n            // print result of this round\n            System.out.println(str[computerAnswer]);\n\n            // print result of all games played so far\n            System.out.println(&quot;Score: &quot; + win + &quot; win(s), &quot; + lose + &quot; loss(es), &quot; + tie + &quot; tie(s)&quot;);\n            System.out.println(&quot;Play again (y/n)?&quot;);\n            String c = input.nextLine();\n\n            if (c.equalsIgnoreCase(&quot;n&quot;)) {\n                break;\n            }\n\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":30038036,"reputation":3,"user_id":23019518,"display_name":"zuha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77583912,"answer_count":2,"score":0,"last_activity_date":1701448974,"creation_date":1701416659,"question_id":77583692,"body_markdown":"I&#39;m making a code in Java that is a rock-paper-scissors game. In particular, I am trying to make it so that the randomized outputs, aka if a user loses, wins, or ties, it is counted into the score.\r\n\r\nFor example, the user inputs either rock, paper, or scissors. If they choose rock, they will get a random output that determines whether or not they win, lose, or tie. If they got the output, let&#39;s say,  &quot;You chose rock. I chose paper. You lose!&quot; I want to add that score result as &quot;1 loss.&quot; in my while loop. However, I don&#39;t know how to make the program count the random outputs like that.\r\n\r\nMy code is below and I put comments in it to try and better explain what I want to do.\r\n\r\n    import java.util.Random; \r\n    import java.util.Scanner;\r\n    \r\n    public class rockpaperscissors {\r\n    \r\n    public static void main(String[] args) {\r\n    \r\n    Scanner input = new Scanner(System.in);\r\n    \r\n    while(true){\r\n    \r\n        System.out.println(&quot;Please choose (r)ock, (p)aper or (s)cissors:&quot;);\r\n        String answer = input.nextLine();\r\n        int win = 0;\r\n        int lose = 0;\r\n        int tie = 0;\r\n        \r\n        if(answer.equals(&quot;r&quot;)) {\r\n        \tString[] str = { &quot;You chose rock. I chose paper. You lose!&quot;, /* lose++; */ &quot;You chose rock. I chose scissors. You win!&quot;,  /* win++; */ &quot;You chose rock. I chose rock. We tie!&quot;  /* tie++; */ };\r\n        \tRandom r = new Random();\r\n        \tSystem.out.println(str[r.nextInt(3)]);\r\n        \t\r\n        \t\r\n         \r\n        }\r\n        if(answer.equals(&quot;p&quot;)) {\r\n        \tString[] str = { &quot;You chose paper. I chose scissors. You lose!&quot;,  /* lose++; */ &quot;You chose paper. I chose rock. You win!&quot;,  /* win++; */ &quot;You chose paper. I chose paper. We tie!&quot;  /* tie++; */ };\r\n        \tRandom r = new Random();\r\n        \tSystem.out.println(str[r.nextInt(3)]);\r\n       \r\n      }\r\n        if(answer.equals(&quot;s&quot;)) {\r\n        \tString[] str = { &quot;You chose scissors. I chose rock. You lose!&quot;,  /* lose++; */ &quot;You chose scissors. I chose paper. You win!&quot;,  /* win++; */ &quot;You chose scissors. I chose scissors. We tie!&quot;  /* tie++; */ };\r\n        \tRandom r = new Random();\r\n        \tSystem.out.println(str[r.nextInt(3)]);\r\n       \r\n      }\r\n      \r\n        \r\n        System.out.println(&quot;Score: &quot; + win + &quot; win(s), &quot; + lose + &quot; loss(es), &quot; + tie + &quot; tie(s)&quot;);\r\n      System.out.println(&quot;Play again (y/n)?&quot;); \r\n       String c = input.nextLine();\r\n    \r\n       if(c.equalsIgnoreCase(&quot;n&quot;)){ \r\n          break;\r\n         }\r\n    \r\n    }\r\n    \r\n    }\r\n    }\r\n\r\nI&#39;ve tried using switch statements, but they haven&#39;t been working out. I&#39;ve also been trying to use if statements but my code never works. Please note that I&#39;m still fairly new to java so there are functions that I am quite unfamiliar with.","title":"Difficulty with Rock Paper Scissors game","body":"<p>I'm making a code in Java that is a rock-paper-scissors game. In particular, I am trying to make it so that the randomized outputs, aka if a user loses, wins, or ties, it is counted into the score.</p>\n<p>For example, the user inputs either rock, paper, or scissors. If they choose rock, they will get a random output that determines whether or not they win, lose, or tie. If they got the output, let's say,  &quot;You chose rock. I chose paper. You lose!&quot; I want to add that score result as &quot;1 loss.&quot; in my while loop. However, I don't know how to make the program count the random outputs like that.</p>\n<p>My code is below and I put comments in it to try and better explain what I want to do.</p>\n<pre><code>import java.util.Random; \nimport java.util.Scanner;\n\npublic class rockpaperscissors {\n\npublic static void main(String[] args) {\n\nScanner input = new Scanner(System.in);\n\nwhile(true){\n\n    System.out.println(&quot;Please choose (r)ock, (p)aper or (s)cissors:&quot;);\n    String answer = input.nextLine();\n    int win = 0;\n    int lose = 0;\n    int tie = 0;\n    \n    if(answer.equals(&quot;r&quot;)) {\n        String[] str = { &quot;You chose rock. I chose paper. You lose!&quot;, /* lose++; */ &quot;You chose rock. I chose scissors. You win!&quot;,  /* win++; */ &quot;You chose rock. I chose rock. We tie!&quot;  /* tie++; */ };\n        Random r = new Random();\n        System.out.println(str[r.nextInt(3)]);\n        \n        \n     \n    }\n    if(answer.equals(&quot;p&quot;)) {\n        String[] str = { &quot;You chose paper. I chose scissors. You lose!&quot;,  /* lose++; */ &quot;You chose paper. I chose rock. You win!&quot;,  /* win++; */ &quot;You chose paper. I chose paper. We tie!&quot;  /* tie++; */ };\n        Random r = new Random();\n        System.out.println(str[r.nextInt(3)]);\n   \n  }\n    if(answer.equals(&quot;s&quot;)) {\n        String[] str = { &quot;You chose scissors. I chose rock. You lose!&quot;,  /* lose++; */ &quot;You chose scissors. I chose paper. You win!&quot;,  /* win++; */ &quot;You chose scissors. I chose scissors. We tie!&quot;  /* tie++; */ };\n        Random r = new Random();\n        System.out.println(str[r.nextInt(3)]);\n   \n  }\n  \n    \n    System.out.println(&quot;Score: &quot; + win + &quot; win(s), &quot; + lose + &quot; loss(es), &quot; + tie + &quot; tie(s)&quot;);\n  System.out.println(&quot;Play again (y/n)?&quot;); \n   String c = input.nextLine();\n\n   if(c.equalsIgnoreCase(&quot;n&quot;)){ \n      break;\n     }\n\n}\n\n}\n}\n</code></pre>\n<p>I've tried using switch statements, but they haven't been working out. I've also been trying to use if statements but my code never works. Please note that I'm still fairly new to java so there are functions that I am quite unfamiliar with.</p>\n"},{"tags":["java","multithreading","swing","paint","event-listener"],"comments":[{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1370003890,"post_id":16857380,"comment_id":24312313,"body_markdown":"Here we go again. Read http://docs.oracle.com/javase/tutorial/uiswing/concurrency/. If you sleep in the EDT you prevent it from doing its job: repainting the screen.","body":"Here we go again. Read <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/concurrency</a>. If you sleep in the EDT you prevent it from doing its job: repainting the screen."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1370003925,"post_id":16857380,"comment_id":24312335,"body_markdown":"To start with, don&#39;t sleep within the Even Dispatching Thread. Take a look at [Concurrency in Swing](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/). Take a look at [this](http://stackoverflow.com/questions/13888026/java-clock-isnt-counting-in-swing/13888101#13888101)","body":"To start with, don&#39;t sleep within the Even Dispatching Thread. Take a look at <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/\" rel=\"nofollow noreferrer\">Concurrency in Swing</a>. Take a look at <a href=\"http://stackoverflow.com/questions/13888026/java-clock-isnt-counting-in-swing/13888101#13888101\">this</a>"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1370004128,"post_id":16857380,"comment_id":24312441,"body_markdown":"Move the loop to the action to make access to the properties in the paint event.","body":"Move the loop to the action to make access to the properties in the paint event."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1370004294,"post_id":16857380,"comment_id":24312549,"body_markdown":"@RomanC So instead of blocking the EDT in the paint method, you&#39;d suggest the OP blocks it in the action performed method instead?","body":"@RomanC So instead of blocking the EDT in the paint method, you&#39;d suggest the OP blocks it in the action performed method instead?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1370004928,"post_id":16857380,"comment_id":24312925,"body_markdown":"@MadProgrammer Where did you read that I suggest &quot;blocking the EDT&quot;?","body":"@MadProgrammer Where did you read that I suggest &quot;blocking the EDT&quot;?"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1370005254,"post_id":16857380,"comment_id":24313116,"body_markdown":"@RomanC: the loop blocks the EDT already. Moving it somewhere else, but still executing it in the EDT, would still cause the GUI to freeze until the loop has ended.","body":"@RomanC: the loop blocks the EDT already. Moving it somewhere else, but still executing it in the EDT, would still cause the GUI to freeze until the loop has ended."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1370005412,"post_id":16857380,"comment_id":24313214,"body_markdown":"@JBNizet You are talking to nothing, OP said that with using threads and event listeners.","body":"@JBNizet You are talking to nothing, OP said that with using threads and event listeners."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1370031990,"post_id":16857380,"comment_id":24327177,"body_markdown":"@romanc But there are no threads in the OPs code. Using a Thread to solve the OPs problem is overkill for what they are trying to achieve. A simple javax.swing.Timer would be more then sufficient","body":"@romanc But there are no threads in the OPs code. Using a Thread to solve the OPs problem is overkill for what they are trying to achieve. A simple javax.swing.Timer would be more then sufficient"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1370073442,"post_id":16857380,"comment_id":24336046,"body_markdown":"@MadProgrammer You should not stick with the code OP expose, rather take it into attention and write the code OP is asked to implement, not the code you want to write.","body":"@MadProgrammer You should not stick with the code OP expose, rather take it into attention and write the code OP is asked to implement, not the code you want to write."},{"owner":{"account_id":2840656,"reputation":335,"user_id":2440347,"display_name":"AvmnuSng"},"score":0,"creation_date":1370074043,"post_id":16857380,"comment_id":24336147,"body_markdown":"@RomanC you are write the both code presented by MadProgrammer are implementation of some good work of programming but far away from my problem that is to be solved. If there is any suggestion you can give to me..","body":"@RomanC you are write the both code presented by MadProgrammer are implementation of some good work of programming but far away from my problem that is to be solved. If there is any suggestion you can give to me.."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1370074614,"post_id":16857380,"comment_id":24336269,"body_markdown":"@romanc We&#39;re also not code factories. Where possible we should attempt to help posters reach a suitable solution to their problems, based on the small amount of information which is generally provided to use via their code snippets. This is not always achievable. We should also be encourage good coding practices where we can - IMHO","body":"@romanc We&#39;re also not code factories. Where possible we should attempt to help posters reach a suitable solution to their problems, based on the small amount of information which is generally provided to use via their code snippets. This is not always achievable. We should also be encourage good coding practices where we can - IMHO"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1370074664,"post_id":16857380,"comment_id":24336283,"body_markdown":"@avmnusng It&#39;s not only your problem but a known problem and has solutions I even tried to implement myself. I will not say that I completely understand it but it seemed to work that time. I&#39;m interesting in the answer if I understand precisely what the question is about and what the answer is required. Unfortunately here on SO it&#39;s difficult to achieve.","body":"@avmnusng It&#39;s not only your problem but a known problem and has solutions I even tried to implement myself. I will not say that I completely understand it but it seemed to work that time. I&#39;m interesting in the answer if I understand precisely what the question is about and what the answer is required. Unfortunately here on SO it&#39;s difficult to achieve."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1370075795,"post_id":16857380,"comment_id":24336556,"body_markdown":"@MadProgrammer Not only code snippets but the content that fully describes the problem. Code snippets only help to see what OP is tried and what&#39;s wrong with it but it doesn&#39;t answer the question. Encourage good codding is a good intention but it depends how good is the coder, thus less helpful here. BTW good or bad is not provable everybody has his own opinion. I&#39;d say better to keep a well known standards in the code use a case approach.","body":"@MadProgrammer Not only code snippets but the content that fully describes the problem. Code snippets only help to see what OP is tried and what&#39;s wrong with it but it doesn&#39;t answer the question. Encourage good codding is a good intention but it depends how good is the coder, thus less helpful here. BTW good or bad is not provable everybody has his own opinion. I&#39;d say better to keep a well known standards in the code use a case approach."},{"owner":{"account_id":2840656,"reputation":335,"user_id":2440347,"display_name":"AvmnuSng"},"score":0,"creation_date":1370077826,"post_id":16857380,"comment_id":24336936,"body_markdown":"@RomanC i have a frame, in this frame **panel p1** and **panel p2** are added (say using border layout, WEST and EAST respectively) on frame. **Panel p1 has two text fields and a button**, first is **radius** to take input for radius of the very first circle and second is **iterations** to take input for how many circles we want to draw one by one by increment the radius by 10. Now when i press the button the drawing should start on Panel p2. Everything is going fine in my code I posted here in stackOverflow but the problem is that Panel p2 is showing just the final stage (all circles at end)","body":"@RomanC i have a frame, in this frame <b>panel p1</b> and <b>panel p2</b> are added (say using border layout, WEST and EAST respectively) on frame. <b>Panel p1 has two text fields and a button</b>, first is <b>radius</b> to take input for radius of the very first circle and second is <b>iterations</b> to take input for how many circles we want to draw one by one by increment the radius by 10. Now when i press the button the drawing should start on Panel p2. Everything is going fine in my code I posted here in stackOverflow but the problem is that Panel p2 is showing just the final stage (all circles at end)"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1370096397,"post_id":16857380,"comment_id":24341459,"body_markdown":"@avmnusng I have changed something in your code to allow it to draw one by one and not at the end. Look at my answer.","body":"@avmnusng I have changed something in your code to allow it to draw one by one and not at the end. Look at my answer."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1370104598,"post_id":16857380,"comment_id":24343556,"body_markdown":"+1 I don&#39;t understand why downwote had been put on this question.","body":"+1 I don&#39;t understand why downwote had been put on this question."},{"owner":{"account_id":2840656,"reputation":335,"user_id":2440347,"display_name":"AvmnuSng"},"score":0,"creation_date":1370106187,"post_id":16857380,"comment_id":24343921,"body_markdown":"@RomanC actually someone has seen the word drawing circles and thought that someone is kidding here so my question got a downvote :D","body":"@RomanC actually someone has seen the word drawing circles and thought that someone is kidding here so my question got a downvote :D"}],"answers":[{"comments":[{"owner":{"account_id":2840656,"reputation":335,"user_id":2440347,"display_name":"AvmnuSng"},"score":0,"creation_date":1370061455,"post_id":16867558,"comment_id":24333700,"body_markdown":"thanks for having a look at my problem but the problem i am having is that if i am drawing the circles directly on the panel or canvas without using any JTextFields and JButtons to start drawing circles its just working very fine, but if i am using button to start drawing the circles, in this case only the final state is shown to me not all the intermediate states. So basically my problem is like **without any button to start drawing all the intermediate states are shown; program is working fine but adding a button to start the task, in this case just the final state is appearing**","body":"thanks for having a look at my problem but the problem i am having is that if i am drawing the circles directly on the panel or canvas without using any JTextFields and JButtons to start drawing circles its just working very fine, but if i am using button to start drawing the circles, in this case only the final state is shown to me not all the intermediate states. So basically my problem is like <b>without any button to start drawing all the intermediate states are shown; program is working fine but adding a button to start the task, in this case just the final state is appearing</b>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1370061864,"post_id":16867558,"comment_id":24333764,"body_markdown":"Okay. So when you click the button, start a timer. The basic principal is the same.","body":"Okay. So when you click the button, start a timer. The basic principal is the same."},{"owner":{"account_id":2840656,"reputation":335,"user_id":2440347,"display_name":"AvmnuSng"},"score":0,"creation_date":1370062533,"post_id":16867558,"comment_id":24333892,"body_markdown":"that&#39;s all is fine but please help me with this issue, suppose i am drawing some 10 circle, the first circle is of radius 10 and radius for each circle is incremented by 15. so if there is no button to start the task firstly i saw circle of radius 10, then of radius 25, then of radius 40 and so on.. and its my desired output, but when i am trying to do this task by pressing a **start** button i am seeing all the 10 circles at once no step by step drawing. So adding a button creating all the problems as i mentioned in my question, so please help me with this problem. I am clear about the EDT.","body":"that&#39;s all is fine but please help me with this issue, suppose i am drawing some 10 circle, the first circle is of radius 10 and radius for each circle is incremented by 15. so if there is no button to start the task firstly i saw circle of radius 10, then of radius 25, then of radius 40 and so on.. and its my desired output, but when i am trying to do this task by pressing a <b>start</b> button i am seeing all the 10 circles at once no step by step drawing. So adding a button creating all the problems as i mentioned in my question, so please help me with this problem. I am clear about the EDT."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1370073209,"post_id":16867558,"comment_id":24335994,"body_markdown":"@MadProgrammer This is an excellent example of not an answer.","body":"@MadProgrammer This is an excellent example of not an answer."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1370073860,"post_id":16867558,"comment_id":24336109,"body_markdown":"@romanc It demonstrates the principles that the OP needs to overcome there problems and reach a solution suitable for their particular needs. Sometimes it&#39;s better to teach people to fish, but if you have a better solution I&#39;d be pleased to see it ;)","body":"@romanc It demonstrates the principles that the OP needs to overcome there problems and reach a solution suitable for their particular needs. Sometimes it&#39;s better to teach people to fish, but if you have a better solution I&#39;d be pleased to see it ;)"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1370074997,"post_id":16867558,"comment_id":24336362,"body_markdown":"@MadProgrammer Oh, well I understand you but not in this case.","body":"@MadProgrammer Oh, well I understand you but not in this case."},{"owner":{"account_id":2840656,"reputation":335,"user_id":2440347,"display_name":"AvmnuSng"},"score":0,"creation_date":1370107294,"post_id":16867558,"comment_id":24344207,"body_markdown":"@MadProgrammer the input issue can be solved by using KeyListener FocusListener but for the real issue was about the painting not getting the input..and you solved that. thanks!!!","body":"@MadProgrammer the input issue can be solved by using KeyListener FocusListener but for the real issue was about the painting not getting the input..and you solved that. thanks!!!"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1370119803,"post_id":16867558,"comment_id":24347406,"body_markdown":"@avmnusng The input issue can be solved with a JSpinner and only using the values when you need them. KeyListener is very rarely a good idea. To be frank, I solved your paint issue in the first example","body":"@avmnusng The input issue can be solved with a JSpinner and only using the values when you need them. KeyListener is very rarely a good idea. To be frank, I solved your paint issue in the first example"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":8,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1370080345,"creation_date":1370043965,"answer_id":16867558,"question_id":16857380,"body_markdown":"The problem you&#39;re having is far to common.\r\n\r\nSwing is a single threaded framework.  This means that all UI related interactions must occur within the context of this thread (AKA the Event Dispatching Thread).\r\n\r\nThe EDT is responsible for, amongst other things, dispatching repaint requests.  If any part of your code stops this thread (block I/O, time consuming process, `Thread.sleep`), the EDT will be unable to process any new events.\r\n\r\nHave a read through [Concurrency in Swing](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/) for more details.\r\n\r\nYou now face two issues...\r\n\r\n1. You can&#39;t block the EDT\r\n2. You can&#39;t update the UI from any thread other then the EDT.\r\n\r\nLuckily, there are a number of solutions.  The simplest is using a `javax.swing.Timer`.\r\n\r\nThis timer triggers it&#39;s tick events within the EDT but waits within it&#39;s own thread...\r\n\r\n![enter image description here][1]\r\n\r\n    import com.sun.org.apache.bcel.internal.generic.LSTORE;\r\n    import java.awt.AlphaComposite;\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Composite;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Point;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.UnsupportedLookAndFeelException;\r\n\r\n    public class Droplets {\r\n\r\n        public static void main(String[] args) {\r\n            new Droplets();\r\n        }\r\n\r\n        public Droplets() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n                    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n                    }\r\n\r\n                    JFrame frame = new JFrame(&quot;Test&quot;);\r\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    frame.setLayout(new BorderLayout());\r\n                    frame.add(new DropletPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n        protected static final int MAX_RADIUS = 50;\r\n        protected static final int GROWTH_RATE = 1;\r\n\r\n        public class DropletPane extends JPanel {\r\n\r\n            private List&lt;Droplet&gt; droplets;\r\n\r\n            public DropletPane() {\r\n                droplets = new ArrayList&lt;&gt;(25);\r\n                addMouseListener(new MouseAdapter() {\r\n                    @Override\r\n                    public void mousePressed(MouseEvent e) {\r\n                        droplets.add(new Droplet(e.getPoint()));\r\n                    }\r\n                });\r\n\r\n                Timer timer = new Timer(40, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        for (Droplet droplet : droplets.toArray(new Droplet[droplets.size()])) {\r\n                            droplet.grow();\r\n                            if (droplet.getRadius() &gt;= MAX_RADIUS) {\r\n                                droplets.remove(droplet);\r\n                            }\r\n                        }\r\n                        repaint();\r\n                    }\r\n                });\r\n                timer.setRepeats(true);\r\n                timer.setCoalesce(true);\r\n                timer.start();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(200, 200);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                Composite comp = g2d.getComposite();\r\n                for (Droplet droplet : droplets) {\r\n\r\n                    float alpha = 1f - ((float) droplet.getRadius() / (float) MAX_RADIUS);\r\n                    g2d.setComposite(AlphaComposite.SrcOver.derive(alpha));\r\n                    Point p = droplet.getLocation();\r\n                    int radius = droplet.getRadius();\r\n                    g2d.drawOval(p.x - (radius / 2), p.y - (radius / 2), radius, radius);\r\n                    g2d.setComposite(comp);\r\n\r\n                }\r\n                g2d.dispose();\r\n            }\r\n        }\r\n\r\n        public class Droplet {\r\n\r\n            private Point p;\r\n            private int radius;\r\n\r\n            public Droplet(Point p) {\r\n                this.p = p;\r\n            }\r\n\r\n            public Point getLocation() {\r\n                return p;\r\n            }\r\n\r\n            public int getRadius() {\r\n                return radius;\r\n            }\r\n\r\n            public void grow() {\r\n                radius += GROWTH_RATE;\r\n                if (radius &gt; MAX_RADIUS) {\r\n                    radius = MAX_RADIUS;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n## Extended Example ##\r\n\r\nThis example will, when you click the &quot;Start&quot; button, create a random number of droplets at a random interval (between each droplet).  You can press start multiple times and it will compound the output.\r\n\r\n![enter image description here][2]\r\n\r\n    import static droplets.Droplets.MAX_RADIUS;\r\n    import java.awt.AlphaComposite;\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Composite;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Point;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.concurrent.TimeUnit;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingWorker;\r\n    import javax.swing.Timer;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.UnsupportedLookAndFeelException;\r\n\r\n    public class Droplets02 {\r\n\r\n        public static void main(String[] args) {\r\n            new Droplets02();\r\n        }\r\n\r\n        public Droplets02() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n                    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n                    }\r\n\r\n                    JFrame frame = new JFrame(&quot;Test&quot;);\r\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    frame.setLayout(new BorderLayout());\r\n                    frame.add(new DropletPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n        protected static final int MAX_RADIUS = 50;\r\n        protected static final int GROWTH_RATE = 1;\r\n\r\n        public interface Pool {\r\n\r\n            public void addDroplet(Droplet droplet);\r\n\r\n            public Dimension getSize();\r\n        }\r\n\r\n        public class DropletPane extends JPanel implements Pool {\r\n\r\n            private List&lt;Droplet&gt; droplets;\r\n            private Timer timer;\r\n\r\n            public DropletPane() {\r\n\r\n                setLayout(new GridBagLayout());\r\n                JButton button = new JButton(&quot;Start&quot;);\r\n                button.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        new DropletWorker(DropletPane.this).execute();\r\n                    }\r\n                });\r\n                add(button);\r\n\r\n                droplets = new ArrayList&lt;&gt;(25);\r\n                timer = new Timer(40, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if (!droplets.isEmpty()) {\r\n                            for (Droplet droplet : droplets.toArray(new Droplet[droplets.size()])) {\r\n                                droplet.grow();\r\n                                if (droplet.getRadius() &gt;= MAX_RADIUS) {\r\n                                    droplets.remove(droplet);\r\n                                }\r\n                            }\r\n                            if (droplets.isEmpty()) {\r\n\r\n                                ((Timer) e.getSource()).stop();\r\n\r\n                            }\r\n                            repaint();\r\n                        }\r\n                    }\r\n                });\r\n                timer.setRepeats(true);\r\n                timer.setCoalesce(true);\r\n\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(200, 200);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                Composite comp = g2d.getComposite();\r\n                for (Droplet droplet : droplets) {\r\n\r\n                    float alpha = 1f - ((float) droplet.getRadius() / (float) MAX_RADIUS);\r\n                    g2d.setComposite(AlphaComposite.SrcOver.derive(alpha));\r\n                    Point p = droplet.getLocation();\r\n                    int radius = droplet.getRadius();\r\n                    g2d.drawOval(p.x - (radius / 2), p.y - (radius / 2), radius, radius);\r\n                    g2d.setComposite(comp);\r\n\r\n                }\r\n                g2d.dispose();\r\n            }\r\n\r\n            @Override\r\n            public void addDroplet(Droplet droplet) {\r\n                if (!timer.isRunning()) {\r\n                    timer.start();\r\n                }\r\n                droplets.add(droplet);\r\n            }\r\n        }\r\n\r\n        public class Droplet {\r\n\r\n            private Point p;\r\n            private int radius;\r\n\r\n            public Droplet(Point p) {\r\n                this.p = p;\r\n            }\r\n\r\n            public Point getLocation() {\r\n                return p;\r\n            }\r\n\r\n            public int getRadius() {\r\n                return radius;\r\n            }\r\n\r\n            public void grow() {\r\n                radius += GROWTH_RATE;\r\n                if (radius &gt; MAX_RADIUS) {\r\n                    radius = MAX_RADIUS;\r\n                }\r\n            }\r\n        }\r\n\r\n        public class DropletWorker extends SwingWorker&lt;Void, Droplet&gt; {\r\n\r\n            private Pool pool;\r\n\r\n            public DropletWorker(Pool pool) {\r\n                this.pool = pool;\r\n            }\r\n\r\n            public Pool getPool() {\r\n                return pool;\r\n            }\r\n\r\n            protected int random(int minRange, int maxRange) {\r\n                return minRange + (int) (Math.round(Math.random() * (maxRange - minRange)));\r\n            }\r\n\r\n            @Override\r\n            protected Void doInBackground() throws Exception {\r\n\r\n                int dropCount = random(1, 100);\r\n                Pool pool = getPool();\r\n                Dimension size = pool.getSize();\r\n                for (int index = 0; index &lt; dropCount; index++) {\r\n                    Thread.sleep(random(10, 1000));\r\n                    int x = random(0, size.width);\r\n                    int y = random(0, size.height);\r\n                    Droplet droplet = new Droplet(new Point(x, y));\r\n                    publish(droplet);\r\n                }\r\n\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            protected void process(List&lt;Droplet&gt; chunks) {\r\n                for (Droplet droplet : chunks) {\r\n                    getPool().addDroplet(droplet);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n## Animation Basics ##\r\n\r\nYou need three things to perform animation.\r\n\r\n - A Start state\r\n - A Target state\r\n - A delta or time range.\r\n\r\n(You also need some way to store the current state)\r\n\r\nThe start and target states are self explanatory, they describe where you are now and where you want to change to.\r\n\r\nThe delta would be the amount to apply to the current state at each &quot;time interval&quot; (or tick) until you reach the delta.\r\n\r\n**Or**\r\n\r\nThe time range would be the amount of time you want to use to move from the start state to the end state.\r\n\r\nThe delta approach is the simpler mechanism, but isn&#39;t nearly as flexible as the time range approach...\r\n\r\nOnce you have these basic elements set up, you need some kind of &quot;tick&quot; that is triggered at regular intervals which allows you to calculate the current state, which is either a linear movement from the start state to the target state (delta) or a progression of change of over time (time range)\r\n\r\n## A final, full working rework ##\r\n\r\nApart from you&#39;re attempt to block the EDT within the paint method and failing to following the [Initial Thread](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html) requirements of Swing, the only other, significant, problem I found was your reliance on the `radius` and `iter` values.\r\n\r\nBasically, these were never getting set UNLESS you pressed the &lt;kbd&gt;Enter&lt;/kbd&gt; key...which I wasn&#39;t.\r\n\r\nThis example uses the code that you posted and the ideas from the first example...\r\n\r\n![enter image description here][3]\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.Graphics;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.Timer;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.UnsupportedLookAndFeelException;\r\n\r\n    public class ControlCircles extends JFrame {\r\n\r\n        private JButton jbtEnlarge = new JButton(&quot;Start&quot;);\r\n        private JButton jbtShrink = new JButton(&quot;Stop&quot;);\r\n        private CirclePanel canvas = new CirclePanel();\r\n        private JTextField f1 = new JTextField(8);\r\n        private JTextField f2 = new JTextField(8);\r\n\r\n        public ControlCircles() {\r\n            JPanel panel = new JPanel();\r\n            JPanel jp = new JPanel();\r\n            jp.setPreferredSize(new Dimension(300, 0));\r\n            panel.add(jbtEnlarge);\r\n            panel.add(jbtShrink);\r\n\r\n            this.add(jp, BorderLayout.WEST);\r\n            this.add(canvas, BorderLayout.CENTER);\r\n            this.add(panel, BorderLayout.SOUTH);\r\n\r\n\r\n            jp.setLayout(new FlowLayout(FlowLayout.RIGHT, 50, 30));\r\n            jp.add(new JLabel(&quot;Radius&quot;));\r\n            jp.add(f1);\r\n            jp.add(new JLabel(&quot;Iteration&quot;));\r\n            jp.add(f2);\r\n\r\n            jbtEnlarge.addActionListener(new EnlargeListener());\r\n            jbtShrink.addActionListener(new ShrinkListener());\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n                    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n                    }\r\n\r\n                    JFrame frame = new ControlCircles();\r\n\r\n                    frame.setTitle(&quot;ControlCircle&quot;);\r\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    frame.setSize(800, 600);\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n\r\n            });\r\n        }\r\n\r\n        class EnlargeListener implements ActionListener {\r\n\r\n            public void actionPerformed(ActionEvent e) {\r\n                int radius = Integer.parseInt(f1.getText());\r\n                int iter = Integer.parseInt(f2.getText());\r\n                canvas.start(radius, iter);\r\n            \r\n            }\r\n\r\n        }\r\n\r\n        class ShrinkListener implements ActionListener {\r\n\r\n            public void actionPerformed(ActionEvent e) {\r\n                //canvas.shrink();\r\n            }\r\n\r\n        }\r\n\r\n        class CirclePanel extends JPanel {\r\n        \r\n            private int radius;\r\n            private int iterations;\r\n        \r\n            private int iteration;\r\n        \r\n            private List&lt;Integer&gt; circles;\r\n            private Timer timer;\r\n\r\n            public CirclePanel() {\r\n                circles = new ArrayList&lt;&gt;(25);\r\n                timer= new Timer(100, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        iteration++;\r\n                        if (iteration &lt; iterations) {\r\n                            circles.add(radius);\r\n                            radius += 10;\r\n                        } else {\r\n                            ((Timer)e.getSource()).stop();\r\n                        }\r\n                        repaint();\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                int width = getWidth() - 1;\r\n                int height = getHeight()- 1;\r\n                g.drawRect(0, 0, width, height);\r\n                for (Integer radius : circles) {\r\n                    int x = (width - radius) / 2;\r\n                    int y = (height - radius) / 2;\r\n                    g.drawOval(x, y, radius, radius);\r\n                }\r\n            }\r\n\r\n            public void start(int radius, int iter) {\r\n                timer.stop();\r\n                circles.clear();\r\n                this.radius = radius;\r\n                iterations = iter;\r\n                iteration = 0;\r\n                System.out.println(&quot;radius = &quot; + radius);\r\n                System.out.println(&quot;iterations = &quot; + iterations);\r\n                timer.start();\r\n            }\r\n        }\r\n    }\r\n\r\nThis code works based on the description of your problem by correcting the common mistakes with animation in Swing but some of your code didn&#39;t quite make sense to me (ie `enlarge` and `shrink`) so I focused on the description your provided.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/2IbNt.png\r\n  [2]: http://i.stack.imgur.com/oED57.png\r\n  [3]: http://i.stack.imgur.com/LaZ3q.png","title":"The code for displaying circles with varying radius on a panel inside a frame","body":"<p>The problem you're having is far to common.</p>\n\n<p>Swing is a single threaded framework.  This means that all UI related interactions must occur within the context of this thread (AKA the Event Dispatching Thread).</p>\n\n<p>The EDT is responsible for, amongst other things, dispatching repaint requests.  If any part of your code stops this thread (block I/O, time consuming process, <code>Thread.sleep</code>), the EDT will be unable to process any new events.</p>\n\n<p>Have a read through <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> for more details.</p>\n\n<p>You now face two issues...</p>\n\n<ol>\n<li>You can't block the EDT</li>\n<li>You can't update the UI from any thread other then the EDT.</li>\n</ol>\n\n<p>Luckily, there are a number of solutions.  The simplest is using a <code>javax.swing.Timer</code>.</p>\n\n<p>This timer triggers it's tick events within the EDT but waits within it's own thread...</p>\n\n<p><img src=\"https://i.stack.imgur.com/2IbNt.png\" alt=\"enter image description here\"></p>\n\n<pre><code>import com.sun.org.apache.bcel.internal.generic.LSTORE;\nimport java.awt.AlphaComposite;\nimport java.awt.BorderLayout;\nimport java.awt.Composite;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Point;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class Droplets {\n\n    public static void main(String[] args) {\n        new Droplets();\n    }\n\n    public Droplets() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                }\n\n                JFrame frame = new JFrame(\"Test\");\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.setLayout(new BorderLayout());\n                frame.add(new DropletPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n    protected static final int MAX_RADIUS = 50;\n    protected static final int GROWTH_RATE = 1;\n\n    public class DropletPane extends JPanel {\n\n        private List&lt;Droplet&gt; droplets;\n\n        public DropletPane() {\n            droplets = new ArrayList&lt;&gt;(25);\n            addMouseListener(new MouseAdapter() {\n                @Override\n                public void mousePressed(MouseEvent e) {\n                    droplets.add(new Droplet(e.getPoint()));\n                }\n            });\n\n            Timer timer = new Timer(40, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    for (Droplet droplet : droplets.toArray(new Droplet[droplets.size()])) {\n                        droplet.grow();\n                        if (droplet.getRadius() &gt;= MAX_RADIUS) {\n                            droplets.remove(droplet);\n                        }\n                    }\n                    repaint();\n                }\n            });\n            timer.setRepeats(true);\n            timer.setCoalesce(true);\n            timer.start();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 200);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            Composite comp = g2d.getComposite();\n            for (Droplet droplet : droplets) {\n\n                float alpha = 1f - ((float) droplet.getRadius() / (float) MAX_RADIUS);\n                g2d.setComposite(AlphaComposite.SrcOver.derive(alpha));\n                Point p = droplet.getLocation();\n                int radius = droplet.getRadius();\n                g2d.drawOval(p.x - (radius / 2), p.y - (radius / 2), radius, radius);\n                g2d.setComposite(comp);\n\n            }\n            g2d.dispose();\n        }\n    }\n\n    public class Droplet {\n\n        private Point p;\n        private int radius;\n\n        public Droplet(Point p) {\n            this.p = p;\n        }\n\n        public Point getLocation() {\n            return p;\n        }\n\n        public int getRadius() {\n            return radius;\n        }\n\n        public void grow() {\n            radius += GROWTH_RATE;\n            if (radius &gt; MAX_RADIUS) {\n                radius = MAX_RADIUS;\n            }\n        }\n    }\n}\n</code></pre>\n\n<h2>Extended Example</h2>\n\n<p>This example will, when you click the \"Start\" button, create a random number of droplets at a random interval (between each droplet).  You can press start multiple times and it will compound the output.</p>\n\n<p><img src=\"https://i.stack.imgur.com/oED57.png\" alt=\"enter image description here\"></p>\n\n<pre><code>import static droplets.Droplets.MAX_RADIUS;\nimport java.awt.AlphaComposite;\nimport java.awt.BorderLayout;\nimport java.awt.Composite;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridBagLayout;\nimport java.awt.Point;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.TimeUnit;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingWorker;\nimport javax.swing.Timer;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class Droplets02 {\n\n    public static void main(String[] args) {\n        new Droplets02();\n    }\n\n    public Droplets02() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                }\n\n                JFrame frame = new JFrame(\"Test\");\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.setLayout(new BorderLayout());\n                frame.add(new DropletPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n    protected static final int MAX_RADIUS = 50;\n    protected static final int GROWTH_RATE = 1;\n\n    public interface Pool {\n\n        public void addDroplet(Droplet droplet);\n\n        public Dimension getSize();\n    }\n\n    public class DropletPane extends JPanel implements Pool {\n\n        private List&lt;Droplet&gt; droplets;\n        private Timer timer;\n\n        public DropletPane() {\n\n            setLayout(new GridBagLayout());\n            JButton button = new JButton(\"Start\");\n            button.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    new DropletWorker(DropletPane.this).execute();\n                }\n            });\n            add(button);\n\n            droplets = new ArrayList&lt;&gt;(25);\n            timer = new Timer(40, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    if (!droplets.isEmpty()) {\n                        for (Droplet droplet : droplets.toArray(new Droplet[droplets.size()])) {\n                            droplet.grow();\n                            if (droplet.getRadius() &gt;= MAX_RADIUS) {\n                                droplets.remove(droplet);\n                            }\n                        }\n                        if (droplets.isEmpty()) {\n\n                            ((Timer) e.getSource()).stop();\n\n                        }\n                        repaint();\n                    }\n                }\n            });\n            timer.setRepeats(true);\n            timer.setCoalesce(true);\n\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 200);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            Composite comp = g2d.getComposite();\n            for (Droplet droplet : droplets) {\n\n                float alpha = 1f - ((float) droplet.getRadius() / (float) MAX_RADIUS);\n                g2d.setComposite(AlphaComposite.SrcOver.derive(alpha));\n                Point p = droplet.getLocation();\n                int radius = droplet.getRadius();\n                g2d.drawOval(p.x - (radius / 2), p.y - (radius / 2), radius, radius);\n                g2d.setComposite(comp);\n\n            }\n            g2d.dispose();\n        }\n\n        @Override\n        public void addDroplet(Droplet droplet) {\n            if (!timer.isRunning()) {\n                timer.start();\n            }\n            droplets.add(droplet);\n        }\n    }\n\n    public class Droplet {\n\n        private Point p;\n        private int radius;\n\n        public Droplet(Point p) {\n            this.p = p;\n        }\n\n        public Point getLocation() {\n            return p;\n        }\n\n        public int getRadius() {\n            return radius;\n        }\n\n        public void grow() {\n            radius += GROWTH_RATE;\n            if (radius &gt; MAX_RADIUS) {\n                radius = MAX_RADIUS;\n            }\n        }\n    }\n\n    public class DropletWorker extends SwingWorker&lt;Void, Droplet&gt; {\n\n        private Pool pool;\n\n        public DropletWorker(Pool pool) {\n            this.pool = pool;\n        }\n\n        public Pool getPool() {\n            return pool;\n        }\n\n        protected int random(int minRange, int maxRange) {\n            return minRange + (int) (Math.round(Math.random() * (maxRange - minRange)));\n        }\n\n        @Override\n        protected Void doInBackground() throws Exception {\n\n            int dropCount = random(1, 100);\n            Pool pool = getPool();\n            Dimension size = pool.getSize();\n            for (int index = 0; index &lt; dropCount; index++) {\n                Thread.sleep(random(10, 1000));\n                int x = random(0, size.width);\n                int y = random(0, size.height);\n                Droplet droplet = new Droplet(new Point(x, y));\n                publish(droplet);\n            }\n\n            return null;\n        }\n\n        @Override\n        protected void process(List&lt;Droplet&gt; chunks) {\n            for (Droplet droplet : chunks) {\n                getPool().addDroplet(droplet);\n            }\n        }\n    }\n}\n</code></pre>\n\n<h2>Animation Basics</h2>\n\n<p>You need three things to perform animation.</p>\n\n<ul>\n<li>A Start state</li>\n<li>A Target state</li>\n<li>A delta or time range.</li>\n</ul>\n\n<p>(You also need some way to store the current state)</p>\n\n<p>The start and target states are self explanatory, they describe where you are now and where you want to change to.</p>\n\n<p>The delta would be the amount to apply to the current state at each \"time interval\" (or tick) until you reach the delta.</p>\n\n<p><strong>Or</strong></p>\n\n<p>The time range would be the amount of time you want to use to move from the start state to the end state.</p>\n\n<p>The delta approach is the simpler mechanism, but isn't nearly as flexible as the time range approach...</p>\n\n<p>Once you have these basic elements set up, you need some kind of \"tick\" that is triggered at regular intervals which allows you to calculate the current state, which is either a linear movement from the start state to the target state (delta) or a progression of change of over time (time range)</p>\n\n<h2>A final, full working rework</h2>\n\n<p>Apart from you're attempt to block the EDT within the paint method and failing to following the <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\" rel=\"nofollow noreferrer\">Initial Thread</a> requirements of Swing, the only other, significant, problem I found was your reliance on the <code>radius</code> and <code>iter</code> values.</p>\n\n<p>Basically, these were never getting set UNLESS you pressed the <kbd>Enter</kbd> key...which I wasn't.</p>\n\n<p>This example uses the code that you posted and the ideas from the first example...</p>\n\n<p><img src=\"https://i.stack.imgur.com/LaZ3q.png\" alt=\"enter image description here\"></p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.FlowLayout;\nimport java.awt.Graphics;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.Timer;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class ControlCircles extends JFrame {\n\n    private JButton jbtEnlarge = new JButton(\"Start\");\n    private JButton jbtShrink = new JButton(\"Stop\");\n    private CirclePanel canvas = new CirclePanel();\n    private JTextField f1 = new JTextField(8);\n    private JTextField f2 = new JTextField(8);\n\n    public ControlCircles() {\n        JPanel panel = new JPanel();\n        JPanel jp = new JPanel();\n        jp.setPreferredSize(new Dimension(300, 0));\n        panel.add(jbtEnlarge);\n        panel.add(jbtShrink);\n\n        this.add(jp, BorderLayout.WEST);\n        this.add(canvas, BorderLayout.CENTER);\n        this.add(panel, BorderLayout.SOUTH);\n\n\n        jp.setLayout(new FlowLayout(FlowLayout.RIGHT, 50, 30));\n        jp.add(new JLabel(\"Radius\"));\n        jp.add(f1);\n        jp.add(new JLabel(\"Iteration\"));\n        jp.add(f2);\n\n        jbtEnlarge.addActionListener(new EnlargeListener());\n        jbtShrink.addActionListener(new ShrinkListener());\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                }\n\n                JFrame frame = new ControlCircles();\n\n                frame.setTitle(\"ControlCircle\");\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.setSize(800, 600);\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n\n        });\n    }\n\n    class EnlargeListener implements ActionListener {\n\n        public void actionPerformed(ActionEvent e) {\n            int radius = Integer.parseInt(f1.getText());\n            int iter = Integer.parseInt(f2.getText());\n            canvas.start(radius, iter);\n\n        }\n\n    }\n\n    class ShrinkListener implements ActionListener {\n\n        public void actionPerformed(ActionEvent e) {\n            //canvas.shrink();\n        }\n\n    }\n\n    class CirclePanel extends JPanel {\n\n        private int radius;\n        private int iterations;\n\n        private int iteration;\n\n        private List&lt;Integer&gt; circles;\n        private Timer timer;\n\n        public CirclePanel() {\n            circles = new ArrayList&lt;&gt;(25);\n            timer= new Timer(100, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    iteration++;\n                    if (iteration &lt; iterations) {\n                        circles.add(radius);\n                        radius += 10;\n                    } else {\n                        ((Timer)e.getSource()).stop();\n                    }\n                    repaint();\n                }\n            });\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            int width = getWidth() - 1;\n            int height = getHeight()- 1;\n            g.drawRect(0, 0, width, height);\n            for (Integer radius : circles) {\n                int x = (width - radius) / 2;\n                int y = (height - radius) / 2;\n                g.drawOval(x, y, radius, radius);\n            }\n        }\n\n        public void start(int radius, int iter) {\n            timer.stop();\n            circles.clear();\n            this.radius = radius;\n            iterations = iter;\n            iteration = 0;\n            System.out.println(\"radius = \" + radius);\n            System.out.println(\"iterations = \" + iterations);\n            timer.start();\n        }\n    }\n}\n</code></pre>\n\n<p>This code works based on the description of your problem by correcting the common mistakes with animation in Swing but some of your code didn't quite make sense to me (ie <code>enlarge</code> and <code>shrink</code>) so I focused on the description your provided.</p>\n"},{"comments":[{"owner":{"account_id":2840656,"reputation":335,"user_id":2440347,"display_name":"AvmnuSng"},"score":1,"creation_date":1370103979,"post_id":16873592,"comment_id":24343412,"body_markdown":"this is the same thing I needed, exactly the same.\nThanks for the code.","body":"this is the same thing I needed, exactly the same. Thanks for the code."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1370119957,"post_id":16873592,"comment_id":24347431,"body_markdown":"Wow, that&#39;s a lot of work that can be simply solved with a javax,swing.Timer :P","body":"Wow, that&#39;s a lot of work that can be simply solved with a javax,swing.Timer :P"}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1701448877,"creation_date":1370095994,"answer_id":16873592,"question_id":16857380,"body_markdown":"The idea is to *control* the drawing animation on the panel used as a canvas with the buttons `Start`, `Stop` and I added `Continue` and `Reset` additional controls to better explain the idea. These buttons control the animation thread execution thus drawing circles on the drawing surface. the drawing surface I separated as inner class that has only function to draw whatever performed. Another idea that the approach is taken to draw the circles one by one incrementally until it finishes drawing thus used incremental painting. \r\n\r\nI have used the code from the above and changed it a little to support my ideas. If you need more and usually better examples look at this article [Painting in AWT and Swing][1].\r\n\r\nThe code is below, I didn&#39;t polish it enough to have a production wise look and feel but for demonstration purpose only. \r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.image.BufferedImage;\r\n    \r\n    public class ControlCircle extends JFrame implements Runnable {\r\n      private JButton jbtStart = new JButton(&quot;Start&quot;);\r\n      private JButton jbtStop = new JButton(&quot;Stop&quot;);\r\n      private JButton jbtContinue = new JButton(&quot;Continue&quot;);\r\n      private JButton jbtReset = new JButton(&quot;Reset&quot;);\r\n      private CirclePanel canvas = new CirclePanel();\r\n    \r\n      private JTextField f1;\r\n      private int radius = 0;\r\n    \r\n      private JTextField f2;\r\n      private int iter;\r\n    \r\n      protected boolean  incrementalPainting;\r\n    \r\n      /**\r\n       * Flag indicates that a thread is suspended\r\n       */\r\n      private boolean suspended = false;\r\n    \r\n    \r\n      /**An instance of the class Thread.*/\r\n      private Thread thread = null;\r\n    \r\n      public ControlCircle() {\r\n        JPanel panel = new JPanel();\r\n        JPanel jp = new JPanel();\r\n        jp.setPreferredSize(new Dimension(300, 0));\r\n        panel.add(jbtStart);\r\n        panel.add(jbtStop);\r\n        panel.add(jbtContinue);\r\n        panel.add(jbtReset);\r\n    \r\n        this.add(jp, BorderLayout.WEST);\r\n        this.add(canvas, BorderLayout.CENTER);\r\n        this.add(panel, BorderLayout.SOUTH);\r\n    \r\n        f1 = new JTextField(8);\r\n        f2 = new JTextField(8);\r\n    \r\n        jp.setLayout(new FlowLayout(FlowLayout.RIGHT, 50, 30));\r\n        jp.add(new JLabel(&quot;Radius&quot;));\r\n        jp.add(f1);\r\n        jp.add(new JLabel(&quot;Iteration&quot;));\r\n        jp.add(f2);\r\n    \r\n    \r\n        jbtStart.addActionListener(new StartListener());\r\n        jbtStop.addActionListener(new StopListener());\r\n        jbtContinue.addActionListener(new ContinueListener());\r\n        jbtReset.addActionListener(new ResetListener());\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n        JFrame frame = new ControlCircle();\r\n    \r\n        frame.setTitle(&quot;ControlCircle&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(800, 600);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n      }\r\n    \r\n      class StartListener implements ActionListener {\r\n        public void actionPerformed(ActionEvent e) {\r\n          if (thread == null) {\r\n            repaint();\r\n            startThread();\r\n          }\r\n        }\r\n      }\r\n    \r\n      class StopListener implements ActionListener {\r\n        public void actionPerformed(ActionEvent e) {\r\n          if (thread != null){\r\n            mySuspend();\r\n          }\r\n        }\r\n      }\r\n    \r\n      class ContinueListener implements ActionListener {\r\n        public void actionPerformed(ActionEvent e) {\r\n          myResume();\r\n        }\r\n      }\r\n    \r\n      class ResetListener implements ActionListener {\r\n        public void actionPerformed(ActionEvent e) {\r\n          if (thread != null) {\r\n            stopThread();\r\n          }\r\n          repaint();\r\n        }\r\n    \r\n      }\r\n    \r\n      /**\r\n       * my Suspend\r\n       */\r\n      private void mySuspend() {\r\n        System.out.println(&quot;mySyspend()&quot;);\r\n        suspended = true;\r\n      }\r\n    \r\n      /**\r\n       * my Resume\r\n       */\r\n      private synchronized void myResume(){\r\n        System.out.println(&quot;myResume()&quot;);\r\n        suspended = false;\r\n        notifyAll();\r\n      }\r\n    \r\n      public void run(){\r\n        System.out.println(&quot;run() - started&quot;);\r\n    \r\n        Thread me = Thread.currentThread();\r\n        while (thread == me) {\r\n          radius = Integer.parseInt(f1.getText());\r\n          iter = Integer.parseInt(f2.getText());\r\n          for (int i = 0; i &lt; iter; i++) {\r\n            if (thread == null) return;\r\n            incrementalPainting = true;\r\n            myRepaint();\r\n            try {\r\n              Thread.sleep(1000);\r\n            }\r\n            catch(InterruptedException e){}\r\n            radius += 10;\r\n          }\r\n          if(thread != null) thread = null;\t// exiting while\r\n        }\r\n        System.out.println(&quot;run() - exiting&quot;);\r\n      }\r\n    \r\n      /**\r\n       * start Thread\r\n       */\r\n      private void startThread(){\r\n        System.out.println(&quot;startThread()&quot;);\r\n        if(thread == null){\r\n          thread = new Thread(this);\r\n          thread.start();\r\n        }\r\n      }\r\n    \r\n      /**\r\n       *  stop Thread\r\n       */\r\n      private synchronized void stopThread() {\r\n        System.out.println(&quot;stopThread()&quot;);\r\n        thread = null; // exiting from while\r\n        if (suspended) {\r\n          suspended = false;\r\n          notify();\r\n        }\r\n      }\r\n    \r\n      /**\r\n       * This is called from the run method to invoke painting.\r\n       */\r\n      private void myRepaint() {\r\n        System.out.println(&quot;myRepaint()&quot;);\r\n        incrementalPainting = true;\r\n        repaint();\r\n        synchronized (this) {\r\n          while (incrementalPainting) {\r\n            System.out.println(&quot;wait while incremental painting&quot;);\r\n            try {\r\n              wait();\r\n            } catch (InterruptedException e) {\r\n              System.out.println(&quot;interrupted&quot;);\r\n            }\r\n          }\r\n        }\r\n    \r\n        suspend();\r\n      }\r\n      /**\r\n       * This method should place somewhere when run() has started. Perfectly\r\n       * when repaint() performed.\r\n       */\r\n      private void suspend(){\r\n        System.out.println(&quot;suspend()&quot;);\r\n        synchronized (this) {\r\n          while (suspended) {\r\n            System.out.println(&quot;wait while suspended&quot;);\r\n            try {\r\n              wait();\r\n            } catch (InterruptedException e) {\r\n              System.out.println(&quot;interrupted&quot;);\r\n            }\r\n          }\r\n        }\r\n    \r\n      }\r\n    \r\n      public synchronized void myPaint(Graphics g) {\r\n        if (g == null){\r\n          if (incrementalPainting){\r\n            incrementalPainting = false;\r\n            notifyAll();\r\n          }\r\n          return;\r\n        }\r\n        if (incrementalPainting){\r\n          myDraw(g);\r\n          incrementalPainting = false;\r\n          notifyAll();\r\n    \r\n        }\r\n        else {\r\n          myDraw(g);\r\n        }\r\n      }\r\n    \r\n      public void myDraw(Graphics g){\r\n        g.drawOval(getWidth() / 2 - radius, getHeight() / 2 - radius, 2 * radius, 2 * radius);\r\n      }\r\n    \r\n      protected final class CirclePanel extends JPanel {\r\n        //Offscreen buffer of this canvas\r\n        private BufferedImage backBuffer = null;\r\n    \r\n        public void paintComponent (Graphics g) {\r\n          System.out.println(&quot;incrementalPainting=&quot;+incrementalPainting);\r\n          // First paint background\r\n          super.paintComponent(g);\r\n          Dimension d = this.getSize();\r\n          if (! incrementalPainting)\r\n            backBuffer = (BufferedImage) this.createImage(d.width, d.height);\r\n          Graphics2D g2 = backBuffer.createGraphics();\r\n          if (! incrementalPainting){\r\n            g2.setColor(Color.WHITE);\r\n            g2.fillRect(0,0, d.width, d.height);\r\n          }\r\n          myPaint(g2);\r\n          g.drawImage(backBuffer, 0, 0, this);\r\n    \r\n        }\r\n    \r\n      }\r\n    \r\n    }\r\n\r\n       \r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/painting-140037.html\r\n\r\n","title":"The code for displaying circles with varying radius on a panel inside a frame","body":"<p>The idea is to <em>control</em> the drawing animation on the panel used as a canvas with the buttons <code>Start</code>, <code>Stop</code> and I added <code>Continue</code> and <code>Reset</code> additional controls to better explain the idea. These buttons control the animation thread execution thus drawing circles on the drawing surface. the drawing surface I separated as inner class that has only function to draw whatever performed. Another idea that the approach is taken to draw the circles one by one incrementally until it finishes drawing thus used incremental painting.</p>\n<p>I have used the code from the above and changed it a little to support my ideas. If you need more and usually better examples look at this article <a href=\"http://www.oracle.com/technetwork/java/painting-140037.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a>.</p>\n<p>The code is below, I didn't polish it enough to have a production wise look and feel but for demonstration purpose only.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.image.BufferedImage;\n\npublic class ControlCircle extends JFrame implements Runnable {\n  private JButton jbtStart = new JButton(&quot;Start&quot;);\n  private JButton jbtStop = new JButton(&quot;Stop&quot;);\n  private JButton jbtContinue = new JButton(&quot;Continue&quot;);\n  private JButton jbtReset = new JButton(&quot;Reset&quot;);\n  private CirclePanel canvas = new CirclePanel();\n\n  private JTextField f1;\n  private int radius = 0;\n\n  private JTextField f2;\n  private int iter;\n\n  protected boolean  incrementalPainting;\n\n  /**\n   * Flag indicates that a thread is suspended\n   */\n  private boolean suspended = false;\n\n\n  /**An instance of the class Thread.*/\n  private Thread thread = null;\n\n  public ControlCircle() {\n    JPanel panel = new JPanel();\n    JPanel jp = new JPanel();\n    jp.setPreferredSize(new Dimension(300, 0));\n    panel.add(jbtStart);\n    panel.add(jbtStop);\n    panel.add(jbtContinue);\n    panel.add(jbtReset);\n\n    this.add(jp, BorderLayout.WEST);\n    this.add(canvas, BorderLayout.CENTER);\n    this.add(panel, BorderLayout.SOUTH);\n\n    f1 = new JTextField(8);\n    f2 = new JTextField(8);\n\n    jp.setLayout(new FlowLayout(FlowLayout.RIGHT, 50, 30));\n    jp.add(new JLabel(&quot;Radius&quot;));\n    jp.add(f1);\n    jp.add(new JLabel(&quot;Iteration&quot;));\n    jp.add(f2);\n\n\n    jbtStart.addActionListener(new StartListener());\n    jbtStop.addActionListener(new StopListener());\n    jbtContinue.addActionListener(new ContinueListener());\n    jbtReset.addActionListener(new ResetListener());\n  }\n\n  public static void main(String[] args) {\n    JFrame frame = new ControlCircle();\n\n    frame.setTitle(&quot;ControlCircle&quot;);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setSize(800, 600);\n    frame.setLocationRelativeTo(null);\n    frame.setVisible(true);\n  }\n\n  class StartListener implements ActionListener {\n    public void actionPerformed(ActionEvent e) {\n      if (thread == null) {\n        repaint();\n        startThread();\n      }\n    }\n  }\n\n  class StopListener implements ActionListener {\n    public void actionPerformed(ActionEvent e) {\n      if (thread != null){\n        mySuspend();\n      }\n    }\n  }\n\n  class ContinueListener implements ActionListener {\n    public void actionPerformed(ActionEvent e) {\n      myResume();\n    }\n  }\n\n  class ResetListener implements ActionListener {\n    public void actionPerformed(ActionEvent e) {\n      if (thread != null) {\n        stopThread();\n      }\n      repaint();\n    }\n\n  }\n\n  /**\n   * my Suspend\n   */\n  private void mySuspend() {\n    System.out.println(&quot;mySyspend()&quot;);\n    suspended = true;\n  }\n\n  /**\n   * my Resume\n   */\n  private synchronized void myResume(){\n    System.out.println(&quot;myResume()&quot;);\n    suspended = false;\n    notifyAll();\n  }\n\n  public void run(){\n    System.out.println(&quot;run() - started&quot;);\n\n    Thread me = Thread.currentThread();\n    while (thread == me) {\n      radius = Integer.parseInt(f1.getText());\n      iter = Integer.parseInt(f2.getText());\n      for (int i = 0; i &lt; iter; i++) {\n        if (thread == null) return;\n        incrementalPainting = true;\n        myRepaint();\n        try {\n          Thread.sleep(1000);\n        }\n        catch(InterruptedException e){}\n        radius += 10;\n      }\n      if(thread != null) thread = null; // exiting while\n    }\n    System.out.println(&quot;run() - exiting&quot;);\n  }\n\n  /**\n   * start Thread\n   */\n  private void startThread(){\n    System.out.println(&quot;startThread()&quot;);\n    if(thread == null){\n      thread = new Thread(this);\n      thread.start();\n    }\n  }\n\n  /**\n   *  stop Thread\n   */\n  private synchronized void stopThread() {\n    System.out.println(&quot;stopThread()&quot;);\n    thread = null; // exiting from while\n    if (suspended) {\n      suspended = false;\n      notify();\n    }\n  }\n\n  /**\n   * This is called from the run method to invoke painting.\n   */\n  private void myRepaint() {\n    System.out.println(&quot;myRepaint()&quot;);\n    incrementalPainting = true;\n    repaint();\n    synchronized (this) {\n      while (incrementalPainting) {\n        System.out.println(&quot;wait while incremental painting&quot;);\n        try {\n          wait();\n        } catch (InterruptedException e) {\n          System.out.println(&quot;interrupted&quot;);\n        }\n      }\n    }\n\n    suspend();\n  }\n  /**\n   * This method should place somewhere when run() has started. Perfectly\n   * when repaint() performed.\n   */\n  private void suspend(){\n    System.out.println(&quot;suspend()&quot;);\n    synchronized (this) {\n      while (suspended) {\n        System.out.println(&quot;wait while suspended&quot;);\n        try {\n          wait();\n        } catch (InterruptedException e) {\n          System.out.println(&quot;interrupted&quot;);\n        }\n      }\n    }\n\n  }\n\n  public synchronized void myPaint(Graphics g) {\n    if (g == null){\n      if (incrementalPainting){\n        incrementalPainting = false;\n        notifyAll();\n      }\n      return;\n    }\n    if (incrementalPainting){\n      myDraw(g);\n      incrementalPainting = false;\n      notifyAll();\n\n    }\n    else {\n      myDraw(g);\n    }\n  }\n\n  public void myDraw(Graphics g){\n    g.drawOval(getWidth() / 2 - radius, getHeight() / 2 - radius, 2 * radius, 2 * radius);\n  }\n\n  protected final class CirclePanel extends JPanel {\n    //Offscreen buffer of this canvas\n    private BufferedImage backBuffer = null;\n\n    public void paintComponent (Graphics g) {\n      System.out.println(&quot;incrementalPainting=&quot;+incrementalPainting);\n      // First paint background\n      super.paintComponent(g);\n      Dimension d = this.getSize();\n      if (! incrementalPainting)\n        backBuffer = (BufferedImage) this.createImage(d.width, d.height);\n      Graphics2D g2 = backBuffer.createGraphics();\n      if (! incrementalPainting){\n        g2.setColor(Color.WHITE);\n        g2.fillRect(0,0, d.width, d.height);\n      }\n      myPaint(g2);\n      g.drawImage(backBuffer, 0, 0, this);\n\n    }\n\n  }\n\n}\n\n   \n</code></pre>\n"}],"owner":{"account_id":2840656,"reputation":335,"user_id":2440347,"display_name":"AvmnuSng"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1448,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":16873592,"answer_count":2,"score":0,"last_activity_date":1701448877,"creation_date":1370003576,"question_id":16857380,"body_markdown":"Here is the code for displaying circles with varying radius on a panel inside a frame with a given delay rate, but the code is showing the final output not the intermediate stages i.e., the circles are not appearing one by one but all the circles are coming at once as a final output. There may be some errors related to button action listeners and panel threads. The code is taking initial circle radius and the total number of iterations (the total number of circles to be displayed), radius of each next circle gets incremented by 10.\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    \r\n    public class ControlCircle extends JFrame {\r\n      private JButton jbtEnlarge = new JButton(&quot;Start&quot;);\r\n      private JButton jbtShrink = new JButton(&quot;Stop&quot;);\r\n      private CirclePanel canvas = new CirclePanel();\r\n      \r\n      private int radius = 0;\r\n      private int iter;\r\n      \r\n      public ControlCircle() {\r\n        JPanel panel = new JPanel();\r\n        JPanel jp = new JPanel();\r\n        jp.setPreferredSize(new Dimension(300, 0));\r\n        panel.add(jbtEnlarge);\r\n        panel.add(jbtShrink);\r\n        \r\n        this.add(jp, BorderLayout.WEST);\r\n        this.add(canvas, BorderLayout.CENTER);\r\n        this.add(panel, BorderLayout.SOUTH);\r\n        \r\n        final JTextField f1 = new JTextField(8),f2 = new JTextField(8);\r\n        \r\n        jp.setLayout(new FlowLayout(FlowLayout.RIGHT, 50, 30));\r\n        jp.add(new JLabel(&quot;Radius&quot;));\r\n        jp.add(f1);\r\n        jp.add(new JLabel(&quot;Iteration&quot;));\r\n        jp.add(f2);\r\n        \r\n        f1.addActionListener(new ActionListener() {\r\n          public void actionPerformed(ActionEvent e) {\r\n            radius = Integer.parseInt(new String(f1.getText()));\r\n          }\r\n        });\r\n        \r\n        f2.addActionListener(new ActionListener() {\r\n          public void actionPerformed(ActionEvent e) {\r\n            iter = Integer.parseInt(new String(f2.getText()));\r\n          }\r\n        });\r\n        \r\n        jbtEnlarge.addActionListener(new EnlargeListener());\r\n        jbtShrink.addActionListener(new ShrinkListener());\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n        JFrame frame = new ControlCircle();\r\n    \r\n        frame.setTitle(&quot;ControlCircle&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(800, 600);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n      }\r\n    \r\n      class EnlargeListener implements ActionListener {\r\n        public void actionPerformed(ActionEvent e) {\r\n          canvas.enlarge();\r\n        }\r\n      }\r\n    \r\n      class ShrinkListener implements ActionListener {\r\n        public void actionPerformed(ActionEvent e) {\r\n          //canvas.shrink();\r\n        }\r\n      }\r\n      \r\n      class CirclePanel extends JPanel {\r\n        private int r = radius;\r\n    \r\n        public void enlarge() {\r\n          //radius += 2;\r\n          \r\n          repaint();\r\n        }\r\n        \r\n        public void shrink() {\r\n          radius -= 2;\r\n          \r\n          repaint();\r\n        }\r\n        \r\n        protected void paintComponent(Graphics g) {\r\n          super.paintComponent(g);\r\n          \r\n          for (int i = 0; i &lt; iter; i++) {\r\n            g.drawOval(getWidth() / 2 - r, getHeight() / 2 - r, 2 * r, 2 * r);\r\n            \r\n            try {\r\n              Thread.sleep(100);\r\n            } catch (Exception exp) {\r\n            }\r\n            \r\n            r = r + 10;\r\n          }\r\n          \r\n          r = 0;\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n","title":"The code for displaying circles with varying radius on a panel inside a frame","body":"<p>Here is the code for displaying circles with varying radius on a panel inside a frame with a given delay rate, but the code is showing the final output not the intermediate stages i.e., the circles are not appearing one by one but all the circles are coming at once as a final output. There may be some errors related to button action listeners and panel threads. The code is taking initial circle radius and the total number of iterations (the total number of circles to be displayed), radius of each next circle gets incremented by 10.</p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class ControlCircle extends JFrame {\n  private JButton jbtEnlarge = new JButton(\"Start\");\n  private JButton jbtShrink = new JButton(\"Stop\");\n  private CirclePanel canvas = new CirclePanel();\n\n  private int radius = 0;\n  private int iter;\n\n  public ControlCircle() {\n    JPanel panel = new JPanel();\n    JPanel jp = new JPanel();\n    jp.setPreferredSize(new Dimension(300, 0));\n    panel.add(jbtEnlarge);\n    panel.add(jbtShrink);\n\n    this.add(jp, BorderLayout.WEST);\n    this.add(canvas, BorderLayout.CENTER);\n    this.add(panel, BorderLayout.SOUTH);\n\n    final JTextField f1 = new JTextField(8),f2 = new JTextField(8);\n\n    jp.setLayout(new FlowLayout(FlowLayout.RIGHT, 50, 30));\n    jp.add(new JLabel(\"Radius\"));\n    jp.add(f1);\n    jp.add(new JLabel(\"Iteration\"));\n    jp.add(f2);\n\n    f1.addActionListener(new ActionListener() {\n      public void actionPerformed(ActionEvent e) {\n        radius = Integer.parseInt(new String(f1.getText()));\n      }\n    });\n\n    f2.addActionListener(new ActionListener() {\n      public void actionPerformed(ActionEvent e) {\n        iter = Integer.parseInt(new String(f2.getText()));\n      }\n    });\n\n    jbtEnlarge.addActionListener(new EnlargeListener());\n    jbtShrink.addActionListener(new ShrinkListener());\n  }\n\n  public static void main(String[] args) {\n    JFrame frame = new ControlCircle();\n\n    frame.setTitle(\"ControlCircle\");\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setSize(800, 600);\n    frame.setLocationRelativeTo(null);\n    frame.setVisible(true);\n  }\n\n  class EnlargeListener implements ActionListener {\n    public void actionPerformed(ActionEvent e) {\n      canvas.enlarge();\n    }\n  }\n\n  class ShrinkListener implements ActionListener {\n    public void actionPerformed(ActionEvent e) {\n      //canvas.shrink();\n    }\n  }\n\n  class CirclePanel extends JPanel {\n    private int r = radius;\n\n    public void enlarge() {\n      //radius += 2;\n\n      repaint();\n    }\n\n    public void shrink() {\n      radius -= 2;\n\n      repaint();\n    }\n\n    protected void paintComponent(Graphics g) {\n      super.paintComponent(g);\n\n      for (int i = 0; i &lt; iter; i++) {\n        g.drawOval(getWidth() / 2 - r, getHeight() / 2 - r, 2 * r, 2 * r);\n\n        try {\n          Thread.sleep(100);\n        } catch (Exception exp) {\n        }\n\n        r = r + 10;\n      }\n\n      r = 0;\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","eclipse","intellij-idea","code-completion"],"answers":[{"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1296130922,"post_id":4816155,"comment_id":5340480,"body_markdown":"Selecting is not necessary in most cases, see my reply.","body":"Selecting is not necessary in most cases, see my reply."}],"tags":[],"owner":{"account_id":4804,"reputation":268589,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1374488176,"creation_date":1296130491,"answer_id":4816155,"question_id":4816069,"body_markdown":"It&#39;s not as nice as Eclipse, but you can try the following:\r\n\r\n    new BufferedOutputStream(out)\r\n\r\n\r\n   * Select the expression above, either with your mouse (or by using &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;W&lt;/kbd&gt;).\r\n   * Then hit &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;V&lt;/kbd&gt; to **Introduce a Variable** or (&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;F&lt;/kbd&gt; to **Introduce a Field**)","title":"IDEA: &quot;Assign statement to new local variable&quot;?","body":"<p>It's not as nice as Eclipse, but you can try the following:</p>\n\n<pre><code>new BufferedOutputStream(out)\n</code></pre>\n\n<ul>\n<li>Select the expression above, either with your mouse (or by using <kbd>Ctrl</kbd>+<kbd>W</kbd>).</li>\n<li>Then hit <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>V</kbd> to <strong>Introduce a Variable</strong> or (<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>F</kbd> to <strong>Introduce a Field</strong>)</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":124590,"reputation":8425,"user_id":319773,"accept_rate":89,"display_name":"Bevor"},"score":0,"creation_date":1473098878,"post_id":4816218,"comment_id":66002761,"body_markdown":"Finally something that works in Android Studio similar to Eclipse.","body":"Finally something that works in Android Studio similar to Eclipse."},{"owner":{"account_id":158101,"reputation":2453,"user_id":376489,"accept_rate":89,"display_name":"MrColes"},"score":0,"creation_date":1480612412,"post_id":4816218,"comment_id":69045279,"body_markdown":"Might be obvious, but for Apple users—`Cmd` + `Option` + `v` does the trick. Also, the resolve all is nice—it assigns the variable in the first expression and then replaces the other expressions in that scope with the new variable.","body":"Might be obvious, but for Apple users—<code>Cmd</code> + <code>Option</code> + <code>v</code> does the trick. Also, the resolve all is nice—it assigns the variable in the first expression and then replaces the other expressions in that scope with the new variable."},{"owner":{"account_id":55444,"reputation":5230,"user_id":166062,"display_name":"Lari Hotari"},"score":1,"creation_date":1503332420,"post_id":4816218,"comment_id":78561360,"body_markdown":"Another possibility is to use the Postfix Completion feature of IntelliJ. Typing &quot;.v+ENTER&quot; would normally choose the &quot;.var&quot; postfix completion and introduce the variable.","body":"Another possibility is to use the Postfix Completion feature of IntelliJ. Typing &quot;.v+ENTER&quot; would normally choose the &quot;.var&quot; postfix completion and introduce the variable."},{"owner":{"account_id":7844827,"reputation":392,"user_id":5930242,"display_name":"FredBoutin"},"score":0,"creation_date":1527772582,"post_id":4816218,"comment_id":88260422,"body_markdown":"@LariHotari&#39;s comment should be part of the answer, it is much faster this way : https://blog.jetbrains.com/idea/2014/03/postfix-completion/","body":"@LariHotari&#39;s comment should be part of the answer, it is much faster this way : <a href=\"https://blog.jetbrains.com/idea/2014/03/postfix-completion/\" rel=\"nofollow noreferrer\">blog.jetbrains.com/idea/2014/03/postfix-completion</a>"}],"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":4,"down_vote_count":0,"up_vote_count":58,"is_accepted":true,"score":58,"last_activity_date":1527794077,"creation_date":1296130892,"answer_id":4816218,"question_id":4816069,"body_markdown":"**Refactor | Introduce Variable** (&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;V&lt;/kbd&gt; on Windows). Note that you don&#39;t need to select the text if it&#39;s the only text in the current line. Then you can change the variable name in-line just like you&#39;ve described and press &lt;kbd&gt;Enter&lt;/kbd&gt; to complete editing.\r\n\r\nAnother way is to use the [Postfix Completion](https://blog.jetbrains.com/idea/2014/03/postfix-completion/):\r\n\r\nType `.var` (or just `.v` to select it from the list) and confirm it with &lt;kbd&gt;Enter&lt;/kbd&gt;.","title":"IDEA: &quot;Assign statement to new local variable&quot;?","body":"<p><strong>Refactor | Introduce Variable</strong> (<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>V</kbd> on Windows). Note that you don't need to select the text if it's the only text in the current line. Then you can change the variable name in-line just like you've described and press <kbd>Enter</kbd> to complete editing.</p>\n\n<p>Another way is to use the <a href=\"https://blog.jetbrains.com/idea/2014/03/postfix-completion/\" rel=\"noreferrer\">Postfix Completion</a>:</p>\n\n<p>Type <code>.var</code> (or just <code>.v</code> to select it from the list) and confirm it with <kbd>Enter</kbd>.</p>\n"},{"tags":[],"owner":{"account_id":2720151,"reputation":960,"user_id":2346618,"accept_rate":83,"display_name":"G&#246;k&#231;er G&#246;kdal"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1445246844,"creation_date":1390979532,"answer_id":21424442,"question_id":4816069,"body_markdown":"As CrazyCoder mentions you can use &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;V&lt;/kbd&gt;. Also instead of selecting the expression, clicking into somewhere in your expression and using &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;W&lt;/kbd&gt; to expand scope is very useful while using introduce refactorings. Extract refactorings are:\r\n\r\n - Extract variable: &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;V&lt;/kbd&gt;\r\n - Extract field: &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;F&lt;/kbd&gt;\r\n - Extract method: &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;M&lt;/kbd&gt;\r\n - Extract parameter: &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;P&lt;/kbd&gt;\r\n - Extract constant: &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;C&lt;/kbd&gt;\r\n\r\nAlso, Idea is a polygot editor so you can use these extract refactorings for other file types like js or html also (not all refactorings work in all file types but &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;W&lt;/kbd&gt; works mostly).\r\n\r\nThere are more extract refactorings which do not have shortcuts which you can access from Refactor|Extract menu (both menu bar and context menu). To quick access all refactorings you can use &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;T&lt;/kbd&gt; for a popup menu.\r\n\r\nAs a last word, I highly encourage you using &quot;Tip of the Day&quot; (Help|Tip of the Day). It is a fast way to learn many helpful features of Idea.","title":"IDEA: &quot;Assign statement to new local variable&quot;?","body":"<p>As CrazyCoder mentions you can use <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>V</kbd>. Also instead of selecting the expression, clicking into somewhere in your expression and using <kbd>Ctrl</kbd>+<kbd>W</kbd> to expand scope is very useful while using introduce refactorings. Extract refactorings are:</p>\n\n<ul>\n<li>Extract variable: <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>V</kbd></li>\n<li>Extract field: <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>F</kbd></li>\n<li>Extract method: <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>M</kbd></li>\n<li>Extract parameter: <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>P</kbd></li>\n<li>Extract constant: <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>C</kbd></li>\n</ul>\n\n<p>Also, Idea is a polygot editor so you can use these extract refactorings for other file types like js or html also (not all refactorings work in all file types but <kbd>Ctrl</kbd>+<kbd>W</kbd> works mostly).</p>\n\n<p>There are more extract refactorings which do not have shortcuts which you can access from Refactor|Extract menu (both menu bar and context menu). To quick access all refactorings you can use <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Shift</kbd>+<kbd>T</kbd> for a popup menu.</p>\n\n<p>As a last word, I highly encourage you using \"Tip of the Day\" (Help|Tip of the Day). It is a fast way to learn many helpful features of Idea.</p>\n"},{"tags":[],"owner":{"account_id":2526910,"reputation":129,"user_id":2196099,"display_name":"Zeljko Kozina"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633806971,"creation_date":1633806971,"answer_id":69509852,"question_id":4816069,"body_markdown":"Easiest is, hit &lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Enter&lt;/kbd&gt;, you will be offered with a list of options, and just select &quot;Introduce local Variable&quot;.","title":"IDEA: &quot;Assign statement to new local variable&quot;?","body":"<p>Easiest is, hit <kbd>Alt</kbd>+<kbd>Enter</kbd>, you will be offered with a list of options, and just select &quot;Introduce local Variable&quot;.</p>\n"},{"tags":[],"owner":{"account_id":11170080,"reputation":1139,"user_id":8663316,"display_name":"Faizan Haidar Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701448430,"creation_date":1701448430,"answer_id":77586746,"question_id":4816069,"body_markdown":"Press `Ctrl+2` at the end of the line and it will display this dialog at the bottom right of the screen\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nSelect second option `Assign to local variable` and it will display this dialog with suggested variable names\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YKats.png\r\n  [2]: https://i.stack.imgur.com/nfoEt.png","title":"IDEA: &quot;Assign statement to new local variable&quot;?","body":"<p>Press <code>Ctrl+2</code> at the end of the line and it will display this dialog at the bottom right of the screen</p>\n<p><a href=\"https://i.stack.imgur.com/YKats.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YKats.png\" alt=\"enter image description here\" /></a></p>\n<p>Select second option <code>Assign to local variable</code> and it will display this dialog with suggested variable names</p>\n<p><a href=\"https://i.stack.imgur.com/nfoEt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nfoEt.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":110220,"reputation":37362,"user_id":291741,"accept_rate":87,"display_name":"Chris Lercher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20130,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":4816218,"answer_count":5,"score":35,"last_activity_date":1701448430,"creation_date":1296129858,"question_id":4816069,"body_markdown":"As a long time Eclipse user, I&#39;m playing around a little bit with IntelliJ IDEA 10. I can&#39;t seem to find out how to perform an &quot;Assign statement to new local variable&quot; code completion.\r\n\r\n**Feature explanation:**\r\n\r\nI type something like\r\n\r\n    new BufferedOutputStream(out)\r\n\r\nand then hit &lt;kbd&gt;Cmd (or Ctrl)&lt;/kbd&gt;+&lt;kbd&gt;1&lt;/kbd&gt; and enter, and Eclipse changes the line into:\r\n\r\n    BufferedOutputStream bufferedOutputStream = new BufferedOutputStream(out);\r\n\r\nAt the same time, I can type over &quot;bufferedOutputStream&quot; immediately to rename it (or select from the options &quot;bufferedOutputStream&quot;, &quot;outputStream&quot; and &quot;stream&quot; from a dropdown).\r\n\r\nI use this feature for absolutely every assignment, and it&#39;s an enormous time saver - this must be available in IDEA, too - but where is it hidden?","title":"IDEA: &quot;Assign statement to new local variable&quot;?","body":"<p>As a long time Eclipse user, I'm playing around a little bit with IntelliJ IDEA 10. I can't seem to find out how to perform an \"Assign statement to new local variable\" code completion.</p>\n\n<p><strong>Feature explanation:</strong></p>\n\n<p>I type something like</p>\n\n<pre><code>new BufferedOutputStream(out)\n</code></pre>\n\n<p>and then hit <kbd>Cmd (or Ctrl)</kbd>+<kbd>1</kbd> and enter, and Eclipse changes the line into:</p>\n\n<pre><code>BufferedOutputStream bufferedOutputStream = new BufferedOutputStream(out);\n</code></pre>\n\n<p>At the same time, I can type over \"bufferedOutputStream\" immediately to rename it (or select from the options \"bufferedOutputStream\", \"outputStream\" and \"stream\" from a dropdown).</p>\n\n<p>I use this feature for absolutely every assignment, and it's an enormous time saver - this must be available in IDEA, too - but where is it hidden?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":7783967,"reputation":360,"user_id":5889494,"display_name":"Arpit"},"score":1,"creation_date":1701448513,"post_id":77586731,"comment_id":136780870,"body_markdown":"A fully qualified classname is required for an import, like `import package.anotherPackage.Connection;`","body":"A fully qualified classname is required for an import, like <code>import package.anotherPackage.Connection;</code>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1701449698,"post_id":77586731,"comment_id":136781093,"body_markdown":"As the tooltip suggest, use Alt+Shift+Enter to get import suggestions...","body":"As the tooltip suggest, use Alt+Shift+Enter to get import suggestions..."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1701449934,"post_id":77586731,"comment_id":136781142,"body_markdown":"Ah, your `Connection` class is in the unnamed (a.k.a. default) package. You cannot use classes from the default package in named packages like `client`. Restructure the layout of your project so you don&#39;t have classes in the unnamed package, and all your classes are in a named package (or all classes are in the unnamed package, but really the unnamed package shouldn&#39;t be used for anything other than experiments or toy projects).","body":"Ah, your <code>Connection</code> class is in the unnamed (a.k.a. default) package. You cannot use classes from the default package in named packages like <code>client</code>. Restructure the layout of your project so you don&#39;t have classes in the unnamed package, and all your classes are in a named package (or all classes are in the unnamed package, but really the unnamed package shouldn&#39;t be used for anything other than experiments or toy projects)."}],"owner":{"account_id":24697636,"reputation":61,"user_id":18589379,"display_name":"surleversant"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701451830,"answer_count":0,"score":0,"last_activity_date":1701448252,"creation_date":1701448252,"question_id":77586731,"body_markdown":"I do simple Java project (educational). Can&#39;t understand why class Client in package &quot;client&quot; doesn&#39;t see other classes from root &quot;src&quot;.\r\nHow can I import class Connection to class Client?\r\nSorry if it&#39;s too stupid question, I&#39;ve tried: \r\n\r\n    import Connection;\r\n    import *Connection;\r\n    import .Connection;\r\n    import /Connection;\r\n\r\n[![the problem][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u8b9O.png","title":"IntelliJ doesn&#39;t find classes in the nearest package","body":"<p>I do simple Java project (educational). Can't understand why class Client in package &quot;client&quot; doesn't see other classes from root &quot;src&quot;.\nHow can I import class Connection to class Client?\nSorry if it's too stupid question, I've tried:</p>\n<pre><code>import Connection;\nimport *Connection;\nimport .Connection;\nimport /Connection;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/u8b9O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u8b9O.png\" alt=\"the problem\" /></a></p>\n"},{"tags":["java","string","input"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1701447329,"post_id":77586642,"comment_id":136780639,"body_markdown":"Please show the full error message. It tells you exactly what symbol it cannot find.","body":"Please show the full error message. It tells you exactly what symbol it cannot find."},{"owner":{"account_id":26119744,"reputation":1,"user_id":19812226,"display_name":"Yash Raj Gupta"},"score":0,"creation_date":1701447558,"post_id":77586642,"comment_id":136780684,"body_markdown":"it is the image i posted","body":"it is the image i posted"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1701447617,"post_id":77586642,"comment_id":136780693,"body_markdown":"Please refresh the page and re-read my comment about images. How can anyone copy, paste, compile and test code if it is in an image?","body":"Please refresh the page and re-read my comment about images. How can anyone copy, paste, compile and test code if it is in an image?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1701447697,"post_id":77586642,"comment_id":136780700,"body_markdown":"I have rolled back the question so that the code shows. Please (again), show the full error message.","body":"I have rolled back the question so that the code shows. Please (again), show the full error message."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1701448184,"post_id":77586642,"comment_id":136780804,"body_markdown":"Your main method is malformed. You need to accept a String _array_: `public static void main(String[] args)` or `public static void main(String... args)`. The fact it&#39;s looking for `class lang` tells me your IDE is probably executing a different project/file (or attempting to). On a personal level, I find BlueJ to be one of the worst Java IDEs.","body":"Your main method is malformed. You need to accept a String <i>array</i>: <code>public static void main(String[] args)</code> or <code>public static void main(String... args)</code>. The fact it&#39;s looking for <code>class lang</code> tells me your IDE is probably executing a different project/file (or attempting to). On a personal level, I find BlueJ to be one of the worst Java IDEs."},{"owner":{"account_id":26119744,"reputation":1,"user_id":19812226,"display_name":"Yash Raj Gupta"},"score":0,"creation_date":1701448385,"post_id":77586642,"comment_id":136780849,"body_markdown":"I have to use it for presentation + it worked on older versions","body":"I have to use it for presentation + it worked on older versions"},{"owner":{"account_id":26119744,"reputation":1,"user_id":19812226,"display_name":"Yash Raj Gupta"},"score":0,"creation_date":1701448424,"post_id":77586642,"comment_id":136780858,"body_markdown":"Can you kindly provide me a solution or right way to input","body":"Can you kindly provide me a solution or right way to input"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1701448560,"post_id":77586642,"comment_id":136780879,"body_markdown":"What you thought worked has either changed to not work, or never worked to begin with (but appeared to). `public static void main(String x)` is _not_ a valid main method, and will not be executed. I already provided you the signature for an appropriate main method. Regarding your error, it looks like an IDE configuration error, not a code one. You should include as much of the error as possible, and include how you are executing this code.","body":"What you thought worked has either changed to not work, or never worked to begin with (but appeared to). <code>public static void main(String x)</code> is <i>not</i> a valid main method, and will not be executed. I already provided you the signature for an appropriate main method. Regarding your error, it looks like an IDE configuration error, not a code one. You should include as much of the error as possible, and include how you are executing this code."},{"owner":{"account_id":26119744,"reputation":1,"user_id":19812226,"display_name":"Yash Raj Gupta"},"score":0,"creation_date":1701448654,"post_id":77586642,"comment_id":136780894,"body_markdown":"somehow it works on my school computer","body":"somehow it works on my school computer"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1701451322,"post_id":77586642,"comment_id":136781373,"body_markdown":"You should include as much of the error as possible, and include how you are executing this code","body":"You should include as much of the error as possible, and include how you are executing this code"}],"owner":{"account_id":26119744,"reputation":1,"user_id":19812226,"display_name":"Yash Raj Gupta"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701447290,"answer_count":0,"score":-1,"last_activity_date":1701447995,"creation_date":1701447228,"question_id":77586642,"body_markdown":"I was writing a program to print the word of a string input which contain at least 1 pair of consecutive letters\r\n\r\nthis is my code:\r\n```\r\nclass consecutive\r\n{\r\n    public static void main(String x)\r\n    {\r\n        String y=x+&quot; &quot;;\r\n        int l=x.length();\r\n        int d=0;\r\n        for(int i=0;i&lt;l;i++)\r\n        {\r\n            char ch=x.charAt(i);\r\n            if(Character.isWhitespace(ch)==true)\r\n            {\r\n                String w=y.substring(d,i);\r\n                int lw=w.length();\r\n                boolean flag=false;\r\n                for(int j=0;j&lt;lw-1;j++)\r\n                {\r\n                    char a=w.charAt(j);\r\n                    char b=w.charAt(j+1);\r\n                    int m=(int)Character.toUpperCase(a);\r\n                    int n=(int)Character.toUpperCase(b);\r\n                    if(m-n==-1)\r\n                    {\r\n                        flag=true;\r\n                        break;\r\n                    }\r\n                }\r\n                if(flag==true)\r\n                System.out.print(w+&quot; &quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nWhen I ran the program through `void main()` I inputted the string as usual, but it gave an error - `cannot find symbol`.\r\nTt works on older versions of blue j but has something, I searched internet but no avail can some solve my problem.\r\n\r\nthe error message read \r\n\r\nError:cannot find symbol-  class lang\r\n\r\nInput was\r\n&quot;Ghost was standing above the wall&quot;","title":"Input of string in method call","body":"<p>I was writing a program to print the word of a string input which contain at least 1 pair of consecutive letters</p>\n<p>this is my code:</p>\n<pre><code>class consecutive\n{\n    public static void main(String x)\n    {\n        String y=x+&quot; &quot;;\n        int l=x.length();\n        int d=0;\n        for(int i=0;i&lt;l;i++)\n        {\n            char ch=x.charAt(i);\n            if(Character.isWhitespace(ch)==true)\n            {\n                String w=y.substring(d,i);\n                int lw=w.length();\n                boolean flag=false;\n                for(int j=0;j&lt;lw-1;j++)\n                {\n                    char a=w.charAt(j);\n                    char b=w.charAt(j+1);\n                    int m=(int)Character.toUpperCase(a);\n                    int n=(int)Character.toUpperCase(b);\n                    if(m-n==-1)\n                    {\n                        flag=true;\n                        break;\n                    }\n                }\n                if(flag==true)\n                System.out.print(w+&quot; &quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>When I ran the program through <code>void main()</code> I inputted the string as usual, but it gave an error - <code>cannot find symbol</code>.\nTt works on older versions of blue j but has something, I searched internet but no avail can some solve my problem.</p>\n<p>the error message read</p>\n<p>Error:cannot find symbol-  class lang</p>\n<p>Input was\n&quot;Ghost was standing above the wall&quot;</p>\n"},{"tags":["java","android","webview"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1701447932,"post_id":77586540,"comment_id":136780754,"body_markdown":"If all you want is the html as a string, don&#39;t use a WebView. WebViews are browsers, they&#39;re going to render the html. Just download it instead.  If you need something else you need to make your question clearer about it.","body":"If all you want is the html as a string, don&#39;t use a WebView. WebViews are browsers, they&#39;re going to render the html. Just download it instead.  If you need something else you need to make your question clearer about it."},{"owner":{"account_id":14643421,"reputation":13,"user_id":22760557,"display_name":"juvor"},"score":0,"creation_date":1701448053,"post_id":77586540,"comment_id":136780776,"body_markdown":"What you&#39;re saying is correct. The thing is I need to login first in order to get the content I want.","body":"What you&#39;re saying is correct. The thing is I need to login first in order to get the content I want."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1701450475,"post_id":77586540,"comment_id":136781236,"body_markdown":"I&#39;d look at finding another way to get that data, such as an API.  If you&#39;re trying to scrape a website, especially one with a login, your code is going to be fragile, break frequently when they have even minor UI updates, and likely be against their terms of service leaving you open to lawsuit.","body":"I&#39;d look at finding another way to get that data, such as an API.  If you&#39;re trying to scrape a website, especially one with a login, your code is going to be fragile, break frequently when they have even minor UI updates, and likely be against their terms of service leaving you open to lawsuit."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1701460878,"post_id":77586540,"comment_id":136782799,"body_markdown":"@Gabe Sechan. It does not matter if one uses a webview or another component downloading the same page. The source text will be the same. All OP wants is to grab the source before the webview starts rendering. So the problem is only how to grab the source. Good luck!","body":"@Gabe Sechan. It does not matter if one uses a webview or another component downloading the same page. The source text will be the same. All OP wants is to grab the source before the webview starts rendering. So the problem is only how to grab the source. Good luck!"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1701461048,"post_id":77586540,"comment_id":136782824,"body_markdown":"@blackapps By the same token it doesn&#39;t matter if I pick up a piece of paper with my hands, or spend 10 years building a Rube Goldberg device to do so.  But one is the right tool for the job, the other is overly complicated and more prone to random failure.  Unless you need to display HTML, you shouldn&#39;t use a webview to download a file.","body":"@blackapps By the same token it doesn&#39;t matter if I pick up a piece of paper with my hands, or spend 10 years building a Rube Goldberg device to do so.  But one is the right tool for the job, the other is overly complicated and more prone to random failure.  Unless you need to display HTML, you shouldn&#39;t use a webview to download a file."},{"owner":{"account_id":14643421,"reputation":13,"user_id":22760557,"display_name":"juvor"},"score":0,"creation_date":1701539387,"post_id":77586540,"comment_id":136789434,"body_markdown":"@GabeSechan but of course if it would be possible to avoid rendering process then it would be irrelevant if I use a an android webview or a third-party API to get the source.","body":"@GabeSechan but of course if it would be possible to avoid rendering process then it would be irrelevant if I use a an android webview or a third-party API to get the source."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1701541665,"post_id":77586540,"comment_id":136789646,"body_markdown":"If you really want to stick with a awe view I would disable loading all images and other unnecessary files. WebViewClient as methods like shouldOverrideUrlLoading with allows you to block requests.","body":"If you really want to stick with a awe view I would disable loading all images and other unnecessary files. WebViewClient as methods like shouldOverrideUrlLoading with allows you to block requests."}],"owner":{"account_id":14643421,"reputation":13,"user_id":22760557,"display_name":"juvor"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701447866,"creation_date":1701446261,"question_id":77586540,"body_markdown":"In my Activity I am setting up the WebView in order to extract source from the page. What I did is basically extend a webviewclient so that I could run a script and get the page content.\r\n\r\nSnippet from by Activity:\r\n\r\n    this.webView.setWebViewClient(new MyExtractingWebViewClient(getApplicationContext(), new ValueCallback() {\r\n                    public final void onReceiveValue(Object obj) {\r\n                        doStuff();\r\n                    }\r\n                }));\r\n    \r\n    this.webView.getSettings().setJavaScriptEnabled(true);\r\n                this.webView.getSettings().setDomStorageEnabled(true);\r\n                this.webView.setVisibility(View.VISIBLE);\r\n                this.webView.loadUrl(str);\r\n            \r\n            \r\nWhat I do in MyExtractingWebViewClient is basically run a script to get the html.\r\nSince my goal is to only get the html as a String and then perform some actions on it, I was wondering if was possible to get the whole thing much faster.\r\nFor instance, I have no use to show the webview to the user so I guess could simply call             `this.webView.setVisibility(View.GONE);` but I am sure this would not make a big difference.\r\nSurely disabling javascript would make things much faster but sadly I need it enabled.\r\n","title":"Making WebView as fast as possible just to get html source","body":"<p>In my Activity I am setting up the WebView in order to extract source from the page. What I did is basically extend a webviewclient so that I could run a script and get the page content.</p>\n<p>Snippet from by Activity:</p>\n<pre><code>this.webView.setWebViewClient(new MyExtractingWebViewClient(getApplicationContext(), new ValueCallback() {\n                public final void onReceiveValue(Object obj) {\n                    doStuff();\n                }\n            }));\n\nthis.webView.getSettings().setJavaScriptEnabled(true);\n            this.webView.getSettings().setDomStorageEnabled(true);\n            this.webView.setVisibility(View.VISIBLE);\n            this.webView.loadUrl(str);\n        \n        \n</code></pre>\n<p>What I do in MyExtractingWebViewClient is basically run a script to get the html.\nSince my goal is to only get the html as a String and then perform some actions on it, I was wondering if was possible to get the whole thing much faster.\nFor instance, I have no use to show the webview to the user so I guess could simply call             <code>this.webView.setVisibility(View.GONE);</code> but I am sure this would not make a big difference.\nSurely disabling javascript would make things much faster but sadly I need it enabled.</p>\n"},{"tags":["java","spring","gradle"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1701418851,"post_id":77583245,"comment_id":136775624,"body_markdown":"You also have to define an `EventSourcingServiceFactory` as a Spring bean if you want to be able to autowire it into your `EventSourcingConfig`.","body":"You also have to define an <code>EventSourcingServiceFactory</code> as a Spring bean if you want to be able to autowire it into your <code>EventSourcingConfig</code>."}],"answers":[{"tags":[],"owner":{"account_id":20310335,"reputation":76,"user_id":14897575,"display_name":"ettriouizakaria"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701447659,"creation_date":1701445729,"answer_id":77586488,"question_id":77583245,"body_markdown":"You need to create a method annotated with @Bean that return an instace of type `EventSourcingServiceFactory`\r\n\r\nOr create another class that extends the `EventSourcingServiceFactory` class and you need to anotate it by `@Bean` so that spring will find it in the context when autowiring\r\n\r\nExample : \r\n\r\n    @Bean\r\n    public Class EventSourcingServiceFactory2 extends EventSourcingServiceFactory {\r\n    }","title":"Could not autowire. No beans of ... type found. External jar decompiled .class file","body":"<p>You need to create a method annotated with @Bean that return an instace of type <code>EventSourcingServiceFactory</code></p>\n<p>Or create another class that extends the <code>EventSourcingServiceFactory</code> class and you need to anotate it by <code>@Bean</code> so that spring will find it in the context when autowiring</p>\n<p>Example :</p>\n<pre><code>@Bean\npublic Class EventSourcingServiceFactory2 extends EventSourcingServiceFactory {\n}\n</code></pre>\n"}],"owner":{"account_id":27330958,"reputation":11,"user_id":20843478,"display_name":"S1mY"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701447659,"creation_date":1701410090,"question_id":77583245,"body_markdown":"I have an issue with starting my SpringBootApplication. I&#39;m new to Spring and already looked at existing questions on StackOverflow, but they didn&#39;t help me.\r\n\r\nI have an `EventSourcingConfig` where `EventSourcingServiceFactory` declared as `@Autowired`.\r\n```\r\npackage com.cinephilia.review.config\r\n\r\nimport com.cinephilia.review.aggregates.CommentAggregate\r\nimport com.cinephilia.review.aggregates.CommentAggregateState\r\nimport com.cinephilia.review.aggregates.RatingAggregate\r\nimport com.cinephilia.review.aggregates.RatingAggregateState\r\nimport org.springframework.beans.factory.annotation.Autowired\r\nimport org.springframework.context.annotation.Bean\r\nimport org.springframework.context.annotation.Configuration\r\nimport ru.quipy.core.EventSourcingServiceFactory\r\nimport java.util.*\r\n\r\n@Configuration\r\nclass EventSourcingConfig {\r\n\r\n    @Autowired\r\n    private lateinit var eventSourcingServiceFactory: EventSourcingServiceFactory\r\n\r\n    @Bean\r\n    open fun commentService() = eventSourcingServiceFactory.create&lt;UUID, CommentAggregate, CommentAggregateState&gt;()\r\n\r\n    @Bean\r\n    open fun ratingService() = eventSourcingServiceFactory.create&lt;UUID, RatingAggregate, RatingAggregateState&gt;()\r\n}\r\n```\r\n\r\nThis is external dependency for my application and it&#39;s declared in my `build.gradle.kts`\r\n```\r\ndependencies {\r\n    ...\r\n    implementation(&quot;ru.quipy:tiny-event-sourcing-spring-boot-starter:2.3.0&quot;)\r\n    ...\r\n}\r\n```\r\n\r\nI can _Ctrl-click_ to `EventSourcingServiceFactory` and go to implementation `EventSourcingServiceFactory`.\r\n```\r\n// IntelliJ API Decompiler stub source generated from a class file\r\n// Implementation of methods is not available\r\n\r\npackage ru.quipy.core\r\n\r\npublic final class EventSourcingServiceFactory public constructor(aggregateRegistry: ru.quipy.core.AggregateRegistry, eventMapper: ru.quipy.mapper.EventMapper, eventStore: ru.quipy.database.EventStore, eventSourcingProperties: ru.quipy.core.EventSourcingProperties) {\r\n    public final val aggregateRegistry: ru.quipy.core.AggregateRegistry /* compiled code */\r\n\r\n    public final val eventMapper: ru.quipy.mapper.EventMapper /* compiled code */\r\n\r\n    public final val eventSourcingProperties: ru.quipy.core.EventSourcingProperties /* compiled code */\r\n\r\n    public final val eventStore: ru.quipy.database.EventStore /* compiled code */\r\n\r\n    public final inline fun &lt;ID : kotlin.Any, reified A : ru.quipy.domain.Aggregate, S : ru.quipy.domain.AggregateState&lt;ID, A&gt;&gt; create(): ru.quipy.core.EventSourcingService&lt;ID, A, S&gt; { /* compiled code */ }\r\n}\r\n```\r\n\r\nSo when I attempt to start my app with `gradle bootRun` it&#39;s failing to start with error\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField eventSourcingServiceFactory in com.cinephilia.review.config.EventSourcingConfig required a bean of type &#39;ru.quipy.core.EventSourcingServiceFactory&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n        - @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;ru.quipy.core.EventSourcingServiceFactory&#39; in your configuration.\r\n```\r\n\r\nThus how can I solve this problem? Setting the `@ComponentScan` and `@EnableAutoconfiguration` didn&#39;t help me. I consider that problem is that `EventSourcingServiceFactory` isn&#39;t anotated. But how can I do this, when it is external dependency for my application and all I have it&#39;s jar file.\r\n\r\nI tried to set up `@ComponentScan` and `@EnableAutoConfiguration` for my SpringBootApplication","title":"Could not autowire. No beans of ... type found. External jar decompiled .class file","body":"<p>I have an issue with starting my SpringBootApplication. I'm new to Spring and already looked at existing questions on StackOverflow, but they didn't help me.</p>\n<p>I have an <code>EventSourcingConfig</code> where <code>EventSourcingServiceFactory</code> declared as <code>@Autowired</code>.</p>\n<pre><code>package com.cinephilia.review.config\n\nimport com.cinephilia.review.aggregates.CommentAggregate\nimport com.cinephilia.review.aggregates.CommentAggregateState\nimport com.cinephilia.review.aggregates.RatingAggregate\nimport com.cinephilia.review.aggregates.RatingAggregateState\nimport org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.context.annotation.Bean\nimport org.springframework.context.annotation.Configuration\nimport ru.quipy.core.EventSourcingServiceFactory\nimport java.util.*\n\n@Configuration\nclass EventSourcingConfig {\n\n    @Autowired\n    private lateinit var eventSourcingServiceFactory: EventSourcingServiceFactory\n\n    @Bean\n    open fun commentService() = eventSourcingServiceFactory.create&lt;UUID, CommentAggregate, CommentAggregateState&gt;()\n\n    @Bean\n    open fun ratingService() = eventSourcingServiceFactory.create&lt;UUID, RatingAggregate, RatingAggregateState&gt;()\n}\n</code></pre>\n<p>This is external dependency for my application and it's declared in my <code>build.gradle.kts</code></p>\n<pre><code>dependencies {\n    ...\n    implementation(&quot;ru.quipy:tiny-event-sourcing-spring-boot-starter:2.3.0&quot;)\n    ...\n}\n</code></pre>\n<p>I can <em>Ctrl-click</em> to <code>EventSourcingServiceFactory</code> and go to implementation <code>EventSourcingServiceFactory</code>.</p>\n<pre><code>// IntelliJ API Decompiler stub source generated from a class file\n// Implementation of methods is not available\n\npackage ru.quipy.core\n\npublic final class EventSourcingServiceFactory public constructor(aggregateRegistry: ru.quipy.core.AggregateRegistry, eventMapper: ru.quipy.mapper.EventMapper, eventStore: ru.quipy.database.EventStore, eventSourcingProperties: ru.quipy.core.EventSourcingProperties) {\n    public final val aggregateRegistry: ru.quipy.core.AggregateRegistry /* compiled code */\n\n    public final val eventMapper: ru.quipy.mapper.EventMapper /* compiled code */\n\n    public final val eventSourcingProperties: ru.quipy.core.EventSourcingProperties /* compiled code */\n\n    public final val eventStore: ru.quipy.database.EventStore /* compiled code */\n\n    public final inline fun &lt;ID : kotlin.Any, reified A : ru.quipy.domain.Aggregate, S : ru.quipy.domain.AggregateState&lt;ID, A&gt;&gt; create(): ru.quipy.core.EventSourcingService&lt;ID, A, S&gt; { /* compiled code */ }\n}\n</code></pre>\n<p>So when I attempt to start my app with <code>gradle bootRun</code> it's failing to start with error</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField eventSourcingServiceFactory in com.cinephilia.review.config.EventSourcingConfig required a bean of type 'ru.quipy.core.EventSourcingServiceFactory' that could not be found.\n\nThe injection point has the following annotations:\n        - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'ru.quipy.core.EventSourcingServiceFactory' in your configuration.\n</code></pre>\n<p>Thus how can I solve this problem? Setting the <code>@ComponentScan</code> and <code>@EnableAutoconfiguration</code> didn't help me. I consider that problem is that <code>EventSourcingServiceFactory</code> isn't anotated. But how can I do this, when it is external dependency for my application and all I have it's jar file.</p>\n<p>I tried to set up <code>@ComponentScan</code> and <code>@EnableAutoConfiguration</code> for my SpringBootApplication</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":3,"creation_date":1424968485,"post_id":28747743,"comment_id":45777690,"body_markdown":"Why would you need to autowire it _there_?","body":"Why would you need to autowire it <i>there</i>?"},{"owner":{"account_id":65003,"reputation":2125,"user_id":191577,"accept_rate":100,"display_name":"Avanst"},"score":0,"creation_date":1424969993,"post_id":28747743,"comment_id":45778692,"body_markdown":"I was simply trying to convert an xml configuration file into a Java one.  I thought since I can reference the bean by id in xml, why shouldn&#39;t I utilize the autowire annotation on it within a Java configuration file?","body":"I was simply trying to convert an xml configuration file into a Java one.  I thought since I can reference the bean by id in xml, why shouldn&#39;t I utilize the autowire annotation on it within a Java configuration file?"}],"answers":[{"comments":[{"owner":{"account_id":65003,"reputation":2125,"user_id":191577,"accept_rate":100,"display_name":"Avanst"},"score":0,"creation_date":1424970460,"post_id":28748366,"comment_id":45778986,"body_markdown":"That&#39;s interesting, it works exactly has you have described.  Why is that?  Can you point me to any Spring documentation that talks about this precise issue?  Thank you very much for the answer by the way.","body":"That&#39;s interesting, it works exactly has you have described.  Why is that?  Can you point me to any Spring documentation that talks about this precise issue?  Thank you very much for the answer by the way."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1424970528,"post_id":28748366,"comment_id":45779036,"body_markdown":"@Avanst See the documentation [here](http://docs.spring.io/spring/docs/current/spring-framework-reference/html/beans.html#beans-java-configuration-annotation).","body":"@Avanst See the documentation <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/beans.html#beans-java-configuration-annotation\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"score":0,"creation_date":1424972396,"post_id":28748366,"comment_id":45780164,"body_markdown":"@SotiriosDelimanolis, today I spent a couple of hard hours looking for the similar problem caused by injecting members into configuration class.","body":"@SotiriosDelimanolis, today I spent a couple of hard hours looking for the similar problem caused by injecting members into configuration class."},{"owner":{"account_id":4713249,"reputation":2149,"user_id":3813155,"accept_rate":79,"display_name":"heez"},"score":0,"creation_date":1484092819,"post_id":28748366,"comment_id":70366120,"body_markdown":"What if `DataSource` is an interface?  For example it extends spring-data&#39;s CrudRepository interface.  How would you autowire in `dataSource` then?","body":"What if <code>DataSource</code> is an interface?  For example it extends spring-data&#39;s CrudRepository interface.  How would you autowire in <code>dataSource</code> then?"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1484093025,"post_id":28748366,"comment_id":70366187,"body_markdown":"@heez `DataSource` is an interface (`java.sql.DataSource`). I don&#39;t understand your concern.","body":"@heez <code>DataSource</code> is an interface (<code>java.sql.DataSource</code>). I don&#39;t understand your concern."},{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":1,"creation_date":1543526875,"post_id":28748366,"comment_id":93962237,"body_markdown":"Updated link for the documentation referenced in the comment from @SotiriosDelimanolis: https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#beans-java","body":"Updated link for the documentation referenced in the comment from @SotiriosDelimanolis: <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#beans-java\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/current/spring-framework-referenc&zwnj;&#8203;e/&hellip;</a>"},{"owner":{"account_id":3111257,"reputation":97,"user_id":2632932,"display_name":"Varun"},"score":0,"creation_date":1701098346,"post_id":28748366,"comment_id":136729639,"body_markdown":"Why is this answer ideal? If you call the bean method directly, it will always return a new object. And the new object will not be a Spring managed bean. Autowiring a parameter to a method is ideal. But there is another solution which I have given below. Simply assign the value of new object to your instance variable in the bean method. This way when the bean is initialized, your instance variable will have the value of the bean. Can someone please explian why my answer has been given a negative rating?","body":"Why is this answer ideal? If you call the bean method directly, it will always return a new object. And the new object will not be a Spring managed bean. Autowiring a parameter to a method is ideal. But there is another solution which I have given below. Simply assign the value of new object to your instance variable in the bean method. This way when the bean is initialized, your instance variable will have the value of the bean. Can someone please explian why my answer has been given a negative rating?"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1701447183,"post_id":28748366,"comment_id":136780609,"body_markdown":"@Varun It won&#39;t return a new object, see the documentation https://docs.spring.io/spring-framework/reference/core/beans/java/configuration-annotation.html#beans-java-further-information-java-config: _This is where the magic comes in: All `@Configuration` classes are subclassed at startup-time with CGLIB. In the subclass, the child method checks the container first for any cached (scoped) beans before it calls the parent method and creates a new instance._","body":"@Varun It won&#39;t return a new object, see the documentation <a href=\"https://docs.spring.io/spring-framework/reference/core/beans/java/configuration-annotation.html#beans-java-further-information-java-config\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/reference/core/beans/java/&hellip;</a>: <i>This is where the magic comes in: All <code>@Configuration</code> classes are subclassed at startup-time with CGLIB. In the subclass, the child method checks the container first for any cached (scoped) beans before it calls the parent method and creates a new instance.</i>"}],"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":8,"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1701447590,"creation_date":1424970124,"answer_id":28748366,"question_id":28747743,"body_markdown":"If you need a reference to the `DataSource` bean within the same `@Configuration` file, just invoke the bean method.\r\n\r\n    @Bean\r\n    public OtherBean someOtherBean() {\r\n        return new OtherBean(dataSource());\r\n    }\r\n\r\nor have it autowired into the `@Bean` method\r\n\r\n    @Bean\r\n    public OtherBean someOtherBean(DataSource dataSource) {\r\n        return new OtherBean(dataSource);\r\n    }\r\n\r\nThe lifecycle of a `@Configuration` class sometimes prevents autowiring like you are suggesting.\r\n\r\nYou can read about Java-based container configuration, [here](https://docs.spring.io/spring-framework/reference/core/beans/java.html). [This section](https://docs.spring.io/spring-framework/reference/core/beans/java/configuration-annotation.html#beans-java-further-information-java-config) goes into detail about how `@Configuration` classes are proxied and cache the beans that the define, so that you can call `@Bean` annotated methods but only every get back one object (assuming the bean is singleton scoped).","title":"Autowire a bean within Spring&#39;s Java configuration","body":"<p>If you need a reference to the <code>DataSource</code> bean within the same <code>@Configuration</code> file, just invoke the bean method.</p>\n<pre><code>@Bean\npublic OtherBean someOtherBean() {\n    return new OtherBean(dataSource());\n}\n</code></pre>\n<p>or have it autowired into the <code>@Bean</code> method</p>\n<pre><code>@Bean\npublic OtherBean someOtherBean(DataSource dataSource) {\n    return new OtherBean(dataSource);\n}\n</code></pre>\n<p>The lifecycle of a <code>@Configuration</code> class sometimes prevents autowiring like you are suggesting.</p>\n<p>You can read about Java-based container configuration, <a href=\"https://docs.spring.io/spring-framework/reference/core/beans/java.html\" rel=\"nofollow noreferrer\">here</a>. <a href=\"https://docs.spring.io/spring-framework/reference/core/beans/java/configuration-annotation.html#beans-java-further-information-java-config\" rel=\"nofollow noreferrer\">This section</a> goes into detail about how <code>@Configuration</code> classes are proxied and cache the beans that the define, so that you can call <code>@Bean</code> annotated methods but only every get back one object (assuming the bean is singleton scoped).</p>\n"},{"tags":[],"owner":{"account_id":3232590,"reputation":35,"user_id":2727477,"display_name":"javahuang"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1523932773,"creation_date":1523924464,"answer_id":49868027,"question_id":28747743,"body_markdown":"maybe you can use constructor to inject some bean from other configuration file to your configuration，while @Autowired may not work correct in the configuration file\r\n\r\n    @Configuration\r\n    public class AppConfig {\r\n      private DataSource dataSource;\r\n\r\n      public AppConfig(DataSource dataSource) {\r\n        this.dataSource = dataSource;\r\n      }\r\n\r\n      @Bean\r\n      public OtherBean otherBean(){\r\n        return new OtherBean(dataSource);\r\n      }\r\n    }\r\n\r\n","title":"Autowire a bean within Spring&#39;s Java configuration","body":"<p>maybe you can use constructor to inject some bean from other configuration file to your configuration，while @Autowired may not work correct in the configuration file</p>\n\n<pre><code>@Configuration\npublic class AppConfig {\n  private DataSource dataSource;\n\n  public AppConfig(DataSource dataSource) {\n    this.dataSource = dataSource;\n  }\n\n  @Bean\n  public OtherBean otherBean(){\n    return new OtherBean(dataSource);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10440606,"reputation":9,"user_id":7697385,"display_name":"Shruthi H R"},"comment_count":0,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1534068983,"creation_date":1534068983,"answer_id":51807870,"question_id":28747743,"body_markdown":"beans configured with @Configuration class can&#39;t be autowired , \r\n\r\nSo you cannot use @Autowiring and @configuration together","title":"Autowire a bean within Spring&#39;s Java configuration","body":"<p>beans configured with @Configuration class can't be autowired , </p>\n\n<p>So you cannot use @Autowiring and @configuration together</p>\n"},{"tags":[],"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1566953399,"creation_date":1566953399,"answer_id":57683767,"question_id":28747743,"body_markdown":"For completeness sake: Yes it is technically possible to use @Autowired annotation in spring @Configuration classes, and it works the same way as for other spring beans. But the accepted answer shows how the original problem should be solved.","title":"Autowire a bean within Spring&#39;s Java configuration","body":"<p>For completeness sake: Yes it is technically possible to use @Autowired annotation in spring @Configuration classes, and it works the same way as for other spring beans. But the accepted answer shows how the original problem should be solved.</p>\n"}],"owner":{"account_id":65003,"reputation":2125,"user_id":191577,"accept_rate":100,"display_name":"Avanst"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35667,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":28748366,"answer_count":4,"score":31,"last_activity_date":1701447590,"creation_date":1424968403,"question_id":28747743,"body_markdown":"Is it possible to use Spring&#39;s `@Autowired` annotation within a Spring configuration written in Java?\r\n\r\nFor example:\r\n\r\n    @Configuration\r\n    public class SpringConfiguration{\r\n    \r\n       @Autowired \r\n       DataSource datasource;\r\n    \r\n       @Bean\r\n       public DataSource dataSource(){\r\n           return new dataSource();\r\n       }\r\n\r\n       // ...\r\n\r\n    }\r\n\r\n\r\nObviously a DataSource interface cannot be directly instantiated but I directly instantiated it here for simplification.  Currently, when I try the above, the datasource object remains null and is not autowired by Spring.\r\n\r\nI got `@Autowired` to work successfully with a Hibernate `SessionFactory` object by returning a `FactoryBean&lt;SessionFactory&gt;`.\r\n\r\nSo my question specifically: is there a way to do that with respect to a `DataSource`?  Or more generally, what is the method to autowire a bean within a Spring Java Configuration?\r\n\r\nI should note I am using Spring version 3.2.","title":"Autowire a bean within Spring&#39;s Java configuration","body":"<p>Is it possible to use Spring's <code>@Autowired</code> annotation within a Spring configuration written in Java?</p>\n\n<p>For example:</p>\n\n<pre><code>@Configuration\npublic class SpringConfiguration{\n\n   @Autowired \n   DataSource datasource;\n\n   @Bean\n   public DataSource dataSource(){\n       return new dataSource();\n   }\n\n   // ...\n\n}\n</code></pre>\n\n<p>Obviously a DataSource interface cannot be directly instantiated but I directly instantiated it here for simplification.  Currently, when I try the above, the datasource object remains null and is not autowired by Spring.</p>\n\n<p>I got <code>@Autowired</code> to work successfully with a Hibernate <code>SessionFactory</code> object by returning a <code>FactoryBean&lt;SessionFactory&gt;</code>.</p>\n\n<p>So my question specifically: is there a way to do that with respect to a <code>DataSource</code>?  Or more generally, what is the method to autowire a bean within a Spring Java Configuration?</p>\n\n<p>I should note I am using Spring version 3.2.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":101080,"reputation":69720,"user_id":272109,"display_name":"David Makogon"},"score":0,"creation_date":1701438262,"post_id":77578964,"comment_id":136778807,"body_markdown":"Please edit to provide a [mcve]. As written, you&#39;ve shown no code, no data, no behavior, no errors... it&#39;s impossible to answer as written.","body":"Please edit to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. As written, you&#39;ve shown no code, no data, no behavior, no errors... it&#39;s impossible to answer as written."},{"owner":{"account_id":30031946,"reputation":1,"user_id":23014842,"display_name":"Mouheb"},"score":0,"creation_date":1701440533,"post_id":77578964,"comment_id":136779261,"body_markdown":"I added a picture of my function","body":"I added a picture of my function"},{"owner":{"account_id":101080,"reputation":69720,"user_id":272109,"display_name":"David Makogon"},"score":0,"creation_date":1701440720,"post_id":77578964,"comment_id":136779300,"body_markdown":"Pictures don&#39;t help - you need to provide actual text, properly formatted. See [Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551) Also posting all your code, without any other context, doesn&#39;t help - you still need to explain exactly what&#39;s happening, along with sample input, observed vs expected behavior, etc.","body":"Pictures don&#39;t help - you need to provide actual text, properly formatted. See <a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a> Also posting all your code, without any other context, doesn&#39;t help - you still need to explain exactly what&#39;s happening, along with sample input, observed vs expected behavior, etc."},{"owner":{"account_id":30031946,"reputation":1,"user_id":23014842,"display_name":"Mouheb"},"score":0,"creation_date":1701441348,"post_id":77578964,"comment_id":136779423,"body_markdown":"Is it more clear now?","body":"Is it more clear now?"},{"owner":{"account_id":101080,"reputation":69720,"user_id":272109,"display_name":"David Makogon"},"score":0,"creation_date":1701445307,"post_id":77578964,"comment_id":136780213,"body_markdown":"I don&#39;t think you&#39;re understanding: you have to *show your work* - you almost got there by posting an image of code, but images don&#39;t help. You then deleted your image without adding your code properly. You need to edit your question and provide properly-formatted code (the code editor is built-in, when you edit your question). Then provide all other details, to help others help you. Not sure I can give any other advice at this point.","body":"I don&#39;t think you&#39;re understanding: you have to <i>show your work</i> - you almost got there by posting an image of code, but images don&#39;t help. You then deleted your image without adding your code properly. You need to edit your question and provide properly-formatted code (the code editor is built-in, when you edit your question). Then provide all other details, to help others help you. Not sure I can give any other advice at this point."}],"owner":{"account_id":30031946,"reputation":1,"user_id":23014842,"display_name":"Mouheb"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701447241,"creation_date":1701352000,"question_id":77578964,"body_markdown":"\r\n\r\nMy project consist of inviting other users to a project , let&#39;s say it&#39;s a project management web app \r\n\r\n-The Invitation is sent via email , when the user is authenticated and logged in the project gets added.Now my problem here and im asking what is the common methods to deal of a user not logged in clicking the invitation link what should i do.\r\n-Redirect the user to login and send invitation again? \r\n-Force the login without user interaction \r\nor is there some other methods . i dont have a problem in code it s just im asking of how to deal with this situation.\r\n\r\nHere is my Code :\r\n\r\n\r\n      public ResponseEntity&lt;String&gt; acceptInvitation(/*Long projectId, String email,*/ String uuid, Principal principal) {\r\n            try {\r\n                // Check if auth\r\n                if (principal == null) {\r\n                    // If not authenticated, redirect to login\r\n                    return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(&quot;Redirect to login page&quot;);\r\n                }\r\n                String authenticatedEmail = principal.getName();\r\n                User authenticatedUser = userRepository.findByEmail(authenticatedEmail)\r\n                        .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Authenticated user not found&quot;));\r\n                \r\n                Invite invitation = invitationRepository.findInviteByInvitationCode(uuid)\r\n                        .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Invitation not found&quot;));\r\n    \r\n                // Check if pending\r\n                if (invitation.getStatus() != Status.pending) {\r\n                    return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(&quot;Invalid invitation status&quot;);\r\n                }\r\n                LocalDateTime now = LocalDateTime.now();\r\n                if (invitation.getCreatedAt().plusHours(24).isBefore(now)) {\r\n                    // check if expired\r\n                    return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(&quot;Invitation has expired&quot;);\r\n                }\r\n                \r\n                User receiver =  userRepository.findByEmail(invitation.getReceiver().getEmail())\r\n                        .orElseThrow(() new EntityNotFoundException(&quot;Receiver user not found&quot;));invitation.setStatus(Status.accepted);\r\n                invitationRepository.save(invitation);\r\n                receiver.addProject(invitation.getProject_inv());\r\n                userRepository.save(receiver);\r\n                return ResponseEntity.ok(&quot;Invitation accepted successfully&quot;);\r\n            }\r\n            catch (Exception e) {\r\n                //logger.error(&quot;Error accepting invitation&quot;, e);\r\n                return \r\n       ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Error \r\n    accepting invitation&quot;);\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n\r\nSo Here Im Sending the invitation Code if the user is authenticated then i check if the user exist ,if not throw exception then i get invitation from the invitation code check it satuts if its different from pending and not expired etc if and checkif the receiver exist if it does get the user receiver and add the project to it . Now im asking about the not authenticated part what should i do if the user not logged and clicks on the link.\r\n\r\n\r\n\r\n\r\n","title":"Springboot accept invitation","body":"<p>My project consist of inviting other users to a project , let's say it's a project management web app</p>\n<p>-The Invitation is sent via email , when the user is authenticated and logged in the project gets added.Now my problem here and im asking what is the common methods to deal of a user not logged in clicking the invitation link what should i do.\n-Redirect the user to login and send invitation again?\n-Force the login without user interaction\nor is there some other methods . i dont have a problem in code it s just im asking of how to deal with this situation.</p>\n<p>Here is my Code :</p>\n<pre><code>  public ResponseEntity&lt;String&gt; acceptInvitation(/*Long projectId, String email,*/ String uuid, Principal principal) {\n        try {\n            // Check if auth\n            if (principal == null) {\n                // If not authenticated, redirect to login\n                return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(&quot;Redirect to login page&quot;);\n            }\n            String authenticatedEmail = principal.getName();\n            User authenticatedUser = userRepository.findByEmail(authenticatedEmail)\n                    .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Authenticated user not found&quot;));\n            \n            Invite invitation = invitationRepository.findInviteByInvitationCode(uuid)\n                    .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Invitation not found&quot;));\n\n            // Check if pending\n            if (invitation.getStatus() != Status.pending) {\n                return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(&quot;Invalid invitation status&quot;);\n            }\n            LocalDateTime now = LocalDateTime.now();\n            if (invitation.getCreatedAt().plusHours(24).isBefore(now)) {\n                // check if expired\n                return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(&quot;Invitation has expired&quot;);\n            }\n            \n            User receiver =  userRepository.findByEmail(invitation.getReceiver().getEmail())\n                    .orElseThrow(() new EntityNotFoundException(&quot;Receiver user not found&quot;));invitation.setStatus(Status.accepted);\n            invitationRepository.save(invitation);\n            receiver.addProject(invitation.getProject_inv());\n            userRepository.save(receiver);\n            return ResponseEntity.ok(&quot;Invitation accepted successfully&quot;);\n        }\n        catch (Exception e) {\n            //logger.error(&quot;Error accepting invitation&quot;, e);\n            return \n   ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Error \naccepting invitation&quot;);\n        }\n    }\n</code></pre>\n<p>So Here Im Sending the invitation Code if the user is authenticated then i check if the user exist ,if not throw exception then i get invitation from the invitation code check it satuts if its different from pending and not expired etc if and checkif the receiver exist if it does get the user receiver and add the project to it . Now im asking about the not authenticated part what should i do if the user not logged and clicks on the link.</p>\n"},{"tags":["java","jasper-reports","microsoft-edge","export-to-pdf"],"comments":[{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":0,"creation_date":1496228146,"post_id":44281290,"comment_id":75572206,"body_markdown":"Did you check this pdf with help of reader (on your local pc)?","body":"Did you check this pdf with help of reader (on your local pc)?"},{"owner":{"account_id":6336452,"reputation":1,"user_id":4919713,"display_name":"Wajahat Ahmed Zia"},"score":0,"creation_date":1496644241,"post_id":44281290,"comment_id":75727401,"body_markdown":"@AlexK Thanks are help brother. I have rendered the report on browser. First thing i noticed that the browser do not show any utility tray that it shows on chrome while viewing the pdf(for saving and printing or navigation purpose). I right clicked and saved the report on system. The report saved on the computer still do not show any data.","body":"@AlexK Thanks are help brother. I have rendered the report on browser. First thing i noticed that the browser do not show any utility tray that it shows on chrome while viewing the pdf(for saving and printing or navigation purpose). I right clicked and saved the report on system. The report saved on the computer still do not show any data."},{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":0,"creation_date":1496645673,"post_id":44281290,"comment_id":75727999,"body_markdown":"`The report saved on the computer still do not show any data` - It means that the problem is not at browser but something wrong with your report","body":"<code>The report saved on the computer still do not show any data</code> - It means that the problem is not at browser but something wrong with your report"},{"owner":{"account_id":6336452,"reputation":1,"user_id":4919713,"display_name":"Wajahat Ahmed Zia"},"score":0,"creation_date":1496647145,"post_id":44281290,"comment_id":75728696,"body_markdown":"@AlexK that report do shows data on chrome browser. but in case of edge, it do not. That&#39;s why i think this might be due to browser compatibility.","body":"@AlexK that report do shows data on chrome browser. but in case of edge, it do not. That&#39;s why i think this might be due to browser compatibility."}],"answers":[{"tags":[],"owner":{"account_id":6336452,"reputation":1,"user_id":4919713,"display_name":"Wajahat Ahmed Zia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497959489,"creation_date":1497959489,"answer_id":44652294,"question_id":44281290,"body_markdown":"Ok. The reason behind the problem was two request were send to the controller of report. Due to that the data wasn&#39;t populated on the report. I added a code in my controller to avoid the dual request. \r\n\r\n       String userAgent = request.getHeader(&quot;user-agent&quot;);\r\n\t\t\t\tSystem.out.println(userAgent);\r\n\t\t\t\tif(userAgent.contains(&quot;Edge&quot;)){\r\n\t\t\t\t\tString dlnaHeader = request.getHeader(&quot;getcontentfeatures.dlna.org&quot;);\r\n\t\t\t\t\tSystem.out.println(dlnaHeader);\r\n\t\t\t\t\tif(dlnaHeader == null ){\r\n\t\t\t\t\t\tSystem.out.println(&quot;Looks like a fake extra Edge request on PDF viewer. Ignore it.&quot;);\r\n\t\t\t\t\t\t//return null;\r\n\t\t\t\t\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\t\t\t\t\tbyte[] result = baos.toByteArray();\r\n\t\t\t\t\t\tresponse.setContentType(&quot;application/pdf&quot;);\r\n\t\t\t\t\t\tresponse.setHeader(&quot;Content-disposition&quot;,&quot;inline; &quot;);\r\n\t\t\t\t\t\tresponse.setContentLength(result.length);\t\t\t\t\r\n\t\t\t\t\t\tServletOutputStream sos = response.getOutputStream();\r\n\t\t\t\t\t\tsos.write(result);\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\nAfter adding this code my report was showing data in detail band in edge browser. Hopefully it will help anyone else too.","title":"Jasper Report Detail Band Data is not showing in Edge Browser","body":"<p>Ok. The reason behind the problem was two request were send to the controller of report. Due to that the data wasn't populated on the report. I added a code in my controller to avoid the dual request. </p>\n\n<pre><code>   String userAgent = request.getHeader(\"user-agent\");\n            System.out.println(userAgent);\n            if(userAgent.contains(\"Edge\")){\n                String dlnaHeader = request.getHeader(\"getcontentfeatures.dlna.org\");\n                System.out.println(dlnaHeader);\n                if(dlnaHeader == null ){\n                    System.out.println(\"Looks like a fake extra Edge request on PDF viewer. Ignore it.\");\n                    //return null;\n                    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n                    byte[] result = baos.toByteArray();\n                    response.setContentType(\"application/pdf\");\n                    response.setHeader(\"Content-disposition\",\"inline; \");\n                    response.setContentLength(result.length);               \n                    ServletOutputStream sos = response.getOutputStream();\n                    sos.write(result);\n                    return null;\n                }\n            }\n</code></pre>\n\n<p>After adding this code my report was showing data in detail band in edge browser. Hopefully it will help anyone else too.</p>\n"},{"tags":[],"owner":{"account_id":3557056,"reputation":1946,"user_id":2970553,"display_name":"Vahap Gencdal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701447199,"creation_date":1701447199,"answer_id":77586641,"question_id":44281290,"body_markdown":"this helped me:  \r\nThe issue is caused by the internal SWT browser behaviour still relying (by default) on IE11. Properly setting up the WebView2 component to force use the Edge engine should solve the issue.\r\n\r\nSteps to resolve this issue:\r\n\r\n1. From the official website download the Microsoft Edge WebView2 Runtime. Best solution is to choose the &quot;Fixed version&quot; x64.\r\n\r\n2. Unpack the downloaded package to a convenience directory using a tool like 7-zip \r\n\r\n3. Edit the Jaspersoft Studio Professional.ini file appending the following two Java properties (replace with the proper WebView files location):\r\n-Dorg.eclipse.swt.browser.DefaultType=edge\r\n-Dorg.eclipse.swt.browser.EdgeDir=C:\\dev\\webview\r\n\r\n\r\n[resource][1]\r\n\r\n\r\n  [1]: https://community.jaspersoft.com/knowledgebase/other-records/after-initial-loading-message-html-preview-stays-white-jss-811/","title":"Jasper Report Detail Band Data is not showing in Edge Browser","body":"<p>this helped me:<br />\nThe issue is caused by the internal SWT browser behaviour still relying (by default) on IE11. Properly setting up the WebView2 component to force use the Edge engine should solve the issue.</p>\n<p>Steps to resolve this issue:</p>\n<ol>\n<li><p>From the official website download the Microsoft Edge WebView2 Runtime. Best solution is to choose the &quot;Fixed version&quot; x64.</p>\n</li>\n<li><p>Unpack the downloaded package to a convenience directory using a tool like 7-zip</p>\n</li>\n<li><p>Edit the Jaspersoft Studio Professional.ini file appending the following two Java properties (replace with the proper WebView files location):\n-Dorg.eclipse.swt.browser.DefaultType=edge\n-Dorg.eclipse.swt.browser.EdgeDir=C:\\dev\\webview</p>\n</li>\n</ol>\n<p><a href=\"https://community.jaspersoft.com/knowledgebase/other-records/after-initial-loading-message-html-preview-stays-white-jss-811/\" rel=\"nofollow noreferrer\">resource</a></p>\n"}],"owner":{"account_id":6336452,"reputation":1,"user_id":4919713,"display_name":"Wajahat Ahmed Zia"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":994,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1701447199,"creation_date":1496223896,"question_id":44281290,"body_markdown":"I am facing issues regarding jasper reports is that my report&#39;s detail band data is not showing in edge browser. On other browsers the report is showing perfectly. \r\nI have updated the jars and software from 6.1 to 6.3 since 6.1 do not support edge browser but the issue still persist. I also have put frame behind the fields in detail band (for testing purposes) but nothing happened. \r\n   One thing i would like to add is that i selected Blank page in case of when no data type and report was showing blank report. What should possibly deduce from it.\r\nOne thing i would like to add is that this issue is happening in pdf report","title":"Jasper Report Detail Band Data is not showing in Edge Browser","body":"<p>I am facing issues regarding jasper reports is that my report's detail band data is not showing in edge browser. On other browsers the report is showing perfectly. \nI have updated the jars and software from 6.1 to 6.3 since 6.1 do not support edge browser but the issue still persist. I also have put frame behind the fields in detail band (for testing purposes) but nothing happened. \n   One thing i would like to add is that i selected Blank page in case of when no data type and report was showing blank report. What should possibly deduce from it.\nOne thing i would like to add is that this issue is happening in pdf report</p>\n"},{"tags":["java","maven","pom.xml","quarkus"],"answers":[{"comments":[{"owner":{"account_id":17516006,"reputation":55,"user_id":12703010,"display_name":"Miyonu"},"score":1,"creation_date":1701442495,"post_id":77585951,"comment_id":136779674,"body_markdown":"I achieved to start the server by deleting this library `quarkus-hibernate-types`. And I also upgraded each dependency manually! Thank you for your message!","body":"I achieved to start the server by deleting this library <code>quarkus-hibernate-types</code>. And I also upgraded each dependency manually! Thank you for your message!"},{"owner":{"account_id":5559246,"reputation":3573,"user_id":4409319,"accept_rate":70,"display_name":"JSelser"},"score":0,"creation_date":1701447160,"post_id":77585951,"comment_id":136780606,"body_markdown":"glad you found a solution! so it was my first guess heh, wanted to mention my rationale for pointing at those ones specifically for posterity: **those were the only ones with a pinned version**","body":"glad you found a solution! so it was my first guess heh, wanted to mention my rationale for pointing at those ones specifically for posterity: <b>those were the only ones with a pinned version</b>"}],"tags":[],"owner":{"account_id":5559246,"reputation":3573,"user_id":4409319,"accept_rate":70,"display_name":"JSelser"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701447008,"creation_date":1701440775,"answer_id":77585951,"question_id":77585818,"body_markdown":"There is not enough information on the message or dependencies to tell as is\r\n\r\nMy guess is that indeed, its one of your dependencies that is trying to read configuration at `ConfigPhase.BOOTSTRAP` that was [present in v2](https://javadoc.io/doc/io.quarkus/quarkus-core/2.16.10.Final/io/quarkus/runtime/annotations/ConfigPhase.html) and is [no longer there in v3](https://javadoc.io/doc/io.quarkus/quarkus-core/latest/io/quarkus/runtime/annotations/ConfigPhase.html) for whatever reason\r\n\r\nYou can try updating the offending dependency by removing `&lt;version&gt;` from everything, since not pinning it may bring a newer updated compatible version, make sure to clean maven cache and pin versions afterwards\r\n\r\nOtherwise you may have to:\r\n- reasearch each one manually (only quarkus specific ones though)\r\n- remove each one by one until you find the offending one\r\n- add dependencies on your new v3 project until one breaks at `dev mode`\r\n\r\nWorst case scenario one of your dependencies is plain not compatible and you must either delay migration or submit a PR or find an alternative. If I had to guess, the offending dependency is one of:\r\n\r\n1. quarkus-hibernate-types\r\n2. quarkus-google-cloud-storage\r\n3. quarkus-bucket4j\r\n\r\nBest of luck!\r\n\r\n","title":"Quarkus: EnumConstantNotPresentException at runtime","body":"<p>There is not enough information on the message or dependencies to tell as is</p>\n<p>My guess is that indeed, its one of your dependencies that is trying to read configuration at <code>ConfigPhase.BOOTSTRAP</code> that was <a href=\"https://javadoc.io/doc/io.quarkus/quarkus-core/2.16.10.Final/io/quarkus/runtime/annotations/ConfigPhase.html\" rel=\"nofollow noreferrer\">present in v2</a> and is <a href=\"https://javadoc.io/doc/io.quarkus/quarkus-core/latest/io/quarkus/runtime/annotations/ConfigPhase.html\" rel=\"nofollow noreferrer\">no longer there in v3</a> for whatever reason</p>\n<p>You can try updating the offending dependency by removing <code>&lt;version&gt;</code> from everything, since not pinning it may bring a newer updated compatible version, make sure to clean maven cache and pin versions afterwards</p>\n<p>Otherwise you may have to:</p>\n<ul>\n<li>reasearch each one manually (only quarkus specific ones though)</li>\n<li>remove each one by one until you find the offending one</li>\n<li>add dependencies on your new v3 project until one breaks at <code>dev mode</code></li>\n</ul>\n<p>Worst case scenario one of your dependencies is plain not compatible and you must either delay migration or submit a PR or find an alternative. If I had to guess, the offending dependency is one of:</p>\n<ol>\n<li>quarkus-hibernate-types</li>\n<li>quarkus-google-cloud-storage</li>\n<li>quarkus-bucket4j</li>\n</ol>\n<p>Best of luck!</p>\n"}],"owner":{"account_id":17516006,"reputation":55,"user_id":12703010,"display_name":"Miyonu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77585951,"answer_count":1,"score":1,"last_activity_date":1701447008,"creation_date":1701439452,"question_id":77585818,"body_markdown":"I&#39;m asking for your help today because I&#39;m having problems with my Quarkus upgrade from version 2.11 to 3.6. During this change, I got the following logs: \r\n\r\n```\r\n2023-12-01 14:58:53,946 INFO  [io.qua.dep.dev.IsolatedDevModeMain] (main) Attempting to start live reload endpoint to recover from previous Quarkus startup failure\r\n2023-12-01 14:58:54,378 ERROR [io.qua.dep.dev.IsolatedDevModeMain] (main) Failed to start quarkus: java.lang.EnumConstantNotPresentException: io.quarkus.runtime.annotations.ConfigPhase.BOOTSTRAP\r\n\tat java.base/sun.reflect.annotation.EnumConstantNotPresentExceptionProxy.generateException(EnumConstantNotPresentExceptionProxy.java:47)\r\n\tat java.base/sun.reflect.annotation.AnnotationInvocationHandler.invoke(AnnotationInvocationHandler.java:89)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy2.phase(Unknown Source)\r\n\tat io.quarkus.deployment.configuration.BuildTimeConfigurationReader.&lt;init&gt;(BuildTimeConfigurationReader.java:201)\r\n\tat io.quarkus.deployment.configuration.BuildTimeConfigurationReader.&lt;init&gt;(BuildTimeConfigurationReader.java:137)\r\n\tat io.quarkus.deployment.ExtensionLoader.loadStepsFrom(ExtensionLoader.java:136)\r\n\tat io.quarkus.deployment.QuarkusAugmentor.run(QuarkusAugmentor.java:107)\r\n\tat io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:330)\r\n\tat io.quarkus.runner.bootstrap.AugmentActionImpl.createInitialRuntimeApplication(AugmentActionImpl.java:251)\r\n\tat io.quarkus.runner.bootstrap.AugmentActionImpl.createInitialRuntimeApplication(AugmentActionImpl.java:60)\r\n\tat io.quarkus.deployment.dev.IsolatedDevModeMain.firstStart(IsolatedDevModeMain.java:112)\r\n\tat io.quarkus.deployment.dev.IsolatedDevModeMain.accept(IsolatedDevModeMain.java:433)\r\n\tat io.quarkus.deployment.dev.IsolatedDevModeMain.accept(IsolatedDevModeMain.java:55)\r\n\tat io.quarkus.bootstrap.app.CuratedApplication.runInCl(CuratedApplication.java:138)\r\n\tat io.quarkus.bootstrap.app.CuratedApplication.runInAugmentClassLoader(CuratedApplication.java:93)\r\n\tat io.quarkus.deployment.dev.DevModeMain.start(DevModeMain.java:131)\r\n\tat io.quarkus.deployment.dev.DevModeMain.main(DevModeMain.java:62)\r\n```\r\n\r\nHere are also the dependencies contained in my pom.xml:\r\n```xml\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.28&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.5.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.5.Final&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-resteasy-reactive-jackson&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-config-yaml&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-elytron-security-common&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-smallrye-openapi&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-hibernate-validator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-smallrye-jwt&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-smallrye-jwt-build&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-hibernate-orm-panache&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-jdbc-postgresql&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-flyway&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-rest-client-reactive&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-rest-client-reactive-jackson&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkiverse.hibernatetypes&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-hibernate-types&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkiverse.googlecloudservices&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-google-cloud-storage&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud.sql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgres-socket-factory&lt;/artifactId&gt;\r\n            &lt;version&gt;1.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.coobird&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thumbnailator&lt;/artifactId&gt;\r\n            &lt;version&gt;0.4.20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-mailer&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-websockets&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-scheduler&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkiverse.bucket4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-bucket4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nIn order to verify that this was a dependency problem, I created a new, blank Quarkus 3.6 project and ran it, without a hitch. When I added my project&#39;s dependencies to the new test project, I got the same error this time. So I&#39;m wondering which library is causing the problem and how to fix it? \r\n\r\nThank you for your time and invaluable help!\r\n\r\n(I thought of a quarkus library that is no longer maintained in version 3)","title":"Quarkus: EnumConstantNotPresentException at runtime","body":"<p>I'm asking for your help today because I'm having problems with my Quarkus upgrade from version 2.11 to 3.6. During this change, I got the following logs:</p>\n<pre><code>2023-12-01 14:58:53,946 INFO  [io.qua.dep.dev.IsolatedDevModeMain] (main) Attempting to start live reload endpoint to recover from previous Quarkus startup failure\n2023-12-01 14:58:54,378 ERROR [io.qua.dep.dev.IsolatedDevModeMain] (main) Failed to start quarkus: java.lang.EnumConstantNotPresentException: io.quarkus.runtime.annotations.ConfigPhase.BOOTSTRAP\n    at java.base/sun.reflect.annotation.EnumConstantNotPresentExceptionProxy.generateException(EnumConstantNotPresentExceptionProxy.java:47)\n    at java.base/sun.reflect.annotation.AnnotationInvocationHandler.invoke(AnnotationInvocationHandler.java:89)\n    at jdk.proxy2/jdk.proxy2.$Proxy2.phase(Unknown Source)\n    at io.quarkus.deployment.configuration.BuildTimeConfigurationReader.&lt;init&gt;(BuildTimeConfigurationReader.java:201)\n    at io.quarkus.deployment.configuration.BuildTimeConfigurationReader.&lt;init&gt;(BuildTimeConfigurationReader.java:137)\n    at io.quarkus.deployment.ExtensionLoader.loadStepsFrom(ExtensionLoader.java:136)\n    at io.quarkus.deployment.QuarkusAugmentor.run(QuarkusAugmentor.java:107)\n    at io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:330)\n    at io.quarkus.runner.bootstrap.AugmentActionImpl.createInitialRuntimeApplication(AugmentActionImpl.java:251)\n    at io.quarkus.runner.bootstrap.AugmentActionImpl.createInitialRuntimeApplication(AugmentActionImpl.java:60)\n    at io.quarkus.deployment.dev.IsolatedDevModeMain.firstStart(IsolatedDevModeMain.java:112)\n    at io.quarkus.deployment.dev.IsolatedDevModeMain.accept(IsolatedDevModeMain.java:433)\n    at io.quarkus.deployment.dev.IsolatedDevModeMain.accept(IsolatedDevModeMain.java:55)\n    at io.quarkus.bootstrap.app.CuratedApplication.runInCl(CuratedApplication.java:138)\n    at io.quarkus.bootstrap.app.CuratedApplication.runInAugmentClassLoader(CuratedApplication.java:93)\n    at io.quarkus.deployment.dev.DevModeMain.start(DevModeMain.java:131)\n    at io.quarkus.deployment.dev.DevModeMain.main(DevModeMain.java:62)\n</code></pre>\n<p>Here are also the dependencies contained in my pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.28&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;1.5.5.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n            &lt;version&gt;1.5.5.Final&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-resteasy-reactive-jackson&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-config-yaml&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-elytron-security-common&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-smallrye-openapi&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-hibernate-validator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-smallrye-jwt&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-smallrye-jwt-build&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-hibernate-orm-panache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-jdbc-postgresql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-flyway&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-rest-client-reactive&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-rest-client-reactive-jackson&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkiverse.hibernatetypes&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-hibernate-types&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkiverse.googlecloudservices&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-google-cloud-storage&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud.sql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgres-socket-factory&lt;/artifactId&gt;\n            &lt;version&gt;1.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n            &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\n            &lt;version&gt;2.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.coobird&lt;/groupId&gt;\n            &lt;artifactId&gt;thumbnailator&lt;/artifactId&gt;\n            &lt;version&gt;0.4.20&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-mailer&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-websockets&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-scheduler&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkiverse.bucket4j&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-bucket4j&lt;/artifactId&gt;\n            &lt;version&gt;1.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>In order to verify that this was a dependency problem, I created a new, blank Quarkus 3.6 project and ran it, without a hitch. When I added my project's dependencies to the new test project, I got the same error this time. So I'm wondering which library is causing the problem and how to fix it?</p>\n<p>Thank you for your time and invaluable help!</p>\n<p>(I thought of a quarkus library that is no longer maintained in version 3)</p>\n"},{"tags":["java","spring","hibernate","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":1,"creation_date":1555399810,"post_id":55702642,"comment_id":98086621,"body_markdown":"where is transactional configured? on the resource or the service?","body":"where is transactional configured? on the resource or the service?"},{"owner":{"account_id":2021263,"reputation":2451,"user_id":1807373,"accept_rate":75,"display_name":"Houssam Badri"},"score":1,"creation_date":1555399956,"post_id":55702642,"comment_id":98086703,"body_markdown":"On the service. I updated the question","body":"On the service. I updated the question"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1555401845,"post_id":55702642,"comment_id":98087706,"body_markdown":"Does your criteria have any conditions on corporateBranch? If so, how do you build the spec passed to repository?","body":"Does your criteria have any conditions on corporateBranch? If so, how do you build the spec passed to repository?"},{"owner":{"account_id":2021263,"reputation":2451,"user_id":1807373,"accept_rate":75,"display_name":"Houssam Badri"},"score":0,"creation_date":1555402643,"post_id":55702642,"comment_id":98088110,"body_markdown":"Yes, it does but conditionally and even I removed the specification and loaded only a page but I still see the problem","body":"Yes, it does but conditionally and even I removed the specification and loaded only a page but I still see the problem"},{"owner":{"account_id":1235468,"reputation":31121,"user_id":1199132,"accept_rate":83,"display_name":"Aritz"},"score":1,"creation_date":1555406877,"post_id":55702642,"comment_id":98090627,"body_markdown":"Just to discard the issue is debugger-related, enable the Spring Boot SQL query logging: https://stackoverflow.com/questions/30118683/how-to-log-sql-statements-in-spring-boot","body":"Just to discard the issue is debugger-related, enable the Spring Boot SQL query logging: <a href=\"https://stackoverflow.com/questions/30118683/how-to-log-sql-statements-in-spring-boot\" title=\"how to log sql statements in spring boot\">stackoverflow.com/questions/30118683/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":2021263,"reputation":2451,"user_id":1807373,"accept_rate":75,"display_name":"Houssam Badri"},"score":0,"creation_date":1555400296,"post_id":55702910,"comment_id":98086887,"body_markdown":"Thanks. But even before I click the arrow I see in the line of that attribute that already has the information","body":"Thanks. But even before I click the arrow I see in the line of that attribute that already has the information"},{"owner":{"account_id":8186304,"reputation":707,"user_id":6162023,"display_name":"Sofo Gial"},"score":1,"creation_date":1555400442,"post_id":55702910,"comment_id":98086960,"body_markdown":"IDEs handle debugging differently. InteliJ loads everything in advance for you, but another IDE may not.","body":"IDEs handle debugging differently. InteliJ loads everything in advance for you, but another IDE may not."}],"tags":[],"owner":{"account_id":8186304,"reputation":707,"user_id":6162023,"display_name":"Sofo Gial"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1555400154,"creation_date":1555400154,"answer_id":55702910,"question_id":55702642,"body_markdown":"When using a debugger, you are trying to access the value of your variables. So, at the moment you click that little arrow on your screen, the value of the variable in question is (lazily) loaded.","title":"JPA Lazy loading is not working in Spring boot","body":"<p>When using a debugger, you are trying to access the value of your variables. So, at the moment you click that little arrow on your screen, the value of the variable in question is (lazily) loaded.</p>\n"},{"comments":[{"owner":{"account_id":2021263,"reputation":2451,"user_id":1807373,"accept_rate":75,"display_name":"Houssam Badri"},"score":0,"creation_date":1555400689,"post_id":55702936,"comment_id":98087092,"body_markdown":"Even when I see the response in my browser I see the all lazy loaded attributes are loaded (which I don&#39;t like to). So the debugger has nothing to do with the loaded children","body":"Even when I see the response in my browser I see the all lazy loaded attributes are loaded (which I don&#39;t like to). So the debugger has nothing to do with the loaded children"},{"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":0,"creation_date":1555401032,"post_id":55702936,"comment_id":98087268,"body_markdown":"chech my upated.","body":"chech my upated."}],"tags":[],"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1555401019,"creation_date":1555400264,"answer_id":55702936,"question_id":55702642,"body_markdown":"Most likely you are debugging while still being inside the service, thus while the transaction is still active and lazy loading can be triggered (any method called on a lazy element triggered the fetch from the database).\r\n\r\nThe problem is that lazy loading cannot occur while being outside of the transaction. And Jackson is parsing your entity definitely outside the boundaries of one.\r\n\r\nYou either should fetch all the required dependencies when building your specification or try with the `@Transactional` on the resource level (but try that as of last resort).\r\n\r\nJust so that you know, LAZY fetching strategy is only a hint.. not a mandatory action. Eager is mandatory:\r\n\r\n&gt; The LAZY strategy is a hint to the persistence provider runtime that\r\n&gt; data should be fetched lazily when it is first accessed. The\r\n&gt; implementation is permitted to eagerly fetch data for which the LAZY\r\n&gt; strategy hint has been specified.","title":"JPA Lazy loading is not working in Spring boot","body":"<p>Most likely you are debugging while still being inside the service, thus while the transaction is still active and lazy loading can be triggered (any method called on a lazy element triggered the fetch from the database).</p>\n\n<p>The problem is that lazy loading cannot occur while being outside of the transaction. And Jackson is parsing your entity definitely outside the boundaries of one.</p>\n\n<p>You either should fetch all the required dependencies when building your specification or try with the <code>@Transactional</code> on the resource level (but try that as of last resort).</p>\n\n<p>Just so that you know, LAZY fetching strategy is only a hint.. not a mandatory action. Eager is mandatory:</p>\n\n<blockquote>\n  <p>The LAZY strategy is a hint to the persistence provider runtime that\n  data should be fetched lazily when it is first accessed. The\n  implementation is permitted to eagerly fetch data for which the LAZY\n  strategy hint has been specified.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":2021263,"reputation":2451,"user_id":1807373,"accept_rate":75,"display_name":"Houssam Badri"},"score":0,"creation_date":1555404545,"post_id":55703966,"comment_id":98089194,"body_markdown":"Thanks for your notice, please see the updated above","body":"Thanks for your notice, please see the updated above"}],"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555404121,"creation_date":1555404121,"answer_id":55703966,"question_id":55702642,"body_markdown":"Just a guess: you are forcing a fetch while building your specification.\r\n\r\nI expect something like\r\n```\r\nstatic Specification&lt;AirWaybill&gt; buildSpec() {\r\n    return (root, query, criteriaBuilder) -&gt; {\r\n       Join&lt;AirWaybill, CorporateBranch&gt; br = (Join) root.fetch(&quot;corporateBranch&quot;);\r\n       return criteriaBuilder.equal(br.get(&quot;addressType&quot;), 1);\r\n    };\r\n}\r\n```\r\n\r\nIf this is the case, try changing `root.fetch` to `root.join`","title":"JPA Lazy loading is not working in Spring boot","body":"<p>Just a guess: you are forcing a fetch while building your specification.</p>\n\n<p>I expect something like</p>\n\n<pre><code>static Specification&lt;AirWaybill&gt; buildSpec() {\n    return (root, query, criteriaBuilder) -&gt; {\n       Join&lt;AirWaybill, CorporateBranch&gt; br = (Join) root.fetch(\"corporateBranch\");\n       return criteriaBuilder.equal(br.get(\"addressType\"), 1);\n    };\n}\n</code></pre>\n\n<p>If this is the case, try changing <code>root.fetch</code> to <code>root.join</code></p>\n"},{"comments":[{"owner":{"account_id":2021263,"reputation":2451,"user_id":1807373,"accept_rate":75,"display_name":"Houssam Badri"},"score":0,"creation_date":1555408463,"post_id":55704249,"comment_id":98091649,"body_markdown":"Nice help, I&#39;m now getting `org.hibernate.LazyInitializationException: could not initialize proxy - no Session`. I tried installing `Hibernate5Module` but did not work yet, still same error","body":"Nice help, I&#39;m now getting <code>org.hibernate.LazyInitializationException: could not initialize proxy - no Session</code>. I tried installing <code>Hibernate5Module</code> but did not work yet, still same error"},{"owner":{"account_id":4779952,"reputation":1434,"user_id":3862024,"accept_rate":100,"display_name":"gagarwa"},"score":0,"creation_date":1593052584,"post_id":55704249,"comment_id":110646582,"body_markdown":"You can fix this with @Transactional. See Kowalski&#39;s answer.","body":"You can fix this with @Transactional. See Kowalski&#39;s answer."}],"tags":[],"owner":{"account_id":5047609,"reputation":16898,"user_id":4053082,"accept_rate":92,"display_name":"Martin Čuka"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1555404952,"creation_date":1555404952,"answer_id":55704249,"question_id":55702642,"body_markdown":"SpringBoot by default has enabled:&lt;br/&gt;\r\n**spring.jpa.open-in-view = true**&lt;br/&gt;\r\nThat means transaction is always open. Try to disable it.&lt;br/&gt;\r\nmore information [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30549489/what-is-this-spring-jpa-open-in-view-true-property-in-spring-boot","title":"JPA Lazy loading is not working in Spring boot","body":"<p>SpringBoot by default has enabled:<br/>\n<strong>spring.jpa.open-in-view = true</strong><br/>\nThat means transaction is always open. Try to disable it.<br/>\nmore information <a href=\"https://stackoverflow.com/questions/30549489/what-is-this-spring-jpa-open-in-view-true-property-in-spring-boot\">here</a></p>\n"},{"comments":[{"owner":{"account_id":3521854,"reputation":1144,"user_id":2943913,"display_name":"Pratik Bhajankar"},"score":0,"creation_date":1555420912,"post_id":55709146,"comment_id":98099106,"body_markdown":"add such an answer in comments.","body":"add such an answer in comments."}],"tags":[],"owner":{"account_id":4863502,"reputation":23,"user_id":9629251,"display_name":"Muhammed Atallah"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1555420678,"creation_date":1555420678,"answer_id":55709146,"question_id":55702642,"body_markdown":"The retrieved data already lazy but you are using debug mode its return value when click to watch a data from a debugger.","title":"JPA Lazy loading is not working in Spring boot","body":"<p>The retrieved data already lazy but you are using debug mode its return value when click to watch a data from a debugger.</p>\n"},{"comments":[{"owner":{"account_id":2021263,"reputation":2451,"user_id":1807373,"accept_rate":75,"display_name":"Houssam Badri"},"score":7,"creation_date":1555482050,"post_id":55716700,"comment_id":98121764,"body_markdown":"precise concise and understandable","body":"precise concise and understandable"},{"owner":{"account_id":4459325,"reputation":1497,"user_id":3628679,"display_name":"Alex"},"score":1,"creation_date":1568985426,"post_id":55716700,"comment_id":102460645,"body_markdown":"I am sorry, but I don&#39;t understand it. Do you have an example somewhere showing how this transport design is setup? Thank you in advance","body":"I am sorry, but I don&#39;t understand it. Do you have an example somewhere showing how this transport design is setup? Thank you in advance"},{"owner":{"account_id":5949182,"reputation":1061,"user_id":4677790,"display_name":"Tomasz Białecki"},"score":2,"creation_date":1598341469,"post_id":55716700,"comment_id":112419368,"body_markdown":"Please create simple POJO (let&#39;s say `AirWaybillTO` and put all attributes you need there, then map them from `AirWaybill` and return `AirWaybillTO` from your service.","body":"Please create simple POJO (let&#39;s say <code>AirWaybillTO</code> and put all attributes you need there, then map them from <code>AirWaybill</code> and return <code>AirWaybillTO</code> from your service."}],"tags":[],"owner":{"account_id":5949182,"reputation":1061,"user_id":4677790,"display_name":"Tomasz Białecki"},"comment_count":3,"down_vote_count":1,"up_vote_count":20,"is_accepted":true,"score":19,"last_activity_date":1555449258,"creation_date":1555449258,"answer_id":55716700,"question_id":55702642,"body_markdown":"Hibernate Session exists within method with `@Transactional`.\r\nPassing entity outside Service class is a bad practise because session is being closed after leaving your `search` method. On the other hand your entity contains lazy initialised collections, which cannot be pulled once session is closed.\r\n\r\nThe good practise is to map entity onto transport object and return those transport objects from service (not raw entities).","title":"JPA Lazy loading is not working in Spring boot","body":"<p>Hibernate Session exists within method with <code>@Transactional</code>.\nPassing entity outside Service class is a bad practise because session is being closed after leaving your <code>search</code> method. On the other hand your entity contains lazy initialised collections, which cannot be pulled once session is closed.</p>\n\n<p>The good practise is to map entity onto transport object and return those transport objects from service (not raw entities).</p>\n"},{"tags":[],"owner":{"account_id":13632899,"reputation":2116,"user_id":9834603,"display_name":"Dmitry Kaltovich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587806263,"creation_date":1587806263,"answer_id":61423407,"question_id":55702642,"body_markdown":"You can solve this problem with wit 2 steps with [jackson-datatype-hibernate](https://github.com/FasterXML/jackson-datatype-hibernate):\r\n\r\n&gt; kotlin example\r\n\r\n1. Add In `build.gradle.kts`:\r\n\r\n```kotlin                \r\nimplementation(&quot;com.fasterxml.jackson.datatype:jackson-datatype-hibernate5:$jacksonHibernate&quot;)\r\n```\r\n\r\n\r\n2. Create `@Bean`\r\n```kotlin                    \r\n   @Bean\r\n   fun hibernate5Module(): Module = Hibernate5Module()\r\n```\r\n\r\n___\r\nNotice that `Module` is `com.fasterxml.jackson.databind.Module`, not `java.util.Module`\r\n","title":"JPA Lazy loading is not working in Spring boot","body":"<p>You can solve this problem with wit 2 steps with <a href=\"https://github.com/FasterXML/jackson-datatype-hibernate\" rel=\"nofollow noreferrer\">jackson-datatype-hibernate</a>:</p>\n\n<blockquote>\n  <p>kotlin example</p>\n</blockquote>\n\n<ol>\n<li>Add In <code>build.gradle.kts</code>:</li>\n</ol>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>implementation(\"com.fasterxml.jackson.datatype:jackson-datatype-hibernate5:$jacksonHibernate\")\n</code></pre>\n\n<ol start=\"2\">\n<li>Create <code>@Bean</code></li>\n</ol>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>   @Bean\n   fun hibernate5Module(): Module = Hibernate5Module()\n</code></pre>\n\n<hr>\n\n<p>Notice that <code>Module</code> is <code>com.fasterxml.jackson.databind.Module</code>, not <code>java.util.Module</code></p>\n"},{"comments":[{"owner":{"account_id":1435254,"reputation":29439,"user_id":4826457,"display_name":"Suraj Rao"},"score":3,"creation_date":1610017301,"post_id":65610990,"comment_id":116002536,"body_markdown":"Please add code and data as text ([using code formatting](//stackoverflow.com/editing-help#code)), not images. Images: A) don&#39;t allow us to copy-&amp;-paste the code/errors/data for testing; B) don&#39;t permit searching based on the code/error/data contents; and [many more reasons](//meta.stackoverflow.com/a/285557). Images should only be used, in addition to text in code format, if having the image adds something significant that is not conveyed by just the text code/error/data.","body":"Please add code and data as text (<a href=\"//stackoverflow.com/editing-help#code\">using code formatting</a>), not images. Images: A) don&#39;t allow us to copy-&amp;-paste the code/errors/data for testing; B) don&#39;t permit searching based on the code/error/data contents; and <a href=\"//meta.stackoverflow.com/a/285557\">many more reasons</a>. Images should only be used, in addition to text in code format, if having the image adds something significant that is not conveyed by just the text code/error/data."},{"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"score":0,"creation_date":1610603512,"post_id":65610990,"comment_id":116186700,"body_markdown":"can someone explain this annotation. in Documentation, it is not properly explained. https://www.baeldung.com/hibernate-lazy-loading-workaround after reading this article, it seems @ Transactional is better, but if we add &quot;enable_lazy_load_no_trans&quot; then it will call for list of object &amp; each object each refered lazy object in one trasnaction per object. Is @LazyToOne also will do one time one transaction or is it one extra txn in total only?","body":"can someone explain this annotation. in Documentation, it is not properly explained. <a href=\"https://www.baeldung.com/hibernate-lazy-loading-workaround\" rel=\"nofollow noreferrer\">baeldung.com/hibernate-lazy-loading-workaround</a> after reading this article, it seems @ Transactional is better, but if we add &quot;enable_lazy_load_no_trans&quot; then it will call for list of object &amp; each object each refered lazy object in one trasnaction per object. Is @LazyToOne also will do one time one transaction or is it one extra txn in total only?"}],"tags":[],"owner":{"account_id":14487693,"reputation":1,"user_id":10465057,"display_name":"Bala Murugan"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1623322833,"creation_date":1610016737,"answer_id":65610990,"question_id":55702642,"body_markdown":"I also faced the same issue with Spring data JPA. I added the below annotation &amp; able to get the customer records for a given ORDER ID\r\n\r\nCustomer to Order : one to Many \r\n\r\nOrder to customer is lazy load. \r\n\r\n**Order.java**\r\n\r\n\r\n    @ManyToOne(cascade = CascadeType.ALL,targetEntity = CustomerEntity.class,fetch = FetchType.LAZY)\r\n    @Fetch(FetchMode. JOIN)\r\n    @JoinColumn(name = &quot;CUSTOMER_ID&quot;,referencedColumnName = &quot;CUSTOMER_ID&quot;,insertable = false,updatable = false)\r\n    @LazyToOne(LazyToOneOption.PROXY)\r\n    Private CustomerEntity customer\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n**Customer.java**\r\n\r\n\r\n    @Entity\r\n    @TabLe(name = &quot;CUSTOMER&quot; ,\r\n    uniqueConstraints = @UniqueConstraint(columnNames= {&quot;mobile&quot;}))\r\n    public class CustomerEntity {\r\n    \r\n    @GeneratedVaLue(strategy = GenerationType.IDENTITY)\r\n    @CoLumn(name = &quot;customer_id&quot; )\r\n    private Integer customerld;\r\n    private String name;\r\n    private String address;\r\n    private String city;\r\n    private String state;\r\n    private Integer zipCode;\r\n    private Integer mobileNumber;\r\n    \r\n    @OneToMany(mappedBy = &quot; customer&quot; )\r\n    @Fetch(FetchMode.JOIN)\r\n    @LazyToOne(LazyToOneOption.PROXY)\r\n    private List&lt;OrderEntity&gt; orders;\r\n    }\r\n\r\n","title":"JPA Lazy loading is not working in Spring boot","body":"<p>I also faced the same issue with Spring data JPA. I added the below annotation &amp; able to get the customer records for a given ORDER ID</p>\n<p>Customer to Order : one to Many</p>\n<p>Order to customer is lazy load.</p>\n<p><strong>Order.java</strong></p>\n<pre><code>@ManyToOne(cascade = CascadeType.ALL,targetEntity = CustomerEntity.class,fetch = FetchType.LAZY)\n@Fetch(FetchMode. JOIN)\n@JoinColumn(name = &quot;CUSTOMER_ID&quot;,referencedColumnName = &quot;CUSTOMER_ID&quot;,insertable = false,updatable = false)\n@LazyToOne(LazyToOneOption.PROXY)\nPrivate CustomerEntity customer\n</code></pre>\n<p><strong>Customer.java</strong></p>\n<pre><code>@Entity\n@TabLe(name = &quot;CUSTOMER&quot; ,\nuniqueConstraints = @UniqueConstraint(columnNames= {&quot;mobile&quot;}))\npublic class CustomerEntity {\n\n@GeneratedVaLue(strategy = GenerationType.IDENTITY)\n@CoLumn(name = &quot;customer_id&quot; )\nprivate Integer customerld;\nprivate String name;\nprivate String address;\nprivate String city;\nprivate String state;\nprivate Integer zipCode;\nprivate Integer mobileNumber;\n\n@OneToMany(mappedBy = &quot; customer&quot; )\n@Fetch(FetchMode.JOIN)\n@LazyToOne(LazyToOneOption.PROXY)\nprivate List&lt;OrderEntity&gt; orders;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6890170,"reputation":2211,"user_id":5293976,"display_name":"BEJGAM SHIVA PRASAD"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701446808,"creation_date":1625743533,"answer_id":68300735,"question_id":55702642,"body_markdown":"\r\n\r\nAnother consideration is while using Lombok, `@Data/@Getter`  annotation causes to load lazy items without need. So be careful when using Lombok.\r\n\r\nThis was my case. ","title":"JPA Lazy loading is not working in Spring boot","body":"<p>Another consideration is while using Lombok, <code>@Data/@Getter</code>  annotation causes to load lazy items without need. So be careful when using Lombok.</p>\n<p>This was my case.</p>\n"},{"comments":[{"owner":{"account_id":2513977,"reputation":1330,"user_id":2185783,"display_name":"maximus"},"score":0,"creation_date":1661177220,"post_id":71294562,"comment_id":129703389,"body_markdown":"Same thing is mentioned in this blog written by Vlad Mihalcea about `@OneToOne` mapping and LAZY loading: https://vladmihalcea.com/the-best-way-to-map-a-onetoone-relationship-with-jpa-and-hibernate/","body":"Same thing is mentioned in this blog written by Vlad Mihalcea about <code>@OneToOne</code> mapping and LAZY loading: <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetoone-relationship-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a>"}],"tags":[],"owner":{"account_id":4343429,"reputation":859,"user_id":3546107,"display_name":"Delirante"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1646048821,"creation_date":1646048821,"answer_id":71294562,"question_id":55702642,"body_markdown":"I suppose you are using Hibernate as JPA.\r\n\r\n**From specification:**\r\n\r\n*The EAGER strategy is a requirement on the persistence provider runtime that data must be eagerly fetched. The LAZY strategy is a hint to the persistence provider runtime that data should be fetched lazily when it is first accessed. The implementation is permitted to eagerly fetch data for which the LAZY strategy hint has been specified. https://docs.jboss.org/hibernate/jpa/2.2/api/javax/persistence/FetchType.html*\r\n\r\nHibernate ignores fetch type specially in OneToOne and ManyToOne relationships from non owning side. \r\n\r\nThere are few options how to force Hibernate use fetch type LAZY if you really need it.\r\n\r\n 1. The simplest one is to fake one-to-many relationship. This will work because lazy loading of collection is much easier then lazy loading of single nullable property but generally this solution is very inconvenient if you use complex JPQL/HQL queries.\r\n 2. The other one is to use build time bytecode instrumentation. For more details please read Hibernate documentation: 19.1.7. Using lazy property fetching. Remember that in this case you have to add @LazyToOne(LazyToOneOption.NO_PROXY) annotation to one-to-one relationship to make it lazy. Setting fetch to LAZY is not enough.\r\n 3. The last solution is to use runtime bytecode instrumentation but it will work only for those who use Hibernate as JPA provider in full-blown JEE environment (in such case setting &quot;hibernate.ejb.use_class_enhancer&quot; to true should do the trick: Entity Manager Configuration) or use Hibernate with Spring configured to do runtime weaving (this might be hard to achieve on some older application servers). In this case @LazyToOne(LazyToOneOption.NO_PROXY) annotation is also required.\r\n\r\nFor more informations look at this:\r\nhttp://justonjava.blogspot.com/2010/09/lazy-one-to-one-and-one-to-many.html\r\n\r\n\r\n","title":"JPA Lazy loading is not working in Spring boot","body":"<p>I suppose you are using Hibernate as JPA.</p>\n<p><strong>From specification:</strong></p>\n<p><em>The EAGER strategy is a requirement on the persistence provider runtime that data must be eagerly fetched. The LAZY strategy is a hint to the persistence provider runtime that data should be fetched lazily when it is first accessed. The implementation is permitted to eagerly fetch data for which the LAZY strategy hint has been specified. <a href=\"https://docs.jboss.org/hibernate/jpa/2.2/api/javax/persistence/FetchType.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/jpa/2.2/api/javax/persistence/FetchType.html</a></em></p>\n<p>Hibernate ignores fetch type specially in OneToOne and ManyToOne relationships from non owning side.</p>\n<p>There are few options how to force Hibernate use fetch type LAZY if you really need it.</p>\n<ol>\n<li>The simplest one is to fake one-to-many relationship. This will work because lazy loading of collection is much easier then lazy loading of single nullable property but generally this solution is very inconvenient if you use complex JPQL/HQL queries.</li>\n<li>The other one is to use build time bytecode instrumentation. For more details please read Hibernate documentation: 19.1.7. Using lazy property fetching. Remember that in this case you have to add @LazyToOne(LazyToOneOption.NO_PROXY) annotation to one-to-one relationship to make it lazy. Setting fetch to LAZY is not enough.</li>\n<li>The last solution is to use runtime bytecode instrumentation but it will work only for those who use Hibernate as JPA provider in full-blown JEE environment (in such case setting &quot;hibernate.ejb.use_class_enhancer&quot; to true should do the trick: Entity Manager Configuration) or use Hibernate with Spring configured to do runtime weaving (this might be hard to achieve on some older application servers). In this case @LazyToOne(LazyToOneOption.NO_PROXY) annotation is also required.</li>\n</ol>\n<p>For more informations look at this:\n<a href=\"http://justonjava.blogspot.com/2010/09/lazy-one-to-one-and-one-to-many.html\" rel=\"nofollow noreferrer\">http://justonjava.blogspot.com/2010/09/lazy-one-to-one-and-one-to-many.html</a></p>\n"},{"tags":[],"owner":{"account_id":11602676,"reputation":103,"user_id":8499334,"display_name":"Vivek Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665046780,"creation_date":1660163323,"answer_id":73312364,"question_id":55702642,"body_markdown":"I think I might have a solution. You can give this a try. This worked for me after 4 hours of hit and trial -\r\n\r\nUser Entity  :\r\n\r\n    class User {\r\n        @Id\r\n        String id;\r\n    \r\n        @JsonManagedReference\r\n        @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY)\r\n        private List&lt;Address&gt; addressDetailVOList = new ArrayList&lt;Address&gt;();\r\n    } \r\n\r\nAddress entity : \r\n\r\n    class Address {\r\n    \r\n        @JsonBackReference\r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        @JoinColumn(name = &quot;userId&quot;)\r\n        private User user;\r\n    }\r\n\r\nYour parent class will use `@JsonManagedReference`, and child class will use `@JsonBackReference`. With this, you can avoid the infinite loop of entity objects as response and stack overflow error.\r\n\r\n","title":"JPA Lazy loading is not working in Spring boot","body":"<p>I think I might have a solution. You can give this a try. This worked for me after 4 hours of hit and trial -</p>\n<p>User Entity  :</p>\n<pre><code>class User {\n    @Id\n    String id;\n\n    @JsonManagedReference\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY)\n    private List&lt;Address&gt; addressDetailVOList = new ArrayList&lt;Address&gt;();\n} \n</code></pre>\n<p>Address entity :</p>\n<pre><code>class Address {\n\n    @JsonBackReference\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;userId&quot;)\n    private User user;\n}\n</code></pre>\n<p>Your parent class will use <code>@JsonManagedReference</code>, and child class will use <code>@JsonBackReference</code>. With this, you can avoid the infinite loop of entity objects as response and stack overflow error.</p>\n"}],"owner":{"account_id":2021263,"reputation":2451,"user_id":1807373,"accept_rate":75,"display_name":"Houssam Badri"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50540,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":55716700,"answer_count":11,"score":18,"last_activity_date":1701446808,"creation_date":1555399156,"question_id":55702642,"body_markdown":"I googled a lot and It is really bizarre that Spring Boot (latest version) may not have the lazy loading is not working. Below are pieces of my code:\r\n\r\n**My resource:**\r\n\r\n     public ResponseEntity&lt;Page&lt;AirWaybill&gt;&gt; searchAirWaybill(CriteraDto criteriaDto, @PageableDefault(size = 10) Pageable pageable{\r\n    airWaybillService.searchAirWaybill(criteriaDto, pageable);\r\n            return ResponseEntity.ok().body(result);\r\n    }\r\n\r\n\r\n**My service:**\r\n\r\n    @Service\r\n    @Transactional\r\n    public class AirWaybillService {\r\n\r\n    //Methods\r\n\r\n     public Page&lt;AirWaybill&gt; searchAirWaybill(AirWaybillCriteriaDto searchCriteria, Pageable pageable){\r\n        //Construct the specification\r\n        \t\treturn airWaybillRepository.findAll(spec, pageable);\r\n       }\r\n    }\r\n\r\n**My Entity:**\r\n\r\n    @Entity\r\n    @Table(name = &quot;TRACKING_AIR_WAYBILL&quot;)\r\n    @JsonIdentityInfo(generator=ObjectIdGenerators.IntSequenceGenerator.class, property=&quot;@airWaybillId&quot;) //to fix Infinite recursion with LoadedAirWaybill class\r\n    public class AirWaybill{\r\n    //Some attributes\r\n        @NotNull\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;FK_TRACKING_CORPORATE_BRANCH_ID&quot;)\r\n        private CorporateBranch corporateBranch;\r\n    }\r\n\r\nAnd when debugging,  I still getting all lazy loaded attributed loaded. See image below.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EduHY.png\r\n\r\nOne of my questions is could Jackson be involved in such behaviour?\r\nIs there any way that I may have missed to activate the lazy loading?\r\n\r\n**EDIT**\r\n\r\nAnother question, could the debugger be involved in ruining the lazy loading?\r\n\r\n**EDIT 2:**\r\n\r\nFor **specification** build, I have :\r\n\r\n    public static Specification&lt;AirWaybill&gt; isBranchAirWayBill(long id){\r\n        return new Specification&lt;AirWaybill&gt;() {\r\n            @Override\r\n            public Predicate toPredicate(Root&lt;AirWaybill&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) {\r\n                return cb.equal(root.join(&quot;corporateBranch&quot;,JoinType.LEFT).get(&quot;id&quot;),id);\r\n            }\r\n        };\r\n    }","title":"JPA Lazy loading is not working in Spring boot","body":"<p>I googled a lot and It is really bizarre that Spring Boot (latest version) may not have the lazy loading is not working. Below are pieces of my code:</p>\n\n<p><strong>My resource:</strong></p>\n\n<pre><code> public ResponseEntity&lt;Page&lt;AirWaybill&gt;&gt; searchAirWaybill(CriteraDto criteriaDto, @PageableDefault(size = 10) Pageable pageable{\nairWaybillService.searchAirWaybill(criteriaDto, pageable);\n        return ResponseEntity.ok().body(result);\n}\n</code></pre>\n\n<p><strong>My service:</strong></p>\n\n<pre><code>@Service\n@Transactional\npublic class AirWaybillService {\n\n//Methods\n\n public Page&lt;AirWaybill&gt; searchAirWaybill(AirWaybillCriteriaDto searchCriteria, Pageable pageable){\n    //Construct the specification\n            return airWaybillRepository.findAll(spec, pageable);\n   }\n}\n</code></pre>\n\n<p><strong>My Entity:</strong></p>\n\n<pre><code>@Entity\n@Table(name = \"TRACKING_AIR_WAYBILL\")\n@JsonIdentityInfo(generator=ObjectIdGenerators.IntSequenceGenerator.class, property=\"@airWaybillId\") //to fix Infinite recursion with LoadedAirWaybill class\npublic class AirWaybill{\n//Some attributes\n    @NotNull\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"FK_TRACKING_CORPORATE_BRANCH_ID\")\n    private CorporateBranch corporateBranch;\n}\n</code></pre>\n\n<p>And when debugging,  I still getting all lazy loaded attributed loaded. See image below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/EduHY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/EduHY.png\" alt=\"enter image description here\"></a></p>\n\n<p>One of my questions is could Jackson be involved in such behaviour?\nIs there any way that I may have missed to activate the lazy loading?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Another question, could the debugger be involved in ruining the lazy loading?</p>\n\n<p><strong>EDIT 2:</strong></p>\n\n<p>For <strong>specification</strong> build, I have :</p>\n\n<pre><code>public static Specification&lt;AirWaybill&gt; isBranchAirWayBill(long id){\n    return new Specification&lt;AirWaybill&gt;() {\n        @Override\n        public Predicate toPredicate(Root&lt;AirWaybill&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) {\n            return cb.equal(root.join(\"corporateBranch\",JoinType.LEFT).get(\"id\"),id);\n        }\n    };\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-cloud-dataflow"],"answers":[{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1565342518,"post_id":57426697,"comment_id":101332295,"body_markdown":"Looks like BOM doesn&#39;t contain version of spring cloud data flow","body":"Looks like BOM doesn&#39;t contain version of spring cloud data flow"},{"owner":{"account_id":1641955,"reputation":319,"user_id":1514220,"accept_rate":25,"display_name":"Jan Schumacher"},"score":0,"creation_date":1565423447,"post_id":57426697,"comment_id":101357322,"body_markdown":"Which version of spring boot starter parent do you use?","body":"Which version of spring boot starter parent do you use?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1565597670,"post_id":57426697,"comment_id":101388935,"body_markdown":"I use 2.1.6.RELEASE","body":"I use 2.1.6.RELEASE"}],"tags":[],"owner":{"account_id":1641955,"reputation":319,"user_id":1514220,"accept_rate":25,"display_name":"Jan Schumacher"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565341162,"creation_date":1565341162,"answer_id":57426697,"question_id":57426529,"body_markdown":"In most of the cases this is either due to a missing dependency or due to a dependency coming with an older spring/spring boot version.\r\nCheck your maven dependency tree and search for spring-boot dependencies older then the version your parent starter is requesting. Probably `org.springframework.cloud:spring-cloud-starter-dataflow-server-local:1.7.4.RELEASE` comes with an older version and you need to exclude it.","title":"java.lang.NoSuchMethodError: org.springframework.boot.builder.SpringApplicationBuilder.&lt;init&gt;([Ljava/lang/Object;)V","body":"<p>In most of the cases this is either due to a missing dependency or due to a dependency coming with an older spring/spring boot version.\nCheck your maven dependency tree and search for spring-boot dependencies older then the version your parent starter is requesting. Probably <code>org.springframework.cloud:spring-cloud-starter-dataflow-server-local:1.7.4.RELEASE</code> comes with an older version and you need to exclude it.</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11972,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1701446615,"creation_date":1565340619,"question_id":57426529,"body_markdown":"I am writing simple application to be familiar with spring batch. I wanted to learn spring batch admin but I found that it is deprecated so I have to use spring cloud data flow instead.\r\n\r\nI&#39;ve found a tutorial about spring cloud data and did first steps:\r\n\r\n\r\n1. Added dependency:\r\n\r\n    compile(&quot;org.springframework.cloud:spring-cloud-starter-dataflow-server-local:1.7.4.RELEASE&quot;)\r\n\r\n2. And marked my spring boot application class with additioanl annotaion:\r\n\r\n    @EnableDataFlowServer\r\n\r\nNow I am trying to run it using idea but it prints:\r\n\r\n    10:24:09.590 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\r\n    java.lang.NoSuchMethodError: org.springframework.boot.builder.SpringApplicationBuilder.&lt;init&gt;([Ljava/lang/Object;)V\r\n    \tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:161)\r\n    \tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:102)\r\n    \tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:68)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:75)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\r\n    \tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:340)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:304)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1213)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1202)\r\n    \tat spring.boot.hello.world.MyApplication.main(MyApplication.java:11)","title":"java.lang.NoSuchMethodError: org.springframework.boot.builder.SpringApplicationBuilder.&lt;init&gt;([Ljava/lang/Object;)V","body":"<p>I am writing simple application to be familiar with spring batch. I wanted to learn spring batch admin but I found that it is deprecated so I have to use spring cloud data flow instead.</p>\n\n<p>I've found a tutorial about spring cloud data and did first steps:</p>\n\n<ol>\n<li><p>Added dependency:</p>\n\n<p>compile(\"org.springframework.cloud:spring-cloud-starter-dataflow-server-local:1.7.4.RELEASE\")</p></li>\n<li><p>And marked my spring boot application class with additioanl annotaion:</p>\n\n<p>@EnableDataFlowServer</p></li>\n</ol>\n\n<p>Now I am trying to run it using idea but it prints:</p>\n\n<pre><code>10:24:09.590 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\njava.lang.NoSuchMethodError: org.springframework.boot.builder.SpringApplicationBuilder.&lt;init&gt;([Ljava/lang/Object;)V\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:161)\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:102)\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:68)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:75)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:340)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:304)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1213)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1202)\n    at spring.boot.hello.world.MyApplication.main(MyApplication.java:11)\n</code></pre>\n"},{"tags":["java","spring","eclipse","spring-tool-suite","spring-tools-4"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1701439487,"post_id":77585771,"comment_id":136779033,"body_markdown":"What is the exact warning message?","body":"What is the exact warning message?"},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1701439615,"post_id":77585771,"comment_id":136779060,"body_markdown":"@howlger, It says just `public &#39;@Bean&#39; method` and it disappears if I remove the `public` modifier.  It also provides a quick fix to remove the modifier from the method or from the file or from the project.","body":"@howlger, It says just <code>public &#39;@Bean&#39; method</code> and it disappears if I remove the <code>public</code> modifier.  It also provides a quick fix to remove the modifier from the method or from the file or from the project."},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1701439975,"post_id":77585771,"comment_id":136779140,"body_markdown":"In the &quot;Markers&quot; view it appears in the &quot;Spring Boot&quot; group.","body":"In the &quot;Markers&quot; view it appears in the &quot;Spring Boot&quot; group."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1701440016,"post_id":77585771,"comment_id":136779154,"body_markdown":"Please copy the whole line from the _Problems_ view, including the _Type_. (I did not downvote the question nor did I vote to close it, but I would recommend to include the exact warning message into the question and more details about the `@Bean` annotation used here.)","body":"Please copy the whole line from the <i>Problems</i> view, including the <i>Type</i>. (I did not downvote the question nor did I vote to close it, but I would recommend to include the exact warning message into the question and more details about the <code>@Bean</code> annotation used here.)"},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1701441975,"post_id":77585771,"comment_id":136779556,"body_markdown":"@howgler, added screen-shots.  I assumed that it is common with this version of Eclipse/STS, isn&#39;t it?","body":"@howgler, added screen-shots.  I assumed that it is common with this version of Eclipse/STS, isn&#39;t it?"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1701448659,"post_id":77585771,"comment_id":136780895,"body_markdown":"Please copy **the whole line** from the Problems view.","body":"Please copy <b>the whole line</b> from the Problems view."},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1701448885,"post_id":77585771,"comment_id":136780938,"body_markdown":"@nitind, I have already answered my question, see below.","body":"@nitind, I have already answered my question, see below."}],"answers":[{"comments":[{"owner":{"account_id":2082386,"reputation":6063,"user_id":1854124,"display_name":"Martin Lippert"},"score":0,"creation_date":1701766628,"post_id":77586514,"comment_id":136813295,"body_markdown":"Correct, this is part of the new validations that give you hints and information about changing and improving your Spring usage in the source code. There are a number of those validations in place and you can enable/disable them in the preferences. If you come across a situation where the preference is configured as &quot;info&quot;, but the marker appears in the problems view as a warning, please file a bug at https://github.com/spring-projects/sts4/issues. And if you find validations to show up as false positives, please let us know as well.","body":"Correct, this is part of the new validations that give you hints and information about changing and improving your Spring usage in the source code. There are a number of those validations in place and you can enable/disable them in the preferences. If you come across a situation where the preference is configured as &quot;info&quot;, but the marker appears in the problems view as a warning, please file a bug at <a href=\"https://github.com/spring-projects/sts4/issues\" rel=\"nofollow noreferrer\">github.com/spring-projects/sts4/issues</a>. And if you find validations to show up as false positives, please let us know as well."}],"tags":[],"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701446005,"creation_date":1701446005,"answer_id":77586514,"question_id":77585771,"body_markdown":"Found it: under &quot;Window/Preferences/Spring/Validation/Boot 2.x Best Practices &amp; Optimizations&quot; there is a &quot;Public &#39;@Bean&#39; method&quot; option that you can set to &quot;Ignore&quot;.  The tooltip says:\r\n\r\n&gt; Public modifier on &#39;@Bean&#39; method. They no longer have to be public\r\n&gt; visibility to be usable by Spring.","title":"Eclipse with Spring Tools 4 gives a warning on public @Bean methods","body":"<p>Found it: under &quot;Window/Preferences/Spring/Validation/Boot 2.x Best Practices &amp; Optimizations&quot; there is a &quot;Public '@Bean' method&quot; option that you can set to &quot;Ignore&quot;.  The tooltip says:</p>\n<blockquote>\n<p>Public modifier on '@Bean' method. They no longer have to be public\nvisibility to be usable by Spring.</p>\n</blockquote>\n"}],"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77586514,"answer_count":1,"score":0,"last_activity_date":1701446005,"creation_date":1701438965,"question_id":77585771,"body_markdown":"I have just upgraded Eclipse to version 2023-09 and installed Spring Tools 4 from the marketplace.  Now, in projects using Spring Boot 2.7.18, I get a lot of warnings because I have the `public` modifier on `@Bean` methods.  Is it a bad practice?  [This post][1] says that the method visibility does not affect the bean&#39;s visibility and, in facts, I have not found anything about access modifiers of `@Bean` methods in Spring docs and [this manual page][2] has an example with a public `@Bean` method.  So why should I change it?  Can this note be disabled?\r\n\r\n**Update:** added some screen-shots.  Now I see that in the Properties dialog it has &quot;Info&quot; severity but in the &quot;Markers&quot; view it is under a warning icon due to the presence of other messages.  It has also a quick fix.\r\n\r\n[![Screen-shot1][3]][3]\r\n\r\n[![Screen-shot1][4]][4]\r\n\r\n[![Screen-shot2][5]][5]\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/76454349/685806\r\n  [2]: https://docs.spring.io/spring-framework/reference/core/beans/java/basic-concepts.html\r\n  [3]: https://i.stack.imgur.com/DnnhH.png\r\n  [4]: https://i.stack.imgur.com/1pcS0.png\r\n  [5]: https://i.stack.imgur.com/acr5e.png","title":"Eclipse with Spring Tools 4 gives a warning on public @Bean methods","body":"<p>I have just upgraded Eclipse to version 2023-09 and installed Spring Tools 4 from the marketplace.  Now, in projects using Spring Boot 2.7.18, I get a lot of warnings because I have the <code>public</code> modifier on <code>@Bean</code> methods.  Is it a bad practice?  <a href=\"https://stackoverflow.com/q/76454349/685806\">This post</a> says that the method visibility does not affect the bean's visibility and, in facts, I have not found anything about access modifiers of <code>@Bean</code> methods in Spring docs and <a href=\"https://docs.spring.io/spring-framework/reference/core/beans/java/basic-concepts.html\" rel=\"nofollow noreferrer\">this manual page</a> has an example with a public <code>@Bean</code> method.  So why should I change it?  Can this note be disabled?</p>\n<p><strong>Update:</strong> added some screen-shots.  Now I see that in the Properties dialog it has &quot;Info&quot; severity but in the &quot;Markers&quot; view it is under a warning icon due to the presence of other messages.  It has also a quick fix.</p>\n<p><a href=\"https://i.stack.imgur.com/DnnhH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DnnhH.png\" alt=\"Screen-shot1\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/1pcS0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1pcS0.png\" alt=\"Screen-shot1\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/acr5e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/acr5e.png\" alt=\"Screen-shot2\" /></a></p>\n"},{"tags":["java","maven","record","java-14"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1701440111,"post_id":77585718,"comment_id":136779170,"body_markdown":"Honestly, I would just use Lombok and create the POJO objects. Records should not be abused. They should realistically only have a few fields. If the object has over 10 fields on it, I would avoid using a record.","body":"Honestly, I would just use Lombok and create the POJO objects. Records should not be abused. They should realistically only have a few fields. If the object has over 10 fields on it, I would avoid using a record."},{"owner":{"account_id":3342991,"reputation":1334,"user_id":2808815,"accept_rate":82,"display_name":"Joe Caruso"},"score":0,"creation_date":1701442980,"post_id":77585718,"comment_id":136779789,"body_markdown":"I already have the schema files and generated for pojo classes which include the jackson annotations. I&#39;m not interested in removing the plug in and writing the code myself with lombok.","body":"I already have the schema files and generated for pojo classes which include the jackson annotations. I&#39;m not interested in removing the plug in and writing the code myself with lombok."},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":2,"creation_date":1701448758,"post_id":77585718,"comment_id":136780918,"body_markdown":"There is already a request to add `record` support here: [Issue #1405](https://github.com/joelittlejohn/jsonschema2pojo/issues/1405)","body":"There is already a request to add <code>record</code> support here: <a href=\"https://github.com/joelittlejohn/jsonschema2pojo/issues/1405\" rel=\"nofollow noreferrer\">Issue #1405</a>"},{"owner":{"account_id":3342991,"reputation":1334,"user_id":2808815,"accept_rate":82,"display_name":"Joe Caruso"},"score":0,"creation_date":1701452286,"post_id":77585718,"comment_id":136781538,"body_markdown":"Good looks my friend","body":"Good looks my friend"}],"answers":[{"comments":[{"owner":{"account_id":3342991,"reputation":1334,"user_id":2808815,"accept_rate":82,"display_name":"Joe Caruso"},"score":0,"creation_date":1701443076,"post_id":77586058,"comment_id":136779804,"body_markdown":"I&#39;m trying to avoid writing boiler plate code.","body":"I&#39;m trying to avoid writing boiler plate code."},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1701443237,"post_id":77586058,"comment_id":136779839,"body_markdown":"@JoeCaruso POJO are not boilder-plate code. Only having to write the accessors (getters), mutators (setters), toString, equals, hashCode, builders, etc... is the boilerplate. The classes above define only the fields needed with some additional annotations. This is the most concise code required. Lombok is a very powerful library that is pretty much an industry standard for the Java development community.","body":"@JoeCaruso POJO are not boilder-plate code. Only having to write the accessors (getters), mutators (setters), toString, equals, hashCode, builders, etc... is the boilerplate. The classes above define only the fields needed with some additional annotations. This is the most concise code required. Lombok is a very powerful library that is pretty much an industry standard for the Java development community."},{"owner":{"account_id":3342991,"reputation":1334,"user_id":2808815,"accept_rate":82,"display_name":"Joe Caruso"},"score":2,"creation_date":1701443528,"post_id":77586058,"comment_id":136779902,"body_markdown":"The plugin I am using already does everything I need and doesn&#39;t require me to add in @Data annotations. You solution requires me to first generate the code in src AND manually add in lombok annotations. What I looking for is a way to generate records so I get the performance benefits for operations like .equals() along with pattern matching.","body":"The plugin I am using already does everything I need and doesn&#39;t require me to add in @Data annotations. You solution requires me to first generate the code in src AND manually add in lombok annotations. What I looking for is a way to generate records so I get the performance benefits for operations like .equals() along with pattern matching."}],"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":3,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1701444183,"creation_date":1701441674,"answer_id":77586058,"question_id":77585718,"body_markdown":"I would avoid records, not only because they should only store a few values, but because they do not have the same level of control as a traditional class.\r\n\r\nThe following article breaks this all down:\r\n\r\n&gt; https://www.baeldung.com/java-record-vs-lombok\r\n\r\nWith Jackson&#39;s `@JsonProperty` annotation, you can tell the serializer/deserializer how to map each key to the appropriate field.\r\n\r\nIf you generate the class stubs and add in some Lombok, you can simplify this process.\r\n\r\nThe following JSON:\r\n\r\n```json\r\n/** https://json.org/example.html */\r\n{\r\n  &quot;glossary&quot;: {\r\n    &quot;title&quot;: &quot;example glossary&quot;,\r\n    &quot;GlossDiv&quot;: {\r\n      &quot;title&quot;: &quot;S&quot;,\r\n      &quot;GlossList&quot;: {\r\n        &quot;GlossEntry&quot;: {\r\n          &quot;ID&quot;: &quot;SGML&quot;,\r\n          &quot;SortAs&quot;: &quot;SGML&quot;,\r\n          &quot;GlossTerm&quot;: &quot;Standard Generalized Markup Language&quot;,\r\n          &quot;Acronym&quot;: &quot;SGML&quot;,\r\n          &quot;Abbrev&quot;: &quot;ISO 8879:1986&quot;,\r\n          &quot;GlossDef&quot;: {\r\n            &quot;para&quot;: &quot;A meta-markup language, used to create markup languages such as DocBook.&quot;,\r\n            &quot;GlossSeeAlso&quot;: [&quot;GML&quot;, &quot;XML&quot;]\r\n          },\r\n          &quot;GlossSee&quot;: &quot;markup&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nGet converted to the following shapes:\r\n\r\n```java\r\npackage org.example.json;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.util.List;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport lombok.Data;\r\n\r\npublic class GenerateClasses {\r\n    private static final ObjectMapper om = new ObjectMapper();\r\n    private static final ClassLoader classLoader = GenerateClasses.class.getClassLoader();\r\n\r\n    public static void main(String[] args) {\r\n        try (InputStream is = classLoader.getResourceAsStream(&quot;glossary.json&quot;)) {\r\n            Root root = om.readValue(is, Root.class);\r\n            System.out.println(root); // Object::toString\r\n            System.out.println(om.writerWithDefaultPrettyPrinter().writeValueAsString(root));\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Failed to read JSON&quot;);\r\n        }\r\n    }\r\n\r\n    @Data\r\n    public static class Glossary {\r\n        private String title;\r\n        @JsonProperty(&quot;GlossDiv&quot;)\r\n        private GlossDiv glossDiv;\r\n    }\r\n\r\n    @Data\r\n    public static class GlossDef {\r\n        private String para;\r\n        @JsonProperty(&quot;GlossSeeAlso&quot;)\r\n        private List&lt;String&gt; glossSeeAlso; /* Changed from ArrayList */\r\n    }\r\n\r\n    @Data\r\n    public static class GlossDiv {\r\n        private String title;\r\n        @JsonProperty(&quot;GlossList&quot;)\r\n        private GlossList glossList;\r\n    }\r\n\r\n    @Data\r\n    public static class GlossEntry {\r\n        @JsonProperty(&quot;ID&quot;)\r\n        private String id; /* Manually changed from &#39;iD&#39; */\r\n        @JsonProperty(&quot;SortAs&quot;)\r\n        private String sortAs;\r\n        @JsonProperty(&quot;GlossTerm&quot;)\r\n        private String glossTerm;\r\n        @JsonProperty(&quot;Acronym&quot;)\r\n        private String acronym;\r\n        @JsonProperty(&quot;Abbrev&quot;)\r\n        private String abbrev;\r\n        @JsonProperty(&quot;GlossDef&quot;)\r\n        private GlossDef glossDef;\r\n        @JsonProperty(&quot;GlossSee&quot;)\r\n        private String glossSee;\r\n    }\r\n\r\n    @Data\r\n    public static class GlossList {\r\n        @JsonProperty(&quot;GlossEntry&quot;)\r\n        private GlossEntry glossEntry;\r\n    }\r\n\r\n    @Data\r\n    public static class Root {\r\n        private Glossary glossary;\r\n    }\r\n}\r\n```\r\n\r\nI generated the code above using the following tool:\r\n\r\n&gt; &lt;https://json2csharp.com/code-converters/json-to-pojo&gt; (choose JSON &gt; Java)\r\n\r\nI added Lombok `@Data` annotations, made all fields `private`, and modified fields where noted.\r\n\r\n---\r\n\r\n## Jackson + Records Caveat\r\n\r\nPlease note that Jackson versions below 2.11.4 have trouble with deserializing JSON with records:\r\n\r\n&gt; https://dev.to/brunooliveira/practical-java-16-using-jackson-to-serialize-records-4og4\r\n\r\nThe following modified program (from above) uses records instead of classes mized with Lombok. It no longer depends on Lombok.\r\n\r\n```java\r\npackage org.example.json;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.util.List;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\npublic class GenerateClasses {\r\n    private static final ObjectMapper om = new ObjectMapper();\r\n    private static final ClassLoader classLoader = GenerateClasses.class.getClassLoader();\r\n\r\n    public static void main(String[] args) {\r\n        try (InputStream is = classLoader.getResourceAsStream(&quot;glossary.json&quot;)) {\r\n            Root root = om.readValue(is, Root.class);\r\n            System.out.println(root); // Object::toString\r\n            System.out.println(om.writerWithDefaultPrettyPrinter().writeValueAsString(root));\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Failed to read JSON&quot;);\r\n            System.err.println(e);\r\n        }\r\n    }\r\n\r\n    public record Glossary (\r\n        String title,\r\n        @JsonProperty(&quot;GlossDiv&quot;)\r\n        GlossDiv glossDiv\r\n    ) {}\r\n\r\n    public record GlossDef (\r\n        String para,\r\n        @JsonProperty(&quot;GlossSeeAlso&quot;)\r\n        List&lt;String&gt; glossSeeAlso /* Changed from ArrayList */\r\n    ) {}\r\n\r\n    public record GlossDiv (\r\n        String title,\r\n        @JsonProperty(&quot;GlossList&quot;)\r\n        GlossList glossList\r\n    ) {}\r\n\r\n    public record GlossEntry (\r\n        @JsonProperty(&quot;ID&quot;)\r\n        String id, /* Manually changed from &#39;iD&#39; */\r\n        @JsonProperty(&quot;SortAs&quot;)\r\n        String sortAs,\r\n        @JsonProperty(&quot;GlossTerm&quot;)\r\n        String glossTerm,\r\n        @JsonProperty(&quot;Acronym&quot;)\r\n        String acronym,\r\n        @JsonProperty(&quot;Abbrev&quot;)\r\n        String abbrev,\r\n        @JsonProperty(&quot;GlossDef&quot;)\r\n        GlossDef glossDef,\r\n        @JsonProperty(&quot;GlossSee&quot;)\r\n        String glossSee\r\n    ) {}\r\n\r\n    public record GlossList (\r\n        @JsonProperty(&quot;GlossEntry&quot;)\r\n        GlossEntry glossEntry\r\n    ) {}\r\n\r\n    public record Root (\r\n        Glossary glossary\r\n    ) {}\r\n}\r\n```\r\n\r\nIf you encounter the following exception, you will need to update your Jackson dependency:\r\n\r\n&gt; `com.fasterxml.jackson.databind.exc.InvalidDefinitionException`: Cannot construct instance of `org.example.json.GenerateClasses$Root` (no Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator)  \r\n&gt; &amp;nbsp;&amp;nbsp;at [Source: (`BufferedInputStream`); line: 2, column: 3]","title":"Generate records from Json schema","body":"<p>I would avoid records, not only because they should only store a few values, but because they do not have the same level of control as a traditional class.</p>\n<p>The following article breaks this all down:</p>\n<blockquote>\n<p><a href=\"https://www.baeldung.com/java-record-vs-lombok\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-record-vs-lombok</a></p>\n</blockquote>\n<p>With Jackson's <code>@JsonProperty</code> annotation, you can tell the serializer/deserializer how to map each key to the appropriate field.</p>\n<p>If you generate the class stubs and add in some Lombok, you can simplify this process.</p>\n<p>The following JSON:</p>\n<pre class=\"lang-json prettyprint-override\"><code>/** https://json.org/example.html */\n{\n  &quot;glossary&quot;: {\n    &quot;title&quot;: &quot;example glossary&quot;,\n    &quot;GlossDiv&quot;: {\n      &quot;title&quot;: &quot;S&quot;,\n      &quot;GlossList&quot;: {\n        &quot;GlossEntry&quot;: {\n          &quot;ID&quot;: &quot;SGML&quot;,\n          &quot;SortAs&quot;: &quot;SGML&quot;,\n          &quot;GlossTerm&quot;: &quot;Standard Generalized Markup Language&quot;,\n          &quot;Acronym&quot;: &quot;SGML&quot;,\n          &quot;Abbrev&quot;: &quot;ISO 8879:1986&quot;,\n          &quot;GlossDef&quot;: {\n            &quot;para&quot;: &quot;A meta-markup language, used to create markup languages such as DocBook.&quot;,\n            &quot;GlossSeeAlso&quot;: [&quot;GML&quot;, &quot;XML&quot;]\n          },\n          &quot;GlossSee&quot;: &quot;markup&quot;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>Get converted to the following shapes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example.json;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.List;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport lombok.Data;\n\npublic class GenerateClasses {\n    private static final ObjectMapper om = new ObjectMapper();\n    private static final ClassLoader classLoader = GenerateClasses.class.getClassLoader();\n\n    public static void main(String[] args) {\n        try (InputStream is = classLoader.getResourceAsStream(&quot;glossary.json&quot;)) {\n            Root root = om.readValue(is, Root.class);\n            System.out.println(root); // Object::toString\n            System.out.println(om.writerWithDefaultPrettyPrinter().writeValueAsString(root));\n        } catch (IOException e) {\n            System.out.println(&quot;Failed to read JSON&quot;);\n        }\n    }\n\n    @Data\n    public static class Glossary {\n        private String title;\n        @JsonProperty(&quot;GlossDiv&quot;)\n        private GlossDiv glossDiv;\n    }\n\n    @Data\n    public static class GlossDef {\n        private String para;\n        @JsonProperty(&quot;GlossSeeAlso&quot;)\n        private List&lt;String&gt; glossSeeAlso; /* Changed from ArrayList */\n    }\n\n    @Data\n    public static class GlossDiv {\n        private String title;\n        @JsonProperty(&quot;GlossList&quot;)\n        private GlossList glossList;\n    }\n\n    @Data\n    public static class GlossEntry {\n        @JsonProperty(&quot;ID&quot;)\n        private String id; /* Manually changed from 'iD' */\n        @JsonProperty(&quot;SortAs&quot;)\n        private String sortAs;\n        @JsonProperty(&quot;GlossTerm&quot;)\n        private String glossTerm;\n        @JsonProperty(&quot;Acronym&quot;)\n        private String acronym;\n        @JsonProperty(&quot;Abbrev&quot;)\n        private String abbrev;\n        @JsonProperty(&quot;GlossDef&quot;)\n        private GlossDef glossDef;\n        @JsonProperty(&quot;GlossSee&quot;)\n        private String glossSee;\n    }\n\n    @Data\n    public static class GlossList {\n        @JsonProperty(&quot;GlossEntry&quot;)\n        private GlossEntry glossEntry;\n    }\n\n    @Data\n    public static class Root {\n        private Glossary glossary;\n    }\n}\n</code></pre>\n<p>I generated the code above using the following tool:</p>\n<blockquote>\n<p><a href=\"https://json2csharp.com/code-converters/json-to-pojo\" rel=\"nofollow noreferrer\">https://json2csharp.com/code-converters/json-to-pojo</a> (choose JSON &gt; Java)</p>\n</blockquote>\n<p>I added Lombok <code>@Data</code> annotations, made all fields <code>private</code>, and modified fields where noted.</p>\n<hr />\n<h2>Jackson + Records Caveat</h2>\n<p>Please note that Jackson versions below 2.11.4 have trouble with deserializing JSON with records:</p>\n<blockquote>\n<p><a href=\"https://dev.to/brunooliveira/practical-java-16-using-jackson-to-serialize-records-4og4\" rel=\"nofollow noreferrer\">https://dev.to/brunooliveira/practical-java-16-using-jackson-to-serialize-records-4og4</a></p>\n</blockquote>\n<p>The following modified program (from above) uses records instead of classes mized with Lombok. It no longer depends on Lombok.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example.json;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.List;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\npublic class GenerateClasses {\n    private static final ObjectMapper om = new ObjectMapper();\n    private static final ClassLoader classLoader = GenerateClasses.class.getClassLoader();\n\n    public static void main(String[] args) {\n        try (InputStream is = classLoader.getResourceAsStream(&quot;glossary.json&quot;)) {\n            Root root = om.readValue(is, Root.class);\n            System.out.println(root); // Object::toString\n            System.out.println(om.writerWithDefaultPrettyPrinter().writeValueAsString(root));\n        } catch (IOException e) {\n            System.out.println(&quot;Failed to read JSON&quot;);\n            System.err.println(e);\n        }\n    }\n\n    public record Glossary (\n        String title,\n        @JsonProperty(&quot;GlossDiv&quot;)\n        GlossDiv glossDiv\n    ) {}\n\n    public record GlossDef (\n        String para,\n        @JsonProperty(&quot;GlossSeeAlso&quot;)\n        List&lt;String&gt; glossSeeAlso /* Changed from ArrayList */\n    ) {}\n\n    public record GlossDiv (\n        String title,\n        @JsonProperty(&quot;GlossList&quot;)\n        GlossList glossList\n    ) {}\n\n    public record GlossEntry (\n        @JsonProperty(&quot;ID&quot;)\n        String id, /* Manually changed from 'iD' */\n        @JsonProperty(&quot;SortAs&quot;)\n        String sortAs,\n        @JsonProperty(&quot;GlossTerm&quot;)\n        String glossTerm,\n        @JsonProperty(&quot;Acronym&quot;)\n        String acronym,\n        @JsonProperty(&quot;Abbrev&quot;)\n        String abbrev,\n        @JsonProperty(&quot;GlossDef&quot;)\n        GlossDef glossDef,\n        @JsonProperty(&quot;GlossSee&quot;)\n        String glossSee\n    ) {}\n\n    public record GlossList (\n        @JsonProperty(&quot;GlossEntry&quot;)\n        GlossEntry glossEntry\n    ) {}\n\n    public record Root (\n        Glossary glossary\n    ) {}\n}\n</code></pre>\n<p>If you encounter the following exception, you will need to update your Jackson dependency:</p>\n<blockquote>\n<p><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException</code>: Cannot construct instance of <code>org.example.json.GenerateClasses$Root</code> (no Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator)<br />\n  at [Source: (<code>BufferedInputStream</code>); line: 2, column: 3]</p>\n</blockquote>\n"}],"owner":{"account_id":3342991,"reputation":1334,"user_id":2808815,"accept_rate":82,"display_name":"Joe Caruso"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701445265,"creation_date":1701438470,"question_id":77585718,"body_markdown":"For many of my projects I like to use the `org.jsonschema2pojo.jsonschema2pojo-maven-plugin` maven plugin in order to generate some POJO class from a json schema file. This works great and saves me from writing boiler plate code.\r\n\r\nHowever, I often treat these classes as final and immutable so I would like the ability to generate Java records instead so I can enforce those restrictions and get the performance enhancement that comes along with records. I&#39;ve gone through the [documentation][1] and the [GitLab repo][2] but I don&#39;t see any way to do this with this particular plugin.\r\n\r\nIs there something I&#39;ve missed or is there another plugin or library that offers this ability?\r\n\r\nEdit: Assume I&#39;ve done my research and Java records are in fact what I want/need. I don&#39;t want mutability, I don&#39;t want extendability, I&#39;m okay with exposing member fields, I want improved performance on comparison operations (.equals), and I want to leverage pattern matching.\r\n\r\n  [1]: https://joelittlejohn.github.io/jsonschema2pojo/site/1.2.1/generate-mojo.html\r\n  [2]: https://github.com/joelittlejohn/jsonschema2pojo","title":"Generate records from Json schema","body":"<p>For many of my projects I like to use the <code>org.jsonschema2pojo.jsonschema2pojo-maven-plugin</code> maven plugin in order to generate some POJO class from a json schema file. This works great and saves me from writing boiler plate code.</p>\n<p>However, I often treat these classes as final and immutable so I would like the ability to generate Java records instead so I can enforce those restrictions and get the performance enhancement that comes along with records. I've gone through the <a href=\"https://joelittlejohn.github.io/jsonschema2pojo/site/1.2.1/generate-mojo.html\" rel=\"nofollow noreferrer\">documentation</a> and the <a href=\"https://github.com/joelittlejohn/jsonschema2pojo\" rel=\"nofollow noreferrer\">GitLab repo</a> but I don't see any way to do this with this particular plugin.</p>\n<p>Is there something I've missed or is there another plugin or library that offers this ability?</p>\n<p>Edit: Assume I've done my research and Java records are in fact what I want/need. I don't want mutability, I don't want extendability, I'm okay with exposing member fields, I want improved performance on comparison operations (.equals), and I want to leverage pattern matching.</p>\n"},{"tags":["java","android","security","ssl","mobile"],"owner":{"account_id":18670050,"reputation":29,"user_id":13609095,"display_name":"Ian Marcony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701444246,"creation_date":1701444246,"question_id":77586323,"body_markdown":"I&#39;m using the PEM certificate alocated in AWS on S3, my application is using TLS Mutual and other verifications, but now I must implement SSL Pining. \r\nThis is my implementation: \r\n` public static OkHttpClient generateSecureOkHttpClient(Context context)  {\r\n\r\n        OkHttpClient.Builder httpClientBuilder = new OkHttpClient.Builder();\r\n        AssetManager assetManager = context.getAssets();\r\n        try{\r\n            InputStream caFileInputStream = assetManager.open(PFX_FILE);\r\n            KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n            keyStore.load(caFileInputStream, PASS_CERT.toCharArray());\r\n            KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(&quot;X509&quot;);\r\n            keyManagerFactory.init(keyStore, PASS_CERT.toCharArray());\r\n            SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n            sslContext.init(keyManagerFactory.getKeyManagers(),null, new SecureRandom());\r\n            SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\r\n            String publicKeyFingerprint = getPublicKeyFingerprint(context);\r\n            httpClientBuilder\r\n                    .sslSocketFactory(sslSocketFactory)\r\n                    .certificatePinner(getCertificatePinner(publicKeyFingerprint))\r\n                    .readTimeout(60, TimeUnit.SECONDS)\r\n                    .connectTimeout(60, TimeUnit.SECONDS);\r\n        }catch (KeyStoreException | CertificateException | NoSuchAlgorithmException | IOException | KeyManagementException | UnrecoverableKeyException e){\r\n            e.printStackTrace();\r\n        }\r\n        return httpClientBuilder\r\n                .build();\r\n    }\r\n\r\n    private static String getPublicKeyFingerprint(Context context) throws IOException {\r\n        String output = null;\r\n        try (InputStream caFileInputStream = context.getAssets().open(PATH_PEM_CERT)){\r\n            int available = caFileInputStream.available();\r\n            byte [] fileBytes = new byte[available];\r\n            caFileInputStream.read(fileBytes);\r\n            byte [] hashBytes = MessageDigest.getInstance(&quot;SHA-256&quot;).digest(fileBytes);\r\n            String hash = new BigInteger(1, hashBytes).toString(16);\r\n            output = String.format(&quot;sha256/%s=&quot;, hash);\r\n        }catch (IOException | NoSuchAlgorithmException e){\r\n            e.printStackTrace();\r\n        }\r\n        return output;\r\n    }\r\n\r\n    private static CertificatePinner getCertificatePinner(String publicKeyFingerprint){\r\n        CertificatePinner output = null;\r\n        CertificatePinner.Builder builder = new CertificatePinner.Builder();\r\n        builder.add(URL_PROD_SSL, publicKeyFingerprint);\r\n        output = builder.build();\r\n        return output;\r\n    }`\r\n\r\nIs My implementation correct? Is there other implementation that I could try?\r\n\r\nI tried use Certificate PFX, the second test was using his .crt file and now I&#39;m trying PEM certificate\r\nHow can I verify if my piner is ok?","title":"How can I verify if my implementation about SSL Pining using Retrofit is all right?","body":"<p>I'm using the PEM certificate alocated in AWS on S3, my application is using TLS Mutual and other verifications, but now I must implement SSL Pining.\nThis is my implementation:\n` public static OkHttpClient generateSecureOkHttpClient(Context context)  {</p>\n<pre><code>    OkHttpClient.Builder httpClientBuilder = new OkHttpClient.Builder();\n    AssetManager assetManager = context.getAssets();\n    try{\n        InputStream caFileInputStream = assetManager.open(PFX_FILE);\n        KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n        keyStore.load(caFileInputStream, PASS_CERT.toCharArray());\n        KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(&quot;X509&quot;);\n        keyManagerFactory.init(keyStore, PASS_CERT.toCharArray());\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslContext.init(keyManagerFactory.getKeyManagers(),null, new SecureRandom());\n        SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\n        String publicKeyFingerprint = getPublicKeyFingerprint(context);\n        httpClientBuilder\n                .sslSocketFactory(sslSocketFactory)\n                .certificatePinner(getCertificatePinner(publicKeyFingerprint))\n                .readTimeout(60, TimeUnit.SECONDS)\n                .connectTimeout(60, TimeUnit.SECONDS);\n    }catch (KeyStoreException | CertificateException | NoSuchAlgorithmException | IOException | KeyManagementException | UnrecoverableKeyException e){\n        e.printStackTrace();\n    }\n    return httpClientBuilder\n            .build();\n}\n\nprivate static String getPublicKeyFingerprint(Context context) throws IOException {\n    String output = null;\n    try (InputStream caFileInputStream = context.getAssets().open(PATH_PEM_CERT)){\n        int available = caFileInputStream.available();\n        byte [] fileBytes = new byte[available];\n        caFileInputStream.read(fileBytes);\n        byte [] hashBytes = MessageDigest.getInstance(&quot;SHA-256&quot;).digest(fileBytes);\n        String hash = new BigInteger(1, hashBytes).toString(16);\n        output = String.format(&quot;sha256/%s=&quot;, hash);\n    }catch (IOException | NoSuchAlgorithmException e){\n        e.printStackTrace();\n    }\n    return output;\n}\n\nprivate static CertificatePinner getCertificatePinner(String publicKeyFingerprint){\n    CertificatePinner output = null;\n    CertificatePinner.Builder builder = new CertificatePinner.Builder();\n    builder.add(URL_PROD_SSL, publicKeyFingerprint);\n    output = builder.build();\n    return output;\n}`\n</code></pre>\n<p>Is My implementation correct? Is there other implementation that I could try?</p>\n<p>I tried use Certificate PFX, the second test was using his .crt file and now I'm trying PEM certificate\nHow can I verify if my piner is ok?</p>\n"},{"tags":["java","javafx","tableview"],"comments":[{"owner":{"account_id":1126061,"reputation":2343,"user_id":2123050,"accept_rate":73,"display_name":"FuryFart"},"score":1,"creation_date":1701333524,"post_id":77576921,"comment_id":136763310,"body_markdown":"JavaFX components support observable properties. You can provide data to your table via ObservableList. Then do your filtering logic on ObservableList. The TableView will update itself accordingly.","body":"JavaFX components support observable properties. You can provide data to your table via ObservableList. Then do your filtering logic on ObservableList. The TableView will update itself accordingly."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1701333583,"post_id":77576921,"comment_id":136763320,"body_markdown":"You should have a model class that you&#39;re using as the item type of your table. Each column would then display one property from that model class, or possibly a value derived from those properties. Then you should have the `items` property of the table set to a `FilteredList`. When the search box updates, set a new filter on the `FilteredList` and the table will update automatically.","body":"You should have a model class that you&#39;re using as the item type of your table. Each column would then display one property from that model class, or possibly a value derived from those properties. Then you should have the <code>items</code> property of the table set to a <code>FilteredList</code>. When the search box updates, set a new filter on the <code>FilteredList</code> and the table will update automatically."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1701340107,"post_id":77576921,"comment_id":136764477,"body_markdown":"*”I want to search the cells content directly, not just the data”*. This doesn’t really make sense. Cells are only created for the visible portion of the data. If you used these for filtering, your filtering would not be able to consider data scrolled out of view, for example.","body":"<i>”I want to search the cells content directly, not just the data”</i>. This doesn’t really make sense. Cells are only created for the visible portion of the data. If you used these for filtering, your filtering would not be able to consider data scrolled out of view, for example."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1701353567,"post_id":77576921,"comment_id":136767068,"body_markdown":"It might help to create a [mre] demonstrating the issue. Just a small application with a table with one or two columns, and indicate where the scalability problem (the *&quot;which is tedious and time consuming ...&quot;* part) lies.","body":"It might help to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the issue. Just a small application with a table with one or two columns, and indicate where the scalability problem (the <i>&quot;which is tedious and time consuming ...&quot;</i> part) lies."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1701377066,"post_id":77576921,"comment_id":136771492,"body_markdown":"You mention *&quot;a boolean is represented as a checkbox with no text, which would not match the search &quot;false&quot;, the toString() method however would)&quot;* -&gt; I suggest creating a question (with the requested [mcve]), which demonstrates just the problem and making it clear what the requirements for that problem are.  For example, would the match to &quot;false&quot; be case insensitive, how would &quot;Y&quot; or &quot;N&quot; values be handled, etc.","body":"You mention <i>&quot;a boolean is represented as a checkbox with no text, which would not match the search &quot;false&quot;, the toString() method however would)&quot;</i> -&gt; I suggest creating a question (with the requested <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>), which demonstrates just the problem and making it clear what the requirements for that problem are.  For example, would the match to &quot;false&quot; be case insensitive, how would &quot;Y&quot; or &quot;N&quot; values be handled, etc."}],"answers":[{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1701361362,"creation_date":1701361362,"answer_id":77580029,"question_id":77576921,"body_markdown":"If I understand you correctly, you need to use `OR`/`||` in your filter. It&#39;s hard to know given that you posted zero code.\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.beans.property.SimpleStringProperty;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.collections.transformation.FilteredList;\r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TableView;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.control.cell.PropertyValueFactory;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.scene.text.Font;\r\nimport javafx.stage.Stage;\r\n\r\npublic class App extends Application\r\n{\r\n\r\n    private final TableView&lt;Person&gt; table = new TableView();\r\n    private final ObservableList&lt;Person&gt; data = FXCollections.observableArrayList(\r\n                                                    new Person(&quot;Jane&quot;, &quot;Smith&quot;, &quot;jacob.smith@example.com&quot;),\r\n                                                    new Person(&quot;Isabella&quot;, &quot;Jane&quot;, &quot;isabella.johnson@example.com&quot;),\r\n                                                    new Person(&quot;Ethan&quot;, &quot;Williams&quot;, &quot;ethan.Jane@example.com&quot;),\r\n                                                    new Person(&quot;Emma&quot;, &quot;Jones&quot;, &quot;emma.jones@example.com&quot;),\r\n                                                    new Person(&quot;Michael&quot;, &quot;Brown&quot;, &quot;michael.brown@example.com&quot;)\r\n                                                );\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage)\r\n    {\r\n        stage.setTitle(&quot;Table View Sample&quot;);\r\n        stage.setWidth(450);\r\n        stage.setHeight(550);\r\n\r\n        Label label = new Label(&quot;Address Book&quot;);\r\n        label.setFont(new Font(&quot;Arial&quot;, 20));\r\n\r\n        TableColumn firstNameCol = new TableColumn(&quot;First Name&quot;);\r\n        firstNameCol.setMinWidth(100);\r\n        firstNameCol.setCellValueFactory(new PropertyValueFactory&lt;Person, String&gt;(&quot;firstName&quot;));\r\n\r\n        TableColumn lastNameCol = new TableColumn(&quot;Last Name&quot;);\r\n        lastNameCol.setMinWidth(100);\r\n        lastNameCol.setCellValueFactory(new PropertyValueFactory&lt;Person, String&gt;(&quot;lastName&quot;));\r\n\r\n        TableColumn emailCol = new TableColumn(&quot;Email&quot;);\r\n        emailCol.setMinWidth(200);\r\n        emailCol.setCellValueFactory(new PropertyValueFactory&lt;Person, String&gt;(&quot;email&quot;));\r\n\r\n        FilteredList&lt;Person&gt; flPerson = new FilteredList(data, p -&gt; true);//Pass the data to a filtered list\r\n        table.setItems(flPerson);//Set the table&#39;s items using the filtered list\r\n        table.getColumns().addAll(firstNameCol, lastNameCol, emailCol);\r\n\r\n        TextField textField = new TextField();\r\n        textField.setPromptText(&quot;Search here!&quot;);\r\n        textField.textProperty().addListener((obs, oldValue, newValue) -&gt; {\r\n            flPerson.setPredicate((p) -&gt; {\r\n                return p.getFirstName().toLowerCase().contains(newValue.toLowerCase().trim()) || \r\n                p.getLastName().toLowerCase().contains(newValue.toLowerCase().trim()) ||\r\n                p.getEmail().toLowerCase().contains(newValue.toLowerCase().trim());           \r\n            });\r\n        });\r\n            \r\n        final VBox root = new VBox();\r\n        root.setSpacing(5);\r\n        root.setPadding(new Insets(10, 0, 0, 10));\r\n        root.getChildren().addAll(label, table, textField);\r\n\r\n        Scene scene = new Scene(root);\r\n\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n                \r\n    public static class Person\r\n    {\r\n        private final SimpleStringProperty firstName = new SimpleStringProperty();\r\n        private final SimpleStringProperty lastName = new SimpleStringProperty();\r\n        private final SimpleStringProperty email = new SimpleStringProperty();\r\n\r\n        private Person(String fName, String lName, String email)\r\n        {\r\n            this.firstName.setValue(fName);\r\n            this.lastName.setValue(lName);\r\n            this.email.setValue(email);\r\n        }\r\n\r\n        public String getFirstName()\r\n        {\r\n            return firstName.get();\r\n        }\r\n\r\n        public void setFirstName(String fName)\r\n        {\r\n            firstName.set(fName);\r\n        }\r\n        \r\n        public SimpleStringProperty getFirstNameProperty()\r\n        {\r\n            return firstName;\r\n        }\r\n        \r\n        public String getLastName()\r\n        {\r\n            return lastName.get();\r\n        }\r\n\r\n        public void setLastName(String fName)\r\n        {\r\n            lastName.set(fName);\r\n        }\r\n\r\n        public SimpleStringProperty getLastNameProperty()\r\n        {\r\n            return lastName;\r\n        }\r\n        \r\n        public String getEmail()\r\n        {\r\n            return email.get();\r\n        }\r\n\r\n        public void setEmail(String fName)\r\n        {\r\n            email.set(fName);\r\n        }\r\n        \r\n        public SimpleStringProperty getEmailProperty()\r\n        {\r\n            return email;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAltered code from https://stackoverflow.com/a/47560767/2423906\r\n\r\n**Output**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OaCGa.gif","title":"(Java FX) TableView access cell contents for searching","body":"<p>If I understand you correctly, you need to use <code>OR</code>/<code>||</code> in your filter. It's hard to know given that you posted zero code.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.collections.transformation.FilteredList;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.TextField;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.text.Font;\nimport javafx.stage.Stage;\n\npublic class App extends Application\n{\n\n    private final TableView&lt;Person&gt; table = new TableView();\n    private final ObservableList&lt;Person&gt; data = FXCollections.observableArrayList(\n                                                    new Person(&quot;Jane&quot;, &quot;Smith&quot;, &quot;jacob.smith@example.com&quot;),\n                                                    new Person(&quot;Isabella&quot;, &quot;Jane&quot;, &quot;isabella.johnson@example.com&quot;),\n                                                    new Person(&quot;Ethan&quot;, &quot;Williams&quot;, &quot;ethan.Jane@example.com&quot;),\n                                                    new Person(&quot;Emma&quot;, &quot;Jones&quot;, &quot;emma.jones@example.com&quot;),\n                                                    new Person(&quot;Michael&quot;, &quot;Brown&quot;, &quot;michael.brown@example.com&quot;)\n                                                );\n\n    public static void main(String[] args)\n    {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage stage)\n    {\n        stage.setTitle(&quot;Table View Sample&quot;);\n        stage.setWidth(450);\n        stage.setHeight(550);\n\n        Label label = new Label(&quot;Address Book&quot;);\n        label.setFont(new Font(&quot;Arial&quot;, 20));\n\n        TableColumn firstNameCol = new TableColumn(&quot;First Name&quot;);\n        firstNameCol.setMinWidth(100);\n        firstNameCol.setCellValueFactory(new PropertyValueFactory&lt;Person, String&gt;(&quot;firstName&quot;));\n\n        TableColumn lastNameCol = new TableColumn(&quot;Last Name&quot;);\n        lastNameCol.setMinWidth(100);\n        lastNameCol.setCellValueFactory(new PropertyValueFactory&lt;Person, String&gt;(&quot;lastName&quot;));\n\n        TableColumn emailCol = new TableColumn(&quot;Email&quot;);\n        emailCol.setMinWidth(200);\n        emailCol.setCellValueFactory(new PropertyValueFactory&lt;Person, String&gt;(&quot;email&quot;));\n\n        FilteredList&lt;Person&gt; flPerson = new FilteredList(data, p -&gt; true);//Pass the data to a filtered list\n        table.setItems(flPerson);//Set the table's items using the filtered list\n        table.getColumns().addAll(firstNameCol, lastNameCol, emailCol);\n\n        TextField textField = new TextField();\n        textField.setPromptText(&quot;Search here!&quot;);\n        textField.textProperty().addListener((obs, oldValue, newValue) -&gt; {\n            flPerson.setPredicate((p) -&gt; {\n                return p.getFirstName().toLowerCase().contains(newValue.toLowerCase().trim()) || \n                p.getLastName().toLowerCase().contains(newValue.toLowerCase().trim()) ||\n                p.getEmail().toLowerCase().contains(newValue.toLowerCase().trim());           \n            });\n        });\n            \n        final VBox root = new VBox();\n        root.setSpacing(5);\n        root.setPadding(new Insets(10, 0, 0, 10));\n        root.getChildren().addAll(label, table, textField);\n\n        Scene scene = new Scene(root);\n\n        stage.setScene(scene);\n        stage.show();\n    }\n                \n    public static class Person\n    {\n        private final SimpleStringProperty firstName = new SimpleStringProperty();\n        private final SimpleStringProperty lastName = new SimpleStringProperty();\n        private final SimpleStringProperty email = new SimpleStringProperty();\n\n        private Person(String fName, String lName, String email)\n        {\n            this.firstName.setValue(fName);\n            this.lastName.setValue(lName);\n            this.email.setValue(email);\n        }\n\n        public String getFirstName()\n        {\n            return firstName.get();\n        }\n\n        public void setFirstName(String fName)\n        {\n            firstName.set(fName);\n        }\n        \n        public SimpleStringProperty getFirstNameProperty()\n        {\n            return firstName;\n        }\n        \n        public String getLastName()\n        {\n            return lastName.get();\n        }\n\n        public void setLastName(String fName)\n        {\n            lastName.set(fName);\n        }\n\n        public SimpleStringProperty getLastNameProperty()\n        {\n            return lastName;\n        }\n        \n        public String getEmail()\n        {\n            return email.get();\n        }\n\n        public void setEmail(String fName)\n        {\n            email.set(fName);\n        }\n        \n        public SimpleStringProperty getEmailProperty()\n        {\n            return email;\n        }\n    }\n}\n</code></pre>\n<p>Altered code from <a href=\"https://stackoverflow.com/a/47560767/2423906\">https://stackoverflow.com/a/47560767/2423906</a></p>\n<p><strong>Output</strong></p>\n<p><a href=\"https://i.stack.imgur.com/OaCGa.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OaCGa.gif\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":29319987,"reputation":3,"user_id":22463817,"display_name":"Kathi"},"score":0,"creation_date":1701681383,"post_id":77581200,"comment_id":136801368,"body_markdown":"Thank you, this was indeed what I was asking and it seems to be the best way to solve my problem. And you are right: It is just tedious to refactor all the columns that are already implemented, not ones added in the future.","body":"Thank you, this was indeed what I was asking and it seems to be the best way to solve my problem. And you are right: It is just tedious to refactor all the columns that are already implemented, not ones added in the future."}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701443963,"creation_date":1701372525,"answer_id":77581200,"question_id":77576921,"body_markdown":"It&#39;s not entirely clear to me what you&#39;re asking, but it seems you want to filter a table view by the text actually displayed in the cells, without replicating code between the filter and the cell. There seems to be some concern that factoring this out into some external representation is not scalable:\r\n\r\n&gt; storing all the converters manually (which is tedious and time consuming, because there are a lot of different Entities)\r\n\r\nI dispute this assertion: the &quot;converter&quot; is just a function from the property type to a `String` which can be succinctly expressed as either a lambda expression or a method reference. Given you need to specify this at least once for each property no matter what you do, there seems to be no scalability issue to reuse this.\r\n\r\nFor example, given a model class for your table data which I&#39;ll call `Friend` (shown later), you can define\r\n\r\n\r\n```\r\nprivate record ColumnSpec&lt;T&gt;(String title, Function&lt;Friend, ObservableValue&lt;T&gt;&gt; property, Function&lt;T, String&gt; formatter) {}\r\n```\r\n\r\nand create a list of these, one for each column:\r\n\r\n        List&lt;ColumnSpec&lt;?&gt;&gt; columns = List.of(\r\n                new ColumnSpec&lt;&gt;(&quot;First Name&quot;, Friend::firstNameProperty, Function.identity()),\r\n                new ColumnSpec&lt;&gt;(&quot;Last Name&quot;, Friend::lastNameProperty, Function.identity()),\r\n                new ColumnSpec&lt;&gt;( &quot;Email&quot;, Friend::emailProperty, String::toLowerCase),\r\n                new ColumnSpec&lt;&gt;(&quot;Birthday&quot;, Friend::birthdayProperty, formatter::format)\r\n        );\r\n\r\nThen you can easily create filtering which reference these:\r\n\r\n    private &lt;T&gt; boolean match(Friend friend, ColumnSpec&lt;T&gt; column, String searchText) {\r\n        T propertyValue = column.property().apply(friend).getValue();\r\n        String formattedValue = column.formatter().apply(propertyValue);\r\n        return formattedValue.contains(searchText);\r\n    }\r\n\r\nwith, for example,\r\n\r\n        ObservableList&lt;Friend&gt; allFriends = FXCollections.observableArrayList();\r\n        FilteredList&lt;Friend&gt; filteredFriends = allFriends.filtered(f -&gt; true);\r\n        table.setItems(filteredFriends);\r\n\r\n        TextField searchField = new TextField();\r\n        searchField.textProperty().addListener((obs, oldSearch, newSearch) -&gt; {\r\n            String search = newSearch.trim();\r\n            if (search.isBlank()) {\r\n                filteredFriends.setPredicate(friend -&gt; true);\r\n            } else {\r\n                filteredFriends.setPredicate(friend -&gt; {\r\n                    for (ColumnSpec&lt;?&gt; column : columns) {\r\n                        if (match(friend, column, search)) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                    return false;\r\n                });\r\n            }\r\n        });\r\n\r\nand you can additionally create the columns from them:\r\n\r\n    private &lt;T&gt; TableColumn&lt;Friend, T&gt; createColumn(ColumnSpec&lt;T&gt; col) {\r\n        TableColumn&lt;Friend, T&gt; column = new TableColumn&lt;&gt;(col.title());\r\n        column.setCellValueFactory(data -&gt; col.property().apply(data.getValue()));\r\n        column.setCellFactory(tc -&gt; new TableCell&lt;&gt;() {\r\n            @Override\r\n            protected void updateItem(T item, boolean empty) {\r\n                super.updateItem(item, empty);\r\n                if (empty || item == null) {\r\n                    setText(&quot;&quot;);\r\n                } else {\r\n                    setText(col.formatter().apply(item));\r\n                }\r\n            }\r\n        });\r\n        return column;\r\n    }\r\n\r\nwith\r\n\r\n        for (ColumnSpec&lt;?&gt; column : columns) {\r\n            table.getColumns().add(createColumn(column));\r\n        }\r\n\r\n\r\nThe chunk of code that begins `List&lt;ColumnSpec&gt; columns =` has `O(n)` lines of code (each being pretty succinct) for `n` columns, and the remaining code is identical no matter how many columns you have.\r\n\r\nHere is a complete example, which is just a minor adaptation of [another answer in this post](https://stackoverflow.com/a/77580029/2189127):\r\n\r\n```\r\npackage org.jamesd.examples.tabledemo;\r\n\r\nimport javafx.beans.property.ObjectProperty;\r\nimport javafx.beans.property.SimpleObjectProperty;\r\nimport javafx.beans.property.SimpleStringProperty;\r\nimport javafx.beans.property.StringProperty;\r\n\r\nimport java.time.LocalDate;\r\n\r\npublic class Friend {\r\n    private final StringProperty firstName = new SimpleStringProperty();\r\n    private final StringProperty lastName = new SimpleStringProperty();\r\n    private final StringProperty email = new SimpleStringProperty();\r\n    private final ObjectProperty&lt;LocalDate&gt; birthday = new SimpleObjectProperty&lt;&gt;();\r\n\r\n    public Friend(String firstName, String lastName, String email, LocalDate birthday) {\r\n        setFirstName(firstName);\r\n        setLastName(lastName);\r\n        setEmail(email);\r\n        setBirthday(birthday);\r\n    }\r\n\r\n    public final String getFirstName() {\r\n        return firstNameProperty().get();\r\n    }\r\n\r\n    public StringProperty firstNameProperty() {\r\n        return firstName;\r\n    }\r\n\r\n    public final void setFirstName(String firstName) {\r\n        this.firstNameProperty().set(firstName);\r\n    }\r\n\r\n    public final String getLastName() {\r\n        return lastNameProperty().get();\r\n    }\r\n\r\n    public StringProperty lastNameProperty() {\r\n        return lastName;\r\n    }\r\n\r\n    public final void setLastName(String lastName) {\r\n        this.lastNameProperty().set(lastName);\r\n    }\r\n\r\n    public final LocalDate getBirthday() {\r\n        return birthdayProperty().get();\r\n    }\r\n\r\n    public ObjectProperty&lt;LocalDate&gt; birthdayProperty() {\r\n        return birthday;\r\n    }\r\n\r\n    public final void setBirthday(LocalDate birthday) {\r\n        this.birthdayProperty().set(birthday);\r\n    }\r\n\r\n    public final String getEmail() {\r\n        return emailProperty().get();\r\n    }\r\n\r\n    public StringProperty emailProperty() {\r\n        return email;\r\n    }\r\n\r\n    public final void setEmail(String email) {\r\n        this.emailProperty().set(email);\r\n    }\r\n}\r\n``` \r\n\r\n```\r\npackage org.jamesd.examples.tabledemo;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.beans.value.ObservableValue;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.collections.transformation.FilteredList;\r\nimport javafx.geometry.Insets;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.TableCell;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TableView;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.time.LocalDate;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.List;\r\nimport java.util.function.Function;\r\n\r\npublic class HelloApplication extends Application {\r\n\r\n    private record ColumnSpec&lt;T&gt;(String title, Function&lt;Friend, ObservableValue&lt;T&gt;&gt; property, Function&lt;T, String&gt; formatter) {}\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;YYYY-MM-dd&quot;);\r\n        List&lt;ColumnSpec&gt; columns = List.of(\r\n                new ColumnSpec&lt;&gt;(&quot;First Name&quot;, Friend::firstNameProperty, Function.identity()),\r\n                new ColumnSpec&lt;&gt;(&quot;Last Name&quot;, Friend::lastNameProperty, Function.identity()),\r\n                new ColumnSpec&lt;&gt;( &quot;Email&quot;, Friend::emailProperty, String::toLowerCase),\r\n                new ColumnSpec&lt;&gt;(&quot;Birthday&quot;, Friend::birthdayProperty, formatter::format)\r\n        );\r\n\r\n        TableView&lt;Friend&gt; table = new TableView&lt;&gt;();\r\n        ObservableList&lt;Friend&gt; allFriends = FXCollections.observableArrayList();\r\n        FilteredList&lt;Friend&gt; filteredFriends = allFriends.filtered(f -&gt; true);\r\n        table.setItems(filteredFriends);\r\n\r\n        TextField searchField = new TextField();\r\n        searchField.textProperty().addListener((obs, oldSearch, newSearch) -&gt; {\r\n            String search = newSearch.trim();\r\n            if (search.isBlank()) {\r\n                filteredFriends.setPredicate(friend -&gt; true);\r\n            } else {\r\n                filteredFriends.setPredicate(friend -&gt; {\r\n                    for (ColumnSpec&lt;?&gt; column : columns) {\r\n                        if (match(friend, column, search)) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                    return false;\r\n                });\r\n            }\r\n        });\r\n\r\n        for (ColumnSpec&lt;?&gt; column : columns) {\r\n            table.getColumns().add(createColumn(column));\r\n        }\r\n\r\n        allFriends.setAll(\r\n                new Friend(&quot;Jane&quot;, &quot;Smith&quot;, &quot;jacob.smith@example.com&quot;, LocalDate.of(2001, 5, 30)),\r\n                new Friend(&quot;Isabella&quot;, &quot;Jane&quot;, &quot;isabella.johnson@example.com&quot;, LocalDate.of(2003, 3, 25)),\r\n                new Friend(&quot;Ethan&quot;, &quot;Williams&quot;, &quot;ethan.Jane@example.com&quot;, LocalDate.of(1995, 3, 25)),\r\n                new Friend(&quot;Emma&quot;, &quot;Jones&quot;, &quot;emma.jones@example.com&quot;, LocalDate.of(2005, 5, 3)),\r\n                new Friend(&quot;Michael&quot;, &quot;Brown&quot;, &quot;michael.brown@example.com&quot;, LocalDate.of(1998, 10, 5))\r\n        );\r\n\r\n        BorderPane root = new BorderPane(table);\r\n        root.setTop(searchField);\r\n        BorderPane.setAlignment(searchField, Pos.CENTER);\r\n        BorderPane.setMargin(searchField, new Insets(5));\r\n        root.setPadding(new Insets(5));\r\n        Scene scene = new Scene(root, 600, 400);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    private &lt;T&gt; boolean match(Friend friend, ColumnSpec&lt;T&gt; column, String searchText) {\r\n        T propertyValue = column.property().apply(friend).getValue();\r\n        String formattedValue = column.formatter().apply(propertyValue);\r\n        return formattedValue.contains(searchText);\r\n    }\r\n\r\n    private &lt;T&gt; TableColumn&lt;Friend, T&gt; createColumn(ColumnSpec&lt;T&gt; col) {\r\n        TableColumn&lt;Friend, T&gt; column = new TableColumn&lt;&gt;(col.title());\r\n        column.setCellValueFactory(data -&gt; col.property().apply(data.getValue()));\r\n        column.setCellFactory(tc -&gt; new TableCell&lt;&gt;() {\r\n            @Override\r\n            protected void updateItem(T item, boolean empty) {\r\n                super.updateItem(item, empty);\r\n                if (empty || item == null) {\r\n                    setText(&quot;&quot;);\r\n                } else {\r\n                    setText(col.formatter().apply(item));\r\n                }\r\n            }\r\n        });\r\n        return column;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```","title":"(Java FX) TableView access cell contents for searching","body":"<p>It's not entirely clear to me what you're asking, but it seems you want to filter a table view by the text actually displayed in the cells, without replicating code between the filter and the cell. There seems to be some concern that factoring this out into some external representation is not scalable:</p>\n<blockquote>\n<p>storing all the converters manually (which is tedious and time consuming, because there are a lot of different Entities)</p>\n</blockquote>\n<p>I dispute this assertion: the &quot;converter&quot; is just a function from the property type to a <code>String</code> which can be succinctly expressed as either a lambda expression or a method reference. Given you need to specify this at least once for each property no matter what you do, there seems to be no scalability issue to reuse this.</p>\n<p>For example, given a model class for your table data which I'll call <code>Friend</code> (shown later), you can define</p>\n<pre><code>private record ColumnSpec&lt;T&gt;(String title, Function&lt;Friend, ObservableValue&lt;T&gt;&gt; property, Function&lt;T, String&gt; formatter) {}\n</code></pre>\n<p>and create a list of these, one for each column:</p>\n<pre><code>    List&lt;ColumnSpec&lt;?&gt;&gt; columns = List.of(\n            new ColumnSpec&lt;&gt;(&quot;First Name&quot;, Friend::firstNameProperty, Function.identity()),\n            new ColumnSpec&lt;&gt;(&quot;Last Name&quot;, Friend::lastNameProperty, Function.identity()),\n            new ColumnSpec&lt;&gt;( &quot;Email&quot;, Friend::emailProperty, String::toLowerCase),\n            new ColumnSpec&lt;&gt;(&quot;Birthday&quot;, Friend::birthdayProperty, formatter::format)\n    );\n</code></pre>\n<p>Then you can easily create filtering which reference these:</p>\n<pre><code>private &lt;T&gt; boolean match(Friend friend, ColumnSpec&lt;T&gt; column, String searchText) {\n    T propertyValue = column.property().apply(friend).getValue();\n    String formattedValue = column.formatter().apply(propertyValue);\n    return formattedValue.contains(searchText);\n}\n</code></pre>\n<p>with, for example,</p>\n<pre><code>    ObservableList&lt;Friend&gt; allFriends = FXCollections.observableArrayList();\n    FilteredList&lt;Friend&gt; filteredFriends = allFriends.filtered(f -&gt; true);\n    table.setItems(filteredFriends);\n\n    TextField searchField = new TextField();\n    searchField.textProperty().addListener((obs, oldSearch, newSearch) -&gt; {\n        String search = newSearch.trim();\n        if (search.isBlank()) {\n            filteredFriends.setPredicate(friend -&gt; true);\n        } else {\n            filteredFriends.setPredicate(friend -&gt; {\n                for (ColumnSpec&lt;?&gt; column : columns) {\n                    if (match(friend, column, search)) {\n                        return true;\n                    }\n                }\n                return false;\n            });\n        }\n    });\n</code></pre>\n<p>and you can additionally create the columns from them:</p>\n<pre><code>private &lt;T&gt; TableColumn&lt;Friend, T&gt; createColumn(ColumnSpec&lt;T&gt; col) {\n    TableColumn&lt;Friend, T&gt; column = new TableColumn&lt;&gt;(col.title());\n    column.setCellValueFactory(data -&gt; col.property().apply(data.getValue()));\n    column.setCellFactory(tc -&gt; new TableCell&lt;&gt;() {\n        @Override\n        protected void updateItem(T item, boolean empty) {\n            super.updateItem(item, empty);\n            if (empty || item == null) {\n                setText(&quot;&quot;);\n            } else {\n                setText(col.formatter().apply(item));\n            }\n        }\n    });\n    return column;\n}\n</code></pre>\n<p>with</p>\n<pre><code>    for (ColumnSpec&lt;?&gt; column : columns) {\n        table.getColumns().add(createColumn(column));\n    }\n</code></pre>\n<p>The chunk of code that begins <code>List&lt;ColumnSpec&gt; columns =</code> has <code>O(n)</code> lines of code (each being pretty succinct) for <code>n</code> columns, and the remaining code is identical no matter how many columns you have.</p>\n<p>Here is a complete example, which is just a minor adaptation of <a href=\"https://stackoverflow.com/a/77580029/2189127\">another answer in this post</a>:</p>\n<pre><code>package org.jamesd.examples.tabledemo;\n\nimport javafx.beans.property.ObjectProperty;\nimport javafx.beans.property.SimpleObjectProperty;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.beans.property.StringProperty;\n\nimport java.time.LocalDate;\n\npublic class Friend {\n    private final StringProperty firstName = new SimpleStringProperty();\n    private final StringProperty lastName = new SimpleStringProperty();\n    private final StringProperty email = new SimpleStringProperty();\n    private final ObjectProperty&lt;LocalDate&gt; birthday = new SimpleObjectProperty&lt;&gt;();\n\n    public Friend(String firstName, String lastName, String email, LocalDate birthday) {\n        setFirstName(firstName);\n        setLastName(lastName);\n        setEmail(email);\n        setBirthday(birthday);\n    }\n\n    public final String getFirstName() {\n        return firstNameProperty().get();\n    }\n\n    public StringProperty firstNameProperty() {\n        return firstName;\n    }\n\n    public final void setFirstName(String firstName) {\n        this.firstNameProperty().set(firstName);\n    }\n\n    public final String getLastName() {\n        return lastNameProperty().get();\n    }\n\n    public StringProperty lastNameProperty() {\n        return lastName;\n    }\n\n    public final void setLastName(String lastName) {\n        this.lastNameProperty().set(lastName);\n    }\n\n    public final LocalDate getBirthday() {\n        return birthdayProperty().get();\n    }\n\n    public ObjectProperty&lt;LocalDate&gt; birthdayProperty() {\n        return birthday;\n    }\n\n    public final void setBirthday(LocalDate birthday) {\n        this.birthdayProperty().set(birthday);\n    }\n\n    public final String getEmail() {\n        return emailProperty().get();\n    }\n\n    public StringProperty emailProperty() {\n        return email;\n    }\n\n    public final void setEmail(String email) {\n        this.emailProperty().set(email);\n    }\n}\n</code></pre>\n<pre><code>package org.jamesd.examples.tabledemo;\n\nimport javafx.application.Application;\nimport javafx.beans.value.ObservableValue;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.collections.transformation.FilteredList;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.TableCell;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\n\nimport java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.List;\nimport java.util.function.Function;\n\npublic class HelloApplication extends Application {\n\n    private record ColumnSpec&lt;T&gt;(String title, Function&lt;Friend, ObservableValue&lt;T&gt;&gt; property, Function&lt;T, String&gt; formatter) {}\n\n    @Override\n    public void start(Stage stage) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;YYYY-MM-dd&quot;);\n        List&lt;ColumnSpec&gt; columns = List.of(\n                new ColumnSpec&lt;&gt;(&quot;First Name&quot;, Friend::firstNameProperty, Function.identity()),\n                new ColumnSpec&lt;&gt;(&quot;Last Name&quot;, Friend::lastNameProperty, Function.identity()),\n                new ColumnSpec&lt;&gt;( &quot;Email&quot;, Friend::emailProperty, String::toLowerCase),\n                new ColumnSpec&lt;&gt;(&quot;Birthday&quot;, Friend::birthdayProperty, formatter::format)\n        );\n\n        TableView&lt;Friend&gt; table = new TableView&lt;&gt;();\n        ObservableList&lt;Friend&gt; allFriends = FXCollections.observableArrayList();\n        FilteredList&lt;Friend&gt; filteredFriends = allFriends.filtered(f -&gt; true);\n        table.setItems(filteredFriends);\n\n        TextField searchField = new TextField();\n        searchField.textProperty().addListener((obs, oldSearch, newSearch) -&gt; {\n            String search = newSearch.trim();\n            if (search.isBlank()) {\n                filteredFriends.setPredicate(friend -&gt; true);\n            } else {\n                filteredFriends.setPredicate(friend -&gt; {\n                    for (ColumnSpec&lt;?&gt; column : columns) {\n                        if (match(friend, column, search)) {\n                            return true;\n                        }\n                    }\n                    return false;\n                });\n            }\n        });\n\n        for (ColumnSpec&lt;?&gt; column : columns) {\n            table.getColumns().add(createColumn(column));\n        }\n\n        allFriends.setAll(\n                new Friend(&quot;Jane&quot;, &quot;Smith&quot;, &quot;jacob.smith@example.com&quot;, LocalDate.of(2001, 5, 30)),\n                new Friend(&quot;Isabella&quot;, &quot;Jane&quot;, &quot;isabella.johnson@example.com&quot;, LocalDate.of(2003, 3, 25)),\n                new Friend(&quot;Ethan&quot;, &quot;Williams&quot;, &quot;ethan.Jane@example.com&quot;, LocalDate.of(1995, 3, 25)),\n                new Friend(&quot;Emma&quot;, &quot;Jones&quot;, &quot;emma.jones@example.com&quot;, LocalDate.of(2005, 5, 3)),\n                new Friend(&quot;Michael&quot;, &quot;Brown&quot;, &quot;michael.brown@example.com&quot;, LocalDate.of(1998, 10, 5))\n        );\n\n        BorderPane root = new BorderPane(table);\n        root.setTop(searchField);\n        BorderPane.setAlignment(searchField, Pos.CENTER);\n        BorderPane.setMargin(searchField, new Insets(5));\n        root.setPadding(new Insets(5));\n        Scene scene = new Scene(root, 600, 400);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    private &lt;T&gt; boolean match(Friend friend, ColumnSpec&lt;T&gt; column, String searchText) {\n        T propertyValue = column.property().apply(friend).getValue();\n        String formattedValue = column.formatter().apply(propertyValue);\n        return formattedValue.contains(searchText);\n    }\n\n    private &lt;T&gt; TableColumn&lt;Friend, T&gt; createColumn(ColumnSpec&lt;T&gt; col) {\n        TableColumn&lt;Friend, T&gt; column = new TableColumn&lt;&gt;(col.title());\n        column.setCellValueFactory(data -&gt; col.property().apply(data.getValue()));\n        column.setCellFactory(tc -&gt; new TableCell&lt;&gt;() {\n            @Override\n            protected void updateItem(T item, boolean empty) {\n                super.updateItem(item, empty);\n                if (empty || item == null) {\n                    setText(&quot;&quot;);\n                } else {\n                    setText(col.formatter().apply(item));\n                }\n            }\n        });\n        return column;\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29319987,"reputation":3,"user_id":22463817,"display_name":"Kathi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77581200,"answer_count":2,"score":0,"last_activity_date":1701443963,"creation_date":1701332894,"question_id":77576921,"body_markdown":"I am currently working on implementing a search box, which should search through all rows and columns of a (Filtered)TableView. I want the search box to filter items directly in the table and only show rows where the search-string matches any of the text in any of the currently displayed columns (as a user would expect).\r\n\r\nHerein lies my problem: I want to search **the cells content directly, not just the data**. \r\nI can&#39;t use toString() for each data object, because toString() and the displayed value may vastly differ (f.e. a boolean is represented as a checkbox with no text, which would not match the search &quot;false&quot;, the toString() method however would). \r\nI tried generating an empty cell with the cellValueFactory for each column and filling it with data, but I can&#39;t access the updateItem()-Method (it&#39;s protected), which generates the cell and according to the docs I shouldn&#39;t do that anyway.\r\n\r\n\r\nOther than implementing a cell, which makes updateItem() public (which probably shouldn&#39;t be done), or storing all the converters manually (which is tedious and time consuming, because there are a lot of different Entities), do you know of any better solution for searching in a tableView?","title":"(Java FX) TableView access cell contents for searching","body":"<p>I am currently working on implementing a search box, which should search through all rows and columns of a (Filtered)TableView. I want the search box to filter items directly in the table and only show rows where the search-string matches any of the text in any of the currently displayed columns (as a user would expect).</p>\n<p>Herein lies my problem: I want to search <strong>the cells content directly, not just the data</strong>.\nI can't use toString() for each data object, because toString() and the displayed value may vastly differ (f.e. a boolean is represented as a checkbox with no text, which would not match the search &quot;false&quot;, the toString() method however would).\nI tried generating an empty cell with the cellValueFactory for each column and filling it with data, but I can't access the updateItem()-Method (it's protected), which generates the cell and according to the docs I shouldn't do that anyway.</p>\n<p>Other than implementing a cell, which makes updateItem() public (which probably shouldn't be done), or storing all the converters manually (which is tedious and time consuming, because there are a lot of different Entities), do you know of any better solution for searching in a tableView?</p>\n"},{"tags":["java","android","android-studio","navigation-drawer"],"answers":[{"tags":[],"owner":{"account_id":22090632,"reputation":9,"user_id":16348740,"display_name":"Samuel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701443962,"creation_date":1701443962,"answer_id":77586298,"question_id":77586221,"body_markdown":"check you setDisplayHomeAsUpEnabled its returning a null obj","title":"Error when running project with Navigation Drawer","body":"<p>check you setDisplayHomeAsUpEnabled its returning a null obj</p>\n"}],"owner":{"account_id":29893483,"reputation":1,"user_id":22909049,"display_name":"Nathan Diep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701443962,"creation_date":1701443178,"question_id":77586221,"body_markdown":"I tried to run the Navigation Drawer in the project but got an error.\r\nI&#39;m a student and I encountered this problem in a project I was working on.\r\nBecause I&#39;m not good at English, I have to use Google Translate to write. Hope you guys understand what I want to say. Thanks a lot.\r\n\r\nThe error is as follows:\r\n\r\n```\r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.ce160343.exe_4/com.ce160343.exe_4.TestActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void androidx.appcompat.app.ActionBar.setDisplayHomeAsUpEnabled(boolean)&#39; on a null object reference\r\n                                                                                                    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2464)\r\n                                                                                                    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2524)\r\n                                                                                                    \tat android.app.ActivityThread.access$900(ActivityThread.java:154)\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1391)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:234)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:5526)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n                                                                                                    Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void androidx.appcompat.app.ActionBar.setDisplayHomeAsUpEnabled(boolean)&#39; on a null object reference\r\n                                                                                                    \tat com.ce160343.exe_4.TestActivity.onCreate(TestActivity.java:28)\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:6285)\r\n                                                                                                    \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1108)\r\n                                                                                                    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2417)\r\n                                                                                                    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2524)&#160;\r\n                                                                                                    \tat android.app.ActivityThread.access$900(ActivityThread.java:154)&#160;\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1391)&#160;\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:234)&#160;\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:5526)&#160;\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)&#160;\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)&#160;\r\n```\r\n\r\n\r\nTestActivity:\r\n\r\n```\r\npackage com.ce160343.exe_4;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.ActionBarDrawerToggle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\n\r\npublic class TestActivity extends AppCompatActivity {\r\n    public DrawerLayout drawerLayout;\r\n    public ActionBarDrawerToggle actionBarDrawerToggle;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_test);\r\n\r\n        drawerLayout = findViewById(R.id.my_drawer_layout);\r\n        actionBarDrawerToggle = new ActionBarDrawerToggle(TestActivity.this, drawerLayout, R.string.nav_open, R.string.nav_close);\r\n\r\n        drawerLayout.addDrawerListener(actionBarDrawerToggle);\r\n        actionBarDrawerToggle.syncState();\r\n\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n    }\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n\r\n        if (actionBarDrawerToggle.onOptionsItemSelected(item)) {\r\n            return true;\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n}\r\n```\r\nactivity_test.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.drawerlayout.widget.DrawerLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/my_drawer_layout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.TestActivity&quot;\r\n    tools:ignore=&quot;HardcodedText&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;128dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;Name&quot;\r\n            android:textSize=&quot;18sp&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;com.google.android.material.navigation.NavigationView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;start&quot;\r\n        app:menu=&quot;@menu/navigation_menu&quot; /&gt;\r\n\r\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n```\r\nnavigation_menu:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    tools:ignore=&quot;HardcodedText&quot;&gt;\r\n\r\n    &lt;group android:checkableBehavior=&quot;single&quot;&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/nav_kp&quot;\r\n            android:title=&quot;@string/nav_kp&quot;\r\n            android:icon=&quot;@drawable/ic_kp&quot;\r\n            /&gt;\r\n\r\n        &lt;item\r\n            android:id=&quot;@+id/nav_dvm&quot;\r\n            android:title=&quot;@string/nav_dvm&quot;\r\n            android:icon=&quot;@drawable/ic_dvm&quot;\r\n            /&gt;\r\n\r\n        &lt;item\r\n            android:id=&quot;@+id/nav_gmnb&quot;\r\n            android:title=&quot;@string/nav_gmnb&quot;\r\n            android:icon=&quot;@drawable/ic_gmnb&quot;/&gt;\r\n\r\n        &lt;item\r\n            android:id=&quot;@+id/nav_dsyt&quot;\r\n            android:title=&quot;@string/nav_dsyt&quot;\r\n            android:icon=&quot;@drawable/ic_dsyt&quot;/&gt;\r\n\r\n        &lt;item\r\n            android:id=&quot;@+id/nav_dv&quot;\r\n            android:title=&quot;@string/nav_dv&quot;\r\n            android:icon=&quot;@drawable/ic_dv&quot;/&gt;\r\n\r\n        &lt;item\r\n            android:id=&quot;@+id/nav_eykh&quot;\r\n            android:title=&quot;@string/nav_eykh&quot;\r\n            android:icon=&quot;@drawable/ic_eykh&quot;/&gt;\r\n\r\n        &lt;item\r\n            android:id=&quot;@+id/nav_cstc&quot;\r\n            android:title=&quot;@string/nav_cstc&quot;\r\n            android:icon=&quot;@drawable/ic_cstc&quot;/&gt;\r\n\r\n        &lt;item\r\n            android:id=&quot;@+id/nav_hd&quot;\r\n            android:title=&quot;@string/nav_hd&quot;\r\n            android:icon=&quot;@drawable/ic_hd&quot;/&gt;\r\n\r\n        &lt;item\r\n            android:id=&quot;@+id/nav_tg&quot;\r\n            android:title=&quot;@string/nav_tg&quot;\r\n            android:icon=&quot;@drawable/ic_tg&quot;/&gt;\r\n    &lt;/group&gt;\r\n\r\n\r\n&lt;/menu&gt;\r\n```","title":"Error when running project with Navigation Drawer","body":"<p>I tried to run the Navigation Drawer in the project but got an error.\nI'm a student and I encountered this problem in a project I was working on.\nBecause I'm not good at English, I have to use Google Translate to write. Hope you guys understand what I want to say. Thanks a lot.</p>\n<p>The error is as follows:</p>\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.ce160343.exe_4/com.ce160343.exe_4.TestActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'void androidx.appcompat.app.ActionBar.setDisplayHomeAsUpEnabled(boolean)' on a null object reference\n                                                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2464)\n                                                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2524)\n                                                                                                        at android.app.ActivityThread.access$900(ActivityThread.java:154)\n                                                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1391)\n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                                                                        at android.os.Looper.loop(Looper.java:234)\n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:5526)\n                                                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n                                                                                                    Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void androidx.appcompat.app.ActionBar.setDisplayHomeAsUpEnabled(boolean)' on a null object reference\n                                                                                                        at com.ce160343.exe_4.TestActivity.onCreate(TestActivity.java:28)\n                                                                                                        at android.app.Activity.performCreate(Activity.java:6285)\n                                                                                                        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1108)\n                                                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2417)\n                                                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2524) \n                                                                                                        at android.app.ActivityThread.access$900(ActivityThread.java:154) \n                                                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1391) \n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:102) \n                                                                                                        at android.os.Looper.loop(Looper.java:234) \n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:5526) \n                                                                                                        at java.lang.reflect.Method.invoke(Native Method) \n                                                                                                        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726) \n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616) \n</code></pre>\n<p>TestActivity:</p>\n<pre><code>package com.ce160343.exe_4;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.ActionBarDrawerToggle;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.drawerlayout.widget.DrawerLayout;\n\nimport android.os.Bundle;\nimport android.view.MenuItem;\n\npublic class TestActivity extends AppCompatActivity {\n    public DrawerLayout drawerLayout;\n    public ActionBarDrawerToggle actionBarDrawerToggle;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_test);\n\n        drawerLayout = findViewById(R.id.my_drawer_layout);\n        actionBarDrawerToggle = new ActionBarDrawerToggle(TestActivity.this, drawerLayout, R.string.nav_open, R.string.nav_close);\n\n        drawerLayout.addDrawerListener(actionBarDrawerToggle);\n        actionBarDrawerToggle.syncState();\n\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n    }\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n\n        if (actionBarDrawerToggle.onOptionsItemSelected(item)) {\n            return true;\n        }\n        return super.onOptionsItemSelected(item);\n    }\n}\n</code></pre>\n<p>activity_test.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/my_drawer_layout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.TestActivity&quot;\n    tools:ignore=&quot;HardcodedText&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;128dp&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;Name&quot;\n            android:textSize=&quot;18sp&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;start&quot;\n        app:menu=&quot;@menu/navigation_menu&quot; /&gt;\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n<p>navigation_menu:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    tools:ignore=&quot;HardcodedText&quot;&gt;\n\n    &lt;group android:checkableBehavior=&quot;single&quot;&gt;\n        &lt;item\n            android:id=&quot;@+id/nav_kp&quot;\n            android:title=&quot;@string/nav_kp&quot;\n            android:icon=&quot;@drawable/ic_kp&quot;\n            /&gt;\n\n        &lt;item\n            android:id=&quot;@+id/nav_dvm&quot;\n            android:title=&quot;@string/nav_dvm&quot;\n            android:icon=&quot;@drawable/ic_dvm&quot;\n            /&gt;\n\n        &lt;item\n            android:id=&quot;@+id/nav_gmnb&quot;\n            android:title=&quot;@string/nav_gmnb&quot;\n            android:icon=&quot;@drawable/ic_gmnb&quot;/&gt;\n\n        &lt;item\n            android:id=&quot;@+id/nav_dsyt&quot;\n            android:title=&quot;@string/nav_dsyt&quot;\n            android:icon=&quot;@drawable/ic_dsyt&quot;/&gt;\n\n        &lt;item\n            android:id=&quot;@+id/nav_dv&quot;\n            android:title=&quot;@string/nav_dv&quot;\n            android:icon=&quot;@drawable/ic_dv&quot;/&gt;\n\n        &lt;item\n            android:id=&quot;@+id/nav_eykh&quot;\n            android:title=&quot;@string/nav_eykh&quot;\n            android:icon=&quot;@drawable/ic_eykh&quot;/&gt;\n\n        &lt;item\n            android:id=&quot;@+id/nav_cstc&quot;\n            android:title=&quot;@string/nav_cstc&quot;\n            android:icon=&quot;@drawable/ic_cstc&quot;/&gt;\n\n        &lt;item\n            android:id=&quot;@+id/nav_hd&quot;\n            android:title=&quot;@string/nav_hd&quot;\n            android:icon=&quot;@drawable/ic_hd&quot;/&gt;\n\n        &lt;item\n            android:id=&quot;@+id/nav_tg&quot;\n            android:title=&quot;@string/nav_tg&quot;\n            android:icon=&quot;@drawable/ic_tg&quot;/&gt;\n    &lt;/group&gt;\n\n\n&lt;/menu&gt;\n</code></pre>\n"},{"tags":["java","intellij-idea","switch-statement"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1681735113,"post_id":76035021,"comment_id":134099695,"body_markdown":"I do not use IDEA but can&#39;t you choose which warnings it shows? Despite I never heard of &quot;enhanced&quot; switch. AFAIK in the Java Language Specification there is only an enhanced `for` - a switch can be a switch statement or a switch expression; both accept switch rules or switch block statements","body":"I do not use IDEA but can&#39;t you choose which warnings it shows? Despite I never heard of &quot;enhanced&quot; switch. AFAIK in the Java Language Specification there is only an enhanced <code>for</code> - a switch can be a switch statement or a switch expression; both accept switch rules or switch block statements"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1681904806,"post_id":76035021,"comment_id":134131427,"body_markdown":"Is it possible to provide code example?","body":"Is it possible to provide code example?"}],"answers":[{"tags":[],"owner":{"account_id":9590587,"reputation":2429,"user_id":7121619,"display_name":"Marit"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682349900,"creation_date":1682007433,"answer_id":76066259,"question_id":76035021,"body_markdown":"[IntelliJ blogpost][1] talks about three benefits of the enhanced switch:\r\n\r\n 1. Concise code.\r\n 2. Can return a value. \r\n 3. No need to use `break`. In absence of a break statement, the control doesn’t fall through the switch labels which helps avoid logical errors.\r\n\r\nIn your particular example, you are already returning from the switch statement and the enhanced switch statement might not offer much. The enhanced switch improves the code when the old switch uses value assignments and breaks. For example:\r\n\r\n    \r\n\r\n    int height = 0; \r\n        switch (size) {\r\n            case S:\r\n                height = 18;\r\n                // missing break (bug)\r\n            case M:\r\n                height = 20;\r\n                break;\r\n            case L:\r\n                height = 25;\r\n                break;\r\n        }\r\n\r\n\r\nwhich enhanced to:\r\n\r\n    int height = 0; \r\n        switch (size) {\r\n            case S -&gt; height = 18;\r\n            case M -&gt; height = 20;\r\n            case L -&gt; height = 25;\r\n        }\r\n\r\n\r\nHowever, if your wish is to no longer get this warning, it is possible to turn it off in IntelliJ IDEA. To do so, open Preferences, and go to Editor -&gt; Inspections (I&#39;m using version 2023.1). Search for (part of) the warning (`Switch statement can be replaced with enhanced &#39;switch&#39;`) and de-select it.\r\n\r\n\r\n  [1]: https://blog.jetbrains.com/idea/2019/02/java-12-and-intellij-idea/","title":"What are the benefits of enhanced switch?","body":"<p><a href=\"https://blog.jetbrains.com/idea/2019/02/java-12-and-intellij-idea/\" rel=\"nofollow noreferrer\">IntelliJ blogpost</a> talks about three benefits of the enhanced switch:</p>\n<ol>\n<li>Concise code.</li>\n<li>Can return a value.</li>\n<li>No need to use <code>break</code>. In absence of a break statement, the control doesn’t fall through the switch labels which helps avoid logical errors.</li>\n</ol>\n<p>In your particular example, you are already returning from the switch statement and the enhanced switch statement might not offer much. The enhanced switch improves the code when the old switch uses value assignments and breaks. For example:</p>\n<pre><code>int height = 0; \n    switch (size) {\n        case S:\n            height = 18;\n            // missing break (bug)\n        case M:\n            height = 20;\n            break;\n        case L:\n            height = 25;\n            break;\n    }\n</code></pre>\n<p>which enhanced to:</p>\n<pre><code>int height = 0; \n    switch (size) {\n        case S -&gt; height = 18;\n        case M -&gt; height = 20;\n        case L -&gt; height = 25;\n    }\n</code></pre>\n<p>However, if your wish is to no longer get this warning, it is possible to turn it off in IntelliJ IDEA. To do so, open Preferences, and go to Editor -&gt; Inspections (I'm using version 2023.1). Search for (part of) the warning (<code>Switch statement can be replaced with enhanced 'switch'</code>) and de-select it.</p>\n"}],"owner":{"account_id":7553133,"reputation":423,"user_id":5733842,"display_name":"Cohensius"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1062,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":76066259,"answer_count":1,"score":-2,"last_activity_date":1701443877,"creation_date":1681733393,"question_id":76035021,"body_markdown":"Recently we upgrade our code base from Java 8 to Java 17. Since then, IntelliJ IDEA warns about old switch-case statements: \r\n &gt; Switch statement can be replaced with enhanced &#39;switch&#39;\r\n\r\nWhat are the benefits of the enhanced switch, besides readability? \r\n\r\nExample: java 8 switch:\r\n\r\n            switch (foo) {\r\n                case &quot;bla&quot;: return 1;\r\n                case &quot;bla_bla&quot;: return 2;\r\n            }\r\nafter accepting `Switch statement can be replaced with enhanced &#39;switch&#39;` it looks like that:\r\n\r\n            switch (foo) {\r\n                case &quot;bla&quot; -&gt; { return 1; }\r\n                case &quot;bla_bla&quot; -&gt; { return 2; }\r\n            }\r\n\r\n  [1]: https://medium.com/@javatechie/the-evolution-of-switch-statement-from-java-7-to-java-17-4b5eee8d29b7","title":"What are the benefits of enhanced switch?","body":"<p>Recently we upgrade our code base from Java 8 to Java 17. Since then, IntelliJ IDEA warns about old switch-case statements:</p>\n<blockquote>\n<p>Switch statement can be replaced with enhanced 'switch'</p>\n</blockquote>\n<p>What are the benefits of the enhanced switch, besides readability?</p>\n<p>Example: java 8 switch:</p>\n<pre><code>        switch (foo) {\n            case &quot;bla&quot;: return 1;\n            case &quot;bla_bla&quot;: return 2;\n        }\n</code></pre>\n<p>after accepting <code>Switch statement can be replaced with enhanced 'switch'</code> it looks like that:</p>\n<pre><code>        switch (foo) {\n            case &quot;bla&quot; -&gt; { return 1; }\n            case &quot;bla_bla&quot; -&gt; { return 2; }\n        }\n</code></pre>\n"},{"tags":["java","multithreading","sockets","file-transfer"],"answers":[{"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1701443668,"post_id":77586218,"comment_id":136779936,"body_markdown":"One way that using 4 threads will be faster than using 1 thread is if there are 2 other processes on the same PC that are downloading very large files at the same time. Then having 4 threads might give this process 4/6 of the available resources, instead of 1/3.","body":"One way that using 4 threads will be faster than using 1 thread is if there are 2 other processes on the same PC that are downloading very large files at the same time. Then having 4 threads might give this process 4/6 of the available resources, instead of 1/3."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1701444331,"post_id":77586218,"comment_id":136780037,"body_markdown":"@k314159 re: 4/6 of the available resources - In all likelihood, only one of those 4 threads is going to be &quot;awake&quot; at a time. The rest will likely be stuck waiting for more bytes to come in. So again, I think except in extreme cases multithreading won&#39;t help.","body":"@k314159 re: 4/6 of the available resources - In all likelihood, only one of those 4 threads is going to be &quot;awake&quot; at a time. The rest will likely be stuck waiting for more bytes to come in. So again, I think except in extreme cases multithreading won&#39;t help."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1701447723,"post_id":77586218,"comment_id":136780702,"body_markdown":"True. In the case of sending, however, let&#39;s say two other processes are each sending a large file. Then if this process uses 4 threads, the OS may see a total of 6 threads each waiting to use a single resource (network interface) and may assign equal time to each thread.","body":"True. In the case of sending, however, let&#39;s say two other processes are each sending a large file. Then if this process uses 4 threads, the OS may see a total of 6 threads each waiting to use a single resource (network interface) and may assign equal time to each thread."}],"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1701443788,"creation_date":1701443141,"answer_id":77586218,"question_id":77586144,"body_markdown":"Except possibly in an extraordinary case, there is absolutely no reason to do this. A single thread can retrieve data from a Socket far faster than the data is transmitted.\r\n\r\nBut if you did want to do this, you could do something like\r\n\r\n    public static class Multireceiver implements Runnable {\r\n      static AtomicInteger step = new AtomicInteger(0);\r\n      InputStream s;\r\n      int spot;\r\n      public Multireceiver (InputStream in) {\r\n        s = in;\r\n      }\r\n      public void run() {\r\n        spot = step.incrementAndGet();\r\n        //grab a bunch of bytes and put them in an object with the step number attached\r\n      }\r\n\r\n    }\r\n\r\nThen you just need to order your partial downloads by spot and reassemble the data. But again, all of this is normally unnecessary\r\n","title":"Multithreaded file transfer via socket in java","body":"<p>Except possibly in an extraordinary case, there is absolutely no reason to do this. A single thread can retrieve data from a Socket far faster than the data is transmitted.</p>\n<p>But if you did want to do this, you could do something like</p>\n<pre><code>public static class Multireceiver implements Runnable {\n  static AtomicInteger step = new AtomicInteger(0);\n  InputStream s;\n  int spot;\n  public Multireceiver (InputStream in) {\n    s = in;\n  }\n  public void run() {\n    spot = step.incrementAndGet();\n    //grab a bunch of bytes and put them in an object with the step number attached\n  }\n\n}\n</code></pre>\n<p>Then you just need to order your partial downloads by spot and reassemble the data. But again, all of this is normally unnecessary</p>\n"}],"owner":{"account_id":30041157,"reputation":9,"user_id":23022001,"display_name":"Vimal Arjun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1701443788,"creation_date":1701442327,"question_id":77586144,"body_markdown":"I want to receive chunks of a file from multi-thread and write in orderly.\r\n\r\nI have a server file on one system that send a file into 4 chunks through 4 thread now i have a client program on another machine i want to receive that files with 4 threads and write that to disk in correct order. I have no idea to receive and write in order can you help?!\r\n\r\n\r\nThanks for advance!!","title":"Multithreaded file transfer via socket in java","body":"<p>I want to receive chunks of a file from multi-thread and write in orderly.</p>\n<p>I have a server file on one system that send a file into 4 chunks through 4 thread now i have a client program on another machine i want to receive that files with 4 threads and write that to disk in correct order. I have no idea to receive and write in order can you help?!</p>\n<p>Thanks for advance!!</p>\n"},{"tags":["java","big-o"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701376309,"post_id":77581477,"comment_id":136771363,"body_markdown":"For reference, the source of this problem appears to be https://leetcode.com/problems/valid-palindrome/","body":"For reference, the source of this problem appears to be <a href=\"https://leetcode.com/problems/valid-palindrome/\" rel=\"nofollow noreferrer\">leetcode.com/problems/valid-palindrome</a>"}],"answers":[{"comments":[{"owner":{"account_id":30034939,"reputation":11,"user_id":23017182,"display_name":"user23017182"},"score":0,"creation_date":1701380868,"post_id":77581562,"comment_id":136772103,"body_markdown":"Thank you so much! I really liked the detailed example you gave, it all makes sense now.","body":"Thank you so much! I really liked the detailed example you gave, it all makes sense now."}],"tags":[],"owner":{"account_id":20994549,"reputation":51,"user_id":15426715,"display_name":"Michael"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701376824,"creation_date":1701376824,"answer_id":77581562,"question_id":77581477,"body_markdown":"The inner while loops are just used to skip whitespaces or punctuation.\r\nLet&#39;s run an example with the palindrome &#39;g; aag&#39;\r\n\r\ni = 0, j = 5\r\nboth inner while loops get skipped, since both the char at index 0 and 5 are letters\r\nsince both are equal to &#39;g&#39; we skip the if as well\r\n\r\ni = 1, j = 4\r\nnow the first inner while loop gets triggered since the char at index 1 isn&#39;t a letter or a digit. \r\n\r\ni = 2, j = 4\r\nwe&#39;re still in the inner while loop and the character at index 2 isn&#39;t a letter or a digit again\r\n\r\ni = 3, j = 4\r\nnow the first inner while loop is false, since the character at index 3 is a letter.\r\nthe second inner while loop gets skipped since the character at index 4 is a letter\r\n\r\ni = 4, j = 3\r\nnow the outer while loop is false since i &gt; j. \r\nTherefore, true is returned and it is a valid palindrome.\r\n\r\n\r\nThe complexity is O(n) since every index is only looked at once.\r\n","title":"What is the time complexity on this code? I&#39;m confused","body":"<p>The inner while loops are just used to skip whitespaces or punctuation.\nLet's run an example with the palindrome 'g; aag'</p>\n<p>i = 0, j = 5\nboth inner while loops get skipped, since both the char at index 0 and 5 are letters\nsince both are equal to 'g' we skip the if as well</p>\n<p>i = 1, j = 4\nnow the first inner while loop gets triggered since the char at index 1 isn't a letter or a digit.</p>\n<p>i = 2, j = 4\nwe're still in the inner while loop and the character at index 2 isn't a letter or a digit again</p>\n<p>i = 3, j = 4\nnow the first inner while loop is false, since the character at index 3 is a letter.\nthe second inner while loop gets skipped since the character at index 4 is a letter</p>\n<p>i = 4, j = 3\nnow the outer while loop is false since i &gt; j.\nTherefore, true is returned and it is a valid palindrome.</p>\n<p>The complexity is O(n) since every index is only looked at once.</p>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701377505,"creation_date":1701377042,"answer_id":77581583,"question_id":77581477,"body_markdown":"It looks like O(n), where `n` is the length of `s`. \r\n\r\nAt each iteration of `while(i &lt; j)`, the value of `i` will be increased by at least 1, and the value of `j` will be reduced by at least 1. When a non alphanumeric character is encountered, the value of `i`, `j`, or both will be changed by more than one.  The number of comparisons `(s.charAt(i) != s.charAt(j))` never exceeds `n/2`. So, O(n). \r\n\r\nIf I may guess as to the source of your confusion, it would be O(n^2) if either or both the inner `while` loops began iteration at the ends of `s`. But, that&#39;s not what happens. When there is an iteration of either or both, the number of remaining iterations of the outer `while` is reduced. ","title":"What is the time complexity on this code? I&#39;m confused","body":"<p>It looks like O(n), where <code>n</code> is the length of <code>s</code>.</p>\n<p>At each iteration of <code>while(i &lt; j)</code>, the value of <code>i</code> will be increased by at least 1, and the value of <code>j</code> will be reduced by at least 1. When a non alphanumeric character is encountered, the value of <code>i</code>, <code>j</code>, or both will be changed by more than one.  The number of comparisons <code>(s.charAt(i) != s.charAt(j))</code> never exceeds <code>n/2</code>. So, O(n).</p>\n<p>If I may guess as to the source of your confusion, it would be O(n^2) if either or both the inner <code>while</code> loops began iteration at the ends of <code>s</code>. But, that's not what happens. When there is an iteration of either or both, the number of remaining iterations of the outer <code>while</code> is reduced.</p>\n"},{"comments":[{"owner":{"account_id":7236687,"reputation":1753,"user_id":5521670,"display_name":"Šimon Koc&#250;rek"},"score":0,"creation_date":1701378870,"post_id":77581597,"comment_id":136771778,"body_markdown":"My main point was that they strictly get closer with each iteration (never stagnating or even getting further away). In the inner while loops, the `i` and `j` get closer only by 1 with each iteration.","body":"My main point was that they strictly get closer with each iteration (never stagnating or even getting further away). In the inner while loops, the <code>i</code> and <code>j</code> get closer only by 1 with each iteration."},{"owner":{"account_id":7236687,"reputation":1753,"user_id":5521670,"display_name":"Šimon Koc&#250;rek"},"score":0,"creation_date":1701379552,"post_id":77581597,"comment_id":136771892,"body_markdown":"Take string `&quot;       &quot;`.","body":"Take string <code>&quot;       &quot;</code>."}],"tags":[],"owner":{"account_id":7236687,"reputation":1753,"user_id":5521670,"display_name":"Šimon Koc&#250;rek"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701377154,"creation_date":1701377154,"answer_id":77581597,"question_id":77581477,"body_markdown":"The string has only `N` elements.\r\n\r\nIn your code, the `i = 0` and `j = s.length() - 1` only ever keep getting closer (with each iteration by at least `1`). And when they meet you terminate.\r\n\r\nSo no matter what happens, you will do at most `N` iterations (doesn&#39;t matter how many of those happen in outer or inner loop).","title":"What is the time complexity on this code? I&#39;m confused","body":"<p>The string has only <code>N</code> elements.</p>\n<p>In your code, the <code>i = 0</code> and <code>j = s.length() - 1</code> only ever keep getting closer (with each iteration by at least <code>1</code>). And when they meet you terminate.</p>\n<p>So no matter what happens, you will do at most <code>N</code> iterations (doesn't matter how many of those happen in outer or inner loop).</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701443625,"creation_date":1701387583,"answer_id":77582267,"question_id":77581477,"body_markdown":"The number of iterations does not always match the String length, even for a valid palindrome.  Due to the asynchronous way `i and j` are updated, if the outer loop ends and `i and j` are equal, the count must be incremented by 1, otherwise, decremented by 1.\r\n\r\nBut all that matters is to show that the execution time is `related` to the String length. `O(n)` simply means that the execution time is `linear`, even when you short-circuit the method when two characters don&#39;t match. \r\n```\r\nString[] pals = {&quot;radar   &quot;, &quot;ra       dar&quot;, &quot;radar             &quot;, &quot;r a d a r&quot;,\r\n        &quot;A man, a plan, a canal:    Panama&quot;, &quot;Amanapla    nacanalPanama&quot;};\r\n\r\nfor (String s : pals) {\r\n    boolean result = isAPalindrome(s);\r\n    System.out.println(&quot;Length = &quot; + s.length());\r\n    System.out.println(result);\r\n}\r\n```\r\nprints\r\n```\r\nCount = 8\r\nLength = 8\r\ntrue\r\nCount = 12\r\nLength = 12\r\ntrue\r\nCount = 18\r\nLength = 18\r\ntrue\r\nCount = 9\r\nLength = 9\r\ntrue\r\nCount = 33\r\nLength = 33\r\ntrue\r\nCount = 25\r\nLength = 25\r\ntrue\r\n\r\n```\r\nThe modified methpd\r\n``` \r\npublic static boolean isAPalindrome(String s) {\r\n    int i = 0; \r\n    int j = s.length()-1;\r\n\r\n    s = s.toLowerCase();\r\n    int count = 0;\r\n    while(i &lt; j) {\r\n\r\n        while(i &lt; j &amp;&amp; !Character.isLetterOrDigit(s.charAt(i))){\r\n            count++;\r\n            i++;\r\n        }\r\n\r\n        while(i &lt; j &amp;&amp; !Character.isLetterOrDigit(s.charAt(j))){\r\n            count++;\r\n            j--;\r\n        }\r\n\r\n        if(s.charAt(i) != s.charAt(j)){\r\n            return false;\r\n        }\r\n        count+=2;\r\n        \r\n        i++;\r\n        j--;\r\n\r\n    } \r\n    count += (i == j) ? 1 : -1;\r\n    System.out.println(&quot;Count = &quot; + count);\r\n    return true;\r\n}","title":"What is the time complexity on this code? I&#39;m confused","body":"<p>The number of iterations does not always match the String length, even for a valid palindrome.  Due to the asynchronous way <code>i and j</code> are updated, if the outer loop ends and <code>i and j</code> are equal, the count must be incremented by 1, otherwise, decremented by 1.</p>\n<p>But all that matters is to show that the execution time is <code>related</code> to the String length. <code>O(n)</code> simply means that the execution time is <code>linear</code>, even when you short-circuit the method when two characters don't match.</p>\n<pre><code>String[] pals = {&quot;radar   &quot;, &quot;ra       dar&quot;, &quot;radar             &quot;, &quot;r a d a r&quot;,\n        &quot;A man, a plan, a canal:    Panama&quot;, &quot;Amanapla    nacanalPanama&quot;};\n\nfor (String s : pals) {\n    boolean result = isAPalindrome(s);\n    System.out.println(&quot;Length = &quot; + s.length());\n    System.out.println(result);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>Count = 8\nLength = 8\ntrue\nCount = 12\nLength = 12\ntrue\nCount = 18\nLength = 18\ntrue\nCount = 9\nLength = 9\ntrue\nCount = 33\nLength = 33\ntrue\nCount = 25\nLength = 25\ntrue\n\n</code></pre>\n<p>The modified methpd</p>\n<pre><code>public static boolean isAPalindrome(String s) {\n    int i = 0; \n    int j = s.length()-1;\n\n    s = s.toLowerCase();\n    int count = 0;\n    while(i &lt; j) {\n\n        while(i &lt; j &amp;&amp; !Character.isLetterOrDigit(s.charAt(i))){\n            count++;\n            i++;\n        }\n\n        while(i &lt; j &amp;&amp; !Character.isLetterOrDigit(s.charAt(j))){\n            count++;\n            j--;\n        }\n\n        if(s.charAt(i) != s.charAt(j)){\n            return false;\n        }\n        count+=2;\n        \n        i++;\n        j--;\n\n    } \n    count += (i == j) ? 1 : -1;\n    System.out.println(&quot;Count = &quot; + count);\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":30034939,"reputation":11,"user_id":23017182,"display_name":"user23017182"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1701443625,"creation_date":1701375858,"question_id":77581477,"body_markdown":"So I&#39;m solving the leetcode &quot;Valid Palindrome&quot; problem, and I&#39;m unsure what the time complexity of my code is, I thought it was O(n^2) but I wasn&#39;t so sure so I used chatgpt to confirm and it keeps saying it is O(n). Apparently the inner while loops run constant. \r\n\r\nI can&#39;t wrap my head around this for some reason. Any explanations are welcome. Thanks!\r\n\r\nHere is my code:\r\n\r\n```\r\nclass Solution {\r\n    public boolean isPalindrome(String s) {\r\n\r\n        int i = 0; \r\n        int j = s.length()-1;\r\n\r\n        s = s.toLowerCase();\r\n\r\n        while(i &lt; j) {\r\n\r\n            while(i &lt; j &amp;&amp; !Character.isLetterOrDigit(s.charAt(i))){\r\n                i++;\r\n            }\r\n\r\n            while(i &lt; j &amp;&amp; !Character.isLetterOrDigit(s.charAt(j))){\r\n                j--;\r\n            }\r\n\r\n            if(s.charAt(i) != s.charAt(j)){\r\n                return false;\r\n            }\r\n\r\n            i++;\r\n            j--;\r\n\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n```","title":"What is the time complexity on this code? I&#39;m confused","body":"<p>So I'm solving the leetcode &quot;Valid Palindrome&quot; problem, and I'm unsure what the time complexity of my code is, I thought it was O(n^2) but I wasn't so sure so I used chatgpt to confirm and it keeps saying it is O(n). Apparently the inner while loops run constant.</p>\n<p>I can't wrap my head around this for some reason. Any explanations are welcome. Thanks!</p>\n<p>Here is my code:</p>\n<pre><code>class Solution {\n    public boolean isPalindrome(String s) {\n\n        int i = 0; \n        int j = s.length()-1;\n\n        s = s.toLowerCase();\n\n        while(i &lt; j) {\n\n            while(i &lt; j &amp;&amp; !Character.isLetterOrDigit(s.charAt(i))){\n                i++;\n            }\n\n            while(i &lt; j &amp;&amp; !Character.isLetterOrDigit(s.charAt(j))){\n                j--;\n            }\n\n            if(s.charAt(i) != s.charAt(j)){\n                return false;\n            }\n\n            i++;\n            j--;\n\n        }\n\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":["java","sql","operator-keyword","mendix"],"answers":[{"comments":[{"owner":{"account_id":29716575,"reputation":1,"user_id":22774965,"display_name":"Sarah"},"score":0,"creation_date":1701449189,"post_id":77586190,"comment_id":136781000,"body_markdown":"Hi there, thank you so much this has worked :)","body":"Hi there, thank you so much this has worked :)"}],"tags":[],"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701443561,"creation_date":1701442802,"answer_id":77586190,"question_id":77585847,"body_markdown":"Move the creation of that SQL to a variable, and log it.  Then grab the generated SQL from the log and try to manually execute it.  Does it work?  Is it valid SQL?  \r\n\r\nBut by it&#39;s name, _Administration.Calculations_DailyPricing_ sounds like it would be a numeric column type, so using the `Collections.joining` overload of\r\n\r\n    Collectors.joining(&quot;&#39;,&#39;&quot;, &quot;&#39;&quot;, &quot;&#39;&quot;)\r\n\r\nwould generate SQL like:\r\n\r\n    ...WHERE Administration.Calculations_DailyPricing IN (&#39;42&#39;, &#39;99&#39;, &#39;188&#39;)\r\n   \r\nAssuming _Administration.Calculations_DailyPricing_ is numeric, the generated SQL should look like this:\r\n\r\n    ...WHERE Administration.Calculations_DailyPricing IN (42, 99, 188)\r\n\r\nso that joining should be simplified to:\r\n\r\n    Collectors.joining(&quot;, &quot;)\r\n\r\nso there are no quotes surrounding the numeric values.  (The Mendix upgrade is apparently less forgiving attempting to match string values against numeric values.)\r\n\r\nside note: if `DailyPricingList` is empty, then invalid SQL is going to be generated.  Hopefully there is a safety check that was just not included in the example code.","title":"Mendix Java ERROR: operator does not exist: bigint = character varying Hint: No operator matches the given name and argument types","body":"<p>Move the creation of that SQL to a variable, and log it.  Then grab the generated SQL from the log and try to manually execute it.  Does it work?  Is it valid SQL?</p>\n<p>But by it's name, <em>Administration.Calculations_DailyPricing</em> sounds like it would be a numeric column type, so using the <code>Collections.joining</code> overload of</p>\n<pre><code>Collectors.joining(&quot;','&quot;, &quot;'&quot;, &quot;'&quot;)\n</code></pre>\n<p>would generate SQL like:</p>\n<pre><code>...WHERE Administration.Calculations_DailyPricing IN ('42', '99', '188')\n</code></pre>\n<p>Assuming <em>Administration.Calculations_DailyPricing</em> is numeric, the generated SQL should look like this:</p>\n<pre><code>...WHERE Administration.Calculations_DailyPricing IN (42, 99, 188)\n</code></pre>\n<p>so that joining should be simplified to:</p>\n<pre><code>Collectors.joining(&quot;, &quot;)\n</code></pre>\n<p>so there are no quotes surrounding the numeric values.  (The Mendix upgrade is apparently less forgiving attempting to match string values against numeric values.)</p>\n<p>side note: if <code>DailyPricingList</code> is empty, then invalid SQL is going to be generated.  Hopefully there is a safety check that was just not included in the example code.</p>\n"}],"owner":{"account_id":29716575,"reputation":1,"user_id":22774965,"display_name":"Sarah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701443561,"creation_date":1701439708,"question_id":77585847,"body_markdown":"After upgrading to v9 in Mendix, one of our Java actions is causing an error. \r\nThe error can be seen below:\r\n ERROR: operator does not exist: bigint = character varying\r\n   Hint: No operator matches the given name and argument types. You might need to add explicit type casts.\r\n   Position: 1009\r\n\r\nThis Java is used to take in files from a list, process them and return a list of calculations\r\n\r\n\r\n```\r\npublic java.util.List&lt;IMendixObject&gt; executeAction() throws Exception\r\n\t{\r\n\t\tthis.DailyPricingList = java.util.Optional.ofNullable(this.__DailyPricingList)\r\n\t\t\t.orElse(java.util.Collections.emptyList())\r\n\t\t\t.stream()\r\n\t\t\t.map(__DailyPricingListElement -&gt; XXXX.DailyPricing.initialize(getContext(), __DailyPricingListElement))\r\n\t\t\t.collect(java.util.stream.Collectors.toList());\r\n\r\n\t\t// BEGIN USER CODE\r\n\r\n\t\tList&lt;IMendixObject&gt; calculationsList = new ArrayList&lt;IMendixObject&gt;();\r\n\t\t\r\n\t\tIContext context = getContext();\r\n\t\tIDataTable calcs = Core.retrieveOQLDataTable(context, \r\n\t\t\t\t&quot;SELECT XXX,XXX,XX,SUM(XXX),SUM(XXXX),SUM(XXX),SUM(XXX),SUM(XXX),SUM(XXXX),XXX,XXX,XXX &quot;\r\n\t\t\t\t+ &quot;FROM Administration.Calculations &quot;\r\n\t\t\t\t+ &quot;WHERE Administration.Calculations_DailyPricing IN (&quot;+(this.DailyPricingList.stream().map((dp) -&gt; Long.toString(dp.getMendixObject().getId().toLong())).collect(Collectors.joining(&quot;&#39;,&#39;&quot;, &quot;&#39;&quot;, &quot;&#39;&quot;)))+&quot;) &quot;\r\n\t\t\t\t\t\t+ &quot;GROUP BY XXX,XXX,XXX,XXX,XXXX,XXX&quot;);\r\n\t\tcalcs.forEach(row -&gt; CreateObj(row,calculationsList,context));\r\n\r\n\t\treturn calculationsList;\r\n\t\t\r\n\t\t// END USER CODE\r\n\r\n```\r\nColumn names have been replaces with X&#39;s for security. \r\nI presume it involves the toString within the select statement however my Java is limited and would not know how to fix this.\r\n\r\nAny help would be great\r\n\r\nTried removing the toString but seemed to error on the Collectors.joining","title":"Mendix Java ERROR: operator does not exist: bigint = character varying Hint: No operator matches the given name and argument types","body":"<p>After upgrading to v9 in Mendix, one of our Java actions is causing an error.\nThe error can be seen below:\nERROR: operator does not exist: bigint = character varying\nHint: No operator matches the given name and argument types. You might need to add explicit type casts.\nPosition: 1009</p>\n<p>This Java is used to take in files from a list, process them and return a list of calculations</p>\n<pre><code>public java.util.List&lt;IMendixObject&gt; executeAction() throws Exception\n    {\n        this.DailyPricingList = java.util.Optional.ofNullable(this.__DailyPricingList)\n            .orElse(java.util.Collections.emptyList())\n            .stream()\n            .map(__DailyPricingListElement -&gt; XXXX.DailyPricing.initialize(getContext(), __DailyPricingListElement))\n            .collect(java.util.stream.Collectors.toList());\n\n        // BEGIN USER CODE\n\n        List&lt;IMendixObject&gt; calculationsList = new ArrayList&lt;IMendixObject&gt;();\n        \n        IContext context = getContext();\n        IDataTable calcs = Core.retrieveOQLDataTable(context, \n                &quot;SELECT XXX,XXX,XX,SUM(XXX),SUM(XXXX),SUM(XXX),SUM(XXX),SUM(XXX),SUM(XXXX),XXX,XXX,XXX &quot;\n                + &quot;FROM Administration.Calculations &quot;\n                + &quot;WHERE Administration.Calculations_DailyPricing IN (&quot;+(this.DailyPricingList.stream().map((dp) -&gt; Long.toString(dp.getMendixObject().getId().toLong())).collect(Collectors.joining(&quot;','&quot;, &quot;'&quot;, &quot;'&quot;)))+&quot;) &quot;\n                        + &quot;GROUP BY XXX,XXX,XXX,XXX,XXXX,XXX&quot;);\n        calcs.forEach(row -&gt; CreateObj(row,calculationsList,context));\n\n        return calculationsList;\n        \n        // END USER CODE\n\n</code></pre>\n<p>Column names have been replaces with X's for security.\nI presume it involves the toString within the select statement however my Java is limited and would not know how to fix this.</p>\n<p>Any help would be great</p>\n<p>Tried removing the toString but seemed to error on the Collectors.joining</p>\n"},{"tags":["java","spring","spring-boot","gradle","build.gradle"],"comments":[{"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"score":0,"creation_date":1701450269,"post_id":77586256,"comment_id":136781207,"body_markdown":"1. try to clean com.ge.digital.oa.common in ~/.gradle/caches/modules-2/files-2.1 \n2. Ensure you are able to download artifact from the browser\n3. remove mavenLocal() as a repository if this project has no dependency with other project artifact\n4. check pom published in location and jars in different \n\n`repositories {\n    maven {\n        url &quot;http://repo2.mycompany.com/maven2&quot;\n        artifactUrls &quot;http://repo.mycompany.com/jars&quot;\n    }\n}`","body":"1. try to clean com.ge.digital.oa.common in ~/.gradle/caches/modules-2/files-2.1  2. Ensure you are able to download artifact from the browser 3. remove mavenLocal() as a repository if this project has no dependency with other project artifact 4. check pom published in location and jars in different   <code>repositories {     maven {         url &quot;http:&#47;&#47;repo2.mycompany.com&#47;maven2&quot;         artifactUrls &quot;http:&#47;&#47;repo.mycompany.com&#47;jars&quot;     } }</code>"},{"owner":{"account_id":7527372,"reputation":920,"user_id":5717021,"accept_rate":65,"display_name":"sromit"},"score":0,"creation_date":1701450628,"post_id":77586256,"comment_id":136781267,"body_markdown":"I am able to download from browser...I commented mavenlocal() but still same error..I even commented maven{..} itself. its still the same error..looks like its not even going to artifactory to bring the jar...how do I force gradle to go to artifactory to pull the jar?","body":"I am able to download from browser...I commented mavenlocal() but still same error..I even commented maven{..} itself. its still the same error..looks like its not even going to artifactory to bring the jar...how do I force gradle to go to artifactory to pull the jar?"},{"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"score":0,"creation_date":1701451091,"post_id":77586256,"comment_id":136781336,"body_markdown":"two way we can achieve 1.  --refresh-dependencies 2. tell gradle not to cache `configurations.all {\n    resolutionStrategy.cacheChangingModulesFor 0, &#39;seconds&#39;\n}` and \n`dependencies {\n    compile(&#39;com.ge.digital.oa.common:oa-common:3.0.0&#39;){\n        changing=true\n    }\n}`","body":"two way we can achieve 1.  --refresh-dependencies 2. tell gradle not to cache <code>configurations.all {     resolutionStrategy.cacheChangingModulesFor 0, &#39;seconds&#39; }</code> and  <code>dependencies {     compile(&#39;com.ge.digital.oa.common:oa-common:3.0.0&#39;){         changing=true     } }</code>"},{"owner":{"account_id":7527372,"reputation":920,"user_id":5717021,"accept_rate":65,"display_name":"sromit"},"score":0,"creation_date":1701452635,"post_id":77586256,"comment_id":136781599,"body_markdown":"added both...but still same error","body":"added both...but still same error"},{"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"score":0,"creation_date":1701453955,"post_id":77586256,"comment_id":136781788,"body_markdown":"run `gradle --stacktrace` and view the full stack trace. Hope you checked jar is downloading via browser / curl / wget","body":"run <code>gradle --stacktrace</code> and view the full stack trace. Hope you checked jar is downloading via browser / curl / wget"},{"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"score":0,"creation_date":1701454365,"post_id":77586256,"comment_id":136781849,"body_markdown":"if Gradle behind a corporate proxy network ? add this  `systemProp.http.proxyHost=xx.xx.xx.xxx\nsystemProp.http.proxyPort=8888\nsystemProp.http.nonProxyHosts=localhost|127.0.0.1|xx.xx.xx.*\nsystemProp.https.proxyHost=xx.xx.xx.xxx\nsystemProp.https.proxyPort=8888\nsystemProp.https.nonProxyHosts=localhost|127.0.0.1|xx.xx.xx.*` in gradle.properties","body":"if Gradle behind a corporate proxy network ? add this  <code>systemProp.http.proxyHost=xx.xx.xx.xxx systemProp.http.proxyPort=8888 systemProp.http.nonProxyHosts=localhost|127.0.0.1|xx.xx.xx.* systemProp.https.proxyHost=xx.xx.xx.xxx systemProp.https.proxyPort=8888 systemProp.https.nonProxyHosts=localhost|127.0.0.1|xx.xx.xx.&zwnj;&#8203;*</code> in gradle.properties"},{"owner":{"account_id":7527372,"reputation":920,"user_id":5717021,"accept_rate":65,"display_name":"sromit"},"score":0,"creation_date":1701457079,"post_id":77586256,"comment_id":136782253,"body_markdown":"even after adding proxy ..same error..here is the gardle build --scan report https://gradle.com/s/63cvtrwi7ufj2","body":"even after adding proxy ..same error..here is the gardle build --scan report <a href=\"https://gradle.com/s/63cvtrwi7ufj2\" rel=\"nofollow noreferrer\">gradle.com/s/63cvtrwi7ufj2</a>"},{"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"score":0,"creation_date":1701495867,"post_id":77586256,"comment_id":136785701,"body_markdown":"Check the [oa-common.pom](https://artifactory.build.ge.com/ARJLY/com/ge/digital/oa/common/oa-common/3.0.0/oa-common-3.0.0.pom) and verify oa-common.jar properly uploaded","body":"Check the <a href=\"https://artifactory.build.ge.com/ARJLY/com/ge/digital/oa/common/oa-common/3.0.0/oa-common-3.0.0.pom\" rel=\"nofollow noreferrer\">oa-common.pom</a> and verify oa-common.jar properly uploaded"}],"owner":{"account_id":7527372,"reputation":920,"user_id":5717021,"accept_rate":65,"display_name":"sromit"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701443477,"creation_date":1701443477,"question_id":77586256,"body_markdown":"I am having spring boot gradle project...but its not able download the first dependencies (oa-common.3.0.0.jar) It looks like its not going to artifactory to fetch it..even though its mentioned in the repositories....what I am doing wrong..any suggestion?\r\n\r\nbuild.gradle file\r\n\r\n    repositories {\r\n    \tmavenCentral()\r\n    \tmavenLocal()\r\n    \tmaven {\r\n    \t\turl &quot;${artifactory_contextUrl}&quot;\r\n    \t\tcredentials {\r\n    \t\t\tusername &quot;${artifactory_user}&quot;\r\n    \t\t\tpassword &quot;${artifactory_password}&quot;\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    wrapper {\r\n    \tdistributionType = Wrapper.DistributionType.BIN\r\n    }\r\n    \r\n    configurations {\r\n    \tdevelopmentOnly\r\n    \truntimeClasspath {\r\n    \t\textendsFrom developmentOnly\r\n    \t}\r\n    \tcompileOnly {\r\n    \t\textendsFrom annotationProcessor\r\n    \t}\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n    \timplementation(&#39;com.ge.digital.oa.common:oa-common:3.0.0&#39;) { \r\n    \t\texclude module: &#39;slf4j-log4j12&#39;\r\n    \t\texclude group: &#39;io.micrometer&#39;, module: &#39;micrometer-core&#39;\r\n    \t}\r\n    \timplementation(&#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;)\r\n    \timplementation(&#39;org.springframework.boot:spring-boot-starter-jdbc&#39;)\r\n    \timplementation(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n\r\n\r\nWe have the artifacory jar \r\nMy Artifactory path:\r\n\r\n    ARJLY\r\n     com/ge\r\n      digital/oa\r\n       common\r\n         oa-common\r\n          3.0.0\r\n           oa-common-3.0.0.jar\r\n\r\nError:\r\n\r\n    $ gradle clean build --refresh-dependencies\r\n    &gt; Task :compileJava FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:compileJava&#39;.\r\n    &gt; Could not resolve all files for configuration &#39;:compileClasspath&#39;.\r\n       &gt; Could not find com.ge.digital.oa.common:oa-common:3.0.0.\r\n         Required by:\r\n             project :\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    Deprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\r\n    Use &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\n    See https://docs.gradle.org/6.8/userguide/command_line_interface.html#sec:command_line_warnings\r\n    \r\n    BUILD FAILED in 18s\r\n    3 actionable tasks: 3 executed","title":"Gradle build failing downloading dependency","body":"<p>I am having spring boot gradle project...but its not able download the first dependencies (oa-common.3.0.0.jar) It looks like its not going to artifactory to fetch it..even though its mentioned in the repositories....what I am doing wrong..any suggestion?</p>\n<p>build.gradle file</p>\n<pre><code>repositories {\n    mavenCentral()\n    mavenLocal()\n    maven {\n        url &quot;${artifactory_contextUrl}&quot;\n        credentials {\n            username &quot;${artifactory_user}&quot;\n            password &quot;${artifactory_password}&quot;\n        }\n    }\n}\n\nwrapper {\n    distributionType = Wrapper.DistributionType.BIN\n}\n\nconfigurations {\n    developmentOnly\n    runtimeClasspath {\n        extendsFrom developmentOnly\n    }\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\ndependencies {\n\n    implementation('com.ge.digital.oa.common:oa-common:3.0.0') { \n        exclude module: 'slf4j-log4j12'\n        exclude group: 'io.micrometer', module: 'micrometer-core'\n    }\n    implementation('org.springframework.boot:spring-boot-starter-data-jpa')\n    implementation('org.springframework.boot:spring-boot-starter-jdbc')\n    implementation('org.springframework.boot:spring-boot-starter-web')\n</code></pre>\n<p>We have the artifacory jar\nMy Artifactory path:</p>\n<pre><code>ARJLY\n com/ge\n  digital/oa\n   common\n     oa-common\n      3.0.0\n       oa-common-3.0.0.jar\n</code></pre>\n<p>Error:</p>\n<pre><code>$ gradle clean build --refresh-dependencies\n&gt; Task :compileJava FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':compileJava'.\n&gt; Could not resolve all files for configuration ':compileClasspath'.\n   &gt; Could not find com.ge.digital.oa.common:oa-common:3.0.0.\n     Required by:\n         project :\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/6.8/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 18s\n3 actionable tasks: 3 executed\n</code></pre>\n"},{"tags":["java","android","activity-recognition","activity-transition"],"owner":{"account_id":25968487,"reputation":33,"user_id":19684110,"display_name":"NotNow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701443351,"creation_date":1693680914,"question_id":77029652,"body_markdown":"I&#39;m developing a mobility monitoring system for educational purposes and so I decided to use the Android API Activity Transitions to recognize activities such as IN_VEHICLE or ON_BICYCLING.\r\n\r\nI followed the implementation given by android in the documentation right here:\r\nhttps://developer.android.com/guide/topics/location/transitions\r\n\r\nThis is my ActivityRecognitionService.java:\r\n\r\n```java\r\n\r\npublic class ActivityRecognitionService extends Service {\r\n\r\n    private ActivityTransitionRequest request;\r\n    private ActivityTransitionsReceiver transitionsReceiver;\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n\r\n        List&lt;ActivityTransition&gt; transitions = new ArrayList&lt;&gt;();\r\n        transitions.add(\r\n                new ActivityTransition.Builder()\r\n                        .setActivityType(DetectedActivity.STILL)\r\n                        .setActivityTransition(ActivityTransition.ACTIVITY_TRANSITION_ENTER)\r\n                        .build());\r\n\r\n        transitions.add(\r\n                new ActivityTransition.Builder()\r\n                        .setActivityType(DetectedActivity.STILL)\r\n                        .setActivityTransition(ActivityTransition.ACTIVITY_TRANSITION_EXIT)\r\n                        .build());\r\n\r\n        transitions.add(\r\n                new ActivityTransition.Builder()\r\n                        .setActivityType(DetectedActivity.ON_FOOT)\r\n                        .setActivityTransition(ActivityTransition.ACTIVITY_TRANSITION_ENTER)\r\n                        .build());\r\n\r\n        transitions.add(\r\n                new ActivityTransition.Builder()\r\n                        .setActivityType(DetectedActivity.ON_FOOT)\r\n                        .setActivityTransition(ActivityTransition.ACTIVITY_TRANSITION_EXIT)\r\n                        .build());\r\n\r\n        request = new ActivityTransitionRequest(transitions);\r\n\r\n        transitionsReceiver = new ActivityTransitionsReceiver();\r\n\r\n        LocalBroadcastManager.getInstance(this).registerReceiver(transitionsReceiver, new IntentFilter(&quot;PROVA&quot;));\r\n\r\n        startForeground(NOTIFICATION_ID, createNotification());\r\n        new Thread(this::startActivityRecognition).start();\r\n        return START_STICKY;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        stopAll();\r\n    }\r\n\r\n    @Override\r\n    public void onTaskRemoved(Intent rootIntent) {\r\n        super.onTaskRemoved(rootIntent);\r\n        stopAll();\r\n    }\r\n\r\n    /* Start activity recognition */\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    private void startActivityRecognition() {\r\n        Task&lt;Void&gt; task = ActivityRecognition.getClient(this)\r\n                .requestActivityTransitionUpdates(request, getActivityRecognitionPendingIntent());\r\n\r\n        task.addOnSuccessListener(\r\n                result -&gt; Log.i(&quot;SERVICE AR&quot;, &quot;Start activity recognition!&quot;)\r\n        );\r\n\r\n        task.addOnFailureListener(\r\n                e -&gt; Log.i(&quot;SERVICE AR&quot;, &quot;Start activity recognition failed!&quot;)\r\n        );\r\n    }\r\n\r\n    /* Stop l&#39;activity recognition */\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    private void stopActivityRecognition() {\r\n\r\n        PendingIntent intent = getActivityRecognitionPendingIntent();\r\n\r\n        Task&lt;Void&gt; task = ActivityRecognition.getClient(this)\r\n                .removeActivityTransitionUpdates(intent);\r\n\r\n        task.addOnSuccessListener(\r\n                result -&gt; {\r\n                    intent.cancel();\r\n                    Log.e(&quot;SERVICE AR&quot;, &quot;Stop activity recognition!&quot;);\r\n                }\r\n        );\r\n\r\n        task.addOnFailureListener(\r\n                e -&gt; Log.e(&quot;SERVICE AR&quot;, &quot;Stop activity recognition failed!&quot;)\r\n        );\r\n    }\r\n\r\n    private PendingIntent getActivityRecognitionPendingIntent() {\r\n        Intent intent = new Intent(&quot;PROVA&quot;);\r\n        return PendingIntent.getBroadcast(ActivityRecognitionService.this, 0, intent, PendingIntent.FLAG_MUTABLE);\r\n    }\r\n\r\n    public static class ActivityTransitionsReceiver extends BroadcastReceiver {\r\n\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            Log.i(&quot;RECEIVED&quot;, &quot;RECEIVED!&quot;); \r\n        }\r\n    }\r\n}\r\n\r\n```\r\nThe activity recognition starts successfully as I also get the `&quot;Start activity recognition&quot;` log which confirms the correct start. After that, the flow enters the `getActivityRecognitionPendingIntent()` function and from there it gets blocked, I don&#39;t get anything inside the receiver&#39;s `onReceive()`.\r\n\r\nWhat am I doing wrong?\r\n\r\n\r\nFinally, I also leave my manifest.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; package=&quot;com.unibo.mobilitytrackingsystem&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACTIVITY_RECOGNITION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;com.google.android.gms.permission.ACTIVITY_RECOGNITION&quot; /&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:animateLayoutChanges=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.MobilityTrackingSystem&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        &gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.location.base&quot;\r\n            android:value=&quot;com.unibo.mobilitytrackingsystem.ARServices.ActivityRecognitionService&quot; /&gt;\r\n\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n            android:value=&quot;AIzaSyC4RCfGvTFnTG4ePRvdmyiOi2G84vnW2o0&quot;/&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;com.unibo.mobilitytrackingsystem.AuthActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.MobilityTrackingSystem&quot;\r\n            android:screenOrientation=&quot;portrait&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;com.unibo.mobilitytrackingsystem.HomeActivity&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:theme=&quot;@style/Theme.MobilityTrackingSystem&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            /&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;com.unibo.mobilitytrackingsystem.SettingsActivity&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:theme=&quot;@style/Theme.MobilityTrackingSystem&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            /&gt;\r\n\r\n        &lt;service\r\n            android:name=&quot;com.unibo.mobilitytrackingsystem.ARServices.ActivityRecognitionService&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n\r\n        &lt;receiver\r\n            android:name=&quot;com.unibo.mobilitytrackingsystem.ARServices.ActivityRecognitionService$ActivityTransitionsReceiver&quot;\r\n            android:exported=&quot;false&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;PROVA&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n\r\n```\r\n\r\nI want to point out that the only error I get on Logcat when starting the AR is the following:\r\n\r\n`attributionTag com.google.android.gms.location_base not declared in manifest`","title":"Activity Recognition Transitions API issue","body":"<p>I'm developing a mobility monitoring system for educational purposes and so I decided to use the Android API Activity Transitions to recognize activities such as IN_VEHICLE or ON_BICYCLING.</p>\n<p>I followed the implementation given by android in the documentation right here:\n<a href=\"https://developer.android.com/guide/topics/location/transitions\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/location/transitions</a></p>\n<p>This is my ActivityRecognitionService.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class ActivityRecognitionService extends Service {\n\n    private ActivityTransitionRequest request;\n    private ActivityTransitionsReceiver transitionsReceiver;\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n\n        List&lt;ActivityTransition&gt; transitions = new ArrayList&lt;&gt;();\n        transitions.add(\n                new ActivityTransition.Builder()\n                        .setActivityType(DetectedActivity.STILL)\n                        .setActivityTransition(ActivityTransition.ACTIVITY_TRANSITION_ENTER)\n                        .build());\n\n        transitions.add(\n                new ActivityTransition.Builder()\n                        .setActivityType(DetectedActivity.STILL)\n                        .setActivityTransition(ActivityTransition.ACTIVITY_TRANSITION_EXIT)\n                        .build());\n\n        transitions.add(\n                new ActivityTransition.Builder()\n                        .setActivityType(DetectedActivity.ON_FOOT)\n                        .setActivityTransition(ActivityTransition.ACTIVITY_TRANSITION_ENTER)\n                        .build());\n\n        transitions.add(\n                new ActivityTransition.Builder()\n                        .setActivityType(DetectedActivity.ON_FOOT)\n                        .setActivityTransition(ActivityTransition.ACTIVITY_TRANSITION_EXIT)\n                        .build());\n\n        request = new ActivityTransitionRequest(transitions);\n\n        transitionsReceiver = new ActivityTransitionsReceiver();\n\n        LocalBroadcastManager.getInstance(this).registerReceiver(transitionsReceiver, new IntentFilter(&quot;PROVA&quot;));\n\n        startForeground(NOTIFICATION_ID, createNotification());\n        new Thread(this::startActivityRecognition).start();\n        return START_STICKY;\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        stopAll();\n    }\n\n    @Override\n    public void onTaskRemoved(Intent rootIntent) {\n        super.onTaskRemoved(rootIntent);\n        stopAll();\n    }\n\n    /* Start activity recognition */\n    @SuppressLint(&quot;MissingPermission&quot;)\n    private void startActivityRecognition() {\n        Task&lt;Void&gt; task = ActivityRecognition.getClient(this)\n                .requestActivityTransitionUpdates(request, getActivityRecognitionPendingIntent());\n\n        task.addOnSuccessListener(\n                result -&gt; Log.i(&quot;SERVICE AR&quot;, &quot;Start activity recognition!&quot;)\n        );\n\n        task.addOnFailureListener(\n                e -&gt; Log.i(&quot;SERVICE AR&quot;, &quot;Start activity recognition failed!&quot;)\n        );\n    }\n\n    /* Stop l'activity recognition */\n    @SuppressLint(&quot;MissingPermission&quot;)\n    private void stopActivityRecognition() {\n\n        PendingIntent intent = getActivityRecognitionPendingIntent();\n\n        Task&lt;Void&gt; task = ActivityRecognition.getClient(this)\n                .removeActivityTransitionUpdates(intent);\n\n        task.addOnSuccessListener(\n                result -&gt; {\n                    intent.cancel();\n                    Log.e(&quot;SERVICE AR&quot;, &quot;Stop activity recognition!&quot;);\n                }\n        );\n\n        task.addOnFailureListener(\n                e -&gt; Log.e(&quot;SERVICE AR&quot;, &quot;Stop activity recognition failed!&quot;)\n        );\n    }\n\n    private PendingIntent getActivityRecognitionPendingIntent() {\n        Intent intent = new Intent(&quot;PROVA&quot;);\n        return PendingIntent.getBroadcast(ActivityRecognitionService.this, 0, intent, PendingIntent.FLAG_MUTABLE);\n    }\n\n    public static class ActivityTransitionsReceiver extends BroadcastReceiver {\n\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            Log.i(&quot;RECEIVED&quot;, &quot;RECEIVED!&quot;); \n        }\n    }\n}\n\n</code></pre>\n<p>The activity recognition starts successfully as I also get the <code>&quot;Start activity recognition&quot;</code> log which confirms the correct start. After that, the flow enters the <code>getActivityRecognitionPendingIntent()</code> function and from there it gets blocked, I don't get anything inside the receiver's <code>onReceive()</code>.</p>\n<p>What am I doing wrong?</p>\n<p>Finally, I also leave my manifest.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; package=&quot;com.unibo.mobilitytrackingsystem&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACTIVITY_RECOGNITION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;com.google.android.gms.permission.ACTIVITY_RECOGNITION&quot; /&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:animateLayoutChanges=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.MobilityTrackingSystem&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        &gt;\n        &lt;meta-data\n            android:name=&quot;com.google.android.gms.location.base&quot;\n            android:value=&quot;com.unibo.mobilitytrackingsystem.ARServices.ActivityRecognitionService&quot; /&gt;\n\n        &lt;meta-data\n            android:name=&quot;com.google.android.geo.API_KEY&quot;\n            android:value=&quot;AIzaSyC4RCfGvTFnTG4ePRvdmyiOi2G84vnW2o0&quot;/&gt;\n\n        &lt;activity\n            android:name=&quot;com.unibo.mobilitytrackingsystem.AuthActivity&quot;\n            android:exported=&quot;true&quot;\n            android:theme=&quot;@style/Theme.MobilityTrackingSystem&quot;\n            android:screenOrientation=&quot;portrait&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;activity\n            android:name=&quot;com.unibo.mobilitytrackingsystem.HomeActivity&quot;\n            android:exported=&quot;false&quot;\n            android:theme=&quot;@style/Theme.MobilityTrackingSystem&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            /&gt;\n\n        &lt;activity\n            android:name=&quot;com.unibo.mobilitytrackingsystem.SettingsActivity&quot;\n            android:exported=&quot;false&quot;\n            android:theme=&quot;@style/Theme.MobilityTrackingSystem&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            /&gt;\n\n        &lt;service\n            android:name=&quot;com.unibo.mobilitytrackingsystem.ARServices.ActivityRecognitionService&quot;\n            android:exported=&quot;false&quot; /&gt;\n\n        &lt;receiver\n            android:name=&quot;com.unibo.mobilitytrackingsystem.ARServices.ActivityRecognitionService$ActivityTransitionsReceiver&quot;\n            android:exported=&quot;false&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;PROVA&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n\n</code></pre>\n<p>I want to point out that the only error I get on Logcat when starting the AR is the following:</p>\n<p><code>attributionTag com.google.android.gms.location_base not declared in manifest</code></p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":4989848,"reputation":1603,"user_id":4012408,"display_name":"Rafael Guillen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701443157,"creation_date":1701443157,"answer_id":77586220,"question_id":77586043,"body_markdown":"In my opinion you should go with **Hibernate Envers**, it&#39;s not an overkill. You can configure **Envers** to audit only what you need and they provide a very nice API to query the audited entities.","title":"In Java/Spring Boot/JPA/Hibernate, is there a simple mechanism to track entity changes to generate a change report?","body":"<p>In my opinion you should go with <strong>Hibernate Envers</strong>, it's not an overkill. You can configure <strong>Envers</strong> to audit only what you need and they provide a very nice API to query the audited entities.</p>\n"}],"owner":{"account_id":95570,"reputation":131,"user_id":260203,"display_name":"Brad K."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1701443157,"creation_date":1701441536,"question_id":77586043,"body_markdown":"We process a spreadsheet that comes from our contractor tracking inventory. \r\n\r\nUsing Apache POI and oCell to read the Excel file using a POJO (not our InventoryItem entity) then validating and parsing the data into an InventoryItem entity. \r\n\r\nDuring processing, we note new records and insert them in our DB. For pre-existing records, we don&#39;t do any change detection, but simply update all fields in the record. \r\n\r\nWe&#39;d like a &quot;mini audit&quot; mechanism to where we can note expected changes (say, reductions in inventory) versus corrections (say, names of product, supplier, or some other change).\r\n\r\nWhile we could, during the conversion/mapping from ExcelInventoryItem into InventoryItem, check each field for value change, but that would be manual (prone to error) and tedious.\r\n\r\nIs there a simple mechanism to capture which fields have changed so that we can capture that information and provide a per-file report back to the user upon completion of processing?\r\n\r\nI briefly looked at what JPA auditing does based on [what I found at Baeldung](https://www.baeldung.com/database-auditing-jpa), but it looks like a bit of overkill for what I want (accumulate a list of changes, JSON-ify it and shove it into an already available &quot;concerns&quot; field.) Also, it doesn&#39;t appear to track specific field changes (before/after) without iterating over fields myself.\r\n\r\nAny recommendations for a good strategy?","title":"In Java/Spring Boot/JPA/Hibernate, is there a simple mechanism to track entity changes to generate a change report?","body":"<p>We process a spreadsheet that comes from our contractor tracking inventory.</p>\n<p>Using Apache POI and oCell to read the Excel file using a POJO (not our InventoryItem entity) then validating and parsing the data into an InventoryItem entity.</p>\n<p>During processing, we note new records and insert them in our DB. For pre-existing records, we don't do any change detection, but simply update all fields in the record.</p>\n<p>We'd like a &quot;mini audit&quot; mechanism to where we can note expected changes (say, reductions in inventory) versus corrections (say, names of product, supplier, or some other change).</p>\n<p>While we could, during the conversion/mapping from ExcelInventoryItem into InventoryItem, check each field for value change, but that would be manual (prone to error) and tedious.</p>\n<p>Is there a simple mechanism to capture which fields have changed so that we can capture that information and provide a per-file report back to the user upon completion of processing?</p>\n<p>I briefly looked at what JPA auditing does based on <a href=\"https://www.baeldung.com/database-auditing-jpa\" rel=\"nofollow noreferrer\">what I found at Baeldung</a>, but it looks like a bit of overkill for what I want (accumulate a list of changes, JSON-ify it and shove it into an already available &quot;concerns&quot; field.) Also, it doesn't appear to track specific field changes (before/after) without iterating over fields myself.</p>\n<p>Any recommendations for a good strategy?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1701439268,"post_id":77585653,"comment_id":136778994,"body_markdown":"In the code you posted you have U+0110 &quot;capital D with stroke&quot; not U+00D0 &quot;capital Eth&quot;. Although they look (very!) similar these are not the same character; see https://stackoverflow.com/questions/65315353/what-is-the-difference-between-u00d0-and-u0110 . And I wasn&#39;t aware either was used in French (or France). Which do you have in your actual source code?","body":"In the code you posted you have U+0110 &quot;capital D with stroke&quot; not U+00D0 &quot;capital Eth&quot;. Although they look (very!) similar these are not the same character; see <a href=\"https://stackoverflow.com/questions/65315353/what-is-the-difference-between-u00d0-and-u0110\" title=\"what is the difference between u00d0 and u0110\">stackoverflow.com/questions/65315353/&hellip;</a> . And I wasn&#39;t aware either was used in French (or France). Which do you have in your actual source code?"},{"owner":{"account_id":22819063,"reputation":3,"user_id":16969224,"display_name":"0c7"},"score":0,"creation_date":1701597269,"post_id":77585653,"comment_id":136793617,"body_markdown":"The source is the capital D, with a stroke, it is from an OCR  foreign document.","body":"The source is the capital D, with a stroke, it is from an OCR  foreign document."}],"answers":[{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1701442556,"post_id":77585780,"comment_id":136779690,"body_markdown":"BTW `(byte)(16*10 + 12)` can also be represented as `(byte) 0xAC`","body":"BTW <code>(byte)(16*10 + 12)</code> can also be represented as <code>(byte) 0xAC</code>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1701443195,"post_id":77585780,"comment_id":136779835,"body_markdown":"@user85421 thanks, I knew I didn&#39;t have to explicitly write out all powers of 16 but I wasn&#39;t sure how. :D","body":"@user85421 thanks, I knew I didn&#39;t have to explicitly write out all powers of 16 but I wasn&#39;t sure how. :D"}],"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701443147,"creation_date":1701439032,"answer_id":77585780,"question_id":77585653,"body_markdown":"The character you have pasted is not the character you think it is.\r\n\r\n        String value = &quot;Đ&quot;;\r\n        byte[] bexp = { (byte)0xAC };\r\n        String v2 = new String(bexp, &quot;CP1147&quot;);\r\n        System.out.println(&quot;expected: &quot; + v2 + &quot; = &quot; + value + &quot; &quot; + v2.equals(value));\r\n\r\nThat results in.\r\n\r\n&gt;expected: &#208; = Đ false\r\n\r\nAs pointed out, you have pasted C490 ( capital letter D with a stroke in UTF8 ) which doesn&#39;t exist in CP1147 but you are expecting C390 ( capital letter ETH in UTF8 ) which does exist.\r\n\r\n```\r\n\r\n    public static void pp(byte[] bs){\r\n        StringBuilder sb = new StringBuilder();\r\n        for (byte b : bs) {\r\n            sb.append(String.format(&quot;%02X&quot;, b));\r\n        }\r\n        System.out.println(sb);\r\n    }\r\n    public static void main(String[] args) throws Exception{\r\n        String value = &quot;Đ&quot;;\r\n        System.out.println(value);\r\n        byte[] ok = value.getBytes(&quot;UTF8&quot;);\r\n\r\n        byte[] bexp = { (byte)(16*10 + 12) };\r\n        String v2 = new String(bexp, &quot;CP1147&quot;);\r\n\r\n        pp(v2.getBytes(&quot;UTF8&quot;));\r\n        pp(v2.getBytes(&quot;CP1147&quot;));\r\n        pp(value.getBytes(&quot;UTF8&quot;));\r\n        pp(value.getBytes(&quot;CP1147&quot;));\r\n\r\n    }\r\n```\r\nUsing that I get the following output.\r\n\r\n&gt;Đ  \r\nC390  \r\nAC  \r\nC490  \r\n3F  \r\n","title":"String.getBytes return the substitution character for a character that should be valid","body":"<p>The character you have pasted is not the character you think it is.</p>\n<pre><code>    String value = &quot;Đ&quot;;\n    byte[] bexp = { (byte)0xAC };\n    String v2 = new String(bexp, &quot;CP1147&quot;);\n    System.out.println(&quot;expected: &quot; + v2 + &quot; = &quot; + value + &quot; &quot; + v2.equals(value));\n</code></pre>\n<p>That results in.</p>\n<blockquote>\n<p>expected: Ð = Đ false</p>\n</blockquote>\n<p>As pointed out, you have pasted C490 ( capital letter D with a stroke in UTF8 ) which doesn't exist in CP1147 but you are expecting C390 ( capital letter ETH in UTF8 ) which does exist.</p>\n<pre><code>\n    public static void pp(byte[] bs){\n        StringBuilder sb = new StringBuilder();\n        for (byte b : bs) {\n            sb.append(String.format(&quot;%02X&quot;, b));\n        }\n        System.out.println(sb);\n    }\n    public static void main(String[] args) throws Exception{\n        String value = &quot;Đ&quot;;\n        System.out.println(value);\n        byte[] ok = value.getBytes(&quot;UTF8&quot;);\n\n        byte[] bexp = { (byte)(16*10 + 12) };\n        String v2 = new String(bexp, &quot;CP1147&quot;);\n\n        pp(v2.getBytes(&quot;UTF8&quot;));\n        pp(v2.getBytes(&quot;CP1147&quot;));\n        pp(value.getBytes(&quot;UTF8&quot;));\n        pp(value.getBytes(&quot;CP1147&quot;));\n\n    }\n</code></pre>\n<p>Using that I get the following output.</p>\n<blockquote>\n<p>Đ<br />\nC390<br />\nAC<br />\nC490<br />\n3F</p>\n</blockquote>\n"}],"owner":{"account_id":22819063,"reputation":3,"user_id":16969224,"display_name":"0c7"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701443147,"creation_date":1701437846,"question_id":77585653,"body_markdown":"I am trying to encode a character Đ (U+00D0 in unicode) in CP1147 (french EBCDIC + euro)\r\n\r\n```\r\n        String value = &quot;Đ&quot;;\r\n        byte[] sendRecord = value.getBytes(&quot;CP1147&quot;);\r\n\r\n        StringBuilder sb = new StringBuilder();\r\n        for (byte b : sendRecord) {\r\n            sb.append(String.format(&quot;%02X&quot;, b));\r\n        }\r\n        System.out.println(sb.toString());\r\n        var formattedHexResult =  sb.toString();\r\n        Assertions.assertEquals(&quot;3F&quot;, formattedHexResult);\r\n\r\n```\r\n\r\nthe character  Đ exists in CP1147, I should get X&#39;AC&#39; but I get X&#39;3F&#39; which is the substitution character\r\n\r\n\r\ni have tried to understand how the getBytes works but it is way above my level\r\n\r\nthe charset used is sun.nio.cs.ext.IBM1147 and it includes u00D0\r\n\r\nWhat is blocking the conversion?\r\n\r\n\r\n        \r\n\r\n\r\n","title":"String.getBytes return the substitution character for a character that should be valid","body":"<p>I am trying to encode a character Đ (U+00D0 in unicode) in CP1147 (french EBCDIC + euro)</p>\n<pre><code>        String value = &quot;Đ&quot;;\n        byte[] sendRecord = value.getBytes(&quot;CP1147&quot;);\n\n        StringBuilder sb = new StringBuilder();\n        for (byte b : sendRecord) {\n            sb.append(String.format(&quot;%02X&quot;, b));\n        }\n        System.out.println(sb.toString());\n        var formattedHexResult =  sb.toString();\n        Assertions.assertEquals(&quot;3F&quot;, formattedHexResult);\n\n</code></pre>\n<p>the character  Đ exists in CP1147, I should get X'AC' but I get X'3F' which is the substitution character</p>\n<p>i have tried to understand how the getBytes works but it is way above my level</p>\n<p>the charset used is sun.nio.cs.ext.IBM1147 and it includes u00D0</p>\n<p>What is blocking the conversion?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","jpamodelgen"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1667851252,"post_id":74336404,"comment_id":131262172,"body_markdown":"Have you tried defining a persistence.xml file? Spring generates one dynamically from everything it finds on its class path and its own mechanisms for filtering out what gets into it, but the JPA spec requires a persistence.xml. Hibernate might too.","body":"Have you tried defining a persistence.xml file? Spring generates one dynamically from everything it finds on its class path and its own mechanisms for filtering out what gets into it, but the JPA spec requires a persistence.xml. Hibernate might too."},{"owner":{"account_id":26846617,"reputation":61,"user_id":20432289,"display_name":"Joachim"},"score":0,"creation_date":1667981136,"post_id":74336404,"comment_id":131294643,"body_markdown":"Hello, thank you for your response but i have found the solution (see the answer section). If you know the answer to why it works, feel free to respond :)","body":"Hello, thank you for your response but i have found the solution (see the answer section). If you know the answer to why it works, feel free to respond :)"}],"answers":[{"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1668013040,"post_id":74371609,"comment_id":131306346,"body_markdown":"${hibernate.version} is just a &#39;hibernate.version&#39; variable defined elsewhere in your files as 5.6.12. This path definition within the plugin configuration is explicitly defining which artifact/version to use, so that is why would pick up and use 5.6.12 instead of the previous dependency&#39;s jars. You are giving it a path, so it has to use the files you specify as is. Best practice would be to specify the hibernate.version property in the beginning of your file and use that everywhere a version is required instead of hard coding it in select version tags. For the rest, no clue.","body":"${hibernate.version} is just a &#39;hibernate.version&#39; variable defined elsewhere in your files as 5.6.12. This path definition within the plugin configuration is explicitly defining which artifact/version to use, so that is why would pick up and use 5.6.12 instead of the previous dependency&#39;s jars. You are giving it a path, so it has to use the files you specify as is. Best practice would be to specify the hibernate.version property in the beginning of your file and use that everywhere a version is required instead of hard coding it in select version tags. For the rest, no clue."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1668013126,"post_id":74371609,"comment_id":131306376,"body_markdown":"Did you switch your entities to use the jakarta packaging for JPA annotations, or are they still using javax?","body":"Did you switch your entities to use the jakarta packaging for JPA annotations, or are they still using javax?"},{"owner":{"account_id":1221448,"reputation":91,"user_id":7810853,"display_name":"Bruce Stewart"},"score":0,"creation_date":1670316668,"post_id":74371609,"comment_id":131842295,"body_markdown":"I&#39;m having a similar problem (not solved). One point to note is that the groupId for version 6.1.5.Final is now org.hiberate.orm NOT org.hibernate. The reason you&#39;re getting 5.6.12 imported is because of your dependency on spring-boot 2.7.5.","body":"I&#39;m having a similar problem (not solved). One point to note is that the groupId for version 6.1.5.Final is now org.hiberate.orm NOT org.hibernate. The reason you&#39;re getting 5.6.12 imported is because of your dependency on spring-boot 2.7.5."}],"tags":[],"owner":{"account_id":26846617,"reputation":61,"user_id":20432289,"display_name":"Joachim"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667981045,"creation_date":1667981045,"answer_id":74371609,"question_id":74336404,"body_markdown":"I have found two solutions but i don&#39;t understand why it works (i&#39;m lucky i guess). Any explanations would be great :)\r\n\r\n 1. **First solution**\r\n\r\nUse the version 5.6.12.Final of Hibernate directly in a dependency. If i upgrade it to version 6.1.5.Final (as suggested by intellij), the metamodel are not generated but i don&#39;t know why...\r\n\r\n[![Dependency][1]][1]\r\n\r\n 2. **Second solution**\r\n\r\nSet the dependency to the latest version (here 6.1.5.Final) but add a plugin to the build with an annotationProcessorPaths that use the version 5.6.12.Final\r\n\r\n[![annotationProcessorPaths][2]][2]\r\n\r\nPS: i don&#39;t understand why the variable **${hibernate.version}** is set to version 5.6.12.Final while i have set my hibernate verison to 6.1.5.Final in the dependency... Any explanation would be great :)\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0rFiB.png\r\n  [2]: https://i.stack.imgur.com/qr56k.png","title":"Static jpa metamodel are not generated with hibernate-jpamodelgen 6.1.5.Final","body":"<p>I have found two solutions but i don't understand why it works (i'm lucky i guess). Any explanations would be great :)</p>\n<ol>\n<li><strong>First solution</strong></li>\n</ol>\n<p>Use the version 5.6.12.Final of Hibernate directly in a dependency. If i upgrade it to version 6.1.5.Final (as suggested by intellij), the metamodel are not generated but i don't know why...</p>\n<p><a href=\"https://i.stack.imgur.com/0rFiB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0rFiB.png\" alt=\"Dependency\" /></a></p>\n<ol start=\"2\">\n<li><strong>Second solution</strong></li>\n</ol>\n<p>Set the dependency to the latest version (here 6.1.5.Final) but add a plugin to the build with an annotationProcessorPaths that use the version 5.6.12.Final</p>\n<p><a href=\"https://i.stack.imgur.com/qr56k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qr56k.png\" alt=\"annotationProcessorPaths\" /></a></p>\n<p>PS: i don't understand why the variable <strong>${hibernate.version}</strong> is set to version 5.6.12.Final while i have set my hibernate verison to 6.1.5.Final in the dependency... Any explanation would be great :)</p>\n"},{"tags":[],"owner":{"account_id":2458519,"reputation":7657,"user_id":2143128,"display_name":"Ratul Sharker"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678654474,"creation_date":1678654474,"answer_id":75716319,"question_id":74336404,"body_markdown":"Updating the version to spring boot `3.0.3-SNAPSHOT` works for me.\r\n\r\nParent portion\r\n\r\n```xml\r\n&lt;parent&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.0.3-SNAPSHOT&lt;/version&gt;\r\n\t&lt;relativePath/&gt;\r\n&lt;/parent&gt;\r\n```\r\n\r\nModel gen related dependencies\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n\t&lt;version&gt;6.1.7.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Static jpa metamodel are not generated with hibernate-jpamodelgen 6.1.5.Final","body":"<p>Updating the version to spring boot <code>3.0.3-SNAPSHOT</code> works for me.</p>\n<p>Parent portion</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.3-SNAPSHOT&lt;/version&gt;\n    &lt;relativePath/&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>Model gen related dependencies</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n    &lt;version&gt;6.1.7.Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28213863,"reputation":1,"user_id":21565696,"display_name":"ybelin"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680619143,"creation_date":1680619143,"answer_id":75930711,"question_id":74336404,"body_markdown":"Try to use hibernate-jpamodelgen-jakarta:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-jpamodelgen-jakarta&lt;/artifactId&gt;\r\n      &lt;version&gt;5.6.15.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Static jpa metamodel are not generated with hibernate-jpamodelgen 6.1.5.Final","body":"<p>Try to use hibernate-jpamodelgen-jakarta:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n  &lt;artifactId&gt;hibernate-jpamodelgen-jakarta&lt;/artifactId&gt;\n  &lt;version&gt;5.6.15.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21411288,"reputation":1,"user_id":15771441,"display_name":"Stephen Erdman"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701443099,"creation_date":1701442212,"answer_id":77586122,"question_id":74336404,"body_markdown":"If you are still using the &quot;javax.persistence.X&quot; packages, then update them to &quot;jakarta.persistence.X&quot;. ","title":"Static jpa metamodel are not generated with hibernate-jpamodelgen 6.1.5.Final","body":"<p>If you are still using the &quot;javax.persistence.X&quot; packages, then update them to &quot;jakarta.persistence.X&quot;.</p>\n"}],"owner":{"account_id":26846617,"reputation":61,"user_id":20432289,"display_name":"Joachim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5990,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74371609,"answer_count":4,"score":3,"last_activity_date":1701443099,"creation_date":1667742244,"question_id":74336404,"body_markdown":"I know this question has been asked several times but none of the answers worked for me.\r\n\r\nBasically, i&#39;m trying to generate the jpa metamodel from my entities in order to use them in specifications. However, despite running (i think, see the rebuild project ouput screenshot), the **Hibernate JPA 2 Static-Metamodel Generator 6.1.5.Final** didn&#39;t generate any classes in the **annotations** folder.\r\n\r\nCan someone please help me? (PS sorry i cannot post screenshot because stack overflow doesn&#39;t let me)\r\n\r\nI&#39;m using java 19 with sping boot 2.7.5 and maven and intellij.\r\n\r\nHere is the Test.java file (the class i want to generate):\r\n\r\n```\r\npackage com.example.demo.model;\r\n\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\npublic class Test {\r\n    @Id\r\n    private int id;\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n   xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n   &lt;parent&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n      &lt;version&gt;2.7.5&lt;/version&gt;\r\n      &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n   &lt;/parent&gt;\r\n   &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n   &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n   &lt;name&gt;demo&lt;/name&gt;\r\n   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n   &lt;properties&gt;\r\n      &lt;java.version&gt;19&lt;/java.version&gt;\r\n   &lt;/properties&gt;\r\n   &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n         &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n         &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n         &lt;version&gt;6.1.5.Final&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n         &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n         &lt;version&gt;4.0.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n   &lt;/dependencies&gt;\r\n\r\n   &lt;build&gt;\r\n      &lt;plugins&gt;\r\n         &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n         &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n   &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nThe rebuild project output:\r\n\r\n```\r\nClearing build system data...\r\nExecuting pre-compile tasks...\r\nCleaning output directories…\r\nRunning &#39;before&#39; tasks\r\nChecking sources\r\nCopying resources... [demo]\r\nParsing java… [demo]\r\njava: Hibernate JPA 2 Static-Metamodel Generator 6.1.5.Final\r\nWriting classes… [demo]\r\nUpdating dependency information… [demo]\r\nAdding @NotNull assertions… [demo]\r\nAdding pattern assertions… [demo]\r\nAdding Threading Model assertions… [demo]\r\nParsing java… [tests of demo]\r\nWriting classes… [tests of demo]\r\nUpdating dependency information… [tests of demo]\r\nAdding @NotNull assertions… [tests of demo]\r\nAdding pattern assertions… [tests of demo]\r\nAdding Threading Model assertions… [tests of demo]\r\nRunning &#39;after&#39; tasks\r\njavac 19 was used to compile java sources\r\nFinished, saving caches…\r\nExecuting post-compile tasks...\r\nFinished, saving caches…\r\nSynchronizing output directories...\r\n06-11-22 14:37 - Build completed successfully in 3 sec, 464 ms\r\n```\r\n\r\nAnd the intellij annotation processors settings:\r\n\r\nI cannot post images but the **enable annotation processing** is checked as well as **obtain processorts from projet classpath** and the path is **target\\generated-sources\\annotations** in the \r\n**module content root**.\r\n\r\nAfter rebuilding the project, the **target** folder appears and contains a folder named **generated-sources**. This **generated-sources** contains a folder called **annotations** but it doesn&#39;t contain anything (but it should contain the class **Test_**).\r\n\r\nThe folder **annotations** has been set as a source folder aswell.\r\n\r\nI have read some previous posts but none were working for me.\r\nI also read the documentation ([doc](https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#tooling-modelgen)) but it still doesnt work.","title":"Static jpa metamodel are not generated with hibernate-jpamodelgen 6.1.5.Final","body":"<p>I know this question has been asked several times but none of the answers worked for me.</p>\n<p>Basically, i'm trying to generate the jpa metamodel from my entities in order to use them in specifications. However, despite running (i think, see the rebuild project ouput screenshot), the <strong>Hibernate JPA 2 Static-Metamodel Generator 6.1.5.Final</strong> didn't generate any classes in the <strong>annotations</strong> folder.</p>\n<p>Can someone please help me? (PS sorry i cannot post screenshot because stack overflow doesn't let me)</p>\n<p>I'm using java 19 with sping boot 2.7.5 and maven and intellij.</p>\n<p>Here is the Test.java file (the class i want to generate):</p>\n<pre><code>package com.example.demo.model;\n\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\n\n@Entity\npublic class Test {\n    @Id\n    private int id;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n}\n\n</code></pre>\n<p>The pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n   xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n   &lt;parent&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n      &lt;version&gt;2.7.5&lt;/version&gt;\n      &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n   &lt;/parent&gt;\n   &lt;groupId&gt;com.example&lt;/groupId&gt;\n   &lt;artifactId&gt;demo&lt;/artifactId&gt;\n   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n   &lt;name&gt;demo&lt;/name&gt;\n   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n   &lt;properties&gt;\n      &lt;java.version&gt;19&lt;/java.version&gt;\n   &lt;/properties&gt;\n   &lt;dependencies&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n         &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n         &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n         &lt;version&gt;6.1.5.Final&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n         &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n         &lt;version&gt;4.0.0&lt;/version&gt;\n      &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n\n   &lt;build&gt;\n      &lt;plugins&gt;\n         &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n         &lt;/plugin&gt;\n      &lt;/plugins&gt;\n   &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>The rebuild project output:</p>\n<pre><code>Clearing build system data...\nExecuting pre-compile tasks...\nCleaning output directories…\nRunning 'before' tasks\nChecking sources\nCopying resources... [demo]\nParsing java… [demo]\njava: Hibernate JPA 2 Static-Metamodel Generator 6.1.5.Final\nWriting classes… [demo]\nUpdating dependency information… [demo]\nAdding @NotNull assertions… [demo]\nAdding pattern assertions… [demo]\nAdding Threading Model assertions… [demo]\nParsing java… [tests of demo]\nWriting classes… [tests of demo]\nUpdating dependency information… [tests of demo]\nAdding @NotNull assertions… [tests of demo]\nAdding pattern assertions… [tests of demo]\nAdding Threading Model assertions… [tests of demo]\nRunning 'after' tasks\njavac 19 was used to compile java sources\nFinished, saving caches…\nExecuting post-compile tasks...\nFinished, saving caches…\nSynchronizing output directories...\n06-11-22 14:37 - Build completed successfully in 3 sec, 464 ms\n</code></pre>\n<p>And the intellij annotation processors settings:</p>\n<p>I cannot post images but the <strong>enable annotation processing</strong> is checked as well as <strong>obtain processorts from projet classpath</strong> and the path is <strong>target\\generated-sources\\annotations</strong> in the\n<strong>module content root</strong>.</p>\n<p>After rebuilding the project, the <strong>target</strong> folder appears and contains a folder named <strong>generated-sources</strong>. This <strong>generated-sources</strong> contains a folder called <strong>annotations</strong> but it doesn't contain anything (but it should contain the class <strong>Test_</strong>).</p>\n<p>The folder <strong>annotations</strong> has been set as a source folder aswell.</p>\n<p>I have read some previous posts but none were working for me.\nI also read the documentation (<a href=\"https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#tooling-modelgen\" rel=\"nofollow noreferrer\">doc</a>) but it still doesnt work.</p>\n"},{"tags":["java","jframe","jbutton","actionlistener","mouselistener"],"comments":[{"owner":{"account_id":3455808,"reputation":10954,"user_id":2894369,"display_name":"alex2410"},"score":0,"creation_date":1394620714,"post_id":22348685,"comment_id":33967536,"body_markdown":"Yes, you can, but what is the purpose for that?","body":"Yes, you can, but what is the purpose for that?"},{"owner":{"account_id":3930449,"reputation":113,"user_id":3249265,"accept_rate":75,"display_name":"user3249265"},"score":0,"creation_date":1394620775,"post_id":22348685,"comment_id":33967577,"body_markdown":"how would i do that?\nthe purpose is that suppose i have a frame with 2 buttons one that moves something and the 2nd one stops it and then using mouse listener i can move it manually.","body":"how would i do that? the purpose is that suppose i have a frame with 2 buttons one that moves something and the 2nd one stops it and then using mouse listener i can move it manually."}],"answers":[{"comments":[{"owner":{"account_id":3930449,"reputation":113,"user_id":3249265,"accept_rate":75,"display_name":"user3249265"},"score":0,"creation_date":1394621509,"post_id":22349035,"comment_id":33968049,"body_markdown":"sorry im not familar with JToggle so im a little confused is there a simpler way without it?","body":"sorry im not familar with JToggle so im a little confused is there a simpler way without it?"},{"owner":{"account_id":3455808,"reputation":10954,"user_id":2894369,"display_name":"alex2410"},"score":0,"creation_date":1394621764,"post_id":22349035,"comment_id":33968257,"body_markdown":"Yeah, you can use `JButton` but `JToggleButton` indicates if your `MouseListener` is active.","body":"Yeah, you can use <code>JButton</code> but <code>JToggleButton</code> indicates if your <code>MouseListener</code> is active."}],"tags":[],"owner":{"account_id":3455808,"reputation":10954,"user_id":2894369,"display_name":"alex2410"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394621833,"creation_date":1394621171,"answer_id":22349035,"question_id":22348685,"body_markdown":"Here is example with `JToggleButton` which add/remove `MouseListener` to `JFrame`.\r\n\r\n    import java.awt.FlowLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JToggleButton;\r\n    \r\n    public class Example extends JFrame {\r\n    \t\r\n    \tprivate MouseAdapter mouseListener;\r\n    \r\n    \tpublic Example(){\r\n    \t\tinit();\r\n    \t\tpack();\r\n    \t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tsetVisible(true);\r\n    \t}\r\n    \t\r\n    \tprivate void init() {\r\n    \t\tmouseListener = new MouseAdapter() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void mouseClicked(MouseEvent e) {\r\n    \t\t\t\tsuper.mouseClicked(e);\r\n    \t\t\t\tSystem.out.println(&quot;clicked&quot;);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\tsetLayout(new FlowLayout());\r\n    \t\tJToggleButton b = new JToggleButton(&quot;add listener&quot;);\r\n    \t\tb.addActionListener(new ActionListener() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\tif(((JToggleButton)e.getSource()).isSelected()){\r\n    \t\t\t\t\tExample.this.addMouseListener(mouseListener);\r\n    \t\t\t\t\t((JToggleButton)e.getSource()).setText(&quot;remove listener&quot;);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tExample.this.removeMouseListener(mouseListener);\r\n    \t\t\t\t\t((JToggleButton)e.getSource()).setText(&quot;add listener&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tadd(b);\r\n    \t}\r\n    \r\n    \tpublic static void main(String... s){\r\n    \t\tnew Example();\r\n    \t}\r\n    }\r\n\r\nEDIT: examle with `JButton`:\r\n\r\n   \r\n\r\n    public class Example extends JFrame {\r\n    \t\r\n    \tprivate MouseAdapter mouseListener;\r\n    \r\n    \tpublic Example(){\r\n    \t\tinit();\r\n    \t\tpack();\r\n    \t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tsetVisible(true);\r\n    \t}\r\n    \t\r\n    \tprivate void init() {\r\n    \t\tmouseListener = new MouseAdapter() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void mouseClicked(MouseEvent e) {\r\n    \t\t\t\tsuper.mouseClicked(e);\r\n    \t\t\t\tSystem.out.println(&quot;clicked&quot;);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\tsetLayout(new FlowLayout());\r\n    \t\tJButton b = new JButton(&quot;add listener&quot;);\r\n    \t\tb.addActionListener(new ActionListener() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\tif(((JButton)e.getSource()).getText().equals(&quot;add listener&quot;)){\r\n    \t\t\t\t\tExample.this.addMouseListener(mouseListener);\r\n    \t\t\t\t\t((JButton)e.getSource()).setText(&quot;remove listener&quot;);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tExample.this.removeMouseListener(mouseListener);\r\n    \t\t\t\t\t((JButton)e.getSource()).setText(&quot;add listener&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tadd(b);\r\n    \t}\r\n    \r\n    \tpublic static void main(String... s){\r\n    \t\tnew Example();\r\n    \t}\r\n    }","title":"JButton with both ActionListener / MouseListener","body":"<p>Here is example with <code>JToggleButton</code> which add/remove <code>MouseListener</code> to <code>JFrame</code>.</p>\n\n<pre><code>import java.awt.FlowLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\n\nimport javax.swing.JFrame;\nimport javax.swing.JToggleButton;\n\npublic class Example extends JFrame {\n\n    private MouseAdapter mouseListener;\n\n    public Example(){\n        init();\n        pack();\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setVisible(true);\n    }\n\n    private void init() {\n        mouseListener = new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                super.mouseClicked(e);\n                System.out.println(\"clicked\");\n            }\n        };\n        setLayout(new FlowLayout());\n        JToggleButton b = new JToggleButton(\"add listener\");\n        b.addActionListener(new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if(((JToggleButton)e.getSource()).isSelected()){\n                    Example.this.addMouseListener(mouseListener);\n                    ((JToggleButton)e.getSource()).setText(\"remove listener\");\n                } else {\n                    Example.this.removeMouseListener(mouseListener);\n                    ((JToggleButton)e.getSource()).setText(\"add listener\");\n                }\n            }\n        });\n        add(b);\n    }\n\n    public static void main(String... s){\n        new Example();\n    }\n}\n</code></pre>\n\n<p>EDIT: examle with <code>JButton</code>:</p>\n\n<pre><code>public class Example extends JFrame {\n\n    private MouseAdapter mouseListener;\n\n    public Example(){\n        init();\n        pack();\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setVisible(true);\n    }\n\n    private void init() {\n        mouseListener = new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                super.mouseClicked(e);\n                System.out.println(\"clicked\");\n            }\n        };\n        setLayout(new FlowLayout());\n        JButton b = new JButton(\"add listener\");\n        b.addActionListener(new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if(((JButton)e.getSource()).getText().equals(\"add listener\")){\n                    Example.this.addMouseListener(mouseListener);\n                    ((JButton)e.getSource()).setText(\"remove listener\");\n                } else {\n                    Example.this.removeMouseListener(mouseListener);\n                    ((JButton)e.getSource()).setText(\"add listener\");\n                }\n            }\n        });\n        add(b);\n    }\n\n    public static void main(String... s){\n        new Example();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3930449,"reputation":113,"user_id":3249265,"accept_rate":75,"display_name":"user3249265"},"score":0,"creation_date":1394621558,"post_id":22349053,"comment_id":33968095,"body_markdown":"tried adding both but mouseListener would always work in sync with actionListener","body":"tried adding both but mouseListener would always work in sync with actionListener"},{"owner":{"account_id":3591540,"reputation":11,"user_id":2997477,"display_name":"user2997477"},"score":0,"creation_date":1394621743,"post_id":22349053,"comment_id":33968238,"body_markdown":"You can use a boolean variable to toggle between the mouse listener.","body":"You can use a boolean variable to toggle between the mouse listener."}],"tags":[],"owner":{"account_id":3591540,"reputation":11,"user_id":2997477,"display_name":"user2997477"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394621215,"creation_date":1394621215,"answer_id":22349053,"question_id":22348685,"body_markdown":"If you want to move something by clicking on it, you can use a mouse listener on that node directly, instead of using it on the button.\r\n\r\nTo add both the action listener and a mouse listener on a button, you can use the addActionListener and addMouseListener methods on the button.\r\n\r\nLook at the api for information about these methods... http://docs.oracle.com/javase/7/docs/api/javax/swing/JButton.html","title":"JButton with both ActionListener / MouseListener","body":"<p>If you want to move something by clicking on it, you can use a mouse listener on that node directly, instead of using it on the button.</p>\n\n<p>To add both the action listener and a mouse listener on a button, you can use the addActionListener and addMouseListener methods on the button.</p>\n\n<p>Look at the api for information about these methods... <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JButton.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/javax/swing/JButton.html</a></p>\n"},{"comments":[{"owner":{"account_id":3930449,"reputation":113,"user_id":3249265,"accept_rate":75,"display_name":"user3249265"},"score":0,"creation_date":1394621801,"post_id":22349243,"comment_id":33968286,"body_markdown":"what is yourMouseListener? a public void method?","body":"what is yourMouseListener? a public void method?"},{"owner":{"account_id":3163780,"reputation":747,"user_id":2674225,"accept_rate":53,"display_name":"rzysia"},"score":0,"creation_date":1394622033,"post_id":22349243,"comment_id":33968433,"body_markdown":"it can be anything that implements MouseListener interface (especially new MouseListener(){ //MouseListener body with overrided methods }","body":"it can be anything that implements MouseListener interface (especially new MouseListener(){ //MouseListener body with overrided methods }"}],"tags":[],"owner":{"account_id":3163780,"reputation":747,"user_id":2674225,"accept_rate":53,"display_name":"rzysia"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394621625,"creation_date":1394621625,"answer_id":22349243,"question_id":22348685,"body_markdown":"If I understood you correctly, this sample might help you (add this to your own ActionListener)\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        ((JButton)e.getSource()).addMouseListener(yourMouseListener);\r\n    }\r\n\r\nI tried this, it works.","title":"JButton with both ActionListener / MouseListener","body":"<p>If I understood you correctly, this sample might help you (add this to your own ActionListener)</p>\n\n<pre><code>@Override\npublic void actionPerformed(ActionEvent e) {\n    ((JButton)e.getSource()).addMouseListener(yourMouseListener);\n}\n</code></pre>\n\n<p>I tried this, it works.</p>\n"},{"tags":[],"owner":{"account_id":3591540,"reputation":11,"user_id":2997477,"display_name":"user2997477"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394622204,"creation_date":1394622204,"answer_id":22349491,"question_id":22348685,"body_markdown":"What you want to do is still not clear to me. Though this can help you. It will add a mouse listner to the component when the start button is clicked and remove the mouse listner when stop button is clicked. Thus you can stop the two listeners from working in sync..\r\n\r\n    JButton startButton = new JButton();\r\n\r\n    startButton.addActionListener(new ActionListener() {         \r\n    public void actionPerformed(ActionEvent e) {\r\n    \r\n       //Add MouseListener to move the component\r\n       \r\n    }\r\n    }); \r\n\r\n    JButton stopButton = new JButton();\r\n\r\n    stopButton.addActionListener(new ActionListener() {         \r\n    public void actionPerformed(ActionEvent e) {\r\n    \r\n       //Remove the MouseListener\r\n       \r\n    }\r\n    }); ","title":"JButton with both ActionListener / MouseListener","body":"<p>What you want to do is still not clear to me. Though this can help you. It will add a mouse listner to the component when the start button is clicked and remove the mouse listner when stop button is clicked. Thus you can stop the two listeners from working in sync..</p>\n\n<pre><code>JButton startButton = new JButton();\n\nstartButton.addActionListener(new ActionListener() {         \npublic void actionPerformed(ActionEvent e) {\n\n   //Add MouseListener to move the component\n\n}\n}); \n\nJButton stopButton = new JButton();\n\nstopButton.addActionListener(new ActionListener() {         \npublic void actionPerformed(ActionEvent e) {\n\n   //Remove the MouseListener\n\n}\n}); \n</code></pre>\n"}],"owner":{"account_id":3930449,"reputation":113,"user_id":3249265,"accept_rate":75,"display_name":"user3249265"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23532,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1701442980,"creation_date":1394620357,"question_id":22348685,"body_markdown":"Is it possible to create a Jbutton with both an ActionListener and MouseListener\r\n\r\nMeaning so i create a button and then when i press it ( throught actionListener) it changes the frame so that AFTER then button was pressed i  can press anywhere on the frame and MouseListener would in use.\r\n\r\n    JButton button = new JButton();//Creates Button\r\n    button.addActionListener(new ActionListener() {         \r\n    public void actionPerformed(ActionEvent e) {\r\n        //Insert MouseListener\r\n        //Then do something with mouseListener\r\n    }\r\n    }); \r\n\r\n\r\n\r\nHeres the curent code: however they&#39;re now in sync when i try to click the button and i cannot call mouseListener a 2nd time\r\n\r\n    \tJButton button2 = new JButton(&quot;Click&quot;);\r\n\t\tbutton2.addActionListener(new ActionListener()\r\n\t\t{\r\n\t\t\tpublic void actionPerformed(ActionEvent e)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;You clicked the button&quot;);\r\n\t\t\t\tnewCube.stopCube();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t});\r\n\t\tbutton2.addMouseListener(new java.awt.event.MouseAdapter()\r\n\t\t{\r\n\t\t\tpublic void mousePressed(java.awt.event.MouseEvent evt)\r\n\t\t\t{\r\n\t\t\t\tdouble x = evt.getX();\r\n\t\t\t\tdouble y = evt.getY();\r\n\t\t\t\tnewCube.setCube(x,y);\r\n\t\t\t}\r\n\t\t});\r\n","title":"JButton with both ActionListener / MouseListener","body":"<p>Is it possible to create a Jbutton with both an ActionListener and MouseListener</p>\n\n<p>Meaning so i create a button and then when i press it ( throught actionListener) it changes the frame so that AFTER then button was pressed i  can press anywhere on the frame and MouseListener would in use.</p>\n\n<pre><code>JButton button = new JButton();//Creates Button\nbutton.addActionListener(new ActionListener() {         \npublic void actionPerformed(ActionEvent e) {\n    //Insert MouseListener\n    //Then do something with mouseListener\n}\n}); \n</code></pre>\n\n<p>Heres the curent code: however they're now in sync when i try to click the button and i cannot call mouseListener a 2nd time</p>\n\n<pre><code>    JButton button2 = new JButton(\"Click\");\n    button2.addActionListener(new ActionListener()\n    {\n        public void actionPerformed(ActionEvent e)\n        {\n            System.out.println(\"You clicked the button\");\n            newCube.stopCube();\n        }\n\n    });\n    button2.addMouseListener(new java.awt.event.MouseAdapter()\n    {\n        public void mousePressed(java.awt.event.MouseEvent evt)\n        {\n            double x = evt.getX();\n            double y = evt.getY();\n            newCube.setCube(x,y);\n        }\n    });\n</code></pre>\n"},{"tags":["java","gwt","gxt"],"answers":[{"tags":[],"owner":{"account_id":70754,"reputation":1,"user_id":204877,"display_name":"user204877"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1330109982,"creation_date":1257516389,"answer_id":1687821,"question_id":1175946,"body_markdown":"I use `radio.setValueAttribute(String value)` method to store value.","title":"Get Name of selected RadioButton in EXT-GWT RadioGroup","body":"<p>I use <code>radio.setValueAttribute(String value)</code> method to store value.</p>\n"},{"tags":[],"owner":{"account_id":538910,"reputation":1115,"user_id":906677,"accept_rate":86,"display_name":"hsestupin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1321011303,"creation_date":1321011303,"answer_id":8093410,"question_id":1175946,"body_markdown":"I think, that&#39;s you need.\r\n    \r\n    radioGroup.addListener(Events.Change, new Listener&lt;FieldEvent&gt;() {\r\n        @Override\r\n        public void handleEvent(FieldEvent fe) {\r\n            GWT.log(fe.getField().getName() + &quot; : &quot; + fe.getValue());\r\n        }\r\n    });","title":"Get Name of selected RadioButton in EXT-GWT RadioGroup","body":"<p>I think, that's you need.</p>\n\n<pre><code>radioGroup.addListener(Events.Change, new Listener&lt;FieldEvent&gt;() {\n    @Override\n    public void handleEvent(FieldEvent fe) {\n        GWT.log(fe.getField().getName() + \" : \" + fe.getValue());\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":21157,"reputation":16683,"user_id":51230,"accept_rate":83,"display_name":"Maksim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9586,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701442980,"creation_date":1248415453,"question_id":1175946,"body_markdown":"I have following code:\r\n\r\n    final Radio trDelRadio = new Radio();\r\n    trDelRadio.setName(&quot;TDRADIO&quot;);\r\n    trDelRadio.setBoxLabel(&quot;Training&quot;);\r\n    \r\n    final Radio cdcRadio = new Radio();\r\n    cdcRadio.setName(&quot;CDCRADIO&quot;);\r\n    cdcRadio.setBoxLabel(&quot;Content&quot;);\r\n    \r\n    final Radio msRadio = new Radio();\r\n    msRadio.setName(&quot;MSRADIO&quot;);\r\n    msRadio.setBoxLabel(&quot;Management&quot;);\r\n    \r\n    final Radio osRadio = new Radio();\r\n    osRadio.setName(&quot;OSRADIO&quot;);\r\n    osRadio.setBoxLabel(&quot;Outsourcing&quot;);\r\n    \r\n    \r\n    final RadioGroup radioGroup = new RadioGroup();\r\n    radioGroup.setOrientation(Orientation.VERTICAL);\r\n    radioGroup.add(trDelRadio);\r\n    radioGroup.add(cdcRadio);\r\n    radioGroup.add(msRadio);\r\n    radioGroup.add(osRadio);\r\n    radioGroup.addListener(Events.Change, new Listener&lt;BaseEvent&gt;(){\r\n           public void handleEvent(BaseEvent be) {\r\n                  GWT.log(&quot;Service type: &quot; + radioGroup.getValue().getBoxLabel(), null);\r\n            }\r\n    });\r\n\r\nIn this code I&#39;m using GXT 2.0.1 create four radio buttons and then combining them into the radio button group.\r\n\r\nLine\r\n \r\n    GWT.log(&quot;Service type: &quot; + radioGroup.getValue().getBoxLabel(), null);\r\n\r\nis retrieving Label of selected check box and works fine, but when I&#39;m trying to get name or any other information it&#39;s  getting value of the RadioGroup. What am I doing wrong here? How do I get selected radio button in RadioGroup?","title":"Get Name of selected RadioButton in EXT-GWT RadioGroup","body":"<p>I have following code:</p>\n\n<pre><code>final Radio trDelRadio = new Radio();\ntrDelRadio.setName(\"TDRADIO\");\ntrDelRadio.setBoxLabel(\"Training\");\n\nfinal Radio cdcRadio = new Radio();\ncdcRadio.setName(\"CDCRADIO\");\ncdcRadio.setBoxLabel(\"Content\");\n\nfinal Radio msRadio = new Radio();\nmsRadio.setName(\"MSRADIO\");\nmsRadio.setBoxLabel(\"Management\");\n\nfinal Radio osRadio = new Radio();\nosRadio.setName(\"OSRADIO\");\nosRadio.setBoxLabel(\"Outsourcing\");\n\n\nfinal RadioGroup radioGroup = new RadioGroup();\nradioGroup.setOrientation(Orientation.VERTICAL);\nradioGroup.add(trDelRadio);\nradioGroup.add(cdcRadio);\nradioGroup.add(msRadio);\nradioGroup.add(osRadio);\nradioGroup.addListener(Events.Change, new Listener&lt;BaseEvent&gt;(){\n       public void handleEvent(BaseEvent be) {\n              GWT.log(\"Service type: \" + radioGroup.getValue().getBoxLabel(), null);\n        }\n});\n</code></pre>\n\n<p>In this code I'm using GXT 2.0.1 create four radio buttons and then combining them into the radio button group.</p>\n\n<p>Line</p>\n\n<pre><code>GWT.log(\"Service type: \" + radioGroup.getValue().getBoxLabel(), null);\n</code></pre>\n\n<p>is retrieving Label of selected check box and works fine, but when I'm trying to get name or any other information it's  getting value of the RadioGroup. What am I doing wrong here? How do I get selected radio button in RadioGroup?</p>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch","elasticsearch-high-level-restclient"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701442644,"creation_date":1701442644,"answer_id":77586171,"question_id":77585958,"body_markdown":"I doubt that this version mix will work\r\n\r\n* Spring Boot 3.1 uses Spring Data Elasticsearch 5.1 and Elasticsearch 8.7, Spring 6\r\n* Spring Data Elasticsearch 4.3 is built with Spring 5.3 and Elasticsearch 7.15\r\n\r\nAs for the returned aggregations from Spring Data Elasticsearch 5 on, you will have to check the classes that are returned from the Elasticsearch libraries, Spring Data Elasticsearch doen&#39;t use it&#39;s own classes there.\r\n\r\n","title":"AggregationsContainer after Updating from Elastic 7 to 8 (+Spring 3, JDK 17)","body":"<p>I doubt that this version mix will work</p>\n<ul>\n<li>Spring Boot 3.1 uses Spring Data Elasticsearch 5.1 and Elasticsearch 8.7, Spring 6</li>\n<li>Spring Data Elasticsearch 4.3 is built with Spring 5.3 and Elasticsearch 7.15</li>\n</ul>\n<p>As for the returned aggregations from Spring Data Elasticsearch 5 on, you will have to check the classes that are returned from the Elasticsearch libraries, Spring Data Elasticsearch doen't use it's own classes there.</p>\n"}],"owner":{"account_id":20216024,"reputation":1,"user_id":22126079,"display_name":"Andreas Pichler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701442644,"creation_date":1701440856,"question_id":77585958,"body_markdown":"Hello dear community, \r\n\r\nI have upgraded Spring Boot to 3.1.5 and JDK to 17 and my ElasticSearch from 7.x to 8.x, now I have the problem that I can&#39;t find a solution how to refactor aggregations, which still had a .get(String x) method in version 4.0.0.RELEASE, so that they work in my currently used version of spring-data-elasticsearch. As I am still relatively new to the world of ElasticSearch, I also wanted to ask whether the dependencies used are compatible with ES8? As far as I understand it, the rest high level client is no longer used in the ES8 version and the java client is used instead. Is that correct? I would be very happy about some help! :)\r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\r\n  &lt;version&gt;3.1.1&lt;/version&gt; &lt;!--Last version is 3.2.0--&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-data-elasticsearch&lt;/artifactId&gt;\r\n  &lt;version&gt;4.3.6&lt;/version&gt; &lt;!--Last version is 5.2.0--&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;co.elastic.clients&lt;/groupId&gt;\r\n  &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\r\n  &lt;version&gt;8.11.1&lt;/version&gt; &lt;!--Is last version--&gt;\r\n&lt;/dependency&gt;\r\n\r\npublic static Set&lt;Integer&gt; getAggregations(SearchHits&lt;ElasticSearchArticleDto&gt; search, String aggregation)\r\n  {\r\n    Set&lt;Integer&gt; result = new LinkedHashSet&lt;&gt;();\r\n    if (search.getAggregations() != null &amp;&amp; (search.getAggregations()).**get**(aggregation) != null)\r\n    {\r\n      ((ParsedLongTerms) (search.getAggregations()).**get**(aggregation)).getBuckets()\r\n        .forEach(bucket -&gt; result.add(bucket.getKeyAsNumber().intValue()));\r\n    }\r\n    return result;\r\n}\r\n\r\n```\r\n\r\nSpring Boot 3.1.5, Java 17, ES8 Upgrade","title":"AggregationsContainer after Updating from Elastic 7 to 8 (+Spring 3, JDK 17)","body":"<p>Hello dear community,</p>\n<p>I have upgraded Spring Boot to 3.1.5 and JDK to 17 and my ElasticSearch from 7.x to 8.x, now I have the problem that I can't find a solution how to refactor aggregations, which still had a .get(String x) method in version 4.0.0.RELEASE, so that they work in my currently used version of spring-data-elasticsearch. As I am still relatively new to the world of ElasticSearch, I also wanted to ask whether the dependencies used are compatible with ES8? As far as I understand it, the rest high level client is no longer used in the ES8 version and the java client is used instead. Is that correct? I would be very happy about some help! :)</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\n  &lt;version&gt;3.1.1&lt;/version&gt; &lt;!--Last version is 3.2.0--&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-data-elasticsearch&lt;/artifactId&gt;\n  &lt;version&gt;4.3.6&lt;/version&gt; &lt;!--Last version is 5.2.0--&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;co.elastic.clients&lt;/groupId&gt;\n  &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\n  &lt;version&gt;8.11.1&lt;/version&gt; &lt;!--Is last version--&gt;\n&lt;/dependency&gt;\n\npublic static Set&lt;Integer&gt; getAggregations(SearchHits&lt;ElasticSearchArticleDto&gt; search, String aggregation)\n  {\n    Set&lt;Integer&gt; result = new LinkedHashSet&lt;&gt;();\n    if (search.getAggregations() != null &amp;&amp; (search.getAggregations()).**get**(aggregation) != null)\n    {\n      ((ParsedLongTerms) (search.getAggregations()).**get**(aggregation)).getBuckets()\n        .forEach(bucket -&gt; result.add(bucket.getKeyAsNumber().intValue()));\n    }\n    return result;\n}\n\n</code></pre>\n<p>Spring Boot 3.1.5, Java 17, ES8 Upgrade</p>\n"},{"tags":["javascript","java","android","reactjs","react-native"],"owner":{"account_id":11778189,"reputation":5298,"user_id":8618818,"accept_rate":78,"display_name":"Onyx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701442641,"creation_date":1701442641,"question_id":77586169,"body_markdown":"I can set a fingerprint and a face unlock on my Android phone and currently I am trying to check if either is available and biometrically authenticate the user in my application.\r\n\r\nI am currently using the react-native-biometrics package which supports both TouchID and FaceID for iOS, but only Biometrics for Android. When I do this:\r\n\r\n    const { biometryType } = await biometrics.isSensorAvailable();\r\n\r\nIt is only defined if I have a fingerprint unlock set up.\r\n\r\n        const { success } = await biometrics.simplePrompt({\r\n            promptMessage: &#39;Confirmation&#39;,\r\n        });\r\n\r\nAlso only triggers if I have fingerprint unlock set up. It doesn&#39;t do anything if I just have face unlock set up.\r\n\r\nFrom what I can see, all React Native libraries that I have found only support fingerprint for Android. I imagine there must be some sort of Android reason for this?","title":"React Native Android biometrics - can I locally authenticate using face lock? From what I see, only fingerprint authentication works","body":"<p>I can set a fingerprint and a face unlock on my Android phone and currently I am trying to check if either is available and biometrically authenticate the user in my application.</p>\n<p>I am currently using the react-native-biometrics package which supports both TouchID and FaceID for iOS, but only Biometrics for Android. When I do this:</p>\n<pre><code>const { biometryType } = await biometrics.isSensorAvailable();\n</code></pre>\n<p>It is only defined if I have a fingerprint unlock set up.</p>\n<pre><code>    const { success } = await biometrics.simplePrompt({\n        promptMessage: 'Confirmation',\n    });\n</code></pre>\n<p>Also only triggers if I have fingerprint unlock set up. It doesn't do anything if I just have face unlock set up.</p>\n<p>From what I can see, all React Native libraries that I have found only support fingerprint for Android. I imagine there must be some sort of Android reason for this?</p>\n"},{"tags":["java","spring","spring-security"],"answers":[{"tags":[],"owner":{"account_id":121145,"reputation":4865,"user_id":314015,"display_name":"alexkasko"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1429815423,"creation_date":1332957577,"answer_id":9913148,"question_id":9910252,"body_markdown":"The key point - you should be able to access users `SecurityContext`s. \r\n\r\nIf you are in servlet environment and are using `HttpSession` as `securityContextRepository` in your `securityContextPersistenceFilter`, then it can be done with spring&#39;s `SessionRegistry`. To force the user to re-auth (it should be better than silent permissions revocation) invalidate his `HttpSession`. Don&#39;t forget to add `HttpSessionEventPublisher` to web.xml\r\n\r\n    &lt;listener&gt;\r\n        &lt;listener-class&gt;\r\n            org.springframework.security.web.session.HttpSessionEventPublisher\r\n        &lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n\r\nIf you are using thread-local `securityContextRepository`, then you should add custom filter to `springSecurityFilterChain` to manage `SecurityContext`s registry. To do this you must the use plain-bean `springSecurityFilterChain` configuration (without `security` namespace shortcuts). With plain-bean config with custom filters you&#39;ll have full control on authentication and authorization.\r\n\r\nSome links, they don&#39;t solve exactly your problem (no OpenID), but may be useful:\r\n\r\n - [NIH session registry](https://github.com/alx3apps/spring-embedded-tomcat/tree/master/components/src/main/java/ru/concerteza/springtomcat/components/registry) for servlet environment\r\n - [it&#39;s plain-bean spring config](https://github.com/alx3apps/spring-embedded-tomcat/blob/master/etomcat6-test/src/main/app-dirs/registrydir/conf/etomcat-test-ctx.xml) working example\r\n - [real life plain-bean spring config for X.509 auth](https://github.com/alx3apps/spring-embedded-tomcat/blob/master/etomcat6-test/src/main/app-dirs/x509dir/conf/etomcat-test-ctx.xml), you may start with it and modify it to use OpenID instead of X.509.","title":"How to reload authorities on user update with Spring Security","body":"<p>The key point - you should be able to access users <code>SecurityContext</code>s. </p>\n\n<p>If you are in servlet environment and are using <code>HttpSession</code> as <code>securityContextRepository</code> in your <code>securityContextPersistenceFilter</code>, then it can be done with spring's <code>SessionRegistry</code>. To force the user to re-auth (it should be better than silent permissions revocation) invalidate his <code>HttpSession</code>. Don't forget to add <code>HttpSessionEventPublisher</code> to web.xml</p>\n\n<pre><code>&lt;listener&gt;\n    &lt;listener-class&gt;\n        org.springframework.security.web.session.HttpSessionEventPublisher\n    &lt;/listener-class&gt;\n&lt;/listener&gt;\n</code></pre>\n\n<p>If you are using thread-local <code>securityContextRepository</code>, then you should add custom filter to <code>springSecurityFilterChain</code> to manage <code>SecurityContext</code>s registry. To do this you must the use plain-bean <code>springSecurityFilterChain</code> configuration (without <code>security</code> namespace shortcuts). With plain-bean config with custom filters you'll have full control on authentication and authorization.</p>\n\n<p>Some links, they don't solve exactly your problem (no OpenID), but may be useful:</p>\n\n<ul>\n<li><a href=\"https://github.com/alx3apps/spring-embedded-tomcat/tree/master/components/src/main/java/ru/concerteza/springtomcat/components/registry\" rel=\"nofollow noreferrer\">NIH session registry</a> for servlet environment</li>\n<li><a href=\"https://github.com/alx3apps/spring-embedded-tomcat/blob/master/etomcat6-test/src/main/app-dirs/registrydir/conf/etomcat-test-ctx.xml\" rel=\"nofollow noreferrer\">it's plain-bean spring config</a> working example</li>\n<li><a href=\"https://github.com/alx3apps/spring-embedded-tomcat/blob/master/etomcat6-test/src/main/app-dirs/x509dir/conf/etomcat-test-ctx.xml\" rel=\"nofollow noreferrer\">real life plain-bean spring config for X.509 auth</a>, you may start with it and modify it to use OpenID instead of X.509.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":121145,"reputation":4865,"user_id":314015,"display_name":"alexkasko"},"score":0,"creation_date":1333015716,"post_id":9922613,"comment_id":12665253,"body_markdown":"`securityContextPersistenceFilter` by default will put `SecurityContext` into `HttpSession` in servlet environment. As you already have out-of-the-box spring `SessionRegistry` you do not need to customize this filter.","body":"<code>securityContextPersistenceFilter</code> by default will put <code>SecurityContext</code> into <code>HttpSession</code> in servlet environment. As you already have out-of-the-box spring <code>SessionRegistry</code> you do not need to customize this filter."},{"owner":{"account_id":1136625,"reputation":3087,"user_id":1121571,"accept_rate":61,"display_name":"Aure77"},"score":0,"creation_date":1333021455,"post_id":9922613,"comment_id":12667280,"body_markdown":"I am in servlet environment, what is the usefulness of customizing securityContextPersistenceFilter ?","body":"I am in servlet environment, what is the usefulness of customizing securityContextPersistenceFilter ?"},{"owner":{"account_id":121145,"reputation":4865,"user_id":314015,"display_name":"alexkasko"},"score":0,"creation_date":1333030683,"post_id":9922613,"comment_id":12671277,"body_markdown":"different cases possible, e.g. `HttpSession`s are disabled and you don&#39;t want thread-local storage. So you can use your own implementation of `securityContextRepository`. If `HttpSession` storage suit your needs, then there is no usefulness.","body":"different cases possible, e.g. <code>HttpSession</code>s are disabled and you don&#39;t want thread-local storage. So you can use your own implementation of <code>securityContextRepository</code>. If <code>HttpSession</code> storage suit your needs, then there is no usefulness."},{"owner":{"account_id":1136625,"reputation":3087,"user_id":1121571,"accept_rate":61,"display_name":"Aure77"},"score":2,"creation_date":1333094679,"post_id":9922613,"comment_id":12689334,"body_markdown":"I am using the code above (see EDIT) to invalidate user session. But I have a problem, user is not forced to re-logging... I think that the SecurityContextHolder is not cleared for this User.\n\nHow can I perform that ?","body":"I am using the code above (see EDIT) to invalidate user session. But I have a problem, user is not forced to re-logging... I think that the SecurityContextHolder is not cleared for this User.  How can I perform that ?"},{"owner":{"account_id":121145,"reputation":4865,"user_id":314015,"display_name":"alexkasko"},"score":0,"creation_date":1333200339,"post_id":9922613,"comment_id":12715048,"body_markdown":"I&#39;m not familiar with spring&#39;s `SessionRegistry` API. If it provides direct access to `HttpSession` then you can clear `SecurityContext` manually. Or you may use your own session registry implementation, like one in my answer.","body":"I&#39;m not familiar with spring&#39;s <code>SessionRegistry</code> API. If it provides direct access to <code>HttpSession</code> then you can clear <code>SecurityContext</code> manually. Or you may use your own session registry implementation, like one in my answer."},{"owner":{"account_id":1136625,"reputation":3087,"user_id":1121571,"accept_rate":61,"display_name":"Aure77"},"score":0,"creation_date":1333309672,"post_id":9922613,"comment_id":12733127,"body_markdown":"`SecurityContext` is for current logged user, but if I want to logout anohter user, how can i use it (to invalidate his session) ?","body":"<code>SecurityContext</code> is for current logged user, but if I want to logout anohter user, how can i use it (to invalidate his session) ?"},{"owner":{"account_id":121145,"reputation":4865,"user_id":314015,"display_name":"alexkasko"},"score":1,"creation_date":1333374449,"post_id":9922613,"comment_id":12748217,"body_markdown":"`SecurityContext` for each user lies in each user&#39;s session, see details [here](https://github.com/SpringSource/spring-security/blob/3.0.x/web/src/main/java/org/springframework/security/web/context/HttpSessionSecurityContextRepository.java#L138). If you can access other user&#39;s session through registry then you can do what you want with it.","body":"<code>SecurityContext</code> for each user lies in each user&#39;s session, see details <a href=\"https://github.com/SpringSource/spring-security/blob/3.0.x/web/src/main/java/org/springframework/security/web/context/HttpSessionSecurityContextRepository.java#L138\" rel=\"nofollow noreferrer\">here</a>. If you can access other user&#39;s session through registry then you can do what you want with it."}],"tags":[],"owner":{"account_id":1136625,"reputation":3087,"user_id":1121571,"accept_rate":61,"display_name":"Aure77"},"comment_count":7,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1333094455,"creation_date":1333013358,"answer_id":9922613,"question_id":9910252,"body_markdown":"Thanks, help me a lot ! With `SessionRegistry`, I can use [getAllPrincipals()](http://static.springsource.org/spring-security/site/docs/3.1.x/apidocs/org/springframework/security/core/session/SessionRegistry.html#getAllPrincipals%28%29) to compare the user to modify with the current active users in sessions. If a session exist, I can invalidate his session using : [expireNow()](http://static.springsource.org/spring-security/site/docs/3.1.x/apidocs/org/springframework/security/core/session/SessionInformation.html#expireNow%28%29) (from `SessionInformation`) to force re-authentication.\r\n\r\nBut I don&#39;t understand the usefulness of `securityContextPersistenceFilter` ?\r\n\r\nEDIT :\r\n\r\n    // user object = User currently updated\r\n    // invalidate user session\r\n    List&lt;Object&gt; loggedUsers = sessionRegistry.getAllPrincipals();\r\n    for (Object principal : loggedUsers) {\r\n    \tif(principal instanceof User) {\r\n    \t\tfinal User loggedUser = (User) principal;\r\n    \t\tif(user.getUsername().equals(loggedUser.getUsername())) {\r\n    \t\t\tList&lt;SessionInformation&gt; sessionsInfo = sessionRegistry.getAllSessions(principal, false);\r\n    \t\t\tif(null != sessionsInfo &amp;&amp; sessionsInfo.size() &gt; 0) {\r\n    \t\t\t\tfor (SessionInformation sessionInformation : sessionsInfo) {\r\n    \t\t\t\t\tLOGGER.info(&quot;Exprire now :&quot; + sessionInformation.getSessionId());\r\n    \t\t\t\t\tsessionInformation.expireNow();\r\n    \t\t\t\t\tsessionRegistry.removeSessionInformation(sessionInformation.getSessionId());\r\n    \t\t\t\t\t// User is not forced to re-logging\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    } ","title":"How to reload authorities on user update with Spring Security","body":"<p>Thanks, help me a lot ! With <code>SessionRegistry</code>, I can use <a href=\"http://static.springsource.org/spring-security/site/docs/3.1.x/apidocs/org/springframework/security/core/session/SessionRegistry.html#getAllPrincipals%28%29\" rel=\"noreferrer\">getAllPrincipals()</a> to compare the user to modify with the current active users in sessions. If a session exist, I can invalidate his session using : <a href=\"http://static.springsource.org/spring-security/site/docs/3.1.x/apidocs/org/springframework/security/core/session/SessionInformation.html#expireNow%28%29\" rel=\"noreferrer\">expireNow()</a> (from <code>SessionInformation</code>) to force re-authentication.</p>\n\n<p>But I don't understand the usefulness of <code>securityContextPersistenceFilter</code> ?</p>\n\n<p>EDIT :</p>\n\n<pre><code>// user object = User currently updated\n// invalidate user session\nList&lt;Object&gt; loggedUsers = sessionRegistry.getAllPrincipals();\nfor (Object principal : loggedUsers) {\n    if(principal instanceof User) {\n        final User loggedUser = (User) principal;\n        if(user.getUsername().equals(loggedUser.getUsername())) {\n            List&lt;SessionInformation&gt; sessionsInfo = sessionRegistry.getAllSessions(principal, false);\n            if(null != sessionsInfo &amp;&amp; sessionsInfo.size() &gt; 0) {\n                for (SessionInformation sessionInformation : sessionsInfo) {\n                    LOGGER.info(\"Exprire now :\" + sessionInformation.getSessionId());\n                    sessionInformation.expireNow();\n                    sessionRegistry.removeSessionInformation(sessionInformation.getSessionId());\n                    // User is not forced to re-logging\n                }\n            }\n        }\n    }\n} \n</code></pre>\n"},{"comments":[{"owner":{"account_id":3820579,"reputation":1458,"user_id":3168770,"accept_rate":67,"display_name":"Paulo"},"score":16,"creation_date":1472565248,"post_id":30674697,"comment_id":65795876,"body_markdown":"Well, it almost worked for me. This &quot;auth&quot; variable is concerned the logged in user (that is, me). If I am logged in as &quot;x&quot; and I&#39;d like to revoke &quot;y&quot; authorities, how do I get Authentication&#39;s object from that specific user?","body":"Well, it almost worked for me. This &quot;auth&quot; variable is concerned the logged in user (that is, me). If I am logged in as &quot;x&quot; and I&#39;d like to revoke &quot;y&quot; authorities, how do I get Authentication&#39;s object from that specific user?"},{"owner":{"account_id":5054942,"reputation":133,"user_id":4058449,"display_name":"Jelle Blaauw"},"score":16,"creation_date":1533027474,"post_id":30674697,"comment_id":90183487,"body_markdown":"This only works for the current user. How to achieve this for another user?","body":"This only works for the current user. How to achieve this for another user?"},{"owner":{"account_id":1546493,"reputation":1269,"user_id":1446177,"accept_rate":66,"display_name":"IARI"},"score":16,"creation_date":1592922987,"post_id":30674697,"comment_id":110594957,"body_markdown":"I am confused why this answer has so many upvotes: it doesn&#39;t fully answer the question which clearly states that it is necessary to change the data of another user.","body":"I am confused why this answer has so many upvotes: it doesn&#39;t fully answer the question which clearly states that it is necessary to change the data of another user."}],"tags":[],"owner":{"account_id":2883757,"reputation":1215,"user_id":2474068,"display_name":"leo"},"comment_count":3,"down_vote_count":10,"up_vote_count":77,"is_accepted":false,"score":67,"last_activity_date":1479427437,"creation_date":1433533955,"answer_id":30674697,"question_id":9910252,"body_markdown":"If you need to dynamically update a logged in user&#39;s authorities (when these have changed, for whatever reason), without having to log out and log in of course, you just need to reset the `Authentication` object (security token) in the Spring `SecurityContextHolder`.\r\n\r\nExample:\r\n\r\n    Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n\r\n    List&lt;GrantedAuthority&gt; updatedAuthorities = new ArrayList&lt;&gt;(auth.getAuthorities());\r\n    updatedAuthorities.add(...); //add your role here [e.g., new SimpleGrantedAuthority(&quot;ROLE_NEW_ROLE&quot;)]\r\n       \r\n    Authentication newAuth = new UsernamePasswordAuthenticationToken(auth.getPrincipal(), auth.getCredentials(), updatedAuthorities);\r\n       \r\n    SecurityContextHolder.getContext().setAuthentication(newAuth);\r\n\r\n","title":"How to reload authorities on user update with Spring Security","body":"<p>If you need to dynamically update a logged in user's authorities (when these have changed, for whatever reason), without having to log out and log in of course, you just need to reset the <code>Authentication</code> object (security token) in the Spring <code>SecurityContextHolder</code>.</p>\n\n<p>Example:</p>\n\n<pre><code>Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n\nList&lt;GrantedAuthority&gt; updatedAuthorities = new ArrayList&lt;&gt;(auth.getAuthorities());\nupdatedAuthorities.add(...); //add your role here [e.g., new SimpleGrantedAuthority(\"ROLE_NEW_ROLE\")]\n\nAuthentication newAuth = new UsernamePasswordAuthenticationToken(auth.getPrincipal(), auth.getCredentials(), updatedAuthorities);\n\nSecurityContextHolder.getContext().setAuthentication(newAuth);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5842375,"reputation":3614,"user_id":4603538,"display_name":"TwiN"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1651017288,"creation_date":1529516184,"answer_id":50954035,"question_id":9910252,"body_markdown":"If anybody is still looking into how to update the authorities of another user without forcing that user to re-authenticate, you can try to add an interceptor that reloads the authentication. This will make sure that your authorities are always updated.\r\n\r\nHowever -- due to the extra interceptor, there will be some performance impacts (e.g. if you get your user roles from your database, it will be queried for every HTTP request).\r\n\r\n\r\n    @Component\r\n    public class VerifyAccessInterceptor implements HandlerInterceptor {\r\n    \r\n        // ...\r\n\r\n        @Override\r\n        public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n            Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n            Set&lt;GrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\r\n            if (auth.isAuthenticated()) {\r\n                authorities.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\r\n            }\r\n        \r\n            User userFromDatabase = getUserFromDatabase(auth.getName());\r\n            if (userFromDatabase != null) {\r\n                // add whatever authorities you want here\r\n                authorities.add(new SimpleGrantedAuthority(&quot;...&quot;)); \r\n            }\r\n        \r\n            Authentication newAuth = null;\r\n        \r\n            if (auth.getClass() == OAuth2AuthenticationToken.class) {\r\n                OAuth2User principal = ((OAuth2AuthenticationToken)auth).getPrincipal();\r\n                if (principal != null) {\r\n                    newAuth = new OAuth2AuthenticationToken(principal, authorities,(((OAuth2AuthenticationToken)auth).getAuthorizedClientRegistrationId()));\r\n                }\r\n            }\r\n        \r\n            SecurityContextHolder.getContext().setAuthentication(newAuth);\r\n            return true;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nThis specific implementation uses OAuth2 (`OAuth2AuthenticationToken`), but you can use `UsernamePasswordAuthenticationToken` instead.\r\n\r\n\r\nAnd now, to add your interceptor to the configuration:\r\n\r\n    @Configuration\r\n    public class WebConfiguration extends WebMvcConfigurationSupport {\r\n    \r\n        @Autowired\r\n        private VerifyAccessInterceptor verifyAccessInterceptor;\r\n    \r\n    \r\n        @Override\r\n        public void addInterceptors(InterceptorRegistry registry) {\r\n            registry.addInterceptor(verifyAccessInterceptor).addPathPatterns(&quot;/**&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n[I also made an article about this](https://twin.sh/articles/24/spring-security-reload-authorities-on-every-request).","title":"How to reload authorities on user update with Spring Security","body":"<p>If anybody is still looking into how to update the authorities of another user without forcing that user to re-authenticate, you can try to add an interceptor that reloads the authentication. This will make sure that your authorities are always updated.</p>\n<p>However -- due to the extra interceptor, there will be some performance impacts (e.g. if you get your user roles from your database, it will be queried for every HTTP request).</p>\n<pre><code>@Component\npublic class VerifyAccessInterceptor implements HandlerInterceptor {\n\n    // ...\n\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n        Set&lt;GrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\n        if (auth.isAuthenticated()) {\n            authorities.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\n        }\n    \n        User userFromDatabase = getUserFromDatabase(auth.getName());\n        if (userFromDatabase != null) {\n            // add whatever authorities you want here\n            authorities.add(new SimpleGrantedAuthority(&quot;...&quot;)); \n        }\n    \n        Authentication newAuth = null;\n    \n        if (auth.getClass() == OAuth2AuthenticationToken.class) {\n            OAuth2User principal = ((OAuth2AuthenticationToken)auth).getPrincipal();\n            if (principal != null) {\n                newAuth = new OAuth2AuthenticationToken(principal, authorities,(((OAuth2AuthenticationToken)auth).getAuthorizedClientRegistrationId()));\n            }\n        }\n    \n        SecurityContextHolder.getContext().setAuthentication(newAuth);\n        return true;\n    }\n\n}\n</code></pre>\n<p>This specific implementation uses OAuth2 (<code>OAuth2AuthenticationToken</code>), but you can use <code>UsernamePasswordAuthenticationToken</code> instead.</p>\n<p>And now, to add your interceptor to the configuration:</p>\n<pre><code>@Configuration\npublic class WebConfiguration extends WebMvcConfigurationSupport {\n\n    @Autowired\n    private VerifyAccessInterceptor verifyAccessInterceptor;\n\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(verifyAccessInterceptor).addPathPatterns(&quot;/**&quot;);\n    }\n\n}\n</code></pre>\n<p><a href=\"https://twin.sh/articles/24/spring-security-reload-authorities-on-every-request\" rel=\"nofollow noreferrer\">I also made an article about this</a>.</p>\n"},{"comments":[{"owner":{"account_id":77917,"reputation":2688,"user_id":222116,"display_name":"R&#252;diger Schulz"},"score":3,"creation_date":1544719697,"post_id":53400600,"comment_id":94384923,"body_markdown":"I like your idea, but there is a race condition on users_to_update_roles. Synchronizing on the Set (which should be a ConcurrentHashSet if accessed like this) would work, but introduces a different problem.","body":"I like your idea, but there is a race condition on users_to_update_roles. Synchronizing on the Set (which should be a ConcurrentHashSet if accessed like this) would work, but introduces a different problem."},{"owner":{"account_id":1546493,"reputation":1269,"user_id":1446177,"accept_rate":66,"display_name":"IARI"},"score":0,"creation_date":1593000964,"post_id":53400600,"comment_id":110625483,"body_markdown":"@R&#252;digerSchulz do you have a good solution / example code?","body":"@R&#252;digerSchulz do you have a good solution / example code?"},{"owner":{"account_id":52517,"reputation":6279,"user_id":156973,"display_name":"izogfif"},"score":0,"creation_date":1655901455,"post_id":53400600,"comment_id":128441260,"body_markdown":"@R&#252;digerSchulz what if you use `ConcurrentHashMap` that maps username (or better user ID) to Long and put the value of `AtomicLong.incrementAndGet()` in it when you change, and instead of remove by ID in `preHandle` you use `removeIf(value -&gt; value.equals(valueRetrievedAtTheStartOfPreHandle))`?","body":"@R&#252;digerSchulz what if you use <code>ConcurrentHashMap</code> that maps username (or better user ID) to Long and put the value of <code>AtomicLong.incrementAndGet()</code> in it when you change, and instead of remove by ID in <code>preHandle</code> you use <code>removeIf(value -&gt; value.equals(valueRetrievedAtTheStartOfPreHandle))</code>?"}],"tags":[],"owner":{"account_id":7563889,"reputation":11,"user_id":5740274,"display_name":"Hasler Choo"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542743705,"creation_date":1542743705,"answer_id":53400600,"question_id":9910252,"body_markdown":"I use the answer gived by TwiN, but I create a control variable (users_to_update_roles) to reduce performance impacts.\r\n\r\n    \r\n    @Component\r\n    public class RoleCheckInterceptor implements HandlerInterceptor {\r\n\tpublic static ArrayList&lt;String&gt; update_role = new ArrayList&lt;&gt;();\r\n\r\n\t@Autowired\r\n\tprivate IUser iuser;\r\n\r\n\tpublic static Set&lt;String&gt; users_to_update_roles = new HashSet&lt;&gt;();\r\n\r\n\t@Override\r\n\tpublic boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\r\n\t\t\tthrows Exception {\r\n\r\n\t\tAuthentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n\r\n\t\ttry {\r\n\r\n\t\t\tCurrentUser current = (CurrentUser) auth.getPrincipal();\r\n\r\n\t\t\tString username = current.getUser().getUsername();\r\n\t\t\tif (users_to_update_roles.contains(username)) {\r\n\t\t\t\tupdateRoles(auth, current);\r\n\t\t\t\tusers_to_update_roles.remove(username);\r\n\t\t\t}\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler,\r\n\t\t\tModelAndView modelAndView) throws Exception {\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)\r\n\t\t\tthrows Exception {\r\n\r\n\t}\r\n\r\n\tprivate void updateRoles(Authentication auth, CurrentUser current) {\r\n\t\tUser findOne = iuser.findOne(current.getUser().getUsername());\r\n\t\tList&lt;GrantedAuthority&gt; updatedAuthorities = new ArrayList&lt;&gt;();\r\n\t\tfor (Role role : findOne.getRoles()) {\r\n\t\t\tupdatedAuthorities.add(new SimpleGrantedAuthority(role.name()));\r\n\t\t}\r\n\r\n\t\tAuthentication newAuth = new UsernamePasswordAuthenticationToken(auth.getPrincipal(), auth.getCredentials(),\r\n\t\t\t\tupdatedAuthorities);\r\n\r\n\t\tSecurityContextHolder.getContext().setAuthentication(newAuth);\r\n\t}\r\n    }\r\n\r\nand in my controller, I add the user that have they role updated\r\n\r\n    \tpublic ModelAndView roleSave(@PathVariable long numero_documento, Funcionario funcionario) {\r\n\t\tModelAndView modelAndView = new ModelAndView(&quot;funcionario/role&quot;);\r\n\t\tSet&lt;Role&gt; roles = funcionario.getPessoa().getUser().getRoles();\r\n\t\tfuncionario = funcionarioService.funcionarioNumero_documento(numero_documento);\r\n\t\tfuncionario.getPessoa().getUser().setRoles(roles);\r\n\t\tiUser.save(funcionario.getPessoa().getUser());\r\n\t\tRoleCheckInterceptor.users_to_update_roles.add(funcionario.getPessoa().getUser().getUsername());\r\n\t\tmodelAndView.addObject(&quot;funcionario&quot;, funcionario);\r\n\t\tmodelAndView.addObject(&quot;sucess&quot;, &quot;Permiss&#245;es modificadas&quot;);\r\n\t\treturn modelAndView;\r\n\t}\r\n     ","title":"How to reload authorities on user update with Spring Security","body":"<p>I use the answer gived by TwiN, but I create a control variable (users_to_update_roles) to reduce performance impacts.</p>\n\n<pre><code>@Component\npublic class RoleCheckInterceptor implements HandlerInterceptor {\npublic static ArrayList&lt;String&gt; update_role = new ArrayList&lt;&gt;();\n\n@Autowired\nprivate IUser iuser;\n\npublic static Set&lt;String&gt; users_to_update_roles = new HashSet&lt;&gt;();\n\n@Override\npublic boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\n        throws Exception {\n\n    Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n\n    try {\n\n        CurrentUser current = (CurrentUser) auth.getPrincipal();\n\n        String username = current.getUser().getUsername();\n        if (users_to_update_roles.contains(username)) {\n            updateRoles(auth, current);\n            users_to_update_roles.remove(username);\n        }\n\n    } catch (Exception e) {\n        // TODO: handle exception\n    }\n\n    return true;\n}\n\n@Override\npublic void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler,\n        ModelAndView modelAndView) throws Exception {\n\n}\n\n@Override\npublic void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)\n        throws Exception {\n\n}\n\nprivate void updateRoles(Authentication auth, CurrentUser current) {\n    User findOne = iuser.findOne(current.getUser().getUsername());\n    List&lt;GrantedAuthority&gt; updatedAuthorities = new ArrayList&lt;&gt;();\n    for (Role role : findOne.getRoles()) {\n        updatedAuthorities.add(new SimpleGrantedAuthority(role.name()));\n    }\n\n    Authentication newAuth = new UsernamePasswordAuthenticationToken(auth.getPrincipal(), auth.getCredentials(),\n            updatedAuthorities);\n\n    SecurityContextHolder.getContext().setAuthentication(newAuth);\n}\n}\n</code></pre>\n\n<p>and in my controller, I add the user that have they role updated</p>\n\n<pre><code>    public ModelAndView roleSave(@PathVariable long numero_documento, Funcionario funcionario) {\n    ModelAndView modelAndView = new ModelAndView(\"funcionario/role\");\n    Set&lt;Role&gt; roles = funcionario.getPessoa().getUser().getRoles();\n    funcionario = funcionarioService.funcionarioNumero_documento(numero_documento);\n    funcionario.getPessoa().getUser().setRoles(roles);\n    iUser.save(funcionario.getPessoa().getUser());\n    RoleCheckInterceptor.users_to_update_roles.add(funcionario.getPessoa().getUser().getUsername());\n    modelAndView.addObject(\"funcionario\", funcionario);\n    modelAndView.addObject(\"sucess\", \"Permissões modificadas\");\n    return modelAndView;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4136335,"reputation":740,"user_id":3453279,"display_name":"Sunchezz"},"score":0,"creation_date":1586107707,"post_id":57393299,"comment_id":107999069,"body_markdown":"Thx a lot! Searched for days now!","body":"Thx a lot! Searched for days now!"}],"tags":[],"owner":{"account_id":8810941,"reputation":2113,"user_id":6584021,"display_name":"snieguu"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1565176995,"creation_date":1565176995,"answer_id":57393299,"question_id":9910252,"body_markdown":"I have a very specific case of above, I use Redis to track user session with https://github.com/spring-projects/spring-session. Then when admin adds some Role to the user I find user session in Redis and replace `principal` and `authorities` and then save the session.\r\n```\r\npublic void updateUserRoles(String username, Set&lt;GrantedAuthority&gt; newRoles) {\r\n        if (sessionRepository instanceof FindByIndexNameSessionRepository) {\r\n            Map&lt;String, org.springframework.session.Session&gt; map =\r\n                    ((FindByIndexNameSessionRepository&lt;org.springframework.session.Session&gt;) sessionRepository)\r\n                            .findByPrincipalName(username);\r\n            for (org.springframework.session.Session session : map.values()) {\r\n                if (!session.isExpired()) {\r\n                    SecurityContext securityContext = session.getAttribute(SPRING_SECURITY_CONTEXT_KEY);\r\n                    Authentication authentication = securityContext.getAuthentication();\r\n                    if (authentication instanceof UsernamePasswordAuthenticationToken) {\r\n                        Collection&lt;GrantedAuthority&gt; authorities = new HashSet&lt;&gt;(authentication.getAuthorities());\r\n                        //1. Update of authorities\r\n                        authorities.addAll(newRoles);\r\n                        Object principalToUpdate = authentication.getPrincipal();\r\n                        if (principalToUpdate instanceof User) {\r\n                            //2. Update of principal: Your User probably extends UserDetails so call here method that update roles to allow\r\n                            // org.springframework.security.core.userdetails.UserDetails.getAuthorities return updated \r\n                            // Set of GrantedAuthority\r\n                            securityContext\r\n                                    .setAuthentication(new UsernamePasswordAuthenticationToken(principalToUpdate, authentication\r\n                                            .getCredentials(), authorities));\r\n                            session.setAttribute(SPRING_SECURITY_CONTEXT_KEY, securityContext);\r\n                            sessionRepository.save(session);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n```","title":"How to reload authorities on user update with Spring Security","body":"<p>I have a very specific case of above, I use Redis to track user session with <a href=\"https://github.com/spring-projects/spring-session\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-session</a>. Then when admin adds some Role to the user I find user session in Redis and replace <code>principal</code> and <code>authorities</code> and then save the session.</p>\n\n<pre><code>public void updateUserRoles(String username, Set&lt;GrantedAuthority&gt; newRoles) {\n        if (sessionRepository instanceof FindByIndexNameSessionRepository) {\n            Map&lt;String, org.springframework.session.Session&gt; map =\n                    ((FindByIndexNameSessionRepository&lt;org.springframework.session.Session&gt;) sessionRepository)\n                            .findByPrincipalName(username);\n            for (org.springframework.session.Session session : map.values()) {\n                if (!session.isExpired()) {\n                    SecurityContext securityContext = session.getAttribute(SPRING_SECURITY_CONTEXT_KEY);\n                    Authentication authentication = securityContext.getAuthentication();\n                    if (authentication instanceof UsernamePasswordAuthenticationToken) {\n                        Collection&lt;GrantedAuthority&gt; authorities = new HashSet&lt;&gt;(authentication.getAuthorities());\n                        //1. Update of authorities\n                        authorities.addAll(newRoles);\n                        Object principalToUpdate = authentication.getPrincipal();\n                        if (principalToUpdate instanceof User) {\n                            //2. Update of principal: Your User probably extends UserDetails so call here method that update roles to allow\n                            // org.springframework.security.core.userdetails.UserDetails.getAuthorities return updated \n                            // Set of GrantedAuthority\n                            securityContext\n                                    .setAuthentication(new UsernamePasswordAuthenticationToken(principalToUpdate, authentication\n                                            .getCredentials(), authorities));\n                            session.setAttribute(SPRING_SECURITY_CONTEXT_KEY, securityContext);\n                            sessionRepository.save(session);\n                        }\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15811439,"reputation":302,"user_id":11408375,"display_name":"hdsuperman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701441791,"creation_date":1701441791,"answer_id":77586070,"question_id":9910252,"body_markdown":"code: \r\n\r\n```java\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.context.SecurityContext;\r\nimport org.springframework.security.web.authentication.preauth.PreAuthenticatedAuthenticationToken;\r\nimport org.springframework.session.FindByIndexNameSessionRepository;\r\nimport org.springframework.session.Session;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.Map;\r\n\r\nimport static org.springframework.security.web.context.HttpSessionSecurityContextRepository.SPRING_SECURITY_CONTEXT_KEY;\r\n\r\n@Slf4j\r\n@Component\r\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\r\npublic class SessionAuthorityManager {\r\n\r\n    @SuppressWarnings(&quot;rawtypes&quot;) private final FindByIndexNameSessionRepository sessionRepository;\r\n\r\n    public void updateAuthority(User user) {\r\n        var principal = UserPrincipal.create(user);\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        Map&lt;String, Session&gt; map = sessionRepository.findByPrincipalName(principal.getName());\r\n        var sessions = map.values();\r\n        for (var session: sessions) {\r\n            if (session.isExpired()) continue;\r\n            var context = session.&lt;SecurityContext&gt;getAttribute(SPRING_SECURITY_CONTEXT_KEY);\r\n            if (context == null) continue;\r\n            var token = new PreAuthenticatedAuthenticationToken(principal, null, principal.getAuthorities());\r\n            context.setAuthentication(token);\r\n            session.setAttribute(SPRING_SECURITY_CONTEXT_KEY, context);\r\n            //noinspection unchecked\r\n            sessionRepository.save(session);\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"How to reload authorities on user update with Spring Security","body":"<p>code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.context.SecurityContext;\nimport org.springframework.security.web.authentication.preauth.PreAuthenticatedAuthenticationToken;\nimport org.springframework.session.FindByIndexNameSessionRepository;\nimport org.springframework.session.Session;\nimport org.springframework.stereotype.Component;\n\nimport java.util.Map;\n\nimport static org.springframework.security.web.context.HttpSessionSecurityContextRepository.SPRING_SECURITY_CONTEXT_KEY;\n\n@Slf4j\n@Component\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\npublic class SessionAuthorityManager {\n\n    @SuppressWarnings(&quot;rawtypes&quot;) private final FindByIndexNameSessionRepository sessionRepository;\n\n    public void updateAuthority(User user) {\n        var principal = UserPrincipal.create(user);\n        @SuppressWarnings(&quot;unchecked&quot;)\n        Map&lt;String, Session&gt; map = sessionRepository.findByPrincipalName(principal.getName());\n        var sessions = map.values();\n        for (var session: sessions) {\n            if (session.isExpired()) continue;\n            var context = session.&lt;SecurityContext&gt;getAttribute(SPRING_SECURITY_CONTEXT_KEY);\n            if (context == null) continue;\n            var token = new PreAuthenticatedAuthenticationToken(principal, null, principal.getAuthorities());\n            context.setAuthentication(token);\n            session.setAttribute(SPRING_SECURITY_CONTEXT_KEY, context);\n            //noinspection unchecked\n            sessionRepository.save(session);\n        }\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":1136625,"reputation":3087,"user_id":1121571,"accept_rate":61,"display_name":"Aure77"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67544,"favorite_count":0,"down_vote_count":0,"up_vote_count":67,"answer_count":7,"score":67,"last_activity_date":1701441791,"creation_date":1332946751,"question_id":9910252,"body_markdown":"I&#39;m doing an application with authentication by OpenID using Spring Security.\r\nWhen user is logged-in, some authorities are loaded in his session.\r\n\r\nI have User with full right which can modify authorities (revoke, add roles) of others users. My question is, how to change User session authorities dynamically ? (cannot use *SecurityContextHolder* because I want to change another User session).\r\n\r\nSimple way : invalidate user session, but how to ?\r\nBetter way : refresh user session with new authorities, but how to ?","title":"How to reload authorities on user update with Spring Security","body":"<p>I'm doing an application with authentication by OpenID using Spring Security.\nWhen user is logged-in, some authorities are loaded in his session.</p>\n\n<p>I have User with full right which can modify authorities (revoke, add roles) of others users. My question is, how to change User session authorities dynamically ? (cannot use <em>SecurityContextHolder</em> because I want to change another User session).</p>\n\n<p>Simple way : invalidate user session, but how to ?\nBetter way : refresh user session with new authorities, but how to ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1700000285,"post_id":77484141,"comment_id":136600710,"body_markdown":"I’m not sure what you’re asking.","body":"I’m not sure what you’re asking."},{"owner":{"account_id":29848517,"reputation":1,"user_id":22875302,"display_name":"Ao Bo"},"score":0,"creation_date":1700000443,"post_id":77484141,"comment_id":136600732,"body_markdown":"arr.display gives me NullPointerException error.","body":"arr.display gives me NullPointerException error."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1700001141,"post_id":77484141,"comment_id":136600848,"body_markdown":"Then you will want to debug the null pointer exception. The answers in the duplicate can help you do this.","body":"Then you will want to debug the null pointer exception. The answers in the duplicate can help you do this."},{"owner":{"account_id":29848517,"reputation":1,"user_id":22875302,"display_name":"Ao Bo"},"score":0,"creation_date":1700001272,"post_id":77484141,"comment_id":136600865,"body_markdown":"what answer?. ..","body":"what answer?. .."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1700003193,"post_id":77484141,"comment_id":136601082,"body_markdown":"The answers in the duplicate. NPEs are relatively easy to track down. Whatever `display()` is returning is null (I think, hard to tell from the question and comment).","body":"The answers in the duplicate. NPEs are relatively easy to track down. Whatever <code>display()</code> is returning is null (I think, hard to tell from the question and comment)."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1700003236,"post_id":77484141,"comment_id":136601086,"body_markdown":"[These answers](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it). Note that as currently posted, no one can really help you solve your specific problem, because no one can identify the source, based on your code and text, and you will want to learn about basic NPE debugging steps first, if only to isolate the error and ask a better question, one that includes the stack trace, that includes the offending code, that shows why you think that it shouldn&#39;t be null.","body":"<a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">These answers</a>. Note that as currently posted, no one can really help you solve your specific problem, because no one can identify the source, based on your code and text, and you will want to learn about basic NPE debugging steps first, if only to isolate the error and ask a better question, one that includes the stack trace, that includes the offending code, that shows why you think that it shouldn&#39;t be null."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1700003976,"post_id":77484141,"comment_id":136601167,"body_markdown":"The key is most often in the stack trace, that bunch of text that the Java virtual machine sends to you when the exception occurs. It will tell you where in the code the exception is happening, and so you will want to start there. Then use your debugger to find out which variable on the offending line is null, and trace back into the code to see why.","body":"The key is most often in the stack trace, that bunch of text that the Java virtual machine sends to you when the exception occurs. It will tell you where in the code the exception is happening, and so you will want to start there. Then use your debugger to find out which variable on the offending line is null, and trace back into the code to see why."}],"owner":{"account_id":29848517,"reputation":1,"user_id":22875302,"display_name":"Ao Bo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1700000118,"answer_count":0,"score":-4,"last_activity_date":1701441782,"creation_date":1699999921,"question_id":77484141,"body_markdown":"I&#39;ve got compiler that is dependent of class called generated_rray. generated_rray as the name implies generates an array that starts from 2 and goes till 2 added to system.in users input.\r\nhow can I use the fallowing code \r\n\r\n    public class Main_sieve\r\n    {\r\n       inside this class \r\n        generated_rray arr = new generated_rray();\r\n        Scanner thesize = new Scanner(System.in);\r\n         arr.arrsize = thesize.nextInt();\r\n         for (int i=0; i&lt;arr.arrsize; i++)\r\n         System.out.println(arr.display()[i]);\r\n\r\nhow can I use arr.display\r\nthe display method should return filled out array\r\nI have some pictures to clear things out too.\r\n![[[enter image description here](https://i.stack.imgur.com/TASt5.png)](https://i.stack.imgur.com/XoozU.png)](https://i.stack.imgur.com/CugfV.png)\r\n","title":"NullPointerException for running call to create array","body":"<p>I've got compiler that is dependent of class called generated_rray. generated_rray as the name implies generates an array that starts from 2 and goes till 2 added to system.in users input.\nhow can I use the fallowing code</p>\n<pre><code>public class Main_sieve\n{\n   inside this class \n    generated_rray arr = new generated_rray();\n    Scanner thesize = new Scanner(System.in);\n     arr.arrsize = thesize.nextInt();\n     for (int i=0; i&lt;arr.arrsize; i++)\n     System.out.println(arr.display()[i]);\n</code></pre>\n<p>how can I use arr.display\nthe display method should return filled out array\nI have some pictures to clear things out too.\n<img src=\"https://i.stack.imgur.com/CugfV.png\" alt=\"[enter image description here](https://i.stack.imgur.com/XoozU.png)\" /></p>\n"},{"tags":["java","spring-boot","jparepository"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1701441400,"post_id":77586005,"comment_id":136779434,"body_markdown":"How you component-scan configuration looks like","body":"How you component-scan configuration looks like"},{"owner":{"account_id":29839787,"reputation":3,"user_id":22868324,"display_name":"paula"},"score":0,"creation_date":1701441720,"post_id":77586005,"comment_id":136779502,"body_markdown":"There is none. How does it look and where would I put it? I used an application.yaml file for my db config. Does it go in there?","body":"There is none. How does it look and where would I put it? I used an application.yaml file for my db config. Does it go in there?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1701441764,"post_id":77586005,"comment_id":136779516,"body_markdown":"Where is your man class located? Are there any package names in the annotations of this class","body":"Where is your man class located? Are there any package names in the annotations of this class"},{"owner":{"account_id":29839787,"reputation":3,"user_id":22868324,"display_name":"paula"},"score":0,"creation_date":1701441923,"post_id":77586005,"comment_id":136779547,"body_markdown":"My main-class is Springbootdemo and it is in &quot;highest&quot; package. all other classes are stored in subpackages to this package. There are no package names in any annotations.","body":"My main-class is Springbootdemo and it is in &quot;highest&quot; package. all other classes are stored in subpackages to this package. There are no package names in any annotations."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1701442014,"post_id":77586005,"comment_id":136779559,"body_markdown":"Is the main class anotated with *EnableJpaRepositories* ?","body":"Is the main class anotated with <i>EnableJpaRepositories</i> ?"},{"owner":{"account_id":29839787,"reputation":3,"user_id":22868324,"display_name":"paula"},"score":0,"creation_date":1701442370,"post_id":77586005,"comment_id":136779642,"body_markdown":"@Jens no, I will change that and give an update.","body":"@Jens no, I will change that and give an update."},{"owner":{"account_id":29839787,"reputation":3,"user_id":22868324,"display_name":"paula"},"score":0,"creation_date":1701442375,"post_id":77586005,"comment_id":136779646,"body_markdown":"@Roland Weisleder Thanks, I will look into it","body":"@Roland Weisleder Thanks, I will look into it"},{"owner":{"account_id":29839787,"reputation":3,"user_id":22868324,"display_name":"paula"},"score":0,"creation_date":1701445461,"post_id":77586005,"comment_id":136780247,"body_markdown":"@Jens it does not work:/","body":"@Jens it does not work:/"},{"owner":{"account_id":29839787,"reputation":3,"user_id":22868324,"display_name":"paula"},"score":0,"creation_date":1701447530,"post_id":77586005,"comment_id":136780679,"body_markdown":"@Roland Weisleder it worked, thank you very much! Also I really have to learn more about the basics in SpringBoot...","body":"@Roland Weisleder it worked, thank you very much! Also I really have to learn more about the basics in SpringBoot..."}],"owner":{"account_id":29839787,"reputation":3,"user_id":22868324,"display_name":"paula"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701447475,"answer_count":0,"score":0,"last_activity_date":1701441554,"creation_date":1701441234,"question_id":77586005,"body_markdown":"I am converting my MavenProject to a SpringBootApplication. Up until I try to use the findById()-Method from JpaRepository  point it is running. \r\n\r\n**My Repository:**\r\n```\r\npackage demo.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport demo.model.Datenherkunft;\r\n\r\n@Repository\r\npublic interface RepositoryDatenherkunft extends JpaRepository&lt;Datenherkunft, Integer&gt;{}\r\n```\r\n\r\n**My Class that is trying to use the Method:** \r\n\r\n```\r\npackage demo.service;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport demo.model.*;\r\nimport demo.repository.*;\r\n\r\n@Service\r\npublic class ForeignKeyObjects implements ServiceGet{\r\n\r\n\t@Autowired\r\n\tprivate RepositoryDatenherkunft rDatenherkunft;\r\n\r\n\t@Override\r\n\tpublic Datenherkunft getDatenherkunft(Integer datenherkunft) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn rDatenherkunft.findById(datenherkunft).get();\r\n\t}\r\n```\r\n**The Exception**\r\n\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;demo.repository.RepositoryDatenherkunft.findById(Object)&quot; because &quot;this.rDatenherkunft&quot; is null\r\n\tat demo.service.ForeignKeyObjects.getDatenherkunft(ForeignKeyObjects.java:34) ~[classes/:na]\r\n\tat demo.service.ListenInhaltValidation.listenInhaltValidation(ListenInhaltValidation.java:15) ~[classes/:na]\r\n\tat demo.service.DtoValidation.dtoValidation(DtoValidation.java:15) ~[classes/:na]\r\n\tat demo.service.ServiceImp.createobjects(ServiceImp.java:50) ~[classes/:na]\r\n\tat demo.controller.Controller.createObjects(Controller.java:29) ~[classes/:na]\r\n\t...\r\n```\r\n\r\n\r\n\r\nI am very new to coding and SpringBoot. So my project is a bit all over the place. The reason the class is not a controller but a service is that i have a few classes which function to validate and convert the data before it gets stored in my mysql database. So in my understanding this functionality should be in the service layer.\r\n\r\nI tried: \r\n- @Controller and not @Service\r\n- putting @Autowired above every variable\r\n- putting @Repository above the Repository\r\n\r\nNothing changed the outcome.","title":"Java.lang.NullPointerException: Cannot invoke &quot;demo.repository.RepositoryDatenherkunft.findById(Object)&quot; because &quot;this.rDatenherkunft&quot; is null","body":"<p>I am converting my MavenProject to a SpringBootApplication. Up until I try to use the findById()-Method from JpaRepository  point it is running.</p>\n<p><strong>My Repository:</strong></p>\n<pre><code>package demo.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport demo.model.Datenherkunft;\n\n@Repository\npublic interface RepositoryDatenherkunft extends JpaRepository&lt;Datenherkunft, Integer&gt;{}\n</code></pre>\n<p><strong>My Class that is trying to use the Method:</strong></p>\n<pre><code>package demo.service;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.stereotype.Service;\n\nimport demo.model.*;\nimport demo.repository.*;\n\n@Service\npublic class ForeignKeyObjects implements ServiceGet{\n\n    @Autowired\n    private RepositoryDatenherkunft rDatenherkunft;\n\n    @Override\n    public Datenherkunft getDatenherkunft(Integer datenherkunft) {\n        // TODO Auto-generated method stub\n        return rDatenherkunft.findById(datenherkunft).get();\n    }\n</code></pre>\n<p><strong>The Exception</strong></p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;demo.repository.RepositoryDatenherkunft.findById(Object)&quot; because &quot;this.rDatenherkunft&quot; is null\n    at demo.service.ForeignKeyObjects.getDatenherkunft(ForeignKeyObjects.java:34) ~[classes/:na]\n    at demo.service.ListenInhaltValidation.listenInhaltValidation(ListenInhaltValidation.java:15) ~[classes/:na]\n    at demo.service.DtoValidation.dtoValidation(DtoValidation.java:15) ~[classes/:na]\n    at demo.service.ServiceImp.createobjects(ServiceImp.java:50) ~[classes/:na]\n    at demo.controller.Controller.createObjects(Controller.java:29) ~[classes/:na]\n    ...\n</code></pre>\n<p>I am very new to coding and SpringBoot. So my project is a bit all over the place. The reason the class is not a controller but a service is that i have a few classes which function to validate and convert the data before it gets stored in my mysql database. So in my understanding this functionality should be in the service layer.</p>\n<p>I tried:</p>\n<ul>\n<li>@Controller and not @Service</li>\n<li>putting @Autowired above every variable</li>\n<li>putting @Repository above the Repository</li>\n</ul>\n<p>Nothing changed the outcome.</p>\n"},{"tags":["java","drools"],"answers":[{"comments":[{"owner":{"account_id":3164962,"reputation":164,"user_id":2675190,"display_name":"Shanij P.S"},"score":0,"creation_date":1701672035,"post_id":77586039,"comment_id":136800212,"body_markdown":"I tried both the examples above, it is not working and execution is stuck for more than 5 min and then it throws exception. \nNote: I am not modifying anything in the HashMap global variable. I just have to read the value. When I comment out the line which is reading value from HashMap,  then it starts working. Is there any syntax error in the drool ?","body":"I tried both the examples above, it is not working and execution is stuck for more than 5 min and then it throws exception.  Note: I am not modifying anything in the HashMap global variable. I just have to read the value. When I comment out the line which is reading value from HashMap,  then it starts working. Is there any syntax error in the drool ?"},{"owner":{"account_id":183966,"reputation":14630,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1701702816,"post_id":77586039,"comment_id":136805304,"body_markdown":"_What_ exception? You keep saying &quot;throws exception&quot; but not sharing what that exception _is_ or its stack trace.","body":"<i>What</i> exception? You keep saying &quot;throws exception&quot; but not sharing what that exception <i>is</i> or its stack trace."}],"tags":[],"owner":{"account_id":183966,"reputation":14630,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701441493,"creation_date":1701441493,"answer_id":77586039,"question_id":77585826,"body_markdown":"There&#39;s a number of ways. I&#39;d probably go with this:\r\n\r\n```\r\nHashMap( $alertType: this[&quot;1&quot;] ) from aeRuleMap\r\n$aeAlertDetails : AEAlertDetails( aERuleMatched == false, \r\n                                  san == $alertType.isSan())\r\n```\r\n\r\nOr you could do like:\r\n\r\n```\r\n$alertType: AlertType( $san: san ) from aeRuleMap.get(&quot;1&quot;)\r\n$aeAlertDetails : AEAlertDetails( aERuleMatched == false, \r\n                                  san == $san)\r\n```\r\n\r\nYou don&#39;t indicate what kind of exception is being thrown, so I can&#39;t be entirely sure of why what you have doesn&#39;t work. Just remember that you mustn&#39;t be doing realtime updates to the globals and expecting them to be reflected in your rules. If your exception is actually some form of concurrent modification exception, you&#39;re likely misusing the global concept entirely.\r\n","title":"Hashmap from global variable is not able to access in drools when condition","body":"<p>There's a number of ways. I'd probably go with this:</p>\n<pre><code>HashMap( $alertType: this[&quot;1&quot;] ) from aeRuleMap\n$aeAlertDetails : AEAlertDetails( aERuleMatched == false, \n                                  san == $alertType.isSan())\n</code></pre>\n<p>Or you could do like:</p>\n<pre><code>$alertType: AlertType( $san: san ) from aeRuleMap.get(&quot;1&quot;)\n$aeAlertDetails : AEAlertDetails( aERuleMatched == false, \n                                  san == $san)\n</code></pre>\n<p>You don't indicate what kind of exception is being thrown, so I can't be entirely sure of why what you have doesn't work. Just remember that you mustn't be doing realtime updates to the globals and expecting them to be reflected in your rules. If your exception is actually some form of concurrent modification exception, you're likely misusing the global concept entirely.</p>\n"}],"owner":{"account_id":3164962,"reputation":164,"user_id":2675190,"display_name":"Shanij P.S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701441493,"creation_date":1701439563,"question_id":77585826,"body_markdown":"I have flowing drools rules :\r\n\r\n    \r\n    import com.....AEAlertDetails;\r\n    import function com....DroolsUtility.log;\r\n    import com....AeAlerts;\r\n    import function com....utility.AEAlertUtility.addAeAlerts;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.HashMap;\r\n    import com....model.AlertType;\r\n    \r\n    dialect &quot;java&quot;\r\n    \r\n    global HashMap&lt;String,AlertType&gt; aeRuleMap;\r\n    global List aeAlertsList;\r\n    \r\n    \r\n    rule &quot;My Rule&quot; salience 4\r\n    no-loop true\r\n        when\r\n           $aeAlertDetails : AEAlertDetails( aERuleMatched == false, san == aeRuleMap.get(&quot;1&quot;).isSan() )\r\n        then\r\n          //\r\n    end\r\n\r\n\r\nFrom Java class I set like :\r\n\r\n\t\r\n\r\n    List&lt;AeAlerts&gt; aeAlertsList = new ArrayList&lt;&gt;();\r\n    \r\n    kieSession.setGlobal(&quot;aeAlertsList&quot;, aeAlertsList);\r\n    \r\n    HashMap&lt;String,AlertType&gt; aeRuleMap=new HashMap&lt;&gt;();\r\n    \r\n    aeRuleMap.put(&quot;1&quot;, new AlertType(true,true,true,true));\r\n    \r\n    aeRuleMap.put(&quot;2&quot;, new AlertType(true,true,true,true));\r\n    \r\n    kieSession.setGlobal(&quot;aeRuleMap&quot;, aeRuleMap);\r\n    \r\n    kieSession.fireAllRules();\r\n\r\n    \r\n\r\n\r\n\r\n\r\n    package com......evaluation.model;\r\n    \r\n    public class AlertType {\r\n    \r\n    \tprivate boolean isSan;\r\n    \tprivate boolean isPep;\r\n    \tprivate boolean isEdd;\r\n    \tprivate boolean isPrb;\r\n    \t\r\n    \tprivate String name;\r\n    \r\n    \tpublic AlertType() {\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \tpublic AlertType(boolean isSan, boolean isPep, boolean isEdd, boolean isPrb) {\r\n    \t\tsuper();\r\n    \t\tthis.isSan = isSan;\r\n    \t\tthis.isPep = isPep;\r\n    \t\tthis.isEdd = isEdd;\r\n    \t\tthis.isPrb = isPrb;\r\n    \t}\r\n    \r\n    \tpublic boolean isSan() {\r\n    \t\treturn isSan;\r\n    \t}\r\n    \r\n    \tpublic void setSan(boolean isSan) {\r\n    \t\tthis.isSan = isSan;\r\n    \t}\r\n    \r\n    \tpublic boolean isPep() {\r\n    \t\treturn isPep;\r\n    \t}\r\n    \r\n    \tpublic void setPep(boolean isPep) {\r\n    \t\tthis.isPep = isPep;\r\n    \t}\r\n    \r\n    \tpublic boolean isEdd() {\r\n    \t\treturn isEdd;\r\n    \t}\r\n    \r\n    \tpublic void setEdd(boolean isEdd) {\r\n    \t\tthis.isEdd = isEdd;\r\n    \t}\r\n    \r\n    \tpublic boolean isPrb() {\r\n    \t\treturn isPrb;\r\n    \t}\r\n    \r\n    \tpublic void setPrb(boolean isPrb) {\r\n    \t\tthis.isPrb = isPrb;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nI need to get the Boolean value from the Map and compare with the fact level variable value . For that purpose I added this line in the drool :\r\n\r\n    san == aeRuleMap.get(&quot;1&quot;).isSan()\r\n\r\n\r\nDue to this line in the rule, the drool evaluation is stuck for sometime and throwing exception . I need this condition checking in the when part itself. \r\n\r\n\r\nHow to do I write it in drool for getting a key from global hashmap and compare\r\n\r\n","title":"Hashmap from global variable is not able to access in drools when condition","body":"<p>I have flowing drools rules :</p>\n<pre><code>import com.....AEAlertDetails;\nimport function com....DroolsUtility.log;\nimport com....AeAlerts;\nimport function com....utility.AEAlertUtility.addAeAlerts;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.HashMap;\nimport com....model.AlertType;\n\ndialect &quot;java&quot;\n\nglobal HashMap&lt;String,AlertType&gt; aeRuleMap;\nglobal List aeAlertsList;\n\n\nrule &quot;My Rule&quot; salience 4\nno-loop true\n    when\n       $aeAlertDetails : AEAlertDetails( aERuleMatched == false, san == aeRuleMap.get(&quot;1&quot;).isSan() )\n    then\n      //\nend\n</code></pre>\n<p>From Java class I set like :</p>\n<pre><code>List&lt;AeAlerts&gt; aeAlertsList = new ArrayList&lt;&gt;();\n\nkieSession.setGlobal(&quot;aeAlertsList&quot;, aeAlertsList);\n\nHashMap&lt;String,AlertType&gt; aeRuleMap=new HashMap&lt;&gt;();\n\naeRuleMap.put(&quot;1&quot;, new AlertType(true,true,true,true));\n\naeRuleMap.put(&quot;2&quot;, new AlertType(true,true,true,true));\n\nkieSession.setGlobal(&quot;aeRuleMap&quot;, aeRuleMap);\n\nkieSession.fireAllRules();\n\n\n\n\n\n\npackage com......evaluation.model;\n\npublic class AlertType {\n\n    private boolean isSan;\n    private boolean isPep;\n    private boolean isEdd;\n    private boolean isPrb;\n    \n    private String name;\n\n    public AlertType() {\n        super();\n    }\n\n    public AlertType(boolean isSan, boolean isPep, boolean isEdd, boolean isPrb) {\n        super();\n        this.isSan = isSan;\n        this.isPep = isPep;\n        this.isEdd = isEdd;\n        this.isPrb = isPrb;\n    }\n\n    public boolean isSan() {\n        return isSan;\n    }\n\n    public void setSan(boolean isSan) {\n        this.isSan = isSan;\n    }\n\n    public boolean isPep() {\n        return isPep;\n    }\n\n    public void setPep(boolean isPep) {\n        this.isPep = isPep;\n    }\n\n    public boolean isEdd() {\n        return isEdd;\n    }\n\n    public void setEdd(boolean isEdd) {\n        this.isEdd = isEdd;\n    }\n\n    public boolean isPrb() {\n        return isPrb;\n    }\n\n    public void setPrb(boolean isPrb) {\n        this.isPrb = isPrb;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p>I need to get the Boolean value from the Map and compare with the fact level variable value . For that purpose I added this line in the drool :</p>\n<pre><code>san == aeRuleMap.get(&quot;1&quot;).isSan()\n</code></pre>\n<p>Due to this line in the rule, the drool evaluation is stuck for sometime and throwing exception . I need this condition checking in the when part itself.</p>\n<p>How to do I write it in drool for getting a key from global hashmap and compare</p>\n"},{"tags":["java","optaplanner","timefold"],"answers":[{"comments":[{"owner":{"account_id":22912575,"reputation":53,"user_id":17049622,"display_name":"Alexey"},"score":0,"creation_date":1701676598,"post_id":77585733,"comment_id":136800697,"body_markdown":"Thank you. It works.         `SolutionManager&lt;Table, HardSoftScore&gt; solutionManager = SolutionManager.create(solverManager);\n        solutionManager.update(result);`","body":"Thank you. It works.         <code>SolutionManager&lt;Table, HardSoftScore&gt; solutionManager = SolutionManager.create(solverManager);         solutionManager.update(result);</code>"}],"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701438563,"creation_date":1701438563,"answer_id":77585733,"question_id":77584631,"body_markdown":"`SolutionManager` provides an `update(...)` method which serves just this purpose.\r\n\r\nIn OptaPlanner, there is a bug in that call which makes it not work with chained and list variables. [Timefold Solver][1] fixes that bug, among others.\r\n\r\n\r\n  [1]: https://timefold.ai/","title":"Create an initial solution with right shadow variables and score","body":"<p><code>SolutionManager</code> provides an <code>update(...)</code> method which serves just this purpose.</p>\n<p>In OptaPlanner, there is a bug in that call which makes it not work with chained and list variables. <a href=\"https://timefold.ai/\" rel=\"nofollow noreferrer\">Timefold Solver</a> fixes that bug, among others.</p>\n"}],"owner":{"account_id":22912575,"reputation":53,"user_id":17049622,"display_name":"Alexey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77585733,"answer_count":1,"score":1,"last_activity_date":1701441287,"creation_date":1701426910,"question_id":77584631,"body_markdown":"I&#39;m trying to add a hand-made solution to OptaPlanner in Java code. I&#39;m following the first way from [this][1].\r\n\r\nAccording the comments, I should somehow use `ScoreDirector.triggerVariableListeners()` to initialize shadow variables.\r\n\r\nI&#39;ve found in OptaPlanner examples code like this:\r\n\r\n    private &lt;Result_&gt; Result_ applyScoreDirector(Function&lt;InnerScoreDirector&lt;Solution_, Score_&gt;, Result_&gt; function) {\r\n        try (InnerScoreDirector&lt;Solution_, Score_&gt; scoreDirector =\r\n                (InnerScoreDirector&lt;Solution_, Score_&gt;) solverFactory.getScoreDirectorFactory().buildScoreDirector(true,\r\n                        true)) {\r\n            scoreDirector.setWorkingSolution(getSolution());\r\n            Result_ result = function.apply(scoreDirector);\r\n            scoreDirector.triggerVariableListeners();\r\n            scoreDirector.calculateScore();\r\n            setSolution(scoreDirector.getWorkingSolution());\r\n            return result;\r\n        }\r\n    }\r\n\r\nI&#39;ve tried to adapt it to my case (Table - my planning solution):\r\n\r\n    SolverConfig solverConfig = SolverConfig.createFromXmlFile(new File(url.getFile()));\r\n    solverManager = SolverManager.create(solverConfig, new SolverManagerConfig());\r\n    Table result = createInitialSolution(data);\r\n    DefaultSolverManager defaultSolverManager = (DefaultSolverManager) solverManager;\r\n    DefaultSolverFactory&lt;Table&gt; solverFactory = (DefaultSolverFactory&lt;Table&gt;) defaultSolverManager.getSolverFactory();\r\n    InnerScoreDirector&lt;Table, HardSoftScore&gt;  scoreDirector = (InnerScoreDirector&lt;Table, HardSoftScore&gt;) \r\n            solverFactory.getScoreDirectorFactory().buildScoreDirector(true, true);      \r\n    scoreDirector.setWorkingSolution(result);\r\n    scoreDirector.triggerVariableListeners();\r\n    scoreDirector.calculateScore();\r\n    result = scoreDirector.getWorkingSolution();\r\n    return result;\r\n\r\nThis doesn&#39;t work. All shadow variables are null. What am I doing wrong?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/66819726/optaplanner-create-a-good-initial-solution-by-hand","title":"Create an initial solution with right shadow variables and score","body":"<p>I'm trying to add a hand-made solution to OptaPlanner in Java code. I'm following the first way from <a href=\"https://stackoverflow.com/questions/66819726/optaplanner-create-a-good-initial-solution-by-hand\">this</a>.</p>\n<p>According the comments, I should somehow use <code>ScoreDirector.triggerVariableListeners()</code> to initialize shadow variables.</p>\n<p>I've found in OptaPlanner examples code like this:</p>\n<pre><code>private &lt;Result_&gt; Result_ applyScoreDirector(Function&lt;InnerScoreDirector&lt;Solution_, Score_&gt;, Result_&gt; function) {\n    try (InnerScoreDirector&lt;Solution_, Score_&gt; scoreDirector =\n            (InnerScoreDirector&lt;Solution_, Score_&gt;) solverFactory.getScoreDirectorFactory().buildScoreDirector(true,\n                    true)) {\n        scoreDirector.setWorkingSolution(getSolution());\n        Result_ result = function.apply(scoreDirector);\n        scoreDirector.triggerVariableListeners();\n        scoreDirector.calculateScore();\n        setSolution(scoreDirector.getWorkingSolution());\n        return result;\n    }\n}\n</code></pre>\n<p>I've tried to adapt it to my case (Table - my planning solution):</p>\n<pre><code>SolverConfig solverConfig = SolverConfig.createFromXmlFile(new File(url.getFile()));\nsolverManager = SolverManager.create(solverConfig, new SolverManagerConfig());\nTable result = createInitialSolution(data);\nDefaultSolverManager defaultSolverManager = (DefaultSolverManager) solverManager;\nDefaultSolverFactory&lt;Table&gt; solverFactory = (DefaultSolverFactory&lt;Table&gt;) defaultSolverManager.getSolverFactory();\nInnerScoreDirector&lt;Table, HardSoftScore&gt;  scoreDirector = (InnerScoreDirector&lt;Table, HardSoftScore&gt;) \n        solverFactory.getScoreDirectorFactory().buildScoreDirector(true, true);      \nscoreDirector.setWorkingSolution(result);\nscoreDirector.triggerVariableListeners();\nscoreDirector.calculateScore();\nresult = scoreDirector.getWorkingSolution();\nreturn result;\n</code></pre>\n<p>This doesn't work. All shadow variables are null. What am I doing wrong?</p>\n"},{"tags":["java","jboss","vaadin","crud","cdi"],"comments":[{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":1,"creation_date":1701276797,"post_id":77572814,"comment_id":136756649,"body_markdown":"Please provide the relevant info here. No-one will read your Word file somewhere else to help you.","body":"Please provide the relevant info here. No-one will read your Word file somewhere else to help you."},{"owner":{"account_id":29374007,"reputation":19,"user_id":22505996,"display_name":"BelaOxmyx"},"score":0,"creation_date":1701379361,"post_id":77572814,"comment_id":136771857,"body_markdown":"I have pared back the test app to one view with one column, and have simplified the supporting service class.  The issue and question are still unchanged.  How can the main view and the edit and delete dialogs be reconciled to affect the same list of items?","body":"I have pared back the test app to one view with one column, and have simplified the supporting service class.  The issue and question are still unchanged.  How can the main view and the edit and delete dialogs be reconciled to affect the same list of items?"}],"owner":{"account_id":29374007,"reputation":19,"user_id":22505996,"display_name":"BelaOxmyx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701441168,"creation_date":1701274262,"question_id":77572814,"body_markdown":"Per a different question thread, I&#39;m following someone&#39;s advise to switch from Spring Boot/Vaadin to Vaadin CDI, so my app will finally deploy on JBoss 7.1 under Java 8.  I&#39;ve successfully deployed a test list-crud app to JBoss, but now the CRUD operations are acting screwy.  I&#39;m including [the repo branch for this test app][1], which includes an illustrated Word doc of my steps to recreate the issue.  Is there a quick fix involving scope annotations, or does the code need to work differently in CDI?\r\n\r\n1.\tClone project locally\r\n2.\tCd to project folder\r\n3.\tmvn clean package -Pproduction\r\n4.\tDeploy to JBoss 7.1\r\n5.\tNavigate to localhost:8080/animals\r\n[![image][2]][2]\r\n7.\tSelect “Cat” row, and click “Edit”.\r\n[![image][3]][3]\r\n10.\tModify city name “Cat” to “Top Cat”, and click “Save”.\r\n[![image][4]][4]\r\n[![image][5]][5]\r\n12.\tObserve main view now shows a list with only the modified row showing.\r\n[![image][6]][6]\r\n14.\tClick page 2 navigation button.\r\n[![image][7]][7]\r\n16.\tClick page 1 navigation button.\r\n[![image][8]][8]\r\n17.\tObserve main view now shows original list with previous value of “Cat” row.\r\n[![image][9]][9]\r\n19.\tSelect “Dog” row, and click “Delete”.\r\n[![image][10]][10]\r\n21.\tOn confirmation prompt, click “Delete” to delete this row.\r\n[![image][11]][11]\r\n23.\tObserve main view now shows the same lone row we saw after we edited the “Top Cat” row.\r\n[![image][12]][12]\r\n25.\tClick page 2 navigation button.\r\n[![image][13]][13]\r\n27.\tClick page 1 navigation button.  The original list appears including the edited “Cat” row in its pre-edit state, and the deleted “Dog” row which should have been deleted.\r\n\r\nCreates, Edits and Deletes were all updating to the main list in my Spring Boot/Vaadin implementation, which I’ve only moved away from because it couldn’t deploy it to JBoss.\r\nI think since switching to Vaadin CDI, the main view loses state after update.  Does a way exist in Vaadin CDI to maintain state after updates like Saves and Deletes?\r\n\r\n\r\n  [1]: https://github.com/NCIDevRonR/vaadin-issues/tree/Vaadin-CDI-CRUD-scope\r\n  [2]: https://i.stack.imgur.com/ugSjP.jpg\r\n  [3]: https://i.stack.imgur.com/C1wmu.jpg\r\n  [4]: https://i.stack.imgur.com/iY51d.jpg\r\n  [5]: https://i.stack.imgur.com/0MUlE.jpg\r\n  [6]: https://i.stack.imgur.com/yd9dL.jpg\r\n  [7]: https://i.stack.imgur.com/DhBZN.jpg\r\n  [8]: https://i.stack.imgur.com/eJ9aT.jpg\r\n  [9]: https://i.stack.imgur.com/vYq5D.jpg\r\n  [10]: https://i.stack.imgur.com/OCvoj.jpg\r\n  [11]: https://i.stack.imgur.com/OMZyx.jpg\r\n  [12]: https://i.stack.imgur.com/IJbEC.jpg\r\n  [13]: https://i.stack.imgur.com/oyxNa.jpg","title":"CRUD Weirdness After Switching from Spring Boot/Vaadin 14 to Vaadin 14 CDI","body":"<p>Per a different question thread, I'm following someone's advise to switch from Spring Boot/Vaadin to Vaadin CDI, so my app will finally deploy on JBoss 7.1 under Java 8.  I've successfully deployed a test list-crud app to JBoss, but now the CRUD operations are acting screwy.  I'm including <a href=\"https://github.com/NCIDevRonR/vaadin-issues/tree/Vaadin-CDI-CRUD-scope\" rel=\"nofollow noreferrer\">the repo branch for this test app</a>, which includes an illustrated Word doc of my steps to recreate the issue.  Is there a quick fix involving scope annotations, or does the code need to work differently in CDI?</p>\n<ol>\n<li>Clone project locally</li>\n<li>Cd to project folder</li>\n<li>mvn clean package -Pproduction</li>\n<li>Deploy to JBoss 7.1</li>\n<li>Navigate to localhost:8080/animals\n<a href=\"https://i.stack.imgur.com/ugSjP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ugSjP.jpg\" alt=\"image\" /></a></li>\n<li>Select “Cat” row, and click “Edit”.\n<a href=\"https://i.stack.imgur.com/C1wmu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C1wmu.jpg\" alt=\"image\" /></a></li>\n<li>Modify city name “Cat” to “Top Cat”, and click “Save”.\n<a href=\"https://i.stack.imgur.com/iY51d.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iY51d.jpg\" alt=\"image\" /></a>\n<a href=\"https://i.stack.imgur.com/0MUlE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0MUlE.jpg\" alt=\"image\" /></a></li>\n<li>Observe main view now shows a list with only the modified row showing.\n<a href=\"https://i.stack.imgur.com/yd9dL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yd9dL.jpg\" alt=\"image\" /></a></li>\n<li>Click page 2 navigation button.\n<a href=\"https://i.stack.imgur.com/DhBZN.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DhBZN.jpg\" alt=\"image\" /></a></li>\n<li>Click page 1 navigation button.\n<a href=\"https://i.stack.imgur.com/eJ9aT.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eJ9aT.jpg\" alt=\"image\" /></a></li>\n<li>Observe main view now shows original list with previous value of “Cat” row.\n<a href=\"https://i.stack.imgur.com/vYq5D.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vYq5D.jpg\" alt=\"image\" /></a></li>\n<li>Select “Dog” row, and click “Delete”.\n<a href=\"https://i.stack.imgur.com/OCvoj.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OCvoj.jpg\" alt=\"image\" /></a></li>\n<li>On confirmation prompt, click “Delete” to delete this row.\n<a href=\"https://i.stack.imgur.com/OMZyx.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OMZyx.jpg\" alt=\"image\" /></a></li>\n<li>Observe main view now shows the same lone row we saw after we edited the “Top Cat” row.\n<a href=\"https://i.stack.imgur.com/IJbEC.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IJbEC.jpg\" alt=\"image\" /></a></li>\n<li>Click page 2 navigation button.\n<a href=\"https://i.stack.imgur.com/oyxNa.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oyxNa.jpg\" alt=\"image\" /></a></li>\n<li>Click page 1 navigation button.  The original list appears including the edited “Cat” row in its pre-edit state, and the deleted “Dog” row which should have been deleted.</li>\n</ol>\n<p>Creates, Edits and Deletes were all updating to the main list in my Spring Boot/Vaadin implementation, which I’ve only moved away from because it couldn’t deploy it to JBoss.\nI think since switching to Vaadin CDI, the main view loses state after update.  Does a way exist in Vaadin CDI to maintain state after updates like Saves and Deletes?</p>\n"},{"tags":["java","android","android-recyclerview","android-flexboxlayout"],"owner":{"account_id":30041016,"reputation":1,"user_id":23021894,"display_name":"Mohammad Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701441062,"creation_date":1701441062,"question_id":77585981,"body_markdown":"## Issues and steps to reproduce\r\n1. Enable data binding/view binding in project.\r\n2. Create a layout for RecyclerView Item, add a variable in it which contains a property &#39;selected&#39;, the background of this layout is dependent on whether the item is selected or not.\r\n3. Use FlexBoxLayout Manager for this recycler view.\r\n4. Create an Adapter for this recycler view, which changes the selected state of the list item upon clicking on it and then calls the notifyItemChanged method.\r\n5. The background of the item is changed but other items in the list seem to be refreshed or redrawn into the UI, the UI sort of flickers.\r\n\r\nScreen Recording of the issue\r\nhttps://github.com/google/flexbox-layout/assets/55429814/87c13dc1-37a3-4da9-8e5b-026750b7b0af\r\n\r\n\r\n## Version of the flexbox library\r\n3.0.0\r\n\r\n## Code\r\nFlexboxItemsAdapter.java\r\n```\r\npublic class FlexboxItemsAdapter extends RecyclerView.Adapter&lt;FlexboxItemsAdapter.ViewHolder&gt; {\r\n\r\n    private ArrayList&lt;FlexboxItemModel&gt; localDataSet;\r\n    private boolean multipleSelectionAllowed;\r\n    private int selectedItemPosition = 0;\r\n\r\n\r\n    public FlexboxItemsAdapter(boolean multipleSelectionAllowed, ArrayList&lt;FlexboxItemModel&gt; dataSet) {\r\n        localDataSet = dataSet;\r\n        this.multipleSelectionAllowed = multipleSelectionAllowed;\r\n\r\n    }\r\n\r\n    // Create new views (invoked by the layout manager)\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(ViewGroup viewGroup, int viewType) {\r\n        // Create a new view, which defines the UI of the list item\r\n        LayoutFlexboxItemBinding view = DataBindingUtil.inflate(\r\n                LayoutInflater.from(viewGroup.getContext()),\r\n                R.layout.layout_flexbox_item, viewGroup, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    public static class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        public LayoutFlexboxItemBinding layoutFlexboxItemBinding;\r\n\r\n        public ViewHolder(LayoutFlexboxItemBinding layoutFlexboxItemBinding) {\r\n            super(layoutFlexboxItemBinding.getRoot());\r\n            this.layoutFlexboxItemBinding = layoutFlexboxItemBinding;\r\n        }\r\n\r\n        public void bind(FlexboxItemModel model) {\r\n            layoutFlexboxItemBinding.setItem(model);\r\n        }\r\n\r\n    }\r\n\r\n    // Replace the contents of a view (invoked by the layout manager)\r\n    @Override\r\n    public void onBindViewHolder(ViewHolder viewHolder, @SuppressLint(&quot;RecyclerView&quot;) final int position) {\r\n        // Get element from your dataset at this position and replace the\r\n        // contents of the view with that element\r\n        final FlexboxItemModel model = localDataSet.get(position);\r\n        viewHolder.bind(model);\r\n        if (!multipleSelectionAllowed &amp;&amp; model.isSelected()) {\r\n            selectedItemPosition = position;\r\n        }\r\n        viewHolder.layoutFlexboxItemBinding.lfiText.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                boolean state = model.isSelected();\r\n                if(!multipleSelectionAllowed) {\r\n                    localDataSet.get(selectedItemPosition).setSelected(false);\r\n                    notifyItemChanged(selectedItemPosition);\r\n                }\r\n                model.setSelected(!state);\r\n                notifyItemChanged(position);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return localDataSet.size();\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int position) {\r\n        return Long.parseLong(localDataSet.get(position).getId());\r\n    }\r\n    \r\n}\r\n```\r\n\r\nFlexBoxItemModel.java\r\n```\r\npublic class FlexboxItemModel {\r\n\r\n\r\n    private String id;\r\n    private String text;\r\n    private boolean selected;\r\n\r\n    public FlexboxItemModel(String id, String text, boolean selected) {\r\n        this.id = id;\r\n        this.text = text;\r\n        this.selected = selected;\r\n    }\r\n```\r\n   \r\nlayout_flexbox_item.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    &gt;\r\n    &lt;data&gt;\r\n        &lt;variable\r\n            name=&quot;item&quot;\r\n            type=&quot;FlexboxItemModel&quot; /&gt;\r\n    &lt;/data&gt;\r\n&lt;TextView\r\n    android:layout_marginRight=&quot;10dp&quot;\r\n    android:layout_marginBottom=&quot;10dp&quot;\r\n    android:id=&quot;@+id/lfi_text&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:paddingVertical=&quot;7dp&quot;\r\n    android:paddingHorizontal=&quot;13dp&quot;\r\n    android:text=&quot;@{item.text}&quot;\r\n    style=&quot;@style/reg_form_labels&quot;\r\n    android:textColor=&quot;@{item.selected?@color/white:@color/color_purple}&quot;\r\n    android:background=&quot;@{item.selected? @drawable/border_gradient_28dp_1dp_filled : @drawable/border_grey_28dp_1dp}&quot;\r\n    /&gt;\r\n&lt;/layout&gt;\r\n```\r\n    \r\nInitialization of recycler view in fragment\r\n```\r\nRecyclerView recyclerView = binding.fseExamsRecyclerView;\r\nLinearLayoutManager linearLayoutManager = new LinearLayoutManager(getContext(), LinearLayoutManager.VERTICAL, false); // no flickering issue if I use linearlayoutmanager\r\nFlexboxLayoutManager layoutManager = new FlexboxLayoutManager(getContext());\r\nlayoutManager.setFlexDirection(FlexDirection.ROW);\r\nlayoutManager.setJustifyContent(JustifyContent.FLEX_START);\r\nlayoutManager.setFlexWrap(FlexWrap.WRAP);\r\nrecyclerView.setLayoutManager(layoutManager);\r\nmViewModel.getExams().observe(getViewLifecycleOwner(), flexboxItemModels-&gt; {\r\n    FlexboxItemsAdapter adapter = new FlexboxItemsAdapter(true, flexboxItemModels);\r\n    adapter.setHasStableIds(true);  // same issue whether I use this or not\r\n    recyclerView.setAdapter(adapter);\r\n});\r\n```\r\n\r\nFlexBoxItemModel.java\r\n```\r\npublic class FlexboxItemModel {\r\n\r\n\r\n    private String id;\r\n    private String text;\r\n    private boolean selected;\r\n\r\n    public FlexboxItemModel(String id, String text, boolean selected) {\r\n        this.id = id;\r\n        this.text = text;\r\n        this.selected = selected;\r\n    }\r\n```\r\n\r\nlayout_flexbox_item.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    &gt;\r\n    &lt;data&gt;\r\n        &lt;variable\r\n            name=&quot;item&quot;\r\n            type=&quot;FlexboxItemModel&quot; /&gt;\r\n    &lt;/data&gt;\r\n&lt;TextView\r\n    android:layout_marginRight=&quot;10dp&quot;\r\n    android:layout_marginBottom=&quot;10dp&quot;\r\n    android:id=&quot;@+id/lfi_text&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:paddingVertical=&quot;7dp&quot;\r\n    android:paddingHorizontal=&quot;13dp&quot;\r\n    android:text=&quot;@{item.text}&quot;\r\n    style=&quot;@style/reg_form_labels&quot;\r\n    android:textColor=&quot;@{item.selected?@color/white:@color/color_purple}&quot;\r\n    android:background=&quot;@{item.selected? @drawable/border_gradient_28dp_1dp_filled : @drawable/border_grey_28dp_1dp}&quot;\r\n    /&gt;\r\n&lt;/layout&gt;\r\n```\r\n\r\nInitialization of recycler view in fragment\r\n```\r\nRecyclerView recyclerView = binding.fseExamsRecyclerView;\r\nLinearLayoutManager linearLayoutManager = new LinearLayoutManager(getContext(), LinearLayoutManager.VERTICAL, false); // no flickering issue if I use linearlayoutmanager\r\nFlexboxLayoutManager layoutManager = new FlexboxLayoutManager(getContext());\r\nlayoutManager.setFlexDirection(FlexDirection.ROW);\r\nlayoutManager.setJustifyContent(JustifyContent.FLEX_START);\r\nlayoutManager.setFlexWrap(FlexWrap.WRAP);\r\nrecyclerView.setLayoutManager(layoutManager);\r\nmViewModel.getExams().observe(getViewLifecycleOwner(), flexboxItemModels-&gt; {\r\n    FlexboxItemsAdapter adapter = new FlexboxItemsAdapter(true, flexboxItemModels);\r\n    adapter.setHasStableIds(true);  // same issue whether I use this or not\r\n    recyclerView.setAdapter(adapter);\r\n});\r\n```\r\n\r\n## Expected behavior\r\nOnly the background of the item tapped should be changed and nothing else should be redrawn as I tried with LinearLayoutManager and I get this expected behaviour.\r\n\r\nI tried using LinearLayoutManager and it worked, only facing this issue while using flexbox layout manager.\r\nI also tried using adapter.setHasStableIds(true); but that didn&#39;t help as well.","title":"Android: FlexBoxLayoutManager with RecyclerView causes multiple items to refresh on calling notifyItemChanged","body":"<h2>Issues and steps to reproduce</h2>\n<ol>\n<li>Enable data binding/view binding in project.</li>\n<li>Create a layout for RecyclerView Item, add a variable in it which contains a property 'selected', the background of this layout is dependent on whether the item is selected or not.</li>\n<li>Use FlexBoxLayout Manager for this recycler view.</li>\n<li>Create an Adapter for this recycler view, which changes the selected state of the list item upon clicking on it and then calls the notifyItemChanged method.</li>\n<li>The background of the item is changed but other items in the list seem to be refreshed or redrawn into the UI, the UI sort of flickers.</li>\n</ol>\n<p>Screen Recording of the issue\n<a href=\"https://github.com/google/flexbox-layout/assets/55429814/87c13dc1-37a3-4da9-8e5b-026750b7b0af\" rel=\"nofollow noreferrer\">https://github.com/google/flexbox-layout/assets/55429814/87c13dc1-37a3-4da9-8e5b-026750b7b0af</a></p>\n<h2>Version of the flexbox library</h2>\n<p>3.0.0</p>\n<h2>Code</h2>\n<p>FlexboxItemsAdapter.java</p>\n<pre><code>public class FlexboxItemsAdapter extends RecyclerView.Adapter&lt;FlexboxItemsAdapter.ViewHolder&gt; {\n\n    private ArrayList&lt;FlexboxItemModel&gt; localDataSet;\n    private boolean multipleSelectionAllowed;\n    private int selectedItemPosition = 0;\n\n\n    public FlexboxItemsAdapter(boolean multipleSelectionAllowed, ArrayList&lt;FlexboxItemModel&gt; dataSet) {\n        localDataSet = dataSet;\n        this.multipleSelectionAllowed = multipleSelectionAllowed;\n\n    }\n\n    // Create new views (invoked by the layout manager)\n    @Override\n    public ViewHolder onCreateViewHolder(ViewGroup viewGroup, int viewType) {\n        // Create a new view, which defines the UI of the list item\n        LayoutFlexboxItemBinding view = DataBindingUtil.inflate(\n                LayoutInflater.from(viewGroup.getContext()),\n                R.layout.layout_flexbox_item, viewGroup, false);\n        return new ViewHolder(view);\n    }\n\n    public static class ViewHolder extends RecyclerView.ViewHolder {\n\n        public LayoutFlexboxItemBinding layoutFlexboxItemBinding;\n\n        public ViewHolder(LayoutFlexboxItemBinding layoutFlexboxItemBinding) {\n            super(layoutFlexboxItemBinding.getRoot());\n            this.layoutFlexboxItemBinding = layoutFlexboxItemBinding;\n        }\n\n        public void bind(FlexboxItemModel model) {\n            layoutFlexboxItemBinding.setItem(model);\n        }\n\n    }\n\n    // Replace the contents of a view (invoked by the layout manager)\n    @Override\n    public void onBindViewHolder(ViewHolder viewHolder, @SuppressLint(&quot;RecyclerView&quot;) final int position) {\n        // Get element from your dataset at this position and replace the\n        // contents of the view with that element\n        final FlexboxItemModel model = localDataSet.get(position);\n        viewHolder.bind(model);\n        if (!multipleSelectionAllowed &amp;&amp; model.isSelected()) {\n            selectedItemPosition = position;\n        }\n        viewHolder.layoutFlexboxItemBinding.lfiText.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                boolean state = model.isSelected();\n                if(!multipleSelectionAllowed) {\n                    localDataSet.get(selectedItemPosition).setSelected(false);\n                    notifyItemChanged(selectedItemPosition);\n                }\n                model.setSelected(!state);\n                notifyItemChanged(position);\n            }\n        });\n    }\n\n\n    @Override\n    public int getItemCount() {\n        return localDataSet.size();\n    }\n\n    @Override\n    public long getItemId(int position) {\n        return Long.parseLong(localDataSet.get(position).getId());\n    }\n    \n}\n</code></pre>\n<p>FlexBoxItemModel.java</p>\n<pre><code>public class FlexboxItemModel {\n\n\n    private String id;\n    private String text;\n    private boolean selected;\n\n    public FlexboxItemModel(String id, String text, boolean selected) {\n        this.id = id;\n        this.text = text;\n        this.selected = selected;\n    }\n</code></pre>\n<p>layout_flexbox_item.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    &gt;\n    &lt;data&gt;\n        &lt;variable\n            name=&quot;item&quot;\n            type=&quot;FlexboxItemModel&quot; /&gt;\n    &lt;/data&gt;\n&lt;TextView\n    android:layout_marginRight=&quot;10dp&quot;\n    android:layout_marginBottom=&quot;10dp&quot;\n    android:id=&quot;@+id/lfi_text&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:paddingVertical=&quot;7dp&quot;\n    android:paddingHorizontal=&quot;13dp&quot;\n    android:text=&quot;@{item.text}&quot;\n    style=&quot;@style/reg_form_labels&quot;\n    android:textColor=&quot;@{item.selected?@color/white:@color/color_purple}&quot;\n    android:background=&quot;@{item.selected? @drawable/border_gradient_28dp_1dp_filled : @drawable/border_grey_28dp_1dp}&quot;\n    /&gt;\n&lt;/layout&gt;\n</code></pre>\n<p>Initialization of recycler view in fragment</p>\n<pre><code>RecyclerView recyclerView = binding.fseExamsRecyclerView;\nLinearLayoutManager linearLayoutManager = new LinearLayoutManager(getContext(), LinearLayoutManager.VERTICAL, false); // no flickering issue if I use linearlayoutmanager\nFlexboxLayoutManager layoutManager = new FlexboxLayoutManager(getContext());\nlayoutManager.setFlexDirection(FlexDirection.ROW);\nlayoutManager.setJustifyContent(JustifyContent.FLEX_START);\nlayoutManager.setFlexWrap(FlexWrap.WRAP);\nrecyclerView.setLayoutManager(layoutManager);\nmViewModel.getExams().observe(getViewLifecycleOwner(), flexboxItemModels-&gt; {\n    FlexboxItemsAdapter adapter = new FlexboxItemsAdapter(true, flexboxItemModels);\n    adapter.setHasStableIds(true);  // same issue whether I use this or not\n    recyclerView.setAdapter(adapter);\n});\n</code></pre>\n<p>FlexBoxItemModel.java</p>\n<pre><code>public class FlexboxItemModel {\n\n\n    private String id;\n    private String text;\n    private boolean selected;\n\n    public FlexboxItemModel(String id, String text, boolean selected) {\n        this.id = id;\n        this.text = text;\n        this.selected = selected;\n    }\n</code></pre>\n<p>layout_flexbox_item.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    &gt;\n    &lt;data&gt;\n        &lt;variable\n            name=&quot;item&quot;\n            type=&quot;FlexboxItemModel&quot; /&gt;\n    &lt;/data&gt;\n&lt;TextView\n    android:layout_marginRight=&quot;10dp&quot;\n    android:layout_marginBottom=&quot;10dp&quot;\n    android:id=&quot;@+id/lfi_text&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:paddingVertical=&quot;7dp&quot;\n    android:paddingHorizontal=&quot;13dp&quot;\n    android:text=&quot;@{item.text}&quot;\n    style=&quot;@style/reg_form_labels&quot;\n    android:textColor=&quot;@{item.selected?@color/white:@color/color_purple}&quot;\n    android:background=&quot;@{item.selected? @drawable/border_gradient_28dp_1dp_filled : @drawable/border_grey_28dp_1dp}&quot;\n    /&gt;\n&lt;/layout&gt;\n</code></pre>\n<p>Initialization of recycler view in fragment</p>\n<pre><code>RecyclerView recyclerView = binding.fseExamsRecyclerView;\nLinearLayoutManager linearLayoutManager = new LinearLayoutManager(getContext(), LinearLayoutManager.VERTICAL, false); // no flickering issue if I use linearlayoutmanager\nFlexboxLayoutManager layoutManager = new FlexboxLayoutManager(getContext());\nlayoutManager.setFlexDirection(FlexDirection.ROW);\nlayoutManager.setJustifyContent(JustifyContent.FLEX_START);\nlayoutManager.setFlexWrap(FlexWrap.WRAP);\nrecyclerView.setLayoutManager(layoutManager);\nmViewModel.getExams().observe(getViewLifecycleOwner(), flexboxItemModels-&gt; {\n    FlexboxItemsAdapter adapter = new FlexboxItemsAdapter(true, flexboxItemModels);\n    adapter.setHasStableIds(true);  // same issue whether I use this or not\n    recyclerView.setAdapter(adapter);\n});\n</code></pre>\n<h2>Expected behavior</h2>\n<p>Only the background of the item tapped should be changed and nothing else should be redrawn as I tried with LinearLayoutManager and I get this expected behaviour.</p>\n<p>I tried using LinearLayoutManager and it worked, only facing this issue while using flexbox layout manager.\nI also tried using adapter.setHasStableIds(true); but that didn't help as well.</p>\n"},{"tags":["java","firebase","kotlin","android-studio","android-push-notification"],"owner":{"account_id":20236690,"reputation":1,"user_id":14841644,"display_name":"Abhi Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701724986,"answer_count":0,"score":-1,"last_activity_date":1701440115,"creation_date":1701438816,"question_id":77585755,"body_markdown":"I am using below firebase dependencies\r\n\r\nimplementation platform(&#39;com.google.firebase:firebase-bom:32.6.0&#39;)\r\n\r\n// Firebase libraries\r\n\r\n\r\nimplementation &#39;com.google.firebase:firebase-auth&#39;\r\n\r\nimplementation &#39;com.google.firebase:firebase-storage&#39;\r\n\r\nimplementation &#39;com.google.firebase:firebase-firestore&#39;\r\n\r\nimplementation &#39;com.google.firebase:firebase-database&#39;\r\n\r\nimplementation &#39;com.firebaseui:firebase-ui-firestore:8.0.2&#39;\r\n\r\nimplementation &#39;com.google.firebase:firebase-messaging&#39;\r\n\r\nimplementation &#39;com.google.android.gms:play-services-location&#39; \r\n\r\n implementation &#39;com.google.firebase:firebase-admin:9.2.0&#39;\r\n\r\n   \r\n\r\nbut when I try to sync the firebase-admin:9.2.0 dependency that time gradle does not build successfully or gives me the duplicate class error. I want to this dependency for generate access token to call push notification API.\r\n\r\nalso, I tried chatGPT solutions but not success .\r\n\r\n\r\n\r\nThanks in advance appreciate your answer :)","title":"Duplicate class error while add firebase-admin dependency in android studio","body":"<p>I am using below firebase dependencies</p>\n<p>implementation platform('com.google.firebase:firebase-bom:32.6.0')</p>\n<p>// Firebase libraries</p>\n<p>implementation 'com.google.firebase:firebase-auth'</p>\n<p>implementation 'com.google.firebase:firebase-storage'</p>\n<p>implementation 'com.google.firebase:firebase-firestore'</p>\n<p>implementation 'com.google.firebase:firebase-database'</p>\n<p>implementation 'com.firebaseui:firebase-ui-firestore:8.0.2'</p>\n<p>implementation 'com.google.firebase:firebase-messaging'</p>\n<p>implementation 'com.google.android.gms:play-services-location'</p>\n<p>implementation 'com.google.firebase:firebase-admin:9.2.0'</p>\n<p>but when I try to sync the firebase-admin:9.2.0 dependency that time gradle does not build successfully or gives me the duplicate class error. I want to this dependency for generate access token to call push notification API.</p>\n<p>also, I tried chatGPT solutions but not success .</p>\n<p>Thanks in advance appreciate your answer :)</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","buttonclick"],"comments":[{"owner":{"account_id":16840055,"reputation":300,"user_id":12175652,"display_name":"Rolandas Ulevicius"},"score":0,"creation_date":1701432677,"post_id":77584972,"comment_id":136777822,"body_markdown":"visiting the exact link does not give any prompt to cookies, are you sure the link is correct? also dont post code images, post it as text form and format it.","body":"visiting the exact link does not give any prompt to cookies, are you sure the link is correct? also dont post code images, post it as text form and format it."},{"owner":{"account_id":16840055,"reputation":300,"user_id":12175652,"display_name":"Rolandas Ulevicius"},"score":0,"creation_date":1701432856,"post_id":77584972,"comment_id":136777851,"body_markdown":"poking around in the updated link i could say for certain - the xpath is entirely wrong, and the error youre getting confirms it.","body":"poking around in the updated link i could say for certain - the xpath is entirely wrong, and the error youre getting confirms it."},{"owner":{"account_id":15470210,"reputation":1,"user_id":11160511,"display_name":"Maha"},"score":0,"creation_date":1701436906,"post_id":77584972,"comment_id":136778563,"body_markdown":"its after the last step definition I am on the new website and the cookie won&#39;t disappear the xpath I used has been &quot;//button[contains(@class,\\&quot;allow\\&quot;)]&quot; and I have tried other locators nothing seems to get me on the page without the cookie","body":"its after the last step definition I am on the new website and the cookie won&#39;t disappear the xpath I used has been &quot;//button[contains(@class,\\&quot;allow\\&quot;)]&quot; and I have tried other locators nothing seems to get me on the page without the cookie"}],"answers":[{"comments":[{"owner":{"account_id":15470210,"reputation":1,"user_id":11160511,"display_name":"Maha"},"score":0,"creation_date":1701436672,"post_id":77585223,"comment_id":136778513,"body_markdown":"Hi the problem is I am going from a link of another website to that website that is where it does not work. \n@When(&quot;the user clicks on the testing documentation&quot;)\npublic void the_user_clicks_on_the_testing_documentation() {\n\tSystem.out.println(&quot;Inside step - User clicks and sees different testing docs&quot;);\n\t\n\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\n\tdriver.findElement(By.xpath(&quot;//a[@data-text=&#39;Testing documentation&#39;]&quot;)).click();\n\t*the link I am clicking is from here https://www.smartdcc.co.uk/our-smart-network/network-products-services/testing-services/","body":"Hi the problem is I am going from a link of another website to that website that is where it does not work.  @When(&quot;the user clicks on the testing documentation&quot;) public void the_user_clicks_on_the_testing_documentation() { \tSystem.out.println(&quot;Inside step - User clicks and sees different testing docs&quot;); \t \tdriver.manage().timeouts().implicitlyWait(Duration.ofSecond&zwnj;&#8203;s(30)); \tdriver.findElement(By.xpath(&quot;//a[@data-text=&#39;Testing documentation&#39;]&quot;)).click(); \t*the link I am clicking is from here <a href=\"https://www.smartdcc.co.uk/our-smart-network/network-products-services/testing-services/\" rel=\"nofollow noreferrer\">smartdcc.co.uk/our-smart-network/network-products-services/&hellip;</a>"},{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1701440011,"post_id":77585223,"comment_id":136779153,"body_markdown":"Ok the issue is, when you click `Testing Documentation`, the new page opens in new tab, so you need to switch the context of the `driver` to new tab. Refer the updated answer to switch to new tab, once you switch to new tab, then try to click on `Accept cookies` button.","body":"Ok the issue is, when you click <code>Testing Documentation</code>, the new page opens in new tab, so you need to switch the context of the <code>driver</code> to new tab. Refer the updated answer to switch to new tab, once you switch to new tab, then try to click on <code>Accept cookies</code> button."},{"owner":{"account_id":15470210,"reputation":1,"user_id":11160511,"display_name":"Maha"},"score":0,"creation_date":1701440776,"post_id":77585223,"comment_id":136779308,"body_markdown":"Thank you it worked. I have not come across this before and could not find this problem online any documentation which I can use for future problems as such as it will help my learning","body":"Thank you it worked. I have not come across this before and could not find this problem online any documentation which I can use for future problems as such as it will help my learning"},{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1701440831,"post_id":77585223,"comment_id":136779314,"body_markdown":"Glad it helped resolve the issue. [What should I do when someone answers my question?](https://stackoverflow.com/help/someone-answers)","body":"Glad it helped resolve the issue. <a href=\"https://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"},{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1701440929,"post_id":77585223,"comment_id":136779333,"body_markdown":"This question will help understand switching between tabs in selenium-java. https://stackoverflow.com/q/12729265/7598774","body":"This question will help understand switching between tabs in selenium-java. <a href=\"https://stackoverflow.com/q/12729265/7598774\">stackoverflow.com/q/12729265/7598774</a>"}],"tags":[],"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701439915,"creation_date":1701433209,"answer_id":77585223,"question_id":77584972,"body_markdown":"**Refer below working code:** It uses [Explicit Waits](https://www.selenium.dev/documentation/webdriver/waits/) and XPath locator strategy to locate and perform action on &lt;kbd&gt;Accept all cookies&lt;/kbd&gt; button.\r\n````\r\nWebDriver driver = new ChromeDriver();\r\ndriver.manage().window().maximize();\r\ndriver.get(&quot;https://smartenergycodecompany.co.uk/the-smart-energy-code-2/&quot;);\r\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()=&#39;Accept all cookies&#39;]&quot;))).click();\r\n````\r\n\r\n**UPDATE:**\r\n\r\n````\r\ndriver.findElement(By.xpath(&quot;//a[@data-text=&#39;Testing documentation&#39;]&quot;)).click();\r\nArrayList&lt;String&gt; tabs = new ArrayList&lt;String&gt; (driver.getWindowHandles());\r\ndriver.switchTo().window(tabs.get(1));\t    \r\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()=&#39;Accept all cookies&#39;]&quot;))).click();\r\n\r\n// Use below line if you want to switch back to previous tab\r\n//driver.switchTo().window(tabs.get(0));\r\n````","title":"org.openqa.selenium.NoSuchElementException: Unable to find element with locator By.xpath : issue unresolvable","body":"<p><strong>Refer below working code:</strong> It uses <a href=\"https://www.selenium.dev/documentation/webdriver/waits/\" rel=\"nofollow noreferrer\">Explicit Waits</a> and XPath locator strategy to locate and perform action on <kbd>Accept all cookies</kbd> button.</p>\n<pre><code>WebDriver driver = new ChromeDriver();\ndriver.manage().window().maximize();\ndriver.get(&quot;https://smartenergycodecompany.co.uk/the-smart-energy-code-2/&quot;);\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()='Accept all cookies']&quot;))).click();\n</code></pre>\n<p><strong>UPDATE:</strong></p>\n<pre><code>driver.findElement(By.xpath(&quot;//a[@data-text='Testing documentation']&quot;)).click();\nArrayList&lt;String&gt; tabs = new ArrayList&lt;String&gt; (driver.getWindowHandles());\ndriver.switchTo().window(tabs.get(1));      \nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()='Accept all cookies']&quot;))).click();\n\n// Use below line if you want to switch back to previous tab\n//driver.switchTo().window(tabs.get(0));\n</code></pre>\n"}],"owner":{"account_id":15470210,"reputation":1,"user_id":11160511,"display_name":"Maha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701439915,"creation_date":1701430379,"question_id":77584972,"body_markdown":"I have been trying to click on this button **Accept all cookies** on the website: https://smartenergycodecompany.co.uk/the-smart-energy-code-2/ \r\n\r\nIt just doesn&#39;t seem to work. I have changed XPath, ClassName and tried to use CSSSelector. This is the button class \r\n\r\n    &lt;button class=&quot;cmplz-btn cmplz-accept cc-allow cc-btn&quot;&gt;Accept all cookies&lt;/button&gt; \r\n\r\nI am going to the website by clicking on **testing documentation** from the website: https://www.smartdcc.co.uk/our-smart-network/network-products-services/testing-services/. This works fine as seen in the picture and also can be seen from my step definition. The click is working for the step after where the element is not found on smart energy to click on the button.\r\n\r\n    public class DccSteps {\r\n    \r\n    \t\r\n    \tWebDriver driver = new ChromeDriver();\r\n    \t\r\n    @Given(&quot;the browser is open&quot;)\r\n    public void the_browser_is_open() {\r\n    \tSystem.out.println(&quot;Inside step - browser is open&quot;);\r\n    \t\r\n    \t\r\n    }\r\n    \r\n    @And(&quot;the user has access to navigate to smartdcc.com&quot;)\r\n    public void the_user_has_access_to_navigate_to_smartdcc_com() {\r\n    \tSystem.out.println(&quot;Inside step - The user has access to a smartdcc page&quot;);\r\n    \tdriver.navigate().to(&quot;https://www.smartdcc.co.uk/&quot;);\r\n    \tdriver.manage().window().maximize();\r\n    \r\n    \t\r\n    \tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\r\n        driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(60));\r\n        \r\n    \tJavascriptExecutor js=(JavascriptExecutor)driver;\r\n    \t\r\n    \tWebElement checkbox=driver.findElement(By.xpath(&quot;/html/body/div[1]/div[2]/div[4]/div[2]/div/button&quot;));\r\n    \t\r\n    \tjs.executeScript(&quot;arguments[0].click()&quot;, checkbox);\r\n    \t//js.executeScript(&quot;document.getElementsByClassName(&#39;optanon-allow-all accept-cookies-button&#39;).click()&quot;);\r\n    \r\n        \r\n    \t//driver.findElement(By.xpath(&quot;/html/body/div[1]/div[2]/div[4]/div[2]/div/button&quot;)).click();\r\n    }\r\n    \r\n    @When(&quot;the user clicks on about DCC they should be on the correct page&quot;)\r\n    public void the_user_clicks_on_about_dcc_they_should_be_on_the_correct_page() {\r\n    \tdriver.findElement(By.xpath(&quot;//nav[@class=&#39;primary-navigation primary-navigation--desktop&#39;]//span[contains(text(),&#39;About DCC&#39;)]&quot;)).click();\r\n    \tdriver.getPageSource().contains(&quot;Enabling innovation for public good&quot;);\r\n    \tSystem.out.println(&quot;Inside step - User clicks on the right page&quot;);\r\n    }\r\n    \r\n    @Then(&quot;the user clicks on enabling innovation&quot;)\r\n    public void the_user_clicks_on_enabling_innovation() {\r\n    \tSystem.out.println(&quot;Inside step - User clicks on link&quot;);\r\n        driver.findElement(By.xpath(&quot;/html/body/header/div[1]/div/div/div[2]/nav/ul/li[3]/a&quot;)).click();\r\n    }\r\n    \r\n    @When(&quot;the user scrolls down they should see testing services&quot;)\r\n    public void the_user_scrolls_down_they_should_see_testing_services() {\r\n    \tSystem.out.println(&quot;Inside step - Testing services should be visible&quot;);\r\n    \tdriver.getPageSource().contains(&quot;Testing Services&quot;);\r\n    }\r\n    \r\n    @Then(&quot;the user will click on the testing services&quot;)\r\n    public void the_user_will_click_on_the_testing_services() {\r\n    \tSystem.out.println(&quot;Inside step - user will click on the link&quot;);\r\n        driver.findElement(By.xpath(&quot;/html/body/main/div[2]/div/div[10]/div/div[2]/div/div[1]/div/a/div[2]/h2&quot;)).click();\r\n        \r\n    }\r\n    \r\n    @Then(&quot;the user should be on the testing page&quot;)\r\n    public void the_user_should_be_on_the_testing_page() {\r\n    \tSystem.out.println(&quot;Inside step - User should be be on the testing page&quot;);\r\n    \tdriver.getPageSource().contains(&quot;Testing you can trust&quot;);\r\n    }\r\n    \r\n    \r\n    \t\r\n    @When(&quot;the user clicks on the testing documentation&quot;)\r\n    public void the_user_clicks_on_the_testing_documentation() {\r\n    \tSystem.out.println(&quot;Inside step - User clicks and sees different testing docs&quot;);\r\n    \t\r\n    \tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\r\n    \tdriver.findElement(By.xpath(&quot;//a[@data-text=&#39;Testing documentation&#39;]&quot;)).click();\r\n\t\r\n\t\r\n\r\nwhich can be seen on the image\r\n[enter image description here](https://i.stack.imgur.com/nKdFH.png)\r\nI have looked at documentation but nothing has helped with the button being clicked.\r\n\r\nI have tried making different changes using various methods but the button is not being clicked at all.","title":"org.openqa.selenium.NoSuchElementException: Unable to find element with locator By.xpath : issue unresolvable","body":"<p>I have been trying to click on this button <strong>Accept all cookies</strong> on the website: <a href=\"https://smartenergycodecompany.co.uk/the-smart-energy-code-2/\" rel=\"nofollow noreferrer\">https://smartenergycodecompany.co.uk/the-smart-energy-code-2/</a></p>\n<p>It just doesn't seem to work. I have changed XPath, ClassName and tried to use CSSSelector. This is the button class</p>\n<pre><code>&lt;button class=&quot;cmplz-btn cmplz-accept cc-allow cc-btn&quot;&gt;Accept all cookies&lt;/button&gt; \n</code></pre>\n<p>I am going to the website by clicking on <strong>testing documentation</strong> from the website: <a href=\"https://www.smartdcc.co.uk/our-smart-network/network-products-services/testing-services/\" rel=\"nofollow noreferrer\">https://www.smartdcc.co.uk/our-smart-network/network-products-services/testing-services/</a>. This works fine as seen in the picture and also can be seen from my step definition. The click is working for the step after where the element is not found on smart energy to click on the button.</p>\n<pre><code>public class DccSteps {\n\n    \n    WebDriver driver = new ChromeDriver();\n    \n@Given(&quot;the browser is open&quot;)\npublic void the_browser_is_open() {\n    System.out.println(&quot;Inside step - browser is open&quot;);\n    \n    \n}\n\n@And(&quot;the user has access to navigate to smartdcc.com&quot;)\npublic void the_user_has_access_to_navigate_to_smartdcc_com() {\n    System.out.println(&quot;Inside step - The user has access to a smartdcc page&quot;);\n    driver.navigate().to(&quot;https://www.smartdcc.co.uk/&quot;);\n    driver.manage().window().maximize();\n\n    \n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\n    driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(60));\n    \n    JavascriptExecutor js=(JavascriptExecutor)driver;\n    \n    WebElement checkbox=driver.findElement(By.xpath(&quot;/html/body/div[1]/div[2]/div[4]/div[2]/div/button&quot;));\n    \n    js.executeScript(&quot;arguments[0].click()&quot;, checkbox);\n    //js.executeScript(&quot;document.getElementsByClassName('optanon-allow-all accept-cookies-button').click()&quot;);\n\n    \n    //driver.findElement(By.xpath(&quot;/html/body/div[1]/div[2]/div[4]/div[2]/div/button&quot;)).click();\n}\n\n@When(&quot;the user clicks on about DCC they should be on the correct page&quot;)\npublic void the_user_clicks_on_about_dcc_they_should_be_on_the_correct_page() {\n    driver.findElement(By.xpath(&quot;//nav[@class='primary-navigation primary-navigation--desktop']//span[contains(text(),'About DCC')]&quot;)).click();\n    driver.getPageSource().contains(&quot;Enabling innovation for public good&quot;);\n    System.out.println(&quot;Inside step - User clicks on the right page&quot;);\n}\n\n@Then(&quot;the user clicks on enabling innovation&quot;)\npublic void the_user_clicks_on_enabling_innovation() {\n    System.out.println(&quot;Inside step - User clicks on link&quot;);\n    driver.findElement(By.xpath(&quot;/html/body/header/div[1]/div/div/div[2]/nav/ul/li[3]/a&quot;)).click();\n}\n\n@When(&quot;the user scrolls down they should see testing services&quot;)\npublic void the_user_scrolls_down_they_should_see_testing_services() {\n    System.out.println(&quot;Inside step - Testing services should be visible&quot;);\n    driver.getPageSource().contains(&quot;Testing Services&quot;);\n}\n\n@Then(&quot;the user will click on the testing services&quot;)\npublic void the_user_will_click_on_the_testing_services() {\n    System.out.println(&quot;Inside step - user will click on the link&quot;);\n    driver.findElement(By.xpath(&quot;/html/body/main/div[2]/div/div[10]/div/div[2]/div/div[1]/div/a/div[2]/h2&quot;)).click();\n    \n}\n\n@Then(&quot;the user should be on the testing page&quot;)\npublic void the_user_should_be_on_the_testing_page() {\n    System.out.println(&quot;Inside step - User should be be on the testing page&quot;);\n    driver.getPageSource().contains(&quot;Testing you can trust&quot;);\n}\n\n\n    \n@When(&quot;the user clicks on the testing documentation&quot;)\npublic void the_user_clicks_on_the_testing_documentation() {\n    System.out.println(&quot;Inside step - User clicks and sees different testing docs&quot;);\n    \n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\n    driver.findElement(By.xpath(&quot;//a[@data-text='Testing documentation']&quot;)).click();\n</code></pre>\n<p>which can be seen on the image\n<a href=\"https://i.stack.imgur.com/nKdFH.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nI have looked at documentation but nothing has helped with the button being clicked.</p>\n<p>I have tried making different changes using various methods but the button is not being clicked at all.</p>\n"},{"tags":["java","mongodb","geospatial"],"answers":[{"tags":[],"owner":{"account_id":1102285,"reputation":211,"user_id":1094428,"display_name":"Patrick Sauts"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457396708,"creation_date":1457393937,"answer_id":35856304,"question_id":34052372,"body_markdown":"In your settings you need to specify the codec registry, you&#39;re currently missing ```GeoJsonCodecProvider()``` using ```com.mongodb.MongoClient.getDefaultCodecRegistry()``` should do fine\r\n\r\nFor the async driver\r\n\r\n    MongoClientSettings settings = MongoClientSettings.builder().readPreference(readPreference)\r\n        .codecRegistry(com.mongodb.MongoClient.getDefaultCodecRegistry()).socketSettings(sockSettings)\r\n        .connectionPoolSettings(connPoolSettings).credentialList(credentials))\r\n        .clusterSettings(clusterSettings).build();\r\n    LOG.info(&quot;MongoClientSettings: {}, {}, {}, {}&quot;, sockSettings, connPoolSettings, clusterSettings, credentials);\r\n    MongoClient mgc = MongoClients.create(settings);\r\n\r\nfor the normal driver \r\n\r\n    MongoClientOptions settings = MongoClientOptions.builder().readPreference(readPreference)\r\n        .codecRegistry(com.mongodb.MongoClient.getDefaultCodecRegistry()).build();\r\n    MongoClient mgc= new MongoClient(servers,credentials,settings);","title":"Why do I get the following error : Can&#39;t find a codec for class com.mongodb.client.model.geojson.Polygon","body":"<p>In your settings you need to specify the codec registry, you're currently missing <code>GeoJsonCodecProvider()</code> using <code>com.mongodb.MongoClient.getDefaultCodecRegistry()</code> should do fine</p>\n\n<p>For the async driver</p>\n\n<pre><code>MongoClientSettings settings = MongoClientSettings.builder().readPreference(readPreference)\n    .codecRegistry(com.mongodb.MongoClient.getDefaultCodecRegistry()).socketSettings(sockSettings)\n    .connectionPoolSettings(connPoolSettings).credentialList(credentials))\n    .clusterSettings(clusterSettings).build();\nLOG.info(\"MongoClientSettings: {}, {}, {}, {}\", sockSettings, connPoolSettings, clusterSettings, credentials);\nMongoClient mgc = MongoClients.create(settings);\n</code></pre>\n\n<p>for the normal driver </p>\n\n<pre><code>MongoClientOptions settings = MongoClientOptions.builder().readPreference(readPreference)\n    .codecRegistry(com.mongodb.MongoClient.getDefaultCodecRegistry()).build();\nMongoClient mgc= new MongoClient(servers,credentials,settings);\n</code></pre>\n"}],"owner":{"account_id":7276759,"reputation":61,"user_id":5547941,"display_name":"Riju Pahwa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9610,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1701439440,"creation_date":1449088121,"question_id":34052372,"body_markdown":"I am trying to do a geospatial query using MongoDB&#39;s `com.mongodb.client.model.geojson.Polygon` class and `com.mongodb.client.model.geojson.Position` class. The client code populates the four double corners in its own boundingBox object.\r\n\r\nHere is the code snippet:\r\n\r\n\r\n    Polygon polygon = new Polygon(Arrays.asList(new Position(boundingBox.getRightLongitude(),boundingBox.getTopLatitude()), \r\n                    new Position(boundingBox.getLeftLongitude(), boundingBox.getTopLatitude()), \r\n                    new Position(boundingBox.getLeftLongitude(), boundingBox.getBottomLatitude()), \r\n                    new Position(boundingBox.getRightLongitude(), boundingBox.getBottomLatitude()),\r\n                    new Position(boundingBox.getRightLongitude(), boundingBox.getTopLatitude())));\r\n    \t\t//Document filter = new Document(&quot;coordinates&quot;,geoWithin(&quot;coordinates&quot;, polygon));\r\n    \t\t\r\n\t\t\r\n\t\tBlock&lt;Document&gt; printBlock = new Block&lt;Document&gt;() {\r\n\t\t     @Override\r\n\t\t     public void apply(final Document document) {\r\n\t\t         System.out.println(document.toJson());\r\n\t\t     }\r\n\t\t};\r\n\t\tdatabase.getCollection(&quot;roads&quot;).find(geoWithin(&quot;coordinates&quot;,polygon)).forEach(printBlock);\r\n\r\nAnd here is the error:\r\n\r\n    Exception in thread &quot;main&quot; org.bson.codecs.configuration.CodecConfigurationException: Can&#39;t find a codec for class com.mongodb.client.model.geojson.Polygon.","title":"Why do I get the following error : Can&#39;t find a codec for class com.mongodb.client.model.geojson.Polygon","body":"<p>I am trying to do a geospatial query using MongoDB's <code>com.mongodb.client.model.geojson.Polygon</code> class and <code>com.mongodb.client.model.geojson.Position</code> class. The client code populates the four double corners in its own boundingBox object.</p>\n\n<p>Here is the code snippet:</p>\n\n<pre><code>Polygon polygon = new Polygon(Arrays.asList(new Position(boundingBox.getRightLongitude(),boundingBox.getTopLatitude()), \n                new Position(boundingBox.getLeftLongitude(), boundingBox.getTopLatitude()), \n                new Position(boundingBox.getLeftLongitude(), boundingBox.getBottomLatitude()), \n                new Position(boundingBox.getRightLongitude(), boundingBox.getBottomLatitude()),\n                new Position(boundingBox.getRightLongitude(), boundingBox.getTopLatitude())));\n        //Document filter = new Document(\"coordinates\",geoWithin(\"coordinates\", polygon));\n\n\n    Block&lt;Document&gt; printBlock = new Block&lt;Document&gt;() {\n         @Override\n         public void apply(final Document document) {\n             System.out.println(document.toJson());\n         }\n    };\n    database.getCollection(\"roads\").find(geoWithin(\"coordinates\",polygon)).forEach(printBlock);\n</code></pre>\n\n<p>And here is the error:</p>\n\n<pre><code>Exception in thread \"main\" org.bson.codecs.configuration.CodecConfigurationException: Can't find a codec for class com.mongodb.client.model.geojson.Polygon.\n</code></pre>\n"},{"tags":["java","hibernate","sdk","quarkus"],"comments":[{"owner":{"account_id":8238621,"reputation":557,"user_id":6196911,"accept_rate":17,"display_name":"CS_noob"},"score":0,"creation_date":1701439865,"post_id":77585754,"comment_id":136779114,"body_markdown":"mvn checks JAVA_HOME for java. Check what is the value.","body":"mvn checks JAVA_HOME for java. Check what is the value."}],"owner":{"account_id":30040594,"reputation":1,"user_id":23021561,"display_name":"rafael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701439892,"answer_count":0,"score":-1,"last_activity_date":1701438991,"creation_date":1701438803,"question_id":77585754,"body_markdown":"Context: I am using quarkus 1.7.3-Final and JDK 11 (major version 55) to compile and run my project tests.\r\n\r\nWhen i run my unit tests using `mvn clean verify`, I get the following error:\r\n```java\r\n[ERROR] pesquisar PorNome Teste\r\nTime elapsed: 0.026 s &lt;&lt;&lt;ERROR!\r\njava.lang.RuntimeException: java.lang.ExceptionInInitializerError\r\nCaused by: java.lang.ExceptionInInitializerError\r\nCaused by: java.lang.RuntimeException: Failed to start quarkus\r\nCaused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [com.myproject.models.Documento]\r\nCaused by: org.hibernate.bytecode.enhance.spi.EnhancementException: Failed to enhance class com.myproject.models.Documento\r\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n```\r\n\r\nHOWEVER, when i run `javap -v Documento.class` on com.myproject.models.Documento, I get that the JDK version which compiled my .class is 55 (indeed! I am using JDK 11).\r\n```\r\nLast modified Dec 1, 2023; size 6424 bytes\r\nMD5 checksum 2196a5b49dc6807b48bcc48ebff5aeaa\r\nCompiled from &quot;Documento.java&quot;\r\npublic class com.myproject.models.Documento implements java.io.Serializable\r\nminor version:\r\nmajor version: 55\r\nflags: (0x0021) ACC_PUBLIC, ACC_SUPER\r\nthis_class: #8\r\nsuper_class: #2\r\n```\r\n\r\nI tried changing my SDK, with no results.\r\n\r\nI tried to updated my Quarkus dependecies, but this generates other erros and major migration problems","title":"I am getting &quot;Unsupported class file major version 61&quot; while running my tests. But the major version of my class file is 55","body":"<p>Context: I am using quarkus 1.7.3-Final and JDK 11 (major version 55) to compile and run my project tests.</p>\n<p>When i run my unit tests using <code>mvn clean verify</code>, I get the following error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>[ERROR] pesquisar PorNome Teste\nTime elapsed: 0.026 s &lt;&lt;&lt;ERROR!\njava.lang.RuntimeException: java.lang.ExceptionInInitializerError\nCaused by: java.lang.ExceptionInInitializerError\nCaused by: java.lang.RuntimeException: Failed to start quarkus\nCaused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [com.myproject.models.Documento]\nCaused by: org.hibernate.bytecode.enhance.spi.EnhancementException: Failed to enhance class com.myproject.models.Documento\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 61\n</code></pre>\n<p>HOWEVER, when i run <code>javap -v Documento.class</code> on com.myproject.models.Documento, I get that the JDK version which compiled my .class is 55 (indeed! I am using JDK 11).</p>\n<pre><code>Last modified Dec 1, 2023; size 6424 bytes\nMD5 checksum 2196a5b49dc6807b48bcc48ebff5aeaa\nCompiled from &quot;Documento.java&quot;\npublic class com.myproject.models.Documento implements java.io.Serializable\nminor version:\nmajor version: 55\nflags: (0x0021) ACC_PUBLIC, ACC_SUPER\nthis_class: #8\nsuper_class: #2\n</code></pre>\n<p>I tried changing my SDK, with no results.</p>\n<p>I tried to updated my Quarkus dependecies, but this generates other erros and major migration problems</p>\n"},{"tags":["java","gradle","junit","github-actions","error-logging"],"comments":[{"owner":{"account_id":3597514,"reputation":117173,"user_id":3001761,"display_name":"jonrsharpe"},"score":1,"creation_date":1701443183,"post_id":77585640,"comment_id":136779830,"body_markdown":"https://docs.github.com/en/actions/using-workflows/storing-workflow-data-as-artifacts?","body":"<a href=\"https://docs.github.com/en/actions/using-workflows/storing-workflow-data-as-artifacts\" rel=\"nofollow noreferrer\">docs.github.com/en/actions/using-workflows/&hellip;</a>?"},{"owner":{"account_id":245690,"reputation":14585,"user_id":519334,"accept_rate":86,"display_name":"k3b"},"score":0,"creation_date":1701516965,"post_id":77585640,"comment_id":136787204,"body_markdown":"@jonrsharpe exactly what i was looking for. thanks a lot. If you add &quot;use https://github.com/actions/upload-artifact to your workflow&quot; as answer then i can mark this as answer:","body":"@jonrsharpe exactly what i was looking for. thanks a lot. If you add &quot;use <a href=\"https://github.com/actions/upload-artifact\" rel=\"nofollow noreferrer\">github.com/actions/upload-artifact</a> to your workflow&quot; as answer then i can mark this as answer:"}],"owner":{"account_id":245690,"reputation":14585,"user_id":519334,"accept_rate":86,"display_name":"k3b"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701437734,"creation_date":1701437734,"question_id":77585640,"body_markdown":"I have a git repository where some JUnit-Tests fail in github-actions while local JUnit-Tests are ok.\r\n\r\nIs there a way to get the failing report?\r\n\r\nfrom https://github.com/k3b/calef/actions/runs/7060398755/job/19219851935 \r\n\r\n&gt; Task :app:testDebugUnitTest\r\n&gt;\r\n&gt; de.k3b.calef.CalendarFormatterTest &gt; add_germanyShort_ok FAILED\r\n&gt;    org.junit.ComparisonFailure at CalendarFormatterTest.java:51\r\n&gt;\r\n&gt; de.k3b.calef.CalendarFormatterTest &gt; add_usShort_ok FAILED\r\n&gt;    org.junit.ComparisonFailure at CalendarFormatterTest.java:63\r\n&gt;\r\n&gt; de.k3b.calef.CalendarFormatterTest &gt; add_usShortWithoutTime_ok FAILED\r\n&gt;    org.junit.ComparisonFailure at CalendarFormatterTest.java:75\r\n&gt;\r\n&gt; 6 tests completed, 3 failed\r\n\r\n&gt; Task :app:testDebugUnitTest FAILED\r\n&gt; [...]\r\n&gt; * What went wrong:\r\n&gt; Execution failed for task &#39;:app:testDebugUnitTest&#39;.\r\n&gt; There were failing tests. See the report at: file:///home/runner/work/calef/calef/app/build/reports/tests/testDebugUnitTest/index.html\r\n\r\nHow can i read .../testDebugUnitTest/index.html ?\r\n","title":"Github Actions JUnittest Failing: How to get the error report?","body":"<p>I have a git repository where some JUnit-Tests fail in github-actions while local JUnit-Tests are ok.</p>\n<p>Is there a way to get the failing report?</p>\n<p>from <a href=\"https://github.com/k3b/calef/actions/runs/7060398755/job/19219851935\" rel=\"nofollow noreferrer\">https://github.com/k3b/calef/actions/runs/7060398755/job/19219851935</a></p>\n<blockquote>\n<p>Task :app:testDebugUnitTest</p>\n<p>de.k3b.calef.CalendarFormatterTest &gt; add_germanyShort_ok FAILED\norg.junit.ComparisonFailure at CalendarFormatterTest.java:51</p>\n<p>de.k3b.calef.CalendarFormatterTest &gt; add_usShort_ok FAILED\norg.junit.ComparisonFailure at CalendarFormatterTest.java:63</p>\n<p>de.k3b.calef.CalendarFormatterTest &gt; add_usShortWithoutTime_ok FAILED\norg.junit.ComparisonFailure at CalendarFormatterTest.java:75</p>\n<p>6 tests completed, 3 failed</p>\n</blockquote>\n<blockquote>\n<p>Task :app:testDebugUnitTest FAILED\n[...]</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':app:testDebugUnitTest'.\nThere were failing tests. See the report at: file:///home/runner/work/calef/calef/app/build/reports/tests/testDebugUnitTest/index.html</li>\n</ul>\n</blockquote>\n<p>How can i read .../testDebugUnitTest/index.html ?</p>\n"},{"tags":["java","tiff","geotools"],"comments":[{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":2,"creation_date":1701270170,"post_id":77571884,"comment_id":136755146,"body_markdown":"Looks like the TIFF uses JPEG compressed tiles, and the colors are incorrectly converted from YCC to RGB (they were already RGB and shouldn&#39;t have been).","body":"Looks like the TIFF uses JPEG compressed tiles, and the colors are incorrectly converted from YCC to RGB (they were already RGB and shouldn&#39;t have been)."},{"owner":{"account_id":3606201,"reputation":389,"user_id":3008320,"accept_rate":100,"display_name":"sendreams"},"score":0,"creation_date":1701333476,"post_id":77571884,"comment_id":136763302,"body_markdown":"i have uploaded a new tiff file  which render fine with geotools, I can&#39;t see any specific difference between them.","body":"i have uploaded a new tiff file  which render fine with geotools, I can&#39;t see any specific difference between them."},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1701336233,"post_id":77571884,"comment_id":136763782,"body_markdown":"the compilation issues stem from mixing your GeoTools versions stable is 30.x currently not 28.5 - there were substantial changes see the [blog](https://geotoolsnews.blogspot.com/2023/10/geotools-300-released.html) for details","body":"the compilation issues stem from mixing your GeoTools versions stable is 30.x currently not 28.5 - there were substantial changes see the <a href=\"https://geotoolsnews.blogspot.com/2023/10/geotools-300-released.html\" rel=\"nofollow noreferrer\">blog</a> for details"},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1701337009,"post_id":77571884,"comment_id":136763934,"body_markdown":"One possible issue is that one of your files (the one that fails) is an image/world file pair and the other is a real GeoTiff and they take different routes to the renderer.","body":"One possible issue is that one of your files (the one that fails) is an image/world file pair and the other is a real GeoTiff and they take different routes to the renderer."},{"owner":{"account_id":3606201,"reputation":389,"user_id":3008320,"accept_rate":100,"display_name":"sendreams"},"score":0,"creation_date":1701339146,"post_id":77571884,"comment_id":136764296,"body_markdown":"the L21.tfw file just contains data bounds information, very simple. Deleting this file will have the same effect","body":"the L21.tfw file just contains data bounds information, very simple. Deleting this file will have the same effect"},{"owner":{"account_id":3606201,"reputation":389,"user_id":3008320,"accept_rate":100,"display_name":"sendreams"},"score":0,"creation_date":1701402819,"post_id":77571884,"comment_id":136774076,"body_markdown":"i have been tested geotools version 29.3 and 30.1, not difference at all.","body":"i have been tested geotools version 29.3 and 30.1, not difference at all."}],"answers":[{"tags":[],"owner":{"account_id":3606201,"reputation":389,"user_id":3008320,"accept_rate":100,"display_name":"sendreams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701437388,"creation_date":1701437388,"answer_id":77585603,"question_id":77571884,"body_markdown":"The cause of the problem was found. It was caused by the tiff file not generating an image pyramid. It should also be noted that when generating an image pyramid, you need to use the external mode, which is to generate the external pyramid file of ovr. Otherwise, there will still be problems when rendering with geotools. .\r\nFinally, geotools still has some problems when rendering tiff pyramid images. After zooming in to a certain extent, the color will be distorted.","title":"how to create rgbstyle while rendering tif file using geotools?","body":"<p>The cause of the problem was found. It was caused by the tiff file not generating an image pyramid. It should also be noted that when generating an image pyramid, you need to use the external mode, which is to generate the external pyramid file of ovr. Otherwise, there will still be problems when rendering with geotools. .\nFinally, geotools still has some problems when rendering tiff pyramid images. After zooming in to a certain extent, the color will be distorted.</p>\n"}],"owner":{"account_id":3606201,"reputation":389,"user_id":3008320,"accept_rate":100,"display_name":"sendreams"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77585603,"answer_count":1,"score":0,"last_activity_date":1701437388,"creation_date":1701267108,"question_id":77571884,"body_markdown":"I have a tiff file, and the effect when opened in qgis is very inconsistent with the effect rendered with geotools.\r\n\r\nopen by qgis\r\n[![enter image description here][1]][1]\r\n\r\nthe imagelab snapshot (Color is obviously distorted).\r\n[![enter image description here][2]][2]\r\nthe Imagelab source code can be download from here:\r\nhttps://docs.geotools.org/stable/userguide/_downloads/b1a328d258da28a4e9da534d4aaca37c/ImageLab.java\r\nThe key code is the createRGBStyle function, the code has some compilation errors, mainly namespace issues. I will put the modified code in the link below.\r\n\r\nThe strange thing is that some tiff files have normal effects after being opened with imagelab. what is the reason behind the scene?\r\n\r\n[the source tiff file and modified imagelabs][3]\r\n\r\ngeotools&#39;s version: 28.5,29.3,30.1\r\n\r\nI used qgis to view the metadata information of the two tiff data and found nothing special.\r\ngeotools imagelab render with color error tiff\r\n[![geotools render error tiff][4]][4]\r\ngeotools imagelab render ok tiff\r\n[![geotools render ok tiff][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xkR6w.jpg\r\n  [2]: https://i.stack.imgur.com/Dwxzd.jpg\r\n  [3]: https://drive.google.com/drive/folders/1wG30b7BEgLSgt9wpLqYce1Lv6pvhs59b?usp=sharing\r\n  [4]: https://i.stack.imgur.com/1g5BG.png\r\n  [5]: https://i.stack.imgur.com/T11H8.png","title":"how to create rgbstyle while rendering tif file using geotools?","body":"<p>I have a tiff file, and the effect when opened in qgis is very inconsistent with the effect rendered with geotools.</p>\n<p>open by qgis\n<a href=\"https://i.stack.imgur.com/xkR6w.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xkR6w.jpg\" alt=\"enter image description here\" /></a></p>\n<p>the imagelab snapshot (Color is obviously distorted).\n<a href=\"https://i.stack.imgur.com/Dwxzd.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dwxzd.jpg\" alt=\"enter image description here\" /></a>\nthe Imagelab source code can be download from here:\n<a href=\"https://docs.geotools.org/stable/userguide/_downloads/b1a328d258da28a4e9da534d4aaca37c/ImageLab.java\" rel=\"nofollow noreferrer\">https://docs.geotools.org/stable/userguide/_downloads/b1a328d258da28a4e9da534d4aaca37c/ImageLab.java</a>\nThe key code is the createRGBStyle function, the code has some compilation errors, mainly namespace issues. I will put the modified code in the link below.</p>\n<p>The strange thing is that some tiff files have normal effects after being opened with imagelab. what is the reason behind the scene?</p>\n<p><a href=\"https://drive.google.com/drive/folders/1wG30b7BEgLSgt9wpLqYce1Lv6pvhs59b?usp=sharing\" rel=\"nofollow noreferrer\">the source tiff file and modified imagelabs</a></p>\n<p>geotools's version: 28.5,29.3,30.1</p>\n<p>I used qgis to view the metadata information of the two tiff data and found nothing special.\ngeotools imagelab render with color error tiff\n<a href=\"https://i.stack.imgur.com/1g5BG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1g5BG.png\" alt=\"geotools render error tiff\" /></a>\ngeotools imagelab render ok tiff\n<a href=\"https://i.stack.imgur.com/T11H8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T11H8.png\" alt=\"geotools render ok tiff\" /></a></p>\n"},{"tags":["java","windows","apache-kafka","windows-subsystem-for-linux","kafka-producer-api"],"comments":[{"owner":{"account_id":142729,"reputation":30927,"user_id":350613,"display_name":"Robin Moffatt"},"score":0,"creation_date":1647600448,"post_id":71525350,"comment_id":126416917,"body_markdown":"Where is your Kafka broker running?","body":"Where is your Kafka broker running?"},{"owner":{"account_id":24597836,"reputation":1,"user_id":18501017,"display_name":"Soundarya Karthikeyan"},"score":0,"creation_date":1647600971,"post_id":71525350,"comment_id":126417107,"body_markdown":"my kafka is running on this port in my local 127.0.0.1:9092","body":"my kafka is running on this port in my local 127.0.0.1:9092"},{"owner":{"account_id":142729,"reputation":30927,"user_id":350613,"display_name":"Robin Moffatt"},"score":1,"creation_date":1647611523,"post_id":71525350,"comment_id":126420660,"body_markdown":"right, but which machine? You&#39;ve mentioned windows and ubuntu","body":"right, but which machine? You&#39;ve mentioned windows and ubuntu"},{"owner":{"account_id":24597836,"reputation":1,"user_id":18501017,"display_name":"Soundarya Karthikeyan"},"score":0,"creation_date":1647788102,"post_id":71525350,"comment_id":126453986,"body_markdown":"Started kafka server using Ubuntu and tested console producer and consumer. Written sample kafka producer and consumer in STS (in windows 10) and trying to connect to the same kafka which was started using ubuntu LTS. Do i need to start the same kafka in windows again using .bat files and then try connecting through java kafka producer?","body":"Started kafka server using Ubuntu and tested console producer and consumer. Written sample kafka producer and consumer in STS (in windows 10) and trying to connect to the same kafka which was started using ubuntu LTS. Do i need to start the same kafka in windows again using .bat files and then try connecting through java kafka producer?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1647792329,"post_id":71525350,"comment_id":126454929,"body_markdown":"That wouldn&#39;t be recommended, no. You&#39;ll have other issues running Kafka in windows directly. Instead, if you really don&#39;t want to deal with networking configurations, you need to run your code in WSL2 as well. In other words, localhost is not the same between Windows and the hypervisor running Kafka.","body":"That wouldn&#39;t be recommended, no. You&#39;ll have other issues running Kafka in windows directly. Instead, if you really don&#39;t want to deal with networking configurations, you need to run your code in WSL2 as well. In other words, localhost is not the same between Windows and the hypervisor running Kafka."},{"owner":{"account_id":24597836,"reputation":1,"user_id":18501017,"display_name":"Soundarya Karthikeyan"},"score":0,"creation_date":1647843191,"post_id":71525350,"comment_id":126463757,"body_markdown":"Thank you so much OneCricketeer. I&#39;m able to make it work if I run the code in WSL2.","body":"Thank you so much OneCricketeer. I&#39;m able to make it work if I run the code in WSL2."}],"answers":[{"tags":[],"owner":{"account_id":3222171,"reputation":1361,"user_id":3192775,"accept_rate":33,"display_name":"Tim"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1662921929,"creation_date":1662921929,"answer_id":73681837,"question_id":71525350,"body_markdown":"Too late for this response, but hope this helps someone.\r\n\r\n- Identify the ip address of the WSL2 using ifconfig or ip addr or hostname -I\r\n\r\n- From the windows command prompt (as admin) run below command\r\n\r\n```\r\n&gt; netsh interface portproxy add v4tov4 listenport=9092 listenaddress=0.0.0.0 connectport=9092 connectaddress=172.X.X.X\r\n```\r\n172.X.X.X is the Ip of the WSL2\r\n\r\nWith that change I was able to access the Kafka cluster.\r\n\r\nReference [link](https://stackoverflow.com/a/67738246/3192775)","title":"Connect to Kafka running in WSL2 Ubuntu","body":"<p>Too late for this response, but hope this helps someone.</p>\n<ul>\n<li><p>Identify the ip address of the WSL2 using ifconfig or ip addr or hostname -I</p>\n</li>\n<li><p>From the windows command prompt (as admin) run below command</p>\n</li>\n</ul>\n<pre><code>&gt; netsh interface portproxy add v4tov4 listenport=9092 listenaddress=0.0.0.0 connectport=9092 connectaddress=172.X.X.X\n</code></pre>\n<p>172.X.X.X is the Ip of the WSL2</p>\n<p>With that change I was able to access the Kafka cluster.</p>\n<p>Reference <a href=\"https://stackoverflow.com/a/67738246/3192775\">link</a></p>\n"}],"owner":{"account_id":24597836,"reputation":1,"user_id":18501017,"display_name":"Soundarya Karthikeyan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1547,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701436603,"answer_count":1,"score":0,"last_activity_date":1701436559,"creation_date":1647597930,"question_id":71525350,"body_markdown":"The below is my Kafka broker configuration\r\n\r\n```\r\nbroker.id=1\r\nport=9092\r\nhost.name=127.0.0.1\r\nadvertised.listeners=PLAINTEXT://127.0.0.1:9092\r\nlisteners=PLAINTEXT://127.0.0.1:9092\r\n```\r\n\r\nConsole producer and consumer are working perfectly but when I try to connect through Java, it is throwing broker not available error. The Kafka broker is running and able to produce and consume messages through console.\r\n\r\n```\r\nProperties props = new Properties();\r\nprops.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;127.0.0.1:9092&quot;);\r\nprops.put(ProducerConfig.ACKS_CONFIG, &quot;all&quot;);\r\nprops.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\nprops.put(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n\r\nKafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;String,String&gt;(props);\r\n\r\nproducer.send(new ProducerRecord&lt;String, String&gt;(&quot;Sample&quot;,&quot;Hey&quot;,&quot;From java program&quot;));\r\nproducer.close();\r\n```\r\n\r\n```none\r\n[kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Connection to node -1 (/127.0.0.1:9092) could not be established. Broker may not be available.\r\n[kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Bootstrap broker 127.0.0.1:9092 (id: -1 rack: null) disconnected\r\n```\r\n\r\nI&#39;m using STS IDE to write Java program and using Java 8, Kafka 2.8.1\r\nWindows OS and using Ubuntu 20.04.4 LTS to execute console producer and consumer.\r\n\r\n","title":"Connect to Kafka running in WSL2 Ubuntu","body":"<p>The below is my Kafka broker configuration</p>\n<pre><code>broker.id=1\nport=9092\nhost.name=127.0.0.1\nadvertised.listeners=PLAINTEXT://127.0.0.1:9092\nlisteners=PLAINTEXT://127.0.0.1:9092\n</code></pre>\n<p>Console producer and consumer are working perfectly but when I try to connect through Java, it is throwing broker not available error. The Kafka broker is running and able to produce and consume messages through console.</p>\n<pre><code>Properties props = new Properties();\nprops.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;127.0.0.1:9092&quot;);\nprops.put(ProducerConfig.ACKS_CONFIG, &quot;all&quot;);\nprops.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\nprops.put(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n\nKafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;String,String&gt;(props);\n\nproducer.send(new ProducerRecord&lt;String, String&gt;(&quot;Sample&quot;,&quot;Hey&quot;,&quot;From java program&quot;));\nproducer.close();\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>[kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Connection to node -1 (/127.0.0.1:9092) could not be established. Broker may not be available.\n[kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Bootstrap broker 127.0.0.1:9092 (id: -1 rack: null) disconnected\n</code></pre>\n<p>I'm using STS IDE to write Java program and using Java 8, Kafka 2.8.1\nWindows OS and using Ubuntu 20.04.4 LTS to execute console producer and consumer.</p>\n"},{"tags":["java","android-studio","gradle","android-gradle-plugin"],"answers":[{"comments":[{"owner":{"account_id":25256651,"reputation":1,"user_id":19088272,"display_name":"LastCode"},"score":0,"creation_date":1701368114,"post_id":77579725,"comment_id":136769948,"body_markdown":"after migrating i got a new error\n\nCaused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.","body":"after migrating i got a new error  Caused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientC&zwnj;&#8203;onfiguration$Artifac&zwnj;&#8203;tResolveException: Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;."},{"owner":{"account_id":26806717,"reputation":75,"user_id":20731770,"display_name":"Adam Basha"},"score":0,"creation_date":1701397564,"post_id":77579725,"comment_id":136773630,"body_markdown":"@LastCode You can try to clean and rebuild the project, check your internet connection, or check your gradle version or dependencies","body":"@LastCode You can try to clean and rebuild the project, check your internet connection, or check your gradle version or dependencies"},{"owner":{"account_id":25256651,"reputation":1,"user_id":19088272,"display_name":"LastCode"},"score":0,"creation_date":1701414344,"post_id":77579725,"comment_id":136775021,"body_markdown":"still received the same error maybe i share to you the code via github link you check?","body":"still received the same error maybe i share to you the code via github link you check?"},{"owner":{"account_id":26806717,"reputation":75,"user_id":20731770,"display_name":"Adam Basha"},"score":0,"creation_date":1701414697,"post_id":77579725,"comment_id":136775059,"body_markdown":"sure @LastCode . I would love to help you","body":"sure @LastCode . I would love to help you"},{"owner":{"account_id":25256651,"reputation":1,"user_id":19088272,"display_name":"LastCode"},"score":0,"creation_date":1701421707,"post_id":77579725,"comment_id":136776065,"body_markdown":"below is the link\nhttps://github.com/mzunye-777/twitterclone.git","body":"below is the link <a href=\"https://github.com/mzunye-777/twitterclone.git\" rel=\"nofollow noreferrer\">github.com/mzunye-777/twitterclone.git</a>"},{"owner":{"account_id":26806717,"reputation":75,"user_id":20731770,"display_name":"Adam Basha"},"score":0,"creation_date":1701434117,"post_id":77579725,"comment_id":136778047,"body_markdown":"sorry @LastCode I though it was flutter not java. I don&#39;t know java","body":"sorry @LastCode I though it was flutter not java. I don&#39;t know java"},{"owner":{"account_id":25256651,"reputation":1,"user_id":19088272,"display_name":"LastCode"},"score":0,"creation_date":1701434548,"post_id":77579725,"comment_id":136778131,"body_markdown":"okay thanks Adam","body":"okay thanks Adam"},{"owner":{"account_id":25256651,"reputation":1,"user_id":19088272,"display_name":"LastCode"},"score":0,"creation_date":1701438295,"post_id":77579725,"comment_id":136778819,"body_markdown":"hi Adam i am trying to build a social app i have some experience in Java and little of flutter i want to start over what do you think i should head for?","body":"hi Adam i am trying to build a social app i have some experience in Java and little of flutter i want to start over what do you think i should head for?"},{"owner":{"account_id":26806717,"reputation":75,"user_id":20731770,"display_name":"Adam Basha"},"score":0,"creation_date":1701438463,"post_id":77579725,"comment_id":136778845,"body_markdown":"@LastCode Hello! Based on your experience in Java and some experience in Flutter, you have a good foundation for building a social app. Both Java and Flutter have their own advantages and disadvantages when it comes to mobile app development.","body":"@LastCode Hello! Based on your experience in Java and some experience in Flutter, you have a good foundation for building a social app. Both Java and Flutter have their own advantages and disadvantages when it comes to mobile app development."},{"owner":{"account_id":25256651,"reputation":1,"user_id":19088272,"display_name":"LastCode"},"score":0,"creation_date":1701452372,"post_id":77579725,"comment_id":136781553,"body_markdown":"hi i had to uninstall my android","body":"hi i had to uninstall my android"},{"owner":{"account_id":25256651,"reputation":1,"user_id":19088272,"display_name":"LastCode"},"score":0,"creation_date":1701454079,"post_id":77579725,"comment_id":136781808,"body_markdown":"hi Adam do you know any social app project i can check from GitHub, I am currently working on one but it will take me like forever to complete?","body":"hi Adam do you know any social app project i can check from GitHub, I am currently working on one but it will take me like forever to complete?"},{"owner":{"account_id":26806717,"reputation":75,"user_id":20731770,"display_name":"Adam Basha"},"score":0,"creation_date":1701487114,"post_id":77579725,"comment_id":136785304,"body_markdown":"I am sorry that you had to go through the uninstallation and reinstallation process. I have searched a little and I have found this, but it is only dart\nhttps://github.com/CharlyKeleb/SocialMedia-App","body":"I am sorry that you had to go through the uninstallation and reinstallation process. I have searched a little and I have found this, but it is only dart <a href=\"https://github.com/CharlyKeleb/SocialMedia-App\" rel=\"nofollow noreferrer\">github.com/CharlyKeleb/SocialMedia-App</a>"},{"owner":{"account_id":25256651,"reputation":1,"user_id":19088272,"display_name":"LastCode"},"score":0,"creation_date":1701500421,"post_id":77579725,"comment_id":136785941,"body_markdown":"this is nice Adam working on a new project i would love some help, will you be available to help me since this will be some what of a new experience and a learning opportunity for both of us, how can i reach you via your WhatsApp? maybe send me your number via WhatsApp ?\n\nmy email is mzunye777@gmail.com","body":"this is nice Adam working on a new project i would love some help, will you be available to help me since this will be some what of a new experience and a learning opportunity for both of us, how can i reach you via your WhatsApp? maybe send me your number via WhatsApp ?  my email is mzunye777@gmail.com"},{"owner":{"account_id":26806717,"reputation":75,"user_id":20731770,"display_name":"Adam Basha"},"score":0,"creation_date":1701501625,"post_id":77579725,"comment_id":136786005,"body_markdown":"you can reach me on discord @LastCode you will find it in my youtube channel","body":"you can reach me on discord @LastCode you will find it in my youtube channel"}],"tags":[],"owner":{"account_id":26806717,"reputation":75,"user_id":20731770,"display_name":"Adam Basha"},"comment_count":14,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701358602,"creation_date":1701358602,"answer_id":77579725,"question_id":77579664,"body_markdown":"After some research about the error. I found that to solve this you should migrate to AndroidX.\r\nThis is a full documentation about how to migrate:\r\nhttps://developer.android.com/jetpack/androidx/migrate\r\n\r\nThe conclusion is to migrate to AndroidX you should follow these steps:\r\n\r\nWith Android Studio 3.2 and higher, you can migrate an existing project to AndroidX by selecting Refactor &gt; Migrate to AndroidX from the menu bar.\r\n\r\nThe refactor command makes use of two flags. By default, both of them are set to true in your `gradle.properties` file:\r\n\r\n`android.useAndroidX=true`\r\nThe Android plugin uses the appropriate AndroidX library instead of a Support Library.\r\n`android.enableJetifier=true`\r\nThe Android plugin automatically migrates existing third-party libraries to use AndroidX by rewriting their binaries.","title":"android studio latest version gradle update problem","body":"<p>After some research about the error. I found that to solve this you should migrate to AndroidX.\nThis is a full documentation about how to migrate:\n<a href=\"https://developer.android.com/jetpack/androidx/migrate\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/androidx/migrate</a></p>\n<p>The conclusion is to migrate to AndroidX you should follow these steps:</p>\n<p>With Android Studio 3.2 and higher, you can migrate an existing project to AndroidX by selecting Refactor &gt; Migrate to AndroidX from the menu bar.</p>\n<p>The refactor command makes use of two flags. By default, both of them are set to true in your <code>gradle.properties</code> file:</p>\n<p><code>android.useAndroidX=true</code>\nThe Android plugin uses the appropriate AndroidX library instead of a Support Library.\n<code>android.enableJetifier=true</code>\nThe Android plugin automatically migrates existing third-party libraries to use AndroidX by rewriting their binaries.</p>\n"}],"owner":{"account_id":25256651,"reputation":1,"user_id":19088272,"display_name":"LastCode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701436278,"creation_date":1701358136,"question_id":77579664,"body_markdown":"I tried to updated my project which I was working on like 2016, I was updating everything within the code from the gradle version to 28.0.0\r\n\r\nWhile updating an error came up that I have never seen:\r\n```\r\nVersion 28 (intended for Android Pie and below) is the last version of the legacy support library, so we recommend that you migrate to AndroidX libraries when using Android Q and moving forward. The IDE can help with this: Refactor &gt; Migrate to AndroidX...\r\n\r\nthis is line 28 from the code build.gradle (   implementation &#39;com.android.support:appcompat-v7:28.0.0&#39;   )\r\n\r\n\r\nVersion 28 (intended for Android Pie and below) is the last version of the legacy support library, so we recommend that you migrate to AndroidX libraries when using Android Q and moving forward. The IDE can help with this: Refactor &gt; Migrate to AndroidX...\r\n\r\nimplementation &#39;com.android.support:design:28.0.0&#39;\r\n\r\nVersion 28 (intended for Android Pie and below) is the last version of the legacy support library, so we recommend that you migrate to AndroidX libraries when using Android Q and moving forward. The IDE can help with this: Refactor &gt; Migrate to AndroidX...\r\n\r\n\r\nimplementation &#39;com.android.support:support-v4:28.0.0&#39;\r\n\r\n\r\nimplementation &#39;com.android.support:support-vector-drawable:28.0.0&#39;\r\n    implementation &#39;com.android.support:cardview-v7:28.0.0&#39;\r\n```\r\nI tried updating everything to latest version and checking from android studio libraries, but I failed maybe I did something wrong?","title":"android studio latest version gradle update problem","body":"<p>I tried to updated my project which I was working on like 2016, I was updating everything within the code from the gradle version to 28.0.0</p>\n<p>While updating an error came up that I have never seen:</p>\n<pre><code>Version 28 (intended for Android Pie and below) is the last version of the legacy support library, so we recommend that you migrate to AndroidX libraries when using Android Q and moving forward. The IDE can help with this: Refactor &gt; Migrate to AndroidX...\n\nthis is line 28 from the code build.gradle (   implementation 'com.android.support:appcompat-v7:28.0.0'   )\n\n\nVersion 28 (intended for Android Pie and below) is the last version of the legacy support library, so we recommend that you migrate to AndroidX libraries when using Android Q and moving forward. The IDE can help with this: Refactor &gt; Migrate to AndroidX...\n\nimplementation 'com.android.support:design:28.0.0'\n\nVersion 28 (intended for Android Pie and below) is the last version of the legacy support library, so we recommend that you migrate to AndroidX libraries when using Android Q and moving forward. The IDE can help with this: Refactor &gt; Migrate to AndroidX...\n\n\nimplementation 'com.android.support:support-v4:28.0.0'\n\n\nimplementation 'com.android.support:support-vector-drawable:28.0.0'\n    implementation 'com.android.support:cardview-v7:28.0.0'\n</code></pre>\n<p>I tried updating everything to latest version and checking from android studio libraries, but I failed maybe I did something wrong?</p>\n"},{"tags":["java","css","javafx"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1701432507,"post_id":77584993,"comment_id":136777793,"body_markdown":"As specified in the duplicate (assuming it is in `src/main/resources` of your project), use: `escena.getStylesheets().add(&quot;estilos.css&quot;)`.","body":"As specified in the duplicate (assuming it is in <code>src&#47;main&#47;resources</code> of your project), use: <code>escena.getStylesheets().add(&quot;estilos.css&quot;)</code>."},{"owner":{"account_id":30039735,"reputation":1,"user_id":23020872,"display_name":"Marc Exposito Francisco"},"score":0,"creation_date":1701434061,"post_id":77584993,"comment_id":136778036,"body_markdown":"Now it shows this error dic 01, 2023 1:33:46 P.�M. com.sun.javafx.css.StyleManager loadStylesheetUnPrivileged\nADVERTENCIA: Resource &quot;estilos.css&quot; not found.","body":"Now it shows this error dic 01, 2023 1:33:46 P.�M. com.sun.javafx.css.StyleManager loadStylesheetUnPrivileged ADVERTENCIA: Resource &quot;estilos.css&quot; not found."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1701434281,"post_id":77584993,"comment_id":136778082,"body_markdown":"Where exactly is the resource located? If it is for example in `src/main/resources/my/package/estilos.css`, you probably need to use `/my/package/estilos.css` or `my/package/estilos.css`.","body":"Where exactly is the resource located? If it is for example in <code>src&#47;main&#47;resources&#47;my&#47;package&#47;estilos.css</code>, you probably need to use <code>&#47;my&#47;package&#47;estilos.css</code> or <code>my&#47;package&#47;estilos.css</code>."}],"owner":{"account_id":30039735,"reputation":1,"user_id":23020872,"display_name":"Marc Exposito Francisco"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701432411,"answer_count":0,"score":0,"last_activity_date":1701436094,"creation_date":1701430550,"question_id":77584993,"body_markdown":"I&#39;m trying to implement a CSS document into my Java project. I&#39;m using JavaFX as my graphic interface.\r\n\r\nMy code is:\r\n\r\n    Scene escena = new Scene(grid, 500, 500);\r\n    escena.getStylesheets().add(getClass().getResource(&quot;estilos.css&quot;).toString());\r\n\r\nThe error is:\r\n\r\n    Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toString()&quot; because the return value of &quot;java.lang.Class.getResource(String)&quot; is null\r\n\r\nIf tried to change the CSS document name, and some changes in the `getStylesheets` call, but it says that I&#39;m obtaining a null pointer exception.\r\n","title":"How can I make the CSS work on my Java project?","body":"<p>I'm trying to implement a CSS document into my Java project. I'm using JavaFX as my graphic interface.</p>\n<p>My code is:</p>\n<pre><code>Scene escena = new Scene(grid, 500, 500);\nescena.getStylesheets().add(getClass().getResource(&quot;estilos.css&quot;).toString());\n</code></pre>\n<p>The error is:</p>\n<pre><code>Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toString()&quot; because the return value of &quot;java.lang.Class.getResource(String)&quot; is null\n</code></pre>\n<p>If tried to change the CSS document name, and some changes in the <code>getStylesheets</code> call, but it says that I'm obtaining a null pointer exception.</p>\n"},{"tags":["java","redirect","quarkus","open-telemetry","zipkin"],"owner":{"account_id":13938264,"reputation":45,"user_id":10064799,"display_name":"Денис Анд"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701436092,"creation_date":1701436092,"question_id":77585480,"body_markdown":"I&#39;m currently working on implementing an OAuth2 authentication system utilizing the code grant flow. However, I&#39;m encountering an issue with span linking during redirects. I&#39;m using Quarkus 3.6.0 along with the latest OpenTelemetry.\r\n\r\nThe challenge I&#39;m facing is that every redirect in the code flow seems to create its own span, resulting in separate tracks and new traceId flows. I&#39;m striving to maintain continuity across these redirects, ensuring that all spans remain under one trace. This is essential for comprehensive visibility within tracing systems like Zipkin or Jaeger.\r\n\r\nAdding the traceparent header manually doesn&#39;t seem to link the spans together. Instead, it creates a new span that attaches to the base process as the last one before initiating a new trace for the required endpoint. Unfortunately, this new span lacks necessary tags or information.\r\n\r\nIn essence, I&#39;m seeking guidance or suggestions on how to link one span with another, ensuring the retrieval of all the essential tags throughout the OAuth2 authentication flow amidst redirects.\r\n\r\nHas anyone encountered a similar issue or found a solution to maintain continuity in spans across redirects in an OAuth2 flow?\r\n\r\nYour insights or ideas would be immensely helpful. Thanks in advance for your assistance!","title":"Span linking during redirects","body":"<p>I'm currently working on implementing an OAuth2 authentication system utilizing the code grant flow. However, I'm encountering an issue with span linking during redirects. I'm using Quarkus 3.6.0 along with the latest OpenTelemetry.</p>\n<p>The challenge I'm facing is that every redirect in the code flow seems to create its own span, resulting in separate tracks and new traceId flows. I'm striving to maintain continuity across these redirects, ensuring that all spans remain under one trace. This is essential for comprehensive visibility within tracing systems like Zipkin or Jaeger.</p>\n<p>Adding the traceparent header manually doesn't seem to link the spans together. Instead, it creates a new span that attaches to the base process as the last one before initiating a new trace for the required endpoint. Unfortunately, this new span lacks necessary tags or information.</p>\n<p>In essence, I'm seeking guidance or suggestions on how to link one span with another, ensuring the retrieval of all the essential tags throughout the OAuth2 authentication flow amidst redirects.</p>\n<p>Has anyone encountered a similar issue or found a solution to maintain continuity in spans across redirects in an OAuth2 flow?</p>\n<p>Your insights or ideas would be immensely helpful. Thanks in advance for your assistance!</p>\n"},{"tags":["java","eclipse","maven","dependencies"],"comments":[{"owner":{"account_id":2257408,"reputation":4873,"user_id":1988304,"accept_rate":92,"display_name":"JimHawkins"},"score":0,"creation_date":1438329537,"post_id":31740919,"comment_id":51416000,"body_markdown":"Is the dependency which contains the incompatible a project of your own or your company? Please give us some code and error messages","body":"Is the dependency which contains the incompatible a project of your own or your company? Please give us some code and error messages"},{"owner":{"account_id":1042328,"reputation":7972,"user_id":1048093,"accept_rate":75,"display_name":"wemu"},"score":0,"creation_date":1438330053,"post_id":31740919,"comment_id":51416311,"body_markdown":"classes are loaded via the class loader which follows the classpath. Inside a webapplication you can place patch classes inside WEB-INF/classes - those come first. If not in a webapp create a jar with that class and pass it first to the java process: java -cp my-patch.jar:original.jar - it is a bit smelly to patch stuff since its difficult to maintain and deploy applications like this. One often forgets about the patch and what is was for and so on. If the sources are available for that class I would rather create a patched artifact based on them.","body":"classes are loaded via the class loader which follows the classpath. Inside a webapplication you can place patch classes inside WEB-INF/classes - those come first. If not in a webapp create a jar with that class and pass it first to the java process: java -cp my-patch.jar:original.jar - it is a bit smelly to patch stuff since its difficult to maintain and deploy applications like this. One often forgets about the patch and what is was for and so on. If the sources are available for that class I would rather create a patched artifact based on them."},{"owner":{"account_id":5840876,"reputation":933,"user_id":4602524,"accept_rate":71,"display_name":"Steve S."},"score":0,"creation_date":1438331022,"post_id":31740919,"comment_id":51416855,"body_markdown":"How do I do that? (Sources are available here: http://grepcode.com/snapshot/repo1.maven.org/maven2/com.sun.xml.wss/xws-security/3.0)","body":"How do I do that? (Sources are available here: <a href=\"http://grepcode.com/snapshot/repo1.maven.org/maven2/com.sun.xml.wss/xws-security/3.0\" rel=\"nofollow noreferrer\">grepcode.com/snapshot/repo1.maven.org/maven2/com.sun.xml.wss&zwnj;&#8203;/&hellip;</a>)"}],"answers":[{"comments":[{"owner":{"account_id":5840876,"reputation":933,"user_id":4602524,"accept_rate":71,"display_name":"Steve S."},"score":1,"creation_date":1438336985,"post_id":31742386,"comment_id":51420400,"body_markdown":"Unfortunately I could not download the _complete_ sources for the project. But I did something similar. I made a new maven project &quot;xws-security-java8-patch&quot;, included xws-security-3.0 as dependency, added only the broken class and fixed the bug. Now I include xws-security-java8-patch instead of xws-security-3.0 and it works like a charm.","body":"Unfortunately I could not download the <i>complete</i> sources for the project. But I did something similar. I made a new maven project &quot;xws-security-java8-patch&quot;, included xws-security-3.0 as dependency, added only the broken class and fixed the bug. Now I include xws-security-java8-patch instead of xws-security-3.0 and it works like a charm."},{"owner":{"account_id":5840876,"reputation":933,"user_id":4602524,"accept_rate":71,"display_name":"Steve S."},"score":0,"creation_date":1438679331,"post_id":31742386,"comment_id":51536138,"body_markdown":"I added a detailed explanation of the steps I did in a separate answer.","body":"I added a detailed explanation of the steps I did in a separate answer."}],"tags":[],"owner":{"account_id":52873,"reputation":2689,"user_id":158037,"display_name":"user158037"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1438333969,"creation_date":1438333969,"answer_id":31742386,"question_id":31740919,"body_markdown":"General solution: \r\n\r\n- download all project sources\r\n- apply your modification\r\n- - use version control so that change isn&#39;t lost\r\n- change version in `pom.xml`, for example from `3.0` to `3.0-patched`\r\n- launch maven build\r\n- copy generated artifacts to you repository/Artifactory, if you use one\r\n- change dependency version in your own project","title":"How do you replace the class of a Maven dependency?","body":"<p>General solution: </p>\n\n<ul>\n<li>download all project sources</li>\n<li>apply your modification</li>\n<li><ul>\n<li>use version control so that change isn't lost</li>\n</ul></li>\n<li>change version in <code>pom.xml</code>, for example from <code>3.0</code> to <code>3.0-patched</code></li>\n<li>launch maven build</li>\n<li>copy generated artifacts to you repository/Artifactory, if you use one</li>\n<li>change dependency version in your own project</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5840876,"reputation":933,"user_id":4602524,"accept_rate":71,"display_name":"Steve S."},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1438679250,"creation_date":1438678922,"answer_id":31804960,"question_id":31740919,"body_markdown":"Here is a detailed guide describing what I did exactly:\r\n\r\n 1. Create new Maven project in Eclipse\r\n 2. Configure Maven settings of new project (Important: Use the same group and artifact ID and only change the version number)\r\n\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t\t    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t\t    &lt;groupId&gt;com.sun.xml.wss&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;xws-security&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.0-java8-fix&lt;/version&gt;\r\n\r\n\t\t    &lt;properties&gt;\r\n\t\t\t    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t\t    &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t    &lt;/properties&gt;\r\n\t    &lt;/project&gt;\r\n\r\n 3. Add dependency of bugged JAR\r\n\r\n\t    &lt;dependencies&gt;\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;com.sun.xml.wss&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;xws-security&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;3.0&lt;/version&gt;\r\n\t\t\t    &lt;exclusions&gt;\r\n\t\t\t\t    &lt;exclusion&gt;\r\n\t\t\t\t\t  &lt;artifactId&gt;xmldsig&lt;/artifactId&gt;\r\n\t\t\t\t\t  &lt;groupId&gt;javax.xml.crypto&lt;/groupId&gt;\r\n\t\t\t\t    &lt;/exclusion&gt;\r\n\t\t\t\t    &lt;exclusion&gt;\r\n\t\t\t\t\t  &lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n\t\t\t\t\t  &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n\t\t\t\t    &lt;/exclusion&gt;\r\n\t\t\t    &lt;/exclusions&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\t     &lt;/dependencies&gt;  \r\n\r\n 4. Create Java file in the same package of class that needs to be fixed\r\n\r\n\t\tpackage com.sun.xml.wss.impl.apachecrypto;\r\n\r\n\t\tpublic class EncryptionProcessor {\r\n\t\t    // The FIX goes here\r\n\t\t}\r\n\r\n 5. Add Maven shade build plug in to handle creation of patched JAR file (this is not the only plug in to handle this kind of task - e.g. dependency:unpack)\r\n\r\n\t\t&lt;build&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;!-- plug in for creation of patched JAR file --&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t&lt;filters&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;filter&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;artifact&gt;com.sun.xml.wss:xws-security:3.0&lt;/artifact&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;include&gt;**/*.class&lt;/include&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;include&gt;**/*.xml&lt;/include&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;exlude&gt;\r\n\t\t\t\t\t\t\t\t\tcom/sun/xml/wss/impl/apachecrypto/EncryptionProcessor.class\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;/exlude&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/filter&gt;\r\n\t\t\t\t\t\t\t\t&lt;/filters&gt;\r\n\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/build&gt;\r\n\r\n 6. Include patched JAR in other projects as necessary (Note: If you experience ClassNotFoundExceptions or similar errors do this: Right-click on the project -&gt; Properties -&gt; Maven -&gt; &quot;Resolve dependencies from Workspace projects&quot;:false)\r\n\r\nIn case you are not familiar with Maven. Here is the complete pom.xml: http://pastebucket.com/88444","title":"How do you replace the class of a Maven dependency?","body":"<p>Here is a detailed guide describing what I did exactly:</p>\n\n<ol>\n<li>Create new Maven project in Eclipse</li>\n<li><p>Configure Maven settings of new project (Important: Use the same group and artifact ID and only change the version number)</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.sun.xml.wss&lt;/groupId&gt;\n    &lt;artifactId&gt;xws-security&lt;/artifactId&gt;\n    &lt;version&gt;3.0-java8-fix&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre></li>\n<li><p>Add dependency of bugged JAR</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.wss&lt;/groupId&gt;\n        &lt;artifactId&gt;xws-security&lt;/artifactId&gt;\n        &lt;version&gt;3.0&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n              &lt;artifactId&gt;xmldsig&lt;/artifactId&gt;\n              &lt;groupId&gt;javax.xml.crypto&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n              &lt;artifactId&gt;activation&lt;/artifactId&gt;\n              &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n &lt;/dependencies&gt;  \n</code></pre></li>\n<li><p>Create Java file in the same package of class that needs to be fixed</p>\n\n<pre><code>package com.sun.xml.wss.impl.apachecrypto;\n\npublic class EncryptionProcessor {\n    // The FIX goes here\n}\n</code></pre></li>\n<li><p>Add Maven shade build plug in to handle creation of patched JAR file (this is not the only plug in to handle this kind of task - e.g. dependency:unpack)</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;!-- plug in for creation of patched JAR file --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;filters&gt;\n                            &lt;filter&gt;\n                                &lt;artifact&gt;com.sun.xml.wss:xws-security:3.0&lt;/artifact&gt;\n                                &lt;includes&gt;\n                                    &lt;include&gt;**/*.class&lt;/include&gt;\n                                    &lt;include&gt;**/*.xml&lt;/include&gt;\n                                &lt;/includes&gt;\n                                &lt;excludes&gt;\n                                    &lt;exlude&gt;\n                            com/sun/xml/wss/impl/apachecrypto/EncryptionProcessor.class\n                                    &lt;/exlude&gt;\n                                &lt;/excludes&gt;\n                            &lt;/filter&gt;\n                        &lt;/filters&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre></li>\n<li><p>Include patched JAR in other projects as necessary (Note: If you experience ClassNotFoundExceptions or similar errors do this: Right-click on the project -> Properties -> Maven -> \"Resolve dependencies from Workspace projects\":false)</p></li>\n</ol>\n\n<p>In case you are not familiar with Maven. Here is the complete pom.xml: <a href=\"http://pastebucket.com/88444\" rel=\"noreferrer\">http://pastebucket.com/88444</a></p>\n"},{"comments":[{"owner":{"account_id":5053408,"reputation":119,"user_id":4057303,"display_name":"Hang Wu"},"score":0,"creation_date":1681215678,"post_id":48496795,"comment_id":134017380,"body_markdown":"I use Intellij idea to compile, but Maven says &quot;No sources to compile&quot;. Not sure what is wrong.","body":"I use Intellij idea to compile, but Maven says &quot;No sources to compile&quot;. Not sure what is wrong."}],"tags":[],"owner":{"account_id":44652,"reputation":3473,"user_id":131160,"display_name":"jcsahnwaldt Reinstate Monica"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1696890946,"creation_date":1517212895,"answer_id":48496795,"question_id":31740919,"body_markdown":"Similar to Steve S.&#39;s answer, but using the [maven-dependency-plugin][1]. Based on [this blog post][2].\r\n\r\nI changed the name of the patched library (not the version), but it depends on your needs what works better for you. \r\n\r\nThe dependency on the original library should be marked as ```&lt;optional&gt;true&lt;/optional&gt;```. Otherwise, the projects that depend on your patched library will also depend on the original library, which means that both the patched and the original version will be on the classpath, which can lead to all kinds of problems.\r\n\r\nIf your project is a child project, you can still use a completely different groupId and version than your parent pom. Doesn&#39;t matter.\r\n\r\nYou can exclude the classes you patch from unpacking, but it&#39;s probably not necessary, because Maven will first unpack the original library and then compile your new version, which means that the original classes are overwritten. Nice!  \r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;!-- remove this if you don&#39;t have a parent pom --&gt;\r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;my.company&lt;/groupId&gt;\r\n        &lt;artifactId&gt;my.company&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.3&lt;/version&gt;\r\n        &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\r\n      &lt;/parent&gt;\r\n    \r\n      &lt;groupId&gt;com.foo&lt;/groupId&gt;\r\n      &lt;artifactId&gt;foo-bar-patched&lt;/artifactId&gt;\r\n      &lt;version&gt;4.5.6&lt;/version&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;unpack&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;artifactItems&gt;\r\n                    &lt;artifactItem&gt;\r\n                      &lt;groupId&gt;com.foo&lt;/groupId&gt;\r\n                      &lt;artifactId&gt;foo-bar&lt;/artifactId&gt;\r\n                      &lt;outputDirectory&gt;${project.build.directory}/classes&lt;/outputDirectory&gt;\r\n                      &lt;!-- excludes are probably not necessary --&gt;\r\n                      &lt;!-- &lt;excludes&gt;**/Foo.class,**/Bar.class&lt;/excludes&gt; --&gt;\r\n                    &lt;/artifactItem&gt;\r\n                  &lt;/artifactItems&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.foo&lt;/groupId&gt;\r\n          &lt;artifactId&gt;foo-bar&lt;/artifactId&gt;\r\n          &lt;version&gt;4.5.6&lt;/version&gt;\r\n          &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-dependency-plugin/\r\n  [2]: http://gochev.blogspot.de/2014/07/patching-maven-library-with-your-custom.html","title":"How do you replace the class of a Maven dependency?","body":"<p>Similar to Steve S.'s answer, but using the <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/\" rel=\"nofollow noreferrer\">maven-dependency-plugin</a>. Based on <a href=\"http://gochev.blogspot.de/2014/07/patching-maven-library-with-your-custom.html\" rel=\"nofollow noreferrer\">this blog post</a>.</p>\n<p>I changed the name of the patched library (not the version), but it depends on your needs what works better for you.</p>\n<p>The dependency on the original library should be marked as <code>&lt;optional&gt;true&lt;/optional&gt;</code>. Otherwise, the projects that depend on your patched library will also depend on the original library, which means that both the patched and the original version will be on the classpath, which can lead to all kinds of problems.</p>\n<p>If your project is a child project, you can still use a completely different groupId and version than your parent pom. Doesn't matter.</p>\n<p>You can exclude the classes you patch from unpacking, but it's probably not necessary, because Maven will first unpack the original library and then compile your new version, which means that the original classes are overwritten. Nice!</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;!-- remove this if you don't have a parent pom --&gt;\n  &lt;parent&gt;\n    &lt;groupId&gt;my.company&lt;/groupId&gt;\n    &lt;artifactId&gt;my.company&lt;/artifactId&gt;\n    &lt;version&gt;1.2.3&lt;/version&gt;\n    &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\n  &lt;/parent&gt;\n\n  &lt;groupId&gt;com.foo&lt;/groupId&gt;\n  &lt;artifactId&gt;foo-bar-patched&lt;/artifactId&gt;\n  &lt;version&gt;4.5.6&lt;/version&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;unpack&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;artifactItems&gt;\n                &lt;artifactItem&gt;\n                  &lt;groupId&gt;com.foo&lt;/groupId&gt;\n                  &lt;artifactId&gt;foo-bar&lt;/artifactId&gt;\n                  &lt;outputDirectory&gt;${project.build.directory}/classes&lt;/outputDirectory&gt;\n                  &lt;!-- excludes are probably not necessary --&gt;\n                  &lt;!-- &lt;excludes&gt;**/Foo.class,**/Bar.class&lt;/excludes&gt; --&gt;\n                &lt;/artifactItem&gt;\n              &lt;/artifactItems&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.foo&lt;/groupId&gt;\n      &lt;artifactId&gt;foo-bar&lt;/artifactId&gt;\n      &lt;version&gt;4.5.6&lt;/version&gt;\n      &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7958465,"reputation":11,"user_id":6006966,"display_name":"Mac Wendelboe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701436083,"creation_date":1701435413,"answer_id":77585431,"question_id":31740919,"body_markdown":"This answer should really be a comment on Steve&#39;s own answer, but I do not have enough reputation points to write comments.\r\n\r\nSteve&#39;s own answer won&#39;t work, because \r\n\r\n```\r\n&lt;filter&gt;\r\n    &lt;artifact&gt;com.sun.xml.wss:xws-security:3.0&lt;/artifact&gt;\r\n    ...\r\n&lt;/filter&gt;\r\n```\r\n\r\nis an invalid reference, that the shade plugin won&#39;t be able to resolve. According to the [documentation](https://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html), the artifact composite identifier takes the form: `groupId:artifactId:type:classifier`, i.e. you cannot specify a version.\r\n\r\nYou may leave out the version specifier (which is not understood anyway), but the filter will then apply to the dependent artifact as well as the build artifact, and you will either miss some files in the package, or the shade plugin will issue warnings about overlapping classes and resources in the two artifacts.\r\n\r\nA work-around may be to rename your artifact, e.g. `&lt;artifactId&gt;xws-security-java8-fix&lt;/artifactId&gt;`, so it won&#39;t clash with the dependency. Then you may rename the result artifact back with the following configuration sections on the shade plugin:\r\n\r\n```\r\n&lt;shadedArtifactId&gt;xws-security&lt;/shadedArtifactId&gt;\r\n&lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n```\r\n\r\nYou probably also want this:\r\n\r\n```\r\n&lt;promoteTransitiveDependencies&gt;true&lt;/promoteTransitiveDependencies&gt;\r\n```\r\n\r\nThis solution is usable. But it is not very satisfactory, since the changing artifact ID confuses Maven, so Maven cannot resolve the artifact before it is installed.\r\n\r\nBy the way, installing such an artifact is also not straight forward. This use of the install plugin may do the trick:\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.1&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;default-install&lt;/id&gt;\r\n            &lt;goals&gt;&lt;goal&gt;install&lt;/goal&gt;&lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;skip&gt;true&lt;/skip&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;custom-install&lt;/id&gt;\r\n            &lt;phase&gt;install&lt;/phase&gt;\r\n            &lt;goals&gt;&lt;goal&gt;install-file&lt;/goal&gt;&lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;file&gt;${project.build.directory}/xws-security-${project.version}-shaded.jar&lt;/file&gt;\r\n                &lt;pomFile&gt;${project.basedir}/dependency-reduced-pom.xml&lt;/pomFile&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```","title":"How do you replace the class of a Maven dependency?","body":"<p>This answer should really be a comment on Steve's own answer, but I do not have enough reputation points to write comments.</p>\n<p>Steve's own answer won't work, because</p>\n<pre><code>&lt;filter&gt;\n    &lt;artifact&gt;com.sun.xml.wss:xws-security:3.0&lt;/artifact&gt;\n    ...\n&lt;/filter&gt;\n</code></pre>\n<p>is an invalid reference, that the shade plugin won't be able to resolve. According to the <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html\" rel=\"nofollow noreferrer\">documentation</a>, the artifact composite identifier takes the form: <code>groupId:artifactId:type:classifier</code>, i.e. you cannot specify a version.</p>\n<p>You may leave out the version specifier (which is not understood anyway), but the filter will then apply to the dependent artifact as well as the build artifact, and you will either miss some files in the package, or the shade plugin will issue warnings about overlapping classes and resources in the two artifacts.</p>\n<p>A work-around may be to rename your artifact, e.g. <code>&lt;artifactId&gt;xws-security-java8-fix&lt;/artifactId&gt;</code>, so it won't clash with the dependency. Then you may rename the result artifact back with the following configuration sections on the shade plugin:</p>\n<pre><code>&lt;shadedArtifactId&gt;xws-security&lt;/shadedArtifactId&gt;\n&lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n</code></pre>\n<p>You probably also want this:</p>\n<pre><code>&lt;promoteTransitiveDependencies&gt;true&lt;/promoteTransitiveDependencies&gt;\n</code></pre>\n<p>This solution is usable. But it is not very satisfactory, since the changing artifact ID confuses Maven, so Maven cannot resolve the artifact before it is installed.</p>\n<p>By the way, installing such an artifact is also not straight forward. This use of the install plugin may do the trick:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;default-install&lt;/id&gt;\n            &lt;goals&gt;&lt;goal&gt;install&lt;/goal&gt;&lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;skip&gt;true&lt;/skip&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;custom-install&lt;/id&gt;\n            &lt;phase&gt;install&lt;/phase&gt;\n            &lt;goals&gt;&lt;goal&gt;install-file&lt;/goal&gt;&lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;file&gt;${project.build.directory}/xws-security-${project.version}-shaded.jar&lt;/file&gt;\n                &lt;pomFile&gt;${project.basedir}/dependency-reduced-pom.xml&lt;/pomFile&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":5840876,"reputation":933,"user_id":4602524,"accept_rate":71,"display_name":"Steve S."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14509,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":31742386,"answer_count":4,"score":15,"last_activity_date":1701436083,"creation_date":1438329167,"question_id":31740919,"body_markdown":"There is a class in a maven dependency that is incompatible with Java 8. \r\n\r\nHow do you properly fix that problem? \r\n\r\nRight now I&#39;m doing the following: \r\n\r\n1. Create a package with the same name\r\n2. Create a class with the same name in that package\r\n3. Copy and paste the code\r\n4. Fix the incompatible API call\r\n\r\nThe problem is that this class contains API calls to restricted classes and although I changed the Eclipse compiler settings (Window -&gt; Preferences -&gt; Java -&gt; Compiler -&gt; Error/Warnings -&gt; Deprecated and restricted API -&gt; Forbidden reference (access rule): Error -&gt; Warning) to allow access the project will only compile sometimes. If it doesn&#39;t compile I&#39;ll get a &quot;can&#39;t find symbol&quot; error.\r\n\r\n\r\nEdit:\r\n\r\nHere are the details you asked for:\r\n\r\n- Dependency: http://mvnrepository.com/artifact/com.sun.xml.wss/xws-security/3.0\r\n\r\n- Class: EncryptionProcessor\r\n\r\n- Necessary change:\r\n\r\n        // Change line 1053 FROM: \r\n        // _dataEncryptor = XMLCipher.getInstance(dataEncAlgo, _dataCipher); \r\n        // TO:\r\n        _dataEncryptor = XMLCipher.getInstance(dataEncAlgo); \r\n\r\n\r\nEdit-2:\r\n\r\nMaven build error:\r\n\r\n     [ERROR] symbol:   class XMLCipher\r\n     [ERROR] location: class com.sun.xml.wss.impl.apachecrypto.EncryptionProcessor\r\n     [ERROR] /C:/Users/{name}/development/eclipse_workspace/git/xws-security/src/main/java/com/sun/xml/wss/impl/apachecrypto/EncryptionProcessor.java:[1482,98] cannot find symbol","title":"How do you replace the class of a Maven dependency?","body":"<p>There is a class in a maven dependency that is incompatible with Java 8. </p>\n\n<p>How do you properly fix that problem? </p>\n\n<p>Right now I'm doing the following: </p>\n\n<ol>\n<li>Create a package with the same name</li>\n<li>Create a class with the same name in that package</li>\n<li>Copy and paste the code</li>\n<li>Fix the incompatible API call</li>\n</ol>\n\n<p>The problem is that this class contains API calls to restricted classes and although I changed the Eclipse compiler settings (Window -> Preferences -> Java -> Compiler -> Error/Warnings -> Deprecated and restricted API -> Forbidden reference (access rule): Error -> Warning) to allow access the project will only compile sometimes. If it doesn't compile I'll get a \"can't find symbol\" error.</p>\n\n<p>Edit:</p>\n\n<p>Here are the details you asked for:</p>\n\n<ul>\n<li><p>Dependency: <a href=\"http://mvnrepository.com/artifact/com.sun.xml.wss/xws-security/3.0\" rel=\"noreferrer\">http://mvnrepository.com/artifact/com.sun.xml.wss/xws-security/3.0</a></p></li>\n<li><p>Class: EncryptionProcessor</p></li>\n<li><p>Necessary change:</p>\n\n<pre><code>// Change line 1053 FROM: \n// _dataEncryptor = XMLCipher.getInstance(dataEncAlgo, _dataCipher); \n// TO:\n_dataEncryptor = XMLCipher.getInstance(dataEncAlgo); \n</code></pre></li>\n</ul>\n\n<p>Edit-2:</p>\n\n<p>Maven build error:</p>\n\n<pre><code> [ERROR] symbol:   class XMLCipher\n [ERROR] location: class com.sun.xml.wss.impl.apachecrypto.EncryptionProcessor\n [ERROR] /C:/Users/{name}/development/eclipse_workspace/git/xws-security/src/main/java/com/sun/xml/wss/impl/apachecrypto/EncryptionProcessor.java:[1482,98] cannot find symbol\n</code></pre>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":2,"creation_date":1701382736,"post_id":77581977,"comment_id":136772322,"body_markdown":"Can you please share the full stack trace?","body":"Can you please share the full stack trace?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1701408153,"post_id":77581977,"comment_id":136774481,"body_markdown":"&quot;I am not sure from where this method is getting invoked (XSSFReader.getSharedStringsTable())&quot;: The full stack trace will show you this.","body":"&quot;I am not sure from where this method is getting invoked (XSSFReader.getSharedStringsTable())&quot;: The full stack trace will show you this."},{"owner":{"account_id":17294865,"reputation":64,"user_id":12525755,"display_name":"Vasanth"},"score":0,"creation_date":1701435475,"post_id":77581977,"comment_id":136778307,"body_markdown":"Thanks everyone for your support. Unfortunately i did not get full stack trace. Finally i found the root cause, the particular method is invoked by one of the third party jar. I will explain the details in the answer.","body":"Thanks everyone for your support. Unfortunately i did not get full stack trace. Finally i found the root cause, the particular method is invoked by one of the third party jar. I will explain the details in the answer."}],"answers":[{"comments":[{"owner":{"account_id":17294865,"reputation":64,"user_id":12525755,"display_name":"Vasanth"},"score":0,"creation_date":1701436226,"post_id":77582350,"comment_id":136778439,"body_markdown":"Thanks for sharing the details @Jim Garrison","body":"Thanks for sharing the details @Jim Garrison"}],"tags":[],"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701389041,"creation_date":1701389041,"answer_id":77582350,"question_id":77581977,"body_markdown":"In 5.2.4 that method&#39;s signature has changed.  It returns an instance implementing the `SharedStrings` interface, not a concrete `SharedStringsTable`.  \r\n\r\nYou would have seen this if you looked at the [Javadoc](https://javadoc.io/doc/org.apache.poi/poi-ooxml/5.2.4/index.html) \r\n\r\nThis appears to be a change introduced in 5.2.0.","title":"java.lang.NoSuchMethodError: org.apache.poi.xssf.eventusermodel.XSSFReader.getSharedStringsTable()Lorg/apache/poi/xssf/model/SharedStringsTable","body":"<p>In 5.2.4 that method's signature has changed.  It returns an instance implementing the <code>SharedStrings</code> interface, not a concrete <code>SharedStringsTable</code>.</p>\n<p>You would have seen this if you looked at the <a href=\"https://javadoc.io/doc/org.apache.poi/poi-ooxml/5.2.4/index.html\" rel=\"nofollow noreferrer\">Javadoc</a></p>\n<p>This appears to be a change introduced in 5.2.0.</p>\n"},{"tags":[],"owner":{"account_id":17294865,"reputation":64,"user_id":12525755,"display_name":"Vasanth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701435763,"creation_date":1701435763,"answer_id":77585460,"question_id":77581977,"body_markdown":"I did some analysis and identified the root cause of this issue. \r\n\r\nXSSFReader.getSharedStringsTable() is not invoked from our source\r\nActually, it&#39;s invoked by another third-party jar called **org.openl.rules-5.22.7**, also it&#39;s expecting the return type as SharedStringsTable. \r\n\r\nI will try to upgrade the openl.rules jar as the current version is not compatible with the **org.apache.poi-poi-ooxml-5.2.4** [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nqvzr.png","title":"java.lang.NoSuchMethodError: org.apache.poi.xssf.eventusermodel.XSSFReader.getSharedStringsTable()Lorg/apache/poi/xssf/model/SharedStringsTable","body":"<p>I did some analysis and identified the root cause of this issue.</p>\n<p>XSSFReader.getSharedStringsTable() is not invoked from our source\nActually, it's invoked by another third-party jar called <strong>org.openl.rules-5.22.7</strong>, also it's expecting the return type as SharedStringsTable.</p>\n<p>I will try to upgrade the openl.rules jar as the current version is not compatible with the <strong>org.apache.poi-poi-ooxml-5.2.4</strong> <a href=\"https://i.stack.imgur.com/nqvzr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nqvzr.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":17294865,"reputation":64,"user_id":12525755,"display_name":"Vasanth"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1701435763,"creation_date":1701382232,"question_id":77581977,"body_markdown":"I have upgraded the **org.apache.poi-poi-ooxml-4.1.2** to **5.2.4** to fix few vulnerability issues. \r\n\r\nAfter that I got an error mentioned [here][1] and fixed it by adding a dependency **commons-io.commons-io-2.13.0**.\r\n\r\n  [1]: https://stackoverflow.com/questions/77256330/java-lang-nosuchmethoderror-org-apache-commons-io-output-unsynchronizedbytearr\r\n\r\nNow I am getting another exception mentioned below.\r\n\r\n    java.lang.NoSuchMethodError: org.apache.poi.xssf.eventusermodel.XSSFReader.getSharedStringsTable()Lorg/apache/poi/xssf/model/SharedStringsTable;\r\n\r\nI could see the method getSharedStringsTable() in XSSFReader class of poi-ooxml-5.2.4 , but the return type is not SharedStringsTable, its SharedStrings. \r\n\r\nI am not sure from where this method is getting invoked (XSSFReader.getSharedStringsTable()) and why its expecting the return type as SharedStringsTable. \r\n\r\nAnyone faced the similar issue? Do i need to upgrade any other dependency? \r\n","title":"java.lang.NoSuchMethodError: org.apache.poi.xssf.eventusermodel.XSSFReader.getSharedStringsTable()Lorg/apache/poi/xssf/model/SharedStringsTable","body":"<p>I have upgraded the <strong>org.apache.poi-poi-ooxml-4.1.2</strong> to <strong>5.2.4</strong> to fix few vulnerability issues.</p>\n<p>After that I got an error mentioned <a href=\"https://stackoverflow.com/questions/77256330/java-lang-nosuchmethoderror-org-apache-commons-io-output-unsynchronizedbytearr\">here</a> and fixed it by adding a dependency <strong>commons-io.commons-io-2.13.0</strong>.</p>\n<p>Now I am getting another exception mentioned below.</p>\n<pre><code>java.lang.NoSuchMethodError: org.apache.poi.xssf.eventusermodel.XSSFReader.getSharedStringsTable()Lorg/apache/poi/xssf/model/SharedStringsTable;\n</code></pre>\n<p>I could see the method getSharedStringsTable() in XSSFReader class of poi-ooxml-5.2.4 , but the return type is not SharedStringsTable, its SharedStrings.</p>\n<p>I am not sure from where this method is getting invoked (XSSFReader.getSharedStringsTable()) and why its expecting the return type as SharedStringsTable.</p>\n<p>Anyone faced the similar issue? Do i need to upgrade any other dependency?</p>\n"},{"tags":["java","exception","encapsulation"],"comments":[{"owner":{"account_id":2846482,"reputation":1108,"user_id":2444725,"accept_rate":50,"display_name":"Lightman"},"score":0,"creation_date":1450618070,"post_id":1486077,"comment_id":56504223,"body_markdown":"[The characters in the string must all be decimal digits, except that the first character ...](https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt%28java.lang.String%29). Instead of handling exceptions everywhere in the code, just check the string format before calling the parse method.","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt%28java.lang.String%29\" rel=\"nofollow noreferrer\">The characters in the string must all be decimal digits, except that the first character ...</a>. Instead of handling exceptions everywhere in the code, just check the string format before calling the parse method."},{"owner":{"account_id":76597,"reputation":60197,"user_id":219159,"accept_rate":75,"display_name":"Seva Alekseyev"},"score":1,"creation_date":1571612590,"post_id":1486077,"comment_id":103288462,"body_markdown":"It&#39;s next to impossible to write a regex that will capture all valid 32-bit signed integers and none of the invalid ones. 2147483647 is a legal `int` while 2147483648 isn&#39;t.","body":"It&#39;s next to impossible to write a regex that will capture all valid 32-bit signed integers and none of the invalid ones. 2147483647 is a legal <code>int</code> while 2147483648 isn&#39;t."}],"answers":[{"comments":[{"owner":{"account_id":41366,"reputation":93989,"user_id":120163,"accept_rate":59,"display_name":"Ira Baxter"},"score":1,"creation_date":1254131604,"post_id":1486082,"comment_id":1337922,"body_markdown":"How does this help?  The call site will require: &lt;b&gt;temp=tryParse(...); if (temp!=Null) { target=temp; } else { do recovery action };&lt;/b&gt; with a probable throw exception in the recovery part. In the original formulation the call site requires &lt;b&gt;try target=(...).parseInt; catch (...) { do recovery action }&lt;/b&gt; with a trivial throw exception in the recovery being implemented by simply removing the catch clause.   How does the proposed solution make this simpler to understand (it has a magic trick) or reduce the amount of code in any way?","body":"How does this help?  The call site will require: &lt;b&gt;temp=tryParse(...); if (temp!=Null) { target=temp; } else { do recovery action };&lt;/b&gt; with a probable throw exception in the recovery part. In the original formulation the call site requires &lt;b&gt;try target=(...).parseInt; catch (...) { do recovery action }&lt;/b&gt; with a trivial throw exception in the recovery being implemented by simply removing the catch clause.   How does the proposed solution make this simpler to understand (it has a magic trick) or reduce the amount of code in any way?"},{"owner":{"account_id":60253,"reputation":26399,"user_id":180043,"accept_rate":100,"display_name":"Adam Maras"},"score":17,"creation_date":1254131753,"post_id":1486082,"comment_id":1337933,"body_markdown":"It&#39;s generally cleaner to code to check for `null` references than it is to handle exceptions on a regular basis.","body":"It&#39;s generally cleaner to code to check for <code>null</code> references than it is to handle exceptions on a regular basis."},{"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"score":0,"creation_date":1254138561,"post_id":1486082,"comment_id":1338330,"body_markdown":"It&#39;s even cleaner to avoid passing nulls as values but instead somehow indicate that en error has occured; exceptions shouldn&#39;t be used for flow control.","body":"It&#39;s even cleaner to avoid passing nulls as values but instead somehow indicate that en error has occured; exceptions shouldn&#39;t be used for flow control."},{"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"score":0,"creation_date":1254157808,"post_id":1486082,"comment_id":1339939,"body_markdown":"You should use Integer&#39;s factory method valueOf(String s).","body":"You should use Integer&#39;s factory method valueOf(String s)."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1254162836,"post_id":1486082,"comment_id":1340420,"body_markdown":"@Steve Kuo: Why? Where&#39;s the benefit? They both create a new Integer each time? If anything, I&#39;m tempted to use Integer.parseInt and let autoboxing take care of it, to take advantage of the cache for small values.","body":"@Steve Kuo: Why? Where&#39;s the benefit? They both create a new Integer each time? If anything, I&#39;m tempted to use Integer.parseInt and let autoboxing take care of it, to take advantage of the cache for small values."},{"owner":{"account_id":446427,"reputation":9321,"user_id":839471,"accept_rate":69,"display_name":"codecompleting"},"score":0,"creation_date":1323109835,"post_id":1486082,"comment_id":10357318,"body_markdown":"@Jon, Yeah like c# has TryParse which I believe doesn&#39;t throw an exception right?  Wonder if there are some tricks high perf. java apps use?","body":"@Jon, Yeah like c# has TryParse which I believe doesn&#39;t throw an exception right?  Wonder if there are some tricks high perf. java apps use?"},{"owner":{"account_id":3479346,"reputation":500,"user_id":2926313,"accept_rate":38,"display_name":"Omar Hrynkiewicz"},"score":0,"creation_date":1432822397,"post_id":1486082,"comment_id":49093584,"body_markdown":"@JonSkeet Integer.valueOf not allways instantiate a new object [posted on] (http://tech.puredanger.com/2007/02/01/valueof/)","body":"@JonSkeet Integer.valueOf not allways instantiate a new object [posted on] (<a href=\"http://tech.puredanger.com/2007/02/01/valueof/\" rel=\"nofollow noreferrer\">tech.puredanger.com/2007/02/01/valueof</a>)"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1432847171,"post_id":1486082,"comment_id":49109204,"body_markdown":"@OmarHrynkiewicz: Actually, the docs of `Integer.valueOf(String)` suggest that that *could* always return a new `Integer`. (Your link refers to `valueOf(int)`.) I&#39;ve changed the answer to use `Integer.parseInt` and autoboxing instead, which is guaranteed to use the cache.","body":"@OmarHrynkiewicz: Actually, the docs of <code>Integer.valueOf(String)</code> suggest that that <i>could</i> always return a new <code>Integer</code>. (Your link refers to <code>valueOf(int)</code>.) I&#39;ve changed the answer to use <code>Integer.parseInt</code> and autoboxing instead, which is guaranteed to use the cache."},{"owner":{"account_id":2243116,"reputation":5530,"user_id":1977151,"accept_rate":40,"display_name":"Vlasec"},"score":0,"creation_date":1481987188,"post_id":1486082,"comment_id":69599197,"body_markdown":"Good thing there is `Optional` today ... you can return Optional. I hope some JDK utilities start giving optionals instead of exceptions soon.","body":"Good thing there is <code>Optional</code> today ... you can return Optional. I hope some JDK utilities start giving optionals instead of exceptions soon."},{"owner":{"account_id":1076053,"reputation":85188,"user_id":1281433,"accept_rate":43,"display_name":"Joshua Taylor"},"score":1,"creation_date":1531971498,"post_id":1486082,"comment_id":89799303,"body_markdown":"@Vlasec And not just Optional, but specialized versions for primitives, like OptionalInt.","body":"@Vlasec And not just Optional, but specialized versions for primitives, like OptionalInt."},{"owner":{"account_id":325831,"reputation":374,"user_id":647252,"display_name":"sf_jeff"},"score":0,"creation_date":1535041207,"post_id":1486082,"comment_id":90930075,"body_markdown":"&quot;It&#39;s generally cleaner to code to check for null references than it is to handle exceptions on a regular basis.&quot;\n\nI would disagree on principle.  The C/C++ programming paradigm involves more null checks while the Java paradigm involves more exceptions.  Both are valid approaches and both have smart developers who swear by their approach.  If you want to be flexible, generally use the C++ approach when you can get good behavior from bad input and use the Java approach when you are doing 100 validations and any one of them failing would mean you need to start over from the beginning.","body":"&quot;It&#39;s generally cleaner to code to check for null references than it is to handle exceptions on a regular basis.&quot;  I would disagree on principle.  The C/C++ programming paradigm involves more null checks while the Java paradigm involves more exceptions.  Both are valid approaches and both have smart developers who swear by their approach.  If you want to be flexible, generally use the C++ approach when you can get good behavior from bad input and use the Java approach when you are doing 100 validations and any one of them failing would mean you need to start over from the beginning."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1535050420,"post_id":1486082,"comment_id":90934639,"body_markdown":"@sf_jeff: IMO, in idiomatic Java (and C#) you catch exceptions that you can&#39;t easily predict. Exceptions are *also* used for programming errors, e.g. passing in invalid inputs etc - but those exceptions shouldn&#39;t be &quot;handled&quot; so much as avoided. Catching NullPointerException is *not* idiomatic Java anywhere I&#39;ve worked (and usually wouldn&#39;t get through code review). IIRC, Josh Bloch talks about this reasonably extensively in Effective Java.","body":"@sf_jeff: IMO, in idiomatic Java (and C#) you catch exceptions that you can&#39;t easily predict. Exceptions are <i>also</i> used for programming errors, e.g. passing in invalid inputs etc - but those exceptions shouldn&#39;t be &quot;handled&quot; so much as avoided. Catching NullPointerException is <i>not</i> idiomatic Java anywhere I&#39;ve worked (and usually wouldn&#39;t get through code review). IIRC, Josh Bloch talks about this reasonably extensively in Effective Java."},{"owner":{"account_id":325831,"reputation":374,"user_id":647252,"display_name":"sf_jeff"},"score":0,"creation_date":1535497686,"post_id":1486082,"comment_id":91084964,"body_markdown":"@Jon Skeet - A null check doesn&#39;t have to do with catching NullPointerExceptions.  A null check occurs when your function tries to return an object and the object being null is used as a signal that the activity failed.  If an exception were used, it wouldn&#39;t be a nullpointer exception, but would instead point to the root cause of the issue.  In Java, it is idiomatic to catch errors sometimes that you *can* easily predict.  It is not hard to find these in the Java library.  Eg. NumberFormatException, ParseException, etc.  As I said, there are smart people who use both approaches.","body":"@Jon Skeet - A null check doesn&#39;t have to do with catching NullPointerExceptions.  A null check occurs when your function tries to return an object and the object being null is used as a signal that the activity failed.  If an exception were used, it wouldn&#39;t be a nullpointer exception, but would instead point to the root cause of the issue.  In Java, it is idiomatic to catch errors sometimes that you <i>can</i> easily predict.  It is not hard to find these in the Java library.  Eg. NumberFormatException, ParseException, etc.  As I said, there are smart people who use both approaches."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1535520456,"post_id":1486082,"comment_id":91089828,"body_markdown":"@sf_jeff: Apologies for misunderstanding your initial point. But I think we&#39;ll have to agree to disagree at this point. It&#39;s not just &quot;one is idiomatic Java, the other is idiomatic C++&quot;.","body":"@sf_jeff: Apologies for misunderstanding your initial point. But I think we&#39;ll have to agree to disagree at this point. It&#39;s not just &quot;one is idiomatic Java, the other is idiomatic C++&quot;."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":14,"down_vote_count":1,"up_vote_count":160,"is_accepted":true,"score":159,"last_activity_date":1432847208,"creation_date":1254128577,"answer_id":1486082,"question_id":1486077,"body_markdown":"You could return an `Integer` instead of an `int`, returning `null` on parse failure.\r\n\r\nIt&#39;s a shame Java doesn&#39;t provide a way of doing this without there being an exception thrown internally though - you can hide the exception (by catching it and returning null), but it could still be a performance issue if you&#39;re parsing hundreds of thousands of bits of user-provided data.\r\n\r\nEDIT: Code for such a method:\r\n\r\n    public static Integer tryParse(String text) {\r\n      try {\r\n        return Integer.parseInt(text);\r\n      } catch (NumberFormatException e) {\r\n        return null;\r\n      }\r\n    }\r\n\r\nNote that I&#39;m not sure off the top of my head what this will do if `text` is null. You should consider that - if it represents a bug (i.e. your code may well pass an invalid value, but should never pass null) then throwing an exception is appropriate; if it doesn&#39;t represent a bug then you should probably just return null as you would for any other invalid value.\r\n\r\nOriginally this answer used the `new Integer(String)` constructor; it now uses `Integer.parseInt` and a boxing operation; in this way small values will end up being boxed to cached `Integer` objects, making it more efficient in those situations.","title":"Good way to encapsulate Integer.parseInt()","body":"<p>You could return an <code>Integer</code> instead of an <code>int</code>, returning <code>null</code> on parse failure.</p>\n\n<p>It's a shame Java doesn't provide a way of doing this without there being an exception thrown internally though - you can hide the exception (by catching it and returning null), but it could still be a performance issue if you're parsing hundreds of thousands of bits of user-provided data.</p>\n\n<p>EDIT: Code for such a method:</p>\n\n<pre><code>public static Integer tryParse(String text) {\n  try {\n    return Integer.parseInt(text);\n  } catch (NumberFormatException e) {\n    return null;\n  }\n}\n</code></pre>\n\n<p>Note that I'm not sure off the top of my head what this will do if <code>text</code> is null. You should consider that - if it represents a bug (i.e. your code may well pass an invalid value, but should never pass null) then throwing an exception is appropriate; if it doesn't represent a bug then you should probably just return null as you would for any other invalid value.</p>\n\n<p>Originally this answer used the <code>new Integer(String)</code> constructor; it now uses <code>Integer.parseInt</code> and a boxing operation; in this way small values will end up being boxed to cached <code>Integer</code> objects, making it more efficient in those situations.</p>\n"},{"comments":[{"owner":{"account_id":51856,"reputation":8054,"user_id":154949,"accept_rate":76,"display_name":"yawn"},"score":0,"creation_date":1254130190,"post_id":1486102,"comment_id":1337842,"body_markdown":"The OP wants the conversion result (as a reference) plus an indication that the conversion was successful (or not).","body":"The OP wants the conversion result (as a reference) plus an indication that the conversion was successful (or not)."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1254130384,"post_id":1486102,"comment_id":1337854,"body_markdown":"@yawn: And a null reference gives exactly that indication.","body":"@yawn: And a null reference gives exactly that indication."},{"owner":{"account_id":51856,"reputation":8054,"user_id":154949,"accept_rate":76,"display_name":"yawn"},"score":0,"creation_date":1254130582,"post_id":1486102,"comment_id":1337871,"body_markdown":"@John Skeet: correct but I read his intent differently. He wrote something like using an intermediate object to differentiate between success/failure + value. Coming from a C++ background I figured if he wanted to use null (instead of an object) he would not have asked the question in the first place.","body":"@John Skeet: correct but I read his intent differently. He wrote something like using an intermediate object to differentiate between success/failure + value. Coming from a C++ background I figured if he wanted to use null (instead of an object) he would not have asked the question in the first place."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1254132573,"post_id":1486102,"comment_id":1337979,"body_markdown":"There&#39;s a major difference between &quot;value&quot; and &quot;object&quot;. A null reference is a clean value, but not an object.","body":"There&#39;s a major difference between &quot;value&quot; and &quot;object&quot;. A null reference is a clean value, but not an object."},{"owner":{"account_id":1152709,"reputation":9229,"user_id":1134080,"accept_rate":68,"display_name":"ADTC"},"score":0,"creation_date":1513105366,"post_id":1486102,"comment_id":82520700,"body_markdown":"1. There&#39;s no `Integer.tryParse` in the standard Java `Integer` class. 2. Doing `new Integer` is unnecessary (and recommended against) as Java does boxing and unboxing automatically. _Your Java is not just a little rusty, it&#39;s very rusty._","body":"1. There&#39;s no <code>Integer.tryParse</code> in the standard Java <code>Integer</code> class. 2. Doing <code>new Integer</code> is unnecessary (and recommended against) as Java does boxing and unboxing automatically. <i>Your Java is not just a little rusty, it&#39;s very rusty.</i>"}],"tags":[],"owner":{"account_id":60253,"reputation":26399,"user_id":180043,"accept_rate":100,"display_name":"Adam Maras"},"comment_count":5,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1254129004,"creation_date":1254129004,"answer_id":1486102,"question_id":1486077,"body_markdown":"My Java is a little rusty, but let me see if I can point you in the right direction:\r\n\r\n    public class Converter {\r\n\r\n        public static Integer parseInt(String str) {\r\n            Integer n = null;\r\n\r\n            try {\r\n                n = new Integer(Integer.tryParse(str));\r\n            } catch (NumberFormatException ex) {\r\n                // leave n null, the string is invalid\r\n            }\r\n\r\n            return n;\r\n        }\r\n\r\n    }\r\nIf your return value is `null`, you have a bad value. Otherwise, you have a valid `Integer`.","title":"Good way to encapsulate Integer.parseInt()","body":"<p>My Java is a little rusty, but let me see if I can point you in the right direction:</p>\n\n<pre><code>public class Converter {\n\n    public static Integer parseInt(String str) {\n        Integer n = null;\n\n        try {\n            n = new Integer(Integer.tryParse(str));\n        } catch (NumberFormatException ex) {\n            // leave n null, the string is invalid\n        }\n\n        return n;\n    }\n\n}\n</code></pre>\n\n<p>If your return value is <code>null</code>, you have a bad value. Otherwise, you have a valid <code>Integer</code>.</p>\n"},{"comments":[{"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":0,"creation_date":1254129575,"post_id":1486124,"comment_id":1337800,"body_markdown":"What if &#39;String integer&#39; is the String literal &quot;0&quot;? You&#39;ll never know if there was invalid input.","body":"What if &#39;String integer&#39; is the String literal &quot;0&quot;? You&#39;ll never know if there was invalid input."},{"owner":{"account_id":60253,"reputation":26399,"user_id":180043,"accept_rate":100,"display_name":"Adam Maras"},"score":0,"creation_date":1254129715,"post_id":1486124,"comment_id":1337810,"body_markdown":"I guess that depends on whether the == operator for two Integers compares values or references. If it compares values, the problem exists. If it compares references, it would work in a way equivalent to my answer.","body":"I guess that depends on whether the == operator for two Integers compares values or references. If it compares values, the problem exists. If it compares references, it would work in a way equivalent to my answer."},{"owner":{"account_id":51856,"reputation":8054,"user_id":154949,"accept_rate":76,"display_name":"yawn"},"score":0,"creation_date":1254129902,"post_id":1486124,"comment_id":1337823,"body_markdown":"Why the downvote?\n\nMy answer is correct and offers the advantage (over null) that you always deal with a valid instance of Integer (instead of null) relieving you of having to deal with NPEs.","body":"Why the downvote?  My answer is correct and offers the advantage (over null) that you always deal with a valid instance of Integer (instead of null) relieving you of having to deal with NPEs."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1254130344,"post_id":1486124,"comment_id":1337850,"body_markdown":"Distinguishing null from a real integer is *useful* though. You *should* be testing the result for nullity, to know whether the parse succeeded or not. Hiding that behind and otherwise usable object is a recipe for problems, IMO.","body":"Distinguishing null from a real integer is <i>useful</i> though. You <i>should</i> be testing the result for nullity, to know whether the parse succeeded or not. Hiding that behind and otherwise usable object is a recipe for problems, IMO."},{"owner":{"account_id":51856,"reputation":8054,"user_id":154949,"accept_rate":76,"display_name":"yawn"},"score":0,"creation_date":1254130389,"post_id":1486124,"comment_id":1337857,"body_markdown":"More downvotes - interesting! Since /me being new to SO and all could one of the voters explain to me the why?","body":"More downvotes - interesting! Since /me being new to SO and all could one of the voters explain to me the why?"},{"owner":{"account_id":60253,"reputation":26399,"user_id":180043,"accept_rate":100,"display_name":"Adam Maras"},"score":0,"creation_date":1254130669,"post_id":1486124,"comment_id":1337874,"body_markdown":"Jon&#39;s got a point about the usefulness of your predefined `NULL` value. Here&#39;s an example: if he uses your solution and forgets to check for equality to your `NULL` object, his program will work flawlessly, but erroneously interpret the parsed value as 0. With my solution, if he forgets to check for a `null` reference, his program will (correctly) crash at runtime, reminding him that he needs to insert the proper behavior for the results of an invalid parsing.","body":"Jon&#39;s got a point about the usefulness of your predefined <code>NULL</code> value. Here&#39;s an example: if he uses your solution and forgets to check for equality to your <code>NULL</code> object, his program will work flawlessly, but erroneously interpret the parsed value as 0. With my solution, if he forgets to check for a <code>null</code> reference, his program will (correctly) crash at runtime, reminding him that he needs to insert the proper behavior for the results of an invalid parsing."},{"owner":{"account_id":51856,"reputation":8054,"user_id":154949,"accept_rate":76,"display_name":"yawn"},"score":0,"creation_date":1254130938,"post_id":1486124,"comment_id":1337888,"body_markdown":"@Adam: true! But the OP *did* ask for a solution returning a valid instance, did he not?","body":"@Adam: true! But the OP <i>did</i> ask for a solution returning a valid instance, did he not?"},{"owner":{"account_id":60253,"reputation":26399,"user_id":180043,"accept_rate":100,"display_name":"Adam Maras"},"score":0,"creation_date":1254131149,"post_id":1486124,"comment_id":1337899,"body_markdown":"No, he asked for &quot;a clean value in order to show that the convertion went wrong,&quot; and `null` is a clean value when you&#39;re using an `Integer` return type.","body":"No, he asked for &quot;a clean value in order to show that the convertion went wrong,&quot; and <code>null</code> is a clean value when you&#39;re using an <code>Integer</code> return type."},{"owner":{"account_id":51856,"reputation":8054,"user_id":154949,"accept_rate":76,"display_name":"yawn"},"score":0,"creation_date":1254133934,"post_id":1486124,"comment_id":1338056,"body_markdown":"@Adam: I read/interpreted it differently. Still I don&#39;t get -2 - it&#39;s not like the answer was a troll post/spam whatever.\n\n@Jon: Please delete the entire answer if possible. -2 looks like it&#39;s suggesting something blatantly wrong/stupid which it clearly does not.","body":"@Adam: I read/interpreted it differently. Still I don&#39;t get -2 - it&#39;s not like the answer was a troll post/spam whatever.  @Jon: Please delete the entire answer if possible. -2 looks like it&#39;s suggesting something blatantly wrong/stupid which it clearly does not."}],"tags":[],"owner":{"account_id":51856,"reputation":8054,"user_id":154949,"accept_rate":76,"display_name":"yawn"},"comment_count":9,"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1254130282,"creation_date":1254129425,"answer_id":1486124,"question_id":1486077,"body_markdown":"You can use a Null-Object like so:\r\n\r\n\tpublic class Convert {\r\n\r\n\t    @SuppressWarnings({&quot;UnnecessaryBoxing&quot;})\r\n        public static final Integer NULL = new Integer(0);\r\n\r\n\t    public static Integer convert(String integer) {\r\n\r\n\t        try {\r\n\t            return Integer.valueOf(integer);\r\n\t        } catch (NumberFormatException e) {\r\n\t            return NULL;\r\n\t        }\r\n\r\n\t    }\r\n\r\n\t    public static void main(String[] args) {\r\n\r\n\t        Integer a = convert(&quot;123&quot;);\r\n\t        System.out.println(&quot;a.equals(123) = &quot; + a.equals(123));\r\n\t        System.out.println(&quot;a == NULL &quot; + (a == NULL));\r\n\r\n\t        Integer b = convert(&quot;onetwothree&quot;);\r\n\t        System.out.println(&quot;b.equals(123) = &quot; + b.equals(123));\r\n\t        System.out.println(&quot;b == NULL &quot; + (b == NULL));\r\n\r\n\t\t\tInteger c = convert(&quot;0&quot;);\r\n\t\t\tSystem.out.println(&quot;equals(0) = &quot; + c.equals(0));\r\n\t\t\tSystem.out.println(&quot;c == NULL &quot; + (c == NULL));\r\n\r\n\t    }\r\n\r\n\t}\r\n\r\nThe result of *main* in this example is:\r\n\r\n\ta.equals(123) = true\r\n\ta == NULL false\r\n\tb.equals(123) = false\r\n\tb == NULL true\r\n\tc.equals(0) = true\r\n\tc == NULL false\r\n\r\nThis way you can always test for failed conversion but still work with the results as Integer instances. You might also want to tweak the number *NULL* represents (≠ 0).","title":"Good way to encapsulate Integer.parseInt()","body":"<p>You can use a Null-Object like so:</p>\n\n<pre><code>public class Convert {\n\n    @SuppressWarnings({\"UnnecessaryBoxing\"})\n    public static final Integer NULL = new Integer(0);\n\n    public static Integer convert(String integer) {\n\n        try {\n            return Integer.valueOf(integer);\n        } catch (NumberFormatException e) {\n            return NULL;\n        }\n\n    }\n\n    public static void main(String[] args) {\n\n        Integer a = convert(\"123\");\n        System.out.println(\"a.equals(123) = \" + a.equals(123));\n        System.out.println(\"a == NULL \" + (a == NULL));\n\n        Integer b = convert(\"onetwothree\");\n        System.out.println(\"b.equals(123) = \" + b.equals(123));\n        System.out.println(\"b == NULL \" + (b == NULL));\n\n        Integer c = convert(\"0\");\n        System.out.println(\"equals(0) = \" + c.equals(0));\n        System.out.println(\"c == NULL \" + (c == NULL));\n\n    }\n\n}\n</code></pre>\n\n<p>The result of <em>main</em> in this example is:</p>\n\n<pre><code>a.equals(123) = true\na == NULL false\nb.equals(123) = false\nb == NULL true\nc.equals(0) = true\nc == NULL false\n</code></pre>\n\n<p>This way you can always test for failed conversion but still work with the results as Integer instances. You might also want to tweak the number <em>NULL</em> represents (≠ 0).</p>\n"},{"comments":[{"owner":{"account_id":132332,"reputation":2570,"user_id":332948,"accept_rate":100,"display_name":"rodrigoelp"},"score":0,"creation_date":1383192630,"post_id":1486327,"comment_id":29259889,"body_markdown":"I like your solution using the maybe pattern. Very haskelly ;)","body":"I like your solution using the maybe pattern. Very haskelly ;)"},{"owner":{"account_id":2243116,"reputation":5530,"user_id":1977151,"accept_rate":40,"display_name":"Vlasec"},"score":2,"creation_date":1473692265,"post_id":1486327,"comment_id":66227847,"body_markdown":"This solution is now outdated as there is java.util.Optional since Java 8 :)","body":"This solution is now outdated as there is java.util.Optional since Java 8 :)"}],"tags":[],"owner":{"account_id":31970,"reputation":8917,"user_id":88165,"display_name":"Nikolay Ivanov"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1440092871,"creation_date":1254133117,"answer_id":1486327,"question_id":1486077,"body_markdown":"May be you can use something like this:\r\n\r\n    public class Test {\r\n\tpublic interface Option&lt;T&gt; {\r\n\t\tT get();\r\n\r\n\t\tT getOrElse(T def);\r\n\r\n\t\tboolean hasValue();\r\n\t}\r\n\r\n\tfinal static class Some&lt;T&gt; implements Option&lt;T&gt; {\r\n\r\n\t\tprivate final T value;\r\n\r\n\t\tpublic Some(T value) {\r\n\t\t\tthis.value = value;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic T get() {\r\n\t\t\treturn value;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic T getOrElse(T def) {\r\n\t\t\treturn value;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic boolean hasValue() {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\r\n\tfinal static class None&lt;T&gt; implements Option&lt;T&gt; {\r\n\r\n\t\t@Override\r\n\t\tpublic T get() {\r\n\t\t\tthrow new UnsupportedOperationException();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic T getOrElse(T def) {\r\n\t\t\treturn def;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic boolean hasValue() {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic static Option&lt;Integer&gt; parseInt(String s) {\r\n\t\tOption&lt;Integer&gt; result = new None&lt;Integer&gt;();\r\n\t\ttry {\r\n\t\t\tInteger value = Integer.parseInt(s);\r\n\t\t\tresult = new Some&lt;Integer&gt;(value);\r\n\t\t} catch (NumberFormatException e) {\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n    }\r\n\r\n","title":"Good way to encapsulate Integer.parseInt()","body":"<p>May be you can use something like this:</p>\n\n<pre><code>public class Test {\npublic interface Option&lt;T&gt; {\n    T get();\n\n    T getOrElse(T def);\n\n    boolean hasValue();\n}\n\nfinal static class Some&lt;T&gt; implements Option&lt;T&gt; {\n\n    private final T value;\n\n    public Some(T value) {\n        this.value = value;\n    }\n\n    @Override\n    public T get() {\n        return value;\n    }\n\n    @Override\n    public T getOrElse(T def) {\n        return value;\n    }\n\n    @Override\n    public boolean hasValue() {\n        return true;\n    }\n}\n\nfinal static class None&lt;T&gt; implements Option&lt;T&gt; {\n\n    @Override\n    public T get() {\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public T getOrElse(T def) {\n        return def;\n    }\n\n    @Override\n    public boolean hasValue() {\n        return false;\n    }\n\n}\n\npublic static Option&lt;Integer&gt; parseInt(String s) {\n    Option&lt;Integer&gt; result = new None&lt;Integer&gt;();\n    try {\n        Integer value = Integer.parseInt(s);\n        result = new Some&lt;Integer&gt;(value);\n    } catch (NumberFormatException e) {\n    }\n    return result;\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"Wilian Z."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1254135975,"creation_date":1254135975,"answer_id":1486488,"question_id":1486077,"body_markdown":"You could also replicate the C++ behaviour that you want very simply\r\n\r\n    public static boolean parseInt(String str, int[] byRef) {\r\n        if(byRef==null) return false;\r\n        try {\r\n           byRef[0] = Integer.parseInt(prop);\r\n           return true;\r\n        } catch (NumberFormatException ex) {\r\n           return false;\r\n        }\r\n    }\r\n\r\n\r\nYou would use the method like so:\r\n\r\n    int[] byRef = new int[1];\r\n    boolean result = parseInt(&quot;123&quot;,byRef);\r\n\r\nAfter that the variable `result` it&#39;s true if everything went allright and `byRef[0]` contains the parsed value.\r\n\r\nPersonally, I would stick to catching the exception.\r\n","title":"Good way to encapsulate Integer.parseInt()","body":"<p>You could also replicate the C++ behaviour that you want very simply</p>\n\n<pre><code>public static boolean parseInt(String str, int[] byRef) {\n    if(byRef==null) return false;\n    try {\n       byRef[0] = Integer.parseInt(prop);\n       return true;\n    } catch (NumberFormatException ex) {\n       return false;\n    }\n}\n</code></pre>\n\n<p>You would use the method like so:</p>\n\n<pre><code>int[] byRef = new int[1];\nboolean result = parseInt(\"123\",byRef);\n</code></pre>\n\n<p>After that the variable <code>result</code> it's true if everything went allright and <code>byRef[0]</code> contains the parsed value.</p>\n\n<p>Personally, I would stick to catching the exception.</p>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1254136360,"creation_date":1254136360,"answer_id":1486518,"question_id":1486077,"body_markdown":"After reading the answers to the question I think encapsulating or wrapping the parseInt method is not necessary, maybe even not a good idea.\r\n\r\nYou could return &#39;null&#39; as Jon suggested, but that&#39;s more or less replacing a try/catch construct by a null-check. There&#39;s just a slight difference on the behaviour if you &#39;forget&#39; error handling: if you don&#39;t catch the exception, there&#39;s no assignment and the left hand side variable keeps it old value. If you don&#39;t test for null, you&#39;ll probably get hit by the JVM (NPE).\r\n\r\nyawn&#39;s suggestion looks more elegant to me, because I do not like returning null to signal some errors or exceptional states. Now you have to check referential equality with a predefined object, that indicates a problem. But, as others argue, if again you &#39;forget&#39; to check and a String is unparsable, the program continous with the wrapped int inside your &#39;ERROR&#39; or &#39;NULL&#39; object.\r\n\r\nNikolay&#39;s solution is even more object orientated and will work with parseXXX methods from other wrapper classes aswell. But in the end, he just replaced the NumberFormatException by an OperationNotSupported exception - again you need a try/catch to handle unparsable inputs.\r\n\r\nSo, its my conclusion to not encapsulate the plain parseInt method. I&#39;d only encapsulate if I could add some (application depended) error handling as well.","title":"Good way to encapsulate Integer.parseInt()","body":"<p>After reading the answers to the question I think encapsulating or wrapping the parseInt method is not necessary, maybe even not a good idea.</p>\n\n<p>You could return 'null' as Jon suggested, but that's more or less replacing a try/catch construct by a null-check. There's just a slight difference on the behaviour if you 'forget' error handling: if you don't catch the exception, there's no assignment and the left hand side variable keeps it old value. If you don't test for null, you'll probably get hit by the JVM (NPE).</p>\n\n<p>yawn's suggestion looks more elegant to me, because I do not like returning null to signal some errors or exceptional states. Now you have to check referential equality with a predefined object, that indicates a problem. But, as others argue, if again you 'forget' to check and a String is unparsable, the program continous with the wrapped int inside your 'ERROR' or 'NULL' object.</p>\n\n<p>Nikolay's solution is even more object orientated and will work with parseXXX methods from other wrapper classes aswell. But in the end, he just replaced the NumberFormatException by an OperationNotSupported exception - again you need a try/catch to handle unparsable inputs.</p>\n\n<p>So, its my conclusion to not encapsulate the plain parseInt method. I'd only encapsulate if I could add some (application depended) error handling as well.</p>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":0,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1323659689,"creation_date":1254136397,"answer_id":1486521,"question_id":1486077,"body_markdown":"What behaviour do you expect when it&#39;s not a number?\r\n\r\nIf, for example, you often have a default value to use when the input is not a number, then a method such as this could be useful:\r\n\r\n    public static int parseWithDefault(String number, int defaultVal) {\r\n      try {\r\n        return Integer.parseInt(number);\r\n      } catch (NumberFormatException e) {\r\n        return defaultVal;\r\n      }\r\n    }\r\n\r\nSimilar methods can be written for different default behaviour when the input can&#39;t be parsed.","title":"Good way to encapsulate Integer.parseInt()","body":"<p>What behaviour do you expect when it's not a number?</p>\n\n<p>If, for example, you often have a default value to use when the input is not a number, then a method such as this could be useful:</p>\n\n<pre><code>public static int parseWithDefault(String number, int defaultVal) {\n  try {\n    return Integer.parseInt(number);\n  } catch (NumberFormatException e) {\n    return defaultVal;\n  }\n}\n</code></pre>\n\n<p>Similar methods can be written for different default behaviour when the input can't be parsed.</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1254138391,"creation_date":1254138391,"answer_id":1486643,"question_id":1486077,"body_markdown":"I would suggest you consider a method like\r\n\r\n     IntegerUtilities.isValidInteger(String s)\r\n\r\nwhich you then implement as you see fit.  If you want the result carried back - perhaps because you use Integer.parseInt() anyway - you can use the array trick.\r\n\r\n     IntegerUtilities.isValidInteger(String s, int[] result)\r\n\r\nwhere you set result[0] to the integer value found in the process.","title":"Good way to encapsulate Integer.parseInt()","body":"<p>I would suggest you consider a method like</p>\n\n<pre><code> IntegerUtilities.isValidInteger(String s)\n</code></pre>\n\n<p>which you then implement as you see fit.  If you want the result carried back - perhaps because you use Integer.parseInt() anyway - you can use the array trick.</p>\n\n<pre><code> IntegerUtilities.isValidInteger(String s, int[] result)\n</code></pre>\n\n<p>where you set result[0] to the integer value found in the process.</p>\n"},{"tags":[],"owner":{"account_id":56079,"reputation":7550,"user_id":167973,"accept_rate":82,"display_name":"Carl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1254148258,"creation_date":1254148258,"answer_id":1487358,"question_id":1486077,"body_markdown":"This is somewhat similar to Nikolay&#39;s solution:\r\n\r\n     private static class Box&lt;T&gt; {\r\n      T me;\r\n      public Box() {}\r\n      public T get() { return me; }\r\n      public void set(T fromParse) { me = fromParse; }\r\n     }\r\n     \r\n     private interface Parser&lt;T&gt; {\r\n      public void setExclusion(String regex);\r\n      public boolean isExcluded(String s);\r\n      public T parse(String s);\r\n     }\r\n     \r\n     public static &lt;T&gt; boolean parser(Box&lt;T&gt; ref, Parser&lt;T&gt; p, String toParse) {\r\n      if (!p.isExcluded(toParse)) {\r\n       ref.set(p.parse(toParse));\r\n       return true;\r\n      } else return false;\r\n     }\r\n    \r\n     public static void main(String args[]) {\r\n      Box&lt;Integer&gt; a = new Box&lt;Integer&gt;();\r\n      Parser&lt;Integer&gt; intParser = new Parser&lt;Integer&gt;() {\r\n       String myExclusion;\r\n       public void setExclusion(String regex) {\r\n        myExclusion = regex;\r\n       }\r\n       public boolean isExcluded(String s) {\r\n        return s.matches(myExclusion);\r\n       }\r\n       public Integer parse(String s) {\r\n        return new Integer(s);\r\n       }\r\n      };\r\n      intParser.setExclusion(&quot;\\\\D+&quot;);\r\n      if (parser(a,intParser,&quot;123&quot;)) System.out.println(a.get());\r\n      if (!parser(a,intParser,&quot;abc&quot;)) System.out.println(&quot;didn&#39;t parse &quot;+a.get());\r\n     }\r\n\r\nThe main method demos the code.  Another way to implement the Parser interface would obviously be to just set &quot;\\\\D+&quot; from construction, and have the methods do nothing.","title":"Good way to encapsulate Integer.parseInt()","body":"<p>This is somewhat similar to Nikolay's solution:</p>\n\n<pre><code> private static class Box&lt;T&gt; {\n  T me;\n  public Box() {}\n  public T get() { return me; }\n  public void set(T fromParse) { me = fromParse; }\n }\n\n private interface Parser&lt;T&gt; {\n  public void setExclusion(String regex);\n  public boolean isExcluded(String s);\n  public T parse(String s);\n }\n\n public static &lt;T&gt; boolean parser(Box&lt;T&gt; ref, Parser&lt;T&gt; p, String toParse) {\n  if (!p.isExcluded(toParse)) {\n   ref.set(p.parse(toParse));\n   return true;\n  } else return false;\n }\n\n public static void main(String args[]) {\n  Box&lt;Integer&gt; a = new Box&lt;Integer&gt;();\n  Parser&lt;Integer&gt; intParser = new Parser&lt;Integer&gt;() {\n   String myExclusion;\n   public void setExclusion(String regex) {\n    myExclusion = regex;\n   }\n   public boolean isExcluded(String s) {\n    return s.matches(myExclusion);\n   }\n   public Integer parse(String s) {\n    return new Integer(s);\n   }\n  };\n  intParser.setExclusion(\"\\\\D+\");\n  if (parser(a,intParser,\"123\")) System.out.println(a.get());\n  if (!parser(a,intParser,\"abc\")) System.out.println(\"didn't parse \"+a.get());\n }\n</code></pre>\n\n<p>The main method demos the code.  Another way to implement the Parser interface would obviously be to just set \"\\D+\" from construction, and have the methods do nothing.</p>\n"},{"comments":[{"owner":{"account_id":109351,"reputation":1467,"user_id":289782,"accept_rate":70,"display_name":"Searles"},"score":0,"creation_date":1518705395,"post_id":8392139,"comment_id":84622695,"body_markdown":"Then it would not work if the digit contains a too large number. Integer.parseInt throws an exception for numbers larger than Integer.MAX_VALUE (same of course for the negative side).","body":"Then it would not work if the digit contains a too large number. Integer.parseInt throws an exception for numbers larger than Integer.MAX_VALUE (same of course for the negative side)."},{"owner":{"account_id":52517,"reputation":6279,"user_id":156973,"display_name":"izogfif"},"score":0,"creation_date":1627531889,"post_id":8392139,"comment_id":121182392,"body_markdown":"Beware: `String.isNumeric` will give `true` for Arabic / Persian numbers. From JavaDoc: `StringUtils.isNumeric(&quot;१२३&quot;)  = true`","body":"Beware: <code>String.isNumeric</code> will give <code>true</code> for Arabic / Persian numbers. From JavaDoc: <code>StringUtils.isNumeric(&quot;१२३&quot;)  = true</code>"}],"tags":[],"owner":{"account_id":1068899,"reputation":9569,"user_id":1068649,"accept_rate":80,"display_name":"James Bassett"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1323120577,"creation_date":1323120577,"answer_id":8392139,"question_id":1486077,"body_markdown":"You *could* roll your own, but it&#39;s just as easy to use commons lang&#39;s `StringUtils.isNumeric()` [method][1]. It uses [Character.isDigit()][2] to iterate over each character in the String.\r\n\r\n\r\n  [1]: http://commons.apache.org/lang/api-3.1/org/apache/commons/lang3/StringUtils.html#isNumeric%28java.lang.CharSequence%29\r\n  [2]: http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Character.html#isDigit%28char%29","title":"Good way to encapsulate Integer.parseInt()","body":"<p>You <em>could</em> roll your own, but it's just as easy to use commons lang's <code>StringUtils.isNumeric()</code> <a href=\"http://commons.apache.org/lang/api-3.1/org/apache/commons/lang3/StringUtils.html#isNumeric%28java.lang.CharSequence%29\" rel=\"nofollow\">method</a>. It uses <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Character.html#isDigit%28char%29\" rel=\"nofollow\">Character.isDigit()</a> to iterate over each character in the String.</p>\n"},{"tags":[],"owner":{"account_id":1307258,"reputation":431,"user_id":1255983,"display_name":"Boboman"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1331261183,"creation_date":1331166472,"answer_id":9611270,"question_id":1486077,"body_markdown":"They way I handle this problem is recursively. For example when reading data from the console:\r\n\r\n    Java.util.Scanner keyboard = new Java.util.Scanner(System.in);\r\n\r\n    public int GetMyInt(){\r\n        int ret;\r\n        System.out.print(&quot;Give me an Int: &quot;);\r\n        try{\r\n            ret = Integer.parseInt(keyboard.NextLine());\r\n\r\n        }\r\n        catch(Exception e){\r\n            System.out.println(&quot;\\nThere was an error try again.\\n&quot;);\r\n            ret = GetMyInt();\r\n        }\r\n        return ret;\r\n    }\r\n\r\n\r\n","title":"Good way to encapsulate Integer.parseInt()","body":"<p>They way I handle this problem is recursively. For example when reading data from the console:</p>\n\n<pre><code>Java.util.Scanner keyboard = new Java.util.Scanner(System.in);\n\npublic int GetMyInt(){\n    int ret;\n    System.out.print(\"Give me an Int: \");\n    try{\n        ret = Integer.parseInt(keyboard.NextLine());\n\n    }\n    catch(Exception e){\n        System.out.println(\"\\nThere was an error try again.\\n\");\n        ret = GetMyInt();\n    }\n    return ret;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":170422,"reputation":6877,"user_id":1646752,"accept_rate":37,"display_name":"Josh Unger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366995277,"creation_date":1366994964,"answer_id":16241423,"question_id":1486077,"body_markdown":"To avoid an exception, you can use Java&#39;s `Format.parseObject` method. The code below is basically a simplified version of Apache Common&#39;s [IntegerValidator][1] class.\r\n\r\n\tpublic static boolean tryParse(String s, int[] result)\r\n\t{\r\n\t\tNumberFormat format = NumberFormat.getIntegerInstance();\r\n\t\tParsePosition position = new ParsePosition(0);\r\n\t\tObject parsedValue = format.parseObject(s, position);\r\n\t\t\r\n\t\tif (position.getErrorIndex() &gt; -1)\r\n\t\t{\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (position.getIndex() &lt; s.length())\r\n\t\t{\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tresult[0] = ((Long) parsedValue).intValue();\r\n\t\treturn true;\r\n\t}\r\n\r\nYou can either use `AtomicInteger` or the `int[]` array trick depending upon your preference.\r\n\r\nHere is my test that uses it -\r\n\r\n    int[] i = new int[1];\r\n    Assert.assertTrue(IntUtils.tryParse(&quot;123&quot;, i));\r\n    Assert.assertEquals(123, i[0]);\r\n\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-validator/apidocs/org/apache/commons/validator/routines/IntegerValidator.html","title":"Good way to encapsulate Integer.parseInt()","body":"<p>To avoid an exception, you can use Java's <code>Format.parseObject</code> method. The code below is basically a simplified version of Apache Common's <a href=\"http://commons.apache.org/proper/commons-validator/apidocs/org/apache/commons/validator/routines/IntegerValidator.html\" rel=\"nofollow\">IntegerValidator</a> class.</p>\n\n<pre><code>public static boolean tryParse(String s, int[] result)\n{\n    NumberFormat format = NumberFormat.getIntegerInstance();\n    ParsePosition position = new ParsePosition(0);\n    Object parsedValue = format.parseObject(s, position);\n\n    if (position.getErrorIndex() &gt; -1)\n    {\n        return false;\n    }\n\n    if (position.getIndex() &lt; s.length())\n    {\n        return false;\n    }\n\n    result[0] = ((Long) parsedValue).intValue();\n    return true;\n}\n</code></pre>\n\n<p>You can either use <code>AtomicInteger</code> or the <code>int[]</code> array trick depending upon your preference.</p>\n\n<p>Here is my test that uses it -</p>\n\n<pre><code>int[] i = new int[1];\nAssert.assertTrue(IntUtils.tryParse(\"123\", i));\nAssert.assertEquals(123, i[0]);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":43021,"reputation":658,"user_id":125560,"accept_rate":50,"display_name":"victor n."},"score":0,"creation_date":1393732685,"post_id":18345926,"comment_id":33565245,"body_markdown":"thank you for your answer. i read through most of the answers on this page, i personally had written the try/catch solution. however here&#39;s my issue, albeit small, with that solution. most IDEs will choke with analysing the flow of your code when you have a try/catch inside a loop. that&#39;s why a solution without the try/catch was what i needed.","body":"thank you for your answer. i read through most of the answers on this page, i personally had written the try/catch solution. however here&#39;s my issue, albeit small, with that solution. most IDEs will choke with analysing the flow of your code when you have a try/catch inside a loop. that&#39;s why a solution without the try/catch was what i needed."},{"owner":{"account_id":3287030,"reputation":812,"user_id":2766265,"accept_rate":67,"display_name":"Goose"},"score":7,"creation_date":1414753837,"post_id":18345926,"comment_id":41946322,"body_markdown":"Be careful. The regex with match an integer starting with 0 which will then throw a NumberFormatException. Try this ^(?:[1-9]\\d*|0)$ from http://stackoverflow.com/questions/12018479/javascript-regex-for-integer-only-not-to-start-with-0-but-allow-0","body":"Be careful. The regex with match an integer starting with 0 which will then throw a NumberFormatException. Try this ^(?:[1-9]\\d*|0)$ from <a href=\"http://stackoverflow.com/questions/12018479/javascript-regex-for-integer-only-not-to-start-with-0-but-allow-0\" title=\"javascript regex for integer only not to start with 0 but allow 0\">stackoverflow.com/questions/12018479/&hellip;</a>"},{"owner":{"account_id":50932,"reputation":6550,"user_id":152061,"accept_rate":80,"display_name":"Brad Cupit"},"score":8,"creation_date":1475718312,"post_id":18345926,"comment_id":67059009,"body_markdown":"This particular regex wouldn&#39;t handle negative numbers.","body":"This particular regex wouldn&#39;t handle negative numbers."},{"owner":{"account_id":3674924,"reputation":493,"user_id":3061221,"display_name":"Mohammad Yahia"},"score":9,"creation_date":1491815039,"post_id":18345926,"comment_id":73702117,"body_markdown":"also this doesn&#39;t cover number ranges that is out of integer bounds","body":"also this doesn&#39;t cover number ranges that is out of integer bounds"}],"tags":[],"owner":{"account_id":107449,"reputation":1422,"user_id":285701,"display_name":"Daddyboy"},"comment_count":4,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1701435549,"creation_date":1377037411,"answer_id":18345926,"question_id":1486077,"body_markdown":"To avoid handling exceptions use a regular expression to make sure you have all digits first:\r\n   \r\n\r\n    // Checking for Regular expression that matches digits\r\n    if (value.match(&quot;\\\\d+&quot;)) {\r\n         Integer.parseInt(value);\r\n    }","title":"Good way to encapsulate Integer.parseInt()","body":"<p>To avoid handling exceptions use a regular expression to make sure you have all digits first:</p>\n<pre><code>// Checking for Regular expression that matches digits\nif (value.match(&quot;\\\\d+&quot;)) {\n     Integer.parseInt(value);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":257856,"reputation":2799,"user_id":539623,"accept_rate":69,"display_name":"Ratata Tata"},"score":0,"creation_date":1500477754,"post_id":19057910,"comment_id":77357059,"body_markdown":"Most the time you&#39;re already using apache commons in your project because of other reasons (like StringUtils), that becomes handy.","body":"Most the time you&#39;re already using apache commons in your project because of other reasons (like StringUtils), that becomes handy."},{"owner":{"account_id":2528064,"reputation":111,"user_id":2196988,"display_name":"Xander YzWich"},"score":0,"creation_date":1692733637,"post_id":19057910,"comment_id":135664309,"body_markdown":"Perfect bugfix for me. Thanks!","body":"Perfect bugfix for me. Thanks!"}],"tags":[],"owner":{"account_id":396262,"reputation":867,"user_id":759719,"display_name":"Bryan W. Wagner"},"comment_count":2,"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1380307909,"creation_date":1380307450,"answer_id":19057910,"question_id":1486077,"body_markdown":"In some cases you should handle parsing errors as fail-fast situations, but in others cases, such as application configuration, I prefer to handle missing input with default values using [Apache Commons Lang 3 NumberUtils](http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/math/NumberUtils.html).\r\n\r\n    int port = NumberUtils.toInt(properties.getProperty(&quot;port&quot;), 8080);\r\n","title":"Good way to encapsulate Integer.parseInt()","body":"<p>In some cases you should handle parsing errors as fail-fast situations, but in others cases, such as application configuration, I prefer to handle missing input with default values using <a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/math/NumberUtils.html\">Apache Commons Lang 3 NumberUtils</a>.</p>\n\n<pre><code>int port = NumberUtils.toInt(properties.getProperty(\"port\"), 8080);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8539,"reputation":14603,"user_id":15461,"accept_rate":71,"display_name":"husayt"},"comment_count":0,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1489791034,"creation_date":1380823959,"answer_id":19166223,"question_id":1486077,"body_markdown":"There is `Ints.tryParse()` in [Guava][1]. It doesn&#39;t throw exception on non-numeric string, however it does throw exception on null string. \r\n\r\n\r\n  [1]: http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/primitives/Ints.html#tryParse-java.lang.String-","title":"Good way to encapsulate Integer.parseInt()","body":"<p>There is <code>Ints.tryParse()</code> in <a href=\"http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/primitives/Ints.html#tryParse-java.lang.String-\" rel=\"noreferrer\">Guava</a>. It doesn't throw exception on non-numeric string, however it does throw exception on null string. </p>\n"},{"comments":[{"owner":{"account_id":3479346,"reputation":500,"user_id":2926313,"accept_rate":38,"display_name":"Omar Hrynkiewicz"},"score":1,"creation_date":1432820608,"post_id":29091366,"comment_id":49092129,"body_markdown":"Do not use System.out.println (is a bad practice). The Problem with using it, is that your program will wait until the println has finished. The better approach is to use a logging framework.","body":"Do not use System.out.println (is a bad practice). The Problem with using it, is that your program will wait until the println has finished. The better approach is to use a logging framework."}],"tags":[],"owner":{"account_id":1987361,"reputation":138,"user_id":1782214,"display_name":"Abhinav Mathur"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427614538,"creation_date":1426567074,"answer_id":29091366,"question_id":1486077,"body_markdown":"I was also having the same problem. This is a method I wrote to ask the user for an input and not accept the input unless its an integer. Please note that I am a beginner so if the code is not working as expected, blame my inexperience !\r\n\r\n    private int numberValue(String value, boolean val) throws IOException {\r\n        //prints the value passed by the code implementer\r\n\t\tSystem.out.println(value);\r\n        //returns 0 is val is passed as false\r\n\t\tObject num = 0;\r\n\t\twhile (val) {\r\n\t\t\tnum = br.readLine();\r\n\t\t\ttry {\r\n\t\t\t\tInteger numVal = Integer.parseInt((String) num);\r\n\t\t\t\tif (numVal instanceof Integer) {\r\n\t\t\t\t\tval = false;\r\n\t\t\t\t\tnum = numVal;\r\n\t\t\t\t}\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tSystem.out.println(&quot;Error. Please input a valid number :-&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn ((Integer) num).intValue();\r\n\t}","title":"Good way to encapsulate Integer.parseInt()","body":"<p>I was also having the same problem. This is a method I wrote to ask the user for an input and not accept the input unless its an integer. Please note that I am a beginner so if the code is not working as expected, blame my inexperience !</p>\n\n<pre><code>private int numberValue(String value, boolean val) throws IOException {\n    //prints the value passed by the code implementer\n    System.out.println(value);\n    //returns 0 is val is passed as false\n    Object num = 0;\n    while (val) {\n        num = br.readLine();\n        try {\n            Integer numVal = Integer.parseInt((String) num);\n            if (numVal instanceof Integer) {\n                val = false;\n                num = numVal;\n            }\n        } catch (Exception e) {\n            System.out.println(\"Error. Please input a valid number :-\");\n        }\n    }\n    return ((Integer) num).intValue();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":145570,"reputation":3550,"user_id":355461,"display_name":"Marc"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1468912299,"creation_date":1468912299,"answer_id":38451745,"question_id":1486077,"body_markdown":"The answer given by Jon Skeet is fine, but I don&#39;t like giving back a `null` Integer object. I find this confusing to use. Since Java 8 there is a better option (in my opinion), using the `OptionalInt`:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public static OptionalInt tryParse(String value) {\r\n     try {\r\n         return OptionalInt.of(Integer.parseInt(value));\r\n      } catch (NumberFormatException e) {\r\n         return OptionalInt.empty();\r\n      }\r\n    }\r\n\r\nThis makes it explicit that you have to handle the case where no value is available. I would prefer if this kind of function would be added to the java library in the future, but I don&#39;t know if that will ever happen.","title":"Good way to encapsulate Integer.parseInt()","body":"<p>The answer given by Jon Skeet is fine, but I don't like giving back a <code>null</code> Integer object. I find this confusing to use. Since Java 8 there is a better option (in my opinion), using the <code>OptionalInt</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static OptionalInt tryParse(String value) {\n try {\n     return OptionalInt.of(Integer.parseInt(value));\n  } catch (NumberFormatException e) {\n     return OptionalInt.empty();\n  }\n}\n</code></pre>\n\n<p>This makes it explicit that you have to handle the case where no value is available. I would prefer if this kind of function would be added to the java library in the future, but I don't know if that will ever happen.</p>\n"},{"tags":[],"owner":{"account_id":8997777,"reputation":43,"user_id":6707475,"display_name":"Peter Sulzer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471425939,"creation_date":1471345716,"answer_id":38973334,"question_id":1486077,"body_markdown":"This is an answer to question 8391979, &quot;Does java have a int.tryparse that doesn&#39;t throw an exception for bad data? [duplicate]&quot; which is closed and linked to this question.\r\n\r\nEdit 2016 08 17: Added ltrimZeroes methods and called them in tryParse(). Without leading zeroes in numberString may give false results (see comments in code). There is now also public static String ltrimZeroes(String numberString) method which works for positive and negative &quot;numbers&quot;(END Edit)\r\n\r\nBelow you find a rudimentary Wrapper (boxing) class for int with an highly speed optimized tryParse() method (similar as in C#) which parses the string itself and is a little bit faster than Integer.parseInt(String s) from Java:\r\n\r\n    public class IntBoxSimple {\r\n        // IntBoxSimple - Rudimentary class to implement a C#-like tryParse() method for int\r\n        // A full blown IntBox class implementation can be found in my Github project\r\n        // Copyright (c) 2016, Peter Sulzer, F&#252;rth\r\n        // Program is published under the GNU General Public License (GPL) Version 1 or newer\r\n        \r\n        protected int _n; // this &quot;boxes&quot; the int value\r\n    \r\n        // BEGIN The following statements are only executed at the\r\n        // first instantiation of an IntBox (i. e. only once) or\r\n        // already compiled into the code at compile time:\r\n        public static final int MAX_INT_LEN =\r\n                String.valueOf(Integer.MAX_VALUE).length();\r\n        public static final int MIN_INT_LEN =\r\n                String.valueOf(Integer.MIN_VALUE).length();\r\n        public static final int MAX_INT_LASTDEC =\r\n                Integer.parseInt(String.valueOf(Integer.MAX_VALUE).substring(1));\r\n        public static final int MAX_INT_FIRSTDIGIT =\r\n                Integer.parseInt(String.valueOf(Integer.MAX_VALUE).substring(0, 1));\r\n        public static final int MIN_INT_LASTDEC =\r\n                -Integer.parseInt(String.valueOf(Integer.MIN_VALUE).substring(2));\r\n        public static final int MIN_INT_FIRSTDIGIT =\r\n                Integer.parseInt(String.valueOf(Integer.MIN_VALUE).substring(1,2));\r\n        // END The following statements...\r\n    \r\n        // ltrimZeroes() methods added 2016 08 16 (are required by tryParse() methods)\r\n        public static String ltrimZeroes(String s) {\r\n            if (s.charAt(0) == &#39;-&#39;)\r\n                return ltrimZeroesNegative(s);\r\n            else\r\n                return ltrimZeroesPositive(s);\r\n        }\r\n        protected static String ltrimZeroesNegative(String s) {\r\n            int i=1;\r\n            for ( ; s.charAt(i) == &#39;0&#39;; i++);\r\n            return (&quot;-&quot;+s.substring(i));\r\n        }\r\n        protected static String ltrimZeroesPositive(String s) {\r\n            int i=0;\r\n            for ( ; s.charAt(i) == &#39;0&#39;; i++);\r\n            return (s.substring(i));\r\n        }\r\n    \r\n        public static boolean tryParse(String s,IntBoxSimple intBox) {\r\n            if (intBox == null)\r\n                // intBoxSimple=new IntBoxSimple(); // This doesn&#39;t work, as\r\n                // intBoxSimple itself is passed by value and cannot changed\r\n                // for the caller. I. e. &quot;out&quot;-arguments of C# cannot be simulated in Java.\r\n                return false; // so we simply return false\r\n            s=s.trim(); // leading and trailing whitespace is allowed for String s\r\n            int len=s.length();\r\n            int rslt=0, d, dfirst=0, i, j;\r\n            char c=s.charAt(0);\r\n            if (c == &#39;-&#39;) {\r\n                if (len &gt; MIN_INT_LEN) { // corrected (added) 2016 08 17\r\n                    s = ltrimZeroesNegative(s);\r\n                    len = s.length();\r\n                }\r\n                if (len &gt;= MIN_INT_LEN) {\r\n                    c = s.charAt(1);\r\n                    if (!Character.isDigit(c))\r\n                        return false;\r\n                    dfirst = c-&#39;0&#39;;\r\n                    if (len &gt; MIN_INT_LEN || dfirst &gt; MIN_INT_FIRSTDIGIT)\r\n                        return false;\r\n                }\r\n                for (i = len - 1, j = 1; i &gt;= 2; --i, j *= 10) {\r\n                    c = s.charAt(i);\r\n                    if (!Character.isDigit(c))\r\n                        return false;\r\n                    rslt -= (c-&#39;0&#39;)*j;\r\n                }\r\n                if (len &lt; MIN_INT_LEN) {\r\n                    c = s.charAt(i);\r\n                    if (!Character.isDigit(c))\r\n                        return false;\r\n                    rslt -= (c-&#39;0&#39;)*j;\r\n                } else {\r\n                    if (dfirst &gt;= MIN_INT_FIRSTDIGIT &amp;&amp; rslt &lt; MIN_INT_LASTDEC)\r\n                        return false;\r\n                    rslt -= dfirst * j;\r\n                }\r\n            } else {\r\n                if (len &gt; MAX_INT_LEN) { // corrected (added) 2016 08 16\r\n                    s = ltrimZeroesPositive(s);\r\n                    len=s.length();\r\n                }\r\n                if (len &gt;= MAX_INT_LEN) {\r\n                    c = s.charAt(0);\r\n                    if (!Character.isDigit(c))\r\n                        return false;\r\n                    dfirst = c-&#39;0&#39;;\r\n                    if (len &gt; MAX_INT_LEN || dfirst &gt; MAX_INT_FIRSTDIGIT)\r\n                        return false;\r\n                }\r\n                for (i = len - 1, j = 1; i &gt;= 1; --i, j *= 10) {\r\n                    c = s.charAt(i);\r\n                    if (!Character.isDigit(c))\r\n                        return false;\r\n                    rslt += (c-&#39;0&#39;)*j;\r\n                }\r\n                if (len &lt; MAX_INT_LEN) {\r\n                    c = s.charAt(i);\r\n                    if (!Character.isDigit(c))\r\n                        return false;\r\n                    rslt += (c-&#39;0&#39;)*j;\r\n                }\r\n                if (dfirst &gt;= MAX_INT_FIRSTDIGIT &amp;&amp; rslt &gt; MAX_INT_LASTDEC)\r\n                    return false;\r\n                rslt += dfirst*j;\r\n            }\r\n            intBox._n=rslt;\r\n            return true;\r\n        }\r\n    \r\n        // Get the value stored in an IntBoxSimple:\r\n        public int get_n() {\r\n            return _n;\r\n        }\r\n        public int v() { // alternative shorter version, v for &quot;value&quot;\r\n            return _n;\r\n        }\r\n        // Make objects of IntBoxSimple (needed as constructors are not public):\r\n        public static IntBoxSimple makeIntBoxSimple() {\r\n            return new IntBoxSimple();\r\n        }\r\n        public static IntBoxSimple makeIntBoxSimple(int integerNumber) {\r\n            return new IntBoxSimple(integerNumber);\r\n        }\r\n    \r\n        // constructors are not public(!=:\r\n        protected IntBoxSimple() {} {\r\n            _n=0; // default value an IntBoxSimple holds\r\n        }\r\n        protected IntBoxSimple(int integerNumber) {\r\n            _n=integerNumber;\r\n        }\r\n    }\r\n\r\n\r\nTest/example program for class IntBoxSimple:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    public class IntBoxSimpleTest {\r\n        public static void main (String args[]) {\r\n            IntBoxSimple ibs = IntBoxSimple.makeIntBoxSimple();\r\n            String in = null;\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n            do {\r\n                System.out.printf(\r\n                        &quot;Enter an integer number in the range %d to %d:%n&quot;,\r\n                            Integer.MIN_VALUE, Integer.MAX_VALUE);\r\n                try { in = br.readLine(); } catch (IOException ex) {}\r\n            } while(! IntBoxSimple.tryParse(in, ibs));\r\n            System.out.printf(&quot;The number you have entered was: %d%n&quot;, ibs.v());\r\n        }\r\n    }\r\n\r\n","title":"Good way to encapsulate Integer.parseInt()","body":"<p>This is an answer to question 8391979, \"Does java have a int.tryparse that doesn't throw an exception for bad data? [duplicate]\" which is closed and linked to this question.</p>\n\n<p>Edit 2016 08 17: Added ltrimZeroes methods and called them in tryParse(). Without leading zeroes in numberString may give false results (see comments in code). There is now also public static String ltrimZeroes(String numberString) method which works for positive and negative \"numbers\"(END Edit)</p>\n\n<p>Below you find a rudimentary Wrapper (boxing) class for int with an highly speed optimized tryParse() method (similar as in C#) which parses the string itself and is a little bit faster than Integer.parseInt(String s) from Java:</p>\n\n<pre><code>public class IntBoxSimple {\n    // IntBoxSimple - Rudimentary class to implement a C#-like tryParse() method for int\n    // A full blown IntBox class implementation can be found in my Github project\n    // Copyright (c) 2016, Peter Sulzer, Fürth\n    // Program is published under the GNU General Public License (GPL) Version 1 or newer\n\n    protected int _n; // this \"boxes\" the int value\n\n    // BEGIN The following statements are only executed at the\n    // first instantiation of an IntBox (i. e. only once) or\n    // already compiled into the code at compile time:\n    public static final int MAX_INT_LEN =\n            String.valueOf(Integer.MAX_VALUE).length();\n    public static final int MIN_INT_LEN =\n            String.valueOf(Integer.MIN_VALUE).length();\n    public static final int MAX_INT_LASTDEC =\n            Integer.parseInt(String.valueOf(Integer.MAX_VALUE).substring(1));\n    public static final int MAX_INT_FIRSTDIGIT =\n            Integer.parseInt(String.valueOf(Integer.MAX_VALUE).substring(0, 1));\n    public static final int MIN_INT_LASTDEC =\n            -Integer.parseInt(String.valueOf(Integer.MIN_VALUE).substring(2));\n    public static final int MIN_INT_FIRSTDIGIT =\n            Integer.parseInt(String.valueOf(Integer.MIN_VALUE).substring(1,2));\n    // END The following statements...\n\n    // ltrimZeroes() methods added 2016 08 16 (are required by tryParse() methods)\n    public static String ltrimZeroes(String s) {\n        if (s.charAt(0) == '-')\n            return ltrimZeroesNegative(s);\n        else\n            return ltrimZeroesPositive(s);\n    }\n    protected static String ltrimZeroesNegative(String s) {\n        int i=1;\n        for ( ; s.charAt(i) == '0'; i++);\n        return (\"-\"+s.substring(i));\n    }\n    protected static String ltrimZeroesPositive(String s) {\n        int i=0;\n        for ( ; s.charAt(i) == '0'; i++);\n        return (s.substring(i));\n    }\n\n    public static boolean tryParse(String s,IntBoxSimple intBox) {\n        if (intBox == null)\n            // intBoxSimple=new IntBoxSimple(); // This doesn't work, as\n            // intBoxSimple itself is passed by value and cannot changed\n            // for the caller. I. e. \"out\"-arguments of C# cannot be simulated in Java.\n            return false; // so we simply return false\n        s=s.trim(); // leading and trailing whitespace is allowed for String s\n        int len=s.length();\n        int rslt=0, d, dfirst=0, i, j;\n        char c=s.charAt(0);\n        if (c == '-') {\n            if (len &gt; MIN_INT_LEN) { // corrected (added) 2016 08 17\n                s = ltrimZeroesNegative(s);\n                len = s.length();\n            }\n            if (len &gt;= MIN_INT_LEN) {\n                c = s.charAt(1);\n                if (!Character.isDigit(c))\n                    return false;\n                dfirst = c-'0';\n                if (len &gt; MIN_INT_LEN || dfirst &gt; MIN_INT_FIRSTDIGIT)\n                    return false;\n            }\n            for (i = len - 1, j = 1; i &gt;= 2; --i, j *= 10) {\n                c = s.charAt(i);\n                if (!Character.isDigit(c))\n                    return false;\n                rslt -= (c-'0')*j;\n            }\n            if (len &lt; MIN_INT_LEN) {\n                c = s.charAt(i);\n                if (!Character.isDigit(c))\n                    return false;\n                rslt -= (c-'0')*j;\n            } else {\n                if (dfirst &gt;= MIN_INT_FIRSTDIGIT &amp;&amp; rslt &lt; MIN_INT_LASTDEC)\n                    return false;\n                rslt -= dfirst * j;\n            }\n        } else {\n            if (len &gt; MAX_INT_LEN) { // corrected (added) 2016 08 16\n                s = ltrimZeroesPositive(s);\n                len=s.length();\n            }\n            if (len &gt;= MAX_INT_LEN) {\n                c = s.charAt(0);\n                if (!Character.isDigit(c))\n                    return false;\n                dfirst = c-'0';\n                if (len &gt; MAX_INT_LEN || dfirst &gt; MAX_INT_FIRSTDIGIT)\n                    return false;\n            }\n            for (i = len - 1, j = 1; i &gt;= 1; --i, j *= 10) {\n                c = s.charAt(i);\n                if (!Character.isDigit(c))\n                    return false;\n                rslt += (c-'0')*j;\n            }\n            if (len &lt; MAX_INT_LEN) {\n                c = s.charAt(i);\n                if (!Character.isDigit(c))\n                    return false;\n                rslt += (c-'0')*j;\n            }\n            if (dfirst &gt;= MAX_INT_FIRSTDIGIT &amp;&amp; rslt &gt; MAX_INT_LASTDEC)\n                return false;\n            rslt += dfirst*j;\n        }\n        intBox._n=rslt;\n        return true;\n    }\n\n    // Get the value stored in an IntBoxSimple:\n    public int get_n() {\n        return _n;\n    }\n    public int v() { // alternative shorter version, v for \"value\"\n        return _n;\n    }\n    // Make objects of IntBoxSimple (needed as constructors are not public):\n    public static IntBoxSimple makeIntBoxSimple() {\n        return new IntBoxSimple();\n    }\n    public static IntBoxSimple makeIntBoxSimple(int integerNumber) {\n        return new IntBoxSimple(integerNumber);\n    }\n\n    // constructors are not public(!=:\n    protected IntBoxSimple() {} {\n        _n=0; // default value an IntBoxSimple holds\n    }\n    protected IntBoxSimple(int integerNumber) {\n        _n=integerNumber;\n    }\n}\n</code></pre>\n\n<p>Test/example program for class IntBoxSimple:</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\npublic class IntBoxSimpleTest {\n    public static void main (String args[]) {\n        IntBoxSimple ibs = IntBoxSimple.makeIntBoxSimple();\n        String in = null;\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        do {\n            System.out.printf(\n                    \"Enter an integer number in the range %d to %d:%n\",\n                        Integer.MIN_VALUE, Integer.MAX_VALUE);\n            try { in = br.readLine(); } catch (IOException ex) {}\n        } while(! IntBoxSimple.tryParse(in, ibs));\n        System.out.printf(\"The number you have entered was: %d%n\", ibs.v());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2243116,"reputation":5530,"user_id":1977151,"accept_rate":40,"display_name":"Vlasec"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473696668,"creation_date":1473696668,"answer_id":39454577,"question_id":1486077,"body_markdown":"What about **forking the parseInt** method?\r\n\r\nIt&#39;s easy, just copy-paste the contents to a new utility that returns `Integer` or `Optional&lt;Integer&gt;` and replace throws with returns. It seems there are no exceptions in the underlying code, *but better check*.\r\n\r\nBy skipping the whole exception handling stuff, you can save some time on invalid inputs. And the method is there since JDK 1.0, so it is not likely you will have to do much to keep it up-to-date.","title":"Good way to encapsulate Integer.parseInt()","body":"<p>What about <strong>forking the parseInt</strong> method?</p>\n\n<p>It's easy, just copy-paste the contents to a new utility that returns <code>Integer</code> or <code>Optional&lt;Integer&gt;</code> and replace throws with returns. It seems there are no exceptions in the underlying code, <em>but better check</em>.</p>\n\n<p>By skipping the whole exception handling stuff, you can save some time on invalid inputs. And the method is there since JDK 1.0, so it is not likely you will have to do much to keep it up-to-date.</p>\n"},{"tags":[],"owner":{"account_id":7411429,"reputation":78038,"user_id":5638630,"accept_rate":88,"display_name":"Krunal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501771753,"creation_date":1501759733,"answer_id":45482907,"question_id":1486077,"body_markdown":"Try with regular expression and default parameters argument\r\n\r\n    public static int parseIntWithDefault(String str, int defaultInt) {\r\n        return str.matches(&quot;-?\\\\d+&quot;) ? Integer.parseInt(str) : defaultInt;\r\n    }\r\n    \r\n    \r\n    int testId = parseIntWithDefault(&quot;1001&quot;, 0);\r\n    System.out.print(testId); // 1001\r\n    \r\n    int testId = parseIntWithDefault(&quot;test1001&quot;, 0);\r\n    System.out.print(testId); // 1001\r\n    \r\n    int testId = parseIntWithDefault(&quot;-1001&quot;, 0);\r\n    System.out.print(testId); // -1001\r\n    \r\n    int testId = parseIntWithDefault(&quot;test&quot;, 0);\r\n    System.out.print(testId); // 0\r\n\r\n\r\nif you&#39;re using apache.commons.lang3 then by using [NumberUtils][1]:\r\n\r\n    int testId = NumberUtils.toInt(&quot;test&quot;, 0);\r\n    System.out.print(testId); // 0\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/math/NumberUtils.html","title":"Good way to encapsulate Integer.parseInt()","body":"<p>Try with regular expression and default parameters argument</p>\n\n<pre><code>public static int parseIntWithDefault(String str, int defaultInt) {\n    return str.matches(\"-?\\\\d+\") ? Integer.parseInt(str) : defaultInt;\n}\n\n\nint testId = parseIntWithDefault(\"1001\", 0);\nSystem.out.print(testId); // 1001\n\nint testId = parseIntWithDefault(\"test1001\", 0);\nSystem.out.print(testId); // 1001\n\nint testId = parseIntWithDefault(\"-1001\", 0);\nSystem.out.print(testId); // -1001\n\nint testId = parseIntWithDefault(\"test\", 0);\nSystem.out.print(testId); // 0\n</code></pre>\n\n<p>if you're using apache.commons.lang3 then by using <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/math/NumberUtils.html\" rel=\"nofollow noreferrer\">NumberUtils</a>:</p>\n\n<pre><code>int testId = NumberUtils.toInt(\"test\", 0);\nSystem.out.print(testId); // 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":109351,"reputation":1467,"user_id":289782,"accept_rate":70,"display_name":"Searles"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518705306,"creation_date":1518705306,"answer_id":48809707,"question_id":1486077,"body_markdown":"I would like to throw in another proposal that works if one specifically requests integers: Simply use long and use Long.MIN_VALUE for error cases. This is similar to the approach that is used for chars in Reader where Reader.read() returns an integer in the range of a char or -1 if the reader is empty.\r\n\r\nFor Float and Double, NaN can be used in a similar way.\r\n\r\n    public static long parseInteger(String s) {\r\n        try {\r\n            return Integer.parseInt(s);\r\n        } catch (NumberFormatException e) {\r\n            return Long.MIN_VALUE;\r\n        }\r\n    }\r\n\r\n\r\n    // ...\r\n    long l = parseInteger(&quot;ABC&quot;);\r\n    if (l == Long.MIN_VALUE) {\r\n        // ... error\r\n    } else {\r\n        int i = (int) l;\r\n    }","title":"Good way to encapsulate Integer.parseInt()","body":"<p>I would like to throw in another proposal that works if one specifically requests integers: Simply use long and use Long.MIN_VALUE for error cases. This is similar to the approach that is used for chars in Reader where Reader.read() returns an integer in the range of a char or -1 if the reader is empty.</p>\n\n<p>For Float and Double, NaN can be used in a similar way.</p>\n\n<pre><code>public static long parseInteger(String s) {\n    try {\n        return Integer.parseInt(s);\n    } catch (NumberFormatException e) {\n        return Long.MIN_VALUE;\n    }\n}\n\n\n// ...\nlong l = parseInteger(\"ABC\");\nif (l == Long.MIN_VALUE) {\n    // ... error\n} else {\n    int i = (int) l;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3660223,"reputation":6093,"user_id":3050249,"display_name":"Miha_x64"},"score":0,"creation_date":1587078288,"post_id":49545211,"comment_id":108375795,"body_markdown":"&#171;Checks whether the String a valid Java number. Valid numbers include hexadecimal marked with the 0x qualifier, scientific notation and numbers marked with a type qualifier (e.g. 123L).&#187; This is not what can be parsed with `Integer.parseInt`.","body":"&#171;Checks whether the String a valid Java number. Valid numbers include hexadecimal marked with the 0x qualifier, scientific notation and numbers marked with a type qualifier (e.g. 123L).&#187; This is not what can be parsed with <code>Integer.parseInt</code>."},{"owner":{"account_id":35974,"reputation":1408,"user_id":102284,"accept_rate":72,"display_name":"Ragnar"},"score":0,"creation_date":1643887772,"post_id":49545211,"comment_id":125461220,"body_markdown":"Commons provides \n\n`NumberUtils.toInt`\n\n[https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/math/NumberUtils.html](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/math/NumberUtils.html#toInt-java.lang.String-)","body":"Commons provides   <code>NumberUtils.toInt</code>  <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/math/NumberUtils.html#toInt-java.lang.String-\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/apidocs/org/a&zwnj;&#8203;pache/commons/lang3/&zwnj;&#8203;math/NumberUtils.htm&zwnj;&#8203;l</a>"}],"tags":[],"owner":{"account_id":2689584,"reputation":460,"user_id":2323189,"display_name":"Bogdan Aksonenko"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1522276303,"creation_date":1522276303,"answer_id":49545211,"question_id":1486077,"body_markdown":"**You shouldn&#39;t use Exceptions to validate your values**.\r\n\r\nFor single character there is a simple solution:\r\n\r\n    Character.isDigit()\r\n\r\n\r\nFor longer values it&#39;s better to use some utils. NumberUtils provided by Apache would work perfectly here:\r\n\r\n    NumberUtils.isNumber()\r\n\r\nPlease check https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/math/NumberUtils.html","title":"Good way to encapsulate Integer.parseInt()","body":"<p><strong>You shouldn't use Exceptions to validate your values</strong>.</p>\n\n<p>For single character there is a simple solution:</p>\n\n<pre><code>Character.isDigit()\n</code></pre>\n\n<p>For longer values it's better to use some utils. NumberUtils provided by Apache would work perfectly here:</p>\n\n<pre><code>NumberUtils.isNumber()\n</code></pre>\n\n<p>Please check <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/math/NumberUtils.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/math/NumberUtils.html</a></p>\n"},{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1556452425,"creation_date":1556452425,"answer_id":55889996,"question_id":1486077,"body_markdown":"If you&#39;re using Java 8 or up, you can use a library I just released: https://github.com/robtimus/try-parse. It has support for int, long and boolean that doesn&#39;t rely on catching exceptions. Unlike Guava&#39;s Ints.tryParse it returns OptionalInt / OptionalLong / Optional&lt;Boolean&gt;, much like in https://stackoverflow.com/a/38451745/1180351 but more efficient.","title":"Good way to encapsulate Integer.parseInt()","body":"<p>If you're using Java 8 or up, you can use a library I just released: <a href=\"https://github.com/robtimus/try-parse\" rel=\"nofollow noreferrer\">https://github.com/robtimus/try-parse</a>. It has support for int, long and boolean that doesn't rely on catching exceptions. Unlike Guava's Ints.tryParse it returns OptionalInt / OptionalLong / Optional, much like in <a href=\"https://stackoverflow.com/a/38451745/1180351\">https://stackoverflow.com/a/38451745/1180351</a> but more efficient.</p>\n"},{"tags":[],"owner":{"account_id":3660223,"reputation":6093,"user_id":3050249,"display_name":"Miha_x64"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587079227,"creation_date":1587079227,"answer_id":61261708,"question_id":1486077,"body_markdown":"Considering existing answers, I&#39;ve copy-pasted and enhanced source code of `Integer.parseInt` to do the job, and my solution\r\n\r\n* does not use potentially slow try-catch (unlike [Lang 3 NumberUtils](https://github.com/apache/commons-lang/blob/02732d6132da6e720502f357e91e3937df76d8fa/src/main/java/org/apache/commons/lang3/math/NumberUtils.java#L128-L132)),\r\n* does not use regexps which can&#39;t catch too big numbers,\r\n* avoids boxing (unlike Guava&#39;s `Ints.tryParse()`),\r\n* does not require any allocations (unlike `int[]`, `Box`, `OptionalInt`),\r\n* accepts any `CharSequence` or a part of it instead of a whole `String`,\r\n* can use any radix which `Integer.parseInt` can, i.e. [2,36],\r\n* does not depend on any libraries.\r\n\r\n\r\nThe only downside is that there&#39;s no difference between `toIntOfDefault(&quot;-1&quot;, -1)` and `toIntOrDefault(&quot;oops&quot;, -1)`.\r\n\r\n```java\r\npublic static int toIntOrDefault(CharSequence s, int def) {\r\n    return toIntOrDefault0(s, 0, s.length(), 10, def);\r\n}\r\npublic static int toIntOrDefault(CharSequence s, int def, int radix) {\r\n    radixCheck(radix);\r\n    return toIntOrDefault0(s, 0, s.length(), radix, def);\r\n}\r\npublic static int toIntOrDefault(CharSequence s, int start, int endExclusive, int def) {\r\n    boundsCheck(start, endExclusive, s.length());\r\n    return toIntOrDefault0(s, start, endExclusive, 10, def);\r\n}\r\npublic static int toIntOrDefault(CharSequence s, int start, int endExclusive, int radix, int def) {\r\n    radixCheck(radix);\r\n    boundsCheck(start, endExclusive, s.length());\r\n    return toIntOrDefault0(s, start, endExclusive, radix, def);\r\n}\r\nprivate static int toIntOrDefault0(CharSequence s, int start, int endExclusive, int radix, int def) {\r\n    if (start == endExclusive) return def; // empty\r\n\r\n    boolean negative = false;\r\n    int limit = -Integer.MAX_VALUE;\r\n\r\n    char firstChar = s.charAt(start);\r\n    if (firstChar &lt; &#39;0&#39;) { // Possible leading &quot;+&quot; or &quot;-&quot;\r\n        if (firstChar == &#39;-&#39;) {\r\n            negative = true;\r\n            limit = Integer.MIN_VALUE;\r\n        } else if (firstChar != &#39;+&#39;) {\r\n            return def;\r\n        }\r\n\r\n        start++;\r\n        // Cannot have lone &quot;+&quot; or &quot;-&quot;\r\n        if (start == endExclusive) return def;\r\n    }\r\n    int multmin = limit / radix;\r\n    int result = 0;\r\n    while (start &lt; endExclusive) {\r\n        // Accumulating negatively avoids surprises near MAX_VALUE\r\n        int digit = Character.digit(s.charAt(start++), radix);\r\n        if (digit &lt; 0 || result &lt; multmin) return def;\r\n        result *= radix;\r\n        if (result &lt; limit + digit) return def;\r\n        result -= digit;\r\n    }\r\n    return negative ? result : -result;\r\n}\r\nprivate static void radixCheck(int radix) {\r\n    if (radix &lt; Character.MIN_RADIX || radix &gt; Character.MAX_RADIX)\r\n        throw new NumberFormatException(\r\n                &quot;radix=&quot; + radix + &quot; ∉ [&quot; +  Character.MIN_RADIX + &quot;,&quot; + Character.MAX_RADIX + &quot;]&quot;);\r\n}\r\nprivate static void boundsCheck(int start, int endExclusive, int len) {\r\n    if (start &lt; 0 || start &gt; len || start &gt; endExclusive)\r\n        throw new IndexOutOfBoundsException(&quot;start=&quot; + start + &quot; ∉ [0, min(&quot; + len + &quot;, &quot; + endExclusive + &quot;)]&quot;);\r\n    if (endExclusive &gt; len)\r\n        throw new IndexOutOfBoundsException(&quot;endExclusive=&quot; + endExclusive + &quot; &gt; s.length=&quot; + len);\r\n}\r\n```","title":"Good way to encapsulate Integer.parseInt()","body":"<p>Considering existing answers, I've copy-pasted and enhanced source code of <code>Integer.parseInt</code> to do the job, and my solution</p>\n\n<ul>\n<li>does not use potentially slow try-catch (unlike <a href=\"https://github.com/apache/commons-lang/blob/02732d6132da6e720502f357e91e3937df76d8fa/src/main/java/org/apache/commons/lang3/math/NumberUtils.java#L128-L132\" rel=\"nofollow noreferrer\">Lang 3 NumberUtils</a>),</li>\n<li>does not use regexps which can't catch too big numbers,</li>\n<li>avoids boxing (unlike Guava's <code>Ints.tryParse()</code>),</li>\n<li>does not require any allocations (unlike <code>int[]</code>, <code>Box</code>, <code>OptionalInt</code>),</li>\n<li>accepts any <code>CharSequence</code> or a part of it instead of a whole <code>String</code>,</li>\n<li>can use any radix which <code>Integer.parseInt</code> can, i.e. [2,36],</li>\n<li>does not depend on any libraries.</li>\n</ul>\n\n<p>The only downside is that there's no difference between <code>toIntOfDefault(\"-1\", -1)</code> and <code>toIntOrDefault(\"oops\", -1)</code>.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static int toIntOrDefault(CharSequence s, int def) {\n    return toIntOrDefault0(s, 0, s.length(), 10, def);\n}\npublic static int toIntOrDefault(CharSequence s, int def, int radix) {\n    radixCheck(radix);\n    return toIntOrDefault0(s, 0, s.length(), radix, def);\n}\npublic static int toIntOrDefault(CharSequence s, int start, int endExclusive, int def) {\n    boundsCheck(start, endExclusive, s.length());\n    return toIntOrDefault0(s, start, endExclusive, 10, def);\n}\npublic static int toIntOrDefault(CharSequence s, int start, int endExclusive, int radix, int def) {\n    radixCheck(radix);\n    boundsCheck(start, endExclusive, s.length());\n    return toIntOrDefault0(s, start, endExclusive, radix, def);\n}\nprivate static int toIntOrDefault0(CharSequence s, int start, int endExclusive, int radix, int def) {\n    if (start == endExclusive) return def; // empty\n\n    boolean negative = false;\n    int limit = -Integer.MAX_VALUE;\n\n    char firstChar = s.charAt(start);\n    if (firstChar &lt; '0') { // Possible leading \"+\" or \"-\"\n        if (firstChar == '-') {\n            negative = true;\n            limit = Integer.MIN_VALUE;\n        } else if (firstChar != '+') {\n            return def;\n        }\n\n        start++;\n        // Cannot have lone \"+\" or \"-\"\n        if (start == endExclusive) return def;\n    }\n    int multmin = limit / radix;\n    int result = 0;\n    while (start &lt; endExclusive) {\n        // Accumulating negatively avoids surprises near MAX_VALUE\n        int digit = Character.digit(s.charAt(start++), radix);\n        if (digit &lt; 0 || result &lt; multmin) return def;\n        result *= radix;\n        if (result &lt; limit + digit) return def;\n        result -= digit;\n    }\n    return negative ? result : -result;\n}\nprivate static void radixCheck(int radix) {\n    if (radix &lt; Character.MIN_RADIX || radix &gt; Character.MAX_RADIX)\n        throw new NumberFormatException(\n                \"radix=\" + radix + \" ∉ [\" +  Character.MIN_RADIX + \",\" + Character.MAX_RADIX + \"]\");\n}\nprivate static void boundsCheck(int start, int endExclusive, int len) {\n    if (start &lt; 0 || start &gt; len || start &gt; endExclusive)\n        throw new IndexOutOfBoundsException(\"start=\" + start + \" ∉ [0, min(\" + len + \", \" + endExclusive + \")]\");\n    if (endExclusive &gt; len)\n        throw new IndexOutOfBoundsException(\"endExclusive=\" + endExclusive + \" &gt; s.length=\" + len);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8554724,"reputation":683,"user_id":6410649,"display_name":"A. Mark&#243;czy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603442716,"creation_date":1603442716,"answer_id":64496801,"question_id":1486077,"body_markdown":"Maybe someone is looking for a more generic approach, since Java 8 there is the Package `java.util.function` that allows to define Supplier Functions. You could have a function that takes a supplier and a default value as follows:\r\n\r\n```java\r\npublic static &lt;T&gt; T tryGetOrDefault(Supplier&lt;T&gt; supplier, T defaultValue) {\r\n    try {\r\n        return supplier.get();\r\n    } catch (Exception e) {\r\n        return defaultValue;\r\n    }\r\n}\r\n```\r\n\r\nWith this function, you can execute any parsing method or even other methods that could throw an Exception while ensuring that no Exception can ever be thrown:\r\n\r\n```java\r\nInteger i = tryGetOrDefault(() -&gt; Integer.parseInt(stringValue), 0);\r\nLong l = tryGetOrDefault(() -&gt; Long.parseLong(stringValue), 0l);\r\nDouble d = tryGetOrDefault(() -&gt; Double.parseDouble(stringValue), 0d);\r\n```","title":"Good way to encapsulate Integer.parseInt()","body":"<p>Maybe someone is looking for a more generic approach, since Java 8 there is the Package <code>java.util.function</code> that allows to define Supplier Functions. You could have a function that takes a supplier and a default value as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; T tryGetOrDefault(Supplier&lt;T&gt; supplier, T defaultValue) {\n    try {\n        return supplier.get();\n    } catch (Exception e) {\n        return defaultValue;\n    }\n}\n</code></pre>\n<p>With this function, you can execute any parsing method or even other methods that could throw an Exception while ensuring that no Exception can ever be thrown:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer i = tryGetOrDefault(() -&gt; Integer.parseInt(stringValue), 0);\nLong l = tryGetOrDefault(() -&gt; Long.parseLong(stringValue), 0l);\nDouble d = tryGetOrDefault(() -&gt; Double.parseDouble(stringValue), 0d);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16914721,"reputation":21,"user_id":12232994,"display_name":"Andi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641288322,"creation_date":1641288322,"answer_id":70576568,"question_id":1486077,"body_markdown":"I know that this is quite an old question, but I was looking for a modern solution to solve that issue.\r\n\r\nI came up with the following solution:\r\n\r\n    public static OptionalInt tryParseInt(String string) {\r\n\t\ttry {\r\n\t\t\treturn OptionalInt.of(Integer.parseInt(string));\r\n\t\t} catch (NumberFormatException e) {\r\n\t\t\treturn OptionalInt.empty();\r\n\t\t}\r\n\t}\r\n\r\nUsage:\r\n\r\n    @Test\r\n\tpublic void testTryParseIntPositive() {\r\n\t\t// given\r\n\t\tint expected = 5;\r\n\t\tString value = &quot;&quot; + expected;\r\n\r\n\t\t// when\r\n\t\tOptionalInt optionalInt = tryParseInt(value);\r\n\r\n\t\t// then\r\n\t\tAssert.assertTrue(optionalInt.isPresent());\r\n\t\tAssert.assertEquals(expected, optionalInt.getAsInt());\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testTryParseIntNegative() {\r\n\t\t// given\r\n\t\tint expected = 5;\r\n\t\tString value = &quot;x&quot; + expected;\r\n\r\n\t\t// when\r\n\t\tOptionalInt optionalInt = tryParseInt(value);\r\n\r\n\t\t// then\r\n\t\tAssert.assertTrue(optionalInt.isEmpty());\r\n\t}","title":"Good way to encapsulate Integer.parseInt()","body":"<p>I know that this is quite an old question, but I was looking for a modern solution to solve that issue.</p>\n<p>I came up with the following solution:</p>\n<pre><code>public static OptionalInt tryParseInt(String string) {\n    try {\n        return OptionalInt.of(Integer.parseInt(string));\n    } catch (NumberFormatException e) {\n        return OptionalInt.empty();\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>@Test\npublic void testTryParseIntPositive() {\n    // given\n    int expected = 5;\n    String value = &quot;&quot; + expected;\n\n    // when\n    OptionalInt optionalInt = tryParseInt(value);\n\n    // then\n    Assert.assertTrue(optionalInt.isPresent());\n    Assert.assertEquals(expected, optionalInt.getAsInt());\n}\n\n@Test\npublic void testTryParseIntNegative() {\n    // given\n    int expected = 5;\n    String value = &quot;x&quot; + expected;\n\n    // when\n    OptionalInt optionalInt = tryParseInt(value);\n\n    // then\n    Assert.assertTrue(optionalInt.isEmpty());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15294318,"reputation":69,"user_id":11034928,"display_name":"REghZY"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665167735,"creation_date":1665165862,"answer_id":73991064,"question_id":1486077,"body_markdown":"I&#39;ve been using a helper class that contains a static Queue of parsed values, and I find it to look quite clean. This would be the helper class could look like:\r\n\r\n    public static class Parsing {\r\n        // Could optimise with specific queues for primitive types\r\n        // and also using a circular queue, instead of LinkedList\r\n        private static final Queue&lt;Number&gt; QUEUE = new LinkedList&lt;Number&gt;();\r\n    \r\n        public static boolean parseInt(String value) {\r\n            // Could implement custom integer parsing here, which does not throw\r\n            try {\r\n                QUEUE.offer(Integer.parseInt(value));\r\n                return true;\r\n            }\r\n            catch (Throwable ignored) {\r\n                return false;\r\n            }\r\n        }\r\n        public static int getInt() {\r\n            return QUEUE.remove().intValue(); // user&#39;s fault if this throws :)\r\n        }\r\n    }\r\n\r\nAnd then in code, you use it like this:\r\n\r\n    public Vector3 parseVector(String content) {\r\n        if (Parsing.parseInt(content)) {\r\n            return new Vector3(Parsing.getInt());\r\n        }\r\n        else {\r\n            String[] parts = content.split(&quot;,&quot;);\r\n            if (Parsing.parseInt(parts[0]) &amp;&amp; Parsing.parseInt(parts[1]) &amp;&amp; Parsing.parseInt(parts[2])) {\r\n                // the queue ensures these are in the same order they are parsed\r\n                return new Vector3(Parsing.getInt(), Parsing.getInt(), Parsing.getInt());\r\n            }\r\n            else {\r\n                throw new RuntimeException(&quot;Invalid Vector3&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nThe only problem with this, is that if you use multiple calls like i did above, but maybe the last one fails, then you&#39;d have to roll back or clear the queue\r\n\r\nEdit: You could remove the above problem and include some thread safely, by making the class non-static and, maybe for slightly cleaner code, make the class implement AutoCloseable so that you could do something like this:\r\n\r\n    public Vector3 parseVector(String content) {\r\n        try (Parsing parser = Parsing.of()) {\r\n            if (parser.parseInt(content)) {\r\n                return new Vector3(parser.getInt());\r\n            }\r\n            else {\r\n                String[] parts = content.split(&quot;,&quot;);\r\n                if (parser.parseInt(parts[0]) &amp;&amp; parser.parseInt(parts[1]) &amp;&amp; parser.parseInt(parts[2])) {\r\n                    // the queue ensures these are in the same order they are parsed\r\n                    return new Vector3(parser.getInt(), parser.getInt(), parser.getInt());\r\n                }\r\n                else {\r\n                    throw new RuntimeException(&quot;Invalid Vector3&quot;);\r\n                }\r\n            }   \r\n        }\r\n    }","title":"Good way to encapsulate Integer.parseInt()","body":"<p>I've been using a helper class that contains a static Queue of parsed values, and I find it to look quite clean. This would be the helper class could look like:</p>\n<pre><code>public static class Parsing {\n    // Could optimise with specific queues for primitive types\n    // and also using a circular queue, instead of LinkedList\n    private static final Queue&lt;Number&gt; QUEUE = new LinkedList&lt;Number&gt;();\n\n    public static boolean parseInt(String value) {\n        // Could implement custom integer parsing here, which does not throw\n        try {\n            QUEUE.offer(Integer.parseInt(value));\n            return true;\n        }\n        catch (Throwable ignored) {\n            return false;\n        }\n    }\n    public static int getInt() {\n        return QUEUE.remove().intValue(); // user's fault if this throws :)\n    }\n}\n</code></pre>\n<p>And then in code, you use it like this:</p>\n<pre><code>public Vector3 parseVector(String content) {\n    if (Parsing.parseInt(content)) {\n        return new Vector3(Parsing.getInt());\n    }\n    else {\n        String[] parts = content.split(&quot;,&quot;);\n        if (Parsing.parseInt(parts[0]) &amp;&amp; Parsing.parseInt(parts[1]) &amp;&amp; Parsing.parseInt(parts[2])) {\n            // the queue ensures these are in the same order they are parsed\n            return new Vector3(Parsing.getInt(), Parsing.getInt(), Parsing.getInt());\n        }\n        else {\n            throw new RuntimeException(&quot;Invalid Vector3&quot;);\n        }\n    }\n}\n</code></pre>\n<p>The only problem with this, is that if you use multiple calls like i did above, but maybe the last one fails, then you'd have to roll back or clear the queue</p>\n<p>Edit: You could remove the above problem and include some thread safely, by making the class non-static and, maybe for slightly cleaner code, make the class implement AutoCloseable so that you could do something like this:</p>\n<pre><code>public Vector3 parseVector(String content) {\n    try (Parsing parser = Parsing.of()) {\n        if (parser.parseInt(content)) {\n            return new Vector3(parser.getInt());\n        }\n        else {\n            String[] parts = content.split(&quot;,&quot;);\n            if (parser.parseInt(parts[0]) &amp;&amp; parser.parseInt(parts[1]) &amp;&amp; parser.parseInt(parts[2])) {\n                // the queue ensures these are in the same order they are parsed\n                return new Vector3(parser.getInt(), parser.getInt(), parser.getInt());\n            }\n            else {\n                throw new RuntimeException(&quot;Invalid Vector3&quot;);\n            }\n        }   \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":560872,"reputation":1123,"user_id":180209,"display_name":"Bad Horse"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254128,"favorite_count":0,"down_vote_count":0,"up_vote_count":112,"accepted_answer_id":1486082,"answer_count":27,"score":112,"last_activity_date":1701435549,"creation_date":1254128529,"question_id":1486077,"body_markdown":"I have a project in which we often use `Integer.parseInt()` to convert a String to an int. When something goes wrong (for example, the `String` is not a number but the letter `a`, or whatever) this method will throw an exception. However, if I have to handle exceptions in my code everywhere, this starts to look very ugly very quickly. I would like to put this in a method, however, I have no clue how to return a clean value in order to show that the conversion went wrong. \r\n\r\nIn C++ I could have created a method that accepted a pointer to an int and let the method itself return true or false. However, as far as I know, this is not possible in Java. I could also create an object that contains a true/false variable and the converted value, but this does not seem ideal either. The same thing goes for a global value, and this might give me some trouble with multithreading. \r\n\r\nSo is there a clean way to do this? ","title":"Good way to encapsulate Integer.parseInt()","body":"<p>I have a project in which we often use <code>Integer.parseInt()</code> to convert a String to an int. When something goes wrong (for example, the <code>String</code> is not a number but the letter <code>a</code>, or whatever) this method will throw an exception. However, if I have to handle exceptions in my code everywhere, this starts to look very ugly very quickly. I would like to put this in a method, however, I have no clue how to return a clean value in order to show that the conversion went wrong. </p>\n\n<p>In C++ I could have created a method that accepted a pointer to an int and let the method itself return true or false. However, as far as I know, this is not possible in Java. I could also create an object that contains a true/false variable and the converted value, but this does not seem ideal either. The same thing goes for a global value, and this might give me some trouble with multithreading. </p>\n\n<p>So is there a clean way to do this? </p>\n"},{"tags":["java","xquery","saxon"],"comments":[{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1701428464,"post_id":77584676,"comment_id":136777155,"body_markdown":"You could enclose each result in an xml tag. Can you provide a sample input to test on ?","body":"You could enclose each result in an xml tag. Can you provide a sample input to test on ?"},{"owner":{"account_id":6642,"reputation":13384,"user_id":11249,"accept_rate":51,"display_name":"paul"},"score":0,"creation_date":1701430741,"post_id":77584676,"comment_id":136777548,"body_markdown":"@Aaron I have wondered about that but wanted to keep it simple. However, it might not be a bad idea: `&lt;r&gt;&lt;c name=&quot;Expected&quot; type=&quot;string&quot;&gt;$x/expectedValue/rawValue&lt;/c&gt;&lt;c `etc...","body":"@Aaron I have wondered about that but wanted to keep it simple. However, it might not be a bad idea: <code>&lt;r&gt;&lt;c name=&quot;Expected&quot; type=&quot;string&quot;&gt;$x&#47;expectedValue&#47;rawValue&lt;&#47;c&gt;&lt;c </code>etc..."},{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1701432940,"post_id":77584676,"comment_id":136777865,"body_markdown":"You haven&#39;t really shown or explained what fails, the `XdmValue eval = evaluator.evaluate();` will give you an `XdmValue`, I don&#39;t know what you do afterwards or what the `XQueryResult` type is, but whether you process a sequence of three or four items should not break code trying to process a sequence of an arbitrary number of items. Of course in XQuery 3.1 with arrays and maps you are not bound to work with (always flat) sequences but could e.g. try to return a map with four properties where then on would have an empty sequence as the value.","body":"You haven&#39;t really shown or explained what fails, the <code>XdmValue eval = evaluator.evaluate();</code> will give you an <code>XdmValue</code>, I don&#39;t know what you do afterwards or what the <code>XQueryResult</code> type is, but whether you process a sequence of three or four items should not break code trying to process a sequence of an arbitrary number of items. Of course in XQuery 3.1 with arrays and maps you are not bound to work with (always flat) sequences but could e.g. try to return a map with four properties where then on would have an empty sequence as the value."},{"owner":{"account_id":6642,"reputation":13384,"user_id":11249,"accept_rate":51,"display_name":"paul"},"score":0,"creation_date":1701435504,"post_id":77584676,"comment_id":136778315,"body_markdown":"@MartinHonnen I added a bit more info to suggest what my approach is and why a problem occurs when an item is not added to the sequence. I wasn&#39;t aware of the map possibility but that would be better for me","body":"@MartinHonnen I added a bit more info to suggest what my approach is and why a problem occurs when an item is not added to the sequence. I wasn&#39;t aware of the map possibility but that would be better for me"}],"answers":[{"tags":[],"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701435035,"creation_date":1701435035,"answer_id":77585399,"question_id":77584676,"body_markdown":"Here is an example of returning a sequence of maps with four properties where the value of one property can be an empty sequence:\r\n\r\nInput XML:\r\n\r\n    &lt;root id=&quot;test-suite1&quot;&gt;\r\n      &lt;item&gt;\r\n        &lt;status&gt;passed&lt;/status&gt;\r\n        &lt;expected&gt;a&lt;/expected&gt;\r\n        &lt;returned&gt;a&lt;/returned&gt;\r\n      &lt;/item&gt;\r\n      &lt;item&gt;\r\n        &lt;status&gt;failed&lt;/status&gt;\r\n        &lt;expected&gt;d&lt;/expected&gt;\r\n        &lt;returned&gt;e&lt;/returned&gt;\r\n      &lt;/item&gt;\r\n     &lt;item&gt;\r\n        &lt;status&gt;failed&lt;/status&gt;\r\n        &lt;expected&gt;f&lt;/expected&gt;\r\n      &lt;/item&gt;\r\n    &lt;/root&gt;\r\n\r\nXQuery code:\r\n\r\n    declare namespace output = &#39;http://www.w3.org/2010/xslt-xquery-serialization&#39;;\r\n    \r\n    declare option output:method &#39;adaptive&#39;;\r\n    \r\n    for $item in root/item\r\n    return map {\r\n      &#39;id&#39; : /root/@id =&gt; data(),\r\n      &#39;status&#39; : $item/status =&gt; data(),\r\n      &#39;expected&#39; : $item/expected =&gt; data(),\r\n      &#39;returned&#39; : $item/returned =&gt; data()\r\n    }\r\n\r\nSerialized result:\r\n\r\n    map{&quot;returned&quot;:&quot;a&quot;,&quot;status&quot;:&quot;passed&quot;,&quot;expected&quot;:&quot;a&quot;,&quot;id&quot;:&quot;test-suite1&quot;}\r\n    map{&quot;returned&quot;:&quot;e&quot;,&quot;status&quot;:&quot;failed&quot;,&quot;expected&quot;:&quot;d&quot;,&quot;id&quot;:&quot;test-suite1&quot;}\r\n    map{&quot;returned&quot;:(),&quot;status&quot;:&quot;failed&quot;,&quot;expected&quot;:&quot;f&quot;,&quot;id&quot;:&quot;test-suite1&quot;}\r\n\r\n[Online example][1].\r\n\r\n\r\n  [1]: https://martin-honnen.github.io/cheerpj-saxon-worker/index-workbench.html?code=declare%20namespace%20output%20%3D%20%27http%3A%2F%2Fwww.w3.org%2F2010%2Fxslt-xquery-serialization%27%3B%0A%0Adeclare%20option%20output%3Amethod%20%27adaptive%27%3B%0A%0Afor%20%24item%20in%20root%2Fitem%0Areturn%20map%20%7B%0A%20%20%27id%27%20%3A%20%2Froot%2F%40id%20%3D%3E%20data%28%29%2C%0A%20%20%27status%27%20%3A%20%24item%2Fstatus%20%3D%3E%20data%28%29%2C%0A%20%20%27expected%27%20%3A%20%24item%2Fexpected%20%3D%3E%20data%28%29%2C%0A%20%20%27returned%27%20%3A%20%24item%2Freturned%20%3D%3E%20data%28%29%0A%7D%0A&amp;input=%3Croot%20id%3D%22test-suite1%22%3E%0A%20%20%3Citem%3E%0A%20%20%20%20%3Cstatus%3Epassed%3C%2Fstatus%3E%0A%20%20%20%20%3Cexpected%3Ea%3C%2Fexpected%3E%0A%20%20%20%20%3Creturned%3Ea%3C%2Freturned%3E%0A%20%20%3C%2Fitem%3E%0A%20%20%3Citem%3E%0A%20%20%20%20%3Cstatus%3Efailed%3C%2Fstatus%3E%0A%20%20%20%20%3Cexpected%3Ed%3C%2Fexpected%3E%0A%20%20%20%20%3Creturned%3Ee%3C%2Freturned%3E%0A%20%20%3C%2Fitem%3E%0A%20%3Citem%3E%0A%20%20%20%20%3Cstatus%3Efailed%3C%2Fstatus%3E%0A%20%20%20%20%3Cexpected%3Ef%3C%2Fexpected%3E%0A%20%20%3C%2Fitem%3E%0A%3C%2Froot%3E%0A&amp;code-type=XQuery&amp;input-type=XML","title":"How to handle multiple values returned by Saxon XQuery processor when one value is undefined?","body":"<p>Here is an example of returning a sequence of maps with four properties where the value of one property can be an empty sequence:</p>\n<p>Input XML:</p>\n<pre><code>&lt;root id=&quot;test-suite1&quot;&gt;\n  &lt;item&gt;\n    &lt;status&gt;passed&lt;/status&gt;\n    &lt;expected&gt;a&lt;/expected&gt;\n    &lt;returned&gt;a&lt;/returned&gt;\n  &lt;/item&gt;\n  &lt;item&gt;\n    &lt;status&gt;failed&lt;/status&gt;\n    &lt;expected&gt;d&lt;/expected&gt;\n    &lt;returned&gt;e&lt;/returned&gt;\n  &lt;/item&gt;\n &lt;item&gt;\n    &lt;status&gt;failed&lt;/status&gt;\n    &lt;expected&gt;f&lt;/expected&gt;\n  &lt;/item&gt;\n&lt;/root&gt;\n</code></pre>\n<p>XQuery code:</p>\n<pre><code>declare namespace output = 'http://www.w3.org/2010/xslt-xquery-serialization';\n\ndeclare option output:method 'adaptive';\n\nfor $item in root/item\nreturn map {\n  'id' : /root/@id =&gt; data(),\n  'status' : $item/status =&gt; data(),\n  'expected' : $item/expected =&gt; data(),\n  'returned' : $item/returned =&gt; data()\n}\n</code></pre>\n<p>Serialized result:</p>\n<pre><code>map{&quot;returned&quot;:&quot;a&quot;,&quot;status&quot;:&quot;passed&quot;,&quot;expected&quot;:&quot;a&quot;,&quot;id&quot;:&quot;test-suite1&quot;}\nmap{&quot;returned&quot;:&quot;e&quot;,&quot;status&quot;:&quot;failed&quot;,&quot;expected&quot;:&quot;d&quot;,&quot;id&quot;:&quot;test-suite1&quot;}\nmap{&quot;returned&quot;:(),&quot;status&quot;:&quot;failed&quot;,&quot;expected&quot;:&quot;f&quot;,&quot;id&quot;:&quot;test-suite1&quot;}\n</code></pre>\n<p><a href=\"https://martin-honnen.github.io/cheerpj-saxon-worker/index-workbench.html?code=declare%20namespace%20output%20%3D%20%27http%3A%2F%2Fwww.w3.org%2F2010%2Fxslt-xquery-serialization%27%3B%0A%0Adeclare%20option%20output%3Amethod%20%27adaptive%27%3B%0A%0Afor%20%24item%20in%20root%2Fitem%0Areturn%20map%20%7B%0A%20%20%27id%27%20%3A%20%2Froot%2F%40id%20%3D%3E%20data%28%29%2C%0A%20%20%27status%27%20%3A%20%24item%2Fstatus%20%3D%3E%20data%28%29%2C%0A%20%20%27expected%27%20%3A%20%24item%2Fexpected%20%3D%3E%20data%28%29%2C%0A%20%20%27returned%27%20%3A%20%24item%2Freturned%20%3D%3E%20data%28%29%0A%7D%0A&amp;input=%3Croot%20id%3D%22test-suite1%22%3E%0A%20%20%3Citem%3E%0A%20%20%20%20%3Cstatus%3Epassed%3C%2Fstatus%3E%0A%20%20%20%20%3Cexpected%3Ea%3C%2Fexpected%3E%0A%20%20%20%20%3Creturned%3Ea%3C%2Freturned%3E%0A%20%20%3C%2Fitem%3E%0A%20%20%3Citem%3E%0A%20%20%20%20%3Cstatus%3Efailed%3C%2Fstatus%3E%0A%20%20%20%20%3Cexpected%3Ed%3C%2Fexpected%3E%0A%20%20%20%20%3Creturned%3Ee%3C%2Freturned%3E%0A%20%20%3C%2Fitem%3E%0A%20%3Citem%3E%0A%20%20%20%20%3Cstatus%3Efailed%3C%2Fstatus%3E%0A%20%20%20%20%3Cexpected%3Ef%3C%2Fexpected%3E%0A%20%20%3C%2Fitem%3E%0A%3C%2Froot%3E%0A&amp;code-type=XQuery&amp;input-type=XML\" rel=\"nofollow noreferrer\">Online example</a>.</p>\n"},{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701435233,"creation_date":1701435233,"answer_id":77585416,"question_id":77584676,"body_markdown":"The &quot;,&quot; operator does sequence concatenation, which means empty sequences get lost: the result of `(&quot;a&quot;, (), &quot;b&quot;)` is `(&quot;a&quot;, &quot;b&quot;)`.\r\n\r\nOne solution would be to return an array instead of a sequence:\r\n\r\n    return [/*/operatorId, \r\n            $x/status, \r\n            $x/expectedValue/rawValue, \r\n            $x/inputValue/rawValue]\r\n\r\nYou should then be able to cast the result in the Java code to `XdmArray`, and convert this to a Java list of length 4 using `XdmArray.asList()`","title":"How to handle multiple values returned by Saxon XQuery processor when one value is undefined?","body":"<p>The &quot;,&quot; operator does sequence concatenation, which means empty sequences get lost: the result of <code>(&quot;a&quot;, (), &quot;b&quot;)</code> is <code>(&quot;a&quot;, &quot;b&quot;)</code>.</p>\n<p>One solution would be to return an array instead of a sequence:</p>\n<pre><code>return [/*/operatorId, \n        $x/status, \n        $x/expectedValue/rawValue, \n        $x/inputValue/rawValue]\n</code></pre>\n<p>You should then be able to cast the result in the Java code to <code>XdmArray</code>, and convert this to a Java list of length 4 using <code>XdmArray.asList()</code></p>\n"}],"owner":{"account_id":6642,"reputation":13384,"user_id":11249,"accept_rate":51,"display_name":"paul"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77585416,"answer_count":2,"score":0,"last_activity_date":1701435274,"creation_date":1701427363,"question_id":77584676,"body_markdown":"I am trying to use the Saxon HE XQuery processor in a Java app to perform ad-hoc queries on XML documents.\r\n\r\nFor example:\r\n\r\n```\r\nfor $x in //TestHistory[last()]/results/TestResult\r\nwhere $x/status = &#39;TestedFailed&#39;\r\nreturn (/*/operatorId, \r\n        $x/status, \r\n        $x/expectedValue/rawValue, \r\n        $x/inputValue/rawValue)\r\n```\r\n\r\nHere I am gathering 4 values per hit. \r\n\r\nThe Java code is\r\n\r\n```\r\nProcessor processor = new Processor(false);\r\nXQueryCompiler compiler = processor.newXQueryCompiler();\r\nXQueryExecutable exec = compiler.compile(query.getQuery());\r\nXQueryEvaluator evaluator = exec.load();\r\n\r\nXdmNode xmlDoc = processor.newDocumentBuilder().build(file);\r\nevaluator.setSource(xmlDoc.asSource());\r\n\r\nXdmValue eval = evaluator.evaluate();\r\n\r\nint idx = 0;\r\nint cols = 4;\r\nint rows = eval.size/cols;\r\nString[][] result = new String[rows][cols];\r\n\r\n//foreach item in eval fill array\r\n```\r\n\r\n`eval` contains a simple sequence of `XdmItem`s which I can process - assuming that there are 4 items per row.\r\n\r\nHowever, if the node `inputValue/rawValue` has not been defined (which is sometimes the case) there is no corresponding `XdmItem` entry and my processing approach (4 items per row) no longer works.\r\n\r\nHow can I force each requested attribute to have a corresponding `XdmItem` in the result?","title":"How to handle multiple values returned by Saxon XQuery processor when one value is undefined?","body":"<p>I am trying to use the Saxon HE XQuery processor in a Java app to perform ad-hoc queries on XML documents.</p>\n<p>For example:</p>\n<pre><code>for $x in //TestHistory[last()]/results/TestResult\nwhere $x/status = 'TestedFailed'\nreturn (/*/operatorId, \n        $x/status, \n        $x/expectedValue/rawValue, \n        $x/inputValue/rawValue)\n</code></pre>\n<p>Here I am gathering 4 values per hit.</p>\n<p>The Java code is</p>\n<pre><code>Processor processor = new Processor(false);\nXQueryCompiler compiler = processor.newXQueryCompiler();\nXQueryExecutable exec = compiler.compile(query.getQuery());\nXQueryEvaluator evaluator = exec.load();\n\nXdmNode xmlDoc = processor.newDocumentBuilder().build(file);\nevaluator.setSource(xmlDoc.asSource());\n\nXdmValue eval = evaluator.evaluate();\n\nint idx = 0;\nint cols = 4;\nint rows = eval.size/cols;\nString[][] result = new String[rows][cols];\n\n//foreach item in eval fill array\n</code></pre>\n<p><code>eval</code> contains a simple sequence of <code>XdmItem</code>s which I can process - assuming that there are 4 items per row.</p>\n<p>However, if the node <code>inputValue/rawValue</code> has not been defined (which is sometimes the case) there is no corresponding <code>XdmItem</code> entry and my processing approach (4 items per row) no longer works.</p>\n<p>How can I force each requested attribute to have a corresponding <code>XdmItem</code> in the result?</p>\n"},{"tags":["java","spring","spring-cache"],"answers":[{"tags":[],"owner":{"account_id":2573819,"reputation":15175,"user_id":2231972,"display_name":"Roman-Stop RU aggression in UA"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1383572319,"creation_date":1383572319,"answer_id":19768893,"question_id":19768481,"body_markdown":"Spring doesn&#39;t offer this out of the box but it supports [adapters][1] and you may use for example [guava adapter][2] which among other things allows configure expiration timeout.\r\n\r\n    &lt;bean id=&quot;cacheManager&quot; class=&quot;org.springframework.cache.support.SimpleCacheManager&quot;&gt;\r\n      &lt;property name=&quot;caches&quot;&gt;\r\n        &lt;list&gt;\r\n          &lt;bean name=&quot;testCache&quot;\r\n                class=&quot;org.hypoport.springGuavaCacheAdapter.SpringGuavaCacheAdapter&quot;&gt;\r\n            &lt;property name=&quot;expireAfterAccessInSeconds&quot; value=&quot;10&quot;/&gt;\r\n            &lt;property name=&quot;expireAfterWriteInSeconds&quot; value=&quot;10&quot;/&gt;\r\n          &lt;/bean&gt;\r\n        &lt;/list&gt;\r\n      &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/3.1.0.M1/spring-framework-reference/html/cache.html#cache-plug\r\n  [2]: https://github.com/hypoport/spring-guava-cache-adapter","title":"settings spring @cacheable to cache for 10 seconds","body":"<p>Spring doesn't offer this out of the box but it supports <a href=\"http://docs.spring.io/spring/docs/3.1.0.M1/spring-framework-reference/html/cache.html#cache-plug\" rel=\"nofollow\">adapters</a> and you may use for example <a href=\"https://github.com/hypoport/spring-guava-cache-adapter\" rel=\"nofollow\">guava adapter</a> which among other things allows configure expiration timeout.</p>\n\n<pre><code>&lt;bean id=\"cacheManager\" class=\"org.springframework.cache.support.SimpleCacheManager\"&gt;\n  &lt;property name=\"caches\"&gt;\n    &lt;list&gt;\n      &lt;bean name=\"testCache\"\n            class=\"org.hypoport.springGuavaCacheAdapter.SpringGuavaCacheAdapter\"&gt;\n        &lt;property name=\"expireAfterAccessInSeconds\" value=\"10\"/&gt;\n        &lt;property name=\"expireAfterWriteInSeconds\" value=\"10\"/&gt;\n      &lt;/bean&gt;\n    &lt;/list&gt;\n  &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":101108,"reputation":13957,"user_id":272180,"accept_rate":62,"display_name":"yglodt"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1500810274,"creation_date":1434006107,"answer_id":30773804,"question_id":19768481,"body_markdown":"You can use a Scheduler to periodically call a service method which evicts the caches.\r\n\r\nScheduler:\r\n\r\n    import org.springframework.scheduling.annotation.Scheduled;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n\r\n    public class Scheduler {\r\n\r\n            @Autowired\r\n            private SomeService someService;\r\n\r\n            @Scheduled(fixedRate = 10000)\r\n            public void evictCaches() {\r\n                    someService.evictCaches();\r\n            }\r\n    }\r\n\r\nService:\r\n\r\n    import org.springframework.cache.annotation.CacheEvict;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n\r\n    @Service\r\n    @Transactional\r\n    public class SomeService {\r\n\r\n            @CacheEvict(value = { &quot;cache1&quot;, &quot;cache2&quot; }, allEntries = true)\r\n            public void evictAllCaches() {\r\n            }\r\n    }\r\n","title":"settings spring @cacheable to cache for 10 seconds","body":"<p>You can use a Scheduler to periodically call a service method which evicts the caches.</p>\n\n<p>Scheduler:</p>\n\n<pre><code>import org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.beans.factory.annotation.Autowired;\n\npublic class Scheduler {\n\n        @Autowired\n        private SomeService someService;\n\n        @Scheduled(fixedRate = 10000)\n        public void evictCaches() {\n                someService.evictCaches();\n        }\n}\n</code></pre>\n\n<p>Service:</p>\n\n<pre><code>import org.springframework.cache.annotation.CacheEvict;\nimport org.springframework.transaction.annotation.Transactional;\n\n@Service\n@Transactional\npublic class SomeService {\n\n        @CacheEvict(value = { \"cache1\", \"cache2\" }, allEntries = true)\n        public void evictAllCaches() {\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20475886,"reputation":1,"user_id":15025240,"display_name":"Ferhat C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701434978,"creation_date":1701434978,"answer_id":77585393,"question_id":19768481,"body_markdown":"You can solve it with a LocalDateTime object. For example:\r\n\r\n    @Cacheable(value=&quot;forecast&quot;, key = &quot;#date.toString()&quot;)\r\n    public void forecast(LocalDateTime date){\r\n        //\r\n    }\r\n    public void call(){\r\n            LocalDateTime dateTime = LocalDateTime.now();\r\n            int currentSecond = dateTime.getSecond();\r\n            int newSecond = currentSecond - (currentSecond % 10);\r\n            forecast(dateTime.withSecond(newSecond));\r\n    }\r\n\r\nCache will expire after 10 seconds.\r\n\r\nPositive aspect - it does not require a scheduled job.\r\n\r\nNegative aspect - old data remains cached.\r\n\r\n","title":"settings spring @cacheable to cache for 10 seconds","body":"<p>You can solve it with a LocalDateTime object. For example:</p>\n<pre><code>@Cacheable(value=&quot;forecast&quot;, key = &quot;#date.toString()&quot;)\npublic void forecast(LocalDateTime date){\n    //\n}\npublic void call(){\n        LocalDateTime dateTime = LocalDateTime.now();\n        int currentSecond = dateTime.getSecond();\n        int newSecond = currentSecond - (currentSecond % 10);\n        forecast(dateTime.withSecond(newSecond));\n}\n</code></pre>\n<p>Cache will expire after 10 seconds.</p>\n<p>Positive aspect - it does not require a scheduled job.</p>\n<p>Negative aspect - old data remains cached.</p>\n"}],"owner":{"account_id":29845,"reputation":31302,"user_id":80932,"accept_rate":85,"display_name":"ufk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8777,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":19768893,"answer_count":3,"score":2,"last_activity_date":1701434978,"creation_date":1383570946,"question_id":19768481,"body_markdown":"I&#39;m writing a java project using Spring framework 3.2.4.\r\n\r\nI have many SQL queries that needs to be cached for 10 seconds.\r\n\r\nI know that with `@cacheable` annotation i can cache functions result. \r\n\r\nWhat I don&#39;t understand is how to cache for only 10 seconds. i know you can add conditions to the cacheable annotation but it&#39;s hard for me to figure out how to add timing to these conditions.\r\n\r\nany information regarding the issue would be greatly appreciated. ","title":"settings spring @cacheable to cache for 10 seconds","body":"<p>I'm writing a java project using Spring framework 3.2.4.</p>\n\n<p>I have many SQL queries that needs to be cached for 10 seconds.</p>\n\n<p>I know that with <code>@cacheable</code> annotation i can cache functions result. </p>\n\n<p>What I don't understand is how to cache for only 10 seconds. i know you can add conditions to the cacheable annotation but it's hard for me to figure out how to add timing to these conditions.</p>\n\n<p>any information regarding the issue would be greatly appreciated. </p>\n"},{"tags":["java","spring","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699871058,"creation_date":1699871058,"answer_id":77473177,"question_id":77473032,"body_markdown":"Using `expression` is useless in your case, you can simply use `qualifiedByName` like this:\r\n\r\n    @Mapping(target = &quot;id&quot;, source = &quot;source&quot;, qualifiedByName = &quot;getIdDtoBasedOnFlag&quot;)\r\n    public TargetDto toTargetDto(IpEntity source);\r\n    \r\n    @Named(&quot;getIdDtoBasedOnFlag&quot;)\r\n    default IdDto getIdDtoBasedOnFlag(IpEntity src) {\r\n      // ...\r\n    }","title":"Mapstruct Mapper Error : Cannot Find Symbol","body":"<p>Using <code>expression</code> is useless in your case, you can simply use <code>qualifiedByName</code> like this:</p>\n<pre><code>@Mapping(target = &quot;id&quot;, source = &quot;source&quot;, qualifiedByName = &quot;getIdDtoBasedOnFlag&quot;)\npublic TargetDto toTargetDto(IpEntity source);\n\n@Named(&quot;getIdDtoBasedOnFlag&quot;)\ndefault IdDto getIdDtoBasedOnFlag(IpEntity src) {\n  // ...\n}\n</code></pre>\n"}],"owner":{"account_id":22071184,"reputation":33,"user_id":16332139,"display_name":"Bhavin "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701434846,"creation_date":1699869501,"question_id":77473032,"body_markdown":"I had existing mapper in code. I am trying to modify it.\r\n\r\nLine Before Mapping is as follow. I was directly mapping id to id.\r\n\r\n    @Mapping(target = &quot;id&quot;, source = &quot;source.id&quot;)\r\n    public TargetDto toTargetDto(IpEntity source);\r\n\r\nUpdated the mapping as follow. I needed to add mapping based on function because I am reading some flag and setting it up.\r\n\r\n    @Mapping(target = &quot;id&quot;, expression = &quot;java(getIdDtoBasedOnFlag(source))&quot;)\r\n    public TargetDto toTargetDto(IpEntity source);\r\n\r\nMethod I added is as follows.\r\n\r\n    default IdDto getIdDtoBasedOnFlag(IpEntity src) {\r\n        IdDto cd = new IdDto();\r\n        if(idType.equalsIgnoreCase(&quot;standard&quot;)){\r\n            StndIdRelationEntity c = src.getPrimaryId();\r\n            cd.setIdCode(c.getIdNumber());\r\n            cd.setId(c.getId().toString());\r\n            cd.setIdName(c.getIdName());\r\n        }\r\n        else{\r\n            IdRelationEntity c = src.getId();\r\n            cd.setIdCode(c.getSourceCode());\r\n            cd.setId(c.getId().toString());\r\n            cd.setIdName(c.getIdName());\r\n        }\r\n        return cd;\r\n    }\r\n\r\nNow I am getting error in Impl class that gets generated as\r\n```\r\n  java: cannot find symbol\r\n  symbol:   variable source\r\n  location: class com.package.mapper.MapperImpl\r\n```\r\n\r\nIdDto class is as follows.\r\n```\r\n@Data\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class IdDto {\r\n    @JsonProperty(value = &quot;id&quot;)\r\n    private String idId;\r\n\r\n    @JsonProperty(value = &quot;display&quot;)\r\n    private String idName;\r\n\r\n    @JsonProperty(value = &quot;idCode&quot;)\r\n    private String idCode;\r\n\r\n    private Map&lt;String, String&gt; links;\r\n}\r\n\r\n```\r\n\r\nIf check the line in Impl class \r\n```\r\n    protected IdDto idRelationEntityToIdDto(IdRelationEntity idRelationEntity) {\r\n        if ( idRelationEntity == null ) {\r\n            return null;\r\n        }\r\n        IdDto IdDto = new IdDto();\r\n        IdDto.setIdName( idRelationEntity.getIdName() );\r\n        IdDto.setId( getIdIdBasedOnFlag(source) );//Error is coming from this line\r\n        return IdDto;\r\n    }\r\n\r\n\r\nsPLTargetDto.setId( idRelationEntityToIdDto( source.getId() ) );\r\n```\r\nAs you can see source is not getting passed properly in generated Impl method, Because of which it is failing. How do I fix it.\r\n\r\n\r\n\r\nI tried adding using qualifiedName but it didn&#39;t work.\r\n```\r\n@Mapping(target = &quot;Id&quot;, expression = &quot;java(getIdDtoBasedOnFlag(source))&quot;,qualifiedByName=&quot;getIdDtoBasedOnFlag&quot;)\r\n```","title":"Mapstruct Mapper Error : Cannot Find Symbol","body":"<p>I had existing mapper in code. I am trying to modify it.</p>\n<p>Line Before Mapping is as follow. I was directly mapping id to id.</p>\n<pre><code>@Mapping(target = &quot;id&quot;, source = &quot;source.id&quot;)\npublic TargetDto toTargetDto(IpEntity source);\n</code></pre>\n<p>Updated the mapping as follow. I needed to add mapping based on function because I am reading some flag and setting it up.</p>\n<pre><code>@Mapping(target = &quot;id&quot;, expression = &quot;java(getIdDtoBasedOnFlag(source))&quot;)\npublic TargetDto toTargetDto(IpEntity source);\n</code></pre>\n<p>Method I added is as follows.</p>\n<pre><code>default IdDto getIdDtoBasedOnFlag(IpEntity src) {\n    IdDto cd = new IdDto();\n    if(idType.equalsIgnoreCase(&quot;standard&quot;)){\n        StndIdRelationEntity c = src.getPrimaryId();\n        cd.setIdCode(c.getIdNumber());\n        cd.setId(c.getId().toString());\n        cd.setIdName(c.getIdName());\n    }\n    else{\n        IdRelationEntity c = src.getId();\n        cd.setIdCode(c.getSourceCode());\n        cd.setId(c.getId().toString());\n        cd.setIdName(c.getIdName());\n    }\n    return cd;\n}\n</code></pre>\n<p>Now I am getting error in Impl class that gets generated as</p>\n<pre><code>  java: cannot find symbol\n  symbol:   variable source\n  location: class com.package.mapper.MapperImpl\n</code></pre>\n<p>IdDto class is as follows.</p>\n<pre><code>@Data\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class IdDto {\n    @JsonProperty(value = &quot;id&quot;)\n    private String idId;\n\n    @JsonProperty(value = &quot;display&quot;)\n    private String idName;\n\n    @JsonProperty(value = &quot;idCode&quot;)\n    private String idCode;\n\n    private Map&lt;String, String&gt; links;\n}\n\n</code></pre>\n<p>If check the line in Impl class</p>\n<pre><code>    protected IdDto idRelationEntityToIdDto(IdRelationEntity idRelationEntity) {\n        if ( idRelationEntity == null ) {\n            return null;\n        }\n        IdDto IdDto = new IdDto();\n        IdDto.setIdName( idRelationEntity.getIdName() );\n        IdDto.setId( getIdIdBasedOnFlag(source) );//Error is coming from this line\n        return IdDto;\n    }\n\n\nsPLTargetDto.setId( idRelationEntityToIdDto( source.getId() ) );\n</code></pre>\n<p>As you can see source is not getting passed properly in generated Impl method, Because of which it is failing. How do I fix it.</p>\n<p>I tried adding using qualifiedName but it didn't work.</p>\n<pre><code>@Mapping(target = &quot;Id&quot;, expression = &quot;java(getIdDtoBasedOnFlag(source))&quot;,qualifiedByName=&quot;getIdDtoBasedOnFlag&quot;)\n</code></pre>\n"},{"tags":["java","android","android-intent","intentfilter","android-implicit-intent"],"comments":[{"owner":{"account_id":1160681,"reputation":5035,"user_id":1140237,"accept_rate":25,"display_name":"user1140237"},"score":0,"creation_date":1447666429,"post_id":33732034,"comment_id":55232963,"body_markdown":"are you using startActivityForResult &amp; onActivityResult ? if possible thn post your entire activity code which you have done","body":"are you using startActivityForResult &amp; onActivityResult ? if possible thn post your entire activity code which you have done"},{"owner":{"account_id":5608355,"reputation":106,"user_id":4442067,"display_name":"Abdullah ALT"},"score":0,"creation_date":1447666698,"post_id":33732034,"comment_id":55233112,"body_markdown":"@user1140237 no I don&#39;t, isn&#39;t it just for startActivityForResult()? I&#39;m not using my app to pick an image from the gallery, all I want is making the gallery **share** images with my app","body":"@user1140237 no I don&#39;t, isn&#39;t it just for startActivityForResult()? I&#39;m not using my app to pick an image from the gallery, all I want is making the gallery <b>share</b> images with my app"},{"owner":{"account_id":2138149,"reputation":5541,"user_id":1897423,"accept_rate":57,"display_name":"Lingviston"},"score":0,"creation_date":1447668069,"post_id":33732034,"comment_id":55233991,"body_markdown":"Try to use &quot;content&quot; or &quot;file&quot; mimetype. Don&#39;t know if it can be done this way but on my device default Gallery app returns &quot;content&quot; uri for pick image intent and file manager app returns &quot;file&quot; uri for the same image. Perhaps this action somehow similar to what you want. Also try to envistigate Intent extras. Maybe image data is bundled within it.","body":"Try to use &quot;content&quot; or &quot;file&quot; mimetype. Don&#39;t know if it can be done this way but on my device default Gallery app returns &quot;content&quot; uri for pick image intent and file manager app returns &quot;file&quot; uri for the same image. Perhaps this action somehow similar to what you want. Also try to envistigate Intent extras. Maybe image data is bundled within it."}],"answers":[{"tags":[],"owner":{"account_id":13358151,"reputation":123,"user_id":9641046,"display_name":"Markus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569584483,"creation_date":1569584483,"answer_id":58133853,"question_id":33732034,"body_markdown":"So, I think my answer is a little bit late, but anyhow, here it is:\r\n\r\nYou have already set the intent-filter in the **AndroidManifest.xml** correct like this:\r\n\r\n    &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\r\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n        &lt;data android:mimeType=&quot;image/*&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n\r\nAs on [this Website][1] stated, you get the URI with this command:\r\n\r\n    Uri imageUri = (Uri) intent.getParcelableExtra(Intent.EXTRA_STREAM);\r\n    \r\n    //set content of ImageView to the specific Uri\r\n    imageView.setImageURI(imageUri);\r\n\r\n\r\nDokumentation about the **Intent** class can be found [here][2].\r\n\r\n\r\n  [1]: https://developer.android.com/training/sharing/receive\r\n  [2]: https://developer.android.com/reference/android/content/Intent","title":"implicit intent: sharing images from gallery to my app","body":"<p>So, I think my answer is a little bit late, but anyhow, here it is:</p>\n\n<p>You have already set the intent-filter in the <strong>AndroidManifest.xml</strong> correct like this:</p>\n\n<pre><code>&lt;intent-filter&gt;\n    &lt;action android:name=\"android.intent.action.SEND\" /&gt;\n    &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n    &lt;data android:mimeType=\"image/*\" /&gt;\n&lt;/intent-filter&gt;\n</code></pre>\n\n<p>As on <a href=\"https://developer.android.com/training/sharing/receive\" rel=\"nofollow noreferrer\">this Website</a> stated, you get the URI with this command:</p>\n\n<pre><code>Uri imageUri = (Uri) intent.getParcelableExtra(Intent.EXTRA_STREAM);\n\n//set content of ImageView to the specific Uri\nimageView.setImageURI(imageUri);\n</code></pre>\n\n<p>Dokumentation about the <strong>Intent</strong> class can be found <a href=\"https://developer.android.com/reference/android/content/Intent\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":5608355,"reputation":106,"user_id":4442067,"display_name":"Abdullah ALT"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":986,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701434671,"creation_date":1447666061,"question_id":33732034,"body_markdown":"I&#39;m trying to make the gallery app share images to my app, the problem is that I don&#39;t know how to get the image data sent to me by the gallery. I assumed that I may found the data in the method .getData() but it returns null\r\n\r\nthis is my intent-filter \r\n\r\n    &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.SEND&quot;/&gt;\r\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot;/&gt;\r\n                &lt;data android:mimeType=&quot;image/*&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.default&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\nand here is my code in MainActivity\r\n\r\n    Intent data = getIntent(); //get the intent that starts this activity, in this case: gallery intent\r\n        if(data != null){ \r\n            Uri uri = data.getData();\r\n            //set the image view: the problem is: uri is always null\r\n            imageView.setImageURI(uri);\r\n        }\r\n\r\nif the method getData() is not what I want, then how can I get the image that meant to be shared with my app?","title":"implicit intent: sharing images from gallery to my app","body":"<p>I'm trying to make the gallery app share images to my app, the problem is that I don't know how to get the image data sent to me by the gallery. I assumed that I may found the data in the method .getData() but it returns null</p>\n\n<p>this is my intent-filter </p>\n\n<pre><code>&lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.SEND\"/&gt;\n            &lt;action android:name=\"android.intent.action.VIEW\"/&gt;\n            &lt;data android:mimeType=\"image/*\"/&gt;\n            &lt;category android:name=\"android.intent.category.default\"/&gt;\n        &lt;/intent-filter&gt;\n</code></pre>\n\n<p>and here is my code in MainActivity</p>\n\n<pre><code>Intent data = getIntent(); //get the intent that starts this activity, in this case: gallery intent\n    if(data != null){ \n        Uri uri = data.getData();\n        //set the image view: the problem is: uri is always null\n        imageView.setImageURI(uri);\n    }\n</code></pre>\n\n<p>if the method getData() is not what I want, then how can I get the image that meant to be shared with my app?</p>\n"},{"tags":["java","spring","spring-boot","maven","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676967065,"post_id":75517513,"comment_id":133238296,"body_markdown":"Remove `sqlite-dialect` and `hibernate-jpa-2.1-api`. Fix your imports (which now will probably fail as you probably have `javax.persistence` instead `jakarta.persistence`. As the `sqlite-dialect` you are using is from 2017 I doubt it is compatible with the most recent version(s) of Hibernate.","body":"Remove <code>sqlite-dialect</code> and <code>hibernate-jpa-2.1-api</code>. Fix your imports (which now will probably fail as you probably have <code>javax.persistence</code> instead <code>jakarta.persistence</code>. As the <code>sqlite-dialect</code> you are using is from 2017 I doubt it is compatible with the most recent version(s) of Hibernate."}],"answers":[{"tags":[],"owner":{"account_id":28087230,"reputation":1,"user_id":21457413,"display_name":"AlexChingaru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679497770,"creation_date":1679497770,"answer_id":75814034,"question_id":75517513,"body_markdown":"I had the same error as you.\r\nYou should remove from your pom.xml the **sqlite-dialect** dependency and modify your **hibernate** dependency this way : \r\n\r\nthe **groupId tag** should contain **org.hibernate.orm**\r\n\r\nand your **artifactId** should contain **hibernate-community-dialects**\r\n\r\nalso in your **application.properties** you should have **spring.jpa.database-platform=org.hibernate.community.dialect.SQLiteDialect**","title":"Correct the classpath of your application so that it contains a single, compatible version of org.hibernate.dialect.SQLiteDialect","body":"<p>I had the same error as you.\nYou should remove from your pom.xml the <strong>sqlite-dialect</strong> dependency and modify your <strong>hibernate</strong> dependency this way :</p>\n<p>the <strong>groupId tag</strong> should contain <strong>org.hibernate.orm</strong></p>\n<p>and your <strong>artifactId</strong> should contain <strong>hibernate-community-dialects</strong></p>\n<p>also in your <strong>application.properties</strong> you should have <strong>spring.jpa.database-platform=org.hibernate.community.dialect.SQLiteDialect</strong></p>\n"},{"tags":[],"owner":{"account_id":15969828,"reputation":101,"user_id":12473335,"display_name":"Avandy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701434140,"creation_date":1701434140,"answer_id":77585321,"question_id":75517513,"body_markdown":"From Hibernate 6, SQLite dialect is supported.\r\nWe have to import in our pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-community-dialects&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nCopy\r\nAnd in our application properties:\r\n\r\n    spring.jpa.database-platform=org.hibernate.community.dialect.SQLiteDialect\r\n\r\nhttps://www.baeldung.com/spring-boot-sqlite","title":"Correct the classpath of your application so that it contains a single, compatible version of org.hibernate.dialect.SQLiteDialect","body":"<p>From Hibernate 6, SQLite dialect is supported.\nWe have to import in our pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-community-dialects&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Copy\nAnd in our application properties:</p>\n<pre><code>spring.jpa.database-platform=org.hibernate.community.dialect.SQLiteDialect\n</code></pre>\n<p><a href=\"https://www.baeldung.com/spring-boot-sqlite\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-sqlite</a></p>\n"}],"owner":{"account_id":9965791,"reputation":77,"user_id":7373531,"display_name":"karthick ravindranath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":862,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1701434140,"creation_date":1676965246,"question_id":75517513,"body_markdown":"Im new to SpringBoot. Please let me know how to fix this below error. \r\n\r\n&quot;Correct the classpath of your application so that it contains a single, compatible version of org.hibernate.dialect.SQLiteDialect&quot;\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\n    org.hibernate.dialect.SQLiteDialect.&lt;init&gt;(SQLiteDialect.java:20)\r\n\r\nThe following method did not exist:\r\n\r\n    &#39;void org.hibernate.dialect.SQLiteDialect.registerColumnType(int, java.lang.String)&#39;\r\n\r\nThe calling method&#39;s class, org.hibernate.dialect.SQLiteDialect, was loaded from the following location:\r\n\r\n    jar:file:/C:/Users/kakarthi/.m2/repository/com/zsoltfabok/sqlite-dialect/1.0/sqlite-dialect-1.0.jar!/org/hibernate/dialect/SQLiteDialect.class\r\n\r\nThe called method&#39;s class, org.hibernate.dialect.SQLiteDialect, is available from the following locations:\r\n\r\n    jar:file:/C:/Users/kakarthi/.m2/repository/com/zsoltfabok/sqlite-dialect/1.0/sqlite-dialect-1.0.jar!/org/hibernate/dialect/SQLiteDialect.class\r\n\r\nThe called method&#39;s class hierarchy was loaded from the following locations:\r\n\r\n    org.hibernate.dialect.SQLiteDialect: file:/C:/Users/kakarthi/.m2/repository/com/zsoltfabok/sqlite-dialect/1.0/sqlite-dialect-1.0.jar\r\n    org.hibernate.dialect.Dialect: file:/C:/Users/kakarthi/.m2/repository/org/hibernate/orm/hibernate-core/6.1.6.Final/hibernate-core-6.1.6.Final.jar\r\n\r\n\r\nAction:\r\n\r\nCorrect the classpath of your application so that it contains a single, compatible version of org.hibernate.dialect.SQLiteDialect\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nMy POM.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.springLearning&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;springLearning&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;springLearning&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.zsoltfabok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;sqlite-dialect&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.xerial&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.40.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.0.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nPlease let me know how to fix this below error. \r\n\r\n&quot;Correct the classpath of your application so that it contains a single, compatible version of org.hibernate.dialect.SQLiteDialect&quot;. \r\n\r\nI have tried removing or increasing verisons but still im facing issue. Any help would be apricated.\r\n\r\n","title":"Correct the classpath of your application so that it contains a single, compatible version of org.hibernate.dialect.SQLiteDialect","body":"<p>Im new to SpringBoot. Please let me know how to fix this below error.</p>\n<p>&quot;Correct the classpath of your application so that it contains a single, compatible version of org.hibernate.dialect.SQLiteDialect&quot;</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\n\n    org.hibernate.dialect.SQLiteDialect.&lt;init&gt;(SQLiteDialect.java:20)\n\nThe following method did not exist:\n\n    'void org.hibernate.dialect.SQLiteDialect.registerColumnType(int, java.lang.String)'\n\nThe calling method's class, org.hibernate.dialect.SQLiteDialect, was loaded from the following location:\n\n    jar:file:/C:/Users/kakarthi/.m2/repository/com/zsoltfabok/sqlite-dialect/1.0/sqlite-dialect-1.0.jar!/org/hibernate/dialect/SQLiteDialect.class\n\nThe called method's class, org.hibernate.dialect.SQLiteDialect, is available from the following locations:\n\n    jar:file:/C:/Users/kakarthi/.m2/repository/com/zsoltfabok/sqlite-dialect/1.0/sqlite-dialect-1.0.jar!/org/hibernate/dialect/SQLiteDialect.class\n\nThe called method's class hierarchy was loaded from the following locations:\n\n    org.hibernate.dialect.SQLiteDialect: file:/C:/Users/kakarthi/.m2/repository/com/zsoltfabok/sqlite-dialect/1.0/sqlite-dialect-1.0.jar\n    org.hibernate.dialect.Dialect: file:/C:/Users/kakarthi/.m2/repository/org/hibernate/orm/hibernate-core/6.1.6.Final/hibernate-core-6.1.6.Final.jar\n\n\nAction:\n\nCorrect the classpath of your application so that it contains a single, compatible version of org.hibernate.dialect.SQLiteDialect\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>My POM.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.springLearning&lt;/groupId&gt;\n    &lt;artifactId&gt;springLearning&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;springLearning&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.zsoltfabok&lt;/groupId&gt;\n            &lt;artifactId&gt;sqlite-dialect&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.xerial&lt;/groupId&gt;\n            &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;3.40.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Please let me know how to fix this below error.</p>\n<p>&quot;Correct the classpath of your application so that it contains a single, compatible version of org.hibernate.dialect.SQLiteDialect&quot;.</p>\n<p>I have tried removing or increasing verisons but still im facing issue. Any help would be apricated.</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":15342779,"reputation":916,"user_id":13723248,"display_name":"Bib"},"score":0,"creation_date":1701367423,"post_id":77580723,"comment_id":136769847,"body_markdown":"Do not shout!!!","body":"Do not shout!!!"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1701373792,"post_id":77580723,"comment_id":136770975,"body_markdown":"Your shift key seems to be stuck. Please fix that.","body":"Your shift key seems to be stuck. Please fix that."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":2,"creation_date":1701378790,"post_id":77580723,"comment_id":136771765,"body_markdown":"What a great format - the title all in lowercase, the text all in uppercase - that cannot be a *serious* question  :-/","body":"What a great format - the title all in lowercase, the text all in uppercase - that cannot be a <i>serious</i> question  :-/"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1701433877,"post_id":77580723,"comment_id":136778003,"body_markdown":"Hey Uday. As you probably noticed, you question attracted some negative comments and downvotes. The reason for that is that you posted the text in the question in all-caps, which is generally perceived on the internet as SHOUTING. To increase the chances that someone will actually help going forward, use proper casing for the text - and follow the other guidance in [how to ask a good question](https://stackoverflow.com/help/how-to-ask)","body":"Hey Uday. As you probably noticed, you question attracted some negative comments and downvotes. The reason for that is that you posted the text in the question in all-caps, which is generally perceived on the internet as SHOUTING. To increase the chances that someone will actually help going forward, use proper casing for the text - and follow the other guidance in <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a good question</a>"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1701433968,"post_id":77580723,"comment_id":136778014,"body_markdown":"On the actual content, it helps if you provide basic information on what happens when you step through the app in a debugger. Since you have `addOnCompleteListener`, does that get called? If so, which of the toasts is shown?","body":"On the actual content, it helps if you provide basic information on what happens when you step through the app in a debugger. Since you have <code>addOnCompleteListener</code>, does that get called? If so, which of the toasts is shown?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1701436653,"post_id":77580723,"comment_id":136778508,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond using @.","body":"Please edit your question and add the information Frank asked for, and please also respond using @."}],"owner":{"account_id":29938804,"reputation":1,"user_id":22943868,"display_name":"Uday Makwana"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":0,"score":-4,"last_activity_date":1701433851,"creation_date":1701367254,"question_id":77580723,"body_markdown":"I created first &#39;login activity; in which mobile no enter by user and send otp after click submit btn and create putextra method, so I can mobile number enter by user is use in next acivity.\r\n\r\n````\r\nIntent intent = new Intent(LoginActivity.this, OTPAuthentication.class);\r\n                intent.putExtra(&quot;mobile&quot;, edttxtmobileno.getText().toString());\r\n                intent.putExtra(&quot;otp&quot;,codesent);\r\n                startActivity(intent);\r\n````\r\n\r\n\r\nAfter in which second activity (otp authentication) above enter otp input create textview in which mobile number show which enter by user.\r\n\r\n````\r\ntextmobile.setText(String.format(\r\n                &quot;91-%s&quot;, getIntent().getStringExtra(&quot;mobile&quot;)\r\n        ));\r\n````\r\n\r\nAfter both activity successfull third activity save username and profession from spinner in Firebase\r\n\r\n````\r\ndatabaseReference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\r\n                String userId = databaseReference.push().getKey();\r\n                User user = new User(username, profession,mobile);\r\n\r\n                assert userId != null;\r\n                databaseReference.child(userId).setValue(user)\r\n                        .addOnCompleteListener(task -&gt; {\r\n                            if (task.isSuccessful()) {\r\n                                Toast.makeText(getApplicationContext(), &quot;Success&quot;, Toast.LENGTH_SHORT).show();\r\n                                Log.d(&quot;Firebase&quot;, &quot;Data saved successfully&quot;); // Log success\r\n                                Intent intent = new Intent(getApplicationContext(), NexusHome.class);\r\n                                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n                                startActivity(intent);\r\n                            } else {\r\n                                Toast.makeText(getApplicationContext(), &quot;Failed to save data&quot;, Toast.LENGTH_SHORT).show();\r\n                                Log.e(&quot;Firebase&quot;, &quot;Failed to save data: &quot; + task.getException()); // Log failure with exception\r\n                            }\r\n\r\n                            btnsaveprofile.setVisibility(View.VISIBLE);\r\n                            mprogressbarofsaveprofile.setVisibility(View.INVISIBLE);\r\n\r\n                        });\r\n````\r\n\r\nAnd user java class for save data in firebase:\r\n\r\n````\r\npackage com.example.nexus_architecture;\r\n\r\npublic class User {\r\n    private String username;\r\n    private String profession;\r\n    private String mobile;\r\n\r\n\r\n    public User() {\r\n    }\r\n\r\n    public User(String username, String profession, String mobile) {\r\n        this.username = username;\r\n        this.profession = profession;\r\n        this.mobile = mobile;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    public String getProfession() {\r\n        return profession;\r\n    }\r\n\r\n    public void setProfession(String profession) {\r\n        this.profession = profession;\r\n    }\r\n\r\n    public String getMobile() {\r\n        return mobile;\r\n    }\r\n\r\n    public void setMobile(String mobile) {\r\n        this.mobile = mobile;\r\n    }\r\n}\r\n````\r\n\r\n\r\n\r\nWhen I click save userprofile btn then username and profession saved, but the mobile number is not saved.\r\n\r\nHow can mobile no save with username and profession?","title":"mobile number not saved in firedatabase from previous activity","body":"<p>I created first 'login activity; in which mobile no enter by user and send otp after click submit btn and create putextra method, so I can mobile number enter by user is use in next acivity.</p>\n<pre><code>Intent intent = new Intent(LoginActivity.this, OTPAuthentication.class);\n                intent.putExtra(&quot;mobile&quot;, edttxtmobileno.getText().toString());\n                intent.putExtra(&quot;otp&quot;,codesent);\n                startActivity(intent);\n</code></pre>\n<p>After in which second activity (otp authentication) above enter otp input create textview in which mobile number show which enter by user.</p>\n<pre><code>textmobile.setText(String.format(\n                &quot;91-%s&quot;, getIntent().getStringExtra(&quot;mobile&quot;)\n        ));\n</code></pre>\n<p>After both activity successfull third activity save username and profession from spinner in Firebase</p>\n<pre><code>databaseReference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\n                String userId = databaseReference.push().getKey();\n                User user = new User(username, profession,mobile);\n\n                assert userId != null;\n                databaseReference.child(userId).setValue(user)\n                        .addOnCompleteListener(task -&gt; {\n                            if (task.isSuccessful()) {\n                                Toast.makeText(getApplicationContext(), &quot;Success&quot;, Toast.LENGTH_SHORT).show();\n                                Log.d(&quot;Firebase&quot;, &quot;Data saved successfully&quot;); // Log success\n                                Intent intent = new Intent(getApplicationContext(), NexusHome.class);\n                                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n                                startActivity(intent);\n                            } else {\n                                Toast.makeText(getApplicationContext(), &quot;Failed to save data&quot;, Toast.LENGTH_SHORT).show();\n                                Log.e(&quot;Firebase&quot;, &quot;Failed to save data: &quot; + task.getException()); // Log failure with exception\n                            }\n\n                            btnsaveprofile.setVisibility(View.VISIBLE);\n                            mprogressbarofsaveprofile.setVisibility(View.INVISIBLE);\n\n                        });\n</code></pre>\n<p>And user java class for save data in firebase:</p>\n<pre><code>package com.example.nexus_architecture;\n\npublic class User {\n    private String username;\n    private String profession;\n    private String mobile;\n\n\n    public User() {\n    }\n\n    public User(String username, String profession, String mobile) {\n        this.username = username;\n        this.profession = profession;\n        this.mobile = mobile;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getProfession() {\n        return profession;\n    }\n\n    public void setProfession(String profession) {\n        this.profession = profession;\n    }\n\n    public String getMobile() {\n        return mobile;\n    }\n\n    public void setMobile(String mobile) {\n        this.mobile = mobile;\n    }\n}\n</code></pre>\n<p>When I click save userprofile btn then username and profession saved, but the mobile number is not saved.</p>\n<p>How can mobile no save with username and profession?</p>\n"},{"tags":["java","macos","wifi","rssi"],"answers":[{"comments":[{"owner":{"account_id":1620812,"reputation":2569,"user_id":1497418,"accept_rate":75,"display_name":"Walucas"},"score":0,"creation_date":1367186799,"post_id":12981491,"comment_id":23280756,"body_markdown":"Do you know how could do that using Python to call this libraries, or using the Command Line Tool from Xcode?","body":"Do you know how could do that using Python to call this libraries, or using the Command Line Tool from Xcode?"},{"owner":{"display_name":"user862787"},"score":0,"creation_date":1367193270,"post_id":12981491,"comment_id":23282231,"body_markdown":"Python?  I don&#39;t know of any Python wrappers for CoreWireless, so you&#39;d probably have to write your own.  &quot;Command Line Tool from Xcode&quot;?  Which command-line tool?  &quot;gcc&quot;?  &quot;clang&quot;?","body":"Python?  I don&#39;t know of any Python wrappers for CoreWireless, so you&#39;d probably have to write your own.  &quot;Command Line Tool from Xcode&quot;?  Which command-line tool?  &quot;gcc&quot;?  &quot;clang&quot;?"},{"owner":{"account_id":1620812,"reputation":2569,"user_id":1497418,"accept_rate":75,"display_name":"Walucas"},"score":0,"creation_date":1367282985,"post_id":12981491,"comment_id":23318441,"body_markdown":"In xcode you have a way to develop Command Line Tool programs, but I am not able to use the imported Library","body":"In xcode you have a way to develop Command Line Tool programs, but I am not able to use the imported Library"},{"owner":{"display_name":"user862787"},"score":0,"creation_date":1367287532,"post_id":12981491,"comment_id":23319447,"body_markdown":"You can&#39;t just add the Core WLAN framework to your Xcode project?  (Framework, not library.)  Note that it&#39;s an Objective-C framework, so you&#39;ll somehow have to convince Xcode to let you build an Objective-C command-line tool.","body":"You can&#39;t just add the Core WLAN framework to your Xcode project?  (Framework, not library.)  Note that it&#39;s an Objective-C framework, so you&#39;ll somehow have to convince Xcode to let you build an Objective-C command-line tool."},{"owner":{"account_id":1620812,"reputation":2569,"user_id":1497418,"accept_rate":75,"display_name":"Walucas"},"score":0,"creation_date":1367325326,"post_id":12981491,"comment_id":23334456,"body_markdown":"I did that, but now I have to call the objects without using the Objective-C main types.... apparently it creates a C++ project","body":"I did that, but now I have to call the objects without using the Objective-C main types.... apparently it creates a C++ project"},{"owner":{"display_name":"user862787"},"score":0,"creation_date":1367358242,"post_id":12981491,"comment_id":23351859,"body_markdown":"Yet another reason why I just use Traditional UN\\*X Tools on OS X; Xcode apparently thinks it knows better than you do.  Try creating a &quot;Command Line Tool&quot; and, when it asks you for a &quot;Type&quot;, select &quot;Foundation&quot;.  (I guess they decided building an Objective-C program without using *any* system frameworks is pointless, so you have to at least build with Foundation.)","body":"Yet another reason why I just use Traditional UN*X Tools on OS X; Xcode apparently thinks it knows better than you do.  Try creating a &quot;Command Line Tool&quot; and, when it asks you for a &quot;Type&quot;, select &quot;Foundation&quot;.  (I guess they decided building an Objective-C program without using <i>any</i> system frameworks is pointless, so you have to at least build with Foundation.)"},{"owner":{"account_id":1620812,"reputation":2569,"user_id":1497418,"accept_rate":75,"display_name":"Walucas"},"score":0,"creation_date":1367359997,"post_id":12981491,"comment_id":23352483,"body_markdown":"Not that easy! doing this way it fails to compile if I import the coreWlan package into the MAIN.C","body":"Not that easy! doing this way it fails to compile if I import the coreWlan package into the MAIN.C"},{"owner":{"display_name":"user862787"},"score":0,"creation_date":1367392361,"post_id":12981491,"comment_id":23359666,"body_markdown":"main.c, not main.m?  Doesn&#39;t seem correct to me; the main source file should be Objective-C, not C.","body":"main.c, not main.m?  Doesn&#39;t seem correct to me; the main source file should be Objective-C, not C."}],"tags":[],"owner":{"display_name":"user862787"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1350676273,"creation_date":1350676273,"answer_id":12981491,"question_id":11303017,"body_markdown":"Look at the [Core WLAN framework][1].  Get [a CWInterface][2] given the &quot;BSD name&quot; of the interface with `initWithInterfaceName:`, use `scanForNetworksWithName:` or `scanForNetworksWithSSID:` without specifying a name or SSID (which will do a &quot;broadcast scan), and then look at the [CWNetworks][3] you get back and extract information such as the RSSI from them.\r\n\r\nHopefully there&#39;s some sort of bridge that lets you access that framework from Java; if not, you might have to create that bridge yourself.\r\n\r\nNote that this is available only in Lion and later.\r\n\r\n\r\n  [1]: http://developer.apple.com/library/mac/#documentation/Networking/Reference/CoreWLANFrameworkRef/_index.html\r\n  [2]: http://developer.apple.com/library/mac/#documentation/CoreWLAN/Reference/CWInterface_reference/translated_content/CWInterface.html#//apple_ref/doc/uid/TP40010960\r\n  [3]: http://developer.apple.com/library/mac/#documentation/CoreWLAN/Reference/CWNetwork_reference/translated_content/CWNetwork.html#//apple_ref/doc/uid/TP40010963","title":"List of Wireless RSSI with JAVA on MAC OS X","body":"<p>Look at the <a href=\"http://developer.apple.com/library/mac/#documentation/Networking/Reference/CoreWLANFrameworkRef/_index.html\" rel=\"nofollow\">Core WLAN framework</a>.  Get <a href=\"http://developer.apple.com/library/mac/#documentation/CoreWLAN/Reference/CWInterface_reference/translated_content/CWInterface.html#//apple_ref/doc/uid/TP40010960\" rel=\"nofollow\">a CWInterface</a> given the \"BSD name\" of the interface with <code>initWithInterfaceName:</code>, use <code>scanForNetworksWithName:</code> or <code>scanForNetworksWithSSID:</code> without specifying a name or SSID (which will do a \"broadcast scan), and then look at the <a href=\"http://developer.apple.com/library/mac/#documentation/CoreWLAN/Reference/CWNetwork_reference/translated_content/CWNetwork.html#//apple_ref/doc/uid/TP40010963\" rel=\"nofollow\">CWNetworks</a> you get back and extract information such as the RSSI from them.</p>\n\n<p>Hopefully there's some sort of bridge that lets you access that framework from Java; if not, you might have to create that bridge yourself.</p>\n\n<p>Note that this is available only in Lion and later.</p>\n"}],"owner":{"account_id":1620812,"reputation":2569,"user_id":1497418,"accept_rate":75,"display_name":"Walucas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":548,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":12981491,"answer_count":1,"score":0,"last_activity_date":1701433783,"creation_date":1341275610,"question_id":11303017,"body_markdown":"I am looking for an API to get a list of RSSI&#39;s wireless networks around my Mac, but couldn&#39;t find any yet.","title":"List of Wireless RSSI with JAVA on MAC OS X","body":"<p>I am looking for an API to get a list of RSSI's wireless networks around my Mac, but couldn't find any yet.</p>\n"},{"tags":["java","android","metadata","exoplayer"],"owner":{"account_id":28565245,"reputation":1,"user_id":21868216,"display_name":"Artem Novikov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701433740,"creation_date":1701433740,"question_id":77585277,"body_markdown":"I used to use an old version of exoplayer 2.10.2 (SimpleExoPlayer). Then I needed some updates and updated the player to 2.16.1. But this version has removed the addMetadataOutput method. How can I output (update) metadata in Exoplayer 2.16.1? I read that this should now be done via player.addListener(new Player.Listener() {}). But I can&#39;t figure out how to do it.[enter image description here](https://i.stack.imgur.com/mNJGB.png)\r\n\r\nI tried writing onMetadata in player.addListener(new Player.Listener() {}) but nothing works yet.","title":"How to get metadata from ExoPlayer","body":"<p>I used to use an old version of exoplayer 2.10.2 (SimpleExoPlayer). Then I needed some updates and updated the player to 2.16.1. But this version has removed the addMetadataOutput method. How can I output (update) metadata in Exoplayer 2.16.1? I read that this should now be done via player.addListener(new Player.Listener() {}). But I can't figure out how to do it.<a href=\"https://i.stack.imgur.com/mNJGB.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I tried writing onMetadata in player.addListener(new Player.Listener() {}) but nothing works yet.</p>\n"},{"tags":["java","ssl","noclassdeffounderror"],"comments":[{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1653285951,"post_id":43447847,"comment_id":127804709,"body_markdown":"The class is actually there in the JAR file. You have mentioned your dependency as &#39;provided&#39;, ensure the JAR is available in the CLASSPATH at runtime.","body":"The class is actually there in the JAR file. You have mentioned your dependency as &#39;provided&#39;, ensure the JAR is available in the CLASSPATH at runtime."}],"answers":[{"tags":[],"owner":{"account_id":5843610,"reputation":325,"user_id":4604360,"display_name":"nurb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544271445,"creation_date":1544271445,"answer_id":53682447,"question_id":43447847,"body_markdown":"We had the same problem with java.lang.NoClassDefFoundError: Could not initialize class org.apache.http.conn.ssl.SSLConnectionSocketFactory and there was appropriate dependency in Maven.\r\n\r\nThe reason of the problem in our case was tika-app, when we changed it to tica-core the problem was solved. The part commented below we replaced with the part above:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.19.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--&lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tika-app&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16&lt;/version&gt;\r\n        &lt;/dependency&gt;--&gt;","title":"java.lang.NoClassDefFoundError: Could not initialize class org.apache.http.conn.ssl.SSLConnectionSocketFactory","body":"<p>We had the same problem with java.lang.NoClassDefFoundError: Could not initialize class org.apache.http.conn.ssl.SSLConnectionSocketFactory and there was appropriate dependency in Maven.</p>\n\n<p>The reason of the problem in our case was tika-app, when we changed it to tica-core the problem was solved. The part commented below we replaced with the part above:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n        &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\n        &lt;version&gt;1.19.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!--&lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n        &lt;artifactId&gt;tika-app&lt;/artifactId&gt;\n        &lt;version&gt;1.16&lt;/version&gt;\n    &lt;/dependency&gt;--&gt;\n</code></pre>\n"}],"owner":{"account_id":5726665,"reputation":107,"user_id":5287313,"display_name":"karthik N R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13810,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"answer_count":1,"score":8,"last_activity_date":1701433274,"creation_date":1492417549,"question_id":43447847,"body_markdown":"I am facing the following issue :\r\n\r\n&gt;java.lang.NoClassDefFoundError: Could not initialize class org.apache.http.conn.ssl.SSLConnectionSocketFactory\r\n\r\nI am using httpclient 4.5 jar. Could you please let me know how to resolve it?\r\n    \r\n    SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(sslcontext, new String[] {&quot;TLSv1&quot; }, null,\r\n    \t                   SSLConnectionSocketFactory.BROWSER_COMPATIBLE_HOSTNAME_VERIFIER);\r\n\r\n\r\nmy pom.xml contains the following dependency -\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.5&lt;/version&gt;\r\n    \t&lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"java.lang.NoClassDefFoundError: Could not initialize class org.apache.http.conn.ssl.SSLConnectionSocketFactory","body":"<p>I am facing the following issue :</p>\n\n<blockquote>\n  <p>java.lang.NoClassDefFoundError: Could not initialize class org.apache.http.conn.ssl.SSLConnectionSocketFactory</p>\n</blockquote>\n\n<p>I am using httpclient 4.5 jar. Could you please let me know how to resolve it?</p>\n\n<pre><code>SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(sslcontext, new String[] {\"TLSv1\" }, null,\n                       SSLConnectionSocketFactory.BROWSER_COMPATIBLE_HOSTNAME_VERIFIER);\n</code></pre>\n\n<p>my pom.xml contains the following dependency -</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n    &lt;version&gt;4.5&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","testing","jvm","systemtime"],"comments":[{"owner":{"account_id":2853075,"reputation":7038,"user_id":2699901,"display_name":"N&#225;ndor Előd Fekete"},"score":1,"creation_date":1386246515,"post_id":2001671,"comment_id":30462763,"body_markdown":"I don&#39;t know whether it&#39;s relevant anymore, but there is another method to achieve this with AspectJ, see my answer at: http://stackoverflow.com/questions/18239859/java-lang-system-currenttimemillis-replace-method/18337164#18337164","body":"I don&#39;t know whether it&#39;s relevant anymore, but there is another method to achieve this with AspectJ, see my answer at: <a href=\"http://stackoverflow.com/questions/18239859/java-lang-system-currenttimemillis-replace-method/18337164#18337164\" title=\"java lang system currenttimemillis replace method\">stackoverflow.com/questions/18239859/&hellip;</a>"},{"owner":{"account_id":1401358,"reputation":601,"user_id":1330085,"display_name":"cleberz"},"score":0,"creation_date":1499806464,"post_id":2001671,"comment_id":77062977,"body_markdown":"@N&#225;ndorElődFekete the solution in the link is interesting, however it requires recompiling the code. I wonder if the original poster has the ability to recompile, given the fact he&#39;s claiming to be dealing with legacy code.","body":"@N&#225;ndorElődFekete the solution in the link is interesting, however it requires recompiling the code. I wonder if the original poster has the ability to recompile, given the fact he&#39;s claiming to be dealing with legacy code."},{"owner":{"account_id":2853075,"reputation":7038,"user_id":2699901,"display_name":"N&#225;ndor Előd Fekete"},"score":1,"creation_date":1499808278,"post_id":2001671,"comment_id":77063807,"body_markdown":"@cleberz One of the nice properties of AspectJ is that is operates on bytecode directly, so it doesn&#39;t need the original source code to work.","body":"@cleberz One of the nice properties of AspectJ is that is operates on bytecode directly, so it doesn&#39;t need the original source code to work."},{"owner":{"account_id":1401358,"reputation":601,"user_id":1330085,"display_name":"cleberz"},"score":0,"creation_date":1500662350,"post_id":2001671,"comment_id":77455269,"body_markdown":"@N&#225;ndorElődFekete thank you so much for the hint. I was unaware of the aspectJ bytecode-level instrumentation (especially the JDK classes instrumentation). It took me a while but I was able to figure out I had to both a compile-time weaving of the rt.jar as well as a load-time weaving of the non-jdk classes in order to suit my needs (override System.currentTimeMillis() and System.nanoTime()).","body":"@N&#225;ndorElődFekete thank you so much for the hint. I was unaware of the aspectJ bytecode-level instrumentation (especially the JDK classes instrumentation). It took me a while but I was able to figure out I had to both a compile-time weaving of the rt.jar as well as a load-time weaving of the non-jdk classes in order to suit my needs (override System.currentTimeMillis() and System.nanoTime())."},{"owner":{"account_id":2853075,"reputation":7038,"user_id":2699901,"display_name":"N&#225;ndor Előd Fekete"},"score":0,"creation_date":1500663766,"post_id":2001671,"comment_id":77455986,"body_markdown":"@cleberz I have another answer for [weaving through JRE classes](https://stackoverflow.com/a/36121235/2699901), you can check it out as well.","body":"@cleberz I have another answer for <a href=\"https://stackoverflow.com/a/36121235/2699901\">weaving through JRE classes</a>, you can check it out as well."}],"answers":[{"comments":[{"owner":{"account_id":21768,"reputation":5857,"user_id":53183,"accept_rate":79,"display_name":"Jeremy Raymond"},"score":0,"creation_date":1262634361,"post_id":2001694,"comment_id":1920733,"body_markdown":"For example, on windows the `date` and `time` commands. On Linux the `date` command.","body":"For example, on windows the <code>date</code> and <code>time</code> commands. On Linux the <code>date</code> command."},{"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"score":0,"creation_date":1262651207,"post_id":2001694,"comment_id":1922790,"body_markdown":"Why shouldn&#39;t it be possible to do this with AOP or instrumentalization (been there done that)?","body":"Why shouldn&#39;t it be possible to do this with AOP or instrumentalization (been there done that)?"}],"tags":[],"owner":{"account_id":21768,"reputation":5857,"user_id":53183,"accept_rate":79,"display_name":"Jeremy Raymond"},"comment_count":2,"down_vote_count":4,"up_vote_count":6,"is_accepted":false,"score":2,"last_activity_date":1262634210,"creation_date":1262634210,"answer_id":2001694,"question_id":2001671,"body_markdown":"There really isn&#39;t a way to do this directly in the VM, but you could all something to programmatically set the system time on the test machine. Most (all?) OS have command line commands to do this.","title":"Override Java System.currentTimeMillis for testing time sensitive code","body":"<p>There really isn't a way to do this directly in the VM, but you could all something to programmatically set the system time on the test machine. Most (all?) OS have command line commands to do this.</p>\n"},{"comments":[{"owner":{"account_id":36171,"reputation":8915,"user_id":103050,"accept_rate":88,"display_name":"Jim Mitchener"},"score":1,"creation_date":1262634593,"post_id":2001696,"comment_id":1920758,"body_markdown":"+1 messing with the system clock is going to cause all kinds of problems. You&#39;re also relying on nothing else (like ntpd) to sync the clock and reset it.","body":"+1 messing with the system clock is going to cause all kinds of problems. You&#39;re also relying on nothing else (like ntpd) to sync the clock and reset it."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1262636561,"post_id":2001696,"comment_id":1921029,"body_markdown":"@Stephen: Joda Time doesn&#39;t expose a clock type as far as I can tell, unfortunately. Noda Time does :)","body":"@Stephen: Joda Time doesn&#39;t expose a clock type as far as I can tell, unfortunately. Noda Time does :)"},{"owner":{"account_id":33530,"reputation":11809,"user_id":93953,"accept_rate":56,"display_name":"Mike Clark"},"score":1,"creation_date":1262641854,"post_id":2001696,"comment_id":1921753,"body_markdown":"Thanks for the recommendation.  I was figuring a refactor was going to be our best bet.","body":"Thanks for the recommendation.  I was figuring a refactor was going to be our best bet."},{"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"score":59,"creation_date":1262651064,"post_id":2001696,"comment_id":1922779,"body_markdown":"Cluttering your code by abstracting or wrapping all potential APIs to increase testability is IMHO not a very good idea. Even if you can do the refactoring once with a simple search &amp; replace, the code becomes much harder to read, understand and maintain. Several mock frameworks ought to be able to modify the behaviour of System.currentTimeMillis, if not, using AOP or self-made instrumentalization is the better choice.","body":"Cluttering your code by abstracting or wrapping all potential APIs to increase testability is IMHO not a very good idea. Even if you can do the refactoring once with a simple search &amp; replace, the code becomes much harder to read, understand and maintain. Several mock frameworks ought to be able to modify the behaviour of System.currentTimeMillis, if not, using AOP or self-made instrumentalization is the better choice."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":33,"creation_date":1262672449,"post_id":2001696,"comment_id":1924200,"body_markdown":"@jarnbjo: Well, you&#39;re welcome to your opinion of course - but this is a pretty well-established technique IMO, and I&#39;ve certainly used it to great effect. Not only does it improve testability - it also makes your dependency on the system time explicit, which can be useful when getting an overview of the code.","body":"@jarnbjo: Well, you&#39;re welcome to your opinion of course - but this is a pretty well-established technique IMO, and I&#39;ve certainly used it to great effect. Not only does it improve testability - it also makes your dependency on the system time explicit, which can be useful when getting an overview of the code."},{"owner":{"account_id":333131,"reputation":2273,"user_id":658826,"display_name":"virgo47"},"score":1,"creation_date":1325586760,"post_id":2001696,"comment_id":10841104,"body_markdown":"@jarnbjo: I agree with you - there are libraries you may rely on and they will use plain System.millis anyway. But do you have reliable solution for mocking/wrapping System.currentTimeMillis? I used jmockit, worked well - for a few calls. Then Sun&#39;s HotSpot messed up and method returned original value even though the jmockit code was still executed - just the results were ignored somehow. Do you have real reliable solution somewhere? Turning off hotspot is no option at all.","body":"@jarnbjo: I agree with you - there are libraries you may rely on and they will use plain System.millis anyway. But do you have reliable solution for mocking/wrapping System.currentTimeMillis? I used jmockit, worked well - for a few calls. Then Sun&#39;s HotSpot messed up and method returned original value even though the jmockit code was still executed - just the results were ignored somehow. Do you have real reliable solution somewhere? Turning off hotspot is no option at all."},{"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"score":1,"creation_date":1325772476,"post_id":2001696,"comment_id":10891576,"body_markdown":"@virgo47: I don&#39;t have the code at hand right now, but I have implemented an instrumentation based replacement of System.currentTimeMillis to solve exactly the same problem. Since Java 6, you can use instrumentation to replace native methods as well and directly &quot;patch&quot; the java.lang.System class with your own implementation. In Java 5, you can use instrumentation to replace all invocations of System.currentTimeMillis with an invocation of your own implementation (which has to be defined with the same method signature in another class).","body":"@virgo47: I don&#39;t have the code at hand right now, but I have implemented an instrumentation based replacement of System.currentTimeMillis to solve exactly the same problem. Since Java 6, you can use instrumentation to replace native methods as well and directly &quot;patch&quot; the java.lang.System class with your own implementation. In Java 5, you can use instrumentation to replace all invocations of System.currentTimeMillis with an invocation of your own implementation (which has to be defined with the same method signature in another class)."},{"owner":{"account_id":333131,"reputation":2273,"user_id":658826,"display_name":"virgo47"},"score":1,"creation_date":1340653024,"post_id":2001696,"comment_id":14695694,"body_markdown":"My answer got deleted by TheifMaster (don&#39;t know why), I think it&#39;s ultimate answer without using DateFactory of any kind. Use jmockit with -XX:-Inline to prevent date returning to the current one. More is in my post: http://virgo47.wordpress.com/2012/06/22/changing-system-time-in-java/","body":"My answer got deleted by TheifMaster (don&#39;t know why), I think it&#39;s ultimate answer without using DateFactory of any kind. Use jmockit with -XX:-Inline to prevent date returning to the current one. More is in my post: <a href=\"http://virgo47.wordpress.com/2012/06/22/changing-system-time-in-java/\" rel=\"nofollow noreferrer\">virgo47.wordpress.com/2012/06/22/changing-system-time-in-jav&zwnj;&#8203;a</a>"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1340653420,"post_id":2001696,"comment_id":14695903,"body_markdown":"@virgo47: Sounds like a hack to me - I&#39;d much rather make the dependency clear.","body":"@virgo47: Sounds like a hack to me - I&#39;d much rather make the dependency clear."},{"owner":{"account_id":333131,"reputation":2273,"user_id":658826,"display_name":"virgo47"},"score":1,"creation_date":1340656049,"post_id":2001696,"comment_id":14696991,"body_markdown":"@JonSkeet I admit it&#39;s a hack, but so far it&#39;s the only solution that answers the question without polluting the code everywhere. For testing purposes this is perfectly acceptable (as mocking generally is).","body":"@JonSkeet I admit it&#39;s a hack, but so far it&#39;s the only solution that answers the question without polluting the code everywhere. For testing purposes this is perfectly acceptable (as mocking generally is)."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":6,"creation_date":1340656368,"post_id":2001696,"comment_id":14697135,"body_markdown":"@virgo47: I think we&#39;ll have to agree to disagree. I don&#39;t see &quot;stating your dependencies explicitly&quot; as *polluting* the code - I see it as a natural way of making the code clearer. Nor do I see hiding those dependencies via static calls unnecessarily as &quot;perfectly acceptable&quot;.","body":"@virgo47: I think we&#39;ll have to agree to disagree. I don&#39;t see &quot;stating your dependencies explicitly&quot; as <i>polluting</i> the code - I see it as a natural way of making the code clearer. Nor do I see hiding those dependencies via static calls unnecessarily as &quot;perfectly acceptable&quot;."},{"owner":{"account_id":333131,"reputation":2273,"user_id":658826,"display_name":"virgo47"},"score":1,"creation_date":1340657020,"post_id":2001696,"comment_id":14697458,"body_markdown":"@JonSkeet Ok, we disagree (no problem with that). I came up with that solution for my own needs and it offers one big advantage - works with any code, not just the one you can control. Many libraries would use current time instead of your time, some Bean Validation annotation would not work as expected, the list goes on. For testing purposes this is perfectly acceptable to me. I&#39;d not use it in production. Biggest shame is that this whole question is not answered by the platform (Java/API/JVM) already. I hope we can agree at least on that. :-)","body":"@JonSkeet Ok, we disagree (no problem with that). I came up with that solution for my own needs and it offers one big advantage - works with any code, not just the one you can control. Many libraries would use current time instead of your time, some Bean Validation annotation would not work as expected, the list goes on. For testing purposes this is perfectly acceptable to me. I&#39;d not use it in production. Biggest shame is that this whole question is not answered by the platform (Java/API/JVM) already. I hope we can agree at least on that. :-)"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1340657345,"post_id":2001696,"comment_id":14697574,"body_markdown":"@virgo47: I find it a shame that Joda Time doesn&#39;t support decent testability either - defaulting to the current system time all over the place, and not having a clock interface...","body":"@virgo47: I find it a shame that Joda Time doesn&#39;t support decent testability either - defaulting to the current system time all over the place, and not having a clock interface..."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":2,"creation_date":1347454489,"post_id":2001696,"comment_id":16644138,"body_markdown":"For code you can control, Jons suggestion is the best.  Unfortunately you may have to use libraries you cannot control :(","body":"For code you can control, Jons suggestion is the best.  Unfortunately you may have to use libraries you cannot control :("},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":30,"creation_date":1414310527,"post_id":2001696,"comment_id":41760278,"body_markdown":"**UPDATE** The new [java.time package](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) built into Java 8 includes a [`java.time.Clock`](http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html) class &quot;to allow alternate clocks to be plugged in as and when required&quot;.","body":"<b>UPDATE</b> The new <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time package</a> built into Java 8 includes a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html\" rel=\"nofollow noreferrer\"><code>java.time.Clock</code></a> class &quot;to allow alternate clocks to be plugged in as and when required&quot;."},{"owner":{"account_id":42147,"reputation":16251,"user_id":2326914,"accept_rate":33,"display_name":"Rog&#233;rio"},"score":9,"creation_date":1417367051,"post_id":2001696,"comment_id":42911467,"body_markdown":"This answer implies that DI is all good. Personally, I am yet to see an application in the real world which makes good use of it. Instead, we see a profusion of pointless separate interfaces, stateless &quot;objects&quot;, data-only &quot;objects&quot;, and low cohesion classes. IMO, simplicity and object-oriented design (with true, statefull objects) is a better choice. Regarding `static` methods, sure they are not OO, but injecting a stateless dependency whose instance don&#39;t operate on any instance state is not really better; it&#39;s just a fancy way of disguising what is effectively &quot;static&quot; behavior anyway.","body":"This answer implies that DI is all good. Personally, I am yet to see an application in the real world which makes good use of it. Instead, we see a profusion of pointless separate interfaces, stateless &quot;objects&quot;, data-only &quot;objects&quot;, and low cohesion classes. IMO, simplicity and object-oriented design (with true, statefull objects) is a better choice. Regarding <code>static</code> methods, sure they are not OO, but injecting a stateless dependency whose instance don&#39;t operate on any instance state is not really better; it&#39;s just a fancy way of disguising what is effectively &quot;static&quot; behavior anyway."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1417369506,"post_id":2001696,"comment_id":42912215,"body_markdown":"@Rog&#233;rio: We&#39;ve had this argument before, and I don&#39;t see any likelihood that either of us will change each other&#39;s mind. I see no benefit in having the same argument in the comment thread of every answer which talks about this...","body":"@Rog&#233;rio: We&#39;ve had this argument before, and I don&#39;t see any likelihood that either of us will change each other&#39;s mind. I see no benefit in having the same argument in the comment thread of every answer which talks about this..."},{"owner":{"account_id":387908,"reputation":614,"user_id":746528,"accept_rate":20,"display_name":"Prashant Kalkar"},"score":0,"creation_date":1471515420,"post_id":2001696,"comment_id":65381664,"body_markdown":"@JonSkeet, I agree with you approach and can follow that for the code we control  But what do you suggest about the 3rd party dependency which might relies on System.currentTimeMillis()? Any suggestions in that situation?","body":"@JonSkeet, I agree with you approach and can follow that for the code we control  But what do you suggest about the 3rd party dependency which might relies on System.currentTimeMillis()? Any suggestions in that situation?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1471515465,"post_id":2001696,"comment_id":65381689,"body_markdown":"@PrashantKalkar: At that point, it&#39;s very hard to test without more invasive tools.","body":"@PrashantKalkar: At that point, it&#39;s very hard to test without more invasive tools."},{"owner":{"account_id":3084562,"reputation":99,"user_id":2611999,"display_name":"azis.mrazish"},"score":1,"creation_date":1565710321,"post_id":2001696,"comment_id":101433564,"body_markdown":"Yet another incorrect answer. The question was how to mock system time.","body":"Yet another incorrect answer. The question was how to mock system time."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1565714545,"post_id":2001696,"comment_id":101435496,"body_markdown":"@azis.mrazish: I was addressing the underlying reason for the question, rather than just the literal question. (I&#39;m not sure what the context of the &quot;Yet another&quot; part of your comment is... if you&#39;re suggesting that I regularly post incorrect answers, that&#39;s pretty rude.)","body":"@azis.mrazish: I was addressing the underlying reason for the question, rather than just the literal question. (I&#39;m not sure what the context of the &quot;Yet another&quot; part of your comment is... if you&#39;re suggesting that I regularly post incorrect answers, that&#39;s pretty rude.)"},{"owner":{"account_id":3084562,"reputation":99,"user_id":2611999,"display_name":"azis.mrazish"},"score":2,"creation_date":1565873600,"post_id":2001696,"comment_id":101487637,"body_markdown":"@JonSkeet Nothing personal, but I think that &#39;addressing the underlying reason&#39; it is common fallacy in public forums, and &#39;yet&#39; is result of me seeing such kind of answers as accepted in stackoverflow. I come here to check out how do people solve this valid particular case: test 3rd party and legacy code without replacing datetime management, and what I see &#39; replace Date with Clock..&#39; and so on, as acepted answer. This is not even fun. In case if my such answer would be accepted, I&#39;d rather delete it myself, for great justice.\n\nAspectJ weaving must be the accepted one here.","body":"@JonSkeet Nothing personal, but I think that &#39;addressing the underlying reason&#39; it is common fallacy in public forums, and &#39;yet&#39; is result of me seeing such kind of answers as accepted in stackoverflow. I come here to check out how do people solve this valid particular case: test 3rd party and legacy code without replacing datetime management, and what I see &#39; replace Date with Clock..&#39; and so on, as acepted answer. This is not even fun. In case if my such answer would be accepted, I&#39;d rather delete it myself, for great justice.  AspectJ weaving must be the accepted one here."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1565878223,"post_id":2001696,"comment_id":101490066,"body_markdown":"@azis.mrazish: Well given that the person who asked the question is the one who gets to decide what&#39;s accepted, I think they&#39;re the best person to decide what was actually most helpful to them.","body":"@azis.mrazish: Well given that the person who asked the question is the one who gets to decide what&#39;s accepted, I think they&#39;re the best person to decide what was actually most helpful to them."},{"owner":{"account_id":3084562,"reputation":99,"user_id":2611999,"display_name":"azis.mrazish"},"score":0,"creation_date":1653939035,"post_id":2001696,"comment_id":127968750,"body_markdown":"@JonSkeet &quot;Yet another&quot; is not addressing just your answer, it is addresses the way usual discussion communities do mislead people every time they ask. I.e. the way like &#39;I want to do this, tell me how&#39; followed by &#39;No. do another thing&#39; does not provide correct learning feedback to asking person. Here you can argue that relying on system time is design flaw, but it is secondary to question, and there may thirdparty library tested etc. Even if one asks &#39;how to weld the wood&#39;, you shall not start with &#39;go hammer a nail&#39;, before checking that wood welding is actually possible.","body":"@JonSkeet &quot;Yet another&quot; is not addressing just your answer, it is addresses the way usual discussion communities do mislead people every time they ask. I.e. the way like &#39;I want to do this, tell me how&#39; followed by &#39;No. do another thing&#39; does not provide correct learning feedback to asking person. Here you can argue that relying on system time is design flaw, but it is secondary to question, and there may thirdparty library tested etc. Even if one asks &#39;how to weld the wood&#39;, you shall not start with &#39;go hammer a nail&#39;, before checking that wood welding is actually possible."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":24,"down_vote_count":9,"up_vote_count":153,"is_accepted":true,"score":144,"last_activity_date":1262634226,"creation_date":1262634226,"answer_id":2001696,"question_id":2001671,"body_markdown":"I *strongly* recommend that instead of messing with the system clock, you bite the bullet and refactor that legacy code to use a replaceable clock. *Ideally* that should be done with dependency injection, but even if you used a replaceable singleton you would gain testability.\r\n\r\nThis could almost be automated with search and replace for the singleton version:\r\n\r\n- Replace `Calendar.getInstance()` with `Clock.getInstance().getCalendarInstance()`.\r\n- Replace `new Date()` with `Clock.getInstance().newDate()`\r\n- Replace `System.currentTimeMillis()` with `Clock.getInstance().currentTimeMillis()`\r\n\r\n(etc as required)\r\n\r\nOnce you&#39;ve taken that first step, you can replace the singleton with DI a bit at a time.","title":"Override Java System.currentTimeMillis for testing time sensitive code","body":"<p>I <em>strongly</em> recommend that instead of messing with the system clock, you bite the bullet and refactor that legacy code to use a replaceable clock. <em>Ideally</em> that should be done with dependency injection, but even if you used a replaceable singleton you would gain testability.</p>\n\n<p>This could almost be automated with search and replace for the singleton version:</p>\n\n<ul>\n<li>Replace <code>Calendar.getInstance()</code> with <code>Clock.getInstance().getCalendarInstance()</code>.</li>\n<li>Replace <code>new Date()</code> with <code>Clock.getInstance().newDate()</code></li>\n<li>Replace <code>System.currentTimeMillis()</code> with <code>Clock.getInstance().currentTimeMillis()</code></li>\n</ul>\n\n<p>(etc as required)</p>\n\n<p>Once you've taken that first step, you can replace the singleton with DI a bit at a time.</p>\n"},{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":15,"creation_date":1262636633,"post_id":2001728,"comment_id":1921038,"body_markdown":"No, I wouldn&#39;t recommend this - it doesn&#39;t move you towards a genuinely replaceable clock; it keeps you using statics throughout. Using Joda Time is of course a good idea, but I&#39;d still want to go with a Clock interface or similar.","body":"No, I wouldn&#39;t recommend this - it doesn&#39;t move you towards a genuinely replaceable clock; it keeps you using statics throughout. Using Joda Time is of course a good idea, but I&#39;d still want to go with a Clock interface or similar."},{"owner":{"account_id":16868,"reputation":19586,"user_id":37193,"accept_rate":64,"display_name":"Stephen"},"score":0,"creation_date":1262640867,"post_id":2001728,"comment_id":1921592,"body_markdown":"@Jon: True - for testing, it&#39;s ok, but it&#39;s better to have an interface.","body":"@Jon: True - for testing, it&#39;s ok, but it&#39;s better to have an interface."},{"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"score":6,"creation_date":1343208211,"post_id":2001728,"comment_id":15429945,"body_markdown":"@Jon: This is a smooth and IMHO perfect and easy way if you want to test time dependent code which already uses JodaTime. Trying to reinvent the wheel by introducing yet another abstraction layer/framework is not the way to go, if everything was solved for you with JodaTime already.","body":"@Jon: This is a smooth and IMHO perfect and easy way if you want to test time dependent code which already uses JodaTime. Trying to reinvent the wheel by introducing yet another abstraction layer/framework is not the way to go, if everything was solved for you with JodaTime already."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1343214394,"post_id":2001728,"comment_id":15432613,"body_markdown":"@StefanHaberl: You don&#39;t need to reinvent the wheel. You only need to introduce a single extra interface + implementations, and you can still use Joda Time everywhere, just avoiding the constructors which infer the current date/time.","body":"@StefanHaberl: You don&#39;t need to reinvent the wheel. You only need to introduce a single extra interface + implementations, and you can still use Joda Time everywhere, just avoiding the constructors which infer the current date/time."},{"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"score":2,"creation_date":1343225920,"post_id":2001728,"comment_id":15438413,"body_markdown":"@JonSkeet: This is not what Mike was asking for originally. He wanted a tool to test time dependent code and not a full-blown replaceable clock in production code. I prefer keeping my architecture as complex as needed but as simple as possible. Introducing an additional layer of abstraction (i.e. interface) here is simply not necessary","body":"@JonSkeet: This is not what Mike was asking for originally. He wanted a tool to test time dependent code and not a full-blown replaceable clock in production code. I prefer keeping my architecture as complex as needed but as simple as possible. Introducing an additional layer of abstraction (i.e. interface) here is simply not necessary"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1343227385,"post_id":2001728,"comment_id":15439202,"body_markdown":"@StefanHaberl: There are many things which aren&#39;t strictly &quot;necessary&quot; - but really what I&#39;m suggesting is making an already-present dependency *explicit* and more easily testable in isolation. Faking the system time with statics has all the normal problems of statics - it&#39;s global state *for no good reason*. Mike was asking for a way to write testable code which used the current date and time. I still believe my suggestion is far cleaner (and makes dependencies clearer) than effectively fudging a static.","body":"@StefanHaberl: There are many things which aren&#39;t strictly &quot;necessary&quot; - but really what I&#39;m suggesting is making an already-present dependency <i>explicit</i> and more easily testable in isolation. Faking the system time with statics has all the normal problems of statics - it&#39;s global state <i>for no good reason</i>. Mike was asking for a way to write testable code which used the current date and time. I still believe my suggestion is far cleaner (and makes dependencies clearer) than effectively fudging a static."}],"tags":[],"owner":{"account_id":16868,"reputation":19586,"user_id":37193,"accept_rate":64,"display_name":"Stephen"},"comment_count":6,"down_vote_count":1,"up_vote_count":44,"is_accepted":false,"score":43,"last_activity_date":1262641150,"creation_date":1262634527,"answer_id":2001728,"question_id":2001671,"body_markdown":"As [said by Jon Skeet][1]: \r\n\r\n&gt; &quot;use Joda Time&quot; is almost always the best answer to any question involving &quot;how do I achieve X with java.util.Date/Calendar?&quot;\r\n\r\nSo here goes (presuming you&#39;ve just replaced all your `new Date()` with `new DateTime().toDate()`)\r\n\r\n    //Change to specific time\r\n    DateTimeUtils.setCurrentMillisFixed(millis);\r\n    //or set the clock to be a difference from system time\r\n    DateTimeUtils.setCurrentMillisOffset(millis);\r\n    //Reset to system time\r\n    DateTimeUtils.setCurrentMillisSystem();\r\n\r\nIf you want import a library that has an interface (see Jon&#39;s comment below), you could just use [Prevayler&#39;s Clock][2], which will provide implementations as well as the standard interface.  The full jar is only 96kB, so it shouldn&#39;t break the bank...\r\n\r\n\r\n  [1]: http://msmvps.com/blogs/jon_skeet/archive/2009/11/05/what-s-in-a-name-again.aspx\r\n  [2]: http://www.prevayler.org/apidocs/org/prevayler/Clock.html","title":"Override Java System.currentTimeMillis for testing time sensitive code","body":"<p>As <a href=\"http://msmvps.com/blogs/jon_skeet/archive/2009/11/05/what-s-in-a-name-again.aspx\" rel=\"noreferrer\">said by Jon Skeet</a>: </p>\n\n<blockquote>\n  <p>\"use Joda Time\" is almost always the best answer to any question involving \"how do I achieve X with java.util.Date/Calendar?\"</p>\n</blockquote>\n\n<p>So here goes (presuming you've just replaced all your <code>new Date()</code> with <code>new DateTime().toDate()</code>)</p>\n\n<pre><code>//Change to specific time\nDateTimeUtils.setCurrentMillisFixed(millis);\n//or set the clock to be a difference from system time\nDateTimeUtils.setCurrentMillisOffset(millis);\n//Reset to system time\nDateTimeUtils.setCurrentMillisSystem();\n</code></pre>\n\n<p>If you want import a library that has an interface (see Jon's comment below), you could just use <a href=\"http://www.prevayler.org/apidocs/org/prevayler/Clock.html\" rel=\"noreferrer\">Prevayler's Clock</a>, which will provide implementations as well as the standard interface.  The full jar is only 96kB, so it shouldn't break the bank...</p>\n"},{"comments":[{"owner":{"account_id":42147,"reputation":16251,"user_id":2326914,"accept_rate":33,"display_name":"Rog&#233;rio"},"score":0,"creation_date":1417365574,"post_id":2001731,"comment_id":42910956,"body_markdown":"This works, of course, but it&#39;s much easier to do with a mocking tool than with an AOP tool; the latter kind of tool is just too generic for the purpose in question.","body":"This works, of course, but it&#39;s much easier to do with a mocking tool than with an AOP tool; the latter kind of tool is just too generic for the purpose in question."}],"tags":[],"owner":{"account_id":28208,"reputation":14132,"user_id":75126,"accept_rate":100,"display_name":"mhaller"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1262634541,"creation_date":1262634541,"answer_id":2001731,"question_id":2001671,"body_markdown":"Use Aspect-Oriented Programming (AOP, for example AspectJ) to weave the System class to return a predefined value which you could set within your test cases.\r\n\r\nOr weave the application classes to redirect the call to `System.currentTimeMillis()` or to `new Date()` to another utility class of your own.\r\n\r\nWeaving system classes (`java.lang.*`) is however a little bit more trickier and you might need to perform offline weaving for rt.jar and use a separate JDK/rt.jar for your tests.\r\n\r\nIt&#39;s called **Binary weaving** and there are also special [tools][1] to perform weaving of System classes and circumvent some problems with that (e.g. bootstrapping the VM may not work)\r\n\r\n  [1]: http://dev.eclipse.org/mhonarc/lists/aspectj-users/msg09899.html","title":"Override Java System.currentTimeMillis for testing time sensitive code","body":"<p>Use Aspect-Oriented Programming (AOP, for example AspectJ) to weave the System class to return a predefined value which you could set within your test cases.</p>\n\n<p>Or weave the application classes to redirect the call to <code>System.currentTimeMillis()</code> or to <code>new Date()</code> to another utility class of your own.</p>\n\n<p>Weaving system classes (<code>java.lang.*</code>) is however a little bit more trickier and you might need to perform offline weaving for rt.jar and use a separate JDK/rt.jar for your tests.</p>\n\n<p>It's called <strong>Binary weaving</strong> and there are also special <a href=\"http://dev.eclipse.org/mhonarc/lists/aspectj-users/msg09899.html\" rel=\"noreferrer\">tools</a> to perform weaving of System classes and circumvent some problems with that (e.g. bootstrapping the VM may not work)</p>\n"},{"comments":[{"owner":{"account_id":333131,"reputation":2273,"user_id":658826,"display_name":"virgo47"},"score":0,"creation_date":1357135179,"post_id":2572222,"comment_id":19549812,"body_markdown":"I tried to use Powermock, and if I understood it correctly it wouldn&#39;t really mock callee side. Instead it finds all callers and than applies the mock. This may be extremely time consuming as you have to let it check EVERY class in your classpath if you want to be realy really sure your application works in shifted time. Correct me if I&#39;m wrong about Powermock way of mocking.","body":"I tried to use Powermock, and if I understood it correctly it wouldn&#39;t really mock callee side. Instead it finds all callers and than applies the mock. This may be extremely time consuming as you have to let it check EVERY class in your classpath if you want to be realy really sure your application works in shifted time. Correct me if I&#39;m wrong about Powermock way of mocking."},{"owner":{"account_id":42147,"reputation":16251,"user_id":2326914,"accept_rate":33,"display_name":"Rog&#233;rio"},"score":1,"creation_date":1417365264,"post_id":2572222,"comment_id":42910852,"body_markdown":"@virgo47 No, you understood it wrong. PowerMock will never &quot;check every class in your classpath&quot;; it will only check the classes that you specifically tell it to check (through the `@PrepareForTest` annotation on the test class).","body":"@virgo47 No, you understood it wrong. PowerMock will never &quot;check every class in your classpath&quot;; it will only check the classes that you specifically tell it to check (through the <code>@PrepareForTest</code> annotation on the test class)."},{"owner":{"account_id":333131,"reputation":2273,"user_id":658826,"display_name":"virgo47"},"score":1,"creation_date":1417439683,"post_id":2572222,"comment_id":42935428,"body_markdown":"@Rog&#233;rio - that&#39;s exactly how I understand it - I said &quot;you have to let it...&quot;. That is if you expect call to `System.currentTimeMillis` anywhere on your classpath (any lib) you have to check every class. That&#39;s what I meant, nothing else. The point is that you mock that behavior on caller side (&quot;you specifically tell&quot;). This is OK for simple test but not for tests where you can&#39;t be sure what calls that method from where (e.g. more complex component tests with libraries involved). That does not mean Powermock is wrong at all, it just means that you can&#39;t use it for this type of test.","body":"@Rog&#233;rio - that&#39;s exactly how I understand it - I said &quot;you have to let it...&quot;. That is if you expect call to <code>System.currentTimeMillis</code> anywhere on your classpath (any lib) you have to check every class. That&#39;s what I meant, nothing else. The point is that you mock that behavior on caller side (&quot;you specifically tell&quot;). This is OK for simple test but not for tests where you can&#39;t be sure what calls that method from where (e.g. more complex component tests with libraries involved). That does not mean Powermock is wrong at all, it just means that you can&#39;t use it for this type of test."},{"owner":{"account_id":42147,"reputation":16251,"user_id":2326914,"accept_rate":33,"display_name":"Rog&#233;rio"},"score":1,"creation_date":1417529495,"post_id":2572222,"comment_id":42976968,"body_markdown":"@virgo47 Yes, I see what you mean. I thought you meant that PowerMock would have to automatically examine every class in the classpath, which obviously would be absurd. In practice, though, for unit tests we usually know which class(es) reads the time, so it&#39;s not an issue to specify it; for integration tests, indeed, the requirement in PowerMock to have all using classes specified may be a problem.","body":"@virgo47 Yes, I see what you mean. I thought you meant that PowerMock would have to automatically examine every class in the classpath, which obviously would be absurd. In practice, though, for unit tests we usually know which class(es) reads the time, so it&#39;s not an issue to specify it; for integration tests, indeed, the requirement in PowerMock to have all using classes specified may be a problem."}],"tags":[],"owner":{"account_id":15634,"reputation":3535,"user_id":33229,"accept_rate":60,"display_name":"ReneS"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1462971103,"creation_date":1270319232,"answer_id":2572222,"question_id":2001671,"body_markdown":"[Powermock][1] works great. Just used it to mock `System.currentTimeMillis()`. \r\n\r\n  [1]: https://github.com/jayway/powermock","title":"Override Java System.currentTimeMillis for testing time sensitive code","body":"<p><a href=\"https://github.com/jayway/powermock\" rel=\"nofollow noreferrer\">Powermock</a> works great. Just used it to mock <code>System.currentTimeMillis()</code>. </p>\n"},{"comments":[{"owner":{"account_id":333131,"reputation":2273,"user_id":658826,"display_name":"virgo47"},"score":3,"creation_date":1341256891,"post_id":11173592,"comment_id":14867180,"body_markdown":"jmockit solution working for unlimited number of times with a little -XX:-Inline hack (on Sun&#39;s HotSpot): http://virgo47.wordpress.com/2012/06/22/changing-system-time-in-java/\nComplete handy class SystemTimeShifter is provided in the post. Class can be used in your tests, or it can be used as the first main class before your real main class very easily in order to run your application (or even whole appserver) in a different time. Of course, this is intented for testing purposes mainly, not for production environment.","body":"jmockit solution working for unlimited number of times with a little -XX:-Inline hack (on Sun&#39;s HotSpot): <a href=\"http://virgo47.wordpress.com/2012/06/22/changing-system-time-in-java/\" rel=\"nofollow noreferrer\">virgo47.wordpress.com/2012/06/22/changing-system-time-in-jav&zwnj;&#8203;a</a> Complete handy class SystemTimeShifter is provided in the post. Class can be used in your tests, or it can be used as the first main class before your real main class very easily in order to run your application (or even whole appserver) in a different time. Of course, this is intented for testing purposes mainly, not for production environment."}],"tags":[],"owner":{"account_id":1595006,"reputation":41,"user_id":1477398,"display_name":"user1477398"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1340491592,"creation_date":1340491592,"answer_id":11173592,"question_id":2001671,"body_markdown":"In my opinion only a none-invasive solution can work. Especially if you have external libs and a big legacy code base there is no reliable way to mock out time.\r\n\r\nJMockit ... works only for restricted number of [times][1]\r\n\r\nPowerMock &amp; Co ...needs to mock the [clients][2] to System.currentTimeMillis(). Again an invasive option.\r\n\r\nFrom this I only see the mentioned *javaagent* or *aop* approach being transparent to the whole system. Has anybody done that and could point to such a solution?\r\n \r\n@jarnbjo: could you show some of the javaagent code please?\r\n\r\n  [1]: http://code.google.com/p/jmockit/issues/detail?can=2&amp;start=0&amp;num=100&amp;q=&amp;colspec=ID%20Tool%20Type%20Status%20Priority%20Summary&amp;groupby=&amp;sort=&amp;id=43\r\n  [2]: http://code.google.com/p/powermock/wiki/MockSystem","title":"Override Java System.currentTimeMillis for testing time sensitive code","body":"<p>In my opinion only a none-invasive solution can work. Especially if you have external libs and a big legacy code base there is no reliable way to mock out time.</p>\n\n<p>JMockit ... works only for restricted number of <a href=\"http://code.google.com/p/jmockit/issues/detail?can=2&amp;start=0&amp;num=100&amp;q=&amp;colspec=ID%20Tool%20Type%20Status%20Priority%20Summary&amp;groupby=&amp;sort=&amp;id=43\" rel=\"nofollow\">times</a></p>\n\n<p>PowerMock &amp; Co ...needs to mock the <a href=\"http://code.google.com/p/powermock/wiki/MockSystem\" rel=\"nofollow\">clients</a> to System.currentTimeMillis(). Again an invasive option.</p>\n\n<p>From this I only see the mentioned <em>javaagent</em> or <em>aop</em> approach being transparent to the whole system. Has anybody done that and could point to such a solution?</p>\n\n<p>@jarnbjo: could you show some of the javaagent code please?</p>\n"},{"comments":[{"owner":{"account_id":22589,"reputation":7074,"user_id":55870,"accept_rate":88,"display_name":"Dan Berindei"},"score":1,"creation_date":1359636002,"post_id":14120081,"comment_id":20427460,"body_markdown":"The fact that you&#39;re changing the time for every class goes both ways... for instance if you&#39;d mock nanoTime instead of currentTimeMillis you&#39;d have to be very careful not to break java.util.concurrent. As a rule of thumb, if a 3rd party library is hard to use in tests, you shouldn&#39;t mock the inputs of the library: you should mock the library itself.","body":"The fact that you&#39;re changing the time for every class goes both ways... for instance if you&#39;d mock nanoTime instead of currentTimeMillis you&#39;d have to be very careful not to break java.util.concurrent. As a rule of thumb, if a 3rd party library is hard to use in tests, you shouldn&#39;t mock the inputs of the library: you should mock the library itself."},{"owner":{"account_id":333131,"reputation":2273,"user_id":658826,"display_name":"virgo47"},"score":1,"creation_date":1360585742,"post_id":14120081,"comment_id":20746872,"body_markdown":"We use this technique for tests where we don&#39;t mock anything else. It is integration test and we test the whole stack whether it does what it should when some activity happens the first time in year, etc. Good point about nanoTime, luckily we don&#39;t need to mock that one as it has no wall-clock meaning at all. I&#39;d love to see Java with time shifting features as I needed them more than once already and messing with system time because of this is very unlucky.","body":"We use this technique for tests where we don&#39;t mock anything else. It is integration test and we test the whole stack whether it does what it should when some activity happens the first time in year, etc. Good point about nanoTime, luckily we don&#39;t need to mock that one as it has no wall-clock meaning at all. I&#39;d love to see Java with time shifting features as I needed them more than once already and messing with system time because of this is very unlucky."}],"tags":[],"owner":{"account_id":333131,"reputation":2273,"user_id":658826,"display_name":"virgo47"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1405331554,"creation_date":1357121124,"answer_id":14120081,"question_id":2001671,"body_markdown":"While using some DateFactory pattern seems nice, it does not cover libraries you can&#39;t control - imagine Validation annotation @Past with implementation relying on System.currentTimeMillis (there is such).\r\n\r\nThat&#39;s why we use jmockit to mock the system time directly:\r\n\r\n    import mockit.Mock;\r\n    import mockit.MockClass;\r\n    ...\r\n    @MockClass(realClass = System.class)\r\n    public static class SystemMock {\r\n        /**\r\n         * Fake current time millis returns value modified by required offset.\r\n         *\r\n         * @return fake &quot;current&quot; millis\r\n         */\r\n        @Mock\r\n        public static long currentTimeMillis() {\r\n            return INIT_MILLIS + offset + millisSinceClassInit();\r\n        }\r\n    }\r\n\r\n    Mockit.setUpMock(SystemMock.class);\r\n\r\nBecause it&#39;s not possible to get to the original unmocked value of millis, we use nano timer instead - this is not related to wall clock, but relative time suffices here:\r\n\r\n    // runs before the mock is applied\r\n    private static final long INIT_MILLIS = System.currentTimeMillis();\r\n    private static final long INIT_NANOS = System.nanoTime();\r\n    \r\n    private static long millisSinceClassInit() {\r\n        return (System.nanoTime() - INIT_NANOS) / 1000000;\r\n    }\r\n\r\nThere is documented problem, that with HotSpot the time gets back to normal after a number of calls - here is the issue report: http://code.google.com/p/jmockit/issues/detail?id=43\r\n\r\nTo overcome this we have to turn on one specific HotSpot optimization - run JVM with this argument `-XX:-Inline`.\r\n\r\nWhile this may not be perfect for production, it is just fine for tests and it is absolutely transparent for application, especially when DataFactory doesn&#39;t make business sense and is introduced only because of tests. It would be nice to have built-in JVM option to run in different time, too bad it is not possible without hacks like this.\r\n\r\nComplete story is in my blog post here:\r\nhttp://virgo47.wordpress.com/2012/06/22/changing-system-time-in-java/\r\n\r\nComplete handy class SystemTimeShifter is provided in the post. Class can be used in your tests, or it can be used as the first main class before your real main class very easily in order to run your application (or even whole appserver) in a different time. Of course, this is intented for testing purposes mainly, not for production environment.\r\n\r\nEDIT July 2014: JMockit changed a lot lately and you are bound to use JMockit 1.0 to use this correctly (IIRC). Definitely can&#39;t upgrade to newest version where interface is completly different. I was thinking about inlining just the necessary stuff, but as we don&#39;t need this thing in our new projects I&#39;m not developing this thing at all.","title":"Override Java System.currentTimeMillis for testing time sensitive code","body":"<p>While using some DateFactory pattern seems nice, it does not cover libraries you can't control - imagine Validation annotation @Past with implementation relying on System.currentTimeMillis (there is such).</p>\n\n<p>That's why we use jmockit to mock the system time directly:</p>\n\n<pre><code>import mockit.Mock;\nimport mockit.MockClass;\n...\n@MockClass(realClass = System.class)\npublic static class SystemMock {\n    /**\n     * Fake current time millis returns value modified by required offset.\n     *\n     * @return fake \"current\" millis\n     */\n    @Mock\n    public static long currentTimeMillis() {\n        return INIT_MILLIS + offset + millisSinceClassInit();\n    }\n}\n\nMockit.setUpMock(SystemMock.class);\n</code></pre>\n\n<p>Because it's not possible to get to the original unmocked value of millis, we use nano timer instead - this is not related to wall clock, but relative time suffices here:</p>\n\n<pre><code>// runs before the mock is applied\nprivate static final long INIT_MILLIS = System.currentTimeMillis();\nprivate static final long INIT_NANOS = System.nanoTime();\n\nprivate static long millisSinceClassInit() {\n    return (System.nanoTime() - INIT_NANOS) / 1000000;\n}\n</code></pre>\n\n<p>There is documented problem, that with HotSpot the time gets back to normal after a number of calls - here is the issue report: <a href=\"http://code.google.com/p/jmockit/issues/detail?id=43\">http://code.google.com/p/jmockit/issues/detail?id=43</a></p>\n\n<p>To overcome this we have to turn on one specific HotSpot optimization - run JVM with this argument <code>-XX:-Inline</code>.</p>\n\n<p>While this may not be perfect for production, it is just fine for tests and it is absolutely transparent for application, especially when DataFactory doesn't make business sense and is introduced only because of tests. It would be nice to have built-in JVM option to run in different time, too bad it is not possible without hacks like this.</p>\n\n<p>Complete story is in my blog post here:\n<a href=\"http://virgo47.wordpress.com/2012/06/22/changing-system-time-in-java/\">http://virgo47.wordpress.com/2012/06/22/changing-system-time-in-java/</a></p>\n\n<p>Complete handy class SystemTimeShifter is provided in the post. Class can be used in your tests, or it can be used as the first main class before your real main class very easily in order to run your application (or even whole appserver) in a different time. Of course, this is intented for testing purposes mainly, not for production environment.</p>\n\n<p>EDIT July 2014: JMockit changed a lot lately and you are bound to use JMockit 1.0 to use this correctly (IIRC). Definitely can't upgrade to newest version where interface is completly different. I was thinking about inlining just the necessary stuff, but as we don't need this thing in our new projects I'm not developing this thing at all.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":1,"up_vote_count":107,"is_accepted":false,"score":106,"last_activity_date":1701432757,"creation_date":1414310041,"answer_id":26570951,"question_id":2001671,"body_markdown":"# tl;dr\r\n\r\n&gt;Is there a way, either in code or with JVM arguments, to override the current time, as presented via System.currentTimeMillis, other than manually changing the system clock on the host machine?\r\n\r\nYes.\r\n\r\n    Instant.now( \r\n        Clock.fixed( \r\n            Instant.parse( &quot;2016-01-23T12:34:56Z&quot;), ZoneOffset.UTC\r\n        )\r\n    )\r\n\r\n# `Clock` In java.time\r\n\r\nWe have a new solution to the problem of a pluggable clock replacement to facilitate testing with *faux* date-time values. The [java.time package][1] in [Java 8][2] includes an abstract class [`java.time.Clock`][3], with an explicit purpose:\r\n\r\n&gt; to allow alternate clocks to be plugged in as and when required\r\n\r\nYou could plug in your own implementation of `Clock`, though you likely can find one already made to meet your needs. For your convenience, java.time includes static methods to yield special implementations. These alternate implementations can be valuable during testing. \r\n\r\n## Altered cadence\r\n\r\nThe various  `tick…` methods produce clocks that increment the current moment with a different cadence.\r\n\r\nThe default `Clock` reports a time updated as frequently as [milliseconds][4] in Java 8 and in Java 9 as fine as [nanoseconds][5]  (depending on your hardware). You can ask for the true current moment to be reported with a different granularity.\r\n\r\n - [`tickSeconds`][6] - Increments in whole seconds\r\n - [`tickMinutes`][7] - Increments in whole minutes\r\n - [`tick`][8] - Increments by the passed [`Duration`][9] argument.\r\n\r\n## False clocks\r\n\r\nSome clocks can lie, producing a result different than that of the host OS’ hardware clock.\r\n\r\n - [`fixed`](http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#fixed-java.time.Instant-java.time.ZoneId-) - Reports a single unchanging (non-incrementing) moment as the current moment.\r\n - [`offset`](http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#offset-java.time.Clock-java.time.Duration-) - Reports the current moment but shifted by the passed [`Duration`][9] argument.\r\n\r\nFor example, lock in the first moment of the earliest Christmas this year. in other words, when [Santa and his reindeer make their first stop][10]. The earliest time zone nowadays seems to be [`Pacific/Kiritimati`](https://en.wikipedia.org/wiki/Pacific/Kiritimati) at `+14:00`.\r\n\r\n    LocalDate ld = LocalDate.now( ZoneId.of( &quot;America/Montreal&quot; ) );\r\n    LocalDate xmasThisYear = MonthDay.of( Month.DECEMBER , 25 ).atYear( ld.getYear() );\r\n    ZoneId earliestXmasZone = ZoneId.of( &quot;Pacific/Kiritimati&quot; ) ;\r\n    ZonedDateTime zdtEarliestXmasThisYear = xmasThisYear.atStartOfDay( earliestXmasZone );\r\n    Instant instantEarliestXmasThisYear = zdtEarliestXmasThisYear.toInstant();\r\n    Clock clockEarliestXmasThisYear = Clock.fixed( instantEarliestXmasThisYear , earliestXmasZone );\r\n\r\nUse that special fixed clock to always return the same moment. We get the first moment of Christmas day in [Kiritimati][11], with UTC showing a [wall-clock time][12] of fourteen hours earlier, 10 AM on the prior date of the 24th of December. \r\n\r\n&lt;img src=&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Kiribati_on_the_globe_%28Polynesia_centered%29.svg/500px-Kiribati_on_the_globe_%28Polynesia_centered%29.svg.png&quot; height=&quot;180&quot;&gt;\r\n\r\n    Instant instant = Instant.now( clockEarliestXmasThisYear );\r\n    ZonedDateTime zdt = ZonedDateTime.now( clockEarliestXmasThisYear );\r\n\r\n&gt;instant.toString(): 2016-12-24T10:00:00Z\r\n\r\n&gt;zdt.toString(): 2016-12-25T00:00+14:00[Pacific/Kiritimati]\r\n\r\nSee [live code in IdeOne.com][13].\r\n\r\n## True time, different time zone\r\n\r\nYou can control which time zone is assigned by the `Clock` implementation. This might be useful in some testing. But I do not recommend this in production code, where you should always specify explicitly the optional `ZoneId` or `ZoneOffset` arguments.\r\n\r\nYou can specify that UTC be the default zone.\r\n\r\n    ZonedDateTime zdtClockSystemUTC = ZonedDateTime.now ( Clock.systemUTC () );\r\n\r\nYou can specify any particular time zone. Specify a [proper time zone name](https://en.wikipedia.org/wiki/List_of_tz_zones_by_name) in the format of `continent/region`, such as [`America/Montreal`](https://en.wikipedia.org/wiki/America/Montreal), [`Africa/Casablanca`](https://en.wikipedia.org/wiki/Africa/Casablanca), or `Pacific/Auckland`. Never use the 3-4 letter abbreviation such as `EST` or `IST` as they are *not* true time zones, not standardized, and not even unique(!). \r\n\r\n    ZonedDateTime zdtClockSystem = ZonedDateTime.now ( Clock.system ( ZoneId.of ( &quot;America/Montreal&quot; ) ) );\r\n\r\nYou can specify the JVM’s current default time zone should be the default for a particular `Clock` object.\r\n\r\n    ZonedDateTime zdtClockSystemDefaultZone = ZonedDateTime.now ( Clock.systemDefaultZone () );\r\n\r\nRun this code to compare. Note that they all report the same moment, the same point on the timeline. They differ only in [wall-clock time][12]; in other words, three ways to say the same thing, three ways to display the same moment.\r\n\r\n    System.out.println ( &quot;zdtClockSystemUTC.toString(): &quot; + zdtClockSystemUTC );\r\n    System.out.println ( &quot;zdtClockSystem.toString(): &quot; + zdtClockSystem );\r\n    System.out.println ( &quot;zdtClockSystemDefaultZone.toString(): &quot; + zdtClockSystemDefaultZone );\r\n\r\n`America/Los_Angeles` was the JVM current default zone on the computer that ran this code.\r\n\r\n&gt;zdtClockSystemUTC.toString(): 2016-12-31T20:52:39.688Z\r\n\r\n&gt;zdtClockSystem.toString(): 2016-12-31T15:52:39.750-05:00[America/Montreal]\r\n\r\n&gt;zdtClockSystemDefaultZone.toString(): 2016-12-31T12:52:39.762-08:00[America/Los_Angeles] \r\n\r\nThe [`Instant`][14] class is always in UTC by definition. So these three zone-related `Clock` usages have exactly the same effect.\r\n\r\n    Instant instantClockSystemUTC = Instant.now ( Clock.systemUTC () );\r\n    Instant instantClockSystem = Instant.now ( Clock.system ( ZoneId.of ( &quot;America/Montreal&quot; ) ) );\r\n    Instant instantClockSystemDefaultZone = Instant.now ( Clock.systemDefaultZone () );\r\n\r\n&gt;instantClockSystemUTC.toString(): 2016-12-31T20:52:39.763Z\r\n\r\n&gt;instantClockSystem.toString(): 2016-12-31T20:52:39.763Z\r\n\r\n&gt;instantClockSystemDefaultZone.toString(): 2016-12-31T20:52:39.763Z\r\n\r\n## Default clock\r\n\r\nThe implementation used by default for `Instant.now` is the one returned by [`Clock.systemUTC()`][15]. This is the implementation used when you do not specify a `Clock`. See for yourself in [pre-release Java 9 source code for `Instant.now`][16].\r\n\r\n    public static Instant now() {\r\n        return Clock.systemUTC().instant();\r\n    }\r\n\r\nThe default `Clock` for `OffsetDateTime.now` and `ZonedDateTime.now` is `Clock.systemDefaultZone()`. See [source code](http://hg.openjdk.java.net/jdk9/dev/jdk/file/caa487ca77b0/src/java.base/share/classes/java/time/ZonedDateTime.java).\r\n\r\n    public static ZonedDateTime now() {\r\n        return now(Clock.systemDefaultZone());\r\n    }\r\n\r\nThe behavior of the default implementations changed between Java 8 and Java 9. In Java 8, the current moment is captured with a resolution only in [milliseconds][17] despite the classes’ ability to store a resolution of [nanoseconds][18]. Java 9 brings a new implementation able to capture the current moment with a resolution of nanoseconds – depending, of course, on the capability of your computer hardware clock. \r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes. Hibernate 5 &amp; JPA 2.2 support *java.time*. \r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n   - [**Java 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) brought some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n   - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n   - Later versions of Android (26+) bundle implementations of the *java.time* classes.\r\n   - For earlier Android (&lt;26), a process known as [*API desugaring*](https://developer.android.com/studio/write/java8-support#library-desugaring) brings a [subset of the *java.time*](https://developer.android.com/studio/write/java8-support-table) functionality not originally built into Android.\r\n     - If the desugaring does not offer what you need, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above) to Android. See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [2]: http://en.wikipedia.org/wiki/Java_version_history#Java_SE_8_.28March_18.2C_2014.29\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html\r\n  [4]: https://en.m.wikipedia.org/wiki/Millisecond\r\n  [5]: https://en.m.wikipedia.org/wiki/Nanosecond\r\n  [6]: http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#tickSeconds-java.time.ZoneId-\r\n  [7]: http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#tickMinutes-java.time.ZoneId-\r\n  [8]: http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#tick-java.time.Clock-java.time.Duration-\r\n  [9]: http://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\r\n  [10]: https://www.noradsanta.org/en/\r\n  [11]: https://en.wikipedia.org/wiki/Kiritimati\r\n  [12]: https://en.wikipedia.org/wiki/Wall-clock_time\r\n  [13]: http://ideone.com/6XEhAN\r\n  [14]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\r\n  [15]: https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#systemUTC--\r\n  [16]: http://hg.openjdk.java.net/jdk9/dev/jdk/file/caa487ca77b0/src/java.base/share/classes/java/time/Instant.java\r\n  [17]: https://en.wikipedia.org/wiki/Millisecond\r\n  [18]: https://en.wikipedia.org/wiki/Nanosecond","title":"Override Java System.currentTimeMillis for testing time sensitive code","body":"<h1>tl;dr</h1>\n<blockquote>\n<p>Is there a way, either in code or with JVM arguments, to override the current time, as presented via System.currentTimeMillis, other than manually changing the system clock on the host machine?</p>\n</blockquote>\n<p>Yes.</p>\n<pre><code>Instant.now( \n    Clock.fixed( \n        Instant.parse( &quot;2016-01-23T12:34:56Z&quot;), ZoneOffset.UTC\n    )\n)\n</code></pre>\n<h1><code>Clock</code> In java.time</h1>\n<p>We have a new solution to the problem of a pluggable clock replacement to facilitate testing with <em>faux</em> date-time values. The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time package</a> in <a href=\"http://en.wikipedia.org/wiki/Java_version_history#Java_SE_8_.28March_18.2C_2014.29\" rel=\"nofollow noreferrer\">Java 8</a> includes an abstract class <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html\" rel=\"nofollow noreferrer\"><code>java.time.Clock</code></a>, with an explicit purpose:</p>\n<blockquote>\n<p>to allow alternate clocks to be plugged in as and when required</p>\n</blockquote>\n<p>You could plug in your own implementation of <code>Clock</code>, though you likely can find one already made to meet your needs. For your convenience, java.time includes static methods to yield special implementations. These alternate implementations can be valuable during testing.</p>\n<h2>Altered cadence</h2>\n<p>The various  <code>tick…</code> methods produce clocks that increment the current moment with a different cadence.</p>\n<p>The default <code>Clock</code> reports a time updated as frequently as <a href=\"https://en.m.wikipedia.org/wiki/Millisecond\" rel=\"nofollow noreferrer\">milliseconds</a> in Java 8 and in Java 9 as fine as <a href=\"https://en.m.wikipedia.org/wiki/Nanosecond\" rel=\"nofollow noreferrer\">nanoseconds</a>  (depending on your hardware). You can ask for the true current moment to be reported with a different granularity.</p>\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#tickSeconds-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>tickSeconds</code></a> - Increments in whole seconds</li>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#tickMinutes-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>tickMinutes</code></a> - Increments in whole minutes</li>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#tick-java.time.Clock-java.time.Duration-\" rel=\"nofollow noreferrer\"><code>tick</code></a> - Increments by the passed <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\" rel=\"nofollow noreferrer\"><code>Duration</code></a> argument.</li>\n</ul>\n<h2>False clocks</h2>\n<p>Some clocks can lie, producing a result different than that of the host OS’ hardware clock.</p>\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#fixed-java.time.Instant-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>fixed</code></a> - Reports a single unchanging (non-incrementing) moment as the current moment.</li>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#offset-java.time.Clock-java.time.Duration-\" rel=\"nofollow noreferrer\"><code>offset</code></a> - Reports the current moment but shifted by the passed <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\" rel=\"nofollow noreferrer\"><code>Duration</code></a> argument.</li>\n</ul>\n<p>For example, lock in the first moment of the earliest Christmas this year. in other words, when <a href=\"https://www.noradsanta.org/en/\" rel=\"nofollow noreferrer\">Santa and his reindeer make their first stop</a>. The earliest time zone nowadays seems to be <a href=\"https://en.wikipedia.org/wiki/Pacific/Kiritimati\" rel=\"nofollow noreferrer\"><code>Pacific/Kiritimati</code></a> at <code>+14:00</code>.</p>\n<pre><code>LocalDate ld = LocalDate.now( ZoneId.of( &quot;America/Montreal&quot; ) );\nLocalDate xmasThisYear = MonthDay.of( Month.DECEMBER , 25 ).atYear( ld.getYear() );\nZoneId earliestXmasZone = ZoneId.of( &quot;Pacific/Kiritimati&quot; ) ;\nZonedDateTime zdtEarliestXmasThisYear = xmasThisYear.atStartOfDay( earliestXmasZone );\nInstant instantEarliestXmasThisYear = zdtEarliestXmasThisYear.toInstant();\nClock clockEarliestXmasThisYear = Clock.fixed( instantEarliestXmasThisYear , earliestXmasZone );\n</code></pre>\n<p>Use that special fixed clock to always return the same moment. We get the first moment of Christmas day in <a href=\"https://en.wikipedia.org/wiki/Kiritimati\" rel=\"nofollow noreferrer\">Kiritimati</a>, with UTC showing a <a href=\"https://en.wikipedia.org/wiki/Wall-clock_time\" rel=\"nofollow noreferrer\">wall-clock time</a> of fourteen hours earlier, 10 AM on the prior date of the 24th of December.</p>\n<img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Kiribati_on_the_globe_%28Polynesia_centered%29.svg/500px-Kiribati_on_the_globe_%28Polynesia_centered%29.svg.png\" height=\"180\">\n<pre><code>Instant instant = Instant.now( clockEarliestXmasThisYear );\nZonedDateTime zdt = ZonedDateTime.now( clockEarliestXmasThisYear );\n</code></pre>\n<blockquote>\n<p>instant.toString(): 2016-12-24T10:00:00Z</p>\n</blockquote>\n<blockquote>\n<p>zdt.toString(): 2016-12-25T00:00+14:00[Pacific/Kiritimati]</p>\n</blockquote>\n<p>See <a href=\"http://ideone.com/6XEhAN\" rel=\"nofollow noreferrer\">live code in IdeOne.com</a>.</p>\n<h2>True time, different time zone</h2>\n<p>You can control which time zone is assigned by the <code>Clock</code> implementation. This might be useful in some testing. But I do not recommend this in production code, where you should always specify explicitly the optional <code>ZoneId</code> or <code>ZoneOffset</code> arguments.</p>\n<p>You can specify that UTC be the default zone.</p>\n<pre><code>ZonedDateTime zdtClockSystemUTC = ZonedDateTime.now ( Clock.systemUTC () );\n</code></pre>\n<p>You can specify any particular time zone. Specify a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_zones_by_name\" rel=\"nofollow noreferrer\">proper time zone name</a> in the format of <code>continent/region</code>, such as <a href=\"https://en.wikipedia.org/wiki/America/Montreal\" rel=\"nofollow noreferrer\"><code>America/Montreal</code></a>, <a href=\"https://en.wikipedia.org/wiki/Africa/Casablanca\" rel=\"nofollow noreferrer\"><code>Africa/Casablanca</code></a>, or <code>Pacific/Auckland</code>. Never use the 3-4 letter abbreviation such as <code>EST</code> or <code>IST</code> as they are <em>not</em> true time zones, not standardized, and not even unique(!).</p>\n<pre><code>ZonedDateTime zdtClockSystem = ZonedDateTime.now ( Clock.system ( ZoneId.of ( &quot;America/Montreal&quot; ) ) );\n</code></pre>\n<p>You can specify the JVM’s current default time zone should be the default for a particular <code>Clock</code> object.</p>\n<pre><code>ZonedDateTime zdtClockSystemDefaultZone = ZonedDateTime.now ( Clock.systemDefaultZone () );\n</code></pre>\n<p>Run this code to compare. Note that they all report the same moment, the same point on the timeline. They differ only in <a href=\"https://en.wikipedia.org/wiki/Wall-clock_time\" rel=\"nofollow noreferrer\">wall-clock time</a>; in other words, three ways to say the same thing, three ways to display the same moment.</p>\n<pre><code>System.out.println ( &quot;zdtClockSystemUTC.toString(): &quot; + zdtClockSystemUTC );\nSystem.out.println ( &quot;zdtClockSystem.toString(): &quot; + zdtClockSystem );\nSystem.out.println ( &quot;zdtClockSystemDefaultZone.toString(): &quot; + zdtClockSystemDefaultZone );\n</code></pre>\n<p><code>America/Los_Angeles</code> was the JVM current default zone on the computer that ran this code.</p>\n<blockquote>\n<p>zdtClockSystemUTC.toString(): 2016-12-31T20:52:39.688Z</p>\n</blockquote>\n<blockquote>\n<p>zdtClockSystem.toString(): 2016-12-31T15:52:39.750-05:00[America/Montreal]</p>\n</blockquote>\n<blockquote>\n<p>zdtClockSystemDefaultZone.toString(): 2016-12-31T12:52:39.762-08:00[America/Los_Angeles]</p>\n</blockquote>\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> class is always in UTC by definition. So these three zone-related <code>Clock</code> usages have exactly the same effect.</p>\n<pre><code>Instant instantClockSystemUTC = Instant.now ( Clock.systemUTC () );\nInstant instantClockSystem = Instant.now ( Clock.system ( ZoneId.of ( &quot;America/Montreal&quot; ) ) );\nInstant instantClockSystemDefaultZone = Instant.now ( Clock.systemDefaultZone () );\n</code></pre>\n<blockquote>\n<p>instantClockSystemUTC.toString(): 2016-12-31T20:52:39.763Z</p>\n</blockquote>\n<blockquote>\n<p>instantClockSystem.toString(): 2016-12-31T20:52:39.763Z</p>\n</blockquote>\n<blockquote>\n<p>instantClockSystemDefaultZone.toString(): 2016-12-31T20:52:39.763Z</p>\n</blockquote>\n<h2>Default clock</h2>\n<p>The implementation used by default for <code>Instant.now</code> is the one returned by <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#systemUTC--\" rel=\"nofollow noreferrer\"><code>Clock.systemUTC()</code></a>. This is the implementation used when you do not specify a <code>Clock</code>. See for yourself in <a href=\"http://hg.openjdk.java.net/jdk9/dev/jdk/file/caa487ca77b0/src/java.base/share/classes/java/time/Instant.java\" rel=\"nofollow noreferrer\">pre-release Java 9 source code for <code>Instant.now</code></a>.</p>\n<pre><code>public static Instant now() {\n    return Clock.systemUTC().instant();\n}\n</code></pre>\n<p>The default <code>Clock</code> for <code>OffsetDateTime.now</code> and <code>ZonedDateTime.now</code> is <code>Clock.systemDefaultZone()</code>. See <a href=\"http://hg.openjdk.java.net/jdk9/dev/jdk/file/caa487ca77b0/src/java.base/share/classes/java/time/ZonedDateTime.java\" rel=\"nofollow noreferrer\">source code</a>.</p>\n<pre><code>public static ZonedDateTime now() {\n    return now(Clock.systemDefaultZone());\n}\n</code></pre>\n<p>The behavior of the default implementations changed between Java 8 and Java 9. In Java 8, the current moment is captured with a resolution only in <a href=\"https://en.wikipedia.org/wiki/Millisecond\" rel=\"nofollow noreferrer\">milliseconds</a> despite the classes’ ability to store a resolution of <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"nofollow noreferrer\">nanoseconds</a>. Java 9 brings a new implementation able to capture the current moment with a resolution of nanoseconds – depending, of course, on the capability of your computer hardware clock.</p>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes. Hibernate 5 &amp; JPA 2.2 support <em>java.time</em>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"nofollow noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java 9</strong></a> brought some minor features and fixes.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a>\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n<ul>\n<li>Later versions of Android (26+) bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), a process known as <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"nofollow noreferrer\"><em>API desugaring</em></a> brings a <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">subset of the <em>java.time</em></a> functionality not originally built into Android.\n<ul>\n<li>If the desugaring does not offer what you need, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above) to Android. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":142343,"reputation":127955,"user_id":379693,"accept_rate":95,"display_name":"Paresh Mayani"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1439374351,"creation_date":1439374351,"answer_id":31962226,"question_id":2001671,"body_markdown":"If you want to mock the method having `System.currentTimeMillis()` argument then you can pass [`anyLong()`][1] of Matchers class as an argument.\r\n\r\nP.S. I am able to run my test case successfully using the above trick and just to share more details about my test that I am using PowerMock and Mockito frameworks.\r\n\r\n\r\n  [1]: http://docs.mockito.googlecode.com/hg/1.9.5/org/mockito/Matchers.html#anyLong()","title":"Override Java System.currentTimeMillis for testing time sensitive code","body":"<p>If you want to mock the method having <code>System.currentTimeMillis()</code> argument then you can pass <a href=\"http://docs.mockito.googlecode.com/hg/1.9.5/org/mockito/Matchers.html#anyLong()\" rel=\"nofollow\"><code>anyLong()</code></a> of Matchers class as an argument.</p>\n\n<p>P.S. I am able to run my test case successfully using the above trick and just to share more details about my test that I am using PowerMock and Mockito frameworks.</p>\n"},{"comments":[{"owner":{"account_id":2511263,"reputation":427,"user_id":2183692,"display_name":"Denys Avilov"},"score":0,"creation_date":1601017115,"post_id":45800050,"comment_id":113278010,"body_markdown":"Thanks for the examples. IMO, this should be the accepted answer.","body":"Thanks for the examples. IMO, this should be the accepted answer."}],"tags":[],"owner":{"account_id":6282997,"reputation":995,"user_id":4883320,"display_name":"KiriSakow"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1503472975,"creation_date":1503326794,"answer_id":45800050,"question_id":2001671,"body_markdown":"## A working way to override current system time for JUnit testing purposes in a Java 8 web application with EasyMock, without Joda Time, and without PowerMock. ##\r\n\r\nHere&#39;s what you need to do:\r\n\r\n## What needs to be done in the tested class ##\r\n\r\n### Step 1 ###\r\nAdd a new `java.time.Clock` attribute to the tested class `MyService` and make sure the new attribute will be initialized properly at default values with an instantiation block or a constructor:\r\n\r\n    import java.time.Clock;\r\n    import java.time.LocalDateTime;\r\n\r\n    public class MyService {\r\n      // (...)\r\n      private Clock clock;\r\n      public Clock getClock() { return clock; }\r\n      public void setClock(Clock newClock) { clock = newClock; }\r\n    \r\n      public void initDefaultClock() {\r\n        setClock(\r\n          Clock.system(\r\n            Clock.systemDefaultZone().getZone() \r\n            // You can just as well use\r\n            // java.util.TimeZone.getDefault().toZoneId() instead\r\n          )\r\n        );\r\n      }\r\n      { \r\n        initDefaultClock(); // initialisation in an instantiation block, but \r\n                            // it can be done in a constructor just as well\r\n      }\r\n      // (...)\r\n    }\r\n\r\n### Step 2 ###\r\nInject the new attribute `clock` into the method which calls for a current date-time. For instance, in my case I had to perform a check of whether a date stored in dataase happened before `LocalDateTime.now()`, which I remplaced with `LocalDateTime.now(clock)`, like so:\r\n\r\n    import java.time.Clock;\r\n    import java.time.LocalDateTime;\r\n\r\n    public class MyService {\r\n      // (...)\r\n      protected void doExecute() {\r\n        LocalDateTime dateToBeCompared = someLogic.whichReturns().aDate().fromDB();\r\n        while (dateToBeCompared.isBefore(LocalDateTime.now(clock))) {\r\n          someOtherLogic();\r\n        }\r\n      }\r\n      // (...) \r\n    }\r\n\r\n## What needs to be done in the test class ##\r\n\r\n### Step 3 ###\r\nIn the test class, create a mock clock object and inject it into the tested class&#39;s instance just before you call the tested method `doExecute()`, then reset it back right afterwards, like so:\r\n\r\n    import java.time.Clock;\r\n    import java.time.LocalDateTime;\r\n    import java.time.OffsetDateTime;\r\n    import org.junit.Test;\r\n \r\n    public class MyServiceTest {\r\n      // (...)\r\n      private int year = 2017;\r\n      private int month = 2;\r\n      private int day = 3;\r\n \r\n      @Test\r\n      public void doExecuteTest() throws Exception {\r\n        // (...) EasyMock stuff like mock(..), expect(..), replay(..) and whatnot\r\n     \r\n        MyService myService = new MyService();\r\n        Clock mockClock =\r\n          Clock.fixed(\r\n            LocalDateTime.of(year, month, day, 0, 0).toInstant(OffsetDateTime.now().getOffset()),\r\n            Clock.systemDefaultZone().getZone() // or java.util.TimeZone.getDefault().toZoneId()\r\n          );\r\n        myService.setClock(mockClock); // set it before calling the tested method\r\n     \r\n        myService.doExecute(); // calling tested method \r\n \r\n        myService.initDefaultClock(); // reset the clock to default right afterwards with our own previously created method\r\n \r\n        // (...) remaining EasyMock stuff: verify(..) and assertEquals(..)\r\n        }\r\n      }\r\n\r\nCheck it in debug mode and you will see the date of 2017 Feb 3 has been correctly injected into `myService` instance and used in the comparison instruction, and then has been properly reset to current date with `initDefaultClock()`.","title":"Override Java System.currentTimeMillis for testing time sensitive code","body":"<h2>A working way to override current system time for JUnit testing purposes in a Java 8 web application with EasyMock, without Joda Time, and without PowerMock.</h2>\n\n<p>Here's what you need to do:</p>\n\n<h2>What needs to be done in the tested class</h2>\n\n<h3>Step 1</h3>\n\n<p>Add a new <code>java.time.Clock</code> attribute to the tested class <code>MyService</code> and make sure the new attribute will be initialized properly at default values with an instantiation block or a constructor:</p>\n\n<pre><code>import java.time.Clock;\nimport java.time.LocalDateTime;\n\npublic class MyService {\n  // (...)\n  private Clock clock;\n  public Clock getClock() { return clock; }\n  public void setClock(Clock newClock) { clock = newClock; }\n\n  public void initDefaultClock() {\n    setClock(\n      Clock.system(\n        Clock.systemDefaultZone().getZone() \n        // You can just as well use\n        // java.util.TimeZone.getDefault().toZoneId() instead\n      )\n    );\n  }\n  { \n    initDefaultClock(); // initialisation in an instantiation block, but \n                        // it can be done in a constructor just as well\n  }\n  // (...)\n}\n</code></pre>\n\n<h3>Step 2</h3>\n\n<p>Inject the new attribute <code>clock</code> into the method which calls for a current date-time. For instance, in my case I had to perform a check of whether a date stored in dataase happened before <code>LocalDateTime.now()</code>, which I remplaced with <code>LocalDateTime.now(clock)</code>, like so:</p>\n\n<pre><code>import java.time.Clock;\nimport java.time.LocalDateTime;\n\npublic class MyService {\n  // (...)\n  protected void doExecute() {\n    LocalDateTime dateToBeCompared = someLogic.whichReturns().aDate().fromDB();\n    while (dateToBeCompared.isBefore(LocalDateTime.now(clock))) {\n      someOtherLogic();\n    }\n  }\n  // (...) \n}\n</code></pre>\n\n<h2>What needs to be done in the test class</h2>\n\n<h3>Step 3</h3>\n\n<p>In the test class, create a mock clock object and inject it into the tested class's instance just before you call the tested method <code>doExecute()</code>, then reset it back right afterwards, like so:</p>\n\n<pre><code>import java.time.Clock;\nimport java.time.LocalDateTime;\nimport java.time.OffsetDateTime;\nimport org.junit.Test;\n\npublic class MyServiceTest {\n  // (...)\n  private int year = 2017;\n  private int month = 2;\n  private int day = 3;\n\n  @Test\n  public void doExecuteTest() throws Exception {\n    // (...) EasyMock stuff like mock(..), expect(..), replay(..) and whatnot\n\n    MyService myService = new MyService();\n    Clock mockClock =\n      Clock.fixed(\n        LocalDateTime.of(year, month, day, 0, 0).toInstant(OffsetDateTime.now().getOffset()),\n        Clock.systemDefaultZone().getZone() // or java.util.TimeZone.getDefault().toZoneId()\n      );\n    myService.setClock(mockClock); // set it before calling the tested method\n\n    myService.doExecute(); // calling tested method \n\n    myService.initDefaultClock(); // reset the clock to default right afterwards with our own previously created method\n\n    // (...) remaining EasyMock stuff: verify(..) and assertEquals(..)\n    }\n  }\n</code></pre>\n\n<p>Check it in debug mode and you will see the date of 2017 Feb 3 has been correctly injected into <code>myService</code> instance and used in the comparison instruction, and then has been properly reset to current date with <code>initDefaultClock()</code>.</p>\n"},{"tags":[],"owner":{"account_id":2432014,"reputation":440,"user_id":2122722,"display_name":"faxmodem"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1509702105,"creation_date":1509702105,"answer_id":47092565,"question_id":2001671,"body_markdown":"If you&#39;re running Linux, you can use the master branch of libfaketime, or at the time of testing commit [4ce2835][1].\r\n\r\nSimply set the environment variable with the time you&#39;d like to mock your java application with, and run it using ld-preloading:\r\n\r\n    # bash\r\n    export FAKETIME=&quot;1985-10-26 01:21:00&quot;\r\n    export DONT_FAKE_MONOTONIC=1\r\n    LD_PRELOAD=/usr/local/lib/faketime/libfaketimeMT.so.1 java -jar myapp.jar\r\n\r\nThe second environment variable is paramount for java applications, which otherwise would freeze. It requires the master branch of libfaketime at the time of writing.\r\n\r\nIf you&#39;d like to change the time of a systemd managed service, just add the following to your unit file overrides, e.g. for elasticsearch this would be `/etc/systemd/system/elasticsearch.service.d/override.conf`:\r\n\r\n    [Service]\r\n    Environment=&quot;FAKETIME=2017-10-31 23:00:00&quot;\r\n    Environment=&quot;DONT_FAKE_MONOTONIC=1&quot;\r\n    Environment=&quot;LD_PRELOAD=/usr/local/lib/faketime/libfaketimeMT.so.1&quot;\r\n\r\nDon&#39;t forget to reload systemd using `systemctl daemon-reload\r\n\r\n  [1]: https://github.com/wolfcw/libfaketime/commit/4ce283594fc212d724cf44a90bc3cfc61474b3c9","title":"Override Java System.currentTimeMillis for testing time sensitive code","body":"<p>If you're running Linux, you can use the master branch of libfaketime, or at the time of testing commit <a href=\"https://github.com/wolfcw/libfaketime/commit/4ce283594fc212d724cf44a90bc3cfc61474b3c9\" rel=\"nofollow noreferrer\">4ce2835</a>.</p>\n\n<p>Simply set the environment variable with the time you'd like to mock your java application with, and run it using ld-preloading:</p>\n\n<pre><code># bash\nexport FAKETIME=\"1985-10-26 01:21:00\"\nexport DONT_FAKE_MONOTONIC=1\nLD_PRELOAD=/usr/local/lib/faketime/libfaketimeMT.so.1 java -jar myapp.jar\n</code></pre>\n\n<p>The second environment variable is paramount for java applications, which otherwise would freeze. It requires the master branch of libfaketime at the time of writing.</p>\n\n<p>If you'd like to change the time of a systemd managed service, just add the following to your unit file overrides, e.g. for elasticsearch this would be <code>/etc/systemd/system/elasticsearch.service.d/override.conf</code>:</p>\n\n<pre><code>[Service]\nEnvironment=\"FAKETIME=2017-10-31 23:00:00\"\nEnvironment=\"DONT_FAKE_MONOTONIC=1\"\nEnvironment=\"LD_PRELOAD=/usr/local/lib/faketime/libfaketimeMT.so.1\"\n</code></pre>\n\n<p>Don't forget to reload systemd using `systemctl daemon-reload</p>\n"},{"tags":[],"owner":{"account_id":10168350,"reputation":1388,"user_id":7666239,"display_name":"Sergey Nemchinov"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1617374068,"creation_date":1617373731,"answer_id":66920829,"question_id":2001671,"body_markdown":"Here is an example using PowerMockito. Also there is an example with [new Date()][1]. &lt;br&gt;\r\nMore details about [mocking system classes][2].\r\n\r\n```\r\n@RunWith(PowerMockRunner.class)\r\n@PrepareForTest(LegacyClass.class)\r\npublic class SystemTimeTest {\r\n    \r\n    private final Date fakeNow = Date.from(Instant.parse(&quot;2010-12-03T10:15:30.00Z&quot;));\r\n\r\n    @Before\r\n    public void init() {\r\n        PowerMockito.mockStatic(System.class);\r\n        PowerMockito.when(System.currentTimeMillis()).thenReturn(fakeNow.getTime());\r\n        System.out.println(&quot;Fake currentTimeMillis: &quot; + System.currentTimeMillis());\r\n    }\r\n\r\n    @Test\r\n    public void legacyClass() {\r\n        new LegacyClass().methodWithCurrentTimeMillis();\r\n    }\r\n\r\n}\r\n```\r\n\r\nSome legacy class you are testing:\r\n```\r\nclass LegacyClass {\r\n\r\n    public void methodWithCurrentTimeMillis() {\r\n        long now = System.currentTimeMillis();\r\n        System.out.println(&quot;LegacyClass System.currentTimeMillis() is &quot; + now);\r\n    }\r\n\r\n}\r\n```\r\n\r\nConsole output\r\n```\r\nFake currentTimeMillis: 1291371330000\r\nLegacyClass System.currentTimeMillis() is 1291371330000\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/66920707/7666239\r\n  [2]: https://github.com/powermock/powermock/wiki/Mock-System","title":"Override Java System.currentTimeMillis for testing time sensitive code","body":"<p>Here is an example using PowerMockito. Also there is an example with <a href=\"https://stackoverflow.com/a/66920707/7666239\">new Date()</a>. <br>\nMore details about <a href=\"https://github.com/powermock/powermock/wiki/Mock-System\" rel=\"nofollow noreferrer\">mocking system classes</a>.</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(LegacyClass.class)\npublic class SystemTimeTest {\n    \n    private final Date fakeNow = Date.from(Instant.parse(&quot;2010-12-03T10:15:30.00Z&quot;));\n\n    @Before\n    public void init() {\n        PowerMockito.mockStatic(System.class);\n        PowerMockito.when(System.currentTimeMillis()).thenReturn(fakeNow.getTime());\n        System.out.println(&quot;Fake currentTimeMillis: &quot; + System.currentTimeMillis());\n    }\n\n    @Test\n    public void legacyClass() {\n        new LegacyClass().methodWithCurrentTimeMillis();\n    }\n\n}\n</code></pre>\n<p>Some legacy class you are testing:</p>\n<pre><code>class LegacyClass {\n\n    public void methodWithCurrentTimeMillis() {\n        long now = System.currentTimeMillis();\n        System.out.println(&quot;LegacyClass System.currentTimeMillis() is &quot; + now);\n    }\n\n}\n</code></pre>\n<p>Console output</p>\n<pre><code>Fake currentTimeMillis: 1291371330000\nLegacyClass System.currentTimeMillis() is 1291371330000\n</code></pre>\n"}],"owner":{"account_id":33530,"reputation":11809,"user_id":93953,"accept_rate":56,"display_name":"Mike Clark"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134086,"favorite_count":0,"down_vote_count":1,"up_vote_count":169,"accepted_answer_id":2001696,"answer_count":12,"score":168,"last_activity_date":1701432757,"creation_date":1262633993,"question_id":2001671,"body_markdown":"Is there a way, either in code or with JVM arguments, to override the current time, as presented via `System.currentTimeMillis`, other than manually changing the system clock on the host machine?\r\n\r\nA little background:\r\n\r\nWe have a system that runs a number of accounting jobs that revolve much of their logic around the current date (ie 1st of the month, 1st of the year, etc)\r\n\r\nUnfortunately, a lot of the legacy code calls functions such as `new Date()` or `Calendar.getInstance()`, both of which eventually call down to `System.currentTimeMillis`.\r\n\r\nFor testing purposes, right now, we are stuck with manually updating the system clock to manipulate what time and date the code thinks that the test is being run.\r\n\r\nSo my question is:\r\n\r\nIs there a way to override what is returned by `System.currentTimeMillis`?  For example, to tell the JVM to automatically add or subtract some offset before returning from that method?","title":"Override Java System.currentTimeMillis for testing time sensitive code","body":"<p>Is there a way, either in code or with JVM arguments, to override the current time, as presented via <code>System.currentTimeMillis</code>, other than manually changing the system clock on the host machine?</p>\n<p>A little background:</p>\n<p>We have a system that runs a number of accounting jobs that revolve much of their logic around the current date (ie 1st of the month, 1st of the year, etc)</p>\n<p>Unfortunately, a lot of the legacy code calls functions such as <code>new Date()</code> or <code>Calendar.getInstance()</code>, both of which eventually call down to <code>System.currentTimeMillis</code>.</p>\n<p>For testing purposes, right now, we are stuck with manually updating the system clock to manipulate what time and date the code thinks that the test is being run.</p>\n<p>So my question is:</p>\n<p>Is there a way to override what is returned by <code>System.currentTimeMillis</code>?  For example, to tell the JVM to automatically add or subtract some offset before returning from that method?</p>\n"},{"tags":["java","spring-boot","graphql"],"owner":{"account_id":21900928,"reputation":29,"user_id":16186615,"display_name":"raed abu sada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701432285,"creation_date":1701432285,"question_id":77585147,"body_markdown":"I have a spring boot GraphQL API and I want to consume it in another spring boot app using GraphQL Client. I am using spring boot version 3.\r\nwhen I execute mutate which works as data is added to the database, I am not able to figure out how to convert the received response to java class. below is my ClientService class.\r\nany advise?\r\nnote: it only worked for me is by using Map to get key value pairs of the received object.\r\nObjectMapper didnt work.\r\n\r\n    package com.webtech.graphqlclient.service;\r\n\r\n    import com.webtech.graphqlclient.webmodels.CreateStudentRequest;\r\n    import com.webtech.graphqlclient.webmodels.StudentResponse;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.graphql.client.HttpGraphQlClient;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.web.reactive.function.client.WebClient;\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Objects;\r\n\r\n    @Service\r\n    public class ClientService {\r\n\r\n    private final HttpGraphQlClient graphQlClient;\r\n\r\n    public ClientService(@Value(&quot;${graphql.api.url}&quot;)String apiUrl) {\r\n        WebClient client = WebClient.builder()\r\n                .baseUrl(apiUrl)\r\n                .build();\r\n\r\n        graphQlClient  = HttpGraphQlClient.builder(client).build();\r\n    }\r\n\r\n    public StudentResponse getStudent(int id){\r\n\r\n        Map&lt;String, Object&gt; variables = new HashMap&lt;&gt;();\r\n\r\n        variables.put(&quot;id&quot;, id);\r\n\r\n        String query = &quot;&quot;&quot;\r\n                query getStudent($id: Int) {\r\n                  getStudent(id: $id) {\r\n                    id\r\n                    firstName\r\n                    lastName\r\n                    email\r\n                    street\r\n                    city\r\n                    fullName\r\n                    subjects(subjectNameFilter: All) {\r\n                      id\r\n                      subjectName\r\n                      marksObtained\r\n                    }\r\n                  }\r\n                }\r\n                &quot;&quot;&quot;;\r\n\r\n        return graphQlClient.document(query)\r\n                .variables(variables)\r\n                .retrieve(&quot;getStudent&quot;)\r\n                .toEntity(StudentResponse.class)\r\n                .block();\r\n    }\r\n\r\n    public StudentResponse createStudent(CreateStudentRequest createStudentRequest) {\r\n\r\n        Map&lt;String, Object&gt; variables = new HashMap&lt;&gt;();\r\n        variables.put(&quot;createStudentRequest&quot;, createStudentRequest);\r\n\r\n        String mutationQuery = &quot;&quot;&quot;\r\n                mutation createStudent($createStudentRequest: CreateStudentRequest) {\r\n                  createStudent(createStudentRequest: $createStudentRequest) {\r\n                    id\r\n                    firstName\r\n                    lastName\r\n                    email\r\n                    street\r\n                    city\r\n                    fullName\r\n                    subjects(subjectNameFilter: All) {\r\n                      id\r\n                      subjectName\r\n                      marksObtained\r\n                    }\r\n                  }\r\n                }\r\n                &quot;&quot;&quot;;\r\n\r\n         Map&lt;String, Object&gt; data = \r\n    Objects.requireNonNull(graphQlClient.document(mutationQuery)\r\n                         .variables(variables)\r\n                         .execute()\r\n                         .block())\r\n                .getData();\r\n\r\n        Map&lt;String, Object&gt; entity = (Map&lt;String, Object&gt;) data.get(&quot;createStudent&quot;);\r\n\r\n        int id = (int) entity.get(&quot;id&quot;);\r\n\r\n        return getStudent(id);\r\n\r\n    }\r\n    }\r\n","title":"GraphQL Client with spring boot","body":"<p>I have a spring boot GraphQL API and I want to consume it in another spring boot app using GraphQL Client. I am using spring boot version 3.\nwhen I execute mutate which works as data is added to the database, I am not able to figure out how to convert the received response to java class. below is my ClientService class.\nany advise?\nnote: it only worked for me is by using Map to get key value pairs of the received object.\nObjectMapper didnt work.</p>\n<pre><code>package com.webtech.graphqlclient.service;\n\nimport com.webtech.graphqlclient.webmodels.CreateStudentRequest;\nimport com.webtech.graphqlclient.webmodels.StudentResponse;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.graphql.client.HttpGraphQlClient;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.reactive.function.client.WebClient;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Objects;\n\n@Service\npublic class ClientService {\n\nprivate final HttpGraphQlClient graphQlClient;\n\npublic ClientService(@Value(&quot;${graphql.api.url}&quot;)String apiUrl) {\n    WebClient client = WebClient.builder()\n            .baseUrl(apiUrl)\n            .build();\n\n    graphQlClient  = HttpGraphQlClient.builder(client).build();\n}\n\npublic StudentResponse getStudent(int id){\n\n    Map&lt;String, Object&gt; variables = new HashMap&lt;&gt;();\n\n    variables.put(&quot;id&quot;, id);\n\n    String query = &quot;&quot;&quot;\n            query getStudent($id: Int) {\n              getStudent(id: $id) {\n                id\n                firstName\n                lastName\n                email\n                street\n                city\n                fullName\n                subjects(subjectNameFilter: All) {\n                  id\n                  subjectName\n                  marksObtained\n                }\n              }\n            }\n            &quot;&quot;&quot;;\n\n    return graphQlClient.document(query)\n            .variables(variables)\n            .retrieve(&quot;getStudent&quot;)\n            .toEntity(StudentResponse.class)\n            .block();\n}\n\npublic StudentResponse createStudent(CreateStudentRequest createStudentRequest) {\n\n    Map&lt;String, Object&gt; variables = new HashMap&lt;&gt;();\n    variables.put(&quot;createStudentRequest&quot;, createStudentRequest);\n\n    String mutationQuery = &quot;&quot;&quot;\n            mutation createStudent($createStudentRequest: CreateStudentRequest) {\n              createStudent(createStudentRequest: $createStudentRequest) {\n                id\n                firstName\n                lastName\n                email\n                street\n                city\n                fullName\n                subjects(subjectNameFilter: All) {\n                  id\n                  subjectName\n                  marksObtained\n                }\n              }\n            }\n            &quot;&quot;&quot;;\n\n     Map&lt;String, Object&gt; data = \nObjects.requireNonNull(graphQlClient.document(mutationQuery)\n                     .variables(variables)\n                     .execute()\n                     .block())\n            .getData();\n\n    Map&lt;String, Object&gt; entity = (Map&lt;String, Object&gt;) data.get(&quot;createStudent&quot;);\n\n    int id = (int) entity.get(&quot;id&quot;);\n\n    return getStudent(id);\n\n}\n}\n</code></pre>\n"},{"tags":["java","apache-commons-httpclient"],"answers":[{"tags":[],"owner":{"account_id":2590393,"reputation":1553,"user_id":2245234,"accept_rate":51,"display_name":"Jeeppp"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502208820,"creation_date":1502208820,"answer_id":45573283,"question_id":45573056,"body_markdown":"This looks like a dependency issue to me. May be the Class you are looking for is present in two different jars on your CP. ","title":"org.apache.http.conn.ssl.SSLConnectionSocketFactory not found within HttpClientBuilder.build()","body":"<p>This looks like a dependency issue to me. May be the Class you are looking for is present in two different jars on your CP. </p>\n"},{"tags":[],"owner":{"account_id":10591336,"reputation":3484,"user_id":7801800,"display_name":"Anshul Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1502211779,"creation_date":1502211779,"answer_id":45574139,"question_id":45573056,"body_markdown":"you have a different version of Apache Commons HTTP Client on your classpath. you can try below version with jdk 8.\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.1.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;","title":"org.apache.http.conn.ssl.SSLConnectionSocketFactory not found within HttpClientBuilder.build()","body":"<p>you have a different version of Apache Commons HTTP Client on your classpath. you can try below version with jdk 8.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n    &lt;version&gt;4.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701432270,"creation_date":1701432270,"answer_id":77585144,"question_id":45573056,"body_markdown":"This might happen while initializing SSLConnectionSocketFactory field:\r\n\r\n```java\r\npublic static final X509HostnameVerifier ALLOW_ALL_HOSTNAME_VERIFIER\r\n    = AllowAllHostnameVerifier.INSTANCE;\r\n```\r\nIn my case the org.apache.http.conn.ssl.AllowAllHostnameVerifier class did not have the INSTANCE field because it was shaded (patched) from tika-app.\r\n\r\nCheck in which dependency (jar) you have this class and how does it look like. If possible try to exclude the containing dependency or ugprade it to a version which has correct AllowAllHostnameVerifier.","title":"org.apache.http.conn.ssl.SSLConnectionSocketFactory not found within HttpClientBuilder.build()","body":"<p>This might happen while initializing SSLConnectionSocketFactory field:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final X509HostnameVerifier ALLOW_ALL_HOSTNAME_VERIFIER\n    = AllowAllHostnameVerifier.INSTANCE;\n</code></pre>\n<p>In my case the org.apache.http.conn.ssl.AllowAllHostnameVerifier class did not have the INSTANCE field because it was shaded (patched) from tika-app.</p>\n<p>Check in which dependency (jar) you have this class and how does it look like. If possible try to exclude the containing dependency or ugprade it to a version which has correct AllowAllHostnameVerifier.</p>\n"}],"owner":{"account_id":1961768,"reputation":619,"user_id":1763113,"accept_rate":72,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1701432270,"creation_date":1502208126,"question_id":45573056,"body_markdown":"When I call this code:\r\n\r\n    HttpClientBuilder clientBuilder = HttpClientBuilder.create(); \r\n    LaxRedirectStrategy laxStrategy = new LaxRedirectStrategy();\r\n    clientBuilder = clientBuilder.setRedirectStrategy(laxStrategy);\r\n\r\n    httpClient = clientBuilder.build();   // FAILS HERE\r\n\r\nI get java.lang.NoSuchFieldError: INSTANCE\r\n\r\nLooks like it can&#39;t find the class org.apache.http.conn.ssl.SSLConnectionSocketFactory, however that class is found in a jar on my classpath.  How can I find the culprit?\r\n\r\nThanks!\r\nMike","title":"org.apache.http.conn.ssl.SSLConnectionSocketFactory not found within HttpClientBuilder.build()","body":"<p>When I call this code:</p>\n\n<pre><code>HttpClientBuilder clientBuilder = HttpClientBuilder.create(); \nLaxRedirectStrategy laxStrategy = new LaxRedirectStrategy();\nclientBuilder = clientBuilder.setRedirectStrategy(laxStrategy);\n\nhttpClient = clientBuilder.build();   // FAILS HERE\n</code></pre>\n\n<p>I get java.lang.NoSuchFieldError: INSTANCE</p>\n\n<p>Looks like it can't find the class org.apache.http.conn.ssl.SSLConnectionSocketFactory, however that class is found in a jar on my classpath.  How can I find the culprit?</p>\n\n<p>Thanks!\nMike</p>\n"},{"tags":["java","android","get"],"answers":[{"tags":[],"owner":{"account_id":17252943,"reputation":40,"user_id":12492698,"display_name":"Andrezila"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701431991,"creation_date":1701431991,"answer_id":77585120,"question_id":77580312,"body_markdown":"It&#39;s simple to make a request get with okhttp3:\r\n\r\n```\r\n\r\n\r\npublic class Client extends AppCompatActivity {\r\n    @Override\r\n    protected void onCreate(Bundle bundle) {\r\n        //Toast.makeText(getApplicationContext(), &quot;Clicado o 2&quot;, Toast.LENGTH_LONG).show();\r\n        super.onCreate(bundle);\r\n        setContentView(R.layout.activity_client);\r\n        Background_DoWork();\r\n\r\n    }\r\n\r\n    private final int Fine_Permision_Code = 1;\r\n    private GoogleMap myMap;\r\n    Location location;\r\n    FusedLocationProviderClient fs;\r\n\r\n    private void Background_DoWork() {\r\n        ImageButton imgbtnBack = findViewById(R.id.BackActivity);\r\n        imgbtnBack.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                finish();\r\n            }\r\n        });\r\n\r\n\r\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                .findFragmentById(R.id.map);\r\n\r\n\r\n        ActivityResultLauncher&lt;String[]&gt; locationPermissionRequest =\r\n                registerForActivityResult(new ActivityResultContracts\r\n                        .RequestMultiplePermissions(), result -&gt; {\r\n                    Boolean fineLocationGranted = result.getOrDefault(\r\n                            android.Manifest.permission.ACCESS_FINE_LOCATION, false);\r\n                    Boolean coarseLocationGranted = result.getOrDefault(\r\n                            android.Manifest.permission.ACCESS_COARSE_LOCATION, false);\r\n                    if ((fineLocationGranted != null &amp;&amp; fineLocationGranted) || (coarseLocationGranted != null &amp;&amp; coarseLocationGranted)) {\r\n\r\n                        LocationManager lm = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\r\n                        List&lt;String&gt; providers = lm.getProviders(true);\r\n                        Location location = null;\r\n\r\n\r\n                        if (ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n\r\n                                return;\r\n                        }\r\n\r\n                        lm.requestSingleUpdate(LocationManager.GPS_PROVIDER, new LocationListener() {\r\n                            @Override\r\n                            public void onLocationChanged(@NonNull Location location) {\r\n                                double lat = location.getLatitude();\r\n                                Log.d(&quot;lat: &quot;, &quot;&quot;+lat);\r\n                                double lng = location.getLongitude();\r\n                                Log.d(&quot;lng: &quot;, &quot;&quot;+lng);\r\n\r\n                                String path = &quot;https://nominatim.openstreetmap.org/reverse?lat=&quot; + lat + &quot;&amp;lon=&quot; + lng + &quot;&amp;format=json&amp;extratags=1&quot;;\r\n\r\n                                try {\r\n                                    Request rq = new Request.Builder().url(path).build();\r\n                                    OkHttpClient client = new OkHttpClient();\r\n\r\n                                    client.newCall(rq).enqueue(new Callback() {\r\n                                        @Override\r\n                                        public void onFailure(@NonNull Call call, @NonNull IOException e) {\r\n                                            Log.d(&quot;Error&quot;, &quot;&quot;+e);\r\n                                        }\r\n\r\n                                        @Override\r\n                                        public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\r\n                                            Log.d(&quot;Message&quot;, &quot;&quot;+response);\r\n                                        }\r\n                                    });\r\n                                }\r\n                                catch (Exception ex) {\r\n                                    Log.d(&quot;s&quot;, &quot;&quot;+ex);\r\n                                }\r\n                                finally {\r\n                                    //urlConnection.disconnect();\r\n                                }\r\n\r\n                            }\r\n                        }, null);\r\n\r\n                    }\r\n                });\r\n\r\n        locationPermissionRequest.launch(new String[] {\r\n                android.Manifest.permission.ACCESS_FINE_LOCATION,\r\n                android.Manifest.permission.ACCESS_COARSE_LOCATION\r\n        });\r\n    }\r\n}\r\n\r\n```\r\n\r\nI recomend read the documentation of [okhttp](https://square.github.io/okhttp/)","title":"Request Get on Android Studio","body":"<p>It's simple to make a request get with okhttp3:</p>\n<pre><code>\n\npublic class Client extends AppCompatActivity {\n    @Override\n    protected void onCreate(Bundle bundle) {\n        //Toast.makeText(getApplicationContext(), &quot;Clicado o 2&quot;, Toast.LENGTH_LONG).show();\n        super.onCreate(bundle);\n        setContentView(R.layout.activity_client);\n        Background_DoWork();\n\n    }\n\n    private final int Fine_Permision_Code = 1;\n    private GoogleMap myMap;\n    Location location;\n    FusedLocationProviderClient fs;\n\n    private void Background_DoWork() {\n        ImageButton imgbtnBack = findViewById(R.id.BackActivity);\n        imgbtnBack.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                finish();\n            }\n        });\n\n\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n                .findFragmentById(R.id.map);\n\n\n        ActivityResultLauncher&lt;String[]&gt; locationPermissionRequest =\n                registerForActivityResult(new ActivityResultContracts\n                        .RequestMultiplePermissions(), result -&gt; {\n                    Boolean fineLocationGranted = result.getOrDefault(\n                            android.Manifest.permission.ACCESS_FINE_LOCATION, false);\n                    Boolean coarseLocationGranted = result.getOrDefault(\n                            android.Manifest.permission.ACCESS_COARSE_LOCATION, false);\n                    if ((fineLocationGranted != null &amp;&amp; fineLocationGranted) || (coarseLocationGranted != null &amp;&amp; coarseLocationGranted)) {\n\n                        LocationManager lm = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\n                        List&lt;String&gt; providers = lm.getProviders(true);\n                        Location location = null;\n\n\n                        if (ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n\n                                return;\n                        }\n\n                        lm.requestSingleUpdate(LocationManager.GPS_PROVIDER, new LocationListener() {\n                            @Override\n                            public void onLocationChanged(@NonNull Location location) {\n                                double lat = location.getLatitude();\n                                Log.d(&quot;lat: &quot;, &quot;&quot;+lat);\n                                double lng = location.getLongitude();\n                                Log.d(&quot;lng: &quot;, &quot;&quot;+lng);\n\n                                String path = &quot;https://nominatim.openstreetmap.org/reverse?lat=&quot; + lat + &quot;&amp;lon=&quot; + lng + &quot;&amp;format=json&amp;extratags=1&quot;;\n\n                                try {\n                                    Request rq = new Request.Builder().url(path).build();\n                                    OkHttpClient client = new OkHttpClient();\n\n                                    client.newCall(rq).enqueue(new Callback() {\n                                        @Override\n                                        public void onFailure(@NonNull Call call, @NonNull IOException e) {\n                                            Log.d(&quot;Error&quot;, &quot;&quot;+e);\n                                        }\n\n                                        @Override\n                                        public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\n                                            Log.d(&quot;Message&quot;, &quot;&quot;+response);\n                                        }\n                                    });\n                                }\n                                catch (Exception ex) {\n                                    Log.d(&quot;s&quot;, &quot;&quot;+ex);\n                                }\n                                finally {\n                                    //urlConnection.disconnect();\n                                }\n\n                            }\n                        }, null);\n\n                    }\n                });\n\n        locationPermissionRequest.launch(new String[] {\n                android.Manifest.permission.ACCESS_FINE_LOCATION,\n                android.Manifest.permission.ACCESS_COARSE_LOCATION\n        });\n    }\n}\n\n</code></pre>\n<p>I recomend read the documentation of <a href=\"https://square.github.io/okhttp/\" rel=\"nofollow noreferrer\">okhttp</a></p>\n"}],"owner":{"account_id":26248615,"reputation":11,"user_id":19921747,"display_name":"Carl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77585120,"answer_count":1,"score":0,"last_activity_date":1701431991,"creation_date":1701363631,"question_id":77580312,"body_markdown":"I&#39;m create a app to found where is the client (city, localization, route, ...) and to solve this i need make a request get to this website \r\n`https://nominatim.openstreetmap.org` \r\non android studio with language java, its possible to make?\r\n\r\n```\r\npublic class Player extends AppCompatActivity {\r\n    @Override\r\n    protected void onCreate(Bundle bundle) {\r\n        super.onCreate(bundle);\r\n        setContentView(R.layout.activity_client);\r\n        Background_DoWork();\r\n\r\n    }\r\n\r\n    \r\n    private void Background_DoWork() {\r\n        ImageButton imgbtnBack = findViewById(R.id.BackActivity);\r\n        imgbtnBack.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                finish();\r\n            }\r\n        });\r\n\r\n\r\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                .findFragmentById(R.id.map);\r\n\r\n\r\n        ActivityResultLauncher&lt;String[]&gt; locationPermissionRequest =\r\n                registerForActivityResult(new ActivityResultContracts\r\n                        .RequestMultiplePermissions(), result -&gt; {\r\n                    Boolean fineLocationGranted = result.getOrDefault(\r\n                            android.Manifest.permission.ACCESS_FINE_LOCATION, false);\r\n                    Boolean coarseLocationGranted = result.getOrDefault(\r\n                            android.Manifest.permission.ACCESS_COARSE_LOCATION, false);\r\n                    if ((fineLocationGranted != null &amp;&amp; fineLocationGranted) || (coarseLocationGranted != null &amp;&amp; coarseLocationGranted)) {\r\n\r\n                        LocationManager lm = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\r\n                        List&lt;String&gt; providers = lm.getProviders(true);\r\n                        Location location = null;\r\n\r\n\r\n                        if (ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n\r\n                                return;\r\n                        }\r\n\r\n                        lm.requestSingleUpdate(LocationManager.GPS_PROVIDER, new LocationListener() {\r\n                            @Override\r\n                            public void onLocationChanged(@NonNull Location location) {\r\n                                double lat = location.getLatitude();\r\n                                Log.d(&quot;lat: &quot;, &quot;&quot;+lat);\r\n                                double lng = location.getLongitude();\r\n                                Log.d(&quot;lng: &quot;, &quot;&quot;+lng);\r\n\r\n                                String path = &quot;https://nominatim.openstreetmap.org/reverse?lat=&quot; + lat +\r\n                                        &quot;&amp;lon=&quot; + lng + &quot;&amp;format=json&amp;extratags=1&quot;;\r\n\r\n\r\n                                try {\r\n                                    /* Make the request here*/\r\n                                }\r\n                                catch (Exception ex) {\r\n                                }\r\n\r\n                            }\r\n                        }, null);\r\n\r\n                    }\r\n                });\r\n\r\n        locationPermissionRequest.launch(new String[] {\r\n                android.Manifest.permission.ACCESS_FINE_LOCATION,\r\n                android.Manifest.permission.ACCESS_COARSE_LOCATION\r\n        });\r\n    }\r\n}\r\n\r\n```\r\n\r\nI would like a simple request get, to understand from future projects. ","title":"Request Get on Android Studio","body":"<p>I'm create a app to found where is the client (city, localization, route, ...) and to solve this i need make a request get to this website\n<code>https://nominatim.openstreetmap.org</code>\non android studio with language java, its possible to make?</p>\n<pre><code>public class Player extends AppCompatActivity {\n    @Override\n    protected void onCreate(Bundle bundle) {\n        super.onCreate(bundle);\n        setContentView(R.layout.activity_client);\n        Background_DoWork();\n\n    }\n\n    \n    private void Background_DoWork() {\n        ImageButton imgbtnBack = findViewById(R.id.BackActivity);\n        imgbtnBack.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                finish();\n            }\n        });\n\n\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n                .findFragmentById(R.id.map);\n\n\n        ActivityResultLauncher&lt;String[]&gt; locationPermissionRequest =\n                registerForActivityResult(new ActivityResultContracts\n                        .RequestMultiplePermissions(), result -&gt; {\n                    Boolean fineLocationGranted = result.getOrDefault(\n                            android.Manifest.permission.ACCESS_FINE_LOCATION, false);\n                    Boolean coarseLocationGranted = result.getOrDefault(\n                            android.Manifest.permission.ACCESS_COARSE_LOCATION, false);\n                    if ((fineLocationGranted != null &amp;&amp; fineLocationGranted) || (coarseLocationGranted != null &amp;&amp; coarseLocationGranted)) {\n\n                        LocationManager lm = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\n                        List&lt;String&gt; providers = lm.getProviders(true);\n                        Location location = null;\n\n\n                        if (ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n\n                                return;\n                        }\n\n                        lm.requestSingleUpdate(LocationManager.GPS_PROVIDER, new LocationListener() {\n                            @Override\n                            public void onLocationChanged(@NonNull Location location) {\n                                double lat = location.getLatitude();\n                                Log.d(&quot;lat: &quot;, &quot;&quot;+lat);\n                                double lng = location.getLongitude();\n                                Log.d(&quot;lng: &quot;, &quot;&quot;+lng);\n\n                                String path = &quot;https://nominatim.openstreetmap.org/reverse?lat=&quot; + lat +\n                                        &quot;&amp;lon=&quot; + lng + &quot;&amp;format=json&amp;extratags=1&quot;;\n\n\n                                try {\n                                    /* Make the request here*/\n                                }\n                                catch (Exception ex) {\n                                }\n\n                            }\n                        }, null);\n\n                    }\n                });\n\n        locationPermissionRequest.launch(new String[] {\n                android.Manifest.permission.ACCESS_FINE_LOCATION,\n                android.Manifest.permission.ACCESS_COARSE_LOCATION\n        });\n    }\n}\n\n</code></pre>\n<p>I would like a simple request get, to understand from future projects.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9893,"page":24,"page_size":100}
