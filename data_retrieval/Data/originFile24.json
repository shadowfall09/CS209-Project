{"items":[{"tags":["java","elasticsearch","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18486,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701374574,"creation_date":1701374574,"answer_id":77581382,"question_id":77581251,"body_markdown":"You should put the query part into the `@Query` annotation, see the [relevant documentation](https://docs.spring.io/spring-data/elasticsearch/reference/elasticsearch/repositories/elasticsearch-repository-queries.html#elasticsearch.query-methods.at-query). \r\n\r\nFor the highlight definition, you can use the `@Highlight` annotation, check [the reference documentation](https://docs.spring.io/spring-data/elasticsearch/reference/elasticsearch/repositories/elasticsearch-repositories.html#elasticsearch.repositories.annotations.highlight)","title":"Spring Data elasticsearch @Query annotation","body":"<p>You should put the query part into the <code>@Query</code> annotation, see the <a href=\"https://docs.spring.io/spring-data/elasticsearch/reference/elasticsearch/repositories/elasticsearch-repository-queries.html#elasticsearch.query-methods.at-query\" rel=\"nofollow noreferrer\">relevant documentation</a>.</p>\n<p>For the highlight definition, you can use the <code>@Highlight</code> annotation, check <a href=\"https://docs.spring.io/spring-data/elasticsearch/reference/elasticsearch/repositories/elasticsearch-repositories.html#elasticsearch.repositories.annotations.highlight\" rel=\"nofollow noreferrer\">the reference documentation</a></p>\n"}],"owner":{"account_id":20960868,"reputation":5,"user_id":19801963,"display_name":"&#202;nio Henrique"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77581382,"answer_count":1,"score":0,"last_activity_date":1701374574,"creation_date":1701373259,"question_id":77581251,"body_markdown":"My JSON doc is like this:\r\nMeu documento JSON &#233; assim:\r\n\r\n\r\n```\r\n{\r\n&quot;query&quot; : {\r\n    &quot;bool&quot;: {\r\n        &quot;minimum_should_match&quot;: 1,\r\n        &quot;should&quot;: [\r\n        {\r\n          &quot;bool&quot;:   { &quot;must&quot;: [{&quot;match&quot;: {&quot;txt&quot;: &quot;p&quot;}},\r\n                    {&quot;match&quot;: {&quot;nm&quot;: &quot;p&quot;}}\r\n            ]\r\n          }\r\n        },\r\n        {\r\n          &quot;bool&quot;: { &quot;must&quot;: [{&quot;match&quot;: {&quot;txt&quot;: &quot;p&quot;}}\r\n            ]\r\n          }\r\n        },\r\n        {\r\n          &quot;bool&quot;: { &quot;must&quot;: [{&quot;match&quot;: {&quot;nm&quot;: &quot;p&quot;}}\r\n            ]\r\n          }\r\n        }\r\n        ]\r\n        }\r\n},\r\n&quot;highlight&quot;: {\r\n    &quot;number_of_fragments&quot; : 1,\r\n    &quot;order&quot;: &quot;score&quot;,\r\n    &quot;boundary_scanner&quot;: &quot;sentence&quot;, \r\n    &quot;fragment_size&quot; : 300,\r\n    &quot;pre_tags&quot; : [&quot;&lt;tag1&gt;&quot;],\r\n    &quot;post_tags&quot; : [&quot;&lt;/tag1&gt;&quot;],\r\n    &quot;fragmenter&quot;: &quot;span&quot;, \r\n    &quot;fields&quot; : {\r\n        &quot;nm&quot;: {},\r\n        &quot;txt&quot;: {}\r\n    }\r\n  },\r\n  &quot;_source&quot;: false\r\n}\r\n```\r\n\r\n\r\nHow should I write the query method using @Query annotation ? (or if there is any other method that I can put the highlight) ?\r\nComo devo escrever o m&#233;todo de consulta usando a anota&#231;&#227;o @Query? (ou se houver algum outro m&#233;todo que eu consiga colocar o highlight) ?\r\n\r\n\r\nobservation:highlight it&#39;s very important\r\nobserva&#231;&#227;o:destaque que &#233; muito importante\r\n\r\n\r\nThanks for any suggestion.\r\nObrigado por qualquer sugest&#227;o.","title":"Spring Data elasticsearch @Query annotation","body":"<p>My JSON doc is like this:\nMeu documento JSON é assim:</p>\n<pre><code>{\n&quot;query&quot; : {\n    &quot;bool&quot;: {\n        &quot;minimum_should_match&quot;: 1,\n        &quot;should&quot;: [\n        {\n          &quot;bool&quot;:   { &quot;must&quot;: [{&quot;match&quot;: {&quot;txt&quot;: &quot;p&quot;}},\n                    {&quot;match&quot;: {&quot;nm&quot;: &quot;p&quot;}}\n            ]\n          }\n        },\n        {\n          &quot;bool&quot;: { &quot;must&quot;: [{&quot;match&quot;: {&quot;txt&quot;: &quot;p&quot;}}\n            ]\n          }\n        },\n        {\n          &quot;bool&quot;: { &quot;must&quot;: [{&quot;match&quot;: {&quot;nm&quot;: &quot;p&quot;}}\n            ]\n          }\n        }\n        ]\n        }\n},\n&quot;highlight&quot;: {\n    &quot;number_of_fragments&quot; : 1,\n    &quot;order&quot;: &quot;score&quot;,\n    &quot;boundary_scanner&quot;: &quot;sentence&quot;, \n    &quot;fragment_size&quot; : 300,\n    &quot;pre_tags&quot; : [&quot;&lt;tag1&gt;&quot;],\n    &quot;post_tags&quot; : [&quot;&lt;/tag1&gt;&quot;],\n    &quot;fragmenter&quot;: &quot;span&quot;, \n    &quot;fields&quot; : {\n        &quot;nm&quot;: {},\n        &quot;txt&quot;: {}\n    }\n  },\n  &quot;_source&quot;: false\n}\n</code></pre>\n<p>How should I write the query method using @Query annotation ? (or if there is any other method that I can put the highlight) ?\nComo devo escrever o método de consulta usando a anotação @Query? (ou se houver algum outro método que eu consiga colocar o highlight) ?</p>\n<p>observation:highlight it's very important\nobservação:destaque que é muito importante</p>\n<p>Thanks for any suggestion.\nObrigado por qualquer sugestão.</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1701390277,"post_id":77580787,"comment_id":136773070,"body_markdown":"_&quot;For starters the 2 non-cached methods shouldn&#39;t exist to begin with since they&#39;re not cached&quot;_  Why do you believe that?  Caching is an implementation/performance detail.  A user of this code should _never_ interact directly with a `CachableThingRepository`, only via the interface.  The concrete implementation should be acquired via a Factory or Builder object.","body":"<i>&quot;For starters the 2 non-cached methods shouldn&#39;t exist to begin with since they&#39;re not cached&quot;</i>  Why do you believe that?  Caching is an implementation/performance detail.  A user of this code should <i>never</i> interact directly with a <code>CachableThingRepository</code>, only via the interface.  The concrete implementation should be acquired via a Factory or Builder object."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701374370,"creation_date":1701370035,"answer_id":77580976,"question_id":77580787,"body_markdown":"I think it is not good if you want to differentiate the interfaces between the cached and the non-cached repositories. A facade is used to hide implementation details of a &quot;bunch of classes&quot;, but it looks as you are more implementing different strategies to access data (strategy pattern).\r\n\r\nSo why is important for you to differentiate between cached and uncached methods? Or asked differently: Why is it important for the user of the `CachableThingRepository` to know which methods to _not_ cache?\r\n\r\nI would btw. just pass a `ThingInterface` to the `CachableThingRepository`, because that should be sufficient. If a user wants to ensure that uncached methods are used, then the user can use the `ThingRepository`, and for maybe cached access the user can use the `CachableThingRepository` - both have to be known as for the construction of the `CachableThingRepository` the uncached strategy has to be known.\r\n\r\nRemember that even for the cached strategy not every call is served from the cache!\r\n\r\nWhat you might want to add to the `CachableThingRepository` is some method to clear already cached values - individually per key or in global, or maybe automatically when you update stuff via the `CachableThingRepository`.\r\n\r\nIn general I would not recommend that you first define an interface but then you expose implementation details. You don&#39;t need the interface then... (but see my questions above, maybe there is a good reason to do that).\r\n\r\n----\r\nUPDATE: inspired by the discussions in the comment, you could also see the `Cache` implementation as a strategy and merge implementations of the current `ThingRepository` and `CachedThingRepository` into one class that always requires a `Cache` implementation.\r\n\r\nThen implement a dummy cache, that doesn&#39;t do anything - and if you want uncached access, you provide that.\r\n\r\nTake care that if you use a simple `null` value as &quot;cache implementation&quot; and react to that in your new `ThingRepository`, you put the caching strategy into your repository, which isn&#39;t following the strategy pattern and will make the class less maintainable.\r\n\r\nBut it could be a valid option if you desperately need some performance optimizations and profiling shows a bottleneck in the indirection there.","title":"Caching some methods from a repository with a decorator pattern(?)","body":"<p>I think it is not good if you want to differentiate the interfaces between the cached and the non-cached repositories. A facade is used to hide implementation details of a &quot;bunch of classes&quot;, but it looks as you are more implementing different strategies to access data (strategy pattern).</p>\n<p>So why is important for you to differentiate between cached and uncached methods? Or asked differently: Why is it important for the user of the <code>CachableThingRepository</code> to know which methods to <em>not</em> cache?</p>\n<p>I would btw. just pass a <code>ThingInterface</code> to the <code>CachableThingRepository</code>, because that should be sufficient. If a user wants to ensure that uncached methods are used, then the user can use the <code>ThingRepository</code>, and for maybe cached access the user can use the <code>CachableThingRepository</code> - both have to be known as for the construction of the <code>CachableThingRepository</code> the uncached strategy has to be known.</p>\n<p>Remember that even for the cached strategy not every call is served from the cache!</p>\n<p>What you might want to add to the <code>CachableThingRepository</code> is some method to clear already cached values - individually per key or in global, or maybe automatically when you update stuff via the <code>CachableThingRepository</code>.</p>\n<p>In general I would not recommend that you first define an interface but then you expose implementation details. You don't need the interface then... (but see my questions above, maybe there is a good reason to do that).</p>\n<hr />\n<p>UPDATE: inspired by the discussions in the comment, you could also see the <code>Cache</code> implementation as a strategy and merge implementations of the current <code>ThingRepository</code> and <code>CachedThingRepository</code> into one class that always requires a <code>Cache</code> implementation.</p>\n<p>Then implement a dummy cache, that doesn't do anything - and if you want uncached access, you provide that.</p>\n<p>Take care that if you use a simple <code>null</code> value as &quot;cache implementation&quot; and react to that in your new <code>ThingRepository</code>, you put the caching strategy into your repository, which isn't following the strategy pattern and will make the class less maintainable.</p>\n<p>But it could be a valid option if you desperately need some performance optimizations and profiling shows a bottleneck in the indirection there.</p>\n"}],"owner":{"account_id":6022681,"reputation":3444,"user_id":4729332,"accept_rate":68,"display_name":"Andrei"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701374370,"creation_date":1701367864,"question_id":77580787,"body_markdown":"I&#39;m working on a project in java. This project doesn&#39;t use Spring or any other framework.\r\n\r\nI have a class where I get some data from, lets call it a repository. Since this is a rather expensive call I&#39;d like to cache the data. So I create an interface for that repository and build a decorator with a cacheable repository.\r\n\r\nI have a repository interface like so\r\n\r\n    public interface ThingInterface {\r\n        Map&lt;Long, String&gt; findById(long id);\r\n        String findNameById(long id);\r\n        String findConfigBySomeParameter(String param);\r\n        Long findAnotherThingByAntoherParam(String param);\r\n    }\r\n\r\nAnd the concrete repository that implements this interface\r\n\r\n    public class ThingRepository implements ThingInterface{\r\n        @Override\r\n        public Map&lt;Long, String&gt; findById(long id) {\r\n            // get things for a database or wherever\r\n        }\r\n    \r\n        @Override\r\n        public String findNameById(long id) {\r\n            ...\r\n        }\r\n    \r\n        @Override\r\n        public String findConfigBySomeParameter(String param) {\r\n            ...\r\n        }\r\n    \r\n        @Override\r\n        public Long findAnotherThingByAntoherParam(String param) {\r\n            ...\r\n        }\r\n    }\r\n\r\n\r\nNow I want to cache some method results, but not all. I can implement a CachableRepository which will cache things or delegate to the non-cacheable repository in case of a miss.\r\n\r\n    public class CachableThingRepository implements ThingInterface{\r\n    \r\n        private ThingRepository thingRepository;\r\n        private Cache cache;\r\n    \r\n        public CachableThingRepository(ThingRepository thingRepository, Cache cache) {\r\n            this.thingRepository = thingRepository;\r\n            this.cache = cache;\r\n        }\r\n    \r\n        @Override\r\n        public Map&lt;Long, String&gt; findById(long id) {\r\n            if(cache.has(&quot;some_key&quot;)) {\r\n                return cache.get(&quot;some_key&quot;);\r\n            }\r\n            Map&lt;Long, String&gt; result = thingRepository.findById(id);\r\n            cache.put(&quot;some_key&quot;, result);\r\n    \r\n            return result;\r\n        }\r\n    \r\n        @Override\r\n        public String findNameById(long id) {\r\n            if(cache.has(&quot;some_other_key&quot;)) {\r\n                return cache.get(&quot;some_other_key&quot;);\r\n            }\r\n            String result = thingRepository.findNameById(id);\r\n            cache.put(&quot;some_other_key&quot;, result);\r\n    \r\n            return result;\r\n        }\r\n    \r\n        @Override\r\n        public String findConfigBySomeParameter(String param) {\r\n            return thingRepository.findConfigBySomeParameter(param);\r\n        }\r\n    \r\n        @Override\r\n        public Long findAnotherThingByAntoherParam(String param) {\r\n            return thingRepository.findAnotherThingByAntoherParam(param);\r\n        }\r\n    }\r\n\r\n----\r\n\r\nAs I said, I want to cache some method results, **but not all**. So in this case, `findAnotherThingByAntoherParam` and `findConfigBySomeParameter` aren&#39;t cached. While the other 2 are.\r\n\r\n`CachableThingRepository` isn&#39;t a good implementation. For starters the 2 non-cached methods shouldn&#39;t exist to begin with since they&#39;re not cached. From the outside, without looking at the code, one would assume that all methods are cached.\r\n\r\n**My question: how can I approach this?**\r\n==============\r\n\r\nMy solution is to simply remove the interface completely. Inject `ThingRepository` into `CachableThingRepository` and be left with something like this\r\n\r\n    public class CachableThingRepository{\r\n    \r\n        private ThingRepository thingRepository;\r\n        private Cache cache;\r\n    \r\n        public CachableThingRepository(ThingRepository thingRepository, Cache cache) {\r\n            this.thingRepository = thingRepository;\r\n            this.cache = cache;\r\n        }\r\n    \r\n        public Map&lt;Long, String&gt; findById(long id) {\r\n            if(cache.has(&quot;some_key&quot;)) {\r\n                return cache.get(&quot;some_key&quot;);\r\n            }\r\n            Map&lt;Long, String&gt; result = thingRepository.findById(id);\r\n            cache.put(result);\r\n    \r\n            return result;\r\n        }\r\n    \r\n        public String findNameById(long id) {\r\n            if(cache.has(&quot;some_other_key&quot;)) {\r\n                return cache.get(&quot;some_other_key&quot;);\r\n            }\r\n            String result = thingRepository.findNameById(id);\r\n            cache.put(result);\r\n    \r\n            return result;\r\n        }\r\n    }\r\n\r\nWhich in all fairness is considerably cleaner than the above. But I wouldn&#39;t mind hearing other peoples ideas on this matter.","title":"Caching some methods from a repository with a decorator pattern(?)","body":"<p>I'm working on a project in java. This project doesn't use Spring or any other framework.</p>\n<p>I have a class where I get some data from, lets call it a repository. Since this is a rather expensive call I'd like to cache the data. So I create an interface for that repository and build a decorator with a cacheable repository.</p>\n<p>I have a repository interface like so</p>\n<pre><code>public interface ThingInterface {\n    Map&lt;Long, String&gt; findById(long id);\n    String findNameById(long id);\n    String findConfigBySomeParameter(String param);\n    Long findAnotherThingByAntoherParam(String param);\n}\n</code></pre>\n<p>And the concrete repository that implements this interface</p>\n<pre><code>public class ThingRepository implements ThingInterface{\n    @Override\n    public Map&lt;Long, String&gt; findById(long id) {\n        // get things for a database or wherever\n    }\n\n    @Override\n    public String findNameById(long id) {\n        ...\n    }\n\n    @Override\n    public String findConfigBySomeParameter(String param) {\n        ...\n    }\n\n    @Override\n    public Long findAnotherThingByAntoherParam(String param) {\n        ...\n    }\n}\n</code></pre>\n<p>Now I want to cache some method results, but not all. I can implement a CachableRepository which will cache things or delegate to the non-cacheable repository in case of a miss.</p>\n<pre><code>public class CachableThingRepository implements ThingInterface{\n\n    private ThingRepository thingRepository;\n    private Cache cache;\n\n    public CachableThingRepository(ThingRepository thingRepository, Cache cache) {\n        this.thingRepository = thingRepository;\n        this.cache = cache;\n    }\n\n    @Override\n    public Map&lt;Long, String&gt; findById(long id) {\n        if(cache.has(&quot;some_key&quot;)) {\n            return cache.get(&quot;some_key&quot;);\n        }\n        Map&lt;Long, String&gt; result = thingRepository.findById(id);\n        cache.put(&quot;some_key&quot;, result);\n\n        return result;\n    }\n\n    @Override\n    public String findNameById(long id) {\n        if(cache.has(&quot;some_other_key&quot;)) {\n            return cache.get(&quot;some_other_key&quot;);\n        }\n        String result = thingRepository.findNameById(id);\n        cache.put(&quot;some_other_key&quot;, result);\n\n        return result;\n    }\n\n    @Override\n    public String findConfigBySomeParameter(String param) {\n        return thingRepository.findConfigBySomeParameter(param);\n    }\n\n    @Override\n    public Long findAnotherThingByAntoherParam(String param) {\n        return thingRepository.findAnotherThingByAntoherParam(param);\n    }\n}\n</code></pre>\n<hr />\n<p>As I said, I want to cache some method results, <strong>but not all</strong>. So in this case, <code>findAnotherThingByAntoherParam</code> and <code>findConfigBySomeParameter</code> aren't cached. While the other 2 are.</p>\n<p><code>CachableThingRepository</code> isn't a good implementation. For starters the 2 non-cached methods shouldn't exist to begin with since they're not cached. From the outside, without looking at the code, one would assume that all methods are cached.</p>\n<h1><strong>My question: how can I approach this?</strong></h1>\n<p>My solution is to simply remove the interface completely. Inject <code>ThingRepository</code> into <code>CachableThingRepository</code> and be left with something like this</p>\n<pre><code>public class CachableThingRepository{\n\n    private ThingRepository thingRepository;\n    private Cache cache;\n\n    public CachableThingRepository(ThingRepository thingRepository, Cache cache) {\n        this.thingRepository = thingRepository;\n        this.cache = cache;\n    }\n\n    public Map&lt;Long, String&gt; findById(long id) {\n        if(cache.has(&quot;some_key&quot;)) {\n            return cache.get(&quot;some_key&quot;);\n        }\n        Map&lt;Long, String&gt; result = thingRepository.findById(id);\n        cache.put(result);\n\n        return result;\n    }\n\n    public String findNameById(long id) {\n        if(cache.has(&quot;some_other_key&quot;)) {\n            return cache.get(&quot;some_other_key&quot;);\n        }\n        String result = thingRepository.findNameById(id);\n        cache.put(result);\n\n        return result;\n    }\n}\n</code></pre>\n<p>Which in all fairness is considerably cleaner than the above. But I wouldn't mind hearing other peoples ideas on this matter.</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":26121442,"reputation":535,"user_id":19813684,"display_name":"elebur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701373721,"creation_date":1701373721,"answer_id":77581301,"question_id":77580949,"body_markdown":"You can try sending the login and the password within the URL: `https://login:password@somepage.com`\r\n\r\n```python\r\ndriver.get(&quot;https://foo:bar@httpbin.org/basic-auth/foo/bar&quot;)\r\n```\r\n\r\nPerhaps you&#39;ll need to reload the page.","title":"Selenium Entering Username and Password in Alert box","body":"<p>You can try sending the login and the password within the URL: <code>https://login:password@somepage.com</code></p>\n<pre class=\"lang-py prettyprint-override\"><code>driver.get(&quot;https://foo:bar@httpbin.org/basic-auth/foo/bar&quot;)\n</code></pre>\n<p>Perhaps you'll need to reload the page.</p>\n"}],"owner":{"account_id":30034365,"reputation":1,"user_id":23016734,"display_name":"jakehardy95"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701373721,"creation_date":1701369671,"question_id":77580949,"body_markdown":"I&#39;m trying to input a username and password into an alert box using selenium and Java. I&#39;m not sure if this is an alert box or something else, but I&#39;ve attached a screenshot for reference. \r\n[enter image description here](https://i.stack.imgur.com/OU8Z7.png)\r\n\r\nI have tried switching to the alertbox and sending keys (&quot;username&quot; + Keys.TAB + &quot;password&quot;) and selenium couldn&#39;t find the alertbox. any information helps! Thanks!","title":"Selenium Entering Username and Password in Alert box","body":"<p>I'm trying to input a username and password into an alert box using selenium and Java. I'm not sure if this is an alert box or something else, but I've attached a screenshot for reference.\n<a href=\"https://i.stack.imgur.com/OU8Z7.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I have tried switching to the alertbox and sending keys (&quot;username&quot; + Keys.TAB + &quot;password&quot;) and selenium couldn't find the alertbox. any information helps! Thanks!</p>\n"},{"tags":["java","android","hide"],"answers":[{"tags":[],"owner":{"account_id":1306954,"reputation":11661,"user_id":1255746,"accept_rate":78,"display_name":"Josh M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377978336,"creation_date":1377978336,"answer_id":18552135,"question_id":18552079,"body_markdown":"You could store the API key in a file located in storage. You can encrypt the API key when you write it to the file and then you can decrypt it when you are reading it (upon program execution)","title":"Hide variable value","body":"<p>You could store the API key in a file located in storage. You can encrypt the API key when you write it to the file and then you can decrypt it when you are reading it (upon program execution)</p>\n"},{"tags":[],"owner":{"account_id":2778184,"reputation":1245,"user_id":2391315,"display_name":"confusopoly"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377979521,"creation_date":1377979521,"answer_id":18552312,"question_id":18552079,"body_markdown":"If you put the API key into the client in any form that can be used by the client it will be possible to get to it somehow. Maybe by unwrapping the APK and decompiling the code, maybe by traffic sniffing. That private static final variable for example can likely be extracted by a decompiler (if it&#39;s bytecode).\r\n\r\nIf you want to make really sure that none of your users can get to the API key then your app shouldn&#39;t be using it directly. Instead have it connect to a web service you set up that serves session IDs for example. That web service that runs on a server that you have control over (quite a few options) would then be the only piece of software that knows the API key.\r\n\r\nBut depending on the use case this might be a complete overkill solution to this problem.","title":"Hide variable value","body":"<p>If you put the API key into the client in any form that can be used by the client it will be possible to get to it somehow. Maybe by unwrapping the APK and decompiling the code, maybe by traffic sniffing. That private static final variable for example can likely be extracted by a decompiler (if it's bytecode).</p>\n\n<p>If you want to make really sure that none of your users can get to the API key then your app shouldn't be using it directly. Instead have it connect to a web service you set up that serves session IDs for example. That web service that runs on a server that you have control over (quite a few options) would then be the only piece of software that knows the API key.</p>\n\n<p>But depending on the use case this might be a complete overkill solution to this problem.</p>\n"}],"owner":{"account_id":1627105,"reputation":1,"user_id":1502414,"display_name":"DaSt1986"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701373662,"creation_date":1377977981,"question_id":18552079,"body_markdown":"I&#39;m writing a small Android app and I need to hide some variable values. I have a API key I got from the content provider who is providing me content to show in my app that I need to retrieve data from them. Because it is being used in an encryption algorithm, it is of vital importance the code isn&#39;t leaked.\r\n\r\nI need to save the API key in my code and be sure it isn&#39;t retrievable by the bad people in the world. What I do now, is save them in my code as a variable:\r\n\r\n    private static final String API_KEY=&quot;mysupersecreatapikey&quot;;\r\n\r\nAfter the app is compiled to an APK file, this is, in my opinion not retrievable anymore. Am I doing it in the right way now, or is there a better solution?\r\n\r\n","title":"Hide variable value","body":"<p>I'm writing a small Android app and I need to hide some variable values. I have a API key I got from the content provider who is providing me content to show in my app that I need to retrieve data from them. Because it is being used in an encryption algorithm, it is of vital importance the code isn't leaked.</p>\n<p>I need to save the API key in my code and be sure it isn't retrievable by the bad people in the world. What I do now, is save them in my code as a variable:</p>\n<pre><code>private static final String API_KEY=&quot;mysupersecreatapikey&quot;;\n</code></pre>\n<p>After the app is compiled to an APK file, this is, in my opinion not retrievable anymore. Am I doing it in the right way now, or is there a better solution?</p>\n"},{"tags":["java","eclipse","karate"],"comments":[{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1652881056,"post_id":72289123,"comment_id":127714025,"body_markdown":"for karate, also see this: https://stackoverflow.com/a/52821230/143475","body":"for karate, also see this: <a href=\"https://stackoverflow.com/a/52821230/143475\">stackoverflow.com/a/52821230/143475</a>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652877624,"creation_date":1652877624,"answer_id":72289383,"question_id":72289123,"body_markdown":"Sure. In various ways. Let&#39;s say, for example purposes, that the API you&#39;re interacting with is called &#39;twotter&#39;.\r\n\r\n## in a properties file\r\n\r\n1. Make a file. Probably `twotter-auth.properties`. Put:\r\n\r\n```\r\nusername: foobar\r\npassword: correct battery horse staple\r\n```\r\n\r\ninside it.\r\n\r\n2. __add it to `.gitignore` - very important. Edit the `.gitignore` file (or create it if it does not exist yet) and add:\r\n\r\n```\r\n/twotter-auth.properties\r\n```\r\n\r\nto it. This file should be in the same directory as the twotter-auth file. This ensures that it won&#39;t get checked into version control.\r\n\r\n3. In the java code, read it using the [`java.util.Properties`](https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html) class.\r\n\r\nVariations on the theme: There are a bazillion &#39;properties file&#39; style libraries - JSON, YAML, TOML, and more. Pick whichever one you like.\r\n\r\n## args\r\n\r\nYou can also pass the username/pass as command line arguments - they will arrive in the `args` in `public static void main(String[] args) {`. In your main method, save them someplace so that your API client can access them. Then, in eclipse, click on the arrow thing next to the bug icon, pick &#39;debug configurations...&#39; from the popdown menu that shows up, pick your app from the list on the left (or click on the &#39;new configuration&#39; button, it&#39;s the leftmost one on the buttonbar in this dialog, and pick a main class). In the tab &#39;arguments&#39;, in the box for &quot;program arguments&quot;, type whatever you want.\r\n\r\n## VM properties\r\n\r\nVery similar, but instead of as program args, you can pass VM sysvars. In the same place as the &#39;args&#39; choice (Debug, tab &quot;program arguments&quot;), there&#39;s a textbox for VM args. You&#39;d type in something like:\r\n\r\n```\r\n-Dtwotter.username=foobar &quot;-Dtwotter.password=correct battery horse staple&quot;\r\n```\r\n\r\nfrom java code you can call `System.getProperty(&quot;twotter.username&quot;)` to access these. Note that you can, under the tab &#39;common&#39;, choose &quot;Shared file&quot; in the &quot;Save as&quot; section, which creates a `targetname.launch` file in your project. That file WILL contain all this info, so unless you `.gitignore` it, you might check that in, in which case you&#39;ve just checked in username/password data. Keep it on `local`, though now you need to explain to everybody else how to make this thing (whereas if you save it as a shared file you can check that in and now everybody that also uses eclipse gets this run target, all configured up properly, out-of-the-box, which can be nice).\r\n\r\n## environment variables\r\n\r\nYou can also make a system (as in, your OS: Windows, linux, etc) variable. Same place JAVA_HOME and PATH exist. You can read these from java code with `System.getenv`.\r\n","title":"Replace API password in Eclipse with a variable","body":"<p>Sure. In various ways. Let's say, for example purposes, that the API you're interacting with is called 'twotter'.</p>\n<h2>in a properties file</h2>\n<ol>\n<li>Make a file. Probably <code>twotter-auth.properties</code>. Put:</li>\n</ol>\n<pre><code>username: foobar\npassword: correct battery horse staple\n</code></pre>\n<p>inside it.</p>\n<ol start=\"2\">\n<li>__add it to <code>.gitignore</code> - very important. Edit the <code>.gitignore</code> file (or create it if it does not exist yet) and add:</li>\n</ol>\n<pre><code>/twotter-auth.properties\n</code></pre>\n<p>to it. This file should be in the same directory as the twotter-auth file. This ensures that it won't get checked into version control.</p>\n<ol start=\"3\">\n<li>In the java code, read it using the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html\" rel=\"nofollow noreferrer\"><code>java.util.Properties</code></a> class.</li>\n</ol>\n<p>Variations on the theme: There are a bazillion 'properties file' style libraries - JSON, YAML, TOML, and more. Pick whichever one you like.</p>\n<h2>args</h2>\n<p>You can also pass the username/pass as command line arguments - they will arrive in the <code>args</code> in <code>public static void main(String[] args) {</code>. In your main method, save them someplace so that your API client can access them. Then, in eclipse, click on the arrow thing next to the bug icon, pick 'debug configurations...' from the popdown menu that shows up, pick your app from the list on the left (or click on the 'new configuration' button, it's the leftmost one on the buttonbar in this dialog, and pick a main class). In the tab 'arguments', in the box for &quot;program arguments&quot;, type whatever you want.</p>\n<h2>VM properties</h2>\n<p>Very similar, but instead of as program args, you can pass VM sysvars. In the same place as the 'args' choice (Debug, tab &quot;program arguments&quot;), there's a textbox for VM args. You'd type in something like:</p>\n<pre><code>-Dtwotter.username=foobar &quot;-Dtwotter.password=correct battery horse staple&quot;\n</code></pre>\n<p>from java code you can call <code>System.getProperty(&quot;twotter.username&quot;)</code> to access these. Note that you can, under the tab 'common', choose &quot;Shared file&quot; in the &quot;Save as&quot; section, which creates a <code>targetname.launch</code> file in your project. That file WILL contain all this info, so unless you <code>.gitignore</code> it, you might check that in, in which case you've just checked in username/password data. Keep it on <code>local</code>, though now you need to explain to everybody else how to make this thing (whereas if you save it as a shared file you can check that in and now everybody that also uses eclipse gets this run target, all configured up properly, out-of-the-box, which can be nice).</p>\n<h2>environment variables</h2>\n<p>You can also make a system (as in, your OS: Windows, linux, etc) variable. Same place JAVA_HOME and PATH exist. You can read these from java code with <code>System.getenv</code>.</p>\n"}],"owner":{"account_id":25323950,"reputation":9,"user_id":19144879,"display_name":"Lu M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1668053738,"answer_count":1,"score":0,"last_activity_date":1701373631,"creation_date":1652876659,"question_id":72289123,"body_markdown":"New to this, so please keep any answer simple, like you are teaching a child.\r\n\r\n - I have an API test project using Maven/Cucumber/Karate in Eclipse.\r\n - The project is stored in a GIT repo, password security is a must.\r\n - The feature file in Eclipse has multiple API calls for testing purposes, everything is in plain text.\r\n - Each API call has a &quot;USERNAME&quot; : &quot;name&quot;, &quot;PASSWORD&quot; : &quot;password&quot; for API URL authorization.\r\n\r\n= Q1: Can both USERNAME and PASSWORD values be replaced with local variables?\r\n\r\n= Q2: If yes, where would the variables be defined in Eclipse?\r\n\r\n","title":"Replace API password in Eclipse with a variable","body":"<p>New to this, so please keep any answer simple, like you are teaching a child.</p>\n<ul>\n<li>I have an API test project using Maven/Cucumber/Karate in Eclipse.</li>\n<li>The project is stored in a GIT repo, password security is a must.</li>\n<li>The feature file in Eclipse has multiple API calls for testing purposes, everything is in plain text.</li>\n<li>Each API call has a &quot;USERNAME&quot; : &quot;name&quot;, &quot;PASSWORD&quot; : &quot;password&quot; for API URL authorization.</li>\n</ul>\n<p>= Q1: Can both USERNAME and PASSWORD values be replaced with local variables?</p>\n<p>= Q2: If yes, where would the variables be defined in Eclipse?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","jwt"],"answers":[{"tags":[],"owner":{"account_id":118571,"reputation":47102,"user_id":309683,"accept_rate":68,"display_name":"Behrang Saeedzadeh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677412334,"creation_date":1677412334,"answer_id":75571779,"question_id":75571606,"body_markdown":"Yes, and no.\r\n\r\nYes, because Spring Security has a reputation for being unnecessary complex, so some teams avoid it altogether and write custom code for auth. In the past 5 years or so, most [brownfield](https://blog.fosketts.net/2012/12/18/brownfield-terrible-antonym-greenfield/) projects I have worked on have avoided Spring Security altogether.\r\n\r\nAnd no, because then you may be unable use many convenience features provided by Spring Security [\\[1\\]](https://docs.spring.io/spring-security/reference/servlet/authorization/index.html) [\\[2\\]](https://docs.spring.io/spring-security/reference/servlet/authorization/method-security.html).\r\n\r\n","title":"If using Jwt token, there is a need of Spring Security?","body":"<p>Yes, and no.</p>\n<p>Yes, because Spring Security has a reputation for being unnecessary complex, so some teams avoid it altogether and write custom code for auth. In the past 5 years or so, most <a href=\"https://blog.fosketts.net/2012/12/18/brownfield-terrible-antonym-greenfield/\" rel=\"nofollow noreferrer\">brownfield</a> projects I have worked on have avoided Spring Security altogether.</p>\n<p>And no, because then you may be unable use many convenience features provided by Spring Security <a href=\"https://docs.spring.io/spring-security/reference/servlet/authorization/index.html\" rel=\"nofollow noreferrer\">[1]</a> <a href=\"https://docs.spring.io/spring-security/reference/servlet/authorization/method-security.html\" rel=\"nofollow noreferrer\">[2]</a>.</p>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1677424149,"creation_date":1677423666,"answer_id":75572844,"question_id":75571606,"body_markdown":"It is perfectly valid to do it if you just need JWT authentication.But spring security provides much more security feature than authentication. For example, one common feature is authorization which allows you to protect an endpoint or method such that it can only be invoked by the user who has enough permissions (e.g. using `@PreAuthorize`) , and other features such as [CORS][1] support, [HttpFirewall][2] and [CSRF][3] support etc.\r\n\r\nSo if you just need to do JWT authentication now, no problem and go ahead. And consider to migrate to spring security when come to the point you need the extra features that are already provided by spring-secrutiy rather than reinventing the wheel. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/integrations/cors.html#page-title\r\n  [2]: https://docs.spring.io/spring-security/reference/servlet/exploits/firewall.html#page-title\r\n  [3]: https://docs.spring.io/spring-security/reference/features/exploits/csrf.html","title":"If using Jwt token, there is a need of Spring Security?","body":"<p>It is perfectly valid to do it if you just need JWT authentication.But spring security provides much more security feature than authentication. For example, one common feature is authorization which allows you to protect an endpoint or method such that it can only be invoked by the user who has enough permissions (e.g. using <code>@PreAuthorize</code>) , and other features such as <a href=\"https://docs.spring.io/spring-security/reference/servlet/integrations/cors.html#page-title\" rel=\"nofollow noreferrer\">CORS</a> support, <a href=\"https://docs.spring.io/spring-security/reference/servlet/exploits/firewall.html#page-title\" rel=\"nofollow noreferrer\">HttpFirewall</a> and <a href=\"https://docs.spring.io/spring-security/reference/features/exploits/csrf.html\" rel=\"nofollow noreferrer\">CSRF</a> support etc.</p>\n<p>So if you just need to do JWT authentication now, no problem and go ahead. And consider to migrate to spring security when come to the point you need the extra features that are already provided by spring-secrutiy rather than reinventing the wheel.</p>\n"},{"tags":[],"owner":{"account_id":2810600,"reputation":13,"user_id":2416918,"display_name":"Jeevan Manik Reddy"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1701338402,"creation_date":1701338402,"answer_id":77577480,"question_id":75571606,"body_markdown":"with jwt you might get authentication then how about authorization which only spring security provides.","title":"If using Jwt token, there is a need of Spring Security?","body":"<p>with jwt you might get authentication then how about authorization which only spring security provides.</p>\n"},{"tags":[],"owner":{"account_id":2064278,"reputation":13119,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701373585,"creation_date":1701373585,"answer_id":77581289,"question_id":75571606,"body_markdown":"Since most of the answers here our either misinformed or outdated i will answer this with some references.\r\n\r\nAs of time of writing (november 2023) [oauth2 has deprecated][1] what is called the _IMPLICIT GRANT_ which in short was the flow were you authenticated directly with an _issuer_  using a _username_ and _password_ and directly got issued a token to the client due to this flow has been found to be vulnerable to _access token_ leakage and _access token replay_ attacks.\r\n\r\nTake notice that the deprecation mentions tokens, this means both JWTs and opague tokens.\r\n\r\nJWTs has since long been been not recommended to use as a replacement for sessions, or session tokens, since there are no ways of storing a token securely in the browser, OWASP has [recommendation against storing tokens in browsers][2]. they also have several recommendations for instance not using JWTs unless you actually server side store some reference to the JWT since tokens can not be logged out. SO you cant _log out all devices_ or logout a token that has been stolen.\r\n\r\nSeveral instances recommend against JWTs as session tokens:\r\n\r\nhttps://developer.okta.com/blog/2017/08/17/why-jwts-suck-as-session-tokens\r\n\r\nhttps://redis.com/blog/json-web-tokens-jwt-are-dangerous-for-user-sessions/\r\n\r\nhttps://www.youtube.com/watch?v=JdGOb7AxUo0\r\n\r\nhttp://cryto.net/~joepie91/blog/2016/06/13/stop-using-jwt-for-sessions/\r\n\r\nhttp://cryto.net/~joepie91/blog/2016/06/19/stop-using-jwt-for-sessions-part-2-why-your-solution-doesnt-work/\r\n\r\nThere is no such implementation (showed in the linked tutorial in the question) in spring security, because it is not recommended to do such authentication. **So there is has been an active choice to not have it**.\r\n\r\nBut why do so many recommend that, well its a long story, but mostly that security is hard, someone found a way to write security that seemed easy and &quot;sort of worked&quot; and then others copied it.\r\n\r\nSo how should you build security?\r\n\r\nWell it all depends on what your demands are.\r\n\r\nSmall application\r\n-----------------\r\n\r\nSession based, FormLogin using cookies, with *httpOnly* and *Secured* flags set, use *CORS* and *CSRF* tokens.\r\n\r\nMid sized\r\n---------------\r\nSeparate issuer/authorization server, build a BFF (backend for frontend), have cookies between BFF and frontend, the BFF authenticates against the issues using Authorization code flow with PKCE and stores the JWT in the backend, never hands out the JWT to the client. use CORS and CSRF\r\n\r\nLarge application\r\n-----------------\r\nSame as above but this time follow the OpenIDConnect standard, hand out AT-token, RT-Token ID-Token all as cookies to the frontend instead of a cookie. Have several resource servers, supply the AT token from the fontend in requests and have a proxy that will exchange the cookie token for a JWT, the JWT is used only within the corporate network and never is exposed out on the internet.\r\n\r\n\r\nSecurity isnt hard, as long as people read the standards and actually follows the standards and are not trying to invent custom home made security all the time. There is a reason there are standards, because they have been proven to be secure.\r\n\r\n\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/draft-ietf-oauth-security-topics#section-2.1.2\r\n  [2]: https://cheatsheetseries.owasp.org/cheatsheets/JSON_Web_Token_for_Java_Cheat_Sheet.html#token-storage-on-client-side","title":"If using Jwt token, there is a need of Spring Security?","body":"<p>Since most of the answers here our either misinformed or outdated i will answer this with some references.</p>\n<p>As of time of writing (november 2023) <a href=\"https://datatracker.ietf.org/doc/html/draft-ietf-oauth-security-topics#section-2.1.2\" rel=\"nofollow noreferrer\">oauth2 has deprecated</a> what is called the <em>IMPLICIT GRANT</em> which in short was the flow were you authenticated directly with an <em>issuer</em>  using a <em>username</em> and <em>password</em> and directly got issued a token to the client due to this flow has been found to be vulnerable to <em>access token</em> leakage and <em>access token replay</em> attacks.</p>\n<p>Take notice that the deprecation mentions tokens, this means both JWTs and opague tokens.</p>\n<p>JWTs has since long been been not recommended to use as a replacement for sessions, or session tokens, since there are no ways of storing a token securely in the browser, OWASP has <a href=\"https://cheatsheetseries.owasp.org/cheatsheets/JSON_Web_Token_for_Java_Cheat_Sheet.html#token-storage-on-client-side\" rel=\"nofollow noreferrer\">recommendation against storing tokens in browsers</a>. they also have several recommendations for instance not using JWTs unless you actually server side store some reference to the JWT since tokens can not be logged out. SO you cant <em>log out all devices</em> or logout a token that has been stolen.</p>\n<p>Several instances recommend against JWTs as session tokens:</p>\n<p><a href=\"https://developer.okta.com/blog/2017/08/17/why-jwts-suck-as-session-tokens\" rel=\"nofollow noreferrer\">https://developer.okta.com/blog/2017/08/17/why-jwts-suck-as-session-tokens</a></p>\n<p><a href=\"https://redis.com/blog/json-web-tokens-jwt-are-dangerous-for-user-sessions/\" rel=\"nofollow noreferrer\">https://redis.com/blog/json-web-tokens-jwt-are-dangerous-for-user-sessions/</a></p>\n<p><a href=\"https://www.youtube.com/watch?v=JdGOb7AxUo0\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=JdGOb7AxUo0</a></p>\n<p><a href=\"http://cryto.net/%7Ejoepie91/blog/2016/06/13/stop-using-jwt-for-sessions/\" rel=\"nofollow noreferrer\">http://cryto.net/~joepie91/blog/2016/06/13/stop-using-jwt-for-sessions/</a></p>\n<p><a href=\"http://cryto.net/%7Ejoepie91/blog/2016/06/19/stop-using-jwt-for-sessions-part-2-why-your-solution-doesnt-work/\" rel=\"nofollow noreferrer\">http://cryto.net/~joepie91/blog/2016/06/19/stop-using-jwt-for-sessions-part-2-why-your-solution-doesnt-work/</a></p>\n<p>There is no such implementation (showed in the linked tutorial in the question) in spring security, because it is not recommended to do such authentication. <strong>So there is has been an active choice to not have it</strong>.</p>\n<p>But why do so many recommend that, well its a long story, but mostly that security is hard, someone found a way to write security that seemed easy and &quot;sort of worked&quot; and then others copied it.</p>\n<p>So how should you build security?</p>\n<p>Well it all depends on what your demands are.</p>\n<h2>Small application</h2>\n<p>Session based, FormLogin using cookies, with <em>httpOnly</em> and <em>Secured</em> flags set, use <em>CORS</em> and <em>CSRF</em> tokens.</p>\n<h2>Mid sized</h2>\n<p>Separate issuer/authorization server, build a BFF (backend for frontend), have cookies between BFF and frontend, the BFF authenticates against the issues using Authorization code flow with PKCE and stores the JWT in the backend, never hands out the JWT to the client. use CORS and CSRF</p>\n<h2>Large application</h2>\n<p>Same as above but this time follow the OpenIDConnect standard, hand out AT-token, RT-Token ID-Token all as cookies to the frontend instead of a cookie. Have several resource servers, supply the AT token from the fontend in requests and have a proxy that will exchange the cookie token for a JWT, the JWT is used only within the corporate network and never is exposed out on the internet.</p>\n<p>Security isnt hard, as long as people read the standards and actually follows the standards and are not trying to invent custom home made security all the time. There is a reason there are standards, because they have been proven to be secure.</p>\n"}],"owner":{"account_id":11168499,"reputation":87,"user_id":8196323,"display_name":"TasteMyBomb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1168,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77581289,"answer_count":4,"score":1,"last_activity_date":1701373585,"creation_date":1677410138,"question_id":75571606,"body_markdown":"I was trying to create a Spring Microservice Project which makes use of the Jwt Bearer token. I have found this interesting resource: https://springframework.guru/jwt-authentication-in-spring-microservices-jwt-token/.\r\n\r\nThe issue here is that I do not see it implemented with Spring Security. I&#39;ve been thinking about the code and I realized that this is a good alternative (even in prod) for authenticating WITHOUT using Spring Security.\r\n\r\nIs this correct? Is it logically correct to provide this type of protection to the application, without Spring Security?\r\n\r\n\r\nMoreover, I was thinking of the following pattern:\r\n\r\n1. CoreAuthorizationService =&gt; containing all of the User, Roles, User_Roles repositories, and the service with the actual login / register implementations.\r\n2. AuthService =&gt; containing the controller of the auth which calls the functions defined in the CoreAuthorisationService. (I added the coreAuthorizationService in the pom.xml file)\r\n3. Any other service =&gt; containing the filter classes","title":"If using Jwt token, there is a need of Spring Security?","body":"<p>I was trying to create a Spring Microservice Project which makes use of the Jwt Bearer token. I have found this interesting resource: <a href=\"https://springframework.guru/jwt-authentication-in-spring-microservices-jwt-token/\" rel=\"nofollow noreferrer\">https://springframework.guru/jwt-authentication-in-spring-microservices-jwt-token/</a>.</p>\n<p>The issue here is that I do not see it implemented with Spring Security. I've been thinking about the code and I realized that this is a good alternative (even in prod) for authenticating WITHOUT using Spring Security.</p>\n<p>Is this correct? Is it logically correct to provide this type of protection to the application, without Spring Security?</p>\n<p>Moreover, I was thinking of the following pattern:</p>\n<ol>\n<li>CoreAuthorizationService =&gt; containing all of the User, Roles, User_Roles repositories, and the service with the actual login / register implementations.</li>\n<li>AuthService =&gt; containing the controller of the auth which calls the functions defined in the CoreAuthorisationService. (I added the coreAuthorizationService in the pom.xml file)</li>\n<li>Any other service =&gt; containing the filter classes</li>\n</ol>\n"},{"tags":["java","tomcat","apache-axis","webservice-client"],"owner":{"account_id":28374969,"reputation":21,"user_id":21703175,"display_name":"evelyn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701373268,"creation_date":1701373268,"question_id":77581254,"body_markdown":"As a novice in the field of web services, I am currently in the initial stages of my project development using Eclipse, Axis, and Tomcat. I encountered a challenge when attempting to execute my class, as it led to the opening of the following URL in my web browser: http://localhost:8081/WS_HelloWorld/WEB-INF/classes/tps/ws/deployment/HelloWorld.java, rather than the expected http://localhost:8081/WS_HelloWorld/services/HelloWorld/wsdl. This redirection resulted in a 404 error.\r\n\r\nSubsequently, in another project, upon entering the URL, the returned XML presented the following error message:\r\n\r\n```\r\n&lt;soapenv:Reason xmlns:soapenv=&quot;http://www.w3.org/2003/05/soap-envelope&quot;&gt;\r\n    &lt;soapenv:Text xml:lang=&quot;en-US&quot;&gt;The endpoint reference (EPR) for the Operation not found is /WS_Calculatrice/services/Calculatrice/wsdl, and the WSA Action is null. If this EPR was previously reachable, please contact the server administrator.&lt;/soapenv:Text&gt;\r\n&lt;/soapenv:Reason&gt;\r\n```\r\n\r\n\r\nI am seeking guidance and assistance in comprehending and resolving these issues.","title":"Web Service Deployment Issues: Incorrect URL Redirect and EPR Error","body":"<p>As a novice in the field of web services, I am currently in the initial stages of my project development using Eclipse, Axis, and Tomcat. I encountered a challenge when attempting to execute my class, as it led to the opening of the following URL in my web browser: http://localhost:8081/WS_HelloWorld/WEB-INF/classes/tps/ws/deployment/HelloWorld.java, rather than the expected http://localhost:8081/WS_HelloWorld/services/HelloWorld/wsdl. This redirection resulted in a 404 error.</p>\n<p>Subsequently, in another project, upon entering the URL, the returned XML presented the following error message:</p>\n<pre><code>&lt;soapenv:Reason xmlns:soapenv=&quot;http://www.w3.org/2003/05/soap-envelope&quot;&gt;\n    &lt;soapenv:Text xml:lang=&quot;en-US&quot;&gt;The endpoint reference (EPR) for the Operation not found is /WS_Calculatrice/services/Calculatrice/wsdl, and the WSA Action is null. If this EPR was previously reachable, please contact the server administrator.&lt;/soapenv:Text&gt;\n&lt;/soapenv:Reason&gt;\n</code></pre>\n<p>I am seeking guidance and assistance in comprehending and resolving these issues.</p>\n"},{"tags":["java","amazon-web-services","spring-boot"],"comments":[{"owner":{"account_id":18159713,"reputation":12916,"user_id":13211263,"display_name":"lpizzinidev"},"score":0,"creation_date":1701359871,"post_id":77579597,"comment_id":136768344,"body_markdown":"What&#39;s the subnet configuration of your EC2 instance?","body":"What&#39;s the subnet configuration of your EC2 instance?"},{"owner":{"account_id":30032698,"reputation":1,"user_id":23015427,"display_name":"Mykhailo Kuryk"},"score":0,"creation_date":1701360887,"post_id":77579597,"comment_id":136768559,"body_markdown":"what do you need to know about subnet configuration?","body":"what do you need to know about subnet configuration?"},{"owner":{"account_id":18159713,"reputation":12916,"user_id":13211263,"display_name":"lpizzinidev"},"score":0,"creation_date":1701361050,"post_id":77579597,"comment_id":136768599,"body_markdown":"Is it public/private? NACLs? Security group inbound rules?","body":"Is it public/private? NACLs? Security group inbound rules?"},{"owner":{"account_id":30032698,"reputation":1,"user_id":23015427,"display_name":"Mykhailo Kuryk"},"score":0,"creation_date":1701361519,"post_id":77579597,"comment_id":136768718,"body_markdown":"The subnet is public with auto-assigned public IPv4 addresses. NACLs allow all inbound traffic but deny all traffic with a preference for the allow rule.Inbound rules: 100\tAll traffic\tAll\tAll\t0.0.0.0/0\tAllow\n               *\tAll traffic\tAll\tAll\t0.0.0.0/0\tDeny","body":"The subnet is public with auto-assigned public IPv4 addresses. NACLs allow all inbound traffic but deny all traffic with a preference for the allow rule.Inbound rules: 100\tAll traffic\tAll\tAll\t0.0.0.0/0\tAllow                *\tAll traffic\tAll\tAll\t0.0.0.0/0\tDeny"},{"owner":{"account_id":7501,"reputation":187932,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1701361784,"post_id":77579597,"comment_id":136768772,"body_markdown":"&quot;i have an https for this domain that have my ec2 in target group by i still can&#39;t send https directly on ec2 endpoins&quot; You will only have HTTPS at the load balancer DNS name, you will never be able to send HTTPS directly to the EC2 instance with this configuration. The whole point of the load balancer is that you would send all traffic *through* the load balancer.","body":"&quot;i have an https for this domain that have my ec2 in target group by i still can&#39;t send https directly on ec2 endpoins&quot; You will only have HTTPS at the load balancer DNS name, you will never be able to send HTTPS directly to the EC2 instance with this configuration. The whole point of the load balancer is that you would send all traffic <i>through</i> the load balancer."},{"owner":{"account_id":30032698,"reputation":1,"user_id":23015427,"display_name":"Mykhailo Kuryk"},"score":0,"creation_date":1701361975,"post_id":77579597,"comment_id":136768808,"body_markdown":"thanks, I get it but we face the problem when the frontend sends requests directly on ec2 ipv4 and that&#39;s where we have the https problem","body":"thanks, I get it but we face the problem when the frontend sends requests directly on ec2 ipv4 and that&#39;s where we have the https problem"}],"answers":[{"tags":[],"owner":{"account_id":1442071,"reputation":8707,"user_id":1361901,"display_name":"Joseph Larson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701373047,"creation_date":1701373047,"answer_id":77581239,"question_id":77579597,"body_markdown":"I&#39;d start with this. You mentioned a load balancer. I would put a static HTML page on your server with an nginx running to serve the page. Then I&#39;d do the AWS magic to be able to load the page.\r\n\r\nOnce you do that, there&#39;s more simple nginx magic to redirect activity based on the URL. Or you can repoint the LB to point to your app instead of nginx.\r\n\r\nAs long as your instance (EC2 or container) has something running on the expected port (80 or whatever), all your config is in the LB.","title":"I have an EC2 server that works with spring boot, need to have an ability to use https on public IPv4 endpoint requests, how can I do it?","body":"<p>I'd start with this. You mentioned a load balancer. I would put a static HTML page on your server with an nginx running to serve the page. Then I'd do the AWS magic to be able to load the page.</p>\n<p>Once you do that, there's more simple nginx magic to redirect activity based on the URL. Or you can repoint the LB to point to your app instead of nginx.</p>\n<p>As long as your instance (EC2 or container) has something running on the expected port (80 or whatever), all your config is in the LB.</p>\n"}],"owner":{"account_id":30032698,"reputation":1,"user_id":23015427,"display_name":"Mykhailo Kuryk"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701373047,"creation_date":1701357585,"question_id":77579597,"body_markdown":"This problem is caused when we try to send request from our frontend (that live on GitHub pages) to backend on AQS and we find out that we can&#39;t use https on EC2. I already tried to manage it using Route 53 + Certificate Manager (where I get the certificate for my domain) + load balancer = as a result I have an https for this domain that have my EC2 in target group by I still can&#39;t send https directly on EC2 endpoints. What did I do wrong and how to fix this problem?\r\n\r\n\r\nI need to have an ability to send https requests on my backend from GitHub.","title":"I have an EC2 server that works with spring boot, need to have an ability to use https on public IPv4 endpoint requests, how can I do it?","body":"<p>This problem is caused when we try to send request from our frontend (that live on GitHub pages) to backend on AQS and we find out that we can't use https on EC2. I already tried to manage it using Route 53 + Certificate Manager (where I get the certificate for my domain) + load balancer = as a result I have an https for this domain that have my EC2 in target group by I still can't send https directly on EC2 endpoints. What did I do wrong and how to fix this problem?</p>\n<p>I need to have an ability to send https requests on my backend from GitHub.</p>\n"},{"tags":["java","hashmap","depth-first-search","breadth-first-search"],"answers":[{"tags":[],"owner":{"account_id":223457,"reputation":4755,"user_id":482682,"accept_rate":95,"display_name":"Lrrr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648016180,"creation_date":1648016180,"answer_id":71582606,"question_id":71582299,"body_markdown":"You are creating Adjacency List correctly(but it is better to name this function something like `adjList`), but for both `BFS` and `DFS`, you need to have a visited status per node, and iterate over all nodes neighbors of a node and do the BFS/DFS recursively on them. \r\n\r\n    \r\n    import java.util.*;\r\n    \r\n    public class Graph {\r\n        public static void main(String[] args) {\r\n            Graph g = new Graph();\r\n            g.adjList(0, 1);\r\n            g.adjList(0, 2);\r\n            g.adjList(1, 3);\r\n            g.adjList(2, 3);\r\n    \r\n            g.DFS(0);\r\n            g.BFS(0);\r\n    \r\n        }\r\n    \r\n        HashMap&lt;Integer, ArrayList&lt;Integer&gt;&gt; adjList = new HashMap&lt;&gt;();\r\n    \r\n        // adding element in Adjacency list (Undirected)\r\n    \r\n        void adjList(Integer a, Integer b) {\r\n            adjList.putIfAbsent(a, new ArrayList&lt;&gt;());\r\n            adjList.get(a).add(b);\r\n            adjList.putIfAbsent(b, new ArrayList&lt;&gt;());\r\n            adjList.get(b).add(a);\r\n        }\r\n    \r\n        void dfsRecursive(int v, boolean[] visited) {\r\n            visited[v] = true;\r\n            System.out.print(v + &quot; &quot;);\r\n    \r\n            for (int n : adjList.get(v)) {\r\n                if (!visited[n])\r\n                    dfsRecursive(n, visited);\r\n            }\r\n        }\r\n    \r\n        void DFS(int s) {\r\n            boolean[] visited = new boolean[adjList.size()];\r\n            System.out.print(&quot;DFS: &quot;);\r\n            dfsRecursive(s, visited);\r\n            System.out.println();\r\n    \r\n        }\r\n    \r\n        void BFS(int s) {\r\n            boolean[] visited = new boolean[adjList.size()];\r\n    \r\n            LinkedList&lt;Integer&gt; queue = new LinkedList&lt;&gt;();\r\n    \r\n            visited[s] = true;\r\n            queue.add(s);\r\n            System.out.print(&quot;BFS: &quot;);\r\n            while (queue.size() != 0) {\r\n                s = queue.poll();\r\n                System.out.print(s + &quot; &quot;);\r\n    \r\n                for (int n : adjList.get(s)) {\r\n                    if (!visited[n]) {\r\n                        visited[n] = true;\r\n                        queue.add(n);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThe output of above code would be:\r\n\r\n    DFS: 0 1 3 2 \r\n    BFS: 0 1 2 3 ","title":"How to do DFS and BFS in Adjacency List?","body":"<p>You are creating Adjacency List correctly(but it is better to name this function something like <code>adjList</code>), but for both <code>BFS</code> and <code>DFS</code>, you need to have a visited status per node, and iterate over all nodes neighbors of a node and do the BFS/DFS recursively on them.</p>\n<pre><code>import java.util.*;\n\npublic class Graph {\n    public static void main(String[] args) {\n        Graph g = new Graph();\n        g.adjList(0, 1);\n        g.adjList(0, 2);\n        g.adjList(1, 3);\n        g.adjList(2, 3);\n\n        g.DFS(0);\n        g.BFS(0);\n\n    }\n\n    HashMap&lt;Integer, ArrayList&lt;Integer&gt;&gt; adjList = new HashMap&lt;&gt;();\n\n    // adding element in Adjacency list (Undirected)\n\n    void adjList(Integer a, Integer b) {\n        adjList.putIfAbsent(a, new ArrayList&lt;&gt;());\n        adjList.get(a).add(b);\n        adjList.putIfAbsent(b, new ArrayList&lt;&gt;());\n        adjList.get(b).add(a);\n    }\n\n    void dfsRecursive(int v, boolean[] visited) {\n        visited[v] = true;\n        System.out.print(v + &quot; &quot;);\n\n        for (int n : adjList.get(v)) {\n            if (!visited[n])\n                dfsRecursive(n, visited);\n        }\n    }\n\n    void DFS(int s) {\n        boolean[] visited = new boolean[adjList.size()];\n        System.out.print(&quot;DFS: &quot;);\n        dfsRecursive(s, visited);\n        System.out.println();\n\n    }\n\n    void BFS(int s) {\n        boolean[] visited = new boolean[adjList.size()];\n\n        LinkedList&lt;Integer&gt; queue = new LinkedList&lt;&gt;();\n\n        visited[s] = true;\n        queue.add(s);\n        System.out.print(&quot;BFS: &quot;);\n        while (queue.size() != 0) {\n            s = queue.poll();\n            System.out.print(s + &quot; &quot;);\n\n            for (int n : adjList.get(s)) {\n                if (!visited[n]) {\n                    visited[n] = true;\n                    queue.add(n);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>The output of above code would be:</p>\n<pre><code>DFS: 0 1 3 2 \nBFS: 0 1 2 3 \n</code></pre>\n"}],"owner":{"account_id":16065770,"reputation":3,"user_id":11595455,"display_name":"PotatoQasd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1486,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71582606,"answer_count":1,"score":0,"last_activity_date":1701372636,"creation_date":1648013916,"question_id":71582299,"body_markdown":"Creating an adjacency list:\r\n\r\n    HashMap &lt;Interger,ArrayList&lt;Integer&gt;&gt; adjList =  new HashMap&lt;Integer,ArrayList&lt;Integer&gt;&gt;();  \r\n\r\n    // adding element in Adjacency list (Undirected)\r\n \r\n    void AdjList(Integer a, Integer b){\r\n        adjList.putIfAbsent(a, new ArrayList&lt;&gt;());\r\n        adjList.get(a).add(b);\r\n        adjList.putIfAbsent(b, new ArrayList&lt;&gt;());\r\n        adjList.get(b).add(a);\r\n    } \r\n\r\nHow to do DFS and BFS in this?\r\n\r\nI&#39;ve tried something like this. how to loop through ?\r\n\r\n    void DFS(Integer i) {\r\n        //getting first element from adjlist\r\n        if (adjList.containsKey(i)) {\r\n            Integer ele1 = adjList.get(i).get(adjList.get(i).size() - 1);\r\n            if (adjList.containsKey(ele1)) {\r\n                Integer ele2 = adjList.get(ele1).get(adjList.get(ele1).size() - 1);\r\n            }\r\n        }\r\n    }\r\n","title":"How to do DFS and BFS in Adjacency List?","body":"<p>Creating an adjacency list:</p>\n<pre><code>HashMap &lt;Interger,ArrayList&lt;Integer&gt;&gt; adjList =  new HashMap&lt;Integer,ArrayList&lt;Integer&gt;&gt;();  \n\n// adding element in Adjacency list (Undirected)\n\nvoid AdjList(Integer a, Integer b){\n    adjList.putIfAbsent(a, new ArrayList&lt;&gt;());\n    adjList.get(a).add(b);\n    adjList.putIfAbsent(b, new ArrayList&lt;&gt;());\n    adjList.get(b).add(a);\n} \n</code></pre>\n<p>How to do DFS and BFS in this?</p>\n<p>I've tried something like this. how to loop through ?</p>\n<pre><code>void DFS(Integer i) {\n    //getting first element from adjlist\n    if (adjList.containsKey(i)) {\n        Integer ele1 = adjList.get(i).get(adjList.get(i).size() - 1);\n        if (adjList.containsKey(ele1)) {\n            Integer ele2 = adjList.get(ele1).get(adjList.get(ele1).size() - 1);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","http","cookies","junit","easymock"],"comments":[{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":1,"creation_date":1656108600,"post_id":72718145,"comment_id":128499488,"body_markdown":"If the problem has to do only with the following line: `expect(createBookingRequest.getCookies()).andReturn((Cookie[]) Collections.singletonList(capturedCookie).toArray()).atLeastOnce();`, have you tried to access the captured value? I mean,  using something like this: `expect(createBookingRequest.getCookies()).andReturn(new Cookie[] { capturedCookie.getValue() }).atLeastOnce();`. Note the use of the `Capture` class [`getValue()`method](https://easymock.org/api/org/easymock/Capture.html#getValue--). I usually use other mocking frameworks but I think the rest of your code looks fine.","body":"If the problem has to do only with the following line: <code>expect(createBookingRequest.getCookies()).andReturn((Cookie[&zwnj;&#8203;]) Collections.singletonList(capturedCookie).toArray()).atLeast&zwnj;&#8203;Once();</code>, have you tried to access the captured value? I mean,  using something like this: <code>expect(createBookingRequest.getCookies()).andReturn(new Cookie[] { capturedCookie.getValue() }).atLeastOnce();</code>. Note the use of the <code>Capture</code> class <a href=\"https://easymock.org/api/org/easymock/Capture.html#getValue--\" rel=\"nofollow noreferrer\"><code>getValue()</code>method</a>. I usually use other mocking frameworks but I think the rest of your code looks fine."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1656243278,"post_id":72718145,"comment_id":128519335,"body_markdown":"Is there any specific reason why you do not simply use `.toArray(new Cookie[0])`? Please letz me know if this helps, then I can convert the comment into an answer, if that detail is really your problem.","body":"Is there any specific reason why you do not simply use <code>.toArray(new Cookie[0])</code>? Please letz me know if this helps, then I can convert the comment into an answer, if that detail is really your problem."},{"owner":{"account_id":266748,"reputation":2670,"user_id":554491,"accept_rate":68,"display_name":"Morpheu5"},"score":0,"creation_date":1656245047,"post_id":72718145,"comment_id":128519742,"body_markdown":"@kriegaex why would I go through the trouble of capturing the cookie and turning it into a singleton collection with the intended purpose of reusing the cookie in the next request if I then instruct the next request to return an empty array of cookies?","body":"@kriegaex why would I go through the trouble of capturing the cookie and turning it into a singleton collection with the intended purpose of reusing the cookie in the next request if I then instruct the next request to return an empty array of cookies?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1656251793,"post_id":72718145,"comment_id":128521169,"body_markdown":"@Morpheu5, maybe you want to read a [tutorial](https://www.baeldung.com/java-collection-toarray-methods) or some [JRE javadoc](https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#toArray-T:A-): _&quot;Parameters: a - the array into which the elements of this collection are to be stored, if it is big enough; otherwise, a new array of the same runtime type is allocated for this purpose.&quot;_ Using a zero-sized array of the desired type as a parameter is kind of a Java idiom.","body":"@Morpheu5, maybe you want to read a <a href=\"https://www.baeldung.com/java-collection-toarray-methods\" rel=\"nofollow noreferrer\">tutorial</a> or some <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#toArray-T:A-\" rel=\"nofollow noreferrer\">JRE javadoc</a>: <i>&quot;Parameters: a - the array into which the elements of this collection are to be stored, if it is big enough; otherwise, a new array of the same runtime type is allocated for this purpose.&quot;</i> Using a zero-sized array of the desired type as a parameter is kind of a Java idiom."}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701372581,"creation_date":1656165597,"answer_id":72754494,"question_id":72718145,"body_markdown":"As you indicated in your code comments, the problem seems to be related to the following line:\r\n\r\n```java\r\nexpect(createBookingRequest.getCookies()).andReturn((Cookie[]) Collections.singletonList(capturedCookie).toArray()).atLeastOnce();\r\n```\r\n\r\nwhich is originating a `ClassCastException`:\r\n\r\n```\r\njava.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to [Ljavax.servlet.http.Cookie;\r\n```\r\n\r\nAs I indicated in my comment to your question too, please, try using the `Capture` class [`getValue()`](https://easymock.org/api/org/easymock/Capture.html#getValue--) method to obtain a reference to the captured value, and use that value to provide the necessary return information to the `createBookingRequest.getCookies()` expectation, something like this:\r\n\r\n```java\r\nexpect(createBookingRequest.getCookies()).andReturn(new Cookie[] { capturedCookie.getValue() }).atLeastOnce();\r\n```\r\n\r\nNote the use of the `getValue()` method.\r\n\r\nBe aware that in order to use the proposed solution is very important that you invoke the `logingResponse.addCookie(...)` method before performing the actual `capturedCookie.getValue()` invocation.\r\n\r\nI mean, suppose the following code fragment in which I included the proposed change:\r\n\r\n```java\r\nString someSegueAnonymousUserId = &quot;9284723987anonymous83924923&quot;;\r\n\r\nHttpSession httpSession = createNiceMock(HttpSession.class);\r\n// At first, an anonymous user is &quot;created&quot;\r\nexpect(httpSession.getAttribute(&quot;anonymous&quot;)).andReturn(null).atLeastOnce();\r\nexpect(httpSession.getId()).andReturn(someSegueAnonymousUserId).atLeastOnce();\r\nreplay(httpSession);\r\n\r\nCapture&lt;Cookie&gt; capturedCookie = Capture.newInstance(); // new Capture&lt;Cookie&gt;(); seems deprecated\r\n\r\n// This is the HTTP request for the login step\r\nHttpServletRequest loginRequest = createNiceMock(HttpServletRequest.class);\r\nexpect(loginRequest.getSession()).andReturn(httpSession).atLeastOnce();\r\nreplay(loginRequest);\r\n\r\n// The login process takes the auth cookie and sticks it into the HTTP response\r\n// I capture the cookie because I&#39;m going to need it for subsequent requests, to prove that I&#39;m logged in\r\nHttpServletResponse loginResponse = createNiceMock(HttpServletResponse.class);\r\nloginResponse.addCookie(and(capture(capturedCookie), isA(Cookie.class)));\r\nexpectLastCall().atLeastOnce();\r\nreplay(loginResponse);\r\n\r\n// This is the request for the endpoint I&#39;m going to test\r\nHttpServletRequest createBookingRequest = createNiceMock(HttpServletRequest.class);\r\n// I expect that the endpoint method will check authentication by grabbing the cookies from the request\r\n// Test case fails here: I can&#39;t find a way to cast the Object[] returned by the toArray() method to a Cookie[] which is what getCookies() is expected to return.\r\nexpect(createBookingRequest.getCookies()).andReturn(new Cookie[] { capturedCookie.getValue() }).atLeastOnce();\r\nreplay(createBookingRequest);\r\n\r\n// The rest of your code\r\n```\r\n\r\nIf you run the test, it will fail with the following error message:\r\n\r\n```\r\njava.lang.AssertionError: Nothing captured yet\r\n\r\n\tat org.easymock.Capture.getValue(Capture.java:101)\r\n```\r\n\r\nIt makes perfect sense because the captured value will only be available when the &quot;watched&quot; method, the one we want to capture the arguments for, `loginResponse.addCookie(...)` in this case, is invoked.\r\n\r\nTo solve the problem, perhaps you could try reordering your code and only call the `capturedCookie.getValue()` when the authentication flow is finished, probably in some place in your `userAccountManager.authenticateWithCredentials` method invocation. For example:\r\n\r\n```java\r\nString someSegueAnonymousUserId = &quot;9284723987anonymous83924923&quot;;\r\n\r\nHttpSession httpSession = createNiceMock(HttpSession.class);\r\n// At first, an anonymous user is &quot;created&quot;\r\nexpect(httpSession.getAttribute(&quot;anonymous&quot;)).andReturn(null).atLeastOnce();\r\nexpect(httpSession.getId()).andReturn(someSegueAnonymousUserId).atLeastOnce();\r\nreplay(httpSession);\r\n\r\nCapture&lt;Cookie&gt; capturedCookie = Capture.newInstance(); // new Capture&lt;Cookie&gt;(); seems deprecated\r\n\r\n// This is the HTTP request for the login step\r\nHttpServletRequest loginRequest = createNiceMock(HttpServletRequest.class);\r\nexpect(loginRequest.getSession()).andReturn(httpSession).atLeastOnce();\r\nreplay(loginRequest);\r\n\r\n// The login process takes the auth cookie and sticks it into the HTTP response\r\n// I capture the cookie because I&#39;m going to need it for subsequent requests, to prove that I&#39;m logged in\r\nHttpServletResponse loginResponse = createNiceMock(HttpServletResponse.class);\r\nloginResponse.addCookie(and(capture(capturedCookie), isA(Cookie.class)));\r\nexpectLastCall().atLeastOnce();\r\nreplay(loginResponse);\r\n\r\n// OK, so, this logs me in, and it works just fine, the cookie is created, and it is valid as far as I can tell\r\n// Perform the actual authentication flow: I assume it will call under the hood to the loginResponse.addCookie method\r\n// so everything will be fine when you try getting the captured method in the next step\r\nRegisteredUserDTO testUsers = userAccountManager.authenticateWithCredentials(loginRequest, loginResponse, AuthenticationProvider.SEGUE.toString(), &quot;test-account@test.com&quot;, &quot;testpassword&quot;, false);\r\n\r\n// This is the request for the endpoint I&#39;m going to test\r\nHttpServletRequest createBookingRequest = createNiceMock(HttpServletRequest.class);\r\n// I expect that the endpoint method will check authentication by grabbing the cookies from the request\r\n// Test case fails here: I can&#39;t find a way to cast the Object[] returned by the toArray() method to a Cookie[] which is what getCookies() is expected to return.\r\nexpect(createBookingRequest.getCookies()).andReturn(new Cookie[] { capturedCookie.getValue() }).atLeastOnce();\r\nreplay(createBookingRequest);\r\n\r\n// I don&#39;t even get here at all because of that failure above\r\nResponse createBookingResponse = eventsFacade.createBookingForMe(createBookingRequest, &quot;someEventId&quot;, null);\r\n```\r\n\r\nWith this new setup, be sure that within your `userAccountManager`  `authenticateWithCredentials` method you invoke `loginResponse.addCookie`:\r\n\r\n```java\r\npublic RegisteredUserDTO authenticateWithCredentials(\r\n  HttpServletRequest loginRequest,\r\n  HttpServletRequest loginResponse, \r\n  String authType, \r\n  String username, \r\n  String password,\r\n  boolean someFlag) {\r\n\r\n  //...\r\n\r\n  // Among other things, please, be sure to perform the actual\r\n  // addCookie method invocation\r\n  // Fetchthe cookie as appropriate\r\n  Cookie authCookie = new Cookie(&quot;jwt&quot;, &quot;124adf45...&quot;);\r\n  loginResponse.addCookie(authCookie);\r\n   \r\n  //...\r\n  return testUsers;\r\n}\r\n```\r\n","title":"Can I reuse a captured value in a subsequent mock, with EasyMock?","body":"<p>As you indicated in your code comments, the problem seems to be related to the following line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>expect(createBookingRequest.getCookies()).andReturn((Cookie[]) Collections.singletonList(capturedCookie).toArray()).atLeastOnce();\n</code></pre>\n<p>which is originating a <code>ClassCastException</code>:</p>\n<pre><code>java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to [Ljavax.servlet.http.Cookie;\n</code></pre>\n<p>As I indicated in my comment to your question too, please, try using the <code>Capture</code> class <a href=\"https://easymock.org/api/org/easymock/Capture.html#getValue--\" rel=\"nofollow noreferrer\"><code>getValue()</code></a> method to obtain a reference to the captured value, and use that value to provide the necessary return information to the <code>createBookingRequest.getCookies()</code> expectation, something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>expect(createBookingRequest.getCookies()).andReturn(new Cookie[] { capturedCookie.getValue() }).atLeastOnce();\n</code></pre>\n<p>Note the use of the <code>getValue()</code> method.</p>\n<p>Be aware that in order to use the proposed solution is very important that you invoke the <code>logingResponse.addCookie(...)</code> method before performing the actual <code>capturedCookie.getValue()</code> invocation.</p>\n<p>I mean, suppose the following code fragment in which I included the proposed change:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String someSegueAnonymousUserId = &quot;9284723987anonymous83924923&quot;;\n\nHttpSession httpSession = createNiceMock(HttpSession.class);\n// At first, an anonymous user is &quot;created&quot;\nexpect(httpSession.getAttribute(&quot;anonymous&quot;)).andReturn(null).atLeastOnce();\nexpect(httpSession.getId()).andReturn(someSegueAnonymousUserId).atLeastOnce();\nreplay(httpSession);\n\nCapture&lt;Cookie&gt; capturedCookie = Capture.newInstance(); // new Capture&lt;Cookie&gt;(); seems deprecated\n\n// This is the HTTP request for the login step\nHttpServletRequest loginRequest = createNiceMock(HttpServletRequest.class);\nexpect(loginRequest.getSession()).andReturn(httpSession).atLeastOnce();\nreplay(loginRequest);\n\n// The login process takes the auth cookie and sticks it into the HTTP response\n// I capture the cookie because I'm going to need it for subsequent requests, to prove that I'm logged in\nHttpServletResponse loginResponse = createNiceMock(HttpServletResponse.class);\nloginResponse.addCookie(and(capture(capturedCookie), isA(Cookie.class)));\nexpectLastCall().atLeastOnce();\nreplay(loginResponse);\n\n// This is the request for the endpoint I'm going to test\nHttpServletRequest createBookingRequest = createNiceMock(HttpServletRequest.class);\n// I expect that the endpoint method will check authentication by grabbing the cookies from the request\n// Test case fails here: I can't find a way to cast the Object[] returned by the toArray() method to a Cookie[] which is what getCookies() is expected to return.\nexpect(createBookingRequest.getCookies()).andReturn(new Cookie[] { capturedCookie.getValue() }).atLeastOnce();\nreplay(createBookingRequest);\n\n// The rest of your code\n</code></pre>\n<p>If you run the test, it will fail with the following error message:</p>\n<pre><code>java.lang.AssertionError: Nothing captured yet\n\n    at org.easymock.Capture.getValue(Capture.java:101)\n</code></pre>\n<p>It makes perfect sense because the captured value will only be available when the &quot;watched&quot; method, the one we want to capture the arguments for, <code>loginResponse.addCookie(...)</code> in this case, is invoked.</p>\n<p>To solve the problem, perhaps you could try reordering your code and only call the <code>capturedCookie.getValue()</code> when the authentication flow is finished, probably in some place in your <code>userAccountManager.authenticateWithCredentials</code> method invocation. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String someSegueAnonymousUserId = &quot;9284723987anonymous83924923&quot;;\n\nHttpSession httpSession = createNiceMock(HttpSession.class);\n// At first, an anonymous user is &quot;created&quot;\nexpect(httpSession.getAttribute(&quot;anonymous&quot;)).andReturn(null).atLeastOnce();\nexpect(httpSession.getId()).andReturn(someSegueAnonymousUserId).atLeastOnce();\nreplay(httpSession);\n\nCapture&lt;Cookie&gt; capturedCookie = Capture.newInstance(); // new Capture&lt;Cookie&gt;(); seems deprecated\n\n// This is the HTTP request for the login step\nHttpServletRequest loginRequest = createNiceMock(HttpServletRequest.class);\nexpect(loginRequest.getSession()).andReturn(httpSession).atLeastOnce();\nreplay(loginRequest);\n\n// The login process takes the auth cookie and sticks it into the HTTP response\n// I capture the cookie because I'm going to need it for subsequent requests, to prove that I'm logged in\nHttpServletResponse loginResponse = createNiceMock(HttpServletResponse.class);\nloginResponse.addCookie(and(capture(capturedCookie), isA(Cookie.class)));\nexpectLastCall().atLeastOnce();\nreplay(loginResponse);\n\n// OK, so, this logs me in, and it works just fine, the cookie is created, and it is valid as far as I can tell\n// Perform the actual authentication flow: I assume it will call under the hood to the loginResponse.addCookie method\n// so everything will be fine when you try getting the captured method in the next step\nRegisteredUserDTO testUsers = userAccountManager.authenticateWithCredentials(loginRequest, loginResponse, AuthenticationProvider.SEGUE.toString(), &quot;test-account@test.com&quot;, &quot;testpassword&quot;, false);\n\n// This is the request for the endpoint I'm going to test\nHttpServletRequest createBookingRequest = createNiceMock(HttpServletRequest.class);\n// I expect that the endpoint method will check authentication by grabbing the cookies from the request\n// Test case fails here: I can't find a way to cast the Object[] returned by the toArray() method to a Cookie[] which is what getCookies() is expected to return.\nexpect(createBookingRequest.getCookies()).andReturn(new Cookie[] { capturedCookie.getValue() }).atLeastOnce();\nreplay(createBookingRequest);\n\n// I don't even get here at all because of that failure above\nResponse createBookingResponse = eventsFacade.createBookingForMe(createBookingRequest, &quot;someEventId&quot;, null);\n</code></pre>\n<p>With this new setup, be sure that within your <code>userAccountManager</code>  <code>authenticateWithCredentials</code> method you invoke <code>loginResponse.addCookie</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public RegisteredUserDTO authenticateWithCredentials(\n  HttpServletRequest loginRequest,\n  HttpServletRequest loginResponse, \n  String authType, \n  String username, \n  String password,\n  boolean someFlag) {\n\n  //...\n\n  // Among other things, please, be sure to perform the actual\n  // addCookie method invocation\n  // Fetchthe cookie as appropriate\n  Cookie authCookie = new Cookie(&quot;jwt&quot;, &quot;124adf45...&quot;);\n  loginResponse.addCookie(authCookie);\n   \n  //...\n  return testUsers;\n}\n</code></pre>\n"}],"owner":{"account_id":266748,"reputation":2670,"user_id":554491,"accept_rate":68,"display_name":"Morpheu5"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72754494,"answer_count":1,"score":1,"last_activity_date":1701372581,"creation_date":1655911393,"question_id":72718145,"body_markdown":"I&#39;m trying to do E2E testing (or as close as I can get to E2E) for a Jetty application. I have a neat set-up involving testcontainers and minimal mocking, and everything works in principle, except that I am now having to mock the HTTP workflow that would be handled by Jetty, because I run my tests with JUnit, and all of this because I need to test methods that require authentication -- and yes, I *could* mock the authentication layer, but I&#39;d rather not for reasons.\r\n\r\nAnyway, this is what I&#39;m ending up doing:\r\n\r\n```java\r\nString someSegueAnonymousUserId = &quot;9284723987anonymous83924923&quot;;\r\n\r\nHttpSession httpSession = createNiceMock(HttpSession.class);\r\n// At first, an anonymous user is &quot;created&quot;\r\nexpect(httpSession.getAttribute(Constants.ANONYMOUS_USER)).andReturn(null).atLeastOnce();\r\nexpect(httpSession.getId()).andReturn(someSegueAnonymousUserId).atLeastOnce();\r\nreplay(httpSession);\r\n\r\nCapture&lt;Cookie&gt; capturedCookie = Capture.newInstance(); // new Capture&lt;Cookie&gt;(); seems deprecated\r\n\r\n// This is the HTTP request for the login step\r\nHttpServletRequest loginRequest = createNiceMock(HttpServletRequest.class);\r\nexpect(loginRequest.getSession()).andReturn(httpSession).atLeastOnce();\r\nreplay(loginRequest);\r\n\r\n// The login process takes the auth cookie and sticks it into the HTTP response\r\n// I capture the cookie because I&#39;m going to need it for subsequent requests, to prove that I&#39;m logged in\r\nHttpServletResponse loginResponse = createNiceMock(HttpServletResponse.class);\r\nloginResponse.addCookie(and(capture(capturedCookie), isA(Cookie.class)));\r\nexpectLastCall().atLeastOnce();\r\nreplay(loginResponse);\r\n\r\n// This is the request for the endpoint I&#39;m going to test\r\nHttpServletRequest createBookingRequest = createNiceMock(HttpServletRequest.class);\r\n// I expect that the endpoint method will check authentication by grabbing the cookies from the request\r\n// Test case fails here: I can&#39;t find a way to cast the Object[] returned by the toArray() method to a Cookie[] which is what getCookies() is expected to return.\r\nexpect(createBookingRequest.getCookies()).andReturn((Cookie[]) Collections.singletonList(capturedCookie).toArray()).atLeastOnce();\r\nreplay(createBookingRequest);\r\n\r\n// OK, so, this logs me in, and it works just fine, the cookie is created, and it is valid as far as I can tell\r\nRegisteredUserDTO testUsers = userAccountManager.authenticateWithCredentials(loginRequest, loginResponse, AuthenticationProvider.SEGUE.toString(), &quot;test-account@test.com&quot;, &quot;testpassword&quot;, false);\r\n// I don&#39;t even get here at all because of that failure above\r\nResponse createBookingResponse = eventsFacade.createBookingForMe(createBookingRequest, &quot;someEventId&quot;, null);\r\n```\r\n\r\nNow, either there is a way of fixing this, or I&#39;m doing it terribly wrong and I should be doing things very differently. However, I can&#39;t find much guidance on the Internet, so my suspicion that I&#39;m doing something that I&#39;m not supposed to do.\r\n\r\nAny pointers to how I should do things differently?","title":"Can I reuse a captured value in a subsequent mock, with EasyMock?","body":"<p>I'm trying to do E2E testing (or as close as I can get to E2E) for a Jetty application. I have a neat set-up involving testcontainers and minimal mocking, and everything works in principle, except that I am now having to mock the HTTP workflow that would be handled by Jetty, because I run my tests with JUnit, and all of this because I need to test methods that require authentication -- and yes, I <em>could</em> mock the authentication layer, but I'd rather not for reasons.</p>\n<p>Anyway, this is what I'm ending up doing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String someSegueAnonymousUserId = &quot;9284723987anonymous83924923&quot;;\n\nHttpSession httpSession = createNiceMock(HttpSession.class);\n// At first, an anonymous user is &quot;created&quot;\nexpect(httpSession.getAttribute(Constants.ANONYMOUS_USER)).andReturn(null).atLeastOnce();\nexpect(httpSession.getId()).andReturn(someSegueAnonymousUserId).atLeastOnce();\nreplay(httpSession);\n\nCapture&lt;Cookie&gt; capturedCookie = Capture.newInstance(); // new Capture&lt;Cookie&gt;(); seems deprecated\n\n// This is the HTTP request for the login step\nHttpServletRequest loginRequest = createNiceMock(HttpServletRequest.class);\nexpect(loginRequest.getSession()).andReturn(httpSession).atLeastOnce();\nreplay(loginRequest);\n\n// The login process takes the auth cookie and sticks it into the HTTP response\n// I capture the cookie because I'm going to need it for subsequent requests, to prove that I'm logged in\nHttpServletResponse loginResponse = createNiceMock(HttpServletResponse.class);\nloginResponse.addCookie(and(capture(capturedCookie), isA(Cookie.class)));\nexpectLastCall().atLeastOnce();\nreplay(loginResponse);\n\n// This is the request for the endpoint I'm going to test\nHttpServletRequest createBookingRequest = createNiceMock(HttpServletRequest.class);\n// I expect that the endpoint method will check authentication by grabbing the cookies from the request\n// Test case fails here: I can't find a way to cast the Object[] returned by the toArray() method to a Cookie[] which is what getCookies() is expected to return.\nexpect(createBookingRequest.getCookies()).andReturn((Cookie[]) Collections.singletonList(capturedCookie).toArray()).atLeastOnce();\nreplay(createBookingRequest);\n\n// OK, so, this logs me in, and it works just fine, the cookie is created, and it is valid as far as I can tell\nRegisteredUserDTO testUsers = userAccountManager.authenticateWithCredentials(loginRequest, loginResponse, AuthenticationProvider.SEGUE.toString(), &quot;test-account@test.com&quot;, &quot;testpassword&quot;, false);\n// I don't even get here at all because of that failure above\nResponse createBookingResponse = eventsFacade.createBookingForMe(createBookingRequest, &quot;someEventId&quot;, null);\n</code></pre>\n<p>Now, either there is a way of fixing this, or I'm doing it terribly wrong and I should be doing things very differently. However, I can't find much guidance on the Internet, so my suspicion that I'm doing something that I'm not supposed to do.</p>\n<p>Any pointers to how I should do things differently?</p>\n"},{"tags":["java","anylogic"],"comments":[{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":1,"creation_date":1701372297,"post_id":77578520,"comment_id":136770744,"body_markdown":"Welcome to SOF. This place works best for you if you ask very focused, specific questions on 1 AnyLogic issue, show exactly what you tried already and where you are stuck. If you want to know “how do I best do X in AnyLogic”, you should use the LinkedIn forum instead. Check this overview to the community to understand why: https://benjamin-schumann.com/blog/anylogic-community. Else, try to break down your broad question into specific sub-questions and ask them separately, see https://benjamin-schumann.com/blog/anylogic-stackoverflow. Welcome again, happy to help","body":"Welcome to SOF. This place works best for you if you ask very focused, specific questions on 1 AnyLogic issue, show exactly what you tried already and where you are stuck. If you want to know “how do I best do X in AnyLogic”, you should use the LinkedIn forum instead. Check this overview to the community to understand why: <a href=\"https://benjamin-schumann.com/blog/anylogic-community\" rel=\"nofollow noreferrer\">benjamin-schumann.com/blog/anylogic-community</a>. Else, try to break down your broad question into specific sub-questions and ask them separately, see <a href=\"https://benjamin-schumann.com/blog/anylogic-stackoverflow\" rel=\"nofollow noreferrer\">benjamin-schumann.com/blog/anylogic-stackoverflow</a>. Welcome again, happy to help"}],"owner":{"account_id":29911261,"reputation":1,"user_id":22922620,"display_name":"PIETRO COLOMBO"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701372314,"creation_date":1701348104,"question_id":77578520,"body_markdown":" Priority task for resourcepool\r\n\r\n\r\nHi, I need help with anylogic. I would like to set a priority function on a specific activity for the resource pool operators. the resourcepool is allocated to both task 1 and task 2. I would like priority to be given to task 2. so if there are agents ready to be worked on in both tasks, task 2 is done first.\r\n[image](https://i.stack.imgur.com/9n9CK.png)","title":"anylogic - Priority task for resourcepool","body":"<p>Priority task for resourcepool</p>\n<p>Hi, I need help with anylogic. I would like to set a priority function on a specific activity for the resource pool operators. the resourcepool is allocated to both task 1 and task 2. I would like priority to be given to task 2. so if there are agents ready to be worked on in both tasks, task 2 is done first.\n<a href=\"https://i.stack.imgur.com/9n9CK.png\" rel=\"nofollow noreferrer\">image</a></p>\n"},{"tags":["java","android","libvlc","android-textureview","vlc-android"],"answers":[{"tags":[],"owner":{"account_id":14277918,"reputation":782,"user_id":10345968,"display_name":"peter bence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1555656424,"creation_date":1555656424,"answer_id":55757697,"question_id":53988652,"body_markdown":"After this long time i decided to give this answer, that i&#39;m using as an alternative for now. I found that `FFMpegFrameGrabber` of [JavaCPP][1] could be used to play both `rtsp streams` or video files, however you have two problems here:\r\n\r\n 1. `FFMpegFrameGrabber.Grab()` that read the direct next frame available, is too slow so that i was able to grab **no more than 6 frames per second** on my device (*CPU: 1.5 GHz 64Bit Octa Core ARM Cortex-A53*)\r\n 2. `FFMpegFrameGrabber` doesn&#39;t have rendering abilities, it just grabs the current video frame into an `OpenCV Mat` object or `Javacv Frame` one (you can use the class `AndroidFrameConverter` of the same library to convert the Frame object into a `Bitmap`).\r\n\r\nConcerning the first problem, i can go clean with it where i don&#39;t need more than `5 fps` in my case.\r\n\r\nFor the second one, i developed an `OpenGL Bitmap based renderer` that can render the bitmap images grabbed by the grabber in almost no time (it&#39;s very fast). Here is my code:\r\n\r\n\r\n **app.gradle:**\r\n\r\n    implementation group: &#39;org.bytedeco&#39;, name: &#39;javacv-platform&#39;, version: &#39;1.4.3&#39;\r\n    implementation group: &#39;org.bytedeco&#39;, name: &#39;javacv&#39;, version: &#39;1.4.3&#39;\r\n\r\n**grabber:**\r\n\r\n    class Player extends AsyncTask&lt;BitmapRenderer, Bitmap, Object&gt; {\r\n        BitmapRenderer glRenderer;\r\n        FFmpegFrameGrabber grabber = null;\r\n    \r\n        @Override\r\n        protected Bitmap doInBackground(BitmapRenderer... objects) {\r\n            glRenderer = objects[0];\r\n    \r\n            try {\r\n                grabber = new FFmpegFrameGrabber(&quot;/storage/emulated/0/Download/test.mp4&quot;);\r\n                grabber.start();\r\n                OpenCVFrameConverter.ToMat converter = new OpenCVFrameConverter.ToMat();\r\n                Frame grabbedImage;\r\n                while ((grabbedImage = grabber.grabImage()) != null) {\r\n                    Log.e(&quot;Android&quot;, &quot;Frame Grabbed &quot; + grabbedImage.imageWidth + &quot;x&quot; + grabbedImage.imageHeight);\r\n                    AndroidFrameConverter frameConverter = new AndroidFrameConverter();\r\n                    Bitmap bitmap = frameConverter.convert(grabbedImage);\r\n                    publishProgress(bitmap);\r\n    \r\n                    opencv_core.Mat grabbedMat = converter.convert(grabbedImage);\r\n                    if (grabbedMat != null)\r\n                        imwrite(&quot;/storage/emulated/0/Download/videoplayback.jpg&quot;, grabbedMat);\r\n                }\r\n    \r\n            } catch (FrameGrabber.Exception e) {\r\n                e.printStackTrace();\r\n                Log.e(&quot;Android&quot;, e.getMessage(), e);\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        protected void onProgressUpdate(Bitmap... values) {\r\n            super.onProgressUpdate(values);\r\n            glRenderer.draw(values[0]);\r\n        }\r\n    \r\n        @Override\r\n        protected void onPostExecute(Object objects) {\r\n            super.onPostExecute(objects);\r\n            try {\r\n                grabber.stop();\r\n                grabber.release();\r\n            } catch (FrameGrabber.Exception e1) {\r\n            }\r\n        }\r\n    }\r\n\r\n**Renderer:**\r\n\r\n    package com.example.gphspc.javacvtest;\r\n    \r\n    import android.graphics.Bitmap;\r\n    import android.opengl.GLSurfaceView;\r\n    import android.opengl.GLUtils;\r\n    import android.view.ViewGroup;\r\n    \r\n    import java.nio.Buffer;\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.ByteOrder;\r\n    \r\n    import javax.microedition.khronos.egl.EGLConfig;\r\n    import javax.microedition.khronos.opengles.GL10;\r\n    \r\n    public class BitmapRenderer implements GLSurfaceView.Renderer {\r\n    \r\n        private int[] textures;\r\n        private Bitmap bitmap;\r\n        private GLSurfaceView glSurfaceView;\r\n        private int parentWidth, parentHeight;\r\n        private boolean sizeModified = false;\r\n    \r\n        public BitmapRenderer(GLSurfaceView glSurfaceView) {\r\n            this.glSurfaceView = glSurfaceView;\r\n            this.glSurfaceView.setEGLContextClientVersion(1);\r\n            this.glSurfaceView.setRenderer(this);\r\n            this.glSurfaceView.setRenderMode(GLSurfaceView.RENDERMODE_WHEN_DIRTY);\r\n        }\r\n    \r\n        private static final float[] VERTEX_COORDINATES = new float[]{\r\n                -1.0f, +1.0f, 0.0f,\r\n                +1.0f, +1.0f, 0.0f,\r\n                -1.0f, -1.0f, 0.0f,\r\n                +1.0f, -1.0f, 0.0f\r\n        };\r\n    \r\n        private static final float[] TEXTURE_COORDINATES = new float[]{\r\n                0.0f, 0.0f,\r\n                1.0f, 0.0f,\r\n                0.0f, 1.0f,\r\n                1.0f, 1.0f\r\n        };\r\n    \r\n        private static final Buffer TEXCOORD_BUFFER = ByteBuffer.allocateDirect(TEXTURE_COORDINATES.length * 4)\r\n                .order(ByteOrder.nativeOrder()).asFloatBuffer().put(TEXTURE_COORDINATES).rewind();\r\n        private static final Buffer VERTEX_BUFFER = ByteBuffer.allocateDirect(VERTEX_COORDINATES.length * 4)\r\n                .order(ByteOrder.nativeOrder()).asFloatBuffer().put(VERTEX_COORDINATES).rewind();\r\n    \r\n        public void draw(Bitmap bitmap) {\r\n            if (bitmap == null)\r\n                return;\r\n    \r\n            this.bitmap = bitmap;\r\n    \r\n            if (!sizeModified) {\r\n                ViewGroup.LayoutParams layoutParams = glSurfaceView.getLayoutParams();\r\n                Dimension newDims = getRelativeSize(new Dimension(bitmap.getWidth(), bitmap.getHeight()), glSurfaceView.getWidth(), glSurfaceView.getHeight());\r\n                layoutParams.width = newDims.getWidth();\r\n                layoutParams.height = newDims.getHeight();\r\n                glSurfaceView.setLayoutParams(layoutParams);\r\n                sizeModified = true;\r\n            }\r\n    \r\n            glSurfaceView.requestRender();\r\n        }\r\n    \r\n        public static Dimension getRelativeSize(Dimension dimension, int width, int height) {\r\n            int toWidth = width, toHeight = height;\r\n    \r\n            int imgWidth = (int) dimension.getWidth();\r\n            int imgHeight = (int) dimension.getHeight();\r\n    \r\n            if (imgWidth &gt; imgHeight) {\r\n                toWidth = (int) ((double) height / ((double) imgHeight / imgWidth));\r\n                if (toWidth &gt; width)\r\n                    toWidth = width;\r\n                toHeight = (int) (toWidth * ((double) imgHeight / imgWidth));\r\n            } else if (imgWidth &lt; imgHeight) {\r\n                toHeight = (int) ((double) width / ((double) imgWidth / imgHeight));\r\n                if (toHeight &gt; height)\r\n                    toHeight = height;\r\n                toWidth = (int) (toHeight * ((double) imgWidth / imgHeight));\r\n            }\r\n    \r\n            return new Dimension(toWidth, toHeight);\r\n        }\r\n    \r\n        @Override\r\n        public void onSurfaceCreated(GL10 gl, EGLConfig config) {\r\n            textures = new int[1];\r\n            gl.glEnable(GL10.GL_TEXTURE_2D);\r\n            gl.glEnableClientState(GL10.GL_VERTEX_ARRAY);\r\n            gl.glEnableClientState(GL10.GL_TEXTURE_COORD_ARRAY);\r\n    \r\n            ViewGroup.LayoutParams layoutParams = glSurfaceView.getLayoutParams();\r\n            parentWidth = layoutParams.width;\r\n            parentHeight = layoutParams.height;\r\n        }\r\n    \r\n        @Override\r\n        public void onSurfaceChanged(GL10 gl, int width, int height) {\r\n            gl.glViewport(0, 0, width, height);\r\n    //        gl.glOrthof(0f, width, 0f, height, -1f, 1f);\r\n        }\r\n    \r\n        @Override\r\n        public void onDrawFrame(GL10 gl) {\r\n            if (bitmap != null) {\r\n    \r\n                gl.glGenTextures(1, textures, 0);\r\n                gl.glBindTexture(GL10.GL_TEXTURE_2D, textures[0]);\r\n    \r\n                gl.glTexParameterf(GL10.GL_TEXTURE_2D, GL10.GL_TEXTURE_MAG_FILTER, GL10.GL_LINEAR);\r\n                gl.glTexParameterf(GL10.GL_TEXTURE_2D, GL10.GL_TEXTURE_MIN_FILTER, GL10.GL_LINEAR);\r\n                gl.glTexParameterf(GL10.GL_TEXTURE_2D, GL10.GL_TEXTURE_WRAP_S, GL10.GL_CLAMP_TO_EDGE);\r\n                gl.glTexParameterf(GL10.GL_TEXTURE_2D, GL10.GL_TEXTURE_WRAP_T, GL10.GL_CLAMP_TO_EDGE);\r\n    \r\n                GLUtils.texImage2D(GL10.GL_TEXTURE_2D, 0, bitmap, 0);\r\n    \r\n                gl.glActiveTexture(GL10.GL_TEXTURE0);\r\n                gl.glBindTexture(GL10.GL_TEXTURE_2D, textures[0]);\r\n    \r\n                gl.glVertexPointer(3, GL10.GL_FLOAT, 0, VERTEX_BUFFER);\r\n                gl.glTexCoordPointer(2, GL10.GL_FLOAT, 0, TEXCOORD_BUFFER);\r\n                gl.glDrawArrays(GL10.GL_TRIANGLE_STRIP, 0, 4);\r\n            }\r\n        }\r\n    }\r\n    \r\n    class Dimension {\r\n        int width = 0, height = 0;\r\n    \r\n        public Dimension(int width, int height) {\r\n            this.width = width;\r\n            this.height = height;\r\n        }\r\n        \r\n        public int getWidth() {\r\n            return width;\r\n        }\r\n    \r\n        public void setWidth(int width) {\r\n            this.width = width;\r\n        }\r\n    \r\n        public int getHeight() {\r\n            return height;\r\n        }\r\n    \r\n        public void setHeight(int height) {\r\n            this.height = height;\r\n        }\r\n    }\r\n\r\n  [1]: https://github.com/bytedeco/javacpp\r\n","title":"Is there any fast alternatives for TextureView.getBitmap() function?","body":"<p>After this long time i decided to give this answer, that i'm using as an alternative for now. I found that <code>FFMpegFrameGrabber</code> of <a href=\"https://github.com/bytedeco/javacpp\" rel=\"nofollow noreferrer\">JavaCPP</a> could be used to play both <code>rtsp streams</code> or video files, however you have two problems here:</p>\n\n<ol>\n<li><code>FFMpegFrameGrabber.Grab()</code> that read the direct next frame available, is too slow so that i was able to grab <strong>no more than 6 frames per second</strong> on my device (<em>CPU: 1.5 GHz 64Bit Octa Core ARM Cortex-A53</em>)</li>\n<li><code>FFMpegFrameGrabber</code> doesn't have rendering abilities, it just grabs the current video frame into an <code>OpenCV Mat</code> object or <code>Javacv Frame</code> one (you can use the class <code>AndroidFrameConverter</code> of the same library to convert the Frame object into a <code>Bitmap</code>).</li>\n</ol>\n\n<p>Concerning the first problem, i can go clean with it where i don't need more than <code>5 fps</code> in my case.</p>\n\n<p>For the second one, i developed an <code>OpenGL Bitmap based renderer</code> that can render the bitmap images grabbed by the grabber in almost no time (it's very fast). Here is my code:</p>\n\n<p><strong>app.gradle:</strong></p>\n\n<pre><code>implementation group: 'org.bytedeco', name: 'javacv-platform', version: '1.4.3'\nimplementation group: 'org.bytedeco', name: 'javacv', version: '1.4.3'\n</code></pre>\n\n<p><strong>grabber:</strong></p>\n\n<pre><code>class Player extends AsyncTask&lt;BitmapRenderer, Bitmap, Object&gt; {\n    BitmapRenderer glRenderer;\n    FFmpegFrameGrabber grabber = null;\n\n    @Override\n    protected Bitmap doInBackground(BitmapRenderer... objects) {\n        glRenderer = objects[0];\n\n        try {\n            grabber = new FFmpegFrameGrabber(\"/storage/emulated/0/Download/test.mp4\");\n            grabber.start();\n            OpenCVFrameConverter.ToMat converter = new OpenCVFrameConverter.ToMat();\n            Frame grabbedImage;\n            while ((grabbedImage = grabber.grabImage()) != null) {\n                Log.e(\"Android\", \"Frame Grabbed \" + grabbedImage.imageWidth + \"x\" + grabbedImage.imageHeight);\n                AndroidFrameConverter frameConverter = new AndroidFrameConverter();\n                Bitmap bitmap = frameConverter.convert(grabbedImage);\n                publishProgress(bitmap);\n\n                opencv_core.Mat grabbedMat = converter.convert(grabbedImage);\n                if (grabbedMat != null)\n                    imwrite(\"/storage/emulated/0/Download/videoplayback.jpg\", grabbedMat);\n            }\n\n        } catch (FrameGrabber.Exception e) {\n            e.printStackTrace();\n            Log.e(\"Android\", e.getMessage(), e);\n        }\n        return null;\n    }\n\n    @Override\n    protected void onProgressUpdate(Bitmap... values) {\n        super.onProgressUpdate(values);\n        glRenderer.draw(values[0]);\n    }\n\n    @Override\n    protected void onPostExecute(Object objects) {\n        super.onPostExecute(objects);\n        try {\n            grabber.stop();\n            grabber.release();\n        } catch (FrameGrabber.Exception e1) {\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Renderer:</strong></p>\n\n<pre><code>package com.example.gphspc.javacvtest;\n\nimport android.graphics.Bitmap;\nimport android.opengl.GLSurfaceView;\nimport android.opengl.GLUtils;\nimport android.view.ViewGroup;\n\nimport java.nio.Buffer;\nimport java.nio.ByteBuffer;\nimport java.nio.ByteOrder;\n\nimport javax.microedition.khronos.egl.EGLConfig;\nimport javax.microedition.khronos.opengles.GL10;\n\npublic class BitmapRenderer implements GLSurfaceView.Renderer {\n\n    private int[] textures;\n    private Bitmap bitmap;\n    private GLSurfaceView glSurfaceView;\n    private int parentWidth, parentHeight;\n    private boolean sizeModified = false;\n\n    public BitmapRenderer(GLSurfaceView glSurfaceView) {\n        this.glSurfaceView = glSurfaceView;\n        this.glSurfaceView.setEGLContextClientVersion(1);\n        this.glSurfaceView.setRenderer(this);\n        this.glSurfaceView.setRenderMode(GLSurfaceView.RENDERMODE_WHEN_DIRTY);\n    }\n\n    private static final float[] VERTEX_COORDINATES = new float[]{\n            -1.0f, +1.0f, 0.0f,\n            +1.0f, +1.0f, 0.0f,\n            -1.0f, -1.0f, 0.0f,\n            +1.0f, -1.0f, 0.0f\n    };\n\n    private static final float[] TEXTURE_COORDINATES = new float[]{\n            0.0f, 0.0f,\n            1.0f, 0.0f,\n            0.0f, 1.0f,\n            1.0f, 1.0f\n    };\n\n    private static final Buffer TEXCOORD_BUFFER = ByteBuffer.allocateDirect(TEXTURE_COORDINATES.length * 4)\n            .order(ByteOrder.nativeOrder()).asFloatBuffer().put(TEXTURE_COORDINATES).rewind();\n    private static final Buffer VERTEX_BUFFER = ByteBuffer.allocateDirect(VERTEX_COORDINATES.length * 4)\n            .order(ByteOrder.nativeOrder()).asFloatBuffer().put(VERTEX_COORDINATES).rewind();\n\n    public void draw(Bitmap bitmap) {\n        if (bitmap == null)\n            return;\n\n        this.bitmap = bitmap;\n\n        if (!sizeModified) {\n            ViewGroup.LayoutParams layoutParams = glSurfaceView.getLayoutParams();\n            Dimension newDims = getRelativeSize(new Dimension(bitmap.getWidth(), bitmap.getHeight()), glSurfaceView.getWidth(), glSurfaceView.getHeight());\n            layoutParams.width = newDims.getWidth();\n            layoutParams.height = newDims.getHeight();\n            glSurfaceView.setLayoutParams(layoutParams);\n            sizeModified = true;\n        }\n\n        glSurfaceView.requestRender();\n    }\n\n    public static Dimension getRelativeSize(Dimension dimension, int width, int height) {\n        int toWidth = width, toHeight = height;\n\n        int imgWidth = (int) dimension.getWidth();\n        int imgHeight = (int) dimension.getHeight();\n\n        if (imgWidth &gt; imgHeight) {\n            toWidth = (int) ((double) height / ((double) imgHeight / imgWidth));\n            if (toWidth &gt; width)\n                toWidth = width;\n            toHeight = (int) (toWidth * ((double) imgHeight / imgWidth));\n        } else if (imgWidth &lt; imgHeight) {\n            toHeight = (int) ((double) width / ((double) imgWidth / imgHeight));\n            if (toHeight &gt; height)\n                toHeight = height;\n            toWidth = (int) (toHeight * ((double) imgWidth / imgHeight));\n        }\n\n        return new Dimension(toWidth, toHeight);\n    }\n\n    @Override\n    public void onSurfaceCreated(GL10 gl, EGLConfig config) {\n        textures = new int[1];\n        gl.glEnable(GL10.GL_TEXTURE_2D);\n        gl.glEnableClientState(GL10.GL_VERTEX_ARRAY);\n        gl.glEnableClientState(GL10.GL_TEXTURE_COORD_ARRAY);\n\n        ViewGroup.LayoutParams layoutParams = glSurfaceView.getLayoutParams();\n        parentWidth = layoutParams.width;\n        parentHeight = layoutParams.height;\n    }\n\n    @Override\n    public void onSurfaceChanged(GL10 gl, int width, int height) {\n        gl.glViewport(0, 0, width, height);\n//        gl.glOrthof(0f, width, 0f, height, -1f, 1f);\n    }\n\n    @Override\n    public void onDrawFrame(GL10 gl) {\n        if (bitmap != null) {\n\n            gl.glGenTextures(1, textures, 0);\n            gl.glBindTexture(GL10.GL_TEXTURE_2D, textures[0]);\n\n            gl.glTexParameterf(GL10.GL_TEXTURE_2D, GL10.GL_TEXTURE_MAG_FILTER, GL10.GL_LINEAR);\n            gl.glTexParameterf(GL10.GL_TEXTURE_2D, GL10.GL_TEXTURE_MIN_FILTER, GL10.GL_LINEAR);\n            gl.glTexParameterf(GL10.GL_TEXTURE_2D, GL10.GL_TEXTURE_WRAP_S, GL10.GL_CLAMP_TO_EDGE);\n            gl.glTexParameterf(GL10.GL_TEXTURE_2D, GL10.GL_TEXTURE_WRAP_T, GL10.GL_CLAMP_TO_EDGE);\n\n            GLUtils.texImage2D(GL10.GL_TEXTURE_2D, 0, bitmap, 0);\n\n            gl.glActiveTexture(GL10.GL_TEXTURE0);\n            gl.glBindTexture(GL10.GL_TEXTURE_2D, textures[0]);\n\n            gl.glVertexPointer(3, GL10.GL_FLOAT, 0, VERTEX_BUFFER);\n            gl.glTexCoordPointer(2, GL10.GL_FLOAT, 0, TEXCOORD_BUFFER);\n            gl.glDrawArrays(GL10.GL_TRIANGLE_STRIP, 0, 4);\n        }\n    }\n}\n\nclass Dimension {\n    int width = 0, height = 0;\n\n    public Dimension(int width, int height) {\n        this.width = width;\n        this.height = height;\n    }\n\n    public int getWidth() {\n        return width;\n    }\n\n    public void setWidth(int width) {\n        this.width = width;\n    }\n\n    public int getHeight() {\n        return height;\n    }\n\n    public void setHeight(int height) {\n        this.height = height;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14277918,"reputation":782,"user_id":10345968,"display_name":"peter bence"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1027,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55757697,"answer_count":1,"score":1,"last_activity_date":1701372268,"creation_date":1546267326,"question_id":53988652,"body_markdown":"I&#39;m using android vlc (`LibVLC`) along with a `TextureView` in order to play a live rtsp stream in my android application. Everything is working fine, however i need to get the current playing frame every possible time for some object detection tasks, where i&#39;m using the `getBitmap()` function to do so. The problem here is the this function is too slow and it takes more and more time as the image size rendered in the `TextureView` increases.\r\n\r\n**So is there any other way doing that faster?**\r\n\r\nPlease note that i&#39;d tried the `getDrawingCache()` function on both TextureView &amp; SurfaceView, but it was always returning a transparent bitmap, so after small research i realized that it was because VLC uses hardware acceleration to render the frames over the surface texture.\r\n\r\nI did also find many similar solutions to [this answer by fadden](https://stackoverflow.com/questions/36252437/get-bitmap-from-textureview-efficiently?answertab=votes#tab-top) talking about using `glReadPixels()` function and pointing to [grafika](https://github.com/google/grafika) as a reference for code samples. However (and unfortunately) i have almost no skills when working with OpenGL. **So if you can validate the linked answer, could you please then link me to a simple direct code sample (concerning my case)?** \r\n\r\n    public class MainActivity extends AppCompatActivity implements TextureView.SurfaceTextureListener,\r\n        org.videolan.libvlc.media.MediaPlayer.OnBufferingUpdateListener,\r\n        org.videolan.libvlc.media.MediaPlayer.OnCompletionListener,\r\n        org.videolan.libvlc.media.MediaPlayer.OnPreparedListener,\r\n        org.videolan.libvlc.media.MediaPlayer.OnVideoSizeChangedListener {\r\n\r\n    private AppCompatActivity me = this;    \r\n    private MediaPlayer mMediaPlayer;    \r\n    private TextureView mTextureViewmTextureView;\r\n    private String mUrl = &quot;/storage/emulated/0/videos/test.mp4&quot;;\r\n    private static final String TAG = &quot;MainActivity&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.content_main);\r\n\r\n        mMediaPlayer = new MediaPlayer(VLCInstance.get());\r\n        mTextureViewmTextureView = (TextureView) findViewById(R.id.player);\r\n        mTextureView.setSurfaceTextureListener(this);\r\n    }\r\n\r\n    private void attachViewSurface() {\r\n            final IVLCVout vlcVout = mMediaPlayer.getVLCVout();\r\n            mMediaPlayer.setScale(0);\r\n            vlcVout.detachViews();\r\n            vlcVout.setVideoView(mTextureView);\r\n            vlcVout.setWindowSize(mTextureView.getWidth(), mTextureView.getHeight());\r\n            vlcVout.attachViews();\r\n            mTextureView.setKeepScreenOn(true);\r\n    }\r\n\r\n\r\n    private void play(String path) {\r\n       try {\r\n            Media media;\r\n            if (new File(path).exists()) {\r\n                media = new Media(VLCInstance.get(), path);\r\n            } else {\r\n                media = new Media(VLCInstance.get(), Uri.parse(path));\r\n            }\r\n\r\n            mMediaPlayer.setMedia(media);\r\n            mMediaPlayer.play();\r\n        } catch (Exception e) {\r\n            Log.e(TAG, e.getMessage());\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onSurfaceTextureAvailable(SurfaceTexture surface, int width, int height) {\r\n       attachViewSurface();\r\n\r\n       if (mMediaPlayer.hasMedia())\r\n           mMediaPlayer.play();\r\n       else\r\n           play(mUrl);\r\n    }\r\n\r\n    public Bitmap getImage() {\r\n       return mTextureView.getBitmap();\r\n    }\r\n\r\n    }\r\n\r\n","title":"Is there any fast alternatives for TextureView.getBitmap() function?","body":"<p>I'm using android vlc (<code>LibVLC</code>) along with a <code>TextureView</code> in order to play a live rtsp stream in my android application. Everything is working fine, however i need to get the current playing frame every possible time for some object detection tasks, where i'm using the <code>getBitmap()</code> function to do so. The problem here is the this function is too slow and it takes more and more time as the image size rendered in the <code>TextureView</code> increases.</p>\n\n<p><strong>So is there any other way doing that faster?</strong></p>\n\n<p>Please note that i'd tried the <code>getDrawingCache()</code> function on both TextureView &amp; SurfaceView, but it was always returning a transparent bitmap, so after small research i realized that it was because VLC uses hardware acceleration to render the frames over the surface texture.</p>\n\n<p>I did also find many similar solutions to <a href=\"https://stackoverflow.com/questions/36252437/get-bitmap-from-textureview-efficiently?answertab=votes#tab-top\">this answer by fadden</a> talking about using <code>glReadPixels()</code> function and pointing to <a href=\"https://github.com/google/grafika\" rel=\"nofollow noreferrer\">grafika</a> as a reference for code samples. However (and unfortunately) i have almost no skills when working with OpenGL. <strong>So if you can validate the linked answer, could you please then link me to a simple direct code sample (concerning my case)?</strong> </p>\n\n<pre><code>public class MainActivity extends AppCompatActivity implements TextureView.SurfaceTextureListener,\n    org.videolan.libvlc.media.MediaPlayer.OnBufferingUpdateListener,\n    org.videolan.libvlc.media.MediaPlayer.OnCompletionListener,\n    org.videolan.libvlc.media.MediaPlayer.OnPreparedListener,\n    org.videolan.libvlc.media.MediaPlayer.OnVideoSizeChangedListener {\n\nprivate AppCompatActivity me = this;    \nprivate MediaPlayer mMediaPlayer;    \nprivate TextureView mTextureViewmTextureView;\nprivate String mUrl = \"/storage/emulated/0/videos/test.mp4\";\nprivate static final String TAG = \"MainActivity\";\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.content_main);\n\n    mMediaPlayer = new MediaPlayer(VLCInstance.get());\n    mTextureViewmTextureView = (TextureView) findViewById(R.id.player);\n    mTextureView.setSurfaceTextureListener(this);\n}\n\nprivate void attachViewSurface() {\n        final IVLCVout vlcVout = mMediaPlayer.getVLCVout();\n        mMediaPlayer.setScale(0);\n        vlcVout.detachViews();\n        vlcVout.setVideoView(mTextureView);\n        vlcVout.setWindowSize(mTextureView.getWidth(), mTextureView.getHeight());\n        vlcVout.attachViews();\n        mTextureView.setKeepScreenOn(true);\n}\n\n\nprivate void play(String path) {\n   try {\n        Media media;\n        if (new File(path).exists()) {\n            media = new Media(VLCInstance.get(), path);\n        } else {\n            media = new Media(VLCInstance.get(), Uri.parse(path));\n        }\n\n        mMediaPlayer.setMedia(media);\n        mMediaPlayer.play();\n    } catch (Exception e) {\n        Log.e(TAG, e.getMessage());\n    }\n}\n\n@Override\npublic void onSurfaceTextureAvailable(SurfaceTexture surface, int width, int height) {\n   attachViewSurface();\n\n   if (mMediaPlayer.hasMedia())\n       mMediaPlayer.play();\n   else\n       play(mUrl);\n}\n\npublic Bitmap getImage() {\n   return mTextureView.getBitmap();\n}\n\n}\n</code></pre>\n"},{"tags":["java","android","json","rest","retrofit"],"comments":[{"owner":{"account_id":1874735,"reputation":8514,"user_id":1696171,"accept_rate":73,"display_name":"Eric Cochran"},"score":0,"creation_date":1502841528,"post_id":45703156,"comment_id":78364651,"body_markdown":"The callback is not called synchronously. It&#39;s a network call, and it could take a few seconds to complete.","body":"The callback is not called synchronously. It&#39;s a network call, and it could take a few seconds to complete."},{"owner":{"account_id":1095025,"reputation":2553,"user_id":1088796,"accept_rate":38,"display_name":"intA"},"score":0,"creation_date":1502841810,"post_id":45703156,"comment_id":78364706,"body_markdown":"That may be so, but it seems like I&#39;m never getting a response? `onResponse()` never gets executed, the log statements inside it never get written out to the console.","body":"That may be so, but it seems like I&#39;m never getting a response? <code>onResponse()</code> never gets executed, the log statements inside it never get written out to the console."},{"owner":{"account_id":1095025,"reputation":2553,"user_id":1088796,"accept_rate":38,"display_name":"intA"},"score":0,"creation_date":1502846377,"post_id":45703156,"comment_id":78365665,"body_markdown":"@EricCochran how can I make sure the method is waiting for the call to complete? Do I need to synchronize this somehow?","body":"@EricCochran how can I make sure the method is waiting for the call to complete? Do I need to synchronize this somehow?"}],"answers":[{"tags":[],"owner":{"account_id":11317435,"reputation":909,"user_id":8298763,"display_name":"Hugo sama"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1502850116,"creation_date":1502847457,"answer_id":45703848,"question_id":45703156,"body_markdown":"Change your call to the synchronous retrofit API : \r\n\r\n    public static List&lt;String&gt; getImageIds(int size) {\r\n        Call&lt;PhotosList&gt; call = flickrService.getPhotos(apiKey, format, &quot;1&quot;);\r\n        photoIds = new ArrayList&lt;String&gt;();\r\n    \r\n        PhotosList photosList = call.execute().body();\r\n        List&lt;Photo&gt; photos = photosList.getPhotos().getPhoto();\r\n    \r\n        for(Photo photo : photos) {\r\n            Log.d(&quot;TEMP_TAG&quot;, &quot;adding photo id to list: &quot; + photo.getId());\r\n            photoIds.add(photo.getId());\r\n        }\r\n        Log.d(&quot;TEMP_TAG&quot;, &quot;it&#39;s getting here too&quot;);\r\n        return photoIds;\r\n    }\r\n\r\nPlease note that you need to call this method on an `AsyncTask`\r\n\r\n**EDIT** \r\n\r\nYou could also continue to use enqueue, but you need to provide an &quot;onFinish&quot; hook, so you know when your data has been received and then you &quot;notify&quot; the client with the data:\r\n    \r\n    //interface por communication\r\n    public interface ImageIdsCallBack {\r\n       public void onFinish( List&lt;String&gt; photoIds );\r\n    }\r\n\r\nThen you receive this interface and send data: \r\n\r\n    public static List&lt;String&gt; getImageIds(int size, final ImageIdsCallBack callback) {\r\n        Call&lt;PhotosList&gt; call = flickrService.getPhotos(apiKey, format, &quot;1&quot;);\r\n        photoIds = new ArrayList&lt;String&gt;();\r\n\r\n        call.enqueue(new Callback&lt;PhotosList&gt;(){\r\n            @Override\r\n            public void onResponse(Call&lt;PhotosList&gt; call, Response&lt;PhotosList&gt; response) {\r\n                PhotosList photosList = response.body();\r\n                List&lt;Photo&gt; photos = photosList.getPhotos().getPhoto();\r\n\r\n                for(Photo photo : photos) {\r\n                    Log.d(&quot;TEMP_TAG&quot;, &quot;adding photo id to list: &quot; + photo.getId());\r\n                    photoIds.add(photo.getId());\r\n                }\r\n                //send the data to the caller\r\n                callback.onFinish(photoIds);\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;PhotosList&gt; call, Throwable t) {\r\n                // TODO: Clean up\r\n                Log.d(&quot;TEMP_TAG&quot;, &quot;Call failed&quot;);\r\n            }\r\n        });\r\n        Log.d(&quot;TEMP_TAG&quot;, &quot;it&#39;s getting here too&quot;);\r\n        return photoIds;\r\n    }\r\n\r\ncalling the method : \r\n\r\n    getImageIds( 50 , new ImageIdsCallBack() {\r\n         public void onFinish( List&lt;String&gt; photoIds ) {\r\n             //update UI with photoIds\r\n         }\r\n    } );\r\n\r\nI typically use a library like [EventBus][1] to make it easier, I really recommend it to you.\r\n\r\n\r\n  [1]: https://github.com/greenrobot/EventBus","title":"My Retrofit call.enque() method is getting skipped over entirely, not sure why","body":"<p>Change your call to the synchronous retrofit API : </p>\n\n<pre><code>public static List&lt;String&gt; getImageIds(int size) {\n    Call&lt;PhotosList&gt; call = flickrService.getPhotos(apiKey, format, \"1\");\n    photoIds = new ArrayList&lt;String&gt;();\n\n    PhotosList photosList = call.execute().body();\n    List&lt;Photo&gt; photos = photosList.getPhotos().getPhoto();\n\n    for(Photo photo : photos) {\n        Log.d(\"TEMP_TAG\", \"adding photo id to list: \" + photo.getId());\n        photoIds.add(photo.getId());\n    }\n    Log.d(\"TEMP_TAG\", \"it's getting here too\");\n    return photoIds;\n}\n</code></pre>\n\n<p>Please note that you need to call this method on an <code>AsyncTask</code></p>\n\n<p><strong>EDIT</strong> </p>\n\n<p>You could also continue to use enqueue, but you need to provide an \"onFinish\" hook, so you know when your data has been received and then you \"notify\" the client with the data:</p>\n\n<pre><code>//interface por communication\npublic interface ImageIdsCallBack {\n   public void onFinish( List&lt;String&gt; photoIds );\n}\n</code></pre>\n\n<p>Then you receive this interface and send data: </p>\n\n<pre><code>public static List&lt;String&gt; getImageIds(int size, final ImageIdsCallBack callback) {\n    Call&lt;PhotosList&gt; call = flickrService.getPhotos(apiKey, format, \"1\");\n    photoIds = new ArrayList&lt;String&gt;();\n\n    call.enqueue(new Callback&lt;PhotosList&gt;(){\n        @Override\n        public void onResponse(Call&lt;PhotosList&gt; call, Response&lt;PhotosList&gt; response) {\n            PhotosList photosList = response.body();\n            List&lt;Photo&gt; photos = photosList.getPhotos().getPhoto();\n\n            for(Photo photo : photos) {\n                Log.d(\"TEMP_TAG\", \"adding photo id to list: \" + photo.getId());\n                photoIds.add(photo.getId());\n            }\n            //send the data to the caller\n            callback.onFinish(photoIds);\n        }\n\n        @Override\n        public void onFailure(Call&lt;PhotosList&gt; call, Throwable t) {\n            // TODO: Clean up\n            Log.d(\"TEMP_TAG\", \"Call failed\");\n        }\n    });\n    Log.d(\"TEMP_TAG\", \"it's getting here too\");\n    return photoIds;\n}\n</code></pre>\n\n<p>calling the method : </p>\n\n<pre><code>getImageIds( 50 , new ImageIdsCallBack() {\n     public void onFinish( List&lt;String&gt; photoIds ) {\n         //update UI with photoIds\n     }\n} );\n</code></pre>\n\n<p>I typically use a library like <a href=\"https://github.com/greenrobot/EventBus\" rel=\"nofollow noreferrer\">EventBus</a> to make it easier, I really recommend it to you.</p>\n"},{"tags":[],"owner":{"account_id":8486737,"reputation":473,"user_id":6364580,"display_name":"AnthonyK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502847809,"creation_date":1502847809,"answer_id":45703883,"question_id":45703156,"body_markdown":"Correct me if I&#39;m wrong, is this on the main thread? That would pose the problem of not waiting for a response.\n\nConsider using `async`","title":"My Retrofit call.enque() method is getting skipped over entirely, not sure why","body":"<p>Correct me if I'm wrong, is this on the main thread? That would pose the problem of not waiting for a response.</p>\n\n<p>Consider using <code>async</code></p>\n"},{"tags":[],"owner":{"account_id":28604306,"reputation":21,"user_id":21900565,"display_name":"Anurag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701372257,"creation_date":1684325578,"answer_id":76271975,"question_id":45703156,"body_markdown":"I don&#39;t know exactly if it helps but I thought my call.enqueue() is getting skipped but I didn&#39;t handle the response i was getting I was getting a 400 response. So I would suggest to log the response code you are getting. hope it helps someone.\r\n```\r\ncall.enqueue(new Callback &lt; LoginResponse &gt; () {\r\n     @ Override\r\n    public void onResponse(Call &lt; LoginResponse &gt; call, Response &lt; LoginResponse &gt; response) {\r\n        Log.i(TAG, &quot;Response code &quot; + response.code());\r\n        if (response.code() == 200) {\r\n            Toast.makeText(MainActivity.this, &quot;Going into Login page&quot;, Toast.LENGTH_LONG).show();\r\n        }\r\n        /*if(response.code()==400){\r\n        Toast.makeText(MainActivity.this, &quot;Error 400&quot;, Toast.LENGTH_LONG).show();\r\n        }* added it later after I saw in debugging that I am getting\r\n        400 error because I was using email instead of username */\r\n    }\r\n     @ Override\r\n    public void onFailure(Call &lt; LoginResponse &gt; call, Throwable t) {\r\n        Log.e(TAG, &quot;onFailure: &quot; + t.getMessage());\r\n    }\r\n});\r\n}\r\n});\r\n","title":"My Retrofit call.enque() method is getting skipped over entirely, not sure why","body":"<p>I don't know exactly if it helps but I thought my call.enqueue() is getting skipped but I didn't handle the response i was getting I was getting a 400 response. So I would suggest to log the response code you are getting. hope it helps someone.</p>\n<pre><code>call.enqueue(new Callback &lt; LoginResponse &gt; () {\n     @ Override\n    public void onResponse(Call &lt; LoginResponse &gt; call, Response &lt; LoginResponse &gt; response) {\n        Log.i(TAG, &quot;Response code &quot; + response.code());\n        if (response.code() == 200) {\n            Toast.makeText(MainActivity.this, &quot;Going into Login page&quot;, Toast.LENGTH_LONG).show();\n        }\n        /*if(response.code()==400){\n        Toast.makeText(MainActivity.this, &quot;Error 400&quot;, Toast.LENGTH_LONG).show();\n        }* added it later after I saw in debugging that I am getting\n        400 error because I was using email instead of username */\n    }\n     @ Override\n    public void onFailure(Call &lt; LoginResponse &gt; call, Throwable t) {\n        Log.e(TAG, &quot;onFailure: &quot; + t.getMessage());\n    }\n});\n}\n});\n</code></pre>\n"}],"owner":{"account_id":1095025,"reputation":2553,"user_id":1088796,"accept_rate":38,"display_name":"intA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1418,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1701372257,"creation_date":1502841254,"question_id":45703156,"body_markdown":"I&#39;m making a call using Retrofit&#39;s `enqueue()` method. I&#39;m calling my `refreshImages()` in my MainActivity&#39;s `onCreate()`, `refreshImages()` then calls a method `refreshImagesIds()` which is supposed to make a call out to Flickr&#39;s API and return back a `PhotosList` object, I&#39;ll then pull out the `Photos` from there which will contain a list of `Photo` objects. My issue is that for some reason the `onResponse()` inside my `enqueue()` method is never getting called. When I use the debugger it skips right over it, and when I put Log statements inside they never get written out. I know the endpoint it is hitting is correct because I can see it using OkHttp&#39;s logger, and my POJOs all look to be correct for the data being returned. \r\n\r\nAny idea why this isn&#39;t working? Below are my `refreshImages` and `refreshImagesId`. These are both contained in my MainAcitivty and modify class-level variables.\r\n\r\n    private void refreshImages() {\r\n            // make api call\r\n            //imageUrls = FlickrServiceManager_withinterface.getKittenImages(8);\r\n    \r\n            refreshImageIds();\r\n    \r\n            List&lt;Photo&gt; photos = photosList.getPhotos().getPhoto();\r\n            imageIds = new ArrayList&lt;String&gt;();\r\n            for(Photo photo : photos) {\r\n                Log.d(&quot;TAG&quot;, &quot;It is pringint imageIds: &quot; + photo.getId());\r\n                imageIds.add(photo.getId());\r\n            }\r\n    }\r\n\r\n    private void refreshImageIds() {\r\n        Retrofit retrofit = Api.getRestAdapter();\r\n        FlickrServiceInterface flickrService = retrofit.create(FlickrServiceInterface.class);\r\n        Call&lt;PhotosList&gt; call = flickrService.getPhotos(API_KEY, FORMAT, &quot;1&quot;);\r\n        imageIds = new ArrayList&lt;String&gt;();\r\n    \r\n        call.enqueue(new Callback&lt;PhotosList&gt;(){\r\n            @Override\r\n            public void onResponse(Call&lt;PhotosList&gt; call, Response&lt;PhotosList&gt; response) {\r\n                photosList = response.body();\r\n            }\r\n    \r\n            @Override\r\n            public void onFailure(Call&lt;PhotosList&gt; call, Throwable t) {\r\n                // TODO: Clean up\r\n                Log.d(&quot;TEMP_TAG&quot;, &quot;Call failed&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\nAnd my FlickrServiceInterface:\r\n\r\n    public interface FlickrServiceInterface {\r\n    \r\n        @GET(&quot;?method=flickr.photos.getSizes&quot;)\r\n        Call&lt;PhotoSizes&gt; getPhotoSizes(@Query(&quot;api_key&quot;) String apiKey, @Query(&quot;format&quot;) String format, @Query(&quot;nojsoncallback&quot;) String jsonCallback, @Query(&quot;photo_id&quot;) String photoId);\r\n    \r\n        @GET(&quot;?method=flickr.photos.getRecent&quot;)\r\n        Call&lt;PhotosList&gt; getPhotos(@Query(&quot;api_key&quot;) String apiKey, @Query(&quot;format&quot;) String format, @Query(&quot;nojsoncallback&quot;) String jsonCallback);\r\n    }","title":"My Retrofit call.enque() method is getting skipped over entirely, not sure why","body":"<p>I'm making a call using Retrofit's <code>enqueue()</code> method. I'm calling my <code>refreshImages()</code> in my MainActivity's <code>onCreate()</code>, <code>refreshImages()</code> then calls a method <code>refreshImagesIds()</code> which is supposed to make a call out to Flickr's API and return back a <code>PhotosList</code> object, I'll then pull out the <code>Photos</code> from there which will contain a list of <code>Photo</code> objects. My issue is that for some reason the <code>onResponse()</code> inside my <code>enqueue()</code> method is never getting called. When I use the debugger it skips right over it, and when I put Log statements inside they never get written out. I know the endpoint it is hitting is correct because I can see it using OkHttp's logger, and my POJOs all look to be correct for the data being returned. </p>\n\n<p>Any idea why this isn't working? Below are my <code>refreshImages</code> and <code>refreshImagesId</code>. These are both contained in my MainAcitivty and modify class-level variables.</p>\n\n<pre><code>private void refreshImages() {\n        // make api call\n        //imageUrls = FlickrServiceManager_withinterface.getKittenImages(8);\n\n        refreshImageIds();\n\n        List&lt;Photo&gt; photos = photosList.getPhotos().getPhoto();\n        imageIds = new ArrayList&lt;String&gt;();\n        for(Photo photo : photos) {\n            Log.d(\"TAG\", \"It is pringint imageIds: \" + photo.getId());\n            imageIds.add(photo.getId());\n        }\n}\n\nprivate void refreshImageIds() {\n    Retrofit retrofit = Api.getRestAdapter();\n    FlickrServiceInterface flickrService = retrofit.create(FlickrServiceInterface.class);\n    Call&lt;PhotosList&gt; call = flickrService.getPhotos(API_KEY, FORMAT, \"1\");\n    imageIds = new ArrayList&lt;String&gt;();\n\n    call.enqueue(new Callback&lt;PhotosList&gt;(){\n        @Override\n        public void onResponse(Call&lt;PhotosList&gt; call, Response&lt;PhotosList&gt; response) {\n            photosList = response.body();\n        }\n\n        @Override\n        public void onFailure(Call&lt;PhotosList&gt; call, Throwable t) {\n            // TODO: Clean up\n            Log.d(\"TEMP_TAG\", \"Call failed\");\n        }\n    });\n}\n</code></pre>\n\n<p>And my FlickrServiceInterface:</p>\n\n<pre><code>public interface FlickrServiceInterface {\n\n    @GET(\"?method=flickr.photos.getSizes\")\n    Call&lt;PhotoSizes&gt; getPhotoSizes(@Query(\"api_key\") String apiKey, @Query(\"format\") String format, @Query(\"nojsoncallback\") String jsonCallback, @Query(\"photo_id\") String photoId);\n\n    @GET(\"?method=flickr.photos.getRecent\")\n    Call&lt;PhotosList&gt; getPhotos(@Query(\"api_key\") String apiKey, @Query(\"format\") String format, @Query(\"nojsoncallback\") String jsonCallback);\n}\n</code></pre>\n"},{"tags":["java","servlets","desktop-application"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1701367974,"post_id":77580771,"comment_id":136769925,"body_markdown":"You could try using Spring Boot.","body":"You could try using Spring Boot."},{"owner":{"account_id":3509196,"reputation":16473,"user_id":2933977,"display_name":"stdunbar"},"score":2,"creation_date":1701371859,"post_id":77580771,"comment_id":136770651,"body_markdown":"Take a look at [this post](https://stackoverflow.com/questions/3732109/simple-http-server-in-java-using-only-java-se-api).  It has some old ways and some new ways and multiple different non-SE only apps.  Additionally, [Tomcat can be embedded](https://www.codejava.net/servers/tomcat/how-to-embed-tomcat-server-into-java-web-applications) pretty easily.  Starting in Java 18 there is also a small built in server.  If upgrading isn&#39;t an issue then JDK21 is a long term support version.","body":"Take a look at <a href=\"https://stackoverflow.com/questions/3732109/simple-http-server-in-java-using-only-java-se-api\">this post</a>.  It has some old ways and some new ways and multiple different non-SE only apps.  Additionally, <a href=\"https://www.codejava.net/servers/tomcat/how-to-embed-tomcat-server-into-java-web-applications\" rel=\"nofollow noreferrer\">Tomcat can be embedded</a> pretty easily.  Starting in Java 18 there is also a small built in server.  If upgrading isn&#39;t an issue then JDK21 is a long term support version."}],"answers":[{"tags":[],"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701372053,"creation_date":1701370432,"answer_id":77581010,"question_id":77580771,"body_markdown":"The solution is entirely dependent on the project **requirements** and personal **preference**.\r\n\r\n[Spring][1] is one solution, as people have mentioned on the comments, but despite being very powerful and very widely used, it is notorious for being a configuration nightmare (for new users). If you&#39;re unfazed by this, check out the [quickstart guide][2]. \r\n\r\nIf you want to use a lightweight toolkit instead of a framework, you can try [Eclipse Vert.x][3]. It is very good for quickly setting up a project without the hassle of configuration. Best place to start is the [Getting Started][4] page. It helped me to create this basic example in only a few minutes:\r\n\r\n    public class MainVerticle extends AbstractVerticle implements Handler&lt;HttpServerRequest&gt; {\r\n    \t@Override\r\n    \tpublic void start() throws Exception {\r\n    \t\tsuper.vertx.createHttpServer().requestHandler(this).listen(8888)\r\n    \t\t\t\t.onSuccess(server -&gt; System.out.println(&quot;HTTP server started on port &quot; + server.actualPort()));\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void handle(HttpServerRequest event) {\r\n    \t\tString path = event.path();\r\n    \t\tif (path.equals(&quot;/api/myendpoint&quot;)) {\r\n    \t\t\t// Do something\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nDon&#39;t forget to take firewalls into account. I don&#39;t think any port forwarding is necessary since the Node server and Java application are running on the same machine.\r\n\r\n\r\n  [1]: https://spring.io/\r\n  [2]: https://spring.io/quickstart\r\n  [3]: https://vertx.io/\r\n  [4]: https://vertx.io/get-started/","title":"Receive http requests in Java desktop application","body":"<p>The solution is entirely dependent on the project <strong>requirements</strong> and personal <strong>preference</strong>.</p>\n<p><a href=\"https://spring.io/\" rel=\"nofollow noreferrer\">Spring</a> is one solution, as people have mentioned on the comments, but despite being very powerful and very widely used, it is notorious for being a configuration nightmare (for new users). If you're unfazed by this, check out the <a href=\"https://spring.io/quickstart\" rel=\"nofollow noreferrer\">quickstart guide</a>.</p>\n<p>If you want to use a lightweight toolkit instead of a framework, you can try <a href=\"https://vertx.io/\" rel=\"nofollow noreferrer\">Eclipse Vert.x</a>. It is very good for quickly setting up a project without the hassle of configuration. Best place to start is the <a href=\"https://vertx.io/get-started/\" rel=\"nofollow noreferrer\">Getting Started</a> page. It helped me to create this basic example in only a few minutes:</p>\n<pre><code>public class MainVerticle extends AbstractVerticle implements Handler&lt;HttpServerRequest&gt; {\n    @Override\n    public void start() throws Exception {\n        super.vertx.createHttpServer().requestHandler(this).listen(8888)\n                .onSuccess(server -&gt; System.out.println(&quot;HTTP server started on port &quot; + server.actualPort()));\n    }\n\n    @Override\n    public void handle(HttpServerRequest event) {\n        String path = event.path();\n        if (path.equals(&quot;/api/myendpoint&quot;)) {\n            // Do something\n        }\n    }\n}\n</code></pre>\n<p>Don't forget to take firewalls into account. I don't think any port forwarding is necessary since the Node server and Java application are running on the same machine.</p>\n"}],"owner":{"account_id":6885553,"reputation":52,"user_id":5290751,"display_name":"Hans GD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701510809,"answer_count":1,"score":-1,"last_activity_date":1701372053,"creation_date":1701367745,"question_id":77580771,"body_markdown":"I have a Java **desktop application** (jdk8, but I can upgrade no problem) that runs in a loop and communicates to other devices via `SocketChannel`. There is also a backend for a web application made with `Node`. When the the backend receives a request from the front end, it manages it and then sends another request (POST) to a server in `localhost`.\r\n\r\nI need to receive the last request in the **desktop application**. I know Java has packages like `com.sun.net.httpserver`, but as I understand they are not meant for production or high load of work. I tried `Tomcat`, but I can&#39;t embed it in a desktop app. Since the last request is sent to `localhost`, would it be OK to use said packages? How can I do this and what technologies are there for it?","title":"Receive http requests in Java desktop application","body":"<p>I have a Java <strong>desktop application</strong> (jdk8, but I can upgrade no problem) that runs in a loop and communicates to other devices via <code>SocketChannel</code>. There is also a backend for a web application made with <code>Node</code>. When the the backend receives a request from the front end, it manages it and then sends another request (POST) to a server in <code>localhost</code>.</p>\n<p>I need to receive the last request in the <strong>desktop application</strong>. I know Java has packages like <code>com.sun.net.httpserver</code>, but as I understand they are not meant for production or high load of work. I tried <code>Tomcat</code>, but I can't embed it in a desktop app. Since the last request is sent to <code>localhost</code>, would it be OK to use said packages? How can I do this and what technologies are there for it?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701347552,"post_id":77578450,"comment_id":136765820,"body_markdown":"The desciption covers it imho. Anything that doesn&#39;t use any enterprisey stuff (like the EJB stuff from ye old) is a POJO.","body":"The desciption covers it imho. Anything that doesn&#39;t use any enterprisey stuff (like the EJB stuff from ye old) is a POJO."},{"owner":{"account_id":28144500,"reputation":1,"user_id":21507013,"display_name":"myuh236"},"score":0,"creation_date":1701347679,"post_id":77578450,"comment_id":136765846,"body_markdown":"@M.Deinum so a Java class would still be considered a POJO if it extends or inherits another class, as long as it doesnt come from an external source?","body":"@M.Deinum so a Java class would still be considered a POJO if it extends or inherits another class, as long as it doesnt come from an external source?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701347735,"post_id":77578450,"comment_id":136765854,"body_markdown":"No as long as it doesn&#39;t use any enterprise stuff. Like Message Driven Beans, EJB, etc. etc.","body":"No as long as it doesn&#39;t use any enterprise stuff. Like Message Driven Beans, EJB, etc. etc."},{"owner":{"account_id":28144500,"reputation":1,"user_id":21507013,"display_name":"myuh236"},"score":0,"creation_date":1701347794,"post_id":77578450,"comment_id":136765869,"body_markdown":"ok I understand, thank you for your help","body":"ok I understand, thank you for your help"},{"owner":{"account_id":17835,"reputation":303885,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1701347797,"post_id":77578450,"comment_id":136765870,"body_markdown":"@myuh236: yes, though the *exact* definition of &quot;external source&quot; is somewhat vague. As long as the class doesn&#39;t extend or implement any interfaces/classes from some framework or another it can be considered a POJO.","body":"@myuh236: yes, though the <i>exact</i> definition of &quot;external source&quot; is somewhat vague. As long as the class doesn&#39;t extend or implement any interfaces/classes from some framework or another it can be considered a POJO."},{"owner":{"account_id":28144500,"reputation":1,"user_id":21507013,"display_name":"myuh236"},"score":0,"creation_date":1701347931,"post_id":77578450,"comment_id":136765891,"body_markdown":"got it, thank you","body":"got it, thank you"}],"answers":[{"tags":[],"owner":{"account_id":3933016,"reputation":134,"user_id":3250678,"accept_rate":88,"display_name":"Kosz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701371861,"creation_date":1701371861,"answer_id":77581146,"question_id":77578450,"body_markdown":"Don&#39;t focus too much on the semantics of what a POJO is.  In this context they are referring more to JavaBeans, which...\r\n\r\n&gt; must be serializable, have a zero-argument constructor, and allow access to properties using getter and setter methods.\r\n\r\nSee the wiki entry for a POJO: https://en.wikipedia.org/wiki/Plain_old_Java_object\r\n\r\nIn this context, they are speaking more specifically about JavaBeans: https://en.wikipedia.org/wiki/JavaBeans","title":"POJO classes in Spring","body":"<p>Don't focus too much on the semantics of what a POJO is.  In this context they are referring more to JavaBeans, which...</p>\n<blockquote>\n<p>must be serializable, have a zero-argument constructor, and allow access to properties using getter and setter methods.</p>\n</blockquote>\n<p>See the wiki entry for a POJO: <a href=\"https://en.wikipedia.org/wiki/Plain_old_Java_object\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Plain_old_Java_object</a></p>\n<p>In this context, they are speaking more specifically about JavaBeans: <a href=\"https://en.wikipedia.org/wiki/JavaBeans\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/JavaBeans</a></p>\n"}],"owner":{"account_id":28144500,"reputation":1,"user_id":21507013,"display_name":"myuh236"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701371861,"creation_date":1701347488,"question_id":77578450,"body_markdown":"I wanted to ask a question based on the [introduction to Spring Documentation](https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/overview.html#:~:text=Spring%20enables%20you%20to%20build%20applications%20from%20%E2%80%9Cplain%20old%20Java%20objects%E2%80%9D%20(POJOs)%20and%20to%20apply%20enterprise%20services%20non%2Dinvasively%20to%20POJOs.) statement that says \r\n&gt; Spring enables you to build applications from “plain old Java objects” (POJOs) and to apply enterprise services non-invasively to POJOs.\r\n\r\nIs the POJO mentioned here mean any simple Java class? Does a Java class in Spring that extends or implements another class that I created or that was provided b the Java standard library make it not a POJO anymore?\r\n\r\nAny help would be appreciated","title":"POJO classes in Spring","body":"<p>I wanted to ask a question based on the <a href=\"https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/overview.html#:%7E:text=Spring%20enables%20you%20to%20build%20applications%20from%20%E2%80%9Cplain%20old%20Java%20objects%E2%80%9D%20(POJOs)%20and%20to%20apply%20enterprise%20services%20non%2Dinvasively%20to%20POJOs.\" rel=\"nofollow noreferrer\">introduction to Spring Documentation</a> statement that says</p>\n<blockquote>\n<p>Spring enables you to build applications from “plain old Java objects” (POJOs) and to apply enterprise services non-invasively to POJOs.</p>\n</blockquote>\n<p>Is the POJO mentioned here mean any simple Java class? Does a Java class in Spring that extends or implements another class that I created or that was provided b the Java standard library make it not a POJO anymore?</p>\n<p>Any help would be appreciated</p>\n"},{"tags":["java","spring","hibernate","intellij-idea","h2"],"comments":[{"owner":{"account_id":17383128,"reputation":5465,"user_id":12594975,"display_name":"Koyasha"},"score":0,"creation_date":1691051272,"post_id":76822656,"comment_id":135439919,"body_markdown":"Do you get this error in IntelliJ IDEA? If so, please provide a screenshot of the H2 Data Source settings -&gt; &#39;General&#39; tab.","body":"Do you get this error in IntelliJ IDEA? If so, please provide a screenshot of the H2 Data Source settings -&gt; &#39;General&#39; tab."},{"owner":{"account_id":8760262,"reputation":441,"user_id":6550376,"accept_rate":73,"display_name":"foo"},"score":0,"creation_date":1691054133,"post_id":76822656,"comment_id":135440538,"body_markdown":"No this error arrive in console link http://localhost:8084/personsApp/h2-console/login.do","body":"No this error arrive in console link <a href=\"http://localhost:8084/personsApp/h2-console/login.do\" rel=\"nofollow noreferrer\">localhost:8084/personsApp/h2-console/login.do</a>"}],"answers":[{"tags":[],"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691053178,"creation_date":1691053178,"answer_id":76826454,"question_id":76822656,"body_markdown":"You need to upgrade your version of H2 to 2.2.220. H2 2.1.212 cannot read database files created by H2 2.2.\\*.","title":"H2 - General error: &quot;The write format 3 is larger than the supported format 2 [2.1.212/5]&quot; [50000-212] HY000/50000 (Help)","body":"<p>You need to upgrade your version of H2 to 2.2.220. H2 2.1.212 cannot read database files created by H2 2.2.*.</p>\n"}],"owner":{"account_id":8760262,"reputation":441,"user_id":6550376,"accept_rate":73,"display_name":"foo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":937,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1701371608,"creation_date":1691001384,"question_id":76822656,"body_markdown":"I&#39;m trying connect to h2 console to use it with hibernate\r\nbut get this error:\r\nGeneral error: &quot;The write format 3 is larger than the supported format 2 [2.1.212/5]&quot; [50000-212] HY000/50000 (Help)\r\n\r\nHere is the link to my h2 console:\r\nhttp://localhost:8084/personsApp/h2-console/login.do\r\n\r\nall questions I found about write format was &quot;The write format XX is smaller...&quot;\r\nis someone has any idea?\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LJ2vM.png","title":"H2 - General error: &quot;The write format 3 is larger than the supported format 2 [2.1.212/5]&quot; [50000-212] HY000/50000 (Help)","body":"<p>I'm trying connect to h2 console to use it with hibernate\nbut get this error:\nGeneral error: &quot;The write format 3 is larger than the supported format 2 [2.1.212/5]&quot; [50000-212] HY000/50000 (Help)</p>\n<p>Here is the link to my h2 console:\nhttp://localhost:8084/personsApp/h2-console/login.do</p>\n<p>all questions I found about write format was &quot;The write format XX is smaller...&quot;\nis someone has any idea?\n<a href=\"https://i.stack.imgur.com/LJ2vM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LJ2vM.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-security","https","x509"],"comments":[{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1701376896,"post_id":77581108,"comment_id":136771466,"body_markdown":"Yes it’s possible. You have to run the server end in client mode and the client end in server mode. Much easier to run in normal mode and have a server certificate as well.","body":"Yes it’s possible. You have to run the server end in client mode and the client end in server mode. Much easier to run in normal mode and have a server certificate as well."},{"owner":{"account_id":921313,"reputation":2055,"user_id":952968,"accept_rate":75,"display_name":"Werzi2001"},"score":0,"creation_date":1701420296,"post_id":77581108,"comment_id":136775822,"body_markdown":"Thanks for the info although it sounds a bit hacky. Do you have more information on that?","body":"Thanks for the info although it sounds a bit hacky. Do you have more information on that?"}],"owner":{"account_id":921313,"reputation":2055,"user_id":952968,"accept_rate":75,"display_name":"Werzi2001"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701371418,"creation_date":1701371418,"question_id":77581108,"body_markdown":"I have a spring boot application that I would like to add x509 client authentication to (in order to avoid user/password authentication). As the application is running behind a reverse proxy that already handles SSL/HTTPS I don&#39;t want to add the server authentication part.\r\n\r\nIn order to do that I followed the tutorial on Baeldung but only the client part. When I try to start the spring boot application that fails with\r\n\r\n```\r\nCaused by: java.lang.IllegalStateException: SSL is enabled but no trust material is configured\r\n```\r\n\r\nI tried to find tutorials that only use client authentication but couldn&#39;t find any. It seems to me that it is not possible to add client authentication without server authentication as well, is it?","title":"x509 client authentication without server authentication (SSL, HTTPS)","body":"<p>I have a spring boot application that I would like to add x509 client authentication to (in order to avoid user/password authentication). As the application is running behind a reverse proxy that already handles SSL/HTTPS I don't want to add the server authentication part.</p>\n<p>In order to do that I followed the tutorial on Baeldung but only the client part. When I try to start the spring boot application that fails with</p>\n<pre><code>Caused by: java.lang.IllegalStateException: SSL is enabled but no trust material is configured\n</code></pre>\n<p>I tried to find tutorials that only use client authentication but couldn't find any. It seems to me that it is not possible to add client authentication without server authentication as well, is it?</p>\n"},{"tags":["java","spring","spring-boot","server","port"],"comments":[{"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"score":12,"creation_date":1518096079,"post_id":21083170,"comment_id":84370445,"body_markdown":"If someone interested, here is shown how to have multiple ports - https://stackoverflow.com/questions/36357135/configure-spring-boot-with-two-ports","body":"If someone interested, here is shown how to have multiple ports - <a href=\"https://stackoverflow.com/questions/36357135/configure-spring-boot-with-two-ports\" title=\"configure spring boot with two ports\">stackoverflow.com/questions/36357135/&hellip;</a>"},{"owner":{"account_id":2310465,"reputation":975,"user_id":2028705,"display_name":"Keaz"},"score":0,"creation_date":1529740365,"post_id":21083170,"comment_id":88992302,"body_markdown":"if you use &quot;yml&quot; file for configuration then you can use this \nserver:\n  port: 8081\nAlso annotate you main class as &quot;@SpringBootApplication&quot;  and remove \n@ EnableAutoConfiguration","body":"if you use &quot;yml&quot; file for configuration then you can use this  server:   port: 8081 Also annotate you main class as &quot;@SpringBootApplication&quot;  and remove  @ EnableAutoConfiguration"},{"owner":{"account_id":13764705,"reputation":79,"user_id":9933536,"display_name":"Lahiru Samishka"},"score":0,"creation_date":1570532853,"post_id":21083170,"comment_id":102935227,"body_markdown":"your project [application.properties] for add the                               \nserver.port=8080","body":"your project [application.properties] for add the                                server.port=8080"},{"owner":{"account_id":3652842,"reputation":210,"user_id":3044539,"accept_rate":20,"display_name":"Atif"},"score":0,"creation_date":1583921547,"post_id":21083170,"comment_id":107271692,"body_markdown":"set `server.port=8080` in application properties. this configuration is in `ServerProperties.class` class under `org.springframework.boot.autoconfigure.web`.","body":"set <code>server.port=8080</code> in application properties. this configuration is in <code>ServerProperties.class</code> class under <code>org.springframework.boot.autoconfigure.web</code>."}],"answers":[{"tags":[],"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"down_vote_count":2,"up_vote_count":1564,"is_accepted":true,"score":1562,"last_activity_date":1654102208,"creation_date":1389582841,"answer_id":21083284,"question_id":21083170,"body_markdown":"As [said in docs](http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-change-the-http-port) either set `server.port` as system property using command line option to jvm `-Dserver.port=8090` or add `application.properties` in `/src/main/resources/` with\r\n\r\n    server.port=8090\r\n\r\nFor a random port use:\r\n\r\n    server.port=0\r\n\r\n\r\nSimilarly add `application.yml` in `/src/main/resources/` with:\r\n\r\n```\r\nserver:\r\n  port: 8090\r\n```\r\n","title":"How to configure port for a Spring Boot application","body":"<p>As <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-change-the-http-port\" rel=\"noreferrer\">said in docs</a> either set <code>server.port</code> as system property using command line option to jvm <code>-Dserver.port=8090</code> or add <code>application.properties</code> in <code>/src/main/resources/</code> with</p>\n<pre><code>server.port=8090\n</code></pre>\n<p>For a random port use:</p>\n<pre><code>server.port=0\n</code></pre>\n<p>Similarly add <code>application.yml</code> in <code>/src/main/resources/</code> with:</p>\n<pre><code>server:\n  port: 8090\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3549643,"reputation":2077,"user_id":2964811,"display_name":"nndru"},"down_vote_count":2,"up_vote_count":21,"is_accepted":false,"score":19,"last_activity_date":1402821568,"creation_date":1389608423,"answer_id":21088820,"question_id":21083170,"body_markdown":"You can specify port by overriding `EmbeddedServletContainerFactory` bean within your configuration (java based or xml). There you can specify port for used embedded servlet container. Please, see [Spring Boot - Core][1] &quot;Embedded Servlet Container Support&quot; paragraph and example there. Hope this helps.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/","title":"How to configure port for a Spring Boot application","body":"<p>You can specify port by overriding <code>EmbeddedServletContainerFactory</code> bean within your configuration (java based or xml). There you can specify port for used embedded servlet container. Please, see <a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/\">Spring Boot - Core</a> \"Embedded Servlet Container Support\" paragraph and example there. Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":975764,"reputation":1193,"user_id":997042,"display_name":"gatolgaj"},"down_vote_count":0,"up_vote_count":62,"is_accepted":false,"score":62,"last_activity_date":1417659214,"creation_date":1417635042,"answer_id":27280069,"question_id":21083170,"body_markdown":"In case you are using `application.yml` add the Following lines to it\r\n\r\n    server:\r\n         port: 9000\r\n\r\nand of course 0 for random port. ","title":"How to configure port for a Spring Boot application","body":"<p>In case you are using <code>application.yml</code> add the Following lines to it</p>\n\n<pre><code>server:\n     port: 9000\n</code></pre>\n\n<p>and of course 0 for random port. </p>\n"},{"tags":[],"owner":{"account_id":267167,"reputation":10537,"user_id":555177,"accept_rate":94,"display_name":"anataliocs"},"down_vote_count":1,"up_vote_count":271,"is_accepted":false,"score":270,"last_activity_date":1550641520,"creation_date":1431647833,"answer_id":30249389,"question_id":21083170,"body_markdown":"There are two main ways to change the port in the Embedded Tomcat in a Spring Boot Application.\r\n\r\n**Modify application.properties**\r\n\r\nFirst you can try the application.properties file in the /resources folder:\r\n\r\n    server.port = 8090\r\n\r\n![application.properties file][1]\r\n\r\n**Modify a VM option**\r\n\r\nThe second way, if you want to avoid modifying any files and checking in something that you only need on your local, you can use a vm arg:\r\n\r\n*Go to Run -&gt; Edit Configurations -&gt; VM options*\r\n\r\n    -Dserver.port=8090\r\n\r\n![Change port with a vm arg][2]\r\n\r\n\r\nAdditionally, if you need more information you can view the following blog post here:  [Changing the port on a Spring Boot Application][3]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/b5lQi.png\r\n  [2]: http://i.stack.imgur.com/CIZ4p.png\r\n  [3]: http://codedevstuff.blogspot.com/2015/05/change-port-on-spring-boot-application.html","title":"How to configure port for a Spring Boot application","body":"<p>There are two main ways to change the port in the Embedded Tomcat in a Spring Boot Application.</p>\n\n<p><strong>Modify application.properties</strong></p>\n\n<p>First you can try the application.properties file in the /resources folder:</p>\n\n<pre><code>server.port = 8090\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/b5lQi.png\" alt=\"application.properties file\"></p>\n\n<p><strong>Modify a VM option</strong></p>\n\n<p>The second way, if you want to avoid modifying any files and checking in something that you only need on your local, you can use a vm arg:</p>\n\n<p><em>Go to Run -> Edit Configurations -> VM options</em></p>\n\n<pre><code>-Dserver.port=8090\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/CIZ4p.png\" alt=\"Change port with a vm arg\"></p>\n\n<p>Additionally, if you need more information you can view the following blog post here:  <a href=\"http://codedevstuff.blogspot.com/2015/05/change-port-on-spring-boot-application.html\" rel=\"noreferrer\">Changing the port on a Spring Boot Application</a></p>\n"},{"tags":[],"owner":{"account_id":2145107,"reputation":1394,"user_id":1902897,"accept_rate":86,"display_name":"Rakesh"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1443506479,"creation_date":1443506479,"answer_id":32836692,"question_id":21083170,"body_markdown":" 1. As everyone said, you can specify in application.properties &lt;br&gt;\r\n    **server.port = 9000** (could be any other value)\r\n\r\n 2. If you are using spring actuator in your project, by default it points to   \r\n    8080, and if you want to change it, then in application.properties mention&lt;br&gt; \r\n    **management.port = 9001** (could be any other value)\r\n\r\n","title":"How to configure port for a Spring Boot application","body":"<ol>\n<li><p>As everyone said, you can specify in application.properties <br>\n<strong>server.port = 9000</strong> (could be any other value)</p></li>\n<li><p>If you are using spring actuator in your project, by default it points to<br>\n8080, and if you want to change it, then in application.properties mention<br> \n<strong>management.port = 9001</strong> (could be any other value)</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2338216,"reputation":2179,"user_id":2050087,"accept_rate":60,"display_name":"makerj"},"down_vote_count":1,"up_vote_count":139,"is_accepted":false,"score":138,"last_activity_date":1606736909,"creation_date":1446575361,"answer_id":33506475,"question_id":21083170,"body_markdown":"Also, you can configure the port programmatically.\r\n\r\nFor Spring Boot 2.x.x:\r\n\r\n    @Configuration\r\n    public class CustomContainer implements WebServerFactoryCustomizer&lt;ConfigurableServletWebServerFactory&gt; {\r\n      public void customize(ConfigurableServletWebServerFactory factory){\r\n        factory.setPort(8042);\r\n      }\r\n    }\r\n\r\nFor older versions:\r\n\r\n    @Configuration\r\n    public class ServletConfig {\r\n    \t@Bean\r\n    \tpublic EmbeddedServletContainerCustomizer containerCustomizer() {\r\n    \t\treturn (container -&gt; {\r\n    \t\t\tcontainer.setPort(8012);\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\n","title":"How to configure port for a Spring Boot application","body":"<p>Also, you can configure the port programmatically.</p>\n<p>For Spring Boot 2.x.x:</p>\n<pre><code>@Configuration\npublic class CustomContainer implements WebServerFactoryCustomizer&lt;ConfigurableServletWebServerFactory&gt; {\n  public void customize(ConfigurableServletWebServerFactory factory){\n    factory.setPort(8042);\n  }\n}\n</code></pre>\n<p>For older versions:</p>\n<pre><code>@Configuration\npublic class ServletConfig {\n    @Bean\n    public EmbeddedServletContainerCustomizer containerCustomizer() {\n        return (container -&gt; {\n            container.setPort(8012);\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1183867,"reputation":476,"user_id":1158219,"display_name":"Adrian Cosma"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1450170706,"creation_date":1450170706,"answer_id":34285063,"question_id":21083170,"body_markdown":"Indeed, the easiest way is to set the *server.port* property.\r\n\r\nIf you are using STS as IDE, from version 3.6.7 you actually have *Spring Properties Editor* for opening the properties file.\r\n\r\nThis editor provides autocomplete for all Spring Boot properties. If you write *port* and hit CTRL + SPACE, *server.port* will be the first option.","title":"How to configure port for a Spring Boot application","body":"<p>Indeed, the easiest way is to set the <em>server.port</em> property.</p>\n\n<p>If you are using STS as IDE, from version 3.6.7 you actually have <em>Spring Properties Editor</em> for opening the properties file.</p>\n\n<p>This editor provides autocomplete for all Spring Boot properties. If you write <em>port</em> and hit CTRL + SPACE, <em>server.port</em> will be the first option.</p>\n"},{"tags":[],"owner":{"account_id":6767920,"reputation":481,"user_id":5212325,"accept_rate":29,"display_name":"gkarthiks"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1454430336,"creation_date":1454427924,"answer_id":35157801,"question_id":21083170,"body_markdown":"You can add the port in below methods.\r\n\r\n1. Run -&gt; Configurations section\r\n\r\n2. In `application.xml` add `server.port=XXXX`","title":"How to configure port for a Spring Boot application","body":"<p>You can add the port in below methods.</p>\n\n<ol>\n<li><p>Run -> Configurations section</p></li>\n<li><p>In <code>application.xml</code> add <code>server.port=XXXX</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4466908,"reputation":1899,"user_id":3634283,"display_name":"ayurchuk"},"down_vote_count":1,"up_vote_count":98,"is_accepted":false,"score":97,"last_activity_date":1458233927,"creation_date":1458233927,"answer_id":36067066,"question_id":21083170,"body_markdown":"You can set port in java code:\r\n\r\n    HashMap&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n    props.put(&quot;server.port&quot;, 9999);\r\n\r\n    new SpringApplicationBuilder()\r\n\t\t.sources(SampleController.class)                \r\n\t\t.properties(props)\r\n\t\t.run(args);\r\n\r\nOr in application.yml:\r\n\r\n    server:\r\n        port: 9999\r\nOr in application.properties:\r\n\r\n    server.port=9999\r\nOr as a command line parameter:\r\n\r\n    -Dserver.port=9999\r\n\r\n","title":"How to configure port for a Spring Boot application","body":"<p>You can set port in java code:</p>\n\n<pre><code>HashMap&lt;String, Object&gt; props = new HashMap&lt;&gt;();\nprops.put(\"server.port\", 9999);\n\nnew SpringApplicationBuilder()\n    .sources(SampleController.class)                \n    .properties(props)\n    .run(args);\n</code></pre>\n\n<p>Or in application.yml:</p>\n\n<pre><code>server:\n    port: 9999\n</code></pre>\n\n<p>Or in application.properties:</p>\n\n<pre><code>server.port=9999\n</code></pre>\n\n<p>Or as a command line parameter:</p>\n\n<pre><code>-Dserver.port=9999\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3001759,"reputation":397,"user_id":2547119,"display_name":"Luis Mauricio"},"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1459700476,"creation_date":1459700476,"answer_id":36387906,"question_id":21083170,"body_markdown":"When you need a programatically way of doing it, you can set it during startup:\r\n\r\n    System.getProperties().put( &quot;server.port&quot;, 80 );\r\n    SpringApplication.run(App.class, args);\r\n\r\nThis might help  for things like environment dependent port. \r\nHave a nice day","title":"How to configure port for a Spring Boot application","body":"<p>When you need a programatically way of doing it, you can set it during startup:</p>\n\n<pre><code>System.getProperties().put( \"server.port\", 80 );\nSpringApplication.run(App.class, args);\n</code></pre>\n\n<p>This might help  for things like environment dependent port. \nHave a nice day</p>\n"},{"tags":[],"owner":{"account_id":5687798,"reputation":1314,"user_id":4496764,"accept_rate":43,"display_name":"itwarilal"},"down_vote_count":2,"up_vote_count":110,"is_accepted":false,"score":108,"last_activity_date":1689525571,"creation_date":1460761228,"answer_id":36658166,"question_id":21083170,"body_markdown":"&lt;!-- language-all: lang-bash --&gt;\r\n\r\nIf you would like to run it locally, use this -\r\n\r\n    mvn spring-boot:run -Drun.jvmArguments=&#39;-Dserver.port=8085&#39;\r\n\r\nAs of **Spring Boot 2.0**, here&#39;s the command that works:\r\n\r\n    mvn spring-boot:run -Dspring-boot.run.arguments=--server.port=8085\r\n\r\nclues were at:\r\n\r\n* [Maven spring boot run debug with arguments](https://stackoverflow.com/q/36217949)\r\n","title":"How to configure port for a Spring Boot application","body":"\n<p>If you would like to run it locally, use this -</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn spring-boot:run -Drun.jvmArguments='-Dserver.port=8085'\n</code></pre>\n<p>As of <strong>Spring Boot 2.0</strong>, here's the command that works:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn spring-boot:run -Dspring-boot.run.arguments=--server.port=8085\n</code></pre>\n<p>clues were at:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/36217949\">Maven spring boot run debug with arguments</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4466046,"reputation":25,"user_id":3633663,"display_name":"Mercurial"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1461646787,"creation_date":1461646787,"answer_id":36855591,"question_id":21083170,"body_markdown":"In my case adding statement\r\n\r\n    server.port=${port:8081}\r\noverride the default tomcat server port.\r\n","title":"How to configure port for a Spring Boot application","body":"<p>In my case adding statement</p>\n\n<pre><code>server.port=${port:8081}\n</code></pre>\n\n<p>override the default tomcat server port.</p>\n"},{"tags":[],"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1461675832,"creation_date":1461675832,"answer_id":36865796,"question_id":21083170,"body_markdown":"You can also use `SERVER_PORT` environment variable to configure Spring Boot port. Just set the environment variable and restart the app:\r\n\r\n    set SERVER_PORT=9999 // on windows machine\r\n    export SERVER_PORT=9999 // on linux\r\nPlease note that if you do not set those environment variables system wide, you should run the boot app on the same session.","title":"How to configure port for a Spring Boot application","body":"<p>You can also use <code>SERVER_PORT</code> environment variable to configure Spring Boot port. Just set the environment variable and restart the app:</p>\n\n<pre><code>set SERVER_PORT=9999 // on windows machine\nexport SERVER_PORT=9999 // on linux\n</code></pre>\n\n<p>Please note that if you do not set those environment variables system wide, you should run the boot app on the same session.</p>\n"},{"tags":[],"owner":{"account_id":2288711,"reputation":5650,"user_id":2012163,"accept_rate":69,"display_name":"Abhijeet Ahuja"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1463180064,"creation_date":1463180064,"answer_id":37220486,"question_id":21083170,"body_markdown":"You can set that in application.properties under /src/main/resources/\r\n\r\n    server.port = 8090","title":"How to configure port for a Spring Boot application","body":"<p>You can set that in application.properties under /src/main/resources/</p>\n\n<pre><code>server.port = 8090\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8653740,"reputation":159,"user_id":6478651,"display_name":"Sridhar Battala"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1533727395,"creation_date":1466157461,"answer_id":37878580,"question_id":21083170,"body_markdown":"Add this in your `application.properties` file\r\n\r\n    server.port= 8080","title":"How to configure port for a Spring Boot application","body":"<p>Add this in your <code>application.properties</code> file</p>\n\n<pre><code>server.port= 8080\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2453502,"reputation":9195,"user_id":2139222,"display_name":"Ulises"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1533727379,"creation_date":1469827500,"answer_id":38667712,"question_id":21083170,"body_markdown":"Using property server.port=8080 for instance like mentioned in other answers is definitely a way to go. Just wanted to mention that you could also expose an environment property:\r\n \r\n    SERVER_PORT=8080\r\n\r\nSince spring boot is able to replace &quot;.&quot; for &quot;_&quot; and lower to UPPER case for environment variables in recent versions.\r\nThis is specially useful in containers where all you gotta do is define that environment variable without adding/editing `application.properties` or passing system properties through command line (i.e `-Dserver.port=$PORT`)\r\n\r\n","title":"How to configure port for a Spring Boot application","body":"<p>Using property server.port=8080 for instance like mentioned in other answers is definitely a way to go. Just wanted to mention that you could also expose an environment property:</p>\n\n<pre><code>SERVER_PORT=8080\n</code></pre>\n\n<p>Since spring boot is able to replace \".\" for \"_\" and lower to UPPER case for environment variables in recent versions.\nThis is specially useful in containers where all you gotta do is define that environment variable without adding/editing <code>application.properties</code> or passing system properties through command line (i.e <code>-Dserver.port=$PORT</code>)</p>\n"},{"tags":[],"owner":{"account_id":4951669,"reputation":99,"user_id":3985385,"display_name":"mujeeb rahman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1474014666,"creation_date":1474014666,"answer_id":39526976,"question_id":21083170,"body_markdown":"&quot;**server.port=8080**&quot; will only works if your running application as a jar through main method,\r\n\r\nThis configuration will not work if your running this application as a war file through tomcat container.","title":"How to configure port for a Spring Boot application","body":"<p>\"<strong>server.port=8080</strong>\" will only works if your running application as a jar through main method,</p>\n\n<p>This configuration will not work if your running this application as a war file through tomcat container.</p>\n"},{"tags":[],"owner":{"account_id":5869154,"reputation":552,"user_id":4621985,"display_name":"Chandramouli"},"down_vote_count":2,"up_vote_count":45,"is_accepted":false,"score":43,"last_activity_date":1533727416,"creation_date":1476814950,"answer_id":40115381,"question_id":21083170,"body_markdown":"Include below property in `application.properties`\r\n\r\n    server.port=8080","title":"How to configure port for a Spring Boot application","body":"<p>Include below property in <code>application.properties</code></p>\n\n<pre><code>server.port=8080\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4417968,"reputation":348,"user_id":3598945,"display_name":"Rong.l"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1480058949,"creation_date":1480058949,"answer_id":40799750,"question_id":21083170,"body_markdown":"If you are going to run apps as jar file in command environment, just type &quot;SERVER_PORT=*** &quot; as prefix. The full command to execute will look like below:\r\n\r\n    SERVER_PORT=8080 java -jar ***.jar\r\nIf you wanna run app in background in Linux, command with &#39;nohup&#39; will look like below:\r\n    \r\n    SERVER_PORT=8080 nohup java -jar ***.jar &amp;","title":"How to configure port for a Spring Boot application","body":"<p>If you are going to run apps as jar file in command environment, just type \"SERVER_PORT=*** \" as prefix. The full command to execute will look like below:</p>\n\n<pre><code>SERVER_PORT=8080 java -jar ***.jar\n</code></pre>\n\n<p>If you wanna run app in background in Linux, command with 'nohup' will look like below:</p>\n\n<pre><code>SERVER_PORT=8080 nohup java -jar ***.jar &amp;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4200044,"reputation":3510,"user_id":3440376,"display_name":"tan9"},"down_vote_count":1,"up_vote_count":210,"is_accepted":false,"score":209,"last_activity_date":1512402829,"creation_date":1480441185,"answer_id":40872267,"question_id":21083170,"body_markdown":"Since Spring Boot provides [various configuration externalization mechanism][1] (through various `PropertySource` implementations and/or processors wired into `Environment` object in order), you can set any property __outside__ of your jar archive through following methods:\r\n\r\n1. Pass property through command line argument as __application argument__\r\n\r\n    &lt;!-- language: lang-bash --&gt;\r\n\r\n        java -jar &lt;path/to/my/jar&gt; --server.port=7788\r\n\r\n\r\n2. From property in `SPRING_APPLICATION_JSON` (Spring Boot 1.3.0+)\r\n\r\n  - Define environment variable in U*IX shell:\r\n\r\n        &lt;!-- language: lang-bash --&gt;\r\n\r\n            SPRING_APPLICATION_JSON=&#39;{&quot;server.port&quot;:7788}&#39; java -jar &lt;path/to/my/jar&gt;\r\n\r\n  - By using Java system property:\r\n\r\n        &lt;!-- language: lang-bash --&gt;\r\n\r\n            java -Dspring.application.json=&#39;{&quot;server.port&quot;:7788}&#39; -jar &lt;path/to/my/jar&gt;\r\n\r\n  - Pass through command line argument:\r\n\r\n        &lt;!-- language: lang-bash --&gt;\r\n\r\n            java -jar &lt;path/to/my/jar&gt; --spring.application.json=&#39;{&quot;server.port&quot;:7788}&#39;\r\n\r\n3. Define __JVM system property__\r\n\r\n    &lt;!-- language: lang-bash --&gt;\r\n\r\n        java -Dserver.port=7788 -jar &lt;path/to/my/jar&gt;\r\n\r\n4. Define __OS environment variable__\r\n\r\n  - U*IX Shell\r\n\r\n        &lt;!-- language: lang-bash --&gt;\r\n\r\n            SERVER_PORT=7788 java -jar &lt;path/to/my/jar&gt;\r\n\r\n  - Windows\r\n\r\n        &lt;!-- language: lang-vb --&gt;\r\n\r\n            SET SERVER_PORT=7788\r\n            java -jar &lt;path/to/my/jar&gt;\r\n\r\n\r\n5. Place property in `./config/application.properties` __configuration file__\r\n\r\n    &lt;!-- language: lang-pl --&gt;\r\n\r\n        server.port=7788\r\n\r\n    and run:\r\n\r\n    &lt;!-- language: lang-bash --&gt;\r\n\r\n         java -jar &lt;path/to/my/jar&gt;\r\n\r\n6. Place property in `./config/application.yaml`\r\n\r\n    &lt;!-- language: lang-json --&gt;\r\n\r\n        server:\r\n            port: 7788\r\n\r\n    and run:\r\n\r\n    &lt;!-- language: lang-bash --&gt;\r\n\r\n         java -jar &lt;path/to/my/jar&gt;\r\n\r\n7. Place property in `./application.properties`\r\n\r\n    &lt;!-- language: lang-pl --&gt;\r\n\r\n        server.port=7788\r\n\r\n    and run:\r\n\r\n    &lt;!-- language: lang-bash --&gt;\r\n\r\n         java -jar &lt;path/to/my/jar&gt;\r\n\r\n8. Place property in `./application.yaml`\r\n\r\n    &lt;!-- language: lang-json --&gt;\r\n\r\n        server:\r\n            port: 7788\r\n\r\n    and run:\r\n\r\n    &lt;!-- language: lang-bash --&gt;\r\n\r\n         java -jar &lt;path/to/my/jar&gt;\r\n\r\n\r\n----------\r\n\r\nYou can combine above methods all together, and the former configuration in the list take precedence over the latter one.\r\n\r\nFor example:\r\n\r\n&lt;!-- language: lang-bash --&gt;\r\n\r\n    SERVER_PORT=2266 java -Dserver.port=5566 -jar &lt;path/to/my/jar&gt; --server.port=7788\r\n\r\nThe server will start and listen on port 7788.\r\n\r\nThis is very useful providing default properties in PropertySources with lower precedence (and usually packaged in the archive or coded in the source), and then override it in the runtime environment. And it is the design philosophy of Spring Boot:\r\n\r\n&gt; Be opinionated out of the box, but get out of the way quickly as requirements start to diverge from the defaults.\r\n\r\n----------\r\n\r\n\r\n`SERVER_NAME` to `server.name` conversion was done by [Relaxed Binding][2].\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config\r\n  [2]: http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-relaxed-binding","title":"How to configure port for a Spring Boot application","body":"<p>Since Spring Boot provides <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config\" rel=\"noreferrer\">various configuration externalization mechanism</a> (through various <code>PropertySource</code> implementations and/or processors wired into <code>Environment</code> object in order), you can set any property <strong>outside</strong> of your jar archive through following methods:</p>\n\n<ol>\n<li><p>Pass property through command line argument as <strong>application argument</strong></p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>java -jar &lt;path/to/my/jar&gt; --server.port=7788\n</code></pre></li>\n<li><p>From property in <code>SPRING_APPLICATION_JSON</code> (Spring Boot 1.3.0+)</p>\n\n<ul>\n<li><p>Define environment variable in U*IX shell:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>SPRING_APPLICATION_JSON='{\"server.port\":7788}' java -jar &lt;path/to/my/jar&gt;\n</code></pre></li>\n<li><p>By using Java system property:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>java -Dspring.application.json='{\"server.port\":7788}' -jar &lt;path/to/my/jar&gt;\n</code></pre></li>\n<li><p>Pass through command line argument:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>java -jar &lt;path/to/my/jar&gt; --spring.application.json='{\"server.port\":7788}'\n</code></pre></li>\n</ul></li>\n<li><p>Define <strong>JVM system property</strong></p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>java -Dserver.port=7788 -jar &lt;path/to/my/jar&gt;\n</code></pre></li>\n<li><p>Define <strong>OS environment variable</strong></p>\n\n<ul>\n<li><p>U*IX Shell</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>SERVER_PORT=7788 java -jar &lt;path/to/my/jar&gt;\n</code></pre></li>\n<li><p>Windows</p>\n\n<pre class=\"lang-vb prettyprint-override\"><code>SET SERVER_PORT=7788\njava -jar &lt;path/to/my/jar&gt;\n</code></pre></li>\n</ul></li>\n<li><p>Place property in <code>./config/application.properties</code> <strong>configuration file</strong></p>\n\n<pre class=\"lang-pl prettyprint-override\"><code>server.port=7788\n</code></pre>\n\n<p>and run:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code> java -jar &lt;path/to/my/jar&gt;\n</code></pre></li>\n<li><p>Place property in <code>./config/application.yaml</code></p>\n\n<pre class=\"lang-json prettyprint-override\"><code>server:\n    port: 7788\n</code></pre>\n\n<p>and run:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code> java -jar &lt;path/to/my/jar&gt;\n</code></pre></li>\n<li><p>Place property in <code>./application.properties</code></p>\n\n<pre class=\"lang-pl prettyprint-override\"><code>server.port=7788\n</code></pre>\n\n<p>and run:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code> java -jar &lt;path/to/my/jar&gt;\n</code></pre></li>\n<li><p>Place property in <code>./application.yaml</code></p>\n\n<pre class=\"lang-json prettyprint-override\"><code>server:\n    port: 7788\n</code></pre>\n\n<p>and run:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code> java -jar &lt;path/to/my/jar&gt;\n</code></pre></li>\n</ol>\n\n<hr>\n\n<p>You can combine above methods all together, and the former configuration in the list take precedence over the latter one.</p>\n\n<p>For example:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>SERVER_PORT=2266 java -Dserver.port=5566 -jar &lt;path/to/my/jar&gt; --server.port=7788\n</code></pre>\n\n<p>The server will start and listen on port 7788.</p>\n\n<p>This is very useful providing default properties in PropertySources with lower precedence (and usually packaged in the archive or coded in the source), and then override it in the runtime environment. And it is the design philosophy of Spring Boot:</p>\n\n<blockquote>\n  <p>Be opinionated out of the box, but get out of the way quickly as requirements start to diverge from the defaults.</p>\n</blockquote>\n\n<hr>\n\n<p><code>SERVER_NAME</code> to <code>server.name</code> conversion was done by <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-relaxed-binding\" rel=\"noreferrer\">Relaxed Binding</a>.</p>\n"},{"tags":[],"owner":{"account_id":7383129,"reputation":2481,"user_id":5619076,"accept_rate":33,"display_name":"OlivierTerrien"},"down_vote_count":1,"up_vote_count":54,"is_accepted":false,"score":53,"last_activity_date":1510440969,"creation_date":1485004907,"answer_id":41779883,"question_id":21083170,"body_markdown":"As explained in [Spring documentation][1], there are several ways to do that:\r\n\r\nEither you set the port in the command line (for example 8888)\r\n\r\n`-Dserver.port=8888` or `--server.port=8888`\r\n\r\nExample : `java -jar -Dserver.port=8888 test.jar`\r\n\r\nOr you set the port in the application.properties\r\n\r\n    server.port=${port:4588}\r\nor (in application.yml with yaml syntax)\r\n\r\n    server:\r\n       port: ${port:4588}\r\n\r\nIf the port passed by -Dport (or -Dserver.port) is set in command line then this port will be taken into account. If not, then the port will be 4588 by default.\r\n\r\nIf you want to enforce the port in properties file whatever the environment variable, you just have to write:\r\n\r\n    server.port=8888\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto-properties-and-configuration.html#howto-use-short-command-line-arguments","title":"How to configure port for a Spring Boot application","body":"<p>As explained in <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-properties-and-configuration.html#howto-use-short-command-line-arguments\" rel=\"noreferrer\">Spring documentation</a>, there are several ways to do that:</p>\n\n<p>Either you set the port in the command line (for example 8888)</p>\n\n<p><code>-Dserver.port=8888</code> or <code>--server.port=8888</code></p>\n\n<p>Example : <code>java -jar -Dserver.port=8888 test.jar</code></p>\n\n<p>Or you set the port in the application.properties</p>\n\n<pre><code>server.port=${port:4588}\n</code></pre>\n\n<p>or (in application.yml with yaml syntax)</p>\n\n<pre><code>server:\n   port: ${port:4588}\n</code></pre>\n\n<p>If the port passed by -Dport (or -Dserver.port) is set in command line then this port will be taken into account. If not, then the port will be 4588 by default.</p>\n\n<p>If you want to enforce the port in properties file whatever the environment variable, you just have to write:</p>\n\n<pre><code>server.port=8888\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6833305,"reputation":3084,"user_id":5256337,"display_name":"Lova Chittumuri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1488354404,"creation_date":1488354404,"answer_id":42525966,"question_id":21083170,"body_markdown":"The default port is : 8080 but we can customize the port number in application.properties\r\nas shown below\r\n\r\n\r\n    spring.mvc.view.prefix=/WEB-INF/jsp/\r\n    spring.mvc.view.suffix=.jsp\r\n    server.port = 5050 -- #here we can give any port number.\r\n\r\n\r\n","title":"How to configure port for a Spring Boot application","body":"<p>The default port is : 8080 but we can customize the port number in application.properties\nas shown below</p>\n\n<pre><code>spring.mvc.view.prefix=/WEB-INF/jsp/\nspring.mvc.view.suffix=.jsp\nserver.port = 5050 -- #here we can give any port number.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4362083,"reputation":116,"user_id":3558825,"display_name":"Automator1992"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1533727350,"creation_date":1490256623,"answer_id":42970422,"question_id":21083170,"body_markdown":"You can configure your port in application.properties file in the resources folder of your spring boot project.\r\n\r\n    server.port=&quot;port which you need&quot;","title":"How to configure port for a Spring Boot application","body":"<p>You can configure your port in application.properties file in the resources folder of your spring boot project.</p>\n\n<pre><code>server.port=\"port which you need\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8652805,"reputation":1100,"user_id":6477936,"accept_rate":9,"display_name":"Amit Gujarathi"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1493021719,"creation_date":1493020628,"answer_id":43582675,"question_id":21083170,"body_markdown":"In `application.properties` file present in resources: \r\n\r\n    server.port=8082\r\n\r\n","title":"How to configure port for a Spring Boot application","body":"<p>In <code>application.properties</code> file present in resources: </p>\n\n<pre><code>server.port=8082\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1557625,"reputation":79,"user_id":1448236,"display_name":"Amandeep Singh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1533727328,"creation_date":1496055934,"answer_id":44240986,"question_id":21083170,"body_markdown":"There are three ways to do it\r\n\r\n1 Set server.port property in `application.properties` file\r\n\r\n    server.port = 8090\r\n\r\n2 Set server port property in `application.yml` file\r\n\r\n    server:\r\n         port: 8090\r\n\r\n3 Set the property as system property in `main` method\r\n\r\n    System.setProperty(&quot;server.port&quot;,&quot;8090&quot;);\r\n\r\n\r\n","title":"How to configure port for a Spring Boot application","body":"<p>There are three ways to do it</p>\n\n<p>1 Set server.port property in <code>application.properties</code> file</p>\n\n<pre><code>server.port = 8090\n</code></pre>\n\n<p>2 Set server port property in <code>application.yml</code> file</p>\n\n<pre><code>server:\n     port: 8090\n</code></pre>\n\n<p>3 Set the property as system property in <code>main</code> method</p>\n\n<pre><code>System.setProperty(\"server.port\",\"8090\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6087813,"reputation":15135,"user_id":4751165,"accept_rate":96,"display_name":"Pau"},"down_vote_count":2,"up_vote_count":22,"is_accepted":false,"score":20,"last_activity_date":1502024659,"creation_date":1496083254,"answer_id":44248717,"question_id":21083170,"body_markdown":"To extend other answers:\r\n\r\nThere is a section in the docs for testing which explains how to configure the port on integration tests:\r\n\r\n\r\n- [41.3 Testing Spring Boot applications][1]\r\n- [41.3.3 Working with random ports][2]\r\n\r\n---\r\n\r\nAt integration tests, the port configuration is made using the annotation `@SpringBootTest` and the `webEnvironment` values.\r\n\r\n--- \r\n### Random port:\r\n\r\n    @SpringBootTest(webEnvironment=WebEnvironment.RANDOM_PORT)\r\n\r\nYou can inject the value using `@LocalServerPort` which is the same as `@Value(&quot;${local.server.port}&quot;)`.\r\n\r\n- Example:\r\n\r\nRandom port test configuration:\r\n\r\n\r\n    @RunWith(SpringRunner.class\r\n    @SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\r\n    public class ExampleTest {\r\n       ...\r\n       @LocalServerPort //to inject port value\r\n       int port;\r\n    }\r\n\r\n---\r\n\r\n### Defined port:\r\n\r\n    @SpringBootTest(webEnvironment=WebEnvironment.DEFINED_PORT)\r\n\r\nIt takes the value from `server.port` if is defined.\r\n\r\n- If is defined using `@TestPropertySource(properties = &quot;server.port=9192&quot;)`, it overrides other defined values.\r\n- If not, it takes the value from `src/test/resources/application.properties` (if exists). \r\n- And finally, if it is not defined it starts with the default `8080`.\r\n\r\nExample:\r\n\r\nDefined port test configuration:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)\r\n    @TestPropertySource(properties = &quot;server.port=9192&quot;)\r\n    public class DemoApplicationTests {\r\n    \r\n    \t@Test\r\n    \tpublic void contextLoads() {\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-testing-spring-boot-applications\r\n  [2]: https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-testing-spring-boot-applications-working-with-random-ports","title":"How to configure port for a Spring Boot application","body":"<p>To extend other answers:</p>\n\n<p>There is a section in the docs for testing which explains how to configure the port on integration tests:</p>\n\n<ul>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-testing-spring-boot-applications\" rel=\"noreferrer\">41.3 Testing Spring Boot applications</a></li>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-testing-spring-boot-applications-working-with-random-ports\" rel=\"noreferrer\">41.3.3 Working with random ports</a></li>\n</ul>\n\n<hr>\n\n<p>At integration tests, the port configuration is made using the annotation <code>@SpringBootTest</code> and the <code>webEnvironment</code> values.</p>\n\n<hr>\n\n<h3>Random port:</h3>\n\n<pre><code>@SpringBootTest(webEnvironment=WebEnvironment.RANDOM_PORT)\n</code></pre>\n\n<p>You can inject the value using <code>@LocalServerPort</code> which is the same as <code>@Value(\"${local.server.port}\")</code>.</p>\n\n<ul>\n<li>Example:</li>\n</ul>\n\n<p>Random port test configuration:</p>\n\n<pre><code>@RunWith(SpringRunner.class\n@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\npublic class ExampleTest {\n   ...\n   @LocalServerPort //to inject port value\n   int port;\n}\n</code></pre>\n\n<hr>\n\n<h3>Defined port:</h3>\n\n<pre><code>@SpringBootTest(webEnvironment=WebEnvironment.DEFINED_PORT)\n</code></pre>\n\n<p>It takes the value from <code>server.port</code> if is defined.</p>\n\n<ul>\n<li>If is defined using <code>@TestPropertySource(properties = \"server.port=9192\")</code>, it overrides other defined values.</li>\n<li>If not, it takes the value from <code>src/test/resources/application.properties</code> (if exists). </li>\n<li>And finally, if it is not defined it starts with the default <code>8080</code>.</li>\n</ul>\n\n<p>Example:</p>\n\n<p>Defined port test configuration:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)\n@TestPropertySource(properties = \"server.port=9192\")\npublic class DemoApplicationTests {\n\n    @Test\n    public void contextLoads() {\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7178466,"reputation":141,"user_id":5483433,"display_name":"Shubham Khurana"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1499003849,"creation_date":1498979277,"answer_id":44868307,"question_id":21083170,"body_markdown":"Just have a `application.properties` in `src/main/resources` of the project and give there \r\n\r\n    server.port=****\r\nwhere `****` refers to the port number.","title":"How to configure port for a Spring Boot application","body":"<p>Just have a <code>application.properties</code> in <code>src/main/resources</code> of the project and give there </p>\n\n<pre><code>server.port=****\n</code></pre>\n\n<p>where <code>****</code> refers to the port number.</p>\n"},{"tags":[],"owner":{"account_id":6111053,"reputation":1258,"user_id":4767356,"display_name":"S&#39;chn T&#39;gai Spock"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501484722,"creation_date":1501484722,"answer_id":45409395,"question_id":21083170,"body_markdown":"This worked for me :\r\n\r\nAdded a custom container class :\r\n\r\n    @Component\r\n    public class CustomContainer implements EmbeddedServletContainerCustomizer {\r\n    \r\n        @Override\r\n        public void customize(ConfigurableEmbeddedServletContainer configurableEmbeddedServletContainer) {\r\n           configurableEmbeddedServletContainer.setPort(8888);\r\n        }\r\n    \r\n    }\r\n\r\nBut this was still not using port 8888.\r\n\r\nThen I set &quot;scanBasePackages&quot; property like this on &quot;@SpringBootApplication&quot; class on my main method: `(scanBasePackages = {&quot;custom container package&quot;})` \r\n\r\n    @SpringBootApplication(scanBasePackages = {&quot;com.javabrains.util&quot;})\r\n    public class CourseApiApp {\r\n    \r\n        public static void main (String args []) {\r\n            SpringApplication.run(CourseApiApp.class, args);\r\n        }\r\n    }\r\n\r\nAnd it started picking up port set in Custom Container.","title":"How to configure port for a Spring Boot application","body":"<p>This worked for me :</p>\n\n<p>Added a custom container class :</p>\n\n<pre><code>@Component\npublic class CustomContainer implements EmbeddedServletContainerCustomizer {\n\n    @Override\n    public void customize(ConfigurableEmbeddedServletContainer configurableEmbeddedServletContainer) {\n       configurableEmbeddedServletContainer.setPort(8888);\n    }\n\n}\n</code></pre>\n\n<p>But this was still not using port 8888.</p>\n\n<p>Then I set \"scanBasePackages\" property like this on \"@SpringBootApplication\" class on my main method: <code>(scanBasePackages = {\"custom container package\"})</code> </p>\n\n<pre><code>@SpringBootApplication(scanBasePackages = {\"com.javabrains.util\"})\npublic class CourseApiApp {\n\n    public static void main (String args []) {\n        SpringApplication.run(CourseApiApp.class, args);\n    }\n}\n</code></pre>\n\n<p>And it started picking up port set in Custom Container.</p>\n"},{"tags":[],"owner":{"account_id":10560034,"reputation":396,"user_id":7780086,"accept_rate":83,"display_name":"Mohanraj"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1502856634,"creation_date":1502856634,"answer_id":45704995,"question_id":21083170,"body_markdown":"Mostly springboot runs on `port:8080` because of embedded Tomcat. In some it may throw an error `port 8080 already in use`. To avoid this kind of issues we can config the server port.\r\nUsing application.properties \r\n-\r\nadd `server.port=9898`\r\nOn runtime config\r\n-\r\nrun your application with below arguments.\r\n\r\n`spring-boot:run -Drun.jvmArguments=&#39;-Dserver.port=8081&#39;`\r\n","title":"How to configure port for a Spring Boot application","body":"<p>Mostly springboot runs on <code>port:8080</code> because of embedded Tomcat. In some it may throw an error <code>port 8080 already in use</code>. To avoid this kind of issues we can config the server port.</p>\n\n<h2>Using application.properties</h2>\n\n<p>add <code>server.port=9898</code></p>\n\n<h2>On runtime config</h2>\n\n<p>run your application with below arguments.</p>\n\n<p><code>spring-boot:run -Drun.jvmArguments='-Dserver.port=8081'</code></p>\n"},{"tags":[],"owner":{"account_id":3273743,"reputation":192,"user_id":2756408,"display_name":"Buddhika Lakshan"},"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1503915708,"creation_date":1503914519,"answer_id":45916424,"question_id":21083170,"body_markdown":"1.1 Update via a properties file.\r\n\r\n**/src/main/resources/application.properties**\r\n\r\nserver.port=8888\r\n\r\n**Update via a yaml file.**\r\n\r\n       server:\r\n\r\n         port: 8888\r\n\r\n**EmbeddedServletContainerCustomizer**\r\n\r\n    @Component\r\n    public class CustomContainer implements EmbeddedServletContainerCustomizer {\r\n    \r\n        @Override\r\n    \tpublic void customize(ConfigurableEmbeddedServletContainer container) {\r\n    \r\n    \t\tcontainer.setPort(8888);\r\n    \r\n    \t}\r\n    \r\n    }","title":"How to configure port for a Spring Boot application","body":"<p>1.1 Update via a properties file.</p>\n\n<p><strong>/src/main/resources/application.properties</strong></p>\n\n<p>server.port=8888</p>\n\n<p><strong>Update via a yaml file.</strong></p>\n\n<pre><code>   server:\n\n     port: 8888\n</code></pre>\n\n<p><strong>EmbeddedServletContainerCustomizer</strong></p>\n\n<pre><code>@Component\npublic class CustomContainer implements EmbeddedServletContainerCustomizer {\n\n    @Override\n    public void customize(ConfigurableEmbeddedServletContainer container) {\n\n        container.setPort(8888);\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4910786,"reputation":987,"user_id":3956150,"accept_rate":70,"display_name":"Anushka Ekanayake"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533727269,"creation_date":1505371572,"answer_id":46212279,"question_id":21083170,"body_markdown":"In spring boot you can easily configure the service exposing port in `application.properties` file.\r\n\r\n    server.port=portnumber\r\n\r\nif you don&#39;t set a port specifically, then it will try to open the service with port `80`. in case if it is already used, service will not be started on the embedded container.","title":"How to configure port for a Spring Boot application","body":"<p>In spring boot you can easily configure the service exposing port in <code>application.properties</code> file.</p>\n\n<pre><code>server.port=portnumber\n</code></pre>\n\n<p>if you don't set a port specifically, then it will try to open the service with port <code>80</code>. in case if it is already used, service will not be started on the embedded container.</p>\n"},{"tags":[],"owner":{"account_id":1513056,"reputation":1332,"user_id":1414695,"accept_rate":100,"display_name":"Maurice M&#252;ller"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510220071,"creation_date":1510219631,"answer_id":47198167,"question_id":21083170,"body_markdown":"This question is the first result if you google for **Gradle Spring Port**.\r\n\r\nIf you use gradle you can do something like this if you have the Spring Boot Gradle Plugin already applied:\r\n\r\n    bootRun {\r\n        args += [&quot;--server.port=[PORT]&quot;]\r\n    }\r\n\r\nFor a more sophisticated answer please see my answer [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/47198101/1414695","title":"How to configure port for a Spring Boot application","body":"<p>This question is the first result if you google for <strong>Gradle Spring Port</strong>.</p>\n\n<p>If you use gradle you can do something like this if you have the Spring Boot Gradle Plugin already applied:</p>\n\n<pre><code>bootRun {\n    args += [\"--server.port=[PORT]\"]\n}\n</code></pre>\n\n<p>For a more sophisticated answer please see my answer <a href=\"https://stackoverflow.com/a/47198101/1414695\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":11905801,"reputation":10,"user_id":8712383,"display_name":"Saravanan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510318662,"creation_date":1510318662,"answer_id":47223314,"question_id":21083170,"body_markdown":"If you are working over boot projects and you wanna configure the port you can give the input in the application.properties file like\nNOTE:properties file should be under src/main/resource\n## Spring properties\n\n&gt; **server.port=9999**\nIf you using the CMD then follow this command\n&gt; **-Dserver.port=9999**\nFor default port its server.port=0\nMake sure no port is using this port number\n","title":"How to configure port for a Spring Boot application","body":"<p>If you are working over boot projects and you wanna configure the port you can give the input in the application.properties file like\nNOTE:properties file should be under src/main/resource</p>\n<h2>Spring properties</h2>\n<blockquote>\n<p><strong>server.port=9999</strong>\nIf you using the CMD then follow this command\n<strong>-Dserver.port=9999</strong>\nFor default port its server.port=0\nMake sure no port is using this port number</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5881578,"reputation":884,"user_id":4630749,"accept_rate":45,"display_name":"Deepesh kumar Gupta"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1516941557,"creation_date":1516941557,"answer_id":48455873,"question_id":21083170,"body_markdown":"There are many other stuffs you can alter in server configuration by changing application.properties.\r\nLike session time out, address and port etc. Refer below post\r\n\r\nref: http://docs.spring.io/spring-boot/docs/1.4.x/reference/html/common-application-properties.html\r\n\r\nI used few of them as below. \r\n\r\n    server.session.timeout=1\r\n    server.port = 3029\r\n    server.address= deepesh\r\n","title":"How to configure port for a Spring Boot application","body":"<p>There are many other stuffs you can alter in server configuration by changing application.properties.\nLike session time out, address and port etc. Refer below post</p>\n\n<p>ref: <a href=\"http://docs.spring.io/spring-boot/docs/1.4.x/reference/html/common-application-properties.html\" rel=\"noreferrer\">http://docs.spring.io/spring-boot/docs/1.4.x/reference/html/common-application-properties.html</a></p>\n\n<p>I used few of them as below. </p>\n\n<pre><code>server.session.timeout=1\nserver.port = 3029\nserver.address= deepesh\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6349088,"reputation":315,"user_id":4928723,"display_name":"Sagar Mal Shankhala"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1526649265,"creation_date":1526649265,"answer_id":50412178,"question_id":21083170,"body_markdown":"Hope this one help\r\n&lt;pre&gt;\r\napplication.properties=&gt; \r\n\r\nserver.port=8090\r\n\r\napplication.yml=&gt; \r\n\r\nserver\r\n  port:8090\r\n&lt;/pre&gt;\r\n\r\n","title":"How to configure port for a Spring Boot application","body":"<p>Hope this one help</p>\n\n<pre>\napplication.properties=> \n\nserver.port=8090\n\napplication.yml=> \n\nserver\n  port:8090\n</pre>\n"},{"tags":[],"owner":{"account_id":13192890,"reputation":791,"user_id":9528696,"display_name":"Ashwini"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1539607946,"creation_date":1539607946,"answer_id":52817244,"question_id":21083170,"body_markdown":"Providing the port number in application.properties file will resolve the issue\r\n\r\n     server.port = 8080\r\n\r\n&quot;port depends on your choice, where you want to host the application&quot;","title":"How to configure port for a Spring Boot application","body":"<p>Providing the port number in application.properties file will resolve the issue</p>\n\n<pre><code> server.port = 8080\n</code></pre>\n\n<p>\"port depends on your choice, where you want to host the application\"</p>\n"},{"tags":[],"owner":{"account_id":11396695,"reputation":529,"user_id":8354827,"display_name":"Praneeth"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1544532971,"creation_date":1539625943,"answer_id":52822248,"question_id":21083170,"body_markdown":"There are three ways to do it depending on the application configuration file you are using\r\n\r\na) If you are using **application.properties** file set\r\n\r\n`server.port = 8090`\r\n\r\nb) If you are using **application.yml** file set server port property in YAML format as given below\r\n\r\n    server:\r\n         port: 8090\r\n\r\nc) You can also Set the property as the System property in the **main method**\r\n\r\n    System.setProperty(&quot;server.port&quot;,&quot;8090&quot;);","title":"How to configure port for a Spring Boot application","body":"<p>There are three ways to do it depending on the application configuration file you are using</p>\n\n<p>a) If you are using <strong>application.properties</strong> file set</p>\n\n<p><code>server.port = 8090</code></p>\n\n<p>b) If you are using <strong>application.yml</strong> file set server port property in YAML format as given below</p>\n\n<pre><code>server:\n     port: 8090\n</code></pre>\n\n<p>c) You can also Set the property as the System property in the <strong>main method</strong></p>\n\n<pre><code>System.setProperty(\"server.port\",\"8090\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3370948,"reputation":4617,"user_id":2830167,"accept_rate":100,"display_name":"ZhaoGang"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1545269812,"creation_date":1545269301,"answer_id":53861348,"question_id":21083170,"body_markdown":"In the `application.properties` file, add this line:\r\n\r\n`server.port = 65535`\r\n\r\n**where to place that fie:**\r\n\r\n&gt; 24.3 Application Property Files\r\n&gt; \r\n&gt; SpringApplication loads properties from application.properties files\r\n&gt; in the following locations and adds them to the Spring Environment:\r\n&gt; \r\n&gt;     A /config subdirectory of the current directory\r\n&gt;     The current directory\r\n&gt;     A classpath /config package\r\n&gt;     The classpath root\r\n&gt; \r\n&gt; The list is ordered by precedence (properties defined in locations\r\n&gt; higher in the list override those defined in lower locations).\r\n\r\nIn my case I put it in the directory where the `jar` file stands.\r\n\r\n\r\nFrom: \r\n\r\n[https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-config-application-property-files][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-config-application-property-files","title":"How to configure port for a Spring Boot application","body":"<p>In the <code>application.properties</code> file, add this line:</p>\n\n<p><code>server.port = 65535</code></p>\n\n<p><strong>where to place that fie:</strong></p>\n\n<blockquote>\n  <p>24.3 Application Property Files</p>\n  \n  <p>SpringApplication loads properties from application.properties files\n  in the following locations and adds them to the Spring Environment:</p>\n\n<pre><code>A /config subdirectory of the current directory\nThe current directory\nA classpath /config package\nThe classpath root\n</code></pre>\n  \n  <p>The list is ordered by precedence (properties defined in locations\n  higher in the list override those defined in lower locations).</p>\n</blockquote>\n\n<p>In my case I put it in the directory where the <code>jar</code> file stands.</p>\n\n<p>From: </p>\n\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-config-application-property-files\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-config-application-property-files</a></p>\n"},{"tags":[],"owner":{"account_id":1734438,"reputation":36245,"user_id":1587329,"accept_rate":94,"display_name":"serv-inc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1555583986,"creation_date":1555583986,"answer_id":55744297,"question_id":21083170,"body_markdown":"Similar to https://stackoverflow.com/a/36865796/1587329 and https://stackoverflow.com/a/40799750/1587329, **a gradle one-liner** would be\r\n\r\n    SERVER_PORT=9090 gradle bootRun\r\n\r\n    ","title":"How to configure port for a Spring Boot application","body":"<p>Similar to <a href=\"https://stackoverflow.com/a/36865796/1587329\">https://stackoverflow.com/a/36865796/1587329</a> and <a href=\"https://stackoverflow.com/a/40799750/1587329\">https://stackoverflow.com/a/40799750/1587329</a>, <strong>a gradle one-liner</strong> would be</p>\n\n<pre><code>SERVER_PORT=9090 gradle bootRun\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7588122,"reputation":961,"user_id":5756557,"display_name":"anandchaugule"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1556288706,"creation_date":1556287748,"answer_id":55869404,"question_id":21083170,"body_markdown":"By default spring boot app start with embedded tomcat server start at default port 8080. spring provides you with following different customization you can choose one of them.\r\n\r\n&gt; **NOTE** – you can use **server.port=0** spring boot will find any unassigned http random port \r\n&gt; for us.\r\n\r\n**1) application.properties**\r\n\r\n    server.port=2020\r\n\r\n**2) application.yml**\r\n\r\n    server:  \r\n         port : 2020\r\n\r\n**3) Change the server port programatically**\r\n\r\n**3.1) By implementing  WebServerFactoryCustomizer interface - Spring 2.x**\r\n\r\n    @Component\r\n    public class MyTomcatWebServerCustomizer implements WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic void customize(TomcatServletWebServerFactory factory) {\r\n    \t\t// customize the factory here\r\n    \t\tfactory.setPort(2020);\r\n    \t}\r\n    }\r\n\r\n**3.2) By Implementing EmbeddedServletContainerCustomizer interface - Spring 1.x**\r\n\r\n    @Component\r\n    public class CustomizationBean implements EmbeddedServletContainerCustomizer {\r\n     \r\n        @Override\r\n        public void customize(ConfigurableEmbeddedServletContainer container) {\r\n     \t    // customize here\r\n            container.setPort(2020);\r\n        }\r\n    }\r\n\r\n**4) By using command line option**\r\n\r\n     java -jar spring-boot-app.jar -Dserver.port=2020\r\n\r\n","title":"How to configure port for a Spring Boot application","body":"<p>By default spring boot app start with embedded tomcat server start at default port 8080. spring provides you with following different customization you can choose one of them.</p>\n\n<blockquote>\n  <p><strong>NOTE</strong> – you can use <strong>server.port=0</strong> spring boot will find any unassigned http random port \n  for us.</p>\n</blockquote>\n\n<p><strong>1) application.properties</strong></p>\n\n<pre><code>server.port=2020\n</code></pre>\n\n<p><strong>2) application.yml</strong></p>\n\n<pre><code>server:  \n     port : 2020\n</code></pre>\n\n<p><strong>3) Change the server port programatically</strong></p>\n\n<p><strong>3.1) By implementing  WebServerFactoryCustomizer interface - Spring 2.x</strong></p>\n\n<pre><code>@Component\npublic class MyTomcatWebServerCustomizer implements WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; {\n\n    @Override\n    public void customize(TomcatServletWebServerFactory factory) {\n        // customize the factory here\n        factory.setPort(2020);\n    }\n}\n</code></pre>\n\n<p><strong>3.2) By Implementing EmbeddedServletContainerCustomizer interface - Spring 1.x</strong></p>\n\n<pre><code>@Component\npublic class CustomizationBean implements EmbeddedServletContainerCustomizer {\n\n    @Override\n    public void customize(ConfigurableEmbeddedServletContainer container) {\n        // customize here\n        container.setPort(2020);\n    }\n}\n</code></pre>\n\n<p><strong>4) By using command line option</strong></p>\n\n<pre><code> java -jar spring-boot-app.jar -Dserver.port=2020\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7936946,"reputation":1018,"user_id":5992557,"display_name":"Joyson Rego"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1558192357,"creation_date":1558192357,"answer_id":56200225,"question_id":21083170,"body_markdown":"In Application properties just add 1 line\r\n\r\n\r\n```\r\nserver.port = 8090\r\n```","title":"How to configure port for a Spring Boot application","body":"<p>In Application properties just add 1 line</p>\n\n<pre><code>server.port = 8090\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6519021,"reputation":328,"user_id":5043823,"display_name":"Devilluminati"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559687763,"creation_date":1559687763,"answer_id":56452178,"question_id":21083170,"body_markdown":"if your port number can be random you can use random function in your `application.properties` `server.port=${random.int(4)}`","title":"How to configure port for a Spring Boot application","body":"<p>if your port number can be random you can use random function in your <code>application.properties</code> <code>server.port=${random.int(4)}</code></p>\n"},{"tags":[],"owner":{"account_id":5757543,"reputation":107,"user_id":4544927,"display_name":"Jijo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561531019,"creation_date":1561531019,"answer_id":56766604,"question_id":21083170,"body_markdown":"`server.port = 0` for random port\r\n\r\n`server.port` = 8080 for custom 8080 port","title":"How to configure port for a Spring Boot application","body":"<p><code>server.port = 0</code> for random port</p>\n\n<p><code>server.port</code> = 8080 for custom 8080 port</p>\n"},{"tags":[],"owner":{"account_id":4803880,"reputation":2185,"user_id":4589003,"accept_rate":57,"display_name":"Sudip Bhandari"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1561712595,"creation_date":1561712595,"answer_id":56803951,"question_id":21083170,"body_markdown":"Apart from all the answers, I would like to point out that most IDE (IntelliJ with Spring plugin, STS) have a feature where it suggests all the configuration keys supported by SpringBoot. (i.e. all the opinionated configuration keywords)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[Spring Plugin for Intellij][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OmX5R.gif\r\n  [2]: https://www.jetbrains.com/help/idea/spring-support.html","title":"How to configure port for a Spring Boot application","body":"<p>Apart from all the answers, I would like to point out that most IDE (IntelliJ with Spring plugin, STS) have a feature where it suggests all the configuration keys supported by SpringBoot. (i.e. all the opinionated configuration keywords)</p>\n\n<p><a href=\"https://i.stack.imgur.com/OmX5R.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OmX5R.gif\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://www.jetbrains.com/help/idea/spring-support.html\" rel=\"nofollow noreferrer\">Spring Plugin for Intellij</a></p>\n"},{"tags":[],"owner":{"account_id":112773,"reputation":7966,"user_id":297331,"accept_rate":53,"display_name":"Niel de Wet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1567191052,"creation_date":1567191052,"answer_id":57731887,"question_id":21083170,"body_markdown":"Programmatically, with spring boot 2.1.5:\r\n\r\n```\r\nimport org.springframework.boot.web.server.WebServerFactoryCustomizer;\r\nimport org.springframework.boot.web.servlet.server.ConfigurableServletWebServerFactory;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class CustomizationBean implements WebServerFactoryCustomizer&lt;ConfigurableServletWebServerFactory&gt; {\r\n\r\n\t@Override\r\n\tpublic void customize(ConfigurableServletWebServerFactory server) {\r\n\t\tserver.setPort(9000);\r\n\t}\r\n\r\n}\r\n```","title":"How to configure port for a Spring Boot application","body":"<p>Programmatically, with spring boot 2.1.5:</p>\n\n<pre><code>import org.springframework.boot.web.server.WebServerFactoryCustomizer;\nimport org.springframework.boot.web.servlet.server.ConfigurableServletWebServerFactory;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class CustomizationBean implements WebServerFactoryCustomizer&lt;ConfigurableServletWebServerFactory&gt; {\n\n    @Override\n    public void customize(ConfigurableServletWebServerFactory server) {\n        server.setPort(9000);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16953369,"reputation":481,"user_id":12262380,"display_name":"VSharma"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1571909866,"creation_date":1571908802,"answer_id":58538147,"question_id":21083170,"body_markdown":"if you are using gradle as the build tool, you can set the server port in your **application.yml** file as:\r\n\r\n    server:\r\n      port: 8291\r\n\r\nIf you are using maven then the port can be set in your **application.properties** file as:\r\n\r\n    server.port: 8291","title":"How to configure port for a Spring Boot application","body":"<p>if you are using gradle as the build tool, you can set the server port in your <strong>application.yml</strong> file as:</p>\n\n<pre><code>server:\n  port: 8291\n</code></pre>\n\n<p>If you are using maven then the port can be set in your <strong>application.properties</strong> file as:</p>\n\n<pre><code>server.port: 8291\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16121915,"reputation":709,"user_id":11637696,"display_name":"Hilal Aissani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586450835,"creation_date":1586450835,"answer_id":61126136,"question_id":21083170,"body_markdown":"in the file application.properties add the following:\r\nserver.port=8888\r\nTHE PROT NEEDED ALWAYS MENTIONED HERE \r\n","title":"How to configure port for a Spring Boot application","body":"<p>in the file application.properties add the following:\nserver.port=8888\nTHE PROT NEEDED ALWAYS MENTIONED HERE </p>\n"},{"tags":[],"owner":{"account_id":15778308,"reputation":1608,"user_id":11385485,"display_name":"Nafaz M N M"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1603884849,"creation_date":1589449585,"answer_id":61794227,"question_id":21083170,"body_markdown":"By default, spring-web module provides an embedded tomcat server that is running under the port number 8080.  If you need to change the port number of the application then go to `application.properties` file and configure the port number by using `server.port` property.\r\n\r\n      server.port= 9876\r\n\r\nthen your application is running under the port 9876. ","title":"How to configure port for a Spring Boot application","body":"<p>By default, spring-web module provides an embedded tomcat server that is running under the port number 8080.  If you need to change the port number of the application then go to <code>application.properties</code> file and configure the port number by using <code>server.port</code> property.</p>\n<pre><code>  server.port= 9876\n</code></pre>\n<p>then your application is running under the port 9876.</p>\n"},{"tags":[],"owner":{"account_id":1710481,"reputation":22873,"user_id":1568658,"accept_rate":82,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1593771136,"creation_date":1593771136,"answer_id":62713218,"question_id":21083170,"body_markdown":"Just set the environment variable `SERVER_PORT`.  \r\n*(The examples works on `Linux`)*\r\n\r\n- Start via **java -jar**:  \r\n  `SERVER_PORT=9093 java -jar target/eric-sc-dummy.jar`\r\n\r\n- Start via **maven spring-boot plugin**:  \r\n  `SERVER_PORT=9093 mvn spring-boot:run`\r\n\r\nTips:\r\n- If you add other sub commands before the `java -jar` or `mvn` command, then you need to add `export` to set env in a separate command, and split them via `;`, to make sure it&#39;s available to sub process.  \r\n  e.g:  \r\n    `export SERVER_PORT=9093; export MAVEN_OPTS=&quot;-Xmx256m -Xms64m&quot;; mvn spring-boot:run`\r\n","title":"How to configure port for a Spring Boot application","body":"<p>Just set the environment variable <code>SERVER_PORT</code>.<br />\n<em>(The examples works on <code>Linux</code>)</em></p>\n<ul>\n<li><p>Start via <strong>java -jar</strong>:<br />\n<code>SERVER_PORT=9093 java -jar target/eric-sc-dummy.jar</code></p>\n</li>\n<li><p>Start via <strong>maven spring-boot plugin</strong>:<br />\n<code>SERVER_PORT=9093 mvn spring-boot:run</code></p>\n</li>\n</ul>\n<p>Tips:</p>\n<ul>\n<li>If you add other sub commands before the <code>java -jar</code> or <code>mvn</code> command, then you need to add <code>export</code> to set env in a separate command, and split them via <code>;</code>, to make sure it's available to sub process.<br />\ne.g:<br />\n<code>export SERVER_PORT=9093; export MAVEN_OPTS=&quot;-Xmx256m -Xms64m&quot;; mvn spring-boot:run</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2726590,"reputation":35,"user_id":2351470,"display_name":"suveer"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1596610422,"creation_date":1596606165,"answer_id":63259079,"question_id":21083170,"body_markdown":"Configure the port details in _Config file_ or application properties.\r\n\r\ne.g.\r\n\r\n    port =8876","title":"How to configure port for a Spring Boot application","body":"<p>Configure the port details in <em>Config file</em> or application properties.</p>\n<p>e.g.</p>\n<pre><code>port =8876\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8808403,"reputation":290,"user_id":6582191,"display_name":"Duleepa Wickramasinghe"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1602911184,"creation_date":1602911184,"answer_id":64399199,"question_id":21083170,"body_markdown":"You can configure the port in the **application.property** file or **application.yaml** file which is in **src/main/resources** . \r\n\r\n**server.port=8080**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2KPiT.png","title":"How to configure port for a Spring Boot application","body":"<p>You can configure the port in the <strong>application.property</strong> file or <strong>application.yaml</strong> file which is in <strong>src/main/resources</strong> .</p>\n<p><strong>server.port=8080</strong></p>\n<p><a href=\"https://i.stack.imgur.com/2KPiT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2KPiT.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":20129703,"reputation":41,"user_id":14762312,"display_name":"Pandiyan MCA"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1607155369,"creation_date":1607140573,"answer_id":65153632,"question_id":21083170,"body_markdown":"Server port declare in two types \r\n\r\n1.static type\r\n\r\n       server.port=8080. // your port number\r\n\r\n2. Dynamic type\r\n\r\n        server.port=0.      // randomly generate port number. \r\n        server.port=${PORT:0}\r\n\r\n","title":"How to configure port for a Spring Boot application","body":"<p>Server port declare in two types</p>\n<p>1.static type</p>\n<pre><code>   server.port=8080. // your port number\n</code></pre>\n<ol start=\"2\">\n<li><p>Dynamic type</p>\n<pre><code> server.port=0.      // randomly generate port number. \n server.port=${PORT:0}\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9608243,"reputation":87,"user_id":7133567,"display_name":"BRAIEK AYEMN"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1611072457,"creation_date":1611072457,"answer_id":65795203,"question_id":21083170,"body_markdown":"put this code in u applicatop.properties file &lt;br&gt;\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ApXmK.png","title":"How to configure port for a Spring Boot application","body":"<p>put this code in u applicatop.properties file <br>\n<a href=\"https://i.stack.imgur.com/ApXmK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ApXmK.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":4651032,"reputation":824,"user_id":3767927,"accept_rate":88,"display_name":"Maske"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611234918,"creation_date":1611234918,"answer_id":65828231,"question_id":21083170,"body_markdown":"If you are use the spring command line interface (CLI) use the `--` to separate commands from the `spring` command arguments, to change the port:\r\n\r\n`spring run hello.groovy -- --server.port=9000`\r\n\r\n[spring-boot cli][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#cli","title":"How to configure port for a Spring Boot application","body":"<p>If you are use the spring command line interface (CLI) use the <code>--</code> to separate commands from the <code>spring</code> command arguments, to change the port:</p>\n<p><code>spring run hello.groovy -- --server.port=9000</code></p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#cli\" rel=\"nofollow noreferrer\">spring-boot cli</a></p>\n"},{"tags":[],"owner":{"account_id":2633442,"reputation":1050,"user_id":2278773,"accept_rate":75,"display_name":"Ady Junior"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1614264535,"creation_date":1614264535,"answer_id":66370832,"question_id":21083170,"body_markdown":"Using mvn shell command line, spring-boot 2:\r\n\r\n    mvn spring-boot:run -Dspring-boot.run.jvmArguments=&#39;-Dserver.port=8085&#39;","title":"How to configure port for a Spring Boot application","body":"<p>Using mvn shell command line, spring-boot 2:</p>\n<pre><code>mvn spring-boot:run -Dspring-boot.run.jvmArguments='-Dserver.port=8085'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10940933,"reputation":571,"user_id":8040821,"display_name":"Ishan Garg"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1621190988,"creation_date":1621190396,"answer_id":67560321,"question_id":21083170,"body_markdown":"By Default Spring-web module provides an embedded tomcat server runs on port number 8080.\r\n\r\n**You can change it as follows -**\r\n\r\nA) If you are using gradle then use can set the property in your application.yml  :\r\n\r\n\r\n     server:  \r\n          port: 8042\r\n\r\nB) If you are using maven&#160;then you can set the property in your application.properties :\r\n\r\n    server.port: 8042\r\n\r\nC) When you have port in your own config file and want to set it during runtime.\r\n\r\n  &#160;By implementing WebServerFactoryCustomizer interface - Spring 2.x\r\n\r\n    @Component\r\n    public class MyTomcatWebServerCustomizer implements WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; {\r\n    \r\n        @Override\r\n        public void customize(TomcatServletWebServerFactory factory) {\r\n            // customize the factory here\r\n            factory.setPort(8042);\r\n        }\r\n    }\r\n\r\n&#160;By Implementing EmbeddedServletContainerCustomizer interface - Spring 1.x\r\n\r\n    @Component\r\n    public class CustomizationBean implements EmbeddedServletContainerCustomizer {\r\n    \r\n        @Override\r\n        public void customize(ConfigurableEmbeddedServletContainer container) {\r\n            // customize here\r\n            container.setPort(8042);\r\n        }\r\n    }","title":"How to configure port for a Spring Boot application","body":"<p>By Default Spring-web module provides an embedded tomcat server runs on port number 8080.</p>\n<p><strong>You can change it as follows -</strong></p>\n<p>A) If you are using gradle then use can set the property in your application.yml  :</p>\n<pre><code> server:  \n      port: 8042\n</code></pre>\n<p>B) If you are using maven then you can set the property in your application.properties :</p>\n<pre><code>server.port: 8042\n</code></pre>\n<p>C) When you have port in your own config file and want to set it during runtime.</p>\n<p> By implementing WebServerFactoryCustomizer interface - Spring 2.x</p>\n<pre><code>@Component\npublic class MyTomcatWebServerCustomizer implements WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; {\n\n    @Override\n    public void customize(TomcatServletWebServerFactory factory) {\n        // customize the factory here\n        factory.setPort(8042);\n    }\n}\n</code></pre>\n<p> By Implementing EmbeddedServletContainerCustomizer interface - Spring 1.x</p>\n<pre><code>@Component\npublic class CustomizationBean implements EmbeddedServletContainerCustomizer {\n\n    @Override\n    public void customize(ConfigurableEmbeddedServletContainer container) {\n        // customize here\n        container.setPort(8042);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5362341,"reputation":688,"user_id":4273204,"accept_rate":0,"display_name":"Akash Verma"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1627840355,"creation_date":1627840355,"answer_id":68613020,"question_id":21083170,"body_markdown":"Via \r\n\r\n&gt; application.properties\r\n&gt;\r\n`server.port = 8082` (or any new port number)\r\n&gt; \r\nvia\r\n&gt; application.yml\r\n\r\n    server\r\n      port: 8082\r\n\r\n","title":"How to configure port for a Spring Boot application","body":"<p>Via</p>\n<blockquote>\n<p>application.properties</p>\n</blockquote>\n<p><code>server.port = 8082</code> (or any new port number)</p>\n<blockquote>\n</blockquote>\n<p>via</p>\n<blockquote>\n<p>application.yml</p>\n</blockquote>\n<pre><code>server\n  port: 8082\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20506220,"reputation":1455,"user_id":15048947,"display_name":"Md. Shahariar Hossen"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1673517588,"creation_date":1647931124,"answer_id":71567809,"question_id":21083170,"body_markdown":"Running by Gradle:\r\n - Run in default port(8080): `./gradlew bootRun`\r\n - Run in provided port(8888): `./gradlew bootRun --args=&#39;--server.port=8888&#39;`\r\n - If we have any variable in the `application.properties` file named `PORT`, run this: `PORT=8888 ./gradlew bootRun`\r\n \r\n\r\nRunning by Maven:\r\n - Run in default port(8080): `mvnw spring-boot:run`\r\n - Run in provided port(8888): `mvnw spring-boot:run -Dspring-boot.run.jvmArguments=&#39;-Dserver.port=8085&#39;`\r\n - Run in provided port(8888): `mvn spring-boot:run -Dspring-boot.run.arguments=&#39;--server.port=8085&#39;`\r\n - Run in provided port(8888) with other custom property: `mvn spring-boot:run -Dspring-boot.run.arguments=&quot;--server.port=8899 --your.custom.property=custom&quot;`\r\n - If we have any variable in the `application.properties` file named `PORT`, run this: `SERVER_PORT=9093 mvn spring-boot:run`\r\n \r\n\r\n\r\nUsing `java -jar`:\r\n- Create the .jar file:\r\n\t- For Gradle: `./gradlew clean build`. We will find the jar file inside: `build/libs/` folder.\r\n\t- For Maven: `mvn clean install`. We will find the jar file inside:`target` folder.\r\n- Run in default port(8080): `java -jar myApplication. jar`\r\n- Run in provided port(8888): `java -jar myApplication.jar --port=8888`\r\n- Run in provided port(8888): `java -jar -Dserver.port=8888  myApplication.jar`\r\n- Run in provided port(8888) having variable `SERVER_PORT` in application.properties file: `SERVER_PORT=8888 java -jar target/myApplication.jar`\r\n","title":"How to configure port for a Spring Boot application","body":"<p>Running by Gradle:</p>\n<ul>\n<li>Run in default port(8080): <code>./gradlew bootRun</code></li>\n<li>Run in provided port(8888): <code>./gradlew bootRun --args='--server.port=8888'</code></li>\n<li>If we have any variable in the <code>application.properties</code> file named <code>PORT</code>, run this: <code>PORT=8888 ./gradlew bootRun</code></li>\n</ul>\n<p>Running by Maven:</p>\n<ul>\n<li>Run in default port(8080): <code>mvnw spring-boot:run</code></li>\n<li>Run in provided port(8888): <code>mvnw spring-boot:run -Dspring-boot.run.jvmArguments='-Dserver.port=8085'</code></li>\n<li>Run in provided port(8888): <code>mvn spring-boot:run -Dspring-boot.run.arguments='--server.port=8085'</code></li>\n<li>Run in provided port(8888) with other custom property: <code>mvn spring-boot:run -Dspring-boot.run.arguments=&quot;--server.port=8899 --your.custom.property=custom&quot;</code></li>\n<li>If we have any variable in the <code>application.properties</code> file named <code>PORT</code>, run this: <code>SERVER_PORT=9093 mvn spring-boot:run</code></li>\n</ul>\n<p>Using <code>java -jar</code>:</p>\n<ul>\n<li>Create the .jar file:\n<ul>\n<li>For Gradle: <code>./gradlew clean build</code>. We will find the jar file inside: <code>build/libs/</code> folder.</li>\n<li>For Maven: <code>mvn clean install</code>. We will find the jar file inside:<code>target</code> folder.</li>\n</ul>\n</li>\n<li>Run in default port(8080): <code>java -jar myApplication. jar</code></li>\n<li>Run in provided port(8888): <code>java -jar myApplication.jar --port=8888</code></li>\n<li>Run in provided port(8888): <code>java -jar -Dserver.port=8888  myApplication.jar</code></li>\n<li>Run in provided port(8888) having variable <code>SERVER_PORT</code> in application.properties file: <code>SERVER_PORT=8888 java -jar target/myApplication.jar</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":24129251,"reputation":124,"user_id":18097074,"display_name":"Santil"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1664819629,"creation_date":1650371375,"answer_id":71924982,"question_id":21083170,"body_markdown":"Open the application.properties file in your spring boot application. And add the below property in the properties file.\r\n\r\n    server.port = 1443\r\n\r\nThis will be working fine and you can set any port number as per your wish.","title":"How to configure port for a Spring Boot application","body":"<p>Open the application.properties file in your spring boot application. And add the below property in the properties file.</p>\n<pre><code>server.port = 1443\n</code></pre>\n<p>This will be working fine and you can set any port number as per your wish.</p>\n"},{"tags":[],"owner":{"account_id":8594459,"reputation":814,"user_id":6437920,"display_name":"Joel Wembo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662983431,"creation_date":1662983431,"answer_id":73688839,"question_id":21083170,"body_markdown":"Aside from adding the port on application.properties, you  can also easily achieve multiple ports for different environments,  by combining the property files approach with Spring profiles. Specifically, we can create a property file for each environment.\r\n\r\nFor example, we&#39;ll have an application-dev.properties file with this content:\r\n\r\n    server.port=8081\r\n\r\nThen you can  add another application-qa.properties file with a different port:\r\n\r\n    server.port=8082","title":"How to configure port for a Spring Boot application","body":"<p>Aside from adding the port on application.properties, you  can also easily achieve multiple ports for different environments,  by combining the property files approach with Spring profiles. Specifically, we can create a property file for each environment.</p>\n<p>For example, we'll have an application-dev.properties file with this content:</p>\n<pre><code>server.port=8081\n</code></pre>\n<p>Then you can  add another application-qa.properties file with a different port:</p>\n<pre><code>server.port=8082\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9792962,"reputation":168,"user_id":7256972,"display_name":"Soumen Ghosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666246712,"creation_date":1666242969,"answer_id":74134746,"question_id":21083170,"body_markdown":"Many parameters including server port can be changed in multiple ways. However there is an order of precedence as outlined below:\r\n\r\n1. First precedence is assigned to custom code like below:\r\n\r\n&lt;code&gt;\r\n@Component\r\npublic class CustomConfiguration implements WebServerFactoryCustomizer&lt;ConfigurableServletWebServerFactory&gt; {\r\n    @Override\r\n    public void customize(ConfigurableServletWebServerFactory factory) {\r\n        factory.setPort(9090);\t\t\r\n    }\r\n}\r\n&lt;/code&gt;\r\n\r\nHere we are setting server port as 9090 which is hard coded in the code. To avoid hardcoding, we can assign a value from environment using @Value annotation in a bean class and the use it here.\r\n\r\n2. Second precedence is assigned to command line arguments like below:\r\n\r\n   java -jar target/spring-boot-0.0.1-SNAPSHOT.jar **--server.port=8092**\r\n\r\nHere we are telling the server to start listening at 8092. Note if we use both the above approaches together, it will ignore command line argument as custom code is given the first precedence.\r\n\r\n3. Third precedence is assigned to OS environment variable. If none of the above two approaches is taken up, Spring will take server port from environment property. In case of deployment on Kubernetes, a property set under env section in Deployment yaml will be used.\r\n\r\n4. Fourth precedence is assigned to profile specific application.properties file.\r\n\r\n5. Fifth precedence is assigned to value assigned in application.properties file (which by default Spring Boot tries to find src/main/resources/config, if not found, then tries to find under src/main/resources).\r\n\r\nMost manageable and useful approach can be combination of first and third approach. You can use an environment property and use that custom code.\r\n\r\nSample code:\r\n\r\n&lt;code&gt;\r\n\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.stereotype.Component;\r\n    @Component\r\n    public class EnvironmentCustomizer {\r\n        @Value(&quot;${server.port}&quot;)\r\n        private int serverPort;\r\n        public void setServerPort(int serverPort) {\r\n            this.serverPort = serverPort;\r\n        }\r\n        public int getServerPort() {\r\n            return serverPort;\r\n        }\r\n    }\r\n\r\n&lt;/code&gt;\r\n&lt;code&gt;\r\n\r\n    @Configuration\r\n    public class CustomConfiguration\r\n    {\r\n        @Autowired\r\n        EnvironmentCustomizer envCustomizer;\r\n        @Bean\r\n        WebServerFactoryCustomizer&lt;ConfigurableServletWebServerFactory&gt; webServerPortCustomizer() {\r\n        return factory -&gt; factory.setPort(envCustomizer.getServerPort());\r\n        }\r\n    }\r\n\r\n&lt;/code&gt;\r\n\r\n","title":"How to configure port for a Spring Boot application","body":"<p>Many parameters including server port can be changed in multiple ways. However there is an order of precedence as outlined below:</p>\n<ol>\n<li>First precedence is assigned to custom code like below:</li>\n</ol>\n<code>\n@Component\npublic class CustomConfiguration implements WebServerFactoryCustomizer {\n    @Override\n    public void customize(ConfigurableServletWebServerFactory factory) {\n        factory.setPort(9090);      \n    }\n}\n</code>\n<p>Here we are setting server port as 9090 which is hard coded in the code. To avoid hardcoding, we can assign a value from environment using @Value annotation in a bean class and the use it here.</p>\n<ol start=\"2\">\n<li><p>Second precedence is assigned to command line arguments like below:</p>\n<p>java -jar target/spring-boot-0.0.1-SNAPSHOT.jar <strong>--server.port=8092</strong></p>\n</li>\n</ol>\n<p>Here we are telling the server to start listening at 8092. Note if we use both the above approaches together, it will ignore command line argument as custom code is given the first precedence.</p>\n<ol start=\"3\">\n<li><p>Third precedence is assigned to OS environment variable. If none of the above two approaches is taken up, Spring will take server port from environment property. In case of deployment on Kubernetes, a property set under env section in Deployment yaml will be used.</p>\n</li>\n<li><p>Fourth precedence is assigned to profile specific application.properties file.</p>\n</li>\n<li><p>Fifth precedence is assigned to value assigned in application.properties file (which by default Spring Boot tries to find src/main/resources/config, if not found, then tries to find under src/main/resources).</p>\n</li>\n</ol>\n<p>Most manageable and useful approach can be combination of first and third approach. You can use an environment property and use that custom code.</p>\n<p>Sample code:</p>\n<code>\n<pre><code>import org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Component;\n@Component\npublic class EnvironmentCustomizer {\n    @Value(&quot;${server.port}&quot;)\n    private int serverPort;\n    public void setServerPort(int serverPort) {\n        this.serverPort = serverPort;\n    }\n    public int getServerPort() {\n        return serverPort;\n    }\n}\n</code></pre>\n</code>\n<code>\n<pre><code>@Configuration\npublic class CustomConfiguration\n{\n    @Autowired\n    EnvironmentCustomizer envCustomizer;\n    @Bean\n    WebServerFactoryCustomizer&lt;ConfigurableServletWebServerFactory&gt; webServerPortCustomizer() {\n    return factory -&gt; factory.setPort(envCustomizer.getServerPort());\n    }\n}\n</code></pre>\n</code>\n"},{"tags":[],"owner":{"account_id":2520844,"reputation":4665,"user_id":2191256,"display_name":"vilpe89"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692727323,"creation_date":1692727323,"answer_id":76955833,"question_id":21083170,"body_markdown":"Here&#39;s a Kotlin approach for setting the port in code:\r\n\r\n\r\n    fun main(args: Array&lt;String&gt;) {\r\n\t\trunApplication&lt;TestApplication&gt;(*args) {\r\n\t\t\tsetDefaultProperties(mapOf(\r\n\t\t\t\t&quot;server.port&quot; to 8081\r\n\t\t\t))\r\n\t\t}\r\n\t}","title":"How to configure port for a Spring Boot application","body":"<p>Here's a Kotlin approach for setting the port in code:</p>\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    runApplication&lt;TestApplication&gt;(*args) {\n        setDefaultProperties(mapOf(\n            &quot;server.port&quot; to 8081\n        ))\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21019961,"reputation":11,"user_id":15446532,"display_name":"M Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694755021,"creation_date":1694755021,"answer_id":77109784,"question_id":21083170,"body_markdown":"Just go to application.properties file and give custom port name i.e., server.port=8081","title":"How to configure port for a Spring Boot application","body":"<p>Just go to application.properties file and give custom port name i.e., server.port=8081</p>\n"},{"tags":[],"owner":{"account_id":25974568,"reputation":56,"user_id":19689190,"display_name":"Amar kumar Nayak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701371243,"creation_date":1701371243,"answer_id":77581092,"question_id":21083170,"body_markdown":"Using application.properties:\r\n\r\nCreate or open the application.properties file in your Spring Boot project&#39;s src/main/resources directory if it doesn&#39;t already exist.\r\n\r\nAdd the following line to specify the desired port (e.g., 8080):\r\n\r\n\r\nserver.port=8080\r\n\r\nReplace 8080 with the port number you want to use.\r\n\r\nSave the application.properties file and Start the Application.[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/U7Yg1.png","title":"How to configure port for a Spring Boot application","body":"<p>Using application.properties:</p>\n<p>Create or open the application.properties file in your Spring Boot project's src/main/resources directory if it doesn't already exist.</p>\n<p>Add the following line to specify the desired port (e.g., 8080):</p>\n<p>server.port=8080</p>\n<p>Replace 8080 with the port number you want to use.</p>\n<p>Save the application.properties file and Start the Application.<a href=\"https://i.stack.imgur.com/U7Yg1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U7Yg1.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1093115,"favorite_count":0,"down_vote_count":1,"up_vote_count":1061,"accepted_answer_id":21083284,"answer_count":64,"score":1060,"last_activity_date":1701371243,"creation_date":1389581987,"question_id":21083170,"body_markdown":"How do I configure the TCP/IP port listened on by a Spring Boot application, so it does not use the default port of 8080.","title":"How to configure port for a Spring Boot application","body":"<p>How do I configure the TCP/IP port listened on by a Spring Boot application, so it does not use the default port of 8080.</p>\n"},{"tags":["javascript","java","gwt","jsni"],"answers":[{"tags":[],"owner":{"account_id":459879,"reputation":17931,"user_id":860630,"display_name":"Colin Alworth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701370850,"creation_date":1701370850,"answer_id":77581055,"question_id":77560443,"body_markdown":"First, obligatory &quot;Don&#39;t use JSNI for new code&quot; - unless you project relies on an ancient GWT build, this is easier in JsInterop. First, define (or reuse) a `@JsFunction` interface that describes the contract for JS to call into Java, make a global field that you can assign this to, and then export your instance method in vanilla java:\r\n\r\n```\r\n/** Like Runnable, but no default methods, and has {@link JsFunction}. */\r\n@JsFunction\r\npublic interface JsRunnable {\r\n  void run(); // your example has no params and no return type, so this fits\r\n}\r\n\r\npublic static void loadJS() {\r\n  JsRunnable lambda = this::doThing; // bug is clear in java!\r\n\r\n  // Assign as a new property on window\r\n  Js.asPropertyMap(DomGlobal.window).set(&quot;doThing&quot;, lambda);\r\n}\r\n\r\npublic void doThing() {\r\n  System.out.println(&quot;do thing&quot;);\r\n}\r\n```\r\n\r\nNote that the translation of loadJS makes it clear why your JSNI isn&#39;t working (more on that in a moment) - Java will complain if you try to use `this`, since `loadJS()` is static and has no `this`! But, you&#39;re calling `loadJS()` from inside the constructor, you could pass the instance as an argument, or make `loadJS()` non-static. \r\n\r\n---\r\n\r\nFrom your question\r\n```java\r\n    public static native void loadJS() /*-{\r\n        var that = this; // Where should &quot;this&quot; come from?\r\n        $wnd.doThing = $entry(function() {\r\n            that.@package.StartView::doThing()();\r\n        });\r\n    }-*/;\r\n```\r\nAs this is a `static` method, there is no `this` (okay, in JS there _is_ a `this`, but it isn&#39;t the `StartView`, it is something else entirely). Since `doThing` is a non-`static` method, there is no clear way to say which `StartView` instance you want to have `doThing()` called on. \r\n\r\nThe simplest answer then is to remove `static` from that method, so that `this` is correctly captured, as you intended. Another choice could be to pass in a `StartView` instance to `loadJS` and call doThing on that instance.\r\n\r\nThe error you&#39;re getting is almost certainly that `this` turns out to be `window`, and the `@package.StartView::doThing()` reference represents some obfuscated method name that doesn&#39;t exist on window, which makes sense, since you intended `this` to be a `StartView` instance.","title":"GWT JSNI - JavaScriptException TypeError - method is not a function","body":"<p>First, obligatory &quot;Don't use JSNI for new code&quot; - unless you project relies on an ancient GWT build, this is easier in JsInterop. First, define (or reuse) a <code>@JsFunction</code> interface that describes the contract for JS to call into Java, make a global field that you can assign this to, and then export your instance method in vanilla java:</p>\n<pre><code>/** Like Runnable, but no default methods, and has {@link JsFunction}. */\n@JsFunction\npublic interface JsRunnable {\n  void run(); // your example has no params and no return type, so this fits\n}\n\npublic static void loadJS() {\n  JsRunnable lambda = this::doThing; // bug is clear in java!\n\n  // Assign as a new property on window\n  Js.asPropertyMap(DomGlobal.window).set(&quot;doThing&quot;, lambda);\n}\n\npublic void doThing() {\n  System.out.println(&quot;do thing&quot;);\n}\n</code></pre>\n<p>Note that the translation of loadJS makes it clear why your JSNI isn't working (more on that in a moment) - Java will complain if you try to use <code>this</code>, since <code>loadJS()</code> is static and has no <code>this</code>! But, you're calling <code>loadJS()</code> from inside the constructor, you could pass the instance as an argument, or make <code>loadJS()</code> non-static.</p>\n<hr />\n<p>From your question</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static native void loadJS() /*-{\n        var that = this; // Where should &quot;this&quot; come from?\n        $wnd.doThing = $entry(function() {\n            that.@package.StartView::doThing()();\n        });\n    }-*/;\n</code></pre>\n<p>As this is a <code>static</code> method, there is no <code>this</code> (okay, in JS there <em>is</em> a <code>this</code>, but it isn't the <code>StartView</code>, it is something else entirely). Since <code>doThing</code> is a non-<code>static</code> method, there is no clear way to say which <code>StartView</code> instance you want to have <code>doThing()</code> called on.</p>\n<p>The simplest answer then is to remove <code>static</code> from that method, so that <code>this</code> is correctly captured, as you intended. Another choice could be to pass in a <code>StartView</code> instance to <code>loadJS</code> and call doThing on that instance.</p>\n<p>The error you're getting is almost certainly that <code>this</code> turns out to be <code>window</code>, and the <code>@package.StartView::doThing()</code> reference represents some obfuscated method name that doesn't exist on window, which makes sense, since you intended <code>this</code> to be a <code>StartView</code> instance.</p>\n"}],"owner":{"account_id":2376154,"reputation":322,"user_id":2079439,"accept_rate":92,"display_name":"scoots"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77581055,"answer_count":1,"score":0,"last_activity_date":1701370850,"creation_date":1701126133,"question_id":77560443,"body_markdown":"I want to be able to call a method declared in my `StartView` class from the `onclick` event in Javascript. I am following the official GWT documentation, but am still getting a `JavaScriptException TypeError - doThing is not a function` error in the console. I have reviewed other similar questions here on SO and have not found a solution as of yet. I have attempted to implement a solution in JSNI and JSInterop - and what I have below is the furthest I have gotten past GWT compilation errors. \r\n\r\nStartView.java - I call `StartView.loadJS()` when `StartView` is initialized \r\n```\r\n    public void doThing() {\r\n        System.out.println(&quot;do thing&quot;);\r\n    }\r\n\r\n    public static native void loadJS() /*-{\r\n        var that = this;\r\n        $wnd.doThing = $entry(function() {\r\n            that.@package.StartView::doThing()();\r\n        });\r\n    }-*/;\r\n```\r\n\r\nstart.js (External js file, Injected into StartView via ScriptInjector. Other methods use  JSInterop) \r\n```\r\n...\r\n// Inside of my onclick handler\r\n window.doThing();\r\n```\r\n\r\nWhen I click the element, I get the following error in the console:\r\n```\r\nException: com.google.gwt.core.client.JavaScriptException: (TypeError) : that_0_g$.doThing_0_g$ is not a function \r\n``` \r\n\r\nWhen I put `window.doThing` in the console, it does return the function - so it does appear to be loading the connector, but is having trouble finding the actual method to call. Curious what else I am missing. Would appreciate any advice.","title":"GWT JSNI - JavaScriptException TypeError - method is not a function","body":"<p>I want to be able to call a method declared in my <code>StartView</code> class from the <code>onclick</code> event in Javascript. I am following the official GWT documentation, but am still getting a <code>JavaScriptException TypeError - doThing is not a function</code> error in the console. I have reviewed other similar questions here on SO and have not found a solution as of yet. I have attempted to implement a solution in JSNI and JSInterop - and what I have below is the furthest I have gotten past GWT compilation errors.</p>\n<p>StartView.java - I call <code>StartView.loadJS()</code> when <code>StartView</code> is initialized</p>\n<pre><code>    public void doThing() {\n        System.out.println(&quot;do thing&quot;);\n    }\n\n    public static native void loadJS() /*-{\n        var that = this;\n        $wnd.doThing = $entry(function() {\n            that.@package.StartView::doThing()();\n        });\n    }-*/;\n</code></pre>\n<p>start.js (External js file, Injected into StartView via ScriptInjector. Other methods use  JSInterop)</p>\n<pre><code>...\n// Inside of my onclick handler\n window.doThing();\n</code></pre>\n<p>When I click the element, I get the following error in the console:</p>\n<pre><code>Exception: com.google.gwt.core.client.JavaScriptException: (TypeError) : that_0_g$.doThing_0_g$ is not a function \n</code></pre>\n<p>When I put <code>window.doThing</code> in the console, it does return the function - so it does appear to be loading the connector, but is having trouble finding the actual method to call. Curious what else I am missing. Would appreciate any advice.</p>\n"},{"tags":["java","random","colors","graphics","awt"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":1,"creation_date":1701332624,"post_id":77576590,"comment_id":136763205,"body_markdown":"I don&#39;t see either a java.awt.Graphics (or the Graphics2D) reference for painting or a method obtaining one from a circle class that it should have binding to. Neither is there a repaint() method call or a paint() overriden method in the code ! After you command a visual change to anything you must repaint()","body":"I don&#39;t see either a java.awt.Graphics (or the Graphics2D) reference for painting or a method obtaining one from a circle class that it should have binding to. Neither is there a repaint() method call or a paint() overriden method in the code ! After you command a visual change to anything you must repaint()"}],"owner":{"account_id":30029091,"reputation":1,"user_id":23012586,"display_name":"Davit Khakhiashvili"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701370605,"creation_date":1701329272,"question_id":77576590,"body_markdown":"The problem is asking me to spawn a circle on the canvas with a click. This part works fine. The next part is if I click a circle it needs to keep switching to random colors from: green, yellow, black, red, blue until the color is green. The code I wrote kinda does change the color but the change doesn&#39;t appear visually.\r\n\r\n    import java.awt.Color;\r\n    import java.awt.event.MouseEvent;\r\n    \r\n    import acm.graphics.*;\r\n    import acm.program.GraphicsProgram;\r\n    import acm.util.RandomGenerator;\r\n\r\n    public class VAR4N5 extends GraphicsProgram {\r\n\r\n        private RandomGenerator rgen = RandomGenerator.getInstance();\r\n    \r\n        private final static int CIRCLE_D = 40;\r\n        private final static int DELAY = 50;\r\n    \r\n        private GOval clickedCircle = null;\r\n    \r\n        public void run() {\r\n    \t    addMouseListeners();\r\n        }\r\n    \r\n        public void mouseClicked(MouseEvent e) {\r\n    \t    if (getElementAt(e.getX(), e.getY()) == null) {\r\n    \t\t    drawCircle(e.getX(), e.getY());\r\n    \t    } else {\r\n    \t\t    clickedCircle = (GOval) getElementAt(e.getX(), e.getY());\r\n    \t\t    changeColor();\r\n    \t    }\r\n        }\r\n    \r\n        private void drawCircle(double xClick, double yClick) {\r\n    \t    double x = xClick - CIRCLE_D / 2.0;\r\n    \t    double y = yClick - CIRCLE_D / 2.0;\r\n    \t    GOval circle = new GOval(CIRCLE_D, CIRCLE_D);\r\n    \t    circle.setFilled(true);\r\n    \t    circle.setFillColor(rgen.nextColor());\r\n    \t    add(circle, x, y);\r\n        }\r\n    \r\n        private void changeColor() {\r\n    \t    int randomNum = 0;\r\n    \t    while (true) {\r\n    \t\t    randomNum = rgen.nextInt(1, 5);\r\n    \t\t    if (randomNum == 1) {\r\n    \t\t\t    clickedCircle.setFillColor(Color.GREEN);\r\n    \t\t\t    break;\r\n    \t\t    }\r\n    \t\t    if (randomNum == 2) {\r\n    \t\t\t    clickedCircle.setFillColor(Color.BLACK);\r\n    \t\t    }\r\n    \t\t    if (randomNum == 3) {\r\n    \t\t\t    clickedCircle.setFillColor(Color.YELLOW);\r\n    \t\t    }\r\n    \t\t    if (randomNum == 4) {\r\n    \t\t\t    clickedCircle.setFillColor(Color.RED);\r\n    \t\t    }\r\n    \t\t    if (randomNum == 5) {\r\n    \t\t\t    clickedCircle.setFillColor(Color.BLUE);\r\n    \t\t    }\r\n    \t\t    clickedCircle.setLocation(clickedCircle.getX(), clickedCircle.getY());\r\n    \t\t    pause(DELAY);\r\n    \t    }\r\n        }\r\n\r\n    }\r\n","title":"not changing colors in java GraphicsProgram","body":"<p>The problem is asking me to spawn a circle on the canvas with a click. This part works fine. The next part is if I click a circle it needs to keep switching to random colors from: green, yellow, black, red, blue until the color is green. The code I wrote kinda does change the color but the change doesn't appear visually.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.event.MouseEvent;\n\nimport acm.graphics.*;\nimport acm.program.GraphicsProgram;\nimport acm.util.RandomGenerator;\n\npublic class VAR4N5 extends GraphicsProgram {\n\n    private RandomGenerator rgen = RandomGenerator.getInstance();\n\n    private final static int CIRCLE_D = 40;\n    private final static int DELAY = 50;\n\n    private GOval clickedCircle = null;\n\n    public void run() {\n        addMouseListeners();\n    }\n\n    public void mouseClicked(MouseEvent e) {\n        if (getElementAt(e.getX(), e.getY()) == null) {\n            drawCircle(e.getX(), e.getY());\n        } else {\n            clickedCircle = (GOval) getElementAt(e.getX(), e.getY());\n            changeColor();\n        }\n    }\n\n    private void drawCircle(double xClick, double yClick) {\n        double x = xClick - CIRCLE_D / 2.0;\n        double y = yClick - CIRCLE_D / 2.0;\n        GOval circle = new GOval(CIRCLE_D, CIRCLE_D);\n        circle.setFilled(true);\n        circle.setFillColor(rgen.nextColor());\n        add(circle, x, y);\n    }\n\n    private void changeColor() {\n        int randomNum = 0;\n        while (true) {\n            randomNum = rgen.nextInt(1, 5);\n            if (randomNum == 1) {\n                clickedCircle.setFillColor(Color.GREEN);\n                break;\n            }\n            if (randomNum == 2) {\n                clickedCircle.setFillColor(Color.BLACK);\n            }\n            if (randomNum == 3) {\n                clickedCircle.setFillColor(Color.YELLOW);\n            }\n            if (randomNum == 4) {\n                clickedCircle.setFillColor(Color.RED);\n            }\n            if (randomNum == 5) {\n                clickedCircle.setFillColor(Color.BLUE);\n            }\n            clickedCircle.setLocation(clickedCircle.getX(), clickedCircle.getY());\n            pause(DELAY);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","return","try-catch"],"comments":[{"owner":{"account_id":4284874,"reputation":835,"user_id":3503018,"accept_rate":38,"display_name":"soufrk"},"score":4,"creation_date":1529997412,"post_id":51036912,"comment_id":89065591,"body_markdown":"That is why it is a bad design to have `return` inside `try-catch` or `try-catch-finally`. Consider [this](https://stackoverflow.com/questions/15225819/try-catch-finally-return-clarification) question as well.","body":"That is why it is a bad design to have <code>return</code> inside <code>try-catch</code> or <code>try-catch-finally</code>. Consider <a href=\"https://stackoverflow.com/questions/15225819/try-catch-finally-return-clarification\">this</a> question as well."},{"owner":{"account_id":3557648,"reputation":8235,"user_id":2970960,"accept_rate":43,"display_name":"Jai"},"score":12,"creation_date":1529997806,"post_id":51036912,"comment_id":89065778,"body_markdown":"IMO, it&#39;s perfectly fine and normal to return in `try` block, but you need to make sure you also return something in *all* the `catch` blocks. Other than that, just take note of what [Bathsheba mentioned](https://stackoverflow.com/a/51036958/2970960). This is essentially the same debate on single exit point - whether it is bad to return in an `if` block.","body":"IMO, it&#39;s perfectly fine and normal to return in <code>try</code> block, but you need to make sure you also return something in <i>all</i> the <code>catch</code> blocks. Other than that, just take note of what <a href=\"https://stackoverflow.com/a/51036958/2970960\">Bathsheba mentioned</a>. This is essentially the same debate on single exit point - whether it is bad to return in an <code>if</code> block."},{"owner":{"account_id":1475,"reputation":533744,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":10,"creation_date":1530008817,"post_id":51036912,"comment_id":89072265,"body_markdown":"@soufrk No, it’s patently not bad design. If you return something which is scoped inside the `try` block, by all means, return from inside `try`. *Do not* widen the scope of the variable you want to return. *That* would be bad design (keep scopes as small as possible).","body":"@soufrk No, it’s patently not bad design. If you return something which is scoped inside the <code>try</code> block, by all means, return from inside <code>try</code>. <i>Do not</i> widen the scope of the variable you want to return. <i>That</i> would be bad design (keep scopes as small as possible)."},{"owner":{"account_id":5803006,"reputation":1066,"user_id":4576607,"display_name":"CodeMonkey123"},"score":2,"creation_date":1530022769,"post_id":51036912,"comment_id":89081420,"body_markdown":"Possible duplicate of [Try-catch-finally-return clarification](https://stackoverflow.com/questions/15225819/try-catch-finally-return-clarification)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/15225819/try-catch-finally-return-clarification\">Try-catch-finally-return clarification</a>"},{"owner":{"account_id":1890249,"reputation":1366,"user_id":1708543,"accept_rate":50,"display_name":"JimmyJames"},"score":1,"creation_date":1530022788,"post_id":51036912,"comment_id":89081432,"body_markdown":"@soufrk If you don&#39;t return from try or catch, it finally statement is useless.  That&#39;s why it exists, so Java doesn&#39;t need `goto` for cleanup.  I can&#39;t think of a good reason to return from finally though.  I think that was a mistake in the language design to allow that.","body":"@soufrk If you don&#39;t return from try or catch, it finally statement is useless.  That&#39;s why it exists, so Java doesn&#39;t need <code>goto</code> for cleanup.  I can&#39;t think of a good reason to return from finally though.  I think that was a mistake in the language design to allow that."}],"answers":[{"tags":[],"owner":{"account_id":2764833,"reputation":232372,"user_id":2380830,"accept_rate":89,"display_name":"Bathsheba"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1530034904,"creation_date":1529997278,"answer_id":51036958,"question_id":51036912,"body_markdown":"Yes, it&#39;s confusing.\r\n\r\nIn Java, *all* program control paths of a non-`void` function *must* finish with a `return`, or throw an exception. That&#39;s the rule put nice and simply.\r\n\r\nBut, in an abomination, Java allows you to put an *extra* `return` in a `finally` block, which overrides any previously encountered `return`:\r\n\r\n    try {\r\n        return foo; // This is evaluated...\r\n    } finally {\r\n        return bar; // ...and so is this one, and the previous `return` is discarded\r\n    }\r\n\r\n","title":"How does return work in try, catch, finally in Java?","body":"<p>Yes, it's confusing.</p>\n\n<p>In Java, <em>all</em> program control paths of a non-<code>void</code> function <em>must</em> finish with a <code>return</code>, or throw an exception. That's the rule put nice and simply.</p>\n\n<p>But, in an abomination, Java allows you to put an <em>extra</em> <code>return</code> in a <code>finally</code> block, which overrides any previously encountered <code>return</code>:</p>\n\n<pre><code>try {\n    return foo; // This is evaluated...\n} finally {\n    return bar; // ...and so is this one, and the previous `return` is discarded\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1529997539,"creation_date":1529997539,"answer_id":51037042,"question_id":51036912,"body_markdown":"I think this is what you&#39;re asking:\r\n\r\n&gt; And if I have try, catch, finally I can&#39;t put return in the try block.\r\n\r\nSo if you add a `catch` block, you can&#39;t put a `return` in the try block.\r\n\r\nThe problem is that if you add a `catch` then control **drops through** and you need a `return` at the end of the method or it&#39;s a syntax error.  I haven&#39;t tested this but I assume you *could* put a `return` in the `try` block, but you would also have to add one inside the `catch` or at then end of the method as you have now.","title":"How does return work in try, catch, finally in Java?","body":"<p>I think this is what you're asking:</p>\n\n<blockquote>\n  <p>And if I have try, catch, finally I can't put return in the try block.</p>\n</blockquote>\n\n<p>So if you add a <code>catch</code> block, you can't put a <code>return</code> in the try block.</p>\n\n<p>The problem is that if you add a <code>catch</code> then control <strong>drops through</strong> and you need a <code>return</code> at the end of the method or it's a syntax error.  I haven't tested this but I assume you <em>could</em> put a <code>return</code> in the <code>try</code> block, but you would also have to add one inside the <code>catch</code> or at then end of the method as you have now.</p>\n"},{"tags":[],"owner":{"account_id":9454909,"reputation":1,"user_id":7030508,"display_name":"Anupama"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1530023135,"creation_date":1529999672,"answer_id":51037708,"question_id":51036912,"body_markdown":"In the second example, if the checked exception occurs then it hands over to calling a method.\r\n\r\nIn the first example, if the checked exception occurs then it handles in the same method, as catch block take the responsibility to handle the exception.\r\n\r\n**if you write return statement in catch block then it works.**  \r\ni.e,\r\n\r\n    try{  \r\n        return ..  \r\n    }catch(Exception e){  \r\n        return ..  \r\n    }finally{  \r\n    }\r\n\r\nBut it is not good programming practice.","title":"How does return work in try, catch, finally in Java?","body":"<p>In the second example, if the checked exception occurs then it hands over to calling a method.</p>\n\n<p>In the first example, if the checked exception occurs then it handles in the same method, as catch block take the responsibility to handle the exception.</p>\n\n<p><strong>if you write return statement in catch block then it works.</strong><br>\ni.e,</p>\n\n<pre><code>try{  \n    return ..  \n}catch(Exception e){  \n    return ..  \n}finally{  \n}\n</code></pre>\n\n<p>But it is not good programming practice.</p>\n"},{"tags":[],"owner":{"display_name":"user8235810"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530014534,"creation_date":1530001939,"answer_id":51038355,"question_id":51036912,"body_markdown":"This is normal program flow when exception handling is involved. Having catch block in the code creates a case where code path can directly jump in to catch block. This defeats the mandate of having return statement in the method which returns something. It is possible that return statement may not get executed if exception occurs, hence compiler throws error. So to avoid this issue, you need at least 1 more return statement in a method. \r\n\r\nIf you have added a return statement in try-finally block and you dont have catch block, it is ok. There is no case of abnormal code path here.\r\n\r\nIf you have added a return statement in try block and you have catch block, then you can either add return in catch block or at the end of method. \r\n\r\nIf you have added a return statement in try block and you have catch block and finally block, then you can either add return in catch block or at the end of method. You can also choose to add return in finally block. If you are using eclipse, it will generate a warning which can be suppressed using below above method definition - \r\n\r\n    @SuppressWarnings(&quot;finally&quot;)\r\n\r\n","title":"How does return work in try, catch, finally in Java?","body":"<p>This is normal program flow when exception handling is involved. Having catch block in the code creates a case where code path can directly jump in to catch block. This defeats the mandate of having return statement in the method which returns something. It is possible that return statement may not get executed if exception occurs, hence compiler throws error. So to avoid this issue, you need at least 1 more return statement in a method. </p>\n\n<p>If you have added a return statement in try-finally block and you dont have catch block, it is ok. There is no case of abnormal code path here.</p>\n\n<p>If you have added a return statement in try block and you have catch block, then you can either add return in catch block or at the end of method. </p>\n\n<p>If you have added a return statement in try block and you have catch block and finally block, then you can either add return in catch block or at the end of method. You can also choose to add return in finally block. If you are using eclipse, it will generate a warning which can be suppressed using below above method definition - </p>\n\n<pre><code>@SuppressWarnings(\"finally\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1475,"reputation":533744,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1530009656,"creation_date":1530009656,"answer_id":51040881,"question_id":51036912,"body_markdown":"&gt; And if I have try, catch, finally I can&#39;t put return in the try block. \r\n\r\nYou absolutely can. You just need to make sure that every control path in your method is terminated properly. By that I mean: every execution path through your method either ends in a `return`, or in a `throw`.\r\n\r\nFor instance, the following works:\r\n\r\n    int foo() throws Exception { … }\r\n\r\n    int bar() throws Exception {\r\n        try {\r\n            final int i = foo();\r\n            return i;\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n            throw e;\r\n        } finally {\r\n            System.out.println(&quot;finally&quot;);\r\n        }\r\n    }\r\n\r\nHere, you’ve got two possible execution paths:\r\n\r\n1. `final int i = foo()`\r\n1. either\r\n  1. `System.out.println(&quot;finally&quot;)`\r\n  1. `return i`\r\n1. or\r\n  1. `System.out.println(e)`\r\n  1. `System.out.println(&quot;finally&quot;)`\r\n  1. `throw e`\r\n\r\nPath (1, 2) is taken if no exception is thrown by `foo`. Path (1, 3) is taken if an exception is thrown. Note how, in both cases, the `finally` block is executed *before* the method is left.","title":"How does return work in try, catch, finally in Java?","body":"<blockquote>\n  <p>And if I have try, catch, finally I can't put return in the try block. </p>\n</blockquote>\n\n<p>You absolutely can. You just need to make sure that every control path in your method is terminated properly. By that I mean: every execution path through your method either ends in a <code>return</code>, or in a <code>throw</code>.</p>\n\n<p>For instance, the following works:</p>\n\n<pre><code>int foo() throws Exception { … }\n\nint bar() throws Exception {\n    try {\n        final int i = foo();\n        return i;\n    } catch (Exception e) {\n        System.out.println(e);\n        throw e;\n    } finally {\n        System.out.println(\"finally\");\n    }\n}\n</code></pre>\n\n<p>Here, you’ve got two possible execution paths:</p>\n\n<ol>\n<li><code>final int i = foo()</code></li>\n<li>either\n\n<ol>\n<li><code>System.out.println(\"finally\")</code></li>\n<li><code>return i</code></li>\n</ol></li>\n<li>or\n\n<ol>\n<li><code>System.out.println(e)</code></li>\n<li><code>System.out.println(\"finally\")</code></li>\n<li><code>throw e</code></li>\n</ol></li>\n</ol>\n\n<p>Path (1, 2) is taken if no exception is thrown by <code>foo</code>. Path (1, 3) is taken if an exception is thrown. Note how, in both cases, the <code>finally</code> block is executed <em>before</em> the method is left.</p>\n"},{"tags":[],"owner":{"account_id":8594459,"reputation":814,"user_id":6437920,"display_name":"Joel Wembo"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1530034973,"creation_date":1530017724,"answer_id":51043492,"question_id":51036912,"body_markdown":"When using a public functions other than void functions, you should return something or your function won&#39;t.\r\n","title":"How does return work in try, catch, finally in Java?","body":"<p>When using a public functions other than void functions, you should return something or your function won't.</p>\n"},{"tags":[],"owner":{"account_id":8426753,"reputation":511,"user_id":6323724,"display_name":"pramesh"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1530424569,"creation_date":1530424569,"answer_id":51120782,"question_id":51036912,"body_markdown":"**Finally** block will always execute even if we caught the exception in **catch block** or even our **try block** executed as expected.\r\n\r\nso when does finally block will be execute with in the flow...\r\n\r\nif we have **return** statement inside the **try/catch block** then before executing the return statement **finally block** will be executed (like as for closing the connection or I/O)\r\n\r\n    function returnType process() {\r\n      try {\r\n          // some other statements\r\n          // before returning someValue, finally block will be executed\r\n          return someValue;\r\n      } catch(Exception ex) {\r\n         // some error logger statements\r\n         // before returning someError, finally block will be executed\r\n         return someError;\r\n      } finally {\r\n        // some connection/IO closing statements\r\n        // if we have return inside the finally block\r\n        // then it will override the return statement of try/catch block\r\n        return overrideTryCatchValue;\r\n      }\r\n    }\r\n\r\nbut if you have **return** statement inside the **finally statement** then it will **override the return statement** inside the try or catch block.","title":"How does return work in try, catch, finally in Java?","body":"<p><strong>Finally</strong> block will always execute even if we caught the exception in <strong>catch block</strong> or even our <strong>try block</strong> executed as expected.</p>\n\n<p>so when does finally block will be execute with in the flow...</p>\n\n<p>if we have <strong>return</strong> statement inside the <strong>try/catch block</strong> then before executing the return statement <strong>finally block</strong> will be executed (like as for closing the connection or I/O)</p>\n\n<pre><code>function returnType process() {\n  try {\n      // some other statements\n      // before returning someValue, finally block will be executed\n      return someValue;\n  } catch(Exception ex) {\n     // some error logger statements\n     // before returning someError, finally block will be executed\n     return someError;\n  } finally {\n    // some connection/IO closing statements\n    // if we have return inside the finally block\n    // then it will override the return statement of try/catch block\n    return overrideTryCatchValue;\n  }\n}\n</code></pre>\n\n<p>but if you have <strong>return</strong> statement inside the <strong>finally statement</strong> then it will <strong>override the return statement</strong> inside the try or catch block.</p>\n"},{"tags":[],"owner":{"account_id":29297925,"reputation":1,"user_id":22446841,"display_name":"Peter Painter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701370363,"creation_date":1701370363,"answer_id":77581001,"question_id":51036912,"body_markdown":"Maybe it&#39;s clearer if you think of it as an if/else construct:\r\n\r\n    public Foo bar() {\r\n        if(error == false) {\r\n        } else {}\r\n        if(true) {}\r\n    }\r\n\r\nThis function is not void, so it requires a *return* statement returning a value of type *Foo*.\r\nThis return statement can be at the end.\r\nIt can as well be inside the *if(true)* block. Then any return statement after this block would be dead code.\r\nBut if you put a return statement into the first if block, it is not necessarily executed, so a second one is mandatory, either in the else block, the *if(true)* block or at the end of the function. Instead of a second return statement, a throw() clause would also do.\r\n\r\nThe difference with *finally* is, that the *if(true)* block is always executed, even if there was a return (or throw) before. If the *finally* clause contains its own *return* or *throw*, it will override any previous return or throw in the *try* or *catch* clause.\r\n\r\nIf the function were of type *void*, *return* statements could appear wherever you want (or nowhere)\r\n","title":"How does return work in try, catch, finally in Java?","body":"<p>Maybe it's clearer if you think of it as an if/else construct:</p>\n<pre><code>public Foo bar() {\n    if(error == false) {\n    } else {}\n    if(true) {}\n}\n</code></pre>\n<p>This function is not void, so it requires a <em>return</em> statement returning a value of type <em>Foo</em>.\nThis return statement can be at the end.\nIt can as well be inside the <em>if(true)</em> block. Then any return statement after this block would be dead code.\nBut if you put a return statement into the first if block, it is not necessarily executed, so a second one is mandatory, either in the else block, the <em>if(true)</em> block or at the end of the function. Instead of a second return statement, a throw() clause would also do.</p>\n<p>The difference with <em>finally</em> is, that the <em>if(true)</em> block is always executed, even if there was a return (or throw) before. If the <em>finally</em> clause contains its own <em>return</em> or <em>throw</em>, it will override any previous return or throw in the <em>try</em> or <em>catch</em> clause.</p>\n<p>If the function were of type <em>void</em>, <em>return</em> statements could appear wherever you want (or nowhere)</p>\n"}],"owner":{"account_id":2090997,"reputation":840,"user_id":7516740,"display_name":"elvis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17162,"favorite_count":0,"down_vote_count":2,"up_vote_count":37,"answer_count":8,"score":35,"last_activity_date":1701370363,"creation_date":1529997122,"question_id":51036912,"body_markdown":"I can&#39;t understand exactly how `return` works in `try`, `catch`.\r\n\r\n* If I have `try` and `finally` without `catch`, I can put `return` inside the `try` block.\r\n* If I have `try`, `catch`, `finally`, I can&#39;t put `return` in the `try` block.\r\n* If I have a `catch` block, I must put the `return` outside of the `try`, `catch`, `finally` blocks.\r\n* If I delete the `catch` block and `throw Exception`, I can put the `return` inside the `try` block.\r\n\r\nHow do they work exactly? Why I can&#39;t put the `return` in the `try` block?\r\n\r\nCode with `try`, `catch`, `finally`\r\n\r\n     public int insertUser(UserBean user) {\r\n         int status = 0;\r\n\r\n         Connection myConn = null;\r\n         PreparedStatement myStmt = null;\r\n\r\n         try {\r\n             // Get database connection\r\n             myConn = dataSource.getConnection();\r\n\r\n             // Create SQL query for insert\r\n             String sql = &quot;INSERT INTO user &quot;\r\n                        + &quot;(user_name, name, password) &quot;\r\n                        + &quot;VALUES (?, ?, ?)&quot;;\r\n\r\n             myStmt = myConn.prepareStatement(sql);\r\n\r\n             // Set the parameter values for the student\r\n             myStmt.setString(1, user.getUsername());\r\n             myStmt.setString(2, user.getName());\r\n             myStmt.setString(3, user.getPassword());\r\n\r\n             // Execute SQL insert\r\n             myStmt.execute();\r\n         } catch (Exception exc) {\r\n             System.out.println(exc);\r\n         } finally {\r\n             // Clean up JDBC objects\r\n             close(myConn, myStmt, null);\r\n         }\r\n\r\n         return status;\r\n     }\r\n\r\nCode with `try`, `finally` without `catch`\r\n\r\n     public int insertUser(UserBean user) throws Exception {\r\n         int status = 0;\r\n\r\n         Connection myConn = null;\r\n         PreparedStatement myStmt = null;\r\n\r\n         try {\r\n             // Get database connection\r\n             myConn = dataSource.getConnection();\r\n\r\n             // Create SQL query for insert\r\n             String sql = &quot;INSERT INTO user &quot;\r\n                        + &quot;(user_name, name, password) &quot;\r\n                        + &quot;VALUES (?, ?, ?)&quot;;\r\n\r\n             myStmt = myConn.prepareStatement(sql);\r\n\r\n             // Set the parameter values for the student\r\n             myStmt.setString(1, user.getUsername());\r\n             myStmt.setString(2, user.getName());\r\n             myStmt.setString(3, user.getPassword());\r\n\r\n             // Execute SQL insert\r\n             myStmt.execute();\r\n\r\n             return status;\r\n         } finally {\r\n             // Clean up JDBC objects\r\n             close(myConn, myStmt, null);\r\n         }\r\n     }\r\n\r\n","title":"How does return work in try, catch, finally in Java?","body":"<p>I can't understand exactly how <code>return</code> works in <code>try</code>, <code>catch</code>.</p>\n\n<ul>\n<li>If I have <code>try</code> and <code>finally</code> without <code>catch</code>, I can put <code>return</code> inside the <code>try</code> block.</li>\n<li>If I have <code>try</code>, <code>catch</code>, <code>finally</code>, I can't put <code>return</code> in the <code>try</code> block.</li>\n<li>If I have a <code>catch</code> block, I must put the <code>return</code> outside of the <code>try</code>, <code>catch</code>, <code>finally</code> blocks.</li>\n<li>If I delete the <code>catch</code> block and <code>throw Exception</code>, I can put the <code>return</code> inside the <code>try</code> block.</li>\n</ul>\n\n<p>How do they work exactly? Why I can't put the <code>return</code> in the <code>try</code> block?</p>\n\n<p>Code with <code>try</code>, <code>catch</code>, <code>finally</code></p>\n\n<pre><code> public int insertUser(UserBean user) {\n     int status = 0;\n\n     Connection myConn = null;\n     PreparedStatement myStmt = null;\n\n     try {\n         // Get database connection\n         myConn = dataSource.getConnection();\n\n         // Create SQL query for insert\n         String sql = \"INSERT INTO user \"\n                    + \"(user_name, name, password) \"\n                    + \"VALUES (?, ?, ?)\";\n\n         myStmt = myConn.prepareStatement(sql);\n\n         // Set the parameter values for the student\n         myStmt.setString(1, user.getUsername());\n         myStmt.setString(2, user.getName());\n         myStmt.setString(3, user.getPassword());\n\n         // Execute SQL insert\n         myStmt.execute();\n     } catch (Exception exc) {\n         System.out.println(exc);\n     } finally {\n         // Clean up JDBC objects\n         close(myConn, myStmt, null);\n     }\n\n     return status;\n }\n</code></pre>\n\n<p>Code with <code>try</code>, <code>finally</code> without <code>catch</code></p>\n\n<pre><code> public int insertUser(UserBean user) throws Exception {\n     int status = 0;\n\n     Connection myConn = null;\n     PreparedStatement myStmt = null;\n\n     try {\n         // Get database connection\n         myConn = dataSource.getConnection();\n\n         // Create SQL query for insert\n         String sql = \"INSERT INTO user \"\n                    + \"(user_name, name, password) \"\n                    + \"VALUES (?, ?, ?)\";\n\n         myStmt = myConn.prepareStatement(sql);\n\n         // Set the parameter values for the student\n         myStmt.setString(1, user.getUsername());\n         myStmt.setString(2, user.getName());\n         myStmt.setString(3, user.getPassword());\n\n         // Execute SQL insert\n         myStmt.execute();\n\n         return status;\n     } finally {\n         // Clean up JDBC objects\n         close(myConn, myStmt, null);\n     }\n }\n</code></pre>\n"},{"tags":["java","langchain","large-language-model","stable-diffusion"],"owner":{"account_id":9138251,"reputation":88,"user_id":6797158,"display_name":"Pratik soni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701370090,"creation_date":1701267856,"question_id":77571997,"body_markdown":"I am exploring Langchain4j. I want to use it to interact with the downloaded model locally.\r\n\r\nI have downloaded stable-diffusion model from Huggingface using this command:\r\n```\r\ngit lfs clone https://huggingface.co/stabilityai/stable-diffusion-xl-base-1.0\r\n```\r\nHow can I use Langchain4j(with stable-diffusion) to create an Image in my local?\r\nDoes Langchain4j have that capability currently?","title":"Langchain4j with downloaded LLM","body":"<p>I am exploring Langchain4j. I want to use it to interact with the downloaded model locally.</p>\n<p>I have downloaded stable-diffusion model from Huggingface using this command:</p>\n<pre><code>git lfs clone https://huggingface.co/stabilityai/stable-diffusion-xl-base-1.0\n</code></pre>\n<p>How can I use Langchain4j(with stable-diffusion) to create an Image in my local?\nDoes Langchain4j have that capability currently?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","multipart"],"answers":[{"tags":[],"owner":{"account_id":3933016,"reputation":134,"user_id":3250678,"accept_rate":88,"display_name":"Kosz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701369369,"creation_date":1701368522,"answer_id":77580848,"question_id":77580591,"body_markdown":"In your uploaddocument method, the MultipartFile should be annotated with @RequestPart, not @RequestParam (although it&#39;s not a problem if you leave it as @RequestParam)\r\n\r\n        public String uplaoddocument(@RequestPart(&quot;file&quot;) MultipartFile file)\r\n\r\nAnother thing to check would be in your DispatcherServletInitilizer class (or web.xml).  You must provide additional configuration to allow the Dispatcher Servlet to handle MultipartFiles\r\n\r\n    /**\r\n\t * Additional configuration for the Dispatcher Servlet\r\n\t * @param registration\r\n\t */\r\n\t@Override\r\n\tprotected void customizeRegistration(ServletRegistration.Dynamic registration) {\r\n\t\t// Set Multipart support to temporarily store uploaded files in the below path\r\n\t\t// Saves uploaded files under /your/upload/location, sets the max file size to 5242880B, the max size of the multipart request to &lt;maxRequestSize&gt;,\r\n\t\t// and max file size that can be uploaded without being written to disk (&lt;FileSizeThreshold&gt; bytes)\r\n\t\tregistration.setMultipartConfig( new MultipartConfigElement(&quot;/your/upload/location&quot;, 5242880, &lt;maxRequestSize&gt;, &lt;FileSizeThreshold&gt;) );\r\n\t}","title":"Spring boot - Multipart upload - 500 Internal server error","body":"<p>In your uploaddocument method, the MultipartFile should be annotated with @RequestPart, not @RequestParam (although it's not a problem if you leave it as @RequestParam)</p>\n<pre><code>    public String uplaoddocument(@RequestPart(&quot;file&quot;) MultipartFile file)\n</code></pre>\n<p>Another thing to check would be in your DispatcherServletInitilizer class (or web.xml).  You must provide additional configuration to allow the Dispatcher Servlet to handle MultipartFiles</p>\n<pre><code>/**\n * Additional configuration for the Dispatcher Servlet\n * @param registration\n */\n@Override\nprotected void customizeRegistration(ServletRegistration.Dynamic registration) {\n    // Set Multipart support to temporarily store uploaded files in the below path\n    // Saves uploaded files under /your/upload/location, sets the max file size to 5242880B, the max size of the multipart request to &lt;maxRequestSize&gt;,\n    // and max file size that can be uploaded without being written to disk (&lt;FileSizeThreshold&gt; bytes)\n    registration.setMultipartConfig( new MultipartConfigElement(&quot;/your/upload/location&quot;, 5242880, &lt;maxRequestSize&gt;, &lt;FileSizeThreshold&gt;) );\n}\n</code></pre>\n"}],"owner":{"account_id":1670583,"reputation":163,"user_id":1537109,"accept_rate":70,"display_name":"Arunraj Chandran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1701369369,"creation_date":1701365847,"question_id":77580591,"body_markdown":"We were creating a upload call by using the spring boot multipart (Maven).\r\n\r\nOur pom.xml file\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.awsarTest&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;awsarTest&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;awsarTest Maven Webapp&lt;/name&gt;\r\n    \t&lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n    \t&lt;url&gt;http://www.example.com&lt;/url&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.11&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.21.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.5.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.5.5&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;CWSAuthentication&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;CWSAuthentication&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;Authentication&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;Authentication&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.3&lt;/version&gt; &lt;!-- Use the latest version --&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- Apache Commons FileUpload --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- Apache Commons IO --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;awsarTest&lt;/finalName&gt;\r\n    \t\t&lt;pluginManagement&gt;\r\n    \t\t\t&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n    \t\t\t&lt;plugins&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.22.1&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.2.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.8.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;/plugins&gt;\r\n    \t\t&lt;/pluginManagement&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nAnd springapplicationconfig.java`\r\n\r\n    package awsarTest.config;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.multipart.commons.CommonsMultipartResolver;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n    import org.springframework.web.servlet.view.InternalResourceViewResolver;\r\n    \r\n    @ComponentScan(basePackages = &quot;awsarTest.controller&quot;)\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class SpringApplicationConfig {\r\n    \r\n    \t\r\n    \t@Bean\r\n    \tpublic InternalResourceViewResolver viewResolver() {\r\n    \t\tInternalResourceViewResolver vw = new InternalResourceViewResolver();\r\n    \t\tvw.setPrefix(&quot;/WEB-INF/jsp/&quot;);;\r\n    \t\tvw.setSuffix(&quot;.jsp&quot;);;\r\n    \t\treturn vw;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t@Bean(name = &quot;multipartResolver&quot;)\r\n        public CommonsMultipartResolver multipartResolver() {\r\n            CommonsMultipartResolver resolver = new CommonsMultipartResolver();\r\n            resolver.setMaxUploadSizePerFile(5242880); // Set your max file size limit if needed\r\n            return resolver;\r\n        }\r\n    }\r\n\r\nApplication.porperties files:\r\n\r\n    # MULTIPART (MultipartProperties)\r\n    # Enable multipart uploads\r\n    spring.servlet.multipart.enabled=true\r\n    # Threshold after which files are written to disk.\r\n    spring.servlet.multipart.file-size-threshold=2KB\r\n    # Max file size.\r\n    spring.servlet.multipart.max-file-size=200MB\r\n    # Max Request Size\r\n    spring.servlet.multipart.max-request-size=215MB\r\n\r\n\r\nAnd controller\r\n\r\n    package awsarTest.controller;\r\n    \r\n    import com.opentext.livelink.service.core.Authentication;\r\n    import com.opentext.livelink.service.core.Authentication_Service;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n    \r\n    import javax.xml.ws.soap.SOAPFaultException;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/auth&quot;)\r\n    public class AuthControllerTest {\r\n    \r\n    \t@RequestMapping(value = &quot;/authenticate&quot;)\r\n        public String authenticateUser(@RequestParam(name = &quot;username&quot;) String username, @RequestParam(name = &quot;password&quot;) String password ) {\r\n    \t\t\r\n    \t\t//return &quot;Hello, &quot; + name + &quot;!&quot;;\r\n    \t\tString USERNAME = username;\r\n    \t\tString PASSWORD = password;\r\n    \r\n            // Create the Authentication service client\r\n            Authentication_Service authService = new Authentication_Service();\r\n            Authentication authClient = authService.getBasicHttpBindingAuthentication();\r\n    \r\n            // Store the authentication token\r\n            String authToken;\r\n    \r\n            // Call the AuthenticateUser() method to get an authentication token\r\n            try {\r\n                System.out.print(&quot;Authenticating User...&quot;);\r\n                authToken = authClient.authenticateUser(USERNAME, PASSWORD);\r\n                System.out.println(&quot;SUCCESS!\\nAuthentication Token: &quot; + authToken);\r\n            } catch (SOAPFaultException e) {\r\n                System.out.println(&quot;FAILED!\\n&quot;);\r\n                System.out.println(e.getFault().getFaultCode() + &quot; : &quot; + e.getMessage());\r\n                return &quot;Authentication failed&quot;;\r\n            }\r\n    \r\n            // You can do further processing or return the token as needed\r\n            return &quot;Authentication Token: &quot; + authToken;\r\n        }\r\n    \t\r\n    \t**@PostMapping(value = &quot;/upload&quot;)\r\n    \tpublic String uplaoddocument(@RequestParam(&quot;file&quot;) MultipartFile file) {\r\n    \t\t\r\n    \t\t// Process the file (save it, perform operations, etc.)\r\n    \t       \r\n    \t\t// For simplicity, this example just prints the file name\r\n    \t\t       \r\n    \t\tString\t\tfileName = file.getOriginalFilename();         System.out.println(\r\n    \t\t&quot;Received file: &quot;\r\n    \t\t+ fileName);        \r\n    \t\t// Return a response indicating success\r\n    \t\t\r\n    \t\treturn fileName;\r\n        }**\r\n    \t\r\n    \t\r\n    }\r\n\r\n\r\n`if we run the upload call in the postman&quot;http://localhost:6061/awsarTest/auth/upload&quot;:\r\nwe&#39;re getting error.\r\n\r\n**&quot;Request processing failed; nested exception is org.springframework.web.multipart.MultipartException: Failed to parse multipart servlet request; nested exception is java.lang.IllegalStateException: Unable to process parts as no multi-part configuration has been provided&quot;**\r\n\r\n\r\n\r\n\r\n","title":"Spring boot - Multipart upload - 500 Internal server error","body":"<p>We were creating a upload call by using the spring boot multipart (Maven).</p>\n<p>Our pom.xml file</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.awsarTest&lt;/groupId&gt;\n    &lt;artifactId&gt;awsarTest&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;awsarTest Maven Webapp&lt;/name&gt;\n    &lt;!-- FIXME change it to the project's website --&gt;\n    &lt;url&gt;http://www.example.com&lt;/url&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;5.2.21.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;2.5.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;version&gt;2.5.5&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;CWSAuthentication&lt;/groupId&gt;\n            &lt;artifactId&gt;CWSAuthentication&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;Authentication&lt;/groupId&gt;\n            &lt;artifactId&gt;Authentication&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n            &lt;version&gt;2.3.3&lt;/version&gt; &lt;!-- Use the latest version --&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Apache Commons FileUpload --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n            &lt;version&gt;1.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Apache Commons IO --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;finalName&gt;awsarTest&lt;/finalName&gt;\n        &lt;pluginManagement&gt;\n            &lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.22.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.2.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.5.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.8.2&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>And springapplicationconfig.java`</p>\n<pre><code>package awsarTest.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.multipart.commons.CommonsMultipartResolver;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\n\n@ComponentScan(basePackages = &quot;awsarTest.controller&quot;)\n@Configuration\n@EnableWebMvc\npublic class SpringApplicationConfig {\n\n    \n    @Bean\n    public InternalResourceViewResolver viewResolver() {\n        InternalResourceViewResolver vw = new InternalResourceViewResolver();\n        vw.setPrefix(&quot;/WEB-INF/jsp/&quot;);;\n        vw.setSuffix(&quot;.jsp&quot;);;\n        return vw;\n    }\n    \n    \n    @Bean(name = &quot;multipartResolver&quot;)\n    public CommonsMultipartResolver multipartResolver() {\n        CommonsMultipartResolver resolver = new CommonsMultipartResolver();\n        resolver.setMaxUploadSizePerFile(5242880); // Set your max file size limit if needed\n        return resolver;\n    }\n}\n</code></pre>\n<p>Application.porperties files:</p>\n<pre><code># MULTIPART (MultipartProperties)\n# Enable multipart uploads\nspring.servlet.multipart.enabled=true\n# Threshold after which files are written to disk.\nspring.servlet.multipart.file-size-threshold=2KB\n# Max file size.\nspring.servlet.multipart.max-file-size=200MB\n# Max Request Size\nspring.servlet.multipart.max-request-size=215MB\n</code></pre>\n<p>And controller</p>\n<pre><code>package awsarTest.controller;\n\nimport com.opentext.livelink.service.core.Authentication;\nimport com.opentext.livelink.service.core.Authentication_Service;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport javax.xml.ws.soap.SOAPFaultException;\n\n@RestController\n@RequestMapping(&quot;/auth&quot;)\npublic class AuthControllerTest {\n\n    @RequestMapping(value = &quot;/authenticate&quot;)\n    public String authenticateUser(@RequestParam(name = &quot;username&quot;) String username, @RequestParam(name = &quot;password&quot;) String password ) {\n        \n        //return &quot;Hello, &quot; + name + &quot;!&quot;;\n        String USERNAME = username;\n        String PASSWORD = password;\n\n        // Create the Authentication service client\n        Authentication_Service authService = new Authentication_Service();\n        Authentication authClient = authService.getBasicHttpBindingAuthentication();\n\n        // Store the authentication token\n        String authToken;\n\n        // Call the AuthenticateUser() method to get an authentication token\n        try {\n            System.out.print(&quot;Authenticating User...&quot;);\n            authToken = authClient.authenticateUser(USERNAME, PASSWORD);\n            System.out.println(&quot;SUCCESS!\\nAuthentication Token: &quot; + authToken);\n        } catch (SOAPFaultException e) {\n            System.out.println(&quot;FAILED!\\n&quot;);\n            System.out.println(e.getFault().getFaultCode() + &quot; : &quot; + e.getMessage());\n            return &quot;Authentication failed&quot;;\n        }\n\n        // You can do further processing or return the token as needed\n        return &quot;Authentication Token: &quot; + authToken;\n    }\n    \n    **@PostMapping(value = &quot;/upload&quot;)\n    public String uplaoddocument(@RequestParam(&quot;file&quot;) MultipartFile file) {\n        \n        // Process the file (save it, perform operations, etc.)\n           \n        // For simplicity, this example just prints the file name\n               \n        String      fileName = file.getOriginalFilename();         System.out.println(\n        &quot;Received file: &quot;\n        + fileName);        \n        // Return a response indicating success\n        \n        return fileName;\n    }**\n    \n    \n}\n</code></pre>\n<p>`if we run the upload call in the postman&quot;http://localhost:6061/awsarTest/auth/upload&quot;:\nwe're getting error.</p>\n<p><strong>&quot;Request processing failed; nested exception is org.springframework.web.multipart.MultipartException: Failed to parse multipart servlet request; nested exception is java.lang.IllegalStateException: Unable to process parts as no multi-part configuration has been provided&quot;</strong></p>\n"},{"tags":["java","spring-cloud"],"comments":[{"owner":{"account_id":2897717,"reputation":9724,"user_id":2491198,"accept_rate":100,"display_name":"frhd"},"score":0,"creation_date":1701369412,"post_id":77580887,"comment_id":136770211,"body_markdown":"nope, you have to define it yourself.","body":"nope, you have to define it yourself."},{"owner":{"account_id":162699,"reputation":138050,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1701369925,"post_id":77580887,"comment_id":136770292,"body_markdown":"Just define it for yourself. If you find a more convenient definition at a later date, use your IDE to replace usages of your current symbol with the alternative.","body":"Just define it for yourself. If you find a more convenient definition at a later date, use your IDE to replace usages of your current symbol with the alternative."},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1701370744,"post_id":77580887,"comment_id":136770449,"body_markdown":"I&#39;ll 2nd the no from the spring cloud team. If we had a constant it would just be &quot;lb&quot; since we use a class to separate the URI into parts and we only get the scheme.","body":"I&#39;ll 2nd the no from the spring cloud team. If we had a constant it would just be &quot;lb&quot; since we use a class to separate the URI into parts and we only get the scheme."}],"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701368993,"creation_date":1701368993,"question_id":77580887,"body_markdown":"Does any class or interface in Spring provide a constant (public static final variable) for the load balanced scheme, that is the string &quot;lb://&quot;? I don&#39;t want to hard code it everywhere or create my own class/enum for it\r\n```java\r\npublic static final String lbScheme = &quot;lb://&quot;;\r\n```","title":"Constant for lb://","body":"<p>Does any class or interface in Spring provide a constant (public static final variable) for the load balanced scheme, that is the string &quot;lb://&quot;? I don't want to hard code it everywhere or create my own class/enum for it</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final String lbScheme = &quot;lb://&quot;;\n</code></pre>\n"},{"tags":["java","rest-assured"],"answers":[{"tags":[],"owner":{"account_id":18239208,"reputation":149,"user_id":13276541,"display_name":"Ahmed Mera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701363256,"creation_date":1701363256,"answer_id":77580262,"question_id":77579999,"body_markdown":"Try to set in your request the contentType `&quot;UTF-8&quot;` some thing like this \r\n```java\r\n.contentType(&quot;UTF-8&quot;)\r\n.body(requestBody)\r\n// some condition here\r\n```","title":"REST Assured send non UTF-8 character in the request","body":"<p>Try to set in your request the contentType <code>&quot;UTF-8&quot;</code> some thing like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>.contentType(&quot;UTF-8&quot;)\n.body(requestBody)\n// some condition here\n</code></pre>\n"}],"owner":{"account_id":12599908,"reputation":113,"user_id":9163013,"display_name":"Ivo Dimitrov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701368580,"creation_date":1701361146,"question_id":77579999,"body_markdown":"With REST Assured I want to create automation test, that sends non UTF-8 character in the request when Content-Type=application/json?\r\n\r\n\r\n\r\nUsing Postman it just works fine:\r\n\r\n```\r\n{\r\n&quot;billingAddress&quot;: {\r\n        &quot;address&quot;: &quot;&#132878;&quot;\r\n    }\r\n}\r\n```\r\n\r\n, but with REST Assured it looks like this:\r\n\r\n```\r\n{\r\n&quot;billingAddress&quot;: {\r\n        &quot;address&quot;: &quot;&#240;&#160;œŽ&quot;\r\n    }\r\n}\r\n```\r\n\r\nAny suggestions?","title":"REST Assured send non UTF-8 character in the request","body":"<p>With REST Assured I want to create automation test, that sends non UTF-8 character in the request when Content-Type=application/json?</p>\n<p>Using Postman it just works fine:</p>\n<pre><code>{\n&quot;billingAddress&quot;: {\n        &quot;address&quot;: &quot;𠜎&quot;\n    }\n}\n</code></pre>\n<p>, but with REST Assured it looks like this:</p>\n<pre><code>{\n&quot;billingAddress&quot;: {\n        &quot;address&quot;: &quot;ð œŽ&quot;\n    }\n}\n</code></pre>\n<p>Any suggestions?</p>\n"},{"tags":["java","wifi","wmi","jacob"],"owner":{"account_id":1368652,"reputation":191,"user_id":1304490,"accept_rate":71,"display_name":"user1304490"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1701368490,"creation_date":1335122704,"question_id":10271299,"body_markdown":"I am using `Jacob` to find out the MAC addresses of all access points that are detected by my wireless NIC.\r\n\r\nAccording to WMI documentation `Ndis80211BSSIList` is: `&quot;The list of in-range BSSIDs and their properties&quot;`. As far as I can understand it returns an array of objects of the Class `MSNdis_80211_WLanBssId`, that each of them has some properties.\r\n\r\nMy question is how I can access these properties of each of these instances (each instance is a different BSSID with properties such as MAC Address or SSID). Any help would be valuable.\r\n\r\n        public class testWMIJacob {\r\n             \r\n            public static void main(String[] args) {\r\n                    String host = &quot;localhost&quot;;  \r\n                    \r\n                    String connectStr = String.format(&quot;winmgmts:\\\\\\\\%s\\\\root\\\\wmi&quot;, host); \r\n                    \r\n                                    \r\n                    String query = &quot;SELECT * FROM MSNdis_80211_BSSIList &quot;;\r\n                                       \r\n                    ActiveXComponent axWMI = new ActiveXComponent(connectStr);                \r\n                    Variant vCollection = axWMI.invoke(&quot;ExecQuery&quot;, new Variant(query));               \r\n                    \r\n                    EnumVariant enumVariant = new EnumVariant(vCollection.toDispatch());\r\n                    Dispatch item = null;                \r\n                    while (enumVariant.hasMoreElements()) {                    \r\n                            item = enumVariant.nextElement().toDispatch();                          \r\n                         \r\n                            String req = Dispatch.call(item,&quot;Ndis80211BSSIList&quot;).toString();    \r\n                    }\r\n            }\r\n           \r\n    }\r\n","title":"Jacob and wireless","body":"<p>I am using <code>Jacob</code> to find out the MAC addresses of all access points that are detected by my wireless NIC.</p>\n\n<p>According to WMI documentation <code>Ndis80211BSSIList</code> is: <code>\"The list of in-range BSSIDs and their properties\"</code>. As far as I can understand it returns an array of objects of the Class <code>MSNdis_80211_WLanBssId</code>, that each of them has some properties.</p>\n\n<p>My question is how I can access these properties of each of these instances (each instance is a different BSSID with properties such as MAC Address or SSID). Any help would be valuable.</p>\n\n<pre><code>    public class testWMIJacob {\n\n        public static void main(String[] args) {\n                String host = \"localhost\";  \n\n                String connectStr = String.format(\"winmgmts:\\\\\\\\%s\\\\root\\\\wmi\", host); \n\n\n                String query = \"SELECT * FROM MSNdis_80211_BSSIList \";\n\n                ActiveXComponent axWMI = new ActiveXComponent(connectStr);                \n                Variant vCollection = axWMI.invoke(\"ExecQuery\", new Variant(query));               \n\n                EnumVariant enumVariant = new EnumVariant(vCollection.toDispatch());\n                Dispatch item = null;                \n                while (enumVariant.hasMoreElements()) {                    \n                        item = enumVariant.nextElement().toDispatch();                          \n\n                        String req = Dispatch.call(item,\"Ndis80211BSSIList\").toString();    \n                }\n        }\n\n}\n</code></pre>\n"},{"tags":["java","servlets"],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306133,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1279063850,"creation_date":1279063850,"answer_id":3242348,"question_id":3242236,"body_markdown":"Maybe a [servlet filter][1] can help you.  Think of it as aspect-oriented programming for HTTP.\r\n\r\n\r\n  [1]: http://java.sun.com/products/servlet/Filters.html","title":"Capture and log the response body","body":"<p>Maybe a <a href=\"http://java.sun.com/products/servlet/Filters.html\" rel=\"nofollow noreferrer\">servlet filter</a> can help you.  Think of it as aspect-oriented programming for HTTP.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088960,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":4,"up_vote_count":35,"is_accepted":true,"score":31,"last_activity_date":1701367984,"creation_date":1279066153,"answer_id":3242482,"question_id":3242236,"body_markdown":"If I understand you correctly, you want to log the response **body**?\r\n\r\nAs [@duffymo][1] pointed out, a `Filter` is indeed a suitable place for this. You can capture the response body by replacing the passed-in `ServletResponse` with a [`HttpServletResponseWrapper`][2] implementation which basically replaces the `HttpServletResponse#getWriter()/getOutputStream()` with an own implementation which copies the response body into some buffer. After continuing the filter chain with the replaced response, just capture and log the copy.\r\n\r\nYou can find in [this answer][3] a kickoff example how the `doFilter()` method can look like.\r\n\r\n\r\n  [1]: #3242348\r\n  [2]: https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/http/httpservletrequestwrapper\r\n  [3]: https://stackoverflow.com/questions/8933054/how-to-read-and-copy-the-http-servlet-response-output-stream-content-for-logging/8972088#8972088","title":"Capture and log the response body","body":"<p>If I understand you correctly, you want to log the response <strong>body</strong>?</p>\n<p>As @duffymo pointed out, a <code>Filter</code> is indeed a suitable place for this. You can capture the response body by replacing the passed-in <code>ServletResponse</code> with a <a href=\"https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/http/httpservletrequestwrapper\" rel=\"nofollow noreferrer\"><code>HttpServletResponseWrapper</code></a> implementation which basically replaces the <code>HttpServletResponse#getWriter()/getOutputStream()</code> with an own implementation which copies the response body into some buffer. After continuing the filter chain with the replaced response, just capture and log the copy.</p>\n<p>You can find in <a href=\"https://stackoverflow.com/questions/8933054/how-to-read-and-copy-the-http-servlet-response-output-stream-content-for-logging/8972088#8972088\">this answer</a> a kickoff example how the <code>doFilter()</code> method can look like.</p>\n"},{"tags":[],"owner":{"account_id":1241031,"reputation":1797,"user_id":1203628,"accept_rate":75,"display_name":"pdorgambide"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1422984471,"creation_date":1422984471,"answer_id":28305057,"question_id":3242236,"body_markdown":"An alternative to [BalusC answer][1]\r\nUsing the TeeOutputStream to write into two outputstreams at time.\r\n\r\n\tpublic void doFilterInternal(HttpServletRequest req, HttpServletResponse res, FilterChain chain) throws IOException, ServletException {\r\n\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n   \t    final PrintStream ps = new PrintStream(baos);\r\n\r\n   \t    chain.doFilter(req,new HttpServletResponseWrapper(res) {\r\n\t    \t @Override\r\n\t         public ServletOutputStream getOutputStream() throws IOException {\r\n\t            return new DelegatingServletOutputStream(new TeeOutputStream(super.getOutputStream(), ps)\r\n\t            );\r\n\t         }\r\n\t         @Override\r\n\t         public  PrintWriter getWriter() throws IOException {\r\n\t            return new PrintWriter(new DelegatingServletOutputStream (new TeeOutputStream(super.getOutputStream(), ps))\r\n\t            );\r\n\t         }\r\n\t      });\r\n\t    \r\n\t    //Get Response body calling baos.toString();\r\n\t}\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/3242482/1203628","title":"Capture and log the response body","body":"<p>An alternative to <a href=\"https://stackoverflow.com/a/3242482/1203628\">BalusC answer</a>\nUsing the TeeOutputStream to write into two outputstreams at time.</p>\n\n<pre><code>public void doFilterInternal(HttpServletRequest req, HttpServletResponse res, FilterChain chain) throws IOException, ServletException {\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    final PrintStream ps = new PrintStream(baos);\n\n    chain.doFilter(req,new HttpServletResponseWrapper(res) {\n         @Override\n         public ServletOutputStream getOutputStream() throws IOException {\n            return new DelegatingServletOutputStream(new TeeOutputStream(super.getOutputStream(), ps)\n            );\n         }\n         @Override\n         public  PrintWriter getWriter() throws IOException {\n            return new PrintWriter(new DelegatingServletOutputStream (new TeeOutputStream(super.getOutputStream(), ps))\n            );\n         }\n      });\n\n    //Get Response body calling baos.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":102773,"reputation":6714,"user_id":275674,"accept_rate":62,"display_name":"Jony"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78541,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"closed_date":1463126255,"accepted_answer_id":3242482,"answer_count":3,"score":34,"last_activity_date":1701367984,"creation_date":1279062367,"question_id":3242236,"body_markdown":"I have a servlet that handle certain HTTP requests and responses. I want to log the response body before sending back to the client. Is there any way that I can capture the response body before it is send as a `HttpServletResponse` object from the servlet?","title":"Capture and log the response body","body":"<p>I have a servlet that handle certain HTTP requests and responses. I want to log the response body before sending back to the client. Is there any way that I can capture the response body before it is send as a <code>HttpServletResponse</code> object from the servlet?</p>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":1888343,"reputation":176597,"user_id":1707091,"display_name":"rgettman"},"score":0,"creation_date":1701367926,"post_id":77580765,"comment_id":136769920,"body_markdown":"You&#39;re also setting `recFound` to `false` with `=` and that condition is not hitting.","body":"You&#39;re also setting <code>recFound</code> to <code>false</code> with <code>=</code> and that condition is not hitting."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1701368517,"post_id":77580765,"comment_id":136770038,"body_markdown":"Never, really _never_, compare with `true` or `false` in an `if` statement. Use the not (`!`) operator to compare for false, like `if (!recFound) { `. This way you can&#39;t make that mistake of accidentally using the assignment operator `=` instead of the equals operator `==`.","body":"Never, really <i>never</i>, compare with <code>true</code> or <code>false</code> in an <code>if</code> statement. Use the not (<code>!</code>) operator to compare for false, like <code>if (!recFound) { </code>. This way you can&#39;t make that mistake of accidentally using the assignment operator <code>=</code> instead of the equals operator <code>==</code>."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1701368763,"post_id":77580765,"comment_id":136770080,"body_markdown":"Also for your case, a `Map&lt;String, Recipe&gt;` would be useful instead of the recList. You wouldn&#39;t have to use a loop to find the recipe with the given ID, but could just use `map.get(inputRecId)`.","body":"Also for your case, a <code>Map&lt;String, Recipe&gt;</code> would be useful instead of the recList. You wouldn&#39;t have to use a loop to find the recipe with the given ID, but could just use <code>map.get(inputRecId)</code>."},{"owner":{"account_id":26251539,"reputation":1,"user_id":19924283,"display_name":"edPC"},"score":0,"creation_date":1701466627,"post_id":77580765,"comment_id":136783626,"body_markdown":"Thank you very much, this is all very useful advice.","body":"Thank you very much, this is all very useful advice."}],"owner":{"account_id":26251539,"reputation":1,"user_id":19924283,"display_name":"edPC"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701367871,"answer_count":0,"score":-1,"last_activity_date":1701367884,"creation_date":1701367685,"question_id":77580765,"body_markdown":"My program has the following code. It asks the user to enter the ID of one recipe, which it prints out, and then compares it against a list of recipes. When the user enters an ID identical to one in the list, it should branch.\r\nHowever, my program is not branching.\r\n```\t\tSystem.out.print(&quot;Recipes available: \\n&quot;);\r\n\t\tfor (int i = 0; i &lt;Recipe.recList.size(); i++) {\r\n\t\t\tRecipe rec = Recipe.recList.get(i);\r\n\t\t\tSystem.out.print(rec.getRecName()+&quot;, &quot;+&quot;ID=&quot;+rec.getRecID()+ &quot;\\n&quot;);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;\\nPlease enter the ID  of your recipe: &quot;);\r\n\t\tString inputRecID = editMenu.nextLine();\r\n\t\tboolean recFound = false;\r\n\t\tfor (int i = 0; i &lt;Recipe.recList.size(); i++) {\r\n\t\t\tRecipe rec = Recipe.recList.get(i);\r\n\t\t\tString recID = String.valueOf(rec.getRecID());\r\n\t\t\tSystem.out.print(&quot;\\n&quot;+inputRecID);\r\n\t\t\tSystem.out.print(&quot;\\n&quot;+recID);\r\n\t\t\tif (inputRecID == recID) {\r\n\t\t\t\tSystem.out.print(&quot;testing&quot;);\r\n\t\t\t\tthis.setWeeklyRec(editDay,editItem,rec);\r\n\t\t\t\trecFound = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (recFound = false) {\r\n\t\t\tSystem.out.println(&quot;Recipe not found.&quot;);\r\n\t\t}\r\n```\r\nI tried printing the inputRecID and recID each time the program looped to see what the problem was, and I got the following output:\r\n```\r\nPlease enter the ID  of your recipe: \r\n2\r\n\r\n2\r\n0\r\n2\r\n2\r\n2\r\n1\r\n2\r\n3\r\n```\r\nThe second and third 2 output are the same, which should mean the program branches (and testing is printed, which it wasn&#39;t), but it&#39;s not branching and I don&#39;t understand why. Could I please learn why the program isn&#39;t branching here. Thank you.","title":"Java not branching based on two equal values","body":"<p>My program has the following code. It asks the user to enter the ID of one recipe, which it prints out, and then compares it against a list of recipes. When the user enters an ID identical to one in the list, it should branch.\nHowever, my program is not branching.</p>\n<pre><code>        for (int i = 0; i &lt;Recipe.recList.size(); i++) {\n            Recipe rec = Recipe.recList.get(i);\n            System.out.print(rec.getRecName()+&quot;, &quot;+&quot;ID=&quot;+rec.getRecID()+ &quot;\\n&quot;);\n        }\n        System.out.println(&quot;\\nPlease enter the ID  of your recipe: &quot;);\n        String inputRecID = editMenu.nextLine();\n        boolean recFound = false;\n        for (int i = 0; i &lt;Recipe.recList.size(); i++) {\n            Recipe rec = Recipe.recList.get(i);\n            String recID = String.valueOf(rec.getRecID());\n            System.out.print(&quot;\\n&quot;+inputRecID);\n            System.out.print(&quot;\\n&quot;+recID);\n            if (inputRecID == recID) {\n                System.out.print(&quot;testing&quot;);\n                this.setWeeklyRec(editDay,editItem,rec);\n                recFound = true;\n            }\n        }\n        if (recFound = false) {\n            System.out.println(&quot;Recipe not found.&quot;);\n        }\n</code></pre>\n<p>I tried printing the inputRecID and recID each time the program looped to see what the problem was, and I got the following output:</p>\n<pre><code>Please enter the ID  of your recipe: \n2\n\n2\n0\n2\n2\n2\n1\n2\n3\n</code></pre>\n<p>The second and third 2 output are the same, which should mean the program branches (and testing is printed, which it wasn't), but it's not branching and I don't understand why. Could I please learn why the program isn't branching here. Thank you.</p>\n"},{"tags":["java","spring-boot","neo4j","spring-data-neo4j","neo4j-embedded"],"comments":[{"owner":{"account_id":947871,"reputation":64252,"user_id":974731,"display_name":"cybersam"},"score":0,"creation_date":1692043428,"post_id":76901420,"comment_id":135569729,"body_markdown":"You may need to [open a Bolt connector and enable it](https://neo4j.com/docs/java-reference/current/java-embedded/bolt/) in your embedded instance. I have never tried this, especially when running a Spring app, but hopefully this info is helpful.","body":"You may need to <a href=\"https://neo4j.com/docs/java-reference/current/java-embedded/bolt/\" rel=\"nofollow noreferrer\">open a Bolt connector and enable it</a> in your embedded instance. I have never tried this, especially when running a Spring app, but hopefully this info is helpful."},{"owner":{"account_id":26739540,"reputation":91,"user_id":20340543,"display_name":"Podbrushkin"},"score":0,"creation_date":1692097852,"post_id":76901420,"comment_id":135575685,"body_markdown":"@cybersam, thank you, it was very helpful. I&#39;ve lost so much time on this matter. I wonder where I should have found out about this. Docs section you&#39;ve provided is so easy to overlook. I have a feeling SDN docs also should mention it.","body":"@cybersam, thank you, it was very helpful. I&#39;ve lost so much time on this matter. I wonder where I should have found out about this. Docs section you&#39;ve provided is so easy to overlook. I have a feeling SDN docs also should mention it."},{"owner":{"account_id":947871,"reputation":64252,"user_id":974731,"display_name":"cybersam"},"score":0,"creation_date":1692116605,"post_id":76901420,"comment_id":135579532,"body_markdown":"You can [report that SDN documentation issue](https://github.com/spring-projects/spring-data-neo4j#reporting-issues).","body":"You can <a href=\"https://github.com/spring-projects/spring-data-neo4j#reporting-issues\" rel=\"nofollow noreferrer\">report that SDN documentation issue</a>."}],"answers":[{"tags":[],"owner":{"account_id":26739540,"reputation":91,"user_id":20340543,"display_name":"Podbrushkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701367880,"creation_date":1692097368,"answer_id":76905371,"question_id":76901420,"body_markdown":"As [cybersam](https://stackoverflow.com/users/974731/cybersam) pointed out, Bolt connector should be opened on embedded instance. This page of documentation shows how to do it:\r\nhttps://neo4j.com/docs/java-reference/current/java-embedded/bolt/\r\n\r\n1. Add neo4j-bolt dependency to pom.xml:\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.neo4j&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;neo4j-bolt&lt;/artifactId&gt;\r\n\t&lt;version&gt;5.10.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n2. To `DatabaseManagementService` object creation add lines configuring `BoltConnector`:\r\n```java\r\nDatabaseManagementService managementService = new \r\n\t\t\tDatabaseManagementServiceBuilder(new File(&quot;target/mydb&quot;).toPath())\r\n\t\t\t\t.setConfig(GraphDatabaseSettings.transaction_timeout, Duration.ofSeconds( 60 ) )\r\n\t\t\t\t.setConfig( BoltConnector.enabled, true )\r\n    \t\t\t.setConfig( BoltConnector.listen_address, new SocketAddress( &quot;localhost&quot;, 7687 ) )\r\n\t\t\t\t.build();\r\n```\r\n\r\nP.S. Same question, more detailed answer: https://stackoverflow.com/questions/77571107/spring-boot-embedded-neo4j-for-demo-purposes","title":"How to connect Spring-data-neo4j to embedded neo4j server?","body":"<p>As <a href=\"https://stackoverflow.com/users/974731/cybersam\">cybersam</a> pointed out, Bolt connector should be opened on embedded instance. This page of documentation shows how to do it:\n<a href=\"https://neo4j.com/docs/java-reference/current/java-embedded/bolt/\" rel=\"nofollow noreferrer\">https://neo4j.com/docs/java-reference/current/java-embedded/bolt/</a></p>\n<ol>\n<li>Add neo4j-bolt dependency to pom.xml:</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\n    &lt;artifactId&gt;neo4j-bolt&lt;/artifactId&gt;\n    &lt;version&gt;5.10.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ol start=\"2\">\n<li>To <code>DatabaseManagementService</code> object creation add lines configuring <code>BoltConnector</code>:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>DatabaseManagementService managementService = new \n            DatabaseManagementServiceBuilder(new File(&quot;target/mydb&quot;).toPath())\n                .setConfig(GraphDatabaseSettings.transaction_timeout, Duration.ofSeconds( 60 ) )\n                .setConfig( BoltConnector.enabled, true )\n                .setConfig( BoltConnector.listen_address, new SocketAddress( &quot;localhost&quot;, 7687 ) )\n                .build();\n</code></pre>\n<p>P.S. Same question, more detailed answer: <a href=\"https://stackoverflow.com/questions/77571107/spring-boot-embedded-neo4j-for-demo-purposes\">Spring Boot embedded neo4j for demo purposes</a></p>\n"}],"owner":{"account_id":26739540,"reputation":91,"user_id":20340543,"display_name":"Podbrushkin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76905371,"answer_count":1,"score":0,"last_activity_date":1701367880,"creation_date":1692038623,"question_id":76901420,"body_markdown":"I&#39;m failing to combine Spring Data Neo4j and embedded neo4j server in one app. I&#39;ve used them separately, but I can&#39;t make them work together.\r\nAlso, I haven&#39;t found guide on how to use them together anywhere.\r\n\r\n## Starting points\r\nA good base for MRE of Spring-data-neo4j can be found here: [gs-accessing-data-neo4j](https://github.com/spring-guides/gs-accessing-data-neo4j/tree/main/complete).\r\n\r\nClues on how to run embedded Neo4J server can be found here:\r\n* [neo4j: Embedding Neo4j in your Java application](https://neo4j.com/docs/java-reference/current/java-embedded/setup/)\r\n* [baeldung: A Guide to Neo4J with Java](https://www.baeldung.com/java-neo4j)\r\n\r\n\r\n## Sample Project\r\nCombining these sources, I&#39;ve created this project:\r\n\r\n`./pom.xml`:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;accessing-data-neo4j-complete&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;accessing-data-neo4j-complete&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-neo4j&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.neo4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;neo4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n`.\\src\\main\\java\\myapp\\AccessingDataNeo4jApplication.java`:\r\n```java\r\npackage myapp;\r\n\r\nimport java.io.File;\r\nimport java.time.Duration;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\nimport org.neo4j.configuration.GraphDatabaseSettings;\r\nimport org.neo4j.cypherdsl.core.renderer.Configuration;\r\nimport org.neo4j.cypherdsl.core.renderer.Dialect;\r\nimport org.neo4j.dbms.api.DatabaseManagementService;\r\nimport org.neo4j.dbms.api.DatabaseManagementServiceBuilder;\r\nimport org.neo4j.graphdb.GraphDatabaseService;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.data.neo4j.repository.config.EnableNeo4jRepositories;\r\n\r\nimport static org.neo4j.configuration.GraphDatabaseSettings.DEFAULT_DATABASE_NAME;\r\n\r\n@SpringBootApplication\r\n@EnableNeo4jRepositories\r\npublic class AccessingDataNeo4jApplication {\r\n\r\n\tprivate final static Logger log = LoggerFactory.getLogger(AccessingDataNeo4jApplication.class);\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tSpringApplication.run(AccessingDataNeo4jApplication.class, args);\r\n\t\tSystem.exit(0);\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic Configuration cypherDslConfiguration() {\r\n\t\treturn Configuration.newConfig().withDialect(Dialect.NEO4J_5).build();\r\n\t}\r\n\r\n\t@Bean\r\n    public DatabaseManagementService databaseManagementService() {\r\n        DatabaseManagementService managementService = new \r\n\t\t\tDatabaseManagementServiceBuilder(new File(&quot;target/mydb&quot;).toPath())\r\n\t\t\t\t.setConfig(GraphDatabaseSettings.transaction_timeout, Duration.ofSeconds( 60 ) )\r\n\t\t\t\t.build();\r\n\t\tlog.info(&quot;managementService created: {}&quot;,managementService);\r\n\t\tregisterShutdownHook(managementService);\r\n        return managementService;\r\n    }\r\n\r\n    @Bean\r\n    public GraphDatabaseService graphDatabaseService(DatabaseManagementService managementService) {\r\n        // managementService.createDatabase(&quot;mydb&quot;);\r\n        GraphDatabaseService graphDb = managementService.database(DEFAULT_DATABASE_NAME);\r\n\t\tlog.info(&quot;graphDb.isAvailable: {}&quot;,graphDb.isAvailable());\t//true\r\n        return graphDb;\r\n    }\r\n\t\r\n\tprivate static void registerShutdownHook( final DatabaseManagementService managementService ) {\r\n\t\tRuntime.getRuntime().addShutdownHook( new Thread() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\tmanagementService.shutdown();\r\n\t\t\t}\r\n\t\t} );\r\n\t}\t\r\n\r\n\t@Bean\r\n\tCommandLineRunner demo(PersonRepository personRepository) {\r\n\t\treturn args -&gt; {\r\n\r\n\t\t\tpersonRepository.deleteAll();\r\n\r\n\t\t\tPerson greg = new Person(&quot;Greg&quot;);\r\n\t\t\tPerson roy = new Person(&quot;Roy&quot;);\r\n\t\t\tPerson craig = new Person(&quot;Craig&quot;);\r\n\r\n\t\t\tList&lt;Person&gt; team = Arrays.asList(greg, roy, craig);\r\n\r\n\t\t\tlog.info(&quot;Before linking up with Neo4j...&quot;);\r\n\r\n\t\t\tteam.stream().forEach(person -&gt; log.info(&quot;\\t&quot; + person.toString()));\r\n\r\n\t\t\tpersonRepository.save(greg);\r\n\t\t\tpersonRepository.save(roy);\r\n\t\t\tpersonRepository.save(craig);\r\n\r\n\t\t\tgreg = personRepository.findByName(greg.getName());\r\n\t\t\tgreg.worksWith(roy);\r\n\t\t\tgreg.worksWith(craig);\r\n\t\t\tpersonRepository.save(greg);\r\n\r\n\t\t\troy = personRepository.findByName(roy.getName());\r\n\t\t\troy.worksWith(craig);\r\n\t\t\t// We already know that roy works with greg\r\n\t\t\tpersonRepository.save(roy);\r\n\r\n\t\t\t// We already know craig works with roy and greg\r\n\r\n\t\t\tlog.info(&quot;Lookup each person by name...&quot;);\r\n\t\t\tteam.stream().forEach(person -&gt; log.info(\r\n\t\t\t\t\t&quot;\\t&quot; + personRepository.findByName(person.getName()).toString()));\r\n\r\n\t\t\tList&lt;Person&gt; teammates = personRepository.findByTeammatesName(greg.getName());\r\n\t\t\tlog.info(&quot;The following have Greg as a teammate...&quot;);\r\n\t\t\tteammates.stream().forEach(person -&gt; log.info(&quot;\\t&quot; + person.getName()));\r\n\t\t};\r\n\t}\r\n\r\n}\r\n```\r\n\r\n`.\\src\\main\\java\\myapp\\Person.java`:\r\n```java\r\npackage myapp;\r\n\r\nimport java.util.*;\r\nimport java.util.stream.Collectors;\r\nimport org.springframework.data.neo4j.core.schema.*;\r\n\r\n@Node\r\npublic class Person {\r\n\r\n\t@Id @GeneratedValue \r\n\tprivate Long id;\r\n\r\n\tprivate String name;\r\n\r\n\tprivate Person() {\r\n\t\t\r\n\t};\r\n\r\n\tpublic Person(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\t\r\n\t@Relationship(type = &quot;TEAMMATE&quot;)\r\n\tpublic Set&lt;Person&gt; teammates;\r\n\r\n\tpublic void worksWith(Person person) {\r\n\t\tif (teammates == null) {\r\n\t\t\tteammates = new HashSet&lt;&gt;();\r\n\t\t}\r\n\t\tteammates.add(person);\r\n\t}\r\n\r\n\tpublic String toString() {\r\n\t\treturn this.name + &quot;&#39;s teammates =&gt; &quot;\r\n\t\t\t+ Optional.ofNullable(this.teammates).orElse(\r\n\t\t\t\t\tCollections.emptySet()).stream()\r\n\t\t\t\t\t\t.map(Person::getName)\r\n\t\t\t\t\t\t.collect(Collectors.toList());\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n}\r\n```\r\n\r\n`.\\src\\main\\java\\myapp\\PersonRepository.java`:\r\n```java\r\npackage myapp;\r\n\r\nimport java.util.List;\r\nimport org.springframework.data.neo4j.repository.Neo4jRepository;\r\n\r\npublic interface PersonRepository extends Neo4jRepository&lt;Person, Long&gt; {\r\n\tPerson findByName(String name);\r\n\tList&lt;Person&gt; findByTeammatesName(String name);\r\n}\r\n```\r\n## Sample Project execution\r\n`mvn clean spring-boot:run` results in these exceptions being thrown:\r\n```\r\nINFO 8164 --- [           main] o.neo4j.driver.internal.DriverFactory    : Direct driver instance 1068773063 created for server address localhost:7687\r\nERROR 8164 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\r\nCaused by: org.springframework.transaction.TransactionSystemException: Could not open a new Neo4j session: Unable to connect to localhost:7687, ensure the database is running and that there is a working network connection to it.\r\nCaused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: no further information: localhost/127.0.0.1:7687\r\nCaused by: java.net.ConnectException: Connection refused: no further information\r\nINFO 8164 --- [           main] o.neo4j.driver.internal.InternalDriver   : Closing driver instance 1068773063\r\nINFO 8164 --- [           main] o.n.d.i.async.pool.ConnectionPoolImpl    : Closing connection pool towards localhost:7687\r\n```\r\n","title":"How to connect Spring-data-neo4j to embedded neo4j server?","body":"<p>I'm failing to combine Spring Data Neo4j and embedded neo4j server in one app. I've used them separately, but I can't make them work together.\nAlso, I haven't found guide on how to use them together anywhere.</p>\n<h2>Starting points</h2>\n<p>A good base for MRE of Spring-data-neo4j can be found here: <a href=\"https://github.com/spring-guides/gs-accessing-data-neo4j/tree/main/complete\" rel=\"nofollow noreferrer\">gs-accessing-data-neo4j</a>.</p>\n<p>Clues on how to run embedded Neo4J server can be found here:</p>\n<ul>\n<li><a href=\"https://neo4j.com/docs/java-reference/current/java-embedded/setup/\" rel=\"nofollow noreferrer\">neo4j: Embedding Neo4j in your Java application</a></li>\n<li><a href=\"https://www.baeldung.com/java-neo4j\" rel=\"nofollow noreferrer\">baeldung: A Guide to Neo4J with Java</a></li>\n</ul>\n<h2>Sample Project</h2>\n<p>Combining these sources, I've created this project:</p>\n<p><code>./pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;accessing-data-neo4j-complete&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;accessing-data-neo4j-complete&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-neo4j&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\n            &lt;artifactId&gt;neo4j&lt;/artifactId&gt;\n            &lt;version&gt;5.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><code>.\\src\\main\\java\\myapp\\AccessingDataNeo4jApplication.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package myapp;\n\nimport java.io.File;\nimport java.time.Duration;\nimport java.util.Arrays;\nimport java.util.List;\n\nimport org.neo4j.configuration.GraphDatabaseSettings;\nimport org.neo4j.cypherdsl.core.renderer.Configuration;\nimport org.neo4j.cypherdsl.core.renderer.Dialect;\nimport org.neo4j.dbms.api.DatabaseManagementService;\nimport org.neo4j.dbms.api.DatabaseManagementServiceBuilder;\nimport org.neo4j.graphdb.GraphDatabaseService;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.data.neo4j.repository.config.EnableNeo4jRepositories;\n\nimport static org.neo4j.configuration.GraphDatabaseSettings.DEFAULT_DATABASE_NAME;\n\n@SpringBootApplication\n@EnableNeo4jRepositories\npublic class AccessingDataNeo4jApplication {\n\n    private final static Logger log = LoggerFactory.getLogger(AccessingDataNeo4jApplication.class);\n\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(AccessingDataNeo4jApplication.class, args);\n        System.exit(0);\n    }\n    \n    @Bean\n    public Configuration cypherDslConfiguration() {\n        return Configuration.newConfig().withDialect(Dialect.NEO4J_5).build();\n    }\n\n    @Bean\n    public DatabaseManagementService databaseManagementService() {\n        DatabaseManagementService managementService = new \n            DatabaseManagementServiceBuilder(new File(&quot;target/mydb&quot;).toPath())\n                .setConfig(GraphDatabaseSettings.transaction_timeout, Duration.ofSeconds( 60 ) )\n                .build();\n        log.info(&quot;managementService created: {}&quot;,managementService);\n        registerShutdownHook(managementService);\n        return managementService;\n    }\n\n    @Bean\n    public GraphDatabaseService graphDatabaseService(DatabaseManagementService managementService) {\n        // managementService.createDatabase(&quot;mydb&quot;);\n        GraphDatabaseService graphDb = managementService.database(DEFAULT_DATABASE_NAME);\n        log.info(&quot;graphDb.isAvailable: {}&quot;,graphDb.isAvailable());  //true\n        return graphDb;\n    }\n    \n    private static void registerShutdownHook( final DatabaseManagementService managementService ) {\n        Runtime.getRuntime().addShutdownHook( new Thread() {\n            @Override\n            public void run() {\n                managementService.shutdown();\n            }\n        } );\n    }   \n\n    @Bean\n    CommandLineRunner demo(PersonRepository personRepository) {\n        return args -&gt; {\n\n            personRepository.deleteAll();\n\n            Person greg = new Person(&quot;Greg&quot;);\n            Person roy = new Person(&quot;Roy&quot;);\n            Person craig = new Person(&quot;Craig&quot;);\n\n            List&lt;Person&gt; team = Arrays.asList(greg, roy, craig);\n\n            log.info(&quot;Before linking up with Neo4j...&quot;);\n\n            team.stream().forEach(person -&gt; log.info(&quot;\\t&quot; + person.toString()));\n\n            personRepository.save(greg);\n            personRepository.save(roy);\n            personRepository.save(craig);\n\n            greg = personRepository.findByName(greg.getName());\n            greg.worksWith(roy);\n            greg.worksWith(craig);\n            personRepository.save(greg);\n\n            roy = personRepository.findByName(roy.getName());\n            roy.worksWith(craig);\n            // We already know that roy works with greg\n            personRepository.save(roy);\n\n            // We already know craig works with roy and greg\n\n            log.info(&quot;Lookup each person by name...&quot;);\n            team.stream().forEach(person -&gt; log.info(\n                    &quot;\\t&quot; + personRepository.findByName(person.getName()).toString()));\n\n            List&lt;Person&gt; teammates = personRepository.findByTeammatesName(greg.getName());\n            log.info(&quot;The following have Greg as a teammate...&quot;);\n            teammates.stream().forEach(person -&gt; log.info(&quot;\\t&quot; + person.getName()));\n        };\n    }\n\n}\n</code></pre>\n<p><code>.\\src\\main\\java\\myapp\\Person.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package myapp;\n\nimport java.util.*;\nimport java.util.stream.Collectors;\nimport org.springframework.data.neo4j.core.schema.*;\n\n@Node\npublic class Person {\n\n    @Id @GeneratedValue \n    private Long id;\n\n    private String name;\n\n    private Person() {\n        \n    };\n\n    public Person(String name) {\n        this.name = name;\n    }\n    \n    @Relationship(type = &quot;TEAMMATE&quot;)\n    public Set&lt;Person&gt; teammates;\n\n    public void worksWith(Person person) {\n        if (teammates == null) {\n            teammates = new HashSet&lt;&gt;();\n        }\n        teammates.add(person);\n    }\n\n    public String toString() {\n        return this.name + &quot;'s teammates =&gt; &quot;\n            + Optional.ofNullable(this.teammates).orElse(\n                    Collections.emptySet()).stream()\n                        .map(Person::getName)\n                        .collect(Collectors.toList());\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p><code>.\\src\\main\\java\\myapp\\PersonRepository.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package myapp;\n\nimport java.util.List;\nimport org.springframework.data.neo4j.repository.Neo4jRepository;\n\npublic interface PersonRepository extends Neo4jRepository&lt;Person, Long&gt; {\n    Person findByName(String name);\n    List&lt;Person&gt; findByTeammatesName(String name);\n}\n</code></pre>\n<h2>Sample Project execution</h2>\n<p><code>mvn clean spring-boot:run</code> results in these exceptions being thrown:</p>\n<pre><code>INFO 8164 --- [           main] o.neo4j.driver.internal.DriverFactory    : Direct driver instance 1068773063 created for server address localhost:7687\nERROR 8164 --- [           main] o.s.boot.SpringApplication               : Application run failed\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\nCaused by: org.springframework.transaction.TransactionSystemException: Could not open a new Neo4j session: Unable to connect to localhost:7687, ensure the database is running and that there is a working network connection to it.\nCaused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: no further information: localhost/127.0.0.1:7687\nCaused by: java.net.ConnectException: Connection refused: no further information\nINFO 8164 --- [           main] o.neo4j.driver.internal.InternalDriver   : Closing driver instance 1068773063\nINFO 8164 --- [           main] o.n.d.i.async.pool.ConnectionPoolImpl    : Closing connection pool towards localhost:7687\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":6023206,"reputation":7992,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1645012482,"post_id":71141351,"comment_id":125755999,"body_markdown":"question titles are typically in the format of a question, you need to include enough information here for others to recreate the problem. when does this occur ? does this have something to do with your gradle dependencies ? please include more details","body":"question titles are typically in the format of a question, you need to include enough information here for others to recreate the problem. when does this occur ? does this have something to do with your gradle dependencies ? please include more details"}],"answers":[{"tags":[],"owner":{"account_id":21158290,"reputation":11,"user_id":15557103,"display_name":"Ezoxe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645022291,"creation_date":1645022291,"answer_id":71143825,"question_id":71141351,"body_markdown":"I just had the problem, just need to update all dependencies in `build.gradle(:app)` folder :\r\n\r\n https://i.stack.imgur.com/lg7OP.png\r\n\r\n\r\nWhen the dependencies are not up to date, they are highlighted, you hover your mouse over them and it prompts you to update them :\r\n  \r\n https://i.stack.imgur.com/EhnU0.png","title":"Caused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException:","body":"<p>I just had the problem, just need to update all dependencies in <code>build.gradle(:app)</code> folder :</p>\n<p><a href=\"https://i.stack.imgur.com/lg7OP.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/lg7OP.png</a></p>\n<p>When the dependencies are not up to date, they are highlighted, you hover your mouse over them and it prompts you to update them :</p>\n<p><a href=\"https://i.stack.imgur.com/EhnU0.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/EhnU0.png</a></p>\n"},{"tags":[],"owner":{"account_id":17049739,"reputation":113,"user_id":13573253,"display_name":"ϻisռad Ϙasiϻ"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1655653655,"creation_date":1655653655,"answer_id":72678291,"question_id":71141351,"body_markdown":"I got the same error for using &#39;&lt;&#39; character in the value for the attribute &quot;android:text&quot; associated with an element type &quot;TextView&quot;.\r\n\r\nTry:\r\n\r\n    1. Build/Clean Project\r\n    2. Build/Rebuild Project","title":"Caused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException:","body":"<p>I got the same error for using '&lt;' character in the value for the attribute &quot;android:text&quot; associated with an element type &quot;TextView&quot;.</p>\n<p>Try:</p>\n<pre><code>1. Build/Clean Project\n2. Build/Rebuild Project\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25783519,"reputation":1,"user_id":19528779,"display_name":"Yusuf Kaan Demirbaş"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662712585,"creation_date":1662712585,"answer_id":73659452,"question_id":71141351,"body_markdown":"can be caused of\r\n implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:$lifecycle_version&quot;","title":"Caused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException:","body":"<p>can be caused of\nimplementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:$lifecycle_version&quot;</p>\n"},{"tags":[],"owner":{"account_id":21696394,"reputation":349,"user_id":16010236,"display_name":"Vaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676745383,"creation_date":1676745383,"answer_id":75495537,"question_id":71141351,"body_markdown":"The issue for me was in the `data_extraction_rules.xml` file.  I deleted the  `TODO` but also deleted the `&lt;!--` which was on the same line.  After re-adding `&lt;!--` this resolved the error.","title":"Caused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException:","body":"<p>The issue for me was in the <code>data_extraction_rules.xml</code> file.  I deleted the  <code>TODO</code> but also deleted the <code>&lt;!--</code> which was on the same line.  After re-adding <code>&lt;!--</code> this resolved the error.</p>\n"},{"tags":[],"owner":{"account_id":11448833,"reputation":431,"user_id":8391757,"accept_rate":25,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698745890,"creation_date":1698745890,"answer_id":77394857,"question_id":71141351,"body_markdown":"Upgrading compileSdkVersion from 30 to 31 solved the issue for me","title":"Caused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException:","body":"<p>Upgrading compileSdkVersion from 30 to 31 solved the issue for me</p>\n"}],"owner":{"account_id":19798275,"reputation":41,"user_id":14499846,"display_name":"Dev Garg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25463,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1701367651,"creation_date":1645012249,"question_id":71141351,"body_markdown":"Error: Caused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing \r\ncom.android.build.gradle.internal.res.ParseLibraryResourcesTask$ParseResourcesRunnable\r\n\r\n--------\r\n\r\nWow, This is my first Stackoverflow question as a programmer.\r\nThe problem I&#39;m getting is in Android ( Java ) when running the project \r\ntried many things but not got any solution. Please help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jUEt5.jpg","title":"Caused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException:","body":"<p>Error: Caused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing\ncom.android.build.gradle.internal.res.ParseLibraryResourcesTask$ParseResourcesRunnable</p>\n<hr />\n<p>Wow, This is my first Stackoverflow question as a programmer.\nThe problem I'm getting is in Android ( Java ) when running the project\ntried many things but not got any solution. Please help.</p>\n"},{"tags":["java","maven","maven-jaxb2-plugin"],"answers":[{"tags":[],"owner":{"account_id":29874264,"reputation":463,"user_id":22894892,"display_name":"Laurent Schoelens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701367407,"creation_date":1701367407,"answer_id":77580737,"question_id":76002782,"body_markdown":"I think this is related to this [other question](https://stackoverflow.com/questions/77530239/why-cant-i-use-multiple-namespaceprefix-for-one-package-info-java-via-urnjaxb)\r\n\r\nI&#39;ve created the following [issue](https://github.com/highsource/jaxb-tools/issues/457) in jaxb-tools to make the namespace plugin capable of this since normally you can&#39;t define the prefix tag with `namespaceURI` attribute","title":"maven-jaxb2-plugin namespace issue while generating pojos","body":"<p>I think this is related to this <a href=\"https://stackoverflow.com/questions/77530239/why-cant-i-use-multiple-namespaceprefix-for-one-package-info-java-via-urnjaxb\">other question</a></p>\n<p>I've created the following <a href=\"https://github.com/highsource/jaxb-tools/issues/457\" rel=\"nofollow noreferrer\">issue</a> in jaxb-tools to make the namespace plugin capable of this since normally you can't define the prefix tag with <code>namespaceURI</code> attribute</p>\n"}],"owner":{"account_id":9224304,"reputation":46,"user_id":6852584,"display_name":"Daniel Jonas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701367407,"creation_date":1681371251,"question_id":76002782,"body_markdown":"&quot;I am using the maven-jaxb2-plugin in a Java Maven project to generate POJOs from XSD files. Im using a xjb file for namespaces and stuff, but sometimes on of the namespaces is not resolved. Is there a way to delay the generation until  all the namespaces have been resolved?&quot;\r\n\r\nThats the namespace part in the xjb file:\r\n```\r\n\t&lt;jxb:bindings schemaLocation=&quot;../../xsd/2_3_1/xbau-baukasten.xsd&quot; node=&quot;/xs:schema&quot;&gt;\r\n        &lt;jxb:bindings&gt;\r\n            &lt;!-- Additional @XmlNs prefix declarations to take effect for this schema/package --&gt;\r\n            &lt;namespace:prefix name=&quot;xbau&quot; namespaceURI=&quot;http://www.xleitstelle.de/xbau/2/3/1&quot; /&gt;\r\n            &lt;namespace:prefix name=&quot;dinspec91379&quot; namespaceURI=&quot;urn:xoev-de:kosit:xoev:datentyp:din-spec-91379_2019-03&quot; /&gt;\r\n            &lt;namespace:prefix name=&quot;xbauk&quot; namespaceURI=&quot;http://www.xleitstelle.de/xbau/kernmodul/1/2&quot; /&gt;\r\n\t\t\t&lt;namespace:prefix name=&quot;xibehoerde&quot; namespaceURI=&quot;http://www.osci.de/xinneres/behoerde/5&quot; /&gt;\r\n\t\t\t&lt;namespace:prefix name=&quot;xicgvz&quot; namespaceURI=&quot;http://www.osci.de/xinneres/codes/gemeindeverzeichnis/3&quot; /&gt;\r\n\t\t\t&lt;namespace:prefix name=&quot;xida&quot; namespaceURI=&quot;http://www.osci.de/xinneres/datum/2&quot; /&gt;\r\n\t\t\t&lt;namespace:prefix name=&quot;xilb&quot; namespaceURI=&quot;http://www.osci.de/xinneres/lichtbild/2&quot; /&gt;\r\n\t\t\t&lt;namespace:prefix name=&quot;xink&quot; namespaceURI=&quot;http://www.osci.de/xinneres/basisnachricht/5&quot; /&gt;\r\n\t\t\t&lt;namespace:prefix name=&quot;xoev-lc&quot; namespaceURI=&quot;http://xoev.de/latinchars/1_1/datatypes&quot; /&gt;\r\n\t\t\t&lt;namespace:prefix name=&quot;xima&quot; namespaceURI=&quot;http://www.osci.de/xinneres/meldeanschrift/3&quot; /&gt;\r\n        \r\n        &lt;/jxb:bindings&gt;\r\n    &lt;/jxb:bindings&gt;\r\n```\r\n\r\nError:\r\n\r\n\r\n```\r\n[ERROR] Error while parsing schema(s).Location [ file:/workspace/source/maven/xbau/type/src/main/resources/xsd/2_3_1/xbau-baukasten.xsd{154,77}].\r\norg.xml.sax.SAXParseException: src-resolve: Cannot resolve the name &#39;xbauk:Dezimal.XBau&#39; to a(n) &#39;type definition&#39; component.\r\n```\r\n\r\nLike said in the question above, the build is not failing everytime. It only fails sporadically.\r\n\r\nI tried to slow down the maven build with using the maven debug mode (-X). That fixed the error but isnt a proper solution.","title":"maven-jaxb2-plugin namespace issue while generating pojos","body":"<p>&quot;I am using the maven-jaxb2-plugin in a Java Maven project to generate POJOs from XSD files. Im using a xjb file for namespaces and stuff, but sometimes on of the namespaces is not resolved. Is there a way to delay the generation until  all the namespaces have been resolved?&quot;</p>\n<p>Thats the namespace part in the xjb file:</p>\n<pre><code>    &lt;jxb:bindings schemaLocation=&quot;../../xsd/2_3_1/xbau-baukasten.xsd&quot; node=&quot;/xs:schema&quot;&gt;\n        &lt;jxb:bindings&gt;\n            &lt;!-- Additional @XmlNs prefix declarations to take effect for this schema/package --&gt;\n            &lt;namespace:prefix name=&quot;xbau&quot; namespaceURI=&quot;http://www.xleitstelle.de/xbau/2/3/1&quot; /&gt;\n            &lt;namespace:prefix name=&quot;dinspec91379&quot; namespaceURI=&quot;urn:xoev-de:kosit:xoev:datentyp:din-spec-91379_2019-03&quot; /&gt;\n            &lt;namespace:prefix name=&quot;xbauk&quot; namespaceURI=&quot;http://www.xleitstelle.de/xbau/kernmodul/1/2&quot; /&gt;\n            &lt;namespace:prefix name=&quot;xibehoerde&quot; namespaceURI=&quot;http://www.osci.de/xinneres/behoerde/5&quot; /&gt;\n            &lt;namespace:prefix name=&quot;xicgvz&quot; namespaceURI=&quot;http://www.osci.de/xinneres/codes/gemeindeverzeichnis/3&quot; /&gt;\n            &lt;namespace:prefix name=&quot;xida&quot; namespaceURI=&quot;http://www.osci.de/xinneres/datum/2&quot; /&gt;\n            &lt;namespace:prefix name=&quot;xilb&quot; namespaceURI=&quot;http://www.osci.de/xinneres/lichtbild/2&quot; /&gt;\n            &lt;namespace:prefix name=&quot;xink&quot; namespaceURI=&quot;http://www.osci.de/xinneres/basisnachricht/5&quot; /&gt;\n            &lt;namespace:prefix name=&quot;xoev-lc&quot; namespaceURI=&quot;http://xoev.de/latinchars/1_1/datatypes&quot; /&gt;\n            &lt;namespace:prefix name=&quot;xima&quot; namespaceURI=&quot;http://www.osci.de/xinneres/meldeanschrift/3&quot; /&gt;\n        \n        &lt;/jxb:bindings&gt;\n    &lt;/jxb:bindings&gt;\n</code></pre>\n<p>Error:</p>\n<pre><code>[ERROR] Error while parsing schema(s).Location [ file:/workspace/source/maven/xbau/type/src/main/resources/xsd/2_3_1/xbau-baukasten.xsd{154,77}].\norg.xml.sax.SAXParseException: src-resolve: Cannot resolve the name 'xbauk:Dezimal.XBau' to a(n) 'type definition' component.\n</code></pre>\n<p>Like said in the question above, the build is not failing everytime. It only fails sporadically.</p>\n<p>I tried to slow down the maven build with using the maven debug mode (-X). That fixed the error but isnt a proper solution.</p>\n"},{"tags":["java","mongodb","spring-boot","docker","docker-compose"],"answers":[{"tags":[],"owner":{"account_id":30034019,"reputation":1,"user_id":23016473,"display_name":"ApplesAndPotatoes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701367364,"creation_date":1701367364,"answer_id":77580733,"question_id":77567237,"body_markdown":"Instead of using application.yml, you need to configure your connection to the database in a config Java class where you configure everything in regards to MongoDB.  \r\n\r\nDefine your connection string in your instantiation of MongoClient, MongoTemplate, and MongoDatabase.","title":"A Spring Boot Docker container won&#39;t connect with its MongoDB Docker container database","body":"<p>Instead of using application.yml, you need to configure your connection to the database in a config Java class where you configure everything in regards to MongoDB.</p>\n<p>Define your connection string in your instantiation of MongoClient, MongoTemplate, and MongoDatabase.</p>\n"}],"owner":{"account_id":5585347,"reputation":1,"user_id":4425898,"display_name":"Cricket_king"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701367364,"creation_date":1701206888,"question_id":77567237,"body_markdown":"I&#39;m trying to build and create a connection between two Docker containers using a `docker-compose.yml` file as well as my Spring Boot app&#39;s `application.yml` file.  One container is for my Spring Boot app and the other is for its MongoDB database. \r\n\r\nAs it stands, this is the error I receive when I run `docker build spring-app .` followed by `docker compose up` (in the directory of the docker-compose file):\r\n\r\n``` spring | 2023-11-28T00:49:54.130Z INFO 1 --- [product-db:27017] org.mongodb.driver.cluster : Exception in monitor thread while connecting to server database:27017 ``` \r\n\r\nI&#39;ve tried removing the authentication requirement for the database, and this allows the app to connect to the database.  I no longer get this error, and it connects properly.\r\n\r\nI&#39;ve tried removing the ports, assigning a Docker network to both containers, and explicitly assigning the authentication-database.  For each of these, I still receive the same &quot;Exception in monitory thread&quot; error.\r\n\r\nI&#39;ve also tried the option of using a mongo-init.js file, like is used in the answers to [this](https://stackoverflow.com/questions/71729732/authentication-failed-connecting-to-mongodb-running-in-a-local-docker-cointainer) question, but this resulted in a directory already exists error for me.\r\n\r\n```  \r\nnetworks:\r\n  spring-docker-network:\r\n    driver: bridge\r\n\r\nservices:\r\n  product-db:\r\n    image: mongo:latest\r\n    container_name: &quot;product-db&quot;\r\n    networks:\r\n      - spring-docker-network\r\n    ports:\r\n      - &quot;27017:27017&quot;\r\n    hostname: product-db\r\n    environment:\r\n      MONGO_INITDB_ROOT_USERNAME: admin_username\r\n      MONGO_INITDB_ROOT_PASSWORD: admin_password\r\n      MONGO_INITDB_DATABASE: product-db\r\n\r\n  spring-app:\r\n    depends_on:\r\n      - product-db\r\n    image: spring-app\r\n    container_name: &quot;spring-app&quot;\r\n    restart: no\r\n    ports:\r\n      - &quot;8080:8080&quot;\r\n    networks:\r\n      - spring-docker-network\r\n    links:\r\n      - product-db\r\n\r\nvolumes:\r\n  data: {}\r\n```\r\n\r\nHere is my `application.yml` file:\r\n```\r\nspring:\r\n  data:\r\n    mongodb:\r\n      database: product-db\r\n      host: product-db\r\n      port: 27017\r\n      auto-index-creation: true\r\n      username: admin_username\r\n      password: admin_password\r\n      authentication-database: admin\r\n```\r\n","title":"A Spring Boot Docker container won&#39;t connect with its MongoDB Docker container database","body":"<p>I'm trying to build and create a connection between two Docker containers using a <code>docker-compose.yml</code> file as well as my Spring Boot app's <code>application.yml</code> file.  One container is for my Spring Boot app and the other is for its MongoDB database.</p>\n<p>As it stands, this is the error I receive when I run <code>docker build spring-app .</code> followed by <code>docker compose up</code> (in the directory of the docker-compose file):</p>\n<p><code>spring | 2023-11-28T00:49:54.130Z INFO 1 --- [product-db:27017] org.mongodb.driver.cluster : Exception in monitor thread while connecting to server database:27017</code></p>\n<p>I've tried removing the authentication requirement for the database, and this allows the app to connect to the database.  I no longer get this error, and it connects properly.</p>\n<p>I've tried removing the ports, assigning a Docker network to both containers, and explicitly assigning the authentication-database.  For each of these, I still receive the same &quot;Exception in monitory thread&quot; error.</p>\n<p>I've also tried the option of using a mongo-init.js file, like is used in the answers to <a href=\"https://stackoverflow.com/questions/71729732/authentication-failed-connecting-to-mongodb-running-in-a-local-docker-cointainer\">this</a> question, but this resulted in a directory already exists error for me.</p>\n<pre><code>networks:\n  spring-docker-network:\n    driver: bridge\n\nservices:\n  product-db:\n    image: mongo:latest\n    container_name: &quot;product-db&quot;\n    networks:\n      - spring-docker-network\n    ports:\n      - &quot;27017:27017&quot;\n    hostname: product-db\n    environment:\n      MONGO_INITDB_ROOT_USERNAME: admin_username\n      MONGO_INITDB_ROOT_PASSWORD: admin_password\n      MONGO_INITDB_DATABASE: product-db\n\n  spring-app:\n    depends_on:\n      - product-db\n    image: spring-app\n    container_name: &quot;spring-app&quot;\n    restart: no\n    ports:\n      - &quot;8080:8080&quot;\n    networks:\n      - spring-docker-network\n    links:\n      - product-db\n\nvolumes:\n  data: {}\n</code></pre>\n<p>Here is my <code>application.yml</code> file:</p>\n<pre><code>spring:\n  data:\n    mongodb:\n      database: product-db\n      host: product-db\n      port: 27017\n      auto-index-creation: true\n      username: admin_username\n      password: admin_password\n      authentication-database: admin\n</code></pre>\n"},{"tags":["java","maven-jaxb2-plugin"],"answers":[{"tags":[],"owner":{"account_id":29874264,"reputation":463,"user_id":22894892,"display_name":"Laurent Schoelens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701367090,"creation_date":1701367090,"answer_id":77580712,"question_id":75947133,"body_markdown":"You try to mix SpringBoot 3 (which is jakarta based) with javax based artifacts.\r\n\r\nYou also mixed jaxb-api 2.3 (which is javaee 8) with jaxb-runtime 4 (which is jakartaee 10) and xjc 3 (which is jakartaee 9).\r\n\r\nMy guess is the jaxb plugin is getting xjc 3 from your dependencies (which shouldnt be there) and then wants xsd / bindings in jakarta mode.\r\n\r\nIf you really target SB3, you should upgrade the plugin version with jakarta support (https://www.mojohaus.org/jaxb2-maven-plugin/Documentation/v3.1.0/index.html) and update XSD from java&#39;s jaxb namespace to jakarta&#39;s jaxb namespace `xmlns:jaxb = &quot;https://jakarta.ee/xml/ns/jaxb&quot;`\r\n\r\n","title":"jaxb problem, error message when compiling","body":"<p>You try to mix SpringBoot 3 (which is jakarta based) with javax based artifacts.</p>\n<p>You also mixed jaxb-api 2.3 (which is javaee 8) with jaxb-runtime 4 (which is jakartaee 10) and xjc 3 (which is jakartaee 9).</p>\n<p>My guess is the jaxb plugin is getting xjc 3 from your dependencies (which shouldnt be there) and then wants xsd / bindings in jakarta mode.</p>\n<p>If you really target SB3, you should upgrade the plugin version with jakarta support (<a href=\"https://www.mojohaus.org/jaxb2-maven-plugin/Documentation/v3.1.0/index.html\" rel=\"nofollow noreferrer\">https://www.mojohaus.org/jaxb2-maven-plugin/Documentation/v3.1.0/index.html</a>) and update XSD from java's jaxb namespace to jakarta's jaxb namespace <code>xmlns:jaxb = &quot;https://jakarta.ee/xml/ns/jaxb&quot;</code></p>\n"}],"owner":{"account_id":28229935,"reputation":1,"user_id":21579305,"display_name":"Youssef HOURRI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701367090,"creation_date":1680767951,"question_id":75947133,"body_markdown":"When I compile my code I have an error because of jaxb2.\r\nthe error message:\r\n\r\nFailed to execute goal org.codehaus.mojo:jaxb2-maven-plugin:2.4:xjc (xjc) on project commandecartes: can&#39;t parse argument number: &#39;&#39;http://java.sun.com/xml/ns/jaxb&#39;&#39;: For input string: &quot;&#39;&#39;http://java.sun.com/xml/ns/jaxb&#39;&#39;&quot; -\\&gt; \\[Help 1\\]\r\n\r\nhere is my pom:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;!-- Spring --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- database --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- testing --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- XML --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n    \r\n        &lt;/dependency&gt;\r\n        &lt;!--generate java classes for the given xml representation--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n    \r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.2&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- management of persistence and object/relational mapping in Java--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n    \r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- enables distributed transactions--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.transaction-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- other --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- PDF--&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/itextpdf --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.13.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kernel&lt;/artifactId&gt;\r\n            &lt;version&gt;7.2.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;io&lt;/artifactId&gt;\r\n            &lt;version&gt;7.2.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;layout&lt;/artifactId&gt;\r\n            &lt;version&gt;7.2.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n    &lt;/dependencies&gt;\r\n    \r\n    \r\n    &lt;build&gt;\r\n    \r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n    \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;xjc&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;xjc&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;!-- The package of your fr.geomod.components.cmdecarte.basket.model.generated sources --&gt;\r\n                    &lt;packageName&gt;fr.geomod.components.cmdecarte.basket.model.generated&lt;/packageName&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nI tried to go beyond javax, put the language in in the pom. I can&#39;t find the problem.","title":"jaxb problem, error message when compiling","body":"<p>When I compile my code I have an error because of jaxb2.\nthe error message:</p>\n<p>Failed to execute goal org.codehaus.mojo:jaxb2-maven-plugin:2.4:xjc (xjc) on project commandecartes: can't parse argument number: ''http://java.sun.com/xml/ns/jaxb'': For input string: &quot;''http://java.sun.com/xml/ns/jaxb''&quot; -&gt; [Help 1]</p>\n<p>here is my pom:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.4&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;!-- Spring --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- database --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n        &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- testing --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- XML --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;4.0.1&lt;/version&gt;\n\n    &lt;/dependency&gt;\n    &lt;!--generate java classes for the given xml representation--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n        &lt;version&gt;2.3.2&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- management of persistence and object/relational mapping in Java--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n\n    &lt;/dependency&gt;\n\n    &lt;!-- enables distributed transactions--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.transaction-api&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n        &lt;artifactId&gt;activation&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- other --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- PDF--&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/itextpdf --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n        &lt;version&gt;5.5.13.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;kernel&lt;/artifactId&gt;\n        &lt;version&gt;7.2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;io&lt;/artifactId&gt;\n        &lt;version&gt;7.2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;layout&lt;/artifactId&gt;\n        &lt;version&gt;7.2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n\n&lt;build&gt;\n\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;17&lt;/source&gt;\n                &lt;target&gt;17&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;xjc&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;xjc&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;!-- The package of your fr.geomod.components.cmdecarte.basket.model.generated sources --&gt;\n                &lt;packageName&gt;fr.geomod.components.cmdecarte.basket.model.generated&lt;/packageName&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>I tried to go beyond javax, put the language in in the pom. I can't find the problem.</p>\n"},{"tags":["java","lambda","java-8"],"comments":[{"owner":{"account_id":195331,"reputation":275368,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1464886447,"post_id":37597728,"comment_id":62680610,"body_markdown":"What is the functional interface type (and method) expected by `setRowFactory`&#39;s parameter?","body":"What is the functional interface type (and method) expected by <code>setRowFactory</code>&#39;s parameter?"},{"owner":{"account_id":4686592,"reputation":3132,"user_id":3793865,"accept_rate":75,"display_name":"george"},"score":3,"creation_date":1464890163,"post_id":37597728,"comment_id":62682776,"body_markdown":"you can also use a method reference with just TableRowCustom::new which is a replacement for the lambda","body":"you can also use a method reference with just TableRowCustom::new which is a replacement for the lambda"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":2,"creation_date":1464944283,"post_id":37597728,"comment_id":62703644,"body_markdown":"@george, you can&#39;t use a method reference to reference a method that does not take the same number of parameters as the target functional type (here 0 vs 1, apparently).","body":"@george, you can&#39;t use a method reference to reference a method that does not take the same number of parameters as the target functional type (here 0 vs 1, apparently)."},{"owner":{"account_id":4686592,"reputation":3132,"user_id":3793865,"accept_rate":75,"display_name":"george"},"score":0,"creation_date":1464944706,"post_id":37597728,"comment_id":62703877,"body_markdown":"@Didier L based on the Dims example he&#39;s got a default constructor and a supplier lambda interface so in his example what I&#39;ve suggested will 100% work. You refer to cases when the constructor has parameters etc. but that&#39;s a different story than the question above.","body":"@Didier L based on the Dims example he&#39;s got a default constructor and a supplier lambda interface so in his example what I&#39;ve suggested will 100% work. You refer to cases when the constructor has parameters etc. but that&#39;s a different story than the question above."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1464945242,"post_id":37597728,"comment_id":62704211,"body_markdown":"@george His constructor has no parameters, and the expected interface obviously takes one (as he says that it compiles with `__`), so it cannot be a simple `Supplier`. In fact I think it is likely a JavaFX `Callback` by googling the method name, cf [TableView#setRowFactory(Callback)](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/TableView.html#setRowFactory-javafx.util.Callback-).","body":"@george His constructor has no parameters, and the expected interface obviously takes one (as he says that it compiles with <code>__</code>), so it cannot be a simple <code>Supplier</code>. In fact I think it is likely a JavaFX <code>Callback</code> by googling the method name, cf <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/TableView.html#setRowFactory-javafx.util.Callback-\" rel=\"nofollow noreferrer\">TableView#setRowFactory(Callback)</a>."},{"owner":{"account_id":4686592,"reputation":3132,"user_id":3793865,"accept_rate":75,"display_name":"george"},"score":0,"creation_date":1464946477,"post_id":37597728,"comment_id":62704981,"body_markdown":"it doesn&#39;t really matter whether there are params or not, as long as the lambda interface finds a relevant constructor which satisfies the target type it will still work flawlessly with TableRowCustom::new at compile time. Based on your example with Callable it will look like Callable&lt;TableRowCustom&gt; newOp = TableRowCustom::new;","body":"it doesn&#39;t really matter whether there are params or not, as long as the lambda interface finds a relevant constructor which satisfies the target type it will still work flawlessly with TableRowCustom::new at compile time. Based on your example with Callable it will look like Callable&lt;TableRowCustom&gt; newOp = TableRowCustom::new;"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1464948055,"post_id":37597728,"comment_id":62705922,"body_markdown":"@george the method reference will look for a constructor with 1 parameter, of a super type of TableView, so it won&#39;t work","body":"@george the method reference will look for a constructor with 1 parameter, of a super type of TableView, so it won&#39;t work"},{"owner":{"account_id":4686592,"reputation":3132,"user_id":3793865,"accept_rate":75,"display_name":"george"},"score":0,"creation_date":1464952520,"post_id":37597728,"comment_id":62708579,"body_markdown":"@Didier L the OP can always define a method called say createNewTB which accepts some parameter and returns a new TableRowCustom with no parameters. Then he only have to call TableRowCustom::createNewTB for the lambda","body":"@Didier L the OP can always define a method called say createNewTB which accepts some parameter and returns a new TableRowCustom with no parameters. Then he only have to call TableRowCustom::createNewTB for the lambda"},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1465309826,"post_id":37597728,"comment_id":62841316,"body_markdown":"@george: just using constructor references without thinking about unintended functional parameters can lead to scenarios like in [“Horrendous performance &amp; large heap footprint of Java 8 constructor reference”](http://stackoverflow.com/q/35296734/2711488)","body":"@george: just using constructor references without thinking about unintended functional parameters can lead to scenarios like in <a href=\"http://stackoverflow.com/q/35296734/2711488\">“Horrendous performance &amp; large heap footprint of Java 8 constructor reference”</a>"}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275368,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":52,"is_accepted":true,"score":52,"last_activity_date":1617822737,"creation_date":1464886786,"answer_id":37597939,"question_id":37597728,"body_markdown":"Since you&#39;ve mentioned that this works\r\n\r\n    setRowFactory(__ -&gt; new TableRowCustom());\r\n\r\nI assume that the expected functional interface method must accept a single argument. [The identifier `_` is a reserved keyword since Java 8.][1]\r\n\r\nI would just use a throwaway single (valid identifier) character.\r\n\r\n```\r\nsetRowFactory(i -&gt; new TableRowCustom());\r\nsetRowFactory($ -&gt; new TableRowCustom()); \r\n```\r\nAlthough, you should probably avoid the use of the `$`, the Java Language Specification [states][2]\r\n\r\n&gt;  The dollar sign should be used only in mechanically generated source code or, rarely, to access pre-existing names on legacy systems. The underscore may be used in identifiers formed of two or more characters, but it cannot be used as a one-character identifier due to being a keyword. \r\n\r\nYou can also write out\r\n\r\n    setRowFactory(ignored -&gt; new TableRowCustom());\r\n\r\nto be explicit.\r\n\r\nThe [Java Language Specification][3] defines the syntax of a lambda expression\r\n\r\n    LambdaExpression:\r\n      LambdaParameters -&gt; LambdaBody \r\n\r\nand\r\n\r\n    LambdaParameters:\r\n      Identifier\r\n      ( [FormalParameterList] )\r\n      ( InferredFormalParameterList )\r\n    InferredFormalParameterList:\r\n      Identifier {, Identifier}\r\n\r\nIn other words, you cannot omit an identifier.\r\n\r\n----------\r\n\r\nAs [Holger][4] suggests, if and when they decide to use `_` as an unused parameter name, it will be easy to change from `__` to `_` in your source code. You may want to just stick with that for now.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/23523946/underscore-is-a-reserved-keyword\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se16/html/jls-3.html#jls-3.8\r\n  [3]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27.1\r\n  [4]: https://stackoverflow.com/questions/37597728/java-8-writing-a-lambda-expression-when-arguments-arent-needed/37597939?noredirect=1#comment62681143_37597939","title":"Writing a lambda expression when parameters are ignored in the body","body":"<p>Since you've mentioned that this works</p>\n<pre><code>setRowFactory(__ -&gt; new TableRowCustom());\n</code></pre>\n<p>I assume that the expected functional interface method must accept a single argument. <a href=\"https://stackoverflow.com/questions/23523946/underscore-is-a-reserved-keyword\">The identifier <code>_</code> is a reserved keyword since Java 8.</a></p>\n<p>I would just use a throwaway single (valid identifier) character.</p>\n<pre><code>setRowFactory(i -&gt; new TableRowCustom());\nsetRowFactory($ -&gt; new TableRowCustom()); \n</code></pre>\n<p>Although, you should probably avoid the use of the <code>$</code>, the Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-3.html#jls-3.8\" rel=\"nofollow noreferrer\">states</a></p>\n<blockquote>\n<p>The dollar sign should be used only in mechanically generated source code or, rarely, to access pre-existing names on legacy systems. The underscore may be used in identifiers formed of two or more characters, but it cannot be used as a one-character identifier due to being a keyword.</p>\n</blockquote>\n<p>You can also write out</p>\n<pre><code>setRowFactory(ignored -&gt; new TableRowCustom());\n</code></pre>\n<p>to be explicit.</p>\n<p>The <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27.1\" rel=\"nofollow noreferrer\">Java Language Specification</a> defines the syntax of a lambda expression</p>\n<pre><code>LambdaExpression:\n  LambdaParameters -&gt; LambdaBody \n</code></pre>\n<p>and</p>\n<pre><code>LambdaParameters:\n  Identifier\n  ( [FormalParameterList] )\n  ( InferredFormalParameterList )\nInferredFormalParameterList:\n  Identifier {, Identifier}\n</code></pre>\n<p>In other words, you cannot omit an identifier.</p>\n<hr />\n<p>As <a href=\"https://stackoverflow.com/questions/37597728/java-8-writing-a-lambda-expression-when-arguments-arent-needed/37597939?noredirect=1#comment62681143_37597939\">Holger</a> suggests, if and when they decide to use <code>_</code> as an unused parameter name, it will be easy to change from <code>__</code> to <code>_</code> in your source code. You may want to just stick with that for now.</p>\n"},{"tags":[],"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701366759,"creation_date":1682622166,"answer_id":76123826,"question_id":37597728,"body_markdown":"As of Java 21 (September 2023), you can do:\r\n\r\n```java\r\nsetRowFactory(_ -&gt; new TableRowCustom());\r\n```\r\n\r\n`_` is the so-called &quot;unnamed variable&quot; ([preview feature](https://openjdk.org/jeps/12)). From [JEP 443](https://openjdk.org/jeps/443):\r\n\r\n&gt;Enhance the Java language with _unnamed patterns_, which match a record component without stating the component&#39;s name or type, and _unnamed variables_, which can be initialized but not used. Both are denoted by an underscore character, `_`. This is a [preview language feature](https://openjdk.org/jeps/12).\r\n&gt;\r\n&gt;[…]\r\n&gt;\r\n&gt;An _unnamed variable_ is declared when either the local variable in a local variable declaration statement, or an exception parameter in a catch clause, or a lambda parameter in a lambda expression is denoted by an underscore. It allows the identifier which follows the type or var in the statement or expression to be elided; e.g.,\r\n&gt;\r\n&gt;* `int _ = q.remove();`\r\n&gt;* `... } catch (NumberFormatException _) { ...`\r\n&gt;* `(int x, int _) -&gt; x + x`\r\n&gt;\r\n&gt;In the case of single-parameter lambda expressions, such as `_ -&gt; &quot;NODATA&quot;`, the unnamed variable should not be confused with the unnamed pattern.\r\n\r\nThe terminology indeed is a bit confusing, but [Nicolai Parlog](https://www.youtube.com/watch?v=nP1k412Bylw) comes to rescue:\r\n\r\n&gt;_Unnamed variables_ work as:\r\n&gt;\r\n&gt;* local variable\r\n&gt;* try-with-resource\r\n&gt;* for loop variable\r\n&gt;* exception parameter\r\n&gt;* lambda parameter\r\n&gt;\r\n&gt;They work with `var`.\r\n&gt;\r\n&gt;_Unnamed pattern variables_:\r\n&gt;\r\n&gt;* work as pattern variables\r\n&gt;* require explicit type\r\n&gt;\r\n&gt;_Unnamed patterns_:\r\n&gt;\r\n&gt;* replace pattern with `_`\r\n&gt;* bind nothing\r\n&gt;* match everything\r\n&gt;* only in nested patterns","title":"Writing a lambda expression when parameters are ignored in the body","body":"<p>As of Java 21 (September 2023), you can do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>setRowFactory(_ -&gt; new TableRowCustom());\n</code></pre>\n<p><code>_</code> is the so-called &quot;unnamed variable&quot; (<a href=\"https://openjdk.org/jeps/12\" rel=\"nofollow noreferrer\">preview feature</a>). From <a href=\"https://openjdk.org/jeps/443\" rel=\"nofollow noreferrer\">JEP 443</a>:</p>\n<blockquote>\n<p>Enhance the Java language with <em>unnamed patterns</em>, which match a record component without stating the component's name or type, and <em>unnamed variables</em>, which can be initialized but not used. Both are denoted by an underscore character, <code>_</code>. This is a <a href=\"https://openjdk.org/jeps/12\" rel=\"nofollow noreferrer\">preview language feature</a>.</p>\n<p>[…]</p>\n<p>An <em>unnamed variable</em> is declared when either the local variable in a local variable declaration statement, or an exception parameter in a catch clause, or a lambda parameter in a lambda expression is denoted by an underscore. It allows the identifier which follows the type or var in the statement or expression to be elided; e.g.,</p>\n<ul>\n<li><code>int _ = q.remove();</code></li>\n<li><code>... } catch (NumberFormatException _) { ...</code></li>\n<li><code>(int x, int _) -&gt; x + x</code></li>\n</ul>\n<p>In the case of single-parameter lambda expressions, such as <code>_ -&gt; &quot;NODATA&quot;</code>, the unnamed variable should not be confused with the unnamed pattern.</p>\n</blockquote>\n<p>The terminology indeed is a bit confusing, but <a href=\"https://www.youtube.com/watch?v=nP1k412Bylw\" rel=\"nofollow noreferrer\">Nicolai Parlog</a> comes to rescue:</p>\n<blockquote>\n<p><em>Unnamed variables</em> work as:</p>\n<ul>\n<li>local variable</li>\n<li>try-with-resource</li>\n<li>for loop variable</li>\n<li>exception parameter</li>\n<li>lambda parameter</li>\n</ul>\n<p>They work with <code>var</code>.</p>\n<p><em>Unnamed pattern variables</em>:</p>\n<ul>\n<li>work as pattern variables</li>\n<li>require explicit type</li>\n</ul>\n<p><em>Unnamed patterns</em>:</p>\n<ul>\n<li>replace pattern with <code>_</code></li>\n<li>bind nothing</li>\n<li>match everything</li>\n<li>only in nested patterns</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":94736,"reputation":48411,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24851,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":37597939,"answer_count":2,"score":45,"last_activity_date":1701366759,"creation_date":1464886183,"question_id":37597728,"body_markdown":"How do I write a lambda expression if it doesn&#39;t require arguments and hence its name is excessive?\r\n\r\nThis way doesn&#39;t compile:\r\n\r\n    setRowFactory(-&gt; new TableRowCustom());\r\n\r\nBut this one does:\r\n\r\n    setRowFactory(__ -&gt; new TableRowCustom());\r\n\r\nIs there a better way?","title":"Writing a lambda expression when parameters are ignored in the body","body":"<p>How do I write a lambda expression if it doesn't require arguments and hence its name is excessive?</p>\n\n<p>This way doesn't compile:</p>\n\n<pre><code>setRowFactory(-&gt; new TableRowCustom());\n</code></pre>\n\n<p>But this one does:</p>\n\n<pre><code>setRowFactory(__ -&gt; new TableRowCustom());\n</code></pre>\n\n<p>Is there a better way?</p>\n"},{"tags":["java","data-structures","variable-length"],"comments":[{"owner":{"account_id":251706,"reputation":5300,"user_id":529282,"display_name":"Martheen"},"score":2,"creation_date":1701366082,"post_id":77580607,"comment_id":136769612,"body_markdown":"https://en.wikipedia.org/wiki/Common_logarithm","body":"<a href=\"https://en.wikipedia.org/wiki/Common_logarithm\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Common_logarithm</a>"}],"owner":{"account_id":30033892,"reputation":1,"user_id":23016375,"display_name":"Pranav Madhavan"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1701366582,"answer_count":0,"score":-3,"last_activity_date":1701366626,"creation_date":1701365935,"question_id":77580607,"body_markdown":"how does logarithmic approach for finding number of digits in a integer in java works \r\n\r\nwhy do we use log10? and is this the best method to find length?\r\n\r\n\r\n&lt;--------- int length = (int) (Math.log10(number) + 1);---------&gt;","title":"how does logarithmic approach for finding number of digits in a integer in java works?","body":"<p>how does logarithmic approach for finding number of digits in a integer in java works</p>\n<p>why do we use log10? and is this the best method to find length?</p>\n<p>&lt;--------- int length = (int) (Math.log10(number) + 1);---------&gt;</p>\n"},{"tags":["java","morse-code"],"comments":[{"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"score":0,"creation_date":1421646868,"post_id":28018666,"comment_id":44424015,"body_markdown":"Morse code would be for only alphabates and numbers and that too for english? right?? If this is the case then you can create constants for the each morse code in constant class and compare it. the simplest way.","body":"Morse code would be for only alphabates and numbers and that too for english? right?? If this is the case then you can create constants for the each morse code in constant class and compare it. the simplest way."},{"owner":{"account_id":5131992,"reputation":1,"user_id":4468713,"display_name":"Daniel Tian"},"score":0,"creation_date":1421647199,"post_id":28018666,"comment_id":44424097,"body_markdown":"Wouldn&#39;t that a bit redundant though?","body":"Wouldn&#39;t that a bit redundant though?"},{"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"score":0,"creation_date":1421657597,"post_id":28018666,"comment_id":44427879,"body_markdown":"yes using a map would be better approach","body":"yes using a map would be better approach"}],"answers":[{"tags":[],"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421648444,"creation_date":1421648444,"answer_id":28018949,"question_id":28018666,"body_markdown":"you can split the input string, then parse it&#39;s content...\r\n\r\n    public static void MoToEng(String string2) {\r\n        String[] splits = string2.split(&quot; &quot;); //you split the string into\r\n                                               //String[] - delimiter = &#39; &#39;\r\n                                               \r\n\r\n        String literal = &quot;&quot;; //this will be your result\r\n            \r\n        for (String split: splits){ //iterate through the String[] split\r\n            \r\n            splits = splits + &quot; &quot;; //your morse code ends with\r\n                                   //a blank - you have to add that \r\n                                   //else equals() won&#39;t find \r\n                                   //a suitable match\r\n            //then look into your morse code\r\n            for (int index = 0; index &lt; morse.length(); index++){ \r\n                string code = morse[index];\r\n\r\n                //if split looks like a morse code, you found your \r\n                //character\r\n                if (split.equals(code){\r\n\r\n                    //translate back then\r\n                    literal = literal + (&#39;A&#39;+index);\r\n\r\n                }\r\n            }\r\n        }\r\n        System.out.println(literal);\r\n    }","title":"Translate morse code into alphabets","body":"<p>you can split the input string, then parse it's content...</p>\n\n<pre><code>public static void MoToEng(String string2) {\n    String[] splits = string2.split(\" \"); //you split the string into\n                                           //String[] - delimiter = ' '\n\n\n    String literal = \"\"; //this will be your result\n\n    for (String split: splits){ //iterate through the String[] split\n\n        splits = splits + \" \"; //your morse code ends with\n                               //a blank - you have to add that \n                               //else equals() won't find \n                               //a suitable match\n        //then look into your morse code\n        for (int index = 0; index &lt; morse.length(); index++){ \n            string code = morse[index];\n\n            //if split looks like a morse code, you found your \n            //character\n            if (split.equals(code){\n\n                //translate back then\n                literal = literal + ('A'+index);\n\n            }\n        }\n    }\n    System.out.println(literal);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1524244,"reputation":229,"user_id":1423072,"display_name":"imTheManager"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1421649910,"creation_date":1421648481,"answer_id":28018961,"question_id":28018666,"body_markdown":"I suggest to create a dictionary using Hashtable, where Alphabets can be used as Key and relevant Morse Code can be paired with this key. If you want to have unique Key Value pair you can use [BiMap][1] for storage.\r\n\r\n    Map&lt;String, String&gt; codeMap = new HashMap&lt;String, String&gt;();\r\n    codeMap.put(&quot;A&quot;, &quot;.- &quot;);\r\n    codeMap.put(&quot;B&quot;, &quot;-... &quot;);\r\n\r\nyou can easily access this map to get either keys or values\r\n\r\n    for (String key: codeMap.keySet() ){\r\n        System.out.println(key+&quot; : &quot;+codeMap.get(key) );\r\n    }\r\n\r\n  [1]: https://code.google.com/p/guava-libraries/wiki/NewCollectionTypesExplained#BiMap","title":"Translate morse code into alphabets","body":"<p>I suggest to create a dictionary using Hashtable, where Alphabets can be used as Key and relevant Morse Code can be paired with this key. If you want to have unique Key Value pair you can use <a href=\"https://code.google.com/p/guava-libraries/wiki/NewCollectionTypesExplained#BiMap\" rel=\"nofollow\">BiMap</a> for storage.</p>\n\n<pre><code>Map&lt;String, String&gt; codeMap = new HashMap&lt;String, String&gt;();\ncodeMap.put(\"A\", \".- \");\ncodeMap.put(\"B\", \"-... \");\n</code></pre>\n\n<p>you can easily access this map to get either keys or values</p>\n\n<pre><code>for (String key: codeMap.keySet() ){\n    System.out.println(key+\" : \"+codeMap.get(key) );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4435760,"reputation":4170,"user_id":3611648,"accept_rate":80,"display_name":"Mustafa sabir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421649283,"creation_date":1421649283,"answer_id":28019108,"question_id":28018666,"body_markdown":"Why dont you use a `Map&lt;String,String&gt;` for storing `&lt;morsecode,english alphabet&gt;` values ?\r\n\r\n    HashMap&lt;String,String&gt; map=new HashMap&lt;String,String&gt;();\r\n    //populate map\r\n    map.put(&quot;.- &quot;,&quot;a&quot;);\r\n    map.put(&quot;-... &quot;,&quot;b&quot;);\r\n\r\nand then in the method `EngToMo(String string1)`\r\n\r\n    public static void EngToMo(String string1){\r\n    \r\n    for (Entry&lt;String, String&gt; entry : map.entrySet()) {\r\n                if (entry.getValue().equals(string1)) {\r\n                    System.out.println(entry.getKey());\r\n                }\r\n            }\r\n    }\r\n\r\nand in the method `MoToEng(String string2)`\r\n\r\n    public static void MoToEng(String string2){\r\n     System.out.println(map.get(string2));\r\n    }","title":"Translate morse code into alphabets","body":"<p>Why dont you use a <code>Map&lt;String,String&gt;</code> for storing <code>&lt;morsecode,english alphabet&gt;</code> values ?</p>\n\n<pre><code>HashMap&lt;String,String&gt; map=new HashMap&lt;String,String&gt;();\n//populate map\nmap.put(\".- \",\"a\");\nmap.put(\"-... \",\"b\");\n</code></pre>\n\n<p>and then in the method <code>EngToMo(String string1)</code></p>\n\n<pre><code>public static void EngToMo(String string1){\n\nfor (Entry&lt;String, String&gt; entry : map.entrySet()) {\n            if (entry.getValue().equals(string1)) {\n                System.out.println(entry.getKey());\n            }\n        }\n}\n</code></pre>\n\n<p>and in the method <code>MoToEng(String string2)</code></p>\n\n<pre><code>public static void MoToEng(String string2){\n System.out.println(map.get(string2));\n}\n</code></pre>\n"}],"owner":{"account_id":5131992,"reputation":1,"user_id":4468713,"display_name":"Daniel Tian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1490,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1701366352,"creation_date":1421646731,"question_id":28018666,"body_markdown":"I am working on a project that could translate morse code into english and vice versa. The below is the specific instruction: &quot;Your program shall prompt the user to specify the desired type of translation, input a string of Morse Code characters or English characters, then display the translated results.\r\nWhen inputting Morse Code, separate each letter/digit with a single space, and delimit multiple words with a “|”. For example, - --- | -... . would be the Morse Code input for the sentence “to be”. Your program only needs to handle a single sentence and can ignore punctuation symbols.&quot; \r\n\r\nAlthough I figured out how to translate english to morse code, I cannot figure out how to translate morse code to english. And if you are reading this please help me! Any help or hints would be very much appreciated! Thanks :)\r\n\r\n\tpublic static String[] morse = { &quot;.- &quot;, &quot;-... &quot;, &quot;-.-. &quot;, &quot;-.. &quot;, &quot;. &quot;,\r\n\t\t\t&quot;..-. &quot;, &quot;--. &quot;, &quot;.... &quot;, &quot;.. &quot;,\r\n\r\n\t\t\t&quot;.--- &quot;, &quot;-.- &quot;, &quot;.-.. &quot;, &quot;-- &quot;, &quot;-. &quot;, &quot;--- &quot;, &quot;.--. &quot;, &quot;--.- &quot;,\r\n\t\t\t&quot;.-. &quot;, &quot;... &quot;, &quot;- &quot;, &quot;..- &quot;,\r\n\r\n\t\t\t&quot;...- &quot;, &quot;.-- &quot;, &quot;-..- &quot;, &quot;-.-- &quot;, &quot;--.. &quot;, &quot;|&quot; };\r\n\r\n\tpublic static String[] alphabet = { &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;,\r\n\t\t\t&quot;i&quot;, &quot;j&quot;, &quot;k&quot;, &quot;l&quot;, &quot;m&quot;, &quot;n&quot;, &quot;o&quot;, &quot;p&quot;, &quot;q&quot;, &quot;r&quot;, &quot;s&quot;, &quot;t&quot;, &quot;u&quot;,\r\n\t\t\t&quot;v&quot;, &quot;w&quot;, &quot;x&quot;, &quot;y&quot;, &quot;z&quot;, &quot; &quot; };\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Input &#39;1&#39; to translate English to Morse Code.&quot;);\r\n\t\tSystem.out.println(&quot;Input &#39;2&#39; to translate Morse Code to English.&quot;);\r\n\t\tint kind = in.nextInt();\r\n\r\n\t\tif (kind == 1) {\r\n\t\t\tSystem.out.println(&quot;Please insert an alphabet string&quot;);\r\n\t\t\tString Eng = in.next();\r\n\t\t\tEngToMo(Eng);\r\n\t\t}\r\n\t\tif (kind == 2) {\r\n\t\t\tSystem.out.println(&quot;Please insert a morse string&quot;);\r\n\t\t\tString Mor = in.next();\r\n\t\t\tMoToEng(Mor);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic static void EngToMo(String string1) {\r\n\t\tString Upper1 = string1.toUpperCase();\r\n\t\tfor (int i = 0; i &lt; Upper1.length(); i++) {\r\n\t\t\tchar x = Upper1.charAt(i);\r\n\t\t\tif (x != &#39; &#39;) {\r\n\t\t\t\tSystem.out.print(morse[x - &#39;A&#39;] + &quot; &quot;);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot; | &quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void MoToEng(String string2) {\r\n\t\t\r\n        }\r\n\t}","title":"Translate morse code into alphabets","body":"<p>I am working on a project that could translate morse code into english and vice versa. The below is the specific instruction: \"Your program shall prompt the user to specify the desired type of translation, input a string of Morse Code characters or English characters, then display the translated results.\nWhen inputting Morse Code, separate each letter/digit with a single space, and delimit multiple words with a “|”. For example, - --- | -... . would be the Morse Code input for the sentence “to be”. Your program only needs to handle a single sentence and can ignore punctuation symbols.\" </p>\n\n<p>Although I figured out how to translate english to morse code, I cannot figure out how to translate morse code to english. And if you are reading this please help me! Any help or hints would be very much appreciated! Thanks :)</p>\n\n<pre><code>public static String[] morse = { \".- \", \"-... \", \"-.-. \", \"-.. \", \". \",\n        \"..-. \", \"--. \", \".... \", \".. \",\n\n        \".--- \", \"-.- \", \".-.. \", \"-- \", \"-. \", \"--- \", \".--. \", \"--.- \",\n        \".-. \", \"... \", \"- \", \"..- \",\n\n        \"...- \", \".-- \", \"-..- \", \"-.-- \", \"--.. \", \"|\" };\n\npublic static String[] alphabet = { \"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\",\n        \"i\", \"j\", \"k\", \"l\", \"m\", \"n\", \"o\", \"p\", \"q\", \"r\", \"s\", \"t\", \"u\",\n        \"v\", \"w\", \"x\", \"y\", \"z\", \" \" };\n\npublic static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n    System.out.println(\"Input '1' to translate English to Morse Code.\");\n    System.out.println(\"Input '2' to translate Morse Code to English.\");\n    int kind = in.nextInt();\n\n    if (kind == 1) {\n        System.out.println(\"Please insert an alphabet string\");\n        String Eng = in.next();\n        EngToMo(Eng);\n    }\n    if (kind == 2) {\n        System.out.println(\"Please insert a morse string\");\n        String Mor = in.next();\n        MoToEng(Mor);\n    }\n\n}\n\npublic static void EngToMo(String string1) {\n    String Upper1 = string1.toUpperCase();\n    for (int i = 0; i &lt; Upper1.length(); i++) {\n        char x = Upper1.charAt(i);\n        if (x != ' ') {\n            System.out.print(morse[x - 'A'] + \" \");\n        } else {\n            System.out.println(\" | \");\n        }\n    }\n}\n\npublic static void MoToEng(String string2) {\n\n    }\n}\n</code></pre>\n"},{"tags":["java","nats.io","countdownlatch","nats-jetstream"],"owner":{"account_id":19740372,"reputation":11,"user_id":14453869,"display_name":"KuanYu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701366260,"creation_date":1698078933,"question_id":77346919,"body_markdown":"Recently I&#39;ve been learning NATS-JetStream, and I came across some sample code on GitHub.  Here is the [simple java code of the NATS client][1]:\r\n\r\nThis code primarily accomplishes the following task:\r\n\r\n1. declare a MessageHandler and a CountDownLatch. \r\n\r\n2. create a consumer (MessageConsumer) before calling the latch.await() method.\r\n\r\nAs far as I know, the latch.await() method will block the current Main Thread and put it into a block state. \r\n\r\n**My first question**\r\n\r\nGiven that the await() method of CountDownLatch blocks the current thread, \r\n\r\nHow can the handler process message when new messages arrive in the already blocked current thread?\r\n\r\n**My second question**\r\n\r\nIf I want to run a program that never stops, \r\nis it a good idea to use CountDownLatch and not invoke CountDownLatch.countDown(), allowing the consumer to continuously listen to the NATS subject/stream?\r\n\r\nI tried running the sample code and wrote my own program to publish some messages to JetStream. \r\n\r\nAfter publishing the first message, the consumer program successfully received the message. \r\n\r\nHowever, when I published the second message, the consumer displayed a &quot;severe: heartbeatAlarm warning&quot; message.\r\n\r\n\r\n  [1]: https://github.com/nats-io/nats.java/blob/main/src/examples/java/io/nats/examples/jetstream/simple/MessageConsumerExample.java","title":"How did consumer handle the messages without start a new Thread in NATS-JetStream?","body":"<p>Recently I've been learning NATS-JetStream, and I came across some sample code on GitHub.  Here is the <a href=\"https://github.com/nats-io/nats.java/blob/main/src/examples/java/io/nats/examples/jetstream/simple/MessageConsumerExample.java\" rel=\"nofollow noreferrer\">simple java code of the NATS client</a>:</p>\n<p>This code primarily accomplishes the following task:</p>\n<ol>\n<li><p>declare a MessageHandler and a CountDownLatch.</p>\n</li>\n<li><p>create a consumer (MessageConsumer) before calling the latch.await() method.</p>\n</li>\n</ol>\n<p>As far as I know, the latch.await() method will block the current Main Thread and put it into a block state.</p>\n<p><strong>My first question</strong></p>\n<p>Given that the await() method of CountDownLatch blocks the current thread,</p>\n<p>How can the handler process message when new messages arrive in the already blocked current thread?</p>\n<p><strong>My second question</strong></p>\n<p>If I want to run a program that never stops,\nis it a good idea to use CountDownLatch and not invoke CountDownLatch.countDown(), allowing the consumer to continuously listen to the NATS subject/stream?</p>\n<p>I tried running the sample code and wrote my own program to publish some messages to JetStream.</p>\n<p>After publishing the first message, the consumer program successfully received the message.</p>\n<p>However, when I published the second message, the consumer displayed a &quot;severe: heartbeatAlarm warning&quot; message.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":30387,"reputation":62460,"user_id":82865,"accept_rate":71,"display_name":"Jonathan Holloway"},"score":0,"creation_date":1247029096,"post_id":1096148,"comment_id":910629,"body_markdown":"See http://stackoverflow.com/questions/698129/how-can-i-find-the-target-java-version-for-a-compiled-class","body":"See <a href=\"http://stackoverflow.com/questions/698129/how-can-i-find-the-target-java-version-for-a-compiled-class\" title=\"how can i find the target java version for a compiled class\">stackoverflow.com/questions/698129/&hellip;</a>"},{"owner":{"account_id":45516,"reputation":441,"user_id":134200,"display_name":"WiseGeek"},"score":0,"creation_date":1247031182,"post_id":1096148,"comment_id":17656402,"body_markdown":"Check out [javadoc](http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html) for more information on major and minor versions.","body":"Check out <a href=\"http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html\" rel=\"nofollow noreferrer\">javadoc</a> for more information on major and minor versions."}],"answers":[{"tags":[],"owner":{"account_id":3889,"reputation":36047,"user_id":5696,"accept_rate":100,"display_name":"John Calsbeek"},"down_vote_count":0,"up_vote_count":728,"is_accepted":true,"score":728,"last_activity_date":1701366195,"creation_date":1247028838,"answer_id":1096159,"question_id":1096148,"body_markdown":"You&#39;re looking for this on the command line (for a class called MyClass):\r\n\r\nOn Unix/Linux:\r\n\r\n    javap -verbose MyClass | grep &quot;major&quot;\r\n\r\n\r\nOn Windows:\r\n\r\n    javap -verbose MyClass | findstr &quot;major&quot;\r\n\r\n\r\nYou want the **major** version from the results. Here are some example values:\r\n\r\n| Java Version | Major Version |\r\n| ------------: | ------------- |\r\n| 1.2   | 46   |\r\n| 1.3   | 47   |\r\n| 1.4   | 48   |\r\n| 5   | 49   |\r\n| 6   | 50   |\r\n| 7   | 51   |\r\n| 8   | 52   |\r\n| 9   | 53   |\r\n| 10   | 54   |\r\n| 11   | 55   |\r\n| 12   | 56   |\r\n| 13   | 57   |\r\n| 14   | 58   |\r\n| 15   | 59   |\r\n| 16   | 60   |\r\n| 17   | 61   |\r\n| 18   | 62   |\r\n| 19   | 63   |\r\n| 20   | 64   |\r\n| 21   | 65   |\r\n ","title":"how to check the jdk version used to compile a .class file","body":"<p>You're looking for this on the command line (for a class called MyClass):</p>\n<p>On Unix/Linux:</p>\n<pre><code>javap -verbose MyClass | grep &quot;major&quot;\n</code></pre>\n<p>On Windows:</p>\n<pre><code>javap -verbose MyClass | findstr &quot;major&quot;\n</code></pre>\n<p>You want the <strong>major</strong> version from the results. Here are some example values:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: right;\">Java Version</th>\n<th>Major Version</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: right;\">1.2</td>\n<td>46</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">1.3</td>\n<td>47</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">1.4</td>\n<td>48</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">5</td>\n<td>49</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">6</td>\n<td>50</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">7</td>\n<td>51</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">8</td>\n<td>52</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">9</td>\n<td>53</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">10</td>\n<td>54</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">11</td>\n<td>55</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">12</td>\n<td>56</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">13</td>\n<td>57</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">14</td>\n<td>58</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">15</td>\n<td>59</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">16</td>\n<td>60</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">17</td>\n<td>61</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">18</td>\n<td>62</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">19</td>\n<td>63</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">20</td>\n<td>64</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">21</td>\n<td>65</td>\n</tr>\n</tbody>\n</table>\n</div>"},{"tags":[],"owner":{"account_id":34048,"reputation":860833,"user_id":95810,"accept_rate":80,"display_name":"Alex Martelli"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1247028938,"creation_date":1247028938,"answer_id":1096162,"question_id":1096148,"body_markdown":"Does the `-verbose` flag to your `java` command yield any useful info?  If not, maybe `java -X` reveals something specific to your version that might help?\r\n","title":"how to check the jdk version used to compile a .class file","body":"<p>Does the <code>-verbose</code> flag to your <code>java</code> command yield any useful info?  If not, maybe <code>java -X</code> reveals something specific to your version that might help?</p>\n"},{"tags":[],"owner":{"account_id":5226,"reputation":21596,"user_id":8313,"display_name":"Sean Reilly"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1247031564,"creation_date":1247031564,"answer_id":1096273,"question_id":1096148,"body_markdown":"Btw, the reason that you&#39;re having trouble is that the java compiler recognizes two version flags. There is -source 1.5, which assumes java 1.5 level source code, and -target 1.5, which will emit java 1.5 compatible class files. You&#39;ll probably want to use both of these switches, but you definitely need -target 1.5; try double checking that eclipse is doing the right thing.","title":"how to check the jdk version used to compile a .class file","body":"<p>Btw, the reason that you're having trouble is that the java compiler recognizes two version flags. There is -source 1.5, which assumes java 1.5 level source code, and -target 1.5, which will emit java 1.5 compatible class files. You'll probably want to use both of these switches, but you definitely need -target 1.5; try double checking that eclipse is doing the right thing.</p>\n"},{"tags":[],"owner":{"account_id":19467,"reputation":1421,"user_id":45679,"display_name":"Gwyn Evans"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1247918480,"creation_date":1247918480,"answer_id":1147365,"question_id":1096148,"body_markdown":"Free JarCheck tool [here][1]\r\n\r\n\r\n  [1]: http://mindprod.com/products1.html#JARCHECK\r\n","title":"how to check the jdk version used to compile a .class file","body":"<p>Free JarCheck tool <a href=\"http://mindprod.com/products1.html#JARCHECK\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":264816,"reputation":481,"user_id":551383,"display_name":"marekdef"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1401886434,"creation_date":1312270633,"answer_id":6908682,"question_id":1096148,"body_markdown":"You can try jclasslib:\r\n\r\n[https://github.com/ingokegel/jclasslib][1]\r\n\r\nIt&#39;s nice that it can associate itself with *.class extension.\r\n\r\n\r\n  [1]: https://github.com/ingokegel/jclasslib","title":"how to check the jdk version used to compile a .class file","body":"<p>You can try jclasslib:</p>\n\n<p><a href=\"https://github.com/ingokegel/jclasslib\" rel=\"nofollow\">https://github.com/ingokegel/jclasslib</a></p>\n\n<p>It's nice that it can associate itself with *.class extension.</p>\n"}],"owner":{"account_id":6881,"reputation":47433,"user_id":11708,"accept_rate":88,"display_name":"Charles Ma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368021,"favorite_count":0,"down_vote_count":1,"up_vote_count":334,"closed_date":1350930831,"accepted_answer_id":1096159,"answer_count":5,"score":333,"last_activity_date":1701366195,"creation_date":1247028390,"question_id":1096148,"body_markdown":"&gt; **Possible Duplicate:**  \r\n&gt; [Tool to read and display Java .class versions](https://stackoverflow.com/questions/27065/tool-to-read-and-display-java-class-versions)  \r\n\r\n&lt;!-- End of automatically inserted text --&gt;\r\n\r\nI&#39;m trying to debug a \r\n&gt;&quot;Bad version number in .class file&#39; \r\n\r\nerror in java, is there a way for me to check which version the `.class` files are?\r\n\r\nI&#39;m using `JRE1.5.0_6`, but my `JDK` is version 1.6.0_13.\r\n\r\nI&#39;m compiling with compatibility mode set to 1.5 in eclipse which I thought would work...","title":"how to check the jdk version used to compile a .class file","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"https://stackoverflow.com/questions/27065/tool-to-read-and-display-java-class-versions\">Tool to read and display Java .class versions</a>  </p>\n</blockquote>\n\n\n\n<p>I'm trying to debug a </p>\n\n<blockquote>\n  <p>\"Bad version number in .class file' </p>\n</blockquote>\n\n<p>error in java, is there a way for me to check which version the <code>.class</code> files are?</p>\n\n<p>I'm using <code>JRE1.5.0_6</code>, but my <code>JDK</code> is version 1.6.0_13.</p>\n\n<p>I'm compiling with compatibility mode set to 1.5 in eclipse which I thought would work...</p>\n"},{"tags":["java","user-interface","awt"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1701281004,"post_id":77571192,"comment_id":136757399,"body_markdown":"*but when I run it on a different machine the layout gets messed up.* - no idea what &quot;gets messed up&quot; means. You also need an &quot;after&quot; image showing how it is messed up and explain what you expect to happen.","body":"<i>but when I run it on a different machine the layout gets messed up.</i> - no idea what &quot;gets messed up&quot; means. You also need an &quot;after&quot; image showing how it is messed up and explain what you expect to happen."},{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":0,"creation_date":1701316962,"post_id":77571192,"comment_id":136761608,"body_markdown":"I have added a screenshot.","body":"I have added a screenshot."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1701359331,"post_id":77571192,"comment_id":136768251,"body_markdown":"Post an [mre] to demonstrate the problem. Your question is about the layout of the frame, so all the quiz logic is irrelevant to the problem. We should be able to copy/paste/compile/test the code to see the described behaviour.","body":"Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to demonstrate the problem. Your question is about the layout of the frame, so all the quiz logic is irrelevant to the problem. We should be able to copy/paste/compile/test the code to see the described behaviour."},{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":0,"creation_date":1701363913,"post_id":77571192,"comment_id":136769175,"body_markdown":"I have removed the quiz logic and updated the code segment.","body":"I have removed the quiz logic and updated the code segment."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701365798,"creation_date":1701365798,"answer_id":77580583,"question_id":77571192,"body_markdown":"The basic answer is that you are not using layout managers effectively. You are:\r\n\r\n1. using only a single layout manager\r\n2. hardcoding spacing values between components\r\n3. hardcoding the painting of the image\r\n\r\nSo when you move to a different resolution or frame size the layout manager doesn&#39;t adjust since you have so many hardcoded values.\r\n\r\nFor example:\r\n\r\n    gc.ipadx = 500;\r\n\r\nA spacing of 500 on one resolution won&#39;t work on another.\r\n\r\n    g.drawImage(image,950,300,null);\r\n\r\nAgain, hardcoding the location assumes a given resolution. Also you should NOT override paint() of the Frame to paint the image. Instead I would suggest you override paint of a Canvas and then add the Canvas as a component to your frame.\r\n\r\nAlso, you should learn how to nest a Canvas with different layout managers. For example for your radio buttons I would create a Canvas with a GridLayout that displays the button is a single column. \r\n\r\nMaybe for the buttons you create a buttons canvas with a BoxLayout and use &quot;glue&quot; between the two button so one is displayed on the left edge and one on the right edge.\r\n\r\nThen when you add the components to the GridBagLayout you have in the first column:\r\n\r\n1. the question label\r\n2. the canvas of radio buttons\r\n3. the canvas of buttons\r\n\r\nIn the second column you have the image\r\n\r\nI suggest you read the section from the Swing tutorial on [Layout Managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html) to learn the basics of each layout manger and how you might be able to nest them to achieve a dynamic layout.\r\n\r\nYes, the tutorial is from Swing, but layout managers work the same in both AWT and Swing.\r\n\r\n\r\n","title":"AWT GridBagLayout not working in different screen resolutions","body":"<p>The basic answer is that you are not using layout managers effectively. You are:</p>\n<ol>\n<li>using only a single layout manager</li>\n<li>hardcoding spacing values between components</li>\n<li>hardcoding the painting of the image</li>\n</ol>\n<p>So when you move to a different resolution or frame size the layout manager doesn't adjust since you have so many hardcoded values.</p>\n<p>For example:</p>\n<pre><code>gc.ipadx = 500;\n</code></pre>\n<p>A spacing of 500 on one resolution won't work on another.</p>\n<pre><code>g.drawImage(image,950,300,null);\n</code></pre>\n<p>Again, hardcoding the location assumes a given resolution. Also you should NOT override paint() of the Frame to paint the image. Instead I would suggest you override paint of a Canvas and then add the Canvas as a component to your frame.</p>\n<p>Also, you should learn how to nest a Canvas with different layout managers. For example for your radio buttons I would create a Canvas with a GridLayout that displays the button is a single column.</p>\n<p>Maybe for the buttons you create a buttons canvas with a BoxLayout and use &quot;glue&quot; between the two button so one is displayed on the left edge and one on the right edge.</p>\n<p>Then when you add the components to the GridBagLayout you have in the first column:</p>\n<ol>\n<li>the question label</li>\n<li>the canvas of radio buttons</li>\n<li>the canvas of buttons</li>\n</ol>\n<p>In the second column you have the image</p>\n<p>I suggest you read the section from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">Layout Managers</a> to learn the basics of each layout manger and how you might be able to nest them to achieve a dynamic layout.</p>\n<p>Yes, the tutorial is from Swing, but layout managers work the same in both AWT and Swing.</p>\n"}],"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77580583,"answer_count":1,"score":0,"last_activity_date":1701365798,"creation_date":1701261192,"question_id":77571192,"body_markdown":"I have a frame where the components are arranged using a GridBagLayout. My understanding about layouts is that if I use them they will automatically manage my components based on the screen resolution. My frame looks like the image below on my machine but when I run it on a different machine the layout gets messed up. Could anyone guide me with the right approach to fix this issue with different resolutions?\r\n\r\n    package com.shivam;\r\n    \r\n    import java.awt.*;\r\n    import java.awt.event.WindowEvent;\r\n    import java.awt.event.WindowListener;\r\n    \r\n    public class TestFrame extends Frame implements WindowListener {\r\n        Label qno, question;\r\n        Checkbox opt1, opt2, opt3, opt4;\r\n        CheckboxGroup groupoptions;\r\n        Button next, submit;\r\n        Image image;\r\n        TestFrame() {\r\n            setTitle(&quot;QuizApp - Quiz&quot;);\r\n            setBackground(new Color(42, 20, 66));\r\n            setForeground(Color.WHITE);\r\n    \r\n            GridBagLayout gbl = new GridBagLayout();\r\n            GridBagConstraints gc = new GridBagConstraints();\r\n            setLayout(gbl);\r\n            qno = new Label(&quot;1&quot;);\r\n            qno.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 24));\r\n            gc.anchor = GridBagConstraints.CENTER;\r\n            gc.gridy=0;\r\n            gc.gridx=0;\r\n            gbl.setConstraints(qno, gc);\r\n            add(qno);\r\n    \r\n            question = new Label(&quot;What is the what of how do you do and when, explain with detailed derivation?&quot;);\r\n            question.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 24));\r\n            gc.gridy=0;\r\n            gc.gridx=1;\r\n            gc.ipadx = 500;\r\n            gc.insets = new Insets(0,40,0,0);\r\n            gc.gridwidth = 2;\r\n            gc.anchor = GridBagConstraints.LINE_START;\r\n            gbl.setConstraints(question, gc);\r\n            add(question);\r\n            addWindowListener(this);\r\n            groupoptions = new CheckboxGroup();\r\n            opt1 = new Checkbox(&quot;GuluGulu&quot;);\r\n            opt1.setCheckboxGroup(groupoptions);\r\n            opt1.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\r\n            gc.gridy=1;\r\n            gc.gridx=1;\r\n            gc.anchor = GridBagConstraints.LINE_START;\r\n            gc.ipadx = 150;\r\n            gc.insets = new Insets(20,0,0,0);\r\n            gbl.setConstraints(opt1, gc);\r\n            add(opt1);\r\n    \r\n            opt2 = new Checkbox(&quot;Honululu&quot;);\r\n            opt2.setCheckboxGroup(groupoptions);\r\n            opt2.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\r\n            gc.gridy=2;\r\n            gbl.setConstraints(opt2, gc);\r\n            add(opt2);\r\n    \r\n            opt3 = new Checkbox(&quot;PewPew&quot;);\r\n            opt3.setCheckboxGroup(groupoptions);\r\n            opt3.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\r\n            gc.gridy=3;\r\n            gbl.setConstraints(opt3, gc);\r\n            add(opt3);\r\n    \r\n            opt4 = new Checkbox(&quot;MachuPichu&quot;);\r\n            opt4.setCheckboxGroup(groupoptions);\r\n            opt4.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\r\n            gc.gridy=4;\r\n            gbl.setConstraints(opt4, gc);\r\n            add(opt4);\r\n    \r\n            next = new Button(&quot;Next&quot;);\r\n            next.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 22));\r\n            next.setBackground(new Color(30, 144, 255));\r\n            next.setForeground(Color.WHITE);\r\n            next.setSize(100,50);\r\n            gc.gridx = 0;\r\n            gc.gridy = 5;\r\n            gc.ipady = 15;\r\n            gc.gridwidth =2;\r\n            gc.insets = new Insets(50,0,0,0);\r\n            gc.anchor = GridBagConstraints.LINE_START;\r\n            gbl.setConstraints(next, gc);\r\n            add(next);\r\n    \r\n            submit = new Button(&quot;Submit&quot;);\r\n            submit.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 22));\r\n            submit.setBackground(new Color(129, 131, 129));\r\n            submit.setForeground(Color.WHITE);\r\n            submit.setSize(100,50);\r\n            submit.setEnabled(false);\r\n            gc.gridx = 1;\r\n            gc.gridy = 5;\r\n            gc.anchor = GridBagConstraints.CENTER;\r\n            gbl.setConstraints(submit, gc);\r\n            add(submit);\r\n            setExtendedState(Frame.MAXIMIZED_BOTH);\r\n            image = Toolkit.getDefaultToolkit().getImage(&quot;src/resources/boy.png&quot;);\r\n            MediaTracker tracker = new MediaTracker(this);\r\n            tracker.addImage(image, 0);\r\n            try {\r\n                tracker.waitForID(0);\r\n            } catch (InterruptedException ae) {\r\n                System.out.println(&quot;Exception occurred while loading image...&quot;);\r\n            }\r\n            setVisible(true);\r\n        }\r\n    \r\n        @Override\r\n        public void paint(Graphics g) {\r\n            super.paint(g);\r\n            g.drawImage(image,950,300,null);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            new TestFrame();\r\n        }\r\n    \r\n        @Override\r\n        public void windowOpened(WindowEvent e) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void windowClosing(WindowEvent e) {\r\n            this.dispose();\r\n        }\r\n    \r\n        @Override\r\n        public void windowClosed(WindowEvent e) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void windowIconified(WindowEvent e) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void windowDeiconified(WindowEvent e) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void windowActivated(WindowEvent e) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void windowDeactivated(WindowEvent e) {\r\n    \r\n        }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\nOn a screen with different resolution.\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9NooL.png\r\n  [2]: https://i.stack.imgur.com/F4R4f.png","title":"AWT GridBagLayout not working in different screen resolutions","body":"<p>I have a frame where the components are arranged using a GridBagLayout. My understanding about layouts is that if I use them they will automatically manage my components based on the screen resolution. My frame looks like the image below on my machine but when I run it on a different machine the layout gets messed up. Could anyone guide me with the right approach to fix this issue with different resolutions?</p>\n<pre><code>package com.shivam;\n\nimport java.awt.*;\nimport java.awt.event.WindowEvent;\nimport java.awt.event.WindowListener;\n\npublic class TestFrame extends Frame implements WindowListener {\n    Label qno, question;\n    Checkbox opt1, opt2, opt3, opt4;\n    CheckboxGroup groupoptions;\n    Button next, submit;\n    Image image;\n    TestFrame() {\n        setTitle(&quot;QuizApp - Quiz&quot;);\n        setBackground(new Color(42, 20, 66));\n        setForeground(Color.WHITE);\n\n        GridBagLayout gbl = new GridBagLayout();\n        GridBagConstraints gc = new GridBagConstraints();\n        setLayout(gbl);\n        qno = new Label(&quot;1&quot;);\n        qno.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 24));\n        gc.anchor = GridBagConstraints.CENTER;\n        gc.gridy=0;\n        gc.gridx=0;\n        gbl.setConstraints(qno, gc);\n        add(qno);\n\n        question = new Label(&quot;What is the what of how do you do and when, explain with detailed derivation?&quot;);\n        question.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 24));\n        gc.gridy=0;\n        gc.gridx=1;\n        gc.ipadx = 500;\n        gc.insets = new Insets(0,40,0,0);\n        gc.gridwidth = 2;\n        gc.anchor = GridBagConstraints.LINE_START;\n        gbl.setConstraints(question, gc);\n        add(question);\n        addWindowListener(this);\n        groupoptions = new CheckboxGroup();\n        opt1 = new Checkbox(&quot;GuluGulu&quot;);\n        opt1.setCheckboxGroup(groupoptions);\n        opt1.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\n        gc.gridy=1;\n        gc.gridx=1;\n        gc.anchor = GridBagConstraints.LINE_START;\n        gc.ipadx = 150;\n        gc.insets = new Insets(20,0,0,0);\n        gbl.setConstraints(opt1, gc);\n        add(opt1);\n\n        opt2 = new Checkbox(&quot;Honululu&quot;);\n        opt2.setCheckboxGroup(groupoptions);\n        opt2.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\n        gc.gridy=2;\n        gbl.setConstraints(opt2, gc);\n        add(opt2);\n\n        opt3 = new Checkbox(&quot;PewPew&quot;);\n        opt3.setCheckboxGroup(groupoptions);\n        opt3.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\n        gc.gridy=3;\n        gbl.setConstraints(opt3, gc);\n        add(opt3);\n\n        opt4 = new Checkbox(&quot;MachuPichu&quot;);\n        opt4.setCheckboxGroup(groupoptions);\n        opt4.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\n        gc.gridy=4;\n        gbl.setConstraints(opt4, gc);\n        add(opt4);\n\n        next = new Button(&quot;Next&quot;);\n        next.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 22));\n        next.setBackground(new Color(30, 144, 255));\n        next.setForeground(Color.WHITE);\n        next.setSize(100,50);\n        gc.gridx = 0;\n        gc.gridy = 5;\n        gc.ipady = 15;\n        gc.gridwidth =2;\n        gc.insets = new Insets(50,0,0,0);\n        gc.anchor = GridBagConstraints.LINE_START;\n        gbl.setConstraints(next, gc);\n        add(next);\n\n        submit = new Button(&quot;Submit&quot;);\n        submit.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 22));\n        submit.setBackground(new Color(129, 131, 129));\n        submit.setForeground(Color.WHITE);\n        submit.setSize(100,50);\n        submit.setEnabled(false);\n        gc.gridx = 1;\n        gc.gridy = 5;\n        gc.anchor = GridBagConstraints.CENTER;\n        gbl.setConstraints(submit, gc);\n        add(submit);\n        setExtendedState(Frame.MAXIMIZED_BOTH);\n        image = Toolkit.getDefaultToolkit().getImage(&quot;src/resources/boy.png&quot;);\n        MediaTracker tracker = new MediaTracker(this);\n        tracker.addImage(image, 0);\n        try {\n            tracker.waitForID(0);\n        } catch (InterruptedException ae) {\n            System.out.println(&quot;Exception occurred while loading image...&quot;);\n        }\n        setVisible(true);\n    }\n\n    @Override\n    public void paint(Graphics g) {\n        super.paint(g);\n        g.drawImage(image,950,300,null);\n    }\n\n    public static void main(String[] args) {\n        new TestFrame();\n    }\n\n    @Override\n    public void windowOpened(WindowEvent e) {\n\n    }\n\n    @Override\n    public void windowClosing(WindowEvent e) {\n        this.dispose();\n    }\n\n    @Override\n    public void windowClosed(WindowEvent e) {\n\n    }\n\n    @Override\n    public void windowIconified(WindowEvent e) {\n\n    }\n\n    @Override\n    public void windowDeiconified(WindowEvent e) {\n\n    }\n\n    @Override\n    public void windowActivated(WindowEvent e) {\n\n    }\n\n    @Override\n    public void windowDeactivated(WindowEvent e) {\n\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/9NooL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9NooL.png\" alt=\"enter image description here\" /></a></p>\n<p>On a screen with different resolution.\n<a href=\"https://i.stack.imgur.com/F4R4f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F4R4f.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","axis"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1701367911,"post_id":77580564,"comment_id":136769916,"body_markdown":"did you notice that the question you linked is about a completely different problem in a scenario that is similar to yours? I looks as &quot;they&quot; had the executable JAR already built...","body":"did you notice that the question you linked is about a completely different problem in a scenario that is similar to yours? I looks as &quot;they&quot; had the executable JAR already built..."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1701368007,"post_id":77580564,"comment_id":136769930,"body_markdown":"And I can&#39;t provide a full solution as I didn&#39;t solve this problem myself yet, but maybe this link helps you a bit more: https://www.baeldung.com/spring-boot-run-maven-vs-executable-jar","body":"And I can&#39;t provide a full solution as I didn&#39;t solve this problem myself yet, but maybe this link helps you a bit more: <a href=\"https://www.baeldung.com/spring-boot-run-maven-vs-executable-jar\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-run-maven-vs-executable-jar</a>"}],"owner":{"account_id":29563854,"reputation":1,"user_id":22657771,"display_name":"sfio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701365633,"creation_date":1701365633,"question_id":77580564,"body_markdown":"I want convert this war project https://github.com/mpuening/learn-webservices-jaxrpc into a jar project.\r\n\r\nI have tried to set in the file pom.xml the jar package but trying to execute the application I&#39;ll get the following error\r\nERROR o.a.a.c.EngineConfigurationFactoryServlet[EngineConfigurationFactoryServlet.java:162] - Unable to find config file. Creating new servlet engine config file: /WEB-INF/server-config.wsdd\r\nERROR o.a.a.c.EngineConfigurationFactoryServlet[EngineConfigurationFactoryServlet.java:176] - Problem with servlet engine /WEB-INF directory\r\n\r\nWARN o.a.a.c.EngineConfigurationFactoryServlet[EngineConfigurationFactoryServlet.java:184] - Unable to load/create servlet engine config file, attempting internal default (from jar).\r\nWARN o.apache.axis.utils.JavaUtils[JavaUtils.java:1308] - Unable to find required classes (javax.activation.DataHandler and javax.mail.internet.MimeMultipart). Attachment support is disabled.\r\n\r\nand inside the response I&#39;ll get a 500 error response with following body\r\n\r\n\r\n```\r\n&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\nsoapenv:Body\r\nsoapenv:Fault\r\nns1:Server.NoService\r\nThe AXIS engine could not find a target service to invoke! targetService is WEBPanelServices\r\n\r\n&lt;ns2:hostname xmlns:ns2=&quot;http://xml.apache.org/axis/&quot;&gt;PC01A&lt;/ns2:hostname&gt;\r\n\r\n&lt;/soapenv:Fault&gt;\r\n&lt;/soapenv:Body&gt;\r\n&lt;/soapenv:Envelope&gt;\r\n\r\n\r\n```\r\n\r\nthis happens because setting jar packaging the src/main/webapp directory is ignored and server-config.wsdd is not included in the resulting jar file.\r\n\r\nI have googled and found the following threads\r\nhttps://stackoverflow.com/questions/53123351/how-can-i-create-executable-jars-with-embedded-tomcat-9\r\n\r\nbut where should I add that line of code in the project? In the class &quot;WebServiceServerConfig&quot; annotated with &quot;@Configuration&quot; ? And what should I add?\r\n\r\nHope that somebody help me\r\n\r\n\r\nI have tried the jar package but doesn&#39;t work.","title":"convert a war project to jar project","body":"<p>I want convert this war project <a href=\"https://github.com/mpuening/learn-webservices-jaxrpc\" rel=\"nofollow noreferrer\">https://github.com/mpuening/learn-webservices-jaxrpc</a> into a jar project.</p>\n<p>I have tried to set in the file pom.xml the jar package but trying to execute the application I'll get the following error\nERROR o.a.a.c.EngineConfigurationFactoryServlet[EngineConfigurationFactoryServlet.java:162] - Unable to find config file. Creating new servlet engine config file: /WEB-INF/server-config.wsdd\nERROR o.a.a.c.EngineConfigurationFactoryServlet[EngineConfigurationFactoryServlet.java:176] - Problem with servlet engine /WEB-INF directory</p>\n<p>WARN o.a.a.c.EngineConfigurationFactoryServlet[EngineConfigurationFactoryServlet.java:184] - Unable to load/create servlet engine config file, attempting internal default (from jar).\nWARN o.apache.axis.utils.JavaUtils[JavaUtils.java:1308] - Unable to find required classes (javax.activation.DataHandler and javax.mail.internet.MimeMultipart). Attachment support is disabled.</p>\n<p>and inside the response I'll get a 500 error response with following body</p>\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\nsoapenv:Body\nsoapenv:Fault\nns1:Server.NoService\nThe AXIS engine could not find a target service to invoke! targetService is WEBPanelServices\n\n&lt;ns2:hostname xmlns:ns2=&quot;http://xml.apache.org/axis/&quot;&gt;PC01A&lt;/ns2:hostname&gt;\n\n&lt;/soapenv:Fault&gt;\n&lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n\n\n</code></pre>\n<p>this happens because setting jar packaging the src/main/webapp directory is ignored and server-config.wsdd is not included in the resulting jar file.</p>\n<p>I have googled and found the following threads\n<a href=\"https://stackoverflow.com/questions/53123351/how-can-i-create-executable-jars-with-embedded-tomcat-9\">How can I create executable jars with embedded tomcat 9?</a></p>\n<p>but where should I add that line of code in the project? In the class &quot;WebServiceServerConfig&quot; annotated with &quot;@Configuration&quot; ? And what should I add?</p>\n<p>Hope that somebody help me</p>\n<p>I have tried the jar package but doesn't work.</p>\n"},{"tags":["java","spring","postgresql","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1701367813,"post_id":77580555,"comment_id":136769895,"body_markdown":"See https://www.jetbrains.com/idea/features/editions_comparison_matrix.html.","body":"See <a href=\"https://www.jetbrains.com/idea/features/editions_comparison_matrix.html\" rel=\"nofollow noreferrer\">jetbrains.com/idea/features/editions_comparison_matrix.html</a>."}],"owner":{"account_id":30032747,"reputation":1,"user_id":23015468,"display_name":"Bar Avisra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701365592,"creation_date":1701365592,"question_id":77580555,"body_markdown":"I am following a Spring Boot tutorial in IntelliJ IDEA Community Edition and have encountered an issue where my .sql files are not being recognized as SQL file types. Instead, they are being treated as generic text files or custom file types. \r\n\r\n[files are not being recognized as SQL file types](https://i.stack.imgur.com/SkFtv.png)\r\n\r\nAn example of one of the files-\r\n\r\n[An example of one of the files](https://i.stack.imgur.com/mMx7C.png) \r\n\r\nHow the files look like in the tutorial I am watching-\r\n\r\n[An example of the files in the tutorial](https://i.stack.imgur.com/rIRJG.png)\r\n\r\n*I am using PostgreSQL\r\n\r\nI went to File Types in Settings, but was not able to find a solution\r\nAlso, I downloaded Database Navigator, but the type of the SQL is different.\r\n","title":"Unrecognized .sql File Type in IntelliJ IDEA Community Edition","body":"<p>I am following a Spring Boot tutorial in IntelliJ IDEA Community Edition and have encountered an issue where my .sql files are not being recognized as SQL file types. Instead, they are being treated as generic text files or custom file types.</p>\n<p><a href=\"https://i.stack.imgur.com/SkFtv.png\" rel=\"nofollow noreferrer\">files are not being recognized as SQL file types</a></p>\n<p>An example of one of the files-</p>\n<p><a href=\"https://i.stack.imgur.com/mMx7C.png\" rel=\"nofollow noreferrer\">An example of one of the files</a></p>\n<p>How the files look like in the tutorial I am watching-</p>\n<p><a href=\"https://i.stack.imgur.com/rIRJG.png\" rel=\"nofollow noreferrer\">An example of the files in the tutorial</a></p>\n<p>*I am using PostgreSQL</p>\n<p>I went to File Types in Settings, but was not able to find a solution\nAlso, I downloaded Database Navigator, but the type of the SQL is different.</p>\n"},{"tags":["java","c++","hadoop","nullpointerexception","pipe"],"answers":[{"tags":[],"owner":{"account_id":5804326,"reputation":1871,"user_id":4577491,"display_name":"AbdulRahman AlHamali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1424752832,"creation_date":1424752832,"answer_id":28688285,"question_id":28573127,"body_markdown":"So after a lot of research, I found out that the problem was actually caused by this line in pipes/Application.java (line 104):\r\n\r\n    byte[] password= jobToken.getPassword();\r\n\r\nI changed the code and recompiled hadoop:\r\n\r\n    byte[] password= &quot;no password&quot;.getBytes();\r\n    if (jobToken != null)\r\n    {\r\n         password= jobToken.getPassword();\r\n    }\r\nI got this from [here][1]\r\n\r\n\r\n  [1]: http://www.hackerlight.com/blog/2014/10/22/hadoop_local/\r\n\r\nThis solved the problem, and my program currently runs, but I am facing another problem where the program actually hangs at map 0% reduce 0%\r\nI will open another topic for that question.\r\n\r\nThank you,","title":"Hadoop Pipes Wordcount example: NullPointerException in LocalJobRunner","body":"<p>So after a lot of research, I found out that the problem was actually caused by this line in pipes/Application.java (line 104):</p>\n\n<pre><code>byte[] password= jobToken.getPassword();\n</code></pre>\n\n<p>I changed the code and recompiled hadoop:</p>\n\n<pre><code>byte[] password= \"no password\".getBytes();\nif (jobToken != null)\n{\n     password= jobToken.getPassword();\n}\n</code></pre>\n\n<p>I got this from <a href=\"http://www.hackerlight.com/blog/2014/10/22/hadoop_local/\" rel=\"nofollow\">here</a></p>\n\n<p>This solved the problem, and my program currently runs, but I am facing another problem where the program actually hangs at map 0% reduce 0%\nI will open another topic for that question.</p>\n\n<p>Thank you,</p>\n"}],"owner":{"account_id":5804326,"reputation":1871,"user_id":4577491,"display_name":"AbdulRahman AlHamali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1136,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":28688285,"answer_count":1,"score":-2,"last_activity_date":1701365536,"creation_date":1424215210,"question_id":28573127,"body_markdown":"I am trying to run the sample example in this [tutorial][1] about Hadoop Pipes:\r\n\r\n\r\n  [1]: https://web.archive.org/web/20150215111209/http://cs.smith.edu/dftwiki/index.php/Hadoop_Tutorial_2.2_--_Running_C%2B%2B_Programs_on_Hadoop\r\n\r\nI&#39;m succeeding in compiling and everything. However, after it runs it shows me a `NullPointerException` error. I tried many ways and read many similar questions, but wasn&#39;t able to find an actual solution for this problem.\r\nNote: I am running on a single machine in a pseudo-distributed environment.\r\n\r\n\r\n\r\n```lang-none\r\nhadoop pipes -D hadoop.pipes.java.recordreader=true -D hadoop.pipes.java.recordwriters=true -input /input -output /output -program /bin/wordcount\r\nDEPRECATED: Use of this script to execute mapred command is deprecated.\r\nInstead use the mapred command for it.\r\n\r\n15/02/18 01:09:02 INFO Configuration.deprecation: session.id is deprecated. Instead, use dfs.metrics.session-id\r\n15/02/18 01:09:02 INFO jvm.JvmMetrics: Initializing JVM Metrics with processName=JobTracker, sessionId=\r\n15/02/18 01:09:02 INFO jvm.JvmMetrics: Cannot initialize JVM Metrics with processName=JobTracker, sessionId= - already initialized\r\n15/02/18 01:09:03 WARN mapreduce.JobSubmitter: No job jar file set.  User classes may not be found. See Job or Job#setJar(String).\r\n15/02/18 01:09:04 INFO mapred.FileInputFormat: Total input paths to process : 1\r\n15/02/18 01:09:04 INFO mapreduce.JobSubmitter: number of splits:1\r\n15/02/18 01:09:04 INFO Configuration.deprecation: hadoop.pipes.java.recordreader is deprecated. Instead, use mapreduce.pipes.isjavarecordreader\r\n15/02/18 01:09:04 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_local143452495_0001\r\n15/02/18 01:09:06 INFO mapred.LocalDistributedCacheManager: Localized hdfs://localhost:9000/bin/wordcount as file:/tmp/hadoop-abdulrahman/mapred/local/1424214545411/wordcount\r\n15/02/18 01:09:06 INFO mapreduce.Job: The url to track the job: http://localhost:8080/\r\n15/02/18 01:09:06 INFO mapred.LocalJobRunner: OutputCommitter set in config null\r\n15/02/18 01:09:06 INFO mapreduce.Job: Running job: job_local143452495_0001\r\n15/02/18 01:09:06 INFO mapred.LocalJobRunner: OutputCommitter is org.apache.hadoop.mapred.FileOutputCommitter\r\n15/02/18 01:09:06 INFO mapred.LocalJobRunner: Waiting for map tasks\r\n15/02/18 01:09:06 INFO mapred.LocalJobRunner: Starting task: attempt_local143452495_0001_m_000000_0\r\n15/02/18 01:09:06 INFO mapred.Task:  Using ResourceCalculatorProcessTree : [ ]\r\n15/02/18 01:09:06 INFO mapred.MapTask: Processing split: hdfs://localhost:9000/input/data.txt:0+68\r\n15/02/18 01:09:07 INFO mapred.MapTask: numReduceTasks: 1\r\n15/02/18 01:09:07 INFO mapreduce.Job: Job job_local143452495_0001 running in uber mode : false\r\n15/02/18 01:09:07 INFO mapreduce.Job:  map 0% reduce 0%\r\n15/02/18 01:09:07 INFO mapred.MapTask: (EQUATOR) 0 kvi 26214396(104857584)\r\n15/02/18 01:09:07 INFO mapred.MapTask: mapreduce.task.io.sort.mb: 100\r\n15/02/18 01:09:07 INFO mapred.MapTask: soft limit at 83886080\r\n15/02/18 01:09:07 INFO mapred.MapTask: bufstart = 0; bufvoid = 104857600\r\n15/02/18 01:09:07 INFO mapred.MapTask: kvstart = 26214396; length = 6553600\r\n15/02/18 01:09:07 INFO mapred.MapTask: Map output collector class = org.apache.hadoop.mapred.MapTask$MapOutputBuffer\r\n15/02/18 01:09:08 INFO mapred.LocalJobRunner: map task executor complete.\r\n15/02/18 01:09:08 WARN mapred.LocalJobRunner: job_local143452495_0001\r\njava.lang.Exception: java.lang.NullPointerException\r\n\tat org.apache.hadoop.mapred.LocalJobRunner$Job.runTasks(LocalJobRunner.java:462)\r\n\tat org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:522)\r\nCaused by: java.lang.NullPointerException\r\n\tat org.apache.hadoop.mapred.pipes.Application.&lt;init&gt;(Application.java:104)\r\n\tat org.apache.hadoop.mapred.pipes.PipesMapRunner.run(PipesMapRunner.java:69)\r\n\tat org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:450)\r\n\tat org.apache.hadoop.mapred.MapTask.run(MapTask.java:343)\r\n\tat org.apache.hadoop.mapred.LocalJobRunner$Job$MapTaskRunnable.run(LocalJobRunner.java:243)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n15/02/18 01:09:08 INFO mapreduce.Job: Job job_local143452495_0001 failed with state FAILED due to: NA\r\n15/02/18 01:09:08 INFO mapreduce.Job: Counters: 0\r\nException in thread &quot;main&quot; java.io.IOException: Job failed!\r\n\tat org.apache.hadoop.mapred.JobClient.runJob(JobClient.java:836)\r\n\tat org.apache.hadoop.mapred.pipes.Submitter.runJob(Submitter.java:264)\r\n\tat org.apache.hadoop.mapred.pipes.Submitter.run(Submitter.java:503)\r\n\tat org.apache.hadoop.mapred.pipes.Submitter.main(Submitter.java:518)\r\n```\r\n\r\nI downloaded the sourcecode of hadoop and tracked where the exception is happening, it seems that the exception occurs in the initialization stage, and thus the code inside the mapper/reducer isn&#39;t really the problem.\r\n\r\nThe function in Hadoop that produces the exception is this one:\r\n\r\n```lang-none\r\n/** Run a set of tasks and waits for them to complete. */\r\n435     private void runTasks(List&lt;RunnableWithThrowable&gt; runnables,\r\n436         ExecutorService service, String taskType) throws Exception {\r\n437       // Start populating the executor with work units.\r\n438       // They may begin running immediately (in other threads).\r\n439       for (Runnable r : runnables) {\r\n440         service.submit(r);\r\n441       }\r\n442 \r\n443       try {\r\n444         service.shutdown(); // Instructs queue to drain.\r\n445 \r\n446         // Wait for tasks to finish; do not use a time-based timeout.\r\n447         // (See http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6179024)\r\n448         LOG.info(&quot;Waiting for &quot; + taskType + &quot; tasks&quot;);\r\n449         service.awaitTermination(Long.MAX_VALUE, TimeUnit.NANOSECONDS);\r\n450       } catch (InterruptedException ie) {\r\n451         // Cancel all threads.\r\n452         service.shutdownNow();\r\n453         throw ie;\r\n454       }\r\n455 \r\n456       LOG.info(taskType + &quot; task executor complete.&quot;);\r\n457 \r\n458       // After waiting for the tasks to complete, if any of these\r\n459       // have thrown an exception, rethrow it now in the main thread context.\r\n460       for (RunnableWithThrowable r : runnables) {\r\n461         if (r.storedException != null) {\r\n462           throw new Exception(r.storedException);\r\n463         }\r\n464       }\r\n465     }\r\n```\r\n\r\nThe problem though is that it is storing the exception and then throwing it, which is preventing me from knowing the actual source of the exception.\r\n\r\nHow do I resolve this issue?","title":"Hadoop Pipes Wordcount example: NullPointerException in LocalJobRunner","body":"<p>I am trying to run the sample example in this <a href=\"https://web.archive.org/web/20150215111209/http://cs.smith.edu/dftwiki/index.php/Hadoop_Tutorial_2.2_--_Running_C%2B%2B_Programs_on_Hadoop\" rel=\"nofollow noreferrer\">tutorial</a> about Hadoop Pipes:</p>\n<p>I'm succeeding in compiling and everything. However, after it runs it shows me a <code>NullPointerException</code> error. I tried many ways and read many similar questions, but wasn't able to find an actual solution for this problem.\nNote: I am running on a single machine in a pseudo-distributed environment.</p>\n<pre class=\"lang-none prettyprint-override\"><code>hadoop pipes -D hadoop.pipes.java.recordreader=true -D hadoop.pipes.java.recordwriters=true -input /input -output /output -program /bin/wordcount\nDEPRECATED: Use of this script to execute mapred command is deprecated.\nInstead use the mapred command for it.\n\n15/02/18 01:09:02 INFO Configuration.deprecation: session.id is deprecated. Instead, use dfs.metrics.session-id\n15/02/18 01:09:02 INFO jvm.JvmMetrics: Initializing JVM Metrics with processName=JobTracker, sessionId=\n15/02/18 01:09:02 INFO jvm.JvmMetrics: Cannot initialize JVM Metrics with processName=JobTracker, sessionId= - already initialized\n15/02/18 01:09:03 WARN mapreduce.JobSubmitter: No job jar file set.  User classes may not be found. See Job or Job#setJar(String).\n15/02/18 01:09:04 INFO mapred.FileInputFormat: Total input paths to process : 1\n15/02/18 01:09:04 INFO mapreduce.JobSubmitter: number of splits:1\n15/02/18 01:09:04 INFO Configuration.deprecation: hadoop.pipes.java.recordreader is deprecated. Instead, use mapreduce.pipes.isjavarecordreader\n15/02/18 01:09:04 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_local143452495_0001\n15/02/18 01:09:06 INFO mapred.LocalDistributedCacheManager: Localized hdfs://localhost:9000/bin/wordcount as file:/tmp/hadoop-abdulrahman/mapred/local/1424214545411/wordcount\n15/02/18 01:09:06 INFO mapreduce.Job: The url to track the job: http://localhost:8080/\n15/02/18 01:09:06 INFO mapred.LocalJobRunner: OutputCommitter set in config null\n15/02/18 01:09:06 INFO mapreduce.Job: Running job: job_local143452495_0001\n15/02/18 01:09:06 INFO mapred.LocalJobRunner: OutputCommitter is org.apache.hadoop.mapred.FileOutputCommitter\n15/02/18 01:09:06 INFO mapred.LocalJobRunner: Waiting for map tasks\n15/02/18 01:09:06 INFO mapred.LocalJobRunner: Starting task: attempt_local143452495_0001_m_000000_0\n15/02/18 01:09:06 INFO mapred.Task:  Using ResourceCalculatorProcessTree : [ ]\n15/02/18 01:09:06 INFO mapred.MapTask: Processing split: hdfs://localhost:9000/input/data.txt:0+68\n15/02/18 01:09:07 INFO mapred.MapTask: numReduceTasks: 1\n15/02/18 01:09:07 INFO mapreduce.Job: Job job_local143452495_0001 running in uber mode : false\n15/02/18 01:09:07 INFO mapreduce.Job:  map 0% reduce 0%\n15/02/18 01:09:07 INFO mapred.MapTask: (EQUATOR) 0 kvi 26214396(104857584)\n15/02/18 01:09:07 INFO mapred.MapTask: mapreduce.task.io.sort.mb: 100\n15/02/18 01:09:07 INFO mapred.MapTask: soft limit at 83886080\n15/02/18 01:09:07 INFO mapred.MapTask: bufstart = 0; bufvoid = 104857600\n15/02/18 01:09:07 INFO mapred.MapTask: kvstart = 26214396; length = 6553600\n15/02/18 01:09:07 INFO mapred.MapTask: Map output collector class = org.apache.hadoop.mapred.MapTask$MapOutputBuffer\n15/02/18 01:09:08 INFO mapred.LocalJobRunner: map task executor complete.\n15/02/18 01:09:08 WARN mapred.LocalJobRunner: job_local143452495_0001\njava.lang.Exception: java.lang.NullPointerException\n    at org.apache.hadoop.mapred.LocalJobRunner$Job.runTasks(LocalJobRunner.java:462)\n    at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:522)\nCaused by: java.lang.NullPointerException\n    at org.apache.hadoop.mapred.pipes.Application.&lt;init&gt;(Application.java:104)\n    at org.apache.hadoop.mapred.pipes.PipesMapRunner.run(PipesMapRunner.java:69)\n    at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:450)\n    at org.apache.hadoop.mapred.MapTask.run(MapTask.java:343)\n    at org.apache.hadoop.mapred.LocalJobRunner$Job$MapTaskRunnable.run(LocalJobRunner.java:243)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:262)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:745)\n15/02/18 01:09:08 INFO mapreduce.Job: Job job_local143452495_0001 failed with state FAILED due to: NA\n15/02/18 01:09:08 INFO mapreduce.Job: Counters: 0\nException in thread &quot;main&quot; java.io.IOException: Job failed!\n    at org.apache.hadoop.mapred.JobClient.runJob(JobClient.java:836)\n    at org.apache.hadoop.mapred.pipes.Submitter.runJob(Submitter.java:264)\n    at org.apache.hadoop.mapred.pipes.Submitter.run(Submitter.java:503)\n    at org.apache.hadoop.mapred.pipes.Submitter.main(Submitter.java:518)\n</code></pre>\n<p>I downloaded the sourcecode of hadoop and tracked where the exception is happening, it seems that the exception occurs in the initialization stage, and thus the code inside the mapper/reducer isn't really the problem.</p>\n<p>The function in Hadoop that produces the exception is this one:</p>\n<pre class=\"lang-none prettyprint-override\"><code>/** Run a set of tasks and waits for them to complete. */\n435     private void runTasks(List&lt;RunnableWithThrowable&gt; runnables,\n436         ExecutorService service, String taskType) throws Exception {\n437       // Start populating the executor with work units.\n438       // They may begin running immediately (in other threads).\n439       for (Runnable r : runnables) {\n440         service.submit(r);\n441       }\n442 \n443       try {\n444         service.shutdown(); // Instructs queue to drain.\n445 \n446         // Wait for tasks to finish; do not use a time-based timeout.\n447         // (See http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6179024)\n448         LOG.info(&quot;Waiting for &quot; + taskType + &quot; tasks&quot;);\n449         service.awaitTermination(Long.MAX_VALUE, TimeUnit.NANOSECONDS);\n450       } catch (InterruptedException ie) {\n451         // Cancel all threads.\n452         service.shutdownNow();\n453         throw ie;\n454       }\n455 \n456       LOG.info(taskType + &quot; task executor complete.&quot;);\n457 \n458       // After waiting for the tasks to complete, if any of these\n459       // have thrown an exception, rethrow it now in the main thread context.\n460       for (RunnableWithThrowable r : runnables) {\n461         if (r.storedException != null) {\n462           throw new Exception(r.storedException);\n463         }\n464       }\n465     }\n</code></pre>\n<p>The problem though is that it is storing the exception and then throwing it, which is preventing me from knowing the actual source of the exception.</p>\n<p>How do I resolve this issue?</p>\n"},{"tags":["javascript","java","google-chrome","request","google-chrome-devtools"],"comments":[{"owner":{"account_id":245734,"reputation":332708,"user_id":519413,"accept_rate":97,"display_name":"Rory McCrossan"},"score":0,"creation_date":1701101098,"post_id":77558259,"comment_id":136730312,"body_markdown":"The &#39;initiator&#39; column in devtools will give you a stacktrace for the event that triggered the request, but it&#39;s down to you to dig through the code to find what you need from there. There&#39;s nothing that&#39;s going to tell you the exact line of code in an event handler without some manual effort","body":"The &#39;initiator&#39; column in devtools will give you a stacktrace for the event that triggered the request, but it&#39;s down to you to dig through the code to find what you need from there. There&#39;s nothing that&#39;s going to tell you the exact line of code in an event handler without some manual effort"},{"owner":{"account_id":1690035,"reputation":22131,"user_id":1552587,"accept_rate":40,"display_name":"Titus"},"score":0,"creation_date":1701102324,"post_id":77558259,"comment_id":136730560,"body_markdown":"If by *requests* you mean HTTPS requests, in Chrome devTools there is a **Network** tab, that tab contains a table of all HTTPS requests and it has a column named **Initiator** that indicates what initiated the request.","body":"If by <i>requests</i> you mean HTTPS requests, in Chrome devTools there is a <b>Network</b> tab, that tab contains a table of all HTTPS requests and it has a column named <b>Initiator</b> that indicates what initiated the request."},{"owner":{"account_id":14573074,"reputation":15,"user_id":10525801,"display_name":"Lia"},"score":0,"creation_date":1701417267,"post_id":77558259,"comment_id":136775405,"body_markdown":"Thank you! I was able to resolve the issue by looking into the initiator tab and the stacktrace that is has","body":"Thank you! I was able to resolve the issue by looking into the initiator tab and the stacktrace that is has"}],"answers":[{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701365484,"creation_date":1701365484,"answer_id":77580539,"question_id":77558259,"body_markdown":"The code itself will not tell you the other of the requests. Think of button1 triggering request1 and button2 triggering request2. If both buttons are shown to the user, then he may click on button1 first, then button2. Or button2 first, then button1. Or only button1. Or only button2. Or button1 and then button1 and then button2. Or none at all. As you can see, the requests to be sent, or their order is not necessarily deterministic.\r\n\r\nBut the good news is that you can open your dev tools, open the network tab, which shows what requests have been shown since the page load (or since your opening of dev tools if it happened later than loading the page) and the order of the requests by default is the order they were sent. So that should help you.","title":"How to understand how different requests are being provoked in Dev Tools?","body":"<p>The code itself will not tell you the other of the requests. Think of button1 triggering request1 and button2 triggering request2. If both buttons are shown to the user, then he may click on button1 first, then button2. Or button2 first, then button1. Or only button1. Or only button2. Or button1 and then button1 and then button2. Or none at all. As you can see, the requests to be sent, or their order is not necessarily deterministic.</p>\n<p>But the good news is that you can open your dev tools, open the network tab, which shows what requests have been shown since the page load (or since your opening of dev tools if it happened later than loading the page) and the order of the requests by default is the order they were sent. So that should help you.</p>\n"}],"owner":{"account_id":14573074,"reputation":15,"user_id":10525801,"display_name":"Lia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77580539,"answer_count":1,"score":1,"last_activity_date":1701365484,"creation_date":1701100601,"question_id":77558259,"body_markdown":"I have a web application, the backend is on Java, while the front end is using JS, how can I understand when I open dev tools how requests are being provoked, is there a part of the code which shows the order of execution of initial request when the website is loading. I am new to web programming and I don&#39;t understand how this process is working.","title":"How to understand how different requests are being provoked in Dev Tools?","body":"<p>I have a web application, the backend is on Java, while the front end is using JS, how can I understand when I open dev tools how requests are being provoked, is there a part of the code which shows the order of execution of initial request when the website is loading. I am new to web programming and I don't understand how this process is working.</p>\n"},{"tags":["java","database","jdbc","transactions","non-repeatable-read"],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681828,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1376818111,"creation_date":1376818111,"answer_id":18297668,"question_id":18297626,"body_markdown":"The exact same page explains what a dirty read is:\r\n\r\n&gt; Accessing an updated value that has not been committed is considered a dirty read because it is possible for that value to be rolled back to its previous value. If you read a value that is later rolled back, you will have read an invalid value.\r\n\r\nSo, non-repeatable read consists in reading two different committed values, whereas dirty read consists in reading a value that hasn&#39;t been committed yet. Quite different.","title":"Dirty read vs Non-repeatable read","body":"<p>The exact same page explains what a dirty read is:</p>\n\n<blockquote>\n  <p>Accessing an updated value that has not been committed is considered a dirty read because it is possible for that value to be rolled back to its previous value. If you read a value that is later rolled back, you will have read an invalid value.</p>\n</blockquote>\n\n<p>So, non-repeatable read consists in reading two different committed values, whereas dirty read consists in reading a value that hasn't been committed yet. Quite different.</p>\n"},{"tags":[],"owner":{"account_id":1626304,"reputation":169369,"user_id":1501794,"accept_rate":72,"display_name":"Rahul Tripathi"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1376818148,"creation_date":1376818148,"answer_id":18297671,"question_id":18297626,"body_markdown":"From [here][1]:-\r\n\r\n&gt; **Dirty Reads** occur when one transaction reads data written by another,\r\n&gt; uncommitted, transaction. The danger with dirty reads is that the\r\n&gt; other transaction might never commit, leaving the original transaction\r\n&gt; with &quot;dirty&quot; data.\r\n&gt; \r\n&gt; **Non Repeatable Reads** occur when one transaction attempts to access the\r\n&gt; same data twice and a second transaction modifies the data between the\r\n&gt; first transaction&#39;s read attempts. This may cause the first\r\n&gt; transaction to read two different values for the same data, causing\r\n&gt; the original read to be non-repeatable.\r\n\r\n\r\n  [1]: http://www.sqlservergeeks.com/forums/microsoft-data-platform/sql-server-bi/190/difference-between-dirty-read-and-non-repeatable-read","title":"Dirty read vs Non-repeatable read","body":"<p>From <a href=\"http://www.sqlservergeeks.com/forums/microsoft-data-platform/sql-server-bi/190/difference-between-dirty-read-and-non-repeatable-read\" rel=\"noreferrer\">here</a>:-</p>\n\n<blockquote>\n  <p><strong>Dirty Reads</strong> occur when one transaction reads data written by another,\n  uncommitted, transaction. The danger with dirty reads is that the\n  other transaction might never commit, leaving the original transaction\n  with \"dirty\" data.</p>\n  \n  <p><strong>Non Repeatable Reads</strong> occur when one transaction attempts to access the\n  same data twice and a second transaction modifies the data between the\n  first transaction's read attempts. This may cause the first\n  transaction to read two different values for the same data, causing\n  the original read to be non-repeatable.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145158,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1610274690,"creation_date":1531479554,"answer_id":51323585,"question_id":18297626,"body_markdown":"A picture is worth 1000 words.\r\n\r\n[![Non-Repeatable Read][1]](1)\r\n\r\nIn the diagram above, the flow of statements goes like this:\r\n\r\n 1. Alice and Bob start two database transactions.\r\n 2. Alice modifies the title of a given post record.\r\n 3. Bob reads the uncommitted post record.\r\n 4. If Alice commits her transaction, everything is fine. But if Alice rolls back, then Bob will see a record version that no longer exists in the database transaction log.\r\n\r\nThis anomaly is only permitted by the Read Uncommitted isolation level, and, because of the impact on data integrity, most database systems offer a higher default isolation level.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KFRXJ.png\r\n  [2]: https://vladmihalcea.com/dirty-read/","title":"Dirty read vs Non-repeatable read","body":"<p>A picture is worth 1000 words.</p>\n<p><img src=\"https://i.stack.imgur.com/KFRXJ.png\" alt=\"Non-Repeatable Read\" /></p>\n<p>In the diagram above, the flow of statements goes like this:</p>\n<ol>\n<li>Alice and Bob start two database transactions.</li>\n<li>Alice modifies the title of a given post record.</li>\n<li>Bob reads the uncommitted post record.</li>\n<li>If Alice commits her transaction, everything is fine. But if Alice rolls back, then Bob will see a record version that no longer exists in the database transaction log.</li>\n</ol>\n<p>This anomaly is only permitted by the Read Uncommitted isolation level, and, because of the impact on data integrity, most database systems offer a higher default isolation level.</p>\n"},{"tags":[],"owner":{"account_id":4837495,"reputation":1067,"user_id":3903608,"accept_rate":75,"display_name":"touchstone"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586761026,"creation_date":1586761026,"answer_id":61182875,"question_id":18297626,"body_markdown":"i had the same confuse as you do before.\r\n\r\nafter i read the answers in your post, i decide to find out from mysql doc.\r\n\r\n\r\nafter read the doc from mysql, i think what confuse us is the understading angle. we think that &quot;tran A change one record with no commit, and tran B reads two different data before and after, which indeed a &#39;dirty data&#39; and &#39;non-repeatable read&#39;&quot;, what we confuse is because we learn it from the result of the two transactions&#39; behavior. \r\n\r\nBUT, the correct angle is: &quot;dirty read&quot;&#39; is a TWO-trasanction thing,whereas &quot;non-repeatable read&quot; is totally a ONE-transaction thing. \r\n\r\nWhat that means?  for exsample, if you are a transaction, and i am a transaction after you.  you read a X, and i update it to Y, then you read again. \r\n\r\nTO US, you have read a dirty data, because i didn&#39;t commit, maybe i want to rollback. i make you read the dity data.\r\n\r\nTO YOU youself, in your own transaction, you read two different data, it&#39;s a non repeatable data.\r\n\r\na little bit verbose. may it helps.\r\n\r\nrefs:\r\n1. https://dev.mysql.com/doc/refman/8.0/en/glossary.html#glos_dirty_read  \r\n2. https://dev.mysql.com/doc/refman/8.0/en/glossary.html#glos_non_repeatable_read","title":"Dirty read vs Non-repeatable read","body":"<p>i had the same confuse as you do before.</p>\n\n<p>after i read the answers in your post, i decide to find out from mysql doc.</p>\n\n<p>after read the doc from mysql, i think what confuse us is the understading angle. we think that \"tran A change one record with no commit, and tran B reads two different data before and after, which indeed a 'dirty data' and 'non-repeatable read'\", what we confuse is because we learn it from the result of the two transactions' behavior. </p>\n\n<p>BUT, the correct angle is: \"dirty read\"' is a TWO-trasanction thing,whereas \"non-repeatable read\" is totally a ONE-transaction thing. </p>\n\n<p>What that means?  for exsample, if you are a transaction, and i am a transaction after you.  you read a X, and i update it to Y, then you read again. </p>\n\n<p>TO US, you have read a dirty data, because i didn't commit, maybe i want to rollback. i make you read the dity data.</p>\n\n<p>TO YOU youself, in your own transaction, you read two different data, it's a non repeatable data.</p>\n\n<p>a little bit verbose. may it helps.</p>\n\n<p>refs:\n1. <a href=\"https://dev.mysql.com/doc/refman/8.0/en/glossary.html#glos_dirty_read\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/8.0/en/glossary.html#glos_dirty_read</a><br>\n2. <a href=\"https://dev.mysql.com/doc/refman/8.0/en/glossary.html#glos_non_repeatable_read\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/8.0/en/glossary.html#glos_non_repeatable_read</a></p>\n"},{"tags":[],"owner":{"account_id":3926947,"reputation":25936,"user_id":3247006,"display_name":"Super Kai - Kazuya Ito"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664844257,"creation_date":1663835045,"answer_id":73811476,"question_id":18297626,"body_markdown":"- **Dirty read** is that a transction reads the uncommitted data which other transactions insert, update or delete.\r\n\r\n- **Non-repeatable read(fuzzy read)** is that a transaction reads the same row at least twice but the same row&#39;s data is different between the 1st and 2nd reads because other transactions update the same row&#39;s data and commit at the same time(concurrently).\r\n\r\nI experimented **dirty read** and **non-repeatable read** with **MySQL** and **2 command prompts**.\r\n\r\nFor the experiments of **dirty read** and **non-repeatable read**, I set **`READ UNCOMMITTED` isolation level** to occur **dirty read** and **non-repeatable read**:\r\n\r\n```lang-none\r\nSET GLOBAL TRANSACTION ISOLATION LEVEL READ UNCOMMITTED;\r\nSET SESSION TRANSACTION ISOLATION LEVEL READ UNCOMMITTED;\r\n```\r\n\r\nAnd, I created **`person` table** with **`id`** and **`name`** as shown below.\r\n\r\n### `person` table:\r\n\r\n| id | name |\r\n| - | - |\r\n| **1** | **John** |\r\n| **2** | **David** |\r\n\r\nFirst for **dirty read**, I did **these steps below** with **SQL queries**:\r\n\r\n| Flow | Transaction 1 (T1) | Transaction 2 (T2) | Explanation |\r\n| - | - | - | - |\r\n| **Step 1** | **`BEGIN;`** |  | **T1 starts.** |\r\n| **Step 2** |  | **`BEGIN;`** | **T2 starts.** |\r\n| **Step 3** | **`SELECT * FROM person WHERE id = 2;`**&lt;br/&gt;&lt;br/&gt;**2 David** | | **T1 reads `David`.** |  \r\n| **Step 4** |  | **`UPDATE person SET name = &#39;Tom&#39; WHERE id = 2;`** | **T2 updates `David` to `Tom`.** |\r\n| **Step 5** | **`SELECT * FROM person WHERE id = 2;`**&lt;br/&gt;&lt;br/&gt;**2 Tom** | | **T1 reads `Tom` instead of `David` before T2 commits.**&lt;br/&gt;&lt;br/&gt;&lt;h3&gt;***Dirty read occurs!!**&lt;/h3&gt; |\r\n| **Step 6** | | **`COMMIT;`** | **T2 commits.** |\r\n| **Step 7** | **`COMMIT;`** | | **T1 commits.** |\r\n\r\nSecond for **non-repeatable read**, I did **these steps below** with **MySQL queries**:\r\n\r\n| Flow | Transaction 1 (T1) | Transaction 2 (T2) | Explanation |\r\n| - | - | - | - |\r\n| **Step 1** | **`BEGIN;`** |  | **T1 starts.** |\r\n| **Step 2** |  | **`BEGIN;`** | **T2 starts.** |\r\n| **Step 3** | **`SELECT * FROM person WHERE id = 2;`**&lt;br/&gt;&lt;br/&gt;**2 David** | | **T1 reads `David`.** |  \r\n| **Step 4** |  | **`UPDATE person SET name = &#39;Tom&#39; WHERE id = 2;`** | **T2 updates `David` to `Tom`.** |\r\n| **Step 5** | | **`COMMIT;`** | **T2 commits.** |\r\n| **Step 6** | **`SELECT * FROM person WHERE id = 2;`**&lt;br/&gt;&lt;br/&gt;**2 Tom** | | **T1 reads `Tom` instead of `David` after T2 commits.**&lt;br/&gt;&lt;br/&gt;&lt;h3&gt;***Non-repeatable read occurs!!**&lt;/h3&gt; |\r\n| **Step 7** | **`COMMIT;`** | | **T1 commits.** |","title":"Dirty read vs Non-repeatable read","body":"<ul>\n<li><p><strong>Dirty read</strong> is that a transction reads the uncommitted data which other transactions insert, update or delete.</p>\n</li>\n<li><p><strong>Non-repeatable read(fuzzy read)</strong> is that a transaction reads the same row at least twice but the same row's data is different between the 1st and 2nd reads because other transactions update the same row's data and commit at the same time(concurrently).</p>\n</li>\n</ul>\n<p>I experimented <strong>dirty read</strong> and <strong>non-repeatable read</strong> with <strong>MySQL</strong> and <strong>2 command prompts</strong>.</p>\n<p>For the experiments of <strong>dirty read</strong> and <strong>non-repeatable read</strong>, I set <strong><code>READ UNCOMMITTED</code> isolation level</strong> to occur <strong>dirty read</strong> and <strong>non-repeatable read</strong>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>SET GLOBAL TRANSACTION ISOLATION LEVEL READ UNCOMMITTED;\nSET SESSION TRANSACTION ISOLATION LEVEL READ UNCOMMITTED;\n</code></pre>\n<p>And, I created <strong><code>person</code> table</strong> with <strong><code>id</code></strong> and <strong><code>name</code></strong> as shown below.</p>\n<h3><code>person</code> table:</h3>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>name</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>1</strong></td>\n<td><strong>John</strong></td>\n</tr>\n<tr>\n<td><strong>2</strong></td>\n<td><strong>David</strong></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>First for <strong>dirty read</strong>, I did <strong>these steps below</strong> with <strong>SQL queries</strong>:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Flow</th>\n<th>Transaction 1 (T1)</th>\n<th>Transaction 2 (T2)</th>\n<th>Explanation</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>Step 1</strong></td>\n<td><strong><code>BEGIN;</code></strong></td>\n<td></td>\n<td><strong>T1 starts.</strong></td>\n</tr>\n<tr>\n<td><strong>Step 2</strong></td>\n<td></td>\n<td><strong><code>BEGIN;</code></strong></td>\n<td><strong>T2 starts.</strong></td>\n</tr>\n<tr>\n<td><strong>Step 3</strong></td>\n<td><strong><code>SELECT * FROM person WHERE id = 2;</code></strong><br/><br/><strong>2 David</strong></td>\n<td></td>\n<td><strong>T1 reads <code>David</code>.</strong></td>\n</tr>\n<tr>\n<td><strong>Step 4</strong></td>\n<td></td>\n<td><strong><code>UPDATE person SET name = 'Tom' WHERE id = 2;</code></strong></td>\n<td><strong>T2 updates <code>David</code> to <code>Tom</code>.</strong></td>\n</tr>\n<tr>\n<td><strong>Step 5</strong></td>\n<td><strong><code>SELECT * FROM person WHERE id = 2;</code></strong><br/><br/><strong>2 Tom</strong></td>\n<td></td>\n<td><strong>T1 reads <code>Tom</code> instead of <code>David</code> before T2 commits.</strong><br/><br/><h3>*<strong>Dirty read occurs!!</strong></h3></td>\n</tr>\n<tr>\n<td><strong>Step 6</strong></td>\n<td></td>\n<td><strong><code>COMMIT;</code></strong></td>\n<td><strong>T2 commits.</strong></td>\n</tr>\n<tr>\n<td><strong>Step 7</strong></td>\n<td><strong><code>COMMIT;</code></strong></td>\n<td></td>\n<td><strong>T1 commits.</strong></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Second for <strong>non-repeatable read</strong>, I did <strong>these steps below</strong> with <strong>MySQL queries</strong>:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Flow</th>\n<th>Transaction 1 (T1)</th>\n<th>Transaction 2 (T2)</th>\n<th>Explanation</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>Step 1</strong></td>\n<td><strong><code>BEGIN;</code></strong></td>\n<td></td>\n<td><strong>T1 starts.</strong></td>\n</tr>\n<tr>\n<td><strong>Step 2</strong></td>\n<td></td>\n<td><strong><code>BEGIN;</code></strong></td>\n<td><strong>T2 starts.</strong></td>\n</tr>\n<tr>\n<td><strong>Step 3</strong></td>\n<td><strong><code>SELECT * FROM person WHERE id = 2;</code></strong><br/><br/><strong>2 David</strong></td>\n<td></td>\n<td><strong>T1 reads <code>David</code>.</strong></td>\n</tr>\n<tr>\n<td><strong>Step 4</strong></td>\n<td></td>\n<td><strong><code>UPDATE person SET name = 'Tom' WHERE id = 2;</code></strong></td>\n<td><strong>T2 updates <code>David</code> to <code>Tom</code>.</strong></td>\n</tr>\n<tr>\n<td><strong>Step 5</strong></td>\n<td></td>\n<td><strong><code>COMMIT;</code></strong></td>\n<td><strong>T2 commits.</strong></td>\n</tr>\n<tr>\n<td><strong>Step 6</strong></td>\n<td><strong><code>SELECT * FROM person WHERE id = 2;</code></strong><br/><br/><strong>2 Tom</strong></td>\n<td></td>\n<td><strong>T1 reads <code>Tom</code> instead of <code>David</code> after T2 commits.</strong><br/><br/><h3>*<strong>Non-repeatable read occurs!!</strong></h3></td>\n</tr>\n<tr>\n<td><strong>Step 7</strong></td>\n<td><strong><code>COMMIT;</code></strong></td>\n<td></td>\n<td><strong>T1 commits.</strong></td>\n</tr>\n</tbody>\n</table>\n</div>"}],"owner":{"account_id":2296572,"reputation":12728,"user_id":2017866,"accept_rate":76,"display_name":"Rollerball"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20621,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":18297668,"answer_count":5,"score":30,"last_activity_date":1701365113,"creation_date":1376817817,"question_id":18297626,"body_markdown":"From [this][1] oracle java tutorial: \r\n\r\n&gt; A non-repeatable read occurs when transaction A retrieves a row,\r\n&gt; transaction B subsequently updates the row, and transaction A later\r\n&gt; retrieves the same row again. Transaction A retrieves the same row\r\n&gt; twice but sees different data.\r\n\r\nWhat&#39;s the difference between a dirty read and the non-repeatable read? Is it not the same thing? reading the wrong result due to others&#39; updating?\r\n\r\nThanks in advance.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/jdbc/basics/transactions.html","title":"Dirty read vs Non-repeatable read","body":"<p>From <a href=\"http://docs.oracle.com/javase/tutorial/jdbc/basics/transactions.html\" rel=\"nofollow noreferrer\">this</a> oracle java tutorial:</p>\n<blockquote>\n<p>A non-repeatable read occurs when transaction A retrieves a row,\ntransaction B subsequently updates the row, and transaction A later\nretrieves the same row again. Transaction A retrieves the same row\ntwice but sees different data.</p>\n</blockquote>\n<p>What's the difference between a dirty read and the non-repeatable read? Is it not the same thing? reading the wrong result due to others' updating?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","image","file","animation","directory"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1701313308,"post_id":77575555,"comment_id":136761340,"body_markdown":"So, assuming for a second that the images are embedded resources (ie included in your Jar), then `int numImgs = new File(&quot;/res/moon/&quot;).listFiles().length;` isn&#39;t going to work, as `/res/moon` is not longer a directory, it&#39;s actually a zip entry.  There is a really (imho) janky way to this, but it&#39;s some what error prone the resources exist in different jars/libraries, so, instead, what I prefer to do, is generate a text file which can be included.","body":"So, assuming for a second that the images are embedded resources (ie included in your Jar), then <code>int numImgs = new File(&quot;&#47;res&#47;moon&#47;&quot;).listFiles().length;</code> isn&#39;t going to work, as <code>&#47;res&#47;moon</code> is not longer a directory, it&#39;s actually a zip entry.  There is a really (imho) janky way to this, but it&#39;s some what error prone the resources exist in different jars/libraries, so, instead, what I prefer to do, is generate a text file which can be included."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1701313315,"post_id":77575555,"comment_id":136761341,"body_markdown":"This would list all the resources.  At runtime, you&#39;d read this file (using `Class#getResource` or `Class#getResourceAsStream`) and then you&#39;d iterate over this list, loading the resource.  You could generate the &quot;list file&quot; either manually or as part of your build process","body":"This would list all the resources.  At runtime, you&#39;d read this file (using <code>Class#getResource</code> or <code>Class#getResourceAsStream</code>) and then you&#39;d iterate over this list, loading the resource.  You could generate the &quot;list file&quot; either manually or as part of your build process"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1701313455,"post_id":77575555,"comment_id":136761353,"body_markdown":"If you know, ahead of time, the number of images, just make that number of iterations","body":"If you know, ahead of time, the number of images, just make that number of iterations"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1701359429,"post_id":77575555,"comment_id":136768271,"body_markdown":"I misread the question, so I deleted my answer. However, there is still a problem trying to do integer addition and string concatenation at once. You need to add parenthesis like `&quot;/res/moon/&quot; + (i + 1) + &quot;.png&quot;` (or just loop from 1 instead of 0 and don&#39;t add 1), otherwise you&#39;ll get `/res/moon/01.png` and another NPE...","body":"I misread the question, so I deleted my answer. However, there is still a problem trying to do integer addition and string concatenation at once. You need to add parenthesis like <code>&quot;&#47;res&#47;moon&#47;&quot; + (i + 1) + &quot;.png&quot;</code> (or just loop from 1 instead of 0 and don&#39;t add 1), otherwise you&#39;ll get <code>&#47;res&#47;moon&#47;01.png</code> and another NPE..."},{"owner":{"account_id":17324327,"reputation":1,"user_id":12548915,"display_name":"Klevergaard"},"score":0,"creation_date":1701578175,"post_id":77575555,"comment_id":136792431,"body_markdown":"I am fairly new to Java and stack, so bare with me. I was hoping to be able to use it on directories that I may add in to get the number of files. The answer solve my issue, and showed me the proper way to import images.","body":"I am fairly new to Java and stack, so bare with me. I was hoping to be able to use it on directories that I may add in to get the number of files. The answer solve my issue, and showed me the proper way to import images."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701365081,"creation_date":1701365081,"answer_id":77580486,"question_id":77575555,"body_markdown":"Specifying `/res/moon/` is a File object means something very different from specifying the same string as a resource path.\r\n\r\n`new File(&quot;/res/moon&quot;)` refers to a “res” directory *in the root of your drive,* not in your project.  On Windows, this probably refers to `C:\\res\\moon`.  On other systems, it’s `/res/room` at the root of the file system, alongside /bin, /lib, and /usr.  I doubt this is what you intended.\r\n\r\nThis is where your NullPointerException is coming from:  `listFiles()` fails because you don’t have that directory in the root if your drive.  listFiles returns null when it fails, instead of properly throwing an exception.  (This is a known weakness of the File class.  The File class should not be used anymore, except with APIs that require it;  the replacement for it is the [Path](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Path.html) class and the [Files](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html) class.)\r\n\r\nFor reading internal application resources, one must not use File (or Path).  Not only is it unreliable because it has to make assumptions about your application’s [current working directory](https://en.wikipedia.org/wiki/Working_directory), it also won’t work at all if you ever package your application in a .jar file.\r\n\r\nA .jar file is **one file.**  Resources inside it are not files;  you cannot read them as files.  You cannot list them as files.  They are just parts of a compressed archive.\r\n\r\nSo, how should you get the total number of images?  Easy—you already know.  You said yourself that you have 60 images, so just put something in your class like this:\r\n\r\n    private static final int IMAGE_COUNT = 60;\r\n\r\nYou have another problem here:\r\n\r\n    InputStream is = getClass().getResourceAsStream(&quot;/res/moon/&quot; + i + 1 + &quot;.png&quot;);\r\n\r\nIf you add this line right before it:\r\n\r\n    System.out.println(&quot;/res/moon/&quot; + i + 1 + &quot;.png&quot;);\r\n\r\nYou will see that it’s not doing what you intended.  The `+` operator works left-to-right, so no mathematical addition is taking place.  You can easily fix it with parentheses:\r\n\r\n    InputStream is = getClass().getResourceAsStream(&quot;/res/moon/&quot; + (i + 1) + &quot;.png&quot;);\r\n    //              math is performed before string concatenation  ↑↑↑↑↑↑↑\r\n\r\nIf you look at the documentation for [the methods of ImageIO](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/imageio/ImageIO.html#method-summary), you will see there is a read(URL) method.  This is much easier to use when loading resources:\r\n\r\n    for (int i = 0; i &lt; IMAGE_COUNT; i++) {\r\n        URL imageLocation = getClass().getResource(&quot;/res/moon/&quot; + (i + 1) + &quot;.png&quot;);\r\n        moonIdle[i] = ImageIO.read(imageLocation);\r\n    }\r\n\r\nNo need to worry about closing an InputStream.  (Notice the use of getResource instead of getResourceAsStream.)\r\n\r\nInstead of ignoring an IOException for each image, place the entire loop inside one try/catch.  If you can’t load an image, you certainly don’t want to keep going as if nothing’s wrong.\r\n\r\n    try {\r\n        for (int i = 0; i &lt; IMAGE_COUNT; i++) {\r\n            URL imageLocation = getClass().getResource(&quot;/res/moon/&quot; + (i + 1) + &quot;.png&quot;);\r\n            moonIdle[i] = ImageIO.read(imageLocation);\r\n        }\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nFinally, I assume your application will not work properly without those images loaded, since there won’t be much for a user to see.  Instead of ignoring an IOException, treat it as a fatal error.\r\n\r\n    try {\r\n        for (int i = 0; i &lt; IMAGE_COUNT; i++) {\r\n            String resourcePath = &quot;/res/moon/&quot; + (i + 1) + &quot;.png&quot;;\r\n\r\n            URL imageLocation = getClass().getResource(resourcePath);\r\n\r\n            if (imageLocation == null) {\r\n                throw new RuntimeException(\r\n                    &quot;Missing image in application: &quot;\r\n                    + &quot;\\&quot;&quot; + resourcePath + &quot;\\&quot;&quot;);\r\n            }\r\n\r\n            moonIdle[i] = ImageIO.read(imageLocation);\r\n\r\n            if (moonIdle[i] == null) {\r\n                throw new RuntimeException(\r\n                    &quot;Invalid image in application at &quot; + imageLocation);\r\n            }\r\n        }\r\n    } catch (IOException e) {\r\n        throw new RuntimeException(&quot;Cannot load internal image!&quot;, e);\r\n    }\r\n\r\nNotice that the above code does not just call printStackTrace in its catch block and keep going as if nothing’s wrong.  That’s because something *is* wrong—seriously wrong, in fact.  The application cannot run properly without those images!  The correct course of action is to halt the program logic, which is what exceptions are designed to do.  Rarely is it a good idea to just print/log an exception and keep going as if nothing is wrong.\r\n\r\nAlso, notice that the caught exception is itself passed as an argument when constructing the RuntimeException.  This guarantees that the original exception, and its stack trace information, are not lost.  Eventually, some code at some level will print that stack trace, even if it’s Java SE itself who does so.\r\n","title":"Importing a set of images from a resource folder in java","body":"<p>Specifying <code>/res/moon/</code> is a File object means something very different from specifying the same string as a resource path.</p>\n<p><code>new File(&quot;/res/moon&quot;)</code> refers to a “res” directory <em>in the root of your drive,</em> not in your project.  On Windows, this probably refers to <code>C:\\res\\moon</code>.  On other systems, it’s <code>/res/room</code> at the root of the file system, alongside /bin, /lib, and /usr.  I doubt this is what you intended.</p>\n<p>This is where your NullPointerException is coming from:  <code>listFiles()</code> fails because you don’t have that directory in the root if your drive.  listFiles returns null when it fails, instead of properly throwing an exception.  (This is a known weakness of the File class.  The File class should not be used anymore, except with APIs that require it;  the replacement for it is the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Path.html\" rel=\"nofollow noreferrer\">Path</a> class and the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html\" rel=\"nofollow noreferrer\">Files</a> class.)</p>\n<p>For reading internal application resources, one must not use File (or Path).  Not only is it unreliable because it has to make assumptions about your application’s <a href=\"https://en.wikipedia.org/wiki/Working_directory\" rel=\"nofollow noreferrer\">current working directory</a>, it also won’t work at all if you ever package your application in a .jar file.</p>\n<p>A .jar file is <strong>one file.</strong>  Resources inside it are not files;  you cannot read them as files.  You cannot list them as files.  They are just parts of a compressed archive.</p>\n<p>So, how should you get the total number of images?  Easy—you already know.  You said yourself that you have 60 images, so just put something in your class like this:</p>\n<pre><code>private static final int IMAGE_COUNT = 60;\n</code></pre>\n<p>You have another problem here:</p>\n<pre><code>InputStream is = getClass().getResourceAsStream(&quot;/res/moon/&quot; + i + 1 + &quot;.png&quot;);\n</code></pre>\n<p>If you add this line right before it:</p>\n<pre><code>System.out.println(&quot;/res/moon/&quot; + i + 1 + &quot;.png&quot;);\n</code></pre>\n<p>You will see that it’s not doing what you intended.  The <code>+</code> operator works left-to-right, so no mathematical addition is taking place.  You can easily fix it with parentheses:</p>\n<pre><code>InputStream is = getClass().getResourceAsStream(&quot;/res/moon/&quot; + (i + 1) + &quot;.png&quot;);\n//              math is performed before string concatenation  ↑↑↑↑↑↑↑\n</code></pre>\n<p>If you look at the documentation for <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/imageio/ImageIO.html#method-summary\" rel=\"nofollow noreferrer\">the methods of ImageIO</a>, you will see there is a read(URL) method.  This is much easier to use when loading resources:</p>\n<pre><code>for (int i = 0; i &lt; IMAGE_COUNT; i++) {\n    URL imageLocation = getClass().getResource(&quot;/res/moon/&quot; + (i + 1) + &quot;.png&quot;);\n    moonIdle[i] = ImageIO.read(imageLocation);\n}\n</code></pre>\n<p>No need to worry about closing an InputStream.  (Notice the use of getResource instead of getResourceAsStream.)</p>\n<p>Instead of ignoring an IOException for each image, place the entire loop inside one try/catch.  If you can’t load an image, you certainly don’t want to keep going as if nothing’s wrong.</p>\n<pre><code>try {\n    for (int i = 0; i &lt; IMAGE_COUNT; i++) {\n        URL imageLocation = getClass().getResource(&quot;/res/moon/&quot; + (i + 1) + &quot;.png&quot;);\n        moonIdle[i] = ImageIO.read(imageLocation);\n    }\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Finally, I assume your application will not work properly without those images loaded, since there won’t be much for a user to see.  Instead of ignoring an IOException, treat it as a fatal error.</p>\n<pre><code>try {\n    for (int i = 0; i &lt; IMAGE_COUNT; i++) {\n        String resourcePath = &quot;/res/moon/&quot; + (i + 1) + &quot;.png&quot;;\n\n        URL imageLocation = getClass().getResource(resourcePath);\n\n        if (imageLocation == null) {\n            throw new RuntimeException(\n                &quot;Missing image in application: &quot;\n                + &quot;\\&quot;&quot; + resourcePath + &quot;\\&quot;&quot;);\n        }\n\n        moonIdle[i] = ImageIO.read(imageLocation);\n\n        if (moonIdle[i] == null) {\n            throw new RuntimeException(\n                &quot;Invalid image in application at &quot; + imageLocation);\n        }\n    }\n} catch (IOException e) {\n    throw new RuntimeException(&quot;Cannot load internal image!&quot;, e);\n}\n</code></pre>\n<p>Notice that the above code does not just call printStackTrace in its catch block and keep going as if nothing’s wrong.  That’s because something <em>is</em> wrong—seriously wrong, in fact.  The application cannot run properly without those images!  The correct course of action is to halt the program logic, which is what exceptions are designed to do.  Rarely is it a good idea to just print/log an exception and keep going as if nothing is wrong.</p>\n<p>Also, notice that the caught exception is itself passed as an argument when constructing the RuntimeException.  This guarantees that the original exception, and its stack trace information, are not lost.  Eventually, some code at some level will print that stack trace, even if it’s Java SE itself who does so.</p>\n"}],"owner":{"account_id":17324327,"reputation":1,"user_id":12548915,"display_name":"Klevergaard"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701365081,"creation_date":1701311882,"question_id":77575555,"body_markdown":"I want to import a set of 60 images from a directory folder in my project to bufferedImage[]. I can import a single image but when I try to write a method to import multiple I get a nullPointerException. \r\nspecifically from trying to get the length of the directory *Number of Images* in the directory. I believe it has to do with my file path, but have not been able to find relevant resource to solve my problem.\r\n\r\n** code I am working on **\r\n\r\n```\r\n    private void importImgs() {\r\n        int numImgs = new File(&quot;/res/moon/&quot;).listFiles().length;\r\n        moonIdle =  new BufferedImage[numImgs];\r\n\r\n        \r\n        for(int i = 0; i &lt; numImgs; i++) {\r\n            InputStream is = getClass().getResourceAsStream(&quot;/res/moon/&quot; + i + 1 + &quot;.png&quot;);\r\n            \r\n            try {\r\n                moonIdle[i] = ImageIO.read(is);\r\n\r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n\r\n            } finally {\r\n                try {\r\n                    is.close();\r\n\r\n                } catch (IOException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n** code to import single image working **\r\n\r\n```\r\n    private void importImg() {\r\n        InputStream is = getClass().getResourceAsStream(&quot;/res/moon/1.png&quot;);\r\n        \r\n        try {\r\n            moon = ImageIO.read(is);\r\n            \r\n        } catch (IOException ex) {\r\n            ex.printStackTrace();\r\n            \r\n        } finally {\r\n            try {\r\n                is.close();\r\n                \r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n\r\nI was trying to get the number of images in a directory from my project. I was using \r\n`    int numImgs = new File(&quot;/res/moon/&quot;).listFiles().length;`\r\n\r\nI was hoping to get 60 bc I have 60 images for a animation of a rotating moon. but I get a NullPointerException:\r\n   Cannot read the array length because the return value of\r\n   &quot;java.io.File.listFiles()&quot; is null","title":"Importing a set of images from a resource folder in java","body":"<p>I want to import a set of 60 images from a directory folder in my project to bufferedImage[]. I can import a single image but when I try to write a method to import multiple I get a nullPointerException.\nspecifically from trying to get the length of the directory <em>Number of Images</em> in the directory. I believe it has to do with my file path, but have not been able to find relevant resource to solve my problem.</p>\n<p>** code I am working on **</p>\n<pre><code>    private void importImgs() {\n        int numImgs = new File(&quot;/res/moon/&quot;).listFiles().length;\n        moonIdle =  new BufferedImage[numImgs];\n\n        \n        for(int i = 0; i &lt; numImgs; i++) {\n            InputStream is = getClass().getResourceAsStream(&quot;/res/moon/&quot; + i + 1 + &quot;.png&quot;);\n            \n            try {\n                moonIdle[i] = ImageIO.read(is);\n\n            } catch (IOException ex) {\n                ex.printStackTrace();\n\n            } finally {\n                try {\n                    is.close();\n\n                } catch (IOException ex) {\n                    ex.printStackTrace();\n                }\n            }\n        }\n    }\n</code></pre>\n<p>** code to import single image working **</p>\n<pre><code>    private void importImg() {\n        InputStream is = getClass().getResourceAsStream(&quot;/res/moon/1.png&quot;);\n        \n        try {\n            moon = ImageIO.read(is);\n            \n        } catch (IOException ex) {\n            ex.printStackTrace();\n            \n        } finally {\n            try {\n                is.close();\n                \n            } catch (IOException ex) {\n                ex.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n<p>I was trying to get the number of images in a directory from my project. I was using\n<code>    int numImgs = new File(&quot;/res/moon/&quot;).listFiles().length;</code></p>\n<p>I was hoping to get 60 bc I have 60 images for a animation of a rotating moon. but I get a NullPointerException:\nCannot read the array length because the return value of\n&quot;java.io.File.listFiles()&quot; is null</p>\n"},{"tags":["java","spring-boot","pentaho","kettle"],"answers":[{"tags":[],"owner":{"account_id":1149847,"reputation":3845,"user_id":1131789,"accept_rate":85,"display_name":"Rishu S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701364267,"creation_date":1701364267,"answer_id":77580388,"question_id":77562518,"body_markdown":"Have you tried handling the error / exception in an &quot;Error Handling&quot; flow. In Pentaho Data Validator step, you can handle the errors by using the error handling step. Read this blog post to learn more about the [Error Handling in Pentaho](https://tech-spaghetti.com/2014/11/27/handling-error-in-pentaho-data-integration/).","title":"Pentaho kettle embedded transformation error handling in JAVA application","body":"<p>Have you tried handling the error / exception in an &quot;Error Handling&quot; flow. In Pentaho Data Validator step, you can handle the errors by using the error handling step. Read this blog post to learn more about the <a href=\"https://tech-spaghetti.com/2014/11/27/handling-error-in-pentaho-data-integration/\" rel=\"nofollow noreferrer\">Error Handling in Pentaho</a>.</p>\n"}],"owner":{"account_id":12883232,"reputation":31,"user_id":9317633,"display_name":"Franck Raveau"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701364267,"creation_date":1701162352,"question_id":77562518,"body_markdown":"I&#39;m testing the [kettle-sdk-embedding-sample][1]s with a simple transformation containing a &quot;data validator&quot; and a &quot;User defined Java expression&quot; step. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nOne of the tests consists of treating junk data to verify error handling. Depending of the data, errors occur in one of the two steps. I expected an exception to be raised and catched is the main calling java function [here][3] but actually it is not. An exception is raised and catched somewhere under the hood and the stack trace logged (see bellow an example). The application&#39;s catch code is never reached.\r\n\r\nIs this designed on purpose? Is there any way to configure the engine to throw exceptions to the application for custom error handling? If not where is done in engine&#39;s code? I havent&#39; been able to see where it&#39;s done to see if there is a way to deal with it\r\n\r\nThank you\r\n\r\n    [2023/11/27 15:43:00 - User defined Java expression.0 - ERROR (version 9.4.0.1-467, build 0.0 from 2023-03-30 03.02.48 by buildguy) : Unexpected error\r\n    \u001B\\[2m2023-11-27T15:43:00.670+01:00\u001B\\[0;39m \u001B\\[31mERROR\u001B\\[0;39m \u001B\\[35m30800\u001B\\[0;39m \u001B\\[2m---\u001B\\[0;39m \u001B\\[2m\\[Java expression\\]\u001B\\[0;39m \u001B\\[36morg.pentaho.di.trans.Trans              \u001B\\[0;39m \u001B\\[2m:\u001B\\[0;39m \\[etl/Chargement.ktr\\]  Unexpected error\r\n    2023/11/27 15:43:00 - User defined Java expression.0 - ERROR (version 9.4.0.1-467, build 0.0 from 2023-03-30 03.02.48 by buildguy) : org.pentaho.di.core.exception.KettleException: \r\n    2023/11/27 15:43:00 - User defined Java expression.0 - org.pentaho.di.core.exception.KettleValueException: \r\n    2023/11/27 15:43:00 - User defined Java expression.0 - java.lang.reflect.InvocationTargetException\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at java.lang.Thread.run (Thread.java:833)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.step.RunThread.run (RunThread.java:62)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.steps.janino.Janino.processRow (Janino.java:104)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.steps.janino.Janino.calcFields (Janino.java:191)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at org.codehaus.janino.ExpressionEvaluator.evaluate (ExpressionEvaluator.java:533)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at org.codehaus.janino.ExpressionEvaluator.evaluate (ExpressionEvaluator.java:541)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at java.lang.reflect.Method.invoke (Method.java:568)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (NativeMethodAccessorImpl.java:-2)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 - \r\n    2023/11/27 15:43:00 - User defined Java expression.0 - \r\n    2023/11/27 15:43:00 - User defined Java expression.0 - java.lang.reflect.InvocationTargetException\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at java.lang.Thread.run (Thread.java:833)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.step.RunThread.run (RunThread.java:62)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.steps.janino.Janino.processRow (Janino.java:104)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.steps.janino.Janino.calcFields (Janino.java:191)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at org.codehaus.janino.ExpressionEvaluator.evaluate (ExpressionEvaluator.java:533)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at org.codehaus.janino.ExpressionEvaluator.evaluate (ExpressionEvaluator.java:541)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at java.lang.reflect.Method.invoke (Method.java:568)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (NativeMethodAccessorImpl.java:-2)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 - \r\n    2023/11/27 15:43:00 - User defined Java expression.0 - \r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     at org.pentaho.di.trans.steps.janino.Janino.processRow(Janino.java:113)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     at org.pentaho.di.trans.step.RunThread.run(RunThread.java:62)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     at java.base/java.lang.Thread.run(Thread.java:833)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 - Caused by: org.pentaho.di.core.exception.KettleValueException: \r\n    2023/11/27 15:43:00 - User defined Java expression.0 - java.lang.reflect.InvocationTargetException\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at java.lang.Thread.run (Thread.java:833)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.step.RunThread.run (RunThread.java:62)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.steps.janino.Janino.processRow (Janino.java:104)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.steps.janino.Janino.calcFields (Janino.java:191)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at org.codehaus.janino.ExpressionEvaluator.evaluate (ExpressionEvaluator.java:533)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at org.codehaus.janino.ExpressionEvaluator.evaluate (ExpressionEvaluator.java:541)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at java.lang.reflect.Method.invoke (Method.java:568)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (NativeMethodAccessorImpl.java:-2)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 - \r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     at org.pentaho.di.trans.steps.janino.Janino.calcFields(Janino.java:220)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     at org.pentaho.di.trans.steps.janino.Janino.processRow(Janino.java:104)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     ... 2 more\r\n    2023/11/27 15:43:00 - User defined Java expression.0 - Caused by: java.lang.reflect.InvocationTargetException\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     at org.codehaus.janino.ExpressionEvaluator.evaluate(ExpressionEvaluator.java:541)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     at org.codehaus.janino.ExpressionEvaluator.evaluate(ExpressionEvaluator.java:533)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     at org.pentaho.di.trans.steps.janino.Janino.calcFields(Janino.java:191)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     ... 3 more\r\n    2023/11/27 15:43:00 - User defined Java expression.0 - Caused by: java.lang.NullPointerException: Cannot read field &quot;value&quot; because &quot;original&quot; is null\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     at java.base/java.lang.String.&lt;init&gt;(String.java:260)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     at SC.eval0(Unknown Source)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     ... 10 more][2]\r\n\r\n\r\n  [1]: https://github.com/pentaho/pdi-sdk-plugins/tree/master/kettle-sdk-embedding-samples\r\n  [2]: https://i.stack.imgur.com/0tCBQ.png\r\n  [3]: https://github.com/pentaho/pdi-sdk-plugins/blob/1422c3c8e651ed065c121ac834c855a8c809b295/kettle-sdk-embedding-samples/src/main/java/org/pentaho/di/sdk/samples/embedding/RunningTransformations.java#L163","title":"Pentaho kettle embedded transformation error handling in JAVA application","body":"<p>I'm testing the <a href=\"https://github.com/pentaho/pdi-sdk-plugins/tree/master/kettle-sdk-embedding-samples\" rel=\"nofollow noreferrer\">kettle-sdk-embedding-sample</a>s with a simple transformation containing a &quot;data validator&quot; and a &quot;User defined Java expression&quot; step.</p>\n<p><a href=\"https://i.stack.imgur.com/0tCBQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0tCBQ.png\" alt=\"enter image description here\" /></a></p>\n<p>One of the tests consists of treating junk data to verify error handling. Depending of the data, errors occur in one of the two steps. I expected an exception to be raised and catched is the main calling java function <a href=\"https://github.com/pentaho/pdi-sdk-plugins/blob/1422c3c8e651ed065c121ac834c855a8c809b295/kettle-sdk-embedding-samples/src/main/java/org/pentaho/di/sdk/samples/embedding/RunningTransformations.java#L163\" rel=\"nofollow noreferrer\">here</a> but actually it is not. An exception is raised and catched somewhere under the hood and the stack trace logged (see bellow an example). The application's catch code is never reached.</p>\n<p>Is this designed on purpose? Is there any way to configure the engine to throw exceptions to the application for custom error handling? If not where is done in engine's code? I havent' been able to see where it's done to see if there is a way to deal with it</p>\n<p>Thank you</p>\n<pre><code>[2023/11/27 15:43:00 - User defined Java expression.0 - ERROR (version 9.4.0.1-467, build 0.0 from 2023-03-30 03.02.48 by buildguy) : Unexpected error\n\\[2m2023-11-27T15:43:00.670+01:00\\[0;39m \\[31mERROR\\[0;39m \\[35m30800\\[0;39m \\[2m---\\[0;39m \\[2m\\[Java expression\\]\\[0;39m \\[36morg.pentaho.di.trans.Trans              \\[0;39m \\[2m:\\[0;39m \\[etl/Chargement.ktr\\]  Unexpected error\n2023/11/27 15:43:00 - User defined Java expression.0 - ERROR (version 9.4.0.1-467, build 0.0 from 2023-03-30 03.02.48 by buildguy) : org.pentaho.di.core.exception.KettleException: \n2023/11/27 15:43:00 - User defined Java expression.0 - org.pentaho.di.core.exception.KettleValueException: \n2023/11/27 15:43:00 - User defined Java expression.0 - java.lang.reflect.InvocationTargetException\n2023/11/27 15:43:00 - User defined Java expression.0 -  at java.lang.Thread.run (Thread.java:833)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.step.RunThread.run (RunThread.java:62)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.steps.janino.Janino.processRow (Janino.java:104)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.steps.janino.Janino.calcFields (Janino.java:191)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at org.codehaus.janino.ExpressionEvaluator.evaluate (ExpressionEvaluator.java:533)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at org.codehaus.janino.ExpressionEvaluator.evaluate (ExpressionEvaluator.java:541)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at java.lang.reflect.Method.invoke (Method.java:568)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (NativeMethodAccessorImpl.java:-2)\n2023/11/27 15:43:00 - User defined Java expression.0 - \n2023/11/27 15:43:00 - User defined Java expression.0 - \n2023/11/27 15:43:00 - User defined Java expression.0 - java.lang.reflect.InvocationTargetException\n2023/11/27 15:43:00 - User defined Java expression.0 -  at java.lang.Thread.run (Thread.java:833)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.step.RunThread.run (RunThread.java:62)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.steps.janino.Janino.processRow (Janino.java:104)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.steps.janino.Janino.calcFields (Janino.java:191)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at org.codehaus.janino.ExpressionEvaluator.evaluate (ExpressionEvaluator.java:533)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at org.codehaus.janino.ExpressionEvaluator.evaluate (ExpressionEvaluator.java:541)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at java.lang.reflect.Method.invoke (Method.java:568)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (NativeMethodAccessorImpl.java:-2)\n2023/11/27 15:43:00 - User defined Java expression.0 - \n2023/11/27 15:43:00 - User defined Java expression.0 - \n2023/11/27 15:43:00 - User defined Java expression.0 -     at org.pentaho.di.trans.steps.janino.Janino.processRow(Janino.java:113)\n2023/11/27 15:43:00 - User defined Java expression.0 -     at org.pentaho.di.trans.step.RunThread.run(RunThread.java:62)\n2023/11/27 15:43:00 - User defined Java expression.0 -     at java.base/java.lang.Thread.run(Thread.java:833)\n2023/11/27 15:43:00 - User defined Java expression.0 - Caused by: org.pentaho.di.core.exception.KettleValueException: \n2023/11/27 15:43:00 - User defined Java expression.0 - java.lang.reflect.InvocationTargetException\n2023/11/27 15:43:00 - User defined Java expression.0 -  at java.lang.Thread.run (Thread.java:833)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.step.RunThread.run (RunThread.java:62)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.steps.janino.Janino.processRow (Janino.java:104)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.steps.janino.Janino.calcFields (Janino.java:191)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at org.codehaus.janino.ExpressionEvaluator.evaluate (ExpressionEvaluator.java:533)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at org.codehaus.janino.ExpressionEvaluator.evaluate (ExpressionEvaluator.java:541)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at java.lang.reflect.Method.invoke (Method.java:568)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (NativeMethodAccessorImpl.java:-2)\n2023/11/27 15:43:00 - User defined Java expression.0 - \n2023/11/27 15:43:00 - User defined Java expression.0 -     at org.pentaho.di.trans.steps.janino.Janino.calcFields(Janino.java:220)\n2023/11/27 15:43:00 - User defined Java expression.0 -     at org.pentaho.di.trans.steps.janino.Janino.processRow(Janino.java:104)\n2023/11/27 15:43:00 - User defined Java expression.0 -     ... 2 more\n2023/11/27 15:43:00 - User defined Java expression.0 - Caused by: java.lang.reflect.InvocationTargetException\n2023/11/27 15:43:00 - User defined Java expression.0 -     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n2023/11/27 15:43:00 - User defined Java expression.0 -     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n2023/11/27 15:43:00 - User defined Java expression.0 -     at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n2023/11/27 15:43:00 - User defined Java expression.0 -     at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n2023/11/27 15:43:00 - User defined Java expression.0 -     at org.codehaus.janino.ExpressionEvaluator.evaluate(ExpressionEvaluator.java:541)\n2023/11/27 15:43:00 - User defined Java expression.0 -     at org.codehaus.janino.ExpressionEvaluator.evaluate(ExpressionEvaluator.java:533)\n2023/11/27 15:43:00 - User defined Java expression.0 -     at org.pentaho.di.trans.steps.janino.Janino.calcFields(Janino.java:191)\n2023/11/27 15:43:00 - User defined Java expression.0 -     ... 3 more\n2023/11/27 15:43:00 - User defined Java expression.0 - Caused by: java.lang.NullPointerException: Cannot read field &quot;value&quot; because &quot;original&quot; is null\n2023/11/27 15:43:00 - User defined Java expression.0 -     at java.base/java.lang.String.&lt;init&gt;(String.java:260)\n2023/11/27 15:43:00 - User defined Java expression.0 -     at SC.eval0(Unknown Source)\n2023/11/27 15:43:00 - User defined Java expression.0 -     ... 10 more][2]\n</code></pre>\n"},{"tags":["java","java-8","alfresco","zip","opencmis"],"comments":[{"owner":{"account_id":3802375,"reputation":59048,"user_id":3155639,"accept_rate":89,"display_name":"Alexander O&#39;Mara"},"score":5,"creation_date":1498865694,"post_id":44855996,"comment_id":76692788,"body_markdown":"For one thing, make sure your ZIP library supports 64bit ZIP files. Overall though, this sounds like a bad idea.","body":"For one thing, make sure your ZIP library supports 64bit ZIP files. Overall though, this sounds like a bad idea."},{"owner":{"account_id":24564,"reputation":123812,"user_id":62576,"accept_rate":100,"display_name":"Ken White"},"score":3,"creation_date":1498866632,"post_id":44855996,"comment_id":76692932,"body_markdown":"Why would you possibly want to put nearly half a terabyte in a single zip file? That just seems like a horrible idea to me, not only from a standpoint of server load while zipping but a sucking pig of bandwidth and time when downloading or transferring it.","body":"Why would you possibly want to put nearly half a terabyte in a single zip file? That just seems like a horrible idea to me, not only from a standpoint of server load while zipping but a sucking pig of bandwidth and time when downloading or transferring it."},{"owner":{"account_id":2805836,"reputation":121,"user_id":2413100,"display_name":"G.Dileo"},"score":0,"creation_date":1498866846,"post_id":44855996,"comment_id":76692982,"body_markdown":"Because it is a request... and this procedure is invoked by a night batch.\nIs a procedure that will be invoked just once","body":"Because it is a request... and this procedure is invoked by a night batch. Is a procedure that will be invoked just once"},{"owner":{"account_id":1169697,"reputation":1416,"user_id":1147141,"accept_rate":42,"display_name":"bichito"},"score":1,"creation_date":1498867908,"post_id":44855996,"comment_id":76693146,"body_markdown":"For 400 gb, I would download first,check integrity second, the zipping last. You would need to download each file twice","body":"For 400 gb, I would download first,check integrity second, the zipping last. You would need to download each file twice"},{"owner":{"account_id":2805836,"reputation":121,"user_id":2413100,"display_name":"G.Dileo"},"score":0,"creation_date":1498904848,"post_id":44855996,"comment_id":76699477,"body_markdown":"The problem with this algorithm is that I get an OutOfMemory. How can I use temporary files and merge them to a single zip?\n\nThis is the stack:","body":"The problem with this algorithm is that I get an OutOfMemory. How can I use temporary files and merge them to a single zip?  This is the stack:"},{"owner":{"account_id":2805836,"reputation":121,"user_id":2413100,"display_name":"G.Dileo"},"score":0,"creation_date":1498905295,"post_id":44855996,"comment_id":76699608,"body_markdown":"for the line: IOUtils.copy(inputStream, zos, 1024):\njava.lang.OutOfMemoryError: Java heap space\n\tat java.util.Arrays.copyOf(Arrays.java:3236)\n\tat java.io.ByteArrayOutputStream.grow(ByteArrayOutputStream.java:118)\n\tat java.io.ByteArrayOutputStream.ensureCapacity(ByteArrayOutputStream.java:93)\n\tat java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:153)\n\t---\n        ---\n\tat java.util.zip.ZipOutputStream.write(ZipOutputStream.java:331)\n\tat org.apache.commons.io.IOUtils.copyLarge(IOUtils.java:2147)\n\tat org.apache.commons.io.IOUtils.copy(IOUtils.java:2102)","body":"for the line: IOUtils.copy(inputStream, zos, 1024): java.lang.OutOfMemoryError: Java heap space \tat java.util.Arrays.copyOf(Arrays.java:3236) \tat java.io.ByteArrayOutputStream.grow(ByteArrayOutputStream.jav&zwnj;&#8203;a:118) \tat java.io.ByteArrayOutputStream.ensureCapacity(ByteArrayOutput&zwnj;&#8203;Stream.java:93) \tat java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.ja&zwnj;&#8203;va:153) \t---         --- \tat java.util.zip.ZipOutputStream.write(ZipOutputStream.java:331&zwnj;&#8203;) \tat org.apache.commons.io.IOUtils.copyLarge(IOUtils.java:2147) \tat org.apache.commons.io.IOUtils.copy(IOUtils.java:2102)"}],"answers":[{"tags":[],"owner":{"account_id":3365752,"reputation":2491,"user_id":2826417,"accept_rate":50,"display_name":"Sanjay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701364135,"creation_date":1498906065,"answer_id":44860067,"question_id":44855996,"body_markdown":"I have created functionality to download as ZIP for Alfresco 3.4.d version using the following code.  I have not checked it for large files in the GB range because I don&#39;t have that much data.  It may be of help to you.\r\n\r\nThis is a Java-backed WebScript.\r\n\r\n\r\n```lang-java\r\n/**\r\n * This class creates a ZIP file base on given(parameter) node\r\n */\r\npublic class ZipContents extends AbstractWebScript {\r\n\tprivate static Log logger = LogFactory.getLog(ZipContents.class);\r\n\r\n\tprivate static final int BUFFER_SIZE = 1024;\r\n\r\n\tprivate static final String MIMETYPE_ZIP = &quot;application/zip&quot;;\r\n\tprivate static final String TEMP_FILE_PREFIX = &quot;alf&quot;;\r\n\tprivate static final String ZIP_EXTENSION = &quot;.zip&quot;;\r\n\r\n\tprivate ContentService contentService;\r\n\tprivate NodeService nodeService;\r\n\tprivate NamespaceService namespaceService;\r\n\tprivate DictionaryService dictionaryService;\r\n\tprivate StoreRef storeRef;\r\n\tprivate String encoding;\r\n\r\n\tpublic void setNodeService(NodeService nodeService) {\r\n\t\tthis.nodeService = nodeService;\r\n\t}\r\n\r\n\tpublic void setContentService(ContentService contentService) {\r\n\t\tthis.contentService = contentService;\r\n\t}\r\n\r\n\tpublic void setNamespaceService(NamespaceService namespaceService) {\r\n\t\tthis.namespaceService = namespaceService;\r\n\t}\r\n\r\n\tpublic void setDictionaryService(DictionaryService dictionaryService) {\r\n\t\tthis.dictionaryService = dictionaryService;\r\n\t}\r\n\r\n\tpublic void setStoreUrl(String url) {\r\n\t\tthis.storeRef = new StoreRef(url);\r\n\t}\r\n\r\n\tpublic void setEncoding(String encoding) {\r\n\t\tthis.encoding = encoding;\r\n\t}\r\n\r\n\tpublic void execute(WebScriptRequest req, WebScriptResponse res) throws IOException {\r\n\r\n\t\tString nodes = req.getParameter(&quot;nodes&quot;);\r\n\t\tif (nodes == null || nodes.length() == 0) {\r\n\t\t\tthrow new WebScriptException(HttpServletResponse.SC_BAD_REQUEST, &quot;nodes&quot;);\r\n\t\t}\r\n\r\n\t\tList&lt;String&gt; nodeIds = new ArrayList&lt;String&gt;();\r\n\t\tStringTokenizer tokenizer = new StringTokenizer(nodes, &quot;,&quot;);\r\n\t\tif (tokenizer.hasMoreTokens()) {\r\n\t\t\twhile (tokenizer.hasMoreTokens()) {\r\n\t\t\t\tnodeIds.add(tokenizer.nextToken());\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tString filename = req.getParameter(&quot;filename&quot;);\r\n\t\tif (filename == null || filename.length() == 0) {\r\n\t\t\tthrow new WebScriptException(HttpServletResponse.SC_BAD_REQUEST, &quot;filename&quot;);\r\n\t\t}\r\n\r\n\t\tString noaccentStr = req.getParameter(&quot;noaccent&quot;);\r\n\t\tif (noaccentStr == null || noaccentStr.length() == 0) {\r\n\t\t\tthrow new WebScriptException(HttpServletResponse.SC_BAD_REQUEST, &quot;noaccent&quot;);\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tres.setContentType(MIMETYPE_ZIP);\r\n\t\t\tres.setHeader(&quot;Content-Transfer-Encoding&quot;, &quot;binary&quot;);\r\n\t\t\tres.addHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=\\&quot;&quot; + unAccent(filename) + ZIP_EXTENSION + &quot;\\&quot;&quot;);\r\n\r\n\t\t\tres.setHeader(&quot;Cache-Control&quot;, &quot;must-revalidate, post-check=0, pre-check=0&quot;);\r\n\t\t\tres.setHeader(&quot;Pragma&quot;, &quot;public&quot;);\r\n\t\t\tres.setHeader(&quot;Expires&quot;, &quot;0&quot;);\r\n\r\n\t\t\tcreateZipFile(nodeIds, res.getOutputStream(), new Boolean(noaccentStr));\r\n\t\t} catch (RuntimeException e) {\r\n\t\t\tthrow new WebScriptException(HttpServletResponse.SC_BAD_REQUEST, e.getMessage());\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void createZipFile(List&lt;String&gt; nodeIds, OutputStream os, boolean noaccent) throws IOException {\r\n\t\tFile zip = null;\r\n\r\n\t\ttry {\r\n\t\t\tif (nodeIds != null &amp;&amp; !nodeIds.isEmpty()) {\r\n\t\t\t\tzip = TempFileProvider.createTempFile(TEMP_FILE_PREFIX, ZIP_EXTENSION);\r\n\t\t\t\tFileOutputStream stream = new FileOutputStream(zip);\r\n\t\t\t\tCheckedOutputStream checksum = new CheckedOutputStream(stream, new Adler32());\r\n\t\t\t\tBufferedOutputStream buff = new BufferedOutputStream(checksum);\r\n\t\t\t\tZipArchiveOutputStream out = new ZipArchiveOutputStream(buff);\r\n\t\t\t\tout.setEncoding(encoding);\r\n\t\t\t\tout.setMethod(ZipArchiveOutputStream.DEFLATED);\r\n\t\t\t\tout.setLevel(Deflater.BEST_COMPRESSION);\r\n\r\n\t\t\t\tif (logger.isDebugEnabled()) {\r\n\t\t\t\t\tlogger.debug(&quot;Using encoding &#39;&quot; + encoding + &quot;&#39; for zip file.&quot;);\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfor (String nodeId : nodeIds) {\r\n\t\t\t\t\t\tNodeRef node = new NodeRef(storeRef, nodeId);\r\n\t\t\t\t\t\taddToZip(node, out, noaccent, &quot;&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\tlogger.error(e.getMessage(), e);\r\n\t\t\t\t\tthrow new WebScriptException(HttpServletResponse.SC_BAD_REQUEST, e.getMessage());\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tout.close();\r\n\t\t\t\t\tbuff.close();\r\n\t\t\t\t\tchecksum.close();\r\n\t\t\t\t\tstream.close();\r\n\r\n\t\t\t\t\tif (nodeIds.size() &gt; 0) {\r\n\t\t\t\t\t\tInputStream in = new FileInputStream(zip);\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tbyte[] buffer = new byte[BUFFER_SIZE];\r\n\t\t\t\t\t\t\tint len;\r\n\r\n\t\t\t\t\t\t\twhile ((len = in.read(buffer)) &gt; 0) {\r\n\t\t\t\t\t\t\t\tos.write(buffer, 0, len);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} finally {\r\n\t\t\t\t\t\t\tIOUtils.closeQuietly(in);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogger.error(e.getMessage(), e);\r\n\t\t\tthrow new WebScriptException(HttpServletResponse.SC_BAD_REQUEST, e.getMessage());\r\n\t\t} finally {\r\n\t\t\t// try and delete the temporary file\r\n\t\t\tif (zip != null) {\r\n\t\t\t\tzip.delete();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void addToZip(NodeRef node, ZipArchiveOutputStream out, boolean noaccent, String path) throws IOException {\r\n\t\tQName nodeQnameType = this.nodeService.getType(node);\r\n\r\n\t\t// Special case : links\r\n\t\tif (this.dictionaryService.isSubClass(nodeQnameType, ApplicationModel.TYPE_FILELINK)) {\r\n\t\t\tNodeRef linkDestinationNode = (NodeRef) nodeService.getProperty(node, ContentModel.PROP_LINK_DESTINATION);\r\n\t\t\tif (linkDestinationNode == null) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Duplicate entry: check if link is not in the same space of the\r\n\t\t\t// link destination\r\n\t\t\tif (nodeService.getPrimaryParent(node).getParentRef().equals(nodeService.getPrimaryParent(linkDestinationNode).getParentRef())) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tnodeQnameType = this.nodeService.getType(linkDestinationNode);\r\n\t\t\tnode = linkDestinationNode;\r\n\t\t}\r\n\r\n\t\tString nodeName = (String) nodeService.getProperty(node, ContentModel.PROP_NAME);\r\n\t\tnodeName = noaccent ? unAccent(nodeName) : nodeName;\r\n\r\n\t\tif (this.dictionaryService.isSubClass(nodeQnameType, ContentModel.TYPE_CONTENT)) {\r\n\t\t\tContentReader reader = contentService.getReader(node, ContentModel.PROP_CONTENT);\r\n\t\t\tif (reader != null) {\r\n\t\t\t\tInputStream is = reader.getContentInputStream();\r\n\r\n\t\t\t\tString filename = path.isEmpty() ? nodeName : path + &#39;/&#39; + nodeName;\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tZipArchiveEntry entry = new ZipArchiveEntry(filename);\r\n\t\t\t\tentry.setTime(((Date) nodeService.getProperty(node, ContentModel.PROP_MODIFIED)).getTime());\r\n\r\n\t\t\t\tentry.setSize(reader.getSize());\r\n\t\t\t\tout.putArchiveEntry(entry);\r\n\r\n\t\t\t\tbyte buffer[] = new byte[BUFFER_SIZE];\r\n\t\t\t\twhile (true) {\r\n\t\t\t\t\tint nRead = is.read(buffer, 0, buffer.length);\r\n\t\t\t\t\tif (nRead &lt;= 0) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tout.write(buffer, 0, nRead);\r\n\t\t\t\t}\r\n\t\t\t\tis.close();\r\n\t\t\t\tout.closeArchiveEntry();\r\n\t\t\t} else {\r\n\t\t\t\tlogger.warn(&quot;Could not read : &quot; + nodeName + &quot;content&quot;);\r\n\t\t\t}\r\n\t\t} else if (this.dictionaryService.isSubClass(nodeQnameType, ContentModel.TYPE_FOLDER)\r\n\t\t\t\t&amp;&amp; !this.dictionaryService.isSubClass(nodeQnameType, ContentModel.TYPE_SYSTEM_FOLDER)) {\r\n\t\t\tList&lt;ChildAssociationRef&gt; children = nodeService.getChildAssocs(node);\r\n\t\t\tif (children.isEmpty()) {\r\n\r\n\t\t\t\tString folderPath = path.isEmpty() ? nodeName + &#39;/&#39; : path + &#39;/&#39; + nodeName + &#39;/&#39;;\r\n\t\t\t\tZipArchiveEntry entry = new ZipArchiveEntry(folderPath);\r\n\t\t\t\tentry.setSize(0);\r\n\t\t\t\tentry.setTime(((Date) nodeService.getProperty(node, ContentModel.PROP_MODIFIED)).getTime());\r\n\t\t\t\tout.putArchiveEntry(entry);\r\n\t\t\t\tout.closeArchiveEntry();\r\n\r\n\t\t\t} else {\r\n\t\t\t\tfor (ChildAssociationRef childAssoc : children) {\r\n\t\t\t\t\tNodeRef childNodeRef = childAssoc.getChildRef();\r\n\t\t\t\t\taddToZip(childNodeRef, out, noaccent, path.isEmpty() ? nodeName : path + &#39;/&#39; + nodeName);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tlogger.info(&quot;Unmanaged type: &quot; + nodeQnameType.getPrefixedQName(this.namespaceService) + &quot;, filename: &quot; + nodeName);\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\r\n\t/**\r\n\t * ZipEntry() does not convert filenames from Unicode to platform (waiting\r\n\t * Java 7) https://bugs.java.com/bugdatabase/view_bug?bug_id=4244499\r\n\t * \r\n\t * @param s\r\n\t * @return\r\n\t */\r\n\tpublic static String unAccent(String s) {\r\n\t\tString temp = Normalizer.normalize(s, Normalizer.NFD, 0);\r\n\t\treturn temp.replaceAll(&quot;[^\\\\p{ASCII}]&quot;, &quot;&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n","title":"How to build a zip file with a size of 400 GB in java","body":"<p>I have created functionality to download as ZIP for Alfresco 3.4.d version using the following code.  I have not checked it for large files in the GB range because I don't have that much data.  It may be of help to you.</p>\n<p>This is a Java-backed WebScript.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * This class creates a ZIP file base on given(parameter) node\n */\npublic class ZipContents extends AbstractWebScript {\n    private static Log logger = LogFactory.getLog(ZipContents.class);\n\n    private static final int BUFFER_SIZE = 1024;\n\n    private static final String MIMETYPE_ZIP = &quot;application/zip&quot;;\n    private static final String TEMP_FILE_PREFIX = &quot;alf&quot;;\n    private static final String ZIP_EXTENSION = &quot;.zip&quot;;\n\n    private ContentService contentService;\n    private NodeService nodeService;\n    private NamespaceService namespaceService;\n    private DictionaryService dictionaryService;\n    private StoreRef storeRef;\n    private String encoding;\n\n    public void setNodeService(NodeService nodeService) {\n        this.nodeService = nodeService;\n    }\n\n    public void setContentService(ContentService contentService) {\n        this.contentService = contentService;\n    }\n\n    public void setNamespaceService(NamespaceService namespaceService) {\n        this.namespaceService = namespaceService;\n    }\n\n    public void setDictionaryService(DictionaryService dictionaryService) {\n        this.dictionaryService = dictionaryService;\n    }\n\n    public void setStoreUrl(String url) {\n        this.storeRef = new StoreRef(url);\n    }\n\n    public void setEncoding(String encoding) {\n        this.encoding = encoding;\n    }\n\n    public void execute(WebScriptRequest req, WebScriptResponse res) throws IOException {\n\n        String nodes = req.getParameter(&quot;nodes&quot;);\n        if (nodes == null || nodes.length() == 0) {\n            throw new WebScriptException(HttpServletResponse.SC_BAD_REQUEST, &quot;nodes&quot;);\n        }\n\n        List&lt;String&gt; nodeIds = new ArrayList&lt;String&gt;();\n        StringTokenizer tokenizer = new StringTokenizer(nodes, &quot;,&quot;);\n        if (tokenizer.hasMoreTokens()) {\n            while (tokenizer.hasMoreTokens()) {\n                nodeIds.add(tokenizer.nextToken());\n            }\n        }\n\n        String filename = req.getParameter(&quot;filename&quot;);\n        if (filename == null || filename.length() == 0) {\n            throw new WebScriptException(HttpServletResponse.SC_BAD_REQUEST, &quot;filename&quot;);\n        }\n\n        String noaccentStr = req.getParameter(&quot;noaccent&quot;);\n        if (noaccentStr == null || noaccentStr.length() == 0) {\n            throw new WebScriptException(HttpServletResponse.SC_BAD_REQUEST, &quot;noaccent&quot;);\n        }\n\n        try {\n            res.setContentType(MIMETYPE_ZIP);\n            res.setHeader(&quot;Content-Transfer-Encoding&quot;, &quot;binary&quot;);\n            res.addHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=\\&quot;&quot; + unAccent(filename) + ZIP_EXTENSION + &quot;\\&quot;&quot;);\n\n            res.setHeader(&quot;Cache-Control&quot;, &quot;must-revalidate, post-check=0, pre-check=0&quot;);\n            res.setHeader(&quot;Pragma&quot;, &quot;public&quot;);\n            res.setHeader(&quot;Expires&quot;, &quot;0&quot;);\n\n            createZipFile(nodeIds, res.getOutputStream(), new Boolean(noaccentStr));\n        } catch (RuntimeException e) {\n            throw new WebScriptException(HttpServletResponse.SC_BAD_REQUEST, e.getMessage());\n        }\n    }\n\n    public void createZipFile(List&lt;String&gt; nodeIds, OutputStream os, boolean noaccent) throws IOException {\n        File zip = null;\n\n        try {\n            if (nodeIds != null &amp;&amp; !nodeIds.isEmpty()) {\n                zip = TempFileProvider.createTempFile(TEMP_FILE_PREFIX, ZIP_EXTENSION);\n                FileOutputStream stream = new FileOutputStream(zip);\n                CheckedOutputStream checksum = new CheckedOutputStream(stream, new Adler32());\n                BufferedOutputStream buff = new BufferedOutputStream(checksum);\n                ZipArchiveOutputStream out = new ZipArchiveOutputStream(buff);\n                out.setEncoding(encoding);\n                out.setMethod(ZipArchiveOutputStream.DEFLATED);\n                out.setLevel(Deflater.BEST_COMPRESSION);\n\n                if (logger.isDebugEnabled()) {\n                    logger.debug(&quot;Using encoding '&quot; + encoding + &quot;' for zip file.&quot;);\n                }\n\n                try {\n                    for (String nodeId : nodeIds) {\n                        NodeRef node = new NodeRef(storeRef, nodeId);\n                        addToZip(node, out, noaccent, &quot;&quot;);\n                    }\n                } catch (Exception e) {\n                    logger.error(e.getMessage(), e);\n                    throw new WebScriptException(HttpServletResponse.SC_BAD_REQUEST, e.getMessage());\n                } finally {\n                    out.close();\n                    buff.close();\n                    checksum.close();\n                    stream.close();\n\n                    if (nodeIds.size() &gt; 0) {\n                        InputStream in = new FileInputStream(zip);\n                        try {\n                            byte[] buffer = new byte[BUFFER_SIZE];\n                            int len;\n\n                            while ((len = in.read(buffer)) &gt; 0) {\n                                os.write(buffer, 0, len);\n                            }\n                        } finally {\n                            IOUtils.closeQuietly(in);\n                        }\n                    }\n                }\n            }\n        } catch (Exception e) {\n            logger.error(e.getMessage(), e);\n            throw new WebScriptException(HttpServletResponse.SC_BAD_REQUEST, e.getMessage());\n        } finally {\n            // try and delete the temporary file\n            if (zip != null) {\n                zip.delete();\n            }\n        }\n    }\n\n    public void addToZip(NodeRef node, ZipArchiveOutputStream out, boolean noaccent, String path) throws IOException {\n        QName nodeQnameType = this.nodeService.getType(node);\n\n        // Special case : links\n        if (this.dictionaryService.isSubClass(nodeQnameType, ApplicationModel.TYPE_FILELINK)) {\n            NodeRef linkDestinationNode = (NodeRef) nodeService.getProperty(node, ContentModel.PROP_LINK_DESTINATION);\n            if (linkDestinationNode == null) {\n                return;\n            }\n\n            // Duplicate entry: check if link is not in the same space of the\n            // link destination\n            if (nodeService.getPrimaryParent(node).getParentRef().equals(nodeService.getPrimaryParent(linkDestinationNode).getParentRef())) {\n                return;\n            }\n\n            nodeQnameType = this.nodeService.getType(linkDestinationNode);\n            node = linkDestinationNode;\n        }\n\n        String nodeName = (String) nodeService.getProperty(node, ContentModel.PROP_NAME);\n        nodeName = noaccent ? unAccent(nodeName) : nodeName;\n\n        if (this.dictionaryService.isSubClass(nodeQnameType, ContentModel.TYPE_CONTENT)) {\n            ContentReader reader = contentService.getReader(node, ContentModel.PROP_CONTENT);\n            if (reader != null) {\n                InputStream is = reader.getContentInputStream();\n\n                String filename = path.isEmpty() ? nodeName : path + '/' + nodeName;\n                \n            \n                \n                ZipArchiveEntry entry = new ZipArchiveEntry(filename);\n                entry.setTime(((Date) nodeService.getProperty(node, ContentModel.PROP_MODIFIED)).getTime());\n\n                entry.setSize(reader.getSize());\n                out.putArchiveEntry(entry);\n\n                byte buffer[] = new byte[BUFFER_SIZE];\n                while (true) {\n                    int nRead = is.read(buffer, 0, buffer.length);\n                    if (nRead &lt;= 0) {\n                        break;\n                    }\n\n                    out.write(buffer, 0, nRead);\n                }\n                is.close();\n                out.closeArchiveEntry();\n            } else {\n                logger.warn(&quot;Could not read : &quot; + nodeName + &quot;content&quot;);\n            }\n        } else if (this.dictionaryService.isSubClass(nodeQnameType, ContentModel.TYPE_FOLDER)\n                &amp;&amp; !this.dictionaryService.isSubClass(nodeQnameType, ContentModel.TYPE_SYSTEM_FOLDER)) {\n            List&lt;ChildAssociationRef&gt; children = nodeService.getChildAssocs(node);\n            if (children.isEmpty()) {\n\n                String folderPath = path.isEmpty() ? nodeName + '/' : path + '/' + nodeName + '/';\n                ZipArchiveEntry entry = new ZipArchiveEntry(folderPath);\n                entry.setSize(0);\n                entry.setTime(((Date) nodeService.getProperty(node, ContentModel.PROP_MODIFIED)).getTime());\n                out.putArchiveEntry(entry);\n                out.closeArchiveEntry();\n\n            } else {\n                for (ChildAssociationRef childAssoc : children) {\n                    NodeRef childNodeRef = childAssoc.getChildRef();\n                    addToZip(childNodeRef, out, noaccent, path.isEmpty() ? nodeName : path + '/' + nodeName);\n                }\n            }\n        } else {\n            logger.info(&quot;Unmanaged type: &quot; + nodeQnameType.getPrefixedQName(this.namespaceService) + &quot;, filename: &quot; + nodeName);\n        }\n    }\n\n    \n\n    /**\n     * ZipEntry() does not convert filenames from Unicode to platform (waiting\n     * Java 7) https://bugs.java.com/bugdatabase/view_bug?bug_id=4244499\n     * \n     * @param s\n     * @return\n     */\n    public static String unAccent(String s) {\n        String temp = Normalizer.normalize(s, Normalizer.NFD, 0);\n        return temp.replaceAll(&quot;[^\\\\p{ASCII}]&quot;, &quot;&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2805836,"reputation":121,"user_id":2413100,"display_name":"G.Dileo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1501777122,"creation_date":1498915417,"answer_id":44861449,"question_id":44855996,"body_markdown":"I solved it. I first created a directory on the server and then created the zip file on this directory directly.\r\n\r\nThe error was to save all the files first on: `ByteArrayOutputStream` and then on the zip file.\r\n\r\n    File serverFile = new File(dir.getAbsolutePath() + File.separator + stringDate+&quot;_&quot;+nameZipFile+&quot;.zip&quot;);\r\n    FileOutputStream fileOutputStream = new FileOutputStream(serverFile);\r\n    ZipArchiveOutputStream zos = new ZipArchiveOutputStream(fileOutputStream);\r\n    for (Tree&lt;FileableCmisObject&gt; aList : sitoFolderDescendants) {\r\n       traverseTree(aList, zos, reportDocument);\r\n    }\r\n    zos.close();\r\n\r\nIn the finally block I close the `FileOutputStream`.\r\nThan I changed the services method using: `ZipArchiveOutputStream` and `ZipArchiveEntry`.\r\n\r\n    private void addToZipFolder(Folder folder, ZipArchiveOutputStream zos) throws IOException {\r\n        String path = folder.getPaths().get(0).replace(sito_export_path, &quot;&quot;);\r\n        ZipArchiveEntry zipEntry = new ZipArchiveEntry(path.concat(&quot;/&quot;));\r\n        appLog.info(&quot;aggiungo cartella vuota &quot;+folder.getName()+&quot; al file zip&quot;);\r\n        zos.putArchiveEntry(zipEntry);\r\n        zos.closeArchiveEntry();\r\n    }\r\n\r\n    private void addToZipFile(Document document, ZipArchiveOutputStream zos) throws IOException {\r\n        InputStream inputStream = document.getContentStream().getStream();\r\n        String path = document.getPaths().get(0).replace(sito_export_path, &quot;&quot;);\r\n        ZipArchiveEntry entry = new ZipArchiveEntry(path);\r\n        entry.setSize(document.getContentStreamLength());\r\n        zos.putArchiveEntry(entry);\r\n        byte buffer[] = new byte[1024];\r\n        while (true) {\r\n            int nRead = inputStream.read(buffer, 0, buffer.length);\r\n            if (nRead &lt;= 0) {\r\n                break;\r\n            }\r\n            zos.write(buffer, 0, nRead);\r\n        }\r\n        inputStream.close();\r\n        zos.closeArchiveEntry();\r\n    }","title":"How to build a zip file with a size of 400 GB in java","body":"<p>I solved it. I first created a directory on the server and then created the zip file on this directory directly.</p>\n\n<p>The error was to save all the files first on: <code>ByteArrayOutputStream</code> and then on the zip file.</p>\n\n<pre><code>File serverFile = new File(dir.getAbsolutePath() + File.separator + stringDate+\"_\"+nameZipFile+\".zip\");\nFileOutputStream fileOutputStream = new FileOutputStream(serverFile);\nZipArchiveOutputStream zos = new ZipArchiveOutputStream(fileOutputStream);\nfor (Tree&lt;FileableCmisObject&gt; aList : sitoFolderDescendants) {\n   traverseTree(aList, zos, reportDocument);\n}\nzos.close();\n</code></pre>\n\n<p>In the finally block I close the <code>FileOutputStream</code>.\nThan I changed the services method using: <code>ZipArchiveOutputStream</code> and <code>ZipArchiveEntry</code>.</p>\n\n<pre><code>private void addToZipFolder(Folder folder, ZipArchiveOutputStream zos) throws IOException {\n    String path = folder.getPaths().get(0).replace(sito_export_path, \"\");\n    ZipArchiveEntry zipEntry = new ZipArchiveEntry(path.concat(\"/\"));\n    appLog.info(\"aggiungo cartella vuota \"+folder.getName()+\" al file zip\");\n    zos.putArchiveEntry(zipEntry);\n    zos.closeArchiveEntry();\n}\n\nprivate void addToZipFile(Document document, ZipArchiveOutputStream zos) throws IOException {\n    InputStream inputStream = document.getContentStream().getStream();\n    String path = document.getPaths().get(0).replace(sito_export_path, \"\");\n    ZipArchiveEntry entry = new ZipArchiveEntry(path);\n    entry.setSize(document.getContentStreamLength());\n    zos.putArchiveEntry(entry);\n    byte buffer[] = new byte[1024];\n    while (true) {\n        int nRead = inputStream.read(buffer, 0, buffer.length);\n        if (nRead &lt;= 0) {\n            break;\n        }\n        zos.write(buffer, 0, nRead);\n    }\n    inputStream.close();\n    zos.closeArchiveEntry();\n}\n</code></pre>\n"}],"owner":{"account_id":2805836,"reputation":121,"user_id":2413100,"display_name":"G.Dileo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":821,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44861449,"answer_count":2,"score":1,"last_activity_date":1701364135,"creation_date":1498865595,"question_id":44855996,"body_markdown":"I need to download all the documents from an alfresco site that contains 400GB of documents.\r\nThe code below is ok for create a small zip file (about 1GB) otherwise it takes too much memory.\r\nI would not like to keep ZipOutputStream in memory, i would like to use memory only for every document copied to the Zip file or use a temporary file that is overwritten for each document.\r\n\r\nWhat is the best practice for this kind of problem?\r\n\r\nThis piece of code is called from my main:\r\n\r\n\r\n    FolderImpl sitoFolder = (FolderImpl) cmisObject;\r\n\r\n    List&lt;Tree&lt;FileableCmisObject&gt;&gt; sitoFolderDescendants = sitoFolder.getDescendants(-1);\r\n\r\n    byte[] zipFile = createZipFILE(sitoFolderDescendants);\r\n    String rootPath = cartella_download_file;\r\n    File dir = new File(rootPath + File.separator);\r\n    if (!dir.exists()) {\r\n       dir.mkdirs();\r\n    }\r\n    Date date = new Date();\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    String stringDate = sdf.format(date);\r\n    String nameZipFile = sitoFolder.getName().replaceAll(&quot;\\\\s&quot;,&quot;&quot;);\r\n    File serverFile = new File(dir.getAbsolutePath() + File.separator + stringDate+&quot;_&quot;+nameZipFile+&quot;.zip&quot;);\r\n    BufferedOutputStream bufferedOutputStream = new BufferedOutputStream(new FileOutputStream(serverFile));\r\n    IOUtils.write(zipFile, bufferedOutputStream);\r\n    bufferedOutputStream.close();\r\n\r\n    //Returns the zip file\r\n    private byte[] createZipFILE(List&lt;Tree&lt;FileableCmisObject&gt;&gt; list) throws IOException {\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        ByteTransform byteTransform = new ByteTransform();\r\n        try {\r\n            ReportDocument reportDocument = new ReportDocument();\r\n            ZipOutputStream zos = new ZipOutputStream(baos);\r\n            for (Tree&lt;FileableCmisObject&gt; aList : list) {\r\n                traverseTree(aList, zos, reportDocument);\r\n            }\r\n            zos.close();\r\n            return baos.toByteArray();\r\n        } catch (IOException exc) {\r\n            reportLog.error(exc.getMessage());\r\n        } finally {\r\n            baos.close();\r\n        }\r\n        return new byte[0];\r\n    }\r\n\r\n    private void traverseTree(Tree&lt;FileableCmisObject&gt; tree, ZipOutputStream zos, ReportDocument reportDocument) {\r\n        for (int i=0; i&lt;tree.getChildren().size(); i++) {\r\n            Tree&lt;FileableCmisObject&gt; child = tree.getChildren().get(i);\r\n            if (CmisUtil.isDocument(child.getItem())) {\r\n                Document document = (Document) child.getItem();\r\n                try {\r\n                    addToZipFile(document, zos);\r\n                } catch (IOException ioExc) {\r\n                    appLog.error(ioExc.getMessage());\r\n                }\r\n            } else if(CmisUtil.isFolder(child.getItem())) {\r\n                Folder folder = (Folder) child.getItem();\r\n                if (folder.getChildren().getTotalNumItems() == 0) {\r\n                    try {\r\n                        addToZipFolder(folder, zos);\r\n                    } catch (IOException ioExc) {\r\n                        appLog.error(ioExc.getMessage());\r\n                    }\r\n                }\r\n            }\r\n            traverseTree(child, zos, reportDocument);\r\n        }\r\n    }\r\n\r\n    //Service method to add documents to the zip file\r\n    private void addToZipFile(Document document, ZipOutputStream zos) throws IOException {\r\n        InputStream inputStream = document.getContentStream().getStream();\r\n        String path = document.getPaths().get(0).replace(sito_export_path, &quot;&quot;);       \r\n        ZipEntry zipEntry = new ZipEntry(path);\r\n        zos.putNextEntry(zipEntry);\r\n        IOUtils.copy(inputStream, zos, 1024);\r\n        inputStream.close();\r\n        zos.closeEntry();\r\n    }\r\n\r\n    //Service method to add empty folder to the zip file\r\n    private void addToZipFolder(Folder folder, ZipOutputStream zos) throws IOException {\r\n        String path = folder.getPaths().get(0).replace(sito_export_path, &quot;&quot;);\r\n        ZipEntry zipEntry = new ZipEntry(path.concat(&quot;/&quot;));\r\n        zos.putNextEntry(zipEntry);\r\n    }\r\n\r\n","title":"How to build a zip file with a size of 400 GB in java","body":"<p>I need to download all the documents from an alfresco site that contains 400GB of documents.\nThe code below is ok for create a small zip file (about 1GB) otherwise it takes too much memory.\nI would not like to keep ZipOutputStream in memory, i would like to use memory only for every document copied to the Zip file or use a temporary file that is overwritten for each document.</p>\n\n<p>What is the best practice for this kind of problem?</p>\n\n<p>This piece of code is called from my main:</p>\n\n<pre><code>FolderImpl sitoFolder = (FolderImpl) cmisObject;\n\nList&lt;Tree&lt;FileableCmisObject&gt;&gt; sitoFolderDescendants = sitoFolder.getDescendants(-1);\n\nbyte[] zipFile = createZipFILE(sitoFolderDescendants);\nString rootPath = cartella_download_file;\nFile dir = new File(rootPath + File.separator);\nif (!dir.exists()) {\n   dir.mkdirs();\n}\nDate date = new Date();\nSimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nString stringDate = sdf.format(date);\nString nameZipFile = sitoFolder.getName().replaceAll(\"\\\\s\",\"\");\nFile serverFile = new File(dir.getAbsolutePath() + File.separator + stringDate+\"_\"+nameZipFile+\".zip\");\nBufferedOutputStream bufferedOutputStream = new BufferedOutputStream(new FileOutputStream(serverFile));\nIOUtils.write(zipFile, bufferedOutputStream);\nbufferedOutputStream.close();\n\n//Returns the zip file\nprivate byte[] createZipFILE(List&lt;Tree&lt;FileableCmisObject&gt;&gt; list) throws IOException {\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    ByteTransform byteTransform = new ByteTransform();\n    try {\n        ReportDocument reportDocument = new ReportDocument();\n        ZipOutputStream zos = new ZipOutputStream(baos);\n        for (Tree&lt;FileableCmisObject&gt; aList : list) {\n            traverseTree(aList, zos, reportDocument);\n        }\n        zos.close();\n        return baos.toByteArray();\n    } catch (IOException exc) {\n        reportLog.error(exc.getMessage());\n    } finally {\n        baos.close();\n    }\n    return new byte[0];\n}\n\nprivate void traverseTree(Tree&lt;FileableCmisObject&gt; tree, ZipOutputStream zos, ReportDocument reportDocument) {\n    for (int i=0; i&lt;tree.getChildren().size(); i++) {\n        Tree&lt;FileableCmisObject&gt; child = tree.getChildren().get(i);\n        if (CmisUtil.isDocument(child.getItem())) {\n            Document document = (Document) child.getItem();\n            try {\n                addToZipFile(document, zos);\n            } catch (IOException ioExc) {\n                appLog.error(ioExc.getMessage());\n            }\n        } else if(CmisUtil.isFolder(child.getItem())) {\n            Folder folder = (Folder) child.getItem();\n            if (folder.getChildren().getTotalNumItems() == 0) {\n                try {\n                    addToZipFolder(folder, zos);\n                } catch (IOException ioExc) {\n                    appLog.error(ioExc.getMessage());\n                }\n            }\n        }\n        traverseTree(child, zos, reportDocument);\n    }\n}\n\n//Service method to add documents to the zip file\nprivate void addToZipFile(Document document, ZipOutputStream zos) throws IOException {\n    InputStream inputStream = document.getContentStream().getStream();\n    String path = document.getPaths().get(0).replace(sito_export_path, \"\");       \n    ZipEntry zipEntry = new ZipEntry(path);\n    zos.putNextEntry(zipEntry);\n    IOUtils.copy(inputStream, zos, 1024);\n    inputStream.close();\n    zos.closeEntry();\n}\n\n//Service method to add empty folder to the zip file\nprivate void addToZipFolder(Folder folder, ZipOutputStream zos) throws IOException {\n    String path = folder.getPaths().get(0).replace(sito_export_path, \"\");\n    ZipEntry zipEntry = new ZipEntry(path.concat(\"/\"));\n    zos.putNextEntry(zipEntry);\n}\n</code></pre>\n"},{"tags":["java","swing","javafx-2"],"comments":[{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1356947068,"post_id":14099797,"comment_id":19505687,"body_markdown":"You better pack it manual where possible, often constructions should better be png&#39;s for example.","body":"You better pack it manual where possible, often constructions should better be png&#39;s for example."},{"owner":{"account_id":1448716,"reputation":6182,"user_id":1366353,"accept_rate":81,"display_name":"ceklock"},"score":0,"creation_date":1356989043,"post_id":14099797,"comment_id":19517805,"body_markdown":"@PeterRader please see my code above and tell me if there is something wrong.","body":"@PeterRader please see my code above and tell me if there is something wrong."},{"owner":{"account_id":2039086,"reputation":3525,"user_id":1820722,"accept_rate":88,"display_name":"joey rohan"},"score":0,"creation_date":1357034448,"post_id":14099797,"comment_id":19523887,"body_markdown":"@tecnotron and also note that you have used box here.This is because of box.","body":"@tecnotron and also note that you have used box here.This is because of box."},{"owner":{"account_id":1448716,"reputation":6182,"user_id":1366353,"accept_rate":81,"display_name":"ceklock"},"score":0,"creation_date":1357075079,"post_id":14099797,"comment_id":19533028,"body_markdown":"@joeyrohan you are right, the problem was because VBox + FlowPane.","body":"@joeyrohan you are right, the problem was because VBox + FlowPane."},{"owner":{"account_id":27431,"reputation":46856,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"score":1,"creation_date":1420970226,"post_id":14099797,"comment_id":44172738,"body_markdown":"Hi @joeyrohan @ceklock, may i know what&#39;s wrong with VBox + FlowPane combination? As I try to add `dialog.sizeToScene();` before `dialgo.show()`, it doesn&#39;t work for me. If not VBox + FlowPane combination, what is the equivalent combination I can use? Thanks.","body":"Hi @joeyrohan @ceklock, may i know what&#39;s wrong with VBox + FlowPane combination? As I try to add <code>dialog.sizeToScene();</code> before <code>dialgo.show()</code>, it doesn&#39;t work for me. If not VBox + FlowPane combination, what is the equivalent combination I can use? Thanks."}],"answers":[{"tags":[],"owner":{"account_id":2039086,"reputation":3525,"user_id":1820722,"accept_rate":88,"display_name":"joey rohan"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1461027753,"creation_date":1356959734,"answer_id":14102080,"question_id":14099797,"body_markdown":"Try using `sizeToScene()` I think this is it what you want. Let me give \r\nan example:\r\n\r\n![JavaFX stage fitted to a button][1]\r\n\r\n    import javafx.application.Application;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.EventHandler;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class NewFXMain extends Application {\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            primaryStage.setTitle(&quot;Hello World!&quot;);\r\n            Button btn = new Button();\r\n            btn.setText(&quot;Say &#39;Hello World&#39;&quot;);\r\n            btn.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n                @Override\r\n                public void handle(ActionEvent event) {\r\n                    System.out.println(&quot;Hello World!&quot;);\r\n                }\r\n            });\r\n    \r\n            StackPane root = new StackPane();\r\n            root.getChildren().add(btn);\r\n            primaryStage.setScene(new Scene(root));\r\n            primaryStage.sizeToScene();\r\n            primaryStage.show();\r\n        }\r\n    }\r\n\r\n  [1]: http://i.stack.imgur.com/MyJ4E.png","title":"JavaFX equivalent of Swing&#39;s pack()","body":"<p>Try using <code>sizeToScene()</code> I think this is it what you want. Let me give \nan example:</p>\n\n<p><img src=\"https://i.stack.imgur.com/MyJ4E.png\" alt=\"JavaFX stage fitted to a button\"></p>\n\n<pre><code>import javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\npublic class NewFXMain extends Application {\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) {\n        primaryStage.setTitle(\"Hello World!\");\n        Button btn = new Button();\n        btn.setText(\"Say 'Hello World'\");\n        btn.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent event) {\n                System.out.println(\"Hello World!\");\n            }\n        });\n\n        StackPane root = new StackPane();\n        root.getChildren().add(btn);\n        primaryStage.setScene(new Scene(root));\n        primaryStage.sizeToScene();\n        primaryStage.show();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1448716,"reputation":6182,"user_id":1366353,"accept_rate":81,"display_name":"ceklock"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10047,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":14102080,"answer_count":1,"score":23,"last_activity_date":1701363936,"creation_date":1356946003,"question_id":14099797,"body_markdown":"I want to resize a window to fit the contents of the window. In Swing there is the [`pack()`][1] method. Is there a similar method to do this in JavaFX?\r\n\r\nWhat I am trying to do is to create a confirmation dialog. When I create the dialog, it is wider than the contents, so I was asking myself if I need something like the pack method.\r\n\r\nHere is a screenshot of what is happening:\r\n![enter image description here][2]\r\n\r\nAnd here is my code:\r\n\r\n    mainClass.getPrimaryStage().setOnCloseRequest(new EventHandler&lt;WindowEvent&gt;() {\r\n        @Override\r\n        public void handle(final WindowEvent e) {\r\n            e.consume();\r\n\r\n            final Stage dialog = new Stage();\r\n            dialog.setTitle(&quot;Confirm Before Exit&quot;);\r\n            dialog.setResizable(false);\r\n            dialog.initOwner(mainClass.getPrimaryStage());\r\n            dialog.initModality(Modality.APPLICATION_MODAL);\r\n\r\n            FlowPane buttons = new FlowPane(10,10);\r\n            buttons.setAlignment(Pos.CENTER);\r\n            Button yes = new Button(&quot;Yes&quot;);\r\n            Button no = new Button(&quot;No&quot;);\r\n            buttons.getChildren().addAll(yes, no);\r\n            VBox box = new VBox();\r\n            box.setAlignment(Pos.CENTER);\r\n            box.setSpacing(10);\r\n            box.getChildren().addAll(new Label(&quot;Do you really want to exit?&quot;), buttons);\r\n\r\n            yes.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n                @Override\r\n                public void handle(ActionEvent t) {\r\n                    Platform.exit();\r\n                }\r\n            });\r\n            no.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n                @Override\r\n                public void handle(ActionEvent t) {\r\n                    dialog.close();\r\n                }\r\n            });\r\n\r\n            Scene s = new Scene(box);\r\n            dialog.setScene(s);\r\n            dialog.show();\r\n        }\r\n    });\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/awt/Window.html#pack%28%29\r\n  [2]: http://i.stack.imgur.com/Ox3sH.png\r\n","title":"JavaFX equivalent of Swing&#39;s pack()","body":"<p>I want to resize a window to fit the contents of the window. In Swing there is the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/awt/Window.html#pack%28%29\" rel=\"nofollow noreferrer\"><code>pack()</code></a> method. Is there a similar method to do this in JavaFX?</p>\n<p>What I am trying to do is to create a confirmation dialog. When I create the dialog, it is wider than the contents, so I was asking myself if I need something like the pack method.</p>\n<p>Here is a screenshot of what is happening:\n<img src=\"https://i.stack.imgur.com/Ox3sH.png\" alt=\"enter image description here\" /></p>\n<p>And here is my code:</p>\n<pre><code>mainClass.getPrimaryStage().setOnCloseRequest(new EventHandler&lt;WindowEvent&gt;() {\n    @Override\n    public void handle(final WindowEvent e) {\n        e.consume();\n\n        final Stage dialog = new Stage();\n        dialog.setTitle(&quot;Confirm Before Exit&quot;);\n        dialog.setResizable(false);\n        dialog.initOwner(mainClass.getPrimaryStage());\n        dialog.initModality(Modality.APPLICATION_MODAL);\n\n        FlowPane buttons = new FlowPane(10,10);\n        buttons.setAlignment(Pos.CENTER);\n        Button yes = new Button(&quot;Yes&quot;);\n        Button no = new Button(&quot;No&quot;);\n        buttons.getChildren().addAll(yes, no);\n        VBox box = new VBox();\n        box.setAlignment(Pos.CENTER);\n        box.setSpacing(10);\n        box.getChildren().addAll(new Label(&quot;Do you really want to exit?&quot;), buttons);\n\n        yes.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent t) {\n                Platform.exit();\n            }\n        });\n        no.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent t) {\n                dialog.close();\n            }\n        });\n\n        Scene s = new Scene(box);\n        dialog.setScene(s);\n        dialog.show();\n    }\n});\n</code></pre>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"score":1,"creation_date":1701230848,"post_id":77567671,"comment_id":136748789,"body_markdown":"Find the generated class inside `target/classes/yourpackage` &amp; look if there&#39;re a Type class inside. Also, you can post the full class body in the post.","body":"Find the generated class inside <code>target&#47;classes&#47;yourpackage</code> &amp; look if there&#39;re a Type class inside. Also, you can post the full class body in the post."},{"owner":{"account_id":15621868,"reputation":211,"user_id":11270463,"display_name":"Mohamed Mamun"},"score":0,"creation_date":1701248255,"post_id":77567671,"comment_id":136750860,"body_markdown":"I have class which name is Type. I renamed, even though it keep showing same error.","body":"I have class which name is Type. I renamed, even though it keep showing same error."},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1701293783,"post_id":77567671,"comment_id":136759402,"body_markdown":"@MohamedMamun can you share ENTITY, DTO and MAPPER ?","body":"@MohamedMamun can you share ENTITY, DTO and MAPPER ?"}],"answers":[{"tags":[],"owner":{"account_id":15039384,"reputation":1,"user_id":10854575,"display_name":"F. Kadıoğlu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701363411,"creation_date":1701363411,"answer_id":77580282,"question_id":77567671,"body_markdown":"just add @NoArgsConstructor annotation. \r\n\r\n    @Data\r\n    @SuperBuilder\r\n    @NoArgsConstructor\r\n    public class Football extends Sports{\r\n\r\n    }","title":"Mapstruct Internal error in mapping processor: Java.lang.NullPointerExecption at org.mapstruct.ap.internal.model.Type.hasAccessibleConstructor","body":"<p>just add @NoArgsConstructor annotation.</p>\n<pre><code>@Data\n@SuperBuilder\n@NoArgsConstructor\npublic class Football extends Sports{\n\n}\n</code></pre>\n"}],"owner":{"account_id":15621868,"reputation":211,"user_id":11270463,"display_name":"Mohamed Mamun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701363411,"creation_date":1701212937,"question_id":77567671,"body_markdown":"    lombok: 1.18.30\r\n    org.mapstruct.version: 1.4.2.Final\r\n    JDK 11\r\n    Intellij 2023.2.5 Community Eddition\r\n\r\nI am trying to use Mapstruct to map Some objects. Whenever I try to compile using `mvn -clean install`. It gives the next error\r\n\r\n    Internal error in the mapping processor: java.lang.NullPointerException at org.mapstruct.ap.internal.model.common.Type.hasAccessibleConstructor(Type.java:1078)\r\n\r\nWhenever I click on `Type.java:1078`, it takes me to `Sports.java`\r\n\r\nI have two objects: Sports and Football.\r\nFotball extends from Sports.\r\n\r\n        @Data\r\n        @NoArgsConstructor\r\n        @AllArgsConstructor\r\n        @SuperBuilder\r\n        @Jacksonized\r\n        @EqualsAndHashCode\r\n        public class Sports { \r\n          private String name;\r\n          private String foundation_year;\r\n        }\r\n\r\n  \r\n//Fotball\r\n\r\n    @Data\r\n    @SuperBuilder\r\n    public class Football extends Sports{\r\n    \r\n    }\r\n","title":"Mapstruct Internal error in mapping processor: Java.lang.NullPointerExecption at org.mapstruct.ap.internal.model.Type.hasAccessibleConstructor","body":"<pre><code>lombok: 1.18.30\norg.mapstruct.version: 1.4.2.Final\nJDK 11\nIntellij 2023.2.5 Community Eddition\n</code></pre>\n<p>I am trying to use Mapstruct to map Some objects. Whenever I try to compile using <code>mvn -clean install</code>. It gives the next error</p>\n<pre><code>Internal error in the mapping processor: java.lang.NullPointerException at org.mapstruct.ap.internal.model.common.Type.hasAccessibleConstructor(Type.java:1078)\n</code></pre>\n<p>Whenever I click on <code>Type.java:1078</code>, it takes me to <code>Sports.java</code></p>\n<p>I have two objects: Sports and Football.\nFotball extends from Sports.</p>\n<pre><code>    @Data\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @SuperBuilder\n    @Jacksonized\n    @EqualsAndHashCode\n    public class Sports { \n      private String name;\n      private String foundation_year;\n    }\n</code></pre>\n<p>//Fotball</p>\n<pre><code>@Data\n@SuperBuilder\npublic class Football extends Sports{\n\n}\n</code></pre>\n"},{"tags":["java","json","junit","jackson"],"comments":[{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1408379781,"post_id":25367979,"comment_id":39556728,"body_markdown":"Jackson needs to somehow create an instance of the object before it does it&#39;s thing to the object.","body":"Jackson needs to somehow create an instance of the object before it does it&#39;s thing to the object."},{"owner":{"account_id":3225384,"reputation":9550,"user_id":2721883,"display_name":"clcto"},"score":0,"creation_date":1408379786,"post_id":25367979,"comment_id":39556733,"body_markdown":"Until the object is created, the fields aren&#39;t available. So it creates a default object, and then fills in the fields.","body":"Until the object is created, the fields aren&#39;t available. So it creates a default object, and then fills in the fields."},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1408379814,"post_id":25367979,"comment_id":39556754,"body_markdown":"Does it really need a *default* constructor, or does it just need any constructor that takes no arguments?  Try adding a no-argument constructor and see if it works.  (I haven&#39;t yet tried to look into the Jackson API or docs.)","body":"Does it really need a <i>default</i> constructor, or does it just need any constructor that takes no arguments?  Try adding a no-argument constructor and see if it works.  (I haven&#39;t yet tried to look into the Jackson API or docs.)"},{"owner":{"account_id":4876684,"reputation":215,"user_id":3931556,"accept_rate":86,"display_name":"Sanjeev"},"score":0,"creation_date":1408379932,"post_id":25367979,"comment_id":39556814,"body_markdown":"Edited the question. It is asking for a no-arg constructor.","body":"Edited the question. It is asking for a no-arg constructor."},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1408380221,"post_id":25367979,"comment_id":39556960,"body_markdown":"Could you show your `JSON` and `POJO` class?","body":"Could you show your <code>JSON</code> and <code>POJO</code> class?"},{"owner":{"account_id":4876684,"reputation":215,"user_id":3931556,"accept_rate":86,"display_name":"Sanjeev"},"score":0,"creation_date":1408380503,"post_id":25367979,"comment_id":39557090,"body_markdown":"@MichałZiober , included the JSON and POJO.","body":"@MichałZiober , included the JSON and POJO."}],"answers":[{"tags":[],"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1408382546,"creation_date":1408381810,"answer_id":25368565,"question_id":25367979,"body_markdown":"By default Jackson&#39;s data binding will try to construct an object using a no-argument constructor and then fill in the object&#39;s properties from the corresponding bits of the JSON.  You can override this behaviour with annotations\r\n\r\n    @JsonCreator\r\n    public PolicyRatingRequestDMO(@JsonProperty(&quot;policyInfo&quot;) PolicyDMO policyDMO,\r\n             @JsonProperty(&quot;allInsuredInd&quot;) String allInsuredInd,\r\n             @JsonProperty(&quot;medicareMediaidInd&quot;) String medicareMediaidInd,\r\n             @JsonProperty(&quot;driversGreaterThan65&quot;) boolean driversGreaterthan65){\r\n        this.policyDMO = policyDMO;\r\n        this.allInsuredInd = allInsuredInd;\r\n        this.medicareMediaidInd = medicareMediaidInd;\r\n        this.driversGreaterthan65 = driversGreaterthan65;\r\n    }\r\n\r\nThe [`JsonCreator`][1] annotation tells Jackson which constructor to call, and its parameters are annotated with [`JsonProperty`][2] to indicate which properties in the JSON correspond to which parameters in the constructor.  Additional properties in the JSON that do not correspond to constructor arguments will be injected via setters or direct field access as normal.\r\n\r\n\r\n  [1]: http://fasterxml.github.io/jackson-annotations/javadoc/2.4/com/fasterxml/jackson/annotation/JsonCreator.html\r\n  [2]: http://fasterxml.github.io/jackson-annotations/javadoc/2.4/com/fasterxml/jackson/annotation/JsonProperty.html","title":"Why Json ask for no argument constructor for Junit test?","body":"<p>By default Jackson's data binding will try to construct an object using a no-argument constructor and then fill in the object's properties from the corresponding bits of the JSON.  You can override this behaviour with annotations</p>\n\n<pre><code>@JsonCreator\npublic PolicyRatingRequestDMO(@JsonProperty(\"policyInfo\") PolicyDMO policyDMO,\n         @JsonProperty(\"allInsuredInd\") String allInsuredInd,\n         @JsonProperty(\"medicareMediaidInd\") String medicareMediaidInd,\n         @JsonProperty(\"driversGreaterThan65\") boolean driversGreaterthan65){\n    this.policyDMO = policyDMO;\n    this.allInsuredInd = allInsuredInd;\n    this.medicareMediaidInd = medicareMediaidInd;\n    this.driversGreaterthan65 = driversGreaterthan65;\n}\n</code></pre>\n\n<p>The <a href=\"http://fasterxml.github.io/jackson-annotations/javadoc/2.4/com/fasterxml/jackson/annotation/JsonCreator.html\" rel=\"noreferrer\"><code>JsonCreator</code></a> annotation tells Jackson which constructor to call, and its parameters are annotated with <a href=\"http://fasterxml.github.io/jackson-annotations/javadoc/2.4/com/fasterxml/jackson/annotation/JsonProperty.html\" rel=\"noreferrer\"><code>JsonProperty</code></a> to indicate which properties in the JSON correspond to which parameters in the constructor.  Additional properties in the JSON that do not correspond to constructor arguments will be injected via setters or direct field access as normal.</p>\n"}],"owner":{"account_id":4876684,"reputation":215,"user_id":3931556,"accept_rate":86,"display_name":"Sanjeev"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3632,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":25368565,"answer_count":1,"score":2,"last_activity_date":1701363156,"creation_date":1408379590,"question_id":25367979,"body_markdown":"I have a problem deserializing a JSON string using Jackson. I am getting Error : com.fasterxml.jackson.databind.JsonMappingException: No suitable constructor found for type [simple type, class RatingDMO]: can not instantiate from JSON object (need to add/enable type information?)\r\n\r\nI have the fields mapped to the JSON file and parameters to it are available as properties AND have the same type.\r\n\r\n**Note :- If I provide the no-arg constructor(just for checking if it works), the Test works.** \r\n\r\nI can&#39;t provide/leave a default constructor in my code as I have few final fields in the model.\r\n\r\nmapper.readValue(new File(&quot;ratingRequest.json&quot;), RatingDMO.class);\r\n\r\n\r\n\r\n**POJO Class :** \r\n\r\n    public class RatingDMO implements Serializable {\r\n    \t\r\n     \tprivate static final long serialVersionUID = -433016040176969496L;\r\n    \tprivate String company;\r\n    \tprivate String state;\r\n    \tprivate String lob;\r\n    \tprivate String channel;\r\n        private String username;\r\n        private String password;\r\n        private String policyNumber;\r\n        private long policyKey;\r\n        private String transactionType;\r\n        private String evaluationType;\r\n        private String clientID;\r\n        private String policyTerm;\r\n        private String effectiveDate;\r\n        private String policyXML;\r\n        private String webXML;\r\n        private String firstName;\r\n        private String lastName;\r\n        private String businessName;\r\n        private String city;\r\n        private String zip;\r\n        private String effectiveDtStart;\r\n        private String effectiveDtEnd;\r\n        private String searchType;\r\n        private String uuid;\r\n       \tprivate List&lt;String&gt; policyStatusCodes;\r\n        private Map&lt;String,String&gt; eAdvisorCoverages;\r\n        private Map&lt;String,String&gt; customCoverages;\r\n        private Map&lt;String,String&gt; defaultCoverages;\r\n        private String action;\r\n        private String type;\r\n        private String selectedCoverage;\r\n        private boolean motorClubMember;\r\n        private String selectedSubCoveres;\r\n        private boolean customRated;\r\n        private final PolicyDMO policyDMO;\r\n        private final String allInsuredInd;\r\n        private final String medicareMediaidInd;\r\n        private final boolean driversGreaterthan65;\r\n             \r\n        public PolicyRatingRequestDMO(PolicyDMO policyDMO, String allInsuredInd, String medicareMediaidInd, boolean driversGreaterthan65){\r\n        \tthis.policyDMO = policyDMO;\r\n        \tthis.allInsuredInd = allInsuredInd;\r\n        \tthis.medicareMediaidInd = medicareMediaidInd;\r\n        \tthis.driversGreaterthan65 = driversGreaterthan65;\r\n        }\r\n    ... }","title":"Why Json ask for no argument constructor for Junit test?","body":"<p>I have a problem deserializing a JSON string using Jackson. I am getting Error : com.fasterxml.jackson.databind.JsonMappingException: No suitable constructor found for type [simple type, class RatingDMO]: can not instantiate from JSON object (need to add/enable type information?)</p>\n<p>I have the fields mapped to the JSON file and parameters to it are available as properties AND have the same type.</p>\n<p><strong>Note :- If I provide the no-arg constructor(just for checking if it works), the Test works.</strong></p>\n<p>I can't provide/leave a default constructor in my code as I have few final fields in the model.</p>\n<p>mapper.readValue(new File(&quot;ratingRequest.json&quot;), RatingDMO.class);</p>\n<p><strong>POJO Class :</strong></p>\n<pre><code>public class RatingDMO implements Serializable {\n    \n    private static final long serialVersionUID = -433016040176969496L;\n    private String company;\n    private String state;\n    private String lob;\n    private String channel;\n    private String username;\n    private String password;\n    private String policyNumber;\n    private long policyKey;\n    private String transactionType;\n    private String evaluationType;\n    private String clientID;\n    private String policyTerm;\n    private String effectiveDate;\n    private String policyXML;\n    private String webXML;\n    private String firstName;\n    private String lastName;\n    private String businessName;\n    private String city;\n    private String zip;\n    private String effectiveDtStart;\n    private String effectiveDtEnd;\n    private String searchType;\n    private String uuid;\n    private List&lt;String&gt; policyStatusCodes;\n    private Map&lt;String,String&gt; eAdvisorCoverages;\n    private Map&lt;String,String&gt; customCoverages;\n    private Map&lt;String,String&gt; defaultCoverages;\n    private String action;\n    private String type;\n    private String selectedCoverage;\n    private boolean motorClubMember;\n    private String selectedSubCoveres;\n    private boolean customRated;\n    private final PolicyDMO policyDMO;\n    private final String allInsuredInd;\n    private final String medicareMediaidInd;\n    private final boolean driversGreaterthan65;\n         \n    public PolicyRatingRequestDMO(PolicyDMO policyDMO, String allInsuredInd, String medicareMediaidInd, boolean driversGreaterthan65){\n        this.policyDMO = policyDMO;\n        this.allInsuredInd = allInsuredInd;\n        this.medicareMediaidInd = medicareMediaidInd;\n        this.driversGreaterthan65 = driversGreaterthan65;\n    }\n... }\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":5896787,"reputation":5103,"user_id":4641680,"accept_rate":55,"display_name":"Reza Saadati"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636741058,"creation_date":1636741058,"answer_id":69947427,"question_id":69907882,"body_markdown":"The activity action `android.intent.action.VOICE_ASSIST` can be used to search on the **internet** for specific keywords. For example, it can be said &quot;What&#39;s the current date?&quot;, then [this page][1] will be opened, and the current date will also be spoken. Or you can ask anything. As long as Wikipedia is first listed on Google, a brief summary of Wikipedia&#39;s content will be spoken. If there is no answer from Wikipedia or from Google itself, the entry will be searched on the search engine of Google, but there is silence.\r\n\r\n\r\nThis is how it should be used:\r\n```java\r\nIntent googleAssistant = new Intent(&quot;android.intent.action.VOICE_ASSIST&quot;);\r\nstartActivity(googleAssistant);\r\n```\r\n\r\nYou can also use other actions. For instance `com.google.android.gms.actions.SEARCH_ACTION`, if you want to search for a place or `android.intent.action.SET_ALARM` to set an alarm.\r\n\r\nHowever, this will not be the best answer since it will not work exactly the same as Google Assistant. So the entertainment part (e.g. &quot;Tell me a joke&quot;) cannot be used.\r\n\r\n**References**\r\n\r\n - [Voice Actions Guide (Google Assistant)][2]  \r\n -  [List of Android Actions][3]\r\n\r\n  [1]: https://www.google.com/search?q=what%27s%20the%20current%20date&amp;rlz=1C1CHBD_deCH864CH864&amp;oq=what&amp;aqs=chrome.0.69i59j69i57j69i59l2j69i65j69i60l3.1481j0j1&amp;sourceid=chrome&amp;ie=UTF-8\r\n  [2]: https://developers.google.com/voice-actions/system\r\n  [3]: https://gist.github.com/zr0n/dfa1afadf7e785e25d53fc2af7c4eee2","title":"Execute Google Assistant programmatically","body":"<p>The activity action <code>android.intent.action.VOICE_ASSIST</code> can be used to search on the <strong>internet</strong> for specific keywords. For example, it can be said &quot;What's the current date?&quot;, then <a href=\"https://www.google.com/search?q=what%27s%20the%20current%20date&amp;rlz=1C1CHBD_deCH864CH864&amp;oq=what&amp;aqs=chrome.0.69i59j69i57j69i59l2j69i65j69i60l3.1481j0j1&amp;sourceid=chrome&amp;ie=UTF-8\" rel=\"nofollow noreferrer\">this page</a> will be opened, and the current date will also be spoken. Or you can ask anything. As long as Wikipedia is first listed on Google, a brief summary of Wikipedia's content will be spoken. If there is no answer from Wikipedia or from Google itself, the entry will be searched on the search engine of Google, but there is silence.</p>\n<p>This is how it should be used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Intent googleAssistant = new Intent(&quot;android.intent.action.VOICE_ASSIST&quot;);\nstartActivity(googleAssistant);\n</code></pre>\n<p>You can also use other actions. For instance <code>com.google.android.gms.actions.SEARCH_ACTION</code>, if you want to search for a place or <code>android.intent.action.SET_ALARM</code> to set an alarm.</p>\n<p>However, this will not be the best answer since it will not work exactly the same as Google Assistant. So the entertainment part (e.g. &quot;Tell me a joke&quot;) cannot be used.</p>\n<p><strong>References</strong></p>\n<ul>\n<li><a href=\"https://developers.google.com/voice-actions/system\" rel=\"nofollow noreferrer\">Voice Actions Guide (Google Assistant)</a></li>\n<li><a href=\"https://gist.github.com/zr0n/dfa1afadf7e785e25d53fc2af7c4eee2\" rel=\"nofollow noreferrer\">List of Android Actions</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9726668,"reputation":373,"user_id":7213349,"display_name":"Michał Jabłoński"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701363043,"creation_date":1701363043,"answer_id":77580235,"question_id":69907882,"body_markdown":"There is an specific Intent to run voice search.\r\n\r\n```kotlin\r\nIntent(Intent.ACTION_ASSIST)\r\n    //add below extra if you want trigger search with keyboard\r\n    //without it it will launch katniss voice search\r\n    .apply { putExtra(Intent.EXTRA_ASSIST_INPUT_HINT_KEYBOARD, true) }\r\n    .run { context.startActivity(this) }\r\n```","title":"Execute Google Assistant programmatically","body":"<p>There is an specific Intent to run voice search.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>Intent(Intent.ACTION_ASSIST)\n    //add below extra if you want trigger search with keyboard\n    //without it it will launch katniss voice search\n    .apply { putExtra(Intent.EXTRA_ASSIST_INPUT_HINT_KEYBOARD, true) }\n    .run { context.startActivity(this) }\n</code></pre>\n"}],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1144,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69947427,"answer_count":2,"score":2,"last_activity_date":1701363043,"creation_date":1636517215,"question_id":69907882,"body_markdown":"Instead of saying &quot;OK Google&quot;, I would like to open Google Assistant by clicking on a button in my own app. \r\n\r\nSo when in my app that button has been clicked, the user doesn&#39;t need to say &quot;Ok Google&quot;. They will just simply press the button, then Google Assistant will start and then they can say whatever they want to say. Is that possible?","title":"Execute Google Assistant programmatically","body":"<p>Instead of saying &quot;OK Google&quot;, I would like to open Google Assistant by clicking on a button in my own app.</p>\n<p>So when in my app that button has been clicked, the user doesn't need to say &quot;Ok Google&quot;. They will just simply press the button, then Google Assistant will start and then they can say whatever they want to say. Is that possible?</p>\n"},{"tags":["java","spring-webflux","spring-webclient"],"comments":[{"owner":{"account_id":2064278,"reputation":13119,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1655043028,"post_id":72585000,"comment_id":128231711,"body_markdown":"when using curl you need to disable buffering if you want to stream the result you do that with either `-N`or `--no-buffer`","body":"when using curl you need to disable buffering if you want to stream the result you do that with either <code>-N</code>or <code>--no-buffer</code>"}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654961734,"creation_date":1654961734,"answer_id":72585674,"question_id":72585000,"body_markdown":"There are several options to stream data from the server using WebFlux:\r\n\r\n- **Server-sent events** pushing individual events (media type: `text/event-stream`)\r\n- **Streaming events** separated by newlines (media type: `application/x-ndjson`)\r\n\r\nIf you need plain text content - use `text/event-stream`. Check https://stackoverflow.com/questions/71788973/webflux-async-responses-from-controllers/71789245#71789245 for a complete example.\r\n\r\nTo see response results you need to log it as a part of the reactive flow. Also, there is no `null` in reactive and you need to return `Flux.empty()` instead.  \r\n\r\n```\r\n@GetMapping(produces = TEXT_EVENT_STREAM_VALUE)\r\npublic Flux&lt;String&gt; getDataStream(String configType, String configId, String user){\r\n    Optional&lt;String&gt; url = getLogURL(configId);\r\n    if (url.isEmpty()) {\r\n        return Flux.empty();\r\n    }\r\n    \r\n    log.info(&quot;#WebClient initiation&quot;);\r\n    WebClient webClient = WebClient.create();\r\n    return webClient.get()\r\n            .uri(url.get())\r\n            .accept(MediaType.ALL)\r\n            .retrieve()\r\n            .bodyToFlux(String.class)\r\n            .doOnSubscribe(s -&gt; log.info(&quot;#WebClient request&quot;))\r\n            .doOnNext(rec -&gt; log.info(&quot;#WebClient response record: {}&quot;, rec));\r\n}\r\n```","title":"Spring WebClient is not emitting any data from request","body":"<p>There are several options to stream data from the server using WebFlux:</p>\n<ul>\n<li><strong>Server-sent events</strong> pushing individual events (media type: <code>text/event-stream</code>)</li>\n<li><strong>Streaming events</strong> separated by newlines (media type: <code>application/x-ndjson</code>)</li>\n</ul>\n<p>If you need plain text content - use <code>text/event-stream</code>. Check <a href=\"https://stackoverflow.com/questions/71788973/webflux-async-responses-from-controllers/71789245#71789245\">WebFlux async responses from controllers</a> for a complete example.</p>\n<p>To see response results you need to log it as a part of the reactive flow. Also, there is no <code>null</code> in reactive and you need to return <code>Flux.empty()</code> instead.</p>\n<pre><code>@GetMapping(produces = TEXT_EVENT_STREAM_VALUE)\npublic Flux&lt;String&gt; getDataStream(String configType, String configId, String user){\n    Optional&lt;String&gt; url = getLogURL(configId);\n    if (url.isEmpty()) {\n        return Flux.empty();\n    }\n    \n    log.info(&quot;#WebClient initiation&quot;);\n    WebClient webClient = WebClient.create();\n    return webClient.get()\n            .uri(url.get())\n            .accept(MediaType.ALL)\n            .retrieve()\n            .bodyToFlux(String.class)\n            .doOnSubscribe(s -&gt; log.info(&quot;#WebClient request&quot;))\n            .doOnNext(rec -&gt; log.info(&quot;#WebClient response record: {}&quot;, rec));\n}\n</code></pre>\n"}],"owner":{"account_id":4542739,"reputation":105,"user_id":3690116,"display_name":"p zankat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1203,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701362983,"creation_date":1654956217,"question_id":72585000,"body_markdown":"This is the content type of the request\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI use spring boot and this code to redirect the stream from the web server to the browser.\r\n\r\n       public Flux&lt;String&gt; getDataStream(String configType, String configId, String user){\r\n        Flux&lt;String&gt; response = null;\r\n        Optional&lt;String&gt; url = getLogURL(configId);\r\n        if(url.isPresent()){\r\n          logger.info(&quot;#WebClient initiation&quot;);\r\n          WebClient webClient = WebClient.create();\r\n          response = webClient.get()\r\n             .uri(url.get())\r\n             .accept(MediaType.ALL)\r\n             .retrieve()\r\n             .bodyToFlux(String.class);\r\n        }\r\n        logger.info(&quot;#WebClient response&quot;);\r\n        return response;\r\n      }\r\n\r\nAfter making the request, I can see `#WebClient initiation` and `#WebClient response` in a log file. \r\n\r\nThis is the client-side JavaScript code statement, that hits the above code `getDataStream()`\r\n\r\n    let eventSource = new EventSource(STREAM_URL);\r\n\r\nBut it doesn&#39;t get any response from the server. I couldn&#39;t figure out what I am missing. The URL that `getDataStream()`-&gt;`WebClient` hits, confirmed to produces output.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RjNnG.png\r\n  [2]: https://i.stack.imgur.com/JEen9.png","title":"Spring WebClient is not emitting any data from request","body":"<p>This is the content type of the request\n<a href=\"https://i.stack.imgur.com/RjNnG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RjNnG.png\" alt=\"enter image description here\" /></a></p>\n<p>I use spring boot and this code to redirect the stream from the web server to the browser.</p>\n<pre><code>   public Flux&lt;String&gt; getDataStream(String configType, String configId, String user){\n    Flux&lt;String&gt; response = null;\n    Optional&lt;String&gt; url = getLogURL(configId);\n    if(url.isPresent()){\n      logger.info(&quot;#WebClient initiation&quot;);\n      WebClient webClient = WebClient.create();\n      response = webClient.get()\n         .uri(url.get())\n         .accept(MediaType.ALL)\n         .retrieve()\n         .bodyToFlux(String.class);\n    }\n    logger.info(&quot;#WebClient response&quot;);\n    return response;\n  }\n</code></pre>\n<p>After making the request, I can see <code>#WebClient initiation</code> and <code>#WebClient response</code> in a log file.</p>\n<p>This is the client-side JavaScript code statement, that hits the above code <code>getDataStream()</code></p>\n<pre><code>let eventSource = new EventSource(STREAM_URL);\n</code></pre>\n<p>But it doesn't get any response from the server. I couldn't figure out what I am missing. The URL that <code>getDataStream()</code>-&gt;<code>WebClient</code> hits, confirmed to produces output.</p>\n<p><a href=\"https://i.stack.imgur.com/JEen9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JEen9.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","algorithm","data-structures","knapsack-problem"],"comments":[{"owner":{"account_id":6543768,"reputation":7475,"user_id":8111755,"display_name":"Christian Sloper"},"score":0,"creation_date":1654202112,"post_id":72481740,"comment_id":128041577,"body_markdown":"note that all dp acess is dp[i-1], meaning you don&#39;t need to store more than the previous row.","body":"note that all dp acess is dp[i-1], meaning you don&#39;t need to store more than the previous row."},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":1,"creation_date":1654202413,"post_id":72481740,"comment_id":128041684,"body_markdown":"You can actually do it with one row, by iterating backwards through the array.","body":"You can actually do it with one row, by iterating backwards through the array."}],"answers":[{"tags":[],"owner":{"account_id":29792077,"reputation":1,"user_id":22832022,"display_name":"Kishor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701362472,"creation_date":1701196826,"answer_id":77566391,"question_id":72481740,"body_markdown":"you can calculate it with only 1-D dp array, make dp array of size W, and at the end of the calculation `dp[W]` will store the answer after calculation, Below is the code in c++ :\r\n\r\n```\r\nint knapsack(int c, int wt[], int val[], int n){\r\n       \r\n        vector&lt;int&gt; dp(W+1, 0);\r\n        \r\n        for(int i=0;i&lt;n;i++){\r\n            \r\n            for(int j=W; j&gt;=wt[i]; j--){\r\n                \r\n                dp[j] = max(dp[j], val[i] + dp[j-wt[i]]);\r\n            }\r\n        }\r\n        return dp[W];\r\n} \r\n```","title":"Optimize space complexity of Knapsack solution","body":"<p>you can calculate it with only 1-D dp array, make dp array of size W, and at the end of the calculation <code>dp[W]</code> will store the answer after calculation, Below is the code in c++ :</p>\n<pre><code>int knapsack(int c, int wt[], int val[], int n){\n       \n        vector&lt;int&gt; dp(W+1, 0);\n        \n        for(int i=0;i&lt;n;i++){\n            \n            for(int j=W; j&gt;=wt[i]; j--){\n                \n                dp[j] = max(dp[j], val[i] + dp[j-wt[i]]);\n            }\n        }\n        return dp[W];\n} \n</code></pre>\n"}],"owner":{"account_id":16790207,"reputation":531,"user_id":12138049,"display_name":"Pale Blue Dot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1701362472,"creation_date":1654200179,"question_id":72481740,"body_markdown":"Below is the typical Knapsack working solution using bottom up approach .How can I optimize the space complexity for it?\r\nCurrently space complexity is 0(rows*columns)\r\n\r\n \r\n\r\n     int val[] = new int[] { 60, 100, 120 };\r\n    \t        int wt[] = new int[] { 10, 20, 30 };\r\n    \t        int capacity= 50; //capacity of knapsack\r\n    \t        int n = val.length;\r\n    \t        System.out.println(knapsack(capacity, wt, val, n)); //220\r\n\r\n    public static int knapsack(int c, int wt[], int val[], int n) {\r\n    \t\t\r\n    \t\tint dp[][] = new int[n+1][c+1];\r\n    \t\t\r\n    \t\tfor( int i =0 ;i &lt; n+1;i++)\r\n    \t\t\tfor( int j =0 ;j &lt; c+1;j++)\r\n    \t\t\t  if( i==0 || j==0 )\r\n    \t\t\t\t  dp[i][j]=0;\r\n    \t\t\r\n    \t\t\r\n    \t\tfor( int i =1;i &lt; n+1;i++)\r\n    \t\t{\r\n    \t\t\tfor( int j =1 ;j &lt; c + 1;j++)\r\n    \t\t\t{\r\n    \t\t\t\t\r\n    \t\t\t\tif ( wt[i-1] &lt;= j)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tdp[i][j] = Math.max(val[i-1]+ dp[i-1][j-wt[i-1]] , dp[i-1][j]);\r\n    \t\t\t\t} else \r\n    \t\t\t\t{\r\n    \t\t\t\t\tdp[i][j] = dp[i-1][j];\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn dp[n][c];\r\n    \r\n    \t\r\n    \t}","title":"Optimize space complexity of Knapsack solution","body":"<p>Below is the typical Knapsack working solution using bottom up approach .How can I optimize the space complexity for it?\nCurrently space complexity is 0(rows*columns)</p>\n<pre><code> int val[] = new int[] { 60, 100, 120 };\n            int wt[] = new int[] { 10, 20, 30 };\n            int capacity= 50; //capacity of knapsack\n            int n = val.length;\n            System.out.println(knapsack(capacity, wt, val, n)); //220\n\npublic static int knapsack(int c, int wt[], int val[], int n) {\n        \n        int dp[][] = new int[n+1][c+1];\n        \n        for( int i =0 ;i &lt; n+1;i++)\n            for( int j =0 ;j &lt; c+1;j++)\n              if( i==0 || j==0 )\n                  dp[i][j]=0;\n        \n        \n        for( int i =1;i &lt; n+1;i++)\n        {\n            for( int j =1 ;j &lt; c + 1;j++)\n            {\n                \n                if ( wt[i-1] &lt;= j)\n                {\n                    dp[i][j] = Math.max(val[i-1]+ dp[i-1][j-wt[i-1]] , dp[i-1][j]);\n                } else \n                {\n                    dp[i][j] = dp[i-1][j];\n                }\n            }\n        \n        }\n        \n        return dp[n][c];\n\n    \n    }\n</code></pre>\n"},{"tags":["java","substring"],"answers":[{"tags":[],"owner":{"account_id":4042366,"reputation":283,"user_id":3324794,"display_name":"Reveson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701341656,"creation_date":1701341656,"answer_id":77577845,"question_id":77577701,"body_markdown":"You cannot archieve that using `substring()` method, because `substring(int beginIndex, int endIndex)` yields only characters that are in range of &lt;beginIndex; endIndex). So the `endIndex` must be greater then `beginIndex`.\r\n\r\nFor example\r\n`&quot;welcome&quot;.substring(3,6);` would yield &quot;com&quot;, because &quot;c&quot; is at index &quot;3&quot; of &quot;welcome&quot; string (remember that we are counting from &quot;0&quot;), and the &quot;m&quot; is **before** the index &quot;6&quot; (because the `endIndex` is exclusive, as the docs says):\r\n```\r\nParams:\r\nbeginIndex – the beginning index, inclusive. \r\nendIndex – the ending index, exclusive.\r\n```\r\n\r\n\r\nInstead, you should travel letter by letter and collect the letters using modulo operation. For example like this:\r\n```java\r\nString string = &quot;welcome&quot;;\r\nint substringLength = 3;\r\nString[] stringArray = new String[string.length()];\r\n\r\nfor (int j = 0; j &lt; string.length(); j++) {\r\n    StringBuilder substringBuilder = new StringBuilder();\r\n    for (int i = 0; i &lt; substringLength; i++) {\r\n        substringBuilder.append(string.charAt((j + i) % string.length()));\r\n    }\r\n    stringArray[j] = substringBuilder.toString();\r\n}\r\n\r\nfor (String d : stringArray) {\r\n    System.out.println(d);\r\n}\r\n```","title":"creating a substring of three from a string &quot;welcome&quot;","body":"<p>You cannot archieve that using <code>substring()</code> method, because <code>substring(int beginIndex, int endIndex)</code> yields only characters that are in range of &lt;beginIndex; endIndex). So the <code>endIndex</code> must be greater then <code>beginIndex</code>.</p>\n<p>For example\n<code>&quot;welcome&quot;.substring(3,6);</code> would yield &quot;com&quot;, because &quot;c&quot; is at index &quot;3&quot; of &quot;welcome&quot; string (remember that we are counting from &quot;0&quot;), and the &quot;m&quot; is <strong>before</strong> the index &quot;6&quot; (because the <code>endIndex</code> is exclusive, as the docs says):</p>\n<pre><code>Params:\nbeginIndex – the beginning index, inclusive. \nendIndex – the ending index, exclusive.\n</code></pre>\n<p>Instead, you should travel letter by letter and collect the letters using modulo operation. For example like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;welcome&quot;;\nint substringLength = 3;\nString[] stringArray = new String[string.length()];\n\nfor (int j = 0; j &lt; string.length(); j++) {\n    StringBuilder substringBuilder = new StringBuilder();\n    for (int i = 0; i &lt; substringLength; i++) {\n        substringBuilder.append(string.charAt((j + i) % string.length()));\n    }\n    stringArray[j] = substringBuilder.toString();\n}\n\nfor (String d : stringArray) {\n    System.out.println(d);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11871080,"reputation":31,"user_id":8687251,"display_name":"cuichao"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1701362132,"creation_date":1701343201,"answer_id":77577993,"question_id":77577701,"body_markdown":"I guess this code  will be easier to understand.\r\n```java\r\n        String str = &quot;welcome&quot;;\r\n        String concatStr = str + str;\r\n        String[] strArr = new String[str.length()];\r\n        for (int j = 0; j &lt; str.length(); j++) {\r\n            strArr[j] = concatStr.substring(j, j + 3);\r\n        }\r\n\r\n        for (String d : strArr)\r\n            System.out.println(d);\r\n```","title":"creating a substring of three from a string &quot;welcome&quot;","body":"<p>I guess this code  will be easier to understand.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        String str = &quot;welcome&quot;;\n        String concatStr = str + str;\n        String[] strArr = new String[str.length()];\n        for (int j = 0; j &lt; str.length(); j++) {\n            strArr[j] = concatStr.substring(j, j + 3);\n        }\n\n        for (String d : strArr)\n            System.out.println(d);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701346056,"creation_date":1701346056,"answer_id":77578306,"question_id":77577701,"body_markdown":"Well, your for loop needs to iterate exactly `string.length()` times, so `j &lt; string.length() - 2` is too few iterations.\r\n\r\nHowever, there&#39;s a number of ways to achieve this.\r\n\r\n* You could copy the beginning of the string to the end of it, so you can easily just use `substring(j, j + 3)`:\r\n\r\n    ```java\r\n    String ss = string + string.substring(0, 3);\r\n    String[] stringArray = new String[string.length()];\r\n    for (int j = 0; j &lt; string.length(); j++) {\r\n        stringArray[j] = ss.substring(j, j + 3);\r\n    }\r\n    ```\r\n\r\n* You could also add a portion of the beginning of the string if you are almost at the end:\r\n\r\n    ```java\r\n    String[] stringArray = new String[string.length()];\r\n    for (int j = 0; j &lt; string.length(); j++) {\r\n        String result = string.substring(j, Math.min(j + 3, string.length()));\r\n        if (j + 3 &gt;= string.length()) {\r\n            result += string.substring(0, j + 3 - string.length());\r\n        }\r\n        stringArray[j] = result;\r\n    }\r\n    ```","title":"creating a substring of three from a string &quot;welcome&quot;","body":"<p>Well, your for loop needs to iterate exactly <code>string.length()</code> times, so <code>j &lt; string.length() - 2</code> is too few iterations.</p>\n<p>However, there's a number of ways to achieve this.</p>\n<ul>\n<li><p>You could copy the beginning of the string to the end of it, so you can easily just use <code>substring(j, j + 3)</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String ss = string + string.substring(0, 3);\nString[] stringArray = new String[string.length()];\nfor (int j = 0; j &lt; string.length(); j++) {\n    stringArray[j] = ss.substring(j, j + 3);\n}\n</code></pre>\n</li>\n<li><p>You could also add a portion of the beginning of the string if you are almost at the end:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] stringArray = new String[string.length()];\nfor (int j = 0; j &lt; string.length(); j++) {\n    String result = string.substring(j, Math.min(j + 3, string.length()));\n    if (j + 3 &gt;= string.length()) {\n        result += string.substring(0, j + 3 - string.length());\n    }\n    stringArray[j] = result;\n}\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":30030343,"reputation":3,"user_id":23013595,"display_name":"Shalem Raj "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77577845,"answer_count":3,"score":0,"last_activity_date":1701362132,"creation_date":1701340421,"question_id":77577701,"body_markdown":"I&#39;m new to the Java world and I came across a problem. Please have a look and help me in this case. \r\n\r\nI have taken a string as &quot;welcome&quot; and I need to store the substrings of 3.\r\nAnd I&#39;m expecting the elements as &quot;wel&quot;, &quot;elc&quot;, &quot;lco&quot;, &quot;com&quot;, &quot;ome&quot;, &quot;mew&quot;, &quot;ewe&quot;. \r\n\r\nAnd I&#39;m getting the output as\r\nwel\r\nelc\r\nlco\r\ncom\r\nome\r\nnull\r\nnull\r\n\r\nI didn&#39;t understand how to iterate for the last two elements. \r\n\r\n\r\n    String string = &quot;welcome&quot;;\r\n    String stringArray[] = new String[string.length()];\r\n    for (int j = 0; j &lt; string.length() - 2; j++) {\r\n        stringArray[j] = string.substring(j, j + 3);\r\n    }\r\n\r\n    for (String d : stringArray)\r\n        System.out.println(d);\r\n\r\nI have tried this. Can anyone please help in this. Thankyou.","title":"creating a substring of three from a string &quot;welcome&quot;","body":"<p>I'm new to the Java world and I came across a problem. Please have a look and help me in this case.</p>\n<p>I have taken a string as &quot;welcome&quot; and I need to store the substrings of 3.\nAnd I'm expecting the elements as &quot;wel&quot;, &quot;elc&quot;, &quot;lco&quot;, &quot;com&quot;, &quot;ome&quot;, &quot;mew&quot;, &quot;ewe&quot;.</p>\n<p>And I'm getting the output as\nwel\nelc\nlco\ncom\nome\nnull\nnull</p>\n<p>I didn't understand how to iterate for the last two elements.</p>\n<pre><code>String string = &quot;welcome&quot;;\nString stringArray[] = new String[string.length()];\nfor (int j = 0; j &lt; string.length() - 2; j++) {\n    stringArray[j] = string.substring(j, j + 3);\n}\n\nfor (String d : stringArray)\n    System.out.println(d);\n</code></pre>\n<p>I have tried this. Can anyone please help in this. Thankyou.</p>\n"},{"tags":["java","gradle","java-21"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":11,"creation_date":1695196812,"post_id":77140377,"comment_id":135990293,"body_markdown":"“no information”? That seems like pretty clear information to me. Current Gradle does not support current Java. That seems to be usual, Gradle tends to lag behind current technologies.","body":"“no information”? That seems like pretty clear information to me. Current Gradle does not support current Java. That seems to be usual, Gradle tends to lag behind current technologies."},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":2,"creation_date":1695196901,"post_id":77140377,"comment_id":135990313,"body_markdown":"You can watch https://github.com/gradle/gradle/issues/25574 for the news.","body":"You can watch <a href=\"https://github.com/gradle/gradle/issues/25574\" rel=\"nofollow noreferrer\">github.com/gradle/gradle/issues/25574</a> for the news."},{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":3,"creation_date":1695403030,"post_id":77140377,"comment_id":136024604,"body_markdown":"Unless I&#39;m missing something, this doesn&#39;t feel like a question that should have been closed (in general, and specifically as seeking recommendations for tools, etc.).  It has a current concrete answer (it&#39;s not yet supported, but will be with [gradle#25574](https://github.com/gradle/gradle/issues/25574)).  As well as the related answer that you should still be able to build a Java 21 project with Gradle running under an earlier version of Java using tool `java { toolchain { languageVersion = 21 } }`","body":"Unless I&#39;m missing something, this doesn&#39;t feel like a question that should have been closed (in general, and specifically as seeking recommendations for tools, etc.).  It has a current concrete answer (it&#39;s not yet supported, but will be with <a href=\"https://github.com/gradle/gradle/issues/25574\" rel=\"nofollow noreferrer\">gradle#25574</a>).  As well as the related answer that you should still be able to build a Java 21 project with Gradle running under an earlier version of Java using tool <code>java { toolchain { languageVersion = 21 } }</code>"},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1695465216,"post_id":77140377,"comment_id":136030127,"body_markdown":"@M.Justin The question is already answered by the quote from the OP: there is currently no version which supports Java 21. There is no real question, so the close is valid. And asking what future version will support Java 21 will either solicit opinion/guesses, or is a request for external resources (e.g. a roadmap).","body":"@M.Justin The question is already answered by the quote from the OP: there is currently no version which supports Java 21. There is no real question, so the close is valid. And asking what future version will support Java 21 will either solicit opinion/guesses, or is a request for external resources (e.g. a roadmap)."},{"owner":{"account_id":12552773,"reputation":453,"user_id":9133703,"display_name":"Shahriyar Aghajani"},"score":1,"creation_date":1695626250,"post_id":77140377,"comment_id":136044219,"body_markdown":"If you are using Kotlin, then you can change Kotlin version to 1.9.20-Beta2, It&#39;s fixed my problem","body":"If you are using Kotlin, then you can change Kotlin version to 1.9.20-Beta2, It&#39;s fixed my problem"},{"owner":{"account_id":3535938,"reputation":4697,"user_id":2954288,"accept_rate":48,"display_name":"Harald"},"score":0,"creation_date":1695721483,"post_id":77140377,"comment_id":136059168,"body_markdown":"`./gradlew wrapper --gradle-version 8.3 --distribution-type bin` fixed weird warnings in intellij and weird test fails on the command line for me. My previous gradle version was 8.2.","body":"<code>.&#47;gradlew wrapper --gradle-version 8.3 --distribution-type bin</code> fixed weird warnings in intellij and weird test fails on the command line for me. My previous gradle version was 8.2."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1701361808,"creation_date":1695724578,"answer_id":77179202,"question_id":77140377,"body_markdown":"# Current\r\n\r\nFor full Java 21 support, you can use [Gradle 8.5][1]. The [release notes][2] say:\r\n\r\n&gt; With this release, Gradle now fully supports compiling, testing and running on Java 21.\r\n\r\n  [1]: https://github.com/gradle/gradle/releases\r\n  [2]: https://docs.gradle.org/8.5/release-notes.html#full-java-21-support","title":"Starting from which version does Gradle support Java 21?","body":"<h1>Current</h1>\n<p>For full Java 21 support, you can use <a href=\"https://github.com/gradle/gradle/releases\" rel=\"nofollow noreferrer\">Gradle 8.5</a>. The <a href=\"https://docs.gradle.org/8.5/release-notes.html#full-java-21-support\" rel=\"nofollow noreferrer\">release notes</a> say:</p>\n<blockquote>\n<p>With this release, Gradle now fully supports compiling, testing and running on Java 21.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":29687159,"reputation":31,"user_id":22752414,"display_name":"Jon Black"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1697742572,"creation_date":1697500073,"answer_id":77305481,"question_id":77140377,"body_markdown":"I believe there is new release of gradle for JDK 21:\r\n\r\nhttps://docs.gradle.org/8.4-rc-1/release-notes.html#kotlin-dsl-improvements\r\n\r\ngradle 8.4-rc-1\r\n\r\nI was able to install, but I&#39;m still having java errors with classpath issues.","title":"Starting from which version does Gradle support Java 21?","body":"<p>I believe there is new release of gradle for JDK 21:</p>\n<p><a href=\"https://docs.gradle.org/8.4-rc-1/release-notes.html#kotlin-dsl-improvements\" rel=\"nofollow noreferrer\">https://docs.gradle.org/8.4-rc-1/release-notes.html#kotlin-dsl-improvements</a></p>\n<p>gradle 8.4-rc-1</p>\n<p>I was able to install, but I'm still having java errors with classpath issues.</p>\n"},{"tags":[],"owner":{"account_id":6656168,"reputation":720,"user_id":5136656,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700857602,"creation_date":1700471363,"answer_id":77514608,"question_id":77140377,"body_markdown":"Current **Gradle Version 8.4** allows you to **build** with Java 21. Gradle 8.4 itself however can&#39;t run on Java 21. The next **Version 8.5**, where you can already try the RC-4 release, will be able to **run on Java 21**.\r\n\r\nhttps://docs.gradle.org/8.5-rc-3/release-notes.html#full-java-21-support","title":"Starting from which version does Gradle support Java 21?","body":"<p>Current <strong>Gradle Version 8.4</strong> allows you to <strong>build</strong> with Java 21. Gradle 8.4 itself however can't run on Java 21. The next <strong>Version 8.5</strong>, where you can already try the RC-4 release, will be able to <strong>run on Java 21</strong>.</p>\n<p><a href=\"https://docs.gradle.org/8.5-rc-3/release-notes.html#full-java-21-support\" rel=\"nofollow noreferrer\">https://docs.gradle.org/8.5-rc-3/release-notes.html#full-java-21-support</a></p>\n"},{"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700634584,"creation_date":1700475660,"answer_id":77515057,"question_id":77140377,"body_markdown":"If you are using Intellij, until v8.5 is G.A, you need to set Gradle JVM to a JVM version lower than Java 21, example Java 20:\r\n\r\nSettings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BgQHy.png","title":"Starting from which version does Gradle support Java 21?","body":"<p>If you are using Intellij, until v8.5 is G.A, you need to set Gradle JVM to a JVM version lower than Java 21, example Java 20:</p>\n<p>Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle:</p>\n<p><a href=\"https://i.stack.imgur.com/BgQHy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BgQHy.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":29580870,"reputation":67,"user_id":22670690,"display_name":"GreyBit"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1700682709,"creation_date":1700653306,"answer_id":77529631,"question_id":77140377,"body_markdown":"As mentioned in other answers, Gradle 8.4 supports building Java 21 projects.\r\n\r\nAs to *how* to do that:  \r\n1. Install JDK21 on the machine and tell Gradle to use it as its toolchain.  \r\nIn your Gradle build file (build.gradle or build.gradle.kts):\r\n    ```Groovy\r\n    java {\r\n\t    toolchain {\r\n\t\t    languageVersion = JavaLanguageVersion.of(21)\r\n\t    }\r\n    }\r\n    ```\r\n\r\n    Gradle should find your JDK21 installation [automatically][1].\r\n\r\n2. Install a JDK version *below 21* and use it to execute your Gradle tasks:  \r\nEither point your JAVA_HOME variable to this lower version JDK installation, or point the property `org.gradle.java.home` (gradle.properties) to it. If you use IntelliJ, you should instead point the setting &#39;Gradle JVM&#39; to this JDK.\r\n\r\nTo upgrade Gradle to 8.4, either download it from [gradle.org][2] and install it manually or (preferably) update your gradle-wrapper.properties file with `distributionUrl=https\\://services.gradle.org/distributions/gradle-8.4-bin.zip`.  \r\n\r\n\\\r\nExplanation: by default, Gradle uses the same JDK that it runs on to compile your sources. Obviously that is not going to work when you need to compile Java 21 code but the latest Gradle release doesn&#39;t run on Java 21 yet.  \r\nSo you let Gradle run on a lower version (either your environment default - what is returned by *java --version*, or some other JDK as specified for instance in the *Gradle JVM* option of IntelliJ or by setting org.gradle.java.home in gradle.properties) but you instruct it to use a 21 JDK for building your project (compilation, javadoc generation, etc.).\r\n\r\n\\\r\n`Edit`: Despite [claims][3] to the contrary by Gradle, it seems that (at least for simple projects) Gradle 8.4 is already able to run on Java 21.  \r\nIf you run into problems use the steps above, but it should be enough to simply run `gradle build`/`gradlew build` with JDK21 and Gradle 8.4 (so step 2 can be skipped).  \r\nStarting with Gradle 8.5 it should be officially supported to run Gradle directly on JDK21.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/toolchains.html#sec:auto_detection\r\n  [2]: https://gradle.org/next-steps/?version=8.4&amp;format=bin\r\n  [3]: https://docs.gradle.org/8.4/release-notes.html#support-for-building-projects-with-java-21","title":"Starting from which version does Gradle support Java 21?","body":"<p>As mentioned in other answers, Gradle 8.4 supports building Java 21 projects.</p>\n<p>As to <em>how</em> to do that:</p>\n<ol>\n<li><p>Install JDK21 on the machine and tell Gradle to use it as its toolchain.<br />\nIn your Gradle build file (build.gradle or build.gradle.kts):</p>\n<pre><code>java {\n    toolchain {\n        languageVersion = JavaLanguageVersion.of(21)\n    }\n}\n</code></pre>\n<p>Gradle should find your JDK21 installation <a href=\"https://docs.gradle.org/current/userguide/toolchains.html#sec:auto_detection\" rel=\"nofollow noreferrer\">automatically</a>.</p>\n</li>\n<li><p>Install a JDK version <em>below 21</em> and use it to execute your Gradle tasks:<br />\nEither point your JAVA_HOME variable to this lower version JDK installation, or point the property <code>org.gradle.java.home</code> (gradle.properties) to it. If you use IntelliJ, you should instead point the setting 'Gradle JVM' to this JDK.</p>\n</li>\n</ol>\n<p>To upgrade Gradle to 8.4, either download it from <a href=\"https://gradle.org/next-steps/?version=8.4&amp;format=bin\" rel=\"nofollow noreferrer\">gradle.org</a> and install it manually or (preferably) update your gradle-wrapper.properties file with <code>distributionUrl=https\\://services.gradle.org/distributions/gradle-8.4-bin.zip</code>.</p>\n<p><br />\nExplanation: by default, Gradle uses the same JDK that it runs on to compile your sources. Obviously that is not going to work when you need to compile Java 21 code but the latest Gradle release doesn't run on Java 21 yet.<br />\nSo you let Gradle run on a lower version (either your environment default - what is returned by <em>java --version</em>, or some other JDK as specified for instance in the <em>Gradle JVM</em> option of IntelliJ or by setting org.gradle.java.home in gradle.properties) but you instruct it to use a 21 JDK for building your project (compilation, javadoc generation, etc.).</p>\n<p><br />\n<code>Edit</code>: Despite <a href=\"https://docs.gradle.org/8.4/release-notes.html#support-for-building-projects-with-java-21\" rel=\"nofollow noreferrer\">claims</a> to the contrary by Gradle, it seems that (at least for simple projects) Gradle 8.4 is already able to run on Java 21.<br />\nIf you run into problems use the steps above, but it should be enough to simply run <code>gradle build</code>/<code>gradlew build</code> with JDK21 and Gradle 8.4 (so step 2 can be skipped).<br />\nStarting with Gradle 8.5 it should be officially supported to run Gradle directly on JDK21.</p>\n"},{"tags":[],"owner":{"account_id":2503637,"reputation":2242,"user_id":2178042,"display_name":"tottomotto"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1701287040,"creation_date":1701287040,"answer_id":77574080,"question_id":77140377,"body_markdown":"[Gradle 8.5 is now GA][1] and it has **full** Java 21 support.\r\n\r\nYou can update your wrapper config file to:\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-8.5-bin.zip\r\n\r\nAnd if you are using idea, you can go `Settings | Build, Execution, Deployment | Build Tools | Gradle` and change the Gradle JVM to 21.\r\n\r\n[![gradle jvm 21][2]][2]\r\n\r\n\r\n  [1]: https://docs.gradle.org/8.5/release-notes.html\r\n  [2]: https://i.stack.imgur.com/jigFd.png","title":"Starting from which version does Gradle support Java 21?","body":"<p><a href=\"https://docs.gradle.org/8.5/release-notes.html\" rel=\"nofollow noreferrer\">Gradle 8.5 is now GA</a> and it has <strong>full</strong> Java 21 support.</p>\n<p>You can update your wrapper config file to:</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-8.5-bin.zip\n</code></pre>\n<p>And if you are using idea, you can go <code>Settings | Build, Execution, Deployment | Build Tools | Gradle</code> and change the Gradle JVM to 21.</p>\n<p><a href=\"https://i.stack.imgur.com/jigFd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jigFd.png\" alt=\"gradle jvm 21\" /></a></p>\n"}],"owner":{"account_id":9376049,"reputation":3355,"user_id":7643517,"display_name":"Nolequen"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9501,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":77179202,"answer_count":6,"score":15,"last_activity_date":1701361808,"creation_date":1695196336,"question_id":77140377,"body_markdown":"When trying to configure the project using Java 21 I&#39;m getting the error:\r\n\r\n&gt; Unsupported Java. Your build is currently configured to use Java 21 and Gradle 8.3.\r\n\r\nUnfortunately, there is no information in official documentation for now: https://docs.gradle.org/current/userguide/compatibility.html\r\n\r\n&gt; A Java version between 8 and 20 is required to execute Gradle. Java 21\r\n&gt; and later versions are not yet supported.\r\n\r\nStarting from which version does Gradle support Java 21?","title":"Starting from which version does Gradle support Java 21?","body":"<p>When trying to configure the project using Java 21 I'm getting the error:</p>\n<blockquote>\n<p>Unsupported Java. Your build is currently configured to use Java 21 and Gradle 8.3.</p>\n</blockquote>\n<p>Unfortunately, there is no information in official documentation for now: <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"noreferrer\">https://docs.gradle.org/current/userguide/compatibility.html</a></p>\n<blockquote>\n<p>A Java version between 8 and 20 is required to execute Gradle. Java 21\nand later versions are not yet supported.</p>\n</blockquote>\n<p>Starting from which version does Gradle support Java 21?</p>\n"},{"tags":["java","spring","hibernate","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":2466460,"reputation":17100,"user_id":2149440,"accept_rate":82,"display_name":"Bart"},"score":0,"creation_date":1396468773,"post_id":22821695,"comment_id":34806994,"body_markdown":"Fetch your authorities eagerly or use a OpenSessionInViewFilter.","body":"Fetch your authorities eagerly or use a OpenSessionInViewFilter."},{"owner":{"account_id":3187825,"reputation":8415,"user_id":2692962,"accept_rate":82,"display_name":"Kleber Mota"},"score":0,"creation_date":1396469595,"post_id":22821695,"comment_id":34807498,"body_markdown":"it&#39;s exactly that I trying look how to do. What I have tried was this: **List&lt;Autorizacoes&gt; authority = user.getAutorizacoes()**, inside same function from allocation of UsernamePasswordAuthenticationToken, but still don&#39;t work.","body":"it&#39;s exactly that I trying look how to do. What I have tried was this: <b>List&lt;Autorizacoes&gt; authority = user.getAutorizacoes()</b>, inside same function from allocation of UsernamePasswordAuthenticationToken, but still don&#39;t work."},{"owner":{"account_id":2466460,"reputation":17100,"user_id":2149440,"accept_rate":82,"display_name":"Bart"},"score":2,"creation_date":1396469805,"post_id":22821695,"comment_id":34807660,"body_markdown":"`@ManyToMany(cascade=CascadeType.ALL, fetch = FetchType.EAGER)`","body":"<code>@ManyToMany(cascade=CascadeType.ALL, fetch = FetchType.EAGER)</code>"},{"owner":{"account_id":3187825,"reputation":8415,"user_id":2692962,"accept_rate":82,"display_name":"Kleber Mota"},"score":0,"creation_date":1396470712,"post_id":22821695,"comment_id":34808193,"body_markdown":"Ok, I try that, but still don&#39;t work. My Entity class updated: https://github.com/klebermo/webapp_horario_livre/blob/master/src/com/horariolivre/entity/Usuario.java, My current AuthenticationProvider: https://github.com/klebermo/webapp_horario_livre/blob/master/src/com/horariolivre/security/CustomAuthenticationProvider.java","body":"Ok, I try that, but still don&#39;t work. My Entity class updated: <a href=\"https://github.com/klebermo/webapp_horario_livre/blob/master/src/com/horariolivre/entity/Usuario.java\" rel=\"nofollow noreferrer\">github.com/klebermo/webapp_horario_livre/blob/master/src/com&zwnj;&#8203;/&hellip;</a>, My current AuthenticationProvider: <a href=\"https://github.com/klebermo/webapp_horario_livre/blob/master/src/com/horariolivre/security/CustomAuthenticationProvider.java\" rel=\"nofollow noreferrer\">github.com/klebermo/webapp_horario_livre/blob/master/src/com&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":435063,"reputation":4304,"user_id":821436,"accept_rate":79,"display_name":"Martin Schr&#246;der"},"score":0,"creation_date":1533719181,"post_id":22821695,"comment_id":90445392,"body_markdown":"Possible duplicate of [How to solve the “failed to lazily initialize a collection of role” Hibernate exception](https://stackoverflow.com/questions/11746499/how-to-solve-the-failed-to-lazily-initialize-a-collection-of-role-hibernate-ex)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/11746499/how-to-solve-the-failed-to-lazily-initialize-a-collection-of-role-hibernate-ex\">How to solve the “failed to lazily initialize a collection of role” Hibernate exception</a>"}],"answers":[{"tags":[],"owner":{"account_id":4249369,"reputation":2629,"user_id":3476973,"display_name":"jcmwright80"},"down_vote_count":7,"up_vote_count":241,"is_accepted":true,"score":234,"last_activity_date":1686683166,"creation_date":1396470372,"answer_id":22822283,"question_id":22821695,"body_markdown":"You need to either add `fetch=FetchType.EAGER` inside your ManyToMany annotations to automatically pull back child entities:\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n\r\nA better option would be to implement a Spring `transactionManager` by adding the following to your Spring configuration file:\r\n\r\n    &lt;bean id=&quot;transactionManager&quot;\r\n\t\tclass=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\r\n\t\t&lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;tx:annotation-driven /&gt;\r\n\r\nYou can then add an `@Transactional` annotation to your `authenticate()` method like so:\r\n\r\n    @Transactional\r\n    public Authentication authenticate(Authentication authentication)\r\n\r\nThis will then start a db transaction for the duration of the `authenticate` method allowing any lazy collection to be retrieved from the db as and when you try to use them.","title":"How to fix Hibernate LazyInitializationException: failed to lazily initialize a collection of roles, could not initialize proxy - no Session","body":"<p>You need to either add <code>fetch=FetchType.EAGER</code> inside your ManyToMany annotations to automatically pull back child entities:</p>\n<pre><code>@ManyToMany(fetch = FetchType.EAGER)\n</code></pre>\n<p>A better option would be to implement a Spring <code>transactionManager</code> by adding the following to your Spring configuration file:</p>\n<pre><code>&lt;bean id=&quot;transactionManager&quot;\n    class=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\n    &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;\n&lt;/bean&gt;\n\n&lt;tx:annotation-driven /&gt;\n</code></pre>\n<p>You can then add an <code>@Transactional</code> annotation to your <code>authenticate()</code> method like so:</p>\n<pre><code>@Transactional\npublic Authentication authenticate(Authentication authentication)\n</code></pre>\n<p>This will then start a db transaction for the duration of the <code>authenticate</code> method allowing any lazy collection to be retrieved from the db as and when you try to use them.</p>\n"},{"tags":[],"owner":{"account_id":2022605,"reputation":3327,"user_id":1808417,"display_name":"saneryee"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1417666882,"creation_date":1417666882,"answer_id":27286246,"question_id":22821695,"body_markdown":"The reason is that when you use lazy load, the session is closed.\r\n\r\nThere are two solutions.\r\n\r\n1. Don&#39;t use lazy load.\r\n\r\n   Set `lazy=false` in XML or Set `@OneToMany(fetch = FetchType.EAGER)` In annotation.\r\n\r\n2. Use lazy load. \r\n\r\n   Set `lazy=true` in XML or Set `@OneToMany(fetch = FetchType.LAZY)` In annotation.\r\n   \r\n   and add `OpenSessionInViewFilter filter` in your `web.xml`\r\n\r\n\r\nDetail See my post.\r\n\r\nhttps://stackoverflow.com/a/27286187/1808417","title":"How to fix Hibernate LazyInitializationException: failed to lazily initialize a collection of roles, could not initialize proxy - no Session","body":"<p>The reason is that when you use lazy load, the session is closed.</p>\n\n<p>There are two solutions.</p>\n\n<ol>\n<li><p>Don't use lazy load.</p>\n\n<p>Set <code>lazy=false</code> in XML or Set <code>@OneToMany(fetch = FetchType.EAGER)</code> In annotation.</p></li>\n<li><p>Use lazy load. </p>\n\n<p>Set <code>lazy=true</code> in XML or Set <code>@OneToMany(fetch = FetchType.LAZY)</code> In annotation.</p>\n\n<p>and add <code>OpenSessionInViewFilter filter</code> in your <code>web.xml</code></p></li>\n</ol>\n\n<p>Detail See my post.</p>\n\n<p><a href=\"https://stackoverflow.com/a/27286187/1808417\">https://stackoverflow.com/a/27286187/1808417</a></p>\n"},{"tags":[],"owner":{"account_id":4674446,"reputation":27,"user_id":3785285,"display_name":"Mauricio"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1426040454,"creation_date":1425875191,"answer_id":28935244,"question_id":22821695,"body_markdown":"Add the annotation \r\n\r\n    @JsonManagedReference\r\n\r\nFor example:\r\n    \r\n    @ManyToMany(cascade=CascadeType.ALL)\r\n\t@JoinTable(name = &quot;autorizacoes_usuario&quot;, joinColumns = { @JoinColumn(name = &quot;fk_usuario&quot;) }, inverseJoinColumns = { @JoinColumn(name = &quot;fk_autorizacoes&quot;) })\r\n\t@JsonManagedReference\r\n\tpublic List&lt;AutorizacoesUsuario&gt; getAutorizacoes() {\r\n\t\treturn this.autorizacoes;\r\n\t}\r\n\r\n","title":"How to fix Hibernate LazyInitializationException: failed to lazily initialize a collection of roles, could not initialize proxy - no Session","body":"<p>Add the annotation </p>\n\n<pre><code>@JsonManagedReference\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>@ManyToMany(cascade=CascadeType.ALL)\n@JoinTable(name = \"autorizacoes_usuario\", joinColumns = { @JoinColumn(name = \"fk_usuario\") }, inverseJoinColumns = { @JoinColumn(name = \"fk_autorizacoes\") })\n@JsonManagedReference\npublic List&lt;AutorizacoesUsuario&gt; getAutorizacoes() {\n    return this.autorizacoes;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":433536,"reputation":764,"user_id":818921,"accept_rate":100,"display_name":"Jamali"},"down_vote_count":4,"up_vote_count":33,"is_accepted":false,"score":29,"last_activity_date":1540837255,"creation_date":1428695672,"answer_id":29569679,"question_id":22821695,"body_markdown":"Adding following property to your **persistence.xml** may solve your problem temporarily\r\n\r\n    &lt;property name=&quot;hibernate.enable_lazy_load_no_trans&quot; value=&quot;true&quot; /&gt;\r\n\r\nAs @vlad-mihalcea said it&#39;s an antipattern and does not solve lazy initialization issue completely, initialize your associations before closing transaction and use DTOs instead.","title":"How to fix Hibernate LazyInitializationException: failed to lazily initialize a collection of roles, could not initialize proxy - no Session","body":"<p>Adding following property to your <strong>persistence.xml</strong> may solve your problem temporarily</p>\n\n<pre><code>&lt;property name=\"hibernate.enable_lazy_load_no_trans\" value=\"true\" /&gt;\n</code></pre>\n\n<p>As @vlad-mihalcea said it's an antipattern and does not solve lazy initialization issue completely, initialize your associations before closing transaction and use DTOs instead.</p>\n"},{"tags":[],"owner":{"account_id":7133217,"reputation":61,"user_id":5453772,"display_name":"Mitesh C"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1463661646,"creation_date":1445006961,"answer_id":33173431,"question_id":22821695,"body_markdown":"You can use hibernate lazy initializer.  \r\n\r\nBelow is the code you can refer.  \r\nHere `PPIDO` is the data object which I want to retrieve\r\n\r\n    Hibernate.initialize(ppiDO);\r\n    if (ppiDO instanceof HibernateProxy) {\r\n        ppiDO = (PolicyProductInsuredDO) ((HibernateProxy) ppiDO).getHibernateLazyInitializer()\r\n            .getImplementation();\r\n        ppiDO.setParentGuidObj(policyDO.getBasePlan());\r\n        saveppiDO.add(ppiDO);\r\n        proxyFl = true;\r\n    }","title":"How to fix Hibernate LazyInitializationException: failed to lazily initialize a collection of roles, could not initialize proxy - no Session","body":"<p>You can use hibernate lazy initializer.  </p>\n\n<p>Below is the code you can refer.<br>\nHere <code>PPIDO</code> is the data object which I want to retrieve</p>\n\n<pre><code>Hibernate.initialize(ppiDO);\nif (ppiDO instanceof HibernateProxy) {\n    ppiDO = (PolicyProductInsuredDO) ((HibernateProxy) ppiDO).getHibernateLazyInitializer()\n        .getImplementation();\n    ppiDO.setParentGuidObj(policyDO.getBasePlan());\n    saveppiDO.add(ppiDO);\n    proxyFl = true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145158,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":63,"is_accepted":false,"score":63,"last_activity_date":1610258987,"creation_date":1473754329,"answer_id":39465183,"question_id":22821695,"body_markdown":"The best way to handle the [`LazyInitializationException`](https://vladmihalcea.com/the-best-way-to-handle-the-lazyinitializationexception/) is to use the `JOIN FETCH` directive for all the entities that you need to fetch along.\r\n\r\nAnyway, DO NOT use the following Anti-Patterns as suggested by some of the answers:\r\n\r\n- [Open Session in View](https://vladmihalcea.com/the-open-session-in-view-anti-pattern/)\r\n- [`hibernate.enable_lazy_load_no_trans`](https://vladmihalcea.com/the-hibernate-enable_lazy_load_no_trans-anti-pattern/)\r\n\r\nSometimes, a [DTO projection][1] is a better choice than fetching entities, and this way, you won&#39;t get any `LazyInitializationException`.\r\n\r\n  [1]: https://vladmihalcea.com/the-best-way-to-handle-the-lazyinitializationexception/","title":"How to fix Hibernate LazyInitializationException: failed to lazily initialize a collection of roles, could not initialize proxy - no Session","body":"<p>The best way to handle the <a href=\"https://vladmihalcea.com/the-best-way-to-handle-the-lazyinitializationexception/\" rel=\"noreferrer\"><code>LazyInitializationException</code></a> is to use the <code>JOIN FETCH</code> directive for all the entities that you need to fetch along.</p>\n<p>Anyway, DO NOT use the following Anti-Patterns as suggested by some of the answers:</p>\n<ul>\n<li><a href=\"https://vladmihalcea.com/the-open-session-in-view-anti-pattern/\" rel=\"noreferrer\">Open Session in View</a></li>\n<li><a href=\"https://vladmihalcea.com/the-hibernate-enable_lazy_load_no_trans-anti-pattern/\" rel=\"noreferrer\"><code>hibernate.enable_lazy_load_no_trans</code></a></li>\n</ul>\n<p>Sometimes, a <a href=\"https://vladmihalcea.com/the-best-way-to-handle-the-lazyinitializationexception/\" rel=\"noreferrer\">DTO projection</a> is a better choice than fetching entities, and this way, you won't get any <code>LazyInitializationException</code>.</p>\n"},{"tags":[],"owner":{"account_id":8886178,"reputation":499,"user_id":6634372,"display_name":"KarthikaSrinivasan"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1474458838,"creation_date":1474458838,"answer_id":39615854,"question_id":22821695,"body_markdown":"I too had this problem when I was doing unit Testing. A very Simple Solution to this problem is to use **@Transactional** annotation which keeps the session open till the end of the execution.","title":"How to fix Hibernate LazyInitializationException: failed to lazily initialize a collection of roles, could not initialize proxy - no Session","body":"<p>I too had this problem when I was doing unit Testing. A very Simple Solution to this problem is to use <strong>@Transactional</strong> annotation which keeps the session open till the end of the execution.</p>\n"},{"tags":[],"owner":{"account_id":8088812,"reputation":4423,"user_id":6095444,"display_name":"Pravin Bansal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1509773467,"creation_date":1509758731,"answer_id":47106459,"question_id":22821695,"body_markdown":"I believe rather than enabling eager fetch, it make sense to re-initialise your entity where its needed to avoid `LazyInitializationException` exception\r\n\r\n    Hibernate.initialize(your entity);","title":"How to fix Hibernate LazyInitializationException: failed to lazily initialize a collection of roles, could not initialize proxy - no Session","body":"<p>I believe rather than enabling eager fetch, it make sense to re-initialise your entity where its needed to avoid <code>LazyInitializationException</code> exception</p>\n\n<pre><code>Hibernate.initialize(your entity);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1751061,"reputation":478,"user_id":1600140,"display_name":"vk23"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1515670613,"creation_date":1515670613,"answer_id":48206144,"question_id":22821695,"body_markdown":"First of all I&#39;d like to say that all users who said about lazy and transactions were right. But in my case there was a slight difference in that I used result of *@Transactional* method in a test and that was outside real transaction so I got this lazy exception.\r\n\r\nMy service method:\r\n\r\n    @Transactional\r\n    User get(String uid) {};\r\n\r\nMy test code:\r\n\r\n    User user = userService.get(&quot;123&quot;);\r\n    user.getActors(); //org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role\r\n\r\nMy solution to this was wrapping that code in another transaction like this:\r\n\r\n    List&lt;Actor&gt; actors = new ArrayList&lt;&gt;();\r\n    transactionTemplate.execute((status) \r\n     -&gt; actors.addAll(userService.get(&quot;123&quot;).getActors()));\r\n\r\n","title":"How to fix Hibernate LazyInitializationException: failed to lazily initialize a collection of roles, could not initialize proxy - no Session","body":"<p>First of all I'd like to say that all users who said about lazy and transactions were right. But in my case there was a slight difference in that I used result of <em>@Transactional</em> method in a test and that was outside real transaction so I got this lazy exception.</p>\n\n<p>My service method:</p>\n\n<pre><code>@Transactional\nUser get(String uid) {};\n</code></pre>\n\n<p>My test code:</p>\n\n<pre><code>User user = userService.get(\"123\");\nuser.getActors(); //org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role\n</code></pre>\n\n<p>My solution to this was wrapping that code in another transaction like this:</p>\n\n<pre><code>List&lt;Actor&gt; actors = new ArrayList&lt;&gt;();\ntransactionTemplate.execute((status) \n -&gt; actors.addAll(userService.get(\"123\").getActors()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2358514,"reputation":9644,"user_id":2065796,"accept_rate":62,"display_name":"Sasha Shpota"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1536658232,"creation_date":1536657784,"answer_id":52272744,"question_id":22821695,"body_markdown":"For those who have this problem **with collection of enums** here is how to solve it:\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;OPTION&quot;)\r\n    @CollectionTable(name = &quot;MY_ENTITY_MY_OPTION&quot;)\r\n    @ElementCollection(targetClass = MyOptionEnum.class, fetch = EAGER)\r\n    Collection&lt;MyOptionEnum&gt; options;","title":"How to fix Hibernate LazyInitializationException: failed to lazily initialize a collection of roles, could not initialize proxy - no Session","body":"<p>For those who have this problem <strong>with collection of enums</strong> here is how to solve it:</p>\n\n<pre><code>@Enumerated(EnumType.STRING)\n@Column(name = \"OPTION\")\n@CollectionTable(name = \"MY_ENTITY_MY_OPTION\")\n@ElementCollection(targetClass = MyOptionEnum.class, fetch = EAGER)\nCollection&lt;MyOptionEnum&gt; options;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2072538,"reputation":2546,"user_id":1846656,"accept_rate":38,"display_name":"Bilal Ahmed Yaseen"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1543389028,"creation_date":1543389028,"answer_id":53513967,"question_id":22821695,"body_markdown":"Your Custom AuthenticationProvider class should be annotated with the following:\r\n\r\n&gt; @Transactional\r\n\r\n This will make sure the presence of the hibernate session there as well.","title":"How to fix Hibernate LazyInitializationException: failed to lazily initialize a collection of roles, could not initialize proxy - no Session","body":"<p>Your Custom AuthenticationProvider class should be annotated with the following:</p>\n\n<blockquote>\n  <p>@Transactional</p>\n</blockquote>\n\n<p>This will make sure the presence of the hibernate session there as well.</p>\n"},{"tags":[],"owner":{"account_id":7247451,"reputation":53,"user_id":5528924,"display_name":"nickshoe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599637239,"creation_date":1599637239,"answer_id":63806881,"question_id":22821695,"body_markdown":"For those using [JaVers](https://javers.org/), given an audited entity class, you may want to [ignore](https://javers.org/documentation/domain-configuration/#ignoring-things) the properties causing the `LazyInitializationException` exception (e.g. by using the `@DiffIgnore` annotation).\r\n\r\nThis tells the framework to ignore those properties when calculating the object differences, so it won&#39;t try to read from the DB the related objects outside the transaction scope (thus causing the exception).","title":"How to fix Hibernate LazyInitializationException: failed to lazily initialize a collection of roles, could not initialize proxy - no Session","body":"<p>For those using <a href=\"https://javers.org/\" rel=\"nofollow noreferrer\">JaVers</a>, given an audited entity class, you may want to <a href=\"https://javers.org/documentation/domain-configuration/#ignoring-things\" rel=\"nofollow noreferrer\">ignore</a> the properties causing the <code>LazyInitializationException</code> exception (e.g. by using the <code>@DiffIgnore</code> annotation).</p>\n<p>This tells the framework to ignore those properties when calculating the object differences, so it won't try to read from the DB the related objects outside the transaction scope (thus causing the exception).</p>\n"},{"tags":[],"owner":{"account_id":3620019,"reputation":5311,"user_id":3019006,"accept_rate":68,"display_name":"Deb"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1599844379,"creation_date":1599844379,"answer_id":63851529,"question_id":22821695,"body_markdown":"A common practice is to put a `@Transactional` above your service class.\r\n\r\n    @Service\r\n    @Transactional\r\n    public class MyServiceImpl implements MyService{\r\n    ...\r\n    }","title":"How to fix Hibernate LazyInitializationException: failed to lazily initialize a collection of roles, could not initialize proxy - no Session","body":"<p>A common practice is to put a <code>@Transactional</code> above your service class.</p>\n<pre><code>@Service\n@Transactional\npublic class MyServiceImpl implements MyService{\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3351190,"reputation":3386,"user_id":2815227,"accept_rate":64,"display_name":"mcvkr"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1619622520,"creation_date":1613145133,"answer_id":66174948,"question_id":22821695,"body_markdown":"There are cases where you don&#39;t need to put @Transactional annotation to your service method, like integration testing where you can just add @Transactional to your test method. You can get org.hibernate.LazyInitializationException when testing a method that just selects from database, which does not need to be transactional. For example, when you try to load an entity class which has a lazy fetch relation like below may cause this :\r\n\r\n    @OneToMany(mappedBy = &quot;parent&quot;, fetch = FetchType.LAZY)\r\n    private List&lt;Item&gt; items;\r\n\r\nso you add the @Transactional annotation to only to the test method.\r\n\r\n\t@Test\r\n\t@Transactional\r\n\tpublic void verifySomethingTestSomething()  {","title":"How to fix Hibernate LazyInitializationException: failed to lazily initialize a collection of roles, could not initialize proxy - no Session","body":"<p>There are cases where you don't need to put @Transactional annotation to your service method, like integration testing where you can just add @Transactional to your test method. You can get org.hibernate.LazyInitializationException when testing a method that just selects from database, which does not need to be transactional. For example, when you try to load an entity class which has a lazy fetch relation like below may cause this :</p>\n<pre><code>@OneToMany(mappedBy = &quot;parent&quot;, fetch = FetchType.LAZY)\nprivate List&lt;Item&gt; items;\n</code></pre>\n<p>so you add the @Transactional annotation to only to the test method.</p>\n<pre><code>@Test\n@Transactional\npublic void verifySomethingTestSomething()  {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":408611,"reputation":1784,"user_id":779388,"display_name":"devilcius"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653398744,"creation_date":1653385163,"answer_id":72360611,"question_id":22821695,"body_markdown":"After changing the FetchType to EAGER, I still had the same problem. Turned out that I was using a user instance from session and the object was serialized in DB (I use Spring session JDBC), so no matter if I restarted spring boot the problem persisted. I should had requested it from the repository.","title":"How to fix Hibernate LazyInitializationException: failed to lazily initialize a collection of roles, could not initialize proxy - no Session","body":"<p>After changing the FetchType to EAGER, I still had the same problem. Turned out that I was using a user instance from session and the object was serialized in DB (I use Spring session JDBC), so no matter if I restarted spring boot the problem persisted. I should had requested it from the repository.</p>\n"},{"tags":[],"owner":{"account_id":24305837,"reputation":1,"user_id":18248596,"display_name":"An Ph&#250;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682958900,"creation_date":1682761431,"answer_id":76135532,"question_id":22821695,"body_markdown":"```\r\n@OneToMany(mappedBy = &quot;userId&quot;, fetch = FetchType.EAGER)\r\n```\r\n\r\nI had the same error and solved the problem.\r\n```\r\nfetch = FetchType.EAGER\r\n```\r\nMany thanks for your reply above.","title":"How to fix Hibernate LazyInitializationException: failed to lazily initialize a collection of roles, could not initialize proxy - no Session","body":"<pre><code>@OneToMany(mappedBy = &quot;userId&quot;, fetch = FetchType.EAGER)\n</code></pre>\n<p>I had the same error and solved the problem.</p>\n<pre><code>fetch = FetchType.EAGER\n</code></pre>\n<p>Many thanks for your reply above.</p>\n"},{"tags":[],"owner":{"account_id":29205301,"reputation":11,"user_id":22374526,"display_name":"H&#252;sna POYRAZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692090488,"creation_date":1692090488,"answer_id":76904645,"question_id":22821695,"body_markdown":"**You don&#39;t have to change the fetch type.**&lt;br&gt;\r\nTo fix that, we can enable the property:\r\n```spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true```&lt;br&gt;\r\nresource: https://www.baeldung.com/hibernate-lazy-loading-workaround","title":"How to fix Hibernate LazyInitializationException: failed to lazily initialize a collection of roles, could not initialize proxy - no Session","body":"<p><strong>You don't have to change the fetch type.</strong><br>\nTo fix that, we can enable the property:\n<code>spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true</code><br>\nresource: <a href=\"https://www.baeldung.com/hibernate-lazy-loading-workaround\" rel=\"nofollow noreferrer\">https://www.baeldung.com/hibernate-lazy-loading-workaround</a></p>\n"},{"tags":[],"owner":{"account_id":14357528,"reputation":37,"user_id":10370935,"display_name":"sandeep kande"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699337150,"creation_date":1699337150,"answer_id":77435875,"question_id":22821695,"body_markdown":"I had the same problem, by adding annotation \r\n\r\n&gt; @ToString.Exclude\r\n\r\nwith one to many mappings helped me to solve the problem.\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    @ToString.Exclude\r\n    private List&lt;Post&gt; posts = new ArrayList&lt;&gt;();","title":"How to fix Hibernate LazyInitializationException: failed to lazily initialize a collection of roles, could not initialize proxy - no Session","body":"<p>I had the same problem, by adding annotation</p>\n<blockquote>\n<p>@ToString.Exclude</p>\n</blockquote>\n<p>with one to many mappings helped me to solve the problem.</p>\n<pre><code>@OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n@ToString.Exclude\nprivate List&lt;Post&gt; posts = new ArrayList&lt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":3187825,"reputation":8415,"user_id":2692962,"accept_rate":82,"display_name":"Kleber Mota"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387670,"favorite_count":0,"down_vote_count":0,"up_vote_count":199,"accepted_answer_id":22822283,"answer_count":18,"score":199,"last_activity_date":1701361169,"creation_date":1396468570,"question_id":22821695,"body_markdown":"In the custom AuthenticationProvider from my spring project, I am trying read the list of authorities of the logged user, but I am facing the following error:\r\n\r\n    org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.horariolivre.entity.Usuario.autorizacoes, could not initialize proxy - no Session\r\n    \tat org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:566)\r\n    \tat org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:186)\r\n    \tat org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:545)\r\n    \tat org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:124)\r\n    \tat org.hibernate.collection.internal.PersistentBag.iterator(PersistentBag.java:266)\r\n    \tat com.horariolivre.security.CustomAuthenticationProvider.authenticate(CustomAuthenticationProvider.java:45)\r\n    \tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:156)\r\n    \tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:177)\r\n    \tat org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:94)\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:211)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:57)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:50)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\r\n    \tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1023)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat java.lang.Thread.run(Thread.java:744)\r\n\r\n\r\nReading other topics from here in StackOverflow, I understand this happens due the way this type of atribute is handled by the framework, but i can&#39;t figure out any solution for my case. Someone can point what i am doing wrong and what I can do to fix it?\r\n\r\nThe code of my Custom AuthenticationProvider is:\r\n\r\n    @Component\r\n    public class CustomAuthenticationProvider implements AuthenticationProvider {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate UsuarioHome usuario;\r\n    \t\r\n    \tpublic CustomAuthenticationProvider() {\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n    \t\tSystem.out.println(&quot;CustomAuthenticationProvider.authenticate&quot;);\r\n    \t\t\r\n    \t\tString username = authentication.getName();\r\n            String password = authentication.getCredentials().toString();\r\n            \r\n            Usuario user = usuario.findByUsername(username);\r\n                    \r\n            if (user != null) {\r\n            \tif(user.getSenha().equals(password)) {\r\n            \t\tList&lt;AutorizacoesUsuario&gt; list = user.getAutorizacoes();\r\n            \t\t\r\n            \t\tList &lt;String&gt; rolesAsList = new ArrayList&lt;String&gt;();\r\n            \t    for(AutorizacoesUsuario role : list){\r\n            \t        rolesAsList.add(role.getAutorizacoes().getNome());\r\n            \t    }\r\n            \t    \r\n            \t    List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;GrantedAuthority&gt;();\r\n            \t    for (String role_name : rolesAsList) {\r\n            \t        authorities.add(new SimpleGrantedAuthority(role_name));\r\n            \t    }\r\n            \t    \r\n    \t            Authentication auth = new UsernamePasswordAuthenticationToken(username, password, authorities);\r\n    \t            return auth;\r\n            \t}\r\n            \telse {\r\n            \t\treturn null;\r\n            \t}\r\n            } else {\r\n            \treturn null;\r\n            }\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean supports(Class&lt;?&gt; authentication) {\r\n    \t\treturn authentication.equals(UsernamePasswordAuthenticationToken.class);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nMy Entity classes are:\r\n\r\n**UsuarioHome.java**\r\n\r\n    @Entity\r\n    @Table(name = &quot;usuario&quot;)\r\n    public class Usuario implements java.io.Serializable {\r\n    \r\n    \tprivate int id;\r\n    \tprivate String login;\r\n    \tprivate String senha;\r\n    \tprivate String primeiroNome;\r\n    \tprivate String ultimoNome;\r\n    \tprivate List&lt;TipoUsuario&gt; tipoUsuarios = new ArrayList&lt;TipoUsuario&gt;();\r\n    \tprivate List&lt;AutorizacoesUsuario&gt; autorizacoes = new ArrayList&lt;AutorizacoesUsuario&gt;();\r\n    \tprivate List&lt;DadosUsuario&gt; dadosUsuarios = new ArrayList&lt;DadosUsuario&gt;();\r\n    \tprivate ConfigHorarioLivre config;\r\n    \r\n    \tpublic Usuario() {\r\n    \t}\r\n    \r\n    \tpublic Usuario(String login, String senha) {\r\n    \t\tthis.login = login;\r\n    \t\tthis.senha = senha;\r\n    \t}\r\n    \r\n    \tpublic Usuario(String login, String senha, String primeiroNome, String ultimoNome, List&lt;TipoUsuario&gt; tipoUsuarios, List&lt;AutorizacoesUsuario&gt; autorizacoesUsuarios, List&lt;DadosUsuario&gt; dadosUsuarios, ConfigHorarioLivre config) {\r\n    \t\tthis.login = login;\r\n    \t\tthis.senha = senha;\r\n    \t\tthis.primeiroNome = primeiroNome;\r\n    \t\tthis.ultimoNome = ultimoNome;\r\n    \t\tthis.tipoUsuarios = tipoUsuarios;\r\n    \t\tthis.autorizacoes = autorizacoesUsuarios;\r\n    \t\tthis.dadosUsuarios = dadosUsuarios;\r\n    \t\tthis.config = config;\r\n    \t}\r\n    \t\r\n    \tpublic Usuario(String login, String senha, String primeiroNome, String ultimoNome, String tipoUsuario, String[] campos) {\r\n    \t\tthis.login = login;\r\n    \t\tthis.senha = senha;\r\n    \t\tthis.primeiroNome = primeiroNome;\r\n    \t\tthis.ultimoNome = ultimoNome;\r\n    \t\tthis.tipoUsuarios.add(new TipoUsuario(this, new Tipo(tipoUsuario)));\r\n    \t\tfor(int i=0; i&lt;campos.length; i++)\r\n    \t\t\tthis.dadosUsuarios.add(new DadosUsuario(this, null, campos[i]));\r\n    \t}\r\n    \r\n    \t@Id\r\n    \t@Column(name = &quot;id&quot;, unique = true, nullable = false)\r\n    \t@GeneratedValue(strategy=GenerationType.AUTO)\r\n    \tpublic int getId() {\r\n    \t\treturn this.id;\r\n    \t}\r\n    \r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;login&quot;, nullable = false, length = 16)\r\n    \tpublic String getLogin() {\r\n    \t\treturn this.login;\r\n    \t}\r\n    \r\n    \tpublic void setLogin(String login) {\r\n    \t\tthis.login = login;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;senha&quot;, nullable = false)\r\n    \tpublic String getSenha() {\r\n    \t\treturn this.senha;\r\n    \t}\r\n    \r\n    \tpublic void setSenha(String senha) {\r\n    \t\tthis.senha = senha;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;primeiro_nome&quot;, length = 32)\r\n    \tpublic String getPrimeiroNome() {\r\n    \t\treturn this.primeiroNome;\r\n    \t}\r\n    \r\n    \tpublic void setPrimeiroNome(String primeiroNome) {\r\n    \t\tthis.primeiroNome = primeiroNome;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;ultimo_nome&quot;, length = 32)\r\n    \tpublic String getUltimoNome() {\r\n    \t\treturn this.ultimoNome;\r\n    \t}\r\n    \r\n    \tpublic void setUltimoNome(String ultimoNome) {\r\n    \t\tthis.ultimoNome = ultimoNome;\r\n    \t}\r\n    \r\n    \t@ManyToMany(cascade=CascadeType.ALL)\r\n    \t@JoinTable(name = &quot;tipo_usuario&quot;, joinColumns = { @JoinColumn(name = &quot;fk_usuario&quot;) }, inverseJoinColumns = { @JoinColumn(name = &quot;fk_tipo&quot;) })\r\n    \t@LazyCollection(LazyCollectionOption.TRUE)\r\n    \tpublic List&lt;TipoUsuario&gt; getTipoUsuarios() {\r\n    \t\treturn this.tipoUsuarios;\r\n    \t}\r\n    \r\n    \tpublic void setTipoUsuarios(List&lt;TipoUsuario&gt; tipoUsuarios) {\r\n    \t\tthis.tipoUsuarios = tipoUsuarios;\r\n    \t}\r\n    \r\n    \t@ManyToMany(cascade=CascadeType.ALL)\r\n    \t@JoinTable(name = &quot;autorizacoes_usuario&quot;, joinColumns = { @JoinColumn(name = &quot;fk_usuario&quot;) }, inverseJoinColumns = { @JoinColumn(name = &quot;fk_autorizacoes&quot;) })\r\n    \t@LazyCollection(LazyCollectionOption.TRUE)\r\n    \tpublic List&lt;AutorizacoesUsuario&gt; getAutorizacoes() {\r\n    \t\treturn this.autorizacoes;\r\n    \t}\r\n    \r\n    \tpublic void setAutorizacoes(List&lt;AutorizacoesUsuario&gt; autorizacoes) {\r\n    \t\tthis.autorizacoes = autorizacoes;\r\n    \t}\r\n    \r\n    \t@ManyToMany(cascade=CascadeType.ALL)\r\n    \t@JoinTable(name = &quot;dados_usuario&quot;, joinColumns = { @JoinColumn(name = &quot;fk_usuario&quot;) }, inverseJoinColumns = { @JoinColumn(name = &quot;fk_dados&quot;) })\r\n    \t@LazyCollection(LazyCollectionOption.TRUE)\r\n    \tpublic List&lt;DadosUsuario&gt; getDadosUsuarios() {\r\n    \t\treturn this.dadosUsuarios;\r\n    \t}\r\n    \r\n    \tpublic void setDadosUsuarios(List&lt;DadosUsuario&gt; dadosUsuarios) {\r\n    \t\tthis.dadosUsuarios = dadosUsuarios;\r\n    \t}\r\n    \r\n    \t@OneToOne\r\n    \t@JoinColumn(name=&quot;fk_config&quot;)\r\n    \tpublic ConfigHorarioLivre getConfig() {\r\n    \t\treturn config;\r\n    \t}\r\n    \r\n    \tpublic void setConfig(ConfigHorarioLivre config) {\r\n    \t\tthis.config = config;\r\n    \t}\r\n    }\r\n\r\n**AutorizacoesUsuario.java**\r\n\r\n    @Entity\r\n    @Table(name = &quot;autorizacoes_usuario&quot;, uniqueConstraints = @UniqueConstraint(columnNames = &quot;id&quot;))\r\n    public class AutorizacoesUsuario implements java.io.Serializable {\r\n    \r\n    \tprivate int id;\r\n    \tprivate Usuario usuario;\r\n    \tprivate Autorizacoes autorizacoes;\r\n    \r\n    \tpublic AutorizacoesUsuario() {\r\n    \t}\r\n    \r\n    \tpublic AutorizacoesUsuario(Usuario usuario, Autorizacoes autorizacoes) {\r\n    \t\tthis.usuario = usuario;\r\n    \t\tthis.autorizacoes = autorizacoes;\r\n    \t}\r\n    \r\n    \t@Id\r\n    \t@Column(name = &quot;id&quot;, unique = true, nullable = false)\r\n    \t@GeneratedValue(strategy=GenerationType.AUTO)\r\n    \tpublic int getId() {\r\n    \t\treturn this.id;\r\n    \t}\r\n    \r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \t@OneToOne\r\n    \t@JoinColumn(name = &quot;fk_usuario&quot;, nullable = false, insertable = false, updatable = false)\r\n    \tpublic Usuario getUsuario() {\r\n    \t\treturn this.usuario;\r\n    \t}\r\n    \r\n    \tpublic void setUsuario(Usuario usuario) {\r\n    \t\tthis.usuario = usuario;\r\n    \t}\r\n    \r\n    \t@OneToOne\r\n    \t@JoinColumn(name = &quot;fk_autorizacoes&quot;, nullable = false, insertable = false, updatable = false)\r\n    \tpublic Autorizacoes getAutorizacoes() {\r\n    \t\treturn this.autorizacoes;\r\n    \t}\r\n    \r\n    \tpublic void setAutorizacoes(Autorizacoes autorizacoes) {\r\n    \t\tthis.autorizacoes = autorizacoes;\r\n    \t}\r\n    \r\n    }\r\n\r\n**Autorizacoes.java**\r\n\r\n    @Entity\r\n    @Table(name = &quot;autorizacoes&quot;)\r\n    public class Autorizacoes implements java.io.Serializable {\r\n    \r\n    \tprivate int id;\r\n    \tprivate String nome;\r\n    \tprivate String descricao;\r\n    \r\n    \tpublic Autorizacoes() {\r\n    \t}\r\n    \r\n    \tpublic Autorizacoes(String nome) {\r\n    \t\tthis.nome = nome;\r\n    \t}\r\n    \r\n    \tpublic Autorizacoes(String nome, String descricao) {\r\n    \t\tthis.nome = nome;\r\n    \t\tthis.descricao = descricao;\r\n    \t}\r\n    \r\n    \t@Id\r\n    \t@Column(name = &quot;id&quot;, unique = true, nullable = false)\r\n    \t@GeneratedValue(strategy=GenerationType.AUTO)\r\n    \tpublic int getId() {\r\n    \t\treturn this.id;\r\n    \t}\r\n    \r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;nome&quot;, nullable = false, length = 16)\r\n    \tpublic String getNome() {\r\n    \t\treturn this.nome;\r\n    \t}\r\n    \r\n    \tpublic void setNome(String nome) {\r\n    \t\tthis.nome = nome;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;descricao&quot;, length = 140)\r\n    \tpublic String getDescricao() {\r\n    \t\treturn this.descricao;\r\n    \t}\r\n    \r\n    \tpublic void setDescricao(String descricao) {\r\n    \t\tthis.descricao = descricao;\r\n    \t}\r\n    }\r\n\r\n**Full project available on github**\r\n\r\n--&gt; https://github.com/klebermo/webapp_horario_livre","title":"How to fix Hibernate LazyInitializationException: failed to lazily initialize a collection of roles, could not initialize proxy - no Session","body":"<p>In the custom AuthenticationProvider from my spring project, I am trying read the list of authorities of the logged user, but I am facing the following error:</p>\n\n<pre><code>org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.horariolivre.entity.Usuario.autorizacoes, could not initialize proxy - no Session\n    at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:566)\n    at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:186)\n    at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:545)\n    at org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:124)\n    at org.hibernate.collection.internal.PersistentBag.iterator(PersistentBag.java:266)\n    at com.horariolivre.security.CustomAuthenticationProvider.authenticate(CustomAuthenticationProvider.java:45)\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:156)\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:177)\n    at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:94)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:211)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:57)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:50)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1023)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:744)\n</code></pre>\n\n<p>Reading other topics from here in StackOverflow, I understand this happens due the way this type of atribute is handled by the framework, but i can't figure out any solution for my case. Someone can point what i am doing wrong and what I can do to fix it?</p>\n\n<p>The code of my Custom AuthenticationProvider is:</p>\n\n<pre><code>@Component\npublic class CustomAuthenticationProvider implements AuthenticationProvider {\n\n    @Autowired\n    private UsuarioHome usuario;\n\n    public CustomAuthenticationProvider() {\n        super();\n    }\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        System.out.println(\"CustomAuthenticationProvider.authenticate\");\n\n        String username = authentication.getName();\n        String password = authentication.getCredentials().toString();\n\n        Usuario user = usuario.findByUsername(username);\n\n        if (user != null) {\n            if(user.getSenha().equals(password)) {\n                List&lt;AutorizacoesUsuario&gt; list = user.getAutorizacoes();\n\n                List &lt;String&gt; rolesAsList = new ArrayList&lt;String&gt;();\n                for(AutorizacoesUsuario role : list){\n                    rolesAsList.add(role.getAutorizacoes().getNome());\n                }\n\n                List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;GrantedAuthority&gt;();\n                for (String role_name : rolesAsList) {\n                    authorities.add(new SimpleGrantedAuthority(role_name));\n                }\n\n                Authentication auth = new UsernamePasswordAuthenticationToken(username, password, authorities);\n                return auth;\n            }\n            else {\n                return null;\n            }\n        } else {\n            return null;\n        }\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return authentication.equals(UsernamePasswordAuthenticationToken.class);\n    }\n\n}\n</code></pre>\n\n<p>My Entity classes are:</p>\n\n<p><strong>UsuarioHome.java</strong></p>\n\n<pre><code>@Entity\n@Table(name = \"usuario\")\npublic class Usuario implements java.io.Serializable {\n\n    private int id;\n    private String login;\n    private String senha;\n    private String primeiroNome;\n    private String ultimoNome;\n    private List&lt;TipoUsuario&gt; tipoUsuarios = new ArrayList&lt;TipoUsuario&gt;();\n    private List&lt;AutorizacoesUsuario&gt; autorizacoes = new ArrayList&lt;AutorizacoesUsuario&gt;();\n    private List&lt;DadosUsuario&gt; dadosUsuarios = new ArrayList&lt;DadosUsuario&gt;();\n    private ConfigHorarioLivre config;\n\n    public Usuario() {\n    }\n\n    public Usuario(String login, String senha) {\n        this.login = login;\n        this.senha = senha;\n    }\n\n    public Usuario(String login, String senha, String primeiroNome, String ultimoNome, List&lt;TipoUsuario&gt; tipoUsuarios, List&lt;AutorizacoesUsuario&gt; autorizacoesUsuarios, List&lt;DadosUsuario&gt; dadosUsuarios, ConfigHorarioLivre config) {\n        this.login = login;\n        this.senha = senha;\n        this.primeiroNome = primeiroNome;\n        this.ultimoNome = ultimoNome;\n        this.tipoUsuarios = tipoUsuarios;\n        this.autorizacoes = autorizacoesUsuarios;\n        this.dadosUsuarios = dadosUsuarios;\n        this.config = config;\n    }\n\n    public Usuario(String login, String senha, String primeiroNome, String ultimoNome, String tipoUsuario, String[] campos) {\n        this.login = login;\n        this.senha = senha;\n        this.primeiroNome = primeiroNome;\n        this.ultimoNome = ultimoNome;\n        this.tipoUsuarios.add(new TipoUsuario(this, new Tipo(tipoUsuario)));\n        for(int i=0; i&lt;campos.length; i++)\n            this.dadosUsuarios.add(new DadosUsuario(this, null, campos[i]));\n    }\n\n    @Id\n    @Column(name = \"id\", unique = true, nullable = false)\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    public int getId() {\n        return this.id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    @Column(name = \"login\", nullable = false, length = 16)\n    public String getLogin() {\n        return this.login;\n    }\n\n    public void setLogin(String login) {\n        this.login = login;\n    }\n\n    @Column(name = \"senha\", nullable = false)\n    public String getSenha() {\n        return this.senha;\n    }\n\n    public void setSenha(String senha) {\n        this.senha = senha;\n    }\n\n    @Column(name = \"primeiro_nome\", length = 32)\n    public String getPrimeiroNome() {\n        return this.primeiroNome;\n    }\n\n    public void setPrimeiroNome(String primeiroNome) {\n        this.primeiroNome = primeiroNome;\n    }\n\n    @Column(name = \"ultimo_nome\", length = 32)\n    public String getUltimoNome() {\n        return this.ultimoNome;\n    }\n\n    public void setUltimoNome(String ultimoNome) {\n        this.ultimoNome = ultimoNome;\n    }\n\n    @ManyToMany(cascade=CascadeType.ALL)\n    @JoinTable(name = \"tipo_usuario\", joinColumns = { @JoinColumn(name = \"fk_usuario\") }, inverseJoinColumns = { @JoinColumn(name = \"fk_tipo\") })\n    @LazyCollection(LazyCollectionOption.TRUE)\n    public List&lt;TipoUsuario&gt; getTipoUsuarios() {\n        return this.tipoUsuarios;\n    }\n\n    public void setTipoUsuarios(List&lt;TipoUsuario&gt; tipoUsuarios) {\n        this.tipoUsuarios = tipoUsuarios;\n    }\n\n    @ManyToMany(cascade=CascadeType.ALL)\n    @JoinTable(name = \"autorizacoes_usuario\", joinColumns = { @JoinColumn(name = \"fk_usuario\") }, inverseJoinColumns = { @JoinColumn(name = \"fk_autorizacoes\") })\n    @LazyCollection(LazyCollectionOption.TRUE)\n    public List&lt;AutorizacoesUsuario&gt; getAutorizacoes() {\n        return this.autorizacoes;\n    }\n\n    public void setAutorizacoes(List&lt;AutorizacoesUsuario&gt; autorizacoes) {\n        this.autorizacoes = autorizacoes;\n    }\n\n    @ManyToMany(cascade=CascadeType.ALL)\n    @JoinTable(name = \"dados_usuario\", joinColumns = { @JoinColumn(name = \"fk_usuario\") }, inverseJoinColumns = { @JoinColumn(name = \"fk_dados\") })\n    @LazyCollection(LazyCollectionOption.TRUE)\n    public List&lt;DadosUsuario&gt; getDadosUsuarios() {\n        return this.dadosUsuarios;\n    }\n\n    public void setDadosUsuarios(List&lt;DadosUsuario&gt; dadosUsuarios) {\n        this.dadosUsuarios = dadosUsuarios;\n    }\n\n    @OneToOne\n    @JoinColumn(name=\"fk_config\")\n    public ConfigHorarioLivre getConfig() {\n        return config;\n    }\n\n    public void setConfig(ConfigHorarioLivre config) {\n        this.config = config;\n    }\n}\n</code></pre>\n\n<p><strong>AutorizacoesUsuario.java</strong></p>\n\n<pre><code>@Entity\n@Table(name = \"autorizacoes_usuario\", uniqueConstraints = @UniqueConstraint(columnNames = \"id\"))\npublic class AutorizacoesUsuario implements java.io.Serializable {\n\n    private int id;\n    private Usuario usuario;\n    private Autorizacoes autorizacoes;\n\n    public AutorizacoesUsuario() {\n    }\n\n    public AutorizacoesUsuario(Usuario usuario, Autorizacoes autorizacoes) {\n        this.usuario = usuario;\n        this.autorizacoes = autorizacoes;\n    }\n\n    @Id\n    @Column(name = \"id\", unique = true, nullable = false)\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    public int getId() {\n        return this.id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    @OneToOne\n    @JoinColumn(name = \"fk_usuario\", nullable = false, insertable = false, updatable = false)\n    public Usuario getUsuario() {\n        return this.usuario;\n    }\n\n    public void setUsuario(Usuario usuario) {\n        this.usuario = usuario;\n    }\n\n    @OneToOne\n    @JoinColumn(name = \"fk_autorizacoes\", nullable = false, insertable = false, updatable = false)\n    public Autorizacoes getAutorizacoes() {\n        return this.autorizacoes;\n    }\n\n    public void setAutorizacoes(Autorizacoes autorizacoes) {\n        this.autorizacoes = autorizacoes;\n    }\n\n}\n</code></pre>\n\n<p><strong>Autorizacoes.java</strong></p>\n\n<pre><code>@Entity\n@Table(name = \"autorizacoes\")\npublic class Autorizacoes implements java.io.Serializable {\n\n    private int id;\n    private String nome;\n    private String descricao;\n\n    public Autorizacoes() {\n    }\n\n    public Autorizacoes(String nome) {\n        this.nome = nome;\n    }\n\n    public Autorizacoes(String nome, String descricao) {\n        this.nome = nome;\n        this.descricao = descricao;\n    }\n\n    @Id\n    @Column(name = \"id\", unique = true, nullable = false)\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    public int getId() {\n        return this.id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    @Column(name = \"nome\", nullable = false, length = 16)\n    public String getNome() {\n        return this.nome;\n    }\n\n    public void setNome(String nome) {\n        this.nome = nome;\n    }\n\n    @Column(name = \"descricao\", length = 140)\n    public String getDescricao() {\n        return this.descricao;\n    }\n\n    public void setDescricao(String descricao) {\n        this.descricao = descricao;\n    }\n}\n</code></pre>\n\n<p><strong>Full project available on github</strong></p>\n\n<p>--> <a href=\"https://github.com/klebermo/webapp_horario_livre\" rel=\"noreferrer\">https://github.com/klebermo/webapp_horario_livre</a></p>\n"},{"tags":["java","spring","spring-boot","junit","completable-future"],"comments":[{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1669549834,"post_id":74589484,"comment_id":131662076,"body_markdown":"An answer provided, if it suits you requirement please consider to upvote and accept it, otherwise feel free to leave comment, i will gladly try to help you.","body":"An answer provided, if it suits you requirement please consider to upvote and accept it, otherwise feel free to leave comment, i will gladly try to help you."},{"owner":{"account_id":15290127,"reputation":29,"user_id":11031894,"display_name":"sk001"},"score":0,"creation_date":1669552156,"post_id":74589484,"comment_id":131662464,"body_markdown":"Thanks for the suggestion @Lunatic . But i am getting future1 and future2 as null . Please suggest how to deal with this.","body":"Thanks for the suggestion @Lunatic . But i am getting future1 and future2 as null . Please suggest how to deal with this."},{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1669559498,"post_id":74589484,"comment_id":131663781,"body_markdown":"Its a little bit unclear what is the main intention, you would like to mock two CompletableFuture, why mocking then? but the way that you create a new CompletableFuture and used &#39;.allOf().join()&#39; is going to complete once the appended CompletableFuture completes, and since they are not completed the main &#39;CompletableFuture.allOf(future1,future2).join()&#39; wont be completed so.","body":"Its a little bit unclear what is the main intention, you would like to mock two CompletableFuture, why mocking then? but the way that you create a new CompletableFuture and used &#39;.allOf().join()&#39; is going to complete once the appended CompletableFuture completes, and since they are not completed the main &#39;CompletableFuture.allOf(future1,future2).join()&#39; wont be completed so."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1669562325,"post_id":74589484,"comment_id":131664371,"body_markdown":"What is your `completedFuture`? Anyway, I would advise against mocking `CompletableFuture` because [you don’t own it](https://stackoverflow.com/questions/1906344/should-you-only-mock-types-you-own). Instead, use the real thing and mock the types that return it. Also consider using Spring `@Async` to avoid working directly with `Executor`.","body":"What is your <code>completedFuture</code>? Anyway, I would advise against mocking <code>CompletableFuture</code> because <a href=\"https://stackoverflow.com/questions/1906344/should-you-only-mock-types-you-own\">you don’t own it</a>. Instead, use the real thing and mock the types that return it. Also consider using Spring <code>@Async</code> to avoid working directly with <code>Executor</code>."},{"owner":{"account_id":15290127,"reputation":29,"user_id":11031894,"display_name":"sk001"},"score":0,"creation_date":1669793408,"post_id":74589484,"comment_id":131721172,"body_markdown":"i am getting both futures as null in the allOf() method. Also, I have mocked the Executor so i guess that&#39;s the reason for the test not working","body":"i am getting both futures as null in the allOf() method. Also, I have mocked the Executor so i guess that&#39;s the reason for the test not working"},{"owner":{"account_id":10937199,"reputation":53,"user_id":8038484,"accept_rate":0,"display_name":"Shubhangi Gupta"},"score":0,"creation_date":1701362138,"post_id":74589484,"comment_id":136768843,"body_markdown":"Did you find a solution for this?","body":"Did you find a solution for this?"}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669549779,"creation_date":1669549779,"answer_id":74589762,"question_id":74589484,"body_markdown":"You asked \r\n\r\n&gt; The test stucks infinitely on CompletableFuture.allOf(future1,future2).join()\r\n\r\nThe mentioned [future][1] never get completed, i.e\r\n\r\n    CompletableFuture.allOf(future1,future2).join();\r\n\r\nActually `CompletableFuture.allOf()` returns a new `CompletableFuture` and is going to be  completed when all of the given CompletableFutures completed and you mocked the futures in the which it seems the child futures wont complete, this result the experienced behavior.\r\n\r\n\r\nPlease also respect language model standards like naming [convention][2] of methods etc.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\r\n  [2]: https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html","title":"Junit Test stucks infinitely on CompletableFuture.allof().join","body":"<p>You asked</p>\n<blockquote>\n<p>The test stucks infinitely on CompletableFuture.allOf(future1,future2).join()</p>\n</blockquote>\n<p>The mentioned <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\">future</a> never get completed, i.e</p>\n<pre><code>CompletableFuture.allOf(future1,future2).join();\n</code></pre>\n<p>Actually <code>CompletableFuture.allOf()</code> returns a new <code>CompletableFuture</code> and is going to be  completed when all of the given CompletableFutures completed and you mocked the futures in the which it seems the child futures wont complete, this result the experienced behavior.</p>\n<p>Please also respect language model standards like naming <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">convention</a> of methods etc.</p>\n"}],"owner":{"account_id":15290127,"reputation":29,"user_id":11031894,"display_name":"sk001"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701361002,"creation_date":1669547205,"question_id":74589484,"body_markdown":"I am writing Junit test for a Class in which CompletableFuture is implemented. I am trying to mock this piece of code but the test gets stuck infinitely on `CompletableFuture.allOf(future1,future2).join();`\r\n\r\nThe class on which I am writing junit:\r\n\r\n    class Sample{\r\n      @Autowired\r\n      Executor executor;\r\n    \r\n      /* \r\n      piece of code\r\n      */\r\n      void SampleMethod(request){\r\n    \r\n        /*\r\n        some piece of code\r\n        */\r\n        CompletableFuture&lt;Obj1&gt; future1 = CompletableFuture.SupplyAsync(\r\n          (Supplier&lt;Obj1&gt;) () -&gt; {\r\n          return someClass.someMethod;\r\n        },executor);\r\n\r\n        CompletableFuture&lt;Obj2&gt; future2 = CompletableFuture.SupplyAsync(\r\n          (Supplier&lt;Obj1&gt;) () -&gt; {\r\n          return someClass.someMethod;\r\n        },executor);\r\n\r\n        CompletableFuture.allOf(future1,future2).join();\r\n\r\n    }\r\n\r\nMy junit class looks like this:\r\n\r\n    class TestSample{\r\n    @Mock\r\n    Executor executor;\r\n    \r\n    @Test \r\n    void testSampleMethod(){\r\n    \r\n    MockedStatic&lt;CompletableFuture&gt; mock1 = Mockito.mockedStatic(CompletableFuture.class);\r\n    mock.when(()-&gt;CompletableFuture.supplyAsync(any(),any())).thenReturn(completedFuture);\r\n    }\r\n    }\r\n\r\nI am new to junit. How to write junit for this?\r\n \r\n\r\n\r\n\r\n\r\n\r\n","title":"Junit Test stucks infinitely on CompletableFuture.allof().join","body":"<p>I am writing Junit test for a Class in which CompletableFuture is implemented. I am trying to mock this piece of code but the test gets stuck infinitely on <code>CompletableFuture.allOf(future1,future2).join();</code></p>\n<p>The class on which I am writing junit:</p>\n<pre><code>class Sample{\n  @Autowired\n  Executor executor;\n\n  /* \n  piece of code\n  */\n  void SampleMethod(request){\n\n    /*\n    some piece of code\n    */\n    CompletableFuture&lt;Obj1&gt; future1 = CompletableFuture.SupplyAsync(\n      (Supplier&lt;Obj1&gt;) () -&gt; {\n      return someClass.someMethod;\n    },executor);\n\n    CompletableFuture&lt;Obj2&gt; future2 = CompletableFuture.SupplyAsync(\n      (Supplier&lt;Obj1&gt;) () -&gt; {\n      return someClass.someMethod;\n    },executor);\n\n    CompletableFuture.allOf(future1,future2).join();\n\n}\n</code></pre>\n<p>My junit class looks like this:</p>\n<pre><code>class TestSample{\n@Mock\nExecutor executor;\n\n@Test \nvoid testSampleMethod(){\n\nMockedStatic&lt;CompletableFuture&gt; mock1 = Mockito.mockedStatic(CompletableFuture.class);\nmock.when(()-&gt;CompletableFuture.supplyAsync(any(),any())).thenReturn(completedFuture);\n}\n}\n</code></pre>\n<p>I am new to junit. How to write junit for this?</p>\n"},{"tags":["java","git","maven","jenkins"],"answers":[{"tags":[],"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701360533,"creation_date":1701360158,"answer_id":77579889,"question_id":77579673,"body_markdown":"I had left a SSH URL instead of HTTPS, so it was supposed to be :\r\n\r\n```xml\r\n&lt;developerConnection&gt;scm:git:https://gitlab.some.domain/path/to/repo.git&lt;/developerConnection&gt;\r\n```","title":"How can I use the maven release plugin with a user that has @ in it?","body":"<p>I had left a SSH URL instead of HTTPS, so it was supposed to be :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;developerConnection&gt;scm:git:https://gitlab.some.domain/path/to/repo.git&lt;/developerConnection&gt;\n</code></pre>\n"}],"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701360533,"creation_date":1701358213,"question_id":77579673,"body_markdown":"I&#39;m using Jenkins together with the release maven plugin.\r\n\r\nMy Jenkins job is a &quot;maven&quot; kind of job and is configured to :\r\n\r\n 1. git-clone the project with an identifier user@domain and access token\r\n 2. launch the following goals with Maven 3.8.3 :\r\n\r\n    -B -X release:clean release:prepare release:perform\r\n\r\nBelow is the maven release plugin configuration:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.0.1&lt;/version&gt;\r\n  &lt;configuration&gt;\r\n    &lt;arguments&gt;${arguments}&lt;/arguments&gt;\r\n\t&lt;tagNameFormat&gt;@{project.version}&lt;/tagNameFormat&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nBelow is the section of the pom related to git repo:\r\n\r\n```xml\r\n&lt;properties&gt;\r\n\t&lt;java.version&gt;8&lt;/java.version&gt;\r\n\t&lt;project.scm.id&gt;gitlab&lt;/project.scm.id&gt;\r\n&lt;/properties&gt;\r\n&lt;scm&gt;\r\n\t&lt;connection&gt;scm:git:https://gitlab.some.domain/path/to/repo.git&lt;/connection&gt;\r\n\t&lt;developerConnection&gt;scm:git:ssh://git@gitlab.some.domain/path/to/repo.git&lt;/developerConnection&gt;\r\n\t&lt;url&gt;https://gitlab.some.domain/path/to/repo&lt;/url&gt;\r\n\t&lt;tag&gt;HEAD&lt;/tag&gt;\r\n&lt;/scm&gt;\r\n```\r\n\r\nHere&#39;s the user settings file:\r\n\r\n```xml\r\n&lt;settings&gt;\r\n  &lt;servers&gt;\r\n    &lt;server&gt;\r\n      &lt;id&gt;gitlab&lt;/id&gt;\r\n      &lt;username&gt;user@domain&lt;/username&gt;\r\n      &lt;password&gt;access token&lt;/password&gt;\r\n    &lt;/server&gt;\r\n  &lt;/servers&gt;\r\n&lt;/settings&gt;\r\n```\r\n\r\nWhen running the Jenkins job, the git clone part is fine. It uses the access token credentials provided in Jenkins setup : user@domain/**** (access token).\r\n\r\nWhen it comes to the maven release plugin git-push operation, I receive an error while using the user settings file provided above:\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-release-plugin:3.0.1:prepare (default-cli) on project xxx: Unable to commit files\r\n    [ERROR] Provider message:\r\n    [ERROR] The git-push command failed.\r\n    [ERROR] Command output:\r\n    [ERROR] Permission denied, please try again.\r\n    [ERROR] Permission denied, please try again.\r\n    [ERROR] Received disconnect from 12.345.678.901 port 22:2:********@domain\r\n    [ERROR] Authentication failed.\r\n    [ERROR] fatal: Could not read from remote repository.\r\n    [ERROR] \r\n    [ERROR] Please make sure you have the correct access rights\r\n    [ERROR] and the repository exists.\r\n    [ERROR] -&gt; [Help 1]\r\n\r\nCould this be due to the character @ in the user name ?\r\n\r\n\r\n","title":"How can I use the maven release plugin with a user that has @ in it?","body":"<p>I'm using Jenkins together with the release maven plugin.</p>\n<p>My Jenkins job is a &quot;maven&quot; kind of job and is configured to :</p>\n<ol>\n<li><p>git-clone the project with an identifier user@domain and access token</p>\n</li>\n<li><p>launch the following goals with Maven 3.8.3 :</p>\n<p>-B -X release:clean release:prepare release:perform</p>\n</li>\n</ol>\n<p>Below is the maven release plugin configuration:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.0.1&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;arguments&gt;${arguments}&lt;/arguments&gt;\n    &lt;tagNameFormat&gt;@{project.version}&lt;/tagNameFormat&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Below is the section of the pom related to git repo:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;java.version&gt;8&lt;/java.version&gt;\n    &lt;project.scm.id&gt;gitlab&lt;/project.scm.id&gt;\n&lt;/properties&gt;\n&lt;scm&gt;\n    &lt;connection&gt;scm:git:https://gitlab.some.domain/path/to/repo.git&lt;/connection&gt;\n    &lt;developerConnection&gt;scm:git:ssh://git@gitlab.some.domain/path/to/repo.git&lt;/developerConnection&gt;\n    &lt;url&gt;https://gitlab.some.domain/path/to/repo&lt;/url&gt;\n    &lt;tag&gt;HEAD&lt;/tag&gt;\n&lt;/scm&gt;\n</code></pre>\n<p>Here's the user settings file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;settings&gt;\n  &lt;servers&gt;\n    &lt;server&gt;\n      &lt;id&gt;gitlab&lt;/id&gt;\n      &lt;username&gt;user@domain&lt;/username&gt;\n      &lt;password&gt;access token&lt;/password&gt;\n    &lt;/server&gt;\n  &lt;/servers&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>When running the Jenkins job, the git clone part is fine. It uses the access token credentials provided in Jenkins setup : user@domain/**** (access token).</p>\n<p>When it comes to the maven release plugin git-push operation, I receive an error while using the user settings file provided above:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-release-plugin:3.0.1:prepare (default-cli) on project xxx: Unable to commit files\n[ERROR] Provider message:\n[ERROR] The git-push command failed.\n[ERROR] Command output:\n[ERROR] Permission denied, please try again.\n[ERROR] Permission denied, please try again.\n[ERROR] Received disconnect from 12.345.678.901 port 22:2:********@domain\n[ERROR] Authentication failed.\n[ERROR] fatal: Could not read from remote repository.\n[ERROR] \n[ERROR] Please make sure you have the correct access rights\n[ERROR] and the repository exists.\n[ERROR] -&gt; [Help 1]\n</code></pre>\n<p>Could this be due to the character @ in the user name ?</p>\n"},{"tags":["java","println"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":2,"creation_date":1701352025,"post_id":77578904,"comment_id":136766738,"body_markdown":"For the first one, did you mean `System.out.printf(&quot;%d&quot;, myRank);` ?","body":"For the first one, did you mean <code>System.out.printf(&quot;%d&quot;, myRank);</code> ?"},{"owner":{"account_id":56319,"reputation":32862,"user_id":168703,"accept_rate":89,"display_name":"JonH"},"score":1,"creation_date":1701352043,"post_id":77578904,"comment_id":136766742,"body_markdown":"For single variables like that sure it doesnt make much sense, but start introducing multiple variables that need to be concatenated and you will see it helps, especially with readability.","body":"For single variables like that sure it doesnt make much sense, but start introducing multiple variables that need to be concatenated and you will see it helps, especially with readability."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701353381,"post_id":77578904,"comment_id":136767026,"body_markdown":"Bad habit of C programmers, as in C, you can’t write `println(nonStringVariable);`","body":"Bad habit of C programmers, as in C, you can’t write <code>println(nonStringVariable);</code>"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1701353664,"post_id":77578904,"comment_id":136767093,"body_markdown":"@DogTheDogDog Could you update the question with the correct code snippets? As already noted by several users, the former will not compile. If you mean to use `printf`, then it won&#39;t print an additional newline at the end. So that would be the same as using just `print`, instead of `println`.","body":"@DogTheDogDog Could you update the question with the correct code snippets? As already noted by several users, the former will not compile. If you mean to use <code>printf</code>, then it won&#39;t print an additional newline at the end. So that would be the same as using just <code>print</code>, instead of <code>println</code>."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":2,"creation_date":1701354254,"post_id":77578904,"comment_id":136767208,"body_markdown":"why don&#39;t you ask your professor? Isn&#39;t he being paid to teach you?","body":"why don&#39;t you ask your professor? Isn&#39;t he being paid to teach you?"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299828,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701352386,"creation_date":1701352386,"answer_id":77579007,"question_id":77578904,"body_markdown":"I&#39;m assuming that you meant to use [`printf`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/PrintStream.html#printf(java.lang.String,java.lang.Object...)/) in the first snippet and not `println`, because otherwise it just won&#39;t compile.\r\n\r\nAssuming that you did, the first snippet really isn&#39;t very useful, as you noted. The main point of format strings is to be able to easily interleve variables in to them:\r\n\r\n```\r\nString dayName = &quot;Friday&quot;;\r\nint day = 13;\r\nSystem.out.printf(&quot;Today is %s the %dth&quot;, dayName, day);\r\n```","title":"Why would you use &#39;&quot;%d&quot;, variable&#39; when you can simply type the variable name?","body":"<p>I'm assuming that you meant to use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/PrintStream.html#printf(java.lang.String,java.lang.Object...)/\" rel=\"nofollow noreferrer\"><code>printf</code></a> in the first snippet and not <code>println</code>, because otherwise it just won't compile.</p>\n<p>Assuming that you did, the first snippet really isn't very useful, as you noted. The main point of format strings is to be able to easily interleve variables in to them:</p>\n<pre><code>String dayName = &quot;Friday&quot;;\nint day = 13;\nSystem.out.printf(&quot;Today is %s the %dth&quot;, dayName, day);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5654135,"reputation":3774,"user_id":4473822,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701352503,"creation_date":1701352503,"answer_id":77579019,"question_id":77578904,"body_markdown":"First of all, `System.out.println(&quot;%d&quot;, myRank);` will not compile.\r\n\r\nYou can use `System.out.printf` or `String.format(...)` inside `printf`\r\n\r\nFor a single argument, as you mentioned, it does not make much sense. The value of `String.format` (or `printf`) can be seen when you have string concatenation and it makes the code more readable and easier to maintain.\r\n\r\nFor example, you can print the following message:\r\n```\r\nSystem.out.printf(&quot;my rank is %d, which is nice. and my friend&#39;s rank is %d. which is lower than mine&quot;, myRank, friendRank);\r\n```\r\n\r\nInstead of:\r\n```\r\nSystem.out.printf(&quot;my rank is &quot; + myRank + &quot;, which is nice. and my friend&#39;s rank is &quot; + friendRank + &quot;. which is lower than mine&quot;);\r\n```","title":"Why would you use &#39;&quot;%d&quot;, variable&#39; when you can simply type the variable name?","body":"<p>First of all, <code>System.out.println(&quot;%d&quot;, myRank);</code> will not compile.</p>\n<p>You can use <code>System.out.printf</code> or <code>String.format(...)</code> inside <code>printf</code></p>\n<p>For a single argument, as you mentioned, it does not make much sense. The value of <code>String.format</code> (or <code>printf</code>) can be seen when you have string concatenation and it makes the code more readable and easier to maintain.</p>\n<p>For example, you can print the following message:</p>\n<pre><code>System.out.printf(&quot;my rank is %d, which is nice. and my friend's rank is %d. which is lower than mine&quot;, myRank, friendRank);\n</code></pre>\n<p>Instead of:</p>\n<pre><code>System.out.printf(&quot;my rank is &quot; + myRank + &quot;, which is nice. and my friend's rank is &quot; + friendRank + &quot;. which is lower than mine&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701360460,"creation_date":1701360460,"answer_id":77579921,"question_id":77578904,"body_markdown":"Consistency with the present __and__ consistency with the future.\r\n\r\nWhether you _agree_ that it is wise to do this, is one of those endless &#39;opinions about the right way to write code&#39; debates. In the end, writing code is a craft - and thus, opinions differ on how what excellence in the craft looks like (So, yes, &#39;software engineer&#39; as a term is very badly incorrect, instead &#39;software artisan&#39; is a lot closer to how software development is actually done. One can lament that or celebrate it - that&#39;s beyond this question and probably beyond what SO is for. I&#39;m merely stating how things _are_, not how they should be).\r\n\r\nBut first...\r\n\r\n## Why `printf` over `println` at all?\r\n\r\nThere are a number of reasons to use `printf` over `println`. The obvious one, is that you want the output string to be a template, i.e. whenever it gets more complex than literally `&quot;%d&quot;` or `&quot;%f&quot;`, i.e. you end up with `(&quot;Hello, %s, welcome to %s! There are %d before you in line&quot;, userName, serverName, queueSize)`, it&#39;s obvious `printf` is superior in this regard.\r\n\r\nBut it&#39;s not _just_ about that in the present - after all, in your code, that&#39;s simply not at all the case. All that is currently needed is, evidently, `&quot;%d&quot;`.\r\n\r\nA second reason is if you need to format a thing. For example, while `&quot;%d&quot;` and `&quot;%s&quot;` rarely change anything, `&quot;%f&quot;` almost always does: You really should never print a double or float value, you __must__ control the process of converting value (which tends to have small rounding errors in it. For example, 0.1 __does not exist__. Seriously, it doesn&#39;t. For the same reason 1/3 does not exist in decimal (try it, write it down on a piece of paper), 0.1 doesn&#39;t exist as computers count in binary and anything whose divisor doesn&#39;t consist solely of factors of 2, doesn&#39;t exist). You can still print it fine but that&#39;s because `System.out.println` applies a very light bit of rounding. More usually you want better control over this, hence, this:\r\n\r\n```\r\nSystem.out.printf(&quot;%.6f&quot;, someDoubleValue);\r\n```\r\n\r\nis __definitely__ useful, nay, _required_, in contrast to `System.out.print(someDoubleValue)`.\r\n\r\nThe same logic applies to `%20s` for example. But, this, too, does not __currently__ apply to your situation.\r\n\r\n## The future is a moving target\r\n\r\nMost software isn&#39;t released-and-done. This is &#39;weird&#39; - if a carpenter produces a table they tend to sell it and move on to another project. Software isn&#39;t really like that - the vast majority of this is modified almost continuously throughout its lifetime. Hence, __ability to be easily modified__ is an important property of a software project: Projects whose code doesn&#39;t lend itself well to updates, __is bad code__, for the simple reason that it&#39;s going to happen sooner rather than later, and thus, the code that is better &#39;prepared&#39;. It&#39;s like a cupboard you intend to disassemble and move later: Then you should buy a cupboard that is screwed together with good screws, instead of one with screws you&#39;re going to strip during assembly, or, even worse, a cupboard that you have to glue together.\r\n\r\nVirtually __all__ software is like &#39;a cupboard you will have to disassemble a lot&#39; - there is very little market for throwaway software that you build, use, and discard entirely.\r\n\r\n## Craftmanship\r\n\r\nThis gets us to craftmanship: It&#39;s a useful skill to be able to build software. Specifically, in a world where almost everybody wants disassemblable cupboards, it&#39;s not useful to learn the skill of efficiently glueing cupboards together. It&#39;s much more useful to be really good at building screwed-together ones.\r\n\r\nIf learning the craft is really difficult to do, it makes sense to optimize for the useful, common tasks, especially if those serve well enough for alternate, lesser requirements. Hence, good programmers optimize for writing good code, __even if__ there is no foreseeable need for e.g. code that can easily be modified later. For the same reason someone tasked to build a cupboard that will be used and discarded, might still use screws, because they aren&#39;t expensive and they know how to build cupboards that way, so, why not?\r\n\r\n## But.. inefficient!\r\n\r\nLudicrous. You will not be able to measure any performance difference here. It&#39;s a fair argument if the job requires &quot;good performance&quot; based on something specific (just &#39;it needs to perform well&#39; is far too nebulous a requirement), and it&#39;s a fair argument even if the job does not require that now but it is foreseeable that in the future this code will grow some requirements (i.e. needs to be modified), and one of these requirements is &#39;it needs to perform well&#39;.\r\n\r\nBut, any objective measure you care to come up with that is at all related to real life requirements will not disqualify this code for being &#39;too inefficient&#39;, hence, worrying about that is like worrying about an errant pencil mark on a side of wood paneling that will be invisible once a cupboard is built. It&#39;s actively silly to worry about the irrelevant; programming is hard enough without making up rules that neither requirements nor the general need to write good software actually requires you to adhere to.","title":"Why would you use &#39;&quot;%d&quot;, variable&#39; when you can simply type the variable name?","body":"<p>Consistency with the present <strong>and</strong> consistency with the future.</p>\n<p>Whether you <em>agree</em> that it is wise to do this, is one of those endless 'opinions about the right way to write code' debates. In the end, writing code is a craft - and thus, opinions differ on how what excellence in the craft looks like (So, yes, 'software engineer' as a term is very badly incorrect, instead 'software artisan' is a lot closer to how software development is actually done. One can lament that or celebrate it - that's beyond this question and probably beyond what SO is for. I'm merely stating how things <em>are</em>, not how they should be).</p>\n<p>But first...</p>\n<h2>Why <code>printf</code> over <code>println</code> at all?</h2>\n<p>There are a number of reasons to use <code>printf</code> over <code>println</code>. The obvious one, is that you want the output string to be a template, i.e. whenever it gets more complex than literally <code>&quot;%d&quot;</code> or <code>&quot;%f&quot;</code>, i.e. you end up with <code>(&quot;Hello, %s, welcome to %s! There are %d before you in line&quot;, userName, serverName, queueSize)</code>, it's obvious <code>printf</code> is superior in this regard.</p>\n<p>But it's not <em>just</em> about that in the present - after all, in your code, that's simply not at all the case. All that is currently needed is, evidently, <code>&quot;%d&quot;</code>.</p>\n<p>A second reason is if you need to format a thing. For example, while <code>&quot;%d&quot;</code> and <code>&quot;%s&quot;</code> rarely change anything, <code>&quot;%f&quot;</code> almost always does: You really should never print a double or float value, you <strong>must</strong> control the process of converting value (which tends to have small rounding errors in it. For example, 0.1 <strong>does not exist</strong>. Seriously, it doesn't. For the same reason 1/3 does not exist in decimal (try it, write it down on a piece of paper), 0.1 doesn't exist as computers count in binary and anything whose divisor doesn't consist solely of factors of 2, doesn't exist). You can still print it fine but that's because <code>System.out.println</code> applies a very light bit of rounding. More usually you want better control over this, hence, this:</p>\n<pre><code>System.out.printf(&quot;%.6f&quot;, someDoubleValue);\n</code></pre>\n<p>is <strong>definitely</strong> useful, nay, <em>required</em>, in contrast to <code>System.out.print(someDoubleValue)</code>.</p>\n<p>The same logic applies to <code>%20s</code> for example. But, this, too, does not <strong>currently</strong> apply to your situation.</p>\n<h2>The future is a moving target</h2>\n<p>Most software isn't released-and-done. This is 'weird' - if a carpenter produces a table they tend to sell it and move on to another project. Software isn't really like that - the vast majority of this is modified almost continuously throughout its lifetime. Hence, <strong>ability to be easily modified</strong> is an important property of a software project: Projects whose code doesn't lend itself well to updates, <strong>is bad code</strong>, for the simple reason that it's going to happen sooner rather than later, and thus, the code that is better 'prepared'. It's like a cupboard you intend to disassemble and move later: Then you should buy a cupboard that is screwed together with good screws, instead of one with screws you're going to strip during assembly, or, even worse, a cupboard that you have to glue together.</p>\n<p>Virtually <strong>all</strong> software is like 'a cupboard you will have to disassemble a lot' - there is very little market for throwaway software that you build, use, and discard entirely.</p>\n<h2>Craftmanship</h2>\n<p>This gets us to craftmanship: It's a useful skill to be able to build software. Specifically, in a world where almost everybody wants disassemblable cupboards, it's not useful to learn the skill of efficiently glueing cupboards together. It's much more useful to be really good at building screwed-together ones.</p>\n<p>If learning the craft is really difficult to do, it makes sense to optimize for the useful, common tasks, especially if those serve well enough for alternate, lesser requirements. Hence, good programmers optimize for writing good code, <strong>even if</strong> there is no foreseeable need for e.g. code that can easily be modified later. For the same reason someone tasked to build a cupboard that will be used and discarded, might still use screws, because they aren't expensive and they know how to build cupboards that way, so, why not?</p>\n<h2>But.. inefficient!</h2>\n<p>Ludicrous. You will not be able to measure any performance difference here. It's a fair argument if the job requires &quot;good performance&quot; based on something specific (just 'it needs to perform well' is far too nebulous a requirement), and it's a fair argument even if the job does not require that now but it is foreseeable that in the future this code will grow some requirements (i.e. needs to be modified), and one of these requirements is 'it needs to perform well'.</p>\n<p>But, any objective measure you care to come up with that is at all related to real life requirements will not disqualify this code for being 'too inefficient', hence, worrying about that is like worrying about an errant pencil mark on a side of wood paneling that will be invisible once a cupboard is built. It's actively silly to worry about the irrelevant; programming is hard enough without making up rules that neither requirements nor the general need to write good software actually requires you to adhere to.</p>\n"}],"owner":{"account_id":29664029,"reputation":21,"user_id":22735012,"display_name":"DogTheDogDog"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77579019,"answer_count":3,"score":1,"last_activity_date":1701360460,"creation_date":1701351511,"question_id":77578904,"body_markdown":"I was wondering why my professor would type\r\n```\r\nSystem.out.println(&quot;%d&quot;, myRank);\r\n```\r\ninstead of \r\n```\r\nSystem.out.println(myRank);\r\n```\r\nfrom my point of view the latter is inherently more efficient and has the same effect\r\n\r\nI&#39;ve tried both and they perform the same, so I am quite confused as to why the former is used at all","title":"Why would you use &#39;&quot;%d&quot;, variable&#39; when you can simply type the variable name?","body":"<p>I was wondering why my professor would type</p>\n<pre><code>System.out.println(&quot;%d&quot;, myRank);\n</code></pre>\n<p>instead of</p>\n<pre><code>System.out.println(myRank);\n</code></pre>\n<p>from my point of view the latter is inherently more efficient and has the same effect</p>\n<p>I've tried both and they perform the same, so I am quite confused as to why the former is used at all</p>\n"},{"tags":["java","user-interface","netbeans"],"comments":[{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1701360128,"post_id":77579869,"comment_id":136768402,"body_markdown":"&quot;*i didnt try anything, IDK what to do*&quot; -- please at least do basic Google research on the issue before asking, and then use this information to help give your question more focus. Check out the [ask] and [tour] for more information on best practices when using the site.","body":"&quot;<i>i didnt try anything, IDK what to do</i>&quot; -- please at least do basic Google research on the issue before asking, and then use this information to help give your question more focus. Check out the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/tour\">tour</a> for more information on best practices when using the site."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1701360319,"post_id":77579869,"comment_id":136768448,"body_markdown":"Look up use of a `TextFormatter&lt;V&gt;`","body":"Look up use of a <code>TextFormatter&lt;V&gt;</code>"}],"owner":{"account_id":29760222,"reputation":1,"user_id":22808009,"display_name":"Gursand06"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701360060,"answer_count":0,"score":-1,"last_activity_date":1701360302,"creation_date":1701359970,"question_id":77579869,"body_markdown":"i have to make sure that people only input number values in my text field in java fx\r\n\r\ni didnt try anything, IDK what to do. I thought of using a if statment, and saying if [a,b,c,d,e__ goes on] in text field. then i will delete the whold text box, and tell the ","title":"how to make sure nobody puts letters in java textfield(netbeans)","body":"<p>i have to make sure that people only input number values in my text field in java fx</p>\n<p>i didnt try anything, IDK what to do. I thought of using a if statment, and saying if [a,b,c,d,e__ goes on] in text field. then i will delete the whold text box, and tell the</p>\n"},{"tags":["java","processhandle"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1701298183,"post_id":77572590,"comment_id":136759937,"body_markdown":"I think the reason commandLine() returns `Optional&lt;String&gt;` is precisely because some operating systems don’t provide a way to get the full command line for a process.","body":"I think the reason commandLine() returns <code>Optional&lt;String&gt;</code> is precisely because some operating systems don’t provide a way to get the full command line for a process."}],"answers":[{"tags":[],"owner":{"account_id":29803746,"reputation":96,"user_id":22840933,"display_name":"andreypc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701360146,"creation_date":1701336952,"answer_id":77577328,"question_id":77572590,"body_markdown":"\r\nAccording to ProcessHandle.Info&#39;s javadoc this class is implementation and platform specific. It does not garantee the results you expect.\r\n\r\nCheck this out:\r\nhttps://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ProcessHandle.Info.html\r\n\r\nAlso check &#39;API Note&#39; for commandLine() and argument() methods\r\n\r\nIf you&#39;re limited with OS choice you can try other vendors of jdks.\r\n\r\nBtw your code works as expected in linux. I&#39;ve checked it in docker container with Debian 12 and Corretto 11 jdk.\r\n\r\n        root@29598b080453:/# cat &gt;Main.java\r\n        public class Main {\r\n            public static void main(String[] args) {\r\n                System.out.println(ProcessHandle.current().info().commandLine());\r\n            }\r\n        }\r\n\r\n        ^C\r\n        root@29598b080453:/# javac Main.java\r\n        root@29598b080453:/# java Main arg1 arg2\r\n        Optional[/usr/lib/jvm/java-11-amazon-corretto/bin/java Main arg1 arg2]\r\n        root@29598b080453:/#\r\n        root@29598b080453:/#\r\n        root@29598b080453:/# java Main arg1 arg2 &quot;agr3 with spaces&quot;\r\n        Optional[/usr/lib/jvm/java-11-amazon-corretto/bin/java Main arg1 arg2 agr3 with spaces]\r\n\r\nThere are some examples of how $ character may affect command interpretation by shell and commandLine method output accordingly.\r\n\r\n    root@29598b080453:/# export arg2=arg2value\r\n    root@29598b080453:/# java Main arg1 arg2\r\n    Optional[/usr/lib/jvm/java-11-amazon-corretto/bin/java Main arg1 arg2]\r\n    root@29598b080453:/# java Main arg1 &#39;$arg2&#39;\r\n    Optional[/usr/lib/jvm/java-11-amazon-corretto/bin/java Main arg1 $arg2]\r\n    root@29598b080453:/# java Main arg1 &quot;$arg2&quot;\r\n    Optional[/usr/lib/jvm/java-11-amazon-corretto/bin/java Main arg1 arg2value]\r\n    root@29598b080453:/# java Main arg1 &#39;&quot;$arg2&quot;&#39;\r\n    Optional[/usr/lib/jvm/java-11-amazon-corretto/bin/java Main arg1 &quot;$arg2&quot;]\r\n    root@29598b080453:/# java Main arg1 &quot;&#39;$arg2&#39;&quot;\r\n    Optional[/usr/lib/jvm/java-11-amazon-corretto/bin/java Main arg1 &#39;arg2value&#39;]\r\n    root@29598b080453:/#","title":"Java&#39;s ProcessHandle cannot get arguments properly","body":"<p>According to ProcessHandle.Info's javadoc this class is implementation and platform specific. It does not garantee the results you expect.</p>\n<p>Check this out:\n<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ProcessHandle.Info.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ProcessHandle.Info.html</a></p>\n<p>Also check 'API Note' for commandLine() and argument() methods</p>\n<p>If you're limited with OS choice you can try other vendors of jdks.</p>\n<p>Btw your code works as expected in linux. I've checked it in docker container with Debian 12 and Corretto 11 jdk.</p>\n<pre><code>    root@29598b080453:/# cat &gt;Main.java\n    public class Main {\n        public static void main(String[] args) {\n            System.out.println(ProcessHandle.current().info().commandLine());\n        }\n    }\n\n    ^C\n    root@29598b080453:/# javac Main.java\n    root@29598b080453:/# java Main arg1 arg2\n    Optional[/usr/lib/jvm/java-11-amazon-corretto/bin/java Main arg1 arg2]\n    root@29598b080453:/#\n    root@29598b080453:/#\n    root@29598b080453:/# java Main arg1 arg2 &quot;agr3 with spaces&quot;\n    Optional[/usr/lib/jvm/java-11-amazon-corretto/bin/java Main arg1 arg2 agr3 with spaces]\n</code></pre>\n<p>There are some examples of how $ character may affect command interpretation by shell and commandLine method output accordingly.</p>\n<pre><code>root@29598b080453:/# export arg2=arg2value\nroot@29598b080453:/# java Main arg1 arg2\nOptional[/usr/lib/jvm/java-11-amazon-corretto/bin/java Main arg1 arg2]\nroot@29598b080453:/# java Main arg1 '$arg2'\nOptional[/usr/lib/jvm/java-11-amazon-corretto/bin/java Main arg1 $arg2]\nroot@29598b080453:/# java Main arg1 &quot;$arg2&quot;\nOptional[/usr/lib/jvm/java-11-amazon-corretto/bin/java Main arg1 arg2value]\nroot@29598b080453:/# java Main arg1 '&quot;$arg2&quot;'\nOptional[/usr/lib/jvm/java-11-amazon-corretto/bin/java Main arg1 &quot;$arg2&quot;]\nroot@29598b080453:/# java Main arg1 &quot;'$arg2'&quot;\nOptional[/usr/lib/jvm/java-11-amazon-corretto/bin/java Main arg1 'arg2value']\nroot@29598b080453:/#\n</code></pre>\n"}],"owner":{"account_id":26481920,"reputation":21,"user_id":20121049,"display_name":"zly2006"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701360146,"creation_date":1701272475,"question_id":77572590,"body_markdown":"I have encountered into this problem while writing a minecraft mod.\r\n\r\nEnvironment: MacOS\r\nJVM: \r\n```\r\njava version &quot;17.0.2&quot; 2022-01-18 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.2+8-LTS-86)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.2+8-LTS-86, mixed mode, sharing)\r\n```\r\nReproduce: \r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(ProcessHandle.current().info().commandLine().orElse(&quot;none&quot;));\r\n    }\r\n}\r\n```\r\n\r\nThen execute this command:\r\n```bash\r\njava  &quot;Main&quot; &quot;--username&quot; &quot;Steve47876&quot; &quot;--version&quot; &quot;1.20.1-fabric&quot; &quot;--gameDir&quot; &quot;/Users/zhaoliyan/Library/Application Support/minecraft/versions/1.20.1-fabric&quot; &quot;--assetsDir&quot; &quot;/Users/zhaoliyan/Library/Application Support/minecraft/assets&quot; &quot;--assetIndex&quot; &quot;5&quot; &quot;--uuid&quot; &quot;b7374a0acf0743e79a7a0e2cad64c9f9&quot; &quot;--accessToken&quot; &quot;eyJraWQiOiJhYzg07f3G03Vr3bhNG6vdsG7DD8QehRpITidVEZuo&quot; &quot;--clientId&quot; &quot;${clientid}&quot; &quot;--xuid&quot; &quot;${auth_xuid}&quot; &quot;--userType&quot; &quot;msa&quot; &quot;--versionType&quot; &quot;HMCL 3.5.5&quot; &quot;--width&quot; &quot;854&quot; &quot;--height&quot; &quot;480&quot;\r\n```\r\n\r\nThe output is &quot;none&quot;.\r\n\r\n**Update**: I found that if there is a `$` in arguments, java failed to get command line, e.g. `$a`, `${a}`. Is this a bug of java?\r\n\r\n\r\n","title":"Java&#39;s ProcessHandle cannot get arguments properly","body":"<p>I have encountered into this problem while writing a minecraft mod.</p>\n<p>Environment: MacOS\nJVM:</p>\n<pre><code>java version &quot;17.0.2&quot; 2022-01-18 LTS\nJava(TM) SE Runtime Environment (build 17.0.2+8-LTS-86)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.2+8-LTS-86, mixed mode, sharing)\n</code></pre>\n<p>Reproduce:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(ProcessHandle.current().info().commandLine().orElse(&quot;none&quot;));\n    }\n}\n</code></pre>\n<p>Then execute this command:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java  &quot;Main&quot; &quot;--username&quot; &quot;Steve47876&quot; &quot;--version&quot; &quot;1.20.1-fabric&quot; &quot;--gameDir&quot; &quot;/Users/zhaoliyan/Library/Application Support/minecraft/versions/1.20.1-fabric&quot; &quot;--assetsDir&quot; &quot;/Users/zhaoliyan/Library/Application Support/minecraft/assets&quot; &quot;--assetIndex&quot; &quot;5&quot; &quot;--uuid&quot; &quot;b7374a0acf0743e79a7a0e2cad64c9f9&quot; &quot;--accessToken&quot; &quot;eyJraWQiOiJhYzg07f3G03Vr3bhNG6vdsG7DD8QehRpITidVEZuo&quot; &quot;--clientId&quot; &quot;${clientid}&quot; &quot;--xuid&quot; &quot;${auth_xuid}&quot; &quot;--userType&quot; &quot;msa&quot; &quot;--versionType&quot; &quot;HMCL 3.5.5&quot; &quot;--width&quot; &quot;854&quot; &quot;--height&quot; &quot;480&quot;\n</code></pre>\n<p>The output is &quot;none&quot;.</p>\n<p><strong>Update</strong>: I found that if there is a <code>$</code> in arguments, java failed to get command line, e.g. <code>$a</code>, <code>${a}</code>. Is this a bug of java?</p>\n"},{"tags":["java","spring","github-actions","act"],"owner":{"account_id":30032726,"reputation":1,"user_id":23015449,"display_name":"Yevhen Piddubnyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701359738,"creation_date":1701359738,"question_id":77579850,"body_markdown":"When I use act --container-architecture linux/amd64 -j integration-tests command I have few errors at the beginning (Idk if it matters)\r\n\r\nI use Gradle 8.2.1 and Java 17\r\n\r\n```\r\n| Starting a Gradle Daemon (subsequent builds will be faster)\r\n| Caught exception: Couldn&#39;t poll for events, error = 4\r\n| Error while receiving file changes\r\n| net.rubygrapefruit.platform.NativeException: Couldn&#39;t poll for events, error = 4\r\n|         at net.rubygrapefruit.platform.internal.jni.AbstractNativeFileEventFunctions$NativeFileWatcher.executeRunLoop0(Native Method)\r\n|         at net.rubygrapefruit.platform.internal.jni.AbstractNativeFileEventFunctions$NativeFileWatcher.executeRunLoop(AbstractNativeFileEventFunctions.java:42)\r\n|         at net.rubygrapefruit.platform.internal.jni.AbstractFileEventFunctions$AbstractFileWatcher$1.run(AbstractFileEventFunctions.java:154)\r\n```\r\n\r\nAfter that, everything is fine before I run my integration tests:\r\n\r\n```\r\n| &gt; Task :ngo-backend:spotbugsMain\r\nPass 2: Analyzing classes (758 / 758) - 100% complete\r\n| Done with analysis\r\n| \r\n| &gt; Task :ngo-backend:integrationTests\r\n| \r\n| NgoBackendApplication &gt; shouldStartBackendApplicationWhenMainMethodIsInvoked() FAILED\r\n|     java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:143\r\n|         Caused by: org.springframework.context.ApplicationContextException at ServletWebServerApplicationContext.java:164\r\n|             Caused by: org.springframework.boot.web.server.WebServerException at TomcatWebServer.java:142\r\n|                 Caused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:533\r\n|                     Caused by: java.lang.IllegalArgumentException at PropertyPlaceholderHelper.java:180\r\n| \r\n| StaticPageResourceTest &gt; shouldUploadImageFileReference() FAILED\r\n|     java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:143\r\n|         Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException at ConstructorResolver.java:800\r\n|             Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException at ConstructorResolver.java:800\r\n|                 Caused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:533\r\n|                     Caused by: java.lang.IllegalArgumentException at PropertyPlaceholderHelper.java:180\r\n```\r\n\r\nthis error is for each integration test \r\n\r\nMy structure:\r\n```bash\r\n└── src\r\n    ├── IntegrationTest\r\n     &#160;&#160; ├── java\r\n     &#160;&#160; └── resources\r\n```\r\n\r\nMy integration-test.yml\r\n\r\n```\r\nname: Integration Tests\r\n\r\non:\r\n  workflow_dispatch:\r\n\r\nenv:\r\n  GRADLE_PROPERTIES: ${{ secrets.GRADLE_PROPERTIES }}\r\n\r\njobs:\r\n  integration-tests:\r\n    runs-on: ubuntu-latest\r\n    timeout-minutes: 30\r\n    steps:\r\n      - name: Checkout code\r\n        uses: actions/checkout@v3\r\n\r\n      - name: Set up JDK 1.17\r\n        uses: actions/setup-java@v3\r\n        with:\r\n          java-version: 17\r\n          distribution: &#39;zulu&#39;\r\n\r\n      - name: Grant execute permission for gradlew\r\n        run: chmod +x gradlew\r\n\r\n      - name: Restore gradle.properties\r\n        shell: bash\r\n        run: |\r\n          mkdir -p ~/.gradle/\r\n          echo &quot;GRADLE_USER_HOME=${HOME}/.gradle&quot; &gt;&gt; $GITHUB_ENV\r\n          echo &quot;${GRADLE_PROPERTIES}&quot; &gt; ~/.gradle/gradle.properties\r\n\r\n      - name: Run Integration Tests\r\n        run: ./gradlew integrationTests --continue\r\n\r\n```\r\n\r\n\r\n\r\nI want to fix the bug and run the Github action locally","title":"Act (nektos / act) integration tests failed and doesn&#39;t use properties","body":"<p>When I use act --container-architecture linux/amd64 -j integration-tests command I have few errors at the beginning (Idk if it matters)</p>\n<p>I use Gradle 8.2.1 and Java 17</p>\n<pre><code>| Starting a Gradle Daemon (subsequent builds will be faster)\n| Caught exception: Couldn't poll for events, error = 4\n| Error while receiving file changes\n| net.rubygrapefruit.platform.NativeException: Couldn't poll for events, error = 4\n|         at net.rubygrapefruit.platform.internal.jni.AbstractNativeFileEventFunctions$NativeFileWatcher.executeRunLoop0(Native Method)\n|         at net.rubygrapefruit.platform.internal.jni.AbstractNativeFileEventFunctions$NativeFileWatcher.executeRunLoop(AbstractNativeFileEventFunctions.java:42)\n|         at net.rubygrapefruit.platform.internal.jni.AbstractFileEventFunctions$AbstractFileWatcher$1.run(AbstractFileEventFunctions.java:154)\n</code></pre>\n<p>After that, everything is fine before I run my integration tests:</p>\n<pre><code>| &gt; Task :ngo-backend:spotbugsMain\nPass 2: Analyzing classes (758 / 758) - 100% complete\n| Done with analysis\n| \n| &gt; Task :ngo-backend:integrationTests\n| \n| NgoBackendApplication &gt; shouldStartBackendApplicationWhenMainMethodIsInvoked() FAILED\n|     java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:143\n|         Caused by: org.springframework.context.ApplicationContextException at ServletWebServerApplicationContext.java:164\n|             Caused by: org.springframework.boot.web.server.WebServerException at TomcatWebServer.java:142\n|                 Caused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:533\n|                     Caused by: java.lang.IllegalArgumentException at PropertyPlaceholderHelper.java:180\n| \n| StaticPageResourceTest &gt; shouldUploadImageFileReference() FAILED\n|     java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:143\n|         Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException at ConstructorResolver.java:800\n|             Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException at ConstructorResolver.java:800\n|                 Caused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:533\n|                     Caused by: java.lang.IllegalArgumentException at PropertyPlaceholderHelper.java:180\n</code></pre>\n<p>this error is for each integration test</p>\n<p>My structure:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>└── src\n    ├── IntegrationTest\n        ├── java\n        └── resources\n</code></pre>\n<p>My integration-test.yml</p>\n<pre><code>name: Integration Tests\n\non:\n  workflow_dispatch:\n\nenv:\n  GRADLE_PROPERTIES: ${{ secrets.GRADLE_PROPERTIES }}\n\njobs:\n  integration-tests:\n    runs-on: ubuntu-latest\n    timeout-minutes: 30\n    steps:\n      - name: Checkout code\n        uses: actions/checkout@v3\n\n      - name: Set up JDK 1.17\n        uses: actions/setup-java@v3\n        with:\n          java-version: 17\n          distribution: 'zulu'\n\n      - name: Grant execute permission for gradlew\n        run: chmod +x gradlew\n\n      - name: Restore gradle.properties\n        shell: bash\n        run: |\n          mkdir -p ~/.gradle/\n          echo &quot;GRADLE_USER_HOME=${HOME}/.gradle&quot; &gt;&gt; $GITHUB_ENV\n          echo &quot;${GRADLE_PROPERTIES}&quot; &gt; ~/.gradle/gradle.properties\n\n      - name: Run Integration Tests\n        run: ./gradlew integrationTests --continue\n\n</code></pre>\n<p>I want to fix the bug and run the Github action locally</p>\n"},{"tags":["java","nullpointerexception","hashmap","iteration"],"comments":[{"owner":{"account_id":953149,"reputation":177293,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":1,"creation_date":1701359389,"post_id":77579758,"comment_id":136768257,"body_markdown":"You have a typo: `frequencies.get(backingArray[i]+1)` is not the same as `frequencies.get(backingArray[i])+1`.","body":"You have a typo: <code>frequencies.get(backingArray[i]+1)</code> is not the same as <code>frequencies.get(backingArray[i])+1</code>."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1701359393,"post_id":77579758,"comment_id":136768260,"body_markdown":"`frequencies.get(backingArray[i]+1)` is wrong. It should be `frequencies.get(backingArray[i])+1` (note the different place of the `)`). But don’t make it so complicated. Assuming `this.size()` returns `backingArray.length`, use `for(int value: backingArray) frequencies.merge(value, 1, Integer::sum);` Further, you can use `int highest = Collections.max(frequencies.values()), numOfMostCommon = Collections.frequency(frequencies.values(), highest);`","body":"<code>frequencies.get(backingArray[i]+1)</code> is wrong. It should be <code>frequencies.get(backingArray[i])+1</code> (note the different place of the <code>)</code>). But don’t make it so complicated. Assuming <code>this.size()</code> returns <code>backingArray.length</code>, use <code>for(int value: backingArray) frequencies.merge(value, 1, Integer::sum);</code> Further, you can use <code>int highest = Collections.max(frequencies.values()), numOfMostCommon = Collections.frequency(frequencies.values(), highest);</code>"},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701359742,"post_id":77579758,"comment_id":136768324,"body_markdown":"An alternative to the last loop: `int highest = Collections.max(frequencies.values()); frequencies.values().removeIf(freq -&gt; freq != highest); String[] mostCommon = frequencies.keySet().toArray(new String[0]);`","body":"An alternative to the last loop: <code>int highest = Collections.max(frequencies.values()); frequencies.values().removeIf(freq -&gt; freq != highest); String[] mostCommon = frequencies.keySet().toArray(new String[0]);</code>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1701359622,"creation_date":1701359622,"answer_id":77579838,"question_id":77579758,"body_markdown":"A typo. You wrote:\r\n\r\n```\r\nfrequencies.get(backingArray[i]+1)\r\n```\r\n\r\nYou wanted:\r\n\r\n```\r\nfrequencies.get(backingArray[i])+1\r\n```\r\n\r\n\r\nThe former gets the value associated with something else, which is likely non-existent, thus, gets you `null`, thus, replaces the value associated with `backingArray[i]` with `null`. Which you later get, resulting in a NullpointerException`.\r\n\r\nThe second form simply &#39;adds 1 to the value&#39; which is presumably what you want.\r\n\r\nNote that you can do this in a single operation with `merge`, but, that&#39;s not going to meaningfully change any performance here - it would just be arguably easier to read.\r\n","title":"Java Foreach Loop through Hashmap Throwing NPE -- What might the problem here be?","body":"<p>A typo. You wrote:</p>\n<pre><code>frequencies.get(backingArray[i]+1)\n</code></pre>\n<p>You wanted:</p>\n<pre><code>frequencies.get(backingArray[i])+1\n</code></pre>\n<p>The former gets the value associated with something else, which is likely non-existent, thus, gets you <code>null</code>, thus, replaces the value associated with <code>backingArray[i]</code> with <code>null</code>. Which you later get, resulting in a NullpointerException`.</p>\n<p>The second form simply 'adds 1 to the value' which is presumably what you want.</p>\n<p>Note that you can do this in a single operation with <code>merge</code>, but, that's not going to meaningfully change any performance here - it would just be arguably easier to read.</p>\n"}],"owner":{"account_id":17144086,"reputation":19,"user_id":12407410,"display_name":"Mr. Mortem"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1701359622,"creation_date":1701358942,"question_id":77579758,"body_markdown":"As part of a project, I&#39;ve been tasked with creating a method that outputs a List of the most commonly occurring Strings in a given input List. The assignment specifies that this must be done by creating a hashmap of words (Strings) and the number of times they appear (Integers.) Then, the ones that appear most often must be returned in a List. \r\n\r\nWhen I tried to run my implementation of this, I got the following error: `java.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because the return value of &quot;java.util.Iterator.next()&quot; is null`\r\n\r\n\r\n```\r\npublic SList commonStrings() {\r\n        HashMap&lt;String, Integer&gt; frequencies = new HashMap&lt;String, Integer&gt;(this.size());\r\n        int numOfMostCommon = 0;\r\n        int highest = 0;\r\n        int j = 0;\r\n        for (int i = 0; i &lt; this.size(); i++) {\r\n            if (frequencies.containsKey(this.backingArray[i])) {\r\n                frequencies.replace(this.backingArray[i], frequencies.get(backingArray[i]+1));\r\n            }\r\n            else {\r\n                frequencies.put(this.backingArray[i], 1);\r\n            }\r\n        }\r\n        for (int i : frequencies.values()) {\r\n           if (i &gt; highest) {\r\n                highest = i;\r\n            }\r\n        }\r\n        for (int i : frequencies.values()) {\r\n           if (i == highest) {\r\n                numOfMostCommon++;\r\n            }\r\n        }\r\n        String[] mostCommon = new String[numOfMostCommon];\r\n        for (Map.Entry&lt;String,Integer&gt; i : frequencies.entrySet()) {\r\n            if (i.getValue() == highest) {\r\n                mostCommon[j] = i.getKey();\r\n                j++;\r\n            }\r\n        }\r\n        return new SListArray(mostCommon);\r\n        }\r\n```\r\n","title":"Java Foreach Loop through Hashmap Throwing NPE -- What might the problem here be?","body":"<p>As part of a project, I've been tasked with creating a method that outputs a List of the most commonly occurring Strings in a given input List. The assignment specifies that this must be done by creating a hashmap of words (Strings) and the number of times they appear (Integers.) Then, the ones that appear most often must be returned in a List.</p>\n<p>When I tried to run my implementation of this, I got the following error: <code>java.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because the return value of &quot;java.util.Iterator.next()&quot; is null</code></p>\n<pre><code>public SList commonStrings() {\n        HashMap&lt;String, Integer&gt; frequencies = new HashMap&lt;String, Integer&gt;(this.size());\n        int numOfMostCommon = 0;\n        int highest = 0;\n        int j = 0;\n        for (int i = 0; i &lt; this.size(); i++) {\n            if (frequencies.containsKey(this.backingArray[i])) {\n                frequencies.replace(this.backingArray[i], frequencies.get(backingArray[i]+1));\n            }\n            else {\n                frequencies.put(this.backingArray[i], 1);\n            }\n        }\n        for (int i : frequencies.values()) {\n           if (i &gt; highest) {\n                highest = i;\n            }\n        }\n        for (int i : frequencies.values()) {\n           if (i == highest) {\n                numOfMostCommon++;\n            }\n        }\n        String[] mostCommon = new String[numOfMostCommon];\n        for (Map.Entry&lt;String,Integer&gt; i : frequencies.entrySet()) {\n            if (i.getValue() == highest) {\n                mostCommon[j] = i.getKey();\n                j++;\n            }\n        }\n        return new SListArray(mostCommon);\n        }\n</code></pre>\n"},{"tags":["java","swing","inheritance","extends","jcomponent"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":1,"creation_date":1701346041,"post_id":77577621,"comment_id":136765530,"body_markdown":"You need to show your code. To much guess work for us now.","body":"You need to show your code. To much guess work for us now."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701359085,"post_id":77577621,"comment_id":136768213,"body_markdown":"Yes, there is a better way. And once we know which “certain behavior” you want to implement, we can tell you which “certain solution” will fit.","body":"Yes, there is a better way. And once we know which “certain behavior” you want to implement, we can tell you which “certain solution” will fit."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1701359570,"post_id":77577621,"comment_id":136768295,"body_markdown":"(1-) Your previous question: https://stackoverflow.com/questions/77574787/disable-jcombobox-pop-up-item-selection-on-arrow-keys still needs clarification. Your questions can&#39;t be so vague if you want help. If we can take the time to help then you can take the time to clarify your reuquirements.","body":"(1-) Your previous question: <a href=\"https://stackoverflow.com/questions/77574787/disable-jcombobox-pop-up-item-selection-on-arrow-keys\" title=\"disable jcombobox pop up item selection on arrow keys\">stackoverflow.com/questions/77574787/&hellip;</a> still needs clarification. Your questions can&#39;t be so vague if you want help. If we can take the time to help then you can take the time to clarify your reuquirements."},{"owner":{"account_id":14864245,"reputation":540,"user_id":10733903,"display_name":"Vlad Vyatkin"},"score":0,"creation_date":1701426690,"post_id":77577621,"comment_id":136776878,"body_markdown":"Guys, I ask a vague question because I want a generalized answer. I want to knof if B extends A and C extends A, and both B and C have their own methods, can I add functionality to class A without affecting the tree of children below. So AN extends A and make both B and C have that functionality. I assume that is impossible, which is the best solution would probably be to make a static handler class that accepts a JComponent (A) and does something on it. But I wanted to ask if extending/changing parent class is possible. You don&#39;t need my code for that.","body":"Guys, I ask a vague question because I want a generalized answer. I want to knof if B extends A and C extends A, and both B and C have their own methods, can I add functionality to class A without affecting the tree of children below. So AN extends A and make both B and C have that functionality. I assume that is impossible, which is the best solution would probably be to make a static handler class that accepts a JComponent (A) and does something on it. But I wanted to ask if extending/changing parent class is possible. You don&#39;t need my code for that."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701448752,"post_id":77577621,"comment_id":136780915,"body_markdown":"The alternative to inheritance is to use delegation. Swing has been designed to support customization via delegation in various ways, depending on the actual task. There are very rare corner cases where extending a component is required. So the general answer is *use delegation*.","body":"The alternative to inheritance is to use delegation. Swing has been designed to support customization via delegation in various ways, depending on the actual task. There are very rare corner cases where extending a component is required. So the general answer is <i>use delegation</i>."}],"owner":{"account_id":14864245,"reputation":540,"user_id":10733903,"display_name":"Vlad Vyatkin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1701359600,"creation_date":1701339608,"question_id":77577621,"body_markdown":"I want to have a certain behavior in mulpiple of my java components\r\n(JButton, JComboBox, JCheckbox etc).\r\n\r\nRight now I made an interface and I extend those classes independently, but there is a lot of code duplication. Ideally, I&#39;d like to put it into JComponent and be done with it.\r\n\r\nBut if I extend Jcomponent, to myJComponent, and then myJButton extends myJComponent - I will lose all the functionality specific to JButton core class.\r\n\r\nIs there a better way than what I&#39;m doing (interface and duplicated code)? Maybe there&#39;s some method to substitute original JComponent with mine so all JComponent&#39;s children actually extend from myJComponent and inherit that functionality?\r\n\r\nOr some other better way. \r\n\r\nThank you. ","title":"Extend JComponent but keep all child functionality","body":"<p>I want to have a certain behavior in mulpiple of my java components\n(JButton, JComboBox, JCheckbox etc).</p>\n<p>Right now I made an interface and I extend those classes independently, but there is a lot of code duplication. Ideally, I'd like to put it into JComponent and be done with it.</p>\n<p>But if I extend Jcomponent, to myJComponent, and then myJButton extends myJComponent - I will lose all the functionality specific to JButton core class.</p>\n<p>Is there a better way than what I'm doing (interface and duplicated code)? Maybe there's some method to substitute original JComponent with mine so all JComponent's children actually extend from myJComponent and inherit that functionality?</p>\n<p>Or some other better way.</p>\n<p>Thank you.</p>\n"},{"tags":["java","jersey","wildfly"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1701219224,"post_id":77566721,"comment_id":136747741,"body_markdown":"Is there a reason to use Jersey directly? WildFly provides RESTEasy for it&#39;s Jakarta REST implementation.","body":"Is there a reason to use Jersey directly? WildFly provides RESTEasy for it&#39;s Jakarta REST implementation."},{"owner":{"account_id":4471856,"reputation":315,"user_id":3637971,"accept_rate":14,"display_name":"user3637971"},"score":0,"creation_date":1701280210,"post_id":77566721,"comment_id":136757256,"body_markdown":"Jersey is part of the implementation and It&#39;s not a requeriment to change it.","body":"Jersey is part of the implementation and It&#39;s not a requeriment to change it."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1701281611,"post_id":77566721,"comment_id":136757470,"body_markdown":"Then you&#39;re going to have to exclude the `jaxrs` subsystem with a `jboss-deployment-structure.xml` from your deployment. I don&#39;t know what parts of Jersey you&#39;ll need however.","body":"Then you&#39;re going to have to exclude the <code>jaxrs</code> subsystem with a <code>jboss-deployment-structure.xml</code> from your deployment. I don&#39;t know what parts of Jersey you&#39;ll need however."},{"owner":{"account_id":4471856,"reputation":315,"user_id":3637971,"accept_rate":14,"display_name":"user3637971"},"score":0,"creation_date":1701359485,"post_id":77566721,"comment_id":136768280,"body_markdown":"I put the &#39;Added 1&#39; in the post with details of adding jboss-deployment-structure.xml but it&#39;s still not working.","body":"I put the &#39;Added 1&#39; in the post with details of adding jboss-deployment-structure.xml but it&#39;s still not working."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1701359680,"post_id":77566721,"comment_id":136768312,"body_markdown":"It&#39;s tough to tell what it would be. I don&#39;t know what Jersey dependencies are needed to get Jakarta REST working in a different container.","body":"It&#39;s tough to tell what it would be. I don&#39;t know what Jersey dependencies are needed to get Jakarta REST working in a different container."}],"owner":{"account_id":4471856,"reputation":315,"user_id":3637971,"accept_rate":14,"display_name":"user3637971"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701359327,"creation_date":1701200284,"question_id":77566721,"body_markdown":"I tried to upload an application called app.war to wildfly 10 server. This wildfly was turned on using java 1.8u172.\r\nOn the other side, I generated the war file using Netbeans. The java platform to build the war file  is also java 1.8u172.\r\n\r\nThe POM file has the following dependencies:\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-json&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.owlike&lt;/groupId&gt;\r\n            &lt;artifactId&gt;genson&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4&lt;/version&gt;\r\n        &lt;/dependency&gt;         \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.17&lt;/version&gt;\r\n        &lt;/dependency&gt; \r\n\t\t\r\n\t\t\r\nWeb.xml content:\r\n\r\n\r\n\t\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t\t&lt;web-app version=&quot;3.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;&gt;\r\n\t\t\t&lt;!-- REST API --&gt;\r\n\t\t\t&lt;servlet&gt;\r\n\t\t\t\t&lt;servlet-name&gt;jersey-serlvet&lt;/servlet-name&gt;\r\n\t\t\t\t&lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\r\n\t\t\t\t&lt;init-param&gt;\r\n\t\t\t\t\t&lt;param-name&gt;com.sun.jersey.api.json.POJOMappingFeature&lt;/param-name&gt;\r\n\t\t\t\t\t&lt;param-value&gt;true&lt;/param-value&gt;\r\n\t\t\t\t&lt;/init-param&gt;\r\n\t\t\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t\t\t&lt;/servlet&gt;\r\n\t\t\t&lt;servlet-mapping&gt;\r\n\t\t\t\t&lt;servlet-name&gt;jersey-serlvet&lt;/servlet-name&gt;\r\n\t\t\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t\t\t&lt;/servlet-mapping&gt;\r\n\t\t&lt;/web-app&gt;\r\n\r\n\r\nThe war file couldn&#39;t be uploaded. Wildfly shows the following messages:\r\n\r\n\t\tCannot upload deployment: {\r\n\t\t\t\t&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.undertow.deployment.default-server.default-host./app&quot; \r\n\t\t\t\t=&gt; &quot;org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./app: \r\n\t\t\t\tjava.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921 \r\n\t\t\t\tCaused by: java.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921&quot;},\r\n\t\t\t\t&quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.undertow.deployment.default-server.default-host./app&quot;],\r\n\t\t\t\t&quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined}\r\n\t\t\r\n\r\nI prefer to make it works using java 1.8u172 without upgrading jerssey library. The idea is knowing the reason why the uploading it&#39;s not working.\r\nHow can I figure it out the missing dependencies or What can I do for this case?\r\n\r\n**Added 1:**\r\n\r\nBy Netbeans, I created the folder META-INF inside webapps folder. Then I created the jboss-deployment-structure.xml file with the content as follows:\r\n\r\njboss-deployment-structure.xml:\r\n\r\n\t&lt;jboss-deployment-structure&gt;\r\n\t&lt;deployment&gt;\r\n\t\t&lt;exclude-subsystems&gt;\r\n\t\t\t&lt;subsystem name=&quot;jaxrs&quot; /&gt;\r\n\t\t&lt;/exclude-subsystems&gt;\r\n\t&lt;/deployment&gt;\r\n\t&lt;/jboss-deployment-structure&gt; \r\n\r\n\r\nEven though, I couldn&#39;t upload the war file. I&#39;ll show Wildfly log\t\r\n\r\nWildfly Server.log\r\n\t\r\n    2023-11-30 10:10:42,086 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 98) MSC000001: \r\n    \tFailed to start service jboss.undertow.deployment.default-server.default-host./app: org.jboss.msc.service.StartException \r\n    \tin service jboss.undertow.deployment.default-server.default-host./app: java.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:85)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\t\t...\r\n    Caused by: java.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921\r\n    \tat org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\r\n    \tat org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\r\n    \tat org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\r\n    \tat com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:133)\r\n    \tat com.sun.jersey.core.spi.scanning.JarFileScanner.scan(JarFileScanner.java:97)\r\n    \t... \r\n    \r\n    2023-11-30 10:10:42,106 ERROR [org.jboss.as.controller.management-operation] (External Management Request Threads -- 1) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;app.war&quot;)]) - failure description: {\r\n        &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.undertow.deployment.default-server.default-host./app&quot; =&gt; &quot;org.jboss.msc.service.StartException \r\n    \tin service jboss.undertow.deployment.default-server.default-host./app: java.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921\r\n        Caused by: java.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921&quot;},\r\n        &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.undertow.deployment.default-server.default-host./app&quot;],\r\n        &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined\r\n    }\r\n    2023-11-30 10:10:42,106 ERROR [org.jboss.as.server] (External Management Request Threads -- 1) WFLYSRV0021: Deploy of deployment &quot;app.war&quot; was rolled back with the following failure message: \r\n    {\r\n        &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.undertow.deployment.default-server.default-host./app&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./app: \r\n    \tjava.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921\r\n        Caused by: java.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921&quot;},\r\n        &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.undertow.deployment.default-server.default-host./app&quot;],\r\n        &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined\r\n    }\r\n    2023-11-30 10:10:42,415 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) WFLYSRV0028: Stopped deployment app.war (runtime-name: app.war) in 304ms\r\n    2023-11-30 10:10:42,415 INFO  [org.jboss.as.controller] (External Management Request Threads -- 1) WFLYCTL0183: Service status report\r\n    WFLYCTL0184:    New missing/unsatisfied dependencies:\r\n          service jboss.deployment.unit.&quot;app.war&quot;.component.&quot;com.sun.faces.config.ConfigureListener&quot;.START (missing) dependents: [service jboss.deployment.unit.&quot;app.war&quot;.deploymentCompleteService] \r\n          service jboss.deployment.unit.&quot;app.war&quot;.component.&quot;com.sun.jersey.server.impl.container.servlet.Include&quot;.START (missing) dependents: [service jboss.deployment.unit.&quot;app.war&quot;.deploymentCompleteService] \r\n          service jboss.deployment.unit.&quot;app.war&quot;.component.&quot;com.sun.jersey.spi.container.servlet.ServletContainer&quot;.START (missing) dependents: [service jboss.deployment.unit.&quot;app.war&quot;.deploymentCompleteService] \r\n          service jboss.deployment.unit.&quot;app.war&quot;.component.&quot;javax.faces.webapp.FacetTag&quot;.START (missing) dependents: [service jboss.deployment.unit.&quot;app.war&quot;.deploymentCompleteService] \r\n          service jboss.deployment.unit.&quot;app.war&quot;.component.&quot;javax.servlet.jsp.jstl.tlv.PermittedTaglibsTLV&quot;.START (missing) dependents: [service jboss.deployment.unit.&quot;app.war&quot;.deploymentCompleteService] \r\n          service jboss.deployment.unit.&quot;app.war&quot;.component.&quot;javax.servlet.jsp.jstl.tlv.ScriptFreeTLV&quot;.START (missing) dependents: [service jboss.deployment.unit.&quot;app.war&quot;.deploymentCompleteService] \r\n          service jboss.undertow.deployment.default-server.default-host./app (missing) dependents: [service jboss.deployment.unit.&quot;app.war&quot;.deploymentCompleteService] ","title":"I can&#39;t upload a war file by wildfly 10 because of missing dependencies","body":"<p>I tried to upload an application called app.war to wildfly 10 server. This wildfly was turned on using java 1.8u172.\nOn the other side, I generated the war file using Netbeans. The java platform to build the war file  is also java 1.8u172.</p>\n<p>The POM file has the following dependencies:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n        &lt;version&gt;1.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-json&lt;/artifactId&gt;\n        &lt;version&gt;1.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.owlike&lt;/groupId&gt;\n        &lt;artifactId&gt;genson&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;         \n    &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.17&lt;/version&gt;\n    &lt;/dependency&gt; \n    \n    \n</code></pre>\n<p>Web.xml content:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;web-app version=&quot;3.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;&gt;\n        &lt;!-- REST API --&gt;\n        &lt;servlet&gt;\n            &lt;servlet-name&gt;jersey-serlvet&lt;/servlet-name&gt;\n            &lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\n            &lt;init-param&gt;\n                &lt;param-name&gt;com.sun.jersey.api.json.POJOMappingFeature&lt;/param-name&gt;\n                &lt;param-value&gt;true&lt;/param-value&gt;\n            &lt;/init-param&gt;\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n        &lt;/servlet&gt;\n        &lt;servlet-mapping&gt;\n            &lt;servlet-name&gt;jersey-serlvet&lt;/servlet-name&gt;\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n        &lt;/servlet-mapping&gt;\n    &lt;/web-app&gt;\n</code></pre>\n<p>The war file couldn't be uploaded. Wildfly shows the following messages:</p>\n<pre><code>    Cannot upload deployment: {\n            &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.undertow.deployment.default-server.default-host./app&quot; \n            =&gt; &quot;org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./app: \n            java.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921 \n            Caused by: java.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921&quot;},\n            &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.undertow.deployment.default-server.default-host./app&quot;],\n            &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined}\n    \n</code></pre>\n<p>I prefer to make it works using java 1.8u172 without upgrading jerssey library. The idea is knowing the reason why the uploading it's not working.\nHow can I figure it out the missing dependencies or What can I do for this case?</p>\n<p><strong>Added 1:</strong></p>\n<p>By Netbeans, I created the folder META-INF inside webapps folder. Then I created the jboss-deployment-structure.xml file with the content as follows:</p>\n<p>jboss-deployment-structure.xml:</p>\n<pre><code>&lt;jboss-deployment-structure&gt;\n&lt;deployment&gt;\n    &lt;exclude-subsystems&gt;\n        &lt;subsystem name=&quot;jaxrs&quot; /&gt;\n    &lt;/exclude-subsystems&gt;\n&lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt; \n</code></pre>\n<p>Even though, I couldn't upload the war file. I'll show Wildfly log</p>\n<p>Wildfly Server.log</p>\n<pre><code>2023-11-30 10:10:42,086 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 98) MSC000001: \n    Failed to start service jboss.undertow.deployment.default-server.default-host./app: org.jboss.msc.service.StartException \n    in service jboss.undertow.deployment.default-server.default-host./app: java.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:85)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    ...\nCaused by: java.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921\n    at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\n    at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\n    at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\n    at com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:133)\n    at com.sun.jersey.core.spi.scanning.JarFileScanner.scan(JarFileScanner.java:97)\n    ... \n\n2023-11-30 10:10:42,106 ERROR [org.jboss.as.controller.management-operation] (External Management Request Threads -- 1) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;app.war&quot;)]) - failure description: {\n    &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.undertow.deployment.default-server.default-host./app&quot; =&gt; &quot;org.jboss.msc.service.StartException \n    in service jboss.undertow.deployment.default-server.default-host./app: java.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921\n    Caused by: java.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921&quot;},\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.undertow.deployment.default-server.default-host./app&quot;],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined\n}\n2023-11-30 10:10:42,106 ERROR [org.jboss.as.server] (External Management Request Threads -- 1) WFLYSRV0021: Deploy of deployment &quot;app.war&quot; was rolled back with the following failure message: \n{\n    &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.undertow.deployment.default-server.default-host./app&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./app: \n    java.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921\n    Caused by: java.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921&quot;},\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.undertow.deployment.default-server.default-host./app&quot;],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined\n}\n2023-11-30 10:10:42,415 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) WFLYSRV0028: Stopped deployment app.war (runtime-name: app.war) in 304ms\n2023-11-30 10:10:42,415 INFO  [org.jboss.as.controller] (External Management Request Threads -- 1) WFLYCTL0183: Service status report\nWFLYCTL0184:    New missing/unsatisfied dependencies:\n      service jboss.deployment.unit.&quot;app.war&quot;.component.&quot;com.sun.faces.config.ConfigureListener&quot;.START (missing) dependents: [service jboss.deployment.unit.&quot;app.war&quot;.deploymentCompleteService] \n      service jboss.deployment.unit.&quot;app.war&quot;.component.&quot;com.sun.jersey.server.impl.container.servlet.Include&quot;.START (missing) dependents: [service jboss.deployment.unit.&quot;app.war&quot;.deploymentCompleteService] \n      service jboss.deployment.unit.&quot;app.war&quot;.component.&quot;com.sun.jersey.spi.container.servlet.ServletContainer&quot;.START (missing) dependents: [service jboss.deployment.unit.&quot;app.war&quot;.deploymentCompleteService] \n      service jboss.deployment.unit.&quot;app.war&quot;.component.&quot;javax.faces.webapp.FacetTag&quot;.START (missing) dependents: [service jboss.deployment.unit.&quot;app.war&quot;.deploymentCompleteService] \n      service jboss.deployment.unit.&quot;app.war&quot;.component.&quot;javax.servlet.jsp.jstl.tlv.PermittedTaglibsTLV&quot;.START (missing) dependents: [service jboss.deployment.unit.&quot;app.war&quot;.deploymentCompleteService] \n      service jboss.deployment.unit.&quot;app.war&quot;.component.&quot;javax.servlet.jsp.jstl.tlv.ScriptFreeTLV&quot;.START (missing) dependents: [service jboss.deployment.unit.&quot;app.war&quot;.deploymentCompleteService] \n      service jboss.undertow.deployment.default-server.default-host./app (missing) dependents: [service jboss.deployment.unit.&quot;app.war&quot;.deploymentCompleteService] \n</code></pre>\n"},{"tags":["java","swing","jtable","preferredsize","tablecolumn"],"comments":[{"owner":{"account_id":319822,"reputation":1279,"user_id":637791,"accept_rate":86,"display_name":"Jannis Alexakis"},"score":2,"creation_date":1374756083,"post_id":17858132,"comment_id":26071786,"body_markdown":"Look at [link](http://tips4java.wordpress.com/2008/11/10/table-column-adjuster/)","body":"Look at <a href=\"http://tips4java.wordpress.com/2008/11/10/table-column-adjuster/\" rel=\"nofollow noreferrer\">link</a>"}],"answers":[{"tags":[],"owner":{"account_id":2025376,"reputation":213,"user_id":1810548,"display_name":"chipukb"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1374761093,"creation_date":1374761093,"answer_id":17860283,"question_id":17858132,"body_markdown":"If you can use an extra library, try Swingx (https://java.net/projects/swingx)\r\nThere you have a JXTable, with a method &quot;packAll()&quot;, that does exactly what you are asking for","title":"Automatically adjust Jtable Column to fit content","body":"<p>If you can use an extra library, try Swingx (<a href=\"https://java.net/projects/swingx\">https://java.net/projects/swingx</a>)\nThere you have a JXTable, with a method \"packAll()\", that does exactly what you are asking for</p>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1374763486,"creation_date":1374763486,"answer_id":17861298,"question_id":17858132,"body_markdown":"    col.setWidth(width);\r\n\r\nRead the JTable API and follow the link on `How to Use Tables`. In that tutorial they use the `setPreferredWidth(...)` to suggest a width for a column.\r\n\r\nYou may also want to check out the [Table Column Adjuster][1] which does this for you. This solution can also take into account the width of the column header.\r\n\r\n\r\n  [1]: http://tips4java.wordpress.com/2008/11/10/table-column-adjuster/","title":"Automatically adjust Jtable Column to fit content","body":"<pre><code>col.setWidth(width);\n</code></pre>\n\n<p>Read the JTable API and follow the link on <code>How to Use Tables</code>. In that tutorial they use the <code>setPreferredWidth(...)</code> to suggest a width for a column.</p>\n\n<p>You may also want to check out the <a href=\"http://tips4java.wordpress.com/2008/11/10/table-column-adjuster/\" rel=\"noreferrer\">Table Column Adjuster</a> which does this for you. This solution can also take into account the width of the column header.</p>\n"},{"tags":[],"owner":{"account_id":4865932,"reputation":6159,"user_id":3924178,"display_name":"Jeronimo Backes"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1409323862,"creation_date":1409323862,"answer_id":25570812,"question_id":17858132,"body_markdown":"This is all you need:\r\n\r\n    JTable table = new JTable(){\r\n\t\t@Override\r\n\t       public Component prepareRenderer(TableCellRenderer renderer, int row, int column) {\r\n\t\t       Component component = super.prepareRenderer(renderer, row, column);\r\n\t\t       int rendererWidth = component.getPreferredSize().width;\r\n\t\t       TableColumn tableColumn = getColumnModel().getColumn(column);\r\n\t\t       tableColumn.setPreferredWidth(Math.max(rendererWidth + getIntercellSpacing().width, tableColumn.getPreferredWidth()));\r\n               return component;\r\n\t        }\r\n\t\t};\r\n\ttable.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\r\n\r\nThe table will adjust each column width automatically to fit the content. There&#39;s no need to control when to trigger the resizing.","title":"Automatically adjust Jtable Column to fit content","body":"<p>This is all you need:</p>\n\n<pre><code>JTable table = new JTable(){\n    @Override\n       public Component prepareRenderer(TableCellRenderer renderer, int row, int column) {\n           Component component = super.prepareRenderer(renderer, row, column);\n           int rendererWidth = component.getPreferredSize().width;\n           TableColumn tableColumn = getColumnModel().getColumn(column);\n           tableColumn.setPreferredWidth(Math.max(rendererWidth + getIntercellSpacing().width, tableColumn.getPreferredWidth()));\n           return component;\n        }\n    };\ntable.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\n</code></pre>\n\n<p>The table will adjust each column width automatically to fit the content. There's no need to control when to trigger the resizing.</p>\n"},{"tags":[],"owner":{"account_id":2055641,"reputation":504,"user_id":1833472,"display_name":"dpolivaev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701359225,"creation_date":1701359225,"answer_id":77579789,"question_id":17858132,"body_markdown":"I would like to share my solution:\r\n\r\n    public class AutoResizedTable extends JTable {\r\n        {\r\n            setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\r\n        }\r\n\r\n        @Override\r\n        public void tableChanged(TableModelEvent e) {\r\n            super.tableChanged(e);\r\n            resizeAndRepaint();\r\n        }\r\n\r\n        @Override\r\n        public void doLayout() {\r\n            for(int column = 0; column &lt; getColumnCount(); column ++){\r\n                int  width = getParent().getWidth();\r\n                for (int row = 0; row &lt; getRowCount(); row++) {\r\n                    TableCellRenderer renderer = getCellRenderer(row, column);\r\n                    Component comp = prepareRenderer(renderer, row, column);\r\n                    width = Math.max (comp.getPreferredSize().width, width);\r\n                }\r\n                TableColumn col = new TableColumn();\r\n                col = getColumnModel().getColumn(column);\r\n                col.setPreferredWidth(width);\r\n            }\r\n            super.doLayout();\r\n        }\r\n    }","title":"Automatically adjust Jtable Column to fit content","body":"<p>I would like to share my solution:</p>\n<pre><code>public class AutoResizedTable extends JTable {\n    {\n        setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\n    }\n\n    @Override\n    public void tableChanged(TableModelEvent e) {\n        super.tableChanged(e);\n        resizeAndRepaint();\n    }\n\n    @Override\n    public void doLayout() {\n        for(int column = 0; column &lt; getColumnCount(); column ++){\n            int  width = getParent().getWidth();\n            for (int row = 0; row &lt; getRowCount(); row++) {\n                TableCellRenderer renderer = getCellRenderer(row, column);\n                Component comp = prepareRenderer(renderer, row, column);\n                width = Math.max (comp.getPreferredSize().width, width);\n            }\n            TableColumn col = new TableColumn();\n            col = getColumnModel().getColumn(column);\n            col.setPreferredWidth(width);\n        }\n        super.doLayout();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1450869,"reputation":916,"user_id":1367850,"accept_rate":53,"display_name":"Hans En"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38089,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":17860283,"answer_count":4,"score":13,"last_activity_date":1701359225,"creation_date":1374755597,"question_id":17858132,"body_markdown":"I am trying to match the JTable column width depending on the data inside. My Code: \r\n\r\n    \r\n\t\tfor(int column = 0; column &lt; gui.testsuiteInfoTable.getColumnCount(); column ++){\r\n\t\t\tint  width =0;\r\n\t    for (int row = 0; row &lt; gui.testsuiteInfoTable.getRowCount(); row++) {\r\n\t         TableCellRenderer renderer = gui.testsuiteInfoTable.getCellRenderer(row, column);\r\n\t         Component comp = gui.testsuiteInfoTable.prepareRenderer(renderer, row, column);\r\n\t         width = Math.max (comp.getPreferredSize().width, width);\r\n\t         System.out.println(width);\r\n\t     }\r\n\t    TableColumn col = new TableColumn();\r\n\t    col = gui.testsuiteInfoTable.getColumnModel().getColumn(column);\r\n\t    System.out.println(width);\r\n\t    col.setWidth(width);\r\n\t    gui.testsuiteInfoTable.revalidate();\r\n\t\t\r\n\t\t}\r\n\t}\r\n\r\nThe sizes are correct I guess but the table columns still all have the same width! The table is embedded in a ScrollPane in a GridBagLayout is that the problem? Thanks for any suggestions.","title":"Automatically adjust Jtable Column to fit content","body":"<p>I am trying to match the JTable column width depending on the data inside. My Code: </p>\n\n<pre><code>    for(int column = 0; column &lt; gui.testsuiteInfoTable.getColumnCount(); column ++){\n        int  width =0;\n    for (int row = 0; row &lt; gui.testsuiteInfoTable.getRowCount(); row++) {\n         TableCellRenderer renderer = gui.testsuiteInfoTable.getCellRenderer(row, column);\n         Component comp = gui.testsuiteInfoTable.prepareRenderer(renderer, row, column);\n         width = Math.max (comp.getPreferredSize().width, width);\n         System.out.println(width);\n     }\n    TableColumn col = new TableColumn();\n    col = gui.testsuiteInfoTable.getColumnModel().getColumn(column);\n    System.out.println(width);\n    col.setWidth(width);\n    gui.testsuiteInfoTable.revalidate();\n\n    }\n}\n</code></pre>\n\n<p>The sizes are correct I guess but the table columns still all have the same width! The table is embedded in a ScrollPane in a GridBagLayout is that the problem? Thanks for any suggestions.</p>\n"},{"tags":["java","spring","kotlin"],"owner":{"account_id":5214945,"reputation":145,"user_id":4170221,"accept_rate":75,"display_name":"Eduard Nickel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701359204,"creation_date":1701359204,"question_id":77579785,"body_markdown":"I am creating REST API for ClamAV https://hub.docker.com/r/clamav/clamav and I try to use java clamav-client https://github.com/cdarras/clamav-client for this purpose.  \r\nI have built clamav-client and include produced JAR file into my project in IntelliJ IDEA Community edition. I have added this JAR file into dependencies/classpath.  \r\nBut when I run project I get exception on line `ClamavClient client = new ClamavClient(&quot;localhost&quot;)`:\r\n```\r\njava.lang.ClassNotFoundException: kotlin.jvm.internal.Intrinsics\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\tat xyz.capybara.clamav.ClamavClient.&lt;init&gt;(ClamavClient.kt) ~[clamav-client-2.1.3-SNAPSHOT.jar:na]\r\n\tat com.example.clamavapi.controllers.ClamavApiController.scan(ClamavApiController.java:32) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n```\r\nclamav-client is written in Kotlin so I have tried to create Kotlin project for my REST API too \r\n```\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;kotlin.version&gt;1.9.20&lt;/kotlin.version&gt;\r\n\t&lt;/properties&gt;\r\n```\r\nbut exception still remain with little difference it crash on next line `ScanResult scanResult = client.scan(inputstream)`:\r\n```\r\njava.lang.ClassNotFoundException: mu.KLogging\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012) ~[na:na]\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\tat xyz.capybara.clamav.commands.Command.&lt;clinit&gt;(Command.kt) ~[clamav-client-2.1.3-SNAPSHOT.jar:na]\r\n\tat xyz.capybara.clamav.ClamavClient.scan(ClamavClient.kt:106) ~[clamav-client-2.1.3-SNAPSHOT.jar:na]\r\n\tat com.example.clamavapi.controllers.ClamavApiController.scan(ClamavApiController.java:33) ~[classes/:na]\r\n```\r\nWhat I am missing and what I have to do to run project correctly.\r\nThanks in advance.","title":"java.lang.ClassNotFoundException running Kotlin jar library","body":"<p>I am creating REST API for ClamAV <a href=\"https://hub.docker.com/r/clamav/clamav\" rel=\"nofollow noreferrer\">https://hub.docker.com/r/clamav/clamav</a> and I try to use java clamav-client <a href=\"https://github.com/cdarras/clamav-client\" rel=\"nofollow noreferrer\">https://github.com/cdarras/clamav-client</a> for this purpose.<br />\nI have built clamav-client and include produced JAR file into my project in IntelliJ IDEA Community edition. I have added this JAR file into dependencies/classpath.<br />\nBut when I run project I get exception on line <code>ClamavClient client = new ClamavClient(&quot;localhost&quot;)</code>:</p>\n<pre><code>java.lang.ClassNotFoundException: kotlin.jvm.internal.Intrinsics\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    at xyz.capybara.clamav.ClamavClient.&lt;init&gt;(ClamavClient.kt) ~[clamav-client-2.1.3-SNAPSHOT.jar:na]\n    at com.example.clamavapi.controllers.ClamavApiController.scan(ClamavApiController.java:32) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n</code></pre>\n<p>clamav-client is written in Kotlin so I have tried to create Kotlin project for my REST API too</p>\n<pre><code>    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;kotlin.version&gt;1.9.20&lt;/kotlin.version&gt;\n    &lt;/properties&gt;\n</code></pre>\n<p>but exception still remain with little difference it crash on next line <code>ScanResult scanResult = client.scan(inputstream)</code>:</p>\n<pre><code>java.lang.ClassNotFoundException: mu.KLogging\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012) ~[na:na]\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    at xyz.capybara.clamav.commands.Command.&lt;clinit&gt;(Command.kt) ~[clamav-client-2.1.3-SNAPSHOT.jar:na]\n    at xyz.capybara.clamav.ClamavClient.scan(ClamavClient.kt:106) ~[clamav-client-2.1.3-SNAPSHOT.jar:na]\n    at com.example.clamavapi.controllers.ClamavApiController.scan(ClamavApiController.java:33) ~[classes/:na]\n</code></pre>\n<p>What I am missing and what I have to do to run project correctly.\nThanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","gradle","java-8"],"owner":{"account_id":7527372,"reputation":920,"user_id":5717021,"accept_rate":65,"display_name":"sromit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701359100,"creation_date":1701359100,"question_id":77579775,"body_markdown":"I have a spring boot(2.1.9) gradle project which is trying to build by downloading a jar file from the artifactory but it is telling it is not able to find the jar file in the following location. But when I click on the link given `https://artifactory.build.ge.com/ARJLY/com/ge/digital/oa/common/oa-common/3.0.0/oa-common-3.0.0.jar` I am able to download the jar file. Why gradle is not able to download while building..anything I am doing wrong...\r\ngradle version 6.8\r\n\r\nMy Artifactory path:\r\n\r\n    ARJLY\r\n     com/ge\r\n      digital/oa\r\n       common\r\n         oa-common\r\n          3.0.0\r\n           oa-common-3.0.0.jar\r\n\r\nMy build.gradle file\r\n\r\n    repositories {\r\n    \tmavenCentral()\r\n    \tmavenLocal()\r\n    \tmaven {\r\n    \t\turl &quot;${artifactory_contextUrl}&quot;\r\n    \t\tcredentials {\r\n    \t\t\tusername &quot;${artifactory_user}&quot;\r\n    \t\t\tpassword &quot;${artifactory_password}&quot;\r\n    \t\t}\r\n    \t}\r\n    }\r\n    dependencies {\r\n    \r\n    \timplementation(&#39;com.ge.digital.oa.common:oa-common:3.0.0&#39;) {\r\n    \t\texclude module: &#39;slf4j-log4j12&#39;\r\n    \t\texclude group: &#39;io.micrometer&#39;, module: &#39;micrometer-core&#39;\r\n    \t}\r\n    \timplementation(&#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;)\r\n    \timplementation(&#39;org.springframework.boot:spring-boot-starter-jdbc&#39;)\r\n    \timplementation(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n    \timplementation(&#39;org.springframework.boot:spring-boot-starter-cloud-connectors&#39;)\r\n\r\n\r\nError in gradle build\r\n\r\n    $ gradle clean build\r\n    &gt; Task :compileJava FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:compileJava&#39;.\r\n    &gt; Could not resolve all files for configuration &#39;:compileClasspath&#39;.\r\n       &gt; Could not find oa-common-3.0.0.jar (com.ge.digital.oa.common:oa-common:3.0.0).\r\n         Searched in the following locations:\r\n             https://artifactory.build.ge.com/ARJLY/com/ge/digital/oa/common/oa-common/3.0.0/oa-common-3.0.0.jar\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    Deprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\r\n    Use &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\n    See https://docs.gradle.org/6.8/userguide/command_line_interface.html#sec:command_line_warnings\r\n    \r\n    BUILD FAILED in 2s\r\n    3 actionable tasks: 3 executed\r\n\r\n\r\n","title":"Gradle build failing to find jar","body":"<p>I have a spring boot(2.1.9) gradle project which is trying to build by downloading a jar file from the artifactory but it is telling it is not able to find the jar file in the following location. But when I click on the link given <code>https://artifactory.build.ge.com/ARJLY/com/ge/digital/oa/common/oa-common/3.0.0/oa-common-3.0.0.jar</code> I am able to download the jar file. Why gradle is not able to download while building..anything I am doing wrong...\ngradle version 6.8</p>\n<p>My Artifactory path:</p>\n<pre><code>ARJLY\n com/ge\n  digital/oa\n   common\n     oa-common\n      3.0.0\n       oa-common-3.0.0.jar\n</code></pre>\n<p>My build.gradle file</p>\n<pre><code>repositories {\n    mavenCentral()\n    mavenLocal()\n    maven {\n        url &quot;${artifactory_contextUrl}&quot;\n        credentials {\n            username &quot;${artifactory_user}&quot;\n            password &quot;${artifactory_password}&quot;\n        }\n    }\n}\ndependencies {\n\n    implementation('com.ge.digital.oa.common:oa-common:3.0.0') {\n        exclude module: 'slf4j-log4j12'\n        exclude group: 'io.micrometer', module: 'micrometer-core'\n    }\n    implementation('org.springframework.boot:spring-boot-starter-data-jpa')\n    implementation('org.springframework.boot:spring-boot-starter-jdbc')\n    implementation('org.springframework.boot:spring-boot-starter-web')\n    implementation('org.springframework.boot:spring-boot-starter-cloud-connectors')\n</code></pre>\n<p>Error in gradle build</p>\n<pre><code>$ gradle clean build\n&gt; Task :compileJava FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':compileJava'.\n&gt; Could not resolve all files for configuration ':compileClasspath'.\n   &gt; Could not find oa-common-3.0.0.jar (com.ge.digital.oa.common:oa-common:3.0.0).\n     Searched in the following locations:\n         https://artifactory.build.ge.com/ARJLY/com/ge/digital/oa/common/oa-common/3.0.0/oa-common-3.0.0.jar\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/6.8/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 2s\n3 actionable tasks: 3 executed\n</code></pre>\n"},{"tags":["java","design-patterns","minecraft"],"owner":{"account_id":30032842,"reputation":1,"user_id":23015540,"display_name":"Quotschi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701544763,"answer_count":0,"score":-1,"last_activity_date":1701359100,"creation_date":1701358765,"question_id":77579736,"body_markdown":"i&#39;m coding a minecraft client at the moment but I don&#39;t know how to write efficient a modular mod system.\r\n\r\n\r\nUntil now I have one superclass called mod and subclasses with the implementation in it and one ModManager class with an ArrayList&lt;Mod&gt; mods but when I want to get a Attribute from example Mod1 \r\nI can&#39;t get it like ModManager.getMods().get(Index).attributeName because it&#39;s not in Mod. At the Moment I coded it so that these attribute are public static but I think thats not a solution? Is there a better design Pattern or way to implement it?\r\n\r\n\r\n```\r\n//Superclass \r\npackage Client.Mods;\r\n\r\nimport net.minecraft.client.Minecraft;\r\n\r\npublic class Mod {\r\n    protected Minecraft minecraft;\r\n    private static ModCategory category;\r\n    private static String name = &quot;NoName ERROR&quot;;\r\n    private static boolean toggled;\r\n\r\n\r\n    public Mod(String name, ModCategory category) {\r\n        this.name = name;\r\n        this.category = category;\r\n        toggled = false;\r\n    }\r\n\r\n    public void toggle() {\r\n        toggled = !toggled;\r\n        if(toggled)\r\n            onEnable();\r\n        else\r\n            onDisable();\r\n    }\r\n\r\n    public void onEnable() {\r\n\r\n    }\r\n\r\n    public void onDisable() {\r\n\r\n    }\r\n\r\n    public void onUpdate() {\r\n\r\n    }\r\n\r\n    public void onRender() {\r\n\r\n    }\r\n\r\n    public static String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public static boolean isToggled() {\r\n        return toggled;\r\n    }\r\n\r\n    public void setToggled(boolean toggled) {\r\n        this.toggled = toggled;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n```\r\npackage Client.Mods;\r\n\r\nimport net.minecraft.core.particles.ParticleTypes;\r\nimport net.minecraft.core.particles.SimpleParticleType;\r\n\r\npublic class BetterBowParticles extends Mod{\r\n\r\n    public static SimpleParticleType particleType = ParticleTypes.CRIT;\r\n\r\n    public BetterBowParticles(String name, ModCategory category) {\r\n        super(name, category);\r\n        particleType = ParticleTypes.ASH;\r\n    }\r\n\r\n    public void onRender() {\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"Java design pattern for mod system(Minecraft mcp)","body":"<p>i'm coding a minecraft client at the moment but I don't know how to write efficient a modular mod system.</p>\n<p>Until now I have one superclass called mod and subclasses with the implementation in it and one ModManager class with an ArrayList mods but when I want to get a Attribute from example Mod1\nI can't get it like ModManager.getMods().get(Index).attributeName because it's not in Mod. At the Moment I coded it so that these attribute are public static but I think thats not a solution? Is there a better design Pattern or way to implement it?</p>\n<pre><code>//Superclass \npackage Client.Mods;\n\nimport net.minecraft.client.Minecraft;\n\npublic class Mod {\n    protected Minecraft minecraft;\n    private static ModCategory category;\n    private static String name = &quot;NoName ERROR&quot;;\n    private static boolean toggled;\n\n\n    public Mod(String name, ModCategory category) {\n        this.name = name;\n        this.category = category;\n        toggled = false;\n    }\n\n    public void toggle() {\n        toggled = !toggled;\n        if(toggled)\n            onEnable();\n        else\n            onDisable();\n    }\n\n    public void onEnable() {\n\n    }\n\n    public void onDisable() {\n\n    }\n\n    public void onUpdate() {\n\n    }\n\n    public void onRender() {\n\n    }\n\n    public static String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public static boolean isToggled() {\n        return toggled;\n    }\n\n    public void setToggled(boolean toggled) {\n        this.toggled = toggled;\n    }\n}\n\n</code></pre>\n<pre><code>package Client.Mods;\n\nimport net.minecraft.core.particles.ParticleTypes;\nimport net.minecraft.core.particles.SimpleParticleType;\n\npublic class BetterBowParticles extends Mod{\n\n    public static SimpleParticleType particleType = ParticleTypes.CRIT;\n\n    public BetterBowParticles(String name, ModCategory category) {\n        super(name, category);\n        particleType = ParticleTypes.ASH;\n    }\n\n    public void onRender() {\n\n    }\n}\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":4,"creation_date":1701012279,"post_id":77552031,"comment_id":136719592,"body_markdown":"The error message is quite clear in this particular case: you do not have the necessary access rights to create the backup file.","body":"The error message is quite clear in this particular case: you do not have the necessary access rights to create the backup file."},{"owner":{"account_id":7491983,"reputation":499,"user_id":5693350,"accept_rate":44,"display_name":"David"},"score":0,"creation_date":1701012697,"post_id":77552031,"comment_id":136719648,"body_markdown":"@Shadow When I create the backup file manually via the command line, it works just fine. Why wouldn&#39;t it work when I try to implement the same in a java program. By the way, it worked just fine on Linux","body":"@Shadow When I create the backup file manually via the command line, it works just fine. Why wouldn&#39;t it work when I try to implement the same in a java program. By the way, it worked just fine on Linux"},{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":1,"creation_date":1701013058,"post_id":77552031,"comment_id":136719682,"body_markdown":"In linux the user running the backup has the necessary access. In windows apparently not","body":"In linux the user running the backup has the necessary access. In windows apparently not"},{"owner":{"account_id":39208,"reputation":251211,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1701016009,"post_id":77552031,"comment_id":136720003,"body_markdown":"What do you mean &quot;it worked just fine in Linux&quot;? Linux does not have a &quot;C:&quot; drive","body":"What do you mean &quot;it worked just fine in Linux&quot;? Linux does not have a &quot;C:&quot; drive"},{"owner":{"account_id":7491983,"reputation":499,"user_id":5693350,"accept_rate":44,"display_name":"David"},"score":0,"creation_date":1701027327,"post_id":77552031,"comment_id":136721241,"body_markdown":"@knittl On Linux you specify the path to mysqldump command just like you do on Windows. i.e Process process = Runtime.getRuntime().exec(&quot;mysqldump -uroot  -ppassword --add-drop-database -B database_name -r&quot;+filename);You also omit the .replace(&#39;\\\\&#39;,&#39;//) and it will work just fine.","body":"@knittl On Linux you specify the path to mysqldump command just like you do on Windows. i.e Process process = Runtime.getRuntime().exec(&quot;mysqldump -uroot  -ppassword --add-drop-database -B database_name -r&quot;+filename);You also omit the .replace(&#39;\\\\&#39;,&#39;//) and it will work just fine."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1701363038,"post_id":77552031,"comment_id":136769016,"body_markdown":"@David You try to write a file in `C:/backup.sql` (or `C:\\backup.sql`). You usually can&#39;t write directly in `C:\\`, you have to specify a different target directory to generate your file in.","body":"@David You try to write a file in <code>C:&#47;backup.sql</code> (or <code>C:\\backup.sql</code>). You usually can&#39;t write directly in `C:`, you have to specify a different target directory to generate your file in."},{"owner":{"account_id":7491983,"reputation":499,"user_id":5693350,"accept_rate":44,"display_name":"David"},"score":0,"creation_date":1701452861,"post_id":77552031,"comment_id":136781641,"body_markdown":"@Progman I already worked around the issue (added the details on the question). What is not possible is when you attempt to to save in a directory e.g. Desktop and the machine name happens to have a space e.g. User Name. It brings about the permission denied mesage","body":"@Progman I already worked around the issue (added the details on the question). What is not possible is when you attempt to to save in a directory e.g. Desktop and the machine name happens to have a space e.g. User Name. It brings about the permission denied mesage"}],"owner":{"account_id":7491983,"reputation":499,"user_id":5693350,"accept_rate":44,"display_name":"David"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701359009,"creation_date":1701008101,"question_id":77552031,"body_markdown":"I have come up with java code to backup MariaDB database using mysqldump on Windows 11 operating system. I have used JFileChooser to select location for backup and a Backup button to start the process once the path is selected. The backup however does not happen on clicking the Backup button. The following error is displayed on netbeans. How do I get around it because the code seems fine.\r\n\r\nEdit: \r\nI got it to work by making use of the registry editor. Open registry editor and navigate to Computer\\HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\Current\\Version\\Polices\\System \r\n\r\n[![registry editor][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/5Lvkx.png\r\n\r\nRight click on EnableLUA and select modify.\r\nEnter 0 in the Value data field and click OK.\r\n[![dword 32][2]][2]\r\n\r\n\r\n[2]: https://i.stack.imgur.com/g1O5Q.png\r\n\r\nHowever, if you happen to select a path e.g. Desktop and the username happens to have a space, it still gives the error message. How do I deal with that?\r\n\r\n````\r\nC:\\Program Files/MariaDB 10.6/bin/mysqldump.exe: Can&#39;t create/write to file &#39;C:/backup.sql&#39; (Errcode: 13 &quot;Permission denied&quot;)   \r\n\r\n````\r\n````\r\nString location = null;\r\nString filename;\r\n````\r\n````\r\n//code to select backup location\r\nprivate void btnBrowseActionPerformed(java.awt.event.ActionEvent evt) {                                          \r\n        JFileChooser chooser = new JFileChooser();\r\n        chooser.showOpenDialog(this);\r\n        try{\r\n            File file = chooser.getSelectedFile();\r\n            location = file.getAbsolutePath();\r\n            location = location.replace(&#39;\\\\&#39;,&#39;/&#39;);\r\n            filename = location+&quot;.sql&quot;;\r\n            txtFileName.setText(filename);\r\n        }catch(Exception e){\r\n            JOptionPane.showMessageDialog(this,e);\r\n        }\r\n    }          \r\n\r\n//code to backup\r\nprivate void btnBackupActionPerformed(java.awt.event.ActionEvent evt) {                                          \r\n        Process process = null;\r\n        try{          \r\n            process = Runtime.getRuntime().exec(&quot;C:/Program Files/MariaDB 10.6/bin/mysqldump.exe -uroot -ppassword --add-drop-database -B database_name -r &quot;+filename);\r\n            int exitCode = process.waitFor();\r\n            \r\n            InputStream errorStream = process.getErrorStream();\r\n            byte[] buffer = new byte[errorStream.available()];\r\n            errorStream.read(buffer);\r\n\r\n            String str = new String(buffer);\r\n            System.out.println(str);\r\n            \r\n            if(exitCode == 0){\r\n                JOptionPane.showMessageDialog(this, &quot;Backup created&quot;);\r\n            }\r\n            else{\r\n                JOptionPane.showMessageDialog(this, &quot;Backup failed\\n &quot;+exitCode+&quot;&quot;);\r\n            }\r\n        }catch(HeadlessException | IOException | InterruptedException e){\r\n           JOptionPane.showMessageDialog(this, e);\r\n        }\r\n    } \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5Lvkx.png\r\n  [2]: https://i.stack.imgur.com/g1O5Q.png","title":"How do you backup MariaDB database using mysqldump in java?","body":"<p>I have come up with java code to backup MariaDB database using mysqldump on Windows 11 operating system. I have used JFileChooser to select location for backup and a Backup button to start the process once the path is selected. The backup however does not happen on clicking the Backup button. The following error is displayed on netbeans. How do I get around it because the code seems fine.</p>\n<p>Edit:\nI got it to work by making use of the registry editor. Open registry editor and navigate to Computer\\HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\Current\\Version\\Polices\\System</p>\n<p><a href=\"https://i.stack.imgur.com/5Lvkx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5Lvkx.png\" alt=\"registry editor\" /></a></p>\n<p>Right click on EnableLUA and select modify.\nEnter 0 in the Value data field and click OK.\n<a href=\"https://i.stack.imgur.com/g1O5Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g1O5Q.png\" alt=\"dword 32\" /></a></p>\n<p>However, if you happen to select a path e.g. Desktop and the username happens to have a space, it still gives the error message. How do I deal with that?</p>\n<pre><code>C:\\Program Files/MariaDB 10.6/bin/mysqldump.exe: Can't create/write to file 'C:/backup.sql' (Errcode: 13 &quot;Permission denied&quot;)   \n\n</code></pre>\n<pre><code>String location = null;\nString filename;\n</code></pre>\n<pre><code>//code to select backup location\nprivate void btnBrowseActionPerformed(java.awt.event.ActionEvent evt) {                                          \n        JFileChooser chooser = new JFileChooser();\n        chooser.showOpenDialog(this);\n        try{\n            File file = chooser.getSelectedFile();\n            location = file.getAbsolutePath();\n            location = location.replace('\\\\','/');\n            filename = location+&quot;.sql&quot;;\n            txtFileName.setText(filename);\n        }catch(Exception e){\n            JOptionPane.showMessageDialog(this,e);\n        }\n    }          \n\n//code to backup\nprivate void btnBackupActionPerformed(java.awt.event.ActionEvent evt) {                                          \n        Process process = null;\n        try{          \n            process = Runtime.getRuntime().exec(&quot;C:/Program Files/MariaDB 10.6/bin/mysqldump.exe -uroot -ppassword --add-drop-database -B database_name -r &quot;+filename);\n            int exitCode = process.waitFor();\n            \n            InputStream errorStream = process.getErrorStream();\n            byte[] buffer = new byte[errorStream.available()];\n            errorStream.read(buffer);\n\n            String str = new String(buffer);\n            System.out.println(str);\n            \n            if(exitCode == 0){\n                JOptionPane.showMessageDialog(this, &quot;Backup created&quot;);\n            }\n            else{\n                JOptionPane.showMessageDialog(this, &quot;Backup failed\\n &quot;+exitCode+&quot;&quot;);\n            }\n        }catch(HeadlessException | IOException | InterruptedException e){\n           JOptionPane.showMessageDialog(this, e);\n        }\n    } \n\n\n  [1]: https://i.stack.imgur.com/5Lvkx.png\n  [2]: https://i.stack.imgur.com/g1O5Q.png\n</code></pre>\n"},{"tags":["java","bash","maven","debian","java-home"],"comments":[{"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"score":0,"creation_date":1701363597,"post_id":77579729,"comment_id":136769118,"body_markdown":"what does `mvn -version` show?","body":"what does <code>mvn -version</code> show?"},{"owner":{"account_id":16810420,"reputation":3,"user_id":12153566,"display_name":"David Unger"},"score":0,"creation_date":1701385471,"post_id":77579729,"comment_id":136772628,"body_markdown":"Hello Feynman, when i try mvn -version i get the same error : \n\nowntoomanymonster@penguin:~/my-first-rest-app$ mvn -version\nThe JAVA_HOME environment variable is not defined correctly\nThis environment variable is needed to run this program\nNB: JAVA_HOME should point to a JDK not a JRE  \n\nMaven was installed earlier via apt.\nWhen i run apt install maven i receive this info and version:\nowntoomanymonster@penguin:~/my-first-rest-app$ sudo apt install maven\n...\nmaven is already the newest version (3.6.3-5).\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded. thx in advance","body":"Hello Feynman, when i try mvn -version i get the same error :   owntoomanymonster@penguin:~/my-first-rest-app$ mvn -version The JAVA_HOME environment variable is not defined correctly This environment variable is needed to run this program NB: JAVA_HOME should point to a JDK not a JRE    Maven was installed earlier via apt. When i run apt install maven i receive this info and version: owntoomanymonster@penguin:~/my-first-rest-app$ sudo apt install maven ... maven is already the newest version (3.6.3-5). 0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded. thx in advance"},{"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"score":0,"creation_date":1701444017,"post_id":77579729,"comment_id":136779993,"body_markdown":"For some reason JAVA_HOME seems to be correct but maven has `/bin/java` incorrectly added at the end.  Not sure how that happens as to my knowledge Maven should just be using JAVA_HOME","body":"For some reason JAVA_HOME seems to be correct but maven has <code>&#47;bin&#47;java</code> incorrectly added at the end.  Not sure how that happens as to my knowledge Maven should just be using JAVA_HOME"}],"owner":{"account_id":16810420,"reputation":3,"user_id":12153566,"display_name":"David Unger"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701358733,"creation_date":1701358661,"question_id":77579729,"body_markdown":"I started my first back-end course and performed all operations according to the tutors manual.\r\nWhen I tried to initialize the project with ./mvnw spring-boot:run\r\n\r\nI got an error:\r\n\r\n```\r\nowntoomanymonster@penguin:~/my-first-rest-app$ ./mvnw spring-boot:run\r\nError: JAVA_HOME is not defined correctly.\r\n  We cannot execute /owntoomanymonster/lib/jvm/java-11-openjdk-arm64/bin/java\r\n```\r\n\r\n\r\nhere is my java-home variable:\r\n\r\n```\r\nowntoomanymonster@penguin:~/my-first-rest-app$ echo $JAVA_HOME\r\n/owntoomanymonster/lib/jvm/java-11-openjdk-arm64\r\n\r\n```\r\n\r\n\r\nhere is a snapshot of my jvm directory:\r\n\r\n\r\n```\r\nowntoomanymonster@penguin:/lib/jvm$ ls\r\ndefault-java  java-1.11.0-openjdk-arm64  java-11-openjdk-arm64  openjdk-11\r\n\r\n```\r\nand here a snapshot of my bashrc:\r\n\r\n GNU nano 5.4                                                                                /home/owntoomanymonster/.bashrc                                                                                          \r\n```\r\nif [ -f ~/.bash_aliases ]; then\r\n    . ~/.bash_aliases\r\nfi\r\n\r\n# enable programmable completion features (you don&#39;t need to enable\r\n# this, if it&#39;s already enabled in /etc/bash.bashrc and /etc/profile\r\n# sources /etc/bash.bashrc).\r\nif ! shopt -oq posix; then\r\n  if [ -f /usr/share/bash-completion/bash_completion ]; then\r\n    . /usr/share/bash-completion/bash_completion\r\n  elif [ -f /etc/bash_completion ]; then\r\n    . /etc/bash_completion\r\n  fi\r\nfi\r\n\r\nexport NVM_DIR=&quot;$HOME/.config/nvm&quot;\r\n[ -s &quot;$NVM_DIR/nvm.sh&quot; ] &amp;&amp; \\. &quot;$NVM_DIR/nvm.sh&quot;  # This loads nvm\r\n[ -s &quot;$NVM_DIR/bash_completion&quot; ] &amp;&amp; \\. &quot;$NVM_DIR/bash_completion&quot;  # This loads nvm bash_completion\r\n\r\n export JAVA_HOME=/owntoomanymonster/lib/jvm/java-11-openjdk-arm64\r\n export PATH=$PATH:$JAVA_HOME/bin\r\n```\r\n\r\nI have no more idea what to do to get this fixed. I hope anybody knows how to set the Java-home correctly?\r\n\r\nKindest David\r\n\r\n\r\n\r\n\r\n\r\n1. Manually defined the java-home variable.\r\n\r\n2. Updated the bashrc config\r\n\r\n3. changed from link to real path  link: java-1.11.0-openjdk-arm64 real path   to real path: java-11-openjdk-arm64","title":"Cant start Maven project due to problems with Java_Home Variable Error: JAVA_HOME is not defined correctly","body":"<p>I started my first back-end course and performed all operations according to the tutors manual.\nWhen I tried to initialize the project with ./mvnw spring-boot:run</p>\n<p>I got an error:</p>\n<pre><code>owntoomanymonster@penguin:~/my-first-rest-app$ ./mvnw spring-boot:run\nError: JAVA_HOME is not defined correctly.\n  We cannot execute /owntoomanymonster/lib/jvm/java-11-openjdk-arm64/bin/java\n</code></pre>\n<p>here is my java-home variable:</p>\n<pre><code>owntoomanymonster@penguin:~/my-first-rest-app$ echo $JAVA_HOME\n/owntoomanymonster/lib/jvm/java-11-openjdk-arm64\n\n</code></pre>\n<p>here is a snapshot of my jvm directory:</p>\n<pre><code>owntoomanymonster@penguin:/lib/jvm$ ls\ndefault-java  java-1.11.0-openjdk-arm64  java-11-openjdk-arm64  openjdk-11\n\n</code></pre>\n<p>and here a snapshot of my bashrc:</p>\n<p>GNU nano 5.4                                                                                /home/owntoomanymonster/.bashrc</p>\n<pre><code>if [ -f ~/.bash_aliases ]; then\n    . ~/.bash_aliases\nfi\n\n# enable programmable completion features (you don't need to enable\n# this, if it's already enabled in /etc/bash.bashrc and /etc/profile\n# sources /etc/bash.bashrc).\nif ! shopt -oq posix; then\n  if [ -f /usr/share/bash-completion/bash_completion ]; then\n    . /usr/share/bash-completion/bash_completion\n  elif [ -f /etc/bash_completion ]; then\n    . /etc/bash_completion\n  fi\nfi\n\nexport NVM_DIR=&quot;$HOME/.config/nvm&quot;\n[ -s &quot;$NVM_DIR/nvm.sh&quot; ] &amp;&amp; \\. &quot;$NVM_DIR/nvm.sh&quot;  # This loads nvm\n[ -s &quot;$NVM_DIR/bash_completion&quot; ] &amp;&amp; \\. &quot;$NVM_DIR/bash_completion&quot;  # This loads nvm bash_completion\n\n export JAVA_HOME=/owntoomanymonster/lib/jvm/java-11-openjdk-arm64\n export PATH=$PATH:$JAVA_HOME/bin\n</code></pre>\n<p>I have no more idea what to do to get this fixed. I hope anybody knows how to set the Java-home correctly?</p>\n<p>Kindest David</p>\n<ol>\n<li><p>Manually defined the java-home variable.</p>\n</li>\n<li><p>Updated the bashrc config</p>\n</li>\n<li><p>changed from link to real path  link: java-1.11.0-openjdk-arm64 real path   to real path: java-11-openjdk-arm64</p>\n</li>\n</ol>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":8007119,"reputation":620,"user_id":6040113,"display_name":"monkeyStix"},"score":0,"creation_date":1645523617,"post_id":71219115,"comment_id":125887809,"body_markdown":"Do you have a JAVA_HOME environment variable overriding it perhaps?","body":"Do you have a JAVA_HOME environment variable overriding it perhaps?"},{"owner":{"account_id":2803497,"reputation":25192,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1645523659,"post_id":71219115,"comment_id":125887826,"body_markdown":"Check your `PATH` environment variable outside of Intellij. Also check `JAVA_HOME`. Align all of that with the JDK you actually want to use. It is generally easier if everything (command line, IDE, ...) points to the same JDK, if applicable.","body":"Check your <code>PATH</code> environment variable outside of Intellij. Also check <code>JAVA_HOME</code>. Align all of that with the JDK you actually want to use. It is generally easier if everything (command line, IDE, ...) points to the same JDK, if applicable."},{"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"score":2,"creation_date":1645523710,"post_id":71219115,"comment_id":125887843,"body_markdown":"Check to make sure your run configuration does not have a different version selected","body":"Check to make sure your run configuration does not have a different version selected"},{"owner":{"account_id":2701010,"reputation":1085,"user_id":2331741,"accept_rate":100,"display_name":"filip_j"},"score":0,"creation_date":1645523915,"post_id":71219115,"comment_id":125887930,"body_markdown":"That&#39;s it the run configuration was the problem. Thanks @Locke","body":"That&#39;s it the run configuration was the problem. Thanks @Locke"}],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1645523982,"creation_date":1645523982,"answer_id":71219225,"question_id":71219115,"body_markdown":"You have to check the following settings match (for Java 17):\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\nAlso if you use maven check that the correct version is set and if not, change them and reimport the project.\r\n\r\n  [1]: https://i.stack.imgur.com/AhSlh.png\r\n  [2]: https://i.stack.imgur.com/dTwx9.png\r\n  [3]: https://i.stack.imgur.com/xknEg.png","title":"Intellij executes with wrong java version","body":"<p>You have to check the following settings match (for Java 17):</p>\n<p><a href=\"https://i.stack.imgur.com/AhSlh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AhSlh.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/dTwx9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dTwx9.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/xknEg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xknEg.png\" alt=\"enter image description here\" /></a></p>\n<p>Also if you use maven check that the correct version is set and if not, change them and reimport the project.</p>\n"},{"tags":[],"owner":{"account_id":2701010,"reputation":1085,"user_id":2331741,"accept_rate":100,"display_name":"filip_j"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1645524018,"creation_date":1645524018,"answer_id":71219235,"question_id":71219115,"body_markdown":"The problem was in the run configuration. I needed to specify the java version as well. Thanks for the suggestions","title":"Intellij executes with wrong java version","body":"<p>The problem was in the run configuration. I needed to specify the java version as well. Thanks for the suggestions</p>\n"},{"tags":[],"owner":{"account_id":12602931,"reputation":34,"user_id":9165027,"display_name":"manosk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701358594,"creation_date":1701358594,"answer_id":77579723,"question_id":71219115,"body_markdown":"An update for 2023 version of Intelij:\r\n\r\nThere are 2 different solutions based on the issue at hand: \r\n 1. To build maven project, navigate to File | Settings | Build, Execution, Deployment | Build Tools | Maven | Runner -&gt; and make sure it is the correct java version \r\n 2. To run service, change the java version from project structure and run service again","title":"Intellij executes with wrong java version","body":"<p>An update for 2023 version of Intelij:</p>\n<p>There are 2 different solutions based on the issue at hand:</p>\n<ol>\n<li>To build maven project, navigate to File | Settings | Build, Execution, Deployment | Build Tools | Maven | Runner -&gt; and make sure it is the correct java version</li>\n<li>To run service, change the java version from project structure and run service again</li>\n</ol>\n"}],"owner":{"account_id":2701010,"reputation":1085,"user_id":2331741,"accept_rate":100,"display_name":"filip_j"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8400,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71219235,"answer_count":3,"score":2,"last_activity_date":1701358594,"creation_date":1645523503,"question_id":71219115,"body_markdown":"My Project is set to run with Java 11.\r\n[![enter image description here][1]][1]\r\n\r\nI can build it without any issues, but when I try to run it, it is looking for Java 1.8\r\n[![enter image description here][2]][2]\r\n\r\nRunning on Mac OS 12.2.1\r\nIntelliJ Version 2021.3.2\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6t2Dv.png\r\n  [2]: https://i.stack.imgur.com/oqDiE.png","title":"Intellij executes with wrong java version","body":"<p>My Project is set to run with Java 11.\n<a href=\"https://i.stack.imgur.com/6t2Dv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6t2Dv.png\" alt=\"enter image description here\" /></a></p>\n<p>I can build it without any issues, but when I try to run it, it is looking for Java 1.8\n<a href=\"https://i.stack.imgur.com/oqDiE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oqDiE.png\" alt=\"enter image description here\" /></a></p>\n<p>Running on Mac OS 12.2.1\nIntelliJ Version 2021.3.2</p>\n"},{"tags":["java","spring-boot","json-rpc","jsonrpc4j"],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670759585,"creation_date":1670759585,"answer_id":74760562,"question_id":74760350,"body_markdown":"It looks like `org.springframework.remoting`  was removed in Spring 6 (see [Drop RPC-style remoting: Hessian, HTTP Invoker, JMS Invoker, JAX-WS #27422][1]).  In Spring 5.3, the subclasses of `RemoteExporter` are marked deprecated (see  [Deprecate remoting technologies support #25379][2]), but interestingly enough, `RemoteExporter` itself wasn&#39;t marked as such, but it has been removed anyway. You&#39;ll need to find a replacement library or ask the developers of jsonrpc4j to provide a version which supports Spring 6/Spring Boot 3.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/issues/27422\r\n  [2]: https://github.com/spring-projects/spring-framework/issues/25379","title":"Application fails on run in a new release of SpringBoot 3.0.0","body":"<p>It looks like <code>org.springframework.remoting</code>  was removed in Spring 6 (see <a href=\"https://github.com/spring-projects/spring-framework/issues/27422\" rel=\"nofollow noreferrer\">Drop RPC-style remoting: Hessian, HTTP Invoker, JMS Invoker, JAX-WS #27422</a>).  In Spring 5.3, the subclasses of <code>RemoteExporter</code> are marked deprecated (see  <a href=\"https://github.com/spring-projects/spring-framework/issues/25379\" rel=\"nofollow noreferrer\">Deprecate remoting technologies support #25379</a>), but interestingly enough, <code>RemoteExporter</code> itself wasn't marked as such, but it has been removed anyway. You'll need to find a replacement library or ask the developers of jsonrpc4j to provide a version which supports Spring 6/Spring Boot 3.</p>\n"}],"owner":{"account_id":15991650,"reputation":33,"user_id":11540681,"display_name":"r2r"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":649,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74760562,"answer_count":1,"score":2,"last_activity_date":1701358007,"creation_date":1670757661,"question_id":74760350,"body_markdown":"I&#39;m using jsonrpc4j library to handle my jsonrpc api. After migrating to new release of SpringBoot 3.0.0 it builds, but fails on run with an error of RemoteExporter:\r\n\r\n```\r\nERROR 22396 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\njava.lang.NoClassDefFoundError: org/springframework/remoting/support/RemoteExporter\r\n```\r\n\r\nas jsonrpc4j uses it in it.\r\n\r\nThe reason seems to me in a version of Spring Context which comes with SpringBoot 3.0.0 dependency. `org.springframework.remoting` package is lack of `.support` package in that version.\r\n\r\nIs there any way to avoid the issue?","title":"Application fails on run in a new release of SpringBoot 3.0.0","body":"<p>I'm using jsonrpc4j library to handle my jsonrpc api. After migrating to new release of SpringBoot 3.0.0 it builds, but fails on run with an error of RemoteExporter:</p>\n<pre><code>ERROR 22396 --- [           main] o.s.boot.SpringApplication               : Application run failed\njava.lang.NoClassDefFoundError: org/springframework/remoting/support/RemoteExporter\n</code></pre>\n<p>as jsonrpc4j uses it in it.</p>\n<p>The reason seems to me in a version of Spring Context which comes with SpringBoot 3.0.0 dependency. <code>org.springframework.remoting</code> package is lack of <code>.support</code> package in that version.</p>\n<p>Is there any way to avoid the issue?</p>\n"},{"tags":["java","android","node.js","termux","termux-linux"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1701358495,"post_id":77579618,"comment_id":136768095,"body_markdown":"Something like [this](https://github.com/termux/termux-app/wiki/RUN_COMMAND-Intent)?","body":"Something like <a href=\"https://github.com/termux/termux-app/wiki/RUN_COMMAND-Intent\" rel=\"nofollow noreferrer\">this</a>?"}],"owner":{"account_id":30032774,"reputation":1,"user_id":23015485,"display_name":"Gabriele Trono"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701357748,"creation_date":1701357748,"question_id":77579618,"body_markdown":"I got a Java android app that receive buffer of byte from a nodejs, i want to run script when you open the app like \r\ncd backend\r\nsudo node server.js\r\nIs there a way?\r\n\r\nNow i open termux and run script and then I open my app.\r\nI didn&#39;t find anything to resolve my problem...","title":"Is there a way to run termux script from a android app?","body":"<p>I got a Java android app that receive buffer of byte from a nodejs, i want to run script when you open the app like\ncd backend\nsudo node server.js\nIs there a way?</p>\n<p>Now i open termux and run script and then I open my app.\nI didn't find anything to resolve my problem...</p>\n"},{"tags":["java","websphere","ejb-3.0","eclipse-wtp"],"comments":[{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":1,"creation_date":1700733622,"post_id":77534470,"comment_id":136691718,"body_markdown":"I&#39;d try one of the solutions form here https://stackoverflow.com/questions/18122336/cannot-change-version-of-project-facet-dynamic-web-module-to-3-0 . This talks about web project but I expect similar &quot;logic&quot; for ejb projects. So try &quot;uncheck&quot;, &quot;apply&quot;, &quot;recheck&quot;. Or just change the setting it the ...facet.core.xml file and restart Eclipse","body":"I&#39;d try one of the solutions form here <a href=\"https://stackoverflow.com/questions/18122336/cannot-change-version-of-project-facet-dynamic-web-module-to-3-0\" title=\"cannot change version of project facet dynamic web module to 3 0\">stackoverflow.com/questions/18122336/&hellip;</a> . This talks about web project but I expect similar &quot;logic&quot; for ejb projects. So try &quot;uncheck&quot;, &quot;apply&quot;, &quot;recheck&quot;. Or just change the setting it the ...facet.core.xml file and restart Eclipse"},{"owner":{"account_id":25541470,"reputation":1,"user_id":19327440,"display_name":"K-p"},"score":0,"creation_date":1701146854,"post_id":77534470,"comment_id":136736092,"body_markdown":"Compilation Errors remained same, even after changing ejb version in project facets.xml","body":"Compilation Errors remained same, even after changing ejb version in project facets.xml"},{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1701177176,"post_id":77534470,"comment_id":136740709,"body_markdown":"You didnt mention about any compilation errors. If you have compilation errors that completely different problem than switching spec in Eclipse, as this just changes editors in the tool not the compilation. You should put the errors in the question","body":"You didnt mention about any compilation errors. If you have compilation errors that completely different problem than switching spec in Eclipse, as this just changes editors in the tool not the compilation. You should put the errors in the question"},{"owner":{"account_id":25541470,"reputation":1,"user_id":19327440,"display_name":"K-p"},"score":0,"creation_date":1701331943,"post_id":77534470,"comment_id":136763116,"body_markdown":"1)Description\tResource\tPath\tLocation\tType\nCHKJ2017E: This class must implement javax.ejb.SessionBean (EJB 2.0: 7.5.1, 7.10.2).\tejb.jar\t/roject\tClass: com.xxxx.xxxxx.arch.app.internal.ServiceProviderBean\tEJB Validator Message \n2)Description\tResource\tPath\tLocation\tType\nCHKJ2017E: This interface must extend javax.ejb.EJBObject (EJB 2.0: 6.5, 7.10.5).\teb.jar\t/Project\tClass: com.xxxx.xxxxx.arch.app.internal.ServiceProvider\tEJB Validator Message \n\n\n I&#39;m getting above two ejb validation errors - @Gas","body":"1)Description\tResource\tPath\tLocation\tType CHKJ2017E: This class must implement javax.ejb.SessionBean (EJB 2.0: 7.5.1, 7.10.2).\tejb.jar\t/roject\tClass: com.xxxx.xxxxx.arch.app.internal.ServiceProviderBean\tEJB Validator Message  2)Description\tResource\tPath\tLocation\tType CHKJ2017E: This interface must extend javax.ejb.EJBObject (EJB 2.0: 6.5, 7.10.5).\teb.jar\t/Project\tClass: com.xxxx.xxxxx.arch.app.internal.ServiceProvider\tEJB Validator Message     I&#39;m getting above two ejb validation errors - @Gas"},{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1701358042,"post_id":77534470,"comment_id":136768008,"body_markdown":"Maybe your EAR is 1.4 EJB 3.0 is part of the Java EE 5 platform, so make sure you have correct EAR level, unless your EJBs are stand alone modules.","body":"Maybe your EAR is 1.4 EJB 3.0 is part of the Java EE 5 platform, so make sure you have correct EAR level, unless your EJBs are stand alone modules."}],"owner":{"account_id":25541470,"reputation":1,"user_id":19327440,"display_name":"K-p"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701357743,"creation_date":1700716234,"question_id":77534470,"body_markdown":"[Errors on project build](https://i.stack.imgur.com/ucYC6.png)\r\n\r\nTrying to migrate EJB project from 2.0 to 3.0, but got the above errors as EJB Project is referring to ejb2.0 version even Using annotations instead ejb-jar.xml in beans.\r\n\r\nOther Details:\r\nServer - WebSphere8.5.5 traditional server\r\nJava - 1.8 Version\r\n\r\nMeta-Inf of ejb module\r\n[EJB Project Meta-INF contains](https://i.stack.imgur.com/edBb3.png)\r\n\r\nProject Facets of  EJB project:\r\n[EJB module version is 2.x, unable to change to 3.0](https://i.stack.imgur.com/GeD0S.png)\r\nEjb Module version in project facet is 2.0, but not allowing to change to 3.0.\r\n\r\n\r\n\r\nDeleted ejb-jar.xml, and updated ibm bindings.\r\nAdded annotations to beans as required.\r\n\r\nBut got configurations errors. Unable to change version of ejb to 3.0.\r\n\r\nI&#39;m getting two ejb validation errors:  \r\n1) CHKJ2017E: This class must implement javax.ejb.SessionBean (EJB 2.0: 7.5.1, 7.10.2). ejb.jar /roject Class: com.xxxx.xxxxx.arch.app.internal.ServiceProviderBean EJB Validator Message   \r\n2)CHKJ2017E: This interface must extend javax.ejb.EJBObject (EJB 2.0: 6.5, 7.10.5). eb.jar /Project Class: com.xxxx.xxxxx.arch.app.internal.ServiceProvider EJB Validator Message ","title":"How to change EJB Module Version, if ejb-jar.xml is deleted to migrate module from 2.x to 3.0","body":"<p><a href=\"https://i.stack.imgur.com/ucYC6.png\" rel=\"nofollow noreferrer\">Errors on project build</a></p>\n<p>Trying to migrate EJB project from 2.0 to 3.0, but got the above errors as EJB Project is referring to ejb2.0 version even Using annotations instead ejb-jar.xml in beans.</p>\n<p>Other Details:\nServer - WebSphere8.5.5 traditional server\nJava - 1.8 Version</p>\n<p>Meta-Inf of ejb module\n<a href=\"https://i.stack.imgur.com/edBb3.png\" rel=\"nofollow noreferrer\">EJB Project Meta-INF contains</a></p>\n<p>Project Facets of  EJB project:\n<a href=\"https://i.stack.imgur.com/GeD0S.png\" rel=\"nofollow noreferrer\">EJB module version is 2.x, unable to change to 3.0</a>\nEjb Module version in project facet is 2.0, but not allowing to change to 3.0.</p>\n<p>Deleted ejb-jar.xml, and updated ibm bindings.\nAdded annotations to beans as required.</p>\n<p>But got configurations errors. Unable to change version of ejb to 3.0.</p>\n<p>I'm getting two ejb validation errors:</p>\n<ol>\n<li>CHKJ2017E: This class must implement javax.ejb.SessionBean (EJB 2.0: 7.5.1, 7.10.2). ejb.jar /roject Class: com.xxxx.xxxxx.arch.app.internal.ServiceProviderBean EJB Validator Message<br />\n2)CHKJ2017E: This interface must extend javax.ejb.EJBObject (EJB 2.0: 6.5, 7.10.5). eb.jar /Project Class: com.xxxx.xxxxx.arch.app.internal.ServiceProvider EJB Validator Message</li>\n</ol>\n"},{"tags":["java","eclipse","osgi"],"answers":[{"tags":[],"owner":{"account_id":44499,"reputation":23474,"user_id":130659,"accept_rate":100,"display_name":"AlBlue"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1260265179,"creation_date":1260265179,"answer_id":1865833,"question_id":1860770,"body_markdown":"Check the build.properties to see if the bin.includes includes your newly added Jar. Without it, it won&#39;t be exported by the build process, and thus won&#39;t be able to use it in dependent bundles.","title":"eclipse library bundle - fails to export packages from some libraries","body":"<p>Check the build.properties to see if the bin.includes includes your newly added Jar. Without it, it won't be exported by the build process, and thus won't be able to use it in dependent bundles.</p>\n"},{"tags":[],"owner":{"account_id":29838,"reputation":19362,"user_id":80906,"display_name":"Francis Upton IV"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1260265494,"creation_date":1260265494,"answer_id":1865856,"question_id":1860770,"body_markdown":"Check the following:  \r\n\r\n 1. Make sure they are in the Build\r\n    Configuration -&gt; Order and Export\r\n    area, and they are check for export.\r\n 2. Make sure you have the packages\r\n    exported in the manifest (PDE Tools\r\n    -&gt; Open Manifest -&gt; Runtime tab) \r\n 3. In the same place as above, make\r\n    sure the JAR files are in the\r\n    manifest classpath. \r\n 4. (as Al says\r\n    below), make sure the build\r\n    properties has your jars marked for\r\n    exclusion (though this is not likely\r\n    your issue as you are getting errors\r\n    compiling).\r\n\r\nIf all of this is done (and it&#39;s still not working), do a clean build an restart eclipse.  Sometimes the Eclipse gets a little confused about this and a restart helps.","title":"eclipse library bundle - fails to export packages from some libraries","body":"<p>Check the following:  </p>\n\n<ol>\n<li>Make sure they are in the Build\nConfiguration -> Order and Export\narea, and they are check for export.</li>\n<li>Make sure you have the packages\nexported in the manifest (PDE Tools\n-> Open Manifest -> Runtime tab) </li>\n<li>In the same place as above, make\nsure the JAR files are in the\nmanifest classpath. </li>\n<li>(as Al says\nbelow), make sure the build\nproperties has your jars marked for\nexclusion (though this is not likely\nyour issue as you are getting errors\ncompiling).</li>\n</ol>\n\n<p>If all of this is done (and it's still not working), do a clean build an restart eclipse.  Sometimes the Eclipse gets a little confused about this and a restart helps.</p>\n"},{"tags":[],"owner":{"account_id":1740608,"reputation":129,"user_id":1592127,"display_name":"doulos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701357349,"creation_date":1701357349,"answer_id":77579573,"question_id":1860770,"body_markdown":"if all this still does not help: there is a link item &quot;update the classpath settings&quot; on the Overview page of the manifest editor. Clicking this innocent little thingy finally did the job for me","title":"eclipse library bundle - fails to export packages from some libraries","body":"<p>if all this still does not help: there is a link item &quot;update the classpath settings&quot; on the Overview page of the manifest editor. Clicking this innocent little thingy finally did the job for me</p>\n"}],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8651,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":1865856,"answer_count":3,"score":4,"last_activity_date":1701357349,"creation_date":1260200457,"question_id":1860770,"body_markdown":"I&#39;ve created a simple plugin project in eclipse 3.5 that just stores third-party libraries for the use by other bundles in an eclipse RCP application. Worked as expected: I edited the manifest, exported the required packages and added the libraries to the build path (project build path as well as manifest build path).\r\n\r\nSome days later I added another jar to that project, did the same steps (exporting a package, adding the library to the build path(s)) but this time I can&#39;t import classes from that exported package in other bundles. The package was clearly selectable on the manifest editor but import statements in classes just taunt me with curly red lines. Importing classes from other packages exported by the bundles still works, only classes from the newly added lib remain invisible.\r\n\r\nHas anyone has an idea what I might have missed? I&#39;m pretty stuck and have no idea how to convince google to show me the solution to that ugly issue...","title":"eclipse library bundle - fails to export packages from some libraries","body":"<p>I've created a simple plugin project in eclipse 3.5 that just stores third-party libraries for the use by other bundles in an eclipse RCP application. Worked as expected: I edited the manifest, exported the required packages and added the libraries to the build path (project build path as well as manifest build path).</p>\n\n<p>Some days later I added another jar to that project, did the same steps (exporting a package, adding the library to the build path(s)) but this time I can't import classes from that exported package in other bundles. The package was clearly selectable on the manifest editor but import statements in classes just taunt me with curly red lines. Importing classes from other packages exported by the bundles still works, only classes from the newly added lib remain invisible.</p>\n\n<p>Has anyone has an idea what I might have missed? I'm pretty stuck and have no idea how to convince google to show me the solution to that ugly issue...</p>\n"},{"tags":["java","spring","classloader","java-module","spring-context"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1701080481,"post_id":77556100,"comment_id":136726316,"body_markdown":"Why are you messing around with classloaders in the firs tplace? Also the `ApplicationContextHolder` is sort of an anti-pattern and shouldn&#39;t be used.","body":"Why are you messing around with classloaders in the firs tplace? Also the <code>ApplicationContextHolder</code> is sort of an anti-pattern and shouldn&#39;t be used."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1701081150,"post_id":77556100,"comment_id":136726427,"body_markdown":"Looking into the issue.","body":"Looking into the issue."}],"answers":[{"tags":[],"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701357164,"creation_date":1701356862,"answer_id":77579537,"question_id":77556100,"body_markdown":"I solved the problem.\r\n\r\nSpring loads classes via `getResourceAsStream()` and by default uses `ClassPathResource` with `classLoader.getResourceAsStream(this.absolutePath)`. However, it wont work for the JPMS application. To make it work it is required to use `ModuleResource` (added in Spring 6.1) instead of `ClassPathResource`.\r\n\r\nSo, it is necessary to create custom `ResourceLoader` that will use `ModuleResource` add set it to context:\r\n\r\n    var iocContext = new  AnnotationConfigApplicationContext();\r\n    ...\r\n    var myModuleResourceLoader = ....\r\n    iocContext.setResourceLoader(myModuleResourceLoader);\r\n    iocContext.refresh();","title":"Problem reading classes from JPMS module in Spring 6","body":"<p>I solved the problem.</p>\n<p>Spring loads classes via <code>getResourceAsStream()</code> and by default uses <code>ClassPathResource</code> with <code>classLoader.getResourceAsStream(this.absolutePath)</code>. However, it wont work for the JPMS application. To make it work it is required to use <code>ModuleResource</code> (added in Spring 6.1) instead of <code>ClassPathResource</code>.</p>\n<p>So, it is necessary to create custom <code>ResourceLoader</code> that will use <code>ModuleResource</code> add set it to context:</p>\n<pre><code>var iocContext = new  AnnotationConfigApplicationContext();\n...\nvar myModuleResourceLoader = ....\niocContext.setResourceLoader(myModuleResourceLoader);\niocContext.refresh();\n</code></pre>\n"}],"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77579537,"answer_count":1,"score":1,"last_activity_date":1701357256,"creation_date":1701080286,"question_id":77556100,"body_markdown":"I have a JPMS application with layer tree. On `Layer C`  I need to create Spring context while Spring framework is located on `Layer B`:\r\n\r\n    boot layer\r\n      |- Layer B with Spring framework.\r\n           |- Layer C where I need to create my context\r\n\r\nComponent:\r\n\r\n    @Component\r\n    public class ApplicationContextHolder implements ApplicationContextAware {\r\n    \r\n        private static ConfigurableApplicationContext applicationContext;\r\n    \r\n        @Override\r\n        public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n            ApplicationContextHolder.applicationContext = (ConfigurableApplicationContext) applicationContext;\r\n        }\r\n    \r\n        public static ConfigurableApplicationContext getApplicationContext() {\r\n            return applicationContext;\r\n        }\r\n    }\r\n\r\nConfig:\r\n\r\n    @Configuration\r\n    @ComponentScan(basePackageClasses = {\r\n        ApplicationContextHolder.class\r\n    })\r\n    public class ContextConfig {\r\n    \r\n    }\r\n\r\nCreating context:\r\n\r\n        System.out.println(&quot;ThreadContextClassLoadere:&quot; + Thread.currentThread().getContextClassLoader());\r\n        System.out.println(&quot;This classLoader:&quot; + this.getClass().getClassLoader());\r\n        var clazz = this.getClass().getClassLoader().loadClass(&quot;org.springframework.context.ApplicationContextAware&quot;);\r\n        System.out.println(&quot;RESULT:&quot; + clazz);\r\n        iocContext = new  AnnotationConfigApplicationContext();\r\n        iocContext.register(ContextConfig.class);\r\n        iocContext.setClassLoader(this.getClass().getClassLoader());\r\n        iocContext.refresh();\r\n\r\nResult:\r\n\r\n    ThreadContextClassLoadere:jdk.internal.loader.Loader@63fcbf75\r\n    This classLoader:jdk.internal.loader.Loader@63fcbf75\r\n    RESULT:interface org.springframework.context.ApplicationContextAware\r\n    \r\n    Caused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.foo.ContextConfig]\r\n    \tat spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:178)\r\n    \tat spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:415)\r\n    \tat spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:287)\r\n    \tat spring.context@6.0.13/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344)\r\n    \tat spring.context@6.0.13/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115)\r\n    \tat spring.context@6.0.13/org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:779)\r\n    \tat spring.context@6.0.13/org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:597)\r\n            ....\r\n    Caused by: java.io.FileNotFoundException: class path resource [org/springframework/context/ApplicationContextAware.class] cannot be opened because it does not exist\r\n    \tat spring.core@6.0.13/org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:211)\r\n    \tat spring.core@6.0.13/org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:54)\r\n    \tat spring.core@6.0.13/org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:48)\r\n    \tat spring.core@6.0.13/org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\r\n    \tat spring.core@6.0.13/org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:122)\r\n    \tat spring.core@6.0.13/org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:81)\r\n    \tat spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.asSourceClass(ConfigurationClassParser.java:613)\r\n    \tat spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser$SourceClass.getInterfaces(ConfigurationClassParser.java:939)\r\n    \tat spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.processInterfaces(ConfigurationClassParser.java:379)\r\n    \tat spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:325)\r\n    \tat spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243)\r\n    \tat spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:188)\r\n    \tat spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:297)\r\n    \tat spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243)\r\n    \tat spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:196)\r\n    \tat spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:164)\r\n    \t... 16 more\r\n\r\nAs I understand (I may be wrong) Spring uses some other class loader. Could anyone say how to fix it?","title":"Problem reading classes from JPMS module in Spring 6","body":"<p>I have a JPMS application with layer tree. On <code>Layer C</code>  I need to create Spring context while Spring framework is located on <code>Layer B</code>:</p>\n<pre><code>boot layer\n  |- Layer B with Spring framework.\n       |- Layer C where I need to create my context\n</code></pre>\n<p>Component:</p>\n<pre><code>@Component\npublic class ApplicationContextHolder implements ApplicationContextAware {\n\n    private static ConfigurableApplicationContext applicationContext;\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        ApplicationContextHolder.applicationContext = (ConfigurableApplicationContext) applicationContext;\n    }\n\n    public static ConfigurableApplicationContext getApplicationContext() {\n        return applicationContext;\n    }\n}\n</code></pre>\n<p>Config:</p>\n<pre><code>@Configuration\n@ComponentScan(basePackageClasses = {\n    ApplicationContextHolder.class\n})\npublic class ContextConfig {\n\n}\n</code></pre>\n<p>Creating context:</p>\n<pre><code>    System.out.println(&quot;ThreadContextClassLoadere:&quot; + Thread.currentThread().getContextClassLoader());\n    System.out.println(&quot;This classLoader:&quot; + this.getClass().getClassLoader());\n    var clazz = this.getClass().getClassLoader().loadClass(&quot;org.springframework.context.ApplicationContextAware&quot;);\n    System.out.println(&quot;RESULT:&quot; + clazz);\n    iocContext = new  AnnotationConfigApplicationContext();\n    iocContext.register(ContextConfig.class);\n    iocContext.setClassLoader(this.getClass().getClassLoader());\n    iocContext.refresh();\n</code></pre>\n<p>Result:</p>\n<pre><code>ThreadContextClassLoadere:jdk.internal.loader.Loader@63fcbf75\nThis classLoader:jdk.internal.loader.Loader@63fcbf75\nRESULT:interface org.springframework.context.ApplicationContextAware\n\nCaused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.foo.ContextConfig]\n    at spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:178)\n    at spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:415)\n    at spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:287)\n    at spring.context@6.0.13/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344)\n    at spring.context@6.0.13/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115)\n    at spring.context@6.0.13/org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:779)\n    at spring.context@6.0.13/org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:597)\n        ....\nCaused by: java.io.FileNotFoundException: class path resource [org/springframework/context/ApplicationContextAware.class] cannot be opened because it does not exist\n    at spring.core@6.0.13/org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:211)\n    at spring.core@6.0.13/org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:54)\n    at spring.core@6.0.13/org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:48)\n    at spring.core@6.0.13/org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\n    at spring.core@6.0.13/org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:122)\n    at spring.core@6.0.13/org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:81)\n    at spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.asSourceClass(ConfigurationClassParser.java:613)\n    at spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser$SourceClass.getInterfaces(ConfigurationClassParser.java:939)\n    at spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.processInterfaces(ConfigurationClassParser.java:379)\n    at spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:325)\n    at spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243)\n    at spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:188)\n    at spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:297)\n    at spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243)\n    at spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:196)\n    at spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:164)\n    ... 16 more\n</code></pre>\n<p>As I understand (I may be wrong) Spring uses some other class loader. Could anyone say how to fix it?</p>\n"},{"tags":["java","web-services","jax-ws"],"comments":[{"owner":{"account_id":70258,"reputation":590434,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":6,"creation_date":1261480054,"post_id":1945618,"comment_id":1856242,"body_markdown":"Just a note: JAX-WS is a standard, which CXF implements.","body":"Just a note: JAX-WS is a standard, which CXF implements."},{"owner":{"account_id":1864755,"reputation":147,"user_id":1688584,"display_name":"DaveX"},"score":0,"creation_date":1351171024,"post_id":1945618,"comment_id":17752530,"body_markdown":"Setting Java system properties and environment variables see:&lt;br&gt;\r\nhttp://stackoverflow.com/questions/7054972/java-system-properties-and-environment-variables","body":"Setting Java system properties and environment variables see:&lt;br&gt;  <a href=\"http://stackoverflow.com/questions/7054972/java-system-properties-and-environment-variables\" title=\"java system properties and environment variables\">stackoverflow.com/questions/7054972/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":62440,"reputation":23185,"user_id":185541,"display_name":"rsp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1261484958,"creation_date":1261482762,"answer_id":1945917,"question_id":1945618,"body_markdown":"You could try to put a `ServletFilter` in front of the webservice and inspect request and response going to / returned from the service.\r\n\r\nAlthough you specifically did not ask for a proxy, sometimes I find [tcptrace][1] is enough to see what goes on on a connection. It&#39;s a simple tool, no install, it does show the data streams and can write to file too.\r\n\r\n\r\n  [1]: http://www.pocketsoap.com/tcptrace/","title":"Tracing XML request/responses with JAX-WS","body":"<p>You could try to put a <code>ServletFilter</code> in front of the webservice and inspect request and response going to / returned from the service.</p>\n\n<p>Although you specifically did not ask for a proxy, sometimes I find <a href=\"http://www.pocketsoap.com/tcptrace/\" rel=\"nofollow noreferrer\">tcptrace</a> is enough to see what goes on on a connection. It's a simple tool, no install, it does show the data streams and can write to file too.</p>\n"},{"tags":[],"owner":{"account_id":24198,"reputation":6978,"user_id":61395,"accept_rate":83,"display_name":"Shamik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1261483251,"creation_date":1261483251,"answer_id":1945966,"question_id":1945618,"body_markdown":"One way to do is not using your code but use network packet sniffers like Etheral or WireShark which can capture the HTTP packet with the XML message as payload to it and you can keep logging them to a file or so.\r\n\r\nBut more sophisticated approach is to write your own message handlers. You can have a look at it [here][1]. \r\n\r\n\r\n  [1]: http://java.sun.com/mailers/techtips/enterprise/2006/TechTips_June06.html","title":"Tracing XML request/responses with JAX-WS","body":"<p>One way to do is not using your code but use network packet sniffers like Etheral or WireShark which can capture the HTTP packet with the XML message as payload to it and you can keep logging them to a file or so.</p>\n\n<p>But more sophisticated approach is to write your own message handlers. You can have a look at it <a href=\"http://java.sun.com/mailers/techtips/enterprise/2006/TechTips_June06.html\" rel=\"nofollow noreferrer\">here</a>. </p>\n"},{"tags":[],"owner":{"account_id":2169,"reputation":3168,"user_id":2985,"accept_rate":56,"display_name":"stjohnroe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1261489946,"creation_date":1261489946,"answer_id":1946495,"question_id":1945618,"body_markdown":"You need to implement a javax.xml.ws.handler.LogicalHandler, this handler then needs to be referenced in a handler configuration file, which in turn is referenced by an @HandlerChain annotation in your service endpoint (interface or implementation).\r\nYou can then either output the message via system.out or a logger in your processMessage implementation. \r\n\r\nSee \r\n\r\n[http://publib.boulder.ibm.com/infocenter/wasinfo/v7r0/index.jsp?topic=/com.ibm.websphere.express.doc/info/exp/ae/twbs_jaxwshandler.html][1]\r\n\r\n[http://java.sun.com/mailers/techtips/enterprise/2006/TechTips_June06.html][2]\r\n\r\n\r\n  [1]: http://publib.boulder.ibm.com/infocenter/wasinfo/v7r0/index.jsp?topic=/com.ibm.websphere.express.doc/info/exp/ae/twbs_jaxwshandler.html\r\n  [2]: http://java.sun.com/mailers/techtips/enterprise/2006/TechTips_June06.html","title":"Tracing XML request/responses with JAX-WS","body":"<p>You need to implement a javax.xml.ws.handler.LogicalHandler, this handler then needs to be referenced in a handler configuration file, which in turn is referenced by an @HandlerChain annotation in your service endpoint (interface or implementation).\nYou can then either output the message via system.out or a logger in your processMessage implementation. </p>\n\n<p>See </p>\n\n<p><a href=\"http://publib.boulder.ibm.com/infocenter/wasinfo/v7r0/index.jsp?topic=/com.ibm.websphere.express.doc/info/exp/ae/twbs_jaxwshandler.html\" rel=\"nofollow noreferrer\">http://publib.boulder.ibm.com/infocenter/wasinfo/v7r0/index.jsp?topic=/com.ibm.websphere.express.doc/info/exp/ae/twbs_jaxwshandler.html</a></p>\n\n<p><a href=\"http://java.sun.com/mailers/techtips/enterprise/2006/TechTips_June06.html\" rel=\"nofollow noreferrer\">http://java.sun.com/mailers/techtips/enterprise/2006/TechTips_June06.html</a></p>\n"},{"tags":[],"owner":{"account_id":84779,"reputation":3077,"user_id":236773,"display_name":"Antonio"},"down_vote_count":1,"up_vote_count":98,"is_accepted":true,"score":97,"last_activity_date":1456922002,"creation_date":1261650917,"answer_id":1957777,"question_id":1945618,"body_markdown":"Here is the solution in raw code (put together thanks to stjohnroe and Shamik):\r\n\r\n    Endpoint ep = Endpoint.create(new WebserviceImpl());\r\n\tList&lt;Handler&gt; handlerChain = ep.getBinding().getHandlerChain();\r\n\thandlerChain.add(new SOAPLoggingHandler());\r\n\tep.getBinding().setHandlerChain(handlerChain);\r\n\tep.publish(publishURL);\r\n\r\n\r\nWhere SOAPLoggingHandler is (ripped from linked examples):\r\n\r\n    package com.myfirm.util.logging.ws;\r\n    \r\n    import java.io.PrintStream;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    \r\n    import javax.xml.namespace.QName;\r\n    import javax.xml.soap.SOAPMessage;\r\n    import javax.xml.ws.handler.MessageContext;\r\n    import javax.xml.ws.handler.soap.SOAPHandler;\r\n    import javax.xml.ws.handler.soap.SOAPMessageContext;\r\n    \r\n    /*\r\n     * This simple SOAPHandler will output the contents of incoming\r\n     * and outgoing messages.\r\n     */\r\n    public class SOAPLoggingHandler implements SOAPHandler&lt;SOAPMessageContext&gt; {\r\n        \r\n        // change this to redirect output if desired\r\n        private static PrintStream out = System.out;\r\n        \r\n        public Set&lt;QName&gt; getHeaders() {\r\n            return null;\r\n        }\r\n        \r\n        public boolean handleMessage(SOAPMessageContext smc) {\r\n            logToSystemOut(smc);\r\n            return true;\r\n        }\r\n        \r\n        public boolean handleFault(SOAPMessageContext smc) {\r\n            logToSystemOut(smc);\r\n            return true;\r\n        }\r\n        \r\n        // nothing to clean up\r\n        public void close(MessageContext messageContext) {\r\n        }\r\n        \r\n        /*\r\n         * Check the MESSAGE_OUTBOUND_PROPERTY in the context\r\n         * to see if this is an outgoing or incoming message.\r\n         * Write a brief message to the print stream and\r\n         * output the message. The writeTo() method can throw\r\n         * SOAPException or IOException\r\n         */\r\n        private void logToSystemOut(SOAPMessageContext smc) {\r\n            Boolean outboundProperty = (Boolean)\r\n                smc.get (MessageContext.MESSAGE_OUTBOUND_PROPERTY);\r\n            \r\n            if (outboundProperty.booleanValue()) {\r\n                out.println(&quot;\\nOutbound message:&quot;);\r\n            } else {\r\n                out.println(&quot;\\nInbound message:&quot;);\r\n            }\r\n            \r\n            SOAPMessage message = smc.getMessage();\r\n            try {\r\n                message.writeTo(out);\r\n                out.println(&quot;&quot;);   // just to add a newline\r\n            } catch (Exception e) {\r\n                out.println(&quot;Exception in handler: &quot; + e);\r\n            }\r\n        }\r\n    }\r\n","title":"Tracing XML request/responses with JAX-WS","body":"<p>Here is the solution in raw code (put together thanks to stjohnroe and Shamik):</p>\n\n<pre><code>Endpoint ep = Endpoint.create(new WebserviceImpl());\nList&lt;Handler&gt; handlerChain = ep.getBinding().getHandlerChain();\nhandlerChain.add(new SOAPLoggingHandler());\nep.getBinding().setHandlerChain(handlerChain);\nep.publish(publishURL);\n</code></pre>\n\n<p>Where SOAPLoggingHandler is (ripped from linked examples):</p>\n\n<pre><code>package com.myfirm.util.logging.ws;\n\nimport java.io.PrintStream;\nimport java.util.Map;\nimport java.util.Set;\n\nimport javax.xml.namespace.QName;\nimport javax.xml.soap.SOAPMessage;\nimport javax.xml.ws.handler.MessageContext;\nimport javax.xml.ws.handler.soap.SOAPHandler;\nimport javax.xml.ws.handler.soap.SOAPMessageContext;\n\n/*\n * This simple SOAPHandler will output the contents of incoming\n * and outgoing messages.\n */\npublic class SOAPLoggingHandler implements SOAPHandler&lt;SOAPMessageContext&gt; {\n\n    // change this to redirect output if desired\n    private static PrintStream out = System.out;\n\n    public Set&lt;QName&gt; getHeaders() {\n        return null;\n    }\n\n    public boolean handleMessage(SOAPMessageContext smc) {\n        logToSystemOut(smc);\n        return true;\n    }\n\n    public boolean handleFault(SOAPMessageContext smc) {\n        logToSystemOut(smc);\n        return true;\n    }\n\n    // nothing to clean up\n    public void close(MessageContext messageContext) {\n    }\n\n    /*\n     * Check the MESSAGE_OUTBOUND_PROPERTY in the context\n     * to see if this is an outgoing or incoming message.\n     * Write a brief message to the print stream and\n     * output the message. The writeTo() method can throw\n     * SOAPException or IOException\n     */\n    private void logToSystemOut(SOAPMessageContext smc) {\n        Boolean outboundProperty = (Boolean)\n            smc.get (MessageContext.MESSAGE_OUTBOUND_PROPERTY);\n\n        if (outboundProperty.booleanValue()) {\n            out.println(\"\\nOutbound message:\");\n        } else {\n            out.println(\"\\nInbound message:\");\n        }\n\n        SOAPMessage message = smc.getMessage();\n        try {\n            message.writeTo(out);\n            out.println(\"\");   // just to add a newline\n        } catch (Exception e) {\n            out.println(\"Exception in handler: \" + e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1701356157,"creation_date":1261651169,"answer_id":1957799,"question_id":1945618,"body_markdown":"There are various ways of doing this programmatically, as described in the other answers, but they&#39;re quite invasive mechanisms. However, if you know that you&#39;re using the JAX-WS RI (aka &quot;Metro&quot;), then you can do this at the configuration level. [See here for instructions][1] on how to do this. No need to mess about with your application.\r\n\r\n\r\n  [1]: https://javaee.github.io/metro/doc/user-guide/ch02.html#logging","title":"Tracing XML request/responses with JAX-WS","body":"<p>There are various ways of doing this programmatically, as described in the other answers, but they're quite invasive mechanisms. However, if you know that you're using the JAX-WS RI (aka &quot;Metro&quot;), then you can do this at the configuration level. <a href=\"https://javaee.github.io/metro/doc/user-guide/ch02.html#logging\" rel=\"nofollow noreferrer\">See here for instructions</a> on how to do this. No need to mess about with your application.</p>\n"},{"tags":[],"owner":{"account_id":1203678,"reputation":571,"user_id":1173846,"display_name":"Upendra"},"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1334882479,"creation_date":1327679139,"answer_id":9035984,"question_id":1945618,"body_markdown":"Before starting tomcat, set `JAVA_OPTS` as below in Linux envs. Then start Tomcat. You will see the request and response in the `catalina.out` file.\r\n\r\n    export JAVA_OPTS=&quot;$JAVA_OPTS -Dcom.sun.xml.ws.transport.http.client.HttpTransportPipe.dump=true&quot;","title":"Tracing XML request/responses with JAX-WS","body":"<p>Before starting tomcat, set <code>JAVA_OPTS</code> as below in Linux envs. Then start Tomcat. You will see the request and response in the <code>catalina.out</code> file.</p>\n\n<pre><code>export JAVA_OPTS=\"$JAVA_OPTS -Dcom.sun.xml.ws.transport.http.client.HttpTransportPipe.dump=true\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":57055,"reputation":5529,"user_id":170918,"display_name":"Mr. Napik"},"down_vote_count":0,"up_vote_count":346,"is_accepted":false,"score":346,"last_activity_date":1567581978,"creation_date":1367498593,"answer_id":16338394,"question_id":1945618,"body_markdown":"Following options enable logging of all communication to the console (technically, you only need one of these, but that depends on the libraries you use, so setting all four is safer option). You can set it in the code like in example, or as command line parameter using -D or as environment variable as Upendra wrote.\r\n \r\n    System.setProperty(&quot;com.sun.xml.ws.transport.http.client.HttpTransportPipe.dump&quot;, &quot;true&quot;);\r\n    System.setProperty(&quot;com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.dump&quot;, &quot;true&quot;);\r\n    System.setProperty(&quot;com.sun.xml.ws.transport.http.HttpAdapter.dump&quot;, &quot;true&quot;);\r\n    System.setProperty(&quot;com.sun.xml.internal.ws.transport.http.HttpAdapter.dump&quot;, &quot;true&quot;);\r\n    System.setProperty(&quot;com.sun.xml.internal.ws.transport.http.HttpAdapter.dumpTreshold&quot;, &quot;999999&quot;);\r\n\r\nSee question https://stackoverflow.com/questions/5350476/tracing-xml-request-responses-with-jax-ws-when-error-occurs for details.","title":"Tracing XML request/responses with JAX-WS","body":"<p>Following options enable logging of all communication to the console (technically, you only need one of these, but that depends on the libraries you use, so setting all four is safer option). You can set it in the code like in example, or as command line parameter using -D or as environment variable as Upendra wrote.</p>\n\n<pre><code>System.setProperty(\"com.sun.xml.ws.transport.http.client.HttpTransportPipe.dump\", \"true\");\nSystem.setProperty(\"com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.dump\", \"true\");\nSystem.setProperty(\"com.sun.xml.ws.transport.http.HttpAdapter.dump\", \"true\");\nSystem.setProperty(\"com.sun.xml.internal.ws.transport.http.HttpAdapter.dump\", \"true\");\nSystem.setProperty(\"com.sun.xml.internal.ws.transport.http.HttpAdapter.dumpTreshold\", \"999999\");\n</code></pre>\n\n<p>See question <a href=\"https://stackoverflow.com/questions/5350476/tracing-xml-request-responses-with-jax-ws-when-error-occurs\">Tracing XML request/responses with JAX-WS when error occurs</a> for details.</p>\n"},{"tags":[],"owner":{"account_id":3332564,"reputation":231,"user_id":2801140,"display_name":"TriMix"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1379726268,"creation_date":1379725364,"answer_id":18927870,"question_id":1945618,"body_markdown":"// This solution provides a way programatically add a handler to the web service clien w/o the XML config\r\n\r\n// See full doc here: http://docs.oracle.com/cd/E17904_01//web.1111/e13734/handlers.htm#i222476\r\n\r\n// Create new class that implements SOAPHandler\r\n\r\n    public class LogMessageHandler implements SOAPHandler&lt;SOAPMessageContext&gt; {\r\n\r\n    @Override\r\n    public Set&lt;QName&gt; getHeaders() {\r\n        return Collections.EMPTY_SET;\r\n    }\r\n\r\n    @Override\r\n    public boolean handleMessage(SOAPMessageContext context) {\r\n        SOAPMessage msg = context.getMessage(); //Line 1\r\n        try {\r\n            msg.writeTo(System.out);  //Line 3\r\n        } catch (Exception ex) {\r\n            Logger.getLogger(LogMessageHandler.class.getName()).log(Level.SEVERE, null, ex);\r\n        } \r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean handleFault(SOAPMessageContext context) {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public void close(MessageContext context) {\r\n    }\r\n    }\r\n\r\n// Programatically add your LogMessageHandler\r\n \r\n\r\n       com.csd.Service service = null;\r\n        URL url = new URL(&quot;https://service.demo.com/ResService.svc?wsdl&quot;);\r\n\r\n        service = new com.csd.Service(url);\r\n        \r\n        com.csd.IService port = service.getBasicHttpBindingIService();\r\n        BindingProvider bindingProvider = (BindingProvider)port;\r\n        Binding binding = bindingProvider.getBinding();\r\n        List&lt;Handler&gt; handlerChain = binding.getHandlerChain();\r\n        handlerChain.add(new LogMessageHandler());\r\n        binding.setHandlerChain(handlerChain);\r\n\r\n\r\n","title":"Tracing XML request/responses with JAX-WS","body":"<p>// This solution provides a way programatically add a handler to the web service clien w/o the XML config</p>\n\n<p>// See full doc here: <a href=\"http://docs.oracle.com/cd/E17904_01//web.1111/e13734/handlers.htm#i222476\" rel=\"noreferrer\">http://docs.oracle.com/cd/E17904_01//web.1111/e13734/handlers.htm#i222476</a></p>\n\n<p>// Create new class that implements SOAPHandler</p>\n\n<pre><code>public class LogMessageHandler implements SOAPHandler&lt;SOAPMessageContext&gt; {\n\n@Override\npublic Set&lt;QName&gt; getHeaders() {\n    return Collections.EMPTY_SET;\n}\n\n@Override\npublic boolean handleMessage(SOAPMessageContext context) {\n    SOAPMessage msg = context.getMessage(); //Line 1\n    try {\n        msg.writeTo(System.out);  //Line 3\n    } catch (Exception ex) {\n        Logger.getLogger(LogMessageHandler.class.getName()).log(Level.SEVERE, null, ex);\n    } \n    return true;\n}\n\n@Override\npublic boolean handleFault(SOAPMessageContext context) {\n    return true;\n}\n\n@Override\npublic void close(MessageContext context) {\n}\n}\n</code></pre>\n\n<p>// Programatically add your LogMessageHandler</p>\n\n<pre><code>   com.csd.Service service = null;\n    URL url = new URL(\"https://service.demo.com/ResService.svc?wsdl\");\n\n    service = new com.csd.Service(url);\n\n    com.csd.IService port = service.getBasicHttpBindingIService();\n    BindingProvider bindingProvider = (BindingProvider)port;\n    Binding binding = bindingProvider.getBinding();\n    List&lt;Handler&gt; handlerChain = binding.getHandlerChain();\n    handlerChain.add(new LogMessageHandler());\n    binding.setHandlerChain(handlerChain);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":177341,"reputation":2482,"user_id":1695242,"display_name":"jozh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1383754930,"creation_date":1383754930,"answer_id":19817276,"question_id":1945618,"body_markdown":"In **runtime** you could simply execute\r\n\r\n    com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.dump = true\r\n\r\nas *dump* is a public var defined in the class as follows\r\n\r\n    public static boolean dump;","title":"Tracing XML request/responses with JAX-WS","body":"<p>In <strong>runtime</strong> you could simply execute</p>\n\n<pre><code>com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.dump = true\n</code></pre>\n\n<p>as <em>dump</em> is a public var defined in the class as follows</p>\n\n<pre><code>public static boolean dump;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3885931,"reputation":97,"user_id":3217296,"accept_rate":33,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1413214370,"creation_date":1413214370,"answer_id":26343654,"question_id":1945618,"body_markdown":"I am posting a new answer, as I do not have enough reputation to comment on the one provided by [Antonio](https://stackoverflow.com/users/236773/antonio) (see: https://stackoverflow.com/a/1957777).\r\n\r\nIn case you want the SOAP message to be printed in a file (e.g. via Log4j), you may use:\r\n\r\n    OutputStream os = new ByteArrayOutputStream();\r\n    javax.xml.soap.SOAPMessage soapMsg = context.getMessage();\r\n    soapMsg.writeTo(os);\r\n    Logger LOG = Logger.getLogger(SOAPLoggingHandler.class); // Assuming SOAPLoggingHandler is the class name\r\n    LOG.info(os.toString());\r\n\r\nPlease note that under certain circumstances, the method call writeTo() may not behave as expected (see: https://community.oracle.com/thread/1123104?tstart=0 or https://www.java.net/node/691073), therefore the following code will do the trick:\r\n\r\n    javax.xml.soap.SOAPMessage soapMsg = context.getMessage();\r\n    com.sun.xml.ws.api.message.Message msg = new com.sun.xml.ws.message.saaj.SAAJMessage(soapMsg);\r\n    com.sun.xml.ws.api.message.Packet packet = new com.sun.xml.ws.api.message.Packet(msg);\r\n    Logger LOG = Logger.getLogger(SOAPLoggingHandler.class); // Assuming SOAPLoggingHandler is the class name\r\n    LOG.info(packet.toString());","title":"Tracing XML request/responses with JAX-WS","body":"<p>I am posting a new answer, as I do not have enough reputation to comment on the one provided by <a href=\"https://stackoverflow.com/users/236773/antonio\">Antonio</a> (see: <a href=\"https://stackoverflow.com/a/1957777\">https://stackoverflow.com/a/1957777</a>).</p>\n\n<p>In case you want the SOAP message to be printed in a file (e.g. via Log4j), you may use:</p>\n\n<pre><code>OutputStream os = new ByteArrayOutputStream();\njavax.xml.soap.SOAPMessage soapMsg = context.getMessage();\nsoapMsg.writeTo(os);\nLogger LOG = Logger.getLogger(SOAPLoggingHandler.class); // Assuming SOAPLoggingHandler is the class name\nLOG.info(os.toString());\n</code></pre>\n\n<p>Please note that under certain circumstances, the method call writeTo() may not behave as expected (see: <a href=\"https://community.oracle.com/thread/1123104?tstart=0\" rel=\"nofollow noreferrer\">https://community.oracle.com/thread/1123104?tstart=0</a> or <a href=\"https://www.java.net/node/691073\" rel=\"nofollow noreferrer\">https://www.java.net/node/691073</a>), therefore the following code will do the trick:</p>\n\n<pre><code>javax.xml.soap.SOAPMessage soapMsg = context.getMessage();\ncom.sun.xml.ws.api.message.Message msg = new com.sun.xml.ws.message.saaj.SAAJMessage(soapMsg);\ncom.sun.xml.ws.api.message.Packet packet = new com.sun.xml.ws.api.message.Packet(msg);\nLogger LOG = Logger.getLogger(SOAPLoggingHandler.class); // Assuming SOAPLoggingHandler is the class name\nLOG.info(packet.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6316353,"reputation":113,"user_id":4906158,"accept_rate":50,"display_name":"Aneesh Barthakur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432269424,"creation_date":1432269424,"answer_id":30388456,"question_id":1945618,"body_markdown":"am I correct in understanding that you want to change/access the raw XML message?\r\n\r\nIf so, you (or since this is five years old, the next guy) might want to have a look at the Provider interface that is part of the JAXWS. The client counterpart is done using the &quot;Dispatch&quot; class. Anyway, you don&#39;t have to add handlers or interceptors. You still CAN, of course. The downside is this way, you are COMPLETELY responsible for building the SOAPMessage, but its easy, and if that&#39;s what you want(like I did) this is perfect.\r\n\r\nHere is an example for the server side(bit clumsy, it was just for experimenting)-\r\n\r\n    @WebServiceProvider(portName=&quot;Provider1Port&quot;,serviceName=&quot;Provider1&quot;,targetNamespace = &quot;http://localhost:8123/SoapContext/SoapPort1&quot;)\r\n    @ServiceMode(value=Service.Mode.MESSAGE)\r\n    public class Provider1 implements Provider&lt;SOAPMessage&gt;\r\n    {\r\n      public Provider1()\r\n      {\r\n      }\r\n     \r\n      public SOAPMessage invoke(SOAPMessage request)\r\n      {\ttry{\r\n      \r\n       \t  \r\n       \t\tFile log= new File(&quot;/home/aneeshb/practiceinapachecxf/log.txt&quot;);//creates file object\r\n    \t\tFileWriter fw=new FileWriter(log);//creates filewriter and actually creates file on disk\r\n    \t\r\n    \t\t\tfw.write(&quot;Provider has been invoked&quot;);\r\n    \t\t\tfw.write(&quot;This is the request&quot;+request.getSOAPBody().getTextContent());\r\n    \t\t\t \r\n       \t  MessageFactory mf = MessageFactory.newInstance();\r\n          SOAPFactory sf = SOAPFactory.newInstance();\r\n           \r\n          SOAPMessage response = mf.createMessage();\r\n          SOAPBody respBody = response.getSOAPBody();\r\n          Name bodyName = sf.createName(&quot;Provider1Insertedmainbody&quot;);\r\n          respBody.addBodyElement(bodyName);\r\n          SOAPElement respContent = respBody.addChildElement(&quot;provider1&quot;);\r\n          respContent.setValue(&quot;123.00&quot;);\r\n          response.saveChanges();\r\n          fw.write(&quot;This is the response&quot;+response.getSOAPBody().getTextContent());\r\n          fw.close();\r\n          return response;}catch(Exception e){return request;}\r\n    \r\n    \t\r\n       }\r\n    }\r\n\t\r\n\r\nYou publish it like you would an SEI,\r\n\r\n    public class ServerJSFB {\r\n    \r\n        protected ServerJSFB() throws Exception {\r\n            System.out.println(&quot;Starting Server&quot;);\r\n            System.out.println(&quot;Starting SoapService1&quot;);\r\n            \r\n            Object implementor = new Provider1();//create implementor\r\n            String address = &quot;http://localhost:8123/SoapContext/SoapPort1&quot;;\r\n            \r\n            JaxWsServerFactoryBean svrFactory = new JaxWsServerFactoryBean();//create serverfactorybean\r\n            \r\n            svrFactory.setAddress(address);\r\n            svrFactory.setServiceBean(implementor);\r\n    \r\n            svrFactory.create();//create the server. equivalent to publishing the endpoint\r\n            System.out.println(&quot;Starting SoapService1&quot;);\r\n      }\r\n\r\n    public static void main(String args[]) throws Exception {\r\n        new ServerJSFB();\r\n        System.out.println(&quot;Server ready...&quot;);\r\n\r\n        Thread.sleep(10 * 60 * 1000);\r\n        System.out.println(&quot;Server exiting&quot;);\r\n        System.exit(0);\r\n    }\r\n    }\r\n\r\nOr you can use an Endpoint class for it.\r\nHope that has been helpful.\r\n\r\nAnd oh, if you want you needn&#39;t deal with headers and stuff, if you change the service mode to PAYLOAD(You&#39;ll only get the Soap Body).\r\n\r\n","title":"Tracing XML request/responses with JAX-WS","body":"<p>am I correct in understanding that you want to change/access the raw XML message?</p>\n\n<p>If so, you (or since this is five years old, the next guy) might want to have a look at the Provider interface that is part of the JAXWS. The client counterpart is done using the \"Dispatch\" class. Anyway, you don't have to add handlers or interceptors. You still CAN, of course. The downside is this way, you are COMPLETELY responsible for building the SOAPMessage, but its easy, and if that's what you want(like I did) this is perfect.</p>\n\n<p>Here is an example for the server side(bit clumsy, it was just for experimenting)-</p>\n\n<pre><code>@WebServiceProvider(portName=\"Provider1Port\",serviceName=\"Provider1\",targetNamespace = \"http://localhost:8123/SoapContext/SoapPort1\")\n@ServiceMode(value=Service.Mode.MESSAGE)\npublic class Provider1 implements Provider&lt;SOAPMessage&gt;\n{\n  public Provider1()\n  {\n  }\n\n  public SOAPMessage invoke(SOAPMessage request)\n  { try{\n\n\n        File log= new File(\"/home/aneeshb/practiceinapachecxf/log.txt\");//creates file object\n        FileWriter fw=new FileWriter(log);//creates filewriter and actually creates file on disk\n\n            fw.write(\"Provider has been invoked\");\n            fw.write(\"This is the request\"+request.getSOAPBody().getTextContent());\n\n      MessageFactory mf = MessageFactory.newInstance();\n      SOAPFactory sf = SOAPFactory.newInstance();\n\n      SOAPMessage response = mf.createMessage();\n      SOAPBody respBody = response.getSOAPBody();\n      Name bodyName = sf.createName(\"Provider1Insertedmainbody\");\n      respBody.addBodyElement(bodyName);\n      SOAPElement respContent = respBody.addChildElement(\"provider1\");\n      respContent.setValue(\"123.00\");\n      response.saveChanges();\n      fw.write(\"This is the response\"+response.getSOAPBody().getTextContent());\n      fw.close();\n      return response;}catch(Exception e){return request;}\n\n\n   }\n}\n</code></pre>\n\n<p>You publish it like you would an SEI,</p>\n\n<pre><code>public class ServerJSFB {\n\n    protected ServerJSFB() throws Exception {\n        System.out.println(\"Starting Server\");\n        System.out.println(\"Starting SoapService1\");\n\n        Object implementor = new Provider1();//create implementor\n        String address = \"http://localhost:8123/SoapContext/SoapPort1\";\n\n        JaxWsServerFactoryBean svrFactory = new JaxWsServerFactoryBean();//create serverfactorybean\n\n        svrFactory.setAddress(address);\n        svrFactory.setServiceBean(implementor);\n\n        svrFactory.create();//create the server. equivalent to publishing the endpoint\n        System.out.println(\"Starting SoapService1\");\n  }\n\npublic static void main(String args[]) throws Exception {\n    new ServerJSFB();\n    System.out.println(\"Server ready...\");\n\n    Thread.sleep(10 * 60 * 1000);\n    System.out.println(\"Server exiting\");\n    System.exit(0);\n}\n}\n</code></pre>\n\n<p>Or you can use an Endpoint class for it.\nHope that has been helpful.</p>\n\n<p>And oh, if you want you needn't deal with headers and stuff, if you change the service mode to PAYLOAD(You'll only get the Soap Body).</p>\n"},{"tags":[],"owner":{"account_id":1875874,"reputation":71891,"user_id":1697099,"accept_rate":100,"display_name":"Premraj"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1526962322,"creation_date":1452758209,"answer_id":34784290,"question_id":1945618,"body_markdown":"Inject `SOAPHandler` to endpoint interface. we can trace the SOAP request and response\r\n\r\nImplementing SOAPHandler with **Programmatic** \r\n     \r\n    ServerImplService service = new ServerImplService();\r\n    Server port = imgService.getServerImplPort();\r\n    /**********for tracing xml inbound and outbound******************************/\r\n    Binding binding = ((BindingProvider)port).getBinding();\r\n    List&lt;Handler&gt; handlerChain = binding.getHandlerChain();\r\n    handlerChain.add(new SOAPLoggingHandler());\r\n    binding.setHandlerChain(handlerChain);\r\n\r\n**Declarative**  by adding `@HandlerChain(file = &quot;handlers.xml&quot;)` annotation to your endpoint interface.\r\n\r\n\r\nhandlers.xml\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;handler-chains xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;&gt;\r\n    \t&lt;handler-chain&gt;\r\n    \t\t&lt;handler&gt;\r\n    \t\t\t&lt;handler-class&gt;SOAPLoggingHandler&lt;/handler-class&gt;\r\n    \t\t&lt;/handler&gt;\r\n    \t&lt;/handler-chain&gt;\r\n    &lt;/handler-chains&gt;\r\n\r\nSOAPLoggingHandler.java  \r\n\r\n\r\n    /*\r\n     * This simple SOAPHandler will output the contents of incoming\r\n     * and outgoing messages.\r\n     */\r\n    \r\n      \r\n    public class SOAPLoggingHandler implements SOAPHandler&lt;SOAPMessageContext&gt; {\r\n    \tpublic Set&lt;QName&gt; getHeaders() {\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \tpublic boolean handleMessage(SOAPMessageContext context) {\r\n    \t\tBoolean isRequest = (Boolean) context.get(MessageContext.MESSAGE_OUTBOUND_PROPERTY);\r\n    \t\tif (isRequest) {\r\n    \t\t\tSystem.out.println(&quot;is Request&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;is Response&quot;);\r\n    \t\t}\r\n    \t\tSOAPMessage message = context.getMessage();\r\n    \t\ttry {\r\n    \t\t\tSOAPEnvelope envelope = message.getSOAPPart().getEnvelope();\r\n    \t\t\tSOAPHeader header = envelope.getHeader();\r\n    \t\t\tmessage.writeTo(System.out);\r\n    \t\t} catch (SOAPException | IOException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \tpublic boolean handleFault(SOAPMessageContext smc) {\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t// nothing to clean up\r\n    \tpublic void close(MessageContext messageContext) {\r\n    \t}\r\n    \r\n    }","title":"Tracing XML request/responses with JAX-WS","body":"<p>Inject <code>SOAPHandler</code> to endpoint interface. we can trace the SOAP request and response</p>\n\n<p>Implementing SOAPHandler with <strong>Programmatic</strong> </p>\n\n<pre><code>ServerImplService service = new ServerImplService();\nServer port = imgService.getServerImplPort();\n/**********for tracing xml inbound and outbound******************************/\nBinding binding = ((BindingProvider)port).getBinding();\nList&lt;Handler&gt; handlerChain = binding.getHandlerChain();\nhandlerChain.add(new SOAPLoggingHandler());\nbinding.setHandlerChain(handlerChain);\n</code></pre>\n\n<p><strong>Declarative</strong>  by adding <code>@HandlerChain(file = \"handlers.xml\")</code> annotation to your endpoint interface.</p>\n\n<p>handlers.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;handler-chains xmlns=\"http://java.sun.com/xml/ns/javaee\"&gt;\n    &lt;handler-chain&gt;\n        &lt;handler&gt;\n            &lt;handler-class&gt;SOAPLoggingHandler&lt;/handler-class&gt;\n        &lt;/handler&gt;\n    &lt;/handler-chain&gt;\n&lt;/handler-chains&gt;\n</code></pre>\n\n<p>SOAPLoggingHandler.java  </p>\n\n<pre><code>/*\n * This simple SOAPHandler will output the contents of incoming\n * and outgoing messages.\n */\n\n\npublic class SOAPLoggingHandler implements SOAPHandler&lt;SOAPMessageContext&gt; {\n    public Set&lt;QName&gt; getHeaders() {\n        return null;\n    }\n\n    public boolean handleMessage(SOAPMessageContext context) {\n        Boolean isRequest = (Boolean) context.get(MessageContext.MESSAGE_OUTBOUND_PROPERTY);\n        if (isRequest) {\n            System.out.println(\"is Request\");\n        } else {\n            System.out.println(\"is Response\");\n        }\n        SOAPMessage message = context.getMessage();\n        try {\n            SOAPEnvelope envelope = message.getSOAPPart().getEnvelope();\n            SOAPHeader header = envelope.getHeader();\n            message.writeTo(System.out);\n        } catch (SOAPException | IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return true;\n    }\n\n    public boolean handleFault(SOAPMessageContext smc) {\n        return true;\n    }\n\n    // nothing to clean up\n    public void close(MessageContext messageContext) {\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":434060,"reputation":654,"user_id":2708444,"display_name":"vbg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464725962,"creation_date":1464725962,"answer_id":37554930,"question_id":1945618,"body_markdown":"Actually. If you look into sources of HttpClientTransport you will notice that it is also writing messages into java.util.logging.Logger. Which means you can see those messages in your logs too.\r\n\r\nFor example if you are using Log4J2 all you need to do is the following:\r\n\r\n - add JUL-Log4J2 bridge into your class path\r\n - set TRACE level for com.sun.xml.internal.ws.transport.http.client package.\r\n - add -Djava.util.logging.manager=org.apache.logging.log4j.jul.LogManager system property to your applicaton start command line\r\n\r\nAfter these steps you start seeing SOAP messages in your logs.","title":"Tracing XML request/responses with JAX-WS","body":"<p>Actually. If you look into sources of HttpClientTransport you will notice that it is also writing messages into java.util.logging.Logger. Which means you can see those messages in your logs too.</p>\n\n<p>For example if you are using Log4J2 all you need to do is the following:</p>\n\n<ul>\n<li>add JUL-Log4J2 bridge into your class path</li>\n<li>set TRACE level for com.sun.xml.internal.ws.transport.http.client package.</li>\n<li>add -Djava.util.logging.manager=org.apache.logging.log4j.jul.LogManager system property to your applicaton start command line</li>\n</ul>\n\n<p>After these steps you start seeing SOAP messages in your logs.</p>\n"},{"tags":[],"owner":{"account_id":3314513,"reputation":3779,"user_id":2787184,"accept_rate":65,"display_name":"2787184"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1567581897,"creation_date":1484912071,"answer_id":41762728,"question_id":1945618,"body_markdown":"Set the following system properties, this will enabled xml logging. You can set it in java or configuration file.\r\n\r\n    static{\r\n    \t\tSystem.setProperty(&quot;com.sun.xml.ws.transport.http.client.HttpTransportPipe.dump&quot;, &quot;true&quot;);\r\n    \t\tSystem.setProperty(&quot;com.sun.xml.ws.transport.http.HttpAdapter.dump&quot;, &quot;true&quot;);\r\n    \t\tSystem.setProperty(&quot;com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.dump&quot;, &quot;true&quot;);\r\n    \t\tSystem.setProperty(&quot;com.sun.xml.internal.ws.transport.http.HttpAdapter.dump&quot;, &quot;true&quot;);\r\n    \t\tSystem.setProperty(&quot;com.sun.xml.internal.ws.transport.http.HttpAdapter.dumpTreshold&quot;, &quot;999999&quot;);\r\n    \t}\r\n\r\nconsole logs:\r\n\r\n    INFO: Outbound Message\r\n    ---------------------------\r\n    ID: 1\r\n    Address: http://localhost:7001/arm-war/castService\r\n    Encoding: UTF-8\r\n    Http-Method: POST\r\n    Content-Type: text/xml\r\n    Headers: {Accept=[*/*], SOAPAction=[&quot;&quot;]}\r\n    Payload: xml\r\n    --------------------------------------\r\n    INFO: Inbound Message\r\n    ----------------------------\r\n    ID: 1\r\n    Response-Code: 200\r\n    Encoding: UTF-8\r\n    Content-Type: text/xml; charset=UTF-8\r\n    Headers: {content-type=[text/xml; charset=UTF-8], Date=[Fri, 20 Jan 2017 11:30:48 GMT], transfer-encoding=[chunked]}\r\n    Payload: xml\r\n    --------------------------------------","title":"Tracing XML request/responses with JAX-WS","body":"<p>Set the following system properties, this will enabled xml logging. You can set it in java or configuration file.</p>\n\n<pre><code>static{\n        System.setProperty(\"com.sun.xml.ws.transport.http.client.HttpTransportPipe.dump\", \"true\");\n        System.setProperty(\"com.sun.xml.ws.transport.http.HttpAdapter.dump\", \"true\");\n        System.setProperty(\"com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.dump\", \"true\");\n        System.setProperty(\"com.sun.xml.internal.ws.transport.http.HttpAdapter.dump\", \"true\");\n        System.setProperty(\"com.sun.xml.internal.ws.transport.http.HttpAdapter.dumpTreshold\", \"999999\");\n    }\n</code></pre>\n\n<p>console logs:</p>\n\n<pre><code>INFO: Outbound Message\n---------------------------\nID: 1\nAddress: http://localhost:7001/arm-war/castService\nEncoding: UTF-8\nHttp-Method: POST\nContent-Type: text/xml\nHeaders: {Accept=[*/*], SOAPAction=[\"\"]}\nPayload: xml\n--------------------------------------\nINFO: Inbound Message\n----------------------------\nID: 1\nResponse-Code: 200\nEncoding: UTF-8\nContent-Type: text/xml; charset=UTF-8\nHeaders: {content-type=[text/xml; charset=UTF-8], Date=[Fri, 20 Jan 2017 11:30:48 GMT], transfer-encoding=[chunked]}\nPayload: xml\n--------------------------------------\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1509975318,"creation_date":1509974594,"answer_id":47138014,"question_id":1945618,"body_markdown":"The answers listed here which guide you to use `SOAPHandler` are fully correct. The benefit of that approach is that it will work with any JAX-WS implementation, as SOAPHandler is part of the JAX-WS specification. However, the problem with SOAPHandler is that it implicitly attempts to represent the whole XML message in memory. This can lead to huge memory usage. Various implementations of JAX-WS have added their own workarounds for this. If you work with large requests or large responses, then you need to look into one of the proprietary approaches.\r\n\r\nSince you ask about &quot;the one included in JDK 1.5 or better&quot; I&#39;ll answer with respect to what is formally known as JAX-WS RI (aka Metro) which is what is included with the JDK.\r\n\r\nJAX-WS RI has a specific solution for this which is very efficient in terms of memory usage.\r\n\r\nSee https://javaee.github.io/metro/doc/user-guide/ch02.html#efficient-handlers-in-jax-ws-ri. Unfortunately that link is now broken but you can find it on WayBack Machine. I&#39;ll give the highlights below:\r\n\r\nThe Metro folks back in 2007 [introduced][1] an additional handler type, `MessageHandler&lt;MessageHandlerContext&gt;`, which is proprietary to Metro. It is far more efficient than `SOAPHandler&lt;SOAPMessageContext&gt;` as it doesn&#39;t try to do in-memory DOM representation.\r\n\r\nHere&#39;s the crucial text from the original blog article:\r\n\r\n&gt; MessageHandler:\r\n&gt;\r\n&gt; Utilizing the extensible Handler framework provided by JAX-WS\r\n&gt; Specification and the better Message abstraction in RI, we introduced\r\n&gt; a new handler called `MessageHandler` to extend your Web Service\r\n&gt; applications. MessageHandler is similar to SOAPHandler, except that\r\n&gt; implementations of it gets access to `MessageHandlerContext` (an\r\n&gt; extension of MessageContext).  Through MessageHandlerContext one can\r\n&gt; access the Message and process it using the Message API. As I put in\r\n&gt; the title of the blog, this handler lets you work on Message, which\r\n&gt; provides efficient ways to access/process the message not just a DOM\r\n&gt; based message. The programming model of the handlers is same and the\r\n&gt; Message handlers can be mixed with standard Logical and SOAP handlers.\r\n&gt; I have added a sample in JAX-WS RI 2.1.3 showing the use of\r\n&gt; MessageHandler to log messages and here is a snippet from the sample:\r\n\r\n    public class LoggingHandler implements MessageHandler&lt;MessageHandlerContext&gt; {\r\n        public boolean handleMessage(MessageHandlerContext mhc) {\r\n            Message m = mhc.getMessage().copy();\r\n            XMLStreamWriter writer = XMLStreamWriterFactory.create(System.out);\r\n            try {\r\n                m.writeTo(writer);\r\n            } catch (XMLStreamException e) {\r\n                e.printStackTrace();\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        public boolean handleFault(MessageHandlerContext mhc) {\r\n            ..... \r\n            return true;\r\n        }\r\n        \r\n        public void close(MessageContext messageContext) {    }\r\n       \r\n        public Set getHeaders() {\r\n            return null;\r\n        }\r\n    }\r\n\r\n(end quote from 2007 blog post)\r\n\r\nNeedless to say your custom Handler, `LoggingHandler` in the example, needs to be added to your Handler Chain to have any effect. This is the same as adding any other `Handler`, so you can look in the [other answers][2] on this page for how to do that.\r\n\r\nYou can find a [full example][3] in the [Metro GitHub repo][4].\r\n\r\n\r\n  [1]: https://github.com/javaee/metro-jax-ws/issues/482\r\n  [2]: https://stackoverflow.com/a/34784290/1504556\r\n  [3]: https://github.com/javaee/metro-jax-ws/blob/master/jaxws-ri/samples/src/main/samples/efficient_handler/\r\n  [4]: https://github.com/javaee/metro-jax-ws/","title":"Tracing XML request/responses with JAX-WS","body":"<p>The answers listed here which guide you to use <code>SOAPHandler</code> are fully correct. The benefit of that approach is that it will work with any JAX-WS implementation, as SOAPHandler is part of the JAX-WS specification. However, the problem with SOAPHandler is that it implicitly attempts to represent the whole XML message in memory. This can lead to huge memory usage. Various implementations of JAX-WS have added their own workarounds for this. If you work with large requests or large responses, then you need to look into one of the proprietary approaches.</p>\n\n<p>Since you ask about \"the one included in JDK 1.5 or better\" I'll answer with respect to what is formally known as JAX-WS RI (aka Metro) which is what is included with the JDK.</p>\n\n<p>JAX-WS RI has a specific solution for this which is very efficient in terms of memory usage.</p>\n\n<p>See <a href=\"https://javaee.github.io/metro/doc/user-guide/ch02.html#efficient-handlers-in-jax-ws-ri\" rel=\"nofollow noreferrer\">https://javaee.github.io/metro/doc/user-guide/ch02.html#efficient-handlers-in-jax-ws-ri</a>. Unfortunately that link is now broken but you can find it on WayBack Machine. I'll give the highlights below:</p>\n\n<p>The Metro folks back in 2007 <a href=\"https://github.com/javaee/metro-jax-ws/issues/482\" rel=\"nofollow noreferrer\">introduced</a> an additional handler type, <code>MessageHandler&lt;MessageHandlerContext&gt;</code>, which is proprietary to Metro. It is far more efficient than <code>SOAPHandler&lt;SOAPMessageContext&gt;</code> as it doesn't try to do in-memory DOM representation.</p>\n\n<p>Here's the crucial text from the original blog article:</p>\n\n<blockquote>\n  <p>MessageHandler:</p>\n  \n  <p>Utilizing the extensible Handler framework provided by JAX-WS\n  Specification and the better Message abstraction in RI, we introduced\n  a new handler called <code>MessageHandler</code> to extend your Web Service\n  applications. MessageHandler is similar to SOAPHandler, except that\n  implementations of it gets access to <code>MessageHandlerContext</code> (an\n  extension of MessageContext).  Through MessageHandlerContext one can\n  access the Message and process it using the Message API. As I put in\n  the title of the blog, this handler lets you work on Message, which\n  provides efficient ways to access/process the message not just a DOM\n  based message. The programming model of the handlers is same and the\n  Message handlers can be mixed with standard Logical and SOAP handlers.\n  I have added a sample in JAX-WS RI 2.1.3 showing the use of\n  MessageHandler to log messages and here is a snippet from the sample:</p>\n</blockquote>\n\n<pre><code>public class LoggingHandler implements MessageHandler&lt;MessageHandlerContext&gt; {\n    public boolean handleMessage(MessageHandlerContext mhc) {\n        Message m = mhc.getMessage().copy();\n        XMLStreamWriter writer = XMLStreamWriterFactory.create(System.out);\n        try {\n            m.writeTo(writer);\n        } catch (XMLStreamException e) {\n            e.printStackTrace();\n            return false;\n        }\n        return true;\n    }\n\n    public boolean handleFault(MessageHandlerContext mhc) {\n        ..... \n        return true;\n    }\n\n    public void close(MessageContext messageContext) {    }\n\n    public Set getHeaders() {\n        return null;\n    }\n}\n</code></pre>\n\n<p>(end quote from 2007 blog post)</p>\n\n<p>Needless to say your custom Handler, <code>LoggingHandler</code> in the example, needs to be added to your Handler Chain to have any effect. This is the same as adding any other <code>Handler</code>, so you can look in the <a href=\"https://stackoverflow.com/a/34784290/1504556\">other answers</a> on this page for how to do that.</p>\n\n<p>You can find a <a href=\"https://github.com/javaee/metro-jax-ws/blob/master/jaxws-ri/samples/src/main/samples/efficient_handler/\" rel=\"nofollow noreferrer\">full example</a> in the <a href=\"https://github.com/javaee/metro-jax-ws/\" rel=\"nofollow noreferrer\">Metro GitHub repo</a>.</p>\n"},{"tags":[],"owner":{"account_id":193533,"reputation":411,"user_id":435327,"display_name":"Christian Goudreau"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549983354,"creation_date":1549983354,"answer_id":54652868,"question_id":1945618,"body_markdown":"with logback.xml configuration files, you can do : \r\n\r\n    &lt;logger name=&quot;com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe&quot; level=&quot;trace&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n    &lt;/logger&gt;\r\n\r\nThat will log the request and the response like this (depending on your configuration for the log output) :\r\n\r\n    09:50:23.266 [qtp1068445309-21] DEBUG c.s.x.i.w.t.h.c.HttpTransportPipe - ---[HTTP request - http://xyz:8081/xyz.svc]---\r\n    Accept: application/soap+xml, multipart/related\r\n    Content-Type: application/soap+xml; charset=utf-8;action=&quot;http://xyz.Web.Services/IServiceBase/GetAccessTicket&quot;\r\n    User-Agent: JAX-WS RI 2.2.9-b130926.1035 svn-revision#5f6196f2b90e9460065a4c2f4e30e065b245e51e\r\n    &lt;?xml version=&quot;1.0&quot; ?&gt;&lt;S:Envelope xmlns:S=&quot;http://www.w3.org/2003/05/soap-envelope&quot;&gt;[CONTENT REMOVED]&lt;/S:Envelope&gt;--------------------\r\n    \r\n    09:50:23.312 [qtp1068445309-21] DEBUG c.s.x.i.w.t.h.c.HttpTransportPipe - ---[HTTP response - http://xyz:8081/xyz.svc - 200]---\r\n    null: HTTP/1.1 200 OK\r\n    Content-Length: 792\r\n    Content-Type: application/soap+xml; charset=utf-8\r\n    Date: Tue, 12 Feb 2019 14:50:23 GMT\r\n    Server: Microsoft-IIS/10.0\r\n    X-Powered-By: ASP.NET\r\n    &lt;s:Envelope xmlns:s=&quot;http://www.w3.org/2003/05/soap-envelope&quot; xmlns:a=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;[CONTENT REMOVED]&lt;/s:Envelope&gt;--------------------\r\n\r\n","title":"Tracing XML request/responses with JAX-WS","body":"<p>with logback.xml configuration files, you can do : </p>\n\n<pre><code>&lt;logger name=\"com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe\" level=\"trace\" additivity=\"false\"&gt;\n    &lt;appender-ref ref=\"STDOUT\"/&gt;\n&lt;/logger&gt;\n</code></pre>\n\n<p>That will log the request and the response like this (depending on your configuration for the log output) :</p>\n\n<pre><code>09:50:23.266 [qtp1068445309-21] DEBUG c.s.x.i.w.t.h.c.HttpTransportPipe - ---[HTTP request - http://xyz:8081/xyz.svc]---\nAccept: application/soap+xml, multipart/related\nContent-Type: application/soap+xml; charset=utf-8;action=\"http://xyz.Web.Services/IServiceBase/GetAccessTicket\"\nUser-Agent: JAX-WS RI 2.2.9-b130926.1035 svn-revision#5f6196f2b90e9460065a4c2f4e30e065b245e51e\n&lt;?xml version=\"1.0\" ?&gt;&lt;S:Envelope xmlns:S=\"http://www.w3.org/2003/05/soap-envelope\"&gt;[CONTENT REMOVED]&lt;/S:Envelope&gt;--------------------\n\n09:50:23.312 [qtp1068445309-21] DEBUG c.s.x.i.w.t.h.c.HttpTransportPipe - ---[HTTP response - http://xyz:8081/xyz.svc - 200]---\nnull: HTTP/1.1 200 OK\nContent-Length: 792\nContent-Type: application/soap+xml; charset=utf-8\nDate: Tue, 12 Feb 2019 14:50:23 GMT\nServer: Microsoft-IIS/10.0\nX-Powered-By: ASP.NET\n&lt;s:Envelope xmlns:s=\"http://www.w3.org/2003/05/soap-envelope\" xmlns:a=\"http://www.w3.org/2005/08/addressing\"&gt;[CONTENT REMOVED]&lt;/s:Envelope&gt;--------------------\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16380191,"reputation":11,"user_id":11831420,"display_name":"JChanthamontry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564167921,"creation_date":1564156678,"answer_id":57223466,"question_id":1945618,"body_markdown":"I had been trying to find some framework library to log the web service soap request and response for a couple days. The code below fixed the issue for me:\r\n\r\n \r\n\r\n    System.setProperty(&quot;com.sun.xml.ws.transport.http.client.HttpTransportPipe.dump&quot;, &quot;true&quot;);\r\n            System.setProperty(&quot;com.sun.xml.ws.transport.http.HttpAdapter.dump&quot;, &quot;true&quot;);\r\n            System.setProperty(&quot;com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.dump&quot;, &quot;true&quot;);\r\n            System.setProperty(&quot;com.sun.xml.internal.ws.transport.http.HttpAdapter.dump&quot;, &quot;true&quot;);","title":"Tracing XML request/responses with JAX-WS","body":"<p>I had been trying to find some framework library to log the web service soap request and response for a couple days. The code below fixed the issue for me:</p>\n\n<pre><code>System.setProperty(\"com.sun.xml.ws.transport.http.client.HttpTransportPipe.dump\", \"true\");\n        System.setProperty(\"com.sun.xml.ws.transport.http.HttpAdapter.dump\", \"true\");\n        System.setProperty(\"com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.dump\", \"true\");\n        System.setProperty(\"com.sun.xml.internal.ws.transport.http.HttpAdapter.dump\", \"true\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1379180,"reputation":66,"user_id":1312559,"display_name":"Mikko Tuominen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586967238,"creation_date":1586967238,"answer_id":61233496,"question_id":1945618,"body_markdown":"There are a couple of answers using SoapHandlers in this thread. You should know that SoapHandlers modify the message if `writeTo(out)` is called.\r\n\r\nCalling SOAPMessage&#39;s `writeTo(out)` method automatically calls `saveChanges()` method also. As a result all attached MTOM/XOP binary data in a message is lost.\r\n\r\nI am not sure why this is happening, but it seems to be a documented feature.\r\n\r\n&gt; In addition, this method marks the point at which the data from all constituent AttachmentPart objects are pulled into the message.\r\n\r\n[https://docs.oracle.com/javase/7/docs/api/javax/xml/soap/SOAPMessage.html#saveChanges()][1]\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/javax/xml/soap/SOAPMessage.html#saveChanges()","title":"Tracing XML request/responses with JAX-WS","body":"<p>There are a couple of answers using SoapHandlers in this thread. You should know that SoapHandlers modify the message if <code>writeTo(out)</code> is called.</p>\n\n<p>Calling SOAPMessage's <code>writeTo(out)</code> method automatically calls <code>saveChanges()</code> method also. As a result all attached MTOM/XOP binary data in a message is lost.</p>\n\n<p>I am not sure why this is happening, but it seems to be a documented feature.</p>\n\n<blockquote>\n  <p>In addition, this method marks the point at which the data from all constituent AttachmentPart objects are pulled into the message.</p>\n</blockquote>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/javax/xml/soap/SOAPMessage.html#saveChanges()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/javax/xml/soap/SOAPMessage.html#saveChanges()</a></p>\n"},{"tags":[],"owner":{"account_id":1379180,"reputation":66,"user_id":1312559,"display_name":"Mikko Tuominen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586968080,"creation_date":1586968080,"answer_id":61233764,"question_id":1945618,"body_markdown":"If you happen to run a IBM Liberty app server, just add [ibm-ws-bnd.xml](https://www.ibm.com/support/knowledgecenter/SSAW57_liberty/com.ibm.websphere.wlp.nd.multiplatform.doc/ae/rwlp_jaxws_bnd.html) into WEB-INF directory.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;webservices-bnd\r\n\txmlns=&quot;http://websphere.ibm.com/xml/ns/javaee&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://websphere.ibm.com/xml/ns/javaee http://websphere.ibm.com/xml/ns/javaee/ibm-ws-bnd_1_0.xsd&quot;\r\n\tversion=&quot;1.0&quot;&gt;\r\n\t&lt;webservice-endpoint-properties\r\n\t\tenableLoggingInOutInterceptor=&quot;true&quot; /&gt;\r\n&lt;/webservices-bnd&gt;\r\n```","title":"Tracing XML request/responses with JAX-WS","body":"<p>If you happen to run a IBM Liberty app server, just add <a href=\"https://www.ibm.com/support/knowledgecenter/SSAW57_liberty/com.ibm.websphere.wlp.nd.multiplatform.doc/ae/rwlp_jaxws_bnd.html\" rel=\"nofollow noreferrer\">ibm-ws-bnd.xml</a> into WEB-INF directory.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;webservices-bnd\n    xmlns=\"http://websphere.ibm.com/xml/ns/javaee\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://websphere.ibm.com/xml/ns/javaee http://websphere.ibm.com/xml/ns/javaee/ibm-ws-bnd_1_0.xsd\"\n    version=\"1.0\"&gt;\n    &lt;webservice-endpoint-properties\n        enableLoggingInOutInterceptor=\"true\" /&gt;\n&lt;/webservices-bnd&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6783557,"reputation":1252,"user_id":5223047,"display_name":"ltlBeBoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615499880,"creation_date":1615499880,"answer_id":66591144,"question_id":1945618,"body_markdown":"**Solution for Glassfish/Payara**\r\n\r\nAdd the following entries to the logger settings (log level `FINER`):\r\n\r\n - com.sun.xml.ws.transport.http.client.HttpTransportPipe\r\n - com.sun.xml.ws.transport.http.HttpAdapter\r\n\r\nFound [here][1].\r\n\r\n\r\n  [1]: https://github.com/javaee/metro-jax-ws/issues/791#issuecomment-296748123","title":"Tracing XML request/responses with JAX-WS","body":"<p><strong>Solution for Glassfish/Payara</strong></p>\n<p>Add the following entries to the logger settings (log level <code>FINER</code>):</p>\n<ul>\n<li>com.sun.xml.ws.transport.http.client.HttpTransportPipe</li>\n<li>com.sun.xml.ws.transport.http.HttpAdapter</li>\n</ul>\n<p>Found <a href=\"https://github.com/javaee/metro-jax-ws/issues/791#issuecomment-296748123\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":84779,"reputation":3077,"user_id":236773,"display_name":"Antonio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303758,"favorite_count":0,"down_vote_count":1,"up_vote_count":210,"accepted_answer_id":1957777,"answer_count":20,"score":209,"last_activity_date":1701356157,"creation_date":1261479280,"question_id":1945618,"body_markdown":"Is there an easy way (aka: not using a proxy) to get access to the raw request/response XML for a webservice published with JAX-WS reference implementation (the one included in JDK 1.5 and better) ?\r\nBeing able to do that via code is what I need to do.\r\nJust having it logged to a file by clever logging configurations would be nice but enough.\r\n\r\nI know that other more complex and complete frameworks exist that might do that, but I would like to keep it as simple as possible and axis, cxf, etc all add considerable overhead that I want to avoid.\r\n\r\nThanks!","title":"Tracing XML request/responses with JAX-WS","body":"<p>Is there an easy way (aka: not using a proxy) to get access to the raw request/response XML for a webservice published with JAX-WS reference implementation (the one included in JDK 1.5 and better) ?\nBeing able to do that via code is what I need to do.\nJust having it logged to a file by clever logging configurations would be nice but enough.</p>\n\n<p>I know that other more complex and complete frameworks exist that might do that, but I would like to keep it as simple as possible and axis, cxf, etc all add considerable overhead that I want to avoid.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","mysql","spring-boot","hibernate"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1657206169,"post_id":72899893,"comment_id":128760650,"body_markdown":"You have no `@Transactional` it seems. Your call `izabrane.get(i).addNabavkaKorpa(nk);` causes this error, because you did load the data at some point, but didn&#39;t initialize the dependencies properly. Also, consider naming your entities/variables in English, especially when asking a question here. It makes it much easier for us to understand your code","body":"You have no <code>@Transactional</code> it seems. Your call <code>izabrane.get(i).addNabavkaKorpa(nk);</code> causes this error, because you did load the data at some point, but didn&#39;t initialize the dependencies properly. Also, consider naming your entities/variables in English, especially when asking a question here. It makes it much easier for us to understand your code"},{"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"score":0,"creation_date":1657211237,"post_id":72899893,"comment_id":128762581,"body_markdown":"@XtremeBaumer I think `@Transactional` will not help. See my answer for the details please.","body":"@XtremeBaumer I think <code>@Transactional</code> will not help. See my answer for the details please."}],"answers":[{"tags":[],"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657275691,"creation_date":1657210713,"answer_id":72901182,"question_id":72899893,"body_markdown":"The cause of an error that you get a list `List&lt;Namirnica&gt; izabrane` at one step (lets name it `A`) of the flow, but work with `Namirinica` items at the second step(`B`).\r\n\r\nThis list is lazy by default. It means that you can access it at `A` point only (when `@Transaction`/Persistent Context/Hibernate Session is open).\r\n```java \r\n@OneToMany(mappedBy=&quot;namirnica&quot;)\r\nprivate List&lt;NabavkaKorpa&gt; nabavkaKorpas = new ArrayList&lt;NabavkaKorpa&gt;();\r\n```\r\nEven opening a new transaction at the `B` point will not help, because it will be another Persistent context/Hibernate session (not the same as in the `A` point).\r\n\r\nYou can try to make `nabavkaKorpas` `EAGER`, probably it will help.\r\nBut you have a design problem.\r\n\r\n\r\n**Common rule**\r\n\r\nNever work with an associated collection from the `@OneToMany` part.\r\n\r\n**How to fix**\r\n\r\nYou have to save a new `NabavkaKorpa`, not `Namirnica`.\r\n```java\r\nNabavkaKorpa nabavka = new NabavkaKorpa();\r\nnabavka.setNamirnica(namirnica);\r\n\r\nnabavkaKorpaRepositiry.save(nabavka);\r\n\r\n```\r\nYou don&#39;t even need `Namirnica` to do it.\r\n\r\nFor Hibernate\r\n```java\r\nNamirnica namirnica= new Namirnica();\r\nnamirnica.setId(namirnicaId);\r\n\r\nNabavkaKorpa nabavka = new NabavkaKorpa();\r\nnabavka.setNamirnica(namirnica);\r\n\r\nnabavkaKorpaRepositiry.save(nabavka);\r\n```\r\n\r\nFor Spring Data (to not having additional query to get Namirnica from a database)\r\n```java\r\nNamirnica namirnica= namirinicaRepositiry.getOne(namirnicaId);\r\n\r\nNabavkaKorpa nabavka = new NabavkaKorpa();\r\nnabavka.setNamirnica(namirnica);\r\n\r\nnabavkaKorpaRepositiry.save(nabavka);\r\n```\r\n\r\n**Notes about Persistent Context**\r\n\r\nWhen you use `@Transactional` annotation on the method, there is not only an open transaction inside that method, but also opened Persistent Context/Hibernate Session. So such `@Transactional` approach that using widely in Spring is a bit confused.\r\n\r\nWhen Persistent Context is open, Hibernate observe all changes that are made for persistent objects, like `Namirnica` and `NabavkaKorpa`, and try to save them to the database, so you even don&#39;t need to call `save()` method of a repository (but I prefer to explicitly call it).\r\nSo in such situation you, probably, can keep association in the valid state from two sides: `Namirnica` has `NabavkaKorpa` in the list and `NabavkaKorpa` refers to `Namirnica`. But usually I don&#39;t keep such things.  \r\n\r\nWhen Persistent Context is closed, Hibernate doesn&#39;t observe changes and you don&#39;t have to keep associations in the valid state. When you call a repository method, for each such call a separate Persistent Context is created. And all such calls are independent from the Hibernate point of view. You can enable SQL logging and see what happens.\r\n\r\nSo you don&#39;t need to do\r\n```java\r\nizabrane.get(i).addNabavkaKorpa(nk);\r\n```\r\nJust work with `NabavkaKorpa`.\r\n \r\n\r\n\r\n**Notes**\r\n\r\nIt is a very bad idea having `CascadeType.ALL` here.\r\n```java\r\n@ManyToOne(cascade={CascadeType.ALL})\r\n@JoinColumn(name=&quot;idNamirnica&quot;, insertable = false, updatable = false)\r\nprivate Namirnica namirnica;\r\n```","title":"Spring Boot, Failed to lazily initialize a collection of role, could not initialize proxy - no Session","body":"<p>The cause of an error that you get a list <code>List&lt;Namirnica&gt; izabrane</code> at one step (lets name it <code>A</code>) of the flow, but work with <code>Namirinica</code> items at the second step(<code>B</code>).</p>\n<p>This list is lazy by default. It means that you can access it at <code>A</code> point only (when <code>@Transaction</code>/Persistent Context/Hibernate Session is open).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@OneToMany(mappedBy=&quot;namirnica&quot;)\nprivate List&lt;NabavkaKorpa&gt; nabavkaKorpas = new ArrayList&lt;NabavkaKorpa&gt;();\n</code></pre>\n<p>Even opening a new transaction at the <code>B</code> point will not help, because it will be another Persistent context/Hibernate session (not the same as in the <code>A</code> point).</p>\n<p>You can try to make <code>nabavkaKorpas</code> <code>EAGER</code>, probably it will help.\nBut you have a design problem.</p>\n<p><strong>Common rule</strong></p>\n<p>Never work with an associated collection from the <code>@OneToMany</code> part.</p>\n<p><strong>How to fix</strong></p>\n<p>You have to save a new <code>NabavkaKorpa</code>, not <code>Namirnica</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>NabavkaKorpa nabavka = new NabavkaKorpa();\nnabavka.setNamirnica(namirnica);\n\nnabavkaKorpaRepositiry.save(nabavka);\n\n</code></pre>\n<p>You don't even need <code>Namirnica</code> to do it.</p>\n<p>For Hibernate</p>\n<pre class=\"lang-java prettyprint-override\"><code>Namirnica namirnica= new Namirnica();\nnamirnica.setId(namirnicaId);\n\nNabavkaKorpa nabavka = new NabavkaKorpa();\nnabavka.setNamirnica(namirnica);\n\nnabavkaKorpaRepositiry.save(nabavka);\n</code></pre>\n<p>For Spring Data (to not having additional query to get Namirnica from a database)</p>\n<pre class=\"lang-java prettyprint-override\"><code>Namirnica namirnica= namirinicaRepositiry.getOne(namirnicaId);\n\nNabavkaKorpa nabavka = new NabavkaKorpa();\nnabavka.setNamirnica(namirnica);\n\nnabavkaKorpaRepositiry.save(nabavka);\n</code></pre>\n<p><strong>Notes about Persistent Context</strong></p>\n<p>When you use <code>@Transactional</code> annotation on the method, there is not only an open transaction inside that method, but also opened Persistent Context/Hibernate Session. So such <code>@Transactional</code> approach that using widely in Spring is a bit confused.</p>\n<p>When Persistent Context is open, Hibernate observe all changes that are made for persistent objects, like <code>Namirnica</code> and <code>NabavkaKorpa</code>, and try to save them to the database, so you even don't need to call <code>save()</code> method of a repository (but I prefer to explicitly call it).\nSo in such situation you, probably, can keep association in the valid state from two sides: <code>Namirnica</code> has <code>NabavkaKorpa</code> in the list and <code>NabavkaKorpa</code> refers to <code>Namirnica</code>. But usually I don't keep such things.</p>\n<p>When Persistent Context is closed, Hibernate doesn't observe changes and you don't have to keep associations in the valid state. When you call a repository method, for each such call a separate Persistent Context is created. And all such calls are independent from the Hibernate point of view. You can enable SQL logging and see what happens.</p>\n<p>So you don't need to do</p>\n<pre class=\"lang-java prettyprint-override\"><code>izabrane.get(i).addNabavkaKorpa(nk);\n</code></pre>\n<p>Just work with <code>NabavkaKorpa</code>.</p>\n<p><strong>Notes</strong></p>\n<p>It is a very bad idea having <code>CascadeType.ALL</code> here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ManyToOne(cascade={CascadeType.ALL})\n@JoinColumn(name=&quot;idNamirnica&quot;, insertable = false, updatable = false)\nprivate Namirnica namirnica;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6905216,"reputation":99,"user_id":5303373,"display_name":"Eva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701355711,"creation_date":1701355711,"answer_id":77579420,"question_id":72899893,"body_markdown":"In case this helps anyone: I had added `@Transactional` on my method, but it still did not work. In my case, the reason seemed to be that the lazy get which triggered the exception was inside a `Single.map`, so the `@Transactional` could not reach inside.\r\n\r\nI removed the `@Transactional` annotation, and wrapped the lazy get inside a `transactionTemplate.execute`, like so:\r\n\r\n```java\r\nprivate final TransactionTemplate transactionTemplate;\r\n...\r\nprivate void myNonTransactionalMethod() {\r\n  mySingle.map(result -&gt; {\r\n    transactionTemplate.execute(() -&gt; {\r\n      myEntity.getLazyListOfEntities()...\r\n    });\r\n  });\r\n}\r\n```","title":"Spring Boot, Failed to lazily initialize a collection of role, could not initialize proxy - no Session","body":"<p>In case this helps anyone: I had added <code>@Transactional</code> on my method, but it still did not work. In my case, the reason seemed to be that the lazy get which triggered the exception was inside a <code>Single.map</code>, so the <code>@Transactional</code> could not reach inside.</p>\n<p>I removed the <code>@Transactional</code> annotation, and wrapped the lazy get inside a <code>transactionTemplate.execute</code>, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final TransactionTemplate transactionTemplate;\n...\nprivate void myNonTransactionalMethod() {\n  mySingle.map(result -&gt; {\n    transactionTemplate.execute(() -&gt; {\n      myEntity.getLazyListOfEntities()...\n    });\n  });\n}\n</code></pre>\n"}],"owner":{"account_id":25379095,"reputation":33,"user_id":19191756,"display_name":"IgorArnaut"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3000,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701355711,"creation_date":1657205183,"question_id":72899893,"body_markdown":"I am making a website in which I am trying to order ingredients. I choose and ingredient and enter its quantity, then I click add. I repeat it few times. Then I go to the next page, in which I chose a supplier. Then I press &quot;Order&quot;.\r\n\r\nIt is expected to insert Nabavka into the database and open a page saying that the order was successful, but instead I get an Exception telling me that I can&#39;t initialize it lazily.\r\n\r\nFrom NabavkaController.java:\r\n\r\n\t@Autowired\r\n\tNamirnicaRepository namr;\r\n\t@Autowired\r\n\tNabavkaRepository nabr;\r\n\t@Autowired\r\n\tDobavljacRepository dr;\r\n\t@Autowired\r\n\tNabavkaKorpaRepository nkr;...\r\n\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t@PostMapping(value = &quot;sacuvajNabavku&quot;)\r\n\tpublic String sacuvajNabavku(Dobavljac dobavljac, HttpServletRequest request) {\r\n\t\tList&lt;Namirnica&gt; izabrane = (ArrayList&lt;Namirnica&gt;) request.getSession()\r\n\t\t\t\t.getAttribute(&quot;izabrane&quot;);\r\n\t\tList&lt;Integer&gt; brojevi = (ArrayList&lt;Integer&gt;) request.getSession()\r\n\t\t\t\t.getAttribute(&quot;brojevi&quot;);\r\n\t\tNabavka n = new Nabavka();\r\n\t\tfor (int i = 0; i &lt; izabrane.size(); i++) {\r\n\t\t\tSystem.out.println(izabrane.get(i).getNaziv());\r\n\t\t\tNabavkaKorpaPK nkPK = new NabavkaKorpaPK();\r\n\t\t\tnkPK.setIdNabavka(n.getIdNabavka());\r\n\t\t\tnkPK.setIdNamirnica(izabrane.get(i).getIdNamirnica());\r\n\r\n\t\t\tNabavkaKorpa nk = new NabavkaKorpa();\r\n\t\t\tnk.setId(nkPK);\r\n\t\t\tnk.setKolicina(brojevi.get(i));\r\n\t\t\tnk.setUkupnaCena(izabrane.get(i).getCenaNamirnice() * brojevi.get(0));\r\n\t\t\tizabrane.get(i).addNabavkaKorpa(nk);\r\n\r\n\t\t\tn.addNabavkaKorpa(nk);\r\n\t\t\tnabr.updateNamirnica(izabrane.get(i));\r\n\t\t}\r\n\t\tn.setDatumNabavke(new Date());\r\n\t\tn.setUkupnaCena(n.getNabavkaKorpas().stream().map(k -&gt; k.getUkupnaCena()).reduce(0.0,\r\n\t\t\t\t(a, b) -&gt; a + b));\r\n\t\tn.setDobavljac(dobavljac);\r\n\t\tdobavljac.addNabavka(n);\r\n\t\tnabr.save(n);\r\n\t\treturn &quot;uspehNabavka&quot;;\r\n\t}\r\n\r\n\r\nNabavka.java:\r\n```\r\n@Entity\r\n@NamedQuery(name=&quot;Nabavka.findAll&quot;, query=&quot;SELECT n FROM Nabavka n&quot;)\r\npublic class Nabavka implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tprivate int idNabavka;\r\n\r\n\t@Temporal(TemporalType.TIMESTAMP)\r\n\tprivate Date datumNabavke;\r\n\r\n\tprivate double ukupnaCena;\r\n\r\n\t//bi-directional many-to-one association to Dobavljac\r\n\t@ManyToOne\r\n\t@JoinColumn(name=&quot;idDobavljac&quot;)\r\n\tprivate Dobavljac dobavljac;\r\n\r\n\t//bi-directional many-to-one association to Menadzer\r\n\t@ManyToOne\r\n\t@JoinColumns({\r\n\t\t@JoinColumn(name=&quot;idMenadzer&quot;, referencedColumnName=&quot;idMenadzer&quot;),\r\n\t\t@JoinColumn(name=&quot;idRadnik&quot;, referencedColumnName=&quot;idRadnik&quot;)\r\n\t\t})\r\n\tprivate Menadzer menadzer;\r\n\r\n\t//bi-directional many-to-one association to User\r\n\t@ManyToOne\r\n\t@JoinColumn(name=&quot;idUser&quot;)\r\n\tprivate User user;\r\n\r\n\t//bi-directional many-to-one association to NabavkaKorpa\r\n\t@OneToMany(mappedBy=&quot;nabavka&quot;, cascade={CascadeType.ALL})\r\n\tprivate List&lt;NabavkaKorpa&gt; nabavkaKorpas = new ArrayList&lt;NabavkaKorpa&gt;();\r\n\r\n\tpublic Nabavka() {\r\n\t}\r\n\r\n\tpublic int getIdNabavka() {\r\n\t\treturn this.idNabavka;\r\n\t}\r\n\r\n\tpublic void setIdNabavka(int idNabavka) {\r\n\t\tthis.idNabavka = idNabavka;\r\n\t}\r\n\r\n\tpublic Date getDatumNabavke() {\r\n\t\treturn this.datumNabavke;\r\n\t}\r\n\r\n\tpublic void setDatumNabavke(Date datumNabavke) {\r\n\t\tthis.datumNabavke = datumNabavke;\r\n\t}\r\n\r\n\tpublic double getUkupnaCena() {\r\n\t\treturn this.ukupnaCena;\r\n\t}\r\n\r\n\tpublic void setUkupnaCena(double ukupnaCena) {\r\n\t\tthis.ukupnaCena = ukupnaCena;\r\n\t}\r\n\r\n\tpublic Dobavljac getDobavljac() {\r\n\t\treturn this.dobavljac;\r\n\t}\r\n\r\n\tpublic void setDobavljac(Dobavljac dobavljac) {\r\n\t\tthis.dobavljac = dobavljac;\r\n\t}\r\n\r\n\tpublic Menadzer getMenadzer() {\r\n\t\treturn this.menadzer;\r\n\t}\r\n\r\n\tpublic void setMenadzer(Menadzer menadzer) {\r\n\t\tthis.menadzer = menadzer;\r\n\t}\r\n\r\n\tpublic User getUser() {\r\n\t\treturn this.user;\r\n\t}\r\n\r\n\tpublic void setUser(User user) {\r\n\t\tthis.user = user;\r\n\t}\r\n\r\n\tpublic List&lt;NabavkaKorpa&gt; getNabavkaKorpas() {\r\n\t\treturn this.nabavkaKorpas;\r\n\t}\r\n\r\n\tpublic void setNabavkaKorpas(List&lt;NabavkaKorpa&gt; nabavkaKorpas) {\r\n\t\tthis.nabavkaKorpas = nabavkaKorpas;\r\n\t}\r\n\r\n\tpublic NabavkaKorpa addNabavkaKorpa(NabavkaKorpa nabavkaKorpa) {\r\n\t\tgetNabavkaKorpas().add(nabavkaKorpa);\r\n\t\tnabavkaKorpa.setNabavka(this);\r\n\r\n\t\treturn nabavkaKorpa;\r\n\t}\r\n\r\n\tpublic NabavkaKorpa removeNabavkaKorpa(NabavkaKorpa nabavkaKorpa) {\r\n\t\tgetNabavkaKorpas().remove(nabavkaKorpa);\r\n\t\tnabavkaKorpa.setNabavka(null);\r\n\r\n\t\treturn nabavkaKorpa;\r\n\t}\r\n\r\n}\r\n```\r\nNamirnica.java:\r\n```\r\n@Entity\r\n@NamedQuery(name=&quot;Namirnica.findAll&quot;, query=&quot;SELECT n FROM Namirnica n&quot;)\r\npublic class Namirnica implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tprivate int idNamirnica;\r\n\r\n\tprivate double cenaNamirnice;\r\n\r\n\tprivate String kolicina;\r\n\r\n\tprivate String naziv;\r\n\t\r\n\tprivate int stanje;\r\n\r\n\t//bi-directional many-to-one association to NabavkaKorpa\r\n\t@OneToMany(mappedBy=&quot;namirnica&quot;)\r\n\tprivate List&lt;NabavkaKorpa&gt; nabavkaKorpas = new ArrayList&lt;NabavkaKorpa&gt;();\r\n\r\n\tpublic Namirnica() {\r\n\t}\r\n\r\n\tpublic int getIdNamirnica() {\r\n\t\treturn this.idNamirnica;\r\n\t}\r\n\r\n\tpublic void setIdNamirnica(int idNamirnica) {\r\n\t\tthis.idNamirnica = idNamirnica;\r\n\t}\r\n\r\n\tpublic double getCenaNamirnice() {\r\n\t\treturn this.cenaNamirnice;\r\n\t}\r\n\r\n\tpublic void setCenaNamirnice(double cenaNamirnice) {\r\n\t\tthis.cenaNamirnice = cenaNamirnice;\r\n\t}\r\n\r\n\tpublic String getKolicina() {\r\n\t\treturn this.kolicina;\r\n\t}\r\n\r\n\tpublic void setKolicina(String kolicina) {\r\n\t\tthis.kolicina = kolicina;\r\n\t}\r\n\r\n\tpublic String getNaziv() {\r\n\t\treturn this.naziv;\r\n\t}\r\n\r\n\tpublic void setNaziv(String naziv) {\r\n\t\tthis.naziv = naziv;\r\n\t}\r\n\t\r\n\tpublic int getStanje() {\r\n\t\treturn this.stanje;\r\n\t}\r\n\r\n\tpublic void setStanje(int stanje) {\r\n\t\tthis.stanje = stanje;\r\n\t}\r\n\r\n\tpublic List&lt;NabavkaKorpa&gt; getNabavkaKorpas() {\r\n\t\treturn this.nabavkaKorpas;\r\n\t}\r\n\r\n\tpublic void setNabavkaKorpas(List&lt;NabavkaKorpa&gt; nabavkaKorpas) {\r\n\t\tthis.nabavkaKorpas = nabavkaKorpas;\r\n\t}\r\n\r\n\tpublic NabavkaKorpa addNabavkaKorpa(NabavkaKorpa nabavkaKorpa) {\r\n\t\tgetNabavkaKorpas().add(nabavkaKorpa);\r\n\t\tnabavkaKorpa.setNamirnica(this);\r\n\r\n\t\treturn nabavkaKorpa;\r\n\t}\r\n\r\n\tpublic NabavkaKorpa removeNabavkaKorpa(NabavkaKorpa nabavkaKorpa) {\r\n\t\tgetNabavkaKorpas().remove(nabavkaKorpa);\r\n\t\tnabavkaKorpa.setNamirnica(null);\r\n\r\n\t\treturn nabavkaKorpa;\r\n\t}\r\n\r\n}\r\n```\r\nNabavkaKorpa.java:\r\n```\r\n@Entity\r\n@NamedQuery(name=&quot;NabavkaKorpa.findAll&quot;, query=&quot;SELECT n FROM NabavkaKorpa n&quot;)\r\npublic class NabavkaKorpa implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@EmbeddedId\r\n\tprivate NabavkaKorpaPK id;\r\n\r\n\tprivate int kolicina;\r\n\r\n\tprivate double ukupnaCena;\r\n\r\n\t//bi-directional many-to-one association to Nabavka\r\n\t@ManyToOne(cascade={CascadeType.ALL})\r\n\t@JoinColumn(name=&quot;idNabavka&quot;, insertable = false, updatable = false)\r\n\tprivate Nabavka nabavka;\r\n\r\n\t//bi-directional many-to-one association to Namirnica\r\n\t@ManyToOne(cascade={CascadeType.ALL})\r\n\t@JoinColumn(name=&quot;idNamirnica&quot;, insertable = false, updatable = false)\r\n\tprivate Namirnica namirnica;\r\n\r\n\tpublic NabavkaKorpa() {\r\n\t}\r\n\r\n\tpublic NabavkaKorpaPK getId() {\r\n\t\treturn this.id;\r\n\t}\r\n\r\n\tpublic void setId(NabavkaKorpaPK id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic int getKolicina() {\r\n\t\treturn this.kolicina;\r\n\t}\r\n\r\n\tpublic void setKolicina(int kolicina) {\r\n\t\tthis.kolicina = kolicina;\r\n\t}\r\n\r\n\tpublic double getUkupnaCena() {\r\n\t\treturn this.ukupnaCena;\r\n\t}\r\n\r\n\tpublic void setUkupnaCena(double ukupnaCena) {\r\n\t\tthis.ukupnaCena = ukupnaCena;\r\n\t}\r\n\r\n\tpublic Nabavka getNabavka() {\r\n\t\treturn this.nabavka;\r\n\t}\r\n\r\n\tpublic void setNabavka(Nabavka nabavka) {\r\n\t\tthis.nabavka = nabavka;\r\n\t}\r\n\r\n\tpublic Namirnica getNamirnica() {\r\n\t\treturn this.namirnica;\r\n\t}\r\n\r\n\tpublic void setNamirnica(Namirnica namirnica) {\r\n\t\tthis.namirnica = namirnica;\r\n\t}\r\n\r\n}\r\n```\r\nNabavkaKorpaPK.java:\r\n```\r\n@Embeddable\r\npublic class NabavkaKorpaPK implements Serializable {\r\n\t//default serial version id, required for serializable classes.\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Column(insertable=false, updatable=false)\r\n\tprivate int idNamirnica;\r\n\r\n\t@Column(insertable=false, updatable=false)\r\n\tprivate int idNabavka;\r\n\r\n\tpublic NabavkaKorpaPK() {\r\n\t}\r\n\tpublic int getIdNamirnica() {\r\n\t\treturn this.idNamirnica;\r\n\t}\r\n\tpublic void setIdNamirnica(int idNamirnica) {\r\n\t\tthis.idNamirnica = idNamirnica;\r\n\t}\r\n\tpublic int getIdNabavka() {\r\n\t\treturn this.idNabavka;\r\n\t}\r\n\tpublic void setIdNabavka(int idNabavka) {\r\n\t\tthis.idNabavka = idNabavka;\r\n\t}\r\n\r\n\tpublic boolean equals(Object other) {\r\n\t\tif (this == other) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (!(other instanceof NabavkaKorpaPK)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tNabavkaKorpaPK castOther = (NabavkaKorpaPK)other;\r\n\t\treturn \r\n\t\t\t(this.idNamirnica == castOther.idNamirnica)\r\n\t\t\t&amp;&amp; (this.idNabavka == castOther.idNabavka);\r\n\t}\r\n\r\n\tpublic int hashCode() {\r\n\t\tfinal int prime = 31;\r\n\t\tint hash = 17;\r\n\t\thash = hash * prime + this.idNamirnica;\r\n\t\thash = hash * prime + this.idNabavka;\r\n\t\t\r\n\t\treturn hash;\r\n\t}\r\n}\r\n```\r\nNabavkaKorpaRepository.java:\r\n```\r\npublic interface NabavkaKorpaRepository extends JpaRepository&lt;NabavkaKorpa, NabavkaKorpaPK&gt; {\r\n\r\n}\r\n```\r\nNabavkaRepository.java:\r\n```\r\npublic interface NabavkaRepository extends JpaRepository&lt;Nabavka, Integer&gt;, NabavkaRepoSpecific {\r\n\r\n}\r\n```\r\nNabavkaRepoSpeicific.java\r\n```\r\npublic interface NabavkaRepoSpecific {\r\n\r\n\tpublic void updateNamirnica(Namirnica namirnica);\r\n\r\n}\r\n```\r\nNabavkaRepoSpecificImpl.java:\r\n```\r\n@Repository\r\n@Transactional\r\npublic class NabavkaRepoSpecificImpl implements NabavkaRepoSpecific {\r\n\r\n\t@PersistenceContext\r\n\tEntityManager em;\r\n\r\n\t@Override\r\n\tpublic void updateNamirnica(Namirnica namirnica) {\r\n\t\ttry {\r\n\t\t\tem.merge(namirnica);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\nNamirnicaRepository.java:\r\n```\r\npublic interface NamirnicaRepository extends JpaRepository&lt;Namirnica, Integer&gt; {\r\n\r\n}\r\n```\r\nException:\r\n```\r\norg.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: model.Namirnica.nabavkaKorpas, could not initialize proxy - no Session\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:614) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:591) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection.write(AbstractPersistentCollection.java:415) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.collection.internal.PersistentBag.add(PersistentBag.java:407) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat model.Namirnica.addNabavkaKorpa(Namirnica.java:85) ~[classes/:na]\r\n\tat com.example.demo.controller.NabavkaController.sacuvajNabavku(NabavkaController.java:95) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.64.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.64.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\nEDIT: I get Namirnicas from a session. Here&#39;s the GitHub [link][1].\r\n\r\n\r\n  [1]: https://github.com/IgorArnaut/MIS-Picerija","title":"Spring Boot, Failed to lazily initialize a collection of role, could not initialize proxy - no Session","body":"<p>I am making a website in which I am trying to order ingredients. I choose and ingredient and enter its quantity, then I click add. I repeat it few times. Then I go to the next page, in which I chose a supplier. Then I press &quot;Order&quot;.</p>\n<p>It is expected to insert Nabavka into the database and open a page saying that the order was successful, but instead I get an Exception telling me that I can't initialize it lazily.</p>\n<p>From NabavkaController.java:</p>\n<pre><code>@Autowired\nNamirnicaRepository namr;\n@Autowired\nNabavkaRepository nabr;\n@Autowired\nDobavljacRepository dr;\n@Autowired\nNabavkaKorpaRepository nkr;...\n\n@SuppressWarnings(&quot;unchecked&quot;)\n@PostMapping(value = &quot;sacuvajNabavku&quot;)\npublic String sacuvajNabavku(Dobavljac dobavljac, HttpServletRequest request) {\n    List&lt;Namirnica&gt; izabrane = (ArrayList&lt;Namirnica&gt;) request.getSession()\n            .getAttribute(&quot;izabrane&quot;);\n    List&lt;Integer&gt; brojevi = (ArrayList&lt;Integer&gt;) request.getSession()\n            .getAttribute(&quot;brojevi&quot;);\n    Nabavka n = new Nabavka();\n    for (int i = 0; i &lt; izabrane.size(); i++) {\n        System.out.println(izabrane.get(i).getNaziv());\n        NabavkaKorpaPK nkPK = new NabavkaKorpaPK();\n        nkPK.setIdNabavka(n.getIdNabavka());\n        nkPK.setIdNamirnica(izabrane.get(i).getIdNamirnica());\n\n        NabavkaKorpa nk = new NabavkaKorpa();\n        nk.setId(nkPK);\n        nk.setKolicina(brojevi.get(i));\n        nk.setUkupnaCena(izabrane.get(i).getCenaNamirnice() * brojevi.get(0));\n        izabrane.get(i).addNabavkaKorpa(nk);\n\n        n.addNabavkaKorpa(nk);\n        nabr.updateNamirnica(izabrane.get(i));\n    }\n    n.setDatumNabavke(new Date());\n    n.setUkupnaCena(n.getNabavkaKorpas().stream().map(k -&gt; k.getUkupnaCena()).reduce(0.0,\n            (a, b) -&gt; a + b));\n    n.setDobavljac(dobavljac);\n    dobavljac.addNabavka(n);\n    nabr.save(n);\n    return &quot;uspehNabavka&quot;;\n}\n</code></pre>\n<p>Nabavka.java:</p>\n<pre><code>@Entity\n@NamedQuery(name=&quot;Nabavka.findAll&quot;, query=&quot;SELECT n FROM Nabavka n&quot;)\npublic class Nabavka implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private int idNabavka;\n\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date datumNabavke;\n\n    private double ukupnaCena;\n\n    //bi-directional many-to-one association to Dobavljac\n    @ManyToOne\n    @JoinColumn(name=&quot;idDobavljac&quot;)\n    private Dobavljac dobavljac;\n\n    //bi-directional many-to-one association to Menadzer\n    @ManyToOne\n    @JoinColumns({\n        @JoinColumn(name=&quot;idMenadzer&quot;, referencedColumnName=&quot;idMenadzer&quot;),\n        @JoinColumn(name=&quot;idRadnik&quot;, referencedColumnName=&quot;idRadnik&quot;)\n        })\n    private Menadzer menadzer;\n\n    //bi-directional many-to-one association to User\n    @ManyToOne\n    @JoinColumn(name=&quot;idUser&quot;)\n    private User user;\n\n    //bi-directional many-to-one association to NabavkaKorpa\n    @OneToMany(mappedBy=&quot;nabavka&quot;, cascade={CascadeType.ALL})\n    private List&lt;NabavkaKorpa&gt; nabavkaKorpas = new ArrayList&lt;NabavkaKorpa&gt;();\n\n    public Nabavka() {\n    }\n\n    public int getIdNabavka() {\n        return this.idNabavka;\n    }\n\n    public void setIdNabavka(int idNabavka) {\n        this.idNabavka = idNabavka;\n    }\n\n    public Date getDatumNabavke() {\n        return this.datumNabavke;\n    }\n\n    public void setDatumNabavke(Date datumNabavke) {\n        this.datumNabavke = datumNabavke;\n    }\n\n    public double getUkupnaCena() {\n        return this.ukupnaCena;\n    }\n\n    public void setUkupnaCena(double ukupnaCena) {\n        this.ukupnaCena = ukupnaCena;\n    }\n\n    public Dobavljac getDobavljac() {\n        return this.dobavljac;\n    }\n\n    public void setDobavljac(Dobavljac dobavljac) {\n        this.dobavljac = dobavljac;\n    }\n\n    public Menadzer getMenadzer() {\n        return this.menadzer;\n    }\n\n    public void setMenadzer(Menadzer menadzer) {\n        this.menadzer = menadzer;\n    }\n\n    public User getUser() {\n        return this.user;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n    public List&lt;NabavkaKorpa&gt; getNabavkaKorpas() {\n        return this.nabavkaKorpas;\n    }\n\n    public void setNabavkaKorpas(List&lt;NabavkaKorpa&gt; nabavkaKorpas) {\n        this.nabavkaKorpas = nabavkaKorpas;\n    }\n\n    public NabavkaKorpa addNabavkaKorpa(NabavkaKorpa nabavkaKorpa) {\n        getNabavkaKorpas().add(nabavkaKorpa);\n        nabavkaKorpa.setNabavka(this);\n\n        return nabavkaKorpa;\n    }\n\n    public NabavkaKorpa removeNabavkaKorpa(NabavkaKorpa nabavkaKorpa) {\n        getNabavkaKorpas().remove(nabavkaKorpa);\n        nabavkaKorpa.setNabavka(null);\n\n        return nabavkaKorpa;\n    }\n\n}\n</code></pre>\n<p>Namirnica.java:</p>\n<pre><code>@Entity\n@NamedQuery(name=&quot;Namirnica.findAll&quot;, query=&quot;SELECT n FROM Namirnica n&quot;)\npublic class Namirnica implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private int idNamirnica;\n\n    private double cenaNamirnice;\n\n    private String kolicina;\n\n    private String naziv;\n    \n    private int stanje;\n\n    //bi-directional many-to-one association to NabavkaKorpa\n    @OneToMany(mappedBy=&quot;namirnica&quot;)\n    private List&lt;NabavkaKorpa&gt; nabavkaKorpas = new ArrayList&lt;NabavkaKorpa&gt;();\n\n    public Namirnica() {\n    }\n\n    public int getIdNamirnica() {\n        return this.idNamirnica;\n    }\n\n    public void setIdNamirnica(int idNamirnica) {\n        this.idNamirnica = idNamirnica;\n    }\n\n    public double getCenaNamirnice() {\n        return this.cenaNamirnice;\n    }\n\n    public void setCenaNamirnice(double cenaNamirnice) {\n        this.cenaNamirnice = cenaNamirnice;\n    }\n\n    public String getKolicina() {\n        return this.kolicina;\n    }\n\n    public void setKolicina(String kolicina) {\n        this.kolicina = kolicina;\n    }\n\n    public String getNaziv() {\n        return this.naziv;\n    }\n\n    public void setNaziv(String naziv) {\n        this.naziv = naziv;\n    }\n    \n    public int getStanje() {\n        return this.stanje;\n    }\n\n    public void setStanje(int stanje) {\n        this.stanje = stanje;\n    }\n\n    public List&lt;NabavkaKorpa&gt; getNabavkaKorpas() {\n        return this.nabavkaKorpas;\n    }\n\n    public void setNabavkaKorpas(List&lt;NabavkaKorpa&gt; nabavkaKorpas) {\n        this.nabavkaKorpas = nabavkaKorpas;\n    }\n\n    public NabavkaKorpa addNabavkaKorpa(NabavkaKorpa nabavkaKorpa) {\n        getNabavkaKorpas().add(nabavkaKorpa);\n        nabavkaKorpa.setNamirnica(this);\n\n        return nabavkaKorpa;\n    }\n\n    public NabavkaKorpa removeNabavkaKorpa(NabavkaKorpa nabavkaKorpa) {\n        getNabavkaKorpas().remove(nabavkaKorpa);\n        nabavkaKorpa.setNamirnica(null);\n\n        return nabavkaKorpa;\n    }\n\n}\n</code></pre>\n<p>NabavkaKorpa.java:</p>\n<pre><code>@Entity\n@NamedQuery(name=&quot;NabavkaKorpa.findAll&quot;, query=&quot;SELECT n FROM NabavkaKorpa n&quot;)\npublic class NabavkaKorpa implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @EmbeddedId\n    private NabavkaKorpaPK id;\n\n    private int kolicina;\n\n    private double ukupnaCena;\n\n    //bi-directional many-to-one association to Nabavka\n    @ManyToOne(cascade={CascadeType.ALL})\n    @JoinColumn(name=&quot;idNabavka&quot;, insertable = false, updatable = false)\n    private Nabavka nabavka;\n\n    //bi-directional many-to-one association to Namirnica\n    @ManyToOne(cascade={CascadeType.ALL})\n    @JoinColumn(name=&quot;idNamirnica&quot;, insertable = false, updatable = false)\n    private Namirnica namirnica;\n\n    public NabavkaKorpa() {\n    }\n\n    public NabavkaKorpaPK getId() {\n        return this.id;\n    }\n\n    public void setId(NabavkaKorpaPK id) {\n        this.id = id;\n    }\n\n    public int getKolicina() {\n        return this.kolicina;\n    }\n\n    public void setKolicina(int kolicina) {\n        this.kolicina = kolicina;\n    }\n\n    public double getUkupnaCena() {\n        return this.ukupnaCena;\n    }\n\n    public void setUkupnaCena(double ukupnaCena) {\n        this.ukupnaCena = ukupnaCena;\n    }\n\n    public Nabavka getNabavka() {\n        return this.nabavka;\n    }\n\n    public void setNabavka(Nabavka nabavka) {\n        this.nabavka = nabavka;\n    }\n\n    public Namirnica getNamirnica() {\n        return this.namirnica;\n    }\n\n    public void setNamirnica(Namirnica namirnica) {\n        this.namirnica = namirnica;\n    }\n\n}\n</code></pre>\n<p>NabavkaKorpaPK.java:</p>\n<pre><code>@Embeddable\npublic class NabavkaKorpaPK implements Serializable {\n    //default serial version id, required for serializable classes.\n    private static final long serialVersionUID = 1L;\n\n    @Column(insertable=false, updatable=false)\n    private int idNamirnica;\n\n    @Column(insertable=false, updatable=false)\n    private int idNabavka;\n\n    public NabavkaKorpaPK() {\n    }\n    public int getIdNamirnica() {\n        return this.idNamirnica;\n    }\n    public void setIdNamirnica(int idNamirnica) {\n        this.idNamirnica = idNamirnica;\n    }\n    public int getIdNabavka() {\n        return this.idNabavka;\n    }\n    public void setIdNabavka(int idNabavka) {\n        this.idNabavka = idNabavka;\n    }\n\n    public boolean equals(Object other) {\n        if (this == other) {\n            return true;\n        }\n        if (!(other instanceof NabavkaKorpaPK)) {\n            return false;\n        }\n        NabavkaKorpaPK castOther = (NabavkaKorpaPK)other;\n        return \n            (this.idNamirnica == castOther.idNamirnica)\n            &amp;&amp; (this.idNabavka == castOther.idNabavka);\n    }\n\n    public int hashCode() {\n        final int prime = 31;\n        int hash = 17;\n        hash = hash * prime + this.idNamirnica;\n        hash = hash * prime + this.idNabavka;\n        \n        return hash;\n    }\n}\n</code></pre>\n<p>NabavkaKorpaRepository.java:</p>\n<pre><code>public interface NabavkaKorpaRepository extends JpaRepository&lt;NabavkaKorpa, NabavkaKorpaPK&gt; {\n\n}\n</code></pre>\n<p>NabavkaRepository.java:</p>\n<pre><code>public interface NabavkaRepository extends JpaRepository&lt;Nabavka, Integer&gt;, NabavkaRepoSpecific {\n\n}\n</code></pre>\n<p>NabavkaRepoSpeicific.java</p>\n<pre><code>public interface NabavkaRepoSpecific {\n\n    public void updateNamirnica(Namirnica namirnica);\n\n}\n</code></pre>\n<p>NabavkaRepoSpecificImpl.java:</p>\n<pre><code>@Repository\n@Transactional\npublic class NabavkaRepoSpecificImpl implements NabavkaRepoSpecific {\n\n    @PersistenceContext\n    EntityManager em;\n\n    @Override\n    public void updateNamirnica(Namirnica namirnica) {\n        try {\n            em.merge(namirnica);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n<p>NamirnicaRepository.java:</p>\n<pre><code>public interface NamirnicaRepository extends JpaRepository&lt;Namirnica, Integer&gt; {\n\n}\n</code></pre>\n<p>Exception:</p>\n<pre><code>org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: model.Namirnica.nabavkaKorpas, could not initialize proxy - no Session\n    at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:614) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:591) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.collection.internal.AbstractPersistentCollection.write(AbstractPersistentCollection.java:415) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.collection.internal.PersistentBag.add(PersistentBag.java:407) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at model.Namirnica.addNabavkaKorpa(Namirnica.java:85) ~[classes/:na]\n    at com.example.demo.controller.NabavkaController.sacuvajNabavku(NabavkaController.java:95) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.64.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.64.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>EDIT: I get Namirnicas from a session. Here's the GitHub <a href=\"https://github.com/IgorArnaut/MIS-Picerija\" rel=\"nofollow noreferrer\">link</a>.</p>\n"},{"tags":["java","spring","hibernate","orm"],"answers":[{"tags":[],"owner":{"account_id":12561920,"reputation":408,"user_id":9139357,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701355114,"creation_date":1701355114,"answer_id":77579347,"question_id":77549477,"body_markdown":"This is wrong:\r\n\r\n    q1.setAnswers(list);\r\n\r\nbecause **list** is empty, you need to do something like this:\r\n\r\n    List&lt;Answer&gt; list = new ArrayList&lt;&gt;(Arrays.asList(a1, a2, a3));","title":"Why is it not cascading? I am tring to insert data into two tables using cascading but values is inserted for only on owning table","body":"<p>This is wrong:</p>\n<pre><code>q1.setAnswers(list);\n</code></pre>\n<p>because <strong>list</strong> is empty, you need to do something like this:</p>\n<pre><code>List&lt;Answer&gt; list = new ArrayList&lt;&gt;(Arrays.asList(a1, a2, a3));\n</code></pre>\n"}],"owner":{"account_id":29992638,"reputation":1,"user_id":22984893,"display_name":"mansubba2022"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701355114,"creation_date":1700943903,"question_id":77549477,"body_markdown":"I am tring to insert data into two tables but values is inserted for only on owning table...\r\nFollowing are my codes:\r\n\r\n**Question Entity Class:**\r\n```\r\n@Entity\r\n@Table(name=&quot;ques&quot;)\r\npublic class Question {\r\n\t@Id\r\n\tprivate int id;\r\n\tprivate String question;\r\n\t@OneToMany(mappedBy = &quot;question&quot;, cascade = javax.persistence.CascadeType.ALL)\r\n\tprivate List&lt;Answer&gt; answers;\r\n```\r\n\r\n**Answer Entity Class:**\r\n```\r\n@Entity\r\n@Table(name=&quot;ans&quot;)\r\npublic class Answer {\r\n\t@Id\r\n\tprivate int id;\r\n\tprivate String answer;\r\n\t@ManyToOne\r\n\tprivate Question question;\r\n```\r\n\r\n**Main Class:**\r\n```\r\npublic class App {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tSessionFactory factory = new Configuration().configure().buildSessionFactory();\r\n\t\tSession s = factory.openSession();\r\n\t\tTransaction tx = s.beginTransaction();\r\n\t\t\r\n\t\t\r\n\t\tAnswer a1 = new Answer(5001, &quot;answer 1...&quot;);\r\n\t\tAnswer a2 = new Answer(5002, &quot;answer 2...&quot;);\r\n\t\tAnswer a3 = new Answer(5003, &quot;answer 3...&quot;);\r\n\t\t\r\n\t\tList&lt;Answer&gt; list = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\tQuestion q1 = new Question();\r\n\t\tq1.setId(1);\r\n\t\tq1.setQuestion(&quot;question...?&quot;);\t\t\r\n\t\tq1.setAnswers(list);\r\n\t\t\r\n\t\ta1.setQuestion(q1);\r\n\t\ta2.setQuestion(q1);\r\n\t\ta3.setQuestion(q1);\r\n\t\t\r\n\t\ts.save(q1);\r\n\t\t\r\n\t\ttx.commit();\r\n\t\t\r\n\t\ts.close();\r\n\t\tfactory.close();\r\n\t\t\r\n\t\tSystem.out.println(&quot;Done&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**Output:**\r\n```\r\nHibernate: \r\n    insert \r\n    into\r\n        ques\r\n        (question, id) \r\n    values\r\n        (?, ?)\r\nNov 26, 2023 12:40:27 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PoolState stop\r\nINFO: HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/myhiber]\r\nDone\r\n```\r\n\r\nQuestion is inserted but answers are not inserted. What am I doing wrong here?","title":"Why is it not cascading? I am tring to insert data into two tables using cascading but values is inserted for only on owning table","body":"<p>I am tring to insert data into two tables but values is inserted for only on owning table...\nFollowing are my codes:</p>\n<p><strong>Question Entity Class:</strong></p>\n<pre><code>@Entity\n@Table(name=&quot;ques&quot;)\npublic class Question {\n    @Id\n    private int id;\n    private String question;\n    @OneToMany(mappedBy = &quot;question&quot;, cascade = javax.persistence.CascadeType.ALL)\n    private List&lt;Answer&gt; answers;\n</code></pre>\n<p><strong>Answer Entity Class:</strong></p>\n<pre><code>@Entity\n@Table(name=&quot;ans&quot;)\npublic class Answer {\n    @Id\n    private int id;\n    private String answer;\n    @ManyToOne\n    private Question question;\n</code></pre>\n<p><strong>Main Class:</strong></p>\n<pre><code>public class App {\n\n    public static void main(String[] args) {\n        \n        SessionFactory factory = new Configuration().configure().buildSessionFactory();\n        Session s = factory.openSession();\n        Transaction tx = s.beginTransaction();\n        \n        \n        Answer a1 = new Answer(5001, &quot;answer 1...&quot;);\n        Answer a2 = new Answer(5002, &quot;answer 2...&quot;);\n        Answer a3 = new Answer(5003, &quot;answer 3...&quot;);\n        \n        List&lt;Answer&gt; list = new ArrayList&lt;&gt;();\n        \n        Question q1 = new Question();\n        q1.setId(1);\n        q1.setQuestion(&quot;question...?&quot;);     \n        q1.setAnswers(list);\n        \n        a1.setQuestion(q1);\n        a2.setQuestion(q1);\n        a3.setQuestion(q1);\n        \n        s.save(q1);\n        \n        tx.commit();\n        \n        s.close();\n        factory.close();\n        \n        System.out.println(&quot;Done&quot;);\n    }\n\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Hibernate: \n    insert \n    into\n        ques\n        (question, id) \n    values\n        (?, ?)\nNov 26, 2023 12:40:27 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PoolState stop\nINFO: HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/myhiber]\nDone\n</code></pre>\n<p>Question is inserted but answers are not inserted. What am I doing wrong here?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1701354419,"post_id":77579228,"comment_id":136767243,"body_markdown":"`val+=&quot;&#39;&quot;+holders.get(i)+&quot;&#39;&quot;+&quot;,&quot;;`, see the `+` in front of the equals sign","body":"<code>val+=&quot;&#39;&quot;+holders.get(i)+&quot;&#39;&quot;+&quot;,&quot;;</code>, see the <code>+</code> in front of the equals sign"},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1701354646,"post_id":77579228,"comment_id":136767295,"body_markdown":"Use `holders.stream().collect(Collectors.joining(&quot;&#39;,&#39;&quot;, &quot;&#39;&quot;, &quot;&#39;&quot;))`","body":"Use <code>holders.stream().collect(Collectors.joining(&quot;&#39;,&#39;&quot;, &quot;&#39;&quot;, &quot;&#39;&quot;))</code>"}],"answers":[{"tags":[],"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701354812,"creation_date":1701354812,"answer_id":77579308,"question_id":77579228,"body_markdown":"If you&#39;re using Java 8+, you may use streams to accomplish your task. In particularly, you will need `collect` method to join the elements. I hope it will help you:\r\n```\r\npublic static void main(String[] args) {\r\n    String val = null;\r\n\tList&lt;String&gt; holders = new ArrayList&lt;&gt;();\r\n\tholders.add(&quot;A&quot;);\r\n\tholders.add(&quot;B&quot;);\r\n\tval = holders.stream().collect(Collectors.joining(&quot;&#39;,&#39;&quot;, &quot;&#39;&quot;, &quot;&#39;&quot;));\r\n\tSystem.out.println(val);\r\n}\r\n```","title":"Convert items in a list to String in single quotes and commas in between using Java","body":"<p>If you're using Java 8+, you may use streams to accomplish your task. In particularly, you will need <code>collect</code> method to join the elements. I hope it will help you:</p>\n<pre><code>public static void main(String[] args) {\n    String val = null;\n    List&lt;String&gt; holders = new ArrayList&lt;&gt;();\n    holders.add(&quot;A&quot;);\n    holders.add(&quot;B&quot;);\n    val = holders.stream().collect(Collectors.joining(&quot;','&quot;, &quot;'&quot;, &quot;'&quot;));\n    System.out.println(val);\n}\n</code></pre>\n"}],"owner":{"account_id":27528457,"reputation":39,"user_id":21007380,"display_name":"Pratik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1701354705,"accepted_answer_id":77579308,"answer_count":1,"score":-2,"last_activity_date":1701355110,"creation_date":1701354270,"question_id":77579228,"body_markdown":"I have a Java code as follows\r\n\r\n```java\r\nString val = null;\r\nList&lt;String&gt; holders = new ArrayList&lt;&gt;();\r\nholders.add(&quot;A&quot;);\r\nholders.add(&quot;B&quot;);\r\nfor (int i = 0; i &lt; holders.size(); i++) {\r\n   val = &quot;&#39;&quot; + holders.get(i) + &quot;&#39;&quot; + &quot;,&quot;;\r\n}\r\nSystem.out.println(val);\r\n```\r\n\r\nI wanted my val to be printed as `&#39;A&#39;,&#39;B&#39;`, but the output I am getting is `&#39;B&#39;,`.\r\n\r\nWhat can be done here to get the correct output?","title":"Convert items in a list to String in single quotes and commas in between using Java","body":"<p>I have a Java code as follows</p>\n<pre class=\"lang-java prettyprint-override\"><code>String val = null;\nList&lt;String&gt; holders = new ArrayList&lt;&gt;();\nholders.add(&quot;A&quot;);\nholders.add(&quot;B&quot;);\nfor (int i = 0; i &lt; holders.size(); i++) {\n   val = &quot;'&quot; + holders.get(i) + &quot;'&quot; + &quot;,&quot;;\n}\nSystem.out.println(val);\n</code></pre>\n<p>I wanted my val to be printed as <code>'A','B'</code>, but the output I am getting is <code>'B',</code>.</p>\n<p>What can be done here to get the correct output?</p>\n"},{"tags":["java","scala","concurrenthashmap"],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701038491,"creation_date":1701026412,"answer_id":77553142,"question_id":77553002,"body_markdown":"&gt; _&quot;... I need to get both previous and new value from Java ConcurrentHashMap (in Scala code). ...&quot;_\r\n\r\nHere is a solution in _Java_, that you can port.\r\n\r\nA somewhat un-contemporary approach; traverse the _key-set_ with a _[ListIterator](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ListIterator.html)_.\r\n\r\n```java\r\nMap&lt;String, Integer&gt; m = new HashMap&lt;&gt;() {{\r\n    put(&quot;A&quot;, 1);\r\n    put(&quot;B&quot;, 2);\r\n    put(&quot;C&quot;, 3);\r\n    put(&quot;D&quot;, 4);\r\n    put(&quot;E&quot;, 5);\r\n}};\r\nList&lt;String&gt; l = new ArrayList&lt;&gt;(m.keySet());\r\nListIterator&lt;String&gt; i = l.listIterator();\r\nString x, y = i.next();\r\nwhile (i.hasNext()) {\r\n    x = i.next();\r\n    System.out.printf(&quot;x = {&#39;%s&#39;: %s}, &quot;, x, m.get(x));\r\n    System.out.printf(&quot;y = {&#39;%s&#39;: %s}%n&quot;, y, m.get(y));\r\n    if (i.hasNext()) y = x;\r\n}\r\n```\r\n\r\n```none\r\nx = {&#39;B&#39;: 2}, y = {&#39;A&#39;: 1}\r\nx = {&#39;C&#39;: 3}, y = {&#39;B&#39;: 2}\r\nx = {&#39;D&#39;: 4}, y = {&#39;C&#39;: 3}\r\nx = {&#39;E&#39;: 5}, y = {&#39;D&#39;: 4}\r\n```","title":"functional way to get both previous value and new value from ConcurrentHashMap","body":"<blockquote>\n<p><em>&quot;... I need to get both previous and new value from Java ConcurrentHashMap (in Scala code). ...&quot;</em></p>\n</blockquote>\n<p>Here is a solution in <em>Java</em>, that you can port.</p>\n<p>A somewhat un-contemporary approach; traverse the <em>key-set</em> with a <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ListIterator.html\" rel=\"nofollow noreferrer\">ListIterator</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Integer&gt; m = new HashMap&lt;&gt;() {{\n    put(&quot;A&quot;, 1);\n    put(&quot;B&quot;, 2);\n    put(&quot;C&quot;, 3);\n    put(&quot;D&quot;, 4);\n    put(&quot;E&quot;, 5);\n}};\nList&lt;String&gt; l = new ArrayList&lt;&gt;(m.keySet());\nListIterator&lt;String&gt; i = l.listIterator();\nString x, y = i.next();\nwhile (i.hasNext()) {\n    x = i.next();\n    System.out.printf(&quot;x = {'%s': %s}, &quot;, x, m.get(x));\n    System.out.printf(&quot;y = {'%s': %s}%n&quot;, y, m.get(y));\n    if (i.hasNext()) y = x;\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>x = {'B': 2}, y = {'A': 1}\nx = {'C': 3}, y = {'B': 2}\nx = {'D': 4}, y = {'C': 3}\nx = {'E': 5}, y = {'D': 4}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9376049,"reputation":3355,"user_id":7643517,"display_name":"Nolequen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701355083,"creation_date":1701355083,"answer_id":77579344,"question_id":77553002,"body_markdown":"No. It is not possible with current version of [ConcurrentHashMap][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.KeySetView.html","title":"functional way to get both previous value and new value from ConcurrentHashMap","body":"<p>No. It is not possible with current version of <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.KeySetView.html\" rel=\"nofollow noreferrer\">ConcurrentHashMap</a>.</p>\n"}],"owner":{"account_id":22563072,"reputation":11,"user_id":16750474,"display_name":"marcin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701355083,"creation_date":1701024045,"question_id":77553002,"body_markdown":"I need to get both previous and new value from Java ConcurrentHashMap (in Scala code). To keep it thread-safe I use `compute` block which returns only new value. Is it possible to get both new and previous value without using var with initial null? Below my current solution:\r\n\r\n```\r\n  map: ConcurrentHashMap[String, Object] = new ConcurrentHashMap\r\n\r\n  def foo = {\r\n    var previousValue: Object = null\r\n\r\n    val newValue = map.compute(&quot;key&quot;, (_, value) =&gt; {\r\n      previousValue = Option(value).getOrElse(initialValue)\r\n      setNewValue(previousValue)\r\n     }\r\n    )\r\n\r\n    (previousValue, newValue)\r\n  }\r\n```","title":"functional way to get both previous value and new value from ConcurrentHashMap","body":"<p>I need to get both previous and new value from Java ConcurrentHashMap (in Scala code). To keep it thread-safe I use <code>compute</code> block which returns only new value. Is it possible to get both new and previous value without using var with initial null? Below my current solution:</p>\n<pre><code>  map: ConcurrentHashMap[String, Object] = new ConcurrentHashMap\n\n  def foo = {\n    var previousValue: Object = null\n\n    val newValue = map.compute(&quot;key&quot;, (_, value) =&gt; {\n      previousValue = Option(value).getOrElse(initialValue)\n      setNewValue(previousValue)\n     }\n    )\n\n    (previousValue, newValue)\n  }\n</code></pre>\n"},{"tags":["java","mongodb","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":4546904,"reputation":152,"user_id":3693223,"display_name":"Lucho82"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701354938,"creation_date":1701354938,"answer_id":77579331,"question_id":77573436,"body_markdown":"After one day on possible workaround&#39;s I found other implementation.\r\n\r\nFor a better control on Mongo query and operations I switch from MongoRepository to MongoTemplate and create mt custom methods with Criteria for parameters filters and validations, and TextCriteria for text search.\r\n\r\n","title":"Custom Query JPA MongoRepository with optional parameter","body":"<p>After one day on possible workaround's I found other implementation.</p>\n<p>For a better control on Mongo query and operations I switch from MongoRepository to MongoTemplate and create mt custom methods with Criteria for parameters filters and validations, and TextCriteria for text search.</p>\n"}],"owner":{"account_id":4546904,"reputation":152,"user_id":3693223,"display_name":"Lucho82"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701354938,"creation_date":1701280037,"question_id":77573436,"body_markdown":"I have this `ticket` document in Mongo Database\r\n\r\n    private id;\r\n    ...\r\n    private EnumState state;\r\n    private EnumType type;\r\n    private EnumPriority priority;\r\n\r\nNow my requirement is filtered by these fields in a http request with API\r\n\r\n 1. `http://localhost:8080/` - get all without filter\r\n 2. `http://localhost:8080?state=1` get all documents where state equal 1\r\n 3. `http://localhost:8080?state1&amp;type=1` get all documents where state equal 1 and type equal 1\r\n 4. `http://localhost:8080?state1&amp;type=1&amp;priority=1` get all documents where state equal 1 and type equal 1 and priority equal 1.\r\n\r\nI am using JPA MongoRepository interface and writing a Custom Query\r\n\r\n    @Query(&quot;{ $and: [ &quot; +\r\n            &quot;{ $or: [ { &#39;state&#39;: { $eq: ?0 } }, { &#39;state&#39;: { $exists: false } } ] }, &quot; +\r\n            &quot;{ $or: [ { &#39;type&#39;: { $eq: ?1 } }, { &#39;type&#39;: { $exists: false } } ] }, &quot; +\r\n            &quot;{ $or: [ { &#39;priority&#39;: { $eq: ?2 } }, { &#39;priority&#39;: { $exists: false } } ] }&quot; +\r\n            &quot;] }&quot;)\r\n    Page&lt;Ticket&gt; findAllBy(IncidentState state, IncidentType type, IncidentPriority priority, Pageable p);\r\n    \r\nBut for example when call `http://localhost:8080/` and `http://localhost:8080?state=1` is always return me Ticket[].\r\n\r\nComparing with PL/SQL I need something like\r\n\r\n    select * from ticket where\r\n    (i_type is null or type=i_type) and\r\n    (i_state is null or state=i_state) and\r\n    (i_priority is null or priority=i_priority)\r\n\r\nWhat is wrong in my @Query definition ?","title":"Custom Query JPA MongoRepository with optional parameter","body":"<p>I have this <code>ticket</code> document in Mongo Database</p>\n<pre><code>private id;\n...\nprivate EnumState state;\nprivate EnumType type;\nprivate EnumPriority priority;\n</code></pre>\n<p>Now my requirement is filtered by these fields in a http request with API</p>\n<ol>\n<li><code>http://localhost:8080/</code> - get all without filter</li>\n<li><code>http://localhost:8080?state=1</code> get all documents where state equal 1</li>\n<li><code>http://localhost:8080?state1&amp;type=1</code> get all documents where state equal 1 and type equal 1</li>\n<li><code>http://localhost:8080?state1&amp;type=1&amp;priority=1</code> get all documents where state equal 1 and type equal 1 and priority equal 1.</li>\n</ol>\n<p>I am using JPA MongoRepository interface and writing a Custom Query</p>\n<pre><code>@Query(&quot;{ $and: [ &quot; +\n        &quot;{ $or: [ { 'state': { $eq: ?0 } }, { 'state': { $exists: false } } ] }, &quot; +\n        &quot;{ $or: [ { 'type': { $eq: ?1 } }, { 'type': { $exists: false } } ] }, &quot; +\n        &quot;{ $or: [ { 'priority': { $eq: ?2 } }, { 'priority': { $exists: false } } ] }&quot; +\n        &quot;] }&quot;)\nPage&lt;Ticket&gt; findAllBy(IncidentState state, IncidentType type, IncidentPriority priority, Pageable p);\n</code></pre>\n<p>But for example when call <code>http://localhost:8080/</code> and <code>http://localhost:8080?state=1</code> is always return me Ticket[].</p>\n<p>Comparing with PL/SQL I need something like</p>\n<pre><code>select * from ticket where\n(i_type is null or type=i_type) and\n(i_state is null or state=i_state) and\n(i_priority is null or priority=i_priority)\n</code></pre>\n<p>What is wrong in my @Query definition ?</p>\n"},{"tags":["java","openapi-generator","openapi-generator-cli"],"owner":{"account_id":1836808,"reputation":141,"user_id":1667016,"display_name":"user1667016"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1701354695,"creation_date":1701354695,"question_id":77579289,"body_markdown":"I am tying to use openapi-generator-cli to make the model (pojo) classes from a json api definition. It works, but it makes more than I want. \r\n\r\nI am using ```-g java --global-property models``` as options, and this kind of works. It is only making the model classes now, and not all the API classes. However, it&#39; still putting import in for things that are not found or used, for example;\r\n\r\nSome imports are included which are not used, such as;\r\n```\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.GsonBuilder;\r\n```\r\nWhich is ok because I am using that elsewhere.\r\n\r\nHowever, some of the code in the models are importing code I do not have, which it not generated, nor do I want;\r\n\r\n```\r\nimport org.openapitools.client.JSON;\r\n\r\npublic static AmendRequestPiecesInner fromJson(String jsonString) throws IOException {\r\n    return JSON.getGson().fromJson(jsonString, AmendRequestPiecesInner.class);\r\n  }\r\n```\r\n\r\nI literally JUST want the simple POJO classes, with no extra things.\r\n\r\nIs this possible?\r\n\r\n","title":"How to make simple POJO with openapi-generator-cli","body":"<p>I am tying to use openapi-generator-cli to make the model (pojo) classes from a json api definition. It works, but it makes more than I want.</p>\n<p>I am using <code>-g java --global-property models</code> as options, and this kind of works. It is only making the model classes now, and not all the API classes. However, it' still putting import in for things that are not found or used, for example;</p>\n<p>Some imports are included which are not used, such as;</p>\n<pre><code>import com.google.gson.Gson;\nimport com.google.gson.GsonBuilder;\n</code></pre>\n<p>Which is ok because I am using that elsewhere.</p>\n<p>However, some of the code in the models are importing code I do not have, which it not generated, nor do I want;</p>\n<pre><code>import org.openapitools.client.JSON;\n\npublic static AmendRequestPiecesInner fromJson(String jsonString) throws IOException {\n    return JSON.getGson().fromJson(jsonString, AmendRequestPiecesInner.class);\n  }\n</code></pre>\n<p>I literally JUST want the simple POJO classes, with no extra things.</p>\n<p>Is this possible?</p>\n"},{"tags":["java","eclipse","soap","jetty","cxf"],"comments":[{"owner":{"account_id":3420083,"reputation":687,"user_id":2867993,"display_name":"Martin"},"score":1,"creation_date":1697464283,"post_id":77125261,"comment_id":136279633,"body_markdown":"Good and bad news for you. Good: I got the same problem. Bad: I have no idea why, too.","body":"Good and bad news for you. Good: I got the same problem. Bad: I have no idea why, too."}],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26056,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695022338,"creation_date":1695022338,"answer_id":77125298,"question_id":77125261,"body_markdown":"It seems that you have both &quot;jetty&quot; (`org.eclipse.jetty`) and &quot;tomcat&quot; (`org.apache.tomcat`, `org.apache.catalina`) in your stacktrace so something wierd is going on.\r\n\r\nAre you using maven? Try running `mvn dependency:tree` to see why both tomcat and jetty are on your classpath","title":"java.lang.IllegalStateException No Jetty ContextHandler, Jetty WebSocket SCI unavailable","body":"<p>It seems that you have both &quot;jetty&quot; (<code>org.eclipse.jetty</code>) and &quot;tomcat&quot; (<code>org.apache.tomcat</code>, <code>org.apache.catalina</code>) in your stacktrace so something wierd is going on.</p>\n<p>Are you using maven? Try running <code>mvn dependency:tree</code> to see why both tomcat and jetty are on your classpath</p>\n"},{"tags":[],"owner":{"account_id":26409135,"reputation":1,"user_id":22598282,"display_name":"Lasmarinas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695196019,"creation_date":1695196019,"answer_id":77140338,"question_id":77125261,"body_markdown":"I&#39;m actually not using Maven, I would like the service run&#39;s with Tomcat 10. But I don&#39;t know how to do this.\r\n\r\nWith Tomcat 7.0.27 it was running all fine. Probably with the new version some changes happened and I don&#39;t know where to configure this or what library is missing.","title":"java.lang.IllegalStateException No Jetty ContextHandler, Jetty WebSocket SCI unavailable","body":"<p>I'm actually not using Maven, I would like the service run's with Tomcat 10. But I don't know how to do this.</p>\n<p>With Tomcat 7.0.27 it was running all fine. Probably with the new version some changes happened and I don't know where to configure this or what library is missing.</p>\n"},{"tags":[],"owner":{"account_id":29795421,"reputation":1,"user_id":22834609,"display_name":"Roemer "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698842842,"creation_date":1698842842,"answer_id":77402735,"question_id":77125261,"body_markdown":"We had the exact same case as you: \r\n1 Java 17\r\n2 Tomcat 10\r\n3 Apache CXF 4.0.2\r\n\r\nIn our case we imported a library which used jetty for some testing purposes. But we were using tomcat to run our own application. Our solution was excluding the jetty import from this library and it worked like a charm.\r\n\r\n","title":"java.lang.IllegalStateException No Jetty ContextHandler, Jetty WebSocket SCI unavailable","body":"<p>We had the exact same case as you:\n1 Java 17\n2 Tomcat 10\n3 Apache CXF 4.0.2</p>\n<p>In our case we imported a library which used jetty for some testing purposes. But we were using tomcat to run our own application. Our solution was excluding the jetty import from this library and it worked like a charm.</p>\n"},{"tags":[],"owner":{"account_id":7806647,"reputation":1,"user_id":5904322,"display_name":"Guuberre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701354552,"creation_date":1701354552,"answer_id":77579265,"question_id":77125261,"body_markdown":"I ran into exactly this same issue. In my case, I had the CXF runtime in my Java Build Path in Eclipse. This works just fine for Tomcat 9 and earlier. However, Tomcat 10.1 and TomEE 9 both produce that exception. The fix for me was to remove the CXF runtime from my build path and add the specific dependencies that I need in my POM.\r\nThe clue that gave it away for me was lance-java&#39;s answer. ","title":"java.lang.IllegalStateException No Jetty ContextHandler, Jetty WebSocket SCI unavailable","body":"<p>I ran into exactly this same issue. In my case, I had the CXF runtime in my Java Build Path in Eclipse. This works just fine for Tomcat 9 and earlier. However, Tomcat 10.1 and TomEE 9 both produce that exception. The fix for me was to remove the CXF runtime from my build path and add the specific dependencies that I need in my POM.\nThe clue that gave it away for me was lance-java's answer.</p>\n"}],"owner":{"account_id":29470894,"reputation":21,"user_id":22583523,"display_name":"Lasmarinas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1701354552,"creation_date":1695021893,"question_id":77125261,"body_markdown":"I&#39;m trying to deploy a SOAP-Webservice with:\r\n\r\n- Tomcat 10\r\n- Apache CXF 4.0.2\r\n- Java JDK 17.0.6\r\n\r\nThe Service was running fine with Tomcat 7.0.27, Java JDK 1.7.45 and Apache CXF 3.0.2.\r\nAfter changing all versions now it won&#39;t run again and claims the above error message.\r\nI have no idea, what I can do.\r\n\r\nThis are the details of the error message.\r\n\r\nI tried several changes of the configuration, but nothing helps.\r\nI&#39;m working with Eclipse Version: 2023-06 (4.28.0)\r\n\r\nMany thanks for any help.\r\n\r\n~~~\r\nINFORMATION: No Spring WebApplicationInitializer types detected on classpath\r\nSept. 18, 2023 9:03:34 AM org.apache.catalina.core.ContainerBase startInternal\r\nSCHWERWIEGEND: A child container failed during start\r\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/cumulustransfer]]\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:873)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:918)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:795)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\r\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/cumulustransfer]]\r\n\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)\r\n\t... 21 more\r\nCaused by: java.lang.IllegalStateException: No Jetty ContextHandler, Jetty WebSocket SCI unavailable\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.getServletContextHandler(ServletContextHandler.java:103)\r\n\tat org.eclipse.jetty.websocket.server.config.JettyWebSocketServletContainerInitializer.onStartup(JettyWebSocketServletContainerInitializer.java:99)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4886)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t... 27 more\r\n\r\nSept. 18, 2023 9:03:34 AM org.apache.catalina.core.ContainerBase startInternal\r\nSCHWERWIEGEND: A child container failed during start\r\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:873)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:918)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:795)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\r\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:885)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)\r\n\t... 13 more\r\nCaused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/cumulustransfer]]\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:873)\r\n\t... 21 more\r\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/cumulustransfer]]\r\n\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)\r\n\t... 21 more\r\nCaused by: java.lang.IllegalStateException: No Jetty ContextHandler, Jetty WebSocket SCI unavailable\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.getServletContextHandler(ServletContextHandler.java:103)\r\n\tat org.eclipse.jetty.websocket.server.config.JettyWebSocketServletContainerInitializer.onStartup(JettyWebSocketServletContainerInitializer.java:99)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4886)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t... 27 more\r\n~~~","title":"java.lang.IllegalStateException No Jetty ContextHandler, Jetty WebSocket SCI unavailable","body":"<p>I'm trying to deploy a SOAP-Webservice with:</p>\n<ul>\n<li>Tomcat 10</li>\n<li>Apache CXF 4.0.2</li>\n<li>Java JDK 17.0.6</li>\n</ul>\n<p>The Service was running fine with Tomcat 7.0.27, Java JDK 1.7.45 and Apache CXF 3.0.2.\nAfter changing all versions now it won't run again and claims the above error message.\nI have no idea, what I can do.</p>\n<p>This are the details of the error message.</p>\n<p>I tried several changes of the configuration, but nothing helps.\nI'm working with Eclipse Version: 2023-06 (4.28.0)</p>\n<p>Many thanks for any help.</p>\n<pre><code>INFORMATION: No Spring WebApplicationInitializer types detected on classpath\nSept. 18, 2023 9:03:34 AM org.apache.catalina.core.ContainerBase startInternal\nSCHWERWIEGEND: A child container failed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/cumulustransfer]]\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:873)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:918)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:795)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/cumulustransfer]]\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)\n    ... 21 more\nCaused by: java.lang.IllegalStateException: No Jetty ContextHandler, Jetty WebSocket SCI unavailable\n    at org.eclipse.jetty.servlet.ServletContextHandler.getServletContextHandler(ServletContextHandler.java:103)\n    at org.eclipse.jetty.websocket.server.config.JettyWebSocketServletContainerInitializer.onStartup(JettyWebSocketServletContainerInitializer.java:99)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4886)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    ... 27 more\n\nSept. 18, 2023 9:03:34 AM org.apache.catalina.core.ContainerBase startInternal\nSCHWERWIEGEND: A child container failed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:873)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:918)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:795)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:885)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)\n    ... 13 more\nCaused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/cumulustransfer]]\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:873)\n    ... 21 more\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/cumulustransfer]]\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)\n    ... 21 more\nCaused by: java.lang.IllegalStateException: No Jetty ContextHandler, Jetty WebSocket SCI unavailable\n    at org.eclipse.jetty.servlet.ServletContextHandler.getServletContextHandler(ServletContextHandler.java:103)\n    at org.eclipse.jetty.websocket.server.config.JettyWebSocketServletContainerInitializer.onStartup(JettyWebSocketServletContainerInitializer.java:99)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4886)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    ... 27 more\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"score":1,"creation_date":1701354995,"post_id":77579253,"comment_id":136767384,"body_markdown":"Soo. Are you disable google?\n\nhttps://www.geeksforgeeks.org/spring-boot-start-stop-a-kafka-listener-dynamically/","body":"Soo. Are you disable google?  <a href=\"https://www.geeksforgeeks.org/spring-boot-start-stop-a-kafka-listener-dynamically/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/&hellip;</a>"},{"owner":{"account_id":117317,"reputation":11245,"user_id":307297,"accept_rate":62,"display_name":"chris01"},"score":0,"creation_date":1701355802,"post_id":77579253,"comment_id":136767555,"body_markdown":"Thats woderful for runtime changes. But maybe there is still a way for startup with a condtion.","body":"Thats woderful for runtime changes. But maybe there is still a way for startup with a condtion."}],"owner":{"account_id":117317,"reputation":11245,"user_id":307297,"accept_rate":62,"display_name":"chris01"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701354451,"creation_date":1701354451,"question_id":77579253,"body_markdown":"I have a annotated method.\r\n\r\n    class MyKafka\r\n    {\r\n      @KafkaListener (topics = &quot;MyTopic&quot;)\r\n      public void read ()\r\n      {\r\n        //...\r\n      }\r\n\r\n      public int switch = 0;  // 0 ... disable reader\r\n    }\r\n\r\nWith the annotation it is a reader for a message-bus ... whatever... to important for my question.\r\n\r\nBut I want it only if member-variable switch is set to not 0. If 0 the annotation should not be processed and the method will not get called.\r\n\r\nHow can I get this??\r\n\r\nI tried with @ConditionalOnExpressin but this only worked on proberties in application.proberties and not on my variable - as far I see.\r\n\r\n\r\n","title":"Conditonal annotation by a variable","body":"<p>I have a annotated method.</p>\n<pre><code>class MyKafka\n{\n  @KafkaListener (topics = &quot;MyTopic&quot;)\n  public void read ()\n  {\n    //...\n  }\n\n  public int switch = 0;  // 0 ... disable reader\n}\n</code></pre>\n<p>With the annotation it is a reader for a message-bus ... whatever... to important for my question.</p>\n<p>But I want it only if member-variable switch is set to not 0. If 0 the annotation should not be processed and the method will not get called.</p>\n<p>How can I get this??</p>\n<p>I tried with @ConditionalOnExpressin but this only worked on proberties in application.proberties and not on my variable - as far I see.</p>\n"},{"tags":["java","constructor","setter"],"comments":[{"owner":{"account_id":52616,"reputation":1042896,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":2,"creation_date":1381751433,"post_id":19359548,"comment_id":28684667,"body_markdown":"Those aren&#39;t variables, they&#39;re (data) members.","body":"Those aren&#39;t variables, they&#39;re (data) members."}],"answers":[{"tags":[],"owner":{"account_id":2305374,"reputation":44549,"user_id":2024761,"display_name":"Rahul"},"down_vote_count":1,"up_vote_count":77,"is_accepted":true,"score":76,"last_activity_date":1550034608,"creation_date":1381751379,"answer_id":19359582,"question_id":19359548,"body_markdown":"You should use the constructor approach, when you want to create a new instance of the object, with the values already populated(a ready to use object with value populated). This way you need not explicitly call the setter methods for each field in the object to populate them.\r\n\r\nYou set the value using a setter approach, when you want to change the value of a field, after the object has been created.\r\n\r\n**For example:-**\r\n\r\n    MyObject obj1 = new MyObject(&quot;setSomeStringInMyObject&quot;); // Constructor approach\r\n    // Yippy, I can just use my obj1, as the values are already populated\r\n    // But even after this I can change the value\r\n    obj1.setSomeString(&quot;IWantANewValue&quot;); // Value changed using setter, if required.\r\n    ..\r\n    MyObject obj2 = new MyObject();\r\n    obj2.setSomeString(&quot;setSomeStringNow&quot;); // Setter approach\r\n    // values weren&#39;t populated - I had to do that. Sad :(\r\n\r\nAnd as Axel mentioned, *if you want to create immutable objects, you cannot use setter-methods approach. I won&#39;t say everything has to be initialised in the constructor because different approaches exist, like lazy-evaluation which can be used even with immutable objects*.","title":"Setter methods or constructors","body":"<p>You should use the constructor approach, when you want to create a new instance of the object, with the values already populated(a ready to use object with value populated). This way you need not explicitly call the setter methods for each field in the object to populate them.</p>\n\n<p>You set the value using a setter approach, when you want to change the value of a field, after the object has been created.</p>\n\n<p><strong>For example:-</strong></p>\n\n<pre><code>MyObject obj1 = new MyObject(\"setSomeStringInMyObject\"); // Constructor approach\n// Yippy, I can just use my obj1, as the values are already populated\n// But even after this I can change the value\nobj1.setSomeString(\"IWantANewValue\"); // Value changed using setter, if required.\n..\nMyObject obj2 = new MyObject();\nobj2.setSomeString(\"setSomeStringNow\"); // Setter approach\n// values weren't populated - I had to do that. Sad :(\n</code></pre>\n\n<p>And as Axel mentioned, <em>if you want to create immutable objects, you cannot use setter-methods approach. I won't say everything has to be initialised in the constructor because different approaches exist, like lazy-evaluation which can be used even with immutable objects</em>.</p>\n"},{"tags":[],"owner":{"account_id":3075057,"reputation":622,"user_id":2604660,"accept_rate":100,"display_name":"Kasper Sanguesa-Franz"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1634585061,"creation_date":1381751590,"answer_id":19359649,"question_id":19359548,"body_markdown":"In most cases, i use both of them :)  (since you 9/10 times want to come back and edit something (and that isn&#39;t a good practice to make a new instance of it)\r\n\r\nI normally make something like this\r\n```java\r\n    public class User {\r\n\r\n    \tprivate int id;\r\n    \tprivate String initials;\r\n    \tprivate String firstName;\r\n    \tprivate String lastName;\r\n    \tprivate String email;\r\n\t\r\n    \tpublic User() {\r\n          \tthis(0, &quot;&quot;, &quot;&quot;, &quot;&quot;);\r\n    \t}\r\n\t\r\n     \tpublic User(int id, String firstName, String lastName, String email) {\r\n\t\t    this.id = id;\r\n\t      \tthis.firstName = firstName;\r\n\t    \tthis.lastName = lastName;\r\n\t    \tthis.email = email;\r\n\t    }\r\n       // Getters and setters should be here\r\n    }\r\n```\r\n\r\nAnd when you want to edit something with it you can just use the setters, (a good thing if you for example is saving your users in an ArrayList, then you can just get the object from the arraylist and just set the field you wanna edit, instead of making a brand new object of it :) ","title":"Setter methods or constructors","body":"<p>In most cases, i use both of them :)  (since you 9/10 times want to come back and edit something (and that isn't a good practice to make a new instance of it)</p>\n<p>I normally make something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class User {\n\n        private int id;\n        private String initials;\n        private String firstName;\n        private String lastName;\n        private String email;\n    \n        public User() {\n            this(0, &quot;&quot;, &quot;&quot;, &quot;&quot;);\n        }\n    \n        public User(int id, String firstName, String lastName, String email) {\n            this.id = id;\n            this.firstName = firstName;\n            this.lastName = lastName;\n            this.email = email;\n        }\n       // Getters and setters should be here\n    }\n</code></pre>\n<p>And when you want to edit something with it you can just use the setters, (a good thing if you for example is saving your users in an ArrayList, then you can just get the object from the arraylist and just set the field you wanna edit, instead of making a brand new object of it :)</p>\n"},{"tags":[],"owner":{"account_id":2864952,"reputation":797,"user_id":2459452,"accept_rate":42,"display_name":"Cold"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1381751591,"creation_date":1381751591,"answer_id":19359650,"question_id":19359548,"body_markdown":"You can combine the two aproaches. Inside the constructor you can invoke the setters of instace variables. Something like:\r\n\r\n    public class TestClass {\r\n        private String someField;\r\n    \r\n        public TestClass(String someField) {\r\n            setSomeField(someField);\r\n        }\r\n    \r\n        public String getSomeField() {\r\n            return someField;\r\n        }\r\n    \r\n        public void setSomeField(String someField) {\r\n            this.someField = someField;\r\n        } \r\n    }","title":"Setter methods or constructors","body":"<p>You can combine the two aproaches. Inside the constructor you can invoke the setters of instace variables. Something like:</p>\n\n<pre><code>public class TestClass {\n    private String someField;\n\n    public TestClass(String someField) {\n        setSomeField(someField);\n    }\n\n    public String getSomeField() {\n        return someField;\n    }\n\n    public void setSomeField(String someField) {\n        this.someField = someField;\n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1381751647,"creation_date":1381751647,"answer_id":19359663,"question_id":19359548,"body_markdown":"If you want to have an immutable class use constructor otherwise use setters.","title":"Setter methods or constructors","body":"<p>If you want to have an immutable class use constructor otherwise use setters.</p>\n"},{"tags":[],"owner":{"account_id":2199420,"reputation":1383,"user_id":1944234,"accept_rate":78,"display_name":"hmir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1381751799,"creation_date":1381751799,"answer_id":19359707,"question_id":19359548,"body_markdown":"Say we have a class, named Counter:\r\n\r\n    public class Counter{\r\n        int count;\r\n        //constructor\r\n        public Counter(int c){\r\n            count = c;\r\n        }\r\n        public void setCounter(int newCounter){\r\n            count = newCounter;\r\n        }\r\n    }\r\n\r\nIn the class above, when you want to create a _new_ Counter object, you would use a constructor and set the count variable within that. like so:\r\n\r\n    Counter myCounter = new Counter(1);\r\n\r\nIf you want to change the count variable _during runtime_, you would use the setter method:\r\n\r\n    myCounter.setCounter(2);","title":"Setter methods or constructors","body":"<p>Say we have a class, named Counter:</p>\n\n<pre><code>public class Counter{\n    int count;\n    //constructor\n    public Counter(int c){\n        count = c;\n    }\n    public void setCounter(int newCounter){\n        count = newCounter;\n    }\n}\n</code></pre>\n\n<p>In the class above, when you want to create a <em>new</em> Counter object, you would use a constructor and set the count variable within that. like so:</p>\n\n<pre><code>Counter myCounter = new Counter(1);\n</code></pre>\n\n<p>If you want to change the count variable <em>during runtime</em>, you would use the setter method:</p>\n\n<pre><code>myCounter.setCounter(2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1144443,"reputation":4425,"user_id":2113996,"accept_rate":31,"display_name":"eatSleepCode"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1629219456,"creation_date":1381752015,"answer_id":19359783,"question_id":19359548,"body_markdown":"We use the approach depending on the scenario.\r\n\r\n1. Constructor Approach: We should go ahead with this approach when there are parameters which are mandatory for object&#39;s instantiation and we can not construct an object without them.\r\n\r\n2. Setter Approach: For optional parameters we can go ahead with the setter approach.","title":"Setter methods or constructors","body":"<p>We use the approach depending on the scenario.</p>\n<ol>\n<li><p>Constructor Approach: We should go ahead with this approach when there are parameters which are mandatory for object's instantiation and we can not construct an object without them.</p>\n</li>\n<li><p>Setter Approach: For optional parameters we can go ahead with the setter approach.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":126052,"reputation":1290,"user_id":322276,"display_name":"sgp15"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1381752968,"creation_date":1381752968,"answer_id":19360058,"question_id":19359548,"body_markdown":"It depends on application domain and purpose of the class in it. \r\n\r\nJava beans normally have a no arg constructor and getter/setters for relevant member variables. There are advantages to this approach as Java beans are supported out of the box in many frameworks like Struts and Spring.\r\n\r\nA class can also enforce mandatory availability of values by having such variables passed as parameters to a base constructor. And non-mandatory values can be set through other convenience constructors or setter methods.\r\n\r\nOn the other hand immutable classes can have constructors but require absence methods that modify its state including setters.\r\n\r\nOverall, such decisions can be made with consideration to overall design of application, frameworks&lt;sup&gt;1&lt;/sup&gt; it runs in, contract it must enforce, etc.\r\n\r\n*1 - Although, its recommended that class design should be independent of frameworks. Good frameworks like Spring don&#39;t enforce such requirements.*","title":"Setter methods or constructors","body":"<p>It depends on application domain and purpose of the class in it. </p>\n\n<p>Java beans normally have a no arg constructor and getter/setters for relevant member variables. There are advantages to this approach as Java beans are supported out of the box in many frameworks like Struts and Spring.</p>\n\n<p>A class can also enforce mandatory availability of values by having such variables passed as parameters to a base constructor. And non-mandatory values can be set through other convenience constructors or setter methods.</p>\n\n<p>On the other hand immutable classes can have constructors but require absence methods that modify its state including setters.</p>\n\n<p>Overall, such decisions can be made with consideration to overall design of application, frameworks<sup>1</sup> it runs in, contract it must enforce, etc.</p>\n\n<p><em>1 - Although, its recommended that class design should be independent of frameworks. Good frameworks like Spring don't enforce such requirements.</em></p>\n"},{"tags":[],"owner":{"account_id":6628166,"reputation":165,"user_id":5117671,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1482332517,"creation_date":1482332517,"answer_id":41265796,"question_id":19359548,"body_markdown":"In case of Constructors, When you update fields, you create a new object every time by using *new* keyword.\r\n\r\n    Customer customer = new Customer(&quot;Tom&quot;, 23, 10000);\r\n\r\nFor example, if you want to update the salary of Tom, you need to write this line again with updated salary, that means memory is wasted.\r\n\r\nIn case of setter methods you can set individual fields in original object only.","title":"Setter methods or constructors","body":"<p>In case of Constructors, When you update fields, you create a new object every time by using <em>new</em> keyword.</p>\n\n<pre><code>Customer customer = new Customer(\"Tom\", 23, 10000);\n</code></pre>\n\n<p>For example, if you want to update the salary of Tom, you need to write this line again with updated salary, that means memory is wasted.</p>\n\n<p>In case of setter methods you can set individual fields in original object only.</p>\n"},{"tags":[],"owner":{"account_id":5066829,"reputation":2585,"user_id":4066742,"accept_rate":0,"display_name":"S. Mayol"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1668016009,"creation_date":1489534139,"answer_id":42798426,"question_id":19359548,"body_markdown":"I think you asked a good question: - But when do we use constructors and when do we use setters?\r\n\r\nFirst, let&#39;s start with some concepts. I hope this explanation helps everybody that want to know when to use constructors or setters() and getters() methods (Accessors and Mutators). **Constructors** are similar to **Methods**, however there are few differences between ***constructor*** and ***method*** in java:\r\n\r\n1) A ***Constructor*** is used to initialize the state of an object. A \t***Method*** is used to expose behaviour of an object.\r\n\r\n2) ***Constructor*** must not have return type.\t***Method*** must have return type.\r\n\r\n3) ***Constructor*** is invoked implicitly.\t***Method*** is invoked explicitly.\r\n\r\n4) ***Getters()***, or accessors, are methods that provide access to an object&#39;s instance variables. ***Setters()***, or mutators, are methods that provide the caller with an opportunity to update the value of a particular instance variable. \r\n\r\nHaving this clear, let&#39;s think in term of Object Oriented Programming (OOP), to meet the requirement of OOP principals (The *Objects Oriented Programming (OOP)* is constructed over *four major principles*: ***Encapsulation***, ***Data Abstraction***, ***Polymorphism*** and ***Inheritance***.), *Getter()* and *Setter()* methods is the key to achieve this.\r\n\r\nHere is a formula that is going to show you what I mean:\r\n\r\n&gt; Private fields + Public accessors == Encapsulation;\r\n\r\nAs you can see based on this formula when we set private fields and use public accesors we are performing encapsulation one of the 4 OOP principals.\r\n\r\nHere I am going to provide you two classes, I added comment on it to try to make my code self explaining. Take these classes as a lab on methods with `Customer` and `TestCustomer` [the one with the `main()` method] classes, you can copy the code and run it yourself. Note I used two constructors in order to explain a class having multiple constructors and having public `setters()` and `getters()` methods in order to access private instance variables:\r\n\r\n    package com.exercise.lecture2;\r\n    \r\n    /**\r\n     * 1) Create a Customer class that has the following attributes:\r\n     * name, SSN.\r\n     * 2) This class should have two methods: getName() and getSSN().\r\n     * 3) If the class is instantiated with only a SSN, then give the default name of &quot;John Doe&quot;. (HINT: Use two constructors)\r\n     * 4) Also, add a method toString(), that returns a string representation of the customer object (name and SSN concatenated).\r\n     * \t\tMake sure to set this method public.\r\n     * 5) Create a class to test your program (e.g. a class that include the main() method). In your test program, instantiate\r\n     * \t\tthree customers and print out the value using toString() method.\r\n     * \r\n     * @author Samuel M.\r\n     *\r\n     */\r\n    \r\n    //this class is complemented with class  TestLabCustomer.java\r\n    public class LabCustomer {\r\n\r\n    // Private filds: name and socialSecurityNum\r\n    \tprivate String name;\r\n    \tprivate int socialSecurityNum;\r\n    \t\r\n    \t// constructors\r\n    \tpublic LabCustomer(String name, int socialSecurityNum) {\r\n    \t\tthis.name = name;\r\n    \t\tthis.socialSecurityNum = socialSecurityNum;\r\n    \t}\r\n    \t\r\n    \t/** The keyword &#39;this&#39; can be used to call a constructor from a constructor,\r\n    \t * when writing several constructor for a class, there are times when\r\n    \t * you&#39;d like to call one constructor from another to avoid duplicate code.\r\n    \t */\r\n    \t// Account with This() on a second constructor\r\n    \tpublic LabCustomer(int socialSecurityNum) {\r\n    \t\tthis(&quot;John Doe&quot;, socialSecurityNum); // default name is printed if only the SSN is provided\r\n    \t}\r\n    \t\r\n    \t// Public accessors (getters and setters)\r\n    \tString getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \t\r\n    \tvoid setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \t\r\n    \tint getSSN() {\r\n    \t\treturn socialSecurityNum;\r\n    \t}\r\n    \t\r\n    \tvoid setSSN(int socialSecurityNum) {\r\n    \t\tthis.socialSecurityNum = socialSecurityNum;\r\n    \t}\r\n    \r\n    \t\r\n    \t// instance method\r\n    \tpublic String toString() { //overriding the toString() method \r\n    \t\treturn (&quot;Customer name: &quot; + getName() + &quot;, SSN#: &quot; + getSSN() ); // concatenating the name and SSN\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nHere is the test class, the one that has the `main()` method and calling an instance method after instantiating an object of the previews class:\r\n\r\n    package com.exercise.lecture2;\r\n    \r\n    //this class is complemented with class  LabCustomer.java\r\n    public class TestLabCustomer {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Instantiating an object of class LabCustomer and creating three customers objects\r\n    \t\tLabCustomer cust1 = new LabCustomer(&quot;Juan Melendez&quot;, 123457789);\r\n    \t\tLabCustomer cust2 = new LabCustomer(&quot;Mary Lee&quot;, 125997536);\r\n    \t\tLabCustomer cust3 = new LabCustomer(124963574); // when instantiating with no &quot;name&quot;, the default (John Doe) is printed \r\n    \t\t\r\n    \t\t/**\r\n    \t\t * Once you&#39;ve instantiated an object and have an object variable,\r\n    \t\t * you can use object variable to call an instance method. \r\n    \t\t * \te.g.:\r\n    \t\t * \tobject variables: cust1, cust2, cust3\r\n    \t\t * \tcall the method toString() using the object variable and dot [.] in order to perform the method call.\r\n    \t\t */\r\n    \t\t// calling method toString() in class LabCustomer to print customer values\r\n    \t\tSystem.out.println(cust1.toString());\r\n    \t\tSystem.out.println(cust2.toString());\r\n    \t\tSystem.out.println(cust3.toString());\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n&gt; *result:*\r\n&gt; \r\n&gt; Customer name: Juan Melendez, SSN#: 123457789\r\n&gt; \r\n&gt; Customer name: Mary Lee, SSN#: 125997536\r\n&gt; \r\n&gt; Customer name: John Doe, SSN#: 124963574\r\n\r\n","title":"Setter methods or constructors","body":"<p>I think you asked a good question: - But when do we use constructors and when do we use setters?</p>\n<p>First, let's start with some concepts. I hope this explanation helps everybody that want to know when to use constructors or setters() and getters() methods (Accessors and Mutators). <strong>Constructors</strong> are similar to <strong>Methods</strong>, however there are few differences between <em><strong>constructor</strong></em> and <em><strong>method</strong></em> in java:</p>\n<ol>\n<li><p>A <em><strong>Constructor</strong></em> is used to initialize the state of an object. A  <em><strong>Method</strong></em> is used to expose behaviour of an object.</p>\n</li>\n<li><p><em><strong>Constructor</strong></em> must not have return type. <em><strong>Method</strong></em> must have return type.</p>\n</li>\n<li><p><em><strong>Constructor</strong></em> is invoked implicitly. <em><strong>Method</strong></em> is invoked explicitly.</p>\n</li>\n<li><p><em><strong>Getters()</strong></em>, or accessors, are methods that provide access to an object's instance variables. <em><strong>Setters()</strong></em>, or mutators, are methods that provide the caller with an opportunity to update the value of a particular instance variable.</p>\n</li>\n</ol>\n<p>Having this clear, let's think in term of Object Oriented Programming (OOP), to meet the requirement of OOP principals (The <em>Objects Oriented Programming (OOP)</em> is constructed over <em>four major principles</em>: <em><strong>Encapsulation</strong></em>, <em><strong>Data Abstraction</strong></em>, <em><strong>Polymorphism</strong></em> and <em><strong>Inheritance</strong></em>.), <em>Getter()</em> and <em>Setter()</em> methods is the key to achieve this.</p>\n<p>Here is a formula that is going to show you what I mean:</p>\n<blockquote>\n<p>Private fields + Public accessors == Encapsulation;</p>\n</blockquote>\n<p>As you can see based on this formula when we set private fields and use public accesors we are performing encapsulation one of the 4 OOP principals.</p>\n<p>Here I am going to provide you two classes, I added comment on it to try to make my code self explaining. Take these classes as a lab on methods with <code>Customer</code> and <code>TestCustomer</code> [the one with the <code>main()</code> method] classes, you can copy the code and run it yourself. Note I used two constructors in order to explain a class having multiple constructors and having public <code>setters()</code> and <code>getters()</code> methods in order to access private instance variables:</p>\n<pre><code>package com.exercise.lecture2;\n\n/**\n * 1) Create a Customer class that has the following attributes:\n * name, SSN.\n * 2) This class should have two methods: getName() and getSSN().\n * 3) If the class is instantiated with only a SSN, then give the default name of &quot;John Doe&quot;. (HINT: Use two constructors)\n * 4) Also, add a method toString(), that returns a string representation of the customer object (name and SSN concatenated).\n *      Make sure to set this method public.\n * 5) Create a class to test your program (e.g. a class that include the main() method). In your test program, instantiate\n *      three customers and print out the value using toString() method.\n * \n * @author Samuel M.\n *\n */\n\n//this class is complemented with class  TestLabCustomer.java\npublic class LabCustomer {\n\n// Private filds: name and socialSecurityNum\n    private String name;\n    private int socialSecurityNum;\n    \n    // constructors\n    public LabCustomer(String name, int socialSecurityNum) {\n        this.name = name;\n        this.socialSecurityNum = socialSecurityNum;\n    }\n    \n    /** The keyword 'this' can be used to call a constructor from a constructor,\n     * when writing several constructor for a class, there are times when\n     * you'd like to call one constructor from another to avoid duplicate code.\n     */\n    // Account with This() on a second constructor\n    public LabCustomer(int socialSecurityNum) {\n        this(&quot;John Doe&quot;, socialSecurityNum); // default name is printed if only the SSN is provided\n    }\n    \n    // Public accessors (getters and setters)\n    String getName() {\n        return name;\n    }\n    \n    void setName(String name) {\n        this.name = name;\n    }\n    \n    int getSSN() {\n        return socialSecurityNum;\n    }\n    \n    void setSSN(int socialSecurityNum) {\n        this.socialSecurityNum = socialSecurityNum;\n    }\n\n    \n    // instance method\n    public String toString() { //overriding the toString() method \n        return (&quot;Customer name: &quot; + getName() + &quot;, SSN#: &quot; + getSSN() ); // concatenating the name and SSN\n        \n    }\n}\n</code></pre>\n<p>Here is the test class, the one that has the <code>main()</code> method and calling an instance method after instantiating an object of the previews class:</p>\n<pre><code>package com.exercise.lecture2;\n\n//this class is complemented with class  LabCustomer.java\npublic class TestLabCustomer {\n\n    public static void main(String[] args) {\n        // Instantiating an object of class LabCustomer and creating three customers objects\n        LabCustomer cust1 = new LabCustomer(&quot;Juan Melendez&quot;, 123457789);\n        LabCustomer cust2 = new LabCustomer(&quot;Mary Lee&quot;, 125997536);\n        LabCustomer cust3 = new LabCustomer(124963574); // when instantiating with no &quot;name&quot;, the default (John Doe) is printed \n        \n        /**\n         * Once you've instantiated an object and have an object variable,\n         * you can use object variable to call an instance method. \n         *  e.g.:\n         *  object variables: cust1, cust2, cust3\n         *  call the method toString() using the object variable and dot [.] in order to perform the method call.\n         */\n        // calling method toString() in class LabCustomer to print customer values\n        System.out.println(cust1.toString());\n        System.out.println(cust2.toString());\n        System.out.println(cust3.toString());\n\n    }\n\n}\n</code></pre>\n<blockquote>\n<p><em>result:</em></p>\n<p>Customer name: Juan Melendez, SSN#: 123457789</p>\n<p>Customer name: Mary Lee, SSN#: 125997536</p>\n<p>Customer name: John Doe, SSN#: 124963574</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1554532375,"creation_date":1517943482,"answer_id":48650056,"question_id":19359548,"body_markdown":"In simple terms:\r\n\r\nUse *constructor* if you think initialization is mandatory before you can use the object.\r\n\r\nUse *setter* method when initialization of variable is non-mandatory to use the object. \r\n\r\nRefer to documentation [page][1] for more details.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/constructors.html","title":"Setter methods or constructors","body":"<p>In simple terms:</p>\n\n<p>Use <em>constructor</em> if you think initialization is mandatory before you can use the object.</p>\n\n<p>Use <em>setter</em> method when initialization of variable is non-mandatory to use the object. </p>\n\n<p>Refer to documentation <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/constructors.html\" rel=\"noreferrer\">page</a> for more details.</p>\n"}],"owner":{"account_id":2403042,"reputation":776,"user_id":2100279,"accept_rate":57,"display_name":"ssayyed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75997,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":19359582,"answer_count":10,"score":60,"last_activity_date":1701354279,"creation_date":1381751270,"question_id":19359548,"body_markdown":"So far I have seen two approaches of setting a variable&#39;s value in Java. Sometimes a constructor with arguments is used, others setter methods are used to set the value of each variable.\r\n\r\nI know that a constructor initializes an instance variable inside a class once a class is instantiated using the `new` keyword.\r\n\r\nBut when do we use constructors and when do we use setters?","title":"Setter methods or constructors","body":"<p>So far I have seen two approaches of setting a variable's value in Java. Sometimes a constructor with arguments is used, others setter methods are used to set the value of each variable.</p>\n<p>I know that a constructor initializes an instance variable inside a class once a class is instantiated using the <code>new</code> keyword.</p>\n<p>But when do we use constructors and when do we use setters?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701354473,"post_id":77579218,"comment_id":136767252,"body_markdown":"You shouldn&#39;t add that annotation. If you add it it will disable auto configuration and i think also start scanning from the package it is defined in, instead of the package of the `@SpringBootApplication`. You shouldn&#39;t need the `@EnableTransactionManagement` either.","body":"You shouldn&#39;t add that annotation. If you add it it will disable auto configuration and i think also start scanning from the package it is defined in, instead of the package of the <code>@SpringBootApplication</code>. You shouldn&#39;t need the <code>@EnableTransactionManagement</code> either."},{"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"score":0,"creation_date":1701413387,"post_id":77579218,"comment_id":136774927,"body_markdown":"It must be a change then from newer Spring Boot. I used this annotation before with Spring Boot 2.2.4 and it worked then.","body":"It must be a change then from newer Spring Boot. I used this annotation before with Spring Boot 2.2.4 and it worked then."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701434173,"post_id":77579218,"comment_id":136778058,"body_markdown":"Then you were lucky I suspect, as that annotation disables auto-config and could be that some changes in Spring Data have influences this. But as mentioned just remove it (assuming you are following the best practices for structuring your application).","body":"Then you were lucky I suspect, as that annotation disables auto-config and could be that some changes in Spring Data have influences this. But as mentioned just remove it (assuming you are following the best practices for structuring your application)."}],"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701354194,"creation_date":1701354194,"question_id":77579218,"body_markdown":"After upgrading my project from Spring Boot 2.2.4, to 3.1.6, my Repository JUnit tests failed.\r\n\r\nAfter some investigation, I found out they fail if I have `@EnableJpaRepositories` in my Application Configuration.\r\n\r\nWhen running the tests, it cannot find my Repositories to autowire.\r\n```\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.example.demo.repository.BookRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n```\r\n\r\nIf I remove the `@EnableJpaRepositories` from my RootConfig class, then the tests works.\r\n```\r\n@Configuration\r\n@EnableDiscoveryClient\r\n@EnableCaching\r\n@EnableBatchProcessing\r\n@EnableTransactionManagement\r\n//@EnableJpaRepositories\r\npublic class RootConfig {\r\n}\r\n```\r\n\r\nThe latest commit on this test project can demonstrate this problem.\\\r\nhttps://github.com/DJViking/spring-boot-demo\r\n\r\nIt works if I specify the repository package with @EnableJpaRepositories.\\\r\n```\r\n@EnableJpaRepositories(&quot;com.example.demo.repository&quot;)\r\n```\r\nWhy do I need this? I did not need it in earlier version of Spring Boot.\r\n\r\nIs there something nww with Spring Boot 2.7, 3.0, or 3.1 that I have failed to account for?\\\r\nLooking at the migration guides for Spring Boot, I cannot find anything related to this annotation.\\\r\nhttps://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide\r\nhttps://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.1-Release-Notes","title":"Spring Boot 3.1 Repository in tests does not Autowir when using EnableJpaRepositories","body":"<p>After upgrading my project from Spring Boot 2.2.4, to 3.1.6, my Repository JUnit tests failed.</p>\n<p>After some investigation, I found out they fail if I have <code>@EnableJpaRepositories</code> in my Application Configuration.</p>\n<p>When running the tests, it cannot find my Repositories to autowire.</p>\n<pre><code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.demo.repository.BookRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n</code></pre>\n<p>If I remove the <code>@EnableJpaRepositories</code> from my RootConfig class, then the tests works.</p>\n<pre><code>@Configuration\n@EnableDiscoveryClient\n@EnableCaching\n@EnableBatchProcessing\n@EnableTransactionManagement\n//@EnableJpaRepositories\npublic class RootConfig {\n}\n</code></pre>\n<p>The latest commit on this test project can demonstrate this problem.<br />\n<a href=\"https://github.com/DJViking/spring-boot-demo\" rel=\"nofollow noreferrer\">https://github.com/DJViking/spring-boot-demo</a></p>\n<p>It works if I specify the repository package with @EnableJpaRepositories.\\</p>\n<pre><code>@EnableJpaRepositories(&quot;com.example.demo.repository&quot;)\n</code></pre>\n<p>Why do I need this? I did not need it in earlier version of Spring Boot.</p>\n<p>Is there something nww with Spring Boot 2.7, 3.0, or 3.1 that I have failed to account for?<br />\nLooking at the migration guides for Spring Boot, I cannot find anything related to this annotation.<br />\n<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide</a>\n<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.1-Release-Notes\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.1-Release-Notes</a></p>\n"},{"tags":["java","mysql","spring-boot","hibernate","spring-security"],"comments":[{"owner":{"account_id":25295091,"reputation":124,"user_id":19120390,"display_name":"Ajaj Ali"},"score":1,"creation_date":1701171996,"post_id":77563578,"comment_id":136739763,"body_markdown":"please add a log or any trace for the exception or error.","body":"please add a log or any trace for the exception or error."}],"answers":[{"tags":[],"owner":{"account_id":24144805,"reputation":1,"user_id":18110581,"display_name":"Muhammet Ali Beysulen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701173032,"creation_date":1701172976,"answer_id":77563716,"question_id":77563578,"body_markdown":"[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X0fVt.png\r\n\r\nWhen sending a request in your postman, you can try to send your data via raw and json model in Body.","title":"Could not commit JPA transaction while working with post request","body":"<p><a href=\"https://i.stack.imgur.com/X0fVt.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>When sending a request in your postman, you can try to send your data via raw and json model in Body.</p>\n"},{"tags":[],"owner":{"account_id":12561920,"reputation":408,"user_id":9139357,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701353809,"creation_date":1701353370,"answer_id":77579126,"question_id":77563578,"body_markdown":"You need to share your JSON data and  `EmployeeService` class to understand the issue better.\r\n\r\nFrom the image you shared, I found out one issue:\r\n\r\nYou give `id` for creating an employee but in the `Employee` model, it is generated by Hibernate automatically in your model by specifying this: `@GeneratedValue`. So it is wrong, you should not add **id** field in your JSON data. That might be the reason for getting the error.\r\n\r\nIf you want to give `id` externally, then you need to remove `@GeneratedValue` annotation in `Employee` class.","title":"Could not commit JPA transaction while working with post request","body":"<p>You need to share your JSON data and  <code>EmployeeService</code> class to understand the issue better.</p>\n<p>From the image you shared, I found out one issue:</p>\n<p>You give <code>id</code> for creating an employee but in the <code>Employee</code> model, it is generated by Hibernate automatically in your model by specifying this: <code>@GeneratedValue</code>. So it is wrong, you should not add <strong>id</strong> field in your JSON data. That might be the reason for getting the error.</p>\n<p>If you want to give <code>id</code> externally, then you need to remove <code>@GeneratedValue</code> annotation in <code>Employee</code> class.</p>\n"}],"owner":{"account_id":26747337,"reputation":13,"user_id":20347223,"display_name":"Ch Vamsi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701353809,"creation_date":1701171624,"question_id":77563578,"body_markdown":"I&#39;m attempting to send a post request with an image attachment and employee details in json format. For ImageData and Employee, I have distinct tables. I am able to store image data with my code, but not employee data.The error message &quot;Could not commit JPA transaction&quot; is displayed.\r\nHere I am sharing my code details\r\n\r\n```\r\n#Post Request\r\n@PostMapping(&quot;/create&quot;)\r\n    public Employee tempCreateEmployee(\r\n            @RequestParam(&quot;json&quot;) String json,\r\n            @RequestParam(&quot;file&quot;) MultipartFile file\r\n    ) throws CustomException {\r\n        try {\r\n\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            logger.info(&quot;data received as string&quot;);\r\n\r\n            Employee employee = objectMapper.readValue(json, Employee.class);\r\n            logger.info(employee.toString());\r\n\r\n            logger.info(&quot;Received employee data: {}&quot;, employee);\r\n            \r\n            int imageId=fileService.uploadImageFile(file);\r\n            logger.info(&quot;file processing successful&quot;);\r\n            \r\n            employee.setImageid(imageId);\r\n            logger.info(employee.toString());\r\n           \r\n            return employeeService.save(employee);\r\n        } catch (Exception ex) {\r\n           \r\n            throw new CustomException(&quot;Employee object not created&quot;);\r\n        }\r\n    }\r\n```\r\nService method for uploading image\r\n\r\n```\r\npublic int uploadImageFile(MultipartFile file) throws IOException {\r\n        ImageData imageData= filesRepo.save(ImageData.builder()\r\n                .name(file.getOriginalFilename())\r\n                .type(file.getContentType())\r\n                .id(filesRepo.findAll().size()+1)\r\n                .image_filedata(ImageUtils.compressImage(file.getBytes())).build());\r\n        \r\n       \r\n        return imageData.getId();\r\n\r\n    }\r\n```\r\n**Employee Model class:**\r\n\r\n```\r\npackage com.SpringTask.SpringTask.Models;\r\n\r\nimport com.SpringTask.SpringTask.Encryption.Encrypt;\r\nimport com.fasterxml.jackson.annotation.JsonFormat;\r\nimport jakarta.persistence.*;\r\nimport jakarta.validation.constraints.*;\r\nimport jdk.jfr.DataAmount;\r\n\r\n\r\nimport java.time.LocalDate;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.Date;\r\n\r\n\r\nimport lombok.*;\r\n\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\n@Setter\r\n@Getter\r\n@Data\r\n@Entity\r\n@Table(name=&quot;tableEmployees&quot;)\r\n\r\npublic class Employee {\r\n    @Id\r\n    @GeneratedValue\r\n    public Integer id;\r\n\r\n\r\n    public String firstName;\r\n\r\n  \r\n    public String lastName;\r\n\r\n    \r\n    public String address;\r\n\r\n    \r\n    public String email;\r\n\r\n\r\n    \r\n    public int phoneNumber;\r\n\r\n  \r\n\r\n    private int imageid;\r\n\r\n   }\r\n```\r\n\r\n\r\n**ImageData model class:**\r\n\r\n\r\n```\r\npackage com.SpringTask.SpringTask.Models;\r\n\r\nimport jakarta.persistence.*;\r\nimport jakarta.persistence.Table;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.*;\r\nimport lombok.NoArgsConstructor;\r\nimport org.hibernate.engine.internal.Cascade;\r\n\r\nimport java.util.Arrays;\r\n\r\n\r\n@Entity\r\n@Table(name = &quot;tableImageData&quot;)\r\n@Builder(toBuilder = true)\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Setter\r\n@Getter\r\n\r\npublic class ImageData {\r\n    @Id\r\n    private int id;\r\n\r\n    private String name;\r\n    private String type;\r\n\r\n    @Lob\r\n    @Column(name = &quot;image_filedata&quot;, columnDefinition = &quot;LONGBLOB&quot;)\r\n    private byte[] image_filedata;\r\n    \r\n}\r\n```\r\n[![enter image description here](https://i.stack.imgur.com/TjCvB.png)](https://i.stack.imgur.com/TjCvB.png)\r\n\r\nI&#39;ve tried debugging , but every time same issue appears. I have verified my database setup and code logic.\r\nCould not commit JPA transaction means?","title":"Could not commit JPA transaction while working with post request","body":"<p>I'm attempting to send a post request with an image attachment and employee details in json format. For ImageData and Employee, I have distinct tables. I am able to store image data with my code, but not employee data.The error message &quot;Could not commit JPA transaction&quot; is displayed.\nHere I am sharing my code details</p>\n<pre><code>#Post Request\n@PostMapping(&quot;/create&quot;)\n    public Employee tempCreateEmployee(\n            @RequestParam(&quot;json&quot;) String json,\n            @RequestParam(&quot;file&quot;) MultipartFile file\n    ) throws CustomException {\n        try {\n\n            ObjectMapper objectMapper = new ObjectMapper();\n            logger.info(&quot;data received as string&quot;);\n\n            Employee employee = objectMapper.readValue(json, Employee.class);\n            logger.info(employee.toString());\n\n            logger.info(&quot;Received employee data: {}&quot;, employee);\n            \n            int imageId=fileService.uploadImageFile(file);\n            logger.info(&quot;file processing successful&quot;);\n            \n            employee.setImageid(imageId);\n            logger.info(employee.toString());\n           \n            return employeeService.save(employee);\n        } catch (Exception ex) {\n           \n            throw new CustomException(&quot;Employee object not created&quot;);\n        }\n    }\n</code></pre>\n<p>Service method for uploading image</p>\n<pre><code>public int uploadImageFile(MultipartFile file) throws IOException {\n        ImageData imageData= filesRepo.save(ImageData.builder()\n                .name(file.getOriginalFilename())\n                .type(file.getContentType())\n                .id(filesRepo.findAll().size()+1)\n                .image_filedata(ImageUtils.compressImage(file.getBytes())).build());\n        \n       \n        return imageData.getId();\n\n    }\n</code></pre>\n<p><strong>Employee Model class:</strong></p>\n<pre><code>package com.SpringTask.SpringTask.Models;\n\nimport com.SpringTask.SpringTask.Encryption.Encrypt;\nimport com.fasterxml.jackson.annotation.JsonFormat;\nimport jakarta.persistence.*;\nimport jakarta.validation.constraints.*;\nimport jdk.jfr.DataAmount;\n\n\nimport java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Date;\n\n\nimport lombok.*;\n\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@Setter\n@Getter\n@Data\n@Entity\n@Table(name=&quot;tableEmployees&quot;)\n\npublic class Employee {\n    @Id\n    @GeneratedValue\n    public Integer id;\n\n\n    public String firstName;\n\n  \n    public String lastName;\n\n    \n    public String address;\n\n    \n    public String email;\n\n\n    \n    public int phoneNumber;\n\n  \n\n    private int imageid;\n\n   }\n</code></pre>\n<p><strong>ImageData model class:</strong></p>\n<pre><code>package com.SpringTask.SpringTask.Models;\n\nimport jakarta.persistence.*;\nimport jakarta.persistence.Table;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.*;\nimport lombok.NoArgsConstructor;\nimport org.hibernate.engine.internal.Cascade;\n\nimport java.util.Arrays;\n\n\n@Entity\n@Table(name = &quot;tableImageData&quot;)\n@Builder(toBuilder = true)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Setter\n@Getter\n\npublic class ImageData {\n    @Id\n    private int id;\n\n    private String name;\n    private String type;\n\n    @Lob\n    @Column(name = &quot;image_filedata&quot;, columnDefinition = &quot;LONGBLOB&quot;)\n    private byte[] image_filedata;\n    \n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/TjCvB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TjCvB.png\" alt=\"enter image description here\" /></a></p>\n<p>I've tried debugging , but every time same issue appears. I have verified my database setup and code logic.\nCould not commit JPA transaction means?</p>\n"},{"tags":["java","authentication","kerberos","ntlm","httpurlconnection"],"answers":[{"tags":[],"owner":{"account_id":4177,"reputation":32462,"user_id":6198,"accept_rate":86,"display_name":"Matt Solnit"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1265735220,"creation_date":1248379482,"answer_id":1174149,"question_id":1168526,"body_markdown":"According to [this page][1], you _can_ use the built-in JRE classes, with the caveat that earlier versions of Java can only do this on a Windows machine.\r\n\r\nHowever, if you are willing to live with a 3rd-party dependency, IMO [Apache Commons HttpClient 3.x][2] is the way to go.  [Here][3] is the documentation for using authentication, including NTLM.  In general, HttpClient is a much more functional library.\r\n\r\nThe latest version of HttpClient is 4.0, but &lt;del&gt;apparently this version [does not support NTLM][4]&lt;/del&gt; this version [requires a tiny bit of extra work][4].\r\n\r\nHere is what I __think__ the code would look like, although I haven&#39;t tried it:\r\n\r\n    HttpClient httpClient = new HttpClient();\r\n    httpClient.getState().setCredentials(AuthScope.ANY, new NTCredentials(user, password, hostPortionOfURL, domain));\r\n    GetMethod request = new GetMethod(url);\r\n    BufferedReader reader = new InputStreamReader(request.getResponseBodyAsStream());\r\n\r\nGood luck.\r\n\r\n  [1]: http://oaklandsoftware.com/papers/ntlm.html\r\n  [2]: http://hc.apache.org/httpclient-3.x/index.html\r\n  [3]: http://hc.apache.org/httpclient-3.x/authentication.html\r\n  [4]: http://hc.apache.org/httpcomponents-client/ntlm.html","title":"authenticate with ntlm (or kerberos) using java UrlConnection","body":"<p>According to <a href=\"http://oaklandsoftware.com/papers/ntlm.html\" rel=\"nofollow noreferrer\">this page</a>, you <em>can</em> use the built-in JRE classes, with the caveat that earlier versions of Java can only do this on a Windows machine.</p>\n\n<p>However, if you are willing to live with a 3rd-party dependency, IMO <a href=\"http://hc.apache.org/httpclient-3.x/index.html\" rel=\"nofollow noreferrer\">Apache Commons HttpClient 3.x</a> is the way to go.  <a href=\"http://hc.apache.org/httpclient-3.x/authentication.html\" rel=\"nofollow noreferrer\">Here</a> is the documentation for using authentication, including NTLM.  In general, HttpClient is a much more functional library.</p>\n\n<p>The latest version of HttpClient is 4.0, but <del>apparently this version <a href=\"http://hc.apache.org/httpcomponents-client/ntlm.html\" rel=\"nofollow noreferrer\">does not support NTLM</a></del> this version <a href=\"http://hc.apache.org/httpcomponents-client/ntlm.html\" rel=\"nofollow noreferrer\">requires a tiny bit of extra work</a>.</p>\n\n<p>Here is what I <strong>think</strong> the code would look like, although I haven't tried it:</p>\n\n<pre><code>HttpClient httpClient = new HttpClient();\nhttpClient.getState().setCredentials(AuthScope.ANY, new NTCredentials(user, password, hostPortionOfURL, domain));\nGetMethod request = new GetMethod(url);\nBufferedReader reader = new InputStreamReader(request.getResponseBodyAsStream());\n</code></pre>\n\n<p>Good luck.</p>\n"},{"tags":[],"owner":{"account_id":69719,"reputation":249,"user_id":202722,"display_name":"Pat Gonzalez"},"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1258395836,"creation_date":1257416097,"answer_id":1679576,"question_id":1168526,"body_markdown":"Take a look at the SpnegoHttpURLConnection class in the SPNEGO HTTP Servlet Filter project. This project has some examples as well.\r\n\r\nThis project has a [client library][1] that pretty much does what you are doing in your example.\r\n\r\nTake a look this example from the javadoc...\r\n\r\n     public static void main(final String[] args) throws Exception {\r\n         final String creds = &quot;dfelix:myp@s5&quot;;\r\n         \r\n         final String token = Base64.encode(creds.getBytes());\r\n         \r\n         URL url = new URL(&quot;http://medusa:8080/index.jsp&quot;);\r\n         \r\n         HttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n         \r\n         conn.setRequestProperty(Constants.AUTHZ_HEADER\r\n                 , Constants.BASIC_HEADER + &quot; &quot; + token);\r\n                 \r\n         conn.connect();\r\n         \r\n         System.out.println(&quot;Response Code:&quot; + conn.getResponseCode());\r\n     }\r\n\r\n\r\n  [1]: http://spnego.sourceforge.net/api/net/sourceforge/spnego/SpnegoHttpURLConnection.html","title":"authenticate with ntlm (or kerberos) using java UrlConnection","body":"<p>Take a look at the SpnegoHttpURLConnection class in the SPNEGO HTTP Servlet Filter project. This project has some examples as well.</p>\n\n<p>This project has a <a href=\"http://spnego.sourceforge.net/api/net/sourceforge/spnego/SpnegoHttpURLConnection.html\" rel=\"nofollow noreferrer\">client library</a> that pretty much does what you are doing in your example.</p>\n\n<p>Take a look this example from the javadoc...</p>\n\n<pre><code> public static void main(final String[] args) throws Exception {\n     final String creds = \"dfelix:myp@s5\";\n\n     final String token = Base64.encode(creds.getBytes());\n\n     URL url = new URL(\"http://medusa:8080/index.jsp\");\n\n     HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n\n     conn.setRequestProperty(Constants.AUTHZ_HEADER\n             , Constants.BASIC_HEADER + \" \" + token);\n\n     conn.connect();\n\n     System.out.println(\"Response Code:\" + conn.getResponseCode());\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1049344,"reputation":1539,"user_id":1053629,"display_name":"Tires"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405690692,"creation_date":1344356587,"answer_id":11850163,"question_id":1168526,"body_markdown":"A compatible solution for java.net.URLStreamHandler and java.net.URL is com.intersult.net.http.NtlmHandler:\r\n\r\n\tNtlmHandler handler = new NtlmHandler();\r\n\thandler.setUsername(&quot;domain\\\\username&quot;);\r\n\thandler.setPassword(&quot;password&quot;);\r\n\tURL url = new URL(null, urlString, handler);\r\n\tURLConnection connection = url.openConnection();\r\n\r\nYou also can use java.net.Proxy within url.openConnection(proxy).\r\n\r\nUse Maven-Dependency:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.intersult&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;http&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n","title":"authenticate with ntlm (or kerberos) using java UrlConnection","body":"<p>A compatible solution for java.net.URLStreamHandler and java.net.URL is com.intersult.net.http.NtlmHandler:</p>\n\n<pre><code>NtlmHandler handler = new NtlmHandler();\nhandler.setUsername(\"domain\\\\username\");\nhandler.setPassword(\"password\");\nURL url = new URL(null, urlString, handler);\nURLConnection connection = url.openConnection();\n</code></pre>\n\n<p>You also can use java.net.Proxy within url.openConnection(proxy).</p>\n\n<p>Use Maven-Dependency:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.intersult&lt;/groupId&gt;\n        &lt;artifactId&gt;http&lt;/artifactId&gt;\n        &lt;version&gt;1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":20091,"reputation":61026,"user_id":47633,"accept_rate":61,"display_name":"opensas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19619,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1701352950,"creation_date":1248299838,"question_id":1168526,"body_markdown":"I need to consume a rest web service with java, passing the credentials of a domain user account.\r\n\r\nright now I&#39;m doing it with classic asp\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\nset xmlHttp = server.createObject( &quot;msxml2.serverxmlhttp&quot; )\r\nxmlHttp.open method, url, false, domain &amp; &quot;\\&quot; &amp; user, password\r\nxmlHttp.send body\r\nout = xmlHttp.responseText\r\nset xmlHttp = nothing\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nand with asp.net\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\n\r\nHttpWebRequest request = (HttpWebRequest) WebRequest.Create( url );\r\n\r\nrequest.Credentials = new NetworkCredential(user, password, domain);\r\n\r\nrequest.Method = WebRequestMethods.Http.Get\r\n\r\nHttpWebResponse response = (HttpWebResponse) request.GetResponse();\r\n\r\nStreamReader outStream = new StreamReader( response.GetResponseStream(), Encoding.UTF8) ;\r\n\r\noutput = outStream.ReadToEnd();\r\n\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\n\r\nhow can I achieve this with java? Take into account that I&#39;m not using the credentials of the currently logged user, I&#39;m specifing the domain account (I have the password)\r\n\r\nplease tell me it&#39;s as easy as with classic asp and asp.net....\r\n","title":"authenticate with ntlm (or kerberos) using java UrlConnection","body":"<p>I need to consume a rest web service with java, passing the credentials of a domain user account.</p>\n\n<p>right now I'm doing it with classic asp</p>\n\n<pre><code>\nset xmlHttp = server.createObject( \"msxml2.serverxmlhttp\" )\nxmlHttp.open method, url, false, domain & \"\\\" & user, password\nxmlHttp.send body\nout = xmlHttp.responseText\nset xmlHttp = nothing\n</code></pre>\n\n<p>and with asp.net</p>\n\n<pre><code>\n\nHttpWebRequest request = (HttpWebRequest) WebRequest.Create( url );\n\nrequest.Credentials = new NetworkCredential(user, password, domain);\n\nrequest.Method = WebRequestMethods.Http.Get\n\nHttpWebResponse response = (HttpWebResponse) request.GetResponse();\n\nStreamReader outStream = new StreamReader( response.GetResponseStream(), Encoding.UTF8) ;\n\noutput = outStream.ReadToEnd();\n\n</code></pre>\n\n<p>how can I achieve this with java? Take into account that I'm not using the credentials of the currently logged user, I'm specifing the domain account (I have the password)</p>\n\n<p>please tell me it's as easy as with classic asp and asp.net....</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":11504665,"reputation":79,"user_id":11662164,"display_name":"spock&#39;s-neurons"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653981524,"creation_date":1653981524,"answer_id":72443633,"question_id":72389550,"body_markdown":"I solved this problem by changing two things; first, I created a custom  ``saveNewUser() `` but JPA manages that better so I changed that to this.\r\n\r\n`UserService.java`\r\n\r\n```\r\npublic User save(User user) {\r\n\t\tuser.setRoles(new HashSet&lt;Role&gt; (Arrays.asList(new Role(&quot;user&quot;))));\r\n\t\treturn userRepository.save(user);\r\n\t\t\r\n\t}\r\n\r\n```\r\n\r\nI also had to change my endpoint to this\r\n\r\n`controller.java`\r\n\r\n```\r\n@PostMapping(&quot;/register&quot;)\r\n\tpublic String postRegister(User user) {\r\n\t\tBCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\r\n\t    String encodedPassword = passwordEncoder.encode(user.getPassword());\r\n\t    user.setPassword(encodedPassword);\r\n\t    userService.save(user);\r\n\t\treturn &quot;redirect:/&quot;;\r\n\t}\r\n```","title":"registration form is not submitting in spring boot and not hitting endpoints","body":"<p>I solved this problem by changing two things; first, I created a custom  <code>saveNewUser() </code> but JPA manages that better so I changed that to this.</p>\n<p><code>UserService.java</code></p>\n<pre><code>public User save(User user) {\n        user.setRoles(new HashSet&lt;Role&gt; (Arrays.asList(new Role(&quot;user&quot;))));\n        return userRepository.save(user);\n        \n    }\n\n</code></pre>\n<p>I also had to change my endpoint to this</p>\n<p><code>controller.java</code></p>\n<pre><code>@PostMapping(&quot;/register&quot;)\n    public String postRegister(User user) {\n        BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\n        String encodedPassword = passwordEncoder.encode(user.getPassword());\n        user.setPassword(encodedPassword);\n        userService.save(user);\n        return &quot;redirect:/&quot;;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27084094,"reputation":1,"user_id":20632859,"display_name":"Ayoub ELHARRAN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701352564,"creation_date":1701352564,"answer_id":77579029,"question_id":72389550,"body_markdown":"I&#39;ve got the same problem and I solved it but adding this annotation `@Transactional` to the saveUser function.\r\n\r\n    import jakarta.transaction.Transactional;\r\n    @Transactional\r\n    @Override\r\n    public void saveUser(UserDto userDto) {\r\n        User user = new User();\r\n        user.setName(userDto.getFirstName() + &quot; &quot; + userDto.getLastName());\r\n        user.setEmail(userDto.getEmail());\r\n        // encrypt the password using spring security\r\n        user.setPassword(passwordEncoder.encode(userDto.getPassword()));\r\n        \r\n        userRepository.save(user);\r\n    }\r\n\r\nAnd also adding this line to the application.properties:\r\n\r\n    spring.datasource.hikari.auto-commit=true","title":"registration form is not submitting in spring boot and not hitting endpoints","body":"<p>I've got the same problem and I solved it but adding this annotation <code>@Transactional</code> to the saveUser function.</p>\n<pre><code>import jakarta.transaction.Transactional;\n@Transactional\n@Override\npublic void saveUser(UserDto userDto) {\n    User user = new User();\n    user.setName(userDto.getFirstName() + &quot; &quot; + userDto.getLastName());\n    user.setEmail(userDto.getEmail());\n    // encrypt the password using spring security\n    user.setPassword(passwordEncoder.encode(userDto.getPassword()));\n    \n    userRepository.save(user);\n}\n</code></pre>\n<p>And also adding this line to the application.properties:</p>\n<pre><code>spring.datasource.hikari.auto-commit=true\n</code></pre>\n"}],"owner":{"account_id":11504665,"reputation":79,"user_id":11662164,"display_name":"spock&#39;s-neurons"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72443633,"answer_count":2,"score":1,"last_activity_date":1701352564,"creation_date":1653556894,"question_id":72389550,"body_markdown":"I&#39;m working on a registration form in `Spring Boot` and thymeleaf but it&#39;s not submitting to the database. I even run the debugger mood and it did not hit the endpoints for the registration. Note, that my login and other functionalities work fine. I&#39;m following this [here][1] to create my registration\r\n\r\n**How to I get this endpoint to create a new user?**\r\n\r\n`register.html`\r\n\r\n```html\r\n  &lt;form th:action=&quot;@{/registration}&quot; th:object=&quot;${user}&quot; method=&quot;post&quot;&gt;\r\n\r\n     &lt;p class=&quot;error-message&quot; th:if=&quot;${#fields.hasGlobalErrors()}&quot;\r\n      th:each=&quot;error : ${#fields.errors(&#39;global&#39;)}&quot; th:text=&quot;${error}&quot;&gt;Validation\r\n      error&lt;/p&gt;\r\n\r\n     &lt;div class=&quot;form-group&quot;\r\n      th:classappend=&quot;${#fields.hasErrors(&#39;firstName&#39;)}? &#39;has-error&#39;:&#39;&#39;&quot;&gt;\r\n      &lt;label for=&quot;firstName&quot; class=&quot;control-label&quot;&gt;First name&lt;/label&gt; &lt;input\r\n       id=&quot;firstName&quot; class=&quot;form-control&quot; th:field=&quot;*{firstName}&quot; /&gt;\r\n      &lt;p class=&quot;error-message&quot;\r\n       th:each=&quot;error: ${#fields.errors(&#39;firstName&#39;)}&quot;\r\n       th:text=&quot;${error}&quot;&gt;Validation error&lt;/p&gt;\r\n     &lt;/div&gt;\r\n     &lt;div class=&quot;form-group&quot;\r\n      th:classappend=&quot;${#fields.hasErrors(&#39;lastName&#39;)}? &#39;has-error&#39;:&#39;&#39;&quot;&gt;\r\n      &lt;label for=&quot;lastName&quot; class=&quot;control-label&quot;&gt;Last name&lt;/label&gt; &lt;input\r\n       id=&quot;lastName&quot; class=&quot;form-control&quot; th:field=&quot;*{lastName}&quot; /&gt;\r\n      &lt;p class=&quot;error-message&quot;\r\n       th:each=&quot;error : ${#fields.errors(&#39;lastName&#39;)}&quot;\r\n       th:text=&quot;${error}&quot;&gt;Validation error&lt;/p&gt;\r\n     &lt;/div&gt;\r\n     &lt;div class=&quot;form-group&quot;\r\n      th:classappend=&quot;${#fields.hasErrors(&#39;email&#39;)}? &#39;has-error&#39;:&#39;&#39;&quot;&gt;\r\n      &lt;label for=&quot;email&quot; class=&quot;control-label&quot;&gt;E-mail&lt;/label&gt; &lt;input\r\n       id=&quot;email&quot; class=&quot;form-control&quot; th:field=&quot;*{email}&quot; /&gt;\r\n      &lt;p class=&quot;error-message&quot;\r\n       th:each=&quot;error : ${#fields.errors(&#39;email&#39;)}&quot; th:text=&quot;${error}&quot;&gt;Validation\r\n       error&lt;/p&gt;\r\n     &lt;/div&gt;\r\n     &lt;div class=&quot;form-group&quot;\r\n      th:classappend=&quot;${#fields.hasErrors(&#39;username&#39;)}? &#39;has-error&#39;:&#39;&#39;&quot;&gt;\r\n      &lt;label for=&quot;email&quot; class=&quot;control-label&quot;&gt;Username&lt;/label&gt; &lt;input\r\n       id=&quot;email&quot; class=&quot;form-control&quot; th:field=&quot;*{username}&quot; /&gt;\r\n      &lt;p class=&quot;error-message&quot;\r\n       th:each=&quot;error : ${#fields.errors(&#39;username&#39;)}&quot; th:text=&quot;${error}&quot;&gt;Validation\r\n       error&lt;/p&gt;\r\n     &lt;/div&gt;\r\n     &lt;div class=&quot;form-group&quot;\r\n      th:classappend=&quot;${#fields.hasErrors(&#39;password&#39;)}? &#39;has-error&#39;:&#39;&#39;&quot;&gt;\r\n      &lt;label for=&quot;password&quot; class=&quot;control-label&quot;&gt;Password&lt;/label&gt; &lt;input\r\n       id=&quot;password&quot; class=&quot;form-control&quot; type=&quot;password&quot;\r\n       th:field=&quot;*{password}&quot; /&gt;\r\n      &lt;p class=&quot;error-message&quot;\r\n       th:each=&quot;error : ${#fields.errors(&#39;password&#39;)}&quot;\r\n       th:text=&quot;${error}&quot;&gt;Validation error&lt;/p&gt;\r\n     &lt;/div&gt;\r\n        &lt;!-- \r\n     \r\n      &lt;div class=&quot;form-group&quot;&gt;\r\n      &lt;button type=&quot;submit&quot; class=&quot;btn btn-success&quot;&gt;Register&lt;/button&gt;\r\n      &lt;span&gt;Already registered? &lt;a href=&quot;/&quot; th:href=&quot;@{/login}&quot;&gt;Login\r\n        here&lt;/a&gt;&lt;/span&gt;\r\n     &lt;/div&gt;\r\n      --&gt;\r\n     &lt;div class=&quot;form-group&quot;&gt;\r\n      &lt;button type=&quot;submit&quot; class=&quot;btn btn-success&quot;&gt;Register&lt;/button&gt;\r\n     \r\n     &lt;/div&gt;\r\n\r\n    &lt;/form&gt;\r\n```\r\n\r\n`controller.java`\r\n\r\n```java\r\n@Controller\r\npublic class RegisterationController {\r\n\t\r\n\t@Autowired\r\n    private UserService userService;\r\n\t\r\n\t@GetMapping(&quot;/register&quot;)\r\n\tpublic String getRegisterPage(ModelMap model) {\r\n\t\tUser user = new User();\r\n\t\tmodel.put(&quot;user&quot;, user);\r\n\t\treturn &quot;register&quot;;\r\n\t}\r\n\t\r\n\t@PostMapping(&quot;/registration&quot;)\r\n\tpublic String postRegister(@RequestBody User user,  BindingResult result) {\r\n\t\tUser existingUser = userService.findByEmail(user.getEmail());\r\n\t\tif(existingUser != null) {\r\n\t\t\tresult.rejectValue(&quot;email&quot;, null, &quot;this email is already used&quot;);\r\n\t\t}\r\n\t\tif (result.hasErrors()) {\r\n\t            return &quot;register&quot;;\r\n\t        }\r\n\t\t\r\n\t\tuserService.saveNewUser(existingUser);\r\n\t\treturn &quot;redirect:/&quot;;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n`UserService.java`\r\n\r\n```java\r\n\tpublic void saveNewUser(User user) {\r\n\t\tUser nuser = new User();\r\n\t\tnuser.setUsername(user.getUsername());\r\n\t\tnuser.setEmail(user.getEmail());\r\n\t\tnuser.setPassword(user.getPassword());\r\n\t\tnuser.setFirstName(user.getFirstName());\r\n\t\tnuser.setLastName(user.getLastName());\r\n\t\t// TODO: is this how you set the role of the user? \r\n\t\tnuser.setRoles((Set&lt;Role&gt;) Arrays.asList(new Role(&quot;user&quot;)));\r\n\t\tuserRepository.save(nuser);\r\n\t\t\r\n\t\t\r\n\t}\r\n```\r\n\r\n\r\n  [1]: https://www.javaguides.net/2018/10/user-registration-module-using-springboot-springmvc-springsecurity-hibernate5-thymeleaf-mysql.html","title":"registration form is not submitting in spring boot and not hitting endpoints","body":"<p>I'm working on a registration form in <code>Spring Boot</code> and thymeleaf but it's not submitting to the database. I even run the debugger mood and it did not hit the endpoints for the registration. Note, that my login and other functionalities work fine. I'm following this <a href=\"https://www.javaguides.net/2018/10/user-registration-module-using-springboot-springmvc-springsecurity-hibernate5-thymeleaf-mysql.html\" rel=\"nofollow noreferrer\">here</a> to create my registration</p>\n<p><strong>How to I get this endpoint to create a new user?</strong></p>\n<p><code>register.html</code></p>\n<pre class=\"lang-html prettyprint-override\"><code>  &lt;form th:action=&quot;@{/registration}&quot; th:object=&quot;${user}&quot; method=&quot;post&quot;&gt;\n\n     &lt;p class=&quot;error-message&quot; th:if=&quot;${#fields.hasGlobalErrors()}&quot;\n      th:each=&quot;error : ${#fields.errors('global')}&quot; th:text=&quot;${error}&quot;&gt;Validation\n      error&lt;/p&gt;\n\n     &lt;div class=&quot;form-group&quot;\n      th:classappend=&quot;${#fields.hasErrors('firstName')}? 'has-error':''&quot;&gt;\n      &lt;label for=&quot;firstName&quot; class=&quot;control-label&quot;&gt;First name&lt;/label&gt; &lt;input\n       id=&quot;firstName&quot; class=&quot;form-control&quot; th:field=&quot;*{firstName}&quot; /&gt;\n      &lt;p class=&quot;error-message&quot;\n       th:each=&quot;error: ${#fields.errors('firstName')}&quot;\n       th:text=&quot;${error}&quot;&gt;Validation error&lt;/p&gt;\n     &lt;/div&gt;\n     &lt;div class=&quot;form-group&quot;\n      th:classappend=&quot;${#fields.hasErrors('lastName')}? 'has-error':''&quot;&gt;\n      &lt;label for=&quot;lastName&quot; class=&quot;control-label&quot;&gt;Last name&lt;/label&gt; &lt;input\n       id=&quot;lastName&quot; class=&quot;form-control&quot; th:field=&quot;*{lastName}&quot; /&gt;\n      &lt;p class=&quot;error-message&quot;\n       th:each=&quot;error : ${#fields.errors('lastName')}&quot;\n       th:text=&quot;${error}&quot;&gt;Validation error&lt;/p&gt;\n     &lt;/div&gt;\n     &lt;div class=&quot;form-group&quot;\n      th:classappend=&quot;${#fields.hasErrors('email')}? 'has-error':''&quot;&gt;\n      &lt;label for=&quot;email&quot; class=&quot;control-label&quot;&gt;E-mail&lt;/label&gt; &lt;input\n       id=&quot;email&quot; class=&quot;form-control&quot; th:field=&quot;*{email}&quot; /&gt;\n      &lt;p class=&quot;error-message&quot;\n       th:each=&quot;error : ${#fields.errors('email')}&quot; th:text=&quot;${error}&quot;&gt;Validation\n       error&lt;/p&gt;\n     &lt;/div&gt;\n     &lt;div class=&quot;form-group&quot;\n      th:classappend=&quot;${#fields.hasErrors('username')}? 'has-error':''&quot;&gt;\n      &lt;label for=&quot;email&quot; class=&quot;control-label&quot;&gt;Username&lt;/label&gt; &lt;input\n       id=&quot;email&quot; class=&quot;form-control&quot; th:field=&quot;*{username}&quot; /&gt;\n      &lt;p class=&quot;error-message&quot;\n       th:each=&quot;error : ${#fields.errors('username')}&quot; th:text=&quot;${error}&quot;&gt;Validation\n       error&lt;/p&gt;\n     &lt;/div&gt;\n     &lt;div class=&quot;form-group&quot;\n      th:classappend=&quot;${#fields.hasErrors('password')}? 'has-error':''&quot;&gt;\n      &lt;label for=&quot;password&quot; class=&quot;control-label&quot;&gt;Password&lt;/label&gt; &lt;input\n       id=&quot;password&quot; class=&quot;form-control&quot; type=&quot;password&quot;\n       th:field=&quot;*{password}&quot; /&gt;\n      &lt;p class=&quot;error-message&quot;\n       th:each=&quot;error : ${#fields.errors('password')}&quot;\n       th:text=&quot;${error}&quot;&gt;Validation error&lt;/p&gt;\n     &lt;/div&gt;\n        &lt;!-- \n     \n      &lt;div class=&quot;form-group&quot;&gt;\n      &lt;button type=&quot;submit&quot; class=&quot;btn btn-success&quot;&gt;Register&lt;/button&gt;\n      &lt;span&gt;Already registered? &lt;a href=&quot;/&quot; th:href=&quot;@{/login}&quot;&gt;Login\n        here&lt;/a&gt;&lt;/span&gt;\n     &lt;/div&gt;\n      --&gt;\n     &lt;div class=&quot;form-group&quot;&gt;\n      &lt;button type=&quot;submit&quot; class=&quot;btn btn-success&quot;&gt;Register&lt;/button&gt;\n     \n     &lt;/div&gt;\n\n    &lt;/form&gt;\n</code></pre>\n<p><code>controller.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class RegisterationController {\n    \n    @Autowired\n    private UserService userService;\n    \n    @GetMapping(&quot;/register&quot;)\n    public String getRegisterPage(ModelMap model) {\n        User user = new User();\n        model.put(&quot;user&quot;, user);\n        return &quot;register&quot;;\n    }\n    \n    @PostMapping(&quot;/registration&quot;)\n    public String postRegister(@RequestBody User user,  BindingResult result) {\n        User existingUser = userService.findByEmail(user.getEmail());\n        if(existingUser != null) {\n            result.rejectValue(&quot;email&quot;, null, &quot;this email is already used&quot;);\n        }\n        if (result.hasErrors()) {\n                return &quot;register&quot;;\n            }\n        \n        userService.saveNewUser(existingUser);\n        return &quot;redirect:/&quot;;\n    }\n}\n\n</code></pre>\n<p><code>UserService.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void saveNewUser(User user) {\n        User nuser = new User();\n        nuser.setUsername(user.getUsername());\n        nuser.setEmail(user.getEmail());\n        nuser.setPassword(user.getPassword());\n        nuser.setFirstName(user.getFirstName());\n        nuser.setLastName(user.getLastName());\n        // TODO: is this how you set the role of the user? \n        nuser.setRoles((Set&lt;Role&gt;) Arrays.asList(new Role(&quot;user&quot;)));\n        userRepository.save(nuser);\n        \n        \n    }\n</code></pre>\n"},{"tags":["java","spring-boot","prometheus","micrometer"],"answers":[{"tags":[],"owner":{"account_id":944144,"reputation":5331,"user_id":971735,"display_name":"Jonatan Ivanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680143606,"creation_date":1680143606,"answer_id":75883659,"question_id":75833922,"body_markdown":"&gt;Is there a way to add a List&lt;Order&gt; into the MeterRegistry (micrometer) ?\r\n\r\n`MeterRegistry` stores `Meter`, not orders, I&#39;m not sure what you are trying to do but I&#39;m afraid you are trying to misuse Micrometer/Prometheus.\r\n\r\nEspecially because the orderID, it seems like a high cardinality tag which will either cause issues in your JVM or in Prometheus (or both).\r\n\r\nHere&#39;s why: https://develotters.com/posts/high-cardinality/","title":"MIcrometer - add list of objects to registry without count","body":"<blockquote>\n<p>Is there a way to add a List into the MeterRegistry (micrometer) ?</p>\n</blockquote>\n<p><code>MeterRegistry</code> stores <code>Meter</code>, not orders, I'm not sure what you are trying to do but I'm afraid you are trying to misuse Micrometer/Prometheus.</p>\n<p>Especially because the orderID, it seems like a high cardinality tag which will either cause issues in your JVM or in Prometheus (or both).</p>\n<p>Here's why: <a href=\"https://develotters.com/posts/high-cardinality/\" rel=\"nofollow noreferrer\">https://develotters.com/posts/high-cardinality/</a></p>\n"},{"tags":[],"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681320776,"creation_date":1681320776,"answer_id":75998336,"question_id":75833922,"body_markdown":"Skip whole &quot;exposing this data through my app&quot; and misusing Prometheus. And just add your database to Grafana as data source.\r\n\r\nThis way you&#39;ll have chance to query data straight from database into your panels.\r\n\r\nDocumentation on data sources [here][1].\r\n\r\n\r\n  [1]: https://grafana.com/docs/grafana/latest/datasources/#built-in-core-data-sources","title":"MIcrometer - add list of objects to registry without count","body":"<p>Skip whole &quot;exposing this data through my app&quot; and misusing Prometheus. And just add your database to Grafana as data source.</p>\n<p>This way you'll have chance to query data straight from database into your panels.</p>\n<p>Documentation on data sources <a href=\"https://grafana.com/docs/grafana/latest/datasources/#built-in-core-data-sources\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":10912623,"reputation":23,"user_id":9956200,"display_name":"MoonPie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701352359,"creation_date":1701352059,"answer_id":77578972,"question_id":75833922,"body_markdown":"You can use a custom Metrics class for this \r\n```import io.micrometer.core.instrument.Counter;\r\nimport io.micrometer.core.instrument.MeterRegistry;\r\nimport io.micrometer.core.instrument.Tags;\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class OrderMetrics {\r\n  private final MeterRegistry meterRegistry;\r\n\r\n  @Autowired\r\n  public OrderMetrics(MeterRegistry meterRegistry) {\r\n    this.meterRegistry = meterRegistry;\r\n  }\r\n\r\n  public void recordOrders(List&lt;Order&gt; orders) {\r\n    for (Order order : orders) {\r\n      Tags tags = Tags.of(\r\n                  &quot;id&quot; ,order.getId(),\r\n                  &quot;country&quot;,order.getCountry().toString(),\r\n                  &quot;status&quot;,order.getStatus().toString());\r\n      Counter.builder(&quot;my_orders&quot;)\r\n          .tags(tags)\r\n          .description(&quot;My Orders&quot;)\r\n          .register(meterRegistry)\r\n          .increment();\r\n    }\r\n  }\r\n}\r\n```\r\nCall the &quot;recordOrders&quot; method by autowiring the OrderMetrics class.","title":"MIcrometer - add list of objects to registry without count","body":"<p>You can use a custom Metrics class for this</p>\n<pre><code>import io.micrometer.core.instrument.MeterRegistry;\nimport io.micrometer.core.instrument.Tags;\n@Component\n@RequiredArgsConstructor\npublic class OrderMetrics {\n  private final MeterRegistry meterRegistry;\n\n  @Autowired\n  public OrderMetrics(MeterRegistry meterRegistry) {\n    this.meterRegistry = meterRegistry;\n  }\n\n  public void recordOrders(List&lt;Order&gt; orders) {\n    for (Order order : orders) {\n      Tags tags = Tags.of(\n                  &quot;id&quot; ,order.getId(),\n                  &quot;country&quot;,order.getCountry().toString(),\n                  &quot;status&quot;,order.getStatus().toString());\n      Counter.builder(&quot;my_orders&quot;)\n          .tags(tags)\n          .description(&quot;My Orders&quot;)\n          .register(meterRegistry)\n          .increment();\n    }\n  }\n}\n</code></pre>\n<p>Call the &quot;recordOrders&quot; method by autowiring the OrderMetrics class.</p>\n"}],"owner":{"account_id":13104635,"reputation":186,"user_id":9467865,"display_name":"Dariusz Urbanek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1701352359,"creation_date":1679662468,"question_id":75833922,"body_markdown":"I am writing a spring-boot app with a scheduled cron job going through DB to fetch specific `Orders`. \r\nThis data should be displayed in a table in Grafana - with data coming from Prometheus.\r\n\r\nIs there a way to add a `List&lt;Order&gt;` into the `MeterRegistry` (micrometer) ?\r\n\r\n    class Order {\r\n       String id;\r\n       Country country;\r\n       Status status;\r\n    }\r\n\r\nI think in Prometheus it should like smth like this:\r\n\r\n    my_orders{app=&quot;my-api&quot;, id=&quot;my_id_1&quot;, country=&quot;DK&quot;, status=&quot;ACTIVE&quot;}\r\n    my_orders{app=&quot;my-api&quot;, id=&quot;my_id_2&quot;, country=&quot;DK&quot;, status=&quot;ACTIVE&quot;}\r\n    my_orders{app=&quot;my-api&quot;, id=&quot;my_id_3&quot;, country=&quot;DK&quot;, status=&quot;ACTIVE&quot;}\r\n\r\nI don&#39;t need a counter cause every single entry is unique.\r\n\r\nIs something like this possible?","title":"MIcrometer - add list of objects to registry without count","body":"<p>I am writing a spring-boot app with a scheduled cron job going through DB to fetch specific <code>Orders</code>.\nThis data should be displayed in a table in Grafana - with data coming from Prometheus.</p>\n<p>Is there a way to add a <code>List&lt;Order&gt;</code> into the <code>MeterRegistry</code> (micrometer) ?</p>\n<pre><code>class Order {\n   String id;\n   Country country;\n   Status status;\n}\n</code></pre>\n<p>I think in Prometheus it should like smth like this:</p>\n<pre><code>my_orders{app=&quot;my-api&quot;, id=&quot;my_id_1&quot;, country=&quot;DK&quot;, status=&quot;ACTIVE&quot;}\nmy_orders{app=&quot;my-api&quot;, id=&quot;my_id_2&quot;, country=&quot;DK&quot;, status=&quot;ACTIVE&quot;}\nmy_orders{app=&quot;my-api&quot;, id=&quot;my_id_3&quot;, country=&quot;DK&quot;, status=&quot;ACTIVE&quot;}\n</code></pre>\n<p>I don't need a counter cause every single entry is unique.</p>\n<p>Is something like this possible?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1701281617,"post_id":77573545,"comment_id":136757472,"body_markdown":"You probably need a template engine such as Thymeleaf.  The return string is the name of the template.","body":"You probably need a template engine such as Thymeleaf.  The return string is the name of the template."},{"owner":{"account_id":2064278,"reputation":13119,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1701292765,"post_id":77573545,"comment_id":136759231,"body_markdown":"you need to use `@RestController` if you want endpoints","body":"you need to use <code>@RestController</code> if you want endpoints"}],"answers":[{"tags":[],"owner":{"account_id":17923088,"reputation":72,"user_id":13022364,"display_name":"Viranga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701281772,"creation_date":1701281772,"answer_id":77573607,"question_id":77573545,"body_markdown":"The issue you&#39;re facing is likely due to the fact that when you use `@Controller` and return a `String`, Spring expects that to be the name of a view, not the actual response. Since you are returning &quot;This is open&quot; as a String, Spring is trying to find a view with that name, and it&#39;s resulting in a 404 because there&#39;s no corresponding view.\r\n\r\nIf you want to return a plain text response, you can use `@RestController` instead of `@Controller`. `@RestController` is a convenience annotation that combines @Controller and `@ResponseBody`, meaning that the return value of methods will be directly written to the response body as JSON or XML.\r\n\r\nHere&#39;s how you can modify your `MainController` class:\r\n\r\n```\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class MainController {\r\n    \r\n    @GetMapping(&quot;/open&quot;)\r\n    public String open() {\r\n        return &quot;This is open&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/user&quot;)\r\n    public String user() {\r\n        return &quot;This is for user&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/admin&quot;)\r\n    public String admin() {\r\n        return &quot;This is for admin&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/none&quot;)\r\n    public String none() {\r\n        return &quot;This is for none&quot;;\r\n    }\r\n}\r\n```\r\n\r\nWith these changes, when you use `@RestController`, hitting the URLs `/open`, `/user`, `/admin`, and `/none` will return the plain text responses directly. If you need to return views (HTML pages), then you would typically use `@Controller` and return the name of the view as a String, but in your case, it seems like you want plain text responses.","title":"Spring boot application throwing 404 error","body":"<p>The issue you're facing is likely due to the fact that when you use <code>@Controller</code> and return a <code>String</code>, Spring expects that to be the name of a view, not the actual response. Since you are returning &quot;This is open&quot; as a String, Spring is trying to find a view with that name, and it's resulting in a 404 because there's no corresponding view.</p>\n<p>If you want to return a plain text response, you can use <code>@RestController</code> instead of <code>@Controller</code>. <code>@RestController</code> is a convenience annotation that combines @Controller and <code>@ResponseBody</code>, meaning that the return value of methods will be directly written to the response body as JSON or XML.</p>\n<p>Here's how you can modify your <code>MainController</code> class:</p>\n<pre><code>import org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class MainController {\n    \n    @GetMapping(&quot;/open&quot;)\n    public String open() {\n        return &quot;This is open&quot;;\n    }\n\n    @GetMapping(&quot;/user&quot;)\n    public String user() {\n        return &quot;This is for user&quot;;\n    }\n\n    @GetMapping(&quot;/admin&quot;)\n    public String admin() {\n        return &quot;This is for admin&quot;;\n    }\n\n    @GetMapping(&quot;/none&quot;)\n    public String none() {\n        return &quot;This is for none&quot;;\n    }\n}\n</code></pre>\n<p>With these changes, when you use <code>@RestController</code>, hitting the URLs <code>/open</code>, <code>/user</code>, <code>/admin</code>, and <code>/none</code> will return the plain text responses directly. If you need to return views (HTML pages), then you would typically use <code>@Controller</code> and return the name of the view as a String, but in your case, it seems like you want plain text responses.</p>\n"},{"tags":[],"owner":{"account_id":25974568,"reputation":56,"user_id":19689190,"display_name":"Amar kumar Nayak"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701352165,"creation_date":1701291899,"answer_id":77574491,"question_id":77573545,"body_markdown":" The issue in your code is that you are returning plain strings from your controller methods: Spring takes its logical view name to return and tries to find the HTML page or JSP page; that is the reason why you got a 404 error .\r\n\r\nIn Spring Boot, if you are using @Controller, then you can also use @ResponseBody – it works fine.\r\n\r\nOtherwise, replace @Controller with @RestController.\r\n\r\n\r\n    @RestController\r\n    public class MainController {\r\n        @RequestMapping(&quot;/open&quot;)\r\n        public String open(){\r\n            return &quot;open&quot;; // Return the view name &quot;open&quot;\r\n        }\r\n    \r\n        @RequestMapping(&quot;/user&quot;)\r\n        public String user(){\r\n            return &quot;user&quot;; // Return the view name &quot;user&quot;\r\n        }\r\n    \r\n        @RequestMapping(&quot;/admin&quot;)\r\n        public String admin(){\r\n            return &quot;admin&quot;; // Return the view name &quot;admin&quot;\r\n        }\r\n    \r\n        @RequestMapping(&quot;/none&quot;)\r\n        public String none(){\r\n            return &quot;none&quot;; // Return the view name &quot;none&quot;\r\n        }\r\n    }\r\n\r\n","title":"Spring boot application throwing 404 error","body":"<p>The issue in your code is that you are returning plain strings from your controller methods: Spring takes its logical view name to return and tries to find the HTML page or JSP page; that is the reason why you got a 404 error .</p>\n<p>In Spring Boot, if you are using @Controller, then you can also use @ResponseBody – it works fine.</p>\n<p>Otherwise, replace @Controller with @RestController.</p>\n<pre><code>@RestController\npublic class MainController {\n    @RequestMapping(&quot;/open&quot;)\n    public String open(){\n        return &quot;open&quot;; // Return the view name &quot;open&quot;\n    }\n\n    @RequestMapping(&quot;/user&quot;)\n    public String user(){\n        return &quot;user&quot;; // Return the view name &quot;user&quot;\n    }\n\n    @RequestMapping(&quot;/admin&quot;)\n    public String admin(){\n        return &quot;admin&quot;; // Return the view name &quot;admin&quot;\n    }\n\n    @RequestMapping(&quot;/none&quot;)\n    public String none(){\n        return &quot;none&quot;; // Return the view name &quot;none&quot;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":30024912,"reputation":1,"user_id":23009397,"display_name":"priyatham reddy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701352165,"creation_date":1701281035,"question_id":77573545,"body_markdown":"I am trying to build a basic spring boot application of  spring security and when I start the application and hit the URL it throws 404 not found error.\r\n\r\nHere is the code\r\n\r\nSpringsecurity1Application.java\r\n---------------------------------------------\r\n\r\n\r\n```\r\npackage com.kpr.springsecurity1;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class SpringSecurity1Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SpringSecurity1Application.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nMainController.java\r\n-----------------------------\r\n\r\n```\r\npackage com.kpr.springsecurity1.controller;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\n@Controller\r\npublic class MainController {\r\n    @RequestMapping(&quot;/open&quot;)\r\n    public String open(){\r\n        return &quot;This is open&quot;;\r\n    }\r\n    @RequestMapping(&quot;/user&quot;)\r\n    public String user(){\r\n        return &quot;This is open&quot;;\r\n    }\r\n    @RequestMapping(&quot;/admin&quot;)\r\n    public String admin(){\r\n        return &quot;This is open&quot;;\r\n    }\r\n    @RequestMapping(&quot;/none&quot;)\r\n    public String none(){\r\n        return &quot;This is open&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\npom.xml\r\n-------\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.kpr&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-security1&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;spring-security1&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI Tried with @RestController instead of @controller it worked but with @Controller it did not work\r\n\r\nHere is directory structure\r\n\r\n[directory Structure](https://i.stack.imgur.com/H81ol.png)\r\n\r\n\r\nThis is the error\r\n[Eror](https://i.stack.imgur.com/fpBSo.png)\r\n\r\n","title":"Spring boot application throwing 404 error","body":"<p>I am trying to build a basic spring boot application of  spring security and when I start the application and hit the URL it throws 404 not found error.</p>\n<p>Here is the code</p>\n<h2>Springsecurity1Application.java</h2>\n<pre><code>package com.kpr.springsecurity1;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class SpringSecurity1Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringSecurity1Application.class, args);\n    }\n\n}\n\n</code></pre>\n<h2>MainController.java</h2>\n<pre><code>package com.kpr.springsecurity1.controller;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\npublic class MainController {\n    @RequestMapping(&quot;/open&quot;)\n    public String open(){\n        return &quot;This is open&quot;;\n    }\n    @RequestMapping(&quot;/user&quot;)\n    public String user(){\n        return &quot;This is open&quot;;\n    }\n    @RequestMapping(&quot;/admin&quot;)\n    public String admin(){\n        return &quot;This is open&quot;;\n    }\n    @RequestMapping(&quot;/none&quot;)\n    public String none(){\n        return &quot;This is open&quot;;\n    }\n}\n\n</code></pre>\n<h2>pom.xml</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.kpr&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security1&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring-security1&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I Tried with @RestController instead of @controller it worked but with @Controller it did not work</p>\n<p>Here is directory structure</p>\n<p><a href=\"https://i.stack.imgur.com/H81ol.png\" rel=\"nofollow noreferrer\">directory Structure</a></p>\n<p>This is the error\n<a href=\"https://i.stack.imgur.com/fpBSo.png\" rel=\"nofollow noreferrer\">Eror</a></p>\n"},{"tags":["java","database","null","char"],"comments":[{"owner":{"account_id":6342341,"reputation":5609,"user_id":4923889,"accept_rate":47,"display_name":"Uma Kanth"},"score":0,"creation_date":1434100932,"post_id":30799554,"comment_id":49647749,"body_markdown":"you could check if the length is greater than `0` instead","body":"you could check if the length is greater than <code>0</code> instead"},{"owner":{"account_id":1857245,"reputation":9188,"user_id":1682559,"accept_rate":80,"display_name":"Kevin Cruijssen"},"score":6,"creation_date":1434101022,"post_id":30799554,"comment_id":49647800,"body_markdown":"Is `getSomeCharValue()` returning a `char` or `Character`? `char` can&#39;t be `null`. `Character`, it&#39;s boxed object, can. Also, the default for `char` is `\\u0000`.","body":"Is <code>getSomeCharValue()</code> returning a <code>char</code> or <code>Character</code>? <code>char</code> can&#39;t be <code>null</code>. <code>Character</code>, it&#39;s boxed object, can. Also, the default for <code>char</code> is <code>\\u0000</code>."},{"owner":{"account_id":5284131,"reputation":291,"user_id":4218622,"accept_rate":60,"display_name":"BelieveToLive"},"score":0,"creation_date":1434101386,"post_id":30799554,"comment_id":49647990,"body_markdown":"@KevinCruijssen char primitive.","body":"@KevinCruijssen char primitive."},{"owner":{"account_id":1876051,"reputation":3428,"user_id":1697245,"accept_rate":69,"display_name":"Arthur Eirich"},"score":0,"creation_date":1434101437,"post_id":30799554,"comment_id":49648020,"body_markdown":"char primitive can&#39;t be null as well as it can&#39;t be empty. Just tried it myself and it doesn&#39;t compile","body":"char primitive can&#39;t be null as well as it can&#39;t be empty. Just tried it myself and it doesn&#39;t compile"},{"owner":{"account_id":5284131,"reputation":291,"user_id":4218622,"accept_rate":60,"display_name":"BelieveToLive"},"score":0,"creation_date":1434101587,"post_id":30799554,"comment_id":49648118,"body_markdown":"@ArthurEirich in which java version you compiled i mean VM version?","body":"@ArthurEirich in which java version you compiled i mean VM version?"},{"owner":{"account_id":1485367,"reputation":122983,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1434101675,"post_id":30799554,"comment_id":49648161,"body_markdown":"`char` can&#39;t be `null` since it is primitive type. Also there is no such a thing as empty char `&#39;&#39;` in Java. But even if previous statements would be false and you could get `null` or `&#39;&#39;` then char can&#39;t be `null` AND `&#39;&#39;` at the same time so your condition doesn&#39;t make sense.","body":"<code>char</code> can&#39;t be <code>null</code> since it is primitive type. Also there is no such a thing as empty char <code>&#39;&#39;</code> in Java. But even if previous statements would be false and you could get <code>null</code> or <code>&#39;&#39;</code> then char can&#39;t be <code>null</code> AND <code>&#39;&#39;</code> at the same time so your condition doesn&#39;t make sense."},{"owner":{"account_id":4829578,"reputation":4682,"user_id":3898076,"accept_rate":72,"display_name":"Naman Gala"},"score":0,"creation_date":1434101753,"post_id":30799554,"comment_id":49648203,"body_markdown":"If the value is not present in database, what value do you pass to `someCharValue` variable?","body":"If the value is not present in database, what value do you pass to <code>someCharValue</code> variable?"},{"owner":{"account_id":1876051,"reputation":3428,"user_id":1697245,"accept_rate":69,"display_name":"Arthur Eirich"},"score":0,"creation_date":1434101869,"post_id":30799554,"comment_id":49648275,"body_markdown":"@BelieveToLive my java.vm.version is &#39;24.71-b01&#39; and I use java &#39;1.7.0_71&#39;","body":"@BelieveToLive my java.vm.version is &#39;24.71-b01&#39; and I use java &#39;1.7.0_71&#39;"},{"owner":{"account_id":5284131,"reputation":291,"user_id":4218622,"accept_rate":60,"display_name":"BelieveToLive"},"score":0,"creation_date":1434101971,"post_id":30799554,"comment_id":49648340,"body_markdown":"Thanks for the comments.","body":"Thanks for the comments."},{"owner":{"account_id":1485367,"reputation":122983,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1434102251,"post_id":30799554,"comment_id":49648532,"body_markdown":"Your code can&#39;t compile for `someObject.getSomeCharValue()==&#39;&#39;` since there is no `&#39;&#39;` in Java. If `someObject.getSomeCharValue()==null` part compiles then it means that result of `getSomeCharValue` is wrapper type `Character`, not primitive `char` (as they can&#39;t be `null`s so `==null` would not compile here). In that case you can check for null like you are doing it now, or check against default value of char which is `&#39;\\u0000&#39;` which can be also written as `&#39;\\0&#39;` or simply `0` (char is also numeric type). In that case you should also remember to use OR operator, not AND.","body":"Your code can&#39;t compile for <code>someObject.getSomeCharValue()==&#39;&#39;</code> since there is no <code>&#39;&#39;</code> in Java. If <code>someObject.getSomeCharValue()==null</code> part compiles then it means that result of <code>getSomeCharValue</code> is wrapper type <code>Character</code>, not primitive <code>char</code> (as they can&#39;t be <code>null</code>s so <code>==null</code> would not compile here). In that case you can check for null like you are doing it now, or check against default value of char which is <code>&#39;\\u0000&#39;</code> which can be also written as <code>&#39;\\0&#39;</code> or simply <code>0</code> (char is also numeric type). In that case you should also remember to use OR operator, not AND."}],"answers":[{"tags":[],"owner":{"account_id":447545,"reputation":2029,"user_id":841221,"accept_rate":75,"display_name":"Aakash"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1434100951,"creation_date":1434100951,"answer_id":30799596,"question_id":30799554,"body_markdown":"Empty chars are not null. They don&#39;t just hold any value.\r\n\r\nYes. You should check both if your column allow nulls. Also, your code might give you `NullPointerException` since you are first checking for empty char and then for null. Better to use below\r\n\r\n    if(someObject.getSomeCharValue()==null || someObject.getSomeCharValue()==&#39;&#39; )","title":"Both null and empty char are equal in java","body":"<p>Empty chars are not null. They don't just hold any value.</p>\n\n<p>Yes. You should check both if your column allow nulls. Also, your code might give you <code>NullPointerException</code> since you are first checking for empty char and then for null. Better to use below</p>\n\n<pre><code>if(someObject.getSomeCharValue()==null || someObject.getSomeCharValue()=='' )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2427990,"reputation":182,"user_id":2119537,"accept_rate":67,"display_name":"Aradhya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434101760,"creation_date":1434101215,"answer_id":30799668,"question_id":30799554,"body_markdown":"    if(someObject.getSomeCharValue()==&#39;&#39; &amp;&amp; someObject.getSomeCharValue()==null)\r\n\r\nboth `someObject.getSomeCharValue()==&#39;&#39;` and `someObject.getSomeCharValue()==null` are compilation error. \r\n\r\nif there is no value in the DB that means it is null but not empty char.\r\n\r\nThere is nothing called empty char (`&#39;&#39;`) in Java.  \r\nBut there is empty string (`&quot;&quot;`).\r\n","title":"Both null and empty char are equal in java","body":"<pre><code>if(someObject.getSomeCharValue()=='' &amp;&amp; someObject.getSomeCharValue()==null)\n</code></pre>\n\n<p>both <code>someObject.getSomeCharValue()==''</code> and <code>someObject.getSomeCharValue()==null</code> are compilation error. </p>\n\n<p>if there is no value in the DB that means it is null but not empty char.</p>\n\n<p>There is nothing called empty char (<code>''</code>) in Java.<br>\nBut there is empty string (<code>\"\"</code>).</p>\n"},{"tags":[],"owner":{"account_id":1673756,"reputation":1421,"user_id":2445298,"accept_rate":50,"display_name":"Estimate"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1434102662,"creation_date":1434101656,"answer_id":30799827,"question_id":30799554,"body_markdown":"char has no value with `&#39;&#39;`. In char, [null character][1] ([or empty char][2]) is `\\0` or `\\u0000`. You can&#39;t check with `&#39;&#39;` or `null`.\r\n\r\nFor example if you declare a char like this:\r\n\r\n    char c = &#39;&#39;;//compilation error here\r\n\r\nor \r\n\r\n    char c = null;//compilation error here\r\n\r\nso if you want to check whether a char is null, then you need to use the following code:\r\n\r\n    char c = &#39;\\0&#39;;\r\n    if (c == &#39;\\0&#39;) System.out.print(&quot;char is null&quot;);//if(c == &#39;\\u0000&#39;) also can be possible\r\n    else System.out.print(&quot;char is not null&quot;);\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9909333/whats-the-default-value-of-char\r\n  [2]: https://stackoverflow.com/questions/8534178/how-to-represent-empty-char-in-java-character-class","title":"Both null and empty char are equal in java","body":"<p>char has no value with <code>''</code>. In char, <a href=\"https://stackoverflow.com/questions/9909333/whats-the-default-value-of-char\">null character</a> (<a href=\"https://stackoverflow.com/questions/8534178/how-to-represent-empty-char-in-java-character-class\">or empty char</a>) is <code>\\0</code> or <code>\\u0000</code>. You can't check with <code>''</code> or <code>null</code>.</p>\n\n<p>For example if you declare a char like this:</p>\n\n<pre><code>char c = '';//compilation error here\n</code></pre>\n\n<p>or </p>\n\n<pre><code>char c = null;//compilation error here\n</code></pre>\n\n<p>so if you want to check whether a char is null, then you need to use the following code:</p>\n\n<pre><code>char c = '\\0';\nif (c == '\\0') System.out.print(\"char is null\");//if(c == '\\u0000') also can be possible\nelse System.out.print(\"char is not null\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701352146,"creation_date":1701352146,"answer_id":77578984,"question_id":30799554,"body_markdown":"### [Empty char](https://stackoverflow.com/a/77578773/4982691) \r\n    //Empty character literal does not exist in Java.\r\n    char c = &#39;&#39;; //does not compile\r\n\r\n### A [Null Literal in Java](https://docs.oracle.com/javase/specs/jls/se18/html/jls-3.html#jls-3.10.8) \r\n\r\n&gt; The null type has one value, the null reference, represented by the\r\n&gt; null literal null, which is formed from ASCII characters.\r\n\r\nis different from the \r\n\r\n### [Null character](https://en.wikipedia.org/wiki/Null_character) \r\n\r\n&gt; The null character (also null terminator) is a control character with\r\n&gt; the value zero.\r\n&gt; \r\n&gt; Today the character has much more significance in the programming\r\n&gt; language C and its derivatives and in many data formats, where it\r\n&gt; serves as a reserved character used to signify the end of a string,[6]\r\n&gt; often called a null-terminated string.\r\n\r\n[Excellent article about Null in Java](https://blogs.oracle.com/javamagazine/post/curly-braces-java-null)","title":"Both null and empty char are equal in java","body":"<h3><a href=\"https://stackoverflow.com/a/77578773/4982691\">Empty char</a></h3>\n<pre><code>//Empty character literal does not exist in Java.\nchar c = ''; //does not compile\n</code></pre>\n<h3>A <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-3.html#jls-3.10.8\" rel=\"nofollow noreferrer\">Null Literal in Java</a></h3>\n<blockquote>\n<p>The null type has one value, the null reference, represented by the\nnull literal null, which is formed from ASCII characters.</p>\n</blockquote>\n<p>is different from the</p>\n<h3><a href=\"https://en.wikipedia.org/wiki/Null_character\" rel=\"nofollow noreferrer\">Null character</a></h3>\n<blockquote>\n<p>The null character (also null terminator) is a control character with\nthe value zero.</p>\n<p>Today the character has much more significance in the programming\nlanguage C and its derivatives and in many data formats, where it\nserves as a reserved character used to signify the end of a string,[6]\noften called a null-terminated string.</p>\n</blockquote>\n<p><a href=\"https://blogs.oracle.com/javamagazine/post/curly-braces-java-null\" rel=\"nofollow noreferrer\">Excellent article about Null in Java</a></p>\n"}],"owner":{"account_id":5284131,"reputation":291,"user_id":4218622,"accept_rate":60,"display_name":"BelieveToLive"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3322,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":30799827,"answer_count":4,"score":3,"last_activity_date":1701352146,"creation_date":1434100813,"question_id":30799554,"body_markdown":"I have doubt while taking a `null` or empty `char` check in Java. Is both have to be checked in any way. \r\n\r\nFor example in database the variable length for `Char` is 1 . It will allow `null` as well. So if you have empty char does it mean `null`? or we have to check as \r\n\r\n    if(someObject.getSomeCharValue()==&#39;&#39; &amp;&amp; someObject.getSomeCharValue()==null) {\r\n        //true\r\n    }\r\n    else{\r\n        //dont compile\r\n    }","title":"Both null and empty char are equal in java","body":"<p>I have doubt while taking a <code>null</code> or empty <code>char</code> check in Java. Is both have to be checked in any way. </p>\n\n<p>For example in database the variable length for <code>Char</code> is 1 . It will allow <code>null</code> as well. So if you have empty char does it mean <code>null</code>? or we have to check as </p>\n\n<pre><code>if(someObject.getSomeCharValue()=='' &amp;&amp; someObject.getSomeCharValue()==null) {\n    //true\n}\nelse{\n    //dont compile\n}\n</code></pre>\n"},{"tags":["java","double"],"comments":[{"owner":{"account_id":10258,"reputation":26460,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"score":1,"creation_date":1275324096,"post_id":2944344,"comment_id":3000736,"body_markdown":"Should 53.91739999999 compare equal to 53.9173? Or to 53.9174?","body":"Should 53.91739999999 compare equal to 53.9173? Or to 53.9174?"}],"answers":[{"tags":[],"owner":{"account_id":79153,"reputation":513935,"user_id":224671,"accept_rate":67,"display_name":"kennytm"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1275320051,"creation_date":1275318291,"answer_id":2944352,"question_id":2944344,"body_markdown":"If you want `a = 1.00001` and `b = 0.99999` be identified as equal:\r\n\r\n    return Math.abs(a - b) &lt; 1e-4;\r\n\r\nOtherwise, if you want `a = 1.00010` and `b = 1.00019` be identified as equal, and both `a` and `b` are positive and not huge:\r\n\r\n    return Math.floor(a * 10000) == Math.floor(b * 10000);\r\n    // compare by == is fine here because both sides are integral values.\r\n    // double can represent integral values below 2**53 exactly.\r\n\r\nOtherwise, use the `truncate` method as shown in https://stackoverflow.com/questions/1976809/are-there-any-functions-for-truncating-a-double-in-java:\r\n\r\n    BigDecimal aa = new BigDecimal(a);\r\n    BigDecimal bb = new BigDecimal(b);\r\n    aa = aa.setScale(4, BigDecimal.ROUND_DOWN);\r\n    bb = bb.setScale(4, BigDecimal.ROUND_DOWN);\r\n    return aa.equals(bb);\r\n","title":"Java: Check if two double values match on specific no of decimal places","body":"<p>If you want <code>a = 1.00001</code> and <code>b = 0.99999</code> be identified as equal:</p>\n\n<pre><code>return Math.abs(a - b) &lt; 1e-4;\n</code></pre>\n\n<p>Otherwise, if you want <code>a = 1.00010</code> and <code>b = 1.00019</code> be identified as equal, and both <code>a</code> and <code>b</code> are positive and not huge:</p>\n\n<pre><code>return Math.floor(a * 10000) == Math.floor(b * 10000);\n// compare by == is fine here because both sides are integral values.\n// double can represent integral values below 2**53 exactly.\n</code></pre>\n\n<p>Otherwise, use the <code>truncate</code> method as shown in <a href=\"https://stackoverflow.com/questions/1976809/are-there-any-functions-for-truncating-a-double-in-java\">Are there any functions for truncating a double in java?</a>:</p>\n\n<pre><code>BigDecimal aa = new BigDecimal(a);\nBigDecimal bb = new BigDecimal(b);\naa = aa.setScale(4, BigDecimal.ROUND_DOWN);\nbb = bb.setScale(4, BigDecimal.ROUND_DOWN);\nreturn aa.equals(bb);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1275319180,"creation_date":1275318656,"answer_id":2944381,"question_id":2944344,"body_markdown":"Naively:\r\n\r\n    if(Math.abs(a-b) &lt; 0.0001)\r\n\r\nHowever, that&#39;s not going to work correctly for all values. It&#39;s actually impossible to get it to work as long as you&#39;re using `double`, because `double` is implemented as binary fractons and does not even *have* decimal places.\r\n\r\nYou&#39;ll have to convert your values to `String` or `BigDecimal` to make meaningful tests about their decimal places.\r\n\r\nYou may want to read [the Floating-Point Guide][1] to improve your understanding of how floating point values work.\r\n\r\n\r\n  [1]: http://floating-point-gui.de/formats/binary/\r\n","title":"Java: Check if two double values match on specific no of decimal places","body":"<p>Naively:</p>\n\n<pre><code>if(Math.abs(a-b) &lt; 0.0001)\n</code></pre>\n\n<p>However, that's not going to work correctly for all values. It's actually impossible to get it to work as long as you're using <code>double</code>, because <code>double</code> is implemented as binary fractons and does not even <em>have</em> decimal places.</p>\n\n<p>You'll have to convert your values to <code>String</code> or <code>BigDecimal</code> to make meaningful tests about their decimal places.</p>\n\n<p>You may want to read <a href=\"http://floating-point-gui.de/formats/binary/\" rel=\"noreferrer\">the Floating-Point Guide</a> to improve your understanding of how floating point values work.</p>\n"},{"tags":[],"owner":{"account_id":135548,"reputation":6518,"user_id":338476,"accept_rate":49,"display_name":"tzippy"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1275328185,"creation_date":1275319232,"answer_id":2944443,"question_id":2944344,"body_markdown":"Thanks. I did it this way:\r\n\r\n    \r\n\r\n    double lon = 23.567889;\r\n    BigDecimal bdLon = new BigDecimal(lon);\r\n    bdLon = bdLon.setScale(4, BigDecimal.ROUND_HALF_UP);\r\n   \r\n    System.out.println(bdLon.doubleValue());","title":"Java: Check if two double values match on specific no of decimal places","body":"<p>Thanks. I did it this way:</p>\n\n<pre><code>double lon = 23.567889;\nBigDecimal bdLon = new BigDecimal(lon);\nbdLon = bdLon.setScale(4, BigDecimal.ROUND_HALF_UP);\n\nSystem.out.println(bdLon.doubleValue());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":189547,"reputation":1256,"user_id":428944,"accept_rate":71,"display_name":"DaveEdelstein"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1477937588,"creation_date":1477937588,"answer_id":40348039,"question_id":2944344,"body_markdown":"Apache commons has this:\r\norg.apache.commons.math3.util.Precision equals(double x, double y, double eps)\r\n\r\nepsilon would be the distance you would allow.  Looks like yours would be 1e-5?  \r\n\r\nThe source-code of this method looks like it uses Math.abs as suggested in other answers.   ","title":"Java: Check if two double values match on specific no of decimal places","body":"<p>Apache commons has this:\norg.apache.commons.math3.util.Precision equals(double x, double y, double eps)</p>\n\n<p>epsilon would be the distance you would allow.  Looks like yours would be 1e-5?  </p>\n\n<p>The source-code of this method looks like it uses Math.abs as suggested in other answers.   </p>\n"},{"tags":[],"owner":{"account_id":8495639,"reputation":321,"user_id":6370309,"accept_rate":75,"display_name":"Norby"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1529530550,"creation_date":1529530550,"answer_id":50957387,"question_id":2944344,"body_markdown":"here is the simple example if you still need this :) \r\n\r\n    public static boolean areEqualByThreeDecimalPlaces(double a, double b) {\r\n\r\n\t\ta = a * 1000;\r\n\r\n\t\tb = b * 1000;\r\n\r\n\t\tint a1 = (int) a;\r\n\r\n\t\tint b1 = (int) b;\r\n\r\n\t\tif (a1 == b1) {\r\n\t\t\tSystem.out.println(&quot;it works&quot;);\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;it doesn&#39;t work&quot;);\r\n\t\treturn false;","title":"Java: Check if two double values match on specific no of decimal places","body":"<p>here is the simple example if you still need this :) </p>\n\n<pre><code>public static boolean areEqualByThreeDecimalPlaces(double a, double b) {\n\n    a = a * 1000;\n\n    b = b * 1000;\n\n    int a1 = (int) a;\n\n    int b1 = (int) b;\n\n    if (a1 == b1) {\n        System.out.println(\"it works\");\n        return true;\n    }\n\n    else\n        System.out.println(\"it doesn't work\");\n    return false;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21685826,"reputation":1,"user_id":16001300,"display_name":"Mayank  Sikarwar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1621803867,"creation_date":1621693858,"answer_id":67650643,"question_id":2944344,"body_markdown":"The solution to compare two double-digits up to three decimal places and return true or false might be: \r\n\r\n```java\r\npublic static boolean areEqualByThreeDecimalPlaces(double myFirstNumber , double mySecondNumber){\r\n    if (Math.abs(myFirstNumber - mySecondNumber) &lt; 0.0009 ){\r\n        return true;\r\n    } else {\r\n        return false;\r\n    }\r\n}","title":"Java: Check if two double values match on specific no of decimal places","body":"<p>The solution to compare two double-digits up to three decimal places and return true or false might be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean areEqualByThreeDecimalPlaces(double myFirstNumber , double mySecondNumber){\n    if (Math.abs(myFirstNumber - mySecondNumber) &lt; 0.0009 ){\n        return true;\n    } else {\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22347574,"reputation":11,"user_id":16566299,"display_name":"Programmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627721568,"creation_date":1627721568,"answer_id":68600598,"question_id":2944344,"body_markdown":"    public static boolean areEqualByThreeDecimalPlaces(double a, double b){\r\n        if(a &lt; 0 &amp;&amp; b &lt; 0) {\r\n            double c = Math.ceil(a * 1000) / 1000;\r\n            double d = Math.ceil(b * 1000) / 1000;\r\n            return c == d;\r\n        }\r\n        if(a &gt; 0 &amp;&amp; b &gt; 0){\r\n            double c = Math.floor(a * 1000) / 1000;\r\n            double d = Math.floor(b * 1000) / 1000;\r\n            return c == d;\r\n        }\r\n        return a == b;\r\n    }","title":"Java: Check if two double values match on specific no of decimal places","body":"<pre><code>public static boolean areEqualByThreeDecimalPlaces(double a, double b){\n    if(a &lt; 0 &amp;&amp; b &lt; 0) {\n        double c = Math.ceil(a * 1000) / 1000;\n        double d = Math.ceil(b * 1000) / 1000;\n        return c == d;\n    }\n    if(a &gt; 0 &amp;&amp; b &gt; 0){\n        double c = Math.floor(a * 1000) / 1000;\n        double d = Math.floor(b * 1000) / 1000;\n        return c == d;\n    }\n    return a == b;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22800811,"reputation":11,"user_id":16953515,"display_name":"Rashid Khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669351214,"creation_date":1669349888,"answer_id":74568313,"question_id":2944344,"body_markdown":"    public static boolean areEqualByThreeDecimalPlaces(double a, double b) {\r\n\r\n    if(a &gt; 0 &amp;&amp; b &gt;0){\r\n        return ((int)Math.floor(a * 1000) == (int)Math.floor(b * 1000));\r\n    }\r\n    else if (a &lt; 0 &amp;&amp; b &lt;0) {\r\n        return ((int)Math.ceil(a * 1000) == (int)Math.ceil(b * 1000));\r\n    }\r\n\r\n    return a==b;\r\n    }","title":"Java: Check if two double values match on specific no of decimal places","body":"<pre><code>public static boolean areEqualByThreeDecimalPlaces(double a, double b) {\n\nif(a &gt; 0 &amp;&amp; b &gt;0){\n    return ((int)Math.floor(a * 1000) == (int)Math.floor(b * 1000));\n}\nelse if (a &lt; 0 &amp;&amp; b &lt;0) {\n    return ((int)Math.ceil(a * 1000) == (int)Math.ceil(b * 1000));\n}\n\nreturn a==b;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25540595,"reputation":1,"user_id":19326720,"display_name":"jani_rn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669715429,"creation_date":1669714890,"answer_id":74611929,"question_id":2944344,"body_markdown":"    public static boolean areEqualBySixDecimalPlaces(double a, double b) {\r\n            int num1 = (int) (a * 1e6);\r\n            int num2 = (int) (b * 1e6);\r\n            return num1 == num2;\r\n        }\r\nCasting up to desired digits shall be the simplest solution if you know the values","title":"Java: Check if two double values match on specific no of decimal places","body":"<pre><code>public static boolean areEqualBySixDecimalPlaces(double a, double b) {\n        int num1 = (int) (a * 1e6);\n        int num2 = (int) (b * 1e6);\n        return num1 == num2;\n    }\n</code></pre>\n<p>Casting up to desired digits shall be the simplest solution if you know the values</p>\n"},{"tags":[],"owner":{"account_id":27990374,"reputation":1,"user_id":21376369,"display_name":"midnyt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678538955,"creation_date":1678538955,"answer_id":75705042,"question_id":2944344,"body_markdown":"Go ahead u can have a laugh over this one!!\r\n\r\n    public static boolean areEqualByThreeDecimalPlaces(double v, double v1) {\r\n\r\n\r\n        if((int)v == (int)v1){\r\n\r\n            String s = &quot;&quot;+v;\r\n            String s1 = &quot;&quot;+v1;\r\n\r\n            s = s.substring(s.indexOf(&quot;.&quot;)+1,s.indexOf(&quot;.&quot;)+4);\r\n            s1 = s1.substring(s1.indexOf(&quot;.&quot;)+1,s1.indexOf(&quot;.&quot;)+4);\r\n\r\n            return s.equals(s1);\r\n        }\r\n        return false;\r\n    }","title":"Java: Check if two double values match on specific no of decimal places","body":"<p>Go ahead u can have a laugh over this one!!</p>\n<pre><code>public static boolean areEqualByThreeDecimalPlaces(double v, double v1) {\n\n\n    if((int)v == (int)v1){\n\n        String s = &quot;&quot;+v;\n        String s1 = &quot;&quot;+v1;\n\n        s = s.substring(s.indexOf(&quot;.&quot;)+1,s.indexOf(&quot;.&quot;)+4);\n        s1 = s1.substring(s1.indexOf(&quot;.&quot;)+1,s1.indexOf(&quot;.&quot;)+4);\n\n        return s.equals(s1);\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29244733,"reputation":1,"user_id":22405427,"display_name":"Arijeet chakraborty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692280411,"creation_date":1692279821,"answer_id":76922102,"question_id":2944344,"body_markdown":"\r\n       public class DecimalComparator \r\n       {\r\n           public static boolean areEqualByThreeDecimalPlaces(double a, double b) \r\n           {\r\n               double threshold = 0.001;  // This represents 1e-3 or 0.001\r\n               double diff = Math.abs(a - b);\r\n               return diff &lt;threshold;\r\n           } \r\n       }","title":"Java: Check if two double values match on specific no of decimal places","body":"<pre><code>   public class DecimalComparator \n   {\n       public static boolean areEqualByThreeDecimalPlaces(double a, double b) \n       {\n           double threshold = 0.001;  // This represents 1e-3 or 0.001\n           double diff = Math.abs(a - b);\n           return diff &lt;threshold;\n       } \n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30031881,"reputation":1,"user_id":23014787,"display_name":"leestergit"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701351391,"creation_date":1701351391,"answer_id":77578889,"question_id":2944344,"body_markdown":"**try this one**\r\n\r\n\r\npublic static boolean isItEqual(double num1, double num2){ &lt;br&gt;    \r\n   long firstDigit = (long)(num1 * 1000);&lt;br&gt;\r\n   long secondDigit = (long)(num2 * 1000);&lt;br&gt;\r\n   return firstDigit == secondDigit;&lt;br&gt;\r\n}","title":"Java: Check if two double values match on specific no of decimal places","body":"<p><strong>try this one</strong></p>\n<p>public static boolean isItEqual(double num1, double num2){ <br><br />\nlong firstDigit = (long)(num1 * 1000);<br>\nlong secondDigit = (long)(num2 * 1000);<br>\nreturn firstDigit == secondDigit;<br>\n}</p>\n"}],"owner":{"account_id":135548,"reputation":6518,"user_id":338476,"accept_rate":49,"display_name":"tzippy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55575,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":2944352,"answer_count":12,"score":13,"last_activity_date":1701351391,"creation_date":1275318218,"question_id":2944344,"body_markdown":"Comparing those two values shall result in a &quot;true&quot;:\r\n\r\n    53.9173333333333  53.9173\r\n\r\n","title":"Java: Check if two double values match on specific no of decimal places","body":"<p>Comparing those two values shall result in a \"true\":</p>\n\n<pre><code>53.9173333333333  53.9173\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":43453,"reputation":16185,"user_id":127035,"accept_rate":71,"display_name":"ewan.chalmers"},"score":2,"creation_date":1324040039,"post_id":8534178,"comment_id":10570426,"body_markdown":"Show an example of the replace operation you want to perform.","body":"Show an example of the replace operation you want to perform."},{"owner":{"account_id":23121,"reputation":527336,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1324040988,"post_id":8534178,"comment_id":10570674,"body_markdown":"@rahulsri I can&#39;t see the code you are referring to.","body":"@rahulsri I can&#39;t see the code you are referring to."},{"owner":{"account_id":222360,"reputation":7605,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"score":4,"creation_date":1489391113,"post_id":8534178,"comment_id":72632803,"body_markdown":"I think that OP wants to perform `String.replace(&#39; &#39;, EMPTY_CHARACTER)` to have the same effect as `String.replace(&quot; &quot;, &quot;&quot;)`. I.e. remove all spaces.","body":"I think that OP wants to perform <code>String.replace(&#39; &#39;, EMPTY_CHARACTER)</code> to have the same effect as <code>String.replace(&quot; &quot;, &quot;&quot;)</code>. I.e. remove all spaces."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527336,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1324040826,"creation_date":1324038952,"answer_id":8534239,"question_id":8534178,"body_markdown":"You can only re-use an existing character. e.g. `\\0` If you put this in a String, you will have a String with one character in it.\r\n\r\n---\r\n\r\nSay you want a `char` such that when you do\r\n\r\n    String s = \r\n    char ch = ?\r\n    String s2 = s + ch; // there is not char which does this.\r\n    assert s.equals(s2);\r\n\r\nwhat you have to do instead is\r\n\r\n    String s = \r\n    char ch = MY_NULL_CHAR;\r\n    String s2 = ch == MY_NULL_CHAR ? s : s + ch;\r\n    assert s.equals(s2);\r\n","title":"How to represent empty char in Java Character class","body":"<p>You can only re-use an existing character. e.g. <code>\\0</code> If you put this in a String, you will have a String with one character in it.</p>\n\n<hr>\n\n<p>Say you want a <code>char</code> such that when you do</p>\n\n<pre><code>String s = \nchar ch = ?\nString s2 = s + ch; // there is not char which does this.\nassert s.equals(s2);\n</code></pre>\n\n<p>what you have to do instead is</p>\n\n<pre><code>String s = \nchar ch = MY_NULL_CHAR;\nString s2 = ch == MY_NULL_CHAR ? s : s + ch;\nassert s.equals(s2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":48120,"reputation":93879,"user_id":142822,"display_name":"KV Prajapati"},"down_vote_count":10,"up_vote_count":181,"is_accepted":false,"score":171,"last_activity_date":1461595079,"creation_date":1324039311,"answer_id":8534309,"question_id":8534178,"body_markdown":"You may assign `&#39;\\u0000&#39;` (or 0).\r\nFor this purpose, use [`Character.MIN_VALUE`][1].\r\n\r\n    Character ch = Character.MIN_VALUE;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#MIN_VALUE","title":"How to represent empty char in Java Character class","body":"<p>You may assign <code>'\\u0000'</code> (or 0).\nFor this purpose, use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#MIN_VALUE\"><code>Character.MIN_VALUE</code></a>.</p>\n\n<pre><code>Character ch = Character.MIN_VALUE;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1324039471,"creation_date":1324039471,"answer_id":8534338,"question_id":8534178,"body_markdown":"You can&#39;t. &quot;&quot; is the literal for a string, which contains *no* characters. It does not contain the &quot;empty character&quot; (whatever you mean by that).","title":"How to represent empty char in Java Character class","body":"<p>You can't. \"\" is the literal for a string, which contains <em>no</em> characters. It does not contain the \"empty character\" (whatever you mean by that).</p>\n"},{"tags":[],"owner":{"account_id":429398,"reputation":3457,"user_id":812272,"accept_rate":85,"display_name":"user3001"},"down_vote_count":1,"up_vote_count":46,"is_accepted":false,"score":45,"last_activity_date":1412589687,"creation_date":1324039639,"answer_id":8534372,"question_id":8534178,"body_markdown":"As Character is a class deriving from Object, you can assign null as &quot;instance&quot;:\r\n\r\n    Character myChar = null;\r\n\r\nProblem solved ;)","title":"How to represent empty char in Java Character class","body":"<p>As Character is a class deriving from Object, you can assign null as \"instance\":</p>\n\n<pre><code>Character myChar = null;\n</code></pre>\n\n<p>Problem solved ;)</p>\n"},{"tags":[],"owner":{"account_id":43453,"reputation":16185,"user_id":127035,"accept_rate":71,"display_name":"ewan.chalmers"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1324041525,"creation_date":1324039936,"answer_id":8534422,"question_id":8534178,"body_markdown":"An empty String is a wrapper on a `char[]` with no elements. You can have an empty `char[]`. But you cannot have an &quot;empty&quot; `char`. Like other primitives, a `char` has to have a value.\r\n\r\nYou say you want to &quot;replace a character without leaving a space&quot;.\r\n\r\nIf you are dealing with a `char[]`, then you would create a new `char[]` with that element removed.\r\n\r\nIf you are dealing with a `String`, then you would create a new `String` (String is immutable) with the character removed.\r\n\r\nHere are some samples of how you could remove a char:\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\t\r\n\t\tString s = &quot;abcdefg&quot;;\r\n\t\tint index = s.indexOf(&#39;d&#39;);\r\n\t\t\r\n\t\t// delete a char from a char[]\r\n\t\tchar[] array = s.toCharArray();\r\n\t\tchar[] tmp = new char[array.length-1];\r\n\t\tSystem.arraycopy(array, 0, tmp, 0, index);\r\n\t\tSystem.arraycopy(array, index+1, tmp, index, tmp.length-index);\r\n\t\tSystem.err.println(new String(tmp));\r\n\r\n\t\t// delete a char from a String using replace\r\n\t\tString s1 = s.replace(&quot;d&quot;, &quot;&quot;);\r\n\t\tSystem.err.println(s1);\r\n\t\t\r\n\t\t// delete a char from a String using StringBuilder\r\n\t\tStringBuilder sb = new StringBuilder(s);\r\n\t\tsb.deleteCharAt(index);\r\n\t\ts1 = sb.toString();\r\n\t\tSystem.err.println(s1);\r\n\t\t\r\n\t}\r\n\r\n","title":"How to represent empty char in Java Character class","body":"<p>An empty String is a wrapper on a <code>char[]</code> with no elements. You can have an empty <code>char[]</code>. But you cannot have an \"empty\" <code>char</code>. Like other primitives, a <code>char</code> has to have a value.</p>\n\n<p>You say you want to \"replace a character without leaving a space\".</p>\n\n<p>If you are dealing with a <code>char[]</code>, then you would create a new <code>char[]</code> with that element removed.</p>\n\n<p>If you are dealing with a <code>String</code>, then you would create a new <code>String</code> (String is immutable) with the character removed.</p>\n\n<p>Here are some samples of how you could remove a char:</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n\n    String s = \"abcdefg\";\n    int index = s.indexOf('d');\n\n    // delete a char from a char[]\n    char[] array = s.toCharArray();\n    char[] tmp = new char[array.length-1];\n    System.arraycopy(array, 0, tmp, 0, index);\n    System.arraycopy(array, index+1, tmp, index, tmp.length-index);\n    System.err.println(new String(tmp));\n\n    // delete a char from a String using replace\n    String s1 = s.replace(\"d\", \"\");\n    System.err.println(s1);\n\n    // delete a char from a String using StringBuilder\n    StringBuilder sb = new StringBuilder(s);\n    sb.deleteCharAt(index);\n    s1 = sb.toString();\n    System.err.println(s1);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3181881,"reputation":81,"user_id":2688394,"display_name":"user2688394"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1402840024,"creation_date":1402840024,"answer_id":24230224,"question_id":8534178,"body_markdown":"If you want to replace a character in a String without leaving any empty space then you can achieve this by using StringBuilder. String is immutable object in java,you can not modify it.\r\n\r\n    String str = &quot;Hello&quot;;\r\n    StringBuilder sb = new StringBuilder(str);\r\n    sb.deleteCharAt(1); // to replace e character","title":"How to represent empty char in Java Character class","body":"<p>If you want to replace a character in a String without leaving any empty space then you can achieve this by using StringBuilder. String is immutable object in java,you can not modify it.</p>\n\n<pre><code>String str = \"Hello\";\nStringBuilder sb = new StringBuilder(str);\nsb.deleteCharAt(1); // to replace e character\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1827467,"reputation":4043,"user_id":1659790,"accept_rate":73,"display_name":"Jimmy T."},"down_vote_count":0,"up_vote_count":131,"is_accepted":false,"score":131,"last_activity_date":1402840364,"creation_date":1402840364,"answer_id":24230273,"question_id":8534178,"body_markdown":"`char` means exactly one character. You can&#39;t assign zero characters to this type.\r\n\r\nThat means that there is no char value for which `String.replace(char, char)` would return a string with a diffrent length.","title":"How to represent empty char in Java Character class","body":"<p><code>char</code> means exactly one character. You can't assign zero characters to this type.</p>\n\n<p>That means that there is no char value for which <code>String.replace(char, char)</code> would return a string with a diffrent length.</p>\n"},{"tags":[],"owner":{"account_id":6701934,"reputation":1,"user_id":5168132,"display_name":"Kevin Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438154431,"creation_date":1438153408,"answer_id":31693423,"question_id":8534178,"body_markdown":"Use the `\\b` operator (the backspace escape operator) in the second parameter\r\n\r\n    String test= &quot;Anna Banana&quot;;\r\n    \r\n    System.out.println(test); //returns Anna Banana&lt;br&gt;&lt;br&gt;\r\n    System.out.println(test.replaceAll(&quot; &quot;,&quot;\\b&quot;)); //returns AnnaBanana removing all the spaces in the string","title":"How to represent empty char in Java Character class","body":"<p>Use the <code>\\b</code> operator (the backspace escape operator) in the second parameter</p>\n\n<pre><code>String test= \"Anna Banana\";\n\nSystem.out.println(test); //returns Anna Banana&lt;br&gt;&lt;br&gt;\nSystem.out.println(test.replaceAll(\" \",\"\\b\")); //returns AnnaBanana removing all the spaces in the string\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3666831,"reputation":61,"user_id":3055036,"display_name":"dukekosy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1446588775,"creation_date":1446588775,"answer_id":33510074,"question_id":8534178,"body_markdown":"this is how I do it.\r\n\r\n    char[] myEmptyCharArray = &quot;&quot;.toCharArray();","title":"How to represent empty char in Java Character class","body":"<p>this is how I do it.</p>\n\n<pre><code>char[] myEmptyCharArray = \"\".toCharArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6924913,"reputation":41,"user_id":5316257,"display_name":"H&#252;seyin Burhan &#214;ZKAN"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1456323056,"creation_date":1456321875,"answer_id":35604044,"question_id":8534178,"body_markdown":"    char ch = Character.MIN_VALUE;\r\n\r\nThe code above will initialize the variable `ch` with the minimum value that a char can have (i.e. `\\u0000`).","title":"How to represent empty char in Java Character class","body":"<pre><code>char ch = Character.MIN_VALUE;\n</code></pre>\n\n<p>The code above will initialize the variable <code>ch</code> with the minimum value that a char can have (i.e. <code>\\u0000</code>).</p>\n"},{"tags":[],"owner":{"account_id":181983,"reputation":22075,"user_id":416369,"accept_rate":29,"display_name":"sactiw"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1514460015,"creation_date":1465314026,"answer_id":37683750,"question_id":8534178,"body_markdown":"In java there is nothing as *empty character literal*, in other words, &#39;&#39; has no meaning unlike &quot;&quot; which means a *empty String literal*\r\n\r\nThe closest you can go about representing empty character literal is through zero length char[], something like:\r\n\r\n    char[] cArr = {};         // cArr is a zero length array\r\n    char[] cArr = new char[0] // this does the same\r\n\r\nIf you refer to String class its default constructor creates a empty character sequence using `new char[0]`\r\n\r\nAlso, using Character.MIN_VALUE is not correct because it is not really empty character rather smallest value of type character.\r\n \r\nI also don&#39;t like `Character c = null;` as a solution mainly because jvm will throw NPE if it tries to un-box it. Secondly, null is basically a reference to nothing w.r.t reference type and here we are dealing with primitive type which don&#39;t accept null as a possible value.\r\n\r\nAssuming that in the string, say str, OP wants to replace all occurrences of a character, say &#39;x&#39;, with empty character &#39;&#39;, then try using:\r\n\r\n    str.replace(&quot;x&quot;, &quot;&quot;);","title":"How to represent empty char in Java Character class","body":"<p>In java there is nothing as <em>empty character literal</em>, in other words, '' has no meaning unlike \"\" which means a <em>empty String literal</em></p>\n\n<p>The closest you can go about representing empty character literal is through zero length char[], something like:</p>\n\n<pre><code>char[] cArr = {};         // cArr is a zero length array\nchar[] cArr = new char[0] // this does the same\n</code></pre>\n\n<p>If you refer to String class its default constructor creates a empty character sequence using <code>new char[0]</code></p>\n\n<p>Also, using Character.MIN_VALUE is not correct because it is not really empty character rather smallest value of type character.</p>\n\n<p>I also don't like <code>Character c = null;</code> as a solution mainly because jvm will throw NPE if it tries to un-box it. Secondly, null is basically a reference to nothing w.r.t reference type and here we are dealing with primitive type which don't accept null as a possible value.</p>\n\n<p>Assuming that in the string, say str, OP wants to replace all occurrences of a character, say 'x', with empty character '', then try using:</p>\n\n<pre><code>str.replace(\"x\", \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8635044,"reputation":241,"user_id":7174605,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1510686161,"creation_date":1510686161,"answer_id":47293407,"question_id":8534178,"body_markdown":"As `chars` can be represented as Integers (ASCII-Codes), you can simply write:\r\n\r\n    char c = 0;\r\nThe 0 in ASCII-Code is `null`.","title":"How to represent empty char in Java Character class","body":"<p>As <code>chars</code> can be represented as Integers (ASCII-Codes), you can simply write:</p>\n\n<pre><code>char c = 0;\n</code></pre>\n\n<p>The 0 in ASCII-Code is <code>null</code>.</p>\n"},{"tags":[],"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537445710,"creation_date":1537445710,"answer_id":52424982,"question_id":8534178,"body_markdown":"You can do something like this:\r\n\r\n    mystring.replace(&quot;&quot;+ch, &quot;&quot;);","title":"How to represent empty char in Java Character class","body":"<p>You can do something like this:</p>\n\n<pre><code>mystring.replace(\"\"+ch, \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14398888,"reputation":145,"user_id":10401248,"display_name":"Emeka Onwuliri"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1537645851,"creation_date":1537634454,"answer_id":52458723,"question_id":8534178,"body_markdown":"I was looking for this. Simply set the `char c = 0;` and it works perfectly. Try it.\r\n\r\nFor example, if you are trying to remove duplicate characters from a String , one way would be to convert the string to char array and store in a hashset of characters which would automatically prevent duplicates.\r\n\r\nAnother way, however, will be to convert the string to a char array, use two  for-loops and compare each character with the rest of the string/char array (a Big O on N^2 activity), then for each duplicate found just set that char to 0..\r\n\r\n...and use `new String(char[])` to convert the resulting char array to string and then sysout to print (this is all java btw). you will observe all chars set to zero are simply not there and all duplicates are gone. long post, but just wanted to give you an example.\r\n\r\n so yes set `char c = 0;` or if for char array, set `cArray[i]=0` for that specific duplicate character and you will have removed it.","title":"How to represent empty char in Java Character class","body":"<p>I was looking for this. Simply set the <code>char c = 0;</code> and it works perfectly. Try it.</p>\n\n<p>For example, if you are trying to remove duplicate characters from a String , one way would be to convert the string to char array and store in a hashset of characters which would automatically prevent duplicates.</p>\n\n<p>Another way, however, will be to convert the string to a char array, use two  for-loops and compare each character with the rest of the string/char array (a Big O on N^2 activity), then for each duplicate found just set that char to 0..</p>\n\n<p>...and use <code>new String(char[])</code> to convert the resulting char array to string and then sysout to print (this is all java btw). you will observe all chars set to zero are simply not there and all duplicates are gone. long post, but just wanted to give you an example.</p>\n\n<p>so yes set <code>char c = 0;</code> or if for char array, set <code>cArray[i]=0</code> for that specific duplicate character and you will have removed it.</p>\n"},{"tags":[],"owner":{"account_id":8197071,"reputation":61,"user_id":6169550,"display_name":"Stefanidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604381393,"creation_date":1604381393,"answer_id":64657245,"question_id":8534178,"body_markdown":"String before = EMPTY_SPACE+TAB+&quot;word&quot;+TAB+EMPTY_SPACE\r\n\r\nWhere \r\nEMPTY_SPACE = &quot; &quot;  (this is String)\r\nTAB         = &#39;\\t&#39; (this is Character)\r\n\r\nString after = before.replaceAll(&quot; &quot;, &quot;&quot;).replace(&#39;\\t&#39;, &#39;\\0&#39;)\r\nmeans\r\nafter = &quot;word&quot;","title":"How to represent empty char in Java Character class","body":"<p>String before = EMPTY_SPACE+TAB+&quot;word&quot;+TAB+EMPTY_SPACE</p>\n<p>Where\nEMPTY_SPACE = &quot; &quot;  (this is String)\nTAB         = '\\t' (this is Character)</p>\n<p>String after = before.replaceAll(&quot; &quot;, &quot;&quot;).replace('\\t', '\\0')\nmeans\nafter = &quot;word&quot;</p>\n"},{"tags":[],"owner":{"account_id":6947828,"reputation":2546,"user_id":5331566,"accept_rate":88,"display_name":"Shaon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678881706,"creation_date":1678881706,"answer_id":75744436,"question_id":8534178,"body_markdown":"In Kotlin, using below code solved my problem.\r\n\r\n    Char.MIN_VALUE","title":"How to represent empty char in Java Character class","body":"<p>In Kotlin, using below code solved my problem.</p>\n<pre><code>Char.MIN_VALUE\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701351009,"creation_date":1701350319,"answer_id":77578773,"question_id":8534178,"body_markdown":"The highest voted answer does **NOT** represent an empty char, it is still a character, to be more precise a **CONTROL** character which can be represented by:\r\n\r\n    Character ascii = 0; // ASCII\r\n    Character unicode = &#39;\\u0000&#39;; //UTF-16, which is also what Java use\r\n    Character min = Character.MIN_VALUE;\r\n\r\n### The [Null character](https://en.wikipedia.org/wiki/Null_character) (The important bits)\r\n\r\n&gt; The null character (also null terminator) is a control character with\r\n&gt; the value zero.[1][2][3][4] It is present in many character sets,\r\n&gt; including those defined by the Baudot and ITA2 codes, ISO/IEC 646 (or\r\n&gt; ASCII), the C0 control code, the Universal Coded Character Set (or\r\n&gt; Unicode), and EBCDIC. It is available in nearly all mainstream\r\n&gt; programming languages.[5] It is often abbreviated as NUL (or NULL,\r\n&gt; though in some contexts that term is used for the null pointer). In\r\n&gt; 8-bit codes, it is known as a null byte.\r\n&gt; \r\n&gt; Today the character has much more significance in the programming\r\n&gt; language C and its derivatives and in many data formats, where it\r\n&gt; serves as a reserved character used to signify the end of a string,[6]\r\n&gt; often called a null-terminated string.[7] This allows the string to be\r\n&gt; any length with only the overhead of one byte;\r\n\r\n### [char](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html)&lt;br&gt;\r\n\r\n&gt; The char data type is a **single 16-bit Unicode character**. It has a\r\n&gt; minimum value of &#39;\\u0000&#39; (or 0) and a maximum value of &#39;\\uffff&#39; (or\r\n&gt; 65,535 inclusive).\r\n\r\n### [Character](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Character.html)&lt;br&gt;\r\n\r\n&gt; The Character class wraps a value of the primitive type char in an\r\n&gt; object. An object of class Character contains a single field whose\r\n&gt; type is char. In addition, this class provides a large number of\r\n&gt; static methods for determining a character&#39;s category (lowercase\r\n&gt; letter, digit, etc.) and for converting characters from uppercase to\r\n&gt; lowercase and vice versa.\r\n\r\nIn a nutshell, in Java, there is no empty character literal.\r\n\r\n\r\n","title":"How to represent empty char in Java Character class","body":"<p>The highest voted answer does <strong>NOT</strong> represent an empty char, it is still a character, to be more precise a <strong>CONTROL</strong> character which can be represented by:</p>\n<pre><code>Character ascii = 0; // ASCII\nCharacter unicode = '\\u0000'; //UTF-16, which is also what Java use\nCharacter min = Character.MIN_VALUE;\n</code></pre>\n<h3>The <a href=\"https://en.wikipedia.org/wiki/Null_character\" rel=\"nofollow noreferrer\">Null character</a> (The important bits)</h3>\n<blockquote>\n<p>The null character (also null terminator) is a control character with\nthe value zero.[1][2][3][4] It is present in many character sets,\nincluding those defined by the Baudot and ITA2 codes, ISO/IEC 646 (or\nASCII), the C0 control code, the Universal Coded Character Set (or\nUnicode), and EBCDIC. It is available in nearly all mainstream\nprogramming languages.[5] It is often abbreviated as NUL (or NULL,\nthough in some contexts that term is used for the null pointer). In\n8-bit codes, it is known as a null byte.</p>\n<p>Today the character has much more significance in the programming\nlanguage C and its derivatives and in many data formats, where it\nserves as a reserved character used to signify the end of a string,[6]\noften called a null-terminated string.[7] This allows the string to be\nany length with only the overhead of one byte;</p>\n</blockquote>\n<h3><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">char</a><br></h3>\n<blockquote>\n<p>The char data type is a <strong>single 16-bit Unicode character</strong>. It has a\nminimum value of '\\u0000' (or 0) and a maximum value of '\\uffff' (or\n65,535 inclusive).</p>\n</blockquote>\n<h3><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Character.html\" rel=\"nofollow noreferrer\">Character</a><br></h3>\n<blockquote>\n<p>The Character class wraps a value of the primitive type char in an\nobject. An object of class Character contains a single field whose\ntype is char. In addition, this class provides a large number of\nstatic methods for determining a character's category (lowercase\nletter, digit, etc.) and for converting characters from uppercase to\nlowercase and vice versa.</p>\n</blockquote>\n<p>In a nutshell, in Java, there is no empty character literal.</p>\n"}],"owner":{"account_id":1108791,"reputation":2741,"user_id":1099638,"accept_rate":20,"display_name":"rahulsri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415538,"favorite_count":0,"down_vote_count":3,"up_vote_count":164,"answer_count":17,"score":161,"last_activity_date":1701351009,"creation_date":1324038669,"question_id":8534178,"body_markdown":"I want to represent an empty character in Java as  `&quot;&quot;` in String...\r\n\r\nLike that `char ch = an empty character;`\r\n\r\nActually I want to replace a character without leaving space. \r\n\r\nI think it might be sufficient to understand what this means: no character not even space. \r\n","title":"How to represent empty char in Java Character class","body":"<p>I want to represent an empty character in Java as  <code>\"\"</code> in String...</p>\n\n<p>Like that <code>char ch = an empty character;</code></p>\n\n<p>Actually I want to replace a character without leaving space. </p>\n\n<p>I think it might be sufficient to understand what this means: no character not even space. </p>\n"},{"tags":["java","unit-testing","mocking","mockito","junit5"],"comments":[{"owner":{"account_id":39208,"reputation":251211,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1701357149,"post_id":77577959,"comment_id":136767821,"body_markdown":"`@BeforeAll` is only executed _once_ for your test _class_. `@Mock` fields are reassigned for every test _method_. `mockedInstanceReference` isn&#39;t a field, it&#39;s a local variable. IIRC `mockStatic` returns an AutoClosable and is only valid for the current thread.","body":"<code>@BeforeAll</code> is only executed <i>once</i> for your test <i>class</i>. <code>@Mock</code> fields are reassigned for every test <i>method</i>. <code>mockedInstanceReference</code> isn&#39;t a field, it&#39;s a local variable. IIRC <code>mockStatic</code> returns an AutoClosable and is only valid for the current thread."},{"owner":{"account_id":11514885,"reputation":631,"user_id":8438513,"accept_rate":70,"display_name":"HowToTellAChild"},"score":0,"creation_date":1701376135,"post_id":77577959,"comment_id":136771337,"body_markdown":"I didn&#39;t really get the connection between your thoughts and my issue. Could you pls elaborate them in details?","body":"I didn&#39;t really get the connection between your thoughts and my issue. Could you pls elaborate them in details?"},{"owner":{"account_id":39208,"reputation":251211,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1701376367,"post_id":77577959,"comment_id":136771374,"body_markdown":"You asked what the order between BeforeAll and Mock is and I told you. `@BeforeAll` runs once for the class, `@Mock` fields are reassigned for every test method.","body":"You asked what the order between BeforeAll and Mock is and I told you. <code>@BeforeAll</code> runs once for the class, <code>@Mock</code> fields are reassigned for every test method."}],"answers":[{"tags":[],"owner":{"account_id":5570527,"reputation":1,"user_id":4416045,"display_name":"IDDQD"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1701350470,"creation_date":1701350470,"answer_id":77578796,"question_id":77577959,"body_markdown":"It is because you are using the wrong version of junit. Downgrade it to juit 4 and it will work.","title":"Field with @Mock annotation initialize vs. @BeforeAll","body":"<p>It is because you are using the wrong version of junit. Downgrade it to juit 4 and it will work.</p>\n"}],"owner":{"account_id":11514885,"reputation":631,"user_id":8438513,"accept_rate":70,"display_name":"HowToTellAChild"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701350470,"creation_date":1701342825,"question_id":77577959,"body_markdown":"I have the following static mocking settings:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    TestClass{\r\n    \r\n    @Mock\r\n    private static ClassB classBInstance;\r\n    \r\n    \t@BeforeAll\r\n    \tstatic void setup(){\r\n    \t\tMockedStatic&lt;ClassA&gt; mockedStatic = mockStatic(ClassA.class);\r\n    \t\t\t\tmockedStatic.when(() -&gt; ClassA.someMethod(ClassB.class)).thenReturn(classBInstance);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tvoid testMethod(){\r\n    \t\tvar mockedInstanceReference = ClassA.someMethod(ClassB.class);\r\n    \t}\r\n    \r\n    }\r\n\r\nAnd here I am getting a null reference at *mockedInstanceReference*  field. But in this configuration:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    TestClass{\r\n    \t@Mock\r\n    \tprivate static ClassB classBInstance;\r\n    \r\n    \t\t@Test\r\n    \t\tvoid testMethod(){\r\n    \t\t\tMockedStatic&lt;ClassA&gt; mockedStatic = mockStatic(ClassA.class);\r\n    \t\t\t\t\tmockedStatic.when(() -&gt; ClassA.someMethod(ClassB.class)).thenReturn(classBInstance);\r\n    \t\t\tvar mockedInstanceReference = ClassA.someMethod(ClassB.class);\r\n    \t\t}\r\n    \r\n    }\r\n\r\nI have no problem, I am getting he proper mocked reference. My question is:. Why? What is the order between @BerforeAll annotation processing and @Mock field initialisation in junit 5?","title":"Field with @Mock annotation initialize vs. @BeforeAll","body":"<p>I have the following static mocking settings:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nTestClass{\n\n@Mock\nprivate static ClassB classBInstance;\n\n    @BeforeAll\n    static void setup(){\n        MockedStatic&lt;ClassA&gt; mockedStatic = mockStatic(ClassA.class);\n                mockedStatic.when(() -&gt; ClassA.someMethod(ClassB.class)).thenReturn(classBInstance);\n    }\n\n    @Test\n    void testMethod(){\n        var mockedInstanceReference = ClassA.someMethod(ClassB.class);\n    }\n\n}\n</code></pre>\n<p>And here I am getting a null reference at <em>mockedInstanceReference</em>  field. But in this configuration:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nTestClass{\n    @Mock\n    private static ClassB classBInstance;\n\n        @Test\n        void testMethod(){\n            MockedStatic&lt;ClassA&gt; mockedStatic = mockStatic(ClassA.class);\n                    mockedStatic.when(() -&gt; ClassA.someMethod(ClassB.class)).thenReturn(classBInstance);\n            var mockedInstanceReference = ClassA.someMethod(ClassB.class);\n        }\n\n}\n</code></pre>\n<p>I have no problem, I am getting he proper mocked reference. My question is:. Why? What is the order between @BerforeAll annotation processing and @Mock field initialisation in junit 5?</p>\n"},{"tags":["java","data-structures","linked-list"],"comments":[{"owner":{"account_id":1031279,"reputation":7717,"user_id":1039555,"accept_rate":56,"display_name":"Kartik"},"score":1,"creation_date":1550793472,"post_id":54818051,"comment_id":96412149,"body_markdown":"[`LinkedHashMap`](https://docs.oracle.com/javase/8/docs/api/java/util/LinkedHashMap.html)","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/LinkedHashMap.html\" rel=\"nofollow noreferrer\"><code>LinkedHashMap</code></a>"},{"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"score":0,"creation_date":1550794031,"post_id":54818051,"comment_id":96412246,"body_markdown":"A linked list is a terrible data structure for doing efficient searches and for keeping it sorted, there are better alternatives.","body":"A linked list is a terrible data structure for doing efficient searches and for keeping it sorted, there are better alternatives."},{"owner":{"account_id":1031279,"reputation":7717,"user_id":1039555,"accept_rate":56,"display_name":"Kartik"},"score":0,"creation_date":1550794305,"post_id":54818051,"comment_id":96412293,"body_markdown":"@&#211;scarL&#243;pez The OP wrote *sortable* not *sorted*. Also, if I understood correctly, they need to store a mapping medication-&gt;indications.","body":"@&#211;scarL&#243;pez The OP wrote <i>sortable</i> not <i>sorted</i>. Also, if I understood correctly, they need to store a mapping medication-&gt;indications."},{"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"score":0,"creation_date":1550819825,"post_id":54818051,"comment_id":96418612,"body_markdown":"@Kartik what’s more sortable that something that is sorted all the time? :p Also, I think we’re interpreting the question differently. In my understanding, he’s sorting using two criteria: med, indication. I hope OP clarifies this, it’s confusing because he talks about lists but is using a hash set.","body":"@Kartik what’s more sortable that something that is sorted all the time? :p Also, I think we’re interpreting the question differently. In my understanding, he’s sorting using two criteria: med, indication. I hope OP clarifies this, it’s confusing because he talks about lists but is using a hash set."}],"answers":[{"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550793627,"creation_date":1550793627,"answer_id":54818086,"question_id":54818051,"body_markdown":"Although it&#39;s a _tree_ not a list, a [`TreeSet`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TreeSet.html) meets the requirements of being sorted, efficiently `O(log(n))` searchable and you can get [subsets](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TreeSet.html#subSet(E,E)) out of it. It&#39;ll be better if you declare it as a [`SortedSet`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/SortedSet.html).","title":"Data structure for linked list","body":"<p>Although it's a <em>tree</em> not a list, a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TreeSet.html\" rel=\"nofollow noreferrer\"><code>TreeSet</code></a> meets the requirements of being sorted, efficiently <code>O(log(n))</code> searchable and you can get <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TreeSet.html#subSet(E,E)\" rel=\"nofollow noreferrer\">subsets</a> out of it. It'll be better if you declare it as a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/SortedSet.html\" rel=\"nofollow noreferrer\"><code>SortedSet</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":24801,"reputation":15286,"user_id":63293,"accept_rate":50,"display_name":"Peter Walser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550793777,"creation_date":1550793777,"answer_id":54818097,"question_id":54818051,"body_markdown":"[TreeSet][1] is a sorted set of items:\r\n\r\n&gt; A NavigableSet implementation based on a TreeMap. The elements are\r\n&gt; ordered using their natural ordering, or by a Comparator provided at\r\n&gt; set creation time, depending on which constructor is used.\r\n\r\nFor searching, filtering, mapping, subset creation etc. I recommend using the **Java Stream API**.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TreeSet.html","title":"Data structure for linked list","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TreeSet.html\" rel=\"nofollow noreferrer\">TreeSet</a> is a sorted set of items:</p>\n\n<blockquote>\n  <p>A NavigableSet implementation based on a TreeMap. The elements are\n  ordered using their natural ordering, or by a Comparator provided at\n  set creation time, depending on which constructor is used.</p>\n</blockquote>\n\n<p>For searching, filtering, mapping, subset creation etc. I recommend using the <strong>Java Stream API</strong>.</p>\n"},{"tags":[],"owner":{"account_id":10133240,"reputation":493,"user_id":7485801,"display_name":"Zayn Korai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550794437,"creation_date":1550794437,"answer_id":54818160,"question_id":54818051,"body_markdown":"The **SortedSet** interface provides functionalities to keep the elements sorted. And the **NavigableSet** interface provides functionalities to navigate through the **SortedSet**. \r\n\r\nSince the [TreeSet][1] class implements **NavigableSet** interface, it has the functionalities of both - the NavigableSet as well as the **SortedSet**. The TreeSet uses a self-balancing binary search tree, more specifically a Red-Black tree.\r\n\r\nThe contains() method is used to check if a given element is present in a given TreeSet. If the element is found, it returns true, otherwise false.\r\n\r\n\r\n[1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TreeSet.html\r\n","title":"Data structure for linked list","body":"<p>The <strong>SortedSet</strong> interface provides functionalities to keep the elements sorted. And the <strong>NavigableSet</strong> interface provides functionalities to navigate through the <strong>SortedSet</strong>. </p>\n\n<p>Since the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TreeSet.html\" rel=\"nofollow noreferrer\">TreeSet</a> class implements <strong>NavigableSet</strong> interface, it has the functionalities of both - the NavigableSet as well as the <strong>SortedSet</strong>. The TreeSet uses a self-balancing binary search tree, more specifically a Red-Black tree.</p>\n\n<p>The contains() method is used to check if a given element is present in a given TreeSet. If the element is found, it returns true, otherwise false.</p>\n"},{"tags":[],"owner":{"account_id":9150168,"reputation":162,"user_id":6805025,"accept_rate":75,"display_name":"akhileshcoer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550873185,"creation_date":1550873185,"answer_id":54835847,"question_id":54818051,"body_markdown":"[Use B+ tree.][1]\r\nIt is default sorted and efficient searches.\r\n\r\nInsertion however may need loops to keep it balanced.\r\n\r\n\r\n  [1]: https://www.javatpoint.com/b-plus-tree","title":"Data structure for linked list","body":"<p><a href=\"https://www.javatpoint.com/b-plus-tree\" rel=\"nofollow noreferrer\">Use B+ tree.</a>\nIt is default sorted and efficient searches.</p>\n\n<p>Insertion however may need loops to keep it balanced.</p>\n"},{"tags":[],"owner":{"account_id":14638025,"reputation":61,"user_id":10571514,"display_name":"Harishma A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1550873832,"creation_date":1550873832,"answer_id":54835956,"question_id":54818051,"body_markdown":"\r\n\r\n Try using TreeMap&lt;String,String&gt; \r\n   \r\n   - stores key-value pairs in sorted(ascending) order.\r\n   - You can access the value using key\r\n   - Key can be &#39;Medication&#39;\r\n   - Value can be &#39;Indication&#39;\r\n\r\n","title":"Data structure for linked list","body":"<p>Try using TreeMap </p>\n\n<ul>\n<li>stores key-value pairs in sorted(ascending) order.</li>\n<li>You can access the value using key</li>\n<li>Key can be 'Medication'</li>\n<li>Value can be 'Indication'</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9931876,"reputation":85,"user_id":7351526,"display_name":"Fxguy1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551368081,"creation_date":1551368081,"answer_id":54929212,"question_id":54818051,"body_markdown":"Thank you everyone! After a bit of experimentation with each of the suggestions, I was able to determine that a TreeMap was indeed the best solution. Since the treeMap contains Key-Value pairs, the Key in both maps serves as the &quot;link&quot; to maintain the relationship. Just make sure that if you add or delete an item from one Map you have to do the same to the corresponding Key in the other map. \r\n","title":"Data structure for linked list","body":"<p>Thank you everyone! After a bit of experimentation with each of the suggestions, I was able to determine that a TreeMap was indeed the best solution. Since the treeMap contains Key-Value pairs, the Key in both maps serves as the \"link\" to maintain the relationship. Just make sure that if you add or delete an item from one Map you have to do the same to the corresponding Key in the other map. </p>\n"}],"owner":{"account_id":9931876,"reputation":85,"user_id":7351526,"display_name":"Fxguy1"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54835956,"answer_count":6,"score":2,"last_activity_date":1701350413,"creation_date":1550793368,"question_id":54818051,"body_markdown":"What is the best way to keep a list of items that is sortable and searchable? I want to have a list of medication-indications that I want to keep in order like this:  \r\n&lt;p&gt;Medication            --------- Indication&lt;/p&gt;\r\n&lt;p&gt;lisinopril          --------- hypertension&lt;/p&gt;\r\n&lt;p&gt;amlodipine besylate --------- hypertension&lt;/p&gt;\r\n&lt;p&gt;amlodipine besylate\t--------- coronary artery disease (cad)&lt;/p&gt;\r\n&lt;p&gt;carvedilol\t\t    --------- hypertension&lt;/p&gt;\t\r\n&lt;p&gt;ciprofloxacin\t    --------- skin and skin structure infections&lt;/p&gt;\r\n&lt;p&gt;ciprofloxacin\t    --------- bone and joint infections&lt;/p&gt;\t\r\n\r\nNo matter what order, amlodipine besylate HAS to match hypertension. I need to be able to sort alphabetically. Then I need to be able to get subsets. So I need to be able to pull the indications for say ciprofloxacin and lisinopril and then search to see if hypertension is in that resulting list. \r\n\r\nHow can I do this? I have it currently as two separate hash sets. ","title":"Data structure for linked list","body":"<p>What is the best way to keep a list of items that is sortable and searchable? I want to have a list of medication-indications that I want to keep in order like this:  </p>\n\n<p>Medication            --------- Indication</p>\n\n<p>lisinopril          --------- hypertension</p>\n\n<p>amlodipine besylate --------- hypertension</p>\n\n<p>amlodipine besylate  --------- coronary artery disease (cad)</p>\n\n<p>carvedilol           --------- hypertension</p>  \n\n<p>ciprofloxacin        --------- skin and skin structure infections</p>\n\n<p>ciprofloxacin        --------- bone and joint infections</p> \n\n<p>No matter what order, amlodipine besylate HAS to match hypertension. I need to be able to sort alphabetically. Then I need to be able to get subsets. So I need to be able to pull the indications for say ciprofloxacin and lisinopril and then search to see if hypertension is in that resulting list. </p>\n\n<p>How can I do this? I have it currently as two separate hash sets. </p>\n"},{"tags":["java","spring-boot","spring-cloud-gateway"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701167140,"post_id":77563031,"comment_id":136738945,"body_markdown":"The first cod doesn&#39;t do anything, it only does something when you subscribe to it (which you don&#39;t). Adding `blockOptional` will subscribe and actually execute the code. As you mode the `WebClient.Builder` load balanced it will need the `RouteLocator`, but the `RouteLocatorProvider` is responsible for creating it as well. So a circular dependency.","body":"The first cod doesn&#39;t do anything, it only does something when you subscribe to it (which you don&#39;t). Adding <code>blockOptional</code> will subscribe and actually execute the code. As you mode the <code>WebClient.Builder</code> load balanced it will need the <code>RouteLocator</code>, but the <code>RouteLocatorProvider</code> is responsible for creating it as well. So a circular dependency."},{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1701167256,"post_id":77563031,"comment_id":136738964,"body_markdown":"@M.Deinum thanks, but why does `WebClient.Builder` need a `RouteLocator`? Why does the fact that it&#39;s marked as `@LoadBalanced` necessitate it?","body":"@M.Deinum thanks, but why does <code>WebClient.Builder</code> need a <code>RouteLocator</code>? Why does the fact that it&#39;s marked as <code>@LoadBalanced</code> necessitate it?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701168513,"post_id":77563031,"comment_id":136739168,"body_markdown":"My bad it is a bit different. You are injecting the `RefreshScope` and as `RouteLocator` is refresh scoped that leads to the cycle. Instead you might want to try to use `ObjectProvider&lt;RefreshScope&gt;` instead or inject the `ApplicationContext` and retreive the `RefreshScope` when needed.","body":"My bad it is a bit different. You are injecting the <code>RefreshScope</code> and as <code>RouteLocator</code> is refresh scoped that leads to the cycle. Instead you might want to try to use <code>ObjectProvider&lt;RefreshScope&gt;</code> instead or inject the <code>ApplicationContext</code> and retreive the <code>RefreshScope</code> when needed."},{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1701168940,"post_id":77563031,"comment_id":136739263,"body_markdown":"@M.Deinum if you meant changing to this `refreshScopeProvider.getIfAvailable().refresh(RouteLocator.class)`, it didn&#39;t help","body":"@M.Deinum if you meant changing to this <code>refreshScopeProvider.getIfAvailable().refresh(RouteLocator.c&zwnj;&#8203;lass)</code>, it didn&#39;t help"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701169062,"post_id":77563031,"comment_id":136739282,"body_markdown":"Which is probably due to the `@PostConstruct` triggering things too early.","body":"Which is probably due to the <code>@PostConstruct</code> triggering things too early."},{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1701169591,"post_id":77563031,"comment_id":136739372,"body_markdown":"@M.Deinum I don&#39;t see how it triggers the `routeLocator()` method","body":"@M.Deinum I don&#39;t see how it triggers the <code>routeLocator()</code> method"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701170188,"post_id":77563031,"comment_id":136739457,"body_markdown":"It links it upon construction to the refreshscope, the `RouteLocator` is refresh scoped. SO for the `RefreshScope` to be able to be used it needs a routelocator. The main issue is the injection/dependency on `RefreshScope`.","body":"It links it upon construction to the refreshscope, the <code>RouteLocator</code> is refresh scoped. SO for the <code>RefreshScope</code> to be able to be used it needs a routelocator. The main issue is the injection/dependency on <code>RefreshScope</code>."},{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1701170424,"post_id":77563031,"comment_id":136739494,"body_markdown":"@M.Deinum I removed the dependency, the problem stays the same","body":"@M.Deinum I removed the dependency, the problem stays the same"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701171163,"post_id":77563031,"comment_id":136739616,"body_markdown":"You need to remove the constructor argument, commenting the field and the field usage doesn&#39;t break the dependency.","body":"You need to remove the constructor argument, commenting the field and the field usage doesn&#39;t break the dependency."},{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1701171838,"post_id":77563031,"comment_id":136739745,"body_markdown":"@M.Deinum `RefreshedScope` was used exactly three times: field declaration, constructor, `@PostConstruct`. I removed (commented out) all three usages and ran one more time","body":"@M.Deinum <code>RefreshedScope</code> was used exactly three times: field declaration, constructor, <code>@PostConstruct</code>. I removed (commented out) all three usages and ran one more time"},{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1701189610,"post_id":77563031,"comment_id":136743285,"body_markdown":"*ran it one more time","body":"*ran it one more time"}],"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701349339,"creation_date":1701166647,"question_id":77563031,"body_markdown":"Here&#39;s a general idea: a custom `RouteLocatorProvider` collects all registered Eureka services, visits their Swagger endpoints, retrieves docs, maps them to routing functions and then builds a `RouteLocator`. I also want it to be refreshed on Eureka&#39;s `CacheRefreshedEvent`s. Sounds great (so dynamic), but I personally haven&#39;t yet achieved this goal. I have some circular dependency issue whose cause (and resolution) is not immediately clear to me\r\n```java\r\n@SpringBootApplication\r\npublic class ApiGatewayV2Application {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(ApiGatewayV2Application.class, args);\r\n    }\r\n}\r\n```\r\n```java\r\n@Configuration\r\n@ComponentScan(basePackages = &quot;by.afinny.apigateway&quot;)\r\npublic class RouteLocatorConfig {\r\n    @Bean\r\n    @RefreshScope\r\n    public RouteLocator routeLocator(RouteLocatorProvider routeLocatorProvider) {\r\n        return routeLocatorProvider.getRouteLocator();\r\n    }\r\n}\r\n```\r\n```java\r\n@Configuration\r\npublic class WebClientConfig {\r\n    @Bean\r\n    @LoadBalanced\r\n    public WebClient.Builder webClientBuilder() {\r\n        return WebClient.builder();\r\n    }\r\n}\r\n```\r\n```java\r\n@Component\r\n@Slf4j\r\npublic class RouteLocatorProvider {\r\n    public static final String LOAD_BALANCER_SCHEME = &quot;lb://&quot;;\r\n    public static final Duration DOC_RETRIEVAL_TIMEOUT = Duration.ofSeconds(10);\r\n    public static final String API_DOCS_PATH = &quot;/v3/api-docs&quot;;\r\n    private final EurekaClient eurekaClient;\r\n    private final WebClient.Builder webClientBuilder;\r\n    private final RouteLocatorBuilder routeLocatorBuilder;\r\n    private final OpenAPIV3Parser apiParser;\r\n    private final RefreshScope refreshScope;\r\n    @Getter\r\n    private RouteLocator routeLocator;\r\n\r\n    public RouteLocatorProvider(EurekaClient eurekaClient, WebClient.Builder webClientBuilder,\r\n                                RouteLocatorBuilder routeLocatorBuilder, RefreshScope refreshScope) {\r\n        this.eurekaClient = eurekaClient;\r\n        this.webClientBuilder = webClientBuilder;\r\n        this.routeLocatorBuilder = routeLocatorBuilder;\r\n        this.refreshScope = refreshScope;\r\n        this.apiParser = new OpenAPIV3Parser();\r\n    }\r\n\r\n    @PostConstruct\r\n    public void registerListener() {\r\n        refreshRoutings(); // get initial endpoints\r\n        eurekaClient.registerEventListener(event -&gt; { // refresh if Eureka refreshes\r\n            if (event instanceof CacheRefreshedEvent) {\r\n                refreshRoutings();\r\n                refreshScope.refresh(RouteLocator.class);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void refreshRoutings() {\r\n        log.info(&quot;Services discovery started.&quot;);\r\n        List&lt;Application&gt; applications = findOtherRegisteredApplications();\r\n        Map&lt;Application, SwaggerParseResult&gt; docs = mapToDocs(applications);\r\n        routeLocator = buildRouteLocatorFrom(docs);\r\n    }\r\n\r\n    // fine\r\n    private List&lt;Application&gt; findOtherRegisteredApplications() {\r\n        List&lt;Application&gt; applications;\r\n        applications = eurekaClient.getApplications()\r\n                .getRegisteredApplications()\r\n                .stream()\r\n                .filter(application -&gt; !application.getName().equals(getGatewayAppName()))\r\n                .toList();\r\n        return applications;\r\n    }\r\n\r\n    // fine\r\n    private String getGatewayAppName() {\r\n        return eurekaClient.getApplicationInfoManager()\r\n                .getInfo()\r\n                .getAppName();\r\n    }\r\n\r\n    // fine\r\n    private Map&lt;Application, SwaggerParseResult&gt; mapToDocs(List&lt;Application&gt; applications) {\r\n        Map&lt;Application, SwaggerParseResult&gt; appsToDocs = new HashMap&lt;&gt;();\r\n        applications.forEach(application -&gt; {\r\n            Optional&lt;SwaggerParseResult&gt; optionalDoc = findApplicationDoc(application);\r\n            optionalDoc.ifPresentOrElse(\r\n                    doc -&gt; appsToDocs.put(application, doc),\r\n                    () -&gt; log.warn(MessageFormat.format(&quot;Could not load documentation for {0}&quot;, application.getName())));\r\n        });\r\n        return appsToDocs;\r\n    }\r\n\r\n    // bam! it breaks\r\n    private Optional&lt;SwaggerParseResult&gt; findApplicationDoc(Application application) {\r\n        return Optional&lt;SwaggerParseResult&gt; doc = webClientBuilder.build()\r\n                .get()\r\n                .uri(LOAD_BALANCER_SCHEME + application.getName() + API_DOCS_PATH)\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .map(apiParser::readContents)\r\n                .blockOptional(DOC_RETRIEVAL_TIMEOUT);\r\n    }\r\n\r\n    // let&#39;s keep it like that for now to make it look more like an MRE\r\n    private RouteLocator buildRouteLocatorFrom(Map&lt;Application, SwaggerParseResult&gt; appsToDocs) {\r\n        return routeLocatorBuilder.routes().build();\r\n    }\r\n}\r\n```\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.4&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;by.a-finny&lt;/groupId&gt;\r\n    &lt;artifactId&gt;api-gateway-v2&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;API-Gateway&lt;/name&gt;\r\n    &lt;description&gt;API-Gateway Service v2&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-starter-webflux-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.swagger.parser.v3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;swagger-parser&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.18&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nHere&#39;s what I get on startup (it fails):\r\n```\r\nThe dependencies of some of the beans in the application context form a cycle:\r\n\r\n┌─────┐\r\n|  routeLocatorProvider\r\n↑     ↓\r\n|  scopedTarget.routeLocator defined in class path resource [by/afinny/apigateway/config/GatewayConfig.class]\r\n└─────┘\r\n```\r\nI tried to narrow down the cause. Here&#39;s what I found:\r\n```java\r\n    // fine\r\n    private Optional&lt;SwaggerParseResult&gt; findApplicationDoc(Application application) {\r\n        var something = webClientBuilder.build()\r\n                .get()\r\n                .uri(LOAD_BALANCER_SCHEME + application.getName() + API_DOCS_PATH)\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .map(apiParser::readContents);\r\n        return Optional.empty();\r\n```\r\n```java\r\n    // not fine\r\n    private Optional&lt;SwaggerParseResult&gt; findApplicationDoc(Application application) {\r\n        var something = webClientBuilder.build()\r\n                .get()\r\n                .uri(LOAD_BALANCER_SCHEME + application.getName() + API_DOCS_PATH)\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .map(apiParser::readContents)\r\n                .blockOptional(DOC_RETRIEVAL_TIMEOUT); // this line is problematic\r\n        return Optional.empty();\r\n```\r\nWhat&#39;s so special about that line that creates a circular dependency and how do I resolve this?\r\n\r\n# What I tried:\r\n\r\n*(the list&#39;s not exhaustive)*\r\n\r\n1. M. Deinum suggested it may be due to the `RefreshScope` dependency in `RouteLocatorProvider`. But the exception persists even if I remove the dependency altogether\r\n```java\r\n//    private final RefreshScope refreshScope;\r\n\r\n// and so on\r\n```\r\n2. Maybe, I can refresh the bean in the same configuration class? I tried this:\r\n```java\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class RouteLocatorConfig {\r\n    private final EurekaClient eurekaClient;\r\n    private final org.springframework.cloud.context.scope.refresh.RefreshScope refresher;\r\n\r\n    @PostConstruct\r\n    public void registerListener() {\r\n        eurekaClient.registerEventListener(event -&gt; {\r\n            if (event instanceof CacheRefreshedEvent) {\r\n                refresher.refresh(RouteLocator.class);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Bean\r\n    @RefreshScope\r\n    public RouteLocator routeLocator(RouteLocatorProvider routeLocatorProvider) {\r\n        return routeLocatorProvider.buildRouteLocator();\r\n    }\r\n```\r\n```java\r\n// inside RouteLocatorProvider\r\n\r\n    // slightly modified refreshRoutings(), the rest is the same\r\n    public RouteLocator buildRouteLocator() {\r\n        log.info(&quot;Services discovery started.&quot;);\r\n        List&lt;Application&gt; applications = findOtherRegisteredApplications();\r\n        Map&lt;Application, SwaggerParseResult&gt; docs = mapToDocs(applications);\r\n        return buildRouteLocatorFrom(docs);\r\n    }\r\n```\r\nHowever, I get this (which makes sense if you think about it):\r\n```\r\nCaused by: org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;scopedTarget.routeLocator&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?\r\n```\r\nWhat I suspect is that `WebClient` is somehow dependent on `RouteLocator` so when I try to retrieve the docs in `findApplicationDoc(..)`, it discovers that `RouteLocator` is still being built and throws an exception\r\n\r\nSo if I can&#39;t refresh `@RefreshScope` beans from outside of the config class *and* also can&#39;t refresh them from within that class itself, where on earth should I invoke that `refresh(..)` method?\r\n\r\n# UPD\r\n\r\nHere&#39;s a quick summary of what happens. Details are kindly provided by the IntelliJ debugger\r\n\r\nMy config has a `@Bean` method that delegates to `RouteLocatorProvider` to get a fresh `RouteLocator`\r\n\r\nThe `RouteLocatorProvider` uses a `WebClient` to fetch API docs from microservices, including my `HELLOWORLD` service (created for testing purposes)\r\n\r\n`WebClient` tries to resolve the service name, `HELLOWORLD`, to a host and a port. A few lambdas later, this job is taken by a `ReactorLoadBalancerExchangeFilterFunction`\r\n```java\r\n// at this point, serviceId is HELLOWORLD\r\nloadBalancerFactory.getInstances(serviceId, LoadBalancerLifecycle.class) // b\r\n```\r\nIt goes to its `NamedContextFactory`. For some reason, it tries to map a service name to a `GenericApplicationContext`\r\n```java\r\n    public &lt;T&gt; Map&lt;String, T&gt; getInstances(String name, Class&lt;T&gt; type) {\r\n        GenericApplicationContext context = getContext(name); // b\r\n\r\n        return BeanFactoryUtils.beansOfTypeIncludingAncestors(context, type);\r\n    }\r\n```\r\nThere&#39;s no context for that service name (why would it be?) so it creates it\r\n```java\r\n    protected GenericApplicationContext getContext(String name) {\r\n        if (!this.contexts.containsKey(name)) {\r\n            synchronized (this.contexts) {\r\n                if (!this.contexts.containsKey(name)) {\r\n                    this.contexts.put(name, createContext(name)); // b\r\n                }\r\n            }\r\n        }\r\n        return this.contexts.get(name);\r\n    }\r\n```\r\nSome context publishes a `ContextRefreshedEvent`\r\n```java\r\npublishEvent(new ContextRefreshedEvent(this)); // b\r\n```\r\nSome `RouteRefreshListener` triggers the process of getting `Route`s\r\n\r\nI&#39;m not sure what `RefreshRoutesEvent` does (no docs), but apparently it&#39;s not an *event* (something already happened and a publisher doesn&#39;t care how listeners act on it, if at all), but rather a specific command to &quot;listeners&quot;, &quot;Go and refresh routes&quot;\r\n```java\r\n    @Override\r\n    public void onApplicationEvent(ApplicationEvent event) {\r\n        if (event instanceof ContextRefreshedEvent) {\r\n            ContextRefreshedEvent refreshedEvent = (ContextRefreshedEvent) event;\r\n            if (!WebServerApplicationContext.hasServerNamespace(refreshedEvent.getApplicationContext(), &quot;management&quot;)) {\r\n                reset(); // b\r\n            }\r\n        }\r\n```\r\n```java\r\n    private void reset() {\r\n        this.publisher.publishEvent(new RefreshRoutesEvent(this));\r\n    }\r\n```\r\nThen there&#39;s an attempt to get a `RouteLocator` from a context (I guess to invoke its `getRoutes()` method), we have a circular dependency and an exception","title":"Can&#39;t refresh a refresh-scoped RouteLocator","body":"<p>Here's a general idea: a custom <code>RouteLocatorProvider</code> collects all registered Eureka services, visits their Swagger endpoints, retrieves docs, maps them to routing functions and then builds a <code>RouteLocator</code>. I also want it to be refreshed on Eureka's <code>CacheRefreshedEvent</code>s. Sounds great (so dynamic), but I personally haven't yet achieved this goal. I have some circular dependency issue whose cause (and resolution) is not immediately clear to me</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class ApiGatewayV2Application {\n    public static void main(String[] args) {\n        SpringApplication.run(ApiGatewayV2Application.class, args);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@ComponentScan(basePackages = &quot;by.afinny.apigateway&quot;)\npublic class RouteLocatorConfig {\n    @Bean\n    @RefreshScope\n    public RouteLocator routeLocator(RouteLocatorProvider routeLocatorProvider) {\n        return routeLocatorProvider.getRouteLocator();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebClientConfig {\n    @Bean\n    @LoadBalanced\n    public WebClient.Builder webClientBuilder() {\n        return WebClient.builder();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Slf4j\npublic class RouteLocatorProvider {\n    public static final String LOAD_BALANCER_SCHEME = &quot;lb://&quot;;\n    public static final Duration DOC_RETRIEVAL_TIMEOUT = Duration.ofSeconds(10);\n    public static final String API_DOCS_PATH = &quot;/v3/api-docs&quot;;\n    private final EurekaClient eurekaClient;\n    private final WebClient.Builder webClientBuilder;\n    private final RouteLocatorBuilder routeLocatorBuilder;\n    private final OpenAPIV3Parser apiParser;\n    private final RefreshScope refreshScope;\n    @Getter\n    private RouteLocator routeLocator;\n\n    public RouteLocatorProvider(EurekaClient eurekaClient, WebClient.Builder webClientBuilder,\n                                RouteLocatorBuilder routeLocatorBuilder, RefreshScope refreshScope) {\n        this.eurekaClient = eurekaClient;\n        this.webClientBuilder = webClientBuilder;\n        this.routeLocatorBuilder = routeLocatorBuilder;\n        this.refreshScope = refreshScope;\n        this.apiParser = new OpenAPIV3Parser();\n    }\n\n    @PostConstruct\n    public void registerListener() {\n        refreshRoutings(); // get initial endpoints\n        eurekaClient.registerEventListener(event -&gt; { // refresh if Eureka refreshes\n            if (event instanceof CacheRefreshedEvent) {\n                refreshRoutings();\n                refreshScope.refresh(RouteLocator.class);\n            }\n        });\n    }\n\n    private void refreshRoutings() {\n        log.info(&quot;Services discovery started.&quot;);\n        List&lt;Application&gt; applications = findOtherRegisteredApplications();\n        Map&lt;Application, SwaggerParseResult&gt; docs = mapToDocs(applications);\n        routeLocator = buildRouteLocatorFrom(docs);\n    }\n\n    // fine\n    private List&lt;Application&gt; findOtherRegisteredApplications() {\n        List&lt;Application&gt; applications;\n        applications = eurekaClient.getApplications()\n                .getRegisteredApplications()\n                .stream()\n                .filter(application -&gt; !application.getName().equals(getGatewayAppName()))\n                .toList();\n        return applications;\n    }\n\n    // fine\n    private String getGatewayAppName() {\n        return eurekaClient.getApplicationInfoManager()\n                .getInfo()\n                .getAppName();\n    }\n\n    // fine\n    private Map&lt;Application, SwaggerParseResult&gt; mapToDocs(List&lt;Application&gt; applications) {\n        Map&lt;Application, SwaggerParseResult&gt; appsToDocs = new HashMap&lt;&gt;();\n        applications.forEach(application -&gt; {\n            Optional&lt;SwaggerParseResult&gt; optionalDoc = findApplicationDoc(application);\n            optionalDoc.ifPresentOrElse(\n                    doc -&gt; appsToDocs.put(application, doc),\n                    () -&gt; log.warn(MessageFormat.format(&quot;Could not load documentation for {0}&quot;, application.getName())));\n        });\n        return appsToDocs;\n    }\n\n    // bam! it breaks\n    private Optional&lt;SwaggerParseResult&gt; findApplicationDoc(Application application) {\n        return Optional&lt;SwaggerParseResult&gt; doc = webClientBuilder.build()\n                .get()\n                .uri(LOAD_BALANCER_SCHEME + application.getName() + API_DOCS_PATH)\n                .retrieve()\n                .bodyToMono(String.class)\n                .map(apiParser::readContents)\n                .blockOptional(DOC_RETRIEVAL_TIMEOUT);\n    }\n\n    // let's keep it like that for now to make it look more like an MRE\n    private RouteLocator buildRouteLocatorFrom(Map&lt;Application, SwaggerParseResult&gt; appsToDocs) {\n        return routeLocatorBuilder.routes().build();\n    }\n}\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;by.a-finny&lt;/groupId&gt;\n    &lt;artifactId&gt;api-gateway-v2&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;API-Gateway&lt;/name&gt;\n    &lt;description&gt;API-Gateway Service v2&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webflux-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger.parser.v3&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-parser&lt;/artifactId&gt;\n            &lt;version&gt;2.1.18&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Here's what I get on startup (it fails):</p>\n<pre><code>The dependencies of some of the beans in the application context form a cycle:\n\n┌─────┐\n|  routeLocatorProvider\n↑     ↓\n|  scopedTarget.routeLocator defined in class path resource [by/afinny/apigateway/config/GatewayConfig.class]\n└─────┘\n</code></pre>\n<p>I tried to narrow down the cause. Here's what I found:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    // fine\n    private Optional&lt;SwaggerParseResult&gt; findApplicationDoc(Application application) {\n        var something = webClientBuilder.build()\n                .get()\n                .uri(LOAD_BALANCER_SCHEME + application.getName() + API_DOCS_PATH)\n                .retrieve()\n                .bodyToMono(String.class)\n                .map(apiParser::readContents);\n        return Optional.empty();\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    // not fine\n    private Optional&lt;SwaggerParseResult&gt; findApplicationDoc(Application application) {\n        var something = webClientBuilder.build()\n                .get()\n                .uri(LOAD_BALANCER_SCHEME + application.getName() + API_DOCS_PATH)\n                .retrieve()\n                .bodyToMono(String.class)\n                .map(apiParser::readContents)\n                .blockOptional(DOC_RETRIEVAL_TIMEOUT); // this line is problematic\n        return Optional.empty();\n</code></pre>\n<p>What's so special about that line that creates a circular dependency and how do I resolve this?</p>\n<h1>What I tried:</h1>\n<p><em>(the list's not exhaustive)</em></p>\n<ol>\n<li>M. Deinum suggested it may be due to the <code>RefreshScope</code> dependency in <code>RouteLocatorProvider</code>. But the exception persists even if I remove the dependency altogether</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>//    private final RefreshScope refreshScope;\n\n// and so on\n</code></pre>\n<ol start=\"2\">\n<li>Maybe, I can refresh the bean in the same configuration class? I tried this:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@RequiredArgsConstructor\npublic class RouteLocatorConfig {\n    private final EurekaClient eurekaClient;\n    private final org.springframework.cloud.context.scope.refresh.RefreshScope refresher;\n\n    @PostConstruct\n    public void registerListener() {\n        eurekaClient.registerEventListener(event -&gt; {\n            if (event instanceof CacheRefreshedEvent) {\n                refresher.refresh(RouteLocator.class);\n            }\n        });\n    }\n\n    @Bean\n    @RefreshScope\n    public RouteLocator routeLocator(RouteLocatorProvider routeLocatorProvider) {\n        return routeLocatorProvider.buildRouteLocator();\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// inside RouteLocatorProvider\n\n    // slightly modified refreshRoutings(), the rest is the same\n    public RouteLocator buildRouteLocator() {\n        log.info(&quot;Services discovery started.&quot;);\n        List&lt;Application&gt; applications = findOtherRegisteredApplications();\n        Map&lt;Application, SwaggerParseResult&gt; docs = mapToDocs(applications);\n        return buildRouteLocatorFrom(docs);\n    }\n</code></pre>\n<p>However, I get this (which makes sense if you think about it):</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'scopedTarget.routeLocator': Requested bean is currently in creation: Is there an unresolvable circular reference?\n</code></pre>\n<p>What I suspect is that <code>WebClient</code> is somehow dependent on <code>RouteLocator</code> so when I try to retrieve the docs in <code>findApplicationDoc(..)</code>, it discovers that <code>RouteLocator</code> is still being built and throws an exception</p>\n<p>So if I can't refresh <code>@RefreshScope</code> beans from outside of the config class <em>and</em> also can't refresh them from within that class itself, where on earth should I invoke that <code>refresh(..)</code> method?</p>\n<h1>UPD</h1>\n<p>Here's a quick summary of what happens. Details are kindly provided by the IntelliJ debugger</p>\n<p>My config has a <code>@Bean</code> method that delegates to <code>RouteLocatorProvider</code> to get a fresh <code>RouteLocator</code></p>\n<p>The <code>RouteLocatorProvider</code> uses a <code>WebClient</code> to fetch API docs from microservices, including my <code>HELLOWORLD</code> service (created for testing purposes)</p>\n<p><code>WebClient</code> tries to resolve the service name, <code>HELLOWORLD</code>, to a host and a port. A few lambdas later, this job is taken by a <code>ReactorLoadBalancerExchangeFilterFunction</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>// at this point, serviceId is HELLOWORLD\nloadBalancerFactory.getInstances(serviceId, LoadBalancerLifecycle.class) // b\n</code></pre>\n<p>It goes to its <code>NamedContextFactory</code>. For some reason, it tries to map a service name to a <code>GenericApplicationContext</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    public &lt;T&gt; Map&lt;String, T&gt; getInstances(String name, Class&lt;T&gt; type) {\n        GenericApplicationContext context = getContext(name); // b\n\n        return BeanFactoryUtils.beansOfTypeIncludingAncestors(context, type);\n    }\n</code></pre>\n<p>There's no context for that service name (why would it be?) so it creates it</p>\n<pre class=\"lang-java prettyprint-override\"><code>    protected GenericApplicationContext getContext(String name) {\n        if (!this.contexts.containsKey(name)) {\n            synchronized (this.contexts) {\n                if (!this.contexts.containsKey(name)) {\n                    this.contexts.put(name, createContext(name)); // b\n                }\n            }\n        }\n        return this.contexts.get(name);\n    }\n</code></pre>\n<p>Some context publishes a <code>ContextRefreshedEvent</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>publishEvent(new ContextRefreshedEvent(this)); // b\n</code></pre>\n<p>Some <code>RouteRefreshListener</code> triggers the process of getting <code>Route</code>s</p>\n<p>I'm not sure what <code>RefreshRoutesEvent</code> does (no docs), but apparently it's not an <em>event</em> (something already happened and a publisher doesn't care how listeners act on it, if at all), but rather a specific command to &quot;listeners&quot;, &quot;Go and refresh routes&quot;</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void onApplicationEvent(ApplicationEvent event) {\n        if (event instanceof ContextRefreshedEvent) {\n            ContextRefreshedEvent refreshedEvent = (ContextRefreshedEvent) event;\n            if (!WebServerApplicationContext.hasServerNamespace(refreshedEvent.getApplicationContext(), &quot;management&quot;)) {\n                reset(); // b\n            }\n        }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    private void reset() {\n        this.publisher.publishEvent(new RefreshRoutesEvent(this));\n    }\n</code></pre>\n<p>Then there's an attempt to get a <code>RouteLocator</code> from a context (I guess to invoke its <code>getRoutes()</code> method), we have a circular dependency and an exception</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3007659,"reputation":647,"user_id":2551817,"accept_rate":25,"display_name":"sofend"},"score":0,"creation_date":1543353208,"post_id":53508168,"comment_id":93886317,"body_markdown":"The definition of a Relation is a mapping from a key to the tuple of values (the row).  So... you do need a key.  Of course, you can use the entire row as the key if you choose - though normally a subset of the fields would make a natural key.  JPA supports multi-column keys and that&#39;s probably what you&#39;d want in this case.","body":"The definition of a Relation is a mapping from a key to the tuple of values (the row).  So... you do need a key.  Of course, you can use the entire row as the key if you choose - though normally a subset of the fields would make a natural key.  JPA supports multi-column keys and that&#39;s probably what you&#39;d want in this case."}],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543389710,"creation_date":1543353811,"answer_id":53508351,"question_id":53508168,"body_markdown":"**About Entity ID mapping**   \r\n\r\nIf you can change the view definition, you could use add the rownum as column.   \r\nIt is generally specific to the DBMS. The idea is to make the row number in the table the id of the entity.   \r\nAs alternative you could use the a generator of unique id. [`UUID`][2] is a possibility.\r\nAt last you could stick to native SQL while benefiting from JPA/Hibernate to map the native query results to a specific class representing the view data.   \r\n\r\n**About Spring Data Repository**\r\n\r\nIf views don&#39;t fit naturally into the Spring Data Repository requirements, it probably means that using views instead of tables is not necessary suitable for.   \r\n\r\nIndeed Spring Data repositories classes such as `CrudRepository` or `JpaRepository` are designed to provide out of the box CRUD operations and some additional processing for a specific entity class.  \r\nThe views in terms of DBMS are not included in as you select it but you don&#39;t update, insert or delete directly any row from the view.   \r\nBesides, what would be the added value to use such Repository beans for a view ? \r\nYou will use almost nothing of the generated implementation provided by Spring.   \r\n\r\nIn your case if you define the view as an entity I think that using `JpaTemplate` would make more sense.   \r\nIt is just a layer on top of the JPA API.  \r\nFrom [the documentation][1]  :\r\n\r\n&gt; JpaTemplate can be considered as direct alternative to working with\r\n&gt; the native JPA EntityManager API (through a shared EntityManager\r\n&gt; reference, as outlined above). The major advantage is its automatic\r\n&gt; conversion to DataAccessExceptions; the major disadvantage is that it\r\n&gt; introduces another thin layer on top of the native JPA API. Note that\r\n&gt; exception translation can also be achieved through AOP advice; check\r\n&gt; out PersistenceExceptionTranslationPostProcessor\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/3.0.x/javadoc-api/org/springframework/orm/jpa/JpaTemplate.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/UUID.html","title":"JPA/SpringBoot Repository for database view (not table)","body":"<p><strong>About Entity ID mapping</strong>   </p>\n\n<p>If you can change the view definition, you could use add the rownum as column.<br>\nIt is generally specific to the DBMS. The idea is to make the row number in the table the id of the entity.<br>\nAs alternative you could use the a generator of unique id. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/UUID.html\" rel=\"nofollow noreferrer\"><code>UUID</code></a> is a possibility.\nAt last you could stick to native SQL while benefiting from JPA/Hibernate to map the native query results to a specific class representing the view data.   </p>\n\n<p><strong>About Spring Data Repository</strong></p>\n\n<p>If views don't fit naturally into the Spring Data Repository requirements, it probably means that using views instead of tables is not necessary suitable for.   </p>\n\n<p>Indeed Spring Data repositories classes such as <code>CrudRepository</code> or <code>JpaRepository</code> are designed to provide out of the box CRUD operations and some additional processing for a specific entity class.<br>\nThe views in terms of DBMS are not included in as you select it but you don't update, insert or delete directly any row from the view.<br>\nBesides, what would be the added value to use such Repository beans for a view ? \nYou will use almost nothing of the generated implementation provided by Spring.   </p>\n\n<p>In your case if you define the view as an entity I think that using <code>JpaTemplate</code> would make more sense.<br>\nIt is just a layer on top of the JPA API.<br>\nFrom <a href=\"https://docs.spring.io/spring/docs/3.0.x/javadoc-api/org/springframework/orm/jpa/JpaTemplate.html\" rel=\"nofollow noreferrer\">the documentation</a>  :</p>\n\n<blockquote>\n  <p>JpaTemplate can be considered as direct alternative to working with\n  the native JPA EntityManager API (through a shared EntityManager\n  reference, as outlined above). The major advantage is its automatic\n  conversion to DataAccessExceptions; the major disadvantage is that it\n  introduces another thin layer on top of the native JPA API. Note that\n  exception translation can also be achieved through AOP advice; check\n  out PersistenceExceptionTranslationPostProcessor</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13649956,"reputation":168,"user_id":9848112,"display_name":"Jos&#233; Luis Condori Jara"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1543354108,"creation_date":1543354108,"answer_id":53508427,"question_id":53508168,"body_markdown":"I hope this helps you, the id you can assign it to a united value in your view.\r\n\r\nWe map the view to a JPA object as:\r\n\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    import java.io.Serializable;\r\n\r\n    @Entity\r\n    @Table(name = &quot;my_view&quot;)\r\n    public class MyView implements Serializable {\r\n    private static final long serialVersionUID = 1L;\r\n    @Id\r\n    @Column(name = &quot;my_view_id&quot;)\r\n    private Long myViewId;\r\n    @NotNull\r\n    @Column(name = &quot;my_view_name&quot;)\r\n    private String myViewName;\r\n    }\r\n\r\nWe then create a repository:\r\n\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n\r\n    public interface MyViewRepository extends JpaRepository&lt;View, Long&gt; {\r\n    }\r\n\r\n\r\n","title":"JPA/SpringBoot Repository for database view (not table)","body":"<p>I hope this helps you, the id you can assign it to a united value in your view.</p>\n\n<p>We map the view to a JPA object as:</p>\n\n<pre><code>import javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport java.io.Serializable;\n\n@Entity\n@Table(name = \"my_view\")\npublic class MyView implements Serializable {\nprivate static final long serialVersionUID = 1L;\n@Id\n@Column(name = \"my_view_id\")\nprivate Long myViewId;\n@NotNull\n@Column(name = \"my_view_name\")\nprivate String myViewName;\n}\n</code></pre>\n\n<p>We then create a repository:</p>\n\n<pre><code>import org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface MyViewRepository extends JpaRepository&lt;View, Long&gt; {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":255080,"reputation":15519,"user_id":534877,"accept_rate":65,"display_name":"Robert Niestroj"},"down_vote_count":1,"up_vote_count":35,"is_accepted":true,"score":34,"last_activity_date":1701349167,"creation_date":1543354237,"answer_id":53508460,"question_id":53508168,"body_markdown":"I was exploring that topic too. I ended up using Spring Data JPA [Interface-based Projections][1] with native queries. \r\n\r\nI created an interface, making sure the UPPERCASE part matches the DB Column names:\r\n\r\n    public interface R11Dto {\r\n    \r\n       String getTITLE();\r\n    \r\n       Integer getAMOUNT();\r\n    \r\n       LocalDate getDATE_CREATED();\r\n    }\r\n\r\nThen i created a repository, for an Entity (User) not related in any way to the view. In that repository i created a simple native query. vReport1_1 is my view. \r\n\r\n    public interface RaportRepository extends JpaRepository&lt;User, Long&gt; {\r\n    \r\n       @Query(nativeQuery = true, value = &quot;SELECT * FROM vReport1_1 ORDER BY DATE_CREATED, AMOUNT&quot;)\r\n       List&lt;R11Dto&gt; getR11();\r\n    \r\n    }\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/reference/repositories/projections.html#projections.interfaces","title":"JPA/SpringBoot Repository for database view (not table)","body":"<p>I was exploring that topic too. I ended up using Spring Data JPA <a href=\"https://docs.spring.io/spring-data/jpa/reference/repositories/projections.html#projections.interfaces\" rel=\"nofollow noreferrer\">Interface-based Projections</a> with native queries.</p>\n<p>I created an interface, making sure the UPPERCASE part matches the DB Column names:</p>\n<pre><code>public interface R11Dto {\n\n   String getTITLE();\n\n   Integer getAMOUNT();\n\n   LocalDate getDATE_CREATED();\n}\n</code></pre>\n<p>Then i created a repository, for an Entity (User) not related in any way to the view. In that repository i created a simple native query. vReport1_1 is my view.</p>\n<pre><code>public interface RaportRepository extends JpaRepository&lt;User, Long&gt; {\n\n   @Query(nativeQuery = true, value = &quot;SELECT * FROM vReport1_1 ORDER BY DATE_CREATED, AMOUNT&quot;)\n   List&lt;R11Dto&gt; getR11();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":218158,"reputation":575,"user_id":3219180,"display_name":"garfield"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543379020,"creation_date":1543379020,"answer_id":53512101,"question_id":53508168,"body_markdown":"If your view doesn&#39;t have a candidate key you may add one through the creation query using something like the database UUID function and then use the UUID as the type for the ID the Entity.\r\n\r\nIf you need to make your Entity read-only you may annotate the fields with\r\n\r\n     @Column(insertable = false, updatable = false)\r\n\r\nOr annotate you entity class with org.hibernate.annotations.Immutable if your provider is Hibernate &gt;= 5.2.","title":"JPA/SpringBoot Repository for database view (not table)","body":"<p>If your view doesn't have a candidate key you may add one through the creation query using something like the database UUID function and then use the UUID as the type for the ID the Entity.</p>\n\n<p>If you need to make your Entity read-only you may annotate the fields with</p>\n\n<pre><code> @Column(insertable = false, updatable = false)\n</code></pre>\n\n<p>Or annotate you entity class with org.hibernate.annotations.Immutable if your provider is Hibernate >= 5.2.</p>\n"},{"tags":[],"owner":{"account_id":5564358,"reputation":1463,"user_id":4412223,"accept_rate":86,"display_name":"Janitha Madushan"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1580359425,"creation_date":1580359425,"answer_id":59979203,"question_id":53508168,"body_markdown":"**1. Create View with native SQL in the database,**\r\n\r\n    create or replace view hunters_summary as \r\n    select \r\n    em.id as emp_id, hh.id as hh_id\r\n    from employee em \r\n    inner join employee_type et on em.employee_type_id = et.id  \r\n    inner join head_hunter hh on hh.id = em.head_hunter_id;\r\n\r\n**2. Map that, View to an &#39;Immutable Entity&#39;**\r\n\r\n    package inc.manpower.domain;\r\n    \r\n    import org.hibernate.annotations.Immutable;\r\n    import org.hibernate.annotations.Subselect;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    import java.io.Serializable;\r\n    import java.util.Date;\r\n    \r\n    @Entity\r\n    @Immutable\r\n    @Table(name = &quot;`hunters_summary`&quot;)\r\n    @Subselect(&quot;select uuid() as id, hs.* from hunters_summary hs&quot;)\r\n    public class HuntersSummary implements Serializable {\r\n    \r\n        @Id\r\n        private String id;\r\n        private Long empId;\r\n        private String hhId;\r\n    \r\n        ...\r\n    }\r\n\r\n**3. Now create the Repository with your desired methods,**\r\n\r\n    package inc.manpower.repository;\r\n    \r\n    import inc.manpower.domain.HuntersSummary;\r\n    import org.springframework.data.repository.PagingAndSortingRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import javax.transaction.Transactional;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n\r\n    @Repository\r\n    @Transactional\r\n    public interface HuntersSummaryRepository extends PagingAndSortingRepository&lt;HuntersSummary, String&gt; {\r\n        List&lt;HuntersSummary&gt; findByEmpRecruitedDateBetweenAndHhId(Date startDate, Date endDate, String hhId);\r\n    }","title":"JPA/SpringBoot Repository for database view (not table)","body":"<p><strong>1. Create View with native SQL in the database,</strong></p>\n\n<pre><code>create or replace view hunters_summary as \nselect \nem.id as emp_id, hh.id as hh_id\nfrom employee em \ninner join employee_type et on em.employee_type_id = et.id  \ninner join head_hunter hh on hh.id = em.head_hunter_id;\n</code></pre>\n\n<p><strong>2. Map that, View to an 'Immutable Entity'</strong></p>\n\n<pre><code>package inc.manpower.domain;\n\nimport org.hibernate.annotations.Immutable;\nimport org.hibernate.annotations.Subselect;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport java.io.Serializable;\nimport java.util.Date;\n\n@Entity\n@Immutable\n@Table(name = \"`hunters_summary`\")\n@Subselect(\"select uuid() as id, hs.* from hunters_summary hs\")\npublic class HuntersSummary implements Serializable {\n\n    @Id\n    private String id;\n    private Long empId;\n    private String hhId;\n\n    ...\n}\n</code></pre>\n\n<p><strong>3. Now create the Repository with your desired methods,</strong></p>\n\n<pre><code>package inc.manpower.repository;\n\nimport inc.manpower.domain.HuntersSummary;\nimport org.springframework.data.repository.PagingAndSortingRepository;\nimport org.springframework.stereotype.Repository;\n\nimport javax.transaction.Transactional;\nimport java.util.Date;\nimport java.util.List;\n\n@Repository\n@Transactional\npublic interface HuntersSummaryRepository extends PagingAndSortingRepository&lt;HuntersSummary, String&gt; {\n    List&lt;HuntersSummary&gt; findByEmpRecruitedDateBetweenAndHhId(Date startDate, Date endDate, String hhId);\n}\n</code></pre>\n"}],"owner":{"account_id":1596692,"reputation":4260,"user_id":1478636,"accept_rate":88,"display_name":"Niko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90329,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":53508460,"answer_count":5,"score":40,"last_activity_date":1701349167,"creation_date":1543352971,"question_id":53508168,"body_markdown":"I&#39;m attempting to create a JPA entity for a view. From the database layer, a table and a view should be the same.\r\n\r\nHowever, problems begin to arise and they are two fold:\r\n\r\n1. When attempting to setup the correct annotations. A view does not have a primary key associated with it, yet without the proper `@javax.persistence.Id` annotated upon a field, you will get an `org.hibernate.AnnotationException: No identifier specified for entity` thrown at Runtime.\r\n\r\n2. The Spring Boot `JpaRepository` interface definition requires that the `ID` type extends `Serializable`, which precludes utilizing `java.lang.Void` as a work-around for the lack of an id on an view entity.\r\n\r\nWhat is the proper JPA/SpringBoot/Hibernate way to interact with a view that lacks a primary key?","title":"JPA/SpringBoot Repository for database view (not table)","body":"<p>I'm attempting to create a JPA entity for a view. From the database layer, a table and a view should be the same.</p>\n\n<p>However, problems begin to arise and they are two fold:</p>\n\n<ol>\n<li><p>When attempting to setup the correct annotations. A view does not have a primary key associated with it, yet without the proper <code>@javax.persistence.Id</code> annotated upon a field, you will get an <code>org.hibernate.AnnotationException: No identifier specified for entity</code> thrown at Runtime.</p></li>\n<li><p>The Spring Boot <code>JpaRepository</code> interface definition requires that the <code>ID</code> type extends <code>Serializable</code>, which precludes utilizing <code>java.lang.Void</code> as a work-around for the lack of an id on an view entity.</p></li>\n</ol>\n\n<p>What is the proper JPA/SpringBoot/Hibernate way to interact with a view that lacks a primary key?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9835,"page":24,"page_size":100}
