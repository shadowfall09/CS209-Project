{"items":[{"tags":["java","arrays","object"],"comments":[{"owner":{"account_id":2549152,"reputation":2083,"user_id":2213309,"accept_rate":67,"display_name":"flappix"},"score":2,"creation_date":1665254521,"post_id":73999597,"comment_id":130658775,"body_markdown":"Please add the code where your read the credit card information from the file and where you call the function ```insert```","body":"Please add the code where your read the credit card information from the file and where you call the function <code>insert</code>"},{"owner":{"account_id":24387209,"reputation":11,"user_id":18317798,"display_name":"anonymous"},"score":0,"creation_date":1665255434,"post_id":73999597,"comment_id":130658930,"body_markdown":"edited it to add where information is being read and where insert is being called","body":"edited it to add where information is being read and where insert is being called"},{"owner":{"account_id":2549152,"reputation":2083,"user_id":2213309,"accept_rate":67,"display_name":"flappix"},"score":0,"creation_date":1665258565,"post_id":73999597,"comment_id":130659554,"body_markdown":"where do you initialize ```accountsArray``` ? You probably  have a loop around your third code block. You have to initialize ```accountsArray```  outside of this loop.","body":"where do you initialize <code>accountsArray</code> ? You probably  have a loop around your third code block. You have to initialize <code>accountsArray</code>  outside of this loop."},{"owner":{"account_id":24387209,"reputation":11,"user_id":18317798,"display_name":"anonymous"},"score":0,"creation_date":1665259226,"post_id":73999597,"comment_id":130659714,"body_markdown":"accountsArray is being initialized in the class field at the top of my class","body":"accountsArray is being initialized in the class field at the top of my class"}],"answers":[{"tags":[],"owner":{"account_id":19535910,"reputation":76,"user_id":14294699,"display_name":"JKac"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1665255011,"creation_date":1665255011,"answer_id":73999704,"question_id":73999597,"body_markdown":"You should remove the break and the if statement. You&#39;re breaking out of the loop after the first iteration, sou you dont insert anything in accounts [1]. Also the if statement says after the first iteration dont add anything anymore, because the first index is not null. Thats why you keep getting the first account back.","title":"Adding Objects into Array Java","body":"<p>You should remove the break and the if statement. You're breaking out of the loop after the first iteration, sou you dont insert anything in accounts [1]. Also the if statement says after the first iteration dont add anything anymore, because the first index is not null. Thats why you keep getting the first account back.</p>\n"}],"owner":{"account_id":24387209,"reputation":11,"user_id":18317798,"display_name":"anonymous"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665255375,"creation_date":1665254152,"question_id":73999597,"body_markdown":"I have a class of credit card account information. The information is being read in from the file and needs to be stored into an array. So far the class is as defined:\r\n\r\n```\r\n    private CreditCardAccount[] accountsArray;\r\n\tprivate int fillLevel;\r\n\t\r\n\tpublic SortedArray() {\r\n\t\taccountsArray = new CreditCardAccount[1000];\r\n\t}\r\n\t\r\n\tprivate class CreditCardAccount{\r\n\t\t\r\n\t\tlong accountNum;\r\n\t\tString name;\r\n\t\tString address;\r\n\t\tdouble creditLimit;\r\n\t\tdouble balance;\r\n\t\t\r\n\t\tCreditCardAccount (long accountNum, String name, String address, double crerditLimit, double balance) {\r\n\t\t\t\r\n\t\t\tthis.accountNum = accountNum;\r\n\t\t\tthis.name = name;\r\n\t\t\tthis.address = address;\r\n\t\t\tthis.creditLimit = creditLimit;\r\n\t\t\tthis.balance = balance;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n```\r\n\r\nI am trying to insert the objects to an array but when I print out index 0 for example it keeps printing out the first credit card number repeatedly. Or when I try to print out index 1, it says the credit card number is null. I have tried this to insert:\r\n\r\n```\r\nprivate static void insert(SortedArray.CreditCardAccount[] accounts, CreditCardAccount account, int fillLevel) {\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; accounts.length; i++) {\r\n\t\t\t\r\n\t\t\tif(accounts[i] == null) {\r\n\t\t\t\t\r\n\t\t\t\taccounts[i] = account;\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(accounts[i].name);\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t} \r\n\t\t}\r\n\t}\r\n```\r\nThis part is from where I am reading in and calling createAccount\r\n```\r\noperation = opsFile.nextLine();\r\n\tlong acocuntNum = Long.parseLong(operation);\r\n\t\t\t\t\t\r\n\toperation = opsFile.nextLine();\r\n\tString name = operation;\r\n\t\t\t\t\t\r\n\toperation = opsFile.nextLine();\r\n\tString address = operation;\r\n\t\t\t\t\t\r\n\toperation = opsFile.nextLine();\r\n\tdouble creditLimit = Double.parseDouble(operation);\r\n\t\t\t\t\t\r\n\toperation = opsFile.nextLine();\r\n\tdouble balance = Double.parseDouble(operation);\r\n\t\t\t\t\t\r\n\tdatabase.createAccount(acocuntNum, name, address, creditLimit, balance);\r\n```\r\nThis is where insert is getting called:\r\n```\r\npublic boolean createAccount(long accountNumber, String name, String address, double creditLimit, double balance) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tboolean accountCreated = true;\r\n\t\t\r\n\t\t\r\n\t\tCreditCardAccount newAccount = new CreditCardAccount(accountNumber, name, address, creditLimit, balance);\r\n\t\t\r\n\t\tSortedArray.insert(accountsArray, newAccount, fillLevel);\r\n\t\t\r\n\t\treturn accountCreated;\r\n\t}\r\n```\r\nI think it is adding the first object to every index in the array. Does anyone have any suggestions as to how to fix this? ","title":"Adding Objects into Array Java","body":"<p>I have a class of credit card account information. The information is being read in from the file and needs to be stored into an array. So far the class is as defined:</p>\n<pre><code>    private CreditCardAccount[] accountsArray;\n    private int fillLevel;\n    \n    public SortedArray() {\n        accountsArray = new CreditCardAccount[1000];\n    }\n    \n    private class CreditCardAccount{\n        \n        long accountNum;\n        String name;\n        String address;\n        double creditLimit;\n        double balance;\n        \n        CreditCardAccount (long accountNum, String name, String address, double crerditLimit, double balance) {\n            \n            this.accountNum = accountNum;\n            this.name = name;\n            this.address = address;\n            this.creditLimit = creditLimit;\n            this.balance = balance;\n            \n        }\n        \n    }\n</code></pre>\n<p>I am trying to insert the objects to an array but when I print out index 0 for example it keeps printing out the first credit card number repeatedly. Or when I try to print out index 1, it says the credit card number is null. I have tried this to insert:</p>\n<pre><code>private static void insert(SortedArray.CreditCardAccount[] accounts, CreditCardAccount account, int fillLevel) {\n        \n        for(int i = 0; i &lt; accounts.length; i++) {\n            \n            if(accounts[i] == null) {\n                \n                accounts[i] = account;\n                \n                System.out.println(accounts[i].name);\n                \n                break;\n                \n                \n            } \n        }\n    }\n</code></pre>\n<p>This part is from where I am reading in and calling createAccount</p>\n<pre><code>operation = opsFile.nextLine();\n    long acocuntNum = Long.parseLong(operation);\n                    \n    operation = opsFile.nextLine();\n    String name = operation;\n                    \n    operation = opsFile.nextLine();\n    String address = operation;\n                    \n    operation = opsFile.nextLine();\n    double creditLimit = Double.parseDouble(operation);\n                    \n    operation = opsFile.nextLine();\n    double balance = Double.parseDouble(operation);\n                    \n    database.createAccount(acocuntNum, name, address, creditLimit, balance);\n</code></pre>\n<p>This is where insert is getting called:</p>\n<pre><code>public boolean createAccount(long accountNumber, String name, String address, double creditLimit, double balance) {\n        // TODO Auto-generated method stub\n        \n        boolean accountCreated = true;\n        \n        \n        CreditCardAccount newAccount = new CreditCardAccount(accountNumber, name, address, creditLimit, balance);\n        \n        SortedArray.insert(accountsArray, newAccount, fillLevel);\n        \n        return accountCreated;\n    }\n</code></pre>\n<p>I think it is adding the first object to every index in the array. Does anyone have any suggestions as to how to fix this?</p>\n"},{"tags":["java","selenium","selenium-webdriver","cucumber","gherkin"],"comments":[{"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"score":0,"creation_date":1552313383,"post_id":55103460,"comment_id":96950249,"body_markdown":"Can you share your html?","body":"Can you share your html?"},{"owner":{"account_id":13383143,"reputation":531,"user_id":9658618,"display_name":"SeekanDestroy"},"score":0,"creation_date":1552314157,"post_id":55103460,"comment_id":96950721,"body_markdown":"Sure, i just edited the post adding the html code. Cheers","body":"Sure, i just edited the post adding the html code. Cheers"}],"answers":[{"tags":[],"owner":{"account_id":314149,"reputation":1783,"user_id":629186,"accept_rate":69,"display_name":"MivaScott"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552319483,"creation_date":1552319483,"answer_id":55105649,"question_id":55103460,"body_markdown":"One of your FindBy statements are wrong.\r\n\r\n    @FindBy(how = How.ID, using = &quot;\\&quot;DTE_Field_sufijo\\&quot;&quot;)\r\n\r\nYou are saying that the ID **includes** the extra quotes. It should read:\r\n\r\n    @FindBy(how = How.ID, using = &quot;DTE_Field_sufijo&quot;)\r\n\r\nTry making that change and see if it works. Otherwise, you&#39;ll need to include the actual error message to help pin down where the problem is.","title":"Cannot locate Element that exist, getting NullPointerException instead of NoSuchElement","body":"<p>One of your FindBy statements are wrong.</p>\n\n<pre><code>@FindBy(how = How.ID, using = \"\\\"DTE_Field_sufijo\\\"\")\n</code></pre>\n\n<p>You are saying that the ID <strong>includes</strong> the extra quotes. It should read:</p>\n\n<pre><code>@FindBy(how = How.ID, using = \"DTE_Field_sufijo\")\n</code></pre>\n\n<p>Try making that change and see if it works. Otherwise, you'll need to include the actual error message to help pin down where the problem is.</p>\n"},{"tags":[],"owner":{"account_id":5178355,"reputation":3548,"user_id":4144749,"display_name":"Fenio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1552374469,"creation_date":1552374469,"answer_id":55115865,"question_id":55103460,"body_markdown":"You are missing initialization of PageFactory, that&#39;s why you get `NullPointerException` instead of `NoSuchElementException`\r\n\r\nAdd constructor like this:\r\n\r\n```\r\npublic class tableTestStepDefs {\r\n\r\n@FindBy(how = How.XPATH, using = &quot;//*[@id=\\&quot;contenido-table\\&quot;]/tbody/tr[1]/td[3]&quot;)\r\npublic WebElement cell1;\r\n@FindBy(how = How.ID, using = &quot;\\&quot;DTE_Field_sufijo\\&quot;&quot;)\r\npublic WebElement editableCell1;\r\n\r\npublic tableTestStepDefs() { //this!\r\n    PageFactory.initElements(driver, this);\r\n}\r\n\r\n@When(&quot;^i click on cell1 to make it editable$&quot;)\r\npublic void hagoClickEnUnaCeldaDeLaColumnaSufijo(){\r\ndriver.get(&quot;http://192.168.242.104:7777/some/context&quot;);\r\ncell1.click();\r\n}\r\n```","title":"Cannot locate Element that exist, getting NullPointerException instead of NoSuchElement","body":"<p>You are missing initialization of PageFactory, that's why you get <code>NullPointerException</code> instead of <code>NoSuchElementException</code></p>\n\n<p>Add constructor like this:</p>\n\n<pre><code>public class tableTestStepDefs {\n\n@FindBy(how = How.XPATH, using = \"//*[@id=\\\"contenido-table\\\"]/tbody/tr[1]/td[3]\")\npublic WebElement cell1;\n@FindBy(how = How.ID, using = \"\\\"DTE_Field_sufijo\\\"\")\npublic WebElement editableCell1;\n\npublic tableTestStepDefs() { //this!\n    PageFactory.initElements(driver, this);\n}\n\n@When(\"^i click on cell1 to make it editable$\")\npublic void hagoClickEnUnaCeldaDeLaColumnaSufijo(){\ndriver.get(\"http://192.168.242.104:7777/some/context\");\ncell1.click();\n}\n</code></pre>\n"}],"owner":{"account_id":13383143,"reputation":531,"user_id":9658618,"display_name":"SeekanDestroy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":55115865,"answer_count":2,"score":0,"last_activity_date":1665254635,"creation_date":1552312631,"question_id":55103460,"body_markdown":"I&#39;m trying to automatize a web datatable testing. I&#39;m getting this NullPointerException in every WebElement object I&#39;m using to locate. My code is simple as possible:\r\n\r\n    public class tableTestStepDefs {\r\n\r\n    @FindBy(how = How.XPATH, using = &quot;//*[@id=\\&quot;contenido-table\\&quot;]/tbody/tr[1]/td[3]&quot;)\r\n    public WebElement cell1;\r\n    @FindBy(how = How.ID, using = &quot;\\&quot;DTE_Field_sufijo\\&quot;&quot;)\r\n    public WebElement editableCell1;\r\n\r\n    @When(&quot;^I click on cell1 to make it editable$&quot;)\r\n    public void hagoClickEnUnaCeldaDeLaColumnaSufijo(){\r\n    driver.get(&quot;http://192.168.242.104:7777/some/context&quot;);\r\n    cell1.click();\r\n    }\r\n\r\nI&#39;m getting NullPointerException in every object, instead of NoSuchElementException which is the one I usually get when the driver cannot find some element,  while the driver is properly entering the page. If I debug, I can locate all the elements with the same id or xpath expression in the driver&#39;s instance. No idea what&#39;s going on\r\n\r\nHere is the HTML part:\r\n\r\n\r\n    &lt;div class=&quot;dataTables_scrollBody ps-container ps-theme-default ps-active-x&quot; data-ps-id=&quot;77fa0bd8-5ef4-1c4e-e67a-a8675b515900&quot; style=&quot;position: relative; overflow: auto; width: 100%; height: 762px;&quot;&gt;\r\n        &lt;table id=&quot;contenido-table&quot; class=&quot;table table-condensed table-striped dataTable no-footer&quot; role=&quot;grid&quot; aria-describedby=&quot;contenido-table_info&quot; style=&quot;width: 2072px;&quot;&gt;\r\n            &lt;thead&gt;\r\n                &lt;tr role=&quot;row&quot; style=&quot;height: 0px;&quot;&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 112px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;ICAO Aerolinea: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;ICAO Aerolinea&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 43px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Vuelo: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Vuelo&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center editable sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 43px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Sufijo: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Sufijo&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 71px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Matricula: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Matricula&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 33px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Tipo: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Tipo&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 72px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Aeronave: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Aeronave&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 72px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Categoria: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Categoria&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 52px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Origen: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Origen&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 96px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Escala Previa: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Escala Previa&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 96px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Estado Vuelo: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Estado Vuelo&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 139px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Fecha Programada: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Fecha Programada&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 116px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Fecha Estimada: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Fecha Estimada&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 93px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Fecha Actual: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Fecha Actual&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 58px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Servicio: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Servicio&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 44px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Stand: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Stand&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 47px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Cintas: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Cintas&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 91px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Inicio Cintas: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Inicio Cintas&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 73px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Fin Cintas: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Fin Cintas&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 115px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Primera Maleta: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Primera Maleta&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 107px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Ultima Maleta: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Ultima Maleta&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/thead&gt;\r\n            &lt;tbody&gt;\r\n                &lt;tr role=&quot;row&quot; class=&quot;odd&quot;&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;ICAO Aerolinea&quot;&gt;DRA&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Vuelo&quot;&gt;5485&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center editable&quot; name=&quot;Sufijo&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Matricula&quot; style=&quot;display: table-cell;text-overflow: ellipsis;overflow: hidden;max-width: 195px;&quot;&gt;GBC001&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Tipo&quot; style=&quot;display: table-cell;text-overflow: ellipsis;overflow: hidden;max-width: 195px;&quot;&gt;NA&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Aeronave&quot;&gt;A001&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Categoria&quot;&gt;C&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Origen&quot;&gt;LEBB&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Escala Previa&quot; style=&quot;display: table-cell;text-overflow: ellipsis;overflow: hidden;max-width: 195px;&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Estado Vuelo&quot;&gt;SCH&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Fecha Programada&quot; style=&quot;min-width: 97px&quot;&gt;03/10/2018&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Fecha Estimada&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Fecha Actual&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Servicio&quot;&gt;A&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Stand&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Cintas&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Inicio Cintas&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Fin Cintas&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Primera Maleta&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Ultima Maleta&quot;&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr role=&quot;row&quot; class=&quot;even&quot;&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;ICAO Aerolinea&quot;&gt;AAA&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Vuelo&quot;&gt;1234&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center editable&quot; name=&quot;Sufijo&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Matricula&quot; style=&quot;display: table-cell;text-overflow: ellipsis;overflow: hidden;max-width: 195px;&quot;&gt;GBC001&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Tipo&quot; style=&quot;display: table-cell;text-overflow: ellipsis;overflow: hidden;max-width: 195px;&quot;&gt;NA&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Aeronave&quot;&gt;A001&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Categoria&quot;&gt;C&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Origen&quot;&gt;LEBB&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Escala Previa&quot; style=&quot;display: table-cell;text-overflow: ellipsis;overflow: hidden;max-width: 195px;&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Estado Vuelo&quot;&gt;SCH&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Fecha Programada&quot; style=&quot;min-width: 97px&quot;&gt;03/10/2018&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Fecha Estimada&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Fecha Actual&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Servicio&quot;&gt;A&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Stand&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Cintas&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Inicio Cintas&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Fin Cintas&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Primera Maleta&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Ultima Maleta&quot;&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/tbody&gt;\r\n        &lt;/table&gt;\r\n        &lt;div class=&quot;ps-scrollbar-x-rail&quot; style=&quot;width: 2063px; left: 0px; bottom: 3px;&quot;&gt;\r\n            &lt;div class=&quot;ps-scrollbar-x&quot; tabindex=&quot;0&quot; style=&quot;left: 0px; width: 2055px;&quot;&gt;&lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;ps-scrollbar-y-rail&quot; style=&quot;top: 0px; right: 3px;&quot;&gt;\r\n            &lt;div class=&quot;ps-scrollbar-y&quot; tabindex=&quot;0&quot; style=&quot;top: 0px; height: 0px;&quot;&gt;&lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;","title":"Cannot locate Element that exist, getting NullPointerException instead of NoSuchElement","body":"<p>I'm trying to automatize a web datatable testing. I'm getting this NullPointerException in every WebElement object I'm using to locate. My code is simple as possible:</p>\n<pre><code>public class tableTestStepDefs {\n\n@FindBy(how = How.XPATH, using = &quot;//*[@id=\\&quot;contenido-table\\&quot;]/tbody/tr[1]/td[3]&quot;)\npublic WebElement cell1;\n@FindBy(how = How.ID, using = &quot;\\&quot;DTE_Field_sufijo\\&quot;&quot;)\npublic WebElement editableCell1;\n\n@When(&quot;^I click on cell1 to make it editable$&quot;)\npublic void hagoClickEnUnaCeldaDeLaColumnaSufijo(){\ndriver.get(&quot;http://192.168.242.104:7777/some/context&quot;);\ncell1.click();\n}\n</code></pre>\n<p>I'm getting NullPointerException in every object, instead of NoSuchElementException which is the one I usually get when the driver cannot find some element,  while the driver is properly entering the page. If I debug, I can locate all the elements with the same id or xpath expression in the driver's instance. No idea what's going on</p>\n<p>Here is the HTML part:</p>\n<pre><code>&lt;div class=&quot;dataTables_scrollBody ps-container ps-theme-default ps-active-x&quot; data-ps-id=&quot;77fa0bd8-5ef4-1c4e-e67a-a8675b515900&quot; style=&quot;position: relative; overflow: auto; width: 100%; height: 762px;&quot;&gt;\n    &lt;table id=&quot;contenido-table&quot; class=&quot;table table-condensed table-striped dataTable no-footer&quot; role=&quot;grid&quot; aria-describedby=&quot;contenido-table_info&quot; style=&quot;width: 2072px;&quot;&gt;\n        &lt;thead&gt;\n            &lt;tr role=&quot;row&quot; style=&quot;height: 0px;&quot;&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 112px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;ICAO Aerolinea: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;ICAO Aerolinea&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 43px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Vuelo: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Vuelo&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center editable sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 43px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Sufijo: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Sufijo&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 71px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Matricula: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Matricula&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 33px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Tipo: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Tipo&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 72px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Aeronave: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Aeronave&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 72px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Categoria: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Categoria&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 52px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Origen: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Origen&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 96px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Escala Previa: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Escala Previa&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 96px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Estado Vuelo: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Estado Vuelo&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 139px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Fecha Programada: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Fecha Programada&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 116px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Fecha Estimada: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Fecha Estimada&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 93px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Fecha Actual: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Fecha Actual&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 58px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Servicio: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Servicio&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 44px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Stand: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Stand&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 47px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Cintas: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Cintas&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 91px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Inicio Cintas: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Inicio Cintas&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 73px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Fin Cintas: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Fin Cintas&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 115px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Primera Maleta: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Primera Maleta&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 107px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Ultima Maleta: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Ultima Maleta&lt;/div&gt;\n                &lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n            &lt;tr role=&quot;row&quot; class=&quot;odd&quot;&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;ICAO Aerolinea&quot;&gt;DRA&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Vuelo&quot;&gt;5485&lt;/td&gt;\n                &lt;td class=&quot; text-center editable&quot; name=&quot;Sufijo&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Matricula&quot; style=&quot;display: table-cell;text-overflow: ellipsis;overflow: hidden;max-width: 195px;&quot;&gt;GBC001&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Tipo&quot; style=&quot;display: table-cell;text-overflow: ellipsis;overflow: hidden;max-width: 195px;&quot;&gt;NA&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Aeronave&quot;&gt;A001&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Categoria&quot;&gt;C&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Origen&quot;&gt;LEBB&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Escala Previa&quot; style=&quot;display: table-cell;text-overflow: ellipsis;overflow: hidden;max-width: 195px;&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Estado Vuelo&quot;&gt;SCH&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Fecha Programada&quot; style=&quot;min-width: 97px&quot;&gt;03/10/2018&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Fecha Estimada&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Fecha Actual&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Servicio&quot;&gt;A&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Stand&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Cintas&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Inicio Cintas&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Fin Cintas&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Primera Maleta&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Ultima Maleta&quot;&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr role=&quot;row&quot; class=&quot;even&quot;&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;ICAO Aerolinea&quot;&gt;AAA&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Vuelo&quot;&gt;1234&lt;/td&gt;\n                &lt;td class=&quot; text-center editable&quot; name=&quot;Sufijo&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Matricula&quot; style=&quot;display: table-cell;text-overflow: ellipsis;overflow: hidden;max-width: 195px;&quot;&gt;GBC001&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Tipo&quot; style=&quot;display: table-cell;text-overflow: ellipsis;overflow: hidden;max-width: 195px;&quot;&gt;NA&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Aeronave&quot;&gt;A001&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Categoria&quot;&gt;C&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Origen&quot;&gt;LEBB&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Escala Previa&quot; style=&quot;display: table-cell;text-overflow: ellipsis;overflow: hidden;max-width: 195px;&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Estado Vuelo&quot;&gt;SCH&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Fecha Programada&quot; style=&quot;min-width: 97px&quot;&gt;03/10/2018&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Fecha Estimada&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Fecha Actual&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Servicio&quot;&gt;A&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Stand&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Cintas&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Inicio Cintas&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Fin Cintas&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Primera Maleta&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Ultima Maleta&quot;&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n    &lt;div class=&quot;ps-scrollbar-x-rail&quot; style=&quot;width: 2063px; left: 0px; bottom: 3px;&quot;&gt;\n        &lt;div class=&quot;ps-scrollbar-x&quot; tabindex=&quot;0&quot; style=&quot;left: 0px; width: 2055px;&quot;&gt;&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;ps-scrollbar-y-rail&quot; style=&quot;top: 0px; right: 3px;&quot;&gt;\n        &lt;div class=&quot;ps-scrollbar-y&quot; tabindex=&quot;0&quot; style=&quot;top: 0px; height: 0px;&quot;&gt;&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"},{"tags":["java","class","javafx"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1665245116,"post_id":73998059,"comment_id":130656784,"body_markdown":"@Antoniossss since Java 11 you can: https://openjdk.org/jeps/330","body":"@Antoniossss since Java 11 you can: <a href=\"https://openjdk.org/jeps/330\" rel=\"nofollow noreferrer\">openjdk.org/jeps/330</a>"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1665245230,"post_id":73998059,"comment_id":130656801,"body_markdown":"okayy :(  didnt know that","body":"okayy :(  didnt know that"}],"answers":[{"tags":[],"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665244004,"creation_date":1665244004,"answer_id":73998375,"question_id":73998059,"body_markdown":"Try this:\r\n\r\n        launch(Main1.class, args);\r\n\r\nOr stay with `launch(args)` and compile your Main1.java to Main1.class and run (i suppose this is the default (none) package):\r\n\r\n         javac --module-path %PATH_TO_FX% --add-modules javafx.fxml,javafx.web Main1.java\r\n         java --module-path %PATH_TO_FX% --add-modules javafx.fxml,javafx.web Main1","title":"java &quot;launch&quot; returns &quot;java.lang.ClassNotFoundException&quot;","body":"<p>Try this:</p>\n<pre><code>    launch(Main1.class, args);\n</code></pre>\n<p>Or stay with <code>launch(args)</code> and compile your Main1.java to Main1.class and run (i suppose this is the default (none) package):</p>\n<pre><code>     javac --module-path %PATH_TO_FX% --add-modules javafx.fxml,javafx.web Main1.java\n     java --module-path %PATH_TO_FX% --add-modules javafx.fxml,javafx.web Main1\n</code></pre>\n"}],"owner":{"account_id":23959160,"reputation":5,"user_id":17949540,"display_name":"king cannibal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73998375,"answer_count":1,"score":0,"last_activity_date":1665254607,"creation_date":1665241571,"question_id":73998059,"body_markdown":"when i try to run my java file with javafx from command prompt im returned with a error, the error says the problem of the code is coming from a java launch command which i dont know how to fix. Please give a fix.\r\nthe error:\r\n````\r\nException in thread &quot;main&quot; java.lang.RuntimeException: java.lang.ClassNotFoundException: Main1\r\n        at javafx.graphics@19/javafx.application.Application.launch(Application.java:314)\r\n        at Main1.main(Main1.java:47)\r\nCaused by: java.lang.ClassNotFoundException: Main1\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n        at java.base/java.lang.Class.forName0(Native Method)\r\n        at java.base/java.lang.Class.forName(Class.java:488)\r\n        at java.base/java.lang.Class.forName(Class.java:467)\r\n        at javafx.graphics@19/javafx.application.Application.launch(Application.java:302)\r\n        at Main1.main(Main1.java:47)\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.execute(Main.java:421)\r\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.run(Main.java:192)\r\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.main(Main.java:132)\r\n````\r\ncode:\r\n````\r\nimport javafx.application.Application;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.web.*;\r\nimport javafx.scene.image.*;  \r\n\r\npublic class Main1 extends Application {\r\n   \r\n  \r\n    public void start(Stage stage)\r\n    {\r\n        try {\r\n   \r\n          \r\n            stage.setTitle(&quot;Fierce Pcs&quot;);\r\n   \r\n          \r\n            WebView w = new WebView();\r\n   \r\n           \r\n            WebEngine e = w.getEngine();\r\n   \r\n          \r\n            e.load(&quot;https://www.example.com/&quot;);\r\n            stage.getIcons().add(new Image(getClass().getResourceAsStream(&quot;icon.png&quot;)));\r\n           \r\n            Scene scene = new Scene(w, w.getPrefWidth(), \r\n                                     w.getPrefHeight());\r\n   \r\n          \r\n            stage.setScene(scene);\r\n   \r\n            stage.show();\r\n        }\r\n   \r\n        catch (Exception e) {\r\n   \r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n   \r\n  \r\n    public static void main(String args[])\r\n    {\r\n   \r\n       \r\n        launch(args);\r\n    }\r\n}\r\n````\r\nthe command which i give the command prompt:\r\n````\r\njava --module-path %PATH_TO_FX% --add-modules javafx.fxml,javafx.web C:\\Users\\example\\OneDrive\\Desktop\\Main1.java\r\n````","title":"java &quot;launch&quot; returns &quot;java.lang.ClassNotFoundException&quot;","body":"<p>when i try to run my java file with javafx from command prompt im returned with a error, the error says the problem of the code is coming from a java launch command which i dont know how to fix. Please give a fix.\nthe error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: java.lang.ClassNotFoundException: Main1\n        at javafx.graphics@19/javafx.application.Application.launch(Application.java:314)\n        at Main1.main(Main1.java:47)\nCaused by: java.lang.ClassNotFoundException: Main1\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Class.java:488)\n        at java.base/java.lang.Class.forName(Class.java:467)\n        at javafx.graphics@19/javafx.application.Application.launch(Application.java:302)\n        at Main1.main(Main1.java:47)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.execute(Main.java:421)\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.run(Main.java:192)\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.main(Main.java:132)\n</code></pre>\n<p>code:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.stage.Stage;\nimport javafx.scene.Scene;\nimport javafx.scene.web.*;\nimport javafx.scene.image.*;  \n\npublic class Main1 extends Application {\n   \n  \n    public void start(Stage stage)\n    {\n        try {\n   \n          \n            stage.setTitle(&quot;Fierce Pcs&quot;);\n   \n          \n            WebView w = new WebView();\n   \n           \n            WebEngine e = w.getEngine();\n   \n          \n            e.load(&quot;https://www.example.com/&quot;);\n            stage.getIcons().add(new Image(getClass().getResourceAsStream(&quot;icon.png&quot;)));\n           \n            Scene scene = new Scene(w, w.getPrefWidth(), \n                                     w.getPrefHeight());\n   \n          \n            stage.setScene(scene);\n   \n            stage.show();\n        }\n   \n        catch (Exception e) {\n   \n            System.out.println(e.getMessage());\n        }\n    }\n   \n  \n    public static void main(String args[])\n    {\n   \n       \n        launch(args);\n    }\n}\n</code></pre>\n<p>the command which i give the command prompt:</p>\n<pre><code>java --module-path %PATH_TO_FX% --add-modules javafx.fxml,javafx.web C:\\Users\\example\\OneDrive\\Desktop\\Main1.java\n</code></pre>\n"},{"tags":["java","amazon-web-services","eclipse","tomcat","amazon-elastic-beanstalk"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1665240495,"post_id":73996877,"comment_id":130655808,"body_markdown":"*What error is it displaying?&quot;*","body":"<i>What error is it displaying?&quot;</i>"},{"owner":{"account_id":26563584,"reputation":1,"user_id":20191034,"display_name":"Beanzide"},"score":0,"creation_date":1665249754,"post_id":73996877,"comment_id":130657790,"body_markdown":"Just the response from ajax that the request failed, which is literally &#39;error.&#39;","body":"Just the response from ajax that the request failed, which is literally &#39;error.&#39;"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1665249924,"post_id":73996877,"comment_id":130657832,"body_markdown":"And in the server log?","body":"And in the server log?"},{"owner":{"account_id":26563584,"reputation":1,"user_id":20191034,"display_name":"Beanzide"},"score":0,"creation_date":1665250450,"post_id":73996877,"comment_id":130657969,"body_markdown":"Sry, found the logs just now. Apparently jdk mismatch? I edited my post.","body":"Sry, found the logs just now. Apparently jdk mismatch? I edited my post."}],"answers":[{"tags":[],"owner":{"account_id":26563584,"reputation":1,"user_id":20191034,"display_name":"Beanzide"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665254509,"creation_date":1665254509,"answer_id":73999646,"question_id":73996877,"body_markdown":"Eclipse version mismatch. Swapped Eclipse&#39;s default Java version (16) for version 11. Everything compiles.","title":"Eclipse Java web app servlets not working when deployed to AWS","body":"<p>Eclipse version mismatch. Swapped Eclipse's default Java version (16) for version 11. Everything compiles.</p>\n"}],"owner":{"account_id":26563584,"reputation":1,"user_id":20191034,"display_name":"Beanzide"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665254509,"creation_date":1665231164,"question_id":73996877,"body_markdown":"I am hosting my first EE Java web app on AWS using Elastic Beanstalk and the project .WAR file. The environment is Tomcat 8.5 with Coretto 11 (64 bit amazon linux 2) and the project is optimized for Tomcat 8.5. The project works fine in eclipse but not when deployed to the beanstalk environment.\r\n\r\n  Here is my project directory: https://i.stack.imgur.com/2NG1C.png\r\n\r\n  ajax request in index.jsp:\r\n\r\n              $(document).ready(function () {\r\n               \r\n                $.ajax({\r\n                \ttype : &#39;POST&#39;,\r\n                    url : &#39;ExampleServlet&#39;,\r\n                    data : {},\r\n                    success : function(returnValue) {\r\n                        document.getElementById(&#39;test&#39;).innerHTML = &#39;Success&#39;;\r\n                    },\r\n                  \terror : function(req, err) {document.getElementById(&#39;test&#39;).innerHTML = &#39;error&#39;;}\r\n            \t});\r\n                \r\n            });  \r\n\r\n\r\nExample servlet:\r\n\r\n    import java.io.IOException;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import javax.servlet.annotation.WebServlet;\r\n\r\n    @WebServlet(&quot;/ExampleServlet&quot;)   \r\n    public class ExampleServlet extends HttpServlet {\r\n\t    private static final long serialVersionUID = 1L;\r\n       \r\n        public ExampleServlet() {\r\n            super();\r\n        }\r\n\r\n\t    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\t    response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());\r\n\t    }\r\n\r\n\t    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\t    doGet(request, response);\r\n\t    }\r\n\r\n    }\r\n\r\n\r\nIts a simple POST request but it keeps displaying an error once deployed. I am not using Maven, SpringBoot, etc. \r\n\r\nEdit:\r\n\r\nEdit:\r\nI finally found the correct logs after ssh into instance: /var/log/tomcat/localhost.[date].log\r\n\r\nhttps://i.stack.imgur.com/8Zn4t.jpg\r\n\r\n08-Oct-2022 14:11:48.182 SEVERE [http-nio-8080-exec-4] org.apache.catalina.core.StandardWrapperValve.invoke Allocate exception for servlet [ExampleServlet]\r\n        java.lang.UnsupportedClassVersionError: ExampleServlet has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0 (unable to load class [ExampleServlet])\r\n\r\n\r\nI&#39;m assuming there is a version mismatch of the jdk on my system...\r\nI am using JDK 8 but Tomcat 8.5 uses JDK 7? Will try different version and update..\r\n\r\n","title":"Eclipse Java web app servlets not working when deployed to AWS","body":"<p>I am hosting my first EE Java web app on AWS using Elastic Beanstalk and the project .WAR file. The environment is Tomcat 8.5 with Coretto 11 (64 bit amazon linux 2) and the project is optimized for Tomcat 8.5. The project works fine in eclipse but not when deployed to the beanstalk environment.</p>\n<p>Here is my project directory: <a href=\"https://i.stack.imgur.com/2NG1C.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/2NG1C.png</a></p>\n<p>ajax request in index.jsp:</p>\n<pre><code>          $(document).ready(function () {\n           \n            $.ajax({\n                type : 'POST',\n                url : 'ExampleServlet',\n                data : {},\n                success : function(returnValue) {\n                    document.getElementById('test').innerHTML = 'Success';\n                },\n                error : function(req, err) {document.getElementById('test').innerHTML = 'error';}\n            });\n            \n        });  \n</code></pre>\n<p>Example servlet:</p>\n<pre><code>import java.io.IOException;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.annotation.WebServlet;\n\n@WebServlet(&quot;/ExampleServlet&quot;)   \npublic class ExampleServlet extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n   \n    public ExampleServlet() {\n        super();\n    }\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());\n    }\n\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        doGet(request, response);\n    }\n\n}\n</code></pre>\n<p>Its a simple POST request but it keeps displaying an error once deployed. I am not using Maven, SpringBoot, etc.</p>\n<p>Edit:</p>\n<p>Edit:\nI finally found the correct logs after ssh into instance: /var/log/tomcat/localhost.[date].log</p>\n<p><a href=\"https://i.stack.imgur.com/8Zn4t.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/8Zn4t.jpg</a></p>\n<p>08-Oct-2022 14:11:48.182 SEVERE [http-nio-8080-exec-4] org.apache.catalina.core.StandardWrapperValve.invoke Allocate exception for servlet [ExampleServlet]\njava.lang.UnsupportedClassVersionError: ExampleServlet has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0 (unable to load class [ExampleServlet])</p>\n<p>I'm assuming there is a version mismatch of the jdk on my system...\nI am using JDK 8 but Tomcat 8.5 uses JDK 7? Will try different version and update..</p>\n"},{"tags":["java","kotlin","reflection","annotations","classloader"],"comments":[{"owner":{"account_id":5688520,"reputation":7765,"user_id":4497253,"display_name":"CoronA"},"score":0,"creation_date":1432711465,"post_id":30471062,"comment_id":49031008,"body_markdown":"I agree with your guess. There exist two types of MyAnnotation. To resolve this, ensure that the annotated class and the annotation is loaded with the same class loader. Maybe it helps if your custom classloader uses the current class loader as parent.","body":"I agree with your guess. There exist two types of MyAnnotation. To resolve this, ensure that the annotated class and the annotation is loaded with the same class loader. Maybe it helps if your custom classloader uses the current class loader as parent."},{"owner":{"account_id":2445646,"reputation":5724,"user_id":2133111,"accept_rate":64,"display_name":"kag0"},"score":0,"creation_date":1432739069,"post_id":30471062,"comment_id":49051019,"body_markdown":"@CoronA the custom classloader does use the current classloader as a parent. I don&#39;t know how to ensure they are loaded with the same loader, I&#39;ll need more knowledge about internals of the JVM and the lifecycle of these types of things.","body":"@CoronA the custom classloader does use the current classloader as a parent. I don&#39;t know how to ensure they are loaded with the same loader, I&#39;ll need more knowledge about internals of the JVM and the lifecycle of these types of things."},{"owner":{"account_id":5688520,"reputation":7765,"user_id":4497253,"display_name":"CoronA"},"score":0,"creation_date":1432745447,"post_id":30471062,"comment_id":49055417,"body_markdown":"Probably you get access to your custom class loader. Instead of calling `getAnnotation(MyAnnotation.class)` you can call `getAnnotation(customClassLoader.load(&quot;MyAnnotation&quot;))` (with the full class name). Make sure that MyAnnotation is not referenced before this class loading.","body":"Probably you get access to your custom class loader. Instead of calling <code>getAnnotation(MyAnnotation.class)</code> you can call <code>getAnnotation(customClassLoader.load(&quot;MyAnnotation&quot;))</code> (with the full class name). Make sure that MyAnnotation is not referenced before this class loading."},{"owner":{"account_id":2445646,"reputation":5724,"user_id":2133111,"accept_rate":64,"display_name":"kag0"},"score":0,"creation_date":1432751575,"post_id":30471062,"comment_id":49058974,"body_markdown":"Tried that, was having trouble with typing. load needs a Class&lt;T&gt;, but I don&#39;t know of a way to get T to be MyAnnotation.","body":"Tried that, was having trouble with typing. load needs a Class&lt;T&gt;, but I don&#39;t know of a way to get T to be MyAnnotation."},{"owner":{"account_id":48020,"reputation":33723,"user_id":142446,"display_name":"Brett Kail"},"score":0,"creation_date":1432758483,"post_id":30471062,"comment_id":49062872,"body_markdown":"@kag0 If you show the class loader code or how it&#39;s created, someone might be able to help fix the parent delegation.  Otherwise, try using `Annotation.class.cast(customClassLoader.loadClass(&quot;MyAnnotation&quot;))` to pacify javac.","body":"@kag0 If you show the class loader code or how it&#39;s created, someone might be able to help fix the parent delegation.  Otherwise, try using <code>Annotation.class.cast(customClassLoader.loadClass(&quot;MyAnnotat&zwnj;&#8203;ion&quot;))</code> to pacify javac."},{"owner":{"account_id":2445646,"reputation":5724,"user_id":2133111,"accept_rate":64,"display_name":"kag0"},"score":0,"creation_date":1432761938,"post_id":30471062,"comment_id":49064564,"body_markdown":"@bkail the class loader is URLClassLoader initialized using the single parameter constructor. Also, ClassLoader.loadClass(String) returns a Class&lt;?&gt;. I don&#39;t think you can cast that.","body":"@bkail the class loader is URLClassLoader initialized using the single parameter constructor. Also, ClassLoader.loadClass(String) returns a Class&lt;?&gt;. I don&#39;t think you can cast that."},{"owner":{"account_id":63785,"reputation":2712,"user_id":188626,"accept_rate":89,"display_name":"Michael"},"score":1,"creation_date":1602164871,"post_id":30471062,"comment_id":113638607,"body_markdown":"The problem is because a type is actually defined by its &quot;fully qualified class name+classloader&quot;. So the same class loaded by two different class loaders will appear to the VM as a different type.","body":"The problem is because a type is actually defined by its &quot;fully qualified class name+classloader&quot;. So the same class loaded by two different class loaders will appear to the VM as a different type."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1664997835,"post_id":30471062,"comment_id":130598957,"body_markdown":"To add to the info from @Michael - create the `URLClassLoader` with your current `ClassLoader` as parent - then the annotation found will be identical to the one that your class can see.","body":"To add to the info from @Michael - create the <code>URLClassLoader</code> with your current <code>ClassLoader</code> as parent - then the annotation found will be identical to the one that your class can see."}],"answers":[{"tags":[],"owner":{"account_id":2445646,"reputation":5724,"user_id":2133111,"accept_rate":64,"display_name":"kag0"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1432763584,"creation_date":1432763584,"answer_id":30493789,"question_id":30471062,"body_markdown":"A hacky solution is as follows:\r\n\r\nInstead of AccessibleObject.getAnnotation(Class&lt;T&gt; annotationClass) use\r\n\r\n    private static Annotation getAnnotation(AccessibleObject object, Class annotationClass){\r\n        for(Annotation a : object.getAnnotations()){\r\n            if(a.annotationType().getCanonicalName().equals(annotationClass.getCanonicalName()))\r\n                return a;\r\n        }\r\n        return null;\r\n    }\r\n\r\nInstead of MyAnnotation.value() use\r\n\r\n    private static Object getAnnotationFieldWithReflection(Annotation annotation, String fieldName) throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {\r\n        return annotation.annotationType().getMethod(fieldName).invoke(annotation);\r\n    }","title":"How to work with classloader and annotations","body":"<p>A hacky solution is as follows:</p>\n\n<p>Instead of AccessibleObject.getAnnotation(Class annotationClass) use</p>\n\n<pre><code>private static Annotation getAnnotation(AccessibleObject object, Class annotationClass){\n    for(Annotation a : object.getAnnotations()){\n        if(a.annotationType().getCanonicalName().equals(annotationClass.getCanonicalName()))\n            return a;\n    }\n    return null;\n}\n</code></pre>\n\n<p>Instead of MyAnnotation.value() use</p>\n\n<pre><code>private static Object getAnnotationFieldWithReflection(Annotation annotation, String fieldName) throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {\n    return annotation.annotationType().getMethod(fieldName).invoke(annotation);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6509695,"reputation":6576,"user_id":5037430,"display_name":"u-ways"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665254407,"creation_date":1664973965,"answer_id":73960563,"question_id":30471062,"body_markdown":"I came across the same issue and it was quite hard to debug. My solution to this was to use the same classloader from a class instance reference.\r\n\r\nFor example, given a Jar file you want to load the class found there, you can reference a class instance from the package and get the classloader it uses:\r\n\r\n```kotlin\r\nURLClassLoader\r\n    .newInstance(arrayOf(URL(&quot;jar:file:${it.path}!/&quot;)), AGivenClass::class.java.classLoader)\r\n```\r\n\r\nI then could successful collect the annotations of interest.\r\n\r\nThis is an example in Kotlin, as the same issue happened there, so I hope it can be of any help for future readers.","title":"How to work with classloader and annotations","body":"<p>I came across the same issue and it was quite hard to debug. My solution to this was to use the same classloader from a class instance reference.</p>\n<p>For example, given a Jar file you want to load the class found there, you can reference a class instance from the package and get the classloader it uses:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>URLClassLoader\n    .newInstance(arrayOf(URL(&quot;jar:file:${it.path}!/&quot;)), AGivenClass::class.java.classLoader)\n</code></pre>\n<p>I then could successful collect the annotations of interest.</p>\n<p>This is an example in Kotlin, as the same issue happened there, so I hope it can be of any help for future readers.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664974715,"creation_date":1664974715,"answer_id":73960712,"question_id":30471062,"body_markdown":"I think that `ClassLoader#loadClass(name, true)` is needed, which will actually load the class fully _(resolve=true)_. Note that this also initializes the class.\r\n","title":"How to work with classloader and annotations","body":"<p>I think that <code>ClassLoader#loadClass(name, true)</code> is needed, which will actually load the class fully <em>(resolve=true)</em>. Note that this also initializes the class.</p>\n"}],"owner":{"account_id":2445646,"reputation":5724,"user_id":2133111,"accept_rate":64,"display_name":"kag0"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2285,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1665254407,"creation_date":1432685351,"question_id":30471062,"body_markdown":"I&#39;m trying to get an annotation from a method but I&#39;m having some trouble. What I&#39;m doing is loading a jar file using URLClassLoader, then I&#39;m inspecting the annotations on methods in classes in that jar using reflection and Method.getAnnotation.  \r\nThe issue I&#39;ve encountered is that Method.getAnnotation will return always return null, even if the annotation is there (which we can see using Method.getAnnotations). I&#39;ve tested the same procedure on the same annotation type on classes which are not loaded with the URLClassLoader and it works fine.  \r\nMore in depth investigation shows that the canonical name of both instance.annotationType() and MyAnnotation.class are identical. However instance.annotationType().equals(MyAnnotation.class) returns false. The instance itself however is a proxy (com.sun.proxy).\r\n\r\nIs there a way to get at the annotation and the fields of the annotation without a considerable amount of reflection?\r\n\r\n    instance.annotationType().getMethod(&quot;value&quot;).invoke(instance)\r\nThe above would work to get at the field, and iterating through the result of Method.getAnnotations with string comparisons on canonical names would get me the annotation but surely there is a better way?\r\n\r\nAlso for educational value, what causes this? My guess is that it&#39;s because the class of the annotation loaded by the system class loader is somehow different than the class of the annotation loaded by the URL class loader.","title":"How to work with classloader and annotations","body":"<p>I'm trying to get an annotation from a method but I'm having some trouble. What I'm doing is loading a jar file using URLClassLoader, then I'm inspecting the annotations on methods in classes in that jar using reflection and Method.getAnnotation.<br>\nThe issue I've encountered is that Method.getAnnotation will return always return null, even if the annotation is there (which we can see using Method.getAnnotations). I've tested the same procedure on the same annotation type on classes which are not loaded with the URLClassLoader and it works fine.<br>\nMore in depth investigation shows that the canonical name of both instance.annotationType() and MyAnnotation.class are identical. However instance.annotationType().equals(MyAnnotation.class) returns false. The instance itself however is a proxy (com.sun.proxy).</p>\n\n<p>Is there a way to get at the annotation and the fields of the annotation without a considerable amount of reflection?</p>\n\n<pre><code>instance.annotationType().getMethod(\"value\").invoke(instance)\n</code></pre>\n\n<p>The above would work to get at the field, and iterating through the result of Method.getAnnotations with string comparisons on canonical names would get me the annotation but surely there is a better way?</p>\n\n<p>Also for educational value, what causes this? My guess is that it's because the class of the annotation loaded by the system class loader is somehow different than the class of the annotation loaded by the URL class loader.</p>\n"},{"tags":["java","json","rest","spring-boot","jackson"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1490735909,"post_id":43079892,"comment_id":73243458,"body_markdown":"Wanting to support two formats seems like a worthy objective, but in practice you&#39;re doubling the surface area of your api (and the requisite testing required). You will need to create two different `Mapper`(s)  and potentially try both. And (potentially) both mappings might be valid. From [Mapper Features](https://github.com/FasterXML/jackson-databind/wiki/Mapper-Features), *Jackson defines a set of per-mapper configuration, which can ONLY be defined before using ObjectMapper -- meaning that these settings can not be changed on-the-fly, on per-request basis.*","body":"Wanting to support two formats seems like a worthy objective, but in practice you&#39;re doubling the surface area of your api (and the requisite testing required). You will need to create two different <code>Mapper</code>(s)  and potentially try both. And (potentially) both mappings might be valid. From <a href=\"https://github.com/FasterXML/jackson-databind/wiki/Mapper-Features\" rel=\"nofollow noreferrer\">Mapper Features</a>, <i>Jackson defines a set of per-mapper configuration, which can ONLY be defined before using ObjectMapper -- meaning that these settings can not be changed on-the-fly, on per-request basis.</i>"}],"answers":[{"tags":[],"owner":{"account_id":5334857,"reputation":426,"user_id":4254239,"display_name":"Maksym Prokhorenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1490766901,"creation_date":1490766901,"answer_id":43085405,"question_id":43079892,"body_markdown":"Good question, I would suggest to take a look into [content negotiation][1] and [http message converter][2] topics.\r\n\r\nIt seems you can configure two instances of ```MappingJackson2HttpMessageConverter```\r\nto produce *application/vnd.snake+json* or *application/json*. \r\nSet it with specific media type and differently configured *ObjectMapper*\r\n\r\nCode modification can looks like:\r\n&lt;!-- language: java --&gt;\r\n\r\n    MyMappingJackson2HttpMessageConverter extends MappingJackson2HttpMessageConverter\r\n    {\r\n      public MyMappingJackson2HttpMessageConverter(ObjectMapper objectMapper, MediaType mediaType)\r\n      {\r\n         super(objectMapper, mediaType);\r\n      }\r\n    }\r\n\r\nConfiguration can looks like:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @EnableWebMvc\r\n    @Configuration\r\n    public class WebConfig extends WebMvcConfigurerAdapter {\r\n \r\n      @Override\r\n      public void configureMessageConverters(\r\n        List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {     \r\n          converters.add(new MyMappingJackson2HttpMessageConverter(snake, new MediaType(&quot;application&quot;, &quot;vnd.snake+json&quot;)));\r\n          converters.add(new MappingJackson2HttpMessageConverter(camel, MediaType.APPLICATION_JSON));\r\n          super.configureMessageConverters(converters);\r\n    }\r\n    ...\r\n\r\n  [1]: https://spring.io/blog/2013/05/11/content-negotiation-using-spring-mvc\r\n  [2]: http://www.baeldung.com/spring-httpmessageconverter-rest","title":"Hot to make jackson to use snake_case / camelCase on demand in a Spring Boot REST API?","body":"<p>Good question, I would suggest to take a look into <a href=\"https://spring.io/blog/2013/05/11/content-negotiation-using-spring-mvc\" rel=\"nofollow noreferrer\">content negotiation</a> and <a href=\"http://www.baeldung.com/spring-httpmessageconverter-rest\" rel=\"nofollow noreferrer\">http message converter</a> topics.</p>\n\n<p>It seems you can configure two instances of <code>MappingJackson2HttpMessageConverter</code>\nto produce <em>application/vnd.snake+json</em> or <em>application/json</em>. \nSet it with specific media type and differently configured <em>ObjectMapper</em></p>\n\n<p>Code modification can looks like:\n</p>\n\n<pre><code>MyMappingJackson2HttpMessageConverter extends MappingJackson2HttpMessageConverter\n{\n  public MyMappingJackson2HttpMessageConverter(ObjectMapper objectMapper, MediaType mediaType)\n  {\n     super(objectMapper, mediaType);\n  }\n}\n</code></pre>\n\n<p>Configuration can looks like:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebMvc\n@Configuration\npublic class WebConfig extends WebMvcConfigurerAdapter {\n\n  @Override\n  public void configureMessageConverters(\n    List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {     \n      converters.add(new MyMappingJackson2HttpMessageConverter(snake, new MediaType(\"application\", \"vnd.snake+json\")));\n      converters.add(new MappingJackson2HttpMessageConverter(camel, MediaType.APPLICATION_JSON));\n      super.configureMessageConverters(converters);\n}\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5977006,"reputation":3550,"user_id":4697491,"accept_rate":31,"display_name":"Awadesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665254009,"creation_date":1665254009,"answer_id":73999584,"question_id":43079892,"body_markdown":"As per new version of spring boot, I end up doing this way -\r\n\r\n        @Override\r\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n        MappingJackson2HttpMessageConverter mappingJackson2HttpMessageConverterSnakeCase = new MappingJackson2HttpMessageConverter();\r\n        mappingJackson2HttpMessageConverterSnakeCase.setSupportedMediaTypes(Arrays.asList(new MediaType(&quot;application&quot;, &quot;vnd.snake+json&quot;)));\r\n        mappingJackson2HttpMessageConverterSnakeCase.setObjectMapper(objectMapperSnakeCase());\r\n\r\n        MappingJackson2HttpMessageConverter mappingJackson2HttpMessageConverterCamelCase = new MappingJackson2HttpMessageConverter();\r\n        mappingJackson2HttpMessageConverterCamelCase.setSupportedMediaTypes(Arrays.asList(MediaType.APPLICATION_JSON));\r\n        mappingJackson2HttpMessageConverterCamelCase.setObjectMapper(objectMapperSnakeCase());\r\n\r\n        converters.add(mappingJackson2HttpMessageConverterCamelCase);\r\n        converters.add(mappingJackson2HttpMessageConverterSnakeCase);\r\n        WebMvcConfigurer.super.configureMessageConverters(converters);\r\n    }","title":"Hot to make jackson to use snake_case / camelCase on demand in a Spring Boot REST API?","body":"<p>As per new version of spring boot, I end up doing this way -</p>\n<pre><code>    @Override\npublic void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n    MappingJackson2HttpMessageConverter mappingJackson2HttpMessageConverterSnakeCase = new MappingJackson2HttpMessageConverter();\n    mappingJackson2HttpMessageConverterSnakeCase.setSupportedMediaTypes(Arrays.asList(new MediaType(&quot;application&quot;, &quot;vnd.snake+json&quot;)));\n    mappingJackson2HttpMessageConverterSnakeCase.setObjectMapper(objectMapperSnakeCase());\n\n    MappingJackson2HttpMessageConverter mappingJackson2HttpMessageConverterCamelCase = new MappingJackson2HttpMessageConverter();\n    mappingJackson2HttpMessageConverterCamelCase.setSupportedMediaTypes(Arrays.asList(MediaType.APPLICATION_JSON));\n    mappingJackson2HttpMessageConverterCamelCase.setObjectMapper(objectMapperSnakeCase());\n\n    converters.add(mappingJackson2HttpMessageConverterCamelCase);\n    converters.add(mappingJackson2HttpMessageConverterSnakeCase);\n    WebMvcConfigurer.super.configureMessageConverters(converters);\n}\n</code></pre>\n"}],"owner":{"account_id":2900414,"reputation":5100,"user_id":2487263,"accept_rate":58,"display_name":"raspacorp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8742,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1665254009,"creation_date":1490735009,"question_id":43079892,"body_markdown":"I want to support both snake_case and camelCase in the json interface of my rest API.\r\n\r\nJackson uses camelCase by default. I know there are many ways of making Jackson to use snake_case:\r\n\r\nAnnotating properties individually: ```@JsonProperty(&quot;first_name&quot;)```\r\n\r\nAnnotating classes with: ```@JsonNaming(PropertyNamingStrategy.SnakeCaseStrategy.class)```\r\n\r\nApplying it to the whole application inside application.properties:\r\n```spring.jackson.property-naming-strategy=SNAKE_CASE```\r\n\r\nBut I haven&#39;t found information about how to allow the consumer to request the desired case. For example by using content negotiation (Accepts, Content-Type headers)\r\n\r\nLets suppose we have the following example:\r\n\r\n    @RequestMapping(&quot;/my-resource&quot;) \r\n    public interface ApiController {\r\n        @RequestMapping(method = RequestMethod.POST, produces = {&quot;application/json&quot;})\r\n        MyResource createResource(@RequestBody MyResource myResource);\r\n\r\n        @GetMapping(value=&quot;/{resourceId}&quot;, produces = {&quot;application/json&quot;})\r\n        MyResource readResource(@PathVariable String resourceId);\r\n    }\r\n\r\nSo one use case could be to use custom json media-type and provide content negotiation headers like:\r\n\r\n```Accepts: application/vnd.snake+json```\r\n\r\nand let the default ```application/json``` to use camelCase.\r\n\r\nBut I cannot find the way of making jackson to use two different Mapper configurations based on the content negotiation.","title":"Hot to make jackson to use snake_case / camelCase on demand in a Spring Boot REST API?","body":"<p>I want to support both snake_case and camelCase in the json interface of my rest API.</p>\n\n<p>Jackson uses camelCase by default. I know there are many ways of making Jackson to use snake_case:</p>\n\n<p>Annotating properties individually: <code>@JsonProperty(\"first_name\")</code></p>\n\n<p>Annotating classes with: <code>@JsonNaming(PropertyNamingStrategy.SnakeCaseStrategy.class)</code></p>\n\n<p>Applying it to the whole application inside application.properties:\n<code>spring.jackson.property-naming-strategy=SNAKE_CASE</code></p>\n\n<p>But I haven't found information about how to allow the consumer to request the desired case. For example by using content negotiation (Accepts, Content-Type headers)</p>\n\n<p>Lets suppose we have the following example:</p>\n\n<pre><code>@RequestMapping(\"/my-resource\") \npublic interface ApiController {\n    @RequestMapping(method = RequestMethod.POST, produces = {\"application/json\"})\n    MyResource createResource(@RequestBody MyResource myResource);\n\n    @GetMapping(value=\"/{resourceId}\", produces = {\"application/json\"})\n    MyResource readResource(@PathVariable String resourceId);\n}\n</code></pre>\n\n<p>So one use case could be to use custom json media-type and provide content negotiation headers like:</p>\n\n<p><code>Accepts: application/vnd.snake+json</code></p>\n\n<p>and let the default <code>application/json</code> to use camelCase.</p>\n\n<p>But I cannot find the way of making jackson to use two different Mapper configurations based on the content negotiation.</p>\n"},{"tags":["java","while-loop","file-rename","txt"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1665135872,"post_id":73979521,"comment_id":130633743,"body_markdown":"Check that you haven&#39;t opened same file in other code. What is the actual exception and stack trace?","body":"Check that you haven&#39;t opened same file in other code. What is the actual exception and stack trace?"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665142449,"creation_date":1665142030,"answer_id":73986472,"question_id":73979521,"body_markdown":"Your problem most likely is caused elsewhere - check all file I/O operations. I suggest you tidy your code so that the file handling is clearer, consistently using NIO `Path` and `Files`, not repeating filename definitions, and that all streams are closed using try-with-resources handling:\r\n\r\n    public static void updateRecord(int recordID, int recordColumnIndex, String newValue, Path fileName) throws IOException {\r\n\r\n        Path tempOutFile = Path.of(&quot;temp.txt&quot;);\r\n        Path mainInputFile = Path.of(&quot;tasks.txt&quot;);\r\n\r\n        try (BufferedReader reader = Files.newBufferedReader(fileName);\r\n             PrintWriter writer = new PrintWriter(Files.newBufferedWriter(tempOutFile))) {\r\n\r\n            ...\r\n        }\r\n        // Replace main file:\r\n        Files.deleteIfExists(mainInputFile);\r\n        Files.move(tempOutFile, mainInputFile);\r\n    }\r\n","title":"how to close this file to rename and delete a file(&quot;Stream closed&quot;)","body":"<p>Your problem most likely is caused elsewhere - check all file I/O operations. I suggest you tidy your code so that the file handling is clearer, consistently using NIO <code>Path</code> and <code>Files</code>, not repeating filename definitions, and that all streams are closed using try-with-resources handling:</p>\n<pre><code>public static void updateRecord(int recordID, int recordColumnIndex, String newValue, Path fileName) throws IOException {\n\n    Path tempOutFile = Path.of(&quot;temp.txt&quot;);\n    Path mainInputFile = Path.of(&quot;tasks.txt&quot;);\n\n    try (BufferedReader reader = Files.newBufferedReader(fileName);\n         PrintWriter writer = new PrintWriter(Files.newBufferedWriter(tempOutFile))) {\n\n        ...\n    }\n    // Replace main file:\n    Files.deleteIfExists(mainInputFile);\n    Files.move(tempOutFile, mainInputFile);\n}\n</code></pre>\n"}],"owner":{"account_id":26536070,"reputation":13,"user_id":20167584,"display_name":"chris"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73986472,"answer_count":1,"score":-2,"last_activity_date":1665253689,"creation_date":1665086985,"question_id":73979521,"body_markdown":"Hi I am having trouble deleting and renaming my file this is because my file is still open but when I try to close my file I then get a ```stream closed ``` which means my file is closed, my question how do I get my code to delete and rename my file even though my file stream is closed, all my txt files are in the correct folder\r\n\r\n    public static void updateRecord(int recordID, int recordColumnIndex, String newValue,String fileName) throws IOException {\r\n            java.io.PrintWriter writer;\r\n            try (java.io.BufferedReader reader = new java.io.BufferedReader(new java.io.FileReader(fileName))) {\r\n                writer = new java.io.PrintWriter(&quot;temp.txt&quot;);\r\n                String line;\r\n                // Read file line by line...\r\n                while ((line = reader.readLine()) != null) {\r\n                    if (line.trim().isEmpty()) {\r\n                        writer.println(line);\r\n                        continue;\r\n                    }\r\n                    // Split each read line to separate data.\r\n                    String[] lineParts = line.split(&quot;\\\\s*,\\\\s*&quot;);\r\n    \r\n                /* If the record ID value matches the supplied ID value\r\n                   then make the desired changes to that line.    */\r\n                    if (Integer.parseInt(lineParts[0]) == recordID) {\r\n                        lineParts[recordColumnIndex] = newValue;\r\n                        // Rebuild the data line...\r\n                        StringBuilder sb = new StringBuilder(String.valueOf(recordID));\r\n                        for (int i = 1; i &lt; lineParts.length; i++) {\r\n                            sb.append(&quot;,&quot;).append(lineParts[i]);\r\n                        }\r\n                        line = sb.toString();\r\n                    }\r\n                    writer.println(line);  // write line to `temp.tmp` file.\r\n                    writer.flush();        // Immediate write.\r\n                    reader.close();\r\n                }\r\n            }\r\n            writer.close();\r\n    \r\n            File inputFile = new File(&quot;tasks.txt&quot;);\r\n            File outFile = new File(&quot;temp.txt&quot;);\r\n    \r\n            if (inputFile.exists()) {\r\n                Files.delete(Path.of(&quot;tasks.txt&quot;));\r\n                outFile.renameTo(inputFile);\r\n                System.out.println(&quot;test&quot;);\r\n            }else{\r\n                System.out.println(&quot;error&quot;);\r\n            }\r\n    \r\n        }","title":"how to close this file to rename and delete a file(&quot;Stream closed&quot;)","body":"<p>Hi I am having trouble deleting and renaming my file this is because my file is still open but when I try to close my file I then get a <code>stream closed </code> which means my file is closed, my question how do I get my code to delete and rename my file even though my file stream is closed, all my txt files are in the correct folder</p>\n<pre><code>public static void updateRecord(int recordID, int recordColumnIndex, String newValue,String fileName) throws IOException {\n        java.io.PrintWriter writer;\n        try (java.io.BufferedReader reader = new java.io.BufferedReader(new java.io.FileReader(fileName))) {\n            writer = new java.io.PrintWriter(&quot;temp.txt&quot;);\n            String line;\n            // Read file line by line...\n            while ((line = reader.readLine()) != null) {\n                if (line.trim().isEmpty()) {\n                    writer.println(line);\n                    continue;\n                }\n                // Split each read line to separate data.\n                String[] lineParts = line.split(&quot;\\\\s*,\\\\s*&quot;);\n\n            /* If the record ID value matches the supplied ID value\n               then make the desired changes to that line.    */\n                if (Integer.parseInt(lineParts[0]) == recordID) {\n                    lineParts[recordColumnIndex] = newValue;\n                    // Rebuild the data line...\n                    StringBuilder sb = new StringBuilder(String.valueOf(recordID));\n                    for (int i = 1; i &lt; lineParts.length; i++) {\n                        sb.append(&quot;,&quot;).append(lineParts[i]);\n                    }\n                    line = sb.toString();\n                }\n                writer.println(line);  // write line to `temp.tmp` file.\n                writer.flush();        // Immediate write.\n                reader.close();\n            }\n        }\n        writer.close();\n\n        File inputFile = new File(&quot;tasks.txt&quot;);\n        File outFile = new File(&quot;temp.txt&quot;);\n\n        if (inputFile.exists()) {\n            Files.delete(Path.of(&quot;tasks.txt&quot;));\n            outFile.renameTo(inputFile);\n            System.out.println(&quot;test&quot;);\n        }else{\n            System.out.println(&quot;error&quot;);\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1665254085,"post_id":73999524,"comment_id":130658685,"body_markdown":"`collection.addPattern(&quot;/*&quot;)`","body":"<code>collection.addPattern(&quot;&#47;*&quot;)</code>"},{"owner":{"account_id":21087616,"reputation":303,"user_id":15500332,"display_name":"Vel_More"},"score":0,"creation_date":1665254453,"post_id":73999524,"comment_id":130658757,"body_markdown":"@BoristheSpider I suppose that this is the place that I should place my URL? With the asterisk that means that the whole traffic will be executed? Sorry I am completely new to this!!!","body":"@BoristheSpider I suppose that this is the place that I should place my URL? With the asterisk that means that the whole traffic will be executed? Sorry I am completely new to this!!!"},{"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1665442534,"post_id":73999524,"comment_id":130697117,"body_markdown":"@Vel_More could you update your question with links to your tutorials, please? It&#39;d be more informative and descriptive. Thank you.","body":"@Vel_More could you update your question with links to your tutorials, please? It&#39;d be more informative and descriptive. Thank you."}],"owner":{"account_id":21087616,"reputation":303,"user_id":15500332,"display_name":"Vel_More"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665253529,"creation_date":1665253529,"question_id":73999524,"body_markdown":"In my Spring Boot app in which I&#39;ve implemented Spring Security, I am currently running it on HTTPS but I want to expose a certain actuator endpoint on HTTP in order to Prometheus gets metrics from. Every tutorial I&#39;ve found so far, has only the opposite. I know that the below code in my Main Class redirects all HTTP traffic to HTTPS but since I&#39;ve already achieved that, I tried if I could modify the code for the opposite result only to no avail.\r\n\r\nThen, I tried to check if somehow I could achieve my goal with,\r\n```\r\nmanagement.server.ssl.enabled=false\r\nmanagement.server.port=8081\r\n```\r\n\r\nbut I couldn&#39;t get any results in my browser in exposing Prometheus metrics, since for some reason the port isn&#39;t accesible.\r\n\r\nSo is it possible to have my whole application on HTTPS as it is right now, and redirect - expose just one Get Mapping mathod on HTTP? Just for testing purposes I have the Greeting Method below, in order to make my implementations.\r\n\r\n**Rest Controller Class (For Test Purposes)**\r\n```\r\npackage com.andrekreou.iot.control.controller;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class Sample {\r\n\r\n    @GetMapping(value = &quot;/greeting&quot;)\r\n    public String greeting() {\r\n        return &quot;I am working with both HTTP and HTTPS&quot;;\r\n    }\r\n}\r\n```\r\n\r\n**Security Config Class**\r\n\r\n```\r\npackage com.andrekreou.iot.authentication.security;\r\n\r\nimport com.andrekreou.iot.authentication.user.ApplicationUserService;\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@AllArgsConstructor\r\n@EnableWebSecurity\r\npublic class ApplicationSecurityConfig {\r\n\r\n    private final ApplicationUserService applicationUserService;\r\n\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    @Bean\r\n    protected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf().disable()\r\n                .requiresChannel()\r\n                    .antMatchers(&quot;/greeting&quot;,&quot;/actuator/prometheus&quot;)\r\n                    .requiresInsecure()\r\n                .and()\r\n                .authorizeRequests()\r\n                    .antMatchers(&quot;/api/v*/registration/**&quot;,&quot;/register*&quot;,&quot;/login&quot;,&quot;/registration&quot;,&quot;/registration-complete&quot;,&quot;/greeting&quot;).permitAll()\r\n                    .anyRequest()\r\n                    .authenticated()\r\n                    .and()\r\n                .formLogin()\r\n                    .loginPage(&quot;/login&quot;)\r\n                    .usernameParameter(&quot;email&quot;)\r\n                    .permitAll()\r\n                    .defaultSuccessUrl(&quot;/&quot;,true)\r\n                .and()\r\n                .logout()\r\n                    .logoutUrl(&quot;/logout&quot;)\r\n                    .clearAuthentication(true)\r\n                    .invalidateHttpSession(true)\r\n                    .deleteCookies(&quot;JSESSIONID&quot;,&quot;Idea-2e8e7cee&quot;)\r\n                    .logoutSuccessUrl(&quot;/login&quot;);\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\r\n        DaoAuthenticationProvider provider =\r\n                new DaoAuthenticationProvider();\r\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\r\n        provider.setUserDetailsService(applicationUserService);\r\n        return provider;\r\n    }\r\n}\r\n```\r\n\r\n**Main Class**\r\n\r\n```\r\npackage com.andrekreou.iot;\r\n\r\nimport io.micrometer.core.aop.TimedAspect;\r\nimport io.micrometer.core.instrument.MeterRegistry;\r\nimport org.apache.catalina.Context;\r\nimport org.apache.catalina.connector.Connector;\r\nimport org.apache.tomcat.util.descriptor.web.SecurityCollection;\r\nimport org.apache.tomcat.util.descriptor.web.SecurityConstraint;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\r\nimport org.springframework.boot.web.servlet.server.ServletWebServerFactory;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n@SpringBootApplication\r\n@EnableJpaRepositories\r\npublic class IotApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(IotApplication.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic TimedAspect timedAspect(MeterRegistry registry) {\r\n\t\treturn new TimedAspect(registry);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ServletWebServerFactory servletContainer() {\r\n\t\tTomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory() {\r\n\t\t\t@Override\r\n\t\t\tprotected void postProcessContext(Context context) {\r\n\t\t\t\tSecurityConstraint securityConstraint = new SecurityConstraint();\r\n\t\t\t\tsecurityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\r\n\t\t\t\tSecurityCollection collection = new SecurityCollection();\r\n\t\t\t\tcollection.addPattern(&quot;/*&quot;);\r\n\t\t\t\tsecurityConstraint.addCollection(collection);\r\n\t\t\t\tcontext.addConstraint(securityConstraint);\r\n\t\t\t}\r\n\t\t};\r\n\t\ttomcat.addAdditionalTomcatConnectors(redirectConnector());\r\n\t\treturn tomcat;\r\n\t}\r\n\r\n\tprivate Connector redirectConnector() {\r\n\t\tConnector connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\r\n\t\tconnector.setScheme(&quot;http&quot;);\r\n\t\tconnector.setPort(8080);\r\n\t\tconnector.setSecure(false);\r\n\t\tconnector.setRedirectPort(8443);\r\n\t\treturn connector;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n**Application.properties**\r\n\r\n```\r\n#Server properties for HTTPS configuration\r\nserver.ssl.enabled=true\r\nserver.ssl.key-store-type=PKCS12\r\nserver.ssl.key-store=classpath:local-ssl.p12\r\nserver.ssl.key-store-password=&lt;password&gt;\r\nserver.ssl.key-alias=local_ssl\r\nserver.port=8443\r\n```","title":"Expose endpoint in HTTP over HTTPS in Spring Boot application","body":"<p>In my Spring Boot app in which I've implemented Spring Security, I am currently running it on HTTPS but I want to expose a certain actuator endpoint on HTTP in order to Prometheus gets metrics from. Every tutorial I've found so far, has only the opposite. I know that the below code in my Main Class redirects all HTTP traffic to HTTPS but since I've already achieved that, I tried if I could modify the code for the opposite result only to no avail.</p>\n<p>Then, I tried to check if somehow I could achieve my goal with,</p>\n<pre><code>management.server.ssl.enabled=false\nmanagement.server.port=8081\n</code></pre>\n<p>but I couldn't get any results in my browser in exposing Prometheus metrics, since for some reason the port isn't accesible.</p>\n<p>So is it possible to have my whole application on HTTPS as it is right now, and redirect - expose just one Get Mapping mathod on HTTP? Just for testing purposes I have the Greeting Method below, in order to make my implementations.</p>\n<p><strong>Rest Controller Class (For Test Purposes)</strong></p>\n<pre><code>package com.andrekreou.iot.control.controller;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class Sample {\n\n    @GetMapping(value = &quot;/greeting&quot;)\n    public String greeting() {\n        return &quot;I am working with both HTTP and HTTPS&quot;;\n    }\n}\n</code></pre>\n<p><strong>Security Config Class</strong></p>\n<pre><code>package com.andrekreou.iot.authentication.security;\n\nimport com.andrekreou.iot.authentication.user.ApplicationUserService;\nimport lombok.AllArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@AllArgsConstructor\n@EnableWebSecurity\npublic class ApplicationSecurityConfig {\n\n    private final ApplicationUserService applicationUserService;\n\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Bean\n    protected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .requiresChannel()\n                    .antMatchers(&quot;/greeting&quot;,&quot;/actuator/prometheus&quot;)\n                    .requiresInsecure()\n                .and()\n                .authorizeRequests()\n                    .antMatchers(&quot;/api/v*/registration/**&quot;,&quot;/register*&quot;,&quot;/login&quot;,&quot;/registration&quot;,&quot;/registration-complete&quot;,&quot;/greeting&quot;).permitAll()\n                    .anyRequest()\n                    .authenticated()\n                    .and()\n                .formLogin()\n                    .loginPage(&quot;/login&quot;)\n                    .usernameParameter(&quot;email&quot;)\n                    .permitAll()\n                    .defaultSuccessUrl(&quot;/&quot;,true)\n                .and()\n                .logout()\n                    .logoutUrl(&quot;/logout&quot;)\n                    .clearAuthentication(true)\n                    .invalidateHttpSession(true)\n                    .deleteCookies(&quot;JSESSIONID&quot;,&quot;Idea-2e8e7cee&quot;)\n                    .logoutSuccessUrl(&quot;/login&quot;);\n\n        return http.build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\n        DaoAuthenticationProvider provider =\n                new DaoAuthenticationProvider();\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\n        provider.setUserDetailsService(applicationUserService);\n        return provider;\n    }\n}\n</code></pre>\n<p><strong>Main Class</strong></p>\n<pre><code>package com.andrekreou.iot;\n\nimport io.micrometer.core.aop.TimedAspect;\nimport io.micrometer.core.instrument.MeterRegistry;\nimport org.apache.catalina.Context;\nimport org.apache.catalina.connector.Connector;\nimport org.apache.tomcat.util.descriptor.web.SecurityCollection;\nimport org.apache.tomcat.util.descriptor.web.SecurityConstraint;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\nimport org.springframework.boot.web.servlet.server.ServletWebServerFactory;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@SpringBootApplication\n@EnableJpaRepositories\npublic class IotApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(IotApplication.class, args);\n    }\n\n    @Bean\n    public TimedAspect timedAspect(MeterRegistry registry) {\n        return new TimedAspect(registry);\n    }\n\n    @Bean\n    public ServletWebServerFactory servletContainer() {\n        TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory() {\n            @Override\n            protected void postProcessContext(Context context) {\n                SecurityConstraint securityConstraint = new SecurityConstraint();\n                securityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\n                SecurityCollection collection = new SecurityCollection();\n                collection.addPattern(&quot;/*&quot;);\n                securityConstraint.addCollection(collection);\n                context.addConstraint(securityConstraint);\n            }\n        };\n        tomcat.addAdditionalTomcatConnectors(redirectConnector());\n        return tomcat;\n    }\n\n    private Connector redirectConnector() {\n        Connector connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\n        connector.setScheme(&quot;http&quot;);\n        connector.setPort(8080);\n        connector.setSecure(false);\n        connector.setRedirectPort(8443);\n        return connector;\n    }\n}\n\n</code></pre>\n<p><strong>Application.properties</strong></p>\n<pre><code>#Server properties for HTTPS configuration\nserver.ssl.enabled=true\nserver.ssl.key-store-type=PKCS12\nserver.ssl.key-store=classpath:local-ssl.p12\nserver.ssl.key-store-password=&lt;password&gt;\nserver.ssl.key-alias=local_ssl\nserver.port=8443\n</code></pre>\n"},{"tags":["java","json","jolt"],"comments":[{"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"score":0,"creation_date":1665150549,"post_id":73987899,"comment_id":130638900,"body_markdown":"Jolt converts a JSON value into a JSON value. Considering `&quot;availableBalance&quot; : &quot;2999.25&quot;` is not a valid JSON, I presumed that you need to get such a result `{\n  &quot;value&quot; : &quot;availableBalance : 2999.25&quot;\n}`, don&#39;t you ?","body":"Jolt converts a JSON value into a JSON value. Considering <code>&quot;availableBalance&quot; : &quot;2999.25&quot;</code> is not a valid JSON, I presumed that you need to get such a result <code>{   &quot;value&quot; : &quot;availableBalance : 2999.25&quot; }</code>, don&#39;t you ?"}],"answers":[{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665218240,"creation_date":1665150405,"answer_id":73988149,"question_id":73987899,"body_markdown":"You need a **modify** transformation spec as well such as\r\n```json\r\n[\r\n  {\r\n   // reduce to simple array &quot;value&quot; : [ &quot;availableBalance&quot;, &quot;2999.25&quot; ] nested within an object\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;value&quot;: &quot;&amp;&quot;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n   // combine components of the array so as to reform as a string\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: &quot;=join(&#39; : &#39;,@(1,&amp;))&quot;\r\n    }\r\n  }\r\n]\r\n```\r\n\r\n**Edit**: You can alternatively try the following for the new case :\r\n```json\r\n[\r\n  {\r\n    // dissipate each array into different object with respect to arrayIndex values\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;value&quot;: &quot;@(1,arrayIndex).&amp;&quot;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    // combine components of each array colon-separatedly\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*&quot;: &quot;=join(&#39; : &#39;,@(1,&amp;))&quot;\r\n      }\r\n    }\r\n  },\r\n  {\r\n    // convert to a unique array\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*&quot;: &quot;&amp;&quot;\r\n      }\r\n    }\r\n  },\r\n  {\r\n    // combine components of each array comma-separatedly\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: &quot;=join(&#39; , &#39;,@(1,value))&quot;\r\n    }\r\n  }\r\n]\r\n```","title":"Many objects to one Object using jolt","body":"<p>You need a <strong>modify</strong> transformation spec as well such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n   // reduce to simple array &quot;value&quot; : [ &quot;availableBalance&quot;, &quot;2999.25&quot; ] nested within an object\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*&quot;: {\n          &quot;value&quot;: &quot;&amp;&quot;\n        }\n      }\n    }\n  },\n  {\n   // combine components of the array so as to reform as a string\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;=join(' : ',@(1,&amp;))&quot;\n    }\n  }\n]\n</code></pre>\n<p><strong>Edit</strong>: You can alternatively try the following for the new case :</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    // dissipate each array into different object with respect to arrayIndex values\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*&quot;: {\n          &quot;value&quot;: &quot;@(1,arrayIndex).&amp;&quot;\n        }\n      }\n    }\n  },\n  {\n    // combine components of each array colon-separatedly\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*&quot;: &quot;=join(' : ',@(1,&amp;))&quot;\n      }\n    }\n  },\n  {\n    // convert to a unique array\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*&quot;: &quot;&amp;&quot;\n      }\n    }\n  },\n  {\n    // combine components of each array comma-separatedly\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;=join(' , ',@(1,value))&quot;\n    }\n  }\n]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665253386,"creation_date":1665156811,"answer_id":73989513,"question_id":73987899,"body_markdown":"I know how to do it by another library _Josson_. You may consider to use it.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\nDeserialization\r\n\r\n    Josson josson = Josson.fromJsonString(inputJSON);\r\n\r\n---\r\nTransform to an array of string\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;characteristic&quot; +\r\n        &quot;.group(arrayIndex)&quot; +\r\n        &quot;.concat(elements[name=&#39;usageCharacteristicName&#39;].value&quot; +\r\n        &quot;       ,&#39; : &#39;&quot; +\r\n        &quot;       ,elements[name=&#39;usageCharacteristicValue&#39;].value)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n    \r\nOutput\r\n\r\n    [ &quot;availableBalance : 2999.25&quot;, &quot;Name : Jack&quot;, &quot;Likes : Code&quot; ]\r\n\r\n---\r\nTransform to a single string\r\n\r\n    String str = josson.getString(\r\n        &quot;characteristic&quot; +\r\n        &quot;.group(arrayIndex)&quot; +\r\n        &quot;.concat(elements[name=&#39;usageCharacteristicName&#39;].value&quot; +\r\n        &quot;       ,&#39; : &#39;&quot; +\r\n        &quot;       ,elements[name=&#39;usageCharacteristicValue&#39;].value)&quot; +\r\n        &quot;.join(&#39;, &#39;)&quot;);\r\n    System.out.println(str);\r\n\r\nOutput\r\n\r\n    availableBalance : 2999.25, Name : Jack, Likes : Code\r\n\r\n---\r\nTransform to a map\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;characteristic&quot; +\r\n        &quot;.group(arrayIndex)&quot; +\r\n        &quot;.map(elements[name=&#39;usageCharacteristicName&#39;].value::elements[name=&#39;usageCharacteristicValue&#39;].value)&quot; +\r\n        &quot;.mergeObjects()&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\nOutput\r\n\r\n    {\r\n      &quot;availableBalance&quot; : &quot;2999.25&quot;,\r\n      &quot;Name&quot; : &quot;Jack&quot;,\r\n      &quot;Likes&quot; : &quot;Code&quot;\r\n    }\r\n\r\n---\r\nTransform to a map with sorted &quot;arrayIndex&quot; as key\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;characteristic&quot; +\r\n        &quot;.group(arrayIndex)&quot; +\r\n        &quot;.sort(arrayIndex)&quot; +\r\n        &quot;.map(arrayIndex.prepend(&#39;arrayIndex&#39;)::&quot; +\r\n        &quot;       concat(elements[name=&#39;usageCharacteristicName&#39;].value&quot; +\r\n        &quot;             ,&#39; : &#39;&quot; +\r\n        &quot;             ,elements[name=&#39;usageCharacteristicValue&#39;].value))&quot; +\r\n        &quot;.mergeObjects()&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\nOutput\r\n\r\n    {\r\n      &quot;arrayIndex0&quot; : &quot;Name : Jack&quot;,\r\n      &quot;arrayIndex1&quot; : &quot;Likes : Code&quot;,\r\n      &quot;arrayIndex2&quot; : &quot;availableBalance : 2999.25&quot;\r\n    }","title":"Many objects to one Object using jolt","body":"<p>I know how to do it by another library <em>Josson</em>. You may consider to use it.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p>Deserialization</p>\n<pre><code>Josson josson = Josson.fromJsonString(inputJSON);\n</code></pre>\n<hr />\n<p>Transform to an array of string</p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;characteristic&quot; +\n    &quot;.group(arrayIndex)&quot; +\n    &quot;.concat(elements[name='usageCharacteristicName'].value&quot; +\n    &quot;       ,' : '&quot; +\n    &quot;       ,elements[name='usageCharacteristicValue'].value)&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p>Output</p>\n<pre><code>[ &quot;availableBalance : 2999.25&quot;, &quot;Name : Jack&quot;, &quot;Likes : Code&quot; ]\n</code></pre>\n<hr />\n<p>Transform to a single string</p>\n<pre><code>String str = josson.getString(\n    &quot;characteristic&quot; +\n    &quot;.group(arrayIndex)&quot; +\n    &quot;.concat(elements[name='usageCharacteristicName'].value&quot; +\n    &quot;       ,' : '&quot; +\n    &quot;       ,elements[name='usageCharacteristicValue'].value)&quot; +\n    &quot;.join(', ')&quot;);\nSystem.out.println(str);\n</code></pre>\n<p>Output</p>\n<pre><code>availableBalance : 2999.25, Name : Jack, Likes : Code\n</code></pre>\n<hr />\n<p>Transform to a map</p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;characteristic&quot; +\n    &quot;.group(arrayIndex)&quot; +\n    &quot;.map(elements[name='usageCharacteristicName'].value::elements[name='usageCharacteristicValue'].value)&quot; +\n    &quot;.mergeObjects()&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p>Output</p>\n<pre><code>{\n  &quot;availableBalance&quot; : &quot;2999.25&quot;,\n  &quot;Name&quot; : &quot;Jack&quot;,\n  &quot;Likes&quot; : &quot;Code&quot;\n}\n</code></pre>\n<hr />\n<p>Transform to a map with sorted &quot;arrayIndex&quot; as key</p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;characteristic&quot; +\n    &quot;.group(arrayIndex)&quot; +\n    &quot;.sort(arrayIndex)&quot; +\n    &quot;.map(arrayIndex.prepend('arrayIndex')::&quot; +\n    &quot;       concat(elements[name='usageCharacteristicName'].value&quot; +\n    &quot;             ,' : '&quot; +\n    &quot;             ,elements[name='usageCharacteristicValue'].value))&quot; +\n    &quot;.mergeObjects()&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p>Output</p>\n<pre><code>{\n  &quot;arrayIndex0&quot; : &quot;Name : Jack&quot;,\n  &quot;arrayIndex1&quot; : &quot;Likes : Code&quot;,\n  &quot;arrayIndex2&quot; : &quot;availableBalance : 2999.25&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26028604,"reputation":66,"user_id":19735179,"display_name":"Markin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665216848,"creation_date":1665170045,"answer_id":73991748,"question_id":73987899,"body_markdown":"I think this solve the problem\r\nspec\r\n```json\r\n[\r\n  {\r\n    //group keys and valeus for arrayIndex\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;characteristic&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;value&quot;: &quot;newArray[@(1,arrayIndex)].@(1,name)&quot;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    //create a new object use a key and valeus matchs previous\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;newArray&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;usageCharacteristicValue&quot;: &quot;@(1,usageCharacteristicName)&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\noutput\r\n```json\r\n{\r\n  &quot;Name&quot; : &quot;Jack&quot;,\r\n  &quot;Likes&quot; : &quot;Code&quot;,\r\n  &quot;availableBalance&quot; : &quot;2999.25&quot;\r\n}\r\n```\r\n\r\n","title":"Many objects to one Object using jolt","body":"<p>I think this solve the problem\nspec</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    //group keys and valeus for arrayIndex\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;characteristic&quot;: {\n        &quot;*&quot;: {\n          &quot;value&quot;: &quot;newArray[@(1,arrayIndex)].@(1,name)&quot;\n        }\n      }\n    }\n  },\n  {\n    //create a new object use a key and valeus matchs previous\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;newArray&quot;: {\n        &quot;*&quot;: {\n          &quot;usageCharacteristicValue&quot;: &quot;@(1,usageCharacteristicName)&quot;\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>output</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;Name&quot; : &quot;Jack&quot;,\n  &quot;Likes&quot; : &quot;Code&quot;,\n  &quot;availableBalance&quot; : &quot;2999.25&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":23675089,"reputation":3,"user_id":17701427,"display_name":"Siva Prasad Vajja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73991748,"answer_count":3,"score":0,"last_activity_date":1665253386,"creation_date":1665149335,"question_id":73987899,"body_markdown":"Hi working in Jolt transformation tool and getting know some in-depth details \r\nInput\r\n```json\r\n{\r\n  &quot;characteristic&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;usageCharacteristicName&quot;,\r\n      &quot;value&quot;: &quot;availableBalance&quot;,\r\n      &quot;@type&quot;: &quot;usageCharacteristic&quot;,\r\n      &quot;arrayIndex&quot;: &quot;2&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;usageCharacteristicValue&quot;,\r\n      &quot;value&quot;: &quot;2999.25&quot;,\r\n      &quot;@type&quot;: &quot;usageCharacteristic&quot;,\r\n      &quot;arrayIndex&quot;: &quot;2&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;usageCharacteristicName&quot;,\r\n      &quot;value&quot;: &quot;Name&quot;,\r\n      &quot;@type&quot;: &quot;usageCharacteristic&quot;,\r\n      &quot;arrayIndex&quot;: &quot;0&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;usageCharacteristicValue&quot;,\r\n      &quot;value&quot;: &quot;Jack&quot;,\r\n      &quot;@type&quot;: &quot;usageCharacteristic&quot;,\r\n      &quot;arrayIndex&quot;: &quot;0&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;usageCharacteristicName&quot;,\r\n      &quot;value&quot;: &quot;Likes&quot;,\r\n      &quot;@type&quot;: &quot;usageCharacteristic&quot;,\r\n      &quot;arrayIndex&quot;: &quot;1&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;usageCharacteristicValue&quot;,\r\n      &quot;value&quot;: &quot;Code&quot;,\r\n      &quot;@type&quot;: &quot;usageCharacteristic&quot;,\r\n      &quot;arrayIndex&quot;: &quot;1&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\nJolt Spec :\r\n\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;characteristic&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;arrayIndex&quot;: {\r\n            &quot;2&quot;: {\r\n              &quot;@(2,value)&quot;: &quot;data.queryBalance.accountBalance&quot;\r\n            },\r\n            &quot;0&quot;: {\r\n              &quot;@(2,value)&quot;: &quot;data.queryBalance.Name&quot;\r\n            },\r\n            &quot;1&quot;: {\r\n              &quot;@(2,value)&quot;: &quot;data.queryBalance.Likes&quot;\r\n            },\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nOutput :\r\n```json\r\n{\r\n  &quot;data&quot; : {\r\n    &quot;queryBalance&quot; : {\r\n      &quot;accountBalance&quot; : [ &quot;availableBalance&quot;, &quot;2999.25&quot; ],\r\n      &quot;Name&quot; : [ &quot;Name&quot;, &quot;Jack&quot; ],\r\n      &quot;Likes&quot; : [ &quot;Likes&quot;, &quot;Code&quot; ]\r\n    }\r\n  }\r\n}\r\n```\r\nthe Output i was getting is not good enough for me, want to do like String like bellow Expected.\r\n\r\nExpected Output :\r\n``` \r\n&quot;availableBalance&quot; : &quot;2999.25&quot;,\r\n&quot;Name&quot; : &quot;Jack&quot;,\r\n&quot;Likes&quot; : &quot;Code&quot;\r\n```\r\nhow do i get like a String ?\r\n\r\n\r\n\r\n\r\n","title":"Many objects to one Object using jolt","body":"<p>Hi working in Jolt transformation tool and getting know some in-depth details\nInput</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;characteristic&quot;: [\n    {\n      &quot;name&quot;: &quot;usageCharacteristicName&quot;,\n      &quot;value&quot;: &quot;availableBalance&quot;,\n      &quot;@type&quot;: &quot;usageCharacteristic&quot;,\n      &quot;arrayIndex&quot;: &quot;2&quot;\n    },\n    {\n      &quot;name&quot;: &quot;usageCharacteristicValue&quot;,\n      &quot;value&quot;: &quot;2999.25&quot;,\n      &quot;@type&quot;: &quot;usageCharacteristic&quot;,\n      &quot;arrayIndex&quot;: &quot;2&quot;\n    },\n    {\n      &quot;name&quot;: &quot;usageCharacteristicName&quot;,\n      &quot;value&quot;: &quot;Name&quot;,\n      &quot;@type&quot;: &quot;usageCharacteristic&quot;,\n      &quot;arrayIndex&quot;: &quot;0&quot;\n    },\n    {\n      &quot;name&quot;: &quot;usageCharacteristicValue&quot;,\n      &quot;value&quot;: &quot;Jack&quot;,\n      &quot;@type&quot;: &quot;usageCharacteristic&quot;,\n      &quot;arrayIndex&quot;: &quot;0&quot;\n    },\n    {\n      &quot;name&quot;: &quot;usageCharacteristicName&quot;,\n      &quot;value&quot;: &quot;Likes&quot;,\n      &quot;@type&quot;: &quot;usageCharacteristic&quot;,\n      &quot;arrayIndex&quot;: &quot;1&quot;\n    },\n    {\n      &quot;name&quot;: &quot;usageCharacteristicValue&quot;,\n      &quot;value&quot;: &quot;Code&quot;,\n      &quot;@type&quot;: &quot;usageCharacteristic&quot;,\n      &quot;arrayIndex&quot;: &quot;1&quot;\n    }\n  ]\n}\n</code></pre>\n<p>Jolt Spec :</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;characteristic&quot;: {\n        &quot;*&quot;: {\n          &quot;arrayIndex&quot;: {\n            &quot;2&quot;: {\n              &quot;@(2,value)&quot;: &quot;data.queryBalance.accountBalance&quot;\n            },\n            &quot;0&quot;: {\n              &quot;@(2,value)&quot;: &quot;data.queryBalance.Name&quot;\n            },\n            &quot;1&quot;: {\n              &quot;@(2,value)&quot;: &quot;data.queryBalance.Likes&quot;\n            },\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>Output :</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;data&quot; : {\n    &quot;queryBalance&quot; : {\n      &quot;accountBalance&quot; : [ &quot;availableBalance&quot;, &quot;2999.25&quot; ],\n      &quot;Name&quot; : [ &quot;Name&quot;, &quot;Jack&quot; ],\n      &quot;Likes&quot; : [ &quot;Likes&quot;, &quot;Code&quot; ]\n    }\n  }\n}\n</code></pre>\n<p>the Output i was getting is not good enough for me, want to do like String like bellow Expected.</p>\n<p>Expected Output :</p>\n<pre><code>&quot;availableBalance&quot; : &quot;2999.25&quot;,\n&quot;Name&quot; : &quot;Jack&quot;,\n&quot;Likes&quot; : &quot;Code&quot;\n</code></pre>\n<p>how do i get like a String ?</p>\n"},{"tags":["java","android","ionic-framework","capacitor"],"answers":[{"tags":[],"owner":{"account_id":1428527,"reputation":52235,"user_id":1351469,"accept_rate":100,"display_name":"jcesarmobile"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665253330,"creation_date":1665253330,"answer_id":73999499,"question_id":73995820,"body_markdown":"That should be a warning, your app should still build unless you have enabled some setting to not build if there are warnings.\r\n\r\nYou can update to capacitor 4, that line of code was removed.\r\nhttps://capacitorjs.com/docs/updating/4-0\r\n","title":"How do i fix Capacitor Web Settings error?","body":"<p>That should be a warning, your app should still build unless you have enabled some setting to not build if there are warnings.</p>\n<p>You can update to capacitor 4, that line of code was removed.\n<a href=\"https://capacitorjs.com/docs/updating/4-0\" rel=\"nofollow noreferrer\">https://capacitorjs.com/docs/updating/4-0</a></p>\n"}],"owner":{"account_id":23054574,"reputation":99,"user_id":17170807,"display_name":"Pella Post"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665253330,"creation_date":1665220997,"question_id":73995820,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nHello i am trying to build my capacitor 3 project. It works on iOS just fine but in Android version i am getting errors about WebSettings as it is seen on attached photo.\r\n\r\nI am pretty sure it&#39;s a Webview problem but i didnt find a solution online.\r\n\r\nMainActivity.java\r\n\r\n    package com.myproject.mobile;\r\n    import android.os.Bundle; \r\n    import com.getcapacitor.BridgeActivity;\r\n    import com.getcapacitor.Plugin;\r\n    import com.getcapacitor.community.fcm.FCMPlugin;\r\n    import java.util.ArrayList;\r\n    \r\n    public class MainActivity extends BridgeActivity {\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n             // Initializes the Bridge\r\n            this.init(savedInstanceState, new ArrayList&lt;Class&lt;? extends Plugin&gt;&gt;() {{\r\n            // Additional plugins you&#39;ve installed go here\r\n            **add(com.getcapacitor.community.facebooklogin.FacebookLogin.class);\r\n            add(com.getcapacitor.community.fcm.FCMPlugin.class);**\r\n          }});\r\n        }\r\n    }\r\n\r\nAndroidManifest.xml\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.rovespier.mobile&quot; android:versionName=&quot;1.0.19&quot; android:versionCode=&quot;10019&quot;&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n    \r\n            &lt;meta-data android:name=&quot;com.facebook.sdk.ApplicationId&quot; android:value=&quot;@string/facebook_app_id&quot;/&gt;\r\n            &lt;meta-data android:name=&quot;com.facebook.sdk.ClientToken&quot; android:value=&quot;@string/facebook_client_token&quot;/&gt;\r\n            \r\n            &lt;activity\r\n                android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|locale|smallestScreenSize|screenLayout|uiMode&quot;\r\n                android:name=&quot;com.rovespier.mobile.MainActivity&quot;\r\n                android:label=&quot;@string/title_activity_main&quot;\r\n                android:theme=&quot;@style/AppTheme.NoActionBarLaunch&quot;\r\n                android:launchMode=&quot;singleTask&quot;&gt;\r\n    \r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n    \r\n            &lt;/activity&gt;\r\n    \r\n            &lt;provider\r\n                android:name=&quot;androidx.core.content.FileProvider&quot;\r\n                android:authorities=&quot;${applicationId}.fileprovider&quot;\r\n                android:exported=&quot;false&quot;\r\n                android:grantUriPermissions=&quot;true&quot;&gt;\r\n                &lt;meta-data\r\n                    android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                    android:resource=&quot;@xml/file_paths&quot;&gt;&lt;/meta-data&gt;\r\n            &lt;/provider&gt;\r\n        &lt;/application&gt;\r\n    \r\n        &lt;!-- Permissions --&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;/manifest&gt;\r\n\r\n\r\nAny hint?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6lt0M.jpg","title":"How do i fix Capacitor Web Settings error?","body":"<p><a href=\"https://i.stack.imgur.com/6lt0M.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6lt0M.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Hello i am trying to build my capacitor 3 project. It works on iOS just fine but in Android version i am getting errors about WebSettings as it is seen on attached photo.</p>\n<p>I am pretty sure it's a Webview problem but i didnt find a solution online.</p>\n<p>MainActivity.java</p>\n<pre><code>package com.myproject.mobile;\nimport android.os.Bundle; \nimport com.getcapacitor.BridgeActivity;\nimport com.getcapacitor.Plugin;\nimport com.getcapacitor.community.fcm.FCMPlugin;\nimport java.util.ArrayList;\n\npublic class MainActivity extends BridgeActivity {\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n         // Initializes the Bridge\n        this.init(savedInstanceState, new ArrayList&lt;Class&lt;? extends Plugin&gt;&gt;() {{\n        // Additional plugins you've installed go here\n        **add(com.getcapacitor.community.facebooklogin.FacebookLogin.class);\n        add(com.getcapacitor.community.fcm.FCMPlugin.class);**\n      }});\n    }\n}\n</code></pre>\n<p>AndroidManifest.xml</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.rovespier.mobile&quot; android:versionName=&quot;1.0.19&quot; android:versionCode=&quot;10019&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n\n        &lt;meta-data android:name=&quot;com.facebook.sdk.ApplicationId&quot; android:value=&quot;@string/facebook_app_id&quot;/&gt;\n        &lt;meta-data android:name=&quot;com.facebook.sdk.ClientToken&quot; android:value=&quot;@string/facebook_client_token&quot;/&gt;\n        \n        &lt;activity\n            android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|locale|smallestScreenSize|screenLayout|uiMode&quot;\n            android:name=&quot;com.rovespier.mobile.MainActivity&quot;\n            android:label=&quot;@string/title_activity_main&quot;\n            android:theme=&quot;@style/AppTheme.NoActionBarLaunch&quot;\n            android:launchMode=&quot;singleTask&quot;&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n        &lt;/activity&gt;\n\n        &lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;${applicationId}.fileprovider&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/file_paths&quot;&gt;&lt;/meta-data&gt;\n        &lt;/provider&gt;\n    &lt;/application&gt;\n\n    &lt;!-- Permissions --&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>Any hint?</p>\n"},{"tags":["java","java-time","java.time.instant","date-manipulation"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1665140680,"post_id":73986017,"comment_id":130635420,"body_markdown":"Unrelated, but Java 8 is quite old already. Consider upgrading, if possible. Latest version is 19.","body":"Unrelated, but Java 8 is quite old already. Consider upgrading, if possible. Latest version is 19."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1665140855,"post_id":73986017,"comment_id":130635490,"body_markdown":"@Zabuzard - The latest LTS version (17) would be a better choice than 19 ... unless the OP is happy to upgrade Java versions every 6 months on average.","body":"@Zabuzard - The latest LTS version (17) would be a better choice than 19 ... unless the OP is happy to upgrade Java versions every 6 months on average."},{"owner":{"account_id":19095150,"reputation":79,"user_id":13944596,"display_name":"Hamza LAHLOU"},"score":0,"creation_date":1665141345,"post_id":73986017,"comment_id":130635646,"body_markdown":"Thank you guys, that was very helpful. If it was up to me I would upgrade to more recent of Java, but the client&#39;s app is running on java 8 so I need to work with that version.","body":"Thank you guys, that was very helpful. If it was up to me I would upgrade to more recent of Java, but the client&#39;s app is running on java 8 so I need to work with that version."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1665252769,"post_id":73986017,"comment_id":130658433,"body_markdown":"In which time zone? New Year doesn’t happen at the same instant in all time zones.","body":"In which time zone? New Year doesn’t happen at the same instant in all time zones."}],"answers":[{"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665140349,"creation_date":1665140194,"answer_id":73986113,"question_id":73986017,"body_markdown":"Something like this should do the trick:\r\n\r\n```java\r\nint year = 2022;\r\n\r\nInstant instant = Year.of(year) // 2022\r\n  .atDay(1)                     // 2022-01-01\r\n  .atStartOfDay()               // 2022-01-01 00:00:00\r\n  .toInstant(ZoneOffset.UTC);   // applied to timeline\r\n```\r\n\r\nThere are more ways, but they essentially all go kinda that route. Have a look at the Javadoc and explore more: [java.time package][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/package-summary.html","title":"Create first Instant of year 2022","body":"<p>Something like this should do the trick:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int year = 2022;\n\nInstant instant = Year.of(year) // 2022\n  .atDay(1)                     // 2022-01-01\n  .atStartOfDay()               // 2022-01-01 00:00:00\n  .toInstant(ZoneOffset.UTC);   // applied to timeline\n</code></pre>\n<p>There are more ways, but they essentially all go kinda that route. Have a look at the Javadoc and explore more: <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time package</a></p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665140341,"creation_date":1665140341,"answer_id":73986147,"question_id":73986017,"body_markdown":"Something like that should do the trick:\r\n```\r\nint year = 2022;\r\nZoneId zoneId = ZoneId.of(&quot;UTC&quot;);\r\nInstant instant = ZonedDateTime.of(year, 1, 1, 0, 0, 0, 0, zoneId)\r\n            .toInstant();\r\n```\r\nCreates `ZonedDateTime` at 00:00:00 on the january 1 in the target year, at required time zone and converts to instant.","title":"Create first Instant of year 2022","body":"<p>Something like that should do the trick:</p>\n<pre><code>int year = 2022;\nZoneId zoneId = ZoneId.of(&quot;UTC&quot;);\nInstant instant = ZonedDateTime.of(year, 1, 1, 0, 0, 0, 0, zoneId)\n            .toInstant();\n</code></pre>\n<p>Creates <code>ZonedDateTime</code> at 00:00:00 on the january 1 in the target year, at required time zone and converts to instant.</p>\n"}],"owner":{"account_id":19095150,"reputation":79,"user_id":13944596,"display_name":"Hamza LAHLOU"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":6,"up_vote_count":2,"closed_date":1665191725,"answer_count":2,"score":-4,"last_activity_date":1665252646,"creation_date":1665139673,"question_id":73986017,"body_markdown":"I have an ```int``` representing the year 2022, and I want to create an ```Instant``` object representing the first instant of the year, meaning: `2022-01-01 00:00:00`.\r\n\r\n```\r\nint year = 2022;\r\n\r\nInstant instant = ...\r\n```\r\n\r\nHow can we do that in java 8?","title":"Create first Instant of year 2022","body":"<p>I have an <code>int</code> representing the year 2022, and I want to create an <code>Instant</code> object representing the first instant of the year, meaning: <code>2022-01-01 00:00:00</code>.</p>\n<pre><code>int year = 2022;\n\nInstant instant = ...\n</code></pre>\n<p>How can we do that in java 8?</p>\n"},{"tags":["java","docker","ssl","wildfly","keycloak"],"comments":[{"owner":{"account_id":4077251,"reputation":26290,"user_id":3348604,"display_name":"Jan Garaj"},"score":0,"creation_date":1665251895,"post_id":73996654,"comment_id":130658279,"body_markdown":"Your browser communicates with Nginx in this setup =&gt; you have some problem with Nginx setup, not with Keycloak. Did  you check used Certbot doc? Maybe `include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot` is missing.","body":"Your browser communicates with Nginx in this setup =&gt; you have some problem with Nginx setup, not with Keycloak. Did  you check used Certbot doc? Maybe <code>include &#47;etc&#47;letsencrypt&#47;options-ssl-nginx.conf; # managed by Certbot</code> is missing."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665229156,"creation_date":1665229156,"answer_id":73996683,"question_id":73996654,"body_markdown":"It seems to me you mounted volumes onto the path where Keycloak expects the private key and certificate files. That may result in directories being created on that level, and Keycloak cannot load the files as expected.\r\n\r\nTry placing both files into one directory, then mount that directory.\r\n\r\nIn any case verify by going into the container and check the available files.","title":"Jboss/Keycloak (docker image) &amp; WildFly - cannot use SSL/HTTPS","body":"<p>It seems to me you mounted volumes onto the path where Keycloak expects the private key and certificate files. That may result in directories being created on that level, and Keycloak cannot load the files as expected.</p>\n<p>Try placing both files into one directory, then mount that directory.</p>\n<p>In any case verify by going into the container and check the available files.</p>\n"},{"tags":[],"owner":{"account_id":19670587,"reputation":1197,"user_id":17274803,"display_name":"Octavian Niculescu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665252416,"creation_date":1665252416,"answer_id":73999390,"question_id":73996654,"body_markdown":"The problem was that I was using the same certificate for both my domain and subdomain and it wasn&#39;t a wildcard certificate. :(\r\n\r\nGenerating another certificate for my subdomain fixed it.","title":"Jboss/Keycloak (docker image) &amp; WildFly - cannot use SSL/HTTPS","body":"<p>The problem was that I was using the same certificate for both my domain and subdomain and it wasn't a wildcard certificate. :(</p>\n<p>Generating another certificate for my subdomain fixed it.</p>\n"}],"owner":{"account_id":19670587,"reputation":1197,"user_id":17274803,"display_name":"Octavian Niculescu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665252416,"creation_date":1665228813,"question_id":73996654,"body_markdown":"So I want to use a Keycloak instance inside a Docker container, proxied by Nginx.\r\n\r\nI want my Keycloak server to use HTTPS. For some reason, I get &quot;Connection not secure in the browser&quot; even though I followed the steps for using SSL.\r\n````\r\nhttps://hub.docker.com/r/jboss/keycloak/\r\n\r\nKeycloak image allows you to specify both a private key and a certificate for serving HTTPS over port 8443. In that case you need to provide two files:\r\n\r\n    tls.crt - a certificate\r\n    tls.key - a private key\r\n\r\nThose files need to be mounted in /etc/x509/https directory. The image will automatically convert them into a Java keystore and reconfigure Wildfly to use it. NOTE: When using volume mounts in containers the files will be mounted in the container as owned by root, as the default permission on the keyfile will most likely be 700 it will result in an empty keystore. You will either have to make the key world readable or extend the image to add the keys with the appropriate owner.\r\n````\r\n\r\nMy Keycloak container looks like this inside the docker-compose:\r\n````\r\nkeycloak:\r\n        depends_on:\r\n          - mediere-api\r\n        container_name: best-keycloak\r\n        image: jboss/keycloak:${KEYCLOAK_VERSION}\r\n        restart: unless-stopped\r\n        env_file:\r\n          - .env\r\n        volumes:\r\n          - ../../mediere-react/certs/fullchain.pem:/etc/x509/https/tls.crt\r\n          - ../../mediere-react/certs/privkey.pem:/etc/x509/https/tls.key\r\n        expose:\r\n          - &quot;8443&quot;\r\n````\r\n.env\r\n````\r\nKEYCLOAK_VERSION=16.1.0\r\nKEYCLOAK_HTTPS_PORT= 8443\r\nPROXY_ADDRESS_FORWARDING=true\r\n````\r\n\r\nnginx\r\n````\r\nupstream keycloak_backend {\r\n  server keycloak:8443;\r\n}\r\n\r\nserver {\r\n    listen 443 ssl;\r\n    server_name auth.mywebserver.com;\r\n    ssl_certificate /etc/nginx/certs/fullchain.pem; # managed by Certbot\r\n    ssl_certificate_key /etc/nginx/certs/privkey.pem; # managed by Certbot\r\n    location /auth/ {\r\n          proxy_pass &quot;https://keycloak_backend/auth/&quot;;\r\n    }\r\n    location /auth/admin {\r\n          proxy_pass &quot;https://keycloak_backend/auth/admin&quot;;\r\n    }\r\n}\r\n````\r\n\r\nContainer logs\r\n````\r\n11:24:09,710 INFO  [org.jboss.as] (MSC service thread 1-1) WFLYSRV0049: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) starting\r\n11:24:09,928 INFO  [org.jboss.vfs] (MSC service thread 1-1) VFS000002: Failed to clean existing content for temp file provider of type temp. Enable DEBUG level log to find what caused this\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by org.wildfly.extension.elytron.SSLDefinitions (jar:file:/opt/jboss/keycloak/modules/system/layers/base/org/wildfly/extension/elytron/main/wildfly-elytron-integration-18.0.0.Final.jar!/) to method com.sun.net.ssl.internal.ssl.Provider.isFIPS()\r\nWARNING: Please consider reporting this to the maintainers of org.wildfly.extension.elytron.SSLDefinitions\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n11:24:11,689 INFO  [org.wildfly.security] (ServerService Thread Pool -- 19) ELY00001: WildFly Elytron version 1.18.1.Final\r\n11:24:14,254 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-2) WFLYELY00023: KeyStore file &#39;/opt/jboss/keycloak/standalone/configuration/application.keystore&#39; does not exist. Used blank.\r\n11:24:14,282 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-1) WFLYELY01084: KeyStore /opt/jboss/keycloak/standalone/configuration/application.keystore not found, it will be auto generated on first use with a self-signed certificate for host localhost\r\n11:24:14,440 INFO  [org.jboss.as.patching] (MSC service thread 1-2) WFLYPAT0050: Keycloak cumulative patch ID is: base, one-off patches include: none\r\n11:24:14,729 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\r\n11:24:14,741 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) started in 5609ms - Started 49 of 72 services (24 services are lazy, passive or on-demand)\r\nThe batch executed successfully\r\n11:24:15,163 INFO  [org.jboss.as] (MSC service thread 1-2) WFLYSRV0050: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) stopped in 33ms\r\n11:24:17,976 INFO  [org.jboss.modules] (CLI command executor) JBoss Modules version 2.0.0.Final\r\n11:24:18,110 INFO  [org.jboss.msc] (CLI command executor) JBoss MSC version 1.4.13.Final\r\n11:24:18,126 INFO  [org.jboss.threads] (CLI command executor) JBoss Threads version 2.4.0.Final\r\n11:24:18,356 INFO  [org.jboss.as] (MSC service thread 1-2) WFLYSRV0049: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) starting\r\n11:24:18,512 INFO  [org.jboss.vfs] (MSC service thread 1-2) VFS000002: Failed to clean existing content for temp file provider of type temp. Enable DEBUG level log to find what caused this\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by org.wildfly.extension.elytron.SSLDefinitions (jar:file:/opt/jboss/keycloak/modules/system/layers/base/org/wildfly/extension/elytron/main/wildfly-elytron-integration-18.0.0.Final.jar!/) to method com.sun.net.ssl.internal.ssl.Provider.isFIPS()\r\nWARNING: Please consider reporting this to the maintainers of org.wildfly.extension.elytron.SSLDefinitions\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n11:24:20,262 INFO  [org.wildfly.security] (ServerService Thread Pool -- 21) ELY00001: WildFly Elytron version 1.18.1.Final\r\n11:24:23,068 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-1) WFLYELY00023: KeyStore file &#39;/opt/jboss/keycloak/standalone/configuration/application.keystore&#39; does not exist. Used blank.\r\n11:24:23,093 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-2) WFLYELY01084: KeyStore /opt/jboss/keycloak/standalone/configuration/application.keystore not found, it will be auto generated on first use with a self-signed certificate for host localhost\r\n11:24:23,213 INFO  [org.jboss.as.patching] (MSC service thread 1-1) WFLYPAT0050: Keycloak cumulative patch ID is: base, one-off patches include: none\r\n11:24:23,523 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\r\n11:24:23,533 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) started in 5533ms - Started 49 of 79 services (31 services are lazy, passive or on-demand)\r\nThe batch executed successfully\r\n11:24:23,951 INFO  [org.jboss.as] (MSC service thread 1-2) WFLYSRV0050: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) stopped in 31ms\r\nCreating HTTPS keystore via OpenShift&#39;s service serving x509 certificate secrets..\r\nHTTPS keystore successfully created at: /opt/jboss/keycloak/standalone/configuration/keystores/https-keystore.jks\r\n=========================================================================\r\n\r\n  JBoss Bootstrap Environment\r\n\r\n  JBOSS_HOME: /opt/jboss/keycloak\r\n\r\n  JAVA: java\r\n\r\n  JAVA_OPTS:  -server -Xms64m -Xmx512m -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djava.awt.headless=true   --add-exports=java.desktop/sun.awt=ALL-UNNAMED --add-exports=java.naming/com.sun.jndi.ldap=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.security=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.management/javax.management=ALL-UNNAMED --add-opens=java.naming/javax.naming=ALL-UNNAMED\r\n\r\n=========================================================================\r\n\r\n11:24:46,662 INFO  [org.jboss.modules] (main) JBoss Modules version 2.0.0.Final\r\n11:24:48,087 INFO  [org.jboss.msc] (main) JBoss MSC version 1.4.13.Final\r\n11:24:48,135 INFO  [org.jboss.threads] (main) JBoss Threads version 2.4.0.Final\r\n11:24:48,440 INFO  [org.jboss.as] (MSC service thread 1-2) WFLYSRV0049: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) starting\r\n11:24:48,629 INFO  [org.jboss.vfs] (MSC service thread 1-2) VFS000002: Failed to clean existing content for temp file provider of type temp. Enable DEBUG level log to find what caused this\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by org.wildfly.extension.elytron.SSLDefinitions (jar:file:/opt/jboss/keycloak/modules/system/layers/base/org/wildfly/extension/elytron/main/wildfly-elytron-integration-18.0.0.Final.jar!/) to method com.sun.net.ssl.internal.ssl.Provider.isFIPS()\r\nWARNING: Please consider reporting this to the maintainers of org.wildfly.extension.elytron.SSLDefinitions\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n11:24:50,529 INFO  [org.wildfly.security] (ServerService Thread Pool -- 21) ELY00001: WildFly Elytron version 1.18.1.Final\r\n11:24:53,539 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)\r\n11:24:53,592 INFO  [org.xnio] (MSC service thread 1-2) XNIO version 3.8.5.Final\r\n11:24:53,620 INFO  [org.xnio.nio] (MSC service thread 1-2) XNIO NIO Implementation Version 3.8.5.Final\r\n11:24:53,734 INFO  [org.jboss.remoting] (MSC service thread 1-1) JBoss Remoting version 5.0.23.Final\r\n11:24:53,790 INFO  [org.jboss.as.clustering.jgroups] (ServerService Thread Pool -- 42) WFLYCLJG0001: Activating JGroups subsystem. JGroups version 4.2.11\r\n11:24:53,797 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 49) WFLYNAM0001: Activating Naming Subsystem\r\n11:24:53,781 WARN  [org.jboss.as.txn] (ServerService Thread Pool -- 53) WFLYTX0013: The node-identifier attribute on the /subsystem=transactions is set to the default value. This is a danger for environments running multiple servers. Please make sure the attribute value is unique.\r\n11:24:53,873 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 38) WFLYCLINF0001: Activating Infinispan subsystem.\r\n11:24:53,850 INFO  [org.jboss.as.jaxrs] (ServerService Thread Pool -- 40) WFLYRS0016: RESTEasy version 4.7.4.Final\r\n11:24:53,911 INFO  [org.wildfly.extension.health] (ServerService Thread Pool -- 37) WFLYHEALTH0001: Activating Base Health Subsystem\r\n11:24:53,929 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 39) WFLYIO001: Worker &#39;default&#39; has auto-configured to 2 IO threads with 16 max task threads based on your 1 available processors\r\n11:24:53,979 INFO  [org.wildfly.extension.metrics] (ServerService Thread Pool -- 47) WFLYMETRICS0001: Activating Base Metrics Subsystem\r\n11:24:54,168 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 32) WFLYJCA0004: Deploying JDBC-compliant driver class org.h2.Driver (version 1.4)\r\n11:24:54,170 INFO  [org.jboss.as.connector] (MSC service thread 1-1) WFLYJCA0009: Starting Jakarta Connectors Subsystem (WildFly/IronJacamar 1.5.3.Final)\r\n11:24:54,330 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 32) WFLYJCA0005: Deploying non-JDBC-compliant driver class org.postgresql.Driver (version 42.2)\r\n11:24:54,593 WARN  [org.wildfly.clustering.web.undertow] (ServerService Thread Pool -- 54) WFLYCLWEBUT0007: No routing provider found for default-server; using legacy provider based on static configuration\r\n11:24:54,571 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0018: Started Driver service with driver-name = h2\r\n11:24:54,600 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0018: Started Driver service with driver-name = postgresql\r\n11:24:54,602 INFO  [org.jboss.as.naming] (MSC service thread 1-1) WFLYNAM0003: Starting Naming Service\r\n11:24:54,628 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0003: Undertow 2.2.14.Final starting\r\n11:24:54,656 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-1) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]\r\n11:24:54,755 INFO  [org.jboss.as.ejb3] (MSC service thread 1-2) WFLYEJB0481: Strict pool slsb-strict-max-pool is using a max instance size of 16 (per class), which is derived from thread worker pool sizing.\r\n11:24:54,765 INFO  [org.jboss.as.ejb3] (MSC service thread 1-1) WFLYEJB0482: Strict pool mdb-strict-max-pool is using a max instance size of 4 (per class), which is derived from the number of CPUs on this host.\r\n11:24:54,806 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 54) WFLYUT0014: Creating file handler for path &#39;/opt/jboss/keycloak/welcome-content&#39; with options [directory-listing: &#39;false&#39;, follow-symlink: &#39;false&#39;, case-sensitive: &#39;true&#39;, safe-symlink-paths: &#39;[]&#39;]\r\n11:24:55,293 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-2) WFLYELY00023: KeyStore file &#39;/opt/jboss/keycloak/standalone/configuration/application.keystore&#39; does not exist. Used blank.\r\n11:24:56,018 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-1) WFLYELY01084: KeyStore /opt/jboss/keycloak/standalone/configuration/application.keystore not found, it will be auto generated on first use with a self-signed certificate for host localhost\r\n11:24:56,113 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0012: Started server default-server.\r\n11:24:56,550 INFO  [org.jboss.as.patching] (MSC service thread 1-1) WFLYPAT0050: Keycloak cumulative patch ID is: base, one-off patches include: none\r\n11:24:56,554 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) Queuing requests.\r\n11:24:56,557 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0018: Host default-host starting\r\n11:24:56,653 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0006: Undertow AJP listener ajp listening on 0.0.0.0:8009\r\n11:24:56,658 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0006: Undertow HTTP listener default listening on 0.0.0.0:8080\r\n11:24:56,706 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-1) WFLYDS0013: Started FileSystemDeploymentService for directory /opt/jboss/keycloak/standalone/deployments\r\n11:24:56,773 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) WFLYSRV0027: Starting deployment of &quot;keycloak-server.war&quot; (runtime-name: &quot;keycloak-server.war&quot;)\r\n11:24:56,785 INFO  [org.jboss.as.ejb3] (MSC service thread 1-1) WFLYEJB0493: Jakarta Enterprise Beans subsystem suspension complete\r\n11:24:56,853 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 56) MODCLUSTER000001: Initializing mod_cluster version 1.4.4.Final\r\n11:24:56,883 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 56) MODCLUSTER000032: Listening to proxy advertisements on /224.0.1.105:23364\r\n11:24:57,026 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0006: Undertow HTTPS listener https listening on 0.0.0.0:8443\r\n11:24:57,238 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]\r\n11:24:57,239 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0001: Bound data source [java:jboss/datasources/KeycloakDS]\r\n11:24:58,267 WARN  [org.jgroups.protocols.UDP] (ServerService Thread Pool -- 56) JGRP000015: the receive buffer of socket ManagedMulticastSocketBinding was set to 20.00MB, but the OS only allocated 12.58MB\r\n11:24:58,270 WARN  [org.jgroups.protocols.UDP] (ServerService Thread Pool -- 56) JGRP000015: the receive buffer of socket ManagedMulticastSocketBinding was set to 25.00MB, but the OS only allocated 12.58MB\r\n11:25:01,302 INFO  [org.jgroups.protocols.pbcast.GMS] (ServerService Thread Pool -- 56) e1768863cdfb: no members discovered after 3007 ms: creating cluster as coordinator\r\n11:25:02,944 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 60) ISPN000556: Starting user marshaller &#39;org.wildfly.clustering.infinispan.marshalling.jboss.JBossMarshaller&#39;\r\n11:25:02,942 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 58) ISPN000128: Infinispan version: Infinispan &#39;Taedonggang&#39; 12.1.7.Final\r\n11:25:02,946 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 57) ISPN000556: Starting user marshaller &#39;org.wildfly.clustering.infinispan.spi.marshalling.InfinispanProtoStreamMarshaller&#39;\r\n11:25:02,947 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 56) ISPN000556: Starting user marshaller &#39;org.wildfly.clustering.infinispan.spi.marshalling.InfinispanProtoStreamMarshaller&#39;\r\n11:25:02,957 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 58) ISPN000556: Starting user marshaller &#39;org.wildfly.clustering.infinispan.spi.marshalling.InfinispanProtoStreamMarshaller&#39;\r\n11:25:03,032 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 59) ISPN000556: Starting user marshaller &#39;org.wildfly.clustering.infinispan.marshalling.jboss.JBossMarshaller&#39;\r\n11:25:03,308 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 56) ISPN000078: Starting JGroups channel ejb\r\n11:25:03,304 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 58) ISPN000078: Starting JGroups channel ejb\r\n11:25:03,314 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 60) ISPN000078: Starting JGroups channel ejb\r\n11:25:03,314 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 57) ISPN000078: Starting JGroups channel ejb\r\n11:25:03,315 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 59) ISPN000078: Starting JGroups channel ejb\r\n11:25:03,328 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 59) ISPN000094: Received new cluster view for channel ejb: [e1768863cdfb|0] (1) [e1768863cdfb]\r\n11:25:03,330 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 58) ISPN000094: Received new cluster view for channel ejb: [e1768863cdfb|0] (1) [e1768863cdfb]\r\n11:25:03,330 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 60) ISPN000094: Received new cluster view for channel ejb: [e1768863cdfb|0] (1) [e1768863cdfb]\r\n11:25:03,342 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 56) ISPN000094: Received new cluster view for channel ejb: [e1768863cdfb|0] (1) [e1768863cdfb]\r\n11:25:03,356 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 59) ISPN000079: Channel ejb local address is e1768863cdfb, physical addresses are [192.168.16.5:55200]\r\n11:25:03,363 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 56) ISPN000079: Channel ejb local address is e1768863cdfb, physical addresses are [192.168.16.5:55200]\r\n11:25:03,379 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 60) ISPN000079: Channel ejb local address is e1768863cdfb, physical addresses are [192.168.16.5:55200]\r\n11:25:03,387 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 57) ISPN000094: Received new cluster view for channel ejb: [e1768863cdfb|0] (1) [e1768863cdfb]\r\n11:25:03,395 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 58) ISPN000079: Channel ejb local address is e1768863cdfb, physical addresses are [192.168.16.5:55200]\r\n11:25:03,421 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 57) ISPN000079: Channel ejb local address is e1768863cdfb, physical addresses are [192.168.16.5:55200]\r\n11:25:03,509 INFO  [org.infinispan.CONFIG] (MSC service thread 1-1) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.\r\n11:25:03,520 INFO  [org.infinispan.CONFIG] (MSC service thread 1-1) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.\r\n11:25:04,593 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 57) WFLYCLINF0002: Started http-remoting-connector cache from ejb container\r\n11:25:05,148 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 59) WFLYCLINF0002: Started work cache from keycloak container\r\n11:25:05,144 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 60) WFLYCLINF0002: Started offlineClientSessions cache from keycloak container\r\n11:25:05,160 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 62) WFLYCLINF0002: Started actionTokens cache from keycloak container\r\n11:25:05,204 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 58) WFLYCLINF0002: Started loginFailures cache from keycloak container\r\n11:25:05,219 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 66) WFLYCLINF0002: Started clientSessions cache from keycloak container\r\n11:25:05,225 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 68) WFLYCLINF0002: Started sessions cache from keycloak container\r\n11:25:05,240 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 67) WFLYCLINF0002: Started authenticationSessions cache from keycloak container\r\n11:25:05,253 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 63) WFLYCLINF0002: Started offlineSessions cache from keycloak container\r\n11:25:05,299 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 64) WFLYCLINF0002: Started users cache from keycloak container\r\n11:25:05,302 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 65) WFLYCLINF0002: Started keys cache from keycloak container\r\n11:25:05,306 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 56) WFLYCLINF0002: Started realms cache from keycloak container\r\n11:25:05,308 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 57) WFLYCLINF0002: Started authorization cache from keycloak container\r\n11:25:05,654 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0273: Excluded subsystem webservices via jboss-deployment-structure.xml does not exist.\r\n11:25:06,542 INFO  [org.keycloak.services] (ServerService Thread Pool -- 56) KC-SERVICES0001: Loading config from standalone.xml or domain.xml\r\n11:25:07,203 INFO  [org.keycloak.url.DefaultHostnameProviderFactory] (ServerService Thread Pool -- 56) Frontend: &lt;request&gt;, Admin: &lt;frontend&gt;, Backend: &lt;request&gt;\r\n11:25:08,420 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 56) WFLYCLINF0002: Started realmRevisions cache from keycloak container\r\n11:25:08,447 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 56) WFLYCLINF0002: Started userRevisions cache from keycloak container\r\n11:25:08,467 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 56) WFLYCLINF0002: Started authorizationRevisions cache from keycloak container\r\n11:25:08,473 INFO  [org.keycloak.connections.infinispan.DefaultInfinispanConnectionProviderFactory] (ServerService Thread Pool -- 56) Node name: e1768863cdfb, Site name: null\r\n11:25:14,856 INFO  [org.hibernate.jpa.internal.util.LogHelper] (ServerService Thread Pool -- 56) HHH000204: Processing PersistenceUnitInfo [\r\n        name: keycloak-default\r\n        ...]\r\n11:25:15,030 INFO  [org.hibernate.Version] (ServerService Thread Pool -- 56) HHH000412: Hibernate Core {5.3.24.Final}\r\n11:25:15,037 INFO  [org.hibernate.cfg.Environment] (ServerService Thread Pool -- 56) HHH000206: hibernate.properties not found\r\n11:25:15,455 INFO  [org.hibernate.annotations.common.Version] (ServerService Thread Pool -- 56) HCANN000001: Hibernate Commons Annotations {5.0.5.Final}\r\n11:25:15,910 INFO  [org.hibernate.dialect.Dialect] (ServerService Thread Pool -- 56) HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect\r\n11:25:16,411 INFO  [org.hibernate.engine.jdbc.env.internal.LobCreatorBuilderImpl] (ServerService Thread Pool -- 56) HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException\r\n11:25:16,427 INFO  [org.hibernate.type.BasicTypeRegistry] (ServerService Thread Pool -- 56) HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@2851ff1a\r\n11:25:16,448 INFO  [org.hibernate.envers.boot.internal.EnversServiceImpl] (ServerService Thread Pool -- 56) Envers integration enabled? : true\r\n11:25:17,248 INFO  [org.hibernate.orm.beans] (ServerService Thread Pool -- 56) HHH10005002: No explicit CDI BeanManager reference was passed to Hibernate, but CDI is available on the Hibernate ClassLoader.\r\n11:25:17,884 INFO  [org.hibernate.validator.internal.util.Version] (ServerService Thread Pool -- 56) HV000001: Hibernate Validator 6.0.22.Final\r\n11:25:21,348 INFO  [org.hibernate.hql.internal.QueryTranslatorFactoryInitiator] (ServerService Thread Pool -- 56) HHH000397: Using ASTQueryTranslatorFactory\r\n11:25:23,142 INFO  [org.keycloak.services] (ServerService Thread Pool -- 56) KC-SERVICES0006: Importing users from &#39;/opt/jboss/keycloak/standalone/configuration/keycloak-add-user.json&#39;\r\n11:25:23,494 WARN  [org.keycloak.services] (ServerService Thread Pool -- 56) KC-SERVICES0104: Not creating user octavianadmin. It already exists.\r\n11:25:24,396 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.keycloak.services.resources.KeycloakApplication\r\n11:25:24,399 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002205: Adding provider class org.keycloak.services.filters.KeycloakSecurityHeadersFilter from Application class org.keycloak.services.resources.KeycloakApplication\r\n11:25:24,410 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002200: Adding class resource org.keycloak.services.resources.JsResource from Application class org.keycloak.services.resources.KeycloakApplication\r\n11:25:24,412 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002205: Adding provider class org.keycloak.services.error.KeycloakErrorHandler from Application class org.keycloak.services.resources.KeycloakApplication\r\n11:25:24,413 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002200: Adding class resource org.keycloak.services.resources.ThemeResource from Application class org.keycloak.services.resources.KeycloakApplication\r\n11:25:24,415 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.WelcomeResource from Application class org.keycloak.services.resources.KeycloakApplication\r\n11:25:24,415 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.RealmsResource from Application class org.keycloak.services.resources.KeycloakApplication\r\n11:25:24,416 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.admin.AdminRoot from Application class org.keycloak.services.resources.KeycloakApplication\r\n11:25:24,417 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002210: Adding provider singleton org.keycloak.services.util.ObjectMapperResolver from Application class org.keycloak.services.resources.KeycloakApplication\r\n11:25:24,418 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.RobotsResource from Application class org.keycloak.services.resources.KeycloakApplication\r\n11:25:24,601 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 56) WFLYUT0021: Registered web context: &#39;/auth&#39; for server &#39;default-server&#39;\r\n11:25:24,818 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 45) WFLYSRV0010: Deployed &quot;keycloak-server.war&quot; (runtime-name : &quot;keycloak-server.war&quot;)\r\n11:25:25,005 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\r\n11:25:25,018 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) started in 394\r\n54ms - Started 678 of 979 services (696 services are lazy, passive or on-demand)\r\n11:25:25,024 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management\r\n11:25:25,026 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990\r\n````\r\n\r\nWhat&#39;s really strange for me is this error:\r\n````\r\n11:24:14,254 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-2) WFLYELY00023: KeyStore file &#39;/opt/jboss/keycloak/standalone/configuration/application.keystore&#39; does not exist. Used blank.\r\n11:24:14,282 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-1) WFLYELY01084: KeyStore /opt/jboss/keycloak/standalone/configuration/application.keystore not found, it will be auto generated on first use with a self-signed certificate for host localhost\r\n````\r\n\r\nAt the end of the file, http is shown (not https). I want to disable all HTTP and have everything on HTTPS.\r\n\r\nThe actual config works right now, but I get connection not secure, while I&#39;m using the same SSL certificate for the main domain and it works fine there.(example.com, while keycloak points at auth.example.com)\r\n\r\nSo I suspect this might be something related to keycloak.\r\n\r\nCan anybody help me fix &quot;connection not secure?&quot;\r\n\r\nThanks.","title":"Jboss/Keycloak (docker image) &amp; WildFly - cannot use SSL/HTTPS","body":"<p>So I want to use a Keycloak instance inside a Docker container, proxied by Nginx.</p>\n<p>I want my Keycloak server to use HTTPS. For some reason, I get &quot;Connection not secure in the browser&quot; even though I followed the steps for using SSL.</p>\n<pre><code>https://hub.docker.com/r/jboss/keycloak/\n\nKeycloak image allows you to specify both a private key and a certificate for serving HTTPS over port 8443. In that case you need to provide two files:\n\n    tls.crt - a certificate\n    tls.key - a private key\n\nThose files need to be mounted in /etc/x509/https directory. The image will automatically convert them into a Java keystore and reconfigure Wildfly to use it. NOTE: When using volume mounts in containers the files will be mounted in the container as owned by root, as the default permission on the keyfile will most likely be 700 it will result in an empty keystore. You will either have to make the key world readable or extend the image to add the keys with the appropriate owner.\n</code></pre>\n<p>My Keycloak container looks like this inside the docker-compose:</p>\n<pre><code>keycloak:\n        depends_on:\n          - mediere-api\n        container_name: best-keycloak\n        image: jboss/keycloak:${KEYCLOAK_VERSION}\n        restart: unless-stopped\n        env_file:\n          - .env\n        volumes:\n          - ../../mediere-react/certs/fullchain.pem:/etc/x509/https/tls.crt\n          - ../../mediere-react/certs/privkey.pem:/etc/x509/https/tls.key\n        expose:\n          - &quot;8443&quot;\n</code></pre>\n<p>.env</p>\n<pre><code>KEYCLOAK_VERSION=16.1.0\nKEYCLOAK_HTTPS_PORT= 8443\nPROXY_ADDRESS_FORWARDING=true\n</code></pre>\n<p>nginx</p>\n<pre><code>upstream keycloak_backend {\n  server keycloak:8443;\n}\n\nserver {\n    listen 443 ssl;\n    server_name auth.mywebserver.com;\n    ssl_certificate /etc/nginx/certs/fullchain.pem; # managed by Certbot\n    ssl_certificate_key /etc/nginx/certs/privkey.pem; # managed by Certbot\n    location /auth/ {\n          proxy_pass &quot;https://keycloak_backend/auth/&quot;;\n    }\n    location /auth/admin {\n          proxy_pass &quot;https://keycloak_backend/auth/admin&quot;;\n    }\n}\n</code></pre>\n<p>Container logs</p>\n<pre><code>11:24:09,710 INFO  [org.jboss.as] (MSC service thread 1-1) WFLYSRV0049: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) starting\n11:24:09,928 INFO  [org.jboss.vfs] (MSC service thread 1-1) VFS000002: Failed to clean existing content for temp file provider of type temp. Enable DEBUG level log to find what caused this\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.wildfly.extension.elytron.SSLDefinitions (jar:file:/opt/jboss/keycloak/modules/system/layers/base/org/wildfly/extension/elytron/main/wildfly-elytron-integration-18.0.0.Final.jar!/) to method com.sun.net.ssl.internal.ssl.Provider.isFIPS()\nWARNING: Please consider reporting this to the maintainers of org.wildfly.extension.elytron.SSLDefinitions\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n11:24:11,689 INFO  [org.wildfly.security] (ServerService Thread Pool -- 19) ELY00001: WildFly Elytron version 1.18.1.Final\n11:24:14,254 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-2) WFLYELY00023: KeyStore file '/opt/jboss/keycloak/standalone/configuration/application.keystore' does not exist. Used blank.\n11:24:14,282 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-1) WFLYELY01084: KeyStore /opt/jboss/keycloak/standalone/configuration/application.keystore not found, it will be auto generated on first use with a self-signed certificate for host localhost\n11:24:14,440 INFO  [org.jboss.as.patching] (MSC service thread 1-2) WFLYPAT0050: Keycloak cumulative patch ID is: base, one-off patches include: none\n11:24:14,729 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\n11:24:14,741 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) started in 5609ms - Started 49 of 72 services (24 services are lazy, passive or on-demand)\nThe batch executed successfully\n11:24:15,163 INFO  [org.jboss.as] (MSC service thread 1-2) WFLYSRV0050: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) stopped in 33ms\n11:24:17,976 INFO  [org.jboss.modules] (CLI command executor) JBoss Modules version 2.0.0.Final\n11:24:18,110 INFO  [org.jboss.msc] (CLI command executor) JBoss MSC version 1.4.13.Final\n11:24:18,126 INFO  [org.jboss.threads] (CLI command executor) JBoss Threads version 2.4.0.Final\n11:24:18,356 INFO  [org.jboss.as] (MSC service thread 1-2) WFLYSRV0049: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) starting\n11:24:18,512 INFO  [org.jboss.vfs] (MSC service thread 1-2) VFS000002: Failed to clean existing content for temp file provider of type temp. Enable DEBUG level log to find what caused this\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.wildfly.extension.elytron.SSLDefinitions (jar:file:/opt/jboss/keycloak/modules/system/layers/base/org/wildfly/extension/elytron/main/wildfly-elytron-integration-18.0.0.Final.jar!/) to method com.sun.net.ssl.internal.ssl.Provider.isFIPS()\nWARNING: Please consider reporting this to the maintainers of org.wildfly.extension.elytron.SSLDefinitions\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n11:24:20,262 INFO  [org.wildfly.security] (ServerService Thread Pool -- 21) ELY00001: WildFly Elytron version 1.18.1.Final\n11:24:23,068 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-1) WFLYELY00023: KeyStore file '/opt/jboss/keycloak/standalone/configuration/application.keystore' does not exist. Used blank.\n11:24:23,093 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-2) WFLYELY01084: KeyStore /opt/jboss/keycloak/standalone/configuration/application.keystore not found, it will be auto generated on first use with a self-signed certificate for host localhost\n11:24:23,213 INFO  [org.jboss.as.patching] (MSC service thread 1-1) WFLYPAT0050: Keycloak cumulative patch ID is: base, one-off patches include: none\n11:24:23,523 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\n11:24:23,533 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) started in 5533ms - Started 49 of 79 services (31 services are lazy, passive or on-demand)\nThe batch executed successfully\n11:24:23,951 INFO  [org.jboss.as] (MSC service thread 1-2) WFLYSRV0050: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) stopped in 31ms\nCreating HTTPS keystore via OpenShift's service serving x509 certificate secrets..\nHTTPS keystore successfully created at: /opt/jboss/keycloak/standalone/configuration/keystores/https-keystore.jks\n=========================================================================\n\n  JBoss Bootstrap Environment\n\n  JBOSS_HOME: /opt/jboss/keycloak\n\n  JAVA: java\n\n  JAVA_OPTS:  -server -Xms64m -Xmx512m -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djava.awt.headless=true   --add-exports=java.desktop/sun.awt=ALL-UNNAMED --add-exports=java.naming/com.sun.jndi.ldap=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.security=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.management/javax.management=ALL-UNNAMED --add-opens=java.naming/javax.naming=ALL-UNNAMED\n\n=========================================================================\n\n11:24:46,662 INFO  [org.jboss.modules] (main) JBoss Modules version 2.0.0.Final\n11:24:48,087 INFO  [org.jboss.msc] (main) JBoss MSC version 1.4.13.Final\n11:24:48,135 INFO  [org.jboss.threads] (main) JBoss Threads version 2.4.0.Final\n11:24:48,440 INFO  [org.jboss.as] (MSC service thread 1-2) WFLYSRV0049: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) starting\n11:24:48,629 INFO  [org.jboss.vfs] (MSC service thread 1-2) VFS000002: Failed to clean existing content for temp file provider of type temp. Enable DEBUG level log to find what caused this\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.wildfly.extension.elytron.SSLDefinitions (jar:file:/opt/jboss/keycloak/modules/system/layers/base/org/wildfly/extension/elytron/main/wildfly-elytron-integration-18.0.0.Final.jar!/) to method com.sun.net.ssl.internal.ssl.Provider.isFIPS()\nWARNING: Please consider reporting this to the maintainers of org.wildfly.extension.elytron.SSLDefinitions\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n11:24:50,529 INFO  [org.wildfly.security] (ServerService Thread Pool -- 21) ELY00001: WildFly Elytron version 1.18.1.Final\n11:24:53,539 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)\n11:24:53,592 INFO  [org.xnio] (MSC service thread 1-2) XNIO version 3.8.5.Final\n11:24:53,620 INFO  [org.xnio.nio] (MSC service thread 1-2) XNIO NIO Implementation Version 3.8.5.Final\n11:24:53,734 INFO  [org.jboss.remoting] (MSC service thread 1-1) JBoss Remoting version 5.0.23.Final\n11:24:53,790 INFO  [org.jboss.as.clustering.jgroups] (ServerService Thread Pool -- 42) WFLYCLJG0001: Activating JGroups subsystem. JGroups version 4.2.11\n11:24:53,797 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 49) WFLYNAM0001: Activating Naming Subsystem\n11:24:53,781 WARN  [org.jboss.as.txn] (ServerService Thread Pool -- 53) WFLYTX0013: The node-identifier attribute on the /subsystem=transactions is set to the default value. This is a danger for environments running multiple servers. Please make sure the attribute value is unique.\n11:24:53,873 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 38) WFLYCLINF0001: Activating Infinispan subsystem.\n11:24:53,850 INFO  [org.jboss.as.jaxrs] (ServerService Thread Pool -- 40) WFLYRS0016: RESTEasy version 4.7.4.Final\n11:24:53,911 INFO  [org.wildfly.extension.health] (ServerService Thread Pool -- 37) WFLYHEALTH0001: Activating Base Health Subsystem\n11:24:53,929 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 39) WFLYIO001: Worker 'default' has auto-configured to 2 IO threads with 16 max task threads based on your 1 available processors\n11:24:53,979 INFO  [org.wildfly.extension.metrics] (ServerService Thread Pool -- 47) WFLYMETRICS0001: Activating Base Metrics Subsystem\n11:24:54,168 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 32) WFLYJCA0004: Deploying JDBC-compliant driver class org.h2.Driver (version 1.4)\n11:24:54,170 INFO  [org.jboss.as.connector] (MSC service thread 1-1) WFLYJCA0009: Starting Jakarta Connectors Subsystem (WildFly/IronJacamar 1.5.3.Final)\n11:24:54,330 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 32) WFLYJCA0005: Deploying non-JDBC-compliant driver class org.postgresql.Driver (version 42.2)\n11:24:54,593 WARN  [org.wildfly.clustering.web.undertow] (ServerService Thread Pool -- 54) WFLYCLWEBUT0007: No routing provider found for default-server; using legacy provider based on static configuration\n11:24:54,571 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0018: Started Driver service with driver-name = h2\n11:24:54,600 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0018: Started Driver service with driver-name = postgresql\n11:24:54,602 INFO  [org.jboss.as.naming] (MSC service thread 1-1) WFLYNAM0003: Starting Naming Service\n11:24:54,628 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0003: Undertow 2.2.14.Final starting\n11:24:54,656 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-1) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]\n11:24:54,755 INFO  [org.jboss.as.ejb3] (MSC service thread 1-2) WFLYEJB0481: Strict pool slsb-strict-max-pool is using a max instance size of 16 (per class), which is derived from thread worker pool sizing.\n11:24:54,765 INFO  [org.jboss.as.ejb3] (MSC service thread 1-1) WFLYEJB0482: Strict pool mdb-strict-max-pool is using a max instance size of 4 (per class), which is derived from the number of CPUs on this host.\n11:24:54,806 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 54) WFLYUT0014: Creating file handler for path '/opt/jboss/keycloak/welcome-content' with options [directory-listing: 'false', follow-symlink: 'false', case-sensitive: 'true', safe-symlink-paths: '[]']\n11:24:55,293 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-2) WFLYELY00023: KeyStore file '/opt/jboss/keycloak/standalone/configuration/application.keystore' does not exist. Used blank.\n11:24:56,018 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-1) WFLYELY01084: KeyStore /opt/jboss/keycloak/standalone/configuration/application.keystore not found, it will be auto generated on first use with a self-signed certificate for host localhost\n11:24:56,113 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0012: Started server default-server.\n11:24:56,550 INFO  [org.jboss.as.patching] (MSC service thread 1-1) WFLYPAT0050: Keycloak cumulative patch ID is: base, one-off patches include: none\n11:24:56,554 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) Queuing requests.\n11:24:56,557 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0018: Host default-host starting\n11:24:56,653 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0006: Undertow AJP listener ajp listening on 0.0.0.0:8009\n11:24:56,658 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0006: Undertow HTTP listener default listening on 0.0.0.0:8080\n11:24:56,706 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-1) WFLYDS0013: Started FileSystemDeploymentService for directory /opt/jboss/keycloak/standalone/deployments\n11:24:56,773 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) WFLYSRV0027: Starting deployment of &quot;keycloak-server.war&quot; (runtime-name: &quot;keycloak-server.war&quot;)\n11:24:56,785 INFO  [org.jboss.as.ejb3] (MSC service thread 1-1) WFLYEJB0493: Jakarta Enterprise Beans subsystem suspension complete\n11:24:56,853 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 56) MODCLUSTER000001: Initializing mod_cluster version 1.4.4.Final\n11:24:56,883 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 56) MODCLUSTER000032: Listening to proxy advertisements on /224.0.1.105:23364\n11:24:57,026 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0006: Undertow HTTPS listener https listening on 0.0.0.0:8443\n11:24:57,238 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]\n11:24:57,239 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0001: Bound data source [java:jboss/datasources/KeycloakDS]\n11:24:58,267 WARN  [org.jgroups.protocols.UDP] (ServerService Thread Pool -- 56) JGRP000015: the receive buffer of socket ManagedMulticastSocketBinding was set to 20.00MB, but the OS only allocated 12.58MB\n11:24:58,270 WARN  [org.jgroups.protocols.UDP] (ServerService Thread Pool -- 56) JGRP000015: the receive buffer of socket ManagedMulticastSocketBinding was set to 25.00MB, but the OS only allocated 12.58MB\n11:25:01,302 INFO  [org.jgroups.protocols.pbcast.GMS] (ServerService Thread Pool -- 56) e1768863cdfb: no members discovered after 3007 ms: creating cluster as coordinator\n11:25:02,944 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 60) ISPN000556: Starting user marshaller 'org.wildfly.clustering.infinispan.marshalling.jboss.JBossMarshaller'\n11:25:02,942 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 58) ISPN000128: Infinispan version: Infinispan 'Taedonggang' 12.1.7.Final\n11:25:02,946 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 57) ISPN000556: Starting user marshaller 'org.wildfly.clustering.infinispan.spi.marshalling.InfinispanProtoStreamMarshaller'\n11:25:02,947 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 56) ISPN000556: Starting user marshaller 'org.wildfly.clustering.infinispan.spi.marshalling.InfinispanProtoStreamMarshaller'\n11:25:02,957 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 58) ISPN000556: Starting user marshaller 'org.wildfly.clustering.infinispan.spi.marshalling.InfinispanProtoStreamMarshaller'\n11:25:03,032 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 59) ISPN000556: Starting user marshaller 'org.wildfly.clustering.infinispan.marshalling.jboss.JBossMarshaller'\n11:25:03,308 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 56) ISPN000078: Starting JGroups channel ejb\n11:25:03,304 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 58) ISPN000078: Starting JGroups channel ejb\n11:25:03,314 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 60) ISPN000078: Starting JGroups channel ejb\n11:25:03,314 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 57) ISPN000078: Starting JGroups channel ejb\n11:25:03,315 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 59) ISPN000078: Starting JGroups channel ejb\n11:25:03,328 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 59) ISPN000094: Received new cluster view for channel ejb: [e1768863cdfb|0] (1) [e1768863cdfb]\n11:25:03,330 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 58) ISPN000094: Received new cluster view for channel ejb: [e1768863cdfb|0] (1) [e1768863cdfb]\n11:25:03,330 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 60) ISPN000094: Received new cluster view for channel ejb: [e1768863cdfb|0] (1) [e1768863cdfb]\n11:25:03,342 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 56) ISPN000094: Received new cluster view for channel ejb: [e1768863cdfb|0] (1) [e1768863cdfb]\n11:25:03,356 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 59) ISPN000079: Channel ejb local address is e1768863cdfb, physical addresses are [192.168.16.5:55200]\n11:25:03,363 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 56) ISPN000079: Channel ejb local address is e1768863cdfb, physical addresses are [192.168.16.5:55200]\n11:25:03,379 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 60) ISPN000079: Channel ejb local address is e1768863cdfb, physical addresses are [192.168.16.5:55200]\n11:25:03,387 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 57) ISPN000094: Received new cluster view for channel ejb: [e1768863cdfb|0] (1) [e1768863cdfb]\n11:25:03,395 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 58) ISPN000079: Channel ejb local address is e1768863cdfb, physical addresses are [192.168.16.5:55200]\n11:25:03,421 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 57) ISPN000079: Channel ejb local address is e1768863cdfb, physical addresses are [192.168.16.5:55200]\n11:25:03,509 INFO  [org.infinispan.CONFIG] (MSC service thread 1-1) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.\n11:25:03,520 INFO  [org.infinispan.CONFIG] (MSC service thread 1-1) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.\n11:25:04,593 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 57) WFLYCLINF0002: Started http-remoting-connector cache from ejb container\n11:25:05,148 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 59) WFLYCLINF0002: Started work cache from keycloak container\n11:25:05,144 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 60) WFLYCLINF0002: Started offlineClientSessions cache from keycloak container\n11:25:05,160 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 62) WFLYCLINF0002: Started actionTokens cache from keycloak container\n11:25:05,204 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 58) WFLYCLINF0002: Started loginFailures cache from keycloak container\n11:25:05,219 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 66) WFLYCLINF0002: Started clientSessions cache from keycloak container\n11:25:05,225 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 68) WFLYCLINF0002: Started sessions cache from keycloak container\n11:25:05,240 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 67) WFLYCLINF0002: Started authenticationSessions cache from keycloak container\n11:25:05,253 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 63) WFLYCLINF0002: Started offlineSessions cache from keycloak container\n11:25:05,299 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 64) WFLYCLINF0002: Started users cache from keycloak container\n11:25:05,302 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 65) WFLYCLINF0002: Started keys cache from keycloak container\n11:25:05,306 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 56) WFLYCLINF0002: Started realms cache from keycloak container\n11:25:05,308 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 57) WFLYCLINF0002: Started authorization cache from keycloak container\n11:25:05,654 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0273: Excluded subsystem webservices via jboss-deployment-structure.xml does not exist.\n11:25:06,542 INFO  [org.keycloak.services] (ServerService Thread Pool -- 56) KC-SERVICES0001: Loading config from standalone.xml or domain.xml\n11:25:07,203 INFO  [org.keycloak.url.DefaultHostnameProviderFactory] (ServerService Thread Pool -- 56) Frontend: &lt;request&gt;, Admin: &lt;frontend&gt;, Backend: &lt;request&gt;\n11:25:08,420 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 56) WFLYCLINF0002: Started realmRevisions cache from keycloak container\n11:25:08,447 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 56) WFLYCLINF0002: Started userRevisions cache from keycloak container\n11:25:08,467 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 56) WFLYCLINF0002: Started authorizationRevisions cache from keycloak container\n11:25:08,473 INFO  [org.keycloak.connections.infinispan.DefaultInfinispanConnectionProviderFactory] (ServerService Thread Pool -- 56) Node name: e1768863cdfb, Site name: null\n11:25:14,856 INFO  [org.hibernate.jpa.internal.util.LogHelper] (ServerService Thread Pool -- 56) HHH000204: Processing PersistenceUnitInfo [\n        name: keycloak-default\n        ...]\n11:25:15,030 INFO  [org.hibernate.Version] (ServerService Thread Pool -- 56) HHH000412: Hibernate Core {5.3.24.Final}\n11:25:15,037 INFO  [org.hibernate.cfg.Environment] (ServerService Thread Pool -- 56) HHH000206: hibernate.properties not found\n11:25:15,455 INFO  [org.hibernate.annotations.common.Version] (ServerService Thread Pool -- 56) HCANN000001: Hibernate Commons Annotations {5.0.5.Final}\n11:25:15,910 INFO  [org.hibernate.dialect.Dialect] (ServerService Thread Pool -- 56) HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect\n11:25:16,411 INFO  [org.hibernate.engine.jdbc.env.internal.LobCreatorBuilderImpl] (ServerService Thread Pool -- 56) HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException\n11:25:16,427 INFO  [org.hibernate.type.BasicTypeRegistry] (ServerService Thread Pool -- 56) HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@2851ff1a\n11:25:16,448 INFO  [org.hibernate.envers.boot.internal.EnversServiceImpl] (ServerService Thread Pool -- 56) Envers integration enabled? : true\n11:25:17,248 INFO  [org.hibernate.orm.beans] (ServerService Thread Pool -- 56) HHH10005002: No explicit CDI BeanManager reference was passed to Hibernate, but CDI is available on the Hibernate ClassLoader.\n11:25:17,884 INFO  [org.hibernate.validator.internal.util.Version] (ServerService Thread Pool -- 56) HV000001: Hibernate Validator 6.0.22.Final\n11:25:21,348 INFO  [org.hibernate.hql.internal.QueryTranslatorFactoryInitiator] (ServerService Thread Pool -- 56) HHH000397: Using ASTQueryTranslatorFactory\n11:25:23,142 INFO  [org.keycloak.services] (ServerService Thread Pool -- 56) KC-SERVICES0006: Importing users from '/opt/jboss/keycloak/standalone/configuration/keycloak-add-user.json'\n11:25:23,494 WARN  [org.keycloak.services] (ServerService Thread Pool -- 56) KC-SERVICES0104: Not creating user octavianadmin. It already exists.\n11:25:24,396 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.keycloak.services.resources.KeycloakApplication\n11:25:24,399 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002205: Adding provider class org.keycloak.services.filters.KeycloakSecurityHeadersFilter from Application class org.keycloak.services.resources.KeycloakApplication\n11:25:24,410 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002200: Adding class resource org.keycloak.services.resources.JsResource from Application class org.keycloak.services.resources.KeycloakApplication\n11:25:24,412 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002205: Adding provider class org.keycloak.services.error.KeycloakErrorHandler from Application class org.keycloak.services.resources.KeycloakApplication\n11:25:24,413 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002200: Adding class resource org.keycloak.services.resources.ThemeResource from Application class org.keycloak.services.resources.KeycloakApplication\n11:25:24,415 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.WelcomeResource from Application class org.keycloak.services.resources.KeycloakApplication\n11:25:24,415 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.RealmsResource from Application class org.keycloak.services.resources.KeycloakApplication\n11:25:24,416 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.admin.AdminRoot from Application class org.keycloak.services.resources.KeycloakApplication\n11:25:24,417 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002210: Adding provider singleton org.keycloak.services.util.ObjectMapperResolver from Application class org.keycloak.services.resources.KeycloakApplication\n11:25:24,418 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.RobotsResource from Application class org.keycloak.services.resources.KeycloakApplication\n11:25:24,601 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 56) WFLYUT0021: Registered web context: '/auth' for server 'default-server'\n11:25:24,818 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 45) WFLYSRV0010: Deployed &quot;keycloak-server.war&quot; (runtime-name : &quot;keycloak-server.war&quot;)\n11:25:25,005 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\n11:25:25,018 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) started in 394\n54ms - Started 678 of 979 services (696 services are lazy, passive or on-demand)\n11:25:25,024 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management\n11:25:25,026 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990\n</code></pre>\n<p>What's really strange for me is this error:</p>\n<pre><code>11:24:14,254 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-2) WFLYELY00023: KeyStore file '/opt/jboss/keycloak/standalone/configuration/application.keystore' does not exist. Used blank.\n11:24:14,282 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-1) WFLYELY01084: KeyStore /opt/jboss/keycloak/standalone/configuration/application.keystore not found, it will be auto generated on first use with a self-signed certificate for host localhost\n</code></pre>\n<p>At the end of the file, http is shown (not https). I want to disable all HTTP and have everything on HTTPS.</p>\n<p>The actual config works right now, but I get connection not secure, while I'm using the same SSL certificate for the main domain and it works fine there.(example.com, while keycloak points at auth.example.com)</p>\n<p>So I suspect this might be something related to keycloak.</p>\n<p>Can anybody help me fix &quot;connection not secure?&quot;</p>\n<p>Thanks.</p>\n"},{"tags":["java","android","android-permissions","android-anr-dialog","android-storage"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1665155437,"post_id":73988800,"comment_id":130640751,"body_markdown":"`FileNotFoundException: /document/document:3796` That is no DocumentFile nor a File instance nor a valid file system path.","body":"<code>FileNotFoundException: &#47;document&#47;document:3796</code> That is no DocumentFile nor a File instance nor a valid file system path."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":2,"creation_date":1665155724,"post_id":73988800,"comment_id":130640844,"body_markdown":"`in this app I am trying to get document file path t` You got an uri. Use the uri to construct a DocumentFile instance. Do not use File class and getPath.","body":"<code>in this app I am trying to get document file path t</code> You got an uri. Use the uri to construct a DocumentFile instance. Do not use File class and getPath."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1665157343,"post_id":73988800,"comment_id":130641422,"body_markdown":"Use `ContentResolver` and `openInputStream()` to read in the content identified by the `Uri`. You can wrap that `InputStream` in an `InputStreamReader` and use it instead of your `FileReader`.","body":"Use <code>ContentResolver</code> and <code>openInputStream()</code> to read in the content identified by the <code>Uri</code>. You can wrap that <code>InputStream</code> in an <code>InputStreamReader</code> and use it instead of your <code>FileReader</code>."},{"owner":{"account_id":26555823,"reputation":43,"user_id":20184459,"display_name":"Reginald D"},"score":0,"creation_date":1665158667,"post_id":73988800,"comment_id":130641858,"body_markdown":"@blackapps yes I think that&#39;s becasue this not absloute or full path","body":"@blackapps yes I think that&#39;s becasue this not absloute or full path"},{"owner":{"account_id":26555823,"reputation":43,"user_id":20184459,"display_name":"Reginald D"},"score":0,"creation_date":1665158731,"post_id":73988800,"comment_id":130641875,"body_markdown":"@commonsware can you answer it please which line should I edit and add `ContentResolver` and `openInputStream` ?","body":"@commonsware can you answer it please which line should I edit and add <code>ContentResolver</code> and <code>openInputStream</code> ?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1665159876,"post_id":73988800,"comment_id":130642270,"body_markdown":"`used this way to take all permission that needed` You do not need any permission to begin with.","body":"<code>used this way to take all permission that needed</code> You do not need any permission to begin with."},{"owner":{"account_id":26555823,"reputation":43,"user_id":20184459,"display_name":"Reginald D"},"score":0,"creation_date":1665160639,"post_id":73988800,"comment_id":130642520,"body_markdown":"@blackapps I think you&#39;re wrong, I need a read external permission to read the file, and write &amp; mange to get the full path [reference here](https://developer.android.com/about/versions/11/privacy/storage)","body":"@blackapps I think you&#39;re wrong, I need a read external permission to read the file, and write &amp; mange to get the full path <a href=\"https://developer.android.com/about/versions/11/privacy/storage\" rel=\"nofollow noreferrer\">reference here</a>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1665160771,"post_id":73988800,"comment_id":130642576,"body_markdown":"You will not try to get a full path. You can use the uri directly. Two people told you already.","body":"You will not try to get a full path. You can use the uri directly. Two people told you already."},{"owner":{"account_id":26555823,"reputation":43,"user_id":20184459,"display_name":"Reginald D"},"score":0,"creation_date":1665170212,"post_id":73988800,"comment_id":130645282,"body_markdown":"@blackapps Okay I updated the code and used uri, now when I click on read the app hanges stucks I got ANR in `com.filechooserexample.filechooserexample (com.filechooserexample.filechooserexample/.MainActivity) PID: 27389 Reason: Input dispatching timed out`","body":"@blackapps Okay I updated the code and used uri, now when I click on read the app hanges stucks I got ANR in <code>com.filechooserexample.filechooserexample (com.filechooserexample.filechooserexample&#47;.MainActivity) PID: 27389 Reason: Input dispatching timed out</code>"}],"answers":[{"tags":[],"owner":{"account_id":26555823,"reputation":43,"user_id":20184459,"display_name":"Reginald D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665252022,"creation_date":1665252022,"answer_id":73999352,"question_id":73988800,"body_markdown":"This method reads the files but it&#39;s making the app hanging, I&#39;ll post another question about this problem later\r\n\r\n```\r\nprivate void readFile() throws IOException {\r\n        try {\r\n\r\n            StringBuilder sb = new StringBuilder();\r\n            String line;\r\n\r\n            if (SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n\r\n                inputStream = getContentResolver().openInputStream(selectedFileURI);\r\n                bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\r\n\r\n            } else {\r\n                fileReader = new FileReader(file);\r\n                bufferedReader = new BufferedReader(fileReader);\r\n            }\r\n            while ((line = bufferedReader.readLine()) != null) {\r\n               sb.append(line).append(&quot;\\n&quot;);\r\n            }\r\n\r\n            activityMainBinding.textView.setText(sb.toString());\r\n\r\n        } catch (IOException e) {\r\n            Log.e(&quot;IOException&quot;, e.getMessage());\r\n            Log.e(&quot;IOException2&quot;, e.getCause() + &quot;&quot;);\r\n            Log.e(&quot;IOException3&quot;, &quot;exception&quot;, e);\r\n            Toast.makeText(MainActivity.this, &quot;Cannot read this file&quot;, Toast.LENGTH_LONG).show();\r\n\r\n        } finally {\r\n            if (inputStream != null) {\r\n                inputStream.close();\r\n            } else if (bufferedReader != null) {\r\n                bufferedReader.close();\r\n            } else if (fileReader != null) {\r\n                fileReader.close();\r\n            }\r\n        }\r\n\r\n    }\r\n```","title":"Read document file in android R 11 getting java.io.FileNotFoundException: /document/document:3796: open failed: ENOENT (No such file or directory)","body":"<p>This method reads the files but it's making the app hanging, I'll post another question about this problem later</p>\n<pre><code>private void readFile() throws IOException {\n        try {\n\n            StringBuilder sb = new StringBuilder();\n            String line;\n\n            if (SDK_INT &gt;= Build.VERSION_CODES.R) {\n\n                inputStream = getContentResolver().openInputStream(selectedFileURI);\n                bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\n\n            } else {\n                fileReader = new FileReader(file);\n                bufferedReader = new BufferedReader(fileReader);\n            }\n            while ((line = bufferedReader.readLine()) != null) {\n               sb.append(line).append(&quot;\\n&quot;);\n            }\n\n            activityMainBinding.textView.setText(sb.toString());\n\n        } catch (IOException e) {\n            Log.e(&quot;IOException&quot;, e.getMessage());\n            Log.e(&quot;IOException2&quot;, e.getCause() + &quot;&quot;);\n            Log.e(&quot;IOException3&quot;, &quot;exception&quot;, e);\n            Toast.makeText(MainActivity.this, &quot;Cannot read this file&quot;, Toast.LENGTH_LONG).show();\n\n        } finally {\n            if (inputStream != null) {\n                inputStream.close();\n            } else if (bufferedReader != null) {\n                bufferedReader.close();\n            } else if (fileReader != null) {\n                fileReader.close();\n            }\n        }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":26555823,"reputation":43,"user_id":20184459,"display_name":"Reginald D"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73999352,"answer_count":1,"score":1,"last_activity_date":1665252022,"creation_date":1665153343,"question_id":73988800,"body_markdown":"## Update:\r\nI&#39;ve edited the `readFile` method like the following\r\n\r\n```\r\nprivate void readFile() throws IOException {\r\n        try {\r\n\r\n            StringBuilder sb = new StringBuilder();\r\n            String line;\r\n\r\n            if (SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n\r\n                inputStream = getContentResolver().openInputStream(selectedFileURI);\r\n                bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\r\n\r\n            } else {\r\n                fileReader = new FileReader(file);\r\n                bufferedReader = new BufferedReader(fileReader);\r\n            }\r\n            while ((line = bufferedReader.readLine()) != null) {\r\n               sb.append(line).append(&quot;\\n&quot;);\r\n            }\r\n\r\n            activityMainBinding.textView.setText(sb.toString());\r\n\r\n        } catch (IOException e) {\r\n            Log.e(&quot;IOException&quot;, e.getMessage());\r\n            Log.e(&quot;IOException2&quot;, e.getCause() + &quot;&quot;);\r\n            Log.e(&quot;IOException3&quot;, &quot;exception&quot;, e);\r\n            Toast.makeText(MainActivity.this, &quot;Cannot read this file&quot;, Toast.LENGTH_LONG).show();\r\n\r\n        } finally {\r\n            if (inputStream != null) {\r\n                inputStream.close();\r\n            } else if (bufferedReader != null) {\r\n                bufferedReader.close();\r\n            } else if (fileReader != null) {\r\n                fileReader.close();\r\n            }\r\n        }\r\n\r\n    }\r\n```\r\n\r\nthe app hanged / stucks and I go this ANR error\r\n\r\n```\r\n  E  ANR in com.filechooserexample.filechooserexample (com.filechooserexample.filechooserexample/.MainActivity)\r\nPID: 27389\r\nReason: Input dispatching timed out (d457abb com.filechooserexample.filechooserexample/com.filechooserexample.filechooserexample.MainActivity (server) is not responding. Waited 5000ms for KeyEvent)\r\nParent: com.filechooserexample.filechooserexample/.MainActivity\r\nLoad: 16.54 / 17.2 / 15.46\r\nCPU usage from 0ms to 11944ms later (٢٠٢٢-١٠-٠٧ ٢٠:١٩:٢٩.٢٣٣ to ٢٠٢٢-١٠-٠٧ ٢٠:١٩:٤١.١٧٨) with 99% awake:\r\n145% 11791/com.gold.android.youtube: 124% user + 20% kernel / faults: 155587 minor 104 major95% 27389/zygote64: 44% user + 50% kernel / faults: 2262086 minor 43 major\r\n55% 1406/system_server: 31% user + 23% kernel / faults: 27320 minor 58 major37% 585/logd: 12% user + 24% kernel / faults: 5057 minor 16 major\r\n                                                                                                      28% 11830/com.gogoogle.android.gms: 24% user + 4.6% kernel / faults: 11497 minor 27 major\r\n20% 949/adbd: 5.1% user + 15% kernel / faults: 103 minor\r\n17% 27101/us.zoom.videomeetings:conf: 12% user + 5.3% kernel / faults: 8584 minor 61 major\r\n17% 25083/in.sweatco.app: 11% user + 6.3% kernel / faults: 9222 minor 356 major\r\n15% 784/android.hardware.sensors@1.0-service: 6.2% user + 9.7% kernel / faults: 167 minor\r\n15% 2712/com.android.systemui: 12% user + 3.6% kernel / faults: 11269 minor 31 major\r\n9.2% 828/surfaceflinger: 5.6% user + 3.6% kernel / faults: 1925 minor 7 major\r\n9% 152/kswapd0: 0% user + 9% kernel\r\n7.4% 27527/logcat: 2% user + 5.3% kernel / faults: 34 minor\r\n7.4% 29146/logcat: 2.2% user + 5.1% kernel / faults: 34 minor\r\n7% 6362/com.touchtype.swiftkey: 4.7% user + 2.2% kernel / faults: 13363 minor 1729 major\r\n6.4% 9624/com.facebook.orca: 5.5% user + 0.9% kernel / faults: 5959 minor 24 major\r\n6.2% 16749/kworker/u17:0: 0% user + 6.2% kernel\r\n6% 820/audioserver: 4.4% user + 1.5% kernel / faults: 539 minor 7 major\r\n5.5% 695/netd: 4.6% user + 0.8% kernel / faults: 337 minor\r\n5.4% 766/android.hardware.audio.service: 2.1% user + 3.2% kernel / faults: 99 minor 7 major\r\n                                                                                                      5.4% 11039/kworker/u17:1: 0% user + 5.4% kernel\r\n4.8% 456/mmc-cmdqd/0: 0% user + 4.8% kernel\r\n4.1% 17016/com.google.android.as: 1.2% user + 2.8% kernel / faults: 5799 minor 2163 major\r\n4% 1159/media.codec: 2.5% user + 1.5% kernel / faults: 11890 minor 29 major\r\n4% 18095/com.google.android.apps.nexuslauncher: 3% user + 0.9% kernel / faults: 7735 minor 48 major\r\n3.8% 8812/com.facebook.katana: 2.2% user + 1.5% kernel / faults: 6904 minor 22 major                                                     3.4% 777/android.hardware.graphics.composer@2.1-service: 1.9% user + 1.5% kernel / faults: 320 minor\r\n3% 682/lspd: 1% user + 2% kernel / faults: 31 minor\r\n```\r\n\r\n## Old question probelm\r\n\r\nI am trying to practice on permission and some other component in android, in this app I am trying to get document file path then read it and show it in textview, the code was working normally before android 11 , I know there are some challenges to manage storge in this api, I tried most of ways in this questions:\r\n\r\n**https://stackoverflow.com/q/12421814/7639296**\r\n\r\n**https://stackoverflow.com/questions/3344551/how-to-read-text-file-in-android**\r\n\r\n**https://stackoverflow.com/questions/24291721/reading-a-text-file-line-by-line-in-android**\r\n\r\nbut it&#39;s gives the same result error\r\n\r\n```\r\nE/IOException: /document/document:3796: open failed: ENOENT (No such file or directory)\r\nE/IOException2: android.system.ErrnoException: open failed: ENOENT (No such file or directory)\r\nE/IOException3: exception\r\n    java.io.FileNotFoundException: /document/document:3796: open failed: ENOENT (No such file or directory)\r\n        at libcore.io.IoBridge.open(IoBridge.java:492)\r\n        at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:160)\r\n        at java.io.FileReader.&lt;init&gt;(FileReader.java:72)\r\n        at com.filechooserexample.filechooserexample.MainActivity.readFile(MainActivity.java:191)\r\n        at com.filechooserexample.filechooserexample.MainActivity.lambda$onStart$1$com-filechooserexample-filechooserexample-MainActivity(MainActivity.java:122)\r\n        at com.filechooserexample.filechooserexample.MainActivity$$ExternalSyntheticLambda1.onClick(Unknown Source:2)\r\n        at android.view.View.performClick(View.java:7455)\r\n        at android.view.View.performClickInternal(View.java:7432)\r\n        at android.view.View.access$3600(View.java:810)\r\n        at android.view.View$PerformClick.run(View.java:28313)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7663)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n     Caused by: android.system.ErrnoException: open failed: ENOENT (No such file or directory)\r\n        at libcore.io.Linux.open(Native Method)\r\n        at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\r\n        at libcore.io.BlockGuardOs.open(BlockGuardOs.java:254)\r\n        at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\r\n        at android.app.ActivityThread$AndroidOs.open(ActivityThread.java:7549)\r\n        at libcore.io.IoBridge.open(IoBridge.java:478)\r\n        at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:160)&#160;\r\n        at java.io.FileReader.&lt;init&gt;(FileReader.java:72)&#160;\r\n        at com.filechooserexample.filechooserexample.MainActivity.readFile(MainActivity.java:191)&#160;\r\n        at com.filechooserexample.filechooserexample.MainActivity.lambda$onStart$1$com-filechooserexample-filechooserexample-MainActivity(MainActivity.java:122)&#160;\r\n        at com.filechooserexample.filechooserexample.MainActivity$$ExternalSyntheticLambda1.onClick(Unknown Source:2)&#160;\r\n        at android.view.View.performClick(View.java:7455)&#160;\r\n        at android.view.View.performClickInternal(View.java:7432)&#160;\r\n        at android.view.View.access$3600(View.java:810)&#160;\r\n        at android.view.View$PerformClick.run(View.java:28313)&#160;\r\n        at android.os.Handler.handleCallback(Handler.java:938)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)&#160;\r\n        at android.os.Looper.loop(Looper.java:223)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7663)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)&#160;\r\n```\r\n\r\nthis manifest file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\r\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;\r\n\r\n\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:requestLegacyExternalStorage=&quot;true&quot;\r\n        android:supportsRtl=&quot;false&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;\r\n        tools:replace=&quot;allowBackup,supportsRtl&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nI used [**this way**][1] to take all permission that needed\r\nMy main activity\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    private File file;\r\n    private Uri selectedFile;\r\n    private static final int REQUEST_CODE_DOC = 1;\r\n\r\n    private static final String TAG = &quot;MainActivity&quot;;\r\n\r\n    private ActivityMainBinding activityMainBinding = null;\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        activityMainBinding = null;\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        activityMainBinding = ActivityMainBinding.inflate(getLayoutInflater());\r\n\r\n        setContentView(activityMainBinding.getRoot());\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        activityMainBinding.textView.setMovementMethod(new ScrollingMovementMethod());\r\n        activityMainBinding.browseButton.setOnClickListener(view -&gt; {\r\n\r\n\r\n\r\n\r\n\r\n            browseDocuments();\r\n        });\r\n\r\n        activityMainBinding.read.setOnClickListener(view -&gt; {\r\n            if (TextUtils.isEmpty(activityMainBinding.editTextPath.getText())) {\r\n                activityMainBinding.editTextPath.setError(&quot;The file path cannot be empty&quot;);\r\n            } else {\r\n                readFile();\r\n            }\r\n        });\r\n\r\n        activityMainBinding.clear.setOnClickListener(view -&gt; activityMainBinding.textView.setText(null));\r\n    }\r\n\r\n    \r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == REQUEST_CODE_DOC &amp;&amp; resultCode == Activity.RESULT_OK) {\r\n            \r\n            try {\r\n\r\n                if (data != null) {\r\n                    \r\n                    selectedFile = data.getData();\r\n                    file = new File(selectedFile.getPath());\r\n                    activityMainBinding.editTextPath.setText(file.getAbsolutePath());\r\n                    Log.d(TAG, &quot;onActivityResult: &quot; + file.getAbsolutePath());\r\n\r\n                } else {\r\n                    Toast.makeText(this, &quot;Allow permission for storage access!&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n                String mimeType = getContentResolver().getType(selectedFile);\r\n                Log.i(&quot;Type of file&quot;, mimeType + &quot;&quot;);\r\n            } catch (Exception exception) {\r\n\r\n                if (exception.getMessage() != null) {\r\n\r\n                    Log.e(&quot;test Exception&quot;, exception.getMessage());\r\n\r\n                } else if (exception.getCause() != null) {\r\n                    Log.e(&quot;test Exception&quot;, Objects.requireNonNull(exception.getCause()).toString());\r\n                }\r\n\r\n\r\n\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public String getPath(Uri uri) {\r\n        String[] projection = {MediaStore.Images.Media.DATA};\r\n        Cursor cursor = getContentResolver().query(uri, projection, null, null, null);\r\n        if (cursor == null) return null;\r\n        int column_index = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA);\r\n        cursor.moveToFirst();\r\n        String s = cursor.getString(column_index);\r\n        cursor.close();\r\n        return s;\r\n    }\r\n\r\n\r\n    private void readFile() {\r\n        try {\r\n            FileReader fileReader = new FileReader(file);\r\n            BufferedReader br = new BufferedReader(fileReader);\r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                activityMainBinding.textView.append(line + &quot;\\n&quot;);\r\n            }\r\n            br.close();\r\n            fileReader.close();\r\n        } catch (IOException e) {\r\n            Log.e(&quot;IOException&quot;, e.getMessage());\r\n            Log.e(&quot;IOException2&quot;, e.getCause() + &quot;&quot;);\r\n            Log.e(&quot;IOException3&quot;, &quot;exception&quot;, e);\r\n            Toast.makeText(MainActivity.this, &quot;Cannot read this file&quot;, Toast.LENGTH_LONG).show();\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    private boolean checkPermission() {\r\n        if (SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n            return Environment.isExternalStorageManager();\r\n        } else {\r\n            int result = ContextCompat.checkSelfPermission(this, READ_EXTERNAL_STORAGE);\r\n            int result1 = ContextCompat.checkSelfPermission(this, WRITE_EXTERNAL_STORAGE);\r\n            return result == PackageManager.PERMISSION_GRANTED &amp;&amp; result1 == PackageManager.PERMISSION_GRANTED;\r\n        }\r\n    }\r\n\r\n    private void requestPermission() {\r\n        if (SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n            try {\r\n                Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\r\n                intent.addCategory(&quot;android.intent.category.DEFAULT&quot;);\r\n                intent.setData(Uri.parse(String.format(&quot;package:%s&quot;, getApplicationContext().getPackageName())));\r\n                startActivityForResult(intent, 1);\r\n            } catch (Exception e) {\r\n                Intent intent = new Intent();\r\n                intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\r\n                startActivityForResult(intent, 1);\r\n            }\r\n        } else {\r\n            \r\n            ActivityCompat.requestPermissions(this, new String[]{READ_EXTERNAL_STORAGE,\r\n                    WRITE_EXTERNAL_STORAGE}, 1);\r\n        }\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/66366102/7639296","title":"Read document file in android R 11 getting java.io.FileNotFoundException: /document/document:3796: open failed: ENOENT (No such file or directory)","body":"<h2>Update:</h2>\n<p>I've edited the <code>readFile</code> method like the following</p>\n<pre><code>private void readFile() throws IOException {\n        try {\n\n            StringBuilder sb = new StringBuilder();\n            String line;\n\n            if (SDK_INT &gt;= Build.VERSION_CODES.R) {\n\n                inputStream = getContentResolver().openInputStream(selectedFileURI);\n                bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\n\n            } else {\n                fileReader = new FileReader(file);\n                bufferedReader = new BufferedReader(fileReader);\n            }\n            while ((line = bufferedReader.readLine()) != null) {\n               sb.append(line).append(&quot;\\n&quot;);\n            }\n\n            activityMainBinding.textView.setText(sb.toString());\n\n        } catch (IOException e) {\n            Log.e(&quot;IOException&quot;, e.getMessage());\n            Log.e(&quot;IOException2&quot;, e.getCause() + &quot;&quot;);\n            Log.e(&quot;IOException3&quot;, &quot;exception&quot;, e);\n            Toast.makeText(MainActivity.this, &quot;Cannot read this file&quot;, Toast.LENGTH_LONG).show();\n\n        } finally {\n            if (inputStream != null) {\n                inputStream.close();\n            } else if (bufferedReader != null) {\n                bufferedReader.close();\n            } else if (fileReader != null) {\n                fileReader.close();\n            }\n        }\n\n    }\n</code></pre>\n<p>the app hanged / stucks and I go this ANR error</p>\n<pre><code>  E  ANR in com.filechooserexample.filechooserexample (com.filechooserexample.filechooserexample/.MainActivity)\nPID: 27389\nReason: Input dispatching timed out (d457abb com.filechooserexample.filechooserexample/com.filechooserexample.filechooserexample.MainActivity (server) is not responding. Waited 5000ms for KeyEvent)\nParent: com.filechooserexample.filechooserexample/.MainActivity\nLoad: 16.54 / 17.2 / 15.46\nCPU usage from 0ms to 11944ms later (٢٠٢٢-١٠-٠٧ ٢٠:١٩:٢٩.٢٣٣ to ٢٠٢٢-١٠-٠٧ ٢٠:١٩:٤١.١٧٨) with 99% awake:\n145% 11791/com.gold.android.youtube: 124% user + 20% kernel / faults: 155587 minor 104 major95% 27389/zygote64: 44% user + 50% kernel / faults: 2262086 minor 43 major\n55% 1406/system_server: 31% user + 23% kernel / faults: 27320 minor 58 major37% 585/logd: 12% user + 24% kernel / faults: 5057 minor 16 major\n                                                                                                      28% 11830/com.gogoogle.android.gms: 24% user + 4.6% kernel / faults: 11497 minor 27 major\n20% 949/adbd: 5.1% user + 15% kernel / faults: 103 minor\n17% 27101/us.zoom.videomeetings:conf: 12% user + 5.3% kernel / faults: 8584 minor 61 major\n17% 25083/in.sweatco.app: 11% user + 6.3% kernel / faults: 9222 minor 356 major\n15% 784/android.hardware.sensors@1.0-service: 6.2% user + 9.7% kernel / faults: 167 minor\n15% 2712/com.android.systemui: 12% user + 3.6% kernel / faults: 11269 minor 31 major\n9.2% 828/surfaceflinger: 5.6% user + 3.6% kernel / faults: 1925 minor 7 major\n9% 152/kswapd0: 0% user + 9% kernel\n7.4% 27527/logcat: 2% user + 5.3% kernel / faults: 34 minor\n7.4% 29146/logcat: 2.2% user + 5.1% kernel / faults: 34 minor\n7% 6362/com.touchtype.swiftkey: 4.7% user + 2.2% kernel / faults: 13363 minor 1729 major\n6.4% 9624/com.facebook.orca: 5.5% user + 0.9% kernel / faults: 5959 minor 24 major\n6.2% 16749/kworker/u17:0: 0% user + 6.2% kernel\n6% 820/audioserver: 4.4% user + 1.5% kernel / faults: 539 minor 7 major\n5.5% 695/netd: 4.6% user + 0.8% kernel / faults: 337 minor\n5.4% 766/android.hardware.audio.service: 2.1% user + 3.2% kernel / faults: 99 minor 7 major\n                                                                                                      5.4% 11039/kworker/u17:1: 0% user + 5.4% kernel\n4.8% 456/mmc-cmdqd/0: 0% user + 4.8% kernel\n4.1% 17016/com.google.android.as: 1.2% user + 2.8% kernel / faults: 5799 minor 2163 major\n4% 1159/media.codec: 2.5% user + 1.5% kernel / faults: 11890 minor 29 major\n4% 18095/com.google.android.apps.nexuslauncher: 3% user + 0.9% kernel / faults: 7735 minor 48 major\n3.8% 8812/com.facebook.katana: 2.2% user + 1.5% kernel / faults: 6904 minor 22 major                                                     3.4% 777/android.hardware.graphics.composer@2.1-service: 1.9% user + 1.5% kernel / faults: 320 minor\n3% 682/lspd: 1% user + 2% kernel / faults: 31 minor\n</code></pre>\n<h2>Old question probelm</h2>\n<p>I am trying to practice on permission and some other component in android, in this app I am trying to get document file path then read it and show it in textview, the code was working normally before android 11 , I know there are some challenges to manage storge in this api, I tried most of ways in this questions:</p>\n<p><strong><a href=\"https://stackoverflow.com/q/12421814/7639296\">How can I read a text file in Android?</a></strong></p>\n<p><strong><a href=\"https://stackoverflow.com/questions/3344551/how-to-read-text-file-in-android\">How to read text file in Android?</a></strong></p>\n<p><strong><a href=\"https://stackoverflow.com/questions/24291721/reading-a-text-file-line-by-line-in-android\">Reading a text file line by line in android</a></strong></p>\n<p>but it's gives the same result error</p>\n<pre><code>E/IOException: /document/document:3796: open failed: ENOENT (No such file or directory)\nE/IOException2: android.system.ErrnoException: open failed: ENOENT (No such file or directory)\nE/IOException3: exception\n    java.io.FileNotFoundException: /document/document:3796: open failed: ENOENT (No such file or directory)\n        at libcore.io.IoBridge.open(IoBridge.java:492)\n        at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:160)\n        at java.io.FileReader.&lt;init&gt;(FileReader.java:72)\n        at com.filechooserexample.filechooserexample.MainActivity.readFile(MainActivity.java:191)\n        at com.filechooserexample.filechooserexample.MainActivity.lambda$onStart$1$com-filechooserexample-filechooserexample-MainActivity(MainActivity.java:122)\n        at com.filechooserexample.filechooserexample.MainActivity$$ExternalSyntheticLambda1.onClick(Unknown Source:2)\n        at android.view.View.performClick(View.java:7455)\n        at android.view.View.performClickInternal(View.java:7432)\n        at android.view.View.access$3600(View.java:810)\n        at android.view.View$PerformClick.run(View.java:28313)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7663)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n     Caused by: android.system.ErrnoException: open failed: ENOENT (No such file or directory)\n        at libcore.io.Linux.open(Native Method)\n        at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\n        at libcore.io.BlockGuardOs.open(BlockGuardOs.java:254)\n        at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\n        at android.app.ActivityThread$AndroidOs.open(ActivityThread.java:7549)\n        at libcore.io.IoBridge.open(IoBridge.java:478)\n        at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:160) \n        at java.io.FileReader.&lt;init&gt;(FileReader.java:72) \n        at com.filechooserexample.filechooserexample.MainActivity.readFile(MainActivity.java:191) \n        at com.filechooserexample.filechooserexample.MainActivity.lambda$onStart$1$com-filechooserexample-filechooserexample-MainActivity(MainActivity.java:122) \n        at com.filechooserexample.filechooserexample.MainActivity$$ExternalSyntheticLambda1.onClick(Unknown Source:2) \n        at android.view.View.performClick(View.java:7455) \n        at android.view.View.performClickInternal(View.java:7432) \n        at android.view.View.access$3600(View.java:810) \n        at android.view.View$PerformClick.run(View.java:28313) \n        at android.os.Handler.handleCallback(Handler.java:938) \n        at android.os.Handler.dispatchMessage(Handler.java:99) \n        at android.os.Looper.loop(Looper.java:223) \n        at android.app.ActivityThread.main(ActivityThread.java:7663) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947) \n</code></pre>\n<p>this manifest file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;\n\n\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:requestLegacyExternalStorage=&quot;true&quot;\n        android:supportsRtl=&quot;false&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:theme=&quot;@style/AppTheme&quot;\n        tools:replace=&quot;allowBackup,supportsRtl&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>I used <a href=\"https://stackoverflow.com/a/66366102/7639296\"><strong>this way</strong></a> to take all permission that needed\nMy main activity</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private File file;\n    private Uri selectedFile;\n    private static final int REQUEST_CODE_DOC = 1;\n\n    private static final String TAG = &quot;MainActivity&quot;;\n\n    private ActivityMainBinding activityMainBinding = null;\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        activityMainBinding = null;\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        activityMainBinding = ActivityMainBinding.inflate(getLayoutInflater());\n\n        setContentView(activityMainBinding.getRoot());\n\n\n    }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n        activityMainBinding.textView.setMovementMethod(new ScrollingMovementMethod());\n        activityMainBinding.browseButton.setOnClickListener(view -&gt; {\n\n\n\n\n\n            browseDocuments();\n        });\n\n        activityMainBinding.read.setOnClickListener(view -&gt; {\n            if (TextUtils.isEmpty(activityMainBinding.editTextPath.getText())) {\n                activityMainBinding.editTextPath.setError(&quot;The file path cannot be empty&quot;);\n            } else {\n                readFile();\n            }\n        });\n\n        activityMainBinding.clear.setOnClickListener(view -&gt; activityMainBinding.textView.setText(null));\n    }\n\n    \n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == REQUEST_CODE_DOC &amp;&amp; resultCode == Activity.RESULT_OK) {\n            \n            try {\n\n                if (data != null) {\n                    \n                    selectedFile = data.getData();\n                    file = new File(selectedFile.getPath());\n                    activityMainBinding.editTextPath.setText(file.getAbsolutePath());\n                    Log.d(TAG, &quot;onActivityResult: &quot; + file.getAbsolutePath());\n\n                } else {\n                    Toast.makeText(this, &quot;Allow permission for storage access!&quot;, Toast.LENGTH_SHORT).show();\n                }\n\n                String mimeType = getContentResolver().getType(selectedFile);\n                Log.i(&quot;Type of file&quot;, mimeType + &quot;&quot;);\n            } catch (Exception exception) {\n\n                if (exception.getMessage() != null) {\n\n                    Log.e(&quot;test Exception&quot;, exception.getMessage());\n\n                } else if (exception.getCause() != null) {\n                    Log.e(&quot;test Exception&quot;, Objects.requireNonNull(exception.getCause()).toString());\n                }\n\n\n\n\n            }\n        }\n\n    }\n\n    public String getPath(Uri uri) {\n        String[] projection = {MediaStore.Images.Media.DATA};\n        Cursor cursor = getContentResolver().query(uri, projection, null, null, null);\n        if (cursor == null) return null;\n        int column_index = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA);\n        cursor.moveToFirst();\n        String s = cursor.getString(column_index);\n        cursor.close();\n        return s;\n    }\n\n\n    private void readFile() {\n        try {\n            FileReader fileReader = new FileReader(file);\n            BufferedReader br = new BufferedReader(fileReader);\n            String line;\n            while ((line = br.readLine()) != null) {\n                activityMainBinding.textView.append(line + &quot;\\n&quot;);\n            }\n            br.close();\n            fileReader.close();\n        } catch (IOException e) {\n            Log.e(&quot;IOException&quot;, e.getMessage());\n            Log.e(&quot;IOException2&quot;, e.getCause() + &quot;&quot;);\n            Log.e(&quot;IOException3&quot;, &quot;exception&quot;, e);\n            Toast.makeText(MainActivity.this, &quot;Cannot read this file&quot;, Toast.LENGTH_LONG).show();\n\n        }\n\n    }\n\n\n\n\n\n\n    private boolean checkPermission() {\n        if (SDK_INT &gt;= Build.VERSION_CODES.R) {\n            return Environment.isExternalStorageManager();\n        } else {\n            int result = ContextCompat.checkSelfPermission(this, READ_EXTERNAL_STORAGE);\n            int result1 = ContextCompat.checkSelfPermission(this, WRITE_EXTERNAL_STORAGE);\n            return result == PackageManager.PERMISSION_GRANTED &amp;&amp; result1 == PackageManager.PERMISSION_GRANTED;\n        }\n    }\n\n    private void requestPermission() {\n        if (SDK_INT &gt;= Build.VERSION_CODES.R) {\n            try {\n                Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\n                intent.addCategory(&quot;android.intent.category.DEFAULT&quot;);\n                intent.setData(Uri.parse(String.format(&quot;package:%s&quot;, getApplicationContext().getPackageName())));\n                startActivityForResult(intent, 1);\n            } catch (Exception e) {\n                Intent intent = new Intent();\n                intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\n                startActivityForResult(intent, 1);\n            }\n        } else {\n            \n            ActivityCompat.requestPermissions(this, new String[]{READ_EXTERNAL_STORAGE,\n                    WRITE_EXTERNAL_STORAGE}, 1);\n        }\n    }\n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":309077,"reputation":24064,"user_id":621338,"accept_rate":90,"display_name":"necromancer"},"score":2,"creation_date":1404034751,"post_id":24474838,"comment_id":37881172,"body_markdown":"I do realize that there will be no performance gain because streams are evaluated lazily; I am just hoping to avoid duplicating code.","body":"I do realize that there will be no performance gain because streams are evaluated lazily; I am just hoping to avoid duplicating code."},{"owner":{"account_id":2647040,"reputation":20641,"user_id":2289509,"display_name":"Elazar"},"score":0,"creation_date":1404034792,"post_id":24474838,"comment_id":37881180,"body_markdown":"Why not turn the streams into lists?","body":"Why not turn the streams into lists?"},{"owner":{"account_id":350230,"reputation":6382,"user_id":685962,"display_name":"d1e"},"score":1,"creation_date":1404034979,"post_id":24474838,"comment_id":37881212,"body_markdown":"Locate what varies in your code and extract this into variables. Then create a method to extract reusable piece of code and apply variables to it.","body":"Locate what varies in your code and extract this into variables. Then create a method to extract reusable piece of code and apply variables to it."},{"owner":{"account_id":309077,"reputation":24064,"user_id":621338,"accept_rate":90,"display_name":"necromancer"},"score":0,"creation_date":1404034984,"post_id":24474838,"comment_id":37881215,"body_markdown":"@Elazar doing so would not be memory efficient, and would not work for infinite streams!","body":"@Elazar doing so would not be memory efficient, and would not work for infinite streams!"},{"owner":{"account_id":2647040,"reputation":20641,"user_id":2289509,"display_name":"Elazar"},"score":2,"creation_date":1404068837,"post_id":24474838,"comment_id":37889713,"body_markdown":"Nothing can duplicate general infinite streams, without further information.","body":"Nothing can duplicate general infinite streams, without further information."},{"owner":{"account_id":309077,"reputation":24064,"user_id":621338,"accept_rate":90,"display_name":"necromancer"},"score":0,"creation_date":1404086367,"post_id":24474838,"comment_id":37893756,"body_markdown":"@Elazar I realize that&#39;s right. Feel free to add an answer that elaborates. I am not sure if it would be worth switching the currently accepted answer because it does say so in its first sentence: &quot;It is not possible ...&quot;, but I am sure readers will appreciate knowing that this is fundamentally impossible in general.","body":"@Elazar I realize that&#39;s right. Feel free to add an answer that elaborates. I am not sure if it would be worth switching the currently accepted answer because it does say so in its first sentence: &quot;It is not possible ...&quot;, but I am sure readers will appreciate knowing that this is fundamentally impossible in general."},{"owner":{"account_id":2647040,"reputation":20641,"user_id":2289509,"display_name":"Elazar"},"score":0,"creation_date":1404089700,"post_id":24474838,"comment_id":37894382,"body_markdown":"@necromancer I gave it a try.","body":"@necromancer I gave it a try."},{"owner":{"account_id":309077,"reputation":24064,"user_id":621338,"accept_rate":90,"display_name":"necromancer"},"score":0,"creation_date":1404094017,"post_id":24474838,"comment_id":37895173,"body_markdown":"@Elazar good job, esp the phrase: &#39;copy the state of the whole &quot;outside world&quot;&#39;. That is the key point. The example I thought of after your earlier comment was that of a stream that reads a temperature sensor on demand. Your mention of the `|n1 - n2|` solution is great because it is a very nice solution to the fundamental problem. I almost feel like editing your answer to suggest using a `Queue`, what do you think?","body":"@Elazar good job, esp the phrase: &#39;copy the state of the whole &quot;outside world&quot;&#39;. That is the key point. The example I thought of after your earlier comment was that of a stream that reads a temperature sensor on demand. Your mention of the <code>|n1 - n2|</code> solution is great because it is a very nice solution to the fundamental problem. I almost feel like editing your answer to suggest using a <code>Queue</code>, what do you think?"}],"answers":[{"tags":[],"owner":{"account_id":1370027,"reputation":49110,"user_id":1305501,"accept_rate":77,"display_name":"nosid"},"down_vote_count":0,"up_vote_count":65,"is_accepted":false,"score":65,"last_activity_date":1404037423,"creation_date":1404034933,"answer_id":24474871,"question_id":24474838,"body_markdown":"It is not possible to duplicate a stream in this way. However, you can avoid the code duplication by moving the common part into a method or lambda expression.\r\n\r\n    Supplier&lt;IntStream&gt; supplier = () -&gt;\r\n        IntStream.range(1, 100).filter(n -&gt; n % 2 == 0);\r\n    supplier.get().filter(...);\r\n    supplier.get().filter(...);\r\n","title":"Can I duplicate a Stream in Java 8?","body":"<p>It is not possible to duplicate a stream in this way. However, you can avoid the code duplication by moving the common part into a method or lambda expression.</p>\n\n<pre><code>Supplier&lt;IntStream&gt; supplier = () -&gt;\n    IntStream.range(1, 100).filter(n -&gt; n % 2 == 0);\nsupplier.get().filter(...);\nsupplier.get().filter(...);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":309077,"reputation":24064,"user_id":621338,"accept_rate":90,"display_name":"necromancer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1404038510,"creation_date":1404034941,"answer_id":24474874,"question_id":24474838,"body_markdown":"**Update:** This **doesn&#39;t** work. See explanation below, after the text of the original answer.\r\n\r\nHow silly of me. All that I need to do is:\r\n\r\n    Stream desired_stream = IntStream.range(1, 100).filter(n -&gt; n % 2 == 0);\r\n    Stream stream14 = desired_stream.filter(n -&gt; n % 7 == 0); // multiples of 14\r\n    Stream stream10 = desired_stream.filter(n -&gt; n % 5 == 0); // multiples of 10\r\n\r\n**Explanation why this does not work:**\r\n\r\nIf you code it up and try to collect both streams, the first one will collect fine, but trying to stream the second one will throw the exception: `java.lang.IllegalStateException: stream has already been operated upon or closed`.\r\n\r\nTo elaborate, streams are stateful objects (which by the way cannot be reset or rewound). You can think of them as iterators, which in turn are like pointers. So `stream14` and `stream10` can be thought of as references to the same pointer. Consuming the first stream all the way will cause the pointer to go &quot;past the end.&quot; Trying to consume the second stream is like trying to access a pointer that is already &quot;past the end,&quot; Which naturally is an illegal operation.\r\n\r\nAs the accepted answer shows, the code to create the stream must be executed twice but it can be compartmentalized into a `Supplier` lambda or a similar construct.\r\n\r\n**Full test code:** save into `Foo.java`, then `javac Foo.java`, then `java Foo`\r\n\r\n    import java.util.stream.IntStream;\r\n    \r\n    public class Foo {\r\n      public static void main (String [] args) {\r\n        IntStream s = IntStream.range(0, 100).filter(n -&gt; n % 2 == 0);\r\n        IntStream s1 = s.filter(n -&gt; n % 5 == 0);\r\n        s1.forEach(n -&gt; System.out.println(n));\r\n        IntStream s2 = s.filter(n -&gt; n % 7 == 0);\r\n        s2.forEach(n -&gt; System.out.println(n));\r\n      }\r\n    }\r\n\r\n**Output:**\r\n\r\n    $ javac Foo.java\r\n    $ java Foo\r\n    0\r\n    10\r\n    20\r\n    30\r\n    40\r\n    50\r\n    60\r\n    70\r\n    80\r\n    90\r\n    Exception in thread &quot;main&quot; java.lang.IllegalStateException: stream has already been operated upon or closed\r\n    \tat java.util.stream.AbstractPipeline.&lt;init&gt;(AbstractPipeline.java:203)\r\n    \tat java.util.stream.IntPipeline.&lt;init&gt;(IntPipeline.java:91)\r\n    \tat java.util.stream.IntPipeline$StatelessOp.&lt;init&gt;(IntPipeline.java:592)\r\n    \tat java.util.stream.IntPipeline$9.&lt;init&gt;(IntPipeline.java:332)\r\n    \tat java.util.stream.IntPipeline.filter(IntPipeline.java:331)\r\n    \tat Foo.main(Foo.java:8)\r\n\r\n","title":"Can I duplicate a Stream in Java 8?","body":"<p><strong>Update:</strong> This <strong>doesn't</strong> work. See explanation below, after the text of the original answer.</p>\n\n<p>How silly of me. All that I need to do is:</p>\n\n<pre><code>Stream desired_stream = IntStream.range(1, 100).filter(n -&gt; n % 2 == 0);\nStream stream14 = desired_stream.filter(n -&gt; n % 7 == 0); // multiples of 14\nStream stream10 = desired_stream.filter(n -&gt; n % 5 == 0); // multiples of 10\n</code></pre>\n\n<p><strong>Explanation why this does not work:</strong></p>\n\n<p>If you code it up and try to collect both streams, the first one will collect fine, but trying to stream the second one will throw the exception: <code>java.lang.IllegalStateException: stream has already been operated upon or closed</code>.</p>\n\n<p>To elaborate, streams are stateful objects (which by the way cannot be reset or rewound). You can think of them as iterators, which in turn are like pointers. So <code>stream14</code> and <code>stream10</code> can be thought of as references to the same pointer. Consuming the first stream all the way will cause the pointer to go \"past the end.\" Trying to consume the second stream is like trying to access a pointer that is already \"past the end,\" Which naturally is an illegal operation.</p>\n\n<p>As the accepted answer shows, the code to create the stream must be executed twice but it can be compartmentalized into a <code>Supplier</code> lambda or a similar construct.</p>\n\n<p><strong>Full test code:</strong> save into <code>Foo.java</code>, then <code>javac Foo.java</code>, then <code>java Foo</code></p>\n\n<pre><code>import java.util.stream.IntStream;\n\npublic class Foo {\n  public static void main (String [] args) {\n    IntStream s = IntStream.range(0, 100).filter(n -&gt; n % 2 == 0);\n    IntStream s1 = s.filter(n -&gt; n % 5 == 0);\n    s1.forEach(n -&gt; System.out.println(n));\n    IntStream s2 = s.filter(n -&gt; n % 7 == 0);\n    s2.forEach(n -&gt; System.out.println(n));\n  }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>$ javac Foo.java\n$ java Foo\n0\n10\n20\n30\n40\n50\n60\n70\n80\n90\nException in thread \"main\" java.lang.IllegalStateException: stream has already been operated upon or closed\n    at java.util.stream.AbstractPipeline.&lt;init&gt;(AbstractPipeline.java:203)\n    at java.util.stream.IntPipeline.&lt;init&gt;(IntPipeline.java:91)\n    at java.util.stream.IntPipeline$StatelessOp.&lt;init&gt;(IntPipeline.java:592)\n    at java.util.stream.IntPipeline$9.&lt;init&gt;(IntPipeline.java:332)\n    at java.util.stream.IntPipeline.filter(IntPipeline.java:331)\n    at Foo.main(Foo.java:8)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1404034975,"creation_date":1404034975,"answer_id":24474878,"question_id":24474838,"body_markdown":"Either,\r\n\r\n - Move the initialisation into a method, and simply call the method again\r\n\r\nThis has the advantage of being explicit about what you are doing, and also works for infinite streams.\r\n\r\n - Collect the stream and then re-stream it\r\n\r\nIn your example:\r\n\r\n    final int[] arr = IntStream.range(1, 100).filter(n -&gt; n % 2 == 0).toArray();\r\n\r\nThen\r\n\r\n    final IntStream s = IntStream.of(arr);","title":"Can I duplicate a Stream in Java 8?","body":"<p>Either,</p>\n\n<ul>\n<li>Move the initialisation into a method, and simply call the method again</li>\n</ul>\n\n<p>This has the advantage of being explicit about what you are doing, and also works for infinite streams.</p>\n\n<ul>\n<li>Collect the stream and then re-stream it</li>\n</ul>\n\n<p>In your example:</p>\n\n<pre><code>final int[] arr = IntStream.range(1, 100).filter(n -&gt; n % 2 == 0).toArray();\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>final IntStream s = IntStream.of(arr);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2647040,"reputation":20641,"user_id":2289509,"display_name":"Elazar"},"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1594666509,"creation_date":1404089654,"answer_id":24481672,"question_id":24474838,"body_markdown":"It is not possible in general.\r\n\r\nIf you want to duplicate an input stream, or input iterator, you have two options:\r\n\r\n### A. Keep everything in a collection, say a `List&lt;&gt;`\r\n\r\nSuppose you duplicate a stream into two streams `s1` and `s2`. If you have advanced `n1` elements in `s1` and `n2` elements with `s2`, you must keep `|n2 - n1|` elements in memory, just to keep pace. If your stream is infinite, there may be no upper bound for the storage required.\r\n\r\nTake a look at Python&#39;s [`tee()`](https://docs.python.org/3/library/itertools.html#itertools.tee) to see what it takes:\r\n\r\n&gt; This itertool may require significant auxiliary storage (depending on how much temporary data needs to be stored). In general, if one iterator uses most or all of the data before another iterator starts, it is faster to use `list()` instead of `tee()`.\r\n\r\n### B. When possible: Copy the state of the generator that creates the elements\r\n\r\nFor this option to work, you&#39;ll probably need access to the inner workings of the stream. In other words, the generator - the part that creates the elements - should support copying in the first place. [OP: See this [**great answer**][1], as an example of how this can be done for the example in the question]\r\n\r\nIt will not work on input from the user, since you&#39;ll have to copy the state of the entire &quot;outside world&quot;. Java&#39;s `Stream` do not support copying, since it is designed to be as general as possible; for example, to work with files, network, keyboard, sensors, randomness etc. [OP: Another example is a stream that reads a temperature sensor on demand. It cannot be duplicated without storing a copy of the readings]\r\n\r\nThis is not only the case in Java; this is a general rule. You can see that [`std::istream`](http://www.cplusplus.com/reference/istream/istream/istream/) in C++ only supports move semantics, not copy semantics (&quot;copy constructor (deleted)&quot;), for this reason (and others). \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/24474871/621338","title":"Can I duplicate a Stream in Java 8?","body":"<p>It is not possible in general.</p>\n<p>If you want to duplicate an input stream, or input iterator, you have two options:</p>\n<h3>A. Keep everything in a collection, say a <code>List&lt;&gt;</code></h3>\n<p>Suppose you duplicate a stream into two streams <code>s1</code> and <code>s2</code>. If you have advanced <code>n1</code> elements in <code>s1</code> and <code>n2</code> elements with <code>s2</code>, you must keep <code>|n2 - n1|</code> elements in memory, just to keep pace. If your stream is infinite, there may be no upper bound for the storage required.</p>\n<p>Take a look at Python's <a href=\"https://docs.python.org/3/library/itertools.html#itertools.tee\" rel=\"noreferrer\"><code>tee()</code></a> to see what it takes:</p>\n<blockquote>\n<p>This itertool may require significant auxiliary storage (depending on how much temporary data needs to be stored). In general, if one iterator uses most or all of the data before another iterator starts, it is faster to use <code>list()</code> instead of <code>tee()</code>.</p>\n</blockquote>\n<h3>B. When possible: Copy the state of the generator that creates the elements</h3>\n<p>For this option to work, you'll probably need access to the inner workings of the stream. In other words, the generator - the part that creates the elements - should support copying in the first place. [OP: See this <a href=\"https://stackoverflow.com/a/24474871/621338\"><strong>great answer</strong></a>, as an example of how this can be done for the example in the question]</p>\n<p>It will not work on input from the user, since you'll have to copy the state of the entire &quot;outside world&quot;. Java's <code>Stream</code> do not support copying, since it is designed to be as general as possible; for example, to work with files, network, keyboard, sensors, randomness etc. [OP: Another example is a stream that reads a temperature sensor on demand. It cannot be duplicated without storing a copy of the readings]</p>\n<p>This is not only the case in Java; this is a general rule. You can see that <a href=\"http://www.cplusplus.com/reference/istream/istream/istream/\" rel=\"noreferrer\"><code>std::istream</code></a> in C++ only supports move semantics, not copy semantics (&quot;copy constructor (deleted)&quot;), for this reason (and others).</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1411477402,"creation_date":1411396454,"answer_id":25976687,"question_id":24474838,"body_markdown":"It&#39;s possible if you&#39;re buffering elements that you&#39;ve consumed in one duplicate, but not in the other yet.\r\n\r\nWe&#39;ve implemented a `duplicate()` method for streams in [jOOλ][1], an Open Source library that we created to improve integration testing for [jOOQ][2]. Essentially, you can just write:\r\n\r\n    Tuple2&lt;Seq&lt;Integer&gt;, Seq&lt;Integer&gt;&gt; desired_streams = Seq.seq(\r\n        IntStream.range(1, 100).filter(n -&gt; n % 2 == 0).boxed()\r\n    ).duplicate();\r\n\r\n&lt;sub&gt;(note: we currently need to box the stream, as we haven&#39;t implemented an `IntSeq` yet)&lt;/sub&gt;\r\n\r\nInternally, there is a `LinkedList` buffer storing all values that have been consumed from one stream but not from the other. That&#39;s probably as efficient as it gets if your two streams are consumed about at the same rate.\r\n\r\nHere&#39;s how the algorithm works:\r\n\r\n    static &lt;T&gt; Tuple2&lt;Seq&lt;T&gt;, Seq&lt;T&gt;&gt; duplicate(Stream&lt;T&gt; stream) {\r\n        final LinkedList&lt;T&gt; gap = new LinkedList&lt;&gt;();\r\n        final Iterator&lt;T&gt; it = stream.iterator();\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        final Iterator&lt;T&gt;[] ahead = new Iterator[] { null };\r\n\r\n        class Duplicate implements Iterator&lt;T&gt; {\r\n            @Override\r\n            public boolean hasNext() {\r\n                if (ahead[0] == null || ahead[0] == this)\r\n                    return it.hasNext();\r\n\r\n                return !gap.isEmpty();\r\n            }\r\n\r\n            @Override\r\n            public T next() {\r\n                if (ahead[0] == null)\r\n                    ahead[0] = this;\r\n\r\n                if (ahead[0] == this) {\r\n                    T value = it.next();\r\n                    gap.offer(value);\r\n                    return value;\r\n                }\r\n\r\n                return gap.poll();\r\n            }\r\n        }\r\n\r\n        return tuple(seq(new Duplicate()), seq(new Duplicate()));\r\n    }\r\n\r\n[More source code here][3]\r\n\r\nIn fact, using [jOOλ][1], you&#39;ll be able to write a complete one-liner like so:\r\n\r\n    Tuple2&lt;Seq&lt;Integer&gt;, Seq&lt;Integer&gt;&gt; desired_streams = Seq.seq(\r\n        IntStream.range(1, 100).filter(n -&gt; n % 2 == 0).boxed()\r\n    ).duplicate()\r\n     .map1(s -&gt; s.filter(n -&gt; n % 7 == 0))\r\n     .map2(s -&gt; s.filter(n -&gt; n % 5 == 0));\r\n\r\n    // This will yield 14, 28, 42, 56...\r\n    desired_streams.v1.forEach(System.out::println)\r\n\r\n    // This will yield 10, 20, 30, 40...\r\n    desired_streams.v2.forEach(System.out::println);\r\n\r\n  [1]: https://github.com/jOOQ/jOOL\r\n  [2]: http://www.jooq.org\r\n  [3]: https://github.com/jOOQ/jOOL/blob/master/src/main/java/org/jooq/lambda/Seq.java","title":"Can I duplicate a Stream in Java 8?","body":"<p>It's possible if you're buffering elements that you've consumed in one duplicate, but not in the other yet.</p>\n\n<p>We've implemented a <code>duplicate()</code> method for streams in <a href=\"https://github.com/jOOQ/jOOL\" rel=\"noreferrer\">jOOλ</a>, an Open Source library that we created to improve integration testing for <a href=\"http://www.jooq.org\" rel=\"noreferrer\">jOOQ</a>. Essentially, you can just write:</p>\n\n<pre><code>Tuple2&lt;Seq&lt;Integer&gt;, Seq&lt;Integer&gt;&gt; desired_streams = Seq.seq(\n    IntStream.range(1, 100).filter(n -&gt; n % 2 == 0).boxed()\n).duplicate();\n</code></pre>\n\n<p><sub>(note: we currently need to box the stream, as we haven't implemented an <code>IntSeq</code> yet)</sub></p>\n\n<p>Internally, there is a <code>LinkedList</code> buffer storing all values that have been consumed from one stream but not from the other. That's probably as efficient as it gets if your two streams are consumed about at the same rate.</p>\n\n<p>Here's how the algorithm works:</p>\n\n<pre><code>static &lt;T&gt; Tuple2&lt;Seq&lt;T&gt;, Seq&lt;T&gt;&gt; duplicate(Stream&lt;T&gt; stream) {\n    final LinkedList&lt;T&gt; gap = new LinkedList&lt;&gt;();\n    final Iterator&lt;T&gt; it = stream.iterator();\n\n    @SuppressWarnings(\"unchecked\")\n    final Iterator&lt;T&gt;[] ahead = new Iterator[] { null };\n\n    class Duplicate implements Iterator&lt;T&gt; {\n        @Override\n        public boolean hasNext() {\n            if (ahead[0] == null || ahead[0] == this)\n                return it.hasNext();\n\n            return !gap.isEmpty();\n        }\n\n        @Override\n        public T next() {\n            if (ahead[0] == null)\n                ahead[0] = this;\n\n            if (ahead[0] == this) {\n                T value = it.next();\n                gap.offer(value);\n                return value;\n            }\n\n            return gap.poll();\n        }\n    }\n\n    return tuple(seq(new Duplicate()), seq(new Duplicate()));\n}\n</code></pre>\n\n<p><a href=\"https://github.com/jOOQ/jOOL/blob/master/src/main/java/org/jooq/lambda/Seq.java\" rel=\"noreferrer\">More source code here</a></p>\n\n<p>In fact, using <a href=\"https://github.com/jOOQ/jOOL\" rel=\"noreferrer\">jOOλ</a>, you'll be able to write a complete one-liner like so:</p>\n\n<pre><code>Tuple2&lt;Seq&lt;Integer&gt;, Seq&lt;Integer&gt;&gt; desired_streams = Seq.seq(\n    IntStream.range(1, 100).filter(n -&gt; n % 2 == 0).boxed()\n).duplicate()\n .map1(s -&gt; s.filter(n -&gt; n % 7 == 0))\n .map2(s -&gt; s.filter(n -&gt; n % 5 == 0));\n\n// This will yield 14, 28, 42, 56...\ndesired_streams.v1.forEach(System.out::println)\n\n// This will yield 10, 20, 30, 40...\ndesired_streams.v2.forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7944415,"reputation":95,"user_id":5997360,"display_name":"Tomasz GORKA"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1465569864,"creation_date":1465569864,"answer_id":37751103,"question_id":24474838,"body_markdown":"You can also move the stream generation into separate method/function that returns this stream and call it twice.","title":"Can I duplicate a Stream in Java 8?","body":"<p>You can also move the stream generation into separate method/function that returns this stream and call it twice.</p>\n"},{"tags":[],"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543408375,"creation_date":1543408375,"answer_id":53519564,"question_id":24474838,"body_markdown":"For non-infinite streams, if you have access to the source, its straight forward:\r\n\r\n    @Test\r\n    public void testName() throws Exception {\r\n        List&lt;Integer&gt; integers = Arrays.asList(1, 2, 4, 5, 6, 7, 8, 9, 10);\r\n        Stream&lt;Integer&gt; stream1 = integers.stream();\r\n        Stream&lt;Integer&gt; stream2 = integers.stream();\r\n\r\n        stream1.forEach(System.out::println);\r\n        stream2.forEach(System.out::println);\r\n    }\r\n\r\n\r\n&gt; prints\r\n\r\n&gt; 1\r\n2\r\n4\r\n5\r\n6\r\n7\r\n8\r\n9\r\n10\r\n\r\n&gt;1\r\n2\r\n4\r\n5\r\n6\r\n7\r\n8\r\n9\r\n10\r\n\r\nFor your case:\r\n\r\n\r\n    Stream originalStream = IntStream.range(1, 100).filter(n -&gt; n % 2 == 0)\r\n    \r\n    List&lt;Integer&gt; listOf = originalStream.collect(Collectors.toList())\r\n    \r\n    Stream stream14 = listOf.stream().filter(n -&gt; n % 7 == 0);\r\n    Stream stream10 = listOf.stream().filter(n -&gt; n % 5 == 0);\r\n\r\n\r\nFor performance etc, read someone else&#39;s answer ;)","title":"Can I duplicate a Stream in Java 8?","body":"<p>For non-infinite streams, if you have access to the source, its straight forward:</p>\n\n<pre><code>@Test\npublic void testName() throws Exception {\n    List&lt;Integer&gt; integers = Arrays.asList(1, 2, 4, 5, 6, 7, 8, 9, 10);\n    Stream&lt;Integer&gt; stream1 = integers.stream();\n    Stream&lt;Integer&gt; stream2 = integers.stream();\n\n    stream1.forEach(System.out::println);\n    stream2.forEach(System.out::println);\n}\n</code></pre>\n\n<blockquote>\n  <p>prints</p>\n  \n  <p>1\n  2\n  4\n  5\n  6\n  7\n  8\n  9\n  10</p>\n  \n  <p>1\n  2\n  4\n  5\n  6\n  7\n  8\n  9\n  10</p>\n</blockquote>\n\n<p>For your case:</p>\n\n<pre><code>Stream originalStream = IntStream.range(1, 100).filter(n -&gt; n % 2 == 0)\n\nList&lt;Integer&gt; listOf = originalStream.collect(Collectors.toList())\n\nStream stream14 = listOf.stream().filter(n -&gt; n % 7 == 0);\nStream stream10 = listOf.stream().filter(n -&gt; n % 5 == 0);\n</code></pre>\n\n<p>For performance etc, read someone else's answer ;)</p>\n"},{"tags":[],"owner":{"account_id":8775911,"reputation":11,"user_id":6561198,"display_name":"Azazell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592645530,"creation_date":1592583261,"answer_id":62474408,"question_id":24474838,"body_markdown":"I used [this][1] great answer to write following class:\r\n\r\n[1]: https://stackoverflow.com/a/24474871/6561198\r\n```\r\npublic class SplitStream&lt;T&gt; implements Stream&lt;T&gt; {\r\n    private final Supplier&lt;Stream&lt;T&gt;&gt; streamSupplier;\r\n\r\n    public SplitStream(Supplier&lt;Stream&lt;T&gt;&gt; t) {\r\n        this.streamSupplier = t;\r\n    }\r\n\r\n    @Override\r\n    public Stream&lt;T&gt; filter(Predicate&lt;? super T&gt; predicate) {\r\n        return streamSupplier.get().filter(predicate);\r\n    }\r\n\r\n    @Override\r\n    public &lt;R&gt; Stream&lt;R&gt; map(Function&lt;? super T, ? extends R&gt; mapper) {\r\n        return streamSupplier.get().map(mapper);\r\n    }\r\n\r\n    @Override\r\n    public IntStream mapToInt(ToIntFunction&lt;? super T&gt; mapper) {\r\n        return streamSupplier.get().mapToInt(mapper);\r\n    }\r\n\r\n    @Override\r\n    public LongStream mapToLong(ToLongFunction&lt;? super T&gt; mapper) {\r\n        return streamSupplier.get().mapToLong(mapper);\r\n    }\r\n\r\n    @Override\r\n    public DoubleStream mapToDouble(ToDoubleFunction&lt;? super T&gt; mapper) {\r\n        return streamSupplier.get().mapToDouble(mapper);\r\n    }\r\n\r\n    @Override\r\n    public &lt;R&gt; Stream&lt;R&gt; flatMap(Function&lt;? super T, ? extends Stream&lt;? extends R&gt;&gt; mapper) {\r\n        return streamSupplier.get().flatMap(mapper);\r\n    }\r\n\r\n    @Override\r\n    public IntStream flatMapToInt(Function&lt;? super T, ? extends IntStream&gt; mapper) {\r\n        return streamSupplier.get().flatMapToInt(mapper);\r\n    }\r\n\r\n    @Override\r\n    public LongStream flatMapToLong(Function&lt;? super T, ? extends LongStream&gt; mapper) {\r\n        return streamSupplier.get().flatMapToLong(mapper);\r\n    }\r\n\r\n    @Override\r\n    public DoubleStream flatMapToDouble(Function&lt;? super T, ? extends DoubleStream&gt; mapper) {\r\n        return streamSupplier.get().flatMapToDouble(mapper);\r\n    }\r\n\r\n    @Override\r\n    public Stream&lt;T&gt; distinct() {\r\n        return streamSupplier.get().distinct();\r\n    }\r\n\r\n    @Override\r\n    public Stream&lt;T&gt; sorted() {\r\n        return streamSupplier.get().sorted();\r\n    }\r\n\r\n    @Override\r\n    public Stream&lt;T&gt; sorted(Comparator&lt;? super T&gt; comparator) {\r\n        return streamSupplier.get().sorted(comparator);\r\n    }\r\n\r\n    @Override\r\n    public Stream&lt;T&gt; peek(Consumer&lt;? super T&gt; action) {\r\n        return streamSupplier.get().peek(action);\r\n    }\r\n\r\n    @Override\r\n    public Stream&lt;T&gt; limit(long maxSize) {\r\n        return streamSupplier.get().limit(maxSize);\r\n    }\r\n\r\n    @Override\r\n    public Stream&lt;T&gt; skip(long n) {\r\n        return streamSupplier.get().skip(n);\r\n    }\r\n\r\n    @Override\r\n    public void forEach(Consumer&lt;? super T&gt; action) {\r\n        streamSupplier.get().forEach(action);\r\n    }\r\n\r\n    @Override\r\n    public void forEachOrdered(Consumer&lt;? super T&gt; action) {\r\n        streamSupplier.get().forEachOrdered(action);\r\n    }\r\n\r\n    @Override\r\n    public Object[] toArray() {\r\n        return streamSupplier.get().toArray();\r\n    }\r\n\r\n    @Override\r\n    public &lt;A&gt; A[] toArray(IntFunction&lt;A[]&gt; generator) {\r\n        return streamSupplier.get().toArray(generator);\r\n    }\r\n\r\n    @Override\r\n    public T reduce(T identity, BinaryOperator&lt;T&gt; accumulator) {\r\n        return streamSupplier.get().reduce(identity, accumulator);\r\n    }\r\n\r\n    @Override\r\n    public Optional&lt;T&gt; reduce(BinaryOperator&lt;T&gt; accumulator) {\r\n        return streamSupplier.get().reduce(accumulator);\r\n    }\r\n\r\n    @Override\r\n    public &lt;U&gt; U reduce(U identity, BiFunction&lt;U, ? super T, U&gt; accumulator, BinaryOperator&lt;U&gt; combiner) {\r\n        return streamSupplier.get().reduce(identity, accumulator, combiner);\r\n    }\r\n\r\n    @Override\r\n    public &lt;R&gt; R collect(Supplier&lt;R&gt; supplier, BiConsumer&lt;R, ? super T&gt; accumulator, BiConsumer&lt;R, R&gt; combiner) {\r\n        return streamSupplier.get().collect(supplier, accumulator, combiner);\r\n    }\r\n\r\n    @Override\r\n    public &lt;R, A&gt; R collect(Collector&lt;? super T, A, R&gt; collector) {\r\n        return streamSupplier.get().collect(collector);\r\n    }\r\n\r\n    @Override\r\n    public Optional&lt;T&gt; min(Comparator&lt;? super T&gt; comparator) {\r\n        return streamSupplier.get().min(comparator);\r\n    }\r\n\r\n    @Override\r\n    public Optional&lt;T&gt; max(Comparator&lt;? super T&gt; comparator) {\r\n        return streamSupplier.get().max(comparator);\r\n    }\r\n\r\n    @Override\r\n    public long count() {\r\n        return streamSupplier.get().count();\r\n    }\r\n\r\n    @Override\r\n    public boolean anyMatch(Predicate&lt;? super T&gt; predicate) {\r\n        return streamSupplier.get().anyMatch(predicate);\r\n    }\r\n\r\n    @Override\r\n    public boolean allMatch(Predicate&lt;? super T&gt; predicate) {\r\n        return streamSupplier.get().allMatch(predicate);\r\n    }\r\n\r\n    @Override\r\n    public boolean noneMatch(Predicate&lt;? super T&gt; predicate) {\r\n        return streamSupplier.get().noneMatch(predicate);\r\n    }\r\n\r\n    @Override\r\n    public Optional&lt;T&gt; findFirst() {\r\n        return streamSupplier.get().findFirst();\r\n    }\r\n\r\n    @Override\r\n    public Optional&lt;T&gt; findAny() {\r\n        return streamSupplier.get().findAny();\r\n    }\r\n\r\n    @Override\r\n    public Iterator&lt;T&gt; iterator() {\r\n        return streamSupplier.get().iterator();\r\n    }\r\n\r\n    @Override\r\n    public Spliterator&lt;T&gt; spliterator() {\r\n        return streamSupplier.get().spliterator();\r\n    }\r\n\r\n    @Override\r\n    public boolean isParallel() {\r\n        return streamSupplier.get().isParallel();\r\n    }\r\n\r\n    @Override\r\n    public Stream&lt;T&gt; sequential() {\r\n        return streamSupplier.get().sequential();\r\n    }\r\n\r\n    @Override\r\n    public Stream&lt;T&gt; parallel() {\r\n        return streamSupplier.get().parallel();\r\n    }\r\n\r\n    @Override\r\n    public Stream&lt;T&gt; unordered() {\r\n        return streamSupplier.get().unordered();\r\n    }\r\n\r\n    @Override\r\n    public Stream&lt;T&gt; onClose(Runnable closeHandler) {\r\n        return streamSupplier.get().onClose(closeHandler);\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n        streamSupplier.get().close();\r\n    }\r\n}\r\n```\r\n\r\nWhen you call any method of it&#39;s class, it delegates call to  \r\n```\r\nstreamSupplier.get()\r\n```\r\n\r\nSo, instead of:\r\n```\r\nSupplier&lt;IntStream&gt; supplier = () -&gt;\r\n    IntStream.range(1, 100).filter(n -&gt; n % 2 == 0);\r\nsupplier.get().filter(...);\r\nsupplier.get().filter(...);\r\n```\r\n\r\nYou can do:\r\n```\r\nSplitStream&lt;Integer&gt; stream = \r\n    new SplitStream&lt;&gt;(() -&gt; IntStream.range(1, 100).filter(n -&gt; n % 2 == 0).boxed());\r\nstream.filter(...);\r\nstream.filter(...);\r\n```\r\n\r\nYou can expand it to work with IntStream, DoubleStream, etc...","title":"Can I duplicate a Stream in Java 8?","body":"<p>I used <a href=\"https://stackoverflow.com/a/24474871/6561198\">this</a> great answer to write following class:</p>\n<pre><code>public class SplitStream&lt;T&gt; implements Stream&lt;T&gt; {\n    private final Supplier&lt;Stream&lt;T&gt;&gt; streamSupplier;\n\n    public SplitStream(Supplier&lt;Stream&lt;T&gt;&gt; t) {\n        this.streamSupplier = t;\n    }\n\n    @Override\n    public Stream&lt;T&gt; filter(Predicate&lt;? super T&gt; predicate) {\n        return streamSupplier.get().filter(predicate);\n    }\n\n    @Override\n    public &lt;R&gt; Stream&lt;R&gt; map(Function&lt;? super T, ? extends R&gt; mapper) {\n        return streamSupplier.get().map(mapper);\n    }\n\n    @Override\n    public IntStream mapToInt(ToIntFunction&lt;? super T&gt; mapper) {\n        return streamSupplier.get().mapToInt(mapper);\n    }\n\n    @Override\n    public LongStream mapToLong(ToLongFunction&lt;? super T&gt; mapper) {\n        return streamSupplier.get().mapToLong(mapper);\n    }\n\n    @Override\n    public DoubleStream mapToDouble(ToDoubleFunction&lt;? super T&gt; mapper) {\n        return streamSupplier.get().mapToDouble(mapper);\n    }\n\n    @Override\n    public &lt;R&gt; Stream&lt;R&gt; flatMap(Function&lt;? super T, ? extends Stream&lt;? extends R&gt;&gt; mapper) {\n        return streamSupplier.get().flatMap(mapper);\n    }\n\n    @Override\n    public IntStream flatMapToInt(Function&lt;? super T, ? extends IntStream&gt; mapper) {\n        return streamSupplier.get().flatMapToInt(mapper);\n    }\n\n    @Override\n    public LongStream flatMapToLong(Function&lt;? super T, ? extends LongStream&gt; mapper) {\n        return streamSupplier.get().flatMapToLong(mapper);\n    }\n\n    @Override\n    public DoubleStream flatMapToDouble(Function&lt;? super T, ? extends DoubleStream&gt; mapper) {\n        return streamSupplier.get().flatMapToDouble(mapper);\n    }\n\n    @Override\n    public Stream&lt;T&gt; distinct() {\n        return streamSupplier.get().distinct();\n    }\n\n    @Override\n    public Stream&lt;T&gt; sorted() {\n        return streamSupplier.get().sorted();\n    }\n\n    @Override\n    public Stream&lt;T&gt; sorted(Comparator&lt;? super T&gt; comparator) {\n        return streamSupplier.get().sorted(comparator);\n    }\n\n    @Override\n    public Stream&lt;T&gt; peek(Consumer&lt;? super T&gt; action) {\n        return streamSupplier.get().peek(action);\n    }\n\n    @Override\n    public Stream&lt;T&gt; limit(long maxSize) {\n        return streamSupplier.get().limit(maxSize);\n    }\n\n    @Override\n    public Stream&lt;T&gt; skip(long n) {\n        return streamSupplier.get().skip(n);\n    }\n\n    @Override\n    public void forEach(Consumer&lt;? super T&gt; action) {\n        streamSupplier.get().forEach(action);\n    }\n\n    @Override\n    public void forEachOrdered(Consumer&lt;? super T&gt; action) {\n        streamSupplier.get().forEachOrdered(action);\n    }\n\n    @Override\n    public Object[] toArray() {\n        return streamSupplier.get().toArray();\n    }\n\n    @Override\n    public &lt;A&gt; A[] toArray(IntFunction&lt;A[]&gt; generator) {\n        return streamSupplier.get().toArray(generator);\n    }\n\n    @Override\n    public T reduce(T identity, BinaryOperator&lt;T&gt; accumulator) {\n        return streamSupplier.get().reduce(identity, accumulator);\n    }\n\n    @Override\n    public Optional&lt;T&gt; reduce(BinaryOperator&lt;T&gt; accumulator) {\n        return streamSupplier.get().reduce(accumulator);\n    }\n\n    @Override\n    public &lt;U&gt; U reduce(U identity, BiFunction&lt;U, ? super T, U&gt; accumulator, BinaryOperator&lt;U&gt; combiner) {\n        return streamSupplier.get().reduce(identity, accumulator, combiner);\n    }\n\n    @Override\n    public &lt;R&gt; R collect(Supplier&lt;R&gt; supplier, BiConsumer&lt;R, ? super T&gt; accumulator, BiConsumer&lt;R, R&gt; combiner) {\n        return streamSupplier.get().collect(supplier, accumulator, combiner);\n    }\n\n    @Override\n    public &lt;R, A&gt; R collect(Collector&lt;? super T, A, R&gt; collector) {\n        return streamSupplier.get().collect(collector);\n    }\n\n    @Override\n    public Optional&lt;T&gt; min(Comparator&lt;? super T&gt; comparator) {\n        return streamSupplier.get().min(comparator);\n    }\n\n    @Override\n    public Optional&lt;T&gt; max(Comparator&lt;? super T&gt; comparator) {\n        return streamSupplier.get().max(comparator);\n    }\n\n    @Override\n    public long count() {\n        return streamSupplier.get().count();\n    }\n\n    @Override\n    public boolean anyMatch(Predicate&lt;? super T&gt; predicate) {\n        return streamSupplier.get().anyMatch(predicate);\n    }\n\n    @Override\n    public boolean allMatch(Predicate&lt;? super T&gt; predicate) {\n        return streamSupplier.get().allMatch(predicate);\n    }\n\n    @Override\n    public boolean noneMatch(Predicate&lt;? super T&gt; predicate) {\n        return streamSupplier.get().noneMatch(predicate);\n    }\n\n    @Override\n    public Optional&lt;T&gt; findFirst() {\n        return streamSupplier.get().findFirst();\n    }\n\n    @Override\n    public Optional&lt;T&gt; findAny() {\n        return streamSupplier.get().findAny();\n    }\n\n    @Override\n    public Iterator&lt;T&gt; iterator() {\n        return streamSupplier.get().iterator();\n    }\n\n    @Override\n    public Spliterator&lt;T&gt; spliterator() {\n        return streamSupplier.get().spliterator();\n    }\n\n    @Override\n    public boolean isParallel() {\n        return streamSupplier.get().isParallel();\n    }\n\n    @Override\n    public Stream&lt;T&gt; sequential() {\n        return streamSupplier.get().sequential();\n    }\n\n    @Override\n    public Stream&lt;T&gt; parallel() {\n        return streamSupplier.get().parallel();\n    }\n\n    @Override\n    public Stream&lt;T&gt; unordered() {\n        return streamSupplier.get().unordered();\n    }\n\n    @Override\n    public Stream&lt;T&gt; onClose(Runnable closeHandler) {\n        return streamSupplier.get().onClose(closeHandler);\n    }\n\n    @Override\n    public void close() {\n        streamSupplier.get().close();\n    }\n}\n</code></pre>\n<p>When you call any method of it's class, it delegates call to</p>\n<pre><code>streamSupplier.get()\n</code></pre>\n<p>So, instead of:</p>\n<pre><code>Supplier&lt;IntStream&gt; supplier = () -&gt;\n    IntStream.range(1, 100).filter(n -&gt; n % 2 == 0);\nsupplier.get().filter(...);\nsupplier.get().filter(...);\n</code></pre>\n<p>You can do:</p>\n<pre><code>SplitStream&lt;Integer&gt; stream = \n    new SplitStream&lt;&gt;(() -&gt; IntStream.range(1, 100).filter(n -&gt; n % 2 == 0).boxed());\nstream.filter(...);\nstream.filter(...);\n</code></pre>\n<p>You can expand it to work with IntStream, DoubleStream, etc...</p>\n"},{"tags":[],"owner":{"account_id":7180528,"reputation":31,"user_id":6127027,"display_name":"Clebio Vieira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616587801,"creation_date":1616587801,"answer_id":66780730,"question_id":24474838,"body_markdown":"I think that the use of Concat with an empty stream could attend your need.\r\nTry something like this: \r\n\r\n    Stream&lt;Integer&gt; concat = Stream.concat(Stream.of(1, 2), Stream.empty());","title":"Can I duplicate a Stream in Java 8?","body":"<p>I think that the use of Concat with an empty stream could attend your need.\nTry something like this:</p>\n<pre><code>Stream&lt;Integer&gt; concat = Stream.concat(Stream.of(1, 2), Stream.empty());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11171121,"reputation":2994,"user_id":8198056,"display_name":"Adrian"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1620849798,"creation_date":1620849798,"answer_id":67510307,"question_id":24474838,"body_markdown":"Starting with Java 12 we have `Collectors::teeing` that allows us to pass elements of the main stream pipeline to 2 or more downstream collectors.\r\n\r\nBased on your example we can do the following:\r\n\r\n    @Test\r\n    void shouldProcessStreamElementsInTwoSeparateDownstreams() {\r\n        class Result {\r\n            List&lt;Integer&gt; multiplesOf7;\r\n            List&lt;Integer&gt; multiplesOf5;\r\n\r\n            Result(List&lt;Integer&gt; multiplesOf7, List&lt;Integer&gt; multiplesOf5) {\r\n                this.multiplesOf7 = multiplesOf7;\r\n                this.multiplesOf5 = multiplesOf5;\r\n            }\r\n        }\r\n\r\n        var result = IntStream.range(1, 100)\r\n                .filter(n -&gt; n % 2 == 0)\r\n                .boxed()\r\n                .collect(Collectors.teeing(\r\n                        Collectors.filtering(n -&gt; n % 7 == 0, Collectors.toList()),\r\n                        Collectors.filtering(n -&gt; n % 5 == 0, Collectors.toList()),\r\n                        Result::new\r\n                ));\r\n\r\n        assertTrue(result.multiplesOf7.stream().allMatch(n -&gt; n % 7 == 0));\r\n        assertTrue(result.multiplesOf5.stream().allMatch( n -&gt; n % 5 == 0));\r\n    }\r\n\r\nThere are many other collectors that allows to do other things e.g. by using `Collectors::mapping` in downstream you can obtain two different objects/types from the same source as shown in [this article][1]. \r\n\r\n\r\n  [1]: https://adrian.md/2021/05/09/teeing-collector/","title":"Can I duplicate a Stream in Java 8?","body":"<p>Starting with Java 12 we have <code>Collectors::teeing</code> that allows us to pass elements of the main stream pipeline to 2 or more downstream collectors.</p>\n<p>Based on your example we can do the following:</p>\n<pre><code>@Test\nvoid shouldProcessStreamElementsInTwoSeparateDownstreams() {\n    class Result {\n        List&lt;Integer&gt; multiplesOf7;\n        List&lt;Integer&gt; multiplesOf5;\n\n        Result(List&lt;Integer&gt; multiplesOf7, List&lt;Integer&gt; multiplesOf5) {\n            this.multiplesOf7 = multiplesOf7;\n            this.multiplesOf5 = multiplesOf5;\n        }\n    }\n\n    var result = IntStream.range(1, 100)\n            .filter(n -&gt; n % 2 == 0)\n            .boxed()\n            .collect(Collectors.teeing(\n                    Collectors.filtering(n -&gt; n % 7 == 0, Collectors.toList()),\n                    Collectors.filtering(n -&gt; n % 5 == 0, Collectors.toList()),\n                    Result::new\n            ));\n\n    assertTrue(result.multiplesOf7.stream().allMatch(n -&gt; n % 7 == 0));\n    assertTrue(result.multiplesOf5.stream().allMatch( n -&gt; n % 5 == 0));\n}\n</code></pre>\n<p>There are many other collectors that allows to do other things e.g. by using <code>Collectors::mapping</code> in downstream you can obtain two different objects/types from the same source as shown in <a href=\"https://adrian.md/2021/05/09/teeing-collector/\" rel=\"noreferrer\">this article</a>.</p>\n"},{"tags":[],"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665251258,"creation_date":1664806227,"answer_id":73936705,"question_id":24474838,"body_markdown":"Straight answer is: yes\r\n\r\nThere&#39;s no specific support for this but one can implement it. The possible approaches that I see are these:  \r\na. copy the entire stream data and then create the stream copies based on it -&gt; the RAM consumption might be an impediment  \r\nb. read the stream and *relay* each of its elements to the copies -&gt; I&#39;ll detail this approach below\r\n\r\n**The Concept**\r\n\r\nLet&#39;s imagine `b.` solution:  \r\n`&lt;T&gt; List&lt;Stream&lt;T&gt;&gt; copyStream(int copiesCount, Stream&lt;T&gt; originalStream)`  \r\nallows one to create `copiesCount` copies of the `originalStream`.  \r\n\r\nTo understand the solution one has to understand the difference between a stream and the data-elements that might flow through it: for example an apple, a carrot and a potato would be data-elements while a pipe through which they move to reach some destination would be the stream. Copying a `Stream` it&#39;s as if creating more pipes: one has then to *connect* the original pipe (i.e. `originalStream`) to the additional ones (aka `streamCopies`); while in real world one can&#39;t pass an apple-object from one pipe to more pipes (i.e. `streamCopies`) in programming this is possible: just pass the variable containing the apple-object reference to the stream copies.  \r\n\r\n**Implementation Details**\r\n\r\nThe Java implementation of the `Stream` has a great impact on the solution&#39;s shape. First impact is related to what happens when data-elements flow through a stream (aka pipe): to actually read (&amp; process) the elements in a `Stream` a terminal method has to be used, e.g. `forEach`. In our case `originalStream.forEach` must be called so that each element is read and passed to the `streamCopies` (aka downstream pipes); this must happen before `copyStream()` method returns, which is bad because `forEach` would block till all `originalStream` elements are consumed. To solve this `copyStream()` implementation will spawn a thread in which to call `originalStream.forEach`. Consuming `originalStream` elements means passing them to the downstream pipes (i.e. `streamCopies`); because there&#39;s no cache one has to ensure that each `originalStream` element is transferred to each `streamCopies` before getting to the next one. This means that all `streamCopies` must consume the same time: if some `streamCopies` is not consuming it will block all other `streamCopies` because `originalStream` will stop transferring to downstream pipes till everyone consumed current element (aka it will cache nothing for the late `streamCopies` consumers). But to consume a `Stream` in Java implies calling a terminal operation on it (e.g. `forEach`) which blocks the execution till the entire stream is consumed; because we need all `streamCopies` to be consumed in parallel this must happen on a distinct thread for each! Well, as a miscellaneous fact, one of the `streamCopies` could in fact be consumed on the current (main) thread. Summarizing, the solution usage would look like below:  \r\n```java\r\nList&lt;Stream&lt;?&gt;&gt; streamCopies = copyStream(copiesCount, originalStream);`  \r\n// start a thread for each `streamCopies` into which consume the corresponding \r\n// stream copy (one of them could be consumed on the current thread though)\r\n// optionally join the consuming threads\r\n// continue your whatever business logic you have\r\n```\r\n\r\n**Final Considerations**\r\n \r\nSome of the limitations apparent above can be circumvented:  \r\n- the copying process is destructive, i.e. `originalStream` will be unusable after calling `copyStream()` because it&#39;ll be in a pending-consumption. If one really wants to consume it he can create an additional copy which to maybe consume on the current (main) thread (but only after starting the consumption of all other copies)\r\n- `streamCopies` must consume all received `originalStream` elements, otherwise, if one stops, the others block too (read the &quot;Implementation Details&quot; part again to understand why). This means each `streamCopies` element consumption must occur in a `try...catch` to ensure the lack of failures (aka processing stop). A production implementation would in fact circumvent this by wrapping each `Stream` copy with something overwriting `close()` method such that to remove the failed stream copy from the `originalStream`-to-`streamCopies` transfer logic (aka discard the underlying `blockingQueue` used for the communication between `originalStream` thread and `originalStream` thread -&gt; see the implementation below). This implies that the clients would be forced to `close` the `Stream` copies but that’s not so uncommon, e.g. see Spring’s `JDBCTemplate.queryForStream()` outcome having same requirement.   \r\n- as pointed before, each `streamCopies` terminal operation must be executed in a distinct thread - there&#39;s no workaround for this\r\n\r\n**The Code**\r\n\r\nBelow is the code implementing the `b.` solution and a test checking its correctness.\r\n\r\n```java\r\n@Test\r\nvoid streamCopyTest() throws ExecutionException, InterruptedException {\r\n\t// streamCopies are valid/normal Stream \r\n\t// instances (e.g. it is allowed to be infinite)\r\n\tList&lt;Stream&lt;String&gt;&gt; streamCopies = copyStream(3, Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;));\r\n    // The 3 copies relay on the original stream which can’t be\r\n    // consumed more than once! Consuming the copies one by one\r\n    // in the same thread isn’t possible because 1st consumed \r\n    // copy would leave nothing to consume for the others, \r\n    // so they must be consumed in parallel.\r\n\tExecutorService executorService = Executors.newCachedThreadPool();\r\n\tCompletableFuture&lt;?&gt;[] futures =\r\n\t\t\tstreamCopies.stream().map(stream -&gt; CompletableFuture.runAsync(() -&gt; {\r\n\t\t\t\t// the same consumption logic for all streamCopies is \r\n\t\t\t\t// used here because this is just an example; the \r\n\t\t\t\t// actual consumption logic could be distinct (and anything)\r\n\t\t\t\tString outcome = stream.collect(Collectors.joining(&quot;, &quot;));\r\n\t\t\t\t// check the thread name in the message to differentiate the outcome\r\n\t\t\t\tlog.info(&quot;\\n{}&quot;, outcome);\r\n\t\t\t}, executorService)).toArray(CompletableFuture[]::new);\r\n\tCompletableFuture.allOf(futures).get();\r\n\texecutorService.shutdown();\r\n}\r\n\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class StreamCopiesFactory {\r\n\r\n\t/**\r\n\t * The amount of elements to be stored in the blockingQueue used \r\n\t * to transfer elements from the original stream to its copies. \r\n\t * This is very different to the cache use for the a. solution:\r\n\t * here is about the transfer between original stream and its \r\n\t * copies instead of the entire original stream data-copy.\r\n\t * Change or make this configurable.\r\n\t */\r\n\tprivate static final int cacheSize = 1;\r\n\r\n\t/**\r\n\t * Each of these stream copies must execute (their terminal operation)\r\n\t * on a distinct thread! One of them could actually execute on the \r\n\t * main thread, but only after all the others were started on their \r\n\t * distinct thread.\r\n\t */\r\n\tpublic static &lt;T&gt; List&lt;Stream&lt;T&gt;&gt; copyStream(int copies, Stream&lt;T&gt; stream) {\r\n\t\tList&lt;BlockingQueue&lt;Object&gt;&gt; blockingQueues = new ArrayList&lt;&gt;(copies);\r\n\t\t// creating the queues used to relay the stream&#39;s elements to the stream&#39;s copies\r\n\t\tfor (int i = 0; i &lt; copies; i++) {\r\n\t\t\tblockingQueues.add(new LinkedBlockingQueue&lt;&gt;(cacheSize));\r\n\t\t}\r\n\t\t// consume the stream copies in a distinct thread, otherwise \r\n\t\t// bq.put (transferring for the next stream copy) would block  \r\n\t\t// because the 2nd stream copy isn&#39;t yet consuming \r\n\t\tExecutors.newSingleThreadExecutor().execute(() -&gt; {\r\n\t\t\tstream.forEach(streamElement -&gt; blockingQueues.forEach(bq -&gt; {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tbq.put(streamElement);\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\tlog.error(e.getMessage(), e);\r\n\t\t\t\t\t// nothing to do here other than maybe simple optimization related to the\r\n\t\t\t\t\t// failed bq.put (e.g. sending END_SIGNAL into bq then skipping its next put calls)\r\n\t\t\t\t}\r\n\t\t\t}));\r\n\t\t\tblockingQueues.forEach(bq -&gt; {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tbq.put(END_SIGNAL);\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\tlog.error(e.getMessage(), e);\r\n\t\t\t\t\t// nothing to do here\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\t// creating the copies\r\n\t\t// A production implementation would wrap each Stream copy with \r\n\t\t// something overwriting close() which to remove from blockingQueues\r\n\t\t// the blockingQueue corresponding to the closed Stream.\r\n\t\treturn blockingQueues.stream().map(bq -&gt; new SpliteratorCopy&lt;T&gt;(bq))\r\n\t\t\t\t.map(spliterator -&gt; StreamSupport.stream(spliterator, false))\r\n\t\t\t\t.collect(Collectors.toList());\r\n\t}\r\n}\r\n\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class SpliteratorCopy&lt;T&gt; implements Spliterator&lt;T&gt; {\r\n\r\n\tpublic static final Object END_SIGNAL = new Object();\r\n\r\n\tprivate final BlockingQueue&lt;?&gt; blockingQueue;\r\n\r\n\t@Override\r\n\tpublic boolean tryAdvance(final Consumer&lt;? super T&gt; action) {\r\n\t\tObject nextElement;\r\n\t\ttry {\r\n\t\t\tnextElement = blockingQueue.take();\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\tlog.error(e.getMessage(), e);\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t\tif (nextElement == END_SIGNAL) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\taction.accept((T) nextElement);\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Spliterator&lt;T&gt; trySplit() {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic long estimateSize() {\r\n\t\treturn Long.MAX_VALUE;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int characteristics() {\r\n\t\treturn Spliterator.ORDERED;\r\n\t}\r\n}\r\n```","title":"Can I duplicate a Stream in Java 8?","body":"<p>Straight answer is: yes</p>\n<p>There's no specific support for this but one can implement it. The possible approaches that I see are these:<br />\na. copy the entire stream data and then create the stream copies based on it -&gt; the RAM consumption might be an impediment<br />\nb. read the stream and <em>relay</em> each of its elements to the copies -&gt; I'll detail this approach below</p>\n<p><strong>The Concept</strong></p>\n<p>Let's imagine <code>b.</code> solution:<br />\n<code>&lt;T&gt; List&lt;Stream&lt;T&gt;&gt; copyStream(int copiesCount, Stream&lt;T&gt; originalStream)</code><br />\nallows one to create <code>copiesCount</code> copies of the <code>originalStream</code>.</p>\n<p>To understand the solution one has to understand the difference between a stream and the data-elements that might flow through it: for example an apple, a carrot and a potato would be data-elements while a pipe through which they move to reach some destination would be the stream. Copying a <code>Stream</code> it's as if creating more pipes: one has then to <em>connect</em> the original pipe (i.e. <code>originalStream</code>) to the additional ones (aka <code>streamCopies</code>); while in real world one can't pass an apple-object from one pipe to more pipes (i.e. <code>streamCopies</code>) in programming this is possible: just pass the variable containing the apple-object reference to the stream copies.</p>\n<p><strong>Implementation Details</strong></p>\n<p>The Java implementation of the <code>Stream</code> has a great impact on the solution's shape. First impact is related to what happens when data-elements flow through a stream (aka pipe): to actually read (&amp; process) the elements in a <code>Stream</code> a terminal method has to be used, e.g. <code>forEach</code>. In our case <code>originalStream.forEach</code> must be called so that each element is read and passed to the <code>streamCopies</code> (aka downstream pipes); this must happen before <code>copyStream()</code> method returns, which is bad because <code>forEach</code> would block till all <code>originalStream</code> elements are consumed. To solve this <code>copyStream()</code> implementation will spawn a thread in which to call <code>originalStream.forEach</code>. Consuming <code>originalStream</code> elements means passing them to the downstream pipes (i.e. <code>streamCopies</code>); because there's no cache one has to ensure that each <code>originalStream</code> element is transferred to each <code>streamCopies</code> before getting to the next one. This means that all <code>streamCopies</code> must consume the same time: if some <code>streamCopies</code> is not consuming it will block all other <code>streamCopies</code> because <code>originalStream</code> will stop transferring to downstream pipes till everyone consumed current element (aka it will cache nothing for the late <code>streamCopies</code> consumers). But to consume a <code>Stream</code> in Java implies calling a terminal operation on it (e.g. <code>forEach</code>) which blocks the execution till the entire stream is consumed; because we need all <code>streamCopies</code> to be consumed in parallel this must happen on a distinct thread for each! Well, as a miscellaneous fact, one of the <code>streamCopies</code> could in fact be consumed on the current (main) thread. Summarizing, the solution usage would look like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Stream&lt;?&gt;&gt; streamCopies = copyStream(copiesCount, originalStream);`  \n// start a thread for each `streamCopies` into which consume the corresponding \n// stream copy (one of them could be consumed on the current thread though)\n// optionally join the consuming threads\n// continue your whatever business logic you have\n</code></pre>\n<p><strong>Final Considerations</strong></p>\n<p>Some of the limitations apparent above can be circumvented:</p>\n<ul>\n<li>the copying process is destructive, i.e. <code>originalStream</code> will be unusable after calling <code>copyStream()</code> because it'll be in a pending-consumption. If one really wants to consume it he can create an additional copy which to maybe consume on the current (main) thread (but only after starting the consumption of all other copies)</li>\n<li><code>streamCopies</code> must consume all received <code>originalStream</code> elements, otherwise, if one stops, the others block too (read the &quot;Implementation Details&quot; part again to understand why). This means each <code>streamCopies</code> element consumption must occur in a <code>try...catch</code> to ensure the lack of failures (aka processing stop). A production implementation would in fact circumvent this by wrapping each <code>Stream</code> copy with something overwriting <code>close()</code> method such that to remove the failed stream copy from the <code>originalStream</code>-to-<code>streamCopies</code> transfer logic (aka discard the underlying <code>blockingQueue</code> used for the communication between <code>originalStream</code> thread and <code>originalStream</code> thread -&gt; see the implementation below). This implies that the clients would be forced to <code>close</code> the <code>Stream</code> copies but that’s not so uncommon, e.g. see Spring’s <code>JDBCTemplate.queryForStream()</code> outcome having same requirement.</li>\n<li>as pointed before, each <code>streamCopies</code> terminal operation must be executed in a distinct thread - there's no workaround for this</li>\n</ul>\n<p><strong>The Code</strong></p>\n<p>Below is the code implementing the <code>b.</code> solution and a test checking its correctness.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid streamCopyTest() throws ExecutionException, InterruptedException {\n    // streamCopies are valid/normal Stream \n    // instances (e.g. it is allowed to be infinite)\n    List&lt;Stream&lt;String&gt;&gt; streamCopies = copyStream(3, Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;));\n    // The 3 copies relay on the original stream which can’t be\n    // consumed more than once! Consuming the copies one by one\n    // in the same thread isn’t possible because 1st consumed \n    // copy would leave nothing to consume for the others, \n    // so they must be consumed in parallel.\n    ExecutorService executorService = Executors.newCachedThreadPool();\n    CompletableFuture&lt;?&gt;[] futures =\n            streamCopies.stream().map(stream -&gt; CompletableFuture.runAsync(() -&gt; {\n                // the same consumption logic for all streamCopies is \n                // used here because this is just an example; the \n                // actual consumption logic could be distinct (and anything)\n                String outcome = stream.collect(Collectors.joining(&quot;, &quot;));\n                // check the thread name in the message to differentiate the outcome\n                log.info(&quot;\\n{}&quot;, outcome);\n            }, executorService)).toArray(CompletableFuture[]::new);\n    CompletableFuture.allOf(futures).get();\n    executorService.shutdown();\n}\n\n@RequiredArgsConstructor\n@Slf4j\npublic class StreamCopiesFactory {\n\n    /**\n     * The amount of elements to be stored in the blockingQueue used \n     * to transfer elements from the original stream to its copies. \n     * This is very different to the cache use for the a. solution:\n     * here is about the transfer between original stream and its \n     * copies instead of the entire original stream data-copy.\n     * Change or make this configurable.\n     */\n    private static final int cacheSize = 1;\n\n    /**\n     * Each of these stream copies must execute (their terminal operation)\n     * on a distinct thread! One of them could actually execute on the \n     * main thread, but only after all the others were started on their \n     * distinct thread.\n     */\n    public static &lt;T&gt; List&lt;Stream&lt;T&gt;&gt; copyStream(int copies, Stream&lt;T&gt; stream) {\n        List&lt;BlockingQueue&lt;Object&gt;&gt; blockingQueues = new ArrayList&lt;&gt;(copies);\n        // creating the queues used to relay the stream's elements to the stream's copies\n        for (int i = 0; i &lt; copies; i++) {\n            blockingQueues.add(new LinkedBlockingQueue&lt;&gt;(cacheSize));\n        }\n        // consume the stream copies in a distinct thread, otherwise \n        // bq.put (transferring for the next stream copy) would block  \n        // because the 2nd stream copy isn't yet consuming \n        Executors.newSingleThreadExecutor().execute(() -&gt; {\n            stream.forEach(streamElement -&gt; blockingQueues.forEach(bq -&gt; {\n                try {\n                    bq.put(streamElement);\n                } catch (InterruptedException e) {\n                    log.error(e.getMessage(), e);\n                    // nothing to do here other than maybe simple optimization related to the\n                    // failed bq.put (e.g. sending END_SIGNAL into bq then skipping its next put calls)\n                }\n            }));\n            blockingQueues.forEach(bq -&gt; {\n                try {\n                    bq.put(END_SIGNAL);\n                } catch (InterruptedException e) {\n                    log.error(e.getMessage(), e);\n                    // nothing to do here\n                }\n            });\n        });\n        // creating the copies\n        // A production implementation would wrap each Stream copy with \n        // something overwriting close() which to remove from blockingQueues\n        // the blockingQueue corresponding to the closed Stream.\n        return blockingQueues.stream().map(bq -&gt; new SpliteratorCopy&lt;T&gt;(bq))\n                .map(spliterator -&gt; StreamSupport.stream(spliterator, false))\n                .collect(Collectors.toList());\n    }\n}\n\n@RequiredArgsConstructor\n@Slf4j\npublic class SpliteratorCopy&lt;T&gt; implements Spliterator&lt;T&gt; {\n\n    public static final Object END_SIGNAL = new Object();\n\n    private final BlockingQueue&lt;?&gt; blockingQueue;\n\n    @Override\n    public boolean tryAdvance(final Consumer&lt;? super T&gt; action) {\n        Object nextElement;\n        try {\n            nextElement = blockingQueue.take();\n        } catch (InterruptedException e) {\n            log.error(e.getMessage(), e);\n            throw new RuntimeException(e);\n        }\n        if (nextElement == END_SIGNAL) {\n            return false;\n        }\n        action.accept((T) nextElement);\n        return true;\n    }\n\n    @Override\n    public Spliterator&lt;T&gt; trySplit() {\n        return null;\n    }\n\n    @Override\n    public long estimateSize() {\n        return Long.MAX_VALUE;\n    }\n\n    @Override\n    public int characteristics() {\n        return Spliterator.ORDERED;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":309077,"reputation":24064,"user_id":621338,"accept_rate":90,"display_name":"necromancer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70157,"favorite_count":0,"down_vote_count":0,"up_vote_count":82,"accepted_answer_id":24481672,"answer_count":11,"score":82,"last_activity_date":1665251258,"creation_date":1404034593,"question_id":24474838,"body_markdown":"Sometimes I want to perform a set of operations on a stream, and then process the resulting stream two different ways with other operations.\r\n\r\nCan I do this without having to specify the common initial operations twice?\r\n\r\nFor example, I am hoping a `dup()` method such as the following exists:\r\n\r\n    Stream [] desired_streams = IntStream.range(1, 100).filter(n -&gt; n % 2 == 0).dup();\r\n    Stream stream14 = desired_streams[0].filter(n -&gt; n % 7 == 0); // multiples of 14\r\n    Stream stream10 = desired_streams[1].filter(n -&gt; n % 5 == 0); // multiples of 10\r\n","title":"Can I duplicate a Stream in Java 8?","body":"<p>Sometimes I want to perform a set of operations on a stream, and then process the resulting stream two different ways with other operations.</p>\n\n<p>Can I do this without having to specify the common initial operations twice?</p>\n\n<p>For example, I am hoping a <code>dup()</code> method such as the following exists:</p>\n\n<pre><code>Stream [] desired_streams = IntStream.range(1, 100).filter(n -&gt; n % 2 == 0).dup();\nStream stream14 = desired_streams[0].filter(n -&gt; n % 7 == 0); // multiples of 14\nStream stream10 = desired_streams[1].filter(n -&gt; n % 5 == 0); // multiples of 10\n</code></pre>\n"},{"tags":["java","android","spring","post","retrofit"],"comments":[{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1665061709,"post_id":73940112,"comment_id":130614569,"body_markdown":"Can you please add the code where you are calling `bookAppointment()` I wanted to see where are you passing token.","body":"Can you please add the code where you are calling <code>bookAppointment()</code> I wanted to see where are you passing token."},{"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"score":0,"creation_date":1665163231,"post_id":73940112,"comment_id":130643335,"body_markdown":"I have edited the code, please check it out because I have added the path that the method is called in the activity @VishalBeep","body":"I have edited the code, please check it out because I have added the path that the method is called in the activity @VishalBeep"},{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1665198228,"post_id":73940112,"comment_id":130649436,"body_markdown":"[updated] check answer now!","body":"[updated] check answer now!"},{"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"score":1,"creation_date":1665210518,"post_id":73940112,"comment_id":130650726,"body_markdown":"Thanks so much @VishalBeep, It&#39;s now working perfectly, I only changed the Path to Query in my Android without changing anything in the backend and it&#39;s executed correctly","body":"Thanks so much @VishalBeep, It&#39;s now working perfectly, I only changed the Path to Query in my Android without changing anything in the backend and it&#39;s executed correctly"},{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1665216785,"post_id":73940112,"comment_id":130651688,"body_markdown":"make sure to upvote &#128316; if you think it helps future devs ;)","body":"make sure to upvote 🔼 if you think it helps future devs ;)"}],"answers":[{"tags":[],"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1665217174,"creation_date":1664853411,"answer_id":73942809,"question_id":73940112,"body_markdown":"You are asking for how to pass `parameter` in retrofit but in your backend you are accepting `query` for example -\r\n\r\nYou are asking for -\r\n```\r\nhttps://yourdoman.com/appointment/book/12345\r\n```\r\n\r\nBut your spring backend accepting something like this -\r\n\r\n```\r\nhttps://yourdoman.com/appointment/book?token=12345\r\n```\r\n\r\n&gt; so you can solve this issue by either changing in backend or frontend (Android)\r\n\r\nI&#39;m showing you both \r\n\r\n**Solve by changing only frontend which is android -**\r\n\r\nYou can can change `@Path` to `@Query` like this :\r\n\r\n```\r\n@POST(&quot;appointment/book&quot;)\r\nCall&lt;ApiResponse&gt; bookAppointment(@Body AppointmentBookingDto \r\nappointmentBookingDto, @Query(&quot;token&quot;) String token);\r\n```\r\n\r\nor\r\n\r\n\r\n**Solve by changing only backend (Spring)**\r\n\r\n&gt; Note : I didn&#39;t used spring yet but I have noticed this from doc.\r\n\r\nInstead of using `@RequestParam` use `@PathVariable` something like this :\r\n\r\n```\r\n @PostMapping(&quot;appointment/book/{token}&quot;)\r\n public ResponseEntity&lt;ApiResponse&gt; bookAppointment(@RequestBody AppointmentBookingDto appointmentBookingDto,\r\n @PathVariable String token) throws DataNotFoundException, ParseException, DataAlreadyExistException {\r\n   return appointmentBookingService.bookAppointment(appointmentBookingDto,token);\r\n}\r\n```\r\n\r\nand make sure you only apply one solution don&#39;t change from both &#128514;\r\n\r\nlet me know if it helps :)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"how to pass a request parameter in retrofit post request","body":"<p>You are asking for how to pass <code>parameter</code> in retrofit but in your backend you are accepting <code>query</code> for example -</p>\n<p>You are asking for -</p>\n<pre><code>https://yourdoman.com/appointment/book/12345\n</code></pre>\n<p>But your spring backend accepting something like this -</p>\n<pre><code>https://yourdoman.com/appointment/book?token=12345\n</code></pre>\n<blockquote>\n<p>so you can solve this issue by either changing in backend or frontend (Android)</p>\n</blockquote>\n<p>I'm showing you both</p>\n<p><strong>Solve by changing only frontend which is android -</strong></p>\n<p>You can can change <code>@Path</code> to <code>@Query</code> like this :</p>\n<pre><code>@POST(&quot;appointment/book&quot;)\nCall&lt;ApiResponse&gt; bookAppointment(@Body AppointmentBookingDto \nappointmentBookingDto, @Query(&quot;token&quot;) String token);\n</code></pre>\n<p>or</p>\n<p><strong>Solve by changing only backend (Spring)</strong></p>\n<blockquote>\n<p>Note : I didn't used spring yet but I have noticed this from doc.</p>\n</blockquote>\n<p>Instead of using <code>@RequestParam</code> use <code>@PathVariable</code> something like this :</p>\n<pre><code> @PostMapping(&quot;appointment/book/{token}&quot;)\n public ResponseEntity&lt;ApiResponse&gt; bookAppointment(@RequestBody AppointmentBookingDto appointmentBookingDto,\n @PathVariable String token) throws DataNotFoundException, ParseException, DataAlreadyExistException {\n   return appointmentBookingService.bookAppointment(appointmentBookingDto,token);\n}\n</code></pre>\n<p>and make sure you only apply one solution don't change from both 😂</p>\n<p>let me know if it helps :)</p>\n"}],"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73942809,"answer_count":1,"score":1,"last_activity_date":1665250886,"creation_date":1664826194,"question_id":73940112,"body_markdown":"I have a post request that will send details to the server. The condition is that each user was assigned a unique value to and this value must be passed when the user want to place the request. I have a model class that is passed through the `@Body` annotation but I don&#39;t know how to pass this user&#39;s unique key along with this model class.\r\n    \r\nThe key was passed in the backend as a request parameter. Please note that this token is not as an `Authorization header`, it&#39;s just a unique token that was assigned to each user for authentication purpose\r\n        \r\nHere is how the backend looks like It was developed with `Spring boot`\r\n        \r\n```\r\n@PostMapping(&quot;appointment/book&quot;)\r\npublic ResponseEntity&lt;ApiResponse&gt; bookAppointment(@RequestBody AppointmentBookingDto appointmentBookingDto, @RequestParam(&quot;token&quot;) String token) throws DataNotFoundException, ParseException, DataAlreadyExistException {\r\n  return appointmentBookingService.bookAppointment(appointmentBookingDto, token);\r\n}\r\n```\r\n        \r\nThis is how I tried to pass it in my interface class in android studio\r\n        \r\n```\r\n@POST(&quot;appointment/book&quot;)\r\nCall&lt;ApiResponse&gt; bookAppointment(@Body AppointmentBookingDto appointmentBookingDto, @Path(&quot;token&quot;) String token); \r\n```\r\n    \r\n\r\n Here is the activity that I called the bookAppointment method.\r\n    \r\n     private void bookAppointment() {\r\n            progressBar.setVisibility(View.VISIBLE);\r\n            date = btnDate.getText().toString();\r\n            time = btnTime.getText().toString();\r\n    \r\n            AppointmentBookingDto appointmentBookingDto = new AppointmentBookingDto(time, date, purpose.getText().toString());\r\n    \r\n            Call&lt;ApiResponse&gt; call = BaseUrlClient\r\n                    .getInstance().getApi().bookAppointment(\r\n                            appointmentBookingDto, token.getText().toString()\r\n                    );\r\n            call.enqueue(new Callback&lt;ApiResponse&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;ApiResponse&gt; call, Response&lt;ApiResponse&gt; response) {\r\n                    if (response.code() == 201) {\r\n                        progressBar.setVisibility(View.GONE);\r\n                        Log.d(&quot;Main&quot;,response.body().getMessage());\r\n                        Toast.makeText(BookAppointmentActivity.this, response.message(), Toast.LENGTH_SHORT).show();\r\n                    } else {\r\n    \r\n                        try {\r\n                            progressBar.setVisibility(View.GONE);\r\n                            Log.d(&quot;Main&quot;, &quot;Response code is &quot; + response.code());\r\n                            Log.d(&quot;Main&quot;, &quot;Error message is &quot; + response.errorBody().string());\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onFailure(Call&lt;ApiResponse&gt; call, Throwable t) {\r\n                    progressBar.setVisibility(View.GONE);\r\n                    Log.d(&quot;Main&quot;, &quot;Failure message is &quot; + t.getMessage());\r\n                    Toast.makeText(BookAppointmentActivity.this, &quot;Error &quot; + t.getMessage(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n","title":"how to pass a request parameter in retrofit post request","body":"<p>I have a post request that will send details to the server. The condition is that each user was assigned a unique value to and this value must be passed when the user want to place the request. I have a model class that is passed through the <code>@Body</code> annotation but I don't know how to pass this user's unique key along with this model class.</p>\n<p>The key was passed in the backend as a request parameter. Please note that this token is not as an <code>Authorization header</code>, it's just a unique token that was assigned to each user for authentication purpose</p>\n<p>Here is how the backend looks like It was developed with <code>Spring boot</code></p>\n<pre><code>@PostMapping(&quot;appointment/book&quot;)\npublic ResponseEntity&lt;ApiResponse&gt; bookAppointment(@RequestBody AppointmentBookingDto appointmentBookingDto, @RequestParam(&quot;token&quot;) String token) throws DataNotFoundException, ParseException, DataAlreadyExistException {\n  return appointmentBookingService.bookAppointment(appointmentBookingDto, token);\n}\n</code></pre>\n<p>This is how I tried to pass it in my interface class in android studio</p>\n<pre><code>@POST(&quot;appointment/book&quot;)\nCall&lt;ApiResponse&gt; bookAppointment(@Body AppointmentBookingDto appointmentBookingDto, @Path(&quot;token&quot;) String token); \n</code></pre>\n<p>Here is the activity that I called the bookAppointment method.</p>\n<pre><code> private void bookAppointment() {\n        progressBar.setVisibility(View.VISIBLE);\n        date = btnDate.getText().toString();\n        time = btnTime.getText().toString();\n\n        AppointmentBookingDto appointmentBookingDto = new AppointmentBookingDto(time, date, purpose.getText().toString());\n\n        Call&lt;ApiResponse&gt; call = BaseUrlClient\n                .getInstance().getApi().bookAppointment(\n                        appointmentBookingDto, token.getText().toString()\n                );\n        call.enqueue(new Callback&lt;ApiResponse&gt;() {\n            @Override\n            public void onResponse(Call&lt;ApiResponse&gt; call, Response&lt;ApiResponse&gt; response) {\n                if (response.code() == 201) {\n                    progressBar.setVisibility(View.GONE);\n                    Log.d(&quot;Main&quot;,response.body().getMessage());\n                    Toast.makeText(BookAppointmentActivity.this, response.message(), Toast.LENGTH_SHORT).show();\n                } else {\n\n                    try {\n                        progressBar.setVisibility(View.GONE);\n                        Log.d(&quot;Main&quot;, &quot;Response code is &quot; + response.code());\n                        Log.d(&quot;Main&quot;, &quot;Error message is &quot; + response.errorBody().string());\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n\n            }\n\n            @Override\n            public void onFailure(Call&lt;ApiResponse&gt; call, Throwable t) {\n                progressBar.setVisibility(View.GONE);\n                Log.d(&quot;Main&quot;, &quot;Failure message is &quot; + t.getMessage());\n                Toast.makeText(BookAppointmentActivity.this, &quot;Error &quot; + t.getMessage(), Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n</code></pre>\n"},{"tags":["java","multithreading","queue"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1402068748,"post_id":24085571,"comment_id":37145882,"body_markdown":"Look into `BlockingQueue`.","body":"Look into <code>BlockingQueue</code>."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1402072648,"post_id":24085571,"comment_id":37148139,"body_markdown":"How does a boolean flag tell you something about the next object in the queue?  What if there are many objects in the queue?","body":"How does a boolean flag tell you something about the next object in the queue?  What if there are many objects in the queue?"}],"answers":[{"tags":[],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1402069137,"creation_date":1402068787,"answer_id":24085611,"question_id":24085571,"body_markdown":"`ArrayDeque` doesn&#39;t support concurrency. Instead, use a real queue that supports concurrent work like [`BlockingQueue`](http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/BlockingQueue.html) and one of its implementations in `java.util.concurrent` package. I recommend using [`LinkedBlockingQueue`](http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/LinkedBlockingQueue.html).\r\n\r\nIn case you need to share flags between your threads, it would be better using [`AtomicBoolean`](http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicBoolean.html) instead of manually synchronizing a primitive `boolean` field.\r\n\r\nNote: if you will work with concurrent process, it is better to work with classes provided by [`java.util.concurrent`](http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/package-summary.html) package that already support lock and synchronization out-of-the-box.\r\n","title":"Synchronizing queue in Java on multiple threads","body":"<p><code>ArrayDeque</code> doesn't support concurrency. Instead, use a real queue that supports concurrent work like <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/BlockingQueue.html\" rel=\"nofollow\"><code>BlockingQueue</code></a> and one of its implementations in <code>java.util.concurrent</code> package. I recommend using <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/LinkedBlockingQueue.html\" rel=\"nofollow\"><code>LinkedBlockingQueue</code></a>.</p>\n\n<p>In case you need to share flags between your threads, it would be better using <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicBoolean.html\" rel=\"nofollow\"><code>AtomicBoolean</code></a> instead of manually synchronizing a primitive <code>boolean</code> field.</p>\n\n<p>Note: if you will work with concurrent process, it is better to work with classes provided by <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/package-summary.html\" rel=\"nofollow\"><code>java.util.concurrent</code></a> package that already support lock and synchronization out-of-the-box.</p>\n"},{"tags":[],"owner":{"account_id":2073998,"reputation":2238,"user_id":1847873,"accept_rate":92,"display_name":"Arash Saidi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402068986,"creation_date":1402068812,"answer_id":24085622,"question_id":24085571,"body_markdown":"Look at ArrayBlockingQueue and another BlockingQueue implementations.\r\n\r\nFrom documentation:\r\n\r\n&gt; A Queue that additionally supports operations that wait for the queue to become non-empty when retrieving an element, and wait for space to become available in the queue when storing an element.\r\n\r\nAn alternative is also the ConcurrentLinkedQueue. \r\n\r\nYou can read more about concurrent Queues here:\r\n\r\nhttp://docs.oracle.com/javase/tutorial/collections/implementations/queue.html","title":"Synchronizing queue in Java on multiple threads","body":"<p>Look at ArrayBlockingQueue and another BlockingQueue implementations.</p>\n\n<p>From documentation:</p>\n\n<blockquote>\n  <p>A Queue that additionally supports operations that wait for the queue to become non-empty when retrieving an element, and wait for space to become available in the queue when storing an element.</p>\n</blockquote>\n\n<p>An alternative is also the ConcurrentLinkedQueue. </p>\n\n<p>You can read more about concurrent Queues here:</p>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/collections/implementations/queue.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/collections/implementations/queue.html</a></p>\n"},{"tags":[],"owner":{"account_id":422964,"reputation":33652,"user_id":802050,"accept_rate":89,"display_name":"M Sach"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1402069755,"creation_date":1402069034,"answer_id":24085699,"question_id":24085571,"body_markdown":"You are looking for [Blocking Queue][1] implementation\r\n\r\nThis provides the functionality out of box which you are looking for. Thats why its best suited for producer consumer examples.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/BlockingQueue.html\r\n\r\nHere is an example\r\n\r\n\r\n\r\n    public class BlockingQueueExample {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            BlockingQueue queue = new ArrayBlockingQueue(1024);\r\n    \r\n            Producer producer = new Producer(queue);\r\n            Consumer consumer = new Consumer(queue);\r\n    \r\n            new Thread(producer).start();\r\n            new Thread(consumer).start();\r\n    \r\n            Thread.sleep(4000);\r\n        }\r\n    }\r\n    \r\n    \r\n    public class Producer implements Runnable{\r\n    \r\n        protected BlockingQueue queue = null;\r\n    \r\n        public Producer(BlockingQueue queue) {\r\n            this.queue = queue;\r\n        }\r\n    \r\n        public void run() {\r\n            try {\r\n                queue.put(&quot;1&quot;);\r\n                Thread.sleep(1000);\r\n                queue.put(&quot;2&quot;);\r\n                Thread.sleep(1000);\r\n                queue.put(&quot;3&quot;);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n    \r\n    \r\n    public class Consumer implements Runnable{\r\n    \r\n        protected BlockingQueue queue = null;\r\n    \r\n        public Consumer(BlockingQueue queue) {\r\n            this.queue = queue;\r\n        }\r\n    \r\n        public void run() {\r\n            try {\r\n                System.out.println(queue.take());\r\n                System.out.println(queue.take());\r\n                System.out.println(queue.take());\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Synchronizing queue in Java on multiple threads","body":"<p>You are looking for <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/BlockingQueue.html\" rel=\"nofollow\">Blocking Queue</a> implementation</p>\n\n<p>This provides the functionality out of box which you are looking for. Thats why its best suited for producer consumer examples.</p>\n\n<p>Here is an example</p>\n\n<pre><code>public class BlockingQueueExample {\n\n    public static void main(String[] args) throws Exception {\n\n        BlockingQueue queue = new ArrayBlockingQueue(1024);\n\n        Producer producer = new Producer(queue);\n        Consumer consumer = new Consumer(queue);\n\n        new Thread(producer).start();\n        new Thread(consumer).start();\n\n        Thread.sleep(4000);\n    }\n}\n\n\npublic class Producer implements Runnable{\n\n    protected BlockingQueue queue = null;\n\n    public Producer(BlockingQueue queue) {\n        this.queue = queue;\n    }\n\n    public void run() {\n        try {\n            queue.put(\"1\");\n            Thread.sleep(1000);\n            queue.put(\"2\");\n            Thread.sleep(1000);\n            queue.put(\"3\");\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n\npublic class Consumer implements Runnable{\n\n    protected BlockingQueue queue = null;\n\n    public Consumer(BlockingQueue queue) {\n        this.queue = queue;\n    }\n\n    public void run() {\n        try {\n            System.out.println(queue.take());\n            System.out.println(queue.take());\n            System.out.println(queue.take());\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1732446,"reputation":10581,"user_id":1585767,"accept_rate":85,"display_name":"Andres"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402069195,"creation_date":1402069195,"answer_id":24085755,"question_id":24085571,"body_markdown":"Before Java 5 you&#39;d have to implement a wait/notify mechanism. Since Java 5 you can use an implementation of the BlockingQueue interface for producer/consumer problems.\r\n\r\nTake a look at this:\r\n\r\nhttp://www.javamex.com/tutorials/synchronization_producer_consumer.shtml","title":"Synchronizing queue in Java on multiple threads","body":"<p>Before Java 5 you'd have to implement a wait/notify mechanism. Since Java 5 you can use an implementation of the BlockingQueue interface for producer/consumer problems.</p>\n\n<p>Take a look at this:</p>\n\n<p><a href=\"http://www.javamex.com/tutorials/synchronization_producer_consumer.shtml\" rel=\"nofollow\">http://www.javamex.com/tutorials/synchronization_producer_consumer.shtml</a></p>\n"},{"tags":[],"owner":{"account_id":330599,"reputation":10771,"user_id":654799,"accept_rate":84,"display_name":"vach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402071367,"creation_date":1402071367,"answer_id":24086407,"question_id":24085571,"body_markdown":"You can use java Blocking Queue or Collections.synchronizedList(new LinkedList&lt;&gt;()), I like Collections.synchronized... as it is effectively making your collection thread safe and you are not bothering about locks and flags and similar stuff... just writing logical readable code.\r\n\r\nLinkedList will provide you addFirst() addLast() and ofcourse getFirst(), getLast() to implement FIFO or LIFO behaviour...\r\n","title":"Synchronizing queue in Java on multiple threads","body":"<p>You can use java Blocking Queue or Collections.synchronizedList(new LinkedList&lt;>()), I like Collections.synchronized... as it is effectively making your collection thread safe and you are not bothering about locks and flags and similar stuff... just writing logical readable code.</p>\n\n<p>LinkedList will provide you addFirst() addLast() and ofcourse getFirst(), getLast() to implement FIFO or LIFO behaviour...</p>\n"},{"tags":[],"owner":{"account_id":238135,"reputation":3952,"user_id":506813,"display_name":"bekce"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665250502,"creation_date":1665250502,"answer_id":73999178,"question_id":24085571,"body_markdown":"Apache Common Collections library includes a [`SynchronizedQueue`](https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/queue/SynchronizedQueue.html) class that can make any custom `Queue` implementation thread-safe.\r\n\r\n`SynchronizedQueue.synchronizedQueue(new MyAwesomeNonThreadSafeQueue()`","title":"Synchronizing queue in Java on multiple threads","body":"<p>Apache Common Collections library includes a <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/queue/SynchronizedQueue.html\" rel=\"nofollow noreferrer\"><code>SynchronizedQueue</code></a> class that can make any custom <code>Queue</code> implementation thread-safe.</p>\n<p><code>SynchronizedQueue.synchronizedQueue(new MyAwesomeNonThreadSafeQueue()</code></p>\n"}],"owner":{"account_id":2512449,"reputation":15792,"user_id":2184584,"accept_rate":46,"display_name":"Christopher Francisco"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9890,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":24085611,"answer_count":6,"score":6,"last_activity_date":1665250502,"creation_date":1402068667,"question_id":24085571,"body_markdown":"I understand the concept of synchronizing, but I&#39;m now sure about why is it implemented that way, so I need a little help in here:\r\n\r\nI have 2 threads: \r\n\r\n`PeriodicalThread` will receive data periodically (let&#39;s say each 5 seconds) and put it in a `Queue` (using `ArrayDeque` for the moment, but I don&#39;t know if any other `Queue` implementation will work better)\r\n\r\n`ProccessThread` will constantly check on the `Queue` to see if it is empty. If it is not empty, it will process the data **(FIFO)**.\r\n\r\nSo, at first my implementation would be:\r\n\r\n    // Both threads are inner class so they have access to Queue\r\n\r\n    private Queue queue;\r\n    private boolean isReadyToProccess;\r\n\r\n\r\n    class PeriodicalThread extends Thread {\r\n        public void run() {\r\n            while(true) {\r\n               if(isNewDataAvailable) {\r\n                    // create Data object\r\n                    queue.add(data);\r\n               }\r\n            }\r\n        }\r\n    }\r\n\r\n    class ProcessThread extends Thread {\r\n        public void run() {\r\n            while(true) {\r\n               if(!queue.isEmpty() &amp;&amp; isReadyToProccess) {\r\n                   Data data = queue.poll();\r\n                   processData(data);\r\n               }\r\n            }\r\n        }\r\n    }\r\n\r\n    private void processData(Data data) {\r\n        // this method send data over network, and the server response callback\r\n        // changes isReadyToProcess value to true.\r\n    }\r\n\r\nThen when wanting to handle **synchronization**, I wouldn&#39;t know If I should use a `lock` object (and how is it implemented) or if there is already a package `Queue` implementation that is thread-safe (because of the `add()` and `poll()` methods)\r\n\r\n**Edit:** I forgot about the flag `isReadyToProcess` indicating next queue `Data` object is... well, ready to be proccessed. This flag should be synchronized also.","title":"Synchronizing queue in Java on multiple threads","body":"<p>I understand the concept of synchronizing, but I'm now sure about why is it implemented that way, so I need a little help in here:</p>\n\n<p>I have 2 threads: </p>\n\n<p><code>PeriodicalThread</code> will receive data periodically (let's say each 5 seconds) and put it in a <code>Queue</code> (using <code>ArrayDeque</code> for the moment, but I don't know if any other <code>Queue</code> implementation will work better)</p>\n\n<p><code>ProccessThread</code> will constantly check on the <code>Queue</code> to see if it is empty. If it is not empty, it will process the data <strong>(FIFO)</strong>.</p>\n\n<p>So, at first my implementation would be:</p>\n\n<pre><code>// Both threads are inner class so they have access to Queue\n\nprivate Queue queue;\nprivate boolean isReadyToProccess;\n\n\nclass PeriodicalThread extends Thread {\n    public void run() {\n        while(true) {\n           if(isNewDataAvailable) {\n                // create Data object\n                queue.add(data);\n           }\n        }\n    }\n}\n\nclass ProcessThread extends Thread {\n    public void run() {\n        while(true) {\n           if(!queue.isEmpty() &amp;&amp; isReadyToProccess) {\n               Data data = queue.poll();\n               processData(data);\n           }\n        }\n    }\n}\n\nprivate void processData(Data data) {\n    // this method send data over network, and the server response callback\n    // changes isReadyToProcess value to true.\n}\n</code></pre>\n\n<p>Then when wanting to handle <strong>synchronization</strong>, I wouldn't know If I should use a <code>lock</code> object (and how is it implemented) or if there is already a package <code>Queue</code> implementation that is thread-safe (because of the <code>add()</code> and <code>poll()</code> methods)</p>\n\n<p><strong>Edit:</strong> I forgot about the flag <code>isReadyToProcess</code> indicating next queue <code>Data</code> object is... well, ready to be proccessed. This flag should be synchronized also.</p>\n"},{"tags":["java","sql","database","prepared-statement"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":3,"creation_date":1664924331,"post_id":73954312,"comment_id":130579937,"body_markdown":"are the schemas user supplied? If they are fixed strings you supply you also know that concatenation is no issue. https://stackoverflow.com/a/43384505/995891 is the issue I think","body":"are the schemas user supplied? If they are fixed strings you supply you also know that concatenation is no issue. <a href=\"https://stackoverflow.com/a/43384505/995891\">stackoverflow.com/a/43384505/995891</a> is the issue I think"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1664926648,"post_id":73954312,"comment_id":130580287,"body_markdown":"Apparently you can call `toString` on a Postgres `PreparedStatement` and see what its rendered. https://stackoverflow.com/questions/7195855/logging-prepared-sql-statements-in-postgres-jdbc-driver","body":"Apparently you can call <code>toString</code> on a Postgres <code>PreparedStatement</code> and see what its rendered. <a href=\"https://stackoverflow.com/questions/7195855/logging-prepared-sql-statements-in-postgres-jdbc-driver\" title=\"logging prepared sql statements in postgres jdbc driver\">stackoverflow.com/questions/7195855/&hellip;</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1664927050,"post_id":73954312,"comment_id":130580350,"body_markdown":"This may help: https://stackoverflow.com/questions/17648861/can-we-use-ddl-commands-in-a-prepared-statement-postgresql","body":"This may help: <a href=\"https://stackoverflow.com/questions/17648861/can-we-use-ddl-commands-in-a-prepared-statement-postgresql\" title=\"can we use ddl commands in a prepared statement postgresql\">stackoverflow.com/questions/17648861/&hellip;</a>"},{"owner":{"account_id":252190,"reputation":1445,"user_id":530055,"display_name":"Isaiah van der Elst"},"score":0,"creation_date":1664937269,"post_id":73954312,"comment_id":130581614,"body_markdown":"Even if you&#39;re sanitizing your input, in general, this screams security vulnerability...","body":"Even if you&#39;re sanitizing your input, in general, this screams security vulnerability..."}],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664931340,"creation_date":1664931340,"answer_id":73954972,"question_id":73954312,"body_markdown":"Apart from using dynamic SQL on the server side, you could query the create statement using PostgreSQL&#39;s [format function](https://www.postgresql.org/docs/current/functions-string.html#FUNCTIONS-STRING-FORMAT) to encode the identifier.\r\n\r\nFor example:\r\n\r\n```\r\nprivate String getCreateSchemaStatement(Connection conn, String schemaName) throws SQLException {\r\n    String sql = &quot;SELECT format(&#39;CREATE SCHEMA IF NOT EXISTS %I&#39;, ?)&quot;;\r\n    try (PreparedStatement stmt = conn.prepareStatement(sql)) {\r\n        stmt.setString(1, schemaName);\r\n        return getSingleResultString(stmt);\r\n    }\r\n}\r\n\r\nprivate String getSingleResultString(PreparedStatement stmt) throws SQLException {\r\n    try (ResultSet rs = stmt.executeQuery()) {\r\n        String result = null;\r\n        if (rs.next()) {\r\n            result = rs.getString(1);\r\n        }\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\nHaving this, you can just execute the statements:\r\n\r\n```\r\npublic void createSchemas(List&lt;String&gt; schemaNames) throws SQLException {\r\n    try (Connection conn = dataSource.getConnection();\r\n         Statement stmt = conn.createStatement()) {\r\n        for (String schemaName : schemaNames) {\r\n            String sql = getCreateSchemaStatement(conn, schemaName);\r\n            stmt.execute(sql);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nOf course, this is not needed if the schema names are known to be safe.","title":"Is it possible to use a Prepared Statement in Java when creating a database schema?","body":"<p>Apart from using dynamic SQL on the server side, you could query the create statement using PostgreSQL's <a href=\"https://www.postgresql.org/docs/current/functions-string.html#FUNCTIONS-STRING-FORMAT\" rel=\"nofollow noreferrer\">format function</a> to encode the identifier.</p>\n<p>For example:</p>\n<pre><code>private String getCreateSchemaStatement(Connection conn, String schemaName) throws SQLException {\n    String sql = &quot;SELECT format('CREATE SCHEMA IF NOT EXISTS %I', ?)&quot;;\n    try (PreparedStatement stmt = conn.prepareStatement(sql)) {\n        stmt.setString(1, schemaName);\n        return getSingleResultString(stmt);\n    }\n}\n\nprivate String getSingleResultString(PreparedStatement stmt) throws SQLException {\n    try (ResultSet rs = stmt.executeQuery()) {\n        String result = null;\n        if (rs.next()) {\n            result = rs.getString(1);\n        }\n        return result;\n    }\n}\n</code></pre>\n<p>Having this, you can just execute the statements:</p>\n<pre><code>public void createSchemas(List&lt;String&gt; schemaNames) throws SQLException {\n    try (Connection conn = dataSource.getConnection();\n         Statement stmt = conn.createStatement()) {\n        for (String schemaName : schemaNames) {\n            String sql = getCreateSchemaStatement(conn, schemaName);\n            stmt.execute(sql);\n        }\n    }\n}\n</code></pre>\n<p>Of course, this is not needed if the schema names are known to be safe.</p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665248003,"creation_date":1665240754,"answer_id":73997955,"question_id":73954312,"body_markdown":"There are some constraints when a dynamic value is passed through a query and then the query is translated to be executed in database. Most database drivers do expect dynamic parameters only in specific places for security reasons as for example a dynamic parameter after the `where` clause, or after `values` in an insert script. The certain is that `postgresql` and most other drivers as well don&#39;t expect a dynamic parameter in the SQL for the creation of a schema.\r\n\r\nString concatenation in `SQL` creation is known as bad practice as it could lead to some security issues, since all drivers expect the `SQL` passed to be static and safe while parameters are dynamic and are always checked if they contain something malicious. For this reason I would propose to avoid String concatenation to solve this issue and check the following approach.\r\n\r\nCreate the following function in your postgresql database. \r\n\r\n      CREATE OR REPLACE FUNCTION create_custom_schema(s_name text) RETURNS void AS $$\r\n            BEGIN\r\n                EXECUTE &#39;CREATE SCHEMA IF NOT EXISTS&#39; || quote_ident(s_name);\r\n            END;\r\n        $$ LANGUAGE plpgsql;\r\n\r\nSo we now have a function to do the job which accepts as parameter the schema name. Now the database driver would have no problem to accept a dynamic parameter for schema name and translate it correctly before executing the script.\r\n\r\nJust note that functions are executed by the use of a subinterface of [PreparedStatement][1] which is the [CallableStatement][2].\r\n\r\nSo your code now will be\r\n\r\n   \r\n\r\n        final String CREATE_SCHEMA_SQL = &quot;{call create_custom_schema(?)}&quot;;\r\n        List&lt;String&gt; schemas = // [&quot;001&quot;, &quot;002&quot;, &quot;003&quot;];\r\n        \r\n        for (String schema : schemas) {\r\n        \r\n          try (Connection connection = dataSource.getConnection();\r\n              CallableStatement createSchemaStatement = connection.prepareCall(CREATE_SCHEMA_SQL)) {\r\n        \r\n               createSchemaStatement.setString(1, schema);\r\n               createSchemaStatement.executeQuery();\r\n            \r\n          } catch (SQLException e) {\r\n            throw new RuntimeException(&quot;Could not create tenant schema&quot;);\r\n          }\r\n        }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/sql/CallableStatement.html","title":"Is it possible to use a Prepared Statement in Java when creating a database schema?","body":"<p>There are some constraints when a dynamic value is passed through a query and then the query is translated to be executed in database. Most database drivers do expect dynamic parameters only in specific places for security reasons as for example a dynamic parameter after the <code>where</code> clause, or after <code>values</code> in an insert script. The certain is that <code>postgresql</code> and most other drivers as well don't expect a dynamic parameter in the SQL for the creation of a schema.</p>\n<p>String concatenation in <code>SQL</code> creation is known as bad practice as it could lead to some security issues, since all drivers expect the <code>SQL</code> passed to be static and safe while parameters are dynamic and are always checked if they contain something malicious. For this reason I would propose to avoid String concatenation to solve this issue and check the following approach.</p>\n<p>Create the following function in your postgresql database.</p>\n<pre><code>  CREATE OR REPLACE FUNCTION create_custom_schema(s_name text) RETURNS void AS $$\n        BEGIN\n            EXECUTE 'CREATE SCHEMA IF NOT EXISTS' || quote_ident(s_name);\n        END;\n    $$ LANGUAGE plpgsql;\n</code></pre>\n<p>So we now have a function to do the job which accepts as parameter the schema name. Now the database driver would have no problem to accept a dynamic parameter for schema name and translate it correctly before executing the script.</p>\n<p>Just note that functions are executed by the use of a subinterface of <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html\" rel=\"nofollow noreferrer\">PreparedStatement</a> which is the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/CallableStatement.html\" rel=\"nofollow noreferrer\">CallableStatement</a>.</p>\n<p>So your code now will be</p>\n<pre><code>    final String CREATE_SCHEMA_SQL = &quot;{call create_custom_schema(?)}&quot;;\n    List&lt;String&gt; schemas = // [&quot;001&quot;, &quot;002&quot;, &quot;003&quot;];\n    \n    for (String schema : schemas) {\n    \n      try (Connection connection = dataSource.getConnection();\n          CallableStatement createSchemaStatement = connection.prepareCall(CREATE_SCHEMA_SQL)) {\n    \n           createSchemaStatement.setString(1, schema);\n           createSchemaStatement.executeQuery();\n        \n      } catch (SQLException e) {\n        throw new RuntimeException(&quot;Could not create tenant schema&quot;);\n      }\n    }\n</code></pre>\n"}],"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":786,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1665248003,"creation_date":1664923668,"question_id":73954312,"body_markdown":"If not, is there a safer way than String concatenation?\r\n\r\nTried this ..\r\n\r\n```\r\nfinal String CREATE_SCHEMA_SQL = &quot;CREATE SCHEMA IF NOT EXISTS ?&quot;;\r\nList&lt;String&gt; schemas = // [&quot;001&quot;, &quot;002&quot;, &quot;003&quot;];\r\n\r\nfor (String schema : schemas) {\r\n\r\n  try (Connection connection = dataSource.getConnection();\r\n      PreparedStatement createSchemaStatement =\r\n          connection.prepareStatement(CREATE_SCHEMA_SQL)) {\r\n\r\n    createSchemaStatement.setString(1, schema);\r\n    createSchemaStatement.executeUpdate();\r\n    \r\n  } catch (SQLException e) {\r\n    throw new RuntimeException(&quot;Could not create tenant schema&quot;);\r\n  }\r\n}\r\n```\r\n\r\nProduces this error:\r\n```\r\norg.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;$1&quot;\r\n  Position: 29\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2674)\r\n```","title":"Is it possible to use a Prepared Statement in Java when creating a database schema?","body":"<p>If not, is there a safer way than String concatenation?</p>\n<p>Tried this ..</p>\n<pre><code>final String CREATE_SCHEMA_SQL = &quot;CREATE SCHEMA IF NOT EXISTS ?&quot;;\nList&lt;String&gt; schemas = // [&quot;001&quot;, &quot;002&quot;, &quot;003&quot;];\n\nfor (String schema : schemas) {\n\n  try (Connection connection = dataSource.getConnection();\n      PreparedStatement createSchemaStatement =\n          connection.prepareStatement(CREATE_SCHEMA_SQL)) {\n\n    createSchemaStatement.setString(1, schema);\n    createSchemaStatement.executeUpdate();\n    \n  } catch (SQLException e) {\n    throw new RuntimeException(&quot;Could not create tenant schema&quot;);\n  }\n}\n</code></pre>\n<p>Produces this error:</p>\n<pre><code>org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;$1&quot;\n  Position: 29\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2674)\n</code></pre>\n"},{"tags":["java","sum","decimal","mean","decimalformat"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1665246763,"post_id":73998692,"comment_id":130657134,"body_markdown":"You have presented your assignment, but you have not described your problem or asked a question. Just posting your homework is not sufficient.","body":"You have presented your assignment, but you have not described your problem or asked a question. Just posting your homework is not sufficient."},{"owner":{"account_id":26565183,"reputation":1,"user_id":20192361,"display_name":"Gioia"},"score":0,"creation_date":1665246951,"post_id":73998692,"comment_id":130657182,"body_markdown":"Hello Mark, I asked in the main question title: &quot;how to create outputs with different number of decimals, depending on user&#39;s input (that can be a number from 1 to 3)?&quot;... maybe I have to repeat the question in the text below?","body":"Hello Mark, I asked in the main question title: &quot;how to create outputs with different number of decimals, depending on user&#39;s input (that can be a number from 1 to 3)?&quot;... maybe I have to repeat the question in the text below?"},{"owner":{"account_id":26565183,"reputation":1,"user_id":20192361,"display_name":"Gioia"},"score":0,"creation_date":1665247136,"post_id":73998692,"comment_id":130657210,"body_markdown":"Now I added the question in bold, I hope it&#39;s ok now. Thank you.","body":"Now I added the question in bold, I hope it&#39;s ok now. Thank you."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1665247571,"post_id":73998692,"comment_id":130657310,"body_markdown":"I have removed the excessive use of bold, as that actually hurts readability. Thanks for adding a question, but to be honest, it is not clear to me what you want/need to achieve.","body":"I have removed the excessive use of bold, as that actually hurts readability. Thanks for adding a question, but to be honest, it is not clear to me what you want/need to achieve."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665248553,"post_id":73998692,"comment_id":130657552,"body_markdown":"When you have repetitive lines of code, think loops and/or arrays","body":"When you have repetitive lines of code, think loops and/or arrays"}],"owner":{"account_id":26565183,"reputation":1,"user_id":20192361,"display_name":"Gioia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665247443,"creation_date":1665246614,"question_id":73998692,"body_markdown":"I&#39;m attending a Java course for beginners and I have this exercise to do:\r\n\r\n- There are 5 students admitted to take an exam at college\r\n- Create showInputDialog for each student&#39;s grade\r\n- Create also showInputDialog to ask user to enter a number from 1 to 3 which represents the number of decimal numbers to display the mean of the 5 student&#39;s grades (for example: if user writes &quot;2&quot; he will get a mean like this XX,XX)\r\n- If the mean of the 5 grades is higher than 25, the program must display a window to the user that says &quot;mean result passing&quot;\r\n\r\nI have done everything but I&#39;m stuck at the point where I have to create the output to show the mean with the amount of decimal numbers choose by the user.\r\n\r\nHow can I create outputs with different number of decimals, depending on user&#39;s input (that can be a number from 1 to 3)?\r\n\r\nI show you my code:\r\n```\r\npackage module2;\r\n\r\nimport java.text.DecimalFormat;\r\n\r\nimport javax.swing.JOptionPane;\r\n\r\npublic class GradeMean2 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tString gradeStudent1, gradeStudent2, gradeStudent3, gradeStudent4, gradeStudent5;\r\n\t\tint valGradeStudent1, valGradeStudent2, valGradeStudent3, valGradeStudent4, valGradeStudent5, sum;\r\n\t\tdouble mean;\r\n\t\tString mean1Decimal, mean2Decimals, mean3Decimals;\r\n\t\tString decimalNumber;\r\n\t\tdouble valDecimalNumber;\r\n\t\tString output;\r\n\t\t\r\n\t\tDecimalFormat oneNumber = new DecimalFormat(&quot;0.0&quot;);\r\n\t\tDecimalFormat twoNumbers = new DecimalFormat(&quot;0.00&quot;);\r\n\t\tDecimalFormat threeNumbers = new DecimalFormat(&quot;0.000&quot;);\r\n\t\t\r\n\t\tgradeStudent1 = JOptionPane.showInputDialog(&quot;Insert grade student 1&quot;);\r\n\t\tvalGradeStudent1 = Integer.parseInt(gradeStudent1);\r\n\t\t\r\n\t\tgradeStudent2 = JOptionPane.showInputDialog(&quot;Insert grade student 2&quot;);\r\n\t\tvalGradeStudent2 = Integer.parseInt(gradeStudent2);\r\n\t\t\r\n\t\tgradeStudent3 = JOptionPane.showInputDialog(&quot;Insert grade student 3&quot;);\r\n\t\tvalGradeStudent3 = Integer.parseInt(gradeStudent3);\r\n\t\t\r\n\t\tgradeStudent4 = JOptionPane.showInputDialog(&quot;Insert grade student 4&quot;);\r\n\t\tvalGradeStudent4 = Integer.parseInt(gradeStudent4);\r\n\r\n\t\tgradeStudent5 = JOptionPane.showInputDialog(&quot;Insert grade student 5&quot;);\r\n\t\tvalGradeStudent5 = Integer.parseInt(gradeStudent5);\r\n\t\t\r\n\t\tdecimalNumber = JOptionPane.showInputDialog(&quot;Insert number of decimals of mean&quot;);\r\n\t\tvalDecimalNumber = Integer.parseInt(decimalNumber);\r\n\t\t\r\n\t\toutput = &quot;Grades:&quot; + &quot;\\ngrade student 1 = &quot; +gradeStudent1 +&quot;\\ngrade student 2 = &quot; +gradeStudent2 +&quot;\\ngrade student 3 = &quot; +gradeStudent3 +&quot;\\ngrade student 4 = &quot; +gradeStudent4 +&quot;\\ngrade student 5 = &quot; +gradeStudent5  +&quot;\\n\\n&quot;;\r\n\r\n\t\tsum = valGradeStudent1 + valGradeStudent2 + valGradeStudent3 + valGradeStudent4 + valGradeStudent5;\r\n\t\tmean = (double)sum/5;\r\n\r\n\t\tmean1Decimal = oneNumber.format(media);\r\n\t\tmean2Decimals = twoNumbers.format(media);\r\n\t\tmean3Decimals = threeNumbers.format(media);\r\n\r\n\t\tif(media &gt;= 25)\r\n\t\t\toutput = output + &quot;\\nMean result passing&quot;;\r\n\t\t\r\n\t\tJOptionPane.showMessageDialog(null, output);\r\n\t\tSystem.exit(0);\r\n```\r\n","title":"How to create outputs with different number of decimals, depending on user&#39;s input (that can be a number from 1 to 3)?","body":"<p>I'm attending a Java course for beginners and I have this exercise to do:</p>\n<ul>\n<li>There are 5 students admitted to take an exam at college</li>\n<li>Create showInputDialog for each student's grade</li>\n<li>Create also showInputDialog to ask user to enter a number from 1 to 3 which represents the number of decimal numbers to display the mean of the 5 student's grades (for example: if user writes &quot;2&quot; he will get a mean like this XX,XX)</li>\n<li>If the mean of the 5 grades is higher than 25, the program must display a window to the user that says &quot;mean result passing&quot;</li>\n</ul>\n<p>I have done everything but I'm stuck at the point where I have to create the output to show the mean with the amount of decimal numbers choose by the user.</p>\n<p>How can I create outputs with different number of decimals, depending on user's input (that can be a number from 1 to 3)?</p>\n<p>I show you my code:</p>\n<pre><code>package module2;\n\nimport java.text.DecimalFormat;\n\nimport javax.swing.JOptionPane;\n\npublic class GradeMean2 {\n\n    public static void main(String[] args) {\n        \n        String gradeStudent1, gradeStudent2, gradeStudent3, gradeStudent4, gradeStudent5;\n        int valGradeStudent1, valGradeStudent2, valGradeStudent3, valGradeStudent4, valGradeStudent5, sum;\n        double mean;\n        String mean1Decimal, mean2Decimals, mean3Decimals;\n        String decimalNumber;\n        double valDecimalNumber;\n        String output;\n        \n        DecimalFormat oneNumber = new DecimalFormat(&quot;0.0&quot;);\n        DecimalFormat twoNumbers = new DecimalFormat(&quot;0.00&quot;);\n        DecimalFormat threeNumbers = new DecimalFormat(&quot;0.000&quot;);\n        \n        gradeStudent1 = JOptionPane.showInputDialog(&quot;Insert grade student 1&quot;);\n        valGradeStudent1 = Integer.parseInt(gradeStudent1);\n        \n        gradeStudent2 = JOptionPane.showInputDialog(&quot;Insert grade student 2&quot;);\n        valGradeStudent2 = Integer.parseInt(gradeStudent2);\n        \n        gradeStudent3 = JOptionPane.showInputDialog(&quot;Insert grade student 3&quot;);\n        valGradeStudent3 = Integer.parseInt(gradeStudent3);\n        \n        gradeStudent4 = JOptionPane.showInputDialog(&quot;Insert grade student 4&quot;);\n        valGradeStudent4 = Integer.parseInt(gradeStudent4);\n\n        gradeStudent5 = JOptionPane.showInputDialog(&quot;Insert grade student 5&quot;);\n        valGradeStudent5 = Integer.parseInt(gradeStudent5);\n        \n        decimalNumber = JOptionPane.showInputDialog(&quot;Insert number of decimals of mean&quot;);\n        valDecimalNumber = Integer.parseInt(decimalNumber);\n        \n        output = &quot;Grades:&quot; + &quot;\\ngrade student 1 = &quot; +gradeStudent1 +&quot;\\ngrade student 2 = &quot; +gradeStudent2 +&quot;\\ngrade student 3 = &quot; +gradeStudent3 +&quot;\\ngrade student 4 = &quot; +gradeStudent4 +&quot;\\ngrade student 5 = &quot; +gradeStudent5  +&quot;\\n\\n&quot;;\n\n        sum = valGradeStudent1 + valGradeStudent2 + valGradeStudent3 + valGradeStudent4 + valGradeStudent5;\n        mean = (double)sum/5;\n\n        mean1Decimal = oneNumber.format(media);\n        mean2Decimals = twoNumbers.format(media);\n        mean3Decimals = threeNumbers.format(media);\n\n        if(media &gt;= 25)\n            output = output + &quot;\\nMean result passing&quot;;\n        \n        JOptionPane.showMessageDialog(null, output);\n        System.exit(0);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rest","thymeleaf"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1665239602,"post_id":73997392,"comment_id":130655634,"body_markdown":"Assuming you have the correct listing of raw data coming back from your API call. don&#39;t call `next()` in your weather controller. Instead, pass the iterable data to Thymeleaf, and let Thymeleaf [do the iteration](https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf#iteration). So, Thymeleaf probably needs to receive a single object - whatever is returned from `forecastWeatherService.getForecastInfoByCity(counterValue, cityValue)`.","body":"Assuming you have the correct listing of raw data coming back from your API call. don&#39;t call <code>next()</code> in your weather controller. Instead, pass the iterable data to Thymeleaf, and let Thymeleaf <a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf#iteration\" rel=\"nofollow noreferrer\">do the iteration</a>. So, Thymeleaf probably needs to receive a single object - whatever is returned from <code>forecastWeatherService.getForecastInfoByCity(counterValue, cityValue)</code>."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1665239795,"post_id":73997392,"comment_id":130655671,"body_markdown":"&quot;_I tried some loops but didn&#39;t work._&quot; - Can you be more specific? It helps to show us what you tried, and what happened when you tried it. Do you mean Thymeleaf &quot;loops&quot;, or loops in your controller? Or something else?","body":"&quot;<i>I tried some loops but didn&#39;t work.</i>&quot; - Can you be more specific? It helps to show us what you tried, and what happened when you tried it. Do you mean Thymeleaf &quot;loops&quot;, or loops in your controller? Or something else?"}],"answers":[{"tags":[],"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665246660,"creation_date":1665245694,"answer_id":73998587,"question_id":73997392,"body_markdown":"Instead of putting each attribute on, put the entire object on.  Then you can use Thymeleaf to loop through.  For example:\r\n\r\n    @GetMapping(&quot;/info/{counterValue}/info/{cityValue}&quot;)\r\n    public String getInfo(@PathVariable(&quot;counterValue&quot;) int counterValue, @PathVariable(&quot;cityValue&quot;) String cityValue , Model model){\r\n      model.addAttribute(&quot;forecast&quot;, forecastWeatherService.getForecastInfoByCity(counterValue, cityValue));\r\n      return &quot;home2&quot;;\r\n    }\r\n\r\nThen, in the Thymeleaf you loop over the same attributes.\r\n\r\n    &lt;div class=&quot;container&quot;&gt;\r\n        &lt;h1&gt;Weather Tracker API&lt;/h1&gt;\r\n        &lt;h2 th:text=&quot;${forecast.city}&quot; /&gt;\r\n        \r\n        &lt;table class=&quot;table&quot;&gt;\r\n            &lt;tr&gt;\r\n                &lt;th&gt;Temperature Now&lt;/th&gt;\r\n                &lt;th&gt;Minimum Temperature&lt;/th&gt;\r\n                &lt;th&gt;Maximum Temperature&lt;/th&gt;\r\n                &lt;th&gt;Date&lt;/th&gt;\r\n            &lt;/tr&gt;\r\n            \r\n            &lt;tr th:each=&quot;data: ${forecast.list}&quot;&gt;\r\n                &lt;td th:text=&quot;${data.main.temp}&quot; /&gt;\r\n                &lt;td th:text=&quot;${data.main.getTemp_min()}&quot; /&gt;\r\n                &lt;td th:text=&quot;${data.main.getTemp_max()}&quot; /&gt;\r\n                &lt;td th:text=&quot;${data.main.getDt_txt()}&quot; /&gt;\r\n            &lt;/tr&gt;\r\n        &lt;/table&gt;\r\n    &lt;/div&gt;","title":"Display a list of weather info in a table (OpenWeather API)","body":"<p>Instead of putting each attribute on, put the entire object on.  Then you can use Thymeleaf to loop through.  For example:</p>\n<pre><code>@GetMapping(&quot;/info/{counterValue}/info/{cityValue}&quot;)\npublic String getInfo(@PathVariable(&quot;counterValue&quot;) int counterValue, @PathVariable(&quot;cityValue&quot;) String cityValue , Model model){\n  model.addAttribute(&quot;forecast&quot;, forecastWeatherService.getForecastInfoByCity(counterValue, cityValue));\n  return &quot;home2&quot;;\n}\n</code></pre>\n<p>Then, in the Thymeleaf you loop over the same attributes.</p>\n<pre><code>&lt;div class=&quot;container&quot;&gt;\n    &lt;h1&gt;Weather Tracker API&lt;/h1&gt;\n    &lt;h2 th:text=&quot;${forecast.city}&quot; /&gt;\n    \n    &lt;table class=&quot;table&quot;&gt;\n        &lt;tr&gt;\n            &lt;th&gt;Temperature Now&lt;/th&gt;\n            &lt;th&gt;Minimum Temperature&lt;/th&gt;\n            &lt;th&gt;Maximum Temperature&lt;/th&gt;\n            &lt;th&gt;Date&lt;/th&gt;\n        &lt;/tr&gt;\n        \n        &lt;tr th:each=&quot;data: ${forecast.list}&quot;&gt;\n            &lt;td th:text=&quot;${data.main.temp}&quot; /&gt;\n            &lt;td th:text=&quot;${data.main.getTemp_min()}&quot; /&gt;\n            &lt;td th:text=&quot;${data.main.getTemp_max()}&quot; /&gt;\n            &lt;td th:text=&quot;${data.main.getDt_txt()}&quot; /&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/div&gt;\n</code></pre>\n"}],"owner":{"account_id":14665475,"reputation":111,"user_id":10591439,"display_name":"vapan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73998587,"answer_count":1,"score":0,"last_activity_date":1665246660,"creation_date":1665235877,"question_id":73997392,"body_markdown":"I use OpenWeather API to make an app in which you can search for the city you want to view its weather info(temp,weather description,min temp...). I made this part but i m stuck when i try to add forecast option in which you can see 5 Day / 3 Hour Forecast weather.\r\n\r\n[This is what i receive as a response][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jBMkL.png\r\n\r\n\r\nThe correct response would display a table that shows every 3 hours weather info but now i receive only one row with one date info.\r\n\r\nI tried some loops but didn&#39;t work. \r\n\r\n\r\n \r\n\r\n**ForecastWeatherController.java**\r\n  \r\n  \r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/&quot;)\r\n    public class ForecastWeatherController{\r\n    \r\n    \r\n        @Autowired\r\n        private ForecastWeatherService forecastWeatherService;\r\n    \r\n    \r\n        @GetMapping(&quot;/info/{counterValue}/info/{cityValue}&quot;)\r\n        public String getInfo(@PathVariable(&quot;counterValue&quot;) int counterValue, @PathVariable(&quot;cityValue&quot;) String cityValue , Model model){\r\n    \r\n            String name = forecastWeatherService.getForecastInfoByCity(counterValue, cityValue).getCity().getName();\r\n            double temp = forecastWeatherService.getForecastInfoByCity(counterValue, cityValue).getList().listIterator().next().getMain().getTemp();\r\n            String desc = forecastWeatherService.getForecastInfoByCity(counterValue, cityValue).getList().listIterator().next().getWeather().listIterator().next().getDescription();\r\n            double minTemp = forecastWeatherService.getForecastInfoByCity(counterValue, cityValue).getList().listIterator().next().getMain().getTemp_min();\r\n            double maxTemp = forecastWeatherService.getForecastInfoByCity(counterValue, cityValue).getList().listIterator().next().getMain().getTemp_max();\r\n            String date = forecastWeatherService.getForecastInfoByCity(counterValue, cityValue).getList().listIterator().next().getDt_txt();\r\n    \r\n            model.addAttribute(&quot;cityName&quot;, name);\r\n            model.addAttribute(&quot;weatherTemp&quot;, temp);\r\n            model.addAttribute(&quot;weatherDesc&quot;, desc);\r\n            model.addAttribute(&quot;weatherMinTemp&quot;, minTemp);\r\n            model.addAttribute(&quot;weatherMaxTemp&quot;, maxTemp);\r\n            model.addAttribute(&quot;weatherDate&quot;, date);\r\n    \r\n    \r\n            return &quot;home2&quot;;\r\n        }\r\n\r\n\r\n**home2.html**\r\n   \r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;title&gt;Weather API Application&lt;/title&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css&quot; integrity=&quot;sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh&quot; crossorigin=&quot;anonymous&quot;&gt;\r\n    \r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;div class=&quot;container&quot;&gt;\r\n        &lt;h1&gt;Weather Tracker API&lt;/h1&gt;\r\n        &lt;p&gt;Search for the city you want to view weather details&lt;/p&gt;\r\n    \r\n        &lt;table class=&quot;table&quot;&gt;\r\n            &lt;tr&gt;\r\n                &lt;th&gt;\r\n                    City&lt;/th&gt;\r\n                &lt;th&gt;\r\n                    Temperature Now&lt;/th&gt;\r\n                &lt;th&gt;\r\n                    Weather Description&lt;/th&gt;\r\n                &lt;th&gt;\r\n                    Minimum Temperature&lt;/th&gt;\r\n                &lt;th&gt;\r\n                    Maximum Temperature&lt;/th&gt;\r\n                &lt;th&gt;Date&lt;/th&gt;\r\n            &lt;/tr&gt;\r\n    \r\n            &lt;td th:text=&quot;${cityName}&quot;&gt;\r\n            &lt;td th:text=&quot;${weatherTemp}&quot;&gt;\r\n            &lt;td th:text=&quot;${weatherDesc}&quot;&gt;\r\n            &lt;td th:text=&quot;${weatherMinTemp}&quot;&gt;\r\n            &lt;td th:text=&quot;${weatherMaxTemp}&quot;&gt;\r\n            &lt;td th:text=&quot;${weatherDate}&quot;/&gt;\r\n    \r\n        &lt;/table&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n**ForecastWeatherService.java**\r\n   \r\n\r\n     public interface ForecastWeatherService {\r\n        \r\n            public ForecastWeatherModel getForecastInfoByCity(int counter , String cityValue);\r\n        \r\n        }\r\n\r\n**ForecastWeatherServiceImpl.java**\r\n\r\n    @Service\r\n    public class ForecastWeatherServiceImpl implements ForecastWeatherService{\r\n    \r\n        @Value(&quot;${forecast.url}&quot;)\r\n        private String forecastApiBaseUrl;\r\n    \r\n        @Value(&quot;${additional.url}&quot;)\r\n        private String forecastApiAdditionalUrl;\r\n    \r\n    \r\n        @Value(&quot;${api.key}&quot;)\r\n        private String apiKey;\r\n    \r\n        @Autowired\r\n        private RestTemplate restTemplate;\r\n    \r\n    \r\n        @Override\r\n        public ForecastWeatherModel getForecastInfoByCity(int counter , String cityValue) {\r\n    \r\n            ForecastWeatherModel result = restTemplate.getForObject(forecastApiBaseUrl+counter+&quot;&amp;appid=&quot;+apiKey+forecastApiAdditionalUrl+cityValue+&quot;&amp;units=metric&quot; , ForecastWeatherModel.class);\r\n    \r\n            return result;\r\n        }\r\n\r\n**application.properties**\r\n\r\n   \r\n\r\n     external.api.url=  https://api.openweathermap.org/data/2.5/weather?q= \r\n        api.key = ApiKeyExample\r\n        server.port = 8080\r\n        \r\n        # ---------------------------FORECAST---------------------------\r\n        \r\n        forecast.url = https://api.openweathermap.org/data/2.5/forecast?cnt=\r\n        additional.url = &amp;q=\r\n\r\nDo i have to loop inside getInfo method and home2.html or i should make a ForecastWeatherModel List and loop the elements? \r\n","title":"Display a list of weather info in a table (OpenWeather API)","body":"<p>I use OpenWeather API to make an app in which you can search for the city you want to view its weather info(temp,weather description,min temp...). I made this part but i m stuck when i try to add forecast option in which you can see 5 Day / 3 Hour Forecast weather.</p>\n<p><a href=\"https://i.stack.imgur.com/jBMkL.png\" rel=\"nofollow noreferrer\">This is what i receive as a response</a></p>\n<p>The correct response would display a table that shows every 3 hours weather info but now i receive only one row with one date info.</p>\n<p>I tried some loops but didn't work.</p>\n<p><strong>ForecastWeatherController.java</strong></p>\n<pre><code>@Controller\n@RequestMapping(&quot;/&quot;)\npublic class ForecastWeatherController{\n\n\n    @Autowired\n    private ForecastWeatherService forecastWeatherService;\n\n\n    @GetMapping(&quot;/info/{counterValue}/info/{cityValue}&quot;)\n    public String getInfo(@PathVariable(&quot;counterValue&quot;) int counterValue, @PathVariable(&quot;cityValue&quot;) String cityValue , Model model){\n\n        String name = forecastWeatherService.getForecastInfoByCity(counterValue, cityValue).getCity().getName();\n        double temp = forecastWeatherService.getForecastInfoByCity(counterValue, cityValue).getList().listIterator().next().getMain().getTemp();\n        String desc = forecastWeatherService.getForecastInfoByCity(counterValue, cityValue).getList().listIterator().next().getWeather().listIterator().next().getDescription();\n        double minTemp = forecastWeatherService.getForecastInfoByCity(counterValue, cityValue).getList().listIterator().next().getMain().getTemp_min();\n        double maxTemp = forecastWeatherService.getForecastInfoByCity(counterValue, cityValue).getList().listIterator().next().getMain().getTemp_max();\n        String date = forecastWeatherService.getForecastInfoByCity(counterValue, cityValue).getList().listIterator().next().getDt_txt();\n\n        model.addAttribute(&quot;cityName&quot;, name);\n        model.addAttribute(&quot;weatherTemp&quot;, temp);\n        model.addAttribute(&quot;weatherDesc&quot;, desc);\n        model.addAttribute(&quot;weatherMinTemp&quot;, minTemp);\n        model.addAttribute(&quot;weatherMaxTemp&quot;, maxTemp);\n        model.addAttribute(&quot;weatherDate&quot;, date);\n\n\n        return &quot;home2&quot;;\n    }\n</code></pre>\n<p><strong>home2.html</strong></p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Weather API Application&lt;/title&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css&quot; integrity=&quot;sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh&quot; crossorigin=&quot;anonymous&quot;&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class=&quot;container&quot;&gt;\n    &lt;h1&gt;Weather Tracker API&lt;/h1&gt;\n    &lt;p&gt;Search for the city you want to view weather details&lt;/p&gt;\n\n    &lt;table class=&quot;table&quot;&gt;\n        &lt;tr&gt;\n            &lt;th&gt;\n                City&lt;/th&gt;\n            &lt;th&gt;\n                Temperature Now&lt;/th&gt;\n            &lt;th&gt;\n                Weather Description&lt;/th&gt;\n            &lt;th&gt;\n                Minimum Temperature&lt;/th&gt;\n            &lt;th&gt;\n                Maximum Temperature&lt;/th&gt;\n            &lt;th&gt;Date&lt;/th&gt;\n        &lt;/tr&gt;\n\n        &lt;td th:text=&quot;${cityName}&quot;&gt;\n        &lt;td th:text=&quot;${weatherTemp}&quot;&gt;\n        &lt;td th:text=&quot;${weatherDesc}&quot;&gt;\n        &lt;td th:text=&quot;${weatherMinTemp}&quot;&gt;\n        &lt;td th:text=&quot;${weatherMaxTemp}&quot;&gt;\n        &lt;td th:text=&quot;${weatherDate}&quot;/&gt;\n\n    &lt;/table&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>ForecastWeatherService.java</strong></p>\n<pre><code> public interface ForecastWeatherService {\n    \n        public ForecastWeatherModel getForecastInfoByCity(int counter , String cityValue);\n    \n    }\n</code></pre>\n<p><strong>ForecastWeatherServiceImpl.java</strong></p>\n<pre><code>@Service\npublic class ForecastWeatherServiceImpl implements ForecastWeatherService{\n\n    @Value(&quot;${forecast.url}&quot;)\n    private String forecastApiBaseUrl;\n\n    @Value(&quot;${additional.url}&quot;)\n    private String forecastApiAdditionalUrl;\n\n\n    @Value(&quot;${api.key}&quot;)\n    private String apiKey;\n\n    @Autowired\n    private RestTemplate restTemplate;\n\n\n    @Override\n    public ForecastWeatherModel getForecastInfoByCity(int counter , String cityValue) {\n\n        ForecastWeatherModel result = restTemplate.getForObject(forecastApiBaseUrl+counter+&quot;&amp;appid=&quot;+apiKey+forecastApiAdditionalUrl+cityValue+&quot;&amp;units=metric&quot; , ForecastWeatherModel.class);\n\n        return result;\n    }\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code> external.api.url=  https://api.openweathermap.org/data/2.5/weather?q= \n    api.key = ApiKeyExample\n    server.port = 8080\n    \n    # ---------------------------FORECAST---------------------------\n    \n    forecast.url = https://api.openweathermap.org/data/2.5/forecast?cnt=\n    additional.url = &amp;q=\n</code></pre>\n<p>Do i have to loop inside getInfo method and home2.html or i should make a ForecastWeatherModel List and loop the elements?</p>\n"},{"tags":["java","spring","spring-boot","kotlin","spring-kotlin"],"answers":[{"tags":[],"owner":{"account_id":12488260,"reputation":9978,"user_id":9090751,"display_name":"Mafor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665244217,"creation_date":1665244217,"answer_id":73998403,"question_id":73997290,"body_markdown":"One of strategies often used is creating an interface (e.g. `PersonApi` in your case) and moving all swagger annotations there. The actual controller should implement this interface.\r\n\r\nIn regard to the error responses: you may consider adding them programatically to all operations/endpoints using [OpenApiCustomiser](https://github.com/springdoc/springdoc-openapi/issues/381#issuecomment-579583870).","title":"How to reduce or organize swagger declarations with Kotlin","body":"<p>One of strategies often used is creating an interface (e.g. <code>PersonApi</code> in your case) and moving all swagger annotations there. The actual controller should implement this interface.</p>\n<p>In regard to the error responses: you may consider adding them programatically to all operations/endpoints using <a href=\"https://github.com/springdoc/springdoc-openapi/issues/381#issuecomment-579583870\" rel=\"nofollow noreferrer\">OpenApiCustomiser</a>.</p>\n"}],"owner":{"account_id":13797456,"reputation":24,"user_id":9958300,"display_name":"Igor Bittencourt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665244217,"creation_date":1665235001,"question_id":73997290,"body_markdown":"how can I organize the swagger annotations, for example I have an endpoint that catches all the users, so the swagger statements were huge. Is there any way I can organize this in another file to be more organized?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d1Kod.png","title":"How to reduce or organize swagger declarations with Kotlin","body":"<p>how can I organize the swagger annotations, for example I have an endpoint that catches all the users, so the swagger statements were huge. Is there any way I can organize this in another file to be more organized?</p>\n<p><a href=\"https://i.stack.imgur.com/d1Kod.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d1Kod.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","validation","spring-mvc","javax.validation"],"comments":[{"owner":{"account_id":5128092,"reputation":890,"user_id":5700434,"accept_rate":50,"display_name":"Sasuke Uchiha"},"score":0,"creation_date":1665229271,"post_id":73996455,"comment_id":130653724,"body_markdown":"you can create your own custom validation\nhttps://www.baeldung.com/spring-mvc-custom-validator","body":"you can create your own custom validation <a href=\"https://www.baeldung.com/spring-mvc-custom-validator\" rel=\"nofollow noreferrer\">baeldung.com/spring-mvc-custom-validator</a>"},{"owner":{"account_id":5749694,"reputation":397,"user_id":4539789,"display_name":"Mayur Gite"},"score":0,"creation_date":1665241880,"post_id":73996455,"comment_id":130656069,"body_markdown":"@SasukeUchiha - I tried that but validator&#39;s isValid() method returns true/false, which is not solving my multi-validation  problem.","body":"@SasukeUchiha - I tried that but validator&#39;s isValid() method returns true/false, which is not solving my multi-validation  problem."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1667566124,"post_id":73996455,"comment_id":131202455,"body_markdown":"@MayurGite did you check my answer?","body":"@MayurGite did you check my answer?"}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665244164,"creation_date":1665243861,"answer_id":73998358,"question_id":73996455,"body_markdown":"`NotBlank` is a combination of both functionalities that `NotNull` and `NotEmpty` validate. Therefore `@NotBlank` will fire both when the bound pathVariable is `null` and when `empty`.\r\n\r\nSince you already have `@Size(min = 1, max = 3, message = &quot;Invalid input size&quot;)` you are already checking if `not empty`. This annotation will fire at the same time with `@NotBlank` in case the pathVariable is `empty` string.\r\n\r\nSo you only need a different constraint validation for when it is `null`, so that the 2 annotations that enforce constraints do not override each other. \r\n\r\nAs a solution you can replace `@NotBlank` with `@NotNull`.\r\n\r\n    @PathVariable(name = &quot;id&quot;)\r\n      @NotNull(message = &quot;Missing required field&quot;)\r\n      @Size(min = 1, max = 3, message = &quot;Invalid input size&quot;)\r\n    String id","title":"Multiple javax.validation.constraints validations on @PathVariable","body":"<p><code>NotBlank</code> is a combination of both functionalities that <code>NotNull</code> and <code>NotEmpty</code> validate. Therefore <code>@NotBlank</code> will fire both when the bound pathVariable is <code>null</code> and when <code>empty</code>.</p>\n<p>Since you already have <code>@Size(min = 1, max = 3, message = &quot;Invalid input size&quot;)</code> you are already checking if <code>not empty</code>. This annotation will fire at the same time with <code>@NotBlank</code> in case the pathVariable is <code>empty</code> string.</p>\n<p>So you only need a different constraint validation for when it is <code>null</code>, so that the 2 annotations that enforce constraints do not override each other.</p>\n<p>As a solution you can replace <code>@NotBlank</code> with <code>@NotNull</code>.</p>\n<pre><code>@PathVariable(name = &quot;id&quot;)\n  @NotNull(message = &quot;Missing required field&quot;)\n  @Size(min = 1, max = 3, message = &quot;Invalid input size&quot;)\nString id\n</code></pre>\n"}],"owner":{"account_id":5749694,"reputation":397,"user_id":4539789,"display_name":"Mayur Gite"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73998358,"answer_count":1,"score":2,"last_activity_date":1665244164,"creation_date":1665227077,"question_id":73996455,"body_markdown":"I am applying multiple validations on path variable \r\n\r\n    @PathVariable(name = &quot;id&quot;)\r\n      @NotBlank(message = &quot;Missing required field&quot;)\r\n      @Size(min = 1, max = 3, message = &quot;Invalid input size&quot;)\r\n    String id\r\n\r\nNow, when I am sending empty string in path param then I am getting both messages because both validations are failing.\r\n\r\nFor my param **id**, I want both validations but it should not throw both error messages at a time when I am sending empty string.\r\n\r\nI want it to throw only \r\n\r\n&gt; &quot;Missing required field&quot;\r\n\r\nand not both.\r\n","title":"Multiple javax.validation.constraints validations on @PathVariable","body":"<p>I am applying multiple validations on path variable</p>\n<pre><code>@PathVariable(name = &quot;id&quot;)\n  @NotBlank(message = &quot;Missing required field&quot;)\n  @Size(min = 1, max = 3, message = &quot;Invalid input size&quot;)\nString id\n</code></pre>\n<p>Now, when I am sending empty string in path param then I am getting both messages because both validations are failing.</p>\n<p>For my param <strong>id</strong>, I want both validations but it should not throw both error messages at a time when I am sending empty string.</p>\n<p>I want it to throw only</p>\n<blockquote>\n<p>&quot;Missing required field&quot;</p>\n</blockquote>\n<p>and not both.</p>\n"},{"tags":["java","xml","gradle","javafx","jlink"],"answers":[{"tags":[],"owner":{"account_id":1351225,"reputation":507,"user_id":1290778,"accept_rate":100,"display_name":"phanteh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665244023,"creation_date":1665244023,"answer_id":73998378,"question_id":73997099,"body_markdown":"So I managed to fix my issue after a little more time... Typical!\r\n\r\nIf anyone else happens across this, it was indeed due to a missing transitive dependency. Looking at my project&#39;s dependencies (using VS Code):\r\n\r\n[![dependency view][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Rx9dn.jpg\r\n\r\nLooking at the `module-info` for `woodstox-core` I found:\r\n\r\n```\r\nmodule-info module com.ctc.wstx  {\r\n  ...\r\n  provides javax.xml.stream.XMLEventFactory with com.ctc.wstx.stax.WstxEventFactory;\r\n  provides javax.xml.stream.XMLInputFactory with com.ctc.wstx.stax.WstxInputFactory;\r\n  provides javax.xml.stream.XMLOutputFactory with com.ctc.wstx.stax.WstxOutputFactory;\r\n  ...\r\n}\r\n```\r\n\r\nAnd so, I have fixed the issue by adding this to my module&#39;s `module-info`:\r\n\r\n```\r\nmodule expmanager {\r\n    ...\r\n    requires transitive com.ctc.wstx;\r\n    ...\r\n}\r\n```","title":"JLink XML dependency issue","body":"<p>So I managed to fix my issue after a little more time... Typical!</p>\n<p>If anyone else happens across this, it was indeed due to a missing transitive dependency. Looking at my project's dependencies (using VS Code):</p>\n<p><a href=\"https://i.stack.imgur.com/Rx9dn.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rx9dn.jpg\" alt=\"dependency view\" /></a></p>\n<p>Looking at the <code>module-info</code> for <code>woodstox-core</code> I found:</p>\n<pre><code>module-info module com.ctc.wstx  {\n  ...\n  provides javax.xml.stream.XMLEventFactory with com.ctc.wstx.stax.WstxEventFactory;\n  provides javax.xml.stream.XMLInputFactory with com.ctc.wstx.stax.WstxInputFactory;\n  provides javax.xml.stream.XMLOutputFactory with com.ctc.wstx.stax.WstxOutputFactory;\n  ...\n}\n</code></pre>\n<p>And so, I have fixed the issue by adding this to my module's <code>module-info</code>:</p>\n<pre><code>module expmanager {\n    ...\n    requires transitive com.ctc.wstx;\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":1351225,"reputation":507,"user_id":1290778,"accept_rate":100,"display_name":"phanteh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73998378,"answer_count":1,"score":2,"last_activity_date":1665244023,"creation_date":1665233207,"question_id":73997099,"body_markdown":"So I recently took a Java job and needed a project to brush up on my Java skills (been a few years). I started writing a JavaFX app - some game mod tooling, essentially - and used JLink / plugin to make sure I could build a standalone executable. This all went smoothly and I started developing my app. I&#39;ve now tried to build an executable for a friend to help test out, and I&#39;ve hit a dependency issue when I run the app as an executable or from the packaged jar file:\r\n\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; javax.xml.stream.FactoryConfigurationError: Provider for javax.xml.stream.XMLInputFactory cannot be found\r\n        at java.xml/javax.xml.stream.FactoryFinder.find(Unknown Source)\r\n        at java.xml/javax.xml.stream.XMLInputFactory.newFactory(Unknown Source)\r\n        at com.fasterxml.jackson.dataformat.xml@2.13.4/com.fasterxml.jackson.dataformat.xml.XmlFactory.&lt;init&gt;(Unknown Source)\r\n        at com.fasterxml.jackson.dataformat.xml@2.13.4/com.fasterxml.jackson.dataformat.xml.XmlFactory.&lt;init&gt;(Unknown Source)\r\n        at com.fasterxml.jackson.dataformat.xml@2.13.4/com.fasterxml.jackson.dataformat.xml.XmlFactory.&lt;init&gt;(Unknown Source)\r\n        at com.fasterxml.jackson.dataformat.xml@2.13.4/com.fasterxml.jackson.dataformat.xml.XmlMapper.&lt;init&gt;(Unknown Source)\r\n        at expmanager/expmanager.data.FileManager.&lt;init&gt;(Unknown Source)\r\n        at expmanager/expmanager.project.Project.&lt;init&gt;(Unknown Source)\r\n        at expmanager/expmanager.controller.SelectorController.handleLoadClick(Unknown Source)\r\n```\r\nMy module-info.java:\r\n```java\r\nmodule expmanager {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires com.fasterxml.jackson.core;\r\n    requires com.fasterxml.jackson.dataformat.xml;\r\n    requires com.fasterxml.jackson.databind;\r\n    requires transitive javafx.graphics;\r\n\r\n    opens expmanager.controller to javafx.fxml;\r\n    opens expmanager.controller.listItem to javafx.fxml;\r\n    opens expmanager.controller.tab to javafx.fxml;\r\n    opens expmanager.controller.component to javafx.fxml;\r\n    opens expmanager.data.itemtypes to com.fasterxml.jackson.databind;\r\n    opens expmanager.data.core to com.fasterxml.jackson.databind;\r\n    opens expmanager.data.expansion to com.fasterxml.jackson.databind;\r\n    opens expmanager.project.expansion to javafx.base;\r\n    opens expmanager.project.mission to javafx.base;\r\n\r\n    exports expmanager;\r\n    exports expmanager.data.core;\r\n    exports expmanager.data.itemtypes;\r\n    exports expmanager.data.expansion;\r\n    exports expmanager.project;\r\n    exports expmanager.project.expansion;\r\n    exports expmanager.project.mission;\r\n}\r\n```\r\nAnd build.gradle:\r\n```groovy\r\nplugins {\r\n  id &#39;application&#39;\r\n  id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.10&#39;\r\n  id &#39;org.beryx.jlink&#39; version &#39;2.25.0&#39;\r\n  id &quot;com.diffplug.spotless&quot; version &quot;6.11.0&quot;\r\n}\r\n\r\nspotless {\r\n    ratchetFrom &#39;main&#39;\r\n    java {\r\n        eclipse().configFile(&#39;formatter.xml&#39;)\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\njavafx {\r\n    version = &quot;19&quot;\r\n    modules = [ &#39;javafx.controls&#39;, &#39;javafx.fxml&#39; ]\r\n}\r\n\r\napplication {\r\n    mainClass = &quot;expmanager.SelectorApp&quot;\r\n    mainModule = &quot;expmanager&quot;\r\n}\r\n\r\njlink {\r\n    options = [&#39;--strip-debug&#39;, &#39;--compress&#39;, &#39;2&#39;, &#39;--no-header-files&#39;, &#39;--no-man-pages&#39;]\r\n    mergedModule {\r\n        requires &#39;java.xml&#39;\r\n    }\r\n    launcher {\r\n        name = &#39;expmanager&#39;\r\n    }\r\n    jpackage {\r\n        imageOptions = [&#39;--win-console&#39;]\r\n        skipInstaller = &#39;true&#39;\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;com.fasterxml.jackson.core:jackson-core:2.13.4&#39;\r\n    implementation &#39;com.fasterxml.jackson.core:jackson-databind:2.13.4&#39;\r\n    implementation &#39;com.fasterxml.jackson.core:jackson-annotations:2.13.4&#39;\r\n    implementation &#39;com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.13.4&#39;\r\n}\r\n```\r\n\r\nThe app works perfectly when I `run`. Based on some googling, I have tried including `java.xml` as a `mergedModule` but this has no effect. Attempting to do the same with the missing library throws errors, as does attempting to add it as a dependency to gradle.\r\n\r\nThis is my first time using j-link, j-modules etc. any help diagnosing this would be appreciated!","title":"JLink XML dependency issue","body":"<p>So I recently took a Java job and needed a project to brush up on my Java skills (been a few years). I started writing a JavaFX app - some game mod tooling, essentially - and used JLink / plugin to make sure I could build a standalone executable. This all went smoothly and I started developing my app. I've now tried to build an executable for a friend to help test out, and I've hit a dependency issue when I run the app as an executable or from the packaged jar file:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; javax.xml.stream.FactoryConfigurationError: Provider for javax.xml.stream.XMLInputFactory cannot be found\n        at java.xml/javax.xml.stream.FactoryFinder.find(Unknown Source)\n        at java.xml/javax.xml.stream.XMLInputFactory.newFactory(Unknown Source)\n        at com.fasterxml.jackson.dataformat.xml@2.13.4/com.fasterxml.jackson.dataformat.xml.XmlFactory.&lt;init&gt;(Unknown Source)\n        at com.fasterxml.jackson.dataformat.xml@2.13.4/com.fasterxml.jackson.dataformat.xml.XmlFactory.&lt;init&gt;(Unknown Source)\n        at com.fasterxml.jackson.dataformat.xml@2.13.4/com.fasterxml.jackson.dataformat.xml.XmlFactory.&lt;init&gt;(Unknown Source)\n        at com.fasterxml.jackson.dataformat.xml@2.13.4/com.fasterxml.jackson.dataformat.xml.XmlMapper.&lt;init&gt;(Unknown Source)\n        at expmanager/expmanager.data.FileManager.&lt;init&gt;(Unknown Source)\n        at expmanager/expmanager.project.Project.&lt;init&gt;(Unknown Source)\n        at expmanager/expmanager.controller.SelectorController.handleLoadClick(Unknown Source)\n</code></pre>\n<p>My module-info.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>module expmanager {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires com.fasterxml.jackson.core;\n    requires com.fasterxml.jackson.dataformat.xml;\n    requires com.fasterxml.jackson.databind;\n    requires transitive javafx.graphics;\n\n    opens expmanager.controller to javafx.fxml;\n    opens expmanager.controller.listItem to javafx.fxml;\n    opens expmanager.controller.tab to javafx.fxml;\n    opens expmanager.controller.component to javafx.fxml;\n    opens expmanager.data.itemtypes to com.fasterxml.jackson.databind;\n    opens expmanager.data.core to com.fasterxml.jackson.databind;\n    opens expmanager.data.expansion to com.fasterxml.jackson.databind;\n    opens expmanager.project.expansion to javafx.base;\n    opens expmanager.project.mission to javafx.base;\n\n    exports expmanager;\n    exports expmanager.data.core;\n    exports expmanager.data.itemtypes;\n    exports expmanager.data.expansion;\n    exports expmanager.project;\n    exports expmanager.project.expansion;\n    exports expmanager.project.mission;\n}\n</code></pre>\n<p>And build.gradle:</p>\n<pre><code>plugins {\n  id 'application'\n  id 'org.openjfx.javafxplugin' version '0.0.10'\n  id 'org.beryx.jlink' version '2.25.0'\n  id &quot;com.diffplug.spotless&quot; version &quot;6.11.0&quot;\n}\n\nspotless {\n    ratchetFrom 'main'\n    java {\n        eclipse().configFile('formatter.xml')\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\njavafx {\n    version = &quot;19&quot;\n    modules = [ 'javafx.controls', 'javafx.fxml' ]\n}\n\napplication {\n    mainClass = &quot;expmanager.SelectorApp&quot;\n    mainModule = &quot;expmanager&quot;\n}\n\njlink {\n    options = ['--strip-debug', '--compress', '2', '--no-header-files', '--no-man-pages']\n    mergedModule {\n        requires 'java.xml'\n    }\n    launcher {\n        name = 'expmanager'\n    }\n    jpackage {\n        imageOptions = ['--win-console']\n        skipInstaller = 'true'\n    }\n}\n\ndependencies {\n    implementation 'com.fasterxml.jackson.core:jackson-core:2.13.4'\n    implementation 'com.fasterxml.jackson.core:jackson-databind:2.13.4'\n    implementation 'com.fasterxml.jackson.core:jackson-annotations:2.13.4'\n    implementation 'com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.13.4'\n}\n</code></pre>\n<p>The app works perfectly when I <code>run</code>. Based on some googling, I have tried including <code>java.xml</code> as a <code>mergedModule</code> but this has no effect. Attempting to do the same with the missing library throws errors, as does attempting to add it as a dependency to gradle.</p>\n<p>This is my first time using j-link, j-modules etc. any help diagnosing this would be appreciated!</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","entitymanager"],"comments":[{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1665044618,"post_id":73954014,"comment_id":130608228,"body_markdown":"Why do you manually create the entitymanager and control transactions in the first place?","body":"Why do you manually create the entitymanager and control transactions in the first place?"},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1665044683,"post_id":73954014,"comment_id":130608251,"body_markdown":"Please ask only one question per post.","body":"Please ask only one question per post."},{"owner":{"account_id":20573497,"reputation":81,"user_id":15101302,"display_name":"Michael Bat"},"score":0,"creation_date":1665244268,"post_id":73954014,"comment_id":130656592,"body_markdown":"@JensSchauder, because I want to receive the new Entity id, but to not commit it yet. If I use Transactional annotation, the new created entity will automatically be saved. But I want first to build the entity, upload it&#39;s image to s3, and then after doing some additional processes, to save the entity.","body":"@JensSchauder, because I want to receive the new Entity id, but to not commit it yet. If I use Transactional annotation, the new created entity will automatically be saved. But I want first to build the entity, upload it&#39;s image to s3, and then after doing some additional processes, to save the entity."}],"owner":{"account_id":20573497,"reputation":81,"user_id":15101302,"display_name":"Michael Bat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665243997,"creation_date":1664920811,"question_id":73954014,"body_markdown":"I have a simple situation and don&#39;t know what method/solution is better in performance. \r\n\r\n**In the following current method:** \r\n 1. I am persisting the entity in order to receive the entity id in order to upload it to s3. I am getting the id with help of Lifecycle.\r\n 2. If I generate entity id using UUID.randomUUID().toString() -&gt; spring boot will generate an additional MySQL &#39;select statement&#39; before insertion which would affect the application performance.\r\n 3. When I use emf.createEntityManager(), a new Database connection is created. And the hikari pool size freeze after a while, due to active not closed connections.\r\n\r\n\r\n**Questions:** \r\nHow is it possible to configure EntityManagerFactory, so it uses the current database connection, instead of opening a new one ? \r\n\r\n        private ProductImage addProductImage(Product product, String url, Boolean uploadImageToS3) {\r\n        EntityManager em = emf.createEntityManager();\r\n        String productImageUrl = null;\r\n        String productImageId = null;\r\n        try {\r\n            EntityTransaction transaction = em.getTransaction();\r\n            transaction.begin();\r\n\r\n            ProductImage productImage = new ProductImage();\r\n            productImage.setOriginalUrl(url);\r\n\r\n            InputStream inputStream = null;\r\n            if(uploadImageToS3) {\r\n                inputStream = getInputStreamFromUrl(url);\r\n                productImage.setSize(getInputStreamSizeOrZero(inputStream));\r\n                productImage.setS3BucketAndEndpoint(storageProperties.getStorageS3ImagesBucketName() + &quot;.&quot; + storageProperties.getStorageS3EndPoint());\r\n                productImage.setS3FolderName(S3FolderName.PRODUCTS);\r\n                productImage.setS3Size(S3Size.FULL);\r\n                productImage.setS3Production(storageProperties.getStorageS3Production());\r\n                productImage.setS3CloudFrontDomain(storageProperties.getStorageS3CloudFrontDomain());\r\n            } else {\r\n                productImage.setUri(url);\r\n            }\r\n\r\n            em.persist(productImage);\r\n            productImageId = productImage.getId();\r\n\r\n            if(uploadImageToS3) {\r\n                productImageUrl = s3StorageService.uploadImage(inputStream, S3FolderName.PRODUCTS, productImageId, S3Size.FULL, allowedImageFormat);\r\n                try {\r\n                    inputStream.close();\r\n                } catch (IOException e) {\r\n                    throw new CustomGraphQLException(&quot;Input stream of the product image could not be closed.&quot;);\r\n                } finally {\r\n                    em.close();\r\n                }\r\n            } else {\r\n                em.close();\r\n            }\r\n            return productImage;\r\n        } catch (Exception e) {\r\n            em.getTransaction().rollback();\r\n            em.close();\r\n            if(productImageUrl!=null &amp;&amp; uploadImageToS3) {\r\n                s3StorageService.deleteImage(S3FolderName.PRODUCTS, productImageId , S3Size.FULL, allowedImageFormat);\r\n            }\r\n            throw new CustomGraphQLException(&quot;Product image could not be inserted. &quot; + e.getMessage());\r\n        }","title":"Spring boot - Multiple Database connections generated by entityManagerFactory.createEntityManager();","body":"<p>I have a simple situation and don't know what method/solution is better in performance.</p>\n<p><strong>In the following current method:</strong></p>\n<ol>\n<li>I am persisting the entity in order to receive the entity id in order to upload it to s3. I am getting the id with help of Lifecycle.</li>\n<li>If I generate entity id using UUID.randomUUID().toString() -&gt; spring boot will generate an additional MySQL 'select statement' before insertion which would affect the application performance.</li>\n<li>When I use emf.createEntityManager(), a new Database connection is created. And the hikari pool size freeze after a while, due to active not closed connections.</li>\n</ol>\n<p><strong>Questions:</strong>\nHow is it possible to configure EntityManagerFactory, so it uses the current database connection, instead of opening a new one ?</p>\n<pre><code>    private ProductImage addProductImage(Product product, String url, Boolean uploadImageToS3) {\n    EntityManager em = emf.createEntityManager();\n    String productImageUrl = null;\n    String productImageId = null;\n    try {\n        EntityTransaction transaction = em.getTransaction();\n        transaction.begin();\n\n        ProductImage productImage = new ProductImage();\n        productImage.setOriginalUrl(url);\n\n        InputStream inputStream = null;\n        if(uploadImageToS3) {\n            inputStream = getInputStreamFromUrl(url);\n            productImage.setSize(getInputStreamSizeOrZero(inputStream));\n            productImage.setS3BucketAndEndpoint(storageProperties.getStorageS3ImagesBucketName() + &quot;.&quot; + storageProperties.getStorageS3EndPoint());\n            productImage.setS3FolderName(S3FolderName.PRODUCTS);\n            productImage.setS3Size(S3Size.FULL);\n            productImage.setS3Production(storageProperties.getStorageS3Production());\n            productImage.setS3CloudFrontDomain(storageProperties.getStorageS3CloudFrontDomain());\n        } else {\n            productImage.setUri(url);\n        }\n\n        em.persist(productImage);\n        productImageId = productImage.getId();\n\n        if(uploadImageToS3) {\n            productImageUrl = s3StorageService.uploadImage(inputStream, S3FolderName.PRODUCTS, productImageId, S3Size.FULL, allowedImageFormat);\n            try {\n                inputStream.close();\n            } catch (IOException e) {\n                throw new CustomGraphQLException(&quot;Input stream of the product image could not be closed.&quot;);\n            } finally {\n                em.close();\n            }\n        } else {\n            em.close();\n        }\n        return productImage;\n    } catch (Exception e) {\n        em.getTransaction().rollback();\n        em.close();\n        if(productImageUrl!=null &amp;&amp; uploadImageToS3) {\n            s3StorageService.deleteImage(S3FolderName.PRODUCTS, productImageId , S3Size.FULL, allowedImageFormat);\n        }\n        throw new CustomGraphQLException(&quot;Product image could not be inserted. &quot; + e.getMessage());\n    }\n</code></pre>\n"},{"tags":["java","json","gson"],"answers":[{"tags":[],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665242781,"creation_date":1665242781,"answer_id":73998215,"question_id":73998014,"body_markdown":"First thing I don&#39;t know is how one can define a class like this `Class User() {}`.\r\n\r\nYou can use this class `com.fasterxml.jackson.databind.ObjectMapper` to convert a reference to a JSON, and you can pass a `List&lt;User&gt;` to get the JSON array\r\n\r\n\r\n    public static String asJsonString(final Object obj) {\r\n    \ttry {\r\n    \t\treturn new ObjectMapper().writeValueAsString(obj);\r\n    \t} catch (Exception e) {\r\n    \t\tSystem.out.println(&quot;Cannot convert to JSON&quot;);\r\n    \t}\r\n    }\r\n\r\nThis is a sample main method\r\n\r\n    public static void main(String[] args) {\r\n    \tSystem.out.println(asJsonString(new User(&quot;John&quot;, &quot;Doe&quot;, 100, 200)));\r\n    \t\r\n    \tUser user1 = new User(&quot;John&quot;, &quot;Doe&quot;, 100, 200);\r\n    \tUser user2 = new User(&quot;John&quot;, &quot;Snow&quot;, 200, 300);\r\n    \tUser user3 = new User(&quot;John&quot;, &quot;Pit&quot;, 300, 400);\r\n    \t\r\n    \tList&lt;User&gt; list = new ArrayList&lt;User&gt;();\r\n    \tlist.add(user1);\r\n    \tlist.add(user2);\r\n    \tlist.add(user3);\r\n    \t\r\n    \tSystem.out.println(asJsonString(list));\r\n    }\r\n\r\nThis will be the respective output\r\n\r\n    {&quot;name&quot;:&quot;John&quot;,&quot;lastName&quot;:&quot;Doe&quot;,&quot;num&quot;:100,&quot;numb&quot;:200}\r\n    [{&quot;name&quot;:&quot;John&quot;,&quot;lastName&quot;:&quot;Doe&quot;,&quot;num&quot;:100,&quot;numb&quot;:200},{&quot;name&quot;:&quot;John&quot;,&quot;lastName&quot;:&quot;Snow&quot;,&quot;num&quot;:200,&quot;numb&quot;:300},{&quot;name&quot;:&quot;John&quot;,&quot;lastName&quot;:&quot;Pit&quot;,&quot;num&quot;:300,&quot;numb&quot;:400}]\r\n\r\n","title":"How to transform a JSONarray to a JSONObject in Java","body":"<p>First thing I don't know is how one can define a class like this <code>Class User() {}</code>.</p>\n<p>You can use this class <code>com.fasterxml.jackson.databind.ObjectMapper</code> to convert a reference to a JSON, and you can pass a <code>List&lt;User&gt;</code> to get the JSON array</p>\n<pre><code>public static String asJsonString(final Object obj) {\n    try {\n        return new ObjectMapper().writeValueAsString(obj);\n    } catch (Exception e) {\n        System.out.println(&quot;Cannot convert to JSON&quot;);\n    }\n}\n</code></pre>\n<p>This is a sample main method</p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(asJsonString(new User(&quot;John&quot;, &quot;Doe&quot;, 100, 200)));\n    \n    User user1 = new User(&quot;John&quot;, &quot;Doe&quot;, 100, 200);\n    User user2 = new User(&quot;John&quot;, &quot;Snow&quot;, 200, 300);\n    User user3 = new User(&quot;John&quot;, &quot;Pit&quot;, 300, 400);\n    \n    List&lt;User&gt; list = new ArrayList&lt;User&gt;();\n    list.add(user1);\n    list.add(user2);\n    list.add(user3);\n    \n    System.out.println(asJsonString(list));\n}\n</code></pre>\n<p>This will be the respective output</p>\n<pre><code>{&quot;name&quot;:&quot;John&quot;,&quot;lastName&quot;:&quot;Doe&quot;,&quot;num&quot;:100,&quot;numb&quot;:200}\n[{&quot;name&quot;:&quot;John&quot;,&quot;lastName&quot;:&quot;Doe&quot;,&quot;num&quot;:100,&quot;numb&quot;:200},{&quot;name&quot;:&quot;John&quot;,&quot;lastName&quot;:&quot;Snow&quot;,&quot;num&quot;:200,&quot;numb&quot;:300},{&quot;name&quot;:&quot;John&quot;,&quot;lastName&quot;:&quot;Pit&quot;,&quot;num&quot;:300,&quot;numb&quot;:400}]\n</code></pre>\n"}],"owner":{"account_id":26564771,"reputation":1,"user_id":20192026,"display_name":"Pokahondas33"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665243336,"creation_date":1665241285,"question_id":73998014,"body_markdown":"I know this has been asked a lot but i really can&#39;t find any working solution.\r\n\r\nI am requesting an API and if i print the parameter \r\n\r\n```\r\nString result = api.Request();\r\nSystem.out.println(result);\r\n```\r\n\r\nThe respose is in the following form:\r\n\r\n```\r\n    [\r\n        [ Jon, Doe , 18 , 18],\r\n        [ Jon, Doe , 18 , 18],\r\n        [ Jon, Doe , 18 , 18]\r\n    ]\r\n```\r\nAt the moment a working solution i have is \r\n```   \r\n   JSONArray arr = new JSONArray(result);\r\n   User user = new User(arr.getJSONArray(i).get(j).....)\r\n   You get the point\r\n```\r\n\r\n```\r\n    Class User\r\n    {\r\n       public String name;\r\n       public String lastName;\r\n       public int num;\r\n       public int numb;\r\n      //getters setters\r\n    }\r\n```\r\n\r\nI want to use gson or something else to tranform my JSONArray to a Java object.\r\n```\r\n     User[] user = new Gson().fromJson(result,User[].class);\r\n```\r\n\r\n```\r\n     expected BEGIN_OBJECT but was BEGIN_ARRAY\r\n\r\n```\r\nAny help is appreciated. \r\n","title":"How to transform a JSONarray to a JSONObject in Java","body":"<p>I know this has been asked a lot but i really can't find any working solution.</p>\n<p>I am requesting an API and if i print the parameter</p>\n<pre><code>String result = api.Request();\nSystem.out.println(result);\n</code></pre>\n<p>The respose is in the following form:</p>\n<pre><code>    [\n        [ Jon, Doe , 18 , 18],\n        [ Jon, Doe , 18 , 18],\n        [ Jon, Doe , 18 , 18]\n    ]\n</code></pre>\n<p>At the moment a working solution i have is</p>\n<pre><code>   JSONArray arr = new JSONArray(result);\n   User user = new User(arr.getJSONArray(i).get(j).....)\n   You get the point\n</code></pre>\n<pre><code>    Class User\n    {\n       public String name;\n       public String lastName;\n       public int num;\n       public int numb;\n      //getters setters\n    }\n</code></pre>\n<p>I want to use gson or something else to tranform my JSONArray to a Java object.</p>\n<pre><code>     User[] user = new Gson().fromJson(result,User[].class);\n</code></pre>\n<pre><code>     expected BEGIN_OBJECT but was BEGIN_ARRAY\n\n</code></pre>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","oracle","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1665243377,"post_id":73998206,"comment_id":130656380,"body_markdown":"Probably the sequence named &quot;hibernate_sequence&quot; is missing in your schema.\nBetter to use &quot;strategy = GenerationType.SEQUENCE&quot; and have a different sequence per entity.","body":"Probably the sequence named &quot;hibernate_sequence&quot; is missing in your schema. Better to use &quot;strategy = GenerationType.SEQUENCE&quot; and have a different sequence per entity."},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1665384943,"post_id":73998206,"comment_id":130678839,"body_markdown":"@p3consulting Why would that be better?","body":"@p3consulting Why would that be better?"},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1665386816,"post_id":73998206,"comment_id":130679394,"body_markdown":"One sequence per entity: you control the name, DB schema and application easier to refactor, DB schema easier to reuse in other context, less likely to reach the MAX of the sequence, ... matter of taste if you like...","body":"One sequence per entity: you control the name, DB schema and application easier to refactor, DB schema easier to reuse in other context, less likely to reach the MAX of the sequence, ... matter of taste if you like..."}],"owner":{"account_id":9656555,"reputation":221,"user_id":7165917,"accept_rate":56,"display_name":"jane"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665242675,"creation_date":1665242675,"question_id":73998206,"body_markdown":"**I am trying to perform regular CRUD operations using Spring data JPA on an oracle database. Here are the details:**\r\n\r\n**1. Entity details:**\r\n\r\n\r\n\r\n    @Entity\r\n    @Table\r\n    public class Employee {\r\n\r\n    private long id;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String emailId;\r\n \r\n    public Employee() {\r\n  \r\n    }\r\n \r\n    public Employee(String firstName, String lastName, String emailId) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.emailId = emailId;\r\n    }\r\n \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    public long getId() {\r\n        return id;\r\n    }\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n \r\n    @Column(name = &quot;first_name&quot;, nullable = false)\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n \r\n    @Column(name = &quot;last_name&quot;, nullable = false)\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n \r\n    @Column(name = &quot;email_address&quot;, nullable = false)\r\n    public String getEmailId() {\r\n        return emailId;\r\n    }\r\n    public void setEmailId(String emailId) {\r\n        this.emailId = emailId;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Employee [id=&quot; + id + &quot;, firstName=&quot; + firstName + &quot;, lastName=&quot; + lastName + &quot;, emailId=&quot; + emailId\r\n    + &quot;]&quot;;\r\n    }\r\n \r\n}\r\n\r\n\r\n\r\n\r\n\r\n**2. Here is my Runner :**\r\n\r\n\r\n        @Component\r\n    public class MyRunner implements CommandLineRunner {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(MyRunner.class);\r\n\r\n    @Autowired\r\n    private EmployeeRepository employeeRepository;\r\n\r\n    @Override\r\n    public void run(String...args) throws Exception {\r\n\r\n        employeeRepository.save(new Employee(&quot;Ramesh&quot;, &quot;Fadatare&quot;, &quot;ramesh@gmail.com&quot;));\r\n        employeeRepository.save(new Employee(&quot;Tom&quot;, &quot;Cruise&quot;, &quot;tom@gmail.com&quot;));\r\n        employeeRepository.save(new Employee(&quot;John&quot;, &quot;Cena&quot;, &quot;john@gmail.com&quot;));\r\n        employeeRepository.save(new Employee(&quot;tony&quot;, &quot;stark&quot;, &quot;stark@gmail.com&quot;));\r\n\r\n        logger.info(&quot;# of employees: {}&quot;, employeeRepository.count());\r\n\r\n        logger.info(&quot;All employees unsorted:&quot;);\r\n\r\n        Iterable &lt; Employee &gt; employees = employeeRepository.findAll();\r\n        Iterator &lt; Employee &gt; iterator = employees.iterator();\r\n        while (iterator.hasNext()) {\r\n            logger.info(&quot;{}&quot;, iterator.next().toString());\r\n        }\r\n\r\n        logger.info(&quot;------------------------&quot;);\r\n\r\n            logger.info(&quot;Deleting employee with id 1&quot;);\r\n    //        employeeRepository.deleteById(1 L);\r\n    \r\n            logger.info(&quot;# of employees: {}&quot;, employeeRepository.count());\r\n    \r\n    //        employeeRepository.existsById(2 L);\r\n    //        employeeRepository.findById(2 L);\r\n            \r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nHere is the table thats getting created by name &quot;HTE_EMPLOYEES&quot; :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ri060.png\r\n\r\n\r\n\r\n\r\n\r\n**I am getting error due to which its not able to fetch the details or write entries to the table of the repo.Any idea on where is the mistake ? Thanks in advance.**\r\n\r\n**Logs :**\r\n\r\n2022-10-08T19:22:23.131+05:30 ERROR 51791 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:791) ~[spring-boot-3.0.0-M5.jar:3.0.0-M5]\r\n\tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:772) ~[spring-boot-3.0.0-M5.jar:3.0.0-M5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:321) ~[spring-boot-3.0.0-M5.jar:3.0.0-M5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1323) ~[spring-boot-3.0.0-M5.jar:3.0.0-M5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-3.0.0-M5.jar:3.0.0-M5]\r\n\tat com.example.JPAReadFromOracle.Application.main(Application.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.0-M5.jar:3.0.0-M5]\r\nCaused by: org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:257) ~[spring-orm-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550) ~[spring-orm-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163) ~[spring-data-jpa-3.0.0-M6.jar:3.0.0-M6]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:221) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\r\n\tat jdk.proxy4/jdk.proxy4.$Proxy100.save(Unknown Source) ~[na:na]\r\n\tat com.example.JPAReadFromOracle.MyRunner.run(MyRunner.java:25) ~[classes/:na]\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788) ~[spring-boot-3.0.0-M5.jar:3.0.0-M5]\r\n\t... 10 common frames omitted\r\n**Caused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet**\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:64) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:67) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n\tat org.hibernate.id.enhanced.SequenceStructure$1.getNextValue(SequenceStructure.java:102) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n\tat org.hibernate.id.enhanced.PooledOptimizer.generate(PooledOptimizer.java:73) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n\tat org.hibernate.id.enhanced.SequenceStyleGenerator.generate(SequenceStyleGenerator.java:536) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:114) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:184) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:129) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:53) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:735) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:719) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-6.0.0-M6.jar:6.0.0-M6]\r\n\tat jdk.proxy4/jdk.proxy4.$Proxy97.persist(Unknown Source) ~[na:na]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:610) ~[spring-data-jpa-3.0.0-M6.jar:3.0.0-M6]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:135) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.0-M6.jar:6.0.0-M6]\r\n\t... 19 common frames omitted\r\n**Caused by: java.sql.SQLSyntaxErrorException: ORA-02289: sequence does not exist**\r\nat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:629) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\r\nat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:563) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\r\nat oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1150) ~[ojdbc8-21.7.0.0.jar:21.6.0.0\r\nat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:770) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\r\nat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:298) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\r\nat oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:497) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\r\nat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:151) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\r\nat oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:936) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\r\nat oracle.jdbc.driver.OracleStatement.prepareDefineBufferAndExecute(OracleStatement.java:1171) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\r\nat oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1100) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\r\nat oracle.jdbc.driver.OracleStatement.executeSQLSelect(OracleStatement.java:1425) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\r\nat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1308) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\r\nat oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3745) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\r\nat oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3854) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\r\nat oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1097) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\r\nat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.0.1.jar:na]at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n    \t... 55 common frames omitted\r\n ***Caused by: oracle.jdbc.OracleDatabaseException: ORA-02289: sequence does not exist***\r\n    \r\nat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:636) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\r\n    \t... 72 common frames omitted\r\n\r\n\r\n","title":"Error while using spring data JPA to fetch from oracle database","body":"<p><strong>I am trying to perform regular CRUD operations using Spring data JPA on an oracle database. Here are the details:</strong></p>\n<p><strong>1. Entity details:</strong></p>\n<pre><code>@Entity\n@Table\npublic class Employee {\n\nprivate long id;\nprivate String firstName;\nprivate String lastName;\nprivate String emailId;\n\npublic Employee() {\n\n}\n\npublic Employee(String firstName, String lastName, String emailId) {\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.emailId = emailId;\n}\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\npublic long getId() {\n    return id;\n}\npublic void setId(long id) {\n    this.id = id;\n}\n\n@Column(name = &quot;first_name&quot;, nullable = false)\npublic String getFirstName() {\n    return firstName;\n}\npublic void setFirstName(String firstName) {\n    this.firstName = firstName;\n}\n\n@Column(name = &quot;last_name&quot;, nullable = false)\npublic String getLastName() {\n    return lastName;\n}\npublic void setLastName(String lastName) {\n    this.lastName = lastName;\n}\n\n@Column(name = &quot;email_address&quot;, nullable = false)\npublic String getEmailId() {\n    return emailId;\n}\npublic void setEmailId(String emailId) {\n    this.emailId = emailId;\n}\n\n@Override\npublic String toString() {\n    return &quot;Employee [id=&quot; + id + &quot;, firstName=&quot; + firstName + &quot;, lastName=&quot; + lastName + &quot;, emailId=&quot; + emailId\n+ &quot;]&quot;;\n}\n</code></pre>\n<p>}</p>\n<p><strong>2. Here is my Runner :</strong></p>\n<pre><code>    @Component\npublic class MyRunner implements CommandLineRunner {\n\nprivate static final Logger logger = LoggerFactory.getLogger(MyRunner.class);\n\n@Autowired\nprivate EmployeeRepository employeeRepository;\n\n@Override\npublic void run(String...args) throws Exception {\n\n    employeeRepository.save(new Employee(&quot;Ramesh&quot;, &quot;Fadatare&quot;, &quot;ramesh@gmail.com&quot;));\n    employeeRepository.save(new Employee(&quot;Tom&quot;, &quot;Cruise&quot;, &quot;tom@gmail.com&quot;));\n    employeeRepository.save(new Employee(&quot;John&quot;, &quot;Cena&quot;, &quot;john@gmail.com&quot;));\n    employeeRepository.save(new Employee(&quot;tony&quot;, &quot;stark&quot;, &quot;stark@gmail.com&quot;));\n\n    logger.info(&quot;# of employees: {}&quot;, employeeRepository.count());\n\n    logger.info(&quot;All employees unsorted:&quot;);\n\n    Iterable &lt; Employee &gt; employees = employeeRepository.findAll();\n    Iterator &lt; Employee &gt; iterator = employees.iterator();\n    while (iterator.hasNext()) {\n        logger.info(&quot;{}&quot;, iterator.next().toString());\n    }\n\n    logger.info(&quot;------------------------&quot;);\n\n        logger.info(&quot;Deleting employee with id 1&quot;);\n//        employeeRepository.deleteById(1 L);\n\n        logger.info(&quot;# of employees: {}&quot;, employeeRepository.count());\n\n//        employeeRepository.existsById(2 L);\n//        employeeRepository.findById(2 L);\n        \n    }\n}\n</code></pre>\n<p>Here is the table thats getting created by name &quot;HTE_EMPLOYEES&quot; :</p>\n<p><a href=\"https://i.stack.imgur.com/ri060.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ri060.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>I am getting error due to which its not able to fetch the details or write entries to the table of the repo.Any idea on where is the mistake ? Thanks in advance.</strong></p>\n<p><strong>Logs :</strong></p>\n<p>2022-10-08T19:22:23.131+05:30 ERROR 51791 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed</p>\n<p>java.lang.IllegalStateException: Failed to execute CommandLineRunner\nat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:791) ~[spring-boot-3.0.0-M5.jar:3.0.0-M5]\nat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:772) ~[spring-boot-3.0.0-M5.jar:3.0.0-M5]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:321) ~[spring-boot-3.0.0-M5.jar:3.0.0-M5]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1323) ~[spring-boot-3.0.0-M5.jar:3.0.0-M5]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-3.0.0-M5.jar:3.0.0-M5]\nat com.example.JPAReadFromOracle.Application.main(Application.java:10) ~[classes/:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\nat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.0-M5.jar:3.0.0-M5]\nCaused by: org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:257) ~[spring-orm-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550) ~[spring-orm-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163) ~[spring-data-jpa-3.0.0-M6.jar:3.0.0-M6]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:221) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\nat jdk.proxy4/jdk.proxy4.$Proxy100.save(Unknown Source) ~[na:na]\nat com.example.JPAReadFromOracle.MyRunner.run(MyRunner.java:25) ~[classes/:na]\nat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788) ~[spring-boot-3.0.0-M5.jar:3.0.0-M5]\n... 10 common frames omitted\n<strong>Caused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet</strong>\nat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:64) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\nat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\nat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\nat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\nat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:67) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\nat org.hibernate.id.enhanced.SequenceStructure$1.getNextValue(SequenceStructure.java:102) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\nat org.hibernate.id.enhanced.PooledOptimizer.generate(PooledOptimizer.java:73) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\nat org.hibernate.id.enhanced.SequenceStyleGenerator.generate(SequenceStyleGenerator.java:536) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\nat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:114) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\nat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:184) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\nat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:129) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\nat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:53) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\nat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\nat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:735) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\nat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:719) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\nat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-6.0.0-M6.jar:6.0.0-M6]\nat jdk.proxy4/jdk.proxy4.$Proxy97.persist(Unknown Source) ~[na:na]\nat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:610) ~[spring-data-jpa-3.0.0-M6.jar:3.0.0-M6]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\nat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\nat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\nat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\nat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\nat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\nat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\nat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:135) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.0-M6.jar:6.0.0-M6]\n... 19 common frames omitted\n<strong>Caused by: java.sql.SQLSyntaxErrorException: ORA-02289: sequence does not exist</strong>\nat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:629) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\nat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:563) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\nat oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1150) ~[ojdbc8-21.7.0.0.jar:21.6.0.0\nat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:770) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\nat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:298) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\nat oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:497) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\nat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:151) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\nat oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:936) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\nat oracle.jdbc.driver.OracleStatement.prepareDefineBufferAndExecute(OracleStatement.java:1171) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\nat oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1100) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\nat oracle.jdbc.driver.OracleStatement.executeSQLSelect(OracleStatement.java:1425) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\nat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1308) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\nat oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3745) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\nat oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3854) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\nat oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1097) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\nat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.0.1.jar:na]at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]\nat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\n... 55 common frames omitted\n<em><strong>Caused by: oracle.jdbc.OracleDatabaseException: ORA-02289: sequence does not exist</strong></em></p>\n<p>at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:636) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\n... 72 common frames omitted</p>\n"},{"tags":["java","android","api","android-studio","braille"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1665245041,"post_id":73998093,"comment_id":130656765,"body_markdown":"You can probably use it as module .. See [This thread](https://stackoverflow.com/questions/31463908/how-to-import-a-maven-module-to-an-android-studio-project) maybe it can help .. You can download the source and add it module .. and dependencies from POM to gradle this can be done manually also .. try it","body":"You can probably use it as module .. See <a href=\"https://stackoverflow.com/questions/31463908/how-to-import-a-maven-module-to-an-android-studio-project\">This thread</a> maybe it can help .. You can download the source and add it module .. and dependencies from POM to gradle this can be done manually also .. try it"},{"owner":{"account_id":24362400,"reputation":1,"user_id":18296570,"display_name":"Minh Hiếu"},"score":0,"creation_date":1665305134,"post_id":73998093,"comment_id":130665064,"body_markdown":"Thank you for your help!.But i can&#39;t add it module anymore. May be my mistakes or it can&#39;t","body":"Thank you for your help!.But i can&#39;t add it module anymore. May be my mistakes or it can&#39;t"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1665306143,"post_id":73998093,"comment_id":130665243,"body_markdown":"Create your own module as java library and copy paste the code .. add the dependency fro  Pom to gradle . you can find same gradle dependencies for Maven one ..","body":"Create your own module as java library and copy paste the code .. add the dependency fro  Pom to gradle . you can find same gradle dependencies for Maven one .."}],"owner":{"account_id":24362400,"reputation":1,"user_id":18296570,"display_name":"Minh Hiếu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665242231,"creation_date":1665241851,"question_id":73998093,"body_markdown":"i am student and i am trying to use liblouis on java , but I don&#39;t know how to use and install.\r\nFor example , I want to read text from editText and translte it to braille word. How can i do? Thank you a lot!\r\n\r\nEDIT: I found this on github , but still don&#39;t know how to use :\r\nhttps://github.com/liblouis/liblouis-java","title":"How to use liblouis on java ( Android)?","body":"<p>i am student and i am trying to use liblouis on java , but I don't know how to use and install.\nFor example , I want to read text from editText and translte it to braille word. How can i do? Thank you a lot!</p>\n<p>EDIT: I found this on github , but still don't know how to use :\n<a href=\"https://github.com/liblouis/liblouis-java\" rel=\"nofollow noreferrer\">https://github.com/liblouis/liblouis-java</a></p>\n"},{"tags":["java","c#","loops","iterator"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1665244109,"post_id":73998098,"comment_id":130656549,"body_markdown":"this is also not allowed in Java, it throws `ConcurrentModificationException`: https://ideone.com/CLf5Si || A counter is used in Java to check for *structural* modifications (`if (modCount != expectedModCount) { throw new ConcurrentModificationException(); }`","body":"this is also not allowed in Java, it throws <code>ConcurrentModificationException</code>: <a href=\"https://ideone.com/CLf5Si\" rel=\"nofollow noreferrer\">ideone.com/CLf5Si</a> || A counter is used in Java to check for <i>structural</i> modifications (<code>if (modCount != expectedModCount) { throw new ConcurrentModificationException(); }</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1665244632,"post_id":73998098,"comment_id":130656678,"body_markdown":"Source code of [`AbstractList`](https://github.com/openjdk/jdk/blob/542cc602a7f023d3351133a321c4fa57249b8765/src/java.base/share/classes/java/util/AbstractList.java#L605)","body":"Source code of <a href=\"https://github.com/openjdk/jdk/blob/542cc602a7f023d3351133a321c4fa57249b8765/src/java.base/share/classes/java/util/AbstractList.java#L605\" rel=\"nofollow noreferrer\"><code>AbstractList</code></a>"},{"owner":{"account_id":18348055,"reputation":67,"user_id":14973835,"display_name":"VladisS"},"score":0,"creation_date":1665317473,"post_id":73998098,"comment_id":130667281,"body_markdown":"@user16320675 - it was extemly helpful. Remove in enumerator dissapoints me...","body":"@user16320675 - it was extemly helpful. Remove in enumerator dissapoints me..."}],"answers":[{"tags":[],"owner":{"account_id":18348055,"reputation":67,"user_id":14973835,"display_name":"VladisS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665241879,"creation_date":1665241879,"answer_id":73998099,"question_id":73998098,"body_markdown":"ok i found the answer\r\n```\r\npublic class List&lt;T&gt; {\r\n...\r\n    public struct Enumerator : IEnumerator&lt;T&gt;, System.Collections.IEnumerator\r\n        {\r\n            private List&lt;T&gt; list;\r\n            private int index;\r\n            private int version; // there it is\r\n            private T current;\r\n \r\n            internal Enumerator(List&lt;T&gt; list) {\r\n                this.list = list;\r\n                index = 0;\r\n                version = list._version;\r\n                current = default(T);\r\n            }\r\n...\r\n```\r\nThere the internal struct in List&lt;T&gt; what i can&#39;t do in java. Probably i should declare open ```Version``` property and pass the collection inside Enumerator.","title":"How foreach loop handle changes in non-binding collections? c#","body":"<p>ok i found the answer</p>\n<pre><code>public class List&lt;T&gt; {\n...\n    public struct Enumerator : IEnumerator&lt;T&gt;, System.Collections.IEnumerator\n        {\n            private List&lt;T&gt; list;\n            private int index;\n            private int version; // there it is\n            private T current;\n \n            internal Enumerator(List&lt;T&gt; list) {\n                this.list = list;\n                index = 0;\n                version = list._version;\n                current = default(T);\n            }\n...\n</code></pre>\n<p>There the internal struct in List what i can't do in java. Probably i should declare open <code>Version</code> property and pass the collection inside Enumerator.</p>\n"}],"owner":{"account_id":18348055,"reputation":67,"user_id":14973835,"display_name":"VladisS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1665241879,"creation_date":1665241879,"question_id":73998098,"body_markdown":"As we all know, you can&#39;t modify a collection inside a foreach loop as the ```InvalidOperationException```.\r\nBut how does the foreach loop checkouts any changes?\r\nI mean, if i have that code:\r\n```\r\nforeach(var item in List&lt;int&gt; list) {\r\n    list.Add(5);\r\n    list.Remove(5);\r\n}\r\n```\r\n...it still casts exception.\r\nThere is no any version control of the collection in the IEnumerator interface.\r\nSo how this works?\r\nI am asking for this because in java you can modify the collection easely during loop, and this is the problem in my own HashCollection&lt;T&gt; implimentation, and i have no idea how to checks any collection changes.","title":"How foreach loop handle changes in non-binding collections? c#","body":"<p>As we all know, you can't modify a collection inside a foreach loop as the <code>InvalidOperationException</code>.\nBut how does the foreach loop checkouts any changes?\nI mean, if i have that code:</p>\n<pre><code>foreach(var item in List&lt;int&gt; list) {\n    list.Add(5);\n    list.Remove(5);\n}\n</code></pre>\n<p>...it still casts exception.\nThere is no any version control of the collection in the IEnumerator interface.\nSo how this works?\nI am asking for this because in java you can modify the collection easely during loop, and this is the problem in my own HashCollection implimentation, and i have no idea how to checks any collection changes.</p>\n"},{"tags":["java","datetime","datetime-comparison"],"comments":[{"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"score":4,"creation_date":1583268782,"post_id":60515213,"comment_id":107057353,"body_markdown":"You can&#39;t because the second one is missing timezone information. If you assume a timezone for the second one then you can just use [java.time](https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html). It has all parsing tools you need.","body":"You can&#39;t because the second one is missing timezone information. If you assume a timezone for the second one then you can just use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a>. It has all parsing tools you need."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1583270556,"post_id":60515213,"comment_id":107058079,"body_markdown":"[I downvoted because research must be done to ask a good question](http://idownvotedbecau.se/noresearch/). I don’t see any report of any here?","body":"<a href=\"http://idownvotedbecau.se/noresearch/\" rel=\"nofollow noreferrer\">I downvoted because research must be done to ask a good question</a>. I don’t see any report of any here?"},{"owner":{"account_id":8555343,"reputation":2025,"user_id":6411079,"display_name":"MaThMaX"},"score":0,"creation_date":1583289302,"post_id":60515213,"comment_id":107062768,"body_markdown":"Does this answer your question? [How to compare two dates along with time in java](https://stackoverflow.com/questions/22039991/how-to-compare-two-dates-along-with-time-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22039991/how-to-compare-two-dates-along-with-time-in-java\">How to compare two dates along with time in java</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1583302666,"post_id":60515213,"comment_id":107065611,"body_markdown":"@MaThMaX Thanks for searching for similar questions, I’m sure there are more. This one is not an exact duplicate of the one you’re linking to, though: That one wants to compare to the time now (current time) and only has one date-time format, not two different ones.","body":"@MaThMaX Thanks for searching for similar questions, I’m sure there are more. This one is not an exact duplicate of the one you’re linking to, though: That one wants to compare to the time now (current time) and only has one date-time format, not two different ones."}],"answers":[{"tags":[],"owner":{"account_id":12499000,"reputation":359,"user_id":9098032,"display_name":"Neetesh Bhardwaj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583491524,"creation_date":1583269448,"answer_id":60515478,"question_id":60515213,"body_markdown":"First of all these two dates are not comparable because of missing timezone in the second date.\r\n\r\nSecondly, If you still want to do that with system&#39;s default time zone then you need to bring both the dates into common format. \r\n\r\nParse the dates into `Date` object and then you can play around it:\r\n```\r\nDateFormat dateFormat1 = new SimpleDateFormat(&quot;EEE MMM dd HH:mm:ss Z yyyy&quot;);\r\nDate date1 = dateFormat1.parse(&quot;Wed Mar 04 03:34:45 GMT+08:00 2020&quot;);\r\n\r\nDateFormat dateFormat2 = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss&quot;);\r\nDate date2 = dateFormat2.parse(&quot;2020-02-04 02:10:58&quot;);\r\n\r\nSystem.out.println(date1.after(date2));\r\n```","title":"How to compare the datetime of format &quot;EEE MMM dd HH:mm:ss zzz yyyy&quot; and &quot;yyyy-MM-dd hh:mm:sss&quot; in java?","body":"<p>First of all these two dates are not comparable because of missing timezone in the second date.</p>\n\n<p>Secondly, If you still want to do that with system's default time zone then you need to bring both the dates into common format. </p>\n\n<p>Parse the dates into <code>Date</code> object and then you can play around it:</p>\n\n<pre><code>DateFormat dateFormat1 = new SimpleDateFormat(\"EEE MMM dd HH:mm:ss Z yyyy\");\nDate date1 = dateFormat1.parse(\"Wed Mar 04 03:34:45 GMT+08:00 2020\");\n\nDateFormat dateFormat2 = new SimpleDateFormat(\"yyyy-MM-dd hh:mm:ss\");\nDate date2 = dateFormat2.parse(\"2020-02-04 02:10:58\");\n\nSystem.out.println(date1.after(date2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1583270895,"creation_date":1583270448,"answer_id":60515696,"question_id":60515213,"body_markdown":"If you assume that the timezone of the second date is the same as for the first one then you can just use [java.time](https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html). It has all parsing tools you need. Any other fixed timezone works as well.\r\n\r\nHere is an example:\r\n\r\n```java\r\nString a = &quot;Wed Mar 04 03:34:45 GMT+08:00 2020&quot;;\r\nString b = &quot;2020-02-04 02:10:58&quot;;\r\n\t\t\r\nZonedDateTime parsedA;\r\nZonedDateTime parsedB;\r\n\t\t\r\nDateTimeFormatter formatterA = DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss zzz yyyy&quot;);\r\nparsedA = ZonedDateTime.parse(a, formatterA);\r\nDateTimeFormatter formatterB = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\nparsedB = LocalDateTime.parse(b, formatterB).atZone(parsedA.getZone());\r\n\t\t\r\n// What do you want to compare? For example you can tell if a is after b.\r\nSystem.out.println(parsedA.isAfter(parsedB));\r\n```\r\n\r\nHave a look [here](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html) if you need another format and need a listing of *Pattern Letters and Symbols*.","title":"How to compare the datetime of format &quot;EEE MMM dd HH:mm:ss zzz yyyy&quot; and &quot;yyyy-MM-dd hh:mm:sss&quot; in java?","body":"<p>If you assume that the timezone of the second date is the same as for the first one then you can just use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a>. It has all parsing tools you need. Any other fixed timezone works as well.</p>\n\n<p>Here is an example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String a = \"Wed Mar 04 03:34:45 GMT+08:00 2020\";\nString b = \"2020-02-04 02:10:58\";\n\nZonedDateTime parsedA;\nZonedDateTime parsedB;\n\nDateTimeFormatter formatterA = DateTimeFormatter.ofPattern(\"EEE MMM dd HH:mm:ss zzz yyyy\");\nparsedA = ZonedDateTime.parse(a, formatterA);\nDateTimeFormatter formatterB = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss\");\nparsedB = LocalDateTime.parse(b, formatterB).atZone(parsedA.getZone());\n\n// What do you want to compare? For example you can tell if a is after b.\nSystem.out.println(parsedA.isAfter(parsedB));\n</code></pre>\n\n<p>Have a look <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\">here</a> if you need another format and need a listing of <em>Pattern Letters and Symbols</em>.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665241663,"creation_date":1665241663,"answer_id":73998071,"question_id":60515213,"body_markdown":" - There is a difference between time zone and time zone offset. The Date-Time string Wed Mar 04 03:34:45 GMT+08:00 2020 has a time zone offset, not a time zone. A time zone is unique and therefore it has an ID e.g. `ZoneId.of(&quot;America/New_York&quot;)` whereas a time zone offset tells you about the amount of time by which a given time is offset from the UTC time. There can be many time zones falling on the same time zone offset. Check **[List of tz database time zones](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones)** to learn more about it. So, the most appropriate type to parse Wed Mar 04 03:34:45 GMT+08:00 2020 into is `OffsetDateTime`.\r\n\r\n - Since the second Date-Time string 2020-02-04 02:10:58 has neither a time zone nor a time zone offset, parse it into `LocalDateTime`.\r\n\r\n - Make sure to use `Locale` with the formatter because [Date-Time parsing/formatting API is Locale-sensitive](https://stackoverflow.com/a/65544056/10819573).\r\n\r\n - As long as the second Date-Time string refers to a Date-Time at the same timezone offset (i.e. GMT+08:00), you can do either of the two to compare them\r\n\r\n    1. Convert the first Date-Time string into `LocalDateTime` after parsing and then compare it with the second Date-Time string parsed into a `LocalDateTime`.\r\n    2. Convert the second Date-Time string into an `OffsetDateTime` after parsing and then compare it with the first Date-Time string parsed into an `OffsetDateTime`.\r\n\r\nI would prefer the first approach as it is simpler. However, for the sake of completeness, I&#39;ve shown below both approaches.\r\n\r\n\r\n**First approach**:\r\n\r\n    DateTimeFormatter odtFormatter = DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss O uuuu&quot;, Locale.ENGLISH);\r\n    OffsetDateTime firstOffsetDateTime = OffsetDateTime.parse(&quot;Wed Mar 04 03:34:45 GMT+08:00 2020&quot;, odtFormatter);\r\n    LocalDateTime firstLocalDateTime = firstOffsetDateTime.toLocalDateTime();\r\n    \r\n    DateTimeFormatter ldtFormatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;, Locale.ENGLISH);\r\n    LocalDateTime secondLocalDateTime = LocalDateTime.parse(&quot;2020-02-04 02:10:58&quot;, ldtFormatter);\r\n    \r\n    // Compare the two LocalDateTime values using isBefore, isAfter, equals etc.\r\n    if (firstLocalDateTime.isBefore(secondLocalDateTime)) {\r\n        // ...\r\n    }\r\n\r\n**Second approach**:\r\n\r\n    DateTimeFormatter odtFormatter = DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss O uuuu&quot;, Locale.ENGLISH);\r\n    OffsetDateTime firstOffsetDateTime = OffsetDateTime.parse(&quot;Wed Mar 04 03:34:45 GMT+08:00 2020&quot;, odtFormatter);\r\n    \r\n    DateTimeFormatter ldtFormatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;, Locale.ENGLISH);\r\n    LocalDateTime secondLocalDateTime = LocalDateTime.parse(&quot;2020-02-04 02:10:58&quot;, ldtFormatter);\r\n    OffsetDateTime secondOffsetDateTime = secondLocalDateTime.atOffset(firstOffsetDateTime.getOffset());\r\n    \r\n    // Compare the two OffsetDateTime values using isBefore, isAfter, equals etc.\r\n    if (firstOffsetDateTime.isBefore(secondOffsetDateTime)) {\r\n        // ...\r\n    }\r\n\r\n\r\n\r\nI also [prefer u to y](https://stackoverflow.com/questions/65908827/kotlin-datetimeparseexception/65928023#65928023) with a `DateTimeFormatter`.\r\n\r\nLearn more about the the [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html) from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"How to compare the datetime of format &quot;EEE MMM dd HH:mm:ss zzz yyyy&quot; and &quot;yyyy-MM-dd hh:mm:sss&quot; in java?","body":"<ul>\n<li><p>There is a difference between time zone and time zone offset. The Date-Time string Wed Mar 04 03:34:45 GMT+08:00 2020 has a time zone offset, not a time zone. A time zone is unique and therefore it has an ID e.g. <code>ZoneId.of(&quot;America/New_York&quot;)</code> whereas a time zone offset tells you about the amount of time by which a given time is offset from the UTC time. There can be many time zones falling on the same time zone offset. Check <strong><a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">List of tz database time zones</a></strong> to learn more about it. So, the most appropriate type to parse Wed Mar 04 03:34:45 GMT+08:00 2020 into is <code>OffsetDateTime</code>.</p>\n</li>\n<li><p>Since the second Date-Time string 2020-02-04 02:10:58 has neither a time zone nor a time zone offset, parse it into <code>LocalDateTime</code>.</p>\n</li>\n<li><p>Make sure to use <code>Locale</code> with the formatter because <a href=\"https://stackoverflow.com/a/65544056/10819573\">Date-Time parsing/formatting API is Locale-sensitive</a>.</p>\n</li>\n<li><p>As long as the second Date-Time string refers to a Date-Time at the same timezone offset (i.e. GMT+08:00), you can do either of the two to compare them</p>\n<ol>\n<li>Convert the first Date-Time string into <code>LocalDateTime</code> after parsing and then compare it with the second Date-Time string parsed into a <code>LocalDateTime</code>.</li>\n<li>Convert the second Date-Time string into an <code>OffsetDateTime</code> after parsing and then compare it with the first Date-Time string parsed into an <code>OffsetDateTime</code>.</li>\n</ol>\n</li>\n</ul>\n<p>I would prefer the first approach as it is simpler. However, for the sake of completeness, I've shown below both approaches.</p>\n<p><strong>First approach</strong>:</p>\n<pre><code>DateTimeFormatter odtFormatter = DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss O uuuu&quot;, Locale.ENGLISH);\nOffsetDateTime firstOffsetDateTime = OffsetDateTime.parse(&quot;Wed Mar 04 03:34:45 GMT+08:00 2020&quot;, odtFormatter);\nLocalDateTime firstLocalDateTime = firstOffsetDateTime.toLocalDateTime();\n\nDateTimeFormatter ldtFormatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;, Locale.ENGLISH);\nLocalDateTime secondLocalDateTime = LocalDateTime.parse(&quot;2020-02-04 02:10:58&quot;, ldtFormatter);\n\n// Compare the two LocalDateTime values using isBefore, isAfter, equals etc.\nif (firstLocalDateTime.isBefore(secondLocalDateTime)) {\n    // ...\n}\n</code></pre>\n<p><strong>Second approach</strong>:</p>\n<pre><code>DateTimeFormatter odtFormatter = DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss O uuuu&quot;, Locale.ENGLISH);\nOffsetDateTime firstOffsetDateTime = OffsetDateTime.parse(&quot;Wed Mar 04 03:34:45 GMT+08:00 2020&quot;, odtFormatter);\n\nDateTimeFormatter ldtFormatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;, Locale.ENGLISH);\nLocalDateTime secondLocalDateTime = LocalDateTime.parse(&quot;2020-02-04 02:10:58&quot;, ldtFormatter);\nOffsetDateTime secondOffsetDateTime = secondLocalDateTime.atOffset(firstOffsetDateTime.getOffset());\n\n// Compare the two OffsetDateTime values using isBefore, isAfter, equals etc.\nif (firstOffsetDateTime.isBefore(secondOffsetDateTime)) {\n    // ...\n}\n</code></pre>\n<p>I also <a href=\"https://stackoverflow.com/questions/65908827/kotlin-datetimeparseexception/65928023#65928023\">prefer u to y</a> with a <code>DateTimeFormatter</code>.</p>\n<p>Learn more about the the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">modern date-time API</a> from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":8872026,"reputation":64,"user_id":6625472,"display_name":"Pravin Pundge"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7252,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":60515696,"answer_count":3,"score":2,"last_activity_date":1665241663,"creation_date":1583268202,"question_id":60515213,"body_markdown":"I have date of type &quot;EEE MM DD HH:mm:ss zzz yyyy&quot; (Wed Mar 04 03:34:45 GMT+08:00 2020) and &quot;yyyy-MM-dd hh:mm:ss&quot; (2020-02-04 02:10:58).How to compare this two date in java?\r\n\r\nBoth dates are in same timezone.","title":"How to compare the datetime of format &quot;EEE MMM dd HH:mm:ss zzz yyyy&quot; and &quot;yyyy-MM-dd hh:mm:sss&quot; in java?","body":"<p>I have date of type \"EEE MM DD HH:mm:ss zzz yyyy\" (Wed Mar 04 03:34:45 GMT+08:00 2020) and \"yyyy-MM-dd hh:mm:ss\" (2020-02-04 02:10:58).How to compare this two date in java?</p>\n\n<p>Both dates are in same timezone.</p>\n"},{"tags":["java","eclipse","gwt","web-applications","tomcat6"],"answers":[{"tags":[],"owner":{"account_id":196062,"reputation":20700,"user_id":439317,"accept_rate":84,"display_name":"Riley Lark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1352995498,"creation_date":1352995498,"answer_id":13401459,"question_id":13399733,"body_markdown":"You can right-click the deployment line to get other browser options:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/aFdmR.png\r\n\r\nThat said, I&#39;ve taken to just opening the browser I want first and typing the address in by hand - the browsers know me well enough to auto-complete the whole thing at this point.","title":"Changing External Browser in Eclipse [Linux, GWT, Tomcat6]","body":"<p>You can right-click the deployment line to get other browser options:</p>\n\n<p><img src=\"https://i.stack.imgur.com/aFdmR.png\" alt=\"enter image description here\"></p>\n\n<p>That said, I've taken to just opening the browser I want first and typing the address in by hand - the browsers know me well enough to auto-complete the whole thing at this point.</p>\n"},{"tags":[],"owner":{"account_id":16598426,"reputation":99,"user_id":11994767,"display_name":"Umakanth Sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665241537,"creation_date":1665241537,"answer_id":73998056,"question_id":13399733,"body_markdown":"You can add a web browser by going to Window &gt; Preferences &gt; General &gt; Web Browser\r\n\r\nIf you can see desired web browser then select it.\r\nIn my case running on Ubuntu 22.04 and Eclipse 2022-09, I cannot see any browser\r\n\r\nClick on New button, you will see a pop up form.\r\nadd your Browser Name, now you need location\r\n\r\ngo to terminal type `whereis firefox` firefox. In my case, I got result as `snap/bin/firefox`\r\n\r\ntype the same in location and hit ok button. \r\n\r\nSelect the browser and Start the server it should run on the desired browser.\r\n\r\n\r\nNote: sometimes after server startup firefox may not be launched. In such case manually launch and close and then start the server","title":"Changing External Browser in Eclipse [Linux, GWT, Tomcat6]","body":"<p>You can add a web browser by going to Window &gt; Preferences &gt; General &gt; Web Browser</p>\n<p>If you can see desired web browser then select it.\nIn my case running on Ubuntu 22.04 and Eclipse 2022-09, I cannot see any browser</p>\n<p>Click on New button, you will see a pop up form.\nadd your Browser Name, now you need location</p>\n<p>go to terminal type <code>whereis firefox</code> firefox. In my case, I got result as <code>snap/bin/firefox</code></p>\n<p>type the same in location and hit ok button.</p>\n<p>Select the browser and Start the server it should run on the desired browser.</p>\n<p>Note: sometimes after server startup firefox may not be launched. In such case manually launch and close and then start the server</p>\n"}],"owner":{"display_name":"user1260503"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":739,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":13401459,"answer_count":2,"score":0,"last_activity_date":1665241537,"creation_date":1352990273,"question_id":13399733,"body_markdown":"Upon attempting to deploy my GWT application, Eclipse constantly deploys to Aurora (bleeding-edge Firefox build - located in /usr/bin/firefox). Are there programmatic steps to follow, or do I need to modify external configuration files to change the web browser?\r\n\r\n**Steps taken:**\r\n\r\nWindow -&gt; General -&gt; Web Browser:\r\n\r\n[New External Browser]\r\n\r\n 1. Name: Google Chrome\r\n 2. Location: /usr/bin/google-chrome\r\n 3. Parameters: \r\n\r\n\r\nWindow -&gt; Web Browser -&gt; Google Chrome[x]\r\n\r\nAny suggestions? Is there some kind of persistent variable, or configuration file that I&#39;ve looked over?\r\n\r\nThanks.\r\n \r\n","title":"Changing External Browser in Eclipse [Linux, GWT, Tomcat6]","body":"<p>Upon attempting to deploy my GWT application, Eclipse constantly deploys to Aurora (bleeding-edge Firefox build - located in /usr/bin/firefox). Are there programmatic steps to follow, or do I need to modify external configuration files to change the web browser?</p>\n\n<p><strong>Steps taken:</strong></p>\n\n<p>Window -> General -> Web Browser:</p>\n\n<p>[New External Browser]</p>\n\n<ol>\n<li>Name: Google Chrome</li>\n<li>Location: /usr/bin/google-chrome</li>\n<li>Parameters: </li>\n</ol>\n\n<p>Window -> Web Browser -> Google Chrome[x]</p>\n\n<p>Any suggestions? Is there some kind of persistent variable, or configuration file that I've looked over?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","for-loop","if-statement","lambda","stream"],"answers":[{"tags":[],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665239268,"creation_date":1665239268,"answer_id":73997786,"question_id":73997458,"body_markdown":"&gt; I know that there is more faster ways than this\r\n\r\nOnly faster to write and some may find it more readable.\r\n\r\nIn this example I&#39;m removing the cars, that have a driver with 15 years experience and aren&#39;t listed in the names list, from the stream. Then I just collect the result into a map. Key is the car. Value is the sum of the drivers years - the drivers that have 15 years of experience. \r\n\r\n        Map&lt;Car, Integer&gt; filteredCars = cars.stream()\r\n                .filter(car -&gt; car.driversWhoDrivesIt().stream().allMatch(driver -&gt; driver.yearsInMotorsport() != 15 || names.contains(driver.name())))\r\n                .collect(Collectors.toMap(\r\n                        Function.identity(),\r\n                        car -&gt; car.driversWhoDrivesIt().stream()\r\n                                .mapToInt(Driver::yearsInMotorsport)\r\n                                .filter(y -&gt; y != 15)\r\n                                .sum()));","title":"Replace IFs and FOR LOOPs with STREAMs and LAMBDAs","body":"<blockquote>\n<p>I know that there is more faster ways than this</p>\n</blockquote>\n<p>Only faster to write and some may find it more readable.</p>\n<p>In this example I'm removing the cars, that have a driver with 15 years experience and aren't listed in the names list, from the stream. Then I just collect the result into a map. Key is the car. Value is the sum of the drivers years - the drivers that have 15 years of experience.</p>\n<pre><code>    Map&lt;Car, Integer&gt; filteredCars = cars.stream()\n            .filter(car -&gt; car.driversWhoDrivesIt().stream().allMatch(driver -&gt; driver.yearsInMotorsport() != 15 || names.contains(driver.name())))\n            .collect(Collectors.toMap(\n                    Function.identity(),\n                    car -&gt; car.driversWhoDrivesIt().stream()\n                            .mapToInt(Driver::yearsInMotorsport)\n                            .filter(y -&gt; y != 15)\n                            .sum()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665241243,"creation_date":1665239888,"answer_id":73997850,"question_id":73997458,"body_markdown":"Instead of the list of names I would advise defining a `Set`. For each `Car` filter drivers that have exactly `15` year of experience and then check whether all they are present in the user-difined set of names using `allMatch()` operation.\r\n\r\nThen collect all the `Car` objects remained in the stream into a map using collector `toMap()`:\r\n\r\n```\r\nSet&lt;String&gt; names = Set.of(&quot;Lewis&quot;, &quot;Bob&quot;, &quot;Amanda&quot;, &quot;Lando&quot;, &quot;Max&quot;);\r\n            \r\nList&lt;Car&gt; cars = List.of(\r\n    new Car(&quot;Car1&quot;, List.of(new Driver(&quot;Lewis&quot;, 15),\r\n                new Driver(&quot;Marco&quot;, 4),\r\n                new Driver(&quot;Sebastian&quot;, 15))\r\n            ),\r\n    new Car(&quot;Car2&quot;, List.of(new Driver(&quot;Max&quot;, 15),\r\n                new Driver(&quot;Amanda&quot;, 7))\r\n            ),\r\n    new Car(&quot;Car3&quot;, List.of(new Driver(&quot;Bob&quot;, 15),\r\n                new Driver(&quot;George&quot;, 3),\r\n                new Driver(&quot;Lando&quot;, 15))\r\n            )\r\n);\r\n            \r\nMap&lt;Car, Integer&gt; pointByCar = cars.stream()\r\n    .filter(car -&gt; car.getDrivers().stream()\r\n        .filter(driver -&gt; driver.getYearsInMotorsport() == 15)\r\n        .map(Driver::getName)\r\n        .allMatch(names::contains)\r\n    )\r\n    .collect(Collectors.toMap(\r\n        Function.identity(),\r\n        car -&gt; car.getDrivers().stream()\r\n            .mapToInt(Driver::getYearsInMotorsport)\r\n            .filter(i -&gt; i == 7 || i == 3)\r\n            .sum()\r\n    ));\r\n            \r\npointByCar.forEach((car, points) -&gt; System.out.println(car + &quot; -&gt; &quot; + points));\r\n```\r\n*Output:*\r\n```\r\nCar{name=&#39;Car2&#39;} -&gt; 7\r\nCar{name=&#39;Car3&#39;} -&gt; 3\r\n```\r\n\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/wYJ)","title":"Replace IFs and FOR LOOPs with STREAMs and LAMBDAs","body":"<p>Instead of the list of names I would advise defining a <code>Set</code>. For each <code>Car</code> filter drivers that have exactly <code>15</code> year of experience and then check whether all they are present in the user-difined set of names using <code>allMatch()</code> operation.</p>\n<p>Then collect all the <code>Car</code> objects remained in the stream into a map using collector <code>toMap()</code>:</p>\n<pre><code>Set&lt;String&gt; names = Set.of(&quot;Lewis&quot;, &quot;Bob&quot;, &quot;Amanda&quot;, &quot;Lando&quot;, &quot;Max&quot;);\n            \nList&lt;Car&gt; cars = List.of(\n    new Car(&quot;Car1&quot;, List.of(new Driver(&quot;Lewis&quot;, 15),\n                new Driver(&quot;Marco&quot;, 4),\n                new Driver(&quot;Sebastian&quot;, 15))\n            ),\n    new Car(&quot;Car2&quot;, List.of(new Driver(&quot;Max&quot;, 15),\n                new Driver(&quot;Amanda&quot;, 7))\n            ),\n    new Car(&quot;Car3&quot;, List.of(new Driver(&quot;Bob&quot;, 15),\n                new Driver(&quot;George&quot;, 3),\n                new Driver(&quot;Lando&quot;, 15))\n            )\n);\n            \nMap&lt;Car, Integer&gt; pointByCar = cars.stream()\n    .filter(car -&gt; car.getDrivers().stream()\n        .filter(driver -&gt; driver.getYearsInMotorsport() == 15)\n        .map(Driver::getName)\n        .allMatch(names::contains)\n    )\n    .collect(Collectors.toMap(\n        Function.identity(),\n        car -&gt; car.getDrivers().stream()\n            .mapToInt(Driver::getYearsInMotorsport)\n            .filter(i -&gt; i == 7 || i == 3)\n            .sum()\n    ));\n            \npointByCar.forEach((car, points) -&gt; System.out.println(car + &quot; -&gt; &quot; + points));\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Car{name='Car2'} -&gt; 7\nCar{name='Car3'} -&gt; 3\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/wYJ\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n"}],"owner":{"account_id":15345495,"reputation":41,"user_id":11071040,"display_name":"Cam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73997850,"answer_count":2,"score":0,"last_activity_date":1665241243,"creation_date":1665236545,"question_id":73997458,"body_markdown":"I want to optimalize my code. I used to use for loops and ifs, but I know that there is more faster ways than this. I am still pretty new to the lambdas and streams. For practise, I decided I replace my old codes with them. \r\nI am curious, how this code below could change.\r\n        \r\n            int counter = 0;\r\n            List&lt;Integer&gt; points = new ArrayList&lt;&gt;();\r\n    \r\n            for (String name : names) {\r\n    \r\n                for (Car car : cars) {\r\n                    if (counter != 0) {\r\n                        points.add(counter);\r\n                    }\r\n                    counter= 0;\r\n    \r\n                    for (Driver driver : car.getDriversWhoDrivesIt()) {\r\n                        if (driver.getYearsInMotorsport() == 15) {\r\n                            if (!(names.contains(driver.getName()))) {\r\n                                filteredCars.remove(car);\r\n                                counter= 0;\r\n                                break;\r\n                            }\r\n                        }\r\n    \r\n                        if (driver.getYearsInMotorsport() == 7 ) {\r\n                            counter+= 7;\r\n                        }\r\n    \r\n                        if (driver.getYearsInMotorsport() == 3) {\r\n                            counter+= 3;\r\n                        }\r\n                       \r\n                    }\r\n    \r\n                }\r\n            }\r\n\r\nSo the task here is that there is a list (names) with the drivers which earlier the user define. After that I iterate through all the drivers that drive that cars and if somebody has exactly 15 years of experience and the user not selected it (in the names list), than the car that the driver drived got eliminated (removed from the filteredCar and no need to continue with that car).\r\n\r\nSo for example I have 3 cars and the drivers with exp:\r\n1. car : Lewis(15years), Marco(4), Sebastian(15)\r\n2. car: Max(15), Amanda(7)\r\n3. car: Bob(15), George(3), Lando(15)\r\n\r\nThan the user defines the names:\r\nLewis, Bob, Amanda, Lando, Max\r\n\r\nIf the driver has 15 years of exp and the user not defined it, than I dont want that car in my filteredCars. \r\nAnd if all the 15 years of exp drivers defined I want to collect the other drivers exp(counter) \r\n\r\nSo in the end I want my filteredCar list like this:\r\n2. car - 7\r\n3.car - 3\r\n\r\nExplanation:\r\nThe first car got eliminated, because the user not defined Sebastian who has 15 years. \r\nThe second and third car got promoted, because the user defined all the 15 years experienced drivers, and the second car got 7 point(cuz Amanda), and the third got 3 (George).\r\n\r\nI tried to solve this problem with flatMap. But I am got stucked with the if-s. My problem is that I need to use inline if in lambdas but my if-s dont have else part.\r\n\r\n            names.stream()\r\n                    .flatMap(name -&gt; cars.stream()\r\n                        .flatMap(car -&gt; car.getDriversWhoDrivesIt().stream()\r\n    //                        .flatMap(driver -&gt; driver.getYearsInMotorsport() == 5 ? ) //?? now what?\r\n                        )\r\n                    );\r\n\r\nI hope somebody can help me with this.","title":"Replace IFs and FOR LOOPs with STREAMs and LAMBDAs","body":"<p>I want to optimalize my code. I used to use for loops and ifs, but I know that there is more faster ways than this. I am still pretty new to the lambdas and streams. For practise, I decided I replace my old codes with them.\nI am curious, how this code below could change.</p>\n<pre><code>        int counter = 0;\n        List&lt;Integer&gt; points = new ArrayList&lt;&gt;();\n\n        for (String name : names) {\n\n            for (Car car : cars) {\n                if (counter != 0) {\n                    points.add(counter);\n                }\n                counter= 0;\n\n                for (Driver driver : car.getDriversWhoDrivesIt()) {\n                    if (driver.getYearsInMotorsport() == 15) {\n                        if (!(names.contains(driver.getName()))) {\n                            filteredCars.remove(car);\n                            counter= 0;\n                            break;\n                        }\n                    }\n\n                    if (driver.getYearsInMotorsport() == 7 ) {\n                        counter+= 7;\n                    }\n\n                    if (driver.getYearsInMotorsport() == 3) {\n                        counter+= 3;\n                    }\n                   \n                }\n\n            }\n        }\n</code></pre>\n<p>So the task here is that there is a list (names) with the drivers which earlier the user define. After that I iterate through all the drivers that drive that cars and if somebody has exactly 15 years of experience and the user not selected it (in the names list), than the car that the driver drived got eliminated (removed from the filteredCar and no need to continue with that car).</p>\n<p>So for example I have 3 cars and the drivers with exp:</p>\n<ol>\n<li>car : Lewis(15years), Marco(4), Sebastian(15)</li>\n<li>car: Max(15), Amanda(7)</li>\n<li>car: Bob(15), George(3), Lando(15)</li>\n</ol>\n<p>Than the user defines the names:\nLewis, Bob, Amanda, Lando, Max</p>\n<p>If the driver has 15 years of exp and the user not defined it, than I dont want that car in my filteredCars.\nAnd if all the 15 years of exp drivers defined I want to collect the other drivers exp(counter)</p>\n<p>So in the end I want my filteredCar list like this:\n2. car - 7\n3.car - 3</p>\n<p>Explanation:\nThe first car got eliminated, because the user not defined Sebastian who has 15 years.\nThe second and third car got promoted, because the user defined all the 15 years experienced drivers, and the second car got 7 point(cuz Amanda), and the third got 3 (George).</p>\n<p>I tried to solve this problem with flatMap. But I am got stucked with the if-s. My problem is that I need to use inline if in lambdas but my if-s dont have else part.</p>\n<pre><code>        names.stream()\n                .flatMap(name -&gt; cars.stream()\n                    .flatMap(car -&gt; car.getDriversWhoDrivesIt().stream()\n//                        .flatMap(driver -&gt; driver.getYearsInMotorsport() == 5 ? ) //?? now what?\n                    )\n                );\n</code></pre>\n<p>I hope somebody can help me with this.</p>\n"},{"tags":["java","oop","arraylist","hashmap"],"comments":[{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":3,"creation_date":1665239800,"post_id":73997806,"comment_id":130655674,"body_markdown":"You&#39;re reusing the same array list each time. Construct new ones.","body":"You&#39;re reusing the same array list each time. Construct new ones."},{"owner":{"account_id":19357395,"reputation":19,"user_id":14153441,"display_name":"newbie"},"score":0,"creation_date":1665240393,"post_id":73997806,"comment_id":130655788,"body_markdown":"But I am clearing it using marks.clear( ) for each entry... Why isn&#39;t it working?","body":"But I am clearing it using marks.clear( ) for each entry... Why isn&#39;t it working?"},{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":2,"creation_date":1665245508,"post_id":73997806,"comment_id":130656857,"body_markdown":"Because you&#39;re clearing, and then reusing, *the same one*","body":"Because you&#39;re clearing, and then reusing, <i>the same one</i>"}],"answers":[{"tags":[],"owner":{"account_id":17859989,"reputation":61,"user_id":12973717,"display_name":"Gary Liao"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665240309,"creation_date":1665240309,"answer_id":73997894,"question_id":73997806,"body_markdown":"The reason is because your array list is the same object from beginning to end.\r\n\r\nThe ArrayList&lt;Integer&gt; that your Map&lt;StudentDetails,ArrayList&lt;Integer&gt;&gt; mp stores are all pointing to same object&#39;s memory address, therefore, you will always have same value being print out from your output.\r\n\r\nLike @nanofarad said, construct a new ones like you did to StudentDetails obj","title":"Why is the map displaying same value for all entries?","body":"<p>The reason is because your array list is the same object from beginning to end.</p>\n<p>The ArrayList that your Map&lt;StudentDetails,ArrayList&gt; mp stores are all pointing to same object's memory address, therefore, you will always have same value being print out from your output.</p>\n<p>Like @nanofarad said, construct a new ones like you did to StudentDetails obj</p>\n"}],"owner":{"account_id":19357395,"reputation":19,"user_id":14153441,"display_name":"newbie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1665244560,"accepted_answer_id":73997894,"answer_count":1,"score":-3,"last_activity_date":1665240309,"creation_date":1665239439,"question_id":73997806,"body_markdown":"I&#39;ve recently been learning Java. So basically I created a Student Model class which consists of student&#39;s info along with their marks info. And then I created a Student Main Class where I created an object of type Student Model Class. I wanted to create a map of type **Map&lt;StudentModelClass,ArrayList&lt;Integer&lt;Integer&gt;&gt;**. \r\n\r\nI want to store student details as a key and only their marks which is a list as value in a map. I wrote the code but I don&#39;t know why is my map taking all the values in map entries the same marks.\r\n\r\nThis is my Student Model Class\r\n\r\n    package com.src.StudentDetailsAsMap;\r\n    \r\n    public class StudentDetails {\r\n    \r\n    \tprivate int stdid;\r\n    \tprivate String name;\r\n    \tprivate int age;\r\n    \tprivate String mobileNumber; \r\n    \tprivate int m1,m2,m3;\r\n    \tprivate int total_marks_secured=0;\r\n        private double avg_marks_secured=0.0;\r\n    \r\n    \t\r\n    \t\r\n    \tpublic StudentDetails(int stdid, String name, int age, String mobileNumber, int m1, int m2, int m3) {\r\n    \t\tthis.setStdid(stdid);\r\n    \t\tthis.setName(name);\r\n    \t\tthis.setAge(age);\r\n    \t\tthis.setMobileNumber(mobileNumber);\r\n    \t\tthis.setM1(m1);\r\n    \t\tthis.setM2(m2);\r\n    \t\tthis.setM3(m3);\r\n    \t\tthis.setTotal_marks_secured(m1+m2+m3);\r\n    \t\tthis.setAvg_marks_secured(this.getTotal_marks_secured()/3);\r\n    \t}\r\n    \tpublic StudentDetails() {\r\n    \t}\r\n    \tpublic int getStdid() {\r\n    \t\treturn stdid;\r\n    \t}\r\n    \tpublic void setStdid(int stdid) {\r\n    \t\tthis.stdid = stdid;\r\n    \t}\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \tpublic int getAge() {\r\n    \t\treturn age;\r\n    \t}\r\n    \tpublic void setAge(int age) {\r\n    \t\tthis.age = age;\r\n    \t}\r\n    \tpublic String getMobileNumber() {\r\n    \t\treturn mobileNumber;\r\n    \t}\r\n    \tpublic void setMobileNumber(String mobileNumber) {\r\n    \t\tthis.mobileNumber = mobileNumber;\r\n    \t}\r\n    \tpublic int getM1() {\r\n    \t\treturn this.m1;\r\n    \t}\r\n    \tpublic void setM1(int m1) {\r\n    \t\tthis.m1 = m1;\r\n    \t}\r\n    \tpublic int getM2() {\r\n    \t\treturn this.m2;\r\n    \t}\r\n    \tpublic void setM2(int m2) {\r\n    \t\tthis.m2 = m2;\r\n    \t}\r\n    \tpublic int getM3() {\r\n    \t\treturn this.m3;\r\n    \t}\r\n    \tpublic void setM3(int m3) {\r\n    \t\tthis.m3 = m3;\r\n    \t}\r\n    \tpublic int getTotal_marks_secured() {\r\n    \t\treturn total_marks_secured;\r\n    \t}\r\n    \tpublic void setTotal_marks_secured(int total_marks_secured) {\r\n    \t\tthis.total_marks_secured = total_marks_secured;\r\n    \t}\r\n    \tpublic double getAvg_marks_secured() {\r\n    \t\treturn avg_marks_secured;\r\n    \t}\r\n    \tpublic void setAvg_marks_secured(double avg_marks_secured) {\r\n    \t\tthis.avg_marks_secured = avg_marks_secured;\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic void display() {\r\n    \t\tSystem.out.println(&quot;Student [stdid=&quot; + stdid + &quot;, name=&quot; + name + &quot;, age=&quot; + age + &quot;, mobileNumber=&quot; + mobileNumber\r\n    \t\t\t\t+ &quot;, m1=&quot; + m1 + &quot;, m2=&quot; + m2 + &quot;, m3=&quot; + m3 + &quot;, total_marks_secured=&quot; + total_marks_secured\r\n    \t\t\t\t+ &quot;, avg_marks_secured=&quot; + avg_marks_secured + &quot;]&quot;);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nThis is my Student Main Class\r\n\r\n   \r\n\r\n     package com.src.StudentDetailsAsMap;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Map.Entry;\r\n    \r\n    public class StudentMap {\r\n    \tpublic static void main(String[] arg) {\r\n    \t\tStudentDetails obj = new StudentDetails();\r\n    \t\tArrayList&lt;Integer&gt; marks = new ArrayList&lt;Integer&gt;();\r\n    \t\tMap&lt;StudentDetails,ArrayList&lt;Integer&gt;&gt; mp = new HashMap&lt;StudentDetails,ArrayList&lt;Integer&gt;&gt;();\r\n    \t\t\r\n    \t\tobj = new StudentDetails(1,&quot;kevin&quot;,20,&quot;23425&quot;,89,98,89);\r\n    \t\tmarks.add(obj.getM1());\r\n    \t\tmarks.add(obj.getM2());\r\n    \t\tmarks.add(obj.getM3());\r\n    \t\tSystem.out.println(&quot;marks1: &quot; + marks.get(0) + &quot; &quot; + marks.get(1) +&quot; &quot; + marks.get(2));\r\n    \t\tmp.put(obj,marks);\r\n    \t\t\r\n    \t\tmarks.clear();\r\n    \t\tobj = new StudentDetails(2,&quot;fred&quot;,20,&quot;12345&quot;,81,98,89);\r\n    \t\tmarks.add(obj.getM1());\r\n    \t\tmarks.add(obj.getM2());\r\n    \t\tmarks.add(obj.getM3());\r\n    \t\tSystem.out.println(&quot;marks2 &quot; + marks.get(0) + &quot; &quot; + marks.get(1) +&quot; &quot; + marks.get(2));\r\n    \t\tmp.put(obj,marks);\r\n    \t\t\r\n    \t\tobj = new StudentDetails(3,&quot;rue&quot;,20,&quot;24564&quot;,89,56,89);\r\n    \t\tmarks.clear();\r\n    \t\tmarks.add(obj.getM1());\r\n    \t\tmarks.add(obj.getM2());\r\n    \t\tmarks.add(obj.getM3());\r\n    \t\tmp.put(obj,marks);\r\n    \t\t\r\n    \t\t\r\n    \t\tobj = new StudentDetails(4,&quot;paxton&quot;,20,&quot;85756&quot;,89,35,89);\r\n    \t\tmarks.clear();\r\n    \t\tmarks.add(obj.getM1());\r\n    \t\tmarks.add(obj.getM2());\r\n    \t\tmarks.add(obj.getM3());\r\n    \t\tmp.put(obj,marks);\r\n    \t\t\r\n    \t\t\r\n    \t\tfor(Entry mp1 : mp.entrySet()) {\r\n    \t\t\tStudentDetails s = (StudentDetails) mp1.getKey();\r\n    \t\t\tSystem.out.println(&quot;Key: &quot;);\r\n    \t\t\ts.display();\r\n    \t\t\tSystem.out.println(&quot;Value: &quot;);\r\n    \t\t\tArrayList&lt;Integer&gt; arr = (ArrayList&lt;Integer&gt;)mp1.getValue();\r\n    \t\t\tSystem.out.println(arr);\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\n[![This is the output I got][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UeUVM.png","title":"Why is the map displaying same value for all entries?","body":"<p>I've recently been learning Java. So basically I created a Student Model class which consists of student's info along with their marks info. And then I created a Student Main Class where I created an object of type Student Model Class. I wanted to create a map of type <strong>Map&lt;StudentModelClass,ArrayList&lt;Integer&gt;</strong>.</p>\n<p>I want to store student details as a key and only their marks which is a list as value in a map. I wrote the code but I don't know why is my map taking all the values in map entries the same marks.</p>\n<p>This is my Student Model Class</p>\n<pre><code>package com.src.StudentDetailsAsMap;\n\npublic class StudentDetails {\n\n    private int stdid;\n    private String name;\n    private int age;\n    private String mobileNumber; \n    private int m1,m2,m3;\n    private int total_marks_secured=0;\n    private double avg_marks_secured=0.0;\n\n    \n    \n    public StudentDetails(int stdid, String name, int age, String mobileNumber, int m1, int m2, int m3) {\n        this.setStdid(stdid);\n        this.setName(name);\n        this.setAge(age);\n        this.setMobileNumber(mobileNumber);\n        this.setM1(m1);\n        this.setM2(m2);\n        this.setM3(m3);\n        this.setTotal_marks_secured(m1+m2+m3);\n        this.setAvg_marks_secured(this.getTotal_marks_secured()/3);\n    }\n    public StudentDetails() {\n    }\n    public int getStdid() {\n        return stdid;\n    }\n    public void setStdid(int stdid) {\n        this.stdid = stdid;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public int getAge() {\n        return age;\n    }\n    public void setAge(int age) {\n        this.age = age;\n    }\n    public String getMobileNumber() {\n        return mobileNumber;\n    }\n    public void setMobileNumber(String mobileNumber) {\n        this.mobileNumber = mobileNumber;\n    }\n    public int getM1() {\n        return this.m1;\n    }\n    public void setM1(int m1) {\n        this.m1 = m1;\n    }\n    public int getM2() {\n        return this.m2;\n    }\n    public void setM2(int m2) {\n        this.m2 = m2;\n    }\n    public int getM3() {\n        return this.m3;\n    }\n    public void setM3(int m3) {\n        this.m3 = m3;\n    }\n    public int getTotal_marks_secured() {\n        return total_marks_secured;\n    }\n    public void setTotal_marks_secured(int total_marks_secured) {\n        this.total_marks_secured = total_marks_secured;\n    }\n    public double getAvg_marks_secured() {\n        return avg_marks_secured;\n    }\n    public void setAvg_marks_secured(double avg_marks_secured) {\n        this.avg_marks_secured = avg_marks_secured;\n    }\n    \n    \n    public void display() {\n        System.out.println(&quot;Student [stdid=&quot; + stdid + &quot;, name=&quot; + name + &quot;, age=&quot; + age + &quot;, mobileNumber=&quot; + mobileNumber\n                + &quot;, m1=&quot; + m1 + &quot;, m2=&quot; + m2 + &quot;, m3=&quot; + m3 + &quot;, total_marks_secured=&quot; + total_marks_secured\n                + &quot;, avg_marks_secured=&quot; + avg_marks_secured + &quot;]&quot;);\n    }\n    \n}\n</code></pre>\n<p>This is my Student Main Class</p>\n<pre><code> package com.src.StudentDetailsAsMap;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Map.Entry;\n\npublic class StudentMap {\n    public static void main(String[] arg) {\n        StudentDetails obj = new StudentDetails();\n        ArrayList&lt;Integer&gt; marks = new ArrayList&lt;Integer&gt;();\n        Map&lt;StudentDetails,ArrayList&lt;Integer&gt;&gt; mp = new HashMap&lt;StudentDetails,ArrayList&lt;Integer&gt;&gt;();\n        \n        obj = new StudentDetails(1,&quot;kevin&quot;,20,&quot;23425&quot;,89,98,89);\n        marks.add(obj.getM1());\n        marks.add(obj.getM2());\n        marks.add(obj.getM3());\n        System.out.println(&quot;marks1: &quot; + marks.get(0) + &quot; &quot; + marks.get(1) +&quot; &quot; + marks.get(2));\n        mp.put(obj,marks);\n        \n        marks.clear();\n        obj = new StudentDetails(2,&quot;fred&quot;,20,&quot;12345&quot;,81,98,89);\n        marks.add(obj.getM1());\n        marks.add(obj.getM2());\n        marks.add(obj.getM3());\n        System.out.println(&quot;marks2 &quot; + marks.get(0) + &quot; &quot; + marks.get(1) +&quot; &quot; + marks.get(2));\n        mp.put(obj,marks);\n        \n        obj = new StudentDetails(3,&quot;rue&quot;,20,&quot;24564&quot;,89,56,89);\n        marks.clear();\n        marks.add(obj.getM1());\n        marks.add(obj.getM2());\n        marks.add(obj.getM3());\n        mp.put(obj,marks);\n        \n        \n        obj = new StudentDetails(4,&quot;paxton&quot;,20,&quot;85756&quot;,89,35,89);\n        marks.clear();\n        marks.add(obj.getM1());\n        marks.add(obj.getM2());\n        marks.add(obj.getM3());\n        mp.put(obj,marks);\n        \n        \n        for(Entry mp1 : mp.entrySet()) {\n            StudentDetails s = (StudentDetails) mp1.getKey();\n            System.out.println(&quot;Key: &quot;);\n            s.display();\n            System.out.println(&quot;Value: &quot;);\n            ArrayList&lt;Integer&gt; arr = (ArrayList&lt;Integer&gt;)mp1.getValue();\n            System.out.println(arr);\n        }\n        \n        \n    }\n    \n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/UeUVM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UeUVM.png\" alt=\"This is the output I got\" /></a></p>\n"},{"tags":["java","nullpointerexception"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1665158844,"post_id":73989847,"comment_id":130641911,"body_markdown":"One option - on detection of `pointsList` is null, then return an empty `PointElement` list.","body":"One option - on detection of <code>pointsList</code> is null, then return an empty <code>PointElement</code> list."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1665160114,"post_id":73989847,"comment_id":130642358,"body_markdown":"This question cannot be answered until you first explain what `null` would _mean_. When `getPoints()` returns `null`, what does that imply? If it implies &#39;no points exist&#39;, then __your code is currently wrong__ - it should then return an empty list instead of `null`. If it means something else, then what is that, and why is it correct to act the same way as an empty list (do nothing)? Generally, either [A] this question is moot (as an empty list is returned, which you can just `stream()` as normal), or [B] The NPE is correct - you _want_ `retrievePoints` to crash, as the state isn&#39;t valid.","body":"This question cannot be answered until you first explain what <code>null</code> would <i>mean</i>. When <code>getPoints()</code> returns <code>null</code>, what does that imply? If it implies &#39;no points exist&#39;, then <b>your code is currently wrong</b> - it should then return an empty list instead of <code>null</code>. If it means something else, then what is that, and why is it correct to act the same way as an empty list (do nothing)? Generally, either [A] this question is moot (as an empty list is returned, which you can just <code>stream()</code> as normal), or [B] The NPE is correct - you <i>want</i> <code>retrievePoints</code> to crash, as the state isn&#39;t valid."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665159104,"creation_date":1665159104,"answer_id":73989923,"question_id":73989847,"body_markdown":"`Optional&lt;Collection&lt;T&gt;&gt;` is generally frowned upon. Return an empty collection instead.\r\n\r\n```\r\npublic static List&lt;PointElement&gt; retrievePoints(\r\n    FullResponse responseWrapper) {\r\n  List&lt;PointElement&gt; pointsList =\r\n      responseWrapper.getFullBreakdownResult().getPoints();\r\n  if (pointsList == null) return Collections.emptyList();\r\n\r\n  return pointsList.stream()\r\n      .map(\r\n          point -&gt;\r\n              new PointElement(\r\n                  null,\r\n                  null,\r\n                  point.getRefNum(),\r\n                  point.getPointCode()))\r\n      .collect(Collectors.toList());\r\n  }\r\n}\r\n```","title":"How to handle null if an element may not exist when returning from List&lt;&gt; method","body":"<p><code>Optional&lt;Collection&lt;T&gt;&gt;</code> is generally frowned upon. Return an empty collection instead.</p>\n<pre><code>public static List&lt;PointElement&gt; retrievePoints(\n    FullResponse responseWrapper) {\n  List&lt;PointElement&gt; pointsList =\n      responseWrapper.getFullBreakdownResult().getPoints();\n  if (pointsList == null) return Collections.emptyList();\n\n  return pointsList.stream()\n      .map(\n          point -&gt;\n              new PointElement(\n                  null,\n                  null,\n                  point.getRefNum(),\n                  point.getPointCode()))\n      .collect(Collectors.toList());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22576767,"reputation":169,"user_id":16762098,"display_name":"AbrahamSantos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665160468,"creation_date":1665160468,"answer_id":73990148,"question_id":73989847,"body_markdown":"May be you need filter the data inside in your stream&lt;PointElement&gt;, using filter is perfect for this case.\r\n\r\n```java\r\n        public static List&lt;PointElement&gt; retrievePoint(FullResponse responseWrapper){\r\n        List&lt;PointElement&gt; pointsList = responseWrapper.getFullBreakdownResult().getPoints();\r\n        if(pointsList == null)return Collections.emptyList();\r\n        return pointsList.stream().filter(point -&gt; points!=null).map(point -&gt;newPointElement(null,null,point.getRefNum(),point.getPointCode())).collections(Collectors.toList());\r\n        }\r\n```\r\nIf you prefer use Objects from java.util, to validate if a Object is null, like:\r\n\r\n```java\r\nif(Objects.isNull(pointsList)) return Collections.emptyList();\r\n```\r\n\r\nAnd you can use in a stream like:\r\n```java\r\nreturn list.stream().filter(e-&gt; Objects.nonNull(e)).collect(Collectors.toList());\r\n```\r\n\r\nOr \r\n\r\n```java\r\nreturn list.stream().filter(Objects::nonNull).collect(Collectors.toList());\r\n```","title":"How to handle null if an element may not exist when returning from List&lt;&gt; method","body":"<p>May be you need filter the data inside in your stream, using filter is perfect for this case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        public static List&lt;PointElement&gt; retrievePoint(FullResponse responseWrapper){\n        List&lt;PointElement&gt; pointsList = responseWrapper.getFullBreakdownResult().getPoints();\n        if(pointsList == null)return Collections.emptyList();\n        return pointsList.stream().filter(point -&gt; points!=null).map(point -&gt;newPointElement(null,null,point.getRefNum(),point.getPointCode())).collections(Collectors.toList());\n        }\n</code></pre>\n<p>If you prefer use Objects from java.util, to validate if a Object is null, like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(Objects.isNull(pointsList)) return Collections.emptyList();\n</code></pre>\n<p>And you can use in a stream like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return list.stream().filter(e-&gt; Objects.nonNull(e)).collect(Collectors.toList());\n</code></pre>\n<p>Or</p>\n<pre class=\"lang-java prettyprint-override\"><code>return list.stream().filter(Objects::nonNull).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665240128,"creation_date":1665160976,"answer_id":73990225,"question_id":73989847,"body_markdown":"As *@knittl* has pointed out in his answer, wrapping a Collection with an `Optional` doesn&#39;t make sense.\r\n\r\n`Optional` was designed as a container of nullable data, and you can safely interact with the container regardless whether it contains a value or not. But Collections and arrays by their nature are also **containers of data**, they can represent the absence of data by being empty and that can be verified without any issues.\r\n\r\nTherefore, `List` would be sufficient as a return value.\r\n\r\nSince you&#39;re not treating the case when `responseWrapper.getFullBreakdownResult().getPoints()` doesn&#39;t return a data as a normal event and not going to throw an exception or log this information, then you can use Java 9 method [`Stream.ofNullable()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#ofNullable(T)) to generate a stream pipeline from the nullable source.\r\n\r\n    public static List&lt;PointElement&gt; retrievePoints(FullResponse responseWrapper) {\r\n        \r\n        return Stream.ofNullable(responseWrapper.getFullBreakdownResult().getPoints())\r\n            .flatMap(Collection::stream)\r\n            .map(point -&gt;\r\n                    new PointElement(\r\n                        null,\r\n                        null,\r\n                        point.getRefNum(),\r\n                        point.getPointCode())\r\n            )\r\n            .toList(); // for Java 16 or collect(Collectors.toList())\r\n    }","title":"How to handle null if an element may not exist when returning from List&lt;&gt; method","body":"<p>As <em>@knittl</em> has pointed out in his answer, wrapping a Collection with an <code>Optional</code> doesn't make sense.</p>\n<p><code>Optional</code> was designed as a container of nullable data, and you can safely interact with the container regardless whether it contains a value or not. But Collections and arrays by their nature are also <strong>containers of data</strong>, they can represent the absence of data by being empty and that can be verified without any issues.</p>\n<p>Therefore, <code>List</code> would be sufficient as a return value.</p>\n<p>Since you're not treating the case when <code>responseWrapper.getFullBreakdownResult().getPoints()</code> doesn't return a data as a normal event and not going to throw an exception or log this information, then you can use Java 9 method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#ofNullable(T)\" rel=\"nofollow noreferrer\"><code>Stream.ofNullable()</code></a> to generate a stream pipeline from the nullable source.</p>\n<pre><code>public static List&lt;PointElement&gt; retrievePoints(FullResponse responseWrapper) {\n    \n    return Stream.ofNullable(responseWrapper.getFullBreakdownResult().getPoints())\n        .flatMap(Collection::stream)\n        .map(point -&gt;\n                new PointElement(\n                    null,\n                    null,\n                    point.getRefNum(),\n                    point.getPointCode())\n        )\n        .toList(); // for Java 16 or collect(Collectors.toList())\n}\n</code></pre>\n"}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":471,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":3,"score":-3,"last_activity_date":1665240128,"creation_date":1665158694,"question_id":73989847,"body_markdown":"I have this method:\r\n\r\n```Java\r\npublic static List&lt;PointElement&gt; retrievePoints(\r\n    FullResponse responseWrapper) {\r\n  List&lt;PointElement&gt; pointsList =\r\n      responseWrapper.getFullBreakdownResult().getPoints();\r\n  return pointsList.stream()\r\n      .map(\r\n          point -&gt;\r\n              new PointElement(\r\n                  null,\r\n                  null,\r\n                  point.getRefNum(),\r\n                  point.getPointCode()))\r\n      .collect(Collectors.toList());\r\n  }\r\n}\r\n```\r\n\r\nIt&#39;s possible that `pointsList` might be a null value. Currently if that&#39;s the case I get a `NullPointerException` at the `return`.\r\n\r\nI thought maybe I could change it to:\r\n\r\n```Java\r\npublic static Optional&lt;List&lt;PointElement&gt;&gt; retrievePoints(\r\n    FullResponse responseWrapper) {\r\n  Optional&lt;List&lt;PointElement&gt;&gt; pointsList =\r\n      responseWrapper.getFullBreakdownResult().getPoints();\r\n  return pointsList.stream()\r\n      .map(\r\n          point -&gt;\r\n              new PointElement(\r\n                  null,\r\n                  null,\r\n                  point.getRefNum(),\r\n                  point.getPointCode()))\r\n      .collect(Collectors.toList());\r\n  }\r\n}\r\n```\r\n\r\nThat causes other issues in that methods `point.getRefNum()` and `point.getPointCode()` cannot be resolved?\r\n\r\nHow do I resolve this issue?","title":"How to handle null if an element may not exist when returning from List&lt;&gt; method","body":"<p>I have this method:</p>\n<pre><code>public static List&lt;PointElement&gt; retrievePoints(\n    FullResponse responseWrapper) {\n  List&lt;PointElement&gt; pointsList =\n      responseWrapper.getFullBreakdownResult().getPoints();\n  return pointsList.stream()\n      .map(\n          point -&gt;\n              new PointElement(\n                  null,\n                  null,\n                  point.getRefNum(),\n                  point.getPointCode()))\n      .collect(Collectors.toList());\n  }\n}\n</code></pre>\n<p>It's possible that <code>pointsList</code> might be a null value. Currently if that's the case I get a <code>NullPointerException</code> at the <code>return</code>.</p>\n<p>I thought maybe I could change it to:</p>\n<pre><code>public static Optional&lt;List&lt;PointElement&gt;&gt; retrievePoints(\n    FullResponse responseWrapper) {\n  Optional&lt;List&lt;PointElement&gt;&gt; pointsList =\n      responseWrapper.getFullBreakdownResult().getPoints();\n  return pointsList.stream()\n      .map(\n          point -&gt;\n              new PointElement(\n                  null,\n                  null,\n                  point.getRefNum(),\n                  point.getPointCode()))\n      .collect(Collectors.toList());\n  }\n}\n</code></pre>\n<p>That causes other issues in that methods <code>point.getRefNum()</code> and <code>point.getPointCode()</code> cannot be resolved?</p>\n<p>How do I resolve this issue?</p>\n"},{"tags":["java","android","gradle","netbeans","emulation"],"comments":[{"owner":{"account_id":6994799,"reputation":11485,"user_id":5362795,"display_name":"Nagev"},"score":0,"creation_date":1665240319,"post_id":73922119,"comment_id":130655772,"body_markdown":"See also: [Can I develop Android Apps without an IDE](https://stackoverflow.com/questions/29290588/can-i-develop-android-apps-without-an-ide)","body":"See also: <a href=\"https://stackoverflow.com/questions/29290588/can-i-develop-android-apps-without-an-ide\">Can I develop Android Apps without an IDE</a>"},{"owner":{"account_id":26318201,"reputation":5076,"user_id":19980636,"display_name":"Krokomot"},"score":0,"creation_date":1683113804,"post_id":73922119,"comment_id":134315910,"body_markdown":"Meanwhile a more current answer can be found here: https://stackoverflow.com/a/76150499/19980636","body":"Meanwhile a more current answer can be found here: <a href=\"https://stackoverflow.com/a/76150499/19980636\">stackoverflow.com/a/76150499/19980636</a>"}],"answers":[{"tags":[],"owner":{"account_id":23860974,"reputation":41,"user_id":17863927,"display_name":"Ehsan Abid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664667283,"creation_date":1664667283,"answer_id":73922433,"question_id":73922119,"body_markdown":"You actually can make Android Apps on Netbeans, but the setup is a bit too complicated. and also emulator will not work on 2 Gb Ram you need 8Gb ram to run emulator","title":"Can I build Android apps without Android Studio and Intelij idea and just with netbeans by knowing how to make android apps","body":"<p>You actually can make Android Apps on Netbeans, but the setup is a bit too complicated. and also emulator will not work on 2 Gb Ram you need 8Gb ram to run emulator</p>\n"}],"owner":{"account_id":26068930,"reputation":11,"user_id":19768972,"display_name":"Mohammadreza Hashemzadeh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665240078,"creation_date":1664662516,"question_id":73922119,"body_markdown":"I am beginner in Java and I want to build Android apps. Android Studio is installed on my system but will not run, because I have a PC with 2 GB RAM, 32 bit Windows 7 and a 200 GB disk drive.\r\n\r\nIntelliJ IDEA didn&#39;t work either. I can work with NetBeans. I can&#39;t upgrade the RAM, etc. But I am serious on Android app building. Can I install just an emulator and code on NetBeans (XML, Gradle, Java, SDK, etc.) and then run on emulator and finally convert it to APK? If yes, please tell me how to convert to APK, but if not, please advise me to do anything. I appreciate it in advance.","title":"Can I build Android apps without Android Studio and Intelij idea and just with netbeans by knowing how to make android apps","body":"<p>I am beginner in Java and I want to build Android apps. Android Studio is installed on my system but will not run, because I have a PC with 2 GB RAM, 32 bit Windows 7 and a 200 GB disk drive.</p>\n<p>IntelliJ IDEA didn't work either. I can work with NetBeans. I can't upgrade the RAM, etc. But I am serious on Android app building. Can I install just an emulator and code on NetBeans (XML, Gradle, Java, SDK, etc.) and then run on emulator and finally convert it to APK? If yes, please tell me how to convert to APK, but if not, please advise me to do anything. I appreciate it in advance.</p>\n"},{"tags":["java","android","slack-api"],"answers":[{"tags":[],"owner":{"account_id":5513612,"reputation":31129,"user_id":4379151,"display_name":"Erik Kalkoken"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536677799,"creation_date":1536677799,"answer_id":52278812,"question_id":52278246,"body_markdown":"Incoming webhooks on Slack are very easy to use and basically work with any programming language / platform as long as you are able to send a HTTP POST request. \r\n\r\nFirst I would recommend to check out the [excellent documentation][1] with step-by-step instructions on how to get started with webhooks.\r\n\r\nThen to get the feel for how webhooks I would advise playing around with it using tools like [Postman][2] or [cURL][3].\r\n\r\nLast but not least: if you want to learn how to make a HTTP POST request in Java, check out [this answer][4].\r\n\r\n\r\n  [1]: https://api.slack.com/incoming-webhooks#getting-started\r\n  [2]: https://www.getpostman.com/\r\n  [3]: https://curl.haxx.se/\r\n  [4]: https://stackoverflow.com/questions/3324717/sending-http-post-request-in-java","title":"Send messages using Slack Incoming webhooks","body":"<p>Incoming webhooks on Slack are very easy to use and basically work with any programming language / platform as long as you are able to send a HTTP POST request. </p>\n\n<p>First I would recommend to check out the <a href=\"https://api.slack.com/incoming-webhooks#getting-started\" rel=\"nofollow noreferrer\">excellent documentation</a> with step-by-step instructions on how to get started with webhooks.</p>\n\n<p>Then to get the feel for how webhooks I would advise playing around with it using tools like <a href=\"https://www.getpostman.com/\" rel=\"nofollow noreferrer\">Postman</a> or <a href=\"https://curl.haxx.se/\" rel=\"nofollow noreferrer\">cURL</a>.</p>\n\n<p>Last but not least: if you want to learn how to make a HTTP POST request in Java, check out <a href=\"https://stackoverflow.com/questions/3324717/sending-http-post-request-in-java\">this answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":4215032,"reputation":11,"user_id":3451534,"display_name":"Learning Technology"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665239261,"creation_date":1665216217,"answer_id":73995377,"question_id":52278246,"body_markdown":"You can follow below steps: \r\n\r\n 1. First create your app for custom messages using this [URL][1]\r\n\r\n\r\n2. If you want to send messages in various beautiful layouts, follow this [link][2]\r\n\r\n\r\n3. Sample working code for aforementioned layouts:\r\n\r\nCode:\r\n\r\n    \t\tList&lt;LayoutBlock&gt; message = new ArrayList&lt;&gt;();\r\n            message.add(SectionBlock.builder()\r\n\t\t\t\t.text(MarkdownTextObject.builder().text(&quot;*&quot;Subject of the message &quot;*&quot;).build()).build());\r\n\r\n    message.add(\r\n\t\t\t\tSectionBlock\r\n\t\t\t\t\t\t.builder().fields(\r\n\t\t\t\t\t\t\t\tArrays.asList(\r\n\t\t\t\t\t\t\t\t\t\tMarkdownTextObject.builder()\r\n\t\t\t\t\t\t\t\t\t\t\t\t.text(&quot;*First Topic:* &quot;Your text&quot;)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.build(),\r\n    MarkdownTextObject.builder().text(&quot;*Second topic:* &quot;Your text &quot;).build())).build());\r\n\r\n    message.add(DividerBlock.builder().build());\r\n\r\n    ChatPostMessageRequest request = ChatPostMessageRequest.builder().channel(&quot;Your Slack Channel ID&quot;).blocks(message)\r\n\t\t\t\t.build();\r\n    ChatPostMessageResponse response = methodsClient.chatPostMessage(request);\r\n    response.getChannel();\r\n\r\nPS: If you want to add any link in your message:\r\n\r\n    MarkdownTextObject.builder().text(&quot;*Link Text:* &lt;&quot;https://..&quot;|click here&gt;&quot;).build()\r\n\r\nNote: You can edit the layout as per your ease, [refer this url][3]\r\n\r\n\r\n  [1]: https://api.slack.com/messaging/webhooks#getting-started\r\n  [2]: https://api.slack.com/messaging/composing/layouts\r\n  [3]: https://app.slack.com/block-kit-builder/T033N74ES4U#%7B%22blocks%22:%5B%7B%22type%22:%22header%22,%22text%22:%7B%22type%22:%22plain_text%22,%22text%22:%22New%20request%22,%22emoji%22:true%7D%7D,%7B%22type%22:%22section%22,%22fields%22:%5B%7B%22type%22:%22mrkdwn%22,%22text%22:%22*Type:*%5CnPaid%20Time%20Off%22%7D,%7B%22type%22:%22mrkdwn%22,%22text%22:%22*Created%20by:*%5Cn%3Cexample.com%7CFred%20Enriquez%3E%22%7D%5D%7D,%7B%22type%22:%22section%22,%22fields%22:%5B%7B%22type%22:%22mrkdwn%22,%22text%22:%22*When:*%5CnAug%2010%20-%20Aug%2013%22%7D,%7B%22type%22:%22mrkdwn%22,%22text%22:%22*Type:*%5CnPaid%20time%20off%22%7D%5D%7D,%7B%22type%22:%22section%22,%22fields%22:%5B%7B%22type%22:%22mrkdwn%22,%22text%22:%22*Hours:*%5Cn16.0%20(2%20days)%22%7D,%7B%22type%22:%22mrkdwn%22,%22text%22:%22*Remaining%20balance:*%5Cn32.0%20hours%20(4%20days)%22%7D%5D%7D,%7B%22type%22:%22section%22,%22text%22:%7B%22type%22:%22mrkdwn%22,%22text%22:%22%3Chttps://example.com%7CView%20request%3E%22%7D%7D%5D%7D","title":"Send messages using Slack Incoming webhooks","body":"<p>You can follow below steps:</p>\n<ol>\n<li><p>First create your app for custom messages using this <a href=\"https://api.slack.com/messaging/webhooks#getting-started\" rel=\"nofollow noreferrer\">URL</a></p>\n</li>\n<li><p>If you want to send messages in various beautiful layouts, follow this <a href=\"https://api.slack.com/messaging/composing/layouts\" rel=\"nofollow noreferrer\">link</a></p>\n</li>\n<li><p>Sample working code for aforementioned layouts:</p>\n</li>\n</ol>\n<p>Code:</p>\n<pre><code>        List&lt;LayoutBlock&gt; message = new ArrayList&lt;&gt;();\n        message.add(SectionBlock.builder()\n            .text(MarkdownTextObject.builder().text(&quot;*&quot;Subject of the message &quot;*&quot;).build()).build());\n\nmessage.add(\n            SectionBlock\n                    .builder().fields(\n                            Arrays.asList(\n                                    MarkdownTextObject.builder()\n                                            .text(&quot;*First Topic:* &quot;Your text&quot;)\n                                            .build(),\nMarkdownTextObject.builder().text(&quot;*Second topic:* &quot;Your text &quot;).build())).build());\n\nmessage.add(DividerBlock.builder().build());\n\nChatPostMessageRequest request = ChatPostMessageRequest.builder().channel(&quot;Your Slack Channel ID&quot;).blocks(message)\n            .build();\nChatPostMessageResponse response = methodsClient.chatPostMessage(request);\nresponse.getChannel();\n</code></pre>\n<p>PS: If you want to add any link in your message:</p>\n<pre><code>MarkdownTextObject.builder().text(&quot;*Link Text:* &lt;&quot;https://..&quot;|click here&gt;&quot;).build()\n</code></pre>\n<p>Note: You can edit the layout as per your ease, <a href=\"https://app.slack.com/block-kit-builder/T033N74ES4U#%7B%22blocks%22:%5B%7B%22type%22:%22header%22,%22text%22:%7B%22type%22:%22plain_text%22,%22text%22:%22New%20request%22,%22emoji%22:true%7D%7D,%7B%22type%22:%22section%22,%22fields%22:%5B%7B%22type%22:%22mrkdwn%22,%22text%22:%22*Type:*%5CnPaid%20Time%20Off%22%7D,%7B%22type%22:%22mrkdwn%22,%22text%22:%22*Created%20by:*%5Cn%3Cexample.com%7CFred%20Enriquez%3E%22%7D%5D%7D,%7B%22type%22:%22section%22,%22fields%22:%5B%7B%22type%22:%22mrkdwn%22,%22text%22:%22*When:*%5CnAug%2010%20-%20Aug%2013%22%7D,%7B%22type%22:%22mrkdwn%22,%22text%22:%22*Type:*%5CnPaid%20time%20off%22%7D%5D%7D,%7B%22type%22:%22section%22,%22fields%22:%5B%7B%22type%22:%22mrkdwn%22,%22text%22:%22*Hours:*%5Cn16.0%20(2%20days)%22%7D,%7B%22type%22:%22mrkdwn%22,%22text%22:%22*Remaining%20balance:*%5Cn32.0%20hours%20(4%20days)%22%7D%5D%7D,%7B%22type%22:%22section%22,%22text%22:%7B%22type%22:%22mrkdwn%22,%22text%22:%22%3Chttps://example.com%7CView%20request%3E%22%7D%7D%5D%7D\" rel=\"nofollow noreferrer\">refer this url</a></p>\n"}],"owner":{"display_name":"user10217645"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665239261,"creation_date":1536676086,"question_id":52278246,"body_markdown":"I want to send a message in a channel in my slack workspace. I have seen many tutorials on how to use it but they are all in node.js, python but not java. Is there any way I could send a message at the slack channel #general when someone opens my app?\r\nThanks in advance","title":"Send messages using Slack Incoming webhooks","body":"<p>I want to send a message in a channel in my slack workspace. I have seen many tutorials on how to use it but they are all in node.js, python but not java. Is there any way I could send a message at the slack channel #general when someone opens my app?\nThanks in advance</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1665229771,"post_id":73996285,"comment_id":130653803,"body_markdown":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question.","body":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question."},{"owner":{"account_id":26563212,"reputation":9,"user_id":20190718,"display_name":"NK Developer"},"score":0,"creation_date":1665234363,"post_id":73996285,"comment_id":130654613,"body_markdown":"no sir logcat is correct and working fine but when i use download my app from playstore or use signed apk than it shows error","body":"no sir logcat is correct and working fine but when i use download my app from playstore or use signed apk than it shows error"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1665235170,"post_id":73996285,"comment_id":130654787,"body_markdown":"That&#39;s a crash. That&#39;s why I asked for a stack trace.","body":"That&#39;s a crash. That&#39;s why I asked for a stack trace."}],"answers":[{"tags":[],"owner":{"account_id":26563212,"reputation":9,"user_id":20190718,"display_name":"NK Developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665238771,"creation_date":1665236371,"answer_id":73997435,"question_id":73996285,"body_markdown":"I solved this problem by adding these lines in my app gradle build (Build Types) Section:\r\n\r\n    shrinkResources false\r\n        minifyEnabled false\r\n        signingConfig signingConfigs.debug\r\n\r\n","title":"My Signed APK Crash when i read or write data from Firebase Android Studio","body":"<p>I solved this problem by adding these lines in my app gradle build (Build Types) Section:</p>\n<pre><code>shrinkResources false\n    minifyEnabled false\n    signingConfig signingConfigs.debug\n</code></pre>\n"}],"owner":{"account_id":26563212,"reputation":9,"user_id":20190718,"display_name":"NK Developer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665238783,"creation_date":1665225261,"question_id":73996285,"body_markdown":"Basically i am using Both Firestore and Firebase realtime in my App. Once user signup in my app i saved user UID in realtime and than my recycler view fetch some category icon and name from my Firestore. Everything is working fine when i test my app on emulator directly from Android Studio\r\nbut when i generate Signed APK and when i install this app on mobile or emulator it show error when i signup the user.\r\n\r\nAuthentication System works fine user Email and UID is created Sucessfully in Firebase Auth system but realtime database not collecting data from my App Model classes.\r\n\r\nI hope you will understand my problem\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PohiM.png","title":"My Signed APK Crash when i read or write data from Firebase Android Studio","body":"<p>Basically i am using Both Firestore and Firebase realtime in my App. Once user signup in my app i saved user UID in realtime and than my recycler view fetch some category icon and name from my Firestore. Everything is working fine when i test my app on emulator directly from Android Studio\nbut when i generate Signed APK and when i install this app on mobile or emulator it show error when i signup the user.</p>\n<p>Authentication System works fine user Email and UID is created Sucessfully in Firebase Auth system but realtime database not collecting data from my App Model classes.</p>\n<p>I hope you will understand my problem</p>\n<p><img src=\"https://i.stack.imgur.com/PohiM.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","json","apache-kafka","confluent-schema-registry"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665237747,"creation_date":1665237747,"answer_id":73997630,"question_id":73988786,"body_markdown":"You will need the schema locally, but you can automatically download it during project compilation with the Schema Registry Maven plugin, for example. ","title":"JSON Schema + Schema registry + Kafka serialization","body":"<p>You will need the schema locally, but you can automatically download it during project compilation with the Schema Registry Maven plugin, for example.</p>\n"}],"owner":{"account_id":7166551,"reputation":31,"user_id":5475487,"display_name":"bahamut06"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":665,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665237747,"creation_date":1665153271,"question_id":73988786,"body_markdown":"I&#39;m trying to use JSON Schema with Kafka following https://docs.confluent.io/platform/current/schema-registry/serdes-develop/serdes-json.html#json-schema-serializer-and-deserializer\r\n\r\nI&#39;m using a generic class that gets built depending on the information coming from the DB. In that link there are 2 ways to serialize a message, to have a POJO class to derive the schema from it or to pass the schema directly to the producer using the @Schema annotation on a java class.\r\n\r\nI&#39;m storing the JSON schema on the confluent schema registry, so it doesn&#39;t make any sense to also have the schema hardcoded in the repository for serializing purposes.\r\nWe also took the effort to generify the Java class we use to come back to a POJO.\r\n\r\nIs there any way to use the schema fetched from the schema repository and use generic types, avoiding the use of POJOs with the same properties as the schema and plugins like jsonschema2pojo to send a message with Kafka?","title":"JSON Schema + Schema registry + Kafka serialization","body":"<p>I'm trying to use JSON Schema with Kafka following <a href=\"https://docs.confluent.io/platform/current/schema-registry/serdes-develop/serdes-json.html#json-schema-serializer-and-deserializer\" rel=\"nofollow noreferrer\">https://docs.confluent.io/platform/current/schema-registry/serdes-develop/serdes-json.html#json-schema-serializer-and-deserializer</a></p>\n<p>I'm using a generic class that gets built depending on the information coming from the DB. In that link there are 2 ways to serialize a message, to have a POJO class to derive the schema from it or to pass the schema directly to the producer using the @Schema annotation on a java class.</p>\n<p>I'm storing the JSON schema on the confluent schema registry, so it doesn't make any sense to also have the schema hardcoded in the repository for serializing purposes.\nWe also took the effort to generify the Java class we use to come back to a POJO.</p>\n<p>Is there any way to use the schema fetched from the schema repository and use generic types, avoiding the use of POJOs with the same properties as the schema and plugins like jsonschema2pojo to send a message with Kafka?</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665237627,"creation_date":1665236092,"answer_id":73997408,"question_id":73997282,"body_markdown":"You can assign attribute `access` of `@JsonProperty` to [`JsonProperty.Access.WRITE_ONLY`](https://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonProperty.Access.html#WRITE_ONLY) in order to be able to receive this property but exclude it while serializing a POJO.\r\n\r\n    @Getter\r\n    @ToString\r\n    @Builder\r\n    public static class User {\r\n        \r\n        private final UUID userUid;\r\n        private final String firstName;\r\n        private final String lastName;\r\n        private final Gender gender;\r\n        private final Integer age;\r\n        private final String email;\r\n        \r\n        public User(@JsonProperty(&quot;userUid&quot;) UUID userUid,\r\n                    @JsonProperty(value = &quot;firstName&quot;, access = JsonProperty.Access.WRITE_ONLY)\r\n                        String firstName,\r\n                    @JsonProperty(value = &quot;lastName&quot;, access = JsonProperty.Access.WRITE_ONLY)\r\n                        String lastName,\r\n                    @JsonProperty(&quot;gender&quot;) Gender gender,\r\n                    @JsonProperty(&quot;age&quot;) Integer age,\r\n                    @JsonProperty(&quot;email&quot;) String email) {\r\n            \r\n            this.userUid = userUid;\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n            this.gender = gender;\r\n            this.age = age;\r\n            this.email = email;\r\n        }\r\n        \r\n        // the rest code\r\n    }\r\n\r\n*Usage example:*\r\n```\r\nString user = mapper.writerWithDefaultPrettyPrinter()\r\n    .writeValueAsString(\r\n        User.builder()\r\n            .userUid(new UUID(1, 1))\r\n            .firstName(&quot;firstName&quot;)\r\n            .lastName(&quot;lastName&quot;)\r\n            .gender(User.Gender.MALE)\r\n            .age(1000)\r\n            .email(&quot;email@example.com&quot;)\r\n            .build()\r\n    );\r\n    \r\nSystem.out.println(user);\r\n```\r\n*Output:*\r\n```\r\n{\r\n  &quot;userUid&quot; : &quot;00000000-0000-0001-0000-000000000001&quot;,\r\n  &quot;gender&quot; : &quot;MALE&quot;,\r\n  &quot;age&quot; : 1000,\r\n  &quot;email&quot; : &quot;email@example.com&quot;,\r\n  &quot;fullName&quot; : &quot;firstName lastName&quot;,\r\n  &quot;dateOfBirth&quot; : 1022\r\n}\r\n```\r\n**Note:** there are no attributes `firstName` and `lastName`, but instead `fullName` is present because of the `public` method `getFullName()` which would be treated by Jackson as a plain getter (I&#39;m sure that was precisely the original intention of the OP, but it&#39;s worth to draw the reader&#39;s attention to this fact)","title":"jackson anotations with lombok @Getter dont work","body":"<p>You can assign attribute <code>access</code> of <code>@JsonProperty</code> to <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonProperty.Access.html#WRITE_ONLY\" rel=\"nofollow noreferrer\"><code>JsonProperty.Access.WRITE_ONLY</code></a> in order to be able to receive this property but exclude it while serializing a POJO.</p>\n<pre><code>@Getter\n@ToString\n@Builder\npublic static class User {\n    \n    private final UUID userUid;\n    private final String firstName;\n    private final String lastName;\n    private final Gender gender;\n    private final Integer age;\n    private final String email;\n    \n    public User(@JsonProperty(&quot;userUid&quot;) UUID userUid,\n                @JsonProperty(value = &quot;firstName&quot;, access = JsonProperty.Access.WRITE_ONLY)\n                    String firstName,\n                @JsonProperty(value = &quot;lastName&quot;, access = JsonProperty.Access.WRITE_ONLY)\n                    String lastName,\n                @JsonProperty(&quot;gender&quot;) Gender gender,\n                @JsonProperty(&quot;age&quot;) Integer age,\n                @JsonProperty(&quot;email&quot;) String email) {\n        \n        this.userUid = userUid;\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.gender = gender;\n        this.age = age;\n        this.email = email;\n    }\n    \n    // the rest code\n}\n</code></pre>\n<p><em>Usage example:</em></p>\n<pre><code>String user = mapper.writerWithDefaultPrettyPrinter()\n    .writeValueAsString(\n        User.builder()\n            .userUid(new UUID(1, 1))\n            .firstName(&quot;firstName&quot;)\n            .lastName(&quot;lastName&quot;)\n            .gender(User.Gender.MALE)\n            .age(1000)\n            .email(&quot;email@example.com&quot;)\n            .build()\n    );\n    \nSystem.out.println(user);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>{\n  &quot;userUid&quot; : &quot;00000000-0000-0001-0000-000000000001&quot;,\n  &quot;gender&quot; : &quot;MALE&quot;,\n  &quot;age&quot; : 1000,\n  &quot;email&quot; : &quot;email@example.com&quot;,\n  &quot;fullName&quot; : &quot;firstName lastName&quot;,\n  &quot;dateOfBirth&quot; : 1022\n}\n</code></pre>\n<p><strong>Note:</strong> there are no attributes <code>firstName</code> and <code>lastName</code>, but instead <code>fullName</code> is present because of the <code>public</code> method <code>getFullName()</code> which would be treated by Jackson as a plain getter (I'm sure that was precisely the original intention of the OP, but it's worth to draw the reader's attention to this fact)</p>\n"}],"owner":{"account_id":20853579,"reputation":338,"user_id":16436722,"display_name":"стасевич"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73997408,"answer_count":1,"score":0,"last_activity_date":1665237627,"creation_date":1665234962,"question_id":73997282,"body_markdown":"having class, the data goes into the map\r\n\r\n    @Getter\r\n    @ToString\r\n    @Builder\r\n    //@FieldDefaults(level = AccessLevel.PRIVATE, makeFinal = true)\r\n    //@JsonIgnoreProperties(value = {&quot;firstName&quot;, &quot;lastName&quot;})\r\n    public class User {\r\n    \r\n    //    @JsonProperty(&quot;id&quot;)\r\n        private final UUID userUid;\r\n    \r\n        @JsonIgnore\r\n        private final String firstName;\r\n        @JsonIgnore\r\n        private final String lastName;\r\n        private final Gender gender;\r\n        private final Integer age;\r\n        private final String email;\r\n    \r\n        public enum Gender {\r\n            MALE, FEMALE\r\n        }\r\n    \r\n        public String getFullName() {\r\n            return this.firstName + &quot; &quot; + this.lastName;\r\n        }\r\n    \r\n        public int getDateOfBirth() {\r\n            return LocalDate.now().minusYears(age).getYear();\r\n        }\r\n    \r\n        public User(@JsonProperty(&quot;userUid&quot;) UUID userUid\r\n                , @JsonProperty(&quot;firstName&quot;) String firstName\r\n                , @JsonProperty(&quot;lastName&quot;) String lastName\r\n                , @JsonProperty(&quot;gender&quot;) Gender gender\r\n                , @JsonProperty(&quot;age&quot;) Integer age\r\n                , @JsonProperty(&quot;email&quot;) String email) {\r\n            this.userUid = userUid;\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n            this.gender = gender;\r\n            this.age = age;\r\n            this.email = email;\r\n        }\r\n    \r\n        public static User newUser(UUID userUid, User user) {\r\n            return User.builder()\r\n                    .userUid(userUid)\r\n                    .firstName(user.getFirstName())\r\n                    .lastName(user.getLastName())\r\n                    .gender(user.getGender())\r\n                    .age(user.getAge())\r\n                    .email(user.email)\r\n                    .build();\r\n        }\r\n    }    \r\n@JsonIgnore annotations on the field do not work, the fields are displayed in the response.  \r\nthe data is hidden when I annotate class by @JsonIgnoreProperties or by adding annotations over the getter.  \r\nand @JsonProperty above the field generally throws a 500 error ...\r\nIt turns out that jackson annotations with lombok @Getter do not work, and it is necessary to annotate getters, or am I doing something wrong?","title":"jackson anotations with lombok @Getter dont work","body":"<p>having class, the data goes into the map</p>\n<pre><code>@Getter\n@ToString\n@Builder\n//@FieldDefaults(level = AccessLevel.PRIVATE, makeFinal = true)\n//@JsonIgnoreProperties(value = {&quot;firstName&quot;, &quot;lastName&quot;})\npublic class User {\n\n//    @JsonProperty(&quot;id&quot;)\n    private final UUID userUid;\n\n    @JsonIgnore\n    private final String firstName;\n    @JsonIgnore\n    private final String lastName;\n    private final Gender gender;\n    private final Integer age;\n    private final String email;\n\n    public enum Gender {\n        MALE, FEMALE\n    }\n\n    public String getFullName() {\n        return this.firstName + &quot; &quot; + this.lastName;\n    }\n\n    public int getDateOfBirth() {\n        return LocalDate.now().minusYears(age).getYear();\n    }\n\n    public User(@JsonProperty(&quot;userUid&quot;) UUID userUid\n            , @JsonProperty(&quot;firstName&quot;) String firstName\n            , @JsonProperty(&quot;lastName&quot;) String lastName\n            , @JsonProperty(&quot;gender&quot;) Gender gender\n            , @JsonProperty(&quot;age&quot;) Integer age\n            , @JsonProperty(&quot;email&quot;) String email) {\n        this.userUid = userUid;\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.gender = gender;\n        this.age = age;\n        this.email = email;\n    }\n\n    public static User newUser(UUID userUid, User user) {\n        return User.builder()\n                .userUid(userUid)\n                .firstName(user.getFirstName())\n                .lastName(user.getLastName())\n                .gender(user.getGender())\n                .age(user.getAge())\n                .email(user.email)\n                .build();\n    }\n}    \n</code></pre>\n<p>@JsonIgnore annotations on the field do not work, the fields are displayed in the response.<br />\nthe data is hidden when I annotate class by @JsonIgnoreProperties or by adding annotations over the getter.<br />\nand @JsonProperty above the field generally throws a 500 error ...\nIt turns out that jackson annotations with lombok @Getter do not work, and it is necessary to annotate getters, or am I doing something wrong?</p>\n"},{"tags":["java","apache-spark","apache-kafka","hive","spark-streaming"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665237281,"creation_date":1665237281,"answer_id":73997569,"question_id":73990792,"body_markdown":"Yes, you can use filter operator of Structured Streaming to create distinct dataframes which can be individually written to other locations ","title":"Can we write to multiple hive tables based on the input events from a single kafka topic","body":"<p>Yes, you can use filter operator of Structured Streaming to create distinct dataframes which can be individually written to other locations</p>\n"}],"owner":{"account_id":23662858,"reputation":33,"user_id":17690699,"display_name":"L2607"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665237281,"creation_date":1665164429,"question_id":73990792,"body_markdown":"I have a scenario where im producing message from Oracle Db to kafka topic\r\n\r\nNow I’m consuming the messages from kafka using Java-Spark and I want to write it to respective hive tables based on the events consumed \r\n\r\nSay there are two tables where the message is received in kafka:\r\n\r\n    Table 1 has received 1 event \r\n    Table 2 has received 2events\r\n\r\nNow I want write :\r\n\r\n    table1.event —&gt; hive.table1 (1event)\r\n    Table2.event —&gt; hive.table2(2 events)\r\n\r\nI knew if have multiple topics we can implement it but here i have only one topic and write to hive table based on its conditions","title":"Can we write to multiple hive tables based on the input events from a single kafka topic","body":"<p>I have a scenario where im producing message from Oracle Db to kafka topic</p>\n<p>Now I’m consuming the messages from kafka using Java-Spark and I want to write it to respective hive tables based on the events consumed</p>\n<p>Say there are two tables where the message is received in kafka:</p>\n<pre><code>Table 1 has received 1 event \nTable 2 has received 2events\n</code></pre>\n<p>Now I want write :</p>\n<pre><code>table1.event —&gt; hive.table1 (1event)\nTable2.event —&gt; hive.table2(2 events)\n</code></pre>\n<p>I knew if have multiple topics we can implement it but here i have only one topic and write to hive table based on its conditions</p>\n"},{"tags":["java","spring","spring-boot","junit","junit5"],"comments":[{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1592477763,"post_id":62448186,"comment_id":110442486,"body_markdown":"Why do you Spy the UserRestService? And to use @NoArgsConstructor you have to remove final on the specified member declarations","body":"Why do you Spy the UserRestService? And to use @NoArgsConstructor you have to remove final on the specified member declarations"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1592477863,"post_id":62448186,"comment_id":110442550,"body_markdown":"I received this code as it is. Is there a better way to implement this test?","body":"I received this code as it is. Is there a better way to implement this test?"}],"answers":[{"tags":[],"owner":{"account_id":9929807,"reputation":562,"user_id":7350192,"accept_rate":100,"display_name":"KUSH42"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1592477560,"creation_date":1592477560,"answer_id":62448300,"question_id":62448186,"body_markdown":"You have two options:\r\n\r\n1) Remove final declaration from fields so that the default constructor becomes available for Mockito to use.\r\n\r\n2) Provide a no-args Constructor (simply a constructor that does not take any parameters) and initialize the fields in question yourself. ","title":"org.mockito.exceptions.base.MockitoException: Please ensure that the type &#39;UserRestService&#39; has a no-arg constructor","body":"<p>You have two options:</p>\n\n<p>1) Remove final declaration from fields so that the default constructor becomes available for Mockito to use.</p>\n\n<p>2) Provide a no-args Constructor (simply a constructor that does not take any parameters) and initialize the fields in question yourself. </p>\n"},{"tags":[],"owner":{"account_id":18132043,"reputation":77,"user_id":13187025,"display_name":"El Merrouni"},"down_vote_count":2,"up_vote_count":3,"is_accepted":true,"score":1,"last_activity_date":1592478859,"creation_date":1592478098,"answer_id":62448479,"question_id":62448186,"body_markdown":"Please do these two steps to resolve the issues\r\n\r\n 1. Try to use `@Mock` annotation instead of `@Spy` annotation\r\nOR\r\n 2. Remove `@Autowired` annotation from constructor as it&#39;s automatically injected. [Read this for more information ...](https://github.com/rcbandit111/wiki/blob/a7001be08c2df46db46d209d53bf86c809a85d3f/src/main/java/org/engine/service/UserRestService.java#L30)","title":"org.mockito.exceptions.base.MockitoException: Please ensure that the type &#39;UserRestService&#39; has a no-arg constructor","body":"<p>Please do these two steps to resolve the issues</p>\n\n<ol>\n<li>Try to use <code>@Mock</code> annotation instead of <code>@Spy</code> annotation\nOR</li>\n<li>Remove <code>@Autowired</code> annotation from constructor as it's automatically injected. <a href=\"https://github.com/rcbandit111/wiki/blob/a7001be08c2df46db46d209d53bf86c809a85d3f/src/main/java/org/engine/service/UserRestService.java#L30\" rel=\"nofollow noreferrer\">Read this for more information ...</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1592479895,"creation_date":1592479895,"answer_id":62449041,"question_id":62448186,"body_markdown":"Another option is to create the Spy userRestService explicitly\r\n\r\n    @Spy\r\n    private UserRestService userRestService = new UserRestService(...);\r\n\r\nand use created Spys or Mocks(as needed) as arguments \r\n\r\n","title":"org.mockito.exceptions.base.MockitoException: Please ensure that the type &#39;UserRestService&#39; has a no-arg constructor","body":"<p>Another option is to create the Spy userRestService explicitly</p>\n\n<pre><code>@Spy\nprivate UserRestService userRestService = new UserRestService(...);\n</code></pre>\n\n<p>and use created Spys or Mocks(as needed) as arguments </p>\n"},{"tags":[],"owner":{"account_id":1413237,"reputation":17260,"user_id":1339429,"accept_rate":89,"display_name":"JeanValjean"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1665237056,"creation_date":1665237056,"answer_id":73997527,"question_id":62448186,"body_markdown":"This happens when you use @Spy on a class that has no no-args constructors.\r\nSo, it means you have to pass arguments, most likely mocks.\r\nYou have to use both `@Spy` and `@InjectMocks`. E.g.:\r\n```java\r\n@Mock\r\nMyMockClass2 mock1;\r\n@Mock\r\nMyMockClass2 mock2;\r\n@Spy\r\n@InjectMocks\r\nMySpiedClass spy;\r\n```\r\n\r\nThe important thing is that dependencies are declared in the order that are required, otherwise Mockito doesn&#39;t have a mock/spy to inject.","title":"org.mockito.exceptions.base.MockitoException: Please ensure that the type &#39;UserRestService&#39; has a no-arg constructor","body":"<p>This happens when you use @Spy on a class that has no no-args constructors.\nSo, it means you have to pass arguments, most likely mocks.\nYou have to use both <code>@Spy</code> and <code>@InjectMocks</code>. E.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mock\nMyMockClass2 mock1;\n@Mock\nMyMockClass2 mock2;\n@Spy\n@InjectMocks\nMySpiedClass spy;\n</code></pre>\n<p>The important thing is that dependencies are declared in the order that are required, otherwise Mockito doesn't have a mock/spy to inject.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15657,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":62448479,"answer_count":4,"score":4,"last_activity_date":1665237056,"creation_date":1592477222,"question_id":62448186,"body_markdown":"I want to create JUnit5 tests for Rest API.\r\n\r\n    @Test\r\n    public void resetRequest_NAME_AND_EMAIL_MISMATCH() throws Exception {\r\n        when(userRestService.resetRequest(anyString(), anyString())).thenReturn(Boolean.valueOf(&quot;test&quot;));\r\n\r\n        MvcResult result = mockMvc.perform(post(&quot;/users/reset_request&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .content(ResetUserDTO))\r\n                .andExpect(status().isBadRequest())\r\n                .andReturn();\r\n\r\n        assertEquals(result.getResponse().getContentAsString(), &quot;NAME_AND_EMAIL_MISMATCH&quot;);\r\n    }\r\n\r\nFull code: [Github][1]\r\n\r\nBut when I run the test I get exception\r\n\r\n    org.mockito.exceptions.base.MockitoException: Unable to initialize @Spy annotated field &#39;userRestService&#39;.\r\n    Please ensure that the type &#39;UserRestService&#39; has a no-arg constructor.\r\n    .....\r\n    Caused by: org.mockito.exceptions.base.MockitoException: Please ensure that the type &#39;UserRestService&#39; has a no-arg constructor.\r\n    \t... 68 more\r\n\r\nRest service code: [GitHub][2]\r\n\r\nI tried to add @NoArgsConstructor but I get warning that variables (UsersService userService, PasswordAdminResetHandler resetHandler and etc...) are not initialized.\r\n\r\nDo you know how I can fix this issue?\r\n\r\n\r\n  [1]: https://github.com/rcbandit111/wiki/blob/master/src/test/org/engine/rest/UsersControllerTest.java#L187\r\n  [2]: https://github.com/rcbandit111/wiki/blob/master/src/main/java/org/engine/service/UserRestService.java","title":"org.mockito.exceptions.base.MockitoException: Please ensure that the type &#39;UserRestService&#39; has a no-arg constructor","body":"<p>I want to create JUnit5 tests for Rest API.</p>\n\n<pre><code>@Test\npublic void resetRequest_NAME_AND_EMAIL_MISMATCH() throws Exception {\n    when(userRestService.resetRequest(anyString(), anyString())).thenReturn(Boolean.valueOf(\"test\"));\n\n    MvcResult result = mockMvc.perform(post(\"/users/reset_request\")\n            .contentType(MediaType.APPLICATION_JSON)\n            .content(ResetUserDTO))\n            .andExpect(status().isBadRequest())\n            .andReturn();\n\n    assertEquals(result.getResponse().getContentAsString(), \"NAME_AND_EMAIL_MISMATCH\");\n}\n</code></pre>\n\n<p>Full code: <a href=\"https://github.com/rcbandit111/wiki/blob/master/src/test/org/engine/rest/UsersControllerTest.java#L187\" rel=\"nofollow noreferrer\">Github</a></p>\n\n<p>But when I run the test I get exception</p>\n\n<pre><code>org.mockito.exceptions.base.MockitoException: Unable to initialize @Spy annotated field 'userRestService'.\nPlease ensure that the type 'UserRestService' has a no-arg constructor.\n.....\nCaused by: org.mockito.exceptions.base.MockitoException: Please ensure that the type 'UserRestService' has a no-arg constructor.\n    ... 68 more\n</code></pre>\n\n<p>Rest service code: <a href=\"https://github.com/rcbandit111/wiki/blob/master/src/main/java/org/engine/service/UserRestService.java\" rel=\"nofollow noreferrer\">GitHub</a></p>\n\n<p>I tried to add @NoArgsConstructor but I get warning that variables (UsersService userService, PasswordAdminResetHandler resetHandler and etc...) are not initialized.</p>\n\n<p>Do you know how I can fix this issue?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7306153,"reputation":2760,"user_id":5567009,"display_name":"Nigam Patro"},"score":0,"creation_date":1450765389,"post_id":34409637,"comment_id":56560622,"body_markdown":"One number when run the program means?","body":"One number when run the program means?"},{"owner":{"account_id":3296070,"reputation":4445,"user_id":2773311,"accept_rate":73,"display_name":"Arc676"},"score":2,"creation_date":1450765448,"post_id":34409637,"comment_id":56560642,"body_markdown":"&quot;I want only one number&quot; Why do you have a loop that runs from 10 to 99? That will give you 89 numbers between 0 and 99.","body":"&quot;I want only one number&quot; Why do you have a loop that runs from 10 to 99? That will give you 89 numbers between 0 and 99."},{"owner":{"account_id":7164872,"reputation":494,"user_id":5474328,"display_name":"Haseeb Anser"},"score":0,"creation_date":1450765715,"post_id":34409637,"comment_id":56560762,"body_markdown":"Possible duplicate of [Generating random integers in a range with Java](http://stackoverflow.com/questions/363681/generating-random-integers-in-a-range-with-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/363681/generating-random-integers-in-a-range-with-java\">Generating random integers in a range with Java</a>"},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":1,"creation_date":1450765924,"post_id":34409637,"comment_id":56560837,"body_markdown":"Simple. `random.nextInt(90) + 10 ;` will always give you a number between 10 and 99.","body":"Simple. <code>random.nextInt(90) + 10 ;</code> will always give you a number between 10 and 99."}],"answers":[{"tags":[],"owner":{"account_id":3251380,"reputation":159,"user_id":2741520,"display_name":"Adarsh Bhat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450767945,"creation_date":1450765853,"answer_id":34409763,"question_id":34409637,"body_markdown":"You can use this method: \r\n\r\n    private static int showRandomInteger(int aStart, int aEnd, Random aRandom){\r\n        if (aStart &gt; aEnd) {\r\n          throw new IllegalArgumentException(&quot;Start cannot exceed End.&quot;);\r\n        }\r\n        //get the range, casting to long to avoid overflow problems\r\n        long range = (long)aEnd - (long)aStart + 1;\r\n        // compute a fraction of the range, 0 &lt;= frac &lt; range\r\n        long fraction = (long)(range * aRandom.nextDouble());\r\n        int randomNumber =  (int)(fraction + aStart);    \r\n        return randomNumber;\r\n    }\r\n\r\n\r\nThe parameters you have to pass to this method are: \r\n\r\n - `aStart` : your starting value(i.e. 10 in you case)\r\n - `aEnd` : your ending value(i.e 99 in your case)\r\n - `aRandom` : this would be an object of the `Random` class.(`Random random=new Random();`)","title":"Random number generator two digit","body":"<p>You can use this method: </p>\n\n<pre><code>private static int showRandomInteger(int aStart, int aEnd, Random aRandom){\n    if (aStart &gt; aEnd) {\n      throw new IllegalArgumentException(\"Start cannot exceed End.\");\n    }\n    //get the range, casting to long to avoid overflow problems\n    long range = (long)aEnd - (long)aStart + 1;\n    // compute a fraction of the range, 0 &lt;= frac &lt; range\n    long fraction = (long)(range * aRandom.nextDouble());\n    int randomNumber =  (int)(fraction + aStart);    \n    return randomNumber;\n}\n</code></pre>\n\n<p>The parameters you have to pass to this method are: </p>\n\n<ul>\n<li><code>aStart</code> : your starting value(i.e. 10 in you case)</li>\n<li><code>aEnd</code> : your ending value(i.e 99 in your case)</li>\n<li><code>aRandom</code> : this would be an object of the <code>Random</code> class.(<code>Random random=new Random();</code>)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7511154,"reputation":381,"user_id":5706032,"display_name":"James Cootware"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1450765993,"creation_date":1450765993,"answer_id":34409790,"question_id":34409637,"body_markdown":"With random numbers, if you need to start at a certain number, just add the random number to that lower limit. The upper limit passed to the random number will be the upper bounds minus the lower limit. \r\n\r\n    int num = random.nextInt(90) + 10;","title":"Random number generator two digit","body":"<p>With random numbers, if you need to start at a certain number, just add the random number to that lower limit. The upper limit passed to the random number will be the upper bounds minus the lower limit. </p>\n\n<pre><code>int num = random.nextInt(90) + 10;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7985591,"reputation":75,"user_id":6025240,"display_name":"Colthurling"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512564657,"creation_date":1512564657,"answer_id":47674740,"question_id":34409637,"body_markdown":"Random random = new Random();\r\n\r\n// generate a random integer from 10 to 90 i.e 2 digit random no.\r\n\r\n    int abc =  10+random.nextInt(90);","title":"Random number generator two digit","body":"<p>Random random = new Random();</p>\n\n<p>// generate a random integer from 10 to 90 i.e 2 digit random no.</p>\n\n<pre><code>int abc =  10+random.nextInt(90);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20471398,"reputation":191,"user_id":15021738,"display_name":"dust"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665236621,"creation_date":1616041226,"answer_id":66684726,"question_id":34409637,"body_markdown":"java code to generate random two digit number.\r\n\r\n        import java.util.*;\r\n\r\n    public class RandomNumbers{\r\n            public static void main(String[] args){\r\n                    Random rand = new Random();\r\n                    int random=rand.nextInt(90)+10; //generates random no. between 10 and 100\r\n                    System.out.println(random);\r\n            }\r\n    }\r\n\r\n\r\n","title":"Random number generator two digit","body":"<p>java code to generate random two digit number.</p>\n<pre><code>    import java.util.*;\n\npublic class RandomNumbers{\n        public static void main(String[] args){\n                Random rand = new Random();\n                int random=rand.nextInt(90)+10; //generates random no. between 10 and 100\n                System.out.println(random);\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":7507348,"reputation":19,"user_id":5703471,"display_name":"rakeshchowdary"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16570,"favorite_count":0,"down_vote_count":6,"up_vote_count":0,"answer_count":4,"score":-6,"last_activity_date":1665236621,"creation_date":1450765270,"question_id":34409637,"body_markdown":"    package com.nusecond.Code;\r\n    import java.util.*;\r\n    \r\n    public class Code {\r\n    \t\r\n    \tpublic static void main(String args[]){\r\n\r\n    \t\tRandom random=new Random();\r\n            for(int j=10;j&lt;=99;j++){\t\t\r\n    \t\t   int num=random.nextInt(100) ;\r\n    \t\t   //ssLong i=System.currentTimeMillis();\r\n         \t   //String result = String.format(&quot;%04d&quot;, i % 10000);\r\n        \t   System.out.println(&quot;Code generated:&quot;  +num);\r\n    \t    }\r\n    \t}\r\n    }\r\n\r\nI want to print two digit random numbers between 10 and 99.\r\n\r\nNote : I want only one number every time I run the program.\r\n\r\n","title":"Random number generator two digit","body":"<pre><code>package com.nusecond.Code;\nimport java.util.*;\n\npublic class Code {\n\n    public static void main(String args[]){\n\n        Random random=new Random();\n        for(int j=10;j&lt;=99;j++){        \n           int num=random.nextInt(100) ;\n           //ssLong i=System.currentTimeMillis();\n           //String result = String.format(\"%04d\", i % 10000);\n           System.out.println(\"Code generated:\"  +num);\n        }\n    }\n}\n</code></pre>\n\n<p>I want to print two digit random numbers between 10 and 99.</p>\n\n<p>Note : I want only one number every time I run the program.</p>\n"},{"tags":["java","csv","class","class-constructors"],"answers":[{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665164203,"creation_date":1665164203,"answer_id":73990751,"question_id":73990502,"body_markdown":"Here is a little example:\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        CSVReader csvReader = new CSVReader(new StringReader(\r\n                &quot;&quot;&quot;\r\n                        Col1, Col2\r\n                        aa, bb\r\n                        cc, dd\r\n                        &quot;&quot;&quot;));\r\n        CsvToBean&lt;MyBean&gt; parser = new CsvToBeanBuilder&lt;MyBean&gt;(csvReader)\r\n                .withType(MyBean.class).build();\r\n        List&lt;MyBean&gt; beans = parser.parse();\r\n\r\n        System.out.println(beans);\r\n    }\r\n    \r\n    @Data\r\n    public static class MyBean {\r\n        @CsvBindByName(column = &quot;Col1&quot;)\r\n        private String colum1;\r\n        @CsvBindByName(column = &quot;Col2&quot;)\r\n        private String colum2;\r\n    }\r\n}\r\n```\r\n\r\nHere is required dependencies:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.24&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nLombock is optional. You can create your bean the way you want.","title":"How to read a CSV file and store the information in a class, when I don&#39;t know the order of the columns that will be in the CSV file?","body":"<p>Here is a little example:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        CSVReader csvReader = new CSVReader(new StringReader(\n                &quot;&quot;&quot;\n                        Col1, Col2\n                        aa, bb\n                        cc, dd\n                        &quot;&quot;&quot;));\n        CsvToBean&lt;MyBean&gt; parser = new CsvToBeanBuilder&lt;MyBean&gt;(csvReader)\n                .withType(MyBean.class).build();\n        List&lt;MyBean&gt; beans = parser.parse();\n\n        System.out.println(beans);\n    }\n    \n    @Data\n    public static class MyBean {\n        @CsvBindByName(column = &quot;Col1&quot;)\n        private String colum1;\n        @CsvBindByName(column = &quot;Col2&quot;)\n        private String colum2;\n    }\n}\n</code></pre>\n<p>Here is required dependencies:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n            &lt;version&gt;5.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.24&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Lombock is optional. You can create your bean the way you want.</p>\n"},{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665166125,"creation_date":1665166125,"answer_id":73991104,"question_id":73990502,"body_markdown":"If you want to use core java only you can try this:\r\n\r\n```\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        StringReader reader = new StringReader(\r\n                &quot;&quot;&quot;\r\n                        Col1,Col2\r\n                        aa,bb\r\n                        cc,dd\r\n                        &quot;&quot;&quot;);\r\n\r\n        Scanner scanner = new Scanner(reader);\r\n\r\n        String[] header = scanner.nextLine().split(&quot;,&quot;);\r\n        Map&lt;String, Integer&gt; mapping = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; header.length; i++) {\r\n            mapping.put(header[i].trim(), i);\r\n        }\r\n\r\n        List&lt;MyBean&gt; list = new ArrayList&lt;&gt;();\r\n        while (scanner.hasNext()) {\r\n            String[] data = scanner.nextLine().split(&quot;,&quot;);\r\n            MyBean value = new MyBean();\r\n            value.setColum1(data[mapping.get(&quot;Col1&quot;)]);\r\n            value.setColum2(data[mapping.get(&quot;Col2&quot;)]);\r\n            list.add(value);\r\n        }\r\n\r\n        System.out.println(list);\r\n    }\r\n\r\n    @Data\r\n    public static class MyBean {\r\n        private String colum1;\r\n        private String colum2;\r\n    }\r\n}\r\n```","title":"How to read a CSV file and store the information in a class, when I don&#39;t know the order of the columns that will be in the CSV file?","body":"<p>If you want to use core java only you can try this:</p>\n<pre><code>\npublic class Main {\n    public static void main(String[] args) {\n        StringReader reader = new StringReader(\n                &quot;&quot;&quot;\n                        Col1,Col2\n                        aa,bb\n                        cc,dd\n                        &quot;&quot;&quot;);\n\n        Scanner scanner = new Scanner(reader);\n\n        String[] header = scanner.nextLine().split(&quot;,&quot;);\n        Map&lt;String, Integer&gt; mapping = new HashMap&lt;&gt;();\n        for (int i = 0; i &lt; header.length; i++) {\n            mapping.put(header[i].trim(), i);\n        }\n\n        List&lt;MyBean&gt; list = new ArrayList&lt;&gt;();\n        while (scanner.hasNext()) {\n            String[] data = scanner.nextLine().split(&quot;,&quot;);\n            MyBean value = new MyBean();\n            value.setColum1(data[mapping.get(&quot;Col1&quot;)]);\n            value.setColum2(data[mapping.get(&quot;Col2&quot;)]);\n            list.add(value);\n        }\n\n        System.out.println(list);\n    }\n\n    @Data\n    public static class MyBean {\n        private String colum1;\n        private String colum2;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22146679,"reputation":11,"user_id":16395800,"display_name":"DeviceGucci"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73991104,"answer_count":2,"score":-1,"last_activity_date":1665235251,"creation_date":1665162628,"question_id":73990502,"body_markdown":"I have an assignment, where I need to read a CSV file. I know that the first line of the CSV file will have the following information:\r\n\r\nLabelA,LabelB,LabelC,LabelD\r\n\r\nand that all of the lines below will have the corresponding information, so all the following lines of the CSV file looks like this:\r\n\r\nInfoA,InfoB,InfoC,InfoD\r\n\r\nI have created a class that stores all of that information, and then I need to create a HashMap to store all of those objects, each object with the information of a different line, however, the CSV File that I will be reading has a randomized order of the columns, so I might receive a CSV File that has the first line as:\r\n\r\nLabelD,LabelA,LabelB,LabelC\r\n\r\nWhich would make the following lines as:\r\n\r\nInfoD,InfoA,InfoB,InfoC\r\n\r\nHow can I approach this? Regardless of the order of the columns of the CSV file, I need to correctly store that information in an object.\r\n\r\nBefore this assignment, the order of the columns was always the same, so I was storing each line on a string, then splitting the string, and then putting the information in that order in the constructor of the object, but I can no longer do this, since the order will be randomized.\r\n\r\nI am not allowed to use any dependency other than java.io.File, java.util.Scanner, and java.util.HashMap.","title":"How to read a CSV file and store the information in a class, when I don&#39;t know the order of the columns that will be in the CSV file?","body":"<p>I have an assignment, where I need to read a CSV file. I know that the first line of the CSV file will have the following information:</p>\n<p>LabelA,LabelB,LabelC,LabelD</p>\n<p>and that all of the lines below will have the corresponding information, so all the following lines of the CSV file looks like this:</p>\n<p>InfoA,InfoB,InfoC,InfoD</p>\n<p>I have created a class that stores all of that information, and then I need to create a HashMap to store all of those objects, each object with the information of a different line, however, the CSV File that I will be reading has a randomized order of the columns, so I might receive a CSV File that has the first line as:</p>\n<p>LabelD,LabelA,LabelB,LabelC</p>\n<p>Which would make the following lines as:</p>\n<p>InfoD,InfoA,InfoB,InfoC</p>\n<p>How can I approach this? Regardless of the order of the columns of the CSV file, I need to correctly store that information in an object.</p>\n<p>Before this assignment, the order of the columns was always the same, so I was storing each line on a string, then splitting the string, and then putting the information in that order in the constructor of the object, but I can no longer do this, since the order will be randomized.</p>\n<p>I am not allowed to use any dependency other than java.io.File, java.util.Scanner, and java.util.HashMap.</p>\n"},{"tags":["java","multithreading","selector","socketchannel"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1665200588,"post_id":73994150,"comment_id":130649637,"body_markdown":"Did you de-register the `SelectKey.OP_WRITE`? If you didn&#39;t, well, you _can_ write, so, `select()` returns immediately.","body":"Did you de-register the <code>SelectKey.OP_WRITE</code>? If you didn&#39;t, well, you <i>can</i> write, so, <code>select()</code> returns immediately."},{"owner":{"account_id":1270404,"reputation":3896,"user_id":1226843,"accept_rate":58,"display_name":"Matthew"},"score":0,"creation_date":1665209021,"post_id":73994150,"comment_id":130650520,"body_markdown":"@rzwitserloot, That helped, but now the loop runs exactly twice. The select blocked the second time through. Any ideas on why it would loop twice before blocking instead of a single time?","body":"@rzwitserloot, That helped, but now the loop runs exactly twice. The select blocked the second time through. Any ideas on why it would loop twice before blocking instead of a single time?"},{"owner":{"account_id":1270404,"reputation":3896,"user_id":1226843,"accept_rate":58,"display_name":"Matthew"},"score":0,"creation_date":1665209056,"post_id":73994150,"comment_id":130650528,"body_markdown":"I thought you needed OP_WRITE because I was going to use the SocketChannel to actually write too...","body":"I thought you needed OP_WRITE because I was going to use the SocketChannel to actually write too..."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":1,"creation_date":1665212175,"post_id":73994150,"comment_id":130650966,"body_markdown":"You only need OP_WRITE if you were not able to write all data. So you want to be notified when more space in the socket send buffer comes available. If you managed to write all data, you do not want to register OP_WRITE.","body":"You only need OP_WRITE if you were not able to write all data. So you want to be notified when more space in the socket send buffer comes available. If you managed to write all data, you do not want to register OP_WRITE."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":1,"creation_date":1665212436,"post_id":73994150,"comment_id":130650999,"body_markdown":"When you create the channel, typically you only want to register OP_READ, not OP_WRITE.","body":"When you create the channel, typically you only want to register OP_READ, not OP_WRITE."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1665232793,"post_id":73994150,"comment_id":130654373,"body_markdown":"Your last flip should be a clear (or compact) For more info see https://www.tutorialspoint.com/java_nio/java_nio_socket_channel.htm","body":"Your last flip should be a clear (or compact) For more info see <a href=\"https://www.tutorialspoint.com/java_nio/java_nio_socket_channel.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/java_nio/java_nio_socket_channel.htm</a>"}],"answers":[{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665202998,"creation_date":1665200148,"answer_id":73994184,"question_id":73994150,"body_markdown":"When you call the buffer.array() to create the String, the ByteBuffer has no clue that the bytes have been consumed, so the state of the ByteBuffer remains unchanged. It still contains the read bytes and still wants them to be consumed. This causes the rereading of the same message.\r\n\r\nThe array returned on ByteBuffer.array(), has no clue about how many useful bytes are available. If the array has a capacity of 10 and only 8 byte has been set, you are trying to create a String with 2 bogus bytes. And if only 2 bytes have been read, you try to create as string based on 2 instead of 8 bytes. The string creation approach is incorrect.\r\n\r\nAfter you do a channel.write, you should do a compact or clear depending on if data is still available or not.\r\n\r\nI normally use 2 separate ByteBuffers; one for reading and one for writing.\r\n","title":"Selector.select() is not blocking after a SelectionKey.isReadable is read","body":"<p>When you call the buffer.array() to create the String, the ByteBuffer has no clue that the bytes have been consumed, so the state of the ByteBuffer remains unchanged. It still contains the read bytes and still wants them to be consumed. This causes the rereading of the same message.</p>\n<p>The array returned on ByteBuffer.array(), has no clue about how many useful bytes are available. If the array has a capacity of 10 and only 8 byte has been set, you are trying to create a String with 2 bogus bytes. And if only 2 bytes have been read, you try to create as string based on 2 instead of 8 bytes. The string creation approach is incorrect.</p>\n<p>After you do a channel.write, you should do a compact or clear depending on if data is still available or not.</p>\n<p>I normally use 2 separate ByteBuffers; one for reading and one for writing.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665235109,"creation_date":1665235109,"answer_id":73997299,"question_id":73994150,"body_markdown":"Multiple issues at work.\r\n\r\n## Buffer Management\r\n\r\n\r\n### String creation broken\r\n\r\nYou create a ByteBuffer and like all BBs they have a set capacity. You then read into it (`int numRead = channel.read(buffer)`) and this does one of two things:\r\n\r\n1. The capacity of the BB is _less_ than the amount of bytes that can be immediately stuffed into that buffer, copied straight over from your network card&#39;s buffers.\r\n\r\nIn this case, the entire BB is filled (`numRead` will be equal to the BB&#39;s capacity), and the &#39;READ READY&#39; status of that channel remains up (because there are still more bytes ready to copy over).\r\n\r\nNote that `bb.array()` returns _the entire backing array_, but in this scenario, given that the whole BB is filled to capacity, that &#39;works out&#39; so to speak.\r\n\r\n2. The capacity of the BB is _more_ than the amount of bytes that can be immediately stuffed into that buffer.\r\n\r\nIn this case, `numRead` will be _less_ than the total capacity of that bytebuffer, and `new String(bb.array())` __is broken__ - that would attempt to turn into a string the bytes you read so far _and_ a whole bunch of garbage at the end.\r\n\r\n`new String(bb.array(), 0, bb.position())` would do the job, but in general this isn&#39;t how you&#39;re meant to be doing things. For starters, you&#39;re now charset-confused (You really should be using `new String(bb.array(), 0, bb.position(), StandardCharsets.UTF_8)` - do not ever convert bytes to chars or vice versa unless you specify which encoding is being used, otherwise the system chooses for you and that&#39;s rarely correct, and always confusing).\r\n\r\n## No proper resetting\r\n\r\nThe general way a buffer is meant to be used is like this:\r\n\r\n* fill it (either you fill it, or you call read() on something).\r\n* flip it.\r\n* process with it (either you give it to something that sends the data in it, or you go through the bytes).\r\n* clear it.\r\n* repeat.\r\n\r\nYou fill it (`channel.read()`), then use direct array manipulation instead of flip+reads to &#39;process&#39; it (by passing the backing array to a string constructor), and then you `.flip()` it which is the wrong call, you want `.clear()`.\r\n\r\nBBs work that way because, well, logic:\r\n\r\n* They have a set capacity and you don&#39;t necessarily use _all_ of that capacity. Often you use a little less. So, you first fill it, and then you want that BB to allow injecting data from 0 all the way up to capacity: the &#39;position&#39; is 0 (and as we fill this thing it updates), the &#39;limit&#39; is set to the capacity.\r\n* Then to process it, we want position to be 0 again (we start processing from the beginning of course), but we want `limit` __not__ to be the end, because maybe it wasn&#39;t fully filled up exactly to capacity by whatever process put data into this thing... we want `limit` to be the position as it was (as that&#39;s where the &#39;process that filled the buffer&#39; left things). `flip()` does this: It sets position back to 0 and limit to where the position was.\r\n\r\nOnce you&#39;ve read data into your buffer and then processed that data, you want __clear__: You want position back to 0 and the limit back to the capacity, ready for the process that fills the buffer to star filling it again. `clear()` does that. Your code calls `flip()` which is wrong.\r\n\r\n### Confusion about selectors\r\n\r\nA selector is set up with certain thing you are &#39;interested in&#39;. When you ask it to `.select()`, you&#39;re saying:\r\n\r\n1. Is any of the stuff I&#39;m interested in possible right now? If yes, __return immediately__.\r\n2. If not, go to sleep until something I&#39;m interested in _might_ be possible.\r\n\r\nThe thing is, as you process a channel your opinion on what you&#39;re interested in __changes over time__, and you need to update that selector and turn on/off `SelectorKey`s as needed.\r\n\r\nFor example, let&#39;s say you are writing a simple chat program. Alice just pasted half of the collected works of shakespeare and your chat program now needs to send all this to Bob. You should now _turn on_ `SelectorKey.OP_WRITE` on bob&#39;s network channel. It should have been off before as you did not have anything to send to bob. But you have something to send now, so turn it on.\r\n\r\nYou then go to `select()` which is highly likely to return immediately (the network card has free buffer space for bob&#39;s connection). You start copying those collected works of shakespeare over into the bytebuffer but you won&#39;t &#39;make it&#39; - that buffer&#39;s capacity is less than shakespeare&#39;s total size. That&#39;s the point, that&#39;s fine. You then hand that buffer to the network and go back to selecting _while still interested in `OP_WRITE`_ because  you haven&#39;t copied all of shakespeare&#39;s collected works yet, you only did like a quarter so far.\r\n\r\nEventually the network clears that buffer out through the network cable, and only then will your selector go: Oh, hey, we&#39;re ready for some more writing!\r\n\r\nYou keep doing this process (add some more of the shakespeare you need to send) until you stuff the last of it in the buffer you then hand to the channel. You should then __remove__ `SelectorKey.OP_WRITE` because you now no longer care that the network buffer has room.\r\n\r\nWhilst all this was going on, you have a problem: What if Alice keeps sending more and more books, and she sends them faster than bob can receive them? That&#39;s possible, of course - maybe Alice is on glass fiber and Bob is on a satellite phone. You can of course choose to buffer all of this server side, but all things are limited: There comes a point when Alice has queued up 50GB worth of book content that you still have to send to Bob. You can either decide that your server will just  crash if Alice does this, or, you&#39;re going to have to put in a limit: Once the &#39;data that alice sent that I have yet to shove into the bob&#39;s channel&#39; reaches a certain amount, you have to go: Okay, Alice, no more.\r\n\r\nWhen that happens, __you have to deregister the `OP_READ` key__ - you know alice has sent you some data that is ready to read, but you don&#39;t want to read it, your buffers are full. This is sensible: If Bob has the slower connection and alice is sending heaps of data to bob, you can&#39;t process alice&#39;s bytes as fast as she can send them.\r\n\r\nRemember also that `.select()` is free to return spuriously (for no reason). Your code cannot assume &#39;oh hey `select()` returned therefore there MUST be at least one thing ready to do here&#39;. Maybe not. Why does it &#39;quickly return twice&#39;? Cuz. the JVM is allowed to.\r\n\r\nLow-level async NIO like this tends to cause spinning fans. This is the logic:\r\n\r\n1. Your code loop works very simply: You `while (true) {}` your way through: Do whatever I can do. Write whatever I can write, read whatever I can read, and then loop to do it over again forever and ever.\r\n2. The `x.select()` call __is the only thing__ stopping a runaway while loop. That is the only place you ever &#39;sleep&#39;. It&#39;s async: Thread sleeping is the death of your app (in an async model nothing is ever allowed to sleep except when selecting).\r\n3. If the selector is misconfigured, for example you have `OP_WRITE` registered and nothing to write, the selector will always instantly return.\r\n4. Thus, your code is runaway: It loops forever never sleeping, causing 100% CPU usage, fans turn on, laptops drain their battery in minutes, power is wasted, things get hot, IAAS costs go through the roof.\r\n\r\nasync NIO is rocket science; it&#39;s really really hard to do it correctly. Usually you want to use frameworks that make things easier like grizzly or netty.\r\n\r\n## Likely: Focusing on the wrong thing\r\n\r\nWriting low-level async code is like writing an app in low-level machine code. People tend to do it because &#39;they think it will be faster&#39; but the only thing they accomplish is that they make a task that took an hour to program, and made it a thing that takes a week, the end result is a hard to test, buggy mess, and is _actually slower_ because you don&#39;t know what you are doing and you underestimate how well all the middle layers (the compiler, the runtime, the OS, and so on) optimize.\r\n\r\nThere _are_ reasons to want to go that low level (when you&#39;re writing a kernel driver, for example), but usually you don&#39;t.\r\n\r\nSame here. Why are you using NIO here, exactly? It&#39;s not faster except in quite exotic circumstances, and it&#39;s definitely a lot harder to code for it. Java suffers (like most languages) from [&#39;the red/blue&#39; problem](https://will-keleher.com/posts/red-blue-function-mistakes-in-JS.html) quite severely.\r\n\r\nOSes have absolutely no issue handling 5000 threads and can do it quite efficiently. Yes, &#39;oh no the context switch&#39;, but note that context switching is intrinsic to handling many connections simultaneously: Cache misses are going to be frequent and async doesn&#39;t solve that problem. The blog posts writing about how async is cool because it avoids &#39;context switches&#39; all seem to forget that a cache miss due to having to hop to the buffers of another connection are just as much a &#39;context switch&#39; as a thread hop.\r\n\r\nThe one thing that you need to take care of when writing this code in a threaded fashion which is way, way simpler to write and maintain and test, is that you want to manage the stack sizes of your thread: You both want your threads to use limited stack size (if an exception occurs and the stack trace is a screen ful, that&#39;s a problem), and you want to set them up with limited sizes. You can specify stack sizes when creating threads (the thread constructor allows it, and various things that make threads such as a threaded `ExecutorPool` let you specify either the stack size, or a closure that makes threads). Use that and you can just write code that swiftly processes 5000 simultaneous connections using 10,000 threads, and it&#39;s all __much, much simpler__ to write than async. If you must go with async, use a framework to avoid the complications.\r\n\r\nTo go back to that alice sends faster than bob can receive model, note how much easier it is:\r\n\r\n1. You ask alice&#39;s `InputStream` to fill some byte array.\r\n2. You then ask bob&#39;s `OutputStream` to send the bytes in that array from 0 to however many you read.\r\n3. Go back to 1.\r\n\r\nThat&#39;s it. With the async stuff, either alice outpaces bob (in which case you better be turning off `OP_READ` on alice&#39;s connection to gate her input), or, bob outpaces alice (in which case you need to be turning off and on bob&#39;s `OP_WRITE`), or even that due to vagaries in network speeds, sometimes alice outpaces bob, and sometimes bob outpaces alice.\r\n\r\nWith sync, as above, __none of that matters__ - alice&#39;s `read()` call or bob&#39;s `write()` call, as needed, blocks, and that fixes all. See how much simpler that is?\r\n","title":"Selector.select() is not blocking after a SelectionKey.isReadable is read","body":"<p>Multiple issues at work.</p>\n<h2>Buffer Management</h2>\n<h3>String creation broken</h3>\n<p>You create a ByteBuffer and like all BBs they have a set capacity. You then read into it (<code>int numRead = channel.read(buffer)</code>) and this does one of two things:</p>\n<ol>\n<li>The capacity of the BB is <em>less</em> than the amount of bytes that can be immediately stuffed into that buffer, copied straight over from your network card's buffers.</li>\n</ol>\n<p>In this case, the entire BB is filled (<code>numRead</code> will be equal to the BB's capacity), and the 'READ READY' status of that channel remains up (because there are still more bytes ready to copy over).</p>\n<p>Note that <code>bb.array()</code> returns <em>the entire backing array</em>, but in this scenario, given that the whole BB is filled to capacity, that 'works out' so to speak.</p>\n<ol start=\"2\">\n<li>The capacity of the BB is <em>more</em> than the amount of bytes that can be immediately stuffed into that buffer.</li>\n</ol>\n<p>In this case, <code>numRead</code> will be <em>less</em> than the total capacity of that bytebuffer, and <code>new String(bb.array())</code> <strong>is broken</strong> - that would attempt to turn into a string the bytes you read so far <em>and</em> a whole bunch of garbage at the end.</p>\n<p><code>new String(bb.array(), 0, bb.position())</code> would do the job, but in general this isn't how you're meant to be doing things. For starters, you're now charset-confused (You really should be using <code>new String(bb.array(), 0, bb.position(), StandardCharsets.UTF_8)</code> - do not ever convert bytes to chars or vice versa unless you specify which encoding is being used, otherwise the system chooses for you and that's rarely correct, and always confusing).</p>\n<h2>No proper resetting</h2>\n<p>The general way a buffer is meant to be used is like this:</p>\n<ul>\n<li>fill it (either you fill it, or you call read() on something).</li>\n<li>flip it.</li>\n<li>process with it (either you give it to something that sends the data in it, or you go through the bytes).</li>\n<li>clear it.</li>\n<li>repeat.</li>\n</ul>\n<p>You fill it (<code>channel.read()</code>), then use direct array manipulation instead of flip+reads to 'process' it (by passing the backing array to a string constructor), and then you <code>.flip()</code> it which is the wrong call, you want <code>.clear()</code>.</p>\n<p>BBs work that way because, well, logic:</p>\n<ul>\n<li>They have a set capacity and you don't necessarily use <em>all</em> of that capacity. Often you use a little less. So, you first fill it, and then you want that BB to allow injecting data from 0 all the way up to capacity: the 'position' is 0 (and as we fill this thing it updates), the 'limit' is set to the capacity.</li>\n<li>Then to process it, we want position to be 0 again (we start processing from the beginning of course), but we want <code>limit</code> <strong>not</strong> to be the end, because maybe it wasn't fully filled up exactly to capacity by whatever process put data into this thing... we want <code>limit</code> to be the position as it was (as that's where the 'process that filled the buffer' left things). <code>flip()</code> does this: It sets position back to 0 and limit to where the position was.</li>\n</ul>\n<p>Once you've read data into your buffer and then processed that data, you want <strong>clear</strong>: You want position back to 0 and the limit back to the capacity, ready for the process that fills the buffer to star filling it again. <code>clear()</code> does that. Your code calls <code>flip()</code> which is wrong.</p>\n<h3>Confusion about selectors</h3>\n<p>A selector is set up with certain thing you are 'interested in'. When you ask it to <code>.select()</code>, you're saying:</p>\n<ol>\n<li>Is any of the stuff I'm interested in possible right now? If yes, <strong>return immediately</strong>.</li>\n<li>If not, go to sleep until something I'm interested in <em>might</em> be possible.</li>\n</ol>\n<p>The thing is, as you process a channel your opinion on what you're interested in <strong>changes over time</strong>, and you need to update that selector and turn on/off <code>SelectorKey</code>s as needed.</p>\n<p>For example, let's say you are writing a simple chat program. Alice just pasted half of the collected works of shakespeare and your chat program now needs to send all this to Bob. You should now <em>turn on</em> <code>SelectorKey.OP_WRITE</code> on bob's network channel. It should have been off before as you did not have anything to send to bob. But you have something to send now, so turn it on.</p>\n<p>You then go to <code>select()</code> which is highly likely to return immediately (the network card has free buffer space for bob's connection). You start copying those collected works of shakespeare over into the bytebuffer but you won't 'make it' - that buffer's capacity is less than shakespeare's total size. That's the point, that's fine. You then hand that buffer to the network and go back to selecting <em>while still interested in <code>OP_WRITE</code></em> because  you haven't copied all of shakespeare's collected works yet, you only did like a quarter so far.</p>\n<p>Eventually the network clears that buffer out through the network cable, and only then will your selector go: Oh, hey, we're ready for some more writing!</p>\n<p>You keep doing this process (add some more of the shakespeare you need to send) until you stuff the last of it in the buffer you then hand to the channel. You should then <strong>remove</strong> <code>SelectorKey.OP_WRITE</code> because you now no longer care that the network buffer has room.</p>\n<p>Whilst all this was going on, you have a problem: What if Alice keeps sending more and more books, and she sends them faster than bob can receive them? That's possible, of course - maybe Alice is on glass fiber and Bob is on a satellite phone. You can of course choose to buffer all of this server side, but all things are limited: There comes a point when Alice has queued up 50GB worth of book content that you still have to send to Bob. You can either decide that your server will just  crash if Alice does this, or, you're going to have to put in a limit: Once the 'data that alice sent that I have yet to shove into the bob's channel' reaches a certain amount, you have to go: Okay, Alice, no more.</p>\n<p>When that happens, <strong>you have to deregister the <code>OP_READ</code> key</strong> - you know alice has sent you some data that is ready to read, but you don't want to read it, your buffers are full. This is sensible: If Bob has the slower connection and alice is sending heaps of data to bob, you can't process alice's bytes as fast as she can send them.</p>\n<p>Remember also that <code>.select()</code> is free to return spuriously (for no reason). Your code cannot assume 'oh hey <code>select()</code> returned therefore there MUST be at least one thing ready to do here'. Maybe not. Why does it 'quickly return twice'? Cuz. the JVM is allowed to.</p>\n<p>Low-level async NIO like this tends to cause spinning fans. This is the logic:</p>\n<ol>\n<li>Your code loop works very simply: You <code>while (true) {}</code> your way through: Do whatever I can do. Write whatever I can write, read whatever I can read, and then loop to do it over again forever and ever.</li>\n<li>The <code>x.select()</code> call <strong>is the only thing</strong> stopping a runaway while loop. That is the only place you ever 'sleep'. It's async: Thread sleeping is the death of your app (in an async model nothing is ever allowed to sleep except when selecting).</li>\n<li>If the selector is misconfigured, for example you have <code>OP_WRITE</code> registered and nothing to write, the selector will always instantly return.</li>\n<li>Thus, your code is runaway: It loops forever never sleeping, causing 100% CPU usage, fans turn on, laptops drain their battery in minutes, power is wasted, things get hot, IAAS costs go through the roof.</li>\n</ol>\n<p>async NIO is rocket science; it's really really hard to do it correctly. Usually you want to use frameworks that make things easier like grizzly or netty.</p>\n<h2>Likely: Focusing on the wrong thing</h2>\n<p>Writing low-level async code is like writing an app in low-level machine code. People tend to do it because 'they think it will be faster' but the only thing they accomplish is that they make a task that took an hour to program, and made it a thing that takes a week, the end result is a hard to test, buggy mess, and is <em>actually slower</em> because you don't know what you are doing and you underestimate how well all the middle layers (the compiler, the runtime, the OS, and so on) optimize.</p>\n<p>There <em>are</em> reasons to want to go that low level (when you're writing a kernel driver, for example), but usually you don't.</p>\n<p>Same here. Why are you using NIO here, exactly? It's not faster except in quite exotic circumstances, and it's definitely a lot harder to code for it. Java suffers (like most languages) from <a href=\"https://will-keleher.com/posts/red-blue-function-mistakes-in-JS.html\" rel=\"nofollow noreferrer\">'the red/blue' problem</a> quite severely.</p>\n<p>OSes have absolutely no issue handling 5000 threads and can do it quite efficiently. Yes, 'oh no the context switch', but note that context switching is intrinsic to handling many connections simultaneously: Cache misses are going to be frequent and async doesn't solve that problem. The blog posts writing about how async is cool because it avoids 'context switches' all seem to forget that a cache miss due to having to hop to the buffers of another connection are just as much a 'context switch' as a thread hop.</p>\n<p>The one thing that you need to take care of when writing this code in a threaded fashion which is way, way simpler to write and maintain and test, is that you want to manage the stack sizes of your thread: You both want your threads to use limited stack size (if an exception occurs and the stack trace is a screen ful, that's a problem), and you want to set them up with limited sizes. You can specify stack sizes when creating threads (the thread constructor allows it, and various things that make threads such as a threaded <code>ExecutorPool</code> let you specify either the stack size, or a closure that makes threads). Use that and you can just write code that swiftly processes 5000 simultaneous connections using 10,000 threads, and it's all <strong>much, much simpler</strong> to write than async. If you must go with async, use a framework to avoid the complications.</p>\n<p>To go back to that alice sends faster than bob can receive model, note how much easier it is:</p>\n<ol>\n<li>You ask alice's <code>InputStream</code> to fill some byte array.</li>\n<li>You then ask bob's <code>OutputStream</code> to send the bytes in that array from 0 to however many you read.</li>\n<li>Go back to 1.</li>\n</ol>\n<p>That's it. With the async stuff, either alice outpaces bob (in which case you better be turning off <code>OP_READ</code> on alice's connection to gate her input), or, bob outpaces alice (in which case you need to be turning off and on bob's <code>OP_WRITE</code>), or even that due to vagaries in network speeds, sometimes alice outpaces bob, and sometimes bob outpaces alice.</p>\n<p>With sync, as above, <strong>none of that matters</strong> - alice's <code>read()</code> call or bob's <code>write()</code> call, as needed, blocks, and that fixes all. See how much simpler that is?</p>\n"}],"owner":{"account_id":1270404,"reputation":3896,"user_id":1226843,"accept_rate":58,"display_name":"Matthew"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73997299,"answer_count":2,"score":-1,"last_activity_date":1665235109,"creation_date":1665199660,"question_id":73994150,"body_markdown":"I have a Socket that connects to a ServerSocketChannel which passes off to another Selector. The client socket sends a one time message of 8 bytes, I successfully read it, but then selector which I call `selectorIO` should block on the `select()` method, but it immediately returns and then re-reads the same message that was already sent.\r\n\r\n```\r\npublic void readData()\r\n\t{\r\n\t\tint numberOfKeys = 0;\r\n\t\tbuffer = ByteBuffer.allocate(8);\r\n\t\tbuffer.clear();\r\n\t\t\r\n\t\twhile(true)\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\t//This is not blocking anymore?!\r\n\t\t\t\tnumberOfKeys = selectorIO.select();\r\n\t\t\t\t\r\n\t\t\t\tSet&lt;SelectionKey&gt; keys = selectorIO.selectedKeys();\r\n\t\t\t\tIterator&lt;SelectionKey&gt; itr = keys.iterator();\r\n\t\t\t\t\r\n\t\t\t\twhile(itr.hasNext())\r\n\t\t\t\t{\r\n\t\t\t\t\tSelectionKey key = itr.next();\r\n\t\t\t\t\tif(key.isReadable())\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tSocketChannel channel = (SocketChannel)key.channel();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tint numread = channel.read(buffer);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tString s = new String(buffer.array());\r\n\t\t\t\t\t\tSystem.out.println(s);\r\n\t\t\t\t\t\tSystem.out.println(numread);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tbuffer.flip();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//channel.write(buffer);\r\n\t\t\t\t\t\tint numwrote = channel.write(buffer);\r\n\t\t\t\t\t\tSystem.out.println(numwrote+&quot; Bytes writtent&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tbuffer.flip();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//buffer.reset();\r\n\t\t\t\t\t}\t\r\n\t\t\t\t\titr.remove();\r\n\t\t\t\t}\r\n\t\t\r\n\t\t\t}\r\n\t\t\tcatch(Exception e)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(e);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```","title":"Selector.select() is not blocking after a SelectionKey.isReadable is read","body":"<p>I have a Socket that connects to a ServerSocketChannel which passes off to another Selector. The client socket sends a one time message of 8 bytes, I successfully read it, but then selector which I call <code>selectorIO</code> should block on the <code>select()</code> method, but it immediately returns and then re-reads the same message that was already sent.</p>\n<pre><code>public void readData()\n    {\n        int numberOfKeys = 0;\n        buffer = ByteBuffer.allocate(8);\n        buffer.clear();\n        \n        while(true)\n        {\n            try\n            {\n                //This is not blocking anymore?!\n                numberOfKeys = selectorIO.select();\n                \n                Set&lt;SelectionKey&gt; keys = selectorIO.selectedKeys();\n                Iterator&lt;SelectionKey&gt; itr = keys.iterator();\n                \n                while(itr.hasNext())\n                {\n                    SelectionKey key = itr.next();\n                    if(key.isReadable())\n                    {\n                        SocketChannel channel = (SocketChannel)key.channel();\n                        \n                        int numread = channel.read(buffer);\n                    \n                        String s = new String(buffer.array());\n                        System.out.println(s);\n                        System.out.println(numread);\n                        \n                        \n                        buffer.flip();\n                        \n                        //channel.write(buffer);\n                        int numwrote = channel.write(buffer);\n                        System.out.println(numwrote+&quot; Bytes writtent&quot;);\n                    \n                    \n                        buffer.flip();\n                        \n                        //buffer.reset();\n                    }   \n                    itr.remove();\n                }\n        \n            }\n            catch(Exception e)\n            {\n                System.out.println(e);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","smtp","jakarta-mail"],"owner":{"account_id":12810677,"reputation":569,"user_id":9269017,"display_name":"kk luo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4598,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1665235025,"creation_date":1649397435,"question_id":71792256,"body_markdown":"I use JavaMail to send email to a customer email address and has error:\r\n\r\n&gt; com.sun.mail.smtp.SMTPAddressFailedException: 550 5.7.54 SMTP; Unable\r\n&gt; to relay recipient in non-accepted domain\r\n\r\n  The code is below:\r\n\r\n    String to = &quot;customer@customer.COM&quot;;// change accordingly\r\n\tString from = &quot;email@mycompany.com&quot;;\r\n\tString host = &quot;mail.mycompany.com&quot;;// or IP address\r\n\r\n\t// Get the session object\r\n\tProperties properties = System.getProperties();\r\n\tproperties.setProperty(&quot;mail.smtp.host&quot;, &quot;10.10.14.3&quot;);\r\n\tproperties.setProperty(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n\tproperties.setProperty(&quot;mail.smtp.port&quot;, &quot;25&quot;);// \r\n\t// Session session = Session.getDefaultInstance(properties);\r\n\tSession session = Session.getInstance(properties, new Authenticator() {\r\n\t\t@Override\r\n\t\tprotected PasswordAuthentication getPasswordAuthentication() {\r\n\t\t\t return new PasswordAuthentication(&quot;customer_service@mycompany.com&quot;, &quot;Passat2020..&quot;);\r\n\t\t\t}\r\n\t});\r\n\t// compose the message\r\n\ttry {\r\n\t\tMimeMessage message = new MimeMessage(session);\r\n\t\tmessage.setFrom(new InternetAddress(from));\r\n\t\tmessage.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\r\n\t\tmessage.setSubject(&quot;Ping&quot;);\r\n\t\tmessage.setText(&quot;Hello, this is example of sending email  &quot;);\r\n\t\t// Send message\r\n\t\tTransport.send(message);\r\n\t\tSystem.out.println(&quot;message sent successfully....&quot;);\r\n\t} catch (MessagingException mex) {\r\n\t\tmex.printStackTrace();\r\n\t}\r\n\r\nIf I send to customer using outlook it work. Sending to myaddress@mycompany.com instead with this code and it work too. So is this something wrong with the relay setting of SMTP server? And if receiver and sender in same domain or in outlook, it will not use relay service?","title":"Error &quot;550 5.7.54 SMTP; Unable to relay recipient in non-accepted domain&quot;","body":"<p>I use JavaMail to send email to a customer email address and has error:</p>\n<blockquote>\n<p>com.sun.mail.smtp.SMTPAddressFailedException: 550 5.7.54 SMTP; Unable\nto relay recipient in non-accepted domain</p>\n</blockquote>\n<p>The code is below:</p>\n<pre><code>String to = &quot;customer@customer.COM&quot;;// change accordingly\nString from = &quot;email@mycompany.com&quot;;\nString host = &quot;mail.mycompany.com&quot;;// or IP address\n\n// Get the session object\nProperties properties = System.getProperties();\nproperties.setProperty(&quot;mail.smtp.host&quot;, &quot;10.10.14.3&quot;);\nproperties.setProperty(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\nproperties.setProperty(&quot;mail.smtp.port&quot;, &quot;25&quot;);// \n// Session session = Session.getDefaultInstance(properties);\nSession session = Session.getInstance(properties, new Authenticator() {\n    @Override\n    protected PasswordAuthentication getPasswordAuthentication() {\n         return new PasswordAuthentication(&quot;customer_service@mycompany.com&quot;, &quot;Passat2020..&quot;);\n        }\n});\n// compose the message\ntry {\n    MimeMessage message = new MimeMessage(session);\n    message.setFrom(new InternetAddress(from));\n    message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\n    message.setSubject(&quot;Ping&quot;);\n    message.setText(&quot;Hello, this is example of sending email  &quot;);\n    // Send message\n    Transport.send(message);\n    System.out.println(&quot;message sent successfully....&quot;);\n} catch (MessagingException mex) {\n    mex.printStackTrace();\n}\n</code></pre>\n<p>If I send to customer using outlook it work. Sending to myaddress@mycompany.com instead with this code and it work too. So is this something wrong with the relay setting of SMTP server? And if receiver and sender in same domain or in outlook, it will not use relay service?</p>\n"},{"tags":["java","apache-flink","flink-cep"],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665234156,"creation_date":1665233308,"answer_id":73997111,"question_id":73996083,"body_markdown":"The PrintSink does not write to the task manager logs. Instead it writes to separate files (with names ending in `.out`) also located in the log directory. Could it be that the pattern matched, but you overlooked the output?\r\n\r\nBTW, you should ignore the fact that the web UI shows 0 records sent from the print sink to STDOUT. The metrics showing records (and bytes) sent (and received) only include traffic flowing through Flink&#39;s internal network stack. Connections to external systems (sources and sinks) are not included in these metrics.\r\n\r\nHowever, I doubt `notNext` supports being used in this fashion, so I won&#39;t be surprised if there truly is no output.\r\n\r\nWhat will work is if you define the pattern to match the case where the reply does occur in time, and then capture the cases you really want (i.e., when it times out) with the `processTimedOutMatch` method.\r\n\r\nSee [Handling Timed Out Partial Patterns](https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/libs/cep/#handling-timed-out-partial-patterns) for more details.","title":"Why does Flink CEP not match the pattern?","body":"<p>The PrintSink does not write to the task manager logs. Instead it writes to separate files (with names ending in <code>.out</code>) also located in the log directory. Could it be that the pattern matched, but you overlooked the output?</p>\n<p>BTW, you should ignore the fact that the web UI shows 0 records sent from the print sink to STDOUT. The metrics showing records (and bytes) sent (and received) only include traffic flowing through Flink's internal network stack. Connections to external systems (sources and sinks) are not included in these metrics.</p>\n<p>However, I doubt <code>notNext</code> supports being used in this fashion, so I won't be surprised if there truly is no output.</p>\n<p>What will work is if you define the pattern to match the case where the reply does occur in time, and then capture the cases you really want (i.e., when it times out) with the <code>processTimedOutMatch</code> method.</p>\n<p>See <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/libs/cep/#handling-timed-out-partial-patterns\" rel=\"nofollow noreferrer\">Handling Timed Out Partial Patterns</a> for more details.</p>\n"}],"owner":{"account_id":2134591,"reputation":24672,"user_id":1894684,"accept_rate":80,"display_name":"An SO User"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73997111,"answer_count":1,"score":0,"last_activity_date":1665234156,"creation_date":1665223496,"question_id":73996083,"body_markdown":"Flink newbie here.  \r\n\r\nI have a local setup where Flink processes JSON events generated by Debezium. The idea is to monitor conversations happening between a customer support agent and a customer. If the customer support agent does not reply to a message within a certain time frame, I&#39;d like to raise an alert.   \r\n\r\nMy Flink CEP code looks as follows:  \r\n\r\n        // We create a watermark strategy\r\n        WatermarkStrategy&lt;MessageEvent&gt; watermarkStrategy = WatermarkStrategy\r\n                .&lt;MessageEvent&gt;forMonotonousTimestamps()\r\n                .withTimestampAssigner((event, ts) -&gt; event.getPayload().getAfter().getCreatedAt().longValue());\r\n\r\n        // We get our inputs here\r\n        KafkaSource&lt;String&gt; msgTopic = Sources.kafkaSource(&quot;message&quot;, &quot;flink&quot;);\r\n        DataStream&lt;String&gt; input = env.fromSource(msgTopic, WatermarkStrategy.noWatermarks(), &quot;Message Source&quot;);\r\n\r\n        // Convert the Debezium payload into MessageEvent and assign watermarks\r\n        // Partition by thread ID\r\n        DataStream&lt;MessageEvent&gt; msgStream = input.map(new MessageMapper())\r\n                .assignTimestampsAndWatermarks(watermarkStrategy)\r\n                .keyBy(msg -&gt; msg.getPayload().getAfter().getThreadId());\r\n\r\n        Pattern&lt;MessageEvent, ?&gt; pattern = Pattern.&lt;MessageEvent&gt;begin(&quot;start&quot;, AfterMatchSkipStrategy.skipPastLastEvent())\r\n                        .where(new MessageEventDirectionFilter(&quot;INCOMING&quot;))\r\n                        .oneOrMore()\r\n                        .greedy()\r\n                        .notNext(&quot;end&quot;)\r\n                        .where(new MessageEventDirectionFilter(&quot;OUTGOING&quot;))\r\n                        .within(Time.seconds(10));\r\n\r\n        CEP.pattern(msgStream, pattern)\r\n                .inEventTime()\r\n                .process(new IdleConversationProcessFunction())\r\n                .print();\r\n\r\n`INCOMING` messages are those which are sent by the customer where as `OUTGOING` messages are the ones sent by the support agent. This is what I am trying to capture.  I can see records being sent to the STDOUT operator but nothing shows up in the task manager logs.  \r\n\r\n[![enter image description here][1]][1]  \r\n\r\n\r\nWhy does the pattern defined not match?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IT0aC.png","title":"Why does Flink CEP not match the pattern?","body":"<p>Flink newbie here.</p>\n<p>I have a local setup where Flink processes JSON events generated by Debezium. The idea is to monitor conversations happening between a customer support agent and a customer. If the customer support agent does not reply to a message within a certain time frame, I'd like to raise an alert.</p>\n<p>My Flink CEP code looks as follows:</p>\n<pre><code>    // We create a watermark strategy\n    WatermarkStrategy&lt;MessageEvent&gt; watermarkStrategy = WatermarkStrategy\n            .&lt;MessageEvent&gt;forMonotonousTimestamps()\n            .withTimestampAssigner((event, ts) -&gt; event.getPayload().getAfter().getCreatedAt().longValue());\n\n    // We get our inputs here\n    KafkaSource&lt;String&gt; msgTopic = Sources.kafkaSource(&quot;message&quot;, &quot;flink&quot;);\n    DataStream&lt;String&gt; input = env.fromSource(msgTopic, WatermarkStrategy.noWatermarks(), &quot;Message Source&quot;);\n\n    // Convert the Debezium payload into MessageEvent and assign watermarks\n    // Partition by thread ID\n    DataStream&lt;MessageEvent&gt; msgStream = input.map(new MessageMapper())\n            .assignTimestampsAndWatermarks(watermarkStrategy)\n            .keyBy(msg -&gt; msg.getPayload().getAfter().getThreadId());\n\n    Pattern&lt;MessageEvent, ?&gt; pattern = Pattern.&lt;MessageEvent&gt;begin(&quot;start&quot;, AfterMatchSkipStrategy.skipPastLastEvent())\n                    .where(new MessageEventDirectionFilter(&quot;INCOMING&quot;))\n                    .oneOrMore()\n                    .greedy()\n                    .notNext(&quot;end&quot;)\n                    .where(new MessageEventDirectionFilter(&quot;OUTGOING&quot;))\n                    .within(Time.seconds(10));\n\n    CEP.pattern(msgStream, pattern)\n            .inEventTime()\n            .process(new IdleConversationProcessFunction())\n            .print();\n</code></pre>\n<p><code>INCOMING</code> messages are those which are sent by the customer where as <code>OUTGOING</code> messages are the ones sent by the support agent. This is what I am trying to capture.  I can see records being sent to the STDOUT operator but nothing shows up in the task manager logs.</p>\n<p><a href=\"https://i.stack.imgur.com/IT0aC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IT0aC.png\" alt=\"enter image description here\" /></a></p>\n<p>Why does the pattern defined not match?</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665221520,"creation_date":1665221520,"answer_id":73995878,"question_id":73990189,"body_markdown":"Each time you&#39;re calling `.document()` without passing anything as an argument in the following reference:\r\n\r\n    db.collection(currentUser)\r\n       .document() //&#128072;\r\n       .update(&quot;deviceWat&quot;, hours);\r\n\r\nIt means that you&#39;re generating a brand new unique document ID. When you call `.update()`, you&#39;re trying to update a document that actually doesn&#39;t exist, since you only reserved a document ID and nothing more.\r\n\r\nIf you want to create a reference that points to a particular document inside the &quot;currentUser&quot; collection, then you have to pass the document ID of that document, which already exists in the database, and not generate a new one. So to solve this, get the document ID of the item you want to update and pass it to the `.document()` function like this:\r\n\r\n    db.collection(currentUser)\r\n       .document(&quot;hnx81...803tY&quot;) //&#128072;\r\n       .update(&quot;deviceWat&quot;, hours);","title":"How to update value of a specific field in Firestore document?","body":"<p>Each time you're calling <code>.document()</code> without passing anything as an argument in the following reference:</p>\n<pre><code>db.collection(currentUser)\n   .document() //👈\n   .update(&quot;deviceWat&quot;, hours);\n</code></pre>\n<p>It means that you're generating a brand new unique document ID. When you call <code>.update()</code>, you're trying to update a document that actually doesn't exist, since you only reserved a document ID and nothing more.</p>\n<p>If you want to create a reference that points to a particular document inside the &quot;currentUser&quot; collection, then you have to pass the document ID of that document, which already exists in the database, and not generate a new one. So to solve this, get the document ID of the item you want to update and pass it to the <code>.document()</code> function like this:</p>\n<pre><code>db.collection(currentUser)\n   .document(&quot;hnx81...803tY&quot;) //👈\n   .update(&quot;deviceWat&quot;, hours);\n</code></pre>\n"}],"owner":{"account_id":21525560,"reputation":37,"user_id":15865909,"display_name":"Yousef Hashem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665234065,"creation_date":1665160743,"question_id":73990189,"body_markdown":"How do I get its ID only Android Firebase Firestore and update a specific field only?\r\n\r\nI just want to update the &#39;consumption&#39; value of electricity without updating all the data for one device.\r\n\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        DeviceModel modal = deviceModelArrayList.get(position);\r\n\r\n        holder.showName.setText(modal.getDeviceName());\r\n        holder.showWat.setText(modal.getDeviceWat());\r\n        holder.showUse.setText(modal.getDeviceUse());\r\n\r\n\r\n        holder.addBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                hours = Integer.parseInt(String.valueOf(holder.showUse.getText()));\r\n                if (hours &lt; 24) {\r\n                    holder.showUse.setText(String.valueOf(++hours));\r\n                    db.collection(currentUser)\r\n                            .document()\r\n                            .update(&quot;deviceWat&quot;, hours);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7oAZb.png","title":"How to update value of a specific field in Firestore document?","body":"<p>How do I get its ID only Android Firebase Firestore and update a specific field only?</p>\n<p>I just want to update the 'consumption' value of electricity without updating all the data for one device.</p>\n<pre><code>public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n    DeviceModel modal = deviceModelArrayList.get(position);\n\n    holder.showName.setText(modal.getDeviceName());\n    holder.showWat.setText(modal.getDeviceWat());\n    holder.showUse.setText(modal.getDeviceUse());\n\n\n    holder.addBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            hours = Integer.parseInt(String.valueOf(holder.showUse.getText()));\n            if (hours &lt; 24) {\n                holder.showUse.setText(String.valueOf(++hours));\n                db.collection(currentUser)\n                        .document()\n                        .update(&quot;deviceWat&quot;, hours);\n            }\n        }\n    });\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7oAZb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7oAZb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","multidimensional-array","type-conversion","char"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1665229714,"post_id":73996719,"comment_id":130653787,"body_markdown":"1) Loop through the first dimension of the 2d array; 2) Put at the same index of the second array the result of `charAt(0)` of the first element of the `n`th element of the first array.","body":"1) Loop through the first dimension of the 2d array; 2) Put at the same index of the second array the result of <code>charAt(0)</code> of the first element of the <code>n</code>th element of the first array."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1665229968,"post_id":73996719,"comment_id":130653845,"body_markdown":"Hello and Welcome! Please share what have you tried and describe your specific issue. If you had no attempt, then use the logic [described by Federico](https://stackoverflow.com/questions/73996719/java-convert-a-2d-array-of-string-in-a-1d-array-of-char#comment130653787_73996719) and return if you would have a specific problem with your code. Also get familiar with the guide-lines on how to ask questions [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask)","body":"Hello and Welcome! Please share what have you tried and describe your specific issue. If you had no attempt, then use the logic <a href=\"https://stackoverflow.com/questions/73996719/java-convert-a-2d-array-of-string-in-a-1d-array-of-char#comment130653787_73996719\">described by Federico</a> and return if you would have a specific problem with your code. Also get familiar with the guide-lines on how to ask questions <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665232791,"post_id":73996719,"comment_id":130654371,"body_markdown":"*char[] c = {&quot;A&quot;,&quot;B&quot;}* Assuming you mean ```char[] c = {&#39;A&#39;,&#39;B&#39;}``` ? If so, you don&#39;t need that array as I&#39;m guessing that required character ```c[n]```  can be obtained with ```char x = (char)(&#39;A&#39; + n)```","body":"<i>char[] c = {&quot;A&quot;,&quot;B&quot;}</i> Assuming you mean <code>char[] c = {&#39;A&#39;,&#39;B&#39;}</code> ? If so, you don&#39;t need that array as I&#39;m guessing that required character <code>c[n]</code>  can be obtained with <code>char x = (char)(&#39;A&#39; + n)</code>"}],"answers":[{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665231533,"creation_date":1665231533,"answer_id":73996917,"question_id":73996719,"body_markdown":"You have an `input` and you create an `output` of the same `.length` as the `input`&#39;s `.length`, then loop an `i` index through the range of 0 ...length - 1 and get the `i`&#39;th record&#39;s 0&#39;th record (the letter) and get its first `char` via `charAt(0)`.\r\n\r\n```\r\nString[][] input = new String[][] {{&quot;A&quot;, &quot;-.-&quot;},{&quot;B&quot;, &quot;..-&quot;}};\r\nchar[] output = new char[input.length];\r\nfor (int i = 0; i &lt; input.length; i++) {\r\n    output[i] = input[i][0].charAt(0);\r\n}\r\n```","title":"Java: Convert a 2d Array of String in a 1d Array of char","body":"<p>You have an <code>input</code> and you create an <code>output</code> of the same <code>.length</code> as the <code>input</code>'s <code>.length</code>, then loop an <code>i</code> index through the range of 0 ...length - 1 and get the <code>i</code>'th record's 0'th record (the letter) and get its first <code>char</code> via <code>charAt(0)</code>.</p>\n<pre><code>String[][] input = new String[][] {{&quot;A&quot;, &quot;-.-&quot;},{&quot;B&quot;, &quot;..-&quot;}};\nchar[] output = new char[input.length];\nfor (int i = 0; i &lt; input.length; i++) {\n    output[i] = input[i][0].charAt(0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665232417,"creation_date":1665232417,"answer_id":73997019,"question_id":73996719,"body_markdown":"Using streams.\r\n\r\n```java\r\nfinal char[] result = Arrays.stream(input)\r\n                .map(i -&gt; String.valueOf(i[0].charAt(0)))\r\n                .collect(Collectors.joining())\r\n                .toCharArray();\r\n```","title":"Java: Convert a 2d Array of String in a 1d Array of char","body":"<p>Using streams.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final char[] result = Arrays.stream(input)\n                .map(i -&gt; String.valueOf(i[0].charAt(0)))\n                .collect(Collectors.joining())\n                .toCharArray();\n</code></pre>\n"}],"owner":{"account_id":18945100,"reputation":3,"user_id":13824184,"display_name":"Gaby Zech"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73996917,"answer_count":2,"score":-2,"last_activity_date":1665232417,"creation_date":1665229560,"question_id":73996719,"body_markdown":"how can I convert a 2d Array of String: `String[][] = {{&quot;A&quot;, &quot;-.-&quot;},{&quot;B&quot;, &quot;..-&quot;}}` into a array of char: `char[] c = {&quot;A&quot;,&quot;B&quot;}`?\r\n\r\nCan somebody help me?\r\n\r\n","title":"Java: Convert a 2d Array of String in a 1d Array of char","body":"<p>how can I convert a 2d Array of String: <code>String[][] = {{&quot;A&quot;, &quot;-.-&quot;},{&quot;B&quot;, &quot;..-&quot;}}</code> into a array of char: <code>char[] c = {&quot;A&quot;,&quot;B&quot;}</code>?</p>\n<p>Can somebody help me?</p>\n"},{"tags":["java","spring-boot","rest","spring-mvc","sequential"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664862849,"post_id":73938751,"comment_id":130561413,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":14775211,"reputation":3,"user_id":10670367,"display_name":"krishna_38"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665232062,"creation_date":1665232062,"answer_id":73996975,"question_id":73938751,"body_markdown":"I used multiple Executor channel which can be configured with the thread executor, so I used single thread only for the Executor channel and provided a some capacity for blocking queue. ","title":"Spring Direct Channel - multiple send message at the same time","body":"<p>I used multiple Executor channel which can be configured with the thread executor, so I used single thread only for the Executor channel and provided a some capacity for blocking queue.</p>\n"}],"owner":{"account_id":14775211,"reputation":3,"user_id":10670367,"display_name":"krishna_38"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73996975,"answer_count":1,"score":0,"last_activity_date":1665232062,"creation_date":1664817360,"question_id":73938751,"body_markdown":"I know some basics about Spring Integration channels as there are two types of channel as SubscribableChannel channel and Pollable channel and out of it, Directchannel is one of the type of Subscribablechannel. \r\nI have a scenario, where I can send the continuous message to direct channel after every 2 millisecond, but at consumer end i.e. (I am using service activator) it can take 1 second to process after receiving the message. on the basis of implementation I am returning the failure or success response to caller. the requirement here is that I must need to process them sequentially, i.e. I cannot execute it in a synchronous way.\r\nI have the following questions as,\r\n\r\n 1. From web resources I read that, direct channel can block the sender, but I did not get clearly in which case ?\r\n 2. can I make use of direct channel to send the continuous message after every 2-3 milliseconds, and if service activator returning the response, to whom it returns ? Is it to caller thread of DirectChannel? (Also I want those messages to be get executed sequentially, that&#39;s why I am choosing Direct channel)\r\n 3. if DirectChannel won&#39;t fit in above scenario, then which SubscribableChannel\r\n channel I can make use of? \r\n\r\nI am describing my scenario one more time, \r\n\r\nMy application receiving REST request after every 2 or 3 millisecond, and I want to return success or failure to the caller on the basis of process execution. here the one more things is that, I cannot execute the above request asynchronously, I want to execute them sequentially only. So I decided to send those request to DirectChannel. \r\n\r\nplease suggest any good way to tackle it ? ","title":"Spring Direct Channel - multiple send message at the same time","body":"<p>I know some basics about Spring Integration channels as there are two types of channel as SubscribableChannel channel and Pollable channel and out of it, Directchannel is one of the type of Subscribablechannel.\nI have a scenario, where I can send the continuous message to direct channel after every 2 millisecond, but at consumer end i.e. (I am using service activator) it can take 1 second to process after receiving the message. on the basis of implementation I am returning the failure or success response to caller. the requirement here is that I must need to process them sequentially, i.e. I cannot execute it in a synchronous way.\nI have the following questions as,</p>\n<ol>\n<li>From web resources I read that, direct channel can block the sender, but I did not get clearly in which case ?</li>\n<li>can I make use of direct channel to send the continuous message after every 2-3 milliseconds, and if service activator returning the response, to whom it returns ? Is it to caller thread of DirectChannel? (Also I want those messages to be get executed sequentially, that's why I am choosing Direct channel)</li>\n<li>if DirectChannel won't fit in above scenario, then which SubscribableChannel\nchannel I can make use of?</li>\n</ol>\n<p>I am describing my scenario one more time,</p>\n<p>My application receiving REST request after every 2 or 3 millisecond, and I want to return success or failure to the caller on the basis of process execution. here the one more things is that, I cannot execute the above request asynchronously, I want to execute them sequentially only. So I decided to send those request to DirectChannel.</p>\n<p>please suggest any good way to tackle it ?</p>\n"},{"tags":["java","arrays","algorithm","duplicates","integer"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1665145743,"post_id":73986783,"comment_id":130637233,"body_markdown":"Are you required to use arrays? Can you use something more appropriate for the task, like a `Map`?","body":"Are you required to use arrays? Can you use something more appropriate for the task, like a <code>Map</code>?"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665151272,"creation_date":1665145425,"answer_id":73987115,"question_id":73986783,"body_markdown":"First of all the code from `javatpoint.com` you&#39;ve listed is **bad** because it&#39;s based on assumption that the given array is sorted (only in such case duplicated elements are guaranteed to be consecutive). And it doesn&#39;t even mention in the article, that the reason such resources should be avoided.\r\n\r\nTo find all duplicated elements in the given array, you can use a [`HashSet`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashSet.html), which is an implementation of `Set` interface which contract ensures that implementing collection should contain only unique elements. `HashSet` make use of the `equals/hashCode` implementation of the stored objects to guarantee uniqueness.\r\n\r\nJust iterate through the array and offer the element to the set using its method `add()` which returns a `boolean` value indicating whether the set was modified or not. If the element gets rejected, that means it has been already encountered.\r\n\r\nTo see the unique duplicated values, you can declare you might declare a separate set.\r\n\r\n```\r\nint[] arr = {5, 5, 5, 6, 7, 3, 4, 4, 4, 4, 5, 1, 2, 2, 3, 3, 5, 8, 9, 10};\r\n        \r\nSet&lt;Integer&gt; seen = new HashSet&lt;&gt;();\r\nSet&lt;Integer&gt; duplicates = new HashSet&lt;&gt;();\r\n        \r\nfor (int next: arr) {\r\n    if (!seen.add(next)) {\r\n        System.out.print(next + &quot; &quot;);\r\n        \r\n        if (duplicates.add(next)) System.out.print(next + &quot; &quot;);\r\n    }\r\n}\r\n    \r\nSystem.out.println(&quot;\\nunique duplicated values: &quot; + duplicates);\r\n```\r\n*Output:*\r\n```\r\n5 5 5 4 4 4 4 5 2 2 3 3 3 5 \r\nunique duplicated values: [2, 3, 4, 5]\r\n```\r\n\r\nThis approach is hi-performant and has linear time complexity **O(n)**.\r\n\r\nAnd it&#39;s much better than brute-force iteration using two nested `for`-loops with quadratic time complexity **O(n^2)**. While solving various coding challenges and algorithmic problems, you should avoid brute-force solutions because they always have the **worst** possible performance.\r\n\r\nThere&#39;s one more useful and performant technic for finding duplicates that worth to be aware of.\r\n\r\nOftentimes, you might find that values have some constraints. For instance, integer elements can be limited to a range `[-1000,1000]` (whilst the possible range of `int` is much broader: from -2&lt;sup&gt;31&lt;/sup&gt; to 2&lt;sup&gt;31&lt;/sup&gt; - 1).\r\n\r\nIn such cases, you can create an auxiliary array with the size equal to the range of values and count frequencies of each element. That&#39;s basically the first step of the [Counting sort algorithm](https://en.wikipedia.org/wiki/Counting_sort#Complexity_analysis).\r\n\r\nThat&#39;s how it might look like. Let&#39;s assume that the range is `[1,100]`:\r\n\r\n```\r\nint[] arr = {5, 5, 5, 6, 7, 3, 4, 4, 4, 4, 5, 1, 2, 2, 3, 3, 5, 8, 9, 10};\r\n        \r\nint[] freq = new int[100];\r\nfinal int minValue = 1; // constraint: values are in range [1, 100]\r\n        \r\nfor (int next: arr) {\r\n    freq[next - minValue]++;\r\n}\r\n        \r\nfor (int i = 0; i &lt; freq.length; i++) {\r\n    if (freq[i] &gt; 1) System.out.print((i + minValue + &quot; &quot;).repeat(freq[i]));\r\n}\r\n```\r\n*Output:*\r\n```\r\n2 2 3 3 3 4 4 4 4 5 5 5 5 5\r\n```\r\n\r\nAnd here&#39;s an bit advance solution using Stream API.\r\n\r\n```\r\nint[] arr = {5, 5, 5, 6, 7, 3, 4, 4, 4, 4, 5, 1, 2, 2, 3, 3, 5, 8, 9, 10};\r\n     \r\nArrays.stream(arr)\r\n    .boxed()\r\n    .collect(Collectors.toMap(\r\n        Function.identity(), // key\r\n        i -&gt; 1,              // value\r\n        Integer::sum         // resolving duplicates\r\n    ))\r\n    .entrySet().stream()\r\n    .filter(e -&gt; e.getValue() &gt; 1) // retaining entries with duplicated keys\r\n    .forEach(e -&gt; System.out.print((e.getKey() + &quot; &quot;).repeat(e.getValue())));\r\n```\r\n*Output:*\r\n```\r\n2 2 3 3 3 4 4 4 4 5 5 5 5 5\r\n```","title":"How to display all elements in a Java integer array that have at least one identical value?","body":"<p>First of all the code from <code>javatpoint.com</code> you've listed is <strong>bad</strong> because it's based on assumption that the given array is sorted (only in such case duplicated elements are guaranteed to be consecutive). And it doesn't even mention in the article, that the reason such resources should be avoided.</p>\n<p>To find all duplicated elements in the given array, you can use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashSet.html\" rel=\"nofollow noreferrer\"><code>HashSet</code></a>, which is an implementation of <code>Set</code> interface which contract ensures that implementing collection should contain only unique elements. <code>HashSet</code> make use of the <code>equals/hashCode</code> implementation of the stored objects to guarantee uniqueness.</p>\n<p>Just iterate through the array and offer the element to the set using its method <code>add()</code> which returns a <code>boolean</code> value indicating whether the set was modified or not. If the element gets rejected, that means it has been already encountered.</p>\n<p>To see the unique duplicated values, you can declare you might declare a separate set.</p>\n<pre><code>int[] arr = {5, 5, 5, 6, 7, 3, 4, 4, 4, 4, 5, 1, 2, 2, 3, 3, 5, 8, 9, 10};\n        \nSet&lt;Integer&gt; seen = new HashSet&lt;&gt;();\nSet&lt;Integer&gt; duplicates = new HashSet&lt;&gt;();\n        \nfor (int next: arr) {\n    if (!seen.add(next)) {\n        System.out.print(next + &quot; &quot;);\n        \n        if (duplicates.add(next)) System.out.print(next + &quot; &quot;);\n    }\n}\n    \nSystem.out.println(&quot;\\nunique duplicated values: &quot; + duplicates);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>5 5 5 4 4 4 4 5 2 2 3 3 3 5 \nunique duplicated values: [2, 3, 4, 5]\n</code></pre>\n<p>This approach is hi-performant and has linear time complexity <strong>O(n)</strong>.</p>\n<p>And it's much better than brute-force iteration using two nested <code>for</code>-loops with quadratic time complexity <strong>O(n^2)</strong>. While solving various coding challenges and algorithmic problems, you should avoid brute-force solutions because they always have the <strong>worst</strong> possible performance.</p>\n<p>There's one more useful and performant technic for finding duplicates that worth to be aware of.</p>\n<p>Oftentimes, you might find that values have some constraints. For instance, integer elements can be limited to a range <code>[-1000,1000]</code> (whilst the possible range of <code>int</code> is much broader: from -2<sup>31</sup> to 2<sup>31</sup> - 1).</p>\n<p>In such cases, you can create an auxiliary array with the size equal to the range of values and count frequencies of each element. That's basically the first step of the <a href=\"https://en.wikipedia.org/wiki/Counting_sort#Complexity_analysis\" rel=\"nofollow noreferrer\">Counting sort algorithm</a>.</p>\n<p>That's how it might look like. Let's assume that the range is <code>[1,100]</code>:</p>\n<pre><code>int[] arr = {5, 5, 5, 6, 7, 3, 4, 4, 4, 4, 5, 1, 2, 2, 3, 3, 5, 8, 9, 10};\n        \nint[] freq = new int[100];\nfinal int minValue = 1; // constraint: values are in range [1, 100]\n        \nfor (int next: arr) {\n    freq[next - minValue]++;\n}\n        \nfor (int i = 0; i &lt; freq.length; i++) {\n    if (freq[i] &gt; 1) System.out.print((i + minValue + &quot; &quot;).repeat(freq[i]));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>2 2 3 3 3 4 4 4 4 5 5 5 5 5\n</code></pre>\n<p>And here's an bit advance solution using Stream API.</p>\n<pre><code>int[] arr = {5, 5, 5, 6, 7, 3, 4, 4, 4, 4, 5, 1, 2, 2, 3, 3, 5, 8, 9, 10};\n     \nArrays.stream(arr)\n    .boxed()\n    .collect(Collectors.toMap(\n        Function.identity(), // key\n        i -&gt; 1,              // value\n        Integer::sum         // resolving duplicates\n    ))\n    .entrySet().stream()\n    .filter(e -&gt; e.getValue() &gt; 1) // retaining entries with duplicated keys\n    .forEach(e -&gt; System.out.print((e.getKey() + &quot; &quot;).repeat(e.getValue())));\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>2 2 3 3 3 4 4 4 4 5 5 5 5 5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7970581,"reputation":375,"user_id":6015444,"display_name":"Touniouk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665145644,"creation_date":1665145644,"answer_id":73987163,"question_id":73986783,"body_markdown":"It&#39;s a fairly simple program so I&#39;m not going to share code, but I will try and explain as best as I can what you can do for it to work.\r\n\r\nNote that I am not aiming for optimal solution here, just workable.\r\n\r\n**What is currently happening**:\r\n\r\nYou have two loops, and outer loop (i) and an inner loop (j), the outer loop goes through the array normally so you can *see* every number in it, the inner loop goes through the array starting in front of where the outer loop is currently, and printing every number that is a duplicate of the number the outer loop is currently on. This means if a number appears multiple times in the inner loop, it will be printed multiple times. And because it only starts from after the outer loop, if a number appears before that, it won&#39;t be detected as a duplicate.\r\n\r\nFor example 5. When you reach 5 with the outer loop, the inner loop will go through the other four times 5 appears and print it. Then the outer loop goes forward one and the inner loop goes and prints the 3 appearances of 5, etc. You get ten 5s at the end, 4+3+2+1=10 (it decreases in number because the inner loop never goes to numbers before where the outer loop is)\r\n\r\n**What you can do:**\r\n\r\n- On the outer loop and before the inner loop starts, add a boolean that keeps track of weather or not this number is a duplicate, it should be false by default\r\n- Then have the inner loop start from the beginning of the array and continue throught the entire array until it finds a duplicate. Make sure to skip the position the outer loop is currently on, you can do so by checking that i and j are the same and using the keyword `continue`. If you do find a duplicate, switch the boolean to `true` and break the inner loop with the keyword `break`\r\n- Now back in the outer loop, just check the boolean and if it is true, print the current outer loop number","title":"How to display all elements in a Java integer array that have at least one identical value?","body":"<p>It's a fairly simple program so I'm not going to share code, but I will try and explain as best as I can what you can do for it to work.</p>\n<p>Note that I am not aiming for optimal solution here, just workable.</p>\n<p><strong>What is currently happening</strong>:</p>\n<p>You have two loops, and outer loop (i) and an inner loop (j), the outer loop goes through the array normally so you can <em>see</em> every number in it, the inner loop goes through the array starting in front of where the outer loop is currently, and printing every number that is a duplicate of the number the outer loop is currently on. This means if a number appears multiple times in the inner loop, it will be printed multiple times. And because it only starts from after the outer loop, if a number appears before that, it won't be detected as a duplicate.</p>\n<p>For example 5. When you reach 5 with the outer loop, the inner loop will go through the other four times 5 appears and print it. Then the outer loop goes forward one and the inner loop goes and prints the 3 appearances of 5, etc. You get ten 5s at the end, 4+3+2+1=10 (it decreases in number because the inner loop never goes to numbers before where the outer loop is)</p>\n<p><strong>What you can do:</strong></p>\n<ul>\n<li>On the outer loop and before the inner loop starts, add a boolean that keeps track of weather or not this number is a duplicate, it should be false by default</li>\n<li>Then have the inner loop start from the beginning of the array and continue throught the entire array until it finds a duplicate. Make sure to skip the position the outer loop is currently on, you can do so by checking that i and j are the same and using the keyword <code>continue</code>. If you do find a duplicate, switch the boolean to <code>true</code> and break the inner loop with the keyword <code>break</code></li>\n<li>Now back in the outer loop, just check the boolean and if it is true, print the current outer loop number</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":11095946,"reputation":315,"user_id":8146089,"display_name":"Dennis LLopis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665148110,"creation_date":1665146436,"answer_id":73987306,"question_id":73986783,"body_markdown":" - One issue with your code is that your inner-loop starts at: j = i + 1;\r\n - When i = 2 and j = 3 then the second two in the array will not find another duplicate.\r\n - Second issue is that you do not break from your inner-loop when you find a duplicate and continue to compare arr[i] to arr[j] and print out to console.\r\n\r\n```\r\nint[] arr = new int[] {1, 2, 2, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 5, 6, 7, 8, 9, 10};\r\n\t\t\r\nfor(int i = 0; i &lt; arr.length; i++) {\r\n   for(int j = 0; j &lt; arr.length; j++) {\r\n      if(arr[i] == arr[j] &amp;&amp; i != j) {\r\n         System.out.print(arr[i] + &quot; &quot;);\r\n\t\t break;\r\n      }\r\n   }\r\n}\r\n```\r\n\r\nIf the array is guaranteed to be sorted then you don&#39;t need an additional data structure to check for duplicates. \r\n\r\n - Check to the right of the current index for a duplicate. If duplicate doesn&#39;t exist in front, then check behind. Be mindful of your array bounds too.\r\n\r\n```\r\nfor(int i = 0; i &lt; arr.length ; i++) {\r\n\tif((i+1) &lt; arr.length &amp;&amp; arr[i] == arr[i+1]) {\r\n\t     System.out.print(arr[i] + &quot; &quot;);\r\n\t} else if((i-1) &gt;= 0 &amp;&amp; arr[i] == arr[i-1]) {\r\n\t     System.out.print(arr[i] + &quot; &quot;);\r\n\t}\r\n}\r\n```","title":"How to display all elements in a Java integer array that have at least one identical value?","body":"<ul>\n<li>One issue with your code is that your inner-loop starts at: j = i + 1;</li>\n<li>When i = 2 and j = 3 then the second two in the array will not find another duplicate.</li>\n<li>Second issue is that you do not break from your inner-loop when you find a duplicate and continue to compare arr[i] to arr[j] and print out to console.</li>\n</ul>\n<pre><code>int[] arr = new int[] {1, 2, 2, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 5, 6, 7, 8, 9, 10};\n        \nfor(int i = 0; i &lt; arr.length; i++) {\n   for(int j = 0; j &lt; arr.length; j++) {\n      if(arr[i] == arr[j] &amp;&amp; i != j) {\n         System.out.print(arr[i] + &quot; &quot;);\n         break;\n      }\n   }\n}\n</code></pre>\n<p>If the array is guaranteed to be sorted then you don't need an additional data structure to check for duplicates.</p>\n<ul>\n<li>Check to the right of the current index for a duplicate. If duplicate doesn't exist in front, then check behind. Be mindful of your array bounds too.</li>\n</ul>\n<pre><code>for(int i = 0; i &lt; arr.length ; i++) {\n    if((i+1) &lt; arr.length &amp;&amp; arr[i] == arr[i+1]) {\n         System.out.print(arr[i] + &quot; &quot;);\n    } else if((i-1) &gt;= 0 &amp;&amp; arr[i] == arr[i-1]) {\n         System.out.print(arr[i] + &quot; &quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665152580,"creation_date":1665146595,"answer_id":73987343,"question_id":73986783,"body_markdown":"**Using Java 8 groupingBy:**\r\n\r\nYou can use the **`groupingBy`** feature by which you can easily get the **frequency of each unique element present in the array**,and then filter the data whose **frequency is greater than 1** and iterating on this map, you can create a **`StringBuilder`.**\r\n\r\n**My approach:**\r\n\r\n1) I have first created a `Map&lt;Integer,Integer&gt; frequencyGreaterThanOne`, it will hold the array element and its frequency as a key-value pair with the data whose frequency is greater than 1.\r\n\r\n2) `TreeMap::new`: It will create the sorted map.\r\n\r\n3) On this map `frequencyGreaterThanOne`, I have iterated over it and created the `StringBuilder` as required.\r\n\r\n\r\n***The code as follows:***\r\n\r\n    \r\n    public class Test {\r\n       public static void main(String[] args) {\r\n\r\n        int[] arr = new int[] {1, 2, 2, 3, 3, 3, 4, 4, 4, 4, 5, 5,11,11,5, 5, 5, 5, 6, 7, 8, 9, 10,10,7,7};\r\n\r\n        Map&lt;Integer,Integer&gt; frequencyGreaterThanOne =\r\n                Arrays.stream(arr).boxed().sorted()\r\n                        .collect(Collectors.groupingBy(Object::toString,Collectors.counting()))\r\n                        .entrySet().stream()\r\n                        .filter(x -&gt; x.getValue() &gt; 1)\r\n                        .collect(Collectors.toMap(x -&gt; Integer.valueOf(x.getKey()),\r\n                                x -&gt; x.getValue().intValue(),(a, b) -&gt; a,TreeMap::new));\r\n\r\n        System.out.println(frequencyGreaterThanOne);\r\n\r\n        StringBuilder sb = new StringBuilder(&quot;&quot;);\r\n\r\n        frequencyGreaterThanOne.forEach((key, value) -&gt; {\r\n            for (int i = 0; i &lt; value; i++) {\r\n                sb.append(key).append(&quot; &quot;);\r\n            }\r\n        });\r\n\r\n        System.out.println(sb);\r\n    }\r\n}\r\n\r\n**Output:**\r\n\r\n    {2=2, 3=3, 4=4, 5=6, 7=3, 10=2, 11=2}\r\n    2 2 3 3 3 4 4 4 4 5 5 5 5 5 5 7 7 7 10 10 11 11","title":"How to display all elements in a Java integer array that have at least one identical value?","body":"<p><strong>Using Java 8 groupingBy:</strong></p>\n<p>You can use the <strong><code>groupingBy</code></strong> feature by which you can easily get the <strong>frequency of each unique element present in the array</strong>,and then filter the data whose <strong>frequency is greater than 1</strong> and iterating on this map, you can create a <strong><code>StringBuilder</code>.</strong></p>\n<p><strong>My approach:</strong></p>\n<ol>\n<li><p>I have first created a <code>Map&lt;Integer,Integer&gt; frequencyGreaterThanOne</code>, it will hold the array element and its frequency as a key-value pair with the data whose frequency is greater than 1.</p>\n</li>\n<li><p><code>TreeMap::new</code>: It will create the sorted map.</p>\n</li>\n<li><p>On this map <code>frequencyGreaterThanOne</code>, I have iterated over it and created the <code>StringBuilder</code> as required.</p>\n</li>\n</ol>\n<p><em><strong>The code as follows:</strong></em></p>\n<pre><code>public class Test {\n   public static void main(String[] args) {\n\n    int[] arr = new int[] {1, 2, 2, 3, 3, 3, 4, 4, 4, 4, 5, 5,11,11,5, 5, 5, 5, 6, 7, 8, 9, 10,10,7,7};\n\n    Map&lt;Integer,Integer&gt; frequencyGreaterThanOne =\n            Arrays.stream(arr).boxed().sorted()\n                    .collect(Collectors.groupingBy(Object::toString,Collectors.counting()))\n                    .entrySet().stream()\n                    .filter(x -&gt; x.getValue() &gt; 1)\n                    .collect(Collectors.toMap(x -&gt; Integer.valueOf(x.getKey()),\n                            x -&gt; x.getValue().intValue(),(a, b) -&gt; a,TreeMap::new));\n\n    System.out.println(frequencyGreaterThanOne);\n\n    StringBuilder sb = new StringBuilder(&quot;&quot;);\n\n    frequencyGreaterThanOne.forEach((key, value) -&gt; {\n        for (int i = 0; i &lt; value; i++) {\n            sb.append(key).append(&quot; &quot;);\n        }\n    });\n\n    System.out.println(sb);\n}\n</code></pre>\n<p>}</p>\n<p><strong>Output:</strong></p>\n<pre><code>{2=2, 3=3, 4=4, 5=6, 7=3, 10=2, 11=2}\n2 2 3 3 3 4 4 4 4 5 5 5 5 5 5 7 7 7 10 10 11 11\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665146692,"creation_date":1665146692,"answer_id":73987365,"question_id":73986783,"body_markdown":"What your nested for loops do, is that for each element of the array, it (the inner loop) searches *everything after that element* for the same number as `arr[i]`. See how the inner loop starts from `i + 1`?\r\n\r\nBut for your program to be correct, you need to search the whole array for the same number as `arr[i]`, in order to determine whether `arr[i]` is duplicated somewhere in the array.\r\n\r\nThis means starting the inner loop at 0, and `break`ing the loop as soon as you find one, using a `boolean` variable to keep track of whether you found one. If you did find one, print `arr[i]`.\r\n\r\n    int[] arr = new int[] {1, 2, 2, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 5, 6, 7, 8, 9, 10};\r\n    for(int i = 0; i &lt; arr.length; i++) {\r\n        boolean found = false;\r\n        for(int j = 0; j &lt; arr.length; j++) {\r\n            if (arr[i] == arr[j] &amp;&amp; i != j) {\r\n                found = true;\r\n                break;\r\n            }\r\n        }\r\n        if (found) {\r\n            System.out.print(arr[i] + &quot; &quot;);\r\n        }\r\n    }\r\n\r\nNotice that this is a lot of waste. For the first `5`, we searched through the array to find another `5`, and for the second `5`, we are doing the same thing again! We can improve this by using a `HashSet`. Determining whether something is in a `HashSet` is asymptotically faster than looping through an array.\r\n\r\n    Set&lt;Integer&gt; appearedOnce = new HashSet&lt;&gt;();\r\n    Set&lt;Integer&gt; duplicates = new HashSet&lt;&gt;();\r\n    for (int i : arr) {\r\n        if (!appearedOnce.add(i)) { // add would return false if i is already in the set\r\n            duplicates.add(i);\r\n        }\r\n    }\r\n    for (int i : arr) {\r\n        if (duplicates.contains(i)) {\r\n            System.out.print(i + &quot; &quot;);\r\n        }\r\n    }\r\n\r\nThe first part is similar to Alexander Ivanchenko&#39;s answer, finding out what the duplicates are. Then, you loop through the array only one more time, conditionally printing out those elements that are in the `duplicates` set.","title":"How to display all elements in a Java integer array that have at least one identical value?","body":"<p>What your nested for loops do, is that for each element of the array, it (the inner loop) searches <em>everything after that element</em> for the same number as <code>arr[i]</code>. See how the inner loop starts from <code>i + 1</code>?</p>\n<p>But for your program to be correct, you need to search the whole array for the same number as <code>arr[i]</code>, in order to determine whether <code>arr[i]</code> is duplicated somewhere in the array.</p>\n<p>This means starting the inner loop at 0, and <code>break</code>ing the loop as soon as you find one, using a <code>boolean</code> variable to keep track of whether you found one. If you did find one, print <code>arr[i]</code>.</p>\n<pre><code>int[] arr = new int[] {1, 2, 2, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 5, 6, 7, 8, 9, 10};\nfor(int i = 0; i &lt; arr.length; i++) {\n    boolean found = false;\n    for(int j = 0; j &lt; arr.length; j++) {\n        if (arr[i] == arr[j] &amp;&amp; i != j) {\n            found = true;\n            break;\n        }\n    }\n    if (found) {\n        System.out.print(arr[i] + &quot; &quot;);\n    }\n}\n</code></pre>\n<p>Notice that this is a lot of waste. For the first <code>5</code>, we searched through the array to find another <code>5</code>, and for the second <code>5</code>, we are doing the same thing again! We can improve this by using a <code>HashSet</code>. Determining whether something is in a <code>HashSet</code> is asymptotically faster than looping through an array.</p>\n<pre><code>Set&lt;Integer&gt; appearedOnce = new HashSet&lt;&gt;();\nSet&lt;Integer&gt; duplicates = new HashSet&lt;&gt;();\nfor (int i : arr) {\n    if (!appearedOnce.add(i)) { // add would return false if i is already in the set\n        duplicates.add(i);\n    }\n}\nfor (int i : arr) {\n    if (duplicates.contains(i)) {\n        System.out.print(i + &quot; &quot;);\n    }\n}\n</code></pre>\n<p>The first part is similar to Alexander Ivanchenko's answer, finding out what the duplicates are. Then, you loop through the array only one more time, conditionally printing out those elements that are in the <code>duplicates</code> set.</p>\n"},{"tags":[],"owner":{"account_id":22466920,"reputation":321,"user_id":16667945,"display_name":"AbdullahSaidAbdeaaziz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665147985,"creation_date":1665147881,"answer_id":73987609,"question_id":73986783,"body_markdown":"# Alogrithm #\r\n----\r\n 1. I sorted the list using [Arrays.sort()][1]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/arrays-sort-in-java-with-examples/\r\n \r\n 2. Then check if the first element is equal second element **(As they sorted so element that has at least identical values should appear)** and if the first element is equal to the previous element **(As the last element of identical and included it in the result)**\r\n\r\n        int[] arr = new int[] {1,2,2,3,3,3,4,4,4,4,5,5,5,5,5,6,7,8,9,10};\r\n        // Sort Array\r\n        Arrays.sort(arr);\r\n\r\n        for (int i = 1; i &lt; arr.length-1 ; i++) {\r\n            if(arr[i] == arr[i+1] | arr[i-1] == arr[i]){\r\n                System.out.print(arr[i]+ &quot; &quot;);\r\n            }\r\n        }\r\n\r\n&gt; Output\r\n\r\n    2 2 3 3 3 4 4 4 4 5 5 5 5 5","title":"How to display all elements in a Java integer array that have at least one identical value?","body":"<h1>Alogrithm</h1>\n<hr />\n<ol>\n<li>I sorted the list using <a href=\"https://www.geeksforgeeks.org/arrays-sort-in-java-with-examples/\" rel=\"nofollow noreferrer\">Arrays.sort()</a></li>\n</ol>\n<ol start=\"2\">\n<li><p>Then check if the first element is equal second element <strong>(As they sorted so element that has at least identical values should appear)</strong> and if the first element is equal to the previous element <strong>(As the last element of identical and included it in the result)</strong></p>\n<pre><code>int[] arr = new int[] {1,2,2,3,3,3,4,4,4,4,5,5,5,5,5,6,7,8,9,10};\n// Sort Array\nArrays.sort(arr);\n\nfor (int i = 1; i &lt; arr.length-1 ; i++) {\n    if(arr[i] == arr[i+1] | arr[i-1] == arr[i]){\n        System.out.print(arr[i]+ &quot; &quot;);\n    }\n}\n</code></pre>\n</li>\n</ol>\n<blockquote>\n<p>Output</p>\n</blockquote>\n<pre><code>2 2 3 3 3 4 4 4 4 5 5 5 5 5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665219107,"creation_date":1665148325,"answer_id":73987690,"question_id":73986783,"body_markdown":"In order to keep duplicates in encounter order, you can use `Map&lt;Integer, List&lt;Integer&gt;&gt;`, with keys being elements of the array, and values being indexes, where element exists in the array. Elements with more than one index are duplicates.\r\n```\r\npublic class Temp {\r\n\r\n    public static void main(String[] args) {\r\n        int[] arr = new int[]{1, 2, 2, 3, 3, 3, 2, 4, 1, 5, 3};\r\n        Map&lt;Integer, List&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\r\n        for (int index = 0; index &lt; arr.length; index++) {\r\n            List&lt;Integer&gt; indexes = map.computeIfAbsent(arr[index], element -&gt; new ArrayList&lt;&gt;());\r\n            indexes.add(index);\r\n        }\r\n        String duplicates = map.values()\r\n                .stream()\r\n                .filter(indexes -&gt; indexes.size() &gt; 1)\r\n                .flatMap(Collection::stream)\r\n                .sorted()\r\n                .map(index -&gt; Integer.toString(arr[index]))\r\n                .collect(Collectors.joining(&quot; &quot;));\r\n        System.out.println(duplicates);\r\n    }\r\n}\r\n```\r\nIndexes won&#39;t be ordered, that requires sorting in order to gather the elements in encounter order.","title":"How to display all elements in a Java integer array that have at least one identical value?","body":"<p>In order to keep duplicates in encounter order, you can use <code>Map&lt;Integer, List&lt;Integer&gt;&gt;</code>, with keys being elements of the array, and values being indexes, where element exists in the array. Elements with more than one index are duplicates.</p>\n<pre><code>public class Temp {\n\n    public static void main(String[] args) {\n        int[] arr = new int[]{1, 2, 2, 3, 3, 3, 2, 4, 1, 5, 3};\n        Map&lt;Integer, List&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\n        for (int index = 0; index &lt; arr.length; index++) {\n            List&lt;Integer&gt; indexes = map.computeIfAbsent(arr[index], element -&gt; new ArrayList&lt;&gt;());\n            indexes.add(index);\n        }\n        String duplicates = map.values()\n                .stream()\n                .filter(indexes -&gt; indexes.size() &gt; 1)\n                .flatMap(Collection::stream)\n                .sorted()\n                .map(index -&gt; Integer.toString(arr[index]))\n                .collect(Collectors.joining(&quot; &quot;));\n        System.out.println(duplicates);\n    }\n}\n</code></pre>\n<p>Indexes won't be ordered, that requires sorting in order to gather the elements in encounter order.</p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665149176,"creation_date":1665148620,"answer_id":73987746,"question_id":73986783,"body_markdown":"You&#39;ve got more than enough answers. This one fits into one long line using stream / grouping by to find the duplicates, joins those values and then printing:\r\n\r\n\tSystem.out.println(Arrays.stream(arr).boxed()\r\n\t\t.collect(Collectors.groupingBy(Object::toString,LinkedHashMap::new,Collectors.counting()))\r\n\t\t.entrySet().stream().filter(entry -&gt; entry.getValue() &gt; 1)\r\n\t\t.map(entry -&gt; (&quot; &quot;+entry.getKey()).repeat(entry.getValue().intValue()))\r\n\t\t.collect(Collectors.joining(&quot;&quot;)).trim());\r\n\r\nNote that the above won&#39;t work if the integer values repeat later - example `{1,2,1}`","title":"How to display all elements in a Java integer array that have at least one identical value?","body":"<p>You've got more than enough answers. This one fits into one long line using stream / grouping by to find the duplicates, joins those values and then printing:</p>\n<pre><code>System.out.println(Arrays.stream(arr).boxed()\n    .collect(Collectors.groupingBy(Object::toString,LinkedHashMap::new,Collectors.counting()))\n    .entrySet().stream().filter(entry -&gt; entry.getValue() &gt; 1)\n    .map(entry -&gt; (&quot; &quot;+entry.getKey()).repeat(entry.getValue().intValue()))\n    .collect(Collectors.joining(&quot;&quot;)).trim());\n</code></pre>\n<p>Note that the above won't work if the integer values repeat later - example <code>{1,2,1}</code></p>\n"}],"owner":{"account_id":26235223,"reputation":39,"user_id":19910496,"display_name":"askein"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":485,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"answer_count":8,"score":2,"last_activity_date":1665230516,"creation_date":1665143641,"question_id":73986783,"body_markdown":"I used this [Java Program to Print Duplicate Elements in an Array][1] as reference.\r\n\r\n    int[] arr = new int[] {1, 2, 2, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 5, 6, 7, 8, 9, 10};\r\n    for(int i = 0; i &lt; arr.length; i++) {\r\n      for(int j = i + 1; j &lt; arr.length; j++) {\r\n        if(arr[i] == arr[j]) {\r\n          System.out.print(arr[j] + &quot; &quot;);\r\n        }\r\n      }\r\n    }\r\n\r\nOutput:\r\n\r\n    2 3 3 3 4 4 4 4 4 4 5 5 5 5 5 5 5 5 5 5 \r\n\r\nI think you can already see the problem here. It only works well when there are only two elements that have the same value. But even then, it won&#39;t display both the two said values. I&#39;ve tried to only display arr[i], arr[j], and both arr[i] and arr[j]. But nothing. I am fairly new. I can&#39;t get anywhere.\r\n\r\nWhat I want is to display all elements in the array that have at least one identical value.\r\n\r\nThe result should be:\r\n\r\n    2 2 3 3 3 4 4 4 4 5 5 5 5 5\r\n\r\nTeach me.\r\n\r\nI have also tried this [GeeksForGeeks: Array elements that appear more than once][2]. Changed the integer array into the same that I have above. It only displayed:\r\n\r\n    2 3 4 5\r\n\r\n\r\n  [1]: https://www.javatpoint.com/java-program-to-print-the-duplicate-elements-of-an-array\r\n  [2]: https://www.geeksforgeeks.org/array-elements-that-appear-more-than-once/","title":"How to display all elements in a Java integer array that have at least one identical value?","body":"<p>I used this <a href=\"https://www.javatpoint.com/java-program-to-print-the-duplicate-elements-of-an-array\" rel=\"nofollow noreferrer\">Java Program to Print Duplicate Elements in an Array</a> as reference.</p>\n<pre><code>int[] arr = new int[] {1, 2, 2, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 5, 6, 7, 8, 9, 10};\nfor(int i = 0; i &lt; arr.length; i++) {\n  for(int j = i + 1; j &lt; arr.length; j++) {\n    if(arr[i] == arr[j]) {\n      System.out.print(arr[j] + &quot; &quot;);\n    }\n  }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>2 3 3 3 4 4 4 4 4 4 5 5 5 5 5 5 5 5 5 5 \n</code></pre>\n<p>I think you can already see the problem here. It only works well when there are only two elements that have the same value. But even then, it won't display both the two said values. I've tried to only display arr[i], arr[j], and both arr[i] and arr[j]. But nothing. I am fairly new. I can't get anywhere.</p>\n<p>What I want is to display all elements in the array that have at least one identical value.</p>\n<p>The result should be:</p>\n<pre><code>2 2 3 3 3 4 4 4 4 5 5 5 5 5\n</code></pre>\n<p>Teach me.</p>\n<p>I have also tried this <a href=\"https://www.geeksforgeeks.org/array-elements-that-appear-more-than-once/\" rel=\"nofollow noreferrer\">GeeksForGeeks: Array elements that appear more than once</a>. Changed the integer array into the same that I have above. It only displayed:</p>\n<pre><code>2 3 4 5\n</code></pre>\n"},{"tags":["java","android","android-studio","admob","ads"],"owner":{"account_id":25389047,"reputation":25,"user_id":19200377,"display_name":"Pronner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1665230458,"creation_date":1665229567,"question_id":73996720,"body_markdown":"There&#39;s an issue when trying to use Interstitial ads on `MainFragment.java` for `fragment_main.xml`.\r\n\r\nI get the errors:\r\n```\r\n&#39;load(android.content.Context, java.lang.String, com.google.android.gms.ads.AdRequest, com.google.android.gms.ads.interstitial.InterstitialAdLoadCallback)&#39; in &#39;com.google.android.gms.ads.interstitial.InterstitialAd&#39; cannot be applied to &#39;(com.pronner.ragtagvpn.view.MainFragment, java.lang.String, com.google.android.gms.ads.AdRequest, anonymous com.google.android.gms.ads.interstitial.InterstitialAdLoadCallback)&#39;\r\n\r\n&#39;show(android.app.Activity)&#39; in &#39;com.google.android.gms.ads.interstitial.InterstitialAd&#39; cannot be applied to &#39;(com.pronner.ragtagvpn.view.MainFragment)&#39;\r\n```\r\nBut when I use `MainActivity.java` instead, there are no errors however the application crashes meaning it couldn&#39;t find `vpnBtn` in `activity_main.xml`.\r\n\r\nMainFragment.java Interstitial ad part:\r\n```java\r\npackage com.pronner.ragtagvpn.view;\r\n\r\nimport static android.app.Activity.RESULT_OK;\r\n\r\nimport android.content.BroadcastReceiver;\r\nimport android.content.Context;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.content.IntentFilter;\r\nimport android.net.VpnService;\r\nimport android.os.Bundle;\r\nimport android.os.RemoteException;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.databinding.DataBindingUtil;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.localbroadcastmanager.content.LocalBroadcastManager;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.google.android.gms.ads.LoadAdError;\r\nimport com.pronner.ragtagvpn.R;\r\nimport com.pronner.ragtagvpn.databinding.FragmentMainBinding;\r\nimport com.pronner.ragtagvpn.CheckInternetConnection;\r\nimport com.pronner.ragtagvpn.SharedPreference;\r\nimport com.pronner.ragtagvpn.interfaces.ChangeServer;\r\nimport com.pronner.ragtagvpn.model.Server;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\n\r\nimport de.blinkt.openvpn.OpenVpnApi;\r\nimport de.blinkt.openvpn.core.OpenVPNService;\r\nimport de.blinkt.openvpn.core.OpenVPNThread;\r\nimport de.blinkt.openvpn.core.VpnStatus;\r\n\r\nimport com.google.android.gms.ads.AdError;\r\nimport com.google.android.gms.ads.AdRequest;\r\nimport com.google.android.gms.ads.AdView;\r\nimport com.google.android.gms.ads.FullScreenContentCallback;\r\nimport com.google.android.gms.ads.interstitial.InterstitialAd;\r\nimport com.google.android.gms.ads.interstitial.*;\r\nimport com.google.android.gms.ads.interstitial.InterstitialAdLoadCallback;\r\nimport com.pronner.ragtagvpn.R;\r\nimport com.pronner.ragtagvpn.Utils;\r\nimport com.pronner.ragtagvpn.adapter.ServerListRVAdapter;\r\nimport com.pronner.ragtagvpn.interfaces.ChangeServer;\r\nimport com.pronner.ragtagvpn.interfaces.NavItemClickListener;\r\nimport com.pronner.ragtagvpn.model.Server;\r\n\r\nimport com.google.android.gms.ads.MobileAds;\r\nimport com.google.android.gms.ads.initialization.InitializationStatus;\r\nimport com.google.android.gms.ads.initialization.OnInitializationCompleteListener;\r\n\r\npublic class MainFragment extends Fragment implements View.OnClickListener, ChangeServer {\r\n\r\n    private Server server;\r\n    private CheckInternetConnection connection;\r\n\r\n    private OpenVPNThread vpnThread = new OpenVPNThread();\r\n    private OpenVPNService vpnService = new OpenVPNService();\r\n    boolean vpnStart = false;\r\n    private SharedPreference preference;\r\n\r\n    private FragmentMainBinding binding;\r\n\r\n    private Button mButton;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n        binding = DataBindingUtil.inflate(inflater, R.layout.fragment_main, container, false);\r\n\r\n        View view = binding.getRoot();\r\n        initializeAll();\r\n\r\n        loadInterstitialAds();\r\n\r\n        mButton = mButton.findViewById(R.id.vpnBtn);\r\n        mButton.setOnClickListener(new View.OnClickListener() {\r\n\r\n\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                if (mInterstationalAd!=null) {\r\n                    mInterstationalAd.show(MainFragment.this);\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n    private InterstitialAd mInterstationalAd=null;\r\n    public static final String INTERESTRIAL_AD_UNIT_ID=&quot;ca-app-pub-1yyyyyyyy/1xxxxxxxx&quot;; // I put this in the real code\r\n\r\n    void loadInterstitialAds() {\r\n\r\n        AdRequest adRequest=new AdRequest.Builder().build();\r\n        InterstitialAd.load(this, INTERESTRIAL_AD_UNIT_ID, adRequest, new InterstitialAdLoadCallback() {\r\n            @Override\r\n            public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\r\n                super.onAdFailedToLoad(loadAdError);\r\n            }\r\n\r\n            @Override\r\n            public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\r\n                super.onAdLoaded(interstitialAd);\r\n                mInterstationalAd=interstitialAd;\r\n\r\n                interstitialAd.setFullScreenContentCallback(new FullScreenContentCallback() {\r\n                    @Override\r\n                    public void onAdClicked() {\r\n                        super.onAdClicked();\r\n                    }\r\n\r\n                    @Override\r\n                    public void onAdDismissedFullScreenContent() {\r\n                        super.onAdDismissedFullScreenContent();\r\n                    }\r\n\r\n                    @Override\r\n                    public void onAdFailedToShowFullScreenContent(@NonNull AdError adError) {\r\n                        super.onAdFailedToShowFullScreenContent(adError);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onAdImpression() {\r\n                        super.onAdImpression();\r\n                    }\r\n\r\n                    @Override\r\n                    public void onAdShowedFullScreenContent() {\r\n                        super.onAdShowedFullScreenContent();\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\nI&#39;m 90% sure if I were able to fix the errors, the Interstitial ad would work. Because that&#39;s the same thing that happened with my Banner ad (which works now), I had to put the `adView` inside the `activity_main.xml` instead, but adding the button into the `activity_main.xml` makes the process so much longer and I might face even more errors, so this fix would be a lot easier I reckon.","title":"android | Issue with &quot;mInterstationalAd.show(MainFragment.this);&quot;","body":"<p>There's an issue when trying to use Interstitial ads on <code>MainFragment.java</code> for <code>fragment_main.xml</code>.</p>\n<p>I get the errors:</p>\n<pre><code>'load(android.content.Context, java.lang.String, com.google.android.gms.ads.AdRequest, com.google.android.gms.ads.interstitial.InterstitialAdLoadCallback)' in 'com.google.android.gms.ads.interstitial.InterstitialAd' cannot be applied to '(com.pronner.ragtagvpn.view.MainFragment, java.lang.String, com.google.android.gms.ads.AdRequest, anonymous com.google.android.gms.ads.interstitial.InterstitialAdLoadCallback)'\n\n'show(android.app.Activity)' in 'com.google.android.gms.ads.interstitial.InterstitialAd' cannot be applied to '(com.pronner.ragtagvpn.view.MainFragment)'\n</code></pre>\n<p>But when I use <code>MainActivity.java</code> instead, there are no errors however the application crashes meaning it couldn't find <code>vpnBtn</code> in <code>activity_main.xml</code>.</p>\n<p>MainFragment.java Interstitial ad part:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.pronner.ragtagvpn.view;\n\nimport static android.app.Activity.RESULT_OK;\n\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.net.VpnService;\nimport android.os.Bundle;\nimport android.os.RemoteException;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.databinding.DataBindingUtil;\nimport androidx.fragment.app.Fragment;\nimport androidx.localbroadcastmanager.content.LocalBroadcastManager;\n\nimport com.bumptech.glide.Glide;\nimport com.google.android.gms.ads.LoadAdError;\nimport com.pronner.ragtagvpn.R;\nimport com.pronner.ragtagvpn.databinding.FragmentMainBinding;\nimport com.pronner.ragtagvpn.CheckInternetConnection;\nimport com.pronner.ragtagvpn.SharedPreference;\nimport com.pronner.ragtagvpn.interfaces.ChangeServer;\nimport com.pronner.ragtagvpn.model.Server;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\n\nimport de.blinkt.openvpn.OpenVpnApi;\nimport de.blinkt.openvpn.core.OpenVPNService;\nimport de.blinkt.openvpn.core.OpenVPNThread;\nimport de.blinkt.openvpn.core.VpnStatus;\n\nimport com.google.android.gms.ads.AdError;\nimport com.google.android.gms.ads.AdRequest;\nimport com.google.android.gms.ads.AdView;\nimport com.google.android.gms.ads.FullScreenContentCallback;\nimport com.google.android.gms.ads.interstitial.InterstitialAd;\nimport com.google.android.gms.ads.interstitial.*;\nimport com.google.android.gms.ads.interstitial.InterstitialAdLoadCallback;\nimport com.pronner.ragtagvpn.R;\nimport com.pronner.ragtagvpn.Utils;\nimport com.pronner.ragtagvpn.adapter.ServerListRVAdapter;\nimport com.pronner.ragtagvpn.interfaces.ChangeServer;\nimport com.pronner.ragtagvpn.interfaces.NavItemClickListener;\nimport com.pronner.ragtagvpn.model.Server;\n\nimport com.google.android.gms.ads.MobileAds;\nimport com.google.android.gms.ads.initialization.InitializationStatus;\nimport com.google.android.gms.ads.initialization.OnInitializationCompleteListener;\n\npublic class MainFragment extends Fragment implements View.OnClickListener, ChangeServer {\n\n    private Server server;\n    private CheckInternetConnection connection;\n\n    private OpenVPNThread vpnThread = new OpenVPNThread();\n    private OpenVPNService vpnService = new OpenVPNService();\n    boolean vpnStart = false;\n    private SharedPreference preference;\n\n    private FragmentMainBinding binding;\n\n    private Button mButton;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n\n        binding = DataBindingUtil.inflate(inflater, R.layout.fragment_main, container, false);\n\n        View view = binding.getRoot();\n        initializeAll();\n\n        loadInterstitialAds();\n\n        mButton = mButton.findViewById(R.id.vpnBtn);\n        mButton.setOnClickListener(new View.OnClickListener() {\n\n\n            @Override\n            public void onClick(View view) {\n\n                if (mInterstationalAd!=null) {\n                    mInterstationalAd.show(MainFragment.this);\n                }\n\n            }\n        });\n\n        return view;\n    }\n\n    private InterstitialAd mInterstationalAd=null;\n    public static final String INTERESTRIAL_AD_UNIT_ID=&quot;ca-app-pub-1yyyyyyyy/1xxxxxxxx&quot;; // I put this in the real code\n\n    void loadInterstitialAds() {\n\n        AdRequest adRequest=new AdRequest.Builder().build();\n        InterstitialAd.load(this, INTERESTRIAL_AD_UNIT_ID, adRequest, new InterstitialAdLoadCallback() {\n            @Override\n            public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\n                super.onAdFailedToLoad(loadAdError);\n            }\n\n            @Override\n            public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\n                super.onAdLoaded(interstitialAd);\n                mInterstationalAd=interstitialAd;\n\n                interstitialAd.setFullScreenContentCallback(new FullScreenContentCallback() {\n                    @Override\n                    public void onAdClicked() {\n                        super.onAdClicked();\n                    }\n\n                    @Override\n                    public void onAdDismissedFullScreenContent() {\n                        super.onAdDismissedFullScreenContent();\n                    }\n\n                    @Override\n                    public void onAdFailedToShowFullScreenContent(@NonNull AdError adError) {\n                        super.onAdFailedToShowFullScreenContent(adError);\n                    }\n\n                    @Override\n                    public void onAdImpression() {\n                        super.onAdImpression();\n                    }\n\n                    @Override\n                    public void onAdShowedFullScreenContent() {\n                        super.onAdShowedFullScreenContent();\n                    }\n                });\n            }\n        });\n    }\n</code></pre>\n<p>I'm 90% sure if I were able to fix the errors, the Interstitial ad would work. Because that's the same thing that happened with my Banner ad (which works now), I had to put the <code>adView</code> inside the <code>activity_main.xml</code> instead, but adding the button into the <code>activity_main.xml</code> makes the process so much longer and I might face even more errors, so this fix would be a lot easier I reckon.</p>\n"},{"tags":["java","mysql","sql","jpa"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665224470,"post_id":73996151,"comment_id":130652965,"body_markdown":"*Now I want to add one more data in That.* So why are you using an update statement then, *and* with the same ID as the one before? You should be using an *insert* statement","body":"<i>Now I want to add one more data in That.</i> So why are you using an update statement then, <i>and</i> with the same ID as the one before? You should be using an <i>insert</i> statement"},{"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"score":0,"creation_date":1665224619,"post_id":73996151,"comment_id":130652992,"body_markdown":"No `insert` statement is for insertion the row, in same record I want to add data in my `columnJson ` column where already I have two data, I wann add one more.","body":"No <code>insert</code> statement is for insertion the row, in same record I want to add data in my <code>columnJson </code> column where already I have two data, I wann add one more."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665225039,"post_id":73996151,"comment_id":130653042,"body_markdown":"Oh right, then you&#39;ll have to select, append, *then* update. Or use [this](https://stackoverflow.com/questions/13926239/mysql-append-column-value#13926382) technique","body":"Oh right, then you&#39;ll have to select, append, <i>then</i> update. Or use <a href=\"https://stackoverflow.com/questions/13926239/mysql-append-column-value#13926382\">this</a> technique"},{"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"score":0,"creation_date":1665225395,"post_id":73996151,"comment_id":130653091,"body_markdown":"let me try, thanks, Not sure will work on json or not.","body":"let me try, thanks, Not sure will work on json or not."},{"owner":{"account_id":6740011,"reputation":46650,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1665226239,"post_id":73996151,"comment_id":130653232,"body_markdown":"you need to use one of these https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html","body":"you need to use one of these <a href=\"https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/refman/5.7/en/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6740011,"reputation":46650,"user_id":5193536,"display_name":"nbk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665229965,"creation_date":1665228180,"answer_id":73996581,"question_id":73996151,"body_markdown":"You need JSON functions like `JSON_ARRAY_APPEND` see more [functions][1] to mani&#252;ulate.\r\n\r\nJson needs some special function which have to be learned, we usually recomend nit to use JSON, because in a normalized table you can use all the sql functionality there exists, \r\n\r\nJSON needs always a moderate learn effort \r\n\r\n\r\n``` \r\nupdate myTable \r\nset columnJson = &#39;[{&quot;id&quot; : &quot;someId1&quot; , &quot;name&quot;: &quot;someNamme2&quot;}\r\n                  ,{&quot;id&quot; : &quot;someId2&quot;, &quot;name&quot;: &quot;someNamme2&quot;}]&#39; \r\nwhere id = &quot;rowID1&quot;;\r\n```\r\n\r\n&gt; ``` status\r\n&gt; Rows matched: 1  Changed: 1  Warnings: 0\r\n&gt; ```\r\n\r\n``` \r\nupdate myTable \r\nset columnJson = JSON_ARRAY_APPEND(columnJson, &#39;$[0]&#39;, &#39;{&quot;id&quot; : &quot;someId3&quot;, &quot;name&quot;: &quot;someNamme3&quot;}&#39;)\r\n```\r\n\r\n&gt; ``` status\r\n&gt; Rows matched: 1  Changed: 1  Warnings: 0\r\n&gt; ```\r\n\r\n``` \r\nSELECT * FROM myTable\r\n```\r\n| id | columnJson |\r\n|:---|:-----------|\r\n| rowID1 | \\[\\[{&quot;id&quot;: &quot;someId1&quot;, &quot;name&quot;: &quot;someNamme2&quot;}, &quot;{\\&quot;id\\&quot; : \\&quot;someId3\\&quot;, \\&quot;name\\&quot;: \\&quot;someNamme3\\&quot;}&quot;], {&quot;id&quot;: &quot;someId2&quot;, &quot;name&quot;: &quot;someNamme2&quot;}] |\r\n\r\n[fiddle](https://dbfiddle.uk/zPfmyb4H)\r\n\r\nAnd if you want another position you change te point where it shold change\r\n\r\n``` \r\nupdate myTable \r\nset columnJson = &#39;[{&quot;id&quot; : &quot;someId1&quot; , &quot;name&quot;: &quot;someNamme2&quot;}\r\n                  ,{&quot;id&quot; : &quot;someId2&quot;, &quot;name&quot;: &quot;someNamme2&quot;}]&#39; \r\nwhere id = &quot;rowID1&quot;;\r\n```\r\n\r\n&gt; ``` status\r\n&gt; Rows matched: 1  Changed: 1  Warnings: 0\r\n&gt; ```\r\n\r\n``` \r\nupdate myTable \r\nset columnJson = JSON_ARRAY_APPEND(columnJson, &#39;$[1]&#39;, &#39;{&quot;id&quot; : &quot;someId3&quot;, &quot;name&quot;: &quot;someNamme3&quot;}&#39;)\r\n```\r\n\r\n&gt; ``` status\r\n&gt; Rows matched: 1  Changed: 1  Warnings: 0\r\n&gt; ```\r\n\r\n``` \r\nSELECT * FROM myTable\r\n```\r\n| id | columnJson |\r\n|:---|:-----------|\r\n| rowID1 | \\[{&quot;id&quot;: &quot;someId1&quot;, &quot;name&quot;: &quot;someNamme2&quot;}, \\[{&quot;id&quot;: &quot;someId2&quot;, &quot;name&quot;: &quot;someNamme2&quot;}, &quot;{\\&quot;id\\&quot; : \\&quot;someId3\\&quot;, \\&quot;name\\&quot;: \\&quot;someNamme3\\&quot;}&quot;]] |\r\n\r\n[fiddle](https://dbfiddle.uk/wQdEc-HD)\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html","title":"How to add another data in my sql column of type JSON","body":"<p>You need JSON functions like <code>JSON_ARRAY_APPEND</code> see more <a href=\"https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html\" rel=\"nofollow noreferrer\">functions</a> to maniüulate.</p>\n<p>Json needs some special function which have to be learned, we usually recomend nit to use JSON, because in a normalized table you can use all the sql functionality there exists,</p>\n<p>JSON needs always a moderate learn effort</p>\n<pre><code>update myTable \nset columnJson = '[{&quot;id&quot; : &quot;someId1&quot; , &quot;name&quot;: &quot;someNamme2&quot;}\n                  ,{&quot;id&quot; : &quot;someId2&quot;, &quot;name&quot;: &quot;someNamme2&quot;}]' \nwhere id = &quot;rowID1&quot;;\n</code></pre>\n<blockquote>\n<pre><code>Rows matched: 1  Changed: 1  Warnings: 0\n</code></pre>\n</blockquote>\n<pre><code>update myTable \nset columnJson = JSON_ARRAY_APPEND(columnJson, '$[0]', '{&quot;id&quot; : &quot;someId3&quot;, &quot;name&quot;: &quot;someNamme3&quot;}')\n</code></pre>\n<blockquote>\n<pre><code>Rows matched: 1  Changed: 1  Warnings: 0\n</code></pre>\n</blockquote>\n<pre><code>SELECT * FROM myTable\n</code></pre>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">id</th>\n<th style=\"text-align: left;\">columnJson</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">rowID1</td>\n<td style=\"text-align: left;\">[[{&quot;id&quot;: &quot;someId1&quot;, &quot;name&quot;: &quot;someNamme2&quot;}, &quot;{&quot;id&quot; : &quot;someId3&quot;, &quot;name&quot;: &quot;someNamme3&quot;}&quot;], {&quot;id&quot;: &quot;someId2&quot;, &quot;name&quot;: &quot;someNamme2&quot;}]</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><a href=\"https://dbfiddle.uk/zPfmyb4H\" rel=\"nofollow noreferrer\">fiddle</a></p>\n<p>And if you want another position you change te point where it shold change</p>\n<pre><code>update myTable \nset columnJson = '[{&quot;id&quot; : &quot;someId1&quot; , &quot;name&quot;: &quot;someNamme2&quot;}\n                  ,{&quot;id&quot; : &quot;someId2&quot;, &quot;name&quot;: &quot;someNamme2&quot;}]' \nwhere id = &quot;rowID1&quot;;\n</code></pre>\n<blockquote>\n<pre><code>Rows matched: 1  Changed: 1  Warnings: 0\n</code></pre>\n</blockquote>\n<pre><code>update myTable \nset columnJson = JSON_ARRAY_APPEND(columnJson, '$[1]', '{&quot;id&quot; : &quot;someId3&quot;, &quot;name&quot;: &quot;someNamme3&quot;}')\n</code></pre>\n<blockquote>\n<pre><code>Rows matched: 1  Changed: 1  Warnings: 0\n</code></pre>\n</blockquote>\n<pre><code>SELECT * FROM myTable\n</code></pre>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">id</th>\n<th style=\"text-align: left;\">columnJson</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">rowID1</td>\n<td style=\"text-align: left;\">[{&quot;id&quot;: &quot;someId1&quot;, &quot;name&quot;: &quot;someNamme2&quot;}, [{&quot;id&quot;: &quot;someId2&quot;, &quot;name&quot;: &quot;someNamme2&quot;}, &quot;{&quot;id&quot; : &quot;someId3&quot;, &quot;name&quot;: &quot;someNamme3&quot;}&quot;]]</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><a href=\"https://dbfiddle.uk/wQdEc-HD\" rel=\"nofollow noreferrer\">fiddle</a></p>\n"}],"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73996581,"answer_count":1,"score":1,"last_activity_date":1665229965,"creation_date":1665224128,"question_id":73996151,"body_markdown":"How to add another data in my sql column of type JSON.\r\n\r\nIn my table I have one column of json type null.\r\n\r\nso I using this command to update the value.\r\n\r\n    update myTable \r\n    set columnJson = &#39;[{&quot;id&quot; : &quot;someId1&quot; , &quot;name&quot;: &quot;someNamme2&quot;}\r\n                      ,{&quot;id&quot; : &quot;someId2&quot;, &quot;name&quot;: &quot;someNamme2&quot;}]&#39; \r\n    where id = &quot;rowID1&quot;;\r\n\r\nthis is working fine. and I hve two data. \r\n\r\nNow I want to add one more data in That.\r\n\r\nI am using same command\r\n\r\n    update myTable  \r\n      set columnJson = &#39;[{&quot;id&quot; : &quot;someId3&quot;, &quot;name&quot;: &quot;someNamme3&quot;}]&#39;  \r\n     where id = &quot;rowID1&quot;;\r\n\r\n\r\nBut the previous value is getting washed away. Is there anyway I can add n number of values. I am doing this in Java.","title":"How to add another data in my sql column of type JSON","body":"<p>How to add another data in my sql column of type JSON.</p>\n<p>In my table I have one column of json type null.</p>\n<p>so I using this command to update the value.</p>\n<pre><code>update myTable \nset columnJson = '[{&quot;id&quot; : &quot;someId1&quot; , &quot;name&quot;: &quot;someNamme2&quot;}\n                  ,{&quot;id&quot; : &quot;someId2&quot;, &quot;name&quot;: &quot;someNamme2&quot;}]' \nwhere id = &quot;rowID1&quot;;\n</code></pre>\n<p>this is working fine. and I hve two data.</p>\n<p>Now I want to add one more data in That.</p>\n<p>I am using same command</p>\n<pre><code>update myTable  \n  set columnJson = '[{&quot;id&quot; : &quot;someId3&quot;, &quot;name&quot;: &quot;someNamme3&quot;}]'  \n where id = &quot;rowID1&quot;;\n</code></pre>\n<p>But the previous value is getting washed away. Is there anyway I can add n number of values. I am doing this in Java.</p>\n"},{"tags":["java","algorithm","time-complexity"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1664555769,"post_id":73911550,"comment_id":130506445,"body_markdown":"Build a HashMap where the keys are the numbers, and the values are the number of occurrences of that number.","body":"Build a HashMap where the keys are the numbers, and the values are the number of occurrences of that number."},{"owner":{"account_id":17673712,"reputation":487,"user_id":12829221,"display_name":"Sumit Singh"},"score":0,"creation_date":1664556136,"post_id":73911550,"comment_id":130506554,"body_markdown":"ryt said @AndyTurner same question as [TWO SUM](https://leetcode.com/problems/two-sum/) with a little twist","body":"ryt said @AndyTurner same question as <a href=\"https://leetcode.com/problems/two-sum/\" rel=\"nofollow noreferrer\">TWO SUM</a> with a little twist"},{"owner":{"account_id":286249,"reputation":43941,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":2,"creation_date":1664556374,"post_id":73911550,"comment_id":130506618,"body_markdown":"The best that I see is `O(n log(n))`.  The first step is to sort them.","body":"The best that I see is <code>O(n log(n))</code>.  The first step is to sort them."},{"owner":{"account_id":229381,"reputation":3734,"user_id":492307,"accept_rate":96,"display_name":"Tryer"},"score":3,"creation_date":1664556715,"post_id":73911550,"comment_id":130506703,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans `k` can very well be greater than `n`. All that matters is that it is a constant independent of `n`.","body":"@Mike&#39;Pomax&#39;Kamermans <code>k</code> can very well be greater than <code>n</code>. All that matters is that it is a constant independent of <code>n</code>."},{"owner":{"account_id":8063194,"reputation":1145,"user_id":6078157,"accept_rate":60,"display_name":"ThisGuyCantEven"},"score":0,"creation_date":1664556768,"post_id":73911550,"comment_id":130506723,"body_markdown":"the HashMap described by @AndyTurner is also known as a frequency histogram","body":"the HashMap described by @AndyTurner is also known as a frequency histogram"},{"owner":{"account_id":229381,"reputation":3734,"user_id":492307,"accept_rate":96,"display_name":"Tryer"},"score":3,"creation_date":1664557132,"post_id":73911550,"comment_id":130506846,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans Big O captures the worst case bound for *any* given `n`. So, the average value of `n` is immaterial when writing down an algorithm&#39;s Big O(n) function. You are talking about the average run time, which Big O does not care for.","body":"@Mike&#39;Pomax&#39;Kamermans Big O captures the worst case bound for <i>any</i> given <code>n</code>. So, the average value of <code>n</code> is immaterial when writing down an algorithm&#39;s Big O(n) function. You are talking about the average run time, which Big O does not care for."},{"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"score":0,"creation_date":1664641428,"post_id":73911550,"comment_id":130520421,"body_markdown":"@btilly radix sort is linear.","body":"@btilly radix sort is linear."},{"owner":{"account_id":286249,"reputation":43941,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":0,"creation_date":1664649636,"post_id":73911550,"comment_id":130522091,"body_markdown":"@Tryer You have fallen prey to misconception 4 in http://ssp.impulsetrain.com/big-o.html. Big-O is about mathematical functions.  They can be best case, average case, worst case, etc.","body":"@Tryer You have fallen prey to misconception 4 in <a href=\"http://ssp.impulsetrain.com/big-o.html\" rel=\"nofollow noreferrer\">ssp.impulsetrain.com/big-o.html</a>. Big-O is about mathematical functions.  They can be best case, average case, worst case, etc."},{"owner":{"account_id":286249,"reputation":43941,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":0,"creation_date":1664649737,"post_id":73911550,"comment_id":130522113,"body_markdown":"@WillNess Yes, with a number of passes proportional to the number of bits in the integer.  In a low-level language like C you can make this faster than comparison based sorts.  In a high-level language like Python, you can&#39;t.","body":"@WillNess Yes, with a number of passes proportional to the number of bits in the integer.  In a low-level language like C you can make this faster than comparison based sorts.  In a high-level language like Python, you can&#39;t."},{"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"score":0,"creation_date":1664650138,"post_id":73911550,"comment_id":130522194,"body_markdown":"@btilly btw I don&#39;t see why would it be impossible. Python has arrays with O(1) access; each number can be turned into an array of its digits in whatever *base*; then we sort by *k=0,1,...,d* -th digit. This assumes these ints are bounded from above (i.e. not bignums, but have finite range, up to *base^d* or so). we just needs a lot of space (length(array)*base), but the time complexity is still O(n).","body":"@btilly btw I don&#39;t see why would it be impossible. Python has arrays with O(1) access; each number can be turned into an array of its digits in whatever <i>base</i>; then we sort by <i>k=0,1,...,d</i> -th digit. This assumes these ints are bounded from above (i.e. not bignums, but have finite range, up to <i>base^d</i> or so). we just needs a lot of space (length(array)*base), but the time complexity is still O(n)."},{"owner":{"account_id":286249,"reputation":43941,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":0,"creation_date":1664650260,"post_id":73911550,"comment_id":130522224,"body_markdown":"@WillNess I&#39;d need to see benchmarks for Java. As for Python, you can write the code, but the performance overhead of writing in Python is such you&#39;ll probably lose to the library `sort` until your arrays have too much data to fit in memory.  Try writing it and see.","body":"@WillNess I&#39;d need to see benchmarks for Java. As for Python, you can write the code, but the performance overhead of writing in Python is such you&#39;ll probably lose to the library <code>sort</code> until your arrays have too much data to fit in memory.  Try writing it and see."},{"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"score":0,"creation_date":1664650296,"post_id":73911550,"comment_id":130522229,"body_markdown":"@btilly yes but this is an *algorithmic* question. We only care about big-O, not the actual performance.","body":"@btilly yes but this is an <i>algorithmic</i> question. We only care about big-O, not the actual performance."},{"owner":{"account_id":286249,"reputation":43941,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":0,"creation_date":1664659766,"post_id":73911550,"comment_id":130523767,"body_markdown":"@WillNess You have to define &quot;we&quot; carefully. I am usually uninterested in algorithms that are worse for all datasets that we can manage to run for.","body":"@WillNess You have to define &quot;we&quot; carefully. I am usually uninterested in algorithms that are worse for all datasets that we can manage to run for."},{"owner":{"account_id":22571027,"reputation":5269,"user_id":16757174,"display_name":"kcsquared"},"score":0,"creation_date":1664661838,"post_id":73911550,"comment_id":130524071,"body_markdown":"Since you can reduce element distinctness to this problem, proving a worst-case O(n) algorithm requires discussion about allowed models of computation or unmentioned constraints on the input. That doesn&#39;t preclude an O(n) randomized expected time complexity; you should specify what  &#39;complexity&#39; was sought.","body":"Since you can reduce element distinctness to this problem, proving a worst-case O(n) algorithm requires discussion about allowed models of computation or unmentioned constraints on the input. That doesn&#39;t preclude an O(n) randomized expected time complexity; you should specify what  &#39;complexity&#39; was sought."},{"owner":{"account_id":229381,"reputation":3734,"user_id":492307,"accept_rate":96,"display_name":"Tryer"},"score":0,"creation_date":1664681475,"post_id":73911550,"comment_id":130526143,"body_markdown":"@btilly Fair enough. *Usually* Big O notation *is* used to indicate worst case performance. My post was made under that assumption. If we are talking about the worst case performance, then it is indeed true that all that we care is how big n is and n alone is as long as k is a constant independent of n.","body":"@btilly Fair enough. <i>Usually</i> Big O notation <i>is</i> used to indicate worst case performance. My post was made under that assumption. If we are talking about the worst case performance, then it is indeed true that all that we care is how big n is and n alone is as long as k is a constant independent of n."},{"owner":{"account_id":286249,"reputation":43941,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":0,"creation_date":1664693679,"post_id":73911550,"comment_id":130527352,"body_markdown":"@Tryer Oh, really? Watch how many discussions talk about using a hash algorithm to achieve `O(1)` performance. In fact the worst case of common hashing implementations is `O(n)` and `O(1)` is the average case.","body":"@Tryer Oh, really? Watch how many discussions talk about using a hash algorithm to achieve <code>O(1)</code> performance. In fact the worst case of common hashing implementations is <code>O(n)</code> and <code>O(1)</code> is the average case."},{"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"score":0,"creation_date":1664702753,"post_id":73911550,"comment_id":130528582,"body_markdown":"The question wants certain complexity, constant factors i.e. performance do not matter.","body":"The question wants certain complexity, constant factors i.e. performance do not matter."}],"answers":[{"tags":[],"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665229785,"creation_date":1664642027,"answer_id":73920029,"question_id":73911550,"body_markdown":"To find the number of pairs of elements in an array summing up to a value within given range, we will use radix sort, which applies in any case where we know in advance the maximum number of digits in any given number under consideration.\r\n\r\nThis trivially holds when the integer values are of some usual bounded `int` type, i.e. not bignums.\r\n\r\nOtherwise, assuming all integers are positive, we first partition the array *in place* with the `r` value as the pivot, henceforth forgetting about the upper part of the array altogether. \r\n\r\nNow,\r\n\r\n 1. Sort the array by [radix sort][1] in *O(n)* in ascending order.\r\n 2. Scan the array from `i=0` with `j=1` incrementing `j` while `a[i]+a[j] &lt; l`, next with `k=j` incrementing `k` until `a[i]+a[k] &gt; r`. Decrement `k`. Set `count = k-j+1`.\r\n 3. Increment `i` once, possibly repeatedly decrementing `j` and `k` to maintain the boundary conditions, making sure `i =&lt; j =&lt; k`  and `i,j,k` are valid access. \r\n 4. If there are no valid `i,j,k`, go to 6. Otherwise,\r\n 5. Increment `count` by `k-j+1` and go back to 3.\r\n 6. Stop. `count` is the result.\r\n\r\n(adjust the above for corner cases as needed.)\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Radix_sort","title":"How can I reduce the time complexity from O(n^2) to O(n)","body":"<p>To find the number of pairs of elements in an array summing up to a value within given range, we will use radix sort, which applies in any case where we know in advance the maximum number of digits in any given number under consideration.</p>\n<p>This trivially holds when the integer values are of some usual bounded <code>int</code> type, i.e. not bignums.</p>\n<p>Otherwise, assuming all integers are positive, we first partition the array <em>in place</em> with the <code>r</code> value as the pivot, henceforth forgetting about the upper part of the array altogether.</p>\n<p>Now,</p>\n<ol>\n<li>Sort the array by <a href=\"https://en.wikipedia.org/wiki/Radix_sort\" rel=\"nofollow noreferrer\">radix sort</a> in <em>O(n)</em> in ascending order.</li>\n<li>Scan the array from <code>i=0</code> with <code>j=1</code> incrementing <code>j</code> while <code>a[i]+a[j] &lt; l</code>, next with <code>k=j</code> incrementing <code>k</code> until <code>a[i]+a[k] &gt; r</code>. Decrement <code>k</code>. Set <code>count = k-j+1</code>.</li>\n<li>Increment <code>i</code> once, possibly repeatedly decrementing <code>j</code> and <code>k</code> to maintain the boundary conditions, making sure <code>i =&lt; j =&lt; k</code>  and <code>i,j,k</code> are valid access.</li>\n<li>If there are no valid <code>i,j,k</code>, go to 6. Otherwise,</li>\n<li>Increment <code>count</code> by <code>k-j+1</code> and go back to 3.</li>\n<li>Stop. <code>count</code> is the result.</li>\n</ol>\n<p>(adjust the above for corner cases as needed.)</p>\n"},{"tags":[],"owner":{"account_id":5046303,"reputation":6678,"user_id":4052193,"accept_rate":50,"display_name":"Columbo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664708003,"creation_date":1664664608,"answer_id":73922249,"question_id":73911550,"body_markdown":"Here&#39;s my approach using a cumulative histogram instead of a sort. In c++, sorry.\r\n\r\n    static int sumPairsLinear(int *pArray,int iArraySize, int l, int r)\r\n    {\r\n        int iResult = 0;\r\n        // 1. Iterate the array and toss any entries larger than r\r\n        for (int i=0;i&lt;iArraySize;)\r\n        {\r\n            if (pArray[i] &gt; r)\r\n                pArray[i] = pArray[--iArraySize];\r\n            else\r\n                i++;\r\n        }\r\n        // 2. Allocate a zero initialised array of ints, of size `r+1`.\r\n        int *pHistogram = new int[r+1];\r\n        memset(pHistogram, 0, sizeof(int)*(r+1));\r\n        // 3. Fill the histogram\r\n        for (int i=0;i&lt;iArraySize;i++)\r\n        {\r\n            pHistogram[pArray[i]]++;\r\n        }\r\n        // 4. Convert it to a cumulative histogram. \r\n        for (int i=1;i&lt;=r;i++)\r\n        {\r\n            pHistogram[i] += pHistogram[i-1];\r\n        }\r\n        // 5. Iterate through the values again. Use the cumulative histogram to calculate the number of valid pairs.\r\n        for (int i=0;i&lt;iArraySize;i++)\r\n        {\r\n            int iVal = pArray[i];\r\n            int iIndex = l-iVal-1;\r\n            iResult += pHistogram[r-iVal] - ((iIndex &gt;= 0) ? pHistogram[iIndex] : 0);\r\n            // Don&#39;t pair with self\r\n            iVal *= 2;\r\n            if (iVal &lt;= r &amp;&amp;\r\n                iVal &gt;= l)\r\n            {\r\n                iResult--;\r\n            }\r\n        }\r\n        // 6. Half iResult because we counted each pair twice.\r\n        iResult /= 2;\r\n    \r\n        delete[] pHistogram;\r\n        return iResult;\r\n    }\r\n\r\nHorrible performance if `r` is large but otherwise reasonable and still O(N).","title":"How can I reduce the time complexity from O(n^2) to O(n)","body":"<p>Here's my approach using a cumulative histogram instead of a sort. In c++, sorry.</p>\n<pre><code>static int sumPairsLinear(int *pArray,int iArraySize, int l, int r)\n{\n    int iResult = 0;\n    // 1. Iterate the array and toss any entries larger than r\n    for (int i=0;i&lt;iArraySize;)\n    {\n        if (pArray[i] &gt; r)\n            pArray[i] = pArray[--iArraySize];\n        else\n            i++;\n    }\n    // 2. Allocate a zero initialised array of ints, of size `r+1`.\n    int *pHistogram = new int[r+1];\n    memset(pHistogram, 0, sizeof(int)*(r+1));\n    // 3. Fill the histogram\n    for (int i=0;i&lt;iArraySize;i++)\n    {\n        pHistogram[pArray[i]]++;\n    }\n    // 4. Convert it to a cumulative histogram. \n    for (int i=1;i&lt;=r;i++)\n    {\n        pHistogram[i] += pHistogram[i-1];\n    }\n    // 5. Iterate through the values again. Use the cumulative histogram to calculate the number of valid pairs.\n    for (int i=0;i&lt;iArraySize;i++)\n    {\n        int iVal = pArray[i];\n        int iIndex = l-iVal-1;\n        iResult += pHistogram[r-iVal] - ((iIndex &gt;= 0) ? pHistogram[iIndex] : 0);\n        // Don't pair with self\n        iVal *= 2;\n        if (iVal &lt;= r &amp;&amp;\n            iVal &gt;= l)\n        {\n            iResult--;\n        }\n    }\n    // 6. Half iResult because we counted each pair twice.\n    iResult /= 2;\n\n    delete[] pHistogram;\n    return iResult;\n}\n</code></pre>\n<p>Horrible performance if <code>r</code> is large but otherwise reasonable and still O(N).</p>\n"}],"owner":{"account_id":7838032,"reputation":2366,"user_id":5925291,"accept_rate":84,"display_name":"ArrchanaMohan"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1765,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":73922249,"answer_count":2,"score":8,"last_activity_date":1665229785,"creation_date":1664555032,"question_id":73911550,"body_markdown":"I recently attended an interview and they asked me to solve the below problem by using `O(n)` time complexity. (Hackerranker)\r\n\r\n**Problem:**\r\n\r\nGiven an integer array and there will be `l` integer and `r` integer. Need to find the which are all the pair of elements sum will be equal and in between `l` and `r` value;\r\n\r\n&gt; Example: \r\n&gt; \r\n&gt;     int[] array = {2,3,4,5}; int l=5, int r=7;\r\n&gt; \r\n&gt; Output: 4\r\n\r\nInput properties:\r\n\r\n- The input is unsorted. \r\n- The input will have duplicate elements. \r\n- The input array is non-negative.\r\n\r\nThe below combination will return the sum which will be equal and in between `l` and `r` range value, where if the pair is less than `l` or greater than `r` it should be skipped. And pairs can&#39;t be duplicated:\r\n\r\n    array[0] + array[1] = 5 -&gt; counter++\r\n    array[0] + array[2] = 6 -&gt; counter++\r\n    array[0] + array[3] = 7 -&gt; counter++\r\n    array[1] + array[2] = 7 -&gt; counter++\r\n    array[1] + array[3] = 8 -&gt; greater than r, no counter increment\r\n\r\nI tried the below approach and it works fine but its time complexity is O(n^2):\r\n\r\n     public static int sumPairs(int[] array,int l, int r)\r\n        {\r\n            int counter=0;\r\n            for(int i=0;i&lt;array.length;i++)\r\n            {\r\n                for(int j=i+1;j&lt;array.length;j++)\r\n                {\r\n                    int sum = array[i]+array[j];\r\n                    \r\n                    if(sum&lt;=r &amp;&amp; sum&gt;=l)\r\n                    {\r\n                        counter++;\r\n                    }\r\n                }\r\n            }\r\n            \r\n            return counter;\r\n        }\r\n\r\nCan someone help me to find a way to optimize the above code to become `O(n)` time complexity?\r\n\r\n\r\n","title":"How can I reduce the time complexity from O(n^2) to O(n)","body":"<p>I recently attended an interview and they asked me to solve the below problem by using <code>O(n)</code> time complexity. (Hackerranker)</p>\n<p><strong>Problem:</strong></p>\n<p>Given an integer array and there will be <code>l</code> integer and <code>r</code> integer. Need to find the which are all the pair of elements sum will be equal and in between <code>l</code> and <code>r</code> value;</p>\n<blockquote>\n<p>Example:</p>\n<pre><code>int[] array = {2,3,4,5}; int l=5, int r=7;\n</code></pre>\n<p>Output: 4</p>\n</blockquote>\n<p>Input properties:</p>\n<ul>\n<li>The input is unsorted.</li>\n<li>The input will have duplicate elements.</li>\n<li>The input array is non-negative.</li>\n</ul>\n<p>The below combination will return the sum which will be equal and in between <code>l</code> and <code>r</code> range value, where if the pair is less than <code>l</code> or greater than <code>r</code> it should be skipped. And pairs can't be duplicated:</p>\n<pre><code>array[0] + array[1] = 5 -&gt; counter++\narray[0] + array[2] = 6 -&gt; counter++\narray[0] + array[3] = 7 -&gt; counter++\narray[1] + array[2] = 7 -&gt; counter++\narray[1] + array[3] = 8 -&gt; greater than r, no counter increment\n</code></pre>\n<p>I tried the below approach and it works fine but its time complexity is O(n^2):</p>\n<pre><code> public static int sumPairs(int[] array,int l, int r)\n    {\n        int counter=0;\n        for(int i=0;i&lt;array.length;i++)\n        {\n            for(int j=i+1;j&lt;array.length;j++)\n            {\n                int sum = array[i]+array[j];\n                \n                if(sum&lt;=r &amp;&amp; sum&gt;=l)\n                {\n                    counter++;\n                }\n            }\n        }\n        \n        return counter;\n    }\n</code></pre>\n<p>Can someone help me to find a way to optimize the above code to become <code>O(n)</code> time complexity?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":20974517,"reputation":57,"user_id":15410874,"display_name":"Karol Wolny"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664646398,"creation_date":1664646398,"answer_id":73920521,"question_id":73920390,"body_markdown":"    @OneToMany\r\n    @JoinColumn(name=&quot;room_id&quot;)\r\n    private List&lt;Rooms&gt; rooms =  new ArrayList&lt;&gt;();\r\nAdd here referenced column name, now spring dont know what is id in rooms class","title":"Java Spring one-to-many many-to-one","body":"<pre><code>@OneToMany\n@JoinColumn(name=&quot;room_id&quot;)\nprivate List&lt;Rooms&gt; rooms =  new ArrayList&lt;&gt;();\n</code></pre>\n<p>Add here referenced column name, now spring dont know what is id in rooms class</p>\n"},{"tags":[],"owner":{"account_id":26552141,"reputation":61,"user_id":20181285,"display_name":"Sk Nur Hasan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665228263,"creation_date":1665228220,"answer_id":73996586,"question_id":73920390,"body_markdown":"try this:\r\n\r\n    @OneToMany(mappedBy = &quot;product&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;Rooms&gt; rooms =  new ArrayList&lt;&gt;();\r\n\r\n\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    private Product product;","title":"Java Spring one-to-many many-to-one","body":"<p>try this:</p>\n<pre><code>@OneToMany(mappedBy = &quot;product&quot;, cascade = CascadeType.ALL)\nprivate List&lt;Rooms&gt; rooms =  new ArrayList&lt;&gt;();\n\n\n\n@ManyToOne(fetch = FetchType.LAZY)\nprivate Product product;\n</code></pre>\n"}],"owner":{"account_id":13745207,"reputation":39,"user_id":9919120,"display_name":"G&#246;khan Şahiner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665228263,"creation_date":1664645258,"question_id":73920390,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VeVIg.jpg\r\n\r\n\r\nIn my spring project, I want to connect the entities named room and product to each other. &lt;br&gt;\r\nFirst i will add a hotel then i will add the rooms of the hotels&lt;br&gt;\r\nA hotel will have more than one room and a room will have a hotel &lt;br&gt;\r\nI connected using ManyToOne and OneToMany, but the room array is empty when listing.&lt;br&gt;\r\nI want list rooms in product. How should I write a code\r\n\r\nLike This\r\n\r\n    {\r\n      &quot;status&quot;: true,\r\n      &quot;result&quot;: [\r\n        {\r\n          &quot;pid&quot;: 28,\r\n          &quot;otel_name&quot;: &quot;Hi Otel&quot;,\r\n          &quot;rooms&quot;: [],\r\n          &quot;description&quot;: &quot;hi otel&quot;,\r\n          &quot;location&quot;: {\r\n            &quot;lid&quot;: 11,\r\n            &quot;city&quot;: &quot;Antalya&quot;,\r\n            &quot;district&quot;: &quot;Kaş&quot;\r\n          },\r\n          &quot;taxonomies&quot;: [\r\n            {\r\n              &quot;tax_id&quot;: 25,\r\n              &quot;name&quot;: &quot;Disco&quot;,\r\n              &quot;description&quot;: &quot;Disco&quot;,\r\n              &quot;product&quot;: null\r\n            },\r\n            {\r\n              &quot;tax_id&quot;: 26,\r\n              &quot;name&quot;: &quot;Suitable for family&quot;,\r\n              &quot;description&quot;: &quot;suitable for family&quot;,\r\n              &quot;product&quot;: null\r\n            }\r\n          ],\r\n          &quot;star_ratings&quot;: 5\r\n        }\r\n      ]\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nProduct.java\r\n\r\n  \r\n\r\n     @Entity\r\n    @Data\r\n    public class Product {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Integer pid;\r\n    \r\n        @NotBlank(message = &quot;Otel name can not be blank&quot;)\r\n        @Length(message = &quot;Otel name must contain min 2 max 50&quot;, min = 2, max=50)\r\n        private String otel_name;\r\n    \r\n    \r\n        @OneToMany\r\n        @JoinColumn(name=&quot;room_id&quot;)\r\n        private List&lt;Rooms&gt; rooms =  new ArrayList&lt;&gt;();\r\n    \r\n        @NotBlank(message = &quot;Description name can not be blank&quot;)\r\n        @Length(message = &quot;Description must contain min 2 max&quot;, min = 2)\r\n        private String description;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name=&quot;lId&quot;,referencedColumnName = &quot;lid&quot;)\r\n        private Location location;\r\n    \r\n    \r\n    \r\n        @OneToMany(cascade ={CascadeType.MERGE})\r\n        @JoinTable(name=&quot;products_taxonomy&quot;,joinColumns = @JoinColumn(name=&quot;p_id&quot; ),\r\n                inverseJoinColumns = @JoinColumn( name = &quot;t_id&quot;, referencedColumnName = &quot;tax_id&quot;)\r\n        )\r\n        private List&lt;Taxonomy&gt; taxonomies;\r\n    \r\n    \r\n        @PositiveOrZero(message = &quot;Star ratings must be between 0 5&quot;)\r\n        @NotNull(message = &quot;Star ratings must be between 0 5&quot;)\r\n        @Max(value = 5, message = &quot;Star ratings must be between 0 5&quot;)\r\n        private Integer star_ratings;\r\n    \r\n    }\r\n\r\n\r\n\r\nRooms.java\r\n\r\n        @Entity\r\n    @Data\r\n    public class Rooms {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Integer room_id;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name=&quot;p_id&quot;,referencedColumnName = &quot;pid&quot;)\r\n        private Product product;\r\n    \r\n        @NotBlank(message = &quot;Name can not be blank&quot;)\r\n        @Length(message = &quot;Name must contain min 2 max  20 character.&quot;, min = 2, max = 20)\r\n        private String name;\r\n    \r\n        @NotBlank(message = &quot;Description can not be blank&quot;)\r\n        @Length(message = &quot;Description must contain min 2 max  255 character.&quot;, min = 2, max = 255)\r\n        private String description;\r\n    \r\n    \r\n        @PositiveOrZero(message = &quot;Star ratings must be positive&quot;)\r\n        @NotNull(message = &quot;Bed not null&quot;)\r\n        private Integer bed;\r\n    \r\n        @PositiveOrZero(message = &quot;Price must be positive&quot;)\r\n        @NotNull(message = &quot;price not null&quot;)\r\n        private Integer price;\r\n    \r\n        @PositiveOrZero(message = &quot;Price must be positive&quot;)\r\n        @NotNull(message = &quot;price not null&quot;)\r\n        private Integer quantity;\r\n    \r\n    }\r\n\r\n","title":"Java Spring one-to-many many-to-one","body":"<p><a href=\"https://i.stack.imgur.com/VeVIg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VeVIg.jpg\" alt=\"enter image description here\" /></a></p>\n<p>In my spring project, I want to connect the entities named room and product to each other. <br>\nFirst i will add a hotel then i will add the rooms of the hotels<br>\nA hotel will have more than one room and a room will have a hotel <br>\nI connected using ManyToOne and OneToMany, but the room array is empty when listing.<br>\nI want list rooms in product. How should I write a code</p>\n<p>Like This</p>\n<pre><code>{\n  &quot;status&quot;: true,\n  &quot;result&quot;: [\n    {\n      &quot;pid&quot;: 28,\n      &quot;otel_name&quot;: &quot;Hi Otel&quot;,\n      &quot;rooms&quot;: [],\n      &quot;description&quot;: &quot;hi otel&quot;,\n      &quot;location&quot;: {\n        &quot;lid&quot;: 11,\n        &quot;city&quot;: &quot;Antalya&quot;,\n        &quot;district&quot;: &quot;Kaş&quot;\n      },\n      &quot;taxonomies&quot;: [\n        {\n          &quot;tax_id&quot;: 25,\n          &quot;name&quot;: &quot;Disco&quot;,\n          &quot;description&quot;: &quot;Disco&quot;,\n          &quot;product&quot;: null\n        },\n        {\n          &quot;tax_id&quot;: 26,\n          &quot;name&quot;: &quot;Suitable for family&quot;,\n          &quot;description&quot;: &quot;suitable for family&quot;,\n          &quot;product&quot;: null\n        }\n      ],\n      &quot;star_ratings&quot;: 5\n    }\n  ]\n}\n</code></pre>\n<p>Product.java</p>\n<pre><code> @Entity\n@Data\npublic class Product {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer pid;\n\n    @NotBlank(message = &quot;Otel name can not be blank&quot;)\n    @Length(message = &quot;Otel name must contain min 2 max 50&quot;, min = 2, max=50)\n    private String otel_name;\n\n\n    @OneToMany\n    @JoinColumn(name=&quot;room_id&quot;)\n    private List&lt;Rooms&gt; rooms =  new ArrayList&lt;&gt;();\n\n    @NotBlank(message = &quot;Description name can not be blank&quot;)\n    @Length(message = &quot;Description must contain min 2 max&quot;, min = 2)\n    private String description;\n\n    @ManyToOne\n    @JoinColumn(name=&quot;lId&quot;,referencedColumnName = &quot;lid&quot;)\n    private Location location;\n\n\n\n    @OneToMany(cascade ={CascadeType.MERGE})\n    @JoinTable(name=&quot;products_taxonomy&quot;,joinColumns = @JoinColumn(name=&quot;p_id&quot; ),\n            inverseJoinColumns = @JoinColumn( name = &quot;t_id&quot;, referencedColumnName = &quot;tax_id&quot;)\n    )\n    private List&lt;Taxonomy&gt; taxonomies;\n\n\n    @PositiveOrZero(message = &quot;Star ratings must be between 0 5&quot;)\n    @NotNull(message = &quot;Star ratings must be between 0 5&quot;)\n    @Max(value = 5, message = &quot;Star ratings must be between 0 5&quot;)\n    private Integer star_ratings;\n\n}\n</code></pre>\n<p>Rooms.java</p>\n<pre><code>    @Entity\n@Data\npublic class Rooms {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer room_id;\n\n    @ManyToOne\n    @JoinColumn(name=&quot;p_id&quot;,referencedColumnName = &quot;pid&quot;)\n    private Product product;\n\n    @NotBlank(message = &quot;Name can not be blank&quot;)\n    @Length(message = &quot;Name must contain min 2 max  20 character.&quot;, min = 2, max = 20)\n    private String name;\n\n    @NotBlank(message = &quot;Description can not be blank&quot;)\n    @Length(message = &quot;Description must contain min 2 max  255 character.&quot;, min = 2, max = 255)\n    private String description;\n\n\n    @PositiveOrZero(message = &quot;Star ratings must be positive&quot;)\n    @NotNull(message = &quot;Bed not null&quot;)\n    private Integer bed;\n\n    @PositiveOrZero(message = &quot;Price must be positive&quot;)\n    @NotNull(message = &quot;price not null&quot;)\n    private Integer price;\n\n    @PositiveOrZero(message = &quot;Price must be positive&quot;)\n    @NotNull(message = &quot;price not null&quot;)\n    private Integer quantity;\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","scheduler"],"answers":[{"tags":[],"owner":{"account_id":26562582,"reputation":71,"user_id":20190174,"display_name":"Sumit Dhyani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665227605,"creation_date":1665227605,"answer_id":73996517,"question_id":73996379,"body_markdown":"\r\nHibernate has an interceptor mecanism that allows you to get notified, at specific times, when database events occurs.\r\n\r\nSuch events are creation/deletion/flush of the session. As you get access to the objects being subject to the given event, you have a mean to fire a process when a given object of a given class (which you can easily map to a table in your schema) is modified.\r\n\r\nThe javadoc can be found here :\r\n https://docs.jboss.org/hibernate/orm/4.0/manual/en-US/html/events.html\r\n\r\nYou can use the interceptor mecanism along with Java&#39;s **ScheduledExecutorService** to schedule a task when hibernate intercepts the save operation. You can create your business logic under that interceptor.","title":"how to run scheduler just after inserting data into database in spring boot?","body":"<p>Hibernate has an interceptor mecanism that allows you to get notified, at specific times, when database events occurs.</p>\n<p>Such events are creation/deletion/flush of the session. As you get access to the objects being subject to the given event, you have a mean to fire a process when a given object of a given class (which you can easily map to a table in your schema) is modified.</p>\n<p>The javadoc can be found here :\n<a href=\"https://docs.jboss.org/hibernate/orm/4.0/manual/en-US/html/events.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/4.0/manual/en-US/html/events.html</a></p>\n<p>You can use the interceptor mecanism along with Java's <strong>ScheduledExecutorService</strong> to schedule a task when hibernate intercepts the save operation. You can create your business logic under that interceptor.</p>\n"},{"tags":[],"owner":{"account_id":26552100,"reputation":470,"user_id":20181249,"display_name":"Sandeep Kumar Nat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665228029,"creation_date":1665228029,"answer_id":73996564,"question_id":73996379,"body_markdown":"Scheduling is not enabled by default. Before adding any scheduled jobs we need to enable scheduling explicitly by adding the @enableScheduling annotation.\r\n\r\nNow with the help of the ScheduledTaskRegistrar#addTriggerTask method, we can add a Runnable task and a Trigger implementation to recalculate the next execution time after the end of each execution.\r\n```@Configuration\r\n@EnableScheduling\r\npublic class DynamicSchedulingConfig implements SchedulingConfigurer {\r\n\r\n    @Autowired\r\n    private TickService tickService;\r\n\r\n    @Bean\r\n    public Executor taskExecutor() {\r\n        return Executors.newSingleThreadScheduledExecutor();\r\n    }\r\n\r\n    @Override\r\n    public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\r\n        taskRegistrar.setScheduler(taskExecutor());\r\n        taskRegistrar.addTriggerTask(\r\n          new Runnable() {\r\n              @Override\r\n              public void run() {\r\n                  tickService.tick();\r\n              }\r\n          },\r\n          new Trigger() {\r\n              @Override\r\n              public Date nextExecutionTime(TriggerContext context) {\r\n                  Optional&lt;Date&gt; lastCompletionTime =\r\n                    Optional.ofNullable(context.lastCompletionTime());\r\n                  Instant nextExecutionTime =\r\n                    lastCompletionTime.orElseGet(Date::new).toInstant()\r\n                      .plusMillis(tickService.getDelay());\r\n                  return Date.from(nextExecutionTime);\r\n              }\r\n          }\r\n        )\r\n    }\r\n\r\n}\r\n```\r\n","title":"how to run scheduler just after inserting data into database in spring boot?","body":"<p>Scheduling is not enabled by default. Before adding any scheduled jobs we need to enable scheduling explicitly by adding the @enableScheduling annotation.</p>\n<p>Now with the help of the ScheduledTaskRegistrar#addTriggerTask method, we can add a Runnable task and a Trigger implementation to recalculate the next execution time after the end of each execution.</p>\n<pre><code>@EnableScheduling\npublic class DynamicSchedulingConfig implements SchedulingConfigurer {\n\n    @Autowired\n    private TickService tickService;\n\n    @Bean\n    public Executor taskExecutor() {\n        return Executors.newSingleThreadScheduledExecutor();\n    }\n\n    @Override\n    public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\n        taskRegistrar.setScheduler(taskExecutor());\n        taskRegistrar.addTriggerTask(\n          new Runnable() {\n              @Override\n              public void run() {\n                  tickService.tick();\n              }\n          },\n          new Trigger() {\n              @Override\n              public Date nextExecutionTime(TriggerContext context) {\n                  Optional&lt;Date&gt; lastCompletionTime =\n                    Optional.ofNullable(context.lastCompletionTime());\n                  Instant nextExecutionTime =\n                    lastCompletionTime.orElseGet(Date::new).toInstant()\n                      .plusMillis(tickService.getDelay());\n                  return Date.from(nextExecutionTime);\n              }\n          }\n        )\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":11521080,"reputation":39,"user_id":8442830,"display_name":"Deep Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":649,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665228029,"creation_date":1665226148,"question_id":73996379,"body_markdown":"I am new to spring boot and I have a requirement in which I have to run scheduler only if new data is inserted into table. Thanks for any help","title":"how to run scheduler just after inserting data into database in spring boot?","body":"<p>I am new to spring boot and I have a requirement in which I have to run scheduler only if new data is inserted into table. Thanks for any help</p>\n"},{"tags":["java","dll","g++","native"],"comments":[{"owner":{"account_id":26112234,"reputation":1,"user_id":19805959,"display_name":"59273661 186"},"score":0,"creation_date":1664688612,"post_id":73923282,"comment_id":130526770,"body_markdown":"path is wrong now update:g++ -shared -o d:\\MinGW\\bin\\native.dll com_baeldung_jni_HelloWorldJNI.o com_baeldung_jni_ExampleParametersJNI.o com_baeldung_jni_ExampleObjectsJNI.o -Wl,--add-stdcall-alias","body":"path is wrong now update:g++ -shared -o d:\\MinGW\\bin\\native.dll com_baeldung_jni_HelloWorldJNI.o com_baeldung_jni_ExampleParametersJNI.o com_baeldung_jni_ExampleObjectsJNI.o -Wl,--add-stdcall-alias"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664691907,"post_id":73923282,"comment_id":130527135,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":6141164,"reputation":38981,"user_id":4788546,"display_name":"CristiFati"},"score":0,"creation_date":1664732226,"post_id":73923282,"comment_id":130534274,"body_markdown":"Make sure to create the folder ***..\\..\\..\\native\\win32*** prior that command.","body":"Make sure to create the folder <b><i>..\\..\\..\\native\\win32</i></b> prior that command."},{"owner":{"account_id":26112234,"reputation":1,"user_id":19805959,"display_name":"59273661 186"},"score":0,"creation_date":1665219981,"post_id":73923282,"comment_id":130652192,"body_markdown":"@CristiFati Thank you, now is ok. g++ -shared -o &quot;D:\\Program Files\\mingw64\\bin\\native.dll&quot;","body":"@CristiFati Thank you, now is ok. g++ -shared -o &quot;D:\\Program Files\\mingw64\\bin\\native.dll&quot;"}],"answers":[{"tags":[],"owner":{"account_id":6141164,"reputation":38981,"user_id":4788546,"display_name":"CristiFati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665227040,"creation_date":1665226628,"answer_id":73996421,"question_id":73923282,"body_markdown":"Apparently, *GCC* (or *G++*) needs the output (might also apply to others: dump, auxiliary, ...) directory to exist&lt;sup&gt;***\\****&lt;/sup&gt;.&lt;br&gt;\r\nBy default, the output directory is *CWD* (***.***), which exists (in most cases).\r\n\r\nHere&#39;s a dummy examle.\r\n\r\n*sample.c*:\r\n\r\n```c\r\n#include &lt;stdio.h&gt;\r\n\r\n\r\nint main()\r\n{\r\n    printf(&quot;Dummy text\\n&quot;);\r\n    return 0;\r\n}\r\n```\r\n\r\n&gt;    ```lang-bash\r\n&gt;    (qaic-env) [cfati@cfati-5510-0:/mnt/e/Work/Dev/StackOverflow/q073923282]&gt; ~/sopr.sh\r\n&gt;    ### Set shorter prompt to better fit when pasted in StackOverflow (or other) pages ###\r\n&gt;\r\n&gt;    [064bit prompt]&gt; ls\r\n&gt;    sample.c\r\n&gt;    [064bit prompt]&gt;\r\n&gt;    [064bit prompt]&gt; OUT_DIR=.\r\n&gt;    [064bit prompt]&gt; gcc -o ${OUT_DIR}/sample.out sample.c\r\n&gt;    [064bit prompt]&gt; ./sample.out\r\n&gt;    Dummy text\r\n&gt;    [064bit prompt]&gt;\r\n&gt;    [064bit prompt]&gt; OUT_DIR=inner0\r\n&gt;    [064bit prompt]&gt; gcc -o ${OUT_DIR}/sample.out sample.c\r\n&gt;    /usr/bin/ld: cannot open output file inner0/sample.out: No such file or directory\r\n&gt;    collect2: error: ld returned 1 exit status\r\n&gt;    [064bit prompt]&gt; mkdir -p ${OUT_DIR}\r\n&gt;    [064bit prompt]&gt; gcc -o ${OUT_DIR}/sample.out sample.c\r\n&gt;    [064bit prompt]&gt; ./inner0/sample.out\r\n&gt;    Dummy text\r\n&gt;    [064bit prompt]&gt;\r\n&gt;    [064bit prompt]&gt; OUT_DIR=inner1/inner11\r\n&gt;    [064bit prompt]&gt; gcc -o ${OUT_DIR}/sample.out sample.c\r\n&gt;    /usr/bin/ld: cannot open output file inner1/inner11/sample.out: No such file or directory\r\n&gt;    collect2: error: ld returned 1 exit status\r\n&gt;    [064bit prompt]&gt; mkdir inner1\r\n&gt;    [064bit prompt]&gt; gcc -o ${OUT_DIR}/sample.out sample.c\r\n&gt;    /usr/bin/ld: cannot open output file inner1/inner11/sample.out: No such file or directory\r\n&gt;    collect2: error: ld returned 1 exit status\r\n&gt;    [064bit prompt]&gt; mkdir -p ${OUT_DIR}\r\n&gt;    [064bit prompt]&gt; gcc -o ${OUT_DIR}/sample.out sample.c\r\n&gt;    [064bit prompt]&gt; ./inner1/inner11/sample.out\r\n&gt;    Dummy text\r\n&gt;    ```\r\n\r\n[\\[GNU.GCC\\]: Options Controlling the Kind of Output](https://gcc.gnu.org/onlinedocs/gcc/Overall-Options.html#Overall-Options) (*-o file* section) doesn&#39;t mention anything about this (which makes it strange, as *GCC* is well documented).&lt;br&gt;\r\nAlso, the error message suggest otherwise:\r\n&gt;    ```\r\n&gt;    /usr/bin/ld: cannot open output file inner0/sample.out: No such file or directory\r\n&gt;    collect2: error: ld returned 1 exit status\r\n&gt;    ```\r\n\r\nGoing further (passing ***-v*** (verbose) option to *GCC*):\r\n\r\n&gt;    ```\r\n&gt;    [064bit prompt]&gt; gcc -v -o inexistent/sample.out sample.c\r\n&gt;    Using built-in specs.\r\n&gt;    COLLECT_GCC=gcc\r\n&gt;    COLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-linux-gnu/9/lto-wrapper\r\n&gt;    OFFLOAD_TARGET_NAMES=nvptx-none:hsa\r\n&gt;    OFFLOAD_TARGET_DEFAULT=1\r\n&gt;    Target: x86_64-linux-gnu\r\n&gt;    Configured with: ../src/configure -v --with-pkgversion=&#39;Ubuntu 9.4.0-1ubuntu1~20.04.1&#39; --with-bugurl=file:///usr/share/doc/gcc-9/README.Bugs --enable-languages=c,ada,c++,go,brig,d,fortran,objc,obj-c++,gm2 --prefix=/usr --with-gcc-major-version-only --program-suffix=-9 --program-prefix=x86_64-linux-gnu- --enable-shared --enable-linker-build-id --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --libdir=/usr/lib --enable-nls --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --with-default-libstdcxx-abi=new --enable-gnu-unique-object --disable-vtable-verify --enable-plugin --enable-default-pie --with-system-zlib --with-target-system-zlib=auto --enable-objc-gc=auto --enable-multiarch --disable-werror --with-arch-32=i686 --with-abi=m64 --with-multilib-list=m32,m64,mx32 --enable-multilib --with-tune=generic --enable-offload-targets=nvptx-none=/build/gcc-9-Av3uEd/gcc-9-9.4.0/debian/tmp-nvptx/usr,hsa --without-cuda-driver --enable-checking=release --build=x86_64-linux-gnu \r\n&gt;    --host=x86_64-linux-gnu --target=x86_64-linux-gnu\r\n&gt;    Thread model: posix\r\n&gt;    gcc version 9.4.0 (Ubuntu 9.4.0-1ubuntu1~20.04.1)\r\n&gt;    COLLECT_GCC_OPTIONS=&#39;-v&#39; &#39;-o&#39; &#39;inexistent/sample.out&#39; &#39;-mtune=generic&#39; &#39;-march=x86-64&#39;\r\n&gt;     /usr/lib/gcc/x86_64-linux-gnu/9/cc1 -quiet -v -imultiarch x86_64-linux-gnu sample.c -quiet -dumpbase sample.c -mtune=generic -march=x86-64 -auxbase sample -version -fasynchronous-unwind-tables -fstack-protector-strong -Wformat -Wformat-security -fstack-clash-protection -fcf-protection -o /tmp/ccjdCTrC.s\r\n&gt;    GNU C17 (Ubuntu 9.4.0-1ubuntu1~20.04.1) version 9.4.0 (x86_64-linux-gnu)\r\n&gt;            compiled by GNU C version 9.4.0, GMP version 6.2.0, MPFR version 4.0.2, MPC version 1.1.0, isl version isl-0.22.1-GMP\r\n&gt;\r\n&gt;    GGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072\r\n&gt;    ignoring nonexistent directory &quot;/usr/local/include/x86_64-linux-gnu&quot;\r\n&gt;    ignoring nonexistent directory &quot;/usr/lib/gcc/x86_64-linux-gnu/9/include-fixed&quot;\r\n&gt;    ignoring nonexistent directory &quot;/usr/lib/gcc/x86_64-linux-gnu/9/../../../../x86_64-linux-gnu/include&quot;\r\n&gt;    #include &quot;...&quot; search starts here:\r\n&gt;    #include &lt;...&gt; search starts here:\r\n&gt;     /usr/lib/gcc/x86_64-linux-gnu/9/include\r\n&gt;     /usr/local/include\r\n&gt;     /usr/include/x86_64-linux-gnu\r\n&gt;     /usr/include\r\n&gt;    End of search list.\r\n&gt;    GNU C17 (Ubuntu 9.4.0-1ubuntu1~20.04.1) version 9.4.0 (x86_64-linux-gnu)\r\n&gt;            compiled by GNU C version 9.4.0, GMP version 6.2.0, MPFR version 4.0.2, MPC version 1.1.0, isl version isl-0.22.1-GMP\r\n&gt;\r\n&gt;    GGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072\r\n&gt;    Compiler executable checksum: c0c95c0b4209efec1c1892d5ff24030b\r\n&gt;    COLLECT_GCC_OPTIONS=&#39;-v&#39; &#39;-o&#39; &#39;inexistent/sample.out&#39; &#39;-mtune=generic&#39; &#39;-march=x86-64&#39;\r\n&gt;     as -v --64 -o /tmp/ccP79PwB.o /tmp/ccjdCTrC.s\r\n&gt;    GNU assembler version 2.34 (x86_64-linux-gnu) using BFD version (GNU Binutils for Ubuntu) 2.34\r\n&gt;    COMPILER_PATH=/usr/lib/gcc/x86_64-linux-gnu/9/:/usr/lib/gcc/x86_64-linux-gnu/9/:/usr/lib/gcc/x86_64-linux-gnu/:/usr/lib/gcc/x86_64-linux-gnu/9/:/usr/lib/gcc/x86_64-linux-gnu/\r\n&gt;    LIBRARY_PATH=/usr/lib/gcc/x86_64-linux-gnu/9/:/usr/lib/gcc/x86_64-linux-gnu/9/../../../x86_64-linux-gnu/:/usr/lib/gcc/x86_64-linux-gnu/9/../../../../lib/:/lib/x86_64-linux-gnu/:/lib/../lib/:/usr/lib/x86_64-linux-gnu/:/usr/lib/../lib/:/usr/lib/gcc/x86_64-linux-gnu/9/../../../:/lib/:/usr/lib/\r\n&gt;    COLLECT_GCC_OPTIONS=&#39;-v&#39; &#39;-o&#39; &#39;inexistent/sample.out&#39; &#39;-mtune=generic&#39; &#39;-march=x86-64&#39;\r\n&gt;     /usr/lib/gcc/x86_64-linux-gnu/9/collect2 -plugin /usr/lib/gcc/x86_64-linux-gnu/9/liblto_plugin.so -plugin-opt=/usr/lib/gcc/x86_64-linux-gnu/9/lto-wrapper -plugin-opt=-fresolution=/tmp/cc3Q3S6A.res -plugin-opt=-pass-through=-lgcc -plugin-opt=-pass-through=-lgcc_s -plugin-opt=-pass-through=-lc -plugin-opt=-pass-through=-lgcc -plugin-opt=-pass-through=-lgcc_s --build-id --eh-frame-hdr -m elf_x86_64 --hash-style=gnu --as-needed -dynamic-linker /lib64/ld-linux-x86-64.so.2 -pie -z now -z relro -o inexistent/sample.out /usr/lib/gcc/x86_64-linux-gnu/9/../../../x86_64-linux-gnu/Scrt1.o /usr/lib/gcc/x86_64-linux-gnu/9/../../../x86_64-linux-gnu/crti.o /usr/lib/gcc/x86_64-linux-gnu/9/crtbeginS.o -L/usr/lib/gcc/x86_64-linux-gnu/9 -L/usr/lib/gcc/x86_64-linux-gnu/9/../../../x86_64-linux-gnu -L/usr/lib/gcc/x86_64-linux-gnu/9/../../../../lib -L/lib/x86_64-linux-gnu -L/lib/../lib -L/usr/lib/x86_64-linux-gnu -L/usr/lib/../lib -L/usr/lib/gcc/x86_64-linux-gnu/9/../../.. /tmp/ccP79PwB.o -lgcc --push-state --as-needed -lgcc_s --po\r\n&gt;    p-state -lc -lgcc --push-state --as-needed -lgcc_s --pop-state /usr/lib/gcc/x86_64-linux-gnu/9/crtendS.o /usr/lib/gcc/x86_64-linux-gnu/9/../../../x86_64-linux-gnu/crtn.o\r\n&gt;    /usr/bin/ld: cannot open output file inexistent/sample.out: No such file or directory\r\n&gt;    collect2: error: ld returned 1 exit status\r\n&gt;    ```\r\n\r\n\r\nIt becomes obvious that **not *GCC* is having trouble creating the output directory, but the *GNU Linker*** ([\\[Man7\\]: LD(1)](https://man7.org/linux/man-pages/man1/ld.1.html)) which *GCC* invokes under the hood (other linkers might behave differently).\r\n\r\nAs a side note, not only the linker is experiencing this issue, but also the preprocessor, compiler, assembler - which is visible by passing to *GCC* **one of** ***-E***, ***-S***, ***-c*** flags.\r\n\r\nI&#39;ve browsed a bit *LD*&#39;s documentation, but I couldn&#39;t find a way to make it create the intermediary directories.\r\n\r\n**The fix** (workaround) **is simple: create the directory** (`mkdir -p`) **before invoking *GCC* (G++)**.&lt;br&gt;\r\nIt&#39;s a common practice (which is most visible inside *Makefile*s).\r\n","title":"g++ cannot open output file ..\\..\\..\\native\\win32\\native.dll: No such file or directory","body":"<p>Apparently, <em>GCC</em> (or <em>G++</em>) needs the output (might also apply to others: dump, auxiliary, ...) directory to exist<sup><em><strong>*</strong></em></sup>.<br>\nBy default, the output directory is <em>CWD</em> (<em><strong>.</strong></em>), which exists (in most cases).</p>\n<p>Here's a dummy examle.</p>\n<p><em>sample.c</em>:</p>\n<pre class=\"lang-c prettyprint-override\"><code>#include &lt;stdio.h&gt;\n\n\nint main()\n{\n    printf(&quot;Dummy text\\n&quot;);\n    return 0;\n}\n</code></pre>\n<blockquote>\n<pre class=\"lang-bash prettyprint-override\"><code>(qaic-env) [cfati@cfati-5510-0:/mnt/e/Work/Dev/StackOverflow/q073923282]&gt; ~/sopr.sh\n### Set shorter prompt to better fit when pasted in StackOverflow (or other) pages ###\n\n[064bit prompt]&gt; ls\nsample.c\n[064bit prompt]&gt;\n[064bit prompt]&gt; OUT_DIR=.\n[064bit prompt]&gt; gcc -o ${OUT_DIR}/sample.out sample.c\n[064bit prompt]&gt; ./sample.out\nDummy text\n[064bit prompt]&gt;\n[064bit prompt]&gt; OUT_DIR=inner0\n[064bit prompt]&gt; gcc -o ${OUT_DIR}/sample.out sample.c\n/usr/bin/ld: cannot open output file inner0/sample.out: No such file or directory\ncollect2: error: ld returned 1 exit status\n[064bit prompt]&gt; mkdir -p ${OUT_DIR}\n[064bit prompt]&gt; gcc -o ${OUT_DIR}/sample.out sample.c\n[064bit prompt]&gt; ./inner0/sample.out\nDummy text\n[064bit prompt]&gt;\n[064bit prompt]&gt; OUT_DIR=inner1/inner11\n[064bit prompt]&gt; gcc -o ${OUT_DIR}/sample.out sample.c\n/usr/bin/ld: cannot open output file inner1/inner11/sample.out: No such file or directory\ncollect2: error: ld returned 1 exit status\n[064bit prompt]&gt; mkdir inner1\n[064bit prompt]&gt; gcc -o ${OUT_DIR}/sample.out sample.c\n/usr/bin/ld: cannot open output file inner1/inner11/sample.out: No such file or directory\ncollect2: error: ld returned 1 exit status\n[064bit prompt]&gt; mkdir -p ${OUT_DIR}\n[064bit prompt]&gt; gcc -o ${OUT_DIR}/sample.out sample.c\n[064bit prompt]&gt; ./inner1/inner11/sample.out\nDummy text\n</code></pre>\n</blockquote>\n<p><a href=\"https://gcc.gnu.org/onlinedocs/gcc/Overall-Options.html#Overall-Options\" rel=\"nofollow noreferrer\">[GNU.GCC]: Options Controlling the Kind of Output</a> (<em>-o file</em> section) doesn't mention anything about this (which makes it strange, as <em>GCC</em> is well documented).<br>\nAlso, the error message suggest otherwise:</p>\n<blockquote>\n<pre><code>/usr/bin/ld: cannot open output file inner0/sample.out: No such file or directory\ncollect2: error: ld returned 1 exit status\n</code></pre>\n</blockquote>\n<p>Going further (passing <em><strong>-v</strong></em> (verbose) option to <em>GCC</em>):</p>\n<blockquote>\n<pre><code>[064bit prompt]&gt; gcc -v -o inexistent/sample.out sample.c\nUsing built-in specs.\nCOLLECT_GCC=gcc\nCOLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-linux-gnu/9/lto-wrapper\nOFFLOAD_TARGET_NAMES=nvptx-none:hsa\nOFFLOAD_TARGET_DEFAULT=1\nTarget: x86_64-linux-gnu\nConfigured with: ../src/configure -v --with-pkgversion='Ubuntu 9.4.0-1ubuntu1~20.04.1' --with-bugurl=file:///usr/share/doc/gcc-9/README.Bugs --enable-languages=c,ada,c++,go,brig,d,fortran,objc,obj-c++,gm2 --prefix=/usr --with-gcc-major-version-only --program-suffix=-9 --program-prefix=x86_64-linux-gnu- --enable-shared --enable-linker-build-id --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --libdir=/usr/lib --enable-nls --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --with-default-libstdcxx-abi=new --enable-gnu-unique-object --disable-vtable-verify --enable-plugin --enable-default-pie --with-system-zlib --with-target-system-zlib=auto --enable-objc-gc=auto --enable-multiarch --disable-werror --with-arch-32=i686 --with-abi=m64 --with-multilib-list=m32,m64,mx32 --enable-multilib --with-tune=generic --enable-offload-targets=nvptx-none=/build/gcc-9-Av3uEd/gcc-9-9.4.0/debian/tmp-nvptx/usr,hsa --without-cuda-driver --enable-checking=release --build=x86_64-linux-gnu \n--host=x86_64-linux-gnu --target=x86_64-linux-gnu\nThread model: posix\ngcc version 9.4.0 (Ubuntu 9.4.0-1ubuntu1~20.04.1)\nCOLLECT_GCC_OPTIONS='-v' '-o' 'inexistent/sample.out' '-mtune=generic' '-march=x86-64'\n /usr/lib/gcc/x86_64-linux-gnu/9/cc1 -quiet -v -imultiarch x86_64-linux-gnu sample.c -quiet -dumpbase sample.c -mtune=generic -march=x86-64 -auxbase sample -version -fasynchronous-unwind-tables -fstack-protector-strong -Wformat -Wformat-security -fstack-clash-protection -fcf-protection -o /tmp/ccjdCTrC.s\nGNU C17 (Ubuntu 9.4.0-1ubuntu1~20.04.1) version 9.4.0 (x86_64-linux-gnu)\n        compiled by GNU C version 9.4.0, GMP version 6.2.0, MPFR version 4.0.2, MPC version 1.1.0, isl version isl-0.22.1-GMP\n\nGGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072\nignoring nonexistent directory &quot;/usr/local/include/x86_64-linux-gnu&quot;\nignoring nonexistent directory &quot;/usr/lib/gcc/x86_64-linux-gnu/9/include-fixed&quot;\nignoring nonexistent directory &quot;/usr/lib/gcc/x86_64-linux-gnu/9/../../../../x86_64-linux-gnu/include&quot;\n#include &quot;...&quot; search starts here:\n#include &lt;...&gt; search starts here:\n /usr/lib/gcc/x86_64-linux-gnu/9/include\n /usr/local/include\n /usr/include/x86_64-linux-gnu\n /usr/include\nEnd of search list.\nGNU C17 (Ubuntu 9.4.0-1ubuntu1~20.04.1) version 9.4.0 (x86_64-linux-gnu)\n        compiled by GNU C version 9.4.0, GMP version 6.2.0, MPFR version 4.0.2, MPC version 1.1.0, isl version isl-0.22.1-GMP\n\nGGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072\nCompiler executable checksum: c0c95c0b4209efec1c1892d5ff24030b\nCOLLECT_GCC_OPTIONS='-v' '-o' 'inexistent/sample.out' '-mtune=generic' '-march=x86-64'\n as -v --64 -o /tmp/ccP79PwB.o /tmp/ccjdCTrC.s\nGNU assembler version 2.34 (x86_64-linux-gnu) using BFD version (GNU Binutils for Ubuntu) 2.34\nCOMPILER_PATH=/usr/lib/gcc/x86_64-linux-gnu/9/:/usr/lib/gcc/x86_64-linux-gnu/9/:/usr/lib/gcc/x86_64-linux-gnu/:/usr/lib/gcc/x86_64-linux-gnu/9/:/usr/lib/gcc/x86_64-linux-gnu/\nLIBRARY_PATH=/usr/lib/gcc/x86_64-linux-gnu/9/:/usr/lib/gcc/x86_64-linux-gnu/9/../../../x86_64-linux-gnu/:/usr/lib/gcc/x86_64-linux-gnu/9/../../../../lib/:/lib/x86_64-linux-gnu/:/lib/../lib/:/usr/lib/x86_64-linux-gnu/:/usr/lib/../lib/:/usr/lib/gcc/x86_64-linux-gnu/9/../../../:/lib/:/usr/lib/\nCOLLECT_GCC_OPTIONS='-v' '-o' 'inexistent/sample.out' '-mtune=generic' '-march=x86-64'\n /usr/lib/gcc/x86_64-linux-gnu/9/collect2 -plugin /usr/lib/gcc/x86_64-linux-gnu/9/liblto_plugin.so -plugin-opt=/usr/lib/gcc/x86_64-linux-gnu/9/lto-wrapper -plugin-opt=-fresolution=/tmp/cc3Q3S6A.res -plugin-opt=-pass-through=-lgcc -plugin-opt=-pass-through=-lgcc_s -plugin-opt=-pass-through=-lc -plugin-opt=-pass-through=-lgcc -plugin-opt=-pass-through=-lgcc_s --build-id --eh-frame-hdr -m elf_x86_64 --hash-style=gnu --as-needed -dynamic-linker /lib64/ld-linux-x86-64.so.2 -pie -z now -z relro -o inexistent/sample.out /usr/lib/gcc/x86_64-linux-gnu/9/../../../x86_64-linux-gnu/Scrt1.o /usr/lib/gcc/x86_64-linux-gnu/9/../../../x86_64-linux-gnu/crti.o /usr/lib/gcc/x86_64-linux-gnu/9/crtbeginS.o -L/usr/lib/gcc/x86_64-linux-gnu/9 -L/usr/lib/gcc/x86_64-linux-gnu/9/../../../x86_64-linux-gnu -L/usr/lib/gcc/x86_64-linux-gnu/9/../../../../lib -L/lib/x86_64-linux-gnu -L/lib/../lib -L/usr/lib/x86_64-linux-gnu -L/usr/lib/../lib -L/usr/lib/gcc/x86_64-linux-gnu/9/../../.. /tmp/ccP79PwB.o -lgcc --push-state --as-needed -lgcc_s --po\np-state -lc -lgcc --push-state --as-needed -lgcc_s --pop-state /usr/lib/gcc/x86_64-linux-gnu/9/crtendS.o /usr/lib/gcc/x86_64-linux-gnu/9/../../../x86_64-linux-gnu/crtn.o\n/usr/bin/ld: cannot open output file inexistent/sample.out: No such file or directory\ncollect2: error: ld returned 1 exit status\n</code></pre>\n</blockquote>\n<p>It becomes obvious that <strong>not <em>GCC</em> is having trouble creating the output directory, but the <em>GNU Linker</em></strong> (<a href=\"https://man7.org/linux/man-pages/man1/ld.1.html\" rel=\"nofollow noreferrer\">[Man7]: LD(1)</a>) which <em>GCC</em> invokes under the hood (other linkers might behave differently).</p>\n<p>As a side note, not only the linker is experiencing this issue, but also the preprocessor, compiler, assembler - which is visible by passing to <em>GCC</em> <strong>one of</strong> <em><strong>-E</strong></em>, <em><strong>-S</strong></em>, <em><strong>-c</strong></em> flags.</p>\n<p>I've browsed a bit <em>LD</em>'s documentation, but I couldn't find a way to make it create the intermediary directories.</p>\n<p><strong>The fix</strong> (workaround) <strong>is simple: create the directory</strong> (<code>mkdir -p</code>) <strong>before invoking <em>GCC</em> (G++)</strong>.<br>\nIt's a common practice (which is most visible inside <em>Makefile</em>s).</p>\n"}],"owner":{"account_id":26112234,"reputation":1,"user_id":19805959,"display_name":"59273661 186"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665227040,"creation_date":1664682866,"question_id":73923282,"body_markdown":"```\r\nREM Create the header with javac -h . ClassName.java\r\nREM Remember to set your JAVA_HOME env var\r\ng++ -c -I &quot;%JAVA_HOME%\\include&quot; -I &quot;%JAVA_HOME%\\include\\win32&quot; com_baeldung_jni_HelloWorldJNI.cpp -o com_baeldung_jni_HelloWorldJNI.o\r\ng++ -c -I &quot;%JAVA_HOME%\\include&quot; -I &quot;%JAVA_HOME%\\include\\win32&quot; com_baeldung_jni_ExampleParametersJNI.cpp -o com_baeldung_jni_ExampleParametersJNI.o\r\ng++ -c -I &quot;%JAVA_HOME%\\include&quot; -I &quot;%JAVA_HOME%\\include\\win32&quot; com_baeldung_jni_ExampleObjectsJNI.cpp -o com_baeldung_jni_ExampleObjectsJNI.o\r\ng++ -shared -o ..\\..\\..\\native\\win32\\native.dll com_baeldung_jni_HelloWorldJNI.o com_baeldung_jni_ExampleParametersJNI.o com_baeldung_jni_ExampleObjectsJNI.o -Wl,--add-stdcall-alias\r\n```\r\n\r\nOutput :\r\n\r\n```\r\nD:\\work\\git\\project\\tutorials-master\\java-native\\src\\main\\cpp&gt;REM Create the header with javac -h . ClassName.java \r\n\r\nD:\\work\\git\\project\\tutorials-master\\java-native\\src\\main\\cpp&gt;REM Remember to set your JAVA_HOME env var \r\n\r\nD:\\work\\git\\project\\tutorials-master\\java-native\\src\\main\\cpp&gt;g++ -c -I &quot;D:\\Program Files\\Java\\jdk1.8.0_101\\include&quot; -I &quot;D:\\Program Files\\Java\\jdk1.8.0_101\\include\\win32&quot; com_baeldung_jni_HelloWorldJNI.cpp -o com_baeldung_jni_HelloWorldJNI.o \r\n\r\nD:\\work\\git\\project\\tutorials-master\\java-native\\src\\main\\cpp&gt;g++ -c -I &quot;D:\\Program Files\\Java\\jdk1.8.0_101\\include&quot; -I &quot;D:\\Program Files\\Java\\jdk1.8.0_101\\include\\win32&quot; com_baeldung_jni_ExampleParametersJNI.cpp -o com_baeldung_jni_ExampleParametersJNI.o \r\n\r\nD:\\work\\git\\project\\tutorials-master\\java-native\\src\\main\\cpp&gt;g++ -c -I &quot;D:\\Program Files\\Java\\jdk1.8.0_101\\include&quot; -I &quot;D:\\Program Files\\Java\\jdk1.8.0_101\\include\\win32&quot; com_baeldung_jni_ExampleObjectsJNI.cpp -o com_baeldung_jni_ExampleObjectsJNI.o \r\n\r\nD:\\work\\git\\project\\tutorials-master\\java-native\\src\\main\\cpp&gt;g++ -shared -o ..\\..\\..\\native\\win32\\native.dll com_baeldung_jni_HelloWorldJNI.o com_baeldung_jni_ExampleParametersJNI.o com_baeldung_jni_ExampleObjectsJNI.o -Wl,--add-stdcall-alias \r\n**d:/mingw/bin/../lib/gcc/mingw32/6.3.0/../../../../mingw32/bin/ld.exe: cannot open output file ..\\..\\..\\native\\win32\\native.dll: No such file or directory**\r\ncollect2.exe: error: ld returned 1 exit status\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\n[enter image description here][1]\r\n\r\nWhat&#39;s wrong?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dmZik.png","title":"g++ cannot open output file ..\\..\\..\\native\\win32\\native.dll: No such file or directory","body":"<pre><code>REM Create the header with javac -h . ClassName.java\nREM Remember to set your JAVA_HOME env var\ng++ -c -I &quot;%JAVA_HOME%\\include&quot; -I &quot;%JAVA_HOME%\\include\\win32&quot; com_baeldung_jni_HelloWorldJNI.cpp -o com_baeldung_jni_HelloWorldJNI.o\ng++ -c -I &quot;%JAVA_HOME%\\include&quot; -I &quot;%JAVA_HOME%\\include\\win32&quot; com_baeldung_jni_ExampleParametersJNI.cpp -o com_baeldung_jni_ExampleParametersJNI.o\ng++ -c -I &quot;%JAVA_HOME%\\include&quot; -I &quot;%JAVA_HOME%\\include\\win32&quot; com_baeldung_jni_ExampleObjectsJNI.cpp -o com_baeldung_jni_ExampleObjectsJNI.o\ng++ -shared -o ..\\..\\..\\native\\win32\\native.dll com_baeldung_jni_HelloWorldJNI.o com_baeldung_jni_ExampleParametersJNI.o com_baeldung_jni_ExampleObjectsJNI.o -Wl,--add-stdcall-alias\n</code></pre>\n<p>Output :</p>\n<pre><code>D:\\work\\git\\project\\tutorials-master\\java-native\\src\\main\\cpp&gt;REM Create the header with javac -h . ClassName.java \n\nD:\\work\\git\\project\\tutorials-master\\java-native\\src\\main\\cpp&gt;REM Remember to set your JAVA_HOME env var \n\nD:\\work\\git\\project\\tutorials-master\\java-native\\src\\main\\cpp&gt;g++ -c -I &quot;D:\\Program Files\\Java\\jdk1.8.0_101\\include&quot; -I &quot;D:\\Program Files\\Java\\jdk1.8.0_101\\include\\win32&quot; com_baeldung_jni_HelloWorldJNI.cpp -o com_baeldung_jni_HelloWorldJNI.o \n\nD:\\work\\git\\project\\tutorials-master\\java-native\\src\\main\\cpp&gt;g++ -c -I &quot;D:\\Program Files\\Java\\jdk1.8.0_101\\include&quot; -I &quot;D:\\Program Files\\Java\\jdk1.8.0_101\\include\\win32&quot; com_baeldung_jni_ExampleParametersJNI.cpp -o com_baeldung_jni_ExampleParametersJNI.o \n\nD:\\work\\git\\project\\tutorials-master\\java-native\\src\\main\\cpp&gt;g++ -c -I &quot;D:\\Program Files\\Java\\jdk1.8.0_101\\include&quot; -I &quot;D:\\Program Files\\Java\\jdk1.8.0_101\\include\\win32&quot; com_baeldung_jni_ExampleObjectsJNI.cpp -o com_baeldung_jni_ExampleObjectsJNI.o \n\nD:\\work\\git\\project\\tutorials-master\\java-native\\src\\main\\cpp&gt;g++ -shared -o ..\\..\\..\\native\\win32\\native.dll com_baeldung_jni_HelloWorldJNI.o com_baeldung_jni_ExampleParametersJNI.o com_baeldung_jni_ExampleObjectsJNI.o -Wl,--add-stdcall-alias \n**d:/mingw/bin/../lib/gcc/mingw32/6.3.0/../../../../mingw32/bin/ld.exe: cannot open output file ..\\..\\..\\native\\win32\\native.dll: No such file or directory**\ncollect2.exe: error: ld returned 1 exit status\n\nProcess finished with exit code 1\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/dmZik.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>What's wrong?</p>\n"},{"tags":["java","java-stream","comparator","collectors","groupingby"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665226948,"creation_date":1665221133,"answer_id":73995830,"question_id":73995793,"body_markdown":"To sort each list of `StudentDTO` by `score` in descending order, you can use the following comparator:\r\n\r\n```\r\nComparator.comparingInt(StudentDTO::getScore).reversed()\r\n```\r\n\r\nAnd to apply sorting while collecting the result, you can use collector [`collectingAndThen()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#collectingAndThen(java.util.stream.Collector,java.util.function.Function)) as the downstream of `groupingBy()`\r\n\r\n```\r\nList&lt;Student&gt; students = List.of(student1, student2, student3);\r\n\r\nMap&lt;Integer, List&lt;StudentDTO&gt;&gt; map = students.stream()\r\n    .collect(Collectors.groupingBy(\r\n        Student::getAge,\r\n        Collectors.collectingAndThen(\r\n            Collectors.mapping(e -&gt; new StudentDTO(e.getScore(), e.getName()),\r\n                Collectors.toList()),\r\n            list -&gt; { list.sort(Comparator.comparingInt(StudentDTO::getScore).reversed()); return list; }\r\n        )\r\n    ));\r\n```\r\n**Note:** writing the code against concrete implementation makes it inflexible, you might want to learn what are the benefits of using abstractions. See https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface","title":"Java-Stream - How to apply sorting while using Collector groupingBy","body":"<p>To sort each list of <code>StudentDTO</code> by <code>score</code> in descending order, you can use the following comparator:</p>\n<pre><code>Comparator.comparingInt(StudentDTO::getScore).reversed()\n</code></pre>\n<p>And to apply sorting while collecting the result, you can use collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#collectingAndThen(java.util.stream.Collector,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>collectingAndThen()</code></a> as the downstream of <code>groupingBy()</code></p>\n<pre><code>List&lt;Student&gt; students = List.of(student1, student2, student3);\n\nMap&lt;Integer, List&lt;StudentDTO&gt;&gt; map = students.stream()\n    .collect(Collectors.groupingBy(\n        Student::getAge,\n        Collectors.collectingAndThen(\n            Collectors.mapping(e -&gt; new StudentDTO(e.getScore(), e.getName()),\n                Collectors.toList()),\n            list -&gt; { list.sort(Comparator.comparingInt(StudentDTO::getScore).reversed()); return list; }\n        )\n    ));\n</code></pre>\n<p><strong>Note:</strong> writing the code against concrete implementation makes it inflexible, you might want to learn what are the benefits of using abstractions. See <a href=\"https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\">What does it mean to &quot;program to an interface&quot;?</a></p>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665225876,"creation_date":1665225876,"answer_id":73996345,"question_id":73995793,"body_markdown":"Try this.  (I added `import static java.util.stream.Collectors.*;`)\r\n\r\n    Map&lt;Integer, List&lt;StudentDTO&gt;&gt; map = list.stream()\r\n        .collect(groupingBy(Student::getAge,\r\n            mapping(e -&gt; new StudentDTO(e.getScore(), e.getName()),\r\n                collectingAndThen(toList(),\r\n                    x -&gt; x.stream()\r\n                        .sorted(Comparator.comparing(StudentDTO::getScore).reversed())\r\n                        .collect(toList())))));\r\n","title":"Java-Stream - How to apply sorting while using Collector groupingBy","body":"<p>Try this.  (I added <code>import static java.util.stream.Collectors.*;</code>)</p>\n<pre><code>Map&lt;Integer, List&lt;StudentDTO&gt;&gt; map = list.stream()\n    .collect(groupingBy(Student::getAge,\n        mapping(e -&gt; new StudentDTO(e.getScore(), e.getName()),\n            collectingAndThen(toList(),\n                x -&gt; x.stream()\n                    .sorted(Comparator.comparing(StudentDTO::getScore).reversed())\n                    .collect(toList())))));\n</code></pre>\n"}],"owner":{"account_id":19917235,"reputation":61,"user_id":14593897,"display_name":"jane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73995830,"answer_count":2,"score":1,"last_activity_date":1665226948,"creation_date":1665220709,"question_id":73995793,"body_markdown":"I&#39;m using `Collectors.groupingBy` to group may objects into list. Examples are as follows:\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            Student student1 = new Student(98,&quot;man&quot;,&quot;CHEN&quot;,20);\r\n            Student student2 = new Student(100,&quot;man&quot;,&quot;PETER&quot;,20);\r\n            Student student3 = new Student(100,&quot;man&quot;,&quot;TMAC&quot;,21);\r\n            ArrayList&lt;Student&gt; list = Lists.newArrayList(student1, student2, student3);\r\n\r\n            Map&lt;Integer, List&lt;StudentDTO&gt;&gt; map = list.stream()\r\n                .collect(Collectors.groupingBy(Student::getAge,\r\n                    Collectors.mapping(e -&gt; new StudentDTO(e.getScore(), e.getName()),\r\n                        Collectors.toList())\r\n                ));\r\n\r\n            System.out.println(map);\r\n        }\r\n    \r\n        @Data\r\n        @AllArgsConstructor\r\n        @NoArgsConstructor\r\n        public static class Student {\r\n            private Integer score;\r\n            private String sex;\r\n            private String name;\r\n            private Integer age;\r\n        }\r\n    \r\n        @Data\r\n        @AllArgsConstructor\r\n        @NoArgsConstructor\r\n        public static class StudentDTO {\r\n            private Integer score;\r\n            private String name;\r\n        }\r\n    \r\n    }\r\n\r\n*Output:*\r\n```\r\n{20=[Test.StudentDTO(score=98, name=CHEN),\r\n     Test.StudentDTO(score=100, name=PETER)],\r\n 21=[Test.StudentDTO(score=100, name=TMAC)]}\r\n```\r\n\r\nBut my goal is to sort `StudentDTO` by `score` using `Comparator.comparing` with streams. How can I achieve this?\r\n\r\n*Desired output:*\r\n```\r\n{20=[Test.StudentDTO(score=100, name=PETER),\r\n     Test.StudentDTO(score=98, name=CHEN)],\r\n 21=[Test.StudentDTO(score=100, name=TMAC)]}\r\n```","title":"Java-Stream - How to apply sorting while using Collector groupingBy","body":"<p>I'm using <code>Collectors.groupingBy</code> to group may objects into list. Examples are as follows:</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        Student student1 = new Student(98,&quot;man&quot;,&quot;CHEN&quot;,20);\n        Student student2 = new Student(100,&quot;man&quot;,&quot;PETER&quot;,20);\n        Student student3 = new Student(100,&quot;man&quot;,&quot;TMAC&quot;,21);\n        ArrayList&lt;Student&gt; list = Lists.newArrayList(student1, student2, student3);\n\n        Map&lt;Integer, List&lt;StudentDTO&gt;&gt; map = list.stream()\n            .collect(Collectors.groupingBy(Student::getAge,\n                Collectors.mapping(e -&gt; new StudentDTO(e.getScore(), e.getName()),\n                    Collectors.toList())\n            ));\n\n        System.out.println(map);\n    }\n\n    @Data\n    @AllArgsConstructor\n    @NoArgsConstructor\n    public static class Student {\n        private Integer score;\n        private String sex;\n        private String name;\n        private Integer age;\n    }\n\n    @Data\n    @AllArgsConstructor\n    @NoArgsConstructor\n    public static class StudentDTO {\n        private Integer score;\n        private String name;\n    }\n\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>{20=[Test.StudentDTO(score=98, name=CHEN),\n     Test.StudentDTO(score=100, name=PETER)],\n 21=[Test.StudentDTO(score=100, name=TMAC)]}\n</code></pre>\n<p>But my goal is to sort <code>StudentDTO</code> by <code>score</code> using <code>Comparator.comparing</code> with streams. How can I achieve this?</p>\n<p><em>Desired output:</em></p>\n<pre><code>{20=[Test.StudentDTO(score=100, name=PETER),\n     Test.StudentDTO(score=98, name=CHEN)],\n 21=[Test.StudentDTO(score=100, name=TMAC)]}\n</code></pre>\n"},{"tags":["java","android","exif","android-exifinterface"],"comments":[{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":1,"creation_date":1665390310,"post_id":73996441,"comment_id":130680487,"body_markdown":"Documentation on that page says: *&quot;Note: It is recommended to use the AndroidX [ExifInterface Library](https://developer.android.com/reference/androidx/exifinterface/media/ExifInterface) since it is a superset of this class. In addition to the functionalities of this class, it supports parsing extra metadata such as exposure and data compression information as well as setting extra metadata such as GPS and datetime information.&quot;* It seems like most of your missing tags can be found there.","body":"Documentation on that page says: <i>&quot;Note: It is recommended to use the AndroidX <a href=\"https://developer.android.com/reference/androidx/exifinterface/media/ExifInterface\" rel=\"nofollow noreferrer\">ExifInterface Library</a> since it is a superset of this class. In addition to the functionalities of this class, it supports parsing extra metadata such as exposure and data compression information as well as setting extra metadata such as GPS and datetime information.&quot;</i> It seems like most of your missing tags can be found there."},{"owner":{"account_id":12023734,"reputation":2598,"user_id":11665178,"display_name":"Tom3652"},"score":0,"creation_date":1665404160,"post_id":73996441,"comment_id":130685107,"body_markdown":"Oh thank you very much @HaraldK it seems you are right indeed i will be using this !","body":"Oh thank you very much @HaraldK it seems you are right indeed i will be using this !"}],"owner":{"account_id":12023734,"reputation":2598,"user_id":11665178,"display_name":"Tom3652"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665226864,"creation_date":1665226864,"question_id":73996441,"body_markdown":"Hello i am trying to write custom values in EXIF of my `.jpg` images but i can&#39;t find some of the `TAG` that would be equivalent to the following : \r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\nI have tried to find the `TAG`s here : https://developer.android.com/reference/android/media/ExifInterface#TAG_FOCAL_PLANE_X_RESOLUTION \r\n\r\nBut could not find the matching TAG / code to save these values using `Exif.saveAttributes(TAG, value)`\r\n\r\nThanks in advance\r\n\r\n  [1]: https://i.stack.imgur.com/Vksnl.png\r\n  [2]: https://i.stack.imgur.com/mXAKK.png","title":"Find TAGS for custom values in exif Android","body":"<p>Hello i am trying to write custom values in EXIF of my <code>.jpg</code> images but i can't find some of the <code>TAG</code> that would be equivalent to the following :</p>\n<p><a href=\"https://i.stack.imgur.com/Vksnl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vksnl.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/mXAKK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mXAKK.png\" alt=\"enter image description here\" /></a></p>\n<p>I have tried to find the <code>TAG</code>s here : <a href=\"https://developer.android.com/reference/android/media/ExifInterface#TAG_FOCAL_PLANE_X_RESOLUTION\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/media/ExifInterface#TAG_FOCAL_PLANE_X_RESOLUTION</a></p>\n<p>But could not find the matching TAG / code to save these values using <code>Exif.saveAttributes(TAG, value)</code></p>\n<p>Thanks in advance</p>\n"},{"tags":["java","docker"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1665226041,"post_id":73996301,"comment_id":130653191,"body_markdown":"`C:\\Users\\Crank\\dev\\dock\\target&gt;` ... maybe `cd..`?","body":"<code>C:\\Users\\Crank\\dev\\dock\\target&gt;</code> ... maybe <code>cd..</code>?"},{"owner":{"account_id":26370194,"reputation":21,"user_id":20025005,"display_name":"Dmitriy Kandalov"},"score":0,"creation_date":1665226505,"post_id":73996301,"comment_id":130653281,"body_markdown":"can you give more detail?","body":"can you give more detail?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1665226689,"post_id":73996301,"comment_id":130653315,"body_markdown":"I mean you are (executing docker/referring) in(/to) wrong folder!? :)","body":"I mean you are (executing docker/referring) in(/to) wrong folder!? :)"}],"answers":[{"tags":[],"owner":{"account_id":25783342,"reputation":301,"user_id":19528631,"display_name":"Anton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665226573,"creation_date":1665226573,"answer_id":73996413,"question_id":73996301,"body_markdown":"    PS C:\\Users\\Crank\\dev\\dock\\target&gt; docker build -t dock_image .docker build -t dock_image .\r\n\r\nYou are executing the build from &quot;C:\\Users\\Crank\\dev\\dock\\target&quot; and then copying files from &quot;target/*.jar&quot;:\r\n\r\n    COPY target/*.jar app.jar\r\n\r\nThat means you are trying to copy from the directory &quot;C:\\Users\\Crank\\dev\\dock\\target\\target\\&quot;, which doesn&#39;t exist according to the build log:\r\n\r\n    lstat /var/lib/docker/tmp/buildkit-mount4242467964/target: no such file or directory\r\n\r\nJust try changing the COPY directive in your Dockerfile:\r\n\r\n    FROM amazoncorretto:11-alpine-jdk\r\n    COPY *.jar app.jar\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n\r\n\r\n","title":"I can&#39;t build a docker image java","body":"<pre><code>PS C:\\Users\\Crank\\dev\\dock\\target&gt; docker build -t dock_image .docker build -t dock_image .\n</code></pre>\n<p>You are executing the build from &quot;C:\\Users\\Crank\\dev\\dock\\target&quot; and then copying files from &quot;target/*.jar&quot;:</p>\n<pre><code>COPY target/*.jar app.jar\n</code></pre>\n<p>That means you are trying to copy from the directory &quot;C:\\Users\\Crank\\dev\\dock\\target\\target&quot;, which doesn't exist according to the build log:</p>\n<pre><code>lstat /var/lib/docker/tmp/buildkit-mount4242467964/target: no such file or directory\n</code></pre>\n<p>Just try changing the COPY directive in your Dockerfile:</p>\n<pre><code>FROM amazoncorretto:11-alpine-jdk\nCOPY *.jar app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n"}],"owner":{"account_id":26370194,"reputation":21,"user_id":20025005,"display_name":"Dmitriy Kandalov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73996413,"answer_count":1,"score":0,"last_activity_date":1665226573,"creation_date":1665225478,"question_id":73996301,"body_markdown":"When trying to assemble an image, I get an error\r\n\r\n    [+] Building 0.8s (2/3)\r\n     =&gt; [internal] load build definition from Dockerfile                                                               0.0s\r\n    [+] Building 1.0s (2/3)\r\n     =&gt; [internal] load build definition from Dockerfile                                                               0.0s\r\n    [+] Building 2.1s (7/7) FINISHED\r\n     =&gt; [internal] load build definition from Dockerfile                                                               0.0s\r\n     =&gt; =&gt; transferring dockerfile: 31B                                                                                0.0so\r\n     =&gt; [internal] load .dockerignore                                                                                  0.0s\r\n     =&gt; =&gt; transferring context: 2B                                                                                    0.0so\r\n     =&gt; [internal] load metadata for docker.io/library/amazoncorretto:11-alpine-jdk                                    1.9s\r\n     =&gt; [auth] library/amazoncorretto:pull token for registry-1.docker.io                                              0.0s\r\n     =&gt; [internal] load build context                                                                                  0.0s\r\n     =&gt; =&gt; transferring context: 2B                                                                                    0.0s\r\n     =&gt; CACHED [1/2] FROM docker.io/library/amazoncorretto:11-alpine-jdk@sha256:c9b2999792a19feebe9ccd5e7afd1e1aee857  0.0s\r\n     =&gt; ERROR [2/2] COPY target/*.jar app.jar                                                                          0.0s\r\n    ------\r\n     &gt; [2/2] COPY target/*.jar app.jar:\r\n    ------\r\n    lstat /var/lib/docker/tmp/buildkit-mount4242467964/target: no such file or directory\r\n    PS C:\\Users\\Crank\\dev\\dock\\target&gt; docker build -t dock_image .docker build -t dock_image .\r\n\r\n\r\nDockerfile contains \r\n```lang-dockerfile\r\nFROM amazoncorretto:11-alpine-jdk\r\nCOPY target/*.jar app.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n```","title":"I can&#39;t build a docker image java","body":"<p>When trying to assemble an image, I get an error</p>\n<pre><code>[+] Building 0.8s (2/3)\n =&gt; [internal] load build definition from Dockerfile                                                               0.0s\n[+] Building 1.0s (2/3)\n =&gt; [internal] load build definition from Dockerfile                                                               0.0s\n[+] Building 2.1s (7/7) FINISHED\n =&gt; [internal] load build definition from Dockerfile                                                               0.0s\n =&gt; =&gt; transferring dockerfile: 31B                                                                                0.0so\n =&gt; [internal] load .dockerignore                                                                                  0.0s\n =&gt; =&gt; transferring context: 2B                                                                                    0.0so\n =&gt; [internal] load metadata for docker.io/library/amazoncorretto:11-alpine-jdk                                    1.9s\n =&gt; [auth] library/amazoncorretto:pull token for registry-1.docker.io                                              0.0s\n =&gt; [internal] load build context                                                                                  0.0s\n =&gt; =&gt; transferring context: 2B                                                                                    0.0s\n =&gt; CACHED [1/2] FROM docker.io/library/amazoncorretto:11-alpine-jdk@sha256:c9b2999792a19feebe9ccd5e7afd1e1aee857  0.0s\n =&gt; ERROR [2/2] COPY target/*.jar app.jar                                                                          0.0s\n------\n &gt; [2/2] COPY target/*.jar app.jar:\n------\nlstat /var/lib/docker/tmp/buildkit-mount4242467964/target: no such file or directory\nPS C:\\Users\\Crank\\dev\\dock\\target&gt; docker build -t dock_image .docker build -t dock_image .\n</code></pre>\n<p>Dockerfile contains</p>\n<pre class=\"lang-dockerfile prettyprint-override\"><code>FROM amazoncorretto:11-alpine-jdk\nCOPY target/*.jar app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n"},{"tags":["java","datetime","java-8","java-time"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":7,"creation_date":1454518886,"post_id":35183146,"comment_id":58083380,"body_markdown":"Well you have to start by working out what time zone you care about. A &quot;milliseconds since epoch&quot; value gives you an instant in time... that could refer to different dates in different time zones. Bear in mind that `java.util.Date` was never really a date in the way that `LocalDate` is - it was an instant in time as well.","body":"Well you have to start by working out what time zone you care about. A &quot;milliseconds since epoch&quot; value gives you an instant in time... that could refer to different dates in different time zones. Bear in mind that <code>java.util.Date</code> was never really a date in the way that <code>LocalDate</code> is - it was an instant in time as well."},{"owner":{"account_id":7018296,"reputation":7298,"user_id":5378766,"accept_rate":84,"display_name":"hotzst"},"score":2,"creation_date":1454519077,"post_id":35183146,"comment_id":58083516,"body_markdown":"Check this question: http://stackoverflow.com/questions/21242110/convert-java-util-date-to-java-time-localdate, which covers the conversion of `java.util.Date` into `LocalDate`","body":"Check this question: <a href=\"http://stackoverflow.com/questions/21242110/convert-java-util-date-to-java-time-localdate\" title=\"convert java util date to java time localdate\">stackoverflow.com/questions/21242110/&hellip;</a>, which covers the conversion of <code>java.util.Date</code> into <code>LocalDate</code>"},{"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"score":4,"creation_date":1490606846,"post_id":35183146,"comment_id":73169610,"body_markdown":"Note: This Q&amp;A is also valuable for those trying to convert `File.lastModified()` (epoch millis) to `LocalDate(Time)`.","body":"Note: This Q&amp;A is also valuable for those trying to convert <code>File.lastModified()</code> (epoch millis) to <code>LocalDate(Time)</code>."},{"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"score":0,"creation_date":1612860091,"post_id":35183146,"comment_id":116891433,"body_markdown":"Does this answer your question? [How to get milliseconds from LocalDateTime in Java 8](https://stackoverflow.com/questions/23944370/how-to-get-milliseconds-from-localdatetime-in-java-8)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23944370/how-to-get-milliseconds-from-localdatetime-in-java-8\">How to get milliseconds from LocalDateTime in Java 8</a>"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1612869202,"post_id":35183146,"comment_id":116895275,"body_markdown":"@GeorgeSiggouroglou That questions asks the opposite of this question, so it is not a duplicate.","body":"@GeorgeSiggouroglou That questions asks the opposite of this question, so it is not a duplicate."},{"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"score":0,"creation_date":1612907489,"post_id":35183146,"comment_id":116912175,"body_markdown":"@MarkRotteveel you are correct, I hurried, I removed the vote to close.","body":"@MarkRotteveel you are correct, I hurried, I removed the vote to close."}],"answers":[{"tags":[],"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1454531087,"creation_date":1454531087,"answer_id":35186993,"question_id":35183146,"body_markdown":"You can start with [Instant.ofEpochMilli(long)][1]:\r\n\r\n    LocalDate date =\r\n      Instant.ofEpochMilli(startDateLong)\r\n      .atZone(ZoneId.systemDefault())\r\n      .toLocalDate();\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#ofEpochMilli-long-","title":"How can I create a Java 8 LocalDate from a long Epoch time in Milliseconds?","body":"<p>You can start with <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#ofEpochMilli-long-\" rel=\"noreferrer\">Instant.ofEpochMilli(long)</a>:</p>\n\n<pre><code>LocalDate date =\n  Instant.ofEpochMilli(startDateLong)\n  .atZone(ZoneId.systemDefault())\n  .toLocalDate();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":592,"is_accepted":true,"score":592,"last_activity_date":1662472275,"creation_date":1454531270,"answer_id":35187046,"question_id":35183146,"body_markdown":"If you have the milliseconds since the Epoch and want to convert them to a local date using the current local timezone, you can use [`Instant.ofEpochMilli(long epochMilli)`][1]\r\n\r\n    LocalDate date =\r\n        Instant.ofEpochMilli(longValue).atZone(ZoneId.systemDefault()).toLocalDate();\r\nbut keep in mind that even the system’s default time zone may change, thus the same `long` value may produce different result in subsequent runs, even on the same machine.\r\n\r\nFurther, keep in mind that `LocalDate`, unlike `java.util.Date`, really represents a date, not a date and time.\r\n\r\nOtherwise, you may use a `LocalDateTime`:\r\n\r\n    LocalDateTime date =\r\n        LocalDateTime.ofInstant(Instant.ofEpochMilli(longValue), ZoneId.systemDefault());\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#ofEpochMilli-long-","title":"How can I create a Java 8 LocalDate from a long Epoch time in Milliseconds?","body":"<p>If you have the milliseconds since the Epoch and want to convert them to a local date using the current local timezone, you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#ofEpochMilli-long-\" rel=\"noreferrer\"><code>Instant.ofEpochMilli(long epochMilli)</code></a></p>\n<pre><code>LocalDate date =\n    Instant.ofEpochMilli(longValue).atZone(ZoneId.systemDefault()).toLocalDate();\n</code></pre>\n<p>but keep in mind that even the system’s default time zone may change, thus the same <code>long</code> value may produce different result in subsequent runs, even on the same machine.</p>\n<p>Further, keep in mind that <code>LocalDate</code>, unlike <code>java.util.Date</code>, really represents a date, not a date and time.</p>\n<p>Otherwise, you may use a <code>LocalDateTime</code>:</p>\n<pre><code>LocalDateTime date =\n    LocalDateTime.ofInstant(Instant.ofEpochMilli(longValue), ZoneId.systemDefault());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"down_vote_count":5,"up_vote_count":12,"is_accepted":false,"score":7,"last_activity_date":1491814014,"creation_date":1491814014,"answer_id":43318605,"question_id":35183146,"body_markdown":"Timezones and stuff aside, a very simple alternative to `new Date(startDateLong)` could be `LocalDate.ofEpochDay(startDateLong / 86400000L)`","title":"How can I create a Java 8 LocalDate from a long Epoch time in Milliseconds?","body":"<p>Timezones and stuff aside, a very simple alternative to <code>new Date(startDateLong)</code> could be <code>LocalDate.ofEpochDay(startDateLong / 86400000L)</code></p>\n"},{"tags":[],"owner":{"account_id":4821010,"reputation":697,"user_id":3891698,"accept_rate":62,"display_name":"Abhijeet"},"down_vote_count":8,"up_vote_count":27,"is_accepted":false,"score":19,"last_activity_date":1529662936,"creation_date":1529662936,"answer_id":50985848,"question_id":35183146,"body_markdown":"I think I have a better answer. \r\n\r\n    new Timestamp(longEpochTime).toLocalDateTime();","title":"How can I create a Java 8 LocalDate from a long Epoch time in Milliseconds?","body":"<p>I think I have a better answer. </p>\n\n<pre><code>new Timestamp(longEpochTime).toLocalDateTime();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"down_vote_count":8,"up_vote_count":1,"is_accepted":false,"score":-7,"last_activity_date":1539605652,"creation_date":1539605652,"answer_id":52816552,"question_id":35183146,"body_markdown":"In a specific case where your epoch seconds timestamp comes from SQL or is related to SQL somehow, you can obtain it like this:\r\n\r\n    long startDateLong = &lt;...&gt;\r\n\r\n    LocalDate theDate = new java.sql.Date(startDateLong).toLocalDate();","title":"How can I create a Java 8 LocalDate from a long Epoch time in Milliseconds?","body":"<p>In a specific case where your epoch seconds timestamp comes from SQL or is related to SQL somehow, you can obtain it like this:</p>\n\n<pre><code>long startDateLong = &lt;...&gt;\n\nLocalDate theDate = new java.sql.Date(startDateLong).toLocalDate();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5555252,"reputation":830,"user_id":4406873,"display_name":"Santhosh Hirekerur"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1582855465,"creation_date":1582853444,"answer_id":60444089,"question_id":35183146,"body_markdown":"replace now.getTime() with your long value. \r\n```\r\n//GET UTC time for current date\r\n\t\tDate now= new Date();\r\n        //LocalDateTime utcDateTimeForCurrentDateTime = Instant.ofEpochMilli(now.getTime()).atZone(ZoneId.of(&quot;UTC&quot;)).toLocalDateTime();\r\n        LocalDate localDate = Instant.ofEpochMilli(now.getTime()).atZone(ZoneId.of(&quot;UTC&quot;)).toLocalDate();\r\n        DateTimeFormatter dTF2 = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm&quot;);\r\n\t\tSystem.out.println(&quot; formats as &quot; + dTF2.format(utcDateTimeForCurrentDateTime));","title":"How can I create a Java 8 LocalDate from a long Epoch time in Milliseconds?","body":"<p>replace now.getTime() with your long value. </p>\n\n<pre><code>//GET UTC time for current date\n        Date now= new Date();\n        //LocalDateTime utcDateTimeForCurrentDateTime = Instant.ofEpochMilli(now.getTime()).atZone(ZoneId.of(\"UTC\")).toLocalDateTime();\n        LocalDate localDate = Instant.ofEpochMilli(now.getTime()).atZone(ZoneId.of(\"UTC\")).toLocalDate();\n        DateTimeFormatter dTF2 = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm\");\n        System.out.println(\" formats as \" + dTF2.format(utcDateTimeForCurrentDateTime));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6464248,"reputation":6030,"user_id":5006866,"display_name":"thokuest"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1646932355,"creation_date":1646932355,"answer_id":71428162,"question_id":35183146,"body_markdown":"A simple version based on [@Michael Piefel answer](https://stackoverflow.com/a/43318605/5006866):\r\n\r\n```java\r\nLocalDate myDate = LocalDate.ofEpochDay(Duration.ofMillis(epochMillis).toDays());\r\n```","title":"How can I create a Java 8 LocalDate from a long Epoch time in Milliseconds?","body":"<p>A simple version based on <a href=\"https://stackoverflow.com/a/43318605/5006866\">@Michael Piefel answer</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate myDate = LocalDate.ofEpochDay(Duration.ofMillis(epochMillis).toDays());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14636270,"reputation":133,"user_id":10570318,"display_name":"BeatEngine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665226299,"creation_date":1665226299,"answer_id":73996394,"question_id":35183146,"body_markdown":"I have tested this alternative solution for LocalDateTime:\r\n\r\n    public static LocalDateTime increaseByMillis(final LocalDateTime ldt, final long millis)\r\n        {\r\n            return LocalDateTime.ofInstant(Instant.ofEpochMilli(ldt.toInstant(ZoneOffset.UTC).toEpochMilli()+millis), ZoneId.of(ZoneOffset.UTC.getId()));\r\n        }\r\n\r\nTest:\r\n\r\n    LocalDateTime test = LocalDateTime.now();\r\n            LocalDateTime increased = MyUtilsAbc.increaseByMillis(test, 1000);\r\n    \r\n            Assert.assertEquals(&quot;Increase of LocalDateTime not working (anymore)!&quot;, test.toEpochSecond(ZoneOffset.UTC) +1, increased.toEpochSecond(ZoneOffset.UTC));","title":"How can I create a Java 8 LocalDate from a long Epoch time in Milliseconds?","body":"<p>I have tested this alternative solution for LocalDateTime:</p>\n<pre><code>public static LocalDateTime increaseByMillis(final LocalDateTime ldt, final long millis)\n    {\n        return LocalDateTime.ofInstant(Instant.ofEpochMilli(ldt.toInstant(ZoneOffset.UTC).toEpochMilli()+millis), ZoneId.of(ZoneOffset.UTC.getId()));\n    }\n</code></pre>\n<p>Test:</p>\n<pre><code>LocalDateTime test = LocalDateTime.now();\n        LocalDateTime increased = MyUtilsAbc.increaseByMillis(test, 1000);\n\n        Assert.assertEquals(&quot;Increase of LocalDateTime not working (anymore)!&quot;, test.toEpochSecond(ZoneOffset.UTC) +1, increased.toEpochSecond(ZoneOffset.UTC));\n</code></pre>\n"}],"owner":{"account_id":8532,"reputation":13117,"user_id":15452,"accept_rate":57,"display_name":"Vihung"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317801,"favorite_count":0,"down_vote_count":2,"up_vote_count":327,"accepted_answer_id":35187046,"answer_count":8,"score":325,"last_activity_date":1665226299,"creation_date":1454518706,"question_id":35183146,"body_markdown":"I have an external API that returns me dates as `long`s, represented as milliseconds since the beginning of the Epoch.\r\n\r\nWith the old style Java API, I would simply construct a `Date` from it with\r\n\r\n    Date myDate = new Date(startDateLong)\r\n\r\nWhat is the equivalent in Java 8&#39;s `LocalDate`/`LocalDateTime` classes?\r\n\r\nI am interested in converting the point in time represented by the `long` to a `LocalDate` in my current local timezone.","title":"How can I create a Java 8 LocalDate from a long Epoch time in Milliseconds?","body":"<p>I have an external API that returns me dates as <code>long</code>s, represented as milliseconds since the beginning of the Epoch.</p>\n\n<p>With the old style Java API, I would simply construct a <code>Date</code> from it with</p>\n\n<pre><code>Date myDate = new Date(startDateLong)\n</code></pre>\n\n<p>What is the equivalent in Java 8's <code>LocalDate</code>/<code>LocalDateTime</code> classes?</p>\n\n<p>I am interested in converting the point in time represented by the <code>long</code> to a <code>LocalDate</code> in my current local timezone.</p>\n"},{"tags":["java","spring","postgresql","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":24597681,"reputation":125,"user_id":18500877,"display_name":"lavantho0508"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664851344,"creation_date":1664851344,"answer_id":73942665,"question_id":73942634,"body_markdown":"You have the same port, because PostgreSQL is using port 5432, server.port is to install the port for spring to run, you can change server.port to another port eg: 80, 8080,...\r\nyou should add this line to your configuration to load the PostgreSQL driver\r\n\r\n    spring.datasource.driver-class-name=org.postgresql.Driver\r\nThe last line should be changed to the following:\r\n\r\n    spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect","title":"HikariPool-1 Exception during pool initialization","body":"<p>You have the same port, because PostgreSQL is using port 5432, server.port is to install the port for spring to run, you can change server.port to another port eg: 80, 8080,...\nyou should add this line to your configuration to load the PostgreSQL driver</p>\n<pre><code>spring.datasource.driver-class-name=org.postgresql.Driver\n</code></pre>\n<p>The last line should be changed to the following:</p>\n<pre><code>spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26552141,"reputation":61,"user_id":20181285,"display_name":"Sk Nur Hasan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665226298,"creation_date":1665226298,"answer_id":73996393,"question_id":73942634,"body_markdown":"try this properties:\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.generate-ddl=true\r\n    spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation= true\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\r\n\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/&lt;database name&gt;\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=&lt;db password&gt;","title":"HikariPool-1 Exception during pool initialization","body":"<p>try this properties:</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\nspring.jpa.generate-ddl=true\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation= true\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\n\nspring.datasource.url=jdbc:postgresql://localhost:5432/&lt;database name&gt;\nspring.datasource.username=postgres\nspring.datasource.password=&lt;db password&gt;\n</code></pre>\n"}],"owner":{"account_id":26520960,"reputation":1,"user_id":20154638,"display_name":"ShawnPei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2014,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665226298,"creation_date":1664850876,"question_id":73942634,"body_markdown":"Hello guys， I am running into this error on my first trial on springboot, and the exception message makes no sense to me, the error message is as follows:\r\n    \r\n    2022-10-03 22:27:15.801 ERROR 22836 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n    \r\n    org.postgresql.util.PSQLException: ��������: ���ݿ� &quot;db_name&quot; ������\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2787) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.&lt;init&gt;(QueryExecutorImpl.java:173) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:290) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.Driver.makeConnection(Driver.java:402) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \r\n    And my application.properties is like this:\r\n    server.port=5432\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/db_name\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=password\r\n    \r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgresSQLDialect\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n\r\n","title":"HikariPool-1 Exception during pool initialization","body":"<p>Hello guys， I am running into this error on my first trial on springboot, and the exception message makes no sense to me, the error message is as follows:</p>\n<pre><code>2022-10-03 22:27:15.801 ERROR 22836 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n\norg.postgresql.util.PSQLException: ��������: ���ݿ� &quot;db_name&quot; ������\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2787) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.core.v3.QueryExecutorImpl.&lt;init&gt;(QueryExecutorImpl.java:173) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:290) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.Driver.makeConnection(Driver.java:402) ~[postgresql-42.3.7.jar:42.3.7]\n\nAnd my application.properties is like this:\nserver.port=5432\nspring.datasource.url=jdbc:postgresql://localhost:5432/db_name\nspring.datasource.username=postgres\nspring.datasource.password=password\n\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgresSQLDialect\nspring.jpa.properties.hibernate.format_sql=true\n</code></pre>\n"},{"tags":["java","ofbiz"],"comments":[{"owner":{"account_id":293721,"reputation":591,"user_id":597189,"display_name":"JacquesLeRoux"},"score":0,"creation_date":1664459607,"post_id":73866182,"comment_id":130480782,"body_markdown":"Hi Maxwel, I&#39;m not sure to understand. &quot;amountToPay&quot; must be a BigDecimal passed to createTransaction(). So you want to check amountToPay upstream of a call to createTransaction() to see if not a string would be passed there, right?","body":"Hi Maxwel, I&#39;m not sure to understand. &quot;amountToPay&quot; must be a BigDecimal passed to createTransaction(). So you want to check amountToPay upstream of a call to createTransaction() to see if not a string would be passed there, right?"},{"owner":{"account_id":21965926,"reputation":172,"user_id":16243176,"display_name":"MAXWEL OCHIENG"},"score":0,"creation_date":1664733391,"post_id":73866182,"comment_id":130534505,"body_markdown":"yes @JacquesLeRoux that is my question.","body":"yes @JacquesLeRoux that is my question."}],"answers":[{"tags":[],"owner":{"account_id":293721,"reputation":591,"user_id":597189,"display_name":"JacquesLeRoux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665224918,"creation_date":1665224918,"answer_id":73996239,"question_id":73866182,"body_markdown":"It depends of what is your call stack at the moment. I guess you use a service to call createTransaction. Then you can check that in the service. Else we need to know what is the call stack at the moment. \r\n\r\nHTH","title":"Check value in field before proceeding to delagator.create()","body":"<p>It depends of what is your call stack at the moment. I guess you use a service to call createTransaction. Then you can check that in the service. Else we need to know what is the call stack at the moment.</p>\n<p>HTH</p>\n"}],"owner":{"account_id":21965926,"reputation":172,"user_id":16243176,"display_name":"MAXWEL OCHIENG"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665224918,"creation_date":1664274872,"question_id":73866182,"body_markdown":"I have GenericValue called value that I use to put transaction details before proceeding to the delegator.create(makevalue) inside try-catch block\r\n\r\nI want to check the amount inside the delegator before that try-catch block if it&#39;s really a BigDecimal or a String was put inside and return the error to the client before I get that database error.\r\n\r\nHow can I get that amount field inside that makevalue GenericValue?\r\n\r\n```java\r\npublic static Map&lt;String, Object&gt; createTransaction(Delegator delegator, String caseIds, BigDecimal amountToPay,String createdBy) {\r\n\t\t\r\n\t\tString caseId = caseIds.replaceAll(&quot;,&quot;, &quot;&quot;);\r\n\t\tGenericValue caseELI = getEntityValue(delegator,&quot;Cases&quot;, &quot;caseId&quot;, caseId);\r\n\t\tGenericValue makeValue = delegator.makeValue(&quot;AccountTransaction&quot;);\r\n\t\t\tLong accountTransactionId = delegator.getNextSeqIdLong(&quot;AccountTransaction&quot;);\r\n\t\t\t\r\n\t\t\tmakeValue.put(&quot;accountTransactionId&quot;, accountTransactionId);\r\n\t\t\tmakeValue.put(&quot;caseId&quot;,caseId);\r\n\t\t\tmakeValue.put(&quot;clientId&quot;, caseELI.getString(&quot;clientId&quot;));\r\n\t\t\tmakeValue.put(&quot;amount&quot;,amountToPay);\r\n\t\t\tmakeValue.put(&quot;isCash&quot;,&quot;Y&quot;);\r\n\t\t\tmakeValue.put(&quot;isPosted&quot;,&quot;Y&quot;);\r\n\t\t\tmakeValue.put(&quot;createdBy&quot;,createdBy);\r\n\r\n\t\t\t\r\n\r\n\r\n\t\t\ttry {\r\n\t\t\t\tdelegator.create(makeValue);\r\n\t\t\t} catch(GenericEntityException e){\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t  Map&lt;String, Object&gt; result = ServiceUtil.returnSuccess(&quot;Transaction processed successfully&quot;);\r\n\t\t  return result;\r\n\t}\r\n```\r\n\r\n","title":"Check value in field before proceeding to delagator.create()","body":"<p>I have GenericValue called value that I use to put transaction details before proceeding to the delegator.create(makevalue) inside try-catch block</p>\n<p>I want to check the amount inside the delegator before that try-catch block if it's really a BigDecimal or a String was put inside and return the error to the client before I get that database error.</p>\n<p>How can I get that amount field inside that makevalue GenericValue?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Map&lt;String, Object&gt; createTransaction(Delegator delegator, String caseIds, BigDecimal amountToPay,String createdBy) {\n        \n        String caseId = caseIds.replaceAll(&quot;,&quot;, &quot;&quot;);\n        GenericValue caseELI = getEntityValue(delegator,&quot;Cases&quot;, &quot;caseId&quot;, caseId);\n        GenericValue makeValue = delegator.makeValue(&quot;AccountTransaction&quot;);\n            Long accountTransactionId = delegator.getNextSeqIdLong(&quot;AccountTransaction&quot;);\n            \n            makeValue.put(&quot;accountTransactionId&quot;, accountTransactionId);\n            makeValue.put(&quot;caseId&quot;,caseId);\n            makeValue.put(&quot;clientId&quot;, caseELI.getString(&quot;clientId&quot;));\n            makeValue.put(&quot;amount&quot;,amountToPay);\n            makeValue.put(&quot;isCash&quot;,&quot;Y&quot;);\n            makeValue.put(&quot;isPosted&quot;,&quot;Y&quot;);\n            makeValue.put(&quot;createdBy&quot;,createdBy);\n\n            \n\n\n            try {\n                delegator.create(makeValue);\n            } catch(GenericEntityException e){\n                e.printStackTrace();\n            }\n\n          Map&lt;String, Object&gt; result = ServiceUtil.returnSuccess(&quot;Transaction processed successfully&quot;);\n          return result;\n    }\n</code></pre>\n"},{"tags":["java","android","progress-bar","android-drawable"],"owner":{"account_id":25411796,"reputation":121,"user_id":19219457,"display_name":"mikegrep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1665224582,"creation_date":1665219875,"question_id":73995702,"body_markdown":"I was using layout to display splash screen but is loading with delay and is having a time period when the screen is white now I implement to show the splash screen from drawable with background image, but I can&#39;t find a way to visualise a progress bar.\r\nThis is the theme, and I am including the splash screen background image. Is has a way to add item as progress bar some way. I try some ways with drawable but I didn&#39;t see it on the screen. Thank you\r\n   \r\n\r\n   \r\n\r\n         &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n            &lt;style name=&quot;Theme.AppName.SplashScreen&quot; parent=&quot;Theme.MaterialComponents.NoActionBar&quot;&gt;\r\n                &lt;!-- Primary brand color. --&gt;\r\n                &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\r\n                &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\r\n                &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\r\n                &lt;!-- Secondary brand color. --&gt;\r\n                &lt;item name=&quot;colorSecondary&quot;&gt;@color/red&lt;/item&gt;\r\n                &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/red&lt;/item&gt;\r\n                &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n                &lt;!-- Status bar color. --&gt;\r\n                &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\r\n                &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/screen&lt;/item&gt;\r\n        \r\n            &lt;/style&gt;\r\n        \r\n        &lt;/resources&gt;\r\n    \r\n    \r\n    \r\n    \r\n\r\nProgressBar Drawable.\r\n\r\n    &lt;rotate\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:fromDegrees=&quot;270&quot;\r\n        android:toDegrees=&quot;270&quot;&gt;\r\n    \r\n        &lt;!--styling the progress bar--&gt;\r\n        &lt;shape\r\n            android:innerRadiusRatio=&quot;2.5&quot;\r\n            android:shape=&quot;ring&quot;\r\n            android:thickness=&quot;8dp&quot;\r\n            android:useLevel=&quot;true&quot;&gt;\r\n            &lt;gradient\r\n                android:angle=&quot;0&quot;\r\n                android:endColor=&quot;@color/red&quot;\r\n                android:startColor=&quot;#000000&quot;\r\n                android:type=&quot;sweep&quot;\r\n                android:useLevel=&quot;false&quot; /&gt;\r\n        &lt;/shape&gt;\r\n    \r\n    &lt;/rotate&gt;","title":"Adding progress bar to theme from drawable file","body":"<p>I was using layout to display splash screen but is loading with delay and is having a time period when the screen is white now I implement to show the splash screen from drawable with background image, but I can't find a way to visualise a progress bar.\nThis is the theme, and I am including the splash screen background image. Is has a way to add item as progress bar some way. I try some ways with drawable but I didn't see it on the screen. Thank you</p>\n<pre><code>     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n        &lt;style name=&quot;Theme.AppName.SplashScreen&quot; parent=&quot;Theme.MaterialComponents.NoActionBar&quot;&gt;\n            &lt;!-- Primary brand color. --&gt;\n            &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\n            &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\n            &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\n            &lt;!-- Secondary brand color. --&gt;\n            &lt;item name=&quot;colorSecondary&quot;&gt;@color/red&lt;/item&gt;\n            &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/red&lt;/item&gt;\n            &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\n            &lt;!-- Status bar color. --&gt;\n            &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\n            &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/screen&lt;/item&gt;\n    \n        &lt;/style&gt;\n    \n    &lt;/resources&gt;\n</code></pre>\n<p>ProgressBar Drawable.</p>\n<pre><code>&lt;rotate\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:fromDegrees=&quot;270&quot;\n    android:toDegrees=&quot;270&quot;&gt;\n\n    &lt;!--styling the progress bar--&gt;\n    &lt;shape\n        android:innerRadiusRatio=&quot;2.5&quot;\n        android:shape=&quot;ring&quot;\n        android:thickness=&quot;8dp&quot;\n        android:useLevel=&quot;true&quot;&gt;\n        &lt;gradient\n            android:angle=&quot;0&quot;\n            android:endColor=&quot;@color/red&quot;\n            android:startColor=&quot;#000000&quot;\n            android:type=&quot;sweep&quot;\n            android:useLevel=&quot;false&quot; /&gt;\n    &lt;/shape&gt;\n\n&lt;/rotate&gt;\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665212627,"creation_date":1665212627,"answer_id":73995059,"question_id":73994930,"body_markdown":"that&#39;s because you have an infinite loop\r\n```\r\ndo {\r\n            bal += (INTEREST_RATE_PER_MONTH * bal) - WITHDRAW;\r\n            months ++; \r\n        }\r\n        while (bal &gt; 0);\r\n```\r\nthis loop could only end if your balance reaches 0 \r\n\r\nwhich it wont if the interest per month is larger than your withdraw.\r\n\r\nthis happens when your balance is larger than 100000  (500/(0.06/12.0))","title":"Why can&#39;t my program process when I input a number above 99999","body":"<p>that's because you have an infinite loop</p>\n<pre><code>do {\n            bal += (INTEREST_RATE_PER_MONTH * bal) - WITHDRAW;\n            months ++; \n        }\n        while (bal &gt; 0);\n</code></pre>\n<p>this loop could only end if your balance reaches 0</p>\n<p>which it wont if the interest per month is larger than your withdraw.</p>\n<p>this happens when your balance is larger than 100000  (500/(0.06/12.0))</p>\n"},{"tags":[],"owner":{"account_id":19972669,"reputation":79,"user_id":14637775,"display_name":"Victor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665224494,"creation_date":1665224494,"answer_id":73996190,"question_id":73994930,"body_markdown":"actually when you input a number above 100000,the monthly interest has exceeded the monthly withdraw amount,so your money will grow more and more until the bar overflow.\r\nbut the max value of the bar = MAX_VALUE = 1.7976931348623157e+308 is too huge\r\n\r\nthe algorithm to calculate the bar\r\n```\r\nbal += (INTEREST_RATE_PER_MONTH * bal) - WITHDRAW;\r\n```\r\ngrows too slowly(It takes about 2000 loops to increase tenfold),but init value you input(eg:1 billion) is 10^300 times worse than the Double.MAX_VALUE,that means the cpu needs to compute about 10^300 to overflow.the time of compute will contines to the end of the world\r\n\r\nAfter the bal value is set to overflow, bal=infinite&gt;0, any addition or subtraction operation on bal at this time is bal, so it will never exit the loop\r\n","title":"Why can&#39;t my program process when I input a number above 99999","body":"<p>actually when you input a number above 100000,the monthly interest has exceeded the monthly withdraw amount,so your money will grow more and more until the bar overflow.\nbut the max value of the bar = MAX_VALUE = 1.7976931348623157e+308 is too huge</p>\n<p>the algorithm to calculate the bar</p>\n<pre><code>bal += (INTEREST_RATE_PER_MONTH * bal) - WITHDRAW;\n</code></pre>\n<p>grows too slowly(It takes about 2000 loops to increase tenfold),but init value you input(eg:1 billion) is 10^300 times worse than the Double.MAX_VALUE,that means the cpu needs to compute about 10^300 to overflow.the time of compute will contines to the end of the world</p>\n<p>After the bal value is set to overflow, bal=infinite&gt;0, any addition or subtraction operation on bal at this time is bal, so it will never exit the loop</p>\n"}],"owner":{"account_id":25397583,"reputation":13,"user_id":19207614,"display_name":"Zeyar Htoo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73995059,"answer_count":2,"score":1,"last_activity_date":1665224494,"creation_date":1665211076,"question_id":73994930,"body_markdown":"I am trying to create a simple program where it calculates how much time I have left considering my only expense is 500 each month and I can only put an initial amount one time. But when I start inputting a number larger than 99999 for the initial value, the program keeps buffering and do not load anymore. I have tried changing data types such as long but it still loads forever. Any logic or idea behind this, I am new to this so please educate me. \r\n\r\n```\r\nimport java.lang.String;\r\nimport java.util.Scanner;\r\n\r\npublic class Lab3 {\r\n    \r\n    public static void main(String[] args) {\r\n        final double WITHDRAW = 500.00; \r\n        final double INTEREST_RATE_PER_MONTH =  0.06/12.0;\r\n        int months = 0;\r\n        int years; \r\n        Scanner in = new Scanner(System.in);\r\n        System.out.println(&quot;Please enter the amount of money you are going to deposit to your Initial Balance:&quot;);\r\n        double bal = in.nextDouble();\r\n\r\n        do {\r\n            bal += (INTEREST_RATE_PER_MONTH * bal) - WITHDRAW;\r\n            months ++; \r\n        }\r\n        while (bal &gt; 0);\r\n\r\n        years = months / 12; \r\n        \r\n        if (years == 0) {\r\n\r\n            String msg = &quot;&quot;;\r\n            msg = months + &quot; month&quot;;\r\n\r\n            if (months &gt; 1){\r\n                msg = msg + &quot;s&quot;;\r\n                System.out.println(msg);\r\n            }\r\n            else\r\n                System.out.println(msg);\r\n        }\r\n        else if (years == 1){\r\n            months = months - 12;\r\n            String msg = &quot;&quot;;\r\n            msg =  years + &quot; year and &quot; +  months + &quot; month&quot;;\r\n\r\n            if (months &gt; 1){\r\n                msg = msg + &quot;s&quot;;\r\n                System.out.println(msg);\r\n            }\r\n            else\r\n                System.out.println(msg);\r\n            \r\n        }\r\n        else if (years &gt; 1){\r\n            months = months % years; \r\n            String msg = &quot;&quot;;\r\n            msg = years + &quot; years and &quot; + months + &quot; month&quot;;\r\n\r\n            if (months &gt; 1){\r\n                msg = msg + &quot;s&quot;;\r\n                System.out.println(msg);\r\n            }\r\n            else\r\n                System.out.println(msg);\r\n        }\r\n        else\r\n            System.out.println(&quot;0 month&quot;);\r\n    }\r\n}\r\n```","title":"Why can&#39;t my program process when I input a number above 99999","body":"<p>I am trying to create a simple program where it calculates how much time I have left considering my only expense is 500 each month and I can only put an initial amount one time. But when I start inputting a number larger than 99999 for the initial value, the program keeps buffering and do not load anymore. I have tried changing data types such as long but it still loads forever. Any logic or idea behind this, I am new to this so please educate me.</p>\n<pre><code>import java.lang.String;\nimport java.util.Scanner;\n\npublic class Lab3 {\n    \n    public static void main(String[] args) {\n        final double WITHDRAW = 500.00; \n        final double INTEREST_RATE_PER_MONTH =  0.06/12.0;\n        int months = 0;\n        int years; \n        Scanner in = new Scanner(System.in);\n        System.out.println(&quot;Please enter the amount of money you are going to deposit to your Initial Balance:&quot;);\n        double bal = in.nextDouble();\n\n        do {\n            bal += (INTEREST_RATE_PER_MONTH * bal) - WITHDRAW;\n            months ++; \n        }\n        while (bal &gt; 0);\n\n        years = months / 12; \n        \n        if (years == 0) {\n\n            String msg = &quot;&quot;;\n            msg = months + &quot; month&quot;;\n\n            if (months &gt; 1){\n                msg = msg + &quot;s&quot;;\n                System.out.println(msg);\n            }\n            else\n                System.out.println(msg);\n        }\n        else if (years == 1){\n            months = months - 12;\n            String msg = &quot;&quot;;\n            msg =  years + &quot; year and &quot; +  months + &quot; month&quot;;\n\n            if (months &gt; 1){\n                msg = msg + &quot;s&quot;;\n                System.out.println(msg);\n            }\n            else\n                System.out.println(msg);\n            \n        }\n        else if (years &gt; 1){\n            months = months % years; \n            String msg = &quot;&quot;;\n            msg = years + &quot; years and &quot; + months + &quot; month&quot;;\n\n            if (months &gt; 1){\n                msg = msg + &quot;s&quot;;\n                System.out.println(msg);\n            }\n            else\n                System.out.println(msg);\n        }\n        else\n            System.out.println(&quot;0 month&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","concurrency","mutex"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1665148527,"post_id":73981619,"comment_id":130638220,"body_markdown":"FYI, Your array of flags is _not_ `volatile`. There are no volatile arrays in Java. There are no volatile objects. The only thing that can be volatile is a _variable_ (including member variables, which some people call _fields._)  `volatile&#160;boolean&#160;flag[]` means that if one thread in your code executes `flag=...;` then that assignment is guaranteed to promptly become visible to other threads. But, if a thread assigns a _member_ of the array, `flag[i]=...`, as opposed to assigning the array variable itself, then the `volatile` guarantee does not apply.","body":"FYI, Your array of flags is <i>not</i> <code>volatile</code>. There are no volatile arrays in Java. There are no volatile objects. The only thing that can be volatile is a <i>variable</i> (including member variables, which some people call <i>fields.</i>)  <code>volatile boolean flag[]</code> means that if one thread in your code executes <code>flag=...;</code> then that assignment is guaranteed to promptly become visible to other threads. But, if a thread assigns a <i>member</i> of the array, <code>flag[i]=...</code>, as opposed to assigning the array variable itself, then the <code>volatile</code> guarantee does not apply."},{"owner":{"account_id":7830368,"reputation":187,"user_id":5920656,"display_name":"aas"},"score":0,"creation_date":1665166721,"post_id":73981619,"comment_id":130644343,"body_markdown":"Nothing in this example assigns another value to `flag`. The textbook authors (whose verbatim code this is) state that the `volatile` is to prevent the compiler from optimizing accesses. This is verbatim textbook code that is presented by the authors as correct code, not pseudocode.","body":"Nothing in this example assigns another value to <code>flag</code>. The textbook authors (whose verbatim code this is) state that the <code>volatile</code> is to prevent the compiler from optimizing accesses. This is verbatim textbook code that is presented by the authors as correct code, not pseudocode."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1665171112,"post_id":73981619,"comment_id":130645469,"body_markdown":"Interesting. Which edition were you reading? `flag` is not `volatile` in the first edition. I would have said that the `volatile` keyword is meaningless because `flag` is never assigned. I tried reading what the _JLS, Java SE 17 Edition_ has to say about `volatile`, but in the limited time I have to spend, I could not decide how it answers either question A, Does the JLS permit the optimization that you are worried about if you take `volatile` out of your example? Or, question B, Does the JLS forbid the optimization if you leave it in?","body":"Interesting. Which edition were you reading? <code>flag</code> is not <code>volatile</code> in the first edition. I would have said that the <code>volatile</code> keyword is meaningless because <code>flag</code> is never assigned. I tried reading what the <i>JLS, Java SE 17 Edition</i> has to say about <code>volatile</code>, but in the limited time I have to spend, I could not decide how it answers either question A, Does the JLS permit the optimization that you are worried about if you take <code>volatile</code> out of your example? Or, question B, Does the JLS forbid the optimization if you leave it in?"},{"owner":{"account_id":7830368,"reputation":187,"user_id":5920656,"display_name":"aas"},"score":0,"creation_date":1665185610,"post_id":73981619,"comment_id":130648235,"body_markdown":"Second edition (2020). I suspect that the main concern was that `while (!flag[slot]) {}` would turn into `while (true) {}`, but I haven&#39;t actually been able to produce a deadlock this way.","body":"Second edition (2020). I suspect that the main concern was that <code>while (!flag[slot]) {}</code> would turn into <code>while (true) {}</code>, but I haven&#39;t actually been able to produce a deadlock this way."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665223865,"creation_date":1665132609,"answer_id":73984674,"question_id":73981619,"body_markdown":"Your test code has non-threadsafe update for `COUNT++`. Switch to `COUNT.incrementAndGet()` and:\r\n\r\n    static AtomicLong COUNT = new AtomicLong();\r\n\r\n`ALock` will give unfair results especially when number of threads exceeds CPUs. The implementation relies on high CPU spin loop `while (!flag[slot])` and not all threads are having same opportunity to enter their lock spin-loops - the first few threads are performing more of the `lock-unlock` cycles. Adding `Thread.yield` should balance out the thread access to the boolean array so all threads have similar opportunities to run through their own lock spin loop.\r\n\r\n    while (!flag[slot]) {\r\n       Thread.yield();\r\n    }\r\n\r\nYou should see different results if you try setting `NUM_THREADS` to be same or less than `Runtime.getRuntime().availableProcessors()` - the use of `Thread.yield()` may not make a difference compared to when `NUM_THREADS &gt; Runtime.getRuntime().availableProcessors()`.\r\n\r\nUsing this lock class will lead to slower throughput as at any one time up to `N-1` threads are in high CPU spin loop waiting for the current locking thread to call `unlock()`. In ideal lock implementations, `N-1` waiters won&#39;t be consuming CPU.\r\n\r\nThe `ALock` locking stategy will only work if the exact same number of threads is used as provided `new ALock(NUM_THREADS)` because otherwise the use of `int slot = tail.getAndIncrement() % size;` may result in 2 threads reading from the same `slot`. \r\n\r\nNote that any code relying on spin loop or `Thread.yield()` to work is not an effective implementation and should not be used in production code. Both can be avoided with the classes of `java.util.concurrent.*`.\r\n","title":"Why does a FIFO array queue lock not seem fair?","body":"<p>Your test code has non-threadsafe update for <code>COUNT++</code>. Switch to <code>COUNT.incrementAndGet()</code> and:</p>\n<pre><code>static AtomicLong COUNT = new AtomicLong();\n</code></pre>\n<p><code>ALock</code> will give unfair results especially when number of threads exceeds CPUs. The implementation relies on high CPU spin loop <code>while (!flag[slot])</code> and not all threads are having same opportunity to enter their lock spin-loops - the first few threads are performing more of the <code>lock-unlock</code> cycles. Adding <code>Thread.yield</code> should balance out the thread access to the boolean array so all threads have similar opportunities to run through their own lock spin loop.</p>\n<pre><code>while (!flag[slot]) {\n   Thread.yield();\n}\n</code></pre>\n<p>You should see different results if you try setting <code>NUM_THREADS</code> to be same or less than <code>Runtime.getRuntime().availableProcessors()</code> - the use of <code>Thread.yield()</code> may not make a difference compared to when <code>NUM_THREADS &gt; Runtime.getRuntime().availableProcessors()</code>.</p>\n<p>Using this lock class will lead to slower throughput as at any one time up to <code>N-1</code> threads are in high CPU spin loop waiting for the current locking thread to call <code>unlock()</code>. In ideal lock implementations, <code>N-1</code> waiters won't be consuming CPU.</p>\n<p>The <code>ALock</code> locking stategy will only work if the exact same number of threads is used as provided <code>new ALock(NUM_THREADS)</code> because otherwise the use of <code>int slot = tail.getAndIncrement() % size;</code> may result in 2 threads reading from the same <code>slot</code>.</p>\n<p>Note that any code relying on spin loop or <code>Thread.yield()</code> to work is not an effective implementation and should not be used in production code. Both can be avoided with the classes of <code>java.util.concurrent.*</code>.</p>\n"}],"owner":{"account_id":7830368,"reputation":187,"user_id":5920656,"display_name":"aas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665223865,"creation_date":1665108021,"question_id":73981619,"body_markdown":"In &#167;7.5.1 of *The Art of Multiprocessor Programming* by Herlihy et al. (2nd ed., 2020), the authors present a simple lock that uses an array queue to achieve FIFO locking. Intuitively, the *n*th thread has a (thread-local) index into an array, and then spins on that array element until the *n - 1* thread unlocks the lock. Its code looks like this:\r\n```java\r\npublic class ALock {\r\n    ThreadLocal&lt;Integer&gt; mySlotIndex = new ThreadLocal&lt;&gt;() {\r\n        @Override protected Integer initialValue() { return 0; }\r\n    };\r\n    AtomicInteger tail;\r\n    volatile boolean[] flag;\r\n    int size;\r\n\r\n    public ALock(int capacity) {\r\n        size = capacity;\r\n        tail = new AtomicInteger(0);\r\n        flag = new boolean[capacity];\r\n        flag[0] = true;\r\n    }\r\n\r\n    public void lock() {\r\n        int slot = tail.getAndIncrement() % size;\r\n        mySlotIndex.set(slot);\r\n        while (!flag[slot]) {};\r\n    }\r\n\r\n    public void unlock() {\r\n        int slot = mySlotIndex.get();\r\n        flag[slot] = false;\r\n        flag[(slot + 1) % size] = true;\r\n    }\r\n}\r\n```\r\nI am using a minimal test program to check that this lock is fair. In a nutshell, I create `NUM_THREADS` threads and map each one to an array index `id`. Each thread tries to acquire the same lock. Once it succeeds, it increments a global `COUNT` and also increments `RUNS_PER_THREAD[id]`.\r\n\r\nIf the lock is correct, the final value of `COUNT` should equal the sum of the values in `RUNS_PER_THREAD`. If the lock is fair, the elements of `RUNS_PER_THREAD` should be approximately equal.\r\n```java\r\npublic class Main {\r\n    static long COUNT = 0;\r\n    static int NUM_THREADS = 16;\r\n//    static Lock LOCK = new ReentrantLock(true);\r\n    static ALock LOCK = new ALock(NUM_THREADS);\r\n    static long[] RUNS_PER_THREAD = new long[NUM_THREADS];\r\n    static Map&lt;Long, Integer&gt; THREAD_IDS = new HashMap&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n        var threads = IntStream.range(0, NUM_THREADS).mapToObj(Main::makeWorker).toArray(Thread[]::new);\r\n        for (int i = 0; i &lt; threads.length; i++) THREAD_IDS.put(threads[i].getId(), i);\r\n        for (var thread: threads) thread.start();\r\n        try { Thread.sleep(300L); } catch (InterruptedException e) {}\r\n        for (var thread: threads) thread.interrupt();\r\n        try { Thread.sleep(100L); } catch (InterruptedException e) {}\r\n        for (int i = 0; i &lt; NUM_THREADS; i++) System.out.printf(&quot;Thread %d:\\t%12d%n&quot;, i, RUNS_PER_THREAD[i]);\r\n        System.out.println(&quot;Counted up to: \\t\\t\\t&quot; + COUNT);\r\n        System.out.println(&quot;Sum for all threads: \\t&quot; + Arrays.stream(RUNS_PER_THREAD).sum());\r\n    }\r\n\r\n    private static Thread makeWorker(int i) {\r\n        return new Thread(() -&gt; {\r\n            while (true) {\r\n                if (Thread.interrupted()) return;\r\n                LOCK.lock();\r\n                try {\r\n                    COUNT++;\r\n                    var id = THREAD_IDS.get(Thread.currentThread().getId());\r\n                    RUNS_PER_THREAD[id]++;\r\n                } finally {\r\n                    LOCK.unlock();\r\n                }}});\r\n    }\r\n}\r\n```\r\nIf the test program is run with a fair `ReentrantLock`, the final count of runs per thread with 16 threads (on my M1 Max Mac with Java 17) is almost exactly equal. If the same test is run with `ALock`, the first few threads seem to acquire the lock approximately 10 times more frequently than the last few threads.\r\n\r\nIs `ALock`, as presented, unfair, and if so, why? Alternatively, is my minimal test flawed, and if so, why does it seem to demonstrate the fairness of `ReentrantLock`?","title":"Why does a FIFO array queue lock not seem fair?","body":"<p>In §7.5.1 of <em>The Art of Multiprocessor Programming</em> by Herlihy et al. (2nd ed., 2020), the authors present a simple lock that uses an array queue to achieve FIFO locking. Intuitively, the <em>n</em>th thread has a (thread-local) index into an array, and then spins on that array element until the <em>n - 1</em> thread unlocks the lock. Its code looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ALock {\n    ThreadLocal&lt;Integer&gt; mySlotIndex = new ThreadLocal&lt;&gt;() {\n        @Override protected Integer initialValue() { return 0; }\n    };\n    AtomicInteger tail;\n    volatile boolean[] flag;\n    int size;\n\n    public ALock(int capacity) {\n        size = capacity;\n        tail = new AtomicInteger(0);\n        flag = new boolean[capacity];\n        flag[0] = true;\n    }\n\n    public void lock() {\n        int slot = tail.getAndIncrement() % size;\n        mySlotIndex.set(slot);\n        while (!flag[slot]) {};\n    }\n\n    public void unlock() {\n        int slot = mySlotIndex.get();\n        flag[slot] = false;\n        flag[(slot + 1) % size] = true;\n    }\n}\n</code></pre>\n<p>I am using a minimal test program to check that this lock is fair. In a nutshell, I create <code>NUM_THREADS</code> threads and map each one to an array index <code>id</code>. Each thread tries to acquire the same lock. Once it succeeds, it increments a global <code>COUNT</code> and also increments <code>RUNS_PER_THREAD[id]</code>.</p>\n<p>If the lock is correct, the final value of <code>COUNT</code> should equal the sum of the values in <code>RUNS_PER_THREAD</code>. If the lock is fair, the elements of <code>RUNS_PER_THREAD</code> should be approximately equal.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    static long COUNT = 0;\n    static int NUM_THREADS = 16;\n//    static Lock LOCK = new ReentrantLock(true);\n    static ALock LOCK = new ALock(NUM_THREADS);\n    static long[] RUNS_PER_THREAD = new long[NUM_THREADS];\n    static Map&lt;Long, Integer&gt; THREAD_IDS = new HashMap&lt;&gt;();\n\n    public static void main(String[] args) {\n        var threads = IntStream.range(0, NUM_THREADS).mapToObj(Main::makeWorker).toArray(Thread[]::new);\n        for (int i = 0; i &lt; threads.length; i++) THREAD_IDS.put(threads[i].getId(), i);\n        for (var thread: threads) thread.start();\n        try { Thread.sleep(300L); } catch (InterruptedException e) {}\n        for (var thread: threads) thread.interrupt();\n        try { Thread.sleep(100L); } catch (InterruptedException e) {}\n        for (int i = 0; i &lt; NUM_THREADS; i++) System.out.printf(&quot;Thread %d:\\t%12d%n&quot;, i, RUNS_PER_THREAD[i]);\n        System.out.println(&quot;Counted up to: \\t\\t\\t&quot; + COUNT);\n        System.out.println(&quot;Sum for all threads: \\t&quot; + Arrays.stream(RUNS_PER_THREAD).sum());\n    }\n\n    private static Thread makeWorker(int i) {\n        return new Thread(() -&gt; {\n            while (true) {\n                if (Thread.interrupted()) return;\n                LOCK.lock();\n                try {\n                    COUNT++;\n                    var id = THREAD_IDS.get(Thread.currentThread().getId());\n                    RUNS_PER_THREAD[id]++;\n                } finally {\n                    LOCK.unlock();\n                }}});\n    }\n}\n</code></pre>\n<p>If the test program is run with a fair <code>ReentrantLock</code>, the final count of runs per thread with 16 threads (on my M1 Max Mac with Java 17) is almost exactly equal. If the same test is run with <code>ALock</code>, the first few threads seem to acquire the lock approximately 10 times more frequently than the last few threads.</p>\n<p>Is <code>ALock</code>, as presented, unfair, and if so, why? Alternatively, is my minimal test flawed, and if so, why does it seem to demonstrate the fairness of <code>ReentrantLock</code>?</p>\n"},{"tags":["java","android","firebase","connection"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1665082567,"post_id":73977643,"comment_id":130622468,"body_markdown":"Is any of the onDataChange or onCancelled even triggered?","body":"Is any of the onDataChange or onCancelled even triggered?"}],"answers":[{"tags":[],"owner":{"account_id":18045227,"reputation":61,"user_id":13116405,"display_name":"Abdlhay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665076625,"creation_date":1665076625,"answer_id":73977727,"question_id":73977643,"body_markdown":"Can you show us your database structure and what value you are trying to reach?.\r\nprobably you are  trying to retrive data from an invaild path.\r\n\r\nalso just noticed you have initialized your database twice\r\nremove this second initialization and try again `cageStatus = FirebaseDatabase.getInstance().getReference();`\r\n\r\n","title":"Can&#39;t work addValueEventListener (Andriod Studio with Java)","body":"<p>Can you show us your database structure and what value you are trying to reach?.\nprobably you are  trying to retrive data from an invaild path.</p>\n<p>also just noticed you have initialized your database twice\nremove this second initialization and try again <code>cageStatus = FirebaseDatabase.getInstance().getReference();</code></p>\n"}],"owner":{"account_id":26547945,"reputation":1,"user_id":20177751,"display_name":"helpMe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665223510,"creation_date":1665076193,"question_id":73977643,"body_markdown":"I&#39;m not good at using English. You may think my question is little hard to understand. &lt;br&gt;(Sorry!! It&#39;s my first time to write in stackoverflow...)\r\n\r\nI linked to Firebase (tool &gt; firebase &gt; realtime db &gt; connect) and put the sdk Firebase said. &lt;br&gt;\r\nAnd I wrote the Main code like below code. &lt;br&gt;\r\nWhen I executed android emulator, there is no error (red line X, Warning sign X) &lt;br&gt;\r\nBut, data of the connected Firebase didn&#39;t get to android studio. &lt;br&gt;\r\nEven onCancelled() didn&#39;t working. &lt;br&gt;\r\n-&gt; I think addValueEventListener can&#39;t working.. &lt;br&gt;\r\nPlease,, Help me &lt;br&gt;\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    package com.example.chart2;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.ProgressBar;\r\n    import android.widget.TextView;\r\n    import android.util.Log;\r\n    import android.widget.Toast;\r\n\r\n    import com.google.firebase.database.DataSnapshot;\r\n    import com.google.firebase.database.DatabaseError;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    import com.google.firebase.database.IgnoreExtraProperties;\r\n    import com.google.firebase.database.ValueEventListener;\r\n\r\n    public  class MainActivity extends AppCompatActivity {\r\n        ProgressBar progressBar;\r\n        TextView textView;\r\n\r\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n        DatabaseReference cageStatus = database.getReference(&quot;cageStatus&quot;);\r\n\r\n        private final String TAG = &quot;MainActivityLog&quot;;\r\n\r\n        int temp = 0;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n\r\n            cageStatus = FirebaseDatabase.getInstance().getReference();\r\n\r\n            progressBar = findViewById(R.id.progress2);\r\n            textView = findViewById(R.id.text2);\r\n\r\n            cageStatus.child(&quot;temp&quot;).addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(DataSnapshot dataSnapshot) {\r\n                    temp = (int) dataSnapshot.child(&quot;temp&quot;).getValue();\r\n                    progressBar.setProgress(temp);\r\n                    Log.d(TAG, &quot;temp is: &quot; + temp);\r\n                    textView.setText(temp+&quot;%&quot;);\r\n                }\r\n                @Override\r\n                public void onCancelled(DatabaseError databaseError) {\r\n                    Log.w(TAG, &quot;Failed to read value.&quot;, databaseError.toException());\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n[enter image description here][1]\r\n\r\n  [1]: https://i.stack.imgur.com/bM6V0.png\r\n ","title":"Can&#39;t work addValueEventListener (Andriod Studio with Java)","body":"<p>I'm not good at using English. You may think my question is little hard to understand. <br>(Sorry!! It's my first time to write in stackoverflow...)</p>\n<p>I linked to Firebase (tool &gt; firebase &gt; realtime db &gt; connect) and put the sdk Firebase said. <br>\nAnd I wrote the Main code like below code. <br>\nWhen I executed android emulator, there is no error (red line X, Warning sign X) <br>\nBut, data of the connected Firebase didn't get to android studio. <br>\nEven onCancelled() didn't working. <br>\n-&gt; I think addValueEventListener can't working.. <br>\nPlease,, Help me <br></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.chart2;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.ProgressBar;\nimport android.widget.TextView;\nimport android.util.Log;\nimport android.widget.Toast;\n\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.IgnoreExtraProperties;\nimport com.google.firebase.database.ValueEventListener;\n\npublic  class MainActivity extends AppCompatActivity {\n    ProgressBar progressBar;\n    TextView textView;\n\n    FirebaseDatabase database = FirebaseDatabase.getInstance();\n    DatabaseReference cageStatus = database.getReference(&quot;cageStatus&quot;);\n\n    private final String TAG = &quot;MainActivityLog&quot;;\n\n    int temp = 0;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        cageStatus = FirebaseDatabase.getInstance().getReference();\n\n        progressBar = findViewById(R.id.progress2);\n        textView = findViewById(R.id.text2);\n\n        cageStatus.child(&quot;temp&quot;).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                temp = (int) dataSnapshot.child(&quot;temp&quot;).getValue();\n                progressBar.setProgress(temp);\n                Log.d(TAG, &quot;temp is: &quot; + temp);\n                textView.setText(temp+&quot;%&quot;);\n            }\n            @Override\n            public void onCancelled(DatabaseError databaseError) {\n                Log.w(TAG, &quot;Failed to read value.&quot;, databaseError.toException());\n            }\n        });\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/bM6V0.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring","jvm"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665220318,"post_id":73995705,"comment_id":130652258,"body_markdown":"I don&#39;t know those parameters but they look as if preceded by underscores instead of dashes","body":"I don&#39;t know those parameters but they look as if preceded by underscores instead of dashes"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1665220348,"post_id":73995705,"comment_id":130652263,"body_markdown":"Try putting `-jar` before `/data/code/application.jar`. Looks like java doesn&#39;t recognize `‐XX:MetaspaceSize=256M` as option for some reason?","body":"Try putting <code>-jar</code> before <code>&#47;data&#47;code&#47;application.jar</code>. Looks like java doesn&#39;t recognize <code>‐XX:MetaspaceSize=256M</code> as option for some reason?"},{"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"score":0,"creation_date":1665222801,"post_id":73995705,"comment_id":130652658,"body_markdown":"My bad, it is due to typo. `-` which I copied from Google is not in English.......@talex","body":"My bad, it is due to typo. <code>-</code> which I copied from Google is not in English.......@talex"}],"answers":[{"tags":[],"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665222668,"creation_date":1665222668,"answer_id":73996009,"question_id":73995705,"body_markdown":"My bad, copy from google but never check the words,`-` was a wrong word(not in English) which leads to the error. Just type it manually again in English, the problem solved.....","title":"unable to start jar file with metaspace parameter","body":"<p>My bad, copy from google but never check the words,<code>-</code> was a wrong word(not in English) which leads to the error. Just type it manually again in English, the problem solved.....</p>\n"}],"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665222668,"creation_date":1665219921,"question_id":73995705,"body_markdown":"Here I have a command line to start a jarfile.\r\nAnd it is correct and was able to start my `application.jar` file.\r\n\r\n```\r\nnohup java -jar -Xms512M -Xmx512M -Xmn300M -XX:SurvivorRatio=6 -Dspring.profiles.active=test /data/code/application.jar &gt;&gt; /data/code/logs/application.log &amp;\r\n```\r\n\r\nWhen I tried to add metaspace parameters `‐XX:MetaspaceSize=256M ‐XX:MaxMetaspaceSize=256M` into my start-up-command, which is showing below:\r\n```\r\nnohup java -jar -Xms512M -Xmx512M -Xmn300M -XX:SurvivorRatio=6 ‐XX:MetaspaceSize=256M ‐XX:MaxMetaspaceSize=256M -Dspring.profiles.active=test /data/code/application.jar &gt;&gt; /data/code/logs/application.log &amp;\r\n```\r\n the JVM crashed with log`Error: Unable to access jarfile ‐XX:MetaspaceSize=256M`.\r\nIs there any thing that I missed? It seems that JVM not recognizing  metaspace parameters in commandline, and treated it as an illegal jarfile.\r\n\r\nThe jdk version by `java -version` is showing below:\r\n```\r\nopenjdk version &quot;1.8.0_292&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_292-b10)\r\nOpenJDK 64-Bit Server VM (build 25.292-b10, mixed mode)\r\n```","title":"unable to start jar file with metaspace parameter","body":"<p>Here I have a command line to start a jarfile.\nAnd it is correct and was able to start my <code>application.jar</code> file.</p>\n<pre><code>nohup java -jar -Xms512M -Xmx512M -Xmn300M -XX:SurvivorRatio=6 -Dspring.profiles.active=test /data/code/application.jar &gt;&gt; /data/code/logs/application.log &amp;\n</code></pre>\n<p>When I tried to add metaspace parameters <code>‐XX:MetaspaceSize=256M ‐XX:MaxMetaspaceSize=256M</code> into my start-up-command, which is showing below:</p>\n<pre><code>nohup java -jar -Xms512M -Xmx512M -Xmn300M -XX:SurvivorRatio=6 ‐XX:MetaspaceSize=256M ‐XX:MaxMetaspaceSize=256M -Dspring.profiles.active=test /data/code/application.jar &gt;&gt; /data/code/logs/application.log &amp;\n</code></pre>\n<p>the JVM crashed with log<code>Error: Unable to access jarfile ‐XX:MetaspaceSize=256M</code>.\nIs there any thing that I missed? It seems that JVM not recognizing  metaspace parameters in commandline, and treated it as an illegal jarfile.</p>\n<p>The jdk version by <code>java -version</code> is showing below:</p>\n<pre><code>openjdk version &quot;1.8.0_292&quot;\nOpenJDK Runtime Environment (build 1.8.0_292-b10)\nOpenJDK 64-Bit Server VM (build 25.292-b10, mixed mode)\n</code></pre>\n"},{"tags":["java","arrays","data-structures","hash"],"comments":[{"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"score":0,"creation_date":1665215185,"post_id":73995214,"comment_id":130651457,"body_markdown":"are you sure you read it correctly? &quot;Subsequently, all elements following e will have their index incremented by 1.&quot; doen&#39;t seem like a O(1) operation to me","body":"are you sure you read it correctly? &quot;Subsequently, all elements following e will have their index incremented by 1.&quot; doen&#39;t seem like a O(1) operation to me"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1665215525,"post_id":73995214,"comment_id":130651507,"body_markdown":"What happens after remove? I guess elements following `i` need to be shifted to the left(index decrement by one)?","body":"What happens after remove? I guess elements following <code>i</code> need to be shifted to the left(index decrement by one)?"},{"owner":{"account_id":9291246,"reputation":29,"user_id":20005994,"display_name":"Enzo"},"score":0,"creation_date":1665216285,"post_id":73995214,"comment_id":130651607,"body_markdown":"@Icarus i asked whether it&#39;s correct, and i was told yes - and that i was also allowed to operate using multiple separate data structures if needed","body":"@Icarus i asked whether it&#39;s correct, and i was told yes - and that i was also allowed to operate using multiple separate data structures if needed"},{"owner":{"account_id":9291246,"reputation":29,"user_id":20005994,"display_name":"Enzo"},"score":0,"creation_date":1665216300,"post_id":73995214,"comment_id":130651611,"body_markdown":"@Chaosfire you are correct","body":"@Chaosfire you are correct"},{"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"score":0,"creation_date":1665216820,"post_id":73995214,"comment_id":130651691,"body_markdown":"in arraylist the remove() has O(n). O(1) for deleting at index O(n) for shifting","body":"in arraylist the remove() has O(n). O(1) for deleting at index O(n) for shifting"},{"owner":{"account_id":9291246,"reputation":29,"user_id":20005994,"display_name":"Enzo"},"score":0,"creation_date":1665217104,"post_id":73995214,"comment_id":130651729,"body_markdown":"@Icarus i am aware of that. the problem is that shifting itself has a time complexity, and it defeats the purpose of making remove() O(1) if its going to take another O(n) to shift the rest of the elements","body":"@Icarus i am aware of that. the problem is that shifting itself has a time complexity, and it defeats the purpose of making remove() O(1) if its going to take another O(n) to shift the rest of the elements"},{"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"score":0,"creation_date":1665217331,"post_id":73995214,"comment_id":130651764,"body_markdown":"i don&#39;t believe it is possible. in fact, if sth like that does exist, we would all be using it.","body":"i don&#39;t believe it is possible. in fact, if sth like that does exist, we would all be using it."},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":2,"creation_date":1665233084,"post_id":73995214,"comment_id":130654415,"body_markdown":"This is not possible.  You can do all operations in O(log n) time using a B-tree-like structure similar to a rope: https://en.wikipedia.org/wiki/Rope_(data_structure)  If you explain your use case, we might be able to advise about how it&#39;s usually done.","body":"This is not possible.  You can do all operations in O(log n) time using a B-tree-like structure similar to a rope: <a href=\"https://en.wikipedia.org/wiki/Rope_(data_structure)\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Rope_(data_structure)</a>  If you explain your use case, we might be able to advise about how it&#39;s usually done."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1665222523,"creation_date":1665218761,"answer_id":73995598,"question_id":73995214,"body_markdown":"I can&#39;t think of any combination of data structures, which can achieve such performance for all methods, because you have to keep the data in all of them in sync.\r\n\r\nSome kind of a workaround that comes to mind is to use array as the backing structure - O(1) for getting by index. Removal at index and setting at index are O(1) as well for the operation itself, the problem is the subsequent need to shift the backing array.\r\n\r\nTo somewhat fix performance of the shifting, you should **not** use loops, but [System.arraycopy()][1] instead. It&#39;s extremely efficient, because it won&#39;t do `n` copy operations, but instead copy entire chunk of the memory at once. You can read more on the topic in [Why is System.arraycopy native in Java?][2] and [Is it better to use System.arraycopy(...) than a for loop for copying arrays?][3] This is probably what `ArrayList` is doing under the hood when resizing and shifting.\r\n\r\nStrictly speaking, this is not O(1) time complexity, but due to the efficiency of `System.arraycopy()` you can get close to it, especially for large arrays.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#arraycopy(java.lang.Object,%20int,%20java.lang.Object,%20int,%20int)\r\n  [2]: https://stackoverflow.com/questions/2772152/why-is-system-arraycopy-native-in-java\r\n  [3]: https://stackoverflow.com/questions/18638743/is-it-better-to-use-system-arraycopy-than-a-for-loop-for-copying-arrays","title":"A data structure that supports get(i), remove(i) and add(i, e) in O(1) time","body":"<p>I can't think of any combination of data structures, which can achieve such performance for all methods, because you have to keep the data in all of them in sync.</p>\n<p>Some kind of a workaround that comes to mind is to use array as the backing structure - O(1) for getting by index. Removal at index and setting at index are O(1) as well for the operation itself, the problem is the subsequent need to shift the backing array.</p>\n<p>To somewhat fix performance of the shifting, you should <strong>not</strong> use loops, but <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#arraycopy(java.lang.Object,%20int,%20java.lang.Object,%20int,%20int)\" rel=\"nofollow noreferrer\">System.arraycopy()</a> instead. It's extremely efficient, because it won't do <code>n</code> copy operations, but instead copy entire chunk of the memory at once. You can read more on the topic in <a href=\"https://stackoverflow.com/questions/2772152/why-is-system-arraycopy-native-in-java\">Why is System.arraycopy native in Java?</a> and <a href=\"https://stackoverflow.com/questions/18638743/is-it-better-to-use-system-arraycopy-than-a-for-loop-for-copying-arrays\">Is it better to use System.arraycopy(...) than a for loop for copying arrays?</a> This is probably what <code>ArrayList</code> is doing under the hood when resizing and shifting.</p>\n<p>Strictly speaking, this is not O(1) time complexity, but due to the efficiency of <code>System.arraycopy()</code> you can get close to it, especially for large arrays.</p>\n"}],"owner":{"account_id":9291246,"reputation":29,"user_id":20005994,"display_name":"Enzo"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1665222523,"creation_date":1665214532,"question_id":73995214,"body_markdown":"I&#39;ve been tasked with the creation of a data structure that can do the following in `O(1)` time:\r\n\r\n`get(i)`: return the element at index `i`. \r\n\r\n`remove(i)`: remove the element at index `i`.\r\n\r\n`add(i, e)`: add the element `e` at index `i`. Subsequently, all elements following `e` will have their index incremented by 1.\r\n\r\nAny suggestions? I&#39;m quite puzzled as to how I can even create something that can do all of this.","title":"A data structure that supports get(i), remove(i) and add(i, e) in O(1) time","body":"<p>I've been tasked with the creation of a data structure that can do the following in <code>O(1)</code> time:</p>\n<p><code>get(i)</code>: return the element at index <code>i</code>.</p>\n<p><code>remove(i)</code>: remove the element at index <code>i</code>.</p>\n<p><code>add(i, e)</code>: add the element <code>e</code> at index <code>i</code>. Subsequently, all elements following <code>e</code> will have their index incremented by 1.</p>\n<p>Any suggestions? I'm quite puzzled as to how I can even create something that can do all of this.</p>\n"},{"tags":["java","spring","spring-boot","security","prometheus"],"answers":[{"tags":[],"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665154210,"creation_date":1665154210,"answer_id":73988987,"question_id":73988873,"body_markdown":"This exception can occur when you try to execute https request from on endpoint which isn&#39;t https enabled. It will encrypt request data when server is expecting raw data.\r\n\r\nChange https:// to http:// for that endpoint manually which is designed to take http requests. \r\n","title":"Spring Boot App with Spring Security and HTTPS Enabled, not Possible to Expose HTTP URL endpoint","body":"<p>This exception can occur when you try to execute https request from on endpoint which isn't https enabled. It will encrypt request data when server is expecting raw data.</p>\n<p>Change https:// to http:// for that endpoint manually which is designed to take http requests.</p>\n"}],"owner":{"account_id":20345409,"reputation":316,"user_id":14923466,"display_name":"Alex_Pap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":899,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665222077,"creation_date":1665153739,"question_id":73988873,"body_markdown":"I am having an issue with my Spring Boot app in which I&#39;ve implemented Spring Security with custom login page and verification system. The whole app runs on HTTPS but I want to expose a certain URL on HTTP in order to Prometheus gets metrics from. I want to avoid in getting Prometheus TLS support.\r\n\r\nI &#39;ve tried the following tutorials:\r\n\r\n1. [How to Enable HTTP and HTTPS in Spring Boot](https://www.javadevjournal.com/spring-boot/how-to-enable-http-https-in-spring-boot/)\r\n\r\n2. [How set up Spring Boot to run HTTPS / HTTP ports](https://stackoverflow.com/questions/30896234/how-set-up-spring-boot-to-run-https-http-ports)\r\n\r\n3. [Monitoring and management over HTTP](https://docs.spring.io/spring-boot/docs/1.5.22.RELEASE/reference/html/production-ready-monitoring.html#production-ready-management-specific-ssl)\r\n\r\nBut I am having the following stack trace when I am writing http://localhost:8081/greeting on my browser which corrensponds to a method (written below). The https://localhost:8443/greeting works just fine. Possibly this happens since I am calling the method from a HTTPS environment but I don&#39;t know what to change in security config class (presuming that is where I should start from).\r\n\r\nAny advices? Thank you...\r\n\r\n```\r\n2022-10-07 17:21:01.190  INFO 14776 --- [nio-8081-exec-2] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header\r\n Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.\r\n\r\njava.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x020x000x010x000x010xfc0x030x030xedv0x87l0xf9G0xb80xf10xae}0xd00x130x1e0xe10x0az0x810xc50xee0xd220xb10xf10xb2O%k0x92Ipd0x95 ]. HTTP method names must be tokens\r\n\tat org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:419) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\n**Security Config Class**\r\n\r\n```\r\npackage com.andrekreou.iot.authentication.security;\r\n\r\nimport com.andrekreou.iot.authentication.user.ApplicationUserService;\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@AllArgsConstructor\r\n@EnableWebSecurity\r\npublic class ApplicationSecurityConfig {\r\n\r\n    private final ApplicationUserService applicationUserService;\r\n\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    @Bean\r\n    protected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf().disable()\r\n                .requiresChannel()\r\n                    .antMatchers(&quot;/greeting&quot;)\r\n                    .requiresInsecure()\r\n                .and()\r\n                .authorizeRequests()\r\n                    .antMatchers(&quot;/api/v*/registration/**&quot;,&quot;/register*&quot;,&quot;/login&quot;,&quot;/registration&quot;,&quot;/registration-complete&quot;,&quot;/greeting&quot;).permitAll()\r\n                    .anyRequest()\r\n                    .authenticated()\r\n                    .and()\r\n                .formLogin()\r\n                    .loginPage(&quot;/login&quot;)\r\n                    .usernameParameter(&quot;email&quot;)\r\n                    .permitAll()\r\n                    .defaultSuccessUrl(&quot;/&quot;,true)\r\n                .and()\r\n                .logout()\r\n                    .logoutUrl(&quot;/logout&quot;)\r\n                    .clearAuthentication(true)\r\n                    .invalidateHttpSession(true)\r\n                    .deleteCookies(&quot;JSESSIONID&quot;,&quot;Idea-2e8e7cee&quot;)\r\n                    .logoutSuccessUrl(&quot;/login&quot;);\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\r\n        DaoAuthenticationProvider provider =\r\n                new DaoAuthenticationProvider();\r\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\r\n        provider.setUserDetailsService(applicationUserService);\r\n        return provider;\r\n    }\r\n}\r\n```\r\n\r\n**Main Class**\r\n\r\n```\r\npackage com.andrekreou.iot;\r\n\r\nimport io.micrometer.core.aop.TimedAspect;\r\nimport io.micrometer.core.instrument.MeterRegistry;\r\nimport org.apache.catalina.connector.Connector;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\r\nimport org.springframework.boot.web.servlet.server.ServletWebServerFactory;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n@SpringBootApplication\r\n@EnableJpaRepositories\r\npublic class IotApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(IotApplication.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic TimedAspect timedAspect(MeterRegistry registry) {\r\n\t\treturn new TimedAspect(registry);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ServletWebServerFactory servletContainer() {\r\n\t\tTomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory();\r\n\t\ttomcat.addAdditionalTomcatConnectors(createStandardConnector());\r\n\t\treturn tomcat;\r\n\t}\r\n\r\n\tprivate Connector createStandardConnector() {\r\n\t\tConnector connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\r\n\t\tconnector.setPort(httpPort);\r\n\t\treturn connector;\r\n\t}\r\n\r\n\t@Value(&quot;${server.http.port}&quot;)\r\n\tprivate int httpPort;\r\n}\r\n```\r\n\r\n**Application.properties**\r\n\r\n```\r\n#Server properties for HTTPS configuration\r\nserver.ssl.enabled=true\r\nserver.ssl.key-store-type=PKCS12\r\nserver.ssl.key-store=classpath:local-ssl.p12\r\nserver.ssl.key-store-password=Puredrummer1\r\nserver.ssl.key-password=Puredrummer1\r\nserver.servlet.context-path=/\r\nserver.ssl.key-alias=local_ssl\r\nserver.port=8443\r\nserver.http.port=8081\r\n```\r\n\r\n**Rest Controller Class**\r\n```\r\npackage com.andrekreou.iot.control.controller;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class Sample {\r\n\r\n    @GetMapping(value = &quot;/greeting&quot;)\r\n    public String greeting() {\r\n        return &quot;I am working with both HTTP and HTTPS&quot;;\r\n    }\r\n}\r\n```\r\n\r\n**UPDATE**\r\n\r\nChanged the code of Security Config Class and although the error hasn&#39;t gone I am getting redirection from 8443 to 8080, as I think it should.","title":"Spring Boot App with Spring Security and HTTPS Enabled, not Possible to Expose HTTP URL endpoint","body":"<p>I am having an issue with my Spring Boot app in which I've implemented Spring Security with custom login page and verification system. The whole app runs on HTTPS but I want to expose a certain URL on HTTP in order to Prometheus gets metrics from. I want to avoid in getting Prometheus TLS support.</p>\n<p>I 've tried the following tutorials:</p>\n<ol>\n<li><p><a href=\"https://www.javadevjournal.com/spring-boot/how-to-enable-http-https-in-spring-boot/\" rel=\"nofollow noreferrer\">How to Enable HTTP and HTTPS in Spring Boot</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/30896234/how-set-up-spring-boot-to-run-https-http-ports\">How set up Spring Boot to run HTTPS / HTTP ports</a></p>\n</li>\n<li><p><a href=\"https://docs.spring.io/spring-boot/docs/1.5.22.RELEASE/reference/html/production-ready-monitoring.html#production-ready-management-specific-ssl\" rel=\"nofollow noreferrer\">Monitoring and management over HTTP</a></p>\n</li>\n</ol>\n<p>But I am having the following stack trace when I am writing http://localhost:8081/greeting on my browser which corrensponds to a method (written below). The https://localhost:8443/greeting works just fine. Possibly this happens since I am calling the method from a HTTPS environment but I don't know what to change in security config class (presuming that is where I should start from).</p>\n<p>Any advices? Thank you...</p>\n<pre><code>2022-10-07 17:21:01.190  INFO 14776 --- [nio-8081-exec-2] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header\n Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.\n\njava.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x020x000x010x000x010xfc0x030x030xedv0x87l0xf9G0xb80xf10xae}0xd00x130x1e0xe10x0az0x810xc50xee0xd220xb10xf10xb2O%k0x92Ipd0x95 ]. HTTP method names must be tokens\n    at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:419) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p><strong>Security Config Class</strong></p>\n<pre><code>package com.andrekreou.iot.authentication.security;\n\nimport com.andrekreou.iot.authentication.user.ApplicationUserService;\nimport lombok.AllArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@AllArgsConstructor\n@EnableWebSecurity\npublic class ApplicationSecurityConfig {\n\n    private final ApplicationUserService applicationUserService;\n\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Bean\n    protected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .requiresChannel()\n                    .antMatchers(&quot;/greeting&quot;)\n                    .requiresInsecure()\n                .and()\n                .authorizeRequests()\n                    .antMatchers(&quot;/api/v*/registration/**&quot;,&quot;/register*&quot;,&quot;/login&quot;,&quot;/registration&quot;,&quot;/registration-complete&quot;,&quot;/greeting&quot;).permitAll()\n                    .anyRequest()\n                    .authenticated()\n                    .and()\n                .formLogin()\n                    .loginPage(&quot;/login&quot;)\n                    .usernameParameter(&quot;email&quot;)\n                    .permitAll()\n                    .defaultSuccessUrl(&quot;/&quot;,true)\n                .and()\n                .logout()\n                    .logoutUrl(&quot;/logout&quot;)\n                    .clearAuthentication(true)\n                    .invalidateHttpSession(true)\n                    .deleteCookies(&quot;JSESSIONID&quot;,&quot;Idea-2e8e7cee&quot;)\n                    .logoutSuccessUrl(&quot;/login&quot;);\n\n        return http.build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\n        DaoAuthenticationProvider provider =\n                new DaoAuthenticationProvider();\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\n        provider.setUserDetailsService(applicationUserService);\n        return provider;\n    }\n}\n</code></pre>\n<p><strong>Main Class</strong></p>\n<pre><code>package com.andrekreou.iot;\n\nimport io.micrometer.core.aop.TimedAspect;\nimport io.micrometer.core.instrument.MeterRegistry;\nimport org.apache.catalina.connector.Connector;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\nimport org.springframework.boot.web.servlet.server.ServletWebServerFactory;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@SpringBootApplication\n@EnableJpaRepositories\npublic class IotApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(IotApplication.class, args);\n    }\n\n    @Bean\n    public TimedAspect timedAspect(MeterRegistry registry) {\n        return new TimedAspect(registry);\n    }\n\n    @Bean\n    public ServletWebServerFactory servletContainer() {\n        TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory();\n        tomcat.addAdditionalTomcatConnectors(createStandardConnector());\n        return tomcat;\n    }\n\n    private Connector createStandardConnector() {\n        Connector connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\n        connector.setPort(httpPort);\n        return connector;\n    }\n\n    @Value(&quot;${server.http.port}&quot;)\n    private int httpPort;\n}\n</code></pre>\n<p><strong>Application.properties</strong></p>\n<pre><code>#Server properties for HTTPS configuration\nserver.ssl.enabled=true\nserver.ssl.key-store-type=PKCS12\nserver.ssl.key-store=classpath:local-ssl.p12\nserver.ssl.key-store-password=Puredrummer1\nserver.ssl.key-password=Puredrummer1\nserver.servlet.context-path=/\nserver.ssl.key-alias=local_ssl\nserver.port=8443\nserver.http.port=8081\n</code></pre>\n<p><strong>Rest Controller Class</strong></p>\n<pre><code>package com.andrekreou.iot.control.controller;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class Sample {\n\n    @GetMapping(value = &quot;/greeting&quot;)\n    public String greeting() {\n        return &quot;I am working with both HTTP and HTTPS&quot;;\n    }\n}\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>Changed the code of Security Config Class and although the error hasn't gone I am getting redirection from 8443 to 8080, as I think it should.</p>\n"},{"tags":["java","android","macos","cordova"],"answers":[{"tags":[],"owner":{"account_id":26562695,"reputation":16,"user_id":20190265,"display_name":"nick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665221709,"creation_date":1665221709,"answer_id":73995902,"question_id":73995826,"body_markdown":"The build process shows that installation is required JDK 1.8, but you install JDK 19\r\n\r\n    JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home\r\n    Requirements check failed for JDK 1.8\r\n","title":"Requirements check failed for JDK 1.8 in Cordova build android","body":"<p>The build process shows that installation is required JDK 1.8, but you install JDK 19</p>\n<pre><code>JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home\nRequirements check failed for JDK 1.8\n</code></pre>\n"}],"owner":{"account_id":23264980,"reputation":11,"user_id":17350675,"display_name":"Boon Chye Phang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1665221709,"creation_date":1665221064,"question_id":73995826,"body_markdown":"Running the command ```cordova build android``` to use Cordova to build an Android app failed.\r\n    \r\n\r\nThe response is:\r\n```\r\ncordova-android-support-gradle-release: Android platform: V7.1.2+\r\ncordova-android-support-gradle-release: Wrote custom version &#39;27.+&#39; to /Users/Phang/Projects/JAppName/platforms/android/app/build.gradle\r\ncordova-android-support-gradle-release: Wrote custom version &#39;27.+&#39; to /Users/Phang/Projects/JAppName/platforms/android/app/src/main/cordova-android-support-gradle-release/properties.gradle\r\ncordova-custom-config: Skipping auto-restore of config file backup(s)\r\nAndroid Studio project detected\r\ncordova-android-support-gradle-release: Android platform: V7.1.2+\r\ncordova-android-support-gradle-release: Wrote custom version &#39;27.+&#39; to /Users/Phang/Projects/JAppName/platforms/android/app/build.gradle\r\ncordova-android-support-gradle-release: Wrote custom version &#39;27.+&#39; to /Users/Phang/Projects/JAppName/platforms/android/app/src/main/cordova-android-support-gradle-release/properties.gradle\r\nANDROID_HOME=/Users/Phang/Library/Android/sdk\r\nJAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home\r\nRequirements check failed for JDK 1.8\r\n```\r\nI am using MacOS 12.5.1, installed Java 19 and Java SE Development Kit 8u341 from https://www.oracle.com/java/technologies/downloads/#java19\r\n\r\nMy *.bash_profile* file doesn&#39;t have anything with Java. What am I missing out to build?","title":"Requirements check failed for JDK 1.8 in Cordova build android","body":"<p>Running the command <code>cordova build android</code> to use Cordova to build an Android app failed.</p>\n<p>The response is:</p>\n<pre><code>cordova-android-support-gradle-release: Android platform: V7.1.2+\ncordova-android-support-gradle-release: Wrote custom version '27.+' to /Users/Phang/Projects/JAppName/platforms/android/app/build.gradle\ncordova-android-support-gradle-release: Wrote custom version '27.+' to /Users/Phang/Projects/JAppName/platforms/android/app/src/main/cordova-android-support-gradle-release/properties.gradle\ncordova-custom-config: Skipping auto-restore of config file backup(s)\nAndroid Studio project detected\ncordova-android-support-gradle-release: Android platform: V7.1.2+\ncordova-android-support-gradle-release: Wrote custom version '27.+' to /Users/Phang/Projects/JAppName/platforms/android/app/build.gradle\ncordova-android-support-gradle-release: Wrote custom version '27.+' to /Users/Phang/Projects/JAppName/platforms/android/app/src/main/cordova-android-support-gradle-release/properties.gradle\nANDROID_HOME=/Users/Phang/Library/Android/sdk\nJAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home\nRequirements check failed for JDK 1.8\n</code></pre>\n<p>I am using MacOS 12.5.1, installed Java 19 and Java SE Development Kit 8u341 from <a href=\"https://www.oracle.com/java/technologies/downloads/#java19\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/downloads/#java19</a></p>\n<p>My <em>.bash_profile</em> file doesn't have anything with Java. What am I missing out to build?</p>\n"},{"tags":["java","process"],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665221652,"creation_date":1665220628,"answer_id":73995783,"question_id":73991013,"body_markdown":"This looks like homework, so I don&#39;t wish to post a working answer. However here are some hints that may help you towards your own solution.\r\n\r\n1) use try with resources for all streams you open, this ensures they are closed in timely manner:\r\n\r\n        try(BufferedXXXX stream = ... ) {\r\n            ... do something to input or output\r\n        }\r\n\r\n2) You do need to re-instate the `while` loop in `Subprocess`, otherwise the sub-process can never handle more than one line of input. Test your sub-process independently of `MainProcess`, it must exit when the input ends:\r\n\r\n       // should print HELLO and exit:\r\n       echo hello | java Subprocess    \r\n       // Windows should uppercase the file and exit:\r\n       type somefile.txt | java Subprocess\r\n       // Linux should uppercase the file and exit:\r\n       cat somefile.txt | java Subprocess\r\n\r\n3) The `subprocess.waitFor()` must be at the end after dealing with the sub-process `subprocess.getInputStream()` and `subprocess.getOutputStream()`. Those streams won&#39;t be valid after this call ends:\r\n\r\n        int rc = subprocess.waitFor();\r\n\r\n4) You have one loop that tries to deal with reading both scanner and stdout of sub-process at same time - this won&#39;t work reliably. The main loop should not care how many lines the sub-process writes for each line sent to it. You can avoid linking the two problems by using a background thread to copy all the STDOUT of the subprocess and leaving the main loop to handle your scanner input only. Make sure the background thread has ended before calling `subprocess.waitFor()`.\r\n\r\n5) The loop over scanner is incorrect, it does not deal with `scanner.readLine()` is null.","title":"How can I make a Java subprocess communicate back and forth with parent process in a loop?","body":"<p>This looks like homework, so I don't wish to post a working answer. However here are some hints that may help you towards your own solution.</p>\n<ol>\n<li><p>use try with resources for all streams you open, this ensures they are closed in timely manner:</p>\n<pre><code> try(BufferedXXXX stream = ... ) {\n     ... do something to input or output\n }\n</code></pre>\n</li>\n<li><p>You do need to re-instate the <code>while</code> loop in <code>Subprocess</code>, otherwise the sub-process can never handle more than one line of input. Test your sub-process independently of <code>MainProcess</code>, it must exit when the input ends:</p>\n<pre><code>// should print HELLO and exit:\necho hello | java Subprocess    \n// Windows should uppercase the file and exit:\ntype somefile.txt | java Subprocess\n// Linux should uppercase the file and exit:\ncat somefile.txt | java Subprocess\n</code></pre>\n</li>\n<li><p>The <code>subprocess.waitFor()</code> must be at the end after dealing with the sub-process <code>subprocess.getInputStream()</code> and <code>subprocess.getOutputStream()</code>. Those streams won't be valid after this call ends:</p>\n<pre><code> int rc = subprocess.waitFor();\n</code></pre>\n</li>\n<li><p>You have one loop that tries to deal with reading both scanner and stdout of sub-process at same time - this won't work reliably. The main loop should not care how many lines the sub-process writes for each line sent to it. You can avoid linking the two problems by using a background thread to copy all the STDOUT of the subprocess and leaving the main loop to handle your scanner input only. Make sure the background thread has ended before calling <code>subprocess.waitFor()</code>.</p>\n</li>\n<li><p>The loop over scanner is incorrect, it does not deal with <code>scanner.readLine()</code> is null.</p>\n</li>\n</ol>\n"}],"owner":{"display_name":"user8225131"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665221652,"creation_date":1665165575,"question_id":73991013,"body_markdown":"I&#39;m currently learning about processes and I&#39;ve been trying with no luck to make a process (the class that I execute directly from terminal) call a subprocess, send it a message, and then receive a message in return, and that process should repeat infinitely. This should be possible without re-creating the subprocess over and over.\r\n\r\nI&#39;ve been told that I&#39;d need to use a loop inside the subprocess class, but doing so just makes my program hang, because it keeps waiting infinitely for the subprocess to finish. I&#39;ve been searching the web for a long while but haven&#39;t found a solution yet.\r\n\r\nHere&#39;s the code:\r\n\r\n    import java.io.*;\r\n    \r\n    \r\n    public class MainProcess {\r\n    \r\n        static BufferedReader scanner = new BufferedReader(new InputStreamReader(System.in));\r\n    \r\n        public static void main(String[] args) {\r\n       \tString s = &quot;&quot;;\r\n    \tProcess subprocess = null;\r\n    \ttry { \r\n                subprocess = new ProcessBuilder(&quot;java&quot;, &quot;Subprocess&quot;).start();\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            while (!s.equals(&quot;exit&quot;)) {\r\n                try {\r\n                    s = scanner.readLine();            \r\n                    OutputStream os = subprocess.getOutputStream();\r\n                    BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(os));\r\n                    bw.write(s+&quot;\\r&quot;);\r\n                    bw.flush();\r\n    \r\n                    try{\r\n                        subprocess.waitFor();\r\n                    }catch (Exception ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n                    InputStream inputStream = subprocess.getInputStream();\r\n                    BufferedReader br = new BufferedReader(new InputStreamReader(inputStream));\r\n    \r\n                    String linea;\r\n                    while ((linea = br.readLine()) != null)\r\n                        System.out.println(linea);\r\n    \t\t\r\n                } catch (IOException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAnd this is the child process code:\r\n\r\n    import java.io.*;\r\n    \r\n    public class Subprocess {\r\n        public static void main(String[] args) {\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\r\n            try {\r\n                 System.out.println(reader.readLine().toUpperCase());  \r\n            } catch (IOException ex){\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nNow, if I execute it like this, the program would ask me for input. For example if I send &quot;message&quot;, I get back &quot;MESSAGE&quot; in this case. It doesn&#39;t work again of course, because then the subprocess is over (I get a error message about the Stream being closed). I&#39;ve used a while loop for the readLine() call in the subprocess class, but that just makes the Main program wait forever for the subprocess to finish, and that never happens. I don&#39;t know what I&#39;m missing.","title":"How can I make a Java subprocess communicate back and forth with parent process in a loop?","body":"<p>I'm currently learning about processes and I've been trying with no luck to make a process (the class that I execute directly from terminal) call a subprocess, send it a message, and then receive a message in return, and that process should repeat infinitely. This should be possible without re-creating the subprocess over and over.</p>\n<p>I've been told that I'd need to use a loop inside the subprocess class, but doing so just makes my program hang, because it keeps waiting infinitely for the subprocess to finish. I've been searching the web for a long while but haven't found a solution yet.</p>\n<p>Here's the code:</p>\n<pre><code>import java.io.*;\n\n\npublic class MainProcess {\n\n    static BufferedReader scanner = new BufferedReader(new InputStreamReader(System.in));\n\n    public static void main(String[] args) {\n    String s = &quot;&quot;;\n    Process subprocess = null;\n    try { \n            subprocess = new ProcessBuilder(&quot;java&quot;, &quot;Subprocess&quot;).start();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n        while (!s.equals(&quot;exit&quot;)) {\n            try {\n                s = scanner.readLine();            \n                OutputStream os = subprocess.getOutputStream();\n                BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(os));\n                bw.write(s+&quot;\\r&quot;);\n                bw.flush();\n\n                try{\n                    subprocess.waitFor();\n                }catch (Exception ex) {\n                    ex.printStackTrace();\n                }\n                InputStream inputStream = subprocess.getInputStream();\n                BufferedReader br = new BufferedReader(new InputStreamReader(inputStream));\n\n                String linea;\n                while ((linea = br.readLine()) != null)\n                    System.out.println(linea);\n        \n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n}\n</code></pre>\n<p>And this is the child process code:</p>\n<pre><code>import java.io.*;\n\npublic class Subprocess {\n    public static void main(String[] args) {\n        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n        try {\n             System.out.println(reader.readLine().toUpperCase());  \n        } catch (IOException ex){\n\n        }\n    }\n}\n</code></pre>\n<p>Now, if I execute it like this, the program would ask me for input. For example if I send &quot;message&quot;, I get back &quot;MESSAGE&quot; in this case. It doesn't work again of course, because then the subprocess is over (I get a error message about the Stream being closed). I've used a while loop for the readLine() call in the subprocess class, but that just makes the Main program wait forever for the subprocess to finish, and that never happens. I don't know what I'm missing.</p>\n"},{"tags":["java","certificate","jnlp"],"answers":[{"tags":[],"owner":{"account_id":1479453,"reputation":1399,"user_id":1389153,"display_name":"Christopher Stock"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376318531,"creation_date":1376318531,"answer_id":18189950,"question_id":18189742,"body_markdown":"No, sorry. :)\r\n\r\nEach JNLP-component has to be signed AND they all have to be signed with the SAME certificate for the application to run. You also have to sign foreign libraries ( jars etc. ) that you want to include in your app.\r\n\r\nI have no information, that self-signing jnlp components may be deprecated?\r\nYou can use the keytool to create a keystore and the certificate.\r\n\r\nFind Oracle&#39;s documentation about JNLP here:\r\n**[http://www.oracle.com/technetwork/java/javase/index-142562.html][1]**\r\n\r\nHope this may help you?\r\n\r\nGreetings\r\nChristopher\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/index-142562.html","title":"Is there a way to do JNLP without certificates?","body":"<p>No, sorry. :)</p>\n\n<p>Each JNLP-component has to be signed AND they all have to be signed with the SAME certificate for the application to run. You also have to sign foreign libraries ( jars etc. ) that you want to include in your app.</p>\n\n<p>I have no information, that self-signing jnlp components may be deprecated?\nYou can use the keytool to create a keystore and the certificate.</p>\n\n<p>Find Oracle's documentation about JNLP here:\n<strong><a href=\"http://www.oracle.com/technetwork/java/javase/index-142562.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/javase/index-142562.html</a></strong></p>\n\n<p>Hope this may help you?</p>\n\n<p>Greetings\nChristopher</p>\n"},{"tags":[],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1376403444,"creation_date":1376403444,"answer_id":18211597,"question_id":18189742,"body_markdown":"Yes, possible (but not recommended).\r\n\r\nIf you are using it only internally (locally) you could lower your java security settings from high to middle then you are able to execute your app again. But then I would probably deactivate your web browser plugin...","title":"Is there a way to do JNLP without certificates?","body":"<p>Yes, possible (but not recommended).</p>\n\n<p>If you are using it only internally (locally) you could lower your java security settings from high to middle then you are able to execute your app again. But then I would probably deactivate your web browser plugin...</p>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1376427589,"creation_date":1376427589,"answer_id":18219124,"question_id":18189742,"body_markdown":"It seems that the [coming Java 7u40][1] recognises the need for a solution and provides a new feature:\r\n\r\n&gt; In an enterprise that provides a common execution environment and manages the applications that employees access, the Deployment Rule Set feature enables the enterprise to establish a whitelist and a blacklist of known applications.\r\n\r\n [1]: http://jdk7.java.net/EA_features_changes.html","title":"Is there a way to do JNLP without certificates?","body":"<p>It seems that the <a href=\"http://jdk7.java.net/EA_features_changes.html\" rel=\"noreferrer\">coming Java 7u40</a> recognises the need for a solution and provides a new feature:</p>\n\n<blockquote>\n  <p>In an enterprise that provides a common execution environment and manages the applications that employees access, the Deployment Rule Set feature enables the enterprise to establish a whitelist and a blacklist of known applications.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2324653,"reputation":2869,"user_id":2039455,"display_name":"Laura Liparulo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1383642171,"creation_date":1383642171,"answer_id":19785097,"question_id":18189742,"body_markdown":"I have just made a &quot;Java-Application with a certification with a trusted authority&quot; in Java 7u45 with a self-signed certificate.\r\n\r\nIn the Manifest I have set the Permissions as &quot;all-permissions&quot; and I have deleted the tags about security in the jnlp. Then I have exported my own self signed certificate and imported in the Java Control Panel of my Desktop \r\n\r\nIn this way there is no Warning about the future release blocking the application.\r\n\r\nI hope this helps.\r\n","title":"Is there a way to do JNLP without certificates?","body":"<p>I have just made a \"Java-Application with a certification with a trusted authority\" in Java 7u45 with a self-signed certificate.</p>\n\n<p>In the Manifest I have set the Permissions as \"all-permissions\" and I have deleted the tags about security in the jnlp. Then I have exported my own self signed certificate and imported in the Java Control Panel of my Desktop </p>\n\n<p>In this way there is no Warning about the future release blocking the application.</p>\n\n<p>I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":3114310,"reputation":2877,"user_id":2635443,"accept_rate":88,"display_name":"Orsiris de Jong"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665220716,"creation_date":1665220716,"answer_id":73995794,"question_id":18189742,"body_markdown":"I&#39;ve built a portable JAVAWS launcher for JNLP files that come from IPMI / IMM / ILO / IRMC / IDRAC / KVM servers that should work on a fair high number of old servers. Security settings in my portable launcher are already preset to support prehistoric devices.\r\n\r\nYou can find the project at https://github.com/netinvent/ipmi-starter\r\n\r\nYou can also check out the explanation of `jre\\lib\\security\\java.security` settings in the README, allowing to tweak various security settings, allowing to use old java apps with expired certificates.","title":"Is there a way to do JNLP without certificates?","body":"<p>I've built a portable JAVAWS launcher for JNLP files that come from IPMI / IMM / ILO / IRMC / IDRAC / KVM servers that should work on a fair high number of old servers. Security settings in my portable launcher are already preset to support prehistoric devices.</p>\n<p>You can find the project at <a href=\"https://github.com/netinvent/ipmi-starter\" rel=\"nofollow noreferrer\">https://github.com/netinvent/ipmi-starter</a></p>\n<p>You can also check out the explanation of <code>jre\\lib\\security\\java.security</code> settings in the README, allowing to tweak various security settings, allowing to use old java apps with expired certificates.</p>\n"}],"owner":{"account_id":8655,"reputation":20729,"user_id":15689,"accept_rate":91,"display_name":"Brian Knoblauch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12815,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":18211597,"answer_count":5,"score":8,"last_activity_date":1665220716,"creation_date":1376318020,"question_id":18189742,"body_markdown":"I&#39;ve got an internal only app that I&#39;ve historically self-signed.  With the latest version of Java, self-signing for JNLP is deprecated.  I have also experienced strange problems with opening sockets from self-signed apps with Java 7U25 (but work fine when run as a normal jar from the command line).\r\n\r\nIs there a way to do JNLP without signing at all?  Given that it&#39;s an internal only app, signing is not necessary (to me).  I really don&#39;t want to spend money buying a certificate when it&#39;s not truly necessary.","title":"Is there a way to do JNLP without certificates?","body":"<p>I've got an internal only app that I've historically self-signed.  With the latest version of Java, self-signing for JNLP is deprecated.  I have also experienced strange problems with opening sockets from self-signed apps with Java 7U25 (but work fine when run as a normal jar from the command line).</p>\n\n<p>Is there a way to do JNLP without signing at all?  Given that it's an internal only app, signing is not necessary (to me).  I really don't want to spend money buying a certificate when it's not truly necessary.</p>\n"},{"tags":["java","java-web-start","jnlp","self-signed"],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1382318685,"creation_date":1382318685,"answer_id":19484917,"question_id":19481826,"body_markdown":"&gt; Is that true?\r\n\r\nDon&#39;t know, but had heard the same.  What is your source?\r\n\r\n&gt; In case it is true, do I have any chance to build a workaround for my JNLP application, so that I am able to start the application even after January 2014? \r\n\r\nThe only realistic way to deploy code in that situation is have it signed using a digital certificate from a Certification Authority (i.e. signed, but not **self-signed**).\r\n\r\nAny &#39;workaround&#39; would be a security bug.  So if you find one, please let us know so we can raise a bug report and get it fixed.  \r\n\r\n","title":"Java 7u51 will not accept JNLP with self-signed certificate?","body":"<blockquote>\n  <p>Is that true?</p>\n</blockquote>\n\n<p>Don't know, but had heard the same.  What is your source?</p>\n\n<blockquote>\n  <p>In case it is true, do I have any chance to build a workaround for my JNLP application, so that I am able to start the application even after January 2014? </p>\n</blockquote>\n\n<p>The only realistic way to deploy code in that situation is have it signed using a digital certificate from a Certification Authority (i.e. signed, but not <strong>self-signed</strong>).</p>\n\n<p>Any 'workaround' would be a security bug.  So if you find one, please let us know so we can raise a bug report and get it fixed.  </p>\n"},{"tags":[],"owner":{"account_id":20061,"reputation":20239,"user_id":47552,"accept_rate":91,"display_name":"Matt McHenry"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1536063995,"creation_date":1382319610,"answer_id":19485007,"question_id":19481826,"body_markdown":"Yes, this is true.  [This blog entry](https://blogs.oracle.com/java-platform-group/entry/new_security_requirements_for_rias) from Oracle has the details.\r\n\r\nAs I understand it, you have three options for continuing to work:\r\n\r\n1. Sign your app with a trusted cert\r\n  * Normally, this is done by acquiring a cert from one of the [vendors whose root certs are trusted by Java by default](https://superuser.com/questions/55470/which-trusted-root-certificates-are-included-in-java).\r\n  * You can also [use a self-signed certificate](https://blogs.oracle.com/java-platform-group/entry/self_signed_certificates_for_a) if your community of users is controlled (e.g. all within a managed corporate network, or all students in the same intro to programming class).\r\n1. Have your end users configure their machines to trust your app despite it being self-signed\r\n  * via [deployment rule sets](https://docs.oracle.com/javase/10/deploy/deployment-rule-set.htm) (Oracle&#39;s intention is that DRSs are only to be used in corporate environments, where you can push out this configuration update via a centralized management technology)\r\n  * via the [exception site list](http://docs.oracle.com/javase/7/docs/technotes/guides/jweb/exception_site_list.html) (I believe this is intended to be analogous to DRSes, but for individual end users without centralized management)\r\n1. Have your users lower their security slider from High (the default) to Medium\r\n\r\nSee also [my question](https://stackoverflow.com/questions/19437160/how-can-i-get-early-access-to-oracle-java-updates-so-i-can-test-my-ria-and-avoi) about obtaining pre-release versions of these updates to test with.","title":"Java 7u51 will not accept JNLP with self-signed certificate?","body":"<p>Yes, this is true.  <a href=\"https://blogs.oracle.com/java-platform-group/entry/new_security_requirements_for_rias\" rel=\"nofollow noreferrer\">This blog entry</a> from Oracle has the details.</p>\n\n<p>As I understand it, you have three options for continuing to work:</p>\n\n<ol>\n<li>Sign your app with a trusted cert\n\n<ul>\n<li>Normally, this is done by acquiring a cert from one of the <a href=\"https://superuser.com/questions/55470/which-trusted-root-certificates-are-included-in-java\">vendors whose root certs are trusted by Java by default</a>.</li>\n<li>You can also <a href=\"https://blogs.oracle.com/java-platform-group/entry/self_signed_certificates_for_a\" rel=\"nofollow noreferrer\">use a self-signed certificate</a> if your community of users is controlled (e.g. all within a managed corporate network, or all students in the same intro to programming class).</li>\n</ul></li>\n<li>Have your end users configure their machines to trust your app despite it being self-signed\n\n<ul>\n<li>via <a href=\"https://docs.oracle.com/javase/10/deploy/deployment-rule-set.htm\" rel=\"nofollow noreferrer\">deployment rule sets</a> (Oracle's intention is that DRSs are only to be used in corporate environments, where you can push out this configuration update via a centralized management technology)</li>\n<li>via the <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/jweb/exception_site_list.html\" rel=\"nofollow noreferrer\">exception site list</a> (I believe this is intended to be analogous to DRSes, but for individual end users without centralized management)</li>\n</ul></li>\n<li>Have your users lower their security slider from High (the default) to Medium</li>\n</ol>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/19437160/how-can-i-get-early-access-to-oracle-java-updates-so-i-can-test-my-ria-and-avoi\">my question</a> about obtaining pre-release versions of these updates to test with.</p>\n"},{"tags":[],"owner":{"account_id":3275906,"reputation":81,"user_id":2757955,"display_name":"Nina Koch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1382402382,"creation_date":1382402382,"answer_id":19507154,"question_id":19481826,"body_markdown":"I have a self-signed app that just needs to run through the end of the semester (December), so I won&#39;t be affected by the January deadline.  However, we are experiencing trouble even with earlier builds.  This just started last week (perhaps due to some kind of automatic update).  The JRE is build 40.\r\n\r\nI changed the manifest file to include the required attributes of permission and codebase and then re-signed the jar, but it still causes a security block to appear at our school.  \r\n\r\nCan anyone suggest other steps I should take?  Is a commercial certificate my only option?\r\n\r\nThanks,\r\nNina","title":"Java 7u51 will not accept JNLP with self-signed certificate?","body":"<p>I have a self-signed app that just needs to run through the end of the semester (December), so I won't be affected by the January deadline.  However, we are experiencing trouble even with earlier builds.  This just started last week (perhaps due to some kind of automatic update).  The JRE is build 40.</p>\n\n<p>I changed the manifest file to include the required attributes of permission and codebase and then re-signed the jar, but it still causes a security block to appear at our school.  </p>\n\n<p>Can anyone suggest other steps I should take?  Is a commercial certificate my only option?</p>\n\n<p>Thanks,\nNina</p>\n"},{"tags":[],"owner":{"account_id":1544917,"reputation":5387,"user_id":1438660,"accept_rate":73,"display_name":"splungebob"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1389814037,"creation_date":1385486662,"answer_id":20223866,"question_id":19481826,"body_markdown":"Oracle just announced that a new feature called the [Exception Site List](https://blogs.oracle.com/java-platform-group/entry/upcoming_exception_site_list_in) will be available in 7u51.\r\n\r\nIf it means what I *think* it means, then in-house-only apps who are currently self-signing their jars can simply ask their users to whitelist the app without the user having to do anything &quot;complicated&quot; for an end user, like importing a cert (for example).\r\n\r\n**UPDATE:**\r\n\r\nJava 7u51 was just released, and I can confirm that the Exception Site List solution works quite easily.  Just go to Java Control Panel -&gt; Security -&gt; Edit Site List, and add the URL of the self-signed JNLP app to the list of Locations.","title":"Java 7u51 will not accept JNLP with self-signed certificate?","body":"<p>Oracle just announced that a new feature called the <a href=\"https://blogs.oracle.com/java-platform-group/entry/upcoming_exception_site_list_in\" rel=\"noreferrer\">Exception Site List</a> will be available in 7u51.</p>\n\n<p>If it means what I <em>think</em> it means, then in-house-only apps who are currently self-signing their jars can simply ask their users to whitelist the app without the user having to do anything \"complicated\" for an end user, like importing a cert (for example).</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Java 7u51 was just released, and I can confirm that the Exception Site List solution works quite easily.  Just go to Java Control Panel -> Security -> Edit Site List, and add the URL of the self-signed JNLP app to the list of Locations.</p>\n"},{"tags":[],"owner":{"account_id":3871009,"reputation":11,"user_id":3206289,"display_name":"m.a.mustafar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1389956343,"creation_date":1389956343,"answer_id":21184242,"question_id":19481826,"body_markdown":"for me..sel-signed web is working when changed security setting to Medium..","title":"Java 7u51 will not accept JNLP with self-signed certificate?","body":"<p>for me..sel-signed web is working when changed security setting to Medium..</p>\n"},{"tags":[],"owner":{"account_id":1259023,"reputation":1159,"user_id":1217856,"accept_rate":74,"display_name":"Xianlin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1391500601,"creation_date":1391500601,"answer_id":21546879,"question_id":19481826,"body_markdown":"This is for `Windows` ONLY\r\n\r\nGo to Java configuration in Windows, &quot;`java configure`&quot;, choose &quot;`Security`&quot; tab and Choose &quot;`Edit Site List`&quot;, add your self signed url into the list.\r\n\r\n\r\nSometimes you need to add the full url of the java application into the list to make it work, you cannot just add `https://xxx.abc.com`, should be `https://xxx.abc.com/application_blah_blah` instead.\r\n\r\nAfter added the url, restart the java application by input that url in the browser, it will work.","title":"Java 7u51 will not accept JNLP with self-signed certificate?","body":"<p>This is for <code>Windows</code> ONLY</p>\n\n<p>Go to Java configuration in Windows, \"<code>java configure</code>\", choose \"<code>Security</code>\" tab and Choose \"<code>Edit Site List</code>\", add your self signed url into the list.</p>\n\n<p>Sometimes you need to add the full url of the java application into the list to make it work, you cannot just add <code>https://xxx.abc.com</code>, should be <code>https://xxx.abc.com/application_blah_blah</code> instead.</p>\n\n<p>After added the url, restart the java application by input that url in the browser, it will work.</p>\n"},{"tags":[],"owner":{"account_id":3904817,"reputation":13839,"user_id":3231778,"accept_rate":100,"display_name":"Evandro Pomatti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415053987,"creation_date":1415053987,"answer_id":26724523,"question_id":19481826,"body_markdown":"Check out Java official help to allow the access:\r\n\r\n[Control untrusted programs][1]\r\n\r\n\r\n  [1]: http://java.com/en/download/help/jcp_security.xml","title":"Java 7u51 will not accept JNLP with self-signed certificate?","body":"<p>Check out Java official help to allow the access:</p>\n\n<p><a href=\"http://java.com/en/download/help/jcp_security.xml\" rel=\"nofollow\">Control untrusted programs</a></p>\n"},{"tags":[],"owner":{"account_id":3114310,"reputation":2877,"user_id":2635443,"accept_rate":88,"display_name":"Orsiris de Jong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665220604,"creation_date":1665220604,"answer_id":73995781,"question_id":19481826,"body_markdown":"I hope this isn&#39;t too out of scope, but generally the usecase being a server with a very old java remote console.\r\n\r\nI&#39;ve built a portable JAVAWS launcher for JNLP files that come from IPMI / IMM / ILO / IRMC / IDRAC / KVM servers that should work on a fair high number of old servers. Security settings in my portable launcher are already preset to support prehistoric devices.\r\n\r\nYou can find the project at https://github.com/netinvent/ipmi-starter","title":"Java 7u51 will not accept JNLP with self-signed certificate?","body":"<p>I hope this isn't too out of scope, but generally the usecase being a server with a very old java remote console.</p>\n<p>I've built a portable JAVAWS launcher for JNLP files that come from IPMI / IMM / ILO / IRMC / IDRAC / KVM servers that should work on a fair high number of old servers. Security settings in my portable launcher are already preset to support prehistoric devices.</p>\n<p>You can find the project at <a href=\"https://github.com/netinvent/ipmi-starter\" rel=\"nofollow noreferrer\">https://github.com/netinvent/ipmi-starter</a></p>\n"}],"owner":{"account_id":95911,"reputation":775,"user_id":260992,"accept_rate":60,"display_name":"Fabian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54546,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"answer_count":8,"score":42,"last_activity_date":1665220604,"creation_date":1382297393,"question_id":19481826,"body_markdown":"I read on the web that Java version 7u51 (to be released in January 2014) will no longer accept Java Webstart applications that are self-signed by me.\r\n\r\nIs that true?\r\n\r\nIn case it is true, do I have any chance to build a workaround for my JNLP application, so that I am able to start the application even after January 2014? \r\n\r\nI have seen that the option to suppress the security warnings because of the usage of a self-signed certificate was removed in 7u40.","title":"Java 7u51 will not accept JNLP with self-signed certificate?","body":"<p>I read on the web that Java version 7u51 (to be released in January 2014) will no longer accept Java Webstart applications that are self-signed by me.</p>\n\n<p>Is that true?</p>\n\n<p>In case it is true, do I have any chance to build a workaround for my JNLP application, so that I am able to start the application even after January 2014? </p>\n\n<p>I have seen that the option to suppress the security warnings because of the usage of a self-signed certificate was removed in 7u40.</p>\n"},{"tags":["java","cloud"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1664954846,"post_id":73956956,"comment_id":130584282,"body_markdown":"Well, the system seems to want to you either use `https://...` urls or explicitly allow the use of `http` which is unsecure due to the lack of encryption. For the latter have a look here which might help you (I&#39;m no expert on Gradle though): https://docs.gradle.org/current/dsl/org.gradle.api.artifacts.repositories.MavenArtifactRepository.html#org.gradle.api.artifacts.repositories.MavenArtifactRepository:allowInsecureProtocol","body":"Well, the system seems to want to you either use <code>https:&#47;&#47;...</code> urls or explicitly allow the use of <code>http</code> which is unsecure due to the lack of encryption. For the latter have a look here which might help you (I&#39;m no expert on Gradle though): <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.artifacts.repositories.MavenArtifactRepository.html#org.gradle.api.artifacts.repositories.MavenArtifactRepository:allowInsecureProtocol\" rel=\"nofollow noreferrer\">docs.gradle.org/current/dsl/&hellip;</a>"},{"owner":{"account_id":21851467,"reputation":682,"user_id":16143492,"display_name":"nineninesevenfour"},"score":0,"creation_date":1664954991,"post_id":73956956,"comment_id":130584316,"body_markdown":"You might have a look at https://stackoverflow.com/questions/68585885/allow-insecure-protocols-android-gradle","body":"You might have a look at <a href=\"https://stackoverflow.com/questions/68585885/allow-insecure-protocols-android-gradle\" title=\"allow insecure protocols android gradle\">stackoverflow.com/questions/68585885/&hellip;</a>"},{"owner":{"account_id":2485653,"reputation":133,"user_id":2164124,"display_name":"Guy"},"score":0,"creation_date":1664966392,"post_id":73956956,"comment_id":130587810,"body_markdown":"thanks , but I can&#39;t understand what the https:// that needed for the app:endpointsServer&#39;?","body":"thanks , but I can&#39;t understand what the https:// that needed for the app:endpointsServer&#39;?"}],"answers":[{"tags":[],"owner":{"account_id":2485653,"reputation":133,"user_id":2164124,"display_name":"Guy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665220561,"creation_date":1665220561,"answer_id":73995769,"question_id":73956956,"body_markdown":"so what solve it ,it&#39;s just adding -4- to Maven , something like Maven4 instead of just Maven in the app build Gradle Mavens declarations. ","title":"Could not resolve all dependencies for configuration &#39;:app:endpointsServer&#39;. why?","body":"<p>so what solve it ,it's just adding -4- to Maven , something like Maven4 instead of just Maven in the app build Gradle Mavens declarations.</p>\n"}],"owner":{"account_id":2485653,"reputation":133,"user_id":2164124,"display_name":"Guy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665220561,"creation_date":1664954126,"question_id":73956956,"body_markdown":"After updating to Gradle 7.3.0 I having this message error :\r\n\r\n&gt; Using insecure protocols with repositories, without explicit opt-in, is unsupported. Switch Maven repository &#39;maven4(http://dl.bintray.com/glomadrian/maven)&#39; to redirect to a secure protocol (like HTTPS) or allow insecure protocols. See https://docs.gradle.org/8.0-milestone-1/dsl/org.gradle.api.artifacts.repositories.UrlArtifactReposit... for more details\r\n\r\nany suggestions?","title":"Could not resolve all dependencies for configuration &#39;:app:endpointsServer&#39;. why?","body":"<p>After updating to Gradle 7.3.0 I having this message error :</p>\n<blockquote>\n<p>Using insecure protocols with repositories, without explicit opt-in, is unsupported. Switch Maven repository 'maven4(<a href=\"http://dl.bintray.com/glomadrian/maven\" rel=\"nofollow noreferrer\">http://dl.bintray.com/glomadrian/maven</a>)' to redirect to a secure protocol (like HTTPS) or allow insecure protocols. See <a href=\"https://docs.gradle.org/8.0-milestone-1/dsl/org.gradle.api.artifacts.repositories.UrlArtifactReposit..\" rel=\"nofollow noreferrer\">https://docs.gradle.org/8.0-milestone-1/dsl/org.gradle.api.artifacts.repositories.UrlArtifactReposit..</a>. for more details</p>\n</blockquote>\n<p>any suggestions?</p>\n"},{"tags":["java","ssl"],"comments":[{"owner":{"account_id":8023785,"reputation":3013,"user_id":6051596,"display_name":"Soumen Mukherjee"},"score":0,"creation_date":1625932634,"post_id":68329293,"comment_id":120761534,"body_markdown":"Can you try with this in the java.security file jdk.tls.disabledAlgorithms=SSLv3, TLSv1.1, TLSv1.2","body":"Can you try with this in the java.security file jdk.tls.disabledAlgorithms=SSLv3, TLSv1.1, TLSv1.2"},{"owner":{"account_id":3508628,"reputation":501,"user_id":2933553,"accept_rate":50,"display_name":"SaleemKhair"},"score":0,"creation_date":1625932642,"post_id":68329293,"comment_id":120761536,"body_markdown":"Try passing `java -Djdk.tls.client.protocols=TLSv1.1,TLSv1.2` or just the version you need","body":"Try passing <code>java -Djdk.tls.client.protocols=TLSv1.1,TLSv1.2</code> or just the version you need"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1625932756,"post_id":68329293,"comment_id":120761560,"body_markdown":"I think TLS 1.0 was broken. As in there are real working exploits against the specification, so they removed it.","body":"I think TLS 1.0 was broken. As in there are real working exploits against the specification, so they removed it."},{"owner":{"account_id":19330438,"reputation":81,"user_id":14132175,"display_name":"jank04"},"score":0,"creation_date":1625933101,"post_id":68329293,"comment_id":120761633,"body_markdown":"@SaleemKhair I cannot use java binary to open this file. I have to use `javaws avr.jnlp` to launch this applet. Your above option doesn&#39;t work with javaws.","body":"@SaleemKhair I cannot use java binary to open this file. I have to use <code>javaws avr.jnlp</code> to launch this applet. Your above option doesn&#39;t work with javaws."},{"owner":{"account_id":19330438,"reputation":81,"user_id":14132175,"display_name":"jank04"},"score":0,"creation_date":1625933842,"post_id":68329293,"comment_id":120761831,"body_markdown":"@ElliottFrisch They did not remove TLS1.0; it is just disabled default now. See: https://www.java.com/de/download/help/release_changes.html#:~:text=TLS%201.0%20und%201.1%20wurden,das%20Java%20Control%20Panel%20verf%C3%BCgbar.","body":"@ElliottFrisch They did not remove TLS1.0; it is just disabled default now. See: <a href=\"https://www.java.com/de/download/help/release_changes.html#:~:text=TLS%201.0%20und%201.1%20wurden,das%20Java%20Control%20Panel%20verf%C3%BCgbar\" rel=\"nofollow noreferrer\">java.com/de/download/help/&hellip;</a>."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1625935161,"post_id":68329293,"comment_id":120762113,"body_markdown":"@jank04 That&#39;s a German link and to Java 8. OP is **also** using Java 15. And that is after the *modularity* rewrite of Java 11. So I suspect TLS1.0 is actually gone now.","body":"@jank04 That&#39;s a German link and to Java 8. OP is <b>also</b> using Java 15. And that is after the <i>modularity</i> rewrite of Java 11. So I suspect TLS1.0 is actually gone now."},{"owner":{"account_id":8318014,"reputation":2224,"user_id":6250649,"display_name":"JohannesB"},"score":0,"creation_date":1625935166,"post_id":68329293,"comment_id":120762114,"body_markdown":"Maybe relevant: The Java Control Panel Advanced Security Settings, see: https://docs.oracle.com/javase/9/deploy/java-control-panel.htm#JSDPG799","body":"Maybe relevant: The Java Control Panel Advanced Security Settings, see: <a href=\"https://docs.oracle.com/javase/9/deploy/java-control-panel.htm#JSDPG799\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/9/deploy/java-control-panel.htm#JSDPG&zwnj;&#8203;799</a>"},{"owner":{"account_id":19330438,"reputation":81,"user_id":14132175,"display_name":"jank04"},"score":0,"creation_date":1625937230,"post_id":68329293,"comment_id":120762546,"body_markdown":"@ElliottFrisch Only Java JRE 8 has the javaws binary, therefore jdk 15 is not involved here.","body":"@ElliottFrisch Only Java JRE 8 has the javaws binary, therefore jdk 15 is not involved here."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1625939869,"post_id":68329293,"comment_id":120763215,"body_markdown":"@ElliottFrisch+ TLS1.0 has a known-IV _flaw_ that was briefly exploited by BEAST, but that was quickly (back in 2012) mitigated by fragmenting data and has never been reported in the wild. However since it is permanently in the vulnerabilty databases as &#39;severe&#39;, many checklisters such as PCI reflexively prohibit it. In contrast SSL3 is _really_ broken by POODLE. All modular versions of Java still implement 1.0, although 16 (not 15), 11.0.11, and 8u291 _disable_ it, and also 1.1, by default, which has been covered by numerous Qs already.","body":"@ElliottFrisch+ TLS1.0 has a known-IV <i>flaw</i> that was briefly exploited by BEAST, but that was quickly (back in 2012) mitigated by fragmenting data and has never been reported in the wild. However since it is permanently in the vulnerabilty databases as &#39;severe&#39;, many checklisters such as PCI reflexively prohibit it. In contrast SSL3 is <i>really</i> broken by POODLE. All modular versions of Java still implement 1.0, although 16 (not 15), 11.0.11, and 8u291 <i>disable</i> it, and also 1.1, by default, which has been covered by numerous Qs already."}],"answers":[{"tags":[],"owner":{"account_id":19330438,"reputation":81,"user_id":14132175,"display_name":"jank04"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1625937567,"creation_date":1625937567,"answer_id":68330050,"question_id":68329293,"body_markdown":"Fortunately I found the advanced tab in the &quot;configure java&quot; control panel. I can tick a checkbox there to use TLS1.0.\r\n\r\n(Just as @JohannesB also commented).\r\n\r\nI&#39;ll now change back to `jdk.certpath.disabledAlgorithms=MD2, MD5, \\\r\n    RSA keySize &lt; 1024, DSA keySize &lt; 1024, EC keySize &lt; 224, \\\r\n    include jdk.disabled.namedCurves` and so on; therefore I can only accept my cipher suite and disallow any other older suites, which makes it a bit less insecure.","title":"Java (javaws.exe) TLS10 is not accepted by client preferences [TLS12]","body":"<p>Fortunately I found the advanced tab in the &quot;configure java&quot; control panel. I can tick a checkbox there to use TLS1.0.</p>\n<p>(Just as @JohannesB also commented).</p>\n<p>I'll now change back to <code>jdk.certpath.disabledAlgorithms=MD2, MD5, \\ RSA keySize &lt; 1024, DSA keySize &lt; 1024, EC keySize &lt; 224, \\ include jdk.disabled.namedCurves</code> and so on; therefore I can only accept my cipher suite and disallow any other older suites, which makes it a bit less insecure.</p>\n"},{"tags":[],"owner":{"account_id":3114310,"reputation":2877,"user_id":2635443,"accept_rate":88,"display_name":"Orsiris de Jong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665220362,"creation_date":1665220362,"answer_id":73995748,"question_id":68329293,"body_markdown":"You can still modify `jre\\lib\\security\\java.security` to not blacklist TLS 1.0 (at least on OpenJDK 1.8):\r\n\r\n```\r\njdk.tls.disabledAlgorithms=None\r\n```\r\n\r\nI&#39;ve built a portable JAVAWS launcher for JNLP files that come from IPMI / IMM / ILO / IRMC / IDRAC / KVM servers that should work on a fair high number of old servers. Security settings in my portable launcher are already preset to support **prehistoric devices**.\r\n\r\nYou can find the project at https://github.com/netinvent/ipmi-starter","title":"Java (javaws.exe) TLS10 is not accepted by client preferences [TLS12]","body":"<p>You can still modify <code>jre\\lib\\security\\java.security</code> to not blacklist TLS 1.0 (at least on OpenJDK 1.8):</p>\n<pre><code>jdk.tls.disabledAlgorithms=None\n</code></pre>\n<p>I've built a portable JAVAWS launcher for JNLP files that come from IPMI / IMM / ILO / IRMC / IDRAC / KVM servers that should work on a fair high number of old servers. Security settings in my portable launcher are already preset to support <strong>prehistoric devices</strong>.</p>\n<p>You can find the project at <a href=\"https://github.com/netinvent/ipmi-starter\" rel=\"nofollow noreferrer\">https://github.com/netinvent/ipmi-starter</a></p>\n"}],"owner":{"account_id":19330438,"reputation":81,"user_id":14132175,"display_name":"jank04"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9125,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1665220362,"creation_date":1625932239,"question_id":68329293,"body_markdown":"All I want is just get the Video Redirection for my Server to work...\r\n\r\nThe old onboard-management only provide TLS1.0. This server has a properly installed certificate, where corresponding CA is also installed on my computer.\r\n\r\nI have changed `C:\\Program Files\\Java\\jre1.8.0_291\\lib\\security\\java.security`.\r\n\r\nI tried everything, also to just delete TLS1.0 and TLS1.1 from the List. But that didn`t help. Even when the list is completely empty, I get the same error.\r\n\r\nChanges made:\r\n```\r\n#jdk.certpath.disabledAlgorithms=MD2, MD5, \\\r\n#    RSA keySize &lt; 1024, DSA keySize &lt; 1024, EC keySize &lt; 224, \\\r\n#    include jdk.disabled.namedCurves\r\n\r\njdk.certpath.disabledAlgorithms=\r\n```\r\n```\r\n#jdk.jar.disabledAlgorithms=MD2, MD5, RSA keySize &lt; 1024, \\\r\n#      DSA keySize &lt; 1024, include jdk.disabled.namedCurves\r\n\r\njdk.jar.disabledAlgorithms=\r\n```\r\n\r\n```\r\n#jdk.tls.disabledAlgorithms=RC4, DES, MD5withRSA, \\\r\n#    DH keySize &lt; 1024, EC keySize &lt; 224, RSA keySize &lt; 2048, 3DES_EDE_CBC, anon, NULL, \\\r\n#    include jdk.disabled.namedCurves\r\n\r\njdk.tls.disabledAlgorithms=\r\n```\r\n\r\nThe Server uses:\r\n`The connection to this site is encrypted and authenticated using TLS 1.0, RSA, and AES_128_CBC with HMAC-SHA1.`\r\n\r\nI have `jre1.8.0_291` and `jdk-15.0.1` installed. Both config files are identical in this regard (even thought the path is different: `C:\\Program Files\\Java\\jdk-15.0.1\\conf\\security\\java.security`.\r\nI still get the above error.\r\n\r\nWhen I issue `java --version` in cmd.exe I get this output:\r\n```\r\njava 15.0.1 2020-10-20\r\nJava(TM) SE Runtime Environment (build 15.0.1+9-18)\r\nJava HotSpot(TM) 64-Bit Server VM (build 15.0.1+9-18, mixed mode, sharing)\r\n```\r\n\r\nI also entered the URL of the Website, from where I download the .jnlp file, into the &quot;Configure Java&quot; Application whitelist.\r\n\r\nDo you have any ideas?\r\nThanks in advance.","title":"Java (javaws.exe) TLS10 is not accepted by client preferences [TLS12]","body":"<p>All I want is just get the Video Redirection for my Server to work...</p>\n<p>The old onboard-management only provide TLS1.0. This server has a properly installed certificate, where corresponding CA is also installed on my computer.</p>\n<p>I have changed <code>C:\\Program Files\\Java\\jre1.8.0_291\\lib\\security\\java.security</code>.</p>\n<p>I tried everything, also to just delete TLS1.0 and TLS1.1 from the List. But that didn`t help. Even when the list is completely empty, I get the same error.</p>\n<p>Changes made:</p>\n<pre><code>#jdk.certpath.disabledAlgorithms=MD2, MD5, \\\n#    RSA keySize &lt; 1024, DSA keySize &lt; 1024, EC keySize &lt; 224, \\\n#    include jdk.disabled.namedCurves\n\njdk.certpath.disabledAlgorithms=\n</code></pre>\n<pre><code>#jdk.jar.disabledAlgorithms=MD2, MD5, RSA keySize &lt; 1024, \\\n#      DSA keySize &lt; 1024, include jdk.disabled.namedCurves\n\njdk.jar.disabledAlgorithms=\n</code></pre>\n<pre><code>#jdk.tls.disabledAlgorithms=RC4, DES, MD5withRSA, \\\n#    DH keySize &lt; 1024, EC keySize &lt; 224, RSA keySize &lt; 2048, 3DES_EDE_CBC, anon, NULL, \\\n#    include jdk.disabled.namedCurves\n\njdk.tls.disabledAlgorithms=\n</code></pre>\n<p>The Server uses:\n<code>The connection to this site is encrypted and authenticated using TLS 1.0, RSA, and AES_128_CBC with HMAC-SHA1.</code></p>\n<p>I have <code>jre1.8.0_291</code> and <code>jdk-15.0.1</code> installed. Both config files are identical in this regard (even thought the path is different: <code>C:\\Program Files\\Java\\jdk-15.0.1\\conf\\security\\java.security</code>.\nI still get the above error.</p>\n<p>When I issue <code>java --version</code> in cmd.exe I get this output:</p>\n<pre><code>java 15.0.1 2020-10-20\nJava(TM) SE Runtime Environment (build 15.0.1+9-18)\nJava HotSpot(TM) 64-Bit Server VM (build 15.0.1+9-18, mixed mode, sharing)\n</code></pre>\n<p>I also entered the URL of the Website, from where I download the .jnlp file, into the &quot;Configure Java&quot; Application whitelist.</p>\n<p>Do you have any ideas?\nThanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1410927592,"post_id":25882232,"comment_id":40505468,"body_markdown":"Duplicate keys or duplicate values?  A `Map` can&#39;t support multiple/duplicate keys...","body":"Duplicate keys or duplicate values?  A <code>Map</code> can&#39;t support multiple/duplicate keys..."},{"owner":{"account_id":1296974,"reputation":28447,"user_id":1247781,"accept_rate":100,"display_name":"FThompson"},"score":0,"creation_date":1410927682,"post_id":25882232,"comment_id":40505495,"body_markdown":"Also, your question would benefit from an [MCVE](http://stackoverflow.com/help/mcve) that shows the problem in as little code as possible.","body":"Also, your question would benefit from an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> that shows the problem in as little code as possible."},{"owner":{"account_id":4967968,"reputation":21,"user_id":3996655,"display_name":"Rakhi Ssdd"},"score":0,"creation_date":1410927701,"post_id":25882232,"comment_id":40505498,"body_markdown":"i dont want any id,name,displayname,image,type,group,if that id is available on that.","body":"i dont want any id,name,displayname,image,type,group,if that id is available on that."},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":0,"creation_date":1410927886,"post_id":25882232,"comment_id":40505541,"body_markdown":"What do you mean &quot;if that id is available on that&quot;?","body":"What do you mean &quot;if that id is available on that&quot;?"},{"owner":{"account_id":4967968,"reputation":21,"user_id":3996655,"display_name":"Rakhi Ssdd"},"score":0,"creation_date":1410927926,"post_id":25882232,"comment_id":40505548,"body_markdown":"@Boann by checking through conditon","body":"@Boann by checking through conditon"},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":0,"creation_date":1410927941,"post_id":25882232,"comment_id":40505556,"body_markdown":"@RakhiSsdd What condition? What do you mean &quot;available&quot;, and what is &quot;that&quot;?","body":"@RakhiSsdd What condition? What do you mean &quot;available&quot;, and what is &quot;that&quot;?"},{"owner":{"account_id":4967968,"reputation":21,"user_id":3996655,"display_name":"Rakhi Ssdd"},"score":0,"creation_date":1410927962,"post_id":25882232,"comment_id":40505563,"body_markdown":"@MadProgrammer can i check before puttting on it","body":"@MadProgrammer can i check before puttting on it"},{"owner":{"account_id":4967968,"reputation":21,"user_id":3996655,"display_name":"Rakhi Ssdd"},"score":0,"creation_date":1410928001,"post_id":25882232,"comment_id":40505576,"body_markdown":"@Boann i dont know. that&#39;s the problem.","body":"@Boann i dont know. that&#39;s the problem."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1410928092,"post_id":25882232,"comment_id":40505595,"body_markdown":"`Map#containsKey`...","body":"<code>Map#containsKey</code>..."},{"owner":{"account_id":4967968,"reputation":21,"user_id":3996655,"display_name":"Rakhi Ssdd"},"score":0,"creation_date":1410928378,"post_id":25882232,"comment_id":40505650,"body_markdown":"@MadProgrammer it has multiplekey like id,name,display etc ?? how to check.","body":"@MadProgrammer it has multiplekey like id,name,display etc ?? how to check."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1410928462,"post_id":25882232,"comment_id":40505678,"body_markdown":"You can only have one key per map.  If you want to check the other maps, then you will need to loop each map and use `Map#containsKey`...","body":"You can only have one key per map.  If you want to check the other maps, then you will need to loop each map and use <code>Map#containsKey</code>..."},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":0,"creation_date":1410929350,"post_id":25882232,"comment_id":40505895,"body_markdown":"I&#39;m sure there&#39;s a simple solution, if you&#39;d explain what you mean by &quot;id is available on that&quot;.","body":"I&#39;m sure there&#39;s a simple solution, if you&#39;d explain what you mean by &quot;id is available on that&quot;."}],"answers":[{"tags":[],"owner":{"account_id":4976074,"reputation":198,"user_id":4002345,"accept_rate":64,"display_name":"Kaushi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1410943232,"creation_date":1410930754,"answer_id":25882748,"question_id":25882232,"body_markdown":"When you try to add the KEY which is already available in the hashmap, then it will override the previous KEY&#39;s VALUE and adds the new VALUE. So its up to you to validate the map before trying to add the KEY and VALUE. You can use **finalmapnode.containsKey(KEY);** to validate and then add the VALUES.\r\n\r\n**EDIT**\r\n\r\nJust check the below method works for you!\r\n\r\n    private static void putMap(String strKey, Object object, Map&lt;String, Object&gt; map){\r\n\t\tif(!map.containsKey(strKey)){\r\n\t\t\tmap.put(strKey, object);\r\n\t\t}\r\n\t}\r\n\r\nIn your case, instead of using\r\n \r\n    finalMapNode.put(&quot;name&quot;,source.get(z));\r\n\r\nyou can use\r\n\r\n    putMap(&quot;name&quot;,source.get(z), finalMapNode);\r\n\r\nThe above method will not override the values if you add duplicate KEYS. Pass the **KEY**, **VALUE** and the **Map** which you declared as **finalMapNode**.\r\n\r\nTry this and see.\r\n\r\nThanks!\r\n\r\n\r\n    \r\n","title":"how to remove duplicates from the map using java","body":"<p>When you try to add the KEY which is already available in the hashmap, then it will override the previous KEY's VALUE and adds the new VALUE. So its up to you to validate the map before trying to add the KEY and VALUE. You can use <strong>finalmapnode.containsKey(KEY);</strong> to validate and then add the VALUES.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Just check the below method works for you!</p>\n\n<pre><code>private static void putMap(String strKey, Object object, Map&lt;String, Object&gt; map){\n    if(!map.containsKey(strKey)){\n        map.put(strKey, object);\n    }\n}\n</code></pre>\n\n<p>In your case, instead of using</p>\n\n<pre><code>finalMapNode.put(\"name\",source.get(z));\n</code></pre>\n\n<p>you can use</p>\n\n<pre><code>putMap(\"name\",source.get(z), finalMapNode);\n</code></pre>\n\n<p>The above method will not override the values if you add duplicate KEYS. Pass the <strong>KEY</strong>, <strong>VALUE</strong> and the <strong>Map</strong> which you declared as <strong>finalMapNode</strong>.</p>\n\n<p>Try this and see.</p>\n\n<p>Thanks!</p>\n"},{"tags":[],"owner":{"account_id":11357380,"reputation":1,"user_id":8326610,"display_name":"Dheeraj Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665220275,"creation_date":1662491209,"answer_id":73626733,"question_id":25882232,"body_markdown":"     HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n    \t\t    map.put(&quot;A&quot;, &quot;1&quot;);\r\n    \t\t    map.put(&quot;B&quot;, &quot;2&quot;);\r\n    \t\t    map.put(&quot;C&quot;, &quot;2&quot;);\r\n    \t\t    map.put(&quot;D&quot;, &quot;3&quot;);\r\n    \t\t    map.put(&quot;E&quot;, &quot;3&quot;);\r\n    \t\t    HashMap&lt;String, String&gt; mapNew = new HashMap&lt;String, String&gt;();\r\n    \t\t    \r\n    \t\t        for(String s :map.keySet())\r\n    \t\t        {\r\n    \t\t        \t//String value = map.get(s);\r\n    \t\t        \tSystem.out.println(s +&quot;==&quot;+map.get(s));\r\n    \t\t        \t\r\n    \t\t        \tif(!mapNew.containsValue(map.get(s)))\r\n    \t\t        \t{\r\n    \t\t        \t\tmapNew.put(s, map.get(s));\r\n    \t\t        \t}\r\n    \t\t         }\r\n    \t\t        System.out.println(mapNew);\r\n\r\n\r\nbefore :{A=1,B=2,c=2,D=3,E=3}\r\n\r\nOutput after removing duplicates : {A=1,B=2,D=3}","title":"how to remove duplicates from the map using java","body":"<pre><code> HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n            map.put(&quot;A&quot;, &quot;1&quot;);\n            map.put(&quot;B&quot;, &quot;2&quot;);\n            map.put(&quot;C&quot;, &quot;2&quot;);\n            map.put(&quot;D&quot;, &quot;3&quot;);\n            map.put(&quot;E&quot;, &quot;3&quot;);\n            HashMap&lt;String, String&gt; mapNew = new HashMap&lt;String, String&gt;();\n            \n                for(String s :map.keySet())\n                {\n                    //String value = map.get(s);\n                    System.out.println(s +&quot;==&quot;+map.get(s));\n                    \n                    if(!mapNew.containsValue(map.get(s)))\n                    {\n                        mapNew.put(s, map.get(s));\n                    }\n                 }\n                System.out.println(mapNew);\n</code></pre>\n<p>before :{A=1,B=2,c=2,D=3,E=3}</p>\n<p>Output after removing duplicates : {A=1,B=2,D=3}</p>\n"}],"owner":{"account_id":4967968,"reputation":21,"user_id":3996655,"display_name":"Rakhi Ssdd"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1304,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":25882748,"answer_count":2,"score":-2,"last_activity_date":1665220275,"creation_date":1410927506,"question_id":25882232,"body_markdown":"I am adding few item on finalMapNode using map for creating json for d3. and i dont want any duplicates item. how to check.finalmapNode put the duplicates item on map.I dont want duplicated item.if item is avalible then it should not put on map .                       if id is avalable then item should not put in the finalmapnode.\r\n\r\nNote::if id is avalable then item should not put in the finalmapnode.\r\n                   \r\n    List&lt;Map&lt;String, Object&gt;&gt; listNodeMap = new ArrayList&lt;Map&lt;String, Object&gt;&gt;();\r\n\tMap&lt;String, Object&gt; finalMapNode2 = new TreeMap&lt;String, Object&gt;();\r\n    \tMap&lt;String, Object&gt; finalMapNode = new TreeMap&lt;String, Object&gt;();\r\n    \r\n    \r\n                       //if id is avalable then item should not put in the finalmapnode.\r\n\r\n                        finalMapNode.put(&quot;id&quot;, Integer.parseInt(source2.get(z))+&quot;&quot;);\r\n    \t\t\t\t\tfinalMapNode.put(&quot;name&quot;,source.get(z));\r\n    \t\t\t\t\tfinalMapNode.put(&quot;displayname&quot;, source.get(z));\r\n    \t\t\t\t\tfinalMapNode.put(&quot;image&quot;, &quot;/xxxxx/resources/icon/location.png&quot;);\r\n    \t\t\t\t\tfinalMapNode.put(&quot;type&quot;, &quot;location&quot;);\r\n    \t\t\t\t\tfinalMapNode.put(&quot;group&quot;, 0);\r\n    \t\t\t\t\tfinalMapNode.put(&quot;opacity&quot;, 100);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tfinalMapNode2.put(&quot;id&quot;, Integer.parseInt(target2.get(z))+&quot;&quot;);\r\n    \t\t\t\t\tfinalMapNode2.put(&quot;name&quot;,target.get(z));\r\n    \t\t\t\t\tfinalMapNode2.put(&quot;displayname&quot;, target.get(z));\r\n    \t\t\t\t\tfinalMapNode2.put(&quot;image&quot;, &quot;/xxxxx/resources/icon/location.png&quot;);\r\n    \t\t\t\t\tfinalMapNode2.put(&quot;type&quot;, &quot;location&quot;);\r\n    \t\t\t\t\tfinalMapNode2.put(&quot;group&quot;, 0);\r\n    \t\t\t\t\tfinalMapNode2.put(&quot;opacity&quot;, 100);\r\n\r\n                    listNodeMap.add(finalMapNode);\r\n\t\t\t\t\tlistNodeMap.add(finalMapNode2);","title":"how to remove duplicates from the map using java","body":"<p>I am adding few item on finalMapNode using map for creating json for d3. and i dont want any duplicates item. how to check.finalmapNode put the duplicates item on map.I dont want duplicated item.if item is avalible then it should not put on map .                       if id is avalable then item should not put in the finalmapnode.</p>\n\n<p>Note::if id is avalable then item should not put in the finalmapnode.</p>\n\n<pre><code>List&lt;Map&lt;String, Object&gt;&gt; listNodeMap = new ArrayList&lt;Map&lt;String, Object&gt;&gt;();\nMap&lt;String, Object&gt; finalMapNode2 = new TreeMap&lt;String, Object&gt;();\n    Map&lt;String, Object&gt; finalMapNode = new TreeMap&lt;String, Object&gt;();\n\n\n                   //if id is avalable then item should not put in the finalmapnode.\n\n                    finalMapNode.put(\"id\", Integer.parseInt(source2.get(z))+\"\");\n                    finalMapNode.put(\"name\",source.get(z));\n                    finalMapNode.put(\"displayname\", source.get(z));\n                    finalMapNode.put(\"image\", \"/xxxxx/resources/icon/location.png\");\n                    finalMapNode.put(\"type\", \"location\");\n                    finalMapNode.put(\"group\", 0);\n                    finalMapNode.put(\"opacity\", 100);\n\n                    finalMapNode2.put(\"id\", Integer.parseInt(target2.get(z))+\"\");\n                    finalMapNode2.put(\"name\",target.get(z));\n                    finalMapNode2.put(\"displayname\", target.get(z));\n                    finalMapNode2.put(\"image\", \"/xxxxx/resources/icon/location.png\");\n                    finalMapNode2.put(\"type\", \"location\");\n                    finalMapNode2.put(\"group\", 0);\n                    finalMapNode2.put(\"opacity\", 100);\n\n                listNodeMap.add(finalMapNode);\n                listNodeMap.add(finalMapNode2);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","annotations","spring-data-mongodb"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664877611,"post_id":73880608,"comment_id":130565596,"body_markdown":"Probably because spring (+ -data-mongo!) &quot;sub-classes&quot;/proxies/stubs these (&quot;interface beans&quot;) at runtime!?","body":"Probably because spring (+ -data-mongo!) &quot;sub-classes&quot;/proxies/stubs these (&quot;interface beans&quot;) at runtime!?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664877899,"post_id":73880608,"comment_id":130565683,"body_markdown":"So [&quot;java get all interfaces&quot;](https://stackoverflow.com/q/6616055/592355) could bring you further..?","body":"So <a href=\"https://stackoverflow.com/q/6616055/592355\">&quot;java get all interfaces&quot;</a> could bring you further..?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664877997,"post_id":73880608,"comment_id":130565717,"body_markdown":"Et [voila, the spring-based solution](https://stackoverflow.com/a/45170639/592355) &#128077;&#128077;&#128512;","body":"Et <a href=\"https://stackoverflow.com/a/45170639/592355\">voila, the spring-based solution</a> 👍👍😀"},{"owner":{"account_id":26469180,"reputation":11,"user_id":20110017,"display_name":"Damian Tański"},"score":0,"creation_date":1664952557,"post_id":73880608,"comment_id":130583709,"body_markdown":"Thanks xerx593 that should solve my problem :D","body":"Thanks xerx593 that should solve my problem :D"}],"owner":{"account_id":26469180,"reputation":11,"user_id":20110017,"display_name":"Damian Tański"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665220049,"creation_date":1664364378,"question_id":73880608,"body_markdown":"I have a problem with detecting custom annotation. When i try to check it by reflection it doesn&#39;t show up. Is spring omitting all annotations on repository interface when he creating an instance? I was testing it with normal class and searching method found that custom annotation.\r\n\r\n```\r\nSpring-boot-2.7.4\r\nJava 11\r\n\r\n```\r\n\r\nMyAnnotation\r\n```\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.PARAMETER})\r\npublic @interface Encrypted {}\r\n```\r\nRepository\r\n```\r\n@Repository\r\npublic interface SubscriptionRepository extends MongoRepository&lt;Subscription, String&gt; {\r\n    boolean existsByEmail(@Encrypted String s);\r\n}\r\n```\r\nAndSearching\r\n```\r\n@Configuration\r\nclass EncryptionConfiguration {\r\n    @Autowired\r\n    SubscriptionRepository subscriptionRepository;\r\n    \r\n    @PostConstruct\r\n    void method() {\r\n        Method[] methods = subscriptionRepository.getClass().getMethods();\r\n\r\n        for (Method method : methods) {\r\n            Annotation[][] annotationTab = method.getParameterAnnotations();\r\n            for (Annotation[] annotationRow : annotationTab) {\r\n                for (Annotation annotation : annotationRow) {\r\n                    Encrypted encrypted = (Encrypted) annotation;\r\n                }\r\n            }\r\n        }\r\n}\r\n\r\n```","title":"Adding custom annotation to repository interface in spring","body":"<p>I have a problem with detecting custom annotation. When i try to check it by reflection it doesn't show up. Is spring omitting all annotations on repository interface when he creating an instance? I was testing it with normal class and searching method found that custom annotation.</p>\n<pre><code>Spring-boot-2.7.4\nJava 11\n\n</code></pre>\n<p>MyAnnotation</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.PARAMETER})\npublic @interface Encrypted {}\n</code></pre>\n<p>Repository</p>\n<pre><code>@Repository\npublic interface SubscriptionRepository extends MongoRepository&lt;Subscription, String&gt; {\n    boolean existsByEmail(@Encrypted String s);\n}\n</code></pre>\n<p>AndSearching</p>\n<pre><code>@Configuration\nclass EncryptionConfiguration {\n    @Autowired\n    SubscriptionRepository subscriptionRepository;\n    \n    @PostConstruct\n    void method() {\n        Method[] methods = subscriptionRepository.getClass().getMethods();\n\n        for (Method method : methods) {\n            Annotation[][] annotationTab = method.getParameterAnnotations();\n            for (Annotation[] annotationRow : annotationTab) {\n                for (Annotation annotation : annotationRow) {\n                    Encrypted encrypted = (Encrypted) annotation;\n                }\n            }\n        }\n}\n\n</code></pre>\n"},{"tags":["java","android","gzip","okhttp","deflate"],"answers":[{"tags":[],"owner":{"account_id":128795,"reputation":22471,"user_id":326904,"accept_rate":74,"display_name":"Desolator"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1603455516,"creation_date":1534539763,"answer_id":51902833,"question_id":51901333,"body_markdown":"After 6 hours of digging I found the correct solution and as usual it was easier than I thought, so I was basically trying to decompress a page that&#39;s not gzipped for that reason it was failing. Now once I hit the second page (which is compressed) I get a gzipped response where the code above should handle it. Also if anyone wants the solution I used a modified interceptor just like the one in [this answer][1] so you don&#39;t need to use a custom function to handle the decompression.\r\n\r\nI modified the `unzip` method to make the okhttp `interceptor` work with compressed and uncompressed responses:\r\n    \r\n    OkHttpClient.Builder clientBuilder = new OkHttpClient.Builder().addInterceptor(new UnzippingInterceptor());\r\n    OkHttpClient client = clientBuilder.build();\r\n\r\nAnd the Interceptor is like dis:\r\n\r\n    private class UnzippingInterceptor implements Interceptor {\r\n        @Override\r\n        public Response intercept(Chain chain) throws IOException {\r\n            Response response = chain.proceed(chain.request());\r\n            return unzip(response);\r\n\t\t}\r\n      \r\n\r\n\t// copied from okhttp3.internal.http.HttpEngine (because is private)\r\n\tprivate Response unzip(final Response response) throws IOException {\r\n\t\tif (response.body() == null)\r\n\t\t{\r\n\t\t\treturn response;\r\n\t\t}\r\n\t\t\r\n\t\t//check if we have gzip response\r\n\t\tString contentEncoding = response.headers().get(&quot;Content-Encoding&quot;);\r\n\t\t\r\n\t\t//this is used to decompress gzipped responses\r\n\t\tif (contentEncoding != null &amp;&amp; contentEncoding.equals(&quot;gzip&quot;))\r\n\t\t{\r\n\t\t\tLong contentLength = response.body().contentLength();\r\n\t\t\tGzipSource responseBody = new GzipSource(response.body().source());\r\n\t\t\tHeaders strippedHeaders = response.headers().newBuilder().build();\r\n\t\t\treturn response.newBuilder().headers(strippedHeaders)\r\n\t\t\t\t\t.body(new RealResponseBody(response.body().contentType().toString(), contentLength, Okio.buffer(responseBody)))\r\n\t\t\t\t\t.build();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\treturn response;\r\n\t\t}\r\n\t}\r\n\t}\r\n  [1]: https://stackoverflow.com/a/37370050/326904","title":"okhttp 3: how to decompress gzip/deflate response manually using Java/Android","body":"<p>After 6 hours of digging I found the correct solution and as usual it was easier than I thought, so I was basically trying to decompress a page that's not gzipped for that reason it was failing. Now once I hit the second page (which is compressed) I get a gzipped response where the code above should handle it. Also if anyone wants the solution I used a modified interceptor just like the one in <a href=\"https://stackoverflow.com/a/37370050/326904\">this answer</a> so you don't need to use a custom function to handle the decompression.</p>\n<p>I modified the <code>unzip</code> method to make the okhttp <code>interceptor</code> work with compressed and uncompressed responses:</p>\n<pre><code>OkHttpClient.Builder clientBuilder = new OkHttpClient.Builder().addInterceptor(new UnzippingInterceptor());\nOkHttpClient client = clientBuilder.build();\n</code></pre>\n<p>And the Interceptor is like dis:</p>\n<pre><code>private class UnzippingInterceptor implements Interceptor {\n    @Override\n    public Response intercept(Chain chain) throws IOException {\n        Response response = chain.proceed(chain.request());\n        return unzip(response);\n    }\n  \n\n// copied from okhttp3.internal.http.HttpEngine (because is private)\nprivate Response unzip(final Response response) throws IOException {\n    if (response.body() == null)\n    {\n        return response;\n    }\n    \n    //check if we have gzip response\n    String contentEncoding = response.headers().get(&quot;Content-Encoding&quot;);\n    \n    //this is used to decompress gzipped responses\n    if (contentEncoding != null &amp;&amp; contentEncoding.equals(&quot;gzip&quot;))\n    {\n        Long contentLength = response.body().contentLength();\n        GzipSource responseBody = new GzipSource(response.body().source());\n        Headers strippedHeaders = response.headers().newBuilder().build();\n        return response.newBuilder().headers(strippedHeaders)\n                .body(new RealResponseBody(response.body().contentType().toString(), contentLength, Okio.buffer(responseBody)))\n                .build();\n    }\n    else\n    {\n        return response;\n    }\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9552681,"reputation":687,"user_id":7096284,"accept_rate":100,"display_name":"Aksenov Vladimir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664366790,"creation_date":1664366790,"answer_id":73881122,"question_id":51901333,"body_markdown":"Version `4.10.0` can already do it automatically if your header contains `gzip`","title":"okhttp 3: how to decompress gzip/deflate response manually using Java/Android","body":"<p>Version <code>4.10.0</code> can already do it automatically if your header contains <code>gzip</code></p>\n"},{"tags":[],"owner":{"account_id":19716385,"reputation":1,"user_id":14435743,"display_name":"fox z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665219936,"creation_date":1664877842,"answer_id":73946250,"question_id":51901333,"body_markdown":"Because `okhttp` does not support deflate\r\n\r\n\r\nin BridgeInterceptor.java or BridgeInterceptor.kt \r\n\r\n        if (transparentGzip &amp;&amp;\r\n        &quot;gzip&quot;.equals(networkResponse.header(&quot;Content-Encoding&quot;), ignoreCase = true) &amp;&amp;\r\n        networkResponse.promisesBody()) {","title":"okhttp 3: how to decompress gzip/deflate response manually using Java/Android","body":"<p>Because <code>okhttp</code> does not support deflate</p>\n<p>in BridgeInterceptor.java or BridgeInterceptor.kt</p>\n<pre><code>    if (transparentGzip &amp;&amp;\n    &quot;gzip&quot;.equals(networkResponse.header(&quot;Content-Encoding&quot;), ignoreCase = true) &amp;&amp;\n    networkResponse.promisesBody()) {\n</code></pre>\n"}],"owner":{"account_id":128795,"reputation":22471,"user_id":326904,"accept_rate":74,"display_name":"Desolator"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14183,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":51902833,"answer_count":3,"score":10,"last_activity_date":1665219936,"creation_date":1534531919,"question_id":51901333,"body_markdown":"I know that `okhttp3` library by default it adds the header `Accept-Encoding: gzip` and decodes the response automatically for us. \r\n\r\nThe problem I&#39;m dealing with a host that only accepts a header like: `Accept-Encoding: gzip, deflate` if I don&#39;t add the `deflate` part it fails. Now when I manually add that header to okhttp client, the library doesn&#39;t do the decompression anymore for me. \r\n\r\nI&#39;ve tried multiple solutions to take the response and try to manually decompress that but I&#39;ve always ended up with an exception i.e. `java.util.zip.ZipException: Not in GZIP format`, here&#39;s what I&#39;ve tried so far:\r\n\r\n\r\n    //decompresser\r\n    public static String decompressGZIP(InputStream inputStream) throws IOException\r\n    {\r\n    \tInputStream bodyStream = new GZIPInputStream(inputStream);\r\n    \tByteArrayOutputStream outStream = new ByteArrayOutputStream();\r\n    \tbyte[] buffer = new byte[4096];\r\n    \tint length;\r\n    \twhile ((length = bodyStream.read(buffer)) &gt; 0) \r\n    \t{\r\n    \t\toutStream.write(buffer, 0, length);\r\n    \t}\r\n    \t\r\n    \treturn new String(outStream.toByteArray());\r\n    }\r\n    \r\n    \r\n    //run scraper\r\n    scrape(api, new Callback()\r\n    {\r\n    \t// Something went wrong\r\n    \t@Override\r\n    \tpublic void onFailure(@NonNull Call call, @NonNull IOException e)\r\n    \t{\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void onResponse(@NonNull Call call, @NonNull Response response) throws IOException\r\n    \t{\r\n    \t\tif (response.isSuccessful())\r\n    \t\t{\r\n    \t\t\ttry\r\n    \t\t\t{\r\n    \t\t\t\tInputStream responseBodyBytes = responseBody.byteStream();\r\n    \t\t\t\treturnedObject = GZIPCompression.decompress(responseBodyBytes);\r\n    \t\t\t\t\r\n    \t\t\t\tif (returnedObject != null)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tString htmlResponse = returnedObject.toString();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tcatch (ProtocolException e){}\r\n    \t\t\t\r\n    \t\t\tif(response != null) response.close();\r\n    \t\t}\r\n    \t}\r\n    });\r\n    \r\n    \r\n    \r\n    private Call scrape(Map&lt;?, ?&gt; api, Callback callback)\r\n    {\r\n    \tMediaType JSON = MediaType.parse(&quot;application/json; charset=utf-8&quot;);\r\n    \tString method = (String) api.get(&quot;method&quot;);\r\n    \tString url = (String) api.get(&quot;url&quot;);\r\n    \tRequest.Builder requestBuilder = new Request.Builder().url(url);\r\n    \tRequestBody requestBody;\r\n    \t\r\n    \trequestBuilder.header(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0&quot;);\r\n    \trequestBuilder.header(&quot;Accept&quot;, &quot;text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8&quot;);\r\n    \trequestBuilder.header(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.5&quot;);\r\n    \trequestBuilder.header(&quot;Accept-Encoding&quot;, &quot;gzip, deflate&quot;);\r\n    \trequestBuilder.header(&quot;Connection&quot;, &quot;keep-alive&quot;);\r\n    \trequestBuilder.header(&quot;Upgrade-Insecure-Requests&quot;, &quot;1&quot;);\r\n    \trequestBuilder.header(&quot;Cache-Control&quot;, &quot;max-age=0&quot;);\r\n    \t\r\n    \tRequest request = requestBuilder.build();\r\n    \t\r\n    \tCall call = client.newCall(request);\r\n    \tcall.enqueue(callback);\r\n    \t\r\n    \treturn call;\r\n    }\r\n\r\nJust a note, the response headers will always return `Content-Encoding: gzip` and `Transfer-Encoding: chunked`\r\n\r\nOne more thing, I&#39;ve also tried the solution in [this topic][1] and it still fails with `D/OkHttp: java.io.IOException: ID1ID2: actual 0x00003c68 != expected 0x00001f8b`.\r\n\r\nAny help would be appreciated..\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/37370050/326904","title":"okhttp 3: how to decompress gzip/deflate response manually using Java/Android","body":"<p>I know that <code>okhttp3</code> library by default it adds the header <code>Accept-Encoding: gzip</code> and decodes the response automatically for us. </p>\n\n<p>The problem I'm dealing with a host that only accepts a header like: <code>Accept-Encoding: gzip, deflate</code> if I don't add the <code>deflate</code> part it fails. Now when I manually add that header to okhttp client, the library doesn't do the decompression anymore for me. </p>\n\n<p>I've tried multiple solutions to take the response and try to manually decompress that but I've always ended up with an exception i.e. <code>java.util.zip.ZipException: Not in GZIP format</code>, here's what I've tried so far:</p>\n\n<pre><code>//decompresser\npublic static String decompressGZIP(InputStream inputStream) throws IOException\n{\n    InputStream bodyStream = new GZIPInputStream(inputStream);\n    ByteArrayOutputStream outStream = new ByteArrayOutputStream();\n    byte[] buffer = new byte[4096];\n    int length;\n    while ((length = bodyStream.read(buffer)) &gt; 0) \n    {\n        outStream.write(buffer, 0, length);\n    }\n\n    return new String(outStream.toByteArray());\n}\n\n\n//run scraper\nscrape(api, new Callback()\n{\n    // Something went wrong\n    @Override\n    public void onFailure(@NonNull Call call, @NonNull IOException e)\n    {\n    }\n\n    @Override\n    public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException\n    {\n        if (response.isSuccessful())\n        {\n            try\n            {\n                InputStream responseBodyBytes = responseBody.byteStream();\n                returnedObject = GZIPCompression.decompress(responseBodyBytes);\n\n                if (returnedObject != null)\n                {\n                    String htmlResponse = returnedObject.toString();\n                }\n            }\n            catch (ProtocolException e){}\n\n            if(response != null) response.close();\n        }\n    }\n});\n\n\n\nprivate Call scrape(Map&lt;?, ?&gt; api, Callback callback)\n{\n    MediaType JSON = MediaType.parse(\"application/json; charset=utf-8\");\n    String method = (String) api.get(\"method\");\n    String url = (String) api.get(\"url\");\n    Request.Builder requestBuilder = new Request.Builder().url(url);\n    RequestBody requestBody;\n\n    requestBuilder.header(\"User-Agent\", \"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0\");\n    requestBuilder.header(\"Accept\", \"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\");\n    requestBuilder.header(\"Accept-Language\", \"en-US,en;q=0.5\");\n    requestBuilder.header(\"Accept-Encoding\", \"gzip, deflate\");\n    requestBuilder.header(\"Connection\", \"keep-alive\");\n    requestBuilder.header(\"Upgrade-Insecure-Requests\", \"1\");\n    requestBuilder.header(\"Cache-Control\", \"max-age=0\");\n\n    Request request = requestBuilder.build();\n\n    Call call = client.newCall(request);\n    call.enqueue(callback);\n\n    return call;\n}\n</code></pre>\n\n<p>Just a note, the response headers will always return <code>Content-Encoding: gzip</code> and <code>Transfer-Encoding: chunked</code></p>\n\n<p>One more thing, I've also tried the solution in <a href=\"https://stackoverflow.com/a/37370050/326904\">this topic</a> and it still fails with <code>D/OkHttp: java.io.IOException: ID1ID2: actual 0x00003c68 != expected 0x00001f8b</code>.</p>\n\n<p>Any help would be appreciated..</p>\n"},{"tags":["java","json","type-conversion"],"answers":[{"tags":[],"owner":{"account_id":26562695,"reputation":16,"user_id":20190265,"display_name":"nick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665219823,"creation_date":1665219823,"answer_id":73995696,"question_id":73995613,"body_markdown":"Maybe you can try it\r\n\r\n    jsonArray.getJSONObject(0);","title":"why should I need Explicit Type Conversion When Using JSONObject inside JsonArray?","body":"<p>Maybe you can try it</p>\n<pre><code>jsonArray.getJSONObject(0);\n</code></pre>\n"}],"owner":{"account_id":24329011,"reputation":103,"user_id":18268160,"display_name":"YSEO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73995696,"answer_count":1,"score":-1,"last_activity_date":1665219823,"creation_date":1665218952,"question_id":73995613,"body_markdown":"I&#39;m getting a JsonArray response from RestApi.\r\n\r\nit looks like this.\r\n\r\n[{&quot;symbol&quot;:&quot;BTC&quot;,&quot;volumeUsd24Hr&quot;:&quot;9933608358.6769638763447470&quot;,&quot;marketCapUsd&quot;:&quot;373762242595.8886412421003192&quot;,&quot;priceUsd&quot;:&quot;19494.3435967958368457&quot;,&quot;vwap24Hr&quot;:&quot;19703.2611157615056124&quot;,&quot;changePercent24Hr&quot;:&quot;-2.4906058989768847&quot;,&quot;name&quot;:&quot;Bitcoin&quot;,&quot;explorer&quot;:&quot;https:\\/\\/blockchain.info\\/&quot;,&quot;rank&quot;:&quot;1&quot;,&quot;id&quot;:&quot;bitcoin&quot;,&quot;maxSupply&quot;:&quot;21000000.0000000000000000&quot;,&quot;supply&quot;:&quot;19172856.0000000000000000&quot;},{&quot;symbol&quot;:&quot;ETH&quot;,&quot;volumeUsd24Hr&quot;:&quot;3241023190.3730390178381998&quot;,&quot;marketCapUsd&quot;:&quot;163079674691.9858451324912645&quot;,&quot;priceUsd&quot;:&quot;1329.0704167150164988&quot;,&quot;vwap24Hr&quot;:&quot;1337.1800236177182353&quot;,&quot;changePercent24Hr&quot;:&quot;-2.1575264116384809&quot;,&quot;name&quot;:&quot;Ethereum&quot;,&quot;explorer&quot;:&quot;https:\\/\\/etherscan.io\\/&quot;,&quot;rank&quot;:&quot;2&quot;,&quot;id&quot;:&quot;ethereum&quot;,&quot;maxSupply&quot;:null,&quot;supply&quot;:&quot;122702057.4990000000000000&quot;},{&quot;symbol&quot;:&quot;USDT&quot;,&quot;volumeUsd24Hr&quot;:&quot;13840788061.6519189957942816&quot;,&quot;marketCapUsd&quot;:&quot;68364449761.2046855857488307&quot;,&quot;priceUsd&quot;:&quot;1.0004593774481033&quot;,&quot;vwap24Hr&quot;:&quot;1.0004839031623615&quot;,&quot;changePercent24Hr&quot;:&quot;0.0536998153626522&quot;,&quot;name&quot;:&quot;Tether&quot;,&quot;explorer&quot;:&quot;https:\\/\\/www.omniexplorer.info\\/asset\\/31&quot;,&quot;rank&quot;:&quot;3&quot;,&quot;id&quot;:&quot;tether&quot;,&quot;maxSupply&quot;:null,&quot;supply&quot;:&quot;68333059094.8965800000000000&quot;},{&quot;symbol&quot;...\r\n\r\nThere are JsonArrays inside JsonObject.\r\n\r\nAnd I wanna extract values from Each JsonObject(symbol).\r\n\r\nSo I checked the data type of JsonObject by printing jsonArray.get(0).getClass(), and it gives me  &quot;class org.json.simple.JSONObject&quot; as expected. \r\n\r\nso I tried to extract value by using\r\n\r\n            jsonArray.get(0).get(&quot;symbol&quot;);\r\n\r\nbut this code makes compile error saying &quot; Cannot resolve method &#39;get&#39; in &#39;Object&#39; &quot; \r\n\r\nSo I needed to explicitly convert data type into JSONObject like this \r\n\r\n    ((JSONObject) jsonArray.get(0)).get(&quot;symbol&quot;)\r\n\r\n\r\nthen I got what I want.\r\n\r\nWhat I&#39;m wondering is that why should I explicitly convert jsonArray.get(0) to JSONObject,\r\n\r\neven though .getclass() says that the type of data is JSONObject \r\n\r\nHere are my Full Code .. Thanks in advance!!\r\n\r\n\r\n    public static void main(String[] args) throws IOException, ParseException {\r\n            OkHttpClient client = new OkHttpClient();\r\n            MediaType mediaType = MediaType.parse(&quot;text/plain&quot;);\r\n            Request request = new Request.Builder()\r\n                    .url(&quot;http://api.coincap.io/v2/assets&quot;)\r\n                    .get()\r\n                    .build();\r\n    \r\n            Response response = client.newCall(request).execute();\r\n    \r\n            JSONParser jsonParser = new JSONParser();\r\n            Object obj = jsonParser.parse(response.body().string());\r\n    \r\n            JSONArray jsonArray = (JSONArray) ((JSONObject) obj).get(&quot;data&quot;);\r\n            // JSONObject inside JSONArray\r\n    \r\n            System.out.println(jsonArray.get(0).getClass());\r\n            \r\n            System.out.println(((JSONObject) jsonArray.get(0)).get(&quot;symbol&quot;));\r\n    \r\n        }","title":"why should I need Explicit Type Conversion When Using JSONObject inside JsonArray?","body":"<p>I'm getting a JsonArray response from RestApi.</p>\n<p>it looks like this.</p>\n<p>[{&quot;symbol&quot;:&quot;BTC&quot;,&quot;volumeUsd24Hr&quot;:&quot;9933608358.6769638763447470&quot;,&quot;marketCapUsd&quot;:&quot;373762242595.8886412421003192&quot;,&quot;priceUsd&quot;:&quot;19494.3435967958368457&quot;,&quot;vwap24Hr&quot;:&quot;19703.2611157615056124&quot;,&quot;changePercent24Hr&quot;:&quot;-2.4906058989768847&quot;,&quot;name&quot;:&quot;Bitcoin&quot;,&quot;explorer&quot;:&quot;https://blockchain.info/&quot;,&quot;rank&quot;:&quot;1&quot;,&quot;id&quot;:&quot;bitcoin&quot;,&quot;maxSupply&quot;:&quot;21000000.0000000000000000&quot;,&quot;supply&quot;:&quot;19172856.0000000000000000&quot;},{&quot;symbol&quot;:&quot;ETH&quot;,&quot;volumeUsd24Hr&quot;:&quot;3241023190.3730390178381998&quot;,&quot;marketCapUsd&quot;:&quot;163079674691.9858451324912645&quot;,&quot;priceUsd&quot;:&quot;1329.0704167150164988&quot;,&quot;vwap24Hr&quot;:&quot;1337.1800236177182353&quot;,&quot;changePercent24Hr&quot;:&quot;-2.1575264116384809&quot;,&quot;name&quot;:&quot;Ethereum&quot;,&quot;explorer&quot;:&quot;https://etherscan.io/&quot;,&quot;rank&quot;:&quot;2&quot;,&quot;id&quot;:&quot;ethereum&quot;,&quot;maxSupply&quot;:null,&quot;supply&quot;:&quot;122702057.4990000000000000&quot;},{&quot;symbol&quot;:&quot;USDT&quot;,&quot;volumeUsd24Hr&quot;:&quot;13840788061.6519189957942816&quot;,&quot;marketCapUsd&quot;:&quot;68364449761.2046855857488307&quot;,&quot;priceUsd&quot;:&quot;1.0004593774481033&quot;,&quot;vwap24Hr&quot;:&quot;1.0004839031623615&quot;,&quot;changePercent24Hr&quot;:&quot;0.0536998153626522&quot;,&quot;name&quot;:&quot;Tether&quot;,&quot;explorer&quot;:&quot;https://www.omniexplorer.info/asset/31&quot;,&quot;rank&quot;:&quot;3&quot;,&quot;id&quot;:&quot;tether&quot;,&quot;maxSupply&quot;:null,&quot;supply&quot;:&quot;68333059094.8965800000000000&quot;},{&quot;symbol&quot;...</p>\n<p>There are JsonArrays inside JsonObject.</p>\n<p>And I wanna extract values from Each JsonObject(symbol).</p>\n<p>So I checked the data type of JsonObject by printing jsonArray.get(0).getClass(), and it gives me  &quot;class org.json.simple.JSONObject&quot; as expected.</p>\n<p>so I tried to extract value by using</p>\n<pre><code>        jsonArray.get(0).get(&quot;symbol&quot;);\n</code></pre>\n<p>but this code makes compile error saying &quot; Cannot resolve method 'get' in 'Object' &quot;</p>\n<p>So I needed to explicitly convert data type into JSONObject like this</p>\n<pre><code>((JSONObject) jsonArray.get(0)).get(&quot;symbol&quot;)\n</code></pre>\n<p>then I got what I want.</p>\n<p>What I'm wondering is that why should I explicitly convert jsonArray.get(0) to JSONObject,</p>\n<p>even though .getclass() says that the type of data is JSONObject</p>\n<p>Here are my Full Code .. Thanks in advance!!</p>\n<pre><code>public static void main(String[] args) throws IOException, ParseException {\n        OkHttpClient client = new OkHttpClient();\n        MediaType mediaType = MediaType.parse(&quot;text/plain&quot;);\n        Request request = new Request.Builder()\n                .url(&quot;http://api.coincap.io/v2/assets&quot;)\n                .get()\n                .build();\n\n        Response response = client.newCall(request).execute();\n\n        JSONParser jsonParser = new JSONParser();\n        Object obj = jsonParser.parse(response.body().string());\n\n        JSONArray jsonArray = (JSONArray) ((JSONObject) obj).get(&quot;data&quot;);\n        // JSONObject inside JSONArray\n\n        System.out.println(jsonArray.get(0).getClass());\n        \n        System.out.println(((JSONObject) jsonArray.get(0)).get(&quot;symbol&quot;));\n\n    }\n</code></pre>\n"},{"tags":["java","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":14492583,"reputation":701,"user_id":10468291,"display_name":"Patrick Hooijer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665219402,"creation_date":1665219402,"answer_id":73995656,"question_id":73993508,"body_markdown":"[`Mono.onErrorResume`][1] seems to be the operator you are looking for: It allows you to switch to a different Mono (in your case one based on `auth()`) when an error occurs:\r\n\r\n```java\r\npublic Mono&lt;ApiResponse&gt; getApiResponse() {\r\n    return Mono.justOrEmpty(token.get())\r\n            .switchIfEmpty(Mono.defer(() -&gt; auth()\r\n                    .doOnNext(token::set)))\r\n            .flatMap(this::requestApi)\r\n            .onErrorResume(SecurityException.class, error -&gt; auth()\r\n                    .doOnNext(token::set)\r\n                    .flatMap(this::requestApi))\r\n            .retryWhen(Retry.backoff(3, Duration.ofSeconds(2)));\r\n}\r\n```\r\n\r\nNote that I assumed you get a SecurityException if the token is overdue. You can change it to a different class, or even a `Predicate&lt;Throwable&gt;` to catch the overdue token exception. It is recommended to catch this specific error instead of all errors, else it will also refresh the token on other errors, like when the service is unreachable.\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#onErrorResume-java.util.function.Function-","title":"How to use dynamic parameters in Mono retries?","body":"<p><a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#onErrorResume-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Mono.onErrorResume</code></a> seems to be the operator you are looking for: It allows you to switch to a different Mono (in your case one based on <code>auth()</code>) when an error occurs:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Mono&lt;ApiResponse&gt; getApiResponse() {\n    return Mono.justOrEmpty(token.get())\n            .switchIfEmpty(Mono.defer(() -&gt; auth()\n                    .doOnNext(token::set)))\n            .flatMap(this::requestApi)\n            .onErrorResume(SecurityException.class, error -&gt; auth()\n                    .doOnNext(token::set)\n                    .flatMap(this::requestApi))\n            .retryWhen(Retry.backoff(3, Duration.ofSeconds(2)));\n}\n</code></pre>\n<p>Note that I assumed you get a SecurityException if the token is overdue. You can change it to a different class, or even a <code>Predicate&lt;Throwable&gt;</code> to catch the overdue token exception. It is recommended to catch this specific error instead of all errors, else it will also refresh the token on other errors, like when the service is unreachable.</p>\n"}],"owner":{"account_id":4983101,"reputation":107,"user_id":4007478,"display_name":"Seventh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73995656,"answer_count":1,"score":0,"last_activity_date":1665219402,"creation_date":1665187694,"question_id":73993508,"body_markdown":"I&#39;m writing a web client for an API. \r\nEvery request should be accompanied with an access_token that may overdue. \r\nWhat i want is to catch cases where request is failed due to overdue token, refresh it and retry the request. The issue is that I&#39;m receiving the token as a Mono via the same webClient.\r\n\r\nWhat I actually want is something like this:\r\n\r\n    private AtomicReference&lt;Token&gt; token\r\n    ...\r\n    public Mono&lt;ApiResponse&gt; callApi() {\r\n        return Mono.justOrEmpty(token.get())\r\n            .switchIfEmpty(\r\n                Mono.defer(() -&gt; auth()\r\n                    .doOnNext(token::set)))\r\n            .flatMap(token -&gt; performRequest(token))\r\n            .doOnError(e -&gt; {\r\n                 var newToken = auth().block() // I obviously can&#39;t block here \r\n                 token.set(newToken);\r\n             }) \r\n            .retry(5);\r\n    }\r\n    \r\n    private Mono&lt;Token&gt; auth() {\r\n         // api call here that returns token\r\n    }\r\n\r\n\r\nSo what&#39;s the correct reactive way to update token and then retry request with it?\r\n\r\n===UPD===\r\nI managed to handle it, however, it looks a bit wanky. \r\nProbably you have a better solution?\r\n    \r\n\r\n    private AtomicReference&lt;TokenHolder&gt; tokenHolder = new AtomicReference&lt;&gt;();\r\n    private AtomicBoolean lastQueryFailed = new AtomicBoolean();\r\n\r\n    public Mono&lt;ApiResponse&gt; getApiResponse() {\r\n        return Mono.defer(this::getToken)\r\n                .flatMap(this::requestApi)\r\n                .doOnError((e) -&gt; {\r\n                    log.error(e)\r\n                    lastQueryFailed.set(true);\r\n                })\r\n                .retryWhen(Retry.backoff(\r\n                        3,\r\n                        Duration.ofSeconds(2)\r\n                ));\r\n    }\r\n    \r\n    private Mono&lt;Token&gt; getToken() {\r\n        if (tokenHolder.get() == null) {\r\n            return auth()\r\n                    .doOnNext(tokenHolder::set);\r\n        }\r\n        if (!lastQueryFailed.get()) {\r\n            return Mono.just(tokenHolder.get());\r\n        }\r\n        return auth()\r\n                .doOnNext(tokenHolder::set);\r\n    }\r\n    \r\n    private Mono&lt;Token&gt; auth() {\r\n        // api call here that returns token\r\n    }\r\n\r\n","title":"How to use dynamic parameters in Mono retries?","body":"<p>I'm writing a web client for an API.\nEvery request should be accompanied with an access_token that may overdue.\nWhat i want is to catch cases where request is failed due to overdue token, refresh it and retry the request. The issue is that I'm receiving the token as a Mono via the same webClient.</p>\n<p>What I actually want is something like this:</p>\n<pre><code>private AtomicReference&lt;Token&gt; token\n...\npublic Mono&lt;ApiResponse&gt; callApi() {\n    return Mono.justOrEmpty(token.get())\n        .switchIfEmpty(\n            Mono.defer(() -&gt; auth()\n                .doOnNext(token::set)))\n        .flatMap(token -&gt; performRequest(token))\n        .doOnError(e -&gt; {\n             var newToken = auth().block() // I obviously can't block here \n             token.set(newToken);\n         }) \n        .retry(5);\n}\n\nprivate Mono&lt;Token&gt; auth() {\n     // api call here that returns token\n}\n</code></pre>\n<p>So what's the correct reactive way to update token and then retry request with it?</p>\n<p>===UPD===\nI managed to handle it, however, it looks a bit wanky.\nProbably you have a better solution?</p>\n<pre><code>private AtomicReference&lt;TokenHolder&gt; tokenHolder = new AtomicReference&lt;&gt;();\nprivate AtomicBoolean lastQueryFailed = new AtomicBoolean();\n\npublic Mono&lt;ApiResponse&gt; getApiResponse() {\n    return Mono.defer(this::getToken)\n            .flatMap(this::requestApi)\n            .doOnError((e) -&gt; {\n                log.error(e)\n                lastQueryFailed.set(true);\n            })\n            .retryWhen(Retry.backoff(\n                    3,\n                    Duration.ofSeconds(2)\n            ));\n}\n\nprivate Mono&lt;Token&gt; getToken() {\n    if (tokenHolder.get() == null) {\n        return auth()\n                .doOnNext(tokenHolder::set);\n    }\n    if (!lastQueryFailed.get()) {\n        return Mono.just(tokenHolder.get());\n    }\n    return auth()\n            .doOnNext(tokenHolder::set);\n}\n\nprivate Mono&lt;Token&gt; auth() {\n    // api call here that returns token\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","testng","testng-eclipse"],"comments":[{"owner":{"account_id":13474768,"reputation":3872,"user_id":9722122,"display_name":"Mustahsan"},"score":0,"creation_date":1561543195,"post_id":56769978,"comment_id":100095711,"body_markdown":"test methods should have @Test annotation","body":"test methods should have @Test annotation"},{"owner":{"account_id":5707603,"reputation":71,"user_id":4510602,"display_name":"Akshay Dubey"},"score":0,"creation_date":1561543305,"post_id":56769978,"comment_id":100095767,"body_markdown":"@test annotation is missing in ur case. As it is unable to find the test","body":"@test annotation is missing in ur case. As it is unable to find the test"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1561624175,"creation_date":1561543341,"answer_id":56770108,"question_id":56769978,"body_markdown":"This error message...\r\n\r\n\t[TestNG] No tests found. Nothing was run\r\n\r\n...implies that **TestNG** didn&#39;t find any `@Test` to execute.\r\n\r\nYour main issue is though you have imported `Test` as:\r\n\r\n\timport org.testng.annotations.Test;\r\n\t\r\nBut your code block has no `@Test` as such but includes a `@BeforeClass`. As there are **no tests**, TestNG doesn&#39;t find any _Test_ to execute.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nThe easiest solution would be to change the `@BeforeTest` annotation with **`@Test`** and execute you _Test case_ / _Test Suite_.","title":"&quot;TestNG No tests found. Nothing was run&quot; while executing automated tests using Selenium through TestNG","body":"<p>This error message...</p>\n\n<pre><code>[TestNG] No tests found. Nothing was run\n</code></pre>\n\n<p>...implies that <strong>TestNG</strong> didn't find any <code>@Test</code> to execute.</p>\n\n<p>Your main issue is though you have imported <code>Test</code> as:</p>\n\n<pre><code>import org.testng.annotations.Test;\n</code></pre>\n\n<p>But your code block has no <code>@Test</code> as such but includes a <code>@BeforeClass</code>. As there are <strong>no tests</strong>, TestNG doesn't find any <em>Test</em> to execute.</p>\n\n<hr>\n\n<h2>Solution</h2>\n\n<p>The easiest solution would be to change the <code>@BeforeTest</code> annotation with <strong><code>@Test</code></strong> and execute you <em>Test case</em> / <em>Test Suite</em>.</p>\n"},{"tags":[],"owner":{"account_id":6850266,"reputation":79,"user_id":5267639,"accept_rate":43,"display_name":"Yuvraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570215821,"creation_date":1570215507,"answer_id":58241867,"question_id":56769978,"body_markdown":"Because your main method have been put under beforeclass annotation.\r\nThe main method does not take any annotation. If you provide any TestNG annotation to the main method then this error is thrown.\r\nWhen using TestNG you don&#39;t write a main method. It is not that main method along with other tests with @test annotation will not run, it is just that the main method does not take any annotation. It is only the non-main methods that take TestNG annotations.\r\nIf you have a regular java main method and the other @test methods in the same class, the program will compile and run successfully but the main method will be ignored and won&#39;t run at all. It is only the other @test methods that will run.","title":"&quot;TestNG No tests found. Nothing was run&quot; while executing automated tests using Selenium through TestNG","body":"<p>Because your main method have been put under beforeclass annotation.\nThe main method does not take any annotation. If you provide any TestNG annotation to the main method then this error is thrown.\nWhen using TestNG you don't write a main method. It is not that main method along with other tests with @test annotation will not run, it is just that the main method does not take any annotation. It is only the non-main methods that take TestNG annotations.\nIf you have a regular java main method and the other @test methods in the same class, the program will compile and run successfully but the main method will be ignored and won't run at all. It is only the other @test methods that will run.</p>\n"},{"tags":[],"owner":{"account_id":19795312,"reputation":1,"user_id":14497383,"display_name":"KOFI O."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604369536,"creation_date":1604369536,"answer_id":64655874,"question_id":56769978,"body_markdown":"Firstly,annotation @BeforeClass is not a &quot;@Test&quot; ,it only works as a clue or guidelines for the execution of the actual &quot;@Test&quot;. Replace @BeforeClass with @Test, and \r\nagain replace (public static void main(String[]args) with &quot;public void guru99()&quot; or &quot;public static void guru99()&quot;.\r\n\r\n","title":"&quot;TestNG No tests found. Nothing was run&quot; while executing automated tests using Selenium through TestNG","body":"<p>Firstly,annotation @BeforeClass is not a &quot;@Test&quot; ,it only works as a clue or guidelines for the execution of the actual &quot;@Test&quot;. Replace @BeforeClass with @Test, and\nagain replace (public static void main(String[]args) with &quot;public void guru99()&quot; or &quot;public static void guru99()&quot;.</p>\n"},{"tags":[],"owner":{"account_id":2707688,"reputation":773,"user_id":2336934,"display_name":"dan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608321672,"creation_date":1608321672,"answer_id":65363243,"question_id":56769978,"body_markdown":"I encountered this error when my `test` (`@Test` annotated) methods in my Groovy TestNG test class were declared using the `def` method syntax from Groovy.  TestNG ***does*** let you write your test methods in Groovy but it gripes if they don&#39;t have the usual Java declared syntax.\r\n\r\n**Not this:**\r\n\r\n    @Test\r\n    def testDoWork {\r\n       ...\r\n\r\n**Do this:**\r\n\r\n    @Test\r\n    public void testDoWork {\r\n       ...\r\n\r\nSet it back to `@Test public void testMethodName() {` syntax and you&#39;ll be good again.","title":"&quot;TestNG No tests found. Nothing was run&quot; while executing automated tests using Selenium through TestNG","body":"<p>I encountered this error when my <code>test</code> (<code>@Test</code> annotated) methods in my Groovy TestNG test class were declared using the <code>def</code> method syntax from Groovy.  TestNG <em><strong>does</strong></em> let you write your test methods in Groovy but it gripes if they don't have the usual Java declared syntax.</p>\n<p><strong>Not this:</strong></p>\n<pre><code>@Test\ndef testDoWork {\n   ...\n</code></pre>\n<p><strong>Do this:</strong></p>\n<pre><code>@Test\npublic void testDoWork {\n   ...\n</code></pre>\n<p>Set it back to <code>@Test public void testMethodName() {</code> syntax and you'll be good again.</p>\n"},{"tags":[],"owner":{"account_id":21004357,"reputation":13,"user_id":15434502,"display_name":"Aditya Shastri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619623587,"creation_date":1619623587,"answer_id":67303163,"question_id":56769978,"body_markdown":"This error may also occur when we tried to run TestNG testcase without fixing build path error in the project.(testNG jar was added after project configuration..)\r\n\r\nSo you will not get compile time error for any TestNG annotations used but when trying to run the code you will fall into this error as Project will be unable to build the properties of TestNG until you get rid of build path errors....\r\n\r\nResolution:\r\n\r\n1.check if annotations are properly used.\r\n\r\n2.check if any build path error exist in the project. if yes then resolve the issue in your build path and then give another try.","title":"&quot;TestNG No tests found. Nothing was run&quot; while executing automated tests using Selenium through TestNG","body":"<p>This error may also occur when we tried to run TestNG testcase without fixing build path error in the project.(testNG jar was added after project configuration..)</p>\n<p>So you will not get compile time error for any TestNG annotations used but when trying to run the code you will fall into this error as Project will be unable to build the properties of TestNG until you get rid of build path errors....</p>\n<p>Resolution:</p>\n<p>1.check if annotations are properly used.</p>\n<p>2.check if any build path error exist in the project. if yes then resolve the issue in your build path and then give another try.</p>\n"}],"owner":{"account_id":16207317,"reputation":37,"user_id":11702200,"display_name":"Jimin Park"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34872,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":5,"score":1,"last_activity_date":1665219074,"creation_date":1561542894,"question_id":56769978,"body_markdown":"![image](https://i.stack.imgur.com/dTuP9.jpg)\r\n\r\nI want to know what exact software should I install before I run my automation project. Selenium web driver, selenium java, testNG, junit was installed but there are some problems with that also. \r\n1. Selenium java file doesn&#39;t have more JAR files like people shows in their video tutorials. \r\n2. When I&#39; going to run my project as testNG, eclipse said windows firewall has blocked some features of this app.","title":"&quot;TestNG No tests found. Nothing was run&quot; while executing automated tests using Selenium through TestNG","body":"<p><img src=\"https://i.stack.imgur.com/dTuP9.jpg\" alt=\"image\"></p>\n\n<p>I want to know what exact software should I install before I run my automation project. Selenium web driver, selenium java, testNG, junit was installed but there are some problems with that also. \n1. Selenium java file doesn't have more JAR files like people shows in their video tutorials. \n2. When I' going to run my project as testNG, eclipse said windows firewall has blocked some features of this app.</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":26552100,"reputation":470,"user_id":20181249,"display_name":"Sandeep Kumar Nat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665218422,"creation_date":1665218422,"answer_id":73995561,"question_id":73995285,"body_markdown":"If you want to achieve hibernate with two Database: use session factory like below.\r\n\r\nBut i recommend use Spring Data JPA it will give more specification and easier to understand.\r\n\r\n\r\n     \r\n     public class Transfer {\r\n\t    public static void main(String[] args) {\r\n\t    \t// get the SessionFacotry\r\n\t    \tSessionFactory connectionAFactory = HibernateConf.getSessionFactory();\r\n\t\t    SessionFactory connectionBFactory= DataSourceConfig.getSessionFactory();\r\n\t\t    // get The Session\r\n\t\t    Session connectionASes = HibernateConf.getSession();\r\n\t\t    Session connectionBSes = DataSourceConfig.getSession();\r\n\t\t   \r\n","title":"hibernate5 + spring boot connect multiple databases","body":"<p>If you want to achieve hibernate with two Database: use session factory like below.</p>\n<p>But i recommend use Spring Data JPA it will give more specification and easier to understand.</p>\n<pre><code> public class Transfer {\n    public static void main(String[] args) {\n        // get the SessionFacotry\n        SessionFactory connectionAFactory = HibernateConf.getSessionFactory();\n        SessionFactory connectionBFactory= DataSourceConfig.getSessionFactory();\n        // get The Session\n        Session connectionASes = HibernateConf.getSession();\n        Session connectionBSes = DataSourceConfig.getSession();\n       \n</code></pre>\n"},{"tags":[],"owner":{"account_id":26562582,"reputation":71,"user_id":20190174,"display_name":"Sumit Dhyani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665218503,"creation_date":1665218503,"answer_id":73995572,"question_id":73995285,"body_markdown":"For this you can configure your data connection beans like this:\r\n\r\n\r\n    @Configuration\r\n    public class DataSourceConfig {\r\n    \r\n        @Primary\r\n        @Bean(name = &quot;test1DataSource&quot;)\r\n        @ConfigurationProperties(prefix = &quot;spring.datasource.test1&quot;)\r\n        public DataSource test1DataSource() {\r\n            return DataSourceBuilder.create().build();\r\n        }\r\n    \r\n        @Bean(name = &quot;test2DataSource&quot;)\r\n        @ConfigurationProperties(prefix = &quot;spring.datasource.test2&quot;)\r\n        public DataSource test2DataSource() {\r\n            return DataSourceBuilder.create().build();\r\n        }\r\n    \r\n        @Primary\r\n        @Autowired\r\n        @Bean(name = &quot;test1Connection&quot;)\r\n        public NamedParameterJdbcTemplate test1JdbcTemplate(@Qualifier(&quot;test1DataSource&quot;) DataSource dataSource) {\r\n            return new NamedParameterJdbcTemplate(dataSource);\r\n        }\r\n    \r\n        @Autowired\r\n        @Bean(name =&quot;test2Connection&quot;)\r\n        public NamedParameterJdbcTemplate test2JdbcTemplate(@Qualifier(&quot;test2DataSource&quot;) DataSource dataSource) {\r\n            return new NamedParameterJdbcTemplate(dataSource);\r\n        }\r\n    }\r\n\r\n\r\nAfter that you can autowire them separately by using @Qualifier in following way in your service class:\r\n\r\n    @Service\r\n    @Transactional\r\n    public class TestRepositoryImpl implements TestRepository{\r\n    \r\n        @Qualifier(&quot;test1Connection&quot;)\r\n        @Autowired\r\n        private SessionFactory sessionFactory1;\r\n    \r\n        @Qualifier(&quot;test2Connection&quot;)\r\n        @Autowired\r\n        private SessionFactory sessionFactory2;\r\n    ...\r\n    ...\r\n    }\r\n\r\n","title":"hibernate5 + spring boot connect multiple databases","body":"<p>For this you can configure your data connection beans like this:</p>\n<pre><code>@Configuration\npublic class DataSourceConfig {\n\n    @Primary\n    @Bean(name = &quot;test1DataSource&quot;)\n    @ConfigurationProperties(prefix = &quot;spring.datasource.test1&quot;)\n    public DataSource test1DataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Bean(name = &quot;test2DataSource&quot;)\n    @ConfigurationProperties(prefix = &quot;spring.datasource.test2&quot;)\n    public DataSource test2DataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Primary\n    @Autowired\n    @Bean(name = &quot;test1Connection&quot;)\n    public NamedParameterJdbcTemplate test1JdbcTemplate(@Qualifier(&quot;test1DataSource&quot;) DataSource dataSource) {\n        return new NamedParameterJdbcTemplate(dataSource);\n    }\n\n    @Autowired\n    @Bean(name =&quot;test2Connection&quot;)\n    public NamedParameterJdbcTemplate test2JdbcTemplate(@Qualifier(&quot;test2DataSource&quot;) DataSource dataSource) {\n        return new NamedParameterJdbcTemplate(dataSource);\n    }\n}\n</code></pre>\n<p>After that you can autowire them separately by using @Qualifier in following way in your service class:</p>\n<pre><code>@Service\n@Transactional\npublic class TestRepositoryImpl implements TestRepository{\n\n    @Qualifier(&quot;test1Connection&quot;)\n    @Autowired\n    private SessionFactory sessionFactory1;\n\n    @Qualifier(&quot;test2Connection&quot;)\n    @Autowired\n    private SessionFactory sessionFactory2;\n...\n...\n}\n</code></pre>\n"}],"owner":{"account_id":20039035,"reputation":3,"user_id":14690108,"display_name":"Yves J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665218503,"creation_date":1665215245,"question_id":73995285,"body_markdown":"I want to use hibernate to connect two different databases and use different sessionfactory to operate the data\r\n\r\nIn the example below , Another datasource and LocalSessionFactoryBean will be added in the @Configuration class , but how do I give these two sessionFactory specific names?\r\n\r\n\r\n## Reference: ##\r\n&lt;https://www.baeldung.com/hibernate-5-spring&gt; \r\n\r\n&lt;br&gt;\r\n\r\n```\r\n@Configuration\r\n@EnableTransactionManagement\r\npublic class HibernateConf {\r\n\r\n    @Bean\r\n    public LocalSessionFactoryBean sessionFactory() {\r\n        LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\r\n        sessionFactory.setDataSource(dataSource());\r\n        sessionFactory.setPackagesToScan(\r\n          {&quot;com.baeldung.hibernate.bootstrap.model&quot; });\r\n        sessionFactory.setHibernateProperties(hibernateProperties());\r\n\r\n        return sessionFactory;\r\n    }\r\n\r\n    @Bean\r\n    public DataSource dataSource() {\r\n        BasicDataSource dataSource = new BasicDataSource();\r\n        dataSource.setDriverClassName(&quot;org.h2.Driver&quot;);\r\n        dataSource.setUrl(&quot;jdbc:h2:mem:db;DB_CLOSE_DELAY=-1&quot;);\r\n        dataSource.setUsername(&quot;sa&quot;);\r\n        dataSource.setPassword(&quot;sa&quot;);\r\n\r\n        return dataSource;\r\n    }\r\n\r\n    @Bean\r\n    public PlatformTransactionManager hibernateTransactionManager() {\r\n        HibernateTransactionManager transactionManager\r\n          = new HibernateTransactionManager();\r\n        transactionManager.setSessionFactory(sessionFactory().getObject());\r\n        return transactionManager;\r\n    }\r\n\r\n    private final Properties hibernateProperties() {\r\n        Properties hibernateProperties = new Properties();\r\n        hibernateProperties.setProperty(\r\n          &quot;hibernate.hbm2ddl.auto&quot;, &quot;create-drop&quot;);\r\n        hibernateProperties.setProperty(\r\n          &quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.H2Dialect&quot;);\r\n\r\n        return hibernateProperties;\r\n    }\r\n}\r\n```\r\n\r\n### Want to reach the effect: ###\r\n\r\n```\r\n@Service\r\n@Transactional\r\npublic class TestRepositoryImpl implements TestRepository{\r\n\r\n\t@Qualifier(&quot;connectionA&quot;)\r\n\t@Autowired\r\n\tprivate SessionFactory sessionFactory;\r\n\r\n\t@Qualifier(&quot;connectionB&quot;)\r\n\t@Autowired\r\n\tprivate SessionFactory sessionFactory;\r\n...\r\n...\r\n}\r\n```\r\n\r\n### Another project example: ###\r\n\r\n```\r\n@Configuration\r\npublic class DataSourceConfig {\r\n\r\n\t@Primary\r\n    @Bean(name = &quot;test1DataSource&quot;)\r\n    @ConfigurationProperties(prefix = &quot;spring.datasource.test1&quot;)\r\n    public DataSource test1DataSource() {\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n\r\n    @Bean(name = &quot;test2DataSource&quot;)\r\n    @ConfigurationProperties(prefix = &quot;spring.datasource.test2&quot;)\r\n    public DataSource test2DataSource() {\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n\r\n    @Primary\r\n    @Autowired\r\n    @Bean(name = &quot;test1Connection&quot;)\r\n    public NamedParameterJdbcTemplate test1JdbcTemplate(@Qualifier(&quot;test1DataSource&quot;) DataSource dataSource) {\r\n        return new NamedParameterJdbcTemplate(dataSource);\r\n    }\r\n\r\n    @Autowired\r\n    @Bean(name =&quot;test2Connection&quot;)\r\n    public NamedParameterJdbcTemplate test2JdbcTemplate(@Qualifier(&quot;test2DataSource&quot;) DataSource dataSource) {\r\n        return new NamedParameterJdbcTemplate(dataSource);\r\n    }\r\n}\r\n```\r\n\r\nAny help is greatly appreciated!","title":"hibernate5 + spring boot connect multiple databases","body":"<p>I want to use hibernate to connect two different databases and use different sessionfactory to operate the data</p>\n<p>In the example below , Another datasource and LocalSessionFactoryBean will be added in the @Configuration class , but how do I give these two sessionFactory specific names?</p>\n<h2>Reference:</h2>\n<p><a href=\"https://www.baeldung.com/hibernate-5-spring\" rel=\"nofollow noreferrer\">https://www.baeldung.com/hibernate-5-spring</a></p>\n<br>\n<pre><code>@Configuration\n@EnableTransactionManagement\npublic class HibernateConf {\n\n    @Bean\n    public LocalSessionFactoryBean sessionFactory() {\n        LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\n        sessionFactory.setDataSource(dataSource());\n        sessionFactory.setPackagesToScan(\n          {&quot;com.baeldung.hibernate.bootstrap.model&quot; });\n        sessionFactory.setHibernateProperties(hibernateProperties());\n\n        return sessionFactory;\n    }\n\n    @Bean\n    public DataSource dataSource() {\n        BasicDataSource dataSource = new BasicDataSource();\n        dataSource.setDriverClassName(&quot;org.h2.Driver&quot;);\n        dataSource.setUrl(&quot;jdbc:h2:mem:db;DB_CLOSE_DELAY=-1&quot;);\n        dataSource.setUsername(&quot;sa&quot;);\n        dataSource.setPassword(&quot;sa&quot;);\n\n        return dataSource;\n    }\n\n    @Bean\n    public PlatformTransactionManager hibernateTransactionManager() {\n        HibernateTransactionManager transactionManager\n          = new HibernateTransactionManager();\n        transactionManager.setSessionFactory(sessionFactory().getObject());\n        return transactionManager;\n    }\n\n    private final Properties hibernateProperties() {\n        Properties hibernateProperties = new Properties();\n        hibernateProperties.setProperty(\n          &quot;hibernate.hbm2ddl.auto&quot;, &quot;create-drop&quot;);\n        hibernateProperties.setProperty(\n          &quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.H2Dialect&quot;);\n\n        return hibernateProperties;\n    }\n}\n</code></pre>\n<h3>Want to reach the effect:</h3>\n<pre><code>@Service\n@Transactional\npublic class TestRepositoryImpl implements TestRepository{\n\n    @Qualifier(&quot;connectionA&quot;)\n    @Autowired\n    private SessionFactory sessionFactory;\n\n    @Qualifier(&quot;connectionB&quot;)\n    @Autowired\n    private SessionFactory sessionFactory;\n...\n...\n}\n</code></pre>\n<h3>Another project example:</h3>\n<pre><code>@Configuration\npublic class DataSourceConfig {\n\n    @Primary\n    @Bean(name = &quot;test1DataSource&quot;)\n    @ConfigurationProperties(prefix = &quot;spring.datasource.test1&quot;)\n    public DataSource test1DataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Bean(name = &quot;test2DataSource&quot;)\n    @ConfigurationProperties(prefix = &quot;spring.datasource.test2&quot;)\n    public DataSource test2DataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Primary\n    @Autowired\n    @Bean(name = &quot;test1Connection&quot;)\n    public NamedParameterJdbcTemplate test1JdbcTemplate(@Qualifier(&quot;test1DataSource&quot;) DataSource dataSource) {\n        return new NamedParameterJdbcTemplate(dataSource);\n    }\n\n    @Autowired\n    @Bean(name =&quot;test2Connection&quot;)\n    public NamedParameterJdbcTemplate test2JdbcTemplate(@Qualifier(&quot;test2DataSource&quot;) DataSource dataSource) {\n        return new NamedParameterJdbcTemplate(dataSource);\n    }\n}\n</code></pre>\n<p>Any help is greatly appreciated!</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1665213211,"post_id":73995093,"comment_id":130651119,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665214531,"creation_date":1665214531,"answer_id":73995213,"question_id":73995093,"body_markdown":"Do the following things -\r\n\r\n1. Create a File and save editText content in that file and save the file in your external storage.\r\n2. Use Drive API to upload this file to google drive check the below document.\r\n\r\nCheck this link -  [google drive integration in android][1]\r\n\r\n\r\n  [1]: https://medium.com/android-dev-hacks/integrating-google-drive-api-in-android-applications-18024f42391c","title":"How to upload edittext content to Google Drive as a Google Doc?","body":"<p>Do the following things -</p>\n<ol>\n<li>Create a File and save editText content in that file and save the file in your external storage.</li>\n<li>Use Drive API to upload this file to google drive check the below document.</li>\n</ol>\n<p>Check this link -  <a href=\"https://medium.com/android-dev-hacks/integrating-google-drive-api-in-android-applications-18024f42391c\" rel=\"nofollow noreferrer\">google drive integration in android</a></p>\n"}],"owner":{"account_id":26251117,"reputation":7,"user_id":19923915,"display_name":"George Wann"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1665218287,"creation_date":1665213189,"question_id":73995093,"body_markdown":"I want to upload edittext content to Google Drive as a Google Doc, is there anyway to do this in Android?","title":"How to upload edittext content to Google Drive as a Google Doc?","body":"<p>I want to upload edittext content to Google Drive as a Google Doc, is there anyway to do this in Android?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"score":0,"creation_date":1477335852,"post_id":40225624,"comment_id":67714746,"body_markdown":"don&#39;t read in the number from the user twice each time you ask for an input","body":"don&#39;t read in the number from the user twice each time you ask for an input"},{"owner":{"account_id":9327063,"reputation":31,"user_id":6923959,"accept_rate":100,"display_name":"John Smth"},"score":0,"creation_date":1477335991,"post_id":40225624,"comment_id":67714800,"body_markdown":"@RAZ_Muh_Taz that still brings the 0&#39;s as the largest and smallest. Any other thoughts?","body":"@RAZ_Muh_Taz that still brings the 0&#39;s as the largest and smallest. Any other thoughts?"},{"owner":{"account_id":9327063,"reputation":31,"user_id":6923959,"accept_rate":100,"display_name":"John Smth"},"score":1,"creation_date":1477336068,"post_id":40225624,"comment_id":67714839,"body_markdown":"@OrangeDog yup i know of that one i linked the URL, my question is why it gives me 0&#39;s as the smallest and largest.","body":"@OrangeDog yup i know of that one i linked the URL, my question is why it gives me 0&#39;s as the smallest and largest."},{"owner":{"account_id":6018851,"reputation":3101,"user_id":4726707,"accept_rate":70,"display_name":"Blip"},"score":0,"creation_date":1477336107,"post_id":40225624,"comment_id":67714858,"body_markdown":"what is the utility of your while loop?","body":"what is the utility of your while loop?"},{"owner":{"account_id":9327063,"reputation":31,"user_id":6923959,"accept_rate":100,"display_name":"John Smth"},"score":0,"creation_date":1477336362,"post_id":40225624,"comment_id":67714990,"body_markdown":"@Blip by utility do you mean what is it purpose?","body":"@Blip by utility do you mean what is it purpose?"},{"owner":{"account_id":6018851,"reputation":3101,"user_id":4726707,"accept_rate":70,"display_name":"Blip"},"score":0,"creation_date":1477336432,"post_id":40225624,"comment_id":67715038,"body_markdown":"@JohnSmth that is true","body":"@JohnSmth that is true"},{"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"score":0,"creation_date":1477336478,"post_id":40225624,"comment_id":67715060,"body_markdown":"you could change your large,smalles values into Integer objects, set them to null, in your if checks check if they are null and set them to whatever got entered if they are null","body":"you could change your large,smalles values into Integer objects, set them to null, in your if checks check if they are null and set them to whatever got entered if they are null"},{"owner":{"account_id":9459231,"reputation":445,"user_id":7033530,"display_name":"thetraveller"},"score":0,"creation_date":1477336551,"post_id":40225624,"comment_id":67715100,"body_markdown":"There is no connection here between you &#39;while` and `for-loop`. n is the number of times you are running your `for-loop` but not reading any number. What you are trying to accomplish is get number from user until they enter they want to quit.\n\nSo nothing is changing in your &#39;`for-loop` it actually never runs because last number is -99 which quits the while loop and condition will be `2&lt;-99` which is false. So it actually never entered the `for-loop`.","body":"There is no connection here between you &#39;while` and <code>for-loop</code>. n is the number of times you are running your <code>for-loop</code> but not reading any number. What you are trying to accomplish is get number from user until they enter they want to quit.  So nothing is changing in your &#39;<code>for-loop</code> it actually never runs because last number is -99 which quits the while loop and condition will be <code>2&lt;-99</code> which is false. So it actually never entered the <code>for-loop</code>."},{"owner":{"account_id":9327063,"reputation":31,"user_id":6923959,"accept_rate":100,"display_name":"John Smth"},"score":0,"creation_date":1477336820,"post_id":40225624,"comment_id":67715225,"body_markdown":"@Niraj Patel can you explain how to remedy this? I&#39;m very new to programming.","body":"@Niraj Patel can you explain how to remedy this? I&#39;m very new to programming."},{"owner":{"account_id":9327063,"reputation":31,"user_id":6923959,"accept_rate":100,"display_name":"John Smth"},"score":0,"creation_date":1477337260,"post_id":40225624,"comment_id":67715468,"body_markdown":"@Blip that&#39;s to give the user a way to stop inputting numbers and to get the largest/smallest values.","body":"@Blip that&#39;s to give the user a way to stop inputting numbers and to get the largest/smallest values."},{"owner":{"account_id":9459231,"reputation":445,"user_id":7033530,"display_name":"thetraveller"},"score":0,"creation_date":1477337437,"post_id":40225624,"comment_id":67715575,"body_markdown":"Sure, you don&#39;t need `for-loop` dump everything inside the while and use only one user-input instead of two.","body":"Sure, you don&#39;t need <code>for-loop</code> dump everything inside the while and use only one user-input instead of two."},{"owner":{"account_id":6018851,"reputation":3101,"user_id":4726707,"accept_rate":70,"display_name":"Blip"},"score":0,"creation_date":1477337629,"post_id":40225624,"comment_id":67715707,"body_markdown":"I think you do not understand the flow of the program. First the user is asked how many numbers does he want input in order to compare. Then the program ask the user to input that many number of integers after which it prints the result. Now with your modification, you have created a while loop which is running infinitely till the user inputs -99. So, in the next step the program requires to ask for inputs n number of times. Here the program encounters -99 times. So the program doesn&#39;t take any input from the user and prints the variable large and smallest which have been initialised to 0.","body":"I think you do not understand the flow of the program. First the user is asked how many numbers does he want input in order to compare. Then the program ask the user to input that many number of integers after which it prints the result. Now with your modification, you have created a while loop which is running infinitely till the user inputs -99. So, in the next step the program requires to ask for inputs n number of times. Here the program encounters -99 times. So the program doesn&#39;t take any input from the user and prints the variable large and smallest which have been initialised to 0."},{"owner":{"account_id":9459231,"reputation":445,"user_id":7033530,"display_name":"thetraveller"},"score":0,"creation_date":1477337799,"post_id":40225624,"comment_id":67715794,"body_markdown":"@John I added the code in the answer. Since this post is being tagged duplicate I can&#39;t answer it.","body":"@John I added the code in the answer. Since this post is being tagged duplicate I can&#39;t answer it."},{"owner":{"account_id":468289,"reputation":178176,"user_id":874188,"accept_rate":62,"display_name":"tripleee"},"score":0,"creation_date":1665727741,"post_id":40225624,"comment_id":130770203,"body_markdown":"Duplicate of https://stackoverflow.com/questions/18525474/java-minimum-and-maximum-values-in-array","body":"Duplicate of <a href=\"https://stackoverflow.com/questions/18525474/java-minimum-and-maximum-values-in-array\" title=\"java minimum and maximum values in array\">stackoverflow.com/questions/18525474/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4187371,"reputation":4956,"user_id":3430807,"accept_rate":60,"display_name":"Andreas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1477337196,"creation_date":1477336351,"answer_id":40225793,"question_id":40225624,"body_markdown":"    import java.util.Collections;\r\n    import java.util.HashSet;\r\n    import java.util.Scanner;\r\n    import java.util.Set;\r\n    \r\n    public class LargestAndSmallest {\r\n      \r\n      public static void main(String... args) {\r\n        final Scanner keyboard = new Scanner(System.in); //init the scanner\r\n        System.out.println(&quot;Enter a number&quot;);\r\n        final Set&lt;Integer&gt; ints = new HashSet&lt;&gt;(); //init a set to hold user input\r\n        int n; //declare a variable to hold each number\r\n        while ((n = keyboard.nextInt()) != -99) { //loop until 99 is entered\r\n          ints.add(n); //add user input to our set\r\n          System.out.println(&quot;Enter more numbers, or -99 to quit.&quot;);\r\n        }\r\n        //output aggregate info\r\n        System.out.println(&quot;the largest is &quot; + Collections.max(ints)); \r\n        System.out.println(&quot;the smallest is &quot; + Collections.min(ints));\r\n      }\r\n    }\r\n\r\n","title":"Java Largest and smallest","body":"<pre><code>import java.util.Collections;\nimport java.util.HashSet;\nimport java.util.Scanner;\nimport java.util.Set;\n\npublic class LargestAndSmallest {\n\n  public static void main(String... args) {\n    final Scanner keyboard = new Scanner(System.in); //init the scanner\n    System.out.println(\"Enter a number\");\n    final Set&lt;Integer&gt; ints = new HashSet&lt;&gt;(); //init a set to hold user input\n    int n; //declare a variable to hold each number\n    while ((n = keyboard.nextInt()) != -99) { //loop until 99 is entered\n      ints.add(n); //add user input to our set\n      System.out.println(\"Enter more numbers, or -99 to quit.\");\n    }\n    //output aggregate info\n    System.out.println(\"the largest is \" + Collections.max(ints)); \n    System.out.println(\"the smallest is \" + Collections.min(ints));\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":9327063,"reputation":31,"user_id":6923959,"accept_rate":100,"display_name":"John Smth"},"comment_count":14,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1051,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1477336028,"accepted_answer_id":40225793,"answer_count":1,"score":-1,"last_activity_date":1665218159,"creation_date":1477335561,"question_id":40225624,"body_markdown":"I have a slight issue with my program. I need to ask the user to input as many numbers as they want and then the program will tell them what is the smallest and largest number. My issue is when all is said and done it prints out &quot;the largest number is 0&quot; and &quot;the smallest number is 0&quot;. It always says that even if i never enter 0. I was wondering what was wrong with the program. Any pointers or helpers would be fantastic. Again to repeat, the issue im having is that the smallest and largest come back as 0&#39;s no matter what.\r\n\r\n    import java.util.Scanner;\r\n    public class LargestAndSmallest {\r\n\r\n        public static void main(String[] args) {\r\n            int smallest = 0;\r\n            int large = 0;\r\n            int num;\r\n            Scanner keyboard = new Scanner(System.in);\r\n            System.out.println(&quot;Enter the numer&quot;);\r\n            int n = keyboard.nextInt();\r\n            num = keyboard.nextInt();\r\n            while (n != -99) {\r\n                System.out.println(&quot;Enter more numbers, or -99 to quit&quot;);\r\n                n = keyboard.nextInt();\r\n            }\r\n\r\n            for (int i = 2; i &lt; n; i++) {\r\n                num = keyboard.nextInt();\r\n\r\n                if (num &gt; large) {\r\n                    large = num;\r\n                    System.out.println(large);\r\n                }\r\n\r\n                if (num &lt; smallest) {\r\n                    smallest = num;\r\n                }\r\n            }\r\n            System.out.println(&quot;the largest is &quot; + large);\r\n            System.out.println(&quot;the smallest is &quot; + smallest);\r\n        }\r\n    }\r\n\r\n\r\nI used this code as in the first place: https://stackoverflow.com/questions/21925830/java-program-to-find-the-largest-smallest-number-in-n-numbers-without-using-ar","title":"Java Largest and smallest","body":"<p>I have a slight issue with my program. I need to ask the user to input as many numbers as they want and then the program will tell them what is the smallest and largest number. My issue is when all is said and done it prints out \"the largest number is 0\" and \"the smallest number is 0\". It always says that even if i never enter 0. I was wondering what was wrong with the program. Any pointers or helpers would be fantastic. Again to repeat, the issue im having is that the smallest and largest come back as 0's no matter what.</p>\n\n<pre><code>import java.util.Scanner;\npublic class LargestAndSmallest {\n\n    public static void main(String[] args) {\n        int smallest = 0;\n        int large = 0;\n        int num;\n        Scanner keyboard = new Scanner(System.in);\n        System.out.println(\"Enter the numer\");\n        int n = keyboard.nextInt();\n        num = keyboard.nextInt();\n        while (n != -99) {\n            System.out.println(\"Enter more numbers, or -99 to quit\");\n            n = keyboard.nextInt();\n        }\n\n        for (int i = 2; i &lt; n; i++) {\n            num = keyboard.nextInt();\n\n            if (num &gt; large) {\n                large = num;\n                System.out.println(large);\n            }\n\n            if (num &lt; smallest) {\n                smallest = num;\n            }\n        }\n        System.out.println(\"the largest is \" + large);\n        System.out.println(\"the smallest is \" + smallest);\n    }\n}\n</code></pre>\n\n<p>I used this code as in the first place: <a href=\"https://stackoverflow.com/questions/21925830/java-program-to-find-the-largest-smallest-number-in-n-numbers-without-using-ar\">Java program to find the largest &amp; smallest number in n numbers without using arrays</a></p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":13920211,"reputation":23,"user_id":12132123,"display_name":"Frigglefrack"},"score":0,"creation_date":1569609038,"post_id":58139525,"comment_id":102666045,"body_markdown":"Wait, I believe my main activity file is currently a koltin file and not a java file and maybe thats the issue.","body":"Wait, I believe my main activity file is currently a koltin file and not a java file and maybe thats the issue."},{"owner":{"account_id":16733018,"reputation":2142,"user_id":12094894,"display_name":"Simon Crane"},"score":0,"creation_date":1569609088,"post_id":58139525,"comment_id":102666065,"body_markdown":"Yes that would cause this issue - I assumed it was Java because of the syntax","body":"Yes that would cause this issue - I assumed it was Java because of the syntax"}],"answers":[{"tags":[],"owner":{"account_id":10901274,"reputation":4076,"user_id":8013471,"display_name":"cse"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1665218099,"creation_date":1569608197,"answer_id":58139654,"question_id":58139525,"body_markdown":"The problem is due to incorrect syntax. You are mixing the syntax of `Java` and `Kotlin`\r\n\r\nTo write it correctly in `Kotlin`, change the line:  \r\n\r\n    Button calcBtn =  (Button) findViewById(R.id.calculateBtn);\r\nto:\r\n\r\n    val calcBtn =  findViewById(R.id.calculateBtn) as Button\r\n\r\nTo know [basic information about Android applications in `Kotlin` see here](https://developer.android.com/kotlin/get-started.html#kotlin). To learn the basic syntax of `Kotlin`, [visit here](https://kotlinlang.org/docs/reference/basic-syntax.html).\r\n","title":"Android Studio &quot;Function invocation &#39;Button(...) expected&quot;","body":"<p>The problem is due to incorrect syntax. You are mixing the syntax of <code>Java</code> and <code>Kotlin</code></p>\n<p>To write it correctly in <code>Kotlin</code>, change the line:</p>\n<pre><code>Button calcBtn =  (Button) findViewById(R.id.calculateBtn);\n</code></pre>\n<p>to:</p>\n<pre><code>val calcBtn =  findViewById(R.id.calculateBtn) as Button\n</code></pre>\n<p>To know <a href=\"https://developer.android.com/kotlin/get-started.html#kotlin\" rel=\"nofollow noreferrer\">basic information about Android applications in <code>Kotlin</code> see here</a>. To learn the basic syntax of <code>Kotlin</code>, <a href=\"https://kotlinlang.org/docs/reference/basic-syntax.html\" rel=\"nofollow noreferrer\">visit here</a>.</p>\n"},{"tags":[],"owner":{"account_id":13599822,"reputation":21,"user_id":9810788,"display_name":"TryCatchFinally"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646929680,"creation_date":1646929680,"answer_id":71427552,"question_id":58139525,"body_markdown":"In Kotlin you can also do: \r\n\r\n```val calcBtn = findViewById&lt;Button&gt;(R.id.calculateBtn)```","title":"Android Studio &quot;Function invocation &#39;Button(...) expected&quot;","body":"<p>In Kotlin you can also do:</p>\n<p><code>val calcBtn = findViewById&lt;Button&gt;(R.id.calculateBtn)</code></p>\n"}],"owner":{"account_id":13920211,"reputation":23,"user_id":12132123,"display_name":"Frigglefrack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7999,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58139654,"answer_count":2,"score":2,"last_activity_date":1665218099,"creation_date":1569607624,"question_id":58139525,"body_markdown":"I am a novice at android studio and I am trying to make a simple calculator that takes a string and returns a value.  \r\nThe issue is that when writing the code to initialize a &quot;Button&quot; object, it believes I am trying to call a function. It shows an error that says that:  \r\n\r\n    Function invocation &#39;Button(...) expected\r\n\r\nBut I am not trying to call a function for button just make a Button object.\r\n\r\nThis is my main activity file:\r\n\r\n    \r\n    package com.example.myfirstcalc\r\n    \r\n    import android.os.Bundle;\r\n    import android.widget.Button;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    \r\n    \r\n    class MainActivity : AppCompatActivity() {\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main)\r\n    \r\n            Button calcBtn =  (Button) findViewById(R.id.calculateBtn);\r\n        }\r\n    }\r\n    \r\nThis is the activity_main.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/expressionEditText&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;124dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:hint=&quot;Enter an expression&quot;\r\n            android:inputType=&quot;textPersonName&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/calculateBtn&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Calculate&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/expressionEditText&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.089&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Result&quot;\r\n            android:textSize=&quot;30sp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/calculateBtn&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.124&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;","title":"Android Studio &quot;Function invocation &#39;Button(...) expected&quot;","body":"<p>I am a novice at android studio and I am trying to make a simple calculator that takes a string and returns a value.<br>\nThe issue is that when writing the code to initialize a \"Button\" object, it believes I am trying to call a function. It shows an error that says that:  </p>\n\n<pre><code>Function invocation 'Button(...) expected\n</code></pre>\n\n<p>But I am not trying to call a function for button just make a Button object.</p>\n\n<p>This is my main activity file:</p>\n\n<pre><code>package com.example.myfirstcalc\n\nimport android.os.Bundle;\nimport android.widget.Button;\nimport androidx.appcompat.app.AppCompatActivity;\n\n\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main)\n\n        Button calcBtn =  (Button) findViewById(R.id.calculateBtn);\n    }\n}\n</code></pre>\n\n<p>This is the activity_main.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;EditText\n        android:id=\"@+id/expressionEditText\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"124dp\"\n        android:ems=\"10\"\n        android:hint=\"Enter an expression\"\n        android:inputType=\"textPersonName\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"0.0\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/calculateBtn\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Calculate\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.498\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/expressionEditText\"\n        app:layout_constraintVertical_bias=\"0.089\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Result\"\n        android:textSize=\"30sp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/calculateBtn\"\n        app:layout_constraintVertical_bias=\"0.124\" /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":26552100,"reputation":470,"user_id":20181249,"display_name":"Sandeep Kumar Nat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665208299,"creation_date":1665208299,"answer_id":73994717,"question_id":73886843,"body_markdown":"When we configure a bean with lazy initialization, the bean will only be created, and its dependencies injected, once they&#39;re needed. So when you will be accessing the costly data, then only this method will be invoked. So then the use of @Lazy will not be redundant.","title":"Is component defined with request scope lazy loaded?","body":"<p>When we configure a bean with lazy initialization, the bean will only be created, and its dependencies injected, once they're needed. So when you will be accessing the costly data, then only this method will be invoked. So then the use of @Lazy will not be redundant.</p>\n"},{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665217781,"creation_date":1665217781,"answer_id":73995505,"question_id":73886843,"body_markdown":"According to [docs.spring.io][1]:\r\n\r\n&gt;  @RequestScope is a composed annotation that acts as a shortcut for @Scope(&quot;request&quot;) with the default proxyMode() set to TARGET_CLASS.\r\n\r\nThis means that the request scoped bean is provided as a CGLIB proxy by default when injected into a singleton bean. The proxy either instantiate the bean or reuse the existing one.\r\n\r\nThe bean is instantiated when its proxy&#39;s method is invoked, which produces the same effect as the `@Lazy` annotation.\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/context/annotation/RequestScope.html","title":"Is component defined with request scope lazy loaded?","body":"<p>According to <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/context/annotation/RequestScope.html\" rel=\"nofollow noreferrer\">docs.spring.io</a>:</p>\n<blockquote>\n<p>@RequestScope is a composed annotation that acts as a shortcut for @Scope(&quot;request&quot;) with the default proxyMode() set to TARGET_CLASS.</p>\n</blockquote>\n<p>This means that the request scoped bean is provided as a CGLIB proxy by default when injected into a singleton bean. The proxy either instantiate the bean or reuse the existing one.</p>\n<p>The bean is instantiated when its proxy's method is invoked, which produces the same effect as the <code>@Lazy</code> annotation.</p>\n"}],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73995505,"answer_count":2,"score":3,"last_activity_date":1665217781,"creation_date":1664393166,"question_id":73886843,"body_markdown":"A component is defined with request scope, it provides data based on `HttpServletRequest` object as shown below.\r\n```java\r\n@Component\r\n@RequestScope\r\n@Getter\r\npublic class RequestDataHolder {\r\n  private final Object data;\r\n\r\n  public RequestDataHolder(HttpServletRequest request) {\r\n    data = //costly operations; \r\n  }\r\n}\r\n```\r\nWhen is the component instantiated? I would like to prevent the costly operations when data is not needed, so was thinking about annotating the component with `@Lazy`, but if it is instantiated when accessed by default, the annotation would be redundant.","title":"Is component defined with request scope lazy loaded?","body":"<p>A component is defined with request scope, it provides data based on <code>HttpServletRequest</code> object as shown below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequestScope\n@Getter\npublic class RequestDataHolder {\n  private final Object data;\n\n  public RequestDataHolder(HttpServletRequest request) {\n    data = //costly operations; \n  }\n}\n</code></pre>\n<p>When is the component instantiated? I would like to prevent the costly operations when data is not needed, so was thinking about annotating the component with <code>@Lazy</code>, but if it is instantiated when accessed by default, the annotation would be redundant.</p>\n"},{"tags":["java","mapping","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524903996,"creation_date":1524903996,"answer_id":50074478,"question_id":50070267,"body_markdown":"This is currently not possible. There is already an open issue for this. Have a look at [487](https://github.com/mapstruct/mapstruct/issues/487).\r\n\r\nIt is not that trivial to perform a merge of 2 lists. It requires for MapStruct to know how to generate that find method.","title":"mapstruct update mapping one-to-many relationship by merging child dto with existing child entities","body":"<p>This is currently not possible. There is already an open issue for this. Have a look at <a href=\"https://github.com/mapstruct/mapstruct/issues/487\" rel=\"nofollow noreferrer\">487</a>.</p>\n\n<p>It is not that trivial to perform a merge of 2 lists. It requires for MapStruct to know how to generate that find method.</p>\n"},{"tags":[],"owner":{"account_id":1162142,"reputation":1520,"user_id":1141440,"accept_rate":50,"display_name":"landal79"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1525251230,"creation_date":1524907927,"answer_id":50075009,"question_id":50070267,"body_markdown":"My porpouse is to perform the update of one-to-many entities relationship, by merging existing children entities, let&#39;s say we have other fields on the children entities that are not present in the Dto that we don&#39;t want to lose. \r\n\r\nI have two entities with a one-to-many relationship, as follow:\r\n\r\n    public class ParentEntity {\r\n                                               \r\n       private Long id;\r\n       private String name;\r\n       private List&lt;ChildEntity&gt; children;\r\n       \r\n       //getters/setters\r\n       \r\n    }\r\n    \r\n    public class ChildEntity {\r\n    \r\n        private Long id;\r\n        private String name;\r\n        private ParentEntity myParent;\r\n        \r\n        private String notMappedField1;\r\n        private Long notMappedField2;\r\n        \r\n        //getters/setters\r\n       \r\n    }\r\n\r\nAnd the DTOs\r\n\r\n    public class ParentDTO {\r\n                                                   \r\n           private Long id;\r\n           private String name;\r\n           private List&lt;ChildDto&gt; children;\r\n           \r\n           //getters/setters\r\n           \r\n        }\r\n        \r\n        public class ChildDto {\r\n        \r\n            private Long id;\r\n            private String name;\r\n            private ParentDto myParent;\r\n            \r\n            //getters/setters\r\n           \r\n        }\r\n        \r\nWith Mapstruct annotations I created two mappers, one for each entity:\r\n\r\n       @Mapper(componentModel = &quot;cdi&quot;, uses = {ChildMapper.class})\r\n       public interface ParentMapper {      \r\n           ParentDto toDto(ParentEntity entity);     \r\n           ParentEntity toEntity(ParentDto s);      \r\n           ParentEntity toEntity(ParentDto s, @MappingTarget ParentEntity entity);           \r\n       }\r\n       \r\n       @Mapper(componentModel = &quot;cdi&quot;)\r\n       public interface ChildMapper {\r\n       \r\n           ChildDto toDto(ChildEntity entity);\r\n       \r\n           @Mapping(target = &quot;myParent&quot;, ignore = true)\r\n           ChildEntity toEntity(ChildDto s);\r\n       \r\n           @InheritConfiguration\r\n           ChildEntity toEntity(ChildDto s, @MappingTarget ChildEntity entity);\r\n       \r\n       }\r\n       \r\nThe generated parent mapper is the following:\r\n\r\n    @ApplicationScoped\r\n    public class ParentMapperImpl implements ParentMapper {\r\n    \r\n        @Inject\r\n        private ChildMapper childMapper;\r\n    \r\n        @Override\r\n        public ParentDto toDto(ParentEntity entity) {\r\n            if ( entity == null ) {\r\n                return null;\r\n            }\r\n    \r\n            ParentDto parentDto = new ParentDto();\r\n    \r\n            parentDto.setId( entity.getId() );\r\n            parentDto.setName( entity.getName() );\r\n            parentDto.setChildren( childEntityListToChildDtoList( entity.getChildren() ) );\r\n    \r\n            return parentDto;\r\n        }\r\n    \r\n        @Override\r\n        public ParentEntity toEntity(ParentDto s) {\r\n            if ( s == null ) {\r\n                return null;\r\n            }\r\n    \r\n            ParentEntity parentEntity = new ParentEntity();\r\n    \r\n            parentEntity.setId( s.getId() );\r\n            parentEntity.setName( s.getName() );\r\n            parentEntity.setChildren( childDtoListToChildEntityList( s.getChildren() ) );\r\n    \r\n            return parentEntity;\r\n        }\r\n    \r\n        @Override\r\n        public ParentEntity toEntity(ParentDto s, ParentEntity entity) {\r\n            if ( s == null ) {\r\n                return null;\r\n            }\r\n    \r\n            entity.setId( s.getId() );\r\n            entity.setName( s.getName() );\r\n            if ( entity.getChildren() != null ) {\r\n                List&lt;ChildEntity&gt; list = childDtoListToChildEntityList( s.getChildren() );\r\n                if ( list != null ) {\r\n                    entity.getChildren().clear();\r\n                    entity.getChildren().addAll( list );\r\n                }\r\n                else {\r\n                    entity.setChildren( null );\r\n                }\r\n            }\r\n            else {\r\n                List&lt;ChildEntity&gt; list = childDtoListToChildEntityList( s.getChildren() );\r\n                if ( list != null ) {\r\n                    entity.setChildren( list );\r\n                }\r\n            }\r\n    \r\n            return entity;\r\n        }\r\n    \r\n        protected List&lt;ChildDto&gt; childEntityListToChildDtoList(List&lt;ChildEntity&gt; list) {\r\n            if ( list == null ) {\r\n                return null;\r\n            }\r\n    \r\n            List&lt;ChildDto&gt; list1 = new ArrayList&lt;ChildDto&gt;( list.size() );\r\n            for ( ChildEntity childEntity : list ) {\r\n                list1.add( childMapper.toDto( childEntity ) );\r\n            }\r\n    \r\n            return list1;\r\n        }\r\n    \r\n        protected List&lt;ChildEntity&gt; childDtoListToChildEntityList(List&lt;ChildDto&gt; list) {\r\n            if ( list == null ) {\r\n                return null;\r\n            }\r\n    \r\n            List&lt;ChildEntity&gt; list1 = new ArrayList&lt;ChildEntity&gt;( list.size() );\r\n            for ( ChildDto childDto : list ) {\r\n                list1.add( childMapper.toEntity( childDto ) );\r\n            }\r\n    \r\n            return list1;\r\n        }\r\n    }\r\n\r\nA first solution that came up to my mind was to perform the update of children entities list by merging the child dto list and the children entities list, so I tought that when the `ParentMapper.toEntity(ParentDto s, ParentEntity entity)` is called, the child mapper method `ChildMapper.toEntity(ChildDto s, ChildEntity entity)` has to be called, to merge the existing children entities, and not this one `ChildMapper.toEntity(ChildDto s)`.   \r\nSo the result could be the following, or something equivalent:\r\n\r\n    @ApplicationScoped\r\n    public class ParentMapperImpl implements ParentMapper {\r\n    \r\n          ...\r\n          \r\n          @Override\r\n          public ParentEntity toEntity(ParentDto s, ParentEntity entity) {\r\n              if (s == null) {\r\n                  return null;\r\n              }\r\n      \r\n              entity.setId(s.getId());\r\n              entity.setName(s.getName());\r\n              if (entity.getChildren() != null) {\r\n                  List&lt;ChildEntity&gt; list = childDtoListToChildEntityList(s.getChildren(), entity.getChildren());\r\n                  if (list != null) {\r\n                      entity.getChildren().clear();\r\n                      entity.getChildren().addAll(list);\r\n                  } else {\r\n                      entity.setChildren(null);\r\n                  }\r\n              } else {\r\n                  List&lt;ChildEntity&gt; list = childDtoListToChildEntityList(s.getChildren());\r\n                  if (list != null) {\r\n                      entity.setChildren(list);\r\n                  }\r\n              }\r\n      \r\n              return entity;\r\n          }\r\n          \r\n          ...\r\n          \r\n          protected List&lt;ChildEntity&gt; childDtoListToChildEntityList(List&lt;ChildDto&gt; list, List&lt;ChildEntity&gt; entities) {\r\n              if (list == null) {\r\n                  return null;\r\n              }\r\n      \r\n      \r\n              final List&lt;ChildEntity&gt; list1 = new ArrayList&lt;ChildEntity&gt;(list.size());\r\n              for (ChildEntity entity : entities) {\r\n                  Optional&lt;ChildEntity&gt; optional = findEntity(entity.getId(), list);\r\n                  if (optional.isPresent()) {\r\n                      list1.add(childMapper.toEntity(optional.get(), entity));\r\n                  }\r\n              }\r\n      \r\n              list1.addAll(\r\n                      list.stream()\r\n                              .filter(dto -&gt; dto.getId() == null)\r\n                              .map(dto -&gt; childMapper.toEntity(dto))\r\n                              .collect(Collectors.toList())\r\n              );\r\n      \r\n      \r\n              return list1;\r\n          }\r\n      \r\n          private Optional&lt;ChildEntity&gt; findEntity(Long id, List&lt;ChildDto&gt; list) {\r\n              return list.stream().filter(dto -&gt; dto.getId().equals(id)).findAny();\r\n          }\r\n          \r\n    }          \r\n\r\nIs this feasible with Mapstruct?\r\nIs there another way to update children relationship with Mapstruct?       \r\n        ","title":"mapstruct update mapping one-to-many relationship by merging child dto with existing child entities","body":"<p>My porpouse is to perform the update of one-to-many entities relationship, by merging existing children entities, let's say we have other fields on the children entities that are not present in the Dto that we don't want to lose. </p>\n\n<p>I have two entities with a one-to-many relationship, as follow:</p>\n\n<pre><code>public class ParentEntity {\n\n   private Long id;\n   private String name;\n   private List&lt;ChildEntity&gt; children;\n\n   //getters/setters\n\n}\n\npublic class ChildEntity {\n\n    private Long id;\n    private String name;\n    private ParentEntity myParent;\n\n    private String notMappedField1;\n    private Long notMappedField2;\n\n    //getters/setters\n\n}\n</code></pre>\n\n<p>And the DTOs</p>\n\n<pre><code>public class ParentDTO {\n\n       private Long id;\n       private String name;\n       private List&lt;ChildDto&gt; children;\n\n       //getters/setters\n\n    }\n\n    public class ChildDto {\n\n        private Long id;\n        private String name;\n        private ParentDto myParent;\n\n        //getters/setters\n\n    }\n</code></pre>\n\n<p>With Mapstruct annotations I created two mappers, one for each entity:</p>\n\n<pre><code>   @Mapper(componentModel = \"cdi\", uses = {ChildMapper.class})\n   public interface ParentMapper {      \n       ParentDto toDto(ParentEntity entity);     \n       ParentEntity toEntity(ParentDto s);      \n       ParentEntity toEntity(ParentDto s, @MappingTarget ParentEntity entity);           \n   }\n\n   @Mapper(componentModel = \"cdi\")\n   public interface ChildMapper {\n\n       ChildDto toDto(ChildEntity entity);\n\n       @Mapping(target = \"myParent\", ignore = true)\n       ChildEntity toEntity(ChildDto s);\n\n       @InheritConfiguration\n       ChildEntity toEntity(ChildDto s, @MappingTarget ChildEntity entity);\n\n   }\n</code></pre>\n\n<p>The generated parent mapper is the following:</p>\n\n<pre><code>@ApplicationScoped\npublic class ParentMapperImpl implements ParentMapper {\n\n    @Inject\n    private ChildMapper childMapper;\n\n    @Override\n    public ParentDto toDto(ParentEntity entity) {\n        if ( entity == null ) {\n            return null;\n        }\n\n        ParentDto parentDto = new ParentDto();\n\n        parentDto.setId( entity.getId() );\n        parentDto.setName( entity.getName() );\n        parentDto.setChildren( childEntityListToChildDtoList( entity.getChildren() ) );\n\n        return parentDto;\n    }\n\n    @Override\n    public ParentEntity toEntity(ParentDto s) {\n        if ( s == null ) {\n            return null;\n        }\n\n        ParentEntity parentEntity = new ParentEntity();\n\n        parentEntity.setId( s.getId() );\n        parentEntity.setName( s.getName() );\n        parentEntity.setChildren( childDtoListToChildEntityList( s.getChildren() ) );\n\n        return parentEntity;\n    }\n\n    @Override\n    public ParentEntity toEntity(ParentDto s, ParentEntity entity) {\n        if ( s == null ) {\n            return null;\n        }\n\n        entity.setId( s.getId() );\n        entity.setName( s.getName() );\n        if ( entity.getChildren() != null ) {\n            List&lt;ChildEntity&gt; list = childDtoListToChildEntityList( s.getChildren() );\n            if ( list != null ) {\n                entity.getChildren().clear();\n                entity.getChildren().addAll( list );\n            }\n            else {\n                entity.setChildren( null );\n            }\n        }\n        else {\n            List&lt;ChildEntity&gt; list = childDtoListToChildEntityList( s.getChildren() );\n            if ( list != null ) {\n                entity.setChildren( list );\n            }\n        }\n\n        return entity;\n    }\n\n    protected List&lt;ChildDto&gt; childEntityListToChildDtoList(List&lt;ChildEntity&gt; list) {\n        if ( list == null ) {\n            return null;\n        }\n\n        List&lt;ChildDto&gt; list1 = new ArrayList&lt;ChildDto&gt;( list.size() );\n        for ( ChildEntity childEntity : list ) {\n            list1.add( childMapper.toDto( childEntity ) );\n        }\n\n        return list1;\n    }\n\n    protected List&lt;ChildEntity&gt; childDtoListToChildEntityList(List&lt;ChildDto&gt; list) {\n        if ( list == null ) {\n            return null;\n        }\n\n        List&lt;ChildEntity&gt; list1 = new ArrayList&lt;ChildEntity&gt;( list.size() );\n        for ( ChildDto childDto : list ) {\n            list1.add( childMapper.toEntity( childDto ) );\n        }\n\n        return list1;\n    }\n}\n</code></pre>\n\n<p>A first solution that came up to my mind was to perform the update of children entities list by merging the child dto list and the children entities list, so I tought that when the <code>ParentMapper.toEntity(ParentDto s, ParentEntity entity)</code> is called, the child mapper method <code>ChildMapper.toEntity(ChildDto s, ChildEntity entity)</code> has to be called, to merge the existing children entities, and not this one <code>ChildMapper.toEntity(ChildDto s)</code>.<br>\nSo the result could be the following, or something equivalent:</p>\n\n<pre><code>@ApplicationScoped\npublic class ParentMapperImpl implements ParentMapper {\n\n      ...\n\n      @Override\n      public ParentEntity toEntity(ParentDto s, ParentEntity entity) {\n          if (s == null) {\n              return null;\n          }\n\n          entity.setId(s.getId());\n          entity.setName(s.getName());\n          if (entity.getChildren() != null) {\n              List&lt;ChildEntity&gt; list = childDtoListToChildEntityList(s.getChildren(), entity.getChildren());\n              if (list != null) {\n                  entity.getChildren().clear();\n                  entity.getChildren().addAll(list);\n              } else {\n                  entity.setChildren(null);\n              }\n          } else {\n              List&lt;ChildEntity&gt; list = childDtoListToChildEntityList(s.getChildren());\n              if (list != null) {\n                  entity.setChildren(list);\n              }\n          }\n\n          return entity;\n      }\n\n      ...\n\n      protected List&lt;ChildEntity&gt; childDtoListToChildEntityList(List&lt;ChildDto&gt; list, List&lt;ChildEntity&gt; entities) {\n          if (list == null) {\n              return null;\n          }\n\n\n          final List&lt;ChildEntity&gt; list1 = new ArrayList&lt;ChildEntity&gt;(list.size());\n          for (ChildEntity entity : entities) {\n              Optional&lt;ChildEntity&gt; optional = findEntity(entity.getId(), list);\n              if (optional.isPresent()) {\n                  list1.add(childMapper.toEntity(optional.get(), entity));\n              }\n          }\n\n          list1.addAll(\n                  list.stream()\n                          .filter(dto -&gt; dto.getId() == null)\n                          .map(dto -&gt; childMapper.toEntity(dto))\n                          .collect(Collectors.toList())\n          );\n\n\n          return list1;\n      }\n\n      private Optional&lt;ChildEntity&gt; findEntity(Long id, List&lt;ChildDto&gt; list) {\n          return list.stream().filter(dto -&gt; dto.getId().equals(id)).findAny();\n      }\n\n}          \n</code></pre>\n\n<p>Is this feasible with Mapstruct?\nIs there another way to update children relationship with Mapstruct?       </p>\n"}],"owner":{"account_id":1162142,"reputation":1520,"user_id":1141440,"accept_rate":50,"display_name":"landal79"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7247,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1665217351,"creation_date":1524862965,"question_id":50070267,"body_markdown":"I have two entities with a one-to-many relationship, as follow:\r\n\r\n    public class ParentEntity {\r\n                                               \r\n       private Long id;\r\n       private String name;\r\n       private List&lt;ChildEntity&gt; children;\r\n       \r\n       //getters/setters\r\n       \r\n    }\r\n    \r\n    public class ChildEntity {\r\n    \r\n        private Long id;\r\n        private String name;\r\n        private ParentEntity myParent;\r\n        \r\n        private String notMappedField1;\r\n        private Long notMappedField2;\r\n        \r\n        //getters/setters\r\n       \r\n    }\r\n\r\nAnd the DTOs\r\n\r\n    public class ParentDTO {\r\n                                                   \r\n           private Long id;\r\n           private String name;\r\n           private List&lt;ChildDto&gt; children;\r\n           \r\n           //getters/setters\r\n           \r\n        }\r\n        \r\n        public class ChildDto {\r\n        \r\n            private Long id;\r\n            private String name;\r\n            private ParentDto myParent;\r\n            \r\n            //getters/setters\r\n           \r\n        }\r\n        \r\nWith Mapstruct annotations I created two mappers, one for each entity:\r\n\r\n       @Mapper(componentModel = &quot;cdi&quot;, uses = {ChildMapper.class})\r\n       public interface ParentMapper {      \r\n           ParentDto toDto(ParentEntity entity);     \r\n           ParentEntity toEntity(ParentDto s);      \r\n           ParentEntity toEntity(ParentDto s, @MappingTarget ParentEntity entity);           \r\n       }\r\n       \r\n       @Mapper(componentModel = &quot;cdi&quot;)\r\n       public interface ChildMapper {\r\n       \r\n           ChildDto toDto(ChildEntity entity);\r\n       \r\n           @Mapping(target = &quot;myParent&quot;, ignore = true)\r\n           ChildEntity toEntity(ChildDto s);\r\n       \r\n           @InheritConfiguration\r\n           ChildEntity toEntity(ChildDto s, @MappingTarget ChildEntity entity);\r\n       \r\n       }\r\n       \r\nThe generated parent mapper is the following:\r\n\r\n    @ApplicationScoped\r\n    public class ParentMapperImpl implements ParentMapper {\r\n    \r\n        @Inject\r\n        private ChildMapper childMapper;\r\n    \r\n        @Override\r\n        public ParentDto toDto(ParentEntity entity) {\r\n            if ( entity == null ) {\r\n                return null;\r\n            }\r\n    \r\n            ParentDto parentDto = new ParentDto();\r\n    \r\n            parentDto.setId( entity.getId() );\r\n            parentDto.setName( entity.getName() );\r\n            parentDto.setChildren( childEntityListToChildDtoList( entity.getChildren() ) );\r\n    \r\n            return parentDto;\r\n        }\r\n    \r\n        @Override\r\n        public ParentEntity toEntity(ParentDto s) {\r\n            if ( s == null ) {\r\n                return null;\r\n            }\r\n    \r\n            ParentEntity parentEntity = new ParentEntity();\r\n    \r\n            parentEntity.setId( s.getId() );\r\n            parentEntity.setName( s.getName() );\r\n            parentEntity.setChildren( childDtoListToChildEntityList( s.getChildren() ) );\r\n    \r\n            return parentEntity;\r\n        }\r\n    \r\n        @Override\r\n        public ParentEntity toEntity(ParentDto s, ParentEntity entity) {\r\n            if ( s == null ) {\r\n                return null;\r\n            }\r\n    \r\n            entity.setId( s.getId() );\r\n            entity.setName( s.getName() );\r\n            if ( entity.getChildren() != null ) {\r\n                List&lt;ChildEntity&gt; list = childDtoListToChildEntityList( s.getChildren() );\r\n                if ( list != null ) {\r\n                    entity.getChildren().clear();\r\n                    entity.getChildren().addAll( list );\r\n                }\r\n                else {\r\n                    entity.setChildren( null );\r\n                }\r\n            }\r\n            else {\r\n                List&lt;ChildEntity&gt; list = childDtoListToChildEntityList( s.getChildren() );\r\n                if ( list != null ) {\r\n                    entity.setChildren( list );\r\n                }\r\n            }\r\n    \r\n            return entity;\r\n        }\r\n    \r\n        protected List&lt;ChildDto&gt; childEntityListToChildDtoList(List&lt;ChildEntity&gt; list) {\r\n            if ( list == null ) {\r\n                return null;\r\n            }\r\n    \r\n            List&lt;ChildDto&gt; list1 = new ArrayList&lt;ChildDto&gt;( list.size() );\r\n            for ( ChildEntity childEntity : list ) {\r\n                list1.add( childMapper.toDto( childEntity ) );\r\n            }\r\n    \r\n            return list1;\r\n        }\r\n    \r\n        protected List&lt;ChildEntity&gt; childDtoListToChildEntityList(List&lt;ChildDto&gt; list) {\r\n            if ( list == null ) {\r\n                return null;\r\n            }\r\n    \r\n            List&lt;ChildEntity&gt; list1 = new ArrayList&lt;ChildEntity&gt;( list.size() );\r\n            for ( ChildDto childDto : list ) {\r\n                list1.add( childMapper.toEntity( childDto ) );\r\n            }\r\n    \r\n            return list1;\r\n        }\r\n    }\r\n    \r\nBut when the `ParentMapper.toEntity(ParentDto s, ParentEntity entity)` is called, \r\non the child mapper is called `ChildMapper.toEntity(ChildDto s)`.\r\n\r\nInstead I would like the following child mapper method `ChildMapper.toEntity(ChildDto s, ChildEntity entity)` to be called, \r\nto merge the existing children entities (let&#39;s say we have other fields on the \r\nchild entities that are not present in the Dto that we don&#39;t want to lose).   \r\nThe desired result is the following, or something equivalent:\r\n\r\n    @ApplicationScoped\r\n    public class ParentMapperImpl implements ParentMapper {\r\n    \r\n          ...\r\n          \r\n          @Override\r\n          public ParentEntity toEntity(ParentDto s, ParentEntity entity) {\r\n              if (s == null) {\r\n                  return null;\r\n              }\r\n      \r\n              entity.setId(s.getId());\r\n              entity.setName(s.getName());\r\n              if (entity.getChildren() != null) {\r\n                  List&lt;ChildEntity&gt; list = childDtoListToChildEntityList(s.getChildren(), entity.getChildren());\r\n                  if (list != null) {\r\n                      entity.getChildren().clear();\r\n                      entity.getChildren().addAll(list);\r\n                  } else {\r\n                      entity.setChildren(null);\r\n                  }\r\n              } else {\r\n                  List&lt;ChildEntity&gt; list = childDtoListToChildEntityList(s.getChildren());\r\n                  if (list != null) {\r\n                      entity.setChildren(list);\r\n                  }\r\n              }\r\n      \r\n              return entity;\r\n          }\r\n          \r\n          ...\r\n          \r\n          protected List&lt;ChildEntity&gt; childDtoListToChildEntityList(List&lt;ChildDto&gt; list, List&lt;ChildEntity&gt; entities) {\r\n              if (list == null) {\r\n                  return null;\r\n              }\r\n      \r\n      \r\n              final List&lt;ChildEntity&gt; list1 = new ArrayList&lt;ChildEntity&gt;(list.size());\r\n              for (ChildEntity entity : entities) {\r\n                  Optional&lt;ChildEntity&gt; optional = findEntity(entity.getId(), list);\r\n                  if (optional.isPresent()) {\r\n                      list1.add(childMapper.toEntity(optional.get(), entity));\r\n                  }\r\n              }\r\n      \r\n              list1.addAll(\r\n                      list.stream()\r\n                              .filter(dto -&gt; dto.getId() == null)\r\n                              .map(dto -&gt; childMapper.toEntity(dto))\r\n                              .collect(Collectors.toList())\r\n              );\r\n      \r\n      \r\n              return list1;\r\n          }\r\n      \r\n          private Optional&lt;ChildEntity&gt; findEntity(Long id, List&lt;ChildDto&gt; list) {\r\n              return list.stream().filter(dto -&gt; dto.getId().equals(id)).findAny();\r\n          }\r\n          \r\n    }          \r\n       \r\n       \r\n        ","title":"mapstruct update mapping one-to-many relationship by merging child dto with existing child entities","body":"<p>I have two entities with a one-to-many relationship, as follow:</p>\n\n<pre><code>public class ParentEntity {\n\n   private Long id;\n   private String name;\n   private List&lt;ChildEntity&gt; children;\n\n   //getters/setters\n\n}\n\npublic class ChildEntity {\n\n    private Long id;\n    private String name;\n    private ParentEntity myParent;\n\n    private String notMappedField1;\n    private Long notMappedField2;\n\n    //getters/setters\n\n}\n</code></pre>\n\n<p>And the DTOs</p>\n\n<pre><code>public class ParentDTO {\n\n       private Long id;\n       private String name;\n       private List&lt;ChildDto&gt; children;\n\n       //getters/setters\n\n    }\n\n    public class ChildDto {\n\n        private Long id;\n        private String name;\n        private ParentDto myParent;\n\n        //getters/setters\n\n    }\n</code></pre>\n\n<p>With Mapstruct annotations I created two mappers, one for each entity:</p>\n\n<pre><code>   @Mapper(componentModel = \"cdi\", uses = {ChildMapper.class})\n   public interface ParentMapper {      \n       ParentDto toDto(ParentEntity entity);     \n       ParentEntity toEntity(ParentDto s);      \n       ParentEntity toEntity(ParentDto s, @MappingTarget ParentEntity entity);           \n   }\n\n   @Mapper(componentModel = \"cdi\")\n   public interface ChildMapper {\n\n       ChildDto toDto(ChildEntity entity);\n\n       @Mapping(target = \"myParent\", ignore = true)\n       ChildEntity toEntity(ChildDto s);\n\n       @InheritConfiguration\n       ChildEntity toEntity(ChildDto s, @MappingTarget ChildEntity entity);\n\n   }\n</code></pre>\n\n<p>The generated parent mapper is the following:</p>\n\n<pre><code>@ApplicationScoped\npublic class ParentMapperImpl implements ParentMapper {\n\n    @Inject\n    private ChildMapper childMapper;\n\n    @Override\n    public ParentDto toDto(ParentEntity entity) {\n        if ( entity == null ) {\n            return null;\n        }\n\n        ParentDto parentDto = new ParentDto();\n\n        parentDto.setId( entity.getId() );\n        parentDto.setName( entity.getName() );\n        parentDto.setChildren( childEntityListToChildDtoList( entity.getChildren() ) );\n\n        return parentDto;\n    }\n\n    @Override\n    public ParentEntity toEntity(ParentDto s) {\n        if ( s == null ) {\n            return null;\n        }\n\n        ParentEntity parentEntity = new ParentEntity();\n\n        parentEntity.setId( s.getId() );\n        parentEntity.setName( s.getName() );\n        parentEntity.setChildren( childDtoListToChildEntityList( s.getChildren() ) );\n\n        return parentEntity;\n    }\n\n    @Override\n    public ParentEntity toEntity(ParentDto s, ParentEntity entity) {\n        if ( s == null ) {\n            return null;\n        }\n\n        entity.setId( s.getId() );\n        entity.setName( s.getName() );\n        if ( entity.getChildren() != null ) {\n            List&lt;ChildEntity&gt; list = childDtoListToChildEntityList( s.getChildren() );\n            if ( list != null ) {\n                entity.getChildren().clear();\n                entity.getChildren().addAll( list );\n            }\n            else {\n                entity.setChildren( null );\n            }\n        }\n        else {\n            List&lt;ChildEntity&gt; list = childDtoListToChildEntityList( s.getChildren() );\n            if ( list != null ) {\n                entity.setChildren( list );\n            }\n        }\n\n        return entity;\n    }\n\n    protected List&lt;ChildDto&gt; childEntityListToChildDtoList(List&lt;ChildEntity&gt; list) {\n        if ( list == null ) {\n            return null;\n        }\n\n        List&lt;ChildDto&gt; list1 = new ArrayList&lt;ChildDto&gt;( list.size() );\n        for ( ChildEntity childEntity : list ) {\n            list1.add( childMapper.toDto( childEntity ) );\n        }\n\n        return list1;\n    }\n\n    protected List&lt;ChildEntity&gt; childDtoListToChildEntityList(List&lt;ChildDto&gt; list) {\n        if ( list == null ) {\n            return null;\n        }\n\n        List&lt;ChildEntity&gt; list1 = new ArrayList&lt;ChildEntity&gt;( list.size() );\n        for ( ChildDto childDto : list ) {\n            list1.add( childMapper.toEntity( childDto ) );\n        }\n\n        return list1;\n    }\n}\n</code></pre>\n\n<p>But when the <code>ParentMapper.toEntity(ParentDto s, ParentEntity entity)</code> is called, \non the child mapper is called <code>ChildMapper.toEntity(ChildDto s)</code>.</p>\n\n<p>Instead I would like the following child mapper method <code>ChildMapper.toEntity(ChildDto s, ChildEntity entity)</code> to be called, \nto merge the existing children entities (let's say we have other fields on the \nchild entities that are not present in the Dto that we don't want to lose).<br>\nThe desired result is the following, or something equivalent:</p>\n\n<pre><code>@ApplicationScoped\npublic class ParentMapperImpl implements ParentMapper {\n\n      ...\n\n      @Override\n      public ParentEntity toEntity(ParentDto s, ParentEntity entity) {\n          if (s == null) {\n              return null;\n          }\n\n          entity.setId(s.getId());\n          entity.setName(s.getName());\n          if (entity.getChildren() != null) {\n              List&lt;ChildEntity&gt; list = childDtoListToChildEntityList(s.getChildren(), entity.getChildren());\n              if (list != null) {\n                  entity.getChildren().clear();\n                  entity.getChildren().addAll(list);\n              } else {\n                  entity.setChildren(null);\n              }\n          } else {\n              List&lt;ChildEntity&gt; list = childDtoListToChildEntityList(s.getChildren());\n              if (list != null) {\n                  entity.setChildren(list);\n              }\n          }\n\n          return entity;\n      }\n\n      ...\n\n      protected List&lt;ChildEntity&gt; childDtoListToChildEntityList(List&lt;ChildDto&gt; list, List&lt;ChildEntity&gt; entities) {\n          if (list == null) {\n              return null;\n          }\n\n\n          final List&lt;ChildEntity&gt; list1 = new ArrayList&lt;ChildEntity&gt;(list.size());\n          for (ChildEntity entity : entities) {\n              Optional&lt;ChildEntity&gt; optional = findEntity(entity.getId(), list);\n              if (optional.isPresent()) {\n                  list1.add(childMapper.toEntity(optional.get(), entity));\n              }\n          }\n\n          list1.addAll(\n                  list.stream()\n                          .filter(dto -&gt; dto.getId() == null)\n                          .map(dto -&gt; childMapper.toEntity(dto))\n                          .collect(Collectors.toList())\n          );\n\n\n          return list1;\n      }\n\n      private Optional&lt;ChildEntity&gt; findEntity(Long id, List&lt;ChildDto&gt; list) {\n          return list.stream().filter(dto -&gt; dto.getId().equals(id)).findAny();\n      }\n\n}          \n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":16673497,"reputation":2011,"user_id":12050506,"display_name":"possum"},"score":0,"creation_date":1665662424,"post_id":73995323,"comment_id":130754909,"body_markdown":"Please post what is going wrong.","body":"Please post what is going wrong."}],"answers":[{"tags":[],"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665216224,"creation_date":1665216224,"answer_id":73995379,"question_id":73995323,"body_markdown":"you want to switch a[j] and a[j+1] so tempt should be a[j]\r\n\r\n```System.out.println(a[i]);``` the pringing should be outside of the loops after all the switching is done\r\n\r\nthis should work\r\n```\r\n    public static void main(String[] args) {\r\n        int [] a={98,87,42,12,42,63,56,11};\r\n        for(int i=0;i&lt;a.length;i++){\r\n            for(int j=0;j&lt;a.length-i-1;j++){\r\n                if(a[j]&gt;a[j+1]){\r\n                    int temp=a[j];\r\n                    a[j]=a[j+1];\r\n                    a[j+1]=temp;\r\n                }\r\n            }\r\n        }\r\n        for(int i=0;i&lt;a.length;i++){\r\n            System.out.print(a[i] + &quot; &quot;);\r\n        }\r\n    }\r\n```\r\n","title":"bubble sort in java without using function?","body":"<p>you want to switch a[j] and a[j+1] so tempt should be a[j]</p>\n<p><code>System.out.println(a[i]);</code> the pringing should be outside of the loops after all the switching is done</p>\n<p>this should work</p>\n<pre><code>    public static void main(String[] args) {\n        int [] a={98,87,42,12,42,63,56,11};\n        for(int i=0;i&lt;a.length;i++){\n            for(int j=0;j&lt;a.length-i-1;j++){\n                if(a[j]&gt;a[j+1]){\n                    int temp=a[j];\n                    a[j]=a[j+1];\n                    a[j+1]=temp;\n                }\n            }\n        }\n        for(int i=0;i&lt;a.length;i++){\n            System.out.print(a[i] + &quot; &quot;);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":26100353,"reputation":1,"user_id":19795884,"display_name":"premium drycleaners"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":429,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73995379,"answer_count":1,"score":-2,"last_activity_date":1665216224,"creation_date":1665215626,"question_id":73995323,"body_markdown":"I want to make bubble sort program but without using any function\r\n\r\n```public class minput{\r\n    public static void main(String[] args) {\r\n        int [] a={98,87,42,12,42,63,56,11};\r\n        for(int i=0;i&lt;a.length-1;i++){\r\n            for(int j=0;j&lt;a.length-i-1;j++){\r\n                if(a[j]&gt;a[j+1]){\r\n                    int temp=a[j+1];\r\n                    a[j]=a[j+1];\r\n                    a[j+1]=temp;\r\n                }\r\n                \r\n            }\r\n            System.out.println(a[i]);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nanyone guide me what I&#39;m doing wrong?","title":"bubble sort in java without using function?","body":"<p>I want to make bubble sort program but without using any function</p>\n<pre><code>    public static void main(String[] args) {\n        int [] a={98,87,42,12,42,63,56,11};\n        for(int i=0;i&lt;a.length-1;i++){\n            for(int j=0;j&lt;a.length-i-1;j++){\n                if(a[j]&gt;a[j+1]){\n                    int temp=a[j+1];\n                    a[j]=a[j+1];\n                    a[j+1]=temp;\n                }\n                \n            }\n            System.out.println(a[i]);\n        }\n    }\n}\n</code></pre>\n<p>anyone guide me what I'm doing wrong?</p>\n"},{"tags":["java","utf-8"],"comments":[{"owner":{"account_id":1013343,"reputation":6288,"user_id":1025459,"accept_rate":78,"display_name":"Matanya"},"score":5,"creation_date":1355303773,"post_id":13836352,"comment_id":19043546,"body_markdown":"I asked Rabbi Google, and he said : 00001010","body":"I asked Rabbi Google, and he said : 00001010"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1355304576,"post_id":13836352,"comment_id":19043887,"body_markdown":"The end of line is platform specific, not encoding specific.  The UTF-8 encoding of end of line is the same as the ASCII values e.g. it could be 0x0D 0x0A (windows) or just 0x0D (Unix and Mac OS X)","body":"The end of line is platform specific, not encoding specific.  The UTF-8 encoding of end of line is the same as the ASCII values e.g. it could be 0x0D 0x0A (windows) or just 0x0D (Unix and Mac OS X)"}],"answers":[{"tags":[],"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1355303770,"creation_date":1355303770,"answer_id":13836397,"question_id":13836352,"body_markdown":"UTF-8 is compatible with ASCII, so the ASCII codes 10 (0x0A) for linefeed and 13 (0x0D) for carriage return are also used in UTF-8.","title":"What is the UTF-8 representation of &quot;end of line&quot; in text file","body":"<p>UTF-8 is compatible with ASCII, so the ASCII codes 10 (0x0A) for linefeed and 13 (0x0D) for carriage return are also used in UTF-8.</p>\n"},{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1665216072,"creation_date":1355303817,"answer_id":13836410,"question_id":13836352,"body_markdown":"There are [a bunch][1]:\r\n\r\n* `LF`:    Line Feed, [U+000A][2] (UTF-8 in hex: 0A)\r\n* `VT`:    Vertical Tab, [U+000B][3] (UTF-8 in hex: 0B)\r\n* `FF`:    Form Feed, [U+000C][4] (UTF-8 in hex: 0C)\r\n* `CR`:    Carriage Return, [U+000D][5] (UTF-8 in hex: 0D)\r\n* `CR+LF`: CR ([U+000D][6]) followed by LF ([U+000A][7]) (UTF-8 in hex: 0D 0A)\r\n* `NEL`:   Next Line, [U+0085][8] (UTF-8 in hex: C2 85)\r\n* `LS`:    Line Separator, [U+2028][9] (UTF-8 in hex: E2 80 A8)\r\n* `PS`:    Paragraph Separator, [U+2029][10] (UTF-8 in hex: E2 80 A9)&lt;/pre&gt;\r\n\r\n...and probably many more.\r\n\r\nThe most commonly used ones are `LF` (\\*nix), `CR+LF` (Windows and DOS), and `CR` (old pre-OSX Mac systems, mostly).\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Newline#Unicode\r\n  [2]: http://unicode.org/cldr/utility/character.jsp?a=000A\r\n  [3]: http://unicode.org/cldr/utility/character.jsp?a=000B\r\n  [4]: http://unicode.org/cldr/utility/character.jsp?a=000C\r\n  [5]: http://unicode.org/cldr/utility/character.jsp?a=000D\r\n  [6]: http://unicode.org/cldr/utility/character.jsp?a=000D\r\n  [7]: http://unicode.org/cldr/utility/character.jsp?a=000A\r\n  [8]: http://unicode.org/cldr/utility/character.jsp?a=0085\r\n  [9]: http://unicode.org/cldr/utility/character.jsp?a=2028\r\n  [10]: http://unicode.org/cldr/utility/character.jsp?a=2029","title":"What is the UTF-8 representation of &quot;end of line&quot; in text file","body":"<p>There are <a href=\"http://en.wikipedia.org/wiki/Newline#Unicode\" rel=\"nofollow noreferrer\">a bunch</a>:</p>\n<ul>\n<li><code>LF</code>:    Line Feed, <a href=\"http://unicode.org/cldr/utility/character.jsp?a=000A\" rel=\"nofollow noreferrer\">U+000A</a> (UTF-8 in hex: 0A)</li>\n<li><code>VT</code>:    Vertical Tab, <a href=\"http://unicode.org/cldr/utility/character.jsp?a=000B\" rel=\"nofollow noreferrer\">U+000B</a> (UTF-8 in hex: 0B)</li>\n<li><code>FF</code>:    Form Feed, <a href=\"http://unicode.org/cldr/utility/character.jsp?a=000C\" rel=\"nofollow noreferrer\">U+000C</a> (UTF-8 in hex: 0C)</li>\n<li><code>CR</code>:    Carriage Return, <a href=\"http://unicode.org/cldr/utility/character.jsp?a=000D\" rel=\"nofollow noreferrer\">U+000D</a> (UTF-8 in hex: 0D)</li>\n<li><code>CR+LF</code>: CR (<a href=\"http://unicode.org/cldr/utility/character.jsp?a=000D\" rel=\"nofollow noreferrer\">U+000D</a>) followed by LF (<a href=\"http://unicode.org/cldr/utility/character.jsp?a=000A\" rel=\"nofollow noreferrer\">U+000A</a>) (UTF-8 in hex: 0D 0A)</li>\n<li><code>NEL</code>:   Next Line, <a href=\"http://unicode.org/cldr/utility/character.jsp?a=0085\" rel=\"nofollow noreferrer\">U+0085</a> (UTF-8 in hex: C2 85)</li>\n<li><code>LS</code>:    Line Separator, <a href=\"http://unicode.org/cldr/utility/character.jsp?a=2028\" rel=\"nofollow noreferrer\">U+2028</a> (UTF-8 in hex: E2 80 A8)</li>\n<li><code>PS</code>:    Paragraph Separator, <a href=\"http://unicode.org/cldr/utility/character.jsp?a=2029\" rel=\"nofollow noreferrer\">U+2029</a> (UTF-8 in hex: E2 80 A9)</li>\n</ul>\n<p>...and probably many more.</p>\n<p>The most commonly used ones are <code>LF</code> (*nix), <code>CR+LF</code> (Windows and DOS), and <code>CR</code> (old pre-OSX Mac systems, mostly).</p>\n"},{"tags":[],"owner":{"display_name":"anon"},"down_vote_count":3,"up_vote_count":25,"is_accepted":true,"score":22,"last_activity_date":1577777375,"creation_date":1355303937,"answer_id":13836440,"question_id":13836352,"body_markdown":"From [Unicode Character &#39;LINE FEED (LF)&#39;][1] \r\n\r\n&gt;In UTF-8 (hex) its --&gt;\t0x0A (0a)   \r\nUTF-8 (binary) --&gt;\t00001010\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://www.fileformat.info/info/unicode/char/000A/index.htm\r\n  [2]: http://i.stack.imgur.com/berx0.png","title":"What is the UTF-8 representation of &quot;end of line&quot; in text file","body":"<p>From <a href=\"http://www.fileformat.info/info/unicode/char/000A/index.htm\" rel=\"nofollow noreferrer\">Unicode Character 'LINE FEED (LF)'</a> </p>\n\n<blockquote>\n  <p>In UTF-8 (hex) its --> 0x0A (0a)<br>\n  UTF-8 (binary) -->  00001010</p>\n</blockquote>\n\n<p><img src=\"https://i.stack.imgur.com/berx0.png\" alt=\"enter image description here\"></p>\n"}],"owner":{"account_id":349262,"reputation":1461,"user_id":684447,"accept_rate":80,"display_name":"Husky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138487,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":13836440,"answer_count":3,"score":31,"last_activity_date":1665216072,"creation_date":1355303577,"question_id":13836352,"body_markdown":"what is the binary representation of &quot;end of line&quot; in UTF-8.","title":"What is the UTF-8 representation of &quot;end of line&quot; in text file","body":"<p>what is the binary representation of \"end of line\" in UTF-8.</p>\n"},{"tags":["java","elasticsearch","search","fuzzy-search","ranking-functions"],"comments":[{"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"score":0,"creation_date":1665212144,"post_id":73994799,"comment_id":130650961,"body_markdown":"show your sample documents, and query to provide you concrete query","body":"show your sample documents, and query to provide you concrete query"},{"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"score":0,"creation_date":1670761071,"post_id":73994799,"comment_id":131943438,"body_markdown":"any luck????????","body":"any luck????????"}],"answers":[{"tags":[],"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665211950,"creation_date":1665211950,"answer_id":73995003,"question_id":73994799,"body_markdown":"```\r\n  &quot;size&quot;: 3,\r\n  &quot;query&quot;: {\r\n    &quot;match&quot;: {\r\n      &quot;categories&quot;: &quot;shoe&quot;\r\n    }\r\n  }\r\n}\r\n```","title":"Ranking the multiple categories in the search result","body":"<pre><code>  &quot;size&quot;: 3,\n  &quot;query&quot;: {\n    &quot;match&quot;: {\n      &quot;categories&quot;: &quot;shoe&quot;\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26491406,"reputation":56,"user_id":20129607,"display_name":"Sourabh_K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665215559,"creation_date":1665215559,"answer_id":73995317,"question_id":73994799,"body_markdown":"If you can provide more information about your data or at least data fields in your elastic index community can help you more effectively. Since there is no more info available about your data/index I am assuming two fields in your index one is product_name which may contain product name with other details and another one is category which will of course contain from which category product belongs. For example -\r\n```\r\n{\r\n&quot;product_name&quot; : &quot;shoes - Midnight Blue&quot;\r\n&quot;category&quot; : [&quot;Women&#39;s Shoes&quot;, &quot;Women&#39;s Clothing&quot;]    ----&gt; This document belongs to women&#39;s category. \r\n}\r\n```\r\n\r\nNow as per my understanding you are looking to categories above product_name in respective category and want to provide some weight. So below query will fit for you. Please test against your index and suggest here.\r\n\r\n```\r\nGET ecommerce_data/_search\r\n{\r\n  &quot;query&quot;: {\r\n    &quot;function_score&quot;: {\r\n      &quot;query&quot;: {\r\n        &quot;match&quot;: {\r\n          &quot;product_name&quot;: &quot;shoes&quot;\r\n        }\r\n      },\r\n      &quot;functions&quot;: [\r\n        {\r\n          &quot;filter&quot;: {\r\n            &quot;match&quot;:{\r\n              &quot;category&quot;:&quot;children&#39;s&quot;\r\n            }\r\n          },\r\n          &quot;weight&quot;: 3\r\n        },\r\n        {\r\n          &quot;filter&quot;: {                       -----&gt; Above document will match this filter\r\n            &quot;match&quot;:{\r\n              &quot;category&quot;:&quot;women&#39;s&quot;\r\n            }\r\n          },\r\n          &quot;weight&quot;: 2\r\n        },\r\n        {\r\n          &quot;filter&quot;: {\r\n            &quot;match&quot;:{\r\n              &quot;category&quot;:&quot;men&#39;s&quot;\r\n            }\r\n          },\r\n          &quot;weight&quot;: 1\r\n        }\r\n      ],\r\n      &quot;score_mode&quot;: &quot;max&quot;,\r\n      &quot;boost_mode&quot;: &quot;replace&quot;\r\n    }\r\n  },\r\n  &quot;_source&quot;: [&quot;product_name&quot;,&quot;category&quot;]    -----&gt; Verify with limited fields.\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"Ranking the multiple categories in the search result","body":"<p>If you can provide more information about your data or at least data fields in your elastic index community can help you more effectively. Since there is no more info available about your data/index I am assuming two fields in your index one is product_name which may contain product name with other details and another one is category which will of course contain from which category product belongs. For example -</p>\n<pre><code>{\n&quot;product_name&quot; : &quot;shoes - Midnight Blue&quot;\n&quot;category&quot; : [&quot;Women's Shoes&quot;, &quot;Women's Clothing&quot;]    ----&gt; This document belongs to women's category. \n}\n</code></pre>\n<p>Now as per my understanding you are looking to categories above product_name in respective category and want to provide some weight. So below query will fit for you. Please test against your index and suggest here.</p>\n<pre><code>GET ecommerce_data/_search\n{\n  &quot;query&quot;: {\n    &quot;function_score&quot;: {\n      &quot;query&quot;: {\n        &quot;match&quot;: {\n          &quot;product_name&quot;: &quot;shoes&quot;\n        }\n      },\n      &quot;functions&quot;: [\n        {\n          &quot;filter&quot;: {\n            &quot;match&quot;:{\n              &quot;category&quot;:&quot;children's&quot;\n            }\n          },\n          &quot;weight&quot;: 3\n        },\n        {\n          &quot;filter&quot;: {                       -----&gt; Above document will match this filter\n            &quot;match&quot;:{\n              &quot;category&quot;:&quot;women's&quot;\n            }\n          },\n          &quot;weight&quot;: 2\n        },\n        {\n          &quot;filter&quot;: {\n            &quot;match&quot;:{\n              &quot;category&quot;:&quot;men's&quot;\n            }\n          },\n          &quot;weight&quot;: 1\n        }\n      ],\n      &quot;score_mode&quot;: &quot;max&quot;,\n      &quot;boost_mode&quot;: &quot;replace&quot;\n    }\n  },\n  &quot;_source&quot;: [&quot;product_name&quot;,&quot;category&quot;]    -----&gt; Verify with limited fields.\n}\n</code></pre>\n"}],"owner":{"account_id":13466301,"reputation":1,"user_id":9716422,"display_name":"Sanaz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665215559,"creation_date":1665209357,"question_id":73994799,"body_markdown":"I have a problem with rating different categories when displaying search results, I hope you can help me.\r\nLet&#39;s say I searched &quot;shoes&quot; and this terms is exist in different cat: \r\nShoes in men&#39;s shoes \r\nShoes in women&#39;s shoes \r\nShoes in children&#39;s shoes\r\nShoes in sport&#39;s shoes\r\n\r\nI am going to display maximum **3** categories in the search result. in Elasticsearch how can I rate them? or What factors are used for scoring?","title":"Ranking the multiple categories in the search result","body":"<p>I have a problem with rating different categories when displaying search results, I hope you can help me.\nLet's say I searched &quot;shoes&quot; and this terms is exist in different cat:\nShoes in men's shoes\nShoes in women's shoes\nShoes in children's shoes\nShoes in sport's shoes</p>\n<p>I am going to display maximum <strong>3</strong> categories in the search result. in Elasticsearch how can I rate them? or What factors are used for scoring?</p>\n"},{"tags":["java","timeout","task","threadpool","future"],"comments":[{"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"score":1,"creation_date":1665212694,"post_id":73995047,"comment_id":130651029,"body_markdown":"Show us your code,please","body":"Show us your code,please"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1665213187,"post_id":73995047,"comment_id":130651113,"body_markdown":"It will be hard to answer without profiling. One possible problem is that your tasks compete over system bus or cache.","body":"It will be hard to answer without profiling. One possible problem is that your tasks compete over system bus or cache."}],"answers":[{"tags":[],"owner":{"account_id":16367879,"reputation":1,"user_id":11821836,"display_name":"Lancelot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665214848,"creation_date":1665214848,"answer_id":73995246,"question_id":73995047,"body_markdown":"I already know the reason.it&#39;s due to the difference of wall time and thread time.future.get set the wall time of thread,but due to CPU time slice rotation,the real running time of thread is thread time.When tasks executed concurrently,even small tasks risk starvation.","title":"java thread pool behaves differently when running the same task multiple times？","body":"<p>I already know the reason.it's due to the difference of wall time and thread time.future.get set the wall time of thread,but due to CPU time slice rotation,the real running time of thread is thread time.When tasks executed concurrently,even small tasks risk starvation.</p>\n"}],"owner":{"account_id":16367879,"reputation":1,"user_id":11821836,"display_name":"Lancelot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665214848,"creation_date":1665212456,"question_id":73995047,"body_markdown":"I used Executors.newFixedThreadPool(8) to execute some time consuming tasks,and used future.get method to set timeout with 10 seconds.Then I found that some tasks could be executed successfully when they were executed alone, but timeout when they executed with any other tasks.These tasks are independent of each other, cpu and memory was sufficient.Why would it happen?  ","title":"java thread pool behaves differently when running the same task multiple times？","body":"<p>I used Executors.newFixedThreadPool(8) to execute some time consuming tasks,and used future.get method to set timeout with 10 seconds.Then I found that some tasks could be executed successfully when they were executed alone, but timeout when they executed with any other tasks.These tasks are independent of each other, cpu and memory was sufficient.Why would it happen?</p>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629471535,"creation_date":1629471535,"answer_id":68864240,"question_id":68864095,"body_markdown":"You are only passing the credentials to the S3 client. You aren&#39;t passing them to the Textract client. If you are creating the credentials provider manually like that, you will need to pass it to each client instance that is created.\r\n\r\nI highly suggest [using the environment variables][1] `AWS_ACCESS_KEY_ID` and `AWS_SECRET_ACCESS_KEY` to provide credentials, instead of setting them directly in your code like that, as it will be much more flexible when you run this code in other environments, and will allow the AWS SDK to pick up the credentials automatically without the need for you to create a credentials provider at all.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/credentials.html","title":"Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain","body":"<p>You are only passing the credentials to the S3 client. You aren't passing them to the Textract client. If you are creating the credentials provider manually like that, you will need to pass it to each client instance that is created.</p>\n<p>I highly suggest <a href=\"https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/credentials.html\" rel=\"nofollow noreferrer\">using the environment variables</a> <code>AWS_ACCESS_KEY_ID</code> and <code>AWS_SECRET_ACCESS_KEY</code> to provide credentials, instead of setting them directly in your code like that, as it will be much more flexible when you run this code in other environments, and will allow the AWS SDK to pick up the credentials automatically without the need for you to create a credentials provider at all.</p>\n"},{"tags":[],"owner":{"account_id":22521051,"reputation":137,"user_id":16714629,"display_name":"Alan Chu2"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1654141534,"creation_date":1629982144,"answer_id":68938821,"question_id":68864095,"body_markdown":"I finally got it working with the below code with the below article:\r\n\r\n[Calling Amazon Textract Synchronous Operations][1]\r\n\r\n```\r\nString document=&quot;input.png&quot;;\r\nString bucket=&quot;bucket&quot;;\r\n\r\nAmazonTextract client = AmazonTextractClientBuilder.defaultClient();\r\n\r\nDetectDocumentTextRequest request = new DetectDocumentTextRequest()\r\n        .withDocument(new Document()\r\n                .withS3Object(new S3Object()\r\n                        .withName(document)\r\n                        .withBucket(bucket)));\r\n\r\nDetectDocumentTextResult result = client.detectDocumentText(request);\r\n```\r\n\r\nWorking Code\r\n```\r\npackage aws.cloud.work;\r\n\r\nimport java.io.IOException;\r\nimport com.amazonaws.auth.AWSStaticCredentialsProvider;\r\nimport com.amazonaws.auth.BasicAWSCredentials;\r\nimport com.amazonaws.regions.Regions;\r\nimport com.amazonaws.services.textract.AmazonTextract;\r\nimport com.amazonaws.services.textract.AmazonTextractClientBuilder;\r\nimport com.amazonaws.services.textract.model.DetectDocumentTextRequest;\r\nimport com.amazonaws.services.textract.model.DetectDocumentTextResult;\r\nimport com.amazonaws.services.textract.model.Document;\r\nimport com.amazonaws.services.textract.model.S3Object;\r\n\r\npublic class TextractOriginalMaster3 {\r\n\r\n    static AmazonTextractClientBuilder clientBuilder = AmazonTextractClientBuilder.standard().withRegion(Regions.AP_SOUTHEAST_1);\r\n\r\n    public static void main(String[] args) throws IOException {\r\n       \r\n    \t//Set AWS Credentials to use Textract\r\n    \tclientBuilder.setCredentials(new AWSStaticCredentialsProvider(new\r\n    \t        BasicAWSCredentials(&quot;Accesskey&quot;, &quot;Secretkey&quot;)));\r\n\r\n    \t//**Getting document from S3 Bucket Path\r\n    \tString document = &quot;image.png&quot;;\r\n    \tString bucket = &quot;Bucket Name&quot;;\r\n\r\n    \t//Calling AWS Textract Client\r\n    \tAmazonTextract client = clientBuilder.build();\r\n    \tDetectDocumentTextRequest request = new DetectDocumentTextRequest()\r\n    \t        .withDocument(new Document()\r\n    \t                .withS3Object(new S3Object()\r\n    \t                        .withName(document)\r\n    \t                        .withBucket(bucket)));\r\n    \tDetectDocumentTextResult result = client.detectDocumentText(request);\r\n    \tSystem.out.println(result);\r\n    \tresult.getBlocks().forEach(block -&gt; {\r\n    \t    if (block.getBlockType().equals(&quot;LINE&quot;))\r\n    \t        System.out.println(&quot;text is &quot; + block.getText() + &quot; confidence is &quot; + block.getConfidence());\r\n    \t});\r\n\t\t\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/awsdocs/amazon-textract-developer-guide/blob/master/doc_source/sync-calling.md","title":"Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain","body":"<p>I finally got it working with the below code with the below article:</p>\n<p><a href=\"https://github.com/awsdocs/amazon-textract-developer-guide/blob/master/doc_source/sync-calling.md\" rel=\"nofollow noreferrer\">Calling Amazon Textract Synchronous Operations</a></p>\n<pre><code>String document=&quot;input.png&quot;;\nString bucket=&quot;bucket&quot;;\n\nAmazonTextract client = AmazonTextractClientBuilder.defaultClient();\n\nDetectDocumentTextRequest request = new DetectDocumentTextRequest()\n        .withDocument(new Document()\n                .withS3Object(new S3Object()\n                        .withName(document)\n                        .withBucket(bucket)));\n\nDetectDocumentTextResult result = client.detectDocumentText(request);\n</code></pre>\n<p>Working Code</p>\n<pre><code>package aws.cloud.work;\n\nimport java.io.IOException;\nimport com.amazonaws.auth.AWSStaticCredentialsProvider;\nimport com.amazonaws.auth.BasicAWSCredentials;\nimport com.amazonaws.regions.Regions;\nimport com.amazonaws.services.textract.AmazonTextract;\nimport com.amazonaws.services.textract.AmazonTextractClientBuilder;\nimport com.amazonaws.services.textract.model.DetectDocumentTextRequest;\nimport com.amazonaws.services.textract.model.DetectDocumentTextResult;\nimport com.amazonaws.services.textract.model.Document;\nimport com.amazonaws.services.textract.model.S3Object;\n\npublic class TextractOriginalMaster3 {\n\n    static AmazonTextractClientBuilder clientBuilder = AmazonTextractClientBuilder.standard().withRegion(Regions.AP_SOUTHEAST_1);\n\n    public static void main(String[] args) throws IOException {\n       \n        //Set AWS Credentials to use Textract\n        clientBuilder.setCredentials(new AWSStaticCredentialsProvider(new\n                BasicAWSCredentials(&quot;Accesskey&quot;, &quot;Secretkey&quot;)));\n\n        //**Getting document from S3 Bucket Path\n        String document = &quot;image.png&quot;;\n        String bucket = &quot;Bucket Name&quot;;\n\n        //Calling AWS Textract Client\n        AmazonTextract client = clientBuilder.build();\n        DetectDocumentTextRequest request = new DetectDocumentTextRequest()\n                .withDocument(new Document()\n                        .withS3Object(new S3Object()\n                                .withName(document)\n                                .withBucket(bucket)));\n        DetectDocumentTextResult result = client.detectDocumentText(request);\n        System.out.println(result);\n        result.getBlocks().forEach(block -&gt; {\n            if (block.getBlockType().equals(&quot;LINE&quot;))\n                System.out.println(&quot;text is &quot; + block.getText() + &quot; confidence is &quot; + block.getConfidence());\n        });\n        \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10588890,"reputation":199,"user_id":8240254,"display_name":"Sai Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665214471,"creation_date":1665214471,"answer_id":73995209,"question_id":68864095,"body_markdown":"To answer this, we can load the credentials using StaticCredentialsProvider\r\nPlease refer the below code.\r\n\r\n\r\n    TextractClient textractClient = TextractClient.builder().region(Region.of(region)).credentialsProvider(StaticCredentialsProvider.create(AwsBasicCredentials\r\n                .create(accessKey,secretKey))).build();","title":"Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain","body":"<p>To answer this, we can load the credentials using StaticCredentialsProvider\nPlease refer the below code.</p>\n<pre><code>TextractClient textractClient = TextractClient.builder().region(Region.of(region)).credentialsProvider(StaticCredentialsProvider.create(AwsBasicCredentials\n            .create(accessKey,secretKey))).build();\n</code></pre>\n"}],"owner":{"account_id":22521051,"reputation":137,"user_id":16714629,"display_name":"Alan Chu2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41078,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":68938821,"answer_count":3,"score":6,"last_activity_date":1665214471,"creation_date":1629470875,"question_id":68864095,"body_markdown":"I&#39;m getting the following exception when trying to read a file to AWS S3 Error:\r\n&gt; Unable to load AWS credentials from any provider in the chain.\r\n\r\nI have generated a public bucket and also generated an AWS IAM role with full S3 bucket access and textract access.\r\n\r\nI am trying to read an image from S3 bucket and run AWS Textract service.\r\n\r\nJava code:\r\n```java\r\npackage com.textract;\r\n\r\nimport com.amazonaws.auth.AWSStaticCredentialsProvider;\r\nimport com.amazonaws.auth.BasicAWSCredentials;\r\nimport com.amazonaws.services.s3.AmazonS3;\r\nimport com.amazonaws.services.s3.AmazonS3Client;\r\nimport com.amazonaws.services.s3.AmazonS3ClientBuilder;\r\nimport com.amazonaws.services.s3.model.S3Object;\r\nimport com.amazonaws.services.s3.model.S3ObjectInputStream;\r\nimport software.amazon.awssdk.core.SdkBytes;\r\nimport software.amazon.awssdk.regions.Region;\r\nimport software.amazon.awssdk.services.textract.TextractClient;\r\nimport software.amazon.awssdk.services.textract.model.*;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.LinkedHashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n\r\npublic class App {\r\n\r\n    public static Map&lt;String, String&gt; getRelationships(Map&lt;String, Block&gt; blockMap, Map&lt;String, Block&gt; keyMap,Map&lt;String, Block&gt; valueMap) {\r\n        Map&lt;String, String&gt; result = new LinkedHashMap&lt;&gt;();\r\n        for(Map.Entry&lt;String, Block&gt; itr : keyMap.entrySet()) {\r\n            Block valueBlock = findValue(itr.getValue(), valueMap);\r\n            String key = getText(itr.getValue(), blockMap);\r\n            String value = getText(valueBlock, blockMap);\r\n            result.put(key, value);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public static Block findValue(Block keyBlock, Map&lt;String, Block&gt; valueMap) {\r\n        Block b = null;\r\n        for(Relationship relationship : keyBlock.relationships()) {\r\n            if(relationship.type().toString().equals(&quot;VALUE&quot;)) {\r\n                for(String id : relationship.ids()) {\r\n                    b = valueMap.get(id);\r\n                }\r\n            }\r\n        }\r\n        return b;\r\n    }\r\n\r\n    public static String getText(Block result, Map&lt;String, Block&gt; blockMap) {\r\n        StringBuilder stringBuilder = new StringBuilder();\r\n        for(Relationship relationship : result.relationships()) {\r\n            if(relationship.type().toString().equals(&quot;CHILD&quot;)) {\r\n                for(String id : relationship.ids()) {\r\n                    Block b = blockMap.get(id);\r\n                    if(b.blockTypeAsString().equals(&quot;WORD&quot;)) {\r\n                        stringBuilder.append(b.text()).append(&quot; &quot;);\r\n                    }\r\n                 }\r\n            }\r\n        }\r\n        return stringBuilder.toString();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n    \t\r\n        BasicAWSCredentials creds = new BasicAWSCredentials(&quot;&lt;Secret Key&gt;&quot;, &quot;&lt;Access Key&gt;&quot;);\r\n        AmazonS3 s3client = AmazonS3Client.builder()\r\n        \t    .withRegion(&quot;ap-southeast-1&quot;)\r\n        \t    .withCredentials(new AWSStaticCredentialsProvider(creds))\r\n        \t    .build();\r\n        \r\n//        AmazonS3 s3client = AmazonS3ClientBuilder.standard().build();\r\n        S3Object s3Object = s3client.getObject(&quot;&lt;S3 Bucket&gt;&quot;, &quot;image.jpg&quot;);\r\n        S3ObjectInputStream s3ObjectInputStream = s3Object.getObjectContent();\r\n\r\n        SdkBytes bytes = SdkBytes.fromInputStream(s3ObjectInputStream);\r\n        Document doc = Document.builder().bytes(bytes).build();\r\n\r\n        List&lt;FeatureType&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(FeatureType.FORMS);\r\n\r\n        AnalyzeDocumentRequest request = AnalyzeDocumentRequest.builder().featureTypes(list).document(doc).build();\r\n\r\n        TextractClient textractClient = TextractClient.builder().region(Region.US_WEST_2).build();\r\n\r\n        AnalyzeDocumentResponse response = textractClient.analyzeDocument(request);\r\n        List&lt;Block&gt; blocks = response.blocks();\r\n\r\n        Map&lt;String, Block&gt; blockMap = new LinkedHashMap&lt;&gt;();\r\n        Map&lt;String, Block&gt; keyMap = new LinkedHashMap&lt;&gt;();\r\n        Map&lt;String, Block&gt; valueMap = new LinkedHashMap&lt;&gt;();\r\n\r\n        for (Block b : blocks) {\r\n            String block_id = b.id();\r\n            blockMap.put(block_id, b);\r\n            if(b.blockTypeAsString().equals(&quot;KEY_VALUE_SET&quot;)) {\r\n                for(EntityType entityType : b.entityTypes()) {\r\n                    if(entityType.toString().equals(&quot;KEY&quot;)) {\r\n                        keyMap.put(block_id, b);\r\n                    } else {\r\n                        valueMap.put(block_id, b);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n            System.out.println(getRelationships(blockMap, keyMap, valueMap));\r\n            textractClient.close();\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\nConsole error:\r\n```none\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nException in thread &quot;main&quot; software.amazon.awssdk.core.exception.SdkClientException: Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain(credentialsProviders=[SystemPropertyCredentialsProvider(), EnvironmentVariableCredentialsProvider(), WebIdentityTokenCredentialsProvider(), ProfileCredentialsProvider(), ContainerCredentialsProvider(), InstanceProfileCredentialsProvider()]) : [SystemPropertyCredentialsProvider(): Unable to load credentials from system settings. Access key must be specified either via environment variable (AWS_ACCESS_KEY_ID) or system property (aws.accessKeyId)., EnvironmentVariableCredentialsProvider(): Unable to load credentials from system settings. Access key must be specified either via environment variable (AWS_ACCESS_KEY_ID) or system property (aws.accessKeyId)., WebIdentityTokenCredentialsProvider(): Either the environment variable AWS_WEB_IDENTITY_TOKEN_FILE or the javaproperty aws.webIdentityTokenFile must be set., ProfileCredentialsProvider(): Profile file contained no credentials for profile &#39;default&#39;: ProfileFile(profiles=[]), ContainerCredentialsProvider(): Cannot fetch credentials from container - neither AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI environment variables are set., InstanceProfileCredentialsProvider(): Unable to load credentials from service endpoint.]\r\n\tat software.amazon.awssdk.core.exception.SdkClientException$BuilderImpl.build(SdkClientException.java:98)\r\n\tat software.amazon.awssdk.auth.credentials.AwsCredentialsProviderChain.resolveCredentials(AwsCredentialsProviderChain.java:112)\r\n\tat software.amazon.awssdk.auth.credentials.internal.LazyAwsCredentialsProvider.resolveCredentials(LazyAwsCredentialsProvider.java:45)\r\n\tat software.amazon.awssdk.auth.credentials.DefaultCredentialsProvider.resolveCredentials(DefaultCredentialsProvider.java:104)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsClientHandlerUtils.createExecutionContext(AwsClientHandlerUtils.java:76)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.createExecutionContext(AwsSyncClientHandler.java:68)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:97)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:167)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:94)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:55)\r\n\tat software.amazon.awssdk.services.textract.DefaultTextractClient.analyzeDocument(DefaultTextractClient.java:215)\r\n\tat com.textract.App.main(App.java:83)\r\n```","title":"Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain","body":"<p>I'm getting the following exception when trying to read a file to AWS S3 Error:</p>\n<blockquote>\n<p>Unable to load AWS credentials from any provider in the chain.</p>\n</blockquote>\n<p>I have generated a public bucket and also generated an AWS IAM role with full S3 bucket access and textract access.</p>\n<p>I am trying to read an image from S3 bucket and run AWS Textract service.</p>\n<p>Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.textract;\n\nimport com.amazonaws.auth.AWSStaticCredentialsProvider;\nimport com.amazonaws.auth.BasicAWSCredentials;\nimport com.amazonaws.services.s3.AmazonS3;\nimport com.amazonaws.services.s3.AmazonS3Client;\nimport com.amazonaws.services.s3.AmazonS3ClientBuilder;\nimport com.amazonaws.services.s3.model.S3Object;\nimport com.amazonaws.services.s3.model.S3ObjectInputStream;\nimport software.amazon.awssdk.core.SdkBytes;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.textract.TextractClient;\nimport software.amazon.awssdk.services.textract.model.*;\n\nimport java.util.ArrayList;\nimport java.util.LinkedHashMap;\nimport java.util.List;\nimport java.util.Map;\n\n\npublic class App {\n\n    public static Map&lt;String, String&gt; getRelationships(Map&lt;String, Block&gt; blockMap, Map&lt;String, Block&gt; keyMap,Map&lt;String, Block&gt; valueMap) {\n        Map&lt;String, String&gt; result = new LinkedHashMap&lt;&gt;();\n        for(Map.Entry&lt;String, Block&gt; itr : keyMap.entrySet()) {\n            Block valueBlock = findValue(itr.getValue(), valueMap);\n            String key = getText(itr.getValue(), blockMap);\n            String value = getText(valueBlock, blockMap);\n            result.put(key, value);\n        }\n        return result;\n    }\n\n    public static Block findValue(Block keyBlock, Map&lt;String, Block&gt; valueMap) {\n        Block b = null;\n        for(Relationship relationship : keyBlock.relationships()) {\n            if(relationship.type().toString().equals(&quot;VALUE&quot;)) {\n                for(String id : relationship.ids()) {\n                    b = valueMap.get(id);\n                }\n            }\n        }\n        return b;\n    }\n\n    public static String getText(Block result, Map&lt;String, Block&gt; blockMap) {\n        StringBuilder stringBuilder = new StringBuilder();\n        for(Relationship relationship : result.relationships()) {\n            if(relationship.type().toString().equals(&quot;CHILD&quot;)) {\n                for(String id : relationship.ids()) {\n                    Block b = blockMap.get(id);\n                    if(b.blockTypeAsString().equals(&quot;WORD&quot;)) {\n                        stringBuilder.append(b.text()).append(&quot; &quot;);\n                    }\n                 }\n            }\n        }\n        return stringBuilder.toString();\n    }\n\n    public static void main(String[] args) {\n        \n        BasicAWSCredentials creds = new BasicAWSCredentials(&quot;&lt;Secret Key&gt;&quot;, &quot;&lt;Access Key&gt;&quot;);\n        AmazonS3 s3client = AmazonS3Client.builder()\n                .withRegion(&quot;ap-southeast-1&quot;)\n                .withCredentials(new AWSStaticCredentialsProvider(creds))\n                .build();\n        \n//        AmazonS3 s3client = AmazonS3ClientBuilder.standard().build();\n        S3Object s3Object = s3client.getObject(&quot;&lt;S3 Bucket&gt;&quot;, &quot;image.jpg&quot;);\n        S3ObjectInputStream s3ObjectInputStream = s3Object.getObjectContent();\n\n        SdkBytes bytes = SdkBytes.fromInputStream(s3ObjectInputStream);\n        Document doc = Document.builder().bytes(bytes).build();\n\n        List&lt;FeatureType&gt; list = new ArrayList&lt;&gt;();\n        list.add(FeatureType.FORMS);\n\n        AnalyzeDocumentRequest request = AnalyzeDocumentRequest.builder().featureTypes(list).document(doc).build();\n\n        TextractClient textractClient = TextractClient.builder().region(Region.US_WEST_2).build();\n\n        AnalyzeDocumentResponse response = textractClient.analyzeDocument(request);\n        List&lt;Block&gt; blocks = response.blocks();\n\n        Map&lt;String, Block&gt; blockMap = new LinkedHashMap&lt;&gt;();\n        Map&lt;String, Block&gt; keyMap = new LinkedHashMap&lt;&gt;();\n        Map&lt;String, Block&gt; valueMap = new LinkedHashMap&lt;&gt;();\n\n        for (Block b : blocks) {\n            String block_id = b.id();\n            blockMap.put(block_id, b);\n            if(b.blockTypeAsString().equals(&quot;KEY_VALUE_SET&quot;)) {\n                for(EntityType entityType : b.entityTypes()) {\n                    if(entityType.toString().equals(&quot;KEY&quot;)) {\n                        keyMap.put(block_id, b);\n                    } else {\n                        valueMap.put(block_id, b);\n                    }\n                }\n            }\n        }\n            System.out.println(getRelationships(blockMap, keyMap, valueMap));\n            textractClient.close();\n\n    }\n}\n</code></pre>\n<p>Console error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nException in thread &quot;main&quot; software.amazon.awssdk.core.exception.SdkClientException: Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain(credentialsProviders=[SystemPropertyCredentialsProvider(), EnvironmentVariableCredentialsProvider(), WebIdentityTokenCredentialsProvider(), ProfileCredentialsProvider(), ContainerCredentialsProvider(), InstanceProfileCredentialsProvider()]) : [SystemPropertyCredentialsProvider(): Unable to load credentials from system settings. Access key must be specified either via environment variable (AWS_ACCESS_KEY_ID) or system property (aws.accessKeyId)., EnvironmentVariableCredentialsProvider(): Unable to load credentials from system settings. Access key must be specified either via environment variable (AWS_ACCESS_KEY_ID) or system property (aws.accessKeyId)., WebIdentityTokenCredentialsProvider(): Either the environment variable AWS_WEB_IDENTITY_TOKEN_FILE or the javaproperty aws.webIdentityTokenFile must be set., ProfileCredentialsProvider(): Profile file contained no credentials for profile 'default': ProfileFile(profiles=[]), ContainerCredentialsProvider(): Cannot fetch credentials from container - neither AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI environment variables are set., InstanceProfileCredentialsProvider(): Unable to load credentials from service endpoint.]\n    at software.amazon.awssdk.core.exception.SdkClientException$BuilderImpl.build(SdkClientException.java:98)\n    at software.amazon.awssdk.auth.credentials.AwsCredentialsProviderChain.resolveCredentials(AwsCredentialsProviderChain.java:112)\n    at software.amazon.awssdk.auth.credentials.internal.LazyAwsCredentialsProvider.resolveCredentials(LazyAwsCredentialsProvider.java:45)\n    at software.amazon.awssdk.auth.credentials.DefaultCredentialsProvider.resolveCredentials(DefaultCredentialsProvider.java:104)\n    at software.amazon.awssdk.awscore.client.handler.AwsClientHandlerUtils.createExecutionContext(AwsClientHandlerUtils.java:76)\n    at software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.createExecutionContext(AwsSyncClientHandler.java:68)\n    at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:97)\n    at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:167)\n    at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:94)\n    at software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\n    at software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:55)\n    at software.amazon.awssdk.services.textract.DefaultTextractClient.analyzeDocument(DefaultTextractClient.java:215)\n    at com.textract.App.main(App.java:83)\n</code></pre>\n"},{"tags":["java","intellij-idea","build"],"comments":[{"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"score":1,"creation_date":1665213304,"post_id":73995010,"comment_id":130651134,"body_markdown":"Please help us with the exact error that you are facing and try to follow the [proper naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html) while coding as I can see the class name is starting with lowercase.","body":"Please help us with the exact error that you are facing and try to follow the <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">proper naming conventions</a> while coding as I can see the class name is starting with lowercase."}],"answers":[{"tags":[],"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665214375,"creation_date":1665214375,"answer_id":73995203,"question_id":73995010,"body_markdown":"you can build Java program using ```javac program1.java.```\r\nor you can try this Move your code inside of the src folder. Once it&#39;s there, it&#39;ll be compiled on-the-fly every time it&#39;s saved.\r\n\r\nIntelliJ only recognizes files in specific locations as part of the project - namely, anything inside of a blue folder is specifically considered to be source code.\r\n\r\nAlso - while I can&#39;t see all of your source code - be sure that it&#39;s proper Java syntax, with a class declared the same as the file and that it has a main method (specifically public static void main(String[] args)). IntelliJ won&#39;t run code without a main method (rather, it can&#39;t - neither it nor Java would know where to start).\r\n","title":"how to run build in intellij idea","body":"<p>you can build Java program using <code>javac program1.java.</code>\nor you can try this Move your code inside of the src folder. Once it's there, it'll be compiled on-the-fly every time it's saved.</p>\n<p>IntelliJ only recognizes files in specific locations as part of the project - namely, anything inside of a blue folder is specifically considered to be source code.</p>\n<p>Also - while I can't see all of your source code - be sure that it's proper Java syntax, with a class declared the same as the file and that it has a main method (specifically public static void main(String[] args)). IntelliJ won't run code without a main method (rather, it can't - neither it nor Java would know where to start).</p>\n"}],"owner":{"account_id":26561921,"reputation":1,"user_id":20189617,"display_name":"Ashutosh Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665214375,"creation_date":1665212013,"question_id":73995010,"body_markdown":"      import java.util.Scanner;\r\n       public class incometax {\r\n       public static void main(String[] args) {\r\n       Scanner sc=new Scanner(System.in);\r\n        System.out.println(&quot;Enter your income in lacs &quot;);\r\n        float tax=0;\r\n        float income= sc.nextFloat();\r\n            if (income &lt; 2.5f) {\r\n                System.out.println(&quot;You do not need to pay tax&quot;);\r\n            } else if (income &gt; 2.5f &amp;&amp; income &lt;= 5.0f) {\r\n                tax = tax + 0.0f * (income - 2.5f);\r\n                System.out.println(&quot;You don&#39;t need to pay taxes&quot;);\r\n            } else if (income &gt; 5f &amp;&amp; income &lt;= 7.5f) {\r\n                //tax=tax+0.0f*(income-5f);\r\n                tax = tax + 0.1f * (income - 5f);\r\n            } else if (income &gt;= 7.5f &amp;&amp; income &lt;= 10f) {\r\n                //tax=tax+0.0f*(income-2.5f);\r\n                tax = tax + 0.1f * (income - 5f);\r\n                tax = tax + 0.15f * (income - 7.5f);\r\n            } else if (income &gt; 10f &amp;&amp; income &lt;= 12.5f) {\r\n                tax = tax + 0.1f * (income - 5f);\r\n                tax = tax + 0.15f * (income - 7.5f);\r\n                tax = tax + 0.2f * (income - 10f);\r\n            } else if (income &gt; 12.5f &amp;&amp; income &lt;= 15f) {\r\n                tax = tax + 0.1f * (income - 5f);\r\n                tax = tax + 0.2f * (income - 7.5f);\r\n                tax = tax + 0.2f * (income - 10f);\r\n                tax = tax + 0.25f * (income - 12.5f);\r\n                //tax=tax+0.15f*(income-10f);\r\n\r\n            } else if (income &gt; 15f) {\r\n                tax = tax + 0.1f * (income - 5f);\r\n                tax = tax + 0.15f * (income - 7.5f);\r\n                tax = tax + 0.2f * (income - 10f);\r\n                tax = tax + 0.25f * (income - 12.5f);\r\n                tax = tax + 0.3f * (income - 15f);\r\n            }\r\n              System.out.println(&quot;Your total tax is :&quot; +tax +&quot;lacs&quot;);\r\n          }\r\n\r\n        }\r\n\r\n\r\neverything fine in this code but my intellij idea not working properly whenever i rum this or any file there ide start running another file and says build failed \r\nplease help me ","title":"how to run build in intellij idea","body":"<pre><code>  import java.util.Scanner;\n   public class incometax {\n   public static void main(String[] args) {\n   Scanner sc=new Scanner(System.in);\n    System.out.println(&quot;Enter your income in lacs &quot;);\n    float tax=0;\n    float income= sc.nextFloat();\n        if (income &lt; 2.5f) {\n            System.out.println(&quot;You do not need to pay tax&quot;);\n        } else if (income &gt; 2.5f &amp;&amp; income &lt;= 5.0f) {\n            tax = tax + 0.0f * (income - 2.5f);\n            System.out.println(&quot;You don't need to pay taxes&quot;);\n        } else if (income &gt; 5f &amp;&amp; income &lt;= 7.5f) {\n            //tax=tax+0.0f*(income-5f);\n            tax = tax + 0.1f * (income - 5f);\n        } else if (income &gt;= 7.5f &amp;&amp; income &lt;= 10f) {\n            //tax=tax+0.0f*(income-2.5f);\n            tax = tax + 0.1f * (income - 5f);\n            tax = tax + 0.15f * (income - 7.5f);\n        } else if (income &gt; 10f &amp;&amp; income &lt;= 12.5f) {\n            tax = tax + 0.1f * (income - 5f);\n            tax = tax + 0.15f * (income - 7.5f);\n            tax = tax + 0.2f * (income - 10f);\n        } else if (income &gt; 12.5f &amp;&amp; income &lt;= 15f) {\n            tax = tax + 0.1f * (income - 5f);\n            tax = tax + 0.2f * (income - 7.5f);\n            tax = tax + 0.2f * (income - 10f);\n            tax = tax + 0.25f * (income - 12.5f);\n            //tax=tax+0.15f*(income-10f);\n\n        } else if (income &gt; 15f) {\n            tax = tax + 0.1f * (income - 5f);\n            tax = tax + 0.15f * (income - 7.5f);\n            tax = tax + 0.2f * (income - 10f);\n            tax = tax + 0.25f * (income - 12.5f);\n            tax = tax + 0.3f * (income - 15f);\n        }\n          System.out.println(&quot;Your total tax is :&quot; +tax +&quot;lacs&quot;);\n      }\n\n    }\n</code></pre>\n<p>everything fine in this code but my intellij idea not working properly whenever i rum this or any file there ide start running another file and says build failed\nplease help me</p>\n"},{"tags":["java","android","google-mlkit"],"answers":[{"tags":[],"owner":{"account_id":18397088,"reputation":226,"user_id":13401226,"display_name":"zhouyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665213940,"creation_date":1665213940,"answer_id":73995164,"question_id":73872334,"body_markdown":"You can create a TranslateRemoteModel for the specific language and then use RemoteModelManager#isModelDownloaded API to check.\r\nhttps://developers.google.com/android/reference/com/google/mlkit/common/model/RemoteModelManager#isModelDownloaded(com.google.mlkit.common.model.RemoteModel)","title":"How to get downloaded models in ML Kit Translation","body":"<p>You can create a TranslateRemoteModel for the specific language and then use RemoteModelManager#isModelDownloaded API to check.\n<a href=\"https://developers.google.com/android/reference/com/google/mlkit/common/model/RemoteModelManager#isModelDownloaded(com.google.mlkit.common.model.RemoteModel)\" rel=\"nofollow noreferrer\">https://developers.google.com/android/reference/com/google/mlkit/common/model/RemoteModelManager#isModelDownloaded(com.google.mlkit.common.model.RemoteModel)</a></p>\n"}],"owner":{"account_id":24444884,"reputation":1,"user_id":18368006,"display_name":"Ibragim Maltsagov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665213940,"creation_date":1664303537,"question_id":73872334,"body_markdown":"I&#39;m trying to check if a model has been downloaded for translation in ML Kit Translation.\r\nI did not find any official documentation for this and wrote the code looking at the sample application from Google.\r\n\r\nThis code checks if among the downloaded models there is the right one:\r\n\r\n    public static boolean isLanguageDownloaded(String language) {\r\n        boolean isDownloaded = false;\r\n        for (int i = 0; i &lt; getAvailableModels().size(); i++) {\r\n            if (getAvailableModels().get(i).equals(language)) {\r\n                isDownloaded = true;\r\n            } else {\r\n                isDownloaded = false;\r\n            }\r\n        }\r\n        return isDownloaded;\r\n    }\r\n\r\nThis code for getting available model:\r\n\r\n    public static List&lt;String&gt; getAvailableModels() {\r\n        List&lt;String&gt; availableModels = new ArrayList&lt;&gt;();\r\n        getRemoteModelManager()\r\n                .getDownloadedModels(TranslateRemoteModel.class)\r\n                .addOnSuccessListener(\r\n                        models -&gt; {\r\n                            // Model downloading is complete.\r\n                            // ...\r\n                            for (TranslateRemoteModel model : models) {\r\n                                availableModels.add(model.getLanguage());\r\n                            }\r\n                        })\r\n                .addOnFailureListener(\r\n                        e -&gt; {\r\n                            // Model downloading failed.\r\n                            // ...\r\n                            Log.d(TAG, &quot;onFailure: Model downloading failed.&quot;);\r\n                        });\r\n        return availableModels;\r\n    }\r\n\r\nI would really appreciate any help and advice.","title":"How to get downloaded models in ML Kit Translation","body":"<p>I'm trying to check if a model has been downloaded for translation in ML Kit Translation.\nI did not find any official documentation for this and wrote the code looking at the sample application from Google.</p>\n<p>This code checks if among the downloaded models there is the right one:</p>\n<pre><code>public static boolean isLanguageDownloaded(String language) {\n    boolean isDownloaded = false;\n    for (int i = 0; i &lt; getAvailableModels().size(); i++) {\n        if (getAvailableModels().get(i).equals(language)) {\n            isDownloaded = true;\n        } else {\n            isDownloaded = false;\n        }\n    }\n    return isDownloaded;\n}\n</code></pre>\n<p>This code for getting available model:</p>\n<pre><code>public static List&lt;String&gt; getAvailableModels() {\n    List&lt;String&gt; availableModels = new ArrayList&lt;&gt;();\n    getRemoteModelManager()\n            .getDownloadedModels(TranslateRemoteModel.class)\n            .addOnSuccessListener(\n                    models -&gt; {\n                        // Model downloading is complete.\n                        // ...\n                        for (TranslateRemoteModel model : models) {\n                            availableModels.add(model.getLanguage());\n                        }\n                    })\n            .addOnFailureListener(\n                    e -&gt; {\n                        // Model downloading failed.\n                        // ...\n                        Log.d(TAG, &quot;onFailure: Model downloading failed.&quot;);\n                    });\n    return availableModels;\n}\n</code></pre>\n<p>I would really appreciate any help and advice.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1665243916,"post_id":73995071,"comment_id":130656511,"body_markdown":"I don&#39;t quite understand - what is the parent and Child relationship in this case? If you have a Post instance, just delete it - all data associated with it (if it is an entity) will be deleted. So if it spans Post and OnlinePost tables, that includes the rows associated to it - automatically. Rows in the OnlinePost table are not onlinePost instances - if you try to read them, you will get back subclass (Post) instances where there are associated subclass data. Are you maybe trying to describe some other non-inheritance relationship between these classes?","body":"I don&#39;t quite understand - what is the parent and Child relationship in this case? If you have a Post instance, just delete it - all data associated with it (if it is an entity) will be deleted. So if it spans Post and OnlinePost tables, that includes the rows associated to it - automatically. Rows in the OnlinePost table are not onlinePost instances - if you try to read them, you will get back subclass (Post) instances where there are associated subclass data. Are you maybe trying to describe some other non-inheritance relationship between these classes?"}],"answers":[{"tags":[],"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665213435,"creation_date":1665213435,"answer_id":73995116,"question_id":73995071,"body_markdown":"You can do the following. Instead of extending you can map the entity together like below\r\n\r\n    @Entity\r\n    public class OnlinePost {\r\n        @Id\r\n        @SequenceGenerator(\r\n                name = &quot;onlinePost_sequence&quot;,\r\n                sequenceName = &quot;onlinePost_sequence&quot;,\r\n                allocationSize = 1\r\n        )\r\n        @GeneratedValue(\r\n                strategy = GenerationType.SEQUENCE,\r\n                generator = &quot;onlinePost_sequence&quot;\r\n        )\r\n        private Long postId;\r\n        // some other columns, getters and setters\r\n    \r\n        @OneToOne(cascade= CascadeType.DELETE)\r\n        Post post;\r\n    }\r\n    \r\n    public class Post{\r\n        private String image;\r\n        private String title;\r\n    }\r\n\r\n\r\n\r\nBy doing this when you delete parent . The child will be deleted automatically","title":"JPA Inheritance - I want to delete parent row with child rows how do I do it","body":"<p>You can do the following. Instead of extending you can map the entity together like below</p>\n<pre><code>@Entity\npublic class OnlinePost {\n    @Id\n    @SequenceGenerator(\n            name = &quot;onlinePost_sequence&quot;,\n            sequenceName = &quot;onlinePost_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;onlinePost_sequence&quot;\n    )\n    private Long postId;\n    // some other columns, getters and setters\n\n    @OneToOne(cascade= CascadeType.DELETE)\n    Post post;\n}\n\npublic class Post{\n    private String image;\n    private String title;\n}\n</code></pre>\n<p>By doing this when you delete parent . The child will be deleted automatically</p>\n"},{"tags":[],"owner":{"account_id":26552100,"reputation":470,"user_id":20181249,"display_name":"Sandeep Kumar Nat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665213764,"creation_date":1665213764,"answer_id":73995147,"question_id":73995071,"body_markdown":"Create a child field in your parent class then map both class and apply cascade type delete in your relation to achieve the desired output example:\r\n\r\n    //for One to one:\r\n\r\n    @OneToOne(cascade= CascadeType.DELETE)\r\n    private Post post;","title":"JPA Inheritance - I want to delete parent row with child rows how do I do it","body":"<p>Create a child field in your parent class then map both class and apply cascade type delete in your relation to achieve the desired output example:</p>\n<pre><code>//for One to one:\n\n@OneToOne(cascade= CascadeType.DELETE)\nprivate Post post;\n</code></pre>\n"}],"owner":{"account_id":17973728,"reputation":1,"user_id":13061850,"display_name":"Kumud Perera"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665213764,"creation_date":1665212847,"question_id":73995071,"body_markdown":"Parent Class\r\n\r\n    @Entity\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    public class OnlinePost {\r\n    \t@Id\r\n    \t@SequenceGenerator(\r\n    \t\t\tname = &quot;onlinePost_sequence&quot;,\r\n    \t\t\tsequenceName = &quot;onlinePost_sequence&quot;,\r\n    \t\t\tallocationSize = 1\r\n    \t)\r\n    \t@GeneratedValue(\r\n    \t\t\tstrategy = GenerationType.SEQUENCE,\r\n    \t\t\tgenerator = &quot;onlinePost_sequence&quot;\r\n    \t)\r\n    \tprivate Long postId;\r\n        // some other columns, getters and setters\r\n    \r\n    }\r\n\r\nChild Class\r\n\r\n    public class Post extends OnlinePost{\r\n    \tprivate String image;\r\n    \tprivate String title;\r\n    }\r\n\r\nI want to delete the parent, then delete child element automatically","title":"JPA Inheritance - I want to delete parent row with child rows how do I do it","body":"<p>Parent Class</p>\n<pre><code>@Entity\n@Inheritance(strategy = InheritanceType.JOINED)\npublic class OnlinePost {\n    @Id\n    @SequenceGenerator(\n            name = &quot;onlinePost_sequence&quot;,\n            sequenceName = &quot;onlinePost_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;onlinePost_sequence&quot;\n    )\n    private Long postId;\n    // some other columns, getters and setters\n\n}\n</code></pre>\n<p>Child Class</p>\n<pre><code>public class Post extends OnlinePost{\n    private String image;\n    private String title;\n}\n</code></pre>\n<p>I want to delete the parent, then delete child element automatically</p>\n"},{"tags":["java","xml","xml-parsing","finance","xbrl"],"answers":[{"tags":[],"owner":{"account_id":3769835,"reputation":964,"user_id":3132351,"display_name":"EverNight"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648125111,"creation_date":1648125111,"answer_id":71602615,"question_id":71559162,"body_markdown":"From personal experience I can give you a list of considerations when it comes to non-program-development people who work in the financial sector and submit standardized information:\r\n\r\n1. the level of respect they have for the &quot;you have to do things this way&quot; paradigm is effectively 0.\r\n\r\n2. expectance that filings aren&#39;t filled out properly/correctly should be at 100%.\r\n\r\n3. Even though sec filings are meant to consolidate data in a standardized, meaningful, and readily available transparent facet, the financial sector is plagued with ambiguity and interoperable terms which may differ from corporate entity to corporate entity.\r\n\r\n... or in short ... in their point of view *&quot;ILFCOBITEINI and ILFCOBITMIAILFEMI look pretty similar, so they pretty much mean the same thing.&quot;*\r\n\r\nAs far as I know, there is no support on behalf of sec or other federation entities which is in charge of controlling sec filing accuracy since the idea is &quot; you file it wrong... you pay a fine &quot; .... meaning that due to interoperability of forms that &quot;wrong&quot; level is pretty ambiguous.\r\n\r\nAs such, the problem is that you must account for unexpected pseudo-fails when it comes to filings, meaning that you should probably write some code which does structural-to-content identity matches across different entries.\r\n\r\nI&#39;d advise using a reasoning logic subsystem (that you&#39;ll have to write) instead of a simple switch-case statement operating on a &quot;if-this-exists-else&quot; basis. ... and always consider that the level of incompetence in the financial sector is disgustingly high.","title":"XBRL: How do you merge rows from different filings?","body":"<p>From personal experience I can give you a list of considerations when it comes to non-program-development people who work in the financial sector and submit standardized information:</p>\n<ol>\n<li><p>the level of respect they have for the &quot;you have to do things this way&quot; paradigm is effectively 0.</p>\n</li>\n<li><p>expectance that filings aren't filled out properly/correctly should be at 100%.</p>\n</li>\n<li><p>Even though sec filings are meant to consolidate data in a standardized, meaningful, and readily available transparent facet, the financial sector is plagued with ambiguity and interoperable terms which may differ from corporate entity to corporate entity.</p>\n</li>\n</ol>\n<p>... or in short ... in their point of view <em>&quot;ILFCOBITEINI and ILFCOBITMIAILFEMI look pretty similar, so they pretty much mean the same thing.&quot;</em></p>\n<p>As far as I know, there is no support on behalf of sec or other federation entities which is in charge of controlling sec filing accuracy since the idea is &quot; you file it wrong... you pay a fine &quot; .... meaning that due to interoperability of forms that &quot;wrong&quot; level is pretty ambiguous.</p>\n<p>As such, the problem is that you must account for unexpected pseudo-fails when it comes to filings, meaning that you should probably write some code which does structural-to-content identity matches across different entries.</p>\n<p>I'd advise using a reasoning logic subsystem (that you'll have to write) instead of a simple switch-case statement operating on a &quot;if-this-exists-else&quot; basis. ... and always consider that the level of incompetence in the financial sector is disgustingly high.</p>\n"},{"tags":[],"owner":{"account_id":10943875,"reputation":21,"user_id":8042679,"display_name":"TC1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655498269,"creation_date":1655498269,"answer_id":72664573,"question_id":71559162,"body_markdown":"It depends ...\r\n\r\nWhy is the data for the same &quot;row&quot; (ex. revenues), for the same time period (ex.the 12 months ending dec 31, 2020), different? (Merger or acquisition? Accounting restatement? Something else?)  \r\n\r\nHow might you handle this example, if you were manually &quot;by hand&quot; creating a financial model for this company in a spreadsheet?\r\n\r\nPossible approaches:\r\n&quot;Most recent&quot;: For each row for each time period, use the most recently reported data.\r\n\r\n&quot;As first reported&quot;: For each row and each time period, use the &quot;as first reported&quot; data.\r\n\r\nThese are only two of several ways to present the data.\r\n\r\nNeither of the above is &quot;correct&quot; or &quot;better&quot;. Each has pros and cons.\r\n\r\nThoughts? Questions?\r\n","title":"XBRL: How do you merge rows from different filings?","body":"<p>It depends ...</p>\n<p>Why is the data for the same &quot;row&quot; (ex. revenues), for the same time period (ex.the 12 months ending dec 31, 2020), different? (Merger or acquisition? Accounting restatement? Something else?)</p>\n<p>How might you handle this example, if you were manually &quot;by hand&quot; creating a financial model for this company in a spreadsheet?</p>\n<p>Possible approaches:\n&quot;Most recent&quot;: For each row for each time period, use the most recently reported data.</p>\n<p>&quot;As first reported&quot;: For each row and each time period, use the &quot;as first reported&quot; data.</p>\n<p>These are only two of several ways to present the data.</p>\n<p>Neither of the above is &quot;correct&quot; or &quot;better&quot;. Each has pros and cons.</p>\n<p>Thoughts? Questions?</p>\n"},{"tags":[],"owner":{"account_id":13419663,"reputation":56,"user_id":9682915,"display_name":"Denis Alves"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665213763,"creation_date":1665213763,"answer_id":73995146,"question_id":71559162,"body_markdown":"Point 1: differences aren&#39;t unusual, as companies make restatements and corrections from one year to the other. You will find them anywhere, not only with XBRL.\r\n\r\nPoint 2: they are using labels that look the same for two distinct concepts. At first, that should not exist in that case, as it induces to error if one is just downloading the labeled tables from the SEC. However, the FASB may have changed that from one year to the other. Did you check it? There are other reasons for this kind of error, which are actually subject of an ongoing research project of mine. They involve error and fraud. So, be careful. There could be more to it.\r\n\r\nTo answer your question, there is no way to make sure you are doing your work correctly given those discrepancies other than getting an accountant/lawyer to check them. You could also get an intern ;)","title":"XBRL: How do you merge rows from different filings?","body":"<p>Point 1: differences aren't unusual, as companies make restatements and corrections from one year to the other. You will find them anywhere, not only with XBRL.</p>\n<p>Point 2: they are using labels that look the same for two distinct concepts. At first, that should not exist in that case, as it induces to error if one is just downloading the labeled tables from the SEC. However, the FASB may have changed that from one year to the other. Did you check it? There are other reasons for this kind of error, which are actually subject of an ongoing research project of mine. They involve error and fraud. So, be careful. There could be more to it.</p>\n<p>To answer your question, there is no way to make sure you are doing your work correctly given those discrepancies other than getting an accountant/lawyer to check them. You could also get an intern ;)</p>\n"}],"owner":{"account_id":6537068,"reputation":383,"user_id":5056184,"accept_rate":60,"display_name":"DebD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1665213763,"creation_date":1647872522,"question_id":71559162,"body_markdown":"We use a XBRL processor to ingest filings from SEC. Often times, a company declares a metric in different filings with different concepts - with or without exactly matching values - but to be regarded as the same financial metric. Essentially when you want to create a stitched view of all the filings, these numbers should appear on the same row. I&#39;d provide an example to make it clear:\r\n\r\nASGN&#39;s [2020 10-K filing][1] uses `us-gaap:IncomeLossFromContinuingOperationsBeforeIncomeTaxesMinorityInterestAndIncomeLossFromEquityMethodInvestments` to report EBT. \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nASGN&#39;s [2021 10-K filing][3] uses `us-gaap:IncomeLossFromContinuingOperationsBeforeIncomeTaxesExtraordinaryItemsNoncontrollingInterest` to report EBT.\r\n\r\n[![enter image description here][4]][4]\r\n\r\nIf you notice, even the figures for 2020 and 2019 do not match between the two filings. My question is - how do you reconcile these cases in code - to create a stitched/continuous view? Is this a solved problem or is it more of a process where you need to make manual interventions? Are there libraries that help with this? Is there mapping information available with the SEC that can be used - even when the data do not agree? Would be great if anyone can help with this. Thanks.\r\n\r\n  [1]: https://www.sec.gov/cgi-bin/viewer?action=view&amp;cik=890564&amp;accession_number=0000890564-21-000005&amp;xbrl_type=v#\r\n  [2]: https://i.stack.imgur.com/yhQ1J.png\r\n  [3]: https://www.sec.gov/cgi-bin/viewer?action=view&amp;cik=890564&amp;accession_number=0000890564-22-000007&amp;xbrl_type=v#\r\n  [4]: https://i.stack.imgur.com/rrghY.png","title":"XBRL: How do you merge rows from different filings?","body":"<p>We use a XBRL processor to ingest filings from SEC. Often times, a company declares a metric in different filings with different concepts - with or without exactly matching values - but to be regarded as the same financial metric. Essentially when you want to create a stitched view of all the filings, these numbers should appear on the same row. I'd provide an example to make it clear:</p>\n<p>ASGN's <a href=\"https://www.sec.gov/cgi-bin/viewer?action=view&amp;cik=890564&amp;accession_number=0000890564-21-000005&amp;xbrl_type=v#\" rel=\"nofollow noreferrer\">2020 10-K filing</a> uses <code>us-gaap:IncomeLossFromContinuingOperationsBeforeIncomeTaxesMinorityInterestAndIncomeLossFromEquityMethodInvestments</code> to report EBT.</p>\n<p><a href=\"https://i.stack.imgur.com/yhQ1J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yhQ1J.png\" alt=\"enter image description here\" /></a></p>\n<p>ASGN's <a href=\"https://www.sec.gov/cgi-bin/viewer?action=view&amp;cik=890564&amp;accession_number=0000890564-22-000007&amp;xbrl_type=v#\" rel=\"nofollow noreferrer\">2021 10-K filing</a> uses <code>us-gaap:IncomeLossFromContinuingOperationsBeforeIncomeTaxesExtraordinaryItemsNoncontrollingInterest</code> to report EBT.</p>\n<p><a href=\"https://i.stack.imgur.com/rrghY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rrghY.png\" alt=\"enter image description here\" /></a></p>\n<p>If you notice, even the figures for 2020 and 2019 do not match between the two filings. My question is - how do you reconcile these cases in code - to create a stitched/continuous view? Is this a solved problem or is it more of a process where you need to make manual interventions? Are there libraries that help with this? Is there mapping information available with the SEC that can be used - even when the data do not agree? Would be great if anyone can help with this. Thanks.</p>\n"},{"tags":["java","spring-boot","resttemplate","completable-future"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1629027851,"post_id":68791083,"comment_id":121573196,"body_markdown":"First try calling `get()` on each of your futures before you call the next one. That will check whether calling them in parallel is somehow causing a problem.","body":"First try calling <code>get()</code> on each of your futures before you call the next one. That will check whether calling them in parallel is somehow causing a problem."}],"answers":[{"tags":[],"owner":{"account_id":7071002,"reputation":9,"user_id":5412607,"display_name":"KAMALAKANTA ROUL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665213728,"creation_date":1665213728,"answer_id":73995141,"question_id":68791083,"body_markdown":"Create a list of CompletableFuture and add try to add your 3 CompletableFuture like below. \r\n\r\n   \r\n\r\n         List&lt;CompletableFuture&lt;Void&gt;&gt; completableFutures = new ArrayList&lt;&gt;(10);\r\n         completableFutures.add(completableFuture1);\r\n         completableFutures.add(completableFuture2);\r\n         completableFutures.add(completableFuture3);\r\n\r\nand then finally use **CompletableFuture.allOf**\r\n\r\n    CompletableFuture.allOf(completableFutures.toArray(new CompletableFuture[completableFutures.size()])).get();","title":"How to asynchronously call restTemplate using CompletableFuture","body":"<p>Create a list of CompletableFuture and add try to add your 3 CompletableFuture like below.</p>\n<pre><code>     List&lt;CompletableFuture&lt;Void&gt;&gt; completableFutures = new ArrayList&lt;&gt;(10);\n     completableFutures.add(completableFuture1);\n     completableFutures.add(completableFuture2);\n     completableFutures.add(completableFuture3);\n</code></pre>\n<p>and then finally use <strong>CompletableFuture.allOf</strong></p>\n<pre><code>CompletableFuture.allOf(completableFutures.toArray(new CompletableFuture[completableFutures.size()])).get();\n</code></pre>\n"}],"owner":{"account_id":7658620,"reputation":23,"user_id":5804606,"display_name":"dailybird"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1703,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665213728,"creation_date":1629026800,"question_id":68791083,"body_markdown":"I wanna asynchronously call an external api for 3 times and wait them return. My code likes below:\r\n\r\n```\r\npublic ResponseClass callApi(xxx) {\r\n\r\n\t// ... other code\r\n\tResponseClass response = restTemplate.postForEntity(\r\n\t    requestUrl,\r\n\t    httpEntity,\r\n\t    ResponseClass.class\r\n\t).getBody();\r\n\r\n\treturn response;\r\n} \r\n\r\n\r\npublic void otherMethod() {\r\n\tCompletableFuture&lt;Void&gt; completableFuture1 = CompletableFuture.runAsync(() -&gt; {\r\n\t    callApi(xxx);\r\n\t});\r\n\tCompletableFuture&lt;Void&gt; completableFuture2 = CompletableFuture.runAsync(() -&gt; {\r\n\t    callApi(xxx);\r\n\t});\r\n\tCompletableFuture&lt;Void&gt; completableFuture3 = CompletableFuture.runAsync(() -&gt; {\r\n\t    callApi(xxx);\r\n\t});\r\n\r\n\tCompletableFuture.allOf(completableFuture).join();\r\n\r\n}\r\n```\r\n\r\nI expect process will wait for all 3 call return after `CompletableFuture.allOf`, But what I got is an exception:\r\n\r\n```\r\njava.util.concurrent.CompletionException: org.springframework.web.client.UnknownContentTypeException: Could not extract response: no suitable HttpMessageConverter found for response type [class ...\r\n```\r\n\r\nI was so confused since it works fine when I call them synchronously ( without CompletableFuture ).\r\n\r\nSo, could someone help me find a way to do that? Thanks very much.","title":"How to asynchronously call restTemplate using CompletableFuture","body":"<p>I wanna asynchronously call an external api for 3 times and wait them return. My code likes below:</p>\n<pre><code>public ResponseClass callApi(xxx) {\n\n    // ... other code\n    ResponseClass response = restTemplate.postForEntity(\n        requestUrl,\n        httpEntity,\n        ResponseClass.class\n    ).getBody();\n\n    return response;\n} \n\n\npublic void otherMethod() {\n    CompletableFuture&lt;Void&gt; completableFuture1 = CompletableFuture.runAsync(() -&gt; {\n        callApi(xxx);\n    });\n    CompletableFuture&lt;Void&gt; completableFuture2 = CompletableFuture.runAsync(() -&gt; {\n        callApi(xxx);\n    });\n    CompletableFuture&lt;Void&gt; completableFuture3 = CompletableFuture.runAsync(() -&gt; {\n        callApi(xxx);\n    });\n\n    CompletableFuture.allOf(completableFuture).join();\n\n}\n</code></pre>\n<p>I expect process will wait for all 3 call return after <code>CompletableFuture.allOf</code>, But what I got is an exception:</p>\n<pre><code>java.util.concurrent.CompletionException: org.springframework.web.client.UnknownContentTypeException: Could not extract response: no suitable HttpMessageConverter found for response type [class ...\n</code></pre>\n<p>I was so confused since it works fine when I call them synchronously ( without CompletableFuture ).</p>\n<p>So, could someone help me find a way to do that? Thanks very much.</p>\n"},{"tags":["java","html","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664904507,"creation_date":1664904507,"answer_id":73951561,"question_id":73949550,"body_markdown":"here with button click you are firing get request instead of expected post one. That&#39;s why it&#39;s complaining.\r\n\r\nInstead you can do xhr post request for this case.\r\nhttps://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/send#example_post","title":"Custom logout implementations with Spring and refresh token","body":"<p>here with button click you are firing get request instead of expected post one. That's why it's complaining.</p>\n<p>Instead you can do xhr post request for this case.\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/send#example_post\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/send#example_post</a></p>\n"},{"tags":[],"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665206604,"creation_date":1665206604,"answer_id":73994604,"question_id":73949550,"body_markdown":"You are trying to send a get request on the button click event. \r\nThis can be sorted in two ways:\r\nfirst, you can change the logout mapping to @GetMapping like below\r\n\r\n    @GetMapping(&quot;/logout&quot;)\r\n        public ResponseEntity&lt;?&gt; logout(@RequestBody TokenDTO dto) {\r\n            String refreshTokenString = dto.getRefreshToken();\r\n            if (jwtHelper.validateRefreshToken(refreshTokenString) &amp;&amp; refreshTokenRepository.existsById(jwtHelper.getTokenIdFromRefreshToken(refreshTokenString))) {\r\n                // valid and exists in db\r\n                refreshTokenRepository.deleteById(jwtHelper.getTokenIdFromRefreshToken(refreshTokenString));\r\n                return ResponseEntity.ok().build();\r\n            }\r\n    \r\n            throw new BadCredentialsException(&quot;invalid token&quot;);\r\n        }\r\n\r\nsecond, location.href only sends the get request.\r\nYou can change the button to form like this:\r\n\r\n    &lt;form action=&quot;/logout&quot; method=&quot;POST&quot;&gt;\r\n    &lt;input type=&quot;submit&quot; &gt;\r\n    &lt;/form&gt;\r\n\r\nthis will sort the issue","title":"Custom logout implementations with Spring and refresh token","body":"<p>You are trying to send a get request on the button click event.\nThis can be sorted in two ways:\nfirst, you can change the logout mapping to @GetMapping like below</p>\n<pre><code>@GetMapping(&quot;/logout&quot;)\n    public ResponseEntity&lt;?&gt; logout(@RequestBody TokenDTO dto) {\n        String refreshTokenString = dto.getRefreshToken();\n        if (jwtHelper.validateRefreshToken(refreshTokenString) &amp;&amp; refreshTokenRepository.existsById(jwtHelper.getTokenIdFromRefreshToken(refreshTokenString))) {\n            // valid and exists in db\n            refreshTokenRepository.deleteById(jwtHelper.getTokenIdFromRefreshToken(refreshTokenString));\n            return ResponseEntity.ok().build();\n        }\n\n        throw new BadCredentialsException(&quot;invalid token&quot;);\n    }\n</code></pre>\n<p>second, location.href only sends the get request.\nYou can change the button to form like this:</p>\n<pre><code>&lt;form action=&quot;/logout&quot; method=&quot;POST&quot;&gt;\n&lt;input type=&quot;submit&quot; &gt;\n&lt;/form&gt;\n</code></pre>\n<p>this will sort the issue</p>\n"}],"owner":{"account_id":26446486,"reputation":51,"user_id":20090266,"display_name":"Stefan Jankovic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665213713,"creation_date":1664894129,"question_id":73949550,"body_markdown":"I created a custom logout implementation with `jwt` and `refresh token`, so far I tested it with `Postman` and logout function works fine there, I can logout user. Right now I&#39;m trying to create a button inside `html` and after user click on it user should be logged out. Below down is my `logout` implementation and part of `html` code that I tried so far. \r\n\r\n**Result is:**\r\n\r\n    There was an unexpected error (type=Method Not Allowed, status=405).\r\n    Request method &#39;GET&#39; not supported\r\n    org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;GET&#39; not \r\n    supported\r\n\r\n--------------\r\n\r\n`Logout` implementation\r\n\r\n    @PostMapping(&quot;/logout&quot;)\r\n        public ResponseEntity&lt;?&gt; logout(@RequestBody TokenDTO dto) {\r\n            String refreshTokenString = dto.getRefreshToken();\r\n            if (jwtHelper.validateRefreshToken(refreshTokenString) &amp;&amp; refreshTokenRepository.existsById(jwtHelper.getTokenIdFromRefreshToken(refreshTokenString))) {\r\n                // valid and exists in db\r\n                refreshTokenRepository.deleteById(jwtHelper.getTokenIdFromRefreshToken(refreshTokenString));\r\n                return ResponseEntity.ok().build();\r\n            }\r\n    \r\n            throw new BadCredentialsException(&quot;invalid token&quot;);\r\n        }\r\nThat works fine in postman when I put refreshToken that is created as `&quot;refreshToken&quot;:&quot;token...&quot;` but right now I&#39;m trying to create actually button that will logout user when he clicks it.\r\n\r\nIn html page I added somethig like this:\r\n\r\n    &lt;button id=&quot;logout&quot; class=&quot;float-left submit-button&quot;&gt;Log out&lt;/button&gt;\r\n    \r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n      document.getElementById(&quot;logout&quot;).onclick = function () {\r\n        location.href = &quot;http://localhost:8080/api/auth/logout&quot;;\r\n      };\r\n    &lt;/script&gt;\r\n\r\nBut when I click on button nothing is happening, how I can achieve my goal with my custom implementation logout?\r\n","title":"Custom logout implementations with Spring and refresh token","body":"<p>I created a custom logout implementation with <code>jwt</code> and <code>refresh token</code>, so far I tested it with <code>Postman</code> and logout function works fine there, I can logout user. Right now I'm trying to create a button inside <code>html</code> and after user click on it user should be logged out. Below down is my <code>logout</code> implementation and part of <code>html</code> code that I tried so far.</p>\n<p><strong>Result is:</strong></p>\n<pre><code>There was an unexpected error (type=Method Not Allowed, status=405).\nRequest method 'GET' not supported\norg.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not \nsupported\n</code></pre>\n<hr />\n<p><code>Logout</code> implementation</p>\n<pre><code>@PostMapping(&quot;/logout&quot;)\n    public ResponseEntity&lt;?&gt; logout(@RequestBody TokenDTO dto) {\n        String refreshTokenString = dto.getRefreshToken();\n        if (jwtHelper.validateRefreshToken(refreshTokenString) &amp;&amp; refreshTokenRepository.existsById(jwtHelper.getTokenIdFromRefreshToken(refreshTokenString))) {\n            // valid and exists in db\n            refreshTokenRepository.deleteById(jwtHelper.getTokenIdFromRefreshToken(refreshTokenString));\n            return ResponseEntity.ok().build();\n        }\n\n        throw new BadCredentialsException(&quot;invalid token&quot;);\n    }\n</code></pre>\n<p>That works fine in postman when I put refreshToken that is created as <code>&quot;refreshToken&quot;:&quot;token...&quot;</code> but right now I'm trying to create actually button that will logout user when he clicks it.</p>\n<p>In html page I added somethig like this:</p>\n<pre><code>&lt;button id=&quot;logout&quot; class=&quot;float-left submit-button&quot;&gt;Log out&lt;/button&gt;\n\n&lt;script type=&quot;text/javascript&quot;&gt;\n  document.getElementById(&quot;logout&quot;).onclick = function () {\n    location.href = &quot;http://localhost:8080/api/auth/logout&quot;;\n  };\n&lt;/script&gt;\n</code></pre>\n<p>But when I click on button nothing is happening, how I can achieve my goal with my custom implementation logout?</p>\n"},{"tags":["java","spring-boot","design-patterns"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665211228,"creation_date":1665211228,"answer_id":73994946,"question_id":73994784,"body_markdown":"Since Java 9 interfaces **can** have `private` methods (as well as `default` and `static`).\r\n\r\nBut you **can&#39;t** override a `public` method (*all* `abstract` *methods in interfaces are implicitly* `public`) by narrowing its visibility to `private`.\r\n\r\nI&#39;m not sure where the interface `KeyPair` you&#39;ve listed is coming from, but `@Deprecated` annotations are a huge red flag which tells *&quot;don&#39;t use it&quot;*.\r\n\r\nYou might consider declaring your own interface.\r\n\r\n    public interface KeyPair {\r\n        \r\n        Key getPrivateKey();\r\n\r\n        Key getPublicKey();\r\n    }\r\n\r\n","title":"How to designing a KeyPair interface which can handle any KeyPair implementation","body":"<p>Since Java 9 interfaces <strong>can</strong> have <code>private</code> methods (as well as <code>default</code> and <code>static</code>).</p>\n<p>But you <strong>can't</strong> override a <code>public</code> method (<em>all</em> <code>abstract</code> <em>methods in interfaces are implicitly</em> <code>public</code>) by narrowing its visibility to <code>private</code>.</p>\n<p>I'm not sure where the interface <code>KeyPair</code> you've listed is coming from, but <code>@Deprecated</code> annotations are a huge red flag which tells <em>&quot;don't use it&quot;</em>.</p>\n<p>You might consider declaring your own interface.</p>\n<pre><code>public interface KeyPair {\n    \n    Key getPrivateKey();\n\n    Key getPublicKey();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665213583,"creation_date":1665211921,"answer_id":73995002,"question_id":73994784,"body_markdown":"You can replace inheritance with aggregation.\r\n\r\nAdd `getKeyPair` method to `PrivatePublicKeyPair`.\r\n\r\n```\r\npublic KeyPair getKeyPair() {\r\n    return new KeyPair() {\r\n        public Key firstKey() { return getPassword(); }\r\n\r\n        public Key secondKey() { return getEncryptionKey(); }\r\n    }\r\n}\r\n```","title":"How to designing a KeyPair interface which can handle any KeyPair implementation","body":"<p>You can replace inheritance with aggregation.</p>\n<p>Add <code>getKeyPair</code> method to <code>PrivatePublicKeyPair</code>.</p>\n<pre><code>public KeyPair getKeyPair() {\n    return new KeyPair() {\n        public Key firstKey() { return getPassword(); }\n\n        public Key secondKey() { return getEncryptionKey(); }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22402724,"reputation":101,"user_id":16612843,"display_name":"Seema Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665213583,"creation_date":1665209199,"question_id":73994784,"body_markdown":"I am designing a KeyPair interface which looks something like this,\r\n```\r\npublic interface KeyPair {\r\n\r\n    @Deprecated\r\n    public Key firstKey();\r\n\r\n    @Deprecated\r\n    public Key secondKey();\r\n}\r\n```\r\n\r\nI want to use this interface to implement two classes, `PasswordEncryptionKeyPair`, `PrivatePublicKeyPair`. But the problem is that I don&#39;t want to use the methods `firstKey()` and `secondKey()` as they are very generic. I rather want to use some other method and make these two method private. My current implementation is like this, \r\n\r\n```\r\nclass PrivatePublicKeyPair implements KeyPair{\r\n\r\n    public Key getPrivateKey() {\r\n        return firstKey();\r\n    }\r\n\r\n    public Key getPublicKey() {\r\n        return secondKey();\r\n    }\r\n\r\n    @Override\r\n    public Key firstKey() {\r\n        return privateKey;\r\n    }\r\n\r\n    @Override\r\n    public Key secondKey() {\r\n        return publicKey;\r\n    }\r\n}\r\n```\r\n\r\n```\r\nclass PasswordEncryptionKeyPair implements KeyPair{\r\n\r\n   public Key getPassword() {\r\n        return firstKey();\r\n    }\r\n\r\n    public Key getEncryptionKey() {\r\n        return secondKey();\r\n    }\r\n\r\n    @Override\r\n    public Key firstKey() {\r\n        return password;\r\n    }\r\n\r\n    @Override\r\n    public Key secondKey() {\r\n        return encryptionKey;\r\n    }\r\n}\r\n```\r\n\r\nIn the first class I want to use `getPublicKey()` and `getPrivateKey()` methods to return first and second key. And in next class I want to use `getPassword()` and `getEncryptionKey()` to return first and second key.\r\n\r\nAs an interface cannot have private method I can&#39;t make the methods private. One way this is possible is by adding body in the interface itself or create an `AbstarctKeyPair` class, and make methods private there. Is there any other solution for this problem?","title":"How to designing a KeyPair interface which can handle any KeyPair implementation","body":"<p>I am designing a KeyPair interface which looks something like this,</p>\n<pre><code>public interface KeyPair {\n\n    @Deprecated\n    public Key firstKey();\n\n    @Deprecated\n    public Key secondKey();\n}\n</code></pre>\n<p>I want to use this interface to implement two classes, <code>PasswordEncryptionKeyPair</code>, <code>PrivatePublicKeyPair</code>. But the problem is that I don't want to use the methods <code>firstKey()</code> and <code>secondKey()</code> as they are very generic. I rather want to use some other method and make these two method private. My current implementation is like this,</p>\n<pre><code>class PrivatePublicKeyPair implements KeyPair{\n\n    public Key getPrivateKey() {\n        return firstKey();\n    }\n\n    public Key getPublicKey() {\n        return secondKey();\n    }\n\n    @Override\n    public Key firstKey() {\n        return privateKey;\n    }\n\n    @Override\n    public Key secondKey() {\n        return publicKey;\n    }\n}\n</code></pre>\n<pre><code>class PasswordEncryptionKeyPair implements KeyPair{\n\n   public Key getPassword() {\n        return firstKey();\n    }\n\n    public Key getEncryptionKey() {\n        return secondKey();\n    }\n\n    @Override\n    public Key firstKey() {\n        return password;\n    }\n\n    @Override\n    public Key secondKey() {\n        return encryptionKey;\n    }\n}\n</code></pre>\n<p>In the first class I want to use <code>getPublicKey()</code> and <code>getPrivateKey()</code> methods to return first and second key. And in next class I want to use <code>getPassword()</code> and <code>getEncryptionKey()</code> to return first and second key.</p>\n<p>As an interface cannot have private method I can't make the methods private. One way this is possible is by adding body in the interface itself or create an <code>AbstarctKeyPair</code> class, and make methods private there. Is there any other solution for this problem?</p>\n"},{"tags":["java","android","callback"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1665084856,"post_id":73968650,"comment_id":130623075,"body_markdown":"Add a method in your function that is called after data is retrieved in the other class that populates the current class with the data. Also (`i=counter`) is not a correct comparison, use `==` to compare integers.","body":"Add a method in your function that is called after data is retrieved in the other class that populates the current class with the data. Also (<code>i=counter</code>) is not a correct comparison, use <code>==</code> to compare integers."}],"answers":[{"tags":[],"owner":{"account_id":18724988,"reputation":519,"user_id":13651898,"display_name":"Supun Ayeshmantha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665213156,"creation_date":1665213156,"answer_id":73995092,"question_id":73968650,"body_markdown":"I found a solution myself.\r\n\r\nfirst you need to create interface , as an example let&#39;s take this &gt;\r\n\r\n        public interface ActionListenerCallback {\r\n        public void onActionSuccess(String successMessage);\r\n        public void onActionFailure(Throwable throwableError);\r\n    }\r\n\r\nAfter that you need to implement this in the activity where you called the function\r\n\r\n    public class Act_Reps extends AppCompatActivity implements ActionListenerCallback {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n       RealtimeDB RDB= new RealtimeDB(this,Id);\r\n             RDB.setCallback(this);\r\n             RDB.callingFunction();\r\n           }\r\n    \r\n    \r\n        @Override\r\n        public void onActionSuccess(String successMessage) {\r\n            Log.d(&quot;Log&quot;, &quot;Message &quot;+ successMessage);\r\n           \r\n        }\r\n    \r\n        @Override\r\n        public void onActionFailure(Throwable throwableError) {\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\nHere is the class where the function is called \r\n\r\n    public class RealtimeDB {\r\n         ActionListenerCallback callback;\r\n        \r\n        \r\n            public void setCallback(ActionListenerCallback callback) {\r\n                this.callback = callback;\r\n            }\r\n        \r\n        public void callingFunction(){\r\n        \r\n        handler.postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                 callback.onActionSuccess(&quot;Done&quot;);\r\n                   }\r\n               }, 5000);\r\n              }\r\n        }","title":"Class A function calls a function in Class B , Once it&#39;s completed how to get notification to Class A (Android Java)","body":"<p>I found a solution myself.</p>\n<p>first you need to create interface , as an example let's take this &gt;</p>\n<pre><code>    public interface ActionListenerCallback {\n    public void onActionSuccess(String successMessage);\n    public void onActionFailure(Throwable throwableError);\n}\n</code></pre>\n<p>After that you need to implement this in the activity where you called the function</p>\n<pre><code>public class Act_Reps extends AppCompatActivity implements ActionListenerCallback {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n\n   RealtimeDB RDB= new RealtimeDB(this,Id);\n         RDB.setCallback(this);\n         RDB.callingFunction();\n       }\n\n\n    @Override\n    public void onActionSuccess(String successMessage) {\n        Log.d(&quot;Log&quot;, &quot;Message &quot;+ successMessage);\n       \n    }\n\n    @Override\n    public void onActionFailure(Throwable throwableError) {\n\n    }\n\n}\n</code></pre>\n<p>Here is the class where the function is called</p>\n<pre><code>public class RealtimeDB {\n     ActionListenerCallback callback;\n    \n    \n        public void setCallback(ActionListenerCallback callback) {\n            this.callback = callback;\n        }\n    \n    public void callingFunction(){\n    \n    handler.postDelayed(new Runnable() {\n        @Override\n        public void run() {\n             callback.onActionSuccess(&quot;Done&quot;);\n               }\n           }, 5000);\n          }\n    }\n</code></pre>\n"}],"owner":{"account_id":18724988,"reputation":519,"user_id":13651898,"display_name":"Supun Ayeshmantha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665213156,"creation_date":1665030191,"question_id":73968650,"body_markdown":"Here is the thing that I need to do. \r\n\r\nWhen the user click on a button on an activity , the app must call a function in different class and sent back a notification to the activity. Then the activity shows those  information in the main screen.\r\n\r\n (Let&#39;s say the function is to receive firebase data and add it to a sqlite database. Once the data retrieval is complete ,I want to populate those information in the activity )\r\n\r\nIs there any way to do this without using Room database &lt;LiveData&gt;\r\n\r\nCurrently I am writing the method in the activity class and redirect from there to populate data. Here is a example how I currently use it\r\n\r\n   \r\n\r\n     final FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n    DatabaseReference ref = database.getReference(&quot;server/saving-data/fireblog/posts&quot;);\r\n    \r\n    \r\n    ref.addValueEventListener(new ValueEventListener() {\r\n      @Override\r\n      public void onDataChange(DataSnapshot dataSnapshot) {\r\n         int counter = dataSnapshot.size();\r\n      for(int i =0; i&lt;counter;i++){\r\n\r\n          Post post = dataSnapshot.getValue(Post.class);\r\n             // Add to sqlite data\r\n\r\n           if(i=counter) {\r\n             // Populate Data in activity\r\n                  } \r\n            }\r\n\r\n      }\r\n\r\n\r\nThe Thing i want to do it ,I want to take this function code to a sepeate class and run from the activity and get a callback. \r\n\r\nI am a newbie and don&#39;t have a idea how to do this. Thank you","title":"Class A function calls a function in Class B , Once it&#39;s completed how to get notification to Class A (Android Java)","body":"<p>Here is the thing that I need to do.</p>\n<p>When the user click on a button on an activity , the app must call a function in different class and sent back a notification to the activity. Then the activity shows those  information in the main screen.</p>\n<p>(Let's say the function is to receive firebase data and add it to a sqlite database. Once the data retrieval is complete ,I want to populate those information in the activity )</p>\n<p>Is there any way to do this without using Room database </p>\n<p>Currently I am writing the method in the activity class and redirect from there to populate data. Here is a example how I currently use it</p>\n<pre><code> final FirebaseDatabase database = FirebaseDatabase.getInstance();\nDatabaseReference ref = database.getReference(&quot;server/saving-data/fireblog/posts&quot;);\n\n\nref.addValueEventListener(new ValueEventListener() {\n  @Override\n  public void onDataChange(DataSnapshot dataSnapshot) {\n     int counter = dataSnapshot.size();\n  for(int i =0; i&lt;counter;i++){\n\n      Post post = dataSnapshot.getValue(Post.class);\n         // Add to sqlite data\n\n       if(i=counter) {\n         // Populate Data in activity\n              } \n        }\n\n  }\n</code></pre>\n<p>The Thing i want to do it ,I want to take this function code to a sepeate class and run from the activity and get a callback.</p>\n<p>I am a newbie and don't have a idea how to do this. Thank you</p>\n"},{"tags":["java","android","json","api","android-volley"],"answers":[{"tags":[],"owner":{"account_id":14535125,"reputation":602,"user_id":10498741,"display_name":"logancodemaker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665050333,"creation_date":1665050333,"answer_id":73971938,"question_id":73971267,"body_markdown":"Usage of Retrofit is pretty more easy\r\n\r\n`build.gradle`\r\n\r\n```\r\nimplementation &#39;com.google.code.gson:gson:2.9.1&#39;\r\nimplementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39;\r\nimplementation &#39;com.squareup.retrofit2:converter-gson:2.9.0&#39;\r\n```\r\n\r\n`ApiService.java`\r\n```java\r\npublic interface ApiService {\r\n  @GET(&quot;AirSearch/oneway.php?tripType=oneway&amp;journeyfrom=DAC&amp;journeyto=DXB&amp;departuredate=2022-10-30&amp;adult=1&amp;child=0&amp;infant=0&quot;)\r\n  Call&lt;List&lt;Item&gt;&gt; getData();\r\n}\r\n```\r\n\r\n`ApiUtil.java`\r\n\r\n```\r\npublic final class ApiUtil {\r\n    private static Retrofit retrofit;\r\n\r\n    private static Retrofit provideRetrofit() {\r\n        if(retrofit != null) {\r\n            return retrofit;\r\n        }\r\n        retrofit = new Retrofit.Builder()\r\n                .baseUrl(&quot;https://api.flyfarint.com/v.1.0.0/&quot;)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .build();\r\n\r\n        return retrofit;\r\n    }\r\n\r\n    public static ApiService getApi() {\r\n        return provideRetrofit().create(ApiService.class);\r\n    }\r\n}\r\n```\r\n\r\n`MainActivity.java`\r\n\r\n```\r\nprivate void fetchData() {\r\n    ApiUtil.getApi().getData().enqueue(new Callback&lt;List&lt;Item&gt;&gt;() {\r\n            @Override\r\n            public void onResponse(@NonNull Call&lt;List&lt;Item&gt;&gt; call, @NonNull Response&lt;List&lt;Item&gt;&gt; response) {\r\n                if(response.isSuccessful() &amp;&amp; response.body() != null) {\r\n+                   List&lt;Item&gt; data = response.body();\r\n                    // data contains parsed json\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(@NonNull Call&lt;List&lt;Item&gt;&gt; call, @NonNull Throwable t) {\r\n                Log.e(&quot;ApiUtil&quot;, t.toString());\r\n            }\r\n        });\r\n}\r\n```\r\n\r\n\r\n`Item.java`\r\n\r\n```\r\npublic class Item {\r\n    \r\n    @SerializedName(&quot;system&quot;)\r\n    @Expose\r\n    public String system;\r\n    @SerializedName(&quot;segment&quot;)\r\n    @Expose\r\n    public String segment;\r\n    @SerializedName(&quot;career&quot;)\r\n    @Expose\r\n    public String career;\r\n    @SerializedName(&quot;careerName&quot;)\r\n    @Expose\r\n    public String careerName;\r\n    @SerializedName(&quot;BasePrice&quot;)\r\n    @Expose\r\n    public String basePrice;\r\n    @SerializedName(&quot;Taxes&quot;)\r\n    @Expose\r\n    public String taxes;\r\n    @SerializedName(&quot;price&quot;)\r\n    @Expose\r\n    public String price;\r\n    @SerializedName(&quot;clientPrice&quot;)\r\n    @Expose\r\n    public String clientPrice;\r\n    @SerializedName(&quot;departure&quot;)\r\n    @Expose\r\n    public String departure;\r\n    @SerializedName(&quot;departureTime&quot;)\r\n    @Expose\r\n    public String departureTime;\r\n    @SerializedName(&quot;departureDate&quot;)\r\n    @Expose\r\n    public String departureDate;\r\n    @SerializedName(&quot;arrival&quot;)\r\n    @Expose\r\n    public String arrival;\r\n    @SerializedName(&quot;arrivalTime&quot;)\r\n    @Expose\r\n    public String arrivalTime;\r\n    @SerializedName(&quot;arrivalDate&quot;)\r\n    @Expose\r\n    public String arrivalDate;\r\n    @SerializedName(&quot;flightduration&quot;)\r\n    @Expose\r\n    public String flightduration;\r\n    @SerializedName(&quot;bags&quot;)\r\n    @Expose\r\n    public String bags;\r\n    @SerializedName(&quot;seat&quot;)\r\n    @Expose\r\n    public String seat;\r\n    @SerializedName(&quot;class&quot;)\r\n    @Expose\r\n    public String _class;\r\n    @SerializedName(&quot;refundable&quot;)\r\n    @Expose\r\n    public String refundable;\r\n    @SerializedName(&quot;segments&quot;)\r\n    @Expose\r\n    public List&lt;Segment&gt; segments = null;\r\n    @SerializedName(&quot;transit&quot;)\r\n    @Expose\r\n    public Transit transit;\r\n}\r\n```\r\n\r\n`Segment.java`\r\n\r\n```\r\npublic class Segment  {\r\n    @SerializedName(&quot;marketingcareer&quot;)\r\n    @Expose\r\n    public String marketingcareer;\r\n    \r\n    @SerializedName(&quot;marketingcareerName&quot;)\r\n    @Expose\r\n    public String marketingcareerName;\r\n    \r\n    @SerializedName(&quot;marketingflight&quot;)\r\n    @Expose\r\n    public String marketingflight;\r\n    @SerializedName(&quot;operatingcareer&quot;)\r\n    @Expose\r\n    public String operatingcareer;\r\n    @SerializedName(&quot;operatingflight&quot;)\r\n    @Expose\r\n    public String operatingflight;\r\n    @SerializedName(&quot;departure&quot;)\r\n    @Expose\r\n    public String departure;\r\n    @SerializedName(&quot;departureAirport&quot;)\r\n    @Expose\r\n    public String departureAirport;\r\n    @SerializedName(&quot;departureLocation&quot;)\r\n    @Expose\r\n    public String departureLocation;\r\n    @SerializedName(&quot;departureTime&quot;)\r\n    @Expose\r\n    public Date departureTime;\r\n\r\n    @SerializedName(&quot;arrival&quot;)\r\n    @Expose\r\n    public String arrival;\r\n\r\n    @SerializedName(&quot;arrivalTime&quot;)\r\n    @Expose\r\n    public Date arrivalTime;\r\n\r\n    @SerializedName(&quot;arrivalAirport&quot;)\r\n    @Expose\r\n    public String arrivalAirport;\r\n    @SerializedName(&quot;arrivalLocation&quot;)\r\n    @Expose\r\n    public String arrivalLocation;\r\n    @SerializedName(&quot;flightduration&quot;)\r\n    @Expose\r\n    public String flightduration;\r\n    @SerializedName(&quot;bookingcode&quot;)\r\n    @Expose\r\n    public String bookingcode;\r\n    @SerializedName(&quot;seat&quot;)\r\n    @Expose\r\n    public String seat;\r\n}\r\n```\r\n\r\n`Transit.java`\r\n\r\n```\r\npublic class Transit {\r\n\r\n    public final static long serialVersionUID = 5413373419576714522L;\r\n    @SerializedName(&quot;transit1&quot;)\r\n    @Expose\r\n    public String transit1;\r\n}\r\n```","title":"How can I Convert JSON to ARRAY Response GET from api Request In Android Java","body":"<p>Usage of Retrofit is pretty more easy</p>\n<p><code>build.gradle</code></p>\n<pre><code>implementation 'com.google.code.gson:gson:2.9.1'\nimplementation 'com.squareup.retrofit2:retrofit:2.9.0'\nimplementation 'com.squareup.retrofit2:converter-gson:2.9.0'\n</code></pre>\n<p><code>ApiService.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ApiService {\n  @GET(&quot;AirSearch/oneway.php?tripType=oneway&amp;journeyfrom=DAC&amp;journeyto=DXB&amp;departuredate=2022-10-30&amp;adult=1&amp;child=0&amp;infant=0&quot;)\n  Call&lt;List&lt;Item&gt;&gt; getData();\n}\n</code></pre>\n<p><code>ApiUtil.java</code></p>\n<pre><code>public final class ApiUtil {\n    private static Retrofit retrofit;\n\n    private static Retrofit provideRetrofit() {\n        if(retrofit != null) {\n            return retrofit;\n        }\n        retrofit = new Retrofit.Builder()\n                .baseUrl(&quot;https://api.flyfarint.com/v.1.0.0/&quot;)\n                .addConverterFactory(GsonConverterFactory.create())\n                .build();\n\n        return retrofit;\n    }\n\n    public static ApiService getApi() {\n        return provideRetrofit().create(ApiService.class);\n    }\n}\n</code></pre>\n<p><code>MainActivity.java</code></p>\n<pre><code>private void fetchData() {\n    ApiUtil.getApi().getData().enqueue(new Callback&lt;List&lt;Item&gt;&gt;() {\n            @Override\n            public void onResponse(@NonNull Call&lt;List&lt;Item&gt;&gt; call, @NonNull Response&lt;List&lt;Item&gt;&gt; response) {\n                if(response.isSuccessful() &amp;&amp; response.body() != null) {\n+                   List&lt;Item&gt; data = response.body();\n                    // data contains parsed json\n                }\n            }\n\n            @Override\n            public void onFailure(@NonNull Call&lt;List&lt;Item&gt;&gt; call, @NonNull Throwable t) {\n                Log.e(&quot;ApiUtil&quot;, t.toString());\n            }\n        });\n}\n</code></pre>\n<p><code>Item.java</code></p>\n<pre><code>public class Item {\n    \n    @SerializedName(&quot;system&quot;)\n    @Expose\n    public String system;\n    @SerializedName(&quot;segment&quot;)\n    @Expose\n    public String segment;\n    @SerializedName(&quot;career&quot;)\n    @Expose\n    public String career;\n    @SerializedName(&quot;careerName&quot;)\n    @Expose\n    public String careerName;\n    @SerializedName(&quot;BasePrice&quot;)\n    @Expose\n    public String basePrice;\n    @SerializedName(&quot;Taxes&quot;)\n    @Expose\n    public String taxes;\n    @SerializedName(&quot;price&quot;)\n    @Expose\n    public String price;\n    @SerializedName(&quot;clientPrice&quot;)\n    @Expose\n    public String clientPrice;\n    @SerializedName(&quot;departure&quot;)\n    @Expose\n    public String departure;\n    @SerializedName(&quot;departureTime&quot;)\n    @Expose\n    public String departureTime;\n    @SerializedName(&quot;departureDate&quot;)\n    @Expose\n    public String departureDate;\n    @SerializedName(&quot;arrival&quot;)\n    @Expose\n    public String arrival;\n    @SerializedName(&quot;arrivalTime&quot;)\n    @Expose\n    public String arrivalTime;\n    @SerializedName(&quot;arrivalDate&quot;)\n    @Expose\n    public String arrivalDate;\n    @SerializedName(&quot;flightduration&quot;)\n    @Expose\n    public String flightduration;\n    @SerializedName(&quot;bags&quot;)\n    @Expose\n    public String bags;\n    @SerializedName(&quot;seat&quot;)\n    @Expose\n    public String seat;\n    @SerializedName(&quot;class&quot;)\n    @Expose\n    public String _class;\n    @SerializedName(&quot;refundable&quot;)\n    @Expose\n    public String refundable;\n    @SerializedName(&quot;segments&quot;)\n    @Expose\n    public List&lt;Segment&gt; segments = null;\n    @SerializedName(&quot;transit&quot;)\n    @Expose\n    public Transit transit;\n}\n</code></pre>\n<p><code>Segment.java</code></p>\n<pre><code>public class Segment  {\n    @SerializedName(&quot;marketingcareer&quot;)\n    @Expose\n    public String marketingcareer;\n    \n    @SerializedName(&quot;marketingcareerName&quot;)\n    @Expose\n    public String marketingcareerName;\n    \n    @SerializedName(&quot;marketingflight&quot;)\n    @Expose\n    public String marketingflight;\n    @SerializedName(&quot;operatingcareer&quot;)\n    @Expose\n    public String operatingcareer;\n    @SerializedName(&quot;operatingflight&quot;)\n    @Expose\n    public String operatingflight;\n    @SerializedName(&quot;departure&quot;)\n    @Expose\n    public String departure;\n    @SerializedName(&quot;departureAirport&quot;)\n    @Expose\n    public String departureAirport;\n    @SerializedName(&quot;departureLocation&quot;)\n    @Expose\n    public String departureLocation;\n    @SerializedName(&quot;departureTime&quot;)\n    @Expose\n    public Date departureTime;\n\n    @SerializedName(&quot;arrival&quot;)\n    @Expose\n    public String arrival;\n\n    @SerializedName(&quot;arrivalTime&quot;)\n    @Expose\n    public Date arrivalTime;\n\n    @SerializedName(&quot;arrivalAirport&quot;)\n    @Expose\n    public String arrivalAirport;\n    @SerializedName(&quot;arrivalLocation&quot;)\n    @Expose\n    public String arrivalLocation;\n    @SerializedName(&quot;flightduration&quot;)\n    @Expose\n    public String flightduration;\n    @SerializedName(&quot;bookingcode&quot;)\n    @Expose\n    public String bookingcode;\n    @SerializedName(&quot;seat&quot;)\n    @Expose\n    public String seat;\n}\n</code></pre>\n<p><code>Transit.java</code></p>\n<pre><code>public class Transit {\n\n    public final static long serialVersionUID = 5413373419576714522L;\n    @SerializedName(&quot;transit1&quot;)\n    @Expose\n    public String transit1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665052284,"creation_date":1665052284,"answer_id":73972359,"question_id":73971267,"body_markdown":"     String url = &quot;https://api.flyfarint.com/v.1.0.0/AirSearch/oneway.php?tripType=oneway&amp;journeyfrom=DAC&amp;journeyto=DXB&amp;departuredate=2022-10-30&amp;adult=1&amp;child=0&amp;infant=0&quot;;\r\n        private ProgressDialog pDialog;\r\n       pDialog = new ProgressDialog(this);\r\n            // Showing progress dialog before making http request\r\n            pDialog.setMessage(&quot;Loading...&quot;);\r\n            pDialog.show();\r\n            RequestQueue queue = Volley.newRequestQueue(MainActivity.this);\r\n    \r\n            JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.GET, url, null, response -&gt; {\r\n                hidePDialog();\r\n                for (int i = 0; i &lt; response.length(); i++) {\r\n    \r\n                    try {\r\n                        JSONObject responseObj = response.getJSONObject(0); //showing here only one using recyclerview you can show all.USE &quot;i&quot; for all records with model.\r\n                        String careerName = responseObj.getString(&quot;careerName&quot;);\r\n                        TextView textView=findViewById(R.id.text);\r\n                        textView.setText(careerName);\r\n    \r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                        hidePDialog();\r\n                    }\r\n                }\r\n            }, error -&gt; hidePDialog());\r\n            jsonArrayRequest.setRetryPolicy(new DefaultRetryPolicy(20 * 1000, 1, 1.0f));\r\n            queue.add(jsonArrayRequest);\r\n        }\r\n        @Override\r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n            hidePDialog();\r\n        }\r\n    \r\n        private void hidePDialog() {\r\n            if (pDialog != null) {\r\n                pDialog.dismiss();\r\n                pDialog = null;\r\n            }\r\n        }","title":"How can I Convert JSON to ARRAY Response GET from api Request In Android Java","body":"<pre><code> String url = &quot;https://api.flyfarint.com/v.1.0.0/AirSearch/oneway.php?tripType=oneway&amp;journeyfrom=DAC&amp;journeyto=DXB&amp;departuredate=2022-10-30&amp;adult=1&amp;child=0&amp;infant=0&quot;;\n    private ProgressDialog pDialog;\n   pDialog = new ProgressDialog(this);\n        // Showing progress dialog before making http request\n        pDialog.setMessage(&quot;Loading...&quot;);\n        pDialog.show();\n        RequestQueue queue = Volley.newRequestQueue(MainActivity.this);\n\n        JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.GET, url, null, response -&gt; {\n            hidePDialog();\n            for (int i = 0; i &lt; response.length(); i++) {\n\n                try {\n                    JSONObject responseObj = response.getJSONObject(0); //showing here only one using recyclerview you can show all.USE &quot;i&quot; for all records with model.\n                    String careerName = responseObj.getString(&quot;careerName&quot;);\n                    TextView textView=findViewById(R.id.text);\n                    textView.setText(careerName);\n\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                    hidePDialog();\n                }\n            }\n        }, error -&gt; hidePDialog());\n        jsonArrayRequest.setRetryPolicy(new DefaultRetryPolicy(20 * 1000, 1, 1.0f));\n        queue.add(jsonArrayRequest);\n    }\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        hidePDialog();\n    }\n\n    private void hidePDialog() {\n        if (pDialog != null) {\n            pDialog.dismiss();\n            pDialog = null;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":20391353,"reputation":672,"user_id":14959221,"display_name":"Kayes Fahim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":521,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73972359,"answer_count":2,"score":0,"last_activity_date":1665212130,"creation_date":1665047399,"question_id":73971267,"body_markdown":"I am tring to fetch data and but its show nothing. even when I am trying to print on console same things happend \r\n\r\n     JsonObjectRequest jsonRequest = new JsonObjectRequest\r\n                (Request.Method.GET, onewayUrl, null, response -&gt; {\r\n\r\n\r\n                    try {\r\n                        JSONArray jsonArray = new JSONArray(response);\r\n\r\n                        for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n\r\n                            JSONObject jsonObject = jsonArray.getJSONObject(i);\r\n                            String Career = jsonObject.getString(&quot;career&quot;);\r\n\r\n                            textView = findViewById(R.id.text);\r\n                            textView.setText(Career);\r\n\r\n                        }\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n\r\n                }, error -&gt; {\r\n                    error.printStackTrace();\r\n                });\r\n\r\n        Volley.newRequestQueue(AfterSearch.this).add(jsonRequest);\r\n        jsonRequest.setRetryPolicy(new DefaultRetryPolicy(20 * 1000, 1, 1.0f));\r\n\r\n\r\n\r\nI got Some error looks like.\r\n\r\n    W/System.err:     at org.json.JSON.typeMismatch(JSON.java:112)\r\n    W/System.err:     at org.json.JSONObject.&lt;init&gt;(JSONObject.java:169)\r\n    W/System.err:     at org.json.JSONObject.&lt;init&gt;(JSONObject.java:182)\r\n    W/System.err:     at \r\n    com.android.volley.toolbox.JsonObjectRequest.parseNetworkResponse(JsonObjectRequest.java:98)  ","title":"How can I Convert JSON to ARRAY Response GET from api Request In Android Java","body":"<p>I am tring to fetch data and but its show nothing. even when I am trying to print on console same things happend</p>\n<pre><code> JsonObjectRequest jsonRequest = new JsonObjectRequest\n            (Request.Method.GET, onewayUrl, null, response -&gt; {\n\n\n                try {\n                    JSONArray jsonArray = new JSONArray(response);\n\n                    for (int i = 0; i &lt; jsonArray.length(); i++) {\n\n                        JSONObject jsonObject = jsonArray.getJSONObject(i);\n                        String Career = jsonObject.getString(&quot;career&quot;);\n\n                        textView = findViewById(R.id.text);\n                        textView.setText(Career);\n\n                    }\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }\n\n\n            }, error -&gt; {\n                error.printStackTrace();\n            });\n\n    Volley.newRequestQueue(AfterSearch.this).add(jsonRequest);\n    jsonRequest.setRetryPolicy(new DefaultRetryPolicy(20 * 1000, 1, 1.0f));\n</code></pre>\n<p>I got Some error looks like.</p>\n<pre><code>W/System.err:     at org.json.JSON.typeMismatch(JSON.java:112)\nW/System.err:     at org.json.JSONObject.&lt;init&gt;(JSONObject.java:169)\nW/System.err:     at org.json.JSONObject.&lt;init&gt;(JSONObject.java:182)\nW/System.err:     at \ncom.android.volley.toolbox.JsonObjectRequest.parseNetworkResponse(JsonObjectRequest.java:98)  \n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","microservices"],"comments":[{"owner":{"account_id":27787032,"reputation":69,"user_id":21214268,"display_name":"jessiepinkman"},"score":0,"creation_date":1700402446,"post_id":73985345,"comment_id":136647442,"body_markdown":"Hi @Jagan Reddy\nI think the issue seems to be here where we are setting the url - \nInventoryResponse[] inventoryResponseArray = webClientBuilder.build().get()\n                .uri(&quot;http:/inventory-service/api/inventory&quot;,\n\nWere you able to solve the issue?","body":"Hi @Jagan Reddy I think the issue seems to be here where we are setting the url -  InventoryResponse[] inventoryResponseArray = webClientBuilder.build().get()                 .uri(&quot;http:/inventory-service/api/inventory&quot;,  Were you able to solve the issue?"}],"answers":[{"tags":[],"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665210428,"creation_date":1665210428,"answer_id":73994880,"question_id":73985345,"body_markdown":"The issue seems to be in your @GetMapping and @PostMapping\r\n\r\nYou are trying to return a list of InventoryRepository which is not possible you should be returning a List of Entities instead.\r\n\r\n \r\n\r\n    @Autowired\r\n        private InventoryService inventoryService;\r\n        @GetMapping\r\n        @ResponseStatus(HttpStatus.OK)\r\n        public List&lt;InventoryRepository&gt; isInStock(@RequestParam List&lt;String&gt; skucode ) {\r\n            return inventoryService.isInStock(skucode);\r\n    \r\n        }\r\n\r\nInstead you should be doing :\r\n\r\n\r\n     @Autowired\r\n        private InventoryService inventoryService;\r\n        @GetMapping\r\n        @ResponseStatus(HttpStatus.OK)\r\n        public List&lt;Inventory&gt; isInStock(@RequestParam List&lt;String&gt; skucode ) {\r\n            return inventoryService.isInStock(skucode);\r\n    \r\n        }","title":"org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from GET","body":"<p>The issue seems to be in your @GetMapping and @PostMapping</p>\n<p>You are trying to return a list of InventoryRepository which is not possible you should be returning a List of Entities instead.</p>\n<pre><code>@Autowired\n    private InventoryService inventoryService;\n    @GetMapping\n    @ResponseStatus(HttpStatus.OK)\n    public List&lt;InventoryRepository&gt; isInStock(@RequestParam List&lt;String&gt; skucode ) {\n        return inventoryService.isInStock(skucode);\n\n    }\n</code></pre>\n<p>Instead you should be doing :</p>\n<pre><code> @Autowired\n    private InventoryService inventoryService;\n    @GetMapping\n    @ResponseStatus(HttpStatus.OK)\n    public List&lt;Inventory&gt; isInStock(@RequestParam List&lt;String&gt; skucode ) {\n        return inventoryService.isInStock(skucode);\n\n    }\n</code></pre>\n"}],"owner":{"account_id":15413139,"reputation":19,"user_id":11119361,"display_name":"Jagan Reddy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2646,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665210428,"creation_date":1665136184,"question_id":73985345,"body_markdown":"&gt; Servlet.service() for servlet [dispatcherServlet] in context with path\r\n&gt; [] threw exception [Request processing failed; nested exception is\r\n&gt; org.springframework.http.converter.HttpMessageConversionException:\r\n&gt; Type definition error: [simple type, class\r\n&gt; org.springframework.data.repository.core.support.TransactionalRepositoryProxyPostProcessor$RepositoryAnnotationTransactionAttributeSource];\r\n&gt; nested exception is\r\n&gt; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No\r\n&gt; serializer found for class\r\n&gt; org.springframework.data.repository.core.support.TransactionalRepositoryProxyPostProcessor$RepositoryAnnotationTransactionAttributeSource\r\n&gt; and no properties discovered to create BeanSerializer (to avoid\r\n&gt; exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through\r\n&gt; reference chain:\r\n&gt; java.util.ArrayList[0]-&gt;com.sun.proxy.$Proxy98[&quot;advisors&quot;]-&gt;org.springframework.aop.support.DefaultPointcutAdvisor[3]-&gt;org.springframework.aop.support.DefaultPointcutAdvisor[&quot;advice&quot;]-&gt;org.springframework.transaction.interceptor.TransactionInterceptor[&quot;transactionAttributeSource&quot;])]\r\n&gt; with root cause\r\n\r\n-------------\r\n\r\n\r\n**order_service _microservice ERROR:**\r\n\r\n: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.reactive.function.client.WebClientResponseException$**InternalServerError: 500 Internal Server Error from GET http://localhost:9091/api/inventory/?skucode=order_10&amp;skucode=order_20&amp;skucode=order_30]** with root cause\r\n\r\norg.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from GET http://localhost:9091/api/inventory/?skucode=order_10&amp;skucode=order_20&amp;skucode=order_30\r\n\tat org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:239) ~[spring-webflux-5.3.23.jar:5.3.23]\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nError has been observed at the following site(s):\r\n\t*__checkpoint ⇢ 500 from GET http://localhost:9091/api/inventory/?skucode=order_10&amp;skucode=order_20&amp;skucode=order_30 [DefaultWebClient]\r\nOriginal Stack Trace:\r\n\t\tat org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientRespons\r\n\r\n**INVENTORY_microservice:**\r\n\r\n**controller class:**\r\n\r\n    package com.Inventory_microservice.Inventory_microservice.Controller;\r\n    \r\n    import com.Inventory_microservice.Inventory_microservice.Repository.InventoryRepository;\r\n    import com.Inventory_microservice.Inventory_microservice.Service.InventoryService;\r\n    import com.Inventory_microservice.Inventory_microservice.model.Inventory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import java.util.List;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api/inventory&quot;)\r\n    public class InventoryController {\r\n    \r\n        @Autowired\r\n        private InventoryService inventoryService;\r\n        @GetMapping\r\n        @ResponseStatus(HttpStatus.OK)\r\n        public List&lt;InventoryRepository&gt; isInStock(@RequestParam List&lt;String&gt; skucode ) {\r\n            return inventoryService.isInStock(skucode);\r\n    \r\n        }\r\n    }\r\n\r\n\r\n**service class:**\r\n\r\n    package com.Inventory_microservice.Inventory_microservice.Service;\r\n    \r\n    import com.Inventory_microservice.Inventory_microservice.Repository.InventoryRepository;\r\n    import com.Inventory_microservice.Inventory_microservice.dto.InventoryResponse;\r\n    import com.Inventory_microservice.Inventory_microservice.model.Inventory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import javax.transaction.Transactional;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    @Service\r\n    public class InventoryService {\r\n    \r\n        @Autowired\r\n        private InventoryRepository inventoryRepository;\r\n    \r\n        @Transactional\r\n        public List&lt;InventoryRepository&gt; isInStock(List&lt;String&gt; Skucode)\r\n        {\r\n    \r\n            return inventoryRepository.findBySkucodeIn(Skucode).stream().map(inventory -&gt; checkstock(inventory)).collect(Collectors.toList());\r\n        }\r\n    \r\n        private InventoryRepository checkstock(Inventory inventory) {\r\n            InventoryResponse inventoryResponse=new InventoryResponse();\r\n            inventoryResponse.setSkucode(inventory.getSkucode());\r\n            inventoryResponse.setInstock(inventory.getQuantity()&gt;0);\r\n            return inventoryRepository;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**ORDER_MICROSERVICE:**\r\n\r\n**Controller class**\r\npackage com.OrderService.order_service_microsevice.Controller;\r\n\r\n    import com.OrderService.order_service_microsevice.Service.OrderService;\r\n    import com.OrderService.order_service_microsevice.dto.RequestOrder;\r\n    import org.jetbrains.annotations.NotNull;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api/order&quot;)\r\n    public class OrderController {\r\n    \r\n        @Autowired\r\n        private OrderService orderService;\r\n    \r\n        @PostMapping\r\n        @ResponseStatus(HttpStatus.CREATED)\r\n        public String createOrder(@RequestBody @NotNull RequestOrder requestOrder){\r\n    \r\n    \r\n            System.out.println(&quot;calling Order controller class&quot;);\r\n            orderService.placeOrder(requestOrder);\r\n            return  &quot;Order placed Successfully&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nService class:\r\n\r\n    package com.OrderService.order_service_microsevice.Service;\r\n    \r\n    import com.OrderService.order_service_microsevice.Repository.OrderRepository;\r\n    import com.OrderService.order_service_microsevice.dto.InventoryResponse;\r\n    import com.OrderService.order_service_microsevice.dto.OrderListItemsDto;\r\n    import com.OrderService.order_service_microsevice.dto.RequestOrder;\r\n    import com.OrderService.order_service_microsevice.model.Order;\r\n    import com.OrderService.order_service_microsevice.model.OrderItemList;\r\n    import org.jetbrains.annotations.NotNull;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.web.reactive.function.client.WebClient;\r\n    \r\n    import javax.transaction.Transactional;\r\n    import java.util.*;\r\n    import java.util.stream.Collectors;\r\n    \r\n    @Service\r\n    @Transactional\r\n    public class OrderService {\r\n    \r\n        @Autowired\r\n        private OrderRepository orderRepository;\r\n        @Autowired\r\n        private WebClient webClient;\r\n    \r\n        public void placeOrder(@NotNull RequestOrder requestOrder) {\r\n    \r\n            Order order = new Order();\r\n            order.setOrderNumber(UUID.randomUUID().toString());\r\n    \r\n            List&lt;OrderItemList&gt; orderItemLists =requestOrder.getOrderListItemsDtos()\r\n                    .stream()\r\n                    .map(this::maptodto)\r\n                    .collect(Collectors.toList());\r\n            order.setOrderItemList(orderItemLists);\r\n    \r\n            List&lt;String&gt; skucodes=order.getOrderItemList()\r\n                    .stream()\r\n                    .map(orderItemList -&gt; orderItemList.getSkucode())\r\n                    .collect(Collectors.toList());\r\n    \r\n    \r\n            //here we need to call inventory microservice to get the response\r\n            InventoryResponse[] inventoryResponsesArray=webClient.get()\r\n                    .uri(&quot;http://localhost:9091/api/inventory/&quot;,\r\n                            uriBuilder -&gt; uriBuilder.queryParam(&quot;skucode&quot;,skucodes)\r\n                                    .build())\r\n                    .retrieve()\r\n                    .bodyToMono(InventoryResponse[].class)\r\n                    .block();\r\n    \r\n            boolean allproductsinstock= Arrays.stream(inventoryResponsesArray).allMatch(InventoryResponse::isInstock);\r\n    \r\n            if(allproductsinstock){\r\n                orderRepository.save(order);\r\n            }\r\n            else{\r\n                throw new IllegalArgumentException(&quot;Product is not available in stock&quot;);\r\n            }\r\n    \r\n        }\r\n    \r\n        private @NotNull OrderItemList maptodto(@NotNull OrderListItemsDto orderListItemsDto) {\r\n            OrderItemList orderItemList = new OrderItemList();\r\n            orderItemList.setSkucode(orderListItemsDto.getSkucode());\r\n            orderItemList.setQuantity(orderListItemsDto.getQuantity());\r\n            orderItemList.setPrice(orderListItemsDto.getPrice());\r\n    \r\n            return orderItemList;\r\n        }\r\n    }\r\n\r\n","title":"org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from GET","body":"<blockquote>\n<p>Servlet.service() for servlet [dispatcherServlet] in context with path\n[] threw exception [Request processing failed; nested exception is\norg.springframework.http.converter.HttpMessageConversionException:\nType definition error: [simple type, class\norg.springframework.data.repository.core.support.TransactionalRepositoryProxyPostProcessor$RepositoryAnnotationTransactionAttributeSource];\nnested exception is\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: No\nserializer found for class\norg.springframework.data.repository.core.support.TransactionalRepositoryProxyPostProcessor$RepositoryAnnotationTransactionAttributeSource\nand no properties discovered to create BeanSerializer (to avoid\nexception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through\nreference chain:\njava.util.ArrayList[0]-&gt;com.sun.proxy.$Proxy98[&quot;advisors&quot;]-&gt;org.springframework.aop.support.DefaultPointcutAdvisor[3]-&gt;org.springframework.aop.support.DefaultPointcutAdvisor[&quot;advice&quot;]-&gt;org.springframework.transaction.interceptor.TransactionInterceptor[&quot;transactionAttributeSource&quot;])]\nwith root cause</p>\n</blockquote>\n<hr />\n<p><strong>order_service _microservice ERROR:</strong></p>\n<p>: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.reactive.function.client.WebClientResponseException$<strong>InternalServerError: 500 Internal Server Error from GET http://localhost:9091/api/inventory/?skucode=order_10&amp;skucode=order_20&amp;skucode=order_30]</strong> with root cause</p>\n<p>org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from GET http://localhost:9091/api/inventory/?skucode=order_10&amp;skucode=order_20&amp;skucode=order_30\nat org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:239) ~[spring-webflux-5.3.23.jar:5.3.23]\nSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException:\nError has been observed at the following site(s):\n*__checkpoint ⇢ 500 from GET http://localhost:9091/api/inventory/?skucode=order_10&amp;skucode=order_20&amp;skucode=order_30 [DefaultWebClient]\nOriginal Stack Trace:\nat org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientRespons</p>\n<p><strong>INVENTORY_microservice:</strong></p>\n<p><strong>controller class:</strong></p>\n<pre><code>package com.Inventory_microservice.Inventory_microservice.Controller;\n\nimport com.Inventory_microservice.Inventory_microservice.Repository.InventoryRepository;\nimport com.Inventory_microservice.Inventory_microservice.Service.InventoryService;\nimport com.Inventory_microservice.Inventory_microservice.model.Inventory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/api/inventory&quot;)\npublic class InventoryController {\n\n    @Autowired\n    private InventoryService inventoryService;\n    @GetMapping\n    @ResponseStatus(HttpStatus.OK)\n    public List&lt;InventoryRepository&gt; isInStock(@RequestParam List&lt;String&gt; skucode ) {\n        return inventoryService.isInStock(skucode);\n\n    }\n}\n</code></pre>\n<p><strong>service class:</strong></p>\n<pre><code>package com.Inventory_microservice.Inventory_microservice.Service;\n\nimport com.Inventory_microservice.Inventory_microservice.Repository.InventoryRepository;\nimport com.Inventory_microservice.Inventory_microservice.dto.InventoryResponse;\nimport com.Inventory_microservice.Inventory_microservice.model.Inventory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport javax.transaction.Transactional;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n@Service\npublic class InventoryService {\n\n    @Autowired\n    private InventoryRepository inventoryRepository;\n\n    @Transactional\n    public List&lt;InventoryRepository&gt; isInStock(List&lt;String&gt; Skucode)\n    {\n\n        return inventoryRepository.findBySkucodeIn(Skucode).stream().map(inventory -&gt; checkstock(inventory)).collect(Collectors.toList());\n    }\n\n    private InventoryRepository checkstock(Inventory inventory) {\n        InventoryResponse inventoryResponse=new InventoryResponse();\n        inventoryResponse.setSkucode(inventory.getSkucode());\n        inventoryResponse.setInstock(inventory.getQuantity()&gt;0);\n        return inventoryRepository;\n    }\n\n}\n</code></pre>\n<p><strong>ORDER_MICROSERVICE:</strong></p>\n<p><strong>Controller class</strong>\npackage com.OrderService.order_service_microsevice.Controller;</p>\n<pre><code>import com.OrderService.order_service_microsevice.Service.OrderService;\nimport com.OrderService.order_service_microsevice.dto.RequestOrder;\nimport org.jetbrains.annotations.NotNull;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController\n@RequestMapping(&quot;/api/order&quot;)\npublic class OrderController {\n\n    @Autowired\n    private OrderService orderService;\n\n    @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    public String createOrder(@RequestBody @NotNull RequestOrder requestOrder){\n\n\n        System.out.println(&quot;calling Order controller class&quot;);\n        orderService.placeOrder(requestOrder);\n        return  &quot;Order placed Successfully&quot;;\n    }\n\n}\n</code></pre>\n<p>Service class:</p>\n<pre><code>package com.OrderService.order_service_microsevice.Service;\n\nimport com.OrderService.order_service_microsevice.Repository.OrderRepository;\nimport com.OrderService.order_service_microsevice.dto.InventoryResponse;\nimport com.OrderService.order_service_microsevice.dto.OrderListItemsDto;\nimport com.OrderService.order_service_microsevice.dto.RequestOrder;\nimport com.OrderService.order_service_microsevice.model.Order;\nimport com.OrderService.order_service_microsevice.model.OrderItemList;\nimport org.jetbrains.annotations.NotNull;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.reactive.function.client.WebClient;\n\nimport javax.transaction.Transactional;\nimport java.util.*;\nimport java.util.stream.Collectors;\n\n@Service\n@Transactional\npublic class OrderService {\n\n    @Autowired\n    private OrderRepository orderRepository;\n    @Autowired\n    private WebClient webClient;\n\n    public void placeOrder(@NotNull RequestOrder requestOrder) {\n\n        Order order = new Order();\n        order.setOrderNumber(UUID.randomUUID().toString());\n\n        List&lt;OrderItemList&gt; orderItemLists =requestOrder.getOrderListItemsDtos()\n                .stream()\n                .map(this::maptodto)\n                .collect(Collectors.toList());\n        order.setOrderItemList(orderItemLists);\n\n        List&lt;String&gt; skucodes=order.getOrderItemList()\n                .stream()\n                .map(orderItemList -&gt; orderItemList.getSkucode())\n                .collect(Collectors.toList());\n\n\n        //here we need to call inventory microservice to get the response\n        InventoryResponse[] inventoryResponsesArray=webClient.get()\n                .uri(&quot;http://localhost:9091/api/inventory/&quot;,\n                        uriBuilder -&gt; uriBuilder.queryParam(&quot;skucode&quot;,skucodes)\n                                .build())\n                .retrieve()\n                .bodyToMono(InventoryResponse[].class)\n                .block();\n\n        boolean allproductsinstock= Arrays.stream(inventoryResponsesArray).allMatch(InventoryResponse::isInstock);\n\n        if(allproductsinstock){\n            orderRepository.save(order);\n        }\n        else{\n            throw new IllegalArgumentException(&quot;Product is not available in stock&quot;);\n        }\n\n    }\n\n    private @NotNull OrderItemList maptodto(@NotNull OrderListItemsDto orderListItemsDto) {\n        OrderItemList orderItemList = new OrderItemList();\n        orderItemList.setSkucode(orderListItemsDto.getSkucode());\n        orderItemList.setQuantity(orderListItemsDto.getQuantity());\n        orderItemList.setPrice(orderListItemsDto.getPrice());\n\n        return orderItemList;\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9014,"page":978,"page_size":100}
