{"items":[{"tags":["java","spring","spring-boot","microservices","api-gateway"],"answers":[{"tags":[],"owner":{"account_id":2195289,"reputation":2137,"user_id":1941151,"accept_rate":80,"display_name":"incomplete-co.de"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692543030,"creation_date":1692543030,"answer_id":76939963,"question_id":72939168,"body_markdown":"You may want to try and outdent the spring cloud line in your application yaml\r\n\r\n```\r\nserver:\r\n  port: 8080\r\nspring:\r\n  application:\r\n    name: API-GATEWAY\r\n  cloud:\r\n    gateway:\r\n      ...\r\n```\r\n\r\n`spring.cloud` is a peer of `spring.application` and your example has it as a child.","title":"Spring cloud gateway api not working even with all right configuration","body":"<p>You may want to try and outdent the spring cloud line in your application yaml</p>\n<pre><code>server:\n  port: 8080\nspring:\n  application:\n    name: API-GATEWAY\n  cloud:\n    gateway:\n      ...\n</code></pre>\n<p><code>spring.cloud</code> is a peer of <code>spring.application</code> and your example has it as a child.</p>\n"}],"owner":{"account_id":19217929,"reputation":19,"user_id":14042312,"display_name":"Prakash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":868,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1692543030,"creation_date":1657545214,"question_id":72939168,"body_markdown":"I was trying microservice with eureka discovery server, api gateway and one rest service. Like shown in below image\r\n\r\n- [Eureka discovery][1]\r\n\r\n**For Service discovery:**\r\n\r\n - I have added relevant pom dependencies \r\n - I have added annotations to make spring boot project as discovery service\r\n\r\n**application.yml:-**\r\n\r\n&lt;code&gt;\r\n\r\n    server:\r\n      port: 8761\r\n    eureka:\r\n      client:\r\n        register-with-eureka: false\r\n        fetch-registry: false\r\n\r\n&lt;/code&gt;\r\n\r\n\r\n**For Spring boot service 1:-**\r\n\r\n- Added @EnableEurekaClient at main class\r\n\r\n**application.yml**\r\n\r\n&lt;code&gt;\r\n\r\n    server:\r\n      port: 9009\r\n    spring:\r\n      application:\r\n        name: HEALTH-CARD\r\n    eureka:\r\n      instance:\r\n        hostname: localhost\r\n      client:\r\n        register-with-eureka: true\r\n        fetch-registry: true\r\n        service-url:\r\n          defaultZone: http://${eureka.instance.hostname}:8761/eureka/\r\n\r\n&lt;/code&gt;\r\n\r\n\r\n**For Api-Gateway service:-**\r\n\r\n- Added @EnableEurekaClient at main class\r\n\r\n**application.yml**\r\n\r\n&lt;code&gt;\r\n\r\n    server:\r\n      port: 8080\r\n    spring:\r\n      application:\r\n        name: API-GATEWAY\r\n        cloud:\r\n          gateway:\r\n            discovery:\r\n              locator:\r\n                enabled: true\r\n            routes:\r\n              - id: health-card\r\n                uri: http://localhost:9009/health-card\r\n                predicates:\r\n                  - Path=/**\r\n    eureka:\r\n      instance:\r\n        hostname: localhost\r\n      client:\r\n        register-with-eureka: true\r\n        fetch-registry: true\r\n        service-url:\r\n          defaultZone: http://${eureka.instance.hostname}:8761/eureka/\r\n\r\n&lt;/code&gt;\r\n\r\n\r\n\r\n- Also I have tried with java class route config part\r\n\r\n\r\n&lt;code&gt;\r\n\r\n    package com.apigateway.config;\r\n    \r\n    import org.springframework.cloud.gateway.route.RouteLocator;\r\n    import org.springframework.cloud.gateway.route.builder.RouteLocatorBuilder;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration\r\n    public class SpringApiGatewayConfig {\r\n        public RouteLocator configRoute(RouteLocatorBuilder builder) {\r\n            return builder.routes()\r\n                    .route(&quot;healthCard&quot;, r-&gt;r.path(&quot;/health-card/**&quot;).uri(&quot;localhost:9009/&quot;)).build();\r\n        }\r\n    }\r\n\r\n&lt;/code&gt;\r\n\r\nEven I have tried all the suggestion from below link\r\nhttps://stackoverflow.com/questions/65333590/spring-cloud-api-gateway-routing-not-working\r\nBut nothing worked for me. Please help me on this wired case.\r\n  [1]: https://i.stack.imgur.com/pGwlB.jpg","title":"Spring cloud gateway api not working even with all right configuration","body":"<p>I was trying microservice with eureka discovery server, api gateway and one rest service. Like shown in below image</p>\n<ul>\n<li>[Eureka discovery][1]</li>\n</ul>\n<p><strong>For Service discovery:</strong></p>\n<ul>\n<li>I have added relevant pom dependencies</li>\n<li>I have added annotations to make spring boot project as discovery service</li>\n</ul>\n<p><strong>application.yml:-</strong></p>\n<code>\n<pre><code>server:\n  port: 8761\neureka:\n  client:\n    register-with-eureka: false\n    fetch-registry: false\n</code></pre>\n</code>\n<p><strong>For Spring boot service 1:-</strong></p>\n<ul>\n<li>Added @EnableEurekaClient at main class</li>\n</ul>\n<p><strong>application.yml</strong></p>\n<code>\n<pre><code>server:\n  port: 9009\nspring:\n  application:\n    name: HEALTH-CARD\neureka:\n  instance:\n    hostname: localhost\n  client:\n    register-with-eureka: true\n    fetch-registry: true\n    service-url:\n      defaultZone: http://${eureka.instance.hostname}:8761/eureka/\n</code></pre>\n</code>\n<p><strong>For Api-Gateway service:-</strong></p>\n<ul>\n<li>Added @EnableEurekaClient at main class</li>\n</ul>\n<p><strong>application.yml</strong></p>\n<code>\n<pre><code>server:\n  port: 8080\nspring:\n  application:\n    name: API-GATEWAY\n    cloud:\n      gateway:\n        discovery:\n          locator:\n            enabled: true\n        routes:\n          - id: health-card\n            uri: http://localhost:9009/health-card\n            predicates:\n              - Path=/**\neureka:\n  instance:\n    hostname: localhost\n  client:\n    register-with-eureka: true\n    fetch-registry: true\n    service-url:\n      defaultZone: http://${eureka.instance.hostname}:8761/eureka/\n</code></pre>\n</code>\n<ul>\n<li>Also I have tried with java class route config part</li>\n</ul>\n<code>\n<pre><code>package com.apigateway.config;\n\nimport org.springframework.cloud.gateway.route.RouteLocator;\nimport org.springframework.cloud.gateway.route.builder.RouteLocatorBuilder;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class SpringApiGatewayConfig {\n    public RouteLocator configRoute(RouteLocatorBuilder builder) {\n        return builder.routes()\n                .route(&quot;healthCard&quot;, r-&gt;r.path(&quot;/health-card/**&quot;).uri(&quot;localhost:9009/&quot;)).build();\n    }\n}\n</code></pre>\n</code>\n<p>Even I have tried all the suggestion from below link\n<a href=\"https://stackoverflow.com/questions/65333590/spring-cloud-api-gateway-routing-not-working\">Spring Cloud API Gateway routing not working</a>\nBut nothing worked for me. Please help me on this wired case.\n[1]: <a href=\"https://i.stack.imgur.com/pGwlB.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/pGwlB.jpg</a></p>\n"},{"tags":["java","string","swing","jtable","imageicon"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1535469087,"post_id":52060885,"comment_id":91072490,"body_markdown":"I can&#39;t speak for everyone, but I know that many find it much easier answering questions if the poster creates and displays a valid [mcve] program with their question.","body":"I can&#39;t speak for everyone, but I know that many find it much easier answering questions if the poster creates and displays a valid <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> program with their question."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1535474172,"post_id":52060885,"comment_id":91075569,"body_markdown":"You will need to create a (possibly anonymous) subclass of DefaultTableCellRenderer and override its [getTableCellRendererComponent method](https://docs.oracle.com/javase/10/docs/api/javax/swing/table/DefaultTableCellRenderer.html#getTableCellRendererComponent(javax.swing.JTable,java.lang.Object,boolean,boolean,int,int)).  See [Using Custom Renderers](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html#renderer) in the Java tutorial.","body":"You will need to create a (possibly anonymous) subclass of DefaultTableCellRenderer and override its <a href=\"https://docs.oracle.com/javase/10/docs/api/javax/swing/table/DefaultTableCellRenderer.html#getTableCellRendererComponent(javax.swing.JTable,java.lang.Object,boolean,boolean,int,int)\" rel=\"nofollow noreferrer\">getTableCellRendererComponent method</a>.  See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html#renderer\" rel=\"nofollow noreferrer\">Using Custom Renderers</a> in the Java tutorial."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692542705,"creation_date":1535485195,"answer_id":52065145,"question_id":52060885,"body_markdown":"&gt; there could be an ImageIcon, String or both.\r\n\r\nYou will need to create a custom object to store in the TableModel. This object will contain two properties:\r\n\r\n1. text \r\n2. icon\r\n\r\nThen you will need to create a custom renderer (not use the default renderer) to display this object. \r\n\r\nThe custom renderer might look something like:\r\n\r\n\tclass IconTextRenderer extends DefaultTableCellRenderer\r\n\t{\r\n\t\tpublic IconTextRenderer()\r\n\t\t{\r\n\t\t\tsuper();\r\n\t\t\tsetHorizontalTextPosition(JLabel.CENTER);\r\n\t\t\tsetHorizontalAlignment(JLabel.CENTER);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Component getTableCellRendererComponent(\r\n\t\t\tJTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column)\r\n\t\t{\r\n\t\t\tsuper.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\r\n\r\n\t\t\tIconText iconText = (IconText)value;\r\n\t\t\tsetIcon( iconText.getIcon() );\r\n\t\t\tsetText( iconText.getText() );\r\n\r\n\t\t\treturn this;\r\n\t\t}\r\n\t}\r\n\r\nYou set the renderer for a single column by using:\r\n\r\n    table.getColumnModel().getColumn(???).setCellRenderer( new IconTextRenderer());\r\n\r\nor for all columns using the custom class:\r\n\r\n    table.setDefaultRenderer(IconText.class, new IconTextRenderer());\r\n","title":"JTable ImageIcon and String","body":"<blockquote>\n<p>there could be an ImageIcon, String or both.</p>\n</blockquote>\n<p>You will need to create a custom object to store in the TableModel. This object will contain two properties:</p>\n<ol>\n<li>text</li>\n<li>icon</li>\n</ol>\n<p>Then you will need to create a custom renderer (not use the default renderer) to display this object.</p>\n<p>The custom renderer might look something like:</p>\n<pre><code>class IconTextRenderer extends DefaultTableCellRenderer\n{\n    public IconTextRenderer()\n    {\n        super();\n        setHorizontalTextPosition(JLabel.CENTER);\n        setHorizontalAlignment(JLabel.CENTER);\n    }\n\n    @Override\n    public Component getTableCellRendererComponent(\n        JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column)\n    {\n        super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\n\n        IconText iconText = (IconText)value;\n        setIcon( iconText.getIcon() );\n        setText( iconText.getText() );\n\n        return this;\n    }\n}\n</code></pre>\n<p>You set the renderer for a single column by using:</p>\n<pre><code>table.getColumnModel().getColumn(???).setCellRenderer( new IconTextRenderer());\n</code></pre>\n<p>or for all columns using the custom class:</p>\n<pre><code>table.setDefaultRenderer(IconText.class, new IconTextRenderer());\n</code></pre>\n"}],"owner":{"account_id":14194358,"reputation":45,"user_id":10254078,"display_name":"T.Harms"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52065145,"answer_count":1,"score":0,"last_activity_date":1692542705,"creation_date":1535468227,"question_id":52060885,"body_markdown":"I want to create a `JTable` where in the cells there could be an `ImageIcon`, `String` or both. I&#39;ve already tried solutions like `table.setvalue()` or just adding the `Icon` to the `Object Array` for creating the `JTable`.\r\n\r\n    for (int n = 0; n &lt; tableHeight; n++) {\r\n      for (int m = 0; m &lt; tableWidth; m++) {\r\n        if ((n + m) == labelArray.size()) {\r\n          break;\r\n        }\r\n\r\n        if (labelArray.get(n + m).iconMode) {  //iconMode is True if there is an icon instead of line text\r\n          data[n][m] = null;\r\n        } else {\r\n          String text = new String(&quot;&lt;html&gt;&lt;p&gt;&quot; + labelArray.get(n + m).lineOne + &quot;&lt;br&gt;&quot; + labelArray.get(n + m).lineTwo + &quot;&lt;p&gt;&lt;/html&gt;&quot;);\r\n          data[n][m] = text;\r\n        }\r\n      }\r\n    }\r\n\r\n    table = new JTable(data, columnNames);\r\n\r\n    renderer = new DefaultTableCellRenderer();\r\n    renderer.setHorizontalTextPosition(JLabel.CENTER);\r\n    renderer.setHorizontalAlignment(JLabel.CENTER);\r\n\r\n    for (int n = 0; n &lt; tableWidth; n++) {\r\n      table.getColumnModel().getColumn(n).setCellRenderer(renderer);\r\n      table.getColumnModel().getColumn(n).setWidth(50);\r\n    }","title":"JTable ImageIcon and String","body":"<p>I want to create a <code>JTable</code> where in the cells there could be an <code>ImageIcon</code>, <code>String</code> or both. I've already tried solutions like <code>table.setvalue()</code> or just adding the <code>Icon</code> to the <code>Object Array</code> for creating the <code>JTable</code>.</p>\n\n<pre><code>for (int n = 0; n &lt; tableHeight; n++) {\n  for (int m = 0; m &lt; tableWidth; m++) {\n    if ((n + m) == labelArray.size()) {\n      break;\n    }\n\n    if (labelArray.get(n + m).iconMode) {  //iconMode is True if there is an icon instead of line text\n      data[n][m] = null;\n    } else {\n      String text = new String(\"&lt;html&gt;&lt;p&gt;\" + labelArray.get(n + m).lineOne + \"&lt;br&gt;\" + labelArray.get(n + m).lineTwo + \"&lt;p&gt;&lt;/html&gt;\");\n      data[n][m] = text;\n    }\n  }\n}\n\ntable = new JTable(data, columnNames);\n\nrenderer = new DefaultTableCellRenderer();\nrenderer.setHorizontalTextPosition(JLabel.CENTER);\nrenderer.setHorizontalAlignment(JLabel.CENTER);\n\nfor (int n = 0; n &lt; tableWidth; n++) {\n  table.getColumnModel().getColumn(n).setCellRenderer(renderer);\n  table.getColumnModel().getColumn(n).setWidth(50);\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":16909157,"reputation":163,"user_id":12228688,"display_name":"Skerdi Velo"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1692541913,"creation_date":1692541913,"answer_id":76939894,"question_id":76939874,"body_markdown":"the problem you are facing is because after you enter the age, the nextInt() method does not consume the newline character. So, when you call nextLine() to read the address, it consumes the newline character left by the nextInt() method and returns an empty string. There are 2 ways to fix this. The first method is to use nextLine() again after the age:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n    \r\n            System.out.print(&quot;Enter your name: &quot;);\r\n            String name = scanner.nextLine();\r\n    \r\n            System.out.print(&quot;Enter your surname: &quot;);\r\n            String surname = scanner.nextLine();\r\n    \r\n            System.out.println(&quot;Enter your age: &quot;);\r\n            int age = scanner.nextInt();\r\n            scanner.nextLine(); // consume the newline character\r\n    \r\n            System.out.println(&quot;Enter your address: &quot;);\r\n            String address = scanner.nextLine();\r\n    \r\n            System.out.println(&quot;Your name is &quot; + name + &quot; &quot; + surname);\r\n        }\r\n    }\r\n\r\nThe other way which I prefer is by using the type that you need:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n    \r\n            System.out.print(&quot;Enter your name: &quot;);\r\n            String name = scanner.nextLine();\r\n    \r\n            System.out.print(&quot;Enter your surname: &quot;);\r\n            String surname = scanner.nextLine();\r\n    \r\n            System.out.println(&quot;Enter your age: &quot;);\r\n            int age = Integer.parseInt(scanner.nextLine());\r\n    \r\n            System.out.println(&quot;Enter your address: &quot;);\r\n            String address = scanner.nextLine();\r\n    \r\n            System.out.println(&quot;Your name is &quot; + name + &quot; &quot; + surname);\r\n        }\r\n    }\r\n\r\nSo in this second example you are getting something in input, and you are transforming in into the type that you want.\r\nHope this helps!","title":"Java scanner input not working, skipping one input field","body":"<p>the problem you are facing is because after you enter the age, the nextInt() method does not consume the newline character. So, when you call nextLine() to read the address, it consumes the newline character left by the nextInt() method and returns an empty string. There are 2 ways to fix this. The first method is to use nextLine() again after the age:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        System.out.print(&quot;Enter your name: &quot;);\n        String name = scanner.nextLine();\n\n        System.out.print(&quot;Enter your surname: &quot;);\n        String surname = scanner.nextLine();\n\n        System.out.println(&quot;Enter your age: &quot;);\n        int age = scanner.nextInt();\n        scanner.nextLine(); // consume the newline character\n\n        System.out.println(&quot;Enter your address: &quot;);\n        String address = scanner.nextLine();\n\n        System.out.println(&quot;Your name is &quot; + name + &quot; &quot; + surname);\n    }\n}\n</code></pre>\n<p>The other way which I prefer is by using the type that you need:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        System.out.print(&quot;Enter your name: &quot;);\n        String name = scanner.nextLine();\n\n        System.out.print(&quot;Enter your surname: &quot;);\n        String surname = scanner.nextLine();\n\n        System.out.println(&quot;Enter your age: &quot;);\n        int age = Integer.parseInt(scanner.nextLine());\n\n        System.out.println(&quot;Enter your address: &quot;);\n        String address = scanner.nextLine();\n\n        System.out.println(&quot;Your name is &quot; + name + &quot; &quot; + surname);\n    }\n}\n</code></pre>\n<p>So in this second example you are getting something in input, and you are transforming in into the type that you want.\nHope this helps!</p>\n"}],"owner":{"display_name":"user22418834"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1692542158,"accepted_answer_id":76939894,"answer_count":1,"score":-1,"last_activity_date":1692541913,"creation_date":1692541605,"question_id":76939874,"body_markdown":"I&#39;m new to java and I was trying to Scanner. Everything works but when I input the age the adress gets skipped: \r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        System.out.print(&quot;Enter your name: &quot;);\r\n        String name = scanner.nextLine();\r\n\r\n        System.out.print(&quot;Enter your surname: &quot;);\r\n        String surname = scanner.nextLine();\r\n\r\n        System.out.println(&quot;Enter your age: &quot;);\r\n        int age = scanner.nextInt();\r\n\r\n        System.out.println(&quot;Enter your address: &quot;);\r\n        String address = scanner.nextLine();\r\n\r\n        System.out.println(&quot;Your name is &quot; + name + &quot; &quot; + surname);\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m stuck so, could someone help please?","title":"Java scanner input not working, skipping one input field","body":"<p>I'm new to java and I was trying to Scanner. Everything works but when I input the age the adress gets skipped:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        System.out.print(&quot;Enter your name: &quot;);\n        String name = scanner.nextLine();\n\n        System.out.print(&quot;Enter your surname: &quot;);\n        String surname = scanner.nextLine();\n\n        System.out.println(&quot;Enter your age: &quot;);\n        int age = scanner.nextInt();\n\n        System.out.println(&quot;Enter your address: &quot;);\n        String address = scanner.nextLine();\n\n        System.out.println(&quot;Your name is &quot; + name + &quot; &quot; + surname);\n    }\n}\n</code></pre>\n<p>I'm stuck so, could someone help please?</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection","abstract-class"],"owner":{"account_id":2641542,"reputation":1073,"user_id":2285066,"accept_rate":71,"display_name":"nxh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692540514,"creation_date":1692540514,"question_id":76939784,"body_markdown":"I am working on an old and large code base with definition like this:\r\n\r\n```\r\n&lt;bean id=&quot;foo&quot; class=&quot;com.mycompany.Foo&quot; abstract=&quot;true&quot;&gt;\r\n  ...\r\n&lt;/bean&gt;\r\n\r\n&lt;bean id=&quot;bar&quot; parent=&quot;foo&quot;&gt;\r\n  &lt;constructor-arg name=&quot;components&quot;&gt;\r\n    &lt;list&gt;\r\n      &lt;bean parent=&quot;component1&quot;&gt;...&lt;/bean&gt;\r\n      &lt;bean parent=&quot;component2&quot;&gt;...&lt;/bean&gt;\r\n    &lt;/list&gt;\r\n  &lt;/constructor-arg&gt;\r\n&lt;/bean&gt;\r\n```\r\n\r\nThe `bar` bean doesn&#39;t specify a class nor it is abstract. I can&#39;t find any beans using `bar` as a parent either.\r\n\r\nThis seems to violate the documentation \r\n&gt; If the parent definition does not specify a class, explicitly marking\r\n&gt; the parent bean definition as abstract is required\r\n(https://docs.spring.io/spring-framework/docs/3.0.x/spring-framework-reference/html/beans.html)\r\n\r\nCan someone please explain what this is? The codebase builds and works.","title":"Spring bean without both class attribute and abstract=true","body":"<p>I am working on an old and large code base with definition like this:</p>\n<pre><code>&lt;bean id=&quot;foo&quot; class=&quot;com.mycompany.Foo&quot; abstract=&quot;true&quot;&gt;\n  ...\n&lt;/bean&gt;\n\n&lt;bean id=&quot;bar&quot; parent=&quot;foo&quot;&gt;\n  &lt;constructor-arg name=&quot;components&quot;&gt;\n    &lt;list&gt;\n      &lt;bean parent=&quot;component1&quot;&gt;...&lt;/bean&gt;\n      &lt;bean parent=&quot;component2&quot;&gt;...&lt;/bean&gt;\n    &lt;/list&gt;\n  &lt;/constructor-arg&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>The <code>bar</code> bean doesn't specify a class nor it is abstract. I can't find any beans using <code>bar</code> as a parent either.</p>\n<p>This seems to violate the documentation</p>\n<blockquote>\n<p>If the parent definition does not specify a class, explicitly marking\nthe parent bean definition as abstract is required\n(<a href=\"https://docs.spring.io/spring-framework/docs/3.0.x/spring-framework-reference/html/beans.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/3.0.x/spring-framework-reference/html/beans.html</a>)</p>\n</blockquote>\n<p>Can someone please explain what this is? The codebase builds and works.</p>\n"},{"tags":["java","eclipse","formatter"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692540506,"creation_date":1692468025,"answer_id":76936423,"question_id":76936014,"body_markdown":"Try this.\r\n- **Braces** - on array initializer, check `same line`\r\n- **New Lines** - uncheck\r\n  -  after closing brace initializer\r\n  -  before closing brace initializer\r\n\r\nThis is what I get.\r\n```\r\nint[] a = {1,2,3,4,5,6,7};\r\n\r\nint[] b = {1,2,3,4,5,6,7,1,2,3,4,5,6,7,8,1,2,\r\n        3,4,5,6};\r\n```\r\n**Edit:** Per review I just noticed that you wanted the wrapped array to have the closing brace on a new line.  I checked the export `xml` file and could not find anything like `insert line on wrap before closing brace on array initializer` or any other similar construct or pair of constructs.\r\n\r\nOne possible alternative is to selectively turn formatting off and then on once the format for a particular item is set.","title":"Eclipse Java formatter: add newline before array closing brace ONLY if that wraps","body":"<p>Try this.</p>\n<ul>\n<li><strong>Braces</strong> - on array initializer, check <code>same line</code></li>\n<li><strong>New Lines</strong> - uncheck\n<ul>\n<li>after closing brace initializer</li>\n<li>before closing brace initializer</li>\n</ul>\n</li>\n</ul>\n<p>This is what I get.</p>\n<pre><code>int[] a = {1,2,3,4,5,6,7};\n\nint[] b = {1,2,3,4,5,6,7,1,2,3,4,5,6,7,8,1,2,\n        3,4,5,6};\n</code></pre>\n<p><strong>Edit:</strong> Per review I just noticed that you wanted the wrapped array to have the closing brace on a new line.  I checked the export <code>xml</code> file and could not find anything like <code>insert line on wrap before closing brace on array initializer</code> or any other similar construct or pair of constructs.</p>\n<p>One possible alternative is to selectively turn formatting off and then on once the format for a particular item is set.</p>\n"}],"owner":{"account_id":8466597,"reputation":511,"user_id":6350583,"accept_rate":100,"display_name":"4javier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692540506,"creation_date":1692461238,"question_id":76936014,"body_markdown":"I setup my formatter to  \r\n**Line Wrapping → Wrapping Settings → Other Expressions → Array Initializer:**    \r\n&gt;&quot;Wrap all elements, every element on a new line&quot;  \r\n\r\nand  \r\n**New Lines:**  \r\n&gt;&quot;Before closing braces of array initializers&quot;  \r\n\r\nWhat I get is this:\r\n```java\r\n@AnnotationWithLongArray({\r\n       &quot;item&quot;,\r\n       &quot;item&quot;,\r\n       &quot;item&quot;,\r\n       &quot;item&quot;,\r\n       &quot;item&quot;,\r\n       &quot;item&quot;\r\n})\r\n```\r\nand this\r\n```java\r\n@AnnotationWithShortArray({ &quot;item&quot;, &quot;item&quot;\r\n})\r\n```\r\nFirst one is what I want, but for second case I&#39;d like the newline not being added before closing bracket, if array doesn&#39;t wrap\r\n```java\r\n@AnnotationWithShortArray({ &quot;item&quot;, &quot;item&quot; })\r\n```\r\nIs it Eclipse capable of this?","title":"Eclipse Java formatter: add newline before array closing brace ONLY if that wraps","body":"<p>I setup my formatter to<br />\n<strong>Line Wrapping → Wrapping Settings → Other Expressions → Array Initializer:</strong></p>\n<blockquote>\n<p>&quot;Wrap all elements, every element on a new line&quot;</p>\n</blockquote>\n<p>and<br />\n<strong>New Lines:</strong></p>\n<blockquote>\n<p>&quot;Before closing braces of array initializers&quot;</p>\n</blockquote>\n<p>What I get is this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AnnotationWithLongArray({\n       &quot;item&quot;,\n       &quot;item&quot;,\n       &quot;item&quot;,\n       &quot;item&quot;,\n       &quot;item&quot;,\n       &quot;item&quot;\n})\n</code></pre>\n<p>and this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AnnotationWithShortArray({ &quot;item&quot;, &quot;item&quot;\n})\n</code></pre>\n<p>First one is what I want, but for second case I'd like the newline not being added before closing bracket, if array doesn't wrap</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AnnotationWithShortArray({ &quot;item&quot;, &quot;item&quot; })\n</code></pre>\n<p>Is it Eclipse capable of this?</p>\n"},{"tags":["java","feign","resilience4j"],"comments":[{"owner":{"account_id":2012119,"reputation":485,"user_id":1800319,"display_name":"Raghvendra Garg"},"score":0,"creation_date":1695202600,"post_id":76939434,"comment_id":135991484,"body_markdown":"Check answer here https://stackoverflow.com/a/75936688/1800319, you can add a ignoreExceptionPredicate which returns true for all the exceptions you want to ignore and false for `RetryableException`.","body":"Check answer here <a href=\"https://stackoverflow.com/a/75936688/1800319\">stackoverflow.com/a/75936688/1800319</a>, you can add a ignoreExceptionPredicate which returns true for all the exceptions you want to ignore and false for <code>RetryableException</code>."}],"owner":{"account_id":4798320,"reputation":11,"user_id":3875574,"display_name":"Sandeep Arsule"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692539895,"creation_date":1692535380,"question_id":76939434,"body_markdown":"I&#39;m using Resilience4j to manage resilience patterns in my Java application, and I want to configure it to record only a specific type of exception while ignoring others. Specifically, I&#39;d like to record instances of feign.RetryableException and exclude all other exceptions from being recorded by Resilience4j.\r\n\r\nI&#39;m aware that Resilience4j has various configuration options using properties, but I couldn&#39;t find a direct way to achieve this type of exception filtering. Is there a way to configure Resilience4j to achieve this behavior using properties, or do I need to implement a custom solution for this?\r\n\r\nIf direct configuration using properties isn&#39;t available, I&#39;d appreciate any suggestions or examples on how to implement a custom wrapper or utility around Resilience4j to achieve the desired exception filtering behavior.\r\n\r\nThank you for your help!\r\n\r\n\r\nBelow config I tried which is not working for me, this also records other exceptions\r\n\r\nresilience4j.circuitbreaker.instances.FEIGN_Client_method.record-exceptions[0]=feign.RetryableException\r\n\r\n[Documentation for method recordExceptions(\r\n][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JsNOX.png","title":"How to configure Resilience4j to record only specific exceptions using properties?","body":"<p>I'm using Resilience4j to manage resilience patterns in my Java application, and I want to configure it to record only a specific type of exception while ignoring others. Specifically, I'd like to record instances of feign.RetryableException and exclude all other exceptions from being recorded by Resilience4j.</p>\n<p>I'm aware that Resilience4j has various configuration options using properties, but I couldn't find a direct way to achieve this type of exception filtering. Is there a way to configure Resilience4j to achieve this behavior using properties, or do I need to implement a custom solution for this?</p>\n<p>If direct configuration using properties isn't available, I'd appreciate any suggestions or examples on how to implement a custom wrapper or utility around Resilience4j to achieve the desired exception filtering behavior.</p>\n<p>Thank you for your help!</p>\n<p>Below config I tried which is not working for me, this also records other exceptions</p>\n<p>resilience4j.circuitbreaker.instances.FEIGN_Client_method.record-exceptions[0]=feign.RetryableException</p>\n<p><a href=\"https://i.stack.imgur.com/JsNOX.png\" rel=\"nofollow noreferrer\">Documentation for method recordExceptions(\n</a></p>\n"},{"tags":["java","spring-boot","http-post"],"answers":[{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692468972,"creation_date":1692459586,"answer_id":76935881,"question_id":76935811,"body_markdown":"As you have mentioned that the incoming request format cannot be changed, so you need to do some minor change at your end.\r\n\r\n&gt; As the incoming request is coming as an array, you need to capture it\r\n&gt; as an array request only like `@RequestBody MyRequest[] request` as well as other attributes which i have updated in the corresponding classes as shown below-\r\n\r\n**Code:**\r\n\r\n    @RequestMapping(&quot;/some/path&quot;)\r\n    public ResponseEntity&lt;SomeResponseDto&gt; myHandler(@RequestBody \r\n                                                    MyRequest[] request) {\r\n        // Do anything here with &#39;request&#39; object\r\n    return ResponseEntity.status(HttpStatus.OK.value()).body(new SomeResponseDto());\r\n    }\r\n\r\n**Change in Pojo&#39;s**\r\n\r\n    @NonArgumentConstructor\r\n    @AllArgumentsConstructor\r\n    @Setter\r\n    @Getter\r\n    class MyRequest {\r\n        private String prop1,\r\n        private FirstInnerDto[] prop2;\r\n    }\r\n    \r\n    @NonArgumentConstructor\r\n    @AllArgumentsConstructor\r\n    @Setter\r\n    @Getter\r\n    class FirstInnerDto {\r\n        private String prop2Inner1;\r\n        private SecondInnerDto[] prop2Inner2;\r\n    }\r\n    \r\n    @NonArgumentConstructor\r\n    @AllArgumentsConstructor\r\n    @Setter\r\n    @Getter\r\n    class SecondInnerDto {\r\n        private String inner3;\r\n        private String inner4;\r\n    }","title":"Spring boot handle sophisticated post request","body":"<p>As you have mentioned that the incoming request format cannot be changed, so you need to do some minor change at your end.</p>\n<blockquote>\n<p>As the incoming request is coming as an array, you need to capture it\nas an array request only like <code>@RequestBody MyRequest[] request</code> as well as other attributes which i have updated in the corresponding classes as shown below-</p>\n</blockquote>\n<p><strong>Code:</strong></p>\n<pre><code>@RequestMapping(&quot;/some/path&quot;)\npublic ResponseEntity&lt;SomeResponseDto&gt; myHandler(@RequestBody \n                                                MyRequest[] request) {\n    // Do anything here with 'request' object\nreturn ResponseEntity.status(HttpStatus.OK.value()).body(new SomeResponseDto());\n}\n</code></pre>\n<p><strong>Change in Pojo's</strong></p>\n<pre><code>@NonArgumentConstructor\n@AllArgumentsConstructor\n@Setter\n@Getter\nclass MyRequest {\n    private String prop1,\n    private FirstInnerDto[] prop2;\n}\n\n@NonArgumentConstructor\n@AllArgumentsConstructor\n@Setter\n@Getter\nclass FirstInnerDto {\n    private String prop2Inner1;\n    private SecondInnerDto[] prop2Inner2;\n}\n\n@NonArgumentConstructor\n@AllArgumentsConstructor\n@Setter\n@Getter\nclass SecondInnerDto {\n    private String inner3;\n    private String inner4;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29203673,"reputation":1,"user_id":22373223,"display_name":"Girish Chandra Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692469078,"creation_date":1692469024,"answer_id":76936492,"question_id":76935811,"body_markdown":"can you change your content type from default application/json to application/x-www-form-urlencoded?\r\n\r\nhttps://www.baeldung.com/spring-url-encoded-form-data#:~:text=FormHttpMessageConverter%20Basics,it%20with%20the%20method%20parameter.","title":"Spring boot handle sophisticated post request","body":"<p>can you change your content type from default application/json to application/x-www-form-urlencoded?</p>\n<p><a href=\"https://www.baeldung.com/spring-url-encoded-form-data#:%7E:text=FormHttpMessageConverter%20Basics,it%20with%20the%20method%20parameter\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-url-encoded-form-data#:~:text=FormHttpMessageConverter%20Basics,it%20with%20the%20method%20parameter</a>.</p>\n"},{"tags":[],"owner":{"account_id":7528596,"reputation":126,"user_id":5717731,"accept_rate":62,"display_name":"Александр Родригес"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692539811,"creation_date":1692539811,"answer_id":76939728,"question_id":76935811,"body_markdown":"So, changing pojos and controller as GD07 said (no lombok annotations; add @RequestBody) and\r\nadding **consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE}**\r\nto @RequestMapping annotation (as Girish Chandra Mishra) suggested, ended with such error:\r\n```\r\nUnsupported Media Type. Content-Type &#39;application/x-www-form-urlencoded;charset=UTF-8\r\n```\r\n\r\nDebugging the error found out that the message converter handling the request is FormHttpMessageConverter, and it\r\ncan work only with MultiValueMap. So had to change controller code to this:\r\n\r\n```\r\n@RequestMapping(\r\n    path=&quot;/some/path&quot;,\r\n    consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE}\r\n)\r\npublic ResponseEntity&lt;String&gt; myHandler(@RequestBody MultiValueMap req) {\r\n    // Do anything here with &#39;req&#39; object\r\n\r\n    return ResponseEntity.status(HttpStatus.OK.value()).body(req.toString());\r\n}\r\n```\r\n\r\nNow it works without errors. But i still need to map this **MultiValueMap req** to my DTO&#39;s.\r\nSo it seems that the only wright way is to write my own converter,\r\nas outlined in this answer: https://stackoverflow.com/a/51160620\r\n\r\nAny other suggestions are welcome.\r\n\r\n","title":"Spring boot handle sophisticated post request","body":"<p>So, changing pojos and controller as GD07 said (no lombok annotations; add @RequestBody) and\nadding <strong>consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE}</strong>\nto @RequestMapping annotation (as Girish Chandra Mishra) suggested, ended with such error:</p>\n<pre><code>Unsupported Media Type. Content-Type 'application/x-www-form-urlencoded;charset=UTF-8\n</code></pre>\n<p>Debugging the error found out that the message converter handling the request is FormHttpMessageConverter, and it\ncan work only with MultiValueMap. So had to change controller code to this:</p>\n<pre><code>@RequestMapping(\n    path=&quot;/some/path&quot;,\n    consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE}\n)\npublic ResponseEntity&lt;String&gt; myHandler(@RequestBody MultiValueMap req) {\n    // Do anything here with 'req' object\n\n    return ResponseEntity.status(HttpStatus.OK.value()).body(req.toString());\n}\n</code></pre>\n<p>Now it works without errors. But i still need to map this <strong>MultiValueMap req</strong> to my DTO's.\nSo it seems that the only wright way is to write my own converter,\nas outlined in this answer: <a href=\"https://stackoverflow.com/a/51160620\">https://stackoverflow.com/a/51160620</a></p>\n<p>Any other suggestions are welcome.</p>\n"}],"owner":{"account_id":7528596,"reputation":126,"user_id":5717731,"accept_rate":62,"display_name":"Александр Родригес"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1692539811,"creation_date":1692458368,"question_id":76935811,"body_markdown":"There is an incoming post request like this:\r\n```\r\ncurl --location --request POST &#39;http://example.com/some/path&#39; \\\r\n--header &#39;Content-Type: application/x-www-form-urlencoded&#39; \\\r\n--data-urlencode &#39;prop1=prop1Value&#39; \\\r\n--data-urlencode &#39;prop2[prop2Inner1]=prop2Inner1Value&#39; \\\r\n--data-urlencode &#39;prop2[prop2Inner2][inner3]=inner3Value&#39; \\\r\n--data-urlencode &#39;prop2[prop2Inner2][inner4]=inner4Value&#39;\r\n```\r\n\r\nIn an php script i would get the post request data in an associative array like this automatically:\r\n```\r\n[\r\n    &#39;prop1&#39; =&gt; &#39;prop1Value&#39;,\r\n    &#39;prop2&#39; =&gt; [\r\n        &#39;prop2Inner1&#39; =&gt; &#39;prop2Inner1Value&#39;,\r\n        &#39;prop2Inner2&#39; =&gt; [\r\n            &#39;inner3&#39; =&gt; &#39;inner3Value&#39;,\r\n            &#39;inner4&#39; =&gt; &#39;inner4Value&#39;,\r\n        ]\r\n    ]\r\n]\r\n```\r\n\r\nNow im trying to handle this request in java. I **can not** change the incoming post request format. I thought that i can make a couple of Classes like this\r\n```\r\n@NonArgumentConstructor\r\n@AllArgumentsConstructor\r\n@Setter\r\n@Getter\r\nclass MyRequest {\r\n    private String prop1,\r\n    private FirstInnerDto prop2;\r\n}\r\n\r\n@NonArgumentConstructor\r\n@AllArgumentsConstructor\r\n@Setter\r\n@Getter\r\nclass FirstInnerDto {\r\n    private String prop2Inner1;\r\n    private SecondInnerDto prop2Inner2;\r\n}\r\n\r\n@NonArgumentConstructor\r\n@AllArgumentsConstructor\r\n@Setter\r\n@Getter\r\nclass SecondInnerDto {\r\n    private String inner3;\r\n    private String inner4;\r\n}\r\n```\r\nAnd than in the controller do something like this, and get an object of class &#39;MyRequest&#39; filled with request data:\r\n```\r\n@RequestMapping(&quot;/some/path&quot;)\r\npublic ResponseEntity&lt;SomeResponseDto&gt; myHandler(@ModelAttribute MyRequest request) {\r\n    // Do anything here with &#39;request&#39; object\r\n\r\n    return ResponseEntity.status(HttpStatus.OK.value()).body(new SomeResponseDto());\r\n}\r\n```\r\nbut i&#39;m getting this error:\r\n```\r\n&quot;Invalid property &#39;prop2[prop2Inner1]&#39; of \r\nbean class [com.testapp.java.myapp.Model.Dto.Request.MyRequest]: \r\nProperty referenced in indexed property path &#39;prop2[prop2Inner1]&#39; is neither an array \r\nnor a List nor a Map; \r\nreturned value was [FirstInnerDto{prop2Inner1=&#39;null&#39;, prop2Inner2=&#39;null&#39;}]&quot;\r\n```\r\nCan anyone tell me what is the right way to handle such requests in spring boot?\r\n","title":"Spring boot handle sophisticated post request","body":"<p>There is an incoming post request like this:</p>\n<pre><code>curl --location --request POST 'http://example.com/some/path' \\\n--header 'Content-Type: application/x-www-form-urlencoded' \\\n--data-urlencode 'prop1=prop1Value' \\\n--data-urlencode 'prop2[prop2Inner1]=prop2Inner1Value' \\\n--data-urlencode 'prop2[prop2Inner2][inner3]=inner3Value' \\\n--data-urlencode 'prop2[prop2Inner2][inner4]=inner4Value'\n</code></pre>\n<p>In an php script i would get the post request data in an associative array like this automatically:</p>\n<pre><code>[\n    'prop1' =&gt; 'prop1Value',\n    'prop2' =&gt; [\n        'prop2Inner1' =&gt; 'prop2Inner1Value',\n        'prop2Inner2' =&gt; [\n            'inner3' =&gt; 'inner3Value',\n            'inner4' =&gt; 'inner4Value',\n        ]\n    ]\n]\n</code></pre>\n<p>Now im trying to handle this request in java. I <strong>can not</strong> change the incoming post request format. I thought that i can make a couple of Classes like this</p>\n<pre><code>@NonArgumentConstructor\n@AllArgumentsConstructor\n@Setter\n@Getter\nclass MyRequest {\n    private String prop1,\n    private FirstInnerDto prop2;\n}\n\n@NonArgumentConstructor\n@AllArgumentsConstructor\n@Setter\n@Getter\nclass FirstInnerDto {\n    private String prop2Inner1;\n    private SecondInnerDto prop2Inner2;\n}\n\n@NonArgumentConstructor\n@AllArgumentsConstructor\n@Setter\n@Getter\nclass SecondInnerDto {\n    private String inner3;\n    private String inner4;\n}\n</code></pre>\n<p>And than in the controller do something like this, and get an object of class 'MyRequest' filled with request data:</p>\n<pre><code>@RequestMapping(&quot;/some/path&quot;)\npublic ResponseEntity&lt;SomeResponseDto&gt; myHandler(@ModelAttribute MyRequest request) {\n    // Do anything here with 'request' object\n\n    return ResponseEntity.status(HttpStatus.OK.value()).body(new SomeResponseDto());\n}\n</code></pre>\n<p>but i'm getting this error:</p>\n<pre><code>&quot;Invalid property 'prop2[prop2Inner1]' of \nbean class [com.testapp.java.myapp.Model.Dto.Request.MyRequest]: \nProperty referenced in indexed property path 'prop2[prop2Inner1]' is neither an array \nnor a List nor a Map; \nreturned value was [FirstInnerDto{prop2Inner1='null', prop2Inner2='null'}]&quot;\n</code></pre>\n<p>Can anyone tell me what is the right way to handle such requests in spring boot?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":34468,"reputation":4189,"user_id":97464,"accept_rate":70,"display_name":"Jase Whatson"},"score":0,"creation_date":1376278147,"post_id":15656953,"comment_id":26636082,"body_markdown":"Thanks, I had the same problem but like you say adding a call to setHasOptionsMenu(true) in the fragments onCreate fixed it.","body":"Thanks, I had the same problem but like you say adding a call to setHasOptionsMenu(true) in the fragments onCreate fixed it."}],"answers":[{"tags":[],"owner":{"account_id":1493677,"reputation":1198,"user_id":1400119,"accept_rate":70,"display_name":"trickster77777"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1376112685,"creation_date":1376112685,"answer_id":18158967,"question_id":15656953,"body_markdown":"On Android 3.0 and higher, the options menu is considered to always be open when menu items are presented in the action bar. When an event occurs and you want to perform a menu update, you must call invalidateOptionsMenu() to request that the system call onPrepareOptionsMenu().\r\n\r\nhttp://developer.android.com/guide/topics/ui/menus.html\r\n\r\nTo change particular item use: `menu.findItem(R.id.your_item_id)`","title":"onPrepareOptionsMenu not getting called in Fragments","body":"<p>On Android 3.0 and higher, the options menu is considered to always be open when menu items are presented in the action bar. When an event occurs and you want to perform a menu update, you must call invalidateOptionsMenu() to request that the system call onPrepareOptionsMenu().</p>\n\n<p><a href=\"http://developer.android.com/guide/topics/ui/menus.html\">http://developer.android.com/guide/topics/ui/menus.html</a></p>\n\n<p>To change particular item use: <code>menu.findItem(R.id.your_item_id)</code></p>\n"},{"tags":[],"owner":{"account_id":5946992,"reputation":1433,"user_id":4676223,"accept_rate":100,"display_name":"Carlos Borau"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1435221703,"creation_date":1435221703,"answer_id":31045311,"question_id":15656953,"body_markdown":"Probably too late, but I had same problem and the solution was really simple.\r\nJust call getActivity().invalidateOptionsMenu() from your fragment. \r\nThis will call onPrepareOptionsMenu and here you can control the visibility of your items like this:\r\nmenu.findItem(R.id.youritem).setVisible(true/false);\r\nHope that helps!","title":"onPrepareOptionsMenu not getting called in Fragments","body":"<p>Probably too late, but I had same problem and the solution was really simple.\nJust call getActivity().invalidateOptionsMenu() from your fragment. \nThis will call onPrepareOptionsMenu and here you can control the visibility of your items like this:\nmenu.findItem(R.id.youritem).setVisible(true/false);\nHope that helps!</p>\n"},{"tags":[],"owner":{"account_id":8581670,"reputation":49,"user_id":6429062,"display_name":"Dipti Agravat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466418628,"creation_date":1466414459,"answer_id":37918813,"question_id":15656953,"body_markdown":"This works for me.\r\n\r\n    public class ContentFragment extends android.support.v4.app.Fragment {\r\n        @Nullable\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n            View v = inflater.inflate(R.layout.content_frame,container,false);\r\n            setHasOptionsMenu(true);\r\n            return v;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\r\n            inflater.inflate(R.menu.note_menu,menu);\r\n            super.onCreateOptionsMenu(menu, inflater);\r\n        }\r\n    }\r\n\r\n","title":"onPrepareOptionsMenu not getting called in Fragments","body":"<p>This works for me.</p>\n\n<pre><code>public class ContentFragment extends android.support.v4.app.Fragment {\n    @Nullable\n    @Override\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View v = inflater.inflate(R.layout.content_frame,container,false);\n        setHasOptionsMenu(true);\n        return v;\n    }\n\n    @Override\n    public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\n        inflater.inflate(R.menu.note_menu,menu);\n        super.onCreateOptionsMenu(menu, inflater);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5653183,"reputation":956,"user_id":4473087,"display_name":"SanRam"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1471850031,"creation_date":1471850031,"answer_id":39073334,"question_id":15656953,"body_markdown":"You need to do two things.\r\nStep 1: In Fragment OnCreateView add setHasOptionsMenu(true);\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        setHasOptionsMenu(true);\r\n        return inflater.inflate(R.layout.fragment_user_settings, container, false);\r\n    }\r\n\r\nStep 2: you need to add getActivity().invalidateOptionsMenu(); in your fragment in OnViewCreated. Or in mainActivity when you change the Fragment.\r\n\r\n","title":"onPrepareOptionsMenu not getting called in Fragments","body":"<p>You need to do two things.\nStep 1: In Fragment OnCreateView add setHasOptionsMenu(true);</p>\n\n<pre><code>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n    setHasOptionsMenu(true);\n    return inflater.inflate(R.layout.fragment_user_settings, container, false);\n}\n</code></pre>\n\n<p>Step 2: you need to add getActivity().invalidateOptionsMenu(); in your fragment in OnViewCreated. Or in mainActivity when you change the Fragment.</p>\n"},{"tags":[],"owner":{"account_id":20907116,"reputation":1,"user_id":15358774,"display_name":"Henri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623925909,"creation_date":1623925909,"answer_id":68017576,"question_id":15656953,"body_markdown":"&gt; You must inform the system that your app bar fragment is participating in the population of the options menu. To do this, **call setHasOptionsMenu(true) in your fragment&#39;s onCreate(Bundle)** method\r\n\r\nref. https://developer.android.com/guide/fragments/appbar#activity-register\r\n","title":"onPrepareOptionsMenu not getting called in Fragments","body":"<blockquote>\n<p>You must inform the system that your app bar fragment is participating in the population of the options menu. To do this, <strong>call setHasOptionsMenu(true) in your fragment's onCreate(Bundle)</strong> method</p>\n</blockquote>\n<p>ref. <a href=\"https://developer.android.com/guide/fragments/appbar#activity-register\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/fragments/appbar#activity-register</a></p>\n"}],"owner":{"account_id":34829,"reputation":23264,"user_id":98514,"accept_rate":76,"display_name":"Kevin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17917,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":5,"score":25,"last_activity_date":1692539106,"creation_date":1364381102,"question_id":15656953,"body_markdown":"    @Override\r\n    public void onCreateOptionsMenu(Menu menu,MenuInflater inflater){\r\n        Log.d(&quot;Does&quot;, &quot;get called&quot;);\r\n        inflater.inflate(R.menu.menuItem, menu);\r\n        super.onCreateOptionsMenu(menu,inflater);\r\n    }\r\n    \t\r\n    @Override\r\n    public void onPrepareOptionsMenu(Menu menu) {\r\n        super.onPrepareOptionsMenu(menu);\r\n        getActivity().invalidateOptionsMenu();\r\n        MenuItem filter = menu.findItem(R.id.section);\r\n        filter.setVisible(false);    \r\n    }\r\n\r\nI am trying to load my menu in fragments and it&#39;s getting loaded, but the `onPrepareOptionsMenu` is not getting called at all, where I need to hide some menu-items.\r\n\r\n**Update:**\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n\t    super.onCreate(savedInstanceState);\r\n\t    setHasOptionsMenu(true);\r\n\t}\r\n\r\nI am calling `setHasOptionsMenu(true)` inside my `onCreate()` method.","title":"onPrepareOptionsMenu not getting called in Fragments","body":"<pre><code>@Override\npublic void onCreateOptionsMenu(Menu menu,MenuInflater inflater){\n    Log.d(&quot;Does&quot;, &quot;get called&quot;);\n    inflater.inflate(R.menu.menuItem, menu);\n    super.onCreateOptionsMenu(menu,inflater);\n}\n    \n@Override\npublic void onPrepareOptionsMenu(Menu menu) {\n    super.onPrepareOptionsMenu(menu);\n    getActivity().invalidateOptionsMenu();\n    MenuItem filter = menu.findItem(R.id.section);\n    filter.setVisible(false);    \n}\n</code></pre>\n<p>I am trying to load my menu in fragments and it's getting loaded, but the <code>onPrepareOptionsMenu</code> is not getting called at all, where I need to hide some menu-items.</p>\n<p><strong>Update:</strong></p>\n<pre><code>@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setHasOptionsMenu(true);\n}\n</code></pre>\n<p>I am calling <code>setHasOptionsMenu(true)</code> inside my <code>onCreate()</code> method.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":67484,"reputation":20119,"user_id":197473,"accept_rate":61,"display_name":"Vishal"},"score":0,"creation_date":1319396117,"post_id":7868335,"comment_id":9599301,"body_markdown":"Look at this post http://stackoverflow.com/questions/3187899/order-of-spring-bean-initialization/3194837#3194837","body":"Look at this post <a href=\"http://stackoverflow.com/questions/3187899/order-of-spring-bean-initialization/3194837#3194837\" title=\"order of spring bean initialization\">stackoverflow.com/questions/3187899/&hellip;</a>"},{"owner":{"account_id":5100,"reputation":29377,"user_id":8026,"accept_rate":63,"display_name":"MetroidFan2002"},"score":0,"creation_date":1319416530,"post_id":7868335,"comment_id":9602286,"body_markdown":"You may want to include log4j.properties anyways, at least for Spring startup - until Spring has initialized your logging bean, it will use whatever the defaults are for its internal logging, and typically, if you&#39;re using Log4J, that will be the log4j.properties file defined on the classpath.  This file doesn&#39;t have to be very complex - typically it can simply output to the console because if the app successfully starts up, the meaningful logging will be through your custom bean.","body":"You may want to include log4j.properties anyways, at least for Spring startup - until Spring has initialized your logging bean, it will use whatever the defaults are for its internal logging, and typically, if you&#39;re using Log4J, that will be the log4j.properties file defined on the classpath.  This file doesn&#39;t have to be very complex - typically it can simply output to the console because if the app successfully starts up, the meaningful logging will be through your custom bean."}],"answers":[{"tags":[],"owner":{"account_id":261786,"reputation":13726,"user_id":546205,"accept_rate":60,"display_name":"Miguel Prz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1319396225,"creation_date":1319396225,"answer_id":7868390,"question_id":7868335,"body_markdown":"This is a feature requested but not resolved. You can use depends-on but is too verbose. Follow tis link for more information:\r\n[https://jira.springsource.org/browse/SPR-3948][1]\r\n\r\n\r\n  [1]: https://jira.springsource.org/browse/SPR-3948","title":"Spring: Make sure a particular bean gets initialized first","body":"<p>This is a feature requested but not resolved. You can use depends-on but is too verbose. Follow tis link for more information:\n<a href=\"https://jira.springsource.org/browse/SPR-3948\" rel=\"nofollow\">https://jira.springsource.org/browse/SPR-3948</a></p>\n"},{"tags":[],"owner":{"account_id":18250,"reputation":39302,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"down_vote_count":0,"up_vote_count":57,"is_accepted":true,"score":57,"last_activity_date":1519776323,"creation_date":1319396527,"answer_id":7868418,"question_id":7868335,"body_markdown":"Your options are:\r\n\r\n 1. Use [`@DependsOn`](https://docs.spring.io/spring/docs/3.0.x/reference/beans.html#beans-factory-dependson) annotation(available after spring 3.0.x) or [`depends-on`][1] xml-attribute and make all classes that use the configured loggers depend on the logger factory\r\n 2. Make the factory an actual factory for loggers, and inject the loggers into the beans instead of calling the factory directly – this is essentially the same as option 1, except the dependency is implied. This is the option I&#39;d recommend.\r\n 3. Move the initialisation code to a part of your code where call order is specified – the `main()` method, or a `ServletContextListener` registered before the one that initializes Spring.\r\n\r\nThere is no way to explicitly define initialisation order in Spring and likely never will be – there&#39;s no way to define useful semantics for it considering you can load many application context configuration files which might have conflicting orderings. I&#39;ve yet to see a case where the desired ordering couldn&#39;t be achieved by refactoring your code to better conform to the dependency injection pattern.\r\n\r\n  [1]: http://static.springsource.org/spring/docs/2.0.x/reference/beans.html#beans-factory-dependson","title":"Spring: Make sure a particular bean gets initialized first","body":"<p>Your options are:</p>\n\n<ol>\n<li>Use <a href=\"https://docs.spring.io/spring/docs/3.0.x/reference/beans.html#beans-factory-dependson\" rel=\"noreferrer\"><code>@DependsOn</code></a> annotation(available after spring 3.0.x) or <a href=\"http://static.springsource.org/spring/docs/2.0.x/reference/beans.html#beans-factory-dependson\" rel=\"noreferrer\"><code>depends-on</code></a> xml-attribute and make all classes that use the configured loggers depend on the logger factory</li>\n<li>Make the factory an actual factory for loggers, and inject the loggers into the beans instead of calling the factory directly – this is essentially the same as option 1, except the dependency is implied. This is the option I'd recommend.</li>\n<li>Move the initialisation code to a part of your code where call order is specified – the <code>main()</code> method, or a <code>ServletContextListener</code> registered before the one that initializes Spring.</li>\n</ol>\n\n<p>There is no way to explicitly define initialisation order in Spring and likely never will be – there's no way to define useful semantics for it considering you can load many application context configuration files which might have conflicting orderings. I've yet to see a case where the desired ordering couldn't be achieved by refactoring your code to better conform to the dependency injection pattern.</p>\n"},{"tags":[],"owner":{"account_id":1546528,"reputation":2209,"user_id":1439964,"accept_rate":64,"display_name":"blacelle"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1587975726,"creation_date":1393572962,"answer_id":22089047,"question_id":7868335,"body_markdown":"You can @Autowired an @Configuration in the main @Configuration\r\n\r\n    @Configuration\r\n    @Import(BusinessConfig.class, EarlyBeans.class)\r\n    public class MainConfiguration {\r\n\r\n        // The bean defined in EarlyBean will be loaded before \r\n        // most beans references by MainConfiguration, \r\n        // including those coming from BusinessConfig\r\n\t    @Autowired\r\n\t    EarlyBeans earlyBeans;\r\n    \r\n    }\r\n\r\n    @Configuration\r\n    public class EarlyBeans {\r\n\t\t@Bean\r\n\t\tpublic Void earlyBean(ApplicationContext appContext) {\r\n\t\t\t// .getBeansOfType allows to call for beans which might not exist\r\n\t\t\tappContext.getBeansOfType(TechnicalBean.class);\r\n\t\t\t\r\n\t\t\treturn null;\r\n\t\t}\r\n    \r\n    }","title":"Spring: Make sure a particular bean gets initialized first","body":"<p>You can @Autowired an @Configuration in the main @Configuration</p>\n\n<pre><code>@Configuration\n@Import(BusinessConfig.class, EarlyBeans.class)\npublic class MainConfiguration {\n\n    // The bean defined in EarlyBean will be loaded before \n    // most beans references by MainConfiguration, \n    // including those coming from BusinessConfig\n    @Autowired\n    EarlyBeans earlyBeans;\n\n}\n\n@Configuration\npublic class EarlyBeans {\n    @Bean\n    public Void earlyBean(ApplicationContext appContext) {\n        // .getBeansOfType allows to call for beans which might not exist\n        appContext.getBeansOfType(TechnicalBean.class);\n\n        return null;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7970541,"reputation":415,"user_id":6015419,"accept_rate":75,"display_name":"Hari M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457038855,"creation_date":1457038855,"answer_id":35782939,"question_id":7868335,"body_markdown":"You can split your application context as multiple and use import in main application context. You can put the main environment settings first in the order of import and then continue adding other files.\r\n\r\nIt could be like below.\r\n\r\n    &lt;!-- Import environment properties settings. --&gt;\r\n    &lt;import resource=&quot;Spring-Env.xml&quot;/&gt;\r\n    &lt;!-- Import All the other Application contexts. --&gt;\r\n    &lt;import resource=&quot;Spring-MainApplicationContext.xml&quot;/&gt;","title":"Spring: Make sure a particular bean gets initialized first","body":"<p>You can split your application context as multiple and use import in main application context. You can put the main environment settings first in the order of import and then continue adding other files.</p>\n\n<p>It could be like below.</p>\n\n<pre><code>&lt;!-- Import environment properties settings. --&gt;\n&lt;import resource=\"Spring-Env.xml\"/&gt;\n&lt;!-- Import All the other Application contexts. --&gt;\n&lt;import resource=\"Spring-MainApplicationContext.xml\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15022068,"reputation":49,"user_id":10843233,"display_name":"Reza Gholamzad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692538940,"creation_date":1692538940,"answer_id":76939657,"question_id":7868335,"body_markdown":"in addition to the mentioned points, you can use SpringApplicationRunListener interface for config different application life cycles.\r\nyou can config ConfigurableBootstrapContext in starting, environmentPrepared phases furthermore you can config ConfigurableApplicationContext in contextPrepared, contextLoaded, started, ready, failed phases.\r\n\r\nfor your case:\r\n\r\n\t\r\n\r\n&gt; Called once the ApplicationContext has been created\r\n&gt; and prepared, but before sources have been loaded.\r\n&gt; \r\n&gt; default void contextPrepared(ConfigurableApplicationContext context) {\r\n&gt; \t}\r\n\r\n            public class AppConfiguration implements SpringApplicationRunListener {\r\n        \r\n            public void contextPrepared(ConfigurableApplicationContext context) {\r\n                var provider = new ClassPathScanningCandidateComponentProvider(false) {\r\n                    @Override\r\n                    protected boolean isCandidateComponent(AnnotatedBeanDefinition beanDefinition) {\r\n                        return super.isCandidateComponent(beanDefinition) || beanDefinition.getMetadata().isAbstract();\r\n                    }\r\n                };\r\n                // you are gonna find specific class such as the classes marked by Qualifier\r\n                provider.addIncludeFilter(new AnnotationTypeFilter(Qualifier.class, true, true));\r\n        \r\n                final Set&lt;BeanDefinition&gt; classes = provider.findCandidateComponents(&quot;com.tosan&quot;);\r\n                classes.forEach(beanDefinition -&gt; {\r\n                    try {\r\n                        //add bean to context\r\n    context.getBeanFactory().registerSingleton(Objects.requireNonNull(beanDefinition.getBeanClassName()), new YourBeens());\r\n                    } catch (ClassNotFoundException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n&gt; Don&#39;t forget to put the listener in\r\n&gt; src/main/resources/META-INF/spring.factories like below otherwise the\r\n&gt; listener will not run.\r\n\r\n    org.springframework.boot.SpringApplicationRunListener=com.example.AppConfiguration\r\n\r\n","title":"Spring: Make sure a particular bean gets initialized first","body":"<p>in addition to the mentioned points, you can use SpringApplicationRunListener interface for config different application life cycles.\nyou can config ConfigurableBootstrapContext in starting, environmentPrepared phases furthermore you can config ConfigurableApplicationContext in contextPrepared, contextLoaded, started, ready, failed phases.</p>\n<p>for your case:</p>\n<blockquote>\n<p>Called once the ApplicationContext has been created\nand prepared, but before sources have been loaded.</p>\n<p>default void contextPrepared(ConfigurableApplicationContext context) {\n}</p>\n</blockquote>\n<pre><code>        public class AppConfiguration implements SpringApplicationRunListener {\n    \n        public void contextPrepared(ConfigurableApplicationContext context) {\n            var provider = new ClassPathScanningCandidateComponentProvider(false) {\n                @Override\n                protected boolean isCandidateComponent(AnnotatedBeanDefinition beanDefinition) {\n                    return super.isCandidateComponent(beanDefinition) || beanDefinition.getMetadata().isAbstract();\n                }\n            };\n            // you are gonna find specific class such as the classes marked by Qualifier\n            provider.addIncludeFilter(new AnnotationTypeFilter(Qualifier.class, true, true));\n    \n            final Set&lt;BeanDefinition&gt; classes = provider.findCandidateComponents(&quot;com.tosan&quot;);\n            classes.forEach(beanDefinition -&gt; {\n                try {\n                    //add bean to context\ncontext.getBeanFactory().registerSingleton(Objects.requireNonNull(beanDefinition.getBeanClassName()), new YourBeens());\n                } catch (ClassNotFoundException e) {\n                    throw new RuntimeException(e);\n                }\n            });\n        }\n    }\n</code></pre>\n<blockquote>\n<p>Don't forget to put the listener in\nsrc/main/resources/META-INF/spring.factories like below otherwise the\nlistener will not run.</p>\n</blockquote>\n<pre><code>org.springframework.boot.SpringApplicationRunListener=com.example.AppConfiguration\n</code></pre>\n"}],"owner":{"account_id":315998,"reputation":3731,"user_id":631937,"accept_rate":45,"display_name":"Prasanna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135168,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"accepted_answer_id":7868418,"answer_count":5,"score":73,"last_activity_date":1692538940,"creation_date":1319395789,"question_id":7868335,"body_markdown":"I have a library doing runtime setup and configuration of log4j (no log4j.properties or log4j.xml). I have defined a bean with class called MyLoggerFactory and I want this to be the first bean to be initialised using spring. I have seen that an issue has already been filed with spring to have support for order of initialisation but I was wondering whether there was a way to mark a bean as the first bean to be initialised by spring container?\r\n","title":"Spring: Make sure a particular bean gets initialized first","body":"<p>I have a library doing runtime setup and configuration of log4j (no log4j.properties or log4j.xml). I have defined a bean with class called MyLoggerFactory and I want this to be the first bean to be initialised using spring. I have seen that an issue has already been filed with spring to have support for order of initialisation but I was wondering whether there was a way to mark a bean as the first bean to be initialised by spring container?</p>\n"},{"tags":["java","gradle"],"owner":{"account_id":26559516,"reputation":1,"user_id":20187567,"display_name":"ladno"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692538899,"creation_date":1692478665,"question_id":76936996,"body_markdown":"IllegalArgumentException occurs when I create an instance of ClassNode. If you decompile ClassNode, I can see that there is no ASM9 in Opcodes\r\n\r\n![ClassNode code][1]\r\n\r\nIf I go to Opcodes and click download sources, it will be written that no sources were found for jdb-server:\r\n\r\n![Sources not found warning][2]\r\n\r\nI connect them via gradle, they don&#39;t use ASM:\r\n```groovy\r\ndependencies {\r\n    implementation files(&#39;build/libraries/jdb-agent.jar&#39;)\r\n    implementation files(&#39;build/libraries/jdb-server.jar&#39;)\r\n}\r\n```\r\n\r\nIf I remove this, there will be no error, but I need local libraries\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Lrc84.png\r\n  [2]: https://i.stack.imgur.com/tEFcp.png","title":"ASM is loading incorrectly due to local Gradle libraries","body":"<p>IllegalArgumentException occurs when I create an instance of ClassNode. If you decompile ClassNode, I can see that there is no ASM9 in Opcodes</p>\n<p><img src=\"https://i.stack.imgur.com/Lrc84.png\" alt=\"ClassNode code\" /></p>\n<p>If I go to Opcodes and click download sources, it will be written that no sources were found for jdb-server:</p>\n<p><img src=\"https://i.stack.imgur.com/tEFcp.png\" alt=\"Sources not found warning\" /></p>\n<p>I connect them via gradle, they don't use ASM:</p>\n<pre><code>dependencies {\n    implementation files('build/libraries/jdb-agent.jar')\n    implementation files('build/libraries/jdb-server.jar')\n}\n</code></pre>\n<p>If I remove this, there will be no error, but I need local libraries</p>\n"},{"tags":["java","inheritance","javafx"],"comments":[{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1692485505,"post_id":76937317,"comment_id":135630195,"body_markdown":"What you have will work if your main program creates a `TestController` instance as the main window, not `TestGUI`.  Either than or skip the inheritance and have your `TestGUI` create an instance of `TestController`, and just forward the callback along.","body":"What you have will work if your main program creates a <code>TestController</code> instance as the main window, not <code>TestGUI</code>.  Either than or skip the inheritance and have your <code>TestGUI</code> create an instance of <code>TestController</code>, and just forward the callback along."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1692485564,"post_id":76937317,"comment_id":135630202,"body_markdown":"Note it does not make sense for `TestController` to extend `TestGUI`. The latter class is your application class and represents the application itself and its lifecycle. It is not a controller. Plus, in a typical setup, JavaFX will instantiate the application class for you, which is `TestGUI` in this case. As far as I can tell, nothing here will result in `TestController` being instantiated.","body":"Note it does not make sense for <code>TestController</code> to extend <code>TestGUI</code>. The latter class is your application class and represents the application itself and its lifecycle. It is not a controller. Plus, in a typical setup, JavaFX will instantiate the application class for you, which is <code>TestGUI</code> in this case. As far as I can tell, nothing here will result in <code>TestController</code> being instantiated."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1692498405,"post_id":76937317,"comment_id":135630965,"body_markdown":"It sounds like you have some significant misunderstandings about inheritance, though there’s not enough information here to understand what those misunderstandings really are. MVC and inheritance are pretty much orthogonal concepts: they don’t have anything to do with each other (though both ideas could occur in place in the same application).","body":"It sounds like you have some significant misunderstandings about inheritance, though there’s not enough information here to understand what those misunderstandings really are. MVC and inheritance are pretty much orthogonal concepts: they don’t have anything to do with each other (though both ideas could occur in place in the same application)."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1692579499,"post_id":76937317,"comment_id":135638286,"body_markdown":"There are numerous books, courses and online resources available on topics such as object-oriented development, inheritance, Java, JavaFX, design patterns, and the model view controller pattern subset. Treating the topics separately and sometimes combined.  I won’t recommend resources in this instance as it is off-topic.  I recommend you do some research  and find quality resources and tutorials on the mentioned topics,  doing lots of exercise and practice before continuing with your current course.","body":"There are numerous books, courses and online resources available on topics such as object-oriented development, inheritance, Java, JavaFX, design patterns, and the model view controller pattern subset. Treating the topics separately and sometimes combined.  I won’t recommend resources in this instance as it is off-topic.  I recommend you do some research  and find quality resources and tutorials on the mentioned topics,  doing lots of exercise and practice before continuing with your current course."}],"owner":{"account_id":26649930,"reputation":1,"user_id":20264382,"display_name":"Fred Tucker"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692538820,"creation_date":1692485257,"question_id":76937317,"body_markdown":"I just finished my second java class and I&#39;m trying to make my own program utilizing MVC.  I am trying to put all my code for my events in a separate class other than the GUI class.  But I can&#39;t get it to work right. If I put the code in the `doAction()` in the GUI class it works fine, but when I try to override it won&#39;t work.  \r\n\r\nI feel like maybe I need to instantiate an object but of type `TestController` but I can&#39;t seem to get that to work right either.\r\n\r\nI am trying to use a class for a controller.\r\n\r\nThe first code is snippets from the GUI. I think my problem is: \r\n\r\n    fileNewConnection.setOnAction(this::doAction)\r\n\r\n**TestGUI**\r\n\r\n    package testNinja;\r\n\r\n    import javafx.application.Application;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.scene.control.Menu;\r\n    import javafx.scene.control.MenuBar;\r\n    import javafx.scene.control.MenuItem;\r\n    import javafx.scene.control.TextArea;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    import javafx.scene.Scene;\r\n\r\n    public class TestGUI extends Application {\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }  //  end main\r\n\r\n    public Stage window;\r\n    public Menu fileMenu;\r\n    public MenuItem fileNewConnection;\r\n    public MenuBar menuBar;\r\n     \r\n    public void start(Stage stage) {\r\n        window = stage;\r\n        fileMenu = new Menu(&quot;File&quot;);\r\n        fileNewConnection = new MenuItem(&quot;New Connection&quot;);\r\n        fileMenu.getItems().add(fileNewConnection);\r\n        fileNewConnection.setOnAction(this::doAction);\r\n        menuBar = new MenuBar();\r\n        menuBar.getMenus().add(fileMenu);\r\n\r\n        VBox topPane = new VBox(16, menuBar);\r\n        \r\n        Scene scene = new Scene(topPane, 500, 300);\r\n        stage.setTitle(&quot;Test Ninja&quot;); \r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }  //  end start\r\n\r\n    public void doAction(ActionEvent evt) {\r\n\t\t \r\n    /*\r\n    * Object source = evt.getSource();\r\n    *\t \r\n    * if (source == fileNewConnection )  {\r\n    *       \t\r\n    *      System.out.println(&quot;You clicked the &quot;+ ((MenuItem) source).getText() + &quot; Menu        Item &quot;);\r\n    *        }\r\n    */\r\n\t\t \r\n    }  //  end do Action`   \r\n\r\n**TestController**\r\n\r\n    package testNinja;\r\n\r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.EventHandler;\r\n    import javafx.scene.control.MenuItem;\r\n\r\n    public class TestController extends TestGUI{\r\n\r\n    @Override\r\n    public void doAction(ActionEvent evt) {\t\r\n        Object source = evt.getSource();\r\n        if (source == fileNewConnection )  {\r\n            System.out.println(&quot;You clicked the &quot;+ ((MenuItem) source).getText() + &quot; Menu Item &quot;);       \r\n        }\t \r\n    }  //  end do Action\r\n\r\n    }  //  end class\r\n\r\n","title":"Can someone help me with JavaFX and inheritance?","body":"<p>I just finished my second java class and I'm trying to make my own program utilizing MVC.  I am trying to put all my code for my events in a separate class other than the GUI class.  But I can't get it to work right. If I put the code in the <code>doAction()</code> in the GUI class it works fine, but when I try to override it won't work.</p>\n<p>I feel like maybe I need to instantiate an object but of type <code>TestController</code> but I can't seem to get that to work right either.</p>\n<p>I am trying to use a class for a controller.</p>\n<p>The first code is snippets from the GUI. I think my problem is:</p>\n<pre><code>fileNewConnection.setOnAction(this::doAction)\n</code></pre>\n<p><strong>TestGUI</strong></p>\n<pre><code>package testNinja;\n\nimport javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.scene.control.Menu;\nimport javafx.scene.control.MenuBar;\nimport javafx.scene.control.MenuItem;\nimport javafx.scene.control.TextArea;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\nimport javafx.scene.Scene;\n\npublic class TestGUI extends Application {\n\npublic static void main(String[] args) {\n    launch(args);\n}  //  end main\n\npublic Stage window;\npublic Menu fileMenu;\npublic MenuItem fileNewConnection;\npublic MenuBar menuBar;\n \npublic void start(Stage stage) {\n    window = stage;\n    fileMenu = new Menu(&quot;File&quot;);\n    fileNewConnection = new MenuItem(&quot;New Connection&quot;);\n    fileMenu.getItems().add(fileNewConnection);\n    fileNewConnection.setOnAction(this::doAction);\n    menuBar = new MenuBar();\n    menuBar.getMenus().add(fileMenu);\n\n    VBox topPane = new VBox(16, menuBar);\n    \n    Scene scene = new Scene(topPane, 500, 300);\n    stage.setTitle(&quot;Test Ninja&quot;); \n    stage.setScene(scene);\n    stage.show();\n}  //  end start\n\npublic void doAction(ActionEvent evt) {\n     \n/*\n* Object source = evt.getSource();\n*    \n* if (source == fileNewConnection )  {\n*           \n*      System.out.println(&quot;You clicked the &quot;+ ((MenuItem) source).getText() + &quot; Menu        Item &quot;);\n*        }\n*/\n     \n}  //  end do Action`   \n</code></pre>\n<p><strong>TestController</strong></p>\n<pre><code>package testNinja;\n\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.scene.control.MenuItem;\n\npublic class TestController extends TestGUI{\n\n@Override\npublic void doAction(ActionEvent evt) { \n    Object source = evt.getSource();\n    if (source == fileNewConnection )  {\n        System.out.println(&quot;You clicked the &quot;+ ((MenuItem) source).getText() + &quot; Menu Item &quot;);       \n    }    \n}  //  end do Action\n\n}  //  end class\n</code></pre>\n"},{"tags":["java","spring-boot","memory-leaks","out-of-memory","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692379784,"creation_date":1692379784,"answer_id":76931468,"question_id":76931100,"body_markdown":" - **Thread Dump vs. Heap Dump:**\r\n   \r\n ***Thread Dump:*** \r\n\r\n&gt; A thread dump is a snapshot of the current state of all    threads\r\n&gt; running in a Java application at a specific point in time. It   \r\n&gt; provides information about the threads&#39; states, their stack traces,   \r\n&gt; and any potential thread contention or deadlocks. Thread dumps can be \r\n&gt; taken using tools like &quot;jstack&quot; command-line utility or by triggering \r\n&gt; a signal (e.g., SIGQUIT) to the Java process. Thread dumps help in   \r\n&gt; analyzing and diagnosing thread-related issues in an application.\r\n\r\n   ***Heap Dump:*** \r\n\r\n&gt; A heap dump is a snapshot of the Java Virtual Machine&#39;s    memory at a\r\n&gt; specific point in time. It captures the objects and their   \r\n&gt; relationships present in the heap, allowing developers to analyze   \r\n&gt; memory consumption, identify memory leaks, and optimize memory usage. \r\n&gt; Heap dumps can be obtained using tools like Java VisualVM, Eclipse   \r\n&gt; MAT (Memory Analyzer Tool), or other profiling tools.\r\n\r\n   **My preferred tool for analyzing thread dump, IntelliJ IDEA&#39;s JSON Tools:**\r\n   \r\n   While IntelliJ IDEA doesn&#39;t offer specific thread dump analysis\r\n   features, it does have built-in JSON-related tools. You can use these\r\n   tools to format, validate, and navigate through JSON data.\r\n   \r\n   \r\n\r\n 1. Open your JSON thread dump in IntelliJ IDEA.\r\n 2. IntelliJ IDEA will automatically recognize the JSON format and provide you with formatting and navigation options.\r\n 3. You can use keyboard shortcuts like Ctrl + Alt + L (on Windows) or Cmd + Option + L (on macOS) to format the JSON and make it more readable.\r\n 4. Use the built-in JSON viewer to navigate through the JSON structure.\r\n\r\nWhen dealing with thread dumps, you might need to rely on external tools like FastThread or Thread Dump Analyzer (TDA) to perform in-depth analysis and identify thread-related issues. Additionally, for heap dump analysis, tools like Java VisualVM or Eclipse MAT can help you understand memory usage patterns and address memory-related problems in your application.\r\n\r\n","title":"What are the main differences between thread dump and heap dump?","body":"<ul>\n<li><strong>Thread Dump vs. Heap Dump:</strong></li>\n</ul>\n<p><em><strong>Thread Dump:</strong></em></p>\n<blockquote>\n<p>A thread dump is a snapshot of the current state of all    threads\nrunning in a Java application at a specific point in time. It<br />\nprovides information about the threads' states, their stack traces,<br />\nand any potential thread contention or deadlocks. Thread dumps can be\ntaken using tools like &quot;jstack&quot; command-line utility or by triggering\na signal (e.g., SIGQUIT) to the Java process. Thread dumps help in<br />\nanalyzing and diagnosing thread-related issues in an application.</p>\n</blockquote>\n<p><em><strong>Heap Dump:</strong></em></p>\n<blockquote>\n<p>A heap dump is a snapshot of the Java Virtual Machine's    memory at a\nspecific point in time. It captures the objects and their<br />\nrelationships present in the heap, allowing developers to analyze<br />\nmemory consumption, identify memory leaks, and optimize memory usage.\nHeap dumps can be obtained using tools like Java VisualVM, Eclipse<br />\nMAT (Memory Analyzer Tool), or other profiling tools.</p>\n</blockquote>\n<p><strong>My preferred tool for analyzing thread dump, IntelliJ IDEA's JSON Tools:</strong></p>\n<p>While IntelliJ IDEA doesn't offer specific thread dump analysis\nfeatures, it does have built-in JSON-related tools. You can use these\ntools to format, validate, and navigate through JSON data.</p>\n<ol>\n<li>Open your JSON thread dump in IntelliJ IDEA.</li>\n<li>IntelliJ IDEA will automatically recognize the JSON format and provide you with formatting and navigation options.</li>\n<li>You can use keyboard shortcuts like Ctrl + Alt + L (on Windows) or Cmd + Option + L (on macOS) to format the JSON and make it more readable.</li>\n<li>Use the built-in JSON viewer to navigate through the JSON structure.</li>\n</ol>\n<p>When dealing with thread dumps, you might need to rely on external tools like FastThread or Thread Dump Analyzer (TDA) to perform in-depth analysis and identify thread-related issues. Additionally, for heap dump analysis, tools like Java VisualVM or Eclipse MAT can help you understand memory usage patterns and address memory-related problems in your application.</p>\n"}],"owner":{"account_id":5248641,"reputation":73,"user_id":4193556,"display_name":"Kiran Kranthi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1692538802,"creation_date":1692376122,"question_id":76931100,"body_markdown":"What are the main differences between thread dump and heap dump ?\r\n\r\nIn Spring boot application actuator threaddump API (`http://localhost:8080/actuator/threaddump`) is returning json response.\r\n\r\nWhat are the tools we can use for analyzing thread dump json response?","title":"What are the main differences between thread dump and heap dump?","body":"<p>What are the main differences between thread dump and heap dump ?</p>\n<p>In Spring boot application actuator threaddump API (<code>http://localhost:8080/actuator/threaddump</code>) is returning json response.</p>\n<p>What are the tools we can use for analyzing thread dump json response?</p>\n"},{"tags":["java","postgresql","amazon-web-services","spring-boot","amazon-ec2"],"comments":[{"owner":{"account_id":1022874,"reputation":33518,"user_id":1032785,"accept_rate":50,"display_name":"jordanm"},"score":0,"creation_date":1692161696,"post_id":76910570,"comment_id":135584713,"body_markdown":"Error indicates you are just providing the hostname to the database and not a jbdc url like in your example file.","body":"Error indicates you are just providing the hostname to the database and not a jbdc url like in your example file."},{"owner":{"account_id":6865447,"reputation":2052,"user_id":5278079,"display_name":"Sm Srikanth"},"score":0,"creation_date":1692164537,"post_id":76910570,"comment_id":135584990,"body_markdown":"I am using the same  url string as  mentioned in the sample application.yml file","body":"I am using the same  url string as  mentioned in the sample application.yml file"},{"owner":{"account_id":10345313,"reputation":330,"user_id":7630468,"display_name":"SwathiP"},"score":0,"creation_date":1692171023,"post_id":76910570,"comment_id":135585966,"body_markdown":"Have you added inbound rule for RDS so that your EC2 instance can connect to it?","body":"Have you added inbound rule for RDS so that your EC2 instance can connect to it?"},{"owner":{"account_id":6865447,"reputation":2052,"user_id":5278079,"display_name":"Sm Srikanth"},"score":0,"creation_date":1692190904,"post_id":76910570,"comment_id":135589994,"body_markdown":"yes, I have added port 5432 in my rds.","body":"yes, I have added port 5432 in my rds."},{"owner":{"account_id":8998143,"reputation":425,"user_id":6707702,"display_name":"Mohit Sharma"},"score":0,"creation_date":1692191787,"post_id":76910570,"comment_id":135590247,"body_markdown":"Allow EC2 security group (where spring boot application is deployed) in RDS security group (Add inbound rules with port 5432).","body":"Allow EC2 security group (where spring boot application is deployed) in RDS security group (Add inbound rules with port 5432)."},{"owner":{"account_id":6865447,"reputation":2052,"user_id":5278079,"display_name":"Sm Srikanth"},"score":0,"creation_date":1692207035,"post_id":76910570,"comment_id":135593429,"body_markdown":"I already did that","body":"I already did that"}],"answers":[{"tags":[],"owner":{"account_id":29236832,"reputation":1,"user_id":22399298,"display_name":"Praveen Jebaraj"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692538763,"creation_date":1692188990,"answer_id":76913560,"question_id":76910570,"body_markdown":"First, double check for any typo errors in RDS URL.\r\n\r\nAlso note the `Caused by: java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, test-rds.cpo655l07.ap-south-1.rds.amazonaws.com`; this is a key part of the error message.\r\n\r\nAs such, make sure that the version of Hibernate you&#39;re using is compatible with the version of the PostgreSQL JDBC driver you&#39;ve specified. In your provided configuration, you&#39;re using Hibernate `5.6.15.Final`. Confirm that this version is compatible with the version of the driver","title":"Access rds postgres db(private access only, no public IP) from ec2 instance in public subnet","body":"<p>First, double check for any typo errors in RDS URL.</p>\n<p>Also note the <code>Caused by: java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, test-rds.cpo655l07.ap-south-1.rds.amazonaws.com</code>; this is a key part of the error message.</p>\n<p>As such, make sure that the version of Hibernate you're using is compatible with the version of the PostgreSQL JDBC driver you've specified. In your provided configuration, you're using Hibernate <code>5.6.15.Final</code>. Confirm that this version is compatible with the version of the driver</p>\n"}],"owner":{"account_id":6865447,"reputation":2052,"user_id":5278079,"display_name":"Sm Srikanth"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692538763,"creation_date":1692160919,"question_id":76910570,"body_markdown":"I am trying to connect rds postgres instance which is not publicly accessible from ec2 application using spring boot. Both are in same vpc and ec2 in public subnet and rds in private subnet. -&gt; **failure**\r\n\r\nI tried to connect the database inside rds using dbeaver using ssh tunneling(from local-&gt;ec2-&gt;rds) and it is **successful**.\r\n\r\nFrom ec2 instance I also tried to connect to my database in rds using telnet on port 5432-&gt; **successful**\r\n\r\nI tried making the rds  publicly accessible and then I am able to connect to it from the application code -&gt; **successful**\r\n\r\n**sample application.yml**\r\n```\r\nserver:\r\n  port: 9091\r\nspring:\r\n  datasource:\r\n    url: jdbc:postgresql://test-rds.cpo655l07.ap-south-1.rds.amazonaws.com:5432/test\r\n    driver-class-name: org.postgresql.Driver\r\n    username: test\r\n    password: test\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: update # You can use &quot;update&quot; or &quot;create-drop&quot; depending on your needs\r\n    show-sql: true\r\n    properties:\r\n      hibernate:\r\n        format_sql: true\r\n    database: postgresql\r\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\r\n```\r\n\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, test-rds.cpo655l07.ap-south-1.rds.amazonaws.com\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.29.jar!/:5.3.29]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.29.jar!/:5.3.29]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar!/:5.3.29]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar!/:5.3.29]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar!/:5.3.29]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar!/:5.3.29]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar!/:5.3.29]\r\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157) ~[spring-context-5.3.29.jar!/:5.3.29]\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911) ~[spring-context-5.3.29.jar!/:5.3.29]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.29.jar!/:5.3.29]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.14.jar!/:2.7.14]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.14.jar!/:2.7.14]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.14.jar!/:2.7.14]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.14.jar!/:2.7.14]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.14.jar!/:2.7.14]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.14.jar!/:2.7.14]\r\n        at org.schoolapp.schoolapp.SchoolAppApplication.main(SchoolAppApplication.java:11) ~[classes!/:0.1.1-SNAPSHOT]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[school-app-0.1.1-SNAPSHOT.jar:0.1.1-SNAPSHOT]\r\n        at \r\n\r\n        ... 24 common frames omitted\r\nCaused by: java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, test-rds.cpo655l07.ap-south-1.rds.amazonaws.com\r\n        at com.zaxxer.hikari.util.DriverDataSource.&lt;init&gt;(DriverDataSource.java:110) ~[HikariCP-4.0.3.jar!/:na]\r\n        at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:331) ~[HikariCP-4.0.3.jar!/:na]\r\n        at com.zaxxer.hikari.pool.PoolBase.&lt;init&gt;(PoolBase.java:114) ~[HikariCP-4.0.3.jar!/:na]\r\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:108) ~[HikariCP-4.0.3.jar!/:na]\r\n        at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar!/:na]\r\n        at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n        at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:44) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n        at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n        at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n        at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n        at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n        at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.&lt;init&gt;(DatabaseInformationImpl.java:60) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n        at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:183) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n        at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:104) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n        at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n        at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n        at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n        at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\r\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.29.jar!/:5.3.29]\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.29.jar!/:5.3.29]\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.29.jar!/:5.3.29]\r\n        ... 28 common frames omitted\r\n```","title":"Access rds postgres db(private access only, no public IP) from ec2 instance in public subnet","body":"<p>I am trying to connect rds postgres instance which is not publicly accessible from ec2 application using spring boot. Both are in same vpc and ec2 in public subnet and rds in private subnet. -&gt; <strong>failure</strong></p>\n<p>I tried to connect the database inside rds using dbeaver using ssh tunneling(from local-&gt;ec2-&gt;rds) and it is <strong>successful</strong>.</p>\n<p>From ec2 instance I also tried to connect to my database in rds using telnet on port 5432-&gt; <strong>successful</strong></p>\n<p>I tried making the rds  publicly accessible and then I am able to connect to it from the application code -&gt; <strong>successful</strong></p>\n<p><strong>sample application.yml</strong></p>\n<pre><code>server:\n  port: 9091\nspring:\n  datasource:\n    url: jdbc:postgresql://test-rds.cpo655l07.ap-south-1.rds.amazonaws.com:5432/test\n    driver-class-name: org.postgresql.Driver\n    username: test\n    password: test\n  jpa:\n    hibernate:\n      ddl-auto: update # You can use &quot;update&quot; or &quot;create-drop&quot; depending on your needs\n    show-sql: true\n    properties:\n      hibernate:\n        format_sql: true\n    database: postgresql\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\n</code></pre>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, test-rds.cpo655l07.ap-south-1.rds.amazonaws.com\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.29.jar!/:5.3.29]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.29.jar!/:5.3.29]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar!/:5.3.29]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar!/:5.3.29]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar!/:5.3.29]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar!/:5.3.29]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar!/:5.3.29]\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157) ~[spring-context-5.3.29.jar!/:5.3.29]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911) ~[spring-context-5.3.29.jar!/:5.3.29]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.29.jar!/:5.3.29]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.14.jar!/:2.7.14]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.14.jar!/:2.7.14]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.14.jar!/:2.7.14]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.14.jar!/:2.7.14]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.14.jar!/:2.7.14]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.14.jar!/:2.7.14]\n        at org.schoolapp.schoolapp.SchoolAppApplication.main(SchoolAppApplication.java:11) ~[classes!/:0.1.1-SNAPSHOT]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[school-app-0.1.1-SNAPSHOT.jar:0.1.1-SNAPSHOT]\n        at \n\n        ... 24 common frames omitted\nCaused by: java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, test-rds.cpo655l07.ap-south-1.rds.amazonaws.com\n        at com.zaxxer.hikari.util.DriverDataSource.&lt;init&gt;(DriverDataSource.java:110) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:331) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.PoolBase.&lt;init&gt;(PoolBase.java:114) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:108) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar!/:na]\n        at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n        at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:44) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n        at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n        at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n        at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n        at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n        at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.&lt;init&gt;(DatabaseInformationImpl.java:60) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n        at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:183) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n        at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:104) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n        at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n        at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n        at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n        at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.15.Final.jar!/:5.6.15.Final]\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.29.jar!/:5.3.29]\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.29.jar!/:5.3.29]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.29.jar!/:5.3.29]\n        ... 28 common frames omitted\n</code></pre>\n"},{"tags":["java","javafx","fxml","access-modifiers"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1586099816,"post_id":61044743,"comment_id":107995666,"body_markdown":"Are you familiar with the difference between public and private? I suspect that without the @FXML annotation you will not be initialize private members, and it is good practice to make the members private.","body":"Are you familiar with the difference between public and private? I suspect that without the @FXML annotation you will not be initialize private members, and it is good practice to make the members private."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1692537856,"creation_date":1586100137,"answer_id":61044906,"question_id":61044743,"body_markdown":"From [Introduction to FXML][1]:\r\n\r\n&gt;### `@FXML`\r\n&gt;\r\n&gt;Note that, in the previous examples, the controller member fields and event handler methods were declared as public so they can be set or invoked by the loader. In practice, this is not often an issue, since a controller is generally only visible to the FXML loader that creates it. However, for developers who prefer more restricted visibility for controller fields or handler methods, the `javafx.fxml.FXML` annotation can be used. This annotation marks a protected or private class member as accessible to FXML. If the class being annotated is in a named module, the module containing that class must `open` the containing package to at least the `javafx.fxml` module.\r\n\r\nIn other words, the `@FXML` annotation is only _required_ if the field or method is non-public (i.e. is protected, package-private, or private) yet needs to be accessible to FXML. Within the context of FXML, there is no difference between a public field/method with no (or even with an) `@FXML` annotation and a non-public field/method with said annotation. The only difference in general is the visibility of the field/method to other code.\r\n\r\nThat said, it&#39;s typically considered good practice to only make something as visible as it needs to be. An FXML-injected field normally has no reason to be public. Neither do event-handler methods nor does the initialize method&lt;sup&gt;**1**&lt;/sup&gt;. They&#39;re all implementation details.\r\n\r\nNote the `@FXML` annotation doesn&#39;t do anything special on a language level. The presence of the annotation simply tells the `FXMLLoader` it&#39;s okay to try and reflectively access the field or method even though it&#39;s not public. It&#39;s also a good hint to the developer that the field or method is handled by FXML (for instance, FXML-injected fields should virtually never be manually initialized or reassigned).\r\n\r\n---\r\n\r\n&lt;sup&gt;**1.** The no-argument `initialize()` method. Not the one you have to override when implementing [`Initializable`][2], which of course must be public. Note [it&#39;s recommended][2] to use the no-argument method instead of implementing that interface, injecting the location and resource bundle the same as other FXML-injected fields if needed. Why the interface hasn&#39;t been deprecated yet, I don&#39;t know.&lt;/sup&gt;\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/14/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#fxml_annotation\r\n  [2]: https://openjfx.io/javadoc/20/javafx.fxml/javafx/fxml/Initializable.html","title":"Access modifiers in JavaFx and @FXML","body":"<p>From <a href=\"https://openjfx.io/javadoc/14/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#fxml_annotation\" rel=\"nofollow noreferrer\">Introduction to FXML</a>:</p>\n<blockquote>\n<h3><code>@FXML</code></h3>\n<p>Note that, in the previous examples, the controller member fields and event handler methods were declared as public so they can be set or invoked by the loader. In practice, this is not often an issue, since a controller is generally only visible to the FXML loader that creates it. However, for developers who prefer more restricted visibility for controller fields or handler methods, the <code>javafx.fxml.FXML</code> annotation can be used. This annotation marks a protected or private class member as accessible to FXML. If the class being annotated is in a named module, the module containing that class must <code>open</code> the containing package to at least the <code>javafx.fxml</code> module.</p>\n</blockquote>\n<p>In other words, the <code>@FXML</code> annotation is only <em>required</em> if the field or method is non-public (i.e. is protected, package-private, or private) yet needs to be accessible to FXML. Within the context of FXML, there is no difference between a public field/method with no (or even with an) <code>@FXML</code> annotation and a non-public field/method with said annotation. The only difference in general is the visibility of the field/method to other code.</p>\n<p>That said, it's typically considered good practice to only make something as visible as it needs to be. An FXML-injected field normally has no reason to be public. Neither do event-handler methods nor does the initialize method<sup><strong>1</strong></sup>. They're all implementation details.</p>\n<p>Note the <code>@FXML</code> annotation doesn't do anything special on a language level. The presence of the annotation simply tells the <code>FXMLLoader</code> it's okay to try and reflectively access the field or method even though it's not public. It's also a good hint to the developer that the field or method is handled by FXML (for instance, FXML-injected fields should virtually never be manually initialized or reassigned).</p>\n<hr />\n<p><sup><strong>1.</strong> The no-argument <code>initialize()</code> method. Not the one you have to override when implementing <a href=\"https://openjfx.io/javadoc/20/javafx.fxml/javafx/fxml/Initializable.html\" rel=\"nofollow noreferrer\"><code>Initializable</code></a>, which of course must be public. Note <a href=\"https://openjfx.io/javadoc/20/javafx.fxml/javafx/fxml/Initializable.html\" rel=\"nofollow noreferrer\">it's recommended</a> to use the no-argument method instead of implementing that interface, injecting the location and resource bundle the same as other FXML-injected fields if needed. Why the interface hasn't been deprecated yet, I don't know.</sup></p>\n"}],"owner":{"account_id":16917945,"reputation":619,"user_id":12235471,"display_name":"arty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":61044906,"answer_count":1,"score":4,"last_activity_date":1692537856,"creation_date":1586099470,"question_id":61044743,"body_markdown":"I am new to JavaFx and in a few tutorials I&#39;ve seen, there were some differences. In one of the tutorials, he always used `private` as the access modifier in the controller class and wrote it this way:\r\n\r\n`@FXML private Button button;`\r\n\r\nBut the other tutorial always used public and didn&#39;t include @FXML in the controller class. Both of these seem to work fine but is there an actual difference between them that I should know?","title":"Access modifiers in JavaFx and @FXML","body":"<p>I am new to JavaFx and in a few tutorials I've seen, there were some differences. In one of the tutorials, he always used <code>private</code> as the access modifier in the controller class and wrote it this way:</p>\n\n<p><code>@FXML private Button button;</code></p>\n\n<p>But the other tutorial always used public and didn't include @FXML in the controller class. Both of these seem to work fine but is there an actual difference between them that I should know?</p>\n"},{"tags":["java","eclipse","eclipse-plugin","eclipse-rcp","java-11"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1692566290,"post_id":76939540,"comment_id":135637238,"body_markdown":"A system library of Java 9 and higher always consists of modules which cannot be changed. An Eclipse plugin must not contain a `module-info.java` since [JPMS](https://en.wikipedia.org/wiki/Java_Platform_Module_System) does not allow to start and stop modules at runtime in contrast to OSGi bundles. It seems removing the `javax.xml` plugin/bundle was not enough and you still have a plugin/bundle that contains the `javax.xml` package. For details read https://stackoverflow.com/a/53824670/6505250","body":"A system library of Java 9 and higher always consists of modules which cannot be changed. An Eclipse plugin must not contain a <code>module-info.java</code> since <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\">JPMS</a> does not allow to start and stop modules at runtime in contrast to OSGi bundles. It seems removing the <code>javax.xml</code> plugin/bundle was not enough and you still have a plugin/bundle that contains the <code>javax.xml</code> package. For details read <a href=\"https://stackoverflow.com/a/53824670/6505250\">stackoverflow.com/a/53824670/6505250</a>"},{"owner":{"account_id":4731437,"reputation":329,"user_id":3826954,"accept_rate":67,"display_name":"stackbacker"},"score":0,"creation_date":1696960402,"post_id":76939540,"comment_id":136218504,"body_markdown":"I have the same issue because of a 3rd party jar I&#39;m required to use HOWEVER opening the same project in IntelliJ does not exhibit this behavior. I guess I&#39;m confused why this isn&#39;t an Eclipse bug (or feature removal request).","body":"I have the same issue because of a 3rd party jar I&#39;m required to use HOWEVER opening the same project in IntelliJ does not exhibit this behavior. I guess I&#39;m confused why this isn&#39;t an Eclipse bug (or feature removal request)."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1697005062,"post_id":76939540,"comment_id":136223269,"body_markdown":"@stackbacker Eclipse does it right. It&#39;s a confirmed(!) bug of `javac` not showing this as an error. IntelliJ does not have its own compiler and uses `javac` by default.","body":"@stackbacker Eclipse does it right. It&#39;s a confirmed(!) bug of <code>javac</code> not showing this as an error. IntelliJ does not have its own compiler and uses <code>javac</code> by default."},{"owner":{"account_id":4731437,"reputation":329,"user_id":3826954,"accept_rate":67,"display_name":"stackbacker"},"score":0,"creation_date":1697044664,"post_id":76939540,"comment_id":136231070,"body_markdown":"@howlger So the issue is that Eclipse is correctly reporting the error while IntelliJ and VSCode (&amp; maybe Netbeans) do not? FWIW the overwhelming response from devs on my project upon hearing that issue only exists (or is reported by) Eclipse was &quot;Just use IntelliJ or VSCode&quot;. Maybe it&#39;s just me, but if &quot;use a competing product&quot;  is the quick fix for a problem it&#39;s something I&#39;d want to address with my product.","body":"@howlger So the issue is that Eclipse is correctly reporting the error while IntelliJ and VSCode (&amp; maybe Netbeans) do not? FWIW the overwhelming response from devs on my project upon hearing that issue only exists (or is reported by) Eclipse was &quot;Just use IntelliJ or VSCode&quot;. Maybe it&#39;s just me, but if &quot;use a competing product&quot;  is the quick fix for a problem it&#39;s something I&#39;d want to address with my product."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1697094625,"post_id":76939540,"comment_id":136236717,"body_markdown":"@stackbacker According to the Java language specification it&#39;s an error. Eclipse and [VSCode](https://stackoverflow.com/q/61278108/6505250) which is based on Eclipse show this error by default. As far as I know, all of today&#39;s Java VMs run the code, regardless of the fact that it is invalid Java. You can hide the error message in Eclipse. You can also switch to a text editor or IDE that is blind for this kind of error. Beside the fact that it is an error, it is also a code smell that should be better fixed (very likely caused by a dependency that is many years behind).","body":"@stackbacker According to the Java language specification it&#39;s an error. Eclipse and <a href=\"https://stackoverflow.com/q/61278108/6505250\">VSCode</a> which is based on Eclipse show this error by default. As far as I know, all of today&#39;s Java VMs run the code, regardless of the fact that it is invalid Java. You can hide the error message in Eclipse. You can also switch to a text editor or IDE that is blind for this kind of error. Beside the fact that it is an error, it is also a code smell that should be better fixed (very likely caused by a dependency that is many years behind)."}],"owner":{"account_id":23092846,"reputation":1,"user_id":17203450,"display_name":"RoxelX"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":648,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692537081,"creation_date":1692537081,"question_id":76939540,"body_markdown":"I&#39;m trying to export a deployable feature for my eclipse program, every time I try to export it with jdk17 which we&#39;re just upgrading to I get the &quot;The package *********** is accessible from more than one module: &lt;unnamed&gt;, java.xml&quot; in a certain plugin project but does not cause any error in the code.\r\nI need the compliance level to stay on jdk17, I&#39;m also not sure if plugin projects are generated modularized because according to eclipse trying to create the module-info.java &quot;may not be synchronized with the manifest file&quot;, and creating a new plugin project doesn&#39;t generate said file.\r\nPackages providing the error are:\r\n- javax.xml.parsers\r\n- org.w3c.dom\r\n- org.xml.sax\r\n\r\nI&#39;m using a custom target platform that originally had a version of javax.xml which I now have removed.\r\nHaving both types in my project gives the same error but, in the code, and when exporting feature. Having only the jdk17 version still produces the error when exporting.\r\n\r\nSo far, I have tried:\r\n- Remove the javax.xml from the target platform \r\n- Remove the dependency from MANIFEST.MF of the project that has the issue\r\n- Checked the types in the project to ensure that it does not exist in more than one module, anything using javax.xml comes from the jdk now\r\n- Create a new workspace with the project and restarting my PC\r\n\r\nI also followed the steps in these questions among others with no luck.\r\nhttps://stackoverflow.com/questions/55571046/eclipse-is-confused-by-imports-accessible-from-more-than-one-module\r\nhttps://stackoverflow.com/questions/55902512/package-accessible-from-more-than-one-module-unnamed\r\n","title":"&quot;The package ***** is accessible from more than one module: &lt;unnamed&gt;, java.xml&quot; error only when deploying feature but not in code","body":"<p>I'm trying to export a deployable feature for my eclipse program, every time I try to export it with jdk17 which we're just upgrading to I get the &quot;The package *********** is accessible from more than one module: , java.xml&quot; in a certain plugin project but does not cause any error in the code.\nI need the compliance level to stay on jdk17, I'm also not sure if plugin projects are generated modularized because according to eclipse trying to create the module-info.java &quot;may not be synchronized with the manifest file&quot;, and creating a new plugin project doesn't generate said file.\nPackages providing the error are:</p>\n<ul>\n<li>javax.xml.parsers</li>\n<li>org.w3c.dom</li>\n<li>org.xml.sax</li>\n</ul>\n<p>I'm using a custom target platform that originally had a version of javax.xml which I now have removed.\nHaving both types in my project gives the same error but, in the code, and when exporting feature. Having only the jdk17 version still produces the error when exporting.</p>\n<p>So far, I have tried:</p>\n<ul>\n<li>Remove the javax.xml from the target platform</li>\n<li>Remove the dependency from MANIFEST.MF of the project that has the issue</li>\n<li>Checked the types in the project to ensure that it does not exist in more than one module, anything using javax.xml comes from the jdk now</li>\n<li>Create a new workspace with the project and restarting my PC</li>\n</ul>\n<p>I also followed the steps in these questions among others with no luck.\n<a href=\"https://stackoverflow.com/questions/55571046/eclipse-is-confused-by-imports-accessible-from-more-than-one-module\">Eclipse is confused by imports (&quot;accessible from more than one module&quot;)</a>\n<a href=\"https://stackoverflow.com/questions/55902512/package-accessible-from-more-than-one-module-unnamed\">Package accessible from more than one module: &lt;unnamed&gt;</a></p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1692536854,"post_id":76939507,"comment_id":135634069,"body_markdown":"what is a `response token` if you mean i `JWT` then you are building a very insecure login system. You should never issue JWTs directly to the browser. Please google why jwts should not be used as sessions, and instead implement security using cookies as stated in the spring security documentation.","body":"what is a <code>response token</code> if you mean i <code>JWT</code> then you are building a very insecure login system. You should never issue JWTs directly to the browser. Please google why jwts should not be used as sessions, and instead implement security using cookies as stated in the spring security documentation."},{"owner":{"account_id":28162034,"reputation":1,"user_id":21521805,"display_name":"Jablko"},"score":0,"creation_date":1692537405,"post_id":76939507,"comment_id":135634120,"body_markdown":"Thanks for advice altough this one is just for educational purposes and I just want to establish working session by injecting jwt tokens for at least minimum security","body":"Thanks for advice altough this one is just for educational purposes and I just want to establish working session by injecting jwt tokens for at least minimum security"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1692540968,"post_id":76939507,"comment_id":135634552,"body_markdown":"if your plan is to learn security i suggest you learn it properly from the start. Read the spring security docs and dont follow blogposts that have no idea how security works.","body":"if your plan is to learn security i suggest you learn it properly from the start. Read the spring security docs and dont follow blogposts that have no idea how security works."}],"owner":{"account_id":28162034,"reputation":1,"user_id":21521805,"display_name":"Jablko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692536552,"creation_date":1692536552,"question_id":76939507,"body_markdown":"I&#39;m fairly new to spring security. I&#39;ve made basic database with tables for users and roles and included registration and login DTO in my project. My question is: when I log-in and get response token, how do I make it injected each time I redirect to another url(to not login everytime) + I would like to redirect to home page in same PostMapping method as well\r\n\r\n\r\n```\r\n@Controller\r\n@CrossOrigin(&quot;*&quot;)\r\npublic class AuthenticationController {\r\n\r\n    @Autowired\r\n    private AuthenticationService authenticationService;\r\n\r\n    @PostMapping(&quot;/auth/registerSuccess&quot;)\r\n    public ApplicationUser registerUser(ApplicationUser user){\r\n        return authenticationService.registerUser(user.getUsername(), user.getPassword());\r\n    }\r\n\r\n    @PostMapping(&quot;/auth/loginSuccess&quot;)\r\n    public LoginResponseDTO loginUser(ApplicationUser user){\r\n        return authenticationService.loginUser(user.getUsername(), user.getPassword());\r\n\r\n    }\r\n\r\n\r\n//    @PostMapping(&quot;/auth/loginSuccess&quot;)\r\n//    public String redirectLogin(){\r\n//        return &quot;index&quot;;\r\n//    }\r\n\r\n//    @PostMapping(&quot;/auth/registerSuccess&quot;)\r\n//    public String redirectRegister(){\r\n//        return &quot;index&quot;;\r\n//    }\r\n\r\n\r\n\r\n    @GetMapping(&quot;/auth/register&quot;)\r\n    public String registerUser(Model model){\r\n        model.addAttribute(&quot;user&quot;, new ApplicationUser());\r\n        return &quot;register&quot;;\r\n    }\r\n\r\n\r\n    @GetMapping(&quot;/auth/login&quot;)\r\n    public String loginUser(Model model){\r\n        model.addAttribute(&quot;user&quot;, new ApplicationUser());\r\n        return &quot;login&quot;;\r\n    }\r\n    \r\n\r\n}\r\n\r\n```\r\n\r\n\r\nI&#39;ve tried to change return types for String in order to at least redirect to html files but it doesn&#39;t solve my main issue with injecting token.","title":"Spring webpage - injecting response token","body":"<p>I'm fairly new to spring security. I've made basic database with tables for users and roles and included registration and login DTO in my project. My question is: when I log-in and get response token, how do I make it injected each time I redirect to another url(to not login everytime) + I would like to redirect to home page in same PostMapping method as well</p>\n<pre><code>@Controller\n@CrossOrigin(&quot;*&quot;)\npublic class AuthenticationController {\n\n    @Autowired\n    private AuthenticationService authenticationService;\n\n    @PostMapping(&quot;/auth/registerSuccess&quot;)\n    public ApplicationUser registerUser(ApplicationUser user){\n        return authenticationService.registerUser(user.getUsername(), user.getPassword());\n    }\n\n    @PostMapping(&quot;/auth/loginSuccess&quot;)\n    public LoginResponseDTO loginUser(ApplicationUser user){\n        return authenticationService.loginUser(user.getUsername(), user.getPassword());\n\n    }\n\n\n//    @PostMapping(&quot;/auth/loginSuccess&quot;)\n//    public String redirectLogin(){\n//        return &quot;index&quot;;\n//    }\n\n//    @PostMapping(&quot;/auth/registerSuccess&quot;)\n//    public String redirectRegister(){\n//        return &quot;index&quot;;\n//    }\n\n\n\n    @GetMapping(&quot;/auth/register&quot;)\n    public String registerUser(Model model){\n        model.addAttribute(&quot;user&quot;, new ApplicationUser());\n        return &quot;register&quot;;\n    }\n\n\n    @GetMapping(&quot;/auth/login&quot;)\n    public String loginUser(Model model){\n        model.addAttribute(&quot;user&quot;, new ApplicationUser());\n        return &quot;login&quot;;\n    }\n    \n\n}\n\n</code></pre>\n<p>I've tried to change return types for String in order to at least redirect to html files but it doesn't solve my main issue with injecting token.</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1692531238,"post_id":76939051,"comment_id":135633396,"body_markdown":"Please format your code correctly and include the full stack trace.","body":"Please format your code correctly and include the full stack trace."},{"owner":{"account_id":29175819,"reputation":1,"user_id":22351104,"display_name":"Richard5417"},"score":0,"creation_date":1692534751,"post_id":76939051,"comment_id":135633806,"body_markdown":"Updating it shortly","body":"Updating it shortly"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1692575599,"post_id":76939051,"comment_id":135638041,"body_markdown":"You must include the full stack trace.","body":"You must include the full stack trace."}],"owner":{"account_id":29175819,"reputation":1,"user_id":22351104,"display_name":"Richard5417"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692536195,"creation_date":1692528803,"question_id":76939051,"body_markdown":"I get a Cannot invoke &quot;com.example.demo.entities.Vacation.add(com.example.demo.entities.CartItem)&quot; because &quot;vacation&quot; is null error when I run my spring boot maven app\r\n\r\nMy Cart.java file\r\n\r\n\r\n```\r\npackage com.example.demo.entities;\r\nimport jakarta.persistence.*;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport org.hibernate.annotations.CreationTimestamp;\r\nimport org.hibernate.annotations.UpdateTimestamp;\r\nimport java.util.*;\r\nimport java.math.BigDecimal;\r\n\r\n@Entity\r\n@Table(name = &quot;carts&quot;)\r\n@Getter\r\n@Setter\r\npublic class Cart {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;cart_id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;order_tracking_number&quot;)\r\n    private String orderTrackingNumber;\r\n\r\n    @Column(name = &quot;package_price&quot;)\r\n    private BigDecimal package_price;\r\n\r\n    @Column(name = &quot;party_size&quot;)\r\n    private int party_size;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;status&quot;, nullable = false)\r\n    private StatusType status;\r\n\r\n    @CreationTimestamp\r\n    @Column(name = &quot;create_date&quot;)\r\n    private Date create_date;\r\n\r\n    @UpdateTimestamp\r\n    @Column(name = &quot;last_update&quot;)\r\n    private Date last_update;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;customer_id&quot;, nullable = false)\r\n    private Customer customer;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;cart&quot;)\r\n    private Set&lt;CartItem&gt; cartItems = new HashSet&lt;&gt;();\r\n\r\n    public void add(CartItem cartItem){\r\n        if (cartItem!= null) {\r\n            if (cartItems == null) {\r\n                cartItems = new HashSet&lt;&gt;();\r\n            }\r\n            cartItems.add(cartItem);\r\n            cartItem.setCart(this);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nMy CartItem.java file \r\n\r\n\r\n```\r\npackage com.example.demo.entities;\r\nimport jakarta.persistence.*;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport org.hibernate.annotations.CreationTimestamp;\r\nimport org.hibernate.annotations.UpdateTimestamp;\r\nimport java.util.*;\r\n\r\n@Entity@Table(name = &quot;cart_items&quot;)\r\n@Getter\r\n@Setter\r\npublic class CartItem {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;cart_item_id&quot;)\r\n    private Long id;\r\n\r\n    @CreationTimestamp\r\n    @Column(name = &quot;create_date&quot;)\r\n    private Date create_date;\r\n\r\n    @UpdateTimestamp\r\n    @Column(name = &quot;last_update&quot;)\r\n    private Date last_update;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;cart_id&quot;, nullable = false)\r\n    private Cart cart;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;vacation_id&quot;, nullable = false)\r\n    private Vacation vacation;\r\n\r\n    @OneToMany(mappedBy = &quot;cartItem&quot;)\r\n    Set&lt;ExcursionCartItem&gt; excursionCartItems = new HashSet&lt;&gt;();    \r\n\r\n    public void add(ExcursionCartItem excursionCartItem) {\r\n        if (excursionCartItem != null) {\r\n            if (excursionCartItems == null) {\r\n                excursionCartItems = new HashSet&lt;&gt;();\r\n            }\r\n            excursionCartItems.add(excursionCartItem);\r\n            excursionCartItem.setCartItem(this);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nMy Excursion.java file\r\n\r\n\r\n```\r\npackage com.example.demo.entities;\r\nimport jakarta.persistence.*;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport org.hibernate.annotations.CreationTimestamp;\r\nimport org.hibernate.annotations.UpdateTimestamp;\r\nimport java.util.*;\r\nimport java.math.BigDecimal;\r\n\r\n@Entity\r\n@Table(name = &quot;excursions&quot;)\r\n@Getter\r\n@Setter\r\npublic class Excursion {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;excursion_id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;excursion_title&quot;)\r\n    private String excursion_title;\r\n\r\n    @Column(name = &quot;excursion_price&quot;)\r\n    private BigDecimal excursion_price;\r\n\r\n    @Column(name = &quot;image_URL&quot;)\r\n    private String image_URL;\r\n\r\n    @CreationTimestamp\r\n    @Column(name = &quot;create_date&quot;)\r\n    private Date create_date;\r\n\r\n    @UpdateTimestamp\r\n    @Column(name = &quot;last_update&quot;)\r\n    private Date last_update;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;vacation_id&quot;, nullable = false)\r\n    private Vacation vacation;\r\n\r\n    @OneToMany(mappedBy = &quot;excursion&quot;)\r\n    Set&lt;ExcursionCartItem&gt; excursionCartItems = new HashSet&lt;&gt;();\r\n\r\n    public void add(ExcursionCartItem excursionCartItem) {\r\n        if (excursionCartItem != null) {\r\n            if (excursionCartItems == null) {\r\n                excursionCartItems = new HashSet&lt;&gt;();\r\n            }\r\n            excursionCartItems.add(excursionCartItem);\r\n            excursionCartItem.setExcursion(this);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMy ExcursionCartItem.java file\r\n\r\n\r\n```\r\npackage com.example.demo.entities;\r\nimport jakarta.persistence.*;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table(name = &quot;excursion_cartitem&quot;)\r\npublic class ExcursionCartItem {\r\n\r\n    @EmbeddedId\r\n    private ExcursionCartItemKey id;\r\n\r\n    @ManyToOne\r\n    @MapsId(&quot;cartItemId&quot;)\r\n    @JoinColumn(name = &quot;cart_item_id&quot;)\r\n    CartItem cartItem;\r\n\r\n    @ManyToOne\r\n    @MapsId(&quot;excursionId&quot;)\r\n    @JoinColumn(name = &quot;excursion_id&quot;)\r\n    Excursion excursion;\r\n}\r\n```\r\n\r\n\r\nMy ExcursionCartItemKey.java file\r\n\r\n\r\n```\r\npackage com.example.demo.entities;\r\nimport jakarta.persistence.*;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport java.io.Serializable;\r\n\r\n@Getter\r\n@Setter\r\n@Embeddable\r\npublic class ExcursionCartItemKey implements Serializable {\r\n    @Column(name = &quot;cart_item_id&quot;)\r\n    Long cart_item_id;\r\n\r\n    @Column(name = &quot;excursion_id&quot;)\r\n    Long excursion_id;\r\n\r\n    //@ManyToOne @JoinColumn(name = &quot;cart_item_id&quot;)\r\n    //@ManyToOne(cascade = CascadeType.ALL)\r\n    //@MapsId(&quot;cart_item_id&quot;)\r\n    //private CartItem cartItem;\r\n\r\n    //@ManyToOne(cascade = CascadeType.ALL)\r\n    //@MapsId(&quot;excursion_id&quot;)\r\n    //private Excursion excursion;\r\n\r\n    //@ManyToOne @JoinColumn(name = &quot;excursion_id&quot;)\r\n    //private Excursion excursion;\r\n}\r\n```\r\n\r\nMy Vacation.java file\r\n\r\n\r\n```\r\npackage com.example.demo.entities;\r\nimport jakarta.persistence.*;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport org.hibernate.annotations.CreationTimestamp;\r\nimport org.hibernate.annotations.UpdateTimestamp;\r\nimport java.util.*;\r\n\r\n@Entity\r\n@Table(name = &quot;vacations&quot;)\r\n@Getter\r\n@Setterpublic class Vacation {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;vacation_id&quot;)\r\n    private int id;\r\n\r\n    @Column(name = &quot;vacation_title&quot;)\r\n    private String vacation_title;\r\n\r\n    @Column(name = &quot;description&quot;)\r\n    private String description;\r\n\r\n    @Column(name = &quot;travel_fare_price&quot;)\r\n    private Double travel_price;\r\n\r\n    @Column(name = &quot;image_URL&quot;)\r\n    private String image_URL;\r\n\r\n    @CreationTimestamp\r\n    @Column(name = &quot;create_date&quot;)\r\n    private Date create_date;\r\n\r\n    @UpdateTimestamp\r\n    @Column(name = &quot;last_update&quot;)\r\n    private Date last_update;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;vacation&quot;)\r\n    private Set&lt;CartItem&gt; cartItems = new HashSet&lt;&gt;(); \r\n\r\n   @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;vacation&quot;)\r\n    private Set&lt;Excursion&gt; excursions = new HashSet&lt;&gt;();\r\n\r\n    public void add(CartItem cartItem){\r\n        if (cartItem!= null) {\r\n            if (cartItems == null) {\r\n                cartItems = new HashSet&lt;&gt;();\r\n            }\r\n            cartItems.add(cartItem);\r\n            cartItem.setVacation(this);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nMy Purchase.java file\r\n\r\n\r\n```\r\npackage com.example.demo.services;\r\nimport com.example.demo.entities.*;\r\nimport lombok.Setter;\r\nimport lombok.Getter;\r\nimport java.util.Set;\r\n\r\n@Setter\r\n@Getter\r\npublic class Purchase {    \r\n    private Customer customer;    \r\n    private Cart cart;    \r\n    private CartItem cartItem;    \r\n    private ExcursionCartItem excursionCartItem;    \r\n    private Excursion excursion;\r\n    private Vacation vacation;\r\n    private Set&lt;CartItem&gt; cartItems;\r\n    private Set&lt;ExcursionCartItem&gt; excursionCartItems;\r\n}\r\n```\r\n\r\n\r\nMy PurchaseResponse.java file\r\n\r\n\r\n```\r\npackage com.example.demo.services;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n@Setter@Getterpublic class PurchaseResponse {\r\n    private final String orderTrackingNumber;\r\n\r\n    public PurchaseResponse(String orderTrackingNumber) {\r\n        this.orderTrackingNumber = orderTrackingNumber;\r\n    }\r\n}\r\n```\r\n\r\n\r\nMy CheckoutService.java file\r\n\r\n\r\n```\r\npackage com.example.demo.services;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\n\r\n@CrossOrigin\r\npublic interface CheckoutService {\r\n    PurchaseResponse placeOrder(Purchase purchase);\r\n}\r\n```\r\n\r\nMy CheckoutServiceImpl.java file\r\n\r\n\r\n```\r\npackage com.example.demo.services;\r\nimport com.example.demo.dao.CartRepository;\r\nimport com.example.demo.dao.ExcursionCartItemRepository;\r\nimport com.example.demo.dao.VacationRepository;\r\nimport com.example.demo.entities.*;\r\nimport jakarta.transaction.Transactional;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport java.util.Set;import java.util.UUID;\r\n\r\n@Service\r\npublic class CheckoutServiceImpl implements CheckoutService{\r\n    @Autowired\r\n\r\n    private CartRepository cartRepository;\r\n    @Autowired\r\n    public CheckoutServiceImpl(CartRepository cartRepository) {\r\n        this.cartRepository = cartRepository;\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public PurchaseResponse placeOrder(Purchase purchase) {\r\n        // retrieve the cart info from entity\r\n        Cart cart = purchase.getCart();\r\n        CartItem cartItem = purchase.getCartItem();\r\n        ExcursionCartItem excursionCartItem = purchase.getExcursionCartItem();\r\n        Excursion excursion = purchase.getExcursion();\r\n        Vacation vacation = purchase.getVacation();\r\n\r\n        // generate tracking number\r\n        String orderTrackingNumber = generateOrderTrackingNumber();\r\n        cart.setOrderTrackingNumber(orderTrackingNumber);\r\n        cart.setStatus(StatusType.ordered);\r\n\r\n        // populate cart with cartItems\r\n        Set&lt;CartItem&gt; cartItems = purchase.getCartItems();\r\n        cartItems.forEach(item -&gt; cart.add(item));\r\n        cartItems.forEach(item -&gt; vacation.add(item));\r\n\r\n        Set&lt;ExcursionCartItem&gt; excursionCartItems = purchase.getExcursionCartItems();\r\n        excursionCartItems.forEach(item -&gt; cartItem.add(item));\r\n        excursionCartItems.forEach(item -&gt; excursion.add(item));\r\n        cartRepository.save(cart);\r\n\r\n        // return a response\r\n        return new PurchaseResponse(orderTrackingNumber);\r\n    }\r\n\r\n    private String generateOrderTrackingNumber() {\r\n        // generate a random UUID number\r\n        return UUID.randomUUID().toString();\r\n    }\r\n}\r\n```\r\n\r\nTable structure\r\n\r\n\r\n```\r\nDROP DATABASE IF EXISTS `full-stack-ecommerce`;\r\nCREATE DATABASE `full-stack-ecommerce`;\r\nUSE `full-stack-ecommerce`;\r\nDROP TABLE IF EXISTS `countries`;\r\nCREATE TABLE `countries` (\r\n    `country_id` bigint NOT NULL AUTO_INCREMENT,\r\n    `country` varchar(255) DEFAULT NULL,\r\n    `create_date` datetime(6) DEFAULT NULL,\r\n    `last_update` datetime(6) DEFAULT NULL,\r\n    PRIMARY KEY (`country_id`)\r\n) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\r\nDROP TABLE IF EXISTS `vacations`;\r\nCREATE TABLE `vacations` (\r\n    `vacation_id` bigint NOT NULL AUTO_INCREMENT,\r\n    `create_date` datetime(6) DEFAULT NULL,\r\n    `description` varchar(255) DEFAULT NULL,\r\n    `image_url` varchar(255) DEFAULT NULL,\r\n    `last_update` datetime(6) DEFAULT NULL,\r\n    `travel_fare_price` decimal(19, 2) DEFAULT NULL,\r\n    `vacation_title` varchar(255) DEFAULT NULL,\r\n    PRIMARY KEY (`vacation_id`)\r\n) ENGINE = InnoDB AUTO_INCREMENT = 2 DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\r\nDROP TABLE IF EXISTS `divisions`;\r\nCREATE TABLE `divisions` (\r\n    `division` varchar(255) DEFAULT NULL,\r\n    `division_id` bigint NOT NULL AUTO_INCREMENT,\r\n    `create_date` datetime(6) DEFAULT NULL,\r\n    `last_update` datetime(6) DEFAULT NULL,\r\n    `country_id` bigint NOT NULL,\r\n    PRIMARY KEY (`division_id`),\r\n    KEY (`country_id`),\r\n    CONSTRAINT FOREIGN KEY (`country_id`) REFERENCES `countries` (`country_id`)\r\n) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\r\nDROP TABLE IF EXISTS `excursions`;\r\nCREATE TABLE `excursions` (\r\n    `excursion_id` bigint NOT NULL AUTO_INCREMENT,\r\n    `create_date` datetime(6) DEFAULT NULL,\r\n    `excursion_price` decimal(19, 2) DEFAULT NULL,\r\n    `excursion_title` varchar(255) DEFAULT NULL,\r\n    `image_url` varchar(255) DEFAULT NULL,\r\n    `last_update` datetime(6) DEFAULT NULL,\r\n    `vacation_id` bigint NOT NULL,\r\n    PRIMARY KEY (`excursion_id`),\r\n    KEY (`vacation_id`),\r\n    CONSTRAINT FOREIGN KEY (`vacation_id`) REFERENCES `vacations` (`vacation_id`)\r\n) ENGINE = InnoDB AUTO_INCREMENT = 2 DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\r\nDROP TABLE IF EXISTS `customers`;\r\nCREATE TABLE `customers` (\r\n    `customer_id` bigint NOT NULL AUTO_INCREMENT,\r\n    `address` varchar(255) DEFAULT NULL,\r\n    `create_date` datetime(6) DEFAULT NULL,\r\n    `customer_first_name` varchar(255) DEFAULT NULL,\r\n    `customer_last_name` varchar(255) DEFAULT NULL,\r\n    `last_update` datetime(6) DEFAULT NULL,\r\n    `phone` varchar(255) DEFAULT NULL,\r\n    `postal_code` varchar(255) DEFAULT NULL,\r\n    `division_id` bigint DEFAULT NULL,\r\n    PRIMARY KEY (`customer_id`),\r\n    KEY (`division_id`),\r\n    CONSTRAINT FOREIGN KEY (`division_id`) REFERENCES `divisions` (`division_id`)\r\n) ENGINE = InnoDB AUTO_INCREMENT = 2 DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\r\nDROP TABLE IF EXISTS `carts`;\r\nCREATE TABLE `carts` (\r\n    `cart_id` bigint NOT NULL AUTO_INCREMENT,\r\n    `package_price` decimal(19, 2) DEFAULT NULL,\r\n    `party_size` int DEFAULT NULL,\r\n    `status` ENUM (&#39;pending&#39;, &#39;ordered&#39;, &#39;canceled&#39;),\r\n    `order_tracking_number` varchar(255) DEFAULT NULL,\r\n    `create_date` datetime(6) DEFAULT NULL,\r\n    `last_update` datetime(6) DEFAULT NULL,\r\n    `customer_id` bigint NOT NULL,\r\n    PRIMARY KEY (`cart_id`),\r\n    KEY (`customer_id`),\r\n    CONSTRAINT FOREIGN KEY (`customer_id`) REFERENCES `customers` (`customer_id`)\r\n) ENGINE = InnoDB AUTO_INCREMENT = 2 DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\r\nDROP TABLE IF EXISTS `cart_items`;\r\nCREATE TABLE `cart_items` (\r\n    `cart_item_id` bigint NOT NULL AUTO_INCREMENT,\r\n    `create_date` datetime(6) DEFAULT NULL,\r\n    `last_update` datetime(6) DEFAULT NULL,\r\n    `cart_id` bigint NOT NULL,\r\n    `vacation_id` bigint NOT NULL,\r\n    PRIMARY KEY (`cart_item_id`),\r\n    KEY (`cart_id`),\r\n    KEY (`vacation_id`),\r\n    CONSTRAINT FOREIGN KEY (`vacation_id`) REFERENCES `vacations` (`vacation_id`),\r\n    CONSTRAINT FOREIGN KEY (`cart_id`) REFERENCES `carts` (`cart_id`)\r\n) ENGINE = InnoDB AUTO_INCREMENT = 2 DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\r\nDROP TABLE IF EXISTS `excursion_cartitem`;\r\nCREATE TABLE `excursion_cartitem` (\r\n    `cart_item_id` bigint NOT NULL,\r\n    `excursion_id` bigint NOT NULL,\r\n    PRIMARY KEY (`cart_item_id`, `excursion_id`),\r\n    KEY (`excursion_id`),\r\n    CONSTRAINT FOREIGN KEY (`cart_item_id`) REFERENCES `cart_items` (`cart_item_id`),\r\n    CONSTRAINT FOREIGN KEY (`excursion_id`) REFERENCES `excursions` (`excursion_id`)\r\n) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI was expecting it to insert into three tables :carts, cart_items, excursion_cartitem","title":"Cannot invoke &quot;com.example.demo.entities.Vacation.add(com.example.demo.entities.CartItem)&quot; because &quot;vacation&quot; is null","body":"<p>I get a Cannot invoke &quot;com.example.demo.entities.Vacation.add(com.example.demo.entities.CartItem)&quot; because &quot;vacation&quot; is null error when I run my spring boot maven app</p>\n<p>My Cart.java file</p>\n<pre><code>package com.example.demo.entities;\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.Setter;\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.hibernate.annotations.UpdateTimestamp;\nimport java.util.*;\nimport java.math.BigDecimal;\n\n@Entity\n@Table(name = &quot;carts&quot;)\n@Getter\n@Setter\npublic class Cart {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;cart_id&quot;)\n    private Long id;\n\n    @Column(name = &quot;order_tracking_number&quot;)\n    private String orderTrackingNumber;\n\n    @Column(name = &quot;package_price&quot;)\n    private BigDecimal package_price;\n\n    @Column(name = &quot;party_size&quot;)\n    private int party_size;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;status&quot;, nullable = false)\n    private StatusType status;\n\n    @CreationTimestamp\n    @Column(name = &quot;create_date&quot;)\n    private Date create_date;\n\n    @UpdateTimestamp\n    @Column(name = &quot;last_update&quot;)\n    private Date last_update;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;customer_id&quot;, nullable = false)\n    private Customer customer;\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;cart&quot;)\n    private Set&lt;CartItem&gt; cartItems = new HashSet&lt;&gt;();\n\n    public void add(CartItem cartItem){\n        if (cartItem!= null) {\n            if (cartItems == null) {\n                cartItems = new HashSet&lt;&gt;();\n            }\n            cartItems.add(cartItem);\n            cartItem.setCart(this);\n        }\n    }\n}\n</code></pre>\n<p>My CartItem.java file</p>\n<pre><code>package com.example.demo.entities;\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.Setter;\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.hibernate.annotations.UpdateTimestamp;\nimport java.util.*;\n\n@Entity@Table(name = &quot;cart_items&quot;)\n@Getter\n@Setter\npublic class CartItem {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;cart_item_id&quot;)\n    private Long id;\n\n    @CreationTimestamp\n    @Column(name = &quot;create_date&quot;)\n    private Date create_date;\n\n    @UpdateTimestamp\n    @Column(name = &quot;last_update&quot;)\n    private Date last_update;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;cart_id&quot;, nullable = false)\n    private Cart cart;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;vacation_id&quot;, nullable = false)\n    private Vacation vacation;\n\n    @OneToMany(mappedBy = &quot;cartItem&quot;)\n    Set&lt;ExcursionCartItem&gt; excursionCartItems = new HashSet&lt;&gt;();    \n\n    public void add(ExcursionCartItem excursionCartItem) {\n        if (excursionCartItem != null) {\n            if (excursionCartItems == null) {\n                excursionCartItems = new HashSet&lt;&gt;();\n            }\n            excursionCartItems.add(excursionCartItem);\n            excursionCartItem.setCartItem(this);\n        }\n    }\n}\n</code></pre>\n<p>My Excursion.java file</p>\n<pre><code>package com.example.demo.entities;\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.Setter;\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.hibernate.annotations.UpdateTimestamp;\nimport java.util.*;\nimport java.math.BigDecimal;\n\n@Entity\n@Table(name = &quot;excursions&quot;)\n@Getter\n@Setter\npublic class Excursion {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;excursion_id&quot;)\n    private Long id;\n\n    @Column(name = &quot;excursion_title&quot;)\n    private String excursion_title;\n\n    @Column(name = &quot;excursion_price&quot;)\n    private BigDecimal excursion_price;\n\n    @Column(name = &quot;image_URL&quot;)\n    private String image_URL;\n\n    @CreationTimestamp\n    @Column(name = &quot;create_date&quot;)\n    private Date create_date;\n\n    @UpdateTimestamp\n    @Column(name = &quot;last_update&quot;)\n    private Date last_update;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;vacation_id&quot;, nullable = false)\n    private Vacation vacation;\n\n    @OneToMany(mappedBy = &quot;excursion&quot;)\n    Set&lt;ExcursionCartItem&gt; excursionCartItems = new HashSet&lt;&gt;();\n\n    public void add(ExcursionCartItem excursionCartItem) {\n        if (excursionCartItem != null) {\n            if (excursionCartItems == null) {\n                excursionCartItems = new HashSet&lt;&gt;();\n            }\n            excursionCartItems.add(excursionCartItem);\n            excursionCartItem.setExcursion(this);\n        }\n    }\n}\n</code></pre>\n<p>My ExcursionCartItem.java file</p>\n<pre><code>package com.example.demo.entities;\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Getter\n@Setter\n@Entity\n@Table(name = &quot;excursion_cartitem&quot;)\npublic class ExcursionCartItem {\n\n    @EmbeddedId\n    private ExcursionCartItemKey id;\n\n    @ManyToOne\n    @MapsId(&quot;cartItemId&quot;)\n    @JoinColumn(name = &quot;cart_item_id&quot;)\n    CartItem cartItem;\n\n    @ManyToOne\n    @MapsId(&quot;excursionId&quot;)\n    @JoinColumn(name = &quot;excursion_id&quot;)\n    Excursion excursion;\n}\n</code></pre>\n<p>My ExcursionCartItemKey.java file</p>\n<pre><code>package com.example.demo.entities;\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.Setter;\nimport java.io.Serializable;\n\n@Getter\n@Setter\n@Embeddable\npublic class ExcursionCartItemKey implements Serializable {\n    @Column(name = &quot;cart_item_id&quot;)\n    Long cart_item_id;\n\n    @Column(name = &quot;excursion_id&quot;)\n    Long excursion_id;\n\n    //@ManyToOne @JoinColumn(name = &quot;cart_item_id&quot;)\n    //@ManyToOne(cascade = CascadeType.ALL)\n    //@MapsId(&quot;cart_item_id&quot;)\n    //private CartItem cartItem;\n\n    //@ManyToOne(cascade = CascadeType.ALL)\n    //@MapsId(&quot;excursion_id&quot;)\n    //private Excursion excursion;\n\n    //@ManyToOne @JoinColumn(name = &quot;excursion_id&quot;)\n    //private Excursion excursion;\n}\n</code></pre>\n<p>My Vacation.java file</p>\n<pre><code>package com.example.demo.entities;\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.Setter;\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.hibernate.annotations.UpdateTimestamp;\nimport java.util.*;\n\n@Entity\n@Table(name = &quot;vacations&quot;)\n@Getter\n@Setterpublic class Vacation {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;vacation_id&quot;)\n    private int id;\n\n    @Column(name = &quot;vacation_title&quot;)\n    private String vacation_title;\n\n    @Column(name = &quot;description&quot;)\n    private String description;\n\n    @Column(name = &quot;travel_fare_price&quot;)\n    private Double travel_price;\n\n    @Column(name = &quot;image_URL&quot;)\n    private String image_URL;\n\n    @CreationTimestamp\n    @Column(name = &quot;create_date&quot;)\n    private Date create_date;\n\n    @UpdateTimestamp\n    @Column(name = &quot;last_update&quot;)\n    private Date last_update;\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;vacation&quot;)\n    private Set&lt;CartItem&gt; cartItems = new HashSet&lt;&gt;(); \n\n   @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;vacation&quot;)\n    private Set&lt;Excursion&gt; excursions = new HashSet&lt;&gt;();\n\n    public void add(CartItem cartItem){\n        if (cartItem!= null) {\n            if (cartItems == null) {\n                cartItems = new HashSet&lt;&gt;();\n            }\n            cartItems.add(cartItem);\n            cartItem.setVacation(this);\n        }\n    }\n}\n</code></pre>\n<p>My Purchase.java file</p>\n<pre><code>package com.example.demo.services;\nimport com.example.demo.entities.*;\nimport lombok.Setter;\nimport lombok.Getter;\nimport java.util.Set;\n\n@Setter\n@Getter\npublic class Purchase {    \n    private Customer customer;    \n    private Cart cart;    \n    private CartItem cartItem;    \n    private ExcursionCartItem excursionCartItem;    \n    private Excursion excursion;\n    private Vacation vacation;\n    private Set&lt;CartItem&gt; cartItems;\n    private Set&lt;ExcursionCartItem&gt; excursionCartItems;\n}\n</code></pre>\n<p>My PurchaseResponse.java file</p>\n<pre><code>package com.example.demo.services;\nimport lombok.Getter;\nimport lombok.Setter;\n@Setter@Getterpublic class PurchaseResponse {\n    private final String orderTrackingNumber;\n\n    public PurchaseResponse(String orderTrackingNumber) {\n        this.orderTrackingNumber = orderTrackingNumber;\n    }\n}\n</code></pre>\n<p>My CheckoutService.java file</p>\n<pre><code>package com.example.demo.services;\nimport org.springframework.web.bind.annotation.CrossOrigin;\n\n@CrossOrigin\npublic interface CheckoutService {\n    PurchaseResponse placeOrder(Purchase purchase);\n}\n</code></pre>\n<p>My CheckoutServiceImpl.java file</p>\n<pre><code>package com.example.demo.services;\nimport com.example.demo.dao.CartRepository;\nimport com.example.demo.dao.ExcursionCartItemRepository;\nimport com.example.demo.dao.VacationRepository;\nimport com.example.demo.entities.*;\nimport jakarta.transaction.Transactional;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport java.util.Set;import java.util.UUID;\n\n@Service\npublic class CheckoutServiceImpl implements CheckoutService{\n    @Autowired\n\n    private CartRepository cartRepository;\n    @Autowired\n    public CheckoutServiceImpl(CartRepository cartRepository) {\n        this.cartRepository = cartRepository;\n    }\n\n    @Override\n    @Transactional\n    public PurchaseResponse placeOrder(Purchase purchase) {\n        // retrieve the cart info from entity\n        Cart cart = purchase.getCart();\n        CartItem cartItem = purchase.getCartItem();\n        ExcursionCartItem excursionCartItem = purchase.getExcursionCartItem();\n        Excursion excursion = purchase.getExcursion();\n        Vacation vacation = purchase.getVacation();\n\n        // generate tracking number\n        String orderTrackingNumber = generateOrderTrackingNumber();\n        cart.setOrderTrackingNumber(orderTrackingNumber);\n        cart.setStatus(StatusType.ordered);\n\n        // populate cart with cartItems\n        Set&lt;CartItem&gt; cartItems = purchase.getCartItems();\n        cartItems.forEach(item -&gt; cart.add(item));\n        cartItems.forEach(item -&gt; vacation.add(item));\n\n        Set&lt;ExcursionCartItem&gt; excursionCartItems = purchase.getExcursionCartItems();\n        excursionCartItems.forEach(item -&gt; cartItem.add(item));\n        excursionCartItems.forEach(item -&gt; excursion.add(item));\n        cartRepository.save(cart);\n\n        // return a response\n        return new PurchaseResponse(orderTrackingNumber);\n    }\n\n    private String generateOrderTrackingNumber() {\n        // generate a random UUID number\n        return UUID.randomUUID().toString();\n    }\n}\n</code></pre>\n<p>Table structure</p>\n<pre><code>DROP DATABASE IF EXISTS `full-stack-ecommerce`;\nCREATE DATABASE `full-stack-ecommerce`;\nUSE `full-stack-ecommerce`;\nDROP TABLE IF EXISTS `countries`;\nCREATE TABLE `countries` (\n    `country_id` bigint NOT NULL AUTO_INCREMENT,\n    `country` varchar(255) DEFAULT NULL,\n    `create_date` datetime(6) DEFAULT NULL,\n    `last_update` datetime(6) DEFAULT NULL,\n    PRIMARY KEY (`country_id`)\n) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\nDROP TABLE IF EXISTS `vacations`;\nCREATE TABLE `vacations` (\n    `vacation_id` bigint NOT NULL AUTO_INCREMENT,\n    `create_date` datetime(6) DEFAULT NULL,\n    `description` varchar(255) DEFAULT NULL,\n    `image_url` varchar(255) DEFAULT NULL,\n    `last_update` datetime(6) DEFAULT NULL,\n    `travel_fare_price` decimal(19, 2) DEFAULT NULL,\n    `vacation_title` varchar(255) DEFAULT NULL,\n    PRIMARY KEY (`vacation_id`)\n) ENGINE = InnoDB AUTO_INCREMENT = 2 DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\nDROP TABLE IF EXISTS `divisions`;\nCREATE TABLE `divisions` (\n    `division` varchar(255) DEFAULT NULL,\n    `division_id` bigint NOT NULL AUTO_INCREMENT,\n    `create_date` datetime(6) DEFAULT NULL,\n    `last_update` datetime(6) DEFAULT NULL,\n    `country_id` bigint NOT NULL,\n    PRIMARY KEY (`division_id`),\n    KEY (`country_id`),\n    CONSTRAINT FOREIGN KEY (`country_id`) REFERENCES `countries` (`country_id`)\n) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\nDROP TABLE IF EXISTS `excursions`;\nCREATE TABLE `excursions` (\n    `excursion_id` bigint NOT NULL AUTO_INCREMENT,\n    `create_date` datetime(6) DEFAULT NULL,\n    `excursion_price` decimal(19, 2) DEFAULT NULL,\n    `excursion_title` varchar(255) DEFAULT NULL,\n    `image_url` varchar(255) DEFAULT NULL,\n    `last_update` datetime(6) DEFAULT NULL,\n    `vacation_id` bigint NOT NULL,\n    PRIMARY KEY (`excursion_id`),\n    KEY (`vacation_id`),\n    CONSTRAINT FOREIGN KEY (`vacation_id`) REFERENCES `vacations` (`vacation_id`)\n) ENGINE = InnoDB AUTO_INCREMENT = 2 DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\nDROP TABLE IF EXISTS `customers`;\nCREATE TABLE `customers` (\n    `customer_id` bigint NOT NULL AUTO_INCREMENT,\n    `address` varchar(255) DEFAULT NULL,\n    `create_date` datetime(6) DEFAULT NULL,\n    `customer_first_name` varchar(255) DEFAULT NULL,\n    `customer_last_name` varchar(255) DEFAULT NULL,\n    `last_update` datetime(6) DEFAULT NULL,\n    `phone` varchar(255) DEFAULT NULL,\n    `postal_code` varchar(255) DEFAULT NULL,\n    `division_id` bigint DEFAULT NULL,\n    PRIMARY KEY (`customer_id`),\n    KEY (`division_id`),\n    CONSTRAINT FOREIGN KEY (`division_id`) REFERENCES `divisions` (`division_id`)\n) ENGINE = InnoDB AUTO_INCREMENT = 2 DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\nDROP TABLE IF EXISTS `carts`;\nCREATE TABLE `carts` (\n    `cart_id` bigint NOT NULL AUTO_INCREMENT,\n    `package_price` decimal(19, 2) DEFAULT NULL,\n    `party_size` int DEFAULT NULL,\n    `status` ENUM ('pending', 'ordered', 'canceled'),\n    `order_tracking_number` varchar(255) DEFAULT NULL,\n    `create_date` datetime(6) DEFAULT NULL,\n    `last_update` datetime(6) DEFAULT NULL,\n    `customer_id` bigint NOT NULL,\n    PRIMARY KEY (`cart_id`),\n    KEY (`customer_id`),\n    CONSTRAINT FOREIGN KEY (`customer_id`) REFERENCES `customers` (`customer_id`)\n) ENGINE = InnoDB AUTO_INCREMENT = 2 DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\nDROP TABLE IF EXISTS `cart_items`;\nCREATE TABLE `cart_items` (\n    `cart_item_id` bigint NOT NULL AUTO_INCREMENT,\n    `create_date` datetime(6) DEFAULT NULL,\n    `last_update` datetime(6) DEFAULT NULL,\n    `cart_id` bigint NOT NULL,\n    `vacation_id` bigint NOT NULL,\n    PRIMARY KEY (`cart_item_id`),\n    KEY (`cart_id`),\n    KEY (`vacation_id`),\n    CONSTRAINT FOREIGN KEY (`vacation_id`) REFERENCES `vacations` (`vacation_id`),\n    CONSTRAINT FOREIGN KEY (`cart_id`) REFERENCES `carts` (`cart_id`)\n) ENGINE = InnoDB AUTO_INCREMENT = 2 DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\nDROP TABLE IF EXISTS `excursion_cartitem`;\nCREATE TABLE `excursion_cartitem` (\n    `cart_item_id` bigint NOT NULL,\n    `excursion_id` bigint NOT NULL,\n    PRIMARY KEY (`cart_item_id`, `excursion_id`),\n    KEY (`excursion_id`),\n    CONSTRAINT FOREIGN KEY (`cart_item_id`) REFERENCES `cart_items` (`cart_item_id`),\n    CONSTRAINT FOREIGN KEY (`excursion_id`) REFERENCES `excursions` (`excursion_id`)\n) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;\n</code></pre>\n<p>I was expecting it to insert into three tables :carts, cart_items, excursion_cartitem</p>\n"},{"tags":["java","inversion-of-control"],"comments":[{"owner":{"account_id":8397558,"reputation":4568,"user_id":6304094,"display_name":"Kevin Anderson"},"score":1,"creation_date":1602586970,"post_id":64333953,"comment_id":113761623,"body_markdown":"Does the book mention the phrase &quot;Don&#39;t call us, we&#39;ll call you&quot;?","body":"Does the book mention the phrase &quot;Don&#39;t call us, we&#39;ll call you&quot;?"},{"owner":{"account_id":13370794,"reputation":165,"user_id":9649306,"display_name":"ABC"},"score":0,"creation_date":1602587459,"post_id":64333953,"comment_id":113761876,"body_markdown":"@Kevin Anderson Yes!","body":"@Kevin Anderson Yes!"},{"owner":{"account_id":8397558,"reputation":4568,"user_id":6304094,"display_name":"Kevin Anderson"},"score":2,"creation_date":1602591477,"post_id":64333953,"comment_id":113763713,"body_markdown":"The &quot;Hollywood&quot; connection is that &quot;Don&#39;t call us; we&#39;ll call you&quot; is allegedly the standard polite-but-unmistakable phrase of dismissal used in show business.  It&#39;s kind of a standard joke: aspiring actor steps to the stage, introduces himself and begins his audition; ten seconds in, casting director pipes in with &quot;Thank you, that will be all. Don&#39;t call us; we&#39;ll call you.  NEXT!&quot;.","body":"The &quot;Hollywood&quot; connection is that &quot;Don&#39;t call us; we&#39;ll call you&quot; is allegedly the standard polite-but-unmistakable phrase of dismissal used in show business.  It&#39;s kind of a standard joke: aspiring actor steps to the stage, introduces himself and begins his audition; ten seconds in, casting director pipes in with &quot;Thank you, that will be all. Don&#39;t call us; we&#39;ll call you.  NEXT!&quot;."}],"answers":[{"tags":[],"owner":{"account_id":9936075,"reputation":1362,"user_id":7354378,"display_name":"Faramarz Qoshchi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1658127929,"creation_date":1656662990,"answer_id":72826245,"question_id":64333953,"body_markdown":"It&#39;s been a while but due to the number of viewers, i explain it.\r\n\r\n**The Hollywood** Principle which sometimes referred to as **Inversion of Control** says &quot;Don&#39;t call us, we&#39;ll call you&quot; Which in terms of software engineering it states that an object which depends on another one should not call it but should wait for the other to call it.    \r\n\r\nThis principle defines the IOC with more abstraction. As you know IoC defines  inversing the control of dependencies. So first of all you should have a control center responsible for controlling dependencies i.e for making instance of them. This control center then inverses the flow of making instance of classes. So when you want to use *ClassA* in *ClassB*, you won&#39;t create instance of *ClassB* then Call *ClassA*. You make instance of *ClassA* and pass it to *ClassB* using different techniques and use it.      \r\n\r\nFor more information about IoC have some invest on the internet as i just explained some basic concepts.","title":"I don&#39;t understand the Hollywood Principle","body":"<p>It's been a while but due to the number of viewers, i explain it.</p>\n<p><strong>The Hollywood</strong> Principle which sometimes referred to as <strong>Inversion of Control</strong> says &quot;Don't call us, we'll call you&quot; Which in terms of software engineering it states that an object which depends on another one should not call it but should wait for the other to call it.</p>\n<p>This principle defines the IOC with more abstraction. As you know IoC defines  inversing the control of dependencies. So first of all you should have a control center responsible for controlling dependencies i.e for making instance of them. This control center then inverses the flow of making instance of classes. So when you want to use <em>ClassA</em> in <em>ClassB</em>, you won't create instance of <em>ClassB</em> then Call <em>ClassA</em>. You make instance of <em>ClassA</em> and pass it to <em>ClassB</em> using different techniques and use it.</p>\n<p>For more information about IoC have some invest on the internet as i just explained some basic concepts.</p>\n"},{"tags":[],"owner":{"account_id":4788690,"reputation":877,"user_id":3868454,"accept_rate":60,"display_name":"Nick Legend"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692535701,"creation_date":1692534265,"answer_id":76939374,"question_id":64333953,"body_markdown":"I would have a look at the &quot;library vs framework&quot; ambiguity problem. Here&#39;s one of the article found in Google search: [The Difference Between a Framework and a Library](https://www.baeldung.com/cs/framework-vs-library).\r\n\r\n**In short:** A *library* is called by our program (so **we** call the library when **we** need it); a *framework* calls our program&#39;s fragments when **it** needs this.\r\n","title":"I don&#39;t understand the Hollywood Principle","body":"<p>I would have a look at the &quot;library vs framework&quot; ambiguity problem. Here's one of the article found in Google search: <a href=\"https://www.baeldung.com/cs/framework-vs-library\" rel=\"nofollow noreferrer\">The Difference Between a Framework and a Library</a>.</p>\n<p><strong>In short:</strong> A <em>library</em> is called by our program (so <strong>we</strong> call the library when <strong>we</strong> need it); a <em>framework</em> calls our program's fragments when <strong>it</strong> needs this.</p>\n"}],"owner":{"account_id":13370794,"reputation":165,"user_id":9649306,"display_name":"ABC"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5594,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":2,"score":5,"last_activity_date":1692535701,"creation_date":1602586826,"question_id":64333953,"body_markdown":"sorry for my English.\r\n\r\nI stumble upon this principle when reading the &quot;Head First Design Patterns&quot; book. I see other peoples ask on StackOverFlow the same question and a few articles but I still don&#39;t understand it.\r\n\r\nCan someone explain it in the simplest term for me? \r\n\r\nMost of the example I&#39;ve read is assuming that the reader already uses a framework supporting IoC like Spring. I never use those frameworks before because I&#39;m still a beginner.\r\n\r\nThank you.","title":"I don&#39;t understand the Hollywood Principle","body":"<p>sorry for my English.</p>\n<p>I stumble upon this principle when reading the &quot;Head First Design Patterns&quot; book. I see other peoples ask on StackOverFlow the same question and a few articles but I still don't understand it.</p>\n<p>Can someone explain it in the simplest term for me?</p>\n<p>Most of the example I've read is assuming that the reader already uses a framework supporting IoC like Spring. I never use those frameworks before because I'm still a beginner.</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring-boot","stripe-payments","webhooks","payment"],"comments":[{"owner":{"account_id":3220603,"reputation":2133,"user_id":2718163,"display_name":"alex"},"score":0,"creation_date":1691965843,"post_id":76894907,"comment_id":135558331,"body_markdown":"I recommend you reach out to Stripe support : https://support.stripe.com/contact with the Subscription id. They&#39;ll be able to investigate further and explain why.","body":"I recommend you reach out to Stripe support : <a href=\"https://support.stripe.com/contact\" rel=\"nofollow noreferrer\">support.stripe.com/contact</a> with the Subscription id. They&#39;ll be able to investigate further and explain why."}],"answers":[{"tags":[],"owner":{"account_id":29251325,"reputation":1013,"user_id":22410625,"display_name":"Lucky2501"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692361649,"creation_date":1692361649,"answer_id":76929341,"question_id":76894907,"body_markdown":"With the little information available, this could be due to your end payment requiring additional actions (eg 3DSecure).\r\n\r\nWhen payment intents are confirmed, it returns a Charge object.\r\nIf additional actions are required as a result of this confirmation, the charge is failed.\r\n\r\nThis failure isn&#39;t surfaced as a payment_intent.payment_failed event or charge.failed event, however if an Invoice is parented to your flow (which it is for Subscriptions), an invoice.payment_failed event would trigger.","title":"Why stripe first send invoice.payment_failed webhook","body":"<p>With the little information available, this could be due to your end payment requiring additional actions (eg 3DSecure).</p>\n<p>When payment intents are confirmed, it returns a Charge object.\nIf additional actions are required as a result of this confirmation, the charge is failed.</p>\n<p>This failure isn't surfaced as a payment_intent.payment_failed event or charge.failed event, however if an Invoice is parented to your flow (which it is for Subscriptions), an invoice.payment_failed event would trigger.</p>\n"},{"tags":[],"owner":{"account_id":29251325,"reputation":1013,"user_id":22410625,"display_name":"Lucky2501"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692535319,"creation_date":1692432368,"answer_id":76934138,"question_id":76894907,"body_markdown":"&gt; how I can handle this , how to differentiate that so that invoice.payment_failed event not actually failed and not save as a failed entry in my database.\r\n\r\nAs I mentioned, this failure isn&#39;t surfaced at Payment Intent and Charge-level, so you could listen to events for those objects rather than Invoices and solve your problem.\r\n\r\nIf we look at the `invoice.payment_failed` event specifically, it would be sent with `charge:null` if:  \r\n1-The downstream Payment Intent requires additional actions (eg. 3DSecure)  \r\n2-The customer failed this additional action.  \r\n3-The Invoice has no Payment Method to charge (missing or not set as default on Customer / Subscription)  \r\n\r\nIf you&#39;re happy ignoring all of the above scenarios, then feel free to ignore the `invoice.payment_failed` event if it includes `charge:null`.  \r\nIf you don&#39;t want to ignore some of these scenarios (I&#39;m thinking of (2) specifically), then what you should do is listen to other events like `payment_intent.payment_failed` to get more context as to why the `invoice.payment_failed` triggered.","title":"Why stripe first send invoice.payment_failed webhook","body":"<blockquote>\n<p>how I can handle this , how to differentiate that so that invoice.payment_failed event not actually failed and not save as a failed entry in my database.</p>\n</blockquote>\n<p>As I mentioned, this failure isn't surfaced at Payment Intent and Charge-level, so you could listen to events for those objects rather than Invoices and solve your problem.</p>\n<p>If we look at the <code>invoice.payment_failed</code> event specifically, it would be sent with <code>charge:null</code> if:<br />\n1-The downstream Payment Intent requires additional actions (eg. 3DSecure)<br />\n2-The customer failed this additional action.<br />\n3-The Invoice has no Payment Method to charge (missing or not set as default on Customer / Subscription)</p>\n<p>If you're happy ignoring all of the above scenarios, then feel free to ignore the <code>invoice.payment_failed</code> event if it includes <code>charge:null</code>.<br />\nIf you don't want to ignore some of these scenarios (I'm thinking of (2) specifically), then what you should do is listen to other events like <code>payment_intent.payment_failed</code> to get more context as to why the <code>invoice.payment_failed</code> triggered.</p>\n"}],"owner":{"account_id":29218316,"reputation":13,"user_id":22384611,"display_name":"JAY"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76934138,"answer_count":2,"score":-1,"last_activity_date":1692535319,"creation_date":1691955255,"question_id":76894907,"body_markdown":"Why stripe first send invoice.payment_failed webhook webhook event even subscription transaction is successfully completed\r\n\r\nI know in unsuccessful transaction it is common but every transaction(every subscription payment) stripe send invoice.payment_failed. Please explain this why stripe send that event.\r\n\r\nI check stripe webhook event it like \r\nSubscription created\r\nInvoice failed \r\nSo on....\r\nLast checkout session completed ","title":"Why stripe first send invoice.payment_failed webhook","body":"<p>Why stripe first send invoice.payment_failed webhook webhook event even subscription transaction is successfully completed</p>\n<p>I know in unsuccessful transaction it is common but every transaction(every subscription payment) stripe send invoice.payment_failed. Please explain this why stripe send that event.</p>\n<p>I check stripe webhook event it like\nSubscription created\nInvoice failed\nSo on....\nLast checkout session completed</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":0,"creation_date":1692535349,"post_id":76939413,"comment_id":135633883,"body_markdown":"I don&#39;t understand why you would use a &quot;StringListConverter&quot; while JPA 1.0 already support collection type attribute, especially `List&lt;String&gt;`, and allow ... querying on a collection ? see https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#collections","body":"I don&#39;t understand why you would use a &quot;StringListConverter&quot; while JPA 1.0 already support collection type attribute, especially <code>List&lt;String&gt;</code>, and allow ... querying on a collection ? see <a href=\"https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#collections\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/6.2/userguide/html_single/&hellip;</a>"}],"owner":{"account_id":26342006,"reputation":3,"user_id":20000964,"display_name":"2WB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692535082,"creation_date":1692534956,"question_id":76939413,"body_markdown":"I&#39;m working on a Spring Boot application with MySQL db, where I have several related entities: Listing, Lesson, Classroom, and others. I want to implement a filter endpoint for the Listing entity that allows me to filter results based on various criteria like classroomType, groupLimit, priceFrom, priceTo, languageId, categoryId, lessonStart, lessonEnd, page, and pageLimit. Also a &quot;searchQuery&quot; criteria, which would filter Listings by matching Listing.keywords list. How can I implement such a comprehensive filtering endpoint in Spring Boot?\r\n&lt;br&gt;&lt;br&gt;Additionally, I&#39;m curious if there are any libraries available that could streamline the process of building and managing this kind of filtering functionality.\r\n\r\nThank you in advance for any insights or guidance!\r\n\r\nHere is structure of my entities:\r\n```\r\n@Entity\r\n@Table(name = &quot;listing&quot;)\r\n@Data\r\npublic class Listing {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false)\r\n    private String title;\r\n\r\n    @Column(nullable = false, length = 2000)\r\n    private String description;\r\n\r\n    @Convert(converter = StringListConverter.class)\r\n    @Column(nullable = false, length = 2000)\r\n    private List&lt;String&gt; keywords;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;category_id&quot;, nullable = false)\r\n    private Category category;\r\n\r\n    @OneToMany\r\n    @JoinColumn(name = &quot;listing_id&quot;)\r\n    private List&lt;Lesson&gt; lessons;\r\n```\r\n```\r\n\r\n@Entity\r\n@Table(name = &quot;lesson&quot;)\r\n@Data\r\npublic class Lesson {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;start_date&quot;, nullable = false)\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;)\r\n    private LocalDateTime startDate;\r\n\r\n    @Column(name = &quot;end_date&quot;, nullable = false)\r\n    private LocalDateTime endDate;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;language_id&quot;, nullable = false)\r\n    private Language language;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;classroom_id&quot;, nullable = false)\r\n    private Classroom classroom;\r\n\r\n    @Column(nullable = false)\r\n    private double price;\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;classroom&quot;)\r\n@Data\r\npublic class Classroom {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;group_limit&quot;, nullable = false)\r\n    private int groupLimit;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(nullable = false)\r\n    private ClassroomType type;\r\n\r\n}\r\n```\r\n```\r\npublic class Language {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false)\r\n    private String code;\r\n}\r\n```\r\n\r\n```\r\npublic class Category {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false)\r\n    private String title;\r\n}\r\n```\r\n```\r\n@Converter\r\npublic class StringListConverter implements AttributeConverter&lt;List&lt;String&gt;, String&gt; {\r\n    private static final String SPLIT_CHAR = &quot;;&quot;;\r\n\r\n    @Override\r\n    public String convertToDatabaseColumn(List&lt;String&gt; stringList) {\r\n        return stringList != null ? String.join(SPLIT_CHAR, stringList) : &quot;&quot;;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;String&gt; convertToEntityAttribute(String string) {\r\n        return string != null ? Arrays.asList(string.split(SPLIT_CHAR)) : emptyList();\r\n    }\r\n}\r\n```\r\n\r\n","title":"Nested filtering in spring boot","body":"<p>I'm working on a Spring Boot application with MySQL db, where I have several related entities: Listing, Lesson, Classroom, and others. I want to implement a filter endpoint for the Listing entity that allows me to filter results based on various criteria like classroomType, groupLimit, priceFrom, priceTo, languageId, categoryId, lessonStart, lessonEnd, page, and pageLimit. Also a &quot;searchQuery&quot; criteria, which would filter Listings by matching Listing.keywords list. How can I implement such a comprehensive filtering endpoint in Spring Boot?\n<br><br>Additionally, I'm curious if there are any libraries available that could streamline the process of building and managing this kind of filtering functionality.</p>\n<p>Thank you in advance for any insights or guidance!</p>\n<p>Here is structure of my entities:</p>\n<pre><code>@Entity\n@Table(name = &quot;listing&quot;)\n@Data\npublic class Listing {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false)\n    private String title;\n\n    @Column(nullable = false, length = 2000)\n    private String description;\n\n    @Convert(converter = StringListConverter.class)\n    @Column(nullable = false, length = 2000)\n    private List&lt;String&gt; keywords;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;category_id&quot;, nullable = false)\n    private Category category;\n\n    @OneToMany\n    @JoinColumn(name = &quot;listing_id&quot;)\n    private List&lt;Lesson&gt; lessons;\n</code></pre>\n<pre><code>\n@Entity\n@Table(name = &quot;lesson&quot;)\n@Data\npublic class Lesson {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;start_date&quot;, nullable = false)\n    @JsonFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss'Z'&quot;)\n    private LocalDateTime startDate;\n\n    @Column(name = &quot;end_date&quot;, nullable = false)\n    private LocalDateTime endDate;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;language_id&quot;, nullable = false)\n    private Language language;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;classroom_id&quot;, nullable = false)\n    private Classroom classroom;\n\n    @Column(nullable = false)\n    private double price;\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;classroom&quot;)\n@Data\npublic class Classroom {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;group_limit&quot;, nullable = false)\n    private int groupLimit;\n\n    @Enumerated(EnumType.STRING)\n    @Column(nullable = false)\n    private ClassroomType type;\n\n}\n</code></pre>\n<pre><code>public class Language {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false)\n    private String code;\n}\n</code></pre>\n<pre><code>public class Category {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false)\n    private String title;\n}\n</code></pre>\n<pre><code>@Converter\npublic class StringListConverter implements AttributeConverter&lt;List&lt;String&gt;, String&gt; {\n    private static final String SPLIT_CHAR = &quot;;&quot;;\n\n    @Override\n    public String convertToDatabaseColumn(List&lt;String&gt; stringList) {\n        return stringList != null ? String.join(SPLIT_CHAR, stringList) : &quot;&quot;;\n    }\n\n    @Override\n    public List&lt;String&gt; convertToEntityAttribute(String string) {\n        return string != null ? Arrays.asList(string.split(SPLIT_CHAR)) : emptyList();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":708374,"reputation":20953,"user_id":618059,"accept_rate":100,"display_name":"Michael Minella"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1692534189,"creation_date":1482951061,"answer_id":41368027,"question_id":41271606,"body_markdown":"This isn&#39;t a &quot;Boot thing&quot; as much as it is a &quot;Batch thing&quot;.  Spring Batch has the rule that a `JobInstance` can only be run once to completion.  This means that for each combination of identifying job parameters, you can only have one `JobExecution` that results in `COMPLETE`.  A `RunIdIncrementer` will append an additional, unique parameter to the list of parameters so that the resulting combination would be unique...giving you a new `JobInstance` each time you ran the job with the same combination of identifying parameters.\r\n\r\nThe `RunIdIncrementer` is really just a special case of the `JobParametersIncrementer` which you can read more about in our documentation [here][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-batch/docs/current/reference/html/index-single.html#JobParametersIncrementer","title":"What is the function of JobBuilderFactory.get(job).incrementer(RunIdIncrementer)?","body":"<p>This isn't a &quot;Boot thing&quot; as much as it is a &quot;Batch thing&quot;.  Spring Batch has the rule that a <code>JobInstance</code> can only be run once to completion.  This means that for each combination of identifying job parameters, you can only have one <code>JobExecution</code> that results in <code>COMPLETE</code>.  A <code>RunIdIncrementer</code> will append an additional, unique parameter to the list of parameters so that the resulting combination would be unique...giving you a new <code>JobInstance</code> each time you ran the job with the same combination of identifying parameters.</p>\n<p>The <code>RunIdIncrementer</code> is really just a special case of the <code>JobParametersIncrementer</code> which you can read more about in our documentation <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/index-single.html#JobParametersIncrementer\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":4269612,"reputation":1054,"user_id":3491770,"accept_rate":88,"display_name":"LumberSzquatch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20118,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":41368027,"answer_count":1,"score":13,"last_activity_date":1692534189,"creation_date":1482353164,"question_id":41271606,"body_markdown":"I&#39;m developing a Spring-Batch project using Spring-Boot and everything is going along nicely. I&#39;ve done a few spring-batch examples (including some from spring.io), but I&#39;m not sure what some of the stuff does, and &quot;it just works&quot; doesn&#39;t satiate me.\r\n\r\nMy spring boot main class implements `CommandLineRunner` and for this particular job the initial set up looked like \r\n\r\n\t@Bean\r\n\tpublic Job myJob(JobExecutionListenerSupport listener) {\r\n\t\treturn myJobBuilderFactory.get(JOB)\r\n                .listener(listener)\r\n\t\t\t\t.start(myStep())\r\n                .build();\r\n\t}\r\n\r\nWhich caused \r\n\r\n    java.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:809) ~[spring-boot-1.3.2.RELEASE.jar:1.3.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:790) ~[spring-boot-1.3.2.RELEASE.jar:1.3.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.afterRefresh(SpringApplication.java:777) [spring-boot-1.3.2.RELEASE.jar:1.3.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) [spring-boot-1.3.2.RELEASE.jar:1.3.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1191) [spring-boot-1.3.2.RELEASE.jar:1.3.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1180) [spring-boot-1.3.2.RELEASE.jar:1.3.2.RELEASE]\r\n    \tat org.bjc.providermodel.maintenance.MaintenanceApplication.main(MaintenanceApplication.java:20) [classes/:?]\r\n    Caused by: org.springframework.batch.core.repository.JobExecutionAlreadyRunningException: A job execution for this job is already running: JobInstance: id=99, version=0, Job=[myJob]\r\n   \r\nWhy does changing the above bean to\r\n\r\n    @Bean\r\n    public Job myJob(JobExecutionListenerSupport listener) {\r\n    \treturn myJobBuilderFactory.get(JOB)\r\n    \t\t\t.incrementer(new RunIdIncrementer())\r\n                .listener(listener)\r\n    \t\t\t.start(myStep())\r\n                .build();\r\n    }\r\nMake everything go smoothly? I attempted to read up on the doc for `RunIdIncrementer` and also read up a little [here](http://docs.spring.io/spring-batch/apidocs/org/springframework/batch/core/launch/support/CommandLineJobRunner.html). From what I can tell it needs this incrementer to keep track of a particular set of jobs that are running to do &quot;stuff&quot;, but not sure what stuff is exactly. The Spring-Boot abstraction is making it hard for me to know what&#39;s going on here","title":"What is the function of JobBuilderFactory.get(job).incrementer(RunIdIncrementer)?","body":"<p>I'm developing a Spring-Batch project using Spring-Boot and everything is going along nicely. I've done a few spring-batch examples (including some from spring.io), but I'm not sure what some of the stuff does, and \"it just works\" doesn't satiate me.</p>\n\n<p>My spring boot main class implements <code>CommandLineRunner</code> and for this particular job the initial set up looked like </p>\n\n<pre><code>@Bean\npublic Job myJob(JobExecutionListenerSupport listener) {\n    return myJobBuilderFactory.get(JOB)\n            .listener(listener)\n            .start(myStep())\n            .build();\n}\n</code></pre>\n\n<p>Which caused </p>\n\n<pre><code>java.lang.IllegalStateException: Failed to execute CommandLineRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:809) ~[spring-boot-1.3.2.RELEASE.jar:1.3.2.RELEASE]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:790) ~[spring-boot-1.3.2.RELEASE.jar:1.3.2.RELEASE]\n    at org.springframework.boot.SpringApplication.afterRefresh(SpringApplication.java:777) [spring-boot-1.3.2.RELEASE.jar:1.3.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) [spring-boot-1.3.2.RELEASE.jar:1.3.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1191) [spring-boot-1.3.2.RELEASE.jar:1.3.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1180) [spring-boot-1.3.2.RELEASE.jar:1.3.2.RELEASE]\n    at org.bjc.providermodel.maintenance.MaintenanceApplication.main(MaintenanceApplication.java:20) [classes/:?]\nCaused by: org.springframework.batch.core.repository.JobExecutionAlreadyRunningException: A job execution for this job is already running: JobInstance: id=99, version=0, Job=[myJob]\n</code></pre>\n\n<p>Why does changing the above bean to</p>\n\n<pre><code>@Bean\npublic Job myJob(JobExecutionListenerSupport listener) {\n    return myJobBuilderFactory.get(JOB)\n            .incrementer(new RunIdIncrementer())\n            .listener(listener)\n            .start(myStep())\n            .build();\n}\n</code></pre>\n\n<p>Make everything go smoothly? I attempted to read up on the doc for <code>RunIdIncrementer</code> and also read up a little <a href=\"http://docs.spring.io/spring-batch/apidocs/org/springframework/batch/core/launch/support/CommandLineJobRunner.html\" rel=\"noreferrer\">here</a>. From what I can tell it needs this incrementer to keep track of a particular set of jobs that are running to do \"stuff\", but not sure what stuff is exactly. The Spring-Boot abstraction is making it hard for me to know what's going on here</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":1511501,"reputation":129,"user_id":1413502,"accept_rate":91,"display_name":"Ruminator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692533906,"creation_date":1628631581,"answer_id":68733744,"question_id":68686181,"body_markdown":"Turns out, I needed to make sure that the files were open before hitting the processor.  What I did was set up two Tasklets - one to open the file, and one to close the file, and then added them to the job configuration as appropriate (```Open``` before the regular step, and ```Close``` after the regular step).\r\n\r\n**Tasklets:**\r\n\r\n```\r\npublic class OpenSubFileTask implements Tasklet {\r\n \r\n      @Autowired\r\n      SingleItemPeekableItemReader&lt;Data&gt; readerPeek;\r\n \r\n \r\n      public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception\r\n      {\r\n      readerPeek.open(contribution.getStepExecution().getExecutionContext());\r\n            return RepeatStatus.FINISHED;\r\n      }    \r\n \r\npublic class CloseSubFileTask implements Tasklet {\r\n      @Autowired\r\n      SingleItemPeekableItemReader&lt;Data&gt; readerPeek;\r\n \r\n      public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception\r\n      {\r\n            readerPeek.close();\r\n            return RepeatStatus.FINISHED;\r\n      }   \r\n}\r\n```\r\n\r\n**Job Configuration:**\r\n```\r\n      @Bean\r\n      public Job importUserJob(JobNotificationListener listener,\r\n                  Step stepOpen, Step stepClose, Step step1) {   \r\n            return jobBuilderFactory.get(&quot;importUserJob&quot;)\r\n                        .incrementer(new RunIdIncrementer())\r\n                        .listener(listener)\r\n                        .start(stepOpen)\r\n                        .next(step1)\r\n                        .next(stepClose)\r\n                        .build();\r\n      }\r\n```","title":"Spring Batch - using SingleItemPeekableItemReader to make a pseudo-DB from a flat file","body":"<p>Turns out, I needed to make sure that the files were open before hitting the processor.  What I did was set up two Tasklets - one to open the file, and one to close the file, and then added them to the job configuration as appropriate (<code>Open</code> before the regular step, and <code>Close</code> after the regular step).</p>\n<p><strong>Tasklets:</strong></p>\n<pre><code>public class OpenSubFileTask implements Tasklet {\n \n      @Autowired\n      SingleItemPeekableItemReader&lt;Data&gt; readerPeek;\n \n \n      public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception\n      {\n      readerPeek.open(contribution.getStepExecution().getExecutionContext());\n            return RepeatStatus.FINISHED;\n      }    \n \npublic class CloseSubFileTask implements Tasklet {\n      @Autowired\n      SingleItemPeekableItemReader&lt;Data&gt; readerPeek;\n \n      public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception\n      {\n            readerPeek.close();\n            return RepeatStatus.FINISHED;\n      }   \n}\n</code></pre>\n<p><strong>Job Configuration:</strong></p>\n<pre><code>      @Bean\n      public Job importUserJob(JobNotificationListener listener,\n                  Step stepOpen, Step stepClose, Step step1) {   \n            return jobBuilderFactory.get(&quot;importUserJob&quot;)\n                        .incrementer(new RunIdIncrementer())\n                        .listener(listener)\n                        .start(stepOpen)\n                        .next(step1)\n                        .next(stepClose)\n                        .build();\n      }\n</code></pre>\n"}],"owner":{"account_id":1511501,"reputation":129,"user_id":1413502,"accept_rate":91,"display_name":"Ruminator"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":681,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68733744,"answer_count":1,"score":0,"last_activity_date":1692533906,"creation_date":1628274914,"question_id":68686181,"body_markdown":"I have a requirement to rewrite an existing application with Spring Batch that reads from multiple flat files, does processing, and then writes data back out to flat files.\r\n\r\nThe first input file contains key data, and the remaining input files may, or may not, contain transaction data for the key from the first file.  I was thinking that it would make sense to use a ```FlatFileItemReader``` to get the key data, and use a series of ```SingleItemPeekableItemReader``` in the processor to build the transaction data and add it to the *Data* object (using the peekable reader since the key may not be in the extra files - yes, the files come pre-sorted).\r\n\r\n***Pseudocode***\r\n\r\n```\r\nwhile(&lt;more data&gt;) {\r\n  while (data.getKey() == peekablePeek.getKey()) {\r\n     data.addTransaction(peekable.read());\r\n     // repeat for each transaction file  \r\n  }\r\n  // do regular processing for transactions (which will update &lt;data&gt; object fields based)\r\n``` \r\nIs this even possible?  I tried injecting a ```SingleItemPeekableItemReader``` into the ```ItemProcessor``` but that just gets a ```Reader not Open``` exception when the processor tries to do the peek.\r\n\r\nAny ideas would be greatly appreciated.\r\n","title":"Spring Batch - using SingleItemPeekableItemReader to make a pseudo-DB from a flat file","body":"<p>I have a requirement to rewrite an existing application with Spring Batch that reads from multiple flat files, does processing, and then writes data back out to flat files.</p>\n<p>The first input file contains key data, and the remaining input files may, or may not, contain transaction data for the key from the first file.  I was thinking that it would make sense to use a <code>FlatFileItemReader</code> to get the key data, and use a series of <code>SingleItemPeekableItemReader</code> in the processor to build the transaction data and add it to the <em>Data</em> object (using the peekable reader since the key may not be in the extra files - yes, the files come pre-sorted).</p>\n<p><em><strong>Pseudocode</strong></em></p>\n<pre><code>while(&lt;more data&gt;) {\n  while (data.getKey() == peekablePeek.getKey()) {\n     data.addTransaction(peekable.read());\n     // repeat for each transaction file  \n  }\n  // do regular processing for transactions (which will update &lt;data&gt; object fields based)\n</code></pre>\n<p>Is this even possible?  I tried injecting a <code>SingleItemPeekableItemReader</code> into the <code>ItemProcessor</code> but that just gets a <code>Reader not Open</code> exception when the processor tries to do the peek.</p>\n<p>Any ideas would be greatly appreciated.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":29192025,"reputation":50,"user_id":22363965,"display_name":"Hammy1985"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692533361,"creation_date":1692533361,"answer_id":76939322,"question_id":76931964,"body_markdown":"Yes, there is.\r\nPlease note first that you have much more options. All details are mentioned [here][1]\r\n\r\nAnswer to your question:\r\n[Importing Additional Data][2]\r\n\r\n    spring.application.name=myapp\r\n    spring.config.import=optional:file:./dev.properties\r\n\r\nThe imported properties will take precedence. The position of the import within the file doesn&#39;t matter.\r\n\r\nI still suggest to check the documentation for completeness.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files.importing","title":"How to access external file from application.properties","body":"<p>Yes, there is.\nPlease note first that you have much more options. All details are mentioned <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Answer to your question:\n<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files.importing\" rel=\"nofollow noreferrer\">Importing Additional Data</a></p>\n<pre><code>spring.application.name=myapp\nspring.config.import=optional:file:./dev.properties\n</code></pre>\n<p>The imported properties will take precedence. The position of the import within the file doesn't matter.</p>\n<p>I still suggest to check the documentation for completeness.</p>\n"}],"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76939322,"answer_count":1,"score":1,"last_activity_date":1692533361,"creation_date":1692385041,"question_id":76931964,"body_markdown":"Is there a way to access values of another file from `application.properties`?\r\n\r\nLet&#39;s say I have this `application.properties`:\r\n\r\n```\r\nspring.datasource.url=mydb\r\nspring.datasource.username=myuser\r\nspring.datasource.password=mypwd\r\n```\r\n\r\nInstead I would like to have two files\r\n\r\napplication.properties\r\n\r\n```\r\nexternal-file=\\mysecondfile.properties  //external file from where to get the actual values\r\nspring.datasource.url={url} //url from spring.datasource.url property in mysecondfile.properties \r\nspring.datasource.username={username} //username from spring.datasource.url property in mysecondfile.properties\r\nspring.datasource.password={password}  //password from spring.datasource.url property in mysecondfile.properties\r\n```\r\n\r\n\r\nmysecondfile.properties\r\n\r\n```\r\nspring.datasource.url=mydb\r\nspring.datasource.username=myuser\r\nspring.datasource.password=mypwd\r\n```\r\n\r\n`mysecondfile.properties` could be of other format as well `(.txt, .xml, .yml...)`. The only requirement it&#39;s to be able to acess it&#39;s content like the example above.\r\n\r\n","title":"How to access external file from application.properties","body":"<p>Is there a way to access values of another file from <code>application.properties</code>?</p>\n<p>Let's say I have this <code>application.properties</code>:</p>\n<pre><code>spring.datasource.url=mydb\nspring.datasource.username=myuser\nspring.datasource.password=mypwd\n</code></pre>\n<p>Instead I would like to have two files</p>\n<p>application.properties</p>\n<pre><code>external-file=\\mysecondfile.properties  //external file from where to get the actual values\nspring.datasource.url={url} //url from spring.datasource.url property in mysecondfile.properties \nspring.datasource.username={username} //username from spring.datasource.url property in mysecondfile.properties\nspring.datasource.password={password}  //password from spring.datasource.url property in mysecondfile.properties\n</code></pre>\n<p>mysecondfile.properties</p>\n<pre><code>spring.datasource.url=mydb\nspring.datasource.username=myuser\nspring.datasource.password=mypwd\n</code></pre>\n<p><code>mysecondfile.properties</code> could be of other format as well <code>(.txt, .xml, .yml...)</code>. The only requirement it's to be able to acess it's content like the example above.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692467049,"creation_date":1692455813,"answer_id":76935636,"question_id":76935397,"body_markdown":"`class` is a keyword in Java. You cannot use it as a variable name.\r\n\r\nHere is a list of other keywords, and a deeper dive into their rules.\r\n\r\nhttps://docs.oracle.com/javase/tutorial/java/nutsandbolts/_keywords.html\r\n\r\nAnd here is a more up-to-date list -- https://en.wikipedia.org/wiki/List_of_Java_keywords\r\n\r\n**EDIT** - In situations like this, I like to use `eachClass`, or something like that.","title":"forEach mehod token ,invalid TypeElidedFormalParameter","body":"<p><code>class</code> is a keyword in Java. You cannot use it as a variable name.</p>\n<p>Here is a list of other keywords, and a deeper dive into their rules.</p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/_keywords.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/nutsandbolts/_keywords.html</a></p>\n<p>And here is a more up-to-date list -- <a href=\"https://en.wikipedia.org/wiki/List_of_Java_keywords\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/List_of_Java_keywords</a></p>\n<p><strong>EDIT</strong> - In situations like this, I like to use <code>eachClass</code>, or something like that.</p>\n"}],"owner":{"account_id":23587351,"reputation":60,"user_id":17625629,"display_name":"Vled"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76935636,"answer_count":1,"score":1,"last_activity_date":1692531156,"creation_date":1692452509,"question_id":76935397,"body_markdown":"I have a method `getListOfTags()` that returns a `Set&lt;String&gt;`. I have a method `getListOfClasses()` that also returns a `Set&lt;String&gt;`.\r\n\r\nI tried to combine them in one by using the forEach method:\r\n\r\n    scraper.getListOfTags(globalDocument).forEach(tag -&gt; tagsAndClasses.add(tag));\r\n    scraper.getListOfClasses(globalDocument).forEach(class -&gt; tagsAndClasses.add(class));\r\n\r\n[![enter image description here][1]][1]\r\n\r\nOn the second forEach, the class variable name gets underlined and I get this error:\r\n\r\n&gt; Syntax error on token &quot;class&quot;, invalid TypeElidedFormalParameter\r\n\r\nWhen I change the variable name to e.g. `classes` the problem goes away. Why is it that I can&#39;t name my variable `class`?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MJiu9.png","title":"forEach mehod token ,invalid TypeElidedFormalParameter","body":"<p>I have a method <code>getListOfTags()</code> that returns a <code>Set&lt;String&gt;</code>. I have a method <code>getListOfClasses()</code> that also returns a <code>Set&lt;String&gt;</code>.</p>\n<p>I tried to combine them in one by using the forEach method:</p>\n<pre><code>scraper.getListOfTags(globalDocument).forEach(tag -&gt; tagsAndClasses.add(tag));\nscraper.getListOfClasses(globalDocument).forEach(class -&gt; tagsAndClasses.add(class));\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/MJiu9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MJiu9.png\" alt=\"enter image description here\" /></a></p>\n<p>On the second forEach, the class variable name gets underlined and I get this error:</p>\n<blockquote>\n<p>Syntax error on token &quot;class&quot;, invalid TypeElidedFormalParameter</p>\n</blockquote>\n<p>When I change the variable name to e.g. <code>classes</code> the problem goes away. Why is it that I can't name my variable <code>class</code>?</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":8318581,"reputation":48,"user_id":6251063,"display_name":"FrankT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472639435,"creation_date":1472568516,"answer_id":39230721,"question_id":39207507,"body_markdown":"This is probably not very save and could break every time DatePicker gets updated. But lets assume that does not happen :)\r\n\r\nIf you look at the code of DatePicker, you can see that it structure is roughly:\r\n    \r\n\r\n - DatePickerContent    (*VBox*)\r\n-\tMonthYearPane (*BorderPane*)\r\n-\tGridPane\r\n     -\tContains the Buttons, which are of type *DateCell*\r\n\r\nSo we can write a function to search the content of the *DatePicker* and find all the *DateCells*. Since they are being reused we need to do this only once. We can then attach an event listener to each *DateCell*\r\n\r\n\t\t...\r\n        List&lt;DateCell&gt; dateCells = getAllDateCells(pop);\r\n        DatePickerSkin datePickerSkin = new DatePickerSkin(new DatePicker(LocalDate.now()));\r\n        DatePickerContent pop = (DatePickerContent)datePickerSkin.getPopupContent();\r\n        pop.setPrefHeight(zig8.getPrefHeight());\r\n        pop.setPrefWidth(zig8.getPrefWidth());\r\n        zig8.getChildren().add(pop);\r\n     \r\n        List&lt;DateCell&gt; dateCells = getAllDateCells(pop);\r\n     \r\n        for (DateCell cell : dateCells)\r\n        {\r\n            cell.addEventHandler(\r\n                    MouseEvent.MOUSE_PRESSED,(e)-&gt;\r\n                    {\r\n                        System.out.println(&quot;Mouse clicked :&quot; + cell.getItem());\r\n                    }\r\n            );\r\n        }\r\n\t\t...\r\n\t\t\r\n\t\t\r\n\t\t\r\n     private static List&lt;DateCell&gt; getAllDateCells(DatePickerContent content)\r\n     {\r\n         List&lt;DateCell&gt; result = new ArrayList&lt;&gt;();\r\n     \r\n         for (Node n : content.getChildren())\r\n         {\r\n             System.out.println(&quot;node &quot; + n + n.getClass());\r\n             if (n instanceof GridPane)\r\n             {\r\n                 GridPane grid = (GridPane) n;\r\n                 for (Node gChild : grid.getChildren())\r\n                 {\r\n                     System.out.println(&quot;grid node: &quot; + gChild + gChild.getClass());\r\n                     if (gChild instanceof DateCell)\r\n                     {\r\n                         result.add((DateCell) gChild);\r\n                     }\r\n                 }\r\n             }\r\n         }\r\n     \r\n         return result;\r\n     }\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\nSince DateCell derives from Cell&lt;&gt; it knows its current date and we can use getItem to figure out the date\r\n\r\n\r\n**Alternative:**\r\nYou could probably get access to the protected DateCell List in DatePickerContent by using Reflection.\r\n\r\n    protected List&lt;DateCell&gt; dayCells = new ArrayList&lt;DateCell&gt;();\r\n","title":"How to get value from a DatePickerSkin in JavaFX","body":"<p>This is probably not very save and could break every time DatePicker gets updated. But lets assume that does not happen :)</p>\n\n<p>If you look at the code of DatePicker, you can see that it structure is roughly:</p>\n\n<ul>\n<li>DatePickerContent    (<em>VBox</em>)\n\n<ul>\n<li>MonthYearPane (<em>BorderPane</em>)</li>\n<li>GridPane\n\n<ul>\n<li>Contains the Buttons, which are of type <em>DateCell</em></li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>So we can write a function to search the content of the <em>DatePicker</em> and find all the <em>DateCells</em>. Since they are being reused we need to do this only once. We can then attach an event listener to each <em>DateCell</em></p>\n\n<pre><code>    ...\n    List&lt;DateCell&gt; dateCells = getAllDateCells(pop);\n    DatePickerSkin datePickerSkin = new DatePickerSkin(new DatePicker(LocalDate.now()));\n    DatePickerContent pop = (DatePickerContent)datePickerSkin.getPopupContent();\n    pop.setPrefHeight(zig8.getPrefHeight());\n    pop.setPrefWidth(zig8.getPrefWidth());\n    zig8.getChildren().add(pop);\n\n    List&lt;DateCell&gt; dateCells = getAllDateCells(pop);\n\n    for (DateCell cell : dateCells)\n    {\n        cell.addEventHandler(\n                MouseEvent.MOUSE_PRESSED,(e)-&gt;\n                {\n                    System.out.println(\"Mouse clicked :\" + cell.getItem());\n                }\n        );\n    }\n    ...\n\n\n\n private static List&lt;DateCell&gt; getAllDateCells(DatePickerContent content)\n {\n     List&lt;DateCell&gt; result = new ArrayList&lt;&gt;();\n\n     for (Node n : content.getChildren())\n     {\n         System.out.println(\"node \" + n + n.getClass());\n         if (n instanceof GridPane)\n         {\n             GridPane grid = (GridPane) n;\n             for (Node gChild : grid.getChildren())\n             {\n                 System.out.println(\"grid node: \" + gChild + gChild.getClass());\n                 if (gChild instanceof DateCell)\n                 {\n                     result.add((DateCell) gChild);\n                 }\n             }\n         }\n     }\n\n     return result;\n }      \n</code></pre>\n\n<p>Since DateCell derives from Cell&lt;> it knows its current date and we can use getItem to figure out the date</p>\n\n<p><strong>Alternative:</strong>\nYou could probably get access to the protected DateCell List in DatePickerContent by using Reflection.</p>\n\n<pre><code>protected List&lt;DateCell&gt; dayCells = new ArrayList&lt;DateCell&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":307654,"reputation":3081,"user_id":619076,"accept_rate":80,"display_name":"sigurd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692530684,"creation_date":1692530684,"answer_id":76939153,"question_id":39207507,"body_markdown":"You can read and write value from the datepicker you provided in the DatePickerSkin constructor:\r\n\r\n```java\r\nvar datepicker = new DatePicker();\r\nvar skin = new DatePickerSkin(datepicker);\r\n\r\n// read value\r\ndatepicker.getValue();\r\n\r\n// write value\r\ndatepicker.setValue(LocalDate.now());\r\n\r\n// bind value property\r\ndatepicker.valueProperty().bind(...);\r\n```","title":"How to get value from a DatePickerSkin in JavaFX","body":"<p>You can read and write value from the datepicker you provided in the DatePickerSkin constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var datepicker = new DatePicker();\nvar skin = new DatePickerSkin(datepicker);\n\n// read value\ndatepicker.getValue();\n\n// write value\ndatepicker.setValue(LocalDate.now());\n\n// bind value property\ndatepicker.valueProperty().bind(...);\n</code></pre>\n"}],"owner":{"account_id":8645660,"reputation":530,"user_id":6472929,"accept_rate":46,"display_name":"Wafula Samuel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":814,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692530684,"creation_date":1472477267,"question_id":39207507,"body_markdown":"I have these codes for extracting a datepickerskin from a datepicker and place it in an anchorpane. It works well but my problem is how do i get the value from it? Say, when you click on a number like 8 and get the value as a date, just like the datepicker itself?\r\nHere is my code: zig8 is the anchopane.\r\n\r\n     DatePickerSkin datePickerSkin = new DatePickerSkin(new DatePicker(LocalDate.now()));\r\n     Region pop = (Region)datePickerSkin.getPopupContent();\r\n     pop.setPrefHeight(zig8.getPrefHeight());\r\n     pop.setPrefWidth(zig8.getPrefWidth());\r\n     zig8.getChildren().add(pop);\r\nI tried to attach a mouse event this way:\r\n\r\n     pop.addEventHandler(MouseEvent.MOUSE_CLICKED,(e)-&gt;\r\n     {\r\n             //a code to get the value.\r\n\r\n     });\r\nThanks....","title":"How to get value from a DatePickerSkin in JavaFX","body":"<p>I have these codes for extracting a datepickerskin from a datepicker and place it in an anchorpane. It works well but my problem is how do i get the value from it? Say, when you click on a number like 8 and get the value as a date, just like the datepicker itself?\nHere is my code: zig8 is the anchopane.</p>\n\n<pre><code> DatePickerSkin datePickerSkin = new DatePickerSkin(new DatePicker(LocalDate.now()));\n Region pop = (Region)datePickerSkin.getPopupContent();\n pop.setPrefHeight(zig8.getPrefHeight());\n pop.setPrefWidth(zig8.getPrefWidth());\n zig8.getChildren().add(pop);\n</code></pre>\n\n<p>I tried to attach a mouse event this way:</p>\n\n<pre><code> pop.addEventHandler(MouseEvent.MOUSE_CLICKED,(e)-&gt;\n {\n         //a code to get the value.\n\n });\n</code></pre>\n\n<p>Thanks....</p>\n"},{"tags":["java","powershell"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692483640,"post_id":76937251,"comment_id":135630043,"body_markdown":"Why in a loop ?","body":"Why in a loop ?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1692483762,"post_id":76937251,"comment_id":135630052,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1692485174,"post_id":76937251,"comment_id":135630167,"body_markdown":"`while ($true) { &amp; java -jar some_program.jar &quot;&lt;path&gt;&quot; }` ?","body":"<code>while ($true) { &amp; java -jar some_program.jar &quot;&lt;path&gt;&quot; }</code> ?"},{"owner":{"account_id":19375,"reputation":396713,"user_id":45375,"display_name":"mklement0"},"score":1,"creation_date":1692485405,"post_id":76937251,"comment_id":135630182,"body_markdown":"Please show your attempt to use a loop and clarify in what way it didn&#39;t work.","body":"Please show your attempt to use a loop and clarify in what way it didn&#39;t work."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1692511041,"post_id":76937251,"comment_id":135631684,"body_markdown":"[How to Use PowerShell For Loop, While Loop, and Other Loops](https://petri.com/how-to-use-powershell-for-while-loops/).","body":"<a href=\"https://petri.com/how-to-use-powershell-for-while-loops/\" rel=\"nofollow noreferrer\">How to Use PowerShell For Loop, While Loop, and Other Loops</a>."},{"owner":{"account_id":10528,"reputation":18513,"user_id":19937,"display_name":"Walter Mitty"},"score":0,"creation_date":1692530072,"post_id":76937251,"comment_id":135633287,"body_markdown":"Read up on the Call Operator &amp; inside this [Helpfile](https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_operators?view=powershell-7.3)","body":"Read up on the Call Operator &amp; inside this <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_operators?view=powershell-7.3\" rel=\"nofollow noreferrer\">Helpfile</a>"}],"answers":[{"tags":[],"owner":{"account_id":10528,"reputation":18513,"user_id":19937,"display_name":"Walter Mitty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692530655,"creation_date":1692530655,"answer_id":76939150,"question_id":76937251,"body_markdown":"An alternative approach is to generate the java commands inside a loop and write them to a script file for later execution.  Each java command will have been resolved into the kind of command that works under the powershell commandprompt.\r\n\r\nSomething similar is done in one of the demo examples for my template engine,  expand-csv.  The demo follows in a block.  Expand-csv is not relevant here, but you can view the repo of it in Github.com/Dcressey/Expand-Csv where this demo is one of two offered.  \r\n\r\n        Example 1:  CSV File\r\n        --------------------\r\n        \r\n    NAME,ID\r\n    John,18\r\n    Dave,19\r\n    Carmen,20\r\n    Eric,21\r\n    Tom,22\r\n    Lisa,23\r\n    Kyle,24\r\n       \r\n        Viewed as a table\r\n        \r\n    \r\n    NAME   ID\r\n    ----   --\r\n    John   18\r\n    Dave   19\r\n    Carmen 20\r\n    Eric   21\r\n    Tom    22\r\n    Lisa   23\r\n    Kyle   24\r\n    \r\n    \r\n        \r\n        Example 1:  Template\r\n        --------------------\r\n        \r\n    &amp; java -jar --create -user $name -id $id -file D:/HR/$name-$id-form.pdf\r\n        \r\n        Example 1:  Results\r\n        -------------------\r\n    &amp; java -jar --create -user John -id 18 -file D:/HR/John-18-form.pdf\r\n    &amp; java -jar --create -user Dave -id 19 -file D:/HR/Dave-19-form.pdf\r\n    &amp; java -jar --create -user Carmen -id 20 -file D:/HR/Carmen-20-form.pdf\r\n    &amp; java -jar --create -user Eric -id 21 -file D:/HR/Eric-21-form.pdf\r\n    &amp; java -jar --create -user Tom -id 22 -file D:/HR/Tom-22-form.pdf\r\n    &amp; java -jar --create -user Lisa -id 23 -file D:/HR/Lisa-23-form.pdf\r\n    &amp; java -jar --create -user Kyle -id 24 -file D:/HR/Kyle-24-form.pdf\r\n\r\n","title":"java jar command in powershell script","body":"<p>An alternative approach is to generate the java commands inside a loop and write them to a script file for later execution.  Each java command will have been resolved into the kind of command that works under the powershell commandprompt.</p>\n<p>Something similar is done in one of the demo examples for my template engine,  expand-csv.  The demo follows in a block.  Expand-csv is not relevant here, but you can view the repo of it in Github.com/Dcressey/Expand-Csv where this demo is one of two offered.</p>\n<pre><code>    Example 1:  CSV File\n    --------------------\n    \nNAME,ID\nJohn,18\nDave,19\nCarmen,20\nEric,21\nTom,22\nLisa,23\nKyle,24\n   \n    Viewed as a table\n    \n\nNAME   ID\n----   --\nJohn   18\nDave   19\nCarmen 20\nEric   21\nTom    22\nLisa   23\nKyle   24\n\n\n    \n    Example 1:  Template\n    --------------------\n    \n&amp; java -jar --create -user $name -id $id -file D:/HR/$name-$id-form.pdf\n    \n    Example 1:  Results\n    -------------------\n&amp; java -jar --create -user John -id 18 -file D:/HR/John-18-form.pdf\n&amp; java -jar --create -user Dave -id 19 -file D:/HR/Dave-19-form.pdf\n&amp; java -jar --create -user Carmen -id 20 -file D:/HR/Carmen-20-form.pdf\n&amp; java -jar --create -user Eric -id 21 -file D:/HR/Eric-21-form.pdf\n&amp; java -jar --create -user Tom -id 22 -file D:/HR/Tom-22-form.pdf\n&amp; java -jar --create -user Lisa -id 23 -file D:/HR/Lisa-23-form.pdf\n&amp; java -jar --create -user Kyle -id 24 -file D:/HR/Kyle-24-form.pdf\n</code></pre>\n"}],"owner":{"account_id":29259071,"reputation":11,"user_id":22416518,"display_name":"negativeattitude"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1692530655,"creation_date":1692483535,"question_id":76937251,"body_markdown":"I have been struggling with this problem since a couple days.\r\n\r\nHere is a some java command i execute in powershell and from cmd shell it works perfectly:\r\n\r\n\r\n```\r\njava -jar some_program.jar &quot;C:\\Users\\the_path_to_screenshot_folder\\&quot;\r\n\r\n```\r\n\r\nNow the problem is that I want to make a powershell script to put the command above into a loop but its not that easy. I have tried to put this command in variable but it doesnt work, also tried Start-Process embedded function, Start-Job but all these attempts failed. Do u have any suggestion how to solve this issue?\r\n\r\n\r\nTried:\r\n- Start-Process powershell function\r\n- Start-Job prowershell function\r\n- put command into variable","title":"java jar command in powershell script","body":"<p>I have been struggling with this problem since a couple days.</p>\n<p>Here is a some java command i execute in powershell and from cmd shell it works perfectly:</p>\n<pre><code>java -jar some_program.jar &quot;C:\\Users\\the_path_to_screenshot_folder\\&quot;\n\n</code></pre>\n<p>Now the problem is that I want to make a powershell script to put the command above into a loop but its not that easy. I have tried to put this command in variable but it doesnt work, also tried Start-Process embedded function, Start-Job but all these attempts failed. Do u have any suggestion how to solve this issue?</p>\n<p>Tried:</p>\n<ul>\n<li>Start-Process powershell function</li>\n<li>Start-Job prowershell function</li>\n<li>put command into variable</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6701329,"reputation":172,"user_id":5167691,"display_name":"Ajinkya Karode"},"score":0,"creation_date":1692430832,"post_id":76933655,"comment_id":135624635,"body_markdown":"hi Akash, Can you please provide other classes like UserServiceDetailsImpl, JwtUtils.   \n It will be better if you can upload your code to GitHub and provide the link","body":"hi Akash, Can you please provide other classes like UserServiceDetailsImpl, JwtUtils.     It will be better if you can upload your code to GitHub and provide the link"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1692440975,"post_id":76933655,"comment_id":135625565,"body_markdown":"using jwts as sessions is dangerous and should not be done, stop following bad tutorials from people that dont know security and instead read the spring security documentation and implement security correctly.","body":"using jwts as sessions is dangerous and should not be done, stop following bad tutorials from people that dont know security and instead read the spring security documentation and implement security correctly."}],"answers":[{"tags":[],"owner":{"account_id":10942924,"reputation":27,"user_id":8359786,"display_name":"YuliyaD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692529969,"creation_date":1692529969,"answer_id":76939114,"question_id":76933655,"body_markdown":"It looks like Spring Security has no knowledge that jwtAuthenticationFilter is an authentication filter - you extend it from OncePerRequestFilter. Have you tried extending BasicAuthenticationFilter or AuthenticationFilter ?\r\n\r\nThere is also another option - you can specify allowed urls in the filter itself.","title":"Spring Security : Custom filter (JwtAuthenticationFilter) is being called even when i have set specific endpoints to permitAll property","body":"<p>It looks like Spring Security has no knowledge that jwtAuthenticationFilter is an authentication filter - you extend it from OncePerRequestFilter. Have you tried extending BasicAuthenticationFilter or AuthenticationFilter ?</p>\n<p>There is also another option - you can specify allowed urls in the filter itself.</p>\n"}],"owner":{"account_id":29198455,"reputation":1,"user_id":22369075,"display_name":"Akash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1692529969,"creation_date":1692421505,"question_id":76933655,"body_markdown":"i have used spring security to secure my endpoints now i am configuring my web app to expose specific end points so that no custom filter is being applied on those end point but even though i have given permitAll property too these endpoints custom filters are being applied on these end points. i have also noticed a behavious that even if i remove the property of addFilterBefore from my config class such that there is no mentioning of JwtAuthenticationFiter then also this filter is being executed upon call of these end points.\r\n\r\nendpoints i want to expose are (/api/users/generate-token) post method\r\nthis is to generate token for the first time user logs in and it makes no sense to apply jwt autthentication filter on this request\r\n\r\nalso endpoint (api/user/register) for user to sign up  here also it makes no sense to apply jwt autthentication filter on this request\r\n\r\ni am new to java and spring 6 and i am stuck badly and am not able to make any progress from past 3 days.\r\n\r\nyour help is very much appreciated.\r\n\r\n\r\n\r\ni tried to add security filter chain to expose these particular end points and add JwtAuthenticationFilter before every other endpoint request.\r\n\r\nand i was expecting to get a generated token as a response when i make post request to &quot;/api/users/generate-token&quot; with correct credentials.\r\n\r\n```\r\nSecurityConfig class\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableMethodSecurity\r\npublic class SecurityConfig {\r\n    @Autowired\r\n    private UserDetailsServiceImpl userDetailsServiceImpl;\r\n\r\n\r\n    @Autowired\r\n    private PasswordEncoderConfig passwordEncoderConfig;\r\n    @Autowired\r\n    private JwtAuthenticationEntryPoint unauthorizedHandler;\r\n    @Autowired\r\n    private JwtAuthenticationFilter jwtAuthenticationFilter;\r\n\r\n\r\n\r\n\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception{\r\n        http\r\n                .csrf(csrf-&gt;csrf.disable())\r\n                .cors(cors-&gt;cors.disable())\r\n                .authorizeHttpRequests(\r\n                        auth-&gt;auth.requestMatchers(&quot;/api/users/generate-token&quot;, &quot;/api/users/register&quot;).permitAll()\r\n                                  .requestMatchers(HttpMethod.OPTIONS).permitAll()\r\n                                  .anyRequest().authenticated())\r\n                .exceptionHandling((ex)-&gt;ex.authenticationEntryPoint(unauthorizedHandler))\r\n                .sessionManagement((session)-&gt;session.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n        http\r\n                .addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\r\n        System.out.println(&quot;http configuration is being used&quot;);\r\n//\r\n\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManagerBean(HttpSecurity http) throws Exception {\r\n        AuthenticationManagerBuilder authenticationManagerBuilder = http.getSharedObject(AuthenticationManagerBuilder.class);\r\n        authenticationManagerBuilder.userDetailsService(userDetailsServiceImpl).passwordEncoder(passwordEncoderConfig.passwordEncoder());\r\n        return authenticationManagerBuilder.build();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\nJwtAuthenticationFilter class\r\n@Component\r\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\r\n    @Autowired\r\n    private JwtUtil jwtUtil;\r\n\r\n    @Autowired\r\n    private JwtAuthenticationEntryPoint authenticationEntryPoint;\r\n\r\n    @Autowired\r\n    private UserDetailsServiceImpl userDetailsServiceImpl;\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n\r\n        final String requestTokenHeader = request.getHeader(&quot;Authorization&quot;);\r\n        System.out.println(&quot;jwt authentication fliter is being called&quot;);\r\n\r\n        String username = null;\r\n        String jwtToken = null;\r\n        if(requestTokenHeader!=null &amp;&amp; requestTokenHeader.startsWith(&quot;Bearer&quot;)){\r\n            jwtToken = requestTokenHeader.substring(7);\r\n            try {\r\n                username = this.jwtUtil.extractUsername(jwtToken);\r\n            }catch (ExpiredJwtException e){\r\n                e.printStackTrace();\r\n                System.out.println(&quot;jwt token expired&quot;);\r\n\r\n            }catch (Exception e){\r\n                e.printStackTrace();\r\n                System.out.println(&quot;error&quot;);\r\n            }\r\n\r\n        }else {\r\n            System.out.println(&quot;invalid or token doesn&#39;t start with Bearer&quot;);\r\n        }\r\n        //validate\r\n        if(username!=null &amp;&amp; SecurityContextHolder.getContext().getAuthentication()==null){\r\n            final UserDetails userDetails = this.userDetailsServiceImpl.loadUserByUsername(username);\r\n            if (this.jwtUtil.validateToken(jwtToken, userDetails)){\r\n                //token is valid\r\n                UsernamePasswordAuthenticationToken usernamePasswordAuthentication = new UsernamePasswordAuthenticationToken(userDetails,null,userDetails.getAuthorities());\r\n                usernamePasswordAuthentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthentication);\r\n            }else {\r\n                System.out.println(&quot;invalid token&quot;);\r\n            }\r\n            filterChain.doFilter(request,response);\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\nJwtAuthenticationEntryPoint class\r\n@Component\r\npublic class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint {\r\n    @Override\r\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException, ServletException {\r\n            response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorised : Server&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\nController class\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/users&quot;)\r\npublic class AuthenticateController {\r\n    @Autowired\r\n    private AuthenticationManager authenticationManager;\r\n    @Autowired\r\n    private UserDetailsServiceImpl userDetailsServiceImpl;\r\n    @Autowired\r\n    private JwtUtil jwtUtil;\r\n\r\n\r\n    @PostMapping(&quot;/generate-token&quot;)\r\n    public ResponseEntity&lt;JwtResponse&gt; generateToken(@RequestBody JwtRequest jwtRequest) throws Exception {\r\n        try{\r\n            System.out.println(jwtRequest.getUsername());\r\n            System.out.println(jwtRequest.getPassword());\r\n            authenticate(jwtRequest.getUsername(),jwtRequest.getPassword());\r\n            System.out.println(&quot;authentication successful&quot;);\r\n\r\n        }catch (UserNotFoundException e){\r\n            e.printStackTrace();\r\n            throw new UserNotFoundException(&quot;user not found &quot;);\r\n        }\r\n\r\n        UserDetails userDetails = this.userDetailsServiceImpl.loadUserByUsername(jwtRequest.getUsername());\r\n        String token = this.jwtUtil.generateToken(userDetails);\r\n        System.out.println(token+&quot;hey&quot;);\r\n        return new ResponseEntity&lt;&gt;(new JwtResponse(token), HttpStatus.OK);\r\n    }\r\n\r\n    private void authenticate(String username, String password) throws Exception {\r\n        try{\r\n            authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, password));\r\n        }catch (DisabledException e){\r\n            throw new Exception(&quot;user disabled : &quot;+e.getMessage());\r\n        }catch (BadCredentialsException e){\r\n            throw new Exception(&quot;bad user credentials : &quot;+e.getMessage());\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\nplease let me know if you need any other code block also!\r\n\r\n\r\n","title":"Spring Security : Custom filter (JwtAuthenticationFilter) is being called even when i have set specific endpoints to permitAll property","body":"<p>i have used spring security to secure my endpoints now i am configuring my web app to expose specific end points so that no custom filter is being applied on those end point but even though i have given permitAll property too these endpoints custom filters are being applied on these end points. i have also noticed a behavious that even if i remove the property of addFilterBefore from my config class such that there is no mentioning of JwtAuthenticationFiter then also this filter is being executed upon call of these end points.</p>\n<p>endpoints i want to expose are (/api/users/generate-token) post method\nthis is to generate token for the first time user logs in and it makes no sense to apply jwt autthentication filter on this request</p>\n<p>also endpoint (api/user/register) for user to sign up  here also it makes no sense to apply jwt autthentication filter on this request</p>\n<p>i am new to java and spring 6 and i am stuck badly and am not able to make any progress from past 3 days.</p>\n<p>your help is very much appreciated.</p>\n<p>i tried to add security filter chain to expose these particular end points and add JwtAuthenticationFilter before every other endpoint request.</p>\n<p>and i was expecting to get a generated token as a response when i make post request to &quot;/api/users/generate-token&quot; with correct credentials.</p>\n<pre><code>SecurityConfig class\n@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity\npublic class SecurityConfig {\n    @Autowired\n    private UserDetailsServiceImpl userDetailsServiceImpl;\n\n\n    @Autowired\n    private PasswordEncoderConfig passwordEncoderConfig;\n    @Autowired\n    private JwtAuthenticationEntryPoint unauthorizedHandler;\n    @Autowired\n    private JwtAuthenticationFilter jwtAuthenticationFilter;\n\n\n\n\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception{\n        http\n                .csrf(csrf-&gt;csrf.disable())\n                .cors(cors-&gt;cors.disable())\n                .authorizeHttpRequests(\n                        auth-&gt;auth.requestMatchers(&quot;/api/users/generate-token&quot;, &quot;/api/users/register&quot;).permitAll()\n                                  .requestMatchers(HttpMethod.OPTIONS).permitAll()\n                                  .anyRequest().authenticated())\n                .exceptionHandling((ex)-&gt;ex.authenticationEntryPoint(unauthorizedHandler))\n                .sessionManagement((session)-&gt;session.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n        http\n                .addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\n        System.out.println(&quot;http configuration is being used&quot;);\n//\n\n\n        return http.build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManagerBean(HttpSecurity http) throws Exception {\n        AuthenticationManagerBuilder authenticationManagerBuilder = http.getSharedObject(AuthenticationManagerBuilder.class);\n        authenticationManagerBuilder.userDetailsService(userDetailsServiceImpl).passwordEncoder(passwordEncoderConfig.passwordEncoder());\n        return authenticationManagerBuilder.build();\n    }\n}\n\n</code></pre>\n<pre><code>JwtAuthenticationFilter class\n@Component\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\n    @Autowired\n    private JwtUtil jwtUtil;\n\n    @Autowired\n    private JwtAuthenticationEntryPoint authenticationEntryPoint;\n\n    @Autowired\n    private UserDetailsServiceImpl userDetailsServiceImpl;\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n\n        final String requestTokenHeader = request.getHeader(&quot;Authorization&quot;);\n        System.out.println(&quot;jwt authentication fliter is being called&quot;);\n\n        String username = null;\n        String jwtToken = null;\n        if(requestTokenHeader!=null &amp;&amp; requestTokenHeader.startsWith(&quot;Bearer&quot;)){\n            jwtToken = requestTokenHeader.substring(7);\n            try {\n                username = this.jwtUtil.extractUsername(jwtToken);\n            }catch (ExpiredJwtException e){\n                e.printStackTrace();\n                System.out.println(&quot;jwt token expired&quot;);\n\n            }catch (Exception e){\n                e.printStackTrace();\n                System.out.println(&quot;error&quot;);\n            }\n\n        }else {\n            System.out.println(&quot;invalid or token doesn't start with Bearer&quot;);\n        }\n        //validate\n        if(username!=null &amp;&amp; SecurityContextHolder.getContext().getAuthentication()==null){\n            final UserDetails userDetails = this.userDetailsServiceImpl.loadUserByUsername(username);\n            if (this.jwtUtil.validateToken(jwtToken, userDetails)){\n                //token is valid\n                UsernamePasswordAuthenticationToken usernamePasswordAuthentication = new UsernamePasswordAuthenticationToken(userDetails,null,userDetails.getAuthorities());\n                usernamePasswordAuthentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthentication);\n            }else {\n                System.out.println(&quot;invalid token&quot;);\n            }\n            filterChain.doFilter(request,response);\n        }\n\n    }\n}\n\n</code></pre>\n<pre><code>JwtAuthenticationEntryPoint class\n@Component\npublic class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint {\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException, ServletException {\n            response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorised : Server&quot;);\n    }\n}\n</code></pre>\n<pre><code>Controller class\n\n@RestController\n@RequestMapping(&quot;/api/users&quot;)\npublic class AuthenticateController {\n    @Autowired\n    private AuthenticationManager authenticationManager;\n    @Autowired\n    private UserDetailsServiceImpl userDetailsServiceImpl;\n    @Autowired\n    private JwtUtil jwtUtil;\n\n\n    @PostMapping(&quot;/generate-token&quot;)\n    public ResponseEntity&lt;JwtResponse&gt; generateToken(@RequestBody JwtRequest jwtRequest) throws Exception {\n        try{\n            System.out.println(jwtRequest.getUsername());\n            System.out.println(jwtRequest.getPassword());\n            authenticate(jwtRequest.getUsername(),jwtRequest.getPassword());\n            System.out.println(&quot;authentication successful&quot;);\n\n        }catch (UserNotFoundException e){\n            e.printStackTrace();\n            throw new UserNotFoundException(&quot;user not found &quot;);\n        }\n\n        UserDetails userDetails = this.userDetailsServiceImpl.loadUserByUsername(jwtRequest.getUsername());\n        String token = this.jwtUtil.generateToken(userDetails);\n        System.out.println(token+&quot;hey&quot;);\n        return new ResponseEntity&lt;&gt;(new JwtResponse(token), HttpStatus.OK);\n    }\n\n    private void authenticate(String username, String password) throws Exception {\n        try{\n            authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, password));\n        }catch (DisabledException e){\n            throw new Exception(&quot;user disabled : &quot;+e.getMessage());\n        }catch (BadCredentialsException e){\n            throw new Exception(&quot;bad user credentials : &quot;+e.getMessage());\n        }\n\n    }\n}\n\n</code></pre>\n<p>please let me know if you need any other code block also!</p>\n"},{"tags":["java","mysql","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":3076358,"reputation":512,"user_id":2605566,"display_name":"Godwin"},"score":0,"creation_date":1666783154,"post_id":74206520,"comment_id":131016334,"body_markdown":"The error says that you are trying to insert row employee where firstname is null. To test this. print the firstName in the controller and see if spring converted your rest data to object or not. Also please post the video link, I feel there is some issue in Employee.java","body":"The error says that you are trying to insert row employee where firstname is null. To test this. print the firstName in the controller and see if spring converted your rest data to object or not. Also please post the video link, I feel there is some issue in Employee.java"},{"owner":{"account_id":25602293,"reputation":31,"user_id":19377080,"display_name":"Pranay Mahajan"},"score":0,"creation_date":1666785901,"post_id":74206520,"comment_id":131017239,"body_markdown":"Thanx for the comment, I am providing the GitHub link that is used by the youtube video, I am only trying to do a part of the code and have crossed checked it also. Link:       https://github.com/RameshMF/spring-boot-tutorial-course/tree/main/springboot-backend  Please advice what is wrong. Thanks in advance.","body":"Thanx for the comment, I am providing the GitHub link that is used by the youtube video, I am only trying to do a part of the code and have crossed checked it also. Link:       <a href=\"https://github.com/RameshMF/spring-boot-tutorial-course/tree/main/springboot-backend\" rel=\"nofollow noreferrer\">github.com/RameshMF/spring-boot-tutorial-course/tree/main/&hellip;</a>  Please advice what is wrong. Thanks in advance."},{"owner":{"account_id":6023489,"reputation":103,"user_id":4729925,"display_name":"Syed Ammar"},"score":1,"creation_date":1666790659,"post_id":74206520,"comment_id":131019052,"body_markdown":"I see you are using Lombok for your data entity. I feel that might be causing problems during serialisation. Try to use Entity class without Lombok with getter/setters and see if it works.","body":"I see you are using Lombok for your data entity. I feel that might be causing problems during serialisation. Try to use Entity class without Lombok with getter/setters and see if it works."},{"owner":{"account_id":25602293,"reputation":31,"user_id":19377080,"display_name":"Pranay Mahajan"},"score":0,"creation_date":1666800993,"post_id":74206520,"comment_id":131023299,"body_markdown":"Yes, It worked. Thanks for your help. But I am curious, why did it cause error while using Lombok for the data entity. Could you explain that to me. By the way, thanks a lot for your help.","body":"Yes, It worked. Thanks for your help. But I am curious, why did it cause error while using Lombok for the data entity. Could you explain that to me. By the way, thanks a lot for your help."},{"owner":{"account_id":3076358,"reputation":512,"user_id":2605566,"display_name":"Godwin"},"score":0,"creation_date":1666952124,"post_id":74206520,"comment_id":131061382,"body_markdown":"Try adding @AllArgsConstructor to your lombok entity class. if this works","body":"Try adding @AllArgsConstructor to your lombok entity class. if this works"}],"answers":[{"tags":[],"owner":{"account_id":28164373,"reputation":1,"user_id":21523758,"display_name":"Red Trap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689913177,"creation_date":1689913101,"answer_id":76735095,"question_id":74206520,"body_markdown":"Sometimes annotation or data mapping has the issue, once try with this code \r\n\r\n---Controller--\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api/user&quot;)\r\n    public class UserController {\r\n\t/** The user service. */\r\n\t@Autowired\r\n\tprivate UserService userService;\r\n\r\n\t// get all users\r\n\t@GetMapping(&quot;/&quot;)\r\n\tpublic List&lt;UserEntity&gt; getAllUsers() {\r\n\t\treturn userService.getAllUsers();\r\n\t}\r\n\r\n\t// create user rest API\r\n\t@PostMapping(&quot;/&quot;)\r\n\tpublic ResponseEntity&lt;UserEntity&gt; createUser(@RequestBody UserEntity user) {\r\n\t\tUserEntity createUser = userService.createUser(user);\r\n\t\treturn ResponseEntity.ok(createUser);\r\n\t}\r\n}\r\n\r\n---UserEntity --(do the getter setter)\r\n\r\n    @Entity\r\n    public class UserEntity {\r\n\r\n\t/** The id. */\r\n\t@Id\r\n\tprivate Integer id;\r\n\t\r\n\t/** The first name. */\r\n\tprivate String firstName;\r\n\t\r\n\t/** The last name. */\r\n\tprivate String lastName;\r\n\t\r\n\t/** The email id. */\r\n\tprivate String emailId;\r\n    }\r\n\r\n---Service -----\r\n\r\n\r\n    @Service\r\n    public class UserService {\r\n\r\n\t/** The user dao. */\r\n\t@Autowired\r\n\tprivate UserDao userDao;\r\n\r\n\tpublic List&lt;UserEntity&gt; getAllUsers() {\r\n\t\tList&lt;UserEntity&gt; allUsers = userDao.findAll();\r\n\t\treturn allUsers;\r\n\t}\r\n\r\n\t/**\r\n\t * Creates the user.\r\n\t */\r\n\tpublic UserEntity createUser(UserEntity user) {\r\n\t\treturn userDao.save(user);\r\n\t}\r\n    }\r\n\r\n\r\n-------DAO----------\r\n\r\n    @Repository\r\n     public interface UserDao extends JpaRepository&lt;UserEntity, Integer&gt; {\r\n    }\r\n\r\n\r\n-------application.properties----------\r\n    \r\n    server.port=8080\r\n    spring.jpa.show-sql=true\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/test\r\n    spring.datasource.username=**\r\n    spring.datasource.password=**\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver","title":"Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed","body":"<p>Sometimes annotation or data mapping has the issue, once try with this code</p>\n<p>---Controller--</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/user&quot;)\npublic class UserController {\n/** The user service. */\n@Autowired\nprivate UserService userService;\n\n// get all users\n@GetMapping(&quot;/&quot;)\npublic List&lt;UserEntity&gt; getAllUsers() {\n    return userService.getAllUsers();\n}\n\n// create user rest API\n@PostMapping(&quot;/&quot;)\npublic ResponseEntity&lt;UserEntity&gt; createUser(@RequestBody UserEntity user) {\n    UserEntity createUser = userService.createUser(user);\n    return ResponseEntity.ok(createUser);\n}\n</code></pre>\n<p>}</p>\n<p>---UserEntity --(do the getter setter)</p>\n<pre><code>@Entity\npublic class UserEntity {\n\n/** The id. */\n@Id\nprivate Integer id;\n\n/** The first name. */\nprivate String firstName;\n\n/** The last name. */\nprivate String lastName;\n\n/** The email id. */\nprivate String emailId;\n}\n</code></pre>\n<p>---Service -----</p>\n<pre><code>@Service\npublic class UserService {\n\n/** The user dao. */\n@Autowired\nprivate UserDao userDao;\n\npublic List&lt;UserEntity&gt; getAllUsers() {\n    List&lt;UserEntity&gt; allUsers = userDao.findAll();\n    return allUsers;\n}\n\n/**\n * Creates the user.\n */\npublic UserEntity createUser(UserEntity user) {\n    return userDao.save(user);\n}\n}\n</code></pre>\n<p>-------DAO----------</p>\n<pre><code>@Repository\n public interface UserDao extends JpaRepository&lt;UserEntity, Integer&gt; {\n}\n</code></pre>\n<p>-------application.properties----------</p>\n<pre><code>server.port=8080\nspring.jpa.show-sql=true\nspring.datasource.url=jdbc:mysql://localhost:3306/test\nspring.datasource.username=**\nspring.datasource.password=**\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n</code></pre>\n"}],"owner":{"account_id":25602293,"reputation":31,"user_id":19377080,"display_name":"Pranay Mahajan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18859,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692529230,"creation_date":1666781240,"question_id":74206520,"body_markdown":"I am getting below error while creating a spring maven rest webservice project. I am new with springboot, could someone help me with this. The error is:\r\n\r\n```\r\nServlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: not-null property references a null or transient value : com.example.spring.backend.model.Employee.firstName; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value : com.example.spring.backend.model.Employee.firstName] with root cause\r\n```\r\n\r\nI created a database using MySQL Workbench and defined a table in it to store employee details. Here is my code:\r\n\r\n**EmployeeController.java**\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/employees&quot;)\r\npublic class EmployeeController {\r\n\t\r\n\tprivate EmployeeService employeeService;\r\n\r\n\tpublic EmployeeController(EmployeeService employeeService) {\r\n\t\tsuper();\r\n\t\tthis.employeeService = employeeService;\r\n\t}\r\n\t\r\n\t// build create employee REST API\r\n\t@PostMapping()\r\n\tpublic ResponseEntity&lt;Employee&gt; saveEmployee(@RequestBody Employee employee){\r\n\t\treturn new ResponseEntity&lt;Employee&gt;(employeeService.saveEmployee(employee), HttpStatus.CREATED);\r\n\t}\r\n}\r\n```\r\n\r\n**Employee.java**\r\n```\r\n@Data\r\n@Entity\r\n@Table(name=&quot;employees&quot;)\r\npublic class Employee {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate long id;\r\n\t\r\n\t@Column(name = &quot;first_name&quot;, nullable = false)\r\n\tprivate String firstName;\r\n\t\r\n\t@Column(name = &quot;last_name&quot;)\r\n\tprivate String lastName;\r\n\t\r\n\t@Column(name = &quot;email&quot;)\r\n\tprivate String email;\r\n}\r\n```\r\n\r\n**EmployeeRepository.java**\r\n```\r\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt;{\r\n\t\r\n}\r\n```\r\n\r\n**EmployeeService.java**\r\n```\r\npublic interface EmployeeService {\r\n\tEmployee saveEmployee(Employee employee);\r\n}\r\n\r\n```\r\n\r\n**EmployeeServiceImpl.java**\r\n```\r\n@Service\r\npublic class EmployeeServiceImpl implements EmployeeService{\r\n\r\n\tprivate EmployeeRepository employeeRepository;\r\n\t\r\n\tpublic EmployeeServiceImpl(EmployeeRepository employeeRepository) {\r\n\t\tsuper();\r\n\t\tthis.employeeRepository = employeeRepository;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Employee saveEmployee(Employee employee) {\r\n\t\treturn employeeRepository.save(employee);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n**application.properties**\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/employee_management_system?useSSL=false\r\nspring.datasource.username=root\r\nspring.datasource.password=root\r\n\r\n# Hibernate properties\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\r\n# create, create-drop\r\nspring.jpa.hibernate.ddl-auto=update\r\n```\r\n\r\nWhile sending a post request using postman, I am getting Internal Server Error 500.\r\n```\r\n**Input**\r\n{\r\n    &quot;firstName&quot;: &quot;abc&quot;,\r\n    &quot;lastName&quot;: &quot;abc&quot;,\r\n    &quot;email&quot;: &quot;abc@gmail.com&quot;\r\n}\r\n\r\n**Result:**\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-10-26T09:48:51.322+00:00&quot;,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;path&quot;: &quot;/api/employees&quot;\r\n}\r\n```\r\n\r\nI am taking reference from a youtube video but in the video, the code works but not in my case. \r\n\r\n**Please advise what is wrong in my code. Thanks in advance.**","title":"Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed","body":"<p>I am getting below error while creating a spring maven rest webservice project. I am new with springboot, could someone help me with this. The error is:</p>\n<pre><code>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: not-null property references a null or transient value : com.example.spring.backend.model.Employee.firstName; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value : com.example.spring.backend.model.Employee.firstName] with root cause\n</code></pre>\n<p>I created a database using MySQL Workbench and defined a table in it to store employee details. Here is my code:</p>\n<p><strong>EmployeeController.java</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/employees&quot;)\npublic class EmployeeController {\n    \n    private EmployeeService employeeService;\n\n    public EmployeeController(EmployeeService employeeService) {\n        super();\n        this.employeeService = employeeService;\n    }\n    \n    // build create employee REST API\n    @PostMapping()\n    public ResponseEntity&lt;Employee&gt; saveEmployee(@RequestBody Employee employee){\n        return new ResponseEntity&lt;Employee&gt;(employeeService.saveEmployee(employee), HttpStatus.CREATED);\n    }\n}\n</code></pre>\n<p><strong>Employee.java</strong></p>\n<pre><code>@Data\n@Entity\n@Table(name=&quot;employees&quot;)\npublic class Employee {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    \n    @Column(name = &quot;first_name&quot;, nullable = false)\n    private String firstName;\n    \n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n    \n    @Column(name = &quot;email&quot;)\n    private String email;\n}\n</code></pre>\n<p><strong>EmployeeRepository.java</strong></p>\n<pre><code>public interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt;{\n    \n}\n</code></pre>\n<p><strong>EmployeeService.java</strong></p>\n<pre><code>public interface EmployeeService {\n    Employee saveEmployee(Employee employee);\n}\n\n</code></pre>\n<p><strong>EmployeeServiceImpl.java</strong></p>\n<pre><code>@Service\npublic class EmployeeServiceImpl implements EmployeeService{\n\n    private EmployeeRepository employeeRepository;\n    \n    public EmployeeServiceImpl(EmployeeRepository employeeRepository) {\n        super();\n        this.employeeRepository = employeeRepository;\n    }\n\n    @Override\n    public Employee saveEmployee(Employee employee) {\n        return employeeRepository.save(employee);\n    }\n\n}\n\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/employee_management_system?useSSL=false\nspring.datasource.username=root\nspring.datasource.password=root\n\n# Hibernate properties\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\n# create, create-drop\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>While sending a post request using postman, I am getting Internal Server Error 500.</p>\n<pre><code>**Input**\n{\n    &quot;firstName&quot;: &quot;abc&quot;,\n    &quot;lastName&quot;: &quot;abc&quot;,\n    &quot;email&quot;: &quot;abc@gmail.com&quot;\n}\n\n**Result:**\n{\n    &quot;timestamp&quot;: &quot;2022-10-26T09:48:51.322+00:00&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;path&quot;: &quot;/api/employees&quot;\n}\n</code></pre>\n<p>I am taking reference from a youtube video but in the video, the code works but not in my case.</p>\n<p><strong>Please advise what is wrong in my code. Thanks in advance.</strong></p>\n"},{"tags":["java","spring","spring-mvc","websocket","maven-jetty-plugin"],"comments":[{"owner":{"account_id":3634475,"reputation":2800,"user_id":3029904,"accept_rate":88,"display_name":"Ken de Guzman"},"score":0,"creation_date":1417319967,"post_id":27204818,"comment_id":42901396,"body_markdown":"you&#39;re running it using jetty?","body":"you&#39;re running it using jetty?"},{"owner":{"account_id":3634475,"reputation":2800,"user_id":3029904,"accept_rate":88,"display_name":"Ken de Guzman"},"score":0,"creation_date":1417320350,"post_id":27204818,"comment_id":42901443,"body_markdown":"check this full [dependency](https://github.com/rstoyanchev/spring-websocket-portfolio/blob/master/pom.xml#L139-L150)","body":"check this full <a href=\"https://github.com/rstoyanchev/spring-websocket-portfolio/blob/master/pom.xml#L139-L150\" rel=\"nofollow noreferrer\">dependency</a>"},{"owner":{"account_id":1324051,"reputation":5838,"user_id":1269281,"accept_rate":59,"display_name":"bachr"},"score":0,"creation_date":1417347491,"post_id":27204818,"comment_id":42906170,"body_markdown":"yes I&#39;m running it with `mvn jetty:run` but what dependency I&#39;ve to add? `javax.websocket-api` ? but then what happen if I deploy for instance on tomcat or glassfish?","body":"yes I&#39;m running it with <code>mvn jetty:run</code> but what dependency I&#39;ve to add? <code>javax.websocket-api</code> ? but then what happen if I deploy for instance on tomcat or glassfish?"}],"answers":[{"tags":[],"owner":{"account_id":2496504,"reputation":3612,"user_id":2172731,"accept_rate":67,"display_name":"Munish Chandel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443435528,"creation_date":1443435528,"answer_id":32820619,"question_id":27204818,"body_markdown":"already answered it here -\r\nhttps://stackoverflow.com/a/32820569/2172731\r\n\r\nbasically after adding the below dependencies to pom.xml, problem got resolved\r\n\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.eclipse.jetty.websocket&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;websocket-client&lt;/artifactId&gt;\r\n                    &lt;version&gt;9.3.4.RC0&lt;/version&gt;\r\n                    &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.eclipse.jetty.websocket&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;websocket-server&lt;/artifactId&gt;\r\n                    &lt;version&gt;9.3.4.RC0&lt;/version&gt;\r\n                    &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jetty-client&lt;/artifactId&gt;\r\n                    &lt;version&gt;9.3.4.RC0&lt;/version&gt;\r\n                    &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n                &lt;/dependency&gt;","title":"No suitable default RequestUpgradeStrategy found","body":"<p>already answered it here -\n<a href=\"https://stackoverflow.com/a/32820569/2172731\">https://stackoverflow.com/a/32820569/2172731</a></p>\n\n<p>basically after adding the below dependencies to pom.xml, problem got resolved</p>\n\n<pre><code>            &lt;dependency&gt;\n                &lt;groupId&gt;org.eclipse.jetty.websocket&lt;/groupId&gt;\n                &lt;artifactId&gt;websocket-client&lt;/artifactId&gt;\n                &lt;version&gt;9.3.4.RC0&lt;/version&gt;\n                &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.eclipse.jetty.websocket&lt;/groupId&gt;\n                &lt;artifactId&gt;websocket-server&lt;/artifactId&gt;\n                &lt;version&gt;9.3.4.RC0&lt;/version&gt;\n                &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n                &lt;artifactId&gt;jetty-client&lt;/artifactId&gt;\n                &lt;version&gt;9.3.4.RC0&lt;/version&gt;\n                &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\n            &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1324051,"reputation":5838,"user_id":1269281,"accept_rate":59,"display_name":"bachr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10305,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1692529230,"creation_date":1417281244,"question_id":27204818,"body_markdown":"I&#39;m trying to use spring websocket for my application but when running the application on jetty i&#39;m having an `IllegalStateException`. I found similar questions (e.g. [1](https://stackoverflow.com/questions/21565598/no-suitable-default-requestupgradestrategy-found), [2](https://stackoverflow.com/questions/21727286/spring-4-mvc-and-websockets-no-suitable-default-requestupgradestrategy)) but adding a dependency to `tomcat-embed-websocket` didn&#39;t work for me!! Any work around?\r\n\r\nHere is `pom.xml`\r\n\r\n    &lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-websocket&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- thymeleaf template engine --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${thymeleaf.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;thymeleaf-spring4&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${thymeleaf.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- thymeleaf template engine --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;visualization&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;url&gt;http://localhost:8080/manager&lt;/url&gt;\r\n\t\t\t\t\t&lt;server&gt;tomcat&lt;/server&gt;\r\n\t\t\t\t\t&lt;path&gt;/visualization&lt;/path&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\nHere is the full stacktrace,\r\n\r\n    Caused by: java.lang.IllegalStateException: No suitable default RequestUpgradeStrategy found\r\n        at org.springframework.web.socket.server.support.DefaultHandshakeHandler.initRequestUpgradeStrategy(DefaultHandshakeHandler.java:127)\r\n        at org.springframework.web.socket.server.support.DefaultHandshakeHandler.&lt;init&gt;(DefaultHandshakeHandler.java:96)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:526)\r\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:147)\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:89)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1088)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:100)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:505)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:229)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\r\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:351)\r\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:637)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:140)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:133)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:106)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:505)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:229)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\r\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:351)\r\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108)\r\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedMap(BeanDefinitionValueResolver.java:407)\r\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:165)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:171)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1216)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:538)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:229)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:762)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:757)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:480)\r\n        at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:403)\r\n        at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)\r\n        at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106)\r\n        at org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:782)\r\n        at org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:424)\r\n        at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:774)\r\n        at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:249)\r\n        at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1242)\r\n        at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:717)\r\n        at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:494)\r\n        at org.mortbay.jetty.plugin.JettyWebAppContext.doStart(JettyWebAppContext.java:298)\r\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64)\r\n        at org.eclipse.jetty.server.handler.HandlerCollection.doStart(HandlerCollection.java:229)\r\n        at org.eclipse.jetty.server.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:172)\r\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64)\r\n        at org.eclipse.jetty.server.handler.HandlerCollection.doStart(HandlerCollection.java:229)\r\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64)\r\n        at org.eclipse.jetty.server.handler.HandlerWrapper.doStart(HandlerWrapper.java:95)\r\n        at org.eclipse.jetty.server.Server.doStart(Server.java:282)\r\n        at org.mortbay.jetty.plugin.JettyServer.doStart(JettyServer.java:65)\r\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64)\r\n        at org.mortbay.jetty.plugin.AbstractJettyMojo.startJetty(AbstractJettyMojo.java:520)\r\n        at org.mortbay.jetty.plugin.AbstractJettyMojo.execute(AbstractJettyMojo.java:365)\r\n        at org.mortbay.jetty.plugin.JettyRunMojo.execute(JettyRunMojo.java:523)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:132)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:120)\r\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:347)\r\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:154)\r\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:582)\r\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:214)\r\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:158)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:606)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)","title":"No suitable default RequestUpgradeStrategy found","body":"<p>I'm trying to use spring websocket for my application but when running the application on jetty i'm having an <code>IllegalStateException</code>. I found similar questions (e.g. <a href=\"https://stackoverflow.com/questions/21565598/no-suitable-default-requestupgradestrategy-found\">1</a>, <a href=\"https://stackoverflow.com/questions/21727286/spring-4-mvc-and-websockets-no-suitable-default-requestupgradestrategy\">2</a>) but adding a dependency to <code>tomcat-embed-websocket</code> didn't work for me!! Any work around?</p>\n\n<p>Here is <code>pom.xml</code></p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;4.1.2.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-websocket&lt;/artifactId&gt;\n        &lt;version&gt;4.1.2.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\n        &lt;version&gt;4.1.2.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- thymeleaf template engine --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\n        &lt;version&gt;${thymeleaf.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf-spring4&lt;/artifactId&gt;\n        &lt;version&gt;${thymeleaf.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- thymeleaf template engine --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;finalName&gt;visualization&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;url&gt;http://localhost:8080/manager&lt;/url&gt;\n                &lt;server&gt;tomcat&lt;/server&gt;\n                &lt;path&gt;/visualization&lt;/path&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Here is the full stacktrace,</p>\n\n<pre><code>Caused by: java.lang.IllegalStateException: No suitable default RequestUpgradeStrategy found\n    at org.springframework.web.socket.server.support.DefaultHandshakeHandler.initRequestUpgradeStrategy(DefaultHandshakeHandler.java:127)\n    at org.springframework.web.socket.server.support.DefaultHandshakeHandler.&lt;init&gt;(DefaultHandshakeHandler.java:96)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:526)\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:147)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:89)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1088)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:100)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:505)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:229)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:351)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:637)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:140)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:133)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:106)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:505)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:229)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:351)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedMap(BeanDefinitionValueResolver.java:407)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:165)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:171)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1216)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:538)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:229)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:762)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:757)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:480)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:403)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106)\n    at org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:782)\n    at org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:424)\n    at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:774)\n    at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:249)\n    at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1242)\n    at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:717)\n    at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:494)\n    at org.mortbay.jetty.plugin.JettyWebAppContext.doStart(JettyWebAppContext.java:298)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64)\n    at org.eclipse.jetty.server.handler.HandlerCollection.doStart(HandlerCollection.java:229)\n    at org.eclipse.jetty.server.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:172)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64)\n    at org.eclipse.jetty.server.handler.HandlerCollection.doStart(HandlerCollection.java:229)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.doStart(HandlerWrapper.java:95)\n    at org.eclipse.jetty.server.Server.doStart(Server.java:282)\n    at org.mortbay.jetty.plugin.JettyServer.doStart(JettyServer.java:65)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64)\n    at org.mortbay.jetty.plugin.AbstractJettyMojo.startJetty(AbstractJettyMojo.java:520)\n    at org.mortbay.jetty.plugin.AbstractJettyMojo.execute(AbstractJettyMojo.java:365)\n    at org.mortbay.jetty.plugin.JettyRunMojo.execute(JettyRunMojo.java:523)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:132)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:120)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:347)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:154)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:582)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:214)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:158)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\n</code></pre>\n"},{"tags":["java","jtable","desktop-application","jform"],"answers":[{"tags":[],"owner":{"account_id":768498,"reputation":19,"user_id":802978,"display_name":"arshabh"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1308303490,"creation_date":1308303490,"answer_id":6383917,"question_id":6382877,"body_markdown":"you need to connect your java program to your database using a JDBC.\r\nafter that you need to extract the data using ResultSet class.\r\nyou need to understand the basics of JDBC and bey clear about the commands of your database. You also need to know how to work with databases through java. so read the online tutorial of java by oracle(official tutorial).it will not take more than a hour.\r\nlife will be easier","title":"how to show data from database to JTable of Java Swing Controls","body":"<p>you need to connect your java program to your database using a JDBC.\nafter that you need to extract the data using ResultSet class.\nyou need to understand the basics of JDBC and bey clear about the commands of your database. You also need to know how to work with databases through java. so read the online tutorial of java by oracle(official tutorial).it will not take more than a hour.\nlife will be easier</p>\n"},{"tags":[],"owner":{"account_id":6014503,"reputation":79,"user_id":4723848,"accept_rate":40,"display_name":"Ashutosh Adarsh"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1495696401,"creation_date":1429191970,"answer_id":29676694,"question_id":6382877,"body_markdown":"**Use this code :**\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.sql.*;\r\n    import java.util.Vector;\r\n    import javax.swing.*;\r\n    import javax.swing.table.DefaultTableModel;\r\n     \r\n    public class DisplayEmpData extends JFrame implements ActionListener {\r\n     \r\n        JFrame frame1;\r\n        JLabel l0, l1, l2;\r\n        JComboBox c1;\r\n        JButton b1;\r\n        Connection con;\r\n        ResultSet rs, rs1;\r\n        Statement st, st1;\r\n        PreparedStatement pst;\r\n        String ids;\r\n        static JTable table;\r\n        String[] columnNames = {&quot;User name&quot;, &quot;Email&quot;, &quot;Password&quot;, &quot;Country&quot;};\r\n        String from;\r\n     \r\n        DisplayEmpData() {\r\n     \r\n            l0 = new JLabel(&quot;Fatching Employee Information&quot;);\r\n            l0.setForeground(Color.red);\r\n            l0.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 20));\r\n            l1 = new JLabel(&quot;Select name&quot;);\r\n            b1 = new JButton(&quot;submit&quot;);\r\n     \r\n            l0.setBounds(100, 50, 350, 40);\r\n            l1.setBounds(75, 110, 75, 20);\r\n            b1.setBounds(150, 150, 150, 20);\r\n            b1.addActionListener(this);\r\n     \r\n            setTitle(&quot;Fetching Student Info From DataBase&quot;);\r\n            setLayout(null);\r\n            setVisible(true);\r\n            setSize(500, 500);\r\n            setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n     \r\n            add(l0);\r\n            add(l1);;\r\n            add(b1);\r\n            try {\r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);  // (1)\r\n                con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/db_name&quot;, &quot;username&quot;, &quot;password&quot;);  // (2)\r\n                st = con.createStatement();\r\n                rs = st.executeQuery(&quot;select uname from emp&quot;);\r\n                Vector v = new Vector();\r\n                while (rs.next()) {\r\n                    ids = rs.getString(1);\r\n                    v.add(ids);\r\n                }\r\n                c1 = new JComboBox(v);\r\n                c1.setBounds(150, 110, 150, 20);\r\n     \r\n                add(c1);\r\n                st.close();\r\n                rs.close();\r\n            } catch (Exception e) {\r\n            }\r\n        }\r\n     \r\n        public void actionPerformed(ActionEvent ae) {\r\n            if (ae.getSource() == b1) {\r\n                showTableData();\r\n            }\r\n     \r\n        }\r\n     \r\n        public void showTableData() {\r\n     \r\n            frame1 = new JFrame(&quot;Database Search Result&quot;);\r\n            frame1.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame1.setLayout(new BorderLayout());\r\n    //TableModel tm = new TableModel();\r\n            DefaultTableModel model = new DefaultTableModel();\r\n            model.setColumnIdentifiers(columnNames);\r\n    //DefaultTableModel model = new DefaultTableModel(tm.getData1(), tm.getColumnNames());\r\n    //table = new JTable(model);\r\n            table = new JTable();\r\n            table.setModel(model);\r\n            table.setAutoResizeMode(JTable.AUTO_RESIZE_ALL_COLUMNS);\r\n            table.setFillsViewportHeight(true);\r\n            JScrollPane scroll = new JScrollPane(table);\r\n            scroll.setHorizontalScrollBarPolicy(\r\n                    JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);\r\n            scroll.setVerticalScrollBarPolicy(\r\n                    JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);\r\n            from = (String) c1.getSelectedItem();\r\n    //String textvalue = textbox.getText();\r\n            String uname = &quot;&quot;;\r\n            String email = &quot;&quot;;\r\n            String pass = &quot;&quot;;\r\n            String cou = &quot;&quot;;\r\n     \r\n            try {\r\n                pst = con.prepareStatement(&quot;select * from emp where UNAME=&#39;&quot; + from + &quot;&#39;&quot;);\r\n                ResultSet rs = pst.executeQuery();\r\n                int i = 0;\r\n                if (rs.next()) {\r\n                    uname = rs.getString(&quot;uname&quot;);\r\n                    email = rs.getString(&quot;umail&quot;);\r\n                    pass = rs.getString(&quot;upass&quot;);\r\n                    cou = rs.getString(&quot;ucountry&quot;);\r\n                    model.addRow(new Object[]{uname, email, pass, cou});\r\n                    i++;\r\n                }\r\n                if (i &lt; 1) {\r\n                    JOptionPane.showMessageDialog(null, &quot;No Record Found&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n                }\r\n                if (i == 1) {\r\n                    System.out.println(i + &quot; Record Found&quot;);\r\n                } else {\r\n                    System.out.println(i + &quot; Records Found&quot;);\r\n                }\r\n            } catch (Exception ex) {\r\n                JOptionPane.showMessageDialog(null, ex.getMessage(), &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n            }\r\n            frame1.add(scroll);\r\n            frame1.setVisible(true);\r\n            frame1.setSize(400, 300);\r\n        }\r\n     \r\n        public static void main(String args[]) {\r\n            new DisplayEmpData();\r\n        }\r\n    }\r\n\r\nEDIT: The above code use mysql as an example. Change the line marked with (1) and (2) if you are not using mysql.","title":"how to show data from database to JTable of Java Swing Controls","body":"<p><strong>Use this code :</strong></p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.sql.*;\nimport java.util.Vector;\nimport javax.swing.*;\nimport javax.swing.table.DefaultTableModel;\n\npublic class DisplayEmpData extends JFrame implements ActionListener {\n\n    JFrame frame1;\n    JLabel l0, l1, l2;\n    JComboBox c1;\n    JButton b1;\n    Connection con;\n    ResultSet rs, rs1;\n    Statement st, st1;\n    PreparedStatement pst;\n    String ids;\n    static JTable table;\n    String[] columnNames = {\"User name\", \"Email\", \"Password\", \"Country\"};\n    String from;\n\n    DisplayEmpData() {\n\n        l0 = new JLabel(\"Fatching Employee Information\");\n        l0.setForeground(Color.red);\n        l0.setFont(new Font(\"Serif\", Font.BOLD, 20));\n        l1 = new JLabel(\"Select name\");\n        b1 = new JButton(\"submit\");\n\n        l0.setBounds(100, 50, 350, 40);\n        l1.setBounds(75, 110, 75, 20);\n        b1.setBounds(150, 150, 150, 20);\n        b1.addActionListener(this);\n\n        setTitle(\"Fetching Student Info From DataBase\");\n        setLayout(null);\n        setVisible(true);\n        setSize(500, 500);\n        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n\n        add(l0);\n        add(l1);;\n        add(b1);\n        try {\n            Class.forName(\"com.mysql.jdbc.Driver\");  // (1)\n            con = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/db_name\", \"username\", \"password\");  // (2)\n            st = con.createStatement();\n            rs = st.executeQuery(\"select uname from emp\");\n            Vector v = new Vector();\n            while (rs.next()) {\n                ids = rs.getString(1);\n                v.add(ids);\n            }\n            c1 = new JComboBox(v);\n            c1.setBounds(150, 110, 150, 20);\n\n            add(c1);\n            st.close();\n            rs.close();\n        } catch (Exception e) {\n        }\n    }\n\n    public void actionPerformed(ActionEvent ae) {\n        if (ae.getSource() == b1) {\n            showTableData();\n        }\n\n    }\n\n    public void showTableData() {\n\n        frame1 = new JFrame(\"Database Search Result\");\n        frame1.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame1.setLayout(new BorderLayout());\n//TableModel tm = new TableModel();\n        DefaultTableModel model = new DefaultTableModel();\n        model.setColumnIdentifiers(columnNames);\n//DefaultTableModel model = new DefaultTableModel(tm.getData1(), tm.getColumnNames());\n//table = new JTable(model);\n        table = new JTable();\n        table.setModel(model);\n        table.setAutoResizeMode(JTable.AUTO_RESIZE_ALL_COLUMNS);\n        table.setFillsViewportHeight(true);\n        JScrollPane scroll = new JScrollPane(table);\n        scroll.setHorizontalScrollBarPolicy(\n                JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);\n        scroll.setVerticalScrollBarPolicy(\n                JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);\n        from = (String) c1.getSelectedItem();\n//String textvalue = textbox.getText();\n        String uname = \"\";\n        String email = \"\";\n        String pass = \"\";\n        String cou = \"\";\n\n        try {\n            pst = con.prepareStatement(\"select * from emp where UNAME='\" + from + \"'\");\n            ResultSet rs = pst.executeQuery();\n            int i = 0;\n            if (rs.next()) {\n                uname = rs.getString(\"uname\");\n                email = rs.getString(\"umail\");\n                pass = rs.getString(\"upass\");\n                cou = rs.getString(\"ucountry\");\n                model.addRow(new Object[]{uname, email, pass, cou});\n                i++;\n            }\n            if (i &lt; 1) {\n                JOptionPane.showMessageDialog(null, \"No Record Found\", \"Error\", JOptionPane.ERROR_MESSAGE);\n            }\n            if (i == 1) {\n                System.out.println(i + \" Record Found\");\n            } else {\n                System.out.println(i + \" Records Found\");\n            }\n        } catch (Exception ex) {\n            JOptionPane.showMessageDialog(null, ex.getMessage(), \"Error\", JOptionPane.ERROR_MESSAGE);\n        }\n        frame1.add(scroll);\n        frame1.setVisible(true);\n        frame1.setSize(400, 300);\n    }\n\n    public static void main(String args[]) {\n        new DisplayEmpData();\n    }\n}\n</code></pre>\n\n<p>EDIT: The above code use mysql as an example. Change the line marked with (1) and (2) if you are not using mysql.</p>\n"}],"owner":{"account_id":251035,"reputation":421,"user_id":528125,"accept_rate":98,"display_name":"iamanapprentice"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49052,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1692529230,"creation_date":1308297142,"question_id":6382877,"body_markdown":"I have this problem on how to show data from my database using JTable of Java Swing Controls.  I just drag and drop the table from the palette in the JForm.\r\n\r\nI have no Idea how to code it.","title":"how to show data from database to JTable of Java Swing Controls","body":"<p>I have this problem on how to show data from my database using JTable of Java Swing Controls.  I just drag and drop the table from the palette in the JForm.</p>\n\n<p>I have no Idea how to code it.</p>\n"},{"tags":["java","jls"],"comments":[{"owner":{"account_id":213468,"reputation":103490,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1692525319,"post_id":76938670,"comment_id":135632854,"body_markdown":"The first rule is more specific and declares exceptions to the second rule for local classes only.","body":"The first rule is more specific and declares exceptions to the second rule for local classes only."},{"owner":{"account_id":8921462,"reputation":865,"user_id":6657837,"accept_rate":83,"display_name":"Turkhan Badalov"},"score":0,"creation_date":1692526524,"post_id":76938670,"comment_id":135632964,"body_markdown":"@MarkRotteveel, thanks for the comment. How is that useful? It only confuses and disseminates rules across JLS, doesn&#39;t it?","body":"@MarkRotteveel, thanks for the comment. How is that useful? It only confuses and disseminates rules across JLS, doesn&#39;t it?"},{"owner":{"account_id":213468,"reputation":103490,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1692526862,"post_id":76938670,"comment_id":135632992,"body_markdown":"I agree that the current implementation seems to only follow rule 8.1, which means the implementation fails to meet the exception defined in JLS 6.4. Whether or not that means the JLS should be updated, or the implementation should be fixed, I don&#39;t know. As to how it is useful, I don&#39;t know, I hardly ever use local classes, and I can&#39;t think of a time when I had classes nested in local classes (except maybe anonymous classes), but I assume rule 6.4 was put there for a reason.","body":"I agree that the current implementation seems to only follow rule 8.1, which means the implementation fails to meet the exception defined in JLS 6.4. Whether or not that means the JLS should be updated, or the implementation should be fixed, I don&#39;t know. As to how it is useful, I don&#39;t know, I hardly ever use local classes, and I can&#39;t think of a time when I had classes nested in local classes (except maybe anonymous classes), but I assume rule 6.4 was put there for a reason."},{"owner":{"account_id":8921462,"reputation":865,"user_id":6657837,"accept_rate":83,"display_name":"Turkhan Badalov"},"score":0,"creation_date":1692527500,"post_id":76938670,"comment_id":135633050,"body_markdown":"@MarkRotteveel, thank you. I have the same understanding and it raised a question why would JLS put that part of 6.4 there if it only follows 8.1 since I couldn&#39;t find any other cases that would justify existence of 6.4. &quot;but I assume rule 6.4 was put there for a reason&quot; &lt;- I am here to look for that reason as well :)","body":"@MarkRotteveel, thank you. I have the same understanding and it raised a question why would JLS put that part of 6.4 there if it only follows 8.1 since I couldn&#39;t find any other cases that would justify existence of 6.4. &quot;but I assume rule 6.4 was put there for a reason&quot; &lt;- I am here to look for that reason as well :)"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692529104,"creation_date":1692527079,"answer_id":76938961,"question_id":76938670,"body_markdown":"I think that Mark Rotteveel is correct: the rules in 6.4 are actually relaxing the normal 8.1 rule about nested classes.  This is clear from the (non-normative) paragraph that follows the 8.1 rule that you quoted:\r\n\r\n&gt; *&quot;These rules allow redeclaration of a variable, local class, or local interface in nested class or interface declarations that occur in the scope of the variable, local class, or local interface; such nested class or interface declarations may be local class or interface declarations (&#167;14.3) or anonymous class declarations (&#167;15.9.5). Thus, the declaration of a formal parameter, local variable, local class, or local interface may be shadowed in a class or interface declaration nested within a method, constructor, or lambda expression; and the declaration of an exception parameter may be shadowed in a class or interface declaration nested within the Block of the catch clause.&quot;*\r\n\r\nClearly, the 6.4 rule is not redundant.  It is allowing a form of shadowing that is otherwise forbidden (by 8.1).  To the extent&lt;sup&gt;1&lt;/sup&gt; that 6.4 contradicts 8.1, the text above implies that intended meaning is that 6.4 should override 8.1 for local classes.  \r\n\r\n---------------------\r\n\r\n&lt;sup&gt;1 - There may also be a way of reading 6.4 so that it doesn&#39;t contradict 8.1; e.g. some fine distinction between enclosing classes and enclosing methods.  However, I couldn&#39;t find a convincing justification for that. It is also *possible* that the facial contradiction is due to an editorial issue, and the spec and/or the compiler is wrong.&lt;/sup&gt;\r\n","title":"What is the meaning of the following rule in JLS if another rule makes it redundant?","body":"<p>I think that Mark Rotteveel is correct: the rules in 6.4 are actually relaxing the normal 8.1 rule about nested classes.  This is clear from the (non-normative) paragraph that follows the 8.1 rule that you quoted:</p>\n<blockquote>\n<p><em>&quot;These rules allow redeclaration of a variable, local class, or local interface in nested class or interface declarations that occur in the scope of the variable, local class, or local interface; such nested class or interface declarations may be local class or interface declarations (§14.3) or anonymous class declarations (§15.9.5). Thus, the declaration of a formal parameter, local variable, local class, or local interface may be shadowed in a class or interface declaration nested within a method, constructor, or lambda expression; and the declaration of an exception parameter may be shadowed in a class or interface declaration nested within the Block of the catch clause.&quot;</em></p>\n</blockquote>\n<p>Clearly, the 6.4 rule is not redundant.  It is allowing a form of shadowing that is otherwise forbidden (by 8.1).  To the extent<sup>1</sup> that 6.4 contradicts 8.1, the text above implies that intended meaning is that 6.4 should override 8.1 for local classes.</p>\n<hr />\n<p><sup>1 - There may also be a way of reading 6.4 so that it doesn't contradict 8.1; e.g. some fine distinction between enclosing classes and enclosing methods.  However, I couldn't find a convincing justification for that. It is also <em>possible</em> that the facial contradiction is due to an editorial issue, and the spec and/or the compiler is wrong.</sup></p>\n"}],"owner":{"account_id":8921462,"reputation":865,"user_id":6657837,"accept_rate":83,"display_name":"Turkhan Badalov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76938961,"answer_count":1,"score":1,"last_activity_date":1692529104,"creation_date":1692521879,"question_id":76938670,"body_markdown":"In JLS 17, [Section 6.4][1], it says (emphasis mine):\r\n\r\n&gt; It is a compile-time error if the name of a local class or interface C is used to declare a new local class or interface within the scope of C, **unless the new local class or interface is declared within a class or interface declaration appearing within the scope of C**\r\n\r\nMeanwhile in [Section 8.1][2]:\r\n\r\n&gt;  It is a compile-time error if a class has the same simple name as any of its enclosing classes or interfaces.\r\n\r\nAlthough logically there is no contradiction, I wonder what is the point of having that &quot;unless&quot; clause in the first rule when the second one is going to result in compilation error anyway when the condition for &quot;unless&quot; is not satisfied? Perhaps I am missing something?\r\n\r\nFor example:\r\n\r\n    class Test {\r\n      public void foo() {\r\n        class C {\r\n          public void bar() {\r\n            class SomeNested {\r\n              public void xyz() {\r\n                class C{} // Section 6.4 says nothing what happens in this case. Section 8.1 results in compilation error\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-6.html#jls-6.4\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.1","title":"What is the meaning of the following rule in JLS if another rule makes it redundant?","body":"<p>In JLS 17, <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-6.html#jls-6.4\" rel=\"nofollow noreferrer\">Section 6.4</a>, it says (emphasis mine):</p>\n<blockquote>\n<p>It is a compile-time error if the name of a local class or interface C is used to declare a new local class or interface within the scope of C, <strong>unless the new local class or interface is declared within a class or interface declaration appearing within the scope of C</strong></p>\n</blockquote>\n<p>Meanwhile in <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.1\" rel=\"nofollow noreferrer\">Section 8.1</a>:</p>\n<blockquote>\n<p>It is a compile-time error if a class has the same simple name as any of its enclosing classes or interfaces.</p>\n</blockquote>\n<p>Although logically there is no contradiction, I wonder what is the point of having that &quot;unless&quot; clause in the first rule when the second one is going to result in compilation error anyway when the condition for &quot;unless&quot; is not satisfied? Perhaps I am missing something?</p>\n<p>For example:</p>\n<pre><code>class Test {\n  public void foo() {\n    class C {\n      public void bar() {\n        class SomeNested {\n          public void xyz() {\n            class C{} // Section 6.4 says nothing what happens in this case. Section 8.1 results in compilation error\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","maven","async-profiler"],"comments":[{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1692740764,"post_id":76938882,"comment_id":135665275,"body_markdown":"There are 3 ways to run async-profiler: 1) as a standalone program `profiler.sh`/`asprof`; 2) as an [agent](https://github.com/async-profiler/async-profiler#launching-as-an-agent) which starts with the JVM; 3) using [Java API](https://github.com/apangin/java-profiling-presentation/blob/master/src/demo8/FileConverter2.java#L19-L27). The simplest way in your case is (2) - to add a JVM argument. Alternatively, the test code may start async-profiler programmatically using Java API.","body":"There are 3 ways to run async-profiler: 1) as a standalone program <code>profiler.sh</code>/<code>asprof</code>; 2) as an <a href=\"https://github.com/async-profiler/async-profiler#launching-as-an-agent\" rel=\"nofollow noreferrer\">agent</a> which starts with the JVM; 3) using <a href=\"https://github.com/apangin/java-profiling-presentation/blob/master/src/demo8/FileConverter2.java#L19-L27\" rel=\"nofollow noreferrer\">Java API</a>. The simplest way in your case is (2) - to add a JVM argument. Alternatively, the test code may start async-profiler programmatically using Java API."}],"owner":{"account_id":20374643,"reputation":53,"user_id":17939972,"display_name":"94621"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1692525667,"creation_date":1692525667,"question_id":76938882,"body_markdown":"I have a java application that I&#39;d like to profile using [async-profiler](https://github.com/async-profiler/async-profiler). In particular, I want to run a test case using `mvn test -Dtest=SomeTest` and have async-profiler automatically launched in the background to profile the executed code.\r\n\r\nRight now, I am achieving that by launching the test case, identifying the `pid` and separately invoking `async-profiler`:\r\n```sh\r\nmvn test -DargLine=&quot;-XX:+UnlockDiagnosticVMOptions -XX:+DebugNonSafepoints&quot; -Dtest=SomeTest\r\n```\r\n```sh\r\nprofiler.sh -e cpu -d 30 -f profiles/cpu_profile_$(date +%F_%T).html $(pgrep -f &#39;Unlock&#39;)\r\n```\r\n\r\nI am looking for a way (a maven plugin, a class that I can include in the test case) to automatically launch async-profiler when running the application with maven.\r\nI know that there are a lot different ways described [in the async-profiler README](https://github.com/async-profiler/async-profiler#cpu-profiling), but they are assuming too much knowledge to be actionable for me...","title":"How to profile a java program with async-profiler that is invoked via mvn test?","body":"<p>I have a java application that I'd like to profile using <a href=\"https://github.com/async-profiler/async-profiler\" rel=\"nofollow noreferrer\">async-profiler</a>. In particular, I want to run a test case using <code>mvn test -Dtest=SomeTest</code> and have async-profiler automatically launched in the background to profile the executed code.</p>\n<p>Right now, I am achieving that by launching the test case, identifying the <code>pid</code> and separately invoking <code>async-profiler</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn test -DargLine=&quot;-XX:+UnlockDiagnosticVMOptions -XX:+DebugNonSafepoints&quot; -Dtest=SomeTest\n</code></pre>\n<pre class=\"lang-bash prettyprint-override\"><code>profiler.sh -e cpu -d 30 -f profiles/cpu_profile_$(date +%F_%T).html $(pgrep -f 'Unlock')\n</code></pre>\n<p>I am looking for a way (a maven plugin, a class that I can include in the test case) to automatically launch async-profiler when running the application with maven.\nI know that there are a lot different ways described <a href=\"https://github.com/async-profiler/async-profiler#cpu-profiling\" rel=\"nofollow noreferrer\">in the async-profiler README</a>, but they are assuming too much knowledge to be actionable for me...</p>\n"},{"tags":["java","android","http-post","channel","socketchannel"],"answers":[{"tags":[],"owner":{"account_id":1964760,"reputation":604,"user_id":1765321,"accept_rate":0,"display_name":"Solution"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396260846,"creation_date":1396260846,"answer_id":22758951,"question_id":22758482,"body_markdown":"This is the common issue of memory link due to some code.\r\nLook at [blog post][1] in the developer docs to track it down.\r\n\r\n\r\n  [1]: http://android-developers.blogspot.com/2011/03/memory-analysis-for-android.html","title":"HttpPost: InputDispatcher: &quot;Channel is unrecoverably broken and will be disposed!&quot; on Nexus 7","body":"<p>This is the common issue of memory link due to some code.\nLook at <a href=\"http://android-developers.blogspot.com/2011/03/memory-analysis-for-android.html\" rel=\"nofollow\">blog post</a> in the developer docs to track it down.</p>\n"},{"tags":[],"owner":{"account_id":4450698,"reputation":141,"user_id":3622671,"display_name":"Jackie_Hung"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1415982176,"creation_date":1415940531,"answer_id":26923082,"question_id":22758482,"body_markdown":"**I met same troubles in 2 days ago for Android, not pure Java, this asnwer let you reference only.**\r\nI solve it now.I am Taiwanese, I am glad to answer here once more.\r\nDo you ever use UI new thread? Do not double use UI new thread look like sandwich. It should cause memory leaks.\r\n\r\n**in a short sentence, a main thread could have many UI threads to do many work, but if one sub thread(not main thread) own a UI thread inside, maybe sub thread work done, but its kid ~ UI thread has not finish work, this will case memory leaks.** \r\n\r\n**For example...for Fragment &amp; UI application...this will cause memory leaks.**\r\n\r\n    getActivity().runOnUiThread(new Runnable(){\r\n    \r\n        public void run() {\r\n    \t\t\t\t\r\n    \tShowDataScreen();\r\n    \r\n    \tgetActivity().runOnUiThread(new Runnable(){\r\n    \r\n      \t\tpublic void run() {\r\n    \t\t\t\t\r\n       \tToast.makeText(getActivity(), &quot;This is error way&quot;,Toast.LENGTH_SHORT).show();\r\n    \t\t\t\t\r\n    \t\t}});// end of No.2 UI new thread\r\n    \t\t\t\t\r\n    \t}});// end of No.1 UI new thread\r\n\r\n**My solution is rearrange as below:**\r\n\r\n    getActivity().runOnUiThread(new Runnable(){\r\n       public void run() {\r\n    \t\t\t\t\r\n    \tShowDataScreen();\r\n    \t\t\t\t\r\n    \t}});// end of No.1 UI new thread \t\t\r\n    \r\n    getActivity().runOnUiThread(new Runnable(){\r\n       public void run() {\r\n    \t\t\t\t\r\n    Toast.makeText(getActivity(), &quot;This is correct way&quot;,Toast.LENGTH_SHORT).show();\r\n    \t\t\t\t\r\n    \t}});// end of No.2 UI new thread\r\n\r\nfor you reference.\r\n","title":"HttpPost: InputDispatcher: &quot;Channel is unrecoverably broken and will be disposed!&quot; on Nexus 7","body":"<p><strong>I met same troubles in 2 days ago for Android, not pure Java, this asnwer let you reference only.</strong>\nI solve it now.I am Taiwanese, I am glad to answer here once more.\nDo you ever use UI new thread? Do not double use UI new thread look like sandwich. It should cause memory leaks.</p>\n\n<p><strong>in a short sentence, a main thread could have many UI threads to do many work, but if one sub thread(not main thread) own a UI thread inside, maybe sub thread work done, but its kid ~ UI thread has not finish work, this will case memory leaks.</strong> </p>\n\n<p><strong>For example...for Fragment &amp; UI application...this will cause memory leaks.</strong></p>\n\n<pre><code>getActivity().runOnUiThread(new Runnable(){\n\n    public void run() {\n\n    ShowDataScreen();\n\n    getActivity().runOnUiThread(new Runnable(){\n\n        public void run() {\n\n    Toast.makeText(getActivity(), \"This is error way\",Toast.LENGTH_SHORT).show();\n\n        }});// end of No.2 UI new thread\n\n    }});// end of No.1 UI new thread\n</code></pre>\n\n<p><strong>My solution is rearrange as below:</strong></p>\n\n<pre><code>getActivity().runOnUiThread(new Runnable(){\n   public void run() {\n\n    ShowDataScreen();\n\n    }});// end of No.1 UI new thread        \n\ngetActivity().runOnUiThread(new Runnable(){\n   public void run() {\n\nToast.makeText(getActivity(), \"This is correct way\",Toast.LENGTH_SHORT).show();\n\n    }});// end of No.2 UI new thread\n</code></pre>\n\n<p>for you reference.</p>\n"}],"owner":{"account_id":156890,"reputation":699,"user_id":2920409,"accept_rate":59,"display_name":"mylord"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16260,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1692525660,"creation_date":1396259358,"question_id":22758482,"body_markdown":"On Nexus 7 (4.3), and not on my older device, LG Optimus 3d (Android 2.2), \r\nwhen I do HttpPost, I get this\r\n\r\nE/InputDispatcher﹕ channel &#39;4273f7b0 ... MainActivity (server)&#39; ~ Channel is unrecoverably broken and will be disposed!\r\n\r\nPeople have mentioned a possible memory leak. See **. However, this problem happens right away on startup when I try the HttpPost. Is it still likely a memory leak?\r\n\r\nHere is how I&#39;m doing the HttpPost:\r\n\r\n    public void server_addUserGetId()\r\n    {\r\n        String url = GS.baseUrl() + &quot;/users&quot;;\r\n        HttpPost theHttpPost = new HttpPost(url);\r\n    \r\n        List&lt;NameValuePair&gt; nameValuePairs = new ArrayList&lt;NameValuePair&gt;();\r\n        nameValuePairs.add(new BasicNameValuePair(&quot;dId&quot;, s_UserInfo.getInstance().m_device_id ));\r\n        try {\r\n            theHttpPost.setEntity(new UrlEncodedFormEntity(nameValuePairs));\r\n        } catch (UnsupportedEncodingException e) {\r\n            e.printStackTrace();\r\n        }\r\n        HttpPostAsync theHttpPostAsync = new HttpPostAsync(new OnPostExecuteHandler() {\r\n            @Override\r\n            public void handlePostExecute(Object oHttpResponse) {\r\n                HttpResponse theHttpResponse = (HttpResponse) oHttpResponse;\r\n                JSONObject jo = GS.getJSONObject(theHttpResponse.getEntity());\r\n                try {\r\n                    s_UserInfo.getInstance().m_user_id = jo.getString(&quot;_id&quot;);\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n        theHttpPostAsync.execute(theHttpPost);\r\n        return;\r\n    }\r\n\r\n\r\nHere is my HttpPostAsync task:\r\n\r\n    public class HttpPostAsync extends AsyncTask&lt;HttpPost, Integer, HttpResponse&gt;\r\n    {\r\n        private HttpPost m_HttpPost;\r\n        private HttpResponse m_HttpResponse;\r\n    \r\n        private OnPostExecuteHandler m_OnPostExecuteHandler;\r\n        public HttpPostAsync(OnPostExecuteHandler listener)\r\n        {\r\n            m_OnPostExecuteHandler = listener;\r\n        }\r\n    \r\n        protected HttpResponse doInBackground(HttpPost ... args)\r\n        {\r\n            m_HttpPost = args[0];\r\n            if(GS.dl&gt;5) Log.d(&quot;GRA: HttpPostAsync&quot;, &quot;doInBackground: Thread.currentThread().getId()=&quot; + Thread.currentThread().getId());\r\n            m_HttpResponse = visit(m_HttpPost);\r\n            return m_HttpResponse;\r\n        }\r\n    \r\n        protected void onProgressUpdate(Integer... progress) {\r\n        }\r\n    \r\n        protected void onPostExecute(Long result) {\r\n            if(GS.dl&gt;5) Log.d(&quot;GRA: HttpPostAsync&quot;, &quot;onPostExecute: Thread.currentThread().getId()=&quot; + Thread.currentThread().getId());\r\n            if(GS.dl&gt;5) Log.d(&quot;GRA: HttpPostAsync&quot;, &quot;onPostExecute: result=&quot; + result);\r\n            //if(GS.dl&gt;5) Log.d(&quot;GRA: HttpPostAsync&quot;, &quot;onPostExecute: m_HttpEntity=&quot;+m_HttpEntity);\r\n            m_OnPostExecuteHandler.handlePostExecute(m_HttpResponse);\r\n        }\r\n    \r\n        public HttpResponse visit(HttpPost theHttpPost)\r\n        {\r\n            HttpResponse response = null;\r\n            try {\r\n                // Create a new HttpClient and Post Header\r\n                HttpClient httpclient = new DefaultHttpClient();\r\n                // Execute HTTP Post Request\r\n                response = httpclient.execute(theHttpPost);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                Log.d(&quot;HttpPostAsync.java&quot;, &quot;IOException e=&quot; + e);\r\n                // TODO Auto-generated catch block\r\n            }\r\n            return response;\r\n        }\r\n    }\r\n\r\nAny ideas?\r\n\r\nI read on an SO answer* it might have to do with the ArrayList&lt;NameValuePair&gt; initialization, so I&#39;ve also tried initializing like this, with 1, in the ArrayList, but the problem persists:\r\n\r\n    List&lt;NameValuePair&gt; nameValuePairs = new ArrayList&lt;NameValuePair&gt;(1);\r\n\r\n*: SO answer that didn&#39;t totally relate/help:\r\nhttps://stackoverflow.com/questions/12509930/app-has-stopped-working-android\r\n\r\n** memory leak related? http://android-developers.blogspot.com/2011/03/memory-analysis-for-android.html\r\n","title":"HttpPost: InputDispatcher: &quot;Channel is unrecoverably broken and will be disposed!&quot; on Nexus 7","body":"<p>On Nexus 7 (4.3), and not on my older device, LG Optimus 3d (Android 2.2), \nwhen I do HttpPost, I get this</p>\n\n<p>E/InputDispatcher﹕ channel '4273f7b0 ... MainActivity (server)' ~ Channel is unrecoverably broken and will be disposed!</p>\n\n<p>People have mentioned a possible memory leak. See **. However, this problem happens right away on startup when I try the HttpPost. Is it still likely a memory leak?</p>\n\n<p>Here is how I'm doing the HttpPost:</p>\n\n<pre><code>public void server_addUserGetId()\n{\n    String url = GS.baseUrl() + \"/users\";\n    HttpPost theHttpPost = new HttpPost(url);\n\n    List&lt;NameValuePair&gt; nameValuePairs = new ArrayList&lt;NameValuePair&gt;();\n    nameValuePairs.add(new BasicNameValuePair(\"dId\", s_UserInfo.getInstance().m_device_id ));\n    try {\n        theHttpPost.setEntity(new UrlEncodedFormEntity(nameValuePairs));\n    } catch (UnsupportedEncodingException e) {\n        e.printStackTrace();\n    }\n    HttpPostAsync theHttpPostAsync = new HttpPostAsync(new OnPostExecuteHandler() {\n        @Override\n        public void handlePostExecute(Object oHttpResponse) {\n            HttpResponse theHttpResponse = (HttpResponse) oHttpResponse;\n            JSONObject jo = GS.getJSONObject(theHttpResponse.getEntity());\n            try {\n                s_UserInfo.getInstance().m_user_id = jo.getString(\"_id\");\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n        }\n    });\n    theHttpPostAsync.execute(theHttpPost);\n    return;\n}\n</code></pre>\n\n<p>Here is my HttpPostAsync task:</p>\n\n<pre><code>public class HttpPostAsync extends AsyncTask&lt;HttpPost, Integer, HttpResponse&gt;\n{\n    private HttpPost m_HttpPost;\n    private HttpResponse m_HttpResponse;\n\n    private OnPostExecuteHandler m_OnPostExecuteHandler;\n    public HttpPostAsync(OnPostExecuteHandler listener)\n    {\n        m_OnPostExecuteHandler = listener;\n    }\n\n    protected HttpResponse doInBackground(HttpPost ... args)\n    {\n        m_HttpPost = args[0];\n        if(GS.dl&gt;5) Log.d(\"GRA: HttpPostAsync\", \"doInBackground: Thread.currentThread().getId()=\" + Thread.currentThread().getId());\n        m_HttpResponse = visit(m_HttpPost);\n        return m_HttpResponse;\n    }\n\n    protected void onProgressUpdate(Integer... progress) {\n    }\n\n    protected void onPostExecute(Long result) {\n        if(GS.dl&gt;5) Log.d(\"GRA: HttpPostAsync\", \"onPostExecute: Thread.currentThread().getId()=\" + Thread.currentThread().getId());\n        if(GS.dl&gt;5) Log.d(\"GRA: HttpPostAsync\", \"onPostExecute: result=\" + result);\n        //if(GS.dl&gt;5) Log.d(\"GRA: HttpPostAsync\", \"onPostExecute: m_HttpEntity=\"+m_HttpEntity);\n        m_OnPostExecuteHandler.handlePostExecute(m_HttpResponse);\n    }\n\n    public HttpResponse visit(HttpPost theHttpPost)\n    {\n        HttpResponse response = null;\n        try {\n            // Create a new HttpClient and Post Header\n            HttpClient httpclient = new DefaultHttpClient();\n            // Execute HTTP Post Request\n            response = httpclient.execute(theHttpPost);\n        } catch (IOException e) {\n            e.printStackTrace();\n            Log.d(\"HttpPostAsync.java\", \"IOException e=\" + e);\n            // TODO Auto-generated catch block\n        }\n        return response;\n    }\n}\n</code></pre>\n\n<p>Any ideas?</p>\n\n<p>I read on an SO answer* it might have to do with the ArrayList initialization, so I've also tried initializing like this, with 1, in the ArrayList, but the problem persists:</p>\n\n<pre><code>List&lt;NameValuePair&gt; nameValuePairs = new ArrayList&lt;NameValuePair&gt;(1);\n</code></pre>\n\n<p>*: SO answer that didn't totally relate/help:\n<a href=\"https://stackoverflow.com/questions/12509930/app-has-stopped-working-android\">App has stopped working Android</a></p>\n\n<p>** memory leak related? <a href=\"http://android-developers.blogspot.com/2011/03/memory-analysis-for-android.html\" rel=\"nofollow noreferrer\">http://android-developers.blogspot.com/2011/03/memory-analysis-for-android.html</a></p>\n"},{"tags":["java","ant","build","weblogic","java-web-start"],"answers":[{"tags":[],"owner":{"account_id":205984,"reputation":2548,"user_id":455020,"accept_rate":78,"display_name":"bakoyaro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1294067804,"creation_date":1294067031,"answer_id":4585535,"question_id":4584254,"body_markdown":"I&#39;m betting that in your deployment target (Which isn&#39;t posted here) is trying to &#39;clean&#39; up the deployment directory, and is failing when it can&#39;t find the file called `/var/tmp/_927vxb/web.xml`\r\n\r\n3 suggestions:\r\n\r\n1. Run `touch /var/tmp/_927vxb/web.xml` from the command line and try to run the build/deployment again. This will create an empty file that will at least let you get past the file not found on delete error. This is not a long term solution, but rather an attempt to expose the real issue.\r\n\r\n2. Look at line 231 in your `/wls_domains/CIT/cruisecontrol-bin-2.8.3/util/Ivy/build.xml` file. Perhaps there is a `delete` ant task that is `failing on error`. If this is the case, add `failonerror=&quot;false&quot; to the ant task that is causing the issue.\r\n\r\n3. Post more of your build file here. Being able to align the line numbers in the file with the error will help in decoding the issue.\r\n","title":"Weblogic Ant JWSC task to generate a webservice war file","body":"<p>I'm betting that in your deployment target (Which isn't posted here) is trying to 'clean' up the deployment directory, and is failing when it can't find the file called <code>/var/tmp/_927vxb/web.xml</code></p>\n\n<p>3 suggestions:</p>\n\n<ol>\n<li><p>Run <code>touch /var/tmp/_927vxb/web.xml</code> from the command line and try to run the build/deployment again. This will create an empty file that will at least let you get past the file not found on delete error. This is not a long term solution, but rather an attempt to expose the real issue.</p></li>\n<li><p>Look at line 231 in your <code>/wls_domains/CIT/cruisecontrol-bin-2.8.3/util/Ivy/build.xml</code> file. Perhaps there is a <code>delete</code> ant task that is <code>failing on error</code>. If this is the case, add `failonerror=\"false\" to the ant task that is causing the issue.</p></li>\n<li><p>Post more of your build file here. Being able to align the line numbers in the file with the error will help in decoding the issue.</p></li>\n</ol>\n"}],"owner":{"account_id":269097,"reputation":61,"user_id":558235,"display_name":"Shekar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12344,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692525660,"creation_date":1294056328,"question_id":4584254,"body_markdown":"I am running a jwsc ant task to generate a war file. It is working fine for me if I add the weblogic.jar to classpath before running the ant script (CLASSPATH=/opt/bea/weblogic91/server/lib/weblogic.jar export CLASSPATH)\r\n\r\nBut is is not working if I add this in my build.xml as follows:\r\n\r\n    &lt;target name=&quot;GenerateWarFiles&quot;&gt;   \r\n    &lt;path id=&quot;lib.jwsc.id&quot;&gt;  \r\n    &lt;pathelement path=&quot;/opt/bea/weblogic91/server/lib/weblogic.jar&quot;/&gt;  \r\n    &lt;/path&gt;  \r\n    &lt;taskdef name=&quot;jwsc&quot; classname=&quot;weblogic.wsee.tools.anttasks.JwscTask&quot; classpathref=&quot;lib.jwsc.id&quot;/&gt;  \r\n    &lt;jwsc srcdir=&quot;${src.java.dir}&quot; destdir=&quot;${build.war.file.dir}&quot; verbose=&quot;on&quot; debug=&quot;on&quot; classpathref=&quot;lib.jwsc.id&quot;&gt;  \r\n    &lt;jws file=&quot;sep/com/bt/prf/jws/TypeImpl.java&quot; compiledWsdl=&quot;${ivy.lib.dir}/WSDLC/Jwslib-8.0.jar&quot; /&gt;  \r\n    &lt;/jwsc&gt;   \r\n    &lt;/target&gt;\r\n\r\nI am getting the following error.\r\n\r\n    [AntUtil.deleteDir] Deleting directory /var/tmp/_927vxb\r\n    \r\n    BUILD FAILED\r\n    /wls_domains/CIT/cruisecontrol-bin-2.8.3/util/Ivy/build.xml:231: Deployment descriptor: /var/tmp/_927vxb/web.xml does not exist.\r\n    at weblogic.wsee.tools.anttasks.JwscTask.execute(JwscTask.java:184)\r\n    at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    at java.lang.reflect.Method.invoke(Method.java:585)\r\n    at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:105)\r\n    at org.apache.tools.ant.Task.perform(Task.java:348)\r\n    at org.apache.tools.ant.Target.execute(Target.java:357)\r\n    at org.apache.tools.ant.Target.performTasks(Target.java:385)\r\n    at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1329)\r\n    at org.apache.tools.ant.Project.executeTarget(Project.java:1298)\r\n    at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\r\n    at org.apache.tools.ant.Project.executeTargets(Project.java:1181)\r\n    at org.apache.tools.ant.Main.runBuild(Main.java:698)\r\n    at org.apache.tools.ant.Main.startAnt(Main.java:199)\r\n    at org.apache.tools.ant.launch.Launcher.run(Launcher.java:257)\r\n    at org.apache.tools.ant.launch.Launcher.main(Launcher.java:104)\r\n    Caused by: Deployment descriptor: /var/tmp/_927vxb/web.xml does not exist.\r\n    at org.apache.tools.ant.taskdefs.War.setWebxml(War.java:95)\r\n    at weblogic.wsee.tools.anttasks.JwscTask.jar(JwscTask.java:397)\r\n    at weblogic.wsee.tools.anttasks.JwscTask.pkg(JwscTask.java:331)\r\n    at weblogic.wsee.tools.anttasks.JwscTask.execute(JwscTask.java:166)\r\n    ... 17 more\r\n    --- Nested Exception ---\r\n    Deployment descriptor: /var/tmp/_927vxb/web.xml does not exist.\r\n    at org.apache.tools.ant.taskdefs.War.setWebxml(War.java:95)\r\n    at weblogic.wsee.tools.anttasks.JwscTask.jar(JwscTask.java:397)\r\n    at weblogic.wsee.tools.anttasks.JwscTask.pkg(JwscTask.java:331)\r\n    at weblogic.wsee.tools.anttasks.JwscTask.execute(JwscTask.java:166)\r\n    at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    at java.lang.reflect.Method.invoke(Method.java:585)\r\n    at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:105)\r\n    at org.apache.tools.ant.Task.perform(Task.java:348)\r\n    at org.apache.tools.ant.Target.execute(Target.java:357)\r\n    at org.apache.tools.ant.Target.performTasks(Target.java:385)\r\n    at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1329)\r\n    at org.apache.tools.ant.Project.executeTarget(Project.java:1298)\r\n    at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\r\n    at org.apache.tools.ant.Project.executeTargets(Project.java:1181)\r\n    at org.apache.tools.ant.Main.runBuild(Main.java:698)\r\n    at org.apache.tools.ant.Main.startAnt(Main.java:199)\r\n    at org.apache.tools.ant.launch.Launcher.run(Launcher.java:257)\r\n    at org.apache.tools.ant.launch.Launcher.main(Launcher.java:104)\r\n    \r\n    Total time: 1 minute 3 seconds\r\n\r\nI am running weblogic91 in Solaris.\r\n","title":"Weblogic Ant JWSC task to generate a webservice war file","body":"<p>I am running a jwsc ant task to generate a war file. It is working fine for me if I add the weblogic.jar to classpath before running the ant script (CLASSPATH=/opt/bea/weblogic91/server/lib/weblogic.jar export CLASSPATH)</p>\n\n<p>But is is not working if I add this in my build.xml as follows:</p>\n\n<pre><code>&lt;target name=\"GenerateWarFiles\"&gt;   \n&lt;path id=\"lib.jwsc.id\"&gt;  \n&lt;pathelement path=\"/opt/bea/weblogic91/server/lib/weblogic.jar\"/&gt;  \n&lt;/path&gt;  \n&lt;taskdef name=\"jwsc\" classname=\"weblogic.wsee.tools.anttasks.JwscTask\" classpathref=\"lib.jwsc.id\"/&gt;  \n&lt;jwsc srcdir=\"${src.java.dir}\" destdir=\"${build.war.file.dir}\" verbose=\"on\" debug=\"on\" classpathref=\"lib.jwsc.id\"&gt;  \n&lt;jws file=\"sep/com/bt/prf/jws/TypeImpl.java\" compiledWsdl=\"${ivy.lib.dir}/WSDLC/Jwslib-8.0.jar\" /&gt;  \n&lt;/jwsc&gt;   \n&lt;/target&gt;\n</code></pre>\n\n<p>I am getting the following error.</p>\n\n<pre><code>[AntUtil.deleteDir] Deleting directory /var/tmp/_927vxb\n\nBUILD FAILED\n/wls_domains/CIT/cruisecontrol-bin-2.8.3/util/Ivy/build.xml:231: Deployment descriptor: /var/tmp/_927vxb/web.xml does not exist.\nat weblogic.wsee.tools.anttasks.JwscTask.execute(JwscTask.java:184)\nat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:585)\nat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:105)\nat org.apache.tools.ant.Task.perform(Task.java:348)\nat org.apache.tools.ant.Target.execute(Target.java:357)\nat org.apache.tools.ant.Target.performTasks(Target.java:385)\nat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1329)\nat org.apache.tools.ant.Project.executeTarget(Project.java:1298)\nat org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\nat org.apache.tools.ant.Project.executeTargets(Project.java:1181)\nat org.apache.tools.ant.Main.runBuild(Main.java:698)\nat org.apache.tools.ant.Main.startAnt(Main.java:199)\nat org.apache.tools.ant.launch.Launcher.run(Launcher.java:257)\nat org.apache.tools.ant.launch.Launcher.main(Launcher.java:104)\nCaused by: Deployment descriptor: /var/tmp/_927vxb/web.xml does not exist.\nat org.apache.tools.ant.taskdefs.War.setWebxml(War.java:95)\nat weblogic.wsee.tools.anttasks.JwscTask.jar(JwscTask.java:397)\nat weblogic.wsee.tools.anttasks.JwscTask.pkg(JwscTask.java:331)\nat weblogic.wsee.tools.anttasks.JwscTask.execute(JwscTask.java:166)\n... 17 more\n--- Nested Exception ---\nDeployment descriptor: /var/tmp/_927vxb/web.xml does not exist.\nat org.apache.tools.ant.taskdefs.War.setWebxml(War.java:95)\nat weblogic.wsee.tools.anttasks.JwscTask.jar(JwscTask.java:397)\nat weblogic.wsee.tools.anttasks.JwscTask.pkg(JwscTask.java:331)\nat weblogic.wsee.tools.anttasks.JwscTask.execute(JwscTask.java:166)\nat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:585)\nat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:105)\nat org.apache.tools.ant.Task.perform(Task.java:348)\nat org.apache.tools.ant.Target.execute(Target.java:357)\nat org.apache.tools.ant.Target.performTasks(Target.java:385)\nat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1329)\nat org.apache.tools.ant.Project.executeTarget(Project.java:1298)\nat org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\nat org.apache.tools.ant.Project.executeTargets(Project.java:1181)\nat org.apache.tools.ant.Main.runBuild(Main.java:698)\nat org.apache.tools.ant.Main.startAnt(Main.java:199)\nat org.apache.tools.ant.launch.Launcher.run(Launcher.java:257)\nat org.apache.tools.ant.launch.Launcher.main(Launcher.java:104)\n\nTotal time: 1 minute 3 seconds\n</code></pre>\n\n<p>I am running weblogic91 in Solaris.</p>\n"},{"tags":["java","arrays","performance"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1436486512,"post_id":31330330,"comment_id":50646337,"body_markdown":"I expect it varies by platform and JVM, you should try benchmarking it yourself.","body":"I expect it varies by platform and JVM, you should try benchmarking it yourself."},{"owner":{"account_id":5487398,"reputation":1775,"user_id":4361749,"accept_rate":82,"display_name":"Joel"},"score":0,"creation_date":1436486576,"post_id":31330330,"comment_id":50646354,"body_markdown":"Why should it depent on the jvm? How could I calculate the Complexity?","body":"Why should it depent on the jvm? How could I calculate the Complexity?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1436486615,"post_id":31330330,"comment_id":50646363,"body_markdown":"The complexity is easy. It&#39;s `O(n)`. The actual performance varies.","body":"The complexity is easy. It&#39;s <code>O(n)</code>. The actual performance varies."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1436487464,"post_id":31330330,"comment_id":50646542,"body_markdown":"both are basically doing the same thing, if you look at the source for `subList` and `toArray`","body":"both are basically doing the same thing, if you look at the source for <code>subList</code> and <code>toArray</code>"},{"owner":{"account_id":1245419,"reputation":14808,"user_id":1206998,"accept_rate":80,"display_name":"Juh_"},"score":1,"creation_date":1695915611,"post_id":31330330,"comment_id":136090432,"body_markdown":"Just to say it: if n isn&#39;t at least in the millions, the complexity is irrelevant to the time taken. And actually, if this code isn&#39;t used thousand of times at the least, its performance is irrelevant to whatever app you&#39;re developing. So, most probably you should think more about readability than performance","body":"Just to say it: if n isn&#39;t at least in the millions, the complexity is irrelevant to the time taken. And actually, if this code isn&#39;t used thousand of times at the least, its performance is irrelevant to whatever app you&#39;re developing. So, most probably you should think more about readability than performance"},{"owner":{"account_id":1245419,"reputation":14808,"user_id":1206998,"accept_rate":80,"display_name":"Juh_"},"score":0,"creation_date":1695917435,"post_id":31330330,"comment_id":136090832,"body_markdown":"Now, if you&#39;re actually in a case where performance is crititcal (I mean billions of items and calls), use option 1: the code is simpler so the JIT should work better. But always profile performance of your whole code before trying to improve it: time is usually mostly consumed on network communication, IO, or in places we don&#39;t think of.","body":"Now, if you&#39;re actually in a case where performance is crititcal (I mean billions of items and calls), use option 1: the code is simpler so the JIT should work better. But always profile performance of your whole code before trying to improve it: time is usually mostly consumed on network communication, IO, or in places we don&#39;t think of."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1436487524,"creation_date":1436487022,"answer_id":31330412,"question_id":31330330,"body_markdown":"### Option 1 Faster Than Option 2\r\nBecause Option 2 creates a new `List` reference, and then creates an `n` element array from the `List` (option 1 perfectly sizes the output array). However, first you need to fix the off by one bug. Use `&lt;` (not `&lt;=`). Like,\r\n\r\n    String[] out = new String[n];\r\n    for(int i = 0; i &lt; n; i++) {\r\n        out[i] = in.get(i);\r\n    }\r\n","title":"Fastest way to get the first n elements of a List into an Array","body":"<h3>Option 1 Faster Than Option 2</h3>\n\n<p>Because Option 2 creates a new <code>List</code> reference, and then creates an <code>n</code> element array from the <code>List</code> (option 1 perfectly sizes the output array). However, first you need to fix the off by one bug. Use <code>&lt;</code> (not <code>&lt;=</code>). Like,</p>\n\n<pre><code>String[] out = new String[n];\nfor(int i = 0; i &lt; n; i++) {\n    out[i] = in.get(i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1436489970,"creation_date":1436489970,"answer_id":31330800,"question_id":31330330,"body_markdown":"It mostly depends on how big `n` is. \r\n\r\nIf `n==0`, nothing beats option#1 :) \r\n\r\nIf n is very large, `toArray(new String[n])` is faster.","title":"Fastest way to get the first n elements of a List into an Array","body":"<p>It mostly depends on how big <code>n</code> is. </p>\n\n<p>If <code>n==0</code>, nothing beats option#1 :) </p>\n\n<p>If n is very large, <code>toArray(new String[n])</code> is faster.</p>\n"},{"tags":[],"owner":{"account_id":2846017,"reputation":1909,"user_id":2444394,"display_name":"src3369"},"down_vote_count":0,"up_vote_count":149,"is_accepted":false,"score":149,"last_activity_date":1516340447,"creation_date":1491883119,"answer_id":43336513,"question_id":31330330,"body_markdown":"Assumption:\r\n \r\nlist - List`&lt;String&gt;`\r\n\r\nUsing Java 8 Streams,\r\n\r\n* to get first N elements from a list into a list, \r\n\r\n    `List&lt;String&gt; firstNElementsList = list.stream().limit(n).collect(Collectors.toList());`\r\n\r\n\r\n* to get first N elements from a list into an Array,\r\n\r\n    `String[] firstNElementsArray = list.stream().limit(n).collect(Collectors.toList()).toArray(new String[n]);`","title":"Fastest way to get the first n elements of a List into an Array","body":"<p>Assumption:</p>\n\n<p>list - List<code>&lt;String&gt;</code></p>\n\n<p>Using Java 8 Streams,</p>\n\n<ul>\n<li><p>to get first N elements from a list into a list, </p>\n\n<p><code>List&lt;String&gt; firstNElementsList = list.stream().limit(n).collect(Collectors.toList());</code></p></li>\n<li><p>to get first N elements from a list into an Array,</p>\n\n<p><code>String[] firstNElementsArray = list.stream().limit(n).collect(Collectors.toList()).toArray(new String[n]);</code></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2636410,"reputation":67,"user_id":2280949,"display_name":"user2280949"},"down_vote_count":6,"up_vote_count":0,"is_accepted":false,"score":-6,"last_activity_date":1522270452,"creation_date":1522270452,"answer_id":49544003,"question_id":31330330,"body_markdown":"Use:\r\nArrays.copyOf(yourArray,n);","title":"Fastest way to get the first n elements of a List into an Array","body":"<p>Use:\nArrays.copyOf(yourArray,n);</p>\n"},{"tags":[],"owner":{"account_id":1611366,"reputation":1566,"user_id":1490169,"accept_rate":63,"display_name":"Jack Cole"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596524464,"creation_date":1596524464,"answer_id":63241698,"question_id":31330330,"body_markdown":"**Option 3**\r\n\r\nIterators are faster than using the `get` operation, since the `get` operation has to start from the beginning if it has to do some traversal. It probably wouldn&#39;t make a difference in an ArrayList, but other data structures could see a noticeable speed difference. This is also compatible with things that aren&#39;t lists, like sets.\r\n\r\n```\r\nString[] out = new String[n];\r\nIterator&lt;String&gt; iterator = in.iterator();\r\nfor (int i = 0; i &lt; n &amp;&amp; iterator.hasNext(); i++)\r\n    out[i] = iterator.next();\r\n```","title":"Fastest way to get the first n elements of a List into an Array","body":"<p><strong>Option 3</strong></p>\n<p>Iterators are faster than using the <code>get</code> operation, since the <code>get</code> operation has to start from the beginning if it has to do some traversal. It probably wouldn't make a difference in an ArrayList, but other data structures could see a noticeable speed difference. This is also compatible with things that aren't lists, like sets.</p>\n<pre><code>String[] out = new String[n];\nIterator&lt;String&gt; iterator = in.iterator();\nfor (int i = 0; i &lt; n &amp;&amp; iterator.hasNext(); i++)\n    out[i] = iterator.next();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21965176,"reputation":49,"user_id":16242536,"display_name":"FarVoyager"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1659087228,"creation_date":1659087228,"answer_id":73164552,"question_id":31330330,"body_markdown":"Use ```.take(n)``` operator on your list ","title":"Fastest way to get the first n elements of a List into an Array","body":"<p>Use <code>.take(n)</code> operator on your list</p>\n"},{"tags":[],"owner":{"account_id":29260598,"reputation":1,"user_id":22417668,"display_name":"Sai Nikhil A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692525364,"creation_date":1692517930,"answer_id":76938459,"question_id":31330330,"body_markdown":"    arrayList.stream().limit(n).toArray();\r\n    \r\n    n = maxSize in length\r\n\r\nThis will help you to get the max size of the Array that you require.\r\n","title":"Fastest way to get the first n elements of a List into an Array","body":"<pre><code>arrayList.stream().limit(n).toArray();\n\nn = maxSize in length\n</code></pre>\n<p>This will help you to get the max size of the Array that you require.</p>\n"}],"owner":{"account_id":5487398,"reputation":1775,"user_id":4361749,"accept_rate":82,"display_name":"Joel"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214617,"favorite_count":0,"down_vote_count":0,"up_vote_count":76,"accepted_answer_id":31330412,"answer_count":7,"score":76,"last_activity_date":1692525364,"creation_date":1436486339,"question_id":31330330,"body_markdown":"What is the fastest way to get the first n elements of a list stored in an array?\r\n\r\nConsidering this as the scenario:\r\n\r\n   \tint n = 10;\r\n   \tArrayList&lt;String&gt; in = new ArrayList&lt;&gt;();\r\n    for(int i = 0; i &lt; (n+10); i++)\r\n      in.add(&quot;foobar&quot;);\r\n**Option 1:**\r\n\r\n \tString[] out = new String[n];\r\n   \tfor(int i = 0; i&lt; n; i++)\r\n   \t\tout[i]=in.get(i);\r\n\r\n**Option 2:**\r\n \r\n    String[] out = (String[]) (in.subList(0, n)).toArray();\r\n\r\n\r\n**Option 3:**\r\nIs there a faster way? Maybe with Java8-streams?\r\n","title":"Fastest way to get the first n elements of a List into an Array","body":"<p>What is the fastest way to get the first n elements of a list stored in an array?</p>\n\n<p>Considering this as the scenario:</p>\n\n<pre><code>int n = 10;\nArrayList&lt;String&gt; in = new ArrayList&lt;&gt;();\nfor(int i = 0; i &lt; (n+10); i++)\n  in.add(\"foobar\");\n</code></pre>\n\n<p><strong>Option 1:</strong></p>\n\n<pre><code>String[] out = new String[n];\nfor(int i = 0; i&lt; n; i++)\n    out[i]=in.get(i);\n</code></pre>\n\n<p><strong>Option 2:</strong></p>\n\n<pre><code>String[] out = (String[]) (in.subList(0, n)).toArray();\n</code></pre>\n\n<p><strong>Option 3:</strong>\nIs there a faster way? Maybe with Java8-streams?</p>\n"},{"tags":["java","arrays","indexing"],"comments":[{"owner":{"account_id":3539723,"reputation":3951,"user_id":2957169,"display_name":"charles-allen"},"score":0,"creation_date":1570274098,"post_id":58247760,"comment_id":102866438,"body_markdown":"If there are 10 people, you don&#39;t have a 12th or 13th person. Also, you haven&#39;t actually explained what the program should do; should it print something?","body":"If there are 10 people, you don&#39;t have a 12th or 13th person. Also, you haven&#39;t actually explained what the program should do; should it print something?"},{"owner":{"account_id":9245446,"reputation":98,"user_id":6867455,"display_name":"cstr_"},"score":0,"creation_date":1570274140,"post_id":58247760,"comment_id":102866450,"body_markdown":"So just to confirm - if number is divisible by 11, you &#39;jump&#39; one person - i.e. go from person 1, to person 2. If the number is divisible by 7, you go back one person, i.e. go from person 5 to person 4, who continues counting. Are those the only rules for changing the currently counting person?","body":"So just to confirm - if number is divisible by 11, you &#39;jump&#39; one person - i.e. go from person 1, to person 2. If the number is divisible by 7, you go back one person, i.e. go from person 5 to person 4, who continues counting. Are those the only rules for changing the currently counting person?"},{"owner":{"account_id":16173926,"reputation":1,"user_id":11677071,"display_name":"Iulian Oprea"},"score":1,"creation_date":1570274250,"post_id":58247760,"comment_id":102866479,"body_markdown":"10 friends are sitting in a circle around a table and decide to play a new game. In it, they count up through the numbers from 1 to 100. The first person says &quot;1&quot;, the second says &quot;2&quot; and so on... but with a few catches:\n\nWhenever the number is divisible by 7, they switch directions. So person 6 will say &quot;6&quot;, person 7 will say &quot;7&quot;, then person 6 again will say &quot;8&quot;.\nWhenever the number is divisible by 11, they skip the next person.","body":"10 friends are sitting in a circle around a table and decide to play a new game. In it, they count up through the numbers from 1 to 100. The first person says &quot;1&quot;, the second says &quot;2&quot; and so on... but with a few catches:  Whenever the number is divisible by 7, they switch directions. So person 6 will say &quot;6&quot;, person 7 will say &quot;7&quot;, then person 6 again will say &quot;8&quot;. Whenever the number is divisible by 11, they skip the next person."},{"owner":{"account_id":3539723,"reputation":3951,"user_id":2957169,"display_name":"charles-allen"},"score":0,"creation_date":1570274267,"post_id":58247760,"comment_id":102866484,"body_markdown":"The way I read &quot;switch direction&quot;, it should continue counting down until you get to another multiple of 7.","body":"The way I read &quot;switch direction&quot;, it should continue counting down until you get to another multiple of 7."},{"owner":{"account_id":3539723,"reputation":3951,"user_id":2957169,"display_name":"charles-allen"},"score":0,"creation_date":1570274425,"post_id":58247760,"comment_id":102866519,"body_markdown":"To make sure we&#39;re on the same page, I suggest you add an example to your question: &quot;P1: 1, P2: 2, P3: 3, P4: 4, P5: 5, P6: 6, P7: 7, P6: 8, P5: 9, P4: 10, P3: 11, P1: 12, P10: 13, P9: 14, P10: 15, P1: 16 ...&quot;","body":"To make sure we&#39;re on the same page, I suggest you add an example to your question: &quot;P1: 1, P2: 2, P3: 3, P4: 4, P5: 5, P6: 6, P7: 7, P6: 8, P5: 9, P4: 10, P3: 11, P1: 12, P10: 13, P9: 14, P10: 15, P1: 16 ...&quot;"},{"owner":{"account_id":16173926,"reputation":1,"user_id":11677071,"display_name":"Iulian Oprea"},"score":0,"creation_date":1570275059,"post_id":58247760,"comment_id":102866646,"body_markdown":"It  is counting from 1 to 100. I understand the whole problem, I just do not know how to add or substract from the array index inside the if statements and I can&#39;t seem to find anything on internet about it.","body":"It  is counting from 1 to 100. I understand the whole problem, I just do not know how to add or substract from the array index inside the if statements and I can&#39;t seem to find anything on internet about it."}],"answers":[{"tags":[],"owner":{"account_id":1928552,"reputation":63,"user_id":1738466,"display_name":"CarlosSM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570279318,"creation_date":1570276357,"answer_id":58248033,"question_id":58247760,"body_markdown":"You need two counters for this problem, one for the 100 numbers and the other one for the people. Also, you need to know which one is the direction for the people&#39;s counter. \r\nThe solution could be something like this:\r\n\r\n \r\n    package com.company;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            String persoane[] = {&quot;Marcus&quot;, &quot;Fane&quot;, &quot;Ion&quot;, &quot;Ghita&quot;, &quot;Fanescu&quot;, &quot;Vrabie&quot;, &quot;Ecaterina&quot;, &quot;Marius&quot;,\r\n            &quot;Florina&quot;, &quot;Lupu&quot;};\r\n\r\n            int personCounter = 0;\r\n            boolean directionInverse = false;\r\n\r\n            for (int i = 0; i &lt; 100; i++){\r\n                if (i % 7 == 0) {\r\n                    personCounter--;\r\n                    directionInverse = true;\r\n                }\r\n\r\n                if (i % 11 == 0){\r\n                    personCounter++;\r\n                    directionInverse = false;\r\n                }\r\n\r\n                if (directionInverse) {\r\n                    personCounter--;\r\n                    if (personCounter == -1) {\r\n                        personCounter = 9;\r\n                    }\r\n                } else {\r\n                    personCounter++;\r\n                }\r\n                System.out.println(persoane[personCounter % 10] + &quot; says &quot; + (i + 1));\r\n            }\r\n        }\r\n    }\r\n","title":"How to go back and forth in an array in Java","body":"<p>You need two counters for this problem, one for the 100 numbers and the other one for the people. Also, you need to know which one is the direction for the people's counter. \nThe solution could be something like this:</p>\n\n<pre><code>package com.company;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        String persoane[] = {\"Marcus\", \"Fane\", \"Ion\", \"Ghita\", \"Fanescu\", \"Vrabie\", \"Ecaterina\", \"Marius\",\n        \"Florina\", \"Lupu\"};\n\n        int personCounter = 0;\n        boolean directionInverse = false;\n\n        for (int i = 0; i &lt; 100; i++){\n            if (i % 7 == 0) {\n                personCounter--;\n                directionInverse = true;\n            }\n\n            if (i % 11 == 0){\n                personCounter++;\n                directionInverse = false;\n            }\n\n            if (directionInverse) {\n                personCounter--;\n                if (personCounter == -1) {\n                    personCounter = 9;\n                }\n            } else {\n                personCounter++;\n            }\n            System.out.println(persoane[personCounter % 10] + \" says \" + (i + 1));\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1235278,"reputation":2660,"user_id":1198979,"accept_rate":82,"display_name":"SSP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570277371,"creation_date":1570277371,"answer_id":58248153,"question_id":58247760,"body_markdown":"1- I have created a direction flag for traversing the array.\r\n\r\n2 - an index to traverse the array.\r\n\r\n3 - An answer variable to find out that on which position, you are in when count reach to 100.\r\n\r\n4 - debug the code properly and try carefully to understand each statement.\r\n\r\n5 - comment if you have any issue with code.\r\n\r\n    public static void main(String[] args) {\r\n        String persoane[] = { &quot;Marcus  &quot;, &quot;Fane&quot;, &quot;Ion &quot;, &quot;Ghita &quot;, &quot;Fanescu &quot;, &quot;Vrabie &quot;, &quot;Ecaterina &quot;, &quot;Marius &quot;,\r\n        \t\t&quot;Florina &quot;, &quot;Lupu &quot; };\r\n        \r\n        int numaratoare = 0;\r\n        boolean direction = true;\r\n        int answer = 0;\r\n        int index = 1;\r\n    \r\n        for (int i = 1; i &lt; 100; i++) {\r\n        \r\n        \tif (index == 0 &amp;&amp; direction == false) {\r\n        \t\tindex = persoane.length - 1;\r\n        \t}\r\n        \tif (index == persoane.length - 1 &amp;&amp; direction) {\r\n        \t\tindex = 0;\r\n        \t}\r\n        \tnumaratoare = i;\r\n        \r\n        \tif (numaratoare % 7 == 0) {\r\n        \r\n        \t\tif (direction) {\r\n        \t\t\tdirection = false;\r\n        \t\t} else {\r\n        \t\t\tdirection = true;\r\n        \t\t}\r\n        \t}\r\n        \r\n        \tif (numaratoare % 11 == 0) {\r\n        \r\n        \t\tif (direction) {\r\n        \t\t\tif( index == 9) {\r\n        \t\t\t\tindex = 0;\r\n        \t\t\t}else{\r\n        \t\t\t\tindex++;\t\r\n        \t\t\t}\r\n        \t\t\t\r\n        \t\t} else {\r\n        \t\t\tif( index == 0) {\r\n        \t\t\t\tindex = 9;\r\n        \t\t\t}else{\r\n        \t\t\t\tindex--;\t\r\n        \t\t\t}\r\n        \t\t}\r\n        \t}\r\n        \tif (i == 99) {\r\n        \t\tanswer = index;\r\n        \t}\r\n        \tif (direction) {\r\n        \t\tindex++;\r\n        \t} else {\r\n        \t\tindex--;\r\n        \t}\r\n        }\r\n        System.out.println(answer);\r\n    }","title":"How to go back and forth in an array in Java","body":"<p>1- I have created a direction flag for traversing the array.</p>\n\n<p>2 - an index to traverse the array.</p>\n\n<p>3 - An answer variable to find out that on which position, you are in when count reach to 100.</p>\n\n<p>4 - debug the code properly and try carefully to understand each statement.</p>\n\n<p>5 - comment if you have any issue with code.</p>\n\n<pre><code>public static void main(String[] args) {\n    String persoane[] = { \"Marcus  \", \"Fane\", \"Ion \", \"Ghita \", \"Fanescu \", \"Vrabie \", \"Ecaterina \", \"Marius \",\n            \"Florina \", \"Lupu \" };\n\n    int numaratoare = 0;\n    boolean direction = true;\n    int answer = 0;\n    int index = 1;\n\n    for (int i = 1; i &lt; 100; i++) {\n\n        if (index == 0 &amp;&amp; direction == false) {\n            index = persoane.length - 1;\n        }\n        if (index == persoane.length - 1 &amp;&amp; direction) {\n            index = 0;\n        }\n        numaratoare = i;\n\n        if (numaratoare % 7 == 0) {\n\n            if (direction) {\n                direction = false;\n            } else {\n                direction = true;\n            }\n        }\n\n        if (numaratoare % 11 == 0) {\n\n            if (direction) {\n                if( index == 9) {\n                    index = 0;\n                }else{\n                    index++;    \n                }\n\n            } else {\n                if( index == 0) {\n                    index = 9;\n                }else{\n                    index--;    \n                }\n            }\n        }\n        if (i == 99) {\n            answer = index;\n        }\n        if (direction) {\n            index++;\n        } else {\n            index--;\n        }\n    }\n    System.out.println(answer);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24224809,"reputation":363,"user_id":18179479,"display_name":"Mircea Sirghi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692524455,"creation_date":1692524455,"answer_id":76938810,"question_id":58247760,"body_markdown":"Even if question is old, it is just an interesting problem: \r\n```\r\n public static void count(){\r\n        String persoane[] = {&quot;Marcus&quot;, &quot;Fane&quot;, &quot;Ion&quot;, &quot;Ghita&quot;, &quot;Fanescu&quot;, &quot;Vrabie&quot;, &quot;Ecaterina&quot;, &quot;Marius&quot;, &quot;Florina&quot;, &quot;Lupu&quot;};\r\n\r\n        int index = 0;\r\n        boolean direction = true;\r\n\r\n        for (int i=1; i&lt;100; i++){\r\n            if (i%7==0) {\r\n                direction = !direction;\r\n            }\r\n\r\n            if (i%11==0){\r\n                if(direction){\r\n                    index = (index+2)%9;\r\n                } else {\r\n                    index = (9 + (index-2))%9;\r\n                }\r\n                continue;\r\n            }\r\n\r\n            if(direction){\r\n                index = (index+1)%9;\r\n            } else {\r\n                index = (9 + (index-1))%9;\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;Last person &quot; + persoane[index]);\r\n    }\r\n```","title":"How to go back and forth in an array in Java","body":"<p>Even if question is old, it is just an interesting problem:</p>\n<pre><code> public static void count(){\n        String persoane[] = {&quot;Marcus&quot;, &quot;Fane&quot;, &quot;Ion&quot;, &quot;Ghita&quot;, &quot;Fanescu&quot;, &quot;Vrabie&quot;, &quot;Ecaterina&quot;, &quot;Marius&quot;, &quot;Florina&quot;, &quot;Lupu&quot;};\n\n        int index = 0;\n        boolean direction = true;\n\n        for (int i=1; i&lt;100; i++){\n            if (i%7==0) {\n                direction = !direction;\n            }\n\n            if (i%11==0){\n                if(direction){\n                    index = (index+2)%9;\n                } else {\n                    index = (9 + (index-2))%9;\n                }\n                continue;\n            }\n\n            if(direction){\n                index = (index+1)%9;\n            } else {\n                index = (9 + (index-1))%9;\n            }\n        }\n\n        System.out.println(&quot;Last person &quot; + persoane[index]);\n    }\n</code></pre>\n"}],"owner":{"account_id":16173926,"reputation":1,"user_id":11677071,"display_name":"Iulian Oprea"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1692524455,"creation_date":1570273865,"question_id":58247760,"body_markdown":"So I have a problem to solve for one of my classes. 10 people cout to 100 and the conditions are if the number is divisible by 7 they switch directions, means the 6th person will say 6, 7th will say 7 and 6th will say 8. If the number is divisible by 11 they jump one person. So if the 12th is next they go to the 13th person. I was able to write and understand the problem but I cannot find a way to iterate through the array index so I can satisfy what the problem inquires. Below is my code:\r\n\r\n    package com.company;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            String persoane[] = {&quot;Marcus  &quot;, &quot;Fane&quot;, &quot;Ion &quot;, &quot;Ghita &quot;, &quot;Fanescu &quot;, &quot;Vrabie &quot;, &quot;Ecaterina &quot;, &quot;Marius &quot;, &quot;Florina &quot;, &quot;Lupu &quot;};\r\n\r\n            int numaratoare = 0;\r\n\r\n            for (int i=0; i&lt;100; i++){\r\n                numaratoare = i;\r\n                if (numaratoare%7==0) {\r\n\r\n                }\r\n\r\n                if (numaratoare%11==0){\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to go back and forth in an array in Java","body":"<p>So I have a problem to solve for one of my classes. 10 people cout to 100 and the conditions are if the number is divisible by 7 they switch directions, means the 6th person will say 6, 7th will say 7 and 6th will say 8. If the number is divisible by 11 they jump one person. So if the 12th is next they go to the 13th person. I was able to write and understand the problem but I cannot find a way to iterate through the array index so I can satisfy what the problem inquires. Below is my code:</p>\n\n<pre><code>package com.company;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        String persoane[] = {\"Marcus  \", \"Fane\", \"Ion \", \"Ghita \", \"Fanescu \", \"Vrabie \", \"Ecaterina \", \"Marius \", \"Florina \", \"Lupu \"};\n\n        int numaratoare = 0;\n\n        for (int i=0; i&lt;100; i++){\n            numaratoare = i;\n            if (numaratoare%7==0) {\n\n            }\n\n            if (numaratoare%11==0){\n\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","apache-camel"],"owner":{"account_id":29242854,"reputation":21,"user_id":22403992,"display_name":"Rach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692524052,"creation_date":1692523178,"question_id":76938735,"body_markdown":"I am trying to write a code which gets a json from API and writing it to an exists file using camel, java spring boot.\r\nThis is my code:\r\n\r\n```\r\npackage camel;\r\n\r\nimport org.apache.camel.builder.RouteBuilder;\r\nimport org.springframework.stereotype.Component;\r\n\r\n\r\n@Component\r\npublic class WriteToFile extends RouteBuilder{\r\n\r\n\t@Override\r\n\tpublic void configure() throws Exception {\r\n        from(&quot;direct:writeToFile&quot;)\r\n        .convertBodyTo(String.class) \r\n        .to(&quot;file:/workers.json&quot;)\r\n        .to(&quot;log:Data written to file: ${body}&quot;);\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nController:\r\n```\r\n  @PostMapping(&quot;/writeToFile&quot;)\r\n\t    public String writeToFile(@RequestBody WorkerRequest worker) {\r\n//\t    \tproducerTemplate.start();\r\n//\t    \tproducerTemplate.sendBody(&quot;direct:myRoute&quot;, worker);\r\n\t    \tproducerTemplate.requestBody(&quot;direct:writeToFile&quot;, worker);\r\n//\t    \tcamelConfig.writeToFile();\r\n\t    \treturn &quot;Employee added to the file successfully.&quot;;\r\n\t    }\r\n\t\r\n```\r\n\r\n\r\n\r\nI see that it is not writing anything to the file, but I do see the json in the log.\r\nwhat is the promlem?","title":"write json to file using camel","body":"<p>I am trying to write a code which gets a json from API and writing it to an exists file using camel, java spring boot.\nThis is my code:</p>\n<pre><code>package camel;\n\nimport org.apache.camel.builder.RouteBuilder;\nimport org.springframework.stereotype.Component;\n\n\n@Component\npublic class WriteToFile extends RouteBuilder{\n\n    @Override\n    public void configure() throws Exception {\n        from(&quot;direct:writeToFile&quot;)\n        .convertBodyTo(String.class) \n        .to(&quot;file:/workers.json&quot;)\n        .to(&quot;log:Data written to file: ${body}&quot;);\n        \n    }\n\n}\n\n\n</code></pre>\n<p>Controller:</p>\n<pre><code>  @PostMapping(&quot;/writeToFile&quot;)\n        public String writeToFile(@RequestBody WorkerRequest worker) {\n//          producerTemplate.start();\n//          producerTemplate.sendBody(&quot;direct:myRoute&quot;, worker);\n            producerTemplate.requestBody(&quot;direct:writeToFile&quot;, worker);\n//          camelConfig.writeToFile();\n            return &quot;Employee added to the file successfully.&quot;;\n        }\n    \n</code></pre>\n<p>I see that it is not writing anything to the file, but I do see the json in the log.\nwhat is the promlem?</p>\n"},{"tags":["java","routes","tabs","vaadin"],"comments":[{"owner":{"account_id":1831742,"reputation":1989,"user_id":1662997,"display_name":"Knoobie"},"score":0,"creation_date":1692539361,"post_id":76938780,"comment_id":135634359,"body_markdown":"Did you take a look at the official cookbook? https://cookbook.vaadin.com/tabs-with-routes/a","body":"Did you take a look at the official cookbook? <a href=\"https://cookbook.vaadin.com/tabs-with-routes/a\" rel=\"nofollow noreferrer\">cookbook.vaadin.com/tabs-with-routes/a</a>"},{"owner":{"account_id":23419629,"reputation":81,"user_id":17480047,"display_name":"AleXeNoN"},"score":0,"creation_date":1692558225,"post_id":76938780,"comment_id":135636526,"body_markdown":"Thanks, your solution is almost perfect, excepting that I don&#39;t know how can I don&#39;t add route link for first tab as I want it to be still `/settings`, and not `/settings/profile`","body":"Thanks, your solution is almost perfect, excepting that I don&#39;t know how can I don&#39;t add route link for first tab as I want it to be still <code>&#47;settings</code>, and not <code>&#47;settings&#47;profile</code>"}],"owner":{"account_id":23419629,"reputation":81,"user_id":17480047,"display_name":"AleXeNoN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692523945,"creation_date":1692523945,"question_id":76938780,"body_markdown":"I am wondering if it&#39;s possible to change dynamically view&#39;s route using the `Tabs` component and `getSelectedTab()` method.\r\n\r\n#### Here is a simple example\r\nI have a View with `@Route(&quot;settings&quot;)` which is responsible for changing settings. Inside this view I have some `Tabs`, so I want for selected tab to be changed also the View&#39;s route.\r\n\r\n - For first tab, the route should remain `/settings`\r\n - Starting with second tab, route should change like this `/settings/{tabName}`\r\n\r\n\r\n```\r\n@PermitAll\r\n@PageTitle(&quot;Settings&quot;)\r\n@Route(value = &quot;settings&quot;, layout = MainLayout.class)\r\npublic class SettingsView extends Main {\r\n\r\n    private final Tab profile;\r\n    private final Tab password;\r\n    private final Tab notifications;\r\n    private final VerticalLayout content;\r\n\r\n    public SettingsView() {\r\n        addClassName(&quot;page-content&quot;);\r\n        profile = new Tab(&quot;Profile&quot;);\r\n        notifications = new Tab(&quot;Profile&quot;);\r\n        password = new Tab(&quot;Password&quot;);\r\n\r\n        Tabs tabs = new Tabs(profile, password, notifications);\r\n        tabs.addSelectedChangeListener(\r\n                event -&gt; setContent(event.getSelectedTab()));\r\n\r\n        tabs.setOrientation(Tabs.Orientation.VERTICAL);\r\n        content = new VerticalLayout();\r\n        setContent(tabs.getSelectedTab());\r\n\r\n        HorizontalLayout hLayout = new HorizontalLayout();\r\n        hLayout.add(tabs, content);\r\n        hLayout.setSpacing(true);\r\n\r\n        add(hLayout);\r\n    }\r\n\r\n    private void setContent(Tab tab) {\r\n        content.removeAll();\r\n\r\n        if (tab.equals(profile)) {\r\n            content.add(new ProfileTab());\r\n        } else if (tab.equals(password)) {\r\n            content.add(new PasswordTab());\r\n        } else {\r\n            content.add(new NotificationsTab());\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n##### Example of displayed tab\r\n\r\n```\r\npublic class ProfileTab extends Div {\r\n\r\n    // html elements defined\r\n\r\n    public ProfileTab() {\r\n        // adding elements defined\r\n    }\r\n\r\n}\r\n```\r\n\r\n#### So using the class above, the conditions should be like this:\r\nWhen users selects one of these tabs, the route changes also\r\n - ProfileTab -&gt; route = `/settings` - (not changing because it&#39;s first)\r\n - PasswordTab -&gt; route = `/settings/password`\r\n - NotificationsTab -&gt; route = `/settings/notifications`","title":"Vaadin change view&#39;s route dynamically using selected tab","body":"<p>I am wondering if it's possible to change dynamically view's route using the <code>Tabs</code> component and <code>getSelectedTab()</code> method.</p>\n<h4>Here is a simple example</h4>\n<p>I have a View with <code>@Route(&quot;settings&quot;)</code> which is responsible for changing settings. Inside this view I have some <code>Tabs</code>, so I want for selected tab to be changed also the View's route.</p>\n<ul>\n<li>For first tab, the route should remain <code>/settings</code></li>\n<li>Starting with second tab, route should change like this <code>/settings/{tabName}</code></li>\n</ul>\n<pre><code>@PermitAll\n@PageTitle(&quot;Settings&quot;)\n@Route(value = &quot;settings&quot;, layout = MainLayout.class)\npublic class SettingsView extends Main {\n\n    private final Tab profile;\n    private final Tab password;\n    private final Tab notifications;\n    private final VerticalLayout content;\n\n    public SettingsView() {\n        addClassName(&quot;page-content&quot;);\n        profile = new Tab(&quot;Profile&quot;);\n        notifications = new Tab(&quot;Profile&quot;);\n        password = new Tab(&quot;Password&quot;);\n\n        Tabs tabs = new Tabs(profile, password, notifications);\n        tabs.addSelectedChangeListener(\n                event -&gt; setContent(event.getSelectedTab()));\n\n        tabs.setOrientation(Tabs.Orientation.VERTICAL);\n        content = new VerticalLayout();\n        setContent(tabs.getSelectedTab());\n\n        HorizontalLayout hLayout = new HorizontalLayout();\n        hLayout.add(tabs, content);\n        hLayout.setSpacing(true);\n\n        add(hLayout);\n    }\n\n    private void setContent(Tab tab) {\n        content.removeAll();\n\n        if (tab.equals(profile)) {\n            content.add(new ProfileTab());\n        } else if (tab.equals(password)) {\n            content.add(new PasswordTab());\n        } else {\n            content.add(new NotificationsTab());\n        }\n    }\n\n}\n</code></pre>\n<h5>Example of displayed tab</h5>\n<pre><code>public class ProfileTab extends Div {\n\n    // html elements defined\n\n    public ProfileTab() {\n        // adding elements defined\n    }\n\n}\n</code></pre>\n<h4>So using the class above, the conditions should be like this:</h4>\n<p>When users selects one of these tabs, the route changes also</p>\n<ul>\n<li>ProfileTab -&gt; route = <code>/settings</code> - (not changing because it's first)</li>\n<li>PasswordTab -&gt; route = <code>/settings/password</code></li>\n<li>NotificationsTab -&gt; route = <code>/settings/notifications</code></li>\n</ul>\n"},{"tags":["java","spring-boot","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":7484981,"reputation":166,"user_id":5688552,"display_name":"Loginus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692347693,"creation_date":1692270875,"answer_id":76920973,"question_id":76920157,"body_markdown":"The problem may be, that you mix Camel and Spring annotations.\r\nTry to use ```@Configuration``` from spring ```import org.springframework.context.annotation.Configuration``` instead of ```import org.apache.camel.Configuration```.\r\n\r\nAnd in general I&#39;d recommend to separate Spring config from Camel route config. If you are using springboot and ```camel-spring-boot-starter``` then you can skip \r\n``` java\r\n@Bean\r\n        public ProducerTemplate producerTemplate() {\r\n            return camelContext.createProducerTemplate();\r\n        }\r\n```\r\nas Spring will do it for you.\r\nJust make your class like:\r\n``` java\r\n@Component  // from org.springframework.stereotype.Component;\r\npublic class CamelConfig extends RouteBuilder {\r\n\r\n           @Override\r\n        public void configure() throws Exception {\r\n            from(&quot;direct:myRoute&quot;)\r\n                .setBody().constant(&quot;Hello, world!&quot;)\r\n                .to(&quot;log:output&quot;);\r\n            }\r\n      \r\n}\r\n```\r\nalso take a careful look on package versions you are using\r\n``` xml\r\n&lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.14&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;camel&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;camel&lt;/name&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;camel.version&gt;3.21.0&lt;/camel.version&gt;\r\n        &lt;spring.boot.version&gt;2.7.14&lt;/spring.boot.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;!-- Spring Boot BOM --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- Camel BOM --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-spring-boot-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${camel.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camel-servlet-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\nFor camel 3 (3.20) - use springboot 2 (2.7.14).\r\nIf you want to change to camel 4.0.0, you can switch to springboot 3 and Java 17","title":"error: No consumers available on endpoint: direct://myRoute. Exchange[]","body":"<p>The problem may be, that you mix Camel and Spring annotations.\nTry to use <code>@Configuration</code> from spring <code>import org.springframework.context.annotation.Configuration</code> instead of <code>import org.apache.camel.Configuration</code>.</p>\n<p>And in general I'd recommend to separate Spring config from Camel route config. If you are using springboot and <code>camel-spring-boot-starter</code> then you can skip</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n        public ProducerTemplate producerTemplate() {\n            return camelContext.createProducerTemplate();\n        }\n</code></pre>\n<p>as Spring will do it for you.\nJust make your class like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component  // from org.springframework.stereotype.Component;\npublic class CamelConfig extends RouteBuilder {\n\n           @Override\n        public void configure() throws Exception {\n            from(&quot;direct:myRoute&quot;)\n                .setBody().constant(&quot;Hello, world!&quot;)\n                .to(&quot;log:output&quot;);\n            }\n      \n}\n</code></pre>\n<p>also take a careful look on package versions you are using</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.14&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;camel&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;camel&lt;/name&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;camel.version&gt;3.21.0&lt;/camel.version&gt;\n        &lt;spring.boot.version&gt;2.7.14&lt;/spring.boot.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;!-- Spring Boot BOM --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;!-- Camel BOM --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n                &lt;artifactId&gt;camel-spring-boot-bom&lt;/artifactId&gt;\n                &lt;version&gt;${camel.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-servlet-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>For camel 3 (3.20) - use springboot 2 (2.7.14).\nIf you want to change to camel 4.0.0, you can switch to springboot 3 and Java 17</p>\n"},{"tags":[],"owner":{"account_id":29242854,"reputation":21,"user_id":22403992,"display_name":"Rach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692271905,"creation_date":1692271868,"answer_id":76921091,"question_id":76920157,"body_markdown":"I have changed it to be:\r\n\r\n    package camel;\r\n    \r\n    import org.apache.camel.builder.RouteBuilder;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    \r\n        @Component \r\n        public class CamelConfig extends RouteBuilder {\r\n        \r\n                   @Override\r\n                public void configure() throws Exception {\r\n                    from(&quot;direct:myRoute&quot;)\r\n                        .setBody().constant(&quot;Hello, world!&quot;)\r\n                        .to(&quot;log:output&quot;);\r\n                    }\r\n     but still the same error :(","title":"error: No consumers available on endpoint: direct://myRoute. Exchange[]","body":"<p>I have changed it to be:</p>\n<pre><code>package camel;\n\nimport org.apache.camel.builder.RouteBuilder;\nimport org.springframework.stereotype.Component;\n\n\n    @Component \n    public class CamelConfig extends RouteBuilder {\n    \n               @Override\n            public void configure() throws Exception {\n                from(&quot;direct:myRoute&quot;)\n                    .setBody().constant(&quot;Hello, world!&quot;)\n                    .to(&quot;log:output&quot;);\n                }\n but still the same error :(\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29242854,"reputation":21,"user_id":22403992,"display_name":"Rach"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692523575,"creation_date":1692523519,"answer_id":76938750,"question_id":76920157,"body_markdown":"I added this:\r\n    \r\n`@Configuration\r\n@ComponentScan(&quot;camel&quot;)`\r\n\r\nto the controller and now it works!\r\ntnx!","title":"error: No consumers available on endpoint: direct://myRoute. Exchange[]","body":"<p>I added this:</p>\n<p><code>@Configuration @ComponentScan(&quot;camel&quot;)</code></p>\n<p>to the controller and now it works!\ntnx!</p>\n"}],"owner":{"account_id":29242854,"reputation":21,"user_id":22403992,"display_name":"Rach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1692523575,"creation_date":1692264354,"question_id":76920157,"body_markdown":"I start learning about camel and I am trying to do a simple code with java spring boot.\r\nthis is my code:\r\n\r\n\r\n```\r\npackage camel;\r\n\r\nimport org.apache.camel.CamelContext;\r\nimport org.apache.camel.Configuration;\r\nimport org.apache.camel.Consume;\r\nimport org.apache.camel.ProducerTemplate;\r\nimport org.apache.camel.builder.RouteBuilder;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\n@Configuration\r\npublic class CamelConfig extends RouteBuilder {\r\n\r\n\t @Autowired\r\n\t    private CamelContext camelContext;\r\n\r\n\t    @Override\r\n\t\tpublic void configure() throws Exception {\r\n\t\t\tfrom(&quot;direct:myRoute&quot;)\r\n//\t\t\t\tfrom(&quot;timer:myTimer?period=5000&quot;)\r\n\t\t\t\t.setBody().constant(&quot;Hello, world!&quot;)\r\n\t\t\t\t.to(&quot;log:output&quot;);\r\n\t\t\t\r\n\t\t}\r\n\t    \t\t\r\n\r\n\r\n\t    @Bean\r\n\t    public ProducerTemplate producerTemplate() {\r\n\t        return camelContext.createProducerTemplate();\r\n\t    }\r\n\r\n\r\n\t\r\n}\r\n\r\n```\r\ncontroller:\r\n\r\n```\r\n\t @Autowired\r\n\t    private ProducerTemplate producerTemplate;\r\n\r\n\t    @GetMapping(&quot;/hello&quot;)\r\n\t    public String sayHello() {\r\n\t    \tproducerTemplate.start();\r\n\t    \tproducerTemplate.sendBody(&quot;direct:myRoute&quot;, &quot;Hello from REST API!&quot;);\r\n\t        return &quot;Message sent to Camel route&quot;;\r\n\t    }\r\n\t\r\n```\r\n\r\npom.xml\r\n```\r\n&lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;camel-servlet-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;3.21.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;camel-jackson-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;3.21.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;camel-swagger-java-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;3.21.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;3.21.0&lt;/version&gt;\r\n    &lt;/dependency&gt;    \r\n```\r\n\r\n\r\n\r\nwhen I am trying to send a get request, I am getting failure with status 500 with this error: No consumers available on endpoint: direct://myRoute. Exchange[]\r\ndoes someone knows why?","title":"error: No consumers available on endpoint: direct://myRoute. Exchange[]","body":"<p>I start learning about camel and I am trying to do a simple code with java spring boot.\nthis is my code:</p>\n<pre><code>package camel;\n\nimport org.apache.camel.CamelContext;\nimport org.apache.camel.Configuration;\nimport org.apache.camel.Consume;\nimport org.apache.camel.ProducerTemplate;\nimport org.apache.camel.builder.RouteBuilder;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\n\n@Configuration\npublic class CamelConfig extends RouteBuilder {\n\n     @Autowired\n        private CamelContext camelContext;\n\n        @Override\n        public void configure() throws Exception {\n            from(&quot;direct:myRoute&quot;)\n//              from(&quot;timer:myTimer?period=5000&quot;)\n                .setBody().constant(&quot;Hello, world!&quot;)\n                .to(&quot;log:output&quot;);\n            \n        }\n                \n\n\n        @Bean\n        public ProducerTemplate producerTemplate() {\n            return camelContext.createProducerTemplate();\n        }\n\n\n    \n}\n\n</code></pre>\n<p>controller:</p>\n<pre><code>     @Autowired\n        private ProducerTemplate producerTemplate;\n\n        @GetMapping(&quot;/hello&quot;)\n        public String sayHello() {\n            producerTemplate.start();\n            producerTemplate.sendBody(&quot;direct:myRoute&quot;, &quot;Hello from REST API!&quot;);\n            return &quot;Message sent to Camel route&quot;;\n        }\n    \n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-servlet-starter&lt;/artifactId&gt;\n        &lt;version&gt;3.21.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-jackson-starter&lt;/artifactId&gt;\n        &lt;version&gt;3.21.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-swagger-java-starter&lt;/artifactId&gt;\n        &lt;version&gt;3.21.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;3.21.0&lt;/version&gt;\n    &lt;/dependency&gt;    \n</code></pre>\n<p>when I am trying to send a get request, I am getting failure with status 500 with this error: No consumers available on endpoint: direct://myRoute. Exchange[]\ndoes someone knows why?</p>\n"},{"tags":["java","oracle","jdbc"],"comments":[{"owner":{"account_id":1987707,"reputation":467,"user_id":1782496,"accept_rate":71,"display_name":"Ravi Shenoy"},"score":0,"creation_date":1544855965,"post_id":53790147,"comment_id":94431511,"body_markdown":"Have you added Oracle JDBC driver to your class path ?","body":"Have you added Oracle JDBC driver to your class path ?"},{"owner":{"account_id":3221601,"reputation":67,"user_id":2718920,"display_name":"rahul"},"score":0,"creation_date":1544858321,"post_id":53790147,"comment_id":94431871,"body_markdown":"in /etc/profile : export CLASSPATH=/opt/instantclient_11_2:/usr/java/jdk1.8.0_20/jre/lib/ext:$CLASSPATH","body":"in /etc/profile : export CLASSPATH=/opt/instantclient_11_2:/usr/java/jdk1.8.0_20/jre/&zwnj;&#8203;lib/ext:$CLASSPATH"},{"owner":{"account_id":213468,"reputation":103490,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1544864751,"post_id":53790147,"comment_id":94433010,"body_markdown":"Try upgrading to a more recent version of the Oracle JDBC driver. Also try upgrading to a more recent version of Java 8 (Java 8 update 20 is pretty old). Also: try loading `oracle.jdbc.OracleDriver` instead of `oracle.jdbc.driver.OracleDriver`.","body":"Try upgrading to a more recent version of the Oracle JDBC driver. Also try upgrading to a more recent version of Java 8 (Java 8 update 20 is pretty old). Also: try loading <code>oracle.jdbc.OracleDriver</code> instead of <code>oracle.jdbc.driver.OracleDriver</code>."},{"owner":{"account_id":213468,"reputation":103490,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1544864803,"post_id":53790147,"comment_id":94433024,"body_markdown":"The fact you have the `lib/ext` folder of your JDK on the CLASSPATH is very suspect.","body":"The fact you have the <code>lib&#47;ext</code> folder of your JDK on the CLASSPATH is very suspect."},{"owner":{"account_id":3221601,"reputation":67,"user_id":2718920,"display_name":"rahul"},"score":0,"creation_date":1544867809,"post_id":53790147,"comment_id":94433618,"body_markdown":"i updated java to jdk-8u192-linux-x64.rpm , changed export CLASSPATH=/opt/instantclient_11_2:/usr/java/jdk1.8.0_20/jre/lib:$CLASSPATH\nalso changed \nClass.forName(&quot;oracle.jdbc.OracleDriver&quot;);\nbut having same problem.","body":"i updated java to jdk-8u192-linux-x64.rpm , changed export CLASSPATH=/opt/instantclient_11_2:/usr/java/jdk1.8.0_20/jre/&zwnj;&#8203;lib:$CLASSPATH also changed  Class.forName(&quot;oracle.jdbc.OracleDriver&quot;); but having same problem."}],"answers":[{"tags":[],"owner":{"account_id":5854892,"reputation":3571,"user_id":4612499,"display_name":"Jean de Lavarene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545041746,"creation_date":1545041746,"answer_id":53813056,"question_id":53790147,"body_markdown":"Try the latest JDBC driver which you can download from here: https://www.oracle.com/technetwork/database/application-development/jdbc/downloads/index.html. This error should go away.","title":"java.lang.NoClassDefFoundError: Could not initialize class oracle.jdbc.driver.ClassRef","body":"<p>Try the latest JDBC driver which you can download from here: <a href=\"https://www.oracle.com/technetwork/database/application-development/jdbc/downloads/index.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technetwork/database/application-development/jdbc/downloads/index.html</a>. This error should go away.</p>\n"},{"tags":[],"owner":{"account_id":5269530,"reputation":175,"user_id":4208277,"display_name":"Uday Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658415128,"creation_date":1658415128,"answer_id":73068353,"question_id":53790147,"body_markdown":"you can try to re-order(put oracle dependency prior/much prior to sybase) sybase and ojdbc8 jar dependency in pom.xml\r\n\r\n\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n                &lt;version&gt;12.2.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sybase.jconnect&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jconn4&lt;/artifactId&gt;\r\n                &lt;version&gt;7.07-27082&lt;/version&gt;\r\n            &lt;/dependency&gt;","title":"java.lang.NoClassDefFoundError: Could not initialize class oracle.jdbc.driver.ClassRef","body":"<p>you can try to re-order(put oracle dependency prior/much prior to sybase) sybase and ojdbc8 jar dependency in pom.xml</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n            &lt;version&gt;12.2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n&lt;dependency&gt;\n            &lt;groupId&gt;com.sybase.jconnect&lt;/groupId&gt;\n            &lt;artifactId&gt;jconn4&lt;/artifactId&gt;\n            &lt;version&gt;7.07-27082&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":3221601,"reputation":67,"user_id":2718920,"display_name":"rahul"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9637,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692522415,"creation_date":1544855558,"question_id":53790147,"body_markdown":"I have CentOS on both server and client in VM. I am trying to connect Java SE 8 with Oracle 11gR2.\r\nBut it gives this error. I added `ojdbc6.jar`  by `&quot;project properties-&gt; libraries -&gt; Add Jar/folder-&gt;/usr/java/jdk1.8.0_20/jre/lib/ext/ojdbc6.jar` and `ojdbc8.jar&quot;`.\r\n\r\nCode is: \r\n\r\n    import java.sql.*;\r\n    import oracle.sql.*;\r\n    import oracle.jdbc.*;\r\n    class OracleCon\r\n    {\r\n        public static void main(String args[])\r\n    {\r\n    try\r\n    {\r\n        Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n       \r\n        Connection con=DriverManager.getConnection(&quot;jdbc:oracle:thin:@serverora11gr2:1521:orcl&quot;,&quot;scott&quot;,&quot;tiger&quot;);\r\n\r\n        Statement stmt=con.createStatement();\r\n\r\n        ResultSet rs=stmt.executeQuery(&quot;select * from emp&quot;);\r\n        \r\n        while(rs.next())\r\n        System.out.println(rs.getInt(1)+&quot;  &quot;+rs.getString(2)+&quot;  &quot;+rs.getString(3));\r\n\r\n        con.close();\r\n\r\n    }\r\n    catch(Exception e)\r\n    { System.out.println(e);}\r\n\r\n    }\r\n}\r\n\r\nError is:\r\n\r\n      Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class oracle.jdbc.driver.ClassRef\r\n\tat oracle.jdbc.driver.OracleDriver.&lt;clinit&gt;(OracleDriver.java:262)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:259)\r\n\tat OracleCon.main(OracleCon.java:10)\r\n    /home/rahul/.cache/netbeans/8.2/executor-snippets/run.xml:53: Java       \r\n     returned: 1\r\n    BUILD FAILED (total time: 0 seconds)\r\n\r\n","title":"java.lang.NoClassDefFoundError: Could not initialize class oracle.jdbc.driver.ClassRef","body":"<p>I have CentOS on both server and client in VM. I am trying to connect Java SE 8 with Oracle 11gR2.\nBut it gives this error. I added <code>ojdbc6.jar</code>  by <code>&quot;project properties-&gt; libraries -&gt; Add Jar/folder-&gt;/usr/java/jdk1.8.0_20/jre/lib/ext/ojdbc6.jar</code> and <code>ojdbc8.jar&quot;</code>.</p>\n<p>Code is:</p>\n<pre><code>import java.sql.*;\nimport oracle.sql.*;\nimport oracle.jdbc.*;\nclass OracleCon\n{\n    public static void main(String args[])\n{\ntry\n{\n    Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\n   \n    Connection con=DriverManager.getConnection(&quot;jdbc:oracle:thin:@serverora11gr2:1521:orcl&quot;,&quot;scott&quot;,&quot;tiger&quot;);\n\n    Statement stmt=con.createStatement();\n\n    ResultSet rs=stmt.executeQuery(&quot;select * from emp&quot;);\n    \n    while(rs.next())\n    System.out.println(rs.getInt(1)+&quot;  &quot;+rs.getString(2)+&quot;  &quot;+rs.getString(3));\n\n    con.close();\n\n}\ncatch(Exception e)\n{ System.out.println(e);}\n\n}\n</code></pre>\n<p>}</p>\n<p>Error is:</p>\n<pre><code>  Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class oracle.jdbc.driver.ClassRef\nat oracle.jdbc.driver.OracleDriver.&lt;clinit&gt;(OracleDriver.java:262)\nat java.lang.Class.forName0(Native Method)\nat java.lang.Class.forName(Class.java:259)\nat OracleCon.main(OracleCon.java:10)\n/home/rahul/.cache/netbeans/8.2/executor-snippets/run.xml:53: Java       \n returned: 1\nBUILD FAILED (total time: 0 seconds)\n</code></pre>\n"},{"tags":["java","arrays","recursion","tail-recursion","array-algorithms"],"comments":[{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":1,"creation_date":1692485092,"post_id":76937242,"comment_id":135630162,"body_markdown":"You need `return removeMin(tempArr, count);` so you can pass on the results of the recursive calls.  The final `return` will never be reached.","body":"You need <code>return removeMin(tempArr, count);</code> so you can pass on the results of the recursive calls.  The final <code>return</code> will never be reached."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1692499353,"post_id":76937242,"comment_id":135630999,"body_markdown":"You can add _index_ to the _for-loop_ variables, _for (int i = 1, index = 0; i&lt;arr.length; i++, index++)_.","body":"You can add <i>index</i> to the <i>for-loop</i> variables, <i>for (int i = 1, index = 0; i&lt;arr.length; i++, index++)</i>."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692491023,"creation_date":1692490605,"answer_id":76937498,"question_id":76937242,"body_markdown":"You need to change your `conditional` and your `returns` as follows.\r\n```\r\nif (tempArr.length != 0){\r\n   return removeMin(tempArr, count);\r\n}\r\nreturn count;\r\n```\r\nHere&#39;s the complete code.\r\n```\r\npublic static  int removeMin(int[] arr, int count) {\r\n     int[] tempArr = new int[arr.length -1];\r\n     \r\n     int index = 0;\r\n     for (int i = 1; i&lt;arr.length; i++) {\r\n         tempArr[index] = arr[i] - arr[0];\r\n         index++;\r\n     }\r\n     count = count+1;\r\n     if (tempArr.length != 0){\r\n         return removeMin(tempArr, count);\r\n     }\r\n     return count;\r\n }\r\n```\r\nBut isn&#39;t count always going to be equal to the array size. So what are you trying to do?","title":"Recursion method is invoked even after loop condition is met","body":"<p>You need to change your <code>conditional</code> and your <code>returns</code> as follows.</p>\n<pre><code>if (tempArr.length != 0){\n   return removeMin(tempArr, count);\n}\nreturn count;\n</code></pre>\n<p>Here's the complete code.</p>\n<pre><code>public static  int removeMin(int[] arr, int count) {\n     int[] tempArr = new int[arr.length -1];\n     \n     int index = 0;\n     for (int i = 1; i&lt;arr.length; i++) {\n         tempArr[index] = arr[i] - arr[0];\n         index++;\n     }\n     count = count+1;\n     if (tempArr.length != 0){\n         return removeMin(tempArr, count);\n     }\n     return count;\n }\n</code></pre>\n<p>But isn't count always going to be equal to the array size. So what are you trying to do?</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692522110,"creation_date":1692522110,"answer_id":76938683,"question_id":76937242,"body_markdown":"&gt; _&quot;... I am expecting it to return 4 but it&#39;s returning 1.&quot;_\r\n\r\nYou&#39;ll need to return the _return-value_ of the recursive call.\r\n\r\n```java\r\nif (tempArr.length == 0){\r\n    return count;\r\n}else{\r\n    return removeMin(tempArr, count);\r\n}\r\n```\r\n\r\n","title":"Recursion method is invoked even after loop condition is met","body":"<blockquote>\n<p><em>&quot;... I am expecting it to return 4 but it's returning 1.&quot;</em></p>\n</blockquote>\n<p>You'll need to return the <em>return-value</em> of the recursive call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (tempArr.length == 0){\n    return count;\n}else{\n    return removeMin(tempArr, count);\n}\n</code></pre>\n"}],"owner":{"account_id":18450894,"reputation":3,"user_id":13852018,"display_name":"ansh87"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76937498,"answer_count":2,"score":-1,"last_activity_date":1692522110,"creation_date":1692483431,"question_id":76937242,"body_markdown":"    public int removeMin(Integer[] arr, int count) {\r\n        Integer[] tempArr = new Integer[arr.length -1];\r\n        \r\n        int index = 0;\r\n        for (int i = 1; i&lt;arr.length; i++) {\r\n            tempArr[index] = arr[i] - arr[0];\r\n            index++;\r\n        }\r\n        count = count+1;\r\n        if (tempArr.length == 0){\r\n            return count;\r\n        }else{\r\n            removeMin(tempArr, count);\r\n        }\r\n        return count;\r\n    }\r\n\r\n\r\nI want the function to return count as 4  when `tempArr.length == 0`.\r\n\r\nInput parameters:\r\n\r\n```\r\nInteger[] arr = {2,5,8,11};\r\nint count = 0;\r\n```\r\n\r\nI am expecting it to return 4 but it&#39;s returning 1.","title":"Recursion method is invoked even after loop condition is met","body":"<pre><code>public int removeMin(Integer[] arr, int count) {\n    Integer[] tempArr = new Integer[arr.length -1];\n    \n    int index = 0;\n    for (int i = 1; i&lt;arr.length; i++) {\n        tempArr[index] = arr[i] - arr[0];\n        index++;\n    }\n    count = count+1;\n    if (tempArr.length == 0){\n        return count;\n    }else{\n        removeMin(tempArr, count);\n    }\n    return count;\n}\n</code></pre>\n<p>I want the function to return count as 4  when <code>tempArr.length == 0</code>.</p>\n<p>Input parameters:</p>\n<pre><code>Integer[] arr = {2,5,8,11};\nint count = 0;\n</code></pre>\n<p>I am expecting it to return 4 but it's returning 1.</p>\n"},{"tags":["java","spring","spring-boot","hashicorp-vault"],"answers":[{"tags":[],"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692004100,"creation_date":1692004100,"answer_id":76897637,"question_id":76858618,"body_markdown":"As per the documentation:\r\n\r\n - https://cloud.spring.io/spring-cloud-vault/reference/html/\r\n\r\nYou&#39;re indicating the configuration under\r\n\r\n    spring.application.cloud.config.server.vault\r\n\r\nBut it should be under:\r\n\r\n    spring.cloud.vault","title":"Invalid Spring Config Server Configuration (Vault as Backend)","body":"<p>As per the documentation:</p>\n<ul>\n<li><a href=\"https://cloud.spring.io/spring-cloud-vault/reference/html/\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-vault/reference/html/</a></li>\n</ul>\n<p>You're indicating the configuration under</p>\n<pre><code>spring.application.cloud.config.server.vault\n</code></pre>\n<p>But it should be under:</p>\n<pre><code>spring.cloud.vault\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2714073,"reputation":3615,"user_id":2341815,"accept_rate":59,"display_name":"Ruwanka De Silva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692047328,"creation_date":1692047328,"answer_id":76902158,"question_id":76858618,"body_markdown":"You need to enable the `vault` profile. \r\n\r\n    server:\r\n      port: 8888\r\n    \r\n    spring:\r\n      profiles:\r\n        active: vault\r\n      application:\r\n        name: config-server\r\n      cloud:\r\n        config:\r\n          server:\r\n            vault:\r\n              host: localhost\r\n              port: 8200\r\n              scheme: http\r\n              backend: kv\r\n              authentication: TOKEN\r\n              kv-version: 2\r\n              token: &lt;&lt;root token&gt;&gt;\r\n\r\nRegarding kv version, kv version 2 adds `/data` path to its API. It seems every example in the pattern of `vault kv put secret/application foo=bar baz=bam` in the internet doesn&#39;t work. Following rest api calls creates key values in `config-server` path for v2 API.\r\n\r\ncreate data\r\n\r\n    curl --location &#39;http://127.0.0.1:8200/v1/kv/data/config-server&#39; \\\r\n    --header &#39;X-Vault-Token: &lt;&lt;vault root token&gt;&gt;&#39; \\\r\n    --header &#39;Content-Type: application/json&#39; \\\r\n    --data &#39;{&quot;data&quot;:{&quot;foo&quot;:&quot;baz&quot;}}&#39;\r\n\r\nget data\r\n\r\n    curl --location &#39;http://localhost:8200/v1/kv/data/config-server&#39; \\\r\n    --header &#39;X-Vault-Token: &lt;&lt;vault root token&gt;&gt;&#39;\r\n\r\ncheck via spring config server\r\n\r\n    curl --location &#39;http://localhost:8888/config-server/default&#39; \\\r\n    --header &#39;X-Config-Token: &lt;&lt;vault root token&gt;&gt;&#39;\r\n\r\nPlease note that application name used here is `config-server`. Also v1 type seems to be working with the examples in the [documentation][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-cloud-config/docs/current/reference/html/#vault-backend","title":"Invalid Spring Config Server Configuration (Vault as Backend)","body":"<p>You need to enable the <code>vault</code> profile.</p>\n<pre><code>server:\n  port: 8888\n\nspring:\n  profiles:\n    active: vault\n  application:\n    name: config-server\n  cloud:\n    config:\n      server:\n        vault:\n          host: localhost\n          port: 8200\n          scheme: http\n          backend: kv\n          authentication: TOKEN\n          kv-version: 2\n          token: &lt;&lt;root token&gt;&gt;\n</code></pre>\n<p>Regarding kv version, kv version 2 adds <code>/data</code> path to its API. It seems every example in the pattern of <code>vault kv put secret/application foo=bar baz=bam</code> in the internet doesn't work. Following rest api calls creates key values in <code>config-server</code> path for v2 API.</p>\n<p>create data</p>\n<pre><code>curl --location 'http://127.0.0.1:8200/v1/kv/data/config-server' \\\n--header 'X-Vault-Token: &lt;&lt;vault root token&gt;&gt;' \\\n--header 'Content-Type: application/json' \\\n--data '{&quot;data&quot;:{&quot;foo&quot;:&quot;baz&quot;}}'\n</code></pre>\n<p>get data</p>\n<pre><code>curl --location 'http://localhost:8200/v1/kv/data/config-server' \\\n--header 'X-Vault-Token: &lt;&lt;vault root token&gt;&gt;'\n</code></pre>\n<p>check via spring config server</p>\n<pre><code>curl --location 'http://localhost:8888/config-server/default' \\\n--header 'X-Config-Token: &lt;&lt;vault root token&gt;&gt;'\n</code></pre>\n<p>Please note that application name used here is <code>config-server</code>. Also v1 type seems to be working with the examples in the <a href=\"https://docs.spring.io/spring-cloud-config/docs/current/reference/html/#vault-backend\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":29260803,"reputation":1,"user_id":22417833,"display_name":"kz coding"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692521198,"creation_date":1692521198,"answer_id":76938634,"question_id":76858618,"body_markdown":"Your Spring configuration specifies the Vault backend as &quot;kv,&quot; but your Vault configuration example uses the &quot;raft&quot; storage backend. Make sure you&#39;re using the correct Vault storage backend and adjust your Spring configuration accordingly.","title":"Invalid Spring Config Server Configuration (Vault as Backend)","body":"<p>Your Spring configuration specifies the Vault backend as &quot;kv,&quot; but your Vault configuration example uses the &quot;raft&quot; storage backend. Make sure you're using the correct Vault storage backend and adjust your Spring configuration accordingly.</p>\n"}],"owner":{"account_id":14230030,"reputation":3523,"user_id":10279528,"display_name":"Nilanka Manoj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76902158,"answer_count":3,"score":1,"last_activity_date":1692521198,"creation_date":1691490013,"question_id":76858618,"body_markdown":"I want to create a config server with vault backend and followed these steps:\r\n\r\n 1. install vault\r\n 2. create and run server using:\r\n\r\n```\r\nstorage &quot;raft&quot; {\r\n  path    = &quot;./vault/data&quot;\r\n  node_id = &quot;node1&quot;\r\n}\r\n\r\nlistener &quot;tcp&quot; {\r\n  address     = &quot;127.0.0.1:8200&quot;\r\n  tls_disable = &quot;true&quot;\r\n}\r\n\r\napi_addr = &quot;http://127.0.0.1:8200&quot;\r\ncluster_addr = &quot;https://127.0.0.1:8201&quot;\r\nui = true\r\n\r\n```\r\n 3. check server status\r\n\r\n```\r\nKey                     Value\r\n---                     -----\r\nSeal Type               shamir\r\nInitialized             true\r\nSealed                  false\r\nTotal Shares            5\r\nThreshold               3\r\nVersion                 1.14.1\r\nBuild Date              2023-07-21T10:15:14Z\r\nStorage Type            raft\r\nCluster Name            vault-cluster-d9454c69\r\nCluster ID              36c8d03f-522d-d9e9-4ae4-cceea7074298\r\nHA Enabled              true\r\nHA Cluster              https://127.0.0.1:8201\r\nHA Mode                 active\r\nActive Since            2023-08-08T09:12:40.45953Z\r\nRaft Committed Index    40\r\nRaft Applied Index      40\r\n```\r\n\r\nVault is unsealed previously by cli commands.\r\n \r\n4. Setup Spring Configuration\r\n\r\n```yml\r\nserver:\r\n  port: 8888\r\n\r\nspring:\r\n  application:\r\n    name: config-server\r\n  cloud:\r\n    config:\r\n      server:\r\n        vault:\r\n          host: localhost\r\n          port: 8200\r\n          scheme: https\r\n          backend: kv\r\n          token: &lt;&lt;added token from vault operator init command&gt;&gt;\r\n\r\n\r\n\r\n```\r\n5. Spring Apllication\r\n```java\r\n@SpringBootApplication\r\n@EnableConfigServer\r\npublic class CloudConfigServerApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(CloudConfigServerApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nwhen i try to run this:\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nInvalid config server configuration.\r\n\r\nAction:\r\n\r\nIf you are using the git profile, you need to set a Git URI in your configuration.  If you have set spring.cloud.config.server.bootstrap=true, you need to use a composite configuration.\r\n```\r\n\r\ntried different things and resources but couldnt find a solution for this one. Anyone can help to identify what is the problem?\r\n\r\n**UPDATE**\r\n\r\nI changed scheme to http and ran the server\r\n\r\n```yml\r\nserver:\r\n  port: 8888\r\n\r\nspring:\r\n  application:\r\n    name: config-server\r\n  cloud:\r\n    config:\r\n      server:\r\n        vault:\r\n          host: localhost\r\n          port: 8200\r\n          scheme: http\r\n          backend: kv\r\n          token: &lt;&lt;added token from vault operator init command&gt;&gt;\r\n\r\n```\r\nstill same error showing. Feels like spring fails before attempt to connect\r\n\r\n\r\n\r\n\r\n","title":"Invalid Spring Config Server Configuration (Vault as Backend)","body":"<p>I want to create a config server with vault backend and followed these steps:</p>\n<ol>\n<li>install vault</li>\n<li>create and run server using:</li>\n</ol>\n<pre><code>storage &quot;raft&quot; {\n  path    = &quot;./vault/data&quot;\n  node_id = &quot;node1&quot;\n}\n\nlistener &quot;tcp&quot; {\n  address     = &quot;127.0.0.1:8200&quot;\n  tls_disable = &quot;true&quot;\n}\n\napi_addr = &quot;http://127.0.0.1:8200&quot;\ncluster_addr = &quot;https://127.0.0.1:8201&quot;\nui = true\n\n</code></pre>\n<ol start=\"3\">\n<li>check server status</li>\n</ol>\n<pre><code>Key                     Value\n---                     -----\nSeal Type               shamir\nInitialized             true\nSealed                  false\nTotal Shares            5\nThreshold               3\nVersion                 1.14.1\nBuild Date              2023-07-21T10:15:14Z\nStorage Type            raft\nCluster Name            vault-cluster-d9454c69\nCluster ID              36c8d03f-522d-d9e9-4ae4-cceea7074298\nHA Enabled              true\nHA Cluster              https://127.0.0.1:8201\nHA Mode                 active\nActive Since            2023-08-08T09:12:40.45953Z\nRaft Committed Index    40\nRaft Applied Index      40\n</code></pre>\n<p>Vault is unsealed previously by cli commands.</p>\n<ol start=\"4\">\n<li>Setup Spring Configuration</li>\n</ol>\n<pre class=\"lang-yaml prettyprint-override\"><code>server:\n  port: 8888\n\nspring:\n  application:\n    name: config-server\n  cloud:\n    config:\n      server:\n        vault:\n          host: localhost\n          port: 8200\n          scheme: https\n          backend: kv\n          token: &lt;&lt;added token from vault operator init command&gt;&gt;\n\n\n\n</code></pre>\n<ol start=\"5\">\n<li>Spring Apllication</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableConfigServer\npublic class CloudConfigServerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(CloudConfigServerApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>when i try to run this:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nInvalid config server configuration.\n\nAction:\n\nIf you are using the git profile, you need to set a Git URI in your configuration.  If you have set spring.cloud.config.server.bootstrap=true, you need to use a composite configuration.\n</code></pre>\n<p>tried different things and resources but couldnt find a solution for this one. Anyone can help to identify what is the problem?</p>\n<p><strong>UPDATE</strong></p>\n<p>I changed scheme to http and ran the server</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>server:\n  port: 8888\n\nspring:\n  application:\n    name: config-server\n  cloud:\n    config:\n      server:\n        vault:\n          host: localhost\n          port: 8200\n          scheme: http\n          backend: kv\n          token: &lt;&lt;added token from vault operator init command&gt;&gt;\n\n</code></pre>\n<p>still same error showing. Feels like spring fails before attempt to connect</p>\n"},{"tags":["java","angular","spring-boot","spring-webflux","cross-origin-resource-policy"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692518255,"creation_date":1692506975,"answer_id":76937989,"question_id":76937004,"body_markdown":"Your CORS error is on a request to battle.net. It can&#39;t be fixed with the configuration of your Angular or Spring applications.\r\n\r\nInstead of following redirects to battle.net within your app:\r\n- temporarily &quot;quit&quot; your Angular app by setting the `window.location.href` to the battle.net authorization endpoint. That way origin will be battle.net (and not your Angular app)\r\n- be sure to use a redirect_uri pointing to your Spring app authorization-code endpoint (`http://127.0.0.1:8080/login/oauth2/code/your-registration-id`)\r\n- in Spring OAuth2 client, configure a success URL to return to your Angular app (`http://localhost:4200/`, unless your Spring client is a `spring-cloud-gateway` also proxying your Angular app with route like `http://localhost:8080/ui`)\r\n\r\nI have written [a tutorial][1] with an Angular app querying a Spring reactive OAuth2 client (a `spring-cloud-gateway` instance). You can see how login is initiated in the Angular app [there][2].\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/bff\r\n  [2]: https://github.com/ch4mpy/spring-addons/blob/b4cf7402a38f0d2f80a81fcd1efa0c1c5312d407/samples/tutorials/bff/angular/projects/bff-ui/src/app/user.service.ts#L40","title":"CORS Missing Allow Oirign with angular, spring webflux and spring oauth2 client","body":"<p>Your CORS error is on a request to battle.net. It can't be fixed with the configuration of your Angular or Spring applications.</p>\n<p>Instead of following redirects to battle.net within your app:</p>\n<ul>\n<li>temporarily &quot;quit&quot; your Angular app by setting the <code>window.location.href</code> to the battle.net authorization endpoint. That way origin will be battle.net (and not your Angular app)</li>\n<li>be sure to use a redirect_uri pointing to your Spring app authorization-code endpoint (<code>http://127.0.0.1:8080/login/oauth2/code/your-registration-id</code>)</li>\n<li>in Spring OAuth2 client, configure a success URL to return to your Angular app (<code>http://localhost:4200/</code>, unless your Spring client is a <code>spring-cloud-gateway</code> also proxying your Angular app with route like <code>http://localhost:8080/ui</code>)</li>\n</ul>\n<p>I have written <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/bff\" rel=\"nofollow noreferrer\">a tutorial</a> with an Angular app querying a Spring reactive OAuth2 client (a <code>spring-cloud-gateway</code> instance). You can see how login is initiated in the Angular app <a href=\"https://github.com/ch4mpy/spring-addons/blob/b4cf7402a38f0d2f80a81fcd1efa0c1c5312d407/samples/tutorials/bff/angular/projects/bff-ui/src/app/user.service.ts#L40\" rel=\"nofollow noreferrer\">there</a>.</p>\n"}],"owner":{"account_id":29258702,"reputation":11,"user_id":22416247,"display_name":"Florian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692520314,"creation_date":1692478819,"question_id":76937004,"body_markdown":"I want to create a simple webapp based on Angular. That is able to retrieve data from the with oauth secured battlenet resource server.\r\n\r\nMy planned structure is like.\r\n\r\n- Angular\r\n- Spring boot as oauth2 client using spring webflux\r\n- Battlenet authentication + resource server\r\n\r\nI was able to setup my spring boot app, that I&#39;m able to retrieve data by direct endpoint calls via browser.\r\n\r\nIf I try to do the same via angular app, I&#39;m getting cross origin errors while oauth authentication.\r\n\r\n**[Browser info from inspect -\\&gt; network](https://i.stack.imgur.com/x9nJL.png)**\r\n\r\n**My configuration**\r\n\r\n```\r\n@Configuration\r\n@EnableWebFluxSecurity\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityWebFilterChain configure(ServerHttpSecurity http) {\r\n        return http.cors(cors -&gt; cors.configurationSource(corsConfigurationSource()))\r\n                    .authorizeExchange(auth -&gt; auth.anyExchange().authenticated())\r\n                    .oauth2Login(withDefaults())\r\n                    .build();\r\n    }\r\n\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(List.of(&quot;http://localhost:4200&quot;));\r\n        configuration.setAllowedMethods(List.of(&quot;*&quot;));\r\n        configuration.setAllowedHeaders(List.of(&quot;*&quot;));\r\n        configuration.setMaxAge(3600L);\r\n        configuration.applyPermitDefaultValues();\r\n\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n\r\n    @Bean\r\n    public WebClient webClient(ReactiveClientRegistrationRepository clientRegistrationRepo,\r\n                               ServerOAuth2AuthorizedClientRepository authorizedClientRepo) {\r\n        ServerOAuth2AuthorizedClientExchangeFilterFunction filter =\r\n                new ServerOAuth2AuthorizedClientExchangeFilterFunction(\r\n                        clientRegistrationRepo,\r\n                        authorizedClientRepo);\r\n        return WebClient.builder()\r\n                .baseUrl(&quot;https://eu.api.blizzard.com&quot;)\r\n                .filter(filter)\r\n                .build();\r\n    }\r\n\r\n}\r\n```\r\n\r\n**My rest controller**\r\n\r\n```\r\n@RestController\r\npublic class UserController {\r\n\r\n    @GetMapping(&quot;/user&quot;)\r\n    public Mono&lt;String&gt; getUserName(@AuthenticationPrincipal Mono&lt;OAuth2User&gt; oauth2User) {\r\n        return oauth2User\r\n                .mapNotNull(OAuth2User::getName)\r\n                .map(name -&gt; String.format(&quot;Hi, %s&quot;, name));\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n**My Angular App Demo call**\r\n\r\n```\r\n  sendRequest() {\r\n    const headers= new HttpHeaders()\r\n      .set(&#39;Access-Control-Allow-Origin&#39;, &#39;http://localhost:4200&#39;);\r\n\r\n    const requestOptions = { headers: headers };\r\n\r\n    this.http.get(&#39;http://localhost:8080/user&#39;)\r\n              .subscribe(response =&gt; this.apiResponse = response);\r\n  }\r\n```\r\n\r\nPlease, help me to solve this cors issue.","title":"CORS Missing Allow Oirign with angular, spring webflux and spring oauth2 client","body":"<p>I want to create a simple webapp based on Angular. That is able to retrieve data from the with oauth secured battlenet resource server.</p>\n<p>My planned structure is like.</p>\n<ul>\n<li>Angular</li>\n<li>Spring boot as oauth2 client using spring webflux</li>\n<li>Battlenet authentication + resource server</li>\n</ul>\n<p>I was able to setup my spring boot app, that I'm able to retrieve data by direct endpoint calls via browser.</p>\n<p>If I try to do the same via angular app, I'm getting cross origin errors while oauth authentication.</p>\n<p><strong><a href=\"https://i.stack.imgur.com/x9nJL.png\" rel=\"nofollow noreferrer\">Browser info from inspect -&gt; network</a></strong></p>\n<p><strong>My configuration</strong></p>\n<pre><code>@Configuration\n@EnableWebFluxSecurity\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityWebFilterChain configure(ServerHttpSecurity http) {\n        return http.cors(cors -&gt; cors.configurationSource(corsConfigurationSource()))\n                    .authorizeExchange(auth -&gt; auth.anyExchange().authenticated())\n                    .oauth2Login(withDefaults())\n                    .build();\n    }\n\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(List.of(&quot;http://localhost:4200&quot;));\n        configuration.setAllowedMethods(List.of(&quot;*&quot;));\n        configuration.setAllowedHeaders(List.of(&quot;*&quot;));\n        configuration.setMaxAge(3600L);\n        configuration.applyPermitDefaultValues();\n\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n\n    @Bean\n    public WebClient webClient(ReactiveClientRegistrationRepository clientRegistrationRepo,\n                               ServerOAuth2AuthorizedClientRepository authorizedClientRepo) {\n        ServerOAuth2AuthorizedClientExchangeFilterFunction filter =\n                new ServerOAuth2AuthorizedClientExchangeFilterFunction(\n                        clientRegistrationRepo,\n                        authorizedClientRepo);\n        return WebClient.builder()\n                .baseUrl(&quot;https://eu.api.blizzard.com&quot;)\n                .filter(filter)\n                .build();\n    }\n\n}\n</code></pre>\n<p><strong>My rest controller</strong></p>\n<pre><code>@RestController\npublic class UserController {\n\n    @GetMapping(&quot;/user&quot;)\n    public Mono&lt;String&gt; getUserName(@AuthenticationPrincipal Mono&lt;OAuth2User&gt; oauth2User) {\n        return oauth2User\n                .mapNotNull(OAuth2User::getName)\n                .map(name -&gt; String.format(&quot;Hi, %s&quot;, name));\n    }\n\n}\n\n</code></pre>\n<p><strong>My Angular App Demo call</strong></p>\n<pre><code>  sendRequest() {\n    const headers= new HttpHeaders()\n      .set('Access-Control-Allow-Origin', 'http://localhost:4200');\n\n    const requestOptions = { headers: headers };\n\n    this.http.get('http://localhost:8080/user')\n              .subscribe(response =&gt; this.apiResponse = response);\n  }\n</code></pre>\n<p>Please, help me to solve this cors issue.</p>\n"},{"tags":["java","gradle","mocking","mockito","junit5"],"comments":[{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1692512802,"post_id":76938161,"comment_id":135631801,"body_markdown":"Please show your source code structure.","body":"Please show your source code structure."},{"owner":{"account_id":27398996,"reputation":1,"user_id":20900719,"display_name":"Manish Verma"},"score":0,"creation_date":1692519678,"post_id":76938161,"comment_id":135632348,"body_markdown":"SourceCodeStructure added in build.gradle","body":"SourceCodeStructure added in build.gradle"},{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1692523584,"post_id":76938161,"comment_id":135632687,"body_markdown":"What is the error you are getting? I am able to run your above setup perfectly. Although, I did my setup in spring boot project","body":"What is the error you are getting? I am able to run your above setup perfectly. Although, I did my setup in spring boot project"},{"owner":{"account_id":27398996,"reputation":1,"user_id":20900719,"display_name":"Manish Verma"},"score":0,"creation_date":1692524347,"post_id":76938161,"comment_id":135632751,"body_markdown":"My set up is a simple gradle project...","body":"My set up is a simple gradle project..."},{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1692524363,"post_id":76938161,"comment_id":135632752,"body_markdown":"Actually I tried it as well, it is working as well","body":"Actually I tried it as well, it is working as well"},{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1692524414,"post_id":76938161,"comment_id":135632754,"body_markdown":"You are adding the test class under src/test/java right?","body":"You are adding the test class under src/test/java right?"},{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1692524802,"post_id":76938161,"comment_id":135632794,"body_markdown":"tasks.named(&#39;test&#39;) {\n    useJUnitPlatform()\n} \nShould be redundant.","body":"tasks.named(&#39;test&#39;) {     useJUnitPlatform() }  Should be redundant."},{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1692524830,"post_id":76938161,"comment_id":135632796,"body_markdown":"Which Gradle version are you using? Have you tried through a wrapper?","body":"Which Gradle version are you using? Have you tried through a wrapper?"},{"owner":{"account_id":27398996,"reputation":1,"user_id":20900719,"display_name":"Manish Verma"},"score":0,"creation_date":1692524846,"post_id":76938161,"comment_id":135632798,"body_markdown":"yes that is true","body":"yes that is true"},{"owner":{"account_id":27398996,"reputation":1,"user_id":20900719,"display_name":"Manish Verma"},"score":0,"creation_date":1692524983,"post_id":76938161,"comment_id":135632813,"body_markdown":"Gradle version is 8.2.1","body":"Gradle version is 8.2.1"},{"owner":{"account_id":27398996,"reputation":1,"user_id":20900719,"display_name":"Manish Verma"},"score":0,"creation_date":1692525013,"post_id":76938161,"comment_id":135632816,"body_markdown":"yes I am building project using Gradle Wrapper","body":"yes I am building project using Gradle Wrapper"},{"owner":{"account_id":27398996,"reputation":1,"user_id":20900719,"display_name":"Manish Verma"},"score":0,"creation_date":1692525043,"post_id":76938161,"comment_id":135632818,"body_markdown":"is there anything to do with Module or Directory ??","body":"is there anything to do with Module or Directory ??"}],"answers":[{"tags":[],"owner":{"account_id":8192773,"reputation":54,"user_id":17364339,"display_name":"KpekepSalt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692515341,"creation_date":1692515341,"answer_id":76938314,"question_id":76938161,"body_markdown":"mockito-junit-jupiter is just the extension for mockito. You need to add mockito-core itself:\r\n```groovy\r\ntestImplementation(&quot;org.mockito:mockito-core:4.11.0&quot;)\r\n```","title":"Not able to import Mockito library into my Test Classes","body":"<p>mockito-junit-jupiter is just the extension for mockito. You need to add mockito-core itself:</p>\n<pre><code>testImplementation(&quot;org.mockito:mockito-core:4.11.0&quot;)\n</code></pre>\n"}],"owner":{"account_id":27398996,"reputation":1,"user_id":20900719,"display_name":"Manish Verma"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692519643,"creation_date":1692512109,"question_id":76938161,"body_markdown":"[Source Code Structure][1]**build.gradle**\r\n\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;application&#39;\r\n}\r\next {\r\n\tbuildId = System.currentTimeMillis()\r\n\tcodinGameMainClass = &quot;com.codingame.App&quot;\r\n}\r\ngroup = &#39;com.coding-game-problem&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\njava {\r\n\tsourceCompatibility = &#39;8&#39;\r\n}\r\n\r\nrepositories {\r\n\tjcenter()\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\ttestImplementation &#39;org.mockito:mockito-junit-jupiter:4.11.0&#39;\r\n\ttestImplementation &#39;org.junit.jupiter:junit-jupiter:5.7.2&#39;\r\n}\r\n\r\ntest {\r\n\treports {\r\n\t\tjunitXml.enabled = true\r\n\t\tdef destinationDirectory = System.getProperty(&quot;user.home&quot;) + &quot;/.gradle/daemon/${buildId}/test-results&quot;\r\n\t\tjunitXml.destination = file(destinationDirectory)\r\n\t\thtml.enabled = true\r\n\t}\r\n\tuseJUnitPlatform {\r\n\t}\r\n\ttestLogging.events (&quot;STANDARD_ERROR&quot;)\r\n\ttestLogging.events (&quot;STANDARD_OUT&quot;)\r\n\tafterSuite { desc, result -&gt;\r\n\t\tif (!desc.parent) {\r\n\t\t\tprintln &quot;\\nTEST RESULT: ${result.resultType}&quot;\r\n\t\t\tprintln &quot;TEST SUMMARY: RAN ${result.testCount} TESTS, &quot; +\r\n\t\t\t\t\t&quot;${result.successfulTestCount} SUCCEEDED, &quot; +\r\n\t\t\t\t\t&quot;${result.failedTestCount} FAILED, &quot; +\r\n\t\t\t\t\t&quot;${result.skippedTestCount} SKIPPED&quot;\r\n\t\t}\r\n\t}\r\n}\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\n\r\n\r\nIn my **Test Class**, following lines of code is not able to import Mockito library, giving compile time errors as dependency is not resolved: \r\n\r\n```\r\nimport org.mockito.junit.jupiter.MockitoExtension;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.mockito.junit.jupiter.MockitoExtension;\r\nimport static org.mockito.ArgumentMatchers.any;\r\nimport static org.mockito.ArgumentMatchers.anyString;\r\nimport static org.mockito.Mockito.times;\r\nimport static org.mockito.Mockito.verify;\r\nimport static org.mockito.Mockito.when;\r\n\r\n@DisplayName(&quot;ContestServiceTest&quot;)\r\n@ExtendWith(MockitoExtension.class)\r\n```\r\n\r\nAfter performing ./gradlew build, getting complile time issues in Test Classes.\r\nKindly help on this....  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6lXEd.jpg","title":"Not able to import Mockito library into my Test Classes","body":"<p><a href=\"https://i.stack.imgur.com/6lXEd.jpg\" rel=\"nofollow noreferrer\">Source Code Structure</a><strong>build.gradle</strong></p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n}\next {\n    buildId = System.currentTimeMillis()\n    codinGameMainClass = &quot;com.codingame.App&quot;\n}\ngroup = 'com.coding-game-problem'\nversion = '0.0.1-SNAPSHOT'\njava {\n    sourceCompatibility = '8'\n}\n\nrepositories {\n    jcenter()\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation 'org.mockito:mockito-junit-jupiter:4.11.0'\n    testImplementation 'org.junit.jupiter:junit-jupiter:5.7.2'\n}\n\ntest {\n    reports {\n        junitXml.enabled = true\n        def destinationDirectory = System.getProperty(&quot;user.home&quot;) + &quot;/.gradle/daemon/${buildId}/test-results&quot;\n        junitXml.destination = file(destinationDirectory)\n        html.enabled = true\n    }\n    useJUnitPlatform {\n    }\n    testLogging.events (&quot;STANDARD_ERROR&quot;)\n    testLogging.events (&quot;STANDARD_OUT&quot;)\n    afterSuite { desc, result -&gt;\n        if (!desc.parent) {\n            println &quot;\\nTEST RESULT: ${result.resultType}&quot;\n            println &quot;TEST SUMMARY: RAN ${result.testCount} TESTS, &quot; +\n                    &quot;${result.successfulTestCount} SUCCEEDED, &quot; +\n                    &quot;${result.failedTestCount} FAILED, &quot; +\n                    &quot;${result.skippedTestCount} SKIPPED&quot;\n        }\n    }\n}\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>In my <strong>Test Class</strong>, following lines of code is not able to import Mockito library, giving compile time errors as dependency is not resolved:</p>\n<pre><code>import org.mockito.junit.jupiter.MockitoExtension;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.junit.jupiter.MockitoExtension;\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.ArgumentMatchers.anyString;\nimport static org.mockito.Mockito.times;\nimport static org.mockito.Mockito.verify;\nimport static org.mockito.Mockito.when;\n\n@DisplayName(&quot;ContestServiceTest&quot;)\n@ExtendWith(MockitoExtension.class)\n</code></pre>\n<p>After performing ./gradlew build, getting complile time issues in Test Classes.\nKindly help on this....</p>\n"},{"tags":["java","database","jpa","transactions","locking"],"comments":[{"owner":{"account_id":3189025,"reputation":2094,"user_id":2693851,"accept_rate":65,"display_name":"Leonid Bor"},"score":0,"creation_date":1511373326,"post_id":47441027,"comment_id":81837092,"body_markdown":"@pringi there&#39;s no explanation of difference of the two mentioned in my question","body":"@pringi there&#39;s no explanation of difference of the two mentioned in my question"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1511373459,"post_id":47441027,"comment_id":81837165,"body_markdown":"Sorry. This one: https://stackoverflow.com/questions/22646226/how-are-locking-mechanisms-pessimistic-optimistic-related-to-database-transact","body":"Sorry. This one: <a href=\"https://stackoverflow.com/questions/22646226/how-are-locking-mechanisms-pessimistic-optimistic-related-to-database-transact\" title=\"how are locking mechanisms pessimistic optimistic related to database transact\">stackoverflow.com/questions/22646226/&hellip;</a>"},{"owner":{"account_id":3189025,"reputation":2094,"user_id":2693851,"accept_rate":65,"display_name":"Leonid Bor"},"score":0,"creation_date":1511373659,"post_id":47441027,"comment_id":81837279,"body_markdown":"@pringi so with locking I won&#39;t be able to read data from table and with serializable level I&#39;ll be able to read and unable to write in case of two parallel transactions?","body":"@pringi so with locking I won&#39;t be able to read data from table and with serializable level I&#39;ll be able to read and unable to write in case of two parallel transactions?"},{"owner":{"account_id":271760,"reputation":92453,"user_id":562459,"display_name":"Mike Sherrill &#39;Cat Recall&#39;"},"score":0,"creation_date":1511378036,"post_id":47441027,"comment_id":81839632,"body_markdown":"*&quot;...in both cases the table gets locked...&quot;* That&#39;s not generally true in *either* case.","body":"<i>&quot;...in both cases the table gets locked...&quot;</i> That&#39;s not generally true in <i>either</i> case."}],"answers":[{"tags":[],"owner":{"account_id":271760,"reputation":92453,"user_id":562459,"display_name":"Mike Sherrill &#39;Cat Recall&#39;"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1511528602,"creation_date":1511528602,"answer_id":47473936,"question_id":47441027,"body_markdown":"(I don&#39;t assume you&#39;re using ObjectDB. You&#39;ll probably get better answers if you edit your question, and include the specific database you&#39;re using with JPA.)\r\n\r\nI don&#39;t like the terms *optimistic locking* and *pessimistic locking*. I think *optimistic concurrency control* and *pessimistic concurrency control* are more accurate. Locks are the most common way to deal with concurrency control problems, but they&#39;re not the only way. (Date&#39;s chapter on concurrency in *An Introduction to Database Systems* is about 25 pages long.)\r\n\r\nThe topics of *transaction management* and *concurrency control* aren&#39;t limited to the relational model of data or to SQL database management systems (dbms). Transaction isolation levels have to do with SQL.\r\n\r\n*Pessimistic concurrency control* really means only that you expect the dbms to prevent other transactions from accessing *something* when the dbms *starts* processing your request. Behavior is up to the dbms vendor. Different vendors might prevent access by locking the entire database, locking some tables, locking some pages, or locking some rows. Or the dbms might prevent access in some other way that doesn&#39;t directly involve locks. \r\n\r\nTransaction isolation levels are how *SQL* tries to solve concurrency control problems. Transaction isolation levels are defined in SQL standards. \r\n\r\nThe *serializable* transaction isolation level guarantees that the effect of concurrent, serializable transactions is the same as running them one at a time in some particular order. The guarantee describes the *effect*--not any particular kind of concurrency control or locking needed to *achieve* that effect. \r\n","title":"Pessimistic locking vs Serializable transaction isolation level","body":"<p>(I don't assume you're using ObjectDB. You'll probably get better answers if you edit your question, and include the specific database you're using with JPA.)</p>\n\n<p>I don't like the terms <em>optimistic locking</em> and <em>pessimistic locking</em>. I think <em>optimistic concurrency control</em> and <em>pessimistic concurrency control</em> are more accurate. Locks are the most common way to deal with concurrency control problems, but they're not the only way. (Date's chapter on concurrency in <em>An Introduction to Database Systems</em> is about 25 pages long.)</p>\n\n<p>The topics of <em>transaction management</em> and <em>concurrency control</em> aren't limited to the relational model of data or to SQL database management systems (dbms). Transaction isolation levels have to do with SQL.</p>\n\n<p><em>Pessimistic concurrency control</em> really means only that you expect the dbms to prevent other transactions from accessing <em>something</em> when the dbms <em>starts</em> processing your request. Behavior is up to the dbms vendor. Different vendors might prevent access by locking the entire database, locking some tables, locking some pages, or locking some rows. Or the dbms might prevent access in some other way that doesn't directly involve locks. </p>\n\n<p>Transaction isolation levels are how <em>SQL</em> tries to solve concurrency control problems. Transaction isolation levels are defined in SQL standards. </p>\n\n<p>The <em>serializable</em> transaction isolation level guarantees that the effect of concurrent, serializable transactions is the same as running them one at a time in some particular order. The guarantee describes the <em>effect</em>--not any particular kind of concurrency control or locking needed to <em>achieve</em> that effect. </p>\n"},{"tags":[],"owner":{"account_id":7522842,"reputation":3473,"user_id":8082162,"accept_rate":71,"display_name":"aschoerk"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1511540143,"creation_date":1511539826,"answer_id":47476818,"question_id":47441027,"body_markdown":"**Pessimistic** locking normally involves writelocks to the database to do changes in a safe and exclusive way. This is normally done by doing `select ... for update`. This will prevent or delay other connections from doing their own `select ... for update` or changes on the locked records  in the database until the transaction of the first connection is completed. \r\n\r\n**Serializable Isolation Level** does not need to be concerned with changes but makes sure that after the transaction started, the result of reads will always stay the same (except changes by the transaction itself) until that transactions ends. To support this &quot;Non-MVCC&quot;-DBMS must set many locks (on each record read by the connection working serializable) in the database and therefore might hinder concurrency very much.\r\n \r\nThe same effect can also be achieved without locking when databases provide MVCC as do Oracle, MySql-INNODB, MariaDB, Postgres","title":"Pessimistic locking vs Serializable transaction isolation level","body":"<p><strong>Pessimistic</strong> locking normally involves writelocks to the database to do changes in a safe and exclusive way. This is normally done by doing <code>select ... for update</code>. This will prevent or delay other connections from doing their own <code>select ... for update</code> or changes on the locked records  in the database until the transaction of the first connection is completed. </p>\n\n<p><strong>Serializable Isolation Level</strong> does not need to be concerned with changes but makes sure that after the transaction started, the result of reads will always stay the same (except changes by the transaction itself) until that transactions ends. To support this \"Non-MVCC\"-DBMS must set many locks (on each record read by the connection working serializable) in the database and therefore might hinder concurrency very much.</p>\n\n<p>The same effect can also be achieved without locking when databases provide MVCC as do Oracle, MySql-INNODB, MariaDB, Postgres</p>\n"},{"tags":[],"owner":{"account_id":24224809,"reputation":363,"user_id":18179479,"display_name":"Mircea Sirghi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692518918,"creation_date":1689954538,"answer_id":76739449,"question_id":47441027,"body_markdown":"**Isolation level** is a restriction on what data are viewable within a transaction.\r\n\r\n**Serializable isolation** succeeds if only no data has been changed by other transactions prior to commit. The inherent implementation should not generate deadlocks.\r\n\r\nSerializable isolation is expensive as additional checks are made to assure consistency. Thus a less restrictive isolation is used and access to critical sections is synchronized through Pessimistic/Optimistic locking.\r\n\r\n**Pessimistic lock** is a try to lock a resource, otherwise transaction fails. This is **Fail Fast** pattern from the Transaction perspective, this is a true source of dead-locks. This is not a transaction isolation, it is a type of synchronization over concurrently accessed database content. \r\n\r\n\r\n**Optimistic lock** is not a lock at all, it is just a version check prior to commit. ","title":"Pessimistic locking vs Serializable transaction isolation level","body":"<p><strong>Isolation level</strong> is a restriction on what data are viewable within a transaction.</p>\n<p><strong>Serializable isolation</strong> succeeds if only no data has been changed by other transactions prior to commit. The inherent implementation should not generate deadlocks.</p>\n<p>Serializable isolation is expensive as additional checks are made to assure consistency. Thus a less restrictive isolation is used and access to critical sections is synchronized through Pessimistic/Optimistic locking.</p>\n<p><strong>Pessimistic lock</strong> is a try to lock a resource, otherwise transaction fails. This is <strong>Fail Fast</strong> pattern from the Transaction perspective, this is a true source of dead-locks. This is not a transaction isolation, it is a type of synchronization over concurrently accessed database content.</p>\n<p><strong>Optimistic lock</strong> is not a lock at all, it is just a version check prior to commit.</p>\n"}],"owner":{"account_id":3189025,"reputation":2094,"user_id":2693851,"accept_rate":65,"display_name":"Leonid Bor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7403,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":3,"score":22,"last_activity_date":1692518918,"creation_date":1511373019,"question_id":47441027,"body_markdown":"I kinda understand the purpose of entity locking and transaction isolation level, but can&#39;t get the difference between pessimistic locking and serializable level. As I understand, in both cases the table gets locked and no other transaction can access it, so in both cases actions to prevent concurrent modifications are taken by the DB, which looks like there&#39;s no difference. Could someone please explain if there actually is difference here?","title":"Pessimistic locking vs Serializable transaction isolation level","body":"<p>I kinda understand the purpose of entity locking and transaction isolation level, but can't get the difference between pessimistic locking and serializable level. As I understand, in both cases the table gets locked and no other transaction can access it, so in both cases actions to prevent concurrent modifications are taken by the DB, which looks like there's no difference. Could someone please explain if there actually is difference here?</p>\n"},{"tags":["java","apache-camel","dsl","spring-camel"],"answers":[{"tags":[],"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1511341378,"creation_date":1511341222,"answer_id":47430477,"question_id":47429592,"body_markdown":"That is because in case of `localhost:8080/url`, after appending it becomes like this \r\n\r\n`localhost:8080/url&amp;throwExceptionOnFailure=false`   \r\nwhich is wrong   \r\nIt should be   \r\n`localhost:8080/url?throwExceptionOnFailure=false`,   \r\nIn the first case it works you already have a requestpatam(`?action=myaction`) so the next one can be added with ampersand(&amp;)","title":"Camel - how to add request parameter(throwExceptionOnFailure) to url?","body":"<p>That is because in case of <code>localhost:8080/url</code>, after appending it becomes like this </p>\n\n<p><code>localhost:8080/url&amp;throwExceptionOnFailure=false</code><br>\nwhich is wrong<br>\nIt should be<br>\n<code>localhost:8080/url?throwExceptionOnFailure=false</code>,<br>\nIn the first case it works you already have a requestpatam(<code>?action=myaction</code>) so the next one can be added with ampersand(&amp;)</p>\n"},{"tags":[],"owner":{"account_id":1432365,"reputation":1061,"user_id":1354502,"display_name":"Ricardo Zanini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692518542,"creation_date":1511369151,"answer_id":47439934,"question_id":47429592,"body_markdown":"I think you have to add your own logic to compose the endpoint to the `http` component at the runtime. This is because the `CamelContext` will process it during the route itself. The parameter `throwExceptionOnFailure` is a property from the `http` component.\r\n\r\nI don&#39;t think that adding the parameter via `.setHeader(Exchange.HTTP_QUERY, constant(&quot;throwExceptionOnFailure=false&quot;))` shoud work because these parameters will be evaluated after the `http` component get processed, e.g. into the URL destination. Please, take a look at [&quot;How to use a dynamic URI in to()&quot;][1]:\r\n\r\n    .toD(pushProperties.getUrl() + &quot;&amp;throwExceptionOnFailure=false&quot;)\r\n\r\nYou could use the [simple expression][2] to write a logic to do what you want based on the result of `pushProperties.getUrl()`.\r\n\r\n\r\n  [1]: https://camel.apache.org/manual/faq/how-to-use-a-dynamic-uri-in-to.html\r\n  [2]: https://camel.apache.org/components/next/languages/simple-language.html","title":"Camel - how to add request parameter(throwExceptionOnFailure) to url?","body":"<p>I think you have to add your own logic to compose the endpoint to the <code>http</code> component at the runtime. This is because the <code>CamelContext</code> will process it during the route itself. The parameter <code>throwExceptionOnFailure</code> is a property from the <code>http</code> component.</p>\n<p>I don't think that adding the parameter via <code>.setHeader(Exchange.HTTP_QUERY, constant(&quot;throwExceptionOnFailure=false&quot;))</code> shoud work because these parameters will be evaluated after the <code>http</code> component get processed, e.g. into the URL destination. Please, take a look at <a href=\"https://camel.apache.org/manual/faq/how-to-use-a-dynamic-uri-in-to.html\" rel=\"nofollow noreferrer\">&quot;How to use a dynamic URI in to()&quot;</a>:</p>\n<pre><code>.toD(pushProperties.getUrl() + &quot;&amp;throwExceptionOnFailure=false&quot;)\n</code></pre>\n<p>You could use the <a href=\"https://camel.apache.org/components/next/languages/simple-language.html\" rel=\"nofollow noreferrer\">simple expression</a> to write a logic to do what you want based on the result of <code>pushProperties.getUrl()</code>.</p>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672320517,"creation_date":1672320517,"answer_id":74951718,"question_id":47429592,"body_markdown":"I don&#39;t like how Camel configure HTTP component in this case, but this is what  it is.\r\n\r\nWhat I suggest is to create a map of config, and append your args to it, and do a manual join with &quot;&amp;&quot;, then append it to the main url.\r\n\r\nI do it like:\r\n\r\n```java\r\npublic class MyProcessor {\r\n    /**\r\n     * Part of Camel HTTP component config are done with URL query parameters.\r\n     */\r\n    private static final Map&lt;String, String&gt; COMMON_QUERY_PARAMS = Map.of(\r\n            // do not throw HttpOperationFailedException; we handle them ourselves\r\n            &quot;throwExceptionOnFailure&quot;, &quot;false&quot;\r\n    );\r\n\r\n    @Handler\r\n    void configure(Exchange exchange, ...) {\r\n        ...\r\n        Map&lt;String, String&gt; queryParams = new HashMap&lt;&gt;();\r\n        queryParams.put(&quot;foo&quot;, &quot;bar&quot;);\r\n        message.setHeader(Exchange.HTTP_QUERY, mergeAndJoin(queryParams));\r\n        ...\r\n    }\r\n    \r\n    private String mergeAndJoin(Map&lt;String, String&gt; queryParams) {\r\n        // make sure HTTP config params put after event params\r\n        return Stream.concat(queryParams.entrySet().stream(), COMMON_QUERY_PARAMS.entrySet().stream())\r\n                .map(entry -&gt; entry.getKey() + &quot;=&quot; + entry.getValue())\r\n                .collect(Collectors.joining(&quot;&amp;&quot;));\r\n    }\r\n\r\n}\r\n```\r\n\r\nNote that toD needs optimization but in that case, HTTP_QUERY cannot be used. \r\n\r\n&gt; When the optimised component is in use, then you cannot use the headers Exchange.HTTP_PATH and Exchange.HTTP_QUERY to provide dynamic values to override the uri in toD. If you want to use these headers, then use the plain to DSL instead. In other words these headers are used internally by toD to carry the dynamic details of the endpoint.\r\n\r\nhttps://camel.apache.org/components/3.20.x/eips/toD-eip.html","title":"Camel - how to add request parameter(throwExceptionOnFailure) to url?","body":"<p>I don't like how Camel configure HTTP component in this case, but this is what  it is.</p>\n<p>What I suggest is to create a map of config, and append your args to it, and do a manual join with &quot;&amp;&quot;, then append it to the main url.</p>\n<p>I do it like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyProcessor {\n    /**\n     * Part of Camel HTTP component config are done with URL query parameters.\n     */\n    private static final Map&lt;String, String&gt; COMMON_QUERY_PARAMS = Map.of(\n            // do not throw HttpOperationFailedException; we handle them ourselves\n            &quot;throwExceptionOnFailure&quot;, &quot;false&quot;\n    );\n\n    @Handler\n    void configure(Exchange exchange, ...) {\n        ...\n        Map&lt;String, String&gt; queryParams = new HashMap&lt;&gt;();\n        queryParams.put(&quot;foo&quot;, &quot;bar&quot;);\n        message.setHeader(Exchange.HTTP_QUERY, mergeAndJoin(queryParams));\n        ...\n    }\n    \n    private String mergeAndJoin(Map&lt;String, String&gt; queryParams) {\n        // make sure HTTP config params put after event params\n        return Stream.concat(queryParams.entrySet().stream(), COMMON_QUERY_PARAMS.entrySet().stream())\n                .map(entry -&gt; entry.getKey() + &quot;=&quot; + entry.getValue())\n                .collect(Collectors.joining(&quot;&amp;&quot;));\n    }\n\n}\n</code></pre>\n<p>Note that toD needs optimization but in that case, HTTP_QUERY cannot be used.</p>\n<blockquote>\n<p>When the optimised component is in use, then you cannot use the headers Exchange.HTTP_PATH and Exchange.HTTP_QUERY to provide dynamic values to override the uri in toD. If you want to use these headers, then use the plain to DSL instead. In other words these headers are used internally by toD to carry the dynamic details of the endpoint.</p>\n</blockquote>\n<p><a href=\"https://camel.apache.org/components/3.20.x/eips/toD-eip.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.20.x/eips/toD-eip.html</a></p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2866,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1692518542,"creation_date":1511337958,"question_id":47429592,"body_markdown":"I hav following route:\r\n \r\n    from(&quot;quartz2:findAll//myGroup/myTimerName?cron=&quot; + pushProperties.getQuartz())\r\n                    //.setBody().constant(&quot;{ \\&quot;id\\&quot;: \\&quot;FBJDBFJHSDBFJSBDfi\\&quot; }&quot;)\r\n                    .to(&quot;mongodb:mongoBean?database=&quot; + mongoDataConfiguration.getDatabase()\r\n                            + &quot;&amp;operation=findAll&amp;collection=&quot; + mongoDataConfiguration.getDataPointCollection())\r\n                    .process(exchange -&gt; {\r\n                        exchange.getIn().setBody(objectMapper.writeValueAsString(exchange.getIn().getBody()));\r\n                    }).streamCaching()\r\n                    .setHeader(Exchange.HTTP_METHOD, constant(pushProperties.getHttpMethod()))\r\n                    .setHeader(Exchange.CONTENT_TYPE, constant(MediaType.APPLICATION_JSON_VALUE))                    \r\n                    .to(pushProperties.getUrl() + &quot;&amp;throwExceptionOnFailure=false&quot;).streamCaching()\r\n\r\n\r\nAs you can see I use `throwExceptionOnFailure=false`\r\n\r\nand I take my url from configuration. But we found out that it works if \r\n\r\n`pushProperties.getUrl()` = `localhost:8080/url?action=myaction`\r\n\r\nand doesn&#39;t work in case of \r\n\r\n`pushProperties.getUrl()` = `localhost:8080/url`\r\n\r\nIs there universla way in camel to add request parameter to URL?\r\n\r\nsomething like:\r\n\r\n    private String buildUrl() {\r\n        String url = pushProperties.getUrl();\r\n        return url + (url.contains(&quot;?&quot;) ? &quot;&amp;&quot; : &quot;?&quot;) + &quot;throwExceptionOnFailure=false&quot;;\r\n    }\r\n\r\ninside Camel api","title":"Camel - how to add request parameter(throwExceptionOnFailure) to url?","body":"<p>I hav following route:</p>\n\n<pre><code>from(\"quartz2:findAll//myGroup/myTimerName?cron=\" + pushProperties.getQuartz())\n                //.setBody().constant(\"{ \\\"id\\\": \\\"FBJDBFJHSDBFJSBDfi\\\" }\")\n                .to(\"mongodb:mongoBean?database=\" + mongoDataConfiguration.getDatabase()\n                        + \"&amp;operation=findAll&amp;collection=\" + mongoDataConfiguration.getDataPointCollection())\n                .process(exchange -&gt; {\n                    exchange.getIn().setBody(objectMapper.writeValueAsString(exchange.getIn().getBody()));\n                }).streamCaching()\n                .setHeader(Exchange.HTTP_METHOD, constant(pushProperties.getHttpMethod()))\n                .setHeader(Exchange.CONTENT_TYPE, constant(MediaType.APPLICATION_JSON_VALUE))                    \n                .to(pushProperties.getUrl() + \"&amp;throwExceptionOnFailure=false\").streamCaching()\n</code></pre>\n\n<p>As you can see I use <code>throwExceptionOnFailure=false</code></p>\n\n<p>and I take my url from configuration. But we found out that it works if </p>\n\n<p><code>pushProperties.getUrl()</code> = <code>localhost:8080/url?action=myaction</code></p>\n\n<p>and doesn't work in case of </p>\n\n<p><code>pushProperties.getUrl()</code> = <code>localhost:8080/url</code></p>\n\n<p>Is there universla way in camel to add request parameter to URL?</p>\n\n<p>something like:</p>\n\n<pre><code>private String buildUrl() {\n    String url = pushProperties.getUrl();\n    return url + (url.contains(\"?\") ? \"&amp;\" : \"?\") + \"throwExceptionOnFailure=false\";\n}\n</code></pre>\n\n<p>inside Camel api</p>\n"},{"tags":["java","jar","noclassdeffounderror","bukkit","spigot"],"comments":[{"owner":{"account_id":259805,"reputation":386,"user_id":542938,"display_name":"vivek"},"score":0,"creation_date":1691587202,"post_id":76868115,"comment_id":135511660,"body_markdown":"Do you see that class in the obliviate jar?","body":"Do you see that class in the obliviate jar?"},{"owner":{"account_id":28047938,"reputation":33,"user_id":21424354,"display_name":"Timas_bro"},"score":0,"creation_date":1691587666,"post_id":76868115,"comment_id":135511782,"body_markdown":"yes, it is here, in mc.obliviate.inventory.Gui","body":"yes, it is here, in mc.obliviate.inventory.Gui"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691588676,"post_id":76868115,"comment_id":135512032,"body_markdown":"*Megabox_clans plugin;* We can&#39;t test without that. You really need to provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) but if that class will do it, then you can post that","body":"<i>Megabox_clans plugin;</i> We can&#39;t test without that. You really need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> but if that class will do it, then you can post that"},{"owner":{"account_id":28047938,"reputation":33,"user_id":21424354,"display_name":"Timas_bro"},"score":0,"creation_date":1691592891,"post_id":76868115,"comment_id":135513067,"body_markdown":"i added it @g00se","body":"i added it @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691593906,"post_id":76868115,"comment_id":135513309,"body_markdown":"You didn&#39;t read my comment carefully enough: *but if that class will do it* It *doesn&#39;t* do it","body":"You didn&#39;t read my comment carefully enough: <i>but if that class will do it</i> It <i>doesn&#39;t</i> do it"},{"owner":{"account_id":28047938,"reputation":33,"user_id":21424354,"display_name":"Timas_bro"},"score":0,"creation_date":1691598470,"post_id":76868115,"comment_id":135514360,"body_markdown":"Is this not an MRE?","body":"Is this not an MRE?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691599523,"post_id":76868115,"comment_id":135514562,"body_markdown":"No, as it won&#39;t compile","body":"No, as it won&#39;t compile"},{"owner":{"account_id":213468,"reputation":103490,"user_id":466862,"display_name":"Mark Rotteveel"},"score":4,"creation_date":1691605546,"post_id":76868115,"comment_id":135515607,"body_markdown":"_&quot;Even GPT can&#39;t help.&quot;_ that is because ChatGPT is nothing more than a convincing bullshit generator. It can generate beautiful text, but a lot of the time it simply comes up with plausible sounding nonsense instead of things actually grounded in reality (or it may have one foot on the ground, and the other foot in Wonderland).","body":"<i>&quot;Even GPT can&#39;t help.&quot;</i> that is because ChatGPT is nothing more than a convincing bullshit generator. It can generate beautiful text, but a lot of the time it simply comes up with plausible sounding nonsense instead of things actually grounded in reality (or it may have one foot on the ground, and the other foot in Wonderland)."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1691613366,"post_id":76868115,"comment_id":135516856,"body_markdown":"@AnstonSorensen: that&#39;s not how the site works. If the OP does this and you solve the issue, the question will remain unhelpful to future visitors. Better to encourage the OP to fix the question so that it does in fact represent a valid [mre] and so that the code in the question itself shows the source of the error.","body":"@AnstonSorensen: that&#39;s not how the site works. If the OP does this and you solve the issue, the question will remain unhelpful to future visitors. Better to encourage the OP to fix the question so that it does in fact represent a valid <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and so that the code in the question itself shows the source of the error."},{"owner":{"account_id":15915140,"reputation":323,"user_id":11483947,"display_name":"Anston Sorensen"},"score":0,"creation_date":1691618734,"post_id":76868115,"comment_id":135517714,"body_markdown":"@HovercraftFullOfEels Well I thought I could answer with the fix to the code if I figured out how to fix it from the jar, but okay","body":"@HovercraftFullOfEels Well I thought I could answer with the fix to the code if I figured out how to fix it from the jar, but okay"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1691649063,"post_id":76868115,"comment_id":135520418,"body_markdown":"Are you sure the plugin that as classes `mc.obliviate.inventory` did well started? You can add it in your dependancy in the `plugin.yml`. Also, I suggest you to check for camel case formatting in your naming convention","body":"Are you sure the plugin that as classes <code>mc.obliviate.inventory</code> did well started? You can add it in your dependancy in the <code>plugin.yml</code>. Also, I suggest you to check for camel case formatting in your naming convention"},{"owner":{"account_id":28047938,"reputation":33,"user_id":21424354,"display_name":"Timas_bro"},"score":0,"creation_date":1691676273,"post_id":76868115,"comment_id":135525936,"body_markdown":"@AnstonSorensen where I can send it to you?","body":"@AnstonSorensen where I can send it to you?"},{"owner":{"account_id":28047938,"reputation":33,"user_id":21424354,"display_name":"Timas_bro"},"score":0,"creation_date":1691676304,"post_id":76868115,"comment_id":135525947,"body_markdown":"@Elikill58 I am not sure, thats why I ask here this question","body":"@Elikill58 I am not sure, thats why I ask here this question"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1691681564,"post_id":76868115,"comment_id":135527269,"body_markdown":"We can&#39;t check for you. Check logs of your server and you will see if the plugin that contains it is well loaded","body":"We can&#39;t check for you. Check logs of your server and you will see if the plugin that contains it is well loaded"},{"owner":{"account_id":15915140,"reputation":323,"user_id":11483947,"display_name":"Anston Sorensen"},"score":0,"creation_date":1691701732,"post_id":76868115,"comment_id":135531097,"body_markdown":"@Timas_bro Just email me a zip file or jar file at ansorensen1118@gmail.com","body":"@Timas_bro Just email me a zip file or jar file at ansorensen1118@gmail.com"},{"owner":{"account_id":28047938,"reputation":33,"user_id":21424354,"display_name":"Timas_bro"},"score":0,"creation_date":1691738762,"post_id":76868115,"comment_id":135535006,"body_markdown":"@AnstonSorensen i emailed you","body":"@AnstonSorensen i emailed you"},{"owner":{"account_id":28047938,"reputation":33,"user_id":21424354,"display_name":"Timas_bro"},"score":0,"creation_date":1691738864,"post_id":76868115,"comment_id":135535019,"body_markdown":"@Elikill58 it loaded just fine, in the jar all I can find is my classes, plugin and config.yml. I have error message in my question.","body":"@Elikill58 it loaded just fine, in the jar all I can find is my classes, plugin and config.yml. I have error message in my question."},{"owner":{"account_id":15915140,"reputation":323,"user_id":11483947,"display_name":"Anston Sorensen"},"score":0,"creation_date":1691793274,"post_id":76868115,"comment_id":135544572,"body_markdown":"@Timas_bro Yeah, I tested your plugin and I don&#39;t get any class not found error. Make sure all your Maven plugins are up to date. I noticed that your Maven Jar plugin is on version 2.4 which was last updated in 2012 lol!","body":"@Timas_bro Yeah, I tested your plugin and I don&#39;t get any class not found error. Make sure all your Maven plugins are up to date. I noticed that your Maven Jar plugin is on version 2.4 which was last updated in 2012 lol!"},{"owner":{"account_id":15915140,"reputation":323,"user_id":11483947,"display_name":"Anston Sorensen"},"score":0,"creation_date":1691793596,"post_id":76868115,"comment_id":135544606,"body_markdown":"But yeah when I run /mtitle menu it just sends me a message &quot;huy&quot;. Also, keep all your dependencies in the jar after it&#39;s built because when I build it there are a bunch of dependencies in the jar, but your jar only has the org.timuzkas. Just want to make sure you&#39;re not deleting files or anything","body":"But yeah when I run /mtitle menu it just sends me a message &quot;huy&quot;. Also, keep all your dependencies in the jar after it&#39;s built because when I build it there are a bunch of dependencies in the jar, but your jar only has the org.timuzkas. Just want to make sure you&#39;re not deleting files or anything"},{"owner":{"account_id":28047938,"reputation":33,"user_id":21424354,"display_name":"Timas_bro"},"score":0,"creation_date":1692342053,"post_id":76868115,"comment_id":135612500,"body_markdown":"How to include all dependencies. I tried all day trough. Maven shade, maven jar plugins. I just can&#39;t. can you help me? I stuck with this error for weeks.","body":"How to include all dependencies. I tried all day trough. Maven shade, maven jar plugins. I just can&#39;t. can you help me? I stuck with this error for weeks."},{"owner":{"account_id":28047938,"reputation":33,"user_id":21424354,"display_name":"Timas_bro"},"score":0,"creation_date":1692342118,"post_id":76868115,"comment_id":135612514,"body_markdown":"@AnstonSorensen and it should open you a GUI. In command class i have that new mtitleGui(Bukkit.getOfflinePlayer(sender.getName()).getPlayer(), plugin);","body":"@AnstonSorensen and it should open you a GUI. In command class i have that new mtitleGui(Bukkit.getOfflinePlayer(sender.getName()).getPlaye&zwnj;&#8203;r(), plugin);"},{"owner":{"account_id":28047938,"reputation":33,"user_id":21424354,"display_name":"Timas_bro"},"score":0,"creation_date":1692518139,"post_id":76868115,"comment_id":135632215,"body_markdown":"I fixed it! Finally!","body":"I fixed it! Finally!"}],"owner":{"account_id":28047938,"reputation":33,"user_id":21424354,"display_name":"Timas_bro"},"comment_count":22,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692518082,"creation_date":1691586489,"question_id":76868115,"body_markdown":"I just added new dependency:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.hamza-cskn.obliviate-invs&lt;/groupId&gt;\r\n    &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n    &lt;version&gt;4.1.13&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nAnd now I am getting NoClassDef error. Creator of that library says it is not his fault. \r\n\r\nHere&#39;s the full pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.timuzkas&lt;/groupId&gt;\r\n    &lt;artifactId&gt;megabox-clans&lt;/artifactId&gt;\r\n    &lt;version&gt;0.4&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;megabox-clans&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                            &lt;mainClass&gt;org.timuzkas.megaboxclans.Megabox_clans&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;papermc-repo&lt;/id&gt;\r\n            &lt;url&gt;https://repo.papermc.io/repository/maven-public/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;sonatype&lt;/id&gt;\r\n            &lt;url&gt;https://oss.sonatype.org/content/groups/public/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;placeholderapi&lt;/id&gt;\r\n            &lt;url&gt;https://repo.extendedclip.com/content/repositories/placeholderapi/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;jitpack.io&lt;/id&gt;\r\n            &lt;url&gt;https://jitpack.io&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;minebench-repo&lt;/id&gt;\r\n            &lt;url&gt;https://repo.minebench.de/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.destroystokyo.paper&lt;/groupId&gt;\r\n            &lt;artifactId&gt;paper-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.5-R0.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.MilkBowl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;VaultAPI&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.6.0&lt;/version&gt;\r\n            &lt;type&gt;maven-plugin&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.hamza-cskn.obliviate-invs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;me.clip&lt;/groupId&gt;\r\n            &lt;artifactId&gt;placeholderapi&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.3&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\nError:\r\n\r\n```\r\n[12:55:07 WARN]: Unexpected exception while parsing console command &quot;mtitle menu&quot;\r\norg.bukkit.command.CommandException: Unhandled exception executing command &#39;mtitle&#39; in plugin megabox-clans v0.4\r\n        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:47) ~[patched_1.16.5.jar:git-Purpur-1171]\r\n        at org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:172) ~[patched_1.16.5.jar:git-Purpur-1171]\r\n        at org.bukkit.craftbukkit.v1_16_R3.CraftServer.dispatchCommand(CraftServer.java:826) ~[patched_1.16.5.jar:git-Purpur-1171]\r\n        at org.bukkit.craftbukkit.v1_16_R3.CraftServer.dispatchServerCommand(CraftServer.java:788) ~[patched_1.16.5.jar:git-Purpur-1171]\r\n        at net.minecraft.server.v1_16_R3.DedicatedServer.handleCommandQueue(DedicatedServer.java:483) ~[patched_1.16.5.jar:git-Purpur-1171]\r\n        at net.minecraft.server.v1_16_R3.DedicatedServer.b(DedicatedServer.java:450) ~[patched_1.16.5.jar:git-Purpur-1171]\r\n        at net.minecraft.server.v1_16_R3.MinecraftServer.a(MinecraftServer.java:1416) ~[patched_1.16.5.jar:git-Purpur-1171]\r\n        at net.minecraft.server.v1_16_R3.MinecraftServer.w(MinecraftServer.java:1142) ~[patched_1.16.5.jar:git-Purpur-1171]\r\n        at net.minecraft.server.v1_16_R3.MinecraftServer.lambda$a$0(MinecraftServer.java:293) ~[patched_1.16.5.jar:git-Purpur-1171]\r\n        at java.lang.Thread.run(Thread.java:831) [?:?]\r\nCaused by: java.lang.NoClassDefFoundError: mc/obliviate/inventory/Gui\r\n        at org.timuzkas.megaboxclans.mtitle.onCommand(mtitle.java:241) ~[?:?]\r\n        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:45) ~[patched_1.16.5.jar:git-Purpur-1171]\r\n        ... 9 more\r\n```\r\nCommand handler (not full):\r\n```\r\n} else if (args[0].equalsIgnoreCase(&quot;menu&quot;)) {\r\n                new mtitleGui(Bukkit.getOfflinePlayer(sender.getName()).getPlayer(), plugin);\r\n            }\r\n```\r\nGUI class:\r\n```\r\npackage org.timuzkas.megaboxclans;\r\n\r\nimport mc.obliviate.inventory.Gui;\r\nimport mc.obliviate.inventory.Icon;\r\nimport mc.obliviate.*;\r\nimport org.bukkit.Bukkit;\r\nimport org.bukkit.ChatColor;\r\nimport org.bukkit.Material;\r\nimport org.bukkit.command.CommandSender;\r\nimport org.bukkit.configuration.Configuration;\r\nimport org.bukkit.enchantments.Enchantment;\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.event.inventory.InventoryClickEvent;\r\nimport org.bukkit.event.inventory.InventoryCloseEvent;\r\nimport org.bukkit.event.inventory.InventoryOpenEvent;\r\nimport org.bukkit.inventory.ItemStack;\r\n\r\nimport java.util.List;\r\n\r\npublic class mtitleGui extends Gui {\r\n\r\n    Megabox_clans plugin;\r\n\r\n    public String convertColors(String input) {\r\n        // Convert &quot;&amp;&quot; color codes\r\n        String converted = ChatColor.translateAlternateColorCodes(&#39;&amp;&#39;, input);\r\n\r\n        // Convert hex color codes\r\n        converted = converted.replaceAll(&quot;#([A-Fa-f0-9]{6})&quot;, ChatColor.COLOR_CHAR + &quot;x$1&quot;);\r\n\r\n        return converted;\r\n    }\r\n\r\n    public mtitleGui(Player player, Megabox_clans plugin) {\r\n        super(player, &quot;mtitle&quot;, &quot;Титулы&quot;, 6);\r\n        this.plugin = plugin;\r\n    }\r\n\r\n    @Override\r\n    public void onOpen(InventoryOpenEvent event) {\r\n        for (int i = 0; i == 9; i++) {\r\n            if (i == 5) {\r\n                addItem(new Icon(Material.EMERALD).setName(&quot;Меню титулов&quot;).setLore(&quot;Специально для megabox&quot;));\r\n            } else {\r\n                addItem(Material.GRAY_STAINED_GLASS_PANE);\r\n            }\r\n        }\r\n        Icon info = new Icon(Material.PAPER).setName(&quot;Информация&quot;).appendLore(&quot;Титулы можно получать разными способами&quot;).appendLore(&quot;Получить от админов, купить&quot;).appendLore(&quot;Получить в розыгрыше&quot;).setAmount(1).hideFlags();\r\n        addItem(10, info);\r\n        for (int i = 0; i &lt; 9; i++) {\r\n            addItem(19 + i, Material.GRAY_STAINED_GLASS_PANE);\r\n        }\r\n        //--\r\n        Configuration cf = plugin.getConfig();\r\n        List titleslist = plugin.getConfig().getList(&quot;players.&quot; + player.getName() + &quot;.titleslist&quot;);\r\n        for (int i = 0; i &lt; titleslist.size(); i++) {\r\n            int finalI = i;\r\n            addItem(28 + i, new Icon(Material.NAME_TAG).setName(convertColors(cf.getString(&quot;titles.&quot; + titleslist.get(i) + &quot;.prefix&quot;))).setLore(&quot;Клик чтобы установить&quot;).onClick(e -&gt; {\r\n                e.getWhoClicked().closeInventory();\r\n                Player pl = Bukkit.getOfflinePlayer(e.getWhoClicked().getName()).getPlayer();\r\n                pl.sendMessage(convertColors(&quot;&amp;a&amp;lТитул установлен!&quot;));\r\n                cf.set(&quot;players.&quot; + pl.getName() + &quot;.set_title&quot;, titleslist.get(finalI));\r\n            }));\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nI also tried One-Jar, but I can&#39;t get it to work.\r\n\r\nFix this error. I need it to run from .jar file. I am using PaperSpigot API, IntellijIDEA, Maven, and some dependencies\r\n\r\n\r\nEDI. Megabox_clans or main class added:\r\n```\r\npackage org.timuzkas.megaboxclans;\r\n\r\nimport com.google.gson.JsonArray;\r\nimport com.google.gson.JsonObject;\r\nimport com.google.gson.JsonParser;\r\nimport net.milkbowl.vault.economy.Economy;\r\nimport org.bukkit.Bukkit;\r\nimport org.bukkit.ChatColor;\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.event.Listener;\r\nimport org.bukkit.plugin.PluginManager;\r\nimport org.bukkit.plugin.RegisteredServiceProvider;\r\nimport org.bukkit.plugin.java.JavaPlugin;\r\nimport org.timuzkas.megaboxclans.commandtabcompleters.clanCompletion;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\n\r\npublic final class Megabox_clans extends JavaPlugin {\r\n\r\n\r\n    String prefix  = &quot;[MEGABOX | CLANS]&quot;;\r\n\r\n    private static Economy econ = null;\r\n\r\n    public void log(String msg) {\r\n        getLogger().info(msg);\r\n    }\r\n\r\n    private boolean setupEconomy() {\r\n        if (getServer().getPluginManager().getPlugin(&quot;Vault&quot;) == null) {\r\n            return false;\r\n        }\r\n        RegisteredServiceProvider&lt;Economy&gt; rsp = getServer().getServicesManager().getRegistration(Economy.class);\r\n        if (rsp == null) {\r\n            return false;\r\n        }\r\n        econ = rsp.getProvider();\r\n        return econ != null;\r\n    }\r\n    @Override\r\n    public void onEnable() {\r\n        PluginManager pluginManager = Bukkit.getPluginManager();\r\n        pluginManager.registerEvents(new PlayerLeaveListener(this), this);\r\n        saveDefaultConfig();\r\n        log (&quot;Hooking PAPI...&quot;);\r\n        if(Bukkit.getPluginManager().getPlugin(&quot;PlaceholderAPI&quot;) != null) {\r\n            new PAPIExpansion(this).register();\r\n        }\r\n        log(&quot;Creating commands...&quot;);\r\n        this.getCommand(&quot;clan&quot;).setExecutor(new Commands(this));\r\n        this.getCommand(&quot;tech&quot;).setExecutor(new CommandTech(this));\r\n        this.getCommand(&quot;mtitle&quot;).setExecutor(new mtitle(this));\r\n        this.getCommand(&quot;mhec&quot;).setExecutor(new CommandProverka(this));\r\n        //- Completers\r\n        this.getCommand(&quot;clan&quot;).setTabCompleter(new clanCompletion(this));\r\n        //-Economy\r\n        if (!setupEconomy() ) {\r\n            getLogger().severe(String.format(&quot;[%s] - Плагин Vault не найден, или нету экономики! Я выключаюсь, бип, боп!!&quot;, getDescription().getName()));\r\n            getServer().getPluginManager().disablePlugin(this);\r\n            return;\r\n        }\r\n//--\r\n\r\n\r\n\r\n        File myfile = new File(&quot;plugins/Megabox_clans/playerdata.yml&quot;);\r\n        if (!myfile.exists()) {\r\n            try {\r\n                myfile.createNewFile();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        //-----\r\n\r\n        File myfile2 = new File(&quot;plugins/Megabox_clans/clans.yml&quot;);\r\n        if (!myfile2.exists()) {\r\n            try {\r\n                myfile2.createNewFile();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        //-----\r\n\r\n\r\n\r\n    }\r\n\r\n    public static Economy getEconomy() {\r\n        return econ;\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onDisable() {\r\n        log(&quot;Пока пупсики!&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI FIXED IT! Idk how, but it now works! Thanks ya` all!","title":"Getting NoClassDefFoundError in jar file","body":"<p>I just added new dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.hamza-cskn.obliviate-invs&lt;/groupId&gt;\n    &lt;artifactId&gt;core&lt;/artifactId&gt;\n    &lt;version&gt;4.1.13&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And now I am getting NoClassDef error. Creator of that library says it is not his fault.</p>\n<p>Here's the full pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.timuzkas&lt;/groupId&gt;\n    &lt;artifactId&gt;megabox-clans&lt;/artifactId&gt;\n    &lt;version&gt;0.4&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;megabox-clans&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                            &lt;mainClass&gt;org.timuzkas.megaboxclans.Megabox_clans&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;papermc-repo&lt;/id&gt;\n            &lt;url&gt;https://repo.papermc.io/repository/maven-public/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;sonatype&lt;/id&gt;\n            &lt;url&gt;https://oss.sonatype.org/content/groups/public/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;placeholderapi&lt;/id&gt;\n            &lt;url&gt;https://repo.extendedclip.com/content/repositories/placeholderapi/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;jitpack.io&lt;/id&gt;\n            &lt;url&gt;https://jitpack.io&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;minebench-repo&lt;/id&gt;\n            &lt;url&gt;https://repo.minebench.de/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.destroystokyo.paper&lt;/groupId&gt;\n            &lt;artifactId&gt;paper-api&lt;/artifactId&gt;\n            &lt;version&gt;1.16.5-R0.1-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.MilkBowl&lt;/groupId&gt;\n            &lt;artifactId&gt;VaultAPI&lt;/artifactId&gt;\n            &lt;version&gt;1.7&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.6.0&lt;/version&gt;\n            &lt;type&gt;maven-plugin&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.hamza-cskn.obliviate-invs&lt;/groupId&gt;\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\n            &lt;version&gt;4.1.13&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;me.clip&lt;/groupId&gt;\n            &lt;artifactId&gt;placeholderapi&lt;/artifactId&gt;\n            &lt;version&gt;2.11.3&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>Error:</p>\n<pre><code>[12:55:07 WARN]: Unexpected exception while parsing console command &quot;mtitle menu&quot;\norg.bukkit.command.CommandException: Unhandled exception executing command 'mtitle' in plugin megabox-clans v0.4\n        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:47) ~[patched_1.16.5.jar:git-Purpur-1171]\n        at org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:172) ~[patched_1.16.5.jar:git-Purpur-1171]\n        at org.bukkit.craftbukkit.v1_16_R3.CraftServer.dispatchCommand(CraftServer.java:826) ~[patched_1.16.5.jar:git-Purpur-1171]\n        at org.bukkit.craftbukkit.v1_16_R3.CraftServer.dispatchServerCommand(CraftServer.java:788) ~[patched_1.16.5.jar:git-Purpur-1171]\n        at net.minecraft.server.v1_16_R3.DedicatedServer.handleCommandQueue(DedicatedServer.java:483) ~[patched_1.16.5.jar:git-Purpur-1171]\n        at net.minecraft.server.v1_16_R3.DedicatedServer.b(DedicatedServer.java:450) ~[patched_1.16.5.jar:git-Purpur-1171]\n        at net.minecraft.server.v1_16_R3.MinecraftServer.a(MinecraftServer.java:1416) ~[patched_1.16.5.jar:git-Purpur-1171]\n        at net.minecraft.server.v1_16_R3.MinecraftServer.w(MinecraftServer.java:1142) ~[patched_1.16.5.jar:git-Purpur-1171]\n        at net.minecraft.server.v1_16_R3.MinecraftServer.lambda$a$0(MinecraftServer.java:293) ~[patched_1.16.5.jar:git-Purpur-1171]\n        at java.lang.Thread.run(Thread.java:831) [?:?]\nCaused by: java.lang.NoClassDefFoundError: mc/obliviate/inventory/Gui\n        at org.timuzkas.megaboxclans.mtitle.onCommand(mtitle.java:241) ~[?:?]\n        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:45) ~[patched_1.16.5.jar:git-Purpur-1171]\n        ... 9 more\n</code></pre>\n<p>Command handler (not full):</p>\n<pre><code>} else if (args[0].equalsIgnoreCase(&quot;menu&quot;)) {\n                new mtitleGui(Bukkit.getOfflinePlayer(sender.getName()).getPlayer(), plugin);\n            }\n</code></pre>\n<p>GUI class:</p>\n<pre><code>package org.timuzkas.megaboxclans;\n\nimport mc.obliviate.inventory.Gui;\nimport mc.obliviate.inventory.Icon;\nimport mc.obliviate.*;\nimport org.bukkit.Bukkit;\nimport org.bukkit.ChatColor;\nimport org.bukkit.Material;\nimport org.bukkit.command.CommandSender;\nimport org.bukkit.configuration.Configuration;\nimport org.bukkit.enchantments.Enchantment;\nimport org.bukkit.entity.Player;\nimport org.bukkit.event.inventory.InventoryClickEvent;\nimport org.bukkit.event.inventory.InventoryCloseEvent;\nimport org.bukkit.event.inventory.InventoryOpenEvent;\nimport org.bukkit.inventory.ItemStack;\n\nimport java.util.List;\n\npublic class mtitleGui extends Gui {\n\n    Megabox_clans plugin;\n\n    public String convertColors(String input) {\n        // Convert &quot;&amp;&quot; color codes\n        String converted = ChatColor.translateAlternateColorCodes('&amp;', input);\n\n        // Convert hex color codes\n        converted = converted.replaceAll(&quot;#([A-Fa-f0-9]{6})&quot;, ChatColor.COLOR_CHAR + &quot;x$1&quot;);\n\n        return converted;\n    }\n\n    public mtitleGui(Player player, Megabox_clans plugin) {\n        super(player, &quot;mtitle&quot;, &quot;Титулы&quot;, 6);\n        this.plugin = plugin;\n    }\n\n    @Override\n    public void onOpen(InventoryOpenEvent event) {\n        for (int i = 0; i == 9; i++) {\n            if (i == 5) {\n                addItem(new Icon(Material.EMERALD).setName(&quot;Меню титулов&quot;).setLore(&quot;Специально для megabox&quot;));\n            } else {\n                addItem(Material.GRAY_STAINED_GLASS_PANE);\n            }\n        }\n        Icon info = new Icon(Material.PAPER).setName(&quot;Информация&quot;).appendLore(&quot;Титулы можно получать разными способами&quot;).appendLore(&quot;Получить от админов, купить&quot;).appendLore(&quot;Получить в розыгрыше&quot;).setAmount(1).hideFlags();\n        addItem(10, info);\n        for (int i = 0; i &lt; 9; i++) {\n            addItem(19 + i, Material.GRAY_STAINED_GLASS_PANE);\n        }\n        //--\n        Configuration cf = plugin.getConfig();\n        List titleslist = plugin.getConfig().getList(&quot;players.&quot; + player.getName() + &quot;.titleslist&quot;);\n        for (int i = 0; i &lt; titleslist.size(); i++) {\n            int finalI = i;\n            addItem(28 + i, new Icon(Material.NAME_TAG).setName(convertColors(cf.getString(&quot;titles.&quot; + titleslist.get(i) + &quot;.prefix&quot;))).setLore(&quot;Клик чтобы установить&quot;).onClick(e -&gt; {\n                e.getWhoClicked().closeInventory();\n                Player pl = Bukkit.getOfflinePlayer(e.getWhoClicked().getName()).getPlayer();\n                pl.sendMessage(convertColors(&quot;&amp;a&amp;lТитул установлен!&quot;));\n                cf.set(&quot;players.&quot; + pl.getName() + &quot;.set_title&quot;, titleslist.get(finalI));\n            }));\n        }\n    }\n}\n\n</code></pre>\n<p>I also tried One-Jar, but I can't get it to work.</p>\n<p>Fix this error. I need it to run from .jar file. I am using PaperSpigot API, IntellijIDEA, Maven, and some dependencies</p>\n<p>EDI. Megabox_clans or main class added:</p>\n<pre><code>package org.timuzkas.megaboxclans;\n\nimport com.google.gson.JsonArray;\nimport com.google.gson.JsonObject;\nimport com.google.gson.JsonParser;\nimport net.milkbowl.vault.economy.Economy;\nimport org.bukkit.Bukkit;\nimport org.bukkit.ChatColor;\nimport org.bukkit.entity.Player;\nimport org.bukkit.event.Listener;\nimport org.bukkit.plugin.PluginManager;\nimport org.bukkit.plugin.RegisteredServiceProvider;\nimport org.bukkit.plugin.java.JavaPlugin;\nimport org.timuzkas.megaboxclans.commandtabcompleters.clanCompletion;\n\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\npublic final class Megabox_clans extends JavaPlugin {\n\n\n    String prefix  = &quot;[MEGABOX | CLANS]&quot;;\n\n    private static Economy econ = null;\n\n    public void log(String msg) {\n        getLogger().info(msg);\n    }\n\n    private boolean setupEconomy() {\n        if (getServer().getPluginManager().getPlugin(&quot;Vault&quot;) == null) {\n            return false;\n        }\n        RegisteredServiceProvider&lt;Economy&gt; rsp = getServer().getServicesManager().getRegistration(Economy.class);\n        if (rsp == null) {\n            return false;\n        }\n        econ = rsp.getProvider();\n        return econ != null;\n    }\n    @Override\n    public void onEnable() {\n        PluginManager pluginManager = Bukkit.getPluginManager();\n        pluginManager.registerEvents(new PlayerLeaveListener(this), this);\n        saveDefaultConfig();\n        log (&quot;Hooking PAPI...&quot;);\n        if(Bukkit.getPluginManager().getPlugin(&quot;PlaceholderAPI&quot;) != null) {\n            new PAPIExpansion(this).register();\n        }\n        log(&quot;Creating commands...&quot;);\n        this.getCommand(&quot;clan&quot;).setExecutor(new Commands(this));\n        this.getCommand(&quot;tech&quot;).setExecutor(new CommandTech(this));\n        this.getCommand(&quot;mtitle&quot;).setExecutor(new mtitle(this));\n        this.getCommand(&quot;mhec&quot;).setExecutor(new CommandProverka(this));\n        //- Completers\n        this.getCommand(&quot;clan&quot;).setTabCompleter(new clanCompletion(this));\n        //-Economy\n        if (!setupEconomy() ) {\n            getLogger().severe(String.format(&quot;[%s] - Плагин Vault не найден, или нету экономики! Я выключаюсь, бип, боп!!&quot;, getDescription().getName()));\n            getServer().getPluginManager().disablePlugin(this);\n            return;\n        }\n//--\n\n\n\n        File myfile = new File(&quot;plugins/Megabox_clans/playerdata.yml&quot;);\n        if (!myfile.exists()) {\n            try {\n                myfile.createNewFile();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n\n        //-----\n\n        File myfile2 = new File(&quot;plugins/Megabox_clans/clans.yml&quot;);\n        if (!myfile2.exists()) {\n            try {\n                myfile2.createNewFile();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n\n        //-----\n\n\n\n    }\n\n    public static Economy getEconomy() {\n        return econ;\n    }\n\n\n    @Override\n    public void onDisable() {\n        log(&quot;Пока пупсики!&quot;);\n    }\n}\n\n</code></pre>\n<p>I FIXED IT! Idk how, but it now works! Thanks ya` all!</p>\n"},{"tags":["java","hadoop","resourcemanager","hadoop3"],"comments":[{"owner":{"account_id":2175278,"reputation":1359,"user_id":1926087,"accept_rate":33,"display_name":"Sourav Gulati"},"score":0,"creation_date":1496904037,"post_id":44427653,"comment_id":75854699,"body_markdown":"What is the Java version and operating system that you are using ?","body":"What is the Java version and operating system that you are using ?"},{"owner":{"account_id":2739281,"reputation":1872,"user_id":2361174,"accept_rate":68,"display_name":"user2361174"},"score":0,"creation_date":1496904720,"post_id":44427653,"comment_id":75855098,"body_markdown":"Lubuntu 17.04, Java build 9-ea+171","body":"Lubuntu 17.04, Java build 9-ea+171"},{"owner":{"account_id":2175278,"reputation":1359,"user_id":1926087,"accept_rate":33,"display_name":"Sourav Gulati"},"score":0,"creation_date":1496930146,"post_id":44427653,"comment_id":75872871,"body_markdown":"Please provide content of hadoop-env.sh as well","body":"Please provide content of hadoop-env.sh as well"},{"owner":{"account_id":2739281,"reputation":1872,"user_id":2361174,"accept_rate":68,"display_name":"user2361174"},"score":0,"creation_date":1496967382,"post_id":44427653,"comment_id":75892188,"body_markdown":"@SouravGulati I have added hadoop-env.sh as well, can you explain what I&#39;m doing wrong?","body":"@SouravGulati I have added hadoop-env.sh as well, can you explain what I&#39;m doing wrong?"},{"owner":{"account_id":2175278,"reputation":1359,"user_id":1926087,"accept_rate":33,"display_name":"Sourav Gulati"},"score":0,"creation_date":1496981292,"post_id":44427653,"comment_id":75895390,"body_markdown":"Could you please try using Java 8 or Java 7.  Don&#39;t use Java 9","body":"Could you please try using Java 8 or Java 7.  Don&#39;t use Java 9"},{"owner":{"account_id":10666380,"reputation":5833,"user_id":7852833,"display_name":"tk421"},"score":1,"creation_date":1497048559,"post_id":44427653,"comment_id":75931980,"body_markdown":"+1.  Java 9 support is not there yet.  [https://issues.apache.org/jira/browse/HADOOP-11123](https://issues.apache.org/jira/browse/HADOOP-11123) Hadoop on Java 9","body":"+1.  Java 9 support is not there yet.  <a href=\"https://issues.apache.org/jira/browse/HADOOP-11123\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/HADOOP-11123</a> Hadoop on Java 9"},{"owner":{"account_id":2739281,"reputation":1872,"user_id":2361174,"accept_rate":68,"display_name":"user2361174"},"score":0,"creation_date":1497057431,"post_id":44427653,"comment_id":75933660,"body_markdown":"Ah, thank you for that.","body":"Ah, thank you for that."}],"answers":[{"tags":[],"owner":{"account_id":2739281,"reputation":1872,"user_id":2361174,"accept_rate":68,"display_name":"user2361174"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1497058977,"creation_date":1497057548,"answer_id":44468605,"question_id":44427653,"body_markdown":"At mentioned by @tk421 in the comments. Java 9 is not compatible with Hadoop 3 (and possibly any hadoop version) yet.\r\n\r\nhttps://issues.apache.org/jira/browse/HADOOP-11123\r\n\r\nI&#39;ve changed to Java 8.181 and both are starting up now:\r\n\r\n\r\n    hadoop@hadoop:/usr/local/hadoop$ sbin/start-all.sh\r\n    WARNING: Attempting to start all Apache Hadoop daemons as hadoop in 10 seconds.\r\n    WARNING: This is not a recommended production deployment configuration.\r\n    WARNING: Use CTRL-C to abort.\r\n    Starting namenodes on [localhost]\r\n    Starting datanodes\r\n    Starting secondary namenodes [hadoop]\r\n    Starting resourcemanager\r\n    Starting nodemanagers\r\n    hadoop@hadoop:/usr/local/hadoop$ jps\r\n    8756 SecondaryNameNode\r\n    8389 NameNode\r\n    9173 NodeManager\r\n    9030 ResourceManager\r\n    8535 DataNode\r\n    9515 Jps\r\n\r\n\r\n","title":"Hadoop Error starting ResourceManager and NodeManager","body":"<p>At mentioned by @tk421 in the comments. Java 9 is not compatible with Hadoop 3 (and possibly any hadoop version) yet.</p>\n\n<p><a href=\"https://issues.apache.org/jira/browse/HADOOP-11123\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/HADOOP-11123</a></p>\n\n<p>I've changed to Java 8.181 and both are starting up now:</p>\n\n<pre><code>hadoop@hadoop:/usr/local/hadoop$ sbin/start-all.sh\nWARNING: Attempting to start all Apache Hadoop daemons as hadoop in 10 seconds.\nWARNING: This is not a recommended production deployment configuration.\nWARNING: Use CTRL-C to abort.\nStarting namenodes on [localhost]\nStarting datanodes\nStarting secondary namenodes [hadoop]\nStarting resourcemanager\nStarting nodemanagers\nhadoop@hadoop:/usr/local/hadoop$ jps\n8756 SecondaryNameNode\n8389 NameNode\n9173 NodeManager\n9030 ResourceManager\n8535 DataNode\n9515 Jps\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12077152,"reputation":187,"user_id":8830193,"display_name":"陳子軼"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541490776,"creation_date":1541490776,"answer_id":53167774,"question_id":44427653,"body_markdown":"my problem is that I used java11 to cooperate with hadoop.\r\n\r\nso what i do is \r\n\r\n1.rm /Library/Java/*\r\n\r\n2.download java8 from https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\r\n\r\n3.install java8jdk and \r\n\r\n4.fix the JAVA_HOME in hadoop-env.sh \r\n\r\n5.stop-all.sh\r\n\r\n6.start-dfs.sh\r\n\r\n7.start-yarn.sh","title":"Hadoop Error starting ResourceManager and NodeManager","body":"<p>my problem is that I used java11 to cooperate with hadoop.</p>\n\n<p>so what i do is </p>\n\n<p>1.rm /Library/Java/*</p>\n\n<p>2.download java8 from <a href=\"https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a></p>\n\n<p>3.install java8jdk and </p>\n\n<p>4.fix the JAVA_HOME in hadoop-env.sh </p>\n\n<p>5.stop-all.sh</p>\n\n<p>6.start-dfs.sh</p>\n\n<p>7.start-yarn.sh</p>\n"},{"tags":[],"owner":{"account_id":23052176,"reputation":3,"user_id":17168823,"display_name":"MAGistr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660046802,"creation_date":1660046802,"answer_id":73291525,"question_id":44427653,"body_markdown":"I want to share my observations. OpenJDK 17 was used to interact with Hadoop. \r\n\r\nI thought the newer the Java version, the better. I was very wrong, I had to switch to OpenJDK 8.\r\nSo, how do we fix the problem?\r\n1) You need to uninstall the previous version of Java. There are **several removal options**.\r\n  - **Deleting only OpenJDK**: `$ sudo apt-get remove openjdk*`\r\n\r\n  - **Deleting OpenJDK along with dependencies**: `$ sudo apt-get remove --auto-remove openjdk*`\r\n  \r\n - **Deleting OpenJDK and its configuration files**: `$ sudo apt-get purge openjdk*`\r\n\r\n  - **Deleting OpenJDK along with dependencies and it’s configuration files**: `$ sudo apt-get purge --auto-remove openjdk*`\r\n\r\nAs for me, I used the latter option.\r\n\r\n2) You need to install OpenJDK 8.\r\n - **Installing OpenJDK**: `$ sudo apt install openjdk-8-jdk -y`\r\n\r\nAfter the installation is complete, you **can check the Java version**: `$ java -version; javac -version`\r\n\r\n3) You need to edit the path to the `JAVA_HOME` variable. To do this, you need to open `hadoop-env.sh`\r\n\r\n - To open a file **hadoop-env.sh**, you can use the command:\r\n\r\n    sudo nano $HADOOP_HOME/etc/hadoop/hadoop-env.sh\r\n\r\nwhere **$HADOOP_HOME** is the location of your Hadoop (for example, `/home/hdoop/hadoop-3.2.4`). \r\n - The contents of the `JAVA_HOME` variable **looks like** this: `export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64` . Of course, that **all depends** on your **Java location**. \r\n\r\n 4) Go to the catalog `hadoop-3.2.4/sbin`. \r\n\r\nNext, you need to **stop the daemons on all nodes** of the cluster: `./stop-all.sh`\r\n \r\n5) Running NameNode and DataNode: `./start-dfs.sh`\r\n6) Running YARN resource and NodeManager: `./start-yarn.sh`\r\n7) Check if all daemons are active and running as Java processes: `jps`.\r\nThe **resulting list should look (approximately)** as follows:\r\n\r\n    33706 SecondaryNameNode\r\n\r\n    33330 NameNode\r\n\r\n    34049 NodeManager\r\n\r\n    33900 ResourceManager\r\n\r\n    33482 DataNode\r\n\r\n    34410 Jps\r\n\r\n8) Hadoop setup is DONE!\r\n\r\nP.S. I hope my answer will be useful. I tried to cover all the details in my answer. I wish you all success.","title":"Hadoop Error starting ResourceManager and NodeManager","body":"<p>I want to share my observations. OpenJDK 17 was used to interact with Hadoop.</p>\n<p>I thought the newer the Java version, the better. I was very wrong, I had to switch to OpenJDK 8.\nSo, how do we fix the problem?</p>\n<ol>\n<li>You need to uninstall the previous version of Java. There are <strong>several removal options</strong>.</li>\n</ol>\n<ul>\n<li><p><strong>Deleting only OpenJDK</strong>: <code>$ sudo apt-get remove openjdk*</code></p>\n</li>\n<li><p><strong>Deleting OpenJDK along with dependencies</strong>: <code>$ sudo apt-get remove --auto-remove openjdk*</code></p>\n</li>\n<li><p><strong>Deleting OpenJDK and its configuration files</strong>: <code>$ sudo apt-get purge openjdk*</code></p>\n</li>\n<li><p><strong>Deleting OpenJDK along with dependencies and it’s configuration files</strong>: <code>$ sudo apt-get purge --auto-remove openjdk*</code></p>\n</li>\n</ul>\n<p>As for me, I used the latter option.</p>\n<ol start=\"2\">\n<li>You need to install OpenJDK 8.</li>\n</ol>\n<ul>\n<li><strong>Installing OpenJDK</strong>: <code>$ sudo apt install openjdk-8-jdk -y</code></li>\n</ul>\n<p>After the installation is complete, you <strong>can check the Java version</strong>: <code>$ java -version; javac -version</code></p>\n<ol start=\"3\">\n<li>You need to edit the path to the <code>JAVA_HOME</code> variable. To do this, you need to open <code>hadoop-env.sh</code></li>\n</ol>\n<ul>\n<li><p>To open a file <strong>hadoop-env.sh</strong>, you can use the command:</p>\n<p>sudo nano $HADOOP_HOME/etc/hadoop/hadoop-env.sh</p>\n</li>\n</ul>\n<p>where <strong>$HADOOP_HOME</strong> is the location of your Hadoop (for example, <code>/home/hdoop/hadoop-3.2.4</code>).</p>\n<ul>\n<li>The contents of the <code>JAVA_HOME</code> variable <strong>looks like</strong> this: <code>export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64</code> . Of course, that <strong>all depends</strong> on your <strong>Java location</strong>.</li>\n</ul>\n<ol start=\"4\">\n<li>Go to the catalog <code>hadoop-3.2.4/sbin</code>.</li>\n</ol>\n<p>Next, you need to <strong>stop the daemons on all nodes</strong> of the cluster: <code>./stop-all.sh</code></p>\n<ol start=\"5\">\n<li><p>Running NameNode and DataNode: <code>./start-dfs.sh</code></p>\n</li>\n<li><p>Running YARN resource and NodeManager: <code>./start-yarn.sh</code></p>\n</li>\n<li><p>Check if all daemons are active and running as Java processes: <code>jps</code>.\nThe <strong>resulting list should look (approximately)</strong> as follows:</p>\n<p>33706 SecondaryNameNode</p>\n<p>33330 NameNode</p>\n<p>34049 NodeManager</p>\n<p>33900 ResourceManager</p>\n<p>33482 DataNode</p>\n<p>34410 Jps</p>\n</li>\n<li><p>Hadoop setup is DONE!</p>\n</li>\n</ol>\n<p>P.S. I hope my answer will be useful. I tried to cover all the details in my answer. I wish you all success.</p>\n"},{"tags":[],"owner":{"account_id":16452180,"reputation":830,"user_id":11885333,"display_name":"keemahs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692517898,"creation_date":1692517898,"answer_id":76938457,"question_id":44427653,"body_markdown":"yup as others have pointed out, java version might be the issue  \r\nwas following [this page](https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html) where they clearly link [here](https://cwiki.apache.org/confluence/display/HADOOP/Hadoop+Java+Versions) for compatible java versions  \r\nso, i was trying with java 17 and start-yarn.sh was failing, but with java 11, start-yarn.sh worked","title":"Hadoop Error starting ResourceManager and NodeManager","body":"<p>yup as others have pointed out, java version might be the issue<br />\nwas following <a href=\"https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html\" rel=\"nofollow noreferrer\">this page</a> where they clearly link <a href=\"https://cwiki.apache.org/confluence/display/HADOOP/Hadoop+Java+Versions\" rel=\"nofollow noreferrer\">here</a> for compatible java versions<br />\nso, i was trying with java 17 and start-yarn.sh was failing, but with java 11, start-yarn.sh worked</p>\n"}],"owner":{"account_id":2739281,"reputation":1872,"user_id":2361174,"accept_rate":68,"display_name":"user2361174"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14804,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":44468605,"answer_count":4,"score":6,"last_activity_date":1692517898,"creation_date":1496901338,"question_id":44427653,"body_markdown":"I&#39;m trying to setup Hadoop3-alpha3 with a Single Node Cluster (Psuedo-distributed) and using [the apache guide][1] to do so. I&#39;ve tried running the example MapReduce job but every time the connection is refused. After running `sbin/start-all.sh` I&#39;ve been seeing these exceptions in the ResourceManager log (and similarly in the NodeManager log):\r\n\r\n    xxxx-xx-xx xx:xx:xx,xxx INFO org.apache.commons.beanutils.FluentPropertyBeanIntrospector: Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.\r\n    xxxx-xx-xx xx:xx:xx,xxx DEBUG org.apache.commons.beanutils.FluentPropertyBeanIntrospector: Exception is:\r\n    java.beans.IntrospectionException: bad write method arg count: public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)\r\n    \tat java.desktop/java.beans.PropertyDescriptor.findPropertyType(PropertyDescriptor.java:696)\r\n    \tat java.desktop/java.beans.PropertyDescriptor.setWriteMethod(PropertyDescriptor.java:356)\r\n    \tat java.desktop/java.beans.PropertyDescriptor.&lt;init&gt;(PropertyDescriptor.java:142)\r\n    \tat org.apache.commons.beanutils.FluentPropertyBeanIntrospector.createFluentPropertyDescritor(FluentPropertyBeanIntrospector.java:178)\r\n    \tat org.apache.commons.beanutils.FluentPropertyBeanIntrospector.introspect(FluentPropertyBeanIntrospector.java:141)\r\n    \tat org.apache.commons.beanutils.PropertyUtilsBean.fetchIntrospectionData(PropertyUtilsBean.java:2245)\r\n    \tat org.apache.commons.beanutils.PropertyUtilsBean.getIntrospectionData(PropertyUtilsBean.java:2226)\r\n    \tat org.apache.commons.beanutils.PropertyUtilsBean.getPropertyDescriptor(PropertyUtilsBean.java:954)\r\n    \tat org.apache.commons.beanutils.PropertyUtilsBean.isWriteable(PropertyUtilsBean.java:1478)\r\n    \tat org.apache.commons.configuration2.beanutils.BeanHelper.isPropertyWriteable(BeanHelper.java:521)\r\n    \tat org.apache.commons.configuration2.beanutils.BeanHelper.initProperty(BeanHelper.java:357)\r\n    \tat org.apache.commons.configuration2.beanutils.BeanHelper.initBeanProperties(BeanHelper.java:273)\r\n    \tat org.apache.commons.configuration2.beanutils.BeanHelper.initBean(BeanHelper.java:192)\r\n    \tat org.apache.commons.configuration2.beanutils.BeanHelper$BeanCreationContextImpl.initBean(BeanHelper.java:669)\r\n    \tat org.apache.commons.configuration2.beanutils.DefaultBeanFactory.initBeanInstance(DefaultBeanFactory.java:162)\r\n    \tat org.apache.commons.configuration2.beanutils.DefaultBeanFactory.createBean(DefaultBeanFactory.java:116)\r\n    \tat org.apache.commons.configuration2.beanutils.BeanHelper.createBean(BeanHelper.java:459)\r\n    \tat org.apache.commons.configuration2.beanutils.BeanHelper.createBean(BeanHelper.java:479)\r\n    \tat org.apache.commons.configuration2.beanutils.BeanHelper.createBean(BeanHelper.java:492)\r\n    \tat org.apache.commons.configuration2.builder.BasicConfigurationBuilder.createResultInstance(BasicConfigurationBuilder.java:447)\r\n    \tat org.apache.commons.configuration2.builder.BasicConfigurationBuilder.createResult(BasicConfigurationBuilder.java:417)\r\n    \tat org.apache.commons.configuration2.builder.BasicConfigurationBuilder.getConfiguration(BasicConfigurationBuilder.java:285)\r\n    \tat org.apache.hadoop.metrics2.impl.MetricsConfig.loadFirst(MetricsConfig.java:119)\r\n    \tat org.apache.hadoop.metrics2.impl.MetricsConfig.create(MetricsConfig.java:98)\r\n    \tat org.apache.hadoop.metrics2.impl.MetricsSystemImpl.configure(MetricsSystemImpl.java:478)\r\n    \tat org.apache.hadoop.metrics2.impl.MetricsSystemImpl.start(MetricsSystemImpl.java:188)\r\n    \tat org.apache.hadoop.metrics2.impl.MetricsSystemImpl.init(MetricsSystemImpl.java:163)\r\n    \tat org.apache.hadoop.metrics2.lib.DefaultMetricsSystem.init(DefaultMetricsSystem.java:62)\r\n    \tat org.apache.hadoop.metrics2.lib.DefaultMetricsSystem.initialize(DefaultMetricsSystem.java:58)\r\n    \tat org.apache.hadoop.yarn.server.resourcemanager.ResourceManager$RMActiveServices.serviceInit(ResourceManager.java:678)\r\n    \tat org.apache.hadoop.service.AbstractService.init(AbstractService.java:163)\r\n    \tat org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.createAndInitActiveServices(ResourceManager.java:1129)\r\n    \tat org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.serviceInit(ResourceManager.java:315)\r\n    \tat org.apache.hadoop.service.AbstractService.init(AbstractService.java:163)\r\n    \tat org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.main(ResourceManager.java:1407)\r\n\r\nAnd then later in the file:\r\n\r\n    xxxx-xx-xx xx:xx:xx,xxx FATAL org.apache.hadoop.yarn.server.resourcemanager.ResourceManager: Error starting ResourceManager\r\n    java.lang.ExceptionInInitializerError\r\n    \tat com.google.inject.internal.cglib.reflect.$FastClassEmitter.&lt;init&gt;(FastClassEmitter.java:67)\r\n    \tat com.google.inject.internal.cglib.reflect.$FastClass$Generator.generateClass(FastClass.java:72)\r\n    \tat com.google.inject.internal.cglib.core.$DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\r\n    \tat com.google.inject.internal.cglib.core.$AbstractClassGenerator.create(AbstractClassGenerator.java:216)\r\n    \tat com.google.inject.internal.cglib.reflect.$FastClass$Generator.create(FastClass.java:64)\r\n    \tat com.google.inject.internal.BytecodeGen.newFastClass(BytecodeGen.java:204)\r\n    \tat com.google.inject.internal.ProviderMethod$FastClassProviderMethod.&lt;init&gt;(ProviderMethod.java:256)\r\n    \tat com.google.inject.internal.ProviderMethod.create(ProviderMethod.java:71)\r\n    \tat com.google.inject.internal.ProviderMethodsModule.createProviderMethod(ProviderMethodsModule.java:275)\r\n    \tat com.google.inject.internal.ProviderMethodsModule.getProviderMethods(ProviderMethodsModule.java:144)\r\n    \tat com.google.inject.internal.ProviderMethodsModule.configure(ProviderMethodsModule.java:123)\r\n    \tat com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:340)\r\n    \tat com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:349)\r\n    \tat com.google.inject.AbstractModule.install(AbstractModule.java:122)\r\n    \tat com.google.inject.servlet.ServletModule.configure(ServletModule.java:52)\r\n    \tat com.google.inject.AbstractModule.configure(AbstractModule.java:62)\r\n    \tat com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:340)\r\n    \tat com.google.inject.spi.Elements.getElements(Elements.java:110)\r\n    \tat com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:138)\r\n    \tat com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:104)\r\n    \tat com.google.inject.Guice.createInjector(Guice.java:96)\r\n    \tat com.google.inject.Guice.createInjector(Guice.java:73)\r\n    \tat com.google.inject.Guice.createInjector(Guice.java:62)\r\n    \tat org.apache.hadoop.yarn.webapp.WebApps$Builder.build(WebApps.java:332)\r\n    \tat org.apache.hadoop.yarn.webapp.WebApps$Builder.start(WebApps.java:377)\r\n    \tat org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.startWepApp(ResourceManager.java:1116)\r\n    \tat org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.serviceStart(ResourceManager.java:1218)\r\n    \tat org.apache.hadoop.service.AbstractService.start(AbstractService.java:193)\r\n    \tat org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.main(ResourceManager.java:1408)\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @173f73e7\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:337)\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:281)\r\n    \tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:197)\r\n    \tat java.base/java.lang.reflect.Method.setAccessible(Method.java:191)\r\n    \tat com.google.inject.internal.cglib.core.$ReflectUtils$2.run(ReflectUtils.java:56)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat com.google.inject.internal.cglib.core.$ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:46)\r\n    \t... 29 more\r\n\r\nFor reference my core-site.xml:\r\n\r\n    &lt;configuration&gt;\r\n    \t&lt;property&gt;\r\n    \t\t&lt;name&gt;fs.default.name&lt;/name&gt;\r\n    \t\t&lt;value&gt;hdfs://localhost:9000&lt;/value&gt;\r\n    \t&lt;/property&gt;\r\n    &lt;/configuration&gt;\r\n\r\nhdfs-site.xml:\r\n\r\n    &lt;configuration&gt;\r\n    \t&lt;property&gt;\r\n    \t\t&lt;name&gt;dfs.replication&lt;/name&gt;\r\n    \t\t&lt;value&gt;1&lt;/value&gt;\r\n    \t&lt;/property&gt;\r\n    &lt;/configuration&gt;\r\n\r\nmapred-site.xml:\r\n\r\n    &lt;configuration&gt;\r\n        &lt;property&gt;\r\n            &lt;name&gt;mapreduce.framework.name&lt;/name&gt;\r\n            &lt;value&gt;yarn&lt;/value&gt;\r\n        &lt;/property&gt;\r\n    &lt;/configuration&gt;\r\n\r\nand yarn-site.xml:\r\n\r\n    &lt;configuration&gt;\r\n        &lt;property&gt;\r\n            &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;\r\n            &lt;value&gt;mapreduce_shuffle&lt;/value&gt;\r\n        &lt;/property&gt;\r\n        &lt;property&gt;\r\n            &lt;name&gt;yarn.nodemanager.env-whitelist&lt;/name&gt;\r\n            &lt;value&gt;JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_MAPRED_HOME&lt;/value&gt;\r\n        &lt;/property&gt;\r\n    &lt;/configuration&gt;\r\n\r\nI have no idea what is causing these exceptions, any help with them would be helpful.\r\n\r\nEdit: Added hadoop-env.sh:\r\n\r\n    export JAVA_HOME=/usr/local/jdk-9\r\n    export HADOOP_HOME=/usr/local/hadoop\r\n    export HADOOP_OS_TYPE=${HADOOP_OS_TYPE:-$(uname -s)}\r\n    case ${HADOOP_OS_TYPE} in\r\n      Darwin*)\r\n        export HADOOP_OPTS=&quot;${HADOOP_OPTS} -Djava.security.krb5.realm= &quot;\r\n        export HADOOP_OPTS=&quot;${HADOOP_OPTS} -Djava.security.krb5.kdc= &quot;\r\n        export HADOOP_OPTS=&quot;${HADOOP_OPTS} -Djava.security.krb5.conf= &quot;\r\n      ;;\r\n    esac\r\n    export HADOOP_ROOT_LOGGER=DEBUG,console\r\n    export HADOOP_DAEMON_ROOT_LOGGER=DEBUG,RFA\r\n\r\n\r\n  [1]: https://hadoop.apache.org/docs/r3.0.0-alpha3/hadoop-project-dist/hadoop-common/SingleCluster.html#Execution\r\n","title":"Hadoop Error starting ResourceManager and NodeManager","body":"<p>I'm trying to setup Hadoop3-alpha3 with a Single Node Cluster (Psuedo-distributed) and using <a href=\"https://hadoop.apache.org/docs/r3.0.0-alpha3/hadoop-project-dist/hadoop-common/SingleCluster.html#Execution\" rel=\"noreferrer\">the apache guide</a> to do so. I've tried running the example MapReduce job but every time the connection is refused. After running <code>sbin/start-all.sh</code> I've been seeing these exceptions in the ResourceManager log (and similarly in the NodeManager log):</p>\n\n<pre><code>xxxx-xx-xx xx:xx:xx,xxx INFO org.apache.commons.beanutils.FluentPropertyBeanIntrospector: Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.\nxxxx-xx-xx xx:xx:xx,xxx DEBUG org.apache.commons.beanutils.FluentPropertyBeanIntrospector: Exception is:\njava.beans.IntrospectionException: bad write method arg count: public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)\n    at java.desktop/java.beans.PropertyDescriptor.findPropertyType(PropertyDescriptor.java:696)\n    at java.desktop/java.beans.PropertyDescriptor.setWriteMethod(PropertyDescriptor.java:356)\n    at java.desktop/java.beans.PropertyDescriptor.&lt;init&gt;(PropertyDescriptor.java:142)\n    at org.apache.commons.beanutils.FluentPropertyBeanIntrospector.createFluentPropertyDescritor(FluentPropertyBeanIntrospector.java:178)\n    at org.apache.commons.beanutils.FluentPropertyBeanIntrospector.introspect(FluentPropertyBeanIntrospector.java:141)\n    at org.apache.commons.beanutils.PropertyUtilsBean.fetchIntrospectionData(PropertyUtilsBean.java:2245)\n    at org.apache.commons.beanutils.PropertyUtilsBean.getIntrospectionData(PropertyUtilsBean.java:2226)\n    at org.apache.commons.beanutils.PropertyUtilsBean.getPropertyDescriptor(PropertyUtilsBean.java:954)\n    at org.apache.commons.beanutils.PropertyUtilsBean.isWriteable(PropertyUtilsBean.java:1478)\n    at org.apache.commons.configuration2.beanutils.BeanHelper.isPropertyWriteable(BeanHelper.java:521)\n    at org.apache.commons.configuration2.beanutils.BeanHelper.initProperty(BeanHelper.java:357)\n    at org.apache.commons.configuration2.beanutils.BeanHelper.initBeanProperties(BeanHelper.java:273)\n    at org.apache.commons.configuration2.beanutils.BeanHelper.initBean(BeanHelper.java:192)\n    at org.apache.commons.configuration2.beanutils.BeanHelper$BeanCreationContextImpl.initBean(BeanHelper.java:669)\n    at org.apache.commons.configuration2.beanutils.DefaultBeanFactory.initBeanInstance(DefaultBeanFactory.java:162)\n    at org.apache.commons.configuration2.beanutils.DefaultBeanFactory.createBean(DefaultBeanFactory.java:116)\n    at org.apache.commons.configuration2.beanutils.BeanHelper.createBean(BeanHelper.java:459)\n    at org.apache.commons.configuration2.beanutils.BeanHelper.createBean(BeanHelper.java:479)\n    at org.apache.commons.configuration2.beanutils.BeanHelper.createBean(BeanHelper.java:492)\n    at org.apache.commons.configuration2.builder.BasicConfigurationBuilder.createResultInstance(BasicConfigurationBuilder.java:447)\n    at org.apache.commons.configuration2.builder.BasicConfigurationBuilder.createResult(BasicConfigurationBuilder.java:417)\n    at org.apache.commons.configuration2.builder.BasicConfigurationBuilder.getConfiguration(BasicConfigurationBuilder.java:285)\n    at org.apache.hadoop.metrics2.impl.MetricsConfig.loadFirst(MetricsConfig.java:119)\n    at org.apache.hadoop.metrics2.impl.MetricsConfig.create(MetricsConfig.java:98)\n    at org.apache.hadoop.metrics2.impl.MetricsSystemImpl.configure(MetricsSystemImpl.java:478)\n    at org.apache.hadoop.metrics2.impl.MetricsSystemImpl.start(MetricsSystemImpl.java:188)\n    at org.apache.hadoop.metrics2.impl.MetricsSystemImpl.init(MetricsSystemImpl.java:163)\n    at org.apache.hadoop.metrics2.lib.DefaultMetricsSystem.init(DefaultMetricsSystem.java:62)\n    at org.apache.hadoop.metrics2.lib.DefaultMetricsSystem.initialize(DefaultMetricsSystem.java:58)\n    at org.apache.hadoop.yarn.server.resourcemanager.ResourceManager$RMActiveServices.serviceInit(ResourceManager.java:678)\n    at org.apache.hadoop.service.AbstractService.init(AbstractService.java:163)\n    at org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.createAndInitActiveServices(ResourceManager.java:1129)\n    at org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.serviceInit(ResourceManager.java:315)\n    at org.apache.hadoop.service.AbstractService.init(AbstractService.java:163)\n    at org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.main(ResourceManager.java:1407)\n</code></pre>\n\n<p>And then later in the file:</p>\n\n<pre><code>xxxx-xx-xx xx:xx:xx,xxx FATAL org.apache.hadoop.yarn.server.resourcemanager.ResourceManager: Error starting ResourceManager\njava.lang.ExceptionInInitializerError\n    at com.google.inject.internal.cglib.reflect.$FastClassEmitter.&lt;init&gt;(FastClassEmitter.java:67)\n    at com.google.inject.internal.cglib.reflect.$FastClass$Generator.generateClass(FastClass.java:72)\n    at com.google.inject.internal.cglib.core.$DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\n    at com.google.inject.internal.cglib.core.$AbstractClassGenerator.create(AbstractClassGenerator.java:216)\n    at com.google.inject.internal.cglib.reflect.$FastClass$Generator.create(FastClass.java:64)\n    at com.google.inject.internal.BytecodeGen.newFastClass(BytecodeGen.java:204)\n    at com.google.inject.internal.ProviderMethod$FastClassProviderMethod.&lt;init&gt;(ProviderMethod.java:256)\n    at com.google.inject.internal.ProviderMethod.create(ProviderMethod.java:71)\n    at com.google.inject.internal.ProviderMethodsModule.createProviderMethod(ProviderMethodsModule.java:275)\n    at com.google.inject.internal.ProviderMethodsModule.getProviderMethods(ProviderMethodsModule.java:144)\n    at com.google.inject.internal.ProviderMethodsModule.configure(ProviderMethodsModule.java:123)\n    at com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:340)\n    at com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:349)\n    at com.google.inject.AbstractModule.install(AbstractModule.java:122)\n    at com.google.inject.servlet.ServletModule.configure(ServletModule.java:52)\n    at com.google.inject.AbstractModule.configure(AbstractModule.java:62)\n    at com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:340)\n    at com.google.inject.spi.Elements.getElements(Elements.java:110)\n    at com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:138)\n    at com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:104)\n    at com.google.inject.Guice.createInjector(Guice.java:96)\n    at com.google.inject.Guice.createInjector(Guice.java:73)\n    at com.google.inject.Guice.createInjector(Guice.java:62)\n    at org.apache.hadoop.yarn.webapp.WebApps$Builder.build(WebApps.java:332)\n    at org.apache.hadoop.yarn.webapp.WebApps$Builder.start(WebApps.java:377)\n    at org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.startWepApp(ResourceManager.java:1116)\n    at org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.serviceStart(ResourceManager.java:1218)\n    at org.apache.hadoop.service.AbstractService.start(AbstractService.java:193)\n    at org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.main(ResourceManager.java:1408)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not \"opens java.lang\" to unnamed module @173f73e7\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:337)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:281)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:197)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:191)\n    at com.google.inject.internal.cglib.core.$ReflectUtils$2.run(ReflectUtils.java:56)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at com.google.inject.internal.cglib.core.$ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:46)\n    ... 29 more\n</code></pre>\n\n<p>For reference my core-site.xml:</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;property&gt;\n        &lt;name&gt;fs.default.name&lt;/name&gt;\n        &lt;value&gt;hdfs://localhost:9000&lt;/value&gt;\n    &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>hdfs-site.xml:</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;property&gt;\n        &lt;name&gt;dfs.replication&lt;/name&gt;\n        &lt;value&gt;1&lt;/value&gt;\n    &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>mapred-site.xml:</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;property&gt;\n        &lt;name&gt;mapreduce.framework.name&lt;/name&gt;\n        &lt;value&gt;yarn&lt;/value&gt;\n    &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>and yarn-site.xml:</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;property&gt;\n        &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;\n        &lt;value&gt;mapreduce_shuffle&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n        &lt;name&gt;yarn.nodemanager.env-whitelist&lt;/name&gt;\n        &lt;value&gt;JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_MAPRED_HOME&lt;/value&gt;\n    &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>I have no idea what is causing these exceptions, any help with them would be helpful.</p>\n\n<p>Edit: Added hadoop-env.sh:</p>\n\n<pre><code>export JAVA_HOME=/usr/local/jdk-9\nexport HADOOP_HOME=/usr/local/hadoop\nexport HADOOP_OS_TYPE=${HADOOP_OS_TYPE:-$(uname -s)}\ncase ${HADOOP_OS_TYPE} in\n  Darwin*)\n    export HADOOP_OPTS=\"${HADOOP_OPTS} -Djava.security.krb5.realm= \"\n    export HADOOP_OPTS=\"${HADOOP_OPTS} -Djava.security.krb5.kdc= \"\n    export HADOOP_OPTS=\"${HADOOP_OPTS} -Djava.security.krb5.conf= \"\n  ;;\nesac\nexport HADOOP_ROOT_LOGGER=DEBUG,console\nexport HADOOP_DAEMON_ROOT_LOGGER=DEBUG,RFA\n</code></pre>\n"},{"tags":["java","spring-boot","state-machine","spring-statemachine"],"owner":{"account_id":13736359,"reputation":397,"user_id":9912527,"display_name":"Jaspreet Chhabra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692516900,"creation_date":1692516900,"question_id":76938409,"body_markdown":"We&#39;ve recently integrated the Spring State Machine into our workflow. Here&#39;s how we&#39;re using it: We&#39;re receiving events from an SQS queue, and then we&#39;re processing these events using the state machine. We have different states in our state machine, and after transitioning to the next target stage, we&#39;re also pushing the event back to the SQS queue for persistence. For each event in the SQS queue, we initialize the state machine and execute the necessary transitions.\r\n\r\nWhen it comes to executing the Spring State Machine, we&#39;re wondering if it&#39;s possible for the process to start at multiple initial stages and then halt after pushing the event to the SQS queue. Is the state machine capable of this kind of partial execution, or does it need to run through all stages in sequence?\r\n\r\nWe&#39;ve noticed that Spring State Machines appear to be singular, which implies that only one event can be consumed from the SQS queue at a time, and the corresponding state machine is executed for that event. Is there any way to handle multiple events concurrently? For instance, could we create a new state machine instance each time an event is triggered, allowing us to process multiple events simultaneously?\r\n\r\nHere is my code:\r\n\r\nConfiguring the states and transitions:\r\n\r\n    public void configure(StateMachineStateConfigurer&lt;RedactionStates, RedactionEvents&gt; states)\r\n        throws Exception {\r\n    states.withStates()\r\n            .initial(RedactionStates.S1) // default initial state\r\n            .state(RedactionStates.S2)\r\n            .state(RedactionStates.S3)\r\n            .state(RedactionStates.S4)\r\n            .end(RedactionStates.S5);\r\n    }\r\nTransitions:\r\n\r\n    public void configure(\r\n        StateMachineTransitionConfigurer&lt;RedactionStates, RedactionEvents&gt; transitions)\r\n        throws Exception {\r\n    transitions\r\n            .withInternal()\r\n            .source(RedactionStates.S1)\r\n            .event(RedactionEvents.E1)\r\n            .and()\r\n            .withExternal()\r\n            .source(RedactionStates.S1)\r\n            .target(RedactionStates.S2)\r\n            .event(RedactionEvents.E2)\r\n           }","title":"Can Spring State machine support multiple initial States and parallel executions (multi-threaded environment)?","body":"<p>We've recently integrated the Spring State Machine into our workflow. Here's how we're using it: We're receiving events from an SQS queue, and then we're processing these events using the state machine. We have different states in our state machine, and after transitioning to the next target stage, we're also pushing the event back to the SQS queue for persistence. For each event in the SQS queue, we initialize the state machine and execute the necessary transitions.</p>\n<p>When it comes to executing the Spring State Machine, we're wondering if it's possible for the process to start at multiple initial stages and then halt after pushing the event to the SQS queue. Is the state machine capable of this kind of partial execution, or does it need to run through all stages in sequence?</p>\n<p>We've noticed that Spring State Machines appear to be singular, which implies that only one event can be consumed from the SQS queue at a time, and the corresponding state machine is executed for that event. Is there any way to handle multiple events concurrently? For instance, could we create a new state machine instance each time an event is triggered, allowing us to process multiple events simultaneously?</p>\n<p>Here is my code:</p>\n<p>Configuring the states and transitions:</p>\n<pre><code>public void configure(StateMachineStateConfigurer&lt;RedactionStates, RedactionEvents&gt; states)\n    throws Exception {\nstates.withStates()\n        .initial(RedactionStates.S1) // default initial state\n        .state(RedactionStates.S2)\n        .state(RedactionStates.S3)\n        .state(RedactionStates.S4)\n        .end(RedactionStates.S5);\n}\n</code></pre>\n<p>Transitions:</p>\n<pre><code>public void configure(\n    StateMachineTransitionConfigurer&lt;RedactionStates, RedactionEvents&gt; transitions)\n    throws Exception {\ntransitions\n        .withInternal()\n        .source(RedactionStates.S1)\n        .event(RedactionEvents.E1)\n        .and()\n        .withExternal()\n        .source(RedactionStates.S1)\n        .target(RedactionStates.S2)\n        .event(RedactionEvents.E2)\n       }\n</code></pre>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":1,"creation_date":1469029692,"post_id":9954590,"comment_id":64372284,"body_markdown":"Related to: http://stackoverflow.com/questions/14446048/hibernate-table-not-mapped-error","body":"Related to: <a href=\"http://stackoverflow.com/questions/14446048/hibernate-table-not-mapped-error\" title=\"hibernate table not mapped error\">stackoverflow.com/questions/14446048/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":1,"up_vote_count":350,"is_accepted":true,"score":349,"last_activity_date":1575814804,"creation_date":1333185986,"answer_id":9954677,"question_id":9954590,"body_markdown":"In the HQL , you should use the **java class name** and **property name** of the mapped `@Entity` instead of the actual table name and column name , so the HQL should be :\r\n\r\n    List&lt;User&gt; result = session.createQuery(&quot;from User&quot;, User.class).getResultList();\r\n\r\n----------\r\nUpdate : To be more precise , you should use the entity name configured in `@Entity` to refer to the &quot;table&quot; , which default to unqualified name of the mapped **java class** if you do not set it explicitly.\r\n\r\n*(P.S. It is `@javax.persistence.Entity` but not `@org.hibernate.annotations.Entity`)*","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>In the HQL , you should use the <strong>java class name</strong> and <strong>property name</strong> of the mapped <code>@Entity</code> instead of the actual table name and column name , so the HQL should be :</p>\n\n<pre><code>List&lt;User&gt; result = session.createQuery(\"from User\", User.class).getResultList();\n</code></pre>\n\n<hr>\n\n<p>Update : To be more precise , you should use the entity name configured in <code>@Entity</code> to refer to the \"table\" , which default to unqualified name of the mapped <strong>java class</strong> if you do not set it explicitly.</p>\n\n<p><em>(P.S. It is <code>@javax.persistence.Entity</code> but not <code>@org.hibernate.annotations.Entity</code>)</em></p>\n"},{"tags":[],"owner":{"account_id":1538152,"reputation":1933,"user_id":1433551,"accept_rate":43,"display_name":"Iwan Satria"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1397705319,"creation_date":1397705319,"answer_id":23124078,"question_id":9954590,"body_markdown":"Just to share my finding. I still got the same error even if the query was targeting the correct class name. Later on I realised that I was importing the Entity class from the wrong package.\r\n\r\nThe problem was solved after I change the import line from:\r\n\r\n    import org.hibernate.annotations.Entity;\r\n\r\nto \r\n\r\n    import javax.persistence.Entity;","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>Just to share my finding. I still got the same error even if the query was targeting the correct class name. Later on I realised that I was importing the Entity class from the wrong package.</p>\n\n<p>The problem was solved after I change the import line from:</p>\n\n<pre><code>import org.hibernate.annotations.Entity;\n</code></pre>\n\n<p>to </p>\n\n<pre><code>import javax.persistence.Entity;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":53471,"reputation":5683,"user_id":159837,"accept_rate":75,"display_name":"Fırat K&#252;&#231;&#252;k"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1471876902,"creation_date":1408003084,"answer_id":25302866,"question_id":9954590,"body_markdown":"Added `@TABLE(name = &quot;TABLE_NAME&quot;)` annotation and fixed. Check your annotations and hibernate.cfg.xml file. This is the sample entity file that works:\r\n\r\n    import javax.persistence.*;\r\n      \r\n    @Entity\r\n    @Table(name = &quot;VENDOR&quot;)\r\n    public class Vendor {\r\n        \r\n        //~ --- [INSTANCE FIELDS] ------------------------------------------------------------------------------------------\r\n        private int    id;\r\n        private String name;\r\n     \r\n        //~ --- [METHODS] --------------------------------------------------------------------------------------------------\r\n        @Override\r\n        public boolean equals(final Object o) {    \r\n            if (this == o) {\r\n                return true;\r\n            }\r\n    \r\n            if (o == null || getClass() != o.getClass()) {\r\n                return false;\r\n            }\r\n    \r\n            final Vendor vendor = (Vendor) o;\r\n    \r\n            if (id != vendor.id) {\r\n                return false;\r\n            }\r\n    \r\n            if (name != null ? !name.equals(vendor.name) : vendor.name != null) {\r\n                return false;\r\n            }\r\n    \r\n            return true;\r\n        }\r\n        \r\n        //~ ----------------------------------------------------------------------------------------------------------------\r\n        @Column(name = &quot;ID&quot;)\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Id\r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;NAME&quot;)\r\n        public String getName() {\r\n    \r\n            return name;\r\n        }\r\n    \r\n        public void setId(final int id) {\r\n            this.id = id;\r\n        }\r\n        \r\n        public void setName(final String name) {    \r\n            this.name = name;\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            int result = id;\r\n            result = 31 * result + (name != null ? name.hashCode() : 0);\r\n            return result;\r\n        }\r\n    }","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>Added <code>@TABLE(name = \"TABLE_NAME\")</code> annotation and fixed. Check your annotations and hibernate.cfg.xml file. This is the sample entity file that works:</p>\n\n<pre><code>import javax.persistence.*;\n\n@Entity\n@Table(name = \"VENDOR\")\npublic class Vendor {\n\n    //~ --- [INSTANCE FIELDS] ------------------------------------------------------------------------------------------\n    private int    id;\n    private String name;\n\n    //~ --- [METHODS] --------------------------------------------------------------------------------------------------\n    @Override\n    public boolean equals(final Object o) {    \n        if (this == o) {\n            return true;\n        }\n\n        if (o == null || getClass() != o.getClass()) {\n            return false;\n        }\n\n        final Vendor vendor = (Vendor) o;\n\n        if (id != vendor.id) {\n            return false;\n        }\n\n        if (name != null ? !name.equals(vendor.name) : vendor.name != null) {\n            return false;\n        }\n\n        return true;\n    }\n\n    //~ ----------------------------------------------------------------------------------------------------------------\n    @Column(name = \"ID\")\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Id\n    public int getId() {\n        return id;\n    }\n\n    @Basic\n    @Column(name = \"NAME\")\n    public String getName() {\n\n        return name;\n    }\n\n    public void setId(final int id) {\n        this.id = id;\n    }\n\n    public void setName(final String name) {    \n        this.name = name;\n    }\n\n    @Override\n    public int hashCode() {\n        int result = id;\n        result = 31 * result + (name != null ? name.hashCode() : 0);\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1335201,"reputation":1177,"user_id":1278129,"accept_rate":71,"display_name":"Augustas"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1429900301,"creation_date":1429900301,"answer_id":29854969,"question_id":9954590,"body_markdown":"There is possibility you forgot to add mapping for created Entity into `hibernate.cfg.xml`, same error.","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>There is possibility you forgot to add mapping for created Entity into <code>hibernate.cfg.xml</code>, same error.</p>\n"},{"tags":[],"owner":{"account_id":3564480,"reputation":1938,"user_id":2976424,"display_name":"Kumaresan Perumal"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1683735121,"creation_date":1432102851,"answer_id":30341742,"question_id":9954590,"body_markdown":"For example: if your bean class name is `UserDetails` the query would be\r\n\r\n```java\r\nQuery query = entityManager. createQuery(&quot;Select UserName from UserDetails&quot;);\r\n```\r\n\r\nYou don&#39;t use the table name from the database but the **class name of bean**.","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>For example: if your bean class name is <code>UserDetails</code> the query would be</p>\n<pre class=\"lang-java prettyprint-override\"><code>Query query = entityManager. createQuery(&quot;Select UserName from UserDetails&quot;);\n</code></pre>\n<p>You don't use the table name from the database but the <strong>class name of bean</strong>.</p>\n"},{"tags":[],"owner":{"account_id":7760988,"reputation":111,"user_id":5873752,"display_name":"Ratheesh K"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1454432440,"creation_date":1454430277,"answer_id":35158634,"question_id":9954590,"body_markdown":"I also was importing the wrong Entity `import org.hibernate.annotations.Entity;`\r\nIt should be import `javax.persistence.Entity;`","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>I also was importing the wrong Entity <code>import org.hibernate.annotations.Entity;</code>\nIt should be import <code>javax.persistence.Entity;</code></p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1469030030,"creation_date":1469029664,"answer_id":38485135,"question_id":9954590,"body_markdown":"&gt; `org.hibernate.hql.internal.ast.QuerySyntaxException: users is not mapped [from users]`\r\n\r\nThis indicates that hibernate does not know the `User` entity as &quot;users&quot;.\r\n\r\n    @javax.persistence.Entity\r\n    @javax.persistence.Table(name = &quot;Users&quot;)\r\n    public class User {\r\n\r\nThe `@Table` annotation sets the _table_ name to be &quot;Users&quot; but the entity name is still referred to in HQL as &quot;User&quot;.\r\n\r\nTo change both, you should set the name of the entity:\r\n\r\n    // this sets the name of the table and the name of the entity\r\n    @javax.persistence.Entity(name = &quot;Users&quot;)\r\n    public class User implements Serializable{\r\n\r\nSee my answer here for more info: https://stackoverflow.com/questions/14446048/hibernate-table-not-mapped-error/38484695#38484695\r\n","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<blockquote>\n  <p><code>org.hibernate.hql.internal.ast.QuerySyntaxException: users is not mapped [from users]</code></p>\n</blockquote>\n\n<p>This indicates that hibernate does not know the <code>User</code> entity as \"users\".</p>\n\n<pre><code>@javax.persistence.Entity\n@javax.persistence.Table(name = \"Users\")\npublic class User {\n</code></pre>\n\n<p>The <code>@Table</code> annotation sets the <em>table</em> name to be \"Users\" but the entity name is still referred to in HQL as \"User\".</p>\n\n<p>To change both, you should set the name of the entity:</p>\n\n<pre><code>// this sets the name of the table and the name of the entity\n@javax.persistence.Entity(name = \"Users\")\npublic class User implements Serializable{\n</code></pre>\n\n<p>See my answer here for more info: <a href=\"https://stackoverflow.com/questions/14446048/hibernate-table-not-mapped-error/38484695#38484695\">Hibernate table not mapped error</a></p>\n"},{"tags":[],"owner":{"account_id":5641224,"reputation":2476,"user_id":4465028,"accept_rate":68,"display_name":"Gherbi Hicham"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1482489962,"creation_date":1482489962,"answer_id":41299928,"question_id":9954590,"body_markdown":"Also check that you added the annotated class using:\r\n\r\n `new Configuration().configure(&quot;configuration file path&quot;).addAnnotatedClass(User.class)`\r\n\r\nThat always wasted my time when adding a new table in the database using Hibernate.","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>Also check that you added the annotated class using:</p>\n\n<p><code>new Configuration().configure(\"configuration file path\").addAnnotatedClass(User.class)</code></p>\n\n<p>That always wasted my time when adding a new table in the database using Hibernate.</p>\n"},{"tags":[],"owner":{"account_id":5063037,"reputation":81,"user_id":4063982,"display_name":"jrreid"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1484712538,"creation_date":1484712538,"answer_id":41711203,"question_id":9954590,"body_markdown":"Also make sure that the following property is set in your hibernate bean configuration:\t\r\n\r\n    &lt;property name=&quot;packagesToScan&quot; value=&quot;yourpackage&quot; /&gt;\r\n\r\n\r\n\r\nThis tells spring and hibernate where to find your domain classes annotated as entities. \r\n\r\n","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>Also make sure that the following property is set in your hibernate bean configuration: </p>\n\n<pre><code>&lt;property name=\"packagesToScan\" value=\"yourpackage\" /&gt;\n</code></pre>\n\n<p>This tells spring and hibernate where to find your domain classes annotated as entities. </p>\n"},{"tags":[],"owner":{"account_id":10911665,"reputation":172,"user_id":8020870,"display_name":"Rajkumar"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1494951713,"creation_date":1494951484,"answer_id":44006675,"question_id":9954590,"body_markdown":"Some Linux based MySQL installations require case sensitive. Work around is  to apply `nativeQuery`.\r\n\r\n    @Query(value = &#39;select ID, CLUMN2, CLUMN3 FROM VENDOR c where c.ID = :ID&#39;, nativeQuery = true)","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>Some Linux based MySQL installations require case sensitive. Work around is  to apply <code>nativeQuery</code>.</p>\n\n<pre><code>@Query(value = 'select ID, CLUMN2, CLUMN3 FROM VENDOR c where c.ID = :ID', nativeQuery = true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2970416,"reputation":1741,"user_id":2522581,"accept_rate":50,"display_name":"Lakhan Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514535693,"creation_date":1514535693,"answer_id":48019608,"question_id":9954590,"body_markdown":"I got this issue when i replaced old hibernate-core library with hibernate-core-5.2.12. However all my configuration was ok. And i fixed this issue by creating sessionfactory this way:\r\n\r\n   \r\n\r\n    private static SessionFactory buildsSessionFactory() {\r\n\t\ttry {\r\n\t\t\tif (sessionFactory == null) {\r\n\t\t\t\tStandardServiceRegistry standardRegistry = new StandardServiceRegistryBuilder()\r\n\t\t\t\t\t\t.configure(&quot;/hibernate.cfg.xml&quot;).build();\r\n\t\t\t\tMetadata metaData = new MetadataSources(standardRegistry)\r\n\t\t\t\t\t\t.getMetadataBuilder().build();\r\n\t\t\t\tsessionFactory = metaData.getSessionFactoryBuilder().build();\r\n\t\t\t}\r\n\t\t\treturn sessionFactory;\r\n\t\t} catch (Throwable th) {\r\n\r\n\t\t\tSystem.err.println(&quot;Enitial SessionFactory creation failed&quot; + th);\r\n\r\n\t\t\tthrow new ExceptionInInitializerError(th);\r\n\r\n\t\t}\r\n\t}\r\n\r\nHope it helps someone","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>I got this issue when i replaced old hibernate-core library with hibernate-core-5.2.12. However all my configuration was ok. And i fixed this issue by creating sessionfactory this way:</p>\n\n<pre><code>private static SessionFactory buildsSessionFactory() {\n    try {\n        if (sessionFactory == null) {\n            StandardServiceRegistry standardRegistry = new StandardServiceRegistryBuilder()\n                    .configure(\"/hibernate.cfg.xml\").build();\n            Metadata metaData = new MetadataSources(standardRegistry)\n                    .getMetadataBuilder().build();\n            sessionFactory = metaData.getSessionFactoryBuilder().build();\n        }\n        return sessionFactory;\n    } catch (Throwable th) {\n\n        System.err.println(\"Enitial SessionFactory creation failed\" + th);\n\n        throw new ExceptionInInitializerError(th);\n\n    }\n}\n</code></pre>\n\n<p>Hope it helps someone</p>\n"},{"tags":[],"owner":{"account_id":14293268,"reputation":105,"user_id":10324643,"display_name":"Himanshu Shukla"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1536732145,"creation_date":1536730821,"answer_id":52288154,"question_id":9954590,"body_markdown":"I was getting the same error while Spring with hibernate..I was using &quot;user&quot; in the lowercase in my `createQuery` statement and my class was User..So changed it to User in my query and problem was solved.\r\n\r\n**Query before:**\r\n\r\n    Query query= em.createQuery(&quot;select u from user u where u.username=:usr AND u.password=:pass&quot;,User.class);\r\n\r\n**Query after:**\r\n\r\n    Query query= em.createQuery(&quot;select u from User u where u.username=:usr AND u.password=:pass&quot;,User.class);","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>I was getting the same error while Spring with hibernate..I was using \"user\" in the lowercase in my <code>createQuery</code> statement and my class was User..So changed it to User in my query and problem was solved.</p>\n\n<p><strong>Query before:</strong></p>\n\n<pre><code>Query query= em.createQuery(\"select u from user u where u.username=:usr AND u.password=:pass\",User.class);\n</code></pre>\n\n<p><strong>Query after:</strong></p>\n\n<pre><code>Query query= em.createQuery(\"select u from User u where u.username=:usr AND u.password=:pass\",User.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6694145,"reputation":21,"user_id":5162708,"display_name":"sami gharbi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548488268,"creation_date":1548488268,"answer_id":54376552,"question_id":9954590,"body_markdown":"In your Query you have to use class name(User) not table name(users)\r\nso your query is\r\n&quot;from User&quot;","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>In your Query you have to use class name(User) not table name(users)\nso your query is\n\"from User\"</p>\n"},{"tags":[],"owner":{"account_id":13561711,"reputation":1,"user_id":9783182,"display_name":"Vipul Thakur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551073006,"creation_date":1551073006,"answer_id":54860075,"question_id":9954590,"body_markdown":"You must type in the same name in your select query as your entity or class(case sensitive) . i.e. select user from className/Entity Name user;\r\n","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>You must type in the same name in your select query as your entity or class(case sensitive) . i.e. select user from className/Entity Name user;</p>\n"},{"tags":[],"owner":{"account_id":226936,"reputation":1578,"user_id":488265,"accept_rate":88,"display_name":"Jonas Gr&#246;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566981908,"creation_date":1566981908,"answer_id":57688354,"question_id":9954590,"body_markdown":"I recommend this pattern:\r\n\r\n```\r\n@Entity(name = User.PERSISTANCE_NAME)\r\n@Table(name = User.PERSISTANCE_NAME )\r\npublic class User {    \r\n    static final String PERSISTANCE_NAME = &quot;USER&quot;;\r\n\r\n    // Column definitions here\r\n\r\n}\r\n```","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>I recommend this pattern:</p>\n\n<pre><code>@Entity(name = User.PERSISTANCE_NAME)\n@Table(name = User.PERSISTANCE_NAME )\npublic class User {    \n    static final String PERSISTANCE_NAME = \"USER\";\n\n    // Column definitions here\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2473025,"reputation":1806,"user_id":2154359,"accept_rate":92,"display_name":"xmen-5"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567005159,"creation_date":1567005159,"answer_id":57695496,"question_id":9954590,"body_markdown":"with    `org.hibernate.hql.internal.ast.QuerySyntaxException: users is not mapped [from users]`, you are trying to select from the `users` table. But you are annotating your class with `@Table( name = &quot;Users&quot; )`. So either use `users`, or `Users`.","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>with    <code>org.hibernate.hql.internal.ast.QuerySyntaxException: users is not mapped [from users]</code>, you are trying to select from the <code>users</code> table. But you are annotating your class with <code>@Table( name = \"Users\" )</code>. So either use <code>users</code>, or <code>Users</code>.</p>\n"},{"tags":[],"owner":{"account_id":3373041,"reputation":195,"user_id":2831843,"display_name":"Geoffrey Ritchey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589299625,"creation_date":1589299625,"answer_id":61756424,"question_id":9954590,"body_markdown":"If you are using xml configuration, you&#39;ll need something like the following in an applicationContext.xml file:\r\n\r\n    &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean&quot; lazy-init=&quot;default&quot; autowire=&quot;default&quot; dependency-check=&quot;default&quot;&gt;\r\n    &lt;property name=&quot;dataSource&quot;&gt;\r\n      &lt;ref bean=&quot;dataSource&quot; /&gt;\r\n    &lt;/property&gt;\r\n    &lt;property name=&quot;annotatedClasses&quot;&gt;\r\n      &lt;list&gt;\r\n        &lt;value&gt;org.browsexml.timesheetjob.model.PositionCode&lt;/value&gt;\r\n      &lt;/list&gt;\r\n\r\n","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>If you are using xml configuration, you'll need something like the following in an applicationContext.xml file:</p>\n\n<pre><code>&lt;bean id=\"sessionFactory\" class=\"org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean\" lazy-init=\"default\" autowire=\"default\" dependency-check=\"default\"&gt;\n&lt;property name=\"dataSource\"&gt;\n  &lt;ref bean=\"dataSource\" /&gt;\n&lt;/property&gt;\n&lt;property name=\"annotatedClasses\"&gt;\n  &lt;list&gt;\n    &lt;value&gt;org.browsexml.timesheetjob.model.PositionCode&lt;/value&gt;\n  &lt;/list&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1403975,"reputation":31,"user_id":1332189,"display_name":"Nathan Simpson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600317209,"creation_date":1600317209,"answer_id":63931325,"question_id":9954590,"body_markdown":"I also came across this issue while using the Quarkus microservice framework:\r\n\r\n```java\r\npublic class SomeResource {\r\n\r\n  @GET\r\n  @RolesAllowed({&quot;basic&quot;})\r\n  public Response doSomething(@Context SecurityContext context) {\r\n    // ...\r\n  }\r\n}\r\n\r\n// this will generate an QuerySyntax exception, as the authorization module\r\n// will ignore the Entity annotation and use the class name instead.\r\n@Entity(name = &quot;users&quot;)\r\n@UserDefinition\r\npublic class User {\r\n  // ...\r\n}\r\n\r\n// do this instead\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\n@UserDefinition\r\npublic class User {\r\n  // ...\r\n}","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>I also came across this issue while using the Quarkus microservice framework:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SomeResource {\n\n  @GET\n  @RolesAllowed({&quot;basic&quot;})\n  public Response doSomething(@Context SecurityContext context) {\n    // ...\n  }\n}\n\n// this will generate an QuerySyntax exception, as the authorization module\n// will ignore the Entity annotation and use the class name instead.\n@Entity(name = &quot;users&quot;)\n@UserDefinition\npublic class User {\n  // ...\n}\n\n// do this instead\n@Entity\n@Table(name = &quot;users&quot;)\n@UserDefinition\npublic class User {\n  // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17446692,"reputation":356,"user_id":12647580,"display_name":"menoktaokan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601890095,"creation_date":1601890095,"answer_id":64205933,"question_id":9954590,"body_markdown":"In a Spring project:\r\nI typed wrong `hibernate.packagesToScan=com.okan.springdemo.entity` and got this error.\r\nNow it&#39;s working well.","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>In a Spring project:\nI typed wrong <code>hibernate.packagesToScan=com.okan.springdemo.entity</code> and got this error.\nNow it's working well.</p>\n"},{"tags":[],"owner":{"account_id":22636491,"reputation":93,"user_id":16813234,"display_name":"Jafar Sadik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1659582171,"creation_date":1659582171,"answer_id":73229915,"question_id":9954590,"body_markdown":"Lets say, your ```Java Classname``` is ```User``` and your ```database table name``` is ```users```.\r\nSo you annotate the class with ```@Table(name = &quot;users&quot;)```. Fine. No problem.\r\nNow in your query you don&#39;t write like ```SELECT .... FROM users``` (DO NOT WRITE the table name). You will write ```SELECT .... FROM User``` (WRITE the class name).\r\n\r\nProblem Solved!","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>Lets say, your <code>Java Classname</code> is <code>User</code> and your <code>database table name</code> is <code>users</code>.\nSo you annotate the class with <code>@Table(name = &quot;users&quot;)</code>. Fine. No problem.\nNow in your query you don't write like <code>SELECT .... FROM users</code> (DO NOT WRITE the table name). You will write <code>SELECT .... FROM User</code> (WRITE the class name).</p>\n<p>Problem Solved!</p>\n"},{"tags":[],"owner":{"account_id":6095615,"reputation":1,"user_id":4784304,"display_name":"Lucas Caminha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674754474,"creation_date":1674754474,"answer_id":75249731,"question_id":9954590,"body_markdown":"\t\t&lt;!-- Rest Repositories Web Dependency --&gt;\r\n\t\t&lt;!-- https://docs.spring.io/spring-data/rest/docs/current/reference/html/#install-chapter --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<pre><code>    &lt;!-- Rest Repositories Web Dependency --&gt;\n    &lt;!-- https://docs.spring.io/spring-data/rest/docs/current/reference/html/#install-chapter --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1889592,"reputation":1805,"user_id":1708042,"display_name":"user1708042"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676535683,"creation_date":1676535683,"answer_id":75469505,"question_id":9954590,"body_markdown":"This problem can also arise if there are two classes with the same name in different packages and Hibernate can complain unlsess you specify the full package name in the query","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>This problem can also arise if there are two classes with the same name in different packages and Hibernate can complain unlsess you specify the full package name in the query</p>\n"},{"tags":[],"owner":{"account_id":13610692,"reputation":37,"user_id":9818305,"display_name":"Casio991ms"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692515922,"creation_date":1692515922,"answer_id":76938338,"question_id":9954590,"body_markdown":"Are you using persistence.xml for configuring hibernate? Well, this was my case and I had to scratch my head while browsing through tons of forums and stackoverflow posts for one hour before realizing I need to add my newly created entity to persistence.xml.\r\n\r\n```\r\n&lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; version=&quot;2.0&quot;&gt;\r\n    &lt;persistence-unit name=&quot;my_persistence_unit&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n\r\n        &lt;class&gt;entityclass1&lt;/class&gt;\r\n        &lt;class&gt;entityclass2&lt;/class&gt;\r\n&lt;!--        Add your class heere    --&gt;\r\n\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:postgresql://localhost:5432/&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.postgresql.Driver&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;&quot;/&gt;\r\n\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQLDialect&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.physical_naming_strategy&quot; value=&quot;org.hibernate.boot.model.naming.CamelCaseToUnderscoresNamingStrategy&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>Are you using persistence.xml for configuring hibernate? Well, this was my case and I had to scratch my head while browsing through tons of forums and stackoverflow posts for one hour before realizing I need to add my newly created entity to persistence.xml.</p>\n<pre><code>&lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; version=&quot;2.0&quot;&gt;\n    &lt;persistence-unit name=&quot;my_persistence_unit&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n\n        &lt;class&gt;entityclass1&lt;/class&gt;\n        &lt;class&gt;entityclass2&lt;/class&gt;\n&lt;!--        Add your class heere    --&gt;\n\n        &lt;properties&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:postgresql://localhost:5432/&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.postgresql.Driver&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;&quot;/&gt;\n\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQLDialect&quot;/&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\n            &lt;property name=&quot;hibernate.physical_naming_strategy&quot; value=&quot;org.hibernate.boot.model.naming.CamelCaseToUnderscoresNamingStrategy&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n"}],"owner":{"account_id":1349942,"reputation":1899,"user_id":1289894,"accept_rate":50,"display_name":"Blue"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329587,"favorite_count":0,"down_vote_count":0,"up_vote_count":165,"accepted_answer_id":9954677,"answer_count":23,"score":165,"last_activity_date":1692515922,"creation_date":1333185235,"question_id":9954590,"body_markdown":"I&#39;m trying to get a list of all the users from &quot;users&quot; table and I get the following error:\r\n\r\n    org.hibernate.hql.internal.ast.QuerySyntaxException: users is not mapped [from users]\r\n\torg.hibernate.hql.internal.ast.util.SessionFactoryHelper.requireClassPersister(SessionFactoryHelper.java:180)\r\n\torg.hibernate.hql.internal.ast.tree.FromElementFactory.addFromElement(FromElementFactory.java:110)\r\n\torg.hibernate.hql.internal.ast.tree.FromClause.addFromElement(FromClause.java:93)\r\n\r\n\r\nThis is the code I wrote to add/get users:\r\n\r\n\tpublic List&lt;User&gt; getUsers() {\r\n\t\tSession session = HibernateUtil.getSessionFactory().getCurrentSession();\r\n\t\tsession.beginTransaction();\r\n\t\tList&lt;User&gt; result = (List&lt;User&gt;) session.createQuery(&quot;from users&quot;).list();\r\n\t\tsession.getTransaction().commit();\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic void addUser(User user) {\r\n\t\tSession session = HibernateUtil.getSessionFactory().getCurrentSession();\r\n\t\tsession.beginTransaction();\r\n\t\tsession.save(user);\r\n\t\tsession.getTransaction().commit();\r\n\t}\r\n\r\n\tpublic void addUser(List&lt;User&gt; users) {\r\n\t\tSession session = HibernateUtil.getSessionFactory().getCurrentSession();\r\n\t\tsession.beginTransaction();\r\n\t\tfor (User user : users) {\r\n\t\t\tsession.save(user);\r\n\t\t}\r\n\t\tsession.getTransaction().commit();\r\n\t}\r\n\r\nAdding users works, but when I use the getUsers function I get these error.\r\n\r\nThis is my hibernate config file:\r\n\r\n    &lt;hibernate-configuration&gt;\r\n\t&lt;session-factory&gt;\r\n\t\t&lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/test&lt;/property&gt;\r\n\t\t&lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\r\n\t\t&lt;property name=&quot;connection.password&quot;&gt;root&lt;/property&gt;\r\n\t\t&lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.default_schema&quot;&gt;test&lt;/property&gt;\r\n\t\t&lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\r\n\r\n\t\t&lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n\r\n\t\t&lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hbm2ddl.auto&quot;&gt;create-drop&lt;/property&gt;\r\n\r\n\t\t&lt;!-- JDBC connection pool (use the built-in) --&gt;\r\n\t\t&lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n\t\t&lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n\r\n\t\t&lt;!-- Mapping files will go here.... --&gt;\r\n\r\n\t\t&lt;mapping class=&quot;model.Company&quot; /&gt;\r\n\t\t&lt;mapping class=&quot;model.Conference&quot; /&gt;\r\n\t\t&lt;mapping class=&quot;model.ConferencesParticipants&quot; /&gt;\r\n\t\t&lt;mapping class=&quot;model.ConferenceParticipantStatus&quot; /&gt;\r\n\t\t&lt;mapping class=&quot;model.ConferencesUsers&quot; /&gt;\r\n\t\t&lt;mapping class=&quot;model.Location&quot; /&gt;\r\n\t\t&lt;mapping class=&quot;model.User&quot; /&gt;\r\n\r\n\t&lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n\r\nand this is my User class:\r\n\r\n    @Entity\r\n    @Table( name = &quot;Users&quot; )\r\n    public class User implements Serializable{\r\n    \r\n    \tprivate long userID;\r\n    \tprivate int pasportID;\r\n    \tprivate Company company; \r\n    \tprivate String name;\r\n    \tprivate String email;\r\n    \tprivate String phone1;\r\n    \tprivate String phone2;\r\n    \tprivate String password; //may be null/empty , will be kept hashed\r\n    \tprivate boolean isAdmin;\r\n    \tprivate Date lastLogin;\r\n    \t\r\n    \tUser() {} //not public on purpose!\r\n    \t\r\n    \tpublic User(int countryID, Company company, String name, String email,\r\n    \t\t\tString phone1, String phone2, String password, boolean isAdmin) {\r\n    \t\tthis.pasportID = countryID;\r\n    \t\tthis.company = company;\r\n    \t\tthis.name = name;\r\n    \t\tthis.email = email;\r\n    \t\tthis.phone1 = phone1;\r\n    \t\tthis.phone2 = phone2;\r\n    \t\tthis.password = password;\r\n    \t\tthis.isAdmin = isAdmin;\r\n    \t}\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(generator=&quot;increment&quot;)\r\n    \t@GenericGenerator(name=&quot;increment&quot;, strategy = &quot;increment&quot;)\r\n    \tpublic long getUserID() {\r\n    \t\treturn userID;\r\n    \t}\r\n    \tpublic void setUserID(long userID) {\r\n    \t\tthis.userID = userID;\r\n    \t}\r\n        ...    \r\n    }\r\n\r\nAny idea why I get this error?","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>I'm trying to get a list of all the users from \"users\" table and I get the following error:</p>\n\n<pre><code>org.hibernate.hql.internal.ast.QuerySyntaxException: users is not mapped [from users]\norg.hibernate.hql.internal.ast.util.SessionFactoryHelper.requireClassPersister(SessionFactoryHelper.java:180)\norg.hibernate.hql.internal.ast.tree.FromElementFactory.addFromElement(FromElementFactory.java:110)\norg.hibernate.hql.internal.ast.tree.FromClause.addFromElement(FromClause.java:93)\n</code></pre>\n\n<p>This is the code I wrote to add/get users:</p>\n\n<pre><code>public List&lt;User&gt; getUsers() {\n    Session session = HibernateUtil.getSessionFactory().getCurrentSession();\n    session.beginTransaction();\n    List&lt;User&gt; result = (List&lt;User&gt;) session.createQuery(\"from users\").list();\n    session.getTransaction().commit();\n    return result;\n}\n\npublic void addUser(User user) {\n    Session session = HibernateUtil.getSessionFactory().getCurrentSession();\n    session.beginTransaction();\n    session.save(user);\n    session.getTransaction().commit();\n}\n\npublic void addUser(List&lt;User&gt; users) {\n    Session session = HibernateUtil.getSessionFactory().getCurrentSession();\n    session.beginTransaction();\n    for (User user : users) {\n        session.save(user);\n    }\n    session.getTransaction().commit();\n}\n</code></pre>\n\n<p>Adding users works, but when I use the getUsers function I get these error.</p>\n\n<p>This is my hibernate config file:</p>\n\n<pre><code>&lt;hibernate-configuration&gt;\n&lt;session-factory&gt;\n    &lt;property name=\"connection.url\"&gt;jdbc:mysql://localhost:3306/test&lt;/property&gt;\n    &lt;property name=\"connection.username\"&gt;root&lt;/property&gt;\n    &lt;property name=\"connection.password\"&gt;root&lt;/property&gt;\n    &lt;property name=\"connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n    &lt;property name=\"hibernate.default_schema\"&gt;test&lt;/property&gt;\n    &lt;property name=\"dialect\"&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\n\n    &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n\n    &lt;property name=\"format_sql\"&gt;true&lt;/property&gt;\n    &lt;property name=\"hbm2ddl.auto\"&gt;create-drop&lt;/property&gt;\n\n    &lt;!-- JDBC connection pool (use the built-in) --&gt;\n    &lt;property name=\"connection.pool_size\"&gt;1&lt;/property&gt;\n    &lt;property name=\"current_session_context_class\"&gt;thread&lt;/property&gt;\n\n    &lt;!-- Mapping files will go here.... --&gt;\n\n    &lt;mapping class=\"model.Company\" /&gt;\n    &lt;mapping class=\"model.Conference\" /&gt;\n    &lt;mapping class=\"model.ConferencesParticipants\" /&gt;\n    &lt;mapping class=\"model.ConferenceParticipantStatus\" /&gt;\n    &lt;mapping class=\"model.ConferencesUsers\" /&gt;\n    &lt;mapping class=\"model.Location\" /&gt;\n    &lt;mapping class=\"model.User\" /&gt;\n\n&lt;/session-factory&gt;\n</code></pre>\n\n<p></p>\n\n<p>and this is my User class:</p>\n\n<pre><code>@Entity\n@Table( name = \"Users\" )\npublic class User implements Serializable{\n\n    private long userID;\n    private int pasportID;\n    private Company company; \n    private String name;\n    private String email;\n    private String phone1;\n    private String phone2;\n    private String password; //may be null/empty , will be kept hashed\n    private boolean isAdmin;\n    private Date lastLogin;\n\n    User() {} //not public on purpose!\n\n    public User(int countryID, Company company, String name, String email,\n            String phone1, String phone2, String password, boolean isAdmin) {\n        this.pasportID = countryID;\n        this.company = company;\n        this.name = name;\n        this.email = email;\n        this.phone1 = phone1;\n        this.phone2 = phone2;\n        this.password = password;\n        this.isAdmin = isAdmin;\n    }\n\n    @Id\n    @GeneratedValue(generator=\"increment\")\n    @GenericGenerator(name=\"increment\", strategy = \"increment\")\n    public long getUserID() {\n        return userID;\n    }\n    public void setUserID(long userID) {\n        this.userID = userID;\n    }\n    ...    \n}\n</code></pre>\n\n<p>Any idea why I get this error?</p>\n"},{"tags":["java","batch-file","jpa","purge"],"answers":[{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1234183566,"creation_date":1234183566,"answer_id":528005,"question_id":527945,"body_markdown":"Limits on queries is a database specific feature and there is no SQL standard (I agree there should be).\r\n\r\nA solution which works with most databases is using a view to group several tables into one. Each table contains a subset of the data (say one day). This allows you to drop a whole subset at once. That said, many databases have issues with running UPDATE and INSERT on such a view.\r\n\r\nYou can usually work around this by creating a view or alias for INSERT/UPDATE (which points to a single table; the &quot;current&quot; one) and a grouping view for searching.\r\n\r\nSome databases also offer partitions which is basically the same thing except that you can define a column which specifies in which underlying table a row should go (on INSERT). When you need to delete a subset, you can drop/truncate one of the underlying tables.","title":"Batch deletion / purging of records via Java ORM","body":"<p>Limits on queries is a database specific feature and there is no SQL standard (I agree there should be).</p>\n\n<p>A solution which works with most databases is using a view to group several tables into one. Each table contains a subset of the data (say one day). This allows you to drop a whole subset at once. That said, many databases have issues with running UPDATE and INSERT on such a view.</p>\n\n<p>You can usually work around this by creating a view or alias for INSERT/UPDATE (which points to a single table; the \"current\" one) and a grouping view for searching.</p>\n\n<p>Some databases also offer partitions which is basically the same thing except that you can define a column which specifies in which underlying table a row should go (on INSERT). When you need to delete a subset, you can drop/truncate one of the underlying tables.</p>\n"},{"tags":[],"owner":{"account_id":22811,"reputation":11757,"user_id":56672,"accept_rate":68,"display_name":"Jeremy French"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1234183912,"creation_date":1234183912,"answer_id":528023,"question_id":527945,"body_markdown":"I hate to give a non constructive answer but an ORM isn’t really meant for doing bulk operations on the database. So it looks like you native query is probably the best bet for these operations. \r\n\r\nYou should also make sure that your ORM is updated to reflect the new state of the database otherwise you may get some weirdness happening. \r\n\r\nORMs are great tools for mapping objects to databases, but they are not generally generic database interfaces.\r\n","title":"Batch deletion / purging of records via Java ORM","body":"<p>I hate to give a non constructive answer but an ORM isn’t really meant for doing bulk operations on the database. So it looks like you native query is probably the best bet for these operations. </p>\n\n<p>You should also make sure that your ORM is updated to reflect the new state of the database otherwise you may get some weirdness happening. </p>\n\n<p>ORMs are great tools for mapping objects to databases, but they are not generally generic database interfaces.</p>\n"},{"tags":[],"owner":{"account_id":9482,"reputation":2874,"user_id":17542,"accept_rate":90,"display_name":"stian"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1234217155,"creation_date":1234217155,"answer_id":530231,"question_id":527945,"body_markdown":"I believe you can use HQL (JPA QL) direct DML operations which will bypass the persistence context and cache, and execute the (resulting SQL) statements directly:\r\n\r\n    Query q = session.createQuery(&quot;delete YourEntity ye where ye.something like :param&quot;);\r\n    q.setParameter(&quot;param&quot;, &quot;anything&quot;);\r\n    int deletedEntities = q.executeUpdate();","title":"Batch deletion / purging of records via Java ORM","body":"<p>I believe you can use HQL (JPA QL) direct DML operations which will bypass the persistence context and cache, and execute the (resulting SQL) statements directly:</p>\n\n<pre><code>Query q = session.createQuery(\"delete YourEntity ye where ye.something like :param\");\nq.setParameter(\"param\", \"anything\");\nint deletedEntities = q.executeUpdate();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":671126,"reputation":1,"user_id":513290,"display_name":"sony"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1325499236,"creation_date":1290158182,"answer_id":4223539,"question_id":527945,"body_markdown":"`q.setMaxResults(int)`\r\n\r\n...sony","title":"Batch deletion / purging of records via Java ORM","body":"<p><code>q.setMaxResults(int)</code></p>\n\n<p>...sony</p>\n"},{"tags":[],"owner":{"account_id":24224809,"reputation":363,"user_id":18179479,"display_name":"Mircea Sirghi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692514790,"creation_date":1692514790,"answer_id":76938279,"question_id":527945,"body_markdown":"Insert it into the required Repository. \r\n\r\n```\r\n@Modifying\r\n@Transactional\r\n@Query(value = &quot;DELETE FROM myTable LIMIT 25000&quot;, nativeQuery = true)\r\nvoid removeRows();\r\n```\r\n","title":"Batch deletion / purging of records via Java ORM","body":"<p>Insert it into the required Repository.</p>\n<pre><code>@Modifying\n@Transactional\n@Query(value = &quot;DELETE FROM myTable LIMIT 25000&quot;, nativeQuery = true)\nvoid removeRows();\n</code></pre>\n"}],"owner":{"display_name":"Conor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4256,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":5,"score":7,"last_activity_date":1692514790,"creation_date":1234182519,"question_id":527945,"body_markdown":"Right - I want to delete (e.g.) 1,000,000 records from a database.\r\nThis takes a long time -&gt; the transaction times out and fails.\r\nSo - I delete them in batches say 25000 records per transaction.\r\nUsing the limit clause on MySQL or ROWNUM on Oracle.\r\nGreat this works.\r\n\r\nI want to do this in a database independent way.\r\nAnd from an existing Java code base that uses JPA/Hibernate.\r\n\r\nOut of luck. JPA Query.setMaxResults and setFirstResult have no \r\neffect for write &#39;queries&#39; (e.g. delete). Selecting many entities \r\ninto memory to delete them individually is very slow and dumb I&#39;d say.\r\n\r\nSo I use a native query and manage the &#39;limit&#39; clause in application code.\r\nIt&#39;d be nice to encapsulate this clause in orm.xml but ...\r\n&quot;Hibernate Annotations 3.2 does not support bulk update/deletes using native queries.&quot;\r\n- http://opensource.atlassian.com/projects/hibernate/browse/ANN-469.\r\n\r\nI&#39;d imagine this is a common problem. \r\nAnybody got a better database independent solution?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Batch deletion / purging of records via Java ORM","body":"<p>Right - I want to delete (e.g.) 1,000,000 records from a database.\nThis takes a long time -> the transaction times out and fails.\nSo - I delete them in batches say 25000 records per transaction.\nUsing the limit clause on MySQL or ROWNUM on Oracle.\nGreat this works.</p>\n\n<p>I want to do this in a database independent way.\nAnd from an existing Java code base that uses JPA/Hibernate.</p>\n\n<p>Out of luck. JPA Query.setMaxResults and setFirstResult have no \neffect for write 'queries' (e.g. delete). Selecting many entities \ninto memory to delete them individually is very slow and dumb I'd say.</p>\n\n<p>So I use a native query and manage the 'limit' clause in application code.\nIt'd be nice to encapsulate this clause in orm.xml but ...\n\"Hibernate Annotations 3.2 does not support bulk update/deletes using native queries.\"\n- <a href=\"http://opensource.atlassian.com/projects/hibernate/browse/ANN-469\" rel=\"nofollow noreferrer\">http://opensource.atlassian.com/projects/hibernate/browse/ANN-469</a>.</p>\n\n<p>I'd imagine this is a common problem. \nAnybody got a better database independent solution?</p>\n"},{"tags":["java","jakarta-mail","weblogic12c"],"comments":[{"owner":{"account_id":121881,"reputation":20677,"user_id":315306,"accept_rate":90,"display_name":"Raffaele"},"score":0,"creation_date":1431959998,"post_id":30305905,"comment_id":48707588,"body_markdown":"What about using a transactional mail service like Mandrill?","body":"What about using a transactional mail service like Mandrill?"},{"owner":{"account_id":1764320,"reputation":1833,"user_id":1610544,"accept_rate":25,"display_name":"Alboz"},"score":0,"creation_date":1431961211,"post_id":30305905,"comment_id":48708532,"body_markdown":"@Raffaele my company doesn&#39;t want to pay/use third party products. Anyway it would be good to have in SO a best practice for such a common task.","body":"@Raffaele my company doesn&#39;t want to pay/use third party products. Anyway it would be good to have in SO a best practice for such a common task."}],"answers":[{"tags":[],"owner":{"account_id":1032936,"reputation":29659,"user_id":1040885,"display_name":"Bill Shannon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1431984234,"creation_date":1431984234,"answer_id":30313037,"question_id":30305905,"body_markdown":"You can reuse the Session object, but you&#39;ll need to figure out the best place in your application to create it and store it for reuse.\r\n\r\nLikewise the Transport object, but as you point out your application will have to deal with the fact that the mail server doesn&#39;t want you to keep the connection open if you&#39;re not doing anything with it, and so will close the connection.  You&#39;ll need to reconnect when you detect this.\r\n\r\nIf you&#39;re sending a high volume of email, you&#39;ll probably want to send all the notification requests to a separate thread or task or whatever and send the email from there.  You might want to batch up the notifications and send them out every day or hour or minute or whatever is appropriate for your application.\r\n\r\nAs you can see, there is no one best practice for dealing with all these issues.  It depends a lot on the needs of your application.","title":"Java Mail - Best Practices/Efficient way to create an email notification system","body":"<p>You can reuse the Session object, but you'll need to figure out the best place in your application to create it and store it for reuse.</p>\n\n<p>Likewise the Transport object, but as you point out your application will have to deal with the fact that the mail server doesn't want you to keep the connection open if you're not doing anything with it, and so will close the connection.  You'll need to reconnect when you detect this.</p>\n\n<p>If you're sending a high volume of email, you'll probably want to send all the notification requests to a separate thread or task or whatever and send the email from there.  You might want to batch up the notifications and send them out every day or hour or minute or whatever is appropriate for your application.</p>\n\n<p>As you can see, there is no one best practice for dealing with all these issues.  It depends a lot on the needs of your application.</p>\n"},{"tags":[],"owner":{"account_id":27780880,"reputation":47,"user_id":21209255,"display_name":"Muhammadqodir Muhsinov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692513106,"creation_date":1686306633,"answer_id":76439389,"question_id":30305905,"body_markdown":"\r\n\r\nHere you can read more about sending emails: https://mailtrap.io/blog/sending-email-using-java/\r\n\r\nMy solution for this case is: Just write your session Factory like hikari or others. It will close connection when necessary, or create as well. If many requests came one after another, it will keep the same connection alive.","title":"Java Mail - Best Practices/Efficient way to create an email notification system","body":"<p>Here you can read more about sending emails: <a href=\"https://mailtrap.io/blog/sending-email-using-java/\" rel=\"nofollow noreferrer\">https://mailtrap.io/blog/sending-email-using-java/</a></p>\n<p>My solution for this case is: Just write your session Factory like hikari or others. It will close connection when necessary, or create as well. If many requests came one after another, it will keep the same connection alive.</p>\n"}],"owner":{"account_id":1764320,"reputation":1833,"user_id":1610544,"accept_rate":25,"display_name":"Alboz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1872,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1692513106,"creation_date":1431959312,"question_id":30305905,"body_markdown":"I&#39;m writing a system which sends email notification to users once a work has been assigned to them. \r\n\r\nAs you can imagine &quot;establish a connection to the mail server &quot; is expensive.\r\n\r\nI would like a way to reuse the same connection. The problem is that the mail server at some point will &quot;**kill**&quot; the connection (because of inactivity etc). \r\n\r\nAlso I don&#39;t want to create a `Session` object every time I send an email... the same session object should be used.\r\n\r\nHere is how my EJB method looks like:\r\n\r\n    @Asynchronous\r\n    public Future&lt;String&gt; sendEmail(String email) {\r\n       .....\r\n       //I want to reuse the same session object. What if another\r\n       //application runs in the same JVM and creates the session\r\n       //object before mine? My properties will be ignored? Probably Yes.\r\n\r\n       Session session = Session.getDefaultInstance(props);\r\n       try{\r\n           // Instantiate a message\r\n           Message msg = new MimeMessage(session);\r\n           .....\r\n           //This will create and close the connection each time...\r\n           Transport.send(msg);\r\n          }\r\n       finally{....}\r\n    }\r\n","title":"Java Mail - Best Practices/Efficient way to create an email notification system","body":"<p>I'm writing a system which sends email notification to users once a work has been assigned to them. </p>\n\n<p>As you can imagine \"establish a connection to the mail server \" is expensive.</p>\n\n<p>I would like a way to reuse the same connection. The problem is that the mail server at some point will \"<strong>kill</strong>\" the connection (because of inactivity etc). </p>\n\n<p>Also I don't want to create a <code>Session</code> object every time I send an email... the same session object should be used.</p>\n\n<p>Here is how my EJB method looks like:</p>\n\n<pre><code>@Asynchronous\npublic Future&lt;String&gt; sendEmail(String email) {\n   .....\n   //I want to reuse the same session object. What if another\n   //application runs in the same JVM and creates the session\n   //object before mine? My properties will be ignored? Probably Yes.\n\n   Session session = Session.getDefaultInstance(props);\n   try{\n       // Instantiate a message\n       Message msg = new MimeMessage(session);\n       .....\n       //This will create and close the connection each time...\n       Transport.send(msg);\n      }\n   finally{....}\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","android-notifications","android-notification.mediastyle"],"comments":[{"owner":{"account_id":1671983,"reputation":1508,"user_id":1538285,"display_name":"miladfm"},"score":1,"creation_date":1693846086,"post_id":76938044,"comment_id":135810838,"body_markdown":"I have the same problem!\nDid you found any solution?","body":"I have the same problem! Did you found any solution?"},{"owner":{"account_id":22204673,"reputation":57,"user_id":16444754,"display_name":"IronFist"},"score":0,"creation_date":1693934485,"post_id":76938044,"comment_id":135824091,"body_markdown":"not found any yet","body":"not found any yet"}],"owner":{"account_id":22204673,"reputation":57,"user_id":16444754,"display_name":"IronFist"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692512695,"creation_date":1692509062,"question_id":76938044,"body_markdown":"How to create android notification styled like Whatsapp or Telegream chat notification using Notification.setStyle(Notification.MessagingStyle) or any other without using remoteviews\r\n\r\n[![enter image description here][1]][1]\r\n\r\ni could get that using Notification.CallStyle but i see hangup button which i don&#39;t want or customise the button text,icon,color\r\n\r\n[![enter image description here][2]][2]\r\n\r\n```\r\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n            Person.Builder personBuilder = new Person.Builder();\r\n            Bitmap bitmap = BitmapFactory.decodeResource(getResources(), R.drawable.angry_bird);\r\n            Icon icon = Icon.createWithBitmap(bitmap);\r\n            personBuilder.setIcon(icon);\r\n            personBuilder.setName(&quot;It&#39;s Me&quot;);\r\n            personBuilder.setImportant(true);\r\n            Person person = personBuilder.build();\r\n            Notification.CallStyle style = Notification.CallStyle.forOngoingCall(person,pendingIntent);\r\n            notificationBuilder.setStyle(style);\r\n            notificationBuilder.setContentText(&quot;Hello&quot;);\r\n        }\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XWZ73.jpg\r\n  [2]: https://i.stack.imgur.com/Y5Uqp.jpg","title":"How to create android notification styled like Whatsapp or Telegream using Notification.setStyle","body":"<p>How to create android notification styled like Whatsapp or Telegream chat notification using Notification.setStyle(Notification.MessagingStyle) or any other without using remoteviews</p>\n<p><a href=\"https://i.stack.imgur.com/XWZ73.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XWZ73.jpg\" alt=\"enter image description here\" /></a></p>\n<p>i could get that using Notification.CallStyle but i see hangup button which i don't want or customise the button text,icon,color</p>\n<p><a href=\"https://i.stack.imgur.com/Y5Uqp.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y5Uqp.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n            Person.Builder personBuilder = new Person.Builder();\n            Bitmap bitmap = BitmapFactory.decodeResource(getResources(), R.drawable.angry_bird);\n            Icon icon = Icon.createWithBitmap(bitmap);\n            personBuilder.setIcon(icon);\n            personBuilder.setName(&quot;It's Me&quot;);\n            personBuilder.setImportant(true);\n            Person person = personBuilder.build();\n            Notification.CallStyle style = Notification.CallStyle.forOngoingCall(person,pendingIntent);\n            notificationBuilder.setStyle(style);\n            notificationBuilder.setContentText(&quot;Hello&quot;);\n        }\n</code></pre>\n"},{"tags":["java","eclipse","maven","testng","filtering"],"owner":{"account_id":18434247,"reputation":1,"user_id":22416533,"display_name":"leerho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692512692,"creation_date":1692512692,"question_id":76938190,"body_markdown":"ENV: Eclipse 2023-06 (4.28.0), Maven 3.9.1, TestNG 7.5.1, Java 8.\r\n\r\nDoing development I often use the Eclipse &quot;Run As:TestNG Test&quot; on a selected directory of test files. Following the Maven SureFire plugin convention, all of my test class names are of the form &quot;.*Test&quot;, except for integration tests, which follow the FailSafe plugin convention &quot;.*IT&quot;.  When selecting a directory of tests that include both SureFire and FailSafe test classes.  I have not been successful in getting &quot;Run As:TestNG Test&quot; to ignore the FailSafe &quot;.*IT&quot; classes, it runs them no matter what I do. \r\n\r\n(Excluding classes not a problem when running the tests directly from Maven command line. But it is awkward / difficult to quickly select a single directory of tests from the Maven command line!).\r\n\r\nI have tried labeling the FailSafe test methods using TestNG groups, e.g. (@Test(groups = {&quot;failsafe&quot;})) and then excluding the group using a testng.xml file like the following which was copied from the TestNG documentation:\r\n\r\n```\r\n&lt;suite name=&quot;ExcludeITFiles&quot;&gt;\r\n  &lt;test name=&quot;test1&quot;&gt;\r\n    &lt;groups&gt;\r\n      &lt;run&gt;\r\n        &lt;exclude name=&quot;failsafe&quot;/&gt;\r\n      &lt;/run&gt;\r\n    &lt;/groups&gt;\r\n  &lt;/test&gt;\r\n&lt;/suite&gt;\r\n```\r\n\r\nI have tried using testng.xml file to exclude all methods of classes that have the name &quot;.*IT&quot;, like this:\r\n\r\n```\r\n&lt;suite name=&quot;ExcludeITFiles&quot;&gt;\r\n  &lt;test name=&quot;test1&quot;&gt;\r\n    &lt;classes&gt;\r\n      &lt;class name=&quot;.*IT&quot;&gt;\r\n        &lt;methods&gt;\r\n          &lt;exclude name=&quot;.*&quot;/&gt;\r\n        &lt;/methods&gt;\r\n      &lt;/class&gt;\r\n    &lt;/classes&gt;\r\n  &lt;/test&gt;\r\n&lt;/suite&gt;\r\n```\r\n\r\nI have also tried different variations of name using RegEx, e.g., \\&lt;class name=&quot;.\\*IT.\\*&quot;\\&gt;.  \r\nApparently, the testng.xml \\&lt;class name= ...\\&gt; does not accept RegEx expressions even through the official TestNG documentation https://testng.org/doc/documentation-main.html#testng-xml, section 5, seems to imply that it does! To wit: &quot;Note: TestNG uses regular expressions,...&quot;.\r\n\r\nI other words, I haven&#39;t been able to find any way to specify exclude or include filtering of tests when using Eclipse &quot;Run As:TestNG Test&quot;.\r\n\r\nAny help would be appreciated.\r\n","title":"How to exclude test classes that don&#39;t have &quot;Test&quot; in the class name using Eclipse &quot;Run As: TestNG Test&quot;","body":"<p>ENV: Eclipse 2023-06 (4.28.0), Maven 3.9.1, TestNG 7.5.1, Java 8.</p>\n<p>Doing development I often use the Eclipse &quot;Run As:TestNG Test&quot; on a selected directory of test files. Following the Maven SureFire plugin convention, all of my test class names are of the form &quot;.*Test&quot;, except for integration tests, which follow the FailSafe plugin convention &quot;.*IT&quot;.  When selecting a directory of tests that include both SureFire and FailSafe test classes.  I have not been successful in getting &quot;Run As:TestNG Test&quot; to ignore the FailSafe &quot;.*IT&quot; classes, it runs them no matter what I do.</p>\n<p>(Excluding classes not a problem when running the tests directly from Maven command line. But it is awkward / difficult to quickly select a single directory of tests from the Maven command line!).</p>\n<p>I have tried labeling the FailSafe test methods using TestNG groups, e.g. (@Test(groups = {&quot;failsafe&quot;})) and then excluding the group using a testng.xml file like the following which was copied from the TestNG documentation:</p>\n<pre><code>&lt;suite name=&quot;ExcludeITFiles&quot;&gt;\n  &lt;test name=&quot;test1&quot;&gt;\n    &lt;groups&gt;\n      &lt;run&gt;\n        &lt;exclude name=&quot;failsafe&quot;/&gt;\n      &lt;/run&gt;\n    &lt;/groups&gt;\n  &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>I have tried using testng.xml file to exclude all methods of classes that have the name &quot;.*IT&quot;, like this:</p>\n<pre><code>&lt;suite name=&quot;ExcludeITFiles&quot;&gt;\n  &lt;test name=&quot;test1&quot;&gt;\n    &lt;classes&gt;\n      &lt;class name=&quot;.*IT&quot;&gt;\n        &lt;methods&gt;\n          &lt;exclude name=&quot;.*&quot;/&gt;\n        &lt;/methods&gt;\n      &lt;/class&gt;\n    &lt;/classes&gt;\n  &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>I have also tried different variations of name using RegEx, e.g., &lt;class name=&quot;.*IT.*&quot;&gt;.<br />\nApparently, the testng.xml &lt;class name= ...&gt; does not accept RegEx expressions even through the official TestNG documentation <a href=\"https://testng.org/doc/documentation-main.html#testng-xml\" rel=\"nofollow noreferrer\">https://testng.org/doc/documentation-main.html#testng-xml</a>, section 5, seems to imply that it does! To wit: &quot;Note: TestNG uses regular expressions,...&quot;.</p>\n<p>I other words, I haven't been able to find any way to specify exclude or include filtering of tests when using Eclipse &quot;Run As:TestNG Test&quot;.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","android","file","video","android-intent"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1692273617,"post_id":76921234,"comment_id":135602457,"body_markdown":"What does &quot;it doesn&#39;t return anything&quot; mean? &quot;I want to get the path of the selected videos&quot; -- that is not an option, sorry.","body":"What does &quot;it doesn&#39;t return anything&quot; mean? &quot;I want to get the path of the selected videos&quot; -- that is not an option, sorry."}],"answers":[{"tags":[],"owner":{"account_id":19634805,"reputation":311,"user_id":14372265,"display_name":"Yogesh Rewani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692333286,"creation_date":1692274036,"answer_id":76921367,"question_id":76921234,"body_markdown":"You can select the multiple video by following code and on Activity result get the uri of file \r\n\r\n    private void selectMultipleVideos() {\r\n            Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n            intent.setType(&quot;video/*&quot;);\r\n            intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\r\n            startActivityForResult(intent, REQUEST_CODE_SELECT_VIDEOS);\r\n        }\r\n\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n    \r\n        if (requestCode == REQUEST_CODE_SELECT_VIDEOS &amp;&amp; resultCode == RESULT_OK) {\r\n            if (data != null) {\r\n                if (data.getClipData() != null) {\r\n                    // Multiple videos were selected\r\n                    int count = data.getClipData().getItemCount();\r\n                    for (int i = 0; i &lt; count; i++) {\r\n                        Uri videoUri = data.getClipData().getItemAt(i).getUri();\r\n                        // Process the selected video Uri\r\n                    }\r\n                } else if (data.getData() != null) {\r\n                    // Single video was selected\r\n                    Uri videoUri = data.getData();\r\n                    // Process the selected video Uri\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private File convertUriToFile(Uri uri) {\r\n            String filePath = null;\r\n            String[] projection = {MediaStore.Video.Media.DATA};\r\n            ContentResolver contentResolver = getContentResolver();\r\n            Cursor cursor = contentResolver.query(uri, projection, null, null, null);\r\n    \r\n            if (cursor != null &amp;&amp; cursor.moveToFirst()) {\r\n                int columnIndex = cursor.getColumnIndexOrThrow(MediaStore.Video.Media.DATA);\r\n                filePath = cursor.getString(columnIndex);\r\n                cursor.close();\r\n            }\r\n    \r\n            if (filePath != null) {\r\n                return new File(filePath);\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n\r\n\r\nLet me know if you have any doubts","title":"How to Get the multiple videos using intent","body":"<p>You can select the multiple video by following code and on Activity result get the uri of file</p>\n<pre><code>private void selectMultipleVideos() {\n        Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n        intent.setType(&quot;video/*&quot;);\n        intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\n        startActivityForResult(intent, REQUEST_CODE_SELECT_VIDEOS);\n    }\n\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if (requestCode == REQUEST_CODE_SELECT_VIDEOS &amp;&amp; resultCode == RESULT_OK) {\n        if (data != null) {\n            if (data.getClipData() != null) {\n                // Multiple videos were selected\n                int count = data.getClipData().getItemCount();\n                for (int i = 0; i &lt; count; i++) {\n                    Uri videoUri = data.getClipData().getItemAt(i).getUri();\n                    // Process the selected video Uri\n                }\n            } else if (data.getData() != null) {\n                // Single video was selected\n                Uri videoUri = data.getData();\n                // Process the selected video Uri\n            }\n        }\n    }\n}\n\nprivate File convertUriToFile(Uri uri) {\n        String filePath = null;\n        String[] projection = {MediaStore.Video.Media.DATA};\n        ContentResolver contentResolver = getContentResolver();\n        Cursor cursor = contentResolver.query(uri, projection, null, null, null);\n\n        if (cursor != null &amp;&amp; cursor.moveToFirst()) {\n            int columnIndex = cursor.getColumnIndexOrThrow(MediaStore.Video.Media.DATA);\n            filePath = cursor.getString(columnIndex);\n            cursor.close();\n        }\n\n        if (filePath != null) {\n            return new File(filePath);\n        } else {\n            return null;\n        }\n    }\n</code></pre>\n<p>Let me know if you have any doubts</p>\n"}],"owner":{"account_id":28987078,"reputation":3,"user_id":22203694,"display_name":"Micah Okoh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76921367,"answer_count":1,"score":0,"last_activity_date":1692512619,"creation_date":1692273018,"question_id":76921234,"body_markdown":"My problem is that after creating an Intent and making the user select videos my activityOnResult method is supposed to get the file path of the selected videos from their uri which it does then afterward a for loop is supposed to run which loops through the lists of the selected videos path and assign them to a file which I plan to rename to a hidden directory I created.\r\n\r\nBut the problem is that the for loop doesn&#39;t run I think because I placed an alert dialog after the for loop and got a random item from the list of selected videos and it runs but the for loop doesn&#39;t.\r\n\r\nHere is my Activity\r\n\r\n```\r\npackage com.memoir.premium.code.activities;\r\n\r\nimport android.os.Bundle;\r\nimport android.support.v7.app.AppCompatActivity;\r\nimport com.memoir.premium.code.R;\r\nimport android.support.design.widget.*;\r\nimport android.support.v4.view.*;\r\nimport com.memoir.premium.code.fragments.*;\r\nimport android.support.v4.app.*;\r\nimport java.util.*;\r\nimport android.view.*;\r\nimport android.os.*;\r\nimport android.content.*;\r\nimport java.io.*;\r\nimport android.provider.*;\r\nimport android.net.*;\r\nimport android.database.*;\r\nimport android.util.*;\r\nimport android.annotation.*;\r\nimport android.widget.*;\r\nimport android.*;\r\nimport android.content.pm.*;\r\nimport cn.pedant.SweetAlert.*;\r\nimport java.nio.file.*;\r\n\r\npublic class ImportResourcesActivity extends AppCompatActivity {\r\n\t\r\n\tprivate TabLayout tabLayout;\r\n    private ViewPager viewPager;\r\n    private int[] tabIcons = {\r\n\t\tR.drawable.video_icon,\r\n\t\tR.drawable.image_icon\r\n    };\r\n\t\r\n\tprivate FloatingActionButton fab_add;\r\n\r\n\tprivate static final String TAG = &quot;VideoPickerActivity&quot;;\r\n\r\n    private static final int SELECT_VIDEOS = 1;\r\n    private static final int SELECT_VIDEOS_KITKAT = 1;\r\n\r\n\tint REQUEST_CODE_SELECT_VIDEOS = 1;\r\n    private List&lt;String&gt; selectedVideos;\r\n\t\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.import_resources_activity);\r\n\t\t\r\n        viewPager = (ViewPager) findViewById(R.id.viewpager);\r\n        setupViewPager(viewPager);\r\n\r\n        tabLayout = (TabLayout) findViewById(R.id.tabs);\r\n        tabLayout.setupWithViewPager(viewPager);\r\n\r\n        setupTabIcons();\r\n\t\t\r\n\t\tfab_add = findViewById(R.id.fab_add);\r\n\t\tfab_add.setOnClickListener(new View.OnClickListener() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onClick(View view) {\r\n\t\t\t\t\tcheckPermission();\r\n\t\t\t\t}\r\n\t\t\t});\r\n    }\r\n\t\r\n\tpublic void checkPermission(){\r\n\r\n        if(this!=null){\r\n\r\n\t\t\tif(ActivityCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE)== PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE)== PackageManager.PERMISSION_GRANTED){\r\n\t\t\t\t\r\n\t\t\t\tselectMultipleVideos();\r\n\r\n\t\t\t}\r\n\r\n\t\t\telse {\r\n\r\n\t\t\t\tActivityCompat.requestPermissions(this,new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE,Manifest.permission.READ_EXTERNAL_STORAGE},100);\r\n\r\n\t\t\t}}\r\n\r\n    }\r\n\t\r\n\tprivate void selectMultipleVideos() {\r\n      /*  Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n        intent.setType(&quot;video/*&quot;);\r\n        intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\r\n        startActivityForResult(intent, REQUEST_CODE_SELECT_VIDEOS);*/\r\n\t\t\r\n\t\tif (Build.VERSION.SDK_INT &lt;19){\r\n\t\t\tIntent intent = new Intent();\r\n\t\t\tintent.setType(&quot;video/mp4&quot;);\r\n\t\t\tintent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\r\n\t\t\tintent.setAction(Intent.ACTION_GET_CONTENT);\r\n\t\t\tstartActivityForResult(Intent.createChooser(intent, &quot;Select videos&quot;),REQUEST_CODE_SELECT_VIDEOS);\r\n\t\t} else {\r\n\t\t\tIntent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n\t\t\tintent.addCategory(Intent.CATEGORY_OPENABLE);\r\n\t\t\tintent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\r\n\t\t\tintent.setType(&quot;video/mp4&quot;);\r\n\t\t\tstartActivityForResult(intent, REQUEST_CODE_SELECT_VIDEOS);\r\n\t\t}\r\n    }\r\n\t\r\n\t@Override\r\n\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        if(requestCode==100 &amp;&amp; (grantResults.length&gt;0) &amp;&amp; (grantResults[0]==PackageManager.PERMISSION_GRANTED) &amp;&amp;  (grantResults[1]==PackageManager.PERMISSION_GRANTED)){\r\n\r\n            //When permission granted\r\n\r\n\t\t\tif (Build.VERSION.SDK_INT &lt;19){\r\n\t\t\t\tIntent intent = new Intent();\r\n\t\t\t\tintent.setType(&quot;video/mp4&quot;);\r\n\t\t\t\tintent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\r\n\t\t\t\tintent.setAction(Intent.ACTION_GET_CONTENT);\r\n\t\t\t\tstartActivityForResult(Intent.createChooser(intent, &quot;Select videos&quot;),REQUEST_CODE_SELECT_VIDEOS);\r\n\t\t\t} else {\r\n\t\t\t\tIntent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n\t\t\t\tintent.addCategory(Intent.CATEGORY_OPENABLE);\r\n\t\t\t\tintent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\r\n\t\t\t\tintent.setType(&quot;video/mp4&quot;);\r\n\t\t\t\tstartActivityForResult(intent, REQUEST_CODE_SELECT_VIDEOS);\r\n\t\t\t}\r\n\r\n        }\r\n\r\n        else {\r\n\r\n            new SweetAlertDialog(this, SweetAlertDialog.WARNING_TYPE)\r\n\t\t\t\t.setTitleText(&quot;Alert&quot;)\r\n\t\t\t\t.setContentText(&quot;App cannot function without you granting this permission so please grant it&quot;)\r\n\t\t\t\t.show();\r\n\r\n        }\r\n\r\n    }\r\n\t\r\n\t@Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n\t\tsuper.onActivityResult(requestCode,resultCode,data);\r\n        if (resultCode == RESULT_OK) {\r\n            selectedVideos = getSelectedVideos(requestCode,data);\r\n\r\n\t\t\tfor(int i = 0;selectedVideos.size()&lt; i;i++){\r\n\t\t\t\tFile vidFile = new File(selectedVideos.get(i));\r\n\t\t\t\tvidFile.renameTo(new File(Environment.getExternalStorageDirectory()+File.separator+&quot;.&quot;+&quot;memories/videos/&quot;+vidFile.getName()));\r\n\t\t\t\tshowToast(&quot;Sucess &quot;+vidFile.getName());\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tnew SweetAlertDialog(this, SweetAlertDialog.NORMAL_TYPE)\r\n\t\t\t\t.setTitleText(&quot;Sir Micah&quot;)\r\n\t\t\t\t.setContentText(&quot;It returned an intent&quot; + selectedVideos.get(0))\r\n\t\t\t\t.show();\r\n\r\n        }\r\n\r\n    }\r\n\r\n\t\r\n\r\n\r\n\t/*@Override\r\n\tprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n\t\tsuper.onActivityResult(requestCode, resultCode, data);\r\n\r\n\t\tif (requestCode == REQUEST_CODE_SELECT_VIDEOS &amp;&amp; resultCode == RESULT_OK) {\r\n\t\t\tif (data != null) {\r\n\t\t\t\tif (data.getClipData() != null) {\r\n\t\t\t\t\t// Multiple videos were selected\r\n\t\t\t\t\tint count = data.getClipData().getItemCount();\r\n\t\t\t\t\tfor (int i = 0; i &lt; count; i++) {\r\n\t\t\t\t\t\tUri videoUri = data.getClipData().getItemAt(i).getUri();\r\n\t\t\t\t\t\t// Process the selected video Uri\r\n\t\t\t\t\t\t//File vidFile = convertUriToFile(videoUri);\r\n\t\t\t\t\t\t//vidFile.renameTo(new File(Environment.getExternalStorageDirectory()+File.separator+&quot;.&quot;+&quot;memories/videos/&quot;+vidFile.getName()));\r\n\t\t\t\t\t\tshowToast(&quot;Sucess &quot;+i);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (data.getData() != null) {\r\n\t\t\t\t\t// Single video was selected\r\n\t\t\t\t\tUri videoUri = data.getData();\r\n\t\t\t\t\t// Process the selected video Ur\r\n\t\t\t\t\t//File vidFile = convertUriToFile(videoUri);\r\n\t\t\t\t\t//vidFile.renameTo(new File(Environment.getExternalStorageDirectory()+File.separator+&quot;.&quot;+&quot;memories/videos/&quot;+vidFile.getName()));\r\n\t\t\t\t\tshowToast(&quot;Sucess &quot;+videoUri);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}*/\r\n\r\n\t/*private File convertUriToFile(Uri uri) {\r\n        String filePath = null;\r\n        String[] projection = {MediaStore.Video.Media.DATA};\r\n        ContentResolver contentResolver = getContentResolver();\r\n        Cursor cursor = contentResolver.query(uri, projection, null, null, null);\r\n\r\n        if (cursor != null &amp;&amp; cursor.moveToFirst()) {\r\n            int columnIndex = cursor.getColumnIndexOrThrow(MediaStore.Video.Media.DATA);\r\n            filePath = cursor.getString(columnIndex);\r\n            cursor.close();\r\n        }\r\n\r\n        if (filePath != null) {\r\n            return new File(filePath);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n\tpublic String getRealPathFromURI(Context context, Uri contentUri) {\r\n\t\tCursor cursor = null;\r\n\t\ttry { \r\n\t\t\tString[] proj = { MediaStore.Images.Media.DATA };\r\n\t\t\tcursor = context.getContentResolver().query(contentUri,  proj, null, null, null);\r\n\t\t\tint column_index = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA);\r\n\t\t\tcursor.moveToFirst();\r\n\t\t\treturn cursor.getString(column_index);\r\n\t\t} finally {\r\n\t\t\tif (cursor != null) {\r\n\t\t\t\tcursor.close();\r\n\t\t\t}\r\n\t\t}\r\n\t}*/\r\n\t\r\n\t\r\n\r\n\t/*private List&lt;String&gt; getSelectedVideos(Intent data) {\r\n\r\n\t\tList&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n\r\n\t\tString[] filePathColumn = { MediaStore.Video.Media.DATA };\r\n\r\n\t\t// Single video selected\r\n\t\tif(data.getData() != null){\r\n\r\n\t\t\tUri mImageUri = data.getData();\r\n\r\n\t\t\t// Get the cursor\r\n\t\t\tCursor cursor = getContentResolver().query(mImageUri,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfilePathColumn, null, null, null);\r\n\t\t\t// Move to first row\r\n\t\t\tcursor.moveToFirst();\r\n\r\n\t\t\tint columnIndex = cursor.getColumnIndex(filePathColumn[0]);\r\n\t\t\tString videoPath  = cursor.getString(columnIndex);\r\n\t\t\tif(videoPath == null)\r\n\t\t\t\tLog.e(TAG, &quot;videoPath is null&quot;);\r\n\t\t\tresult.add(videoPath);\r\n\t\t\tcursor.close();\r\n\t\t}\r\n\t\t// Multiple videos selected\r\n\t\telse {\r\n\t\t\tClipData mClipData = data.getClipData();\r\n\t\t\tif (mClipData != null) {\r\n\t\t\t\tfor (int i = 0; i &lt; mClipData.getItemCount(); i++) {\r\n\r\n\t\t\t\t\tClipData.Item item = mClipData.getItemAt(i);\r\n\t\t\t\t\tUri uri = item.getUri();\r\n\t\t\t\t\t// Get the cursor\r\n\t\t\t\t\tCursor cursor = getContentResolver().query(uri, filePathColumn, null, null, null);\r\n\t\t\t\t\t// Move to first row\r\n\t\t\t\t\tif (cursor == null)\r\n\t\t\t\t\t\tLog.e(TAG, &quot;cursor is null&quot;);\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tif (cursor.moveToFirst()) {\r\n\t\t\t\t\t\t\tint columnIndex = cursor.getColumnIndex(MediaStore.Video.Media.DATA);\r\n\t\t\t\t\t\t\tString videoPath = cursor.getString(columnIndex);\r\n\t\t\t\t\t\t\tif(videoPath == null)\r\n\t\t\t\t\t\t\t\tLog.e(TAG, &quot;videoPath is null&quot;);\r\n\t\t\t\t\t\t\tresult.add(videoPath);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tLog.e(TAG, &quot;cannot use cursor&quot;);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcursor.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}*/\r\n\r\n\tprivate List&lt;String&gt; getSelectedVideos(int requestCode, Intent data) {\r\n\r\n        List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n\r\n        ClipData clipData = data.getClipData();\r\n        if(clipData != null) {\r\n            for(int i=0;i&lt;clipData.getItemCount();i++) {\r\n                ClipData.Item videoItem = clipData.getItemAt(i);\r\n                Uri videoURI = videoItem.getUri();\r\n                String filePath = getPath(this, videoURI);\r\n                result.add(filePath);\r\n            }\r\n        }\r\n        else {\r\n            Uri videoURI = data.getData();\r\n            String filePath = getPath(this, videoURI);\r\n            result.add(filePath);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Get a file path from a Uri. This will get the the path for Storage Access\r\n     * Framework Documents, as well as the _data field for the MediaStore and\r\n     * other file-based ContentProviders.\r\n     *\r\n     * @param context The context.\r\n     * @param uri The Uri to query.\r\n     * @author paulburke\r\n     */\r\n    @SuppressLint(&quot;NewApi&quot;)\r\n    public static String getPath(final Context context, final Uri uri) {\r\n\r\n        final boolean isKitKat = Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT;\r\n\r\n        // DocumentProvider\r\n        if (isKitKat &amp;&amp; DocumentsContract.isDocumentUri(context, uri)) {\r\n            // ExternalStorageProvider\r\n            if (isExternalStorageDocument(uri)) {\r\n                final String docId = DocumentsContract.getDocumentId(uri);\r\n                final String[] split = docId.split(&quot;:&quot;);\r\n                final String type = split[0];\r\n\r\n                if (&quot;primary&quot;.equalsIgnoreCase(type)) {\r\n                    return Environment.getExternalStorageDirectory() + &quot;/&quot; + split[1];\r\n                }\r\n\r\n                // TODO handle non-primary volumes\r\n            }\r\n            // DownloadsProvider\r\n            else if (isDownloadsDocument(uri)) {\r\n\r\n                final String id = DocumentsContract.getDocumentId(uri);\r\n                final Uri contentUri = ContentUris.withAppendedId(\r\n\t\t\t\t\tUri.parse(&quot;content://downloads/public_downloads&quot;), Long.valueOf(id));\r\n\r\n                return getDataColumn(context, contentUri, null, null);\r\n            }\r\n            // MediaProvider\r\n            else if (isMediaDocument(uri)) {\r\n                final String docId = DocumentsContract.getDocumentId(uri);\r\n                final String[] split = docId.split(&quot;:&quot;);\r\n                final String type = split[0];\r\n\r\n                Uri contentUri = null;\r\n                if (&quot;image&quot;.equals(type)) {\r\n                    contentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\r\n                } else if (&quot;video&quot;.equals(type)) {\r\n                    contentUri = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;\r\n                } else if (&quot;audio&quot;.equals(type)) {\r\n                    contentUri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\r\n                }\r\n\r\n                final String selection = &quot;_id=?&quot;;\r\n                final String[] selectionArgs = new String[] {\r\n\t\t\t\t\tsplit[1]\r\n                };\r\n\r\n                return getDataColumn(context, contentUri, selection, selectionArgs);\r\n            }\r\n        }\r\n        // MediaStore (and general)\r\n        else if (&quot;content&quot;.equalsIgnoreCase(uri.getScheme())) {\r\n\r\n            // Return the remote address\r\n            if (isGooglePhotosUri(uri))\r\n                return uri.getLastPathSegment();\r\n\r\n            return getDataColumn(context, uri, null, null);\r\n        }\r\n        // File\r\n        else if (&quot;file&quot;.equalsIgnoreCase(uri.getScheme())) {\r\n            return uri.getPath();\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * Get the value of the data column for this Uri. This is useful for\r\n     * MediaStore Uris, and other file-based ContentProviders.\r\n     *\r\n     * @param context The context.\r\n     * @param uri The Uri to query.\r\n     * @param selection (Optional) Filter used in the query.\r\n     * @param selectionArgs (Optional) Selection arguments used in the query.\r\n     * @return The value of the _data column, which is typically a file path.\r\n     */\r\n    public static String getDataColumn(Context context, Uri uri, String selection,\r\n                                       String[] selectionArgs) {\r\n\r\n        Cursor cursor = null;\r\n        final String column = &quot;_data&quot;;\r\n        final String[] projection = {\r\n\t\t\tcolumn\r\n        };\r\n\r\n        try {\r\n            cursor = context.getContentResolver().query(uri, projection, selection, selectionArgs,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnull);\r\n            if (cursor != null &amp;&amp; cursor.moveToFirst()) {\r\n                final int index = cursor.getColumnIndexOrThrow(column);\r\n                return cursor.getString(index);\r\n            }\r\n        } finally {\r\n            if (cursor != null)\r\n                cursor.close();\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n    /**\r\n     * @param uri The Uri to check.\r\n     * @return Whether the Uri authority is ExternalStorageProvider.\r\n     */\r\n    public static boolean isExternalStorageDocument(Uri uri) {\r\n        return &quot;com.android.externalstorage.documents&quot;.equals(uri.getAuthority());\r\n    }\r\n\r\n    /**\r\n     * @param uri The Uri to check.\r\n     * @return Whether the Uri authority is DownloadsProvider.\r\n     */\r\n    public static boolean isDownloadsDocument(Uri uri) {\r\n        return &quot;com.android.providers.downloads.documents&quot;.equals(uri.getAuthority());\r\n    }\r\n\r\n    /**\r\n     * @param uri The Uri to check.\r\n     * @return Whether the Uri authority is MediaProvider.\r\n     */\r\n    public static boolean isMediaDocument(Uri uri) {\r\n        return &quot;com.android.providers.media.documents&quot;.equals(uri.getAuthority());\r\n    }\r\n\r\n    /**\r\n     * @param uri The Uri to check.\r\n     * @return Whether the Uri authority is Google Photos.\r\n     */\r\n    public static boolean isGooglePhotosUri(Uri uri) {\r\n        return &quot;com.google.android.apps.photos.content&quot;.equals(uri.getAuthority());\r\n    }\r\n\t\r\n\tpublic void showToast(String str){\r\n\t\tToast.makeText(getApplicationContext(),str,Toast.LENGTH_LONG).show();\r\n\t}\r\n\r\n    private void setupTabIcons() {\r\n        tabLayout.getTabAt(0).setIcon(tabIcons[0]);\r\n        tabLayout.getTabAt(1).setIcon(tabIcons[1]);\r\n        \r\n    }\r\n\r\n    private void setupViewPager(ViewPager viewPager) {\r\n        ViewPagerAdapter adapter = new ViewPagerAdapter(getSupportFragmentManager());\r\n        adapter.addFragment(new Videos(), &quot;VIDEOS&quot;);\r\n        adapter.addFragment(new Images(), &quot;IMAGES&quot;);\r\n        viewPager.setAdapter(adapter);\r\n    }\r\n\r\n    class ViewPagerAdapter extends FragmentPagerAdapter {\r\n        private final List&lt;Fragment&gt; mFragmentList = new ArrayList&lt;&gt;();\r\n        private final List&lt;String&gt; mFragmentTitleList = new ArrayList&lt;&gt;();\r\n\r\n        public ViewPagerAdapter(FragmentManager manager) {\r\n            super(manager);\r\n        }\r\n\r\n        @Override\r\n        public Fragment getItem(int position) {\r\n            return mFragmentList.get(position);\r\n        }\r\n\r\n        @Override\r\n        public int getCount() {\r\n            return mFragmentList.size();\r\n        }\r\n\r\n        public void addFragment(Fragment fragment, String title) {\r\n            mFragmentList.add(fragment);\r\n            mFragmentTitleList.add(title);\r\n        }\r\n\r\n        @Override\r\n        public CharSequence getPageTitle(int position) {\r\n            return mFragmentTitleList.get(position);\r\n        }\r\n    }\r\n}\r\n```\r\nHere is the ActivityOnResult from the above activity\r\n\r\n```\r\n@Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n\t\tsuper.onActivityResult(requestCode,resultCode,data);\r\n        if (resultCode == RESULT_OK) {\r\n            selectedVideos = getSelectedVideos(requestCode,data);\r\n\r\n\t\t\tfor(int i = 0;selectedVideos.size()&lt; i;i++){\r\n\t\t\t\tFile vidFile = new File(selectedVideos.get(i));\r\n\t\t\t\tvidFile.renameTo(new File(Environment.getExternalStorageDirectory()+File.separator+&quot;.&quot;+&quot;memories/videos/&quot;+vidFile.getName()));\r\n\t\t\t\tshowToast(&quot;Sucess &quot;+vidFile.getName());\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tnew SweetAlertDialog(this, SweetAlertDialog.NORMAL_TYPE)\r\n\t\t\t\t.setTitleText(&quot;Sir Micah&quot;)\r\n\t\t\t\t.setContentText(&quot;It returned an intent data&quot; + selectedVideos.get(0))\r\n\t\t\t\t.show();\r\n\r\n        }\r\n\r\n    }\r\n```\r\nHere is a pic of what happens when I select the videos,after it returns to the app the alert dialog runs showing me that the path is not null but the for loop does not rename the file to my hidden directory.\r\n\r\n[Tap to see the screenshot ][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Rxx3n.png","title":"How to Get the multiple videos using intent","body":"<p>My problem is that after creating an Intent and making the user select videos my activityOnResult method is supposed to get the file path of the selected videos from their uri which it does then afterward a for loop is supposed to run which loops through the lists of the selected videos path and assign them to a file which I plan to rename to a hidden directory I created.</p>\n<p>But the problem is that the for loop doesn't run I think because I placed an alert dialog after the for loop and got a random item from the list of selected videos and it runs but the for loop doesn't.</p>\n<p>Here is my Activity</p>\n<pre><code>package com.memoir.premium.code.activities;\n\nimport android.os.Bundle;\nimport android.support.v7.app.AppCompatActivity;\nimport com.memoir.premium.code.R;\nimport android.support.design.widget.*;\nimport android.support.v4.view.*;\nimport com.memoir.premium.code.fragments.*;\nimport android.support.v4.app.*;\nimport java.util.*;\nimport android.view.*;\nimport android.os.*;\nimport android.content.*;\nimport java.io.*;\nimport android.provider.*;\nimport android.net.*;\nimport android.database.*;\nimport android.util.*;\nimport android.annotation.*;\nimport android.widget.*;\nimport android.*;\nimport android.content.pm.*;\nimport cn.pedant.SweetAlert.*;\nimport java.nio.file.*;\n\npublic class ImportResourcesActivity extends AppCompatActivity {\n    \n    private TabLayout tabLayout;\n    private ViewPager viewPager;\n    private int[] tabIcons = {\n        R.drawable.video_icon,\n        R.drawable.image_icon\n    };\n    \n    private FloatingActionButton fab_add;\n\n    private static final String TAG = &quot;VideoPickerActivity&quot;;\n\n    private static final int SELECT_VIDEOS = 1;\n    private static final int SELECT_VIDEOS_KITKAT = 1;\n\n    int REQUEST_CODE_SELECT_VIDEOS = 1;\n    private List&lt;String&gt; selectedVideos;\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.import_resources_activity);\n        \n        viewPager = (ViewPager) findViewById(R.id.viewpager);\n        setupViewPager(viewPager);\n\n        tabLayout = (TabLayout) findViewById(R.id.tabs);\n        tabLayout.setupWithViewPager(viewPager);\n\n        setupTabIcons();\n        \n        fab_add = findViewById(R.id.fab_add);\n        fab_add.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    checkPermission();\n                }\n            });\n    }\n    \n    public void checkPermission(){\n\n        if(this!=null){\n\n            if(ActivityCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE)== PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE)== PackageManager.PERMISSION_GRANTED){\n                \n                selectMultipleVideos();\n\n            }\n\n            else {\n\n                ActivityCompat.requestPermissions(this,new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE,Manifest.permission.READ_EXTERNAL_STORAGE},100);\n\n            }}\n\n    }\n    \n    private void selectMultipleVideos() {\n      /*  Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n        intent.setType(&quot;video/*&quot;);\n        intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\n        startActivityForResult(intent, REQUEST_CODE_SELECT_VIDEOS);*/\n        \n        if (Build.VERSION.SDK_INT &lt;19){\n            Intent intent = new Intent();\n            intent.setType(&quot;video/mp4&quot;);\n            intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\n            intent.setAction(Intent.ACTION_GET_CONTENT);\n            startActivityForResult(Intent.createChooser(intent, &quot;Select videos&quot;),REQUEST_CODE_SELECT_VIDEOS);\n        } else {\n            Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n            intent.addCategory(Intent.CATEGORY_OPENABLE);\n            intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\n            intent.setType(&quot;video/mp4&quot;);\n            startActivityForResult(intent, REQUEST_CODE_SELECT_VIDEOS);\n        }\n    }\n    \n    @Override\n\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n        if(requestCode==100 &amp;&amp; (grantResults.length&gt;0) &amp;&amp; (grantResults[0]==PackageManager.PERMISSION_GRANTED) &amp;&amp;  (grantResults[1]==PackageManager.PERMISSION_GRANTED)){\n\n            //When permission granted\n\n            if (Build.VERSION.SDK_INT &lt;19){\n                Intent intent = new Intent();\n                intent.setType(&quot;video/mp4&quot;);\n                intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\n                intent.setAction(Intent.ACTION_GET_CONTENT);\n                startActivityForResult(Intent.createChooser(intent, &quot;Select videos&quot;),REQUEST_CODE_SELECT_VIDEOS);\n            } else {\n                Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n                intent.addCategory(Intent.CATEGORY_OPENABLE);\n                intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\n                intent.setType(&quot;video/mp4&quot;);\n                startActivityForResult(intent, REQUEST_CODE_SELECT_VIDEOS);\n            }\n\n        }\n\n        else {\n\n            new SweetAlertDialog(this, SweetAlertDialog.WARNING_TYPE)\n                .setTitleText(&quot;Alert&quot;)\n                .setContentText(&quot;App cannot function without you granting this permission so please grant it&quot;)\n                .show();\n\n        }\n\n    }\n    \n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode,resultCode,data);\n        if (resultCode == RESULT_OK) {\n            selectedVideos = getSelectedVideos(requestCode,data);\n\n            for(int i = 0;selectedVideos.size()&lt; i;i++){\n                File vidFile = new File(selectedVideos.get(i));\n                vidFile.renameTo(new File(Environment.getExternalStorageDirectory()+File.separator+&quot;.&quot;+&quot;memories/videos/&quot;+vidFile.getName()));\n                showToast(&quot;Sucess &quot;+vidFile.getName());\n            }\n            \n            new SweetAlertDialog(this, SweetAlertDialog.NORMAL_TYPE)\n                .setTitleText(&quot;Sir Micah&quot;)\n                .setContentText(&quot;It returned an intent&quot; + selectedVideos.get(0))\n                .show();\n\n        }\n\n    }\n\n    \n\n\n    /*@Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if (requestCode == REQUEST_CODE_SELECT_VIDEOS &amp;&amp; resultCode == RESULT_OK) {\n            if (data != null) {\n                if (data.getClipData() != null) {\n                    // Multiple videos were selected\n                    int count = data.getClipData().getItemCount();\n                    for (int i = 0; i &lt; count; i++) {\n                        Uri videoUri = data.getClipData().getItemAt(i).getUri();\n                        // Process the selected video Uri\n                        //File vidFile = convertUriToFile(videoUri);\n                        //vidFile.renameTo(new File(Environment.getExternalStorageDirectory()+File.separator+&quot;.&quot;+&quot;memories/videos/&quot;+vidFile.getName()));\n                        showToast(&quot;Sucess &quot;+i);\n                        \n                    }\n                } else if (data.getData() != null) {\n                    // Single video was selected\n                    Uri videoUri = data.getData();\n                    // Process the selected video Ur\n                    //File vidFile = convertUriToFile(videoUri);\n                    //vidFile.renameTo(new File(Environment.getExternalStorageDirectory()+File.separator+&quot;.&quot;+&quot;memories/videos/&quot;+vidFile.getName()));\n                    showToast(&quot;Sucess &quot;+videoUri);\n                }\n            }\n        }\n    }*/\n\n    /*private File convertUriToFile(Uri uri) {\n        String filePath = null;\n        String[] projection = {MediaStore.Video.Media.DATA};\n        ContentResolver contentResolver = getContentResolver();\n        Cursor cursor = contentResolver.query(uri, projection, null, null, null);\n\n        if (cursor != null &amp;&amp; cursor.moveToFirst()) {\n            int columnIndex = cursor.getColumnIndexOrThrow(MediaStore.Video.Media.DATA);\n            filePath = cursor.getString(columnIndex);\n            cursor.close();\n        }\n\n        if (filePath != null) {\n            return new File(filePath);\n        } else {\n            return null;\n        }\n    }\n\n    public String getRealPathFromURI(Context context, Uri contentUri) {\n        Cursor cursor = null;\n        try { \n            String[] proj = { MediaStore.Images.Media.DATA };\n            cursor = context.getContentResolver().query(contentUri,  proj, null, null, null);\n            int column_index = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA);\n            cursor.moveToFirst();\n            return cursor.getString(column_index);\n        } finally {\n            if (cursor != null) {\n                cursor.close();\n            }\n        }\n    }*/\n    \n    \n\n    /*private List&lt;String&gt; getSelectedVideos(Intent data) {\n\n        List&lt;String&gt; result = new ArrayList&lt;&gt;();\n\n        String[] filePathColumn = { MediaStore.Video.Media.DATA };\n\n        // Single video selected\n        if(data.getData() != null){\n\n            Uri mImageUri = data.getData();\n\n            // Get the cursor\n            Cursor cursor = getContentResolver().query(mImageUri,\n                                                                    filePathColumn, null, null, null);\n            // Move to first row\n            cursor.moveToFirst();\n\n            int columnIndex = cursor.getColumnIndex(filePathColumn[0]);\n            String videoPath  = cursor.getString(columnIndex);\n            if(videoPath == null)\n                Log.e(TAG, &quot;videoPath is null&quot;);\n            result.add(videoPath);\n            cursor.close();\n        }\n        // Multiple videos selected\n        else {\n            ClipData mClipData = data.getClipData();\n            if (mClipData != null) {\n                for (int i = 0; i &lt; mClipData.getItemCount(); i++) {\n\n                    ClipData.Item item = mClipData.getItemAt(i);\n                    Uri uri = item.getUri();\n                    // Get the cursor\n                    Cursor cursor = getContentResolver().query(uri, filePathColumn, null, null, null);\n                    // Move to first row\n                    if (cursor == null)\n                        Log.e(TAG, &quot;cursor is null&quot;);\n                    else {\n                        if (cursor.moveToFirst()) {\n                            int columnIndex = cursor.getColumnIndex(MediaStore.Video.Media.DATA);\n                            String videoPath = cursor.getString(columnIndex);\n                            if(videoPath == null)\n                                Log.e(TAG, &quot;videoPath is null&quot;);\n                            result.add(videoPath);\n                        } else {\n                            Log.e(TAG, &quot;cannot use cursor&quot;);\n                        }\n                        cursor.close();\n                    }\n                }\n            }\n        }\n\n        return result;\n    }*/\n\n    private List&lt;String&gt; getSelectedVideos(int requestCode, Intent data) {\n\n        List&lt;String&gt; result = new ArrayList&lt;&gt;();\n\n        ClipData clipData = data.getClipData();\n        if(clipData != null) {\n            for(int i=0;i&lt;clipData.getItemCount();i++) {\n                ClipData.Item videoItem = clipData.getItemAt(i);\n                Uri videoURI = videoItem.getUri();\n                String filePath = getPath(this, videoURI);\n                result.add(filePath);\n            }\n        }\n        else {\n            Uri videoURI = data.getData();\n            String filePath = getPath(this, videoURI);\n            result.add(filePath);\n        }\n\n        return result;\n    }\n\n    /**\n     * Get a file path from a Uri. This will get the the path for Storage Access\n     * Framework Documents, as well as the _data field for the MediaStore and\n     * other file-based ContentProviders.\n     *\n     * @param context The context.\n     * @param uri The Uri to query.\n     * @author paulburke\n     */\n    @SuppressLint(&quot;NewApi&quot;)\n    public static String getPath(final Context context, final Uri uri) {\n\n        final boolean isKitKat = Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT;\n\n        // DocumentProvider\n        if (isKitKat &amp;&amp; DocumentsContract.isDocumentUri(context, uri)) {\n            // ExternalStorageProvider\n            if (isExternalStorageDocument(uri)) {\n                final String docId = DocumentsContract.getDocumentId(uri);\n                final String[] split = docId.split(&quot;:&quot;);\n                final String type = split[0];\n\n                if (&quot;primary&quot;.equalsIgnoreCase(type)) {\n                    return Environment.getExternalStorageDirectory() + &quot;/&quot; + split[1];\n                }\n\n                // TODO handle non-primary volumes\n            }\n            // DownloadsProvider\n            else if (isDownloadsDocument(uri)) {\n\n                final String id = DocumentsContract.getDocumentId(uri);\n                final Uri contentUri = ContentUris.withAppendedId(\n                    Uri.parse(&quot;content://downloads/public_downloads&quot;), Long.valueOf(id));\n\n                return getDataColumn(context, contentUri, null, null);\n            }\n            // MediaProvider\n            else if (isMediaDocument(uri)) {\n                final String docId = DocumentsContract.getDocumentId(uri);\n                final String[] split = docId.split(&quot;:&quot;);\n                final String type = split[0];\n\n                Uri contentUri = null;\n                if (&quot;image&quot;.equals(type)) {\n                    contentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\n                } else if (&quot;video&quot;.equals(type)) {\n                    contentUri = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;\n                } else if (&quot;audio&quot;.equals(type)) {\n                    contentUri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\n                }\n\n                final String selection = &quot;_id=?&quot;;\n                final String[] selectionArgs = new String[] {\n                    split[1]\n                };\n\n                return getDataColumn(context, contentUri, selection, selectionArgs);\n            }\n        }\n        // MediaStore (and general)\n        else if (&quot;content&quot;.equalsIgnoreCase(uri.getScheme())) {\n\n            // Return the remote address\n            if (isGooglePhotosUri(uri))\n                return uri.getLastPathSegment();\n\n            return getDataColumn(context, uri, null, null);\n        }\n        // File\n        else if (&quot;file&quot;.equalsIgnoreCase(uri.getScheme())) {\n            return uri.getPath();\n        }\n\n        return null;\n    }\n\n    /**\n     * Get the value of the data column for this Uri. This is useful for\n     * MediaStore Uris, and other file-based ContentProviders.\n     *\n     * @param context The context.\n     * @param uri The Uri to query.\n     * @param selection (Optional) Filter used in the query.\n     * @param selectionArgs (Optional) Selection arguments used in the query.\n     * @return The value of the _data column, which is typically a file path.\n     */\n    public static String getDataColumn(Context context, Uri uri, String selection,\n                                       String[] selectionArgs) {\n\n        Cursor cursor = null;\n        final String column = &quot;_data&quot;;\n        final String[] projection = {\n            column\n        };\n\n        try {\n            cursor = context.getContentResolver().query(uri, projection, selection, selectionArgs,\n                                                        null);\n            if (cursor != null &amp;&amp; cursor.moveToFirst()) {\n                final int index = cursor.getColumnIndexOrThrow(column);\n                return cursor.getString(index);\n            }\n        } finally {\n            if (cursor != null)\n                cursor.close();\n        }\n        return null;\n    }\n\n\n    /**\n     * @param uri The Uri to check.\n     * @return Whether the Uri authority is ExternalStorageProvider.\n     */\n    public static boolean isExternalStorageDocument(Uri uri) {\n        return &quot;com.android.externalstorage.documents&quot;.equals(uri.getAuthority());\n    }\n\n    /**\n     * @param uri The Uri to check.\n     * @return Whether the Uri authority is DownloadsProvider.\n     */\n    public static boolean isDownloadsDocument(Uri uri) {\n        return &quot;com.android.providers.downloads.documents&quot;.equals(uri.getAuthority());\n    }\n\n    /**\n     * @param uri The Uri to check.\n     * @return Whether the Uri authority is MediaProvider.\n     */\n    public static boolean isMediaDocument(Uri uri) {\n        return &quot;com.android.providers.media.documents&quot;.equals(uri.getAuthority());\n    }\n\n    /**\n     * @param uri The Uri to check.\n     * @return Whether the Uri authority is Google Photos.\n     */\n    public static boolean isGooglePhotosUri(Uri uri) {\n        return &quot;com.google.android.apps.photos.content&quot;.equals(uri.getAuthority());\n    }\n    \n    public void showToast(String str){\n        Toast.makeText(getApplicationContext(),str,Toast.LENGTH_LONG).show();\n    }\n\n    private void setupTabIcons() {\n        tabLayout.getTabAt(0).setIcon(tabIcons[0]);\n        tabLayout.getTabAt(1).setIcon(tabIcons[1]);\n        \n    }\n\n    private void setupViewPager(ViewPager viewPager) {\n        ViewPagerAdapter adapter = new ViewPagerAdapter(getSupportFragmentManager());\n        adapter.addFragment(new Videos(), &quot;VIDEOS&quot;);\n        adapter.addFragment(new Images(), &quot;IMAGES&quot;);\n        viewPager.setAdapter(adapter);\n    }\n\n    class ViewPagerAdapter extends FragmentPagerAdapter {\n        private final List&lt;Fragment&gt; mFragmentList = new ArrayList&lt;&gt;();\n        private final List&lt;String&gt; mFragmentTitleList = new ArrayList&lt;&gt;();\n\n        public ViewPagerAdapter(FragmentManager manager) {\n            super(manager);\n        }\n\n        @Override\n        public Fragment getItem(int position) {\n            return mFragmentList.get(position);\n        }\n\n        @Override\n        public int getCount() {\n            return mFragmentList.size();\n        }\n\n        public void addFragment(Fragment fragment, String title) {\n            mFragmentList.add(fragment);\n            mFragmentTitleList.add(title);\n        }\n\n        @Override\n        public CharSequence getPageTitle(int position) {\n            return mFragmentTitleList.get(position);\n        }\n    }\n}\n</code></pre>\n<p>Here is the ActivityOnResult from the above activity</p>\n<pre><code>@Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode,resultCode,data);\n        if (resultCode == RESULT_OK) {\n            selectedVideos = getSelectedVideos(requestCode,data);\n\n            for(int i = 0;selectedVideos.size()&lt; i;i++){\n                File vidFile = new File(selectedVideos.get(i));\n                vidFile.renameTo(new File(Environment.getExternalStorageDirectory()+File.separator+&quot;.&quot;+&quot;memories/videos/&quot;+vidFile.getName()));\n                showToast(&quot;Sucess &quot;+vidFile.getName());\n            }\n            \n            new SweetAlertDialog(this, SweetAlertDialog.NORMAL_TYPE)\n                .setTitleText(&quot;Sir Micah&quot;)\n                .setContentText(&quot;It returned an intent data&quot; + selectedVideos.get(0))\n                .show();\n\n        }\n\n    }\n</code></pre>\n<p>Here is a pic of what happens when I select the videos,after it returns to the app the alert dialog runs showing me that the path is not null but the for loop does not rename the file to my hidden directory.</p>\n<p><a href=\"https://i.stack.imgur.com/Rxx3n.png\" rel=\"nofollow noreferrer\">Tap to see the screenshot </a></p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":51094,"reputation":9008,"user_id":152578,"accept_rate":100,"display_name":"CPerkins"},"score":87,"creation_date":1252195675,"post_id":1383797,"comment_id":1224558,"body_markdown":"Note that there is no single corresponding key - there may well be multiple keys mapping to the same value.","body":"Note that there is no single corresponding key - there may well be multiple keys mapping to the same value."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1692512972,"post_id":1383797,"comment_id":135631809,"body_markdown":"score of 527, 10+ years, and still missing the  key type in `HashMap&lt;String&gt; ftw`","body":"score of 527, 10+ years, and still missing the  key type in <code>HashMap&lt;String&gt; ftw</code>"}],"answers":[{"tags":[],"owner":{"account_id":19194,"reputation":84363,"user_id":44743,"accept_rate":71,"display_name":"recursive"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1252170537,"creation_date":1252170537,"answer_id":1383800,"question_id":1383797,"body_markdown":"There is no unambiguous answer, because multiple keys can map to the same value.  If you are enforcing unique-ness with your own code, the best solution is to create a class that uses two Hashmaps to track the mappings in both directions.","title":"Java Hashmap: How to get key from value?","body":"<p>There is no unambiguous answer, because multiple keys can map to the same value.  If you are enforcing unique-ness with your own code, the best solution is to create a class that uses two Hashmaps to track the mappings in both directions.</p>\n"},{"tags":[],"owner":{"account_id":13660,"reputation":5751,"user_id":27579,"accept_rate":67,"display_name":"wsorenson"},"down_vote_count":3,"up_vote_count":15,"is_accepted":false,"score":12,"last_activity_date":1475583782,"creation_date":1252170606,"answer_id":1383801,"question_id":1383797,"body_markdown":"To find all the keys that map to that value, iterate through all the pairs in the hashmap, using `map.entrySet()`.","title":"Java Hashmap: How to get key from value?","body":"<p>To find all the keys that map to that value, iterate through all the pairs in the hashmap, using <code>map.entrySet()</code>.</p>\n"},{"tags":[],"owner":{"account_id":13296,"reputation":4225,"user_id":26609,"accept_rate":64,"display_name":"Jonas K"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1440223894,"creation_date":1252170767,"answer_id":1383808,"question_id":1383797,"body_markdown":"It sounds like the best way is for you to iterate over entries using &lt;code&gt;map.entrySet()&lt;/code&gt; since &lt;code&gt;map.containsValue()&lt;/code&gt; probably does this anyway.","title":"Java Hashmap: How to get key from value?","body":"<p>It sounds like the best way is for you to iterate over entries using <code>map.entrySet()</code> since <code>map.containsValue()</code> probably does this anyway.</p>\n"},{"tags":[],"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"down_vote_count":1,"up_vote_count":242,"is_accepted":true,"score":241,"last_activity_date":1611981539,"creation_date":1252171536,"answer_id":1383830,"question_id":1383797,"body_markdown":"If you choose to use the [Commons Collections library][1] instead of the standard Java Collections framework, you can achieve this with ease.\r\n\r\nThe [`BidiMap`][2] interface in the Collections library is a bi-directional map, allowing you to map a key to a value (like normal maps), and also to map a value to a key, thus allowing you to perform lookups in both directions. Obtaining a key for a value is supported by the [`getKey()`][3] method.\r\n\r\nThere is a caveat though, bidi maps cannot have multiple values mapped to keys, and hence unless your data set has 1:1 mappings between keys and values, you cannot use bidi maps.\r\n\r\n---\r\n\r\nIf you want to rely on the Java Collections API, you will have to ensure the 1:1 relationship between keys and values at the time of inserting the value into the map. This is easier said than done.\r\n\r\nOnce you can ensure that, use the [`entrySet()`][4] method to obtain the set of entries (mappings) in the Map. Once you have obtained the set whose type is [`Map.Entry`][5], iterate through the entries, comparing the [stored value][6] against the expected, and obtain the [corresponding key][7].\r\n\r\n---\r\n\r\nSupport for bidi maps with *generics* can be found in [Google Guava][8] and the refactored [Commons-Collections][9] libraries (the latter is not an Apache project). Thanks to Esko for pointing out the missing generic support in Apache Commons Collections. Using collections with generics makes more maintainable code.\r\n\r\n---\r\nSince [version 4.0][10] the official Apache Commons Collections™ library supports [***generics***][11]. \r\n\r\nSee the [summary][12] page of the &quot;*org.apache.commons.collections4.bidimap*&quot; package for the list of available implementations of the [`BidiMap`][13], [`OrderedBidiMap`][14] and [`SortedBidiMap`][15] interfaces that now support Java *generics*.\r\n\r\n\r\n  [1]: http://commons.apache.org/collections/\r\n  [2]: http://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/BidiMap.html\r\n  [3]: http://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/BidiMap.html#getKey%28java.lang.Object%29\r\n  [4]: https://docs.oracle.com/javase/7/docs/api/java/util/Map.html#entrySet()\r\n  [5]: https://docs.oracle.com/javase/7/docs/api/java/util/Map.Entry.html\r\n  [6]: https://docs.oracle.com/javase/7/docs/api/java/util/Map.Entry.html#getValue()\r\n  [7]: https://docs.oracle.com/javase/7/docs/api/java/util/Map.Entry.html#getKey()\r\n  [8]: https://github.com/google/guava\r\n  [9]: http://sourceforge.net/projects/collections/\r\n  [10]: https://commons.apache.org/proper/commons-collections/release_4_0.html\r\n  [11]: https://en.wikipedia.org/wiki/Generics_in_Java\r\n  [12]: https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/bidimap/package-summary.html\r\n  [13]: https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/BidiMap.html\r\n  [14]: https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/OrderedBidiMap.html\r\n  [15]: https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/SortedBidiMap.html","title":"Java Hashmap: How to get key from value?","body":"<p>If you choose to use the <a href=\"http://commons.apache.org/collections/\" rel=\"noreferrer\">Commons Collections library</a> instead of the standard Java Collections framework, you can achieve this with ease.</p>\n<p>The <a href=\"http://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/BidiMap.html\" rel=\"noreferrer\"><code>BidiMap</code></a> interface in the Collections library is a bi-directional map, allowing you to map a key to a value (like normal maps), and also to map a value to a key, thus allowing you to perform lookups in both directions. Obtaining a key for a value is supported by the <a href=\"http://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/BidiMap.html#getKey%28java.lang.Object%29\" rel=\"noreferrer\"><code>getKey()</code></a> method.</p>\n<p>There is a caveat though, bidi maps cannot have multiple values mapped to keys, and hence unless your data set has 1:1 mappings between keys and values, you cannot use bidi maps.</p>\n<hr />\n<p>If you want to rely on the Java Collections API, you will have to ensure the 1:1 relationship between keys and values at the time of inserting the value into the map. This is easier said than done.</p>\n<p>Once you can ensure that, use the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Map.html#entrySet()\" rel=\"noreferrer\"><code>entrySet()</code></a> method to obtain the set of entries (mappings) in the Map. Once you have obtained the set whose type is <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Map.Entry.html\" rel=\"noreferrer\"><code>Map.Entry</code></a>, iterate through the entries, comparing the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Map.Entry.html#getValue()\" rel=\"noreferrer\">stored value</a> against the expected, and obtain the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Map.Entry.html#getKey()\" rel=\"noreferrer\">corresponding key</a>.</p>\n<hr />\n<p>Support for bidi maps with <em>generics</em> can be found in <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Google Guava</a> and the refactored <a href=\"http://sourceforge.net/projects/collections/\" rel=\"noreferrer\">Commons-Collections</a> libraries (the latter is not an Apache project). Thanks to Esko for pointing out the missing generic support in Apache Commons Collections. Using collections with generics makes more maintainable code.</p>\n<hr />\n<p>Since <a href=\"https://commons.apache.org/proper/commons-collections/release_4_0.html\" rel=\"noreferrer\">version 4.0</a> the official Apache Commons Collections™ library supports <a href=\"https://en.wikipedia.org/wiki/Generics_in_Java\" rel=\"noreferrer\"><em><strong>generics</strong></em></a>.</p>\n<p>See the <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/bidimap/package-summary.html\" rel=\"noreferrer\">summary</a> page of the &quot;<em>org.apache.commons.collections4.bidimap</em>&quot; package for the list of available implementations of the <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/BidiMap.html\" rel=\"noreferrer\"><code>BidiMap</code></a>, <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/OrderedBidiMap.html\" rel=\"noreferrer\"><code>OrderedBidiMap</code></a> and <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/SortedBidiMap.html\" rel=\"noreferrer\"><code>SortedBidiMap</code></a> interfaces that now support Java <em>generics</em>.</p>\n"},{"tags":[],"owner":{"account_id":39807,"reputation":22784,"user_id":114996,"display_name":"Chi"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1454016653,"creation_date":1252173430,"answer_id":1383900,"question_id":1383797,"body_markdown":"I think your choices are\r\n\r\n * Use a map implementation built for this, like the [BiMap][1] from google collections.  Note that the google collections BiMap requires uniqueless of values, as well as keys, but it provides high performance in both directions performance\r\n * Manually maintain two maps - one for key -&gt; value, and another map for value -&gt; key\r\n * Iterate through the `entrySet()` and to find the keys which match the value.  This is the slowest method, since it requires iterating through the entire collection, while the other two methods don&#39;t require that.\r\n\r\n  [1]: http://google-collections.googlecode.com/svn/trunk/javadoc/index.html?com/google/common/collect/BiMap.html","title":"Java Hashmap: How to get key from value?","body":"<p>I think your choices are</p>\n\n<ul>\n<li>Use a map implementation built for this, like the <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/index.html?com/google/common/collect/BiMap.html\" rel=\"noreferrer\">BiMap</a> from google collections.  Note that the google collections BiMap requires uniqueless of values, as well as keys, but it provides high performance in both directions performance</li>\n<li>Manually maintain two maps - one for key -> value, and another map for value -> key</li>\n<li>Iterate through the <code>entrySet()</code> and to find the keys which match the value.  This is the slowest method, since it requires iterating through the entire collection, while the other two methods don't require that.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":53330,"reputation":9385,"user_id":159434,"accept_rate":76,"display_name":"David Tinker"},"down_vote_count":3,"up_vote_count":15,"is_accepted":false,"score":12,"last_activity_date":1252173534,"creation_date":1252173534,"answer_id":1383904,"question_id":1383797,"body_markdown":"If you build the map in your own code, try putting the key and value in the map together:\r\n\r\n    public class KeyValue {\r\n        public Object key;\r\n        public Object value;\r\n        public KeyValue(Object key, Object value) { ... }\r\n    }\r\n\r\n    map.put(key, new KeyValue(key, value));\r\n\r\nThen when you have a value, you also have the key.\r\n","title":"Java Hashmap: How to get key from value?","body":"<p>If you build the map in your own code, try putting the key and value in the map together:</p>\n\n<pre><code>public class KeyValue {\n    public Object key;\n    public Object value;\n    public KeyValue(Object key, Object value) { ... }\n}\n\nmap.put(key, new KeyValue(key, value));\n</code></pre>\n\n<p>Then when you have a value, you also have the key.</p>\n"},{"tags":[],"owner":{"account_id":56079,"reputation":7550,"user_id":167973,"accept_rate":82,"display_name":"Carl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1252179931,"creation_date":1252179931,"answer_id":1384122,"question_id":1383797,"body_markdown":"Yes, you have to loop through the hashmap, unless you implement something along the lines of what these various answers suggest.  Rather than fiddling with the entrySet, I&#39;d just get the keySet(), iterate over that set, and keep the (first) key that gets you your matching value.  If you need all the keys that match that value, obviously you have to do the whole thing.\r\n\r\nAs Jonas suggests, this might already be what the containsValue method is doing, so you might just skip that test all-together, and just do the iteration every time (or maybe the compiler will already eliminate the redundancy, who knows).\r\n\r\nAlso, relative to the other answers, if your reverse map looks like\r\n\r\n    Map&lt;Value, Set&lt;Key&gt;&gt;\r\n\r\nyou can deal with non-unique key-&gt;value mappings, if you need that capability (untangling them aside).  That would incorporate fine into any of the solutions people suggest here using two maps.","title":"Java Hashmap: How to get key from value?","body":"<p>Yes, you have to loop through the hashmap, unless you implement something along the lines of what these various answers suggest.  Rather than fiddling with the entrySet, I'd just get the keySet(), iterate over that set, and keep the (first) key that gets you your matching value.  If you need all the keys that match that value, obviously you have to do the whole thing.</p>\n\n<p>As Jonas suggests, this might already be what the containsValue method is doing, so you might just skip that test all-together, and just do the iteration every time (or maybe the compiler will already eliminate the redundancy, who knows).</p>\n\n<p>Also, relative to the other answers, if your reverse map looks like</p>\n\n<pre><code>Map&lt;Value, Set&lt;Key&gt;&gt;\n</code></pre>\n\n<p>you can deal with non-unique key->value mappings, if you need that capability (untangling them aside).  That would incorporate fine into any of the solutions people suggest here using two maps.</p>\n"},{"tags":[],"owner":{"account_id":108817,"reputation":111636,"user_id":288671,"display_name":"Vitalii Fedorenko"},"down_vote_count":0,"up_vote_count":662,"is_accepted":false,"score":662,"last_activity_date":1532493658,"creation_date":1274788405,"answer_id":2904266,"question_id":1383797,"body_markdown":"If your data structure has *many-to-one* mapping between keys and values you should iterate over entries and pick all suitable keys:\r\n\r\n    public static &lt;T, E&gt; Set&lt;T&gt; getKeysByValue(Map&lt;T, E&gt; map, E value) {\r\n        Set&lt;T&gt; keys = new HashSet&lt;T&gt;();\r\n        for (Entry&lt;T, E&gt; entry : map.entrySet()) {\r\n            if (Objects.equals(value, entry.getValue())) {\r\n                keys.add(entry.getKey());\r\n            }\r\n        }\r\n        return keys;\r\n    }\r\n\r\nIn case of *one-to-one* relationship, you can return the first matched key:\r\n\r\n\tpublic static &lt;T, E&gt; T getKeyByValue(Map&lt;T, E&gt; map, E value) {\r\n\t\tfor (Entry&lt;T, E&gt; entry : map.entrySet()) {\r\n\t\t\tif (Objects.equals(value, entry.getValue())) {\r\n\t\t\t\treturn entry.getKey();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\nIn Java 8:\r\n\r\n    public static &lt;T, E&gt; Set&lt;T&gt; getKeysByValue(Map&lt;T, E&gt; map, E value) {\r\n        return map.entrySet()\r\n                  .stream()\r\n                  .filter(entry -&gt; Objects.equals(entry.getValue(), value))\r\n                  .map(Map.Entry::getKey)\r\n                  .collect(Collectors.toSet());\r\n    }\r\n\r\nAlso, for Guava users, [BiMap][1] may be useful. For example:\r\n\r\n    BiMap&lt;Token, Character&gt; tokenToChar = \r\n        ImmutableBiMap.of(Token.LEFT_BRACKET, &#39;[&#39;, Token.LEFT_PARENTHESIS, &#39;(&#39;);\r\n    Token token = tokenToChar.inverse().get(&#39;(&#39;);\r\n    Character c = tokenToChar.get(token);\r\n\r\n  [1]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/BiMap.html","title":"Java Hashmap: How to get key from value?","body":"<p>If your data structure has <em>many-to-one</em> mapping between keys and values you should iterate over entries and pick all suitable keys:</p>\n\n<pre><code>public static &lt;T, E&gt; Set&lt;T&gt; getKeysByValue(Map&lt;T, E&gt; map, E value) {\n    Set&lt;T&gt; keys = new HashSet&lt;T&gt;();\n    for (Entry&lt;T, E&gt; entry : map.entrySet()) {\n        if (Objects.equals(value, entry.getValue())) {\n            keys.add(entry.getKey());\n        }\n    }\n    return keys;\n}\n</code></pre>\n\n<p>In case of <em>one-to-one</em> relationship, you can return the first matched key:</p>\n\n<pre><code>public static &lt;T, E&gt; T getKeyByValue(Map&lt;T, E&gt; map, E value) {\n    for (Entry&lt;T, E&gt; entry : map.entrySet()) {\n        if (Objects.equals(value, entry.getValue())) {\n            return entry.getKey();\n        }\n    }\n    return null;\n}\n</code></pre>\n\n<p>In Java 8:</p>\n\n<pre><code>public static &lt;T, E&gt; Set&lt;T&gt; getKeysByValue(Map&lt;T, E&gt; map, E value) {\n    return map.entrySet()\n              .stream()\n              .filter(entry -&gt; Objects.equals(entry.getValue(), value))\n              .map(Map.Entry::getKey)\n              .collect(Collectors.toSet());\n}\n</code></pre>\n\n<p>Also, for Guava users, <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/BiMap.html\" rel=\"noreferrer\">BiMap</a> may be useful. For example:</p>\n\n<pre><code>BiMap&lt;Token, Character&gt; tokenToChar = \n    ImmutableBiMap.of(Token.LEFT_BRACKET, '[', Token.LEFT_PARENTHESIS, '(');\nToken token = tokenToChar.inverse().get('(');\nCharacter c = tokenToChar.get(token);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":58429,"reputation":545,"user_id":174953,"display_name":"Andr&#233; van Toly"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1275040378,"creation_date":1275040378,"answer_id":2928021,"question_id":1383797,"body_markdown":"I&#39;m afraid you&#39;ll just have to iterate your map. Shortest I could come up with:\r\n\r\n    Iterator&lt;Map.Entry&lt;String,String&gt;&gt; iter = map.entrySet().iterator();\r\n    while (iter.hasNext()) {\r\n        Map.Entry&lt;String,String&gt; entry = iter.next();\r\n        if (entry.getValue().equals(value_you_look_for)) {\r\n            String key_you_look_for = entry.getKey();\r\n        }\r\n    }\r\n\r\n","title":"Java Hashmap: How to get key from value?","body":"<p>I'm afraid you'll just have to iterate your map. Shortest I could come up with:</p>\n\n<pre><code>Iterator&lt;Map.Entry&lt;String,String&gt;&gt; iter = map.entrySet().iterator();\nwhile (iter.hasNext()) {\n    Map.Entry&lt;String,String&gt; entry = iter.next();\n    if (entry.getValue().equals(value_you_look_for)) {\n        String key_you_look_for = entry.getKey();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":622336,"reputation":75,"user_id":364240,"display_name":"Amit"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1318429618,"creation_date":1276245393,"answer_id":3021353,"question_id":1383797,"body_markdown":"You can get the key using values using following code..\r\n\r\n\tArrayList valuesList = new ArrayList();\r\n\tSet keySet = initalMap.keySet();\r\n\tArrayList keyList = new ArrayList(keySet);\r\n\t\t\r\n\tfor(int i = 0 ; i &lt; keyList.size() ; i++ ) {\r\n\t\tvaluesList.add(initalMap.get(keyList.get(i)));\r\n\t}\r\n\t\t\r\n\tCollections.sort(valuesList);\r\n\tMap finalMap = new TreeMap();\r\n\tfor(int i = 0 ; i &lt; valuesList.size() ; i++ ) {\r\n\t\tString value = (String) valuesList.get(i);\r\n\t\t\r\n\t\tfor( int j = 0 ; j &lt; keyList.size() ; j++ ) {\r\n\t\t\tif(initalMap.get(keyList.get(j)).equals(value))\t{\r\n\t\t\t\tfinalMap.put(keyList.get(j),value);\r\n\t\t\t}\t\r\n\t\t}\r\n\t}\r\n\tSystem.out.println(&quot;fianl map ----------------------&gt;  &quot; + finalMap);","title":"Java Hashmap: How to get key from value?","body":"<p>You can get the key using values using following code..</p>\n\n<pre><code>ArrayList valuesList = new ArrayList();\nSet keySet = initalMap.keySet();\nArrayList keyList = new ArrayList(keySet);\n\nfor(int i = 0 ; i &lt; keyList.size() ; i++ ) {\n    valuesList.add(initalMap.get(keyList.get(i)));\n}\n\nCollections.sort(valuesList);\nMap finalMap = new TreeMap();\nfor(int i = 0 ; i &lt; valuesList.size() ; i++ ) {\n    String value = (String) valuesList.get(i);\n\n    for( int j = 0 ; j &lt; keyList.size() ; j++ ) {\n        if(initalMap.get(keyList.get(j)).equals(value)) {\n            finalMap.put(keyList.get(j),value);\n        }   \n    }\n}\nSystem.out.println(\"fianl map ----------------------&gt;  \" + finalMap);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":967990,"reputation":8481,"user_id":991065,"display_name":"Fathah Rehman P"},"down_vote_count":0,"up_vote_count":89,"is_accepted":false,"score":89,"last_activity_date":1456898068,"creation_date":1318409293,"answer_id":7737428,"question_id":1383797,"body_markdown":"    public class NewClass1 {\r\n\r\n        public static void main(String[] args) {\r\n           Map&lt;Integer, String&gt; testMap = new HashMap&lt;Integer, String&gt;();\r\n            testMap.put(10, &quot;a&quot;);\r\n            testMap.put(20, &quot;b&quot;);\r\n            testMap.put(30, &quot;c&quot;);\r\n            testMap.put(40, &quot;d&quot;);\r\n            for (Entry&lt;Integer, String&gt; entry : testMap.entrySet()) {\r\n                if (entry.getValue().equals(&quot;c&quot;)) {\r\n                    System.out.println(entry.getKey());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**Some additional info... May be useful to you**\r\n\r\n   Above method may not be good if your hashmap is really big. If your hashmap contain unique key to unique value mapping, you can maintain one more hashmap that contain mapping from Value to Key.\r\n\r\nThat is you have to maintain two hashmaps\r\n\r\n    1. Key to value\r\n\r\n    2. Value to key \r\n\r\nIn that case you can use second hashmap to get key.","title":"Java Hashmap: How to get key from value?","body":"<pre><code>public class NewClass1 {\n\n    public static void main(String[] args) {\n       Map&lt;Integer, String&gt; testMap = new HashMap&lt;Integer, String&gt;();\n        testMap.put(10, \"a\");\n        testMap.put(20, \"b\");\n        testMap.put(30, \"c\");\n        testMap.put(40, \"d\");\n        for (Entry&lt;Integer, String&gt; entry : testMap.entrySet()) {\n            if (entry.getValue().equals(\"c\")) {\n                System.out.println(entry.getKey());\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Some additional info... May be useful to you</strong></p>\n\n<p>Above method may not be good if your hashmap is really big. If your hashmap contain unique key to unique value mapping, you can maintain one more hashmap that contain mapping from Value to Key.</p>\n\n<p>That is you have to maintain two hashmaps</p>\n\n<pre><code>1. Key to value\n\n2. Value to key \n</code></pre>\n\n<p>In that case you can use second hashmap to get key.</p>\n"},{"tags":[],"owner":{"account_id":65542,"reputation":5762,"user_id":192798,"accept_rate":48,"display_name":"Jayen"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1440224841,"creation_date":1319264090,"answer_id":7857788,"question_id":1383797,"body_markdown":"Use a thin wrapper: [HMap][1]\r\n\r\n    import java.util.Collections;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class HMap&lt;K, V&gt; {\r\n    \r\n       private final Map&lt;K, Map&lt;K, V&gt;&gt; map;\r\n    \r\n       public HMap() {\r\n          map = new HashMap&lt;K, Map&lt;K, V&gt;&gt;();\r\n       }\r\n    \r\n       public HMap(final int initialCapacity) {\r\n          map = new HashMap&lt;K, Map&lt;K, V&gt;&gt;(initialCapacity);\r\n       }\r\n    \r\n       public boolean containsKey(final Object key) {\r\n          return map.containsKey(key);\r\n       }\r\n    \r\n       public V get(final Object key) {\r\n          final Map&lt;K, V&gt; entry = map.get(key);\r\n          if (entry != null)\r\n             return entry.values().iterator().next();\r\n          return null;\r\n       }\r\n    \r\n       public K getKey(final Object key) {\r\n          final Map&lt;K, V&gt; entry = map.get(key);\r\n          if (entry != null)\r\n             return entry.keySet().iterator().next();\r\n          return null;\r\n       }\r\n    \r\n       public V put(final K key, final V value) {\r\n          final Map&lt;K, V&gt; entry = map\r\n                .put(key, Collections.singletonMap(key, value));\r\n          if (entry != null)\r\n             return entry.values().iterator().next();\r\n          return null;\r\n       }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/jayenashar/Java-Search-library/blob/master/src/au/edu/unsw/cse/jayen/util/HMap.java","title":"Java Hashmap: How to get key from value?","body":"<p>Use a thin wrapper: <a href=\"https://github.com/jayenashar/Java-Search-library/blob/master/src/au/edu/unsw/cse/jayen/util/HMap.java\" rel=\"nofollow\">HMap</a></p>\n\n<pre><code>import java.util.Collections;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class HMap&lt;K, V&gt; {\n\n   private final Map&lt;K, Map&lt;K, V&gt;&gt; map;\n\n   public HMap() {\n      map = new HashMap&lt;K, Map&lt;K, V&gt;&gt;();\n   }\n\n   public HMap(final int initialCapacity) {\n      map = new HashMap&lt;K, Map&lt;K, V&gt;&gt;(initialCapacity);\n   }\n\n   public boolean containsKey(final Object key) {\n      return map.containsKey(key);\n   }\n\n   public V get(final Object key) {\n      final Map&lt;K, V&gt; entry = map.get(key);\n      if (entry != null)\n         return entry.values().iterator().next();\n      return null;\n   }\n\n   public K getKey(final Object key) {\n      final Map&lt;K, V&gt; entry = map.get(key);\n      if (entry != null)\n         return entry.keySet().iterator().next();\n      return null;\n   }\n\n   public V put(final K key, final V value) {\n      final Map&lt;K, V&gt; entry = map\n            .put(key, Collections.singletonMap(key, value));\n      if (entry != null)\n         return entry.values().iterator().next();\n      return null;\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1728539,"reputation":19,"user_id":1582679,"display_name":"Madhav"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1440067212,"creation_date":1344360890,"answer_id":11851162,"question_id":1383797,"body_markdown":"    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n    \r\n    public class M{\r\n    public static void main(String[] args) {\r\n    \r\n    \t\tHashMap&lt;String, List&lt;String&gt;&gt; resultHashMap = new HashMap&lt;String, List&lt;String&gt;&gt;();\r\n    \r\n    \t\tSet&lt;String&gt; newKeyList = resultHashMap.keySet();\r\n    \r\n    \r\n    \t\tfor (Iterator&lt;String&gt; iterator = originalHashMap.keySet().iterator(); iterator.hasNext();) {\r\n    \t\t\tString hashKey = (String) iterator.next();\r\n    \r\n    \t\t\tif (!newKeyList.contains(originalHashMap.get(hashKey))) {\r\n    \t\t\t\tList&lt;String&gt; loArrayList = new ArrayList&lt;String&gt;();\r\n    \t\t\t\tloArrayList.add(hashKey);\r\n    \t\t\t\tresultHashMap.put(originalHashMap.get(hashKey), loArrayList);\r\n    \t\t\t} else {\r\n    \t\t\t\tList&lt;String&gt; loArrayList = resultHashMap.get(originalHashMap\r\n    \t\t\t\t\t\t.get(hashKey));\r\n    \t\t\t\tloArrayList.add(hashKey);\r\n    \t\t\t\tresultHashMap.put(originalHashMap.get(hashKey), loArrayList);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;Original HashMap : &quot; + originalHashMap);\r\n    \t\tSystem.out.println(&quot;Result HashMap : &quot; + resultHashMap);\r\n    \t}\r\n    }","title":"Java Hashmap: How to get key from value?","body":"<pre><code>import java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Set;\n\npublic class M{\npublic static void main(String[] args) {\n\n        HashMap&lt;String, List&lt;String&gt;&gt; resultHashMap = new HashMap&lt;String, List&lt;String&gt;&gt;();\n\n        Set&lt;String&gt; newKeyList = resultHashMap.keySet();\n\n\n        for (Iterator&lt;String&gt; iterator = originalHashMap.keySet().iterator(); iterator.hasNext();) {\n            String hashKey = (String) iterator.next();\n\n            if (!newKeyList.contains(originalHashMap.get(hashKey))) {\n                List&lt;String&gt; loArrayList = new ArrayList&lt;String&gt;();\n                loArrayList.add(hashKey);\n                resultHashMap.put(originalHashMap.get(hashKey), loArrayList);\n            } else {\n                List&lt;String&gt; loArrayList = resultHashMap.get(originalHashMap\n                        .get(hashKey));\n                loArrayList.add(hashKey);\n                resultHashMap.put(originalHashMap.get(hashKey), loArrayList);\n            }\n        }\n\n        System.out.println(\"Original HashMap : \" + originalHashMap);\n        System.out.println(\"Result HashMap : \" + resultHashMap);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2140186,"reputation":37,"user_id":1899039,"display_name":"margus"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1355343894,"creation_date":1355343894,"answer_id":13847990,"question_id":1383797,"body_markdown":"\tpublic static class SmartHashMap &lt;T1 extends Object, T2 extends Object&gt; {\r\n\t\tpublic HashMap&lt;T1, T2&gt; keyValue;\r\n\t\tpublic HashMap&lt;T2, T1&gt; valueKey;\r\n\t\t\r\n\t\tpublic SmartHashMap(){\r\n\t\t\tthis.keyValue = new HashMap&lt;T1, T2&gt;();\r\n\t\t\tthis.valueKey = new HashMap&lt;T2, T1&gt;();\r\n\t\t}\r\n\t\t\r\n\t\tpublic void add(T1 key, T2 value){\r\n\t\t\tthis.keyValue.put(key, value);\r\n\t\t\tthis.valueKey.put(value, key);\r\n\t\t}\r\n\t\t\r\n\t\tpublic T2 getValue(T1 key){\r\n\t\t\treturn this.keyValue.get(key);\r\n\t\t}\r\n\t\t\r\n\t\tpublic T1 getKey(T2 value){\r\n\t\t\treturn this.valueKey.get(value);\r\n\t\t}\r\n\t\t\r\n\t}","title":"Java Hashmap: How to get key from value?","body":"<pre><code>public static class SmartHashMap &lt;T1 extends Object, T2 extends Object&gt; {\n    public HashMap&lt;T1, T2&gt; keyValue;\n    public HashMap&lt;T2, T1&gt; valueKey;\n\n    public SmartHashMap(){\n        this.keyValue = new HashMap&lt;T1, T2&gt;();\n        this.valueKey = new HashMap&lt;T2, T1&gt;();\n    }\n\n    public void add(T1 key, T2 value){\n        this.keyValue.put(key, value);\n        this.valueKey.put(value, key);\n    }\n\n    public T2 getValue(T1 key){\n        return this.keyValue.get(key);\n    }\n\n    public T1 getKey(T2 value){\n        return this.valueKey.get(value);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1424844414,"creation_date":1377194037,"answer_id":18387524,"question_id":1383797,"body_markdown":"    import java.util.HashMap;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    public class ValueKeysMap&lt;K, V&gt; extends HashMap &lt;K,V&gt;{\r\n    \tHashMap&lt;V, Set&lt;K&gt;&gt; ValueKeysMap = new HashMap&lt;V, Set&lt;K&gt;&gt;();\r\n    \r\n    \t@Override\r\n    \tpublic boolean containsValue(Object value) {\r\n    \t\treturn ValueKeysMap.containsKey(value);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic V put(K key, V value) {\r\n    \t\tif (containsValue(value)) {\r\n    \t\t\tSet&lt;K&gt; keys = ValueKeysMap.get(value);\r\n    \t\t\tkeys.add(key);\r\n    \t\t} else {\r\n    \t\t\tSet&lt;K&gt; keys = new HashSet&lt;K&gt;();\r\n    \t\t\tkeys.add(key);\r\n    \t\t\tValueKeysMap.put(value, keys);\r\n    \t\t}\r\n    \t\treturn super.put(key, value);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic V remove(Object key) {\r\n    \t\tV value = super.remove(key);\r\n    \t\tSet&lt;K&gt; keys = ValueKeysMap.get(value);\r\n    \t\tkeys.remove(key);\r\n            if(keys.size() == 0) {\r\n               ValueKeysMap.remove(value);\r\n            }\r\n    \t\treturn value;\r\n    \t}\r\n\r\n        public Set&lt;K&gt; getKeys4ThisValue(V value){\r\n   \t\t\tSet&lt;K&gt; keys = ValueKeysMap.get(value);\r\n   \t\t\treturn keys;\r\n        }\r\n       \r\n        public boolean valueContainsThisKey(K key, V value){\r\n            if (containsValue(value)) {\r\n    \t\t\tSet&lt;K&gt; keys = ValueKeysMap.get(value);\r\n    \t\t\treturn keys.contains(key);\r\n    \t\t}\r\n            return false;\r\n        }\r\n\r\n        /*\r\n         * Take care of argument constructor and other api&#39;s like putAll\r\n         */\r\n    }\r\n\r\n","title":"Java Hashmap: How to get key from value?","body":"<pre><code>import java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.Set;\n\npublic class ValueKeysMap&lt;K, V&gt; extends HashMap &lt;K,V&gt;{\n    HashMap&lt;V, Set&lt;K&gt;&gt; ValueKeysMap = new HashMap&lt;V, Set&lt;K&gt;&gt;();\n\n    @Override\n    public boolean containsValue(Object value) {\n        return ValueKeysMap.containsKey(value);\n    }\n\n    @Override\n    public V put(K key, V value) {\n        if (containsValue(value)) {\n            Set&lt;K&gt; keys = ValueKeysMap.get(value);\n            keys.add(key);\n        } else {\n            Set&lt;K&gt; keys = new HashSet&lt;K&gt;();\n            keys.add(key);\n            ValueKeysMap.put(value, keys);\n        }\n        return super.put(key, value);\n    }\n\n    @Override\n    public V remove(Object key) {\n        V value = super.remove(key);\n        Set&lt;K&gt; keys = ValueKeysMap.get(value);\n        keys.remove(key);\n        if(keys.size() == 0) {\n           ValueKeysMap.remove(value);\n        }\n        return value;\n    }\n\n    public Set&lt;K&gt; getKeys4ThisValue(V value){\n        Set&lt;K&gt; keys = ValueKeysMap.get(value);\n        return keys;\n    }\n\n    public boolean valueContainsThisKey(K key, V value){\n        if (containsValue(value)) {\n            Set&lt;K&gt; keys = ValueKeysMap.get(value);\n            return keys.contains(key);\n        }\n        return false;\n    }\n\n    /*\n     * Take care of argument constructor and other api's like putAll\n     */\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1273978,"reputation":5819,"user_id":1229612,"accept_rate":74,"display_name":"Chicowitz"},"down_vote_count":3,"up_vote_count":30,"is_accepted":false,"score":27,"last_activity_date":1454546561,"creation_date":1384881510,"answer_id":20077863,"question_id":1383797,"body_markdown":"You could insert both the key,value pair and its inverse into your map structure\r\n\r\n    map.put(&quot;theKey&quot;, &quot;theValue&quot;);\r\n    map.put(&quot;theValue&quot;, &quot;theKey&quot;);\r\n\r\nUsing map.get(&quot;theValue&quot;) will then return &quot;theKey&quot;.\r\n\r\nIt&#39;s a quick and dirty way that I&#39;ve made constant maps, which will only work for a select few datasets:\r\n\r\n - Contains only 1 to 1 pairs\r\n - Set of values is disjoint from the set of keys (1-&gt;2, 2-&gt;3 breaks it)","title":"Java Hashmap: How to get key from value?","body":"<p>You could insert both the key,value pair and its inverse into your map structure</p>\n\n<pre><code>map.put(\"theKey\", \"theValue\");\nmap.put(\"theValue\", \"theKey\");\n</code></pre>\n\n<p>Using map.get(\"theValue\") will then return \"theKey\".</p>\n\n<p>It's a quick and dirty way that I've made constant maps, which will only work for a select few datasets:</p>\n\n<ul>\n<li>Contains only 1 to 1 pairs</li>\n<li>Set of values is disjoint from the set of keys (1->2, 2->3 breaks it)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3202267,"reputation":2714,"user_id":2704113,"accept_rate":50,"display_name":"Sreedhar GS"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1402903941,"creation_date":1394623606,"answer_id":22350055,"question_id":1383797,"body_markdown":"    Iterator&lt;Map.Entry&lt;String,String&gt;&gt; iterator = map.entrySet().iterator();\r\n    while (iterator.hasNext()) {\r\n        Map.Entry&lt;String,String&gt; entry = iterator.next();\r\n        if (entry.getValue().equals(value_you_look_for)) {\r\n            String key_you_look_for = entry.getKey();\r\n    }\r\n    } ","title":"Java Hashmap: How to get key from value?","body":"<pre><code>Iterator&lt;Map.Entry&lt;String,String&gt;&gt; iterator = map.entrySet().iterator();\nwhile (iterator.hasNext()) {\n    Map.Entry&lt;String,String&gt; entry = iterator.next();\n    if (entry.getValue().equals(value_you_look_for)) {\n        String key_you_look_for = entry.getKey();\n}\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4591053,"reputation":31,"user_id":3724331,"display_name":"user3724331"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1402365191,"creation_date":1402365191,"answer_id":24131664,"question_id":1383797,"body_markdown":"In java8\r\n\r\n    map.entrySet().stream().filter(entry -&gt; entry.getValue().equals(value))\r\n        .forEach(entry -&gt; System.out.println(entry.getKey()));","title":"Java Hashmap: How to get key from value?","body":"<p>In java8</p>\n\n<pre><code>map.entrySet().stream().filter(entry -&gt; entry.getValue().equals(value))\n    .forEach(entry -&gt; System.out.println(entry.getKey()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5633929,"reputation":187,"user_id":4459973,"accept_rate":0,"display_name":"boy"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1440224515,"creation_date":1423502369,"answer_id":28415495,"question_id":1383797,"body_markdown":"I think this is best solution, original address: [Java2s][1]\r\n\r\n        import java.util.HashMap;\r\n        import java.util.Map;\r\n        \r\n            public class Main {\r\n            \r\n              public static void main(String[] argv) {\r\n                Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n                map.put(&quot;1&quot;,&quot;one&quot;);\r\n                map.put(&quot;2&quot;,&quot;two&quot;);\r\n                map.put(&quot;3&quot;,&quot;three&quot;);\r\n                map.put(&quot;4&quot;,&quot;four&quot;);\r\n                \r\n                System.out.println(getKeyFromValue(map,&quot;three&quot;));\r\n              }\r\n            \r\n    \r\n    // hm is the map you are trying to get value from it\r\n              public static Object getKeyFromValue(Map hm, Object value) {\r\n                for (Object o : hm.keySet()) {\r\n                  if (hm.get(o).equals(value)) {\r\n                    return o;\r\n                  }\r\n                }\r\n                return null;\r\n              }\r\n            }\r\n\r\nAn easy usage: \r\nif you put all data in hasMap and you have item = &quot;Automobile&quot;, so you are looking its key in hashMap. that is good solution. \r\n\r\n    getKeyFromValue(hashMap, item);\r\n    System.out.println(&quot;getKeyFromValue(hashMap, item): &quot;+getKeyFromValue(hashMap, item));\r\n\r\n\r\n  [1]: http://www.java2s.com/Code/Java/Collections-Data-Structure/GetakeyfromvaluewithanHashMap.htm","title":"Java Hashmap: How to get key from value?","body":"<p>I think this is best solution, original address: <a href=\"http://www.java2s.com/Code/Java/Collections-Data-Structure/GetakeyfromvaluewithanHashMap.htm\" rel=\"noreferrer\">Java2s</a></p>\n\n<pre><code>    import java.util.HashMap;\n    import java.util.Map;\n\n        public class Main {\n\n          public static void main(String[] argv) {\n            Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n            map.put(\"1\",\"one\");\n            map.put(\"2\",\"two\");\n            map.put(\"3\",\"three\");\n            map.put(\"4\",\"four\");\n\n            System.out.println(getKeyFromValue(map,\"three\"));\n          }\n\n\n// hm is the map you are trying to get value from it\n          public static Object getKeyFromValue(Map hm, Object value) {\n            for (Object o : hm.keySet()) {\n              if (hm.get(o).equals(value)) {\n                return o;\n              }\n            }\n            return null;\n          }\n        }\n</code></pre>\n\n<p>An easy usage: \nif you put all data in hasMap and you have item = \"Automobile\", so you are looking its key in hashMap. that is good solution. </p>\n\n<pre><code>getKeyFromValue(hashMap, item);\nSystem.out.println(\"getKeyFromValue(hashMap, item): \"+getKeyFromValue(hashMap, item));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1998882,"reputation":523,"user_id":1790382,"display_name":"kanaparthikiran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432274187,"creation_date":1430944510,"answer_id":30087012,"question_id":1383797,"body_markdown":"\t/**\r\n\t * This method gets the Key for the given Value\r\n\t * @param paramName\r\n\t * @return\r\n\t */\r\n\tprivate String getKeyForValueFromMap(String paramName) {\r\n\t\tString keyForValue = null;\r\n\t\tif(paramName!=null)) {\r\n\t\t\tSet&lt;Entry&lt;String,String&gt;&gt; entrySet = myMap().entrySet();\r\n\t\t\tif(entrySet!=null &amp;&amp; entrySet.size&gt;0) {\r\n\t\t\t\tfor(Entry&lt;String,String&gt; entry : entrySet) {\r\n\t\t\t\t\tif(entry!=null &amp;&amp; paramName.equalsIgnoreCase(entry.getValue())) {\r\n\t\t\t\t\t\tkeyForValue = entry.getKey();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn keyForValue;\r\n\t}","title":"Java Hashmap: How to get key from value?","body":"<pre><code>/**\n * This method gets the Key for the given Value\n * @param paramName\n * @return\n */\nprivate String getKeyForValueFromMap(String paramName) {\n    String keyForValue = null;\n    if(paramName!=null)) {\n        Set&lt;Entry&lt;String,String&gt;&gt; entrySet = myMap().entrySet();\n        if(entrySet!=null &amp;&amp; entrySet.size&gt;0) {\n            for(Entry&lt;String,String&gt; entry : entrySet) {\n                if(entry!=null &amp;&amp; paramName.equalsIgnoreCase(entry.getValue())) {\n                    keyForValue = entry.getKey();\n                }\n            }\n        }\n    }\n    return keyForValue;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9052,"reputation":11722,"user_id":16549,"accept_rate":75,"display_name":"kervin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433089549,"creation_date":1433089549,"answer_id":30559722,"question_id":1383797,"body_markdown":"It&#39;s important to note that since this question, Apache Collections supports [Generic BidiMaps][1].  So a few of the top voted answers are no longer accurate on that point.\r\n\r\nFor a Serialized BidiMap that also supports duplicate values ( 1-to-many scenario ) also consider [MapDB.org][2].\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/bidimap/package-summary.html\r\n  [2]: https://github.com/jankotek/mapdb/blob/master/src/test/java/examples/Bidi_Map.java","title":"Java Hashmap: How to get key from value?","body":"<p>It's important to note that since this question, Apache Collections supports <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/bidimap/package-summary.html\" rel=\"nofollow\">Generic BidiMaps</a>.  So a few of the top voted answers are no longer accurate on that point.</p>\n\n<p>For a Serialized BidiMap that also supports duplicate values ( 1-to-many scenario ) also consider <a href=\"https://github.com/jankotek/mapdb/blob/master/src/test/java/examples/Bidi_Map.java\" rel=\"nofollow\">MapDB.org</a>.</p>\n"},{"tags":[],"owner":{"account_id":4803345,"reputation":101,"user_id":3903923,"display_name":"Ashwin"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1438778107,"creation_date":1438777879,"answer_id":31832609,"question_id":1383797,"body_markdown":"    for(int key: hm.keySet()) {\r\n        if(hm.get(key).equals(value)) {\r\n            System.out.println(key); \r\n        }\r\n    }","title":"Java Hashmap: How to get key from value?","body":"<pre><code>for(int key: hm.keySet()) {\n    if(hm.get(key).equals(value)) {\n        System.out.println(key); \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5512449,"reputation":507,"user_id":4378304,"accept_rate":33,"display_name":"phani"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1573537164,"creation_date":1441789930,"answer_id":32475518,"question_id":1383797,"body_markdown":"Using Java 8:\r\n\r\n    ftw.forEach((key, value) -&gt; {\r\n        if (value.equals(&quot;foo&quot;)) {\r\n            System.out.print(key);\r\n        }\r\n    });","title":"Java Hashmap: How to get key from value?","body":"<p>Using Java 8:</p>\n\n<pre><code>ftw.forEach((key, value) -&gt; {\n    if (value.equals(\"foo\")) {\n        System.out.print(key);\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3715619,"reputation":3752,"user_id":3091915,"accept_rate":89,"display_name":"The Berga"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1460643271,"creation_date":1460643271,"answer_id":36625841,"question_id":1383797,"body_markdown":"For Android development targeting API &lt; 19, Vitalii Fedorenko one-to-one relationship solution doesn&#39;t work because `Objects.equals` isn&#39;t implemented. Here&#39;s a simple alternative:\r\n\r\n    public &lt;K, V&gt; K getKeyByValue(Map&lt;K, V&gt; map, V value) {\r\n        for (Map.Entry&lt;K, V&gt; entry : map.entrySet()) {\r\n                if (value.equals(entry.getValue())) {\r\n                return entry.getKey();\r\n            }\r\n        }\r\n        return null;\r\n    }","title":"Java Hashmap: How to get key from value?","body":"<p>For Android development targeting API &lt; 19, Vitalii Fedorenko one-to-one relationship solution doesn't work because <code>Objects.equals</code> isn't implemented. Here's a simple alternative:</p>\n\n<pre><code>public &lt;K, V&gt; K getKeyByValue(Map&lt;K, V&gt; map, V value) {\n    for (Map.Entry&lt;K, V&gt; entry : map.entrySet()) {\n            if (value.equals(entry.getValue())) {\n            return entry.getKey();\n        }\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8497120,"reputation":191,"user_id":6371386,"display_name":"ABHI"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1464011103,"creation_date":1464009024,"answer_id":37391925,"question_id":1383797,"body_markdown":"Decorate map with your own implementation\r\n    \r\n    class MyMap&lt;K,V&gt; extends HashMap&lt;K, V&gt;{\r\n\t\r\n\t    Map&lt;V,K&gt; reverseMap = new HashMap&lt;V,K&gt;();\r\n\t\r\n    \t@Override\r\n    \tpublic V put(K key, V value) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treverseMap.put(value, key);\r\n    \t\treturn super.put(key, value);\r\n    \t}\r\n\t\r\n    \tpublic K getKey(V value){\r\n    \t\treturn reverseMap.get(value);\r\n    \t}\r\n    }","title":"Java Hashmap: How to get key from value?","body":"<p>Decorate map with your own implementation</p>\n\n<pre><code>class MyMap&lt;K,V&gt; extends HashMap&lt;K, V&gt;{\n\n    Map&lt;V,K&gt; reverseMap = new HashMap&lt;V,K&gt;();\n\n    @Override\n    public V put(K key, V value) {\n        // TODO Auto-generated method stub\n        reverseMap.put(value, key);\n        return super.put(key, value);\n    }\n\n    public K getKey(V value){\n        return reverseMap.get(value);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5112610,"reputation":135,"user_id":4098779,"accept_rate":40,"display_name":"Manu Bhat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467724835,"creation_date":1467723155,"answer_id":38203990,"question_id":1383797,"body_markdown":"My 2 cents. \r\nYou can get the keys in an array and then loop through the array. This will affect performance of this code block if the map is pretty big , where in you are getting the keys in an array first which might consume some time and then you are looping. Otherwise for smaller maps it should be ok.\r\n\r\n    String[] keys =  yourMap.keySet().toArray(new String[0]);\r\n\t\t\r\n\tfor(int i = 0 ; i &lt; keys.length ; i++){\r\n\t\t//This is your key    \r\n        String key = keys[i];\r\n\r\n        //This is your value\r\n\t    yourMap.get(key)\t    \t\r\n\t}","title":"Java Hashmap: How to get key from value?","body":"<p>My 2 cents. \nYou can get the keys in an array and then loop through the array. This will affect performance of this code block if the map is pretty big , where in you are getting the keys in an array first which might consume some time and then you are looping. Otherwise for smaller maps it should be ok.</p>\n\n<pre><code>String[] keys =  yourMap.keySet().toArray(new String[0]);\n\nfor(int i = 0 ; i &lt; keys.length ; i++){\n    //This is your key    \n    String key = keys[i];\n\n    //This is your value\n    yourMap.get(key)            \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5227890,"reputation":301,"user_id":6768865,"display_name":"Batman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478531185,"creation_date":1472451925,"answer_id":39199753,"question_id":1383797,"body_markdown":"1. If you want to get key from value, its best to use bidimap (bi-directional maps) , you can get key from value in O(1) time.\r\n\r\n    But, the drawback with this is you can only use unique keyset and valueset.\r\n\r\n2. There is a data structure called **Table** in java, which is nothing but map of maps like\r\n\r\n   **Table&lt; A, B , C &gt; == map &lt; A , map &lt; B, C &gt; &gt;**\r\n\r\n   Here you can get `map&lt;B,C&gt;` by querying `T.row(a);`, and you can also get `map&lt;A,C&gt;` by querying `T.column(b);`\r\n  \r\nIn your special case, insert C as some constant.\r\n\r\nSo, it like  &lt; a1, b1, 1 &gt; \r\n  &lt; a2, b2 , 1 &gt; , ...\r\n\r\nSo, if you find via T.row(a1) ---&gt; returns map of &lt;b1,1&gt; --&gt; get keyset  this returned map.\r\n\r\nIf you need to find key value then, T.column(b2) --&gt; returns map of &lt;a2,1&gt; --&gt; get keyset of returned map.\r\n\r\nAdvantages over the previous case : \r\n\r\n1. Can use multiple values.\r\n2. More efficient when using large data sets.","title":"Java Hashmap: How to get key from value?","body":"<ol>\n<li><p>If you want to get key from value, its best to use bidimap (bi-directional maps) , you can get key from value in O(1) time.</p>\n\n<p>But, the drawback with this is you can only use unique keyset and valueset.</p></li>\n<li><p>There is a data structure called <strong>Table</strong> in java, which is nothing but map of maps like</p>\n\n<p><strong>Table&lt; A, B , C > == map &lt; A , map &lt; B, C > ></strong></p>\n\n<p>Here you can get <code>map&lt;B,C&gt;</code> by querying <code>T.row(a);</code>, and you can also get <code>map&lt;A,C&gt;</code> by querying <code>T.column(b);</code></p></li>\n</ol>\n\n<p>In your special case, insert C as some constant.</p>\n\n<p>So, it like  &lt; a1, b1, 1 > \n  &lt; a2, b2 , 1 > , ...</p>\n\n<p>So, if you find via T.row(a1) ---> returns map of  --> get keyset  this returned map.</p>\n\n<p>If you need to find key value then, T.column(b2) --> returns map of  --> get keyset of returned map.</p>\n\n<p>Advantages over the previous case : </p>\n\n<ol>\n<li>Can use multiple values.</li>\n<li>More efficient when using large data sets.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8299946,"reputation":41,"user_id":6238860,"display_name":"Balasubramanian Ganapathi"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1478733862,"creation_date":1478732404,"answer_id":40517435,"question_id":1383797,"body_markdown":"You can use the below:\r\n\r\n    public class HashmapKeyExist {\r\n        public static void main(String[] args) {\r\n            HashMap&lt;String, String&gt; hmap = new HashMap&lt;String, String&gt;();\r\n            hmap.put(&quot;1&quot;, &quot;Bala&quot;);\r\n            hmap.put(&quot;2&quot;, &quot;Test&quot;);\r\n\r\n            Boolean cantain = hmap.containsValue(&quot;Bala&quot;);\r\n            if(hmap.containsKey(&quot;2&quot;) &amp;&amp; hmap.containsValue(&quot;Test&quot;))\r\n            {\r\n                System.out.println(&quot;Yes&quot;);\r\n            }\r\n            if(cantain == true)\r\n            {\r\n                System.out.println(&quot;Yes&quot;); \r\n            }\r\n\r\n            Set setkeys = hmap.keySet();\r\n            Iterator it = setkeys.iterator();\r\n\r\n            while(it.hasNext())\r\n            {\r\n                String key = (String) it.next();\r\n                if (hmap.get(key).equals(&quot;Bala&quot;))\r\n                {\r\n                    System.out.println(key);\r\n                }\r\n            }\r\n        }\r\n    }","title":"Java Hashmap: How to get key from value?","body":"<p>You can use the below:</p>\n\n<pre><code>public class HashmapKeyExist {\n    public static void main(String[] args) {\n        HashMap&lt;String, String&gt; hmap = new HashMap&lt;String, String&gt;();\n        hmap.put(\"1\", \"Bala\");\n        hmap.put(\"2\", \"Test\");\n\n        Boolean cantain = hmap.containsValue(\"Bala\");\n        if(hmap.containsKey(\"2\") &amp;&amp; hmap.containsValue(\"Test\"))\n        {\n            System.out.println(\"Yes\");\n        }\n        if(cantain == true)\n        {\n            System.out.println(\"Yes\"); \n        }\n\n        Set setkeys = hmap.keySet();\n        Iterator it = setkeys.iterator();\n\n        while(it.hasNext())\n        {\n            String key = (String) it.next();\n            if (hmap.get(key).equals(\"Bala\"))\n            {\n                System.out.println(key);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10974310,"reputation":31,"user_id":8063449,"display_name":"Amazing India"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1498116891,"creation_date":1498116891,"answer_id":44693013,"question_id":1383797,"body_markdown":"\tpublic static String getKey(Map&lt;String, Integer&gt; mapref, String value) {\r\n\t\tString key = &quot;&quot;;\r\n\t\tfor (Map.Entry&lt;String, Integer&gt; map : mapref.entrySet()) {\r\n\t\t\tif (map.getValue().toString().equals(value)) {\r\n\t\t\t\tkey = map.getKey();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn key;\r\n\t}\r\n","title":"Java Hashmap: How to get key from value?","body":"<pre><code>public static String getKey(Map&lt;String, Integer&gt; mapref, String value) {\n    String key = \"\";\n    for (Map.Entry&lt;String, Integer&gt; map : mapref.entrySet()) {\n        if (map.getValue().toString().equals(value)) {\n            key = map.getKey();\n        }\n    }\n    return key;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8105684,"reputation":137,"user_id":6107304,"accept_rate":60,"display_name":"FrancisGeek"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1510149304,"creation_date":1510149304,"answer_id":47181543,"question_id":1383797,"body_markdown":"I think **keySet()** may be well to find the keys mapping to the value, and have a better coding style than **entrySet()**.\r\n\r\nEx:\r\n\r\nSuppose you have a HashMap&lt;Integer, Integer&gt; *map*, ArrayList&lt;Integer&gt; *res*, a **value** you want to find **all the key** mapping to , then store keys to the *res*.\r\n\r\nYou can write code below:\r\n\r\n        for (int key : map.keySet()) {\r\n            if (map.get(key) == value) {\r\n                res.add(key);\r\n            }\r\n        }\r\n\r\nrather than use entrySet() below:\r\n\r\n        for (Map.Entry s : map.entrySet()) {\r\n            if ((int)s.getValue() == value) {\r\n                res.add((int)s.getKey());\r\n            }\r\n        }\r\n\r\nHope it helps :)","title":"Java Hashmap: How to get key from value?","body":"<p>I think <strong>keySet()</strong> may be well to find the keys mapping to the value, and have a better coding style than <strong>entrySet()</strong>.</p>\n\n<p>Ex:</p>\n\n<p>Suppose you have a HashMap <em>map</em>, ArrayList <em>res</em>, a <strong>value</strong> you want to find <strong>all the key</strong> mapping to , then store keys to the <em>res</em>.</p>\n\n<p>You can write code below:</p>\n\n<pre><code>    for (int key : map.keySet()) {\n        if (map.get(key) == value) {\n            res.add(key);\n        }\n    }\n</code></pre>\n\n<p>rather than use entrySet() below:</p>\n\n<pre><code>    for (Map.Entry s : map.entrySet()) {\n        if ((int)s.getValue() == value) {\n            res.add((int)s.getKey());\n        }\n    }\n</code></pre>\n\n<p>Hope it helps :)</p>\n"},{"tags":[],"owner":{"account_id":1185980,"reputation":2864,"user_id":1159930,"accept_rate":50,"display_name":"Markymark"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517527325,"creation_date":1517527325,"answer_id":48573372,"question_id":1383797,"body_markdown":"While this does not directly answer the question, it is related.\r\n\r\nThis way you don&#39;t need to keep creating/iterating. Just create a reverse map once and get what you need.\r\n\r\n    /**\r\n     * Both key and value types must define equals() and hashCode() for this to work.\r\n     * This takes into account that all keys are unique but all values may not be.\r\n     *\r\n     * @param map\r\n     * @param &lt;K&gt;\r\n     * @param &lt;V&gt;\r\n     * @return\r\n     */\r\n    public static &lt;K, V&gt; Map&lt;V, List&lt;K&gt;&gt; reverseMap(Map&lt;K,V&gt; map) {\r\n        if(map == null) return null;\r\n\r\n        Map&lt;V, List&lt;K&gt;&gt; reverseMap = new ArrayMap&lt;&gt;();\r\n\r\n        for(Map.Entry&lt;K,V&gt; entry : map.entrySet()) {\r\n            appendValueToMapList(reverseMap, entry.getValue(), entry.getKey());\r\n        }\r\n\r\n        return reverseMap;\r\n    }\r\n\r\n\r\n    /**\r\n     * Takes into account that the list may already have values.\r\n     * \r\n     * @param map\r\n     * @param key\r\n     * @param value\r\n     * @param &lt;K&gt;\r\n     * @param &lt;V&gt;\r\n     * @return\r\n     */\r\n    public static &lt;K, V&gt; Map&lt;K, List&lt;V&gt;&gt; appendValueToMapList(Map&lt;K, List&lt;V&gt;&gt; map, K key, V value) {\r\n        if(map == null || key == null || value == null) return map;\r\n\r\n        List&lt;V&gt; list = map.get(key);\r\n\r\n        if(list == null) {\r\n            List&lt;V&gt; newList = new ArrayList&lt;&gt;();\r\n            newList.add(value);\r\n            map.put(key, newList);\r\n        }\r\n        else {\r\n            list.add(value);\r\n        }\r\n\r\n        return map;\r\n    }","title":"Java Hashmap: How to get key from value?","body":"<p>While this does not directly answer the question, it is related.</p>\n\n<p>This way you don't need to keep creating/iterating. Just create a reverse map once and get what you need.</p>\n\n<pre><code>/**\n * Both key and value types must define equals() and hashCode() for this to work.\n * This takes into account that all keys are unique but all values may not be.\n *\n * @param map\n * @param &lt;K&gt;\n * @param &lt;V&gt;\n * @return\n */\npublic static &lt;K, V&gt; Map&lt;V, List&lt;K&gt;&gt; reverseMap(Map&lt;K,V&gt; map) {\n    if(map == null) return null;\n\n    Map&lt;V, List&lt;K&gt;&gt; reverseMap = new ArrayMap&lt;&gt;();\n\n    for(Map.Entry&lt;K,V&gt; entry : map.entrySet()) {\n        appendValueToMapList(reverseMap, entry.getValue(), entry.getKey());\n    }\n\n    return reverseMap;\n}\n\n\n/**\n * Takes into account that the list may already have values.\n * \n * @param map\n * @param key\n * @param value\n * @param &lt;K&gt;\n * @param &lt;V&gt;\n * @return\n */\npublic static &lt;K, V&gt; Map&lt;K, List&lt;V&gt;&gt; appendValueToMapList(Map&lt;K, List&lt;V&gt;&gt; map, K key, V value) {\n    if(map == null || key == null || value == null) return map;\n\n    List&lt;V&gt; list = map.get(key);\n\n    if(list == null) {\n        List&lt;V&gt; newList = new ArrayList&lt;&gt;();\n        newList.add(value);\n        map.put(key, newList);\n    }\n    else {\n        list.add(value);\n    }\n\n    return map;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4588263,"reputation":25,"user_id":3722311,"display_name":"programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528392616,"creation_date":1528392616,"answer_id":50747074,"question_id":1383797,"body_markdown":"try this:\r\n\r\n    static String getKeyFromValue(LinkedHashMap&lt;String, String&gt; map,String value) {\r\n\t\tfor (int x=0;x&lt;map.size();x++){\r\n\t\t\tif( String.valueOf( (new ArrayList&lt;String&gt;(map.values())).get(x) ).equals(value))\r\n\t\t\t\treturn String.valueOf((new ArrayList&lt;String&gt;(map.keySet())).get(x));\r\n\t\t}\r\n\t\treturn null;\r\n\t}","title":"Java Hashmap: How to get key from value?","body":"<p>try this:</p>\n\n<pre><code>static String getKeyFromValue(LinkedHashMap&lt;String, String&gt; map,String value) {\n    for (int x=0;x&lt;map.size();x++){\n        if( String.valueOf( (new ArrayList&lt;String&gt;(map.values())).get(x) ).equals(value))\n            return String.valueOf((new ArrayList&lt;String&gt;(map.keySet())).get(x));\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12538076,"reputation":457,"user_id":9124072,"display_name":"pseusys"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542153736,"creation_date":1542153736,"answer_id":53291244,"question_id":1383797,"body_markdown":"As far as I know keys and values of a HashMap are not mixed when you represent them as arrays:\r\n\r\n    hashmap.values().toArray()\r\nand\r\n\r\n    hashmap.keySet().toArray()\r\nSo the following code (since java 8) should work as expected:\r\n\r\n    public Object getKeyByFirstValue(Object value) {\r\n        int keyNumber =  Arrays.asList(hashmap.values().toArray()).indexOf(value);\r\n        return hashmap.keySet().toArray()[keyNumber];\r\n    }\r\nHowever, (**WARNING!**) it works 2-3 times slower than iteration.","title":"Java Hashmap: How to get key from value?","body":"<p>As far as I know keys and values of a HashMap are not mixed when you represent them as arrays:</p>\n\n<pre><code>hashmap.values().toArray()\n</code></pre>\n\n<p>and</p>\n\n<pre><code>hashmap.keySet().toArray()\n</code></pre>\n\n<p>So the following code (since java 8) should work as expected:</p>\n\n<pre><code>public Object getKeyByFirstValue(Object value) {\n    int keyNumber =  Arrays.asList(hashmap.values().toArray()).indexOf(value);\n    return hashmap.keySet().toArray()[keyNumber];\n}\n</code></pre>\n\n<p>However, (<strong>WARNING!</strong>) it works 2-3 times slower than iteration.</p>\n"},{"tags":[],"owner":{"account_id":12730678,"reputation":2541,"user_id":9247465,"accept_rate":100,"display_name":"AConsumer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560236623,"creation_date":1560236623,"answer_id":56538233,"question_id":1383797,"body_markdown":"Let the value be `maxValue`.\r\n\r\n    Set keySet = map.keySet();\r\n    \r\n    keySet.stream().filter(x-&gt;map.get(x)==maxValue).forEach(x-&gt; System.out.println(x));\r\n\r\n","title":"Java Hashmap: How to get key from value?","body":"<p>Let the value be <code>maxValue</code>.</p>\n\n<pre><code>Set keySet = map.keySet();\n\nkeySet.stream().filter(x-&gt;map.get(x)==maxValue).forEach(x-&gt; System.out.println(x));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615567532,"creation_date":1613393737,"answer_id":66208453,"question_id":1383797,"body_markdown":"*lambda w/o use of external libraries*&lt;br /&gt;\r\ncan deal with multiple values for one key (in difference to the BidiMap)\r\n\r\n    public static List&lt;String&gt; getKeysByValue(Map&lt;String, String&gt; map, String value) {\r\n      List&lt;String&gt; list = map.keySet().stream()\r\n          .collect(groupingBy(k -&gt; map.get(k))).get(value);\r\n      return (list == null ? Collections.emptyList() : list);\r\n    }\r\n\r\ngets a `List` containing the `key(s)` mapping `value`&lt;br /&gt;\r\nfor an 1:1 mapping the returned list is `empty` or contains 1 `value`","title":"Java Hashmap: How to get key from value?","body":"<p><em>lambda w/o use of external libraries</em><br />\ncan deal with multiple values for one key (in difference to the BidiMap)</p>\n<pre><code>public static List&lt;String&gt; getKeysByValue(Map&lt;String, String&gt; map, String value) {\n  List&lt;String&gt; list = map.keySet().stream()\n      .collect(groupingBy(k -&gt; map.get(k))).get(value);\n  return (list == null ? Collections.emptyList() : list);\n}\n</code></pre>\n<p>gets a <code>List</code> containing the <code>key(s)</code> mapping <code>value</code><br />\nfor an 1:1 mapping the returned list is <code>empty</code> or contains 1 <code>value</code></p>\n"},{"tags":[],"owner":{"account_id":2640556,"reputation":933,"user_id":2284311,"accept_rate":88,"display_name":"smftr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617821578,"creation_date":1617821578,"answer_id":66992436,"question_id":1383797,"body_markdown":"let see my example\r\n\r\n```java\r\nMap&lt;String, String&gt; mapPeopleAndCountry = new HashMap&lt;&gt;();\r\nmapPeopleAndCountry.put(&quot;Matis&quot;, &quot;Lithuania&quot;);\r\nmapPeopleAndCountry.put(&quot;Carlos&quot;, &quot;Honduras&quot;);\r\nmapPeopleAndCountry.put(&quot;Teboho&quot;, &quot;Lesotho&quot;);\r\nmapPeopleAndCountry.put(&quot;Marielos&quot;, &quot;Honduras&quot;);\r\n\r\n\r\nList&lt;String&gt; peopleInHonduras = mapPeopleAndCountry.keySet()\r\n    .stream()\r\n    .filter(r -&gt; mapPeopleAndCountry.get(r)\r\n                .equals(&quot;Honduras&quot;))\r\n    .stream(Collectors.toList());\r\n\r\n// will return [&quot;Carlos&quot;, &quot;Marielos&quot;]\r\n\r\n```\r\n\r\nNote: untested, may contains typo","title":"Java Hashmap: How to get key from value?","body":"<p>let see my example</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; mapPeopleAndCountry = new HashMap&lt;&gt;();\nmapPeopleAndCountry.put(&quot;Matis&quot;, &quot;Lithuania&quot;);\nmapPeopleAndCountry.put(&quot;Carlos&quot;, &quot;Honduras&quot;);\nmapPeopleAndCountry.put(&quot;Teboho&quot;, &quot;Lesotho&quot;);\nmapPeopleAndCountry.put(&quot;Marielos&quot;, &quot;Honduras&quot;);\n\n\nList&lt;String&gt; peopleInHonduras = mapPeopleAndCountry.keySet()\n    .stream()\n    .filter(r -&gt; mapPeopleAndCountry.get(r)\n                .equals(&quot;Honduras&quot;))\n    .stream(Collectors.toList());\n\n// will return [&quot;Carlos&quot;, &quot;Marielos&quot;]\n\n</code></pre>\n<p>Note: untested, may contains typo</p>\n"},{"tags":[],"owner":{"account_id":11847624,"reputation":941,"user_id":8669765,"display_name":"Shashank Bodkhe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1622372331,"creation_date":1622371523,"answer_id":67760241,"question_id":1383797,"body_markdown":"Simplest utility method to fetch a key of a given value from a Map:\r\n\r\n    public static void fetchValue(Map&lt;String, Integer&gt; map, Integer i)\r\n\t{\t\r\n\tStream stream = map.entrySet().stream().filter(val-&gt; val.getValue().equals(i)).map(Map.Entry::getKey);\r\n\tstream.forEach(System.out::println);\t\r\n\t}\r\n\r\n\r\ndetailed explaination: \t\r\n\r\n\r\n1) Method fetchValue accepts the map, which has String as key and Integer as value. \r\n\r\n2) Then we use entryset().stream() to convert result into a stream.\r\n\r\n3) Next we use filter (intermediate operation) which gives us a value that is equal to the second argument.\r\n \r\n4) Finally, we use forEach(final operation) to print our end result.\r\n\r\n","title":"Java Hashmap: How to get key from value?","body":"<p>Simplest utility method to fetch a key of a given value from a Map:</p>\n<pre><code>public static void fetchValue(Map&lt;String, Integer&gt; map, Integer i)\n{   \nStream stream = map.entrySet().stream().filter(val-&gt; val.getValue().equals(i)).map(Map.Entry::getKey);\nstream.forEach(System.out::println);    \n}\n</code></pre>\n<p>detailed explaination:</p>\n<ol>\n<li><p>Method fetchValue accepts the map, which has String as key and Integer as value.</p>\n</li>\n<li><p>Then we use entryset().stream() to convert result into a stream.</p>\n</li>\n<li><p>Next we use filter (intermediate operation) which gives us a value that is equal to the second argument.</p>\n</li>\n<li><p>Finally, we use forEach(final operation) to print our end result.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":22636491,"reputation":93,"user_id":16813234,"display_name":"Jafar Sadik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1630676008,"creation_date":1630676008,"answer_id":69045810,"question_id":1383797,"body_markdown":"Found too many answers. Some were really great. But I was particularly looking for a way, so that I can get the value using loops.\r\n\r\nSo here is finally what I did: \r\nFor a HashMap 1-to-1 relation: \r\n\r\n        Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n\t\t\r\n\t\tmap.put(&quot;abc&quot;, &quot;123&quot;);\r\n\t\tmap.put(&quot;xyz&quot;, &quot;456&quot;);\r\n\t\t\r\n\t\tfor(Entry&lt;String, String&gt; entry : map.entrySet()) {\r\n\t\t\tif(entry.getValue().equalsIgnoreCase(&quot;456&quot;)) {\r\n\t\t\t\tSystem.out.println(entry.getKey());\r\n\t\t\t}\r\n\t\t}\r\nOutput: &quot;xyz&quot;\r\n\r\nFor a HashMap 1-to-many relation:\r\n\r\n        Map&lt;String, ArrayList&lt;String&gt;&gt; service = new HashMap&lt;String, ArrayList&lt;String&gt;&gt;();\r\n\t\t\r\n\t\tservice.put(&quot;abc&quot;, new ArrayList&lt;String&gt;());\r\n\t\tservice.get(&quot;abc&quot;).add(&quot;a&quot;);\r\n\t\tservice.get(&quot;abc&quot;).add(&quot;b&quot;);\r\n\t\tservice.get(&quot;abc&quot;).add(&quot;c&quot;);\r\n\t\t\r\n\t\tservice.put(&quot;xyz&quot;, new ArrayList&lt;String&gt;());\r\n\t\tservice.get(&quot;xyz&quot;).add(&quot;x&quot;);\r\n\t\tservice.get(&quot;xyz&quot;).add(&quot;y&quot;);\r\n\t\tservice.get(&quot;xyz&quot;).add(&quot;z&quot;);\r\n\t\t\r\n\t\tfor(Entry&lt;String, ArrayList&lt;String&gt;&gt; entry : service.entrySet()) {\r\n\t\t\tArrayList&lt;String&gt; values = entry.getValue();\r\n\t\t\tfor(String value : values) {\r\n\t\t\t\tif(value.equalsIgnoreCase(&quot;x&quot;)) {\r\n\t\t\t\t\tSystem.out.println(entry.getKey());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\nOutput: xyz\r\n\r\n-Thanks","title":"Java Hashmap: How to get key from value?","body":"<p>Found too many answers. Some were really great. But I was particularly looking for a way, so that I can get the value using loops.</p>\n<p>So here is finally what I did:\nFor a HashMap 1-to-1 relation:</p>\n<pre><code>    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n    \n    map.put(&quot;abc&quot;, &quot;123&quot;);\n    map.put(&quot;xyz&quot;, &quot;456&quot;);\n    \n    for(Entry&lt;String, String&gt; entry : map.entrySet()) {\n        if(entry.getValue().equalsIgnoreCase(&quot;456&quot;)) {\n            System.out.println(entry.getKey());\n        }\n    }\n</code></pre>\n<p>Output: &quot;xyz&quot;</p>\n<p>For a HashMap 1-to-many relation:</p>\n<pre><code>    Map&lt;String, ArrayList&lt;String&gt;&gt; service = new HashMap&lt;String, ArrayList&lt;String&gt;&gt;();\n    \n    service.put(&quot;abc&quot;, new ArrayList&lt;String&gt;());\n    service.get(&quot;abc&quot;).add(&quot;a&quot;);\n    service.get(&quot;abc&quot;).add(&quot;b&quot;);\n    service.get(&quot;abc&quot;).add(&quot;c&quot;);\n    \n    service.put(&quot;xyz&quot;, new ArrayList&lt;String&gt;());\n    service.get(&quot;xyz&quot;).add(&quot;x&quot;);\n    service.get(&quot;xyz&quot;).add(&quot;y&quot;);\n    service.get(&quot;xyz&quot;).add(&quot;z&quot;);\n    \n    for(Entry&lt;String, ArrayList&lt;String&gt;&gt; entry : service.entrySet()) {\n        ArrayList&lt;String&gt; values = entry.getValue();\n        for(String value : values) {\n            if(value.equalsIgnoreCase(&quot;x&quot;)) {\n                System.out.println(entry.getKey());\n            }\n        }\n        \n    }\n</code></pre>\n<p>Output: xyz</p>\n<p>-Thanks</p>\n"},{"tags":[],"owner":{"account_id":23765657,"reputation":1,"user_id":17780445,"display_name":"Jasur Hakim"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1640707579,"creation_date":1640707579,"answer_id":70509572,"question_id":1383797,"body_markdown":"You can also do that work:\r\nFirst : put map (key, value)\r\nSecond : to update the key you need to remove expression\r\nThird : and put a new key with the oldValue","title":"Java Hashmap: How to get key from value?","body":"<p>You can also do that work:\nFirst : put map (key, value)\nSecond : to update the key you need to remove expression\nThird : and put a new key with the oldValue</p>\n"},{"tags":[],"owner":{"account_id":28852584,"reputation":1,"user_id":22098160,"display_name":"kmj15_23"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692508188,"creation_date":1692221496,"answer_id":76917189,"question_id":1383797,"body_markdown":"I&#39;ve been developing a JavaFX application, and this is a problem that I encounter relatively frequently. The best way that I have found to get the desired result is to use a for each loop to iterate over the keys in the hash map and then use the get method of the hash map the value is contained in with the keys you are iterating through. Below is an example of a hash map that maps a String to an int.\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t \tString temp = null; \r\n\t\t    int number = 23;\r\n\t\t    HashMap&lt;String, Integer&gt; nameNum = new HashMap&lt;String, Integer&gt;();\r\n\r\n\t\t    nameNum.put(&quot;Jerry&quot;, 43);\r\n\t\t    nameNum.put(&quot;Michael&quot;, 23);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\tfor(String firstName : nameNum.keySet())\r\n\t\t\t{\r\n\t\t\t\tif(nameNum.get(firstName) == (number))\r\n\t\t\t\t{\r\n\t\t\t\t\ttemp = firstName;\r\n\t\t\t\t\tSystem.out.println(&quot;This is the name: &quot; + temp);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t}\r\n\r\nRunning this will result in the correct name being returned. Below is the output:\r\n\r\n    This is the name: Michael","title":"Java Hashmap: How to get key from value?","body":"<p>I've been developing a JavaFX application, and this is a problem that I encounter relatively frequently. The best way that I have found to get the desired result is to use a for each loop to iterate over the keys in the hash map and then use the get method of the hash map the value is contained in with the keys you are iterating through. Below is an example of a hash map that maps a String to an int.</p>\n<pre><code>public static void main(String[] args) {\n    \n        String temp = null; \n        int number = 23;\n        HashMap&lt;String, Integer&gt; nameNum = new HashMap&lt;String, Integer&gt;();\n\n        nameNum.put(&quot;Jerry&quot;, 43);\n        nameNum.put(&quot;Michael&quot;, 23);\n\n                                    \n        for(String firstName : nameNum.keySet())\n        {\n            if(nameNum.get(firstName) == (number))\n            {\n                temp = firstName;\n                System.out.println(&quot;This is the name: &quot; + temp);\n            }\n        }\n\n}\n</code></pre>\n<p>Running this will result in the correct name being returned. Below is the output:</p>\n<pre><code>This is the name: Michael\n</code></pre>\n"}],"owner":{"account_id":49568,"reputation":119884,"user_id":147601,"accept_rate":63,"display_name":"Nick Heiner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1197866,"favorite_count":0,"down_vote_count":0,"up_vote_count":528,"accepted_answer_id":1383830,"answer_count":40,"score":528,"last_activity_date":1692508188,"creation_date":1252170420,"question_id":1383797,"body_markdown":"If I have the value `&quot;foo&quot;`, and a `HashMap&lt;String&gt; ftw` for which `ftw.containsValue(&quot;foo&quot;)` returns `true`, how can I get the corresponding key? Do I have to loop through the hashmap? What is the best way to do that?","title":"Java Hashmap: How to get key from value?","body":"<p>If I have the value <code>\"foo\"</code>, and a <code>HashMap&lt;String&gt; ftw</code> for which <code>ftw.containsValue(\"foo\")</code> returns <code>true</code>, how can I get the corresponding key? Do I have to loop through the hashmap? What is the best way to do that?</p>\n"},{"tags":["java","eclipse","maven","jboss"],"comments":[{"owner":{"account_id":3528777,"reputation":365,"user_id":2949042,"accept_rate":6,"display_name":"user2949042"},"score":0,"creation_date":1397324429,"post_id":23025461,"comment_id":35189963,"body_markdown":"I deleted this project and create a new one, but I got different error this time, these are:Missing artifact org.jboss.tools:Maven2:war:0.0.1-SNAPSHOT\nProject build error: &#39;dependencies.dependency.version&#39; for org.jboss.spec.javax.faces:jboss-jsf-api_2.0_spec:jar is missing.\nProject build error: Non-resolvable import POM: Failure to transfer \norg.jboss.spec:jboss-javaee-web-6.0:pom:${javaee6.web.spec.version} \nfrom https://repository.jboss.","body":"I deleted this project and create a new one, but I got different error this time, these are:Missing artifact org.jboss.tools:Maven2:war:0.0.1-SNAPSHOT Project build error: &#39;dependencies.dependency.version&#39; for org.jboss.spec.javax.faces:jboss-jsf-api_2.0_spec:jar is missing. Project build error: Non-resolvable import POM: Failure to transfer  org.jboss.spec:jboss-javaee-web-6.0:pom:${javaee6.web.spec.v&zwnj;&#8203;ersion}  from <a href=\"https://repository.jboss\" rel=\"nofollow noreferrer\">repository.jboss</a>."}],"answers":[{"tags":[],"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397290892,"creation_date":1397290892,"answer_id":23028004,"question_id":23025461,"body_markdown":"You&#39;re using the wrong groupId, it should be `org.apache.maven.plugins`. And another hint: use https://repository.jboss.org/nexus/content/repositories/releases/ instead of public, because the public repo is a group containing a lot of other repo&#39;s, both releases and SNAPSHOTs.","title":"Error resolving version for plugin &#39;org.codehaus.mojo:maven-war-plugin&#39; from the repositories","body":"<p>You're using the wrong groupId, it should be <code>org.apache.maven.plugins</code>. And another hint: use <a href=\"https://repository.jboss.org/nexus/content/repositories/releases/\" rel=\"nofollow\">https://repository.jboss.org/nexus/content/repositories/releases/</a> instead of public, because the public repo is a group containing a lot of other repo's, both releases and SNAPSHOTs.</p>\n"}],"owner":{"account_id":3528777,"reputation":365,"user_id":2949042,"accept_rate":6,"display_name":"user2949042"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9080,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692507860,"creation_date":1397270476,"question_id":23025461,"body_markdown":"I am using eclipse Indigo Service Release 2 with *JBoss* tools installed and created a Seam Web project with Maven integration selected. After the project is created, I got this error in my pom.xml file, does anybody know how to resolve it? thanks\r\n\r\n    Error resolving version for plugin &#39;org.codehaus.mojo:maven-war-plugin&#39;\r\n    from the repositories [local (C:\\Users\\Jon\\.m2\\repository), \r\n    jboss-public-repository-group \r\n    (https://repository.jboss.org/nexus/content/groups/public/),\r\n    central (http://repo1.maven.org/maven2)]: \r\n    Plugin not found in any plugin repository\r\n\r\nI also tried to create a new Seam web project with Maven integration again, this is the step I followed: http://docs.jboss.org/tools/nightly/trunk/en/seam/html/create_mavenized_seam.html#create_mavenized_project\r\nAfter the project is created, I got these error in eclipse api, all are related to pom.xml (with a red sign)\r\n\r\n    Missing artifact org.jboss.tools:Maven2:war:0.0.1-SNAPSHOT\r\n    Project build error: &#39;dependencies.dependency.version&#39; for org.jboss.spec.javax.faces:jboss-jsf-    api_2.0_spec:jar is missing.\r\n    Project build error: Non-resolvable import POM: Failure to transfer \r\n\r\n    org.jboss.spec:jboss-javaee-web-6.0:pom:${javaee6.web.spec.version} \r\n    from https://repository.jboss.org/nexus/content/groups/public/ was \r\n    cached in the local repository, resolution will not be reattempted \r\n    until the update interval of jboss-public-repository-group has elapsed \r\n    or updates are forced. Original error: Could not transfer artifact \r\n    org.jboss.spec:jboss-javaee-web-6.0:pom:${javaee6.web.spec.version} \r\n    from/to jboss-public-repository-group    \r\n    (https://repository.jboss.org/nexus/content/groups/public/): \r\n    Illegal character in path at index 94: \r\n    https://repository.jboss.org/nexus/content/groups/public/org/jboss/spec/jboss-javaee-web-6.0/    \r\n    ${javaee6.web.spec.version}/jboss-javaee-web-6.0-${javaee6.web.spec.version}.pom\t\r\n\r\nNo sure why I got different error each time, I use eclipse indigo new version 64big downloaded here:https://www.eclipse.org/downloads/packages/eclipse-ide-java-ee-developers/indigosr2\r\nand add jboss tools from Marketplace, with Jboss server and Seam famework. Based on the error, do I have install any plugins? it is so confusing, because I got different error each time. \r\n","title":"Error resolving version for plugin &#39;org.codehaus.mojo:maven-war-plugin&#39; from the repositories","body":"<p>I am using eclipse Indigo Service Release 2 with <em>JBoss</em> tools installed and created a Seam Web project with Maven integration selected. After the project is created, I got this error in my pom.xml file, does anybody know how to resolve it? thanks</p>\n\n<pre><code>Error resolving version for plugin 'org.codehaus.mojo:maven-war-plugin'\nfrom the repositories [local (C:\\Users\\Jon\\.m2\\repository), \njboss-public-repository-group \n(https://repository.jboss.org/nexus/content/groups/public/),\ncentral (http://repo1.maven.org/maven2)]: \nPlugin not found in any plugin repository\n</code></pre>\n\n<p>I also tried to create a new Seam web project with Maven integration again, this is the step I followed: <a href=\"http://docs.jboss.org/tools/nightly/trunk/en/seam/html/create_mavenized_seam.html#create_mavenized_project\" rel=\"nofollow\">http://docs.jboss.org/tools/nightly/trunk/en/seam/html/create_mavenized_seam.html#create_mavenized_project</a>\nAfter the project is created, I got these error in eclipse api, all are related to pom.xml (with a red sign)</p>\n\n<pre><code>Missing artifact org.jboss.tools:Maven2:war:0.0.1-SNAPSHOT\nProject build error: 'dependencies.dependency.version' for org.jboss.spec.javax.faces:jboss-jsf-    api_2.0_spec:jar is missing.\nProject build error: Non-resolvable import POM: Failure to transfer \n\norg.jboss.spec:jboss-javaee-web-6.0:pom:${javaee6.web.spec.version} \nfrom https://repository.jboss.org/nexus/content/groups/public/ was \ncached in the local repository, resolution will not be reattempted \nuntil the update interval of jboss-public-repository-group has elapsed \nor updates are forced. Original error: Could not transfer artifact \norg.jboss.spec:jboss-javaee-web-6.0:pom:${javaee6.web.spec.version} \nfrom/to jboss-public-repository-group    \n(https://repository.jboss.org/nexus/content/groups/public/): \nIllegal character in path at index 94: \nhttps://repository.jboss.org/nexus/content/groups/public/org/jboss/spec/jboss-javaee-web-6.0/    \n${javaee6.web.spec.version}/jboss-javaee-web-6.0-${javaee6.web.spec.version}.pom    \n</code></pre>\n\n<p>No sure why I got different error each time, I use eclipse indigo new version 64big downloaded here:<a href=\"https://www.eclipse.org/downloads/packages/eclipse-ide-java-ee-developers/indigosr2\" rel=\"nofollow\">https://www.eclipse.org/downloads/packages/eclipse-ide-java-ee-developers/indigosr2</a>\nand add jboss tools from Marketplace, with Jboss server and Seam famework. Based on the error, do I have install any plugins? it is so confusing, because I got different error each time. </p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1692503701,"post_id":76937797,"comment_id":135631249,"body_markdown":"Are you referring to this [ListUtils](https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/ListUtils.html) (which is part of [Collections](https://commons.apache.org/proper/commons-collections/) subproject of Apache Commons)?","body":"Are you referring to this <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/ListUtils.html\" rel=\"nofollow noreferrer\">ListUtils</a> (which is part of <a href=\"https://commons.apache.org/proper/commons-collections/\" rel=\"nofollow noreferrer\">Collections</a> subproject of Apache Commons)?"},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1692503925,"post_id":76937797,"comment_id":135631262,"body_markdown":"If you are using ListUtils from Apache commons, then the inner lists are just *views*  over the underlying list and not copies of the elements.","body":"If you are using ListUtils from Apache commons, then the inner lists are just <i>views</i>  over the underlying list and not copies of the elements."},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1692504689,"post_id":76937797,"comment_id":135631303,"body_markdown":"Btw is `gridSize` supposed to denote the number of elements in a partition? Currently, the way you derive the `size` parameter (second argument to the `partition` method), the partition size is always 6 (`gridSize` value). Is this the intention?","body":"Btw is <code>gridSize</code> supposed to denote the number of elements in a partition? Currently, the way you derive the <code>size</code> parameter (second argument to the <code>partition</code> method), the partition size is always 6 (<code>gridSize</code> value). Is this the intention?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1692509266,"post_id":76937797,"comment_id":135631577,"body_markdown":"I think you need to explain what you are trying to do, and what the DB operation is.","body":"I think you need to explain what you are trying to do, and what the DB operation is."}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692505747,"creation_date":1692504947,"answer_id":76937925,"question_id":76937797,"body_markdown":"I think that maximum performance that you are able to get is `O(n)`.\r\n\r\nE.g. in case you have a `List&lt;Long&gt;` with 1M elements (whatever this is not a big data):\r\n```java\r\n@Getter\r\n@RequiredArgConstructor\r\npublic final class LongSummaryStatistics {\r\n    private final long min;\r\n    private final long max;\r\n}\r\n\r\npublic static LongSummaryStatistics calcMinMax(List&lt;Long&gt; ids) {\r\n    long min = Long.MAX_VALUE;\r\n    long max = Long.MIN_VALUE;\r\n\r\n    for (long id : ids) {\r\n        min = Math.min(min, id);\r\n        max = Math.max(max, id);\r\n    }\r\n\r\n    return new Data(min, max);\r\n}\r\n```\r\n\r\nDefinitely you do not need to use stream to do this. This is pretty simple and native.\r\n\r\nThen you are partitioning the list.\r\n```java\r\nList&lt;List&lt;Long&gt;&gt; pIds = List.of(List.of(1L,2L,3L,4L,5L),\r\n                                List.of(6L,7L,8L,9L,10L));\r\n```\r\n\r\nThe performance will not change - `O(n)`. Indeed, you do not need create a new list or modify it to calculate `min`, `max`.\r\n```java\r\nList&lt;LongSummaryStatistics&gt; data = pIds.stream()\r\n                                       .map(ids -&gt; calcMinMax(ids))\r\n                                       .collect(Collector.toList());\r\n```\r\n\r\nAnd finally. In case you just partition the list by the section and not mix the original order, e.g. `[1,2,3,4,5,6,7,8,9] -&gt; [[1,2,3,4,5,6], [7,8,9]]` for `gridSize = 6`, then you even do not need to make a partitions, because you can calculate the result on the fly; \r\n```java\r\nList&lt;Long&gt; ids = List.of(1L,2L,3L,4L,5L,6L,7L,8L,9L);\r\nint gridSize = 6;\r\nList&lt;LongSummaryStatistics&gt; data = calcMinMax(ids, gridSize); // [[1,6], [7,9]]\r\n\r\n\r\n\r\npublic static List&lt;LongSummaryStatistics&gt; calcMinMax(List&lt;Long&gt; ids,\r\n                                                     int gridSize) {\r\n    List&lt;LongSummaryStatistics&gt; data = new LinkedList&lt;&gt;();\r\n    int i = 0;\r\n    long min = Long.MAX_VALUE;\r\n    long max = Long.MIN_VALUE;\r\n\r\n    for (long id : ids) {\r\n        min = Math.min(min, id);\r\n        max = Math.max(max, id);\r\n\r\n        i++;\r\n\r\n        if (i % gridSize == 0 || i == ids.size()) {\r\n            data.add(new LongSummaryStatistics(min, max));\r\n            min = Long.MAX_VALUE;\r\n            max = Long.MIN_VALUE;\r\n        }\r\n    }\r\n\r\n    return data;\r\n}\r\n\r\n```\r\n\r\nSo you have `O(n)` time performance and `O(1)` memory performance. Which is pretty good.","title":"Efficient way of finding min and max of a list by partitioning","body":"<p>I think that maximum performance that you are able to get is <code>O(n)</code>.</p>\n<p>E.g. in case you have a <code>List&lt;Long&gt;</code> with 1M elements (whatever this is not a big data):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@RequiredArgConstructor\npublic final class LongSummaryStatistics {\n    private final long min;\n    private final long max;\n}\n\npublic static LongSummaryStatistics calcMinMax(List&lt;Long&gt; ids) {\n    long min = Long.MAX_VALUE;\n    long max = Long.MIN_VALUE;\n\n    for (long id : ids) {\n        min = Math.min(min, id);\n        max = Math.max(max, id);\n    }\n\n    return new Data(min, max);\n}\n</code></pre>\n<p>Definitely you do not need to use stream to do this. This is pretty simple and native.</p>\n<p>Then you are partitioning the list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&lt;Long&gt;&gt; pIds = List.of(List.of(1L,2L,3L,4L,5L),\n                                List.of(6L,7L,8L,9L,10L));\n</code></pre>\n<p>The performance will not change - <code>O(n)</code>. Indeed, you do not need create a new list or modify it to calculate <code>min</code>, <code>max</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;LongSummaryStatistics&gt; data = pIds.stream()\n                                       .map(ids -&gt; calcMinMax(ids))\n                                       .collect(Collector.toList());\n</code></pre>\n<p>And finally. In case you just partition the list by the section and not mix the original order, e.g. <code>[1,2,3,4,5,6,7,8,9] -&gt; [[1,2,3,4,5,6], [7,8,9]]</code> for <code>gridSize = 6</code>, then you even do not need to make a partitions, because you can calculate the result on the fly;</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Long&gt; ids = List.of(1L,2L,3L,4L,5L,6L,7L,8L,9L);\nint gridSize = 6;\nList&lt;LongSummaryStatistics&gt; data = calcMinMax(ids, gridSize); // [[1,6], [7,9]]\n\n\n\npublic static List&lt;LongSummaryStatistics&gt; calcMinMax(List&lt;Long&gt; ids,\n                                                     int gridSize) {\n    List&lt;LongSummaryStatistics&gt; data = new LinkedList&lt;&gt;();\n    int i = 0;\n    long min = Long.MAX_VALUE;\n    long max = Long.MIN_VALUE;\n\n    for (long id : ids) {\n        min = Math.min(min, id);\n        max = Math.max(max, id);\n\n        i++;\n\n        if (i % gridSize == 0 || i == ids.size()) {\n            data.add(new LongSummaryStatistics(min, max));\n            min = Long.MAX_VALUE;\n            max = Long.MIN_VALUE;\n        }\n    }\n\n    return data;\n}\n\n</code></pre>\n<p>So you have <code>O(n)</code> time performance and <code>O(1)</code> memory performance. Which is pretty good.</p>\n"},{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692505173,"creation_date":1692505173,"answer_id":76937931,"question_id":76937797,"body_markdown":"Another approach using java 8 only way could be as below.The essential part is you just need to use `SummaryStatistics` collector before actually realizing `ListCollector`.\r\nFor ways of partionioning you can have a look at this [answer](https://stackoverflow.com/questions/30995763/java-8-partition-list)\r\n```int gridSize = 6;\r\n        List&lt;Long&gt; idList = findAllIds();\r\n        // List&lt;List&lt;Long&gt;&gt; partitionedList = ListUtils.partition(idList, (idList.size() + gridSize - 1) / gridSize);\r\n        final AtomicInteger counter = new AtomicInteger();\r\n            idList.stream()\r\n                .collect(Collectors.groupingBy(it -&gt; counter.getAndIncrement() / gridSize, Collectors.summarizingLong(e -&gt; e)))\r\n                .forEach((k,v)-&gt;repo.callToDb(v.getMin(), v.getMax()));\r\n```","title":"Efficient way of finding min and max of a list by partitioning","body":"<p>Another approach using java 8 only way could be as below.The essential part is you just need to use <code>SummaryStatistics</code> collector before actually realizing <code>ListCollector</code>.\nFor ways of partionioning you can have a look at this <a href=\"https://stackoverflow.com/questions/30995763/java-8-partition-list\">answer</a></p>\n<pre><code>        List&lt;Long&gt; idList = findAllIds();\n        // List&lt;List&lt;Long&gt;&gt; partitionedList = ListUtils.partition(idList, (idList.size() + gridSize - 1) / gridSize);\n        final AtomicInteger counter = new AtomicInteger();\n            idList.stream()\n                .collect(Collectors.groupingBy(it -&gt; counter.getAndIncrement() / gridSize, Collectors.summarizingLong(e -&gt; e)))\n                .forEach((k,v)-&gt;repo.callToDb(v.getMin(), v.getMax()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692506242,"creation_date":1692505643,"answer_id":76937946,"question_id":76937797,"body_markdown":"Assuming you are using Apache Commons Collections&#39; [ListUtils#partition](https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/ListUtils.html#partition-java.util.List-int-) method... the returned nested list elements are *views* of the original list (as it uses `List.subList`) and doesn&#39;t create copies of the list elements.\r\n\r\nIf you still want a simpler approach (without creating new (Sub)List instances), you can mimic what `ListUtils#partition` does and use an imperative approach to find the min and max as follows.\r\n\r\nBut before that, a word on your approach...\r\n\r\nUsually we determine the number of elements in a partition (called the partition `size`) and then compute the number of partitions based on the size of the list. But in your code, the way you derive the value of `size` argument passed to the `ListUtils#partition` method, it looks like you have decided the number of partitions (= `gridSize` which is 3) and computing the number of elements in a partition. In the below answer, I&#39;m sticking with the same approach as yours.\r\n\r\nHere we have a helper function to find the min and max values within a range `(start, end]` of a list.\r\n\r\n```\r\n //You can replace this with a class for JDK version &lt; 16\r\nrecord MinMax(Long min, Long max) {\r\n\r\n}\r\n\r\nprivate static MinMax findMinAndMaxForRange(List&lt;Long&gt; list, int start, int end) {\r\n    if (list.isEmpty() || start &lt; 0 || start &gt; end || end &gt; list.size()) {\r\n        throw new IllegalArgumentException();\r\n    }\r\n    Long min = list.get(start);\r\n    Long max = list.get(start);\r\n    for (int i = start + 1; i &lt; end; i++) {\r\n        Long element = list.get(i);\r\n        if (min &gt; element) {\r\n            min = element;\r\n        }\r\n        if (max &lt; element) {\r\n            max = element;\r\n        }\r\n    }\r\n    return new MinMax(min, max);\r\n}\r\n\r\n```\r\nHere, we have an IntStream range from `(0, numOfPartition]`, and find the *start* and *end* range values for each partition and call the above helper function. The minMax values for each partition is then updated in the DB.\r\n\r\n```\r\nint gridSize = 3;\r\nint size = (idList.size() + gridSize - 1) / gridSize;\r\nint numOfPartition = (int) Math.ceil(idList.size() / (double) size);\r\n\r\n\r\nIntStream.range(0, numOfPartition)\r\n        .mapToObj(index -&gt; findMinAndMaxForRange(idList,\r\n                index * size,\r\n                Math.min((index * size) + size, idList.size())))\r\n        .forEach(minMax -&gt; repo.callToDb(minMax.min(), minMax.max()));\r\n\r\n```\r\n","title":"Efficient way of finding min and max of a list by partitioning","body":"<p>Assuming you are using Apache Commons Collections' <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/ListUtils.html#partition-java.util.List-int-\" rel=\"nofollow noreferrer\">ListUtils#partition</a> method... the returned nested list elements are <em>views</em> of the original list (as it uses <code>List.subList</code>) and doesn't create copies of the list elements.</p>\n<p>If you still want a simpler approach (without creating new (Sub)List instances), you can mimic what <code>ListUtils#partition</code> does and use an imperative approach to find the min and max as follows.</p>\n<p>But before that, a word on your approach...</p>\n<p>Usually we determine the number of elements in a partition (called the partition <code>size</code>) and then compute the number of partitions based on the size of the list. But in your code, the way you derive the value of <code>size</code> argument passed to the <code>ListUtils#partition</code> method, it looks like you have decided the number of partitions (= <code>gridSize</code> which is 3) and computing the number of elements in a partition. In the below answer, I'm sticking with the same approach as yours.</p>\n<p>Here we have a helper function to find the min and max values within a range <code>(start, end]</code> of a list.</p>\n<pre><code> //You can replace this with a class for JDK version &lt; 16\nrecord MinMax(Long min, Long max) {\n\n}\n\nprivate static MinMax findMinAndMaxForRange(List&lt;Long&gt; list, int start, int end) {\n    if (list.isEmpty() || start &lt; 0 || start &gt; end || end &gt; list.size()) {\n        throw new IllegalArgumentException();\n    }\n    Long min = list.get(start);\n    Long max = list.get(start);\n    for (int i = start + 1; i &lt; end; i++) {\n        Long element = list.get(i);\n        if (min &gt; element) {\n            min = element;\n        }\n        if (max &lt; element) {\n            max = element;\n        }\n    }\n    return new MinMax(min, max);\n}\n\n</code></pre>\n<p>Here, we have an IntStream range from <code>(0, numOfPartition]</code>, and find the <em>start</em> and <em>end</em> range values for each partition and call the above helper function. The minMax values for each partition is then updated in the DB.</p>\n<pre><code>int gridSize = 3;\nint size = (idList.size() + gridSize - 1) / gridSize;\nint numOfPartition = (int) Math.ceil(idList.size() / (double) size);\n\n\nIntStream.range(0, numOfPartition)\n        .mapToObj(index -&gt; findMinAndMaxForRange(idList,\n                index * size,\n                Math.min((index * size) + size, idList.size())))\n        .forEach(minMax -&gt; repo.callToDb(minMax.min(), minMax.max()));\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1692507559,"creation_date":1692505675,"answer_id":76937948,"question_id":76937797,"body_markdown":"It is easy to prove that the problem is O(N).  Every one of the N elements in the initial list could be either the minimum or maximum.  So every one of them needs to be tested.\r\n\r\nTherefore, for a single-threaded algorithm there is no performance benefit in partitioning the list ... compared to scanning the entire list in a single pass.  If you have the original list in memory, partitioning it and scanning the partitions does not improve anything.\r\n\r\nIf you are going to use multiple threads, then partitioning the list and scanning each partition with a different thread is potentially beneficial.  (You need to be able to create the partitions without copying the list.  That can be done efficiently using `sublist(...)` ... at least with an `ArrayList`.)  \r\n\r\nIf you are going to use streams, you don&#39;t need to do the partitioning yourself.  A simpler way is to use `parallel()` and leave it to the stream infrastructure to do the partitioning ... which the spliterator can do *without* creating new lists for the partitions.\r\n\r\nThere isn&#39;t an explicit statement in the javadocs that the summarizing collectors will operate in parallel on a `parallel()` stream.  However the [javadoc][1] for `LongSummaryStatistics` says:\r\n\r\n&gt; *&quot;This implementation is not thread safe. However, it is safe to use `Collectors.summarizingLong()` on a parallel stream, because the parallel implementation of Stream.collect() provides the necessary partitioning, isolation, and merging of results **for safe and efficient parallel execution**.&quot;*\r\n\r\nIn short:\r\n\r\n    List&lt;Long&gt; ids = findAllIds();\r\n    LongSummaryStatistics idStats = ids.stream()\r\n            .parallel()\r\n            .collect(Collectors.summarizingLong(e -&gt; e));\r\n    repo.callToDb(idStats.getMin(), idStats.getMax());\r\n\r\n(There is no need to use atomic types to do this because of the guarantees provided by the javadocs.)\r\n\r\n---------------------\r\n\r\nOn the other hand, if the real purpose of the partitioning is to partition the database queries, then your best bet would be to partition using `sublist(...)` and then submit tasks to an `ExecutorService` that will scan each partition and then do the DB query.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/LongSummaryStatistics.html\r\n","title":"Efficient way of finding min and max of a list by partitioning","body":"<p>It is easy to prove that the problem is O(N).  Every one of the N elements in the initial list could be either the minimum or maximum.  So every one of them needs to be tested.</p>\n<p>Therefore, for a single-threaded algorithm there is no performance benefit in partitioning the list ... compared to scanning the entire list in a single pass.  If you have the original list in memory, partitioning it and scanning the partitions does not improve anything.</p>\n<p>If you are going to use multiple threads, then partitioning the list and scanning each partition with a different thread is potentially beneficial.  (You need to be able to create the partitions without copying the list.  That can be done efficiently using <code>sublist(...)</code> ... at least with an <code>ArrayList</code>.)</p>\n<p>If you are going to use streams, you don't need to do the partitioning yourself.  A simpler way is to use <code>parallel()</code> and leave it to the stream infrastructure to do the partitioning ... which the spliterator can do <em>without</em> creating new lists for the partitions.</p>\n<p>There isn't an explicit statement in the javadocs that the summarizing collectors will operate in parallel on a <code>parallel()</code> stream.  However the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/LongSummaryStatistics.html\" rel=\"nofollow noreferrer\">javadoc</a> for <code>LongSummaryStatistics</code> says:</p>\n<blockquote>\n<p><em>&quot;This implementation is not thread safe. However, it is safe to use <code>Collectors.summarizingLong()</code> on a parallel stream, because the parallel implementation of Stream.collect() provides the necessary partitioning, isolation, and merging of results <strong>for safe and efficient parallel execution</strong>.&quot;</em></p>\n</blockquote>\n<p>In short:</p>\n<pre><code>List&lt;Long&gt; ids = findAllIds();\nLongSummaryStatistics idStats = ids.stream()\n        .parallel()\n        .collect(Collectors.summarizingLong(e -&gt; e));\nrepo.callToDb(idStats.getMin(), idStats.getMax());\n</code></pre>\n<p>(There is no need to use atomic types to do this because of the guarantees provided by the javadocs.)</p>\n<hr />\n<p>On the other hand, if the real purpose of the partitioning is to partition the database queries, then your best bet would be to partition using <code>sublist(...)</code> and then submit tasks to an <code>ExecutorService</code> that will scan each partition and then do the DB query.</p>\n"}],"owner":{"account_id":1894123,"reputation":619,"user_id":1711465,"accept_rate":40,"display_name":"Vamsi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1692507559,"creation_date":1692500125,"question_id":76937797,"body_markdown":"I have a `List&lt;Long&gt;` elements. The list is huge. The list size would be around 1M records. I am trying to partition the list to get the min and max for each partition, which I will be passing them to the DB queries.&lt;br&gt;\r\nI am currently doing this in the following way:&lt;br&gt;\r\n\r\n    int gridSize = 6;\r\n    List&lt;Long&gt; idList = findAllIds();\r\n    List&lt;List&lt;Long&gt;&gt; partitionedList = ListUtils.partition(idList, (idList.size() + gridSize - 1) / gridSize);\r\n    for(List&lt;Long&gt; ids : partitionedList) {\r\n        LongSummaryStatistics idStats = ids.stream().collect(Collectors.summarizingLong(e -&gt; e));\r\n        repo.callToDb(idStats.getMin(), idStats.getMax());\r\n    }\r\n\r\nThe above code works fine. But I am unnecessarily collecting all the keys to a list and then partition and save them (which saves them to a different list) and then looping through them to get the idStats.\r\n\r\nIs there a more efficient way to do this instead of creating these many lists and consuming so much of memory?","title":"Efficient way of finding min and max of a list by partitioning","body":"<p>I have a <code>List&lt;Long&gt;</code> elements. The list is huge. The list size would be around 1M records. I am trying to partition the list to get the min and max for each partition, which I will be passing them to the DB queries.<br>\nI am currently doing this in the following way:<br></p>\n<pre><code>int gridSize = 6;\nList&lt;Long&gt; idList = findAllIds();\nList&lt;List&lt;Long&gt;&gt; partitionedList = ListUtils.partition(idList, (idList.size() + gridSize - 1) / gridSize);\nfor(List&lt;Long&gt; ids : partitionedList) {\n    LongSummaryStatistics idStats = ids.stream().collect(Collectors.summarizingLong(e -&gt; e));\n    repo.callToDb(idStats.getMin(), idStats.getMax());\n}\n</code></pre>\n<p>The above code works fine. But I am unnecessarily collecting all the keys to a list and then partition and save them (which saves them to a different list) and then looping through them to get the idStats.</p>\n<p>Is there a more efficient way to do this instead of creating these many lists and consuming so much of memory?</p>\n"},{"tags":["java","spring-boot","visual-studio-code"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1691568442,"post_id":76862494,"comment_id":135507725,"body_markdown":"Can you elaborate on what you did and what didn&#39;t work as expected?","body":"Can you elaborate on what you did and what didn&#39;t work as expected?"}],"owner":{"account_id":28867937,"reputation":1,"user_id":22110246,"display_name":"Aryan Golbaghi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692507538,"creation_date":1691521216,"question_id":76862494,"body_markdown":"This is my code and I&#39;m trying to override the `handleMethodArgumentNotValid` method. However, VSCode doesn&#39;t let me override the method\r\n\r\n[![The class that I am trying to override the function][1]][1]\r\n\r\n```java\r\n@ControllerAdvice\r\npublic class ApplicationExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n\t@ExceptionHandler(ContactNotFoundException.class)\r\n\tpublic ResponseEntity&lt;Object&gt; handleContactNotFoundException(ContactNotFoundException ex) {\r\n\t\tErrorResponse error = new ErrorResponse(ex.getLocalizedMessage());\r\n\t\treturn new ResponseEntity&lt;&gt;(error, HttpStatus.NOT_FOUND);\r\n\t}\r\n}\r\n```\r\n\r\nEven if I write the whole function myself (with the same parameter and signature), it still doesn&#39;t work. I don&#39;t get any error, it just doesn&#39;t let me override it.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GdJFE.png","title":"I can&#39;t override the &quot;handleMethodArgumentNotValid&quot; from the &quot;ResponseEntityExceptionHandler&quot; class","body":"<p>This is my code and I'm trying to override the <code>handleMethodArgumentNotValid</code> method. However, VSCode doesn't let me override the method</p>\n<p><a href=\"https://i.stack.imgur.com/GdJFE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GdJFE.png\" alt=\"The class that I am trying to override the function\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>@ControllerAdvice\npublic class ApplicationExceptionHandler extends ResponseEntityExceptionHandler {\n\n    @ExceptionHandler(ContactNotFoundException.class)\n    public ResponseEntity&lt;Object&gt; handleContactNotFoundException(ContactNotFoundException ex) {\n        ErrorResponse error = new ErrorResponse(ex.getLocalizedMessage());\n        return new ResponseEntity&lt;&gt;(error, HttpStatus.NOT_FOUND);\n    }\n}\n</code></pre>\n<p>Even if I write the whole function myself (with the same parameter and signature), it still doesn't work. I don't get any error, it just doesn't let me override it.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":184203,"reputation":3430,"user_id":420096,"accept_rate":71,"display_name":"Sombriks"},"score":0,"creation_date":1692496179,"post_id":76937676,"comment_id":135630862,"body_markdown":"can you provide a small sample project/git repo? it could help to cplarify your need.","body":"can you provide a small sample project/git repo? it could help to cplarify your need."}],"answers":[{"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692502624,"creation_date":1692502210,"answer_id":76937858,"question_id":76937676,"body_markdown":"Along with the parent record, you can capture the child records as well that is returned by the query. You can map the query results to the DTO.\r\n\r\n1. Define a DTO:\r\n  \r\n       @Getter\r\n       @Setter\r\n       @NoArgsConstructor\r\n       @AllArgsConstructor\r\n       public class ResultDto implements Serializable {\r\n          private Parent p;\r\n          private Child1 ch1;\r\n          private Child2 ch2;\r\n       }\r\n\r\n\r\n  2. Query and map the results to dto.\r\n\r\n         @Query(&quot;SELECT new com.jpatest.jpaexploration.dto.ResultDto(p, ch1, ch2) FROM parent p join Child1 ch1 on ... join Child2 ch2 on ... where ch1.another_parent_id = ... or ch2.another_parent_id = ...&quot;)\r\n         List&lt;ResultDto&gt; getResults();\r\n\r\nThis list of dto will contain only children that were returned by the query.\r\n","title":"Spring boot Jpa filter children","body":"<p>Along with the parent record, you can capture the child records as well that is returned by the query. You can map the query results to the DTO.</p>\n<ol>\n<li><p>Define a DTO:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ResultDto implements Serializable {\n   private Parent p;\n   private Child1 ch1;\n   private Child2 ch2;\n}\n</code></pre>\n</li>\n<li><p>Query and map the results to dto.</p>\n<pre><code>@Query(&quot;SELECT new com.jpatest.jpaexploration.dto.ResultDto(p, ch1, ch2) FROM parent p join Child1 ch1 on ... join Child2 ch2 on ... where ch1.another_parent_id = ... or ch2.another_parent_id = ...&quot;)\nList&lt;ResultDto&gt; getResults();\n</code></pre>\n</li>\n</ol>\n<p>This list of dto will contain only children that were returned by the query.</p>\n"}],"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692502624,"creation_date":1692495955,"question_id":76937676,"body_markdown":"I am using spring boot JPA specification for filtering records according to the filter criteria. I have a Parent and 2 child tables. These two child tables has another common parent2. I need to retrieve Parent record along with child records that matches the common parent2 id.\r\n\r\nselect * from parent \r\njoin child1 on ...\r\njoin child2 on ...\r\nwhere child1.another_parent_id = ... or\r\nchild2.another_parent_id = ...\r\n\r\nProblem here is it retrieves parent record and if I do parent.getChild1 or parent.getChild2 it returns all the records of child1 and child2, not just the matching records of another_parent_id. \r\n\r\nIs it possible to achieve this with spring boot jpa specification ?\r\n\r\nOne way that I have is to have separate repository for child1 and child2 and filter the results and combine and get the results. Here I need to hit 2 queries and also if both the results of child1 and child2 returns same parent then, I need to filter the unique records.\r\n\r\nThanks in advance.","title":"Spring boot Jpa filter children","body":"<p>I am using spring boot JPA specification for filtering records according to the filter criteria. I have a Parent and 2 child tables. These two child tables has another common parent2. I need to retrieve Parent record along with child records that matches the common parent2 id.</p>\n<p>select * from parent\njoin child1 on ...\njoin child2 on ...\nwhere child1.another_parent_id = ... or\nchild2.another_parent_id = ...</p>\n<p>Problem here is it retrieves parent record and if I do parent.getChild1 or parent.getChild2 it returns all the records of child1 and child2, not just the matching records of another_parent_id.</p>\n<p>Is it possible to achieve this with spring boot jpa specification ?</p>\n<p>One way that I have is to have separate repository for child1 and child2 and filter the results and combine and get the results. Here I need to hit 2 queries and also if both the results of child1 and child2 returns same parent then, I need to filter the unique records.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","if-statement","random"],"comments":[{"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1692428537,"post_id":76933917,"comment_id":135624455,"body_markdown":"&quot;Here is my code. It works for its current purpose&quot; - no, it really doesn&#39;t. It won&#39;t compile for various reasons, and you really need to read https://stackoverflow.com/questions/513832. It&#39;s not clear to me why you&#39;re trying to redeclare local variables which are already in scope, but you can&#39;t do that... and I&#39;d *very strongly* advise you to use consistent formatting which will make the structure of the code much clearer.","body":"&quot;Here is my code. It works for its current purpose&quot; - no, it really doesn&#39;t. It won&#39;t compile for various reasons, and you really need to read <a href=\"https://stackoverflow.com/questions/513832\">stackoverflow.com/questions/513832</a>. It&#39;s not clear to me why you&#39;re trying to redeclare local variables which are already in scope, but you can&#39;t do that... and I&#39;d <i>very strongly</i> advise you to use consistent formatting which will make the structure of the code much clearer."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1692434633,"post_id":76933917,"comment_id":135624940,"body_markdown":"[The Java Tutorials](https://docs.oracle.com/javase/tutorial/)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\">The Java Tutorials</a>"},{"owner":{"account_id":13634439,"reputation":27,"user_id":9835823,"display_name":"Richey Baumann"},"score":1,"creation_date":1692452659,"post_id":76933917,"comment_id":135626768,"body_markdown":"Yes, it does compile. It compiles without a problem and outputs a random letter. The code works; I just can&#39;t get it to work *in this specific context*.","body":"Yes, it does compile. It compiles without a problem and outputs a random letter. The code works; I just can&#39;t get it to work <i>in this specific context</i>."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1692484549,"post_id":76933917,"comment_id":135630123,"body_markdown":"What is the overall purpose of this code? There may be a better way to accomplish it.","body":"What is the overall purpose of this code? There may be a better way to accomplish it."},{"owner":{"account_id":13634439,"reputation":27,"user_id":9835823,"display_name":"Richey Baumann"},"score":1,"creation_date":1692500146,"post_id":76933917,"comment_id":135631027,"body_markdown":"There probably is, but everyone has decided to be unhelpful and condescending instead of providing that information. The purpose of the code is to pick ideas and then pick more  specific ideas based on those. So it&#39;ll draw one, then based on that one it&#39;ll draw another, more specific one, and so on.","body":"There probably is, but everyone has decided to be unhelpful and condescending instead of providing that information. The purpose of the code is to pick ideas and then pick more  specific ideas based on those. So it&#39;ll draw one, then based on that one it&#39;ll draw another, more specific one, and so on."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1692502051,"post_id":76933917,"comment_id":135631132,"body_markdown":"I recommend that you learn about methods. When you have an &quot;and then...&quot; this almost always means you can implement what came before as one method and what comes next as another method.","body":"I recommend that you learn about methods. When you have an &quot;and then...&quot; this almost always means you can implement what came before as one method and what comes next as another method."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1692515001,"post_id":76933917,"comment_id":135631937,"body_markdown":"&quot;*compile without errors*&quot; ?!? `if (nesting = &quot;A&quot;)` should never compile in Java; neither the re-declaration of `generate` - if &quot;*everyone has decided to be unhelpful*&quot; maybe the problem is that you have not posted the correct code. (if every car is driving on the wrong side of the road, I would ask myself, if I am the one on the wrong side...) This was already given in first comment, but seems like you did not interpret it as help, but only as confrontation :-(","body":"&quot;<i>compile without errors</i>&quot; ?!? <code>if (nesting = &quot;A&quot;)</code> should never compile in Java; neither the re-declaration of <code>generate</code> - if &quot;<i>everyone has decided to be unhelpful</i>&quot; maybe the problem is that you have not posted the correct code. (if every car is driving on the wrong side of the road, I would ask myself, if I am the one on the wrong side...) This was already given in first comment, but seems like you did not interpret it as help, but only as confrontation :-("},{"owner":{"account_id":13634439,"reputation":27,"user_id":9835823,"display_name":"Richey Baumann"},"score":1,"creation_date":1692557292,"post_id":76933917,"comment_id":135636433,"body_markdown":"The code is correct. So was my response. The code was compiling without issues, so everyone had decided to focus on an issue that wasn&#39;t an issue. Instead of providing solutions or asking for context, they assumed that they were right and made a bunch of determinations from there. The code *did* compile; the one person who actually answered the question *did* provide a useful, if needlessly sarcastic and demeaning, answer. And someone else, on a different question, took the time to help me condense the code into 12 lines.","body":"The code is correct. So was my response. The code was compiling without issues, so everyone had decided to focus on an issue that wasn&#39;t an issue. Instead of providing solutions or asking for context, they assumed that they were right and made a bunch of determinations from there. The code <i>did</i> compile; the one person who actually answered the question <i>did</i> provide a useful, if needlessly sarcastic and demeaning, answer. And someone else, on a different question, took the time to help me condense the code into 12 lines."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1692561452,"post_id":76933917,"comment_id":135636783,"body_markdown":"6 compile errors: https://ideone.com/7Qnmrf ([screenshot](https://i.stack.imgur.com/5RQwb.png))","body":"6 compile errors: <a href=\"https://ideone.com/7Qnmrf\" rel=\"nofollow noreferrer\">ideone.com/7Qnmrf</a> (<a href=\"https://i.stack.imgur.com/5RQwb.png\" rel=\"nofollow noreferrer\">screenshot</a>)"}],"answers":[{"tags":[],"owner":{"account_id":29176687,"reputation":322,"user_id":22351796,"display_name":"Karsten"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692429233,"creation_date":1692428517,"answer_id":76933939,"question_id":76933917,"body_markdown":"You better should start with some Java lessons:\r\n\r\n* The =-operator in any case will assign the right value to the variable on the left side.\r\n* For comparison of two primitive types (int, double) you have to use the ==-operator. But since string are objects you&#39;ll have to use the equals-method: `&quot;A&quot;.equals(nesting)`.","title":"How to nest if/then/else statements into random list outputs?","body":"<p>You better should start with some Java lessons:</p>\n<ul>\n<li>The =-operator in any case will assign the right value to the variable on the left side.</li>\n<li>For comparison of two primitive types (int, double) you have to use the ==-operator. But since string are objects you'll have to use the equals-method: <code>&quot;A&quot;.equals(nesting)</code>.</li>\n</ul>\n"}],"owner":{"account_id":13634439,"reputation":27,"user_id":9835823,"display_name":"Richey Baumann"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76933939,"answer_count":1,"score":0,"last_activity_date":1692502389,"creation_date":1692427821,"question_id":76933917,"body_markdown":"I&#39;m trying to create a system that picks randomly from a list, and then, depending on which string it picked, picks another random string from a separate group, and then another one from there. \r\n\r\nBasically, I&#39;m trying to give it a bunch of paths and then, depending on what choice it makes, narrow the subsequent paths down two more times.\r\n\r\nI&#39;ve got the random code going, but I can&#39;t get it to accept if/then/else statements.\r\n\r\nHere is my code. It works for its current purpose, which is generating one of those 4 letters randomly. But because it doesn&#39;t call a variable, it won&#39;t accept if/then/else statements. If I try to make a variable, it complains about being unable to convert the variable to Boolean, but if I define it as Boolean the entire code breaks. \r\n```java\r\npackage randomlist;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Random;\r\n\r\npublic class Randomlist {\r\n\r\n    public static void main(String[] args) {\r\n        // TODO Auto-generated method stub\r\n\r\n        Random generate = new Random();\r\n        String[] name = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;};\r\n        System.out.println(name[generate.nextInt(4)]);\r\n        String nesting = (name[generate.nextInt(4)]);\r\n        if (nesting = &quot;A&quot;) {\r\n            Random generate = new Random();\r\n            String[] name = {&quot;E&quot;, &quot;F&quot;, &quot;G&quot;, &quot;H&quot;};\r\n        }\r\n        else if (nesting = &quot;B&quot;) {\r\n            Random generate = new Random();\r\n            String[] name = {&quot;I&quot;, &quot;J&quot;, &quot;K&quot;, &quot;L&quot;};\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nEDIT: Seems nobody is able to be helpful without also being needlessly sarcastic and demeaning. Apparently, it&#39;s not okay for people to learn how to do things and everyone is expected to be an expert from the beginning. (Also, if the code compiles, it works. It might not work *as intended*, but it works. I do not understand the point of arguing with someone about that. Do not tell me my code won&#39;t function when I have tested it and it does, in fact, compile without errors).\r\n\r\nFortunately, I solved my own problem, mostly out of spite. &lt;strike&gt; It requires new variables every time &lt;/strike&gt; and a lot of very short if statements, but it does what I need it to do.\r\n\r\nEdit #2: it turns out it&#39;s willing to reuse the same variables for each nested level, so while it won&#39;t let me reuse (name) for the lower level, I *can* use (name1) for each of the lower nests and (name2) for the third-order ones.","title":"How to nest if/then/else statements into random list outputs?","body":"<p>I'm trying to create a system that picks randomly from a list, and then, depending on which string it picked, picks another random string from a separate group, and then another one from there.</p>\n<p>Basically, I'm trying to give it a bunch of paths and then, depending on what choice it makes, narrow the subsequent paths down two more times.</p>\n<p>I've got the random code going, but I can't get it to accept if/then/else statements.</p>\n<p>Here is my code. It works for its current purpose, which is generating one of those 4 letters randomly. But because it doesn't call a variable, it won't accept if/then/else statements. If I try to make a variable, it complains about being unable to convert the variable to Boolean, but if I define it as Boolean the entire code breaks.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package randomlist;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\n\npublic class Randomlist {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        Random generate = new Random();\n        String[] name = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;};\n        System.out.println(name[generate.nextInt(4)]);\n        String nesting = (name[generate.nextInt(4)]);\n        if (nesting = &quot;A&quot;) {\n            Random generate = new Random();\n            String[] name = {&quot;E&quot;, &quot;F&quot;, &quot;G&quot;, &quot;H&quot;};\n        }\n        else if (nesting = &quot;B&quot;) {\n            Random generate = new Random();\n            String[] name = {&quot;I&quot;, &quot;J&quot;, &quot;K&quot;, &quot;L&quot;};\n        }\n    }\n}\n</code></pre>\n<p>EDIT: Seems nobody is able to be helpful without also being needlessly sarcastic and demeaning. Apparently, it's not okay for people to learn how to do things and everyone is expected to be an expert from the beginning. (Also, if the code compiles, it works. It might not work <em>as intended</em>, but it works. I do not understand the point of arguing with someone about that. Do not tell me my code won't function when I have tested it and it does, in fact, compile without errors).</p>\n<p>Fortunately, I solved my own problem, mostly out of spite. <strike> It requires new variables every time </strike> and a lot of very short if statements, but it does what I need it to do.</p>\n<p>Edit #2: it turns out it's willing to reuse the same variables for each nested level, so while it won't let me reuse (name) for the lower level, I <em>can</em> use (name1) for each of the lower nests and (name2) for the third-order ones.</p>\n"},{"tags":["java","selenium","google-chrome"],"answers":[{"tags":[],"owner":{"account_id":446378,"reputation":170,"user_id":839382,"display_name":"sarimarton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692501245,"creation_date":1692501245,"answer_id":76937830,"question_id":64733874,"body_markdown":"This bothered me as well. It seems like there&#39;s no such entry for it in the [Chrome Preferences JSON][1], I assume because it&#39;s a macOS-only feature. I&#39;ve resolved this by creating a [Karabiner Elements][2] config which selects the Quit menu item on Command-Q in Chrome. Here&#39;s the config in YAML:\r\n\r\n    - manipulators:\r\n      - from:\r\n          key_code: q\r\n          modifiers:\r\n            mandatory:\r\n              - command\r\n        to:\r\n          - shell_command: &gt;-\r\n              osascript\r\n              -e &#39;tell application &quot;Google Chrome for Testing&quot; to activate&#39;\r\n              -e &#39;tell application &quot;System Events&quot;&#39;\r\n              -e &#39;  tell process &quot;Google Chrome for Testing&quot;&#39;\r\n              -e &#39;    click menu item &quot;Quit Chromium&quot; of menu &quot;Google Chrome for Testing&quot; of menu bar 1&#39;\r\n              -e &#39;  end tell&#39;\r\n              -e &#39;end tell&#39;\r\n        conditions:\r\n          - type: frontmost_application_if\r\n            bundle_identifiers:\r\n              - chrome.for.testing\r\n        type: basic\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/69301897/selenium-webdriver-start-chrome-with-devtools-open-to-console-panel\r\n  [2]: https://karabiner-elements.pqrs.org","title":"How to disable &quot;Warn before quitting&quot; in Chrome using Java/Selenium?","body":"<p>This bothered me as well. It seems like there's no such entry for it in the <a href=\"https://stackoverflow.com/questions/69301897/selenium-webdriver-start-chrome-with-devtools-open-to-console-panel\">Chrome Preferences JSON</a>, I assume because it's a macOS-only feature. I've resolved this by creating a <a href=\"https://karabiner-elements.pqrs.org\" rel=\"nofollow noreferrer\">Karabiner Elements</a> config which selects the Quit menu item on Command-Q in Chrome. Here's the config in YAML:</p>\n<pre><code>- manipulators:\n  - from:\n      key_code: q\n      modifiers:\n        mandatory:\n          - command\n    to:\n      - shell_command: &gt;-\n          osascript\n          -e 'tell application &quot;Google Chrome for Testing&quot; to activate'\n          -e 'tell application &quot;System Events&quot;'\n          -e '  tell process &quot;Google Chrome for Testing&quot;'\n          -e '    click menu item &quot;Quit Chromium&quot; of menu &quot;Google Chrome for Testing&quot; of menu bar 1'\n          -e '  end tell'\n          -e 'end tell'\n    conditions:\n      - type: frontmost_application_if\n        bundle_identifiers:\n          - chrome.for.testing\n    type: basic\n</code></pre>\n"}],"owner":{"account_id":1734548,"reputation":855,"user_id":1802826,"accept_rate":50,"display_name":"d-b"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1692501245,"creation_date":1604796734,"question_id":64733874,"body_markdown":"When developing in Selenium you frequently open a new browser and if the test fails/doesn&#39;t tear down as it should you manually have to quit the browser. By default, Chrome doesn&#39;t quit immediately if you use the keyboard shortcut, instead you have to press and hold the keys for a while. This feature makes sense when the user is a human but as a Selenium developer it gets old very fast to wait for Chrome to quit when you want get back to your IDE as fast a possible.\r\n\r\n**Can this feature *Warn before quitting* in Chrome be disabled from Java/Selenium? Even programmatically sending a click to open a menu and disabling it that way is a valid solution.**","title":"How to disable &quot;Warn before quitting&quot; in Chrome using Java/Selenium?","body":"<p>When developing in Selenium you frequently open a new browser and if the test fails/doesn't tear down as it should you manually have to quit the browser. By default, Chrome doesn't quit immediately if you use the keyboard shortcut, instead you have to press and hold the keys for a while. This feature makes sense when the user is a human but as a Selenium developer it gets old very fast to wait for Chrome to quit when you want get back to your IDE as fast a possible.</p>\n<p><strong>Can this feature <em>Warn before quitting</em> in Chrome be disabled from Java/Selenium? Even programmatically sending a click to open a menu and disabling it that way is a valid solution.</strong></p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1665696075,"post_id":74061810,"comment_id":130765641,"body_markdown":"Do these libraries belong to the module where you see the problem? What&#39;s the scope of these dependencies? Can you browse the jar files to see the actual classes that can&#39;t be imported (possible jar corruption)? Does the project build outside of the IDE using `mvn clean package`? Does it help if you delete `.idea` directory and [perform the clean import](https://www.jetbrains.com/help/idea/maven-support.html#maven_import_project_start)? Are there any errors in [idea.log](https://intellij-support.jetbrains.com/hc/en-us/articles/207241085) after importing the project?","body":"Do these libraries belong to the module where you see the problem? What&#39;s the scope of these dependencies? Can you browse the jar files to see the actual classes that can&#39;t be imported (possible jar corruption)? Does the project build outside of the IDE using <code>mvn clean package</code>? Does it help if you delete <code>.idea</code> directory and <a href=\"https://www.jetbrains.com/help/idea/maven-support.html#maven_import_project_start\" rel=\"nofollow noreferrer\">perform the clean import</a>? Are there any errors in <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/207241085\" rel=\"nofollow noreferrer\">idea.log</a> after importing the project?"},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1665696079,"post_id":74061810,"comment_id":130765642,"body_markdown":"Does Build | Sync tool window report any problems? Make sure `.class`/`.jar` and other important extensions were not remapped, inspect `options/filetypes.xml` file under the configuration directory, [see this answer](https://stackoverflow.com/a/13374653/104891) for more details. Check that `.class`/`.jar` extensions are not ignored at File | Settings (Preferences on macOS) | Editor | File Types, [Ignore files and folders](https://i.imgur.com/gwoSwTT.png).","body":"Does Build | Sync tool window report any problems? Make sure <code>.class</code>/<code>.jar</code> and other important extensions were not remapped, inspect <code>options&#47;filetypes.xml</code> file under the configuration directory, <a href=\"https://stackoverflow.com/a/13374653/104891\">see this answer</a> for more details. Check that <code>.class</code>/<code>.jar</code> extensions are not ignored at File | Settings (Preferences on macOS) | Editor | File Types, <a href=\"https://i.imgur.com/gwoSwTT.png\" rel=\"nofollow noreferrer\">Ignore files and folders</a>."},{"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1666457168,"post_id":74061810,"comment_id":130943765,"body_markdown":"Comment out lines in build gradle/pom xml, rebuild project and remove comments, rebuild again. If it helps, please, let me know.","body":"Comment out lines in build gradle/pom xml, rebuild project and remove comments, rebuild again. If it helps, please, let me know."}],"answers":[{"tags":[],"owner":{"account_id":29259599,"reputation":1,"user_id":22416894,"display_name":"Ramchandra V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692497696,"creation_date":1692497650,"answer_id":76937726,"question_id":74061810,"body_markdown":"There is something called scope in pom.xml . By default the scope for the code we write in java files is considered as compile. Hence by modifying that scope in pom.xml dependencies are accessible now.\r\n[scope tag in pom][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aXq9O.png","title":"IntelliJ IDEA can&#39;t import packages that are present under External Libraries","body":"<p>There is something called scope in pom.xml . By default the scope for the code we write in java files is considered as compile. Hence by modifying that scope in pom.xml dependencies are accessible now.\n<a href=\"https://i.stack.imgur.com/aXq9O.png\" rel=\"nofollow noreferrer\">scope tag in pom</a></p>\n"}],"owner":{"account_id":886614,"reputation":29561,"user_id":925913,"accept_rate":82,"display_name":"Andrew Cheong"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692497696,"creation_date":1665695235,"question_id":74061810,"body_markdown":"Trying to help my colleague set up and we&#39;re stumped why IntelliJ cannot find packages it clearly downloaded and sees (according to External Libraries).\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThings he&#39;s tried:\r\n\r\n - File &gt; Invalidate Caches &gt; Invalidate and Restart\r\n - Right click on root pom.xml &gt; Maven &gt; Reload project\r\n - mvn clean compile\r\n - mvn clean install\r\n - Switching Maven home path to bundled Maven (and back)\r\n - Reload All Maven Projects on Maven tab\r\n\r\nWhat else can we check or try?\r\n\r\n  [1]: https://i.stack.imgur.com/oDZer.png","title":"IntelliJ IDEA can&#39;t import packages that are present under External Libraries","body":"<p>Trying to help my colleague set up and we're stumped why IntelliJ cannot find packages it clearly downloaded and sees (according to External Libraries).</p>\n<p><a href=\"https://i.stack.imgur.com/oDZer.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oDZer.png\" alt=\"enter image description here\" /></a></p>\n<p>Things he's tried:</p>\n<ul>\n<li>File &gt; Invalidate Caches &gt; Invalidate and Restart</li>\n<li>Right click on root pom.xml &gt; Maven &gt; Reload project</li>\n<li>mvn clean compile</li>\n<li>mvn clean install</li>\n<li>Switching Maven home path to bundled Maven (and back)</li>\n<li>Reload All Maven Projects on Maven tab</li>\n</ul>\n<p>What else can we check or try?</p>\n"},{"tags":["java","mysql","spring","date","calendar"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":2,"creation_date":1568971260,"post_id":58025438,"comment_id":102453251,"body_markdown":"Does `Order` have a date/time field? Maybe a computated column? What is the query that is actually executed?","body":"Does <code>Order</code> have a date/time field? Maybe a computated column? What is the query that is actually executed?"},{"owner":{"account_id":2138268,"reputation":7872,"user_id":1897528,"accept_rate":62,"display_name":"Farrukh Chishti"},"score":0,"creation_date":1568971313,"post_id":58025438,"comment_id":102453271,"body_markdown":"yes...`Order` has many date/time fields","body":"yes...<code>Order</code> has many date/time fields"},{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":1,"creation_date":1568971442,"post_id":58025438,"comment_id":102453336,"body_markdown":"I&#39;m not sure if you can fix this on mysql level, since parameters are supplied by your application.","body":"I&#39;m not sure if you can fix this on mysql level, since parameters are supplied by your application."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1568972576,"post_id":58025438,"comment_id":102453989,"body_markdown":"Which hibernate version do you use? It could very well be that your version is too old for java 8 support","body":"Which hibernate version do you use? It could very well be that your version is too old for java 8 support"},{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":0,"creation_date":1568972771,"post_id":58025438,"comment_id":102454105,"body_markdown":"`java.lang.IllegalArgumentException` - this is not even an sql exception, `HOUR_OF_DAY` - this only exists in your java code, not in mysql. Again, not sure what you want to do about this in mysql.","body":"<code>java.lang.IllegalArgumentException</code> - this is not even an sql exception, <code>HOUR_OF_DAY</code> - this only exists in your java code, not in mysql. Again, not sure what you want to do about this in mysql."},{"owner":{"account_id":2138268,"reputation":7872,"user_id":1897528,"accept_rate":62,"display_name":"Farrukh Chishti"},"score":0,"creation_date":1568972960,"post_id":58025438,"comment_id":102454223,"body_markdown":"@Shadow : It is indeed calling Java files, but I am getting the error when I am hitting the query in repository (edit 2)","body":"@Shadow : It is indeed calling Java files, but I am getting the error when I am hitting the query in repository (edit 2)"},{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":2,"creation_date":1568973240,"post_id":58025438,"comment_id":102454356,"body_markdown":"That still does not mean that the error comes from and therefore can be prevented at mysql level. Nothing of the exception details indicate that this has anything to do with mysql. You really need to debug your code and **data** (invalid datetime data in mysql?) to understand where things go south. This is the drawback of using ORMs - you do not really know what gets executed.","body":"That still does not mean that the error comes from and therefore can be prevented at mysql level. Nothing of the exception details indicate that this has anything to do with mysql. You really need to debug your code and <b>data</b> (invalid datetime data in mysql?) to understand where things go south. This is the drawback of using ORMs - you do not really know what gets executed."},{"owner":{"account_id":2138268,"reputation":7872,"user_id":1897528,"accept_rate":62,"display_name":"Farrukh Chishti"},"score":0,"creation_date":1568973952,"post_id":58025438,"comment_id":102454760,"body_markdown":"@Shadow: Yes, but this is all the java code that I have....so can you please suggest something I can add before calling the query method....something like.... `cal.setLenient(true)`","body":"@Shadow: Yes, but this is all the java code that I have....so can you please suggest something I can add before calling the query method....something like.... <code>cal.setLenient(true)</code>"},{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":0,"creation_date":1568974616,"post_id":58025438,"comment_id":102455101,"body_markdown":"Nope, cannot suggest anything. I only know mysql, but not java. If you want a solution in mysql, you need to identify what causes the issue in mysql - if anything.","body":"Nope, cannot suggest anything. I only know mysql, but not java. If you want a solution in mysql, you need to identify what causes the issue in mysql - if anything."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1568980175,"post_id":58025438,"comment_id":102457817,"body_markdown":"It’s thrown from the line `throw new IllegalArgumentException(getFieldName(field) + &quot;: &quot; + s);` near the end of `GregorianCalendar.computeTime()`. It’s aome validation message, but I don’t understand what exactly it means nor why it happens.","body":"It’s thrown from the line <code>throw new IllegalArgumentException(getFieldName(field) + &quot;: &quot; + s);</code> near the end of <code>GregorianCalendar.computeTime()</code>. It’s aome validation message, but I don’t understand what exactly it means nor why it happens."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692372689,"post_id":58025438,"comment_id":135618607,"body_markdown":"By the way, a creation moment should be tracked as an `Instant` generally, or as a `OffsetDateTime` when retrieved via JDBC 4.2+, not a `ZonedDateTime`.","body":"By the way, a creation moment should be tracked as an <code>Instant</code> generally, or as a <code>OffsetDateTime</code> when retrieved via JDBC 4.2+, not a <code>ZonedDateTime</code>."}],"answers":[{"tags":[],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647311806,"creation_date":1647296750,"answer_id":71474879,"question_id":58025438,"body_markdown":"The reason is there&#39;s a date time field (not timestamp) that is not available in your timezone.  So it can&#39;t convert it correctly.\r\n\r\n&gt;Caused by: java.lang.IllegalArgumentException: HOUR_OF_DAY: 2 -&gt; 3\r\n        at java.base/java.util.GregorianCalendar.computeTime(GregorianCalendar.java:2826)\r\n        at java.base/java.util.Calendar.updateTime(Calendar.java:3428)\r\n        at java.base/java.util.Calendar.getTimeInMillis(Calendar.java:1812)\r\n        at com.mysql.cj.result.SqlTimestampValueFactory.localCreateFromTimestamp(SqlTimestampValueFactory.java:108)\r\n\r\nThere&#39;s information on https://confluence.atlassian.com/jirakb/illegalargumentexception-hour_of_day-after-changing-mysql-database-timezone-1063564762.html\r\n\r\nbut generally you have to locate the errant record and remove or update it from the database.\r\n\r\nAssuming you&#39;re using JOOQ or have access to do it (as using the JPA query will cause issues).  Here&#39;s a code snippet I put in my JUnit Integration test\r\n\r\n```java\r\n@Test\r\nvoid ensureDatesAreOkayDuringDaylightSavings() {\r\n  var fallbackDayClauses = IntStream\r\n    .range(2000, LocalDate.now().getYear() + 1)\r\n    .mapToObj(year -&gt;\r\n      LocalDate.ofYearDay(year, 1)\r\n        .withMonth(3)\r\n        .with(TemporalAdjusters.next(DayOfWeek.SUNDAY))\r\n        .with(TemporalAdjusters.next(DayOfWeek.SUNDAY))\r\n        .atTime(1, 59, 0)\r\n    )\r\n    .map(startDateTime -&gt; \r\n        MYDB.CREATED_ON.between(\r\n          startDateTime, \r\n          startDateTime\r\n            .plusHours(1)\r\n            .plusMinutes(2)))\r\n    .collect(Collectors.toSet());\r\n\r\n  var potentialProblemIds = dsl.select(MYDB.ID)\r\n    .from(MYDB.TABLE)\r\n    .where(or(fallbackDayClauses))\r\n    .fetch(MYDB.ID);\r\n\r\n  assertThat(potentialProblemIds)\r\n    .isEmpty();\r\n\r\n}\r\n```","title":"Error : SqlExceptionHelper : HOUR_OF_DAY: 2 -&gt; 3","body":"<p>The reason is there's a date time field (not timestamp) that is not available in your timezone.  So it can't convert it correctly.</p>\n<blockquote>\n<p>Caused by: java.lang.IllegalArgumentException: HOUR_OF_DAY: 2 -&gt; 3\nat java.base/java.util.GregorianCalendar.computeTime(GregorianCalendar.java:2826)\nat java.base/java.util.Calendar.updateTime(Calendar.java:3428)\nat java.base/java.util.Calendar.getTimeInMillis(Calendar.java:1812)\nat com.mysql.cj.result.SqlTimestampValueFactory.localCreateFromTimestamp(SqlTimestampValueFactory.java:108)</p>\n</blockquote>\n<p>There's information on <a href=\"https://confluence.atlassian.com/jirakb/illegalargumentexception-hour_of_day-after-changing-mysql-database-timezone-1063564762.html\" rel=\"nofollow noreferrer\">https://confluence.atlassian.com/jirakb/illegalargumentexception-hour_of_day-after-changing-mysql-database-timezone-1063564762.html</a></p>\n<p>but generally you have to locate the errant record and remove or update it from the database.</p>\n<p>Assuming you're using JOOQ or have access to do it (as using the JPA query will cause issues).  Here's a code snippet I put in my JUnit Integration test</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid ensureDatesAreOkayDuringDaylightSavings() {\n  var fallbackDayClauses = IntStream\n    .range(2000, LocalDate.now().getYear() + 1)\n    .mapToObj(year -&gt;\n      LocalDate.ofYearDay(year, 1)\n        .withMonth(3)\n        .with(TemporalAdjusters.next(DayOfWeek.SUNDAY))\n        .with(TemporalAdjusters.next(DayOfWeek.SUNDAY))\n        .atTime(1, 59, 0)\n    )\n    .map(startDateTime -&gt; \n        MYDB.CREATED_ON.between(\n          startDateTime, \n          startDateTime\n            .plusHours(1)\n            .plusMinutes(2)))\n    .collect(Collectors.toSet());\n\n  var potentialProblemIds = dsl.select(MYDB.ID)\n    .from(MYDB.TABLE)\n    .where(or(fallbackDayClauses))\n    .fetch(MYDB.ID);\n\n  assertThat(potentialProblemIds)\n    .isEmpty();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9842477,"reputation":11,"user_id":7291100,"display_name":"Marreddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692371493,"creation_date":1692371493,"answer_id":76930582,"question_id":58025438,"body_markdown":"We faced similar issues after migration from MySQL 5 to MySQL 8 connector. Verified following links \r\n\r\nhttps://confluence.atlassian.com/jirakb/illegalargumentexception-hour_of_day-1063564762.html\r\nhttps://bugs.mysql.com/bug.php?id=96276\r\nhttps://support.oracle.com/knowledge/Oracle%20Database%20Products/2863969_1.html\r\n\r\n\r\n\r\nIssue Case Query: When both Database and Java application in &#39;US/Pacific&#39; timezone.\r\n\r\nSELECT actiondoneon FROM likes WHERE actiondoneon BETWEEN &#39;2019-03-10 02:00:00&#39; AND &#39;2019-03-10 03:00:00&#39;;\r\n\r\n+---------------------+\r\n\r\n| actiondoneon        |\r\n\r\n+---------------------+\r\n\r\n| 2019-03-10 02:27:47 |\r\n\r\n+---------------------+\r\n\r\n1 row in set (0.00 sec)\r\n\r\n\r\nFix Case Query:\r\n\r\nmysql&gt; SELECT convert_tz(actiondoneon, &#39;US/Pacific&#39;, &#39;US/Pacific&#39;) AS actiondoneon FROM likes WHERE actiondoneon BETWEEN &#39;2019-03-10 02:00:00&#39; AND &#39;2019-03-10 03:00:00&#39;;\r\n\r\n+---------------------+\r\n\r\n| actiondoneon        |\r\n\r\n+---------------------+\r\n\r\n| 2019-03-10 03:00:00 |\r\n\r\n+---------------------+\r\n\r\n\r\n1 row in set (0.00 sec)\r\n\r\n\r\nHere we are applying convert_tz with the same time zone. Convert_tz function is rounding off to the nearest correct timestamp.\r\n\r\n\r\nExample :\r\n\r\nmysql&gt; SELECT invalid_timestamp, convert_tz(invalid_timestamp, &#39;US/Pacific&#39;, &#39;US/Pacific&#39;) corrcted_timestamp FROM (SELECT &#39;2019-03-10 02:27:47&#39; invalid_timestamp) tab;\r\n\r\n+---------------------+----------------------------+\r\n\r\n| invalid_timestamp   | corrcted_timestamp         |\r\n\r\n+---------------------+----------------------------+\r\n\r\n| 2019-03-10 02:27:47 | 2019-03-10 03:00:00.000000 |\r\n\r\n+---------------------+----------------------------+\r\n\r\n1 row in set (0.00 sec)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Error : SqlExceptionHelper : HOUR_OF_DAY: 2 -&gt; 3","body":"<p>We faced similar issues after migration from MySQL 5 to MySQL 8 connector. Verified following links</p>\n<p><a href=\"https://confluence.atlassian.com/jirakb/illegalargumentexception-hour_of_day-1063564762.html\" rel=\"nofollow noreferrer\">https://confluence.atlassian.com/jirakb/illegalargumentexception-hour_of_day-1063564762.html</a>\n<a href=\"https://bugs.mysql.com/bug.php?id=96276\" rel=\"nofollow noreferrer\">https://bugs.mysql.com/bug.php?id=96276</a>\n<a href=\"https://support.oracle.com/knowledge/Oracle%20Database%20Products/2863969_1.html\" rel=\"nofollow noreferrer\">https://support.oracle.com/knowledge/Oracle%20Database%20Products/2863969_1.html</a></p>\n<p>Issue Case Query: When both Database and Java application in 'US/Pacific' timezone.</p>\n<p>SELECT actiondoneon FROM likes WHERE actiondoneon BETWEEN '2019-03-10 02:00:00' AND '2019-03-10 03:00:00';</p>\n<p>+---------------------+</p>\n<p>| actiondoneon        |</p>\n<p>+---------------------+</p>\n<p>| 2019-03-10 02:27:47 |</p>\n<p>+---------------------+</p>\n<p>1 row in set (0.00 sec)</p>\n<p>Fix Case Query:</p>\n<p>mysql&gt; SELECT convert_tz(actiondoneon, 'US/Pacific', 'US/Pacific') AS actiondoneon FROM likes WHERE actiondoneon BETWEEN '2019-03-10 02:00:00' AND '2019-03-10 03:00:00';</p>\n<p>+---------------------+</p>\n<p>| actiondoneon        |</p>\n<p>+---------------------+</p>\n<p>| 2019-03-10 03:00:00 |</p>\n<p>+---------------------+</p>\n<p>1 row in set (0.00 sec)</p>\n<p>Here we are applying convert_tz with the same time zone. Convert_tz function is rounding off to the nearest correct timestamp.</p>\n<p>Example :</p>\n<p>mysql&gt; SELECT invalid_timestamp, convert_tz(invalid_timestamp, 'US/Pacific', 'US/Pacific') corrcted_timestamp FROM (SELECT '2019-03-10 02:27:47' invalid_timestamp) tab;</p>\n<p>+---------------------+----------------------------+</p>\n<p>| invalid_timestamp   | corrcted_timestamp         |</p>\n<p>+---------------------+----------------------------+</p>\n<p>| 2019-03-10 02:27:47 | 2019-03-10 03:00:00.000000 |</p>\n<p>+---------------------+----------------------------+</p>\n<p>1 row in set (0.00 sec)</p>\n"},{"tags":[],"owner":{"account_id":23857900,"reputation":1,"user_id":17861212,"display_name":"Varun Shastry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692497179,"creation_date":1692497179,"answer_id":76937714,"question_id":58025438,"body_markdown":"I tried suggestions here, and various other places. Nothing worked out.\r\nI had to set the MySQL server time to UTC. Followed the steps mentioned here -&gt; https://dev.mysql.com/doc/refman/8.0/en/time-zone-support.html\r\nEnsure you pay attention to the section &quot;Populating the Time Zone Tables&quot; which actually was the issue we were facing.","title":"Error : SqlExceptionHelper : HOUR_OF_DAY: 2 -&gt; 3","body":"<p>I tried suggestions here, and various other places. Nothing worked out.\nI had to set the MySQL server time to UTC. Followed the steps mentioned here -&gt; <a href=\"https://dev.mysql.com/doc/refman/8.0/en/time-zone-support.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/8.0/en/time-zone-support.html</a>\nEnsure you pay attention to the section &quot;Populating the Time Zone Tables&quot; which actually was the issue we were facing.</p>\n"}],"owner":{"account_id":2138268,"reputation":7872,"user_id":1897528,"accept_rate":62,"display_name":"Farrukh Chishti"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10974,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1692497179,"creation_date":1568971110,"question_id":58025438,"body_markdown":"Full error log:\r\n\r\n&gt; 2019-09-20 08:35:37.860  INFO 1 --- [nio-8081-exec-1]\r\n&gt; o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring\r\n&gt; DispatcherServlet &#39;dispatcherServlet&#39;\r\n&gt; \r\n&gt; \r\n&gt; 2019-09-20 08:47:29.726 ERROR 1 --- [nio-8081-exec-5]\r\n&gt; o.h.engine.jdbc.spi.SqlExceptionHelper   : HOUR_OF_DAY: 2 -&gt; 3\r\n&gt; \r\n&gt; \r\n&gt; 2019-09-20 08:47:29.769 ERROR 1 --- [nio-8081-exec-5]\r\n&gt; o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for\r\n&gt; servlet [dispatcherServlet] in context with path [] threw exception\r\n&gt; [Request processing failed; nested exception is\r\n&gt; org.springframework.orm.jpa.JpaSystemException: could not execute\r\n&gt; query; nested exception is\r\n&gt; org.hibernate.exception.GenericJDBCException: could not execute query]\r\n&gt; with root cause\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; java.lang.IllegalArgumentException: HOUR_OF_DAY: 2 -&gt; 3\r\n&gt; \r\n&gt; \r\n&gt; \tat java.base/java.util.GregorianCalendar.computeTime(Unknown Source)\r\n&gt; ~[na:na]\r\n&gt; \r\n&gt; \r\n&gt; \tat java.base/java.util.Calendar.updateTime(Unknown Source) ~[na:na]\r\n&gt; \r\n&gt; \r\n&gt; \tat java.base/java.util.Calendar.getTimeInMillis(Unknown Source)\r\n&gt; ~[na:na]\r\n\r\nThis problem has been solved at [Java level][1], but how do I avoid it at *mysql* level.\r\n&lt;br&gt;In fact the query does not even have date or time.\r\n&lt;br&gt;\r\n\r\n    @Query(&quot;select o from Order o where o.tickets is not null&quot;)\r\n    List&lt;Order&gt; ordersWithExistingTickets();\r\n\r\n---\r\n### EDIT 1: ###\r\n\r\nOrder.java\r\n\r\n    @Entity\r\n    @Data\r\n    @Table(name=&quot;orders&quot;)\r\n    public class Order {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;PK&quot;)\r\n    private Long pk;\r\n\r\n    @Column(name = &quot;createdTS&quot;)\r\n    private ZonedDateTime creationTime;\r\n\r\n    @Column(name = &quot;tickets&quot;)\r\n    private String tickets;\r\n\r\n    public String getTickets() {\r\n        return tickets;\r\n    }\r\n\r\n    public void setTickets(String tickets) {\r\n        this.tickets = tickets;\r\n    }}\r\n\r\n---\r\n### EDIT 2: ###\r\nOrderRepository.java\r\n\r\n    @Repository\r\n    public interface OrderRepository extends JpaRepository&lt;Order, Long&gt; {\r\n    \r\n        @Query(&quot;select o from Order o where o.tickets is not null&quot;)\r\n        List&lt;Order&gt; ordersWithExistingTickets();\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/22351680/weird-illegalargumentexception-in-calendar-gettime","title":"Error : SqlExceptionHelper : HOUR_OF_DAY: 2 -&gt; 3","body":"<p>Full error log:</p>\n\n<blockquote>\n  <p>2019-09-20 08:35:37.860  INFO 1 --- [nio-8081-exec-1]\n  o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring\n  DispatcherServlet 'dispatcherServlet'</p>\n  \n  <p>2019-09-20 08:47:29.726 ERROR 1 --- [nio-8081-exec-5]\n  o.h.engine.jdbc.spi.SqlExceptionHelper   : HOUR_OF_DAY: 2 -> 3</p>\n  \n  <p>2019-09-20 08:47:29.769 ERROR 1 --- [nio-8081-exec-5]\n  o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for\n  servlet [dispatcherServlet] in context with path [] threw exception\n  [Request processing failed; nested exception is\n  org.springframework.orm.jpa.JpaSystemException: could not execute\n  query; nested exception is\n  org.hibernate.exception.GenericJDBCException: could not execute query]\n  with root cause</p>\n  \n  <p>java.lang.IllegalArgumentException: HOUR_OF_DAY: 2 -> 3</p>\n  \n  <p>at java.base/java.util.GregorianCalendar.computeTime(Unknown Source)\n  ~[na:na]</p>\n  \n  <p>at java.base/java.util.Calendar.updateTime(Unknown Source) ~[na:na]</p>\n  \n  <p>at java.base/java.util.Calendar.getTimeInMillis(Unknown Source)\n  ~[na:na]</p>\n</blockquote>\n\n<p>This problem has been solved at <a href=\"https://stackoverflow.com/questions/22351680/weird-illegalargumentexception-in-calendar-gettime\">Java level</a>, but how do I avoid it at <em>mysql</em> level.\n<br>In fact the query does not even have date or time.\n<br></p>\n\n<pre><code>@Query(\"select o from Order o where o.tickets is not null\")\nList&lt;Order&gt; ordersWithExistingTickets();\n</code></pre>\n\n<hr>\n\n<h3>EDIT 1:</h3>\n\n<p>Order.java</p>\n\n<pre><code>@Entity\n@Data\n@Table(name=\"orders\")\npublic class Order {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = \"PK\")\nprivate Long pk;\n\n@Column(name = \"createdTS\")\nprivate ZonedDateTime creationTime;\n\n@Column(name = \"tickets\")\nprivate String tickets;\n\npublic String getTickets() {\n    return tickets;\n}\n\npublic void setTickets(String tickets) {\n    this.tickets = tickets;\n}}\n</code></pre>\n\n<hr>\n\n<h3>EDIT 2:</h3>\n\n<p>OrderRepository.java</p>\n\n<pre><code>@Repository\npublic interface OrderRepository extends JpaRepository&lt;Order, Long&gt; {\n\n    @Query(\"select o from Order o where o.tickets is not null\")\n    List&lt;Order&gt; ordersWithExistingTickets();\n}\n</code></pre>\n"},{"tags":["java","r","jdbc","batch-insert","rjdbc"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1473861167,"post_id":39492145,"comment_id":66301982,"body_markdown":"&quot;Details of the failure can be found in the exception chain that is accessible with getNextException.&quot; -- So what does it say?","body":"&quot;Details of the failure can be found in the exception chain that is accessible with getNextException.&quot; -- So what does it say?"},{"owner":{"account_id":7688583,"reputation":748,"user_id":5825545,"display_name":"SanjayIV"},"score":0,"creation_date":1473861528,"post_id":39492145,"comment_id":66302256,"body_markdown":"Thanks @StephenC for pointing that out. I should&#39;ve put this in my original question. I am not sure of how to use `getNextException` with the approach I am using in R.","body":"Thanks @StephenC for pointing that out. I should&#39;ve put this in my original question. I am not sure of how to use <code>getNextException</code> with the approach I am using in R."}],"answers":[{"tags":[],"owner":{"account_id":6568308,"reputation":800,"user_id":5077154,"display_name":"Insac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473932573,"creation_date":1473929446,"answer_id":39506778,"question_id":39492145,"body_markdown":"To get the initial exception &quot;object&quot;, you need to use .jgetEx to and then you can use the getNextException method on it to retrieve the root cause.\r\n\r\nSee [this link][1] on the teradata developers forum for a complete example.\r\n\r\nTypical causes of an exception during a batch insert are:\r\n\r\n - &quot;value related&quot;: invalid values, excessive precision of numeric data\r\n - &quot;size related&quot; : the inserted rows create a &quot;no more room in database&quot; error\r\n\r\nSince you say that you&#39;ve tested different datasets and they all fail at the same execution, that&#39;s very likely a &quot;**no more room in database**&quot;.\r\n\r\nHowever, this doesn&#39;t necessarily mean that the space that has been granted to you is full: it might be that the table has a poorly chosen *Primary Index* (or the data has an error that produces duplicate *primary index*), resulting in a very skewed distribution. In this case, you would be wasting a lot of space that could be reclaimed if you can define a more apt *primary index* (or use a NOPI table, if you&#39;re using it as some sort of a stage table).\r\n\r\n[Here][2] you can find a discussion on this &quot;space waste&quot; topic with lots of useful queries to diagnose the issue.\r\n\r\n\r\n  [1]: https://developer.teradata.com/blog/amarek/2013/12/how-to-capture-chained-jdbc-fastload-sqlexceptionsqlwarning-messages-and-stack\r\n  [2]: http://community.teradata.com/t5/Database/Space-in-the-database/td-p/38564","title":"Teradata JDBC Error 1338 after certain number of batch executions","body":"<p>To get the initial exception \"object\", you need to use .jgetEx to and then you can use the getNextException method on it to retrieve the root cause.</p>\n\n<p>See <a href=\"https://developer.teradata.com/blog/amarek/2013/12/how-to-capture-chained-jdbc-fastload-sqlexceptionsqlwarning-messages-and-stack\" rel=\"nofollow\">this link</a> on the teradata developers forum for a complete example.</p>\n\n<p>Typical causes of an exception during a batch insert are:</p>\n\n<ul>\n<li>\"value related\": invalid values, excessive precision of numeric data</li>\n<li>\"size related\" : the inserted rows create a \"no more room in database\" error</li>\n</ul>\n\n<p>Since you say that you've tested different datasets and they all fail at the same execution, that's very likely a \"<strong>no more room in database</strong>\".</p>\n\n<p>However, this doesn't necessarily mean that the space that has been granted to you is full: it might be that the table has a poorly chosen <em>Primary Index</em> (or the data has an error that produces duplicate <em>primary index</em>), resulting in a very skewed distribution. In this case, you would be wasting a lot of space that could be reclaimed if you can define a more apt <em>primary index</em> (or use a NOPI table, if you're using it as some sort of a stage table).</p>\n\n<p><a href=\"http://community.teradata.com/t5/Database/Space-in-the-database/td-p/38564\" rel=\"nofollow\">Here</a> you can find a discussion on this \"space waste\" topic with lots of useful queries to diagnose the issue.</p>\n"},{"tags":[],"owner":{"account_id":16736858,"reputation":51,"user_id":12097702,"display_name":"FTello31"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601322705,"creation_date":1601322705,"answer_id":64108733,"question_id":39492145,"body_markdown":"Same happens to me I was trying to insert 27.4M records into a Teradata table containing 8 columns. I&#39;ve got the same error at 5.35M row.\r\n\r\nThe only thing that works for me was **make a commit every 1M records.** ","title":"Teradata JDBC Error 1338 after certain number of batch executions","body":"<p>Same happens to me I was trying to insert 27.4M records into a Teradata table containing 8 columns. I've got the same error at 5.35M row.</p>\n<p>The only thing that works for me was <strong>make a commit every 1M records.</strong></p>\n"},{"tags":[],"owner":{"account_id":202467,"reputation":9985,"user_id":449553,"accept_rate":54,"display_name":"msangel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637268245,"creation_date":1637268245,"answer_id":70026515,"question_id":39492145,"body_markdown":"So few notes here. \r\n1. The first is GC. It&#39;s not an issue in the usual java program but under a load of millions records try to do eventually `Thread.sleep` with single seconds. This will trigger GC. I found some race conditions in the Teradata JDBC driver ver `17.00.00.03`. For performance purpose it is reusing old objects with a weak reference to something to be collected. When working with fastload™ or multiload™ loads, this became crucial.\r\n2. Ensure you have enough space in your database. This also causes this exception.","title":"Teradata JDBC Error 1338 after certain number of batch executions","body":"<p>So few notes here.</p>\n<ol>\n<li>The first is GC. It's not an issue in the usual java program but under a load of millions records try to do eventually <code>Thread.sleep</code> with single seconds. This will trigger GC. I found some race conditions in the Teradata JDBC driver ver <code>17.00.00.03</code>. For performance purpose it is reusing old objects with a weak reference to something to be collected. When working with fastload™ or multiload™ loads, this became crucial.</li>\n<li>Ensure you have enough space in your database. This also causes this exception.</li>\n</ol>\n"}],"owner":{"account_id":7688583,"reputation":748,"user_id":5825545,"display_name":"SanjayIV"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9721,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1692493485,"creation_date":1473860777,"question_id":39492145,"body_markdown":"I am trying to insert 3.8M records into a Teradata table containing 14 columns, through a batch of 10000 records using `RJDBC` package of R.\r\nIt always crashes after inserting 380000 records i.e. at 39th batch execution.\r\nThis is the error I get,\r\n\r\n&gt; Error in .jcall(ps, &quot;[I&quot;, &quot;executeBatch&quot;) :   \r\n&gt; java.sql.BatchUpdateException: [Teradata JDBC Driver] [TeraJDBC\r\n&gt; 15.10.00.22] [Error 1338] [SQLState HY000] A failure occurred while executing a PreparedStatement batch request. Details of the failure\r\n&gt; can be found in the exception chain that is accessible with\r\n&gt; getNextException.\r\n\r\nI&#39;ve tried changing to a different set of rows from the same dataframe. And, behavior remains same, crashes at the 39th batch execution.\r\n\r\nAny idea what is this `Error 1338` and what could be the fix?\r\nAlso, it mentions about `getNextException` but how do I use that with R?\r\n\r\nThe approach I&#39;m using is similar to this one\r\nhttps://developer.teradata.com/blog/ulrich/2013/11/a-wider-test-case-on-r-jdbc-fastload\r\n","title":"Teradata JDBC Error 1338 after certain number of batch executions","body":"<p>I am trying to insert 3.8M records into a Teradata table containing 14 columns, through a batch of 10000 records using <code>RJDBC</code> package of R.\nIt always crashes after inserting 380000 records i.e. at 39th batch execution.\nThis is the error I get,</p>\n\n<blockquote>\n  <p>Error in .jcall(ps, \"[I\", \"executeBatch\") :<br>\n  java.sql.BatchUpdateException: [Teradata JDBC Driver] [TeraJDBC\n  15.10.00.22] [Error 1338] [SQLState HY000] A failure occurred while executing a PreparedStatement batch request. Details of the failure\n  can be found in the exception chain that is accessible with\n  getNextException.</p>\n</blockquote>\n\n<p>I've tried changing to a different set of rows from the same dataframe. And, behavior remains same, crashes at the 39th batch execution.</p>\n\n<p>Any idea what is this <code>Error 1338</code> and what could be the fix?\nAlso, it mentions about <code>getNextException</code> but how do I use that with R?</p>\n\n<p>The approach I'm using is similar to this one\n<a href=\"https://developer.teradata.com/blog/ulrich/2013/11/a-wider-test-case-on-r-jdbc-fastload\" rel=\"nofollow\">https://developer.teradata.com/blog/ulrich/2013/11/a-wider-test-case-on-r-jdbc-fastload</a></p>\n"},{"tags":["java","terminal"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1551133644,"post_id":54875632,"comment_id":96521362,"body_markdown":"&quot;Is it possible to ...&quot; yes. The answer to such a question is almost always &quot;yes&quot;. On the other hand, the amount of effort you must put into it varies.","body":"&quot;Is it possible to ...&quot; yes. The answer to such a question is almost always &quot;yes&quot;. On the other hand, the amount of effort you must put into it varies."},{"owner":{"account_id":12163020,"reputation":35,"user_id":8880060,"display_name":"T. Roche"},"score":0,"creation_date":1551133816,"post_id":54875632,"comment_id":96521425,"body_markdown":"Do you know any examples of this being done as I cannot find any?","body":"Do you know any examples of this being done as I cannot find any?"},{"owner":{"account_id":307516,"reputation":175,"user_id":618849,"display_name":"ansjob"},"score":0,"creation_date":1551134171,"post_id":54875632,"comment_id":96521554,"body_markdown":"You haven&#39;t specified why python3 doesn&#39;t work, or posted any code, which makes this hard to answer. Always when forking and managing other processes in Java it is useful to familiarise yourself with the [ProcessBuilder](https://docs.oracle.com/javase/8/docs/api/java/lang/ProcessBuilder.html) class, which can help you set up the stdin/stderr to be managed from Java.","body":"You haven&#39;t specified why python3 doesn&#39;t work, or posted any code, which makes this hard to answer. Always when forking and managing other processes in Java it is useful to familiarise yourself with the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\">ProcessBuilder</a> class, which can help you set up the stdin/stderr to be managed from Java."},{"owner":{"account_id":12163020,"reputation":35,"user_id":8880060,"display_name":"T. Roche"},"score":0,"creation_date":1551134940,"post_id":54875632,"comment_id":96521829,"body_markdown":"Python will make the app hang and not show anything in the gui or terminal, however it will start a python process which can be viewed in activity monitor","body":"Python will make the app hang and not show anything in the gui or terminal, however it will start a python process which can be viewed in activity monitor"}],"answers":[{"tags":[],"owner":{"account_id":29259372,"reputation":1,"user_id":22416739,"display_name":"uglyfruit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692493425,"creation_date":1692493425,"answer_id":76937606,"question_id":54875632,"body_markdown":"So I&#39;ve been round and round with this switching between Java and Python over the last 2 years. My biggest issues on the Java side is the ssh library itself. jsch seems to be popular. I&#39;ve looked a little a the apache project one as well. on The front side you could use XTerm.js (or HTerm I think is the other popular one). Writing your own terminal emulation is going to be a huge pain, I highly suggest using a framework with a webengine that has a bridge mechanism to the native code your writing in. PyQT/Pyside and JavaFX both have this. This is why you see so many electron/node.js based solutions for this. I learned a lot about the mechanics from this project: https://github.com/javaterminal/TerminalFX. It has good examples of how to handle the streams work.\r\n\r\nThat said, I did finally have success with python, using a similar approach in PyQt6. Feel free to fork, or just take a look at the approach. Managing psuedo terminals is part of the issue. This is working code for ssh specifically, but has links to my other project UglyWidgets with some windows specific functionality and a lot of examples on how to handle native code to javascript bridging as well: https://github.com/scottpeterman/UglyPTY","title":"Embed a terminal frame into a JFrame window Java","body":"<p>So I've been round and round with this switching between Java and Python over the last 2 years. My biggest issues on the Java side is the ssh library itself. jsch seems to be popular. I've looked a little a the apache project one as well. on The front side you could use XTerm.js (or HTerm I think is the other popular one). Writing your own terminal emulation is going to be a huge pain, I highly suggest using a framework with a webengine that has a bridge mechanism to the native code your writing in. PyQT/Pyside and JavaFX both have this. This is why you see so many electron/node.js based solutions for this. I learned a lot about the mechanics from this project: <a href=\"https://github.com/javaterminal/TerminalFX\" rel=\"nofollow noreferrer\">https://github.com/javaterminal/TerminalFX</a>. It has good examples of how to handle the streams work.</p>\n<p>That said, I did finally have success with python, using a similar approach in PyQt6. Feel free to fork, or just take a look at the approach. Managing psuedo terminals is part of the issue. This is working code for ssh specifically, but has links to my other project UglyWidgets with some windows specific functionality and a lot of examples on how to handle native code to javascript bridging as well: <a href=\"https://github.com/scottpeterman/UglyPTY\" rel=\"nofollow noreferrer\">https://github.com/scottpeterman/UglyPTY</a></p>\n"}],"owner":{"account_id":12163020,"reputation":35,"user_id":8880060,"display_name":"T. Roche"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692493425,"creation_date":1551133477,"question_id":54875632,"body_markdown":"I&#39;ve been trying to make an app to act as a ssh / scp client to make transferring files easier from my laptop to my desktop and currently I have been able to get the output of a ls command and get the file tree for the host and remote user, however this requires input in the terminal I am running the app with. \r\n\r\nIs it possible to be able to embed a terminal window into a gui as I have went about making an interpreter however things like tab completion and running, for example, python3 don&#39;t work. I am also hoping to have full use of a terminal and be able to run commands like vim rather than just print the output of commands which is what I currently have.\r\n\r\nMy code for executing the commands is:\r\n\r\n    public void processCmd(String command) {\r\n            if (command.equals(&quot;exit&quot;)) {\r\n        \t    System.exit(0);\r\n            } else if (command != null &amp;&amp; !command.isEmpty()) {\r\n        \t    execCommand(command);\r\n            }\r\n    }\r\n    \r\n    public void execCommand(String input) {\r\n        \tString result = null;\r\n        \ttry {\r\n        \t    Runtime r = Runtime.getRuntime();                    \r\n        \t\r\n        \t    Process p = r.exec(input);\r\n        \t\r\n        \t    BufferedReader in =\r\n        \t        new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n        \t    String inputLine;\r\n        \t    while ((inputLine = in.readLine()) != null) {\r\n        \t        System.out.println(inputLine);\r\n        \t        result += inputLine;\r\n        \t    }\r\n        \t    in.close();\r\n        \t\r\n        \t} catch (IOException e) {\r\n        \t    System.out.println(&quot;Error&quot;);\r\n        \t}\r\n    }\r\n\r\nThe main problem is that when anything like python or vim is run, the app will hang and not do anything, python won&#39;t even show up in terminal, however, if I run vim, it will change the terminal screen (not in the app) to mostly vim but without the bottom bar.","title":"Embed a terminal frame into a JFrame window Java","body":"<p>I've been trying to make an app to act as a ssh / scp client to make transferring files easier from my laptop to my desktop and currently I have been able to get the output of a ls command and get the file tree for the host and remote user, however this requires input in the terminal I am running the app with. </p>\n\n<p>Is it possible to be able to embed a terminal window into a gui as I have went about making an interpreter however things like tab completion and running, for example, python3 don't work. I am also hoping to have full use of a terminal and be able to run commands like vim rather than just print the output of commands which is what I currently have.</p>\n\n<p>My code for executing the commands is:</p>\n\n<pre><code>public void processCmd(String command) {\n        if (command.equals(\"exit\")) {\n            System.exit(0);\n        } else if (command != null &amp;&amp; !command.isEmpty()) {\n            execCommand(command);\n        }\n}\n\npublic void execCommand(String input) {\n        String result = null;\n        try {\n            Runtime r = Runtime.getRuntime();                    \n\n            Process p = r.exec(input);\n\n            BufferedReader in =\n                new BufferedReader(new InputStreamReader(p.getInputStream()));\n            String inputLine;\n            while ((inputLine = in.readLine()) != null) {\n                System.out.println(inputLine);\n                result += inputLine;\n            }\n            in.close();\n\n        } catch (IOException e) {\n            System.out.println(\"Error\");\n        }\n}\n</code></pre>\n\n<p>The main problem is that when anything like python or vim is run, the app will hang and not do anything, python won't even show up in terminal, however, if I run vim, it will change the terminal screen (not in the app) to mostly vim but without the bottom bar.</p>\n"},{"tags":["java","kotlin","grafana-loki","promtail"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692349463,"post_id":76927729,"comment_id":135613773,"body_markdown":"If you don&#39;t need it, don&#39;t use it. No problem.","body":"If you don&#39;t need it, don&#39;t use it. No problem."},{"owner":{"account_id":4236992,"reputation":1377,"user_id":3467894,"accept_rate":42,"display_name":"Michal Špondr"},"score":0,"creation_date":1692350968,"post_id":76927729,"comment_id":135614075,"body_markdown":"I just want to understand what I am missing. What&#39;s the best practices here?","body":"I just want to understand what I am missing. What&#39;s the best practices here?"}],"answers":[{"tags":[],"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692492448,"creation_date":1692492448,"answer_id":76937554,"question_id":76927729,"body_markdown":"&gt;Why should I use it when the application itself already delivers the data to Loki?\r\n\r\nYou shouldn&#39;t: if your application already instrumented to send logs into loki there no need for Promtail.\r\n\r\nThis situation can be compared to Prometheus. If your application is instrumented with some library it exposes metrics by itself. But if not - you can use some exporter, mysql_exporter for example, to provide interface for Prometheus scraping without modification of your application itself. ","title":"Why would I need Promtail when Loki4j Logback to Loki gets the data too?","body":"<blockquote>\n<p>Why should I use it when the application itself already delivers the data to Loki?</p>\n</blockquote>\n<p>You shouldn't: if your application already instrumented to send logs into loki there no need for Promtail.</p>\n<p>This situation can be compared to Prometheus. If your application is instrumented with some library it exposes metrics by itself. But if not - you can use some exporter, mysql_exporter for example, to provide interface for Prometheus scraping without modification of your application itself.</p>\n"}],"owner":{"account_id":4236992,"reputation":1377,"user_id":3467894,"accept_rate":42,"display_name":"Michal Špondr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1692492448,"creation_date":1692348142,"question_id":76927729,"body_markdown":"I am new to developing a Kotlin application and would like to have a tool to centrally manage logs. Since I&#39;m already using Grafana + Prometheus for monitoring, I decided to use **Loki** as a data source, and use **loki-logback-appender** in the Kotlin application to send data directly to Loki. I am able to retrieve these in Grafana.\r\n\r\nAnd then there&#39;s the **Promtail** tool, which can do some extra things that I won&#39;t use yet (I haven&#39;t quite figured out the logging requirements yet). Why should I use it when the application itself already delivers the data to Loki?","title":"Why would I need Promtail when Loki4j Logback to Loki gets the data too?","body":"<p>I am new to developing a Kotlin application and would like to have a tool to centrally manage logs. Since I'm already using Grafana + Prometheus for monitoring, I decided to use <strong>Loki</strong> as a data source, and use <strong>loki-logback-appender</strong> in the Kotlin application to send data directly to Loki. I am able to retrieve these in Grafana.</p>\n<p>And then there's the <strong>Promtail</strong> tool, which can do some extra things that I won't use yet (I haven't quite figured out the logging requirements yet). Why should I use it when the application itself already delivers the data to Loki?</p>\n"},{"tags":["java","spring","security"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692582146,"post_id":76937526,"comment_id":135638422,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":29259362,"reputation":1,"user_id":22416727,"display_name":"Ninite"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692491382,"creation_date":1692491382,"question_id":76937526,"body_markdown":"`For a long time I can not understand what the problem is, maybe I already want to sleep. In general, messages on the main page of the site show all messages from all users, that is, you can go to someone else&#39;s personal correspondence, how to fix it/\r\n\r\nLooked for a problem in the backend and frontend, I think that the error is related to the definition of the user&#39;s role or request for a message`\r\n\r\n`Chat conroller-`\r\n```\r\npackage com.ghostchat.ghostchat.controllers;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport com.ghostchat.ghostchat.models.User;\r\nimport com.ghostchat.ghostchat.models.Message; // Импорт модели Message\r\nimport com.ghostchat.ghostchat.repos.UserRepo;\r\nimport com.ghostchat.ghostchat.repos.MessageRepo; // Импорт репозитория MessageRepo\r\nimport java.time.LocalDateTime;\r\nimport java.util.Comparator;\r\nimport java.util.List;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\n\r\n@Controller\r\npublic class ChatController {\r\n\r\n    @Autowired\r\n    private UserRepo userRepo;\r\n\r\n    @Autowired\r\n    private MessageRepo messageRepo;\r\n\r\n    @GetMapping(&quot;/chat&quot;)\r\n    public String chat(Model model) {\r\n        model.addAttribute(&quot;title&quot;, &quot;Messenger&quot;);\r\n        List&lt;User&gt; allUsers = userRepo.findAll();\r\n        String senderUsername = SecurityContextHolder.getContext().getAuthentication().getName();\r\n\r\n        User currentUser = userRepo.findByUsername(senderUsername); // Получение текущего пользователя\r\n\r\n        // Получение входящих сообщений для текущего пользователя\r\n        List&lt;Message&gt; incomingMessages = messageRepo.findByRecipient(currentUser);\r\n\r\n        model.addAttribute(&quot;allUsers&quot;, allUsers);\r\n        model.addAttribute(&quot;senderUsername&quot;, senderUsername);\r\n        model.addAttribute(&quot;incomingMessages&quot;, incomingMessages); // Передача входящих сообщений в шаблон\r\n        return &quot;chat&quot;;\r\n    }\r\n\r\n\r\n    @PostMapping(&quot;/send&quot;)\r\n    public String sendMessage(@RequestParam String senderUsername,\r\n                              @RequestParam String recipientUsername,\r\n                              @RequestParam String messageText) {\r\n        User sender = userRepo.findByUsername(senderUsername);\r\n        User recipient = userRepo.findByUsername(recipientUsername);\r\n\r\n        Message message = new Message();\r\n        message.setSender(sender);\r\n        message.setRecipient(recipient);\r\n        message.setMessageText(messageText);\r\n        message.setTimestamp(LocalDateTime.now());\r\n\r\n        messageRepo.save(message);\r\n\r\n        return &quot;redirect:/chat&quot;;\r\n    }\r\n    @GetMapping(&quot;/update-messages&quot;)\r\n    public String updateMessages(@RequestParam String username, Model model) {\r\n        User currentUser = userRepo.findByUsername(username);\r\n\r\n        List&lt;Message&gt; incomingMessages = messageRepo.findByRecipient(currentUser);\r\n        incomingMessages.sort(Comparator.comparing(Message::getTimestamp).reversed());\r\n\r\n        model.addAttribute(&quot;incomingMessages&quot;, incomingMessages);\r\n\r\n        return &quot;message-list&quot;; // Убедитесь, что это соответствует имени вашего шаблона Thymeleaf\r\n    }\r\n\r\n}\r\n```\r\n\r\n`---------Repo`\r\n```\r\npackage com.ghostchat.ghostchat.repos;\r\n\r\nimport com.ghostchat.ghostchat.models.Message;\r\nimport com.ghostchat.ghostchat.models.User;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport java.util.List;\r\n\r\npublic interface MessageRepo extends JpaRepository&lt;Message, Long&gt; {\r\n    List&lt;Message&gt; findByRecipient(User recipient);\r\n}\r\n\r\n\r\n```\r\n\r\n`----------Html-------------`\r\n\r\n```\r\n&lt;!doctype html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;html lang=&quot;en&quot; class=&quot;h-100&quot; data-bs-theme=&quot;auto&quot;&gt;\r\n&lt;head&gt;&lt;script src=&quot;/docs/5.3/assets/js/color-modes.js&quot;&gt;&lt;/script&gt;\r\n\r\n    &lt;meta charset=&quot;utf-8&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\r\n    &lt;meta name=&quot;description&quot; content=&quot;&quot;&gt;\r\n    &lt;meta name=&quot;author&quot; content=&quot;Mark Otto, Jacob Thornton, and Bootstrap contributors&quot;&gt;\r\n    &lt;meta name=&quot;generator&quot; content=&quot;Hugo 0.115.4&quot;&gt;\r\n    &lt;title&gt;Ghostchat.welcome&lt;/title&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css&quot;&gt;\r\n    &lt;link rel=&quot;canonical&quot; href=&quot;https://getbootstrap.com/docs/5.3/examples/cover/&quot;&gt;\r\n\r\n\r\n\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@docsearch/css@3&quot;&gt;\r\n\r\n    &lt;link href=&quot;/docs/5.3/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; integrity=&quot;sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9&quot; crossorigin=&quot;anonymous&quot;&gt;\r\n\r\n    &lt;!-- Favicons --&gt;\r\n    &lt;link rel=&quot;apple-touch-icon&quot; href=&quot;/docs/5.3/assets/img/favicons/apple-touch-icon.png&quot; sizes=&quot;180x180&quot;&gt;\r\n    &lt;link rel=&quot;icon&quot; href=&quot;/docs/5.3/assets/img/favicons/favicon-32x32.png&quot; sizes=&quot;32x32&quot; type=&quot;image/png&quot;&gt;\r\n    &lt;link rel=&quot;icon&quot; href=&quot;/docs/5.3/assets/img/favicons/favicon-16x16.png&quot; sizes=&quot;16x16&quot; type=&quot;image/png&quot;&gt;\r\n    &lt;link rel=&quot;manifest&quot; href=&quot;/docs/5.3/assets/img/favicons/manifest.json&quot;&gt;\r\n    &lt;link rel=&quot;mask-icon&quot; href=&quot;/docs/5.3/assets/img/favicons/safari-pinned-tab.svg&quot; color=&quot;#712cf9&quot;&gt;\r\n    &lt;link rel=&quot;icon&quot; href=&quot;/docs/5.3/assets/img/favicons/favicon.ico&quot;&gt;\r\n    &lt;meta name=&quot;theme-color&quot; content=&quot;#712cf9&quot;&gt;\r\n\r\n\r\n    &lt;style&gt;\r\n      .bd-placeholder-img {\r\n        font-size: 1.125rem;\r\n        text-anchor: middle;\r\n        -webkit-user-select: none;\r\n        -moz-user-select: none;\r\n        user-select: none;\r\n      }\r\n\r\n      @media (min-width: 768px) {\r\n        .bd-placeholder-img-lg {\r\n          font-size: 3.5rem;\r\n        }\r\n      }\r\n\r\n      .b-example-divider {\r\n        width: 100%;\r\n        height: 3rem;\r\n        background-color: rgba(0, 0, 0, .1);\r\n        border: solid rgba(0, 0, 0, .15);\r\n        border-width: 1px 0;\r\n        box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);\r\n      }\r\n\r\n      .b-example-vr {\r\n        flex-shrink: 0;\r\n        width: 1.5rem;\r\n        height: 100vh;\r\n      }\r\n\r\n      .bi {\r\n        vertical-align: -.125em;\r\n        fill: currentColor;\r\n      }\r\n\r\n      .nav-scroller {\r\n        position: relative;\r\n        z-index: 2;\r\n        height: 2.75rem;\r\n        overflow-y: hidden;\r\n      }\r\n\r\n      .nav-scroller .nav {\r\n        display: flex;\r\n        flex-wrap: nowrap;\r\n        padding-bottom: 1rem;\r\n        margin-top: -1px;\r\n        overflow-x: auto;\r\n        text-align: center;\r\n        white-space: nowrap;\r\n        -webkit-overflow-scrolling: touch;\r\n      }\r\n\r\n      .btn-bd-primary {\r\n        --bd-violet-bg: #712cf9;\r\n        --bd-violet-rgb: 112.520718, 44.062154, 249.437846;\r\n\r\n        --bs-btn-font-weight: 600;\r\n        --bs-btn-color: var(--bs-white);\r\n        --bs-btn-bg: var(--bd-violet-bg);\r\n        --bs-btn-border-color: var(--bd-violet-bg);\r\n        --bs-btn-hover-color: var(--bs-white);\r\n        --bs-btn-hover-bg: #6528e0;\r\n        --bs-btn-hover-border-color: #6528e0;\r\n        --bs-btn-focus-shadow-rgb: var(--bd-violet-rgb);\r\n        --bs-btn-active-color: var(--bs-btn-hover-color);\r\n        --bs-btn-active-bg: #5a23c8;\r\n        --bs-btn-active-border-color: #5a23c8;\r\n      }\r\n      .bd-mode-toggle {\r\n        z-index: 1500;\r\n      }\r\n      .message-list-container {\r\n    position: fixed;\r\n    top: 10px;\r\n    right: 10px;\r\n    background-color: auto;\r\n    border: 1px solid #ddd;\r\n    padding: 10px;\r\n    border-radius: 5px;\r\n    box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.1);\r\n    /* Add the following properties to set a fixed height and enable scrolling */\r\n    height: 300px; /* Set a fixed height */\r\n    overflow-y: auto; /* Enable vertical scrolling */\r\n}\r\n\r\n.message-list {\r\n    list-style: none;\r\n    padding: 0;\r\n    /* Remove any margin to prevent unwanted spacing */\r\n    margin: 0;\r\n}\r\n.chatbox-list-container {\r\n    position: fixed;\r\n    top: 10px;\r\n    left: 10px;\r\n    background-color: auto;\r\n    border: 1px solid #ddd;\r\n    padding: 10px;\r\n    border-radius: 5px;\r\n    box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.1);\r\n    width: auto; /* Автоматически подстраиваться по ширине текста */\r\n}\r\n\r\n\r\n/* Стили для индивидуальных чатбоксов */\r\n.chatbox {\r\n    list-style: none;\r\n    padding: 10px;\r\n    cursor: pointer;\r\n    display: flex; /* Добавляем flex display */\r\n    align-items: center; /* Выравниваем элементы вертикально по центру */\r\n}}\r\n\r\n/* Подсветка выбранного чатбокса */\r\n.chatbox.active {\r\n    background-color: auto;\r\n}\r\n.chatbox-content {\r\n    max-width: 100%; /* Ограничьте максимальную ширину по содержимому */\r\n    word-wrap: break-word; /* Переносите длинные слова */\r\n}\r\n\r\n    &lt;/style&gt;\r\n\r\n\r\n    &lt;!-- Custom styles for this template --&gt;\r\n    &lt;link href=&quot;cover.css&quot; rel=&quot;stylesheet&quot;&gt;\r\n&lt;/head&gt;\r\n&lt;script src=&quot;https://code.jquery.com/jquery-3.6.0.min.js&quot;&gt;&lt;/script&gt;\r\n&lt;script&gt;\r\n    $(document).ready(function() {\r\n        function updateMessages() {\r\n            $.ajax({\r\n                url: &#39;/update-messages&#39;, // Make sure this matches your mapping\r\n                method: &#39;GET&#39;,\r\n                cache: false, // Disable caching\r\n                success: function(data) {\r\n                    // Update the HTML content of the messages container\r\n                    $(&#39;#incoming-messages&#39;).html(data);\r\n                }\r\n            });\r\n        }\r\n\r\n        // Update messages every 3 seconds\r\n        setInterval(updateMessages, 3000);\r\n    });\r\n\r\n\r\n&lt;/script&gt;\r\n&lt;script&gt;\r\n    $(document).ready(function() {\r\n    // Функция для обновления выбранного чатбокса и сообщений\r\n    function updateChatbox(username) {\r\n        $(&#39;.chatbox&#39;).removeClass(&#39;active&#39;);\r\n        $(&#39;.chatbox[data-username=&quot;&#39; + username + &#39;&quot;]&#39;).addClass(&#39;active&#39;);\r\n\r\n        // Получение сообщений для выбранного пользователя с помощью AJAX\r\n        $.ajax({\r\n            url: &#39;/update-messages?username=&#39; + username, // Обновите URL по необходимости\r\n            method: &#39;GET&#39;,\r\n            cache: false,\r\n            success: function(data) {\r\n                // Обновление области отображения сообщений полученными данными\r\n                $(&#39;#incoming-messages&#39;).html(data);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Обработка события нажатия на чатбокс\r\n    $(&#39;.chatbox&#39;).click(function() {\r\n        var selectedUsername = $(this).attr(&#39;data-username&#39;);\r\n        updateChatbox(selectedUsername);\r\n    });\r\n\r\n    // Начальное обновление с первым пользователем\r\n    if ($(&#39;.chatbox&#39;).length &gt; 0) {\r\n        var firstUsername = $(&#39;.chatbox:first&#39;).attr(&#39;data-username&#39;);\r\n        updateChatbox(firstUsername);\r\n    }\r\n\r\n    // ... Остальной существующий код\r\n});\r\n\r\n&lt;/script&gt;\r\n\r\n&lt;body class=&quot;d-flex h-100 text-center text-bg-dark&quot;&gt;\r\n&lt;div class=&quot;chatbox-list-container&quot;&gt;\r\n    &lt;ul class=&quot;chatbox-list&quot;&gt;\r\n        &lt;li th:each=&quot;user : ${allUsers}&quot; class=&quot;chatbox&quot; th:data-username=&quot;${user.username}&quot;&gt;\r\n            &lt;span th:text=&quot;${user.username}&quot;&gt;&lt;/span&gt;\r\n        &lt;/li&gt;\r\n    &lt;/ul&gt;\r\n&lt;/div&gt;\r\n&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; class=&quot;d-none&quot;&gt;\r\n    &lt;symbol id=&quot;check2&quot; viewBox=&quot;0 0 16 16&quot;&gt;\r\n        &lt;path d=&quot;M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z&quot;/&gt;\r\n    &lt;/symbol&gt;\r\n    &lt;symbol id=&quot;circle-half&quot; viewBox=&quot;0 0 16 16&quot;&gt;\r\n        &lt;path d=&quot;M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z&quot;/&gt;\r\n    &lt;/symbol&gt;\r\n    &lt;symbol id=&quot;moon-stars-fill&quot; viewBox=&quot;0 0 16 16&quot;&gt;\r\n        &lt;path d=&quot;M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z&quot;/&gt;\r\n        &lt;path d=&quot;M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z&quot;/&gt;\r\n    &lt;/symbol&gt;\r\n    &lt;symbol id=&quot;sun-fill&quot; viewBox=&quot;0 0 16 16&quot;&gt;\r\n        &lt;path d=&quot;M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z&quot;/&gt;\r\n    &lt;/symbol&gt;\r\n&lt;/svg&gt;\r\n\r\n&lt;div class=&quot;dropdown position-fixed bottom-0 end-0 mb-3 me-3 bd-mode-toggle&quot;&gt;\r\n    &lt;ul class=&quot;dropdown-menu dropdown-menu-end shadow&quot; aria-labelledby=&quot;bd-theme-text&quot;&gt;\r\n        &lt;li&gt;\r\n            &lt;button type=&quot;button&quot; class=&quot;dropdown-item d-flex align-items-center&quot; data-bs-theme-value=&quot;light&quot; aria-pressed=&quot;false&quot;&gt;\r\n                &lt;svg class=&quot;bi me-2 opacity-50 theme-icon&quot; width=&quot;1em&quot; height=&quot;1em&quot;&gt;&lt;use href=&quot;#sun-fill&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\r\n                Light\r\n                &lt;svg class=&quot;bi ms-auto d-none&quot; width=&quot;1em&quot; height=&quot;1em&quot;&gt;&lt;use href=&quot;#check2&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\r\n            &lt;/button&gt;\r\n        &lt;/li&gt;\r\n        &lt;li&gt;\r\n            &lt;button type=&quot;button&quot; class=&quot;dropdown-item d-flex align-items-center&quot; data-bs-theme-value=&quot;dark&quot; aria-pressed=&quot;false&quot;&gt;\r\n                &lt;svg class=&quot;bi me-2 opacity-50 theme-icon&quot; width=&quot;1em&quot; height=&quot;1em&quot;&gt;&lt;use href=&quot;#moon-stars-fill&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\r\n                Dark\r\n                &lt;svg class=&quot;bi ms-auto d-none&quot; width=&quot;1em&quot; height=&quot;1em&quot;&gt;&lt;use href=&quot;#check2&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\r\n            &lt;/button&gt;\r\n        &lt;/li&gt;\r\n        &lt;li&gt;\r\n            &lt;button type=&quot;button&quot; class=&quot;dropdown-item d-flex align-items-center active&quot; data-bs-theme-value=&quot;auto&quot; aria-pressed=&quot;true&quot;&gt;\r\n                &lt;svg class=&quot;bi me-2 opacity-50 theme-icon&quot; width=&quot;1em&quot; height=&quot;1em&quot;&gt;&lt;use href=&quot;#circle-half&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\r\n                Auto\r\n                &lt;svg class=&quot;bi ms-auto d-none&quot; width=&quot;1em&quot; height=&quot;1em&quot;&gt;&lt;use href=&quot;#check2&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\r\n            &lt;/button&gt;\r\n        &lt;/li&gt;\r\n    &lt;/ul&gt;\r\n&lt;/div&gt;\r\n\r\n\r\n&lt;div class=&quot;cover-container d-flex w-100 h-100 p-3 mx-auto flex-column&quot;&gt;\r\n    &lt;header class=&quot;mb-auto&quot;&gt;\r\n    &lt;/header&gt;\r\n\r\n    &lt;main class=&quot;px-3&quot;&gt;\r\n        &lt;!-- Вывод списка пользователей для отправки сообщений --&gt;\r\n        &lt;form th:action=&quot;@{/send}&quot; method=&quot;post&quot;&gt;\r\n            &lt;input type=&quot;hidden&quot; name=&quot;senderUsername&quot; th:value=&quot;${senderUsername}&quot; /&gt;\r\n            &lt;label for=&quot;recipientUsername&quot;&gt;Recipient:&lt;/label&gt;\r\n            &lt;select name=&quot;recipientUsername&quot;&gt;\r\n                &lt;option th:each=&quot;user : ${allUsers}&quot; th:value=&quot;${user.username}&quot; th:text=&quot;${user.username}&quot;&gt;&lt;/option&gt;\r\n            &lt;/select&gt;\r\n\r\n            &lt;br&gt;\r\n            &lt;label for=&quot;messageText&quot;&gt;Message:&lt;/label&gt;\r\n            &lt;input type=&quot;text&quot; name=&quot;messageText&quot; required /&gt;\r\n            &lt;br&gt;\r\n            &lt;button type=&quot;submit&quot;&gt;Send&lt;/button&gt;\r\n        &lt;/form&gt;\r\n        &lt;div class=&quot;message-list-container chatbox-content&quot;&gt;\r\n            &lt;ul id=&quot;incoming-messages&quot; th:fragment=&quot;messages&quot; class=&quot;message-list&quot;&gt;\r\n                &lt;li th:each=&quot;message : ${incomingMessages}&quot;&gt;\r\n                    &lt;span th:text=&quot;${message.sender.username}&quot;&gt;&lt;/span&gt;:\r\n                    &lt;span th:text=&quot;${message.messageText}&quot;&gt;&lt;/span&gt; -\r\n                    &lt;span th:text=&quot;${#temporals.format(message.timestamp, &#39;yyyy-MM-dd HH:mm&#39;)}&quot;&gt;&lt;/span&gt;\r\n                &lt;/li&gt;\r\n            &lt;/ul&gt;\r\n        &lt;/div&gt;\r\n\r\n\r\n    &lt;/main&gt;\r\n\r\n    &lt;form th:action=&quot;@{/logout}&quot; method=&quot;post&quot;&gt;\r\n        &lt;button type=&quot;submit&quot; class=&quot;btn btn-danger position-absolute bottom-0 end-0 m-3&quot;&gt;Logout&lt;/button&gt;\r\n    &lt;/form&gt;\r\n\r\n    &lt;footer class=&quot;mt-auto text-white-50&quot;&gt;\r\n        &lt;p&gt;dev.by.Flaim92&lt;/p&gt;\r\n    &lt;/footer&gt;\r\n&lt;/div&gt;\r\n&lt;script src=&quot;/docs/5.3/dist/js/bootstrap.bundle.min.js&quot; integrity=&quot;sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```","title":"(Spring)On the main page, users see all messages from the database, but it is necessary that they see only personal messages from user to user","body":"<p>`For a long time I can not understand what the problem is, maybe I already want to sleep. In general, messages on the main page of the site show all messages from all users, that is, you can go to someone else's personal correspondence, how to fix it/</p>\n<p>Looked for a problem in the backend and frontend, I think that the error is related to the definition of the user's role or request for a message`</p>\n<p><code>Chat conroller-</code></p>\n<pre><code>package com.ghostchat.ghostchat.controllers;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport com.ghostchat.ghostchat.models.User;\nimport com.ghostchat.ghostchat.models.Message; // Импорт модели Message\nimport com.ghostchat.ghostchat.repos.UserRepo;\nimport com.ghostchat.ghostchat.repos.MessageRepo; // Импорт репозитория MessageRepo\nimport java.time.LocalDateTime;\nimport java.util.Comparator;\nimport java.util.List;\nimport org.springframework.security.core.context.SecurityContextHolder;\n\n@Controller\npublic class ChatController {\n\n    @Autowired\n    private UserRepo userRepo;\n\n    @Autowired\n    private MessageRepo messageRepo;\n\n    @GetMapping(&quot;/chat&quot;)\n    public String chat(Model model) {\n        model.addAttribute(&quot;title&quot;, &quot;Messenger&quot;);\n        List&lt;User&gt; allUsers = userRepo.findAll();\n        String senderUsername = SecurityContextHolder.getContext().getAuthentication().getName();\n\n        User currentUser = userRepo.findByUsername(senderUsername); // Получение текущего пользователя\n\n        // Получение входящих сообщений для текущего пользователя\n        List&lt;Message&gt; incomingMessages = messageRepo.findByRecipient(currentUser);\n\n        model.addAttribute(&quot;allUsers&quot;, allUsers);\n        model.addAttribute(&quot;senderUsername&quot;, senderUsername);\n        model.addAttribute(&quot;incomingMessages&quot;, incomingMessages); // Передача входящих сообщений в шаблон\n        return &quot;chat&quot;;\n    }\n\n\n    @PostMapping(&quot;/send&quot;)\n    public String sendMessage(@RequestParam String senderUsername,\n                              @RequestParam String recipientUsername,\n                              @RequestParam String messageText) {\n        User sender = userRepo.findByUsername(senderUsername);\n        User recipient = userRepo.findByUsername(recipientUsername);\n\n        Message message = new Message();\n        message.setSender(sender);\n        message.setRecipient(recipient);\n        message.setMessageText(messageText);\n        message.setTimestamp(LocalDateTime.now());\n\n        messageRepo.save(message);\n\n        return &quot;redirect:/chat&quot;;\n    }\n    @GetMapping(&quot;/update-messages&quot;)\n    public String updateMessages(@RequestParam String username, Model model) {\n        User currentUser = userRepo.findByUsername(username);\n\n        List&lt;Message&gt; incomingMessages = messageRepo.findByRecipient(currentUser);\n        incomingMessages.sort(Comparator.comparing(Message::getTimestamp).reversed());\n\n        model.addAttribute(&quot;incomingMessages&quot;, incomingMessages);\n\n        return &quot;message-list&quot;; // Убедитесь, что это соответствует имени вашего шаблона Thymeleaf\n    }\n\n}\n</code></pre>\n<p><code>---------Repo</code></p>\n<pre><code>package com.ghostchat.ghostchat.repos;\n\nimport com.ghostchat.ghostchat.models.Message;\nimport com.ghostchat.ghostchat.models.User;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport java.util.List;\n\npublic interface MessageRepo extends JpaRepository&lt;Message, Long&gt; {\n    List&lt;Message&gt; findByRecipient(User recipient);\n}\n\n\n</code></pre>\n<p><code>----------Html-------------</code></p>\n<pre><code>&lt;!doctype html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;html lang=&quot;en&quot; class=&quot;h-100&quot; data-bs-theme=&quot;auto&quot;&gt;\n&lt;head&gt;&lt;script src=&quot;/docs/5.3/assets/js/color-modes.js&quot;&gt;&lt;/script&gt;\n\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\n    &lt;meta name=&quot;description&quot; content=&quot;&quot;&gt;\n    &lt;meta name=&quot;author&quot; content=&quot;Mark Otto, Jacob Thornton, and Bootstrap contributors&quot;&gt;\n    &lt;meta name=&quot;generator&quot; content=&quot;Hugo 0.115.4&quot;&gt;\n    &lt;title&gt;Ghostchat.welcome&lt;/title&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css&quot;&gt;\n    &lt;link rel=&quot;canonical&quot; href=&quot;https://getbootstrap.com/docs/5.3/examples/cover/&quot;&gt;\n\n\n\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@docsearch/css@3&quot;&gt;\n\n    &lt;link href=&quot;/docs/5.3/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; integrity=&quot;sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9&quot; crossorigin=&quot;anonymous&quot;&gt;\n\n    &lt;!-- Favicons --&gt;\n    &lt;link rel=&quot;apple-touch-icon&quot; href=&quot;/docs/5.3/assets/img/favicons/apple-touch-icon.png&quot; sizes=&quot;180x180&quot;&gt;\n    &lt;link rel=&quot;icon&quot; href=&quot;/docs/5.3/assets/img/favicons/favicon-32x32.png&quot; sizes=&quot;32x32&quot; type=&quot;image/png&quot;&gt;\n    &lt;link rel=&quot;icon&quot; href=&quot;/docs/5.3/assets/img/favicons/favicon-16x16.png&quot; sizes=&quot;16x16&quot; type=&quot;image/png&quot;&gt;\n    &lt;link rel=&quot;manifest&quot; href=&quot;/docs/5.3/assets/img/favicons/manifest.json&quot;&gt;\n    &lt;link rel=&quot;mask-icon&quot; href=&quot;/docs/5.3/assets/img/favicons/safari-pinned-tab.svg&quot; color=&quot;#712cf9&quot;&gt;\n    &lt;link rel=&quot;icon&quot; href=&quot;/docs/5.3/assets/img/favicons/favicon.ico&quot;&gt;\n    &lt;meta name=&quot;theme-color&quot; content=&quot;#712cf9&quot;&gt;\n\n\n    &lt;style&gt;\n      .bd-placeholder-img {\n        font-size: 1.125rem;\n        text-anchor: middle;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        user-select: none;\n      }\n\n      @media (min-width: 768px) {\n        .bd-placeholder-img-lg {\n          font-size: 3.5rem;\n        }\n      }\n\n      .b-example-divider {\n        width: 100%;\n        height: 3rem;\n        background-color: rgba(0, 0, 0, .1);\n        border: solid rgba(0, 0, 0, .15);\n        border-width: 1px 0;\n        box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);\n      }\n\n      .b-example-vr {\n        flex-shrink: 0;\n        width: 1.5rem;\n        height: 100vh;\n      }\n\n      .bi {\n        vertical-align: -.125em;\n        fill: currentColor;\n      }\n\n      .nav-scroller {\n        position: relative;\n        z-index: 2;\n        height: 2.75rem;\n        overflow-y: hidden;\n      }\n\n      .nav-scroller .nav {\n        display: flex;\n        flex-wrap: nowrap;\n        padding-bottom: 1rem;\n        margin-top: -1px;\n        overflow-x: auto;\n        text-align: center;\n        white-space: nowrap;\n        -webkit-overflow-scrolling: touch;\n      }\n\n      .btn-bd-primary {\n        --bd-violet-bg: #712cf9;\n        --bd-violet-rgb: 112.520718, 44.062154, 249.437846;\n\n        --bs-btn-font-weight: 600;\n        --bs-btn-color: var(--bs-white);\n        --bs-btn-bg: var(--bd-violet-bg);\n        --bs-btn-border-color: var(--bd-violet-bg);\n        --bs-btn-hover-color: var(--bs-white);\n        --bs-btn-hover-bg: #6528e0;\n        --bs-btn-hover-border-color: #6528e0;\n        --bs-btn-focus-shadow-rgb: var(--bd-violet-rgb);\n        --bs-btn-active-color: var(--bs-btn-hover-color);\n        --bs-btn-active-bg: #5a23c8;\n        --bs-btn-active-border-color: #5a23c8;\n      }\n      .bd-mode-toggle {\n        z-index: 1500;\n      }\n      .message-list-container {\n    position: fixed;\n    top: 10px;\n    right: 10px;\n    background-color: auto;\n    border: 1px solid #ddd;\n    padding: 10px;\n    border-radius: 5px;\n    box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.1);\n    /* Add the following properties to set a fixed height and enable scrolling */\n    height: 300px; /* Set a fixed height */\n    overflow-y: auto; /* Enable vertical scrolling */\n}\n\n.message-list {\n    list-style: none;\n    padding: 0;\n    /* Remove any margin to prevent unwanted spacing */\n    margin: 0;\n}\n.chatbox-list-container {\n    position: fixed;\n    top: 10px;\n    left: 10px;\n    background-color: auto;\n    border: 1px solid #ddd;\n    padding: 10px;\n    border-radius: 5px;\n    box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.1);\n    width: auto; /* Автоматически подстраиваться по ширине текста */\n}\n\n\n/* Стили для индивидуальных чатбоксов */\n.chatbox {\n    list-style: none;\n    padding: 10px;\n    cursor: pointer;\n    display: flex; /* Добавляем flex display */\n    align-items: center; /* Выравниваем элементы вертикально по центру */\n}}\n\n/* Подсветка выбранного чатбокса */\n.chatbox.active {\n    background-color: auto;\n}\n.chatbox-content {\n    max-width: 100%; /* Ограничьте максимальную ширину по содержимому */\n    word-wrap: break-word; /* Переносите длинные слова */\n}\n\n    &lt;/style&gt;\n\n\n    &lt;!-- Custom styles for this template --&gt;\n    &lt;link href=&quot;cover.css&quot; rel=&quot;stylesheet&quot;&gt;\n&lt;/head&gt;\n&lt;script src=&quot;https://code.jquery.com/jquery-3.6.0.min.js&quot;&gt;&lt;/script&gt;\n&lt;script&gt;\n    $(document).ready(function() {\n        function updateMessages() {\n            $.ajax({\n                url: '/update-messages', // Make sure this matches your mapping\n                method: 'GET',\n                cache: false, // Disable caching\n                success: function(data) {\n                    // Update the HTML content of the messages container\n                    $('#incoming-messages').html(data);\n                }\n            });\n        }\n\n        // Update messages every 3 seconds\n        setInterval(updateMessages, 3000);\n    });\n\n\n&lt;/script&gt;\n&lt;script&gt;\n    $(document).ready(function() {\n    // Функция для обновления выбранного чатбокса и сообщений\n    function updateChatbox(username) {\n        $('.chatbox').removeClass('active');\n        $('.chatbox[data-username=&quot;' + username + '&quot;]').addClass('active');\n\n        // Получение сообщений для выбранного пользователя с помощью AJAX\n        $.ajax({\n            url: '/update-messages?username=' + username, // Обновите URL по необходимости\n            method: 'GET',\n            cache: false,\n            success: function(data) {\n                // Обновление области отображения сообщений полученными данными\n                $('#incoming-messages').html(data);\n            }\n        });\n    }\n\n    // Обработка события нажатия на чатбокс\n    $('.chatbox').click(function() {\n        var selectedUsername = $(this).attr('data-username');\n        updateChatbox(selectedUsername);\n    });\n\n    // Начальное обновление с первым пользователем\n    if ($('.chatbox').length &gt; 0) {\n        var firstUsername = $('.chatbox:first').attr('data-username');\n        updateChatbox(firstUsername);\n    }\n\n    // ... Остальной существующий код\n});\n\n&lt;/script&gt;\n\n&lt;body class=&quot;d-flex h-100 text-center text-bg-dark&quot;&gt;\n&lt;div class=&quot;chatbox-list-container&quot;&gt;\n    &lt;ul class=&quot;chatbox-list&quot;&gt;\n        &lt;li th:each=&quot;user : ${allUsers}&quot; class=&quot;chatbox&quot; th:data-username=&quot;${user.username}&quot;&gt;\n            &lt;span th:text=&quot;${user.username}&quot;&gt;&lt;/span&gt;\n        &lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/div&gt;\n&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; class=&quot;d-none&quot;&gt;\n    &lt;symbol id=&quot;check2&quot; viewBox=&quot;0 0 16 16&quot;&gt;\n        &lt;path d=&quot;M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z&quot;/&gt;\n    &lt;/symbol&gt;\n    &lt;symbol id=&quot;circle-half&quot; viewBox=&quot;0 0 16 16&quot;&gt;\n        &lt;path d=&quot;M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z&quot;/&gt;\n    &lt;/symbol&gt;\n    &lt;symbol id=&quot;moon-stars-fill&quot; viewBox=&quot;0 0 16 16&quot;&gt;\n        &lt;path d=&quot;M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z&quot;/&gt;\n        &lt;path d=&quot;M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z&quot;/&gt;\n    &lt;/symbol&gt;\n    &lt;symbol id=&quot;sun-fill&quot; viewBox=&quot;0 0 16 16&quot;&gt;\n        &lt;path d=&quot;M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z&quot;/&gt;\n    &lt;/symbol&gt;\n&lt;/svg&gt;\n\n&lt;div class=&quot;dropdown position-fixed bottom-0 end-0 mb-3 me-3 bd-mode-toggle&quot;&gt;\n    &lt;ul class=&quot;dropdown-menu dropdown-menu-end shadow&quot; aria-labelledby=&quot;bd-theme-text&quot;&gt;\n        &lt;li&gt;\n            &lt;button type=&quot;button&quot; class=&quot;dropdown-item d-flex align-items-center&quot; data-bs-theme-value=&quot;light&quot; aria-pressed=&quot;false&quot;&gt;\n                &lt;svg class=&quot;bi me-2 opacity-50 theme-icon&quot; width=&quot;1em&quot; height=&quot;1em&quot;&gt;&lt;use href=&quot;#sun-fill&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\n                Light\n                &lt;svg class=&quot;bi ms-auto d-none&quot; width=&quot;1em&quot; height=&quot;1em&quot;&gt;&lt;use href=&quot;#check2&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\n            &lt;/button&gt;\n        &lt;/li&gt;\n        &lt;li&gt;\n            &lt;button type=&quot;button&quot; class=&quot;dropdown-item d-flex align-items-center&quot; data-bs-theme-value=&quot;dark&quot; aria-pressed=&quot;false&quot;&gt;\n                &lt;svg class=&quot;bi me-2 opacity-50 theme-icon&quot; width=&quot;1em&quot; height=&quot;1em&quot;&gt;&lt;use href=&quot;#moon-stars-fill&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\n                Dark\n                &lt;svg class=&quot;bi ms-auto d-none&quot; width=&quot;1em&quot; height=&quot;1em&quot;&gt;&lt;use href=&quot;#check2&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\n            &lt;/button&gt;\n        &lt;/li&gt;\n        &lt;li&gt;\n            &lt;button type=&quot;button&quot; class=&quot;dropdown-item d-flex align-items-center active&quot; data-bs-theme-value=&quot;auto&quot; aria-pressed=&quot;true&quot;&gt;\n                &lt;svg class=&quot;bi me-2 opacity-50 theme-icon&quot; width=&quot;1em&quot; height=&quot;1em&quot;&gt;&lt;use href=&quot;#circle-half&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\n                Auto\n                &lt;svg class=&quot;bi ms-auto d-none&quot; width=&quot;1em&quot; height=&quot;1em&quot;&gt;&lt;use href=&quot;#check2&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\n            &lt;/button&gt;\n        &lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/div&gt;\n\n\n&lt;div class=&quot;cover-container d-flex w-100 h-100 p-3 mx-auto flex-column&quot;&gt;\n    &lt;header class=&quot;mb-auto&quot;&gt;\n    &lt;/header&gt;\n\n    &lt;main class=&quot;px-3&quot;&gt;\n        &lt;!-- Вывод списка пользователей для отправки сообщений --&gt;\n        &lt;form th:action=&quot;@{/send}&quot; method=&quot;post&quot;&gt;\n            &lt;input type=&quot;hidden&quot; name=&quot;senderUsername&quot; th:value=&quot;${senderUsername}&quot; /&gt;\n            &lt;label for=&quot;recipientUsername&quot;&gt;Recipient:&lt;/label&gt;\n            &lt;select name=&quot;recipientUsername&quot;&gt;\n                &lt;option th:each=&quot;user : ${allUsers}&quot; th:value=&quot;${user.username}&quot; th:text=&quot;${user.username}&quot;&gt;&lt;/option&gt;\n            &lt;/select&gt;\n\n            &lt;br&gt;\n            &lt;label for=&quot;messageText&quot;&gt;Message:&lt;/label&gt;\n            &lt;input type=&quot;text&quot; name=&quot;messageText&quot; required /&gt;\n            &lt;br&gt;\n            &lt;button type=&quot;submit&quot;&gt;Send&lt;/button&gt;\n        &lt;/form&gt;\n        &lt;div class=&quot;message-list-container chatbox-content&quot;&gt;\n            &lt;ul id=&quot;incoming-messages&quot; th:fragment=&quot;messages&quot; class=&quot;message-list&quot;&gt;\n                &lt;li th:each=&quot;message : ${incomingMessages}&quot;&gt;\n                    &lt;span th:text=&quot;${message.sender.username}&quot;&gt;&lt;/span&gt;:\n                    &lt;span th:text=&quot;${message.messageText}&quot;&gt;&lt;/span&gt; -\n                    &lt;span th:text=&quot;${#temporals.format(message.timestamp, 'yyyy-MM-dd HH:mm')}&quot;&gt;&lt;/span&gt;\n                &lt;/li&gt;\n            &lt;/ul&gt;\n        &lt;/div&gt;\n\n\n    &lt;/main&gt;\n\n    &lt;form th:action=&quot;@{/logout}&quot; method=&quot;post&quot;&gt;\n        &lt;button type=&quot;submit&quot; class=&quot;btn btn-danger position-absolute bottom-0 end-0 m-3&quot;&gt;Logout&lt;/button&gt;\n    &lt;/form&gt;\n\n    &lt;footer class=&quot;mt-auto text-white-50&quot;&gt;\n        &lt;p&gt;dev.by.Flaim92&lt;/p&gt;\n    &lt;/footer&gt;\n&lt;/div&gt;\n&lt;script src=&quot;/docs/5.3/dist/js/bootstrap.bundle.min.js&quot; integrity=&quot;sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n"},{"tags":["java","oop","inheritance","test-class"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1692388810,"post_id":76932250,"comment_id":135621379,"body_markdown":"You&#39;re doing exactly what you need to do in the `Main` class. Just check the input you&#39;re getting in `AnimalTest` and then instantiate one of those like you&#39;re doing in `Main` and call the `sound` method on the instances you create. For example `if (input.equals(&quot;cow&quot;)) { cow c = new cow(); c.sound(); }` As an aside, class names start with a capital letter, so `Pig`, `Sheep`, `Duck` and `Cow`.","body":"You&#39;re doing exactly what you need to do in the <code>Main</code> class. Just check the input you&#39;re getting in <code>AnimalTest</code> and then instantiate one of those like you&#39;re doing in <code>Main</code> and call the <code>sound</code> method on the instances you create. For example <code>if (input.equals(&quot;cow&quot;)) { cow c = new cow(); c.sound(); }</code> As an aside, class names start with a capital letter, so <code>Pig</code>, <code>Sheep</code>, <code>Duck</code> and <code>Cow</code>."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1692392034,"post_id":76932250,"comment_id":135621845,"body_markdown":"`Animal animal; if (input.equals(&quot;cow&quot;)) { animal = new cow(); } else if ...` or `Animal animal = switch (input) { case &quot;cow&quot; -&gt; new cow(); case ... }`; and either followed by `animal.sound();`","body":"<code>Animal animal; if (input.equals(&quot;cow&quot;)) { animal = new cow(); } else if ...</code> or <code>Animal animal = switch (input) { case &quot;cow&quot; -&gt; new cow(); case ... }</code>; and either followed by <code>animal.sound();</code>"}],"answers":[{"tags":[],"owner":{"account_id":23119134,"reputation":44,"user_id":17400037,"display_name":"brandon v"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692490971,"creation_date":1692490647,"answer_id":76937501,"question_id":76932250,"body_markdown":"AnimalTest is just a name your professor recommmended for the class that holds the main method (I believe there might have been some confusion, as you might have thought it was a special class type). \r\n\r\nSo, your Animal Test class should look something like this:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class AnimalTest{\r\n        public static void main(String[] args) {\r\n            Animal animal = null; // create an animal object\r\n            Scanner scanner = new Scanner(System.in);\r\n            String input = scanner.nextLine();\r\n            if(input.equals(&quot;pig&quot;)){ // assign a specific object instance based on the input\r\n                animal = new Pig();\r\n            }else if(input.equals(&quot;sheep&quot;)){\r\n                animal = new Sheep();\r\n            }else if(input.equals(&quot;cow&quot;)){\r\n                animal = new Cow();\r\n            }            \r\n            animal.sound();       \r\n        }\r\n    }\r\n\r\nYour Animal class only needs the sound() method, which will be overrider by the child clases\r\n\r\n    class Animal {\r\n        void sound(){\r\n            System.out.println(&quot;Animal Sound&quot;);\r\n        }    \r\n    }\r\n\r\nFinally, your animal child classes should appear as follows (The @Override is an [java annotation][1] utilized when replacing method implementation from parent clases). \r\n\r\n    class Pig extends Animal{\r\n        @Override\r\n        void sound (){\r\n            System.out.println(&quot;Pig says oink !!&quot;);\r\n        }\r\n    }\r\n\r\nIf you found this answer useful, consider marking it as the accepted answer. Good luck.\r\n\r\n  [1]: https://www.baeldung.com/java-override","title":"Test Classes in Java","body":"<p>AnimalTest is just a name your professor recommmended for the class that holds the main method (I believe there might have been some confusion, as you might have thought it was a special class type).</p>\n<p>So, your Animal Test class should look something like this:</p>\n<pre><code>import java.util.Scanner;\n\npublic class AnimalTest{\n    public static void main(String[] args) {\n        Animal animal = null; // create an animal object\n        Scanner scanner = new Scanner(System.in);\n        String input = scanner.nextLine();\n        if(input.equals(&quot;pig&quot;)){ // assign a specific object instance based on the input\n            animal = new Pig();\n        }else if(input.equals(&quot;sheep&quot;)){\n            animal = new Sheep();\n        }else if(input.equals(&quot;cow&quot;)){\n            animal = new Cow();\n        }            \n        animal.sound();       \n    }\n}\n</code></pre>\n<p>Your Animal class only needs the sound() method, which will be overrider by the child clases</p>\n<pre><code>class Animal {\n    void sound(){\n        System.out.println(&quot;Animal Sound&quot;);\n    }    \n}\n</code></pre>\n<p>Finally, your animal child classes should appear as follows (The @Override is an <a href=\"https://www.baeldung.com/java-override\" rel=\"nofollow noreferrer\">java annotation</a> utilized when replacing method implementation from parent clases).</p>\n<pre><code>class Pig extends Animal{\n    @Override\n    void sound (){\n        System.out.println(&quot;Pig says oink !!&quot;);\n    }\n}\n</code></pre>\n<p>If you found this answer useful, consider marking it as the accepted answer. Good luck.</p>\n"}],"owner":{"account_id":29253608,"reputation":3,"user_id":22412423,"display_name":"Natalie Gee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76937501,"answer_count":1,"score":-1,"last_activity_date":1692490971,"creation_date":1692388548,"question_id":76932250,"body_markdown":"I have an assignment that looks like this:\r\n\r\n&gt; Write a class called `Animal` with a default `sound()` method. Create child classes with the `sound()` method for the following animals:pig, sheep, duck, cow.\r\n&gt; \r\n&gt; Create another class called `AnimalTest` that reads the command line user input and creates the appropriate Animal child class based on the type of animal, and then calls the animal’s `sound()` method. Take some time to reflect on which class to create.\r\n\r\nDo I write a test class that creates `Animal` child classes? How do you *create* animal classes from the Test Class? YouTube isn&#39;t too helpful on this.\r\n\r\nThis is my code: \r\n\r\nPARENT CLASS \r\n\r\n```java\r\npublic class Animal {\r\n\tvoid animal() {\r\n\t\tSystem.out.println(&quot;I am an animal&quot;);\r\n\t}\r\n\tpublic void sound() {\r\n\t\tSystem.out.println(&quot;An animal makes a sound based on the animal that it is.&quot;);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tAnimal mypig = new Animal();\r\n\t\tmypig.sound();\r\n\t}\r\n}\r\n```\r\n\r\nONE OF FOUR CHILD CLASSES (others basically repeats) \r\n\r\n```java\r\npublic class cow extends Animal{\r\n\tpublic cow() {\r\n\t\tSystem.out.println(&quot;I am a cow&quot;);\r\n\t}\r\n\tpublic void sound() {\r\n\t\tSystem.out.println(&quot;cow says “moo”&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nMAIN CLASS \r\n\r\n```java\r\npublic class Main {\r\n\tpig p = new pig();\r\n\tsheep s = new sheep();\r\n\tduck d = new duck();\r\n\tcow c = new cow();\r\n}\r\n```\r\n\r\nANIMAL TEST CLASS\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class AnimalTest {\r\n\t\r\n\t//create main class\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t//create scanner\r\n\t\tScanner scan = new Scanner(System.in);\r\n\r\n\t\t//get scanner input\r\n\t\tString input = scan.nextLine();\t\r\n\t}\r\n}\r\n```\r\n\r\nI tried looking for test classes on YouTube but existing videos were only showing how to test existing classes. ","title":"Test Classes in Java","body":"<p>I have an assignment that looks like this:</p>\n<blockquote>\n<p>Write a class called <code>Animal</code> with a default <code>sound()</code> method. Create child classes with the <code>sound()</code> method for the following animals:pig, sheep, duck, cow.</p>\n<p>Create another class called <code>AnimalTest</code> that reads the command line user input and creates the appropriate Animal child class based on the type of animal, and then calls the animal’s <code>sound()</code> method. Take some time to reflect on which class to create.</p>\n</blockquote>\n<p>Do I write a test class that creates <code>Animal</code> child classes? How do you <em>create</em> animal classes from the Test Class? YouTube isn't too helpful on this.</p>\n<p>This is my code:</p>\n<p>PARENT CLASS</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Animal {\n    void animal() {\n        System.out.println(&quot;I am an animal&quot;);\n    }\n    public void sound() {\n        System.out.println(&quot;An animal makes a sound based on the animal that it is.&quot;);\n    }\n    \n    public static void main(String[] args) {\n        Animal mypig = new Animal();\n        mypig.sound();\n    }\n}\n</code></pre>\n<p>ONE OF FOUR CHILD CLASSES (others basically repeats)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class cow extends Animal{\n    public cow() {\n        System.out.println(&quot;I am a cow&quot;);\n    }\n    public void sound() {\n        System.out.println(&quot;cow says “moo”&quot;);\n    }\n}\n</code></pre>\n<p>MAIN CLASS</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    pig p = new pig();\n    sheep s = new sheep();\n    duck d = new duck();\n    cow c = new cow();\n}\n</code></pre>\n<p>ANIMAL TEST CLASS</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class AnimalTest {\n    \n    //create main class\n    public static void main(String[] args) {\n        \n        //create scanner\n        Scanner scan = new Scanner(System.in);\n\n        //get scanner input\n        String input = scan.nextLine(); \n    }\n}\n</code></pre>\n<p>I tried looking for test classes on YouTube but existing videos were only showing how to test existing classes.</p>\n"},{"tags":["java","floating-point","int","type-conversion","rounding"],"comments":[{"owner":{"account_id":4253033,"reputation":9728,"user_id":3479456,"accept_rate":79,"display_name":"pushkin"},"score":0,"creation_date":1459965339,"post_id":36458709,"comment_id":60529695,"body_markdown":"Shouldn&#39;t you be comparing to 0.5 not to 0.3? And can&#39;t you just cast to an int? `(int) floatingPointNumber`","body":"Shouldn&#39;t you be comparing to 0.5 not to 0.3? And can&#39;t you just cast to an int? <code>(int) floatingPointNumber</code>"},{"owner":{"account_id":8194219,"reputation":55,"user_id":6167625,"accept_rate":60,"display_name":"JamesV."},"score":0,"creation_date":1459965587,"post_id":36458709,"comment_id":60529861,"body_markdown":"I have to use .3 so a number such as 1.7 rounds up, and and a number such as 1.6 rounds down. That&#39;s what the assignment is.","body":"I have to use .3 so a number such as 1.7 rounds up, and and a number such as 1.6 rounds down. That&#39;s what the assignment is."},{"owner":{"account_id":34083,"reputation":28467,"user_id":95954,"accept_rate":88,"display_name":"Rudy Velthuis"},"score":0,"creation_date":1459971811,"post_id":36458709,"comment_id":60533646,"body_markdown":"FWIW, `(int)num` is not called *multiplying* with `(int)`, it is called *casting* to `int`.","body":"FWIW, <code>(int)num</code> is not called <i>multiplying</i> with <code>(int)</code>, it is called <i>casting</i> to <code>int</code>."}],"answers":[{"tags":[],"owner":{"account_id":6121945,"reputation":1417,"user_id":4775223,"display_name":"Wilmer SH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459965731,"creation_date":1459965731,"answer_id":36458907,"question_id":36458709,"body_markdown":"James you can cast a float to an int and it will drop the decimal part of the number.\r\n\r\n       import java.util.*;\r\n       import java.util.Scanner;\r\n       public class HandsOn14JamesVincent {\r\n           public static void main(String[] args){\r\n               Scanner input = new Scanner(System.in);\r\n               System.out.println(&quot;Enter a decimal number and I will round it.&quot;); \r\n               float num = input.nextFloat();\r\n               float num1 = Math.round(num);\r\n               float num2 = num1 - num;\r\n               if (num2 &lt;= .3)\r\n               System.out.println((int)Math.ceil(num));\r\n               if (num2 &gt; .3) \r\n               System.out.println((int)Math.floor(num));\r\n           } \r\n       }\r\n\r\nNotice the `(int)`","title":"How Do I Convert from int to float?","body":"<p>James you can cast a float to an int and it will drop the decimal part of the number.</p>\n\n<pre><code>   import java.util.*;\n   import java.util.Scanner;\n   public class HandsOn14JamesVincent {\n       public static void main(String[] args){\n           Scanner input = new Scanner(System.in);\n           System.out.println(\"Enter a decimal number and I will round it.\"); \n           float num = input.nextFloat();\n           float num1 = Math.round(num);\n           float num2 = num1 - num;\n           if (num2 &lt;= .3)\n           System.out.println((int)Math.ceil(num));\n           if (num2 &gt; .3) \n           System.out.println((int)Math.floor(num));\n       } \n   }\n</code></pre>\n\n<p>Notice the <code>(int)</code></p>\n"},{"tags":[],"owner":{"account_id":19496194,"reputation":3,"user_id":15271207,"display_name":"Fiat Lux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692489604,"creation_date":1692489604,"answer_id":76937470,"question_id":36458709,"body_markdown":"To solve this problem I created a float var call numF so i give num to numF `float numf = num` then I use the numF with the same value of num in meth operations\r\n","title":"How Do I Convert from int to float?","body":"<p>To solve this problem I created a float var call numF so i give num to numF <code>float numf = num</code> then I use the numF with the same value of num in meth operations</p>\n"}],"owner":{"account_id":8194219,"reputation":55,"user_id":6167625,"accept_rate":60,"display_name":"JamesV."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692489604,"creation_date":1459965153,"question_id":36458709,"body_markdown":"I am tasked with creating a program that rounds a number such as 2.7 to 3 and 2.5 to 2. I have already written a code that does this but my teacher wants the output in int. (i.e. 2.7 = 3).\r\nHere is what I have:\r\n\r\n       import java.util.*;\r\n       import java.util.Scanner;\r\n       public class HandsOn14JamesVincent {\r\n\t       public static void main(String[] args){\r\n\t           Scanner input = new Scanner(System.in);\r\n\t\t       System.out.println(&quot;Enter a decimal number and I will round it.&quot;); \r\n\t    \t   float num = input.nextFloat();\r\n\t\t       float num1 = Math.round(num);\r\n\t\t       float num2 = num1 - num;\r\n\t\t       if (num2 &lt;= .3)\r\n\t\t       System.out.println(Math.ceil(num));\r\n\t\t       if (num2 &gt; .3) \r\n\t\t       System.out.println(Math.floor(num));\r\n\t       } \r\n       }\r\nIt displays the correct number, but it displays them in float (2.0). I can&#39;t seem to figure out how to convert them. \r\nI tried multiplying the num by (int) but it didn&#39;t work. \r\nPlease Help!! \t ","title":"How Do I Convert from int to float?","body":"<p>I am tasked with creating a program that rounds a number such as 2.7 to 3 and 2.5 to 2. I have already written a code that does this but my teacher wants the output in int. (i.e. 2.7 = 3).\nHere is what I have:</p>\n\n<pre><code>   import java.util.*;\n   import java.util.Scanner;\n   public class HandsOn14JamesVincent {\n       public static void main(String[] args){\n           Scanner input = new Scanner(System.in);\n           System.out.println(\"Enter a decimal number and I will round it.\"); \n           float num = input.nextFloat();\n           float num1 = Math.round(num);\n           float num2 = num1 - num;\n           if (num2 &lt;= .3)\n           System.out.println(Math.ceil(num));\n           if (num2 &gt; .3) \n           System.out.println(Math.floor(num));\n       } \n   }\n</code></pre>\n\n<p>It displays the correct number, but it displays them in float (2.0). I can't seem to figure out how to convert them. \nI tried multiplying the num by (int) but it didn't work. \nPlease Help!!    </p>\n"},{"tags":["java","android","xml","kotlin","android-studio"],"comments":[{"owner":{"account_id":6643996,"reputation":1451,"user_id":5128831,"display_name":"Homayoon Ahmadi"},"score":0,"creation_date":1692426394,"post_id":76930602,"comment_id":135624294,"body_markdown":"It seems some resources is not available in your APK on Android 6. check your res folder to see if you overridden some xml resources for higher api levels. also check if all resources you used are compatible with lower API levels.","body":"It seems some resources is not available in your APK on Android 6. check your res folder to see if you overridden some xml resources for higher api levels. also check if all resources you used are compatible with lower API levels."}],"answers":[{"tags":[],"owner":{"account_id":8356567,"reputation":2899,"user_id":6276596,"display_name":"Furkan Yurdakul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692489481,"creation_date":1692489481,"answer_id":76937464,"question_id":76930602,"body_markdown":"That line refers to `android:textAppearance=&quot;?android:attr/textAppearanceListItemSmall&quot;`.\r\n\r\nTry using `android:textAppearance=&quot;?textAppearanceListItemSmall&quot;` or `android:textAppearance=&quot;?attr/textAppearanceListItemSmall&quot;` and see if it helps. Usually `android:` prefixes are targeted towards higher API levels and Android 6 might require support library access.","title":"Binary XML file line #17: Binary XML file line #17: Error inflating class &lt;unknown&gt; (Kotlin Android)","body":"<p>That line refers to <code>android:textAppearance=&quot;?android:attr/textAppearanceListItemSmall&quot;</code>.</p>\n<p>Try using <code>android:textAppearance=&quot;?textAppearanceListItemSmall&quot;</code> or <code>android:textAppearance=&quot;?attr/textAppearanceListItemSmall&quot;</code> and see if it helps. Usually <code>android:</code> prefixes are targeted towards higher API levels and Android 6 might require support library access.</p>\n"}],"owner":{"account_id":25531905,"reputation":55,"user_id":19319762,"display_name":"Amir Elahi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692489481,"creation_date":1692371669,"question_id":76930602,"body_markdown":"Before beginning, I have to say that I do not have huge image in my project\r\n\r\nThe problem is my **app runs in android 13** with no problem, But **it does not run in android 6** (app stops immediately)\r\n\r\nAnd I have this error : `java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.sepehrfarm/com.example.sepehrfarm.MainActivity}: android.view.InflateException: Binary XML file line #17: Binary XML file line #17: Error inflating class &lt;unknown&gt;`\r\n\r\nactivity_main.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/top_linearLayout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;240dp&quot;\r\n            android:background=&quot;@drawable/top_background&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n    \r\n            android:textAppearance=&quot;?android:attr/textAppearanceListItemSmall&quot;\r\n            android:id=&quot;@+id/sepehrText&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/sepehrName&quot;\r\n            android:fontFamily=&quot;@font/iransans_fanum&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;50sp&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            android:layout_marginTop=&quot;30dp&quot;/&gt;\r\n    \r\n        &lt;androidx.cardview.widget.CardView\r\n            android:id=&quot;@+id/cardview0&quot;\r\n    \r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;90dp&quot;\r\n            app:cardCornerRadius=&quot;15dp&quot;\r\n            app:cardElevation=&quot;21dp&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/cardView&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@+id/cardView&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/cardView&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/cardView&quot;&gt;\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:background=&quot;@drawable/card_background&quot;&gt;\r\n                &lt;ImageView\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:src=&quot;@drawable/sepehr_logo&quot;\r\n                    android:padding=&quot;2dp&quot;/&gt;\r\n    \r\n            &lt;/LinearLayout&gt;\r\n    \r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n        &lt;androidx.cardview.widget.CardView\r\n            android:id=&quot;@+id/cardView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;400dp&quot;\r\n            android:layout_marginStart=&quot;30dp&quot;\r\n            android:layout_marginTop=&quot;50dp&quot;\r\n            android:layout_marginEnd=&quot;30dp&quot;\r\n            app:cardElevation=&quot;20dp&quot;\r\n    \r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/sepehrText&quot;&gt;\r\n    \r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                android:layoutDirection=&quot;rtl&quot;&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/logintxt&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginStart=&quot;20dp&quot;\r\n                    android:layout_marginTop=&quot;50dp&quot;\r\n                    android:text=&quot;@string/login_txt&quot;\r\n                    android:fontFamily=&quot;@font/iransans&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    android:textSize=&quot;40sp&quot;\r\n                    android:textColor=&quot;@color/black&quot;/&gt;\r\n    \r\n                &lt;EditText\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;50dp&quot;\r\n                    android:layout_marginStart=&quot;20dp&quot;\r\n                    android:layout_marginEnd=&quot;20dp&quot;\r\n                    android:layout_marginTop=&quot;20dp&quot;\r\n                    android:background=&quot;@drawable/edit_text_background&quot;\r\n                    android:drawableStart=&quot;@drawable/phone_icon&quot;\r\n                    android:drawablePadding=&quot;10dp&quot;\r\n                    android:inputType=&quot;phone&quot;\r\n                    android:textAlignment=&quot;textEnd&quot;\r\n                    android:paddingStart=&quot;10dp&quot;\r\n                    android:drawableTint=&quot;@color/black&quot;\r\n                    android:hint=&quot;@string/phoneNum_txt&quot;/&gt;\r\n    \r\n                &lt;EditText\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;50dp&quot;\r\n                    android:layout_marginStart=&quot;20dp&quot;\r\n                    android:layout_marginEnd=&quot;20dp&quot;\r\n                    android:layout_marginTop=&quot;20dp&quot;\r\n                    android:background=&quot;@drawable/edit_text_background&quot;\r\n                    android:drawableStart=&quot;@drawable/lock_icon&quot;\r\n                    android:drawablePadding=&quot;10dp&quot;\r\n                    android:inputType=&quot;textPassword&quot;\r\n                    android:paddingStart=&quot;10dp&quot;\r\n                    android:drawableTint=&quot;@color/black&quot;\r\n                    android:textAlignment=&quot;textEnd&quot;\r\n                    android:hint=&quot;@string/password_txt&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginStart=&quot;20dp&quot;\r\n                    android:textColor=&quot;@color/primary&quot;\r\n                    android:text=&quot;@string/forget_password_txt&quot;\r\n                    android:fontFamily=&quot;@font/iransans_fanum&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;/&gt;\r\n    \r\n    \r\n                &lt;androidx.appcompat.widget.AppCompatButton\r\n                    android:layout_width=&quot;160dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;center_horizontal&quot;\r\n                    android:layout_marginTop=&quot;30dp&quot;\r\n                    android:background=&quot;@drawable/button_background&quot;\r\n                    android:text=&quot;@string/login_txt&quot;\r\n                    android:textColor=&quot;@color/white&quot;\r\n                    android:fontFamily=&quot;@font/iransans_fanum&quot;\r\n                    android:textSize=&quot;20dp&quot;/&gt;\r\n    \r\n    \r\n    \r\n            &lt;/LinearLayout&gt;\r\n    \r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=&quot;@+id/otp_login_layout&quot;\r\n    \r\n            android:layout_width=&quot;270dp&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;\r\n            android:background=&quot;@drawable/login_with_phone_background&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@+id/cardView&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/cardView&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/cardView&quot;&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginEnd=&quot;40dp&quot;\r\n                android:fontFamily=&quot;@font/iransans_fanum&quot;\r\n                android:text=&quot;@string/otp_login_txt&quot;\r\n                android:textSize=&quot;15sp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nMainActiviy.kt:\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main)\r\n        }\r\n    }\r\n\r\nbuild.gradle (:app):\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n        id &#39;org.jetbrains.kotlin.android&#39;\r\n    }\r\n    \r\n    android {\r\n        namespace &#39;com.example.sepehrfarm&#39;\r\n        compileSdk 33\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.sepehrfarm&quot;\r\n            minSdk 21\r\n            targetSdk 33\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n        kotlinOptions {\r\n            jvmTarget = &#39;1.8&#39;\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.core:core-ktx:1.10.1&#39;\r\n        implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.9.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    }\r\n\r\nMainfest:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n            android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.SepehrFarm&quot;\r\n            tools:targetApi=&quot;31&quot;&gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\n\r\nI do not understand the problem, I will be grateful if you help me find the solution.\r\n\r\n**I have read the current solutions** but it did not help","title":"Binary XML file line #17: Binary XML file line #17: Error inflating class &lt;unknown&gt; (Kotlin Android)","body":"<p>Before beginning, I have to say that I do not have huge image in my project</p>\n<p>The problem is my <strong>app runs in android 13</strong> with no problem, But <strong>it does not run in android 6</strong> (app stops immediately)</p>\n<p>And I have this error : <code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.sepehrfarm/com.example.sepehrfarm.MainActivity}: android.view.InflateException: Binary XML file line #17: Binary XML file line #17: Error inflating class &lt;unknown&gt;</code></p>\n<p>activity_main.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/top_linearLayout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;240dp&quot;\n        android:background=&quot;@drawable/top_background&quot;\n        android:orientation=&quot;horizontal&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n\n        android:textAppearance=&quot;?android:attr/textAppearanceListItemSmall&quot;\n        android:id=&quot;@+id/sepehrText&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/sepehrName&quot;\n        android:fontFamily=&quot;@font/iransans_fanum&quot;\n        android:textColor=&quot;@color/white&quot;\n        android:textSize=&quot;50sp&quot;\n        android:textStyle=&quot;bold&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        android:layout_marginTop=&quot;30dp&quot;/&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/cardview0&quot;\n\n        android:layout_width=&quot;180dp&quot;\n        android:layout_height=&quot;90dp&quot;\n        app:cardCornerRadius=&quot;15dp&quot;\n        app:cardElevation=&quot;21dp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/cardView&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/cardView&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/cardView&quot;\n        app:layout_constraintTop_toTopOf=&quot;@+id/cardView&quot;&gt;\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:background=&quot;@drawable/card_background&quot;&gt;\n            &lt;ImageView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:src=&quot;@drawable/sepehr_logo&quot;\n                android:padding=&quot;2dp&quot;/&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/cardView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;400dp&quot;\n        android:layout_marginStart=&quot;30dp&quot;\n        android:layout_marginTop=&quot;50dp&quot;\n        android:layout_marginEnd=&quot;30dp&quot;\n        app:cardElevation=&quot;20dp&quot;\n\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/sepehrText&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:orientation=&quot;vertical&quot;\n            android:layoutDirection=&quot;rtl&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/logintxt&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;20dp&quot;\n                android:layout_marginTop=&quot;50dp&quot;\n                android:text=&quot;@string/login_txt&quot;\n                android:fontFamily=&quot;@font/iransans&quot;\n                android:textStyle=&quot;bold&quot;\n                android:textSize=&quot;40sp&quot;\n                android:textColor=&quot;@color/black&quot;/&gt;\n\n            &lt;EditText\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;50dp&quot;\n                android:layout_marginStart=&quot;20dp&quot;\n                android:layout_marginEnd=&quot;20dp&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:background=&quot;@drawable/edit_text_background&quot;\n                android:drawableStart=&quot;@drawable/phone_icon&quot;\n                android:drawablePadding=&quot;10dp&quot;\n                android:inputType=&quot;phone&quot;\n                android:textAlignment=&quot;textEnd&quot;\n                android:paddingStart=&quot;10dp&quot;\n                android:drawableTint=&quot;@color/black&quot;\n                android:hint=&quot;@string/phoneNum_txt&quot;/&gt;\n\n            &lt;EditText\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;50dp&quot;\n                android:layout_marginStart=&quot;20dp&quot;\n                android:layout_marginEnd=&quot;20dp&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:background=&quot;@drawable/edit_text_background&quot;\n                android:drawableStart=&quot;@drawable/lock_icon&quot;\n                android:drawablePadding=&quot;10dp&quot;\n                android:inputType=&quot;textPassword&quot;\n                android:paddingStart=&quot;10dp&quot;\n                android:drawableTint=&quot;@color/black&quot;\n                android:textAlignment=&quot;textEnd&quot;\n                android:hint=&quot;@string/password_txt&quot; /&gt;\n\n            &lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;20dp&quot;\n                android:textColor=&quot;@color/primary&quot;\n                android:text=&quot;@string/forget_password_txt&quot;\n                android:fontFamily=&quot;@font/iransans_fanum&quot;\n                android:layout_marginTop=&quot;10dp&quot;/&gt;\n\n\n            &lt;androidx.appcompat.widget.AppCompatButton\n                android:layout_width=&quot;160dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center_horizontal&quot;\n                android:layout_marginTop=&quot;30dp&quot;\n                android:background=&quot;@drawable/button_background&quot;\n                android:text=&quot;@string/login_txt&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:fontFamily=&quot;@font/iransans_fanum&quot;\n                android:textSize=&quot;20dp&quot;/&gt;\n\n\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=&quot;@+id/otp_login_layout&quot;\n\n        android:layout_width=&quot;270dp&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:background=&quot;@drawable/login_with_phone_background&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/cardView&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/cardView&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/cardView&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textView&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginEnd=&quot;40dp&quot;\n            android:fontFamily=&quot;@font/iransans_fanum&quot;\n            android:text=&quot;@string/otp_login_txt&quot;\n            android:textSize=&quot;15sp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>MainActiviy.kt:</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n}\n</code></pre>\n<p>build.gradle (:app):</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n}\n\nandroid {\n    namespace 'com.example.sepehrfarm'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.sepehrfarm&quot;\n        minSdk 21\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.core:core-ktx:1.10.1'\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.9.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n}\n</code></pre>\n<p>Mainfest:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.SepehrFarm&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>I do not understand the problem, I will be grateful if you help me find the solution.</p>\n<p><strong>I have read the current solutions</strong> but it did not help</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1601452470,"post_id":64133038,"comment_id":113409279,"body_markdown":"Same here, I don&#39;t think it has anything to do with installing or removing other programs. Usually, the problem corrects itself after you have started IJ via the bat file.","body":"Same here, I don&#39;t think it has anything to do with installing or removing other programs. Usually, the problem corrects itself after you have started IJ via the bat file."},{"owner":{"account_id":19626756,"reputation":1,"user_id":14365915,"display_name":"Minjoon Choi"},"score":0,"creation_date":1601453271,"post_id":64133038,"comment_id":113409608,"body_markdown":"Well, I can start IJ via the bat file, but that doesn&#39;t seem to correct the problem... :(","body":"Well, I can start IJ via the bat file, but that doesn&#39;t seem to correct the problem... :("},{"owner":{"account_id":12273514,"reputation":1909,"user_id":8958060,"display_name":"Petr Rastegaev"},"score":0,"creation_date":1601977612,"post_id":64133038,"comment_id":113567122,"body_markdown":"it may be caused by https://youtrack.jetbrains.com/issue/IDEA-184029.\n\n“This is caused by Windows&#39; Exploit protection, by the Mandatory ASLR (Address Space Layout Randomization), to be exact. This is off by default on Windows, but can be changed. If you want to keep Mandatory ASLR on by default, you will have to add an override for idea.exe or idea64.exe that disables Mandatory ASLR for the executable”","body":"it may be caused by <a href=\"https://youtrack.jetbrains.com/issue/IDEA-184029\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-184029</a>.  “This is caused by Windows&#39; Exploit protection, by the Mandatory ASLR (Address Space Layout Randomization), to be exact. This is off by default on Windows, but can be changed. If you want to keep Mandatory ASLR on by default, you will have to add an override for idea.exe or idea64.exe that disables Mandatory ASLR for the executable”"}],"answers":[{"tags":[],"owner":{"account_id":1614389,"reputation":51,"user_id":1492490,"display_name":"Zhiqiang Liu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645672432,"creation_date":1645672432,"answer_id":71246642,"question_id":64133038,"body_markdown":"I met the same problem as what you said. I run the idea64.exe as administrator mode, it can be launched correctly. Very confuse me.","title":"IntelliJ IDEA does not open with idea64.exe but opens with idea.bat","body":"<p>I met the same problem as what you said. I run the idea64.exe as administrator mode, it can be launched correctly. Very confuse me.</p>\n"},{"tags":[],"owner":{"account_id":6835378,"reputation":1,"user_id":5257599,"display_name":"Abhishek J S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652872502,"creation_date":1652872236,"answer_id":72288093,"question_id":64133038,"body_markdown":"You have to put the agent jar file under the Jetbrains of the Program Files.","title":"IntelliJ IDEA does not open with idea64.exe but opens with idea.bat","body":"<p>You have to put the agent jar file under the Jetbrains of the Program Files.</p>\n"},{"tags":[],"owner":{"account_id":6869537,"reputation":1293,"user_id":5280512,"display_name":"Tom Rutchik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692488413,"creation_date":1692488413,"answer_id":76937425,"question_id":64133038,"body_markdown":"In my case I originally installed Intelli in my windows machine user account.  When I log using that account I have no issues.  I&#39;ve since then created a new domain user account on my machine.  When I logged onto that account and tried to access the Intellij IDE that&#39;s when I observed the same issues that Choi had.  I was able to start the IDE if I ran it as administrator. I went to the folder where the IDE was installed and gave myself full permissions.  When I did this, I got further along, but I got some issues accessing some dll in the AppData directory.  It might have been the AppData directory for the user account that the IDEA was originally installed with (I don&#39;t recall for sure). If it was the other user account that certainly explains why the IDE might have issues trying to access that dll.  The short of it is that I came to the conclusion that trying to fix the problem by correcting permission issues seems to be problematic.  I opted to just reinstall the Intellj IDEA again. In my case there was a newer version of the IDE available, so I would have been doing that anyway.\r\n\r\nChoi&#39;s case seems to occur for some other reason than my situation.  It&#39;s certainly baffling to think that uninstalling a non-related product would affect on how the Intellij IDE works. Removing the MC VC++ Redistributable should not have any effect on how the Intellj IDE starts up. I think those activities are not related as to why your Intellij IDEA won&#39;t start.  From my experience, I&#39;ve learned that file permissions issue can cause the observed symptoms.  Perhaps in doing the delete of this non-related software, Choi unintentionally messed up some file or directory permission. At any rate, that&#39;s water over the dam. My suggestion would be to reinstall the Intellj IDE.","title":"IntelliJ IDEA does not open with idea64.exe but opens with idea.bat","body":"<p>In my case I originally installed Intelli in my windows machine user account.  When I log using that account I have no issues.  I've since then created a new domain user account on my machine.  When I logged onto that account and tried to access the Intellij IDE that's when I observed the same issues that Choi had.  I was able to start the IDE if I ran it as administrator. I went to the folder where the IDE was installed and gave myself full permissions.  When I did this, I got further along, but I got some issues accessing some dll in the AppData directory.  It might have been the AppData directory for the user account that the IDEA was originally installed with (I don't recall for sure). If it was the other user account that certainly explains why the IDE might have issues trying to access that dll.  The short of it is that I came to the conclusion that trying to fix the problem by correcting permission issues seems to be problematic.  I opted to just reinstall the Intellj IDEA again. In my case there was a newer version of the IDE available, so I would have been doing that anyway.</p>\n<p>Choi's case seems to occur for some other reason than my situation.  It's certainly baffling to think that uninstalling a non-related product would affect on how the Intellij IDE works. Removing the MC VC++ Redistributable should not have any effect on how the Intellj IDE starts up. I think those activities are not related as to why your Intellij IDEA won't start.  From my experience, I've learned that file permissions issue can cause the observed symptoms.  Perhaps in doing the delete of this non-related software, Choi unintentionally messed up some file or directory permission. At any rate, that's water over the dam. My suggestion would be to reinstall the Intellj IDE.</p>\n"}],"owner":{"account_id":19626756,"reputation":1,"user_id":14365915,"display_name":"Minjoon Choi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1692488413,"creation_date":1601451784,"question_id":64133038,"body_markdown":"I am a user of IntelliJ IDEA, and it used to work properly.\r\nYesterday, I removed Visual Studio 2019 from my laptop, and also some program files named &#39;Microsoft Visual C++ 2008 Redistributable ...&#39;.\r\nThen I installed Visual Studio Code.\r\n\r\nSuddenly, when I double click the icon of IntelliJ IDEA, the opening screen doesn&#39;t appear at all, and nothing happens. I checked the operations going on, and there was nothing.\r\nThis was the same when I clicked idea64.exe (my laptop is Windows 10, 64 bits)\r\nBut when I tried idea.bat, the cmd opened with the following error, and IntelliJ opened properly.\r\n\r\n---------------------\r\n\r\nOpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\r\n2020-09-30 16:40:07,217 [   1749]   WARN - pi.util.registry.RegistryValue - The registry key &#39;ide.cache.screen.insets&#39; accessed, but not loaded yet\r\n2020-09-30 16:40:07,229 [   1761]   WARN - pi.util.registry.RegistryValue - The registry key &#39;ide.insets.cache.timeout&#39; accessed, but not loaded yet\r\n\r\n---------------------------\r\n\r\nWhat&#39;s the problem and solution to this? How can I open IntelliJ IDEA properly by only clicking the icon that leads to idea64.exe?\r\n","title":"IntelliJ IDEA does not open with idea64.exe but opens with idea.bat","body":"<p>I am a user of IntelliJ IDEA, and it used to work properly.\nYesterday, I removed Visual Studio 2019 from my laptop, and also some program files named 'Microsoft Visual C++ 2008 Redistributable ...'.\nThen I installed Visual Studio Code.</p>\n<p>Suddenly, when I double click the icon of IntelliJ IDEA, the opening screen doesn't appear at all, and nothing happens. I checked the operations going on, and there was nothing.\nThis was the same when I clicked idea64.exe (my laptop is Windows 10, 64 bits)\nBut when I tried idea.bat, the cmd opened with the following error, and IntelliJ opened properly.</p>\n<hr />\n<p>OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\n2020-09-30 16:40:07,217 [   1749]   WARN - pi.util.registry.RegistryValue - The registry key 'ide.cache.screen.insets' accessed, but not loaded yet\n2020-09-30 16:40:07,229 [   1761]   WARN - pi.util.registry.RegistryValue - The registry key 'ide.insets.cache.timeout' accessed, but not loaded yet</p>\n<hr />\n<p>What's the problem and solution to this? How can I open IntelliJ IDEA properly by only clicking the icon that leads to idea64.exe?</p>\n"},{"tags":["java","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":4615117,"reputation":2794,"user_id":3741900,"display_name":"Cornel Raiu"},"score":1,"creation_date":1570290185,"post_id":58249521,"comment_id":102870147,"body_markdown":"please show us what you tried so we can help adjust your code to a working example","body":"please show us what you tried so we can help adjust your code to a working example"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1570302255,"creation_date":1570288457,"answer_id":58249637,"question_id":58249521,"body_markdown":"Try this.\r\n```java\r\n\t  int values[][] = new int[][] { { 1, 2\r\n\t\t\t}, { 3, 4\r\n\t\t\t}, { 5, 6\r\n\t\t\t}\r\n\t  };\r\n\t  int[] v = Arrays.stream(values).reduce(new int[] { 0, 0\r\n\t  }, (a, b) -&gt;\r\n\t  {\r\n\t\t a[0] += b[0];\r\n\t\t a[1] += b[1];\r\n\t\t return a;\r\n\t  });\r\n\t  System.out.println(Arrays.toString(v));\r\n```\r\nEDIT:\r\n\r\nIn regards to your other question about accomodating different number of columns.  Yes you can do it.  But just because you can doesn&#39;t mean you should or that it&#39;s the best way.  What follows is a simple method that sums up integers in any 2D array regardless of row length.  It even handles ragged arrays.  Note that this sums up the columns, first come, first served basis as they are treated as though they are left justified relative to each other.\r\n\r\nInitialize a irregular (ragged or different row length) array\r\n\r\n```java\r\n\t  int values[][] = new int[][] { { 1\r\n\t\t\t}, { 20, 3\r\n\t\t\t}, { 1, 2, 4\r\n\t\t\t}, { 3, 4, 10\r\n\t\t\t}, { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10\r\n\t\t\t}\r\n\t  };\r\n```\r\n\r\nNow compute the sum using the following method.\r\n\t \r\n```java\r\n   public static int[] sumColumns(int[][] vals) {\r\n      // compute the maximum row length (most columns)\r\n\t  int maxColumns = 0;\r\n\t  for (int r = 0; r &lt; vals.length; r++) {\r\n\t\t maxColumns = Math.max(maxColumns, vals[r].length);\r\n\t  }\r\n\t \r\n      // use that to initialize the return array\r\n      int[] sums = new int[maxColumns];\r\n\r\n      //now just iterate over the rows and columns\r\n      // calculating the sum.  \r\n\t  for (int r = 0; r &lt; vals.length; r++) {\r\n\t\t for (int c = 0; c &lt; vals[r].length; c++) {\r\n\t\t\tsums[c] += vals[r][c];\r\n\t\t }\r\n\t  }\r\n\t  return sums;\r\n   }\r\n```\r\n\r\nTo do any rectangular matrix with streams, do the following:\r\n\r\n```java\r\n\t       int[] result2 =\r\n\t           Arrays.stream(values).reduce(new int[values[0].length], (a, b) -&gt;\r\n\t        {\r\n\t\t       for (int i = 0; i &lt; values[0].length; ++i) {\r\n\t\t\t      a[i] += b[i];\r\n\t\t       }\r\n\t\t       return a;\r\n\t        });","title":"Using stream to get results per column in 2D array","body":"<p>Try this.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>      int values[][] = new int[][] { { 1, 2\n            }, { 3, 4\n            }, { 5, 6\n            }\n      };\n      int[] v = Arrays.stream(values).reduce(new int[] { 0, 0\n      }, (a, b) -&gt;\n      {\n         a[0] += b[0];\n         a[1] += b[1];\n         return a;\n      });\n      System.out.println(Arrays.toString(v));\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>In regards to your other question about accomodating different number of columns.  Yes you can do it.  But just because you can doesn't mean you should or that it's the best way.  What follows is a simple method that sums up integers in any 2D array regardless of row length.  It even handles ragged arrays.  Note that this sums up the columns, first come, first served basis as they are treated as though they are left justified relative to each other.</p>\n\n<p>Initialize a irregular (ragged or different row length) array</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>      int values[][] = new int[][] { { 1\n            }, { 20, 3\n            }, { 1, 2, 4\n            }, { 3, 4, 10\n            }, { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10\n            }\n      };\n</code></pre>\n\n<p>Now compute the sum using the following method.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>   public static int[] sumColumns(int[][] vals) {\n      // compute the maximum row length (most columns)\n      int maxColumns = 0;\n      for (int r = 0; r &lt; vals.length; r++) {\n         maxColumns = Math.max(maxColumns, vals[r].length);\n      }\n\n      // use that to initialize the return array\n      int[] sums = new int[maxColumns];\n\n      //now just iterate over the rows and columns\n      // calculating the sum.  \n      for (int r = 0; r &lt; vals.length; r++) {\n         for (int c = 0; c &lt; vals[r].length; c++) {\n            sums[c] += vals[r][c];\n         }\n      }\n      return sums;\n   }\n</code></pre>\n\n<p>To do any rectangular matrix with streams, do the following:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>           int[] result2 =\n               Arrays.stream(values).reduce(new int[values[0].length], (a, b) -&gt;\n            {\n               for (int i = 0; i &lt; values[0].length; ++i) {\n                  a[i] += b[i];\n               }\n               return a;\n            });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16831055,"reputation":31,"user_id":12169019,"display_name":"Obby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570301558,"creation_date":1570300927,"answer_id":58251273,"question_id":58249521,"body_markdown":"My question was not precise enough (sorry for my poor english level).\r\n\r\nIn the first example with stream it was based on fact that there was 2 values per rows. In my cas I will always have the same numbers of column but I don&#39;t know how many at coding time.\r\n\r\nSo with a variable &quot;size&quot;, how code will be modified ?\r\n\r\n    int values[][] = new int[][] {\r\n                {1,2,3},\r\n                {4,5,6},\r\n                {7,8,9}\r\n        };\r\n\r\n        int size = 3;\r\n        int[] result2 = Arrays.stream(arr)\r\n                .reduce(new int[size],\r\n                        (a, b) -&gt; new int[] { a[0] + b[0], a[1] + b[1] });\r\n        System.out.println(Arrays.toString(result2));\r\n\r\n\r\nI&#39;m much more focus on the &quot;a[0] + b[0]&quot; part of code\r\n\r\n\r\nEDIT : I finally got something, but I though I could do without the for-loop :\r\n\r\n    int values[][] = new int[][] {\r\n                {1,2,3},\r\n                {4,5,6},\r\n                {7,8,9}\r\n        };\r\n\r\n        int size = 3;\r\n        int[] result2 = Arrays.stream(values)\r\n                .reduce(new int[size],\r\n                        (a, b) -&gt; {\r\n                        int[] myInt = new int[size];\r\n                        for (int i =0; i &lt; size ; ++i) {\r\n                            myInt[i] = a[i] + b[i];\r\n                        }\r\n                        return myInt;\r\n                });\r\n        System.out.println(Arrays.toString(result2));","title":"Using stream to get results per column in 2D array","body":"<p>My question was not precise enough (sorry for my poor english level).</p>\n\n<p>In the first example with stream it was based on fact that there was 2 values per rows. In my cas I will always have the same numbers of column but I don't know how many at coding time.</p>\n\n<p>So with a variable \"size\", how code will be modified ?</p>\n\n<pre><code>int values[][] = new int[][] {\n            {1,2,3},\n            {4,5,6},\n            {7,8,9}\n    };\n\n    int size = 3;\n    int[] result2 = Arrays.stream(arr)\n            .reduce(new int[size],\n                    (a, b) -&gt; new int[] { a[0] + b[0], a[1] + b[1] });\n    System.out.println(Arrays.toString(result2));\n</code></pre>\n\n<p>I'm much more focus on the \"a[0] + b[0]\" part of code</p>\n\n<p>EDIT : I finally got something, but I though I could do without the for-loop :</p>\n\n<pre><code>int values[][] = new int[][] {\n            {1,2,3},\n            {4,5,6},\n            {7,8,9}\n    };\n\n    int size = 3;\n    int[] result2 = Arrays.stream(values)\n            .reduce(new int[size],\n                    (a, b) -&gt; {\n                    int[] myInt = new int[size];\n                    for (int i =0; i &lt; size ; ++i) {\n                        myInt[i] = a[i] + b[i];\n                    }\n                    return myInt;\n            });\n    System.out.println(Arrays.toString(result2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692487447,"creation_date":1692487447,"answer_id":76937387,"question_id":58249521,"body_markdown":"This is a good use case for [`Collectors.teeing`][1], but it is available only from Java 12. Just in case, here is a usage example:\r\n```\r\nint[] res =\r\n    Arrays.stream(values)\r\n        .collect(\r\n            Collectors.teeing(\r\n                Collectors.summingInt(arr -&gt; arr[0]),\r\n                Collectors.summingInt(arr -&gt; arr[1]),\r\n                (a, b) -&gt; new int[] {a, b}));\r\n```\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)","title":"Using stream to get results per column in 2D array","body":"<p>This is a good use case for <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>Collectors.teeing</code></a>, but it is available only from Java 12. Just in case, here is a usage example:</p>\n<pre><code>int[] res =\n    Arrays.stream(values)\n        .collect(\n            Collectors.teeing(\n                Collectors.summingInt(arr -&gt; arr[0]),\n                Collectors.summingInt(arr -&gt; arr[1]),\n                (a, b) -&gt; new int[] {a, b}));\n</code></pre>\n"}],"owner":{"account_id":16831055,"reputation":31,"user_id":12169019,"display_name":"Obby"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1242,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":58249637,"answer_count":3,"score":-1,"last_activity_date":1692487447,"creation_date":1570287800,"question_id":58249521,"body_markdown":"I&#39;m a complete newbie to API stream, and I want to do some operation on a 2D array\r\n\r\nThe following code is a simplified version of what I want to do. \r\n\r\n\r\nI have an array of values :\r\n\r\n    int values[][] = new int[][] {{1,2},{3,4},{5,6}};\r\n\r\nI&#39;d like to process values per column and get \r\n\r\n    int result[] = {x,y}\r\n\r\nFor example, if I do a sum, it should get me \r\n\r\n    result[] = {9, 12}\r\n\r\nThanks by advance for your help","title":"Using stream to get results per column in 2D array","body":"<p>I'm a complete newbie to API stream, and I want to do some operation on a 2D array</p>\n\n<p>The following code is a simplified version of what I want to do. </p>\n\n<p>I have an array of values :</p>\n\n<pre><code>int values[][] = new int[][] {{1,2},{3,4},{5,6}};\n</code></pre>\n\n<p>I'd like to process values per column and get </p>\n\n<pre><code>int result[] = {x,y}\n</code></pre>\n\n<p>For example, if I do a sum, it should get me </p>\n\n<pre><code>result[] = {9, 12}\n</code></pre>\n\n<p>Thanks by advance for your help</p>\n"},{"tags":["java","jenkins","groovy","jenkins-plugins","jenkins-groovy"],"owner":{"account_id":13504110,"reputation":65,"user_id":9742740,"display_name":"MTLTR_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692486516,"creation_date":1691485184,"question_id":76857980,"body_markdown":"I&#39;m trying to pass a variable to the parameter.\r\nI have a structure of pipeline: JOB_NAME &gt; env (ex. test, dev as multibranch pipeline type) &gt; branches\r\n\r\nI want to display different parameters (in GUI) for the user depending on the name of the env. \r\nIn Jenkinsfile I created a simple function. Variable envName has a type of env (test, dev, etc.) and it&#39;s ok.\r\n\r\n    def getEnvName() {\r\n        envName = &quot;${JOB_NAME.split(&#39;/&#39;)[1]}&quot;\r\n    }\r\n\r\nI tried to use the plugin Active Choices (https://plugins.jenkins.io/uno-choice/) but I cannot pass envName to the parameter.\r\n\r\nPart of the implementation of the plugin in code.\r\n\r\n    properties([\r\n    parameters([\r\n        [$class: &#39;ChoiceParameter&#39;, \r\n            choiceType: &#39;PT_SINGLE_SELECT&#39;, \r\n            name: &#39;Env&#39;, \r\n            script: [\r\n                $class: &#39;GroovyScript&#39;, \r\n                fallbackScript: [\r\n                    classpath: [], \r\n                    sandbox: false, \r\n                    script: \r\n                        &#39;return[\\&#39;Could not get Env\\&#39;]&#39;\r\n                ], \r\n                script: [\r\n                    classpath: [], \r\n                    sandbox: false, \r\n                    script: &#39;&#39;&#39;\r\n                        HERE I NEED MY envName VARIABLE\r\n                        &#39;&#39;&#39;\r\n                ]\r\n            ]\r\n        ], \r\n        [$class: &#39;CascadeChoiceParameter&#39;, \r\n            choiceType: &#39;PT_SINGLE_SELECT&#39;, \r\n            name: &#39;Server&#39;, \r\n            referencedParameters: &#39;Env&#39;, \r\n            script: [\r\n                $class: &#39;GroovyScript&#39;, \r\n                fallbackScript: [\r\n                    classpath: [], \r\n                    sandbox: false, \r\n                    script: \r\n                        &#39;return[\\&#39;Could not get Environment from Env Param\\&#39;]&#39;\r\n                ], \r\n                script: [\r\n                    classpath: [], \r\n                    sandbox: false, \r\n                    script: \r\n                        &#39;&#39;&#39; if (Env.equals(&quot;test&quot;)){\r\n                                return[&quot;test1&quot;,&quot;test2&quot;,&quot;test3&quot;,&quot;test4&quot;,&quot;test5&quot;,&quot;test5&quot;]\r\n                            }\r\n                            else if(Env.equals(&quot;dev&quot;)){\r\n                                return[&quot;dev1&quot;,&quot;dev2&quot;,&quot;dev3&quot;]\r\n                            }\r\n                        &#39;&#39;&#39;\r\n                ]\r\n            ]\r\n        ]\r\n    ])\r\n    ])\r\n\r\nHas anyone tried to do something like this?\r\nI&#39;m open to any solution. Thanks!\r\n","title":"Jenkins dynamic passing of a variable to a parameter","body":"<p>I'm trying to pass a variable to the parameter.\nI have a structure of pipeline: JOB_NAME &gt; env (ex. test, dev as multibranch pipeline type) &gt; branches</p>\n<p>I want to display different parameters (in GUI) for the user depending on the name of the env.\nIn Jenkinsfile I created a simple function. Variable envName has a type of env (test, dev, etc.) and it's ok.</p>\n<pre><code>def getEnvName() {\n    envName = &quot;${JOB_NAME.split('/')[1]}&quot;\n}\n</code></pre>\n<p>I tried to use the plugin Active Choices (<a href=\"https://plugins.jenkins.io/uno-choice/\" rel=\"nofollow noreferrer\">https://plugins.jenkins.io/uno-choice/</a>) but I cannot pass envName to the parameter.</p>\n<p>Part of the implementation of the plugin in code.</p>\n<pre><code>properties([\nparameters([\n    [$class: 'ChoiceParameter', \n        choiceType: 'PT_SINGLE_SELECT', \n        name: 'Env', \n        script: [\n            $class: 'GroovyScript', \n            fallbackScript: [\n                classpath: [], \n                sandbox: false, \n                script: \n                    'return[\\'Could not get Env\\']'\n            ], \n            script: [\n                classpath: [], \n                sandbox: false, \n                script: '''\n                    HERE I NEED MY envName VARIABLE\n                    '''\n            ]\n        ]\n    ], \n    [$class: 'CascadeChoiceParameter', \n        choiceType: 'PT_SINGLE_SELECT', \n        name: 'Server', \n        referencedParameters: 'Env', \n        script: [\n            $class: 'GroovyScript', \n            fallbackScript: [\n                classpath: [], \n                sandbox: false, \n                script: \n                    'return[\\'Could not get Environment from Env Param\\']'\n            ], \n            script: [\n                classpath: [], \n                sandbox: false, \n                script: \n                    ''' if (Env.equals(&quot;test&quot;)){\n                            return[&quot;test1&quot;,&quot;test2&quot;,&quot;test3&quot;,&quot;test4&quot;,&quot;test5&quot;,&quot;test5&quot;]\n                        }\n                        else if(Env.equals(&quot;dev&quot;)){\n                            return[&quot;dev1&quot;,&quot;dev2&quot;,&quot;dev3&quot;]\n                        }\n                    '''\n            ]\n        ]\n    ]\n])\n])\n</code></pre>\n<p>Has anyone tried to do something like this?\nI'm open to any solution. Thanks!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":462886,"reputation":2853,"user_id":865448,"accept_rate":82,"display_name":"tostao"},"score":0,"creation_date":1686055918,"post_id":76411549,"comment_id":134744247,"body_markdown":"Someone had same problem, here is the solution: https://stackoverflow.com/a/37799795/865448","body":"Someone had same problem, here is the solution: <a href=\"https://stackoverflow.com/a/37799795/865448\">stackoverflow.com/a/37799795/865448</a>"}],"answers":[{"tags":[],"owner":{"account_id":9761453,"reputation":127,"user_id":7236415,"display_name":"Tonecops"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1692485637,"creation_date":1686027513,"answer_id":76411550,"question_id":76411549,"body_markdown":"Answer to the question is this class which let&#39;s you to decide the colors for background and text and for the button itself. Other design point is to optimize it to be typed extremely easily in debugging context - reason for breaking the camel case syntax which I never do. I don&#39;t feel bad about it. You can change that one letter...i guess. Text of the used JTextPane length can be anything and scroll bar gets exited if the text grows long. It is easily callable alternative utility class for JOptionPane. One thing worth of notice is that the info method smells it is not part of GUI Event Dispatch Thread(EDT) execution.If not it assigns itself as EDT task. You can choose if it stops(blocking function) execution or not. No EDT violation happens in any case. Basic usage is msgbox.info(&quot;hello&quot;) If you want to print some of the top of the stack trace bundled is one utility function named msgbox.stackTop(numStackelements) \r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.image.BufferedImage;\r\n    \r\n    public class msgbox implements ActionListener {\r\n        //**********************************************\r\n        JButton okButton;\r\n        JFrame frame;\r\n    \r\n        public msgbox(String msg) {\r\n    \r\n            frame = new JFrame(&quot;&quot;);\r\n            //buffered image replaces white JAVA icon with nothing\r\n            Image icon = new BufferedImage(1, 1, BufferedImage.TYPE_INT_ARGB_PRE);\r\n            frame.setIconImage(icon);\r\n    \r\n            frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n            Container contPane = frame.getContentPane();\r\n            contPane.setLayout(new BorderLayout());\r\n            JTextPane info = new JTextPane();\r\n            JScrollPane scroll = initJTextPane(info, msg);\r\n            contPane.add(scroll, BorderLayout.CENTER);\r\n    \r\n            JPanel buttonPanel = new JPanel(); //Flow layout by default\r\n            buttonPanel.setBackground(new Color(0, 0, 0));\r\n            buttonPanel.setForeground(new Color(107, 216, 61));\r\n            okButton = new JButton(&quot;OK&quot;);\r\n            okButton.addActionListener(this);\r\n            okButton.setBackground(new Color(0, 0, 0));\r\n            okButton.setForeground(new Color(107, 216, 61));\r\n            buttonPanel.add(okButton);\r\n            contPane.add(buttonPanel, BorderLayout.SOUTH);\r\n    \r\n            //screen size investigation \r\n            // in case we need to put msg to a particular place\r\n            //this is REAL screen size like GPU sets it for monitor\r\n            GraphicsDevice gd = GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice();\r\n            int width = gd.getDisplayMode().getWidth();//3840 i.e GPU setting\r\n            int height = gd.getDisplayMode().getHeight();//2160  GPU\r\n            //next is what java uses when display in Windows desktop scaling setting is set to for example 250%\r\n            //pixels get stretched....\r\n            int screenWidth = Toolkit.getDefaultToolkit().getScreenSize().width;//1536 when desktop is scaled 250%\r\n            int screenHeight = Toolkit.getDefaultToolkit().getScreenSize().height;//864 when desktop is scaled to 250%\r\n            //put message in the middle of the screen\r\n            frame.setLocation(screenWidth / 2, screenHeight / 2);\r\n            frame.pack();//calls addNotify....\r\n            frame.setVisible(true);\r\n            frame.setAlwaysOnTop(true);\r\n            frame.toFront();\r\n            frame.requestFocus();\r\n            frame.repaint();\r\n        }\r\n    \r\n        //*************************************************\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            String actionCommand = e.getActionCommand();\r\n            String butCommand = okButton.getActionCommand();\r\n            if (actionCommand.equalsIgnoreCase(butCommand))\r\n                frame.dispose();\r\n        }\r\n    \r\n        //*********************************************\r\n        public JScrollPane initJTextPane(JTextPane infoPan, String msg) {\r\n            infoPan.setBackground(new Color(25, 25, 39));\r\n            infoPan.setForeground(new Color(95, 164, 90));\r\n            infoPan.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 14));\r\n            infoPan.setText(msg);\r\n            infoPan.setVisible(true);\r\n            JScrollPane scrollPane = new JScrollPane(infoPan);\r\n            return scrollPane;\r\n        }\r\n    \r\n        //********************************************\r\n        public static void info(String msg) {\r\n            try {\r\n                if (!javax.swing.SwingUtilities.isEventDispatchThread()) {\r\n                    //started from plain java main, so assign to EDT\r\n                    Runnable task = () -&gt; new msgbox(msg);\r\n                    try {\r\n                        SwingUtilities.invokeLater(task);//non blocking\r\n                        //SwingUtilities.invokeAndWait(task);//blocking\r\n                    } catch (Exception ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n                } else {\r\n                    //we are initially in EDT, called from dispatch thread\r\n                    new msgbox(msg);\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        //***********************************************\r\n        public static void main(String[] args) throws Exception {\r\n            stackTop(&quot;base message!\\n&quot;, 15);\r\n        }\r\n    \r\n        //***********************************************\r\n        //UTILS\r\n        //stacktop prints given number of current thread stack items including\r\n        //this stacktop call.Message can be attached as first printed element\r\n        public static void stackTop(String rootMsg, int elemLimit) {\r\n    \r\n            StackTraceElement[] stack = Thread.currentThread().getStackTrace();\r\n            int howMany = elemLimit;\r\n            int available = stack.length;\r\n            if (howMany &gt; available)\r\n                howMany = available;\r\n            for (int i = 1; i &lt; howMany; ++i) {\r\n                rootMsg += stack[i] + &quot;\\n&quot;;\r\n            }\r\n            info(rootMsg);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"What would be alternative UI component for JOptionPane so that colors can be fully designed?","body":"<p>Answer to the question is this class which let's you to decide the colors for background and text and for the button itself. Other design point is to optimize it to be typed extremely easily in debugging context - reason for breaking the camel case syntax which I never do. I don't feel bad about it. You can change that one letter...i guess. Text of the used JTextPane length can be anything and scroll bar gets exited if the text grows long. It is easily callable alternative utility class for JOptionPane. One thing worth of notice is that the info method smells it is not part of GUI Event Dispatch Thread(EDT) execution.If not it assigns itself as EDT task. You can choose if it stops(blocking function) execution or not. No EDT violation happens in any case. Basic usage is msgbox.info(&quot;hello&quot;) If you want to print some of the top of the stack trace bundled is one utility function named msgbox.stackTop(numStackelements)</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.image.BufferedImage;\n\npublic class msgbox implements ActionListener {\n    //**********************************************\n    JButton okButton;\n    JFrame frame;\n\n    public msgbox(String msg) {\n\n        frame = new JFrame(&quot;&quot;);\n        //buffered image replaces white JAVA icon with nothing\n        Image icon = new BufferedImage(1, 1, BufferedImage.TYPE_INT_ARGB_PRE);\n        frame.setIconImage(icon);\n\n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n        Container contPane = frame.getContentPane();\n        contPane.setLayout(new BorderLayout());\n        JTextPane info = new JTextPane();\n        JScrollPane scroll = initJTextPane(info, msg);\n        contPane.add(scroll, BorderLayout.CENTER);\n\n        JPanel buttonPanel = new JPanel(); //Flow layout by default\n        buttonPanel.setBackground(new Color(0, 0, 0));\n        buttonPanel.setForeground(new Color(107, 216, 61));\n        okButton = new JButton(&quot;OK&quot;);\n        okButton.addActionListener(this);\n        okButton.setBackground(new Color(0, 0, 0));\n        okButton.setForeground(new Color(107, 216, 61));\n        buttonPanel.add(okButton);\n        contPane.add(buttonPanel, BorderLayout.SOUTH);\n\n        //screen size investigation \n        // in case we need to put msg to a particular place\n        //this is REAL screen size like GPU sets it for monitor\n        GraphicsDevice gd = GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice();\n        int width = gd.getDisplayMode().getWidth();//3840 i.e GPU setting\n        int height = gd.getDisplayMode().getHeight();//2160  GPU\n        //next is what java uses when display in Windows desktop scaling setting is set to for example 250%\n        //pixels get stretched....\n        int screenWidth = Toolkit.getDefaultToolkit().getScreenSize().width;//1536 when desktop is scaled 250%\n        int screenHeight = Toolkit.getDefaultToolkit().getScreenSize().height;//864 when desktop is scaled to 250%\n        //put message in the middle of the screen\n        frame.setLocation(screenWidth / 2, screenHeight / 2);\n        frame.pack();//calls addNotify....\n        frame.setVisible(true);\n        frame.setAlwaysOnTop(true);\n        frame.toFront();\n        frame.requestFocus();\n        frame.repaint();\n    }\n\n    //*************************************************\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        String actionCommand = e.getActionCommand();\n        String butCommand = okButton.getActionCommand();\n        if (actionCommand.equalsIgnoreCase(butCommand))\n            frame.dispose();\n    }\n\n    //*********************************************\n    public JScrollPane initJTextPane(JTextPane infoPan, String msg) {\n        infoPan.setBackground(new Color(25, 25, 39));\n        infoPan.setForeground(new Color(95, 164, 90));\n        infoPan.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 14));\n        infoPan.setText(msg);\n        infoPan.setVisible(true);\n        JScrollPane scrollPane = new JScrollPane(infoPan);\n        return scrollPane;\n    }\n\n    //********************************************\n    public static void info(String msg) {\n        try {\n            if (!javax.swing.SwingUtilities.isEventDispatchThread()) {\n                //started from plain java main, so assign to EDT\n                Runnable task = () -&gt; new msgbox(msg);\n                try {\n                    SwingUtilities.invokeLater(task);//non blocking\n                    //SwingUtilities.invokeAndWait(task);//blocking\n                } catch (Exception ex) {\n                    ex.printStackTrace();\n                }\n            } else {\n                //we are initially in EDT, called from dispatch thread\n                new msgbox(msg);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    //***********************************************\n    public static void main(String[] args) throws Exception {\n        stackTop(&quot;base message!\\n&quot;, 15);\n    }\n\n    //***********************************************\n    //UTILS\n    //stacktop prints given number of current thread stack items including\n    //this stacktop call.Message can be attached as first printed element\n    public static void stackTop(String rootMsg, int elemLimit) {\n\n        StackTraceElement[] stack = Thread.currentThread().getStackTrace();\n        int howMany = elemLimit;\n        int available = stack.length;\n        if (howMany &gt; available)\n            howMany = available;\n        for (int i = 1; i &lt; howMany; ++i) {\n            rootMsg += stack[i] + &quot;\\n&quot;;\n        }\n        info(rootMsg);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686110967,"creation_date":1686089664,"answer_id":76418785,"question_id":76411549,"body_markdown":"There are multiple ways in which you might achieve this.  You could, for instance, create you own custom Look and Feel delegate ... although to be honest, I wouldn&#39;t recommend it.\r\n\r\nAnother solution would be to build your own custom dialog, which would give you control over these types of decisions.  This is where you begin to understand just how powerful and complex `JOptionPane` actually is.\r\n\r\nThis is a basic concept I just whipped, based on builder pattern...\r\n\r\n    public class MessageDialog {\r\n        public enum Action {\r\n            OKAY, CANCEL;\r\n        }\r\n\r\n        public enum Type {\r\n            ERROR(UIManager.getLookAndFeel().getDefaults().getIcon(&quot;OptionPane.errorIcon&quot;)),\r\n            INFO(UIManager.getLookAndFeel().getDefaults().getIcon(&quot;OptionPane.informationIcon&quot;)),\r\n            WARNING(UIManager.getLookAndFeel().getDefaults().getIcon(&quot;OptionPane.warningIcon&quot;)),\r\n            QUESTION(UIManager.getLookAndFeel().getDefaults().getIcon(&quot;OptionPane.questionIcon&quot;));\r\n\r\n            private Icon icon;\r\n\r\n            private Type(Icon icon) {\r\n                this.icon = icon;\r\n            }\r\n\r\n            public Icon getIcon() {\r\n                return icon;\r\n            }\r\n        }\r\n\r\n        private String title;\r\n        private Object message;\r\n        private Icon icon;\r\n        private List&lt;Action&gt; actions;\r\n        \r\n        private Action value;\r\n        private JDialog dialog;\r\n\r\n        public MessageDialog() {\r\n            actions = new ArrayList&lt;&gt;(8);\r\n        }\r\n\r\n        public MessageDialog withTitle(String title) {\r\n            this.title = title;\r\n            return this;\r\n        }\r\n\r\n        public MessageDialog withMessage(String message) {\r\n            this.message = message;\r\n            return this;\r\n        }\r\n\r\n        public MessageDialog withType(Type type) {\r\n            return withIcon(type.getIcon());\r\n        }\r\n\r\n        public MessageDialog withIcon(Icon icon) {\r\n            this.icon = icon;\r\n            return this;\r\n        }\r\n\r\n        public MessageDialog withIcon(ImageIcon image) {\r\n            return withIcon((Icon) image);\r\n        }\r\n\r\n        public MessageDialog withIcon(BufferedImage image) {\r\n            return withIcon(new ImageIcon(image));\r\n        }\r\n\r\n        public MessageDialog withAction(Action action) {\r\n            if (!actions.contains(action)) {\r\n                actions.add(action);\r\n            }\r\n            return this;\r\n        }\r\n\r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n\r\n        public Object getMessage() {\r\n            return message;\r\n        }\r\n\r\n        public Icon getIcon() {\r\n            return icon;\r\n        }\r\n\r\n        public List&lt;Action&gt; getActions() {\r\n            return actions;\r\n        }\r\n\r\n        protected JDialog makeDialog(Component owner, String title) {\r\n            Window window = owner == null ? null : SwingUtilities.windowForComponent(owner);\r\n            dialog = new JDialog(window, title);\r\n            dialog.setModal(true);\r\n            return dialog;\r\n        }\r\n\r\n        protected JComponent makeMessageComponent() {\r\n            Object message = getMessage();\r\n            if (message instanceof JComponent) {\r\n                return (JComponent) message;\r\n            }\r\n\r\n            return new JLabel(message.toString());\r\n        }\r\n\r\n        protected JComponent makeIconComponent() {\r\n            Icon icon = getIcon();\r\n            if (icon == null) {\r\n                return null;\r\n            }\r\n            return new JLabel(icon);\r\n        }\r\n\r\n        protected JComponent makeActionsComponent() {\r\n            JPanel pane = new JPanel(new GridBagLayout());\r\n            pane.setOpaque(false);\r\n\r\n            List&lt;Action&gt; actions = getActions();\r\n            if (!actions.isEmpty()) {\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.weightx = 1;\r\n                gbc.insets = new Insets(4, 4, 4, 4);\r\n                gbc.anchor = GridBagConstraints.LINE_END;\r\n                for (Action action : actions) {\r\n                    String text = &quot;&quot;;\r\n                    switch (action) {\r\n                        case OKAY: \r\n                            text = &quot;Ok&quot;;\r\n                            break;\r\n                        case CANCEL: \r\n                            text = &quot;Cancel&quot;;\r\n                            break;\r\n                    }\r\n                    if (text.isBlank()) {\r\n                        continue;\r\n                    }\r\n                    JButton btn = new JButton(text);\r\n                    btn.addActionListener(new ActionListener() {\r\n                        @Override\r\n                        public void actionPerformed(ActionEvent e) {\r\n                            setValue(action);\r\n                        }\r\n                    });\r\n                    \r\n                    pane.add(btn, gbc);\r\n                    \r\n                    gbc.gridx++;\r\n                    gbc.weightx = 0;\r\n                }\r\n            }\r\n\r\n            return pane;\r\n        }\r\n        \r\n        protected JDialog getDialog() {\r\n            return dialog;\r\n        }\r\n        \r\n        protected void setValue(Action action) {\r\n            this.value = action;\r\n            JDialog dialog = getDialog();\r\n            if (dialog != null) {\r\n                dialog.dispose();\r\n            }\r\n        }\r\n\r\n        public Action getValue() {\r\n            return value;\r\n        }\r\n        \r\n        protected JComponent makeContentComponent() {\r\n            JPanel pane = new JPanel(new BorderLayout());\r\n            pane.setOpaque(false);\r\n            pane.setBorder(new EmptyBorder(16, 16, 8, 16));\r\n            return pane;\r\n        }\r\n\r\n        public Action show(Component owner, String title) {\r\n            JDialog dialog = makeDialog(owner, title);\r\n            \r\n            JPanel bodyPane = new JPanel(new BorderLayout(8, 8));\r\n            bodyPane.setOpaque(false);\r\n            bodyPane.add(makeIconComponent(), BorderLayout.LINE_START);\r\n            bodyPane.add(makeMessageComponent());\r\n            \r\n            JComponent content = makeContentComponent();\r\n            content.setLayout(new BorderLayout(16, 16));\r\n            \r\n            content.add(bodyPane);\r\n            content.add(makeActionsComponent(), BorderLayout.SOUTH);\r\n            \r\n            dialog.add(content);\r\n            dialog.pack();\r\n            dialog.setLocationRelativeTo(owner);\r\n            \r\n            dialog.setVisible(true);\r\n            \r\n            return getValue();\r\n        }\r\n    }\r\n\r\nwhich you would use something like...\r\n\r\n    MessageDialog.Action action = new MessageDialog()\r\n            .withType(MessageDialog.Type.INFO)\r\n            .withMessage(&quot;This is a message&quot;)\r\n            .withAction(MessageDialog.Action.OKAY)\r\n            .show(null, &quot;What&#39;s up&quot;);\r\n\r\nand would present something like...\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNow please beware, there are some limitations with this implementation, like what to do if the user closes the dialog.  You&#39;d need to decide which is the default action or maybe even return a custom &quot;closed&quot; (the user made no choice) action instead.\r\n\r\nBut how does this help you?\r\n\r\nWell, you could customise the way in which the class works, for example...\r\n\r\n    public class CustomMessageDialog extends MessageDialog {\r\n        @Override\r\n        protected JDialog makeDialog(Component owner, String title) {\r\n            JDialog dialog = super.makeDialog(owner, title);\r\n            dialog.getContentPane().setBackground(Color.RED);\r\n            return dialog;\r\n        }\r\n        \r\n    }\r\n\r\nWhen used with...\r\n\r\n    MessageDialog.Action action = new CustomMessageDialog()\r\n            .withType(MessageDialog.Type.INFO)\r\n            .withMessage(&quot;This is a message&quot;)\r\n            .withAction(MessageDialog.Action.OKAY)\r\n            .show(null, &quot;What&#39;s up&quot;);\r\n\r\nwill present...\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nYou could even take the time to design a concept of &quot;configuration&quot; which could be used to customise various aspects of the dialog and it&#39;s content, but we&#39;re drifting over into the look and feel delegate&#39;s territory.\r\n\r\nMy gut feeling is, if you&#39;re creating a &quot;custom&quot; UI, you&#39;d be better off looking at the UI defaults for the current look and feel or actually creating your own custom look and feel.\r\n\r\nIf you&#39;re looking to just &quot;jazz&quot; up the UI a little, then you&#39;re going to need to look at designing some of your own features to fill the gaps - IMHO\r\n\r\nI&#39;d even consider having a look and some pre-existing libraries, like [SwingX](https://github.com/arotenberg/swingx) which already have some pre-built functionality along these lines\r\n\r\n\r\n----------\r\n\r\n&gt; I have white allergy(i.e. whites limit the length of the programming day and incite epileptic condition) so there is a strong personal need to make UIs soft high contrast\r\n\r\nThen I would consider starting either with a complete custom look and feel or, at the very least, modifying the core look and feel defaults, as a very crude example...\r\n\r\n[![enter image description here][3]][3]\r\n\r\n    try {        UIManager.setLookAndFeel(UIManager.getCrossPlatformLookAndFeelClassName());\r\n\r\n        UIManager.put(&quot;OptionPane.background&quot;, Color.RED);\r\n        UIManager.put(&quot;Panel.background&quot;, Color.RED);                    \r\n        UIManager.put(&quot;Button.background&quot;, Color.GREEN);\r\n\r\n        JOptionPane.showConfirmDialog(null, &quot;This is a test&quot;, &quot;Testing&quot;, JOptionPane.YES_NO_CANCEL_OPTION, JOptionPane.QUESTION_MESSAGE);\r\n    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n    }\r\n\r\nIt&#39;s important to note that I specifically set the look and feel to the &quot;cross platform&quot; (AKA metal) look and feel.  This is deliberate, as on macOS, the look and feel has a habit of ignoring some of these properties.\r\n\r\n  [1]: https://i.stack.imgur.com/du0XQ.png\r\n  [2]: https://i.stack.imgur.com/krkQo.png\r\n  [3]: https://i.stack.imgur.com/GsLsw.png","title":"What would be alternative UI component for JOptionPane so that colors can be fully designed?","body":"<p>There are multiple ways in which you might achieve this.  You could, for instance, create you own custom Look and Feel delegate ... although to be honest, I wouldn't recommend it.</p>\n<p>Another solution would be to build your own custom dialog, which would give you control over these types of decisions.  This is where you begin to understand just how powerful and complex <code>JOptionPane</code> actually is.</p>\n<p>This is a basic concept I just whipped, based on builder pattern...</p>\n<pre><code>public class MessageDialog {\n    public enum Action {\n        OKAY, CANCEL;\n    }\n\n    public enum Type {\n        ERROR(UIManager.getLookAndFeel().getDefaults().getIcon(&quot;OptionPane.errorIcon&quot;)),\n        INFO(UIManager.getLookAndFeel().getDefaults().getIcon(&quot;OptionPane.informationIcon&quot;)),\n        WARNING(UIManager.getLookAndFeel().getDefaults().getIcon(&quot;OptionPane.warningIcon&quot;)),\n        QUESTION(UIManager.getLookAndFeel().getDefaults().getIcon(&quot;OptionPane.questionIcon&quot;));\n\n        private Icon icon;\n\n        private Type(Icon icon) {\n            this.icon = icon;\n        }\n\n        public Icon getIcon() {\n            return icon;\n        }\n    }\n\n    private String title;\n    private Object message;\n    private Icon icon;\n    private List&lt;Action&gt; actions;\n    \n    private Action value;\n    private JDialog dialog;\n\n    public MessageDialog() {\n        actions = new ArrayList&lt;&gt;(8);\n    }\n\n    public MessageDialog withTitle(String title) {\n        this.title = title;\n        return this;\n    }\n\n    public MessageDialog withMessage(String message) {\n        this.message = message;\n        return this;\n    }\n\n    public MessageDialog withType(Type type) {\n        return withIcon(type.getIcon());\n    }\n\n    public MessageDialog withIcon(Icon icon) {\n        this.icon = icon;\n        return this;\n    }\n\n    public MessageDialog withIcon(ImageIcon image) {\n        return withIcon((Icon) image);\n    }\n\n    public MessageDialog withIcon(BufferedImage image) {\n        return withIcon(new ImageIcon(image));\n    }\n\n    public MessageDialog withAction(Action action) {\n        if (!actions.contains(action)) {\n            actions.add(action);\n        }\n        return this;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public Object getMessage() {\n        return message;\n    }\n\n    public Icon getIcon() {\n        return icon;\n    }\n\n    public List&lt;Action&gt; getActions() {\n        return actions;\n    }\n\n    protected JDialog makeDialog(Component owner, String title) {\n        Window window = owner == null ? null : SwingUtilities.windowForComponent(owner);\n        dialog = new JDialog(window, title);\n        dialog.setModal(true);\n        return dialog;\n    }\n\n    protected JComponent makeMessageComponent() {\n        Object message = getMessage();\n        if (message instanceof JComponent) {\n            return (JComponent) message;\n        }\n\n        return new JLabel(message.toString());\n    }\n\n    protected JComponent makeIconComponent() {\n        Icon icon = getIcon();\n        if (icon == null) {\n            return null;\n        }\n        return new JLabel(icon);\n    }\n\n    protected JComponent makeActionsComponent() {\n        JPanel pane = new JPanel(new GridBagLayout());\n        pane.setOpaque(false);\n\n        List&lt;Action&gt; actions = getActions();\n        if (!actions.isEmpty()) {\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.weightx = 1;\n            gbc.insets = new Insets(4, 4, 4, 4);\n            gbc.anchor = GridBagConstraints.LINE_END;\n            for (Action action : actions) {\n                String text = &quot;&quot;;\n                switch (action) {\n                    case OKAY: \n                        text = &quot;Ok&quot;;\n                        break;\n                    case CANCEL: \n                        text = &quot;Cancel&quot;;\n                        break;\n                }\n                if (text.isBlank()) {\n                    continue;\n                }\n                JButton btn = new JButton(text);\n                btn.addActionListener(new ActionListener() {\n                    @Override\n                    public void actionPerformed(ActionEvent e) {\n                        setValue(action);\n                    }\n                });\n                \n                pane.add(btn, gbc);\n                \n                gbc.gridx++;\n                gbc.weightx = 0;\n            }\n        }\n\n        return pane;\n    }\n    \n    protected JDialog getDialog() {\n        return dialog;\n    }\n    \n    protected void setValue(Action action) {\n        this.value = action;\n        JDialog dialog = getDialog();\n        if (dialog != null) {\n            dialog.dispose();\n        }\n    }\n\n    public Action getValue() {\n        return value;\n    }\n    \n    protected JComponent makeContentComponent() {\n        JPanel pane = new JPanel(new BorderLayout());\n        pane.setOpaque(false);\n        pane.setBorder(new EmptyBorder(16, 16, 8, 16));\n        return pane;\n    }\n\n    public Action show(Component owner, String title) {\n        JDialog dialog = makeDialog(owner, title);\n        \n        JPanel bodyPane = new JPanel(new BorderLayout(8, 8));\n        bodyPane.setOpaque(false);\n        bodyPane.add(makeIconComponent(), BorderLayout.LINE_START);\n        bodyPane.add(makeMessageComponent());\n        \n        JComponent content = makeContentComponent();\n        content.setLayout(new BorderLayout(16, 16));\n        \n        content.add(bodyPane);\n        content.add(makeActionsComponent(), BorderLayout.SOUTH);\n        \n        dialog.add(content);\n        dialog.pack();\n        dialog.setLocationRelativeTo(owner);\n        \n        dialog.setVisible(true);\n        \n        return getValue();\n    }\n}\n</code></pre>\n<p>which you would use something like...</p>\n<pre><code>MessageDialog.Action action = new MessageDialog()\n        .withType(MessageDialog.Type.INFO)\n        .withMessage(&quot;This is a message&quot;)\n        .withAction(MessageDialog.Action.OKAY)\n        .show(null, &quot;What's up&quot;);\n</code></pre>\n<p>and would present something like...</p>\n<p><a href=\"https://i.stack.imgur.com/du0XQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/du0XQ.png\" alt=\"enter image description here\" /></a></p>\n<p>Now please beware, there are some limitations with this implementation, like what to do if the user closes the dialog.  You'd need to decide which is the default action or maybe even return a custom &quot;closed&quot; (the user made no choice) action instead.</p>\n<p>But how does this help you?</p>\n<p>Well, you could customise the way in which the class works, for example...</p>\n<pre><code>public class CustomMessageDialog extends MessageDialog {\n    @Override\n    protected JDialog makeDialog(Component owner, String title) {\n        JDialog dialog = super.makeDialog(owner, title);\n        dialog.getContentPane().setBackground(Color.RED);\n        return dialog;\n    }\n    \n}\n</code></pre>\n<p>When used with...</p>\n<pre><code>MessageDialog.Action action = new CustomMessageDialog()\n        .withType(MessageDialog.Type.INFO)\n        .withMessage(&quot;This is a message&quot;)\n        .withAction(MessageDialog.Action.OKAY)\n        .show(null, &quot;What's up&quot;);\n</code></pre>\n<p>will present...</p>\n<p><a href=\"https://i.stack.imgur.com/krkQo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/krkQo.png\" alt=\"enter image description here\" /></a></p>\n<p>You could even take the time to design a concept of &quot;configuration&quot; which could be used to customise various aspects of the dialog and it's content, but we're drifting over into the look and feel delegate's territory.</p>\n<p>My gut feeling is, if you're creating a &quot;custom&quot; UI, you'd be better off looking at the UI defaults for the current look and feel or actually creating your own custom look and feel.</p>\n<p>If you're looking to just &quot;jazz&quot; up the UI a little, then you're going to need to look at designing some of your own features to fill the gaps - IMHO</p>\n<p>I'd even consider having a look and some pre-existing libraries, like <a href=\"https://github.com/arotenberg/swingx\" rel=\"nofollow noreferrer\">SwingX</a> which already have some pre-built functionality along these lines</p>\n<hr />\n<blockquote>\n<p>I have white allergy(i.e. whites limit the length of the programming day and incite epileptic condition) so there is a strong personal need to make UIs soft high contrast</p>\n</blockquote>\n<p>Then I would consider starting either with a complete custom look and feel or, at the very least, modifying the core look and feel defaults, as a very crude example...</p>\n<p><a href=\"https://i.stack.imgur.com/GsLsw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GsLsw.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>try {        UIManager.setLookAndFeel(UIManager.getCrossPlatformLookAndFeelClassName());\n\n    UIManager.put(&quot;OptionPane.background&quot;, Color.RED);\n    UIManager.put(&quot;Panel.background&quot;, Color.RED);                    \n    UIManager.put(&quot;Button.background&quot;, Color.GREEN);\n\n    JOptionPane.showConfirmDialog(null, &quot;This is a test&quot;, &quot;Testing&quot;, JOptionPane.YES_NO_CANCEL_OPTION, JOptionPane.QUESTION_MESSAGE);\n} catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n}\n</code></pre>\n<p>It's important to note that I specifically set the look and feel to the &quot;cross platform&quot; (AKA metal) look and feel.  This is deliberate, as on macOS, the look and feel has a habit of ignoring some of these properties.</p>\n"}],"owner":{"account_id":9761453,"reputation":127,"user_id":7236415,"display_name":"Tonecops"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692485637,"creation_date":1686027513,"question_id":76411549,"body_markdown":"The default Swing JOptionPane does not implement backgound color for the actual text. There is UIManager.put(&quot;OptionPane.background&quot;, Color.WHITE); But that does not do the job, because it only changes color of underlying panel.The actual text still stays on grey background. This can be verified by viewing JOptionpane code. Also if you fire google search for &quot;Joptionpane background&quot; and switch to image search you see that every single result has grey backgound under \r\nactual text. \r\nSo the question is what would be alternative UI component for JOptionPane so that colors can be fully designed?\r\n\r\n","title":"What would be alternative UI component for JOptionPane so that colors can be fully designed?","body":"<p>The default Swing JOptionPane does not implement backgound color for the actual text. There is UIManager.put(&quot;OptionPane.background&quot;, Color.WHITE); But that does not do the job, because it only changes color of underlying panel.The actual text still stays on grey background. This can be verified by viewing JOptionpane code. Also if you fire google search for &quot;Joptionpane background&quot; and switch to image search you see that every single result has grey backgound under\nactual text.\nSo the question is what would be alternative UI component for JOptionPane so that colors can be fully designed?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1692485984,"post_id":76937296,"comment_id":135630239,"body_markdown":"That&#39;s really a table in itself isn&#39;t it? It should probably be its own entity","body":"That&#39;s really a table in itself isn&#39;t it? It should probably be its own entity"},{"owner":{"account_id":10607023,"reputation":111,"user_id":7812031,"display_name":"HankY"},"score":0,"creation_date":1692504299,"post_id":76937296,"comment_id":135631284,"body_markdown":"@g00se What do you mean by table?","body":"@g00se What do you mean by table?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692518278,"post_id":76937296,"comment_id":135632218,"body_markdown":"In a fully normalized RDBMS, that `Map` you have would be represented by its own table","body":"In a fully normalized RDBMS, that <code>Map</code> you have would be represented by its own table"},{"owner":{"account_id":10607023,"reputation":111,"user_id":7812031,"display_name":"HankY"},"score":0,"creation_date":1692545724,"post_id":76937296,"comment_id":135635139,"body_markdown":"Would you mind answering below how I would implement it as an entity?","body":"Would you mind answering below how I would implement it as an entity?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1692548843,"post_id":76937296,"comment_id":135635489,"body_markdown":"You could simply have a `class BalanceHistory { private Map&lt;LocalDate, Double&gt; balanceHistory = new TreeMap&lt;&gt;(); }` Keep the `Map` implementation open. For one thing, changes in collections are on the horizon in Java","body":"You could simply have a <code>class BalanceHistory { private Map&lt;LocalDate, Double&gt; balanceHistory = new TreeMap&lt;&gt;(); }</code> Keep the <code>Map</code> implementation open. For one thing, changes in collections are on the horizon in Java"}],"owner":{"account_id":10607023,"reputation":111,"user_id":7812031,"display_name":"HankY"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692484776,"creation_date":1692484776,"question_id":76937296,"body_markdown":"Here is the GitHub repo of my Spring Boot application that I have trouble with: [click me](https://github.com/HanYuanHsu/shepherd-money/tree/master). \r\n\r\nI was trying to do `./gradlew bootRun` to start this application, but then I got the following error:\r\n```\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n15:06:01.730 ERROR --- [           main] o.springframework.boot.SpringApplication:820 : Application run failed\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Could not determine recommended JdbcType for `java.util.TreeMap&lt;java.time.LocalDate, java.lang.Double&gt;`\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)\r\n        at com.shepherdmoney.interviewproject.InterviewProjectApplication.main(InterviewProjectApplication.java:32)\r\nCaused by: org.hibernate.type.descriptor.java.spi.JdbcTypeRecommendationException: Could not determine recommended JdbcType for `java.util.TreeMap&lt;java.time.LocalDate, java.lang.Double&gt;`\r\n        at org.hibernate.type.descriptor.java.spi.UnknownBasicJavaType.getRecommendedJdbcType(UnknownBasicJavaType.java:37)\r\n        at org.hibernate.boot.model.process.internal.InferredBasicValueResolver.from(InferredBasicValueResolver.java:222)\r\n        at org.hibernate.mapping.BasicValue.buildResolution(BasicValue.java:507)\r\n        at org.hibernate.mapping.BasicValue.resolve(BasicValue.java:315)\r\n        at org.hibernate.mapping.BasicValue.resolve(BasicValue.java:305)\r\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.lambda$processValueResolvers$4(InFlightMetadataCollectorImpl.java:1767)\r\nhankevin@DESKTOP-CH9NBS4:/mnt/c/Users/a0306/shepherd-money$\r\n        at java.base/java.util.ArrayList.removeIf(ArrayList.java:1660)\r\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processValueResolvers(InFlightMetadataCollectorImpl.java:1766)\r\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1752)\r\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:300)\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1350)\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1421)\r\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)\r\n        ... 16 common frames omitted\r\n\r\n&gt; Task :bootRun FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:bootRun&#39;.\r\n&gt; Process &#39;command &#39;/usr/lib/jvm/java-17-openjdk-amd64/bin/java&#39;&#39; finished with non-zero exit value 1\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 17s\r\n4 actionable tasks: 3 executed, 1 up-to-date\r\n```\r\n\r\nI saw the sentence &quot;Could not determine recommended JdbcType for `java.util.TreeMap&lt;java.time.LocalDate, java.lang.Double&gt;`&quot;. Here is the CreditCard class, which has a variable `balanceHistory` of the type:\r\n```\r\npackage com.shepherdmoney.interviewproject.model;\r\n\r\nimport com.shepherdmoney.interviewproject.repository.UserRepository;\r\nimport lombok.Getter;\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.Setter;\r\nimport lombok.ToString;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.Optional;\r\nimport java.util.TreeMap;\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@ToString\r\n@RequiredArgsConstructor\r\npublic class CreditCard {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private int id;\r\n\r\n    private String issuanceBank;\r\n\r\n    private String number;\r\n\r\n    private int userId; // the id of the user\r\n\r\n    private TreeMap&lt;LocalDate, Double&gt; balanceHistory = new TreeMap&lt;&gt;();\r\n\r\n    public CreditCard(int userId) {\r\n        this.userId = userId;\r\n\r\n        // initialize balance history. It must have a date value that matches today&#39;s date.\r\n        balanceHistory.put(LocalDate.now(), 0.0);\r\n    }\r\n\r\n    public CreditCard(String issuanceBank, String number, int userId) {\r\n        this.issuanceBank = issuanceBank;\r\n        this.number = number;\r\n        this.userId = userId;\r\n\r\n        // initialize balance history. It must have a date value that matches today&#39;s date.\r\n        balanceHistory.put(LocalDate.now(), 0.0);\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param ur the user repo of this application\r\n     * @return the name of this credit card&#39;s owner\r\n     */\r\n    public String getUsername(UserRepository ur) {\r\n        User u = ur.findById(userId).orElseThrow();\r\n        return u.getName();\r\n    }\r\n\r\n    // TODO: Credit card&#39;s balance history. It is a requirement that the dates in the balanceHistory \r\n    //       list must be in chronological order, with the most recent date appearing first in the list. \r\n    //       Additionally, the first object in the list must have a date value that matches today&#39;s date, \r\n    //       since it represents the current balance of the credit card. For example:\r\n    //       [\r\n    //         {date: &#39;2023-04-13&#39;, balance: 1500},\r\n    //         {date: &#39;2023-04-12&#39;, balance: 1200},\r\n    //         {date: &#39;2023-04-11&#39;, balance: 1000},\r\n    //         {date: &#39;2023-04-10&#39;, balance: 800}\r\n    //       ]\r\n\r\n    /**\r\n     * Given `date` and `balance`, update this credit card&#39;s balance history.\r\n     * Update means to add `balance` to the current balance at the date specified by `date`\r\n     * @param date\r\n     * @param balance\r\n     */\r\n    public void updateBalance(LocalDate date, double balance) {\r\n        double currentBalance = balanceHistory.getOrDefault(date, 0.0);\r\n        balanceHistory.put(date, currentBalance + balance);\r\n    }\r\n}\r\n```\r\n\r\nAny help would be appreciated!","title":"Could not determine recommended JdbcType for `java.util.TreeMap&lt;java.time.LocalDate, java.lang.Double&gt;`","body":"<p>Here is the GitHub repo of my Spring Boot application that I have trouble with: <a href=\"https://github.com/HanYuanHsu/shepherd-money/tree/master\" rel=\"nofollow noreferrer\">click me</a>.</p>\n<p>I was trying to do <code>./gradlew bootRun</code> to start this application, but then I got the following error:</p>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n15:06:01.730 ERROR --- [           main] o.springframework.boot.SpringApplication:820 : Application run failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Could not determine recommended JdbcType for `java.util.TreeMap&lt;java.time.LocalDate, java.lang.Double&gt;`\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)\n        at com.shepherdmoney.interviewproject.InterviewProjectApplication.main(InterviewProjectApplication.java:32)\nCaused by: org.hibernate.type.descriptor.java.spi.JdbcTypeRecommendationException: Could not determine recommended JdbcType for `java.util.TreeMap&lt;java.time.LocalDate, java.lang.Double&gt;`\n        at org.hibernate.type.descriptor.java.spi.UnknownBasicJavaType.getRecommendedJdbcType(UnknownBasicJavaType.java:37)\n        at org.hibernate.boot.model.process.internal.InferredBasicValueResolver.from(InferredBasicValueResolver.java:222)\n        at org.hibernate.mapping.BasicValue.buildResolution(BasicValue.java:507)\n        at org.hibernate.mapping.BasicValue.resolve(BasicValue.java:315)\n        at org.hibernate.mapping.BasicValue.resolve(BasicValue.java:305)\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.lambda$processValueResolvers$4(InFlightMetadataCollectorImpl.java:1767)\nhankevin@DESKTOP-CH9NBS4:/mnt/c/Users/a0306/shepherd-money$\n        at java.base/java.util.ArrayList.removeIf(ArrayList.java:1660)\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processValueResolvers(InFlightMetadataCollectorImpl.java:1766)\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1752)\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:300)\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1350)\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1421)\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)\n        ... 16 common frames omitted\n\n&gt; Task :bootRun FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':bootRun'.\n&gt; Process 'command '/usr/lib/jvm/java-17-openjdk-amd64/bin/java'' finished with non-zero exit value 1\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 17s\n4 actionable tasks: 3 executed, 1 up-to-date\n</code></pre>\n<p>I saw the sentence &quot;Could not determine recommended JdbcType for <code>java.util.TreeMap&lt;java.time.LocalDate, java.lang.Double&gt;</code>&quot;. Here is the CreditCard class, which has a variable <code>balanceHistory</code> of the type:</p>\n<pre><code>package com.shepherdmoney.interviewproject.model;\n\nimport com.shepherdmoney.interviewproject.repository.UserRepository;\nimport lombok.Getter;\nimport lombok.RequiredArgsConstructor;\nimport lombok.Setter;\nimport lombok.ToString;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\n\nimport java.time.LocalDate;\nimport java.util.Optional;\nimport java.util.TreeMap;\n\n@Entity\n@Getter\n@Setter\n@ToString\n@RequiredArgsConstructor\npublic class CreditCard {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n\n    private String issuanceBank;\n\n    private String number;\n\n    private int userId; // the id of the user\n\n    private TreeMap&lt;LocalDate, Double&gt; balanceHistory = new TreeMap&lt;&gt;();\n\n    public CreditCard(int userId) {\n        this.userId = userId;\n\n        // initialize balance history. It must have a date value that matches today's date.\n        balanceHistory.put(LocalDate.now(), 0.0);\n    }\n\n    public CreditCard(String issuanceBank, String number, int userId) {\n        this.issuanceBank = issuanceBank;\n        this.number = number;\n        this.userId = userId;\n\n        // initialize balance history. It must have a date value that matches today's date.\n        balanceHistory.put(LocalDate.now(), 0.0);\n    }\n\n    /**\n     *\n     * @param ur the user repo of this application\n     * @return the name of this credit card's owner\n     */\n    public String getUsername(UserRepository ur) {\n        User u = ur.findById(userId).orElseThrow();\n        return u.getName();\n    }\n\n    // TODO: Credit card's balance history. It is a requirement that the dates in the balanceHistory \n    //       list must be in chronological order, with the most recent date appearing first in the list. \n    //       Additionally, the first object in the list must have a date value that matches today's date, \n    //       since it represents the current balance of the credit card. For example:\n    //       [\n    //         {date: '2023-04-13', balance: 1500},\n    //         {date: '2023-04-12', balance: 1200},\n    //         {date: '2023-04-11', balance: 1000},\n    //         {date: '2023-04-10', balance: 800}\n    //       ]\n\n    /**\n     * Given `date` and `balance`, update this credit card's balance history.\n     * Update means to add `balance` to the current balance at the date specified by `date`\n     * @param date\n     * @param balance\n     */\n    public void updateBalance(LocalDate date, double balance) {\n        double currentBalance = balanceHistory.getOrDefault(date, 0.0);\n        balanceHistory.put(date, currentBalance + balance);\n    }\n}\n</code></pre>\n<p>Any help would be appreciated!</p>\n"},{"tags":["java","github","github-actions"],"owner":{"account_id":21574689,"reputation":11,"user_id":15907040,"display_name":"ZorTik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692483290,"creation_date":1692483034,"question_id":76937222,"body_markdown":"So, I am currently working on a project that consists of different repositories/services that I want to test using JUnit in Github Actions workflow. Since I have multiple repos that depend on ach other, I would like to test them in one workflow instance so they can connect to each other.\r\n\r\nI have:\r\n- 1. Rest api authorization service\r\n- 2. Rest api service that uses the authorization service\r\n\r\nI would like to run the authorization service as on of the &quot;services&quot; in the 2nd service workflow so the 2nd service can connect to it. Is it possible?\r\n\r\nMy current workflow in the 2nd service:\r\n```\r\non: [push]\r\nenv:\r\n  NODE_NAME: &#39;1&#39;\r\n  MYSQL_DATABASE: &#39;test&#39;\r\n  MYSQL_USER: &#39;test&#39;\r\n  MYSQL_PASSWORD: &#39;test&#39;\r\n\r\n\r\njobs:\r\n  test_node:\r\n    runs-on: ubuntu-latest\r\n    timeout-minutes: 5\r\n    steps:\r\n      - uses: actions/checkout@v3\r\n      - name: Set up JDK 17\r\n        uses: actions/setup-java@v3\r\n        with:\r\n          java-version: &#39;17&#39;\r\n          distribution: &#39;adopt&#39;\r\n      - name: Shutdown default MySQL\r\n        run: sudo service mysql stop\r\n      - name: Setup MySQL\r\n        uses: mirromutth/mysql-action@v1.1\r\n        with:\r\n          mysql database: &#39;test&#39;\r\n          mysql user: &#39;test&#39;\r\n          mysql password: &#39;test&#39;\r\n          mysql port: 3306\r\n      - name: Grant gradlew permissions\r\n        run: chmod +x gradlew\r\n      - name: Gradle Build\r\n        run: ./gradlew :api-node:build -x test\r\n      - name: Gradle Test\r\n        run: ./gradlew :api-node:test\r\n      - name: JUnit Report Action\r\n        uses: mikepenz/action-junit-report@v3.7.1\r\n        if: always()\r\n        with:\r\n          report_paths: &#39;**/build/test-results/test/TEST-*.xml&#39;\r\n```\r\n\r\nI created the workflow and I realized that I can only start public docker images as services, so I would like to use the repository as service without the need of publishing it to docker repository.\r\n\r\nThank you","title":"Use another repository as service in GitHub Actions workflow","body":"<p>So, I am currently working on a project that consists of different repositories/services that I want to test using JUnit in Github Actions workflow. Since I have multiple repos that depend on ach other, I would like to test them in one workflow instance so they can connect to each other.</p>\n<p>I have:</p>\n<ul>\n<li>\n<ol>\n<li>Rest api authorization service</li>\n</ol>\n</li>\n<li>\n<ol start=\"2\">\n<li>Rest api service that uses the authorization service</li>\n</ol>\n</li>\n</ul>\n<p>I would like to run the authorization service as on of the &quot;services&quot; in the 2nd service workflow so the 2nd service can connect to it. Is it possible?</p>\n<p>My current workflow in the 2nd service:</p>\n<pre><code>on: [push]\nenv:\n  NODE_NAME: '1'\n  MYSQL_DATABASE: 'test'\n  MYSQL_USER: 'test'\n  MYSQL_PASSWORD: 'test'\n\n\njobs:\n  test_node:\n    runs-on: ubuntu-latest\n    timeout-minutes: 5\n    steps:\n      - uses: actions/checkout@v3\n      - name: Set up JDK 17\n        uses: actions/setup-java@v3\n        with:\n          java-version: '17'\n          distribution: 'adopt'\n      - name: Shutdown default MySQL\n        run: sudo service mysql stop\n      - name: Setup MySQL\n        uses: mirromutth/mysql-action@v1.1\n        with:\n          mysql database: 'test'\n          mysql user: 'test'\n          mysql password: 'test'\n          mysql port: 3306\n      - name: Grant gradlew permissions\n        run: chmod +x gradlew\n      - name: Gradle Build\n        run: ./gradlew :api-node:build -x test\n      - name: Gradle Test\n        run: ./gradlew :api-node:test\n      - name: JUnit Report Action\n        uses: mikepenz/action-junit-report@v3.7.1\n        if: always()\n        with:\n          report_paths: '**/build/test-results/test/TEST-*.xml'\n</code></pre>\n<p>I created the workflow and I realized that I can only start public docker images as services, so I would like to use the repository as service without the need of publishing it to docker repository.</p>\n<p>Thank you</p>\n"},{"tags":["java","css","button","javafx"],"comments":[{"owner":{"account_id":1956160,"reputation":36345,"user_id":1759128,"accept_rate":54,"display_name":"ItachiUchiha"},"score":0,"creation_date":1464690358,"post_id":37542955,"comment_id":62575096,"body_markdown":"Do you want the text to appear on the Button or change the text of the Button?","body":"Do you want the text to appear on the Button or change the text of the Button?"},{"owner":{"account_id":1546267,"reputation":216,"user_id":1439754,"display_name":"Khaled SAB"},"score":1,"creation_date":1464690454,"post_id":37542955,"comment_id":62575146,"body_markdown":"Are you looking for a [Tooltip](https://docs.oracle.com/javafx/2/ui_controls/tooltip.htm) ?","body":"Are you looking for a <a href=\"https://docs.oracle.com/javafx/2/ui_controls/tooltip.htm\" rel=\"nofollow noreferrer\">Tooltip</a> ?"}],"answers":[{"tags":[],"owner":{"account_id":7899184,"reputation":21451,"user_id":5966775,"display_name":"DVarga"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1496121824,"creation_date":1464690497,"answer_id":37543167,"question_id":37542955,"body_markdown":"The [`Tooltip`][1] class is what you are looking for.\r\n\r\n**Example for a simple Tooltip**\r\n\r\n    Button button = new Button(&quot;Hover Me&quot;);\r\n    button.setTooltip(new Tooltip(&quot;Tooltip for Button&quot;));\r\n\r\n[![enter image description here][2]][2]\r\n\r\nYou can also customize your `Tooltip`s: [CSS Reference for Tooltip][3].\r\n\r\n**Example for a styled Tooltip**\r\n\r\n\tButton button = new Button();\r\n\tbutton.setText(&quot;Hover Me!&quot;);\r\n\tTooltip tt = new Tooltip();\r\n\ttt.setText(&quot;Text on Hover&quot;);\r\n\ttt.setStyle(&quot;-fx-font: normal bold 4 Langdon; &quot;\r\n\t\t+ &quot;-fx-base: #AE3522; &quot;\r\n\t\t+ &quot;-fx-text-fill: orange;&quot;);\r\n\t\t\t\t\r\n\tbutton.setTooltip(tt);\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javafx/2/api/javafx/scene/control/Tooltip.html\r\n  [2]: https://i.stack.imgur.com/5lLYZ.png\r\n  [3]: https://docs.oracle.com/javafx/2/api/javafx/scene/doc-files/cssref.html#tooltip\r\n  [4]: https://i.stack.imgur.com/iwnHc.png","title":"How to set a tooltip on a JavaFX Button?","body":"<p>The <a href=\"https://docs.oracle.com/javafx/2/api/javafx/scene/control/Tooltip.html\" rel=\"noreferrer\"><code>Tooltip</code></a> class is what you are looking for.</p>\n\n<p><strong>Example for a simple Tooltip</strong></p>\n\n<pre><code>Button button = new Button(\"Hover Me\");\nbutton.setTooltip(new Tooltip(\"Tooltip for Button\"));\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/5lLYZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5lLYZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can also customize your <code>Tooltip</code>s: <a href=\"https://docs.oracle.com/javafx/2/api/javafx/scene/doc-files/cssref.html#tooltip\" rel=\"noreferrer\">CSS Reference for Tooltip</a>.</p>\n\n<p><strong>Example for a styled Tooltip</strong></p>\n\n<pre><code>Button button = new Button();\nbutton.setText(\"Hover Me!\");\nTooltip tt = new Tooltip();\ntt.setText(\"Text on Hover\");\ntt.setStyle(\"-fx-font: normal bold 4 Langdon; \"\n    + \"-fx-base: #AE3522; \"\n    + \"-fx-text-fill: orange;\");\n\nbutton.setTooltip(tt);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/iwnHc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/iwnHc.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":9432667,"reputation":1340,"user_id":7015661,"accept_rate":100,"display_name":"TM00"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1491333633,"creation_date":1491333633,"answer_id":43215887,"question_id":37542955,"body_markdown":"If you are using Scenebuilder, you can add tooltips by locating &quot;Tooltip&quot; under the Miscellaneous dropdown (Left panel) and dragging it to the node you want to install the tooltip. You can then specify various properties (Right panel) of the tooltip like style and text just as you would a normal Node.","title":"How to set a tooltip on a JavaFX Button?","body":"<p>If you are using Scenebuilder, you can add tooltips by locating \"Tooltip\" under the Miscellaneous dropdown (Left panel) and dragging it to the node you want to install the tooltip. You can then specify various properties (Right panel) of the tooltip like style and text just as you would a normal Node.</p>\n"},{"tags":[],"owner":{"account_id":2080516,"reputation":554,"user_id":1852598,"display_name":"ankur_kachru"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1493956923,"creation_date":1493956923,"answer_id":43796286,"question_id":37542955,"body_markdown":"To add a tooltip in FXML, you could also do this,\r\n\r\n    &lt;Button&gt;\r\n     &lt;tooltip&gt;&lt;Tooltip text=&quot;my tooltip&quot; /&gt;&lt;/tooltip&gt;\r\n    &lt;/Button&gt;","title":"How to set a tooltip on a JavaFX Button?","body":"<p>To add a tooltip in FXML, you could also do this,</p>\n\n<pre><code>&lt;Button&gt;\n &lt;tooltip&gt;&lt;Tooltip text=\"my tooltip\" /&gt;&lt;/tooltip&gt;\n&lt;/Button&gt;\n</code></pre>\n"}],"owner":{"account_id":8318993,"reputation":225,"user_id":6251359,"accept_rate":0,"display_name":"Raffaele Sassano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30588,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"answer_count":3,"score":21,"last_activity_date":1692483060,"creation_date":1464689868,"question_id":37542955,"body_markdown":"How can I set a title or a text that appears above a button when I hover it with the mouse?\r\n\r\n","title":"How to set a tooltip on a JavaFX Button?","body":"<p>How can I set a title or a text that appears above a button when I hover it with the mouse?</p>\n"},{"tags":["java","x509certificate","bouncycastle","asn.1"],"answers":[{"tags":[],"owner":{"account_id":191798,"reputation":13419,"user_id":432589,"accept_rate":50,"display_name":"Jcs"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1386410836,"creation_date":1386319205,"answer_id":20419503,"question_id":20417849,"body_markdown":"The ASN.1 encoded object only contains the structured data but not the meaning of every field. An ASN.1 module is required in order to decode meaningful data from the object. The module is a data specification, its purpose is to name a set of types and (optionally) values definitions.\r\n\r\nFor instance this is the ASN.1 module for X.509 certificates: [https://www.rfc-editor.org/rfc/rfc5280#appendix-A.1][1] \r\n\r\nNow, assuming that your ASN.1 module defines this structure\r\n\r\n    MyData ::= SEQUENCE {\r\n        websiteURL         UTF8String (SIZE (1..MAX)),\r\n        certificate        Certificate,\r\n    }\r\n\r\nYou can decode this object with this small code snippet:\r\n\r\n    public void decode(byte[] encoding) throws Exception\r\n    {\r\n      ASN1Sequence seq = ASN1Sequence.getInstance(encoding);\r\n      String url = DERUTF8String.getInstance(seq.getObjectAt(0)).getString();\r\n      CertificateFactory factory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n      byte[] certEnc = seq.getObjectAt(1).toASN1Primitive().getEncoded();\r\n      Certificate cert = factory.generateCertificate(new ByteArrayInputStream(certEnc));\r\n    }\r\n\r\n**UPDATE Dec, 7th**\r\n\r\nAccording to the ASN.1 decoding tree you gave I think that the certificate is contained in the second Octet String Object:\r\n\r\n    ASN1Sequence\r\n      ASN1Sequence\r\n        ASN1String : 1\r\n        ASN1OctetString\r\n          ASN1Sequence\r\n            ASN1String : https://website url(Some StringDta )\r\n            ASN1String : StringDta\r\n            ASN1Sequence\r\n              ASN1OctetString\r\n                ASN1Sequence        &lt;-- IMHO the certificate starts here\r\n                  ASN1Sequence\r\n                    ASN1TaggedObject\r\n                      ASN1Integer : 2\r\n                    ASN1Integer : 288799720653653968683086\r\n    ...\r\n\r\nYou need to get the `ASN1OctetString` object from the sequence, get the byte[] it wraps and decode the certificate.\r\n\r\n\r\n    ASN1Sequence seq = ...\r\n    ASN1OctetString ostr = ASN1OctetString.getInstance(seq.getObjectAt(0));\r\n    byte[] encodedCertificate = ostr.getOctets();\r\n    Certificate cert = CertificateFactory.getInstance(&quot;X.509&quot;).generateCertificate(new ByteArrayInputStream(encodedCertificate));\r\n\r\nYou can also use openssl [ans1parse][2] command to print more details on the ASN.1 objects\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc5280#appendix-A.1\r\n  [2]: http://www.openssl.org/docs/apps/asn1parse.html","title":"How to parse the ASN.1 object and get the data using bouncycastle in java","body":"<p>The ASN.1 encoded object only contains the structured data but not the meaning of every field. An ASN.1 module is required in order to decode meaningful data from the object. The module is a data specification, its purpose is to name a set of types and (optionally) values definitions.</p>\n<p>For instance this is the ASN.1 module for X.509 certificates: <a href=\"https://www.rfc-editor.org/rfc/rfc5280#appendix-A.1\" rel=\"nofollow noreferrer\">https://www.rfc-editor.org/rfc/rfc5280#appendix-A.1</a></p>\n<p>Now, assuming that your ASN.1 module defines this structure</p>\n<pre><code>MyData ::= SEQUENCE {\n    websiteURL         UTF8String (SIZE (1..MAX)),\n    certificate        Certificate,\n}\n</code></pre>\n<p>You can decode this object with this small code snippet:</p>\n<pre><code>public void decode(byte[] encoding) throws Exception\n{\n  ASN1Sequence seq = ASN1Sequence.getInstance(encoding);\n  String url = DERUTF8String.getInstance(seq.getObjectAt(0)).getString();\n  CertificateFactory factory = CertificateFactory.getInstance(&quot;X.509&quot;);\n  byte[] certEnc = seq.getObjectAt(1).toASN1Primitive().getEncoded();\n  Certificate cert = factory.generateCertificate(new ByteArrayInputStream(certEnc));\n}\n</code></pre>\n<p><strong>UPDATE Dec, 7th</strong></p>\n<p>According to the ASN.1 decoding tree you gave I think that the certificate is contained in the second Octet String Object:</p>\n<pre><code>ASN1Sequence\n  ASN1Sequence\n    ASN1String : 1\n    ASN1OctetString\n      ASN1Sequence\n        ASN1String : https://website url(Some StringDta )\n        ASN1String : StringDta\n        ASN1Sequence\n          ASN1OctetString\n            ASN1Sequence        &lt;-- IMHO the certificate starts here\n              ASN1Sequence\n                ASN1TaggedObject\n                  ASN1Integer : 2\n                ASN1Integer : 288799720653653968683086\n...\n</code></pre>\n<p>You need to get the <code>ASN1OctetString</code> object from the sequence, get the byte[] it wraps and decode the certificate.</p>\n<pre><code>ASN1Sequence seq = ...\nASN1OctetString ostr = ASN1OctetString.getInstance(seq.getObjectAt(0));\nbyte[] encodedCertificate = ostr.getOctets();\nCertificate cert = CertificateFactory.getInstance(&quot;X.509&quot;).generateCertificate(new ByteArrayInputStream(encodedCertificate));\n</code></pre>\n<p>You can also use openssl <a href=\"http://www.openssl.org/docs/apps/asn1parse.html\" rel=\"nofollow noreferrer\">ans1parse</a> command to print more details on the ASN.1 objects</p>\n"}],"owner":{"account_id":357724,"reputation":2255,"user_id":698070,"accept_rate":58,"display_name":"Arindam Mukherjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12001,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1692482745,"creation_date":1386312718,"question_id":20417849,"body_markdown":"I have an ASN.1 data which contain some URL info and certificates data. Now I am trying to parse the data. I am using the dump method which is shown below.\r\n\r\n      private static void dump(ASN1Object obj, StringBuffer buf, int depth)  throws Exception\r\n\t  {\r\n\t    indent(buf, depth);\r\n\t    if (obj == null)\r\n\t    {\r\n\t      buf.append(&quot;Null&quot;).append(NL);\r\n\t    \r\n\t    }\r\n\t    else if (obj instanceof DERBitString)\r\n\t    {\r\n\t    \t  try {\r\n\t\t    \t  \r\n\t\t    \t  DERBitString dbr =  (DERBitString)obj;\r\n\t\t\t      Log.e(&quot;Testing&quot;, &quot;DERBitString length:&quot;+dbr.getBytes().length);\r\n\t\t\t\t\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\t// TODO: handle exception\r\n\t\t\t\tLog.e(&quot;Testing&quot;, &quot;Exception :&quot;+e);\r\n\t\t\t}\r\n\t    \t\r\n\t     // buf.append(&quot;DERBitString : &quot;).append(((DERBitString)obj).getBytes().length * 8).append(&quot; bits&quot;).append(NL);\r\n\t      buf.append(&quot;DERBitString content111 : &quot;).append(new String(((DERBitString)obj).getBytes())).append(NL);\r\n\t      \r\n\t    \r\n\t    \r\n\t      cert.write(obj.getEncoded());\r\n\t    }\r\n\t    else if (obj instanceof ASN1String)\r\n\t    {\r\n\t    \tLog.i(&quot;Testing&quot;, &quot;Hashcode:&quot;+obj.hashCode());\r\n\t        buf.append(&quot;ASN1String : &quot;).append(((ASN1String)obj).getString()).append(NL);\r\n\t        if(numOctString == 1 &amp;&amp; sURL == null )\r\n\t        {\r\n\t        \tsURL = ((ASN1String)obj).getString();\r\n\t        }\r\n\t        else\r\n\t        {\r\n\t        \tcert.write(obj.getEncoded());\r\n\t        }\r\n\t    }\r\n\t    else if (obj instanceof ASN1UTCTime)\r\n\t    {\r\n\t      buf.append(&quot;ASN1UTCTime : &quot;).append(((ASN1UTCTime)obj).getTime()).append(NL);\r\n\t      cert.write(obj.getEncoded());\r\n\t    }\r\n\t    else if (obj instanceof ASN1GeneralizedTime)\r\n\t    {\r\n\t      buf.append(&quot;ASN1GeneralizedTime : &quot;).append(((ASN1GeneralizedTime)obj).getTime()).append(NL);\r\n\t      cert.write(obj.getEncoded());\r\n\t    }\r\n\t    else if (obj instanceof ASN1ObjectIdentifier)\r\n\t    {\r\n\t        buf.append(&quot;ASN1ObjectIdentifier : &quot;).append((ASN1ObjectIdentifier)obj).append(NL);\r\n\t        \r\n\t        ASN1ObjectIdentifier identifier =  (ASN1ObjectIdentifier)obj;\r\n\t        \r\n\t        cert.write(obj.getEncoded());\r\n\t    \t//buf.append(&quot;ASN1ObjectIdentifier : &quot;).append(OidMap.get(((ASN1ObjectIdentifier)obj).getId())).append(NL); \r\n\t    }\r\n\t    else if (obj instanceof ASN1Integer)\r\n\t    {\r\n\t      buf.append(&quot;ASN1Integer : &quot;).append(((ASN1Integer)obj).getValue().toString()).append(NL);\r\n\t      cert.write(obj.getEncoded());\r\n\t    }\r\n\t    else if (obj instanceof ASN1Boolean)\r\n\t    {\r\n\t      buf.append(&quot;ASN1Boolean : &quot;).append(((ASN1Boolean)obj).isTrue() ? &quot;true&quot; : &quot;false&quot;).append(NL);\r\n\t      cert.write(obj.getEncoded());\r\n\t    }\r\n\t    else if (obj instanceof ASN1OctetString)\r\n\t    {\r\n\t       numOctString ++;\r\n\t      buf.append(&quot;ASN1OctetString&quot;).append(NL);\r\n\t      ASN1OctetString octObj = (ASN1OctetString)obj;\r\n\t      try\r\n\t      {\r\n\t        ASN1InputStream aIn = new ASN1InputStream(octObj.getOctetStream());\r\n\t        ASN1Primitive dobj = aIn.readObject();\r\n\t        dump(dobj, buf, depth + 1);\r\n\t      }\r\n\t      catch(Exception e)\r\n\t      {\r\n\t        indent(buf, depth + 1);\r\n\t        //buf.append(ByteArrayUtil.toHexString(octObj.getOctets(), &quot;:&quot;)).append(NL);\r\n\t      }\r\n\t    }\r\n\t    else if (obj instanceof ASN1TaggedObject)\r\n\t    {\r\n\t      buf.append(&quot;ASN1TaggedObject&quot;).append(NL);\r\n\t      dump(((ASN1TaggedObject)obj).getObject(), buf, depth + 1);\r\n\t    }\r\n\t    else if (obj instanceof ASN1Sequence)\r\n\t    {\r\n\t      buf.append(&quot;ASN1Sequence&quot;).append(NL);\r\n\t     \r\n\t      Enumeration objs = ((ASN1Sequence)obj).getObjects();\r\n\t      while (objs.hasMoreElements())\r\n\t      {\r\n\t        Object o = objs.nextElement();\r\n\t        if (o == null || o instanceof DERNull)\r\n\t        {\r\n\t          indent(buf, depth + 1);\r\n\t          //ASN1VectorImpl impl= new ASN1VectorImpl((ASN1Sequence)obj);\r\n\t          buf.append(&quot;DERNull&quot;).append(NL);\r\n\t        }\r\n\t        else if (o instanceof ASN1Primitive)\r\n\t        {\r\n\t          dump((ASN1Primitive)o, buf, depth + 1);\r\n\t        }\r\n\t        else\r\n\t        {\r\n\t          dump(((ASN1Encodable)o).toASN1Primitive(), buf, depth + 1);\r\n\t        }\r\n\t      }\r\n\t    }\r\n\t    else if (obj instanceof ASN1Set)\r\n\t    {\r\n\t      buf.append(&quot;ASN1Set&quot;).append(NL);\r\n\t     \r\n\t      Enumeration objs = ((ASN1Set)obj).getObjects();\r\n\t      while (objs.hasMoreElements())\r\n\t      {\r\n\t        Object o = objs.nextElement();\r\n\t        if (o == null || o instanceof DERNull)\r\n\t        {\r\n\t          indent(buf, depth + 1);\r\n\t          buf.append(NL);\r\n\t        }\r\n\t        else if (o instanceof ASN1Primitive)\r\n\t        {\r\n\t          dump((ASN1Primitive)o, buf, depth + 1);\r\n\t        }\r\n\t        else\r\n\t        {\r\n\t          dump(((ASN1Encodable)o).toASN1Primitive(), buf, depth + 1);\r\n\t        }\r\n\t      }\r\n\t    }\r\n\t    else\r\n\t    {\r\n\t    \tLog.e(&quot;Testing&quot;, &quot;==================Else case=============&quot;);\r\n\t    \tLog.e(&quot;Testing&quot;, &quot;==================obj=============&quot;+obj.getEncoded().length);\r\n\t      buf.append(obj.getClass().getName()).append(NL);\r\n\t    }      \r\n\t  }\r\n\r\n\r\nWhen I print the StringBuffer i am getting the output as below.\r\n\r\n     ASN1Sequence\r\n       ASN1Sequence\r\n         ASN1String : 1\r\n         ASN1OctetString\r\n           ASN1Sequence\r\n             ASN1String : https://website url(Some StringDta )\r\n             ASN1String : StringDta\r\n             ASN1Sequence\r\n               ASN1OctetString\r\n                 ASN1Sequence\r\n                   ASN1Sequence\r\n                     ASN1TaggedObject\r\n                       ASN1Integer : 2\r\n                     ASN1Integer : 288799720653653968683086\r\n                     ASN1Sequence\r\n                       ASN1ObjectIdentifier : 1.2.840.113549.1.1.5\r\n                       DERNull\r\n                     ASN1Sequence\r\n                       ASN1Set\r\n                         ASN1Sequence\r\n                           ASN1ObjectIdentifier : 2.5.4.3\r\n                           ASN1String : StringDta\r\n                     ASN1Sequence\r\n                       ASN1UTCTime : 130417071944GMT+00:00\r\n                       ASN1UTCTime : 140417072944GMT+00:00\r\n                     ASN1Sequence\r\n                       ASN1Set\r\n                         ASN1Sequence\r\n                           ASN1ObjectIdentifier : 2.5.4.10\r\n                           ASN1String : StringDta\r\n                       ASN1Set\r\n                         ASN1Sequence\r\n                           ASN1ObjectIdentifier : 2.5.4.3\r\n                           ASN1String : StringDta\r\n                       ASN1Set\r\n                         ASN1Sequence\r\n                           ASN1ObjectIdentifier : 1.2.840.113549.1.9.1\r\n                           ASN1String : StringDta\r\n                     ASN1Sequence\r\n                       ASN1Sequence\r\n                         ASN1ObjectIdentifier : 1.2.840.113549.1.1.1\r\n                         DERNull\r\n                       DERBitString content111 : 0?\r\n     ?\r\n\r\n\r\nNow how can parse the above data to get the required data like URL and certificates data?\r\n\r\nHow can we identify the URL and certificates data from above output? Can some one help on this?","title":"How to parse the ASN.1 object and get the data using bouncycastle in java","body":"<p>I have an ASN.1 data which contain some URL info and certificates data. Now I am trying to parse the data. I am using the dump method which is shown below.</p>\n\n<pre><code>  private static void dump(ASN1Object obj, StringBuffer buf, int depth)  throws Exception\n  {\n    indent(buf, depth);\n    if (obj == null)\n    {\n      buf.append(\"Null\").append(NL);\n\n    }\n    else if (obj instanceof DERBitString)\n    {\n          try {\n\n              DERBitString dbr =  (DERBitString)obj;\n              Log.e(\"Testing\", \"DERBitString length:\"+dbr.getBytes().length);\n\n        } catch (Exception e) {\n            // TODO: handle exception\n            Log.e(\"Testing\", \"Exception :\"+e);\n        }\n\n     // buf.append(\"DERBitString : \").append(((DERBitString)obj).getBytes().length * 8).append(\" bits\").append(NL);\n      buf.append(\"DERBitString content111 : \").append(new String(((DERBitString)obj).getBytes())).append(NL);\n\n\n\n      cert.write(obj.getEncoded());\n    }\n    else if (obj instanceof ASN1String)\n    {\n        Log.i(\"Testing\", \"Hashcode:\"+obj.hashCode());\n        buf.append(\"ASN1String : \").append(((ASN1String)obj).getString()).append(NL);\n        if(numOctString == 1 &amp;&amp; sURL == null )\n        {\n            sURL = ((ASN1String)obj).getString();\n        }\n        else\n        {\n            cert.write(obj.getEncoded());\n        }\n    }\n    else if (obj instanceof ASN1UTCTime)\n    {\n      buf.append(\"ASN1UTCTime : \").append(((ASN1UTCTime)obj).getTime()).append(NL);\n      cert.write(obj.getEncoded());\n    }\n    else if (obj instanceof ASN1GeneralizedTime)\n    {\n      buf.append(\"ASN1GeneralizedTime : \").append(((ASN1GeneralizedTime)obj).getTime()).append(NL);\n      cert.write(obj.getEncoded());\n    }\n    else if (obj instanceof ASN1ObjectIdentifier)\n    {\n        buf.append(\"ASN1ObjectIdentifier : \").append((ASN1ObjectIdentifier)obj).append(NL);\n\n        ASN1ObjectIdentifier identifier =  (ASN1ObjectIdentifier)obj;\n\n        cert.write(obj.getEncoded());\n        //buf.append(\"ASN1ObjectIdentifier : \").append(OidMap.get(((ASN1ObjectIdentifier)obj).getId())).append(NL); \n    }\n    else if (obj instanceof ASN1Integer)\n    {\n      buf.append(\"ASN1Integer : \").append(((ASN1Integer)obj).getValue().toString()).append(NL);\n      cert.write(obj.getEncoded());\n    }\n    else if (obj instanceof ASN1Boolean)\n    {\n      buf.append(\"ASN1Boolean : \").append(((ASN1Boolean)obj).isTrue() ? \"true\" : \"false\").append(NL);\n      cert.write(obj.getEncoded());\n    }\n    else if (obj instanceof ASN1OctetString)\n    {\n       numOctString ++;\n      buf.append(\"ASN1OctetString\").append(NL);\n      ASN1OctetString octObj = (ASN1OctetString)obj;\n      try\n      {\n        ASN1InputStream aIn = new ASN1InputStream(octObj.getOctetStream());\n        ASN1Primitive dobj = aIn.readObject();\n        dump(dobj, buf, depth + 1);\n      }\n      catch(Exception e)\n      {\n        indent(buf, depth + 1);\n        //buf.append(ByteArrayUtil.toHexString(octObj.getOctets(), \":\")).append(NL);\n      }\n    }\n    else if (obj instanceof ASN1TaggedObject)\n    {\n      buf.append(\"ASN1TaggedObject\").append(NL);\n      dump(((ASN1TaggedObject)obj).getObject(), buf, depth + 1);\n    }\n    else if (obj instanceof ASN1Sequence)\n    {\n      buf.append(\"ASN1Sequence\").append(NL);\n\n      Enumeration objs = ((ASN1Sequence)obj).getObjects();\n      while (objs.hasMoreElements())\n      {\n        Object o = objs.nextElement();\n        if (o == null || o instanceof DERNull)\n        {\n          indent(buf, depth + 1);\n          //ASN1VectorImpl impl= new ASN1VectorImpl((ASN1Sequence)obj);\n          buf.append(\"DERNull\").append(NL);\n        }\n        else if (o instanceof ASN1Primitive)\n        {\n          dump((ASN1Primitive)o, buf, depth + 1);\n        }\n        else\n        {\n          dump(((ASN1Encodable)o).toASN1Primitive(), buf, depth + 1);\n        }\n      }\n    }\n    else if (obj instanceof ASN1Set)\n    {\n      buf.append(\"ASN1Set\").append(NL);\n\n      Enumeration objs = ((ASN1Set)obj).getObjects();\n      while (objs.hasMoreElements())\n      {\n        Object o = objs.nextElement();\n        if (o == null || o instanceof DERNull)\n        {\n          indent(buf, depth + 1);\n          buf.append(NL);\n        }\n        else if (o instanceof ASN1Primitive)\n        {\n          dump((ASN1Primitive)o, buf, depth + 1);\n        }\n        else\n        {\n          dump(((ASN1Encodable)o).toASN1Primitive(), buf, depth + 1);\n        }\n      }\n    }\n    else\n    {\n        Log.e(\"Testing\", \"==================Else case=============\");\n        Log.e(\"Testing\", \"==================obj=============\"+obj.getEncoded().length);\n      buf.append(obj.getClass().getName()).append(NL);\n    }      \n  }\n</code></pre>\n\n<p>When I print the StringBuffer i am getting the output as below.</p>\n\n<pre><code> ASN1Sequence\n   ASN1Sequence\n     ASN1String : 1\n     ASN1OctetString\n       ASN1Sequence\n         ASN1String : https://website url(Some StringDta )\n         ASN1String : StringDta\n         ASN1Sequence\n           ASN1OctetString\n             ASN1Sequence\n               ASN1Sequence\n                 ASN1TaggedObject\n                   ASN1Integer : 2\n                 ASN1Integer : 288799720653653968683086\n                 ASN1Sequence\n                   ASN1ObjectIdentifier : 1.2.840.113549.1.1.5\n                   DERNull\n                 ASN1Sequence\n                   ASN1Set\n                     ASN1Sequence\n                       ASN1ObjectIdentifier : 2.5.4.3\n                       ASN1String : StringDta\n                 ASN1Sequence\n                   ASN1UTCTime : 130417071944GMT+00:00\n                   ASN1UTCTime : 140417072944GMT+00:00\n                 ASN1Sequence\n                   ASN1Set\n                     ASN1Sequence\n                       ASN1ObjectIdentifier : 2.5.4.10\n                       ASN1String : StringDta\n                   ASN1Set\n                     ASN1Sequence\n                       ASN1ObjectIdentifier : 2.5.4.3\n                       ASN1String : StringDta\n                   ASN1Set\n                     ASN1Sequence\n                       ASN1ObjectIdentifier : 1.2.840.113549.1.9.1\n                       ASN1String : StringDta\n                 ASN1Sequence\n                   ASN1Sequence\n                     ASN1ObjectIdentifier : 1.2.840.113549.1.1.1\n                     DERNull\n                   DERBitString content111 : 0?\n ?\n</code></pre>\n\n<p>Now how can parse the above data to get the required data like URL and certificates data?</p>\n\n<p>How can we identify the URL and certificates data from above output? Can some one help on this?</p>\n"},{"tags":["java","swing","object","transform"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1692278484,"post_id":76920133,"comment_id":135603593,"body_markdown":"Not related to your question but, a painting method should only paint the current state of the component, not change the state. The &quot;remove&quot; logic should NOT be in the pantComponent() method. That logic should be in the &quot;movement&quot; method.","body":"Not related to your question but, a painting method should only paint the current state of the component, not change the state. The &quot;remove&quot; logic should NOT be in the pantComponent() method. That logic should be in the &quot;movement&quot; method."},{"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"score":0,"creation_date":1692282337,"post_id":76920133,"comment_id":135604541,"body_markdown":"@camickr You are correct I have not gotten to that part yet one issue at the time. right now I cannot figure out how to get it to work.","body":"@camickr You are correct I have not gotten to that part yet one issue at the time. right now I cannot figure out how to get it to work."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692482675,"creation_date":1692482675,"answer_id":76937201,"question_id":76920133,"body_markdown":"# Introduction\r\n\r\nI copied your code into my IDE and ran it.\r\n\r\nYou have a ship (player) that can rotate, move forward and backward, and can shoot a laser beam.  The up arrow key moves the ship forward, the down arrow key moves the ship backward, the left arrow key rotates the ship counterclockwise, the right arrow key rotates the ship clockwise, and the space bar shoots a laser beam.  Holding the space bar makes the laser beam longer.\r\n\r\nThe ship has no momentum.  It only moves for as long as you are holding down one or more of the arrow keys.\r\n\r\nSo far, so good.  Here&#39;s what it looks like when I start the application and shoot a couple of lasers\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn my testing, I found that I could drive the ship off the screen.  I&#39;m not sure what game you&#39;re trying to emulate, since you didn&#39;t say.\r\n\r\nAll four of your classes are extensions of a Java Swing component.  That is not the way to create a complex game.  You will run into problems, as you&#39;ve already discovered.  \r\n\r\n@camickr commented about your painting method.  Organizing your code into classes and methods helps you to isolate problems when debugging your code.\r\n\r\n# Explanation\r\n\r\nWhen I create a Swing GUI, I use the [model-view-controller][2] (MVC) pattern.  This pattern allows me to separate my concerns and focus on one part of the application at a time.\r\n\r\nIn Java Swing, the application model is made up of one or more plain Java getter/setter classes.  The application view is made up of Swing components.  Thye application controller is made up of one or more actions or listeners.\r\n\r\nThe application model holds the state of the game.\r\n\r\nThe application view shows the state of the game.  Period.  Nothing else.\r\n\r\nThe application controllers modify the application model and update or repaint the view.\r\n\r\n## Model\r\n\r\nI created three model classes, `GameModel`, `Ship`, and `Shot`.\r\n\r\nThe `GameModel` class is a plain Java getter/setter class that holds an instance of `Ship` and a `List` of instances of `Shot`.\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.geom.Point2D;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class GameModel {\r\n    \r\n    \tprivate final Dimension drawingPanelSize;\r\n    \t\r\n    \tprivate final List&lt;Shot&gt; shots;\r\n    \r\n    \tprivate final Ship ship;\r\n    \r\n    \tpublic GameModel() {\r\n    \t\tthis.drawingPanelSize = new Dimension(400, 400);\r\n    \t\tPoint2D p = new Point2D.Double(drawingPanelSize.width / 2,\r\n    \t\t\t\tdrawingPanelSize.height / 2);\r\n    \t\tthis.ship = new Ship(p, 0.0, Color.BLUE);\r\n    \t\tthis.shots = new ArrayList&lt;&gt;();\r\n    \t}\r\n    \t\r\n    \tpublic void addShot(Shot shot) {\r\n    \t\tthis.shots.add(shot);\r\n    \t}\r\n    \t\r\n    \tpublic void removeShot(Shot shot) {\r\n    \t\tthis.shots.remove(shot);\r\n    \t}\r\n    \r\n    \tpublic Dimension getDrawingPanelSize() {\r\n    \t\treturn drawingPanelSize;\r\n    \t}\r\n    \r\n    \tpublic Ship getShip() {\r\n    \t\treturn ship;\r\n    \t}\r\n    \r\n    \tpublic List&lt;Shot&gt; getShots() {\r\n    \t\treturn shots;\r\n    \t}\r\n    \r\n    }\r\n\r\nThe `Ship` class is a plain Java getter/setter class that holds the position, direction, and velocity of a ship.  This class also draws an image of a ship.  I made the image a triangle, but you can modify the code to make the ship any combination of shapes you want.\r\n\r\nEvery Java class extends `Object` and can implement a `toString` method for display or debugging.\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Polygon;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.geom.Point2D;\r\n    import java.awt.image.BufferedImage;\r\n    \r\n    public class Ship {\r\n    \r\n    \tprivate final BufferedImage image;\r\n    \r\n    \t/**\r\n    \t * The direction in radians. Zero is north. Positive values rotate\r\n    \t * clockwise. Negative values rotate counterclockwise.  The velocity\r\n    \t * is pixels per frame.\r\n    \t */\r\n    \tprivate double direction, velocity;\r\n    \r\n    \tprivate Point2D location;\r\n    \r\n    \tpublic Ship(Point2D location, double degrees, Color color) {\r\n    \t\tthis.location = location;\r\n    \t\tthis.direction = Math.toRadians(degrees);\r\n    \t\tthis.velocity = 0.0;\r\n    \t\tthis.image = createShipImage(color);\r\n    \t}\r\n    \r\n    \tprivate BufferedImage createShipImage(Color color) {\r\n    \t\tBufferedImage image = new BufferedImage(25, 40,\r\n    \t\t\t\tBufferedImage.TYPE_INT_ARGB);\r\n    \t\tint width = image.getWidth();\r\n    \t\tint height = image.getHeight();\r\n    \r\n    \t\tGraphics2D g2d = (Graphics2D) image.getGraphics();\r\n    \t\tg2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n    \t\t\t\tRenderingHints.VALUE_ANTIALIAS_ON);\r\n    \t\tg2d.setColor(new Color(0, 0, 0, 0));\r\n    \t\tg2d.fillRect(0, 0, width, height);\r\n    \r\n    \t\tPolygon p = new Polygon();\r\n    \t\tp.addPoint(width / 2, 0);\r\n    \t\tp.addPoint(0, height);\r\n    \t\tp.addPoint(width, height);\r\n    \r\n    \t\tg2d.setColor(color);\r\n    \t\tg2d.fillPolygon(p);\r\n    \r\n    \t\tg2d.dispose();\r\n    \t\t\r\n    \t\treturn image;\r\n    \t}\r\n    \t\r\n    \tpublic void moveShip(Dimension drawingPanelSize) {\r\n    \t\tdouble dx = velocity * Math.sin(direction);\r\n    \t\tdouble dy = velocity * Math.cos(direction);\r\n    \t\tdouble x = location.getX() + dx;\r\n    \t\tdouble y = location.getY() - dy;\r\n    \t\tx = Math.max(0.0, x);\r\n    \t\tx = Math.min(drawingPanelSize.width, x);\r\n    \t\ty = Math.max(0.0, y);\r\n    \t\ty = Math.min(drawingPanelSize.height, y);\r\n    \t\tlocation.setLocation(x, y);\r\n    \t}\r\n    \r\n    \tpublic double getDirection() {\r\n    \t\treturn direction;\r\n    \t}\r\n    \r\n    \tpublic void incrementDirection(double degrees) {\r\n    \t\tthis.direction += Math.toRadians(degrees);\r\n    \t}\r\n    \r\n    \tpublic void setVelocity(double velocity) {\r\n    \t\tthis.velocity = velocity;\r\n    \t}\r\n    \r\n    \tpublic Point2D getLocation() {\r\n    \t\treturn location;\r\n    \t}\r\n    \r\n    \tpublic BufferedImage getImage() {\r\n    \t\treturn image;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\tStringBuilder builder = new StringBuilder();\r\n    \t\tbuilder.append(&quot;The ship is located at &quot;);\r\n    \t\tString display = String.format(&quot;%.2f&quot;, location.getX());\r\n    \t\tbuilder.append(display);\r\n    \t\tbuilder.append(&quot;, &quot;);\r\n    \t\tdisplay = String.format(&quot;%.2f&quot;, location.getY());\r\n    \t\tbuilder.append(display);\r\n    \t\tbuilder.append(&quot; and facing &quot;);\r\n    \t\tdouble angle = Math.toDegrees(direction);\r\n    \t\tdisplay = String.format(&quot;%.1f&quot;, angle);\r\n    \t\tbuilder.append(display);\r\n    \t\tbuilder.append(&quot; degrees&quot;);\r\n    \r\n    \t\treturn builder.toString();\r\n    \t}\r\n    }\r\n\r\nThe `Shot` class is a plain Java getter/setter class that holds the position, direction, and velocity of a shot.  This class also draws an image of a shot.  \r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.geom.Point2D;\r\n    import java.awt.image.BufferedImage;\r\n    \r\n    public class Shot {\r\n    \r\n    \tprivate final BufferedImage image;\r\n    \r\n    \t/**\r\n    \t * The direction in radians. Zero is north. Positive values rotate\r\n    \t * clockwise. Negative values rotate counterclockwise. The velocity is\r\n    \t * pixels per frame.\r\n    \t */\r\n    \tprivate double direction, velocity;\r\n    \r\n    \tprivate Point2D location;\r\n    \r\n    \tpublic Shot(Point2D location, double direction, Color color) {\r\n    \t\tthis.location = location;\r\n    \t\tthis.direction = direction;\r\n    \t\tthis.velocity = 5.0;\r\n    \t\tthis.image = createShotImage(color);\r\n    \t}\r\n    \r\n    \tprivate BufferedImage createShotImage(Color color) {\r\n    \t\tBufferedImage image = new BufferedImage((int) velocity, (int) velocity,\r\n    \t\t\t\tBufferedImage.TYPE_INT_RGB);\r\n    \t\tint width = image.getWidth();\r\n    \t\tint height = image.getHeight();\r\n    \r\n    \t\tGraphics2D g2d = (Graphics2D) image.getGraphics();\r\n    \t\tg2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n    \t\t\t\tRenderingHints.VALUE_ANTIALIAS_ON);\r\n    \t\tg2d.setColor(color);\r\n    \t\tg2d.fillRect(0, 0, width, height);\r\n    \t\tg2d.dispose();\r\n    \r\n    \t\treturn image;\r\n    \t}\r\n    \r\n    \tpublic boolean moveShot(Dimension drawingPanelSize) {\r\n    \t\tdouble dx = velocity * Math.sin(direction);\r\n    \t\tdouble dy = velocity * Math.cos(direction);\r\n    \t\tdouble x = location.getX() + dx;\r\n    \t\tdouble y = location.getY() - dy;\r\n    \r\n    \t\tif (x &lt; 0.0 || x &gt; drawingPanelSize.width) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\tif (y &lt; 0.0 || y &gt; drawingPanelSize.height) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\tlocation.setLocation(x, y);\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \tpublic double getDirection() {\r\n    \t\treturn direction;\r\n    \t}\r\n    \r\n    \tpublic Point2D getLocation() {\r\n    \t\treturn location;\r\n    \t}\r\n    \r\n    \tpublic BufferedImage getImage() {\r\n    \t\treturn image;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\tStringBuilder builder = new StringBuilder();\r\n    \t\tbuilder.append(&quot;The shot is located at &quot;);\r\n    \t\tString display = String.format(&quot;%.2f&quot;, location.getX());\r\n    \t\tbuilder.append(display);\r\n    \t\tbuilder.append(&quot;, &quot;);\r\n    \t\tdisplay = String.format(&quot;%.2f&quot;, location.getY());\r\n    \t\tbuilder.append(display);\r\n    \t\tbuilder.append(&quot; and facing &quot;);\r\n    \t\tdouble angle = Math.toDegrees(direction);\r\n    \t\tdisplay = String.format(&quot;%.1f&quot;, angle);\r\n    \t\tbuilder.append(display);\r\n    \t\tbuilder.append(&quot; degrees&quot;);\r\n    \r\n    \t\treturn builder.toString();\r\n    \t}\r\n    \r\n    }\r\n\r\n## View\r\n\r\nI created a `JFrame and a drawing `JPanel`.  Because I created a model, the view is much simpler.\r\n\r\nRather than rotating all sorts of Swing components, I created a `BufferedImage` of the ship and each shot.  That way, I could write one rotating method in the drawing `JPanel` and use it for all the images.\r\n\r\nHere&#39;s the `Game` class.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.Timer;\r\n    \r\n    public class Game implements Runnable {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new Game());\r\n    \t}\r\n    \t\r\n    \tprivate final DrawingPanel drawingPanel;\r\n    \t\r\n    \tprivate final GameKeyBindings gameKeyBindings;\r\n    \t\r\n    \tprivate final GameModel model;\r\n    \t\r\n    \tpublic Game() {\r\n    \t\tthis.model = new GameModel();\r\n    \t\tthis.drawingPanel = new DrawingPanel(model);\r\n    \t\tthis.gameKeyBindings = new GameKeyBindings(drawingPanel);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Game&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tframe.add(drawingPanel, BorderLayout.CENTER);\r\n    \t\t\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t\t\r\n    \t\tTimer timer = new Timer(20, new GameListener(this, model));\r\n    \t\ttimer.start();\r\n    \t}\r\n    \r\n    \tpublic GameKeyBindings getGameKeyBindings() {\r\n    \t\treturn gameKeyBindings;\r\n    \t}\r\n    \t\r\n    \tpublic Dimension getDrawingPanelSize() {\r\n    \t\treturn drawingPanel.getSize();\r\n    \t}\r\n    \t\r\n    \tpublic void repaint() {\r\n    \t\tdrawingPanel.repaint();\r\n    \t}\r\n    }\r\n\r\nHere&#39;s the `DrawingPanel` class.\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.geom.AffineTransform;\r\n    import java.awt.geom.Point2D;\r\n    import java.awt.image.AffineTransformOp;\r\n    import java.awt.image.BufferedImage;\r\n    \r\n    import javax.swing.JPanel;\r\n    \r\n    public class DrawingPanel extends JPanel {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \tprivate final GameModel model;\r\n    \r\n    \tpublic DrawingPanel(GameModel model) {\r\n    \t\tthis.model = model;\r\n    \t\tthis.setPreferredSize(model.getDrawingPanelSize());\r\n    \t\tthis.setBackground(Color.BLACK);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void paintComponent(Graphics g) {\r\n    \t\tsuper.paintComponent(g);\r\n    \r\n    \t\tGraphics2D g2d = (Graphics2D) g;\r\n    \t\tg2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n    \t\t\t\tRenderingHints.VALUE_ANTIALIAS_ON);\r\n    \t\t\r\n    \t\tShip ship = model.getShip();\r\n    \t\tBufferedImage image = ship.getImage();\r\n    \t\tPoint2D p = ship.getLocation();\r\n    \t\tdouble rotation = ship.getDirection();\r\n    \r\n    \t\tdrawRotatedImage(g2d, image, p, rotation);\r\n    \t\t\r\n    \t\tfor (Shot shot : model.getShots()) {\r\n    \t\t\timage = shot.getImage();\r\n    \t\t\tp = shot.getLocation();\r\n    \t\t\trotation = shot.getDirection();\r\n    \t\t\t\r\n    \t\t\tdrawRotatedImage(g2d, image, p, rotation);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void drawRotatedImage(Graphics2D g2d, BufferedImage image,\r\n    \t\t\tPoint2D p, double rotation) {\r\n    \t\tBufferedImage rotatedImage = rotateImage(image, rotation);\r\n    \t\tint x = (int) Math.round(p.getX()) - rotatedImage.getWidth() / 2;\r\n    \t\tint y = (int) Math.round(p.getY()) - rotatedImage.getHeight() / 2;\r\n    \r\n    \t\tg2d.drawImage(rotatedImage, x, y, this);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * &lt;p&gt;\r\n    \t * This method will rotate an image on its center point.\r\n    \t * &lt;/p&gt;\r\n    \t * &lt;p&gt;\r\n    \t * First, the image is copied to an image large enough to hold the rotated\r\n    \t * image at any angle. Then, the copied image is rotated.\r\n    \t * &lt;/p&gt;\r\n    \t * \r\n    \t * @param image    - The image to be rotated.\r\n    \t * @param rotation - The rotation angle in radians. A positive value rotates\r\n    \t *                 the image clockwise. A negative value rotates the image\r\n    \t *                 counterclockwise.\r\n    \t * @return The rotated image\r\n    \t */\r\n    \tprivate BufferedImage rotateImage(BufferedImage image, double rotation) {\r\n    \t\tdouble newWidthD = getNewImageWidth(image);\r\n    \t\tdouble halfWidthD = newWidthD / 2.0;\r\n    \t\tint newWidthI = (int) newWidthD;\r\n    \r\n    \t\tBufferedImage newImage = translateImage(image, newWidthI);\r\n    \t\tBufferedImage outputImage = new BufferedImage(newWidthI, newWidthI,\r\n    \t\t\t\timage.getType());\r\n    \t\tAffineTransform tx = AffineTransform.getRotateInstance(rotation,\r\n    \t\t\t\thalfWidthD, halfWidthD);\r\n    \t\tAffineTransformOp op = new AffineTransformOp(tx,\r\n    \t\t\t\tAffineTransformOp.TYPE_BILINEAR);\r\n    \t\top.filter(newImage, outputImage);\r\n    \r\n    \t\treturn outputImage;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * This method calculates the width of the new image. Basically, calculate\r\n    \t * the hypotenuse of the width and height of the image.\r\n    \t * \r\n    \t * @param image - The original image\r\n    \t * @return The width and height of the square that can hold the image\r\n    \t *         rotated at any angle.\r\n    \t */\r\n    \tprivate double getNewImageWidth(BufferedImage image) {\r\n    \t\tint width = image.getWidth();\r\n    \t\tint height = image.getHeight();\r\n    \r\n    \t\tdouble newWidth = width * width + height * height;\r\n    \t\tnewWidth = Math.ceil(Math.pow(newWidth, 0.5));\r\n    \r\n    \t\treturn newWidth;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * This method copies the image to a new image. The original image is placed\r\n    \t * in the center of the new image. The rest of the image is filled with\r\n    \t * transparent pixels.\r\n    \t * \r\n    \t * @param image    - The original image.\r\n    \t * @param newWidth - the width and height of the new image.\r\n    \t * @return The translated image\r\n    \t */\r\n    \tprivate BufferedImage translateImage(BufferedImage image, int newWidth) {\r\n    \t\tBufferedImage newImage = new BufferedImage(newWidth, newWidth,\r\n    \t\t\t\tBufferedImage.TYPE_INT_ARGB);\r\n    \t\tGraphics2D g2d = (Graphics2D) newImage.getGraphics();\r\n    \t\tg2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n    \t\t\t\tRenderingHints.VALUE_ANTIALIAS_ON);\r\n    \t\tg2d.setColor(new Color(0, 0, 0, 0));\r\n    \t\tg2d.fillRect(0, 0, newWidth, newWidth);\r\n    \t\tint x = (newWidth - image.getWidth()) / 2;\r\n    \t\tint y = (newWidth - image.getHeight()) / 2;\r\n    \t\tg2d.drawImage(image, x, y, null);\r\n    \t\tg2d.dispose();\r\n    \r\n    \t\treturn newImage;\r\n    \t}\r\n    \r\n    }\r\n\r\nI separated the key bindings into a separate class, mainly to help organize the code.  I created two private `Action` classes that I could reuse.\r\n\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.KeyEvent;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.ActionMap;\r\n    import javax.swing.InputMap;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.KeyStroke;\r\n    \r\n    public class GameKeyBindings {\r\n    \r\n    \tprivate final Set&lt;Integer&gt; keysPressed;\r\n    \r\n    \tpublic GameKeyBindings(JPanel panel) {\r\n    \t\tthis.keysPressed = new HashSet&lt;&gt;();\r\n    \t\tdefineKeyBindings(panel);\r\n    \t}\r\n    \r\n    \tprivate void defineKeyBindings(JPanel panel) {\r\n    \t\tInputMap inputMap = panel.getInputMap(JPanel.WHEN_IN_FOCUSED_WINDOW);\r\n    \t\tActionMap actionMap = panel.getActionMap();\r\n    \r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0, false),\r\n    \t\t\t\t&quot;moveForward&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0, true),\r\n    \t\t\t\t&quot;forwardStop&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0, false),\r\n    \t\t\t\t&quot;moveBack&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0, true),\r\n    \t\t\t\t&quot;backwardsStop&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0, false),\r\n    \t\t\t\t&quot;rotateLeft&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0, true),\r\n    \t\t\t\t&quot;leftRotateStop&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0, false),\r\n    \t\t\t\t&quot;rotateRight&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0, true),\r\n    \t\t\t\t&quot;rightRotateStop&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0, false),\r\n    \t\t\t\t&quot;shoot&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0, true),\r\n    \t\t\t\t&quot;stopShooting&quot;);\r\n    \r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_W, 0, false),\r\n    \t\t\t\t&quot;moveForward&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_W, 0, true),\r\n    \t\t\t\t&quot;forwardStop&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_S, 0, false),\r\n    \t\t\t\t&quot;moveBack&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_S, 0, true),\r\n    \t\t\t\t&quot;backwardsStop&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_A, 0, false),\r\n    \t\t\t\t&quot;rotateLeft&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_A, 0, true),\r\n    \t\t\t\t&quot;leftRotateStop&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_D, 0, false),\r\n    \t\t\t\t&quot;rotateRight&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_D, 0, true),\r\n    \t\t\t\t&quot;rightRotateStop&quot;);\r\n    \r\n    \t\tactionMap.put(&quot;moveForward&quot;, new KeyAdditionAction(KeyEvent.VK_UP));\r\n    \t\tactionMap.put(&quot;forwardStop&quot;, new KeyRemovalAction(KeyEvent.VK_UP));\r\n    \t\tactionMap.put(&quot;moveBack&quot;, new KeyAdditionAction(KeyEvent.VK_DOWN));\r\n    \t\tactionMap.put(&quot;backwardsStop&quot;, new KeyRemovalAction(KeyEvent.VK_DOWN));\r\n    \t\tactionMap.put(&quot;rotateLeft&quot;, new KeyAdditionAction(KeyEvent.VK_LEFT));\r\n    \t\tactionMap.put(&quot;leftRotateStop&quot;, new KeyRemovalAction(KeyEvent.VK_LEFT));\r\n    \t\tactionMap.put(&quot;rotateRight&quot;, new KeyAdditionAction(KeyEvent.VK_RIGHT));\r\n    \t\tactionMap.put(&quot;rightRotateStop&quot;, new KeyRemovalAction(KeyEvent.VK_RIGHT));\r\n    \t\tactionMap.put(&quot;shoot&quot;, new KeyAdditionAction(KeyEvent.VK_SPACE));\r\n    \t\tactionMap.put(&quot;stopShooting&quot;, new KeyRemovalAction(KeyEvent.VK_SPACE));\r\n    \t}\r\n    \r\n    \tpublic Set&lt;Integer&gt; getKeysPressed() {\r\n    \t\treturn keysPressed;\r\n    \t}\r\n    \r\n    \tprivate class KeyAdditionAction extends AbstractAction {\r\n    \r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\tprivate final int keyEvent;\r\n    \r\n    \t\tpublic KeyAdditionAction(int keyEvent) {\r\n    \t\t\tthis.keyEvent = keyEvent;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void actionPerformed(ActionEvent event) {\r\n    \t\t\tInteger value = Integer.valueOf(keyEvent);\r\n    \t\t\tkeysPressed.add(value);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate class KeyRemovalAction extends AbstractAction {\r\n    \r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\tprivate final int keyEvent;\r\n    \r\n    \t\tpublic KeyRemovalAction(int keyEvent) {\r\n    \t\t\tthis.keyEvent = keyEvent;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void actionPerformed(ActionEvent event) {\r\n    \t\t\tInteger value = Integer.valueOf(keyEvent);\r\n    \t\t\tkeysPressed.remove(value);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n## Controller\r\n\r\nI created one separate controller class.  I alrady mentioned the two private `Action` classes for key bindings.\r\n\r\nThe `GameListener` class is the game loop.  Move the ship, move the shots, and repaint the drawing `JPanel`.\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.geom.Point2D;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n    \r\n    public class GameListener implements ActionListener {\r\n    \r\n    \tprivate final Game view;\r\n    \r\n    \tprivate final GameModel model;\r\n    \r\n    \tpublic GameListener(Game view, GameModel model) {\r\n    \t\tthis.view = view;\r\n    \t\tthis.model = model;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void actionPerformed(ActionEvent event) {\r\n    \t\tdouble velocity = 4.0;\r\n    \t\tdouble degreesRotated = 2.0;\r\n    \t\tGameKeyBindings gameKeyBindings = view.getGameKeyBindings();\r\n    \t\tSet&lt;Integer&gt; keysPressed = gameKeyBindings.getKeysPressed();\r\n    \t\tShip ship = model.getShip();\r\n    \r\n    \t\tmodel.getShip().setVelocity(0.0);\r\n    \t\tif (keysPressed.contains(KeyEvent.VK_UP)) {\r\n    \t\t\tship.setVelocity(velocity);\r\n    \t\t}\r\n    \t\tif (keysPressed.contains(KeyEvent.VK_DOWN)) {\r\n    \t\t\tship.setVelocity(-velocity);\r\n    \t\t}\r\n    \t\tif (keysPressed.contains(KeyEvent.VK_LEFT)) {\r\n    \t\t\tship.incrementDirection(-degreesRotated);\r\n    \t\t}\r\n    \t\tif (keysPressed.contains(KeyEvent.VK_RIGHT)) {\r\n    \t\t\tship.incrementDirection(degreesRotated);\r\n    \t\t}\r\n    \t\tif (keysPressed.contains(KeyEvent.VK_SPACE)) {\r\n    //\t\t\tSystem.out.println(ship);\r\n    \t\t\tPoint2D s = ship.getLocation();\r\n    \t\t\tPoint2D p = new Point2D.Double(s.getX(), s.getY());\r\n    \t\t\tShot shot = new Shot(p, ship.getDirection(), Color.RED);\r\n    \t\t\tmodel.addShot(shot);\r\n    \t\t}\r\n    \r\n    \t\tDimension drawingPanelSize = view.getDrawingPanelSize();\r\n    \t\tship.moveShip(drawingPanelSize);\r\n    \r\n    \t\tList&lt;Shot&gt; shots = model.getShots();\r\n    \t\tfor (int index = shots.size() - 1; index &gt;= 0; index--) {\r\n    \t\t\tShot shot = shots.get(index);\r\n    //\t\t\tSystem.out.println(shot);\r\n    \t\t\tboolean valid = shot.moveShot(drawingPanelSize);\r\n    \t\t\tif (!valid) {\r\n    \t\t\t\tmodel.removeShot(shot);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tview.repaint();\r\n    \t}\r\n    \r\n    }\r\n\r\n# GUI\r\n\r\nHere&#39;s a picture of the revised GUI.  I made it a lot smaller so it fits in this answer better.\r\n\r\nIn Windows, you can click on a box in the upper right corner to make the GUI use the whole display. \r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L7RxL.png\r\n  [2]: https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\r\n  [3]: https://i.stack.imgur.com/zUm2d.png","title":"Java transform having an object in a different transform appear on a certain position","body":"<h1>Introduction</h1>\n<p>I copied your code into my IDE and ran it.</p>\n<p>You have a ship (player) that can rotate, move forward and backward, and can shoot a laser beam.  The up arrow key moves the ship forward, the down arrow key moves the ship backward, the left arrow key rotates the ship counterclockwise, the right arrow key rotates the ship clockwise, and the space bar shoots a laser beam.  Holding the space bar makes the laser beam longer.</p>\n<p>The ship has no momentum.  It only moves for as long as you are holding down one or more of the arrow keys.</p>\n<p>So far, so good.  Here's what it looks like when I start the application and shoot a couple of lasers</p>\n<p><a href=\"https://i.stack.imgur.com/L7RxL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L7RxL.png\" alt=\"enter image description here\" /></a></p>\n<p>In my testing, I found that I could drive the ship off the screen.  I'm not sure what game you're trying to emulate, since you didn't say.</p>\n<p>All four of your classes are extensions of a Java Swing component.  That is not the way to create a complex game.  You will run into problems, as you've already discovered.</p>\n<p>@camickr commented about your painting method.  Organizing your code into classes and methods helps you to isolate problems when debugging your code.</p>\n<h1>Explanation</h1>\n<p>When I create a Swing GUI, I use the <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">model-view-controller</a> (MVC) pattern.  This pattern allows me to separate my concerns and focus on one part of the application at a time.</p>\n<p>In Java Swing, the application model is made up of one or more plain Java getter/setter classes.  The application view is made up of Swing components.  Thye application controller is made up of one or more actions or listeners.</p>\n<p>The application model holds the state of the game.</p>\n<p>The application view shows the state of the game.  Period.  Nothing else.</p>\n<p>The application controllers modify the application model and update or repaint the view.</p>\n<h2>Model</h2>\n<p>I created three model classes, <code>GameModel</code>, <code>Ship</code>, and <code>Shot</code>.</p>\n<p>The <code>GameModel</code> class is a plain Java getter/setter class that holds an instance of <code>Ship</code> and a <code>List</code> of instances of <code>Shot</code>.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.geom.Point2D;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class GameModel {\n\n    private final Dimension drawingPanelSize;\n    \n    private final List&lt;Shot&gt; shots;\n\n    private final Ship ship;\n\n    public GameModel() {\n        this.drawingPanelSize = new Dimension(400, 400);\n        Point2D p = new Point2D.Double(drawingPanelSize.width / 2,\n                drawingPanelSize.height / 2);\n        this.ship = new Ship(p, 0.0, Color.BLUE);\n        this.shots = new ArrayList&lt;&gt;();\n    }\n    \n    public void addShot(Shot shot) {\n        this.shots.add(shot);\n    }\n    \n    public void removeShot(Shot shot) {\n        this.shots.remove(shot);\n    }\n\n    public Dimension getDrawingPanelSize() {\n        return drawingPanelSize;\n    }\n\n    public Ship getShip() {\n        return ship;\n    }\n\n    public List&lt;Shot&gt; getShots() {\n        return shots;\n    }\n\n}\n</code></pre>\n<p>The <code>Ship</code> class is a plain Java getter/setter class that holds the position, direction, and velocity of a ship.  This class also draws an image of a ship.  I made the image a triangle, but you can modify the code to make the ship any combination of shapes you want.</p>\n<p>Every Java class extends <code>Object</code> and can implement a <code>toString</code> method for display or debugging.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics2D;\nimport java.awt.Polygon;\nimport java.awt.RenderingHints;\nimport java.awt.geom.Point2D;\nimport java.awt.image.BufferedImage;\n\npublic class Ship {\n\n    private final BufferedImage image;\n\n    /**\n     * The direction in radians. Zero is north. Positive values rotate\n     * clockwise. Negative values rotate counterclockwise.  The velocity\n     * is pixels per frame.\n     */\n    private double direction, velocity;\n\n    private Point2D location;\n\n    public Ship(Point2D location, double degrees, Color color) {\n        this.location = location;\n        this.direction = Math.toRadians(degrees);\n        this.velocity = 0.0;\n        this.image = createShipImage(color);\n    }\n\n    private BufferedImage createShipImage(Color color) {\n        BufferedImage image = new BufferedImage(25, 40,\n                BufferedImage.TYPE_INT_ARGB);\n        int width = image.getWidth();\n        int height = image.getHeight();\n\n        Graphics2D g2d = (Graphics2D) image.getGraphics();\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n                RenderingHints.VALUE_ANTIALIAS_ON);\n        g2d.setColor(new Color(0, 0, 0, 0));\n        g2d.fillRect(0, 0, width, height);\n\n        Polygon p = new Polygon();\n        p.addPoint(width / 2, 0);\n        p.addPoint(0, height);\n        p.addPoint(width, height);\n\n        g2d.setColor(color);\n        g2d.fillPolygon(p);\n\n        g2d.dispose();\n        \n        return image;\n    }\n    \n    public void moveShip(Dimension drawingPanelSize) {\n        double dx = velocity * Math.sin(direction);\n        double dy = velocity * Math.cos(direction);\n        double x = location.getX() + dx;\n        double y = location.getY() - dy;\n        x = Math.max(0.0, x);\n        x = Math.min(drawingPanelSize.width, x);\n        y = Math.max(0.0, y);\n        y = Math.min(drawingPanelSize.height, y);\n        location.setLocation(x, y);\n    }\n\n    public double getDirection() {\n        return direction;\n    }\n\n    public void incrementDirection(double degrees) {\n        this.direction += Math.toRadians(degrees);\n    }\n\n    public void setVelocity(double velocity) {\n        this.velocity = velocity;\n    }\n\n    public Point2D getLocation() {\n        return location;\n    }\n\n    public BufferedImage getImage() {\n        return image;\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder builder = new StringBuilder();\n        builder.append(&quot;The ship is located at &quot;);\n        String display = String.format(&quot;%.2f&quot;, location.getX());\n        builder.append(display);\n        builder.append(&quot;, &quot;);\n        display = String.format(&quot;%.2f&quot;, location.getY());\n        builder.append(display);\n        builder.append(&quot; and facing &quot;);\n        double angle = Math.toDegrees(direction);\n        display = String.format(&quot;%.1f&quot;, angle);\n        builder.append(display);\n        builder.append(&quot; degrees&quot;);\n\n        return builder.toString();\n    }\n}\n</code></pre>\n<p>The <code>Shot</code> class is a plain Java getter/setter class that holds the position, direction, and velocity of a shot.  This class also draws an image of a shot.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\nimport java.awt.geom.Point2D;\nimport java.awt.image.BufferedImage;\n\npublic class Shot {\n\n    private final BufferedImage image;\n\n    /**\n     * The direction in radians. Zero is north. Positive values rotate\n     * clockwise. Negative values rotate counterclockwise. The velocity is\n     * pixels per frame.\n     */\n    private double direction, velocity;\n\n    private Point2D location;\n\n    public Shot(Point2D location, double direction, Color color) {\n        this.location = location;\n        this.direction = direction;\n        this.velocity = 5.0;\n        this.image = createShotImage(color);\n    }\n\n    private BufferedImage createShotImage(Color color) {\n        BufferedImage image = new BufferedImage((int) velocity, (int) velocity,\n                BufferedImage.TYPE_INT_RGB);\n        int width = image.getWidth();\n        int height = image.getHeight();\n\n        Graphics2D g2d = (Graphics2D) image.getGraphics();\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n                RenderingHints.VALUE_ANTIALIAS_ON);\n        g2d.setColor(color);\n        g2d.fillRect(0, 0, width, height);\n        g2d.dispose();\n\n        return image;\n    }\n\n    public boolean moveShot(Dimension drawingPanelSize) {\n        double dx = velocity * Math.sin(direction);\n        double dy = velocity * Math.cos(direction);\n        double x = location.getX() + dx;\n        double y = location.getY() - dy;\n\n        if (x &lt; 0.0 || x &gt; drawingPanelSize.width) {\n            return false;\n        }\n        if (y &lt; 0.0 || y &gt; drawingPanelSize.height) {\n            return false;\n        }\n\n        location.setLocation(x, y);\n        return true;\n    }\n\n    public double getDirection() {\n        return direction;\n    }\n\n    public Point2D getLocation() {\n        return location;\n    }\n\n    public BufferedImage getImage() {\n        return image;\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder builder = new StringBuilder();\n        builder.append(&quot;The shot is located at &quot;);\n        String display = String.format(&quot;%.2f&quot;, location.getX());\n        builder.append(display);\n        builder.append(&quot;, &quot;);\n        display = String.format(&quot;%.2f&quot;, location.getY());\n        builder.append(display);\n        builder.append(&quot; and facing &quot;);\n        double angle = Math.toDegrees(direction);\n        display = String.format(&quot;%.1f&quot;, angle);\n        builder.append(display);\n        builder.append(&quot; degrees&quot;);\n\n        return builder.toString();\n    }\n\n}\n</code></pre>\n<h2>View</h2>\n<p>I created a <code>JFrame and a drawing </code>JPanel`.  Because I created a model, the view is much simpler.</p>\n<p>Rather than rotating all sorts of Swing components, I created a <code>BufferedImage</code> of the ship and each shot.  That way, I could write one rotating method in the drawing <code>JPanel</code> and use it for all the images.</p>\n<p>Here's the <code>Game</code> class.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\n\nimport javax.swing.JFrame;\nimport javax.swing.SwingUtilities;\nimport javax.swing.Timer;\n\npublic class Game implements Runnable {\n    \n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Game());\n    }\n    \n    private final DrawingPanel drawingPanel;\n    \n    private final GameKeyBindings gameKeyBindings;\n    \n    private final GameModel model;\n    \n    public Game() {\n        this.model = new GameModel();\n        this.drawingPanel = new DrawingPanel(model);\n        this.gameKeyBindings = new GameKeyBindings(drawingPanel);\n    }\n    \n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Game&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        frame.add(drawingPanel, BorderLayout.CENTER);\n        \n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n        \n        Timer timer = new Timer(20, new GameListener(this, model));\n        timer.start();\n    }\n\n    public GameKeyBindings getGameKeyBindings() {\n        return gameKeyBindings;\n    }\n    \n    public Dimension getDrawingPanelSize() {\n        return drawingPanel.getSize();\n    }\n    \n    public void repaint() {\n        drawingPanel.repaint();\n    }\n}\n</code></pre>\n<p>Here's the <code>DrawingPanel</code> class.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\nimport java.awt.geom.AffineTransform;\nimport java.awt.geom.Point2D;\nimport java.awt.image.AffineTransformOp;\nimport java.awt.image.BufferedImage;\n\nimport javax.swing.JPanel;\n\npublic class DrawingPanel extends JPanel {\n\n    private static final long serialVersionUID = 1L;\n\n    private final GameModel model;\n\n    public DrawingPanel(GameModel model) {\n        this.model = model;\n        this.setPreferredSize(model.getDrawingPanelSize());\n        this.setBackground(Color.BLACK);\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n\n        Graphics2D g2d = (Graphics2D) g;\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n                RenderingHints.VALUE_ANTIALIAS_ON);\n        \n        Ship ship = model.getShip();\n        BufferedImage image = ship.getImage();\n        Point2D p = ship.getLocation();\n        double rotation = ship.getDirection();\n\n        drawRotatedImage(g2d, image, p, rotation);\n        \n        for (Shot shot : model.getShots()) {\n            image = shot.getImage();\n            p = shot.getLocation();\n            rotation = shot.getDirection();\n            \n            drawRotatedImage(g2d, image, p, rotation);\n        }\n    }\n\n    private void drawRotatedImage(Graphics2D g2d, BufferedImage image,\n            Point2D p, double rotation) {\n        BufferedImage rotatedImage = rotateImage(image, rotation);\n        int x = (int) Math.round(p.getX()) - rotatedImage.getWidth() / 2;\n        int y = (int) Math.round(p.getY()) - rotatedImage.getHeight() / 2;\n\n        g2d.drawImage(rotatedImage, x, y, this);\n    }\n\n    /**\n     * &lt;p&gt;\n     * This method will rotate an image on its center point.\n     * &lt;/p&gt;\n     * &lt;p&gt;\n     * First, the image is copied to an image large enough to hold the rotated\n     * image at any angle. Then, the copied image is rotated.\n     * &lt;/p&gt;\n     * \n     * @param image    - The image to be rotated.\n     * @param rotation - The rotation angle in radians. A positive value rotates\n     *                 the image clockwise. A negative value rotates the image\n     *                 counterclockwise.\n     * @return The rotated image\n     */\n    private BufferedImage rotateImage(BufferedImage image, double rotation) {\n        double newWidthD = getNewImageWidth(image);\n        double halfWidthD = newWidthD / 2.0;\n        int newWidthI = (int) newWidthD;\n\n        BufferedImage newImage = translateImage(image, newWidthI);\n        BufferedImage outputImage = new BufferedImage(newWidthI, newWidthI,\n                image.getType());\n        AffineTransform tx = AffineTransform.getRotateInstance(rotation,\n                halfWidthD, halfWidthD);\n        AffineTransformOp op = new AffineTransformOp(tx,\n                AffineTransformOp.TYPE_BILINEAR);\n        op.filter(newImage, outputImage);\n\n        return outputImage;\n    }\n\n    /**\n     * This method calculates the width of the new image. Basically, calculate\n     * the hypotenuse of the width and height of the image.\n     * \n     * @param image - The original image\n     * @return The width and height of the square that can hold the image\n     *         rotated at any angle.\n     */\n    private double getNewImageWidth(BufferedImage image) {\n        int width = image.getWidth();\n        int height = image.getHeight();\n\n        double newWidth = width * width + height * height;\n        newWidth = Math.ceil(Math.pow(newWidth, 0.5));\n\n        return newWidth;\n    }\n\n    /**\n     * This method copies the image to a new image. The original image is placed\n     * in the center of the new image. The rest of the image is filled with\n     * transparent pixels.\n     * \n     * @param image    - The original image.\n     * @param newWidth - the width and height of the new image.\n     * @return The translated image\n     */\n    private BufferedImage translateImage(BufferedImage image, int newWidth) {\n        BufferedImage newImage = new BufferedImage(newWidth, newWidth,\n                BufferedImage.TYPE_INT_ARGB);\n        Graphics2D g2d = (Graphics2D) newImage.getGraphics();\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n                RenderingHints.VALUE_ANTIALIAS_ON);\n        g2d.setColor(new Color(0, 0, 0, 0));\n        g2d.fillRect(0, 0, newWidth, newWidth);\n        int x = (newWidth - image.getWidth()) / 2;\n        int y = (newWidth - image.getHeight()) / 2;\n        g2d.drawImage(image, x, y, null);\n        g2d.dispose();\n\n        return newImage;\n    }\n\n}\n</code></pre>\n<p>I separated the key bindings into a separate class, mainly to help organize the code.  I created two private <code>Action</code> classes that I could reuse.</p>\n<pre><code>import java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport javax.swing.AbstractAction;\nimport javax.swing.ActionMap;\nimport javax.swing.InputMap;\nimport javax.swing.JPanel;\nimport javax.swing.KeyStroke;\n\npublic class GameKeyBindings {\n\n    private final Set&lt;Integer&gt; keysPressed;\n\n    public GameKeyBindings(JPanel panel) {\n        this.keysPressed = new HashSet&lt;&gt;();\n        defineKeyBindings(panel);\n    }\n\n    private void defineKeyBindings(JPanel panel) {\n        InputMap inputMap = panel.getInputMap(JPanel.WHEN_IN_FOCUSED_WINDOW);\n        ActionMap actionMap = panel.getActionMap();\n\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0, false),\n                &quot;moveForward&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0, true),\n                &quot;forwardStop&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0, false),\n                &quot;moveBack&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0, true),\n                &quot;backwardsStop&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0, false),\n                &quot;rotateLeft&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0, true),\n                &quot;leftRotateStop&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0, false),\n                &quot;rotateRight&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0, true),\n                &quot;rightRotateStop&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0, false),\n                &quot;shoot&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0, true),\n                &quot;stopShooting&quot;);\n\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_W, 0, false),\n                &quot;moveForward&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_W, 0, true),\n                &quot;forwardStop&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_S, 0, false),\n                &quot;moveBack&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_S, 0, true),\n                &quot;backwardsStop&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_A, 0, false),\n                &quot;rotateLeft&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_A, 0, true),\n                &quot;leftRotateStop&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_D, 0, false),\n                &quot;rotateRight&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_D, 0, true),\n                &quot;rightRotateStop&quot;);\n\n        actionMap.put(&quot;moveForward&quot;, new KeyAdditionAction(KeyEvent.VK_UP));\n        actionMap.put(&quot;forwardStop&quot;, new KeyRemovalAction(KeyEvent.VK_UP));\n        actionMap.put(&quot;moveBack&quot;, new KeyAdditionAction(KeyEvent.VK_DOWN));\n        actionMap.put(&quot;backwardsStop&quot;, new KeyRemovalAction(KeyEvent.VK_DOWN));\n        actionMap.put(&quot;rotateLeft&quot;, new KeyAdditionAction(KeyEvent.VK_LEFT));\n        actionMap.put(&quot;leftRotateStop&quot;, new KeyRemovalAction(KeyEvent.VK_LEFT));\n        actionMap.put(&quot;rotateRight&quot;, new KeyAdditionAction(KeyEvent.VK_RIGHT));\n        actionMap.put(&quot;rightRotateStop&quot;, new KeyRemovalAction(KeyEvent.VK_RIGHT));\n        actionMap.put(&quot;shoot&quot;, new KeyAdditionAction(KeyEvent.VK_SPACE));\n        actionMap.put(&quot;stopShooting&quot;, new KeyRemovalAction(KeyEvent.VK_SPACE));\n    }\n\n    public Set&lt;Integer&gt; getKeysPressed() {\n        return keysPressed;\n    }\n\n    private class KeyAdditionAction extends AbstractAction {\n\n        private static final long serialVersionUID = 1L;\n\n        private final int keyEvent;\n\n        public KeyAdditionAction(int keyEvent) {\n            this.keyEvent = keyEvent;\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent event) {\n            Integer value = Integer.valueOf(keyEvent);\n            keysPressed.add(value);\n        }\n    }\n\n    private class KeyRemovalAction extends AbstractAction {\n\n        private static final long serialVersionUID = 1L;\n\n        private final int keyEvent;\n\n        public KeyRemovalAction(int keyEvent) {\n            this.keyEvent = keyEvent;\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent event) {\n            Integer value = Integer.valueOf(keyEvent);\n            keysPressed.remove(value);\n        }\n    }\n\n}\n</code></pre>\n<h2>Controller</h2>\n<p>I created one separate controller class.  I alrady mentioned the two private <code>Action</code> classes for key bindings.</p>\n<p>The <code>GameListener</code> class is the game loop.  Move the ship, move the shots, and repaint the drawing <code>JPanel</code>.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\nimport java.awt.geom.Point2D;\nimport java.util.List;\nimport java.util.Set;\n\npublic class GameListener implements ActionListener {\n\n    private final Game view;\n\n    private final GameModel model;\n\n    public GameListener(Game view, GameModel model) {\n        this.view = view;\n        this.model = model;\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent event) {\n        double velocity = 4.0;\n        double degreesRotated = 2.0;\n        GameKeyBindings gameKeyBindings = view.getGameKeyBindings();\n        Set&lt;Integer&gt; keysPressed = gameKeyBindings.getKeysPressed();\n        Ship ship = model.getShip();\n\n        model.getShip().setVelocity(0.0);\n        if (keysPressed.contains(KeyEvent.VK_UP)) {\n            ship.setVelocity(velocity);\n        }\n        if (keysPressed.contains(KeyEvent.VK_DOWN)) {\n            ship.setVelocity(-velocity);\n        }\n        if (keysPressed.contains(KeyEvent.VK_LEFT)) {\n            ship.incrementDirection(-degreesRotated);\n        }\n        if (keysPressed.contains(KeyEvent.VK_RIGHT)) {\n            ship.incrementDirection(degreesRotated);\n        }\n        if (keysPressed.contains(KeyEvent.VK_SPACE)) {\n//          System.out.println(ship);\n            Point2D s = ship.getLocation();\n            Point2D p = new Point2D.Double(s.getX(), s.getY());\n            Shot shot = new Shot(p, ship.getDirection(), Color.RED);\n            model.addShot(shot);\n        }\n\n        Dimension drawingPanelSize = view.getDrawingPanelSize();\n        ship.moveShip(drawingPanelSize);\n\n        List&lt;Shot&gt; shots = model.getShots();\n        for (int index = shots.size() - 1; index &gt;= 0; index--) {\n            Shot shot = shots.get(index);\n//          System.out.println(shot);\n            boolean valid = shot.moveShot(drawingPanelSize);\n            if (!valid) {\n                model.removeShot(shot);\n            }\n        }\n\n        view.repaint();\n    }\n\n}\n</code></pre>\n<h1>GUI</h1>\n<p>Here's a picture of the revised GUI.  I made it a lot smaller so it fits in this answer better.</p>\n<p>In Windows, you can click on a box in the upper right corner to make the GUI use the whole display.</p>\n<p><a href=\"https://i.stack.imgur.com/zUm2d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zUm2d.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":76937201,"answer_count":1,"score":0,"last_activity_date":1692482675,"creation_date":1692264139,"question_id":76920133,"body_markdown":"Ok so I have an issue with shots being fired from the player. The shots always appear from  certain place and not in front of the player. I have placed a green square where the shots fires from but of course they should be firing from in this case one of the short sides of the blue rectangle. \r\n\r\nI know the issue is caused by the transform. Essentially how the shot object positions is not updated together with the player object. But I simply do not know how to fix the issue.\r\n\r\nThe commented out code to draw a green triangle inside the players transform essentially will do what I the shot object to do. But I am not sure how to make that happen.\r\n\r\n\r\n\r\n\r\n\r\nMain/frame class\r\n\r\n```\r\npublic class Test extends JFrame {\r\n   public static void main(String argvs[]) {\r\n        Board board = new Board();\r\n        board.timer.start();\r\n        Test frame = new Test();\r\n        frame.add(board);\r\n        frame.setTitle(&quot;overflow&quot;);\r\n        frame.setExtendedState(JFrame.MAXIMIZED_BOTH);   \r\n        frame.setResizable(false);      \r\n        frame.setVisible(true);\r\n        frame.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    }\r\n}\r\n\r\n```\r\n\r\nBoard class\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Toolkit;\r\nimport javax.swing.JComponent;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\nimport javax.swing.Timer;\r\n\r\npublic class Board extends JComponent implements ActionListener  {\r\n    Dimension size = Toolkit.getDefaultToolkit().getScreenSize();\r\n\r\n    Player player = new Player();\r\n\r\n    Timer timer=new Timer(16, this);\r\n\r\n    public Board(){\r\n        //setFocusable(true);\r\n        add(player);\r\n    }\r\n\r\n    @Override\r\n\tpublic void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        g.setPaintMode();\r\n        board(g);\r\n        player.draw(g);\r\n        for (int i = player.playerShot.size() - 1; i &gt;=0 ; i--) {\r\n\t\t\tShot shot = player.playerShot.get(i);\r\n\t\t\tif(shot.shotX &lt; 0 || shot.shotY &lt; 0 || shot.shotX &gt; size.getWidth() || shot.shotY &gt; size.getHeight())  { \r\n\t\t\t\tplayer.playerShot.remove(i);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tshot.collision();\r\n\t\t\tshot.draw(g);\r\n        }\r\n    }\r\n\r\n    void board(Graphics g){\r\n        g.setColor(Color.BLACK);\r\n        g.fillRect(0, 0, (int)size.getWidth(), (int)size.getHeight());\r\n \r\n    }\r\n\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent ev){\r\n        if(ev.getSource()==timer){\r\n            player.movement();\r\n            //shot.collision();\r\n          repaint();// this will call at every 1 second\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nPlayer class\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.Rectangle;\r\nimport java.awt.RenderingHints;\r\nimport java.awt.Toolkit;\r\nimport java.awt.geom.AffineTransform;\r\nimport java.util.ArrayList;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\nimport javax.swing.*;\r\nimport java.awt.event.*;\r\n\r\npublic class Player extends JComponent {\r\n    Dimension size = Toolkit.getDefaultToolkit().getScreenSize();\r\n    int playerX; // Position of the player\r\n    int playerY;\r\n    private double rotationAngle; // Angle in radians\r\n    public Set&lt;Integer&gt; keysPressed; // Store the keys being pressed\r\n    boolean moving = false;\r\n    ArrayList&lt;Shot&gt; playerShot = new ArrayList&lt;Shot&gt;();\r\n\r\n\r\n\r\n    public Player() {\r\n\r\n        playerX = (int) (size.getWidth() / 2); // Initialize player position (you can set your own initial position)\r\n        playerY = (int) (size.getHeight() / 2);\r\n        rotationAngle = 0; \r\n        keysPressed = new HashSet&lt;&gt;();\r\n\r\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0, false), &quot;moveForward&quot;);\r\n        getActionMap().put(&quot;moveForward&quot;, new AbstractAction() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                keysPressed.add(KeyEvent.VK_UP); \r\n                //movement();            \r\n            }\r\n        });\r\n\r\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0, true), &quot;forwardStop&quot;);\r\n        getActionMap().put(&quot;forwardStop&quot;, new AbstractAction() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                keysPressed.remove(KeyEvent.VK_UP);                \r\n                //movement();            \r\n            }\r\n        });\r\n\r\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0, false), &quot;moveBack&quot;);\r\n        getActionMap().put(&quot;moveBack&quot;, new AbstractAction() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                keysPressed.add(KeyEvent.VK_DOWN);                \r\n               // movement();\r\n            }\r\n        });\r\n\r\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0, true), &quot;backwardsStop&quot;);\r\n        getActionMap().put(&quot;backwardsStop&quot;, new AbstractAction() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                keysPressed.remove(KeyEvent.VK_DOWN);                \r\n               // movement();\r\n            }\r\n        });\r\n\r\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0, false), &quot;rotateLeft&quot;);\r\n        getActionMap().put(&quot;rotateLeft&quot;, new AbstractAction() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                keysPressed.add(KeyEvent.VK_LEFT);                \r\n                //movement();           \r\n            }\r\n        });\r\n\r\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0, true), &quot;leftRotateStop&quot;);\r\n        getActionMap().put(&quot;leftRotateStop&quot;, new AbstractAction() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                keysPressed.remove(KeyEvent.VK_LEFT);                \r\n                //movement();           \r\n            }\r\n        });\r\n\r\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0, false), &quot;rotateRight&quot;);\r\n        getActionMap().put(&quot;rotateRight&quot;, new AbstractAction() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                keysPressed.add(KeyEvent.VK_RIGHT);                \r\n                //movement();            \r\n            }\r\n        });\r\n\r\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0, true), &quot;rightRotateStop&quot;);\r\n        getActionMap().put(&quot;rightRotateStop&quot;, new AbstractAction() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                keysPressed.remove(KeyEvent.VK_RIGHT);                \r\n                //movement();            \r\n            }\r\n        });\r\n\r\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0, false), &quot;Shoot&quot;);\r\n        getActionMap().put(&quot;Shoot&quot;, new AbstractAction() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                keysPressed.add(KeyEvent.VK_SPACE);                \r\n                //movement();            \r\n            }\r\n        });\r\n\r\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0, true), &quot;stopShoting&quot;);\r\n        getActionMap().put(&quot;stopShoting&quot;, new AbstractAction() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                keysPressed.remove(KeyEvent.VK_SPACE);                \r\n                //movement();            \r\n            }\r\n        });\r\n    }\r\n\r\n    public void movement() {\r\n        //System.out.println(&quot;player is at &quot; + playerX +&quot; &quot; +playerY);\r\n        int moveDistance = 4;\r\n\r\n        if (keysPressed.contains(KeyEvent.VK_UP)) {\r\n            // Move forward\r\n            playerX += moveDistance * Math.sin(rotationAngle);\r\n            playerY -= moveDistance * Math.cos(rotationAngle);\r\n        }\r\n\r\n        if (keysPressed.contains(KeyEvent.VK_DOWN)) {\r\n            // Move backward\r\n            playerX -= moveDistance * Math.sin(rotationAngle);\r\n            playerY += moveDistance * Math.cos(rotationAngle);\r\n        }\r\n\r\n        if (keysPressed.contains(KeyEvent.VK_LEFT)) {\r\n            rotationAngle -= Math.toRadians(2); \r\n        }\r\n        \r\n        if (keysPressed.contains(KeyEvent.VK_RIGHT)) {\r\n            // Rotate left\r\n            rotationAngle += Math.toRadians(2); \r\n        }\r\n\r\n        if (keysPressed.contains(KeyEvent.VK_SPACE)) {\r\n            playerShot.add(shoot());\r\n            //shoot();\r\n\r\n            //Shot shot = new Shot();\r\n            //shot.collision(playerX,playerY);\r\n            // Rotate right\r\n        }\r\n       // System.out.println(keysPressed);\r\n    }\r\n\r\n    public Shot shoot() {\r\n        return new Shot(playerX + 6, playerY - 10,rotationAngle);\r\n    }\r\n\r\n    public void draw(Graphics g) {\r\n        Graphics2D g2d = (Graphics2D) g;\r\n\r\n        g2d.setColor(Color.BLUE);\r\n\r\n\r\n        Rectangle player = new Rectangle(playerX, playerY, 15, 50);\r\n\r\n        \r\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n\r\n        AffineTransform oldTransform = g2d.getTransform(); // Save the current transform\r\n\r\n\r\n        AffineTransform rotationTransform = new AffineTransform();\r\n        rotationTransform.rotate(rotationAngle, playerX + player.getWidth() / 2, playerY + player.getHeight() / 2);\r\n        g2d.setTransform(rotationTransform);\r\n        g2d.fill(player);\r\n\r\n        //g2d.setColor(Color.green);\r\n        //g2d.fillRect(playerX+6, playerY-10, 5, 5);\r\n\r\n        g2d.setTransform(oldTransform); // Restore the original transform\r\n\r\n        g2d.setColor(Color.green);\r\n        g2d.fillRect(playerX+6, playerY-10, 5, 5);\r\n\r\n\r\n        \r\n    }\r\n}\r\n\r\n\r\n```\r\nShot class\r\n\r\n```\r\nimport java.awt.Graphics2D;\r\nimport java.awt.Rectangle;\r\nimport java.awt.RenderingHints;\r\nimport java.awt.image.BufferedImage;\r\nimport javax.swing.JComponent;\r\n\r\nimport java.awt.Toolkit;\r\nimport java.awt.geom.AffineTransform;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\n\r\n\r\npublic class Shot extends JComponent {\r\n    int shotX;\r\n    int shotY;\r\n    private double rotationAngle; // Angle in radians\r\n    Dimension size = Toolkit.getDefaultToolkit().getScreenSize();\r\n    \r\n    public Shot(int shotX,int shotY,double rotationAngle) {\r\n        this.shotX = shotX;\r\n        this.shotY = shotY;\r\n        this.rotationAngle = rotationAngle;\r\n    }\r\n\r\n    public void draw(Graphics g) {\r\n        Graphics2D g2d = (Graphics2D) g;\r\n\r\n        g2d.setColor(Color.red);\r\n\r\n\r\n        Rectangle shot = new Rectangle(shotX, shotY, 5, 5);\r\n\r\n        \r\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n\r\n        AffineTransform oldTransform = g2d.getTransform(); // Save the current transform\r\n\r\n\r\n        AffineTransform rotationTransform = new AffineTransform();\r\n        rotationTransform.rotate(rotationAngle, shotX + shot.getWidth() / 2, shotY + shot.getHeight() / 2);\r\n\r\n        g2d.setTransform(rotationTransform);\r\n        g2d.fill(shot);\r\n        g2d.setTransform(oldTransform); // Restore the original transform\r\n        \r\n    }\r\n\r\n    public  void collision(){\r\n\r\n        shotX += 4 * Math.sin(rotationAngle);\r\n        shotY -= 4 * Math.cos(rotationAngle);\r\n\r\n        \r\n      /*   if ((shotX &lt;= -5)|| (shotX &gt;= (int)(size.getWidth() + 5)) || (shotY  &lt;= -5 || shotY &gt;= (int)(size.getHeight() + 5))){\r\n            System.out.println(&quot;aaaa&quot;);      \r\n        } */\r\n            //shotX += 2;\r\n           // shotY -= 2;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n","title":"Java transform having an object in a different transform appear on a certain position","body":"<p>Ok so I have an issue with shots being fired from the player. The shots always appear from  certain place and not in front of the player. I have placed a green square where the shots fires from but of course they should be firing from in this case one of the short sides of the blue rectangle.</p>\n<p>I know the issue is caused by the transform. Essentially how the shot object positions is not updated together with the player object. But I simply do not know how to fix the issue.</p>\n<p>The commented out code to draw a green triangle inside the players transform essentially will do what I the shot object to do. But I am not sure how to make that happen.</p>\n<p>Main/frame class</p>\n<pre><code>public class Test extends JFrame {\n   public static void main(String argvs[]) {\n        Board board = new Board();\n        board.timer.start();\n        Test frame = new Test();\n        frame.add(board);\n        frame.setTitle(&quot;overflow&quot;);\n        frame.setExtendedState(JFrame.MAXIMIZED_BOTH);   \n        frame.setResizable(false);      \n        frame.setVisible(true);\n        frame.setDefaultCloseOperation(EXIT_ON_CLOSE);\n    }\n}\n\n</code></pre>\n<p>Board class</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Toolkit;\nimport javax.swing.JComponent;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.Timer;\n\npublic class Board extends JComponent implements ActionListener  {\n    Dimension size = Toolkit.getDefaultToolkit().getScreenSize();\n\n    Player player = new Player();\n\n    Timer timer=new Timer(16, this);\n\n    public Board(){\n        //setFocusable(true);\n        add(player);\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        g.setPaintMode();\n        board(g);\n        player.draw(g);\n        for (int i = player.playerShot.size() - 1; i &gt;=0 ; i--) {\n            Shot shot = player.playerShot.get(i);\n            if(shot.shotX &lt; 0 || shot.shotY &lt; 0 || shot.shotX &gt; size.getWidth() || shot.shotY &gt; size.getHeight())  { \n                player.playerShot.remove(i);\n                continue;\n            }\n            shot.collision();\n            shot.draw(g);\n        }\n    }\n\n    void board(Graphics g){\n        g.setColor(Color.BLACK);\n        g.fillRect(0, 0, (int)size.getWidth(), (int)size.getHeight());\n \n    }\n\n\n    @Override\n    public void actionPerformed(ActionEvent ev){\n        if(ev.getSource()==timer){\n            player.movement();\n            //shot.collision();\n          repaint();// this will call at every 1 second\n        }\n    }\n}\n</code></pre>\n<p>Player class</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Rectangle;\nimport java.awt.RenderingHints;\nimport java.awt.Toolkit;\nimport java.awt.geom.AffineTransform;\nimport java.util.ArrayList;\nimport java.util.HashSet;\nimport java.util.Set;\nimport javax.swing.*;\nimport java.awt.event.*;\n\npublic class Player extends JComponent {\n    Dimension size = Toolkit.getDefaultToolkit().getScreenSize();\n    int playerX; // Position of the player\n    int playerY;\n    private double rotationAngle; // Angle in radians\n    public Set&lt;Integer&gt; keysPressed; // Store the keys being pressed\n    boolean moving = false;\n    ArrayList&lt;Shot&gt; playerShot = new ArrayList&lt;Shot&gt;();\n\n\n\n    public Player() {\n\n        playerX = (int) (size.getWidth() / 2); // Initialize player position (you can set your own initial position)\n        playerY = (int) (size.getHeight() / 2);\n        rotationAngle = 0; \n        keysPressed = new HashSet&lt;&gt;();\n\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0, false), &quot;moveForward&quot;);\n        getActionMap().put(&quot;moveForward&quot;, new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                keysPressed.add(KeyEvent.VK_UP); \n                //movement();            \n            }\n        });\n\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0, true), &quot;forwardStop&quot;);\n        getActionMap().put(&quot;forwardStop&quot;, new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                keysPressed.remove(KeyEvent.VK_UP);                \n                //movement();            \n            }\n        });\n\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0, false), &quot;moveBack&quot;);\n        getActionMap().put(&quot;moveBack&quot;, new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                keysPressed.add(KeyEvent.VK_DOWN);                \n               // movement();\n            }\n        });\n\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0, true), &quot;backwardsStop&quot;);\n        getActionMap().put(&quot;backwardsStop&quot;, new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                keysPressed.remove(KeyEvent.VK_DOWN);                \n               // movement();\n            }\n        });\n\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0, false), &quot;rotateLeft&quot;);\n        getActionMap().put(&quot;rotateLeft&quot;, new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                keysPressed.add(KeyEvent.VK_LEFT);                \n                //movement();           \n            }\n        });\n\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0, true), &quot;leftRotateStop&quot;);\n        getActionMap().put(&quot;leftRotateStop&quot;, new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                keysPressed.remove(KeyEvent.VK_LEFT);                \n                //movement();           \n            }\n        });\n\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0, false), &quot;rotateRight&quot;);\n        getActionMap().put(&quot;rotateRight&quot;, new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                keysPressed.add(KeyEvent.VK_RIGHT);                \n                //movement();            \n            }\n        });\n\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0, true), &quot;rightRotateStop&quot;);\n        getActionMap().put(&quot;rightRotateStop&quot;, new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                keysPressed.remove(KeyEvent.VK_RIGHT);                \n                //movement();            \n            }\n        });\n\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0, false), &quot;Shoot&quot;);\n        getActionMap().put(&quot;Shoot&quot;, new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                keysPressed.add(KeyEvent.VK_SPACE);                \n                //movement();            \n            }\n        });\n\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0, true), &quot;stopShoting&quot;);\n        getActionMap().put(&quot;stopShoting&quot;, new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                keysPressed.remove(KeyEvent.VK_SPACE);                \n                //movement();            \n            }\n        });\n    }\n\n    public void movement() {\n        //System.out.println(&quot;player is at &quot; + playerX +&quot; &quot; +playerY);\n        int moveDistance = 4;\n\n        if (keysPressed.contains(KeyEvent.VK_UP)) {\n            // Move forward\n            playerX += moveDistance * Math.sin(rotationAngle);\n            playerY -= moveDistance * Math.cos(rotationAngle);\n        }\n\n        if (keysPressed.contains(KeyEvent.VK_DOWN)) {\n            // Move backward\n            playerX -= moveDistance * Math.sin(rotationAngle);\n            playerY += moveDistance * Math.cos(rotationAngle);\n        }\n\n        if (keysPressed.contains(KeyEvent.VK_LEFT)) {\n            rotationAngle -= Math.toRadians(2); \n        }\n        \n        if (keysPressed.contains(KeyEvent.VK_RIGHT)) {\n            // Rotate left\n            rotationAngle += Math.toRadians(2); \n        }\n\n        if (keysPressed.contains(KeyEvent.VK_SPACE)) {\n            playerShot.add(shoot());\n            //shoot();\n\n            //Shot shot = new Shot();\n            //shot.collision(playerX,playerY);\n            // Rotate right\n        }\n       // System.out.println(keysPressed);\n    }\n\n    public Shot shoot() {\n        return new Shot(playerX + 6, playerY - 10,rotationAngle);\n    }\n\n    public void draw(Graphics g) {\n        Graphics2D g2d = (Graphics2D) g;\n\n        g2d.setColor(Color.BLUE);\n\n\n        Rectangle player = new Rectangle(playerX, playerY, 15, 50);\n\n        \n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n\n        AffineTransform oldTransform = g2d.getTransform(); // Save the current transform\n\n\n        AffineTransform rotationTransform = new AffineTransform();\n        rotationTransform.rotate(rotationAngle, playerX + player.getWidth() / 2, playerY + player.getHeight() / 2);\n        g2d.setTransform(rotationTransform);\n        g2d.fill(player);\n\n        //g2d.setColor(Color.green);\n        //g2d.fillRect(playerX+6, playerY-10, 5, 5);\n\n        g2d.setTransform(oldTransform); // Restore the original transform\n\n        g2d.setColor(Color.green);\n        g2d.fillRect(playerX+6, playerY-10, 5, 5);\n\n\n        \n    }\n}\n\n\n</code></pre>\n<p>Shot class</p>\n<pre><code>import java.awt.Graphics2D;\nimport java.awt.Rectangle;\nimport java.awt.RenderingHints;\nimport java.awt.image.BufferedImage;\nimport javax.swing.JComponent;\n\nimport java.awt.Toolkit;\nimport java.awt.geom.AffineTransform;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\n\n\npublic class Shot extends JComponent {\n    int shotX;\n    int shotY;\n    private double rotationAngle; // Angle in radians\n    Dimension size = Toolkit.getDefaultToolkit().getScreenSize();\n    \n    public Shot(int shotX,int shotY,double rotationAngle) {\n        this.shotX = shotX;\n        this.shotY = shotY;\n        this.rotationAngle = rotationAngle;\n    }\n\n    public void draw(Graphics g) {\n        Graphics2D g2d = (Graphics2D) g;\n\n        g2d.setColor(Color.red);\n\n\n        Rectangle shot = new Rectangle(shotX, shotY, 5, 5);\n\n        \n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n\n        AffineTransform oldTransform = g2d.getTransform(); // Save the current transform\n\n\n        AffineTransform rotationTransform = new AffineTransform();\n        rotationTransform.rotate(rotationAngle, shotX + shot.getWidth() / 2, shotY + shot.getHeight() / 2);\n\n        g2d.setTransform(rotationTransform);\n        g2d.fill(shot);\n        g2d.setTransform(oldTransform); // Restore the original transform\n        \n    }\n\n    public  void collision(){\n\n        shotX += 4 * Math.sin(rotationAngle);\n        shotY -= 4 * Math.cos(rotationAngle);\n\n        \n      /*   if ((shotX &lt;= -5)|| (shotX &gt;= (int)(size.getWidth() + 5)) || (shotY  &lt;= -5 || shotY &gt;= (int)(size.getHeight() + 5))){\n            System.out.println(&quot;aaaa&quot;);      \n        } */\n            //shotX += 2;\n           // shotY -= 2;\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","gradle","zip","aws-cdk","bitbucket-pipelines"],"comments":[{"owner":{"account_id":152954,"reputation":16366,"user_id":367865,"accept_rate":45,"display_name":"Ouroborus"},"score":1,"creation_date":1692476729,"post_id":76936707,"comment_id":135629414,"body_markdown":"The zip format includes timestamps for &quot;created&quot; and &quot;modified&quot;. (These fields were retired in newer versions of pkzip but still exist on the file entries.) These fields may cause the archive to have a different hash from one that was constructed at a different time.","body":"The zip format includes timestamps for &quot;created&quot; and &quot;modified&quot;. (These fields were retired in newer versions of pkzip but still exist on the file entries.) These fields may cause the archive to have a different hash from one that was constructed at a different time."}],"owner":{"account_id":1926234,"reputation":8411,"user_id":1736601,"accept_rate":70,"display_name":"atkayla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692480327,"creation_date":1692472915,"question_id":76936707,"body_markdown":"I have a Bitbucket Pipeline that runs `gradle build` &gt; `cdk deploy`. \r\n\r\nI am using gradle to build and zip a directory of Java code, then using this zip to deploy a lambda function with cdk Java. \r\n\r\n```\r\nFunction.Builder.create(this, &quot;mylambda&quot;)\r\n                .code(Code.fromAsset(&quot;somepath/mylambda/build/distributions/mylambda.zip&quot;))\r\n```\r\n\r\nAt the end of running the Bitbucket Pipeline, it outputs the asset at `cdk.out/asset.&lt;hash&gt;.zip` where `&lt;hash&gt;` keeps changing, even when the code does not. So this is clogging up my S3 with a bunch of asset zips that have the same code. \r\n\r\nI had to use a Bitbucket Pipeline changeset to work around this, but I don&#39;t think this should be necessary and doesn&#39;t seem like the proper solution. I feel like the hash shouldn&#39;t be changing.\r\n```\r\n    - step:\r\n        name: &quot;deploy&quot;\r\n        condition:\r\n          changesets:\r\n            includePaths:\r\n              - somepath/mylambda/**\r\n```\r\n\r\nI am not sure where the issue is, whether it&#39;s in gradle or cdk or the Bitbucket Pipeline, that is causing redundant asset zips. Any ideas why the hash keeps changing?\r\n\r\nUPDATE: It seems like it works as expected when cdk commands are ran locally on my laptop: same code =&gt; same asset hash, but when running the Bitbucket Pipeline to build with cdk on the exact same commit, it generates different asset hashes and wants to redeploy the same code every time. \r\n\r\nUPDATE 2: Nevermind, the local run was using the gradle cache, so `./gradlew clean build` still changes the asset hash when I would not like it to. \r\n\r\nCDK version:\r\n```\r\n2.87.0 (build 9fca790)\r\n```\r\n\r\nLocal version:\r\n```\r\n------------------------------------------------------------\r\nGradle 6.7\r\n------------------------------------------------------------\r\n\r\nBuild time:   2020-10-14 16:13:12 UTC\r\nRevision:     312ba9e0f4f8a02d01854d1ed743b79ed996dfd3\r\n\r\nKotlin:       1.3.72\r\nGroovy:       2.5.12\r\nAnt:          Apache Ant(TM) version 1.10.8 compiled on May 10 2020\r\nJVM:          11.0.19 (Amazon.com Inc. 11.0.19+7-LTS)\r\nOS:           Mac OS X 11.1 aarch64\r\n```\r\n\r\nBitbucket Pipeline version:\r\n```\r\n------------------------------------------------------------\r\nGradle 6.7\r\n------------------------------------------------------------\r\n\r\nBuild time:   2020-10-14 16:13:12 UTC\r\nRevision:     312ba9e0f4f8a02d01854d1ed743b79ed996dfd3\r\n\r\nKotlin:       1.3.72\r\nGroovy:       2.5.12\r\nAnt:          Apache Ant(TM) version 1.10.8 compiled on May 10 2020\r\nJVM:          11.0.16 (Oracle Corporation 11.0.16+8)\r\nOS:           Linux 5.15.0-1040-aws amd64\r\n```","title":"CDK hash for asset zip keeps changing when code doesn&#39;t change","body":"<p>I have a Bitbucket Pipeline that runs <code>gradle build</code> &gt; <code>cdk deploy</code>.</p>\n<p>I am using gradle to build and zip a directory of Java code, then using this zip to deploy a lambda function with cdk Java.</p>\n<pre><code>Function.Builder.create(this, &quot;mylambda&quot;)\n                .code(Code.fromAsset(&quot;somepath/mylambda/build/distributions/mylambda.zip&quot;))\n</code></pre>\n<p>At the end of running the Bitbucket Pipeline, it outputs the asset at <code>cdk.out/asset.&lt;hash&gt;.zip</code> where <code>&lt;hash&gt;</code> keeps changing, even when the code does not. So this is clogging up my S3 with a bunch of asset zips that have the same code.</p>\n<p>I had to use a Bitbucket Pipeline changeset to work around this, but I don't think this should be necessary and doesn't seem like the proper solution. I feel like the hash shouldn't be changing.</p>\n<pre><code>    - step:\n        name: &quot;deploy&quot;\n        condition:\n          changesets:\n            includePaths:\n              - somepath/mylambda/**\n</code></pre>\n<p>I am not sure where the issue is, whether it's in gradle or cdk or the Bitbucket Pipeline, that is causing redundant asset zips. Any ideas why the hash keeps changing?</p>\n<p>UPDATE: It seems like it works as expected when cdk commands are ran locally on my laptop: same code =&gt; same asset hash, but when running the Bitbucket Pipeline to build with cdk on the exact same commit, it generates different asset hashes and wants to redeploy the same code every time.</p>\n<p>UPDATE 2: Nevermind, the local run was using the gradle cache, so <code>./gradlew clean build</code> still changes the asset hash when I would not like it to.</p>\n<p>CDK version:</p>\n<pre><code>2.87.0 (build 9fca790)\n</code></pre>\n<p>Local version:</p>\n<pre><code>------------------------------------------------------------\nGradle 6.7\n------------------------------------------------------------\n\nBuild time:   2020-10-14 16:13:12 UTC\nRevision:     312ba9e0f4f8a02d01854d1ed743b79ed996dfd3\n\nKotlin:       1.3.72\nGroovy:       2.5.12\nAnt:          Apache Ant(TM) version 1.10.8 compiled on May 10 2020\nJVM:          11.0.19 (Amazon.com Inc. 11.0.19+7-LTS)\nOS:           Mac OS X 11.1 aarch64\n</code></pre>\n<p>Bitbucket Pipeline version:</p>\n<pre><code>------------------------------------------------------------\nGradle 6.7\n------------------------------------------------------------\n\nBuild time:   2020-10-14 16:13:12 UTC\nRevision:     312ba9e0f4f8a02d01854d1ed743b79ed996dfd3\n\nKotlin:       1.3.72\nGroovy:       2.5.12\nAnt:          Apache Ant(TM) version 1.10.8 compiled on May 10 2020\nJVM:          11.0.16 (Oracle Corporation 11.0.16+8)\nOS:           Linux 5.15.0-1040-aws amd64\n</code></pre>\n"},{"tags":["java","character-encoding","mainframe","charset"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692473703,"post_id":76936549,"comment_id":135629128,"body_markdown":"[`IBM1047`](https://docs.oracle.com/en/java/javase/20/intl/supported-encodings.html) is bundled, at least with every OpenJDK-based implementation. Perhaps you could use the [OpenJDK source code](https://github.com/openjdk/jdk) as a guide to write your own implementation of an IBM 924 [`Charset`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/charset/Charset.html).  You may need to implement a `CharsetProvider` as well, to leverage the [Java Service Provider Interface (SPI)](https://en.m.wikipedia.org/wiki/Service_provider_interface) facility, as noted in the Javadoc.","body":"<a href=\"https://docs.oracle.com/en/java/javase/20/intl/supported-encodings.html\" rel=\"nofollow noreferrer\"><code>IBM1047</code></a> is bundled, at least with every OpenJDK-based implementation. Perhaps you could use the <a href=\"https://github.com/openjdk/jdk\" rel=\"nofollow noreferrer\">OpenJDK source code</a> as a guide to write your own implementation of an IBM 924 <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/charset/Charset.html\" rel=\"nofollow noreferrer\"><code>Charset</code></a>.  You may need to implement a <code>CharsetProvider</code> as well, to leverage the <a href=\"https://en.m.wikipedia.org/wiki/Service_provider_interface\" rel=\"nofollow noreferrer\">Java Service Provider Interface (SPI)</a> facility, as noted in the Javadoc."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692482181,"post_id":76936549,"comment_id":135629902,"body_markdown":"FYI… I tried adding more `CharSet` classes from the [*ICU4J Charset Provider*](https://mvnrepository.com/artifact/com.ibm.icu/icu4j-charset) of the [ICU4J](https://unicode-org.github.io/icu/userguide/icu4j/) project adapting [ICU](https://en.wikipedia.org/wiki/International_Components_for_Unicode) for Java. This did add 111 more `Charset` objects to the 173 found in Java 20, for a total of 284. Unfortunately, none of these were your elusive IBM 924. (Calling `Charset.availableCharsets` lists all available `Charset` objects.)","body":"FYI… I tried adding more <code>CharSet</code> classes from the <a href=\"https://mvnrepository.com/artifact/com.ibm.icu/icu4j-charset\" rel=\"nofollow noreferrer\"><i>ICU4J Charset Provider</i></a> of the <a href=\"https://unicode-org.github.io/icu/userguide/icu4j/\" rel=\"nofollow noreferrer\">ICU4J</a> project adapting <a href=\"https://en.wikipedia.org/wiki/International_Components_for_Unicode\" rel=\"nofollow noreferrer\">ICU</a> for Java. This did add 111 more <code>Charset</code> objects to the 173 found in Java 20, for a total of 284. Unfortunately, none of these were your elusive IBM 924. (Calling <code>Charset.availableCharsets</code> lists all available <code>Charset</code> objects.)"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692482519,"post_id":76936549,"comment_id":135629939,"body_markdown":"Can you provide a link for the &quot;IBM JDK&quot; you mentioned?","body":"Can you provide a link for the &quot;IBM JDK&quot; you mentioned?"},{"owner":{"account_id":4448416,"reputation":153,"user_id":3621092,"display_name":"fnmps"},"score":0,"creation_date":1692482652,"post_id":76936549,"comment_id":135629951,"body_markdown":"Indeed the amount of time it took me to figure out it was 924... let&#39;s just say, I have a new hatred for IBM... I wish there was a search functionality to match find charset based on combination of unicode and hexadecimal value.\nWell, I didn&#39;t download a JDK per se, if you download the zip Installation Manager of IBM (https://www.ibm.com/support/pages/installation-manager-and-packaging-utility-download-documents) there is a JRE there and on the lib/charsets.jar you&#39;ll find the 924 charset.","body":"Indeed the amount of time it took me to figure out it was 924... let&#39;s just say, I have a new hatred for IBM... I wish there was a search functionality to match find charset based on combination of unicode and hexadecimal value. Well, I didn&#39;t download a JDK per se, if you download the zip Installation Manager of IBM (<a href=\"https://www.ibm.com/support/pages/installation-manager-and-packaging-utility-download-documents\" rel=\"nofollow noreferrer\">ibm.com/support/pages/&hellip;</a>) there is a JRE there and on the lib/charsets.jar you&#39;ll find the 924 charset."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692482933,"post_id":76936549,"comment_id":135629979,"body_markdown":"By the way, ICU4J seems to include a [*Character Set Detection*](https://unicode-org.github.io/icu/userguide/conversion/detection.html#character-set-detection) feature. I don&#39;t know if this would have helped you though, since ICU4J seems to be unaware of IBM 924 per my Comment above.","body":"By the way, ICU4J seems to include a <a href=\"https://unicode-org.github.io/icu/userguide/conversion/detection.html#character-set-detection\" rel=\"nofollow noreferrer\"><i>Character Set Detection</i></a> feature. I don&#39;t know if this would have helped you though, since ICU4J seems to be unaware of IBM 924 per my Comment above."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692483056,"post_id":76936549,"comment_id":135629991,"body_markdown":"ICU4J does offer an [encoding conversion](https://unicode-org.github.io/icu/userguide/conversion/) feature. I don&#39;t know if this is helpful to you or not.","body":"ICU4J does offer an <a href=\"https://unicode-org.github.io/icu/userguide/conversion/\" rel=\"nofollow noreferrer\">encoding conversion</a> feature. I don&#39;t know if this is helpful to you or not."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692483849,"post_id":76936549,"comment_id":135630061,"body_markdown":"FYI, I tried IBM’s [Semeru](https://developer.ibm.com/languages/java/semeru-runtimes/) JDK version 20.0.2 to list available `Charset` objects. I got a total of 173, just like I did with Azul System’s Zulu 20.0.2 JDK, so I assume they are the same set of `Charset` objects. Certainly no &quot;924&quot; among them.","body":"FYI, I tried IBM’s <a href=\"https://developer.ibm.com/languages/java/semeru-runtimes/\" rel=\"nofollow noreferrer\">Semeru</a> JDK version 20.0.2 to list available <code>Charset</code> objects. I got a total of 173, just like I did with Azul System’s Zulu 20.0.2 JDK, so I assume they are the same set of <code>Charset</code> objects. Certainly no &quot;924&quot; among them."},{"owner":{"account_id":4448416,"reputation":153,"user_id":3621092,"display_name":"fnmps"},"score":0,"creation_date":1692484449,"post_id":76936549,"comment_id":135630111,"body_markdown":"Did you try to download the installation manager of IBM, it contains a JRE folder, if you unzip the charsets.jar and go into sun.nio.cs.ext you&#39;ll find the elusive 924.\nYou have the list of charsets also on the ExtendedCharsets.class","body":"Did you try to download the installation manager of IBM, it contains a JRE folder, if you unzip the charsets.jar and go into sun.nio.cs.ext you&#39;ll find the elusive 924. You have the list of charsets also on the ExtendedCharsets.class"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1692480314,"creation_date":1692476165,"answer_id":76936879,"question_id":76936549,"body_markdown":"Oof, IBM_924 almost doesn&#39;t exist on the entire internet. Looking around, it seems to either be [ISO-8859-15](https://en.wikipedia.org/wiki/ISO/IEC_8859-15) straight up (which _is_ something JDKs ship with, so just go with `Charset.forName(&quot;ISO-8859-15&quot;)`, or..\r\n\r\nIt&#39;s [this](https://github.com/unicode-org/icu-data/blob/main/charset/data/ucm/ibm-924_P100-1998.ucm), from [*ICU Data*][1] by the [Unicode Consortium][2].\r\n\r\nThat is some random mapping file I found from some random project (admittedly, the icu-data project from the unicode organisation; as far as sources go that one should be sufficiently authoritative). You read it as follows:\r\n\r\nA line might contain:\r\n\r\n```\r\n&lt;UFF5E&gt; \\xA1 |1\r\n```\r\n\r\nAnd this means:\r\n\r\n* If you see the byte `0xA1` in the data stream...\r\n* Then that represents character 0xFF5E in the unicode table.\r\n* That `|1` means, more or less: Not roundtrippable; it&#39;s an alias. There is a more canonical mapping for the same byte (`0xA1`) in the file earlier.\r\n\r\n\r\nAnd, fortunately, being an ISO-8559 variant, it&#39;s just &#39;1 byte = 1 character&#39;, therefore, there are only at most 256 different byte values you need to map to a character.\r\n\r\n__That means it is trivial to write your own charset implementation!__\r\n\r\nAnd thus you&#39;ve solved all problems: House the charset inside your own project, and now you have no dependencies and no need to rely on a JVM that ships with IBM-924 baked in.\r\n\r\nIt&#39;s not too difficult.\r\n\r\nMake a source file named `Ibm924CharsetProvider.java`, extending from Java’s [`CharsetProvider`][3] class. Copy/paste this into it:\r\n\r\n```java\r\n// Written by Reinier Zwitserloot\r\n// Public domain - use however you like.\r\n\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.CharBuffer;\r\nimport java.nio.charset.Charset;\r\nimport java.nio.charset.CharsetDecoder;\r\nimport java.nio.charset.CharsetEncoder;\r\nimport java.nio.charset.CoderResult;\r\nimport java.nio.charset.spi.CharsetProvider;\r\nimport java.util.Collections;\r\nimport java.util.HashMap;\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class Ibm924CharsetProvider extends CharsetProvider {\r\n\tprivate static final Charset IBM924 = new Ibm924Charset();\r\n\tprivate static final List&lt;Charset&gt; IBM924_LIST = Collections.singletonList(IBM924);\r\n\t\r\n\tpublic static final Charset ibm924() {\r\n\t\treturn IBM924;\r\n\t}\r\n\t\r\n\t@Override public Iterator&lt;Charset&gt; charsets() {\r\n\t\treturn IBM924_LIST.iterator();\r\n\t}\r\n\t\r\n\t@Override public Charset charsetForName(String charsetName) {\r\n\t\tif (charsetName.equals(IBM924.name())) return IBM924;\r\n\t\tif (IBM924.aliases().contains(charsetName)) return IBM924;\r\n\t\t\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tString in = &quot;Hello, World!&quot;;\r\n\t\tbyte[] b = in.getBytes(ibm924());\r\n\t\tSystem.out.print(in + &quot; -&gt;&quot;);\r\n\t\tfor (byte a : b) System.out.printf(&quot; %02X&quot;, a);\r\n\t\tSystem.out.println();\r\n\t\tString in2 = new String(b, ibm924());\r\n\t\tSystem.out.println(&quot;... -&gt; &quot; + in2);\r\n\t\tSystem.out.println(&quot;Equal? &quot; + in.equals(in2));\r\n\t}\r\n}\r\n\r\nclass Ibm924Charset extends Charset {\r\n\tpublic Ibm924Charset() {\r\n\t\tsuper(&quot;IBM-924&quot;, new String[] { &quot;IBM924&quot;, &quot;Cp924&quot;, &quot;Cp-924&quot; });\r\n\t}\r\n\t\r\n\t@Override public boolean contains(Charset cs) {\r\n\t\treturn cs.name().equals(&quot;IBM-924&quot;); // It isn&#39;t even a subset of ASCII!\r\n\t}\r\n\t\r\n\t@Override public CharsetDecoder newDecoder() {\r\n\t\treturn new CharsetDecoder(this, 1F, 1F) {\r\n\t\t\t@Override protected CoderResult decodeLoop(ByteBuffer from, CharBuffer to) {\r\n\t\t\t\twhile (from.hasRemaining()) {\r\n\t\t\t\t\tif (!to.hasRemaining()) return CoderResult.OVERFLOW;\r\n\t\t\t\t\tbyte c = from.get();\r\n\t\t\t\t\tchar d = IBM924[c &amp; 0xFF];\r\n\t\t\t\t\tto.put(d);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn CoderResult.UNDERFLOW;\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\t@Override public CharsetEncoder newEncoder() {\r\n\t\treturn new CharsetEncoder(this, 1F, 1F) {\r\n\t\t\t@Override protected CoderResult encodeLoop(CharBuffer from, ByteBuffer to) {\r\n\t\t\t\twhile (from.hasRemaining()) {\r\n\t\t\t\t\tif (!to.hasRemaining()) return CoderResult.OVERFLOW;\r\n\t\t\t\t\tchar d = from.get();\r\n\t\t\t\t\tByte v = LOOKUP.get(d);\r\n\t\t\t\t\tif (v == null) {\r\n\t\t\t\t\t\t// &#39;un&#39;consume the character we consumed\r\n\t\t\t\t\t\tfrom.position(from.position() - 1);\r\n\t\t\t\t\t\treturn CoderResult.unmappableForLength(1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tto.put(v.byteValue());\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn CoderResult.UNDERFLOW;\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\t// SOURCE: https://github.com/unicode-org/icu-data/blob/main/charset/data/ucm/ibm-924_P100-1998.ucm\r\n\tprivate static final char[] IBM924 = {\r\n\t\t&#39;\\u0000&#39;, &#39;\\u0001&#39;, &#39;\\u0002&#39;, &#39;\\u0003&#39;, &#39;\\u009C&#39;, &#39;\\u0009&#39;, &#39;\\u0086&#39;, &#39;\\u007F&#39;,\r\n\t\t&#39;\\u0097&#39;, &#39;\\u008D&#39;, &#39;\\u008E&#39;, &#39;\\u000B&#39;, &#39;\\u000C&#39;, &#39;\\r&#39;, &#39;\\u000E&#39;, &#39;\\u000F&#39;,\r\n\t\t&#39;\\u0010&#39;,&#39;\\u0011&#39;,&#39;\\u0012&#39;,&#39;\\u0013&#39;, &#39;\\u009D&#39;,&#39;\\u0085&#39;,&#39;\\u0008&#39;,&#39;\\u0087&#39;,\r\n\t\t&#39;\\u0018&#39;,&#39;\\u0019&#39;,&#39;\\u0092&#39;,&#39;\\u008F&#39;, &#39;\\u001C&#39;,&#39;\\u001D&#39;,&#39;\\u001E&#39;,&#39;\\u001F&#39;,\r\n\t\t&#39;\\u0080&#39;,&#39;\\u0081&#39;,&#39;\\u0082&#39;,&#39;\\u0083&#39;, &#39;\\u0084&#39;,&#39;\\n&#39;,&#39;\\u0017&#39;,&#39;\\u001B&#39;,\r\n\t\t&#39;\\u0088&#39;,&#39;\\u0089&#39;,&#39;\\u008A&#39;,&#39;\\u008B&#39;, &#39;\\u008C&#39;,&#39;\\u0005&#39;, &#39;\\u0006&#39;, &#39;\\u0007&#39;,\r\n\t\t&#39;\\u0090&#39;, &#39;\\u0091&#39;, &#39;\\u0016&#39;, &#39;\\u0093&#39;, &#39;\\u0094&#39;, &#39;\\u0095&#39;, &#39;\\u0096&#39;, &#39;\\u0004&#39;,\r\n\t\t&#39;\\u0098&#39;, &#39;\\u0099&#39;, &#39;\\u009A&#39;, &#39;\\u009B&#39;, &#39;\\u0014&#39;, &#39;\\u0015&#39;, &#39;\\u009E&#39;, &#39;\\u001A&#39;,\r\n\t\t&#39;\\u0020&#39;, &#39;\\u00A0&#39;, &#39;\\u00E2&#39;, &#39;\\u00E4&#39;, &#39;\\u00E0&#39;, &#39;\\u00E1&#39;, &#39;\\u00E3&#39;, &#39;\\u00E5&#39;,\r\n\t\t&#39;\\u00E7&#39;, &#39;\\u00F1&#39;, &#39;\\u00DD&#39;, &#39;\\u002E&#39;, &#39;\\u003C&#39;, &#39;\\u0028&#39;, &#39;\\u002B&#39;, &#39;\\u007C&#39;,\r\n\t\t&#39;\\u0026&#39;, &#39;\\u00E9&#39;, &#39;\\u00EA&#39;, &#39;\\u00EB&#39;, &#39;\\u00E8&#39;, &#39;\\u00ED&#39;, &#39;\\u00EE&#39;, &#39;\\u00EF&#39;,\r\n\t\t&#39;\\u00EC&#39;, &#39;\\u00DF&#39;, &#39;\\u0021&#39;, &#39;\\u0024&#39;, &#39;\\u002A&#39;, &#39;\\u0029&#39;, &#39;\\u003B&#39;, &#39;\\u005E&#39;,\r\n\t\t&#39;\\u002D&#39;, &#39;\\u002F&#39;, &#39;\\u00C2&#39;, &#39;\\u00C4&#39;, &#39;\\u00C0&#39;, &#39;\\u00C1&#39;, &#39;\\u00C3&#39;, &#39;\\u00C5&#39;,\r\n\t\t&#39;\\u00C7&#39;, &#39;\\u00D1&#39;, &#39;\\u0160&#39;, &#39;\\u002C&#39;, &#39;\\u0025&#39;, &#39;\\u005F&#39;, &#39;\\u003E&#39;, &#39;\\u003F&#39;,\r\n\t\t&#39;\\u00F8&#39;, &#39;\\u00C9&#39;, &#39;\\u00CA&#39;, &#39;\\u00CB&#39;, &#39;\\u00C8&#39;, &#39;\\u00CD&#39;, &#39;\\u00CE&#39;, &#39;\\u00CF&#39;,\r\n\t\t&#39;\\u00CC&#39;, &#39;\\u0060&#39;, &#39;\\u003A&#39;, &#39;\\u0023&#39;, &#39;\\u0040&#39;, &#39;\\&#39;&#39;, &#39;\\u003D&#39;, &#39;\\u0022&#39;,\r\n\t\t&#39;\\u00D8&#39;, &#39;\\u0061&#39;, &#39;\\u0062&#39;, &#39;\\u0063&#39;, &#39;\\u0064&#39;, &#39;\\u0065&#39;, &#39;\\u0066&#39;, &#39;\\u0067&#39;,\r\n\t\t&#39;\\u0068&#39;, &#39;\\u0069&#39;, &#39;\\u00AB&#39;, &#39;\\u00BB&#39;, &#39;\\u00F0&#39;, &#39;\\u00FD&#39;, &#39;\\u00FE&#39;, &#39;\\u00B1&#39;,\r\n\t\t&#39;\\u00B0&#39;, &#39;\\u006A&#39;, &#39;\\u006B&#39;, &#39;\\u006C&#39;, &#39;\\u006D&#39;, &#39;\\u006E&#39;, &#39;\\u006F&#39;, &#39;\\u0070&#39;,\r\n\t\t&#39;\\u0071&#39;, &#39;\\u0072&#39;, &#39;\\u00AA&#39;, &#39;\\u00BA&#39;, &#39;\\u00E6&#39;, &#39;\\u017E&#39;, &#39;\\u00C6&#39;, &#39;\\u20AC&#39;,\r\n\t\t&#39;\\u00B5&#39;, &#39;\\u007E&#39;, &#39;\\u0073&#39;, &#39;\\u0074&#39;, &#39;\\u0075&#39;, &#39;\\u0076&#39;, &#39;\\u0077&#39;, &#39;\\u0078&#39;,\r\n\t\t&#39;\\u0079&#39;, &#39;\\u007A&#39;, &#39;\\u00A1&#39;, &#39;\\u00BF&#39;, &#39;\\u00D0&#39;, &#39;\\u005B&#39;, &#39;\\u00DE&#39;, &#39;\\u00AE&#39;,\r\n\t\t&#39;\\u00A2&#39;, &#39;\\u00A3&#39;, &#39;\\u00A5&#39;, &#39;\\u00B7&#39;, &#39;\\u00A9&#39;, &#39;\\u00A7&#39;, &#39;\\u00B6&#39;, &#39;\\u0152&#39;,\r\n\t\t&#39;\\u0153&#39;, &#39;\\u0178&#39;, &#39;\\u00AC&#39;, &#39;\\u0161&#39;, &#39;\\u00AF&#39;, &#39;\\u005D&#39;, &#39;\\u017D&#39;, &#39;\\u00D7&#39;,\r\n\t\t&#39;\\u007B&#39;, &#39;\\u0041&#39;, &#39;\\u0042&#39;, &#39;\\u0043&#39;, &#39;\\u0044&#39;, &#39;\\u0045&#39;, &#39;\\u0046&#39;, &#39;\\u0047&#39;,\r\n\t\t&#39;\\u0048&#39;, &#39;\\u0049&#39;, &#39;\\u00AD&#39;, &#39;\\u00F4&#39;, &#39;\\u00F6&#39;, &#39;\\u00F2&#39;, &#39;\\u00F3&#39;, &#39;\\u00F5&#39;,\r\n\t\t&#39;\\u007D&#39;, &#39;\\u004A&#39;, &#39;\\u004B&#39;, &#39;\\u004C&#39;, &#39;\\u004D&#39;, &#39;\\u004E&#39;, &#39;\\u004F&#39;, &#39;\\u0050&#39;,\r\n\t\t&#39;\\u0051&#39;, &#39;\\u0052&#39;, &#39;\\u00B9&#39;, &#39;\\u00FB&#39;, &#39;\\u00FC&#39;, &#39;\\u00F9&#39;, &#39;\\u00FA&#39;, &#39;\\u00FF&#39;,\r\n\t\t&#39;\\\\&#39;, &#39;\\u00F7&#39;, &#39;\\u0053&#39;, &#39;\\u0054&#39;, &#39;\\u0055&#39;, &#39;\\u0056&#39;, &#39;\\u0057&#39;, &#39;\\u0058&#39;,\r\n\t\t&#39;\\u0059&#39;, &#39;\\u005A&#39;, &#39;\\u00B2&#39;, &#39;\\u00D4&#39;, &#39;\\u00D6&#39;, &#39;\\u00D2&#39;, &#39;\\u00D3&#39;, &#39;\\u00D5&#39;,\r\n\t\t&#39;\\u0030&#39;, &#39;\\u0031&#39;, &#39;\\u0032&#39;, &#39;\\u0033&#39;, &#39;\\u0034&#39;, &#39;\\u0035&#39;, &#39;\\u0036&#39;, &#39;\\u0037&#39;,\r\n\t\t&#39;\\u0038&#39;, &#39;\\u0039&#39;, &#39;\\u00B3&#39;, &#39;\\u00DB&#39;, &#39;\\u00DC&#39;, &#39;\\u00D9&#39;, &#39;\\u00DA&#39;, &#39;\\u009F&#39;,\r\n\t};\r\n\t\r\n\tprivate static final Map&lt;Character, Byte&gt; LOOKUP;\r\n\tstatic {\r\n\t\tMap&lt;Character, Byte&gt; map = new HashMap&lt;&gt;();\r\n\t\tfor (int i = 0; i &lt; IBM924.length; i++) map.put(IBM924[i], (byte) i);\r\n\t\tLOOKUP = Collections.unmodifiableMap(map);\r\n\t}\r\n}\r\n```\r\n\r\n## To use as provider\r\n\r\nIf you want e.g. `new String(bytes, &quot;IBM-924&quot;)` to work, as well as having it listed in the list of all available charsets, this class needs to be registered. To do this, you stick the fully qualified class name (`com.foo.yourapp.util.Ibm924CharsetProvider`, that string, for example) in an otherwise empty text file. You name this textfile `java.nio.charset.spi.CharsetProvider`. This file needs to be in your jar, at the path `META-INF/services/java.nio.charset.spi.CharsetProvider`. Then, if that jar is on your classpath, things should just work.\r\n\r\n## Oof that sounds complicated\r\n\r\nYou don&#39;t really need to do that - that&#39;s just to make sure `&quot;IBM-924&quot;` as a string works out. You can use it as is without registering the provider. See the `main` method in the snippet where I don&#39;t bother registering it but use the [`Charset`][4] object directly.\r\n\r\nRun that, and it prints:\r\n\r\n```\r\nHello, World! -&gt; C8 85 93 93 96 6B 40 E6 96 99 93 84 5A\r\n... -&gt; Hello, World!\r\nEqual? true\r\n```\r\n\r\nNB: This simplistic take doesn&#39;t deal with the aliases. They are only relevant for _encoding_ (if you need to output IBM-924 formatted text); they aren&#39;t useful for decoding (reading IBM-924 formatted text). And only if you use these aliases in your strings.\r\n\r\n\r\n  [1]: https://unicode-org.github.io/icu/userguide/icu_data/#icu-data\r\n  [2]: https://en.wikipedia.org/wiki/Unicode_Consortium\r\n  [3]: https://download.java.net/java/early_access/valhalla/docs/api/java.base/java/nio/charset/spi/CharsetProvider.html\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/charset/Charset.html","title":"Charset not present in used JDK","body":"<p>Oof, IBM_924 almost doesn't exist on the entire internet. Looking around, it seems to either be <a href=\"https://en.wikipedia.org/wiki/ISO/IEC_8859-15\" rel=\"nofollow noreferrer\">ISO-8859-15</a> straight up (which <em>is</em> something JDKs ship with, so just go with <code>Charset.forName(&quot;ISO-8859-15&quot;)</code>, or..</p>\n<p>It's <a href=\"https://github.com/unicode-org/icu-data/blob/main/charset/data/ucm/ibm-924_P100-1998.ucm\" rel=\"nofollow noreferrer\">this</a>, from <a href=\"https://unicode-org.github.io/icu/userguide/icu_data/#icu-data\" rel=\"nofollow noreferrer\"><em>ICU Data</em></a> by the <a href=\"https://en.wikipedia.org/wiki/Unicode_Consortium\" rel=\"nofollow noreferrer\">Unicode Consortium</a>.</p>\n<p>That is some random mapping file I found from some random project (admittedly, the icu-data project from the unicode organisation; as far as sources go that one should be sufficiently authoritative). You read it as follows:</p>\n<p>A line might contain:</p>\n<pre><code>&lt;UFF5E&gt; \\xA1 |1\n</code></pre>\n<p>And this means:</p>\n<ul>\n<li>If you see the byte <code>0xA1</code> in the data stream...</li>\n<li>Then that represents character 0xFF5E in the unicode table.</li>\n<li>That <code>|1</code> means, more or less: Not roundtrippable; it's an alias. There is a more canonical mapping for the same byte (<code>0xA1</code>) in the file earlier.</li>\n</ul>\n<p>And, fortunately, being an ISO-8559 variant, it's just '1 byte = 1 character', therefore, there are only at most 256 different byte values you need to map to a character.</p>\n<p><strong>That means it is trivial to write your own charset implementation!</strong></p>\n<p>And thus you've solved all problems: House the charset inside your own project, and now you have no dependencies and no need to rely on a JVM that ships with IBM-924 baked in.</p>\n<p>It's not too difficult.</p>\n<p>Make a source file named <code>Ibm924CharsetProvider.java</code>, extending from Java’s <a href=\"https://download.java.net/java/early_access/valhalla/docs/api/java.base/java/nio/charset/spi/CharsetProvider.html\" rel=\"nofollow noreferrer\"><code>CharsetProvider</code></a> class. Copy/paste this into it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Written by Reinier Zwitserloot\n// Public domain - use however you like.\n\nimport java.nio.ByteBuffer;\nimport java.nio.CharBuffer;\nimport java.nio.charset.Charset;\nimport java.nio.charset.CharsetDecoder;\nimport java.nio.charset.CharsetEncoder;\nimport java.nio.charset.CoderResult;\nimport java.nio.charset.spi.CharsetProvider;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Map;\n\npublic class Ibm924CharsetProvider extends CharsetProvider {\n    private static final Charset IBM924 = new Ibm924Charset();\n    private static final List&lt;Charset&gt; IBM924_LIST = Collections.singletonList(IBM924);\n    \n    public static final Charset ibm924() {\n        return IBM924;\n    }\n    \n    @Override public Iterator&lt;Charset&gt; charsets() {\n        return IBM924_LIST.iterator();\n    }\n    \n    @Override public Charset charsetForName(String charsetName) {\n        if (charsetName.equals(IBM924.name())) return IBM924;\n        if (IBM924.aliases().contains(charsetName)) return IBM924;\n        \n        return null;\n    }\n    \n    public static void main(String[] args) throws Exception {\n        String in = &quot;Hello, World!&quot;;\n        byte[] b = in.getBytes(ibm924());\n        System.out.print(in + &quot; -&gt;&quot;);\n        for (byte a : b) System.out.printf(&quot; %02X&quot;, a);\n        System.out.println();\n        String in2 = new String(b, ibm924());\n        System.out.println(&quot;... -&gt; &quot; + in2);\n        System.out.println(&quot;Equal? &quot; + in.equals(in2));\n    }\n}\n\nclass Ibm924Charset extends Charset {\n    public Ibm924Charset() {\n        super(&quot;IBM-924&quot;, new String[] { &quot;IBM924&quot;, &quot;Cp924&quot;, &quot;Cp-924&quot; });\n    }\n    \n    @Override public boolean contains(Charset cs) {\n        return cs.name().equals(&quot;IBM-924&quot;); // It isn't even a subset of ASCII!\n    }\n    \n    @Override public CharsetDecoder newDecoder() {\n        return new CharsetDecoder(this, 1F, 1F) {\n            @Override protected CoderResult decodeLoop(ByteBuffer from, CharBuffer to) {\n                while (from.hasRemaining()) {\n                    if (!to.hasRemaining()) return CoderResult.OVERFLOW;\n                    byte c = from.get();\n                    char d = IBM924[c &amp; 0xFF];\n                    to.put(d);\n                }\n                \n                return CoderResult.UNDERFLOW;\n            }\n        };\n    }\n    \n    @Override public CharsetEncoder newEncoder() {\n        return new CharsetEncoder(this, 1F, 1F) {\n            @Override protected CoderResult encodeLoop(CharBuffer from, ByteBuffer to) {\n                while (from.hasRemaining()) {\n                    if (!to.hasRemaining()) return CoderResult.OVERFLOW;\n                    char d = from.get();\n                    Byte v = LOOKUP.get(d);\n                    if (v == null) {\n                        // 'un'consume the character we consumed\n                        from.position(from.position() - 1);\n                        return CoderResult.unmappableForLength(1);\n                    }\n                    to.put(v.byteValue());\n                }\n                \n                return CoderResult.UNDERFLOW;\n            }\n        };\n    }\n    \n    // SOURCE: https://github.com/unicode-org/icu-data/blob/main/charset/data/ucm/ibm-924_P100-1998.ucm\n    private static final char[] IBM924 = {\n        '\\u0000', '\\u0001', '\\u0002', '\\u0003', '\\u009C', '\\u0009', '\\u0086', '\\u007F',\n        '\\u0097', '\\u008D', '\\u008E', '\\u000B', '\\u000C', '\\r', '\\u000E', '\\u000F',\n        '\\u0010','\\u0011','\\u0012','\\u0013', '\\u009D','\\u0085','\\u0008','\\u0087',\n        '\\u0018','\\u0019','\\u0092','\\u008F', '\\u001C','\\u001D','\\u001E','\\u001F',\n        '\\u0080','\\u0081','\\u0082','\\u0083', '\\u0084','\\n','\\u0017','\\u001B',\n        '\\u0088','\\u0089','\\u008A','\\u008B', '\\u008C','\\u0005', '\\u0006', '\\u0007',\n        '\\u0090', '\\u0091', '\\u0016', '\\u0093', '\\u0094', '\\u0095', '\\u0096', '\\u0004',\n        '\\u0098', '\\u0099', '\\u009A', '\\u009B', '\\u0014', '\\u0015', '\\u009E', '\\u001A',\n        '\\u0020', '\\u00A0', '\\u00E2', '\\u00E4', '\\u00E0', '\\u00E1', '\\u00E3', '\\u00E5',\n        '\\u00E7', '\\u00F1', '\\u00DD', '\\u002E', '\\u003C', '\\u0028', '\\u002B', '\\u007C',\n        '\\u0026', '\\u00E9', '\\u00EA', '\\u00EB', '\\u00E8', '\\u00ED', '\\u00EE', '\\u00EF',\n        '\\u00EC', '\\u00DF', '\\u0021', '\\u0024', '\\u002A', '\\u0029', '\\u003B', '\\u005E',\n        '\\u002D', '\\u002F', '\\u00C2', '\\u00C4', '\\u00C0', '\\u00C1', '\\u00C3', '\\u00C5',\n        '\\u00C7', '\\u00D1', '\\u0160', '\\u002C', '\\u0025', '\\u005F', '\\u003E', '\\u003F',\n        '\\u00F8', '\\u00C9', '\\u00CA', '\\u00CB', '\\u00C8', '\\u00CD', '\\u00CE', '\\u00CF',\n        '\\u00CC', '\\u0060', '\\u003A', '\\u0023', '\\u0040', '\\'', '\\u003D', '\\u0022',\n        '\\u00D8', '\\u0061', '\\u0062', '\\u0063', '\\u0064', '\\u0065', '\\u0066', '\\u0067',\n        '\\u0068', '\\u0069', '\\u00AB', '\\u00BB', '\\u00F0', '\\u00FD', '\\u00FE', '\\u00B1',\n        '\\u00B0', '\\u006A', '\\u006B', '\\u006C', '\\u006D', '\\u006E', '\\u006F', '\\u0070',\n        '\\u0071', '\\u0072', '\\u00AA', '\\u00BA', '\\u00E6', '\\u017E', '\\u00C6', '\\u20AC',\n        '\\u00B5', '\\u007E', '\\u0073', '\\u0074', '\\u0075', '\\u0076', '\\u0077', '\\u0078',\n        '\\u0079', '\\u007A', '\\u00A1', '\\u00BF', '\\u00D0', '\\u005B', '\\u00DE', '\\u00AE',\n        '\\u00A2', '\\u00A3', '\\u00A5', '\\u00B7', '\\u00A9', '\\u00A7', '\\u00B6', '\\u0152',\n        '\\u0153', '\\u0178', '\\u00AC', '\\u0161', '\\u00AF', '\\u005D', '\\u017D', '\\u00D7',\n        '\\u007B', '\\u0041', '\\u0042', '\\u0043', '\\u0044', '\\u0045', '\\u0046', '\\u0047',\n        '\\u0048', '\\u0049', '\\u00AD', '\\u00F4', '\\u00F6', '\\u00F2', '\\u00F3', '\\u00F5',\n        '\\u007D', '\\u004A', '\\u004B', '\\u004C', '\\u004D', '\\u004E', '\\u004F', '\\u0050',\n        '\\u0051', '\\u0052', '\\u00B9', '\\u00FB', '\\u00FC', '\\u00F9', '\\u00FA', '\\u00FF',\n        '\\\\', '\\u00F7', '\\u0053', '\\u0054', '\\u0055', '\\u0056', '\\u0057', '\\u0058',\n        '\\u0059', '\\u005A', '\\u00B2', '\\u00D4', '\\u00D6', '\\u00D2', '\\u00D3', '\\u00D5',\n        '\\u0030', '\\u0031', '\\u0032', '\\u0033', '\\u0034', '\\u0035', '\\u0036', '\\u0037',\n        '\\u0038', '\\u0039', '\\u00B3', '\\u00DB', '\\u00DC', '\\u00D9', '\\u00DA', '\\u009F',\n    };\n    \n    private static final Map&lt;Character, Byte&gt; LOOKUP;\n    static {\n        Map&lt;Character, Byte&gt; map = new HashMap&lt;&gt;();\n        for (int i = 0; i &lt; IBM924.length; i++) map.put(IBM924[i], (byte) i);\n        LOOKUP = Collections.unmodifiableMap(map);\n    }\n}\n</code></pre>\n<h2>To use as provider</h2>\n<p>If you want e.g. <code>new String(bytes, &quot;IBM-924&quot;)</code> to work, as well as having it listed in the list of all available charsets, this class needs to be registered. To do this, you stick the fully qualified class name (<code>com.foo.yourapp.util.Ibm924CharsetProvider</code>, that string, for example) in an otherwise empty text file. You name this textfile <code>java.nio.charset.spi.CharsetProvider</code>. This file needs to be in your jar, at the path <code>META-INF/services/java.nio.charset.spi.CharsetProvider</code>. Then, if that jar is on your classpath, things should just work.</p>\n<h2>Oof that sounds complicated</h2>\n<p>You don't really need to do that - that's just to make sure <code>&quot;IBM-924&quot;</code> as a string works out. You can use it as is without registering the provider. See the <code>main</code> method in the snippet where I don't bother registering it but use the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/charset/Charset.html\" rel=\"nofollow noreferrer\"><code>Charset</code></a> object directly.</p>\n<p>Run that, and it prints:</p>\n<pre><code>Hello, World! -&gt; C8 85 93 93 96 6B 40 E6 96 99 93 84 5A\n... -&gt; Hello, World!\nEqual? true\n</code></pre>\n<p>NB: This simplistic take doesn't deal with the aliases. They are only relevant for <em>encoding</em> (if you need to output IBM-924 formatted text); they aren't useful for decoding (reading IBM-924 formatted text). And only if you use these aliases in your strings.</p>\n"}],"owner":{"account_id":4448416,"reputation":153,"user_id":3621092,"display_name":"fnmps"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":76936879,"answer_count":1,"score":6,"last_activity_date":1692480314,"creation_date":1692469855,"question_id":76936549,"body_markdown":"I have a java system communicating that serves as a gateway to different systems (java, mainframe, etc). This java system receives a request using, for example, utf8 and converts it to the encoding of the target \r\n\r\n[![Charset Conversion](https://i.stack.imgur.com/5xOP4.png)](https://i.stack.imgur.com/5xOP4.png)\r\n\r\nThe issue is that there is a mainframe system that is using this obscure encoding that is not available with the JDK that we are using (that charset being IBM-924 which is a &quot;derivative&quot; of IBM-1047 https://en.wikibooks.org/wiki/Character_Encodings/Code_Tables/EBCDIC/EBCDIC_1047).\r\nsystem.\r\n\r\nFrom what I have seen this charset seems to come only with IBM JDK, which is not the one that we use or want to use.\r\n\r\n\r\nIs there a way to incorporate this specific charset present on the IBM JDK into, for example, an openjdk one?\r\nIf not, is there any alternative beside creating the charset manually?\r\nAnd if so, is there a way to reuse the IBM-1047 encoding and replace the 11 characters that do not match?\r\n\r\nI tried to incorporate the charsets by using the charsets.jar present on the IBM JDK, but it runs into issues because that jar has a dependency of classes only present on the rt.jar of the IBM JDK, and I would certainly not want to replace the rt.jar since it might cause unwanted side effects.","title":"Charset not present in used JDK","body":"<p>I have a java system communicating that serves as a gateway to different systems (java, mainframe, etc). This java system receives a request using, for example, utf8 and converts it to the encoding of the target</p>\n<p><a href=\"https://i.stack.imgur.com/5xOP4.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5xOP4.png\" alt=\"Charset Conversion\" /></a></p>\n<p>The issue is that there is a mainframe system that is using this obscure encoding that is not available with the JDK that we are using (that charset being IBM-924 which is a &quot;derivative&quot; of IBM-1047 <a href=\"https://en.wikibooks.org/wiki/Character_Encodings/Code_Tables/EBCDIC/EBCDIC_1047\" rel=\"noreferrer\">https://en.wikibooks.org/wiki/Character_Encodings/Code_Tables/EBCDIC/EBCDIC_1047</a>).\nsystem.</p>\n<p>From what I have seen this charset seems to come only with IBM JDK, which is not the one that we use or want to use.</p>\n<p>Is there a way to incorporate this specific charset present on the IBM JDK into, for example, an openjdk one?\nIf not, is there any alternative beside creating the charset manually?\nAnd if so, is there a way to reuse the IBM-1047 encoding and replace the 11 characters that do not match?</p>\n<p>I tried to incorporate the charsets by using the charsets.jar present on the IBM JDK, but it runs into issues because that jar has a dependency of classes only present on the rt.jar of the IBM JDK, and I would certainly not want to replace the rt.jar since it might cause unwanted side effects.</p>\n"},{"tags":["java","spring","spring-boot","kotlin","logbook"],"answers":[{"tags":[],"owner":{"account_id":10942924,"reputation":27,"user_id":8359786,"display_name":"YuliyaD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692480005,"creation_date":1692480005,"answer_id":76937065,"question_id":76936080,"body_markdown":"You need this filter to be invoked in the filter chain earlier than logbook logs the request.\r\n\r\nNot sure how it works for Kotlin, but for Java we use @Order annotation on top of the filter class and specifying precedence.","title":"Run GenericFilterBean before Logbook log","body":"<p>You need this filter to be invoked in the filter chain earlier than logbook logs the request.</p>\n<p>Not sure how it works for Kotlin, but for Java we use @Order annotation on top of the filter class and specifying precedence.</p>\n"}],"owner":{"account_id":2842958,"reputation":976,"user_id":2442149,"accept_rate":80,"display_name":"bpereira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692480005,"creation_date":1692462144,"question_id":76936080,"body_markdown":"I have a filter that adds to MDC a correlationId that is received by my HTTP requests. See example below:\r\n\r\n```\r\n@Component\r\nclass CorrelationIdFilter : GenericFilterBean() {\r\n    private val log = MyLogger.getLogger(this::class.java)\r\n\r\n    override fun doFilter(request: ServletRequest, response: ServletResponse, chain: FilterChain) {\r\n        if (request is HttpServletRequest) {\r\n            MDC.put(&quot;correlationId&quot;, getCorrelationId(request))\r\n        }\r\n\r\n        chain.doFilter(request, response)\r\n    }\r\n\r\n    private fun getCorrelationId(request: HttpServletRequest): String {\r\n        val correlationId = request.getHeader(&quot;x-correlation-id&quot;)\r\n        return correlationId ?: &quot;cid-${UUID.randomUUID()}&quot;\r\n    }\r\n}\r\n```\r\n\r\nThe problem is that at the moment Logbook logs the request, this filter is still not executed, which results in:\r\n\r\n - logbook request log (without correlationId in MDC)\r\n - add correlationId to MDC\r\n - [other logs]..\r\n\r\nI&#39;m using Spring Boot and logbook starter\r\n```implementation(&quot;org.zalando:logbook-spring-boot-starter:2.14.0&quot;)```\r\n\r\nWhat I want to achieve is to have the filter executed prior to logbook log.\r\n\r\nAny ideas?","title":"Run GenericFilterBean before Logbook log","body":"<p>I have a filter that adds to MDC a correlationId that is received by my HTTP requests. See example below:</p>\n<pre><code>@Component\nclass CorrelationIdFilter : GenericFilterBean() {\n    private val log = MyLogger.getLogger(this::class.java)\n\n    override fun doFilter(request: ServletRequest, response: ServletResponse, chain: FilterChain) {\n        if (request is HttpServletRequest) {\n            MDC.put(&quot;correlationId&quot;, getCorrelationId(request))\n        }\n\n        chain.doFilter(request, response)\n    }\n\n    private fun getCorrelationId(request: HttpServletRequest): String {\n        val correlationId = request.getHeader(&quot;x-correlation-id&quot;)\n        return correlationId ?: &quot;cid-${UUID.randomUUID()}&quot;\n    }\n}\n</code></pre>\n<p>The problem is that at the moment Logbook logs the request, this filter is still not executed, which results in:</p>\n<ul>\n<li>logbook request log (without correlationId in MDC)</li>\n<li>add correlationId to MDC</li>\n<li>[other logs]..</li>\n</ul>\n<p>I'm using Spring Boot and logbook starter\n<code>implementation(&quot;org.zalando:logbook-spring-boot-starter:2.14.0&quot;)</code></p>\n<p>What I want to achieve is to have the filter executed prior to logbook log.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","scala","javafx","internationalization","scalafx"],"owner":{"account_id":3108216,"reputation":75,"user_id":2630579,"display_name":"user2630579"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1692479412,"creation_date":1497962404,"question_id":44653346,"body_markdown":"I&#39;m developing scalafx application (I mentioned javafx because what I&#39;m facing is, basically, javafx problem - scalafx is just shell around it) and I want to switch i18n during the program execution at will. Here is my (working) solution for no-fxml case (I&#39;ll try explain any scala-specific code):\r\n\r\n    val curLocale = new ObjectProperty(new SimpleObjectProperty[Locale](Locale.ENGLISH))\r\n    val curBundle: ObjectBinding[ResourceBundle] = Bindings.createObjectBinding[ResourceBundle](() =&gt; { ResourceBundle.getBundle(&quot;i18n.text&quot;, curLocale.get, control) }, curLocale)\r\n    //Creating and object property of locale (changing stored locale will change language \r\n    //in all related places of application) and object binding for resource bundle\r\n    def i18nLoad(s: String): StringBinding = {\r\n        Bindings.createStringBinding(() =&gt; { curBundle.get.getString(s) }, curBundle)\r\n    }\r\n    //method that provides binding that is used in definition of text for each element\r\n    //Then, to set text for, let&#39;s say, label:\r\n    val smth = new Label()\r\n    smth.text &lt;== i18nLoad(&quot;window.smth&quot;)\r\n    //&lt;== is scalafx operation for one-directional binding, \r\n    //&quot;window. smth&quot; is record name in properties file\r\n\r\nBut I don&#39;t have similar solution for fxml. I looked into standard approach for i18n and it includes passing resource bundle into FXML loader class. Is there a way (by using some external libraries, extending FXMLLoader manually or re-writing it completely) to pass the binding that holds resource bundle into the constructor, and make it to bind for appropriate value (like in a given example) instead of just reading it from properties? I tried to look through FXMLLoader source code, but I did not find the point at which such change could be possible.","title":"Javafx/Scalafx i18n simple switch (using fxml)","body":"<p>I'm developing scalafx application (I mentioned javafx because what I'm facing is, basically, javafx problem - scalafx is just shell around it) and I want to switch i18n during the program execution at will. Here is my (working) solution for no-fxml case (I'll try explain any scala-specific code):</p>\n<pre><code>val curLocale = new ObjectProperty(new SimpleObjectProperty[Locale](Locale.ENGLISH))\nval curBundle: ObjectBinding[ResourceBundle] = Bindings.createObjectBinding[ResourceBundle](() =&gt; { ResourceBundle.getBundle(&quot;i18n.text&quot;, curLocale.get, control) }, curLocale)\n//Creating and object property of locale (changing stored locale will change language \n//in all related places of application) and object binding for resource bundle\ndef i18nLoad(s: String): StringBinding = {\n    Bindings.createStringBinding(() =&gt; { curBundle.get.getString(s) }, curBundle)\n}\n//method that provides binding that is used in definition of text for each element\n//Then, to set text for, let's say, label:\nval smth = new Label()\nsmth.text &lt;== i18nLoad(&quot;window.smth&quot;)\n//&lt;== is scalafx operation for one-directional binding, \n//&quot;window. smth&quot; is record name in properties file\n</code></pre>\n<p>But I don't have similar solution for fxml. I looked into standard approach for i18n and it includes passing resource bundle into FXML loader class. Is there a way (by using some external libraries, extending FXMLLoader manually or re-writing it completely) to pass the binding that holds resource bundle into the constructor, and make it to bind for appropriate value (like in a given example) instead of just reading it from properties? I tried to look through FXMLLoader source code, but I did not find the point at which such change could be possible.</p>\n"},{"tags":["java","android-studio","searchview"],"answers":[{"tags":[],"owner":{"account_id":447793,"reputation":57,"user_id":841635,"display_name":"Arash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692206957,"creation_date":1692206957,"answer_id":76915825,"question_id":76894724,"body_markdown":"    SearchView.setIconifiedByDefault(false);","title":"Activate searchView in android studio java","body":"<pre><code>SearchView.setIconifiedByDefault(false);\n</code></pre>\n"}],"owner":{"account_id":447793,"reputation":57,"user_id":841635,"display_name":"Arash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76915825,"answer_count":1,"score":0,"last_activity_date":1692477877,"creation_date":1691952078,"question_id":76894724,"body_markdown":"I have a searchView in my form in android studio (JAVA) with below code:\r\n\r\n    &lt;SearchView\r\n            android:id=&quot;@+id/SView&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;25dp&quot;\r\n            android:background=&quot;#52BFECF4&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/tvSearchDesc&quot;/&gt;\r\n\r\nFor type anything in this view, user should touch exactly the magnifier icon in searchView and if user touch anywhere else, the searchView dose not activate.\r\n\r\nI need it to open always.","title":"Activate searchView in android studio java","body":"<p>I have a searchView in my form in android studio (JAVA) with below code:</p>\n<pre><code>&lt;SearchView\n        android:id=&quot;@+id/SView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;25dp&quot;\n        android:background=&quot;#52BFECF4&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/tvSearchDesc&quot;/&gt;\n</code></pre>\n<p>For type anything in this view, user should touch exactly the magnifier icon in searchView and if user touch anywhere else, the searchView dose not activate.</p>\n<p>I need it to open always.</p>\n"},{"tags":["java","encoding","character-encoding","charset"],"comments":[{"owner":{"account_id":4198672,"reputation":28840,"user_id":3439404,"display_name":"JosefZ"},"score":3,"creation_date":1671989060,"post_id":74914750,"comment_id":132204812,"body_markdown":"[UTF-8 Everywhere](https://utf8everywhere.org/).","body":"<a href=\"https://utf8everywhere.org/\" rel=\"nofollow noreferrer\">UTF-8 Everywhere</a>."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1671989833,"post_id":74914750,"comment_id":132204921,"body_markdown":"I mean, you can do this by extending the Charset class and implementing all its methods, but you should never, ever do anything like this.  Use UTF-8 absolutely everywhere.","body":"I mean, you can do this by extending the Charset class and implementing all its methods, but you should never, ever do anything like this.  Use UTF-8 absolutely everywhere."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1671995883,"post_id":74914750,"comment_id":132205851,"body_markdown":"What problem are you trying to solve that cannot be solved by using the standard UTF-8 charset?","body":"What problem are you trying to solve that cannot be solved by using the standard UTF-8 charset?"},{"owner":{"account_id":22350431,"reputation":91,"user_id":16568695,"display_name":"Vreny"},"score":0,"creation_date":1672163552,"post_id":74914750,"comment_id":132233853,"body_markdown":"@ThomasKl&#228;ger, my programme is about cryptography. After long main process I would like to convert output String to hex with my own Charset for extra security reasons.","body":"@ThomasKl&#228;ger, my programme is about cryptography. After long main process I would like to convert output String to hex with my own Charset for extra security reasons."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672024300,"creation_date":1672022883,"answer_id":74916974,"question_id":74914750,"body_markdown":"# *Private Use Areas* within Unicode\r\n\r\nYou’ve not really explained what goal you are trying to achieve, but likely there is no need to invent either:\r\n\r\n - a **character set** (a collection of numbers each assigned to a particular character)\r\n - a **character encoding** (a way to represent instances of those numbers as bits and bytes). \r\n\r\nUnicode defines over 144,000 characters, each assigned a number from a range of zero to just over a million. That leaves large gaps of numbers unassigned. Some of those empty sub-ranges are reserved for future use. But, of interest to you, some of those sub-ranges are set aside for “private use”, never ever to be assigned to a character by the Unicode Consortium. See [Wikipedia][1]. \r\n\r\n&#128073; You are free to assign any meaning you wish to any number within those “private use areas”. So that works as your character set. \r\n\r\n&#128073; As for your character encoding, using UTF-8 is almost always best. This is true for several reasons, as discussed [here][2]. \r\n\r\nJava supports all of Unicode. So no extra programming needed to support your characters. Everything works the same whether encountering characters from inside or outside the private use areas. \r\n\r\nIf you want to involve other people in your endeavor, or want to share documents, then you should be aware that there is an unofficial registry of characters assigned to *Private Use* numbers. This unofficial registry is a volunteer effort, made outside of the Unicode Consortium. This registry is for characters that would never be accepted for inclusion in Unicode. This includes imaginary languages such as *Klingon* from *Star Trek*. When selecting code point numbers for your characters, you may want to avoid these unofficially registered code points. \r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Private_Use_Areas\r\n  [2]: https://utf8everywhere.org/","title":"How to create my own unique Charset in Java?","body":"<h1><em>Private Use Areas</em> within Unicode</h1>\n<p>You’ve not really explained what goal you are trying to achieve, but likely there is no need to invent either:</p>\n<ul>\n<li>a <strong>character set</strong> (a collection of numbers each assigned to a particular character)</li>\n<li>a <strong>character encoding</strong> (a way to represent instances of those numbers as bits and bytes).</li>\n</ul>\n<p>Unicode defines over 144,000 characters, each assigned a number from a range of zero to just over a million. That leaves large gaps of numbers unassigned. Some of those empty sub-ranges are reserved for future use. But, of interest to you, some of those sub-ranges are set aside for “private use”, never ever to be assigned to a character by the Unicode Consortium. See <a href=\"https://en.m.wikipedia.org/wiki/Private_Use_Areas\" rel=\"nofollow noreferrer\">Wikipedia</a>.</p>\n<p>👉 You are free to assign any meaning you wish to any number within those “private use areas”. So that works as your character set.</p>\n<p>👉 As for your character encoding, using UTF-8 is almost always best. This is true for several reasons, as discussed <a href=\"https://utf8everywhere.org/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Java supports all of Unicode. So no extra programming needed to support your characters. Everything works the same whether encountering characters from inside or outside the private use areas.</p>\n<p>If you want to involve other people in your endeavor, or want to share documents, then you should be aware that there is an unofficial registry of characters assigned to <em>Private Use</em> numbers. This unofficial registry is a volunteer effort, made outside of the Unicode Consortium. This registry is for characters that would never be accepted for inclusion in Unicode. This includes imaginary languages such as <em>Klingon</em> from <em>Star Trek</em>. When selecting code point numbers for your characters, you may want to avoid these unofficially registered code points.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672026818,"creation_date":1672026295,"answer_id":74917132,"question_id":74914750,"body_markdown":"Basil&#39;s answer explains that you don&#39;t need to define a custom `Charset` in order to support some non-standard symbols.\r\n\r\nBut if you really do need to do it, you will have to write a custom class that extends `Charset`.  There are 3 abstract methods that you have to implement:\r\n\r\n   - `boolean contains(Charset&#160;cs)` - Tells whether or not this charset contains the given charset.\r\n\r\n   - `CharsetDecoder newDecoder()` Constructs a new decoder for this charset.\r\n   \r\n   - `CharsetEncoder newEncoder()` Constructs a new encoder for this charset.\r\n\r\nThe other methods in the `Charset` API most likely don&#39;t need to be overridden.\r\n\r\nThe decoder and encoder need to be able to convert between a `ByteBuffer` containing text in your charset&#39;s encoding and Unicode codepoints in a `CharBuffer`.  While both `CharsetDecoder` and `CharsetEncoder` are also abstract classes, they require you to implement a `decodeLoop` or `encodeLoop` method (respectively) which has complicated requirements.\r\n\r\nI am not aware of any specific documentation or tutorials on how to implement a custom `Charset` and its `CharsetDecoder` and `CharsetEncoder` class.  But you should be able to find example code in the OpenJDK Java SE codebase.  (They will be internal classes ...)\r\n\r\n-------------------\r\n\r\n&gt; I tried to browse Charset class but didn&#39;t really find a solution.\r\n\r\nWell the &quot;solution&quot; is that you will need to study existing examples ... or conclude that you don&#39;t *need* to solve this problem at all.  See above.\r\n","title":"How to create my own unique Charset in Java?","body":"<p>Basil's answer explains that you don't need to define a custom <code>Charset</code> in order to support some non-standard symbols.</p>\n<p>But if you really do need to do it, you will have to write a custom class that extends <code>Charset</code>.  There are 3 abstract methods that you have to implement:</p>\n<ul>\n<li><p><code>boolean contains(Charset cs)</code> - Tells whether or not this charset contains the given charset.</p>\n</li>\n<li><p><code>CharsetDecoder newDecoder()</code> Constructs a new decoder for this charset.</p>\n</li>\n<li><p><code>CharsetEncoder newEncoder()</code> Constructs a new encoder for this charset.</p>\n</li>\n</ul>\n<p>The other methods in the <code>Charset</code> API most likely don't need to be overridden.</p>\n<p>The decoder and encoder need to be able to convert between a <code>ByteBuffer</code> containing text in your charset's encoding and Unicode codepoints in a <code>CharBuffer</code>.  While both <code>CharsetDecoder</code> and <code>CharsetEncoder</code> are also abstract classes, they require you to implement a <code>decodeLoop</code> or <code>encodeLoop</code> method (respectively) which has complicated requirements.</p>\n<p>I am not aware of any specific documentation or tutorials on how to implement a custom <code>Charset</code> and its <code>CharsetDecoder</code> and <code>CharsetEncoder</code> class.  But you should be able to find example code in the OpenJDK Java SE codebase.  (They will be internal classes ...)</p>\n<hr />\n<blockquote>\n<p>I tried to browse Charset class but didn't really find a solution.</p>\n</blockquote>\n<p>Well the &quot;solution&quot; is that you will need to study existing examples ... or conclude that you don't <em>need</em> to solve this problem at all.  See above.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692476555,"creation_date":1692476555,"answer_id":76936897,"question_id":74914750,"body_markdown":"See [this SO answer](https://stackoverflow.com/questions/76936549/charset-not-present-in-used-jdk/76936879#76936879) where I wrote an entire implementation including instructions on how to register it, for IBM-924.\r\n\r\nAs others have echoed, your _specific_ needs here (namely, wanting to have 4 different sets of character groups available in a single encoding) sounds like UTF-8 is what you want, but just in case we misunderstand / just in case this post is found by someone with a legitimate need to write their own charset implementation - the linked answer shows you exactly what to do.\r\n\r\nNB: If you think a custom charset &#39;adds security&#39;, oh dear. No, no, it really, _really_ does not. You&#39;re about 100 years behind the times on crypto. This is called a basic replacement cipher, and given that text tends to have properties (such as: It&#39;s written in english, therefore it is somewhat likely to start with `Hello`, and the most common value is likely the letter `e`), you can trivially use these to undo whatever mapping you care to apply. This is the most basic of basic crypto stuff and folks were &#39;undoing such crypto&#39; by hand  __500 years ago__. Assuming you apply an actual cryptography algorithm using a proper protocol (big if!), then also applying a custom charset to it all is a bit like sticking a plaster over the hinges on fort knox. 2 acts intended to protect so incredibly far removed from each other, it&#39;d be played off as a joke in a movie.","title":"How to create my own unique Charset in Java?","body":"<p>See <a href=\"https://stackoverflow.com/questions/76936549/charset-not-present-in-used-jdk/76936879#76936879\">this SO answer</a> where I wrote an entire implementation including instructions on how to register it, for IBM-924.</p>\n<p>As others have echoed, your <em>specific</em> needs here (namely, wanting to have 4 different sets of character groups available in a single encoding) sounds like UTF-8 is what you want, but just in case we misunderstand / just in case this post is found by someone with a legitimate need to write their own charset implementation - the linked answer shows you exactly what to do.</p>\n<p>NB: If you think a custom charset 'adds security', oh dear. No, no, it really, <em>really</em> does not. You're about 100 years behind the times on crypto. This is called a basic replacement cipher, and given that text tends to have properties (such as: It's written in english, therefore it is somewhat likely to start with <code>Hello</code>, and the most common value is likely the letter <code>e</code>), you can trivially use these to undo whatever mapping you care to apply. This is the most basic of basic crypto stuff and folks were 'undoing such crypto' by hand  <strong>500 years ago</strong>. Assuming you apply an actual cryptography algorithm using a proper protocol (big if!), then also applying a custom charset to it all is a bit like sticking a plaster over the hinges on fort knox. 2 acts intended to protect so incredibly far removed from each other, it'd be played off as a joke in a movie.</p>\n"}],"owner":{"account_id":22350431,"reputation":91,"user_id":16568695,"display_name":"Vreny"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":613,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1692476555,"creation_date":1671988276,"question_id":74914750,"body_markdown":"I would like to make my own *Charset* in Java and then use it for the encoding purpose.\r\nI need to add some particular symbols to my *Charset* as well as all of the numbers and 4 languages (Traditional Chinese, US English, Polish and Russian).\r\n\r\nI tried to browse Charset class but didn`t really find a solution.","title":"How to create my own unique Charset in Java?","body":"<p>I would like to make my own <em>Charset</em> in Java and then use it for the encoding purpose.\nI need to add some particular symbols to my <em>Charset</em> as well as all of the numbers and 4 languages (Traditional Chinese, US English, Polish and Russian).</p>\n<p>I tried to browse Charset class but didn`t really find a solution.</p>\n"},{"tags":["java","lambda","java-8"],"answers":[{"tags":[],"owner":{"account_id":1691733,"reputation":3139,"user_id":1553934,"accept_rate":100,"display_name":"esin88"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1506525978,"creation_date":1490289773,"answer_id":42982876,"question_id":42982029,"body_markdown":"You need to create an additional class that will hold your 2 summarised numbers (salary and bonus). And a custom collector.\r\n\r\nLet&#39;s say you have \r\n\r\n    private static final class Summary {\r\n        private double salarySum;\r\n        private double bonusSum;\r\n\r\n        public Summary() {\r\n            this.salarySum = 0;\r\n            this.bonusSum = 0;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Summary{&quot; +\r\n                    &quot;salarySum=&quot; + salarySum +\r\n                    &quot;, bonusSum=&quot; + bonusSum +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nfor holding sums. Then you need a collector like this:\r\n\r\n    private static class EmployeeDetailsSummaryCollector implements Collector&lt;EmployeeDetails, Summary, Summary&gt; {\r\n        @Override\r\n        public Supplier&lt;Summary&gt; supplier() {\r\n            return Summary::new;\r\n        }\r\n\r\n        @Override\r\n        public BiConsumer&lt;Summary, EmployeeDetails&gt; accumulator() {\r\n            return (summary, employeeDetails) -&gt; {\r\n                summary.salarySum += employeeDetails.salary;\r\n                summary.bonusSum += employeeDetails.bonus;\r\n            };\r\n        }\r\n\r\n        @Override\r\n        public BinaryOperator&lt;Summary&gt; combiner() {\r\n            return (summary, summary1) -&gt; {\r\n                summary.salarySum += summary1.salarySum;\r\n                summary.bonusSum += summary1.bonusSum;\r\n                return summary;\r\n            };\r\n        }\r\n\r\n        @Override\r\n        public Function&lt;Summary, Summary&gt; finisher() {\r\n            return Function.identity();\r\n        }\r\n\r\n        @Override\r\n        public Set&lt;Characteristics&gt; characteristics() {\r\n            return EnumSet.of(Collector.Characteristics.IDENTITY_FINISH);\r\n        }\r\n    }\r\n\r\nWith these classes you can collect your results like\r\n\r\n    final List&lt;EmployeeDetails&gt; employees = asList(\r\n            new EmployeeDetails(/* deptName */&quot;A&quot;, /* salary */ 100d, /* bonus */ 20d),\r\n            new EmployeeDetails(&quot;A&quot;, 150d, 10d),\r\n            new EmployeeDetails(&quot;B&quot;, 80d, 5d),\r\n            new EmployeeDetails(&quot;C&quot;, 100d, 20d)\r\n    );\r\n\r\n    final Collector&lt;EmployeeDetails, Summary, Summary&gt; collector = new EmployeeDetailsSummaryCollector();\r\n    final Map&lt;String, Summary&gt; map = employees.stream()\r\n            .collect(Collectors.groupingBy(o -&gt; o.deptName, collector));\r\n    System.out.println(&quot;map = &quot; + map);\r\n\r\nWhich prints this:\r\n\r\n    map = {A=[salary=250.0, bonus=30.0], B=[salary=80.0, bonus=5.0], C=[salary=100.0, bonus=20.0]}","title":"Java 8 Lambda Collectors.summingLong multiple columns?","body":"<p>You need to create an additional class that will hold your 2 summarised numbers (salary and bonus). And a custom collector.</p>\n\n<p>Let's say you have </p>\n\n<pre><code>private static final class Summary {\n    private double salarySum;\n    private double bonusSum;\n\n    public Summary() {\n        this.salarySum = 0;\n        this.bonusSum = 0;\n    }\n\n    @Override\n    public String toString() {\n        return \"Summary{\" +\n                \"salarySum=\" + salarySum +\n                \", bonusSum=\" + bonusSum +\n                '}';\n    }\n}\n</code></pre>\n\n<p>for holding sums. Then you need a collector like this:</p>\n\n<pre><code>private static class EmployeeDetailsSummaryCollector implements Collector&lt;EmployeeDetails, Summary, Summary&gt; {\n    @Override\n    public Supplier&lt;Summary&gt; supplier() {\n        return Summary::new;\n    }\n\n    @Override\n    public BiConsumer&lt;Summary, EmployeeDetails&gt; accumulator() {\n        return (summary, employeeDetails) -&gt; {\n            summary.salarySum += employeeDetails.salary;\n            summary.bonusSum += employeeDetails.bonus;\n        };\n    }\n\n    @Override\n    public BinaryOperator&lt;Summary&gt; combiner() {\n        return (summary, summary1) -&gt; {\n            summary.salarySum += summary1.salarySum;\n            summary.bonusSum += summary1.bonusSum;\n            return summary;\n        };\n    }\n\n    @Override\n    public Function&lt;Summary, Summary&gt; finisher() {\n        return Function.identity();\n    }\n\n    @Override\n    public Set&lt;Characteristics&gt; characteristics() {\n        return EnumSet.of(Collector.Characteristics.IDENTITY_FINISH);\n    }\n}\n</code></pre>\n\n<p>With these classes you can collect your results like</p>\n\n<pre><code>final List&lt;EmployeeDetails&gt; employees = asList(\n        new EmployeeDetails(/* deptName */\"A\", /* salary */ 100d, /* bonus */ 20d),\n        new EmployeeDetails(\"A\", 150d, 10d),\n        new EmployeeDetails(\"B\", 80d, 5d),\n        new EmployeeDetails(\"C\", 100d, 20d)\n);\n\nfinal Collector&lt;EmployeeDetails, Summary, Summary&gt; collector = new EmployeeDetailsSummaryCollector();\nfinal Map&lt;String, Summary&gt; map = employees.stream()\n        .collect(Collectors.groupingBy(o -&gt; o.deptName, collector));\nSystem.out.println(\"map = \" + map);\n</code></pre>\n\n<p>Which prints this:</p>\n\n<pre><code>map = {A=[salary=250.0, bonus=30.0], B=[salary=80.0, bonus=5.0], C=[salary=100.0, bonus=20.0]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1490290703,"creation_date":1490290703,"answer_id":42983196,"question_id":42982029,"body_markdown":"I know you&#39;ve got your answer, but here is my take(I was writing while the other was posted). There is already a `Pair` in java in the form of `AbstractMap.SimpleEntry`.\r\n\r\n\r\n     System.out.println(Stream.of(new EmployeeDetails(&quot;first&quot;, 50d, 7d), new EmployeeDetails(&quot;first&quot;, 50d, 7d),\r\n                new EmployeeDetails(&quot;second&quot;, 51d, 8d), new EmployeeDetails(&quot;second&quot;, 51d, 8d))\r\n                .collect(Collectors.toMap(EmployeeDetails::getDeptName,\r\n                        ed -&gt; new AbstractMap.SimpleEntry&lt;&gt;(ed.getSalary(), ed.getBonus()), \r\n                        (left, right) -&gt; {\r\n                            double key = left.getKey() + right.getKey();\r\n                            double value = left.getValue() + right.getValue();\r\n                            return new AbstractMap.SimpleEntry&lt;&gt;(key, value);\r\n                        }, HashMap::new)));","title":"Java 8 Lambda Collectors.summingLong multiple columns?","body":"<p>I know you've got your answer, but here is my take(I was writing while the other was posted). There is already a <code>Pair</code> in java in the form of <code>AbstractMap.SimpleEntry</code>.</p>\n\n<pre><code> System.out.println(Stream.of(new EmployeeDetails(\"first\", 50d, 7d), new EmployeeDetails(\"first\", 50d, 7d),\n            new EmployeeDetails(\"second\", 51d, 8d), new EmployeeDetails(\"second\", 51d, 8d))\n            .collect(Collectors.toMap(EmployeeDetails::getDeptName,\n                    ed -&gt; new AbstractMap.SimpleEntry&lt;&gt;(ed.getSalary(), ed.getBonus()), \n                    (left, right) -&gt; {\n                        double key = left.getKey() + right.getKey();\n                        double value = left.getValue() + right.getValue();\n                        return new AbstractMap.SimpleEntry&lt;&gt;(key, value);\n                    }, HashMap::new)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7799232,"reputation":396,"user_id":5899277,"display_name":"John Morris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490292657,"creation_date":1490292657,"answer_id":42983828,"question_id":42982029,"body_markdown":"Grouping by is a terminal operation that yields a map.  The map produced by the groupingBy in the code below is a `Map&lt;String, List&lt;EmployeeDetails&gt;&gt;`. I create a new stream using the Map entrySet method. I then create a new Map using `Collectors.toMap`. This approach uses method chaining to avoid creating another class and create more concise code.\r\n\r\n    details.stream()\r\n\t    .collect(Collectors.groupingBy(EmployeeDetails::getDeptName))\r\n\t\t.entrySet()\r\n\t\t.stream()\r\n\t\t.collect(Collectors.toMap(x-&gt;x.getKey(), x-&gt;x.getValue()\r\n\t\t    .stream()\r\n\t\t\t.mapToDouble(y -&gt; y.getSalary() + y.getBonus())\r\n\t\t\t.sum()));\r\n","title":"Java 8 Lambda Collectors.summingLong multiple columns?","body":"<p>Grouping by is a terminal operation that yields a map.  The map produced by the groupingBy in the code below is a <code>Map&lt;String, List&lt;EmployeeDetails&gt;&gt;</code>. I create a new stream using the Map entrySet method. I then create a new Map using <code>Collectors.toMap</code>. This approach uses method chaining to avoid creating another class and create more concise code.</p>\n\n<pre><code>details.stream()\n    .collect(Collectors.groupingBy(EmployeeDetails::getDeptName))\n    .entrySet()\n    .stream()\n    .collect(Collectors.toMap(x-&gt;x.getKey(), x-&gt;x.getValue()\n        .stream()\n        .mapToDouble(y -&gt; y.getSalary() + y.getBonus())\n        .sum()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692476264,"creation_date":1692475809,"answer_id":76936865,"question_id":42982029,"body_markdown":"The question targets specifically Java 8, but the time passes and the Java language improves. Long story short, you may try to use [`Collectors.teeing`][1] available since Java 12:\r\n```\r\nMap&lt;String, Pair&lt;Double, Double&gt;&gt; res =\r\n    set.stream()\r\n        .collect(\r\n            Collectors.groupingBy(\r\n                EmployeeDetails::getDeptName,\r\n                Collectors.teeing(\r\n                    Collectors.summingDouble(EmployeeDetails::getSalary),\r\n                    Collectors.summingDouble(EmployeeDetails::getBonus),\r\n                    Pair::of)));\r\n```\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)","title":"Java 8 Lambda Collectors.summingLong multiple columns?","body":"<p>The question targets specifically Java 8, but the time passes and the Java language improves. Long story short, you may try to use <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>Collectors.teeing</code></a> available since Java 12:</p>\n<pre><code>Map&lt;String, Pair&lt;Double, Double&gt;&gt; res =\n    set.stream()\n        .collect(\n            Collectors.groupingBy(\n                EmployeeDetails::getDeptName,\n                Collectors.teeing(\n                    Collectors.summingDouble(EmployeeDetails::getSalary),\n                    Collectors.summingDouble(EmployeeDetails::getBonus),\n                    Pair::of)));\n</code></pre>\n"}],"owner":{"account_id":1120685,"reputation":2411,"user_id":1109059,"accept_rate":87,"display_name":"gpa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2336,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":42982876,"answer_count":4,"score":9,"last_activity_date":1692476264,"creation_date":1490287157,"question_id":42982029,"body_markdown":"I have POJO definition as follows:\r\n\r\n    class EmployeeDetails{\r\n     private String deptName;\r\n     private Double salary;\r\n     private Double bonus;\r\n     ...\r\n    }\r\n\r\nCurrently, i have lambda expression for Group By `&#39;deptName&#39;` as :\r\n\r\n    $set.stream().collect(Collectors.groupingBy(EmployeeDetails::getDeptName,\r\n                                     Collectors.summingLong(EmployeeDetails::getSalary));\r\n\r\n\r\n**Question** Is it possible to *Sum* more than one column? I need to compute sum on **both** fields `salary and bonus` in one expression instead of multiple times?\r\n\r\nSQL representation would be:\r\n\r\n    SELECT deptName,SUM(salary),SUM(bonus)\r\n    FROM TABLE_EMP\r\n    GROUP BY deptName;","title":"Java 8 Lambda Collectors.summingLong multiple columns?","body":"<p>I have POJO definition as follows:</p>\n\n<pre><code>class EmployeeDetails{\n private String deptName;\n private Double salary;\n private Double bonus;\n ...\n}\n</code></pre>\n\n<p>Currently, i have lambda expression for Group By <code>'deptName'</code> as :</p>\n\n<pre><code>$set.stream().collect(Collectors.groupingBy(EmployeeDetails::getDeptName,\n                                 Collectors.summingLong(EmployeeDetails::getSalary));\n</code></pre>\n\n<p><strong>Question</strong> Is it possible to <em>Sum</em> more than one column? I need to compute sum on <strong>both</strong> fields <code>salary and bonus</code> in one expression instead of multiple times?</p>\n\n<p>SQL representation would be:</p>\n\n<pre><code>SELECT deptName,SUM(salary),SUM(bonus)\nFROM TABLE_EMP\nGROUP BY deptName;\n</code></pre>\n"},{"tags":["java","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":16834351,"reputation":171,"user_id":12171447,"display_name":"Francesco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692475841,"creation_date":1692390630,"answer_id":76932416,"question_id":76932188,"body_markdown":"The issue might be related to the way you&#39;ve set up the generation of the `internalNumber` field using the custom generator. \r\n\r\nIn the usage of the `@GeneratedValue(generator = &quot;customerInternalNumberGenerator&quot;)` annotation on the `internalNumber` field, the `internalNumber` is a string and not an UUID, so using `@GeneratedValue` might not be the right approach.\r\n\r\nInstead of using `@GeneratedValue`, you could manually generate the `internalNumber` in your code and set it before saving the `Customer` entity. The generator&#39;s `generate()` method might not be called because it&#39;s designed for generating identifiers for IDs, so UUID, not other fields such as a string.\r\n\r\nyou could modify your `Customer` class to achieve this:\r\n\r\n```java\r\n\r\n// imports\r\n\r\n// Customer.java\r\n@Entity\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@Builder\r\npublic class Customer {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.UUID)\r\n    private UUID id;\r\n\r\n    @Column(nullable = false, unique = true) // Ensure uniqueness of internalNumber\r\n    private String internalNumber;\r\n\r\n    @Column(nullable = false)\r\n    private String firstName;\r\n    // ... other fields ...\r\n\r\n    @PrePersist\r\n    public void generateInternalNumber() {\r\n        internalNumber = InternalNumber.generateRandomInternalNumber();\r\n    }\r\n}\r\n```\r\n\r\nBy using the `@PrePersist` annotation, the `generateInternalNumber()` method will be automatically called just before the entity is persisted to the database, ensuring that the `internalNumber` field is generated and set before saving.\r\n\r\nHere&#39;s some [good article](https://nullbeans.com/how-to-use-prepersist-and-preupdate-in-jpa-hibernate/) about the PrePersist annotation.\r\n\r\n**EDIT:**\r\n\r\nTo ensure uniqueness before saving the `Customer` entity you can query the database to check if the generated `internalNumber` already exists before setting it. You don&#39;t need to access the repository or JPA connection directly within the entity class. Instead, you can create a service or manager class to handle this logic and then use it when saving the entity.\r\n\r\nI could think of something like this:\r\n\r\n1. Create a service class to generate and set the `internalNumber`:\r\n\r\n```java\r\n// CustomerService.java\r\n@Service\r\npublic class CustomerService {\r\n\r\n    @Autowired\r\n    private CustomerRepository customerRepository;\r\n\r\n    public Customer createCustomer(Customer customer) {\r\n        String generatedInternalNumber;\r\n        do {\r\n            generatedInternalNumber = InternalNumber.generateRandomInternalNumber();\r\n        } while (customerRepository.existsByInternalNumber(generatedInternalNumber));\r\n        \r\n        customer.setInternalNumber(generatedInternalNumber);\r\n        return customerRepository.save(customer);\r\n    }\r\n}\r\n```\r\n\r\n2. Modify your `Customer` class:\r\n\r\n```java\r\n// Customer.java\r\n@Entity\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@Builder\r\npublic class Customer {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.UUID)\r\n    private UUID id;\r\n\r\n    @Column(nullable = false, unique = true)\r\n    private String internalNumber;\r\n\r\n    @Column(nullable = false)\r\n    private String firstName;\r\n\r\n    // ... other fields ...\r\n\r\n    // No need for @PrePersist in this case\r\n}\r\n```\r\n\r\nThe `CustomerService` class is responsible for generating a unique `internalNumber` by checking if it already exists in the database before saving a new `Customer` entity and the `existsByInternalNumber` method in the `CustomerRepository` checks if a `Customer` with the given `internalNumber` already exists in the database.\r\n\r\nBy doing this you no longer need the `@PrePersist` method because the `internalNumber` is set in the service before saving the entity.\r\n\r\nHope that helps! :)","title":"Custom IdentifierGenerator not used in JPA","body":"<p>The issue might be related to the way you've set up the generation of the <code>internalNumber</code> field using the custom generator.</p>\n<p>In the usage of the <code>@GeneratedValue(generator = &quot;customerInternalNumberGenerator&quot;)</code> annotation on the <code>internalNumber</code> field, the <code>internalNumber</code> is a string and not an UUID, so using <code>@GeneratedValue</code> might not be the right approach.</p>\n<p>Instead of using <code>@GeneratedValue</code>, you could manually generate the <code>internalNumber</code> in your code and set it before saving the <code>Customer</code> entity. The generator's <code>generate()</code> method might not be called because it's designed for generating identifiers for IDs, so UUID, not other fields such as a string.</p>\n<p>you could modify your <code>Customer</code> class to achieve this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n// imports\n\n// Customer.java\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Builder\npublic class Customer {\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    private UUID id;\n\n    @Column(nullable = false, unique = true) // Ensure uniqueness of internalNumber\n    private String internalNumber;\n\n    @Column(nullable = false)\n    private String firstName;\n    // ... other fields ...\n\n    @PrePersist\n    public void generateInternalNumber() {\n        internalNumber = InternalNumber.generateRandomInternalNumber();\n    }\n}\n</code></pre>\n<p>By using the <code>@PrePersist</code> annotation, the <code>generateInternalNumber()</code> method will be automatically called just before the entity is persisted to the database, ensuring that the <code>internalNumber</code> field is generated and set before saving.</p>\n<p>Here's some <a href=\"https://nullbeans.com/how-to-use-prepersist-and-preupdate-in-jpa-hibernate/\" rel=\"nofollow noreferrer\">good article</a> about the PrePersist annotation.</p>\n<p><strong>EDIT:</strong></p>\n<p>To ensure uniqueness before saving the <code>Customer</code> entity you can query the database to check if the generated <code>internalNumber</code> already exists before setting it. You don't need to access the repository or JPA connection directly within the entity class. Instead, you can create a service or manager class to handle this logic and then use it when saving the entity.</p>\n<p>I could think of something like this:</p>\n<ol>\n<li>Create a service class to generate and set the <code>internalNumber</code>:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>// CustomerService.java\n@Service\npublic class CustomerService {\n\n    @Autowired\n    private CustomerRepository customerRepository;\n\n    public Customer createCustomer(Customer customer) {\n        String generatedInternalNumber;\n        do {\n            generatedInternalNumber = InternalNumber.generateRandomInternalNumber();\n        } while (customerRepository.existsByInternalNumber(generatedInternalNumber));\n        \n        customer.setInternalNumber(generatedInternalNumber);\n        return customerRepository.save(customer);\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Modify your <code>Customer</code> class:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>// Customer.java\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Builder\npublic class Customer {\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    private UUID id;\n\n    @Column(nullable = false, unique = true)\n    private String internalNumber;\n\n    @Column(nullable = false)\n    private String firstName;\n\n    // ... other fields ...\n\n    // No need for @PrePersist in this case\n}\n</code></pre>\n<p>The <code>CustomerService</code> class is responsible for generating a unique <code>internalNumber</code> by checking if it already exists in the database before saving a new <code>Customer</code> entity and the <code>existsByInternalNumber</code> method in the <code>CustomerRepository</code> checks if a <code>Customer</code> with the given <code>internalNumber</code> already exists in the database.</p>\n<p>By doing this you no longer need the <code>@PrePersist</code> method because the <code>internalNumber</code> is set in the service before saving the entity.</p>\n<p>Hope that helps! :)</p>\n"}],"owner":{"account_id":16467655,"reputation":13,"user_id":11897432,"display_name":"Admin_PCNGroup"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76932416,"answer_count":1,"score":0,"last_activity_date":1692475841,"creation_date":1692387996,"question_id":76932188,"body_markdown":"I implemented a `CustomerInternalNumberGenerator` that implements JPA&#39;s `IdentifierGenerator` as follows:\r\n```java\r\npackage ch.pcngroup.gestionale.generator;\r\n\r\nimport ch.pcngroup.gestionale.util.InternalNumber;\r\nimport org.hibernate.engine.spi.SharedSessionContractImplementor;\r\nimport org.hibernate.id.IdentifierGenerator;\r\nimport org.springframework.data.convert.Jsr310Converters;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.Statement;\r\n\r\npublic class CustomerInternalNumberGeneratorimplements IdentifierGenerator {\r\n\r\n    @Override\r\n    public Object generate(SharedSessionContractImplementor sharedSessionContractImplementor, Object o) {\r\n        String candidate = InternalNumber.generateRandomInternalNumber();\r\n        try(Connection connection = sharedSessionContractImplementor.getJdbcConnectionAccess().obtainConnection()) {\r\n            System.out.println(candidate); // Just to check -- NEVER called!\r\n            while (true) {\r\n                PreparedStatement stmt = connection.prepareStatement(&quot;SELECT * FROM ? WHERE internal_number = ?&quot;);\r\n                stmt.setString(1, &quot;customer&quot;);\r\n                stmt.setString(2, candidate);\r\n                ResultSet set = stmt.executeQuery();\r\n                if(!set.next()) return candidate;\r\n            }\r\n\r\n        }\r\n        catch(Exception e) {throw new RuntimeException(e);}\r\n    }\r\n}\r\n\r\n```\r\nand I have a JPA Entity `Customer` as follows:\r\n```java\r\npackage ch.pcngroup.gestionale.entity;\r\n\r\nimport ch.pcngroup.gestionale.generator.CustomerInternalNumberGenerator;\r\nimport jakarta.persistence.*;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport org.hibernate.annotations.GenericGenerator;\r\n\r\nimport java.util.UUID;\r\n\r\n@Entity\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@Builder\r\npublic class Customer {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.UUID)\r\n    private UUID id;\r\n\r\n    @GenericGenerator(name = &quot;customerInternalNumberGenerator&quot;, type = CustomerInternalNumberGenerator.class)\r\n    @GeneratedValue(generator = &quot;customerInternalNumberGenerator&quot;)\r\n    private String internalNumber;\r\n\r\n    @Column(nullable = false)\r\n    private String firstName;\r\n    @Column(nullable = false)\r\n    private String lastName;\r\n    @Column(nullable = false)\r\n    private String street;\r\n    @Column(nullable = false)\r\n    private String postCode;\r\n    @Column(nullable = false)\r\n    private String city;\r\n    @Column(columnDefinition = &quot;VARCHAR(2)&quot;, nullable = false)\r\n    private String country;\r\n    private String phone;\r\n    private String emailAddress;\r\n}\r\n\r\n\r\n````\r\n\r\nI&#39;d like the `String internalNumber` of the `Customer` class to be autogenerated by the above generator. \r\nThe generator `generate()` method does not seem to be called at all: in fact, when I save a Customer to the DB via JPA (using the repository&#39;s `save()` method, the `println` statement in the `generate()` method is not called (nothing gets printed)). As a result, all added Customers have an `internalNumber` of `null`.\r\n\r\nWhy is this happening?\r\n\r\nThank you! ","title":"Custom IdentifierGenerator not used in JPA","body":"<p>I implemented a <code>CustomerInternalNumberGenerator</code> that implements JPA's <code>IdentifierGenerator</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package ch.pcngroup.gestionale.generator;\n\nimport ch.pcngroup.gestionale.util.InternalNumber;\nimport org.hibernate.engine.spi.SharedSessionContractImplementor;\nimport org.hibernate.id.IdentifierGenerator;\nimport org.springframework.data.convert.Jsr310Converters;\n\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.Statement;\n\npublic class CustomerInternalNumberGeneratorimplements IdentifierGenerator {\n\n    @Override\n    public Object generate(SharedSessionContractImplementor sharedSessionContractImplementor, Object o) {\n        String candidate = InternalNumber.generateRandomInternalNumber();\n        try(Connection connection = sharedSessionContractImplementor.getJdbcConnectionAccess().obtainConnection()) {\n            System.out.println(candidate); // Just to check -- NEVER called!\n            while (true) {\n                PreparedStatement stmt = connection.prepareStatement(&quot;SELECT * FROM ? WHERE internal_number = ?&quot;);\n                stmt.setString(1, &quot;customer&quot;);\n                stmt.setString(2, candidate);\n                ResultSet set = stmt.executeQuery();\n                if(!set.next()) return candidate;\n            }\n\n        }\n        catch(Exception e) {throw new RuntimeException(e);}\n    }\n}\n\n</code></pre>\n<p>and I have a JPA Entity <code>Customer</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package ch.pcngroup.gestionale.entity;\n\nimport ch.pcngroup.gestionale.generator.CustomerInternalNumberGenerator;\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.hibernate.annotations.GenericGenerator;\n\nimport java.util.UUID;\n\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Builder\npublic class Customer {\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    private UUID id;\n\n    @GenericGenerator(name = &quot;customerInternalNumberGenerator&quot;, type = CustomerInternalNumberGenerator.class)\n    @GeneratedValue(generator = &quot;customerInternalNumberGenerator&quot;)\n    private String internalNumber;\n\n    @Column(nullable = false)\n    private String firstName;\n    @Column(nullable = false)\n    private String lastName;\n    @Column(nullable = false)\n    private String street;\n    @Column(nullable = false)\n    private String postCode;\n    @Column(nullable = false)\n    private String city;\n    @Column(columnDefinition = &quot;VARCHAR(2)&quot;, nullable = false)\n    private String country;\n    private String phone;\n    private String emailAddress;\n}\n\n\n</code></pre>\n<p>I'd like the <code>String internalNumber</code> of the <code>Customer</code> class to be autogenerated by the above generator.\nThe generator <code>generate()</code> method does not seem to be called at all: in fact, when I save a Customer to the DB via JPA (using the repository's <code>save()</code> method, the <code>println</code> statement in the <code>generate()</code> method is not called (nothing gets printed)). As a result, all added Customers have an <code>internalNumber</code> of <code>null</code>.</p>\n<p>Why is this happening?</p>\n<p>Thank you!</p>\n"},{"tags":["java","html","discord","twitch"],"owner":{"account_id":29258648,"reputation":1,"user_id":22416213,"display_name":"Collin Connor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692475575,"creation_date":1692473743,"question_id":76936755,"body_markdown":"I&#39;m working on building a discord bot for a twitch community that can access the community stores Square Website and return messages to a discord channel when the quantity changes (someone buys something or the store is restocked). I&#39;m trying to use Jsoup with Maven but I&#39;m not overly familiar with html and how to pull the individual quantity elements and integrate them into the program. In the code below I think I have the basic structure but I need to know how to include all the different products available\r\n\r\nItem example: https://suknives.square.site/product/pokemon-50-pack-mixer-team-up-evolving-skies-brilliant-stars/232?cs=true&amp;cst=custom\r\n\r\n```\r\nprivate static int scrapeProductAvailability(String productUrl) throws IOException {\r\n        Document productPage = Jsoup.connect(productUrl).get();\r\n\r\n        // Replace these selectors with the actual HTML elements that contain availability information\r\n        Element availabilityElement = productPage.selectFirst(&quot;&quot;);\r\n        \r\n        // Extract the availability information from the element\r\n        if (availabilityElement != null) {\r\n            String availabilityText = availabilityElement.text();\r\n            \r\n            // Parse the availability text to get the quantity (this is just a simplified example)\r\n            int availability = Integer.parseInt(availabilityText);\r\n            \r\n            return availability;\r\n        }\r\n        \r\n        // Return a default value if availability information is not found\r\n        return -1;\r\n    }\r\n```\r\n","title":"Webscraping Square Website For Available Product","body":"<p>I'm working on building a discord bot for a twitch community that can access the community stores Square Website and return messages to a discord channel when the quantity changes (someone buys something or the store is restocked). I'm trying to use Jsoup with Maven but I'm not overly familiar with html and how to pull the individual quantity elements and integrate them into the program. In the code below I think I have the basic structure but I need to know how to include all the different products available</p>\n<p>Item example: <a href=\"https://suknives.square.site/product/pokemon-50-pack-mixer-team-up-evolving-skies-brilliant-stars/232?cs=true&amp;cst=custom\" rel=\"nofollow noreferrer\">https://suknives.square.site/product/pokemon-50-pack-mixer-team-up-evolving-skies-brilliant-stars/232?cs=true&amp;cst=custom</a></p>\n<pre><code>private static int scrapeProductAvailability(String productUrl) throws IOException {\n        Document productPage = Jsoup.connect(productUrl).get();\n\n        // Replace these selectors with the actual HTML elements that contain availability information\n        Element availabilityElement = productPage.selectFirst(&quot;&quot;);\n        \n        // Extract the availability information from the element\n        if (availabilityElement != null) {\n            String availabilityText = availabilityElement.text();\n            \n            // Parse the availability text to get the quantity (this is just a simplified example)\n            int availability = Integer.parseInt(availabilityText);\n            \n            return availability;\n        }\n        \n        // Return a default value if availability information is not found\n        return -1;\n    }\n</code></pre>\n"},{"tags":["java","eclipse","tomcat"],"answers":[{"tags":[],"owner":{"account_id":14151956,"reputation":1,"user_id":10223664,"display_name":"nikhil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534240667,"creation_date":1534239384,"answer_id":51838314,"question_id":40729817,"body_markdown":" 1. Go to overview section of server.\r\n 2. Go to Server Options section.\r\n 3. Select (Publish module contexts to separate XML files).\r\n \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NXC2o.png","title":"Eclipse Tomcat Error: &quot;Could not launch in profiling mode because no profilers are configured.&quot;","body":"<ol>\n<li>Go to overview section of server.</li>\n<li>Go to Server Options section.</li>\n<li>Select (Publish module contexts to separate XML files).</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/NXC2o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NXC2o.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":9694453,"reputation":71,"user_id":7191405,"accept_rate":67,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11349,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1692475535,"creation_date":1479764127,"question_id":40729817,"body_markdown":"I&#39;m just starting with Java Web Application and I&#39;m using this [tutorial series to learn][1].  I have followed all the instructions and installed all the instructed plug-ins and software successfully, and copied the given program (outputs a simple text line).  However, when I run it, it prompts the following \r\n\r\n[![enter image description here][2]][2]\r\n\r\nCould someone kindly guide me in what the problem is and what I might have done wrong?\r\n\r\nP.s. I&#39;m using Eclipse &#39;Neon&#39; Java EE as my IDE.\r\n\r\n\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=MSS0Tndfh6I&amp;list=PLHqN89yRGMyAcwWcSWk59_S_-BQVn3Rrb&amp;index=5\r\n  [2]: https://i.stack.imgur.com/gToHs.jpg","title":"Eclipse Tomcat Error: &quot;Could not launch in profiling mode because no profilers are configured.&quot;","body":"<p>I'm just starting with Java Web Application and I'm using this <a href=\"https://www.youtube.com/watch?v=MSS0Tndfh6I&amp;list=PLHqN89yRGMyAcwWcSWk59_S_-BQVn3Rrb&amp;index=5\" rel=\"nofollow noreferrer\">tutorial series to learn</a>.  I have followed all the instructions and installed all the instructed plug-ins and software successfully, and copied the given program (outputs a simple text line).  However, when I run it, it prompts the following </p>\n\n<p><a href=\"https://i.stack.imgur.com/gToHs.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gToHs.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Could someone kindly guide me in what the problem is and what I might have done wrong?</p>\n\n<p>P.s. I'm using Eclipse 'Neon' Java EE as my IDE.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1422283083,"post_id":28151724,"comment_id":44675645,"body_markdown":"What is `request` ? is this an object from a 3rd pary lib or do you have full source code control over this class ?","body":"What is <code>request</code> ? is this an object from a 3rd pary lib or do you have full source code control over this class ?"},{"owner":{"account_id":2032958,"reputation":4440,"user_id":1816112,"display_name":"Sofien Rahmouni"},"score":0,"creation_date":1422283136,"post_id":28151724,"comment_id":44675680,"body_markdown":"is the part of 3rd library , i dont have a full source code control","body":"is the part of 3rd library , i dont have a full source code control"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1422283392,"post_id":28151724,"comment_id":44675852,"body_markdown":"If there is no special parameter or similiar control for `getContent()` to limit the amount per request, I think you are out of luck. Could you write your own XML-RPC for a specific case ?","body":"If there is no special parameter or similiar control for <code>getContent()</code> to limit the amount per request, I think you are out of luck. Could you write your own XML-RPC for a specific case ?"},{"owner":{"account_id":3609476,"reputation":442,"user_id":3010873,"accept_rate":71,"display_name":"Josef"},"score":0,"creation_date":1422283451,"post_id":28151724,"comment_id":44675900,"body_markdown":"Look here :http://stackoverflow.com/questions/27549232/outofmemory-recycle-images/27555881#27555881","body":"Look here :<a href=\"http://stackoverflow.com/questions/27549232/outofmemory-recycle-images/27555881#27555881\" title=\"outofmemory recycle images\">stackoverflow.com/questions/27549232/outofmemory-recycle-im&zwnj;&#8203;ages/&hellip;</a>"},{"owner":{"account_id":2032958,"reputation":4440,"user_id":1816112,"display_name":"Sofien Rahmouni"},"score":0,"creation_date":1422284902,"post_id":28151724,"comment_id":44676876,"body_markdown":"@PeterMmm i have a flags to activate the download of data or not  , but a special parameter to  to limit the amount per request dosent exist , i will talk the creator of the library to give me another way to download the data per amount . thanks Peter","body":"@PeterMmm i have a flags to activate the download of data or not  , but a special parameter to  to limit the amount per request dosent exist , i will talk the creator of the library to give me another way to download the data per amount . thanks Peter"}],"owner":{"account_id":2032958,"reputation":4440,"user_id":1816112,"display_name":"Sofien Rahmouni"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692475440,"creation_date":1422281561,"question_id":28151724,"body_markdown":"I have a Web service based on XML-RPC ,I tried to download a large data using this method :\r\n\r\n    byte[] data = request.getInfo(infoFilter).getDocuments().get(indexDocument).getContent(); \r\n\r\nWhen the data is considered as big, the application will cause exception of out of memory ,because some device has a small size cache ,my solution here is to truncate the data in small quantity. I think I need to get inspiref from this code :\r\n\r\n    FileOutputStream fos = new FileOutputStream(file);\r\n    while ((current = bis.read()) != -1) {\r\n        fos.write(current);\r\n    }\r\n    fos.close();\r\n\r\nCan anyone has an idea about how can i resolve this issue ?\r\n\r\n","title":"Out Of Memory In XML-RPC result","body":"<p>I have a Web service based on XML-RPC ,I tried to download a large data using this method :</p>\n<pre><code>byte[] data = request.getInfo(infoFilter).getDocuments().get(indexDocument).getContent(); \n</code></pre>\n<p>When the data is considered as big, the application will cause exception of out of memory ,because some device has a small size cache ,my solution here is to truncate the data in small quantity. I think I need to get inspiref from this code :</p>\n<pre><code>FileOutputStream fos = new FileOutputStream(file);\nwhile ((current = bis.read()) != -1) {\n    fos.write(current);\n}\nfos.close();\n</code></pre>\n<p>Can anyone has an idea about how can i resolve this issue ?</p>\n"},{"tags":["java","security","spring-security","regression","bypass"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1692463304,"post_id":76935671,"comment_id":135628005,"body_markdown":"`WebSecurityConfigurerAdapter` is deprecated","body":"<code>WebSecurityConfigurerAdapter</code> is deprecated"}],"answers":[{"tags":[],"owner":{"account_id":29121401,"reputation":31,"user_id":22308749,"display_name":"Yordan Yordanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692462777,"creation_date":1692462777,"answer_id":76936118,"question_id":76935671,"body_markdown":"I think you should use **requestMatchers** instead\r\nbecause isn&#39;t **antMatchers** deprecated in the newest **SpringSecurity** version","title":"Fail to bypass a spring security check using antMatcher method","body":"<p>I think you should use <strong>requestMatchers</strong> instead\nbecause isn't <strong>antMatchers</strong> deprecated in the newest <strong>SpringSecurity</strong> version</p>\n"}],"owner":{"account_id":23156228,"reputation":1,"user_id":17257435,"display_name":"coiloffaraday"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692475193,"creation_date":1692456197,"question_id":76935671,"body_markdown":"How should I carefully construct url addresses to bypass forensics in this spring project?\r\n\r\n```\r\npublic class SpringSecurityConfig\r\nextends WebSecurityConfigurerAdapter {\r\n    @Bean\r\n    public HttpFirewall httpFirewall() {\r\n        return new CustomHttpFirewall();\r\n    }\r\n\r\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n        ((ExpressionUrlAuthorizationConfigurer.AuthorizedUrl)httpSecurity.authorizeRequests().antMatchers(new String[]{&quot;/admin/**&quot;})).authenticated();\r\n    }\r\n}\r\n```\r\n\r\nAbove is the statement for authentication for this spring project.\r\n\r\nAnd the project have the following statement in the firewall file.\r\n\r\n```\r\npublic class CustomHttpFirewall\r\nextends DefaultHttpFirewall {\r\n    protected void configure(StrictHttpFirewall firewalledRequest) {\r\n        firewalledRequest.setAllowUrlEncodedSlash(true);\r\n        firewalledRequest.setAllowUrlEncodedDoubleSlash(true);\r\n        firewalledRequest.setAllowUrlEncodedPeriod(true);\r\n    }\r\n}\r\n```\r\n\r\nThis project doesn&#39;t use JWT to authenticate a user.\r\n\r\nThe version number of spring-security in this project is 5.6.3, while which of springframework is 2.7.0\r\n\r\n\r\n\r\nI&#39;ve tried multiple ways of double-writing the slash and encoding the url multiple times, but all of them failed.\r\n\r\nI wander whether there is even a way to bypass this forensic statement.","title":"Fail to bypass a spring security check using antMatcher method","body":"<p>How should I carefully construct url addresses to bypass forensics in this spring project?</p>\n<pre><code>public class SpringSecurityConfig\nextends WebSecurityConfigurerAdapter {\n    @Bean\n    public HttpFirewall httpFirewall() {\n        return new CustomHttpFirewall();\n    }\n\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        ((ExpressionUrlAuthorizationConfigurer.AuthorizedUrl)httpSecurity.authorizeRequests().antMatchers(new String[]{&quot;/admin/**&quot;})).authenticated();\n    }\n}\n</code></pre>\n<p>Above is the statement for authentication for this spring project.</p>\n<p>And the project have the following statement in the firewall file.</p>\n<pre><code>public class CustomHttpFirewall\nextends DefaultHttpFirewall {\n    protected void configure(StrictHttpFirewall firewalledRequest) {\n        firewalledRequest.setAllowUrlEncodedSlash(true);\n        firewalledRequest.setAllowUrlEncodedDoubleSlash(true);\n        firewalledRequest.setAllowUrlEncodedPeriod(true);\n    }\n}\n</code></pre>\n<p>This project doesn't use JWT to authenticate a user.</p>\n<p>The version number of spring-security in this project is 5.6.3, while which of springframework is 2.7.0</p>\n<p>I've tried multiple ways of double-writing the slash and encoding the url multiple times, but all of them failed.</p>\n<p>I wander whether there is even a way to bypass this forensic statement.</p>\n"},{"tags":["java","apache-poi","docx4j"],"comments":[{"owner":{"account_id":3394779,"reputation":3579,"user_id":2848698,"accept_rate":69,"display_name":"Sumama Waheed"},"score":0,"creation_date":1540496415,"post_id":39972752,"comment_id":92898721,"body_markdown":"setCantSplitRow(true) not working for me either","body":"setCantSplitRow(true) not working for me either"}],"answers":[{"tags":[],"owner":{"account_id":5394212,"reputation":383,"user_id":4295885,"display_name":"Rahul khanvani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476180028,"creation_date":1476180028,"answer_id":39974787,"question_id":39972752,"body_markdown":"Try using Table Row Function :\r\n\r\n\t**setCantSplitRow(boolean split)\r\nThis attribute controls whether to allow table rows to split across pages.**\r\n\r\ntableRow.setCantSplitRow(true);","title":"Prevent Table split in apache poi","body":"<p>Try using Table Row Function :</p>\n\n<pre><code>**setCantSplitRow(boolean split)\n</code></pre>\n\n<p>This attribute controls whether to allow table rows to split across pages.**</p>\n\n<p>tableRow.setCantSplitRow(true);</p>\n"},{"tags":[],"owner":{"account_id":24360773,"reputation":61,"user_id":18295167,"display_name":"trom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692474308,"creation_date":1692474308,"answer_id":76936782,"question_id":39972752,"body_markdown":"To make table unsplittable you should set for all paragraphs in table property &quot;isKeepNext = true&quot; like this (for kotlin):\r\n\r\n    fun XWPFTable.setUnsplittable(): XWPFTable {\r\n    return apply {\r\n        rows.map { row -&gt;\r\n            row.tableCells.map { cell -&gt;\r\n                cell.paragraphs.map { paragraph -&gt;\r\n                    if (paragraph.ctp?.pPr == null) paragraph.ctp.addNewPPr().addNewKeepLines()\r\n                    paragraph.isKeepNext = true\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nSo if you want to check how it works in MS Word, you can select table and include &quot;keep with next&quot; in paragraph settings, and finally save docuemnt in .xml and see that isKeepNext is used for all paragraphs =)\r\n","title":"Prevent Table split in apache poi","body":"<p>To make table unsplittable you should set for all paragraphs in table property &quot;isKeepNext = true&quot; like this (for kotlin):</p>\n<pre><code>fun XWPFTable.setUnsplittable(): XWPFTable {\nreturn apply {\n    rows.map { row -&gt;\n        row.tableCells.map { cell -&gt;\n            cell.paragraphs.map { paragraph -&gt;\n                if (paragraph.ctp?.pPr == null) paragraph.ctp.addNewPPr().addNewKeepLines()\n                paragraph.isKeepNext = true\n            }\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n<p>So if you want to check how it works in MS Word, you can select table and include &quot;keep with next&quot; in paragraph settings, and finally save docuemnt in .xml and see that isKeepNext is used for all paragraphs =)</p>\n"}],"owner":{"account_id":6745097,"reputation":93,"user_id":5196944,"display_name":"Ravi Brahmbhatt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1442,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1692474308,"creation_date":1476172718,"question_id":39972752,"body_markdown":"I am facing an issue while generating the docx file using apache poi library.\r\nI have multiple tables of variable sizes to be included dynamically in the document.The issue is that table gets splited between the pages.My requirement is to prevent the table from splitting between the pages.In poi library i found the method `table.getRow(0).setCantSplitRow(true);` but does not changes anything.Any suggestions for how to implement this.Thanks in advance.","title":"Prevent Table split in apache poi","body":"<p>I am facing an issue while generating the docx file using apache poi library.\nI have multiple tables of variable sizes to be included dynamically in the document.The issue is that table gets splited between the pages.My requirement is to prevent the table from splitting between the pages.In poi library i found the method <code>table.getRow(0).setCantSplitRow(true);</code> but does not changes anything.Any suggestions for how to implement this.Thanks in advance.</p>\n"},{"tags":["java","spring","hibernate","spring-data"],"answers":[{"tags":[],"owner":{"account_id":22317826,"reputation":60,"user_id":16540902,"display_name":"uki34"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692473126,"creation_date":1692473126,"answer_id":76936720,"question_id":76930463,"body_markdown":"**1. Change to **@ManyToOne** Relationship:**\r\n\r\nOne approach is to modify the relationship from @OneToMany to @ManyToOne. By doing this, you can establish a relationship from the book to its author. When adding a new book, you can simply set the author of the book, and Hibernate will efficiently execute a single insert statement. This method works well if you don&#39;t need to navigate from the author to their books directly.\r\n\r\n    BookEntity b = new BookEntity();\r\n        AuthorEntity a = em.getReference(AuthorEntity.class, 1L);\r\n        b.setAuthor(a);\r\n        b.setId(342L);\r\n        em.persist(b);\r\n\r\n**2. **Native SQL Queries**:**\r\n\r\nAnother option is to create a native SQL query to perform the insertion directly. It will not load the entire collection because you will just insert the entity manually without loading it first. \r\n\r\nSimilar question: [Hibernate - How to persist a new item in a Collection without loading the entire Collection][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1409523/hibernate-how-to-persist-a-new-item-in-a-collection-without-loading-the-entire","title":"How to add child record in a Unidirectional @OneToMany without retrieving previous records","body":"<p><strong>1. Change to <strong>@ManyToOne</strong> Relationship:</strong></p>\n<p>One approach is to modify the relationship from @OneToMany to @ManyToOne. By doing this, you can establish a relationship from the book to its author. When adding a new book, you can simply set the author of the book, and Hibernate will efficiently execute a single insert statement. This method works well if you don't need to navigate from the author to their books directly.</p>\n<pre><code>BookEntity b = new BookEntity();\n    AuthorEntity a = em.getReference(AuthorEntity.class, 1L);\n    b.setAuthor(a);\n    b.setId(342L);\n    em.persist(b);\n</code></pre>\n<p><strong>2. <strong>Native SQL Queries</strong>:</strong></p>\n<p>Another option is to create a native SQL query to perform the insertion directly. It will not load the entire collection because you will just insert the entity manually without loading it first.</p>\n<p>Similar question: <a href=\"https://stackoverflow.com/questions/1409523/hibernate-how-to-persist-a-new-item-in-a-collection-without-loading-the-entire\">Hibernate - How to persist a new item in a Collection without loading the entire Collection</a></p>\n"}],"owner":{"account_id":24305602,"reputation":53,"user_id":18248397,"display_name":"YasudaYutaka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76936720,"answer_count":1,"score":0,"last_activity_date":1692473126,"creation_date":1692370652,"question_id":76930463,"body_markdown":"I&#39;m dealing with a unidirectional @OneToMany association that utilizes the &quot;author_book&quot; table as an intermediate table. However, when attempting to add a new Book to an Author in order to generate a new entry in the &quot;author_book&quot; table, I&#39;m having to first retrieve all previous Books. This process becomes time-consuming, especially when an author has a substantial number of books. In my case, I cannot use a bidirectional @OneToMany association. Is there a more efficient way to accomplish this using a unidirectional approach?\r\n\r\nAuthor Entity:\r\n\r\n    @Entity\r\n    public class AuthorEntity {\r\n       @Id\r\n       private long id;\r\n\r\n       @OneToMany\r\n       @JoinTable(name = &quot;author_book&quot;, joinColumns = @JoinColumn(name = &quot;id_author&quot;),\r\n                  inverseJoinColumns = @JoinColumn(name = &quot;id_book&quot;))\r\n       private Set&lt;BookEntity&gt; books;\r\n    }\r\n\r\nAnd Book Entity:\r\n\r\n    @Entity\r\n    public class BookEntity {\r\n       @Id\r\n       private long id;\r\n    }\r\n\r\nAdding new Book\r\n\r\n    public void addBook(BookEntity book) {\r\n        AuthorEntity author = authorRepository.findById(authorId);\r\n        author.getBooks().add(book);\r\n        entityManager.merge(author);\r\n    }","title":"How to add child record in a Unidirectional @OneToMany without retrieving previous records","body":"<p>I'm dealing with a unidirectional @OneToMany association that utilizes the &quot;author_book&quot; table as an intermediate table. However, when attempting to add a new Book to an Author in order to generate a new entry in the &quot;author_book&quot; table, I'm having to first retrieve all previous Books. This process becomes time-consuming, especially when an author has a substantial number of books. In my case, I cannot use a bidirectional @OneToMany association. Is there a more efficient way to accomplish this using a unidirectional approach?</p>\n<p>Author Entity:</p>\n<pre><code>@Entity\npublic class AuthorEntity {\n   @Id\n   private long id;\n\n   @OneToMany\n   @JoinTable(name = &quot;author_book&quot;, joinColumns = @JoinColumn(name = &quot;id_author&quot;),\n              inverseJoinColumns = @JoinColumn(name = &quot;id_book&quot;))\n   private Set&lt;BookEntity&gt; books;\n}\n</code></pre>\n<p>And Book Entity:</p>\n<pre><code>@Entity\npublic class BookEntity {\n   @Id\n   private long id;\n}\n</code></pre>\n<p>Adding new Book</p>\n<pre><code>public void addBook(BookEntity book) {\n    AuthorEntity author = authorRepository.findById(authorId);\n    author.getBooks().add(book);\n    entityManager.merge(author);\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1692274851,"post_id":76921199,"comment_id":135602726,"body_markdown":"Related: [JPA EntityManager: Why use persist() over merge()?](https://stackoverflow.com/q/1069992) Though what you should actually take from that is that using `merge()` instead of `persist()` will probably do what you want.","body":"Related: <a href=\"https://stackoverflow.com/q/1069992\">JPA EntityManager: Why use persist() over merge()?</a> Though what you should actually take from that is that using <code>merge()</code> instead of <code>persist()</code> will probably do what you want."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1692288922,"post_id":76921199,"comment_id":135606108,"body_markdown":"How are you putting 2 players in it exactly? If they aren&#39;t read from the database, I&#39;d hope you are setting the ID and not just their name - you defined the UUID id as uniquely identifying gamer instances, so that is all that JPA will use to determine if it is an existing instance or a new one. If you are only using the gamer name, you&#39;ll have to search the DB to get the existing instance (if it exists) and use that in your game instance.","body":"How are you putting 2 players in it exactly? If they aren&#39;t read from the database, I&#39;d hope you are setting the ID and not just their name - you defined the UUID id as uniquely identifying gamer instances, so that is all that JPA will use to determine if it is an existing instance or a new one. If you are only using the gamer name, you&#39;ll have to search the DB to get the existing instance (if it exists) and use that in your game instance."},{"owner":{"account_id":26572284,"reputation":1,"user_id":20198322,"display_name":"dKopyshov"},"score":0,"creation_date":1692473172,"post_id":76921199,"comment_id":135629089,"body_markdown":"I updated my post, u can see that","body":"I updated my post, u can see that"}],"owner":{"account_id":26572284,"reputation":1,"user_id":20198322,"display_name":"dKopyshov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692473067,"creation_date":1692272683,"question_id":76921199,"body_markdown":"I use Jakarta EE, Hibernate 6.\r\n\r\nThere are two models:\r\n1. Gamer\r\n```\r\n@Entity\r\n@Table(name = &quot;GAMER&quot;)\r\npublic class Gamer {\r\n    @Id\r\n    @Column(name =&quot;GAMER_ID&quot;, columnDefiniton = &quot;BINARY(16)&quot;)\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;NAME&quot;, nullable = false, unique = true)\r\n    private String name;\r\n\r\n    public Gamer() {}\r\n\r\n    public void generateID() {\r\n        id = UUID.randomUUID();\r\n    }\r\n\r\n    //getters and setters\r\n}\r\n```\r\n\r\n2. Game\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;GAME&quot;)\r\npublic class Game {\r\n    @Id\r\n    @Column(name = &quot;GAME_ID&quot;, columnDefinition = &quot;BINARY(16)&quot;)\r\n    private UUID id;\r\n\r\n    @OneToOne(cascade = {CascadeType.PERSIST, CascadeType.MERGE})\r\n    private Gamer gamerOne;\r\n\r\n    @OneToOne(cascade = {CascadeType.PERSIST, CascadeType.MERGE})\r\n    private Gamer gamerTwo;\r\n\r\n    @OneToOne\r\n    private Gamer winner;\r\n\r\n    public Game() {}\r\n\r\n    //getters and setters\r\n}\r\n```\r\n\r\nI create a game, I put 2 players in it, the game is not stored immediately in the database (H2Database). Only at the end of the game you need to save the game to the database. If the players in the game fields store those that are not in the database, then the saving is successful. If I try to save a game with players that are already exist in the database (by the name of the player - each is unique), then an exception is thrown (a unique value). Is it possible to use cascading tables to save players in the database if they are not in the database and return a player with his id from the database if he exists? Is this possible without using Spring?\r\n\r\nI put players like this:\r\n\r\n   \r\n    Gamer one = new Gamer();\r\n    one.generateId();\r\n    one.setName(&quot;Jon&quot;);\r\n\r\n    Gamer two = new Gamer();\r\n    two.generateId();\r\n    two.setName(&quot;Bob&quot;);\r\n\r\n    Game game = new Game();\r\n    game.setGamerOne(one);\r\n    game.setGamerTwo(two);\r\n    game.setWinner(one);\r\n\r\n    session.persist(game);\r\n    //or\r\n    session.merge(game);\r\n    //or\r\n    session.save(game);\r\n    //or\r\n    session.saveOrUpdate(game);\r\n```","title":"JPA, Hibernate, CascadeTables - saving an entity to a database table","body":"<p>I use Jakarta EE, Hibernate 6.</p>\n<p>There are two models:</p>\n<ol>\n<li>Gamer</li>\n</ol>\n<pre><code>@Entity\n@Table(name = &quot;GAMER&quot;)\npublic class Gamer {\n    @Id\n    @Column(name =&quot;GAMER_ID&quot;, columnDefiniton = &quot;BINARY(16)&quot;)\n    private UUID id;\n\n    @Column(name = &quot;NAME&quot;, nullable = false, unique = true)\n    private String name;\n\n    public Gamer() {}\n\n    public void generateID() {\n        id = UUID.randomUUID();\n    }\n\n    //getters and setters\n}\n</code></pre>\n<ol start=\"2\">\n<li>Game</li>\n</ol>\n<pre><code>@Entity\n@Table(name = &quot;GAME&quot;)\npublic class Game {\n    @Id\n    @Column(name = &quot;GAME_ID&quot;, columnDefinition = &quot;BINARY(16)&quot;)\n    private UUID id;\n\n    @OneToOne(cascade = {CascadeType.PERSIST, CascadeType.MERGE})\n    private Gamer gamerOne;\n\n    @OneToOne(cascade = {CascadeType.PERSIST, CascadeType.MERGE})\n    private Gamer gamerTwo;\n\n    @OneToOne\n    private Gamer winner;\n\n    public Game() {}\n\n    //getters and setters\n}\n</code></pre>\n<p>I create a game, I put 2 players in it, the game is not stored immediately in the database (H2Database). Only at the end of the game you need to save the game to the database. If the players in the game fields store those that are not in the database, then the saving is successful. If I try to save a game with players that are already exist in the database (by the name of the player - each is unique), then an exception is thrown (a unique value). Is it possible to use cascading tables to save players in the database if they are not in the database and return a player with his id from the database if he exists? Is this possible without using Spring?</p>\n<p>I put players like this:</p>\n<pre><code>Gamer one = new Gamer();\none.generateId();\none.setName(&quot;Jon&quot;);\n\nGamer two = new Gamer();\ntwo.generateId();\ntwo.setName(&quot;Bob&quot;);\n\nGame game = new Game();\ngame.setGamerOne(one);\ngame.setGamerTwo(two);\ngame.setWinner(one);\n\nsession.persist(game);\n//or\nsession.merge(game);\n//or\nsession.save(game);\n//or\nsession.saveOrUpdate(game);\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692472919,"creation_date":1692472919,"question_id":76936708,"body_markdown":"I am using spring boot JPA specification for applying different filters. I have a table structure like below,\r\n\r\n    Parent Table:\r\n\r\n    | parent_id | parent_name |\r\n    | --------- | ----------- |\r\n    | 11        | parent      |\r\n\r\n    Child1 Table:\r\n\r\n    | child1_id | child1_name | child1_parent_id | child1_another_parent_id |\r\n    | --------  | ----------  | ---------------- | ------------------------ |\r\n    | 22        | child1_1    | 11               | 777                      |\r\n    | 33        | child1_2    | 11               | 888                      |   \r\n    \r\n    Child2 Table:\r\n\r\n    | child2_id | child2_name | child2_parent_id | child2_another_parent_id |\r\n    | --------  | ----------  | ---------------  | ------------------------ |\r\n    | 44        | child2_1    | 11               | 777                      |\r\n    | 55        | child2_2    | 11               | 888                      | \r\n\r\n\r\nNow, if I pass the filter criteria as parent_id = 11 and another_parent_id=777, I should get 2 records. I have formed query like below.\r\n\r\nQuery -\r\n\r\n    select * from parent \r\n    left outer join child1 on child1_parent_id = parent_id \r\n    left outer join child2 on child2_parent_id = parent_id \r\n    where parent_id=11 and\r\n    (child1_another_col_id=777) or (child2_another_col_id=77)\r\n\r\nResult -\r\n\r\n     | parent_id | parent_name | child1_id | child1_name | child1_parent_id | child1_another_parent_id | child2_id | child2_name | child2_parent_id | child2_another_col_id |\r\n        11       | parent      | 22        | child1_1    | 11               | 777                 | NULL                   | NULL        | NULL      | NULL\r\n\r\n        11       | parent      | NULL      | NULL        | NULL             | NULL                | 44        | child2_1    | 11        | 777\r\n\r\nNow if I convert the same to specification,\r\n\r\n  \r\n\r\n    Parent Repository-\r\n              final var predicates = new ArrayList&lt;&gt;();\r\n              Join&lt;Parent, Child1&gt; joinChild1 = root.join(&quot;child1List&quot;, JoinType.LEFT);\r\n              Join&lt;Child1, AnotherParent&gt; joinAnotherParent1 = joinChild1 .join(&quot;anotherParent&quot;, JoinType.LEFT);\r\n        \r\n              Join&lt;Parent, Child2&gt; joinChild2 = root.join(&quot;child2List&quot;, JoinType.LEFT);\r\n              Join&lt;Child1, AnotherParent&gt; joinAnotherParent2 = joinChild2 .join(&quot;anotherParent&quot;, JoinType.LEFT);\r\n    \r\n              predicates.add(criteriaBuilder.and(criteriaBuilder.equal(joinAnotherParent1 .get(&quot;id&quot;), 777));   \r\n              predicates.add(criteriaBuilder.and(criteriaBuilder.equal(joinAnotherParent2 .get(&quot;id&quot;), 777));\r\n     \r\n              criteriaBuilder.or(predicates.toArray(Predicate[]::new));\r\n              criteriaBuilder.and(criteriaBuilder.equal(root.get(&quot;parentId&quot;, 11)));\r\n\r\nWith above code I get right query getting formed and also I get the Parent record which is of Id 11. But when I traverse to child1 (parent.getChild1()) and child2 (parent.getChild2()), I get both the records of child1 and child2 each. Where I am expecting only 1 record each child based on another_col_id=777.\r\n\r\nShould I need to create separate repositories for child1 and child2 and add the specification individually ? In that case it will hit DB twice with create 2 queries, one for child1 and once for child2. What is the right approach ? Thanks in advance.\r\n","title":"Spring boot jpa specification for one to many relationship","body":"<p>I am using spring boot JPA specification for applying different filters. I have a table structure like below,</p>\n<pre><code>Parent Table:\n\n| parent_id | parent_name |\n| --------- | ----------- |\n| 11        | parent      |\n\nChild1 Table:\n\n| child1_id | child1_name | child1_parent_id | child1_another_parent_id |\n| --------  | ----------  | ---------------- | ------------------------ |\n| 22        | child1_1    | 11               | 777                      |\n| 33        | child1_2    | 11               | 888                      |   \n\nChild2 Table:\n\n| child2_id | child2_name | child2_parent_id | child2_another_parent_id |\n| --------  | ----------  | ---------------  | ------------------------ |\n| 44        | child2_1    | 11               | 777                      |\n| 55        | child2_2    | 11               | 888                      | \n</code></pre>\n<p>Now, if I pass the filter criteria as parent_id = 11 and another_parent_id=777, I should get 2 records. I have formed query like below.</p>\n<p>Query -</p>\n<pre><code>select * from parent \nleft outer join child1 on child1_parent_id = parent_id \nleft outer join child2 on child2_parent_id = parent_id \nwhere parent_id=11 and\n(child1_another_col_id=777) or (child2_another_col_id=77)\n</code></pre>\n<p>Result -</p>\n<pre><code> | parent_id | parent_name | child1_id | child1_name | child1_parent_id | child1_another_parent_id | child2_id | child2_name | child2_parent_id | child2_another_col_id |\n    11       | parent      | 22        | child1_1    | 11               | 777                 | NULL                   | NULL        | NULL      | NULL\n\n    11       | parent      | NULL      | NULL        | NULL             | NULL                | 44        | child2_1    | 11        | 777\n</code></pre>\n<p>Now if I convert the same to specification,</p>\n<pre><code>Parent Repository-\n          final var predicates = new ArrayList&lt;&gt;();\n          Join&lt;Parent, Child1&gt; joinChild1 = root.join(&quot;child1List&quot;, JoinType.LEFT);\n          Join&lt;Child1, AnotherParent&gt; joinAnotherParent1 = joinChild1 .join(&quot;anotherParent&quot;, JoinType.LEFT);\n    \n          Join&lt;Parent, Child2&gt; joinChild2 = root.join(&quot;child2List&quot;, JoinType.LEFT);\n          Join&lt;Child1, AnotherParent&gt; joinAnotherParent2 = joinChild2 .join(&quot;anotherParent&quot;, JoinType.LEFT);\n\n          predicates.add(criteriaBuilder.and(criteriaBuilder.equal(joinAnotherParent1 .get(&quot;id&quot;), 777));   \n          predicates.add(criteriaBuilder.and(criteriaBuilder.equal(joinAnotherParent2 .get(&quot;id&quot;), 777));\n \n          criteriaBuilder.or(predicates.toArray(Predicate[]::new));\n          criteriaBuilder.and(criteriaBuilder.equal(root.get(&quot;parentId&quot;, 11)));\n</code></pre>\n<p>With above code I get right query getting formed and also I get the Parent record which is of Id 11. But when I traverse to child1 (parent.getChild1()) and child2 (parent.getChild2()), I get both the records of child1 and child2 each. Where I am expecting only 1 record each child based on another_col_id=777.</p>\n<p>Should I need to create separate repositories for child1 and child2 and add the specification individually ? In that case it will hit DB twice with create 2 queries, one for child1 and once for child2. What is the right approach ? Thanks in advance.</p>\n"},{"tags":["java","character-encoding","converters"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1675155608,"post_id":229015,"comment_id":132862525,"body_markdown":"Related: [*Save cyrillic while change String encoding from UTF-8 to windows-1251 in Java*](https://stackoverflow.com/q/75293780/642706)","body":"Related: <a href=\"https://stackoverflow.com/q/75293780/642706\"><i>Save cyrillic while change String encoding from UTF-8 to windows-1251 in Java</i></a>"}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301824,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1692472199,"creation_date":1224752241,"answer_id":229022,"question_id":229015,"body_markdown":"[`CharsetDecoder`][1] should be what you are looking for, no ?\r\n\r\nMany network protocols and files store their characters with a byte-oriented character set such as `ISO-8859-1` (`ISO-Latin-1`).  \r\nHowever, Java&#39;s native character encoding is [&lt;del&gt;Unicode&lt;/del&gt;][2] UTF16BE (Sixteen-bit UCS Transformation Format, big-endian byte order).\r\n\r\nSee [`Charset`][3]. That doesn&#39;t mean `UTF16` is the default charset (i.e.: the default &quot;mapping between sequences of sixteen-bit **[Unicode code units][4]** and sequences of bytes&quot;):\r\n\r\n&gt; Every instance of the Java virtual machine has a default charset, which may or may not be one of the standard charsets.  \r\n\\[`US-ASCII`, `ISO-8859-1` a.k.a. `ISO-LATIN-1`, `UTF-8`, `UTF-16BE`, `UTF-16LE`, `UTF-16`\\]  \r\nThe default charset is determined during virtual-machine startup and typically depends upon the locale and charset being used by the underlying operating system.\r\n\r\nThis example demonstrates how to convert `ISO-8859-1` encoded bytes in a `ByteBuffer` to a string in a `CharBuffer` and visa versa.\r\n\r\n    // Create the encoder and decoder for ISO-8859-1\r\n    Charset charset = Charset.forName(&quot;ISO-8859-1&quot;);\r\n    CharsetDecoder decoder = charset.newDecoder();\r\n    CharsetEncoder encoder = charset.newEncoder();\r\n    \r\n    try {\r\n        // Convert a string to ISO-LATIN-1 bytes in a ByteBuffer\r\n        // The new ByteBuffer is ready to be read.\r\n        ByteBuffer bbuf = encoder.encode(CharBuffer.wrap(&quot;a string&quot;));\r\n    \r\n        // Convert ISO-LATIN-1 bytes in a ByteBuffer to a character ByteBuffer and then to a string.\r\n        // The new ByteBuffer is ready to be read.\r\n        CharBuffer cbuf = decoder.decode(bbuf);\r\n        String s = cbuf.toString();\r\n    } catch (CharacterCodingException e) {\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/charset/CharsetDecoder.html\r\n  [2]: http://www.joelonsoftware.com/articles/Unicode.html\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/charset/Charset.html\r\n  [4]: http://download-llnw.oracle.com/javase/6/docs/api/java/lang/Character.html#unicode","title":"Encoding conversion in java","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/charset/CharsetDecoder.html\" rel=\"nofollow noreferrer\"><code>CharsetDecoder</code></a> should be what you are looking for, no ?</p>\n<p>Many network protocols and files store their characters with a byte-oriented character set such as <code>ISO-8859-1</code> (<code>ISO-Latin-1</code>).<br />\nHowever, Java's native character encoding is <a href=\"http://www.joelonsoftware.com/articles/Unicode.html\" rel=\"nofollow noreferrer\"><del>Unicode</del></a> UTF16BE (Sixteen-bit UCS Transformation Format, big-endian byte order).</p>\n<p>See <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/charset/Charset.html\" rel=\"nofollow noreferrer\"><code>Charset</code></a>. That doesn't mean <code>UTF16</code> is the default charset (i.e.: the default &quot;mapping between sequences of sixteen-bit <strong><a href=\"http://download-llnw.oracle.com/javase/6/docs/api/java/lang/Character.html#unicode\" rel=\"nofollow noreferrer\">Unicode code units</a></strong> and sequences of bytes&quot;):</p>\n<blockquote>\n<p>Every instance of the Java virtual machine has a default charset, which may or may not be one of the standard charsets.<br />\n[<code>US-ASCII</code>, <code>ISO-8859-1</code> a.k.a. <code>ISO-LATIN-1</code>, <code>UTF-8</code>, <code>UTF-16BE</code>, <code>UTF-16LE</code>, <code>UTF-16</code>]<br />\nThe default charset is determined during virtual-machine startup and typically depends upon the locale and charset being used by the underlying operating system.</p>\n</blockquote>\n<p>This example demonstrates how to convert <code>ISO-8859-1</code> encoded bytes in a <code>ByteBuffer</code> to a string in a <code>CharBuffer</code> and visa versa.</p>\n<pre><code>// Create the encoder and decoder for ISO-8859-1\nCharset charset = Charset.forName(&quot;ISO-8859-1&quot;);\nCharsetDecoder decoder = charset.newDecoder();\nCharsetEncoder encoder = charset.newEncoder();\n\ntry {\n    // Convert a string to ISO-LATIN-1 bytes in a ByteBuffer\n    // The new ByteBuffer is ready to be read.\n    ByteBuffer bbuf = encoder.encode(CharBuffer.wrap(&quot;a string&quot;));\n\n    // Convert ISO-LATIN-1 bytes in a ByteBuffer to a character ByteBuffer and then to a string.\n    // The new ByteBuffer is ready to be read.\n    CharBuffer cbuf = decoder.decode(bbuf);\n    String s = cbuf.toString();\n} catch (CharacterCodingException e) {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":47,"is_accepted":true,"score":47,"last_activity_date":1548853091,"creation_date":1224752261,"answer_id":229023,"question_id":229015,"body_markdown":"You don&#39;t need a library beyond the standard one - just use [Charset][1]. (You can just use the String constructors and getBytes methods, but personally I don&#39;t like just working with the names of character encodings. Too much room for typos.)\r\n\r\nEDIT: As pointed out in comments, you can still use Charset instances but have the ease of use of the String methods: [new String(bytes, charset)][2] and [String.getBytes(charset)][3].\r\n\r\nSee &quot;[URL Encoding (or: &#39;What are those &quot;`%20`&quot; codes in URLs?&#39;)][4]&quot;.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/java/nio/charset/Charset.html\r\n  [2]: https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#String%28byte%5B%5D%2C%20java.nio.charset.Charset%29\r\n  [3]: https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#getBytes%28java.nio.charset.Charset%29\r\n  [4]: http://www.blooberry.com/indexdot/html/topics/urlencoding.htm","title":"Encoding conversion in java","body":"<p>You don't need a library beyond the standard one - just use <a href=\"https://docs.oracle.com/javase/6/docs/api/java/nio/charset/Charset.html\" rel=\"noreferrer\">Charset</a>. (You can just use the String constructors and getBytes methods, but personally I don't like just working with the names of character encodings. Too much room for typos.)</p>\n\n<p>EDIT: As pointed out in comments, you can still use Charset instances but have the ease of use of the String methods: <a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#String%28byte%5B%5D%2C%20java.nio.charset.Charset%29\" rel=\"noreferrer\">new String(bytes, charset)</a> and <a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#getBytes%28java.nio.charset.Charset%29\" rel=\"noreferrer\">String.getBytes(charset)</a>.</p>\n\n<p>See \"<a href=\"http://www.blooberry.com/indexdot/html/topics/urlencoding.htm\" rel=\"noreferrer\">URL Encoding (or: 'What are those \"<code>%20</code>\" codes in URLs?')</a>\".</p>\n"},{"tags":[],"owner":{"display_name":"Anon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1251567275,"creation_date":1251567275,"answer_id":1351953,"question_id":229015,"body_markdown":"It is a whole lot easier if you think of unicode as a character set (which it actually is - it is very basically the numbered set of all known characters). You can encode it as UTF-8 (1-3 bytes per character depending) or maybe UTF-16 (2 bytes per character or 4 bytes using surrogate pairs).\r\n\r\nBack in the mist of time Java used to use UCS-2 to encode the unicode character set. This could only handle 2 bytes per character and is now obsolete. It was a fairly obvious hack to add surrogate pairs and move up to UTF-16.\r\n\r\nA lot of people think they should have used UTF-8 in the first place. When Java was originally written unicode had far more than 65535 characters anyway...","title":"Encoding conversion in java","body":"<p>It is a whole lot easier if you think of unicode as a character set (which it actually is - it is very basically the numbered set of all known characters). You can encode it as UTF-8 (1-3 bytes per character depending) or maybe UTF-16 (2 bytes per character or 4 bytes using surrogate pairs).</p>\n\n<p>Back in the mist of time Java used to use UCS-2 to encode the unicode character set. This could only handle 2 bytes per character and is now obsolete. It was a fairly obvious hack to add surrogate pairs and move up to UTF-16.</p>\n\n<p>A lot of people think they should have used UTF-8 in the first place. When Java was originally written unicode had far more than 65535 characters anyway...</p>\n"},{"tags":[],"owner":{"account_id":5985007,"reputation":37,"user_id":4702806,"display_name":"wallabui"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1441189907,"creation_date":1441189907,"answer_id":32350781,"question_id":229015,"body_markdown":"I would just like to add that if the String is originally encoded using the wrong encoding it might be impossible to change it to another encoding without errors.\r\nThe question does not state that the conversion here is made from wrong encoding to correct encoding but I personally stumbled to this question just because of this situation so just a heads up for others as well.\r\n\r\nThis answer in other question gives an explanation why the conversion does not always yield correct results\r\nhttps://stackoverflow.com/a/2623793/4702806","title":"Encoding conversion in java","body":"<p>I would just like to add that if the String is originally encoded using the wrong encoding it might be impossible to change it to another encoding without errors.\nThe question does not state that the conversion here is made from wrong encoding to correct encoding but I personally stumbled to this question just because of this situation so just a heads up for others as well.</p>\n\n<p>This answer in other question gives an explanation why the conversion does not always yield correct results\n<a href=\"https://stackoverflow.com/a/2623793/4702806\">https://stackoverflow.com/a/2623793/4702806</a></p>\n"}],"owner":{"account_id":8731,"reputation":1639,"user_id":15878,"accept_rate":62,"display_name":"tropikalista"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121598,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":229023,"answer_count":4,"score":33,"last_activity_date":1692472199,"creation_date":1224752095,"question_id":229015,"body_markdown":"Is there any free java library which I can use to convert string in one encoding to other encoding, something like [`iconv`](https://en.wikipedia.org/wiki/Iconv)? I&#39;m using Java version 1.3.","title":"Encoding conversion in java","body":"<p>Is there any free java library which I can use to convert string in one encoding to other encoding, something like <a href=\"https://en.wikipedia.org/wiki/Iconv\" rel=\"nofollow noreferrer\"><code>iconv</code></a>? I'm using Java version 1.3.</p>\n"},{"tags":["java","swing","jframe","jpanel","jscrollpane"],"answers":[{"tags":[],"owner":{"account_id":2035724,"reputation":1280,"user_id":1818122,"accept_rate":27,"display_name":"The_Cute_Hedgehog"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1577173212,"creation_date":1577173212,"answer_id":59465468,"question_id":59465168,"body_markdown":"If you read the official tutorial about the scroll panes on https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html, they note about the policies:\r\n\r\n&gt; VERTICAL_SCROLLBAR_ALWAYS \r\n&gt;\r\n&gt; HORIZONTAL_SCROLLBAR_ALWAYS\t\r\n&gt; \r\n&gt; Always display the scroll bar. The knob disappears if the viewport is\r\n&gt; large enough to show the whole client.\r\n","title":"JScrollPane not working with JPanel and JFrame","body":"<p>If you read the official tutorial about the scroll panes on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html</a>, they note about the policies:</p>\n\n<blockquote>\n  <p>VERTICAL_SCROLLBAR_ALWAYS </p>\n  \n  <p>HORIZONTAL_SCROLLBAR_ALWAYS   </p>\n  \n  <p>Always display the scroll bar. The knob disappears if the viewport is\n  large enough to show the whole client.</p>\n</blockquote>\n"}],"owner":{"account_id":17355888,"reputation":5,"user_id":12573285,"display_name":"Dory"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59465468,"answer_count":1,"score":0,"last_activity_date":1692471808,"creation_date":1577171636,"question_id":59465168,"body_markdown":"For my code, I did something like:\r\n```   \r\nJframe frame = new JFrame();\r\nJPanel panel = new JPanel();\r\n\r\nJButton button = new JButton();\r\n// after locating and resizing buttons...\r\npanel.add(button);\r\n\r\n// and after many codes about buttons and labels...\r\n\r\nframe.add(panel);\r\n\r\nJScrollPane scroll = new JScrollPane(panel);\r\nscroll.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\r\nframe.add(scroll);\r\n```\r\nAs far as I know, this should be correct, but I can&#39;t scroll. **The gray bar inside the scroll bar is missing.**\r\n\r\n\r\nHere is image for better idea of what&#39;s happening to my code.\r\n\r\n![][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/db6bB.png","title":"JScrollPane not working with JPanel and JFrame","body":"<p>For my code, I did something like:</p>\n<pre><code>Jframe frame = new JFrame();\nJPanel panel = new JPanel();\n\nJButton button = new JButton();\n// after locating and resizing buttons...\npanel.add(button);\n\n// and after many codes about buttons and labels...\n\nframe.add(panel);\n\nJScrollPane scroll = new JScrollPane(panel);\nscroll.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\nframe.add(scroll);\n</code></pre>\n<p>As far as I know, this should be correct, but I can't scroll. <strong>The gray bar inside the scroll bar is missing.</strong></p>\n<p>Here is image for better idea of what's happening to my code.</p>\n<p><img src=\"https://i.stack.imgur.com/db6bB.png\" alt=\"\" /></p>\n"},{"tags":["java","windows","eclipse","build"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1692478327,"post_id":76936648,"comment_id":135629557,"body_markdown":"This is far too broad for a Stack Overflow question. The github projects appear to be a set of Eclipse plug-ins [tag:eclipse-plugin] and the release downloads are Eclipse RCPs [tag:eclipse-rcp]. If you are not familiar with these it will be a lot of work to get this going.","body":"This is far too broad for a Stack Overflow question. The github projects appear to be a set of Eclipse plug-ins <a href=\"https://stackoverflow.com/questions/tagged/eclipse-plugin\">eclipse-plugin</a> and the release downloads are Eclipse RCPs <a href=\"https://stackoverflow.com/questions/tagged/eclipse-rcp\">eclipse-rcp</a>. If you are not familiar with these it will be a lot of work to get this going."},{"owner":{"account_id":7991544,"reputation":123,"user_id":8096926,"display_name":"Koenich"},"score":0,"creation_date":1692478630,"post_id":76936648,"comment_id":135629585,"body_markdown":"@greg-449\nI already feared that, a real shame, the lack of support from the author of the code. Thanks for your time.","body":"@greg-449 I already feared that, a real shame, the lack of support from the author of the code. Thanks for your time."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1692515659,"post_id":76936648,"comment_id":135631985,"body_markdown":"Note that the &quot;Releases&quot; section of the site does contain complete executables which will probably run without needing to build the project.","body":"Note that the &quot;Releases&quot; section of the site does contain complete executables which will probably run without needing to build the project."},{"owner":{"account_id":7991544,"reputation":123,"user_id":8096926,"display_name":"Koenich"},"score":0,"creation_date":1692549742,"post_id":76936648,"comment_id":135635573,"body_markdown":"@greg-449 The problem is that the author seems to have abandoned the project. He changed the domain for his websites but he didn&#39;t change the websites within the program code. First the program was a demo that could have been unlocked with a serial that I have. After some time the author made the program freeware so that any serial could have been entered to unlock. Now that the domain has changed the program can&#39;t be unlocked at all, saying that there is no connection.\n\nSo my plan was to rewrite the code. But since I can&#39;t even build it, I won&#39;t put much more time into that...","body":"@greg-449 The problem is that the author seems to have abandoned the project. He changed the domain for his websites but he didn&#39;t change the websites within the program code. First the program was a demo that could have been unlocked with a serial that I have. After some time the author made the program freeware so that any serial could have been entered to unlock. Now that the domain has changed the program can&#39;t be unlocked at all, saying that there is no connection.  So my plan was to rewrite the code. But since I can&#39;t even build it, I won&#39;t put much more time into that..."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1692567646,"post_id":76936648,"comment_id":135637374,"body_markdown":"The project does not contain a build script; [`com.plucknplay.csg.build`](https://github.com/plucknplay/chordscalegenerator/tree/main/com.plucknplay.csg.build) looks like some post-processing. A Maven/Tycho build is missing (see [example](https://github.com/vogellacompany/tycho-example) and [tutorial](https://www.vogella.com/tutorials/EclipseTycho/article.html)). In Eclipse you should be able to open the [product file](https://github.com/plucknplay/chordscalegenerator/blob/main/com.plucknplay.csg.ui/csg.product) and use the _Eclipse Product export wizard_ to build it. Same for `site.xml`.","body":"The project does not contain a build script; <a href=\"https://github.com/plucknplay/chordscalegenerator/tree/main/com.plucknplay.csg.build\" rel=\"nofollow noreferrer\"><code>com.plucknplay.csg.build</code></a> looks like some post-processing. A Maven/Tycho build is missing (see <a href=\"https://github.com/vogellacompany/tycho-example\" rel=\"nofollow noreferrer\">example</a> and <a href=\"https://www.vogella.com/tutorials/EclipseTycho/article.html\" rel=\"nofollow noreferrer\">tutorial</a>). In Eclipse you should be able to open the <a href=\"https://github.com/plucknplay/chordscalegenerator/blob/main/com.plucknplay.csg.ui/csg.product\" rel=\"nofollow noreferrer\">product file</a> and use the <i>Eclipse Product export wizard</i> to build it. Same for <code>site.xml</code>."},{"owner":{"account_id":7991544,"reputation":123,"user_id":8096926,"display_name":"Koenich"},"score":0,"creation_date":1692809918,"post_id":76936648,"comment_id":135675914,"body_markdown":"@howlger That sounds promising. Thank you very much.\n\nWhat is your general assessment, if I may ask, Is there a serious chance to remove the &quot;nag screen&quot; so that the product starts in full mode or is this rather incomplete and useless part of a product?\n\nI love the core of the app, and would even like to add features and even create a fork for everybody. It has the potential to become one of the most useful tools for musicians. And I&#39;d give my time to learn it.\n\nThe only question left for me is, is it worth or a waste of time?\n\nThanks in advance!","body":"@howlger That sounds promising. Thank you very much.  What is your general assessment, if I may ask, Is there a serious chance to remove the &quot;nag screen&quot; so that the product starts in full mode or is this rather incomplete and useless part of a product?  I love the core of the app, and would even like to add features and even create a fork for everybody. It has the potential to become one of the most useful tools for musicians. And I&#39;d give my time to learn it.  The only question left for me is, is it worth or a waste of time?  Thanks in advance!"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1692825598,"post_id":76936648,"comment_id":135678536,"body_markdown":"The code looks well structured, at least at first glance. It might take some time, but it sounds like a great idea to me. I guess the &quot;nag screen&quot; is in [`com.plucknplay.csg.ui/src/com/plucknplay/csg/ui/activation/`](https://github.com/plucknplay/chordscalegenerator/tree/main/com.plucknplay.csg.ui/src/com/plucknplay/csg/ui/activation). If you have questions, use the tags `eclipse-plugin` or `eclipse-rcp` and for building `tycho`. Good luck and happy coding!","body":"The code looks well structured, at least at first glance. It might take some time, but it sounds like a great idea to me. I guess the &quot;nag screen&quot; is in <a href=\"https://github.com/plucknplay/chordscalegenerator/tree/main/com.plucknplay.csg.ui/src/com/plucknplay/csg/ui/activation\" rel=\"nofollow noreferrer\"><code>com.plucknplay.csg.ui&#47;src&#47;com&#47;plucknplay&#47;csg&#47;ui&#47;activation&#47;</code></a>. If you have questions, use the tags <code>eclipse-plugin</code> or <code>eclipse-rcp</code> and for building <code>tycho</code>. Good luck and happy coding!"}],"owner":{"account_id":7991544,"reputation":123,"user_id":8096926,"display_name":"Koenich"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692471635,"creation_date":1692471635,"question_id":76936648,"body_markdown":"I was trying to build the following GitHub repository on Windows 10 x64:\r\n&lt;https://github.com/plucknplay/chordscalegenerator&gt;\r\n\r\nI have little knowledge in JAVA, but I found out that Eclipse 2023-06 and JDK 20 are needed, which I downloaded. I also added JAVA to system paths and confirmed it works. In Eclipse I added and activated jdk 20 as Installed JRE.\r\n\r\nNow when I download the ZIP from the repository mentioned above and import it into Eclipse as Existing Projects into Workspace then 12k+ Errors and 60 Warnings appear.\r\n\r\nFrom there I don&#39;t know how to continue or whether the code is buildable at all. ChatGPT 3.5 is no help as it doesn&#39;t know software or websites from after late 2021.\r\n\r\nCan anybody of you point me in a direction that helps me to build the program?","title":"Having trouble to build the GitHub repository &quot;chordscalegenerator&quot; written in Java/HTML","body":"<p>I was trying to build the following GitHub repository on Windows 10 x64:\n<a href=\"https://github.com/plucknplay/chordscalegenerator\" rel=\"nofollow noreferrer\">https://github.com/plucknplay/chordscalegenerator</a></p>\n<p>I have little knowledge in JAVA, but I found out that Eclipse 2023-06 and JDK 20 are needed, which I downloaded. I also added JAVA to system paths and confirmed it works. In Eclipse I added and activated jdk 20 as Installed JRE.</p>\n<p>Now when I download the ZIP from the repository mentioned above and import it into Eclipse as Existing Projects into Workspace then 12k+ Errors and 60 Warnings appear.</p>\n<p>From there I don't know how to continue or whether the code is buildable at all. ChatGPT 3.5 is no help as it doesn't know software or websites from after late 2021.</p>\n<p>Can anybody of you point me in a direction that helps me to build the program?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1692471473,"post_id":76936629,"comment_id":135628908,"body_markdown":"BigDecimal is *immutable* type. When you do `total.add(product.getPrice())` it doesn&#39;t *modify* object held by `total`, but produces new BigDecimal object which you discard.","body":"BigDecimal is <i>immutable</i> type. When you do <code>total.add(product.getPrice())</code> it doesn&#39;t <i>modify</i> object held by <code>total</code>, but produces new BigDecimal object which you discard."},{"owner":{"account_id":2078089,"reputation":9678,"user_id":1850851,"accept_rate":42,"display_name":"Christian Vincenzo Traina"},"score":1,"creation_date":1692471505,"post_id":76936629,"comment_id":135628912,"body_markdown":"I&#39;m pretty sure that `BigDecimal.add` returns a new BigDecimal and doesn&#39;t mutate the original variable. Try using `reduce` in place of `forEach`","body":"I&#39;m pretty sure that <code>BigDecimal.add</code> returns a new BigDecimal and doesn&#39;t mutate the original variable. Try using <code>reduce</code> in place of <code>forEach</code>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1692471553,"post_id":76936629,"comment_id":135628918,"body_markdown":"Related: [Adding up BigDecimals using Streams](https://stackoverflow.com/q/22635945)","body":"Related: <a href=\"https://stackoverflow.com/q/22635945\">Adding up BigDecimals using Streams</a>"},{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":0,"creation_date":1692471616,"post_id":76936629,"comment_id":135628923,"body_markdown":"thanks that&#39;s answering my question","body":"thanks that&#39;s answering my question"}],"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692471679,"answer_count":0,"score":0,"last_activity_date":1692471353,"creation_date":1692471353,"question_id":76936629,"body_markdown":"I have a methode that use an effectively final variable total intialised with 0, i&#39;m suposed to have the sum of products price but i&#39;m always getting 0, can someone tell me what i&#39;m missing \r\n\r\n        public BigDecimal getTotalAmount() {\r\n            BigDecimal total = BigDecimal.ZERO;\r\n            products.forEach(product -&gt; total.add(product.getPrice()));\r\n            return total;\r\n        }\r\n","title":"Effectively Final Variable not working in Java","body":"<p>I have a methode that use an effectively final variable total intialised with 0, i'm suposed to have the sum of products price but i'm always getting 0, can someone tell me what i'm missing</p>\n<pre><code>    public BigDecimal getTotalAmount() {\n        BigDecimal total = BigDecimal.ZERO;\n        products.forEach(product -&gt; total.add(product.getPrice()));\n        return total;\n    }\n</code></pre>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9755,"page":237,"page_size":100}
